id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-helm-infra~master~Ife1fd68b5897e1ab0d116beb92c47f19a65d399b,openstack/openstack-helm-infra,master,Ife1fd68b5897e1ab0d116beb92c47f19a65d399b,DNM: Test new method: buildCustomCert,ABANDONED,2018-05-17 15:18:23.000000000,2018-05-20 00:14:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-17 15:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c038b5de2835e6a5c53abc3959b5896b0e7e4131', 'message': 'DNM: Test new method: buildCustomCert\n\nTesting the use of new buildCustomCert from sprig 2.15.\n\nChange-Id: Ife1fd68b5897e1ab0d116beb92c47f19a65d399b\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2018-05-17 16:05:41.000000000', 'files': ['helm-toolkit/templates/manifests/_secret-tls.yaml.tpl', 'tools/images/kubeadm-aio/Dockerfile', 'roles/build-images/defaults/main.yml', 'helm-toolkit/templates/manifests/_ingress.yaml.tpl', 'helm-toolkit/templates/manifests/_service-ingress.tpl', 'roles/build-helm-packages/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff4c2b719d9c87374d8fa5ab22c2b92d17646000', 'message': 'DNM: Test new method: buildCustomCert\n\nTesting the use of new buildCustomCert from sprig 2.15.\n\nChange-Id: Ife1fd68b5897e1ab0d116beb92c47f19a65d399b\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,569145,ff4c2b719d9c87374d8fa5ab22c2b92d17646000,5,1,2,20466,,,0,"DNM: Test new method: buildCustomCert

Testing the use of new buildCustomCert from sprig 2.15.

Change-Id: Ife1fd68b5897e1ab0d116beb92c47f19a65d399b
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/45/569145/2 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_secret-tls.yaml.tpl', 'helm-toolkit/templates/manifests/_ingress.yaml.tpl', 'helm-toolkit/templates/manifests/_service-ingress.tpl']",3,c038b5de2835e6a5c53abc3959b5896b0e7e4131,custom-tls, - name: https port: 443,,46,0
openstack%2Fopenstack-ansible~master~I895f12807b3823f649369f27495c9182f01a7a14,openstack/openstack-ansible,master,I895f12807b3823f649369f27495c9182f01a7a14,Replace deprecated library function os.popen() with subprocess,MERGED,2018-05-17 13:44:17.000000000,2018-05-19 23:09:22.000000000,2018-05-19 23:09:22.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-17 13:44:17.000000000', 'files': ['doc/source/conf.py', 'deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/40771a06c077f34d4d50cd3aa5df459af1be96da', 'message': 'Replace deprecated library function os.popen() with subprocess\n\nos.popen() is deprecated since version 2.6. Resolved with use of\nsubprocess module.\n\nChange-Id: I895f12807b3823f649369f27495c9182f01a7a14\n'}]",0,569116,40771a06c077f34d4d50cd3aa5df459af1be96da,8,4,1,21486,,,0,"Replace deprecated library function os.popen() with subprocess

os.popen() is deprecated since version 2.6. Resolved with use of
subprocess module.

Change-Id: I895f12807b3823f649369f27495c9182f01a7a14
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/16/569116/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'deploy-guide/source/conf.py']",2,40771a06c077f34d4d50cd3aa5df459af1be96da,,"import subprocess git_cmd = [""git"", ""describe"", ""--abbrev=0"", ""--tags""] latest_tag = subprocess.Popen(git_cmd,stdout=subprocess.PIPE).communicate()[0].strip('\n') ", latest_tag = os.popen('git describe --abbrev=0 --tags').read().strip('\n'),6,2
openstack%2Fopenstack-ansible-galera_server~master~I694e99dd587a8b255046e560b29cd0c09c970b7a,openstack/openstack-ansible-galera_server,master,I694e99dd587a8b255046e560b29cd0c09c970b7a,Add Bionic testing,MERGED,2018-05-08 20:08:43.000000000,2018-05-19 22:59:06.000000000,2018-05-19 22:59:06.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24441}]","[{'number': 1, 'created': '2018-05-08 20:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/99e74085a0ac4e4f743e9d53f9bc5bc0a03c46e0', 'message': 'Add Bionic testing\n\nNow that bionic testing is added into the tests repos, we can\nstart testing it in the repo.\n\nDepends-On: https://review.openstack.org/#/c/566959/\nChange-Id: I694e99dd587a8b255046e560b29cd0c09c970b7a\n'}, {'number': 2, 'created': '2018-05-14 19:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/d16efb86f2c9ceef996fd1e2abafffeae1186d93', 'message': 'Add Bionic testing\n\nNow that bionic testing is added into the tests repos, we can\nstart testing it in the repo.\n\nDepends-On: https://review.openstack.org/#/c/566959/\nDepends-On: https://review.openstack.org/#/c/567029/\nDepends-On: https://review.openstack.org/#/c/567038/\nChange-Id: I694e99dd587a8b255046e560b29cd0c09c970b7a\n'}, {'number': 3, 'created': '2018-05-15 08:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/14c9cd3eda4677cbfe3df200794c74856ee8f18a', 'message': 'Add Bionic testing\n\nNow that bionic testing is added into the tests repos, we can\nstart testing it in the repo.\n\nDepends-On: https://review.openstack.org/#/c/566959/\nDepends-On: https://review.openstack.org/#/c/567029/\nDepends-On: https://review.openstack.org/#/c/567038/\nDepends-On: https://review.openstack.org/#/c/567034/\nChange-Id: I694e99dd587a8b255046e560b29cd0c09c970b7a\n'}, {'number': 4, 'created': '2018-05-15 08:09:38.000000000', 'files': ['vars/ubuntu.yml', 'zuul.d/project.yaml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/8c4ea224b98f51068cb8019b7cf5fedc9710e93d', 'message': 'Add Bionic testing\n\nNow that bionic testing is added into the tests repos, we can\nstart testing it in the repo.\n\nDepends-On: https://review.openstack.org/#/c/566959/\nDepends-On: https://review.openstack.org/#/c/567029/\nDepends-On: https://review.openstack.org/#/c/567038/\nDepends-On: https://review.openstack.org/#/c/567034/\nChange-Id: I694e99dd587a8b255046e560b29cd0c09c970b7a\n'}]",0,567030,8c4ea224b98f51068cb8019b7cf5fedc9710e93d,17,5,4,17068,,,0,"Add Bionic testing

Now that bionic testing is added into the tests repos, we can
start testing it in the repo.

Depends-On: https://review.openstack.org/#/c/566959/
Depends-On: https://review.openstack.org/#/c/567029/
Depends-On: https://review.openstack.org/#/c/567038/
Depends-On: https://review.openstack.org/#/c/567034/
Change-Id: I694e99dd587a8b255046e560b29cd0c09c970b7a
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/30/567030/3 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu.yml', 'zuul.d/project.yaml']",2,99e74085a0ac4e4f743e9d53f9bc5bc0a03c46e0,add_bionic_support, - openstack-ansible-functional-ubuntu-bionic-nv,,1,0
openstack%2Fnova~master~I03a6a8591f19013c14691779870a820fdff96f6d,openstack/nova,master,I03a6a8591f19013c14691779870a820fdff96f6d,DNM: testing https://review.openstack.org/#/c/569149,ABANDONED,2018-05-19 14:44:01.000000000,2018-05-19 21:55:32.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-19 14:44:01.000000000', 'files': ['nova/api/openstack/compute/images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/baa3a8e1e046ab36ca2c03795f3cf5bd3ba9d9d5', 'message': 'DNM: testing https://review.openstack.org/#/c/569149\n\nChange-Id: I03a6a8591f19013c14691779870a820fdff96f6d\n'}]",0,569574,baa3a8e1e046ab36ca2c03795f3cf5bd3ba9d9d5,12,10,1,8556,,,0,"DNM: testing https://review.openstack.org/#/c/569149

Change-Id: I03a6a8591f19013c14691779870a820fdff96f6d
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/569574/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/images.py'],1,baa3a8e1e046ab36ca2c03795f3cf5bd3ba9d9d5,test,,,1,0
openstack%2Ftripleo-heat-templates~master~I497597a47533375f34a22a56e2e9a145d9393358,openstack/tripleo-heat-templates,master,I497597a47533375f34a22a56e2e9a145d9393358,Remove undercloud specific service definitions,MERGED,2018-05-04 23:46:21.000000000,2018-05-19 21:45:46.000000000,2018-05-19 21:45:45.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-04 23:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63ce36370dc8bcedbad046765c5da27fb2d53df5', 'message': ""Remove undercloud specific service definitions\n\nSince we're aligning the overcloud/undercloud and we've switched to\ncontainerization it, we should reuse the same heat services rather than\nduplicating the services with the Undercloud definition.\n\nChange-Id: I497597a47533375f34a22a56e2e9a145d9393358\nRelated-Blueprint: containerized-undercloud\n""}, {'number': 2, 'created': '2018-05-05 00:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37503ccb524d2a776c57c5025ed332b5325f7b26', 'message': ""Remove undercloud specific service definitions\n\nSince we're aligning the overcloud/undercloud and we've switched to\ncontainerization it, we should reuse the same heat services rather than\nduplicating the services with the Undercloud definition.\n\nChange-Id: I497597a47533375f34a22a56e2e9a145d9393358\nRelated-Blueprint: containerized-undercloud\n""}, {'number': 3, 'created': '2018-05-08 20:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/517401a73283f5faf2470e7eb78c2679a97391a5', 'message': ""Remove undercloud specific service definitions\n\nSince we're aligning the overcloud/undercloud and we've switched to\ncontainerization it, we should reuse the same heat services rather than\nduplicating the services with the Undercloud definition.\n\nChange-Id: I497597a47533375f34a22a56e2e9a145d9393358\nRelated-Blueprint: containerized-undercloud\n""}, {'number': 4, 'created': '2018-05-08 21:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48cd1d5f687f536b2426d1994135a5c71d00dac0', 'message': ""Remove undercloud specific service definitions\n\nSince we're aligning the overcloud/undercloud and we've switched to\ncontainerization it, we should reuse the same heat services rather than\nduplicating the services with the Undercloud definition.\n\nDepends-On: Ic7dba7e548f85574cce2db23e3fec5c8ea761bb7\nChange-Id: I497597a47533375f34a22a56e2e9a145d9393358\nRelated-Blueprint: containerized-undercloud\n""}, {'number': 5, 'created': '2018-05-09 21:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7dffbb5fc2503b3a86d69c4f99b6eb3556820539', 'message': ""Remove undercloud specific service definitions\n\nSince we're aligning the overcloud/undercloud and we've switched to\ncontainerization it, we should reuse the same heat services rather than\nduplicating the services with the Undercloud definition.\n\nDepends-On: Ic7dba7e548f85574cce2db23e3fec5c8ea761bb7\nChange-Id: I497597a47533375f34a22a56e2e9a145d9393358\nRelated-Blueprint: containerized-undercloud\n""}, {'number': 6, 'created': '2018-05-09 21:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c8ee0c90c0ad4f755413d2b40995138269f6ac7f', 'message': ""Remove undercloud specific service definitions\n\nSince we're aligning the overcloud/undercloud and we've switched to\ncontainerization it, we should reuse the same heat services rather than\nduplicating the services with the Undercloud definition.\n\nDepends-On: Ic7dba7e548f85574cce2db23e3fec5c8ea761bb7\nChange-Id: I497597a47533375f34a22a56e2e9a145d9393358\nRelated-Blueprint: containerized-undercloud\n""}, {'number': 7, 'created': '2018-05-09 21:33:20.000000000', 'files': ['environments/services/undercloud-haproxy.yaml', 'environments/undercloud.yaml', 'releasenotes/notes/remove-undercloud-specific-services-23046e607565d36d.yaml', 'environments/services/undercloud-aodh.yaml', 'environments/services/undercloud-ceilometer.yaml', 'environments/services/undercloud-gnocchi.yaml', 'environments/services/undercloud-keepalived.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services/undercloud-panko.yaml', 'roles_data_undercloud.yaml', 'environments/services/undercloud-cinder.yaml', 'roles/Undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64bc4a7683fab7e9d6feb67cd3252c4716722e6e', 'message': ""Remove undercloud specific service definitions\n\nSince we're aligning the overcloud/undercloud and we've switched to\ncontainerization it, we should reuse the same heat services rather than\nduplicating the services with the Undercloud definition.\n\nDepends-On: Ic7dba7e548f85574cce2db23e3fec5c8ea761bb7\nChange-Id: I497597a47533375f34a22a56e2e9a145d9393358\nRelated-Blueprint: containerized-undercloud\n""}]",1,566422,64bc4a7683fab7e9d6feb67cd3252c4716722e6e,63,8,7,14985,,,0,"Remove undercloud specific service definitions

Since we're aligning the overcloud/undercloud and we've switched to
containerization it, we should reuse the same heat services rather than
duplicating the services with the Undercloud definition.

Depends-On: Ic7dba7e548f85574cce2db23e3fec5c8ea761bb7
Change-Id: I497597a47533375f34a22a56e2e9a145d9393358
Related-Blueprint: containerized-undercloud
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/566422/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/undercloud.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles_data_undercloud.yaml', 'roles/Undercloud.yaml']",4,63ce36370dc8bcedbad046765c5da27fb2d53df5,bp/containerized-undercloud, A role to deploy the undercloud via heat using the 'openstack undercloud deploy' command. - OS::TripleO::Services::AodhApi - OS::TripleO::Services::AodhEvaluator - OS::TripleO::Services::AodhListener - OS::TripleO::Services::AodhNotifier - OS::TripleO::Services::BarbicanBackendSimpleCrypto - OS::TripleO::Services::CeilometerAgentCentral - OS::TripleO::Services::CeilometerAgentIpmi - OS::TripleO::Services::CeilometerAgentNotification - OS::TripleO::Services::CinderApi - OS::TripleO::Services::CinderScheduler - OS::TripleO::Services::CinderVolume - OS::TripleO::Services::ContainersLogrotateCrond - OS::TripleO::Services::GnocchiApi - OS::TripleO::Services::GnocchiMetricd - OS::TripleO::Services::GnocchiStatsd - OS::TripleO::Services::HAProxy - OS::TripleO::Services::IronicPxe - OS::TripleO::Services::Keepalived - OS::TripleO::Services::MasqueradeNetworks - OS::TripleO::Services::MistralExecutor - OS::TripleO::Services::NeutronOvsAgent - OS::TripleO::Services::OsloMessagingRpc - OS::TripleO::Services::PankoApi - OS::TripleO::Services::Redis - OS::TripleO::Services::Tempest, EXPERIMENTAL. A role to deploy the undercloud via heat using the 'openstack undercloud deploy' command. - OS::TripleO::Services::BarbicanBackendSimpleCrypto - OS::TripleO::Services::IronicPxe - OS::TripleO::Services::MistralExecutor - OS::TripleO::Services::NeutronOvsAgent - OS::TripleO::Services::ContainersLogrotateCrond - OS::TripleO::Services::OsloMessagingRpc - OS::TripleO::Services::MasqueradeNetworks - OS::TripleO::Services::UndercloudAodhApi - OS::TripleO::Services::UndercloudAodhEvaluator - OS::TripleO::Services::UndercloudAodhListener - OS::TripleO::Services::UndercloudAodhNotifier - OS::TripleO::Services::UndercloudCeilometerAgentCentral - OS::TripleO::Services::UndercloudCeilometerAgentIpmi - OS::TripleO::Services::UndercloudCeilometerAgentNotification - OS::TripleO::Services::UndercloudGnocchiApi - OS::TripleO::Services::UndercloudGnocchiMetricd - OS::TripleO::Services::UndercloudGnocchiStatsd - OS::TripleO::Services::UndercloudPankoApi - OS::TripleO::Services::UndercloudCinderApi - OS::TripleO::Services::UndercloudCinderScheduler - OS::TripleO::Services::UndercloudCinderVolume - OS::TripleO::Services::UndercloudRedis - OS::TripleO::Services::UndercloudHAProxy - OS::TripleO::Services::UndercloudKeepalived - OS::TripleO::Services::Tempest,76,77
openstack%2Freleases~master~I935865266c80d1dac208df43b4c97c05d7aba96a,openstack/releases,master,I935865266c80d1dac208df43b4c97c05d7aba96a,Release monasca-agent 2.2.4 for Pike,MERGED,2018-05-16 09:00:21.000000000,2018-05-19 21:07:18.000000000,2018-05-19 21:07:18.000000000,"[{'_account_id': 308}, {'_account_id': 12898}, {'_account_id': 15527}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 24580}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-05-16 09:00:21.000000000', 'files': ['deliverables/pike/monasca-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0483870b5398a844628955be4ccea913f2f32ed3', 'message': 'Release monasca-agent 2.2.4 for Pike\n\nChange-Id: I935865266c80d1dac208df43b4c97c05d7aba96a\n'}]",0,568790,0483870b5398a844628955be4ccea913f2f32ed3,12,7,1,16222,,,0,"Release monasca-agent 2.2.4 for Pike

Change-Id: I935865266c80d1dac208df43b4c97c05d7aba96a
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/568790/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/monasca-agent.yaml'],1,0483870b5398a844628955be4ccea913f2f32ed3,, - projects: - hash: 08861f00ccd0644cce20b828c874971ca9536291 repo: openstack/monasca-agent version: 2.2.4,,4,0
openstack%2Fneutron~master~I901ceb685e75d905578135fdf9f1b08ba3ea7223,openstack/neutron,master,I901ceb685e75d905578135fdf9f1b08ba3ea7223,[rally] Port custom plugins to use proper code,MERGED,2018-05-17 21:27:06.000000000,2018-05-19 20:13:38.000000000,2018-05-19 20:13:38.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 10385}, {'_account_id': 13995}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 21:27:06.000000000', 'files': ['rally-jobs/plugins/trunk_scenario.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e83fa1dc794b3cee40bf90bab849ccd9731a47a', 'message': '[rally] Port custom plugins to use proper code\n\nRally team moved OpenStack plugins under separate repository and in-tree\ncode is deprecated now and will be removed soon.\n\nThis patch changes several imports to use the latest available code.\n\nChange-Id: I901ceb685e75d905578135fdf9f1b08ba3ea7223\n'}]",0,569265,3e83fa1dc794b3cee40bf90bab849ccd9731a47a,13,6,1,9545,,,0,"[rally] Port custom plugins to use proper code

Rally team moved OpenStack plugins under separate repository and in-tree
code is deprecated now and will be removed soon.

This patch changes several imports to use the latest available code.

Change-Id: I901ceb685e75d905578135fdf9f1b08ba3ea7223
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/569265/1 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/plugins/trunk_scenario.py'],1,3e83fa1dc794b3cee40bf90bab849ccd9731a47a,rally_zuul_v3,from rally_openstack import consts from rally_openstack import scenario from rally_openstack.scenarios.neutron import utils,from rally import consts from rally.plugins.openstack import scenario from rally.plugins.openstack.scenarios.neutron import utils,3,3
openstack%2Fcinder~master~I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a,openstack/cinder,master,I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a,Support availability-zone type,MERGED,2018-03-13 02:11:07.000000000,2018-05-19 19:30:02.000000000,2018-05-19 19:30:02.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12736}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21279}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27738}]","[{'number': 1, 'created': '2018-03-13 02:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a33424aeb61dc5d3b800c11849fce1365d14cb7b', 'message': ""[WIP][DNM] Support availability-zone type\n\nNow availability zone highly is integrated\ninto volume type's extra spec, it will be\nrecognized when creating and retyping, also\nwe can filter volume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 2, 'created': '2018-03-13 10:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4701cadfbeb1c0d122860ed9eb0ab76cd2682b1', 'message': ""[WIP] Support availability-zone type\n\nNow availability zone highly is integrated\ninto volume type's extra spec, it will be\nrecognized when creating and retyping, also\nwe can filter volume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 3, 'created': '2018-03-13 12:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f199a0112ea13b123ad75fa0c0d42c971670935', 'message': ""[WIP] Support availability-zone type\n\nNow availability zone highly is integrated\ninto volume type's extra spec, it will be\nrecognized when creating and retyping, also\nwe can filter volume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 4, 'created': '2018-03-14 03:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2f4a7be92befcefb1b9dbf44db8637ef3837560', 'message': ""Support availability-zone type\n\nNow availability zone highly is integrated into\nvolume type's extra spec, it will be recognized\nwhen creating and retyping, also we can filter\nvolume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 5, 'created': '2018-03-15 07:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dabd97ac59d39a9c16cf40293b78c3422cd575d5', 'message': ""Support availability-zone type\n\nNow availability zone highly is integrated into\nvolume type's extra spec, it will be recognized\nwhen creating and retyping, also we can filter\nvolume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 6, 'created': '2018-03-20 12:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/741e1cf3ea7cc5207d10240e776f9bf393ac159b', 'message': ""Support availability-zone type\n\nNow availability zone highly is integrated into\nvolume type's extra spec, it will be recognized\nwhen creating and retyping, also we can filter\nvolume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 7, 'created': '2018-03-22 03:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a182a63a71062fe0296df1e33886c53bfa4bb094', 'message': ""Support availability-zone type\n\nNow availability zone highly is integrated into\nvolume type's extra spec, it will be recognized\nwhen creating and retyping, also we can filter\nvolume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 8, 'created': '2018-03-27 03:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/06acf2502203b59d82c043df663074b312f231d6', 'message': ""Support availability-zone type\n\nNow availability zone highly is integrated into\nvolume type's extra spec, it will be recognized\nwhen creating and retyping, also we can filter\nvolume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 9, 'created': '2018-03-28 03:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4136fd3e407e9f2370b06d71587c91ed86f61b92', 'message': ""Support availability-zone type\n\nNow availability zone highly is integrated into\nvolume type's extra spec, it will be recognized\nwhen creating and retyping, also we can filter\nvolume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 10, 'created': '2018-04-03 07:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ebb9aecaf3c148f36c22ef5f4d2aa2cae983cc2f', 'message': ""Support availability-zone type\n\nNow availability zone highly is integrated into\nvolume type's extra spec, it will be recognized\nwhen creating and retyping, also we can filter\nvolume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 11, 'created': '2018-04-16 03:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b17bf60b0f394b2603592f5693d0c3b80f51af20', 'message': ""Support availability-zone type\n\nNow availability zone is highly integrated into\nvolume type's extra spec, it will be recognized\nwhen creating and retyping, also we can filter\nvolume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 12, 'created': '2018-04-16 09:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e65fab7db8eb9244680a754c1fa9ec6934e34be', 'message': ""Support availability-zone type\n\nNow availability zone is highly integrated into\nvolume type's extra spec, it will be recognized\nwhen creating and retyping, also we can filter\nvolume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 13, 'created': '2018-04-19 02:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bce60e05d84a1bbc1525e71a0bf817e0cfd30db0', 'message': ""Support availability-zone type\n\nNow availability zone is highly integrated into\nvolume type's extra spec, it will be recognized\nwhen creating and retyping, also we can filter\nvolume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 14, 'created': '2018-05-09 02:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/655caeb8128aa82a5e6541c519d391acd653c137', 'message': ""Support availability-zone type\n\nNow availability zone is highly integrated into\nvolume type's extra spec, it will be recognized\nwhen creating and retyping, also we can filter\nvolume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 15, 'created': '2018-05-12 08:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/21c03296aa1d08985a0334aa09dc45410ee4aeb1', 'message': ""Support availability-zone type\n\nNow availability zone is highly integrated into\nvolume type's extra spec, it will be recognized\nwhen creating and retyping, also we can filter\nvolume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 16, 'created': '2018-05-17 01:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/31f303aac41c93093ba185d2202508f735d8dbb0', 'message': ""Support availability-zone type\n\nNow availability zone is highly integrated into\nvolume type's extra spec, it will be recognized\nwhen creating and retyping, also we can filter\nvolume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}, {'number': 17, 'created': '2018-05-17 12:09:12.000000000', 'files': ['cinder/scheduler/filter_scheduler.py', 'doc/source/admin/index.rst', 'cinder/volume/flows/api/create_volume.py', 'cinder/api/v2/types.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/api/v2/test_types.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/scheduler/filters/availability_zone_filter.py', 'releasenotes/notes/support-az-in-volumetype-8yt6fg67de3976ty.yaml', 'cinder/exception.py', 'cinder/api/microversions.py', 'cinder/tests/unit/api/v3/test_types.py', 'cinder/objects/base.py', 'cinder/scheduler/driver.py', 'cinder/api/openstack/api_version_request.py', 'cinder/tests/unit/scheduler/test_scheduler.py', 'etc/cinder/resource_filters.json', 'cinder/api/openstack/rest_api_version_history.rst', 'doc/source/admin/generalized_filters.rst', 'cinder/volume/utils.py', 'doc/source/admin/blockstorage-availability-zone-type.rst', 'cinder/tests/unit/objects/test_objects.py', 'cinder/objects/request_spec.py', 'cinder/tests/unit/scheduler/test_host_filters.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/306fa19079ccf8f5278fdf36341edecd95df04a7', 'message': ""Support availability-zone type\n\nNow availability zone is highly integrated into\nvolume type's extra spec, it will be recognized\nwhen creating and retyping, also we can filter\nvolume type by extra spec now.\n\nChange-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a\nPartial-Implements: bp support-az-in-volumetype\n""}]",31,552243,306fa19079ccf8f5278fdf36341edecd95df04a7,429,52,17,23083,,,0,"Support availability-zone type

Now availability zone is highly integrated into
volume type's extra spec, it will be recognized
when creating and retyping, also we can filter
volume type by extra spec now.

Change-Id: I4e6aa7af707bd063e7edf2b0bf28e3071ad5c67a
Partial-Implements: bp support-az-in-volumetype
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/552243/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/filter_scheduler.py', 'cinder/objects/base.py', 'cinder/scheduler/driver.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/api/openstack/api_version_request.py', 'etc/cinder/resource_filters.json', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/api/v2/types.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/scheduler/filters/availability_zone_filter.py', 'cinder/exception.py', 'cinder/api/microversions.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/objects/request_spec.py', 'cinder/scheduler/filters/capabilities_filter.py']",16,a33424aeb61dc5d3b800c11849fce1365d14cb7b,bp/support-az-in-volumetype," # NOTE(tommylikehu): ""availability_zones"" is stored in the extra specs, # but it's only used for choose appropriate service in api service # and availability_zone_filter, remove it here. extra_specs.pop(""availability_zones"", None) ",,120,42
openstack%2Fnova~master~Id44d456bb1bdb0c5564ad4f5d9cdee2f41226052,openstack/nova,master,Id44d456bb1bdb0c5564ad4f5d9cdee2f41226052,Update the deprecate os_region_name option,MERGED,2018-05-11 11:11:49.000000000,2018-05-19 18:19:07.000000000,2018-05-18 16:29:16.000000000,"[{'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24441}, {'_account_id': 26515}, {'_account_id': 27738}]","[{'number': 1, 'created': '2018-05-11 11:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b92198d4006a9ee855ce829664bcc1bf5e97b734', 'message': 'Update the deprecate os_region_name option\n\nOption ""os_region_name"" from group ""placement"" is deprecated. Use\noption ""region_name"" from group ""placement"".\n\nChange-Id: Id44d456bb1bdb0c5564ad4f5d9cdee2f41226052\nRelated-Bug: #1762106\n'}, {'number': 2, 'created': '2018-05-18 15:35:31.000000000', 'files': ['doc/source/install/controller-install-obs.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/compute-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/d163fb6d697d74ea93ffc394187871a3a8c4ccd8', 'message': 'Update the deprecate os_region_name option\n\nOption ""os_region_name"" from group ""placement"" is deprecated. Use\noption ""region_name"" from group ""placement"".\n\nChange-Id: Id44d456bb1bdb0c5564ad4f5d9cdee2f41226052\nRelated-Bug: #1762106\n'}]",1,567829,d163fb6d697d74ea93ffc394187871a3a8c4ccd8,25,14,2,19779,,,0,"Update the deprecate os_region_name option

Option ""os_region_name"" from group ""placement"" is deprecated. Use
option ""region_name"" from group ""placement"".

Change-Id: Id44d456bb1bdb0c5564ad4f5d9cdee2f41226052
Related-Bug: #1762106
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/567829/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/controller-install-obs.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/compute-install-rdo.rst']",6,b92198d4006a9ee855ce829664bcc1bf5e97b734,bug/1762106, region_name = RegionOne, os_region_name = RegionOne,6,6
openstack%2Ftraining-guides~master~If685fb962b6bfd246eee0777cab794f4bf77f8b3,openstack/training-guides,master,If685fb962b6bfd246eee0777cab794f4bf77f8b3,[upstream] Cleanup and add instructions,MERGED,2018-05-18 21:44:58.000000000,2018-05-19 18:17:50.000000000,2018-05-19 18:17:50.000000000,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 21:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/2cdf7816d7d76a9feab6cb5c6d9da69d9f8db612', 'message': '[upstream] Cleanup and add instructions\n\nCLeaning up duplicated content, updating the training etherpad in\nthe introduction slide set, adding intstructions at the beginning\nof the exercise slides on which Contributor Guide section to read.\n\nChange-Id: If685fb962b6bfd246eee0777cab794f4bf77f8b3\n'}, {'number': 2, 'created': '2018-05-18 21:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/7586ea3b15bd88de9c0d42ab7e1a8903fec11731', 'message': '[upstream] Cleanup and add instructions\n\nCLeaning up duplicated content, updating the training etherpad in\nthe introduction slide set, adding intstructions at the beginning\nof the exercise slides on which Contributor Guide section to read.\n\nChange-Id: If685fb962b6bfd246eee0777cab794f4bf77f8b3\n'}, {'number': 3, 'created': '2018-05-19 14:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/94f244759acf1bd5e0410149edef2bdee4ac798b', 'message': '[upstream] Cleanup and add instructions\n\nCLeaning up duplicated content, updating the training etherpad in\nthe introduction slide set, adding intstructions at the beginning\nof the exercise slides on which Contributor Guide section to read.\n\nChange-Id: If685fb962b6bfd246eee0777cab794f4bf77f8b3\n'}, {'number': 4, 'created': '2018-05-19 16:10:39.000000000', 'files': ['doc/upstream-training/source/slides/howitsmade-governance.rst', 'doc/upstream-training/source/website/upstream-training-content.rst', 'doc/upstream-training/source/slides/workflow-reviewing.rst', 'doc/upstream-training/source/slides/workflow-using-sandbox.rst', 'doc/upstream-training/source/slides/intro-openstack-as-community.rst', 'doc/upstream-training/source/slides/howitsmade-release-cycle.rst', 'doc/upstream-training/source/slides/slide-index.rst', 'doc/upstream-training/source/slides/intro-introduction.rst', 'doc/upstream-training/source/slides/workflow-project-status-and-zuul.rst', 'doc/upstream-training/source/slides/intro-openstack-as-software.rst', 'doc/upstream-training/source/slides/howitsmade-official-projects.rst', 'doc/upstream-training/source/slides/workflow-setup-and-first-patch.rst', 'doc/upstream-training/source/slides/workflow-commit-message.rst', 'doc/upstream-training/source/slides/workflow-task-tracking.rst', 'doc/upstream-training/source/slides/howitsmade-events.rst', 'doc/upstream-training/source/slides/howitsmade-communication.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/1c567055faa50c7f41964ec3f3258ab90600ca13', 'message': '[upstream] Cleanup and add instructions\n\nCLeaning up duplicated content, updating the training etherpad in\nthe introduction slide set, adding intstructions at the beginning\nof the exercise slides on which Contributor Guide section to read.\n\nChange-Id: If685fb962b6bfd246eee0777cab794f4bf77f8b3\n'}]",2,569526,1c567055faa50c7f41964ec3f3258ab90600ca13,13,4,4,9562,,,0,"[upstream] Cleanup and add instructions

CLeaning up duplicated content, updating the training etherpad in
the introduction slide set, adding intstructions at the beginning
of the exercise slides on which Contributor Guide section to read.

Change-Id: If685fb962b6bfd246eee0777cab794f4bf77f8b3
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/26/569526/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/slides/howitsmade-governance.rst', 'doc/upstream-training/source/website/upstream-training-content.rst', 'doc/upstream-training/source/slides/workflow-reviewing.rst', 'doc/upstream-training/source/slides/workflow-using-sandbox.rst', 'doc/upstream-training/source/slides/intro-openstack-as-community.rst', 'doc/upstream-training/source/slides/howitsmade-release-cycle.rst', 'doc/upstream-training/source/slides/slide-index.rst', 'doc/upstream-training/source/slides/intro-introduction.rst', 'doc/upstream-training/source/slides/intro-openstack-as-software.rst', 'doc/upstream-training/source/slides/howitsmade-official-projects.rst', 'doc/upstream-training/source/slides/workflow-setup-and-first-patch.rst', 'doc/upstream-training/source/slides/workflow-commit-message.rst', 'doc/upstream-training/source/slides/workflow-task-tracking.rst', 'doc/upstream-training/source/slides/howitsmade-events.rst', 'doc/upstream-training/source/slides/howitsmade-communication.rst']",15,2cdf7816d7d76a9feab6cb5c6d9da69d9f8db612,cleanup,Learning Exercise ================= * Open the `Communication <https://docs.openstack.org/contributors/common/communication.html>`_ section of the Contributor Guide * Read the material * Ask questions from the mentors * Get ready to go through the exercises ,,104,610
openstack%2Fopenstack-helm-infra~master~If8f149e9e73a2e8e761c471af0a203c2dae27ff8,openstack/openstack-helm-infra,master,If8f149e9e73a2e8e761c471af0a203c2dae27ff8,Ldap: add image template function and basic tidy of template,MERGED,2018-05-18 19:14:27.000000000,2018-05-19 18:03:32.000000000,2018-05-19 18:03:32.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 19:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9af3271d67d209185b2a483f4cb046e4ffd8355a', 'message': 'Ldap: add image template function and basic tidy of template\n\nThis PS adds the image template function, and also performs basic\ntiding of the template.\n\nChange-Id: If8f149e9e73a2e8e761c471af0a203c2dae27ff8\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-05-19 05:31:54.000000000', 'files': ['ldap/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c2558ba9ab9099b62b1a7cffa33b0494c3b05b1d', 'message': 'Ldap: add image template function and basic tidy of template\n\nThis PS adds the image template function, and also performs basic\ntiding of the template.\n\nChange-Id: If8f149e9e73a2e8e761c471af0a203c2dae27ff8\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,569502,c2558ba9ab9099b62b1a7cffa33b0494c3b05b1d,9,3,2,23928,,,0,"Ldap: add image template function and basic tidy of template

This PS adds the image template function, and also performs basic
tiding of the template.

Change-Id: If8f149e9e73a2e8e761c471af0a203c2dae27ff8
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/02/569502/2 && git format-patch -1 --stdout FETCH_HEAD,['ldap/templates/statefulset.yaml'],1,9af3271d67d209185b2a483f4cb046e4ffd8355a,images/jobs," - name: ldap {{ tuple $envAll ""ldap"" | include ""helm-toolkit.snippets.image"" | indent 10 }} env: - name: LDAP_DOMAIN value: {{ .Values.openldap.domain }} - name: LDAP_ADMIN_PASSWORD value: {{ .Values.openldap.password }} ports: - containerPort: {{ tuple ""ldap"" ""internal"" ""ldap"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} volumeMounts: - name: ldap-data mountPath: /var/lib/ldap - name: ldap-config mountPath: /etc/ldap/slapd.d - name: ldap-data hostPath: path: {{ .Values.storage.host.data_path }} - name: ldap-config hostPath: path: {{ .Values.storage.host.config_path }}"," - name: ldap image: {{ .Values.images.tags.ldap }} imagePullPolicy: {{ .Values.images.pull_policy }} env: - name: LDAP_DOMAIN value: {{ .Values.openldap.domain }} - name: LDAP_ADMIN_PASSWORD value: {{ .Values.openldap.password }} ports: - containerPort: {{ tuple ""ldap"" ""internal"" ""ldap"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} volumeMounts: - name: ldap-data mountPath: /var/lib/ldap - name: ldap-config mountPath: /etc/ldap/slapd.d - name: ldap-data hostPath: path: {{ .Values.storage.host.data_path }} - name: ldap-config hostPath: path: {{ .Values.storage.host.config_path }}",20,21
openstack%2Fopenstack-helm-infra~master~I438142cd9649749933fbe7153d149e7d0b0a5537,openstack/openstack-helm-infra,master,I438142cd9649749933fbe7153d149e7d0b0a5537,Update helm to v2.9.1,MERGED,2018-05-18 02:44:24.000000000,2018-05-19 18:03:32.000000000,2018-05-19 18:03:32.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-18 02:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b451f954d6fc756dd0c3489a6b3a606135133963', 'message': 'RFC: DNM: Update helm to v2.9.1\n\nThis patchset updates helm version to v2.9.1.\n\nChange-Id: I438142cd9649749933fbe7153d149e7d0b0a5537\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2018-05-18 04:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ee041072467811557b1c42f3bed9180f6cdedafe', 'message': 'Update helm to v2.9.1\n\nThis patchset updates helm version to v2.9.1.\n\nChange-Id: I438142cd9649749933fbe7153d149e7d0b0a5537\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2018-05-19 10:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e237997f802c24fbd4b8674133f283188f3be37', 'message': 'Update helm to v2.9.1\n\nThis patchset updates helm version to v2.9.1.\n\nChange-Id: I438142cd9649749933fbe7153d149e7d0b0a5537\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2018-05-19 14:56:20.000000000', 'files': ['tools/images/kubeadm-aio/Dockerfile', 'tiller/values.yaml', 'roles/build-images/defaults/main.yml', 'roles/build-helm-packages/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b80d9146d1f7fd4f0f7d94000fc8ffb28d4b94bd', 'message': 'Update helm to v2.9.1\n\nThis patchset updates helm version to v2.9.1.\n\nChange-Id: I438142cd9649749933fbe7153d149e7d0b0a5537\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,569307,b80d9146d1f7fd4f0f7d94000fc8ffb28d4b94bd,20,6,4,20466,,,0,"Update helm to v2.9.1

This patchset updates helm version to v2.9.1.

Change-Id: I438142cd9649749933fbe7153d149e7d0b0a5537
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/07/569307/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/kubeadm-aio/Dockerfile', 'tiller/values.yaml', 'roles/build-images/defaults/main.yml', 'roles/build-helm-packages/defaults/main.yml']",4,b451f954d6fc756dd0c3489a6b3a606135133963,, helm: v2.9.1, helm: v2.8.2,4,4
openstack%2Fopenstack-helm-infra~master~I87e12d12f9d0806174a94b5b6dacb6360f4e2410,openstack/openstack-helm-infra,master,I87e12d12f9d0806174a94b5b6dacb6360f4e2410,Ldap: Drive scheme via endpoints section,MERGED,2018-05-18 19:14:27.000000000,2018-05-19 18:01:27.000000000,2018-05-19 18:01:27.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 19:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/15c4e869d32f26abde213cdc8f7649a54e499e64', 'message': 'Ldap: Drive scheme via endpoints section\n\nThis PS updates the ldap scheme used to be driven by the endpoints\nsection.\n\nChange-Id: I87e12d12f9d0806174a94b5b6dacb6360f4e2410\n'}, {'number': 2, 'created': '2018-05-19 05:32:05.000000000', 'files': ['ldap/values.yaml', 'ldap/templates/bin/_bootstrap.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c24c7e42f3cce9863527f4f53a1203472573b2a0', 'message': 'Ldap: Drive scheme via endpoints section\n\nThis PS updates the ldap scheme used to be driven by the endpoints\nsection.\n\nChange-Id: I87e12d12f9d0806174a94b5b6dacb6360f4e2410\n'}]",0,569501,c24c7e42f3cce9863527f4f53a1203472573b2a0,9,3,2,23928,,,0,"Ldap: Drive scheme via endpoints section

This PS updates the ldap scheme used to be driven by the endpoints
section.

Change-Id: I87e12d12f9d0806174a94b5b6dacb6360f4e2410
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/01/569501/2 && git format-patch -1 --stdout FETCH_HEAD,"['ldap/values.yaml', 'ldap/templates/bin/_bootstrap.sh.tpl']",2,15c4e869d32f26abde213cdc8f7649a54e499e64,images/jobs,"LDAPHOST=""{{ .Values.endpoints.ldap.scheme }}://{{ $url }}:{{ $port }}""","LDAPHOST=""ldap://{{ $url }}:{{ $port }}""",2,2
openstack%2Fopenstack-specs~master~Id76a23d5dc667b9d993a6f78879fe3728e4ab20e,openstack/openstack-specs,master,Id76a23d5dc667b9d993a6f78879fe3728e4ab20e,Patrole (RBAC) Keystone Gating,ABANDONED,2018-04-05 17:23:00.000000000,2018-05-19 17:50:18.000000000,,"[{'_account_id': 8866}, {'_account_id': 11589}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-04-05 17:23:00.000000000', 'files': ['specs/patrole-keystone-gate.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/d4b8572b41279c07a1c2be4549c47b19deb63092', 'message': 'Patrole (RBAC) Keystone Gating\n\nThe purpose of this spec is to outline a proposal for adding RBAC\ntesting gates to Keystone by leveraging Patrole, a Tempest plugin.\n\nChange-Id: Id76a23d5dc667b9d993a6f78879fe3728e4ab20e\n'}]",14,559137,d4b8572b41279c07a1c2be4549c47b19deb63092,11,4,1,23186,,,0,"Patrole (RBAC) Keystone Gating

The purpose of this spec is to outline a proposal for adding RBAC
testing gates to Keystone by leveraging Patrole, a Tempest plugin.

Change-Id: Id76a23d5dc667b9d993a6f78879fe3728e4ab20e
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/37/559137/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/patrole-keystone-gate.rst'],1,d4b8572b41279c07a1c2be4549c47b19deb63092,patrole-gate,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================ Patrole - RBAC Testing Framework ================================ Patrole is an OpenStack Tempest plugin responsible for Role-Based Access Control (RBAC) testing. It uses existing OpenStack libraries to accomplish its testing: #. To calculate the expected result, it calls `oslo.policy`_ with the expected policy the API enforces. #. It leverages pre-existing `Tempest API clients`_ to test each API endpoint against an expected policy action. To determine the policy-to-API mapping, `policy in code`_ is referenced. More information about testing stability in Patrole vis-à-vis policy in code can be found `here <https://docs.openstack.org/patrole/latest/testing.html#stable-tests>`_. Currently, the future of policy enforcement within OpenStack is an area of great interest in Keystone. Keystone can benefit from implementing non-voting Patrole gates, with the intention of either: * Testing Keystone-specific API endpoints to verify policy enforcement is working as intended. * Testing Cinder, Nova, Glance, Keystone and Neutron API endpoints to verify policy enforcement across the major OpenStack components. (Swift is ommitted since it doesn't use `oslo.policy`_.) .. _oslo.policy: https://docs.openstack.org/oslo.policy/latest/ .. _Tempest API clients: https://docs.openstack.org/tempest/latest/library/clients.html .. _policy in code: https://governance.openstack.org/tc/goals/queens/policy-in-code.html Problem Description =================== Introduction ------------ Patrole was developed to debug and validate custom roles introduced into policy.json files from a high-level perspective. While some services have unit tests that validate policy enforcement, these unit tests are neither robust enough nor ubiquituous across all services and APIs. And while Tempest segregates admin-level tests from non-admin-level tests, based on the `default` permissions for each API, this approach can easily be broken when the default permissions are modified. For example, if default policy actions are modified to allow admin role instead of anyone, then corresponding Tempest tests for the APIs that enforce the modified policy actions will necessarily break (or run with overly elevated permissions), because Tempest has no mechanism for dynamically *modifying* the credentials it uses to perform an API call in its testing. Patrole Policy Verification --------------------------- As already mentioned, Patrole supports policy in code, by using logic similar to `oslo.policy generator <https://github.com/openstack/oslo.policy/blob/master/oslo.policy/generator.py#L62>`_ Policy verification is performed by: 1. Pooling together the default `in-code` policy rules. 2. Overriding the defaults with custom policy rules located in a policy.json, if the policy file exists and the custom policy definition is explicitly defined therein. 3. Confirming that the policy action -- for example, ""list_users"" -- exists. 4. Performing a call with all necessary data (including metadata) to ``oslo.policy``. 5. Comparing the output from ``oslo.policy`` to the output from the corresponding API call that enforces the policy action: A ""consistent"" result is treated as a pass and an ""inconsistent"" result is treated as a failure. ""Consistency"" here means, for example, a 200 from the API call and a ``True`` result from ``oslo.policy`` or a 403 from the API call and a ``False`` result from ``oslo.policy`` -- and vice versa for the ""inconsistency"" definition. (There are many other combinations, but they are not exhaustively enumerated here.) Negative Testing ---------------- In addition, while many tests may currently offer some semblance of RBAC testing, they usually only test the so-called ""happy path"", thereby neglecting negative testing, which entails validating that unauthorized users cannot perform specific API actions. In other words, negative RBAC testing -- which is arguably more important from a `security` standpoint than positive RBAC testing -- is baked into the Patrole framework. Solution ======== Summary ------- There are two possible solutions, depending on the type of coverage desired by Keystone: either Keystone-specific Patrole tests can be run, or all Patrole tests can be run. Arguably, because Keystone may become the centralized policy enforcement service in OpenStack, it makes sense to add Patrole tests for all Big Tent services to the proposed gate. As the gatekeeper of policy enforcement, it therefore makes sense to validate ramifications of policy enforcement changes across all ""Big Tent"" services. .. note:: The majority of Patrole tests are stable to the extent that stability is compared against Tempest tests. It is recommended that all tests tagged as `slow`_ not be tested for stability reasons. For more information on testing stability, please reference `OpenStack Health <http://status.openstack.org/openstack-health/#/?searchProject=patrole&duration=P14D>`_. The solution is to add a Patrole non-voting gate in Keystone, responsible for testing Keystone-specific APIs or for testing all Big Tent APIs. Patrole runs gates for admin and Member roles for the aforementioned OpenStack services though any role can be used. Should the Keystone team decide to change the gate from non-voting to voting or make any other minor alterations, it is now fairly trivial to do so with the introduction of `Zuul V3 <https://docs.openstack.org/infra/manual/zuulv3.html>`_. The tests should be split into separate gates for each role to provide proper test isolation between roles, which will facilitate debugging of the gates. Note that it is nonetheless possible to execute tests for both roles within a single gate, if required, although this approach will result in much longer net gate execution time (probably 1.5 hours or more). The implementation details are relatively straightforward: Patrole's `current approach`_ to doing RBAC testing within its own gate can be adopted, with only one modification required: altering the regex passed to Tempest runner, if Keystone-specific tests are preferred. .. _slow: https://github.com/openstack/patrole/blob/8d8e1af35b6baa2bdd592c13168e7e6b1561619a/.zuul.yaml#L27 .. _current approach: https://github.com/openstack/patrole/blob/master/.zuul.yaml Work Items ~~~~~~~~~~ * Implement a tox job for executing Patrole tests. * Implement a non-voting admin gate for Patrole tests in keystone infra job and run the tox job with the admin role. * Implement a non-voting Member gate Patrole tests in keystone infra job infra and run the tox job with the Member role. Current Test Coverage --------------------- Patrole currently executes more than 220 Keystone RBAC tests within its own project gate for each of the two primary OpenStack roles: admin and Member. In addition, Patrole executes nearly 600 RBAC tests currently, across all Big Tent services. The identity APIs that are currently supported only includes the v3 API, in addition to some of the v3 extension APIs. Note that Patrole requires the Tempest client as a prerequisite, so Patrole's test coverage can only ever be tantamount to (give or take) Tempest's test coverage. Gate Execution Time ------------------- Each gate takes approximately 1 hour to execute -- but that is across all ""Big Tent"" services for which Patrole offers testing. Patrole gates dedicated to testing just Keystone APIs ought to be much faster, probably within the ballpark of 30-45 minutes. Conclusion ========== The end result is proactive RBAC testing within Keystone, the epicenter of many proposed future policy enforcement changes. Implementation ============== Assignee(s) ----------- Primary assignee: Felipe Monteiro <felipe.monteiro@att.com> References ========== The references below include documentation for Patrole, Tempest, policy in code, and ``oslo.policy``. * `Patrole <https://docs.openstack.org/patrole/latest/>`_ * `Tempest <https://docs.openstack.org/tempest/latest/>`_ * `Policy in Code <https://governance.openstack.org/tc/goals/queens/policy-in-code.html>`_ * `Oslo Policy <https://docs.openstack.org/oslo.policy/latest/cli/index.html>`_ ",,188,0
openstack%2Fdevstack~stable%2Fpike~I00bdeff9474c54d38b6d6844a041b305bec01ad8,openstack/devstack,stable/pike,I00bdeff9474c54d38b6d6844a041b305bec01ad8,feature flag: Backwards incompatible policies,ABANDONED,2018-04-19 23:45:23.000000000,2018-05-19 17:49:49.000000000,,"[{'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-04-19 23:45:23.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/53640393b40080f7bc64ba2ad36303043851d3d1', 'message': 'feature flag: Backwards incompatible policies\n\nA new configuration group ``[policy_feature_enabled]`` has\nbeen added to Patrole which will be responsible for collecting\nthe feature flags to be used for policies that were renamed\nor removed in a backwards-incompatible\nway. These feature flags are:\n\n    * create_port_fixed_ips_ip_address_policy (Neutron)\n    * update_port_fixed_ips_ip_address_policy (Neutron)\n    * limits_extension_used_limits_policy (Cinder)\n    * volume_extension_volume_actions_attach_policy (Cinder)\n    * volume_extension_volume_actions_reserve_policy (Cinder)\n    * volume_extension_volume_actions_unreserve_policy (Cinder)\n\nThese feature flags will be supported until Pike release cycle\nis EOL.\n\nThe motivation behind these feature flags is [0] which adds\nPike/Queens gating to Patrole. However, in Queens, Neutron\nand Cinder renamed or removed a few policies in a backwards-\nincompatible way. These policies can be reviewed here: [1].\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229\n\nChange-Id: I00bdeff9474c54d38b6d6844a041b305bec01ad8\nNeeded-By: Ia0d9847908a8e723446c16465d68cd7f622c04cc\n'}]",0,562874,53640393b40080f7bc64ba2ad36303043851d3d1,12,4,1,23186,,,0,"feature flag: Backwards incompatible policies

A new configuration group ``[policy_feature_enabled]`` has
been added to Patrole which will be responsible for collecting
the feature flags to be used for policies that were renamed
or removed in a backwards-incompatible
way. These feature flags are:

    * create_port_fixed_ips_ip_address_policy (Neutron)
    * update_port_fixed_ips_ip_address_policy (Neutron)
    * limits_extension_used_limits_policy (Cinder)
    * volume_extension_volume_actions_attach_policy (Cinder)
    * volume_extension_volume_actions_reserve_policy (Cinder)
    * volume_extension_volume_actions_unreserve_policy (Cinder)

These feature flags will be supported until Pike release cycle
is EOL.

The motivation behind these feature flags is [0] which adds
Pike/Queens gating to Patrole. However, in Queens, Neutron
and Cinder renamed or removed a few policies in a backwards-
incompatible way. These policies can be reviewed here: [1].

[0] I76c4a9b8737bf94f230ab141def652b054120f3b
[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229

Change-Id: I00bdeff9474c54d38b6d6844a041b305bec01ad8
Needed-By: Ia0d9847908a8e723446c16465d68cd7f622c04cc
",git fetch https://review.opendev.org/openstack/devstack refs/changes/74/562874/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,53640393b40080f7bc64ba2ad36303043851d3d1,policy-feature-flags, # Policies used by Patrole testing that were changed in a backwards-incompatible way. # TODO(fmontei): Remove these once stable/pike becomes EOL. iniset $TEMPEST_CONFIG policy-feature-enabled create_port_fixed_ips_ip_address_policy False iniset $TEMPEST_CONFIG policy-feature-enabled update_port_fixed_ips_ip_address_policy False iniset $TEMPEST_CONFIG policy-feature-enabled limits_extension_used_limits_policy False iniset $TEMPEST_CONFIG policy-feature-enabled volume_extension_volume_actions_attach_policy False iniset $TEMPEST_CONFIG policy-feature-enabled volume_extension_volume_actions_reserve_policy False iniset $TEMPEST_CONFIG policy-feature-enabled volume_extension_volume_actions_unreserve_policy False ,,9,0
openstack%2Fdevstack~master~I4b17889e433bc9c3303596c715632b54012aeb02,openstack/devstack,master,I4b17889e433bc9c3303596c715632b54012aeb02,Use devstack patrole lib to enable feature flags,ABANDONED,2018-05-16 20:10:38.000000000,2018-05-19 17:49:37.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-05-16 20:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/68b1948db9d9e15ab49ff4cea90f030feaf0a72f', 'message': 'Use devstack patrole lib to enable feature flags\n\nThis patchset adds patrole lib to devstack. This is\nbecause devstack is a branched project, allowing for the\npossibility of feature flags, which is not possible in\npatrole devstack plugin, which is hosted in patrole repo,\nwhich is branchless.\n\nA Patrole-side change is made to reference the devstack\nfunctionality for installation [0].\n\n[0] I374aa6e825fb3117c4ffbf706a9825eb6c60b642\n\nChange-Id: I4b17889e433bc9c3303596c715632b54012aeb02\nNeeded-By: I374aa6e825fb3117c4ffbf706a9825eb6c60b642\n'}, {'number': 2, 'created': '2018-05-16 22:16:12.000000000', 'files': ['lib/tempest_plugins/patrole'], 'web_link': 'https://opendev.org/openstack/devstack/commit/abf3bfa42fae20986b3c888938ab41582e22be7f', 'message': 'Use devstack patrole lib to enable feature flags\n\nThis patchset adds patrole lib to devstack. This is\nbecause devstack is a branched project, allowing for the\npossibility of feature flags, which is not possible in\npatrole devstack plugin, which is hosted in patrole repo,\nwhich is branchless.\n\nPatrole is an RBAC testing validation framework, that,\nlike Tempest, is branchless. And there is a need [0]\nwithin Patrole to run against n-1 and n-2 stable\nbranches. But to do so, feature flags [1] are needed.\nFeature flags, in turn, have a dependency around\nusing a devstack, which is branched, to toggle on or\noff feature flags for the supported stable branches.\n\nTempest is not the appropriate place [2] to include\nthe feature flags as Patrole is its own dedicated\nproject that should handle its own feature flags\nseparately.\n\nThus, the following needs to happen to enable Patrole\nn-1/n-2 gating:\n\n1) Add Patrole installation functon to devstack (this PS)\n2) Update Patrole devstack plugin installation to reference\n   function introduced by this PS [3]\n3) Add Patrole feature flags as needed [1]\n4) Toggle feature flags as needed for stable branches [4]\n5) Enable gating of stable branches [0]\n\nA Patrole-side change is made to reference the devstack\nfunctionality for installation [3].\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] Ia0d9847908a8e723446c16465d68cd7f622c04cc\n[2] https://review.openstack.org/#/c/556709/4/doc/source/configuration.rst@72\n[3] I374aa6e825fb3117c4ffbf706a9825eb6c60b642\n[4] I00bdeff9474c54d38b6d6844a041b305bec01ad8\n\nChange-Id: I4b17889e433bc9c3303596c715632b54012aeb02\nNeeded-By: I374aa6e825fb3117c4ffbf706a9825eb6c60b642\n'}]",0,568951,abf3bfa42fae20986b3c888938ab41582e22be7f,21,6,2,23186,,,0,"Use devstack patrole lib to enable feature flags

This patchset adds patrole lib to devstack. This is
because devstack is a branched project, allowing for the
possibility of feature flags, which is not possible in
patrole devstack plugin, which is hosted in patrole repo,
which is branchless.

Patrole is an RBAC testing validation framework, that,
like Tempest, is branchless. And there is a need [0]
within Patrole to run against n-1 and n-2 stable
branches. But to do so, feature flags [1] are needed.
Feature flags, in turn, have a dependency around
using a devstack, which is branched, to toggle on or
off feature flags for the supported stable branches.

Tempest is not the appropriate place [2] to include
the feature flags as Patrole is its own dedicated
project that should handle its own feature flags
separately.

Thus, the following needs to happen to enable Patrole
n-1/n-2 gating:

1) Add Patrole installation functon to devstack (this PS)
2) Update Patrole devstack plugin installation to reference
   function introduced by this PS [3]
3) Add Patrole feature flags as needed [1]
4) Toggle feature flags as needed for stable branches [4]
5) Enable gating of stable branches [0]

A Patrole-side change is made to reference the devstack
functionality for installation [3].

[0] I76c4a9b8737bf94f230ab141def652b054120f3b
[1] Ia0d9847908a8e723446c16465d68cd7f622c04cc
[2] https://review.openstack.org/#/c/556709/4/doc/source/configuration.rst@72
[3] I374aa6e825fb3117c4ffbf706a9825eb6c60b642
[4] I00bdeff9474c54d38b6d6844a041b305bec01ad8

Change-Id: I4b17889e433bc9c3303596c715632b54012aeb02
Needed-By: I374aa6e825fb3117c4ffbf706a9825eb6c60b642
",git fetch https://review.opendev.org/openstack/devstack refs/changes/51/568951/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest_plugins/patrole'],1,68b1948db9d9e15ab49ff4cea90f030feaf0a72f,policy-feature-flags,"#!/usr/bin/env bash # # lib/tempest_plugins/patrole # Called from Patrole's devstack plugin. # Dependencies: # ``functions`` file # ``DEST`` must be defined # Save trace setting XTRACE=$(set +o | grep xtrace) set +o xtrace function install_patrole_tempest_plugin() { if is_service_enabled tempest; then setup_package $PATROLE_DIR -e if [[ ""$RBAC_TEST_ROLE"" == ""member"" ]]; then RBAC_TEST_ROLE=""Member"" fi iniset $TEMPEST_CONFIG patrole enable_rbac True iniset $TEMPEST_CONFIG patrole rbac_test_role $RBAC_TEST_ROLE fi } # Restore xtrace $XTRACE ",,28,0
openstack%2Fpatrole~master~I374aa6e825fb3117c4ffbf706a9825eb6c60b642,openstack/patrole,master,I374aa6e825fb3117c4ffbf706a9825eb6c60b642,Use devstack patrole lib to enable feature flags,ABANDONED,2018-05-16 20:10:10.000000000,2018-05-19 17:49:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-05-16 20:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/00dd9a5d9246946e9673b9599a946361d87dae79', 'message': ""Use devstack patrole lib to enable feature flags\n\nThis patchset updates Patrole's devstack plugin to reference\nthe devstack patrole lib [0]. This is because devstack is a branched\nproject, allowing for the possibility of feature flags, which\nis not possible in patrole devstack plugin, which is hosted in\npatrole repo, which is branchless.\n\n[0] I4b17889e433bc9c3303596c715632b54012aeb02\n\nDepends-On: I4b17889e433bc9c3303596c715632b54012aeb02\nChange-Id: I374aa6e825fb3117c4ffbf706a9825eb6c60b642\n""}, {'number': 2, 'created': '2018-05-16 20:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/7706cb3c04d28de5ff3b73b2c397216534bddc92', 'message': ""Use devstack patrole lib to enable feature flags\n\nThis patchset updates Patrole's devstack plugin to reference\nthe devstack patrole lib [0]. This is because devstack is a branched\nproject, allowing for the possibility of feature flags, which\nis not possible in patrole devstack plugin, which is hosted in\npatrole repo, which is branchless.\n\n[0] I4b17889e433bc9c3303596c715632b54012aeb02\n\nDepends-On: I4b17889e433bc9c3303596c715632b54012aeb02\nChange-Id: I374aa6e825fb3117c4ffbf706a9825eb6c60b642\n""}, {'number': 3, 'created': '2018-05-16 22:20:56.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/patrole/commit/e467da3579163f651fca12d9426f1e319279add5', 'message': ""Use devstack patrole lib to enable feature flags\n\nThis patchset updates Patrole's devstack plugin to reference\nthe devstack patrole lib [0]. This is because devstack is a branched\nproject, allowing for the possibility of feature flags, which\nis not possible in patrole devstack plugin, which is hosted in\npatrole repo, which is branchless.\n\nThere is a need [1] within Patrole to run against n-1\nand n-2 stable branches. But to do so, feature flags [2]\nare needed. Feature flags, in turn, have a dependency around\nusing a devstack, which is branched, to toggle on or\noff feature flags for the supported stable branches.\n\nTempest is not the appropriate place [3] to include\nthe feature flags as Patrole is its own dedicated\nproject that should handle its own feature flags\nseparately.\n\nThus, the following needs to happen to enable Patrole\nn-1/n-2 gating:\n\n1) Add Patrole installation functon to devstack\n2) Update Patrole devstack plugin installation to reference\n   function introduced by this PS\n3) Add Patrole feature flags as needed\n4) Toggle feature flags as needed for stable branches\n5) Enable gating of stable branches\n\n[0] I4b17889e433bc9c3303596c715632b54012aeb02\n[1] I76c4a9b8737bf94f230ab141def652b054120f3b\n[2] Ia0d9847908a8e723446c16465d68cd7f622c04cc\n[3] https://review.openstack.org/#/c/556709/4/doc/source/configuration.rst@72\n\nDepends-On: I4b17889e433bc9c3303596c715632b54012aeb02\nChange-Id: I374aa6e825fb3117c4ffbf706a9825eb6c60b642\n""}]",1,568950,e467da3579163f651fca12d9426f1e319279add5,17,2,3,23186,,,0,"Use devstack patrole lib to enable feature flags

This patchset updates Patrole's devstack plugin to reference
the devstack patrole lib [0]. This is because devstack is a branched
project, allowing for the possibility of feature flags, which
is not possible in patrole devstack plugin, which is hosted in
patrole repo, which is branchless.

There is a need [1] within Patrole to run against n-1
and n-2 stable branches. But to do so, feature flags [2]
are needed. Feature flags, in turn, have a dependency around
using a devstack, which is branched, to toggle on or
off feature flags for the supported stable branches.

Tempest is not the appropriate place [3] to include
the feature flags as Patrole is its own dedicated
project that should handle its own feature flags
separately.

Thus, the following needs to happen to enable Patrole
n-1/n-2 gating:

1) Add Patrole installation functon to devstack
2) Update Patrole devstack plugin installation to reference
   function introduced by this PS
3) Add Patrole feature flags as needed
4) Toggle feature flags as needed for stable branches
5) Enable gating of stable branches

[0] I4b17889e433bc9c3303596c715632b54012aeb02
[1] I76c4a9b8737bf94f230ab141def652b054120f3b
[2] Ia0d9847908a8e723446c16465d68cd7f622c04cc
[3] https://review.openstack.org/#/c/556709/4/doc/source/configuration.rst@72

Depends-On: I4b17889e433bc9c3303596c715632b54012aeb02
Change-Id: I374aa6e825fb3117c4ffbf706a9825eb6c60b642
",git fetch https://review.opendev.org/openstack/patrole refs/changes/50/568950/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,00dd9a5d9246946e9673b9599a946361d87dae79,policy-feature-flags,#PATROLE_PLUGINS=$TOP_DIR/lib/tempest_plugins if [[ -r $PATROLE_PLUGINS/patrole ]]; then source $PATROLE_PLUGINS/patrole fi,"# Dependencies: # ``functions`` file # ``DEST`` must be defined # Save trace setting XTRACE=$(set +o | grep xtrace) set -o xtrace function install_patrole_tempest_plugin() { if is_service_enabled tempest; then setup_package $PATROLE_DIR -e if [[ ""$RBAC_TEST_ROLE"" == ""member"" ]]; then RBAC_TEST_ROLE=""Member"" fi iniset $TEMPEST_CONFIG patrole enable_rbac True iniset $TEMPEST_CONFIG patrole rbac_test_role $RBAC_TEST_ROLE fi } # Restore xtrace $XTRACE",5,22
openstack%2Fopenstack-ansible~master~I75e00af687d46551e19178604b60665342cf2cae,openstack/openstack-ansible,master,I75e00af687d46551e19178604b60665342cf2cae,Add mount options whenever formatting disks,MERGED,2018-05-17 19:18:03.000000000,2018-05-19 17:35:40.000000000,2018-05-19 17:35:40.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-17 19:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/400011f0e8a7f8d91c48c715d81d978ce7ad4fd8', 'message': 'Add mount options whenever formatting disks\n\nThis change provides mount options for all of the file system types\nwe use. These mount options will ensure that the underlying file systems\nreact with the best possible performance when building a test cloud. The\nmain motivation behind this patch is to help resolve bug 1753790 which\nis causing sporatic failure when gating on RAX test instances that have\na secondary data disks. We were providing no options when mounting a\nsecondary disk which results in using the system defaults which may not\nbe very optimal under general workloads. The options have been added to\nthe bootstrap role and will be consistently applied whenever a given FS\nis used.\n\n> Part of this chagne is to modify the FS type for /var/lib/nova. We\n  were using EXT4 and the recommended FS for VM workloads is XFS.\n\n> The mount options have largely been derived from the following post\n  https://www.phoronix.com/scan.php?page=article&item=linux414-fs-compare&num=1\n\nChange-Id: I75e00af687d46551e19178604b60665342cf2cae\nCloses-Bug: #1753790\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-05-17 22:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b1f8b4afa56942fc72b221db9e4c90cd67a4cfda', 'message': 'Add mount options whenever formatting disks\n\nThis change provides mount options for all of the file system types\nwe use. These mount options will ensure that the underlying file systems\nreact with the best possible performance when building a test cloud. The\nmain motivation behind this patch is to help resolve bug 1753790 which\nis causing sporatic failure when gating on RAX test instances that have\na secondary data disks. We were providing no options when mounting a\nsecondary disk which results in using the system defaults which may not\nbe very optimal under general workloads. The options have been added to\nthe bootstrap role and will be consistently applied whenever a given FS\nis used.\n\n> Part of this chagne is to modify the FS type for /var/lib/nova. We\n  were using EXT4 and the recommended FS for VM workloads is XFS.\n\n> The mount options have largely been derived from the following posts,\n  https://www.phoronix.com/scan.php?page=article&item=linux414-fs-compare&num=1\n  https://www.phoronix.com/scan.php?page=article&item=linux-415-fs&num=1\n\nChange-Id: I75e00af687d46551e19178604b60665342cf2cae\nCloses-Bug: #1753790\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-05-17 22:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f5d70e3f0f72d98927cd423653b02713b6c06ffe', 'message': 'Add mount options whenever formatting disks\n\nThis change provides mount options for all of the file system types\nwe use. These mount options will ensure that the underlying file systems\nreact with the best possible performance when building a test cloud. The\nmain motivation behind this patch is to help resolve bug 1753790 which\nis causing sporatic failure when gating on RAX test instances that have\na secondary data disks. We were providing no options when mounting a\nsecondary disk which results in using the system defaults which may not\nbe very optimal under general workloads. The options have been added to\nthe bootstrap role and will be consistently applied whenever a given FS\nis used.\n\n> Part of this chagne is to modify the FS type for /var/lib/nova. We\n  were using EXT4 and the recommended FS for VM workloads is XFS.\n\n> The mount options have largely been derived from the following posts,\n  https://www.phoronix.com/scan.php?page=article&item=linux414-fs-compare&num=1\n  https://www.phoronix.com/scan.php?page=article&item=linux-415-fs&num=1\n\nChange-Id: I75e00af687d46551e19178604b60665342cf2cae\nCloses-Bug: #1753790\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-05-17 22:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/20443250ceb0c62ef681b29dbb02308be32bd805', 'message': 'Add mount options whenever formatting disks\n\nThis change provides mount options for all of the file system types\nwe use. These mount options will ensure that the underlying file systems\nreact with the best possible performance when building a test cloud. The\nmain motivation behind this patch is to help resolve bug 1753790 which\nis causing sporatic failure when gating on RAX test instances that have\na secondary data disks. We were providing no options when mounting a\nsecondary disk which results in using the system defaults which may not\nbe very optimal under general workloads. The options have been added to\nthe bootstrap role and will be consistently applied whenever a given FS\nis used.\n\n> Part of this chagne is to modify the FS type for /var/lib/nova. We\n  were using EXT4 and the recommended FS for VM workloads is XFS.\n\n> The mount options have largely been derived from the following posts,\n  https://www.phoronix.com/scan.php?page=article&item=linux414-fs-compare&num=1\n  https://www.phoronix.com/scan.php?page=article&item=linux-415-fs&num=1\n\nChange-Id: I75e00af687d46551e19178604b60665342cf2cae\nCloses-Bug: #1753790\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-05-18 01:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e9b7dbb8f12e8c1f05f3f5ca7b57f3a3d3d7c54e', 'message': 'Add mount options whenever formatting disks\n\nThis change provides mount options for all of the file system types\nwe use. These mount options will ensure that the underlying file systems\nreact with the best possible performance when building a test cloud. The\nmain motivation behind this patch is to help resolve bug 1753790 which\nis causing sporatic failure when gating on RAX test instances that have\na secondary data disks. We were providing no options when mounting a\nsecondary disk which results in using the system defaults which may not\nbe very optimal under general workloads. The options have been added to\nthe bootstrap role and will be consistently applied whenever a given FS\nis used.\n\n> Part of this chagne is to modify the FS type for /var/lib/nova. We\n  were using EXT4 and the recommended FS for VM workloads is XFS.\n\n> The mount options have largely been derived from the following posts,\n  https://www.phoronix.com/scan.php?page=article&item=linux414-fs-compare&num=1\n  https://www.phoronix.com/scan.php?page=article&item=linux-415-fs&num=1\n\nChange-Id: I75e00af687d46551e19178604b60665342cf2cae\nCloses-Bug: #1753790\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-05-18 22:14:50.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_loopback_machines.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_swap.yml', 'tests/roles/bootstrap-host/tasks/prepare_data_disk.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_nova.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_swift.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_btrfs.yml', 'tests/roles/bootstrap-host/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/986e35ab4e618509f75bc2f8d4a48941c07a9192', 'message': 'Add mount options whenever formatting disks\n\nThis change provides mount options for all of the file system types\nwe use. These mount options will ensure that the underlying file systems\nreact with the best possible performance when building a test cloud. The\nmain motivation behind this patch is to help resolve bug 1753790 which\nis causing sporatic failure when gating on RAX test instances that have\na secondary data disks. We were providing no options when mounting a\nsecondary disk which results in using the system defaults which may not\nbe very optimal under general workloads. The options have been added to\nthe bootstrap role and will be consistently applied whenever a given FS\nis used.\n\n> Part of this chagne is to modify the FS type for /var/lib/nova. We\n  were using EXT4 and the recommended FS for VM workloads is XFS.\n\n> The mount options have largely been derived from the following posts,\n  https://www.phoronix.com/scan.php?page=article&item=linux414-fs-compare&num=1\n  https://www.phoronix.com/scan.php?page=article&item=linux-415-fs&num=1\n\nChange-Id: I75e00af687d46551e19178604b60665342cf2cae\nCloses-Bug: #1753790\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,569226,986e35ab4e618509f75bc2f8d4a48941c07a9192,46,5,6,7353,,,0,"Add mount options whenever formatting disks

This change provides mount options for all of the file system types
we use. These mount options will ensure that the underlying file systems
react with the best possible performance when building a test cloud. The
main motivation behind this patch is to help resolve bug 1753790 which
is causing sporatic failure when gating on RAX test instances that have
a secondary data disks. We were providing no options when mounting a
secondary disk which results in using the system defaults which may not
be very optimal under general workloads. The options have been added to
the bootstrap role and will be consistently applied whenever a given FS
is used.

> Part of this chagne is to modify the FS type for /var/lib/nova. We
  were using EXT4 and the recommended FS for VM workloads is XFS.

> The mount options have largely been derived from the following posts,
  https://www.phoronix.com/scan.php?page=article&item=linux414-fs-compare&num=1
  https://www.phoronix.com/scan.php?page=article&item=linux-415-fs&num=1

Change-Id: I75e00af687d46551e19178604b60665342cf2cae
Closes-Bug: #1753790
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/26/569226/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/prepare_loopback_machines.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_swap.yml', 'tests/roles/bootstrap-host/tasks/prepare_data_disk.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_nova.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_swift.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_btrfs.yml', 'tests/roles/bootstrap-host/defaults/main.yml']",7,400011f0e8a7f8d91c48c715d81d978ce7ad4fd8,bug/1753790," xfs: xfs# # Set the data disk mount options. bootstrap_host_data_mount_options: machinectl: ""noatime,nodiratime,compress=lzo,commit=120,{{ (ansible_kernel is version_compare('4.5', '>=')) | ternary('space_cache=v2', 'space_cache') }}"" zfs: ""defaults"" btrfs: ""noatime,nodiratime,compress=lzo,commit=120,{{ (ansible_kernel is version_compare('4.5', '>=')) | ternary('space_cache=v2', 'space_cache') }}"" xfs: ""noatime,nodiratime,nobarrier,logbufs=8,logbsize=256k"" ext4: ""defaults"" dir: ""defaults"" lvm: ""defaults"" swap: ""%%""",,22,8
openstack%2Fneutron~master~I755e776a7c24e1bcdf144d7af071a52633aeb94d,openstack/neutron,master,I755e776a7c24e1bcdf144d7af071a52633aeb94d,[ci][rally] make the job inherit the right parent,MERGED,2018-03-31 07:45:43.000000000,2018-05-19 17:02:42.000000000,2018-05-19 17:02:42.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 8871}, {'_account_id': 9545}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-31 07:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3c86f6425aace7d63fdda7c81aa7fac8c514fd8', 'message': '[ci][rally] make the job inherit the right parent\n\nRally team finally added native Zuul V3 jobs (with a bunch of separate\nroles and etc) and for simplification of maintainance, it would be nice\nto use them.\n\nChange-Id: I755e776a7c24e1bcdf144d7af071a52633aeb94d\n'}, {'number': 2, 'created': '2018-04-19 12:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/29a60d0db403bdbb1363ff0cdcdbd1317d643d38', 'message': '[ci][rally] make the job inherit the right parent\n\nRally team finally added native Zuul V3 jobs (with a bunch of separate\nroles and etc) and for simplification of maintainance, it would be nice\nto use them.\n\nChange-Id: I755e776a7c24e1bcdf144d7af071a52633aeb94d\n'}, {'number': 3, 'created': '2018-05-16 11:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fd66252802680446a0f9a797d7a84c30f5512fd', 'message': '[ci][rally] make the job inherit the right parent\n\nRally team finally added native Zuul V3 jobs (with a bunch of separate\nroles and etc) and for simplification of maintainance, it would be nice\nto use them.\n\nChange-Id: I755e776a7c24e1bcdf144d7af071a52633aeb94d\n'}, {'number': 4, 'created': '2018-05-16 11:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cf40785d3a5daa88ad2ce1e39a483e1d4e40871', 'message': '[ci][rally] make the job inherit the right parent\n\nRally team finally added native Zuul V3 jobs (with a bunch of separate\nroles and etc) and for simplification of maintainance, it would be nice\nto use them.\n\nChange-Id: I755e776a7c24e1bcdf144d7af071a52633aeb94d\n'}, {'number': 5, 'created': '2018-05-16 12:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8706216d259df0a6005476a3be9f2ead5e40abfc', 'message': '[ci][rally] make the job inherit the right parent\n\nRally team finally added native Zuul V3 jobs (with a bunch of separate\nroles and etc) and for simplification of maintainance, it would be nice\nto use them.\n\nChange-Id: I755e776a7c24e1bcdf144d7af071a52633aeb94d\n'}, {'number': 6, 'created': '2018-05-16 14:05:48.000000000', 'files': ['.zuul.yaml', 'rally-jobs/task-neutron.yaml', 'playbooks/legacy/neutron-rally-neutron/post.yaml', 'playbooks/legacy/neutron-rally-neutron/run.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/49e3b37e28cfbd15d6682fdeec836ebab05e3483', 'message': '[ci][rally] make the job inherit the right parent\n\nRally team finally added native Zuul V3 jobs (with a bunch of separate\nroles and etc) and for simplification of maintainance, it would be nice\nto use them.\n\nChange-Id: I755e776a7c24e1bcdf144d7af071a52633aeb94d\n'}]",1,558037,49e3b37e28cfbd15d6682fdeec836ebab05e3483,43,12,6,9545,,,0,"[ci][rally] make the job inherit the right parent

Rally team finally added native Zuul V3 jobs (with a bunch of separate
roles and etc) and for simplification of maintainance, it would be nice
to use them.

Change-Id: I755e776a7c24e1bcdf144d7af071a52633aeb94d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/558037/5 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'rally-jobs/task-neutron.yaml', 'playbooks/legacy/neutron-rally-neutron/post.yaml', 'playbooks/legacy/neutron-rally-neutron/run.yaml']",4,d3c86f6425aace7d63fdda7c81aa7fac8c514fd8,rally_zuul_v3,,"- hosts: all name: Autoconverted job legacy-rally-dsvm-neutron-neutron from old job gate-rally-dsvm-neutron-neutron-ubuntu-xenial tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack-infra/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ git://git.openstack.org \ openstack-infra/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x if [ $ZUUL_PROJECT == ""openstack/rally"" ] && [ $ZUUL_BRANCH != ""master"" ]; then export DEVSTACK_GATE_FEATURE_MATRIX=""/opt/stack/new/rally/devstack/features.yaml"" fi export PROJECTS=""openstack/rally $PROJECTS"" export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_HORIZON=1 export DEVSTACK_GATE_NEUTRON_EXTENSIONS=0 export DEVSTACK_GATE_IRONIC=0 export DEVSTACK_GATE_ZAQAR=0 export DEVSTACK_GATE_SENLIN=0 export DEVSTACK_GATE_WATCHER=0 export DEVSTACK_GATE_MAGNUM=0 export DEVSTACK_GATE_HEAT=0 export DEVSTACK_GATE_SWIFT=1 export DEVSTACK_GATE_TELEMETRY=0 export DEVSTACK_GATE_TEMPEST_LARGE_OPS=0 export DEVSTACK_GATE_EXERCISES=0 export DEVSTACK_GATE_PREPOPULATE_USERS=0 export DEVSTACK_GATE_USE_PYTHON3=False export USE_KEYSTONE_V2API=0 export RALLY_SCENARIO=$ZUUL_SHORT_PROJECT_NAME-neutron if [ $USE_KEYSTONE_V2API -eq 1 ]; then export IDENTITY_API_VERSION=2.0 else export IDENTITY_API_VERSION=3 fi DEVSTACK_LOCAL_CONFIG=""enable_plugin rally git://git.openstack.org/openstack/rally"" DEVSTACK_LOCAL_CONFIG+=$'\n'""CINDER_ENABLE_V1_API=True"" DEVSTACK_LOCAL_CONFIG+=$'\n'""IDENTITY_API_VERSION=$IDENTITY_API_VERSION"" ENABLED_SERVICES=key,horizon, ENABLED_SERVICES+=cinder,c-api,c-vol,c-sch,c-bak, ENABLED_SERVICES+=g-api,g-reg, ENABLED_SERVICES+=n-api,n-crt,n-cpu,n-sch,n-cond, ENABLED_SERVICES+=neutron-qos, if [ $DEVSTACK_GATE_SWIFT -eq 1 ]; then ENABLED_SERVICES+=s-proxy,s-account,s-container,s-object, else export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service s-account"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service s-container"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service s-object"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service s-proxy"" fi if [ $DEVSTACK_GATE_HEAT -ne 0 ]; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin heat https://git.openstack.org/openstack/heat"" fi export PROJECTS=""openstack/neutron $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin neutron git://git.openstack.org/openstack/neutron"" if [ $DEVSTACK_GATE_NEUTRON_EXTENSIONS -ne 0 ]; then export PROJECTS=""openstack/neutron-lbaas $PROJECTS"" export PROJECTS=""openstack/octavia $PROJECTS"" export PROJECTS=""openstack/neutron-fwaas $PROJECTS"" export PROJECTS=""openstack/diskimage-builder $PROJECTS"" export PROJECTS=""openstack/tripleo-image-elements $PROJECTS"" export PROJECTS=""openstack/neutron-vpnaas $PROJECTS"" export PROJECTS=""openstack/networking-bgpvpn $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin neutron-lbaas git://git.openstack.org/openstack/neutron-lbaas"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin octavia https://git.openstack.org/openstack/octavia"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin neutron-fwaas https://git.openstack.org/openstack/neutron-fwaas"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin neutron-vpnaas https://git.openstack.org/openstack/neutron-vpnaas"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin networking-bgpvpn https://git.openstack.org/openstack/networking-bgpvpn.git"" export ENABLED_SERVICES+=q-lbaasv2,octavia,o-cw,o-hk,o-hm,o-api,q-fwaas,q-svc,q-agt,q-dhcp,q-l3,q-meta, fi if [ $DEVSTACK_GATE_IRONIC -ne 0 ]; then export PROJECTS=""openstack/ironic $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin ironic git://git.openstack.org/openstack/ironic"" fi if [ $DEVSTACK_GATE_ZAQAR -ne 0 ]; then export PROJECTS=""openstack/python-zaqarclient $PROJECTS"" export PROJECTS=""openstack/zaqar-ui $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin zaqar git://git.openstack.org/openstack/zaqar"" fi if [ $DEVSTACK_GATE_SENLIN -ne 0 ]; then export PROJECTS=""openstack/senlin $PROJECTS"" export PROJECTS=""openstack/python-senlinclient $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin senlin git://git.openstack.org/openstack/senlin"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_service sl-api sl-eng"" fi if [ $DEVSTACK_GATE_WATCHER -ne 0 ]; then export PROJECTS=""openstack/watcher $PROJECTS"" export PROJECTS=""openstack/python-watcherclient $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin watcher git://git.openstack.org/openstack/watcher"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_service watcher-api watcher-decision-engine watcher-applier"" fi if [ $DEVSTACK_GATE_MAGNUM -ne 0 ]||[ $RALLY_SCENARIO = ""magnum"" ]; then export PROJECTS=""openstack/magnum $PROJECTS"" export PROJECTS=""openstack/python-magnumclient $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin magnum https://git.openstack.org/openstack/magnum"" fi if [ $DEVSTACK_GATE_TELEMETRY -ne 0 ]; then export PROJECTS=""openstack/panko $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin panko git://git.openstack.org/openstack/panko"" export ENABLED_SERVICES+=panko-api, export PROJECTS=""openstack/ceilometer $PROJECTS"" export PROJECTS=""openstack/aodh $PROJECTS"" export PROJECTS=""openstack/gnocchi $PROJECTS"" export CEILOMETER_NOTIFICATION_TOPICS=notifications,profiler export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin ceilometer git://git.openstack.org/openstack/ceilometer"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin aodh git://git.openstack.org/openstack/aodh"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin gnocchi git://git.openstack.org/openstack/gnocchi"" export ENABLED_SERVICES+=ceilometer-acompute,ceilometer-acentral,ceilometer-api, export ENABLED_SERVICES+=ceilometer-anotification,ceilometer-collector, export ENABLED_SERVICES+=aodh-api,aodh-evaluator,aodh-notifier, fi export ENABLED_SERVICES export DEVSTACK_LOCAL_CONFIG if [[ ""$ZUUL_PROJECT"" = ""openstack/neutron"" ]]; then function gate_hook { bash -xe $BASE/new/neutron/neutron/tests/contrib/gate_hook.sh rally $ZUUL_SHORT_PROJECT_NAME-neutron } export -f gate_hook fi function post_test_hook { $BASE/new/rally/tests/ci/rally-gate.sh } export -f post_test_hook if [[ ""$DEVSTACK_GATE_USE_PYTHON3"" = ""True"" ]]; then # Switch off glance->swift communication as swift fails under py3.x function pre_test_hook { local localconf=$BASE/new/devstack/local.conf echo ""[[post-config|\$GLANCE_API_CONF]]"" >> $localconf echo ""[glance_store]"" >> $localconf echo ""default_store=file"" >> $localconf } export -f pre_test_hook fi cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",9,243
openstack%2Fopenstack-helm-infra~master~Ia8edc8c2eedea36fb8b5f0e5034e4e6da888d417,openstack/openstack-helm-infra,master,Ia8edc8c2eedea36fb8b5f0e5034e4e6da888d417,Gate: make dev deploy and keystone auth gate voting,MERGED,2018-05-19 05:41:08.000000000,2018-05-19 16:34:34.000000000,2018-05-19 16:34:34.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2018-05-19 05:41:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/90449583287492b7e266f357de0060d3b18baa94', 'message': 'Gate: make dev deploy and keystone auth gate voting\n\nThis PS makes the dev-deploy and keystone gate voting, further\npatches will build on this to provide complete helm-toolkit coverage\n\nChange-Id: Ia8edc8c2eedea36fb8b5f0e5034e4e6da888d417\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,569557,90449583287492b7e266f357de0060d3b18baa94,7,3,1,23928,,,0,"Gate: make dev deploy and keystone auth gate voting

This PS makes the dev-deploy and keystone gate voting, further
patches will build on this to provide complete helm-toolkit coverage

Change-Id: Ia8edc8c2eedea36fb8b5f0e5034e4e6da888d417
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/57/569557/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,90449583287492b7e266f357de0060d3b18baa94,images/jobs, - openstack-helm-infra-linter - openstack-helm-infra-ubuntu: - openstack-helm-infra-linter - openstack-helm-infra-dev-deploy: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - openstack-helm-infra-kubernetes-keystone-auth: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$, - openstack-helm-infra-linter: voting: true - openstack-helm-infra-ubuntu: voting: true voting: true voting: false voting: false - openstack-helm-infra-linter: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$,12,11
openstack%2Ftraining-guides~master~Ibd72b10406ef5c6c682ffcc19a1e289854bbf119,openstack/training-guides,master,Ibd72b10406ef5c6c682ffcc19a1e289854bbf119,Updating the VM image link,MERGED,2018-05-19 15:43:55.000000000,2018-05-19 16:22:00.000000000,2018-05-19 16:22:00.000000000,"[{'_account_id': 9562}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-19 15:43:55.000000000', 'files': ['doc/upstream-training/source/website/upstream-trainees-guide.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/2087c4fe312569526b84dbc72f64fe45abe97a96', 'message': 'Updating the VM image link\n\nChanging the VM image link to the Vancouver one.\n\nChange-Id: Ibd72b10406ef5c6c682ffcc19a1e289854bbf119\nSigned-off-by: Gergely Csatari <gergely.csatari@nokia.com>\n'}]",0,569580,2087c4fe312569526b84dbc72f64fe45abe97a96,7,3,1,21723,,,0,"Updating the VM image link

Changing the VM image link to the Vancouver one.

Change-Id: Ibd72b10406ef5c6c682ffcc19a1e289854bbf119
Signed-off-by: Gergely Csatari <gergely.csatari@nokia.com>
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/80/569580/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/upstream-training/source/website/upstream-trainees-guide.rst'],1,2087c4fe312569526b84dbc72f64fe45abe97a96,vm-link-update, * Image: http://bit.ly/vm-2018-vancouver-v1, * Image and instructions: https://github.com/openstack/upstream-institute-virtual-environment,1,1
openstack%2Ftripleo-ci~master~Ie890fde86c7b1e92ca20415468e451637b3e21f6,openstack/tripleo-ci,master,Ie890fde86c7b1e92ca20415468e451637b3e21f6,Remove hardcoded relese variable in quickstart run,ABANDONED,2017-09-18 13:10:11.000000000,2018-05-19 16:13:45.000000000,,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2017-09-18 13:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5eafc3ed488c55b399f8fa6b008b5550ddc899a3', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 2, 'created': '2017-09-19 01:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/85ea6fc24f338b9a6227fa0de699327c8e80061c', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 3, 'created': '2017-09-25 01:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/aa83e8ac640444393eb5ee940f40ab305233dc0d', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 4, 'created': '2017-09-25 02:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/deeb82eb7865943e3c03d484bde0baa53220185f', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 5, 'created': '2017-09-25 05:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d318db10bddbb8b2559fec88d1a4b5805619024f', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 6, 'created': '2017-09-25 06:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bba3061941ed57313a83d4e5cbc64a29d71b300c', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 7, 'created': '2017-09-26 10:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b22db2aad811414676d64b24a67a8c40768d641a', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 8, 'created': '2017-12-13 07:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/428d05c31b0d1bdc4e7fe14182489df05f21301d', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 9, 'created': '2017-12-13 08:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6b0a4c6b0bb560b15039c1383f1a27dc2e47efca', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 10, 'created': '2017-12-14 10:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4f7146d8a416020f4ce5c440a64d2cc0748ae1d8', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 11, 'created': '2017-12-22 06:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c29e413d29144cecf235e75ab31915b98d3dcb35', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 12, 'created': '2018-01-10 14:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1786fecf018e4196953fa6b1024b3dfaf9527c0d', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 13, 'created': '2018-01-16 07:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8cc61aac935129f6c69151c994a0113519681c6c', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 14, 'created': '2018-01-18 07:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d74f17d9ef8f6f46d43a471687a8e304394b66e5', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 15, 'created': '2018-01-18 08:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3f745a9dd4d705b50df371623212124dcb5ba936', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 16, 'created': '2018-01-18 08:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/194b3640de426eb11ce8dac6b8ba3ab01098dd2e', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 17, 'created': '2018-01-29 08:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2ef03fd8d3de1d67bbf69db7d00a478a27c803be', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 18, 'created': '2018-02-04 23:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4cf5b7e0f1dee982e47c526a780e1cf924fe698a', 'message': ""Set repo setup release in playbook\n\nFor dynamical change of release variables for upgrades, use\nreleas_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 19, 'created': '2018-02-06 12:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2fc36f2f4023a3417def153254a7729b7b4c5200', 'message': ""Set repo setup release in playbook\n\nFor dynamic change of release variables for upgrades, use\nrelease_config var in playbook, so that it's not overrided by\nexternal vars.\n\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\n""}, {'number': 20, 'created': '2018-02-07 09:47:38.000000000', 'files': ['toci_quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0a0b34284a2c476bfbe422c9a24df85122f80155', 'message': 'Remove hardcoded relese variable in quickstart run\n\nAfter we set up release vars dynamically, remoce release extra\nvariable which was added to quickstart ansible command.\n\nDepends-On: Ie148c46d6eeff543b0a3acfda5b1cc125f482571\nChange-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6\n'}]",1,504939,0a0b34284a2c476bfbe422c9a24df85122f80155,106,10,20,10969,,,0,"Remove hardcoded relese variable in quickstart run

After we set up release vars dynamically, remoce release extra
variable which was added to quickstart ansible command.

Depends-On: Ie148c46d6eeff543b0a3acfda5b1cc125f482571
Change-Id: Ie890fde86c7b1e92ca20415468e451637b3e21f6
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/39/504939/13 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/playbooks/ovb.yml', 'toci_quickstart.sh', 'toci-quickstart/playbooks/multinode.yml']",3,5eafc3ed488c55b399f8fa6b008b5550ddc899a3,repos1," - { role: repo-setup, release_config: ""tripleo-ci/{{ lookup('env', 'QUICKSTART_RELEASE') }}"" } - { role: repo-setup, release_config: ""tripleo-ci/{{ lookup('env', 'QUICKSTART_RELEASE') }}""} - {role: repo-setup, release_config: ""tripleo-ci/{{ lookup('env', 'QUICKSTART_RELEASE') }}"" }", - role: repo-setup - role: repo-setup - role: repo-setup,14,6
openstack%2Ftripleo-quickstart-extras~master~Ie148c46d6eeff543b0a3acfda5b1cc125f482571,openstack/tripleo-quickstart-extras,master,Ie148c46d6eeff543b0a3acfda5b1cc125f482571,Set repo setup release in playbooks,ABANDONED,2018-01-18 13:38:39.000000000,2018-05-19 16:13:02.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-01-18 13:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/43275fcfb16b442d8e8ff145a713fcfdbb75a927', 'message': ""WIP: Set repo setup release in OVB playbook\n\nFor dynamical change of release variables for upgrades,\nuse releas_config var in playbook, so that it's not overrided by\nexternal vars\n\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\nChange-Id: Ie148c46d6eeff543b0a3acfda5b1cc125f482571\n""}, {'number': 2, 'created': '2018-02-06 09:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/160b5b95fe4dbc81e8015ab1404e94fb45bf42d0', 'message': ""WIP: Set repo setup release in OVB playbook\n\nFor dynamical change of release variables for upgrades,\nuse releas_config var in playbook, so that it's not overrided by\nexternal vars\n\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\nDepends-On: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nChange-Id: Ie148c46d6eeff543b0a3acfda5b1cc125f482571\n""}, {'number': 3, 'created': '2018-02-06 12:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cd8486df9e163b46a9063cb7427ca0fe32f6b55b', 'message': ""Set repo setup release in OVB playbook\n\nFor dynamic change of release variables for upgrades,\nuse release_config var in playbook, so that it's not overrided by\nexternal vars\n\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\nDepends-On: Ie890fde86c7b1e92ca20415468e451637b3e21f6\nChange-Id: Ie148c46d6eeff543b0a3acfda5b1cc125f482571\n""}, {'number': 4, 'created': '2018-02-07 09:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9d47d75a26b7105826abe21eb26cc1a5219b2bd2', 'message': ""Set repo setup release in playbooks\n\nFor dynamic change of release variables for upgrades,\nuse release_config var in playbook, so that it's not overrided by\nexternal vars\n\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\nChange-Id: Ie148c46d6eeff543b0a3acfda5b1cc125f482571\n""}, {'number': 5, 'created': '2018-02-07 10:24:59.000000000', 'files': ['playbooks/multinode-overcloud-upgrade.yml', 'playbooks/baremetal-full-overcloud-prep.yml', 'playbooks/baremetal-full-undercloud.yml', 'playbooks/ovb-setup.yml', 'playbooks/multinode-undercloud.yml', 'playbooks/baremetal-full-overcloud-validate.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/faba57cee9f5c0374dee87e3e96ad8b50b7a82ad', 'message': ""Set repo setup release in playbooks\n\nFor dynamic change of release variables for upgrades,\nuse release_config var in playbook, so that it's not overrided by\nexternal vars\n\nDepends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64\nChange-Id: Ie148c46d6eeff543b0a3acfda5b1cc125f482571\n""}]",1,535327,faba57cee9f5c0374dee87e3e96ad8b50b7a82ad,33,8,5,10969,,,0,"Set repo setup release in playbooks

For dynamic change of release variables for upgrades,
use release_config var in playbook, so that it's not overrided by
external vars

Depends-On: Ia62281c232e6ccaee4feaeb01b5c9a122350bf64
Change-Id: Ie148c46d6eeff543b0a3acfda5b1cc125f482571
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/27/535327/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ovb-setup.yml', 'playbooks/baremetal-full-overcloud-validate.yml']",2,43275fcfb16b442d8e8ff145a713fcfdbb75a927,repos1,"- name: Generate repo-setup script for ocata hosts: undercloud tags: - overcloud-validate gather_facts: no vars: release_config: ""tripleo-ci/ocata"" repo_run_live: false repo_setup_script: repo-setup-ocata.sh roles: - repo-setup",,14,0
openstack%2Ftripleo-quickstart-extras~master~I60357d9cc7a8cd4806d37edceeefa27969502605,openstack/tripleo-quickstart-extras,master,I60357d9cc7a8cd4806d37edceeefa27969502605,WIP: running containers update without base repo,ABANDONED,2018-05-10 09:10:03.000000000,2018-05-19 16:12:41.000000000,,"[{'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-10 09:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9be44bafe0348716c0a7c32f5b75823d337979fe', 'message': ""WIP: running containers update without base repo\n\nDon't run updates from base repo in containers.\n\nChange-Id: I60357d9cc7a8cd4806d37edceeefa27969502605\n""}, {'number': 2, 'created': '2018-05-12 21:53:34.000000000', 'files': ['roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/db77928d9f171e0af10e56c7f6ccbb0661a05923', 'message': ""WIP: running containers update without base repo\n\nDon't run updates from base repo in containers.\n\nDepends-On: Ia00dce3461b4b0024365cf73c015e8acb15e5a5a\nChange-Id: I60357d9cc7a8cd4806d37edceeefa27969502605\n""}]",0,567526,db77928d9f171e0af10e56c7f6ccbb0661a05923,12,4,2,10969,,,0,"WIP: running containers update without base repo

Don't run updates from base repo in containers.

Depends-On: Ia00dce3461b4b0024365cf73c015e8acb15e5a5a
Change-Id: I60357d9cc7a8cd4806d37edceeefa27969502605
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/26/567526/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2'],1,9be44bafe0348716c0a7c32f5b75823d337979fe,nobase,"CENTOS_REPOS=$(find /etc/yum.repos.d -type f -name ""CentOS-*.repo"" -o -name ""quickstart-centos-*.repo"" )","CENTOS_REPOS=$(find /etc/yum.repos.d -type f -name ""CentOS-*.repo"" -o -name ""quickstart-centos-*.repo"" ! -name quickstart-centos-base.repo )",1,1
openstack%2Ftripleo-quickstart~master~If86d681d6c743a112b7f14a8e082be77e4643631,openstack/tripleo-quickstart,master,If86d681d6c743a112b7f14a8e082be77e4643631,DNM: don't update dhcp packages with repo-setup,ABANDONED,2018-05-17 13:11:36.000000000,2018-05-19 16:10:50.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 13:11:36.000000000', 'files': ['config/release/tripleo-ci/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/74ff356e97b073f4dd10c25293f3b077b13622b7', 'message': ""DNM: don't update dhcp packages with repo-setup\n\nDon't update dhcp packages, test if initramfs images not updated.\n\nDepends-On: I4849d77f21163ec8f116859c857a85f9c72ec282\nChange-Id: If86d681d6c743a112b7f14a8e082be77e4643631\n""}]",0,569106,74ff356e97b073f4dd10c25293f3b077b13622b7,5,3,1,10969,,,0,"DNM: don't update dhcp packages with repo-setup

Don't update dhcp packages, test if initramfs images not updated.

Depends-On: I4849d77f21163ec8f116859c857a85f9c72ec282
Change-Id: If86d681d6c743a112b7f14a8e082be77e4643631
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/06/569106/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/master.yml'],1,74ff356e97b073f4dd10c25293f3b077b13622b7,excl, sudo yum update -y --exclude=dhc*, sudo yum update -y,1,1
openstack%2Ftripleo-quickstart-extras~master~I70cae3f45affd55284d832c1b864e9f63cb02c3f,openstack/tripleo-quickstart-extras,master,I70cae3f45affd55284d832c1b864e9f63cb02c3f,DNM: don't make any changes on image,ABANDONED,2018-05-17 14:18:20.000000000,2018-05-19 16:10:45.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 14:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6260194612069d6140c7ce7008dea13600af2b09', 'message': ""DNM: don't make any changes on image\n\ntest not doing any changes on initramfs image\n\nChange-Id: I70cae3f45affd55284d832c1b864e9f63cb02c3f\n""}, {'number': 2, 'created': '2018-05-18 08:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a97747fda88b676d79fe753031303dde2d0aa7dd', 'message': ""DNM: don't make any changes on image\n\ntest not doing any changes on initramfs image\n\nChange-Id: I70cae3f45affd55284d832c1b864e9f63cb02c3f\n""}, {'number': 3, 'created': '2018-05-18 13:26:07.000000000', 'files': ['roles/modify-image/tasks/manual.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8e74492c6fca7badeeda2432614fa26a1f1f00ee', 'message': ""DNM: don't make any changes on image\n\ntest not doing any changes on initramfs image\n\nChange-Id: I70cae3f45affd55284d832c1b864e9f63cb02c3f\n""}]",0,569126,8e74492c6fca7badeeda2432614fa26a1f1f00ee,13,3,3,10969,,,0,"DNM: don't make any changes on image

test not doing any changes on initramfs image

Change-Id: I70cae3f45affd55284d832c1b864e9f63cb02c3f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/26/569126/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/modify-image/tasks/manual.yml'],1,6260194612069d6140c7ce7008dea13600af2b09,569126," # - name: Upload files to image # shell: > # cp {{ item.src }} {{ mount_tempdir }}/{{ item.dest }}; # with_items: ""{{ modify_image_upload_files }}"" # # - name: Run script on image # shell: > # mv {{ mount_tempdir }}/etc/resolv.conf{,_}; # echo -e ""nameserver 8.8.8.8\nnameserver 8.8.4.4"" > {{ mount_tempdir }}/etc/resolv.conf; # cp {{ modify_script }} {{ mount_tempdir }}/tmp/{{ modify_script|basename }}; # {% if initramfs_image|bool %}sed -i ""s/sudo //g"" {{ mount_tempdir }}/tmp/{{ modify_script|basename }};{% endif %} # set -o pipefail && chroot {{ mount_tempdir }} /bin/bash /tmp/{{ modify_script|basename }} 2>&1 # {{ timestamper_cmd }} > {{ working_dir }}/{{ modify_script|basename }}.$(date +%s).log; # mv -f {{ mount_tempdir }}/etc/resolv.conf{_,}; # # - name: Extract files from image # shell: cp {{ mount_tempdir }}/{{ item }} {{ modify_image_working_dir }}/; # with_items: ""{{ modify_image_extract_list }}"" # ignore_errors: true"," - name: Upload files to image shell: > cp {{ item.src }} {{ mount_tempdir }}/{{ item.dest }}; with_items: ""{{ modify_image_upload_files }}"" - name: Run script on image shell: > mv {{ mount_tempdir }}/etc/resolv.conf{,_}; echo -e ""nameserver 8.8.8.8\nnameserver 8.8.4.4"" > {{ mount_tempdir }}/etc/resolv.conf; cp {{ modify_script }} {{ mount_tempdir }}/tmp/{{ modify_script|basename }}; {% if initramfs_image|bool %}sed -i ""s/sudo //g"" {{ mount_tempdir }}/tmp/{{ modify_script|basename }};{% endif %} set -o pipefail && chroot {{ mount_tempdir }} /bin/bash /tmp/{{ modify_script|basename }} 2>&1 {{ timestamper_cmd }} > {{ working_dir }}/{{ modify_script|basename }}.$(date +%s).log; mv -f {{ mount_tempdir }}/etc/resolv.conf{_,}; - name: Extract files from image shell: cp {{ mount_tempdir }}/{{ item }} {{ modify_image_working_dir }}/; with_items: ""{{ modify_image_extract_list }}"" ignore_errors: true",19,19
openstack%2Ftripleo-quickstart~master~Id6102d23b5c9f1b59f9fb84a9dd374a375c17d12,openstack/tripleo-quickstart,master,Id6102d23b5c9f1b59f9fb84a9dd374a375c17d12,DNM: test without introspection,ABANDONED,2018-05-14 09:45:59.000000000,2018-05-19 16:10:41.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-14 09:45:59.000000000', 'files': ['config/general_config/featureset021.yml', 'config/general_config/featureset024.yml', 'config/general_config/featureset002.yml', 'config/general_config/deprecated/composable_upgrade.yml', 'config/general_config/featureset020.yml', 'config/general_config/featureset035.yml', 'config/general_config/featureset022.yml', 'config/general_config/featureset025.yml', 'config/general_config/featureset048.yml', 'config/general_config/minimal.yml', 'config/general_config/deprecated/no_netiso.yml', 'config/general_config/pacemaker.yml', 'config/general_config/featureset001.yml', 'config/general_config/featureset042.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/51c744dcf152a874fb4066dcc219297d6e70fc1a', 'message': 'DNM: test without introspection\n\nnothing here\n\nChange-Id: Id6102d23b5c9f1b59f9fb84a9dd374a375c17d12\n'}]",0,568246,51c744dcf152a874fb4066dcc219297d6e70fc1a,5,3,1,10969,,,0,"DNM: test without introspection

nothing here

Change-Id: Id6102d23b5c9f1b59f9fb84a9dd374a375c17d12
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/46/568246/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset021.yml', 'config/general_config/featureset024.yml', 'config/general_config/featureset002.yml', 'config/general_config/deprecated/composable_upgrade.yml', 'config/general_config/featureset020.yml', 'config/general_config/featureset035.yml', 'config/general_config/featureset022.yml', 'config/general_config/featureset025.yml', 'config/general_config/featureset048.yml', 'config/general_config/minimal.yml', 'config/general_config/deprecated/no_netiso.yml', 'config/general_config/pacemaker.yml', 'config/general_config/featureset001.yml', 'config/general_config/featureset042.yml']",14,51c744dcf152a874fb4066dcc219297d6e70fc1a,nointrospect,step_introspect: false,step_introspect: true,14,14
openstack%2Ftripleo-ci~master~Ia00dce3461b4b0024365cf73c015e8acb15e5a5a,openstack/tripleo-ci,master,Ia00dce3461b4b0024365cf73c015e8acb15e5a5a,WIP: Update containers,ABANDONED,2018-05-12 21:50:10.000000000,2018-05-19 16:10:37.000000000,,"[{'_account_id': 8871}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-12 21:50:10.000000000', 'files': ['toci-quickstart/config/testenv/multinode.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f8d7e73133e85720a3a03cff9a6b3b9758cb676a', 'message': 'WIP: Update containers\n\nUpdate containers\n\nChange-Id: Ia00dce3461b4b0024365cf73c015e8acb15e5a5a\n'}]",0,568024,f8d7e73133e85720a3a03cff9a6b3b9758cb676a,5,3,1,10969,,,0,"WIP: Update containers

Update containers

Change-Id: Ia00dce3461b4b0024365cf73c015e8acb15e5a5a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/24/568024/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/multinode.yml'],1,f8d7e73133e85720a3a03cff9a6b3b9758cb676a,updatecont,"update_containers: ""{% if containerized_overcloud|bool %}true{% endif %}"" #update_containers: false","#update_containers: ""{% if containerized_overcloud|bool %}true{% endif %}"" update_containers: false",2,2
openstack%2Ftripleo-common~master~I30ed871fde9b2708846a2a2a6e892a11c29a63e4,openstack/tripleo-common,master,I30ed871fde9b2708846a2a2a6e892a11c29a63e4,DNM: test ccheck patch,ABANDONED,2018-05-10 14:04:31.000000000,2018-05-19 16:10:30.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-10 14:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7e3f8ec650981061ce532f220f6d864f3d4a4ad5', 'message': 'DNM: test ccheck patch\n\nnothing here\nDepends-On: I764bc9a368e63a9aa82ec5503bcd3a9c7c6f4e25\n\nChange-Id: I30ed871fde9b2708846a2a2a6e892a11c29a63e4\n'}, {'number': 2, 'created': '2018-05-12 21:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/57113a71c2eb03838a3d1ac52c8a735183120151', 'message': 'DNM: test ccheck patch\n\nnothing here\nDepends-On: I764bc9a368e63a9aa82ec5503bcd3a9c7c6f4e25\nDepends-On: Ia00dce3461b4b0024365cf73c015e8acb15e5a5a\n\nChange-Id: I30ed871fde9b2708846a2a2a6e892a11c29a63e4\n'}, {'number': 3, 'created': '2018-05-14 21:54:24.000000000', 'files': ['tripleo_common/image/base.py', 'tripleo_common/actions/ansible.py', 'workbooks/scale.yaml', 'playbooks/octavia-files.yaml', 'roles/tripleo-ssh-known-hosts/tasks/main.yml', 'tripleo_common/templates/heat-config.j2', 'image-yaml/overcloud-images.yaml', 'tripleo_common/arch.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d1c0ef7832850ea9725155e02e442e9d4c3f9f29', 'message': 'DNM: test ccheck patch\n\nnothing here\nDepends-On: I764bc9a368e63a9aa82ec5503bcd3a9c7c6f4e25\nDepends-On: Ia00dce3461b4b0024365cf73c015e8acb15e5a5a\n\nChange-Id: I30ed871fde9b2708846a2a2a6e892a11c29a63e4\n'}]",0,567596,d1c0ef7832850ea9725155e02e442e9d4c3f9f29,22,3,3,10969,,,0,"DNM: test ccheck patch

nothing here
Depends-On: I764bc9a368e63a9aa82ec5503bcd3a9c7c6f4e25
Depends-On: Ia00dce3461b4b0024365cf73c015e8acb15e5a5a

Change-Id: I30ed871fde9b2708846a2a2a6e892a11c29a63e4
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/96/567596/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/base.py', 'tripleo_common/actions/ansible.py', 'playbooks/octavia-files.yaml', 'workbooks/scale.yaml', 'roles/tripleo-ssh-known-hosts/tasks/main.yml', 'tripleo_common/templates/heat-config.j2', 'image-yaml/overcloud-images.yaml', 'tripleo_common/arch.py']",8,7e3f8ec650981061ce532f220f6d864f3d4a4ad5,tesccheck,# test,,8,3
openstack%2Fopenstacksdk~master~Ie936a9e7593f09225d992b9a8de1988963c33b14,openstack/openstacksdk,master,Ie936a9e7593f09225d992b9a8de1988963c33b14,Enable bare metal unit tests,MERGED,2018-05-18 12:38:14.000000000,2018-05-19 15:48:29.000000000,2018-05-19 15:48:29.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 12:38:14.000000000', 'files': ['openstack/tests/unit/cloud/test_baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ab8f6026491accb27bda3fb1f65415bf94b0e671', 'message': 'Enable bare metal unit tests\n\nNo idea why they were disabled, they seem to pass correctly.\n\nChange-Id: Ie936a9e7593f09225d992b9a8de1988963c33b14\n'}]",0,569401,ab8f6026491accb27bda3fb1f65415bf94b0e671,8,2,1,10239,,,0,"Enable bare metal unit tests

No idea why they were disabled, they seem to pass correctly.

Change-Id: Ie936a9e7593f09225d992b9a8de1988963c33b14
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/01/569401/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/unit/cloud/test_baremetal_node.py'],1,ab8f6026491accb27bda3fb1f65415bf94b0e671,ironic-tests,," # TODO(shade) Fix this when we get ironic update to REST self.skipTest(""Ironic operations not supported yet"") # TODO(shade) Fix this when we get ironic update to REST self.skipTest(""Ironic operations not supported yet"")",0,4
openstack%2Fproject-config~master~I2319457b936955bed7a5c0d60e7ca03319661f8c,openstack/project-config,master,I2319457b936955bed7a5c0d60e7ca03319661f8c,Remove jobs from ansible-role-ssh,MERGED,2018-05-18 01:45:45.000000000,2018-05-19 15:39:10.000000000,2018-05-19 15:39:10.000000000,"[{'_account_id': 1}, {'_account_id': 9061}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2018-05-18 01:45:45.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/08d66202f25bf03f98ecd8179f4ed45a689de6db', 'message': 'Remove jobs from ansible-role-ssh\n\nWe no longer need to define jobs in project-config, as we are moving\nthem in-tree.\n\nChange-Id: I2319457b936955bed7a5c0d60e7ca03319661f8c\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,569302,08d66202f25bf03f98ecd8179f4ed45a689de6db,8,4,1,4162,,,0,"Remove jobs from ansible-role-ssh

We no longer need to define jobs in project-config, as we are moving
them in-tree.

Change-Id: I2319457b936955bed7a5c0d60e7ca03319661f8c
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/02/569302/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,08d66202f25bf03f98ecd8179f4ed45a689de6db,,, - ansible-role-jobs - ansible-role-functional-jobs-centos7 - ansible-role-functional-jobs-xenial - windmill-jobs-centos7-nv - windmill-jobs-fedora-27 - windmill-jobs-xenial,0,6
openstack%2Fmanila~master~Ic8e8033b77f82c3264270ba042a44177babaff9b,openstack/manila,master,Ic8e8033b77f82c3264270ba042a44177babaff9b,Fix test plugin issues in dsvm-lvm-centos job,MERGED,2018-05-18 18:04:16.000000000,2018-05-19 15:00:45.000000000,2018-05-19 00:25:55.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-05-18 18:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/37ae033362cd39271347dfa678ecb8dc7ab03d5b', 'message': 'Fix test plugin issues in dsvm-lvm-centos job\n\nRequire running the job with neutron-tempest-plugin\nsince neutron-dynamic-routing relies on it,\nand does not specify it in its requirements.\n\nChange-Id: Ic8e8033b77f82c3264270ba042a44177babaff9b\nCloses-Bug: #1772077\n'}, {'number': 2, 'created': '2018-05-18 19:57:18.000000000', 'files': ['.zuul.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm-centos-7/run.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/f983b91181388bdcd296b7bedad60c3217371a8a', 'message': 'Fix test plugin issues in dsvm-lvm-centos job\n\nRequire running the job with neutron-tempest-plugin\nsince neutron-dynamic-routing relies on it,\nand does not specify it in its requirements.\n\nChange-Id: Ic8e8033b77f82c3264270ba042a44177babaff9b\nCloses-Bug: #1772077\n'}]",0,569481,f983b91181388bdcd296b7bedad60c3217371a8a,19,12,2,16643,,,0,"Fix test plugin issues in dsvm-lvm-centos job

Require running the job with neutron-tempest-plugin
since neutron-dynamic-routing relies on it,
and does not specify it in its requirements.

Change-Id: Ic8e8033b77f82c3264270ba042a44177babaff9b
Closes-Bug: #1772077
",git fetch https://review.opendev.org/openstack/manila refs/changes/81/569481/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,37ae033362cd39271347dfa678ecb8dc7ab03d5b,bug/1772077, # TODO(gouthamr): Remove the line below when neutron-dynamic-routing # separates its tempest plugin from its tree - openstack/neutron-tempest-plugin,,3,0
openstack%2Fneutron~master~I9728354d5f9e08a0dc23900b2bc22b4a0aedb737,openstack/neutron,master,I9728354d5f9e08a0dc23900b2bc22b4a0aedb737,Use Param DHCP_OPT_CLIENT_ID_NUM,MERGED,2018-05-10 12:53:46.000000000,2018-05-19 14:43:58.000000000,2018-05-19 12:23:36.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 12171}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 23312}]","[{'number': 1, 'created': '2018-05-10 12:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51b74f3e518f8e34e90c0144985b15e93ccc3b36', 'message': 'Use Param DHCP_OPT_CLIENT_ID_NUMBER\n\nDepends-On: Id8272ecfac41670693482f11d6bcb6ad211b993f\nChange-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737\n'}, {'number': 2, 'created': '2018-05-13 12:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/781f3afde15c22579f72909f03b92e36c68661e3', 'message': ""Use Param DHCP_OPT_CLIENT_ID_NUMBER\n\nDHCP option used to be 'client-id' and that causes issues with infiniband.\nFor infiniband we need to add 'client-id' DHCP option to get IP address,\nneutron change 'client-id' to number 61 to meet rfc4776.\n\nCloses-Bug: #1770932\nChange-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737\n""}, {'number': 3, 'created': '2018-05-13 12:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acbcad205e5cd1ba6003ae4bc5f9f302ce6f5078', 'message': ""Use Param DHCP_OPT_CLIENT_ID_NUM\n\nDHCP option used to be 'client-id' and that causes issues with infiniband.\nFor infiniband we need to add 'client-id' DHCP option to get IP address,\nneutron change 'client-id' to number 61 to meet rfc4776.\n\nCloses-Bug: #1770932\nChange-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737\n""}, {'number': 4, 'created': '2018-05-14 08:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/135b8828a95cd787ef9c43de286cbe3750db67f6', 'message': ""Use Param DHCP_OPT_CLIENT_ID_NUM\n\nDHCP option used to be 'client-id' and that causes issues with infiniband.\nFor infiniband we need to add 'client-id' DHCP option to get IP address,\nneutron change 'client-id' to number 61 to meet rfc4776.\n\nCloses-Bug: #1770932\nChange-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737\n""}, {'number': 5, 'created': '2018-05-14 08:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1bfbf2aaea8cac513c552a5c25fc78d9d2bcf24', 'message': ""Use Param DHCP_OPT_CLIENT_ID_NUM\n\nDHCP option used to be 'client-id' and that causes issues with infiniband.\nFor infiniband we need to add 'client-id' DHCP option to get IP address,\nneutron change 'client-id' to number 61 to meet rfc4776.\n\nCloses-Bug: #1770932\nChange-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737\n""}, {'number': 6, 'created': '2018-05-16 07:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/74919221811d4f81b5ce45063028a59c8a87a72d', 'message': ""Use Param DHCP_OPT_CLIENT_ID_NUM\n\nDHCP option used to be 'client-id' and that causes issues with infiniband.\nFor infiniband we need to add 'client-id' DHCP option to get IP address,\nneutron change 'client-id' to number 61 to meet rfc4776.\n\nCloses-Bug: #1770932\nChange-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737\n""}, {'number': 7, 'created': '2018-05-16 10:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdc2edf43ebaab1b098d94a3277396e29613e5ee', 'message': ""Use Param DHCP_OPT_CLIENT_ID_NUM\n\nIronic is sending 'client-id' as a number (61) to meet rfc4776 [1],\ndue to this change Neutron DHCP should support this option as well.\n\n[1] https://github.com/openstack/ironic/commit/228a2a7885e1b04d4180fe8daa2992884decaf6d\n\nCloses-Bug: #1770932\nChange-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737\n""}, {'number': 8, 'created': '2018-05-17 07:19:29.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/ib-dhcp-allocation-fix-a4ebe8b55bb2c065.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/59bc19c14a84283adad555dce8536fd7198b82b3', 'message': ""Use Param DHCP_OPT_CLIENT_ID_NUM\n\nIronic is sending 'client-id' as a number (61) to meet rfc4776 [1],\ndue to this change Neutron DHCP should support this option as well.\n\n[1] https://github.com/openstack/ironic/commit/228a2a7885e1b04d4180fe8daa2992884decaf6d\n\nCloses-Bug: #1770932\nChange-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737\n""}]",24,567583,59bc19c14a84283adad555dce8536fd7198b82b3,52,11,8,22948,,,0,"Use Param DHCP_OPT_CLIENT_ID_NUM

Ironic is sending 'client-id' as a number (61) to meet rfc4776 [1],
due to this change Neutron DHCP should support this option as well.

[1] https://github.com/openstack/ironic/commit/228a2a7885e1b04d4180fe8daa2992884decaf6d

Closes-Bug: #1770932
Change-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/567583/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,51b74f3e518f8e34e90c0144985b15e93ccc3b36,dhcp_ib, if opt.opt_name == edo_ext.DHCP_OPT_CLIENT_ID \ or opt.opt_name == edo_ext.DHCP_OPT_CLIENT_ID_NUMBER: if opt.opt_name == edo_ext.DHCP_OPT_CLIENT_ID \ or opt.opt_name == edo_ext.DHCP_OPT_CLIENT_ID_NUMBER:, if opt.opt_name == edo_ext.DHCP_OPT_CLIENT_ID: if opt.opt_name == edo_ext.DHCP_OPT_CLIENT_ID:,4,2
openstack%2Fcontributor-guide~master~Ifd60307694429cce522e24ced7d12513e5934030,openstack/contributor-guide,master,Ifd60307694429cce522e24ced7d12513e5934030,Add description of web editor to using-gerrit,MERGED,2018-05-17 18:05:32.000000000,2018-05-19 14:43:39.000000000,2018-05-19 14:43:39.000000000,"[{'_account_id': 6547}, {'_account_id': 7198}, {'_account_id': 9562}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 18:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/2ff3ea0f1d923607aff192455df1d54d0ec934f5', 'message': ""Add description of web editor to using-gerrit\n\nThere were a few typos in here that needed to be addressed.\nAlso, I don't think it is obvious how you get to the\nweb editor so I added a description for that.\n\nChange-Id: Ifd60307694429cce522e24ced7d12513e5934030\n""}, {'number': 2, 'created': '2018-05-18 22:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/c89e5c1e85cdddd0dda679476eb05ce706c5b206', 'message': ""Add description of web editor to using-gerrit\n\nThere were a few typos in here that needed to be addressed.\nAlso, I don't think it is obvious how you get to the\nweb editor so I added a description for that.\n\nChange-Id: Ifd60307694429cce522e24ced7d12513e5934030\n""}, {'number': 3, 'created': '2018-05-19 14:32:30.000000000', 'files': ['doc/source/_assets/using-gerrit/web-editor.png', 'doc/source/code-and-documentation/using-gerrit.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/e7b8c04303d42b3e6a41bcf2347dc717c6e31656', 'message': ""Add description of web editor to using-gerrit\n\nThere were a few typos in here that needed to be addressed.\nAlso, I don't think it is obvious how you get to the\nweb editor so I added a description for that.\n\nChange-Id: Ifd60307694429cce522e24ced7d12513e5934030\n""}]",4,569197,e7b8c04303d42b3e6a41bcf2347dc717c6e31656,15,5,3,7198,,,0,"Add description of web editor to using-gerrit

There were a few typos in here that needed to be addressed.
Also, I don't think it is obvious how you get to the
web editor so I added a description for that.

Change-Id: Ifd60307694429cce522e24ced7d12513e5934030
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/97/569197/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/code-and-documentation/using-gerrit.rst'],1,2ff3ea0f1d923607aff192455df1d54d0ec934f5,fix-using-gerrit,"of your choice). It's better to create a new branch for each patch thanIf successful, the Git response message will contain a URL you can use toTo access the Gerrit Web Editor click on the icon that looks like a pencil writing on paper next to the ""Patch set"" on the top right of a Gerrit Code Review page for a file. ","of your choice). Its better to create a new branch for each patch thanIf successful, Git response message will contain a URL you can use to",6,2
openstack%2Ftempest~master~I40a776959768f4422dd7960680a877db96cc3b9b,openstack/tempest,master,I40a776959768f4422dd7960680a877db96cc3b9b,Remove test_get_service_by_service_and_host_name,MERGED,2018-05-17 13:37:07.000000000,2018-05-19 14:27:43.000000000,2018-05-17 20:37:26.000000000,"[{'_account_id': 5196}, {'_account_id': 6167}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-05-17 13:37:07.000000000', 'files': ['tempest/api/compute/admin/test_services.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d593b981779dffd4ea74ea577c3f5170f14c878', 'message': 'Remove test_get_service_by_service_and_host_name\n\nBy default, devstack runs in superconductor mode, meaning there\nare 2 conductor services, one is in the cell0 database and one\nis in the cell1 database. These get reported with the same service\nbinary ""nova-conductor"" and on the same host (since it\'s single\nnode devstack). This can cause failures in this test which\nrandomly picks a service from the list and then does a query by\nhostname and binary, and if it picks nova-conductor, it can fail\nbecause it\'s expecting one but there can be two conductors in this\ntype of deployment.\n\nThis test shouldn\'t even exist in tempest since it can be (and is)\ntested in the nova tree and it\'s not an interop guideline since\nit\'s an admin-only API by default.\n\nChange-Id: I40a776959768f4422dd7960680a877db96cc3b9b\nCloses-Bug: #1771817\n'}]",2,569112,6d593b981779dffd4ea74ea577c3f5170f14c878,15,7,1,6873,,,0,"Remove test_get_service_by_service_and_host_name

By default, devstack runs in superconductor mode, meaning there
are 2 conductor services, one is in the cell0 database and one
is in the cell1 database. These get reported with the same service
binary ""nova-conductor"" and on the same host (since it's single
node devstack). This can cause failures in this test which
randomly picks a service from the list and then does a query by
hostname and binary, and if it picks nova-conductor, it can fail
because it's expecting one but there can be two conductors in this
type of deployment.

This test shouldn't even exist in tempest since it can be (and is)
tested in the nova tree and it's not an interop guideline since
it's an admin-only API by default.

Change-Id: I40a776959768f4422dd7960680a877db96cc3b9b
Closes-Bug: #1771817
",git fetch https://review.opendev.org/openstack/tempest refs/changes/12/569112/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_services.py'],1,6d593b981779dffd4ea74ea577c3f5170f14c878,bug/1771817,," @decorators.idempotent_id('39397f6f-37b8-4234-8671-281e44c74025') def test_get_service_by_service_and_host_name(self): services = self.client.list_services()['services'] host_name = services[0]['host'] binary_name = services[0]['binary'] services = self.client.list_services(host=host_name, binary=binary_name)['services'] self.assertEqual(1, len(services)) self.assertEqual(host_name, services[0]['host']) self.assertEqual(binary_name, services[0]['binary'])",0,12
openstack%2Fopenstack-ansible-nspawn_hosts~master~Ic25559d9b68b6208ffdbed020cc79bd6b3d52fdd,openstack/openstack-ansible-nspawn_hosts,master,Ic25559d9b68b6208ffdbed020cc79bd6b3d52fdd,Make host copying more selective,MERGED,2018-05-18 18:42:10.000000000,2018-05-19 14:20:56.000000000,2018-05-19 14:20:56.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 18:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/abca51dedf70628f2f9d7ce2ee36fe4c6834a655', 'message': 'Make host copying more selective\n\nThe host copy process was taking too much, this makes that process more\nselective.\n\nChange-Id: Ic25559d9b68b6208ffdbed020cc79bd6b3d52fdd\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-05-18 19:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/84fb40d251f97ac3d6ce397ba028083e7ccc388d', 'message': 'Make host copying more selective\n\nThe host copy process was taking too much, this makes that process more\nselective.\n\nChange-Id: Ic25559d9b68b6208ffdbed020cc79bd6b3d52fdd\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-05-19 00:16:09.000000000', 'files': ['vars/ubuntu-18.04.yml', 'templates/prep-scripts/nspawn_centos_prep.sh.j2', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'templates/prep-scripts/nspawn_ubuntu_prep.sh.j2', 'templates/prep-scripts/nspawn_opensuse_prep.sh.j2', 'handlers/main.yml', 'tests/test.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml', 'tasks/nspawn_cache.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/d520e804625dfaa8fa2cf735e50542e02f7610f4', 'message': 'Make host copying more selective\n\nThe host copy process was taking too much, this makes that process more\nselective.\n\nChange-Id: Ic25559d9b68b6208ffdbed020cc79bd6b3d52fdd\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,569490,d520e804625dfaa8fa2cf735e50542e02f7610f4,17,2,3,7353,,,0,"Make host copying more selective

The host copy process was taking too much, this makes that process more
selective.

Change-Id: Ic25559d9b68b6208ffdbed020cc79bd6b3d52fdd
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/90/569490/3 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'templates/prep-scripts/nspawn_ubuntu_prep.sh.j2', 'handlers/main.yml', 'vars/ubuntu-16.04.yml', 'tasks/nspawn_cache.yml']",7,abca51dedf70628f2f9d7ce2ee36fe4c6834a655,,"- block: - name: Generate apt keys from host for the container cache command: ""apt-key exportall"" changed_when: false register: _apt_exportall - name: Write exported keys to file copy: content: ""{{ _apt_exportall.stdout }}"" dest: ""/var/lib/machines/{{ nspawn_container_base_name }}/root/repo.keys"" notify: - Remove generated apt keys when: - ansible_pkg_mgr == 'apt' ",,34,3
openstack%2Fopenstack-helm~master~I6628bc50433b4b69533f5d57ae44363634813243,openstack/openstack-helm,master,I6628bc50433b4b69533f5d57ae44363634813243,"Remove the unused ""IFS"" defined",ABANDONED,2018-05-09 14:47:49.000000000,2018-05-19 13:53:19.000000000,,"[{'_account_id': 8898}, {'_account_id': 14151}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-09 14:47:49.000000000', 'files': ['helm-toolkit/templates/scripts/_ks-user.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aeeb60a9dc43d60b6bea8d7d44ee09691239dfe9', 'message': 'Remove the unused ""IFS"" defined\n\nthe ""IFS"" used nowhere, remove it is safe\n\nChange-Id: I6628bc50433b4b69533f5d57ae44363634813243\n'}]",0,567244,aeeb60a9dc43d60b6bea8d7d44ee09691239dfe9,6,4,1,26285,,,0,"Remove the unused ""IFS"" defined

the ""IFS"" used nowhere, remove it is safe

Change-Id: I6628bc50433b4b69533f5d57ae44363634813243
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/44/567244/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/scripts/_ks-user.sh.tpl'],1,aeeb60a9dc43d60b6bea8d7d44ee09691239dfe9,,,"IFS=','",0,1
openstack%2Ftripleo-quickstart-extras~master~I609914f15b8eca6f3cb8e72099c130b88f294224,openstack/tripleo-quickstart-extras,master,I609914f15b8eca6f3cb8e72099c130b88f294224,"Set the permissions for  ""/"" in the ramdisk",MERGED,2018-05-18 16:54:22.000000000,2018-05-19 12:56:19.000000000,2018-05-19 12:56:18.000000000,"[{'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-18 16:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e2ad209954abe83eaa245dfc960cda54999fddfa', 'message': 'Set the permissions for  ""/"" in the ramdisk\n\nAssert that the ""/"" directory in the ramdisk has the permissions\nof 755 and not leave it up to umask (or chance).\n\nChange-Id: I609914f15b8eca6f3cb8e72099c130b88f294224\nCloses-Bug: #1770972\n'}, {'number': 2, 'created': '2018-05-18 16:55:57.000000000', 'files': ['roles/modify-image/tasks/manual.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d19178ca4f04a81a5a2151df3845518317942b37', 'message': 'Set the permissions for  ""/"" in the ramdisk\n\nAssert that the ""/"" directory in the ramdisk has the permissions\nof 755 and not leave it up to umask (or chance).\n\nChange-Id: I609914f15b8eca6f3cb8e72099c130b88f294224\nCloses-Bug: #1770972\n'}]",1,569468,d19178ca4f04a81a5a2151df3845518317942b37,26,8,2,1926,,,0,"Set the permissions for  ""/"" in the ramdisk

Assert that the ""/"" directory in the ramdisk has the permissions
of 755 and not leave it up to umask (or chance).

Change-Id: I609914f15b8eca6f3cb8e72099c130b88f294224
Closes-Bug: #1770972
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/68/569468/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/modify-image/tasks/manual.yml'],1,e2ad209954abe83eaa245dfc960cda54999fddfa,509728, chmod 775 {{ mount_tempdir }},,1,0
openstack%2Ftempest~master~I6c46319a873a34d74e8ed1a32ffc0b32c4d04ab2,openstack/tempest,master,I6c46319a873a34d74e8ed1a32ffc0b32c4d04ab2,Add compute microversion 2.54 schema in servers_client,MERGED,2018-04-24 08:12:24.000000000,2018-05-19 12:46:21.000000000,2018-05-18 04:23:39.000000000,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 7012}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 24711}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-04-24 08:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/49e2a5bda72454622f5133e03f0ad942260b457f', 'message': ""Add compute microversion 2.54 schema in servers_client\n\nCompute microversion 2.54 adds 'kay_name' in rebuild servers\nAPIs response.\nThis commit fill the schema gap for that.\n\nChange-Id: I6c46319a873a34d74e8ed1a32ffc0b32c4d04ab2\n""}, {'number': 2, 'created': '2018-04-24 08:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bc9036e4a5748259f8e2e70a37b3d43682d1f1b9', 'message': ""Add compute microversion 2.54 schema in servers_client\n\nCompute microversion 2.54 adds 'kay_name' in rebuild servers\nAPIs response.\nThis commit fill the schema gap for that.\n\nChange-Id: I6c46319a873a34d74e8ed1a32ffc0b32c4d04ab2\n""}, {'number': 3, 'created': '2018-04-26 07:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/728114a6a755c82a2f9b1c235e3e1bec428bb04b', 'message': ""Add compute microversion 2.54 schema in servers_client\n\nCompute microversion 2.54 adds 'key_name' in rebuild servers\nAPIs response.\nThis commit fill the schema gap for that.\n\nChange-Id: I6c46319a873a34d74e8ed1a32ffc0b32c4d04ab2\n""}, {'number': 4, 'created': '2018-04-26 20:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4443aa3eb8933344a624d9bed86e598bb0bd57c9', 'message': ""Add compute microversion 2.54 schema in servers_client\n\nCompute microversion 2.54 adds 'key_name' in rebuild servers\nAPIs response.\nThis commit fill the schema gap for that.\n\nChange-Id: I6c46319a873a34d74e8ed1a32ffc0b32c4d04ab2\n""}, {'number': 5, 'created': '2018-05-01 15:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/13b8535cc456494cccff9b24d02ebd7fb9992da5', 'message': ""Add compute microversion 2.54 schema in servers_client\n\nCompute microversion 2.54 adds 'key_name' in rebuild servers\nAPIs response.\nThis commit fill the schema gap for that.\n\nChange-Id: I6c46319a873a34d74e8ed1a32ffc0b32c4d04ab2\n""}, {'number': 6, 'created': '2018-05-09 21:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3355d761ca708bad3be5c4eaf66ba5b6471d8a42', 'message': ""Add compute microversion 2.54 schema in servers_client\n\nCompute microversion 2.54 adds 'key_name' in rebuild servers\nAPIs response.\nThis commit fill the schema gap for that.\n\nChange-Id: I6c46319a873a34d74e8ed1a32ffc0b32c4d04ab2\n""}, {'number': 7, 'created': '2018-05-17 01:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2f6ca99cfb097b1253ccc86602dd13810bb01bc2', 'message': ""Add compute microversion 2.54 schema in servers_client\n\nCompute microversion 2.54 adds 'key_name' in rebuild servers\nAPIs response.\nThis commit fill the schema gap for that.\n\nChange-Id: I6c46319a873a34d74e8ed1a32ffc0b32c4d04ab2\n""}, {'number': 8, 'created': '2018-05-17 17:04:16.000000000', 'files': ['doc/source/microversion_testing.rst', 'tempest/lib/api_schema/response/compute/v2_54/servers.py', 'tempest/lib/services/compute/servers_client.py', 'tempest/lib/api_schema/response/compute/v2_54/__init__.py', 'tempest/api/compute/servers/test_servers_microversions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/85a4b0a314e4d9776726d3c0f86b57569bf116f7', 'message': ""Add compute microversion 2.54 schema in servers_client\n\nCompute microversion 2.54 adds 'key_name' in rebuild servers\nAPIs response.\nThis commit fill the schema gap for that.\n\nChange-Id: I6c46319a873a34d74e8ed1a32ffc0b32c4d04ab2\n""}]",9,563851,85a4b0a314e4d9776726d3c0f86b57569bf116f7,56,12,8,8556,,,0,"Add compute microversion 2.54 schema in servers_client

Compute microversion 2.54 adds 'key_name' in rebuild servers
APIs response.
This commit fill the schema gap for that.

Change-Id: I6c46319a873a34d74e8ed1a32ffc0b32c4d04ab2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/51/563851/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/microversion_testing.rst', 'tempest/lib/api_schema/response/compute/v2_54/servers.py', 'tempest/lib/services/compute/servers_client.py', 'tempest/lib/api_schema/response/compute/v2_54/__init__.py', 'tempest/api/compute/servers/test_servers_microversions.py']",5,49e2a5bda72454622f5133e03f0ad942260b457f,fill-microversion-schema-gap,"# Copyright 2012 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.compute import base from tempest.common import waiters from tempest.lib import decorators from tempest.lib.common.utils import data_utils # NOTE(gmann): This file is to write the tests which mainly # tests newly added microversion schema related to servers APIs. # As per (https://docs.openstack.org/tempest/latest/microversion_testing. # html#tempest-scope-for-microversion-testing), # we need to fill the APi response schema gaps which gets modified # during microversion change. To cover the testing of such schema # we need to have operation schema test which just test # the microversion schemas. # If you are adding server APIs microversion schema file without # their integration tests, you can add tests to cover those schema # in this file. class ServerShowV254Test(base.BaseV2ComputeTest): min_microversion = '2.54' max_microversion = 'latest' @decorators.idempotent_id('09170a98-4940-4637-add7-1a35121f1a5a') def test_rebuild_server(self): server = self.create_test_server() keypair_name = data_utils.rand_name( self.__class__.__name__ + '-keypair') kwargs = {'name': keypair_name} self.keypairs_client.create_keypair(**kwargs) self.addCleanup(self.keypairs_client.delete_keypair, keypair_name) # Checking rebuild API response schema self.servers_client.rebuild_server(server['id'], self.image_ref_alt, key_name=keypair_name) waiters.wait_for_server_status(self.servers_client, server['id'], 'ACTIVE') ",,107,1
openstack%2Fopenstack-helm-infra~master~I2f2012590d81ffcb159d49d8a76eedd4441744cd,openstack/openstack-helm-infra,master,I2f2012590d81ffcb159d49d8a76eedd4441744cd,"Revert ""Helm-Toolkit: Use image template for keystone and db management jobs""",MERGED,2018-05-19 05:22:46.000000000,2018-05-19 12:17:48.000000000,2018-05-19 12:17:48.000000000,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-19 05:22:46.000000000', 'files': ['helm-toolkit/templates/manifests/_job-db-sync.yaml.tpl', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.yaml.tpl', 'helm-toolkit/templates/manifests/_job-bootstrap.yaml', 'helm-toolkit/templates/manifests/_job-db-init-mysql.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-service.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-endpoints.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ffc76ea133ee927a22199aa46eb0b49e950568ba', 'message': 'Revert ""Helm-Toolkit: Use image template for keystone and db management jobs""\n\nThis reverts commit 21b02d69d64fb73a583063e5b4da6d072fbb7f0f.\n\nChange-Id: I2f2012590d81ffcb159d49d8a76eedd4441744cd\n'}]",0,569556,ffc76ea133ee927a22199aa46eb0b49e950568ba,9,6,1,23928,,,0,"Revert ""Helm-Toolkit: Use image template for keystone and db management jobs""

This reverts commit 21b02d69d64fb73a583063e5b4da6d072fbb7f0f.

Change-Id: I2f2012590d81ffcb159d49d8a76eedd4441744cd
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/56/569556/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_job-db-sync.yaml.tpl', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.yaml.tpl', 'helm-toolkit/templates/manifests/_job-bootstrap.yaml', 'helm-toolkit/templates/manifests/_job-db-init-mysql.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-service.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-endpoints.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl']",8,ffc76ea133ee927a22199aa46eb0b49e950568ba,images/jobs, image: {{ $envAll.Values.images.tags.rabbit_init | quote }} imagePullPolicy: {{ $envAll.Values.images.pull_policy | quote }},"{{ tuple $envAll ""rabbit_init"" | include ""helm-toolkit.snippets.image"" | indent 10 }}",16,8
openstack%2Fi18n~master~Ic17adf04d27c3f769f3885932bd9216eebb5d182,openstack/i18n,master,Ic17adf04d27c3f769f3885932bd9216eebb5d182,Imported Translations from Zanata,MERGED,2018-05-19 07:30:44.000000000,2018-05-19 08:54:29.000000000,2018-05-19 08:54:28.000000000,"[{'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-19 07:30:44.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/i18n/commit/39db3298ded990411590b02447be0dc8ab633d8f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic17adf04d27c3f769f3885932bd9216eebb5d182\n'}]",0,569563,39db3298ded990411590b02447be0dc8ab633d8f,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic17adf04d27c3f769f3885932bd9216eebb5d182
",git fetch https://review.opendev.org/openstack/i18n refs/changes/63/569563/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/en_GB/LC_MESSAGES/doc.po'],1,39db3298ded990411590b02447be0dc8ab633d8f,zanata/translations,"""POT-Creation-Date: 2018-05-09 09:07+0000\n""""PO-Revision-Date: 2018-05-18 06:25+0000\n""msgid ""ATC Statistics in past releases"" msgstr ""ATC Statistics in past releases"" msgid """" ""For a document in a stable branch, such as the installation guide for "" ""Liberty, you need to update the file ``doc-tools-check-languages.conf`` in "" ""the target stable branch directly."" msgstr """" ""For a document in a stable branch, such as the installation guide for "" ""Liberty, you need to update the file ``doc-tools-check-languages.conf`` in "" ""the target stable branch directly."" msgid ""No detail data."" msgstr ""No detail data."" msgid ""Queens cycle"" msgstr ""Queens cycle"" msgid ""Running OpenStack-Ansible"" msgstr ""Running OpenStack-Ansible"" ""To build a translated document, you need to update the file ``doc-tools-"" ""check-languages.conf`` in each repository, and add an entry to ``BOOKS`` "" ""like ``[\""ja\""]=\""install-guide\""``."" msgstr """" ""To build a translated document, you need to update the file ``doc-tools-"" ""check-languages.conf`` in each repository, and add an entry to ``BOOKS`` "" ""like ``[\""ja\""]=\""install-guide\""``."" msgid """"""To fetch translated files regularly, execute this command manually or as a "" ""cron:"" msgstr """" ""To fetch translated files regularly, execute this command manually or as a "" ""cron:"" msgid """"msgid ""You can also check:"" msgstr ""You can also check:"" ""You can check on `Gerrit <https://review.openstack.org/#/q/topic:zanata/"" ""translations+(status:open+OR+status:merged)>`__, if the translated strings "" ""are imported by the project teams. Core reviewers in each repository are "" ""strong encouraged to approve translation sync patches but do not be sad if "" ""the translations are not accepted. Zanata Sync jobs are repeated every day "" ""until they are merged."" msgstr """" ""You can check on `Gerrit <https://review.openstack.org/#/q/topic:zanata/"" ""translations+(status:open+OR+status:merged)>`__, if the translated strings "" ""are imported by the project teams. Core reviewers in each repository are "" ""strong encouraged to approve translation sync patches but do not be sad if "" ""the translations are not accepted. Zanata Sync jobs are repeated every day "" ""until they are merged."" msgid """"""You can set the components of your AIO installation in ``tests/vars/"" ""bootstrap-aio-vars.yml``. Dependly on your environment the installation "" ""takes 1-2 hours. For more details on the AIO configuration, please see `OSA "" ""AIO documentation <https://docs.openstack.org/openstack-ansible/latest/user/"" ""aio/quickstart.html#building-an-aio>`_."" msgstr """" ""You can set the components of your AIO installation in ``tests/vars/"" ""bootstrap-aio-vars.yml``. Dependly on your environment the installation "" ""takes 1-2 hours. For more details on the AIO configuration, please see `OSA "" ""AIO documentation <https://docs.openstack.org/openstack-ansible/latest/user/"" ""aio/quickstart.html#building-an-aio>`_."" msgid """"""`OpenStack-Ansible (OSA) <https://docs.openstack.org/openstack-ansible/"" ""latest/>`__ provides Ansible playbooks and roles for the deployment and "" ""configuration of an OpenStack environment. As part of the project a feature "" ""named 'Translation Check Site' is developed. An OSA instance will fetch "" ""translation strings from `translation platform <https://translate.openstack."" ""org/>`__, compile and serve these strings in Horizon. You need a machine "" ""with two or four CPU cores, at least 8 GB memory and 70 GB disk to run OSA."" msgstr """" ""`OpenStack-Ansible (OSA) <https://docs.openstack.org/openstack-ansible/"" ""latest/>`__ provides Ansible playbooks and roles for the deployment and "" ""configuration of an OpenStack environment. As part of the project a feature "" ""named 'Translation Check Site' is developed. An OSA instance will fetch "" ""translation strings from `translation platform <https://translate.openstack."" ""org/>`__, compile and serve these strings in Horizon. You need a machine "" ""with two or four CPU cores, at least 8 GB memory and 70 GB disk to run OSA."" msgid """"""`build status for publishing on Zuul <http://zuul.openstack.org/builds.html?"" ""job_name=publish-openstack-manuals>`__"" msgstr """" ""`build status for publishing on Zuul <http://zuul.openstack.org/builds.html?"" ""job_name=publish-openstack-manuals>`__"" msgid """" ""`checkbuild with drafts on Zuul <http://zuul.openstack.org/builds.html?"" ""job_name=build-tox-manuals-checkbuild>`__"" msgstr """" ""`checkbuild with drafts on Zuul <http://zuul.openstack.org/builds.html?"" ""job_name=build-tox-manuals-checkbuild>`__"" msgid """"msgid """" ""http://docs.openstack.org/<lang> contains released documents. Follow "" ""\""Languages\"" in http://docs.openstack.org/."" msgstr """" ""http://docs.openstack.org/<lang> contains released documents. Follow "" ""\""Languages\"" in http://docs.openstack.org/."" ","""POT-Creation-Date: 2018-04-30 15:29+0000\n""""PO-Revision-Date: 2018-02-01 10:03+0000\n""",108,2
openstack%2Fopenstack-ansible-nspawn_container_create~master~I404db42bad931520c5832edd3b1bd0468c4f676c,openstack/openstack-ansible-nspawn_container_create,master,I404db42bad931520c5832edd3b1bd0468c4f676c,Limit fact gather post build,MERGED,2018-05-18 23:44:35.000000000,2018-05-19 06:59:22.000000000,2018-05-19 06:59:22.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 23:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/56d525d3a5593d903b8301d976d4e02189f4a742', 'message': ""Limit fact gather post build\n\nWe don't need everything the setup module pulls by default.\n\nChange-Id: I404db42bad931520c5832edd3b1bd0468c4f676c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 2, 'created': '2018-05-19 05:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/2c3146ccefb555d2834e3842c89c45f3ef7ab2d3', 'message': ""Limit fact gather post build\n\nWe don't need everything the setup module pulls by default.\n\nChange-Id: I404db42bad931520c5832edd3b1bd0468c4f676c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 3, 'created': '2018-05-19 06:22:53.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/02169f47eecd24071dea4651701e62ad1ed4ce0f', 'message': ""Limit fact gather post build\n\nWe don't need everything the setup module pulls by default.\n\nChange-Id: I404db42bad931520c5832edd3b1bd0468c4f676c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}]",0,569541,02169f47eecd24071dea4651701e62ad1ed4ce0f,11,2,3,7353,,,0,"Limit fact gather post build

We don't need everything the setup module pulls by default.

Change-Id: I404db42bad931520c5832edd3b1bd0468c4f676c
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/41/569541/3 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,56d525d3a5593d903b8301d976d4e02189f4a742,," setup: gather_subset: ""network,hardware,virtual""", setup: {},2,1
openstack%2Fopenstack-ansible-nspawn_container_create~master~I0d4c75c090a3cb1c84d8950e6eebbc7024aa6f4e,openstack/openstack-ansible-nspawn_container_create,master,I0d4c75c090a3cb1c84d8950e6eebbc7024aa6f4e,clean up tox,MERGED,2018-05-18 14:48:38.000000000,2018-05-19 06:59:21.000000000,2018-05-19 06:59:21.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 14:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/7e0b944b80b611c3293124d39a282538b91d07d2', 'message': 'clean up tox\n\nChange-Id: I0d4c75c090a3cb1c84d8950e6eebbc7024aa6f4e\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-05-18 15:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/44bbef8f891b84a06599675e27b65dec4837c1b7', 'message': 'clean up tox\n\nChange-Id: I0d4c75c090a3cb1c84d8950e6eebbc7024aa6f4e\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-05-18 22:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/bd60200163c95699349741a966816c1efb3911a1', 'message': 'clean up tox\n\nChange-Id: I0d4c75c090a3cb1c84d8950e6eebbc7024aa6f4e\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-05-19 06:22:59.000000000', 'files': ['tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/e2c7abcb5439317e489f0abe336b7c079208fd80', 'message': 'clean up tox\n\nChange-Id: I0d4c75c090a3cb1c84d8950e6eebbc7024aa6f4e\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,569433,e2c7abcb5439317e489f0abe336b7c079208fd80,20,2,4,7353,,,0,"clean up tox

Change-Id: I0d4c75c090a3cb1c84d8950e6eebbc7024aa6f4e
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/33/569433/4 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'zuul.d/jobs.yaml']",2,7e0b944b80b611c3293124d39a282538b91d07d2,, name: openstack-ansible-nspawn-opensuse-423 parent: openstack-ansible-functional nodeset: opensuse-423, name: openstack-ansible-nspawn-opensuse-423 parent: openstack-ansible-functional nodeset: opensuse-423,3,58
openstack%2Fswift~master~I964666d2c1ce893326c6aa2bbe9e1dd0312e7a9e,openstack/swift,master,I964666d2c1ce893326c6aa2bbe9e1dd0312e7a9e,Merge container sharding into master,MERGED,2018-05-19 01:31:00.000000000,2018-05-19 06:39:35.000000000,2018-05-19 06:39:35.000000000,"[{'_account_id': 330}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-19 01:31:00.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/swift/commit/ea92e499801db231771fdae80943e5c9b1344926', 'message': 'Merge container sharding into master\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCo-Authored-By: John Dickinson <me@not.mn>\nCo-Authored-By: Kazuhiro MIYAHARA <miyahara.kazuhiro@lab.ntt.co.jp>\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Samuel Merritt <sam@swiftstack.com>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\n\nChange-Id: I964666d2c1ce893326c6aa2bbe9e1dd0312e7a9e\n'}]",0,569548,ea92e499801db231771fdae80943e5c9b1344926,10,3,1,330,,,0,"Merge container sharding into master

Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>
Co-Authored-By: John Dickinson <me@not.mn>
Co-Authored-By: Kazuhiro MIYAHARA <miyahara.kazuhiro@lab.ntt.co.jp>
Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Co-Authored-By: Samuel Merritt <sam@swiftstack.com>
Co-Authored-By: Tim Burke <tim.burke@gmail.com>

Change-Id: I964666d2c1ce893326c6aa2bbe9e1dd0312e7a9e
",git fetch https://review.opendev.org/openstack/swift refs/changes/48/569548/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ea92e499801db231771fdae80943e5c9b1344926,merge-deep,,defaultbranch=feature/deep-review,0,1
openstack%2Fopenstack-ansible-nspawn_container_create~master~I50799d53f8d75f043ed12d4e50da3d55a4ee159a,openstack/openstack-ansible-nspawn_container_create,master,I50799d53f8d75f043ed12d4e50da3d55a4ee159a,Use networkd role to setup test networks,MERGED,2018-05-18 23:24:54.000000000,2018-05-19 06:36:27.000000000,2018-05-19 06:36:27.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 23:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/61040f41ee97487ee99340dab5335e91e5fce213', 'message': ""Use networkd role to setup test networks\n\nThe test networks were being setup using networkd and a custom template,\nthis change updates the process so we're dog fooding.\n\nChange-Id: I50799d53f8d75f043ed12d4e50da3d55a4ee159a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 2, 'created': '2018-05-18 23:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/5948a5156b53bbba9fb3ea560a0dd60bae00857f', 'message': ""Use networkd role to setup test networks\n\nThe test networks were being setup using networkd and a custom template,\nthis change updates the process so we're dog fooding.\n\nChange-Id: I50799d53f8d75f043ed12d4e50da3d55a4ee159a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 3, 'created': '2018-05-19 00:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/8a075726001d0fa441e89e9a61f917eab8cb54cd', 'message': ""Use networkd role to setup test networks\n\nThe test networks were being setup using networkd and a custom template,\nthis change updates the process so we're dog fooding.\n\nAdditionally change the container config drop so that its executing a\ncontainer restart when needed and in the right order.\n\nChange-Id: I50799d53f8d75f043ed12d4e50da3d55a4ee159a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 4, 'created': '2018-05-19 00:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/cb51147c7ecf438bd8d148c080c7003064ead382', 'message': ""Use networkd role to setup test networks\n\nThe test networks were being setup using networkd and a custom template,\nthis change updates the process so we're dog fooding.\n\nAdditionally change the container config drop so that its executing a\ncontainer restart when needed and in the right order.\n\nChange-Id: I50799d53f8d75f043ed12d4e50da3d55a4ee159a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 5, 'created': '2018-05-19 00:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/0d5d76886868d80d0bf6592e4b37cba3ae37fabd', 'message': ""Use networkd role to setup test networks\n\nThe test networks were being setup using networkd and a custom template,\nthis change updates the process so we're dog fooding.\n\nAdditionally change the container config drop so that its executing a\ncontainer restart when needed and in the right order.\n\nChange-Id: I50799d53f8d75f043ed12d4e50da3d55a4ee159a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 6, 'created': '2018-05-19 01:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/9b42fd996edbe031dfce5c5d35eb84059fd969db', 'message': ""Use networkd role to setup test networks\n\nThe test networks were being setup using networkd and a custom template,\nthis change updates the process so we're dog fooding.\n\nAdditionally change the container config drop so that its executing a\ncontainer restart when needed and in the right order.\n\nChange-Id: I50799d53f8d75f043ed12d4e50da3d55a4ee159a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 7, 'created': '2018-05-19 01:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/57b64a3d154b9b1cd793a33f62b12eca37fcb43f', 'message': ""Use networkd role to setup test networks\n\nThe test networks were being setup using networkd and a custom template,\nthis change updates the process so we're dog fooding.\n\nAdditionally change the container config drop so that its executing a\ncontainer restart when needed and in the right order.\n\nChange-Id: I50799d53f8d75f043ed12d4e50da3d55a4ee159a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 8, 'created': '2018-05-19 02:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/beb8b1db95f544c48488a1cd056ca2e223764955', 'message': ""Use networkd role to setup test networks\n\nThe test networks were being setup using networkd and a custom template,\nthis change updates the process so we're dog fooding.\n\nAdditionally change the container config drop so that its executing a\ncontainer restart when needed and in the right order.\n\nChange-Id: I50799d53f8d75f043ed12d4e50da3d55a4ee159a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 9, 'created': '2018-05-19 04:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/30beb5149ba3dc4076bb8012e7ebf129da620be5', 'message': ""Use networkd role to setup test networks\n\nThe test networks were being setup using networkd and a custom template,\nthis change updates the process so we're dog fooding.\n\nAdditionally change the container config drop so that its executing a\ncontainer restart when needed and in the right order.\n\nChange-Id: I50799d53f8d75f043ed12d4e50da3d55a4ee159a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 10, 'created': '2018-05-19 05:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/2521c7fd8b6876cb342fbcd3229de1571ce9b9b4', 'message': ""Use networkd role to setup test networks\n\nThe test networks were being setup using networkd and a custom template,\nthis change updates the process so we're dog fooding.\n\nAdditionally change the container config drop so that its executing a\ncontainer restart when needed and in the right order.\n\nChange-Id: I50799d53f8d75f043ed12d4e50da3d55a4ee159a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 11, 'created': '2018-05-19 06:07:40.000000000', 'files': ['tasks/main.yml', 'tests/host_vars/localhost.yml', 'tests/host_vars/container2.yml', 'tests/host_vars/container1.yml', 'tests/host_vars/container3.yml', 'tests/test-nspawn-containers.yml', 'tests/group_vars/all.yml', 'handlers/main.yml', 'tests/templates/test-networks.service.j2', 'tests/test-nspawn-host-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/e48838fef358170965f51c0facb6b66c8718a6ed', 'message': ""Use networkd role to setup test networks\n\nThe test networks were being setup using networkd and a custom template,\nthis change updates the process so we're dog fooding.\n\nAdditionally change the container config drop so that its executing a\ncontainer restart when needed and in the right order.\n\nSeveral tests were removed because they are basic operations which are\nalready being tested in the nspawn_hosts role.\n\nChange-Id: I50799d53f8d75f043ed12d4e50da3d55a4ee159a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}]",0,569536,e48838fef358170965f51c0facb6b66c8718a6ed,24,2,11,7353,,,0,"Use networkd role to setup test networks

The test networks were being setup using networkd and a custom template,
this change updates the process so we're dog fooding.

Additionally change the container config drop so that its executing a
container restart when needed and in the right order.

Several tests were removed because they are basic operations which are
already being tested in the nspawn_hosts role.

Change-Id: I50799d53f8d75f043ed12d4e50da3d55a4ee159a
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/36/569536/7 && git format-patch -1 --stdout FETCH_HEAD,"['tests/group_vars/all.yml', 'tests/templates/test-networks.service.j2', 'tests/test-nspawn-host-setup.yml']",3,61040f41ee97487ee99340dab5335e91e5fce213,," - name: Run the systemd-networkd role include_role: name: systemd_networkd private: true vars: systemd_interface_cleanup: true systemd_run_networkd: true systemd_netdevs: - NetDev: Name: dummy0 Kind: dummy - NetDev: Name: br-mgmt Kind: bridge systemd_networks: - interface: ""dummy0"" bridge: ""br-mgmt"" - interface: ""br-mgmt"" address: ""172.29.236.100"" netmask: ""255.255.255.0"" tags: - network-config - name: Run the systemd service role include_role: name: systemd_service private: true vars: systemd_services: - service_name: ""networking-post-up"" config_overrides: Unit: Description: networking-post-up After: network-online.target Wants: network-online.target Service: RemainAfterExit: yes service_type: oneshot execstarts: - ""-/sbin/iptables -A POSTROUTING -t mangle -p tcp --dport 22 -j CHECKSUM --checksum-fill"" - ""-/sbin/iptables -t nat -A POSTROUTING -o {{ ansible_default_ipv4.interface }} -j MASQUERADE"" - ""-/sbin/ethtool -K br-mgmt gso off sg off tso off tx off"" execstops: - ""/sbin/iptables -D POSTROUTING -t mangle -p tcp --dport 22 -j CHECKSUM --checksum-fill"" - ""/sbin/iptables -t nat -D POSTROUTING -o {{ bootstrap_host_public_interface }} -j MASQUERADE"" enabled: yes state: started systemd_tempd_prefix: openstack tags: - network-config "," - name: Create test network service template: src: ""templates/test-networks.service.j2"" dest: ""/etc/systemd/system/00-test-networks.service"" - name: Enable test network service systemd: name: ""00-test-networks.service"" state: ""started"" enabled: true daemon_reload: true - ""iptables -A POSTROUTING -t mangle -p tcp -j CHECKSUM --checksum-fill"" - ""iptables -t nat -A POSTROUTING -o {{ ansible_default_ipv4.interface }} -j MASQUERADE""",52,59
openstack%2Fansible-role-systemd_networkd~master~If6a55afc1c731c7006155ece2138758f0faf246e,openstack/ansible-role-systemd_networkd,master,If6a55afc1c731c7006155ece2138758f0faf246e,Remove flush handler,MERGED,2018-05-19 04:49:45.000000000,2018-05-19 05:26:57.000000000,2018-05-19 05:26:56.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-19 04:49:45.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/dc4353273b7c93782982ff36a6917f77756a3f75', 'message': 'Remove flush handler\n\nChange-Id: If6a55afc1c731c7006155ece2138758f0faf246e\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,569555,dc4353273b7c93782982ff36a6917f77756a3f75,6,2,1,7353,,,0,"Remove flush handler

Change-Id: If6a55afc1c731c7006155ece2138758f0faf246e
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/55/569555/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,dc4353273b7c93782982ff36a6917f77756a3f75,,,- name: Force all notified handlers now meta: flush_handlers ,0,3
openstack%2Fopenstack-helm-infra~master~Idf3e079714463fe94245733df0bf34d6427505ae,openstack/openstack-helm-infra,master,Idf3e079714463fe94245733df0bf34d6427505ae,Helm-Toolkit: Use image template for keystone and db management jobs,MERGED,2018-05-18 19:14:27.000000000,2018-05-19 05:22:46.000000000,2018-05-19 00:53:02.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 19:14:27.000000000', 'files': ['helm-toolkit/templates/manifests/_job-db-sync.yaml.tpl', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.yaml.tpl', 'helm-toolkit/templates/manifests/_job-bootstrap.yaml', 'helm-toolkit/templates/manifests/_job-db-init-mysql.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-service.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-endpoints.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/21b02d69d64fb73a583063e5b4da6d072fbb7f0f', 'message': 'Helm-Toolkit: Use image template for keystone and db management jobs\n\nThis PS moves to use the image template for keystone and db management jobs\n\nChange-Id: Idf3e079714463fe94245733df0bf34d6427505ae\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,569500,21b02d69d64fb73a583063e5b4da6d072fbb7f0f,8,3,1,23928,,,0,"Helm-Toolkit: Use image template for keystone and db management jobs

This PS moves to use the image template for keystone and db management jobs

Change-Id: Idf3e079714463fe94245733df0bf34d6427505ae
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/00/569500/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_job-db-sync.yaml.tpl', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.yaml.tpl', 'helm-toolkit/templates/manifests/_job-bootstrap.yaml', 'helm-toolkit/templates/manifests/_job-db-init-mysql.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-service.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-endpoints.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl']",8,21b02d69d64fb73a583063e5b4da6d072fbb7f0f,images/jobs,"{{ tuple $envAll ""rabbit_init"" | include ""helm-toolkit.snippets.image"" | indent 10 }}", image: {{ $envAll.Values.images.tags.rabbit_init | quote }} imagePullPolicy: {{ $envAll.Values.images.pull_policy | quote }},8,16
openstack%2Fcinder~master~Idfe243347ec7fb529c253955b27d499718ef086e,openstack/cinder,master,Idfe243347ec7fb529c253955b27d499718ef086e,Disable test_volume_backup_restore for lio-barbican job,MERGED,2018-05-17 15:14:51.000000000,2018-05-19 04:06:32.000000000,2018-05-17 20:07:05.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-17 15:14:51.000000000', 'files': ['playbooks/legacy/cinder-tempest-dsvm-lvm-lio-barbican/run.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d1733a6e20d17dd92aa64e1865f65bd56f38e080', 'message': 'Disable test_volume_backup_restore for lio-barbican job\n\nTempest recently added this test and it is\nfailing here.\n\nChange-Id: Idfe243347ec7fb529c253955b27d499718ef086e\n'}]",0,569143,d1733a6e20d17dd92aa64e1865f65bd56f38e080,27,23,1,4523,,,0,"Disable test_volume_backup_restore for lio-barbican job

Tempest recently added this test and it is
failing here.

Change-Id: Idfe243347ec7fb529c253955b27d499718ef086e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/569143/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/cinder-tempest-dsvm-lvm-lio-barbican/run.yaml'],1,d1733a6e20d17dd92aa64e1865f65bd56f38e080,, DEVSTACK_GATE_TEMPEST_REGEX+='(?!.*TestVolumeBackupRestore.test_volume_backup_restore)',,1,0
openstack%2Fansible-role-systemd_networkd~master~Ib3efa6a1662da48d0f58e00ed77f725e1a950edb,openstack/ansible-role-systemd_networkd,master,Ib3efa6a1662da48d0f58e00ed77f725e1a950edb,Update role so we're not reloading the daemon in excess,MERGED,2018-05-19 03:18:24.000000000,2018-05-19 03:39:22.000000000,2018-05-19 03:39:21.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-19 03:18:24.000000000', 'files': ['tasks/main.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/b6a4cfe94692ec8bfb736fc562b468affde1c740', 'message': ""Update role so we're not reloading the daemon in excess\n\nThe systemd-networkd role was reloading the systemd daemon on every run\nthis change removes that as this role will not need to modify anything\nthat requires a daemon reload.\n\nNetwork facts will be gathered after this role executes which will\nensure any state changes are picked up as soon as they're available.\n\nChange-Id: Ib3efa6a1662da48d0f58e00ed77f725e1a950edb\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}]",0,569551,b6a4cfe94692ec8bfb736fc562b468affde1c740,6,2,1,7353,,,0,"Update role so we're not reloading the daemon in excess

The systemd-networkd role was reloading the systemd daemon on every run
this change removes that as this role will not need to modify anything
that requires a daemon reload.

Network facts will be gathered after this role executes which will
ensure any state changes are picked up as soon as they're available.

Change-Id: Ib3efa6a1662da48d0f58e00ed77f725e1a950edb
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/51/569551/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'handlers/main.yml']",2,b6a4cfe94692ec8bfb736fc562b468affde1c740,,, daemon_reload: yes daemon_reload: yes,8,17
openstack%2Fglance~master~I90efd2b3f1838cdcaa79feea78d73429cded1257,openstack/glance,master,I90efd2b3f1838cdcaa79feea78d73429cded1257,[doc] Modify the description for the command,MERGED,2018-01-06 10:57:45.000000000,2018-05-19 03:30:48.000000000,2018-03-01 15:39:34.000000000,"[{'_account_id': 5314}, {'_account_id': 14151}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-01-06 10:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/071dfb3c18e2dd006465b095c35c21167a9801e9', 'message': ""Modify the description for the command\n\nThe displayed image attributes of the command 'openstack image list'\ndo not has 'Server', so this patch remove it. The available status\nof image should be 'active' according to the output of the command.\n\nChange-Id: I90efd2b3f1838cdcaa79feea78d73429cded1257\n""}, {'number': 2, 'created': '2018-01-11 13:24:40.000000000', 'files': ['doc/source/admin/troubleshooting.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/6f858c3cf748285690b95c6d17a56c7e45589992', 'message': ""[doc] Modify the description for the command\n\nThe displayed image attributes of the command 'openstack image list'\ndo not has 'Server', so this patch remove it. The available status\nof image should be 'active' according to the output of the command.\n\nChange-Id: I90efd2b3f1838cdcaa79feea78d73429cded1257\n""}]",0,531540,6f858c3cf748285690b95c6d17a56c7e45589992,12,5,2,14151,,,0,"[doc] Modify the description for the command

The displayed image attributes of the command 'openstack image list'
do not has 'Server', so this patch remove it. The available status
of image should be 'active' according to the output of the command.

Change-Id: I90efd2b3f1838cdcaa79feea78d73429cded1257
",git fetch https://review.opendev.org/openstack/glance refs/changes/40/531540/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/troubleshooting.rst'],1,071dfb3c18e2dd006465b095c35c21167a9801e9,, The status of the image. Images marked ``active`` are available for," The status of the image. Images marked ``ACTIVE`` are available for``Server`` For images that are created as snapshots of running instances, this is the UUID of the instance the snapshot derives from. For uploaded images, this field is blank. ",1,6
openstack%2Foctavia~master~I7c6066ec6563ae6240204e7850f55288e3c794d7,openstack/octavia,master,I7c6066ec6563ae6240204e7850f55288e3c794d7,The MarkL7PolicyActiveInDB is not necessary when l7policy deleted,MERGED,2018-03-12 06:06:47.000000000,2018-05-19 03:19:24.000000000,2018-03-27 08:02:05.000000000,"[{'_account_id': 2245}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 06:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ec180a6ce6943188508afce94c0c161e48384ebc', 'message': 'The MarkL7PolicyActiveInDB is not necessary when l7policy deleted\n\nChange-Id: I7c6066ec6563ae6240204e7850f55288e3c794d7\n'}, {'number': 2, 'created': '2018-03-27 04:51:58.000000000', 'files': ['octavia/controller/worker/flows/l7policy_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/026b8e5822507a91eb5fede47a7586db46e8df6f', 'message': 'The MarkL7PolicyActiveInDB is not necessary when l7policy deleted\n\nChange-Id: I7c6066ec6563ae6240204e7850f55288e3c794d7\n'}]",0,551846,026b8e5822507a91eb5fede47a7586db46e8df6f,30,6,2,21691,,,0,"The MarkL7PolicyActiveInDB is not necessary when l7policy deleted

Change-Id: I7c6066ec6563ae6240204e7850f55288e3c794d7
",git fetch https://review.opendev.org/openstack/octavia refs/changes/46/551846/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/worker/flows/l7policy_flows.py'],1,ec180a6ce6943188508afce94c0c161e48384ebc,,, delete_l7policy_flow.add(database_tasks.MarkL7PolicyActiveInDB( requires=constants.L7POLICY)),0,2
openstack%2Foctavia~stable%2Fqueens~I2417e1bdf12456b039527584de098391e95d3c2b,openstack/octavia,stable/queens,I2417e1bdf12456b039527584de098391e95d3c2b,Remove snapd from stable branch images,MERGED,2018-05-18 22:40:16.000000000,2018-05-19 03:03:10.000000000,2018-05-19 03:03:10.000000000,"[{'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 22:40:16.000000000', 'files': ['elements/amphora-agent/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/05b57b4116aca1eca5686577ccff6f1da3b15de1', 'message': 'Remove snapd from stable branch images\n\nThe base size of the Ubuntu cloud image has continued to grow.\nRecently the image build has started to fail because the image\nruns out of disk space before the DIB cleanup steps run.\nThis patch removes the unused snapd components from the cloud image\nto give DIB room to finish the image build.\n\nChange-Id: I2417e1bdf12456b039527584de098391e95d3c2b\n'}]",0,569531,05b57b4116aca1eca5686577ccff6f1da3b15de1,7,3,1,11628,,,0,"Remove snapd from stable branch images

The base size of the Ubuntu cloud image has continued to grow.
Recently the image build has started to fail because the image
runs out of disk space before the DIB cleanup steps run.
This patch removes the unused snapd components from the cloud image
to give DIB room to finish the image build.

Change-Id: I2417e1bdf12456b039527584de098391e95d3c2b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/31/569531/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/amphora-agent/package-installs.yaml'],1,05b57b4116aca1eca5686577ccff6f1da3b15de1,,snapd: phase: post-install.d uninstall: True ubuntu-core-launcher: phase: post-install.d uninstall: True,,6,0
openstack%2Fkolla-kubernetes~master~I6eb8e9e47b6bf9efd2974543c22eacb5e2e0c13b,openstack/kolla-kubernetes,master,I6eb8e9e47b6bf9efd2974543c22eacb5e2e0c13b,Add init-runonce into k8s,ABANDONED,2017-04-01 02:38:23.000000000,2018-05-19 03:00:36.000000000,,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 19384}, {'_account_id': 22165}, {'_account_id': 22959}, {'_account_id': 23717}, {'_account_id': 26553}]","[{'number': 1, 'created': '2017-04-01 02:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/ca0893d48e17408a31130d2ac5b21b565ac8b90c', 'message': 'Add init-runonce into k8s\n\nChange-Id: I6eb8e9e47b6bf9efd2974543c22eacb5e2e0c13b\n'}, {'number': 2, 'created': '2017-04-01 02:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/811ea92479715dbbe907c455b1313d0131b464e3', 'message': 'Add init-runonce into k8s\n\nChange-Id: I6eb8e9e47b6bf9efd2974543c22eacb5e2e0c13b\n'}, {'number': 3, 'created': '2017-04-01 08:07:00.000000000', 'files': ['tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/3b4e5fb01d40b9df082a09a682639705dc45c257', 'message': 'Add init-runonce into k8s\n\nChange-Id: I6eb8e9e47b6bf9efd2974543c22eacb5e2e0c13b\n'}]",4,452367,3b4e5fb01d40b9df082a09a682639705dc45c257,20,7,3,22165,,,0,"Add init-runonce into k8s

Change-Id: I6eb8e9e47b6bf9efd2974543c22eacb5e2e0c13b
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/67/452367/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/init-runonce'],1,ca0893d48e17408a31130d2ac5b21b565ac8b90c,,"#!/bin/bash # # This script is meant to be run once after running start for the first # time. This script downloads a cirros image and registers it. Then it # configures networking and nova quotas to allow 40 m1.small instances # to be created. IMAGE_URL=http://download.cirros-cloud.net/0.3.4/ IMAGE=cirros-0.3.4-x86_64-disk.img IMAGE_NAME=cirros IMAGE_TYPE=linux EXT_NET_CIDR='10.0.2.0/24' EXT_NET_RANGE='start=10.0.2.150,end=10.0.2.199' EXT_NET_GATEWAY='10.0.2.1' # Sanitize language settings to avoid commands bailing out # with ""unsupported locale setting"" errors. unset LANG unset LANGUAGE LC_ALL=C export LC_ALL for i in curl openstack; do if [[ ! $(type ${i} 2>/dev/null) ]]; then if [ ""${i}"" == 'curl' ]; then echo ""Please install ${i} before proceeding"" else echo ""Please install python-${i}client before proceeding"" fi exit fi done # Move to top level directory REAL_PATH=$(python -c ""import os,sys;print os.path.realpath('$0')"") cd ""$(dirname ""$REAL_PATH"")/.."" # Test for credentials set if [[ ""${OS_USERNAME}"" == """" ]]; then echo ""No Keystone credentials specified. Try running source openrc"" exit fi # Test to ensure configure script is run only once if openstack image list | grep -q cirros; then echo ""This tool should only be run once per deployment."" exit fi echo Downloading glance image. if ! [ -f ""${IMAGE}"" ]; then curl -L -o ./${IMAGE} ${IMAGE_URL}/${IMAGE} fi echo Creating glance image. openstack image create --disk-format qcow2 --container-format bare --public \ --property os_type=${IMAGE_TYPE} --file ./${IMAGE} ${IMAGE_NAME} echo Configuring neutron. openstack network create --external --provider-physical-network physnet1 \ --provider-network-type flat public1 openstack subnet create --no-dhcp \ --allocation-pool ${EXT_NET_RANGE} --network public1 \ --subnet-range ${EXT_NET_CIDR} --gateway ${EXT_NET_GATEWAY} public1-subnet openstack network create --provider-network-type vxlan demo-net openstack subnet create --subnet-range 10.0.0.0/24 --network demo-net \ --gateway 10.0.0.1 --dns-nameserver 8.8.8.8 demo-subnet openstack router create demo-router openstack router add subnet demo-router demo-subnet openstack router set --external-gateway public1 demo-router # Get admin user and tenant IDs ADMIN_USER_ID=$(openstack user list | awk '/ admin / {print $2}') ADMIN_PROJECT_ID=$(openstack project list | awk '/ admin / {print $2}') ADMIN_SEC_GROUP=$(openstack security group list --project ${ADMIN_PROJECT_ID} | awk '/ default / {print $2}') # Sec Group Config openstack security group rule create --ingress --ethertype IPv4 \ --protocol icmp ${ADMIN_SEC_GROUP} openstack security group rule create --ingress --ethertype IPv4 \ --protocol tcp --dst-port 22 ${ADMIN_SEC_GROUP} # Open heat-cfn so it can run on a different host openstack security group rule create --ingress --ethertype IPv4 \ --protocol tcp --dst-port 8000 ${ADMIN_SEC_GROUP} openstack security group rule create --ingress --ethertype IPv4 \ --protocol tcp --dst-port 8080 ${ADMIN_SEC_GROUP} if [ ! -f ~/.ssh/id_rsa.pub ]; then echo Generating ssh key. ssh-keygen -t rsa -f ~/.ssh/id_rsa fi if [ -r ~/.ssh/id_rsa.pub ]; then echo Configuring nova public key and quotas. openstack keypair create --public-key ~/.ssh/id_rsa.pub mykey fi # Increase the quota to allow 40 m1.small instances to be created # 40 instances openstack quota set --instances 40 ${ADMIN_PROJECT_ID} # 40 cores openstack quota set --cores 40 ${ADMIN_PROJECT_ID} # 96GB ram openstack quota set --ram 96000 ${ADMIN_PROJECT_ID} # add default flavors, if they don't already exist if ! openstack flavor list | grep -q m1.tiny; then openstack flavor create --id 1 --ram 512 --disk 1 --vcpus 1 m1.tiny openstack flavor create --id 2 --ram 2048 --disk 20 --vcpus 1 m1.small openstack flavor create --id 3 --ram 4096 --disk 40 --vcpus 2 m1.medium openstack flavor create --id 4 --ram 8192 --disk 80 --vcpus 4 m1.large openstack flavor create --id 5 --ram 16384 --disk 160 --vcpus 8 m1.xlarge fi DEMO_NET_ID=$(openstack network list | awk '/ demo-net / {print $2}') cat << EOF Done. To deploy a demo instance, run: openstack server create \\ --image ${IMAGE_NAME} \\ --flavor m1.tiny \\ --key-name mykey \\ --nic net-id=${DEMO_NET_ID} \\ demo1 EOF ",,130,0
openstack%2Fkolla-kubernetes~master~If436b75a5c1235010b0b9d93349103352822588c,openstack/kolla-kubernetes,master,If436b75a5c1235010b0b9d93349103352822588c,Remove the python-subunit from test-requirements.txt,ABANDONED,2017-09-26 11:55:30.000000000,2018-05-19 03:00:28.000000000,,"[{'_account_id': 3}, {'_account_id': 19930}, {'_account_id': 22165}, {'_account_id': 23360}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-09-26 11:55:30.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/c6ff1d75a3d2a8e1660b95a71d5abc4d3ed8088d', 'message': 'Remove the python-subunit from test-requirements.txt\n\npython-subunit is not used directly anywhere, this patch remove\nit from test-requirements.txt\n\nChange-Id: If436b75a5c1235010b0b9d93349103352822588c\n'}]",0,507505,c6ff1d75a3d2a8e1660b95a71d5abc4d3ed8088d,13,5,1,22165,,,0,"Remove the python-subunit from test-requirements.txt

python-subunit is not used directly anywhere, this patch remove
it from test-requirements.txt

Change-Id: If436b75a5c1235010b0b9d93349103352822588c
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/05/507505/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c6ff1d75a3d2a8e1660b95a71d5abc4d3ed8088d,,,python-subunit>=0.0.18 # Apache-2.0/BSD,0,1
openstack%2Fopenstack-helm-infra~master~I09a0b828ae702712f5f30f117b04f8034d9a4011,openstack/openstack-helm-infra,master,I09a0b828ae702712f5f30f117b04f8034d9a4011,Clean up the temporary file after deploy,ABANDONED,2018-05-15 09:04:17.000000000,2018-05-19 02:58:03.000000000,,"[{'_account_id': 17591}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-15 09:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3720202222b34686364eba6fc53f781a8d81674b', 'message': 'Clean up the temporary file after deploy\n\nChange-Id: I09a0b828ae702712f5f30f117b04f8034d9a4011\n'}, {'number': 2, 'created': '2018-05-15 09:12:34.000000000', 'files': ['tools/deployment/multinode/090-grafana.sh', 'tools/deployment/common/020-lma-nfs-provisioner.sh', 'tools/deployment/developer/090-grafana.sh', 'tools/deployment/developer/040-prometheus.sh', 'tools/deployment/common/080-openstack-exporter.sh', 'tools/deployment/developer/110-elasticsearch.sh', 'tools/deployment/multinode/110-elasticsearch.sh', 'tools/deployment/developer/050-alertmanager.sh', 'tools/deployment/common/010-deploy-docker-registry.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/12dcc1242f3c0de9aefee81bcf80c50a971c4d6b', 'message': 'Clean up the temporary file after deploy\n\nChange-Id: I09a0b828ae702712f5f30f117b04f8034d9a4011\n'}]",0,568534,12dcc1242f3c0de9aefee81bcf80c50a971c4d6b,8,5,2,22165,,,0,"Clean up the temporary file after deploy

Change-Id: I09a0b828ae702712f5f30f117b04f8034d9a4011
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/34/568534/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/010-deploy-docker-registry.sh'],1,3720202222b34686364eba6fc53f781a8d81674b,, #NOTE: Romove the temporary file rm -f /tmp/docker-registry-nfs-provisioner.yaml,,3,0
openstack%2Ftripleo-quickstart-extras~master~I0fdf09f7488abbcfdd80c3b7dfe66bc2bbdb7b0a,openstack/tripleo-quickstart-extras,master,I0fdf09f7488abbcfdd80c3b7dfe66bc2bbdb7b0a,"Revert ""Temporary disable update of IPA image in jobs""",MERGED,2018-05-18 15:09:32.000000000,2018-05-19 01:47:55.000000000,2018-05-19 01:47:55.000000000,"[{'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-18 15:09:32.000000000', 'files': ['playbooks/ovb-setup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fac419ab97440f4a6ade734e8841efc9056c7420', 'message': 'Revert ""Temporary disable update of IPA image in jobs""\n\nThis reverts commit a835a69e3ba63bc88203584b55ca34d3c116b1c9.\n\nChange-Id: I0fdf09f7488abbcfdd80c3b7dfe66bc2bbdb7b0a\n'}]",0,569441,fac419ab97440f4a6ade734e8841efc9056c7420,8,4,1,1926,,,0,"Revert ""Temporary disable update of IPA image in jobs""

This reverts commit a835a69e3ba63bc88203584b55ca34d3c116b1c9.

Change-Id: I0fdf09f7488abbcfdd80c3b7dfe66bc2bbdb7b0a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/41/569441/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ovb-setup.yml'],1,fac419ab97440f4a6ade734e8841efc9056c7420,509728," - { role: repo-setup, repo_inject_image_path: ""$HOME/ironic-python-agent.initramfs"", repo_run_live: false, initramfs_image: true, libguestfs_mode: false, when: not to_build|bool } - { role: install-built-repo, ib_repo_image_path: ""$HOME/ironic-python-agent.initramfs"", initramfs_image: true, libguestfs_mode: false, when: compressed_gating_repo is defined and not to_build|bool } "," # TODO(sshnaidm): enable update of IPA image, see bug https://bugs.launchpad.net/tripleo/+bug/1770972 # - { role: repo-setup, repo_inject_image_path: ""$HOME/ironic-python-agent.initramfs"", repo_run_live: false, initramfs_image: true, libguestfs_mode: false, when: not to_build|bool } # TODO(sshnaidm): enable update of IPA image, see bug https://bugs.launchpad.net/tripleo/+bug/1770972 # - { role: install-built-repo, ib_repo_image_path: ""$HOME/ironic-python-agent.initramfs"", initramfs_image: true, libguestfs_mode: false, when: compressed_gating_repo is defined and not to_build|bool }",3,4
openstack%2Ftripleo-ci~master~I1fa8cbfd737d22e8d44723e0274d49d268b213e2,openstack/tripleo-ci,master,I1fa8cbfd737d22e8d44723e0274d49d268b213e2,Implement --output-file to write the bash script,MERGED,2018-05-14 12:57:44.000000000,2018-05-19 01:47:54.000000000,2018-05-19 01:47:54.000000000,"[{'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-05-14 12:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2a8f57791aef4b542023114af06071c3b63e0ad7', 'message': '[WIP] Implement --output-file to write the bash script\n\nChange-Id: I1fa8cbfd737d22e8d44723e0274d49d268b213e2\n'}, {'number': 2, 'created': '2018-05-16 08:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/48b809193ab877c1ccee10470e4ba3b70ab4487d', 'message': '[WIP] Implement --output-file to write the bash script\n\nChange-Id: I1fa8cbfd737d22e8d44723e0274d49d268b213e2\n'}, {'number': 3, 'created': '2018-05-16 11:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/31457259eeefbdcf12d9861fefaaf0f897ac8597', 'message': '[WIP] Implement --output-file to write the bash script\n\nChange-Id: I1fa8cbfd737d22e8d44723e0274d49d268b213e2\n'}, {'number': 4, 'created': '2018-05-16 14:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1bd5b403610479e9f60b99c0fa64eb2e412f1248', 'message': '[WIP] Implement --output-file to write the bash script\n\nChange-Id: I1fa8cbfd737d22e8d44723e0274d49d268b213e2\n'}, {'number': 5, 'created': '2018-05-17 11:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/04ab4722f0a8863883b62a739c087b24db784170', 'message': '[WIP] Implement --output-file to write the bash script\n\nChange-Id: I1fa8cbfd737d22e8d44723e0274d49d268b213e2\n'}, {'number': 6, 'created': '2018-05-17 15:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/157ef7113023559898fe1afc9adeb9fe8db9c866', 'message': '[WIP] Implement --output-file to write the bash script\n\nChange-Id: I1fa8cbfd737d22e8d44723e0274d49d268b213e2\n'}, {'number': 7, 'created': '2018-05-17 15:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bfa407f69adc630fee435aefd5edcadbbaaed7e7', 'message': 'Implement --output-file to write the bash script\n\nI will output a sourceable bash script with a capitalized\nversion of the releases dictionary variables.\n\nChange-Id: I1fa8cbfd737d22e8d44723e0274d49d268b213e2\n'}, {'number': 8, 'created': '2018-05-17 15:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c8f382cf089a0d0857e6a58db7bde4453119afd2', 'message': 'Implement --output-file to write the bash script\n\nI will output a sourceable bash script with a capitalized\nversion of the releases dictionary variables.\n\nChange-Id: I1fa8cbfd737d22e8d44723e0274d49d268b213e2\n'}, {'number': 9, 'created': '2018-05-17 15:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/25176710b0621591feb3152d4ab2ef887f4cd1af', 'message': 'Implement --output-file to write the bash script\n\nI will output a sourceable bash script with a capitalized\nversion of the releases dictionary variables.\n\nChange-Id: I1fa8cbfd737d22e8d44723e0274d49d268b213e2\n'}, {'number': 10, 'created': '2018-05-17 16:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/153e965e92424cc5f2dbdc4491e55e7d167433fb', 'message': 'Implement --output-file to write the bash script\n\nI will output a sourceable bash script with a capitalized\nversion of the releases dictionary variables.\n\nChange-Id: I1fa8cbfd737d22e8d44723e0274d49d268b213e2\n'}, {'number': 11, 'created': '2018-05-17 20:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/92bd5619869d02db1c0fd459df55d9a82af78444', 'message': 'Implement --output-file to write the bash script\n\nI will output a sourceable bash script with a capitalized\nversion of the releases dictionary variables.\n\nChange-Id: I1fa8cbfd737d22e8d44723e0274d49d268b213e2\n'}, {'number': 12, 'created': '2018-05-18 12:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8aedcfa78238d557c4d3850d6d3bd04b03f43f2e', 'message': 'Implement --output-file to write the bash script\n\nI will output a sourceable bash script with a capitalized\nversion of the releases dictionary variables.\n\nChange-Id: I1fa8cbfd737d22e8d44723e0274d49d268b213e2\n'}, {'number': 13, 'created': '2018-05-18 14:39:15.000000000', 'files': ['scripts/emit_releases_file/test_write_bash_script.py', 'scripts/emit_releases_file/emit_releases_file.py', 'scripts/emit_releases_file/test_get_dlrn_hash.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8d4adf42330c4907c75c5a417204c0541af299e3', 'message': 'Implement --output-file to write the bash script\n\nI will output a sourceable bash script with a capitalized\nversion of the releases dictionary variables.\n\nChange-Id: I1fa8cbfd737d22e8d44723e0274d49d268b213e2\n'}]",5,568285,8d4adf42330c4907c75c5a417204c0541af299e3,43,9,13,27898,,,0,"Implement --output-file to write the bash script

I will output a sourceable bash script with a capitalized
version of the releases dictionary variables.

Change-Id: I1fa8cbfd737d22e8d44723e0274d49d268b213e2
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/85/568285/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/emit_releases_file/emit_releases_file.py', 'scripts/emit_releases_file/test_bash_script.py']",2,2a8f57791aef4b542023114af06071c3b63e0ad7,sprint13,"import pytest from emit_releases_file import convert_releases_dictionary_to_bash def test_empty_dict_raise_exception(): with pytest.raises(KeyError): convert_releases_dictionary_to_bash({}) @pytest.mark.parametrize(""missing_constant"",[ 'overcloud_target_hash', 'undercloud_install_release', 'undercloud_install_hash', 'undercloud_target_hash', 'overcloud_deploy_hash', 'overcloud_deploy_release', 'undercloud_target_release', 'overcloud_target_release' ]) def test_missing_constant_raise_exception(missing_constant): releases_dictionary = { 'overcloud_target_hash': 'current-tripleo', 'undercloud_install_release': 'queens', 'undercloud_install_hash': 'current-tripleo', 'undercloud_target_hash': 'current-tripleo', 'overcloud_deploy_hash': 'current-tripleo', 'overcloud_deploy_release': 'queens', 'undercloud_target_release': 'master', 'overcloud_target_release': 'queens' } releases_dictionary.pop(missing_constant) with pytest.raises(KeyError): convert_releases_dictionary_to_bash(releases_dictionary) def test_long_constant_get_passed(): releases_dictionary = { 'overcloud_target_hash': 'current-tripleo', 'undercloud_install_release': 'undercloud-queens-overcloud-pike', 'undercloud_install_hash': 'current-tripleo', 'undercloud_target_hash': 'current-tripleo', 'overcloud_deploy_hash': 'current-tripleo', 'overcloud_deploy_release': 'undercloud-queens-overcloud-pike', 'undercloud_target_release': 'undercloud-queens-overcloud-pike', 'overcloud_target_release': 'undercloud-queens-overcloud-pike' } expected_script = '''#!/bin/env bash export UNDERCLOUD_INSTALL_RELEASE=undercloud-queens-overcloud-pike export UNDERCLOUD_INSTALL_HASH=current-tripleo export UNDERCLOUD_TARGET_RELEASE=undercloud-queens-overcloud-pike export UNDERCLOUD_TARGET_HASH=current-tripleo export OVERCLOUD_DEPLOY_RELEASE=undercloud-queens-overcloud-pike export OVERCLOUD_DEPLOY_HASH=current-tripleo export OVERCLOUD_TARGET_RELEASE=undercloud-queens-overcloud-pike export OVERCLOUD_TARGET_HASH=current-tripleo ''' obtained_script = convert_releases_dictionary_to_bash(releases_dictionary) assert(expected_script == obtained_script) def test_short_constant_get_passed(): releases_dictionary = { 'overcloud_target_hash': 'current-tripleo', 'undercloud_install_release': 'queens', 'undercloud_install_hash': 'current-tripleo', 'undercloud_target_hash': 'current-tripleo', 'overcloud_deploy_hash': 'current-tripleo', 'overcloud_deploy_release': 'queens', 'undercloud_target_release': 'master', 'overcloud_target_release': 'queens' } expected_script = '''#!/bin/env bash export UNDERCLOUD_INSTALL_RELEASE=queens export UNDERCLOUD_INSTALL_HASH=current-tripleo export UNDERCLOUD_TARGET_RELEASE=master export UNDERCLOUD_TARGET_HASH=current-tripleo export OVERCLOUD_DEPLOY_RELEASE=queens export OVERCLOUD_DEPLOY_HASH=current-tripleo export OVERCLOUD_TARGET_RELEASE=queens export OVERCLOUD_TARGET_HASH=current-tripleo ''' obtained_script = convert_releases_dictionary_to_bash(releases_dictionary) assert(expected_script == obtained_script) def test_extra_constants_get_ignored(): releases_dictionary = { 'overcloud_target_hash': 'current-tripleo', 'undercloud_install_release': 'queens', 'undercloud_install_hash': 'current-tripleo', 'undercloud_target_hash': 'current-tripleo', 'overcloud_deploy_hash': 'current-tripleo', 'overcloud_deploy_release': 'queens', 'undercloud_target_release': 'master', 'overcloud_target_release': 'queens', 'foo': 'bar' } expected_script = '''#!/bin/env bash export UNDERCLOUD_INSTALL_RELEASE=queens export UNDERCLOUD_INSTALL_HASH=current-tripleo export UNDERCLOUD_TARGET_RELEASE=master export UNDERCLOUD_TARGET_HASH=current-tripleo export OVERCLOUD_DEPLOY_RELEASE=queens export OVERCLOUD_DEPLOY_HASH=current-tripleo export OVERCLOUD_TARGET_RELEASE=queens export OVERCLOUD_TARGET_HASH=current-tripleo ''' obtained_script = convert_releases_dictionary_to_bash(releases_dictionary) assert(expected_script == obtained_script) ",,127,1
openstack%2Fopenstack-helm-infra~master~I7a2c00d467df98903578123a089a934a8f68cd01,openstack/openstack-helm-infra,master,I7a2c00d467df98903578123a089a934a8f68cd01,Keystone-Webhook: fix gate boolean,MERGED,2018-05-18 21:40:48.000000000,2018-05-19 01:35:11.000000000,2018-05-19 01:35:11.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2018-05-18 21:40:48.000000000', 'files': ['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ec58d6e133dc00f25d711c22378beee10f0f29b2', 'message': 'Keystone-Webhook: fix gate boolean\n\nThis PS fixes the conditional for the keystone webhook deployment\nin the gate.\n\nChange-Id: I7a2c00d467df98903578123a089a934a8f68cd01\n'}]",0,569525,ec58d6e133dc00f25d711c22378beee10f0f29b2,7,3,1,23928,,,0,"Keystone-Webhook: fix gate boolean

This PS fixes the conditional for the keystone webhook deployment
in the gate.

Change-Id: I7a2c00d467df98903578123a089a934a8f68cd01
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/25/569525/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/main.yaml'],1,ec58d6e133dc00f25d711c22378beee10f0f29b2,webhook-fix, when: k8s.keystoneAuth|bool == true, when: k8s.keystoneAuth,1,1
openstack%2Fmanila~master~I70fd4e0ea7898e85dff59a927b3cb086d5e408ac,openstack/manila,master,I70fd4e0ea7898e85dff59a927b3cb086d5e408ac,Add ou to security service,MERGED,2017-06-08 08:44:23.000000000,2018-05-19 01:16:18.000000000,2018-05-18 20:13:10.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 7582}, {'_account_id': 8871}, {'_account_id': 9003}, {'_account_id': 11047}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15100}, {'_account_id': 15831}, {'_account_id': 15942}, {'_account_id': 16643}, {'_account_id': 17565}, {'_account_id': 18128}, {'_account_id': 18752}, {'_account_id': 18816}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 23630}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26297}]","[{'number': 1, 'created': '2017-06-08 08:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c3274eb125109ee91b8ee867cda04e8c793c8625', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 2, 'created': '2017-06-08 11:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4c0705180b01d9f4310c414253c01628b8433592', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 3, 'created': '2017-06-08 11:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9f642629800528acf1caf8486ff6e0ad871da5c5', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 4, 'created': '2017-06-09 09:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6f21e4be8a8d2648e245f05a08ea86020ff3a6a4', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 5, 'created': '2017-06-09 09:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7bc47387bc1ce970d79e4532f492c46b7d5ac8ca', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 6, 'created': '2017-06-15 14:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f59126f4c4a08f9e1dcb2acfa548619d763d5504', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 7, 'created': '2017-06-16 06:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a0101e09c1ea5fec9c1a37d26b6d0f82225052eb', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 8, 'created': '2017-06-19 11:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f92cebc1b1ab2c4aeb680bb5c08d70f5161698cf', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 9, 'created': '2017-06-21 09:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c086bacd1b08117b942954446ea13e64b00b359a', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 10, 'created': '2017-06-22 12:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/60feb58f45da6b9f5d6ab604a2b3bc5bb5a84b47', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 11, 'created': '2017-09-04 12:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/36762a249ce7e1437996c45407548ed70cbdac86', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 12, 'created': '2017-09-04 14:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f45ac67f902262ecd1aded2bf050e7392b938e20', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 13, 'created': '2017-09-11 09:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ba6a1897409b0120a025d093fd004da0d37f7127', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 14, 'created': '2017-09-11 12:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1f653d93dab7525ca0ea16464543b3f37c365786', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 15, 'created': '2017-09-14 13:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e68d53ce30df9c3769360904f81e45fa5ea2eb38', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 16, 'created': '2017-09-21 06:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/98063b6d3d05668cf744b176a6c7a335dc0d7457', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 17, 'created': '2017-09-21 07:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a0062fe96a4c0f74d654f48a7ce8122717d79a70', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 18, 'created': '2017-09-21 11:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c9c5c726ffcab4a2e73d1b1efb96235b0bdf0851', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 19, 'created': '2017-09-21 14:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2a9643dc363c6eff11778ced6bb7576e65d3e28c', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 20, 'created': '2017-09-22 08:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/17f7a749c7714cc544db35457e0b50dd65870c05', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 21, 'created': '2017-09-29 10:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/649988654d7f79d33460bf28fbe814622548a869', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nPartial-Bug: #1696669\n'}, {'number': 22, 'created': '2018-02-01 14:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/61b910fd26872046a28b26955f8768cf800fe274', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nNeeded-By: I77d87c8e6f98054f2f02bc4202c14314ff321964\nPartial-Bug: #1696669\n'}, {'number': 23, 'created': '2018-03-25 02:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/43f83e439a7411a45351b684e75513a49987887c', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nNeeded-By: I77d87c8e6f98054f2f02bc4202c14314ff321964\nPartial-Bug: #1696669\n'}, {'number': 24, 'created': '2018-04-24 22:06:30.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/security-services-list-detailed-response.json', 'manila/db/sqlalchemy/models.py', 'manila/api/views/security_service.py', 'api-ref/source/security-services.inc', 'api-ref/source/samples/security-service-create-response.json', 'manila/api/openstack/api_version_request.py', 'api-ref/source/samples/security-service-update-request.json', 'manila/api/openstack/rest_api_version_history.rst', 'releasenotes/notes/bug-1696669-add-ou-to-security-service-06b69615bd417d40.yaml', 'api-ref/source/samples/security-service-show-response.json', 'manila/tests/db/sqlalchemy/test_api.py', 'api-ref/source/samples/security-services-list-for-share-network-response.json', 'manila/share/manager.py', 'manila/tests/api/v2/test_security_services.py', 'manila/tests/share/test_manager.py', 'manila/db/migrations/alembic/versions/0274d20c560f_add_ou_to_security_service.py', 'api-ref/source/samples/security-service-update-response.json'], 'web_link': 'https://opendev.org/openstack/manila/commit/1bd9a1e8f46b56812cb87a3faad91ecc6e865212', 'message': 'Add ou to security service\n\nAllows to configure in which organizational unit the share ends up\n\nAPIImpact\n\nChange-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac\nNeeded-By: I77d87c8e6f98054f2f02bc4202c14314ff321964\nPartial-Bug: #1696669\n'}]",13,472154,1bd9a1e8f46b56812cb87a3faad91ecc6e865212,186,29,24,18816,,,0,"Add ou to security service

Allows to configure in which organizational unit the share ends up

APIImpact

Change-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac
Needed-By: I77d87c8e6f98054f2f02bc4202c14314ff321964
Partial-Bug: #1696669
",git fetch https://review.opendev.org/openstack/manila refs/changes/54/472154/9 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/base.py', 'manila/db/sqlalchemy/models.py', 'manila/api/views/security_service.py', 'manila_tempest_tests/tests/api/test_security_services.py', 'manila/api/openstack/api_version_request.py', 'manila/api/openstack/rest_api_version_history.rst', 'releasenotes/notes/bug-1696669-add-ou-to-security-service-06b69615bd417d40.yaml', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/share/manager.py', 'manila_tempest_tests/services/share/json/shares_client.py', 'manila/tests/api/v1/test_security_service.py', 'manila/tests/share/test_manager.py', 'manila/db/migrations/alembic/versions/0274d20c560f_add_ou_to_security_service.py', 'manila_tempest_tests/tests/api/admin/test_security_services.py']",14,c3274eb125109ee91b8ee867cda04e8c793c8625,bug/1696669," 'ou': 'OU=fake_unit_1', 'ou': 'OU=fake_unit_2',",,73,4
openstack%2Fneutron~master~I8bf64e2c47b55512f3ce42da3849911603cbcde0,openstack/neutron,master,I8bf64e2c47b55512f3ce42da3849911603cbcde0,Update auth_url in install docs,MERGED,2018-05-12 16:19:32.000000000,2018-05-19 01:00:50.000000000,2018-05-19 01:00:49.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-12 16:19:32.000000000', 'files': ['doc/source/install/controller-install-option2-rdo.rst', 'doc/source/install/controller-install-option1-rdo.rst', 'doc/source/install/controller-install-obs.rst', 'doc/source/admin/archives/config-identity.rst', 'doc/source/install/controller-install-option1-obs.rst', 'doc/source/admin/config-dns-int-ext-serv.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/controller-install-option2-obs.rst', 'doc/source/install/compute-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/68a7ef0c5975e7698020a0a3deb595c38b6cc7f3', 'message': 'Update auth_url in install docs\n\nBeginning with the Queens release, the keystone install guide\nrecommends running all interfaces on the same port. This patch\nupdates the install guide to reflect that change.\n\nChange-Id: I8bf64e2c47b55512f3ce42da3849911603cbcde0\n'}]",0,568003,68a7ef0c5975e7698020a0a3deb595c38b6cc7f3,9,5,1,22165,,,0,"Update auth_url in install docs

Beginning with the Queens release, the keystone install guide
recommends running all interfaces on the same port. This patch
updates the install guide to reflect that change.

Change-Id: I8bf64e2c47b55512f3ce42da3849911603cbcde0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/568003/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/controller-install-option2-rdo.rst', 'doc/source/install/controller-install-option1-rdo.rst', 'doc/source/install/controller-install-obs.rst', 'doc/source/admin/archives/config-identity.rst', 'doc/source/admin/config-dns-int-ext-serv.rst', 'doc/source/install/controller-install-option1-obs.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/compute-install-rdo.rst', 'doc/source/install/controller-install-option2-obs.rst']",10,68a7ef0c5975e7698020a0a3deb595c38b6cc7f3,, auth_url = http://controller:5000 auth_url = http://controller:5000, auth_url = http://controller:35357 auth_url = http://controller:35357,16,16
openstack%2Fswift~feature%2Fdeep-review~I7f192209d4d5580f5a0aa6838f9f04e436cf6b1f,openstack/swift,feature/deep-review,I7f192209d4d5580f5a0aa6838f9f04e436cf6b1f,"Add sharder daemon, manage_shard_ranges tool and probe tests",MERGED,2018-05-02 13:09:28.000000000,2018-05-19 01:00:40.000000000,2018-05-19 01:00:40.000000000,"[{'_account_id': 330}, {'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-02 13:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3cdecd0fcde436bbabb149271b24c131bc06873a', 'message': 'Add sharder daemon, manage_shard_ranges tool and probe tests\n\nThe sharder daemon visits container dbs and when necessary executes the sharding workflow on the db.\n\nThe workflow is, in overview:\n\n- perform an audit of the container for sharding purposes.\n\n- move any misplaced objects that do not belong in the container to their correct shard.\n\n- move shard ranges from FOUND state to CREATED state by creating shard containers.\n\n- move shard ranges from CREATED to CLEAVED state by cleaving objects\n  to shard dbs and replicating those dbs. By default this is done in\n  batches of 2 shard ranges per visit.\n\nAdditionally, when the auto_shard option is True (NOT yet recommeneded\nin production), the sharder will identify shard ranges for containers\nthat have exceeded the threshold for sharding, and will also manage\nthe sharding and shrinking of shard containers.\n\nThe manage_shard_ranges tool provides a means to manually identify\nshard ranges and merge them to a container in order to trigger\nsharding. This is currently the recommended way to shard a container.\n\nChange-Id: I7f192209d4d5580f5a0aa6838f9f04e436cf6b1f\n'}, {'number': 2, 'created': '2018-05-07 16:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d0424c2dd3e8f9a0fd54f87e9928b8f4cab11d61', 'message': 'Add sharder daemon, manage_shard_ranges tool and probe tests\n\nThe sharder daemon visits container dbs and when necessary executes\nthe sharding workflow on the db.\n\nThe workflow is, in overview:\n\n- perform an audit of the container for sharding purposes.\n\n- move any misplaced objects that do not belong in the container\n  to their correct shard.\n\n- move shard ranges from FOUND state to CREATED state by creating\n  shard containers.\n\n- move shard ranges from CREATED to CLEAVED state by cleaving objects\n  to shard dbs and replicating those dbs. By default this is done in\n  batches of 2 shard ranges per visit.\n\nAdditionally, when the auto_shard option is True (NOT yet recommeneded\nin production), the sharder will identify shard ranges for containers\nthat have exceeded the threshold for sharding, and will also manage\nthe sharding and shrinking of shard containers.\n\nThe manage_shard_ranges tool provides a means to manually identify\nshard ranges and merge them to a container in order to trigger\nsharding. This is currently the recommended way to shard a container.\n\nChange-Id: I7f192209d4d5580f5a0aa6838f9f04e436cf6b1f\n'}, {'number': 3, 'created': '2018-05-08 16:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1ea5f815dfc62e4c33df684743c5a0e4813bb5be', 'message': 'Add sharder daemon, manage_shard_ranges tool and probe tests\n\nThe sharder daemon visits container dbs and when necessary executes\nthe sharding workflow on the db.\n\nThe workflow is, in overview:\n\n- perform an audit of the container for sharding purposes.\n\n- move any misplaced objects that do not belong in the container\n  to their correct shard.\n\n- move shard ranges from FOUND state to CREATED state by creating\n  shard containers.\n\n- move shard ranges from CREATED to CLEAVED state by cleaving objects\n  to shard dbs and replicating those dbs. By default this is done in\n  batches of 2 shard ranges per visit.\n\nAdditionally, when the auto_shard option is True (NOT yet recommeneded\nin production), the sharder will identify shard ranges for containers\nthat have exceeded the threshold for sharding, and will also manage\nthe sharding and shrinking of shard containers.\n\nThe manage_shard_ranges tool provides a means to manually identify\nshard ranges and merge them to a container in order to trigger\nsharding. This is currently the recommended way to shard a container.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I7f192209d4d5580f5a0aa6838f9f04e436cf6b1f\n'}, {'number': 4, 'created': '2018-05-09 16:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e689e864aea535d6f25be22903df4e3356d4b98c', 'message': 'Add sharder daemon, manage_shard_ranges tool and probe tests\n\nThe sharder daemon visits container dbs and when necessary executes\nthe sharding workflow on the db.\n\nThe workflow is, in overview:\n\n- perform an audit of the container for sharding purposes.\n\n- move any misplaced objects that do not belong in the container\n  to their correct shard.\n\n- move shard ranges from FOUND state to CREATED state by creating\n  shard containers.\n\n- move shard ranges from CREATED to CLEAVED state by cleaving objects\n  to shard dbs and replicating those dbs. By default this is done in\n  batches of 2 shard ranges per visit.\n\nAdditionally, when the auto_shard option is True (NOT yet recommeneded\nin production), the sharder will identify shard ranges for containers\nthat have exceeded the threshold for sharding, and will also manage\nthe sharding and shrinking of shard containers.\n\nThe manage_shard_ranges tool provides a means to manually identify\nshard ranges and merge them to a container in order to trigger\nsharding. This is currently the recommended way to shard a container.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I7f192209d4d5580f5a0aa6838f9f04e436cf6b1f\n'}, {'number': 5, 'created': '2018-05-10 17:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bb6296bea3a2d77984edf3401ff9bfc06ec4497a', 'message': 'Add sharder daemon, manage_shard_ranges tool and probe tests\n\nThe sharder daemon visits container dbs and when necessary executes\nthe sharding workflow on the db.\n\nThe workflow is, in overview:\n\n- perform an audit of the container for sharding purposes.\n\n- move any misplaced objects that do not belong in the container\n  to their correct shard.\n\n- move shard ranges from FOUND state to CREATED state by creating\n  shard containers.\n\n- move shard ranges from CREATED to CLEAVED state by cleaving objects\n  to shard dbs and replicating those dbs. By default this is done in\n  batches of 2 shard ranges per visit.\n\nAdditionally, when the auto_shard option is True (NOT yet recommeneded\nin production), the sharder will identify shard ranges for containers\nthat have exceeded the threshold for sharding, and will also manage\nthe sharding and shrinking of shard containers.\n\nThe manage_shard_ranges tool provides a means to manually identify\nshard ranges and merge them to a container in order to trigger\nsharding. This is currently the recommended way to shard a container.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I7f192209d4d5580f5a0aa6838f9f04e436cf6b1f\n'}, {'number': 6, 'created': '2018-05-11 18:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f321e32a487f9e2b73e2f4134fce98553adb5a06', 'message': 'Add sharder daemon, manage_shard_ranges tool and probe tests\n\nThe sharder daemon visits container dbs and when necessary executes\nthe sharding workflow on the db.\n\nThe workflow is, in overview:\n\n- perform an audit of the container for sharding purposes.\n\n- move any misplaced objects that do not belong in the container\n  to their correct shard.\n\n- move shard ranges from FOUND state to CREATED state by creating\n  shard containers.\n\n- move shard ranges from CREATED to CLEAVED state by cleaving objects\n  to shard dbs and replicating those dbs. By default this is done in\n  batches of 2 shard ranges per visit.\n\nAdditionally, when the auto_shard option is True (NOT yet recommeneded\nin production), the sharder will identify shard ranges for containers\nthat have exceeded the threshold for sharding, and will also manage\nthe sharding and shrinking of shard containers.\n\nThe manage_shard_ranges tool provides a means to manually identify\nshard ranges and merge them to a container in order to trigger\nsharding. This is currently the recommended way to shard a container.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I7f192209d4d5580f5a0aa6838f9f04e436cf6b1f\n'}, {'number': 7, 'created': '2018-05-14 14:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/20038c16f725b791bc59dd0203a50e1ac577f4e6', 'message': 'Add sharder daemon, manage_shard_ranges tool and probe tests\n\nThe sharder daemon visits container dbs and when necessary executes\nthe sharding workflow on the db.\n\nThe workflow is, in overview:\n\n- perform an audit of the container for sharding purposes.\n\n- move any misplaced objects that do not belong in the container\n  to their correct shard.\n\n- move shard ranges from FOUND state to CREATED state by creating\n  shard containers.\n\n- move shard ranges from CREATED to CLEAVED state by cleaving objects\n  to shard dbs and replicating those dbs. By default this is done in\n  batches of 2 shard ranges per visit.\n\nAdditionally, when the auto_shard option is True (NOT yet recommeneded\nin production), the sharder will identify shard ranges for containers\nthat have exceeded the threshold for sharding, and will also manage\nthe sharding and shrinking of shard containers.\n\nThe manage_shard_ranges tool provides a means to manually identify\nshard ranges and merge them to a container in order to trigger\nsharding. This is currently the recommended way to shard a container.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I7f192209d4d5580f5a0aa6838f9f04e436cf6b1f\n'}, {'number': 8, 'created': '2018-05-15 17:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bec199af81d5693048cd522364e362be1b0eda3e', 'message': 'Add sharder daemon, manage_shard_ranges tool and probe tests\n\nThe sharder daemon visits container dbs and when necessary executes\nthe sharding workflow on the db.\n\nThe workflow is, in overview:\n\n- perform an audit of the container for sharding purposes.\n\n- move any misplaced objects that do not belong in the container\n  to their correct shard.\n\n- move shard ranges from FOUND state to CREATED state by creating\n  shard containers.\n\n- move shard ranges from CREATED to CLEAVED state by cleaving objects\n  to shard dbs and replicating those dbs. By default this is done in\n  batches of 2 shard ranges per visit.\n\nAdditionally, when the auto_shard option is True (NOT yet recommeneded\nin production), the sharder will identify shard ranges for containers\nthat have exceeded the threshold for sharding, and will also manage\nthe sharding and shrinking of shard containers.\n\nThe manage_shard_ranges tool provides a means to manually identify\nshard ranges and merge them to a container in order to trigger\nsharding. This is currently the recommended way to shard a container.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I7f192209d4d5580f5a0aa6838f9f04e436cf6b1f\n'}, {'number': 9, 'created': '2018-05-16 18:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a0250b49b4cab8e91c9faf4d808b6e32fb7dc5f2', 'message': 'Add sharder daemon, manage_shard_ranges tool and probe tests\n\nThe sharder daemon visits container dbs and when necessary executes\nthe sharding workflow on the db.\n\nThe workflow is, in overview:\n\n- perform an audit of the container for sharding purposes.\n\n- move any misplaced objects that do not belong in the container\n  to their correct shard.\n\n- move shard ranges from FOUND state to CREATED state by creating\n  shard containers.\n\n- move shard ranges from CREATED to CLEAVED state by cleaving objects\n  to shard dbs and replicating those dbs. By default this is done in\n  batches of 2 shard ranges per visit.\n\nAdditionally, when the auto_shard option is True (NOT yet recommeneded\nin production), the sharder will identify shard ranges for containers\nthat have exceeded the threshold for sharding, and will also manage\nthe sharding and shrinking of shard containers.\n\nThe manage_shard_ranges tool provides a means to manually identify\nshard ranges and merge them to a container in order to trigger\nsharding. This is currently the recommended way to shard a container.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I7f192209d4d5580f5a0aa6838f9f04e436cf6b1f\n'}, {'number': 10, 'created': '2018-05-17 18:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ecad8e5a7a5dbabdc37377f0d70d8dde1013321e', 'message': 'Add sharder daemon, manage_shard_ranges tool and probe tests\n\nThe sharder daemon visits container dbs and when necessary executes\nthe sharding workflow on the db.\n\nThe workflow is, in overview:\n\n- perform an audit of the container for sharding purposes.\n\n- move any misplaced objects that do not belong in the container\n  to their correct shard.\n\n- move shard ranges from FOUND state to CREATED state by creating\n  shard containers.\n\n- move shard ranges from CREATED to CLEAVED state by cleaving objects\n  to shard dbs and replicating those dbs. By default this is done in\n  batches of 2 shard ranges per visit.\n\nAdditionally, when the auto_shard option is True (NOT yet recommeneded\nin production), the sharder will identify shard ranges for containers\nthat have exceeded the threshold for sharding, and will also manage\nthe sharding and shrinking of shard containers.\n\nThe manage_shard_ranges tool provides a means to manually identify\nshard ranges and merge them to a container in order to trigger\nsharding. This is currently the recommended way to shard a container.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I7f192209d4d5580f5a0aa6838f9f04e436cf6b1f\n'}, {'number': 11, 'created': '2018-05-18 19:08:40.000000000', 'files': ['doc/saio/swift/container-server/1.conf', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'test/unit/container/test_backend.py', 'doc/saio/swift/container-server/3.conf', 'swift/cli/shard-info.py', 'bin/swift-container-sharder', 'swift/cli/manage_shard_ranges.py', 'swift/common/manager.py', 'doc/saio/swift/container-server/2.conf', 'test/unit/common/test_utils.py', 'doc/saio/swift/internal-client.conf', 'etc/container-server.conf-sample', 'test/unit/common/test_db_replicator.py', 'test/unit/__init__.py', 'test/unit/proxy/controllers/test_container.py', 'swift/common/utils.py', 'test/unit/cli/test_manage_shard_ranges.py', 'swift/container/sharder.py', 'setup.cfg', 'swift/container/backend.py', 'doc/saio/swift/container-server/4.conf', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/26418140108281ae5ac11004ebf33b7b3e08c74d', 'message': 'Add sharder daemon, manage_shard_ranges tool and probe tests\n\nThe sharder daemon visits container dbs and when necessary executes\nthe sharding workflow on the db.\n\nThe workflow is, in overview:\n\n- perform an audit of the container for sharding purposes.\n\n- move any misplaced objects that do not belong in the container\n  to their correct shard.\n\n- move shard ranges from FOUND state to CREATED state by creating\n  shard containers.\n\n- move shard ranges from CREATED to CLEAVED state by cleaving objects\n  to shard dbs and replicating those dbs. By default this is done in\n  batches of 2 shard ranges per visit.\n\nAdditionally, when the auto_shard option is True (NOT yet recommeneded\nin production), the sharder will identify shard ranges for containers\nthat have exceeded the threshold for sharding, and will also manage\nthe sharding and shrinking of shard containers.\n\nThe manage_shard_ranges tool provides a means to manually identify\nshard ranges and merge them to a container in order to trigger\nsharding. This is currently the recommended way to shard a container.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I7f192209d4d5580f5a0aa6838f9f04e436cf6b1f\n'}]",44,565748,26418140108281ae5ac11004ebf33b7b3e08c74d,39,8,11,7847,,,0,"Add sharder daemon, manage_shard_ranges tool and probe tests

The sharder daemon visits container dbs and when necessary executes
the sharding workflow on the db.

The workflow is, in overview:

- perform an audit of the container for sharding purposes.

- move any misplaced objects that do not belong in the container
  to their correct shard.

- move shard ranges from FOUND state to CREATED state by creating
  shard containers.

- move shard ranges from CREATED to CLEAVED state by cleaving objects
  to shard dbs and replicating those dbs. By default this is done in
  batches of 2 shard ranges per visit.

Additionally, when the auto_shard option is True (NOT yet recommeneded
in production), the sharder will identify shard ranges for containers
that have exceeded the threshold for sharding, and will also manage
the sharding and shrinking of shard containers.

The manage_shard_ranges tool provides a means to manually identify
shard ranges and merge them to a container in order to trigger
sharding. This is currently the recommended way to shard a container.

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>

Change-Id: I7f192209d4d5580f5a0aa6838f9f04e436cf6b1f
",git fetch https://review.opendev.org/openstack/swift refs/changes/48/565748/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/saio/swift/container-server/1.conf', 'doc/saio/swift/internal-client.conf', 'etc/container-server.conf-sample', 'test/unit/proxy/controllers/test_container.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'test/unit/container/test_backend.py', 'doc/saio/swift/container-server/3.conf', 'swift/cli/shard-info.py', 'bin/swift-container-sharder', 'swift/common/utils.py', 'swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'swift/common/manager.py', 'doc/saio/swift/container-server/2.conf', 'swift/container/sharder.py', 'setup.cfg', 'swift/container/backend.py', 'doc/saio/swift/container-server/4.conf', 'swift/proxy/controllers/container.py', 'test/unit/common/test_utils.py']",21,3cdecd0fcde436bbabb149271b24c131bc06873a,rev10," def test_config_float_value(self): for args, expected in ( ((99, None, None), 99.0), ((99.01, None, None), 99.01), (('99', None, None), 99.0), (('99.01', None, None), 99.01), ((99, 99, None), 99.0), ((99.01, 99.01, None), 99.01), (('99', 99, None), 99.0), (('99.01', 99.01, None), 99.01), ((99, None, 99), 99.0), ((99.01, None, 99.01), 99.01), (('99', None, 99), 99.0), (('99.01', None, 99.01), 99.01), ((-99, -99, -99), -99.0), ((-99.01, -99.01, -99.01), -99.01), (('-99', -99, -99), -99.0), (('-99.01', -99.01, -99.01), -99.01),): actual = utils.config_float_value(*args) self.assertEqual(expected, actual) for val, minimum in ((99, 100), ('99', 100), (-99, -98), ('-98.01', -98)): with self.assertRaises(ValueError) as cm: utils.config_float_value(val, minimum=minimum) self.assertIn('greater than %s' % minimum, cm.exception.args[0]) self.assertNotIn('less than', cm.exception.args[0]) for val, maximum in ((99, 98), ('99', 98), (-99, -100), ('-97.9', -98)): with self.assertRaises(ValueError) as cm: utils.config_float_value(val, maximum=maximum) self.assertIn('less than %s' % maximum, cm.exception.args[0]) self.assertNotIn('greater than', cm.exception.args[0]) for val, minimum, maximum in ((99, 99, 98), ('99', 100, 100), (99, 98, 98),): with self.assertRaises(ValueError) as cm: utils.config_float_value(val, minimum=minimum, maximum=maximum) self.assertIn('greater than %s' % minimum, cm.exception.args[0]) self.assertIn('less than %s' % maximum, cm.exception.args[0]) ",,8816,3
openstack%2Fswift~feature%2Fdeep-review~I6ff85827eecdea746b3626c0d401f68139cce19d,openstack/swift,feature/deep-review,I6ff85827eecdea746b3626c0d401f68139cce19d,Redirect object updates to shard containers,MERGED,2018-05-02 13:09:28.000000000,2018-05-19 01:00:37.000000000,2018-05-19 01:00:36.000000000,"[{'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-02 13:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/69b34fec59537e3a06a4c4c9c39e784e17ec73b9', 'message': 'Redirect object updates to shard containers\n\nEnable the proxy to fetch a shard container location from the\ncontainer server in order to redirect an object update to the shard.\n\nEnable the container server to redirect object updates to shard\ncontainers.\n\nEnable object updater to accept redirection of an object update.\n\nChange-Id: I6ff85827eecdea746b3626c0d401f68139cce19d\n'}, {'number': 2, 'created': '2018-05-07 16:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/572f5b1847c458c6074385612a8b8ab0d4561933', 'message': 'Redirect object updates to shard containers\n\nEnable the proxy to fetch a shard container location from the\ncontainer server in order to redirect an object update to the shard.\n\nEnable the container server to redirect object updates to shard\ncontainers.\n\nEnable object updater to accept redirection of an object update.\n\nChange-Id: I6ff85827eecdea746b3626c0d401f68139cce19d\n'}, {'number': 3, 'created': '2018-05-08 16:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f9eee705bc8bcfcca4170d6f7c1064c91d6195e2', 'message': 'Redirect object updates to shard containers\n\nEnable the proxy to fetch a shard container location from the\ncontainer server in order to redirect an object update to the shard.\n\nEnable the container server to redirect object updates to shard\ncontainers.\n\nEnable object updater to accept redirection of an object update.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I6ff85827eecdea746b3626c0d401f68139cce19d\n'}, {'number': 4, 'created': '2018-05-09 16:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9a20e0b718754953320bbc12c870a74373697b95', 'message': 'Redirect object updates to shard containers\n\nEnable the proxy to fetch a shard container location from the\ncontainer server in order to redirect an object update to the shard.\n\nEnable the container server to redirect object updates to shard\ncontainers.\n\nEnable object updater to accept redirection of an object update.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I6ff85827eecdea746b3626c0d401f68139cce19d\n'}, {'number': 5, 'created': '2018-05-10 17:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a7ab4fbe0fe6f986794c50aa2e455dd67082dfbc', 'message': 'Redirect object updates to shard containers\n\nEnable the proxy to fetch a shard container location from the\ncontainer server in order to redirect an object update to the shard.\n\nEnable the container server to redirect object updates to shard\ncontainers.\n\nEnable object updater to accept redirection of an object update.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I6ff85827eecdea746b3626c0d401f68139cce19d\n'}, {'number': 6, 'created': '2018-05-11 18:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/85e6b0c8cbc3809e0135bbdb939e793a1001f70d', 'message': 'Redirect object updates to shard containers\n\nEnable the proxy to fetch a shard container location from the\ncontainer server in order to redirect an object update to the shard.\n\nEnable the container server to redirect object updates to shard\ncontainers.\n\nEnable object updater to accept redirection of an object update.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I6ff85827eecdea746b3626c0d401f68139cce19d\n'}, {'number': 7, 'created': '2018-05-14 14:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a06b0570a760d4acca202cb3441ed563da32f102', 'message': 'Redirect object updates to shard containers\n\nEnable the proxy to fetch a shard container location from the\ncontainer server in order to redirect an object update to the shard.\n\nEnable the container server to redirect object updates to shard\ncontainers.\n\nEnable object updater to accept redirection of an object update.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I6ff85827eecdea746b3626c0d401f68139cce19d\n'}, {'number': 8, 'created': '2018-05-15 17:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a5b274fbaa9bc9bf0a984cee799f2cf69be61fdb', 'message': 'Redirect object updates to shard containers\n\nEnable the proxy to fetch a shard container location from the\ncontainer server in order to redirect an object update to the shard.\n\nEnable the container server to redirect object updates to shard\ncontainers.\n\nEnable object updater to accept redirection of an object update.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I6ff85827eecdea746b3626c0d401f68139cce19d\n'}, {'number': 9, 'created': '2018-05-16 18:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0d9ff49e37d5d839352eab9eeed9cf6479cc9ee2', 'message': 'Redirect object updates to shard containers\n\nEnable the proxy to fetch a shard container location from the\ncontainer server in order to redirect an object update to the shard.\n\nEnable the container server to redirect object updates to shard\ncontainers.\n\nEnable object updater to accept redirection of an object update.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I6ff85827eecdea746b3626c0d401f68139cce19d\n'}, {'number': 10, 'created': '2018-05-17 18:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/72754d78f6e337ec1bcd3bcf41106b3ac3a9aca1', 'message': 'Redirect object updates to shard containers\n\nEnable the proxy to fetch a shard container location from the\ncontainer server in order to redirect an object update to the shard.\n\nEnable the container server to redirect object updates to shard\ncontainers.\n\nEnable object updater to accept redirection of an object update.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I6ff85827eecdea746b3626c0d401f68139cce19d\n'}, {'number': 11, 'created': '2018-05-18 19:08:40.000000000', 'files': ['swift/obj/updater.py', 'swift/obj/server.py', 'swift/container/server.py', 'swift/common/utils.py', 'test/unit/proxy/test_server.py', 'test/unit/obj/test_server.py', 'test/unit/container/test_server.py', 'swift/proxy/controllers/obj.py', 'test/unit/obj/test_updater.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4a3efe61a978b9d7adeabd556ce4a3820e6af555', 'message': 'Redirect object updates to shard containers\n\nEnable the proxy to fetch a shard container location from the\ncontainer server in order to redirect an object update to the shard.\n\nEnable the container server to redirect object updates to shard\ncontainers.\n\nEnable object updater to accept redirection of an object update.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I6ff85827eecdea746b3626c0d401f68139cce19d\n'}]",10,565747,4a3efe61a978b9d7adeabd556ce4a3820e6af555,31,6,11,7847,,,0,"Redirect object updates to shard containers

Enable the proxy to fetch a shard container location from the
container server in order to redirect an object update to the shard.

Enable the container server to redirect object updates to shard
containers.

Enable object updater to accept redirection of an object update.

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>

Change-Id: I6ff85827eecdea746b3626c0d401f68139cce19d
",git fetch https://review.opendev.org/openstack/swift refs/changes/47/565747/9 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/updater.py', 'swift/container/server.py', 'swift/obj/server.py', 'swift/common/utils.py', 'test/unit/proxy/test_server.py', 'test/unit/obj/test_server.py', 'test/unit/container/test_server.py', 'swift/proxy/controllers/obj.py', 'test/unit/obj/test_updater.py']",9,69b34fec59537e3a06a4c4c9c39e784e17ec73b9,rev10," 'device': 'sda1', 'zone': 4}, {'id': 3, 'ip': '127.0.0.1', 'port': 1, 'device': 'sda1', 'zone': 6}], 30), self.ts_iter = make_timestamp_iter() def _write_async_update(self, dfmanager, timestamp, policy, headers=None, container_path=None): # write an async account, container, obj = 'a', 'c', 'o' op = 'PUT' headers_out = headers or { 'x-size': 0, 'x-content-type': 'text/plain', 'x-etag': 'd41d8cd98f00b204e9800998ecf8427e', 'x-timestamp': timestamp.internal, 'X-Backend-Storage-Policy-Index': int(policy), 'User-Agent': 'object-server %s' % os.getpid() } data = {'op': op, 'account': account, 'container': container, 'obj': obj, 'headers': headers_out} if container_path: data['container_path'] = container_path dfmanager.pickle_async_update(self.sda1, account, container, obj, data, timestamp, policy) def do_test(headers_out, expected, container_path=None): self._write_async_update(dfmanager, next(ts_iter), policies[0], headers=headers_out, container_path=container_path) 'User-Agent': 'object-updater %s' % os.getpid(), } do_test(headers_out, expected, container_path='.shards_a/shard_c') # if there is no container path then expect X-Backend-Accept-Redirect expected['X-Backend-Accept-Redirect'] = 'true' # ...unless X-Backend-Accept-Redirect is already set expected['X-Backend-Accept-Redirect'] = 'false' headers_out_2 = dict(headers_out) headers_out_2['X-Backend-Accept-Redirect'] = 'false' do_test(headers_out_2, expected) expected['X-Backend-Accept-Redirect'] = 'true' def _check_update_requests(self, requests, timestamp, policy, accept_redirect=False): # do some sanity checks on update request expected_headers = { 'X-Size': '0', 'X-Content-Type': 'text/plain', 'X-Etag': 'd41d8cd98f00b204e9800998ecf8427e', 'X-Timestamp': timestamp.internal, 'X-Backend-Storage-Policy-Index': str(int(policy)), 'User-Agent': 'object-updater %s' % os.getpid(), } if accept_redirect: expected_headers['X-Backend-Accept-Redirect'] = 'true' for request in requests: self.assertEqual('PUT', request['method']) self.assertDictEqual(expected_headers, request['headers']) def test_obj_put_async_root_update_redirected(self): policies = list(POLICIES) random.shuffle(policies) # setup updater conf = { 'devices': self.devices_dir, 'mount_check': 'false', 'swift_dir': self.testdir, } daemon = object_updater.ObjectUpdater(conf, logger=self.logger) async_dir = os.path.join(self.sda1, get_async_dir(policies[0])) os.mkdir(async_dir) dfmanager = DiskFileManager(conf, daemon.logger) ts_obj = next(self.ts_iter) self._write_async_update(dfmanager, ts_obj, policies[0]) # run once ts_redirect_1 = next(self.ts_iter) ts_redirect_2 = next(self.ts_iter) fake_responses = [ # first round of update attempts, newest redirect should be chosen (200, {}), (301, {'Location': '/.sharded_a/c_shard_new/o', 'X-Backend-Redirect-Timestamp': ts_redirect_2.internal}), (301, {'Location': '/.sharded_a/c_shard_old/o', 'X-Backend-Redirect-Timestamp': ts_redirect_1.internal}), # second round of update attempts (200, {}), (200, {}), (200, {}), ] fake_status_codes, fake_headers = zip(*fake_responses) with mocked_http_conn( *fake_status_codes, headers=fake_headers) as conn: with mock.patch('swift.obj.updater.dump_recon_cache'): daemon.run_once() self._check_update_requests(conn.requests[:3], ts_obj, policies[0], accept_redirect=True) self._check_update_requests(conn.requests[3:], ts_obj, policies[0]) self.assertEqual(['/sda1/0/a/c/o'] * 3 + ['/sda1/0/.sharded_a/c_shard_new/o'] * 3, [req['path'] for req in conn.requests]) self.assertEqual( {'redirects': 1, 'successes': 1, 'unlinks': 1, 'async_pendings': 1}, daemon.logger.get_increment_counts()) self.assertFalse(os.listdir(async_dir)) # no async file def test_obj_put_async_root_update_redirected_previous_success(self): policies = list(POLICIES) random.shuffle(policies) # setup updater conf = { 'devices': self.devices_dir, 'mount_check': 'false', 'swift_dir': self.testdir, } daemon = object_updater.ObjectUpdater(conf, logger=self.logger) async_dir = os.path.join(self.sda1, get_async_dir(policies[0])) os.mkdir(async_dir) dfmanager = DiskFileManager(conf, daemon.logger) ts_obj = next(self.ts_iter) self._write_async_update(dfmanager, ts_obj, policies[0]) orig_async_path, orig_async_data = self._check_async_file(async_dir) # run once with mocked_http_conn( 507, 200, 507) as conn: with mock.patch('swift.obj.updater.dump_recon_cache'): daemon.run_once() self._check_update_requests(conn.requests, ts_obj, policies[0], accept_redirect=True) self.assertEqual(['/sda1/0/a/c/o'] * 3, [req['path'] for req in conn.requests]) self.assertEqual( {'failures': 1, 'async_pendings': 1}, daemon.logger.get_increment_counts()) async_path, async_data = self._check_async_file(async_dir) self.assertEqual(dict(orig_async_data, successes=[1]), async_data) # run again - expect 3 redirected updates despite previous success ts_redirect = next(self.ts_iter) resp_headers_1 = {'Location': '/.sharded_a/c_shard_1/o', 'X-Backend-Redirect-Timestamp': ts_redirect.internal} fake_responses = ( # 1st round of redirects, 2nd round of redirects [(301, resp_headers_1)] * 2 + [(200, {})] * 3) fake_status_codes, fake_headers = zip(*fake_responses) with mocked_http_conn( *fake_status_codes, headers=fake_headers) as conn: with mock.patch('swift.obj.updater.dump_recon_cache'): daemon.run_once() self._check_update_requests(conn.requests[:2], ts_obj, policies[0], accept_redirect=True) self._check_update_requests(conn.requests[2:], ts_obj, policies[0], accept_redirect=False) self.assertEqual(['/sda1/0/a/c/o'] * 2 + ['/sda1/3/.sharded_a/c_shard_1/o'] * 3, [req['path'] for req in conn.requests]) self.assertEqual( {'redirects': 1, 'successes': 1, 'failures': 1, 'unlinks': 1, 'async_pendings': 1}, daemon.logger.get_increment_counts()) self.assertFalse(os.listdir(async_dir)) # no async file def _check_async_file(self, async_dir): async_subdirs = os.listdir(async_dir) self.assertEqual([mock.ANY], async_subdirs) async_files = os.listdir(os.path.join(async_dir, async_subdirs[0])) self.assertEqual([mock.ANY], async_files) async_path = os.path.join( async_dir, async_subdirs[0], async_files[0]) with open(async_path) as fd: async_data = pickle.load(fd) return async_path, async_data def _check_obj_put_async_update_bad_redirect_headers(self, headers): policies = list(POLICIES) random.shuffle(policies) # setup updater conf = { 'devices': self.devices_dir, 'mount_check': 'false', 'swift_dir': self.testdir, } daemon = object_updater.ObjectUpdater(conf, logger=self.logger) async_dir = os.path.join(self.sda1, get_async_dir(policies[0])) os.mkdir(async_dir) dfmanager = DiskFileManager(conf, daemon.logger) ts_obj = next(self.ts_iter) self._write_async_update(dfmanager, ts_obj, policies[0]) orig_async_path, orig_async_data = self._check_async_file(async_dir) fake_responses = [ (301, headers), (301, headers), (301, headers), ] fake_status_codes, fake_headers = zip(*fake_responses) with mocked_http_conn( *fake_status_codes, headers=fake_headers) as conn: with mock.patch('swift.obj.updater.dump_recon_cache'): daemon.run_once() self._check_update_requests(conn.requests, ts_obj, policies[0], accept_redirect=True) self.assertEqual(['/sda1/0/a/c/o'] * 3, [req['path'] for req in conn.requests]) self.assertEqual( {'failures': 1, 'async_pendings': 1}, daemon.logger.get_increment_counts()) # async file still intact async_path, async_data = self._check_async_file(async_dir) self.assertEqual(orig_async_path, async_path) self.assertEqual(orig_async_data, async_data) return daemon def test_obj_put_async_root_update_missing_location_header(self): headers = { 'X-Backend-Redirect-Timestamp': next(self.ts_iter).internal} self._check_obj_put_async_update_bad_redirect_headers(headers) def test_obj_put_async_root_update_bad_location_header(self): headers = { 'Location': 'bad bad bad', 'X-Backend-Redirect-Timestamp': next(self.ts_iter).internal} daemon = self._check_obj_put_async_update_bad_redirect_headers(headers) error_lines = daemon.logger.get_lines_for_level('error') self.assertIn('Container update failed', error_lines[0]) self.assertIn('Invalid path: bad%20bad%20bad', error_lines[0]) def test_obj_put_async_shard_update_redirected_twice(self): policies = list(POLICIES) random.shuffle(policies) # setup updater conf = { 'devices': self.devices_dir, 'mount_check': 'false', 'swift_dir': self.testdir, } daemon = object_updater.ObjectUpdater(conf, logger=self.logger) async_dir = os.path.join(self.sda1, get_async_dir(policies[0])) os.mkdir(async_dir) dfmanager = DiskFileManager(conf, daemon.logger) ts_obj = next(self.ts_iter) self._write_async_update(dfmanager, ts_obj, policies[0], container_path='.sharded_a/c_shard_older') orig_async_path, orig_async_data = self._check_async_file(async_dir) # run once ts_redirect_1 = next(self.ts_iter) ts_redirect_2 = next(self.ts_iter) ts_redirect_3 = next(self.ts_iter) fake_responses = [ # 1st round of redirects, newest redirect should be chosen (301, {'Location': '/.sharded_a/c_shard_old/o', 'X-Backend-Redirect-Timestamp': ts_redirect_1.internal}), (301, {'Location': '/.sharded_a/c_shard_new/o', 'X-Backend-Redirect-Timestamp': ts_redirect_2.internal}), (301, {'Location': '/.sharded_a/c_shard_old/o', 'X-Backend-Redirect-Timestamp': ts_redirect_1.internal}), # 2nd round of redirects (301, {'Location': '/.sharded_a/c_shard_newer/o', 'X-Backend-Redirect-Timestamp': ts_redirect_3.internal}), (301, {'Location': '/.sharded_a/c_shard_newer/o', 'X-Backend-Redirect-Timestamp': ts_redirect_3.internal}), (301, {'Location': '/.sharded_a/c_shard_newer/o', 'X-Backend-Redirect-Timestamp': ts_redirect_3.internal}), ] fake_status_codes, fake_headers = zip(*fake_responses) with mocked_http_conn( *fake_status_codes, headers=fake_headers) as conn: with mock.patch('swift.obj.updater.dump_recon_cache'): daemon.run_once() self._check_update_requests(conn.requests, ts_obj, policies[0], accept_redirect=False) # only *one* set of redirected requests is attempted per cycle self.assertEqual(['/sda1/0/.sharded_a/c_shard_older/o'] * 3 + ['/sda1/0/.sharded_a/c_shard_new/o'] * 3, [req['path'] for req in conn.requests]) self.assertEqual( {'redirects': 2, 'async_pendings': 1}, daemon.logger.get_increment_counts()) # update failed, we still have pending file with most recent redirect # response Location header value added to data async_path, async_data = self._check_async_file(async_dir) self.assertEqual(orig_async_path, async_path) self.assertEqual( dict(orig_async_data, container_path='.sharded_a/c_shard_newer', redirect_history=['.sharded_a/c_shard_new', '.sharded_a/c_shard_newer']), async_data) # next cycle, should get latest redirect from pickled async update fake_responses = [(200, {})] * 3 fake_status_codes, fake_headers = zip(*fake_responses) with mocked_http_conn( *fake_status_codes, headers=fake_headers) as conn: with mock.patch('swift.obj.updater.dump_recon_cache'): daemon.run_once() self._check_update_requests(conn.requests, ts_obj, policies[0], accept_redirect=False) self.assertEqual(['/sda1/1/.sharded_a/c_shard_newer/o'] * 3, [req['path'] for req in conn.requests]) self.assertEqual( {'redirects': 2, 'successes': 1, 'unlinks': 1, 'async_pendings': 1}, daemon.logger.get_increment_counts()) self.assertFalse(os.listdir(async_dir)) # no async file def test_obj_put_async_update_redirection_loop(self): policies = list(POLICIES) random.shuffle(policies) # setup updater conf = { 'devices': self.devices_dir, 'mount_check': 'false', 'swift_dir': self.testdir, } daemon = object_updater.ObjectUpdater(conf, logger=self.logger) async_dir = os.path.join(self.sda1, get_async_dir(policies[0])) os.mkdir(async_dir) dfmanager = DiskFileManager(conf, daemon.logger) ts_obj = next(self.ts_iter) self._write_async_update(dfmanager, ts_obj, policies[0]) orig_async_path, orig_async_data = self._check_async_file(async_dir) # run once ts_redirect = next(self.ts_iter) resp_headers_1 = {'Location': '/.sharded_a/c_shard_1/o', 'X-Backend-Redirect-Timestamp': ts_redirect.internal} resp_headers_2 = {'Location': '/.sharded_a/c_shard_2/o', 'X-Backend-Redirect-Timestamp': ts_redirect.internal} fake_responses = ( # 1st round of redirects, 2nd round of redirects [(301, resp_headers_1)] * 3 + [(301, resp_headers_2)] * 3) fake_status_codes, fake_headers = zip(*fake_responses) with mocked_http_conn( *fake_status_codes, headers=fake_headers) as conn: with mock.patch('swift.obj.updater.dump_recon_cache'): daemon.run_once() self._check_update_requests(conn.requests[:3], ts_obj, policies[0], accept_redirect=True) self._check_update_requests(conn.requests[3:], ts_obj, policies[0], accept_redirect=False) # only *one* set of redirected requests is attempted per cycle self.assertEqual(['/sda1/0/a/c/o'] * 3 + ['/sda1/3/.sharded_a/c_shard_1/o'] * 3, [req['path'] for req in conn.requests]) self.assertEqual( {'redirects': 2, 'async_pendings': 1}, daemon.logger.get_increment_counts()) # update failed, we still have pending file with most recent redirect # response Location header value added to data async_path, async_data = self._check_async_file(async_dir) self.assertEqual(orig_async_path, async_path) self.assertEqual( dict(orig_async_data, container_path='.sharded_a/c_shard_2', redirect_history=['.sharded_a/c_shard_1', '.sharded_a/c_shard_2']), async_data) # next cycle, more redirects! first is to previously visited location resp_headers_3 = {'Location': '/.sharded_a/c_shard_3/o', 'X-Backend-Redirect-Timestamp': ts_redirect.internal} fake_responses = ( # 1st round of redirects, 2nd round of redirects [(301, resp_headers_1)] * 3 + [(301, resp_headers_3)] * 3) fake_status_codes, fake_headers = zip(*fake_responses) with mocked_http_conn( *fake_status_codes, headers=fake_headers) as conn: with mock.patch('swift.obj.updater.dump_recon_cache'): daemon.run_once() self._check_update_requests(conn.requests[:3], ts_obj, policies[0], accept_redirect=False) self._check_update_requests(conn.requests[3:], ts_obj, policies[0], accept_redirect=True) # first try the previously persisted container path, response to that # creates a loop so ignore and send to root self.assertEqual(['/sda1/1/.sharded_a/c_shard_2/o'] * 3 + ['/sda1/0/a/c/o'] * 3, [req['path'] for req in conn.requests]) self.assertEqual( {'redirects': 4, 'async_pendings': 1}, daemon.logger.get_increment_counts()) # update failed, we still have pending file with most recent redirect # response Location header value from root added to persisted data async_path, async_data = self._check_async_file(async_dir) self.assertEqual(orig_async_path, async_path) # note: redirect_history was reset when falling back to root self.assertEqual( dict(orig_async_data, container_path='.sharded_a/c_shard_3', redirect_history=['.sharded_a/c_shard_3']), async_data) # next cycle, more redirects! first is to a location visited previously # but not since last fall back to root, so that location IS tried; # second is to a location visited since last fall back to root so that # location is NOT tried fake_responses = ( # 1st round of redirects, 2nd round of redirects [(301, resp_headers_1)] * 3 + [(301, resp_headers_3)] * 3) fake_status_codes, fake_headers = zip(*fake_responses) with mocked_http_conn( *fake_status_codes, headers=fake_headers) as conn: with mock.patch('swift.obj.updater.dump_recon_cache'): daemon.run_once() self._check_update_requests(conn.requests, ts_obj, policies[0], accept_redirect=False) self.assertEqual(['/sda1/3/.sharded_a/c_shard_3/o'] * 3 + ['/sda1/3/.sharded_a/c_shard_1/o'] * 3, [req['path'] for req in conn.requests]) self.assertEqual( {'redirects': 6, 'async_pendings': 1}, daemon.logger.get_increment_counts()) # update failed, we still have pending file, but container_path is None # because most recent redirect location was a repeat async_path, async_data = self._check_async_file(async_dir) self.assertEqual(orig_async_path, async_path) self.assertEqual( dict(orig_async_data, container_path=None, redirect_history=[]), async_data) # next cycle, persisted container path is None so update should go to # root, this time it succeeds fake_responses = [(200, {})] * 3 fake_status_codes, fake_headers = zip(*fake_responses) with mocked_http_conn( *fake_status_codes, headers=fake_headers) as conn: with mock.patch('swift.obj.updater.dump_recon_cache'): daemon.run_once() self._check_update_requests(conn.requests, ts_obj, policies[0], accept_redirect=True) self.assertEqual(['/sda1/0/a/c/o'] * 3, [req['path'] for req in conn.requests]) self.assertEqual( {'redirects': 6, 'successes': 1, 'unlinks': 1, 'async_pendings': 1}, daemon.logger.get_increment_counts()) self.assertFalse(os.listdir(async_dir)) # no async file "," 'device': 'sda1', 'zone': 4}], 30), def do_test(headers_out, expected): account, container, obj = 'a', 'c', 'o' op = 'PUT' data = {'op': op, 'account': account, 'container': container, 'obj': obj, 'headers': headers_out} dfmanager.pickle_async_update(self.sda1, account, container, obj, data, next(ts_iter), policies[0]) 'User-Agent': 'object-updater %s' % os.getpid() }",1291,188
openstack%2Fswift~feature%2Fdeep-review~Ia4cfebbe50338a761b8b6e9903b1869cb1f5b47e,openstack/swift,feature/deep-review,Ia4cfebbe50338a761b8b6e9903b1869cb1f5b47e,Enable proxy to build listings from shards,MERGED,2018-05-02 13:09:28.000000000,2018-05-19 01:00:35.000000000,2018-05-19 01:00:35.000000000,"[{'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-02 13:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/984519f51fc90f07261988b05fe9eb5003b61018', 'message': 'Enable proxy to build listings from shards\n\nWhen a container is sharding or sharded the proxy container controller\nnow build container listings by concatenating components from shard\nranges.\n\nChange-Id: Ia4cfebbe50338a761b8b6e9903b1869cb1f5b47e\n'}, {'number': 2, 'created': '2018-05-07 16:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ffdc564705c1cd286d650a3497261bf8758c85d9', 'message': 'Enable proxy to build listings from shards\n\nWhen a container is sharding or sharded the proxy container controller\nnow build container listings by concatenating components from shard\nranges.\n\nChange-Id: Ia4cfebbe50338a761b8b6e9903b1869cb1f5b47e\n'}, {'number': 3, 'created': '2018-05-08 16:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bf4dbfff28d0bb2421ff5fdc7c0128f5a0ff544a', 'message': 'Enable proxy to build listings from shards\n\nWhen a container is sharding or sharded the proxy container controller\nnow build container listings by concatenating components from shard\nranges.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ia4cfebbe50338a761b8b6e9903b1869cb1f5b47e\n'}, {'number': 4, 'created': '2018-05-09 16:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dad08b6f01c6fac4235005fbda4cfcf526b75536', 'message': 'Enable proxy to build listings from shards\n\nWhen a container is sharding or sharded the proxy container controller\nnow build container listings by concatenating components from shard\nranges.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ia4cfebbe50338a761b8b6e9903b1869cb1f5b47e\n'}, {'number': 5, 'created': '2018-05-10 17:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a14e706b6e5fb0b03764c58c5da08bb471b427b3', 'message': 'Enable proxy to build listings from shards\n\nWhen a container is sharding or sharded the proxy container controller\nnow build container listings by concatenating components from shard\nranges.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ia4cfebbe50338a761b8b6e9903b1869cb1f5b47e\n'}, {'number': 6, 'created': '2018-05-11 18:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5b3f7ce79b521bf58340fd9630373badedf7b47d', 'message': 'Enable proxy to build listings from shards\n\nWhen a container is sharding or sharded the proxy container controller\nnow build container listings by concatenating components from shard\nranges.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ia4cfebbe50338a761b8b6e9903b1869cb1f5b47e\n'}, {'number': 7, 'created': '2018-05-14 14:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0431fa57f0b201b01dcd8e0d962e5c31cefb6f12', 'message': 'Enable proxy to build listings from shards\n\nWhen a container is sharding or sharded the proxy container controller\nnow build container listings by concatenating components from shard\nranges.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ia4cfebbe50338a761b8b6e9903b1869cb1f5b47e\n'}, {'number': 8, 'created': '2018-05-15 17:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/33a33a37860dc2b3bdc321bf4ccc2048ad57f31b', 'message': 'Enable proxy to build listings from shards\n\nWhen a container is sharding or sharded the proxy container controller\nnow build container listings by concatenating components from shard\nranges.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ia4cfebbe50338a761b8b6e9903b1869cb1f5b47e\n'}, {'number': 9, 'created': '2018-05-16 18:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/aadd639e54cf4844e19231c9e96472abba252c41', 'message': 'Enable proxy to build listings from shards\n\nWhen a container is sharding or sharded the proxy container controller\nnow build container listings by concatenating components from shard\nranges.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ia4cfebbe50338a761b8b6e9903b1869cb1f5b47e\n'}, {'number': 10, 'created': '2018-05-17 18:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7ab00f70a10d7da67865e154a2b0773149611995', 'message': 'Enable proxy to build listings from shards\n\nWhen a container is sharding or sharded the proxy container controller\nnow build container listings by concatenating components from shard\nranges.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ia4cfebbe50338a761b8b6e9903b1869cb1f5b47e\n'}, {'number': 11, 'created': '2018-05-18 19:08:40.000000000', 'files': ['test/unit/proxy/controllers/test_container.py', 'test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e940bc6cb1c065d92239f5f298adee3eb669aff3', 'message': 'Enable proxy to build listings from shards\n\nWhen a container is sharding or sharded the proxy container controller\nnow builds container listings by concatenating components from shard\nranges.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCo-Authored-By: Samuel Merritt <sam@swiftstack.com>\n\nChange-Id: Ia4cfebbe50338a761b8b6e9903b1869cb1f5b47e\n'}]",23,565746,e940bc6cb1c065d92239f5f298adee3eb669aff3,34,6,11,7847,,,0,"Enable proxy to build listings from shards

When a container is sharding or sharded the proxy container controller
now builds container listings by concatenating components from shard
ranges.

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>
Co-Authored-By: Samuel Merritt <sam@swiftstack.com>

Change-Id: Ia4cfebbe50338a761b8b6e9903b1869cb1f5b47e
",git fetch https://review.opendev.org/openstack/swift refs/changes/46/565746/6 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_container.py', 'test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py']",4,984519f51fc90f07261988b05fe9eb5003b61018,rev10,"import jsonfrom swift.common.wsgi import make_pre_authed_env, make_pre_authed_request document_iters_to_http_response_body, ShardRange 'sharding_state': headers.get('x-backend-sharding-state', 'unsharded'), if info.get('sharding_state') is None: info['sharding_state'] = 'unsharded' def _get_container_listing(self, req, account, container, headers=None, params=None): """""" Fetch container listing from given `account/container`. :param req: original Request instance. :param account: account in which `container` is stored. :param container: container from listing should be fetched. :param headers: headers to be included with the request :param params: query string parameters to be used. :return: a tuple of (deserialized json data structure, swob Response) """""" params = params or {} version, _a, _c, _other = req.split_path(3, 4, True) path = '/'.join(['', version, account, container]) # TODO: consider adding user agent and swift source to subreq subreq = make_pre_authed_request( req.environ, method='GET', path=quote(path), headers=req.headers) if headers: subreq.headers.update(headers) subreq.params = params self.app.logger.debug( 'Get listing from %s %s' % (subreq.path_qs, headers)) response = self.app.handle_request(subreq) if not is_success(response.status_int): self.app.logger.warning( 'Failed to get container listing from %s: %s', subreq.path_qs, response.status_int) return None, response try: data = json.loads(response.body) if not isinstance(data, list): raise ValueError('not a list') return data, response except ValueError as err: self.app.logger.error( 'Problem with listing response from %s: %r', subreq.path_qs, err) return None, response def _get_shard_ranges(self, req, account, container, includes=None, states=None): """""" Fetch shard ranges from given `account/container`. If `includes` is given then the shard range for that object name is requested, otherwise all shard ranges are requested. :param req: original Request instance. :param account: account from which shard ranges should be fetched. :param container: container from which shard ranges should be fetched. :param includes: (optional) restricts the list of fetched shard ranges to those which include the given name. :param states: (optional) the states of shard ranges to be fetched. :return: a list of instances of :class:`swift.common.utils.ShardRange`, or None if there was a problem fetching the shard ranges """""" params = req.params.copy() params.pop('limit', None) params['format'] = 'json' if includes: params['includes'] = includes if states: params['states'] = states headers = {'X-Backend-Record-Type': 'shard'} listing, response = self._get_container_listing( req, account, container, headers=headers, params=params) if listing is None: return None record_type = response.headers.get('x-backend-record-type') if record_type != 'shard': err = 'unexpected record type %r' % record_type self.app.logger.error(""Failed to get shard ranges from %s: %s"", req.path_qs, err) return None try: return [ShardRange.from_dict(shard_range) for shard_range in listing] except (ValueError, TypeError, KeyError) as err: self.app.logger.error( ""Failed to get shard ranges from %s: invalid data: %r"", req.path_qs, err) return None",from swift.common.wsgi import make_pre_authed_env document_iters_to_http_response_body,1146,9
openstack%2Fswift~feature%2Fdeep-review~I029782ae348f38c5fb76d2759609f67a06c883ef,openstack/swift,feature/deep-review,I029782ae348f38c5fb76d2759609f67a06c883ef,Add shard range support to container server,MERGED,2018-05-02 13:09:28.000000000,2018-05-19 01:00:34.000000000,2018-05-19 01:00:34.000000000,"[{'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-02 13:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8c035bbe8a2a0edbd342105ada898cef7c51be04', 'message': 'Add shard range support to container server\n\nSupport PUTs to container server with json serialized ShardRanges in\nbody.  Shard range PUTs may autocreate containers.\n\nSupport GET of shard ranges from container server.  Shard range GETs\nsupport X-Backend-Include-Deleted to include deleted shard ranges in\nlist and X-Backend-Override-Delete to get shard ranges when container\nhas been marked as deleted.\n\nSupport container PUTs with body in direct_client .py\n\nChange-Id: I029782ae348f38c5fb76d2759609f67a06c883ef\n'}, {'number': 2, 'created': '2018-05-07 16:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e4d07adcb8953e1cc6061821afb9d895da6f3260', 'message': 'Add shard range support to container server\n\nSupport PUTs to container server with json serialized ShardRanges in\nbody.  Shard range PUTs may autocreate containers.\n\nSupport GET of shard ranges from container server.  Shard range GETs\nsupport X-Backend-Include-Deleted to include deleted shard ranges in\nlist and X-Backend-Override-Delete to get shard ranges when container\nhas been marked as deleted.\n\nSupport container PUTs with body in direct_client .py\n\nChange-Id: I029782ae348f38c5fb76d2759609f67a06c883ef\n'}, {'number': 3, 'created': '2018-05-08 16:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c9adfb4d367df41711921c738e13d827acaa631d', 'message': 'Add shard range support to container server\n\nSupport PUTs to container server with json serialized ShardRanges in\nbody.  Shard range PUTs may autocreate containers.\n\nSupport GET of shard ranges from container server.  Shard range GETs\nsupport X-Backend-Include-Deleted to include deleted shard ranges in\nlist and X-Backend-Override-Delete to get shard ranges when container\nhas been marked as deleted.\n\nSupport container PUTs with body in direct_client .py\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I029782ae348f38c5fb76d2759609f67a06c883ef\n'}, {'number': 4, 'created': '2018-05-09 16:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/62bcbb2d4e3c3272a72d75313dcb8b13d160b284', 'message': 'Add shard range support to container server\n\nSupport PUTs to container server with json serialized ShardRanges in\nbody.  Shard range PUTs may autocreate containers.\n\nSupport GET of shard ranges from container server.  Shard range GETs\nsupport X-Backend-Include-Deleted to include deleted shard ranges in\nlist and X-Backend-Override-Delete to get shard ranges when container\nhas been marked as deleted.\n\nSupport container PUTs with body in direct_client .py\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I029782ae348f38c5fb76d2759609f67a06c883ef\n'}, {'number': 5, 'created': '2018-05-10 17:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1443aea298c3d3252f885d4373715f71978a2404', 'message': 'Add shard range support to container server\n\nSupport PUTs to container server with json serialized ShardRanges in\nbody.  Shard range PUTs may autocreate containers.\n\nSupport GET of shard ranges from container server.  Shard range GETs\nsupport X-Backend-Include-Deleted to include deleted shard ranges in\nlist and X-Backend-Override-Delete to get shard ranges when container\nhas been marked as deleted.\n\nSupport container PUTs with body in direct_client .py\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I029782ae348f38c5fb76d2759609f67a06c883ef\n'}, {'number': 6, 'created': '2018-05-11 18:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ed6b382bb5e0812d4d048a09b2b91f41d51e9eec', 'message': 'Add shard range support to container server\n\nSupport PUTs to container server with json serialized ShardRanges in\nbody.  Shard range PUTs may autocreate containers.\n\nSupport GET of shard ranges from container server.  Shard range GETs\nsupport X-Backend-Include-Deleted to include deleted shard ranges in\nlist and X-Backend-Override-Delete to get shard ranges when container\nhas been marked as deleted.\n\nSupport container PUTs with body in direct_client .py\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I029782ae348f38c5fb76d2759609f67a06c883ef\n'}, {'number': 7, 'created': '2018-05-14 14:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8218fe9b1cfb38d9c9e18b1fa3178bd959fba0d1', 'message': 'Add shard range support to container server\n\nSupport PUTs to container server with json serialized ShardRanges in\nbody.  Shard range PUTs may autocreate containers.\n\nSupport GET of shard ranges from container server.  Shard range GETs\nsupport X-Backend-Include-Deleted to include deleted shard ranges in\nlist and X-Backend-Override-Delete to get shard ranges when container\nhas been marked as deleted.\n\nSupport container PUTs with body in direct_client .py\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I029782ae348f38c5fb76d2759609f67a06c883ef\n'}, {'number': 8, 'created': '2018-05-15 17:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/84a4e1e06679060bc4ae397517dc6510ce93a503', 'message': 'Add shard range support to container server\n\nSupport PUTs to container server with json serialized ShardRanges in\nbody.  Shard range PUTs may autocreate containers.\n\nSupport GET of shard ranges from container server.  Shard range GETs\nsupport X-Backend-Include-Deleted to include deleted shard ranges in\nlist and X-Backend-Override-Delete to get shard ranges when container\nhas been marked as deleted.\n\nSupport container PUTs with body in direct_client .py\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I029782ae348f38c5fb76d2759609f67a06c883ef\n'}, {'number': 9, 'created': '2018-05-16 18:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5d551e3671d3c13658368a6065e17e5d3fafd7eb', 'message': 'Add shard range support to container server\n\nSupport PUTs to container server with json serialized ShardRanges in\nbody.  Shard range PUTs may autocreate containers.\n\nSupport GET of shard ranges from container server.  Shard range GETs\nsupport X-Backend-Include-Deleted to include deleted shard ranges in\nlist and X-Backend-Override-Delete to get shard ranges when container\nhas been marked as deleted.\n\nSupport container PUTs with body in direct_client .py\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I029782ae348f38c5fb76d2759609f67a06c883ef\n'}, {'number': 10, 'created': '2018-05-17 18:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/94427e67f430b0db4eb2ff622dd732109af7de25', 'message': ""Add shard range support to container server\n\nSupport PUTs to container server with json serialized ShardRanges in\nbody.  Shard range PUTs may autocreate containers.\n\nSupport GET of shard ranges from container server.Shard range GETs\nsupport X-Backend-Include-Deleted to include deleted shard ranges in\nlist and X-Backend-Override-Delete to get shard ranges when container\nhas been marked as deleted.\n\nThe X-Backend-Record-Type = ['object'|'shard'|'auto'] is introduced\nto differentiate container server requests for object versus shard\nranges. When 'auto' is used with a GET request the container server\nwill return whichever record type is appropriate for fetchng object\nlistings, depending on whether the container is sharded or not.\n\nSupport container PUTs with body in direct_client .py\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I029782ae348f38c5fb76d2759609f67a06c883ef\n""}, {'number': 11, 'created': '2018-05-18 19:08:40.000000000', 'files': ['swift/container/server.py', 'test/unit/common/test_direct_client.py', 'test/unit/proxy/test_server.py', 'swift/common/direct_client.py', 'test/unit/container/test_server.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/723eac907c53cc4082703acf63ef77683d698acc', 'message': ""Add shard range support to container server\n\nSupport PUTs to container server with json serialized ShardRanges in\nbody.  Shard range PUTs may autocreate containers.\n\nSupport GET of shard ranges from container server.Shard range GETs\nsupport X-Backend-Include-Deleted to include deleted shard ranges in\nlist and X-Backend-Override-Delete to get shard ranges when container\nhas been marked as deleted.\n\nThe X-Backend-Record-Type = ['object'|'shard'|'auto'] is introduced\nto differentiate container server requests for object versus shard\nranges. When 'auto' is used with a GET request the container server\nwill return whichever record type is appropriate for fetchng object\nlistings, depending on whether the container is sharded or not.\n\nSupport container PUTs with body in direct_client .py\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I029782ae348f38c5fb76d2759609f67a06c883ef\n""}]",38,565745,723eac907c53cc4082703acf63ef77683d698acc,34,6,11,7847,,,0,"Add shard range support to container server

Support PUTs to container server with json serialized ShardRanges in
body.  Shard range PUTs may autocreate containers.

Support GET of shard ranges from container server.Shard range GETs
support X-Backend-Include-Deleted to include deleted shard ranges in
list and X-Backend-Override-Delete to get shard ranges when container
has been marked as deleted.

The X-Backend-Record-Type = ['object'|'shard'|'auto'] is introduced
to differentiate container server requests for object versus shard
ranges. When 'auto' is used with a GET request the container server
will return whichever record type is appropriate for fetchng object
listings, depending on whether the container is sharded or not.

Support container PUTs with body in direct_client .py

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>

Change-Id: I029782ae348f38c5fb76d2759609f67a06c883ef
",git fetch https://review.opendev.org/openstack/swift refs/changes/45/565745/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/server.py', 'test/unit/common/test_direct_client.py', 'test/unit/proxy/test_server.py', 'swift/common/direct_client.py', 'test/unit/container/test_server.py', 'swift/proxy/controllers/container.py']",6,8c035bbe8a2a0edbd342105ada898cef7c51be04,rev10, auto_account = self.account_name.startswith( self.app.auto_create_account_prefix) if not (auto_account or ai[1]):, if not ai[1]:,1256,79
openstack%2Fswift~feature%2Fdeep-review~Ie4d2816259e6c25c346976e181fb9d350f947190,openstack/swift,feature/deep-review,Ie4d2816259e6c25c346976e181fb9d350f947190,Add support for sharding in ContainerBroker,MERGED,2018-05-02 13:09:28.000000000,2018-05-19 00:47:10.000000000,2018-05-19 00:47:10.000000000,"[{'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-02 13:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e9b030bfd1c4d0753509dbddc6f2fe859975cdb5', 'message': 'Add support for sharding in ContainerBroker\n\nWith this patch the ContainerBroker gains several new features:\n\n1. A shard_ranges table to persist ShardRange data, along with\nmethods to merge and access ShardRange instances to that table,\nand to remove expired shard ranges.\n\n2. The ability to create a fresh db file to replace the existing db\nfile. Fresh db files are named using the hash of the container path\nplus an epoch which is a serialized Timestamp value, in the form:\n\n  <hash>_<epoch>.db\n\nDuring sharding both the fresh and retiring db files co-exist on\ndisk. The ContainerBroker is now able to choose the newest on disk db\nfile when instantiated. It also provides a method (get_brokers()) to\ngain access to broker instance for either on disk file.\n\n3. Methods to access the current state of the on disk db files i.e.\nUNSHARDED (old file only), SHARDING (fresh and retiring files), or\nSHARDED (fresh file only with shard ranges).\n\nContainer replication is also modified:\n\n1. shard ranges are replicated between container db peers. Unlike\nobjects, shard ranges are both pushed and pulled during a REPLICATE\nevent.\n\n2. If a container db is capable of being sharded (i.e. it has a set of\nshard ranges) then it will no longer attempt to replicate objects to\nits peers. Object record durability is achieved by sharding rather than\npeer to peer replication.\n\nChange-Id: Ie4d2816259e6c25c346976e181fb9d350f947190\n'}, {'number': 2, 'created': '2018-05-07 16:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d3463d617058395f38a8b34f58d581a46df77f55', 'message': 'Add support for sharding in ContainerBroker\n\nWith this patch the ContainerBroker gains several new features:\n\n1. A shard_ranges table to persist ShardRange data, along with\nmethods to merge and access ShardRange instances to that table,\nand to remove expired shard ranges.\n\n2. The ability to create a fresh db file to replace the existing db\nfile. Fresh db files are named using the hash of the container path\nplus an epoch which is a serialized Timestamp value, in the form:\n\n  <hash>_<epoch>.db\n\nDuring sharding both the fresh and retiring db files co-exist on\ndisk. The ContainerBroker is now able to choose the newest on disk db\nfile when instantiated. It also provides a method (get_brokers()) to\ngain access to broker instance for either on disk file.\n\n3. Methods to access the current state of the on disk db files i.e.\nUNSHARDED (old file only), SHARDING (fresh and retiring files), or\nSHARDED (fresh file only with shard ranges).\n\nContainer replication is also modified:\n\n1. shard ranges are replicated between container db peers. Unlike\nobjects, shard ranges are both pushed and pulled during a REPLICATE\nevent.\n\n2. If a container db is capable of being sharded (i.e. it has a set of\nshard ranges) then it will no longer attempt to replicate objects to\nits peers. Object record durability is achieved by sharding rather than\npeer to peer replication.\n\nChange-Id: Ie4d2816259e6c25c346976e181fb9d350f947190\n'}, {'number': 3, 'created': '2018-05-08 16:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2d5e322d77a786ea790ca626ed40e90894a9414e', 'message': 'Add support for sharding in ContainerBroker\n\nWith this patch the ContainerBroker gains several new features:\n\n1. A shard_ranges table to persist ShardRange data, along with\nmethods to merge and access ShardRange instances to that table,\nand to remove expired shard ranges.\n\n2. The ability to create a fresh db file to replace the existing db\nfile. Fresh db files are named using the hash of the container path\nplus an epoch which is a serialized Timestamp value, in the form:\n\n  <hash>_<epoch>.db\n\nDuring sharding both the fresh and retiring db files co-exist on\ndisk. The ContainerBroker is now able to choose the newest on disk db\nfile when instantiated. It also provides a method (get_brokers()) to\ngain access to broker instance for either on disk file.\n\n3. Methods to access the current state of the on disk db files i.e.\nUNSHARDED (old file only), SHARDING (fresh and retiring files), or\nSHARDED (fresh file only with shard ranges).\n\nContainer replication is also modified:\n\n1. shard ranges are replicated between container db peers. Unlike\nobjects, shard ranges are both pushed and pulled during a REPLICATE\nevent.\n\n2. If a container db is capable of being sharded (i.e. it has a set of\nshard ranges) then it will no longer attempt to replicate objects to\nits peers. Object record durability is achieved by sharding rather than\npeer to peer replication.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4d2816259e6c25c346976e181fb9d350f947190\n'}, {'number': 4, 'created': '2018-05-09 16:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/723eaf493fae59a67c75bbc9472d1a7f9d22c175', 'message': 'Add support for sharding in ContainerBroker\n\nWith this patch the ContainerBroker gains several new features:\n\n1. A shard_ranges table to persist ShardRange data, along with\nmethods to merge and access ShardRange instances to that table,\nand to remove expired shard ranges.\n\n2. The ability to create a fresh db file to replace the existing db\nfile. Fresh db files are named using the hash of the container path\nplus an epoch which is a serialized Timestamp value, in the form:\n\n  <hash>_<epoch>.db\n\nDuring sharding both the fresh and retiring db files co-exist on\ndisk. The ContainerBroker is now able to choose the newest on disk db\nfile when instantiated. It also provides a method (get_brokers()) to\ngain access to broker instance for either on disk file.\n\n3. Methods to access the current state of the on disk db files i.e.\nUNSHARDED (old file only), SHARDING (fresh and retiring files), or\nSHARDED (fresh file only with shard ranges).\n\nContainer replication is also modified:\n\n1. shard ranges are replicated between container db peers. Unlike\nobjects, shard ranges are both pushed and pulled during a REPLICATE\nevent.\n\n2. If a container db is capable of being sharded (i.e. it has a set of\nshard ranges) then it will no longer attempt to replicate objects to\nits peers. Object record durability is achieved by sharding rather than\npeer to peer replication.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4d2816259e6c25c346976e181fb9d350f947190\n'}, {'number': 5, 'created': '2018-05-10 17:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e58fdc6269323a4102aa90f2563d306d4d24c295', 'message': 'Add support for sharding in ContainerBroker\n\nWith this patch the ContainerBroker gains several new features:\n\n1. A shard_ranges table to persist ShardRange data, along with\nmethods to merge and access ShardRange instances to that table,\nand to remove expired shard ranges.\n\n2. The ability to create a fresh db file to replace the existing db\nfile. Fresh db files are named using the hash of the container path\nplus an epoch which is a serialized Timestamp value, in the form:\n\n  <hash>_<epoch>.db\n\nDuring sharding both the fresh and retiring db files co-exist on\ndisk. The ContainerBroker is now able to choose the newest on disk db\nfile when instantiated. It also provides a method (get_brokers()) to\ngain access to broker instance for either on disk file.\n\n3. Methods to access the current state of the on disk db files i.e.\nUNSHARDED (old file only), SHARDING (fresh and retiring files), or\nSHARDED (fresh file only with shard ranges).\n\nContainer replication is also modified:\n\n1. shard ranges are replicated between container db peers. Unlike\nobjects, shard ranges are both pushed and pulled during a REPLICATE\nevent.\n\n2. If a container db is capable of being sharded (i.e. it has a set of\nshard ranges) then it will no longer attempt to replicate objects to\nits peers. Object record durability is achieved by sharding rather than\npeer to peer replication.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4d2816259e6c25c346976e181fb9d350f947190\n'}, {'number': 6, 'created': '2018-05-11 18:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/02a1aad986d878c4fd0c65bc81ffd4675cd9677c', 'message': 'Add support for sharding in ContainerBroker\n\nWith this patch the ContainerBroker gains several new features:\n\n1. A shard_ranges table to persist ShardRange data, along with\nmethods to merge and access ShardRange instances to that table,\nand to remove expired shard ranges.\n\n2. The ability to create a fresh db file to replace the existing db\nfile. Fresh db files are named using the hash of the container path\nplus an epoch which is a serialized Timestamp value, in the form:\n\n  <hash>_<epoch>.db\n\nDuring sharding both the fresh and retiring db files co-exist on\ndisk. The ContainerBroker is now able to choose the newest on disk db\nfile when instantiated. It also provides a method (get_brokers()) to\ngain access to broker instance for either on disk file.\n\n3. Methods to access the current state of the on disk db files i.e.\nUNSHARDED (old file only), SHARDING (fresh and retiring files), or\nSHARDED (fresh file only with shard ranges).\n\nContainer replication is also modified:\n\n1. shard ranges are replicated between container db peers. Unlike\nobjects, shard ranges are both pushed and pulled during a REPLICATE\nevent.\n\n2. If a container db is capable of being sharded (i.e. it has a set of\nshard ranges) then it will no longer attempt to replicate objects to\nits peers. Object record durability is achieved by sharding rather than\npeer to peer replication.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4d2816259e6c25c346976e181fb9d350f947190\n'}, {'number': 7, 'created': '2018-05-14 14:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/55b19d4e4b817a475b8f857ff374b9391866ef8a', 'message': 'Add support for sharding in ContainerBroker\n\nWith this patch the ContainerBroker gains several new features:\n\n1. A shard_ranges table to persist ShardRange data, along with\nmethods to merge and access ShardRange instances to that table,\nand to remove expired shard ranges.\n\n2. The ability to create a fresh db file to replace the existing db\nfile. Fresh db files are named using the hash of the container path\nplus an epoch which is a serialized Timestamp value, in the form:\n\n  <hash>_<epoch>.db\n\nDuring sharding both the fresh and retiring db files co-exist on\ndisk. The ContainerBroker is now able to choose the newest on disk db\nfile when instantiated. It also provides a method (get_brokers()) to\ngain access to broker instance for either on disk file.\n\n3. Methods to access the current state of the on disk db files i.e.\nUNSHARDED (old file only), SHARDING (fresh and retiring files), or\nSHARDED (fresh file only with shard ranges).\n\nContainer replication is also modified:\n\n1. shard ranges are replicated between container db peers. Unlike\nobjects, shard ranges are both pushed and pulled during a REPLICATE\nevent.\n\n2. If a container db is capable of being sharded (i.e. it has a set of\nshard ranges) then it will no longer attempt to replicate objects to\nits peers. Object record durability is achieved by sharding rather than\npeer to peer replication.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4d2816259e6c25c346976e181fb9d350f947190\n'}, {'number': 8, 'created': '2018-05-15 17:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f143b6cca454dbbdfec7582e47810590550cd20c', 'message': 'Add support for sharding in ContainerBroker\n\nWith this patch the ContainerBroker gains several new features:\n\n1. A shard_ranges table to persist ShardRange data, along with\nmethods to merge and access ShardRange instances to that table,\nand to remove expired shard ranges.\n\n2. The ability to create a fresh db file to replace the existing db\nfile. Fresh db files are named using the hash of the container path\nplus an epoch which is a serialized Timestamp value, in the form:\n\n  <hash>_<epoch>.db\n\nDuring sharding both the fresh and retiring db files co-exist on\ndisk. The ContainerBroker is now able to choose the newest on disk db\nfile when instantiated. It also provides a method (get_brokers()) to\ngain access to broker instance for either on disk file.\n\n3. Methods to access the current state of the on disk db files i.e.\nUNSHARDED (old file only), SHARDING (fresh and retiring files), or\nSHARDED (fresh file only with shard ranges).\n\nContainer replication is also modified:\n\n1. shard ranges are replicated between container db peers. Unlike\nobjects, shard ranges are both pushed and pulled during a REPLICATE\nevent.\n\n2. If a container db is capable of being sharded (i.e. it has a set of\nshard ranges) then it will no longer attempt to replicate objects to\nits peers. Object record durability is achieved by sharding rather than\npeer to peer replication.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4d2816259e6c25c346976e181fb9d350f947190\n'}, {'number': 9, 'created': '2018-05-16 18:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3c44e8503ef20ed44da90a44d70b6ecba2e279c1', 'message': 'Add support for sharding in ContainerBroker\n\nWith this patch the ContainerBroker gains several new features:\n\n1. A shard_ranges table to persist ShardRange data, along with\nmethods to merge and access ShardRange instances to that table,\nand to remove expired shard ranges.\n\n2. The ability to create a fresh db file to replace the existing db\nfile. Fresh db files are named using the hash of the container path\nplus an epoch which is a serialized Timestamp value, in the form:\n\n  <hash>_<epoch>.db\n\nDuring sharding both the fresh and retiring db files co-exist on\ndisk. The ContainerBroker is now able to choose the newest on disk db\nfile when instantiated. It also provides a method (get_brokers()) to\ngain access to broker instance for either on disk file.\n\n3. Methods to access the current state of the on disk db files i.e.\nUNSHARDED (old file only), SHARDING (fresh and retiring files), or\nSHARDED (fresh file only with shard ranges).\n\nContainer replication is also modified:\n\n1. shard ranges are replicated between container db peers. Unlike\nobjects, shard ranges are both pushed and pulled during a REPLICATE\nevent.\n\n2. If a container db is capable of being sharded (i.e. it has a set of\nshard ranges) then it will no longer attempt to replicate objects to\nits peers. Object record durability is achieved by sharding rather than\npeer to peer replication.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4d2816259e6c25c346976e181fb9d350f947190\n'}, {'number': 10, 'created': '2018-05-17 18:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b7226b9d87ae86cf30c50e617d93a18bb9cfdb5d', 'message': 'Add support for sharding in ContainerBroker\n\nWith this patch the ContainerBroker gains several new features:\n\n1. A shard_ranges table to persist ShardRange data, along with\nmethods to merge and access ShardRange instances to that table,\nand to remove expired shard ranges.\n\n2. The ability to create a fresh db file to replace the existing db\nfile. Fresh db files are named using the hash of the container path\nplus an epoch which is a serialized Timestamp value, in the form:\n\n  <hash>_<epoch>.db\n\nDuring sharding both the fresh and retiring db files co-exist on\ndisk. The ContainerBroker is now able to choose the newest on disk db\nfile when instantiated. It also provides a method (get_brokers()) to\ngain access to broker instance for either on disk file.\n\n3. Methods to access the current state of the on disk db files i.e.\nUNSHARDED (old file only), SHARDING (fresh and retiring files), or\nSHARDED (fresh file only with shard ranges).\n\nContainer replication is also modified:\n\n1. shard ranges are replicated between container db peers. Unlike\nobjects, shard ranges are both pushed and pulled during a REPLICATE\nevent.\n\n2. If a container db is capable of being sharded (i.e. it has a set of\nshard ranges) then it will no longer attempt to replicate objects to\nits peers. Object record durability is achieved by sharding rather than\npeer to peer replication.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4d2816259e6c25c346976e181fb9d350f947190\n'}, {'number': 11, 'created': '2018-05-18 19:08:40.000000000', 'files': ['swift/cli/info.py', 'test/unit/container/test_replicator.py', 'swift/common/utils.py', 'test/unit/cli/test_info.py', 'test/unit/common/test_db_replicator.py', 'swift/common/db_replicator.py', 'test/unit/container/test_server.py', 'swift/container/replicator.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/14af38a8992c55925a7e6ed74eb9ba1b8d360ff1', 'message': 'Add support for sharding in ContainerBroker\n\nWith this patch the ContainerBroker gains several new features:\n\n1. A shard_ranges table to persist ShardRange data, along with\nmethods to merge and access ShardRange instances to that table,\nand to remove expired shard ranges.\n\n2. The ability to create a fresh db file to replace the existing db\nfile. Fresh db files are named using the hash of the container path\nplus an epoch which is a serialized Timestamp value, in the form:\n\n  <hash>_<epoch>.db\n\nDuring sharding both the fresh and retiring db files co-exist on\ndisk. The ContainerBroker is now able to choose the newest on disk db\nfile when instantiated. It also provides a method (get_brokers()) to\ngain access to broker instance for either on disk file.\n\n3. Methods to access the current state of the on disk db files i.e.\nUNSHARDED (old file only), SHARDING (fresh and retiring files), or\nSHARDED (fresh file only with shard ranges).\n\nContainer replication is also modified:\n\n1. shard ranges are replicated between container db peers. Unlike\nobjects, shard ranges are both pushed and pulled during a REPLICATE\nevent.\n\n2. If a container db is capable of being sharded (i.e. it has a set of\nshard ranges) then it will no longer attempt to replicate objects to\nits peers. Object record durability is achieved by sharding rather than\npeer to peer replication.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4d2816259e6c25c346976e181fb9d350f947190\n'}]",245,565744,14af38a8992c55925a7e6ed74eb9ba1b8d360ff1,41,6,11,7847,,,0,"Add support for sharding in ContainerBroker

With this patch the ContainerBroker gains several new features:

1. A shard_ranges table to persist ShardRange data, along with
methods to merge and access ShardRange instances to that table,
and to remove expired shard ranges.

2. The ability to create a fresh db file to replace the existing db
file. Fresh db files are named using the hash of the container path
plus an epoch which is a serialized Timestamp value, in the form:

  <hash>_<epoch>.db

During sharding both the fresh and retiring db files co-exist on
disk. The ContainerBroker is now able to choose the newest on disk db
file when instantiated. It also provides a method (get_brokers()) to
gain access to broker instance for either on disk file.

3. Methods to access the current state of the on disk db files i.e.
UNSHARDED (old file only), SHARDING (fresh and retiring files), or
SHARDED (fresh file only with shard ranges).

Container replication is also modified:

1. shard ranges are replicated between container db peers. Unlike
objects, shard ranges are both pushed and pulled during a REPLICATE
event.

2. If a container db is capable of being sharded (i.e. it has a set of
shard ranges) then it will no longer attempt to replicate objects to
its peers. Object record durability is achieved by sharding rather than
peer to peer replication.

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>

Change-Id: Ie4d2816259e6c25c346976e181fb9d350f947190
",git fetch https://review.opendev.org/openstack/swift refs/changes/44/565744/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/info.py', 'test/unit/container/test_replicator.py', 'test/unit/cli/test_info.py', 'test/unit/common/test_db_replicator.py', 'test/unit/container/test_server.py', 'swift/container/replicator.py', 'test/unit/container/test_backend.py', 'swift/common/db.py', 'swift/common/utils.py', 'swift/common/db_replicator.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py']",12,e9b030bfd1c4d0753509dbddc6f2fe859975cdb5,rev10," def test_find_shard_range(self): ts = utils.Timestamp.now().internal start = utils.ShardRange('a/-a', ts, '', 'a') atof = utils.ShardRange('a/a-f', ts, 'a', 'f') ftol = utils.ShardRange('a/f-l', ts, 'f', 'l') ltor = utils.ShardRange('a/l-r', ts, 'l', 'r') rtoz = utils.ShardRange('a/r-z', ts, 'r', 'z') end = utils.ShardRange('a/z-', ts, 'z', '') ranges = [start, atof, ftol, ltor, rtoz, end] found = utils.find_shard_range(' ', ranges) self.assertEqual(found, start) found = utils.find_shard_range(' ', ranges[1:]) self.assertEqual(found, None) found = utils.find_shard_range('b', ranges) self.assertEqual(found, atof) found = utils.find_shard_range('f', ranges) self.assertEqual(found, atof) found = utils.find_shard_range('x', ranges) self.assertEqual(found, rtoz) found = utils.find_shard_range('r', ranges) self.assertEqual(found, ltor) found = utils.find_shard_range('}', ranges) self.assertEqual(found, end) found = utils.find_shard_range('}', ranges[:-1]) self.assertEqual(found, None) # remove l-r from list of ranges and try and find a shard range for an # item in that range. found = utils.find_shard_range('p', ranges[:-3] + ranges[-2:]) self.assertEqual(found, None) @with_tempdir def test_get_db_files(self, tempdir): dbdir = os.path.join(tempdir, 'dbdir') path_1 = os.path.join(dbdir, 'dbfile.db') self.assertEqual([], utils.get_db_files(path_1)) os.mkdir(dbdir) self.assertEqual([], utils.get_db_files(path_1)) with open(path_1, 'wb'): pass self.assertEqual([path_1], utils.get_db_files(path_1)) path_2 = os.path.join(dbdir, 'dbfile_2.db') self.assertEqual([path_1], utils.get_db_files(path_2)) with open(path_2, 'wb'): pass self.assertEqual([path_1, path_2], utils.get_db_files(path_1)) self.assertEqual([path_1, path_2], utils.get_db_files(path_2)) path_3 = os.path.join(dbdir, 'dbfile_3.db') self.assertEqual([path_1, path_2], utils.get_db_files(path_3)) with open(path_3, 'wb'): pass self.assertEqual([path_1, path_2, path_3], utils.get_db_files(path_1)) self.assertEqual([path_1, path_2, path_3], utils.get_db_files(path_2)) self.assertEqual([path_1, path_2, path_3], utils.get_db_files(path_3)) other_hash = os.path.join(dbdir, 'other.db') self.assertEqual([], utils.get_db_files(other_hash)) pending = os.path.join(dbdir, 'dbfile.pending') self.assertEqual([path_1, path_2, path_3], utils.get_db_files(pending)) with open(pending, 'wb'): pass self.assertEqual([path_1, path_2, path_3], utils.get_db_files(pending)) self.assertEqual([path_1, path_2, path_3], utils.get_db_files(path_1)) self.assertEqual([path_1, path_2, path_3], utils.get_db_files(path_2)) self.assertEqual([path_1, path_2, path_3], utils.get_db_files(path_3)) os.unlink(path_1) self.assertEqual([path_2, path_3], utils.get_db_files(path_1)) self.assertEqual([path_2, path_3], utils.get_db_files(path_2)) self.assertEqual([path_2, path_3], utils.get_db_files(path_3)) os.unlink(path_2) self.assertEqual([path_3], utils.get_db_files(path_1)) self.assertEqual([path_3], utils.get_db_files(path_2)) self.assertEqual([path_3], utils.get_db_files(path_3)) os.unlink(path_3) self.assertEqual([], utils.get_db_files(path_1)) self.assertEqual([], utils.get_db_files(path_2)) self.assertEqual([], utils.get_db_files(path_3)) ",,4597,130
openstack%2Fswift~feature%2Fdeep-review~Iae090dc170843f15fd2a3ea8f167bec2848e928d,openstack/swift,feature/deep-review,Iae090dc170843f15fd2a3ea8f167bec2848e928d,Add ShardRange class,MERGED,2018-05-02 13:09:28.000000000,2018-05-19 00:47:09.000000000,2018-05-19 00:47:09.000000000,"[{'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 7847}, {'_account_id': 14766}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-02 13:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a7d1b7a674edaf77b9167ec7eab62f0e92464c2f', 'message': 'Add ShardRange class\n\nA ShardRange represents the part of the object namespace that\nis managed by a container. It encapsulates:\n\n- the namespace range, from an excluded lower bound to an included upper bound\n- the object count and bytes used in the range\n- the current state of the range, including whether it is deleted or not\n\nChange-Id: Iae090dc170843f15fd2a3ea8f167bec2848e928d\n'}, {'number': 2, 'created': '2018-05-07 16:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5eb9e7e3cfd3969090f9298aa29a964426e9aff8', 'message': 'Add ShardRange class\n\nA ShardRange represents the part of the object namespace that\nis managed by a container. It encapsulates:\n\n- the namespace range, from an excluded lower bound to an included upper bound\n- the object count and bytes used in the range\n- the current state of the range, including whether it is deleted or not\n\nChange-Id: Iae090dc170843f15fd2a3ea8f167bec2848e928d\n'}, {'number': 3, 'created': '2018-05-08 16:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0b1c0ff92688891665349579d22f974e5e4c209c', 'message': 'Add ShardRange class\n\nA ShardRange represents the part of the object namespace that\nis managed by a container. It encapsulates:\n\n- the namespace range, from an excluded lower bound to an included upper bound\n- the object count and bytes used in the range\n- the current state of the range, including whether it is deleted or not\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Iae090dc170843f15fd2a3ea8f167bec2848e928d\n'}, {'number': 4, 'created': '2018-05-09 16:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5e9f6048759a55bf9fff0fa2cb019ed21bee0f50', 'message': 'Add ShardRange class\n\nA ShardRange represents the part of the object namespace that\nis managed by a container. It encapsulates:\n\n- the namespace range, from an excluded lower bound to an included upper bound\n- the object count and bytes used in the range\n- the current state of the range, including whether it is deleted or not\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Iae090dc170843f15fd2a3ea8f167bec2848e928d\n'}, {'number': 5, 'created': '2018-05-10 17:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7414233d4758f3978551a70b817b1ddbb5b0c3d0', 'message': 'Add ShardRange class\n\nA ShardRange represents the part of the object namespace that\nis managed by a container. It encapsulates:\n\n- the namespace range, from an excluded lower bound to an included upper bound\n- the object count and bytes used in the range\n- the current state of the range, including whether it is deleted or not\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Iae090dc170843f15fd2a3ea8f167bec2848e928d\n'}, {'number': 6, 'created': '2018-05-11 18:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/03442512ee3a586ea4ea893011c3572130d99840', 'message': 'Add ShardRange class\n\nA ShardRange represents the part of the object namespace that\nis managed by a container. It encapsulates:\n\n- the namespace range, from an excluded lower bound to an included upper bound\n- the object count and bytes used in the range\n- the current state of the range, including whether it is deleted or not\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Iae090dc170843f15fd2a3ea8f167bec2848e928d\n'}, {'number': 7, 'created': '2018-05-14 14:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5f4b17792bcfd1433f93e4bf17c09cb2f4edc168', 'message': 'Add ShardRange class\n\nA ShardRange represents the part of the object namespace that\nis managed by a container. It encapsulates:\n\n- the namespace range, from an excluded lower bound to an included upper bound\n- the object count and bytes used in the range\n- the current state of the range, including whether it is deleted or not\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Iae090dc170843f15fd2a3ea8f167bec2848e928d\n'}, {'number': 8, 'created': '2018-05-15 17:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e039156e06e7a17754e3acedb67f5af74ea30bdc', 'message': 'Add ShardRange class\n\nA ShardRange represents the part of the object namespace that\nis managed by a container. It encapsulates:\n\n- the namespace range, from an excluded lower bound to an included upper bound\n- the object count and bytes used in the range\n- the current state of the range, including whether it is deleted or not\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Iae090dc170843f15fd2a3ea8f167bec2848e928d\n'}, {'number': 9, 'created': '2018-05-17 18:48:37.000000000', 'files': ['swift/common/utils.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a962340dd86109b1e3204d3c31fb7c5f6ac0cfc4', 'message': 'Add ShardRange class\n\nA ShardRange represents the part of the object namespace that\nis managed by a container. It encapsulates:\n\n- the namespace range, from an excluded lower bound to an included upper bound\n- the object count and bytes used in the range\n- the current state of the range, including whether it is deleted or not\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCo-Authored-By: Kazuhiro MIYAHARA <miyahara.kazuhiro@lab.ntt.co.jp>\n\nChange-Id: Iae090dc170843f15fd2a3ea8f167bec2848e928d\n'}]",89,565743,a962340dd86109b1e3204d3c31fb7c5f6ac0cfc4,44,7,9,7847,,,0,"Add ShardRange class

A ShardRange represents the part of the object namespace that
is managed by a container. It encapsulates:

- the namespace range, from an excluded lower bound to an included upper bound
- the object count and bytes used in the range
- the current state of the range, including whether it is deleted or not

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>
Co-Authored-By: Kazuhiro MIYAHARA <miyahara.kazuhiro@lab.ntt.co.jp>

Change-Id: Iae090dc170843f15fd2a3ea8f167bec2848e928d
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/565743/9 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/common/test_utils.py']",2,a7d1b7a674edaf77b9167ec7eab62f0e92464c2f,rev9," import hashlib from test.unit import temptree, debug_logger, make_timestamp_iter, \ with_tempdir, mock_timestamp_nowclass TestShardRange(unittest.TestCase): def setUp(self): self.ts_iter = make_timestamp_iter() def test_min_max_bounds(self): # max self.assertEqual('', utils.ShardRange.MAX) self.assertEqual(utils.ShardRange.MAX, utils.ShardRange.MAX) self.assertFalse(utils.ShardRange.MAX > '') self.assertFalse('' > utils.ShardRange.MAX) self.assertFalse(utils.ShardRange.MAX > utils.ShardRange.MAX) for val in 'z', u'\u00e4': self.assertFalse(utils.ShardRange.MAX == val) self.assertFalse(val > utils.ShardRange.MAX) self.assertTrue(val < utils.ShardRange.MAX) self.assertTrue(utils.ShardRange.MAX > val) self.assertFalse(utils.ShardRange.MAX < val) self.assertEqual('', str(utils.ShardRange.MAX)) self.assertFalse(utils.ShardRange.MAX) self.assertTrue(utils.ShardRange.MAX == utils.ShardRange.MAX) self.assertFalse(utils.ShardRange.MAX != utils.ShardRange.MAX) self.assertTrue( utils.ShardRange.MaxBound() == utils.ShardRange.MaxBound()) self.assertFalse( utils.ShardRange.MaxBound() != utils.ShardRange.MaxBound()) # min self.assertEqual('', utils.ShardRange.MIN) self.assertEqual(utils.ShardRange.MIN, utils.ShardRange.MIN) self.assertFalse(utils.ShardRange.MIN > '') self.assertFalse('' > utils.ShardRange.MIN) self.assertFalse(utils.ShardRange.MIN > utils.ShardRange.MIN) for val in 'z', u'\u00e4': self.assertFalse(utils.ShardRange.MIN == val) self.assertFalse(val < utils.ShardRange.MIN) self.assertTrue(val > utils.ShardRange.MIN) self.assertTrue(utils.ShardRange.MIN < val) self.assertFalse(utils.ShardRange.MIN > val) self.assertFalse(utils.ShardRange.MIN) self.assertEqual('', str(utils.ShardRange.MIN)) self.assertFalse(utils.ShardRange.MIN) self.assertTrue(utils.ShardRange.MIN == utils.ShardRange.MIN) self.assertFalse(utils.ShardRange.MIN != utils.ShardRange.MIN) self.assertTrue( utils.ShardRange.MinBound() == utils.ShardRange.MinBound()) self.assertFalse( utils.ShardRange.MinBound() != utils.ShardRange.MinBound()) self.assertFalse(utils.ShardRange.MAX == utils.ShardRange.MIN) self.assertFalse(utils.ShardRange.MIN == utils.ShardRange.MAX) self.assertTrue(utils.ShardRange.MAX != utils.ShardRange.MIN) self.assertTrue(utils.ShardRange.MIN != utils.ShardRange.MAX) def test_shard_range_initialisation(self): def assert_initialisation_ok(params, expected): pr = utils.ShardRange(**params) self.assertDictEqual(dict(pr), expected) def assert_initialisation_fails(params, err_type=ValueError): with self.assertRaises(err_type): utils.ShardRange(**params) ts_1 = next(self.ts_iter) ts_2 = next(self.ts_iter) ts_3 = next(self.ts_iter) ts_4 = next(self.ts_iter) empty_run = dict(name=None, timestamp=None, lower=None, upper=None, object_count=0, bytes_used=0, meta_timestamp=None, deleted=0, state=0, state_timestamp=None, epoch=None) # name, timestamp must be given assert_initialisation_fails(empty_run.copy()) assert_initialisation_fails(dict(empty_run, name='a/c'), TypeError) assert_initialisation_fails(dict(empty_run, timestamp=ts_1)) # name must be form a/c assert_initialisation_fails(dict(empty_run, name='c', timestamp=ts_1)) assert_initialisation_fails(dict(empty_run, name='', timestamp=ts_1)) assert_initialisation_fails(dict(empty_run, name='/a/c', timestamp=ts_1)) assert_initialisation_fails(dict(empty_run, name='/c', timestamp=ts_1)) # lower, upper can be None expect = dict(name='a/c', timestamp=ts_1.internal, lower='', upper='', object_count=0, bytes_used=0, meta_timestamp=ts_1.internal, deleted=0, state=0, state_timestamp=ts_1.internal, epoch=None) assert_initialisation_ok(dict(empty_run, name='a/c', timestamp=ts_1), expect) assert_initialisation_ok(dict(name='a/c', timestamp=ts_1), expect) good_run = dict(name='a/c', timestamp=ts_1, lower='l', upper='u', object_count=2, bytes_used=10, meta_timestamp=ts_2, deleted=0, state=1, state_timestamp=ts_3.internal, epoch=ts_4) expect.update({'lower': 'l', 'upper': 'u', 'object_count': 2, 'bytes_used': 10, 'meta_timestamp': ts_2.internal, 'state': 1, 'state_timestamp': ts_3.internal, 'epoch': ts_4}) assert_initialisation_ok(good_run.copy(), expect) # obj count and bytes used as int strings good_str_run = good_run.copy() good_str_run.update({'object_count': '2', 'bytes_used': '10'}) assert_initialisation_ok(good_str_run, expect) good_no_meta = good_run.copy() good_no_meta.pop('meta_timestamp') assert_initialisation_ok(good_no_meta, dict(expect, meta_timestamp=ts_1.internal)) good_deleted = good_run.copy() good_deleted['deleted'] = 1 assert_initialisation_ok(good_deleted, dict(expect, deleted=1)) assert_initialisation_fails(dict(good_run, timestamp='water balloon')) assert_initialisation_fails( dict(good_run, meta_timestamp='water balloon')) assert_initialisation_fails(dict(good_run, lower='water balloon')) assert_initialisation_fails(dict(good_run, upper='balloon')) assert_initialisation_fails( dict(good_run, object_count='water balloon')) assert_initialisation_fails(dict(good_run, bytes_used='water ballon')) assert_initialisation_fails(dict(good_run, object_count=-1)) assert_initialisation_fails(dict(good_run, bytes_used=-1)) assert_initialisation_fails(dict(good_run, state=-1)) assert_initialisation_fails(dict(good_run, state_timestamp='not a ts')) def _check_to_from_dict(self, lower, upper): ts_1 = next(self.ts_iter) ts_2 = next(self.ts_iter) ts_3 = next(self.ts_iter) ts_4 = next(self.ts_iter) sr = utils.ShardRange('a/test', ts_1, lower, upper, 10, 100, ts_2, state=1, state_timestamp=ts_3, epoch=ts_4) sr_dict = dict(sr) expected = { 'name': 'a/test', 'timestamp': ts_1.internal, 'lower': lower, 'upper': upper, 'object_count': 10, 'bytes_used': 100, 'meta_timestamp': ts_2.internal, 'deleted': 0, 'state': 1, 'state_timestamp': ts_3.internal, 'epoch': ts_4} self.assertEqual(expected, sr_dict) self.assertIsInstance(sr_dict['lower'], six.string_types) self.assertIsInstance(sr_dict['upper'], six.string_types) sr_new = utils.ShardRange.from_dict(sr_dict) self.assertEqual(sr, sr_new) self.assertEqual(sr_dict, dict(sr_new)) sr_new = utils.ShardRange(**sr_dict) self.assertEqual(sr, sr_new) self.assertEqual(sr_dict, dict(sr_new)) for key in sr_dict: bad_dict = dict(sr_dict) bad_dict.pop(key) with self.assertRaises(KeyError): utils.ShardRange.from_dict(bad_dict) # But __init__ still (generally) works! if key not in ('name', 'timestamp'): utils.ShardRange(**bad_dict) else: with self.assertRaises(TypeError): utils.ShardRange(**bad_dict) def test_to_from_dict(self): self._check_to_from_dict('l', 'u') self._check_to_from_dict('', '') def test_timestamp_setter(self): ts_1 = next(self.ts_iter) sr = utils.ShardRange('a/test', ts_1, 'l', 'u', 0, 0, None) self.assertEqual(ts_1, sr.timestamp) ts_2 = next(self.ts_iter) sr.timestamp = ts_2 self.assertEqual(ts_2, sr.timestamp) with self.assertRaises(TypeError): sr.timestamp = None def test_meta_timestamp_setter(self): ts_1 = next(self.ts_iter) sr = utils.ShardRange('a/test', ts_1, 'l', 'u', 0, 0, None) self.assertEqual(ts_1, sr.timestamp) self.assertEqual(ts_1, sr.meta_timestamp) ts_2 = next(self.ts_iter) sr.meta_timestamp = ts_2 self.assertEqual(ts_1, sr.timestamp) self.assertEqual(ts_2, sr.meta_timestamp) ts_3 = next(self.ts_iter) sr.timestamp = ts_3 self.assertEqual(ts_3, sr.timestamp) self.assertEqual(ts_2, sr.meta_timestamp) # meta_timestamp default to tracking timestamp sr.meta_timestamp = None self.assertEqual(ts_3, sr.timestamp) self.assertEqual(ts_3, sr.meta_timestamp) ts_4 = next(self.ts_iter) sr.timestamp = ts_4 self.assertEqual(ts_4, sr.timestamp) self.assertEqual(ts_4, sr.meta_timestamp) def test_update_meta(self): ts_1 = next(self.ts_iter) sr = utils.ShardRange('a/test', ts_1, 'l', 'u', 0, 0, None) with mock_timestamp_now(next(self.ts_iter)) as now: sr.update_meta(9, 99) self.assertEqual(9, sr.object_count) self.assertEqual(99, sr.bytes_used) self.assertEqual(now, sr.meta_timestamp) with mock_timestamp_now(next(self.ts_iter)) as now: sr.update_meta(99, 999, None) self.assertEqual(99, sr.object_count) self.assertEqual(999, sr.bytes_used) self.assertEqual(now, sr.meta_timestamp) ts_2 = next(self.ts_iter) sr.update_meta(21, 2112, ts_2) self.assertEqual(21, sr.object_count) self.assertEqual(2112, sr.bytes_used) self.assertEqual(ts_2, sr.meta_timestamp) sr.update_meta('11', '12') self.assertEqual(11, sr.object_count) self.assertEqual(12, sr.bytes_used) def check_bad_args(*args): with self.assertRaises(ValueError): sr.update_meta(*args) check_bad_args('bad', 10) check_bad_args(10, 'bad') check_bad_args(10, 11, 'bad') def test_increment_meta(self): ts_1 = next(self.ts_iter) sr = utils.ShardRange('a/test', ts_1, 'l', 'u', 1, 2, None) with mock_timestamp_now(next(self.ts_iter)) as now: sr.increment_meta(9, 99) self.assertEqual(10, sr.object_count) self.assertEqual(101, sr.bytes_used) self.assertEqual(now, sr.meta_timestamp) with mock_timestamp_now(next(self.ts_iter)) as now: sr.increment_meta(99, 999, None) self.assertEqual(109, sr.object_count) self.assertEqual(1100, sr.bytes_used) self.assertEqual(now, sr.meta_timestamp) ts_2 = next(self.ts_iter) sr.increment_meta(21, 2112, ts_2) self.assertEqual(130, sr.object_count) self.assertEqual(3212, sr.bytes_used) self.assertEqual(ts_2, sr.meta_timestamp) sr.increment_meta('11', '12') self.assertEqual(141, sr.object_count) self.assertEqual(3224, sr.bytes_used) def check_bad_args(*args): with self.assertRaises(ValueError): sr.increment_meta(*args) check_bad_args('bad', 10) check_bad_args(10, 'bad') check_bad_args(10, 11, 'bad') def test_state_setter(self): for state in utils.ShardRange.STATES: for test_value in (state, str(state)): sr = utils.ShardRange('a/test', next(self.ts_iter), 'l', 'u') sr.state = test_value actual = sr.state self.assertEqual( state, actual, 'Expected %s but got %s for %s' % (state, actual, test_value) ) for bad_state in (max(utils.ShardRange.STATES) + 1, -1, 99, None, 'stringy', 1.1): sr = utils.ShardRange('a/test', next(self.ts_iter), 'l', 'u') with self.assertRaises(ValueError) as cm: sr.state = bad_state self.assertIn('Invalid state', str(cm.exception)) def test_update_state(self): sr = utils.ShardRange('a/c', next(self.ts_iter)) old_sr = sr.copy() self.assertEqual(utils.ShardRange.FOUND, sr.state) self.assertEqual(dict(sr), dict(old_sr)) # sanity check for state in utils.ShardRange.STATES: if state == utils.ShardRange.FOUND: continue self.assertTrue(sr.update_state(state)) self.assertEqual(dict(old_sr, state=state), dict(sr)) self.assertFalse(sr.update_state(state)) self.assertEqual(dict(old_sr, state=state), dict(sr)) sr = utils.ShardRange('a/c', next(self.ts_iter)) old_sr = sr.copy() for state in utils.ShardRange.STATES: ts = next(self.ts_iter) self.assertTrue(sr.update_state(state, state_timestamp=ts)) self.assertEqual(dict(old_sr, state=state, state_timestamp=ts), dict(sr)) def test_resolve_state(self): for name, number in utils.ShardRange.STATES_BY_NAME.items(): self.assertEqual( (number, name), utils.ShardRange.resolve_state(name)) self.assertEqual( (number, name), utils.ShardRange.resolve_state(name.upper())) self.assertEqual( (number, name), utils.ShardRange.resolve_state(name.title())) self.assertEqual( (number, name), utils.ShardRange.resolve_state(number)) def check_bad_value(value): with self.assertRaises(ValueError) as cm: utils.ShardRange.resolve_state(value) self.assertIn('Invalid state %r' % value, str(cm.exception)) check_bad_value(min(utils.ShardRange.STATES) - 1) check_bad_value(max(utils.ShardRange.STATES) + 1) check_bad_value('badstate') def test_epoch_setter(self): sr = utils.ShardRange('a/c', next(self.ts_iter)) self.assertIsNone(sr.epoch) ts = next(self.ts_iter) sr.epoch = ts self.assertEqual(ts, sr.epoch) ts = next(self.ts_iter) sr.epoch = ts.internal self.assertEqual(ts, sr.epoch) sr.epoch = None self.assertIsNone(sr.epoch) with self.assertRaises(ValueError): sr.epoch = 'bad' def test_set_deleted(self): sr = utils.ShardRange('a/c', next(self.ts_iter)) # initialise other timestamps sr.update_state(utils.ShardRange.ACTIVE, state_timestamp=utils.Timestamp.now()) sr.update_meta(1, 2) old_sr = sr.copy() self.assertFalse(sr.deleted) # sanity check self.assertEqual(dict(sr), dict(old_sr)) # sanity check with mock_timestamp_now(next(self.ts_iter)) as now: self.assertTrue(sr.set_deleted()) self.assertEqual(now, sr.timestamp) self.assertTrue(sr.deleted) old_sr_dict = dict(old_sr) old_sr_dict.pop('deleted') old_sr_dict.pop('timestamp') sr_dict = dict(sr) sr_dict.pop('deleted') sr_dict.pop('timestamp') self.assertEqual(old_sr_dict, sr_dict) # no change self.assertFalse(sr.set_deleted()) self.assertEqual(now, sr.timestamp) self.assertTrue(sr.deleted) # force timestamp change with mock_timestamp_now(next(self.ts_iter)) as now: self.assertTrue(sr.set_deleted(timestamp=now)) self.assertEqual(now, sr.timestamp) self.assertTrue(sr.deleted) def test_lower_setter(self): sr = utils.ShardRange('a/c', utils.Timestamp.now(), 'b', '') # sanity checks self.assertEqual('b', sr.lower) self.assertEqual(sr.MAX, sr.upper) def do_test(good_value, expected): sr.lower = good_value self.assertEqual(expected, sr.lower) self.assertEqual(sr.MAX, sr.upper) do_test(utils.ShardRange.MIN, utils.ShardRange.MIN) do_test(utils.ShardRange.MAX, utils.ShardRange.MAX) do_test('', utils.ShardRange.MIN) do_test(u'', utils.ShardRange.MIN) do_test(None, utils.ShardRange.MIN) do_test('a', 'a') do_test('y', 'y') sr = utils.ShardRange('a/c', utils.Timestamp.now(), 'b', 'y') sr.lower = '' self.assertEqual(sr.MIN, sr.lower) sr = utils.ShardRange('a/c', utils.Timestamp.now(), 'b', 'y') with self.assertRaises(ValueError) as cm: sr.lower = 'z' self.assertIn(""lower ('z') must be less than or equal to upper ('y')"", str(cm.exception)) self.assertEqual('b', sr.lower) self.assertEqual('y', sr.upper) def do_test(bad_value): with self.assertRaises(TypeError) as cm: sr.lower = bad_value self.assertIn(""lower must be a string"", str(cm.exception)) self.assertEqual('b', sr.lower) self.assertEqual('y', sr.upper) do_test(1) do_test(1.234) def test_upper_setter(self): sr = utils.ShardRange('a/c', utils.Timestamp.now(), '', 'y') # sanity checks self.assertEqual(sr.MIN, sr.lower) self.assertEqual('y', sr.upper) def do_test(good_value, expected): sr.upper = good_value self.assertEqual(expected, sr.upper) self.assertEqual(sr.MIN, sr.lower) do_test(utils.ShardRange.MIN, utils.ShardRange.MIN) do_test(utils.ShardRange.MAX, utils.ShardRange.MAX) do_test('', utils.ShardRange.MAX) do_test(u'', utils.ShardRange.MAX) do_test(None, utils.ShardRange.MAX) do_test('z', 'z') do_test('b', 'b') sr = utils.ShardRange('a/c', utils.Timestamp.now(), 'b', 'y') sr.upper = '' self.assertEqual(sr.MAX, sr.upper) sr = utils.ShardRange('a/c', utils.Timestamp.now(), 'b', 'y') with self.assertRaises(ValueError) as cm: sr.upper = 'a' self.assertIn( ""upper ('a') must be greater than or equal to lower ('b')"", str(cm.exception)) self.assertEqual('b', sr.lower) self.assertEqual('y', sr.upper) def do_test(bad_value): with self.assertRaises(TypeError) as cm: sr.upper = bad_value self.assertIn(""upper must be a string"", str(cm.exception)) self.assertEqual('b', sr.lower) self.assertEqual('y', sr.upper) do_test(1) do_test(1.234) def test_end_marker(self): sr = utils.ShardRange('a/c', utils.Timestamp.now(), '', 'y') self.assertEqual('y\x00', sr.end_marker) sr = utils.ShardRange('a/c', utils.Timestamp.now(), '', '') self.assertEqual('', sr.end_marker) def test_bounds_serialization(self): sr = utils.ShardRange('a/c', utils.Timestamp.now()) self.assertEqual('a/c', sr.name) self.assertEqual(utils.ShardRange.MIN, sr.lower) self.assertEqual('', sr.lower_str) self.assertEqual(utils.ShardRange.MAX, sr.upper) self.assertEqual('', sr.upper_str) self.assertEqual('', sr.end_marker) lower = u'\u00e4' upper = u'\u00fb' sr = utils.ShardRange('a/%s-%s' % (lower, upper), utils.Timestamp.now(), lower, upper) if six.PY3: self.assertEqual(u'\u00e4', sr.lower) self.assertEqual(u'\u00e4', sr.lower_str) self.assertEqual(u'\u00fb', sr.upper) self.assertEqual(u'\u00fb', sr.upper_str) self.assertEqual(u'\u00fb\x00', sr.end_marker) else: self.assertEqual(u'\u00e4'.encode('utf8'), sr.lower) self.assertEqual(u'\u00e4'.encode('utf8'), sr.lower_str) self.assertEqual(u'\u00fb'.encode('utf8'), sr.upper) self.assertEqual(u'\u00fb'.encode('utf8'), sr.upper_str) self.assertEqual(u'\u00fb\x00'.encode('utf8'), sr.end_marker) def test_entire_namespace(self): # test infinite range (no boundaries) inf_sr = utils.ShardRange('a/test', utils.Timestamp.now()) self.assertEqual('', inf_sr.upper) self.assertEqual('', inf_sr.lower) self.assertIs(True, inf_sr.entire_namespace()) for x in range(100): self.assertTrue(x in inf_sr) self.assertTrue(str(x) in inf_sr) self.assertTrue(chr(x) in inf_sr) for x in ('a', 'z', 'zzzz', '124fsdf', '', 1234): self.assertTrue(x in inf_sr, '%r should be in %r' % (x, inf_sr)) inf_sr.lower = 'a' self.assertIs(False, inf_sr.entire_namespace()) def test_comparisons(self): ts = utils.Timestamp.now().internal # upper (if provided) *must* be greater than lower with self.assertRaises(ValueError): utils.ShardRange('f-a', ts, 'f', 'a') # test basic boundaries btoc = utils.ShardRange('a/b-c', ts, 'b', 'c') atof = utils.ShardRange('a/a-f', ts, 'a', 'f') ftol = utils.ShardRange('a/f-l', ts, 'f', 'l') ltor = utils.ShardRange('a/l-r', ts, 'l', 'r') rtoz = utils.ShardRange('a/r-z', ts, 'r', 'z') lower = utils.ShardRange('a/lower', ts, '', 'mid') upper = utils.ShardRange('a/upper', ts, 'mid', '') entire = utils.ShardRange('a/test', utils.Timestamp.now()) # overlapping ranges dtof = utils.ShardRange('a/d-f', ts, 'd', 'f') dtom = utils.ShardRange('a/d-m', ts, 'd', 'm') # test range > and < # non-adjacent self.assertFalse(rtoz < atof) self.assertTrue(atof < ltor) self.assertTrue(ltor > atof) self.assertFalse(ftol > rtoz) # adjacent self.assertFalse(rtoz < ltor) self.assertTrue(atof < ftol) self.assertTrue(ltor > ftol) self.assertFalse(ltor > rtoz) # wholly within self.assertFalse(btoc < atof) self.assertFalse(btoc > atof) self.assertTrue(atof < btoc) self.assertTrue(atof > btoc) self.assertTrue(atof < dtof) self.assertFalse(dtof > atof) self.assertFalse(atof > dtof) self.assertFalse(dtof < atof) self.assertFalse(dtof < dtom) self.assertFalse(dtof > dtom) self.assertTrue(dtom > dtof) self.assertFalse(dtom < dtof) # overlaps self.assertTrue(atof < dtom) self.assertFalse(atof > dtom) self.assertTrue(ltor > dtom) # ranges including min/max bounds self.assertTrue(upper > lower) self.assertTrue(lower < upper) self.assertFalse(upper < lower) self.assertFalse(lower > upper) self.assertFalse(lower < entire) self.assertFalse(entire > lower) self.assertFalse(lower > entire) self.assertFalse(entire < lower) self.assertFalse(upper < entire) self.assertFalse(entire > upper) self.assertFalse(upper > entire) self.assertFalse(entire < upper) self.assertFalse(entire < entire) self.assertFalse(entire > entire) # test range < and > to an item # range is > lower and <= upper to lower boundary isn't # actually included self.assertTrue(ftol > 'f') self.assertFalse(atof < 'f') self.assertTrue(ltor < 'y') self.assertFalse(ftol < 'f') self.assertFalse(atof > 'f') self.assertFalse(ltor > 'y') self.assertTrue('f' < ftol) self.assertFalse('f' > atof) self.assertTrue('y' > ltor) self.assertFalse('f' > ftol) self.assertFalse('f' < atof) self.assertFalse('y' < ltor) # Now test ranges with only 1 boundary start_to_l = utils.ShardRange('a/None-l', ts, '', 'l') l_to_end = utils.ShardRange('a/l-None', ts, 'l', '') for x in ('l', 'm', 'z', 'zzz1231sd'): if x == 'l': self.assertFalse(x in l_to_end) self.assertFalse(start_to_l < x) self.assertFalse(x > start_to_l) else: self.assertTrue(x in l_to_end) self.assertTrue(start_to_l < x) self.assertTrue(x > start_to_l) # Now test some of the range to range checks with missing boundaries self.assertFalse(atof < start_to_l) self.assertFalse(start_to_l < entire) # Now test ShardRange.overlaps(other) self.assertFalse(atof.overlaps(ftol)) self.assertFalse(ftol.overlaps(atof)) self.assertTrue(atof.overlaps(dtof)) self.assertTrue(dtof.overlaps(atof)) self.assertFalse(dtof.overlaps(ftol)) self.assertTrue(dtom.overlaps(ftol)) self.assertTrue(ftol.overlaps(dtom)) self.assertFalse(start_to_l.overlaps(l_to_end)) def test_contains(self): ts = utils.Timestamp.now().internal lower = utils.ShardRange('a/-h', ts, '', 'h') mid = utils.ShardRange('a/h-p', ts, 'h', 'p') upper = utils.ShardRange('a/p-', ts, 'p', '') entire = utils.ShardRange('a/all', ts, '', '') self.assertTrue('a' in entire) self.assertTrue('x' in entire) self.assertTrue('' in lower) self.assertTrue('a' in lower) self.assertTrue('h' in lower) self.assertFalse('i' in lower) self.assertFalse('h' in mid) self.assertTrue('p' in mid) self.assertFalse('p' in upper) self.assertTrue('x' in upper) self.assertFalse('' in upper) self.assertIn(utils.ShardRange.MAX, entire) self.assertNotIn(utils.ShardRange.MAX, lower) self.assertIn(utils.ShardRange.MAX, upper) self.assertIn(utils.ShardRange.MIN, entire) self.assertNotIn(utils.ShardRange.MIN, upper) self.assertIn(utils.ShardRange.MIN, lower) def test_includes(self): ts = utils.Timestamp.now().internal _to_h = utils.ShardRange('a/-h', ts, '', 'h') d_to_t = utils.ShardRange('a/d-t', ts, 'd', 't') d_to_k = utils.ShardRange('a/d-k', ts, 'd', 'k') e_to_l = utils.ShardRange('a/e-l', ts, 'e', 'l') k_to_t = utils.ShardRange('a/k-t', ts, 'k', 't') p_to_ = utils.ShardRange('a/p-', ts, 'p', '') t_to_ = utils.ShardRange('a/t-', ts, 't', '') entire = utils.ShardRange('a/all', ts, '', '') self.assertTrue(entire.includes(entire)) self.assertTrue(d_to_t.includes(d_to_t)) self.assertTrue(_to_h.includes(_to_h)) self.assertTrue(p_to_.includes(p_to_)) self.assertTrue(entire.includes(_to_h)) self.assertTrue(entire.includes(d_to_t)) self.assertTrue(entire.includes(p_to_)) self.assertTrue(d_to_t.includes(d_to_k)) self.assertTrue(d_to_t.includes(e_to_l)) self.assertTrue(d_to_t.includes(k_to_t)) self.assertTrue(p_to_.includes(t_to_)) self.assertFalse(_to_h.includes(d_to_t)) self.assertFalse(p_to_.includes(d_to_t)) self.assertFalse(k_to_t.includes(d_to_k)) self.assertFalse(d_to_k.includes(e_to_l)) self.assertFalse(k_to_t.includes(e_to_l)) self.assertFalse(t_to_.includes(p_to_)) self.assertFalse(_to_h.includes(entire)) self.assertFalse(p_to_.includes(entire)) self.assertFalse(d_to_t.includes(entire)) def test_repr(self): ts = next(self.ts_iter) ts.offset = 1234 meta_ts = next(self.ts_iter) state_ts = next(self.ts_iter) sr = utils.ShardRange('a/c', ts, 'l', 'u', 100, 1000, meta_timestamp=meta_ts, state=utils.ShardRange.ACTIVE, state_timestamp=state_ts) self.assertEqual( ""ShardRange<'l' to 'u' as of %s, (100, 1000) as of %s, "" ""active as of %s>"" % (ts.internal, meta_ts.internal, state_ts.internal), str(sr)) ts.offset = 0 meta_ts.offset = 2 state_ts.offset = 3 sr = utils.ShardRange('a/c', ts, '', '', 100, 1000, meta_timestamp=meta_ts, state=utils.ShardRange.FOUND, state_timestamp=state_ts) self.assertEqual( ""ShardRange<'' to '' as of %s, (100, 1000) as of %s, "" ""found as of %s>"" % (ts.internal, meta_ts.internal, state_ts.internal), str(sr)) def test_copy(self): sr = utils.ShardRange('a/c', next(self.ts_iter), 'x', 'y', 99, 99000, meta_timestamp=next(self.ts_iter), state=utils.ShardRange.CREATED, state_timestamp=next(self.ts_iter)) new = sr.copy() self.assertEqual(dict(sr), dict(new)) new = sr.copy(deleted=1) self.assertEqual(dict(sr, deleted=1), dict(new)) new_timestamp = next(self.ts_iter) new = sr.copy(timestamp=new_timestamp) self.assertEqual(dict(sr, timestamp=new_timestamp.internal, meta_timestamp=new_timestamp.internal, state_timestamp=new_timestamp.internal), dict(new)) new = sr.copy(timestamp=new_timestamp, object_count=99) self.assertEqual(dict(sr, timestamp=new_timestamp.internal, meta_timestamp=new_timestamp.internal, state_timestamp=new_timestamp.internal, object_count=99), dict(new)) def test_make_path(self): ts = utils.Timestamp.now() actual = utils.ShardRange.make_path('a', 'root', 'parent', ts, 0) parent_hash = hashlib.md5(b'parent').hexdigest() self.assertEqual('a/root-%s-%s-0' % (parent_hash, ts.internal), actual) actual = utils.ShardRange.make_path('a', 'root', 'parent', ts, 3) self.assertEqual('a/root-%s-%s-3' % (parent_hash, ts.internal), actual) actual = utils.ShardRange.make_path('a', 'root', 'parent', ts, '3') self.assertEqual('a/root-%s-%s-3' % (parent_hash, ts.internal), actual) actual = utils.ShardRange.make_path( 'a', 'root', 'parent', ts.internal, '3') self.assertEqual('a/root-%s-%s-3' % (parent_hash, ts.internal), actual) with self.assertRaises(ValueError): utils.ShardRange.make_path( 'a', 'root', 'parent', ts.internal, None) ","from test.unit import temptree, debug_logger, make_timestamp_iter, with_tempdir",1280,1
openstack%2Fswift~feature%2Fdeep-review~I4455677abb114a645cff93cd41b394d227e805de,openstack/swift,feature/deep-review,I4455677abb114a645cff93cd41b394d227e805de,"Refactoring, test infrastructure changes and cleanup",MERGED,2018-05-02 13:08:50.000000000,2018-05-19 00:43:18.000000000,2018-05-19 00:43:18.000000000,"[{'_account_id': 330}, {'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 4608}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-02 13:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f5a7acaa7f8d732c8e5b2ea69cdda2118b8700af', 'message': 'Refactoring, test infrastructure changes and cleanup\n\n...in preparation for the container sharding feature.\n\nChange-Id: I4455677abb114a645cff93cd41b394d227e805de\n'}, {'number': 2, 'created': '2018-05-08 16:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bf338d3a965dfafbd175b7db53c69059d96ec6f0', 'message': 'Refactoring, test infrastructure changes and cleanup\n\n...in preparation for the container sharding feature.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I4455677abb114a645cff93cd41b394d227e805de\n'}, {'number': 3, 'created': '2018-05-09 16:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8672aa4c7c9a956fe027f6c4ec984fd7ca701b50', 'message': 'Refactoring, test infrastructure changes and cleanup\n\n...in preparation for the container sharding feature.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I4455677abb114a645cff93cd41b394d227e805de\n'}, {'number': 4, 'created': '2018-05-10 17:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1815146a149a51ec759399986846f1962363b0e8', 'message': 'Refactoring, test infrastructure changes and cleanup\n\n...in preparation for the container sharding feature.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I4455677abb114a645cff93cd41b394d227e805de\n'}, {'number': 5, 'created': '2018-05-11 18:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2b463dbf21699380386d7c5fcaa8f728b2ab092a', 'message': 'Refactoring, test infrastructure changes and cleanup\n\n...in preparation for the container sharding feature.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I4455677abb114a645cff93cd41b394d227e805de\n'}, {'number': 6, 'created': '2018-05-14 14:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ef65cea10160fe8c57a3c7737c1c8c11bb931b5f', 'message': 'Refactoring, test infrastructure changes and cleanup\n\n...in preparation for the container sharding feature.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I4455677abb114a645cff93cd41b394d227e805de\n'}, {'number': 7, 'created': '2018-05-15 17:47:08.000000000', 'files': ['test/probe/common.py', 'swift/account/backend.py', 'test/unit/account/test_server.py', 'test/unit/common/test_db_replicator.py', 'test/unit/__init__.py', 'test/unit/common/test_db.py', 'test/unit/container/test_server.py', 'swift/container/replicator.py', 'test/__init__.py', 'test/unit/container/test_backend.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py', 'swift/common/db.py', 'swift/container/server.py', 'swift/common/db_replicator.py', 'test/probe/brain.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py', 'test/probe/test_object_expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9d742b85ad2e53c1782116e56284e95a07577f35', 'message': 'Refactoring, test infrastructure changes and cleanup\n\n...in preparation for the container sharding feature.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I4455677abb114a645cff93cd41b394d227e805de\n'}]",230,565742,9d742b85ad2e53c1782116e56284e95a07577f35,43,8,7,7847,,,0,"Refactoring, test infrastructure changes and cleanup

...in preparation for the container sharding feature.

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>

Change-Id: I4455677abb114a645cff93cd41b394d227e805de
",git fetch https://review.opendev.org/openstack/swift refs/changes/42/565742/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/common.py', 'swift/account/backend.py', 'test/unit/account/test_server.py', 'doc/saio/rsyncd.conf', 'test/unit/common/test_db_replicator.py', 'test/unit/__init__.py', 'doc/saio/rsyslog.d/10-swift.conf', 'test/unit/common/test_db.py', 'test/unit/container/test_server.py', 'swift/container/replicator.py', 'test/__init__.py', 'test/unit/container/test_backend.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py', 'swift/common/db.py', 'swift/container/server.py', 'swift/common/db_replicator.py', 'test/probe/brain.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py', 'test/probe/test_object_expirer.py']",21,f5a7acaa7f8d732c8e5b2ea69cdda2118b8700af,rev7, all_obj_nodes = self.get_all_object_nodes() pendings_before = self.gather_async_pendings(all_obj_nodes) pendings_after = self.gather_async_pendings(all_obj_nodes),"import errno import os def gather_async_pendings(onodes): async_pendings = [] for onode in onodes: device_dir = self.device_dir('', onode) for ap_pol_dir in os.listdir(device_dir): if not ap_pol_dir.startswith('async_pending'): # skip 'objects', 'containers', etc. continue async_pending_dir = os.path.join(device_dir, ap_pol_dir) try: ap_dirs = os.listdir(async_pending_dir) except OSError as err: if err.errno == errno.ENOENT: pass else: raise else: for ap_dir in ap_dirs: ap_dir_fullpath = os.path.join( async_pending_dir, ap_dir) async_pendings.extend([ os.path.join(ap_dir_fullpath, ent) for ent in os.listdir(ap_dir_fullpath)]) return async_pendings all_obj_nodes = {} for policy in ENABLED_POLICIES: for dev in policy.object_ring.devs: all_obj_nodes[dev['device']] = dev pendings_before = gather_async_pendings(all_obj_nodes.values()) pendings_after = gather_async_pendings(all_obj_nodes.values())",1002,327
openstack%2Ftripleo-ci~master~Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef,openstack/tripleo-ci,master,Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef,Add linter jobs for releases file script,MERGED,2018-05-14 13:16:01.000000000,2018-05-19 00:34:18.000000000,2018-05-19 00:34:18.000000000,"[{'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-05-14 13:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/005df8e72bab279a1f9306126c2f410eedd272b1', 'message': 'WIP: Add linter jobs\n\n- pep8\n- pylint (TBD)\n\nChange-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef\n'}, {'number': 2, 'created': '2018-05-14 13:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/59bce1d3303ea2ada0742ac5a627031abeb5f5c2', 'message': 'WIP: Add linter jobs\n\n- pep8\n- pylint (TBD - what exact tests to run - basic added atm)\n\nChange-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef\n'}, {'number': 3, 'created': '2018-05-14 13:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/445709c671f398e886ddac4cad8aded408c61e68', 'message': 'WIP: Add linter jobs\n\n- pep8\n- pylint (TBD - what exact tests to run - basic added atm)\n\nChange-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef\n'}, {'number': 4, 'created': '2018-05-14 18:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/61e039962ff07603b8aa77e68fd4c9fcd2906fef', 'message': 'WIP: Add linter jobs\n\n- pep8\n- pylint (TBD - what exact tests to run - basic added atm)\n\nChange-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef\n'}, {'number': 5, 'created': '2018-05-14 19:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ca7c8fe156834674e21b4386dbbd46bdf12cd0be', 'message': 'WIP: Add linter jobs\n\n- pep8\n- pylint (TBD - what exact tests to run - basic added atm)\n\nUpdate tests in scripts/exmit_releases_file to pass\nflake8 testing.\n\nChange-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef\n'}, {'number': 6, 'created': '2018-05-14 20:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2e446e72a0b3cf07b682a408a6a6e52a07287107', 'message': 'WIP: Add linter jobs\n\n- pep8\n- pylint (TBD - what exact tests to run - basic added atm)\n\nUpdate tests in scripts/exmit_releases_file to pass\nflake8 testing.\n\nChange-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef\n'}, {'number': 7, 'created': '2018-05-14 21:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/722280f74aa6ae74f8ee788a95111dfd4782b3e4', 'message': 'WIP: Add linter jobs\n\n- pep8\n- pylint (TBD - what exact tests to run - basic added atm)\n\nUpdate tests in scripts/exmit_releases_file to pass\nflake8 testing.\n\nChange-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef\n'}, {'number': 8, 'created': '2018-05-14 21:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ebb04173d55b5cbaf8de0dbbe0df3661ea5d74df', 'message': 'WIP: Add linter jobs\n\n- pep8\n- pylint (TBD - what exact tests to run - basic added atm)\n\nUpdate tests in scripts/exmit_releases_file to pass\nflake8 testing.\n\nChange-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef\n'}, {'number': 9, 'created': '2018-05-15 13:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/776731fe4741e1ca90855ca00695782c216bf052', 'message': 'Add linter jobs for releases file script\n\nThis review adds a pep8 jobs. pylint was considered\nbut removed from this initial review.\n\nChange-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef\n'}, {'number': 10, 'created': '2018-05-15 17:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/89bea74c50d4e6d25b16738ebbbc4c30d81a0b46', 'message': 'Add linter jobs for releases file script\n\nThis review adds a pep8 jobs to be triggered\nwith changes to the releases script files.\npylint was considered but removed from this\ninitial review.\n\nChange-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef\n'}, {'number': 11, 'created': '2018-05-17 16:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7a65d46253d184bd7f33a82c374ff094d5c737ed', 'message': 'Add linter jobs for releases file script\n\nThis review adds a pep8 jobs to be triggered\nwith changes to the releases script files.\npylint was considered but removed from this\ninitial review.\n\nChange-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef\n'}, {'number': 12, 'created': '2018-05-17 20:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f285b2fa38453a3186f63e753790dca20baf7f15', 'message': 'Add linter jobs for releases file script\n\nThis review adds a pep8 jobs to be triggered\nwith changes to the releases script files.\npylint was considered but removed from this\ninitial review.\n\nChange-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef\n'}, {'number': 13, 'created': '2018-05-18 12:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/099f6334dd3751a7499d16e5a3ecc5dae6652417', 'message': 'Add linter jobs for releases file script\n\nThis review adds a pep8 jobs to be triggered\nwith changes to the releases script files.\npylint was considered but removed from this\ninitial review.\n\nChange-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef\n'}, {'number': 14, 'created': '2018-05-18 14:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/57d4fc35e40ef241b69363b0e5d2079e745148f2', 'message': 'Add linter jobs for releases file script\n\nThis review adds a pep8 jobs to be triggered\nwith changes to the releases script files.\npylint was considered but removed from this\ninitial review.\n\nChange-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef\n'}, {'number': 15, 'created': '2018-05-18 14:37:55.000000000', 'files': ['scripts/emit_releases_file/emit_releases_file.py', 'zuul.d/layout.yaml', 'scripts/emit_releases_file/test_get_dlrn_hash.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dbca28c411ba3a2db704604bf2b1b2048f520248', 'message': 'Add linter jobs for releases file script\n\nThis review adds a pep8 jobs to be triggered\nwith changes to the releases script files.\npylint was considered but removed from this\ninitial review.\n\nChange-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef\n'}]",4,568287,dbca28c411ba3a2db704604bf2b1b2048f520248,40,7,15,9976,,,0,"Add linter jobs for releases file script

This review adds a pep8 jobs to be triggered
with changes to the releases script files.
pylint was considered but removed from this
initial review.

Change-Id: Ib8809c94d99ccb1ecafa94b3791f613c35dbd9ef
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/87/568287/8 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/unittest-jobs.yaml', 'zuul.d/layout.yaml']",2,005df8e72bab279a1f9306126c2f410eedd272b1,sprint13, - tripleo-ci-tox-linter,,11,0
openstack%2Ftripleo-ci~master~I0834a0e9b3193c664b377ae7e066fe15239bbfb1,openstack/tripleo-ci,master,I0834a0e9b3193c664b377ae7e066fe15239bbfb1,Add CLI argument parser and YAML file parser,MERGED,2018-05-11 20:11:36.000000000,2018-05-19 00:34:17.000000000,2018-05-19 00:34:17.000000000,"[{'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 12715}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-05-11 20:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b0bddc50d914a341ccb76f93e5e1a4988a2dc824', 'message': '[WIP] Add CLI argument parser and YAML file parser\n\nChange-Id: I0834a0e9b3193c664b377ae7e066fe15239bbfb1\n'}, {'number': 2, 'created': '2018-05-16 11:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5ff79116afeca16165778ef63a3e9aa083a8e9dd', 'message': '[WIP] Add CLI argument parser and YAML file parser\n\nChange-Id: I0834a0e9b3193c664b377ae7e066fe15239bbfb1\n'}, {'number': 3, 'created': '2018-05-16 14:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8937994322f1fe2d87221540dcaae0871d6b764b', 'message': '[WIP] Add CLI argument parser and YAML file parser\n\nChange-Id: I0834a0e9b3193c664b377ae7e066fe15239bbfb1\n'}, {'number': 4, 'created': '2018-05-16 16:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f4472e63547fef5e4652676347f8c194ec6412f0', 'message': 'Add CLI argument parser and YAML file parser\n\nThis adds a CLI interface with the following options:\n  --stable-release\n  --featureset_file\n  --output\n  --log-file\n\nThis also adds the code and tests for the YAML file\nparsing. I tried adding a specific error case for\nwhen the YAML file fails to parse vs the more generic\ncase when the file just cannot be opened. However,\nmock would not behave for testing the specific case.\n\nWe log and raise the exception in both cases though,\nand the tests cover both as well.\n\nChange-Id: I0834a0e9b3193c664b377ae7e066fe15239bbfb1\n'}, {'number': 5, 'created': '2018-05-16 16:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8a7de3fa0f0fb30c7647be95e3b5dae099a63f22', 'message': 'Add CLI argument parser and YAML file parser\n\nThis adds a CLI interface with the following options:\n  --stable-release\n  --featureset_file\n  --output\n  --log-file\n\nThis also adds the code and tests for the YAML file\nparsing. I tried adding a specific error case for\nwhen the YAML file fails to parse vs the more generic\ncase when the file just cannot be opened. However,\nmock would not behave for testing the specific case.\n\nWe log and raise the exception in both cases though,\nand the tests cover both as well.\n\nChange-Id: I0834a0e9b3193c664b377ae7e066fe15239bbfb1\n'}, {'number': 6, 'created': '2018-05-16 16:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a3f21861b36dc33390d244ebd8972411c94c84db', 'message': 'Add CLI argument parser and YAML file parser\n\nThis adds a CLI interface with the following options:\n  --stable-release\n  --featureset_file\n  --output\n  --log-file\n\nThis also adds the code and tests for the YAML file\nparsing. I tried adding a specific error case for\nwhen the YAML file fails to parse vs the more generic\ncase when the file just cannot be opened. However,\nmock would not behave for testing the specific case.\n\nWe log and raise the exception in both cases though,\nand the tests cover both as well.\n\nChange-Id: I0834a0e9b3193c664b377ae7e066fe15239bbfb1\n'}, {'number': 7, 'created': '2018-05-16 20:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e3f8a5dc481c5f86d237c0a260a6bbe95ca40f96', 'message': 'Add CLI argument parser and YAML file parser\n\nThis adds a CLI interface with the following options:\n  --stable-release\n  --featureset_file\n  --output\n  --log-file\n\nThis also adds the code and tests for the YAML file\nparsing. I tried adding a specific error case for\nwhen the YAML file fails to parse vs the more generic\ncase when the file just cannot be opened. However,\nmock would not behave for testing the specific case.\n\nWe log and raise the exception in both cases though,\nand the tests cover both as well.\n\nChange-Id: I0834a0e9b3193c664b377ae7e066fe15239bbfb1\n'}, {'number': 8, 'created': '2018-05-17 11:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6a1a627f65622136e9710f761a1bf72594cbb3b4', 'message': '[WIP] Add CLI argument parser and YAML file parser\n\nChange-Id: I0834a0e9b3193c664b377ae7e066fe15239bbfb1\n'}, {'number': 9, 'created': '2018-05-17 12:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8c0292c1ff65bd384a11954c820822f43bad9a6e', 'message': 'Add CLI argument parser and YAML file parser\n\nThis adds a CLI interface with the following options:\n  --stable-release\n  --featureset_file\n  --output\n  --log-file\n\nThis also adds the code and tests for the YAML file\nparsing. I tried adding a specific error case for\nwhen the YAML file fails to parse vs the more generic\ncase when the file just cannot be opened. However,\nmock would not behave for testing the specific case.\n\nWe log and raise the exception in both cases though,\nand the tests cover both as well.\n\nChange-Id: I0834a0e9b3193c664b377ae7e066fe15239bbfb1\n'}, {'number': 10, 'created': '2018-05-17 12:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a9c69d9f206a235dce4a2684a2e57c3707b33bb1', 'message': 'Add CLI argument parser and YAML file parser\n\nThis adds a CLI interface with the following options:\n  --stable-release\n  --featureset-file\n  --output-file\n  --log-file\n\nThis also adds the code and tests for the YAML file\nparsing. I tried adding a specific error case for\nwhen the YAML file fails to parse vs the more generic\ncase when the file just cannot be opened. However,\nmock would not behave for testing the specific case.\n\nWe log and raise the exception in both cases though,\nand the tests cover both as well.\n\nChange-Id: I0834a0e9b3193c664b377ae7e066fe15239bbfb1\n'}, {'number': 11, 'created': '2018-05-17 16:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8605e42b323a935edb9820acf165f1be24dc5de6', 'message': 'Add CLI argument parser and YAML file parser\n\nThis adds a CLI interface with the following options:\n  --stable-release\n  --featureset-file\n  --output-file\n  --log-file\n\nThis also adds the code and tests for the YAML file\nparsing. I tried adding a specific error case for\nwhen the YAML file fails to parse vs the more generic\ncase when the file just cannot be opened. However,\nmock would not behave for testing the specific case.\n\nWe log and raise the exception in both cases though,\nand the tests cover both as well.\n\nChange-Id: I0834a0e9b3193c664b377ae7e066fe15239bbfb1\n'}, {'number': 12, 'created': '2018-05-17 20:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e853c07778a74725f65e3a38e9334323db42cef6', 'message': 'Add CLI argument parser and YAML file parser\n\nThis adds a CLI interface with the following options:\n  --stable-release\n  --featureset-file\n  --output-file\n  --log-file\n\nThis also adds the code and tests for the YAML file\nparsing. I tried adding a specific error case for\nwhen the YAML file fails to parse vs the more generic\ncase when the file just cannot be opened. However,\nmock would not behave for testing the specific case.\n\nWe log and raise the exception in both cases though,\nand the tests cover both as well.\n\nChange-Id: I0834a0e9b3193c664b377ae7e066fe15239bbfb1\n'}, {'number': 13, 'created': '2018-05-18 12:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0c9b4a8dea592422fd3c7e44b5caf70c39a938d4', 'message': 'Add CLI argument parser and YAML file parser\n\nThis adds a CLI interface with the following options:\n  --stable-release\n  --featureset-file\n  --output-file\n  --log-file\n\nThis also adds the code and tests for the YAML file\nparsing. I tried adding a specific error case for\nwhen the YAML file fails to parse vs the more generic\ncase when the file just cannot be opened. However,\nmock would not behave for testing the specific case.\n\nWe log and raise the exception in both cases though,\nand the tests cover both as well.\n\nChange-Id: I0834a0e9b3193c664b377ae7e066fe15239bbfb1\n'}, {'number': 14, 'created': '2018-05-18 14:35:41.000000000', 'files': ['test-requirements.txt', 'scripts/emit_releases_file/emit_releases_file.py', 'scripts/emit_releases_file/test_yaml_parsing.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/53e40920386f337ee2a1fcca4cfc3ea928836fa2', 'message': 'Add CLI argument parser and YAML file parser\n\nThis adds a CLI interface with the following options:\n  --stable-release\n  --featureset-file\n  --output-file\n  --log-file\n\nThis also adds the code and tests for the YAML file\nparsing. I tried adding a specific error case for\nwhen the YAML file fails to parse vs the more generic\ncase when the file just cannot be opened. However,\nmock would not behave for testing the specific case.\n\nWe log and raise the exception in both cases though,\nand the tests cover both as well.\n\nChange-Id: I0834a0e9b3193c664b377ae7e066fe15239bbfb1\n'}]",16,567936,53e40920386f337ee2a1fcca4cfc3ea928836fa2,46,8,14,12715,,,0,"Add CLI argument parser and YAML file parser

This adds a CLI interface with the following options:
  --stable-release
  --featureset-file
  --output-file
  --log-file

This also adds the code and tests for the YAML file
parsing. I tried adding a specific error case for
when the YAML file fails to parse vs the more generic
case when the file just cannot be opened. However,
mock would not behave for testing the specific case.

We log and raise the exception in both cases though,
and the tests cover both as well.

Change-Id: I0834a0e9b3193c664b377ae7e066fe15239bbfb1
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/36/567936/9 && git format-patch -1 --stdout FETCH_HEAD,['scripts/emit_releases_file/emit_releases_file.py'],1,b0bddc50d914a341ccb76f93e5e1a4988a2dc824,sprint13,"import argparseimport logging.handlers import osimport yamldef setup_logging(log_file): '''Setup logging for the script''' logger = logging.getLogger('emit-releases') logger.setLevel(logging.DEBUG) log_handler = logging.handlers.WatchedFileHandler( os.path.expanduser(log_file)) logger.addHandler(log_handler) def load_featurset_file(featureset_file): logger = logging.getLogger('emit-releases') try: with open(featureset_file, 'r') as stream: try: featureset = yaml.safe_load(stream) except yaml.YAMLError as e: logger.exception(e) featureset = None except Exception as e: logger.exception(e) featureset = None return featureset logger = logging.getLogger('emit-releases') logger.info('Doing an overcloud upgrade') logger.info('Doing an overcloud fast forward upgrade') logger.info('Doing an undercloud upgrade') logger.info('Doing an overcloud update') logger.debug(""stable_release: %s, featureset: %s"", stable_release, logger.info('output releases: %s', releases_dictionary) parser = argparse.ArgumentParser( description='Get a dictionary of releases from a release ' 'and a featureset file.') parser.add_argument('--stable-release') parser.add_argument('--featureset-file') parser.add_argument('--output') parser.add_argument('--log-file', default='emit_releases.log', help='log file to print debug information from ' 'running the script. ' '(default: emit_releases.log)') args = parser.parse_args() setup_logging(args.log_file) logger = logging.getLogger('emit-releases') featureset = load_featurset_file(args.featureset_file) if not featureset: logger.error(""Failed to load featureset from yaml"") exit(1) stable_release = args.stable_release"," logging.info('Doing an overcloud upgrade') logging.info('Doing an overcloud fast forward upgrade') logging.info('Doing an undercloud upgrade') logging.info('Doing an overcloud update') logging.debug(""stable_release: %s, featureset: %s"", stable_release, logging.info('output releases: %s', releases_dictionary) # TODO read the feature set from a file path passed in the arguments featureset = { 'mixed_upgrade': True, 'overcloud_upgrade': True, } # TODO read this from an argumment stable_release = 'queens'",52,14
openstack%2Ftripleo-ci~master~I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e,openstack/tripleo-ci,master,I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e,Add releases script pytest tests to tox.ini,MERGED,2018-05-10 17:04:59.000000000,2018-05-19 00:34:16.000000000,2018-05-19 00:34:16.000000000,"[{'_account_id': 8871}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 12715}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27615}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-05-10 17:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dad8a1e7d3cf353b7616227bf79d646d6c19e08b', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 2, 'created': '2018-05-10 17:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ff0223ce6e94692b7e84c03a8cf152c1c9cd4728', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 3, 'created': '2018-05-10 18:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/34beaa5cf0cf30cd0fa9b1b21e9025369b3f7290', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 4, 'created': '2018-05-10 18:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a9516b5fe4377c8ffd2053f48c77e35aab1b309a', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\n\nRemoved from envlist py27 and pyflakes as these\ntest are not running as required.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 5, 'created': '2018-05-10 19:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f2658131c40ae08ff16856a5570c3d13d3669e9c', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved from envlist py27 and pyflakes as these\ntest are not running as required.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 6, 'created': '2018-05-10 19:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5157b908cb23fdd8077e0100604101a3e5162159', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved from envlist py27 and pyflakes as these\ntest are not running as required.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 7, 'created': '2018-05-10 19:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/299cbf65fa4ecbb75d7f1d234eb60c4d6f924796', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved from envlist py27 and pyflakes as these\ntest are not running as required.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 8, 'created': '2018-05-10 20:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b4849c8538f2de75d7577984ad90c81b7c31c520', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved from envlist py27 and pyflakes as these\ntest are not running as required.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 9, 'created': '2018-05-10 20:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3957523bfb1551a819d1fa9f79e82f399b46cc74', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved from envlist py27 and pyflakes as these\ntest are not running as required.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 10, 'created': '2018-05-10 20:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ce2b88e368b4baea6ca923cdf5efc29c8d0d37ac', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved from envlist py27 and pyflakes as these\ntest are not running as required.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 11, 'created': '2018-05-10 21:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ded18233461d4b01b497f365c8d8ca59da4d3c67', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved from envlist py27 and pyflakes as these\ntest are not running as required.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 12, 'created': '2018-05-10 21:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dadfb8002906cf245b4843acb2958ca708f58776', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved from envlist py27 and pyflakes as these\ntest are not running as required.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 13, 'created': '2018-05-11 13:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b30bf80084cebfc09cf622acfe50fe0b14217e5d', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 14, 'created': '2018-05-11 19:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/aff9f8ac5794e5f411aa39d8f4e6efecb83a4b81', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 15, 'created': '2018-05-11 19:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/514046228f3b212232d1c3bc32ffdca9c207ff89', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 16, 'created': '2018-05-11 19:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9112096e22342ec0aac506c7d025a0a6789503d5', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 17, 'created': '2018-05-11 20:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2ec240bd83ab6e08b2eb70d7f95f033ae93133da', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 18, 'created': '2018-05-11 21:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d5640294ef64be706d5a842e4a09298669068924', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 19, 'created': '2018-05-11 21:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5e96679fbef6f4c9327f22e3149810ffb87dcf6a', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 20, 'created': '2018-05-14 13:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/874d277c986ffe0ca3343c439b76cbcc0284aed8', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 21, 'created': '2018-05-14 14:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/60d7b90726373f37faaf1efd5eeeb3f0c8c27350', 'message': 'Add releases script pytest tests to tox.ini\n\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 22, 'created': '2018-05-14 20:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2343a94cad3ff4df50334a06de2ead943555211b', 'message': 'Add releases script pytest tests to tox.ini\n\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 23, 'created': '2018-05-15 17:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/599327bb1a7cde7c6f4c0afdaaa8c7413918d58a', 'message': 'Add releases script pytest tests to tox.ini\n\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 24, 'created': '2018-05-15 17:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/868082cf39366842c6a44ea073273b2d66fe0df6', 'message': 'Add releases script pytest tests to tox.ini\n\nAdd tox testing in upstream jobs with changes to\nthe releases script.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 25, 'created': '2018-05-15 17:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ac793dd6cd99fe80c0894d2bfe8b1ebace739518', 'message': 'Add releases script pytest tests to tox.ini\n\nAdd tox testing in upstream jobs with changes to\nthe releases script.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 26, 'created': '2018-05-16 11:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a55f6123362b78a424b2a44bfe2f66dfabe9df54', 'message': 'Add releases script pytest tests to tox.ini\n\nAdd tox testing in upstream jobs with changes to\nthe releases script.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 27, 'created': '2018-05-16 15:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/515f55a4e91cca4a4cee5212d274e89698227ce6', 'message': 'Add releases script pytest tests to tox.ini\n\nAdd tox testing in upstream jobs with changes to\nthe releases script.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 28, 'created': '2018-05-17 11:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9b035d1ff8afff6b766e951d0a5766d9b28f2aba', 'message': 'Add releases script pytest tests to tox.ini\n\nAdd tox testing in upstream jobs with changes to\nthe releases script.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 29, 'created': '2018-05-17 16:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/325e7bf7c7856bef78252753ffcfc35645eec908', 'message': 'Add releases script pytest tests to tox.ini\n\nAdd tox testing in upstream jobs with changes to\nthe releases script.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 30, 'created': '2018-05-18 12:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a1264b6356c84c5c93af74ebed6c8be1786b5de5', 'message': 'Add releases script pytest tests to tox.ini\n\nAdd tox testing in upstream jobs with changes to\nthe releases script.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 31, 'created': '2018-05-18 14:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2c432ff87fb3d9d7d85faf0d8b09a512eb65f925', 'message': 'Add releases script pytest tests to tox.ini\n\nAdd tox testing in upstream jobs with changes to\nthe releases script.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}, {'number': 32, 'created': '2018-05-18 14:33:52.000000000', 'files': ['scripts/emit_releases_file/emit_releases_file.py', 'zuul.d/layout.yaml', 'scripts/emit_releases_file/test_get_dlrn_hash.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7ca3fcd68583d37e4e2270944582e5152a73c4f0', 'message': 'Add releases script pytest tests to tox.ini\n\nAdd tox testing in upstream jobs with changes to\nthe releases script.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e\n'}]",22,567649,7ca3fcd68583d37e4e2270944582e5152a73c4f0,83,8,32,9976,,,0,"Add releases script pytest tests to tox.ini

Add tox testing in upstream jobs with changes to
the releases script.

Removed pyflakes as these test are not running as
required.

Change-Id: I3fdf0be7beb814a681a2dcc155bae87fdb6a4c7e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/49/567649/32 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dad8a1e7d3cf353b7616227bf79d646d6c19e08b,sprint13,"envlist = pyflakes, pep8, py27, pytest # This environment is used to test the script that determines the # per-releases variables passed to playbooks [testenv:pytest] deps = pytest mock requests commands = pytest scripts/emit-releases-file.py","envlist = pyflakes, pep8, py27",9,1
openstack%2Ftripleo-quickstart-extras~master~Ia59230a30890104e93116ccbd433237492042cf8,openstack/tripleo-quickstart-extras,master,Ia59230a30890104e93116ccbd433237492042cf8,Run fast forward upgrade for multinode-overcloud-upgrade,MERGED,2018-05-17 18:05:52.000000000,2018-05-19 00:30:45.000000000,2018-05-19 00:30:45.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-17 18:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/55ae6050e25146aec3ae818bbdfd3f87d0716347', 'message': 'DNM: Run fast forward upgrade for multinode-overcloud-upgrade\n\nChange-Id: Ia59230a30890104e93116ccbd433237492042cf8\n'}, {'number': 2, 'created': '2018-05-17 20:51:20.000000000', 'files': ['playbooks/multinode-overcloud-upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bd002ea72a3f070201e5f5ec47c45fefd1bf0274', 'message': 'Run fast forward upgrade for multinode-overcloud-upgrade\n\nSet the var to allow running the fast forward upgrade gate\njob(featureset036).\n\nChange-Id: Ia59230a30890104e93116ccbd433237492042cf8\n'}]",0,569198,bd002ea72a3f070201e5f5ec47c45fefd1bf0274,18,8,2,18851,,,0,"Run fast forward upgrade for multinode-overcloud-upgrade

Set the var to allow running the fast forward upgrade gate
job(featureset036).

Change-Id: Ia59230a30890104e93116ccbd433237492042cf8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/98/569198/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-overcloud-upgrade.yml'],1,55ae6050e25146aec3ae818bbdfd3f87d0716347,, when: overcloud_upgrade|default(false)|bool or ffu_overcloud_upgrade|default(false)|bool, when: overcloud_upgrade|default(false)|bool,1,1
openstack%2Foctavia~master~I54c0170bad28adb26df87024bd16f31827702f1e,openstack/octavia,master,I54c0170bad28adb26df87024bd16f31827702f1e,Devstack plugin image build option quoting fix,MERGED,2018-03-13 17:51:02.000000000,2018-05-18 23:29:42.000000000,2018-03-15 22:58:53.000000000,"[{'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 17:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/896b6a733c0ceb652fcb0ba0d91036f166ba5638', 'message': ""Devstack plugin image build option quoting fix\n\nOptions that are unset should not use '' as their default because it\nactually puts them literally into the command which will cause it to\nskip parsing args after any empty quotes.\n\nChange-Id: I54c0170bad28adb26df87024bd16f31827702f1e\n""}, {'number': 2, 'created': '2018-03-14 05:13:37.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/53dc41d06f41c78f13fcdaef4d9e9a08609d8b34', 'message': ""Devstack plugin image build option quoting fix\n\nOptions that are unset should not use '' as their default because it\nactually puts them literally into the command which will cause it to\nskip parsing args after any empty quotes.\n\nChange-Id: I54c0170bad28adb26df87024bd16f31827702f1e\n""}]",0,552641,53dc41d06f41c78f13fcdaef4d9e9a08609d8b34,10,3,2,10273,,,0,"Devstack plugin image build option quoting fix

Options that are unset should not use '' as their default because it
actually puts them literally into the command which will cause it to
skip parsing args after any empty quotes.

Change-Id: I54c0170bad28adb26df87024bd16f31827702f1e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/41/552641/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,896b6a733c0ceb652fcb0ba0d91036f166ba5638,, $OCTAVIA_DIR/diskimage-create/diskimage-create.sh $octavia_dib_tracing_arg -o $OCTAVIA_AMP_IMAGE_FILE ${PARAM_OCTAVIA_AMP_BASE_OS:-} ${PARAM_OCTAVIA_AMP_DISTRIBUTION_RELEASE_ID:-} ${PARAM_OCTAVIA_AMP_IMAGE_SIZE:-}, $OCTAVIA_DIR/diskimage-create/diskimage-create.sh $octavia_dib_tracing_arg -o $OCTAVIA_AMP_IMAGE_FILE ${PARAM_OCTAVIA_AMP_BASE_OS:-''} ${PARAM_OCTAVIA_AMP_DISTRIBUTION_RELEASE_ID:-''} ${PARAM_OCTAVIA_AMP_IMAGE_SIZE:-''},1,1
openstack%2Foctavia~master~I724f5064309d07fe05f86fcf2c7a488d9319e54c,openstack/octavia,master,I724f5064309d07fe05f86fcf2c7a488d9319e54c,Fix kvm-centos.7 gate,MERGED,2018-03-07 14:29:45.000000000,2018-05-18 23:28:28.000000000,2018-03-09 16:28:01.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-07 14:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6af78daaccb55693955a73f558ea8789dd3900d5', 'message': ""Fix kvm-centos.7 gate\n\nSomehow it was pulling in barbican-tempest-plugin incorrectly, and\ndidn't have image size set right for centos.\n\nChange-Id: I724f5064309d07fe05f86fcf2c7a488d9319e54c\n""}, {'number': 2, 'created': '2018-03-07 23:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4abe5de1a199331aca283c8b42d90b2dffab5591', 'message': ""Fix kvm-centos.7 gate\n\nSomehow it was pulling in barbican-tempest-plugin incorrectly, and\ndidn't have image size set right for centos.\n\nAlso fix the devstack plugin to size the flavor correctly based on the\nimage size variable.\n\nChange-Id: I724f5064309d07fe05f86fcf2c7a488d9319e54c\n""}, {'number': 3, 'created': '2018-03-08 20:55:05.000000000', 'files': ['playbooks/legacy/octavia-v1-dsvm-scenario-kvm-centos.7/run.yaml', 'diskimage-create/diskimage-create.sh', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1020a3bceb296610c442ed0d445bba594f27b3de', 'message': ""Fix kvm-centos.7 gate\n\nSomehow it was pulling in barbican-tempest-plugin incorrectly, and\ndidn't have image size set right for centos.\n\nAlso fix the devstack plugin to size the flavor correctly based on the\nimage size variable.\n\nChange-Id: I724f5064309d07fe05f86fcf2c7a488d9319e54c\n""}]",0,550487,1020a3bceb296610c442ed0d445bba594f27b3de,18,6,3,10273,,,0,"Fix kvm-centos.7 gate

Somehow it was pulling in barbican-tempest-plugin incorrectly, and
didn't have image size set right for centos.

Also fix the devstack plugin to size the flavor correctly based on the
image size variable.

Change-Id: I724f5064309d07fe05f86fcf2c7a488d9319e54c
",git fetch https://review.opendev.org/openstack/octavia refs/changes/87/550487/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/octavia-v1-dsvm-scenario-kvm-centos.7/run.yaml'],1,6af78daaccb55693955a73f558ea8789dd3900d5,ostestr_to_stestr, OCTAVIA_AMP_IMAGE_SIZE=3," export PROJECTS=""openstack/barbican-tempest-plugin $PROJECTS""",1,1
openstack%2Fworkload-ref-archs~master~I18e5a8b8e296bffc574df1561028d957c8763ff7,openstack/workload-ref-archs,master,I18e5a8b8e296bffc574df1561028d957c8763ff7,fix link change http ->https,MERGED,2018-02-23 09:54:57.000000000,2018-05-18 23:02:45.000000000,2018-05-18 23:02:45.000000000,"[{'_account_id': 14091}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-02-23 09:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/9a52203e8bd432e03edfb3698828cbc8550f97f2', 'message': 'fix link\n\nChange-Id: I18e5a8b8e296bffc574df1561028d957c8763ff7\n'}, {'number': 2, 'created': '2018-05-17 07:48:32.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/413345d422bb930d42ed0518cc413dd5fc0727f8', 'message': 'fix link\nchange http ->https\n\nChange-Id: I18e5a8b8e296bffc574df1561028d957c8763ff7\n'}]",1,547342,413345d422bb930d42ed0518cc413dd5fc0727f8,11,3,2,21486,,,0,"fix link
change http ->https

Change-Id: I18e5a8b8e296bffc574df1561028d957c8763ff7
",git fetch https://review.opendev.org/openstack/workload-ref-archs refs/changes/42/547342/2 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,9a52203e8bd432e03edfb3698828cbc8550f97f2,, https://docs.openstack.org/hacking/latest/, http://docs.openstack.org/developer/hacking/,1,1
openstack%2Ftripleo-quickstart-extras~master~I54a08d696ba7f67caa114a2beffe5de601eb1a92,openstack/tripleo-quickstart-extras,master,I54a08d696ba7f67caa114a2beffe5de601eb1a92,"Run ""overcloud container image prepare"" only once",MERGED,2017-12-18 04:43:56.000000000,2018-05-18 22:13:23.000000000,2018-05-18 19:12:55.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 11391}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-12-18 04:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8ebb93dd0b4f8503de6f8eb07a97c17169a73061', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile.\n\nDepends-On: I7ad0ae8dee665c8c7d0599eb6d29787bf9043762\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}, {'number': 2, 'created': '2018-01-16 23:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/37801fdfefb24bb56c32e4adcdf8c979abab5716', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile.\n\nDepends-On: I7ad0ae8dee665c8c7d0599eb6d29787bf9043762\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}, {'number': 3, 'created': '2018-01-17 03:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/04bb74b62d4aefa846cf2c491c03d2dc2e2a684e', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile.\n\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}, {'number': 4, 'created': '2018-01-18 21:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d83ee99925f3428740f1be50737c6063e3f4d84e', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile.\n\nDepends-On: I50fcfaab48bc3baeaefbaf9bb35f3e3b324cd267\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}, {'number': 5, 'created': '2018-01-24 20:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9a13d2122d1770d3671fddcfdab17f2f8998ca76', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile.\n\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}, {'number': 6, 'created': '2018-01-24 20:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2299d7f35a93adc1fb4824d546dedc43a388187d', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile.\n\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}, {'number': 7, 'created': '2018-01-31 15:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c1ff7284b6c99bcc94e516acaaec35023ca8a726', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile.\n\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}, {'number': 8, 'created': '2018-03-02 09:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fa7b8f145968c66855a43be6557b8fec81db0c8f', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile. The second run only occurs now for pike runs.\n\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}, {'number': 9, 'created': '2018-03-06 22:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/10f0372f82c703d9ae7a016ec8d0f0a18d10b817', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile. The second run only occurs now for pike runs.\n\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}, {'number': 10, 'created': '2018-03-08 00:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6e7b7092cc1243697fbc8e317a20a956f92aa441', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile. The second run only occurs now for pike runs.\n\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}, {'number': 11, 'created': '2018-04-11 14:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/497780e01fa8a07ffb400ffb538394766c7ea993', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile. The second run only occurs now for pike runs.\n\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}, {'number': 12, 'created': '2018-04-11 21:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/277f24703f08769fd297617d2d62ffcfcd3e915e', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile. The second run only occurs now for pike runs.\n\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}, {'number': 13, 'created': '2018-04-15 00:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9ec1aa84036d735ddd2e5c3dc5c91e37ce2c6709', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile. The second run only occurs now for pike runs.\n\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}, {'number': 14, 'created': '2018-05-14 22:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ac1616ceef7954673fd7d0f7e381fe1b74694bf8', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile. The second run only occurs now for pike runs.\n\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}, {'number': 15, 'created': '2018-05-15 01:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9205f003b54e77b4eca3df686678838076f96736', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile. The second run only occurs now for ocata, pike runs.\n\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}, {'number': 16, 'created': '2018-05-15 21:36:02.000000000', 'files': ['roles/overcloud-upgrade/templates/major-upgrade-overcloud-containers.sh.j2', 'roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/445157148a46452c26ffa070e31b4da1c8e4503d', 'message': 'Run ""overcloud container image prepare"" only once\n\nThanks to the fix for bug #1738663 it is no longer necessary to run\nprepare separately to generate the environment file and the images\nfile. The second run only occurs now for ocata, pike runs.\n\nChange-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92\nRelated-Bug: #1738663\n'}]",7,528621,445157148a46452c26ffa070e31b4da1c8e4503d,127,10,16,4571,,,0,"Run ""overcloud container image prepare"" only once

Thanks to the fix for bug #1738663 it is no longer necessary to run
prepare separately to generate the environment file and the images
file. The second run only occurs now for ocata, pike runs.

Change-Id: I54a08d696ba7f67caa114a2beffe5de601eb1a92
Related-Bug: #1738663
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/21/528621/16 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/templates/undercloud-deploy.sh.j2', 'roles/overcloud-upgrade/templates/major-upgrade-overcloud-containers.sh.j2', 'roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2']",3,8ebb93dd0b4f8503de6f8eb07a97c17169a73061,bp/container-prepare-workflow,"## * Configure the {{ working_dir }}/containers-default-parameters.yaml, and ## populate the docker registry. This is done automatically. --output-images-file {{ working_dir }}/overcloud_containers.yaml \ --output-env-file {{ working_dir }}/containers-default-parameters.yaml \","## * Populate the docker registry --images-file {{ working_dir }}/overcloud_containers.yaml \## * Configure the {{ working_dir }}/containers-default-parameters.yaml, this is done automatically. ## :: openstack overcloud container image prepare \ --env-file {{ working_dir }}/containers-default-parameters.yaml \ {{ prepare_service_env_args }} \ --namespace {{ local_docker_registry_host }}:8787/{{ docker_registry_namespace }} \ {% if docker_prep_prefix is defined %} --prefix={{ docker_prep_prefix}} \ {% endif %} {% if docker_prep_suffix is defined %} --suffix={{ docker_prep_suffix }} \ {% endif %} {% if docker_ceph_namespace is defined %} --set ceph_namespace={{ docker_ceph_namespace }} \ {% endif %} {% if docker_ceph_image is defined %} --set ceph_image={{ docker_ceph_image }} \ {% endif %} {% if docker_ceph_tag is defined %} --set ceph_tag={{ docker_ceph_tag }} \ {% endif %} --tag $BUILD_ID ",7,38
openstack%2Frequirements~stable%2Fpike~I9f4bd3081dbfd2f5c6a95201b8c2db25457b9d7b,openstack/requirements,stable/pike,I9f4bd3081dbfd2f5c6a95201b8c2db25457b9d7b,update constraint for ovsdbapp to new release 0.4.3,MERGED,2018-05-18 04:51:06.000000000,2018-05-18 21:28:53.000000000,2018-05-18 21:28:53.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 04:51:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ee322cd9acb5461420ba083fbbd51cfdab3ace8d', 'message': 'update constraint for ovsdbapp to new release 0.4.3\n\nChange-Id: I9f4bd3081dbfd2f5c6a95201b8c2db25457b9d7b\nmeta:version: 0.4.3\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Miguel Angel Ajo Pelayo <majopela@redhat.com>\nmeta:release:Commit: Miguel Angel Ajo Pelayo <majopela@redhat.com>\nmeta:release:Change-Id: Ic089341494af371a06fb0eefa38ca099179aa86b\nmeta:release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Code-Review+1: Brian Haley <haleyb.dev@gmail.com>\nmeta:release:Code-Review+1: Daniel Alvarez <dalvarez@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Miguel Lavalle <miguel.lavalle@huawei.com>\nmeta:release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,569322,ee322cd9acb5461420ba083fbbd51cfdab3ace8d,7,2,1,11131,,,0,"update constraint for ovsdbapp to new release 0.4.3

Change-Id: I9f4bd3081dbfd2f5c6a95201b8c2db25457b9d7b
meta:version: 0.4.3
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Miguel Angel Ajo Pelayo <majopela@redhat.com>
meta:release:Commit: Miguel Angel Ajo Pelayo <majopela@redhat.com>
meta:release:Change-Id: Ic089341494af371a06fb0eefa38ca099179aa86b
meta:release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Code-Review+1: Brian Haley <haleyb.dev@gmail.com>
meta:release:Code-Review+1: Daniel Alvarez <dalvarez@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Miguel Lavalle <miguel.lavalle@huawei.com>
meta:release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/569322/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ee322cd9acb5461420ba083fbbd51cfdab3ace8d,new-release,ovsdbapp===0.4.3,ovsdbapp===0.4.2,1,1
openstack%2Frequirements~master~I35c8450f4b61f105190a9821a9b28098ad5bc31b,openstack/requirements,master,I35c8450f4b61f105190a9821a9b28098ad5bc31b,Updated from generate-constraints,MERGED,2018-05-17 06:27:27.000000000,2018-05-18 21:28:34.000000000,2018-05-18 21:28:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 06:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1ddf6c811a9b01dc108cdfea8e3cdc0b5cd06eed', 'message': 'Updated from generate-constraints\n\nChange-Id: I35c8450f4b61f105190a9821a9b28098ad5bc31b\n'}, {'number': 2, 'created': '2018-05-17 14:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/acd72a4f15c5ec4766be183d4cb1f57689df14e1', 'message': 'Updated from generate-constraints\n\nChange-Id: I35c8450f4b61f105190a9821a9b28098ad5bc31b\n'}, {'number': 3, 'created': '2018-05-17 14:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/006b1c888bf089e3ea7408438b72d024439577f7', 'message': 'Updated from generate-constraints\n\nChange-Id: I35c8450f4b61f105190a9821a9b28098ad5bc31b\n'}, {'number': 4, 'created': '2018-05-18 06:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/79045a31cf1744bd84d79bb66bc806b27f8bfc34', 'message': 'Updated from generate-constraints\n\nChange-Id: I35c8450f4b61f105190a9821a9b28098ad5bc31b\n'}, {'number': 5, 'created': '2018-05-18 06:31:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b5db7f01283fe17892a0123b1506960a0ecad671', 'message': 'Updated from generate-constraints\n\nChange-Id: I35c8450f4b61f105190a9821a9b28098ad5bc31b\n'}]",0,569029,b5db7f01283fe17892a0123b1506960a0ecad671,14,2,5,11131,,,0,"Updated from generate-constraints

Change-Id: I35c8450f4b61f105190a9821a9b28098ad5bc31b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/29/569029/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1ddf6c811a9b01dc108cdfea8e3cdc0b5cd06eed,openstack/requirements/constraints,grpcio===1.12.0python-vitrageclient===2.1.0networkx===2.1pyOpenSSL===18.0.0croniter===0.3.22eventlet===0.23.0keyring===12.2.1python-qinlingclient===1.0.0pika===0.11.2Sphinx===1.7.4botocore===1.10.22pyldap===3.0.0.post1;python_version=='3.4' pyldap===3.0.0.post1;python_version=='3.5'ovsdbapp===0.10.1virtualenv===16.0.0,grpcio===1.11.0python-vitrageclient===2.0.0networkx===1.11pyOpenSSL===17.5.0croniter===0.3.20eventlet===0.20.0asyncio===3.4.3;python_version=='3.6'keyring===12.2.0protobuf===3.5.2.post1pika===0.10.0Sphinx===1.6.5botocore===1.10.20pyldap===3.0.0;python_version=='3.4' pyldap===3.0.0;python_version=='3.5'ovsdbapp===0.10.0virtualenv===15.2.0python-qinlingclient===1.0.0,15,17
openstack%2Fpython-openstackclient~master~Iff4d8b47812a86d21bf5dbdddbd642b9d63ff8fe,openstack/python-openstackclient,master,Iff4d8b47812a86d21bf5dbdddbd642b9d63ff8fe,Update command test for volume.v3,MERGED,2018-05-18 12:12:21.000000000,2018-05-18 20:43:36.000000000,2018-05-18 20:43:36.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 12:12:21.000000000', 'files': ['openstackclient/tests/functional/common/test_module.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f7e4d31820e797e0d374e7dfde1142373245ea87', 'message': ""Update command test for volume.v3\n\nThe default cinder version in devstack changed to v3 in\nhttps://review.openstack.org/#/c/566747/which breaks this\ntest. Change the test to test what's going to happen.\n\nChange-Id: Iff4d8b47812a86d21bf5dbdddbd642b9d63ff8fe\n""}]",0,569398,f7e4d31820e797e0d374e7dfde1142373245ea87,10,4,1,2,,,0,"Update command test for volume.v3

The default cinder version in devstack changed to v3 in
https://review.openstack.org/#/c/566747/which breaks this
test. Change the test to test what's going to happen.

Change-Id: Iff4d8b47812a86d21bf5dbdddbd642b9d63ff8fe
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/98/569398/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/functional/common/test_module.py'],1,f7e4d31820e797e0d374e7dfde1142373245ea87,," 'openstack.volume.v3',"," 'openstack.volume.v2',",1,1
openstack%2Fnova~master~I259d36bc15e034c248ec39b2c5c97ff95986b31b,openstack/nova,master,I259d36bc15e034c248ec39b2c5c97ff95986b31b,Fix inconsistency in docs,MERGED,2018-05-18 06:54:58.000000000,2018-05-18 20:40:26.000000000,2018-05-18 16:30:50.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28239}]","[{'number': 1, 'created': '2018-05-18 06:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0172c3c0d2a19c680b50c047354a9f97a0c49f6a', 'message': 'Fix inconsistency in docs\n\n  * Make the `True` lowercase to reflect examples in config and\n    other parameters in docs\n\nTrivialFix\n\nChange-Id: I259d36bc15e034c248ec39b2c5c97ff95986b31b\n'}, {'number': 2, 'created': '2018-05-18 07:37:25.000000000', 'files': ['doc/source/install/controller-install-obs.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/compute-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/dd1dea22f23a67c7c6ee1503a7658c7449161f68', 'message': 'Fix inconsistency in docs\n\n  * Make the `True` lowercase to reflect examples in config and\n    other parameters in docs\n\nTrivialFix\n\nChange-Id: I259d36bc15e034c248ec39b2c5c97ff95986b31b\n'}]",0,569348,dd1dea22f23a67c7c6ee1503a7658c7449161f68,16,10,2,15492,,,0,"Fix inconsistency in docs

  * Make the `True` lowercase to reflect examples in config and
    other parameters in docs

TrivialFix

Change-Id: I259d36bc15e034c248ec39b2c5c97ff95986b31b
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/569348/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/controller-install-ubuntu.rst'],1,0172c3c0d2a19c680b50c047354a9f97a0c49f6a,, use_neutron = true, use_neutron = True,1,1
openstack%2Fpython-tripleoclient~master~I57bc5017ea73260e5adcf0f1b0417bd55d65cb07,openstack/python-tripleoclient,master,I57bc5017ea73260e5adcf0f1b0417bd55d65cb07,Correct the tripleo_upgrade command entrypoint,MERGED,2018-05-18 09:42:46.000000000,2018-05-18 20:37:05.000000000,2018-05-18 20:37:05.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 09:42:46.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e9a68430400a6b99005c6aa675bf9bd27ed810a1', 'message': 'Correct the tripleo_upgrade command entrypoint\n\nCloses-Bug: 1771982\nChange-Id: I57bc5017ea73260e5adcf0f1b0417bd55d65cb07\n'}]",0,569369,e9a68430400a6b99005c6aa675bf9bd27ed810a1,9,7,1,12356,,,0,"Correct the tripleo_upgrade command entrypoint

Closes-Bug: 1771982
Change-Id: I57bc5017ea73260e5adcf0f1b0417bd55d65cb07
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/69/569369/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e9a68430400a6b99005c6aa675bf9bd27ed810a1,bug/1771982, tripleo_upgrade = tripleoclient.v1.tripleo_upgrade:Upgrade, tripleo_upgrade = tripleoclient.v1.tripleo_deploy:Upgrade,1,1
openstack%2Fneutron-tempest-plugin~master~I804334ef42be1d7e06f4e78036d15a51216fc67c,openstack/neutron-tempest-plugin,master,I804334ef42be1d7e06f4e78036d15a51216fc67c,DNM Test if logging from check_remote_connectivity will be fine,ABANDONED,2018-05-16 13:38:03.000000000,2018-05-18 20:18:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-16 13:38:03.000000000', 'files': ['neutron_tempest_plugin/scenario/test_trunk.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1aaa7cda23fea6d45ec02996aa967d76f63b1387', 'message': 'DNM Test if logging from check_remote_connectivity will be fine\n\nChange-Id: I804334ef42be1d7e06f4e78036d15a51216fc67c\n'}]",0,568846,1aaa7cda23fea6d45ec02996aa967d76f63b1387,3,1,1,11975,,,0,"DNM Test if logging from check_remote_connectivity will be fine

Change-Id: I804334ef42be1d7e06f4e78036d15a51216fc67c
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/46/568846/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_trunk.py'],1,1aaa7cda23fea6d45ec02996aa967d76f63b1387,log_vm_console_after_remove_connectivity_check," '1.2.3.4', #servers[1]['subport']['fixed_ips'][0]['ip_address'],"," servers[1]['subport']['fixed_ips'][0]['ip_address'],",2,1
openstack%2Fneutron~master~I741704de8b2a8c55a3caee80d1c31f6e2796b73c,openstack/neutron,master,I741704de8b2a8c55a3caee80d1c31f6e2796b73c,DNM Fullstack test to check connectivity during L3 agent restart,ABANDONED,2018-05-17 22:43:09.000000000,2018-05-18 20:18:01.000000000,,"[{'_account_id': 9732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 22:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51e9877e97b7f1ada3d0a1047e191436472316c1', 'message': 'DNM Fullstack test to check connectivity during L3 agent restart\n\nThis test should fail now as patch with fix is necessary also.\n\nChange-Id: I741704de8b2a8c55a3caee80d1c31f6e2796b73c\nRelated-Bug: #1771841\n'}, {'number': 2, 'created': '2018-05-18 07:24:09.000000000', 'files': ['tools/configure_for_func_testing.sh', 'neutron/tests/fullstack/base.py', 'neutron/tests/fullstack/test_l3_agent.py', 'neutron/tests/fullstack/test_connectivity.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3ee1fd3184155e106a3e427b488a5d9adc63523', 'message': 'DNM Fullstack test to check connectivity during L3 agent restart\n\nThis test should fail now as patch with fix is necessary also.\n\nChange-Id: I741704de8b2a8c55a3caee80d1c31f6e2796b73c\nRelated-Bug: #1771841\n'}]",0,569289,e3ee1fd3184155e106a3e427b488a5d9adc63523,6,2,2,11975,,,0,"DNM Fullstack test to check connectivity during L3 agent restart

This test should fail now as patch with fix is necessary also.

Change-Id: I741704de8b2a8c55a3caee80d1c31f6e2796b73c
Related-Bug: #1771841
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/569289/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/configure_for_func_testing.sh', 'neutron/tests/fullstack/base.py', 'neutron/tests/fullstack/test_l3_agent.py', 'neutron/tests/fullstack/test_connectivity.py']",4,51e9877e97b7f1ada3d0a1047e191436472316c1,bug/1771841," self._assert_ping_during_agents_restart( agents, ns0, [ip1], restart_timeout=agent_restart_timeout, ping_timeout=2, count=agent_restart_timeout)","from concurrent import futures with net_helpers.async_ping(ns0, [ip1], timeout=2, count=agent_restart_timeout) as done: LOG.debug(""Restarting agents"") executor = futures.ThreadPoolExecutor(max_workers=len(agents)) restarts = [agent.restart(executor=executor) for agent in agents] futures.wait(restarts, timeout=agent_restart_timeout) self.assertTrue(all([r.done() for r in restarts])) LOG.debug(""Restarting agents - done"") # It is necessary to give agents time to initialize # because some crucial steps (e.g. setting up bridge flows) # happen only after RPC is established common_utils.wait_until_true( done, exception=RuntimeError(""Could not ping the other VM, L2 agent "" ""restart leads to network disruption""))",74,21
openstack%2Fpuppet-openstack-specs~master~Ie93bcbfe8d0ae4c18c61887073d63315c72af1c6,openstack/puppet-openstack-specs,master,Ie93bcbfe8d0ae4c18c61887073d63315c72af1c6,Update links in README,ABANDONED,2018-02-27 17:25:04.000000000,2018-05-18 20:04:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-27 17:25:04.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-specs/commit/f7a17ab5b9f1cdc81fab21fddd4b3597b76a80b2', 'message': 'Update links in README\n\nChange the outdated links to the latest links in README\n\nChange-Id: Ie93bcbfe8d0ae4c18c61887073d63315c72af1c6\n'}]",0,548369,f7a17ab5b9f1cdc81fab21fddd4b3597b76a80b2,3,1,1,17130,,,0,"Update links in README

Change the outdated links to the latest links in README

Change-Id: Ie93bcbfe8d0ae4c18c61887073d63315c72af1c6
",git fetch https://review.opendev.org/openstack/puppet-openstack-specs refs/changes/69/548369/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f7a17ab5b9f1cdc81fab21fddd4b3597b76a80b2,,.. image:: https://governance.openstack.org/tc/badges/puppet-openstack-specs.svg :target: https://governance.openstack.org/tc/reference/tags/index.html,.. image:: http://governance.openstack.org/badges/puppet-openstack-specs.svg :target: http://governance.openstack.org/reference/tags/index.html,2,2
openstack%2Fpython-watcherclient~master~I7a91a08a7fbf05b38f6155f470f3f8b81d722d17,openstack/python-watcherclient,master,I7a91a08a7fbf05b38f6155f470f3f8b81d722d17,Follow the new PTI for document build,ABANDONED,2018-03-20 18:22:48.000000000,2018-05-18 20:02:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-20 18:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/6d203e3bb6bbbf6796c4a1f84d62bc656720f533', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I7a91a08a7fbf05b38f6155f470f3f8b81d722d17\n'}, {'number': 2, 'created': '2018-03-20 20:04:16.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/eb77c25254182ad39264c66dcd0d386eaf33db2d', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I7a91a08a7fbf05b38f6155f470f3f8b81d722d17\n'}]",0,554657,eb77c25254182ad39264c66dcd0d386eaf33db2d,7,1,2,17130,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I7a91a08a7fbf05b38f6155f470f3f8b81d722d17
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/57/554657/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,6d203e3bb6bbbf6796c4a1f84d62bc656720f533,update-pti,deps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build -W -b html doc/source doc/build/html,commands = python setup.py build_sphinx,7,3
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ie5115fda4ec3f676984e4f5bd49d463cc2d547a5,openstack/tripleo-heat-templates,stable/queens,Ie5115fda4ec3f676984e4f5bd49d463cc2d547a5,DNM: test race between ssh_known_hosts being written and docker starting,ABANDONED,2018-05-18 08:46:31.000000000,2018-05-18 19:57:46.000000000,,"[{'_account_id': 8871}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-18 08:46:31.000000000', 'files': ['extraconfig/tasks/ssh/known_hosts_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eea760a3f440201152e4e0b62c24794f46892fdd', 'message': 'DNM: test race between ssh_known_hosts being written and docker starting\n\nChange-Id: Ie5115fda4ec3f676984e4f5bd49d463cc2d547a5\n'}]",0,569365,eea760a3f440201152e4e0b62c24794f46892fdd,5,3,1,23811,,,0,"DNM: test race between ssh_known_hosts being written and docker starting

Change-Id: Ie5115fda4ec3f676984e4f5bd49d463cc2d547a5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/569365/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/tasks/ssh/known_hosts_config.yaml'],1,eea760a3f440201152e4e0b62c24794f46892fdd,, sleep 600 value: {get_resource: SSHKnownHostsConfig} , value: {get_resource: SSHKnownHostsConfig},3,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ia81aecc9525af540574175b7f4bc98406bc30c12,openstack/tripleo-heat-templates,stable/queens,Ia81aecc9525af540574175b7f4bc98406bc30c12,DNM: test fix for race between ssh_known_hosts being written and docker starting,ABANDONED,2018-05-18 08:48:34.000000000,2018-05-18 19:57:20.000000000,,"[{'_account_id': 8871}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-18 08:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6efd09902846175ec3d2016e3e7ba9d30bf5825', 'message': 'DNM: test fix for race between ssh_known_hosts being written and docker starting\n\nChange-Id: Ia81aecc9525af540574175b7f4bc98406bc30c12\n'}, {'number': 2, 'created': '2018-05-18 11:54:33.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e1118d9781bbb870d84d789d9ff97886e2ed129b', 'message': 'DNM: test fix for race between ssh_known_hosts being written and docker starting\n\nChange-Id: Ia81aecc9525af540574175b7f4bc98406bc30c12\n'}]",0,569366,e1118d9781bbb870d84d789d9ff97886e2ed129b,9,3,2,23811,,,0,"DNM: test fix for race between ssh_known_hosts being written and docker starting

Change-Id: Ia81aecc9525af540574175b7f4bc98406bc30c12
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/569366/2 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,e6efd09902846175ec3d2016e3e7ba9d30bf5825,, - {{role_inner.name}}SshKnownHostsDeployment,,1,0
openstack%2Ftripleo-quickstart-extras~master~I3b8c21929b7a5f6b5e9335efb4993084274748bf,openstack/tripleo-quickstart-extras,master,I3b8c21929b7a5f6b5e9335efb4993084274748bf,"Set the permissions for  ""/"" in the ramdisk",ABANDONED,2017-11-02 16:20:02.000000000,2018-05-18 19:36:56.000000000,,"[{'_account_id': 8871}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-11-02 16:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7f7abd2c09bd99d4da0b67fd3da5a0f6cf430c73', 'message': 'Nothing to see here\n\nTesting\n\nChange-Id: I3b8c21929b7a5f6b5e9335efb4993084274748bf\n'}, {'number': 2, 'created': '2018-05-17 11:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e8688fafba234f26f1657c36c9833e6df1313d21', 'message': 'Nothing to see here\n\nTesting\n\nChange-Id: I3b8c21929b7a5f6b5e9335efb4993084274748bf\n'}, {'number': 3, 'created': '2018-05-18 15:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/15f280711eb21c0a4457c0be0ba39fe8cbe427d7', 'message': 'Nothing to see here\n\nTesting\n\nChange-Id: I3b8c21929b7a5f6b5e9335efb4993084274748bf\n'}, {'number': 4, 'created': '2018-05-18 16:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5e62baf274b0e603c4c3724bca5cbbbfd6e159fd', 'message': 'Set the permissions for  ""/"" in the ramdisk\n\nAssert that the ""/"" directory in the ramdisk has the permissions\nof 755 and not leave it up to umask (or chance).\n\nCloses-Bug: #1770972\nChange-Id: I3b8c21929b7a5f6b5e9335efb4993084274748bf\n'}, {'number': 5, 'created': '2018-05-18 16:54:43.000000000', 'files': ['roles/modify-image/tasks/manual.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/83b454140591b69d18198328cdbe491fe7b11d7b', 'message': 'Set the permissions for  ""/"" in the ramdisk\n\nAssert that the ""/"" directory in the ramdisk has the permissions\nof 755 and not leave it up to umask (or chance).\n\nCloses-Bug: #1770972\nChange-Id: I3b8c21929b7a5f6b5e9335efb4993084274748bf\n'}]",0,517368,83b454140591b69d18198328cdbe491fe7b11d7b,23,5,5,1926,,,0,"Set the permissions for  ""/"" in the ramdisk

Assert that the ""/"" directory in the ramdisk has the permissions
of 755 and not leave it up to umask (or chance).

Closes-Bug: #1770972
Change-Id: I3b8c21929b7a5f6b5e9335efb4993084274748bf
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/68/517368/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-simple/templates/overcloud-validate.sh.j2'],1,7f7abd2c09bd99d4da0b67fd3da5a0f6cf430c73,509728, neutron net-list || : neutron subnet-list || : nova console-log Server1 || :,,3,0
openstack%2Fopenstack-ansible-os_nova~master~I8746f9f22c1e8360220be81ac9d1f8ae74fb1f60,openstack/openstack-ansible-os_nova,master,I8746f9f22c1e8360220be81ac9d1f8ae74fb1f60,SUSE: Add libvirt-daemon-driver-secret to list of packages,MERGED,2018-05-17 14:56:50.000000000,2018-05-18 19:32:14.000000000,2018-05-18 19:32:14.000000000,"[{'_account_id': 7353}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-05-17 14:56:50.000000000', 'files': ['vars/suse-42.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/77d93cfa031afce2ed80fbcf72ab82e866ff5ae1', 'message': 'SUSE: Add libvirt-daemon-driver-secret to list of packages\n\nWe need this driver in order to be able to manage libvirt secrets.\n\nChange-Id: I8746f9f22c1e8360220be81ac9d1f8ae74fb1f60\n'}]",0,569137,77d93cfa031afce2ed80fbcf72ab82e866ff5ae1,16,4,1,23163,,,0,"SUSE: Add libvirt-daemon-driver-secret to list of packages

We need this driver in order to be able to manage libvirt secrets.

Change-Id: I8746f9f22c1e8360220be81ac9d1f8ae74fb1f60
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/37/569137/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse-42.yml'],1,77d93cfa031afce2ed80fbcf72ab82e866ff5ae1,add-secret-package-opensuse, - libvirt-daemon-driver-secret,,1,0
openstack%2Fzun~master~I40a0bfb4c26b8b46218f36ae0da9043b0f40b10b,openstack/zun,master,I40a0bfb4c26b8b46218f36ae0da9043b0f40b10b,Use policy for control the 'host' field,MERGED,2018-04-15 19:51:07.000000000,2018-05-18 19:29:09.000000000,2018-05-18 19:29:09.000000000,"[{'_account_id': 11536}, {'_account_id': 17130}, {'_account_id': 21428}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-04-15 19:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/6c33d2157003f2c3aebc3b489c923839815ac0df', 'message': ""[WIP] Use policy for control the 'host' field\n\nChange-Id: I40a0bfb4c26b8b46218f36ae0da9043b0f40b10b\n""}, {'number': 2, 'created': '2018-04-15 20:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/07f43a11269be988e66b0ae7402501f8a368f86c', 'message': ""[WIP] Use policy for control the 'host' field\n\nChange-Id: I40a0bfb4c26b8b46218f36ae0da9043b0f40b10b\n""}, {'number': 3, 'created': '2018-04-15 22:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/589f951aebfb37b0a5bbb454d0a1f8d2b48ea2fc', 'message': 'Use policy for control the \'host\' field\n\nIn before, we manually remove the \'host\' field from container\nif the request was not made by admin users. This patch allows\noperators to define a policy to decide whether to expose\nthis field. This is more flexible.\n\nIn addition, the field removal logic is moved to \'format_container\'\nto ensure that the field was removed (by policy) in all HTTP\nmethods (instead of \'GET\' method only).\n\nThe policy is of the form ""container:get_one:<field_name>"".\nFor example, if the field is \'host\', the corresponding policy\nwould be ""container:get_one:host"". If there is no policy defined\nfor a field, this field is allowed. Otherwise, the visibility\nof this field is decided by the defined policy. The policy\nenforcement logic is extended to allow a field \'might_not_exist\'.\n\nChange-Id: I40a0bfb4c26b8b46218f36ae0da9043b0f40b10b\n'}, {'number': 4, 'created': '2018-04-25 03:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/fb3bddee5ec4a538f78097e687855b1fe7a2f855', 'message': 'Use policy for control the \'host\' field\n\nIn before, we manually remove the \'host\' field from container\nif the request was not made by admin users. This patch allows\noperators to define a policy to decide whether to expose\nthis field. This is more flexible.\n\nIn addition, the field removal logic is moved to \'format_container\'\nto ensure that the field was removed (by policy) in all HTTP\nmethods (instead of \'GET\' method only).\n\nThe policy is of the form ""container:get_one:<field_name>"".\nFor example, if the field is \'host\', the corresponding policy\nwould be ""container:get_one:host"". If there is no policy defined\nfor a field, this field is allowed. Otherwise, the visibility\nof this field is decided by the defined policy. The policy\nenforcement logic is extended to allow a field \'might_not_exist\'.\n\nChange-Id: I40a0bfb4c26b8b46218f36ae0da9043b0f40b10b\n'}, {'number': 5, 'created': '2018-05-13 15:54:40.000000000', 'files': ['zun/common/policies/container.py', 'zun/api/controllers/v1/views/containers_view.py', 'zun/common/context.py', 'zun/common/policy.py', 'zun/tests/unit/api/controllers/v1/test_containers.py', 'zun/api/controllers/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/ccfc7c24182126cfa33a078d084d307cd6e935e4', 'message': 'Use policy for control the \'host\' field\n\nIn before, we manually remove the \'host\' field from container\nif the request was not made by admin users. This patch allows\noperators to define a policy to decide whether to expose\nthis field. This is more flexible.\n\nIn addition, the field removal logic is moved to \'format_container\'\nto ensure that the field was removed (by policy) in all HTTP\nmethods (instead of \'GET\' method only).\n\nThe policy is of the form ""container:get_one:<field_name>"".\nFor example, if the field is \'host\', the corresponding policy\nwould be ""container:get_one:host"". If there is no policy defined\nfor a field, this field is allowed. Otherwise, the visibility\nof this field is decided by the defined policy. The policy\nenforcement logic is extended to allow a field \'might_not_exist\'.\n\nChange-Id: I40a0bfb4c26b8b46218f36ae0da9043b0f40b10b\n'}]",2,561476,ccfc7c24182126cfa33a078d084d307cd6e935e4,24,6,5,11536,,,0,"Use policy for control the 'host' field

In before, we manually remove the 'host' field from container
if the request was not made by admin users. This patch allows
operators to define a policy to decide whether to expose
this field. This is more flexible.

In addition, the field removal logic is moved to 'format_container'
to ensure that the field was removed (by policy) in all HTTP
methods (instead of 'GET' method only).

The policy is of the form ""container:get_one:<field_name>"".
For example, if the field is 'host', the corresponding policy
would be ""container:get_one:host"". If there is no policy defined
for a field, this field is allowed. Otherwise, the visibility
of this field is decided by the defined policy. The policy
enforcement logic is extended to allow a field 'might_not_exist'.

Change-Id: I40a0bfb4c26b8b46218f36ae0da9043b0f40b10b
",git fetch https://review.opendev.org/openstack/zun refs/changes/76/561476/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/common/policies/container.py', 'zun/common/context.py', 'zun/common/policy.py', 'zun/api/controllers/v1/containers.py']",4,6c33d2157003f2c3aebc3b489c923839815ac0df,I0f06ae7775033d397d4e116817f92798a842405d,"from zun.common.policies import container as policies policy_action = policies.CONTAINER % ('get_all:' + filter_key) context.can(policy_action, might_not_exist=True) # strip 'host' field if policy doesn't allow if not context.can(policies.CONTAINER % 'get_all:host', fatal=False): # strip 'host' field if policy doesn't allow if not context.can(policies.CONTAINER % 'get_one:host', fatal=False):", if not context.is_admin: if not context.is_admin:,46,9
openstack%2Fneutron~master~Ice93acfc390aef2a9289c3eaa17d08651c88de20,openstack/neutron,master,Ice93acfc390aef2a9289c3eaa17d08651c88de20,DNM Debug fullstack SG test issue,ABANDONED,2018-02-28 09:48:05.000000000,2018-05-18 19:25:04.000000000,,"[{'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-28 09:48:05.000000000', 'files': ['requirements.txt', 'neutron/tests/base.py', 'neutron/tests/contrib/post_test_hook.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e49a3289b7b4b3a207248fff6daf8b8e3a2af120', 'message': 'DNM Debug fullstack SG test issue\n\nChange-Id: Ice93acfc390aef2a9289c3eaa17d08651c88de20\n'}]",0,548538,e49a3289b7b4b3a207248fff6daf8b8e3a2af120,33,5,1,11975,,,0,"DNM Debug fullstack SG test issue

Change-Id: Ice93acfc390aef2a9289c3eaa17d08651c88de20
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/548538/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron/tests/base.py', 'neutron/tests/contrib/post_test_hook.sh', 'tox.ini']",4,e49a3289b7b4b3a207248fff6daf8b8e3a2af120,bug/1744402, OS_TEST_TIMEOUT={env:OS_TEST_TIMEOUT:999999}, OS_TEST_TIMEOUT={env:OS_TEST_TIMEOUT:600},9,1
openstack%2Fshade~master~I56afc989bc8e8d41227cf2543c95adc43baa9807,openstack/shade,master,I56afc989bc8e8d41227cf2543c95adc43baa9807,Add 'on_chunk_cb' param to list_servers,ABANDONED,2018-05-18 18:42:24.000000000,2018-05-18 19:15:44.000000000,,[],"[{'number': 1, 'created': '2018-05-18 18:42:24.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/fa90c8e032a3c5cff1b6f194ac555ea889a7d641', 'message': ""Add 'on_chunk_cb' param to list_servers\n\nThis new param is useful for callers to use to implement\nsome kind of progress bar (or other) that shows what the\ncurrent chunk is. It is especially useful for large projects\nwhich have many current (or deleted) instances (which may\ntake a very long time to list).\n\nChange-Id: I56afc989bc8e8d41227cf2543c95adc43baa9807\n""}]",0,569491,fa90c8e032a3c5cff1b6f194ac555ea889a7d641,2,0,1,1297,,,0,"Add 'on_chunk_cb' param to list_servers

This new param is useful for callers to use to implement
some kind of progress bar (or other) that shows what the
current chunk is. It is especially useful for large projects
which have many current (or deleted) instances (which may
take a very long time to list).

Change-Id: I56afc989bc8e8d41227cf2543c95adc43baa9807
",git fetch https://review.opendev.org/openstack/shade refs/changes/91/569491/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,fa90c8e032a3c5cff1b6f194ac555ea889a7d641,," filters=None, on_chunk_cb=None): :param on_chunk_cb: A callback that will be called after each chunk of servers is loaded (if applicable). Useful for progress bars and various other reporting, especially when listing projects with a lot of servers. This callback will be called with two positional parameters, the first being the number of servers in the current chunk received and the second being the total number of servers known (before the chunk has been inserted). filters=filters, on_chunk_cb=on_chunk_cb) filters=None, on_chunk_cb=None): if on_chunk_cb is not None: on_chunk_cb(len(data['servers']), len(unprocessed_servers['servers']))", filters=None): filters=filters) filters=None):,17,3
openstack%2Fec2-api~master~Ic7ce4fda85fcf0861aff9a16615baa9955296fbc,openstack/ec2-api,master,Ic7ce4fda85fcf0861aff9a16615baa9955296fbc,fix error url,MERGED,2018-05-18 16:53:35.000000000,2018-05-18 19:00:11.000000000,2018-05-18 19:00:11.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 16:53:35.000000000', 'files': ['rally-scenarios/README.rst'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/c2f3da805585ae81163579d23a5bbe2ca2fb12ae', 'message': 'fix error url\n\nChange-Id: Ic7ce4fda85fcf0861aff9a16615baa9955296fbc\n'}]",0,569467,c2f3da805585ae81163579d23a5bbe2ca2fb12ae,6,2,1,17130,,,0,"fix error url

Change-Id: Ic7ce4fda85fcf0861aff9a16615baa9955296fbc
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/67/569467/1 && git format-patch -1 --stdout FETCH_HEAD,['rally-scenarios/README.rst'],1,c2f3da805585ae81163579d23a5bbe2ca2fb12ae,,* more about rally: https://rally.readthedocs.io/en/latest/ * how to add rally-gates: https://rally.readthedocs.io/en/latest/quick_start/gates.html,* more about rally: https://wiki.openstack.org/wiki/Rally * how to add rally-gates: https://wiki.openstack.org/wiki/Rally/RallyGates,2,2
openstack%2Fkolla-cli~master~I3df34e266a8f64f4f963ded51adf8879a324be30,openstack/kolla-cli,master,I3df34e266a8f64f4f963ded51adf8879a324be30,Enable py35 functional tests,MERGED,2018-05-18 14:25:37.000000000,2018-05-18 18:33:58.000000000,2018-05-18 18:33:58.000000000,"[{'_account_id': 16520}, {'_account_id': 22348}, {'_account_id': 24147}]","[{'number': 1, 'created': '2018-05-18 14:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/03f1ed5d7828504aad01cc7064b786b665f90bbf', 'message': 'Enable py35 functional tests\n\nThis change sets up the functional tests to run on py35 in CI\ntesting. It also fixed some import problems only seen in py35.\n\nPartially Implements: blueprint initial-testing\n\nChange-Id: I3df34e266a8f64f4f963ded51adf8879a324be30\n'}, {'number': 2, 'created': '2018-05-18 17:17:37.000000000', 'files': ['.zuul.yaml', 'kolla_cli/tests/functional/test_password.py', 'kolla_cli/tests/functional/README.txt', 'kolla_cli/tests/functional/test_support.py', 'kolla_cli/tests/functional/test_client_upgrade.py', 'kolla_cli/tests/functional/test_service.py', 'kolla_cli/tests/functional/test_property.py', 'kolla_cli/tests/functional/test_reconfigure.py', 'kolla_cli/tests/functional/test_destroy.py', 'kolla_cli/tests/functional/test_deploy.py', 'kolla_cli/tests/functional/test_host.py', 'kolla_cli/common/utils.py', 'kolla_cli/tests/functional/test_stop.py', 'tox.ini', 'kolla_cli/tests/functional/test_group.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/bca9db24ba5e4eefd737c03d6d4dba553971246a', 'message': ""Enable py35 functional tests\n\nThis change sets up the functional tests to run on py35 in CI\ntesting. This change also:\n- fixes some import problems only seen in py35.\n- removes obsolete/broken code that was needed when ansible\ndidn't support py3.\n\nPartially Implements: blueprint initial-testing\n\nChange-Id: I3df34e266a8f64f4f963ded51adf8879a324be30\n""}]",0,569428,bca9db24ba5e4eefd737c03d6d4dba553971246a,9,3,2,17386,,,0,"Enable py35 functional tests

This change sets up the functional tests to run on py35 in CI
testing. This change also:
- fixes some import problems only seen in py35.
- removes obsolete/broken code that was needed when ansible
didn't support py3.

Partially Implements: blueprint initial-testing

Change-Id: I3df34e266a8f64f4f963ded51adf8879a324be30
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/28/569428/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'kolla_cli/tests/functional/test_password.py', 'kolla_cli/tests/functional/test_support.py', 'kolla_cli/tests/functional/test_client_upgrade.py', 'kolla_cli/tests/functional/test_service.py', 'kolla_cli/tests/functional/test_property.py', 'kolla_cli/tests/functional/test_reconfigure.py', 'kolla_cli/tests/functional/test_destroy.py', 'kolla_cli/tests/functional/test_deploy.py', 'kolla_cli/tests/functional/test_host.py', 'kolla_cli/tests/functional/test_stop.py', 'tox.ini', 'kolla_cli/tests/functional/test_group.py']",13,03f1ed5d7828504aad01cc7064b786b665f90bbf,bp/initial-testing,from kolla_cli.tests.functional.common import KollaCliTest,from common import KollaCliTest,35,12
openstack%2Fironic~master~I098fb0033cde01a18136bb921a43f4897567aa35,openstack/ironic,master,I098fb0033cde01a18136bb921a43f4897567aa35,Add documentation for XClarity Driver,ABANDONED,2018-03-05 01:18:19.000000000,2018-05-18 18:31:56.000000000,,"[{'_account_id': 7198}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 25547}]","[{'number': 1, 'created': '2018-03-05 01:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bde402c8feb5970dc44dc369a7965a6828a44832', 'message': 'Add documentation for XClarity Driver\n\nThis patch proposes to document the steps required\nto configure the XClarity Hardware Type.\n\nChange-Id: I098fb0033cde01a18136bb921a43f4897567aa35\n'}, {'number': 2, 'created': '2018-03-22 22:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/984a7d270adfebe1d6a33b1a15c3aadac5c9b8ed', 'message': 'Add documentation for XClarity Driver\n\nThis patch proposes to document the steps required\nto configure the XClarity Hardware Type.\n\nChange-Id: I098fb0033cde01a18136bb921a43f4897567aa35\n'}, {'number': 3, 'created': '2018-03-23 03:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2725b9eba03043da686566ff15a73bd29ceed6ba', 'message': 'Add documentation for XClarity Driver\n\nThis patch proposes to document the steps required\nto configure the XClarity Hardware Type.\n\nChange-Id: I098fb0033cde01a18136bb921a43f4897567aa35\n'}, {'number': 4, 'created': '2018-03-28 21:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/47835ec693b2b77c054276c383b1d1cc94dd214c', 'message': 'Add documentation for XClarity Driver\n\nThis patch proposes to document the steps required\nto configure the XClarity Hardware Type.\n\nChange-Id: I098fb0033cde01a18136bb921a43f4897567aa35\n'}, {'number': 5, 'created': '2018-03-28 22:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c85c869c1c894f34a607f3ac9e0928e1d049621d', 'message': 'Add documentation for XClarity Driver\n\nThis patch proposes to document the steps required\nto configure the XClarity Hardware Type.\n\nChange-Id: I098fb0033cde01a18136bb921a43f4897567aa35\n'}, {'number': 6, 'created': '2018-04-09 09:38:44.000000000', 'files': ['doc/source/admin/drivers.rst', 'doc/source/admin/drivers/xclarity.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/03a3d75c3dd7540ee83655f3eb912419d03d15f0', 'message': 'Add documentation for XClarity Driver\n\nThis patch proposes to document the steps required\nto configure the XClarity Hardware Type.\n\nChange-Id: I098fb0033cde01a18136bb921a43f4897567aa35\n'}]",3,549659,03a3d75c3dd7540ee83655f3eb912419d03d15f0,26,7,6,11878,,,0,"Add documentation for XClarity Driver

This patch proposes to document the steps required
to configure the XClarity Hardware Type.

Change-Id: I098fb0033cde01a18136bb921a43f4897567aa35
",git fetch https://review.opendev.org/openstack/ironic refs/changes/59/549659/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/drivers/xclarity.rst'],1,bde402c8feb5970dc44dc369a7965a6828a44832,549659,"=============== XClarity driver =============== Overview ======== The ``xclarity`` driver is targeted for IMM 2.0 and IMM 3.0 managed Lenovo servers. The xclarity hardware type enables the user to take advantage of XClarity Manager by using the XClarity Python Client. Prerequisites ============= * The XClarity Client library should be installed on the ironic conductor node(s). For example, it can be installed with ``pip``:: sudo pip install python-xclarityclient Enabling the XClarity driver ============================ #. Add ``xclarity`` to the list of ``enabled_hardware_types``, ``enabled_power_interfaces`` and ``enabled_management_interfaces`` in ``/etc/ironic/ironic.conf``. For example:: [DEFAULT] ... enabled_hardware_types = ipmi,xclarity enabled_power_interfaces = ipmitool,xclarity enabled_management_interfaces = ipmitool,xclarity #. Restart the ironic conductor service:: sudo service ironic-conductor restart # Or, for RDO: sudo systemctl restart openstack-ironic-conductor Registering a node with the XClarity driver =========================================== Nodes configured to use the driver should have the ``driver`` property set to ``xclarity``. The following properties are specified in the node's ``driver_info`` field: - ``xclarity_address``: The URL address to the XClarity Controller. Default is https. This is required. - ``xclarity_username``: User account with admin/server-profile access privilege to the XClarity controller. This is required. - ``xclarity_password``: User account password corresponding to the xclarity_username to the XClarity controller. This is required. The ``openstack baremetal node create`` command can be used to enroll a node with the ``xclarity`` driver. For example: .. code-block:: bash openstack baremetal node create --driver xclarity --driver-info \ xclarity_address=https://example.com --driver-info \ xclarity_username=admin --driver-info xclarity_password=password For more information about enrolling nodes see :ref:`enrollment` in the install guide. .. _XClarity: http://www3.lenovo.com/us/en/data-center/software/systems-management/xclarity/ .. _XClarity Client: http://pypi.org/project/python-xclarityclient/ ",,75,0
openstack%2Fcyborg~master~Ib932f9fe27bf7fc08c3f334acc6b3da6cfd0489f,openstack/cyborg,master,Ib932f9fe27bf7fc08c3f334acc6b3da6cfd0489f,"change service type to ""accelerator""",MERGED,2018-05-16 09:30:37.000000000,2018-05-18 18:30:27.000000000,2018-05-18 18:30:27.000000000,"[{'_account_id': 11878}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 23735}, {'_account_id': 27458}]","[{'number': 1, 'created': '2018-05-16 09:30:37.000000000', 'files': ['devstack/lib/cyborg'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2e10d2011077b593418148ed961b2453204e2c0b', 'message': 'change service type to ""accelerator""\n\nAs we discussed in irc meeting, we use ""accelerator"" as service type.\n\nChange-Id: Ib932f9fe27bf7fc08c3f334acc6b3da6cfd0489f\n'}]",0,568799,2e10d2011077b593418148ed961b2453204e2c0b,9,5,1,14131,,,0,"change service type to ""accelerator""

As we discussed in irc meeting, we use ""accelerator"" as service type.

Change-Id: Ib932f9fe27bf7fc08c3f334acc6b3da6cfd0489f
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/99/568799/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/cyborg'],1,2e10d2011077b593418148ed961b2453204e2c0b,acc-type," get_or_create_service ""cyborg"" ""accelerator"" ""Cyborg Accelerators Service"""," get_or_create_service ""cyborg"" ""acceleration"" ""Cyborg Accelerators Service""",1,1
openstack%2Fnova~master~I247ddc8bb344a6821ddeb4ce18f38591dec481ee,openstack/nova,master,I247ddc8bb344a6821ddeb4ce18f38591dec481ee,Fix typo in NUMATopologyFilter docs,MERGED,2018-02-12 15:49:18.000000000,2018-05-18 18:18:17.000000000,2018-05-18 18:18:17.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7166}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-12 15:49:18.000000000', 'files': ['doc/source/admin/configuration/schedulers.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/b72d307e7c6ec29d9367962f47c6a1cfc2af06f7', 'message': 'Fix typo in NUMATopologyFilter docs\n\nThis copies similar wording from the Filter Scheduler docs [1]\nand applies it in the scheduler configuration guide for the\nNUMATopologyFilter.\n\n[1] https://docs.openstack.org/nova/latest/user/filter-scheduler.html\n\nChange-Id: I247ddc8bb344a6821ddeb4ce18f38591dec481ee\n'}]",2,543505,b72d307e7c6ec29d9367962f47c6a1cfc2af06f7,15,10,1,6873,,,0,"Fix typo in NUMATopologyFilter docs

This copies similar wording from the Filter Scheduler docs [1]
and applies it in the scheduler configuration guide for the
NUMATopologyFilter.

[1] https://docs.openstack.org/nova/latest/user/filter-scheduler.html

Change-Id: I247ddc8bb344a6821ddeb4ce18f38591dec481ee
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/543505/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/schedulers.rst'],1,b72d307e7c6ec29d9367962f47c6a1cfc2af06f7,fix-numa-toplogy-filter-typo,"will consider the standard over-subscription limits for each host NUMA cell, and provide limits to the compute host accordingly.","will consider the standard over-subscription limits each cell, and provide limits to the compute host accordingly.",2,2
openstack%2Fcontributor-guide~master~I838a85ecc43faeb8820b8dfb741f2a64d79c041c,openstack/contributor-guide,master,I838a85ecc43faeb8820b8dfb741f2a64d79c041c,Add introductions to the chapters,MERGED,2018-05-17 21:15:48.000000000,2018-05-18 18:17:52.000000000,2018-05-18 18:17:52.000000000,"[{'_account_id': 6547}, {'_account_id': 9562}, {'_account_id': 16708}, {'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 21:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/b0f472bc4e50804c2992b044bfd8472142cc18a6', 'message': 'Add introductions to the chapters\n\nMove the current introduction from Code and Documentation to a\nstandalone chapter to introduce OpenStack and add new introduction\nto every chapter to summarize the content and purpose there.\n\nStory: 2001915\n\nTask: 14434\nTask: 14435\nTask: 14436\nTask: 14437\n\nChange-Id: I838a85ecc43faeb8820b8dfb741f2a64d79c041c\n'}, {'number': 2, 'created': '2018-05-18 12:58:21.000000000', 'files': ['doc/source/code-and-documentation/introduction.rst', 'doc/source/index.rst', 'doc/source/operators/introduction.rst', 'doc/source/code-and-documentation/index.rst', 'doc/source/operators/index.rst', 'doc/source/users/index.rst', 'doc/source/users/introduction.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/e1903275582ae781ff3f37feb4aaacb8919dfc7a', 'message': 'Add introductions to the chapters\n\nMove the current introduction from Code and Documentation to a\nstandalone chapter to introduce OpenStack and add new introduction\nto every chapter to summarize the content and purpose there.\n\nStory: 2001915\n\nTask: 14434\nTask: 14435\nTask: 14436\nTask: 14437\n\nChange-Id: I838a85ecc43faeb8820b8dfb741f2a64d79c041c\n'}]",8,569260,e1903275582ae781ff3f37feb4aaacb8919dfc7a,12,5,2,9562,,,0,"Add introductions to the chapters

Move the current introduction from Code and Documentation to a
standalone chapter to introduce OpenStack and add new introduction
to every chapter to summarize the content and purpose there.

Story: 2001915

Task: 14434
Task: 14435
Task: 14436
Task: 14437

Change-Id: I838a85ecc43faeb8820b8dfb741f2a64d79c041c
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/60/569260/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/code-and-documentation/introduction.rst', 'doc/source/index.rst', 'doc/source/operators/introduction.rst', 'doc/source/code-and-documentation/index.rst', 'doc/source/operators/index.rst', 'doc/source/users/index.rst', 'doc/source/users/introduction.rst']",7,b0f472bc4e50804c2992b044bfd8472142cc18a6,introductions,"############ Introduction ############ OpenStack is running in production all around the globe addressing use cases from all parts of the industry. OpenStack is not just a community for developers, but we are encouraging users as well to participate in the community to share feedback and views on emerging use cases and requirements to address. To find documentation on how to deploy and run OpenStack you can look up the `OpenStack Manuals <https://docs.openstack.org/>`_ web page. ",,48,1
openstack%2Fcontributor-guide~master~I063ddc9d677ce68c847081e1c6490db751257f4f,openstack/contributor-guide,master,I063ddc9d677ce68c847081e1c6490db751257f4f,Add information on the Sandbox projects,MERGED,2018-05-17 14:48:10.000000000,2018-05-18 18:13:40.000000000,2018-05-18 18:13:40.000000000,"[{'_account_id': 6547}, {'_account_id': 9562}, {'_account_id': 14482}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 14:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/bf33e0494efe9f7a3f3396c8c73174864658e141', 'message': 'Add information on the Sandbox projects\n\nThis change adds information about the Git sandbox repository and\nthe Sandbox projects in Launchpad and StoryBoard.\n\nStory: 2001360\n\nTask: 5924\n\nChange-Id: I063ddc9d677ce68c847081e1c6490db751257f4f\n'}, {'number': 2, 'created': '2018-05-17 14:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/87d27444723edd42510c9ba8cd8d00fa941ecc0a', 'message': 'Add information on the Sandbox projects\n\nThis change adds information about the Git sandbox repository and\nthe Sandbox projects in Launchpad and StoryBoard.\n\nStory: 2001360\n\nTask: 5924\n\nChange-Id: I063ddc9d677ce68c847081e1c6490db751257f4f\n'}, {'number': 3, 'created': '2018-05-17 17:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/31c50eb0b7e39ec488c979e72770dd105b4fb4dd', 'message': 'Add information on the Sandbox projects\n\nThis change adds information about the Git sandbox repository and\nthe Sandbox projects in Launchpad and StoryBoard.\n\nStory: 2001360\n\nTask: 5924\n\nChange-Id: I063ddc9d677ce68c847081e1c6490db751257f4f\n'}, {'number': 4, 'created': '2018-05-18 12:52:30.000000000', 'files': ['doc/source/common/task-tracking.rst', 'doc/source/code-and-documentation/index.rst', 'doc/source/common/git.rst', 'doc/source/code-and-documentation/sandbox-house-rules.rst', 'doc/source/code-and-documentation/using-gerrit.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/1e1760476ea5acc2f501f3244ceab1c4b018f1f9', 'message': 'Add information on the Sandbox projects\n\nThis change adds information about the Git sandbox repository and\nthe Sandbox projects in Launchpad and StoryBoard.\n\nStory: 2001360\n\nTask: 5924\n\nChange-Id: I063ddc9d677ce68c847081e1c6490db751257f4f\n'}]",13,569135,1e1760476ea5acc2f501f3244ceab1c4b018f1f9,21,5,4,9562,,,0,"Add information on the Sandbox projects

This change adds information about the Git sandbox repository and
the Sandbox projects in Launchpad and StoryBoard.

Story: 2001360

Task: 5924

Change-Id: I063ddc9d677ce68c847081e1c6490db751257f4f
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/35/569135/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/common/task-tracking.rst', 'doc/source/code-and-documentation/index.rst', 'doc/source/common/git.rst', 'doc/source/code-and-documentation/sandbox-house-rules.rst', 'doc/source/code-and-documentation/using-gerrit.rst']",5,bf33e0494efe9f7a3f3396c8c73174864658e141,sandbox,.. _gerrit: ,,78,0
openstack%2Floci~master~I7c8bfbb89f13db1c251e762dfaf2020fa1f2fdc8,openstack/loci,master,I7c8bfbb89f13db1c251e762dfaf2020fa1f2fdc8,Fix enum-compat in a better way,MERGED,2018-05-18 15:53:00.000000000,2018-05-18 18:07:26.000000000,2018-05-18 18:07:26.000000000,"[{'_account_id': 2243}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-18 15:53:00.000000000', 'files': ['scripts/requirements.sh', 'playbooks/loci-builder.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/0d4142f12b16b51fbef0609e3129c0bd65673bcd', 'message': 'Fix enum-compat in a better way\n\nUpstream requirements generator has a bug and is not pulling in\nenum-compat. lower-contraints.txt has it strangely. This is the quick\nfix to the issue.\n\nChange-Id: I7c8bfbb89f13db1c251e762dfaf2020fa1f2fdc8\n'}]",0,569451,0d4142f12b16b51fbef0609e3129c0bd65673bcd,7,3,1,14119,,,0,"Fix enum-compat in a better way

Upstream requirements generator has a bug and is not pulling in
enum-compat. lower-contraints.txt has it strangely. This is the quick
fix to the issue.

Change-Id: I7c8bfbb89f13db1c251e762dfaf2020fa1f2fdc8
",git fetch https://review.opendev.org/openstack/loci refs/changes/51/569451/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/requirements.sh', 'playbooks/loci-builder.yaml']",2,0d4142f12b16b51fbef0609e3129c0bd65673bcd,enum,," buildargs: # NOTE(SamYaple): enum-compat isnt in upper-constraints yet PIP_PACKAGES: ""enum-compat""",1,4
openstack%2Ftraining-guides~master~I7b945fdc654a2a9e0be2d0f2b8bc698cdab8e482,openstack/training-guides,master,I7b945fdc654a2a9e0be2d0f2b8bc698cdab8e482,Removes old things in details and corrects numbers,MERGED,2018-05-18 17:00:29.000000000,2018-05-18 18:02:28.000000000,2018-05-18 18:02:28.000000000,"[{'_account_id': 16708}, {'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 17:00:29.000000000', 'files': ['doc/upstream-training/source/website/upstream-details.rst', 'doc/upstream-training/source/website/index.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/6cad422371d768cbc2fe6d05b6479cb3714b5c4b', 'message': ""Removes old things in details and corrects numbers\n\n- In details page, outline is too old (for Kilo).\n  Since it cannot reflect current structure, let's delete it.\n- 2,000 developers -> 6,000 developers according to\n  http://activity.openstack.org and\n  http://stackalytics.com/?release=all&metric=commits\n- Shows organizers with bullets\n- Changes an unused ref to docs tag for preparation\n- Fixes some typos\n\nChange-Id: I7b945fdc654a2a9e0be2d0f2b8bc698cdab8e482\n""}]",0,569469,6cad422371d768cbc2fe6d05b6479cb3714b5c4b,7,3,1,14482,,,0,"Removes old things in details and corrects numbers

- In details page, outline is too old (for Kilo).
  Since it cannot reflect current structure, let's delete it.
- 2,000 developers -> 6,000 developers according to
  http://activity.openstack.org and
  http://stackalytics.com/?release=all&metric=commits
- Shows organizers with bullets
- Changes an unused ref to docs tag for preparation
- Fixes some typos

Change-Id: I7b945fdc654a2a9e0be2d0f2b8bc698cdab8e482
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/69/569469/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/website/upstream-details.rst', 'doc/upstream-training/source/website/index.rst']",2,6cad422371d768cbc2fe6d05b6479cb3714b5c4b,details-and-numbers,"With over 6,000 developers from over 300 different organizations worldwide,project's technical tools and social interactions in order to get their- Ildiko Vancsa: ildiko@openstack.org - Kendall Nelson: knelson@openstack.org","With over 2,000 developers from over 300 different organizations worldwide,project’s technical tools and social interactions in order to get theirIldiko Vancsa: ildiko@openstack.org Kendall Nelson: knelson@openstack.org",14,195
openstack%2Ftraining-guides~master~I4016470d392f92e779f4873c99e1785dab25f325,openstack/training-guides,master,I4016470d392f92e779f4873c99e1785dab25f325,[upstream] Small fixes,MERGED,2018-05-18 16:26:07.000000000,2018-05-18 18:00:21.000000000,2018-05-18 18:00:21.000000000,"[{'_account_id': 9562}, {'_account_id': 14482}, {'_account_id': 16708}, {'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 16:26:07.000000000', 'files': ['doc/upstream-training/source/slides/slide-index.rst', 'doc/upstream-training/source/slides/howitsmade-governance.rst', 'doc/upstream-training/source/website/upstream-training-content.rst', 'doc/upstream-training/source/slides/howitsmade-official-projects.rst', 'doc/upstream-training/source/slides/workflow-commit-message.rst', 'doc/upstream-training/source/slides/howitsmade-events.rst', 'doc/upstream-training/source/slides/howitsmade-communication.rst', 'doc/upstream-training/source/website/upstream-archives.rst', 'doc/upstream-training/source/slides/archive-metrics.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/c6d07df22b4a193fa2c93ff7bcd47c36c6a721fb', 'message': ""[upstream] Small fixes\n\nThe change fixes small inconsistencies in the slides and a duplicated\nexercise number.\n\nIt also moves the metrics slides to the archive for now as we don't\nuse them and we need to figure out how to cover the topic in the\nContributor Guide.\n\nChange-Id: I4016470d392f92e779f4873c99e1785dab25f325\n""}]",0,569460,c6d07df22b4a193fa2c93ff7bcd47c36c6a721fb,9,5,1,9562,,,0,"[upstream] Small fixes

The change fixes small inconsistencies in the slides and a duplicated
exercise number.

It also moves the metrics slides to the archive for now as we don't
use them and we need to figure out how to cover the topic in the
Contributor Guide.

Change-Id: I4016470d392f92e779f4873c99e1785dab25f325
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/60/569460/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/slides/slide-index.rst', 'doc/upstream-training/source/slides/howitsmade-governance.rst', 'doc/upstream-training/source/slides/howitsmade-official-projects.rst', 'doc/upstream-training/source/website/upstream-training-content.rst', 'doc/upstream-training/source/slides/workflow-commit-message.rst', 'doc/upstream-training/source/slides/howitsmade-events.rst', 'doc/upstream-training/source/slides/howitsmade-communication.rst', 'doc/upstream-training/source/website/upstream-archives.rst', 'doc/upstream-training/source/slides/archive-metrics.rst']",9,c6d07df22b4a193fa2c93ff7bcd47c36c6a721fb,small-fixes,,,11,11
openstack%2Fmanila~master~Idcacfb6dbfb0760128f10dbc0573856e4250b3bc,openstack/manila,master,Idcacfb6dbfb0760128f10dbc0573856e4250b3bc,Fix manila-tempest-*-centos-7 jobs,MERGED,2018-05-18 08:23:55.000000000,2018-05-18 18:00:17.000000000,2018-05-18 18:00:17.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-05-18 08:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a3016fdaab13faa1807407548203d24e7dc384e2', 'message': ""Fix manila-tempest-*-centos-7 jobs\n\nThere was a recent change announced on the CentOS\nmailing lists [1] regarding housing centos-release-SIG\nrepos for CPU architectures other than x86_64. We rely on\ncentos-release-pike within our test jobs and the\nrepo centos-qemu-ev is found under [2].\n\nThere is now a YUM variable called $contentdir\nwhich determines where the repos may be, and this\nvariable isn't set in the base images.\n\nWith $contentdir set, the URLs resolve correctly\nwithin /etc/yum.repos.d/CentOS-QEMU-EV.repo.\n\nSee corresponding fixes for kolla [3] and\ntripleo-quickstart-extras [4]\n\n[1] https://lists.centos.org/pipermail/centos-devel/2018-March/016542.html\n[2] http://mirror.centos.org/centos/7/virt/x86_64/kvm-common\n[3] Ieb26c0aa65ba3ec1a45a33f87f670e5ecb782f82\n[4] I6279bd4088bd87f37c58b7da25b675c5456506d6\n\nChange-Id: Idcacfb6dbfb0760128f10dbc0573856e4250b3bc\nCloses-Bug: #1771969\n""}, {'number': 2, 'created': '2018-05-18 08:24:58.000000000', 'files': ['playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm-centos-7/run.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/227709ba9b58b004c0aaf13fda2c8483d796e5b3', 'message': ""Fix manila-tempest-*-centos-7 jobs\n\nThere was a recent change announced on the CentOS\nmailing lists [1] regarding housing centos-release-SIG\nrepos for CPU architectures other than x86_64. We rely on\ncentos-release-pike within our test jobs and the\nrepo centos-qemu-ev is found under [2].\n\nThere is now a YUM variable called $contentdir\nwhich determines where the repos may be, and this\nvariable isn't set in the base images.\n\nWith $contentdir set, the URLs resolve correctly\nwithin /etc/yum.repos.d/CentOS-QEMU-EV.repo.\n\nSee corresponding fixes for kolla [3] and\ntripleo-quickstart-extras [4]\n\n[1] https://lists.centos.org/pipermail/centos-devel/2018-March/016542.html\n[2] http://mirror.centos.org/centos/7/virt/x86_64/kvm-common\n[3] Ieb26c0aa65ba3ec1a45a33f87f670e5ecb782f82\n[4] I6279bd4088bd87f37c58b7da25b675c5456506d6\n\nChange-Id: Idcacfb6dbfb0760128f10dbc0573856e4250b3bc\nCloses-Bug: #1771969\n""}]",0,569360,227709ba9b58b004c0aaf13fda2c8483d796e5b3,17,12,2,16643,,,0,"Fix manila-tempest-*-centos-7 jobs

There was a recent change announced on the CentOS
mailing lists [1] regarding housing centos-release-SIG
repos for CPU architectures other than x86_64. We rely on
centos-release-pike within our test jobs and the
repo centos-qemu-ev is found under [2].

There is now a YUM variable called $contentdir
which determines where the repos may be, and this
variable isn't set in the base images.

With $contentdir set, the URLs resolve correctly
within /etc/yum.repos.d/CentOS-QEMU-EV.repo.

See corresponding fixes for kolla [3] and
tripleo-quickstart-extras [4]

[1] https://lists.centos.org/pipermail/centos-devel/2018-March/016542.html
[2] http://mirror.centos.org/centos/7/virt/x86_64/kvm-common
[3] Ieb26c0aa65ba3ec1a45a33f87f670e5ecb782f82
[4] I6279bd4088bd87f37c58b7da25b675c5456506d6

Change-Id: Idcacfb6dbfb0760128f10dbc0573856e4250b3bc
Closes-Bug: #1771969
",git fetch https://review.opendev.org/openstack/manila refs/changes/60/569360/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm-centos-7/run.yaml']",3,a3016fdaab13faa1807407548203d24e7dc384e2,bug/1771969," - name: Check for /etc/yum/vars/contentdir stat: path: /etc/yum/vars/contentdir register: yum_contentdir - when: not yum_contentdir.stat.exists block: - name: Discover package architecture command: rpm -q --qf ""%{arch}"" -f /etc/redhat-release register: rpm_arch - debug: msg: Package architecture is '{{ rpm_arch.stdout }}' - name: Set contentdir to altarch set_fact: yum_contentdir: altarch when: rpm_arch.stdout in ['aarch64', 'ppc64le'] - name: Populate /etc/yum/vars/contentdir copy: dest: /etc/yum/vars/contentdir content: ""{{ yum_contentdir|default('centos') }}"" become: true ",,78,0
openstack%2Fsenlin~master~I5b6662e0e08f01ed720778bf3d8313a1ffe68aa9,openstack/senlin,master,I5b6662e0e08f01ed720778bf3d8313a1ffe68aa9,Add retry_on_deadlock to policy operations,MERGED,2018-05-16 23:50:52.000000000,2018-05-18 17:52:44.000000000,2018-05-18 17:52:44.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}, {'_account_id': 23630}, {'_account_id': 25674}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-05-16 23:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/bb0f43bc70b5ada2bfd9b6390286ca2194bf31e5', 'message': 'Add retry_on_deadlock to policy operations\n\nI believe that policy detach needs a retry on deadlock added to it\nas it is an operation that requires the cluster to be locked.\n\nInput on this would be helpful.\n\nChange-Id: I5b6662e0e08f01ed720778bf3d8313a1ffe68aa9\n'}, {'number': 2, 'created': '2018-05-16 23:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/8f3fc79ca61977fa5ea7e90c8ec6f284a1fb0436', 'message': 'Add retry_on_deadlock to policy operations\n\nI believe that policy detach needs a retry on deadlock added to it\nas it is an operation that requires the cluster to be locked.\n\nInput on this would be helpful.\n\nChange-Id: I5b6662e0e08f01ed720778bf3d8313a1ffe68aa9\n'}, {'number': 3, 'created': '2018-05-17 17:28:07.000000000', 'files': ['senlin/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/fca63bdca169e36fd093853ca4aa0036cec62c91', 'message': 'Add retry_on_deadlock to policy operations\n\nI believe that policy detach needs a retry on deadlock added to it\nas it is an operation that requires the cluster to be locked.\n\nInput on this would be helpful.\n\nChange-Id: I5b6662e0e08f01ed720778bf3d8313a1ffe68aa9\n'}]",3,568985,fca63bdca169e36fd093853ca4aa0036cec62c91,19,6,3,25674,,,0,"Add retry_on_deadlock to policy operations

I believe that policy detach needs a retry on deadlock added to it
as it is an operation that requires the cluster to be locked.

Input on this would be helpful.

Change-Id: I5b6662e0e08f01ed720778bf3d8313a1ffe68aa9
",git fetch https://review.opendev.org/openstack/senlin refs/changes/85/568985/3 && git format-patch -1 --stdout FETCH_HEAD,['senlin/db/sqlalchemy/api.py'],1,bb0f43bc70b5ada2bfd9b6390286ca2194bf31e5,policy_retry,@retry_on_deadlock@retry_on_deadlock,,2,1
openstack%2Fswift~feature%2Fdeep-review~I5b3620de6c62e8f75cdabf111422124a5da0b7e2,openstack/swift,feature/deep-review,I5b3620de6c62e8f75cdabf111422124a5da0b7e2,SQUASH: wrap a timeout around send() in direct_put_container,ABANDONED,2018-05-17 01:13:34.000000000,2018-05-18 17:49:49.000000000,,"[{'_account_id': 2622}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 01:13:34.000000000', 'files': ['test/unit/common/test_direct_client.py', 'swift/common/direct_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/450e839f8152747d88c2de556854d39d424d358f', 'message': ""SQUASH: wrap a timeout around send() in direct_put_container\n\nAlso mock out Timeout in the direct-client tests so that they won't\nfail on very slow machines.\n\nChange-Id: I5b3620de6c62e8f75cdabf111422124a5da0b7e2\n""}]",1,568993,450e839f8152747d88c2de556854d39d424d358f,6,3,1,2622,,,0,"SQUASH: wrap a timeout around send() in direct_put_container

Also mock out Timeout in the direct-client tests so that they won't
fail on very slow machines.

Change-Id: I5b3620de6c62e8f75cdabf111422124a5da0b7e2
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/568993/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_direct_client.py', 'swift/common/direct_client.py']",2,450e839f8152747d88c2de556854d39d424d358f,rev8," conn_timeout=5, response_timeout=15, send_timeout=15, contents=None, content_length=None, chunk_size=65535): :param send_timeout: timeout for sending request body; default is 15 seconds with Timeout(send_timeout): if content_length is None: while chunk: conn.send('%x\r\n%s\r\n' % (len(chunk), chunk)) chunk = contents_f.read(chunk_size) conn.send('0\r\n\r\n') else: left = content_length while left > 0: size = chunk_size if size > left: size = left chunk = contents_f.read(size) if not chunk: break conn.send(chunk) left -= len(chunk)"," conn_timeout=5, response_timeout=15, contents=None, content_length=None, chunk_size=65535): if content_length is None: chunk = contents_f.read(chunk_size) while chunk: conn.send('%x\r\n%s\r\n' % (len(chunk), chunk)) conn.send('0\r\n\r\n') else: left = content_length while left > 0: size = chunk_size if size > left: size = left chunk = contents_f.read(size) if not chunk: break conn.send(chunk) left -= len(chunk)",30,18
openstack%2Fswift~feature%2Fdeep-review~If83c48e798a970591f1944aafbc7a71895b896e2,openstack/swift,feature/deep-review,If83c48e798a970591f1944aafbc7a71895b896e2,SQUASH: test find_shard_range with overlaps,ABANDONED,2018-05-15 17:47:08.000000000,2018-05-18 17:44:01.000000000,,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 17:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a2dae02206f7871e74585043c6983caa04d922ad', 'message': 'SQUASH: test find_shard_range with overlaps\n\nChange-Id: If83c48e798a970591f1944aafbc7a71895b896e2\n'}, {'number': 2, 'created': '2018-05-15 17:57:35.000000000', 'files': ['test/unit/container/test_backend.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/47d1666a012c00eeb5bc0dff66f9da728213c4cf', 'message': 'SQUASH: test find_shard_range with overlaps\n\nChange-Id: If83c48e798a970591f1944aafbc7a71895b896e2\n'}]",6,568651,47d1666a012c00eeb5bc0dff66f9da728213c4cf,6,3,2,7847,,,0,"SQUASH: test find_shard_range with overlaps

Change-Id: If83c48e798a970591f1944aafbc7a71895b896e2
",git fetch https://review.opendev.org/openstack/swift refs/changes/51/568651/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_backend.py', 'test/unit/common/test_utils.py']",2,a2dae02206f7871e74585043c6983caa04d922ad,rev7," # add some sub-shards; a sub-shard's state is less than its parent # while the parent is undeleted, so insert these ahead of the # overlapping parent in the list of ranges ftoh = utils.ShardRange('a/f-h', ts, 'f', 'h') htok = utils.ShardRange('a/h-k', ts, 'h', 'k') ktol = utils.ShardRange('a/k-l', ts, 'k', 'l') ranges = ranges[:2] + [ftoh, htok, ktol] + ranges[2:] found = utils.find_shard_range('g', ranges) self.assertEqual(found, ftoh) found = utils.find_shard_range('h', ranges) self.assertEqual(found, ftoh) found = utils.find_shard_range('k', ranges) self.assertEqual(found, htok) found = utils.find_shard_range('l', ranges) self.assertEqual(found, ktol) found = utils.find_shard_range('m', ranges) self.assertEqual(found, ltor) ",,31,2
openstack%2Fswift~feature%2Fdeep-review~I168fdb43acfba774984a801b7ecbb11615eb5186,openstack/swift,feature/deep-review,I168fdb43acfba774984a801b7ecbb11615eb5186,SQUASH: clarify conditions for being able to shard a db,ABANDONED,2018-05-17 18:48:37.000000000,2018-05-18 17:43:32.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 18:48:37.000000000', 'files': ['test/unit/container/test_replicator.py', 'swift/container/replicator.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d380f4b27705e53064a27d3dc4e3fa12cc6729f2', 'message': 'SQUASH: clarify conditions for being able to shard a db\n\nBefore, object rows would not be replicated if a db had shard\nranges. However, in order to shard the db must also have its\nown shard range in a state > ACTIVE, so this should be included\nin the condition for not replicating object rows.\n\nSimilarly, a db can only be considered to require sharding if\nit has an own shard range in state > ACTIVE.\n\nChange-Id: I168fdb43acfba774984a801b7ecbb11615eb5186\n'}]",4,569221,d380f4b27705e53064a27d3dc4e3fa12cc6729f2,5,3,1,7847,,,0,"SQUASH: clarify conditions for being able to shard a db

Before, object rows would not be replicated if a db had shard
ranges. However, in order to shard the db must also have its
own shard range in a state > ACTIVE, so this should be included
in the condition for not replicating object rows.

Similarly, a db can only be considered to require sharding if
it has an own shard range in state > ACTIVE.

Change-Id: I168fdb43acfba774984a801b7ecbb11615eb5186
",git fetch https://review.opendev.org/openstack/swift refs/changes/21/569221/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_replicator.py', 'swift/container/replicator.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py']",4,d380f4b27705e53064a27d3dc4e3fa12cc6729f2,rev9," """""" Returns the current state of on disk db files. """""" def sharding_initiated(self): """""" Returns True if a broker has shard range state that would be necessary for sharding to have been initiated, False otherwise. """""" own_shard_range = self.get_own_shard_range() if own_shard_range.state in (ShardRange.SHARDING, ShardRange.SHRINKING, ShardRange.SHARDED): return bool(self.get_shard_ranges()) return False def sharding_required(self): """""" Returns True if a broker has shard range state that would be necessary for sharding to have been initiated but has not yet completed sharding, False otherwise. """""" (db_state == UNSHARDED and self.sharding_initiated()))", def requires_sharding(self): (db_state == UNSHARDED and bool(self.get_shard_ranges()))),91,48
openstack%2Fopenstack-ansible~stable%2Fpike~I18e88956217e8ec822a9efb7c972de857b62e70f,openstack/openstack-ansible,stable/pike,I18e88956217e8ec822a9efb7c972de857b62e70f,Remove pip_conf_file check,MERGED,2018-05-18 11:02:55.000000000,2018-05-18 17:33:12.000000000,2018-05-18 17:33:12.000000000,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-18 11:02:55.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/56099d79110a5958cb39451d539c36b5cc8a408a', 'message': ""Remove pip_conf_file check\n\nWhen executed outside of OpenStack-CI, the following error shows:\n\nThe conditional check 'not pip_conf_file.stat.exists' failed.\n\nIn [1] the check removed in this patch was omitted by mistake.\n\n[1] https://review.openstack.org/568571\n\nChange-Id: I18e88956217e8ec822a9efb7c972de857b62e70f\n""}]",0,569387,56099d79110a5958cb39451d539c36b5cc8a408a,8,4,1,6816,,,0,"Remove pip_conf_file check

When executed outside of OpenStack-CI, the following error shows:

The conditional check 'not pip_conf_file.stat.exists' failed.

In [1] the check removed in this patch was omitted by mistake.

[1] https://review.openstack.org/568571

Change-Id: I18e88956217e8ec822a9efb7c972de857b62e70f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/87/569387/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'],1,56099d79110a5958cb39451d539c36b5cc8a408a,,, when: not pip_conf_file.stat.exists,0,1
openstack%2Ftraining-guides~master~Ibf58343632c09d262b042d1235f49c0efa635952,openstack/training-guides,master,Ibf58343632c09d262b042d1235f49c0efa635952,[upstream] Update the link to the correct readme for the VM image,MERGED,2018-05-18 16:01:39.000000000,2018-05-18 17:16:37.000000000,2018-05-18 17:16:37.000000000,"[{'_account_id': 14482}, {'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 16:01:39.000000000', 'files': ['doc/upstream-training/source/slides/development-environment-setup.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/469dc38b2292b4fae91f27bd2f2d1e04b189e86b', 'message': '[upstream] Update the link to the correct readme for the VM image\n\nChange-Id: Ibf58343632c09d262b042d1235f49c0efa635952\n'}]",0,569453,469dc38b2292b4fae91f27bd2f2d1e04b189e86b,7,3,1,9562,,,0,"[upstream] Update the link to the correct readme for the VM image

Change-Id: Ibf58343632c09d262b042d1235f49c0efa635952
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/53/569453/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/upstream-training/source/slides/development-environment-setup.rst'],1,469dc38b2292b4fae91f27bd2f2d1e04b189e86b,link-update, https://github.com/openstack/upstream-institute-virtual-environment/blob/master/README.md, https://github.com/kmARC/openstack-training-virtual-environment/blob/master/README.md,1,1
openstack%2Fproject-config~master~I5c161a707bb13a8876235a4c496d6ca631d486c8,openstack/project-config,master,I5c161a707bb13a8876235a4c496d6ca631d486c8,Add Zuul project for kayobe-config,MERGED,2018-05-15 13:48:29.000000000,2018-05-18 17:01:18.000000000,2018-05-18 17:01:18.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 13:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/aa31ec86874b027aa80ebdf43aa3b385f7a4fb5f', 'message': 'Add Zuul project for kayobe-config\n\nCurrently includes only the system-required template.\n\nChange-Id: I5c161a707bb13a8876235a4c496d6ca631d486c8\n'}, {'number': 2, 'created': '2018-05-15 17:28:29.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8d8b39ffaad3a3b465211c9f22e40504355a3091', 'message': 'Add Zuul project for kayobe-config\n\nCurrently includes only the system-required template.\n\nChange-Id: I5c161a707bb13a8876235a4c496d6ca631d486c8\n'}]",0,568588,8d8b39ffaad3a3b465211c9f22e40504355a3091,11,3,2,14826,,,0,"Add Zuul project for kayobe-config

Currently includes only the system-required template.

Change-Id: I5c161a707bb13a8876235a4c496d6ca631d486c8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/88/568588/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,aa31ec86874b027aa80ebdf43aa3b385f7a4fb5f,new-project, name: openstack/kayobe-config templates: - system-required - project:,,5,0
openstack%2Fmetalsmith~master~Iaebf5917dc20d063e506a055d9f5af4daee0415b,openstack/metalsmith,master,Iaebf5917dc20d063e506a055d9f5af4daee0415b,Install all dependencies when building docs,MERGED,2018-05-18 15:58:01.000000000,2018-05-18 16:54:08.000000000,2018-05-18 16:54:08.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 15:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/f6e8b79fb415208261ffbc1f76324cab064b1c5d', 'message': 'Install all dependencies from doc/requirements.txt\n\nRTD cannot install several requirements files (SIGH), not does it use\npip to install projects (SIGH#2).\n\nChange-Id: Iaebf5917dc20d063e506a055d9f5af4daee0415b\n'}, {'number': 2, 'created': '2018-05-18 16:21:59.000000000', 'files': ['doc/joined-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/9a2fd614cabc5c5c9a5619eff322913371c6a7e5', 'message': ""Install all dependencies when building docs\n\nRTD cannot install several requirements files (SIGH), not does it use\npip to install projects (SIGH#2). This change creates a new requirement\nfile doc/joined-requirements.txt and links to both doc/requirements.txt\nand root requirements.txt from it.\n\nNote that we cannot put -r instructions to doc/requirements.txt since\nit's managed by global-requirements.\n\nChange-Id: Iaebf5917dc20d063e506a055d9f5af4daee0415b\n""}]",0,569452,9a2fd614cabc5c5c9a5619eff322913371c6a7e5,11,2,2,10239,,,0,"Install all dependencies when building docs

RTD cannot install several requirements files (SIGH), not does it use
pip to install projects (SIGH#2). This change creates a new requirement
file doc/joined-requirements.txt and links to both doc/requirements.txt
and root requirements.txt from it.

Note that we cannot put -r instructions to doc/requirements.txt since
it's managed by global-requirements.

Change-Id: Iaebf5917dc20d063e506a055d9f5af4daee0415b
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/52/569452/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f6e8b79fb415208261ffbc1f76324cab064b1c5d,docs,# We need everything to be able to run autodoc -r ../requirements.txt,,2,0
openstack%2Fpython-glanceclient~master~I16a04e8d34f7629f72fe389456001ca1db9335ea,openstack/python-glanceclient,master,I16a04e8d34f7629f72fe389456001ca1db9335ea,"Removes unicode 'u' response from ""glance image-tag-update""",MERGED,2018-02-02 05:07:31.000000000,2018-05-18 16:23:20.000000000,2018-05-18 16:23:20.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 19457}, {'_account_id': 22348}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-02-02 05:07:31.000000000', 'files': ['glanceclient/tests/unit/test_utils.py', 'glanceclient/common/utils.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/195add500bac78637f94a008feee986b7800968d', 'message': 'Removes unicode \'u\' response from ""glance image-tag-update""\n\n""glance image-tag-update"" command returns unicoded response\nfor lists. Therefore it requires print_list method from util\nclass to handle such case. Added unicode_key_value_to_string()\nmethod to remove extra \'u\' from lists and dictionaries. This\nfix is inspired from cinderclient\'s implementation.\n\nChange-Id: I16a04e8d34f7629f72fe389456001ca1db9335ea\nCloses-bug: #1534046\n'}]",0,540254,195add500bac78637f94a008feee986b7800968d,10,7,1,27311,,,0,"Removes unicode 'u' response from ""glance image-tag-update""

""glance image-tag-update"" command returns unicoded response
for lists. Therefore it requires print_list method from util
class to handle such case. Added unicode_key_value_to_string()
method to remove extra 'u' from lists and dictionaries. This
fix is inspired from cinderclient's implementation.

Change-Id: I16a04e8d34f7629f72fe389456001ca1db9335ea
Closes-bug: #1534046
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/54/540254/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/tests/unit/test_utils.py', 'glanceclient/common/utils.py']",2,195add500bac78637f94a008feee986b7800968d,bug/1534046," '''Prints a list of objects. @param objs: Objects to print @param fields: Fields on each object to be printed @param formatters: Custom field formatters ''' count = 0 # Converts unicode values in list to string for part in row: count = count + 1 if isinstance(part, list): part = unicode_key_value_to_string(part) row[count - 1] = partdef _encode(src): """"""remove extra 'u' in PY2."""""" if six.PY2 and isinstance(src, unicode): return src.encode('utf-8') return src def unicode_key_value_to_string(src): """"""Recursively converts dictionary keys to strings."""""" if isinstance(src, dict): return dict((_encode(k), _encode(unicode_key_value_to_string(v))) for k, v in src.items()) if isinstance(src, list): return [unicode_key_value_to_string(l) for l in src] return _encode(src) ",,67,0
openstack%2Fopenstack-manuals~master~Ic63bdbd2f311bb0b409b857fbc4d33a1b16a15f2,openstack/openstack-manuals,master,Ic63bdbd2f311bb0b409b857fbc4d33a1b16a15f2,Include TripleO in Deployment guides,MERGED,2018-05-17 17:37:35.000000000,2018-05-18 16:23:19.000000000,2018-05-18 16:23:19.000000000,"[{'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 17765}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 17:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ab252f433792fa8b3cef935766ed5168720303b6', 'message': ""Include TripleO in Deployment guides\n\nThis patch includes the link of TripleO documentation which is a uniq\nlink, unversioned, which means we'll have to include this link for every\nnew release.\n\nInside our doc, we have notes when something is release-specific, that's\nhow it always worked and we have no plan to change it.\n\nChange-Id: Ic63bdbd2f311bb0b409b857fbc4d33a1b16a15f2\n""}, {'number': 2, 'created': '2018-05-17 18:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f8e1bbf270c77bc0be73aeaab6ad7b9e6a411fe6', 'message': ""Include TripleO in Deployment guides\n\nThis patch includes the link of TripleO documentation which is a uniq\nlink, unversioned, which means we'll have to include this link for every\nnew release.\n\nInside our doc, we have notes when something is release-specific, that's\nhow it always worked and we have no plan to change it.\n\nChange-Id: Ic63bdbd2f311bb0b409b857fbc4d33a1b16a15f2\n""}, {'number': 3, 'created': '2018-05-18 14:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c7cb7fd35bc7139db4bab89ae3bcfa3768445536', 'message': ""Include TripleO in Deployment guides\n\nThis patch includes the link of TripleO documentation which is a uniq\nlink, unversioned, which means we'll have to include this link for every\nnew release.\n\nInside our doc, we have notes when something is release-specific, that's\nhow it always worked and we have no plan to change it.\n\nChange-Id: Ic63bdbd2f311bb0b409b857fbc4d33a1b16a15f2\n""}, {'number': 4, 'created': '2018-05-18 15:30:56.000000000', 'files': ['www/ocata/projects.html', 'www/rocky/projects.html', 'www/newton/deploy/index.html', 'www/ocata/deploy/index.html', 'www/pike/deploy/index.html', 'www/rocky/deploy/index.html', 'www/queens/deploy/index.html', 'www/pike/projects.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/40b75448387ab6fd681f682005e6ab6e34002f6c', 'message': ""Include TripleO in Deployment guides\n\nThis patch includes the link of TripleO documentation which is a uniq\nlink, unversioned, which means we'll have to include this link for every\nnew release.\n\nInside our doc, we have notes when something is release-specific, that's\nhow it always worked and we have no plan to change it.\n\nChange-Id: Ic63bdbd2f311bb0b409b857fbc4d33a1b16a15f2\n""}]",2,569185,40b75448387ab6fd681f682005e6ab6e34002f6c,19,7,4,3153,,,0,"Include TripleO in Deployment guides

This patch includes the link of TripleO documentation which is a uniq
link, unversioned, which means we'll have to include this link for every
new release.

Inside our doc, we have notes when something is release-specific, that's
how it always worked and we have no plan to change it.

Change-Id: Ic63bdbd2f311bb0b409b857fbc4d33a1b16a15f2
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/85/569185/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/newton/deploy/index.html', 'www/ocata/deploy/index.html', 'www/pike/deploy/index.html', 'www/rocky/deploy/index.html', 'www/queens/deploy/index.html']",5,ab252f433792fa8b3cef935766ed5168720303b6,tripleo," <p><a href=""https://docs.openstack.org/tripleo-docs""> TripleO Deployment Guide </a></p>",,12,1
openstack%2Fheat~stable%2Focata~I7702d6ab550e4f1f53c4cea9f67ed0402afbd66d,openstack/heat,stable/ocata,I7702d6ab550e4f1f53c4cea9f67ed0402afbd66d,Generate user passwords with special characters,MERGED,2018-04-05 23:34:29.000000000,2018-05-18 16:03:12.000000000,2018-05-18 16:03:12.000000000,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-05 23:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/87a2a660253d9b225ebdc7ea1d471017afe01a8e', 'message': 'Generate user passwords with special characters\n\nWhen we create user accounts in order to allow signalling back to Heat,\ngenerate the passwords using a mix of upper- and lower-case letters, digits\nand special characters. This should pass most password_regex filters that\nusers are likely to configure in Keystone, which was not true of the\nprevious method (using only hex characters from a UUID).\n\nChange-Id: I7702d6ab550e4f1f53c4cea9f67ed0402afbd66d\nCloses-Bug: #1666129\nCloses-Bug: #1444429\n(cherry picked from commit 61412548aef0912b621861d08743821439172c6a)\n'}, {'number': 2, 'created': '2018-04-06 14:32:23.000000000', 'files': ['heat/engine/resources/signal_responder.py', 'heat/engine/resources/openstack/heat/wait_condition_handle.py', 'heat/tests/clients/test_heat_client.py', 'heat/engine/resources/server_base.py', 'heat/common/password_gen.py', 'heat/engine/clients/os/keystone/heat_keystoneclient.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/73361b4069ea3fe9d96698e3ea6458756206f616', 'message': 'Generate user passwords with special characters\n\nWhen we create user accounts in order to allow signalling back to Heat,\ngenerate the passwords using a mix of upper- and lower-case letters, digits\nand special characters. This should pass most password_regex filters that\nusers are likely to configure in Keystone, which was not true of the\nprevious method (using only hex characters from a UUID).\n\nChange-Id: I7702d6ab550e4f1f53c4cea9f67ed0402afbd66d\nCloses-Bug: #1666129\nCloses-Bug: #1444429\n(cherry picked from commit 61412548aef0912b621861d08743821439172c6a)\n'}]",0,559189,73361b4069ea3fe9d96698e3ea6458756206f616,13,4,2,4257,,,0,"Generate user passwords with special characters

When we create user accounts in order to allow signalling back to Heat,
generate the passwords using a mix of upper- and lower-case letters, digits
and special characters. This should pass most password_regex filters that
users are likely to configure in Keystone, which was not true of the
previous method (using only hex characters from a UUID).

Change-Id: I7702d6ab550e4f1f53c4cea9f67ed0402afbd66d
Closes-Bug: #1666129
Closes-Bug: #1444429
(cherry picked from commit 61412548aef0912b621861d08743821439172c6a)
",git fetch https://review.opendev.org/openstack/heat refs/changes/89/559189/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/signal_responder.py', 'heat/engine/resources/openstack/heat/wait_condition_handle.py', 'heat/tests/clients/test_heat_client.py', 'heat/engine/resources/server_base.py', 'heat/common/password_gen.py', 'heat/engine/clients/os/keystone/heat_keystoneclient.py']",6,87a2a660253d9b225ebdc7ea1d471017afe01a8e,bug/1666129,from heat.common import password_gen 'secret': password_gen.generate_openstack_password()} 'secret': password_gen.generate_openstack_password()}, 'secret': uuid.uuid4().hex} 'secret': uuid.uuid4().hex},29,20
openstack%2Fopenstackdocstheme~master~Id3488cfab61be5791c34f4f4330087627e7b9719,openstack/openstackdocstheme,master,Id3488cfab61be5791c34f4f4330087627e7b9719,Use metadata summary instead name for doc title,MERGED,2018-04-17 21:51:14.000000000,2018-05-18 15:57:53.000000000,2018-05-18 15:57:53.000000000,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 14482}, {'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-17 21:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/d87eabdb80be2c6ac8a114e6c09e554c4e94e6b4', 'message': 'Use metadata summary instead name for doc title\n\nhint: ugly name like openstackdocumentationcontributorguide breaks\nthe page layout, i.e.\nhttp://logs.openstack.org/19/555819/2/check/build-tox-manuals-checkbuild/4d5500d/publish-docs/doc-contrib-guide/index.html\n\nChange-Id: Id3488cfab61be5791c34f4f4330087627e7b9719\n'}, {'number': 2, 'created': '2018-04-23 12:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/c14ccab05323f61e58c524021d006952fa07ab85', 'message': 'Use metadata summary instead name for doc title\n\nhint: ugly name like openstackdocumentationcontributorguide breaks\nthe page layout, i.e.\nhttp://logs.openstack.org/19/555819/2/check/build-tox-manuals-checkbuild/4d5500d/publish-docs/doc-contrib-guide/index.html\n\ndepends on the count of words and the length of the name it will use\nname or summary.\n\nChange-Id: Id3488cfab61be5791c34f4f4330087627e7b9719\n'}, {'number': 3, 'created': '2018-04-23 12:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/34ce26a4c6907e9d44672e1e414736f30f2361b2', 'message': 'Use metadata summary instead name for doc title\n\nhint: ugly name like openstackdocumentationcontributorguide breaks\nthe page layout, i.e.\nhttp://logs.openstack.org/19/555819/2/check/build-tox-manuals-checkbuild/4d5500d/publish-docs/doc-contrib-guide/index.html\n\ndepends on the count of words and the length of the name it will use\nname or summary.\n\nChange-Id: Id3488cfab61be5791c34f4f4330087627e7b9719\n'}, {'number': 4, 'created': '2018-05-10 21:30:45.000000000', 'files': ['openstackdocstheme/ext.py'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/445e7c1347fab245ce708fe6ebb16644a5a80931', 'message': 'Use metadata summary instead name for doc title\n\nhint: ugly name like openstackdocumentationcontributorguide breaks\nthe page layout.\n\ndepends on the count of words and the length of the name it will use\nname or summary.\n\nChange-Id: Id3488cfab61be5791c34f4f4330087627e7b9719\n'}]",10,562061,445e7c1347fab245ce708fe6ebb16644a5a80931,27,7,4,17765,,,0,"Use metadata summary instead name for doc title

hint: ugly name like openstackdocumentationcontributorguide breaks
the page layout.

depends on the count of words and the length of the name it will use
name or summary.

Change-Id: Id3488cfab61be5791c34f4f4330087627e7b9719
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/61/562061/4 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/ext.py'],1,d87eabdb80be2c6ac8a114e6c09e554c4e94e6b4,," project = parser.get('metadata', 'summary') except configparser.Error: logger.info('Could not extract project summary from setup.cfg')"," project = parser.get('metadata', 'name') except configparser.Error: logger.info('Could not extract project name from setup.cfg')",2,2
openstack%2Foslo.policy~master~I27f25d068cff801dd4702278ecf8be14baebc890,openstack/oslo.policy,master,I27f25d068cff801dd4702278ecf8be14baebc890,Fix document formatting,MERGED,2018-05-18 06:54:39.000000000,2018-05-18 15:52:34.000000000,2018-05-18 15:52:34.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 06:54:39.000000000', 'files': ['oslo_policy/policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/3a849a04104564fca24002f2cd6586b23ee147b5', 'message': 'Fix document formatting\n\nAfter openstackdocstheme migration, extra whitespaces at the beginning\nof lines lead to vertical lines and different fonts in rendered HTML.\nThis commit cleans up them for readability.\n\nChange-Id: I27f25d068cff801dd4702278ecf8be14baebc890\n'}]",0,569347,3a849a04104564fca24002f2cd6586b23ee147b5,7,3,1,841,,,0,"Fix document formatting

After openstackdocstheme migration, extra whitespaces at the beginning
of lines lead to vertical lines and different fonts in rendered HTML.
This commit cleans up them for readability.

Change-Id: I27f25d068cff801dd4702278ecf8be14baebc890
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/47/569347/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/policy.py'],1,3a849a04104564fca24002f2cd6586b23ee147b5,docs-format,+--------------------------------+------------------------------------------+ | TYPE | SYNTAX | +================================+==========================================+ |User's Role | role:admin | +--------------------------------+------------------------------------------+ |Rules already defined on policy | rule:admin_required | +--------------------------------+------------------------------------------+ |Against URLs¹ | http://my-url.org/check | +--------------------------------+------------------------------------------+ |User attributes² | project_id:%(target.project.id)s | +--------------------------------+------------------------------------------+ |Strings | - <variable>:'xpto2035abc' | | | - 'myproject':<variable> | +--------------------------------+------------------------------------------+ | | - project_id:xpto2035abc | |Literals | - domain_id:20 | | | - True:%(user.enabled)s | +--------------------------------+------------------------------------------++------------+-------------+-------------+ | PRECEDENCE | TYPE | EXPRESSION | +============+=============+=============+ | 4 | Grouping | (...) | +------------+-------------+-------------+ | 3 | Logical NOT | not ... | +------------+-------------+-------------+ | 2 | Logical AND | ... and ... | +------------+-------------+-------------+ | 1 | Logical OR | ... or ... | +------------+-------------+-------------+- user_id - domain_id or project_id (depending on the token scope) - list of roles held for the given token scope, +--------------------------------+------------------------------------------+ | TYPE | SYNTAX | +================================+==========================================+ |User's Role | role:admin | +--------------------------------+------------------------------------------+ |Rules already defined on policy | rule:admin_required | +--------------------------------+------------------------------------------+ |Against URLs¹ | http://my-url.org/check | +--------------------------------+------------------------------------------+ |User attributes² | project_id:%(target.project.id)s | +--------------------------------+------------------------------------------+ |Strings | - <variable>:'xpto2035abc' | | | - 'myproject':<variable> | +--------------------------------+------------------------------------------+ | | - project_id:xpto2035abc | |Literals | - domain_id:20 | | | - True:%(user.enabled)s | +--------------------------------+------------------------------------------+ +------------+-------------+-------------+ | PRECEDENCE | TYPE | EXPRESSION | +============+=============+=============+ | 4 | Grouping | (...) | +------------+-------------+-------------+ | 3 | Logical NOT | not ... | +------------+-------------+-------------+ | 2 | Logical AND | ... and ... | +------------+-------------+-------------+ | 1 | Logical OR | ... or ... | +------------+-------------+-------------+ - user_id - domain_id or project_id (depending on the token scope) - list of roles held for the given token scope,32,32
openstack%2Fopenstack-ansible-nspawn_hosts~master~Ia17ecdd31786b2dd417509b5b1e57e76252ccc48,openstack/openstack-ansible-nspawn_hosts,master,Ia17ecdd31786b2dd417509b5b1e57e76252ccc48,Enable cross repo testing,MERGED,2018-05-18 06:05:42.000000000,2018-05-18 15:46:20.000000000,2018-05-18 15:46:20.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 06:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/294c369d2e5188ccfb51b3aae06d459356134cb3', 'message': 'Enable cross repo testing\n\nChange-Id: Ia17ecdd31786b2dd417509b5b1e57e76252ccc48\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-05-18 13:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/b1eacf505c3da0575922252395bbb703359edbfd', 'message': 'Enable cross repo testing\n\nChange-Id: Ia17ecdd31786b2dd417509b5b1e57e76252ccc48\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-05-18 13:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/46e939ab3a84661aa79a5294e23aa99578f99d23', 'message': 'Enable cross repo testing\n\nChange-Id: Ia17ecdd31786b2dd417509b5b1e57e76252ccc48\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-05-18 14:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/909bfa6bfc1da1598656575178674530fa62ab38', 'message': 'Enable cross repo testing\n\nChange-Id: Ia17ecdd31786b2dd417509b5b1e57e76252ccc48\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-05-18 14:42:07.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/a043f9206e9558caa73c797304c135428eaa39a8', 'message': 'Enable cross repo testing\n\nChange-Id: Ia17ecdd31786b2dd417509b5b1e57e76252ccc48\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",1,569337,a043f9206e9558caa73c797304c135428eaa39a8,21,3,5,7353,,,0,"Enable cross repo testing

Change-Id: Ia17ecdd31786b2dd417509b5b1e57e76252ccc48
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/37/569337/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,294c369d2e5188ccfb51b3aae06d459356134cb3,,- job: name: openstack-ansible-nspawn-centos-7 parent: openstack-ansible-nspawn-container-create nodeset: centos-7 - job: name: openstack-ansible-nspawn-opensuse-423 parent: openstack-ansible-nspawn-container-create nodeset: opensuse-423 - job: name: openstack-ansible-nspawn-ubuntu-xenial parent: openstack-ansible-nspawn-container-create nodeset: ubuntu-xenial - job: name: openstack-ansible-nspawn-ubuntu-bionic parent: openstack-ansible-nspawn-container-create nodeset: ubuntu-bionic - job: name: openstack-ansible-integrated-deploy-nspawn parent: openstack-ansible-integrated-deploy-aio voting: false vars: scenario: aio_nspawn, required-projects: - name: openstack/openstack-ansible-nspawn_container_create# - job: # name: openstack-ansible-nspawn-ubuntu-xenial # parent: openstack-ansible-nspawn-container-create # - job: # name: openstack-ansible-nspawn-centos-7 # parent: openstack-ansible-nspawn-container-create # nodeset: centos-7 # - job: # name: openstack-ansible-nspawn-opensuse-423 # parent: openstack-ansible-nspawn-container-create # nodeset: opensuse-423,28,13
openstack%2Foslotest~master~I9e10b34092ad795c7f9e58596fcccf4f37856225,openstack/oslotest,master,I9e10b34092ad795c7f9e58596fcccf4f37856225,mock: Perform patch's autospec checks on __enter__,MERGED,2018-04-16 10:45:34.000000000,2018-05-18 15:44:56.000000000,2018-05-18 15:44:56.000000000,"[{'_account_id': 6928}, {'_account_id': 8213}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-16 10:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslotest/commit/50ca3f7aba1e9f361bc5fe567c1fc9799c4aaa2a', 'message': ""WIP: mock: Perform patch's autospec checks on __enter__\n\nCurrently we're doing the autospec checks on __init__ (if the\ntarget is autospecable), which will require importing modules\nin some cases.\n\nThe mock.patch's constructor is called when a test module is being\nloaded, before any set up could have been run, which can be problematic\nin some cases (e.g.: some tested modules are importing platform specific\nmodules, and they couldn't have been mocked yet).\n\nThis patch moves the autospec checks to __enter__, which is executed\nafter the setUp.\n\nChange-Id: I9e10b34092ad795c7f9e58596fcccf4f37856225\n""}, {'number': 2, 'created': '2018-05-07 10:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslotest/commit/4f92e2e0a044681caf3dc12360cd691881ac13f9', 'message': ""mock: Perform patch's autospec checks on __enter__\n\nCurrently we're doing the autospec checks on __init__ (if the\ntarget is autospecable), which will require importing modules\nin some cases.\n\nThe mock.patch's constructor is called when a test module is being\nloaded, before any set up could have been run, which can be problematic\nin some cases (e.g.: some tested modules are importing platform specific\nmodules, and they couldn't have been mocked yet).\n\nThis patch moves the autospec checks to __enter__, which is executed\nafter the setUp.\n\nChange-Id: I9e10b34092ad795c7f9e58596fcccf4f37856225\n""}, {'number': 3, 'created': '2018-05-07 10:59:11.000000000', 'files': ['oslotest/mock_fixture.py'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/8241dd624f8ca481fe15a44f7d3fed10be7ae937', 'message': ""mock: Perform patch's autospec checks on __enter__\n\nCurrently we're doing the autospec checks on __init__ (if the\ntarget is autospecable), which will require importing modules\nin some cases.\n\nThe mock.patch's constructor is called when a test module is being\nloaded, before any set up could have been run, which can be problematic\nin some cases (e.g.: some tested modules are importing platform specific\nmodules, and they couldn't have been mocked yet).\n\nThis patch moves the autospec checks to __enter__, which is executed\nafter the setUp.\n\nRelated-Bug: #1735588\n\nChange-Id: I9e10b34092ad795c7f9e58596fcccf4f37856225\n""}]",0,561581,8241dd624f8ca481fe15a44f7d3fed10be7ae937,12,4,3,8213,,,0,"mock: Perform patch's autospec checks on __enter__

Currently we're doing the autospec checks on __init__ (if the
target is autospecable), which will require importing modules
in some cases.

The mock.patch's constructor is called when a test module is being
loaded, before any set up could have been run, which can be problematic
in some cases (e.g.: some tested modules are importing platform specific
modules, and they couldn't have been mocked yet).

This patch moves the autospec checks to __enter__, which is executed
after the setUp.

Related-Bug: #1735588

Change-Id: I9e10b34092ad795c7f9e58596fcccf4f37856225
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/81/561581/1 && git format-patch -1 --stdout FETCH_HEAD,['oslotest/mock_fixture.py'],1,50ca3f7aba1e9f361bc5fe567c1fc9799c4aaa2a,," def __enter__(self): # NOTE(claudiub): we're doing the autospec checks here so unit tests # have a chance to set up mocks in advance (e.g.: mocking platform # specific libraries, which would cause the patch to fail otherwise). if autospec:"," def __init__(self, *args, **kwargs): super(_patch, self).__init__(*args, **kwargs) self._autospec = autospec def __enter__(self): if self._autospec:",5,5
openstack%2Fnetworking-calico~master~Ibc1ddeb853ab07db01c65b114c8e396780bc7fd9,openstack/networking-calico,master,Ibc1ddeb853ab07db01c65b114c8e396780bc7fd9,Version 3.1.2,MERGED,2018-05-18 14:16:55.000000000,2018-05-18 15:38:21.000000000,2018-05-18 15:38:21.000000000,"[{'_account_id': 13734}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 14:16:55.000000000', 'files': ['debian/rules', 'debian/changelog', 'CHANGES.md', 'rpm/networking-calico.spec'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/2969f1d9c161f94b6a7f6d7c59d479ad413c8307', 'message': 'Version 3.1.2\n\nChange-Id: Ibc1ddeb853ab07db01c65b114c8e396780bc7fd9\n'}]",0,569423,2969f1d9c161f94b6a7f6d7c59d479ad413c8307,6,2,1,27983,,,0,"Version 3.1.2

Change-Id: Ibc1ddeb853ab07db01c65b114c8e396780bc7fd9
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/23/569423/1 && git format-patch -1 --stdout FETCH_HEAD,"['debian/rules', 'debian/changelog', 'CHANGES.md', 'rpm/networking-calico.spec']",4,2969f1d9c161f94b6a7f6d7c59d479ad413c8307,,Version: 3.1.2* Fri May 18 2018 Neil Jerram <neil@tigera.io> 1:3.1.2-1 - networking-calico version 3.1.2 release - Always send high-priority port statuses to Neutron. ,Version: 3.1.1,24,2
openstack%2Fkeystoneauth~stable%2Fqueens~I5b55de057a300e23783ce9128720b2e4f07a93f2,openstack/keystoneauth,stable/queens,I5b55de057a300e23783ce9128720b2e4f07a93f2,Updated from global requirements,MERGED,2018-02-13 01:51:26.000000000,2018-05-18 15:33:36.000000000,2018-05-18 15:33:36.000000000,"[{'_account_id': 2}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-13 01:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/03bf0c1f7771baad85fb073f62ab3ac8d733528b', 'message': 'Updated from global requirements\n\nChange-Id: I5b55de057a300e23783ce9128720b2e4f07a93f2\n'}, {'number': 2, 'created': '2018-05-16 23:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/7ccefaa49bf84d9c27320768cb1001fca422d57e', 'message': 'Updated from global requirements\n\nChange-Id: I5b55de057a300e23783ce9128720b2e4f07a93f2\n'}, {'number': 3, 'created': '2018-05-18 11:50:35.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/fe44f358e663af483447d74eb74408e3446e6a77', 'message': 'Updated from global requirements\n\nChange-Id: I5b55de057a300e23783ce9128720b2e4f07a93f2\n'}]",0,543684,fe44f358e663af483447d74eb74408e3446e6a77,40,7,3,11131,,,0,"Updated from global requirements

Change-Id: I5b55de057a300e23783ce9128720b2e4f07a93f2
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/84/543684/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,03bf0c1f7771baad85fb073f62ab3ac8d733528b,openstack/requirements,openstackdocstheme>=1.18.1 # Apache-2.0,openstackdocstheme>=1.17.0 # Apache-2.0,2,2
openstack%2Fopenstack-helm-infra~master~If49c278b7abcca01629ebd07a2e49473fe950632,openstack/openstack-helm-infra,master,If49c278b7abcca01629ebd07a2e49473fe950632,WIP - Add cloud-provider-openstack chart,ABANDONED,2018-05-07 20:40:37.000000000,2018-05-18 15:26:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-07 20:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a73f8531700a0b6cf277dd10943d543f5e02e47d', 'message': ""WIP - Add cloud-provider-openstack chart\n                           .       .\n                          / `.   .' \\\n                  .---.  <    > <    >  .---.\n                  |    \\  \\ - ~ ~ - /  /    |\n                   ~-..-~             ~-..-~\n               \\~~~\\.'                    `./~~~/\n     .-~~^-.    \\__/                        \\__/\n   .'  O    \\     /               /       \\  \\\n  (_____,    `._.'               |         }  \\/~~~/\n   `----.          /       }     |        /    \\__/\n         `-.      |       /      |       /      `. ,~~|\n             ~-.__|      /_ - ~ ^|      /- _      `..-'\n                  |     /        |     /     ~-.     `-. _||_||_\n                  |_____|        |_____|         ~ - . _ _ _ _ _>\n\nChange-Id: If49c278b7abcca01629ebd07a2e49473fe950632\n""}, {'number': 2, 'created': '2018-05-07 20:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ddd10c28b151a995cf42d3f51d8de4161e4177fa', 'message': ""WIP - Add cloud-provider-openstack chart\n\n                           .       .\n                          / `.   .' \\\n                  .---.  <    > <    >  .---.\n                  |    \\  \\ - ~ ~ - /  /    |\n                   ~-..-~             ~-..-~\n               \\~~~\\.'                    `./~~~/\n     .-~~^-.    \\__/                        \\__/\n   .'  O    \\     /               /       \\  \\\n  (_____,    `._.'               |         }  \\/~~~/\n   `----.          /       }     |        /    \\__/\n         `-.      |       /      |       /      `. ,~~|\n             ~-.__|      /_ - ~ ^|      /- _      `..-'\n                  |     /        |     /     ~-.     `-. _||_||_\n                  |_____|        |_____|         ~ - . _ _ _ _ _>\n\nChange-Id: If49c278b7abcca01629ebd07a2e49473fe950632\n""}, {'number': 3, 'created': '2018-05-07 20:53:46.000000000', 'files': ['cloud-provider-openstack/values.yaml', 'cloud-provider-openstack/Chart.yaml', 'cloud-provider-openstack/requirements.yaml', 'cloud-provider-openstack/.helmignore', 'cloud-provider-openstack/templates/_helpers.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4bddc0c09da722510be5268894c883ec9612f430', 'message': ""WIP - Add cloud-provider-openstack chart\n\n                           .       .\n                          / `.   .' \\\n                  .---.  <    > <    >  .---.\n                  |    \\  \\ - ~ ~ - /  /    |\n                   ~-..-~             ~-..-~\n               \\~~~\\.'                    `./~~~/\n     .-~~^-.    \\__/                        \\__/\n   .'  O    \\     /               /       \\  \\\n  (_____,    `._.'               |         }  \\/~~~/\n   `----.          /       }     |        /    \\__/\n         `-.      |       /      |       /      `. ,~~|\n             ~-.__|      /_ - ~ ^|      /- _      `..-'\n                  |     /        |     /     ~-.     `-. _||_||_\n                  |_____|        |_____|         ~ - . _ _ _ _ _>\n\nChange-Id: If49c278b7abcca01629ebd07a2e49473fe950632\n""}]",0,566732,4bddc0c09da722510be5268894c883ec9612f430,5,1,3,21420,,,0,"WIP - Add cloud-provider-openstack chart

                           .       .
                          / `.   .' \
                  .---.  <    > <    >  .---.
                  |    \  \ - ~ ~ - /  /    |
                   ~-..-~             ~-..-~
               \~~~\.'                    `./~~~/
     .-~~^-.    \__/                        \__/
   .'  O    \     /               /       \  \
  (_____,    `._.'               |         }  \/~~~/
   `----.          /       }     |        /    \__/
         `-.      |       /      |       /      `. ,~~|
             ~-.__|      /_ - ~ ^|      /- _      `..-'
                  |     /        |     /     ~-.     `-. _||_||_
                  |_____|        |_____|         ~ - . _ _ _ _ _>

Change-Id: If49c278b7abcca01629ebd07a2e49473fe950632
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/32/566732/1 && git format-patch -1 --stdout FETCH_HEAD,['cloud-provider-openstack/.helmignore'],1,a73f8531700a0b6cf277dd10943d543f5e02e47d,cloud-provider-openstack,"# Patterns to ignore when building packages. # This supports shell glob matching, relative path matching, and # negation (prefixed with !). Only one pattern per line. .DS_Store # Common VCS dirs .git/ .gitignore .bzr/ .bzrignore .hg/ .hgignore .svn/ # Common backup files *.swp *.bak *.tmp *~ # Various IDEs .project .idea/ *.tmproj ",,21,0
openstack%2Fzaqar~master~I13d9b1b6d75f2566622881286d80fba71dbc8af5,openstack/zaqar,master,I13d9b1b6d75f2566622881286d80fba71dbc8af5,Adding Swift backend Region support,MERGED,2018-05-16 18:09:55.000000000,2018-05-18 15:25:34.000000000,2018-05-18 10:58:21.000000000,"[{'_account_id': 7385}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23709}, {'_account_id': 25674}, {'_account_id': 26221}, {'_account_id': 26355}, {'_account_id': 27224}, {'_account_id': 28035}]","[{'number': 1, 'created': '2018-05-16 18:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/a4db198bf54cd0ecf36aa94d22130501954d2440', 'message': '[WIP] Adding Swift backend Region support\n\nChange-Id: I13d9b1b6d75f2566622881286d80fba71dbc8af5\n'}, {'number': 2, 'created': '2018-05-16 18:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/c4b681b073b6659b826e2d52b14ddb7e65afe79d', 'message': 'Adding Swift backend Region support\n\nThis adds support to configure the region_name for the\nSwift backend.\n\nChange-Id: I13d9b1b6d75f2566622881286d80fba71dbc8af5\nCloses-Bug: #1771647\n'}, {'number': 3, 'created': '2018-05-16 22:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/559d1e14e6a7b352661d48b2d49f1ec53a53ce15', 'message': 'Adding Swift backend Region support\n\nThis adds support to configure the region_name for the\nSwift backend.\n\nWe need to override the object_storage_url, as the\nswiftclient does not respect the region_name when\nusing sessions.\n\nChange-Id: I13d9b1b6d75f2566622881286d80fba71dbc8af5\nCloses-Bug: #1771647\n'}, {'number': 4, 'created': '2018-05-17 00:46:42.000000000', 'files': ['zaqar/storage/swift/options.py', 'zaqar/storage/swift/driver.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/92cb9da7c2f37f36ee8a5adc3bd1483b6f52a107', 'message': 'Adding Swift backend Region support\n\nThis adds support to configure the region_name for the\nSwift backend.\n\nWe need to override the object_storage_url, as the\nswiftclient does not respect the region_name when\nusing sessions.\n\nChange-Id: I13d9b1b6d75f2566622881286d80fba71dbc8af5\nCloses-Bug: #1771647\n'}]",0,568921,92cb9da7c2f37f36ee8a5adc3bd1483b6f52a107,19,9,4,22623,,,0,"Adding Swift backend Region support

This adds support to configure the region_name for the
Swift backend.

We need to override the object_storage_url, as the
swiftclient does not respect the region_name when
using sessions.

Change-Id: I13d9b1b6d75f2566622881286d80fba71dbc8af5
Closes-Bug: #1771647
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/21/568921/4 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar/storage/swift/options.py', 'zaqar/storage/swift/driver.py']",2,a4db198bf54cd0ecf36aa94d22130501954d2440,bug/1771647," os_options = { 'region_name': self.conf.region_name } insecure=self.conf.insecure, os_options=os_options)", insecure=self.conf.insecure),6,1
openstack%2Freleases~master~I500b84eb98ac5d812be3d2bdeb3c1eea1c85b5c5,openstack/releases,master,I500b84eb98ac5d812be3d2bdeb3c1eea1c85b5c5,Release 3.7.0 of keystoneauth,MERGED,2018-05-18 11:54:48.000000000,2018-05-18 15:20:26.000000000,2018-05-18 15:20:26.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 11:54:48.000000000', 'files': ['deliverables/rocky/keystoneauth.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f93dbdf8fa45cd88c8ac40a185bfc8757dc80fde', 'message': 'Release 3.7.0 of keystoneauth\n\nChange-Id: I500b84eb98ac5d812be3d2bdeb3c1eea1c85b5c5\n'}]",0,569397,f93dbdf8fa45cd88c8ac40a185bfc8757dc80fde,9,4,1,2,,,0,"Release 3.7.0 of keystoneauth

Change-Id: I500b84eb98ac5d812be3d2bdeb3c1eea1c85b5c5
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/569397/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/keystoneauth.yaml'],1,f93dbdf8fa45cd88c8ac40a185bfc8757dc80fde,, - projects: - hash: db5aa8b3aee6d46a105fe62ef504aff92dc96318 repo: openstack/keystoneauth tarball-base: keystoneauth1 version: 3.7.0,,5,0
openstack%2Fkeystoneauth~stable%2Fqueens~If162dde93423a495064c4ae1a5dad4e7eb8f9577,openstack/keystoneauth,stable/queens,If162dde93423a495064c4ae1a5dad4e7eb8f9577,Remove tox_install.sh and align with constraints consumption,MERGED,2018-05-16 23:50:39.000000000,2018-05-18 15:19:50.000000000,2018-05-18 15:19:50.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8871}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 23:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/aa73c6e0bb2370cbbaa93ad964b37b85a498596b', 'message': 'Remove tox_install.sh and align with constraints consumption\n\nAs part of removing reliance on the old and deprecated zuul-cloner, we\nneed to shift constraints declaration to the deps line. This means we\nunfortunately have to duplicate the extras declarations into\ntest-requirements - because otherwise the contraints for keystoneauth\nconflicts with the installation of itself.\n\n(cherry picked from commit 8ece7fcf2d5eaa40b7ecf40e81cc16c09a599535)\n\nChange-Id: If162dde93423a495064c4ae1a5dad4e7eb8f9577\n'}, {'number': 2, 'created': '2018-05-18 11:50:35.000000000', 'files': ['tools/tox_install.sh', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/65bebd11c390623f6af5dddb47cc311de78f0bdc', 'message': 'Remove tox_install.sh and align with constraints consumption\n\nAs part of removing reliance on the old and deprecated zuul-cloner, we\nneed to shift constraints declaration to the deps line. This means we\nunfortunately have to duplicate the extras declarations into\ntest-requirements - because otherwise the contraints for keystoneauth\nconflicts with the installation of itself.\n\n(cherry picked from commit 8ece7fcf2d5eaa40b7ecf40e81cc16c09a599535)\n\nChange-Id: If162dde93423a495064c4ae1a5dad4e7eb8f9577\n'}]",0,568984,65bebd11c390623f6af5dddb47cc311de78f0bdc,10,4,2,2,,,0,"Remove tox_install.sh and align with constraints consumption

As part of removing reliance on the old and deprecated zuul-cloner, we
need to shift constraints declaration to the deps line. This means we
unfortunately have to duplicate the extras declarations into
test-requirements - because otherwise the contraints for keystoneauth
conflicts with the installation of itself.

(cherry picked from commit 8ece7fcf2d5eaa40b7ecf40e81cc16c09a599535)

Change-Id: If162dde93423a495064c4ae1a5dad4e7eb8f9577
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/84/568984/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tox_install.sh', 'test-requirements.txt', 'tox.ini']",3,aa73c6e0bb2370cbbaa93ad964b37b85a498596b,openstack/requirements,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txtdeps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/doc/requirements.txt commands =deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/doc/requirements.txt,"install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} {opts} {packages} BRANCH_NAME=master CLIENT_NAME=keystoneauth1 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt .[kerberos,saml2,betamax,oauth1]deps = -r{toxinidir}/doc/requirements.txt commands=deps = -r{toxinidir}/doc/requirements.txt",14,40
openstack%2Freleases~master~If24f85289269b220f2117e544c18361cacdee14b,openstack/releases,master,If24f85289269b220f2117e544c18361cacdee14b,Release xstatic-vis 4.3.0.0,ABANDONED,2018-04-05 08:32:30.000000000,2018-05-18 15:13:04.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 2472}, {'_account_id': 19224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-05 08:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c33f2eb7e992a3ad0da35c88aa95df1b92e1d18d', 'message': 'Release xstatic-vi 4.3.0.0\n\nChange-Id: If24f85289269b220f2117e544c18361cacdee14b\n'}, {'number': 2, 'created': '2018-04-05 08:36:14.000000000', 'files': ['deliverables/_independent/xstatic-vis.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/701c5751328bbcb73852b143b315b024dfc231d5', 'message': 'Release xstatic-vis 4.3.0.0\n\nChange-Id: If24f85289269b220f2117e544c18361cacdee14b\n'}]",0,559023,701c5751328bbcb73852b143b315b024dfc231d5,8,5,2,19224,,,0,"Release xstatic-vis 4.3.0.0

Change-Id: If24f85289269b220f2117e544c18361cacdee14b
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/559023/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/xstatic-vis.yaml'],1,c33f2eb7e992a3ad0da35c88aa95df1b92e1d18d,xstatic-release-vis,--- launchpad: horizon team: horizon type: other release-type: xstatic include-pypi-link: yes releases: - version: 4.3.0.0 projects: - repo: openstack/xstatic-vis hash: 944644c1683a20bc0c7e85439e4d75350c9197d2 tarball-base: XStatic-Vis repository-settings: openstack/xstatic-vis: {} ,,14,0
openstack%2Fopenstack-ansible-nspawn_container_create~master~I04032a9e89968708a459021dea8c6893e98b95fd,openstack/openstack-ansible-nspawn_container_create,master,I04032a9e89968708a459021dea8c6893e98b95fd,Remove option that is covered by defaults,MERGED,2018-05-18 05:43:26.000000000,2018-05-18 15:12:18.000000000,2018-05-18 15:12:18.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 05:43:26.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/redhat-7.yml', 'vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/ee28a70aeea3ad45d663fb2e920096d4e46cb1db', 'message': 'Remove option that is covered by defaults\n\nChange-Id: I04032a9e89968708a459021dea8c6893e98b95fd\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,569332,ee28a70aeea3ad45d663fb2e920096d4e46cb1db,13,2,1,7353,,,0,"Remove option that is covered by defaults

Change-Id: I04032a9e89968708a459021dea8c6893e98b95fd
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/32/569332/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/redhat-7.yml', 'vars/ubuntu-16.04.yml']",3,ee28a70aeea3ad45d663fb2e920096d4e46cb1db,,, _nspawn_container_enable_resolved: true,0,6
openstack%2Frequirements~stable%2Fpike~Ib4a7da63ccaf0f3e07445fd38c66242dcd548b3c,openstack/requirements,stable/pike,Ib4a7da63ccaf0f3e07445fd38c66242dcd548b3c,update constraints of ovsdbapp to new 0.4.3 release,ABANDONED,2018-05-17 09:33:43.000000000,2018-05-18 15:08:30.000000000,,"[{'_account_id': 8871}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 09:33:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e5fecf8129713790fc86b1694d7edfda038e69ff', 'message': 'update constraints of ovsdbapp to new 0.4.3 release\n\n - 0.4.3 fixes lp#1769897 scalability bug.\n\nDepends-On: Ic089341494af371a06fb0eefa38ca099179aa86b\n\nRelated-Bug: #1769897\n\n(cherry picked from commit 671622dc72dcae987ddaaec81bafc86f7829dc2f)\n(cherry picked from commit 6a293e2696e75d3a125088a46b733d5895545ce8)\n\nConflicts:\n\tupper-constraints.txt\n\nChange-Id: Ib4a7da63ccaf0f3e07445fd38c66242dcd548b3c\n'}]",0,569072,e5fecf8129713790fc86b1694d7edfda038e69ff,16,3,1,8788,,,0,"update constraints of ovsdbapp to new 0.4.3 release

 - 0.4.3 fixes lp#1769897 scalability bug.

Depends-On: Ic089341494af371a06fb0eefa38ca099179aa86b

Related-Bug: #1769897

(cherry picked from commit 671622dc72dcae987ddaaec81bafc86f7829dc2f)
(cherry picked from commit 6a293e2696e75d3a125088a46b733d5895545ce8)

Conflicts:
	upper-constraints.txt

Change-Id: Ib4a7da63ccaf0f3e07445fd38c66242dcd548b3c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/72/569072/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e5fecf8129713790fc86b1694d7edfda038e69ff,bug/1769897,ovsdbapp===0.4.3,ovsdbapp===0.4.2,1,1
openstack%2Fpuppet-openstack-integration~master~Ifacd3967e62dcbefaa1ccb3d112eb38d9abb7d16,openstack/puppet-openstack-integration,master,Ifacd3967e62dcbefaa1ccb3d112eb38d9abb7d16,Use apache for glance-api if Debian and SSL,ABANDONED,2018-05-16 19:11:57.000000000,2018-05-18 14:46:39.000000000,,"[{'_account_id': 6476}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 19:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/541a799eb09f80297710ecd02b6b77ece1e07af3', 'message': 'Use apache for glance-api if Debian and SSL\n\nIt looks like using Eventlet + Python 3 + SSL is broken, so we need to\nforce using Apache2 in the case of Debian if using SSL.\n\nDepends-On: I54f92b44a310aac1fa1d4eb277010aa062adcb32\nChange-Id: Ifacd3967e62dcbefaa1ccb3d112eb38d9abb7d16\n'}, {'number': 2, 'created': '2018-05-16 19:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/428a36a7a393f5aed4b3531a6268d2f749a1da34', 'message': 'Use apache for glance-api if Debian and SSL\n\nIt looks like using Eventlet + Python 3 + SSL is broken, so we need to\nforce using Apache2 in the case of Debian if using SSL.\n\nDepends-On: I54f92b44a310aac1fa1d4eb277010aa062adcb32\nChange-Id: Ifacd3967e62dcbefaa1ccb3d112eb38d9abb7d16\n'}, {'number': 3, 'created': '2018-05-17 07:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e5391aa74ed008be8b95c33f3faa2078720621cb', 'message': 'Use apache for glance-api if Debian and SSL\n\nIt looks like using Eventlet + Python 3 + SSL is broken, so we need to\nforce using Apache2 in the case of Debian if using SSL.\n\nDepends-On: I54f92b44a310aac1fa1d4eb277010aa062adcb32\nChange-Id: Ifacd3967e62dcbefaa1ccb3d112eb38d9abb7d16\n'}, {'number': 4, 'created': '2018-05-17 07:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/028de0bda7d29773d1d867a75d72bdca8a4cd8dc', 'message': 'Use apache for glance-api if Debian and SSL\n\nIt looks like using Eventlet + Python 3 + SSL is broken, so we need to\nforce using Apache2 in the case of Debian if using SSL.\n\nDepends-On: I54f92b44a310aac1fa1d4eb277010aa062adcb32\nChange-Id: Ifacd3967e62dcbefaa1ccb3d112eb38d9abb7d16\n'}, {'number': 5, 'created': '2018-05-17 11:35:05.000000000', 'files': ['manifests/glance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c9156795ce39003f2013de997db7900fad9ffa8f', 'message': 'Use apache for glance-api if Debian and SSL\n\nIt looks like using Eventlet + Python 3 + SSL is broken, so we need to\nforce using Apache2 in the case of Debian if using SSL.\n\nDepends-On: I54f92b44a310aac1fa1d4eb277010aa062adcb32\nChange-Id: Ifacd3967e62dcbefaa1ccb3d112eb38d9abb7d16\n'}]",0,568938,c9156795ce39003f2013de997db7900fad9ffa8f,11,2,5,6476,,,0,"Use apache for glance-api if Debian and SSL

It looks like using Eventlet + Python 3 + SSL is broken, so we need to
force using Apache2 in the case of Debian if using SSL.

Depends-On: I54f92b44a310aac1fa1d4eb277010aa062adcb32
Change-Id: Ifacd3967e62dcbefaa1ccb3d112eb38d9abb7d16
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/38/568938/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/glance.pp'],1,541a799eb09f80297710ecd02b6b77ece1e07af3,debian-use-glance-on-apache," # Eventlet doesn't work over SSL + Python 3, # so in Debian's case, no choice... if ($::os_package_type == 'debian') { class { '::glance::params': $api_service_name = 'httpd', } }",,7,0
openstack%2Fpuppet-glance~master~Ibbd1fe0bc38217dbd53bb014debb073abd27cab4,openstack/puppet-glance,master,Ibbd1fe0bc38217dbd53bb014debb073abd27cab4,WIP: Add the feature to use Apache for glance-api,ABANDONED,2018-05-18 08:13:46.000000000,2018-05-18 14:46:17.000000000,,"[{'_account_id': 6476}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 08:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/254c18ad787fca7830ca6c75e47a800b05226eee', 'message': 'WIP: Add the feature to use Apache for glance-api\n\nChange-Id: Ibbd1fe0bc38217dbd53bb014debb073abd27cab4\n'}, {'number': 2, 'created': '2018-05-18 08:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/aae6272badf1df36d1bf264b34cdb0583c276ae3', 'message': 'WIP: Add the feature to use Apache for glance-api\n\nChange-Id: Ibbd1fe0bc38217dbd53bb014debb073abd27cab4\n'}, {'number': 3, 'created': '2018-05-18 08:33:27.000000000', 'files': ['metadata.json', 'manifests/wsgi/apache.pp', 'manifests/api.pp', 'manifests/params.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/b30c3a096d168bf3d5109063d3becc7636757a37', 'message': 'WIP: Add the feature to use Apache for glance-api\n\nChange-Id: Ibbd1fe0bc38217dbd53bb014debb073abd27cab4\n'}]",0,569359,b30c3a096d168bf3d5109063d3becc7636757a37,8,2,3,6476,,,0,"WIP: Add the feature to use Apache for glance-api

Change-Id: Ibbd1fe0bc38217dbd53bb014debb073abd27cab4
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/59/569359/3 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'manifests/wsgi/apache.pp', 'manifests/api.pp', 'manifests/params.pp', 'manifests/keystone/auth.pp']",5,254c18ad787fca7830ca6c75e47a800b05226eee,use-apache2,," if $configure_user_role { Keystone_user_role[""${auth_name}@${tenant}""] ~> Anchor['glance::service::begin'] } ",225,26
openstack%2Fopenstack-helm-infra~master~I18b0477a775de942f940e9c0984559089dca1cdb,openstack/openstack-helm-infra,master,I18b0477a775de942f940e9c0984559089dca1cdb,KubeADM: Keystone Kubernetes Webhook,MERGED,2018-05-17 06:16:21.000000000,2018-05-18 14:45:42.000000000,2018-05-18 14:45:42.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-17 06:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/417ecd3dc75179a7a37744e07a2e0fc6b91fff2e', 'message': 'WIP: KubeADM: Keystone Kubernetes Webhook\n\nThis PS adds the ability to deploy the Keystone Kubernetes Webhook\nchart via kubeadm-aio\n\nChange-Id: I18b0477a775de942f940e9c0984559089dca1cdb\nSigned-off-by: Pete Birley <pete@port.direct>\nCo-Authored-By: Tin Lam <tin@irrational.io>\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\n'}, {'number': 2, 'created': '2018-05-18 02:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2488a28d324a31fe01681514bf8d41f15ccd846e', 'message': 'WIP: KubeADM: Keystone Kubernetes Webhook\n\nThis PS adds the ability to deploy the Keystone Kubernetes Webhook\nchart via kubeadm-aio\n\nChange-Id: I18b0477a775de942f940e9c0984559089dca1cdb\nSigned-off-by: Pete Birley <pete@port.direct>\nCo-Authored-By: Tin Lam <tin@irrational.io>\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-05-18 02:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/223a100f1b5751bfaed6a7078d5f4738b3aa7ca8', 'message': 'WIP: KubeADM: Keystone Kubernetes Webhook\n\nThis PS adds the ability to deploy the Keystone Kubernetes Webhook\nchart via kubeadm-aio\n\nChange-Id: I18b0477a775de942f940e9c0984559089dca1cdb\nSigned-off-by: Pete Birley <pete@port.direct>\nCo-Authored-By: Tin Lam <tin@irrational.io>\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2018-05-18 02:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65150298759fddf3e1c439deb96dd4db2da44722', 'message': 'WIP: KubeADM: Keystone Kubernetes Webhook\n\nThis PS adds the ability to deploy the Keystone Kubernetes Webhook\nchart via kubeadm-aio\n\nChange-Id: I18b0477a775de942f940e9c0984559089dca1cdb\nCo-Authored-By: Tin Lam <tin@irrational.io>\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2018-05-18 03:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2201df322b9527dabe3b166e5fbc4afdd0a3d0f6', 'message': 'WIP: KubeADM: Keystone Kubernetes Webhook\n\nThis PS adds the ability to deploy the Keystone Kubernetes Webhook\nchart via kubeadm-aio\n\nChange-Id: I18b0477a775de942f940e9c0984559089dca1cdb\nCo-Authored-By: Tin Lam <tin@irrational.io>\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2018-05-18 03:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2e5a70e80ee46e5378199ce007c9c3b6cd4cc668', 'message': 'WIP: KubeADM: Keystone Kubernetes Webhook\n\nThis PS adds the ability to deploy the Keystone Kubernetes Webhook\nchart via kubeadm-aio\n\nChange-Id: I18b0477a775de942f940e9c0984559089dca1cdb\nCo-Authored-By: Tin Lam <tin@irrational.io>\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2018-05-18 03:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/132a49bad91a5b41c4d71e256a7af17dc319400d', 'message': 'WIP: KubeADM: Keystone Kubernetes Webhook\n\nThis PS adds the ability to deploy the Keystone Kubernetes Webhook\nchart via kubeadm-aio\n\nChange-Id: I18b0477a775de942f940e9c0984559089dca1cdb\nCo-Authored-By: Tin Lam <tin@irrational.io>\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2018-05-18 04:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/81456bdbdd42485e47bb7fd900d8992fa9cdd1ff', 'message': 'WIP: KubeADM: Keystone Kubernetes Webhook\n\nThis PS adds the ability to deploy the Keystone Kubernetes Webhook\nchart via kubeadm-aio\n\nChange-Id: I18b0477a775de942f940e9c0984559089dca1cdb\nCo-Authored-By: Tin Lam <tin@irrational.io>\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 9, 'created': '2018-05-18 05:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/68ce5e6f2758d383902b743c3fa16c8a9dd4b316', 'message': 'WIP: KubeADM: Keystone Kubernetes Webhook\n\nThis PS adds the ability to deploy the Keystone Kubernetes Webhook\nchart via kubeadm-aio\n\nChange-Id: I18b0477a775de942f940e9c0984559089dca1cdb\nCo-Authored-By: Tin Lam <tin@irrational.io>\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 10, 'created': '2018-05-18 05:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8bfccccb4ec4556b653914bd082be5f428d5cff2', 'message': 'KubeADM: Keystone Kubernetes Webhook\n\nThis PS adds the ability to deploy the Keystone Kubernetes Webhook\nchart via kubeadm-aio\n\nChange-Id: I18b0477a775de942f940e9c0984559089dca1cdb\nCo-Authored-By: Tin Lam <tin@irrational.io>\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 11, 'created': '2018-05-18 05:54:05.000000000', 'files': ['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/templates/webhook.kubeconfig.j2', 'tools/images/kubeadm-aio/assets/opt/playbooks/vars.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/main.yaml', 'tools/images/kubeadm-aio/Dockerfile', 'tools/images/kubeadm-aio/assets/entrypoint.sh', '.zuul.yaml', 'tools/deployment/keystone-auth/check.sh', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-keystone-auth.yaml', 'roles/deploy-kubeadm-aio-common/tasks/util-kubeadm-aio-run.yaml', 'kubernetes-keystone-webhook/values.yaml', 'playbooks/osh-infra-keystone-k8s-auth.yaml', 'roles/deploy-kubeadm-aio-common/defaults/main.yml', 'roles/build-images/tasks/kubeadm-aio.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/39e1f7f9f38d6e8b704471acca4e30e912417f28', 'message': 'KubeADM: Keystone Kubernetes Webhook\n\nThis PS adds the ability to deploy the Keystone Kubernetes Webhook\nchart via kubeadm-aio\n\nChange-Id: I18b0477a775de942f940e9c0984559089dca1cdb\nCo-Authored-By: Tin Lam <tin@irrational.io>\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,569021,39e1f7f9f38d6e8b704471acca4e30e912417f28,21,4,11,23928,,,0,"KubeADM: Keystone Kubernetes Webhook

This PS adds the ability to deploy the Keystone Kubernetes Webhook
chart via kubeadm-aio

Change-Id: I18b0477a775de942f940e9c0984559089dca1cdb
Co-Authored-By: Tin Lam <tin@irrational.io>
Co-Authored-By: Gage Hugo <gagehugo@gmail.com>
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/21/569021/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-keystone-auth.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/templates/webhook.kubeconfig.j2', 'tools/images/kubeadm-aio/assets/opt/playbooks/vars.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/main.yaml', 'tools/images/kubeadm-aio/Dockerfile', 'tools/images/kubeadm-aio/assets/entrypoint.sh', 'kubernetes-keystone-webhook/values.yaml', 'roles/build-images/tasks/kubeadm-aio.yaml']",8,417ecd3dc75179a7a37744e07a2e0fc6b91fff2e,k8s-ks-webhook," --build-arg CHARTS=""calico,flannel,tiller,kube-dns,kubernetes-keystone-webhook"" \ --build-arg CHARTS=""calico,flannel,tiller,kube-dns,kubernetes-keystone-webhook"" \"," --build-arg CHARTS=""calico,flannel,tiller,kube-dns"" \ --build-arg CHARTS=""calico,flannel,tiller,kube-dns"" \",126,10
openstack%2Fopenstack-helm~master~Id978d7dd9653cd703bd43ccaecbfac08cc0606f7,openstack/openstack-helm,master,Id978d7dd9653cd703bd43ccaecbfac08cc0606f7,Use kubernetes-keystone-webhook chart in check job,ABANDONED,2018-05-14 17:57:36.000000000,2018-05-18 14:45:08.000000000,,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-14 17:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7b435dd2374c0206c73dfb8e4130567a5080ece5', 'message': 'DNM: add k8s-ks-webhook chart\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2018-05-14 18:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3fc81a584fe7eaec98629938ceb270d7523f7371', 'message': 'DNM: add k8s-ks-webhook chart\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2018-05-14 19:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f61cd0d848390f985a1debbd8fd8e0ac958eb8bd', 'message': 'DNM: add k8s-ks-webhook chart\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2018-05-14 22:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cf68fce53f62a64124b05cf1481dc72d4dbb0b02', 'message': 'DNM: add k8s-ks-webhook chart\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2018-05-14 22:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4eb3e4240ede5888e76c869475653dec3440834c', 'message': 'DNM: add k8s-ks-webhook chart\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2018-05-15 19:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ba4cb12c4a24244baa35eb15ce0df566d70a4275', 'message': 'DNM: add k8s-ks-webhook chart\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 7, 'created': '2018-05-15 20:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/30932c97260441a3469b0dc255c952278872666c', 'message': 'WIP - add k8s-ks-webhook chart\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 8, 'created': '2018-05-15 20:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/32a15bc9f4affdf2c638824edcb7c7905a436cbd', 'message': 'WIP - add k8s-ks-webhook chart\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 9, 'created': '2018-05-15 20:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/83953efb998514ccc1e558ecf9379d5ea5378d7b', 'message': 'WIP - add k8s-ks-webhook chart\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 10, 'created': '2018-05-15 21:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d1cab38ee4de70812377ef26778cf58da55b78da', 'message': 'WIP - Add k8s-ks-webhook chart and check job\n\nThis change adds a helm chart to create a webhook to be used to enforce policy\nauthorization with keystone while using kube-apiserver.\n\nThis also adds a zuul job to check the webhook against keystone using a pre-defined\nset of policy rules\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 11, 'created': '2018-05-15 21:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b1aae4368eba251a6803f84d96d0b66385259516', 'message': 'WIP - Add k8s-ks-webhook chart and check job\n\nThis change adds a helm chart to create a webhook to be used to enforce policy\nauthorization with keystone while using kube-apiserver.\n\nThis also adds a zuul job to check the webhook against keystone using a pre-defined\nset of policy rules\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 12, 'created': '2018-05-15 22:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/821c548e4914cea601136c42fef81a50b8caf420', 'message': 'WIP - Add k8s-ks-webhook chart and check job\n\nThis change adds a helm chart to create a webhook to be used to enforce policy\nauthorization with keystone while using kube-apiserver.\n\nThis also adds a zuul job to check the webhook against keystone using a pre-defined\nset of policy rules\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 13, 'created': '2018-05-15 22:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a9fdeeaab1d17f66022519d7825d0e9e9f884f00', 'message': 'WIP - Add k8s-ks-webhook chart and check job\n\nThis change adds a helm chart to create a webhook to be used to enforce policy\nauthorization with keystone while using kube-apiserver.\n\nThis also adds a zuul job to check the webhook against keystone using a pre-defined\nset of policy rules\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 14, 'created': '2018-05-16 00:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0724c96efe3b6c7fd35d414e004f0e26ee359184', 'message': 'WIP - Add k8s-ks-webhook chart and check job\n\nThis change adds a helm chart to create a webhook to be used to enforce policy\nauthorization with keystone while using kube-apiserver.\n\nThis also adds a zuul job to check the webhook against keystone using a pre-defined\nset of policy rules\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 15, 'created': '2018-05-16 00:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/489e89a0b8e38d386fa3d6f4c14303970573f275', 'message': 'WIP - Add k8s-ks-webhook chart and check job\n\nThis change adds a helm chart to create a webhook to be used to\nenforce policy authorization with keystone while using kube-apiserver.\n\nThis also adds a zuul job to check the webhook against keystone using\na pre-defined set of policy rules.\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 16, 'created': '2018-05-16 01:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5aa8f4272a4670d4e540229e4c71ed5b222fc55d', 'message': 'WIP - Add k8s-ks-webhook chart and check job\n\nThis change adds a helm chart to create a webhook to be used to\nenforce policy authorization with keystone while using kube-apiserver.\n\nThis also adds a zuul job to check the webhook against keystone using\na pre-defined set of policy rules.\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 17, 'created': '2018-05-16 02:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/47e60bc097c6bc831bf2d622ea764349f46084c2', 'message': 'WIP - Add k8s-ks-webhook chart and check job\n\nThis change adds a helm chart to create a webhook to be used to\nenforce policy authorization with keystone while using kube-apiserver.\n\nThis also adds a zuul job to check the webhook against keystone using\na pre-defined set of policy rules.\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 18, 'created': '2018-05-16 03:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5e80e63174afdb4695b777dcbf711dde1e2a60d7', 'message': 'Add k8s-keystone-webhook chart and check job\n\nThis change adds a helm chart to create a webhook to be used to\nenforce policy authorization with keystone while using kube-apiserver.\n\nThis also adds a zuul job to check the webhook against keystone using\na pre-defined set of policy rules.\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 19, 'created': '2018-05-16 03:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f4baeff1608cf6f00ba8c5afe881107f5a38800c', 'message': 'Add k8s-keystone-webhook chart and check job\n\nThis change adds a helm chart to create a webhook to be used to\nenforce policy authorization with keystone while using kube-apiserver.\n\nThis also adds a zuul job to check the webhook against keystone using\na pre-defined set of policy rules.\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 20, 'created': '2018-05-16 03:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1fb99d1e190fb6c13868995db22c223e3fdbf9ed', 'message': 'Add k8s-keystone-webhook chart and check job\n\nThis change adds a helm chart to create a webhook to be used to\nenforce policy authorization with keystone while using kube-apiserver.\n\nThis also adds a zuul job to check the webhook against keystone using\na pre-defined set of policy rules.\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 21, 'created': '2018-05-16 04:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/123c59c4431c53f92e348c9a2c276f1c72f48e35', 'message': 'Add k8s-keystone-webhook chart and check job\n\nThis change adds a helm chart to create a webhook to be used to\nenforce policy authorization with keystone while using kube-apiserver.\n\nThis also adds a zuul job to check the webhook against keystone using\na pre-defined set of policy rules.\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 22, 'created': '2018-05-16 05:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/73c6368dda6ed9347415aea6079317ed18e4b49f', 'message': 'Add k8s-keystone-webhook chart and check job\n\nThis change adds a helm chart to create a webhook to be used to\nenforce policy authorization with keystone while using kube-apiserver.\n\nThis also adds a zuul job to check the webhook against keystone using\na pre-defined set of policy rules.\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 23, 'created': '2018-05-16 14:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bbad54acf7e592d8c81424e417184d4b57aa86eb', 'message': 'Use kubernetes-keystone-webhook chart in check job\n\nThis patch set uses the k8s-keystone-webhook chart in OSH-infra\nin a new job.\n\nDepends-On: I16136f4ac2a787e8bcf90eb0675294300ac088f0\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\n'}, {'number': 24, 'created': '2018-05-17 03:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b68d58391c30e32d9dc6e5e111e4daaf1e3b32b9', 'message': 'Use kubernetes-keystone-webhook chart in check job\n\nThis patch set uses the k8s-keystone-webhook chart in OSH-infra\nin a new job.\n\nDepends-On: I16136f4ac2a787e8bcf90eb0675294300ac088f0\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\n'}, {'number': 25, 'created': '2018-05-17 04:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/49627a44dd79bd7af351bb1f2bb1da939c119620', 'message': 'Use kubernetes-keystone-webhook chart in check job\n\nThis patch set uses the k8s-keystone-webhook chart in OSH-infra\nin a new job.\n\nDepends-On: I16136f4ac2a787e8bcf90eb0675294300ac088f0\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 26, 'created': '2018-05-17 04:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c4b16d5f2aeeba17d805ce53fea1fcdd027d77e9', 'message': 'Use kubernetes-keystone-webhook chart in check job\n\nThis patch set uses the k8s-keystone-webhook chart in OSH-infra\nin a new job.\n\nDepends-On: I16136f4ac2a787e8bcf90eb0675294300ac088f0\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 27, 'created': '2018-05-17 05:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9c831d3aa72ebefe82f606737bb061839fadc6fa', 'message': 'Use kubernetes-keystone-webhook chart in check job\n\nThis patch set uses the k8s-keystone-webhook chart in OSH-infra\nin a new job.\n\nDepends-On: I16136f4ac2a787e8bcf90eb0675294300ac088f0\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 28, 'created': '2018-05-17 05:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/72f65b976aec22239172e60b2b1563ba6109be30', 'message': 'Use kubernetes-keystone-webhook chart in check job\n\nThis patch set uses the k8s-keystone-webhook chart in OSH-infra\nin a new job.\n\nDepends-On: I16136f4ac2a787e8bcf90eb0675294300ac088f0\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 29, 'created': '2018-05-17 16:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/943089acdbd428e7d61a39d660957cbc07b67ab9', 'message': 'Use kubernetes-keystone-webhook chart in check job\n\nThis patch set uses the k8s-keystone-webhook chart in OSH-infra\nin a new job.\n\nDepends-On: I18b0477a775de942f940e9c0984559089dca1cdb\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 30, 'created': '2018-05-17 18:07:36.000000000', 'files': ['tools/gate/playbooks/keystone-k8s-auth.yaml', '.zuul.yaml', 'tools/deployment/common/k8sksauth.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bd58beb550ef1cb053ec82f917e706f9c52597e6', 'message': 'Use kubernetes-keystone-webhook chart in check job\n\nThis patch set uses the k8s-keystone-webhook chart in OSH-infra\nin a new job.\n\nDepends-On: I16136f4ac2a787e8bcf90eb0675294300ac088f0\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\n\nChange-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",8,568338,bd58beb550ef1cb053ec82f917e706f9c52597e6,47,5,30,20466,,,0,"Use kubernetes-keystone-webhook chart in check job

This patch set uses the k8s-keystone-webhook chart in OSH-infra
in a new job.

Depends-On: I16136f4ac2a787e8bcf90eb0675294300ac088f0
Co-Authored-By: Gage Hugo <gagehugo@gmail.com>

Change-Id: Id978d7dd9653cd703bd43ccaecbfac08cc0606f7
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/38/568338/25 && git format-patch -1 --stdout FETCH_HEAD,"['k8s-ks-auth/templates/configmap-bin.yaml', 'k8s-ks-auth/templates/configmap-etc.yaml', 'k8s-ks-auth/.helmignore', 'k8s-ks-auth/templates/etc/_policy.json.tpl', 'k8s-ks-auth/templates/bin/_start.sh.tpl', 'k8s-ks-auth/templates/deployment.yaml', 'k8s-ks-auth/values.yaml', 'k8s-ks-auth/Chart.yaml', 'k8s-ks-auth/templates/ingress.yaml', 'k8s-ks-auth/templates/service.yaml']",10,7b435dd2374c0206c73dfb8e4130567a5080ece5,k8s-ks-webhook,"{{- if .Values.manifests.service }} {{- $envAll := . }} --- apiVersion: v1 kind: Service metadata: name: {{ tuple ""k8sksauth"" ""internal"" . | include ""helm-toolkit.endpoints.hostname_short_endpoint_lookup"" }} spec: ports: - name: k8sksauth port: {{ tuple ""k8sksauth"" ""internal"" ""k8sksauth"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} selector: {{ tuple $envAll ""k8sksauth"" ""server"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} {{- end }} ",,260,0
openstack%2Fopenstack-helm~master~I5ed4df112d7b71493417ef7d655dd57df5213306,openstack/openstack-helm,master,I5ed4df112d7b71493417ef7d655dd57df5213306,Release Support: OpenStack Pike,MERGED,2018-05-18 03:43:43.000000000,2018-05-18 14:38:44.000000000,2018-05-18 14:38:44.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-18 03:43:43.000000000', 'files': ['tools/overrides/releases/pike/loci.yaml', 'tools/overrides/releases/pike/kolla.yaml', 'tools/images/openstack/pike/loci.sh', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a4fa9b761e2de14df588c1e37f3693174f15ad36', 'message': 'Release Support: OpenStack Pike\n\nThis PS adds support for OpenStack Pike.\n\nChange-Id: I5ed4df112d7b71493417ef7d655dd57df5213306\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,569315,a4fa9b761e2de14df588c1e37f3693174f15ad36,9,4,1,23928,,,0,"Release Support: OpenStack Pike

This PS adds support for OpenStack Pike.

Change-Id: I5ed4df112d7b71493417ef7d655dd57df5213306
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/15/569315/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/overrides/releases/pike/loci.yaml', 'tools/overrides/releases/pike/kolla.yaml', 'tools/images/openstack/pike/loci.sh', '.zuul.yaml']",4,a4fa9b761e2de14df588c1e37f3693174f15ad36,images/pike, - openstack-helm-pike-loci-deploy-ceph: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - openstack-helm-pike-kolla-deploy-ceph: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ name: openstack-helm-pike-loci-deploy-ceph vars: zuul_osh_extra_helm_args_relative_path: --values=./tools/overrides/releases/pike/loci.yaml parent: openstack-helm-dev-deploy run: tools/gate/playbooks/dev-deploy-ceph.yaml - job: name: openstack-helm-pike-kolla-deploy-ceph vars: zuul_osh_extra_helm_args_relative_path: --values=./tools/overrides/releases/pike/kolla.yaml parent: openstack-helm-dev-deploy run: tools/gate/playbooks/dev-deploy-ceph.yaml - job:,,381,0
openstack%2Fopenstack-helm-infra~master~I203206d57a3c3b44aa889e3d8b5bd67d5571e672,openstack/openstack-helm-infra,master,I203206d57a3c3b44aa889e3d8b5bd67d5571e672,Gate: Fix log collection in zuul,MERGED,2018-05-18 00:47:17.000000000,2018-05-18 14:36:25.000000000,2018-05-18 14:36:25.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 00:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/13f1abe59ad1f3c847b9aecb873b56068db58bf8', 'message': 'Gate: Fix log collection in zuul\n\nThis PS fixes the log collection in zuul.\n\nChange-Id: I203206d57a3c3b44aa889e3d8b5bd67d5571e672\n'}, {'number': 2, 'created': '2018-05-18 02:49:20.000000000', 'files': ['playbooks/vars.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/58f184d9005960d2dae9948f61bea9126f26a1c2', 'message': 'Gate: Fix log collection in zuul\n\nThis PS fixes the log collection in zuul.\n\nChange-Id: I203206d57a3c3b44aa889e3d8b5bd67d5571e672\n'}]",0,569294,58f184d9005960d2dae9948f61bea9126f26a1c2,9,3,2,23928,,,0,"Gate: Fix log collection in zuul

This PS fixes the log collection in zuul.

Change-Id: I203206d57a3c3b44aa889e3d8b5bd67d5571e672
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/94/569294/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/vars.yaml'],1,13f1abe59ad1f3c847b9aecb873b56068db58bf8,fix/logs,"# NOTE(portdirect): for use in the dev-deploy scripts, a valid vars.yaml is # required, so provide some nonsense, yet harmless input. dummy_value: ""Lorem Ipsum""",null: null,3,1
openstack%2Fopenstack-helm-infra~master~I16136f4ac2a787e8bcf90eb0675294300ac088f0,openstack/openstack-helm-infra,master,I16136f4ac2a787e8bcf90eb0675294300ac088f0,Add kubernetes-keystone-webhook chart,MERGED,2018-05-16 14:42:02.000000000,2018-05-18 14:36:01.000000000,2018-05-18 14:36:00.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-16 14:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fc9576b62d649716747449862f173004e06c0566', 'message': 'Add kubernetes-keystone-webhook chart\n\nThis patch set adds a kubernetes keystone webhook authorizer chart to\nOpenStack-Helm-Infra.\n\nChange-Id: I16136f4ac2a787e8bcf90eb0675294300ac088f0\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2018-05-17 01:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/24a19ce770e93e0d95d22c1d8422a9d52441aad9', 'message': 'Add kubernetes-keystone-webhook chart\n\nThis patch set adds a kubernetes keystone webhook authorizer chart to\nOpenStack-Helm-Infra.\n\nChange-Id: I16136f4ac2a787e8bcf90eb0675294300ac088f0\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2018-05-17 02:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0aa0b665680cf252559bc90ae8176965c6bfa87e', 'message': 'Add kubernetes-keystone-webhook chart\n\nThis patch set adds a kubernetes keystone webhook authorizer chart to\nOpenStack-Helm-Infra.\n\nChange-Id: I16136f4ac2a787e8bcf90eb0675294300ac088f0\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2018-05-17 02:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c31d9a3d64dbd506bdb2f0ffc86a0514e0715f32', 'message': 'Add kubernetes-keystone-webhook chart\n\nThis patch set adds a kubernetes keystone webhook authorizer chart to\nOpenStack-Helm-Infra.\n\nChange-Id: I16136f4ac2a787e8bcf90eb0675294300ac088f0\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2018-05-17 03:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fca6f055b38664d64e14d339d2808556b1f2d9f0', 'message': 'Add kubernetes-keystone-webhook chart\n\nThis patch set adds a kubernetes keystone webhook authorizer chart to\nOpenStack-Helm-Infra.\n\nChange-Id: I16136f4ac2a787e8bcf90eb0675294300ac088f0\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2018-05-17 03:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/74e2da546d9206f23616e47811641904d5f676e9', 'message': 'Add kubernetes-keystone-webhook chart\n\nThis patch set adds a kubernetes keystone webhook authorizer chart to\nOpenStack-Helm-Infra.\n\nChange-Id: I16136f4ac2a787e8bcf90eb0675294300ac088f0\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2018-05-17 05:00:44.000000000', 'files': ['kubernetes-keystone-webhook/templates/deployment.yaml', 'kubernetes-keystone-webhook/requirements.yaml', 'kubernetes-keystone-webhook/Chart.yaml', 'kubernetes-keystone-webhook/templates/ingress.yaml', 'kubernetes-keystone-webhook/templates/bin/_kubernetes-keystone-webhook-test.sh.tpl', 'kubernetes-keystone-webhook/templates/service-ingress-api.yaml', 'kubernetes-keystone-webhook/templates/secret-keystone.yaml', 'kubernetes-keystone-webhook/templates/service.yaml', 'kubernetes-keystone-webhook/templates/pod-test.yaml', 'kubernetes-keystone-webhook/templates/configmap-bin.yaml', 'kubernetes-keystone-webhook/templates/bin/_start.sh.tpl', 'kubernetes-keystone-webhook/templates/secret-certificates.yaml', 'kubernetes-keystone-webhook/values.yaml', 'kubernetes-keystone-webhook/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d11edaf5bec41060d4159d946b0da93f3bcdff4d', 'message': 'Add kubernetes-keystone-webhook chart\n\nThis patch set adds a kubernetes keystone webhook authorizer chart to\nOpenStack-Helm-Infra.\n\nChange-Id: I16136f4ac2a787e8bcf90eb0675294300ac088f0\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,568863,d11edaf5bec41060d4159d946b0da93f3bcdff4d,20,6,7,20466,,,0,"Add kubernetes-keystone-webhook chart

This patch set adds a kubernetes keystone webhook authorizer chart to
OpenStack-Helm-Infra.

Change-Id: I16136f4ac2a787e8bcf90eb0675294300ac088f0
Co-Authored-By: Gage Hugo <gagehugo@gmail.com>
Signed-off-by: Tin Lam <tin@irrational.io>
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/63/568863/7 && git format-patch -1 --stdout FETCH_HEAD,"['k8s-ks-auth/templates/configmap-etc.yaml', 'k8s-ks-auth/templates/bin/_start.sh.tpl', 'k8s-ks-auth/templates/deployment.yaml', 'k8s-ks-auth/Chart.yaml', 'k8s-ks-auth/requirements.yaml', 'k8s-ks-auth/templates/ingress.yaml', 'k8s-ks-auth/templates/service.yaml', 'k8s-ks-auth/templates/configmap-bin.yaml', 'k8s-ks-auth/.helmignore', 'k8s-ks-auth/values.yaml', 'k8s-ks-auth/templates/pod-test.yaml', 'k8s-ks-auth/templates/bin/_k8sksauth-test.sh.tpl', 'k8s-ks-auth/templates/secret.yaml', 'k8s-ks-auth/templates/service-ingress-api.yaml']",14,fc9576b62d649716747449862f173004e06c0566,k8s-ks-webhook,"{{- if and .Values.manifests.service_ingress_api .Values.network.api.ingress.public }} {{- $serviceIngressOpts := dict ""envAll"" . ""backendService"" ""api"" ""backendServiceType"" ""k8sksauth"" -}} {{ $serviceIngressOpts | include ""helm-toolkit.manifests.service_ingress"" }} {{- end }} ",,370,0
openstack%2Fpython-glanceclient~master~I0d14974126fcb20e23a37347f4f1756c323cf2f5,openstack/python-glanceclient,master,I0d14974126fcb20e23a37347f4f1756c323cf2f5,Handle HTTP headers per RFC 8187,MERGED,2018-05-15 21:22:51.000000000,2018-05-18 14:34:25.000000000,2018-05-18 14:34:25.000000000,"[{'_account_id': 2}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 21:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/981e063b0fc7bc5f2cc7a9425e37e887d88f64d2', 'message': ""Handle HTTP headers per RFC 8187\n\nAccording to RFC 8187, HTTP headers should use 7-bit ASCII encoding.\nThe glanceclient was encoding them as UTF-8, which can leave the 8th\nbit nonzero when representing unicode, and which presents problems\nfor any recipient following the standard and decoding the headers as\nASCII.\n\nThe dependency is a keystoneauth1 change that can handle headers as\nencoded as bytes (it's a fix for a change that was breaking on bytes\nin headers).\nDepends-on: https://review.openstack.org/#/c/568365/\n\nChange-Id: I0d14974126fcb20e23a37347f4f1756c323cf2f5\nCloses-bug: #1766235\n""}, {'number': 2, 'created': '2018-05-16 14:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/7a3c9c74e17e1d578962cb694ac16183e68574c9', 'message': ""DNM: Handle HTTP headers per RFC 8187\n\n(The reason not to merge is that this patch currently contains a\nspecial job in .zull.yaml so that it can be tested against the\nkeystoneauth1 depencency.)\n\nAccording to RFC 8187, HTTP headers should use 7-bit ASCII encoding.\nThe glanceclient was encoding them as UTF-8, which can leave the 8th\nbit nonzero when representing unicode, and which presents problems\nfor any recipient following the standard and decoding the headers as\nASCII.\n\nThe dependency is a keystoneauth1 change that can handle headers as\nencoded as bytes (it's a fix for a change that was breaking on bytes\nin headers).\nDepends-on: https://review.openstack.org/#/c/568365/\n\nChange-Id: I0d14974126fcb20e23a37347f4f1756c323cf2f5\nCloses-bug: #1766235\n""}, {'number': 3, 'created': '2018-05-17 19:54:15.000000000', 'files': ['requirements.txt', 'glanceclient/tests/unit/test_http.py', 'glanceclient/common/http.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/ee029a9b927a41c028427f8afc1821ed914e6d47', 'message': 'Handle HTTP headers per RFC 8187\n\nAccording to RFC 8187, HTTP headers should use 7-bit ASCII encoding.\nThe glanceclient was encoding them as UTF-8, which can leave the 8th\nbit nonzero when representing unicode, and which presents problems\nfor any recipient following the standard and decoding the headers as\nASCII.\n\nThis change requires keystoneauth1 3.6.2, which has a fix for a\nbug that made it unable to handle bytes in headers.  The dependency\nis a patch bumping the keystoneauth1 version in upper-constraints.\n\nDepends-on: https://review.openstack.org/#/c/569138/\n\nChange-Id: I0d14974126fcb20e23a37347f4f1756c323cf2f5\nCloses-bug: #1766235\n'}]",0,568698,ee029a9b927a41c028427f8afc1821ed914e6d47,15,5,3,5314,,,0,"Handle HTTP headers per RFC 8187

According to RFC 8187, HTTP headers should use 7-bit ASCII encoding.
The glanceclient was encoding them as UTF-8, which can leave the 8th
bit nonzero when representing unicode, and which presents problems
for any recipient following the standard and decoding the headers as
ASCII.

This change requires keystoneauth1 3.6.2, which has a fix for a
bug that made it unable to handle bytes in headers.  The dependency
is a patch bumping the keystoneauth1 version in upper-constraints.

Depends-on: https://review.openstack.org/#/c/569138/

Change-Id: I0d14974126fcb20e23a37347f4f1756c323cf2f5
Closes-bug: #1766235
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/98/568698/2 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/tests/unit/test_http.py', 'glanceclient/common/http.py']",2,981e063b0fc7bc5f2cc7a9425e37e887d88f64d2,bug/1766235,"import six.moves.urllib.parse as urlparse # NOTE(rosmaita): This function's rejection of any header name without a # corresponding value is arguably justified by RFC 7230. In any case, that # behavior was already here and there is an existing unit test for it. # Bug #1766235: According to RFC 8187, headers must be encoded as ASCII. # So we first %-encode them to get them into range < 128 and then turn # them into ASCII. if six.PY2: # incoming items may be unicode, so get them into something # the py2 version of urllib can handle before percent encoding encoded_dict = dict((urlparse.quote(encodeutils.safe_encode(h)), urlparse.quote(encodeutils.safe_encode(v))) for h, v in headers.items() if v is not None) else: encoded_dict = dict((urlparse.quote(h), urlparse.quote(v)) for h, v in headers.items() if v is not None) return dict((encodeutils.safe_encode(h, encoding='ascii'), encodeutils.safe_encode(v, encoding='ascii')) for h, v in encoded_dict.items())"," return dict((encodeutils.safe_encode(h), encodeutils.safe_encode(v)) for h, v in headers.items() if v is not None)",32,5
openstack%2Fkuryr-kubernetes~master~Iabca253a86dc89b567a9a68b09cef015c9a482b0,openstack/kuryr-kubernetes,master,Iabca253a86dc89b567a9a68b09cef015c9a482b0,Remove admin rights need from verify_keystone_connection,MERGED,2018-05-18 11:46:18.000000000,2018-05-18 14:33:20.000000000,2018-05-18 14:16:57.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 24604}]","[{'number': 1, 'created': '2018-05-18 11:46:18.000000000', 'files': ['kuryr_kubernetes/controller/managers/health.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a5926489e553be8faf8802c6ad549367bf0a24cb', 'message': 'Remove admin rights need from verify_keystone_connection\n\nThis patch sets changes the call perform to verify keystone\nconnectivity from project list to region list, as the former\nneeds admin rights by default. In addion, usually the number of\nregions is low, so it should be a non expensive call to keystone.\n\nCloses-Bug: 1772005\n\nChange-Id: Iabca253a86dc89b567a9a68b09cef015c9a482b0\n'}]",1,569395,a5926489e553be8faf8802c6ad549367bf0a24cb,9,6,1,23567,,,0,"Remove admin rights need from verify_keystone_connection

This patch sets changes the call perform to verify keystone
connectivity from project list to region list, as the former
needs admin rights by default. In addion, usually the number of
regions is low, so it should be a non expensive call to keystone.

Closes-Bug: 1772005

Change-Id: Iabca253a86dc89b567a9a68b09cef015c9a482b0
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/95/569395/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/managers/health.py'],1,a5926489e553be8faf8802c6ad549367bf0a24cb,bug/1772005, ks.regions.list(), ks.projects.list(),1,1
openstack%2Fironic-python-agent~master~I184a9d0bf4a0ba0776d519b3a3b9ccd39151b4ae,openstack/ironic-python-agent,master,I184a9d0bf4a0ba0776d519b3a3b9ccd39151b4ae,write byte objects when using os.write,MERGED,2018-05-17 16:12:02.000000000,2018-05-18 14:30:31.000000000,2018-05-18 14:30:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 16:12:02.000000000', 'files': ['ironic_python_agent/agent.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a03661c4a835a16ce8f7bf226969dbae103c62c7', 'message': 'write byte objects when using os.write\n\nChange-Id: I184a9d0bf4a0ba0776d519b3a3b9ccd39151b4ae\nStory: 2002052\nTask: 19713\n'}]",0,569159,a03661c4a835a16ce8f7bf226969dbae103c62c7,7,3,1,14288,,,0,"write byte objects when using os.write

Change-Id: I184a9d0bf4a0ba0776d519b3a3b9ccd39151b4ae
Story: 2002052
Task: 19713
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/59/569159/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/agent.py'],1,a03661c4a835a16ce8f7bf226969dbae103c62c7,fix-os.write," os.write(self.writer, b'b') os.write(self.writer, b'a')"," os.write(self.writer, 'b') os.write(self.writer, 'a')",2,2
openstack%2Fironic-python-agent~master~Ib617737fff5e40cb376edda0232e0726d9c71231,openstack/ironic-python-agent,master,Ib617737fff5e40cb376edda0232e0726d9c71231,Fix for fatal error when GPT was used and only MBR was cleaned,MERGED,2018-05-17 10:58:07.000000000,2018-05-18 14:30:29.000000000,2018-05-18 14:30:29.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19578}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 10:58:07.000000000', 'files': ['ironic_python_agent/shell/write_image.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5fcf3f066ccdbcc081ae35ab25f1c18737b94778', 'message': 'Fix for fatal error when GPT was used and only MBR was cleaned\n\nYou can generate this error if after having provisioned a node\nusing GPT partitioning, you clean its MBR using say\ndd if=/dev/zero bs=1024 count=1 of=/dev/sda\nand then cleanup all Ironic/Bifrost informations to get it\nreprovisioned.\nIn this case sgdisk -Z returns an error and last_error field\nin Ironic contains:\nError writing image to device: Writing image to device\n        /dev/sda failed with exit code 2\nCaution: invalid main GPT header, but valid backup;\n        regenerating main header\\nfrom backup!\\n\n        \\nInvalid partition data!\\\n\nChange-Id: Ib617737fff5e40cb376edda0232e0726d9c71231\n'}]",0,569086,5fcf3f066ccdbcc081ae35ab25f1c18737b94778,9,4,1,19578,,,0,"Fix for fatal error when GPT was used and only MBR was cleaned

You can generate this error if after having provisioned a node
using GPT partitioning, you clean its MBR using say
dd if=/dev/zero bs=1024 count=1 of=/dev/sda
and then cleanup all Ironic/Bifrost informations to get it
reprovisioned.
In this case sgdisk -Z returns an error and last_error field
in Ironic contains:
Error writing image to device: Writing image to device
        /dev/sda failed with exit code 2
Caution: invalid main GPT header, but valid backup;
        regenerating main header\nfrom backup!\n
        \nInvalid partition data!\

Change-Id: Ib617737fff5e40cb376edda0232e0726d9c71231
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/86/569086/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/shell/write_image.sh'],1,5fcf3f066ccdbcc081ae35ab25f1c18737b94778,fix-gpt-reprovisioning,sgdisk -Z $DEVICE || sgdisk -o $DEVICE,sgdisk -Z $DEVICE,1,1
openstack%2Fcinder~master~I32249afb29295344ac32e30a63a437e525b469d5,openstack/cinder,master,I32249afb29295344ac32e30a63a437e525b469d5,Fix NVMET minor log message issues,MERGED,2018-05-14 09:25:50.000000000,2018-05-18 14:27:58.000000000,2018-05-15 01:02:13.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12171}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26537}, {'_account_id': 26682}]","[{'number': 1, 'created': '2018-05-14 09:25:50.000000000', 'files': ['cinder/volume/targets/nvmet.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f994ad60d48da729750f08b3202d73957026ca81', 'message': 'Fix NVMET minor log message issues\n\nChange-Id: I32249afb29295344ac32e30a63a437e525b469d5\n'}]",0,568244,f994ad60d48da729750f08b3202d73957026ca81,42,26,1,22948,,,0,"Fix NVMET minor log message issues

Change-Id: I32249afb29295344ac32e30a63a437e525b469d5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/568244/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/targets/nvmet.py'],1,f994ad60d48da729750f08b3202d73957026ca81,," LOG.debug('Skip creating subsystem %s as ' 'it already exists.', search_for_subsystem) 'Trying to load the following subsystems: %s', nvmf_subsystems)"," LOG.info('Skip creating subsystem %s as ' 'it already exists.', search_for_subsystem) 'Trying to load the following subsystems:%s', nvmf_subsystems)",3,3
openstack%2Fcinder~stable%2Focata~I3b775da8c5e862def54e9d44d7b157cf17a07a24,openstack/cinder,stable/ocata,I3b775da8c5e862def54e9d44d7b157cf17a07a24,Unity: Fix duplicate hosts created with same name,MERGED,2018-01-05 02:14:12.000000000,2018-05-18 14:27:41.000000000,2018-05-15 23:26:29.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 10628}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14624}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 23871}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26285}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-05 02:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c475b10b4f706698536e52af27d46137d4f0d5d2', 'message': 'Unity: Fix duplicate hosts created with same name\n\nIn some circumstance, there is a race condition in querying/creating\nUnity host thus multiple hosts with same name were created.\n\nThis issue stops any further attach/detach operation.\n\nThis patch leverage the DSL in cinder to avoid above race condition.\n\nChange-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24\nCloses-bug: #1726284\n(cherry picked from commit d8dd30f16b8712385b2f0d43c4d0a45f5fe4be41)\n(cherry picked from commit 85bc7559fb3b8c8ff3d508b3ef54bc4ba4a0591f)\n'}, {'number': 2, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/baaca77cd51224600a84b7a34ce994fe436efb74', 'message': 'Unity: Fix duplicate hosts created with same name\n\nIn some circumstance, there is a race condition in querying/creating\nUnity host thus multiple hosts with same name were created.\n\nThis issue stops any further attach/detach operation.\n\nThis patch leverage the DSL in cinder to avoid above race condition.\n\nChange-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24\nCloses-bug: #1726284\n(cherry picked from commit d8dd30f16b8712385b2f0d43c4d0a45f5fe4be41)\n(cherry picked from commit 85bc7559fb3b8c8ff3d508b3ef54bc4ba4a0591f)\n'}, {'number': 3, 'created': '2018-04-12 12:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/67e49cd878d24c5d8a2772f8a40fc62b6dbcddac', 'message': 'Unity: Fix duplicate hosts created with same name\n\nIn some circumstance, there is a race condition in querying/creating\nUnity host thus multiple hosts with same name were created.\n\nThis issue stops any further attach/detach operation.\n\nThis patch leverage the DSL in cinder to avoid above race condition.\n\nChange-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24\nCloses-bug: #1726284\n(cherry picked from commit d8dd30f16b8712385b2f0d43c4d0a45f5fe4be41)\n(cherry picked from commit 85bc7559fb3b8c8ff3d508b3ef54bc4ba4a0591f)\n'}, {'number': 4, 'created': '2018-05-14 13:46:05.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_client.py', 'cinder/volume/drivers/dell_emc/unity/client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f52890be52f47eb83f96c9de8e552d85657896e7', 'message': 'Unity: Fix duplicate hosts created with same name\n\nIn some circumstance, there is a race condition in querying/creating\nUnity host thus multiple hosts with same name were created.\n\nThis issue stops any further attach/detach operation.\n\nThis patch leverage the DSL in cinder to avoid above race condition.\n\nChange-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24\nCloses-bug: #1726284\n(cherry picked from commit d8dd30f16b8712385b2f0d43c4d0a45f5fe4be41)\n(cherry picked from commit 85bc7559fb3b8c8ff3d508b3ef54bc4ba4a0591f)\n'}]",0,531278,f52890be52f47eb83f96c9de8e552d85657896e7,108,30,4,10628,,,0,"Unity: Fix duplicate hosts created with same name

In some circumstance, there is a race condition in querying/creating
Unity host thus multiple hosts with same name were created.

This issue stops any further attach/detach operation.

This patch leverage the DSL in cinder to avoid above race condition.

Change-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24
Closes-bug: #1726284
(cherry picked from commit d8dd30f16b8712385b2f0d43c4d0a45f5fe4be41)
(cherry picked from commit 85bc7559fb3b8c8ff3d508b3ef54bc4ba4a0591f)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/531278/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_client.py', 'cinder/volume/drivers/dell_emc/unity/client.py']",4,c475b10b4f706698536e52af27d46137d4f0d5d2,driverfixes_sync,"from cinder import coordination self.host_cache = {} @coordination.synchronized('{self.host}-{name}') def create_host(self, name): """"""Provides existing host if exists else create one."""""" if name not in self.host_cache: try: host = self.system.get_host(name=name) except storops_ex.UnityResourceNotFoundError: LOG.debug('Host %s not found. Create a new one.', name) host = self.system.create_host(name=name) self.host_cache[name] = host else: host = self.host_cache[name] return host def update_host_initiators(self, host, uids): """"""Updates host with the supplied uids."""""" if un_registered: for uid in un_registered: try: host.add_initiator(uid, force_create=True) except storops_ex.UnityHostInitiatorExistedError: # This make concurrent modification of # host initiators safe LOG.debug( 'The uid(%s) was already in ' '%s.', uid, host.name) host.update() # Update host cached with new initiators. self.host_cache[host.name] = host "," def create_host(self, name, uids): """"""Creates a host on Unity. Creates a host on Unity which has the uids associated. :param name: name of the host :param uids: iqns or wwns list :return: UnitHost object """""" try: host = self.system.get_host(name=name) except storops_ex.UnityResourceNotFoundError: LOG.debug('Existing host %s not found. Create a new one.', name) host = self.system.create_host(name=name) for uid in un_registered: host.add_initiator(uid, force_create=True) host.update() def get_host(self, name): return self.system.get_host(name=name) ",73,39
openstack%2Fcinder~master~Ib8f00df49f126fc8533494ba5823da031191cea9,openstack/cinder,master,Ib8f00df49f126fc8533494ba5823da031191cea9,Fix hostname validation regex.,MERGED,2018-05-08 15:33:28.000000000,2018-05-18 14:27:37.000000000,2018-05-10 23:09:40.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17097}, {'_account_id': 18058}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 25186}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-08 15:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6de3e872ec5b2acb471c3a3ce667cae70f79da19', 'message': ""Fix hostname validation regex.\n\nWith the addition of the fields validation on the API, cinder now\noes not allow ':' and '/' characters on the hostname field. Some\ndrivers use there characters for the hostname of the volumes, mainly\nfor the NFS implementation. This patch fixes that by adding these\ncharacters to the validation regex.\n\nCloses-Bug: #1769889\nChange-Id: Ib8f00df49f126fc8533494ba5823da031191cea9\n""}, {'number': 2, 'created': '2018-05-08 19:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a96559a353dd8cb21da68ce26403c46daeda40b2', 'message': ""Fix hostname validation regex.\n\nWith the addition of the fields validation on the API, cinder now\noes not allow ':' and '/' characters on the hostname field. Some\ndrivers use there characters for the hostname of the volumes, mainly\nfor the NFS implementation. This patch fixes that by adding these\ncharacters to the validation regex.\n\nCloses-Bug: #1769889\nChange-Id: Ib8f00df49f126fc8533494ba5823da031191cea9\n""}, {'number': 3, 'created': '2018-05-09 18:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5314de7ffc4eeb272cc3beb33ebd45f2f275c1b9', 'message': ""Fix hostname validation regex.\n\nWith the addition of the fields validation on the API, cinder now\noes not allow ':' and '/' characters on the hostname field. Some\ndrivers use there characters for the hostname of the volumes, mainly\nfor the NFS implementation. This patch fixes that by adding these\ncharacters to the validation regex.\n\nCloses-Bug: #1769889\nChange-Id: Ib8f00df49f126fc8533494ba5823da031191cea9\n""}, {'number': 4, 'created': '2018-05-09 19:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/76edef6150b251a45e2e117d414648136d244e96', 'message': ""Fix hostname validation regex.\n\nWith the addition of the fields validation on the API, cinder now\noes not allow ':' and '/' characters on the hostname field. Some\ndrivers use there characters for the hostname of the volumes, mainly\nfor the NFS implementation. This patch fixes that by adding these\ncharacters to the validation regex.\n\nCloses-Bug: #1769889\nChange-Id: Ib8f00df49f126fc8533494ba5823da031191cea9\n""}, {'number': 5, 'created': '2018-05-09 19:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d39ffe4c1fa483561b2d244af0c930d4db7e595', 'message': ""Fix hostname validation regex.\n\nWith the addition of the fields validation on the API, cinder now\ndoes not allow ':' and '/' characters on the hostname field. Some\ndrivers use these characters for the hostname of the volumes, mainly\nfor the NFS implementation. This patch fixes that by adding these\ncharacters to the validation regex.\n\nCloses-Bug: #1769889\nChange-Id: Ib8f00df49f126fc8533494ba5823da031191cea9\n""}, {'number': 6, 'created': '2018-05-09 19:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/44512319d0543e3865e26ca0c2e6622e7bfb21a9', 'message': ""Fix hostname validation regex\n\nWith the addition of the fields validation on the API, cinder now\ndoes not allow ':' and '/' characters on the hostname field. Some\ndrivers use these characters for the hostname of the volumes, mainly\nfor the NFS implementation. This patch fixes that by adding these\ncharacters to the validation regex.\n\nCloses-Bug: #1769889\nChange-Id: Ib8f00df49f126fc8533494ba5823da031191cea9\n""}, {'number': 7, 'created': '2018-05-10 17:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/26d65ca75f709405bdf6cb8daa11745e13d1fbc1', 'message': ""Fix hostname validation regex.\n\nWith the addition of the fields validation on the API, cinder now\noes not allow ':' and '/' characters on the hostname field. Some\ndrivers use there characters for the hostname of the volumes, mainly\nfor the NFS implementation. This patch fixes that by adding these\ncharacters to the validation regex.\n\nCloses-Bug: #1769889\nChange-Id: Ib8f00df49f126fc8533494ba5823da031191cea9\n""}, {'number': 8, 'created': '2018-05-10 18:57:59.000000000', 'files': ['cinder/api/validation/parameter_types.py', 'cinder/tests/unit/api/contrib/test_volume_manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b243abc230383a6d0c93d985a45e185bf6074ec', 'message': ""Fix hostname validation regex.\n\nWith the addition of the fields validation on the API, cinder now\ndoes not allow ':' and '/' characters on the hostname field. Some\ndrivers use these characters for the hostname of the volumes, mainly\nfor the NFS implementation. This patch fixes that by adding these\ncharacters to the validation regex.\n\nCloses-Bug: #1769889\nChange-Id: Ib8f00df49f126fc8533494ba5823da031191cea9\n""}]",9,566925,1b243abc230383a6d0c93d985a45e185bf6074ec,110,34,8,25186,,,0,"Fix hostname validation regex.

With the addition of the fields validation on the API, cinder now
does not allow ':' and '/' characters on the hostname field. Some
drivers use these characters for the hostname of the volumes, mainly
for the NFS implementation. This patch fixes that by adding these
characters to the validation regex.

Closes-Bug: #1769889
Change-Id: Ib8f00df49f126fc8533494ba5823da031191cea9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/566925/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/validation/parameter_types.py'],1,6de3e872ec5b2acb471c3a3ce667cae70f79da19,bug/1769889, 'pattern': '^[a-zA-Z0-9-._#@:/]*$', 'pattern': '^[a-zA-Z0-9-._#@]*$',1,1
openstack%2Fcinder~stable%2Fqueens~I73b227bae51997bebb9070cc48466f5e0b3699c3,openstack/cinder,stable/queens,I73b227bae51997bebb9070cc48466f5e0b3699c3,Huawei driver supports create_group_from_src,MERGED,2018-05-14 05:56:57.000000000,2018-05-18 14:27:13.000000000,2018-05-17 16:44:57.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-14 05:56:57.000000000', 'files': ['cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/huawei_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/71284352ac1a8896d0850c769233288660e2deda', 'message': ""Huawei driver supports create_group_from_src\n\nHuawei driver doesn't implement create_group_from_src interface right now,\nthough Cinder framework provides a generic implementation, but it cannot\nguarantee the group volume data consistency for Huawei driver, so Huawei\ndriver is supposed to provide this ability itself.\n\nChange-Id: I73b227bae51997bebb9070cc48466f5e0b3699c3\nCloses-Bug: #1763242\n(cherry picked from commit cce4f7d355ebcc7e0ec6168544a6d138e6bdd79d)\n""}]",0,568194,71284352ac1a8896d0850c769233288660e2deda,21,17,1,16203,,,0,"Huawei driver supports create_group_from_src

Huawei driver doesn't implement create_group_from_src interface right now,
though Cinder framework provides a generic implementation, but it cannot
guarantee the group volume data consistency for Huawei driver, so Huawei
driver is supposed to provide this ability itself.

Change-Id: I73b227bae51997bebb9070cc48466f5e0b3699c3
Closes-Bug: #1763242
(cherry picked from commit cce4f7d355ebcc7e0ec6168544a6d138e6bdd79d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/568194/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/huawei_driver.py']",2,71284352ac1a8896d0850c769233288660e2deda,bug/1763242,"from cinder import objects pool['consistencygroup_support'] = True 'NAME': huawei_utils.encode_name(dst_volume_name), def _create_snapshot_base(self, snapshot): return snapshot_id def create_snapshot(self, snapshot): snapshot_id = self._create_snapshot_base(snapshot) try: self.client.activate_snapshot(snapshot_id) except Exception: with excutils.save_and_reraise_exception(): LOG.error(""Active snapshot %s failed, now deleting it."", snapshot_id) self.client.delete_snapshot(snapshot_id) snapshot_info = self.client.get_snapshot_info(snapshot_id) location = huawei_utils.to_string( huawei_snapshot_id=snapshot_id, huawei_snapshot_wwn=snapshot_info['WWN']) return {'provider_location': location} def _get_group_type(self, group): opts = [] for vol_type in group.volume_types: specs = vol_type.extra_specs opts.append(self._get_volume_params_from_specs(specs)) return opts def _check_group_type_support(self, opts, vol_type): if not opts: return False for opt in opts: if opt.get(vol_type) == 'true': return True return False def _get_group_type_value(self, opts, vol_type): if not opts: return for opt in opts: if vol_type in opt: return opt[vol_type] if not volume_utils.is_group_a_cg_snapshot_type(group): raise NotImplementedError() if self._check_group_type_support(opts, 'hypermetro'): if not self.check_func_support(""HyperMetro_ConsistentGroup""): msg = _(""Can't create consistency group, array does not "" ""support hypermetro consistentgroup, "" ""group id: %(group_id)s."" ) % {""group_id"": group.id} LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def create_group_from_src(self, context, group, volumes, group_snapshot=None, snapshots=None, source_group=None, source_vols=None): if not volume_utils.is_group_a_cg_snapshot_type(group): raise NotImplementedError() model_update = self.create_group(context, group) delete_snapshots = False if not snapshots and source_vols: snapshots = [] for src_vol in source_vols: vol_kwargs = { 'id': src_vol.id, 'provider_location': src_vol.provider_location, } snapshot_kwargs = {'id': six.text_type(uuid.uuid4()), 'volume': objects.Volume(**vol_kwargs)} snapshot = objects.Snapshot(**snapshot_kwargs) snapshots.append(snapshot) snapshots_model_update = self._create_group_snapshot(snapshots) for i, model in enumerate(snapshots_model_update): snapshot = snapshots[i] snapshot.provider_location = model['provider_location'] delete_snapshots = True if snapshots: for i, vol in enumerate(volumes): snapshot = snapshots[i] vol_model_update = self.create_volume_from_snapshot( vol, snapshot) vol_model_update.update({'id': vol.id}) volumes_model_update.append(vol_model_update) if delete_snapshots: self._delete_group_snapshot(snapshots) def delete_group(self, context, group, volumes): if not volume_utils.is_group_a_cg_snapshot_type(group): raise NotImplementedError() opts = self._get_group_type(group) model_update = {'status': fields.GroupStatus.DELETED} volumes_model_update = [] if self._check_group_type_support(opts, 'hypermetro'): metro = hypermetro.HuaweiHyperMetro(self.client, self.rmt_client, self.configuration) metro.delete_consistencygroup(context, group, volumes) for volume in volumes: volume_model_update = {'id': volume.id} try: self.delete_volume(volume) except Exception: LOG.exception('Delete volume %s failed.', volume) volume_model_update.update({'status': 'error_deleting'}) else: volume_model_update.update({'status': 'deleted'}) volumes_model_update.append(volume_model_update) return model_update, volumes_model_update if not volume_utils.is_group_a_cg_snapshot_type(group): raise NotImplementedError() if self._check_group_type_support(opts, 'hypermetro'): for volume in add_volumes: self._check_volume_exist_on_array( volume, constants.VOLUME_NOT_EXISTS_RAISE) if not volume_utils.is_group_a_cg_snapshot_type(group_snapshot): raise NotImplementedError() LOG.info('Create group snapshot for group: %(group_id)s', {'group_id': group_snapshot.group_id}) snapshots_model_update = self._create_group_snapshot(snapshots) model_update = {'status': fields.GroupSnapshotStatus.AVAILABLE} return model_update, snapshots_model_update def _create_group_snapshot(self, snapshots): snapshot_id = self._create_snapshot_base(snapshot) info = self.client.get_snapshot_info(snapshot_id) huawei_snapshot_id=info['ID'], huawei_snapshot_wwn=info['WWN']) snapshot_model_update = { 'id': snapshot.id, 'status': fields.SnapshotStatus.AVAILABLE, 'provider_location': location, } snapshots_model_update.append(snapshot_model_update) for added_snapshot in added_snapshots_info: self.client.delete_snapshot(added_snapshot['ID']) LOG.error(""Active group snapshots %s failed."", snapshot_ids) for snapshot_id in snapshot_ids: self.client.delete_snapshot(snapshot_id) return snapshots_model_update if not volume_utils.is_group_a_cg_snapshot_type(group_snapshot): raise NotImplementedError() try: snapshots_model_update = self._delete_group_snapshot(snapshots) except Exception: with excutils.save_and_reraise_exception(): LOG.error(""Delete group snapshots failed. "" ""Group snapshot id: %s"", group_snapshot.id) model_update = {'status': fields.GroupSnapshotStatus.DELETED} def _delete_group_snapshot(self, snapshots): snapshots_model_update = [] for snapshot in snapshots: self.delete_snapshot(snapshot) snapshot_model_update = { 'id': snapshot.id, 'status': fields.SnapshotStatus.DELETED } snapshots_model_update.append(snapshot_model_update) return snapshots_model_update "," def _get_group_type(self, group): opts = [] vol_types = group.volume_types for vol_type in vol_types: specs = vol_type.extra_specs opts.append(self._get_volume_params_from_specs(specs)) return opts def _check_volume_type_support(self, opts, vol_type): if not opts: return False support = True for opt in opts: if opt.get(vol_type) != 'true': support = False break return support 'NAME': dst_volume_name, def create_snapshot(self, snapshot): self.client.activate_snapshot(snapshot_id) location = huawei_utils.to_string(huawei_snapshot_id=snapshot_id) return {'provider_location': location, 'lun_info': snapshot_info} @huawei_utils.check_whether_operate_consistency_group if self._check_volume_type_support(opts, 'hypermetro'): # Array will create group at create_group_snapshot time. Cinder will # maintain the group and volumes relationship in the db. @huawei_utils.check_whether_operate_consistency_group def delete_group(self, context, group, volumes): opts = self._get_group_type(group) if self._check_volume_type_support(opts, 'hypermetro'): metro = hypermetro.HuaweiHyperMetro(self.client, self.rmt_client, self.configuration) return metro.delete_consistencygroup(context, group, volumes) model_update = {} model_update.update({'status': fields.GroupStatus.DELETED}) for volume_ref in volumes: try: self.delete_volume(volume_ref) volumes_model_update.append( {'id': volume_ref.id, 'status': 'deleted'}) except Exception: volumes_model_update.append( {'id': volume_ref.id, 'status': 'error_deleting'}) @huawei_utils.check_whether_operate_consistency_group if self._check_volume_type_support(opts, 'hypermetro'): # Array will create group at create_group_snapshot time. Cinder will # maintain the group and volumes relationship in the db. @huawei_utils.check_whether_operate_consistency_group def create_group_from_src(self, context, group, volumes, group_snapshot=None, snapshots=None, source_group=None, source_vols=None): err_msg = _(""Huawei Storage doesn't support create_group_from_src."") LOG.error(err_msg) raise exception.VolumeBackendAPIException(data=err_msg) @huawei_utils.check_whether_operate_consistency_group LOG.info('Create group snapshot for group' ': %(group_id)s', {'group_id': group_snapshot.group_id}) model_update = {} volume = snapshot.volume if not volume: msg = _(""Can't get volume id from snapshot, "" ""snapshot: %(id)s"") % {'id': snapshot.id} LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) lun_id, lun_wwn = huawei_utils.get_volume_lun_id( self.client, volume) snapshot_name = huawei_utils.encode_name(snapshot.id) snapshot_description = snapshot.id info = self.client.create_snapshot(lun_id, snapshot_name, snapshot_description) huawei_snapshot_id=info['ID']) snap_model_update = {'id': snapshot.id, 'status': fields.SnapshotStatus.AVAILABLE, 'provider_location': location} snapshots_model_update.append(snap_model_update) LOG.error(""Create group snapshots failed. "" ""Group snapshot id: %s."", group_snapshot.id) LOG.error(""Active group snapshots failed. "" ""Group snapshot id: %s."", group_snapshot.id) model_update['status'] = fields.GroupSnapshotStatus.AVAILABLE return model_update, snapshots_model_update @huawei_utils.check_whether_operate_consistency_group model_update = {} snapshots_model_update = [] model_update['status'] = fields.GroupSnapshotStatus.DELETED for snapshot in snapshots: try: self.delete_snapshot(snapshot) snapshot_model = {'id': snapshot.id, 'status': fields.SnapshotStatus.DELETED} snapshots_model_update.append(snapshot_model) except Exception: with excutils.save_and_reraise_exception(): LOG.error(""Delete group snapshot failed. "" ""Group snapshot id: %s"", group_snapshot.id) ",270,205
openstack%2Fcinder~master~I8e747f4a19dc1705eb72ade45653d97886def016,openstack/cinder,master,I8e747f4a19dc1705eb72ade45653d97886def016,Imported Translations from Zanata,MERGED,2018-05-15 07:09:43.000000000,2018-05-18 14:26:21.000000000,2018-05-15 17:16:57.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-15 07:09:43.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f68d5142f2ff903aebb548bc327a9aca22db3b66', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8e747f4a19dc1705eb72ade45653d97886def016\n'}]",0,568475,f68d5142f2ff903aebb548bc327a9aca22db3b66,26,21,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8e747f4a19dc1705eb72ade45653d97886def016
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/568475/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po']",12,f68d5142f2ff903aebb548bc327a9aca22db3b66,zanata/translations,"""POT-Creation-Date: 2018-05-15 01:12+0000\n""","""POT-Creation-Date: 2018-04-17 01:13+0000\n""#, python-format msgid """" ""Exceeded max scheduling attempts %(max_attempts)d for volume %(volume_id)s"" msgstr """" ""Překročen maximální počet pokusů %(max_attempts)d pro svazek %(volume_id)s."" ",94,145
openstack%2Fcinder~master~If8524a08795c222e67ca2c85243a42fb27e43bdb,openstack/cinder,master,If8524a08795c222e67ca2c85243a42fb27e43bdb,[Api-ref] fix incorrect host value in worker cleanup api,MERGED,2018-05-14 06:22:08.000000000,2018-05-18 14:26:19.000000000,2018-05-17 03:04:39.000000000,"[{'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 19554}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 25456}, {'_account_id': 26537}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-05-14 06:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/467c809b8bd4169fa28cf73bac65c665d76c24d6', 'message': '[api-ref] The parameters of workers api-ref documents host incorrectly\n\n1 update worker-cleanup params\n2 correct sample json for worker-cleanup\n\nChange-Id: If8524a08795c222e67ca2c85243a42fb27e43bdb\nClose-bug: #1758955\n'}, {'number': 2, 'created': '2018-05-14 06:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/49683d1895e213856df729910cfbc39ed3ef24eb', 'message': '[Api-ref] fix incorrect worker cleanup api params\n\n1. remove the request service id param\n2. update worker-cleanup host param and correct sample json\n   for worker-cleanup\n\nChange-Id: If8524a08795c222e67ca2c85243a42fb27e43bdb\nClose-bug: #1758955\n'}, {'number': 3, 'created': '2018-05-15 01:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/30de9c26b77127a9f31c1d457b32ad4dd74e6b74', 'message': '[Api-ref] fix incorrect worker cleanup api params\n\n1. remove the request service id param\n2. update worker-cleanup host param and correct sample json\n   for worker-cleanup\n\nChange-Id: If8524a08795c222e67ca2c85243a42fb27e43bdb\nClose-bug: #1758955\n'}, {'number': 4, 'created': '2018-05-15 02:45:39.000000000', 'files': ['api-ref/source/v3/samples/worker-cleanup-response.json', 'api-ref/source/v3/samples/worker-cleanup-request.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bed11c76dae60f9895c25babf6786c92bbb0af81', 'message': '[Api-ref] fix incorrect host value in worker cleanup api\n\nThe value of host in sample request and sample response is not correct,\nthis change is to update this.\n\n\nChange-Id: If8524a08795c222e67ca2c85243a42fb27e43bdb\nClose-bug: #1758955\n'}]",4,568201,bed11c76dae60f9895c25babf6786c92bbb0af81,63,28,4,25456,,,0,"[Api-ref] fix incorrect host value in worker cleanup api

The value of host in sample request and sample response is not correct,
this change is to update this.


Change-Id: If8524a08795c222e67ca2c85243a42fb27e43bdb
Close-bug: #1758955
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/568201/4 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/worker-cleanup.inc', 'api-ref/source/v3/samples/worker-cleanup-response.json', 'api-ref/source/v3/samples/worker-cleanup-request.json']",3,467c809b8bd4169fa28cf73bac65c665d76c24d6,bug/1758955," ""host"": ""ubuntu22@lvmdriver"""," ""host"": ""127.0.0.1"", ""service_id"": ""1"",",3,5
openstack%2Fcinder~stable%2Focata~I2ab2160478d2163dbb45175aa5f1b884f316db24,openstack/cinder,stable/ocata,I2ab2160478d2163dbb45175aa5f1b884f316db24,Dell EMC SC: Find volume folder API call fails on root folders,MERGED,2018-04-11 19:50:36.000000000,2018-05-18 14:26:16.000000000,2018-05-17 05:01:33.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26285}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aaf72629db8cdeb2b92b289a5520cdb588bf8c87', 'message': 'Dell EMC SC: Find volume folder API call fails on root folders\n\nChanges to the SC API have changed how calls are made to the\nStorageCenter/ScVolumeFolder/GetList payload filter options. In\nthe case of a folder under root this call could fail depending on\nthe API.\n\nChange-Id: I2ab2160478d2163dbb45175aa5f1b884f316db24\n(cherry picked from commit c9a7fb8da533251772b79140c7161b393c52f15b)\n(cherry picked from commit c9722a78b2dd5e7ae636fb6a6ac4c5996e1fbc56)\n'}, {'number': 2, 'created': '2018-04-12 12:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa202e2ac13325de5015b10ca75402e15fdcd2bb', 'message': 'Dell EMC SC: Find volume folder API call fails on root folders\n\nChanges to the SC API have changed how calls are made to the\nStorageCenter/ScVolumeFolder/GetList payload filter options. In\nthe case of a folder under root this call could fail depending on\nthe API.\n\nChange-Id: I2ab2160478d2163dbb45175aa5f1b884f316db24\n(cherry picked from commit c9a7fb8da533251772b79140c7161b393c52f15b)\n(cherry picked from commit c9722a78b2dd5e7ae636fb6a6ac4c5996e1fbc56)\n'}, {'number': 3, 'created': '2018-05-14 13:46:05.000000000', 'files': ['cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cbf6532c0120191ace4d9a63d2a4a2bce4197393', 'message': 'Dell EMC SC: Find volume folder API call fails on root folders\n\nChanges to the SC API have changed how calls are made to the\nStorageCenter/ScVolumeFolder/GetList payload filter options. In\nthe case of a folder under root this call could fail depending on\nthe API.\n\nChange-Id: I2ab2160478d2163dbb45175aa5f1b884f316db24\n(cherry picked from commit c9a7fb8da533251772b79140c7161b393c52f15b)\n(cherry picked from commit c9722a78b2dd5e7ae636fb6a6ac4c5996e1fbc56)\n'}]",0,560622,cbf6532c0120191ace4d9a63d2a4a2bce4197393,77,23,3,11904,,,0,"Dell EMC SC: Find volume folder API call fails on root folders

Changes to the SC API have changed how calls are made to the
StorageCenter/ScVolumeFolder/GetList payload filter options. In
the case of a folder under root this call could fail depending on
the API.

Change-Id: I2ab2160478d2163dbb45175aa5f1b884f316db24
(cherry picked from commit c9a7fb8da533251772b79140c7161b393c52f15b)
(cherry picked from commit c9722a78b2dd5e7ae636fb6a6ac4c5996e1fbc56)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/560622/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py']",2,aaf72629db8cdeb2b92b289a5520cdb588bf8c87,driverfixes_sync," '_get_result') @mock.patch.object(dell_storagecenter_api.HttpClient, 'post', return_value=RESPONSE_200) def test_find_folder_legacy_root(self, mock_post, mock_get_result, mock_close_connection, mock_open_connection, mock_init): self.scapi._find_folder('StorageCenter/ScVolumeFolder/GetList', 'devstackvol', 12345) expected_payload = {'filter': {'filterType': 'AND', 'filters': [ {'filterType': 'Equals', 'attributeName': 'scSerialNumber', 'attributeValue': 12345}, {'filterType': 'Equals', 'attributeName': 'Name', 'attributeValue': 'devstackvol'}, {'filterType': 'Equals', 'attributeName': 'folderPath', 'attributeValue': ''}]}} mock_post.assert_called_once_with( 'StorageCenter/ScVolumeFolder/GetList', expected_payload) self.assertTrue(mock_get_result.called) @mock.patch.object(dell_storagecenter_api.StorageCenterApi, '_get_result') @mock.patch.object(dell_storagecenter_api.HttpClient, 'post', return_value=RESPONSE_200) def test_find_folder_non_legacy_root(self, mock_post, mock_get_result, mock_close_connection, mock_open_connection, mock_init): self.scapi.legacyfoldernames = False self.scapi._find_folder('StorageCenter/ScVolumeFolder/GetList', 'devstackvol', 12345) expected_payload = {'filter': {'filterType': 'AND', 'filters': [ {'filterType': 'Equals', 'attributeName': 'scSerialNumber', 'attributeValue': 12345}, {'filterType': 'Equals', 'attributeName': 'Name', 'attributeValue': 'devstackvol'}, {'filterType': 'Equals', 'attributeName': 'folderPath', 'attributeValue': '/'}]}} mock_post.assert_called_once_with( 'StorageCenter/ScVolumeFolder/GetList', expected_payload) self.assertTrue(mock_get_result.called) self.scapi.legacyfoldernames = True @mock.patch.object(dell_storagecenter_api.StorageCenterApi,",,56,2
openstack%2Fcinder~stable%2Focata~I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2,openstack/cinder,stable/ocata,I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2,Dell EMC SC: API 4.0 incompatibilities,MERGED,2018-04-11 19:50:36.000000000,2018-05-18 14:26:13.000000000,2018-05-17 00:49:16.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26285}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/18a6a5e22af2269d2dcd15b7a73bcf5cc0a98ad5', 'message': 'Dell EMC SC: API 4.0 incompatibilities\n\n4.0 folder paths begin with a /. Also add a check that the user formatted\nthe folder path correctly.\n\nChange-Id: I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2\nCloses-Bug: #1719428\n(cherry picked from commit d414696c66ebc30c098cbb1ae24e4e772c15aca4)\n(cherry picked from commit bfc740588fada01a28add541239d224efc7e2bb3)\n'}, {'number': 2, 'created': '2018-04-12 12:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e63710cfec31c789e63c8cc4992d7c77f79d0b1', 'message': 'Dell EMC SC: API 4.0 incompatibilities\n\n4.0 folder paths begin with a /. Also add a check that the user formatted\nthe folder path correctly.\n\nChange-Id: I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2\nCloses-Bug: #1719428\n(cherry picked from commit d414696c66ebc30c098cbb1ae24e4e772c15aca4)\n(cherry picked from commit bfc740588fada01a28add541239d224efc7e2bb3)\n'}, {'number': 3, 'created': '2018-05-14 13:46:05.000000000', 'files': ['cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe09c4160081f3c6f57e5909f2d1e7dc86662a20', 'message': 'Dell EMC SC: API 4.0 incompatibilities\n\n4.0 folder paths begin with a /. Also add a check that the user formatted\nthe folder path correctly.\n\nChange-Id: I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2\nCloses-Bug: #1719428\n(cherry picked from commit d414696c66ebc30c098cbb1ae24e4e772c15aca4)\n(cherry picked from commit bfc740588fada01a28add541239d224efc7e2bb3)\n'}]",0,560621,fe09c4160081f3c6f57e5909f2d1e7dc86662a20,76,23,3,11904,,,0,"Dell EMC SC: API 4.0 incompatibilities

4.0 folder paths begin with a /. Also add a check that the user formatted
the folder path correctly.

Change-Id: I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2
Closes-Bug: #1719428
(cherry picked from commit d414696c66ebc30c098cbb1ae24e4e772c15aca4)
(cherry picked from commit bfc740588fada01a28add541239d224efc7e2bb3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/560621/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py']",2,18a6a5e22af2269d2dcd15b7a73bcf5cc0a98ad5,driverfixes_sync," # Legacy folder names are still current so we default this to true. self.scapi.legacyfoldernames = True self.scapi._find_folder('StorageCenter/ScVolumeFolder/GetList', 'devstackvol/fcvm', 12345) expected_payload = {'filter': {'filterType': 'AND', 'filters': [ {'filterType': 'Equals', 'attributeName': 'scSerialNumber', 'attributeValue': 12345}, {'filterType': 'Equals', 'attributeName': 'Name', 'attributeValue': 'fcvm'}, {'filterType': 'Equals', 'attributeName': 'folderPath', 'attributeValue': 'devstackvol/'}]}} mock_post.assert_called_once_with( 'StorageCenter/ScVolumeFolder/GetList', expected_payload) @mock.patch.object(dell_storagecenter_api.StorageCenterApi, '_get_result') @mock.patch.object(dell_storagecenter_api.HttpClient, 'post', return_value=RESPONSE_200) def test_find_folder_not_legacy(self, mock_post, mock_get_result, mock_close_connection, mock_open_connection, mock_init): self.scapi.legacyfoldernames = False self.scapi._find_folder('StorageCenter/ScVolumeFolder/GetList', 'devstackvol/fcvm', 12345) expected_payload = {'filter': {'filterType': 'AND', 'filters': [ {'filterType': 'Equals', 'attributeName': 'scSerialNumber', 'attributeValue': 12345}, {'filterType': 'Equals', 'attributeName': 'Name', 'attributeValue': 'fcvm'}, {'filterType': 'Equals', 'attributeName': 'folderPath', 'attributeValue': '/devstackvol/'}]}} mock_post.assert_called_once_with( 'StorageCenter/ScVolumeFolder/GetList', expected_payload) self.assertTrue(mock_get_result.called) self.scapi.legacyfoldernames = True"," res = self.scapi._find_folder( 'StorageCenter/ScVolumeFolder', self.configuration.dell_sc_volume_folder) self.assertTrue(mock_post.called) self.assertEqual(u'devstackvol/fcvm/', res, 'Unexpected folder')",49,7
openstack%2Fcinder~stable%2Focata~If65780000fa8f59f663b00b88584cf289effa590,openstack/cinder,stable/ocata,If65780000fa8f59f663b00b88584cf289effa590,Dell EMC SC: ISCSI initialize_connection fixes.,MERGED,2018-04-11 19:50:36.000000000,2018-05-18 14:26:11.000000000,2018-05-16 19:23:40.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26285}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bff6f44cdce7af84bec5cfe1c5b916b9ba1cfad6', 'message': 'Dell EMC SC: ISCSI initialize_connection fixes.\n\nDriver was not honoring the server in ISCSI and returning connection\ninformation for all servers (IQNs) connected to a volume.\n\nIf multiple servers are mapped to a volume the driver was only returning\nthe first server for a given portal.\n\nCloses-Bug: #1756914\nChange-Id: If65780000fa8f59f663b00b88584cf289effa590\n(cherry picked from commit 96b77e0aa62790320d16f7229aaeeb650fa875b6)\n(cherry picked from commit adf7d84b66fdbbfba03721cc5f3f1f392a702eb4)\n'}, {'number': 2, 'created': '2018-04-12 12:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69955b0f3239d980ab209c9c938e8354a87e772e', 'message': 'Dell EMC SC: ISCSI initialize_connection fixes.\n\nDriver was not honoring the server in ISCSI and returning connection\ninformation for all servers (IQNs) connected to a volume.\n\nIf multiple servers are mapped to a volume the driver was only returning\nthe first server for a given portal.\n\nCloses-Bug: #1756914\nChange-Id: If65780000fa8f59f663b00b88584cf289effa590\n(cherry picked from commit 96b77e0aa62790320d16f7229aaeeb650fa875b6)\n(cherry picked from commit adf7d84b66fdbbfba03721cc5f3f1f392a702eb4)\n'}, {'number': 3, 'created': '2018-05-14 13:46:05.000000000', 'files': ['cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py', 'releasenotes/notes/dell-emc-sc-bugfix-1756914-ffca3133273040f6.yaml', 'cinder/volume/drivers/dell/dell_storagecenter_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2bff999dbf9fdf48e4b1f4c402217ceb97bf6a0', 'message': 'Dell EMC SC: ISCSI initialize_connection fixes.\n\nDriver was not honoring the server in ISCSI and returning connection\ninformation for all servers (IQNs) connected to a volume.\n\nIf multiple servers are mapped to a volume the driver was only returning\nthe first server for a given portal.\n\nCloses-Bug: #1756914\nChange-Id: If65780000fa8f59f663b00b88584cf289effa590\n(cherry picked from commit 96b77e0aa62790320d16f7229aaeeb650fa875b6)\n(cherry picked from commit adf7d84b66fdbbfba03721cc5f3f1f392a702eb4)\n'}]",0,560620,d2bff999dbf9fdf48e4b1f4c402217ceb97bf6a0,65,24,3,11904,,,0,"Dell EMC SC: ISCSI initialize_connection fixes.

Driver was not honoring the server in ISCSI and returning connection
information for all servers (IQNs) connected to a volume.

If multiple servers are mapped to a volume the driver was only returning
the first server for a given portal.

Closes-Bug: #1756914
Change-Id: If65780000fa8f59f663b00b88584cf289effa590
(cherry picked from commit 96b77e0aa62790320d16f7229aaeeb650fa875b6)
(cherry picked from commit adf7d84b66fdbbfba03721cc5f3f1f392a702eb4)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/560620/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py', 'releasenotes/notes/dell-emc-sc-bugfix-1756914-ffca3133273040f6.yaml', 'cinder/volume/drivers/dell/dell_storagecenter_iscsi.py']",4,bff6f44cdce7af84bec5cfe1c5b916b9ba1cfad6,driverfixes_sync," iscsiprops = api.find_iscsi_properties(scvolume, scserver) return api.find_iscsi_properties(secondaryvol, secondary)", iscsiprops = api.find_iscsi_properties(scvolume) return api.find_iscsi_properties(secondaryvol),93,19
openstack%2Fcinder~stable%2Focata~Id9003ee38183e53ce8fa6d84ff79034ce9e7c3a1,openstack/cinder,stable/ocata,Id9003ee38183e53ce8fa6d84ff79034ce9e7c3a1,"VMAX Driver - Ocata, detaches fail when volume missing from backend",MERGED,2018-04-11 19:50:36.000000000,2018-05-18 14:26:09.000000000,2018-05-16 16:05:16.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26285}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f397269ab8e524cc105cff20bf4e29a6a7060a20', 'message': 'VMAX Driver - Ocata, detaches fail when volume missing from backend\n\nDetaches are failing when the volume has been deleted externally\nfrom the VMAX backend. This is due to insufficient error handling.\n\nThis is only in Ocata and pre Ocata versions as we changed from\nSMI-S to U4V REST in Pike.\n\nChange-Id: Id9003ee38183e53ce8fa6d84ff79034ce9e7c3a1\nCloses-Bug: #1756368\n'}, {'number': 2, 'created': '2018-04-12 12:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8106e080da0be25bed36e6c950cc26e6ac3f3937', 'message': 'VMAX Driver - Ocata, detaches fail when volume missing from backend\n\nDetaches are failing when the volume has been deleted externally\nfrom the VMAX backend. This is due to insufficient error handling.\n\nThis is only in Ocata and pre Ocata versions as we changed from\nSMI-S to U4V REST in Pike.\n\nChange-Id: Id9003ee38183e53ce8fa6d84ff79034ce9e7c3a1\nCloses-Bug: #1756368\n'}, {'number': 3, 'created': '2018-05-14 13:46:05.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py', 'cinder/volume/drivers/dell_emc/vmax/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b780525e889d0c69f5bb242000e75f96d280b4ff', 'message': 'VMAX Driver - Ocata, detaches fail when volume missing from backend\n\nDetaches are failing when the volume has been deleted externally\nfrom the VMAX backend. This is due to insufficient error handling.\n\nThis is only in Ocata and pre Ocata versions as we changed from\nSMI-S to U4V REST in Pike.\n\nChange-Id: Id9003ee38183e53ce8fa6d84ff79034ce9e7c3a1\nCloses-Bug: #1756368\n'}]",0,560619,b780525e889d0c69f5bb242000e75f96d280b4ff,70,24,3,11904,,,0,"VMAX Driver - Ocata, detaches fail when volume missing from backend

Detaches are failing when the volume has been deleted externally
from the VMAX backend. This is due to insufficient error handling.

This is only in Ocata and pre Ocata versions as we changed from
SMI-S to U4V REST in Pike.

Change-Id: Id9003ee38183e53ce8fa6d84ff79034ce9e7c3a1
Closes-Bug: #1756368
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/560619/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py']",4,f397269ab8e524cc105cff20bf4e29a6a7060a20,driverfixes_sync," 2.5.2 - detaches fail when volume removed from backend (bug #1756368) VERSION = ""2.5.2"""," VERSION = ""2.5.1""",30,5
openstack%2Fcinder~stable%2Focata~Ic57c122311039af159c0cfc083e6e9349702d1e4,openstack/cinder,stable/ocata,Ic57c122311039af159c0cfc083e6e9349702d1e4,Solving permission errors due to directory ownership on NFS,MERGED,2018-04-11 19:50:36.000000000,2018-05-18 14:26:06.000000000,2018-05-16 07:20:28.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25820}, {'_account_id': 26285}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9fd14538a8cc4696f42306a82724172994c55222', 'message': 'Solving permission errors due to directory ownership on NFS\n\nWe do the same work as the GlusterfsBackupDriver, uses chgrp+chmod to set\nproper permissions on the directories if needs be.\n\nChange-Id: Ic57c122311039af159c0cfc083e6e9349702d1e4\nCloses-Bug: #1715456\n(cherry picked from commit dd4c31f527e2c8f93fdfa55fe6713e0e32d94cc9)\n(cherry picked from commit 0f3fb16ba3da0fdfc816887aa06920740824bc68)\n(cherry picked from commit 9d06094c26dee3d5a87b5ad8fb70f0424ee432f9)\nConflicts:\n\tcinder/tests/unit/backup/drivers/test_backup_nfs.py\n'}, {'number': 2, 'created': '2018-04-12 12:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3233b06df4a60e0500a7950c725f3bc33dc6d086', 'message': 'Solving permission errors due to directory ownership on NFS\n\nWe do the same work as the GlusterfsBackupDriver, uses chgrp+chmod to set\nproper permissions on the directories if needs be.\n\nChange-Id: Ic57c122311039af159c0cfc083e6e9349702d1e4\nCloses-Bug: #1715456\n(cherry picked from commit dd4c31f527e2c8f93fdfa55fe6713e0e32d94cc9)\n(cherry picked from commit 0f3fb16ba3da0fdfc816887aa06920740824bc68)\n(cherry picked from commit 9d06094c26dee3d5a87b5ad8fb70f0424ee432f9)\nConflicts:\n\tcinder/tests/unit/backup/drivers/test_backup_nfs.py\n'}, {'number': 3, 'created': '2018-05-14 13:46:05.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/backup/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c337a7ebd1fd1b789801b6373497725cc6258ea', 'message': 'Solving permission errors due to directory ownership on NFS\n\nWe do the same work as the GlusterfsBackupDriver, uses chgrp+chmod to set\nproper permissions on the directories if needs be.\n\nChange-Id: Ic57c122311039af159c0cfc083e6e9349702d1e4\nCloses-Bug: #1715456\n(cherry picked from commit dd4c31f527e2c8f93fdfa55fe6713e0e32d94cc9)\n(cherry picked from commit 0f3fb16ba3da0fdfc816887aa06920740824bc68)\n(cherry picked from commit 9d06094c26dee3d5a87b5ad8fb70f0424ee432f9)\nConflicts:\n\tcinder/tests/unit/backup/drivers/test_backup_nfs.py\n'}]",0,560618,3c337a7ebd1fd1b789801b6373497725cc6258ea,68,23,3,11904,,,0,"Solving permission errors due to directory ownership on NFS

We do the same work as the GlusterfsBackupDriver, uses chgrp+chmod to set
proper permissions on the directories if needs be.

Change-Id: Ic57c122311039af159c0cfc083e6e9349702d1e4
Closes-Bug: #1715456
(cherry picked from commit dd4c31f527e2c8f93fdfa55fe6713e0e32d94cc9)
(cherry picked from commit 0f3fb16ba3da0fdfc816887aa06920740824bc68)
(cherry picked from commit 9d06094c26dee3d5a87b5ad8fb70f0424ee432f9)
Conflicts:
	cinder/tests/unit/backup/drivers/test_backup_nfs.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/560618/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/backup/drivers/nfs.py']",2,9fd14538a8cc4696f42306a82724172994c55222,driverfixes_sync,"import os import stat from oslo_concurrency import processutils as putils self._execute = putils.execute self._root_helper = utils.get_root_helper() self._root_helper, # Ensure we can write to this share mount_path = remotefsclient.get_mount_point(self.backup_share) group_id = os.getegid() current_group_id = utils.get_file_gid(mount_path) current_mode = utils.get_file_mode(mount_path) if group_id != current_group_id: cmd = ['chgrp', group_id, mount_path] self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) if not (current_mode & stat.S_IWGRP): cmd = ['chmod', 'g+w', mount_path] self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) return mount_path"," utils.get_root_helper(), return remotefsclient.get_mount_point(self.backup_share)",74,20
openstack%2Fcinder~stable%2Focata~I5c6ad150543213acfd0c78dbbdb1dc1584d22d26,openstack/cinder,stable/ocata,I5c6ad150543213acfd0c78dbbdb1dc1584d22d26,NetApp ONTAP: Copy offload bugfix,MERGED,2018-04-11 19:50:36.000000000,2018-05-18 14:26:03.000000000,2018-05-16 06:56:00.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14567}, {'_account_id': 14865}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26285}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d3051b9547fe99621d6fc1ce2a8246b8ebf8330', 'message': ""NetApp ONTAP: Copy offload bugfix\n\nWhen 'NetApp NFS Copy Offload' tool is configured to download Glance\nimages, these images are downloaded twice because the tool is doing\nthe job after Cinder has already done it.\nThis patch fixes the bug by executing the copy offload tool inside the\nclone_image function instead of using the copy_image_to_volume.\n\nCloses-bug: #1632333\nDepends-on: https://review.openstack.org/542770\n\nChange-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26\n(cherry-picked from commit c27173bad69da4889a5237cf2becc14bb6fc578a)\n""}, {'number': 2, 'created': '2018-04-12 12:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6fab7408d1fddd83999953671f3cf4463dc2f3a', 'message': ""NetApp ONTAP: Copy offload bugfix\n\nWhen 'NetApp NFS Copy Offload' tool is configured to download Glance\nimages, these images are downloaded twice because the tool is doing\nthe job after Cinder has already done it.\nThis patch fixes the bug by executing the copy offload tool inside the\nclone_image function instead of using the copy_image_to_volume.\n\nCloses-bug: #1632333\nDepends-on: https://review.openstack.org/542770\n\nChange-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26\n(cherry-picked from commit c27173bad69da4889a5237cf2becc14bb6fc578a)\n""}, {'number': 3, 'created': '2018-05-14 13:46:05.000000000', 'files': ['releasenotes/notes/bug-1632333-netapp-ontap-copyoffload-downloads-glance-image-twice-08801d8c7b9eed2c.yaml', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d59c490c262d7634af5b2e03149c9f028f4d81c', 'message': ""NetApp ONTAP: Copy offload bugfix\n\nWhen 'NetApp NFS Copy Offload' tool is configured to download Glance\nimages, these images are downloaded twice because the tool is doing\nthe job after Cinder has already done it.\nThis patch fixes the bug by executing the copy offload tool inside the\nclone_image function instead of using the copy_image_to_volume.\n\nCloses-bug: #1632333\nDepends-on: https://review.openstack.org/542770\n\nChange-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26\n(cherry-picked from commit c27173bad69da4889a5237cf2becc14bb6fc578a)\n""}]",0,560616,6d59c490c262d7634af5b2e03149c9f028f4d81c,94,25,3,11904,,,0,"NetApp ONTAP: Copy offload bugfix

When 'NetApp NFS Copy Offload' tool is configured to download Glance
images, these images are downloaded twice because the tool is doing
the job after Cinder has already done it.
This patch fixes the bug by executing the copy offload tool inside the
clone_image function instead of using the copy_image_to_volume.

Closes-bug: #1632333
Depends-on: https://review.openstack.org/542770

Change-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26
(cherry-picked from commit c27173bad69da4889a5237cf2becc14bb6fc578a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/560616/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1632333-netapp-ontap-copyoffload-downloads-glance-image-twice-08801d8c7b9eed2c.yaml', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py']",4,4d3051b9547fe99621d6fc1ce2a8246b8ebf8330,driverfixes_sync," def _copy_from_cache(self, volume, image_id, cache_result): """"""Try copying image file_name from cached file"""""" raise NotImplementedError() def _copy_from_img_service(self, context, volume, image_service, image_id): raise NotImplementedError() major, minor = self.zapi_client.get_ontapi_version() col_path = self.configuration.netapp_copyoffload_tool_path cloned = self._copy_from_cache(volume, image_id, cache_result) # Try to use the copy offload tool if not cloned and col_path and major == 1 and minor >= 20: cloned = self._copy_from_img_service(context, volume, image_service, image_id) share = (volume_utils.extract_host(volume['host'], level='pool') if cloned else None) share = volume_utils.extract_host(volume['host'], level='pool') vol_path = self._get_volume_path(share, volume['name']) "," cloned = self._clone_from_cache(volume, image_id, cache_result) share = volume['provider_location'] if cloned else None volume['provider_location'] = share vol_path = self.local_path(volume)",141,172
openstack%2Fcinder~stable%2Focata~Iddf2908ab28825a9082989cb1392ba59379f4bf5,openstack/cinder,stable/ocata,Iddf2908ab28825a9082989cb1392ba59379f4bf5,VMAX driver Ocata - backward compatibility fix,MERGED,2018-04-11 19:50:36.000000000,2018-05-18 14:26:01.000000000,2018-05-16 03:26:34.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26285}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/152b690988358eb630da7e70e96a99613ae5ff25', 'message': 'VMAX driver Ocata - backward compatibility fix\n\nLaunchpad 1401297 breaks backward compatibility with Newton. This\nfixes the issue by checking for the existence of the uuid within\nthe ElementName rather than a full equality check\n\nChange-Id: Iddf2908ab28825a9082989cb1392ba59379f4bf5\nCloses-Bug: #1745183\n'}, {'number': 2, 'created': '2018-04-12 12:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6d892b188a0a6f6bedac9225c20d7652354cf11', 'message': 'VMAX driver Ocata - backward compatibility fix\n\nLaunchpad 1401297 breaks backward compatibility with Newton. This\nfixes the issue by checking for the existence of the uuid within\nthe ElementName rather than a full equality check\n\nChange-Id: Iddf2908ab28825a9082989cb1392ba59379f4bf5\nCloses-Bug: #1745183\n'}, {'number': 3, 'created': '2018-05-14 13:46:05.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py', 'cinder/volume/drivers/dell_emc/vmax/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bdabc896d72954b4fa98a8e1414149af9aef8a02', 'message': 'VMAX driver Ocata - backward compatibility fix\n\nLaunchpad 1401297 breaks backward compatibility with Newton. This\nfixes the issue by checking for the existence of the uuid within\nthe ElementName rather than a full equality check\n\nChange-Id: Iddf2908ab28825a9082989cb1392ba59379f4bf5\nCloses-Bug: #1745183\n'}]",0,560615,bdabc896d72954b4fa98a8e1414149af9aef8a02,62,22,3,11904,,,0,"VMAX driver Ocata - backward compatibility fix

Launchpad 1401297 breaks backward compatibility with Newton. This
fixes the issue by checking for the existence of the uuid within
the ElementName rather than a full equality check

Change-Id: Iddf2908ab28825a9082989cb1392ba59379f4bf5
Closes-Bug: #1745183
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/560615/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py']",4,152b690988358eb630da7e70e96a99613ae5ff25,driverfixes_sync," 2.5.1 - backward compatibility fix (bug #1745183) VERSION = ""2.5.1"""," VERSION = ""2.5.0""",56,7
openstack%2Fopenstack-ansible-lxc_container_create~master~I0ff97d42fb20065613af24c65f523793a3b58fae,openstack/openstack-ansible-lxc_container_create,master,I0ff97d42fb20065613af24c65f523793a3b58fae,"Add missing ""delegate_to""",MERGED,2018-05-18 13:35:30.000000000,2018-05-18 14:25:59.000000000,2018-05-18 14:25:59.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 13:35:30.000000000', 'files': ['tasks/lxc_container_create_machinectl.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/3b1b5a34bf7c01e1334f0487dca584defa3b2e90', 'message': 'Add missing ""delegate_to""\n\nAll of the qgroup commands were failing due to them being executed\ninside the container instead of on the host running the container. this\nchange adds the forgotten delegate_to to correct that.\n\nChange-Id: I0ff97d42fb20065613af24c65f523793a3b58fae\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,569409,3b1b5a34bf7c01e1334f0487dca584defa3b2e90,8,3,1,7353,,,0,"Add missing ""delegate_to""

All of the qgroup commands were failing due to them being executed
inside the container instead of on the host running the container. this
change adds the forgotten delegate_to to correct that.

Change-Id: I0ff97d42fb20065613af24c65f523793a3b58fae
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/09/569409/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_container_create_machinectl.yml'],1,3b1b5a34bf7c01e1334f0487dca584defa3b2e90,," delegate_to: ""{{ physical_host }}""",,1,0
openstack%2Ftripleo-heat-templates~master~I1bc0930de4053dc1c34b50477e82d9ccdab7ae2e,openstack/tripleo-heat-templates,master,I1bc0930de4053dc1c34b50477e82d9ccdab7ae2e,Correct log location in container environment for Fluentd,MERGED,2018-05-04 07:46:12.000000000,2018-05-18 14:25:58.000000000,2018-05-18 14:25:57.000000000,"[{'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 6928}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26828}, {'_account_id': 28223}, {'_account_id': 28239}]","[{'number': 1, 'created': '2018-05-04 07:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3bcb32b37624e852050a8669009814f66f173943', 'message': '[WIP] Correct log location in container environment for Fluentd\n\nChange-Id: I1bc0930de4053dc1c34b50477e82d9ccdab7ae2e\nCloses-Bug: 1769051\n'}, {'number': 2, 'created': '2018-05-04 08:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78f1ba3f7e4b685a751786236c5d2d947bf0ec93', 'message': '[WIP] Correct log location in container environment for Fluentd\n\nChange-Id: I1bc0930de4053dc1c34b50477e82d9ccdab7ae2e\nCloses-Bug: 1769051\n'}, {'number': 3, 'created': '2018-05-04 09:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ec1eaebbe61ce1f74b5d243c9ef0e9f94c6be41', 'message': '[WIP] Correct log location in container environment for Fluentd\n\nChange-Id: I1bc0930de4053dc1c34b50477e82d9ccdab7ae2e\nCloses-Bug: 1769051\n'}, {'number': 4, 'created': '2018-05-04 10:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9beba034048449ae522ccd2deb17cb638797f50c', 'message': '[WIP] Correct log location in container environment for Fluentd\n\nChange-Id: I1bc0930de4053dc1c34b50477e82d9ccdab7ae2e\nCloses-Bug: 1769051\n'}, {'number': 5, 'created': '2018-05-15 11:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d8615b894b3b2ffd12458c0cc79535b829be596', 'message': '[WIP] Correct log location in container environment for Fluentd\n\nCo-Authored-By: Thomas Herve <therve@redhat.com>, Steven Hardy <shardy@redhat.com>\nChange-Id: I1bc0930de4053dc1c34b50477e82d9ccdab7ae2e\nCloses-Bug: 1769051\n'}, {'number': 6, 'created': '2018-05-15 12:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/721162991799c2c36c643695f9bfba3b140cbb6a', 'message': '[WIP] Correct log location in container environment for Fluentd\n\nCo-Authored-By: Thomas Herve <therve@redhat.com>, Steven Hardy <shardy@redhat.com>\nChange-Id: I1bc0930de4053dc1c34b50477e82d9ccdab7ae2e\nCloses-Bug: 1769051\n'}, {'number': 7, 'created': '2018-05-15 13:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2b91ad9784642a9b8267117376e641bba03a7f9', 'message': ""Correct log location in container environment for Fluentd\n\nSince we moved services in containers, their logs aren't in the old location, but\nin /var/log/containers/<service>. This patch fixes the generated Hiera hash used\nby Fluentd for its configuration\n\nCo-Authored-By: Thomas Herve <therve@redhat.com>, Steven Hardy <shardy@redhat.com>\nChange-Id: I1bc0930de4053dc1c34b50477e82d9ccdab7ae2e\nCloses-Bug: 1769051\n""}, {'number': 8, 'created': '2018-05-15 13:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1693cbcbb1df45be9a9bdf137225b45c470e2d4f', 'message': ""Correct log location in container environment for Fluentd\n\nSince we moved services in containers, their logs aren't in the old location, but\nin /var/log/containers/<service>. This patch fixes the generated Hiera hash used\nby Fluentd for its configuration\n\nCo-Authored-By: Thomas Herve <therve@redhat.com>, Steven Hardy <shardy@redhat.com>\nChange-Id: I1bc0930de4053dc1c34b50477e82d9ccdab7ae2e\nCloses-Bug: 1769051\n""}, {'number': 9, 'created': '2018-05-15 13:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3482c1908a526f4c5e1d67d6f89a06232722029b', 'message': ""Correct log location in container environment for Fluentd\n\nSince we moved services in containers, their logs aren't in the old location, but\nin /var/log/containers/<service>. This patch fixes the generated Hiera hash used\nby Fluentd for its configuration\n\nCo-Authored-By: Thomas Herve <therve@redhat.com>, Steven Hardy <shardy@redhat.com>\nChange-Id: I1bc0930de4053dc1c34b50477e82d9ccdab7ae2e\nCloses-Bug: 1769051\nRelated-Bug: 1674715\n""}, {'number': 10, 'created': '2018-05-18 07:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55b420d28e6c39917338586bca7002d61929b39f', 'message': ""Correct log location in container environment for Fluentd\n\nSince we moved services in containers, their logs aren't in the old location, but\nin /var/log/containers/<service>. This patch fixes the generated Hiera hash used\nby Fluentd for its configuration\n\nCo-Authored-By: Thomas Herve <therve@redhat.com>, Steven Hardy <shardy@redhat.com>\nChange-Id: I1bc0930de4053dc1c34b50477e82d9ccdab7ae2e\nCloses-Bug: 1769051\nRelated-Bug: 1674715\n""}, {'number': 11, 'created': '2018-05-18 07:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ba1807f1fdc68ba1c5f1093f2a166ce9958a8ae', 'message': ""Correct log location in container environment for Fluentd\n\nSince we moved services in containers, their logs aren't in the old location, but\nin /var/log/containers/<service>. This patch fixes the generated Hiera hash used\nby Fluentd for its configuration\n\nCo-Authored-By: Thomas Herve <therve@redhat.com>, Steven Hardy <shardy@redhat.com>\nChange-Id: I1bc0930de4053dc1c34b50477e82d9ccdab7ae2e\nCloses-Bug: 1769051\nRelated-Bug: 1674715\n""}, {'number': 12, 'created': '2018-05-18 08:20:57.000000000', 'files': ['docker/services/octavia-health-manager.yaml', 'docker/services/octavia-api.yaml', 'docker/services/ceilometer-agent-central.yaml', 'docker/services/nova-api.yaml', 'docker/services/tripleo-ui.yaml', 'docker/services/nova-consoleauth.yaml', 'docker/services/octavia-housekeeping.yaml', 'docker/services/nova-conductor.yaml', 'docker/services/designate-sink.yaml', 'docker/services/neutron-l3.yaml', 'docker/services/heat-api.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/ovn-metadata.yaml', 'docker/services/ec2-api.yaml', 'tools/yaml-validate.py', 'docker/services/cinder-scheduler.yaml', 'docker/services/cinder-volume.yaml', 'docker/services/gnocchi-api.yaml', 'docker/services/nova-vnc-proxy.yaml', 'docker/services/designate-worker.yaml', 'docker/services/designate-producer.yaml', 'docker/services/nova-scheduler.yaml', 'docker/services/neutron-api.yaml', 'docker/services/nova-metadata.yaml', 'docker/services/neutron-ovs-agent.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/keystone.yaml', 'docker/services/sahara-api.yaml', 'docker/services/ceilometer-agent-ipmi.yaml', 'docker/services/heat-api-cfn.yaml', 'docker/services/nova-placement.yaml', 'docker/services/neutron-metadata.yaml', 'docker/services/heat-engine.yaml', 'docker/services/sahara-engine.yaml', 'docker/services/cinder-api.yaml', 'docker/services/glance-api.yaml', 'docker/services/ceilometer-agent-notification.yaml', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3848713182c0cdb1e0e78cee9233a278d69cf3ab', 'message': ""Correct log location in container environment for Fluentd\n\nSince we moved services in containers, their logs aren't in the old location, but\nin /var/log/containers/<service>. This patch fixes the generated Hiera hash used\nby Fluentd for its configuration\n\nRegarding Designate config service: some of the yaml doesn't use at all the\n`service_config_settings` parameter - they will need to be updated accordingly\nonce it's supported\n\nCo-Authored-By: Thomas Herve <therve@redhat.com>, Steven Hardy <shardy@redhat.com>\nChange-Id: I1bc0930de4053dc1c34b50477e82d9ccdab7ae2e\nCloses-Bug: 1769051\nRelated-Bug: 1674715\n""}]",7,566228,3848713182c0cdb1e0e78cee9233a278d69cf3ab,40,9,12,26828,,,0,"Correct log location in container environment for Fluentd

Since we moved services in containers, their logs aren't in the old location, but
in /var/log/containers/<service>. This patch fixes the generated Hiera hash used
by Fluentd for its configuration

Regarding Designate config service: some of the yaml doesn't use at all the
`service_config_settings` parameter - they will need to be updated accordingly
once it's supported

Co-Authored-By: Thomas Herve <therve@redhat.com>, Steven Hardy <shardy@redhat.com>
Change-Id: I1bc0930de4053dc1c34b50477e82d9ccdab7ae2e
Closes-Bug: 1769051
Related-Bug: 1674715
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/566228/7 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/neutron-ovs-agent.yaml', 'docker/services/nova-api.yaml', 'docker/services/keystone.yaml', 'docker/services/glance-api.yaml', 'docker/services/nova-compute.yaml']",5,3bcb32b37624e852050a8669009814f66f173943,bug/1769051, NovaComputeLoggingSource: /var/log/containers/nova/nova-compute.log,,5,0
openstack%2Fcinder~stable%2Focata~I7932b1d952844b49cfdb504ed0ba188b489d7f44,openstack/cinder,stable/ocata,I7932b1d952844b49cfdb504ed0ba188b489d7f44,Kaminario K2: Add non discovery iSCSI multipath,MERGED,2018-04-11 19:50:36.000000000,2018-05-18 14:25:58.000000000,2018-05-16 02:26:46.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26285}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1154f50d4b32dac42b953d9b3df45f0e982752fd', 'message': 'Kaminario K2: Add non discovery iSCSI multipath\n\nCurrent Kaminario K2 driver only supports iSCSI multipathing using\ndiscovery (sendtargets), which in some cases may be undesirable, since a\nbroken primary path could prevent an attachment.\n\nThis code adds the possibility of not using discovery mode and return\nall connection information when `initialize_connection` is called, which\nshould provide increased reliability.\n\nChange-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44\n(cherry picked from commit c9ec9b9bd755f042dbe1ccbdc5e3ff87fa60269c)\n(cherry picked from commit 7bcb2ff94cf38eaa9def1115569981760e36510c)\n'}, {'number': 2, 'created': '2018-04-12 12:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d363423119aa82e5aee2918c12daac54fefa0fb9', 'message': 'Kaminario K2: Add non discovery iSCSI multipath\n\nCurrent Kaminario K2 driver only supports iSCSI multipathing using\ndiscovery (sendtargets), which in some cases may be undesirable, since a\nbroken primary path could prevent an attachment.\n\nThis code adds the possibility of not using discovery mode and return\nall connection information when `initialize_connection` is called, which\nshould provide increased reliability.\n\nChange-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44\n(cherry picked from commit c9ec9b9bd755f042dbe1ccbdc5e3ff87fa60269c)\n(cherry picked from commit 7bcb2ff94cf38eaa9def1115569981760e36510c)\n'}, {'number': 3, 'created': '2018-05-14 13:46:05.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/k2-disable-discovery-bca0d65b5672ec7b.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3464ac5cb523fecb3c265e1f1ed26831507d126', 'message': 'Kaminario K2: Add non discovery iSCSI multipath\n\nCurrent Kaminario K2 driver only supports iSCSI multipathing using\ndiscovery (sendtargets), which in some cases may be undesirable, since a\nbroken primary path could prevent an attachment.\n\nThis code adds the possibility of not using discovery mode and return\nall connection information when `initialize_connection` is called, which\nshould provide increased reliability.\n\nChange-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44\n(cherry picked from commit c9ec9b9bd755f042dbe1ccbdc5e3ff87fa60269c)\n(cherry picked from commit 7bcb2ff94cf38eaa9def1115569981760e36510c)\n'}]",0,560614,c3464ac5cb523fecb3c265e1f1ed26831507d126,74,23,3,11904,,,0,"Kaminario K2: Add non discovery iSCSI multipath

Current Kaminario K2 driver only supports iSCSI multipathing using
discovery (sendtargets), which in some cases may be undesirable, since a
broken primary path could prevent an attachment.

This code adds the possibility of not using discovery mode and return
all connection information when `initialize_connection` is called, which
should provide increased reliability.

Change-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44
(cherry picked from commit c9ec9b9bd755f042dbe1ccbdc5e3ff87fa60269c)
(cherry picked from commit 7bcb2ff94cf38eaa9def1115569981760e36510c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/560614/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/k2-disable-discovery-bca0d65b5672ec7b.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py']",4,1154f50d4b32dac42b953d9b3df45f0e982752fd,driverfixes_sync," iscsi_portals, target_iqns = self.get_target_info(volume) result = {""driver_volume_type"": ""iscsi"", ""data"": {""target_iqn"": target_iqns[0], ""target_portal"": iscsi_portals[0], ""target_lun"": lun, ""target_discovered"": True}} if self.configuration.disable_discovery and connector.get('multipath'): result['data'].update(target_iqns=target_iqns, target_portals=iscsi_portals, target_luns=[lun] * len(target_iqns)) return result iscsi_portals = target_iqns = None if hasattr(iscsi_ip_rs, 'hits') and iscsi_ip_rs.total != 0: iscsi_portals = ['%s:%s' % (ip.ip_address, ISCSI_TCP_PORT) for ip in iscsi_ip_rs.hits if not ip.wan_port] if not iscsi_portals: iqn = sys_state_rs.hits[0].iscsi_qualified_target_name target_iqns = [iqn] * len(iscsi_portals) if not target_iqns: return iscsi_portals, target_iqns"," iscsi_portal, target_iqn = self.get_target_info(volume) return {""driver_volume_type"": ""iscsi"", ""data"": {""target_iqn"": target_iqn, ""target_portal"": iscsi_portal, ""target_lun"": lun, ""target_discovered"": True}} iscsi_ip = target_iqn = None if hasattr(iscsi_ip_rs, 'hits') and iscsi_ip_rs.total != 0: for ip in iscsi_ip_rs.hits: if not ip.wan_port: iscsi_ip = ip.ip_address break if not iscsi_ip: iscsi_portal = ""{0}:{1}"".format(iscsi_ip, ISCSI_TCP_PORT) target_iqn = sys_state_rs.hits[0].iscsi_qualified_target_name if not target_iqn: return iscsi_portal, target_iqn",101,42
openstack%2Fcinder~stable%2Focata~Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48,openstack/cinder,stable/ocata,Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48,StorageCenter: Fix volume mapping for API v3.1,MERGED,2018-04-11 19:50:36.000000000,2018-05-18 14:25:56.000000000,2018-05-15 18:41:43.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26285}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-11 19:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/477d9e4d0e245b3180ea60495bf4fd1a6c601f26', 'message': 'StorageCenter: Fix volume mapping for API v3.1\n\nVolume attachment fails on StorageCenter API v3.1 because the backend\ninstead of returning wwn or WWN as the key in the controller port it\nreturns wWN, thus preventing the driver from finding the mapping.\n\nThis patch adds support to any combination of upper and lower case of\nthe WWN key.\n\nCloses-Bug: #1739651\nChange-Id: Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48\n(cherry picked from commit b50e08bcd8618d9b7935b0245d8b764912c919be)\n(cherry picked from commit 0652a58069af9e908d12dd1f1fac8b6a8a8c6c2a)\n'}, {'number': 2, 'created': '2018-04-12 12:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b00d29eaecffe65f56f601f869d501e3ab915d9d', 'message': 'StorageCenter: Fix volume mapping for API v3.1\n\nVolume attachment fails on StorageCenter API v3.1 because the backend\ninstead of returning wwn or WWN as the key in the controller port it\nreturns wWN, thus preventing the driver from finding the mapping.\n\nThis patch adds support to any combination of upper and lower case of\nthe WWN key.\n\nCloses-Bug: #1739651\nChange-Id: Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48\n(cherry picked from commit b50e08bcd8618d9b7935b0245d8b764912c919be)\n(cherry picked from commit 0652a58069af9e908d12dd1f1fac8b6a8a8c6c2a)\n'}, {'number': 3, 'created': '2018-05-14 13:46:05.000000000', 'files': ['cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6075177a96e44c6cc6c1c1c75a37394633809925', 'message': 'StorageCenter: Fix volume mapping for API v3.1\n\nVolume attachment fails on StorageCenter API v3.1 because the backend\ninstead of returning wwn or WWN as the key in the controller port it\nreturns wWN, thus preventing the driver from finding the mapping.\n\nThis patch adds support to any combination of upper and lower case of\nthe WWN key.\n\nCloses-Bug: #1739651\nChange-Id: Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48\n(cherry picked from commit b50e08bcd8618d9b7935b0245d8b764912c919be)\n(cherry picked from commit 0652a58069af9e908d12dd1f1fac8b6a8a8c6c2a)\n'}]",0,560613,6075177a96e44c6cc6c1c1c75a37394633809925,54,23,3,11904,,,0,"StorageCenter: Fix volume mapping for API v3.1

Volume attachment fails on StorageCenter API v3.1 because the backend
instead of returning wwn or WWN as the key in the controller port it
returns wWN, thus preventing the driver from finding the mapping.

This patch adds support to any combination of upper and lower case of
the WWN key.

Closes-Bug: #1739651
Change-Id: Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48
(cherry picked from commit b50e08bcd8618d9b7935b0245d8b764912c919be)
(cherry picked from commit 0652a58069af9e908d12dd1f1fac8b6a8a8c6c2a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/560613/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py']",2,477d9e4d0e245b3180ea60495bf4fd1a6c601f26,driverfixes_sync," u'wWN': u'5000D31000FCBE36', def test_find_wwns_wwn_resilient(self, mock_find_initiators, mock_find_mappings, mock_find_controller_port, mock_close_connection, mock_open_connection, mock_init): # Test case where ScControllerPort object has wWN instead of wwn (as # seen in some cases) for a property but we are still able to find it. self.assertEqual(1, lun, 'Incorrect LUN') expected_wwn = ['5000D31000FCBE36', '5000D31000FCBE36', '5000D31000FCBE36'] self.assertEqual(expected_wwn, wwns, 'WWNs incorrect') expected_itmap = {'21000024FF30441C': ['5000D31000FCBE36'], '21000024FF30441D': ['5000D31000FCBE36', '5000D31000FCBE36']} self.assertEqual(expected_itmap, itmap, 'WWN mapping incorrect')"," u'Wwn': u'5000D31000FCBE36', def test_find_wwns_wwn_error(self, mock_find_initiators, mock_find_mappings, mock_find_controller_port, mock_close_connection, mock_open_connection, mock_init): # Test case where ScControllerPort object has WWn instead of wwn for a # property self.assertIsNone(lun, 'Incorrect LUN') self.assertEqual([], wwns, 'WWNs is not empty') self.assertEqual({}, itmap, 'WWN mapping not empty')",32,14
openstack%2Fcinder~master~If1e34ea112b0cff328a58ec2fc9c3f5a5005f1c6,openstack/cinder,master,If1e34ea112b0cff328a58ec2fc9c3f5a5005f1c6,Fix google backup driver,MERGED,2018-05-07 13:08:30.000000000,2018-05-18 14:25:49.000000000,2018-05-15 17:11:02.000000000,"[{'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-07 13:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/843fec85a6d282b23a63011ef67c479967b88281', 'message': 'Fix google backup driver\n\nCurrent backup driver is broken due to the upper constraints of\ngoogle-api-python-client which is set to 1.6.6, but after 1.6.0\nparameter http and credentials are mutually exclusive, the driver is\nalso using the no longer preferred Google authentication library.\n\nThis patch fixes this by only using the http_proxy environmental\nvariable to set the proxying and adding support for google-auth and\nusing it whenever possible.\n\nCloses-Bug: #1736569\nCloses-Bug: #1769660\nChange-Id: If1e34ea112b0cff328a58ec2fc9c3f5a5005f1c6\n'}, {'number': 2, 'created': '2018-05-07 15:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d55cb58c9bb89003e2995a2a132c06ee94fdc945', 'message': 'Fix google backup driver\n\nCurrent backup driver is broken due to the upper constraints of\ngoogle-api-python-client which is set to 1.6.6, but after 1.6.0\nparameter http and credentials are mutually exclusive, the driver is\nalso using the no longer preferred Google authentication library.\n\nThis patch fixes this by only using the http_proxy environmental\nvariable to set the proxying and adding support for google-auth and\nusing it whenever possible.\n\nCloses-Bug: #1736569\nCloses-Bug: #1769660\nChange-Id: If1e34ea112b0cff328a58ec2fc9c3f5a5005f1c6\n'}, {'number': 3, 'created': '2018-05-08 15:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bdb57dc6010f7fc0b114406cbd5941d4203b99bb', 'message': 'Fix google backup driver\n\nCurrent backup driver is broken due to the upper constraints of\ngoogle-api-python-client which is set to 1.6.6, but after 1.6.0\nparameter http and credentials are mutually exclusive, the driver is\nalso using the no longer preferred Google authentication library.\n\nThis patch fixes this by only using the http_proxy environmental\nvariable to set the proxying and adding support for google-auth and\nusing it whenever possible.\n\nCloses-Bug: #1736569\nCloses-Bug: #1769660\nChange-Id: If1e34ea112b0cff328a58ec2fc9c3f5a5005f1c6\n'}, {'number': 4, 'created': '2018-05-14 08:47:34.000000000', 'files': ['cinder/opts.py', 'cinder/backup/manager.py', 'cinder/backup/drivers/gcs.py', 'cinder/tests/unit/backup/test_backup.py', 'releasenotes/notes/google-auth-for-gcs-backup-1642cd0e741fbdf9.yaml', 'cinder/tests/unit/backup/drivers/test_backup_google.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/79d7a4e8da6f1118b5c235928876cf78085f4332', 'message': 'Fix google backup driver\n\nCurrent backup driver is broken due to the upper constraints of\ngoogle-api-python-client which is set to 1.6.6, but after 1.6.0\nparameter http and credentials are mutually exclusive, the driver is\nalso using the no longer preferred Google authentication library.\n\nThis patch fixes this by only using the http_proxy environmental\nvariable to set the proxying and adding support for google-auth and\nusing it whenever possible.\n\nCloses-Bug: #1736569\nCloses-Bug: #1769660\nChange-Id: If1e34ea112b0cff328a58ec2fc9c3f5a5005f1c6\n'}]",0,566574,79d7a4e8da6f1118b5c235928876cf78085f4332,114,35,4,9535,,,0,"Fix google backup driver

Current backup driver is broken due to the upper constraints of
google-api-python-client which is set to 1.6.6, but after 1.6.0
parameter http and credentials are mutually exclusive, the driver is
also using the no longer preferred Google authentication library.

This patch fixes this by only using the http_proxy environmental
variable to set the proxying and adding support for google-auth and
using it whenever possible.

Closes-Bug: #1736569
Closes-Bug: #1769660
Change-Id: If1e34ea112b0cff328a58ec2fc9c3f5a5005f1c6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/566574/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/manager.py', 'cinder/backup/drivers/gcs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py']",3,843fec85a6d282b23a63011ef67c479967b88281,bug/1736569,"from cinder.backup.drivers import gcs as google_dr # Configuration overwrites enviromental variable proxy_cfg = ""http://myproxy.example.com"" os.environ['http_proxy'] = proxy_cfg + '_fake' google_dr.CONF.set_override(""backup_gcs_proxy_url"", proxy_cfg) self.assertEqual(proxy_cfg, os.environ.get('http_proxy')) @mock.patch('cinder.backup.drivers.gcs.GoogleBackupDriver.' @mock.patch('cinder.backup.drivers.gcs.GoogleBackupDriver.' @mock.patch('googleapiclient.__version__', '1.5.5') @mock.patch.object(google_dr.client.GoogleCredentials, 'from_stream') @mock.patch.object(google_dr.discovery, 'build') @mock.patch.object(google_dr, 'service_account') def test_non_google_auth_version(self, account, build, from_stream): # Prior to v1.6.0 Google api client doesn't support google-auth library google_dr.CONF.set_override('backup_gcs_credential_file', 'credentials_file') google_dr.GoogleBackupDriver(self.ctxt) from_stream.assert_called_once_with('credentials_file') account.Credentials.from_service_account_file.assert_not_called() build.assert_called_once_with('storage', 'v1', cache_discovery=False, credentials=from_stream.return_value) @mock.patch('googleapiclient.__version__', '1.6.6') @mock.patch.object(google_dr.client.GoogleCredentials, 'from_stream') @mock.patch.object(google_dr.discovery, 'build') @mock.patch.object(google_dr, 'service_account', None) def test_no_httplib2_auth(self, build, from_stream): # Google api client requires google-auth-httplib2 if not present we # use legacy credentials google_dr.CONF.set_override('backup_gcs_credential_file', 'credentials_file') google_dr.GoogleBackupDriver(self.ctxt) from_stream.assert_called_once_with('credentials_file') build.assert_called_once_with('storage', 'v1', cache_discovery=False, credentials=from_stream.return_value) @mock.patch('googleapiclient.__version__', '1.6.6') @mock.patch.object(google_dr, 'gexceptions', mock.Mock()) @mock.patch.object(google_dr.client.GoogleCredentials, 'from_stream') @mock.patch.object(google_dr.discovery, 'build') @mock.patch.object(google_dr, 'service_account') def test_google_auth_used(self, account, build, from_stream): # Google api client requires google-auth-httplib2 if not present we # use legacy credentials google_dr.CONF.set_override('backup_gcs_credential_file', 'credentials_file') google_dr.GoogleBackupDriver(self.ctxt) from_stream.assert_not_called() create_creds = account.Credentials.from_service_account_file create_creds.assert_called_once_with('credentials_file') build.assert_called_once_with('storage', 'v1', cache_discovery=False, credentials=create_creds.return_value)","from cinder.backup.drivers import google as google_dr google_dr.CONF.set_override(""backup_gcs_proxy_url"", ""http://myproxy.example.com"") mock_proxy_info.assert_called_with(""http://myproxy.example.com"") @mock.patch('httplib2.proxy_info_from_environment') def test_backup_proxy_environment(self, mock_proxy_env): google_dr.GoogleBackupDriver(self.ctxt) mock_proxy_env.assert_called_once_with() @gcs_client @mock.patch('cinder.backup.drivers.google.GoogleBackupDriver.' @mock.patch('cinder.backup.drivers.google.GoogleBackupDriver.'",115,34
openstack%2Fcinder~master~I73b227bae51997bebb9070cc48466f5e0b3699c3,openstack/cinder,master,I73b227bae51997bebb9070cc48466f5e0b3699c3,Huawei driver supports create_group_from_src,MERGED,2018-04-12 03:18:15.000000000,2018-05-18 14:25:44.000000000,2018-05-14 02:27:52.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16203}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-12 03:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/23ebe7525eeec3f2e4d1a1bb96637e480f8cbbe2', 'message': ""Huawei driver supports create_group_from_src\n\nHuawei driver doesn't implement create_group_from_src interface right now,\nthough Cinder framework provides a generic implementation, but it cannot\nguarantee the group volume data consistency for Huawei driver, so Huawei\ndriver is supposed to provide this ability itself.\n\nChange-Id: I73b227bae51997bebb9070cc48466f5e0b3699c3\nCloses-Bug: #1763242\n""}, {'number': 2, 'created': '2018-05-09 07:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a5804f0d0036846fa9af3176abf3a87ed273a3b', 'message': ""Huawei driver supports create_group_from_src\n\nHuawei driver doesn't implement create_group_from_src interface right now,\nthough Cinder framework provides a generic implementation, but it cannot\nguarantee the group volume data consistency for Huawei driver, so Huawei\ndriver is supposed to provide this ability itself.\n\nChange-Id: I73b227bae51997bebb9070cc48466f5e0b3699c3\nCloses-Bug: #1763242\n""}, {'number': 3, 'created': '2018-05-12 07:17:31.000000000', 'files': ['cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/huawei_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cce4f7d355ebcc7e0ec6168544a6d138e6bdd79d', 'message': ""Huawei driver supports create_group_from_src\n\nHuawei driver doesn't implement create_group_from_src interface right now,\nthough Cinder framework provides a generic implementation, but it cannot\nguarantee the group volume data consistency for Huawei driver, so Huawei\ndriver is supposed to provide this ability itself.\n\nChange-Id: I73b227bae51997bebb9070cc48466f5e0b3699c3\nCloses-Bug: #1763242\n""}]",12,560726,cce4f7d355ebcc7e0ec6168544a6d138e6bdd79d,86,36,3,16203,,,0,"Huawei driver supports create_group_from_src

Huawei driver doesn't implement create_group_from_src interface right now,
though Cinder framework provides a generic implementation, but it cannot
guarantee the group volume data consistency for Huawei driver, so Huawei
driver is supposed to provide this ability itself.

Change-Id: I73b227bae51997bebb9070cc48466f5e0b3699c3
Closes-Bug: #1763242
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/560726/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/huawei_driver.py']",2,23ebe7525eeec3f2e4d1a1bb96637e480f8cbbe2,bug/1763242,"from cinder import objects pool['consistencygroup_support'] = True 'NAME': huawei_utils.encode_name(dst_volume_name), def _create_snapshot_base(self, snapshot): return snapshot_id def create_snapshot(self, snapshot): snapshot_id = self._create_snapshot_base(snapshot) try: self.client.activate_snapshot(snapshot_id) except Exception: with excutils.save_and_reraise_exception(): LOG.error(""Active snapshot %s failed, now deleting it."", snapshot_id) self.client.delete_snapshot(snapshot_id) snapshot_info = self.client.get_snapshot_info(snapshot_id) location = huawei_utils.to_string( huawei_snapshot_id=snapshot_id, huawei_snapshot_wwn=snapshot_info['WWN']) return {'provider_location': location} def _get_group_type(self, group): opts = [] for vol_type in group.volume_types: specs = vol_type.extra_specs opts.append(self._get_volume_params_from_specs(specs)) return opts def _check_group_type_support(self, opts, vol_type): if not opts: return False for opt in opts: if opt.get(vol_type) == 'true': return True return False def _get_group_type_value(self, opts, vol_type): if not opts: return None for opt in opts: if vol_type in opt: return opt[vol_type] if not volume_utils.is_group_a_cg_snapshot_type(group): raise NotImplementedError() if self._check_group_type_support(opts, 'hypermetro'): if not self.check_func_support(""HyperMetro_ConsistentGroup""): msg = _(""Can't create consistency group, array not "" ""support hypermetro consistentgroup, "" ""group id: %(group_id)s."" ) % {""group_id"": group.id} LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def create_group_from_src(self, context, group, volumes, group_snapshot=None, snapshots=None, source_group=None, source_vols=None): if not volume_utils.is_group_a_cg_snapshot_type(group): raise NotImplementedError() model_update = self.create_group(context, group) delete_snapshots = False if not snapshots and source_vols: snapshots = [] for src_vol in source_vols: vol_kwargs = { 'id': src_vol.id, 'provider_location': src_vol.provider_location, } snapshot_kwargs = {'id': six.text_type(uuid.uuid4()), 'volume': objects.Volume(**vol_kwargs)} snapshot = objects.Snapshot(**snapshot_kwargs) snapshots.append(snapshot) snapshots_model_update = self._create_group_snapshot(snapshots) for i, model in enumerate(snapshots_model_update): snapshot = snapshots[i] snapshot.provider_location = model['provider_location'] delete_snapshots = True if snapshots: for i, vol in enumerate(volumes): snapshot = snapshots[i] vol_model_update = self.create_volume_from_snapshot( vol, snapshot) vol_model_update.update({'id': vol.id}) volumes_model_update.append(vol_model_update) if delete_snapshots: self._delete_group_snapshot(snapshots) def delete_group(self, context, group, volumes): if not volume_utils.is_group_a_cg_snapshot_type(group): raise NotImplementedError() opts = self._get_group_type(group) model_update = {'status': fields.GroupStatus.DELETED} volumes_model_update = [] if self._check_group_type_support(opts, 'hypermetro'): metro = hypermetro.HuaweiHyperMetro(self.client, self.rmt_client, self.configuration) metro.delete_consistencygroup(context, group, volumes) for volume in volumes: volume_model_update = {'id': volume.id} try: self.delete_volume(volume) except Exception: LOG.exception('Delete volume %s failed.', volume) volume_model_update.update({'status': 'error_deleting'}) else: volume_model_update.update({'status': 'deleted'}) volumes_model_update.append(volume_model_update) return model_update, volumes_model_update if not volume_utils.is_group_a_cg_snapshot_type(group): raise NotImplementedError() if self._check_group_type_support(opts, 'hypermetro'): for volume in add_volumes: try: self._check_volume_exist_on_array( volume, constants.VOLUME_NOT_EXISTS_RAISE) except Exception as err: raise exception.VolumeDriverException(message=err) if not volume_utils.is_group_a_cg_snapshot_type(group_snapshot): raise NotImplementedError() LOG.info('Create group snapshot for group: %(group_id)s', {'group_id': group_snapshot.group_id}) try: snapshots_model_update = self._create_group_snapshot(snapshots) except Exception: with excutils.save_and_reraise_exception(): LOG.error(""Create group snapshots failed. "" ""Group snapshot id: %s."", group_snapshot.id) model_update = {'status': fields.GroupSnapshotStatus.AVAILABLE} return model_update, snapshots_model_update def _create_group_snapshot(self, snapshots): snapshot_id = self._create_snapshot_base(snapshot) info = self.client.get_snapshot_info(snapshot_id) huawei_snapshot_id=info['ID'], huawei_snapshot_wwn=info['WWN']) snapshot_model_update = { 'id': snapshot.id, 'status': fields.SnapshotStatus.AVAILABLE, 'provider_location': location, } snapshots_model_update.append(snapshot_model_update) for added_snapshot in added_snapshots_info: self.client.delete_snapshot(added_snapshot['ID']) LOG.error(""Active group snapshots %s failed."", snapshot_ids) for snapshot_id in snapshot_ids: self.client.delete_snapshot(snapshot_id) return snapshots_model_update if not volume_utils.is_group_a_cg_snapshot_type(group_snapshot): raise NotImplementedError() try: snapshots_model_update = self._delete_group_snapshot(snapshots) except Exception: with excutils.save_and_reraise_exception(): LOG.error(""Delete group snapshots failed. "" ""Group snapshot id: %s"", group_snapshot.id) model_update = {'status': fields.GroupSnapshotStatus.DELETED} def _delete_group_snapshot(self, snapshots): snapshots_model_update = [] for snapshot in snapshots: self.delete_snapshot(snapshot) snapshot_model_update = { 'id': snapshot.id, 'status': fields.SnapshotStatus.DELETED } snapshots_model_update.append(snapshot_model_update) return snapshots_model_update "," def _get_group_type(self, group): opts = [] vol_types = group.volume_types for vol_type in vol_types: specs = vol_type.extra_specs opts.append(self._get_volume_params_from_specs(specs)) return opts def _check_volume_type_support(self, opts, vol_type): if not opts: return False support = True for opt in opts: if opt.get(vol_type) != 'true': support = False break return support 'NAME': dst_volume_name, def create_snapshot(self, snapshot): self.client.activate_snapshot(snapshot_id) location = huawei_utils.to_string(huawei_snapshot_id=snapshot_id) return {'provider_location': location, 'lun_info': snapshot_info} @huawei_utils.check_whether_operate_consistency_group if self._check_volume_type_support(opts, 'hypermetro'): # Array will create group at create_group_snapshot time. Cinder will # maintain the group and volumes relationship in the db. @huawei_utils.check_whether_operate_consistency_group def delete_group(self, context, group, volumes): opts = self._get_group_type(group) if self._check_volume_type_support(opts, 'hypermetro'): metro = hypermetro.HuaweiHyperMetro(self.client, self.rmt_client, self.configuration) return metro.delete_consistencygroup(context, group, volumes) model_update = {} model_update.update({'status': fields.GroupStatus.DELETED}) for volume_ref in volumes: try: self.delete_volume(volume_ref) volumes_model_update.append( {'id': volume_ref.id, 'status': 'deleted'}) except Exception: volumes_model_update.append( {'id': volume_ref.id, 'status': 'error_deleting'}) @huawei_utils.check_whether_operate_consistency_group if self._check_volume_type_support(opts, 'hypermetro'): # Array will create group at create_group_snapshot time. Cinder will # maintain the group and volumes relationship in the db. @huawei_utils.check_whether_operate_consistency_group def create_group_from_src(self, context, group, volumes, group_snapshot=None, snapshots=None, source_group=None, source_vols=None): err_msg = _(""Huawei Storage doesn't support create_group_from_src."") LOG.error(err_msg) raise exception.VolumeBackendAPIException(data=err_msg) @huawei_utils.check_whether_operate_consistency_group LOG.info('Create group snapshot for group' ': %(group_id)s', {'group_id': group_snapshot.group_id}) model_update = {} volume = snapshot.volume if not volume: msg = _(""Can't get volume id from snapshot, "" ""snapshot: %(id)s"") % {'id': snapshot.id} LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) lun_id, lun_wwn = huawei_utils.get_volume_lun_id( self.client, volume) snapshot_name = huawei_utils.encode_name(snapshot.id) snapshot_description = snapshot.id info = self.client.create_snapshot(lun_id, snapshot_name, snapshot_description) huawei_snapshot_id=info['ID']) snap_model_update = {'id': snapshot.id, 'status': fields.SnapshotStatus.AVAILABLE, 'provider_location': location} snapshots_model_update.append(snap_model_update) LOG.error(""Create group snapshots failed. "" ""Group snapshot id: %s."", group_snapshot.id) LOG.error(""Active group snapshots failed. "" ""Group snapshot id: %s."", group_snapshot.id) model_update['status'] = fields.GroupSnapshotStatus.AVAILABLE return model_update, snapshots_model_update @huawei_utils.check_whether_operate_consistency_group model_update = {} snapshots_model_update = [] model_update['status'] = fields.GroupSnapshotStatus.DELETED for snapshot in snapshots: try: self.delete_snapshot(snapshot) snapshot_model = {'id': snapshot.id, 'status': fields.SnapshotStatus.DELETED} snapshots_model_update.append(snapshot_model) except Exception: with excutils.save_and_reraise_exception(): LOG.error(""Delete group snapshot failed. "" ""Group snapshot id: %s"", group_snapshot.id) ",1179,1221
openstack%2Fcinder~master~Ie3dddbc05c6cd32e27168d68f4cb819364b0438c,openstack/cinder,master,Ie3dddbc05c6cd32e27168d68f4cb819364b0438c,NetApp ONTAP iSCSI: Force exception on online extend,MERGED,2018-05-11 14:26:50.000000000,2018-05-18 14:25:40.000000000,2018-05-16 00:13:30.000000000,"[{'_account_id': 4523}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 17097}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 25186}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-11 14:26:50.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'releasenotes/notes/bug-1712651-7bc90264eb5001ea.yaml', 'cinder/volume/drivers/netapp/dataontap/block_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b60912d5667350eae7ecbc67d4dba3658518d10', 'message': 'NetApp ONTAP iSCSI: Force exception on online extend\n\nThe Netapp ONTAP iSCSI driver does not support online volume extend. It\nmay work if the requested size does not exceed the LUN max geometry,\notherwise it will require the LUN to be detached. In such case, the\nbackend currently detaches and leaves the volume in an inconsistent\nstate.\n\nThis patch forces the ONTAP iSCSI driver to raise an exception whenever\nan online extend is requested and it detects it would exceed the LUN max\ngeometry.\n\nChange-Id: Ie3dddbc05c6cd32e27168d68f4cb819364b0438c\nCloses-Bug: #1712651\n'}]",1,567868,2b60912d5667350eae7ecbc67d4dba3658518d10,30,26,1,18058,,,0,"NetApp ONTAP iSCSI: Force exception on online extend

The Netapp ONTAP iSCSI driver does not support online volume extend. It
may work if the requested size does not exceed the LUN max geometry,
otherwise it will require the LUN to be detached. In such case, the
backend currently detaches and leaves the volume in an inconsistent
state.

This patch forces the ONTAP iSCSI driver to raise an exception whenever
an online extend is requested and it detects it would exceed the LUN max
geometry.

Change-Id: Ie3dddbc05c6cd32e27168d68f4cb819364b0438c
Closes-Bug: #1712651
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/567868/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'releasenotes/notes/bug-1712651-7bc90264eb5001ea.yaml', 'cinder/volume/drivers/netapp/dataontap/block_base.py']",4,2b60912d5667350eae7ecbc67d4dba3658518d10,bug/1712651," if volume['attach_status'] != 'detached': msg = _('Volume %(vol_id)s cannot be resized from ' '%(old_size)s to %(new_size)s, because would ' 'exceed its max geometry %(max_geo)s while not ' 'being detached.') raise exception.VolumeBackendAPIException(data=msg % { 'vol_id': name, 'old_size': curr_size_bytes, 'new_size': new_size_bytes, 'max_geo': lun_geometry.get(""max_resize"")})",,108,14
openstack%2Fmetalsmith~master~I0f8e2bdeea80e49ac681eb78a1ab06b0ed7b4eae,openstack/metalsmith,master,I0f8e2bdeea80e49ac681eb78a1ab06b0ed7b4eae,Run a job building docs and publishing them to readthedocs,MERGED,2018-05-18 12:32:43.000000000,2018-05-18 14:19:20.000000000,2018-05-18 14:19:20.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 12:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/198e9c6b233a671687a18ffa4283dc7c4d40c4e3', 'message': 'Run a job building docs and publishing them to readthedocs\n\nChange-Id: I0f8e2bdeea80e49ac681eb78a1ab06b0ed7b4eae\n'}, {'number': 2, 'created': '2018-05-18 12:59:40.000000000', 'files': ['README.rst', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/5fffc7ae2b89c050b81b541161df5bcedd3928c6', 'message': 'Run a job building docs and publishing them to readthedocs\n\nAlso update README with the required links.\n\nChange-Id: I0f8e2bdeea80e49ac681eb78a1ab06b0ed7b4eae\n'}]",0,569399,5fffc7ae2b89c050b81b541161df5bcedd3928c6,7,2,2,10239,,,0,"Run a job building docs and publishing them to readthedocs

Also update README with the required links.

Change-Id: I0f8e2bdeea80e49ac681eb78a1ab06b0ed7b4eae
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/99/569399/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,198e9c6b233a671687a18ffa4283dc7c4d40c4e3,docs, templates: - docs-on-readthedocs,,2,0
openstack%2Fhorizon~master~Ie863383ae5c81dc52138950dc9658b22a48d88f2,openstack/horizon,master,Ie863383ae5c81dc52138950dc9658b22a48d88f2,Remove Cinder API v1 compatibility,ABANDONED,2018-05-18 14:04:18.000000000,2018-05-18 14:04:40.000000000,,[],"[{'number': 1, 'created': '2018-05-18 14:04:18.000000000', 'files': ['releasenotes/notes/remove-cinder-v1-api-support-7cec9a556945a5c5.yaml', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/test/unit/api/test_cinder.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ba839989b303542f5106e46ed4aeceef311266e6', 'message': ""Remove Cinder API v1 compatibility\n\nSince Cinder API v1 is removed in I03bf2db5bd7e2fdfb4f6032758ccaf2b348a82ba\nwe don't _replace_v2_parameters function anymore.\n\nChange-Id: Ie863383ae5c81dc52138950dc9658b22a48d88f2\n""}]",0,569416,ba839989b303542f5106e46ed4aeceef311266e6,2,0,1,1736,,,0,"Remove Cinder API v1 compatibility

Since Cinder API v1 is removed in I03bf2db5bd7e2fdfb4f6032758ccaf2b348a82ba
we don't _replace_v2_parameters function anymore.

Change-Id: Ie863383ae5c81dc52138950dc9658b22a48d88f2
",git fetch https://review.opendev.org/openstack/horizon refs/changes/16/569416/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-cinder-v1-api-support-7cec9a556945a5c5.yaml', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/test/unit/api/test_cinder.py']",3,ba839989b303542f5106e46ed4aeceef311266e6,remove-cinder-v1,," def test_adapt_dictionary_to_v2(self): volume = self.cinder_volumes.first() data = {'name': volume.name, 'description': volume.description, 'size': volume.size} ret_data = api.cinder._replace_v2_parameters(data) self.assertIn('name', ret_data.keys()) self.assertIn('description', ret_data.keys()) self.assertNotIn('display_name', ret_data.keys()) self.assertNotIn('display_description', ret_data.keys())",7,25
openstack%2Fmistral~master~I641e39da6a66528e940a1924ba9c4797bbaa2a11,openstack/mistral,master,I641e39da6a66528e940a1924ba9c4797bbaa2a11,Added test to update the database schema to the latest revision,MERGED,2018-05-13 19:37:14.000000000,2018-05-18 13:52:38.000000000,2018-05-18 13:52:38.000000000,"[{'_account_id': 7700}, {'_account_id': 8871}, {'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-13 19:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/969eba964273cbed703fe2ba2f35d88c54d37eea', 'message': ""Added test to update the database schema to the latest revision\n\nIf developer make a mistake in a migration script that CI doesn't show\nthe error. This patch fixed it adding execution of upgrade database\ncommand before PostgreSQL and MySQL tests.\n\nChange-Id: I641e39da6a66528e940a1924ba9c4797bbaa2a11\n""}, {'number': 2, 'created': '2018-05-13 19:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/320b0910ddfcc679eae9f100ba3ce63596268b08', 'message': ""Added test to update the database schema to the latest revision\n\nIf developer make a mistake in a migration script that CI doesn't show\nthe error. This patch fixed it adding execution of upgrade database\ncommand before PostgreSQL and MySQL tests.\n\nChange-Id: I641e39da6a66528e940a1924ba9c4797bbaa2a11\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n""}, {'number': 3, 'created': '2018-05-16 09:25:14.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/mistral/commit/fac2c4ac6137461e03d864692252fe84ab8effcd', 'message': ""Added test to update the database schema to the latest revision\n\nIf developer make a mistake in a migration script that CI doesn't show\nthe error. This patch fixed it adding execution of upgrade database\ncommand before PostgreSQL and MySQL tests.\n\nCloses-Bug: #1611036\nChange-Id: I641e39da6a66528e940a1924ba9c4797bbaa2a11\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n""}]",1,568140,fac2c4ac6137461e03d864692252fe84ab8effcd,14,4,3,27008,,,0,"Added test to update the database schema to the latest revision

If developer make a mistake in a migration script that CI doesn't show
the error. This patch fixed it adding execution of upgrade database
command before PostgreSQL and MySQL tests.

Closes-Bug: #1611036
Change-Id: I641e39da6a66528e940a1924ba9c4797bbaa2a11
Signed-off-by: Vitalii Solodilov <mcdkr@yandex.ru>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/40/568140/2 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,969eba964273cbed703fe2ba2f35d88c54d37eea,impr/test_db_upgrade,"function upgrade_db { case ${db_type} in ""postgresql"" | ""mysql"" ) mistral-db-manage --config-file .mistral.conf upgrade head --sql ;; *) echo ""Skip a database upgrade"" ;; esac } upgrade_db",,12,0
openstack%2Ftripleo-ci~master~Ic7177d0ad1fcec5635d16d360b425f3b2737f668,openstack/tripleo-ci,master,Ic7177d0ad1fcec5635d16d360b425f3b2737f668,Add method for getting dlrn_hash from release and hash_name,MERGED,2018-05-09 19:04:03.000000000,2018-05-18 13:52:10.000000000,2018-05-18 13:52:10.000000000,"[{'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-05-09 19:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d9027b076ce18284008684d5890c248089eef776', 'message': 'Add method for getting dlrn_hash from release and hash_name\n\nChange-Id: Ic7177d0ad1fcec5635d16d360b425f3b2737f668\n'}, {'number': 2, 'created': '2018-05-10 17:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7c6c2f7b677d387b7d5ab3212a5c72e29855008a', 'message': 'Add method for getting dlrn_hash from release and hash_name\n\nThis method will parse the full repo hash from the delorean.repo\nfile in a similar way to what we currently do via bash in the\nrelease files. In the future, it may be better to just get this\ndata directly via the DLRN API.\n\nUnittests included which assert the validity of the regex used\nto parse the delorean.repo file, as well as the format of the\nrepo URL.\n\nChange-Id: Ic7177d0ad1fcec5635d16d360b425f3b2737f668\n'}, {'number': 3, 'created': '2018-05-11 20:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d8b741c8a75db6a52e293459fba0173fa2089536', 'message': 'Add method for getting dlrn_hash from release and hash_name\n\nThis method will parse the full repo hash from the delorean.repo\nfile in a similar way to what we currently do via bash in the\nrelease files. In the future, it may be better to just get this\ndata directly via the DLRN API.\n\nUnittests included which assert the validity of the regex used\nto parse the delorean.repo file, as well as the format of the\nrepo URL.\n\nChange-Id: Ic7177d0ad1fcec5635d16d360b425f3b2737f668\n'}, {'number': 4, 'created': '2018-05-14 20:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/87ba2147a5fc76e9e4b5b536fd13174e4a21a235', 'message': 'Add method for getting dlrn_hash from release and hash_name\n\nThis method will parse the full repo hash from the delorean.repo\nfile in a similar way to what we currently do via bash in the\nrelease files. In the future, it may be better to just get this\ndata directly via the DLRN API.\n\nUnittests included which assert the validity of the regex used\nto parse the delorean.repo file, as well as the format of the\nrepo URL.\n\nChange-Id: Ic7177d0ad1fcec5635d16d360b425f3b2737f668\n'}, {'number': 5, 'created': '2018-05-14 20:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2d953dc5d4fd90fa1e0c13df865820d8a9745cd4', 'message': 'Add method for getting dlrn_hash from release and hash_name\n\nThis method will parse the full repo hash from the delorean.repo\nfile in a similar way to what we currently do via bash in the\nrelease files. In the future, it may be better to just get this\ndata directly via the DLRN API.\n\nUnittests included which assert the validity of the regex used\nto parse the delorean.repo file, as well as the format of the\nrepo URL.\n\nChange-Id: Ic7177d0ad1fcec5635d16d360b425f3b2737f668\n'}, {'number': 6, 'created': '2018-05-15 18:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/efd087851397e0d259e0b332e6c1703d1c1312dc', 'message': 'Add method for getting dlrn_hash from release and hash_name\n\nThis method will parse the full repo hash from the delorean.repo\nfile in a similar way to what we currently do via bash in the\nrelease files. In the future, it may be better to just get this\ndata directly via the DLRN API.\n\nUnittests included which assert the validity of the regex used\nto parse the delorean.repo file, as well as the format of the\nrepo URL.\n\nChange-Id: Ic7177d0ad1fcec5635d16d360b425f3b2737f668\n'}, {'number': 7, 'created': '2018-05-16 11:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f90fe9a5bb2476170b2a739b441676e4a478476b', 'message': 'Add method for getting dlrn_hash from release and hash_name\n\nThis method will parse the full repo hash from the delorean.repo\nfile in a similar way to what we currently do via bash in the\nrelease files. In the future, it may be better to just get this\ndata directly via the DLRN API.\n\nUnittests included which assert the validity of the regex used\nto parse the delorean.repo file, as well as the format of the\nrepo URL.\n\nChange-Id: Ic7177d0ad1fcec5635d16d360b425f3b2737f668\n'}, {'number': 8, 'created': '2018-05-17 11:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5371ee7d576f142d059c963ce41ef1dbb5b449c3', 'message': 'Add method for getting dlrn_hash from release and hash_name\n\nThis method will parse the full repo hash from the delorean.repo\nfile in a similar way to what we currently do via bash in the\nrelease files. In the future, it may be better to just get this\ndata directly via the DLRN API.\n\nUnittests included which assert the validity of the regex used\nto parse the delorean.repo file, as well as the format of the\nrepo URL.\n\nChange-Id: Ic7177d0ad1fcec5635d16d360b425f3b2737f668\n'}, {'number': 9, 'created': '2018-05-17 15:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/745638e1c20403b0a730f24c7fcaa67ceda37bd8', 'message': 'Add method for getting dlrn_hash from release and hash_name\n\nThis method will parse the full repo hash from the delorean.repo\nfile in a similar way to what we currently do via bash in the\nrelease files. In the future, it may be better to just get this\ndata directly via the DLRN API.\n\nUnittests included which assert the validity of the regex used\nto parse the delorean.repo file, as well as the format of the\nrepo URL.\n\nChange-Id: Ic7177d0ad1fcec5635d16d360b425f3b2737f668\n'}, {'number': 10, 'created': '2018-05-18 08:20:10.000000000', 'files': ['scripts/emit_releases_file/emit_releases_file.py', 'scripts/emit_releases_file/test_get_dlrn_hash.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/935b7e76a9101e0b3a481ccc6a201ca511260315', 'message': 'Add method for getting dlrn_hash from release and hash_name\n\nThis method will parse the full repo hash from the delorean.repo\nfile in a similar way to what we currently do via bash in the\nrelease files. In the future, it may be better to just get this\ndata directly via the DLRN API.\n\nUnittests included which assert the validity of the regex used\nto parse the delorean.repo file, as well as the format of the\nrepo URL.\n\nChange-Id: Ic7177d0ad1fcec5635d16d360b425f3b2737f668\n'}]",23,567320,935b7e76a9101e0b3a481ccc6a201ca511260315,50,9,10,12715,,,0,"Add method for getting dlrn_hash from release and hash_name

This method will parse the full repo hash from the delorean.repo
file in a similar way to what we currently do via bash in the
release files. In the future, it may be better to just get this
data directly via the DLRN API.

Unittests included which assert the validity of the regex used
to parse the delorean.repo file, as well as the format of the
repo URL.

Change-Id: Ic7177d0ad1fcec5635d16d360b425f3b2737f668
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/20/567320/10 && git format-patch -1 --stdout FETCH_HEAD,['scripts/emit-releases-file.py'],1,d9027b076ce18284008684d5890c248089eef776,sprint13,"import mockimport re import requestsdef get_dlrn_hash(release, hash_name): full_hash_pattern = re.compile('\w{40,40}_\w{8,8}') repo_url = ('https://trunk.rdoproject.org/centos7-%s/%s/delorean.repo' % (release, hash_name)) repo_file = requests.get(repo_url) full_hash = full_hash_pattern.findall(repo_file.content) return full_hash[0] @mock.patch('requests.get') def test_get_dlrn_hash(mock_get): mock_response = mock.Mock() mock_response.content = ('[delorean]\nname=delorean-openstack-nova-81c23c04' '7e8e0fc03b54164921f49fdb4103202c\nbaseurl=https:/' '/trunk.rdoproject.org/centos7/81/c2/81c23c047e8e0' 'fc03b54164921f49fdb4103202c_b333f915\nenabled=1\n' 'gpgcheck=0\npriority=1') release = 'master' hash_name = 'current-tripleo' repo_url = ('https://trunk.rdoproject.org/centos7-%s/%s/delorean.repo' % (release, hash_name)) mock_get.return_value = mock_response assert (get_dlrn_hash(release, hash_name) == '81c23c047e8e0fc03b54164921f49fdb4103202c_b333f915') mock_get.assert_called_once_with(repo_url) ",,28,0
openstack%2Ftraining-guides~master~I4acce444b8133b5593d72f2c581b105fb8e824e7,openstack/training-guides,master,I4acce444b8133b5593d72f2c581b105fb8e824e7,Imported Translations from Zanata,MERGED,2018-05-18 07:13:16.000000000,2018-05-18 13:50:59.000000000,2018-05-18 13:50:59.000000000,"[{'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 07:13:16.000000000', 'files': ['doc/upstream-training/source/locale/ja/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/tr_TR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/48f6f22bdef8d924ae39b5a5aba01c04a7e79f6d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4acce444b8133b5593d72f2c581b105fb8e824e7\n'}]",0,569351,48f6f22bdef8d924ae39b5a5aba01c04a7e79f6d,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4acce444b8133b5593d72f2c581b105fb8e824e7
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/51/569351/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/locale/ja/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/tr_TR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po']",5,48f6f22bdef8d924ae39b5a5aba01c04a7e79f6d,zanata/translations,"""POT-Creation-Date: 2018-05-17 14:08+0000\n""","# Frank Kloeker <eumel@arcor.de>, 2015. #zanata""POT-Creation-Date: 2018-05-02 09:37+0000\n""msgid ""'Gates' code entering the stable or master branches"" msgstr ""'Gates' Code gelangt in den stable oder master Branch"" msgid ""(RC2, RC3, ...) with bugs targeted to it"" msgstr ""(RC2, RC3, ...) mit zugehörigen Bugs"" msgid ""*Common cycle with development milestones*"" msgstr ""*Gemeinsamer Zyklus mit Entwicklungsmeilensteinen*"" msgid ""2017 was 7th birthday of OpenStack"" msgstr ""2017 war der 7. Geburtstag von OpenStack"" msgid ""6 - 12 months after release"" msgstr ""6 - 12 Monate nach Release"" msgid ""A gathering of projects teams and contributors"" msgstr ""Ein Treffen von Projekten Teams und Mitwirkenden"" msgid ""A given project cannot follow more than one model"" msgstr ""Ein bestimmtes Projekt kann nicht mehr als einem Modell folgen"" msgid ""APIImpact"" msgstr ""APIImpact"" msgid ""Active Project Contributor (APC)"" msgstr ""Aktiver Projektmitarbeiter (APC)"" msgid ""Active Technical Contributor (ATC)"" msgstr ""Aktiver technischer Mitarbeiter (ATC)"" msgid ""Active User Contributors (AUC)"" msgstr ""Active User Contributors (AUC)"" msgid """" ""Active members and contributors to functional teams and/or working groups"" msgstr """" ""Aktive Mitglieder und Mitwirkende zu funktionalen Teams und / oder "" ""Arbeitsgruppen"" msgid ""Active moderators on ask.openstack.org"" msgstr ""Aktive Moderatoren auf ask.openstack.org"" msgid ""Additional External References:"" msgstr ""Zusätzliche externe Referenzen:"" msgid ""After the last milestone"" msgstr ""Nach dem letzten Meilenstein"" msgid ""An OpenStack wide status"" msgstr ""Ein OpenStack breiter Status"" msgid ""An official project is aligned with the OpenStack Mission if it"" msgstr ""Ein offizielles Projekt ist auf die OpenStack Mission ausgerichtet"" msgid ""Analysing Zuul Failures"" msgstr ""Analysieren von Zuul-Fehlern"" msgid ""Appropriate backports"" msgstr ""Geeignete Rückportierungen"" msgid ""Assist the PTL in driving program goals"" msgstr ""Unterstützung der PTL bei der Durchführung von Programmzielen"" msgid ""Backports of new functionality"" msgstr ""Rückportierungen mit neuer Funktionalität"" msgid ""Benefits of being an Official OpenStack project"" msgstr ""Vorteile eines offiziellen OpenStack-Projekts"" msgid """" ""Better entry point for new contributors finding their place in the community"" msgstr """" ""Besserer Einstieg für Mitwirkende, um ihren Platz in der Gemeinschaft zu "" ""finden"" msgid ""Big Tent was a code name for the official OpenStack projects"" msgstr ""Big Tent war ein Code-Name für die offiziellen OpenStack-Projekte"" msgid ""Blueprint (Partial-Implements, Implements)"" msgstr ""Blueprint (Partial-Implements, Implements)"" msgid ""Board of Directors"" msgstr ""Verwaltungsrat"" msgid ""Board of directors"" msgstr ""Verwaltungsrat"" msgid ""Body"" msgstr ""Körper"" msgid ""Brief explanation with context about the patch"" msgstr ""Kurze Erklärung mit Kontext über den Patch"" msgid ""Bug (Partial-Bug, Related-Bug, Closes-Bug)"" msgstr ""Bug (Partial-Bug, Verwandte-Bug, Closes-Bug)"" msgid ""Bug fixes"" msgstr ""Fehlerbehebung"" msgid ""Bugday"" msgstr ""Bugday"" msgid ""Bugday shows real-time stats during bug smash days."" msgstr ""Bugday zeigt Echtzeit-Stats während Bug-Smash-Tagen."" msgid """" ""Can participate in common programs, like mentoring and internship to help "" ""with on boarding"" msgstr """" ""Können an üblichen Programmen wie Mentoring und Praktika zum Einlernen "" ""teilnehmen"" msgid ""Can publish to docs.openstack.org and developer.openstack.org"" msgstr ""Kann zu docs.openstack.org und developer.openstack.org veröffentlichen"" msgid ""Cannot be modified once merged"" msgstr ""Kann nicht nochmal gemerged werden"" msgid ""Capture your idea in a spec/blueprint"" msgstr ""Erfassen Sie Ihre Idee in einer Spezifikation/Blueprint"" msgid ""Caused by timing/connectivity issues in check/gate"" msgstr ""Verursacht durch Timing / Konnektivität Probleme in Check / Gate"" msgid ""Change-Id"" msgstr ""Änderungs-Id"" msgid ""Changes to external HTTP APIs"" msgstr ""Änderungen an externen HTTP-APIs"" msgid ""Check"" msgstr ""Prüfen"" msgid ""Code can be uploaded before a blueprint/spec is accepted"" msgstr """" ""Code kann hochgeladen werden, bevor ein Blueprint/Spezifikation akzeptiert "" ""wird"" msgid ""Code change during the RC phase is a balancing act"" msgstr ""Code-Änderung während der RC-Phase ist ein Balanceakt"" msgid ""Code for new features is no longer accepted."" msgstr ""Code für neue Funktionen wird nicht länger akzeptiert."" msgid """" ""Code or documentation contribution to any of the official project "" ""repositories"" msgstr """" ""Code- oder Dokumentationsbeiträge zu einem der offiziellen Projekt-"" ""Repositories"" msgid ""Code stabilization period"" msgstr ""Code-Stabilisierungszeitraum"" msgid ""Committed a change over the last two 6-month release cycles"" msgstr """" ""In den letzten zwei 6-monatigen Release-Zyklen wurde eine Änderung "" ""vorgenommen"" msgid ""Common cycle with development milestones"" msgstr ""Gemeinsamer Zyklus mit Entwicklungsmeilensteinen"" msgid ""Common cycle with intermediary release"" msgstr ""Gemeinsamer Zyklus mit Zwischenfreigabe"" msgid ""Common cycle with intermediary release:"" msgstr ""Gemeinsamer Zyklus mit intermediärer Version:"" msgid ""Composed of 13 OpenStack Foundation Individual members"" msgstr ""Bestehend aus 13 OpenStack Foundation Einzelmitgliedern"" msgid ""Contributors get to vote in the Technical Committee election"" msgstr ""Beitragende geben ihre Stimme ab bei der Wahl zum Technischen Komitee"" msgid ""Contributors to Superuser"" msgstr ""Mitwirkende bis Superuser"" msgid ""Contributors to the repository under the UC governance"" msgstr ""Mitwirkende im Repository unter der UC-Governance"" msgid ""Coordinated development of multiple projects"" msgstr ""Koordinierte Entwicklung von mehreren Projekten"" msgid ""Core Team Members"" msgstr ""Kern Team Mitglieder"" msgid ""Core and Optional Services"" msgstr ""Core und optionale Dienstleistungen"" msgid """" ""Core services are OpenStack projects and essential in every OpenStack-"" ""powered IaaS cloud or product"" msgstr """" ""Kerndienste sind OpenStack-Projekte und essentiell in jeder OpenStack-"" ""gestützten IaaS Cloud oder Produkt enthalten."" ""Core team membership is about merging on master, stable core membership is "" ""independent"" msgstr """" ""Core-Team-Mitgliedschaft ist zum Mergen nach Master, Stable-Core-"" ""Mitgliedschaft ist unabhängig"" msgid """"msgid """" ""Critical fixes have the highest priority while more minor bug fixes may be "" ""safer to hold for the subsequent release."" msgstr """" ""Kritische Reparaturen haben die höchste Priorität, während niedrige "" ""Fehlerbehebung besser in der folgenden Version aufgehoben sind."" msgid """" ""Dashboard (horizon) and DevStack provide plugin interface for easy "" ""integration"" msgstr """" ""Dashboard (Horizont) und DevStack bieten Plugin-Schnittstelle für einfache "" ""Integration"" msgid ""Deadlines for the code to get merged"" msgstr ""Fristen für das Mergen von Code"" msgid ""Dedicated and detailed technical discussions"" msgstr ""Dedizierte und detaillierte Fachdiskussionen"" msgid ""Depends on the priority of your work item"" msgstr ""Hängen von den Prioritäten der Arbeitsaufgaben ab"" msgid ""Depends-On"" msgstr ""Depends-On"" msgid ""Describe the artifacts created by an OpenStack community team"" msgstr """" ""Beschreiben Sie die Artefakte, die von einem OpenStack Community Team "" ""erstellt wurden"" msgid ""Design activity is a continuous effort"" msgstr ""Designaktivität ist eine kontinuierliche Anstrengung"" msgid ""Determine who the current PTL is of your favorite project."" msgstr ""Bestimmen Sie, wer der aktuelle PTL von Ihrem Lieblingsprojekt ist."" msgid ""Directs the user to saved log output"" msgstr ""Leitet den Benutzer zur gespeicherten Log-Ausgabe"" msgid ""Discuss with your project team"" msgstr ""Diskutieren Sie mit Ihrem Projektteam"" msgid ""Do not assume ..."" msgstr ""Nicht annehmen ..."" msgid ""DocImpact"" msgstr ""DocImpact"" msgid ""Does it fix limitations of the current code?"" msgstr ""Gibt es Beschränkungen des aktuellen Codes?"" msgid ""Does it improve code structure?"" msgstr ""Verbessert es die Codestruktur?"" msgid ""Drive the program goals"" msgstr ""Die Programmziele treiben"" msgid ""Each PTL candidate needs to submit PTL candidacy"" msgstr ""Jeder PTL-Kandidat muss die PTL-Kandidatur einreichen"" msgid ""Each Platinum member can delegate one member"" msgstr ""Jedes Platin-Mitglied kann ein Mitglied delegieren"" msgid ""Each Release has two main events: PTG and the Summit"" msgstr ""Jede Veröffentlichung hat zwei Hauptveranstaltungen: PTG und Summit"" msgid ""Each project team sets priorities/dates for the release"" msgstr ""Jedes Projektteam setzt Prioritäten/Termine für die Freigabe"" msgid ""Elected from and by the group of APC's"" msgstr ""Gewählt aus der und durch die Gruppe der APCs"" msgid ""Election process is more informal than PTLs."" msgstr ""Wahlprozess ist informeller als PTLs."" msgid ""Endorsed by the Foundation"" msgstr ""Von der Foundation empfohlen"" msgid """" ""Enforces OpenStack ideals like: Openness, Transparency, Commonality, "" ""Integration and Quality"" msgstr """" ""Erzwingt OpenStack-Ideale wie: Offenheit, Transparenz, Gemeinsamkeit, "" ""Integration und Qualität"" msgid ""Every cycle includes"" msgstr ""Jeder Zyklus beinhaltet"" msgid ""Explain how the problem is solved"" msgstr ""Erklären Sie, wie das Problem gelöst ist"" msgid """" ""Explain the tags and when you use them. Documentation, API, Security or "" ""Upgrade Impacts are for patches with changes that alter the existing state. "" ""Depends-On is for cross repository dependencies. Change-Id's are filled in "" ""automatically with git review -s."" msgstr """" ""Erklären Sie die Tags und wenn Sie sie verwenden. Dokumentations-, API-, "" ""Sicherheits- oder Upgrade-Impacts sind für Patches mit Änderungen, die den "" ""vorhandenen Zustand verändern. Depends-On ist für Quer-Repository-"" ""Abhängigkeiten. Change-Ids werden automatisch mit git review -s ausgefüllt."" msgid ""Explanation of issue being solved and why it should be fixed"" msgstr ""Erläuterung des Problems und warum sollte es behoben werden"" msgid ""External References"" msgstr ""Externe Referenzen"" msgid """" ""Externally visible strings can no longer be changed. Helps translation "" ""activities complete on time."" msgstr """" ""Extern sichtbare Zeichenketten können nicht länger geändert werden. Hilft "" ""den Übersetzungsaktivitäten, um rechtzeitig fertig zu werden."" msgid """" ""Face to face planning discussions happen at the Project Teams Gathering "" ""(PTG) which is coordinated with the start of a development new cycle"" msgstr """" ""Persönliche Planungsgespräche geschehen beim Project Teams Gathering (PTG), "" ""die mit dem Beginn eines neuen Zyklus koordiniert werden"" msgid ""Feature freeze"" msgstr ""Funktionssperre"" msgid ""Feature proposal freeze"" msgstr ""Feature-Vorlage einfrieren"" msgid ""Finalize documentation"" msgstr ""Dokumentation abschließen"" msgid """" ""Find the latest election results for Board of Directors, TC and UC. Also "" ""find where the OpenStack election procedures are documented."" msgstr """" ""Finden Sie die neuesten Wahlergebnisse für Board of Directors, TC und UC. "" ""Finden Sie auch, wo die OpenStack Wahlverfahren dokumentiert sind."" msgid """" ""Find two other cores in the project and post their names in the Upstream "" ""Collaboration Training Etherpad."" msgstr """" ""Finden Sie zwei weitere Kernmitglieder im Projekt und posten Sie ihre Namen "" ""im Upstream Collaboration Training Etherpad."" msgid ""First 6 months"" msgstr ""Erste sechs Monate"" msgid ""Fishbowls: Open moderated discussions"" msgstr ""Fishbowls: Offene moderierte DIskussionen"" msgid ""Fix as many bugs as possible"" msgstr ""So viele Bugs wie möglich lösen"" msgid ""Fixes a user visible problem"" msgstr ""Beseitigt ein für Benutzer sichtbares Problem"" msgid ""Focus on what we want to do for the next one"" msgstr ""Auf den nächsten Schritt konzentrieren"" msgid ""Follows/observes the four opens: Source, Community, Development, Design"" msgstr """" ""Folgt/beobachtet die vier Opens: Source, Community, Developement, Design"" ""For more info see Article IV of `Bylaws of the OpenStack Foundation <https://"" ""www.openstack.org/legal/bylaws-of-the-openstack-foundation/>`_"" msgstr """" ""Weitere Informationen finden Sie in Artikel IV der \""Statuten der OpenStack "" ""Foundation\"" <https://www.openstack.org/legal/bylaws-of-the-openstack-"" ""foundation/> `_"" msgid """"msgid ""Format:"" msgstr ""Format:"" msgid ""Forum:"" msgstr ""Forum:"" msgid """" ""Full list of Official OpenStack Project Teams: https://governance.openstack."" ""org/tc/reference/projects/index.html"" msgstr """" ""Vollständige Liste der offiziellen OpenStack-Projektteams: https://"" ""governance.openstack.org/tc/reference/projects/index.html"" msgid ""Further details are in a later session"" msgstr ""Mehr Details in einer späteren Sitzung"" msgid ""Further supporting companies and organizations"" msgstr ""Weitere unterstützende Firmen und Organisationen"" msgid ""Gate"" msgstr ""Gate"" msgid ""Gathers feedback and consolidates requirements"" msgstr ""Sammelt Feedback und konsolidiert Anforderungen"" msgid ""Generic intention behind planning"" msgstr ""Allgemeiner Grund hinter der Planung"" msgid ""Get critical and high priority bugs fixed first"" msgstr """" ""Kritische und hochprioritäre Bugs erhalten, die zuerst behoben werden sollen"" msgid ""Get guidance from community members and leaders"" msgstr ""Holen Sie sich Anleitung von Community-Mitgliedern und Führungskräften"" msgid ""Get marketing from the OpenStack Foundation"" msgstr ""Erhalten Marketing von der OpenStack Foundation"" msgid ""Global Events and Releases"" msgstr ""Globale Veranstaltungen und Veröffentlichungen"" msgid ""Gold member companies"" msgstr ""Gold Mitgliedsfirmen"" msgid """" ""Gold members can delegate the same amount of members as Platinum members"" msgstr """" ""Goldmitglieder können die gleiche Anzahl von Mitgliedern als "" ""Platinummitglieder delegieren"" msgid ""Growing in number (26 in 2016)"" msgstr ""Wachsende Zahl (26 im Jahr 2016)"" msgid ""Guidelines: https://wiki.openstack.org/wiki/GitCommitMessages"" msgstr ""Richtlinien: https://wiki.openstack.org/wiki/GitCommitMessages"" msgid """" ""Hacking Rooms: Reservable rooms for projects to gather for technical "" ""discussions"" msgstr """" ""Hacking Rooms: Reservierte Räume für Projekte, um technische Diskussionen "" ""zusammenzutragen"" msgid ""Handles cross-project related topics and issues"" msgstr ""Kümmert sich um projektübergreifende Themen und Angelegenheiten"" msgid ""Have authority to merge code into a project"" msgstr ""Haben Sie die Befugnis, Code in ein Projekt zu mergen"" msgid ""Held by local groups to celebrate another year of OpenStack"" msgstr ""Zelebrierung des Jahrestages von OpenStack durch lokale Gruppen"" msgid ""Hosted annually by local OpenStack User Groups and companies"" msgstr ""Veranstaltungen von OpenStack User Groups und Firmen"" msgid ""I"" msgstr ""I"" msgid ""II"" msgstr ""II"" msgid ""III"" msgstr ""III"" msgid ""Identify a target milestone"" msgstr ""Identifizieren Sie einen Ziel-Meilenstein"" msgid ""Implementation"" msgstr ""Implementierung"" msgid ""Implementation - Milestone"" msgstr ""Umsetzung - Meilenstein"" msgid ""Implementation work"" msgstr ""Umsetzungsarbeiten"" msgid ""Inappropriate backports"" msgstr ""Unangemessene Rückportierungen"" msgid ""Independent release model"" msgstr ""Unabhängiges Release-Modell"" msgid ""Independent release model:"" msgstr ""Unabhängiges Versionsmodell:"" msgid ""Individual Foundation members"" msgstr ""Individuelle Stiftungsmitglieder"" msgid ""Individual members elect the same amount"" msgstr ""Einzelmitglieder wählen den gleichen Betrag"" msgid """" ""Individual members, can be granted ATC status by the PTL of an official "" ""project and TC approval. This is called extra-ATC status."" msgstr """" ""Individuelle Mitglieder können vom PTL eines offiziellen Projekts und "" ""Bestätigung des TC den ATC-Status bekommen. Dieser wird Extra-ATC-Status "" ""genannt."" msgid ""Individual members: all of us"" msgstr ""Einzelmitglieder: alle von uns"" msgid ""Institutional members: Platinum and Gold sponsors"" msgstr ""Institutionelle Mitglieder: Platin- und Gold-Sponsoren"" ""Intermediary releases can also be used to time releases near the beginning "" ""and end of the release cycle. Horizon plug-ins do this."" msgstr """" ""Intermediäre Versionen können auch für zeitbasierte Versionen nahe zum "" ""Versions-Anfang oder Ende des Zyklus benutzt werden. Horizon plug-ins tun "" ""dies."" msgid ""Intermittent Failures"" msgstr ""Intermittierende Fehler"" msgid """"msgid ""Its activities are under the oversight of the TC"" msgstr ""Die Aktivitäten stehen unter der Aufsicht des TC"" msgid ""Jobs run against a patch after it merges"" msgstr ""Jobs laufen nach einem merge"" msgid ""Last published release candidate from all Project Teams"" msgstr ""Letzter veröffentlichter Releasekandidat von allen Projektteams"" msgid ""Limited to 50 characters"" msgstr ""Begrenzt auf 50 Zeichen"" msgid ""Lines limited to 72 characters"" msgstr ""Zeilen auf 72 Zeichen begrenzt"" msgid ""List of `Rechecks <http://status.openstack.org/elastic-recheck>`_"" msgstr ""Liste der `Rechecks <http://status.openstack.org/elastic-recheck> `_"" msgid ""Logs"" msgstr ""Logs"" msgid ""Logs may be accessed by clicking on the test's name"" msgstr ""Protokolle können durch Anklicken des Testnamens aufgerufen werden"" msgid ""Low regression risk in stable branch"" msgstr ""Geringes Risiko von Regressionen im stabilen Branch"" msgid ""Main activities"" msgstr ""Hauptaktivitäten"" msgid ""Make useful reference points in time to organize the development cycle"" msgstr """" ""Bilden Sie rechtzeitig nützliche Referenzpunkte, um den Entwicklungszyklus "" ""zu organisieren."" msgid ""Manage day-to-day operations"" msgstr ""Verwalten Sie den täglichen Betrieb"" msgid ""May receive elastic recheck message"" msgstr ""Kann eine elastische Nachricht abrufen"" msgid ""Milestones are tagged in the repository using b1, b2 and b3"" msgstr ""Meilensteine ​​werden im Repository mit b1, b2 und b3 markiert"" msgid ""Moderators of any of the operators' official meet-up sessions"" msgstr ""Moderatoren einer der offiziellen Treffen der Operatoren"" msgid ""More extensive testing than check pipeline"" msgstr ""Mehr umfangreiche Tests als Check-Pipeline"" msgid ""More than 12 months"" msgstr ""Mehr als 12 Monate"" msgid ""Multi-layer group of leadership"" msgstr ""Mehrschichtige Gruppenführung"" msgid ""Need to balance integrating fixes and code churn"" msgstr """" ""Brauch die Balance zwischen der Integration von Reparaturen und Code-"" ""Änderungen"" msgid """" ""New Core Team members are nominated and elected by other Core Team Members"" msgstr """" ""Neue Core-Team-Mitglieder sind nominiert und gewählt von anderen Core-Team-"" ""Mitgliedern"" msgid """" ""Non-voting jobs are new jobs that are being tested and may not yet be ready "" ""to vote"" msgstr """" ""Nicht stimmberechtigte Jobs sind neue Jobs, die getestet werden und noch "" ""nicht bereit sind abzustimmen"" msgid ""Non-voting jobs do not cause a -1 vote from Zuul upon failure"" msgstr """" ""Nicht stimmberechtigte Jobs führen nicht zu einer -1-Stimme von Zuul nach "" ""dem Scheitern"" msgid """" ""Nonprofit foundation created to \""develop, support, protect, and promote\"" "" ""OpenStack"" msgstr """" ""Gemeinnützige Stiftung gegründet zum \""Entwickeln, Unterstützen, Beschützen, "" ""und Bewerben\"" von OpenStack"" msgid """" ""Not all projects are currently tracked in Project Navigator. The goal, "" ""however, is for it to be an ever growing list."" msgstr """" ""Nicht alle Projekte werden derzeit in Project Navigator verfolgt. Das Ziel "" ""ist jedoch, dass es eine immer wachsende Liste ist."" msgid ""Not good as an entry point"" msgstr ""Nicht gut als Einstiegspunkt"" msgid ""Official OpenStack projects"" msgstr ""Offizielle OpenStack-Projekte"" msgid """" ""Official OpenStack projects are tracked in the `Project Navigator <https://"" ""www.openstack.org/software/project-navigator>`_"" msgstr """" ""Offizielle OpenStack-Projekte werden verfolgt im `Project Navigator <https://"" ""www.openstack.org/software/project-navigator>`_"" msgid """" ""Official OpenStack projects can participate by offering topics and mentors "" ""for the interns who sign up for this program."" msgstr """" ""Offizielle OpenStack-Projekte können teilnehmen, indem sie Themen und "" ""Mentoren für die Praktikanten anbieten, die sich für dieses Programm "" ""anmelden."" msgid """" ""Official project teams fall under the TC's authority and are led by a "" ""Project Team Lead and Core Team Members"" msgstr """" ""Offizielle Projektteams fallen unter die TC-Autorität und werden von einem "" ""Projektteam und Kern-Teammitgliedern geführt"" msgid ""Only run after a patch is approved by a core reviewer"" msgstr ""Nur laufen, nachdem ein Patch von einem Core Reviewer genehmigt wurde"" msgid ""OpenStack Birthday Celebration"" msgstr ""OpenStack Geburtstagsfeier"" msgid ""OpenStack Foundation"" msgstr ""OpenStack Foundation"" msgid ""OpenStack Infrastructure and Project Status"" msgstr ""OpenStack Infrastruktur und Projektstatus"" msgid ""OpenStack Project Teams"" msgstr ""OpenStack-Projektteams"" msgid ""OpenStack project specific status"" msgstr ""OpenStack Projektspezifischer Status"" msgid ""OpenStack-Health"" msgstr ""OpenStack-Health"" msgid ""OpenStack-Health has a dashboard of overal OpenStack test results."" msgstr """" ""OpenStack-Health hat ein Dashboard von Overal OpenStack Testergebnissen."" msgid """" ""Optional services are also OpenStack projects but not necessarily needed to "" ""operate OpenStack depending on use cases"" msgstr """" ""Optionale Dienste sind auch OpenStack-Projekte, aber nicht unbedingt "" ""erforderlich, um OpenStack je nach Anwendungsfall zu betreiben"" msgid ""Organizers of Official OpenStack User Groups"" msgstr ""Organisatoren der offiziellen OpenStack User Groups"" msgid ""Other possible content"" msgstr ""Andere mögliche Inhalte"" msgid ""Overall feature freeze is the third milestone"" msgstr """" ""Allgemeine Sperrfrist für neue Funktionen beginnt mit dem dritten Meilenstein"" msgid ""Oversight over the OpenStack projects"" msgstr ""Aufsicht über die OpenStack-Projekte"" msgid ""PTG is a good time to propose and discuss features/fixes"" msgstr """" ""PTG ist eine gute Zeit, um Funktionen/Korrekturen vorzuschlagen und zu "" ""besprechen"" msgid ""PTG: https://www.openstack.org/ptg/"" msgstr ""PTG: https://www.openstack.org/ptg/"" msgid ""PTL e-mails nomination to mailing list."" msgstr ""PTL E-Mails Nominierung zur Mailingliste."" msgid ""PTL or Core Team Member nominates a person."" msgstr ""PTL oder Kern Team Mitglied nominiert eine Person."" msgid ""PTL responsibilities"" msgstr ""PTL-Verantwortlichkeiten"" msgid ""Patch Number"" msgstr ""Patch-Nummer"" msgid ""Person is elected if no team members object to the nomination."" msgstr """" ""Person wird gewählt, wenn keine Teammitglieder der Nominierung widersprechen."" msgid ""Phase"" msgstr ""Phase"" msgid ""Planning - Design"" msgstr ""Planung - Design"" msgid ""Planning - Discuss"" msgstr ""Planen - Diskutieren"" msgid ""Planning - Target"" msgstr ""Planung - Ziel"" msgid ""Planning and design activities"" msgstr ""Planungs- und Designaktivitäten"" msgid ""Planning for a release cycle starts at the end of the previous cycle"" msgstr """" ""Die Planung für einen Freigabezyklus beginnt am Ende des vorherigen Zyklus"" msgid ""Platinum member companies"" msgstr ""Platin Mitgliedsfirmen"" msgid ""Point at which specs must be proposed and reviewed for the release."" msgstr """" ""Punkt an dem Specs bestätigt und überprüft sein müssen für eine Version."" msgid ""Post"" msgstr ""Post"" msgid """" ""Post the information and web sites in the Upstream Collaboration Training "" ""Etherpad."" msgstr """" ""Posten Sie die Informationen und Webseiten im Upstream Collaboration "" ""Training Etherpad."" msgid """" ""Post their name, the project and a project goal for the next release in the "" ""Upstream Collaboration Training Etherpad."" msgstr """" ""Posten Sie ihren Namen, das Projekt und ein Projektziel für die nächste "" ""Version im Upstream Collaboration Training Etherpad."" msgid ""Prepare your idea for proposal to the community."" msgstr ""Bereiten Sie Ihre Idee für die Community vor."" msgid ""Prioritization of items (e.g. testing, documentation, etc.)"" msgstr ""Priorisierung von Artikeln (z.B. Prüfung, Dokumentation etc.)"" msgid ""Prioritize bugs / bug triage"" msgstr ""Bugs priorisieren/Bugs sichten"" msgid ""Processes followed, release management, etc."" msgstr ""Befolgte Prozesse, Release Management, etc."" msgid ""Produce *deliverables* to achieve a clearly stated *objective*"" msgstr ""produzieren *Ergebnisse*, um klar beschriebene *Ziele* zu erreichen"" msgid """" ""Project Onboarding Sessions: A place for new contributors to ask questions "" ""and get to know other contributors to the project"" msgstr """" ""Project Onboarding Sessions: Ein Platz für neue Beitragende, um Fragen zu "" ""stellen und andere Beitragende vom Projekt kennenzulernen"" msgid ""Project Team Gathering (PTG)"" msgstr ""Project Team Gathering (PTG)"" msgid ""Project Team Leads (PTLs)"" msgstr ""Projektteamleiter (PTLs)"" msgid """" ""Project team helps you to identify the target milestone and register it in "" ""the tracking tool"" msgstr """" ""Das Projektteam hilft Ihnen, den Zielmeilenstein zu identifizieren und im "" ""Tracking-Tool zu registrieren"" msgid """" ""Project teams create their deliverables, including testing and "" ""documentation, on a coordinated schedule"" msgstr """" ""Projektteams erstellen ihre Leistungen, einschließlich Test und "" ""Dokumentation, auf einem koordinierten Zeitplan"" msgid ""Projects APIs are documented within the project"" msgstr ""Projekte APIs werden im Projekt dokumentiert"" msgid """" ""Projects dependent upon the output of a release, like packaging or deploying "" ""OpenStack follow this model; e.g. Fuel and Kolla"" msgstr """" ""Projekte, die abhängig vom Ertrag eines Releases sind, wie Packetierung und "" ""Bereitstellung von OpenStack folgen diese Modell; z.B. Fuel und Kolla"" msgid """" ""Projects improve and grow independently but also strive to improve one "" ""collaborative framework: OpenStack"" msgstr """" ""Projekte verbessern und wachsen unabhängig, sind aber auch bestrebt, ein "" ""kollaboratives Framework zu verbessern: OpenStack"" msgid ""Provide a description of the history of changes in a repository"" msgstr """" ""Geben Sie eine Beschreibung des Verlaufs der Änderungen in einem Repository "" ""an"" msgid ""Provides"" msgstr ""Bietet"" msgid ""Published collectively as the OpenStack release"" msgstr ""Gemeinsam veröffentlicht als OpenStack-Version"" msgid ""Push code to Gerrit for review"" msgstr ""Push-Code zu Gerrit zur Überprüfung"" msgid ""Rechecks"" msgstr ""Rechecks"" msgid """" ""Rechecks has a list of bugs and associated information for nondeterministic "" ""check/gate failures."" msgstr """" ""Rechecks hat eine Liste von Bugs und zugehörigen Informationen für "" ""nichtdeterministische Check/Gate Ausfälle."" msgid ""References Cont."" msgstr ""Fortsetzung der Referenzen"" msgid ""References to other relevant patches?"" msgstr ""Verweise auf andere relevante Patches?"" msgid ""Regional 'Mini-Summit'"" msgstr ""Regionales 'Mini-Summit'"" msgid ""Regional Events"" msgstr ""Regionale Veranstaltungen"" msgid ""Release"" msgstr ""Freigabe (Release)"" msgid """" ""Release Candidate 1 (RC1) is cut when all the release-critical bugs are fixed"" msgstr """" ""Release Candidate 1 (RC1) wird abgeschnitten, wenn alle Release-kritischen "" ""Fehler behoben sind"" msgid ""Release Candidates"" msgstr ""Releasekandidat"" msgid ""Release candidate process"" msgstr ""Releasekandidatenprozess"" msgid ""Release day"" msgstr ""Erscheinungsdatum"" msgid ""Release models"" msgstr ""Release Modelle"" msgid ""Release preparation"" msgstr ""Freigabevorbereitung"" msgid ""Release process is managed by the Release Management team"" msgstr ""Release-Prozess wird vom Release Management Team verwaltet"" msgid ""Repeated as many times as necessary"" msgstr ""Wiederholen so oft wie nötig"" msgid ""Representatives are elected from"" msgstr ""Vertreter werden gewählt"" msgid ""Represents OpenStack users"" msgstr ""Stellt OpenStack-Benutzer dar"" msgid ""Required:"" msgstr ""Erforderlich:"" msgid """" ""Requirements cannot be changed to allow downstream packagers time to pull-in "" ""and build dependencies."" msgstr """" ""Anforderungen können nicht geändert werden, um Downstream-Paketierern Zeit "" ""zum Abholen und Bauen der Abhängigkeiten zu geben."" msgid ""Requirements freeze"" msgstr ""Requirements freeze"" msgid ""Resolve technical disputes"" msgstr ""Technische Konflikte lösen"" msgid ""Reviews"" msgstr ""Reviews"" msgid """" ""Reviews has a list of important reviews based on blueprint and bug priority "" ""organized by project."" msgstr """" ""Reviews hat eine Liste von wichtigen Reviews-basierend auf Blueprint und Bug "" ""Priorität vom Projekt organisiert."" msgid ""Run against all newly updated patch sets"" msgstr ""Führen Sie alle neu aktualisierten Patch-Sets aus"" msgid ""Same criteria as ATC except for contributions to a project"" msgstr ""Gleiche Kriterien wie ATC, außer für Beiträge zu einem Projekt"" msgid ""SecurityImpact"" msgstr ""SecurityImpact"" msgid ""Set by each project team"" msgstr ""Werden von jedem Projektteam gesetzt"" msgid ""Should not end with a period"" msgstr ""Sollte nicht mit einem Punkt enden"" msgid ""Smaller scale than OpenStack Days Events"" msgstr ""Kleinerer Rahmen als OpenStack Tagesveranstaltungen"" ""Some are more development focused while others are more user and ops focused"" msgstr """" ""Einige sind mehr entwicklungsorientiert, während andere mehr fokussiert sind "" ""an Benutzer oder Operator"" msgid """"msgid ""Spec freeze"" msgstr ""Spec freeze"" msgid ""Spec/blueprint freeze"" msgstr ""Spezifikation/Blueprints einfrieren"" msgid ""Stable Branch"" msgstr ""Stabiler Branch"" msgid ""Stable Branch Reviews"" msgstr ""Reviews im stabilen Branch"" msgid """" ""Start with a blueprint and look to the project team's core members for "" ""guidance on whether a spec is needed."" msgstr """" ""Beginnen Sie mit einem Blueprint und fragen Sie bei den Kernmitgliedern des "" ""Projektteams nach, ob eine Spezifikation benötigt wird."" msgid ""Strategic and financial oversight"" msgstr ""Strategische und finanzielle Aufsicht"" msgid ""String freeze"" msgstr ""Zeichenkettensperre"" msgid ""Submit the blueprints and/or specs"" msgstr ""Geben Sie die Blueprints und/oder Spezifikationen ein"" msgid ""Subset of ATCs who have contributed to a specific project"" msgstr """" ""Teilmenge der ATCs, die zu einem spezifischen Projekt beigetragen haben"" msgid ""Subset of the Foundation Individual Members"" msgstr ""Untergruppe der Foundation Individual Members"" msgid ""Succinctly describes patch content"" msgstr ""Prägnante Beschreibung des Patchinhaltes"" msgid ""Summary Line"" msgstr ""Zusammenfassungszeile"" msgid ""Summit & Forum"" msgstr ""Summit & Forum"" msgid """" ""Summits take place around the middle of a release to exhibit accomplishments "" ""and get feedback from users on the most recent release"" msgstr """" ""Summits finden um die Mitte eines Release statt, um Errungenschaften "" ""auszustellen und Feedback von Nutzern auf der letzten Veröffentlichung zu "" ""erhalten"" msgid """" ""TC (+PTL) candidates and election results are available on `Governance - "" ""Election page <https://governance.openstack.org/election/>`_, and shared "" ""through `openstack-dev mailing list <http://lists.openstack.org/cgi-bin/"" ""mailman/listinfo/openstack-dev>`_."" msgstr """" ""TC (+ PTL) Kandidaten und Wahlergebnisse sind auf der Seite \""Governance - "" ""Election\"" verfügbar <https://governance.openstack.org/election/> `_, und "" ""geteilt durch` openstack-dev Mailing-Liste <http://lists.openstack.org/cgi-"" ""bin/mailman/listinfo/openstack-dev> `_."" msgid ""TC members are elected by the ATC's"" msgstr ""TC-Mitglieder werden von ATCs gewählt"" msgid """" ""Tags can be associated with projects. Find out what tags are and find the "" ""current list of available tags."" msgstr """" ""Tags können mit Projekten verknüpft werden. Finden Sie heraus, welche Tags "" ""sind und finden Sie die aktuelle Liste der verfügbaren Tags."" msgid ""Take a step back"" msgstr ""Einen Schritt zurücktreten"" msgid ""Task Tracking Info:"" msgstr ""Task-Tracking-Info:"" msgid ""Teams in OpenStack can be freely created as they are needed"" msgstr """" ""Teams in OpenStack können frei erstellt werden, so wie sie benötigt werden"" msgid ""Teams of people who"" msgstr ""Teams von Leuten, die"" msgid ""Technical Committee"" msgstr ""Technischer Ausschuss"" msgid ""Technical Committee (\""TC\"")"" msgstr ""Technisches Komitee (\""TC\"")"" msgid ""Technical leadership"" msgstr ""Technische Führung"" msgid ""Test the code and file bugs"" msgstr ""Testen des Codes und reporten von Bugs"" msgid ""Testable on its own"" msgstr ""Auf eigene Faust testbar"" msgid """" ""The OpenStack Foundation participates in internship programs as `Outreachy "" ""<https://wiki.openstack.org/wiki/Outreachy>`_."" msgstr """" ""Die OpenStack Foundation beteiligt sich an Praktikumsprogrammen als "" ""`Outreachy <https://wiki.openstack.org/wiki/Outreachy> `_."" msgid """" ""The PTG is scheduled around the start of a release to plan release goals"" msgstr """" ""Der PTG ist um den Beginn einer Freigabe geplant, um Freisetzungsziele zu "" ""planen"" msgid ""The TC Chair is proposed by the TC members"" msgstr ""Der TC-Vorsitzende wird von den TC-Mitgliedern vorgeschlagen"" msgid ""The code is self-evident/self-documenting"" msgstr ""Der Code ist selbstverständlich/selbstdokumentierend"" msgid ""The deadline for proposing new ideas for a release cycle"" msgstr ""Die Frist für die Vorlage neuer Ideen für einen Releaeszyklus"" msgid """" ""The election of Board of Directors is announced via `Board election page "" ""<https://www.openstack.org/election/>`_, and the election result can be seen "" ""in `Foundation mailing list <http://lists.openstack.org/cgi-bin/mailman/"" ""listinfo/foundation>`_."" msgstr """" ""Die Wahl des Verwaltungsrates wird über die Wahlkommission bekannt gegeben "" ""<https://www.openstack.org/election/> `_, und das Wahlergebnis kann in` "" ""Foundation Mailing-Liste gesehen werden <http://lists.openstack.org/cgi-bin/"" ""mailman/listinfo/foundation> `_."" msgid ""The exact date is determined by each project team"" msgstr ""Das genaue Datum wird von jedem Projektteam bestimmt"" msgid ""The first thing a reviewer sees and it is as important as the code"" msgstr ""Das erste, was ein Reviewer sieht und es ist so wichtig wie der Code"" msgid ""The official list of projects:"" msgstr ""Die offizielle Liste der Projekte:"" msgid """" ""The priority of the work item is set by the project team members or lead"" msgstr """" ""Die Prioritäten der Arbeiten werden durch die Projekt-Teammitglieder oder "" ""Projektleiter gesetzt."" msgid """" ""The responsibilities of a PTL also depend on the project (Each project "" ""handles things a little differently)."" msgstr """" ""Die Verantwortlichkeiten einer PTL hängen auch vom Projekt ab (jedes Projekt "" ""behandelt die Dinge etwas anders)."" msgid ""The reviewer has access to external web services/site"" msgstr ""Der Reviewer hat Zugang zu externen Web-Services / Website"" msgid ""The reviewer understands what the original problem was"" msgstr ""Der Reviewer versteht, was das ursprüngliche Problem war"" msgid """" ""The summit is a biannual conference with keynotes, presentations, and panel "" ""discussions"" msgstr """" ""Der Summit ist eine zweimal jährige Konferenz mit Keynotes, Präsentationen "" ""und Podiumsdiskussionen"" ""The teams get space at OpenStack Summits and Project Team Gatherings (PTG)"" msgstr """" ""Die Teams bekommen Platz bei OpenStack Summits und Project Team Gatherings "" ""(PTG)"" msgid """" ""The training concentrates on the common cycle with the development "" ""milestones as that is what most students will work with. The other types "" ""should be described."" msgstr """" ""Die Ausbildung konzentriert sich auf den gemeinsamen Zyklus mit den "" ""Entwicklungsmeilensteinen, was das ist, wo die meisten Studenten mitarbeiten "" ""werden. Die anderen Typen sollten beschrieben werden."" msgid """"""These projects may hold tools used for OpenStack but are not part of a "" ""production release."" msgstr """" ""Diese Projekte beinhalten Werkzeuge für OpenStack, aber sind nicht Teil der "" ""Produktionsversion."" msgid """"msgid """" ""Though not defined in the TC charter like other roles above, cores serve an "" ""important role in Project Teams."" msgstr """" ""Obwohl nicht in der TC-Charta wie andere Rollen oben definiert, dienen "" ""Kernmitglieder eine wichtige Rolle in Projektteams."" msgid ""Three development milestones during a release cycle"" msgstr ""Drei Entwicklungsmeilensteine ​​während eines Freigabezyklus"" msgid ""Time Frame"" msgstr ""Zeitfenster"" msgid """" ""To trigger a re-run of check or gate add a comment to the patch in the form "" ""of 'recheck bug XXXXX'"" msgstr """" ""Um einen Re-Run von Check oder Gate auszulösen, füge einen Kommentar zum "" ""Patch in Form von 'recheck bug XXXXX'"" msgid ""Track chairs for OpenStack Summits"" msgstr ""Leiter von tracks für OpenStack Summits"" msgid ""Trailing the common cycle"" msgstr ""Im Anschluss an den allgemeinen Zyklus"" msgid ""Trailing the common cycle:"" msgstr ""Hinter dem gemeinsamen Zyklus:"" msgid ""Types of sessions at the Forum"" msgstr ""Versammlungsarten auf dem Forum"" msgid """" ""UC election information is available though `User-committee mailing list "" ""<http://lists.openstack.org/cgi-bin/mailman/listinfo/user-committee>`_."" msgstr """" ""UC Wahl Informationen sind verfügbar über `User-Committee Mailing-Liste "" ""<http://lists.openstack.org/cgi-bin/mailman/listinfo/user-committee> `_."" msgid ""Unlike ATC, APC and PTLs, role is not defined in the TC charter"" msgstr """" ""Im Gegensatz zu ATC, APC und PTLs ist die Rolle nicht in der TC-Charta "" ""definiert"" msgid ""UpgradeImpact"" msgstr ""UpgradeImpact"" msgid ""Upload your code as early as possible in the release cycle"" msgstr ""Laden Sie Ihren Code so früh wie möglich im Release-Zyklus hoch"" msgid ""Used as-is as the final release"" msgstr ""Benutzen \""als es ist\"" die finale Version"" msgid ""Used for components needing more frequent releases. e.g. Oslo Libraries"" msgstr """" ""Benutzt für Komponenten, die mehr frequentierte Versionen benötigen, z.B. "" ""Oslo-Bibliotheken"" msgid ""Useful for participants if they are already working with a project team"" msgstr ""Sinnvoll für Teilnehmer, die bereits in einem Projektteam arbeiten"" msgid ""User Committee"" msgstr ""Benutzerkomitee"" msgid ""User Committee (\""UC\"")"" msgstr ""User Komitee (\""UC\"")"" msgid ""User Group Meetups"" msgstr ""Benutzergruppen-Meetups"" msgid """" ""User focused discussions at the Forum to collect feedback for developers"" msgstr """" ""Anwenderfokusierte Diskussionen im Forum, um Feedback für Entwickler zu "" ""sammeln."" msgid ""Users with the following activities are recognized with AUC status:"" msgstr ""Benutzer mit den folgenden Aktivitäten werden mit AUC-Status erkannt:"" msgid ""Uses the browser to view the logs"" msgstr ""Verwendet den Browser, um die Protokolle anzuzeigen"" msgid ""Using the common tools (code repository, bug tracker, CI system, etc.)"" msgstr ""Mit den gängigen Tools (Code Repository, Bug Tracker, CI-System, etc.)"" msgid ""Voting and non-voting jobs"" msgstr ""Abstimmungs- und nicht stimmberechtigte Jobs"" msgid ""Voting job failures cause a -1 vote from Zuul on the patch"" msgstr ""Voting Job Fehler verursachen eine -1 Stimme von Zuul auf dem Patch"" msgid ""What makes a release"" msgstr ""Was macht ein Release"" msgid ""When in the cycle you intend to complete it"" msgstr ""Wann während des Zyklusses soll es planmäßig abgeschlossen sein"" msgid ""When your blueprint/spec is accepted"" msgstr ""Wenn Ihr Blueprint/Spezifikation akzeptiert wird"" msgid """" ""Whether a change requires just a blueprint or spec and blueprint depends on "" ""the complexity of the change."" msgstr """" ""Ob eine Veränderung nur eine Blueprint oder Spezifikation und Blueprint "" ""erfordert, hängt von der Komplexität der Veränderung ab."" msgid ""Who is able to approve patches during the RC phase is limited."" msgstr ""Wer in der RC-Phase Patches genehmigen kann, ist begrenzt."" msgid ""Work on feedback and comments"" msgstr ""Arbeiten an Feedback und Kommentaren"" msgid ""Work towards OpenStack's mission"" msgstr ""darauf hinwirken, die OpenStack Mission zu erfüllen"" msgid ""Zuul"" msgstr ""Zuul"" msgid ""Zuul Failures"" msgstr ""Zuul-Fehler"" msgid ""Zuul Pipelines"" msgstr ""Zuul Pipelines"" msgid """" ""Zuul is the project gating and automation system that tests and merges "" ""changes as well as publishing releases and documentation."" msgstr """" ""Zuul ist das Projekt-Gating- und Automatisierungssystem, das Änderungen "" ""testet, merged sowie Releases und Dokumentationen veröffentlicht."" msgid ""Zuul votes +1/-1 depending on test results"" msgstr ""Zuul Stimmen + 1 / -1 je nach Testergebnisse"" msgid ""`Board election <https://www.openstack.org/election/>`_"" msgstr ""`Board-Wahl <https://www.openstack.org/election/>`_"" msgid """" ""`Bylaws of the OpenStack Foundation <https://www.openstack.org/legal/bylaws-"" ""of-the-openstack-foundation/>`_"" msgstr """" ""`Nach den Regeln der OpenStack Foundation <https://www.openstack.org/legal/"" ""bylaws-of-the-openstack-foundation/>`_"" ""`Foundation mailing list <http://lists.openstack.org/cgi-bin/mailman/"" ""listinfo/foundation>`_"" msgstr """" ""`Foundation Mailingliste <http://lists.openstack.org/cgi-bin/mailman/"" ""listinfo/foundation>`_"" msgid """"""`Governance - Election page <https://governance.openstack.org/election/>`_"" msgstr ""`Governance - Wahlseite <https://governance.openstack.org/election/>`_"" msgid """"msgid ""`Internship Programs <https://wiki.openstack.org/wiki/Outreachy>`_"" msgstr ""`Internship Programme <https://wiki.openstack.org/wiki/Outreachy>`_"" ""`List of TC members <https://www.openstack.org/foundation/tech-committee/>`_"" msgstr """" ""`Liste der TC Mitglieder <https://www.openstack.org/foundation/tech-"" ""committee/> `_"" msgid """"msgid """" ""`Members of OpenStack User Comittee <https://www.openstack.org/foundation/"" ""user-committee/>`_"" msgstr """" ""`Mitglieder des OpenStack User Committee <https://www.openstack.org/"" ""foundation/user-committee/> `_"" msgid ""`Mentoring <https://wiki.openstack.org/wiki/Mentors>`_"" msgstr ""`Mentoring <https://wiki.openstack.org/wiki/Mentors> `_"" msgid """" ""`Mentoring <https://wiki.openstack.org/wiki/Mentors>`_ is run by the Women "" ""of OpenStack group, where mentees are guided through the OpenStack processes."" msgstr """" ""`Mentoring <https://wiki.openstack.org/wiki/Mentors> `_ wird von der Women "" ""of OpenStack Gruppe geführt, wo Mentees durch die OpenStack Prozesse geführt "" ""werden."" msgid """" ""`New Project Requirements <https://governance.openstack.org/tc/reference/new-"" ""projects-requirements.html>`_"" msgstr """" ""`Neue Projektanforderungen <https://governance.openstack.org/tc/reference/"" ""new-projects-requirements.html> `_"" ""`OpenStack Project Teams <https://governance.openstack.org/tc/reference/"" ""projects/index.html>`_"" msgstr """" ""`OpenStack Projektteams <https://governance.openstack.org/tc/reference/"" ""projects/index.html> `_"" msgid """" ""`OpenStack Technical Comittee Charter <https://governance.openstack.org/tc/"" ""reference/charter.html>`_"" msgstr """" ""`OpenStack Fachausschuss Charta <https://governance.openstack.org/tc/"" ""reference/charter.html> `_"" msgid """" ""`OpenStack Technical Comittee page <https://governance.openstack.org/tc/>`_"" msgstr """" ""`OpenStack Technical Comittee Seite <https://governance.openstack.org/tc/> `_"" msgid """" ""`OpenStack User Committee <https://governance.openstack.org/uc/index.html>`_"" msgstr """" ""`OpenStack User Committee <https://governance.openstack.org/uc/index.html>`_"" msgid """" ""`OpenStack User Committee Charter <https://governance.openstack.org/uc/"" ""reference/charter.html>`_"" msgstr """" ""`OpenStack User Committee Charter <https://governance.openstack.org/uc/"" ""reference/charter.html> `_"" msgid """" ""`OpenStack User Committee page <https://governance.openstack.org/uc/index."" ""html>`_"" msgstr """" ""`OpenStack User Committee Seite <https://governance.openstack.org/uc/index."" ""html> `_"" msgid """"""`Other responsibilities <https://docs.openstack.org/project-team-guide/ptl."" ""html>`_"" msgstr """" ""`Andere Verantwortlichkeiten <https://docs.openstack.org/project-team-guide/"" ""ptl.html> `_"" msgid """"msgid ""`PTG <https://www.openstack.org/ptg/>`_"" msgstr ""`PTG <https://www.openstack.org/ptg/> `_"" msgid """" ""`Requirements <https://governance.openstack.org/reference/new-projects-"" ""requirements.html>`_ for official OpenStack projects"" msgstr """" ""`Anforderungen <https://governance.openstack.org/reference/new-projects-"" ""requirements.html> `_ für offizielle OpenStack-Projekte"" msgid """" ""`User-committee mailing list <http://lists.openstack.org/cgi-bin/mailman/"" ""listinfo/user-committee>`_"" msgstr """" ""`User-Committee Mailingliste <http://lists.openstack.org/cgi-bin/mailman/"" ""listinfo/user-committee>`_"" msgid ""`http://status.openstack.org <http://status.openstack.org>`_"" msgstr ""`http://status.openstack.org <http://status.openstack.org> `_"" msgid """" ""`openstack-dev mailing list <http://lists.openstack.org/cgi-bin/mailman/"" ""listinfo/openstack-dev>`_"" msgstr """" ""`openstack-dev Mailingliste <http://lists.openstack.org/cgi-bin/mailman/"" ""listinfo/openstack-dev>`_"" msgid ""by majority vote of all Gold Members"" msgstr ""durch Stimmenmehrheit aller Goldmitglieder"" msgid ""directly elected by ATC's"" msgstr ""direkt von ATC gewählt"" msgid ""has a clear and defined scope"" msgstr ""hat einen klares und definiertes Ziel"" msgid """" ""https://governance.openstack.org/tc/reference/new-projects-requirements.html"" msgstr """" ""https://governance.openstack.org/tc/reference/new-projects-requirements.html"" msgid ""https://groups.openstack.org/"" msgstr ""https://groups.openstack.org/"" msgid ""master branch is open for development"" msgstr ""Master Branch ist für Entwicklung geöffnet"" msgid """" ""provides a cloud infrastructure service or directly builds on an existing "" ""OpenStack cloud infrastructure service"" msgstr """" ""bietet einen Cloud-Infrastruktur-Dienst oder baut direkt auf einem "" ""bestehenden OpenStack Cloud-Infrastruktur-Dienst auf"" msgid ""stable/release branch"" msgstr ""stable/release Branch"" ",5,6124
openstack%2Fcontributor-guide~master~I51e1c28faf5be1d54f1475dc982dfb5c8b91ce9c,openstack/contributor-guide,master,I51e1c28faf5be1d54f1475dc982dfb5c8b91ce9c,Fix issues in governance page,MERGED,2018-05-17 15:59:06.000000000,2018-05-18 13:26:55.000000000,2018-05-18 13:26:55.000000000,"[{'_account_id': 6547}, {'_account_id': 9562}, {'_account_id': 14482}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 15:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/f2789a1462e7d6a65cbc6b0bd419eb72b0a30b99', 'message': 'Fix issues in governance page\n\nUpon reviewing the governance content I found numerous issues.\nThere was a broken ref because it was split.  A few miss-spellings\nand some sentences that were hard to understand.  This patch\nresolves those issues.\n\nChange-Id: I51e1c28faf5be1d54f1475dc982dfb5c8b91ce9c\n'}, {'number': 2, 'created': '2018-05-17 16:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/699d6787e472afa64738fdff026448b8309d69c6', 'message': 'Fix issues in governance page\n\nUpon reviewing the governance content I found numerous issues.\nThere was a broken ref because it was split.  A few miss-spellings\nand some sentences that were hard to understand.  This patch\nresolves those issues.\n\nChange-Id: I51e1c28faf5be1d54f1475dc982dfb5c8b91ce9c\n'}, {'number': 3, 'created': '2018-05-17 17:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/efcd3fbd1ec1e7484b32bfdf15fa4915279b18d6', 'message': 'Fix issues in governance page\n\nUpon reviewing the governance content I found numerous issues.\nThere was a broken ref because it was split.  A few miss-spellings\nand some sentences that were hard to understand.  This patch\nresolves those issues.\n\nChange-Id: I51e1c28faf5be1d54f1475dc982dfb5c8b91ce9c\n'}, {'number': 4, 'created': '2018-05-18 05:44:18.000000000', 'files': ['doc/source/common/governance.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/d0fa8cc2d8accbc900a4bb7fe53a90e384491ea7', 'message': 'Fix issues in governance page\n\nUpon reviewing the governance content I found numerous issues.\nThere was a broken ref because it was split.  A few miss-spellings\nand some sentences that were hard to understand.  This patch\nresolves those issues.\n\nChange-Id: I51e1c28faf5be1d54f1475dc982dfb5c8b91ce9c\n'}]",3,569157,d0fa8cc2d8accbc900a4bb7fe53a90e384491ea7,15,5,4,7198,,,0,"Fix issues in governance page

Upon reviewing the governance content I found numerous issues.
There was a broken ref because it was split.  A few miss-spellings
and some sentences that were hard to understand.  This patch
resolves those issues.

Change-Id: I51e1c28faf5be1d54f1475dc982dfb5c8b91ce9c
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/57/569157/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/governance.rst'],1,f2789a1462e7d6a65cbc6b0bd419eb72b0a30b99,fix-governance-issues,"two at another election six months later. They are elected by :ref:`Active User Contributors <auc>`.Benefits for official OpenStack projects:To propose a project to be an official OpenStack project the project'scontributed over the last two 6-month release cycles you are considered to be* Defining and maintaining the project mission * Reviewing bug reprots and deciding about their priority * Reviewing changes and approving them when it meets the design and coding orOpenStack consists of a large number of projects that form the main components of an OpenStack cloud, through client libraries to lifecycle management services. The different projects are different in nature which implies different `release modelsA Majority of the official OpenStack projects follow the release schedule set byAfter the first milestone, some projects focus more on the development and bugat the PTG or soon after, some time before the first milestone of a release.Having the main projects following the release cycle ensures that all these projects release at the same time so these can be picked up by downstream teams to package and further distribute.","two at another election six months later. They are elected by :ref:` Active User Contributors <auc>`.Benefits of the official OpenStack projects:To propose a project to be an official OpenStack project the projectscontributed over the last two 6-month release cycles you are considered being* Define and maintain the project mission * Review bug reprots and decide about their priority * Review changes and approve them when it meets the design and coding orOpenStack consists of a high number of projects from the main components of an OpenStack cloud, through client libraries to lifecycle management services. The different projects are different in nature which implies different `release modelsMajority of the official OpenStack projects follow the release schedule set byAfter the first milestone some projects focus more on the developemtn and bugon the PTG or soon after some time before the first milestone of a release.Having the main projects following the release cycle ensure that all these projects release at the same so these can be picked up by downstream teams to package and further distribute.",18,18
openstack%2Fopenstack-ansible-os_ironic~master~I983a20d923384bf54cb0af924ec0a0f8ef4db191,openstack/openstack-ansible-os_ironic,master,I983a20d923384bf54cb0af924ec0a0f8ef4db191,Move ironic_glance_api_servers variable into role,MERGED,2018-03-02 16:57:24.000000000,2018-05-18 12:43:14.000000000,2018-05-18 12:43:14.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-02 16:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/cf16a125b35a8537d089255879666bc56cf1de38', 'message': 'Clean glance variable\n\nClean glance api servers variable.\n\nChange-Id: I983a20d923384bf54cb0af924ec0a0f8ef4db191\n'}, {'number': 2, 'created': '2018-03-20 16:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/18492c5d55f5c6dbe8c49044b940e380d1e4fbac', 'message': 'Move ironic_glance_api_servers variable into role\n\nAs part of cleaning inventory variables, we are\nmoving some of the variables to be created in\nroles instead of in inventory. This moves the\nironic_glance_api_servers variable into role.\n\nChange-Id: I983a20d923384bf54cb0af924ec0a0f8ef4db191\n'}, {'number': 3, 'created': '2018-04-09 09:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/c981af343b21c68499b0643164035c6bf0e9752c', 'message': 'Move ironic_glance_api_servers variable into role\n\nAs part of cleaning inventory variables, we are\nmoving some of the variables to be created in\nroles instead of in inventory. This moves the\nironic_glance_api_servers variable into role.\n\nChange-Id: I983a20d923384bf54cb0af924ec0a0f8ef4db191\n'}, {'number': 4, 'created': '2018-04-09 12:10:33.000000000', 'files': ['templates/ironic.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/28c06a27047d6556b07548d8645bfca375dd75b5', 'message': 'Move ironic_glance_api_servers variable into role\n\nAs part of cleaning inventory variables, we are\nmoving some of the variables to be created in\nroles instead of in inventory. This moves the\nironic_glance_api_servers variable into role.\n\nChange-Id: I983a20d923384bf54cb0af924ec0a0f8ef4db191\n'}]",2,549287,28c06a27047d6556b07548d8645bfca375dd75b5,18,4,4,26405,,,0,"Move ironic_glance_api_servers variable into role

As part of cleaning inventory variables, we are
moving some of the variables to be created in
roles instead of in inventory. This moves the
ironic_glance_api_servers variable into role.

Change-Id: I983a20d923384bf54cb0af924ec0a0f8ef4db191
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/87/549287/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ironic.conf.j2', 'defaults/main.yml']",2,cf16a125b35a8537d089255879666bc56cf1de38,cleanup_vars,"# Comma separated list of Glance API servers ironic_glance_api_servers: ""{{ glance_service_internalurl | netorigin }}"" ",,4,1
openstack%2Fproject-config~master~Iceaea0c2234a3d1f22e265b238219ef54abe110f,openstack/project-config,master,Iceaea0c2234a3d1f22e265b238219ef54abe110f,Publish metalsmith docs to readthedocs,ABANDONED,2018-05-18 11:21:12.000000000,2018-05-18 12:31:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-18 11:21:12.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/93c639043c3823a5e29e954e838c1bf1c7c7608c', 'message': 'Publish metalsmith docs to readthedocs\n\nChange-Id: Iceaea0c2234a3d1f22e265b238219ef54abe110f\nDepends-On: https://review.openstack.org/569389\n'}]",0,569390,93c639043c3823a5e29e954e838c1bf1c7c7608c,3,1,1,10239,,,0,"Publish metalsmith docs to readthedocs

Change-Id: Iceaea0c2234a3d1f22e265b238219ef54abe110f
Depends-On: https://review.openstack.org/569389
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/569390/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,93c639043c3823a5e29e954e838c1bf1c7c7608c,metalsmith, - docs-on-readthedocs,,1,0
openstack%2Ftripleo-quickstart-extras~master~Iab5565d1743d7a6d9aa9fdb5473b3b3e5fea7c62,openstack/tripleo-quickstart-extras,master,Iab5565d1743d7a6d9aa9fdb5473b3b3e5fea7c62,Temporary disable update of IPA image in jobs,MERGED,2018-05-16 12:45:40.000000000,2018-05-18 12:29:58.000000000,2018-05-18 12:29:58.000000000,"[{'_account_id': 3153}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-16 12:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f92d6ee448b081dbf0ea6ef2a21fd10c080a4603', 'message': ""DNM: disable update of IPA image in jobs\n\nDon't update IPA image with yum\n\nChange-Id: Iab5565d1743d7a6d9aa9fdb5473b3b3e5fea7c62\n""}, {'number': 2, 'created': '2018-05-17 14:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b5a83bba5ee04b6c37f2185f3803c4e81950e5ee', 'message': ""DNM: disable update of IPA image in jobs\n\nDon't update IPA image with yum\n\nChange-Id: Iab5565d1743d7a6d9aa9fdb5473b3b3e5fea7c62\n""}, {'number': 3, 'created': '2018-05-17 19:01:48.000000000', 'files': ['playbooks/ovb-setup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a835a69e3ba63bc88203584b55ca34d3c116b1c9', 'message': ""Temporary disable update of IPA image in jobs\n\nDon't update IPA image, use the provided from promotion.\nIntrospection fails when we unpack and pack again IPA images,\nlet's use promoted one in jobs until bug 1770972 if fixed.\n\nRelated-Bug: 1770972\n\nChange-Id: Iab5565d1743d7a6d9aa9fdb5473b3b3e5fea7c62\n""}]",0,568833,a835a69e3ba63bc88203584b55ca34d3c116b1c9,26,8,3,10969,,,0,"Temporary disable update of IPA image in jobs

Don't update IPA image, use the provided from promotion.
Introspection fails when we unpack and pack again IPA images,
let's use promoted one in jobs until bug 1770972 if fixed.

Related-Bug: 1770972

Change-Id: Iab5565d1743d7a6d9aa9fdb5473b3b3e5fea7c62
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/33/568833/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ovb-setup.yml'],1,f92d6ee448b081dbf0ea6ef2a21fd10c080a4603,disableupd," # disable update of IPA image # - { role: repo-setup, repo_inject_image_path: ""$HOME/ironic-python-agent.initramfs"", repo_run_live: false, initramfs_image: true, libguestfs_mode: false, when: not to_build|bool } # disable update of IPA image # - { role: install-built-repo, ib_repo_image_path: ""$HOME/ironic-python-agent.initramfs"", initramfs_image: true, libguestfs_mode: false, when: compressed_gating_repo is defined and not to_build|bool }"," - { role: repo-setup, repo_inject_image_path: ""$HOME/ironic-python-agent.initramfs"", repo_run_live: false, initramfs_image: true, libguestfs_mode: false, when: not to_build|bool } - { role: install-built-repo, ib_repo_image_path: ""$HOME/ironic-python-agent.initramfs"", initramfs_image: true, libguestfs_mode: false, when: compressed_gating_repo is defined and not to_build|bool }",4,2
openstack%2Fmetalsmith~master~I136e036749171dc6d36d644e79c6fcfeef6242af,openstack/metalsmith,master,I136e036749171dc6d36d644e79c6fcfeef6242af,Add docs generation (+ clean up),MERGED,2018-05-18 11:13:29.000000000,2018-05-18 12:27:19.000000000,2018-05-18 12:27:18.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 11:13:29.000000000', 'files': ['.gitignore', 'metalsmith/_utils.py', 'metalsmith/__init__.py', 'README.rst', 'metalsmith/test/test_provisioner.py', 'metalsmith/test/test_scheduler.py', 'doc/source/conf.py', 'metalsmith/version.py', 'metalsmith/_provisioner.py', 'metalsmith/exceptions.py', 'metalsmith/_scheduler.py', 'doc/source/index.rst', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/23fbeea112b98c79b8ebe775aa540e4ae0ff1a9b', 'message': 'Add docs generation (+ clean up)\n\nMoved public access to exceptions from metalsmith itself to\nmetalsmith.exceptions to avoid clutterning the former.\n\nUpdated tox.ini to use upper-constraints.\n\nChange-Id: I136e036749171dc6d36d644e79c6fcfeef6242af\n'}]",0,569389,23fbeea112b98c79b8ebe775aa540e4ae0ff1a9b,6,2,1,10239,,,0,"Add docs generation (+ clean up)

Moved public access to exceptions from metalsmith itself to
metalsmith.exceptions to avoid clutterning the former.

Updated tox.ini to use upper-constraints.

Change-Id: I136e036749171dc6d36d644e79c6fcfeef6242af
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/89/569389/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'metalsmith/_utils.py', 'metalsmith/__init__.py', 'README.rst', 'metalsmith/test/test_provisioner.py', 'metalsmith/test/test_scheduler.py', 'doc/source/conf.py', 'metalsmith/version.py', 'metalsmith/_provisioner.py', 'metalsmith/exceptions.py', 'metalsmith/_scheduler.py', 'doc/source/index.rst', 'doc/requirements.txt', 'tox.ini']",14,23fbeea112b98c79b8ebe775aa540e4ae0ff1a9b,docs, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txtdeps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/doc/requirements.txt doc8 README.rst doc/source [testenv:docs] deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt commands = sphinx-build -a -E -W -b html doc/source doc/build/html, doc8 README.rst,215,40
openstack%2Ftripleo-common~master~I8891183e780a1ea73f9d9e1055960f45d8809afc,openstack/tripleo-common,master,I8891183e780a1ea73f9d9e1055960f45d8809afc,Allow undercloud to use 'become' tasks,ABANDONED,2018-05-17 15:16:09.000000000,2018-05-18 12:01:02.000000000,,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-05-17 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0edfd863624ce24d7d22dbcc11b1341be34691eb', 'message': ""Allow undercloud to use 'become' tasks\n\nThis should allow tasks that need sudo to be used against the undercloud.\nTried to minimize the exposure surface off this.\n\nChange-Id: I8891183e780a1ea73f9d9e1055960f45d8809afc\n""}, {'number': 2, 'created': '2018-05-17 17:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/34040f59a75ef9a4df0529c3d2e8de1f035aca3f', 'message': ""Allow undercloud to use 'become' tasks\n\nThis should allow tasks that need sudo to be used against the undercloud.\nTried to minimize the exposure surface off this.\n\nChange-Id: I8891183e780a1ea73f9d9e1055960f45d8809afc\n""}, {'number': 3, 'created': '2018-05-18 10:49:43.000000000', 'files': ['sudoers', 'tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f289e3d0a5990b19d942f6a8acba886ee07aaf2d', 'message': ""Allow undercloud to use 'become' tasks\n\nThis should allow tasks that need sudo to be used against the undercloud.\nTried to minimize the exposure surface off this.\n\nChange-Id: I8891183e780a1ea73f9d9e1055960f45d8809afc\n""}]",2,569144,f289e3d0a5990b19d942f6a8acba886ee07aaf2d,10,10,3,7065,,,0,"Allow undercloud to use 'become' tasks

This should allow tasks that need sudo to be used against the undercloud.
Tried to minimize the exposure surface off this.

Change-Id: I8891183e780a1ea73f9d9e1055960f45d8809afc
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/44/569144/2 && git format-patch -1 --stdout FETCH_HEAD,"['sudoers', 'tripleo_common/actions/ansible.py']",2,0edfd863624ce24d7d22dbcc11b1341be34691eb,undercloud-sudo-ansible," config.set('defaults', 'remote_tmp', '/var/tmp/.ansible-mistral/tmp')",,2,0
openstack%2Fkeystoneauth~master~Ic39ede538f0d0e8c882a64696ee06c2bb105d08c,openstack/keystoneauth,master,Ic39ede538f0d0e8c882a64696ee06c2bb105d08c,Stop using pbr autodoc,ABANDONED,2018-05-16 15:56:45.000000000,2018-05-18 11:52:28.000000000,,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 15:56:45.000000000', 'files': ['doc/source/api/keystoneauth1.loading.rst', 'doc/source/api/keystoneauth1.extras.rst', 'doc/source/api/keystoneauth1.identity.rst', 'doc/source/api/keystoneauth1.rst', '.gitignore', 'doc/source/api/keystoneauth1.extras.kerberos.rst', 'doc/source/api/keystoneauth1.exceptions.rst', 'doc/source/api/keystoneauth1.identity.v3.rst', 'doc/source/api/keystoneauth1.access.rst', 'doc/source/api/keystoneauth1.extras.oauth1.rst', 'doc/source/api/keystoneauth1.hacking.rst', 'doc/source/api/keystoneauth1.fixture.rst', 'doc/source/api/keystoneauth1.identity.generic.rst', 'doc/source/api/modules.rst', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/85c26dba408d57719f8953996bd5d419f532181e', 'message': ""Stop using pbr autodoc\n\nThe keystoneauth API is not fast moving, so just maintaining API docs by\nhand at this point should not be terribly distressing.\n\nThis is the result of running the pbr autodoc function and committing\nthe files. The autodoc of the unittests was removed, because let's face\nit, that's not actually part of the API.\n\nChange-Id: Ic39ede538f0d0e8c882a64696ee06c2bb105d08c\n""}]",1,568889,85c26dba408d57719f8953996bd5d419f532181e,8,3,1,2,,,0,"Stop using pbr autodoc

The keystoneauth API is not fast moving, so just maintaining API docs by
hand at this point should not be terribly distressing.

This is the result of running the pbr autodoc function and committing
the files. The autodoc of the unittests was removed, because let's face
it, that's not actually part of the API.

Change-Id: Ic39ede538f0d0e8c882a64696ee06c2bb105d08c
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/89/568889/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/api/keystoneauth1.loading.rst', 'doc/source/api/keystoneauth1.extras.rst', 'doc/source/api/keystoneauth1.identity.rst', 'doc/source/api/keystoneauth1.rst', '.gitignore', 'doc/source/api/keystoneauth1.extras.kerberos.rst', 'doc/source/api/keystoneauth1.exceptions.rst', 'doc/source/api/keystoneauth1.identity.v3.rst', 'doc/source/api/keystoneauth1.access.rst', 'doc/source/api/keystoneauth1.extras.oauth1.rst', 'doc/source/api/keystoneauth1.hacking.rst', 'doc/source/api/keystoneauth1.fixture.rst', 'doc/source/api/keystoneauth1.identity.generic.rst', 'doc/source/api/modules.rst', 'setup.cfg', 'tox.ini']",16,85c26dba408d57719f8953996bd5d419f532181e,, -r{toxinidir}/requirements.txtcommands = sphinx-build -W -d doc/build/doctrees -b html doc/source/ doc/build/html,"commands = bash -c ""rm -rf doc/build"" bash -c ""rm -rf doc/source/api"" python setup.py build_sphinx",614,9
openstack%2Fironic~master~I9e1ed11bb4d1abf606128086d000ece92442cfed,openstack/ironic,master,I9e1ed11bb4d1abf606128086d000ece92442cfed,Enable agent_ipmitool and pxe_ipmitool drivers,ABANDONED,2018-05-18 11:12:07.000000000,2018-05-18 11:37:55.000000000,,[{'_account_id': 10239}],"[{'number': 1, 'created': '2018-05-18 11:12:07.000000000', 'files': ['playbooks/legacy/ironic-dsvm-standalone/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bcad2403c528cfbab9d89f0745c3bd840fd971f4', 'message': 'Enable agent_ipmitool and pxe_ipmitool drivers\n\nOtherwise, the standalone tests are being skipped and not\ntested. Currently a proper test for those can only be seen\nat stable/queens and stable/pike jobs.\n\nChange-Id: I9e1ed11bb4d1abf606128086d000ece92442cfed\n'}]",0,569388,bcad2403c528cfbab9d89f0745c3bd840fd971f4,3,1,1,6133,,,0,"Enable agent_ipmitool and pxe_ipmitool drivers

Otherwise, the standalone tests are being skipped and not
tested. Currently a proper test for those can only be seen
at stable/queens and stable/pike jobs.

Change-Id: I9e1ed11bb4d1abf606128086d000ece92442cfed
",git fetch https://review.opendev.org/openstack/ironic refs/changes/88/569388/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/ironic-dsvm-standalone/run.yaml'],1,bcad2403c528cfbab9d89f0745c3bd840fd971f4,," export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_ENABLED_DRIVERS=fake,agent_ipmitool,pxe_ipmitool"""," export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_ENABLED_DRIVERS=fake""",1,1
openstack%2Fopenstack-ansible~stable%2Fqueens~I5bcc8f78ec8a1a175f0bfae3f38101d26e7e3803,openstack/openstack-ansible,stable/queens,I5bcc8f78ec8a1a175f0bfae3f38101d26e7e3803,Run inventory-manage.py from the ansible-runtime venv,MERGED,2018-05-15 06:43:32.000000000,2018-05-18 11:21:49.000000000,2018-05-18 11:21:48.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-05-15 06:43:32.000000000', 'files': ['scripts/inventory-manage.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/69015c0ac5c584919a474b336bf935f90065336e', 'message': 'Run inventory-manage.py from the ansible-runtime venv\n\nbootstrap-ansible installs prettytables in the ansible-runtime\nvenv. inventory-manage.py requires prettytables, so should use\nthe venv.\n\nChange-Id: I5bcc8f78ec8a1a175f0bfae3f38101d26e7e3803\n(cherry picked from commit c0b691ec42d8cef281d6630e6f50e5ebf4c63b44)\n'}]",0,568463,69015c0ac5c584919a474b336bf935f90065336e,19,5,1,6816,,,0,"Run inventory-manage.py from the ansible-runtime venv

bootstrap-ansible installs prettytables in the ansible-runtime
venv. inventory-manage.py requires prettytables, so should use
the venv.

Change-Id: I5bcc8f78ec8a1a175f0bfae3f38101d26e7e3803
(cherry picked from commit c0b691ec42d8cef281d6630e6f50e5ebf4c63b44)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/63/568463/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/inventory-manage.py'],1,69015c0ac5c584919a474b336bf935f90065336e,scripts-venv-stable/queens,#!/opt/ansible-runtime/bin/python,#!/usr/bin/env python,1,1
openstack%2Fzun~master~I49ceb08e935174a7e81f5ff4af73f8ef89fe1d6f,openstack/zun,master,I49ceb08e935174a7e81f5ff4af73f8ef89fe1d6f,Add Quota & Quota class policies,MERGED,2018-05-10 06:54:09.000000000,2018-05-18 10:33:34.000000000,2018-05-18 10:33:34.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-10 06:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/419bf216b5908c97c62a554a1eb6051442639d9a', 'message': 'Add Quota & Quota class policies\n\nChange-Id: I49ceb08e935174a7e81f5ff4af73f8ef89fe1d6f\nPartial-Implements: blueprint quota-support\n'}, {'number': 2, 'created': '2018-05-10 13:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/094bd77c780a00826b0b6b53661f52a4ba15b8c6', 'message': '[WIP] Add Quota & Quota class policies\n\nChange-Id: I49ceb08e935174a7e81f5ff4af73f8ef89fe1d6f\nPartial-Implements: blueprint quota-support\n'}, {'number': 3, 'created': '2018-05-11 07:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c2423a27a1ff39f9d08a46784a6640326a434a81', 'message': '[WIP] Add Quota & Quota class policies\n\nChange-Id: I49ceb08e935174a7e81f5ff4af73f8ef89fe1d6f\nPartial-Implements: blueprint quota-support\n'}, {'number': 4, 'created': '2018-05-13 03:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1094f4cdf89a37811ef5e8d7411585959c250e26', 'message': '[WIP] Add Quota & Quota class policies\n\nChange-Id: I49ceb08e935174a7e81f5ff4af73f8ef89fe1d6f\nPartial-Implements: blueprint quota-support\n'}, {'number': 5, 'created': '2018-05-14 13:41:19.000000000', 'files': ['zun/common/policies/quota.py', 'zun/common/policies/quota_class.py', 'zun/common/policies/__init__.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/cddd39fd41535315c278efcc9054faffe3d49302', 'message': 'Add Quota & Quota class policies\n\nChange-Id: I49ceb08e935174a7e81f5ff4af73f8ef89fe1d6f\nPartial-Implements: blueprint quota-support\n'}]",3,567485,cddd39fd41535315c278efcc9054faffe3d49302,16,3,5,22406,,,0,"Add Quota & Quota class policies

Change-Id: I49ceb08e935174a7e81f5ff4af73f8ef89fe1d6f
Partial-Implements: blueprint quota-support
",git fetch https://review.opendev.org/openstack/zun refs/changes/85/567485/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/common/policies/quota.py', 'zun/common/policies/quota_class.py', 'zun/common/policies/__init__.py']",3,419bf216b5908c97c62a554a1eb6051442639d9a,bp/quota-support,"from zun.common.policies import quota from zun.common.policies import quota_class availability_zone.list_rules(), quota.list_rules(), quota_class.list_rules()", availability_zone.list_rules(),129,1
openstack%2Fzun~stable%2Fqueens~I37978aed70734037bcfdb017f20d9e46a7692254,openstack/zun,stable/queens,I37978aed70734037bcfdb017f20d9e46a7692254,Remove the unreal config file from setup.cfg,MERGED,2018-05-16 05:06:06.000000000,2018-05-18 10:28:12.000000000,2018-05-18 10:28:12.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 05:06:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zun/commit/ccfdbcb6313529c950669f9d2fa9c05ced89b2ee', 'message': 'Remove the unreal config file from setup.cfg\n\nthe zun/opts.py is not exist, so remove it from setup.cfg\n\nChange-Id: I37978aed70734037bcfdb017f20d9e46a7692254\n(cherry picked from commit 2eeb4ff0608f6958ffcbdfbc52317e674e934602)\n'}]",0,568747,ccfdbcb6313529c950669f9d2fa9c05ced89b2ee,9,3,1,22165,,,0,"Remove the unreal config file from setup.cfg

the zun/opts.py is not exist, so remove it from setup.cfg

Change-Id: I37978aed70734037bcfdb017f20d9e46a7692254
(cherry picked from commit 2eeb4ff0608f6958ffcbdfbc52317e674e934602)
",git fetch https://review.opendev.org/openstack/zun refs/changes/47/568747/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ccfdbcb6313529c950669f9d2fa9c05ced89b2ee,,, zun = zun.opts:list_opts,0,1
openstack%2Fzun-ui~master~I4c9b20358ea7bbaf831f5b69b11972a301dd9482,openstack/zun-ui,master,I4c9b20358ea7bbaf831f5b69b11972a301dd9482,Imported Translations from Zanata,MERGED,2018-05-18 06:35:39.000000000,2018-05-18 10:24:58.000000000,2018-05-18 10:24:57.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 06:35:39.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/fde3662a91a056bd0179d72ca198b7cf6b186db7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4c9b20358ea7bbaf831f5b69b11972a301dd9482\n'}]",0,569342,fde3662a91a056bd0179d72ca198b7cf6b186db7,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4c9b20358ea7bbaf831f5b69b11972a301dd9482
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/42/569342/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,fde3662a91a056bd0179d72ca198b7cf6b186db7,zanata/translations,"""POT-Creation-Date: 2018-05-17 09:00+0000\n""""PO-Revision-Date: 2018-05-17 11:32+0000\n""msgid ""1.0.0-46"" msgstr ""1.0.0-46""","""POT-Creation-Date: 2018-05-16 02:24+0000\n""""PO-Revision-Date: 2018-05-16 07:26+0000\n""msgid ""1.0.0-45"" msgstr ""1.0.0-45""",4,4
openstack%2Ftripleo-heat-templates~master~I05ef290215fa0303b3be6ddb4462e7ca02b2d71b,openstack/tripleo-heat-templates,master,I05ef290215fa0303b3be6ddb4462e7ca02b2d71b,Use rabbitmq service principal in metadata settings,MERGED,2018-05-17 06:39:58.000000000,2018-05-18 10:02:23.000000000,2018-05-18 10:02:23.000000000,"[{'_account_id': 8042}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-05-17 06:39:58.000000000', 'files': ['puppet/services/messaging/notify-rabbitmq.yaml', 'puppet/services/messaging/rpc-rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b39b19d1955c503ee0fdff7d2b519d4ec3be2d1', 'message': ""Use rabbitmq service principal in metadata settings\n\nWe don't request a certificate for oslo_messaging_rpc, so we use\nrabbitmq (the one we used to use) instead.\n\nCloses-Bug: #1771744\nChange-Id: I05ef290215fa0303b3be6ddb4462e7ca02b2d71b\n""}]",0,569033,4b39b19d1955c503ee0fdff7d2b519d4ec3be2d1,9,7,1,10873,,,0,"Use rabbitmq service principal in metadata settings

We don't request a certificate for oslo_messaging_rpc, so we use
rabbitmq (the one we used to use) instead.

Closes-Bug: #1771744
Change-Id: I05ef290215fa0303b3be6ddb4462e7ca02b2d71b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/569033/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/messaging/notify-rabbitmq.yaml', 'puppet/services/messaging/rpc-rabbitmq.yaml']",2,4b39b19d1955c503ee0fdff7d2b519d4ec3be2d1,bug/1771744, - service: rabbitmq, - service: oslo_messaging_rpc,2,2
openstack%2Fpuppet-tripleo~master~Iaa159fcfe78d16be59e2d9baf51a65119f50c427,openstack/puppet-tripleo,master,Iaa159fcfe78d16be59e2d9baf51a65119f50c427,Fix certificate ownership of rabbitmq,MERGED,2018-05-17 07:20:47.000000000,2018-05-18 10:02:22.000000000,2018-05-18 10:02:22.000000000,"[{'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 07:20:47.000000000', 'files': ['manifests/certmonger/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2bf893c14b2df9ee4f1e7b7adb97f154647849b6', 'message': 'Fix certificate ownership of rabbitmq\n\nWe no longer have the rabbitmq user as part of the overcloud\nhosts. We rely instead on kolla setting the right permissions in\nthe container.\n\nChange-Id: Iaa159fcfe78d16be59e2d9baf51a65119f50c427\nCloses-Bug: #1771752\n'}]",0,569041,2bf893c14b2df9ee4f1e7b7adb97f154647849b6,8,5,1,10873,,,0,"Fix certificate ownership of rabbitmq

We no longer have the rabbitmq user as part of the overcloud
hosts. We rely instead on kolla setting the right permissions in
the container.

Change-Id: Iaa159fcfe78d16be59e2d9baf51a65119f50c427
Closes-Bug: #1771752
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/41/569041/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/certmonger/rabbitmq.pp'],1,2bf893c14b2df9ee4f1e7b7adb97f154647849b6,bug/1771752,," owner => $::rabbitmq::params::rabbitmq_user, group => $::rabbitmq::params::rabbitmq_group, owner => $::rabbitmq::params::rabbitmq_user, group => $::rabbitmq::params::rabbitmq_group,",0,4
openstack%2Fopenstack-ansible-tests~master~I0dfe0bd8316ff7c1db916aa8e8d6c13d0715b30d,openstack/openstack-ansible-tests,master,I0dfe0bd8316ff7c1db916aa8e8d6c13d0715b30d,Move database creation into role (glance),MERGED,2018-05-15 07:45:14.000000000,2018-05-18 09:57:05.000000000,2018-05-18 09:57:05.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-05-15 07:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/6bd5e05862a925c9bacdf5a1500393582d1120bf', 'message': 'Move database creation into role\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we remove the test-vars which were duplicated from the\nrole, and remove the DB setup tasks as they are no longer required.\n\nChange-Id: I0dfe0bd8316ff7c1db916aa8e8d6c13d0715b30d\nDepends-On: https://review.openstack.org/568481\n'}, {'number': 2, 'created': '2018-05-16 10:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/4c702d9f861f73ca42ca806613963a48df4c6c2f', 'message': 'Move database creation into role (glance)\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we remove the test-vars which were duplicated from the\nrole, and remove the DB setup tasks as they are no longer required.\n\nChange-Id: I0dfe0bd8316ff7c1db916aa8e8d6c13d0715b30d\nDepends-On: https://review.openstack.org/568481\n'}, {'number': 3, 'created': '2018-05-17 12:32:06.000000000', 'files': ['test-vars.yml', 'test-install-glance.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b9f195a45cadda00a264067f5bb01f2f940bc9cc', 'message': 'Move database creation into role (glance)\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we remove the test-vars which were duplicated from the\nrole, and remove the DB setup tasks as they are no longer required.\n\nChange-Id: I0dfe0bd8316ff7c1db916aa8e8d6c13d0715b30d\nDepends-On: https://review.openstack.org/568481\n'}]",0,568492,b9f195a45cadda00a264067f5bb01f2f940bc9cc,13,4,3,6816,,,0,"Move database creation into role (glance)

There is no record for why we implement the database creation outside
of the role in the playbook, when we could do it inside the role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we remove the test-vars which were duplicated from the
role, and remove the DB setup tasks as they are no longer required.

Change-Id: I0dfe0bd8316ff7c1db916aa8e8d6c13d0715b30d
Depends-On: https://review.openstack.org/568481
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/92/568492/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-vars.yml', 'test-install-glance.yml']",2,6bd5e05862a925c9bacdf5a1500393582d1120bf,move-db-setup-into-roles,," - include: create-grant-db.yml db_name: ""{{ glance_galera_database }}"" db_password: ""{{ glance_container_mysql_password }}""",0,4
openstack%2Fpuppet-openstack-integration~master~I093b0de94e3f762edb9be71134078d86b0642a07,openstack/puppet-openstack-integration,master,I093b0de94e3f762edb9be71134078d86b0642a07,Validate neutron-server service,MERGED,2018-05-16 14:56:52.000000000,2018-05-18 09:27:54.000000000,2018-05-18 09:27:54.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 6476}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 14:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/52c9993747a6e571ddebc26395ea2e0758390bf3', 'message': 'Validate neutron-server service\n\nTo avoid failure, in Debian and Ubuntu, we must set $validate to true.\nWhile this issue happened all the time for me on my laptop, I also saw a\nfew Ubuntu run where the problem happened.\n\nDepends-On: If10b57a38c61cadca48e1e3c1e76d659397849fb\nChange-Id: I093b0de94e3f762edb9be71134078d86b0642a07\n'}, {'number': 2, 'created': '2018-05-16 15:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bf3cce98aa49be879013563f2012fa44ca5e58d0', 'message': 'Validate neutron-server service\n\nTo avoid failure, in Debian and Ubuntu, we must set $validate to true.\nWhile this issue happened all the time for me on my laptop, I also saw a\nfew Ubuntu run where the problem happened.\n\nDepends-On: I093b0de94e3f762edb9be71134078d86b0642a07\nChange-Id: I093b0de94e3f762edb9be71134078d86b0642a07\n'}, {'number': 3, 'created': '2018-05-16 18:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/69ebdd91108c95a50f11df27bf7863166f3d492e', 'message': 'Validate neutron-server service\n\nTo avoid failure, in Debian and Ubuntu, we must set $validate to true.\nWhile this issue happened all the time for me on my laptop, I also saw a\nfew Ubuntu run where the problem happened.\n\nDepends-On: I093b0de94e3f762edb9be71134078d86b0642a07\nChange-Id: I093b0de94e3f762edb9be71134078d86b0642a07\n'}, {'number': 4, 'created': '2018-05-16 18:40:29.000000000', 'files': ['manifests/neutron.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0c2f3b7439584d88ab557babd5ea5ceb7462039a', 'message': 'Validate neutron-server service\n\nTo avoid failure, in Debian and Ubuntu, we must set $validate to true.\nWhile this issue happened all the time for me on my laptop, I also saw a\nfew Ubuntu run where the problem happened.\n\nDepends-On: I8ab8a2c7bb1d93d6fb9d16eabd3a1112b1e1237b\nChange-Id: I093b0de94e3f762edb9be71134078d86b0642a07\n'}]",0,568871,0c2f3b7439584d88ab557babd5ea5ceb7462039a,12,7,4,6476,,,0,"Validate neutron-server service

To avoid failure, in Debian and Ubuntu, we must set $validate to true.
While this issue happened all the time for me on my laptop, I also saw a
few Ubuntu run where the problem happened.

Depends-On: I8ab8a2c7bb1d93d6fb9d16eabd3a1112b1e1237b
Change-Id: I093b0de94e3f762edb9be71134078d86b0642a07
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/71/568871/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/neutron.pp'],1,52c9993747a6e571ddebc26395ea2e0758390bf3,neutron-server-validate," if $::osfamily == 'Debian' { Service<| title == 'neutron-server'|> -> Openstacklib::Service_validation<| title == 'neutron-server' |> -> Neutron_network<||> $validate_neutron_server_service = true } else { $validate_neutron_server_service = false } validate => $validate_neutron_server_service,",,8,0
openstack%2Fneutron-fwaas~master~I4ebd24f1b13eb823c4d63452fd37cace5bcf5481,openstack/neutron-fwaas,master,I4ebd24f1b13eb823c4d63452fd37cace5bcf5481,Implements a plugable backend driver,MERGED,2017-07-04 16:49:47.000000000,2018-05-18 09:25:42.000000000,2018-05-18 09:25:42.000000000,"[{'_account_id': 3}, {'_account_id': 55}, {'_account_id': 1653}, {'_account_id': 6995}, {'_account_id': 8871}, {'_account_id': 11286}, {'_account_id': 13702}, {'_account_id': 15471}, {'_account_id': 17776}, {'_account_id': 20363}, {'_account_id': 20686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-07-04 16:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b990ad76f32796650ccce70028cf33336bd373b1', 'message': ""Implements a plugable backend driver\n\nThis patch remove all related DB code from the FWaaS service plugin v2\nand create service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver based on the Neutron DB model\nand agent RPC (for l3 and l2 agent in a near future) was moved to\n'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nservice driver DB insterface\n'service_drivers.driver_api.FwaasDriverDBMixin' to maintain the DB. It\nis in charges to implement all RPC messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriverBase'.\n\nThat patch only modifies the service plugin 'firewall_v2'.\n\n/!\\ The unit tests was not updated /!\\\n\nTODO: for the moment 'service_drivers.driver_api.FwaasDriverDBMixin'\ndoes not provide any python interface but the default agent backend\noverloads driver methods if needed. We could improve that by defining an\ninterface for specific driver method with a pre/post hooks mechanism\nlike we did in networking-bgpvpn [1] thanks to the DB session\ncontext [2].\n\n[1] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L226\n[2] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L103\n\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 2, 'created': '2017-07-05 09:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7758626007d5a6d5eef3d735fec43e5c466a8f50', 'message': ""Implements a plugable backend driver\n\nThis patch remove all related DB code from the FWaaS service plugin v2\nand create service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver based on the Neutron DB model\nand agent RPC (for l3 and l2 agent in a near future) was moved to\n'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nservice driver DB insterface\n'service_drivers.driver_api.FwaasDriverDBMixin' to maintain the DB. It\nis in charges to implement all RPC messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriverBase'.\n\nThat patch only modifies the service plugin 'firewall_v2'.\n\n/!\\ The unit tests was not updated /!\\\n\nTODO: for the moment 'service_drivers.driver_api.FwaasDriverDBMixin'\ndoes not provide any python interface but the default agent backend\noverloads driver methods if needed. We could improve that by defining an\ninterface for specific driver method with a pre/post hooks mechanism\nlike we did in networking-bgpvpn [1] thanks to the DB session\ncontext [2].\n\n[1] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L226\n[2] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L103\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 3, 'created': '2017-07-17 13:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/ad69a812396f79d75dc4369c26bde5a211028552', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agent in a near future) was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nservice driver DB interface\n'service_drivers.driver_api.FwaasDriverDBMixin' to maintain the DB. It\nis in charge to implement all RPC messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriverBase'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nTODO: for the moment 'service_drivers.driver_api.FwaasDriverDBMixin'\ndoes not provide any python interface but the default agent backend\noverloads driver methods if needed. We could improve that by defining an\ninterface for specific driver method with a pre/post hooks mechanism\nlike we did in networking-bgpvpn [1] thanks to the DB session\ncontext [2].\n\n[1] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L226\n[2] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L103\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 4, 'created': '2017-09-07 13:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a5b45ba1d0f9e46eb3595343e2057f6710e78715', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agent in a near future) was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nservice driver DB interface\n'service_drivers.driver_api.FwaasDriverDBMixin' to maintain the DB. It\nis in charge to implement all RPC messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriverBase'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nTODO: for the moment 'service_drivers.driver_api.FwaasDriverDBMixin'\ndoes not provide any python interface but the default agent backend\noverloads driver methods if needed. We could improve that by defining an\ninterface for specific driver method with a pre/post hooks mechanism\nlike we did in networking-bgpvpn [1] thanks to the DB session\ncontext [2].\n\n[1] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L226\n[2] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L103\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 5, 'created': '2017-09-07 15:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/17dd9c4d3e8010b175557a2e345493d5dde2c6bb', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agent in a near future) was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nservice driver DB interface\n'service_drivers.driver_api.FwaasDriverDBMixin' to maintain the DB. It\nis in charge to implement all RPC messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriverBase'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nTODO: for the moment 'service_drivers.driver_api.FwaasDriverDBMixin'\ndoes not provide any python interface but the default agent backend\noverloads driver methods if needed. We could improve that by defining an\ninterface for specific driver method with a pre/post hooks mechanism\nlike we did in networking-bgpvpn [1] thanks to the DB session\ncontext [2].\n\n[1] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L226\n[2] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L103\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 6, 'created': '2017-09-11 07:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/8a4e0148fa473f74cd4adb42aaf4edf3eb4c55d0', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agent in a near future) was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nservice driver DB interface\n'service_drivers.driver_api.FwaasDriverDBMixin' to maintain the DB. It\nis in charge to implement all RPC messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriverBase'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nTODO: for the moment 'service_drivers.driver_api.FwaasDriverDBMixin'\ndoes not provide any python interface but the default agent backend\noverloads driver methods if needed. We could improve that by defining an\ninterface for specific driver method with a pre/post hooks mechanism\nlike we did in networking-bgpvpn [1] thanks to the DB session\ncontext [2].\n\n[1] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L226\n[2] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L103\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 7, 'created': '2017-10-02 14:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2cad1fa1ca3818cfe515cb683e0fcf887657a295', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agent in a near future) was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nservice driver DB interface\n'service_drivers.driver_api.FwaasDriverDBMixin' to maintain the DB. It\nis in charge to implement all RPC messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriverBase'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nTODO: for the moment 'service_drivers.driver_api.FwaasDriverDBMixin'\ndoes not provide any python interface but the default agent backend\noverloads driver methods if needed. We could improve that by defining an\ninterface for specific driver method with a pre/post hooks mechanism\nlike we did in networking-bgpvpn [1] thanks to the DB session\ncontext [2].\n\n[1] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L226\n[2] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L103\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 8, 'created': '2017-10-12 15:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7dcf9d019c0f9995619f02e3a61c719910467c1a', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agent in a near future) was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nservice driver DB interface\n'service_drivers.driver_api.FwaasDriverDBMixin' to maintain the DB. It\nis in charge to implement all RPC messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriverBase'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nTODO: for the moment 'service_drivers.driver_api.FwaasDriverDBMixin'\ndoes not provide any python interface but the default agent backend\noverloads driver methods if needed. We could improve that by defining an\ninterface for specific driver method with a pre/post hooks mechanism\nlike we did in networking-bgpvpn [1] thanks to the DB session\ncontext [2].\n\n[1] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L226\n[2] https://github.com/openstack/networking-bgpvpn/blob/master/networking_bgpvpn/neutron/services/service_drivers/driver_api.py#L103\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 9, 'created': '2018-01-10 12:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/ed995e1dad5be28c303f2dd6952206a2950e31d8', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agents) and was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nfirewall backend driver DB interface\n'service_drivers.driver_api.FwaasDriverDB' to maintain the DB. It\nis in charge to implement all RPC API and messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriver'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nThe backend DB driver provides an interface composed to a pre and post\ncommit hooks for each FWaaSv2 API actions which permits to the driver to\nbe warn anytimes. All that commit hooks methods does not do anything by\ndefault and the backend driver needs to overide needed hooks.\nThe driver does not needs to implements all of them,\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 10, 'created': '2018-01-18 14:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/bb020653f1d031404b7abbbd7424f87e422bd34b', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agents) and was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nfirewall backend driver DB interface\n'service_drivers.driver_api.FwaasDriverDB' to maintain the DB. It\nis in charge to implement all RPC API and messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriver'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nThe backend DB driver provides an interface composed to a pre and post\ncommit hooks for each FWaaSv2 API actions which permits to the driver to\nbe warn anytimes. All that commit hooks methods does not do anything by\ndefault and the backend driver needs to overide needed hooks.\nThe driver does not needs to implements all of them,\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 11, 'created': '2018-01-19 17:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/1b19a00bc5cce099d620b08a816b8a08ada011e8', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agents) and was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nfirewall backend driver DB interface\n'service_drivers.driver_api.FwaasDriverDB' to maintain the DB. It\nis in charge to implement all RPC API and messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriver'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nThe backend DB driver provides an interface composed to a pre and post\ncommit hooks for each FWaaSv2 API actions which permits to the driver to\nbe warn anytimes. All that commit hooks methods does not do anything by\ndefault and the backend driver needs to overide needed hooks.\nThe driver does not needs to implements all of them,\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 12, 'created': '2018-01-19 17:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/89186a463fdc14edd70d451097524434a2f7fd6f', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agents) and was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nfirewall backend driver DB interface\n'service_drivers.driver_api.FwaasDriverDB' to maintain the DB. It\nis in charge to implement all RPC API and messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriver'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nThe backend DB driver provides an interface composed to a pre and post\ncommit hooks for each FWaaSv2 API actions which permits to the driver to\nbe warn anytimes. All that commit hooks methods does not do anything by\ndefault and the backend driver needs to overide needed hooks.\nThe driver does not needs to implements all of them,\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 13, 'created': '2018-01-22 18:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/6aa558e4e22c69ef7ff6a9ccdfebebd2f9ac4895', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agents) and was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nfirewall backend driver DB interface\n'service_drivers.driver_api.FwaasDriverDB' to maintain the DB. It\nis in charge to implement all RPC API and messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriver'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nThe backend DB driver provides an interface composed to a pre and post\ncommit hooks for each FWaaSv2 API actions which permits to the driver to\nbe warn anytimes. All that commit hooks methods does not do anything by\ndefault and the backend driver needs to overide needed hooks.\nThe driver does not needs to implements all of them,\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 14, 'created': '2018-01-23 10:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fd2f179ad58812dcdad055f7f26ea1dd96b76258', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agents) and was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nfirewall backend driver DB interface\n'service_drivers.driver_api.FwaasDriverDB' to maintain the DB. It\nis in charge to implement all RPC API and messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriver'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nThe backend DB driver provides an interface composed to a pre and post\ncommit hooks for each FWaaSv2 API actions which permits to the driver to\nbe warn anytimes. All that commit hooks methods does not do anything by\ndefault and the backend driver needs to overide needed hooks.\nThe driver does not needs to implements all of them,\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 15, 'created': '2018-03-08 12:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/66978a42f3a4301c43a65d07cd0aabd896c14133', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agents) and was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nfirewall backend driver DB interface\n'service_drivers.driver_api.FwaasDriverDB' to maintain the DB. It\nis in charge to implement all RPC API and messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriver'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nThe backend DB driver provides an interface composed to a pre and post\ncommit hooks for each FWaaSv2 API actions which permits to the driver to\nbe warn anytimes. All that commit hooks methods does not do anything by\ndefault and the backend driver needs to overide needed hooks.\nThe driver does not needs to implements all of them,\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 16, 'created': '2018-03-09 20:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/98cf75cab8616d9a62b6c0876a9d73aa4044b244', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agents) and was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nfirewall backend driver DB interface\n'service_drivers.driver_api.FwaasDriverDB' to maintain the DB. It\nis in charge to implement all RPC API and messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriver'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nThe backend DB driver provides an interface composed to a pre and post\ncommit hooks for each FWaaSv2 API actions which permits to the driver to\nbe warn anytimes. All that commit hooks methods does not do anything by\ndefault and the backend driver needs to overide needed hooks.\nThe driver does not needs to implements all of them,\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 17, 'created': '2018-03-14 07:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/68f95663c9343f5a0c8cd4758f4906afcf11bffc', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agents) and was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nfirewall backend driver DB interface\n'service_drivers.driver_api.FwaasDriverDB' to maintain the DB. It\nis in charge to implement all RPC API and messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriver'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nThe backend DB driver provides an interface composed to a pre and post\ncommit hooks for each FWaaSv2 API actions which permits to the driver to\nbe warn anytimes. All that commit hooks methods does not do anything by\ndefault and the backend driver needs to overide needed hooks.\nThe driver does not needs to implements all of them,\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 18, 'created': '2018-03-15 10:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/75d6c57607cdb0e9bdb0d3f172663d32b20fe4f5', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agents) and was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nfirewall backend driver DB interface\n'service_drivers.driver_api.FwaasDriverDB' to maintain the DB. It\nis in charge to implement all RPC API and messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriver'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nThe backend DB driver provides an interface composed to a pre and post\ncommit hooks for each FWaaSv2 API actions which permits to the driver to\nbe warn anytimes. All that commit hooks methods does not do anything by\ndefault and the backend driver needs to overide needed hooks.\nThe driver does not needs to implements all of them,\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 19, 'created': '2018-03-20 16:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7d4304bc7c2b016e4ebc9a4bef2801850722bd73', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agents) and was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nfirewall backend driver DB interface\n'service_drivers.driver_api.FwaasDriverDB' to maintain the DB. It\nis in charge to implement all RPC API and messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriver'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nThe backend DB driver provides an interface composed to a pre and post\ncommit hooks for each FWaaSv2 API actions which permits to the driver to\nbe warn anytimes. All that commit hooks methods does not do anything by\ndefault and the backend driver needs to overide needed hooks.\nThe driver does not needs to implements all of them,\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}, {'number': 20, 'created': '2018-04-26 15:23:39.000000000', 'files': ['neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/plugins/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/driver_api.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/__init__.py', 'devstack/settings', 'neutron_fwaas/services/firewall/service_drivers/agents/agents.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/iptables_fwaas_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent.py', 'neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l2/fwaas_v2.py', 'neutron_fwaas/extensions/firewall_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/noop/noop_driver.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/exceptions.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/rules.py', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/legacy_conntrack.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/netlink_conntrack.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l2/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/__init__.py', 'setup.cfg', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_iptables_fwaas_v2.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_netlink_conntrack.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/noop/test_noop_driver.py', 'neutron_fwaas/services/firewall/service_drivers/agents/firewall_service.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_firewall_service.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/firewall.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/test_firewall_l3_agent_v2.py', 'neutron_fwaas/opts.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/conntrack_base.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/constants.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/test_fwaas_v2.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/test_firewall.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/iptables_fwaas.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l3reference/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base_v2.py', 'devstack/plugin.sh', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/fake_data.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/test_rules.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/noop/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/noop/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_agents.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/driver_base.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/test_firewall_l3_agent.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_iptables_fwaas.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_legacy_conntrack.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_firewall_agent_api.py', 'neutron_fwaas/services/firewall/service_drivers/agents/firewall_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9b353afde499f46ebec6e8c8529eab0a99a2023b', 'message': ""Implements a plugable backend driver\n\nThis patch removes all related DB code from the FWaaS service plugin v2\nand creates service driver interfaces that can be used by different\nbackend drivers.\n\nThe default backend driver still based on the Neutron DB model\nand agent RPC interface (for l3 and l2 agents) and was moved\nto 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the\nfirewall backend driver DB interface\n'service_drivers.driver_api.FwaasDriverDB' to maintain the DB. It\nis in charge to implement all RPC API and messages.\n\nIf we need to implement a backend driver which depends on the Neutron DB\nbut not on the agent RPC service, we just have to inherit from the DB\ninterface and if we like to develop a backend driver which not depends\non the Neutron DB model, we can inherit from the base driver interface\n'service_driver.driver_api.FwaasDriver'.\n\nThat patch only modifies the service plugin 'firewall_v2', it does not\nmodify the Firewall v1 service plugin.\n\nThe backend DB driver provides an interface composed to a pre and post\ncommit hooks for each FWaaSv2 API actions which permits to the driver to\nbe warn anytimes. All that commit hooks methods does not do anything by\ndefault and the backend driver needs to overide needed hooks.\nThe driver does not needs to implements all of them,\n\nCloses-Bug: #1702312\nChange-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481\n""}]",23,480265,9b353afde499f46ebec6e8c8529eab0a99a2023b,72,12,20,55,,,0,"Implements a plugable backend driver

This patch removes all related DB code from the FWaaS service plugin v2
and creates service driver interfaces that can be used by different
backend drivers.

The default backend driver still based on the Neutron DB model
and agent RPC interface (for l3 and l2 agents) and was moved
to 'service_drivers.agents.agents.FwaasAgentDriver'. It inherits from the
firewall backend driver DB interface
'service_drivers.driver_api.FwaasDriverDB' to maintain the DB. It
is in charge to implement all RPC API and messages.

If we need to implement a backend driver which depends on the Neutron DB
but not on the agent RPC service, we just have to inherit from the DB
interface and if we like to develop a backend driver which not depends
on the Neutron DB model, we can inherit from the base driver interface
'service_driver.driver_api.FwaasDriver'.

That patch only modifies the service plugin 'firewall_v2', it does not
modify the Firewall v1 service plugin.

The backend DB driver provides an interface composed to a pre and post
commit hooks for each FWaaSv2 API actions which permits to the driver to
be warn anytimes. All that commit hooks methods does not do anything by
default and the backend driver needs to overide needed hooks.
The driver does not needs to implements all of them,

Closes-Bug: #1702312
Change-Id: I4ebd24f1b13eb823c4d63452fd37cace5bcf5481
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/65/480265/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/services/firewall/service_drivers/agents/firewall_service.py', 'neutron_fwaas/services/firewall/service_drivers/driver_api.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/__init__.py', 'devstack/settings', 'neutron_fwaas/opts.py', 'neutron_fwaas/services/firewall/service_drivers/agents/agents.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/conntrack_base.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/iptables_fwaas_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent.py', 'neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/iptables_fwaas.py', 'neutron_fwaas/extensions/firewall_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l3reference/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/legacy_conntrack.py', 'devstack/plugin.sh', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/netlink_conntrack.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/__init__.py', 'setup.cfg', 'neutron_fwaas/services/firewall/service_drivers/agents/firewall_agent_api.py']",25,b990ad76f32796650ccce70028cf33336bd373b1,bug/1702312,,,774,451
openstack%2Fproject-config~master~I4116a354c2ba026d5177405667f751fcac8051da,openstack/project-config,master,I4116a354c2ba026d5177405667f751fcac8051da,Normalize projects.yaml,MERGED,2018-05-18 06:03:41.000000000,2018-05-18 09:25:23.000000000,2018-05-18 09:25:22.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 06:03:41.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/dcf54258284c13ea8103036858907dcaf6fc47ff', 'message': 'Normalize projects.yaml\n\nChange-Id: I4116a354c2ba026d5177405667f751fcac8051da\n'}]",0,569335,dcf54258284c13ea8103036858907dcaf6fc47ff,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: I4116a354c2ba026d5177405667f751fcac8051da
",git fetch https://review.opendev.org/openstack/project-config refs/changes/35/569335/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,dcf54258284c13ea8103036858907dcaf6fc47ff,project-yaml-normalization,, upstream: https://github.com/att-comdev/armada upstream: https://github.com/att-comdev/berth upstream: https://github.com/att-comdev/deckhand upstream: https://github.com/att-comdev/drydock upstream: https://github.com/att-comdev/ucp-integration upstream: https://github.com/att-comdev/maas upstream: https://github.com/att-comdev/pegleg upstream: https://github.com/att-comdev/promenade upstream: https://github.com/att-comdev/shipyard upstream: https://github.com/stackhpc/kayobe-config.git,0,10
openstack%2Fopenstack-manuals~master~Id3e1669a1db4a9535a25755a1637861fcf8ed2f0,openstack/openstack-manuals,master,Id3e1669a1db4a9535a25755a1637861fcf8ed2f0,Fix Monasca redirect,MERGED,2018-05-18 07:59:32.000000000,2018-05-18 09:24:56.000000000,2018-05-18 09:24:56.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 07:59:32.000000000', 'files': ['www/.htaccess', 'www/redirect-tests.txt'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/360159f64998bb54eb2ce4249e42d8ccc9d8cd24', 'message': 'Fix Monasca redirect\n\nChange-Id: Id3e1669a1db4a9535a25755a1637861fcf8ed2f0\n'}]",0,569356,360159f64998bb54eb2ce4249e42d8ccc9d8cd24,6,2,1,16222,,,0,"Fix Monasca redirect

Change-Id: Id3e1669a1db4a9535a25755a1637861fcf8ed2f0
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/56/569356/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/.htaccess', 'www/redirect-tests.txt']",2,360159f64998bb54eb2ce4249e42d8ccc9d8cd24,568796,"{{ rename_project('monasca', 'monasca-api') }}","{{ rename_project('monasca', 'moansca-api') }}",2,2
openstack%2Foslo.messaging~master~Ic20b7632ee314b51e12f37480476a6bdd72006bf,openstack/oslo.messaging,master,Ic20b7632ee314b51e12f37480476a6bdd72006bf,Convert legacy zuul jobs to v3,MERGED,2018-05-07 14:40:56.000000000,2018-05-18 09:06:10.000000000,2018-05-18 09:06:10.000000000,"[{'_account_id': 1}, {'_account_id': 2813}, {'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 20523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-07 14:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b887cc3defb55397257d62c57c8846c2b3c69d13', 'message': 'Convert legacy zuul jobs to v3\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nCloses-Bug: #1768049\n'}, {'number': 2, 'created': '2018-05-07 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/03fa1cda46672017a6a9f0f9f6db8fe38b7d868f', 'message': 'Convert legacy zuul jobs to v3\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nCloses-Bug: #1768049\n'}, {'number': 3, 'created': '2018-05-07 16:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2690ed014c140fc3858c269cd3df0b0cb5f17600', 'message': 'Convert legacy zuul jobs to v3\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nCloses-Bug: #1768049\n'}, {'number': 4, 'created': '2018-05-07 16:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/59305539dbc17cc5b37bb41327c9bec7d8ecf19d', 'message': 'Convert legacy zuul jobs to v3\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nCloses-Bug: #1768049\n'}, {'number': 5, 'created': '2018-05-08 13:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/cf04a676004f70c201a5c5673dad7311b081d6f5', 'message': 'Convert legacy zuul jobs to v3\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nCloses-Bug: #1768049\n'}, {'number': 6, 'created': '2018-05-08 13:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3216591fe4bb92c2c36bb5c60e2ca85e6a691127', 'message': 'Convert legacy zuul jobs to v3\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nCloses-Bug: #1768049\n'}, {'number': 7, 'created': '2018-05-08 13:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/af53c43296cb5db45cf786e36200328221a9b36f', 'message': 'Convert legacy zuul jobs to v3\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nCloses-Bug: #1768049\n'}, {'number': 8, 'created': '2018-05-08 13:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/42b534c82d27d1eb191ffd731066fad34a281908', 'message': 'Convert legacy zuul jobs to v3\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nCloses-Bug: #1768049\n'}, {'number': 9, 'created': '2018-05-08 13:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/bc4a418ddaa95ae80e0bc523ccd1ddd0b89f6bea', 'message': 'Convert legacy zuul jobs to v3\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nCloses-Bug: #1768049\n'}, {'number': 10, 'created': '2018-05-08 13:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/eec5963dbcc149d96a77d04748b46fd8d9795f28', 'message': 'Convert legacy zuul jobs to v3\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nCloses-Bug: #1768049\n'}, {'number': 11, 'created': '2018-05-08 15:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b052f1271f414a43f51e449a424d2e5f30108ebe', 'message': 'Convert legacy zuul jobs to v3\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nCloses-Bug: #1768049\n'}, {'number': 12, 'created': '2018-05-08 18:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/90f1136e42e2f977eda4f4b97482a2646465c85a', 'message': 'Convert legacy zuul jobs to v3\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nCloses-Bug: #1768049\n'}, {'number': 13, 'created': '2018-05-08 18:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7fd6e702c05cc1b13525f38972e1c28ced42be96', 'message': 'Convert legacy zuul jobs to v3\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nCloses-Bug: #1768049\n'}, {'number': 14, 'created': '2018-05-08 18:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b67f879e6943fadd5c457cd64b6720685cd149d4', 'message': 'Convert legacy zuul jobs to v3\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nCloses-Bug: #1768049\n'}, {'number': 15, 'created': '2018-05-10 15:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f7b5d8a209af678b353d481f18486744d25ba6df', 'message': 'Convert legacy zuul jobs to v3\n\nThis patch converts the devstack tempest-based jobs to Zuulv3.\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nPartial-Bug: #1768049\n'}, {'number': 16, 'created': '2018-05-10 15:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/966a072cd87293d94ca5f2f1b9bbc387a6c72593', 'message': 'Convert legacy zuul jobs to v3\n\nThis patch converts the devstack tempest-based jobs to Zuulv3.\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nPartial-Bug: #1768049\n'}, {'number': 17, 'created': '2018-05-10 15:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4a7793eddaa4f0ac3ca92eb69bb6865c82fca76e', 'message': 'Convert legacy zuul jobs to v3\n\nThis patch converts the devstack tempest-based jobs to Zuulv3.\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nPartial-Bug: #1768049\n'}, {'number': 18, 'created': '2018-05-11 13:39:01.000000000', 'files': ['playbooks/oslo.messaging-src-dsvm-full-kafka-default-centos-7/post.yaml', 'playbooks/oslo.messaging-src-dsvm-full-kafka-default/run.yaml', 'playbooks/oslo.messaging-src-dsvm-full-zmq-default/run.yaml', 'playbooks/oslo.messaging-src-dsvm-full-kafka-default/post.yaml', 'playbooks/oslo.messaging-tempest-neutron-dsvm-src-amqp1-hybrid/post.yaml', 'playbooks/oslo.messaging-src-dsvm-full-rabbit-default/post.yaml', 'playbooks/oslo.messaging-tempest-neutron-dsvm-src-rabbit-default/post.yaml', 'playbooks/oslo.messaging-src-dsvm-full-rabbit-default/run.yaml', 'playbooks/oslo.messaging-devstack-full/run.yaml', 'playbooks/oslo.messaging-devstack-full/post.yaml', 'playbooks/oslo.messaging-tempest-neutron-dsvm-src-kafka-default/post.yaml', 'playbooks/oslo.messaging-tempest-neutron-dsvm-src-rabbit-default/run.yaml', 'playbooks/oslo.messaging-tempest-neutron-dsvm-src-zmq-default/post.yaml', 'playbooks/oslo.messaging-tempest-neutron-dsvm-src-amqp1-hybrid/run.yaml', 'playbooks/oslo.messaging-devstack-full/pre.yaml', 'playbooks/oslo.messaging-src-dsvm-full-amqp1-hybrid/post.yaml', 'playbooks/oslo.messaging-src-dsvm-full-kafka-default-centos-7/run.yaml', 'playbooks/oslo.messaging-tempest-neutron-dsvm-src-kafka-default/run.yaml', '.zuul.yaml', 'playbooks/oslo.messaging-tempest-neutron-dsvm-src-zmq-default/run.yaml', 'playbooks/oslo.messaging-src-dsvm-full-amqp1-hybrid/run.yaml', 'playbooks/oslo.messaging-src-dsvm-full-amqp1-dual-centos-7/run.yaml', 'playbooks/oslo.messaging-src-dsvm-full-amqp1-dual-centos-7/post.yaml', 'playbooks/oslo.messaging-src-dsvm-full-zmq-default/post.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/037abd3210907aa5242778dda4ac6b173981e640', 'message': 'Convert legacy zuul jobs to v3\n\nThis patch converts the devstack tempest-based jobs to Zuulv3.\n\nChange-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf\nPartial-Bug: #1768049\n'}]",0,566603,037abd3210907aa5242778dda4ac6b173981e640,49,6,18,8770,,,0,"Convert legacy zuul jobs to v3

This patch converts the devstack tempest-based jobs to Zuulv3.

Change-Id: Ic20b7632ee314b51e12f37480476a6bdd72006bf
Partial-Bug: #1768049
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/03/566603/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b887cc3defb55397257d62c57c8846c2b3c69d13,bug/1768049, zuul_copy_output: '{{ devstack_base_dir }}/logs/qdrouterd.log': 'logs', zuul_copy_output: '{{ devstack_base_dir }}/logs/qdrouterd.log': 'logs' ,2,6
openstack%2Fmonasca-api~master~I7cd967e818a2d5460b62b4fe9383033dff3915fd,openstack/monasca-api,master,I7cd967e818a2d5460b62b4fe9383033dff3915fd,Add irrelevant-files to monasca-tempest-base job,MERGED,2018-04-25 13:27:59.000000000,2018-05-18 08:49:00.000000000,2018-05-18 08:49:00.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-04-25 13:27:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/5cd8c48e8ce156248e77880837d79c734ba1f4f5', 'message': 'Add irrelevant-files to monasca-tempest-base job\n\nDocumentation changes should be ignored by tempest tests.\n\nChange-Id: I7cd967e818a2d5460b62b4fe9383033dff3915fd\n'}]",0,564211,5cd8c48e8ce156248e77880837d79c734ba1f4f5,9,3,1,16222,,,0,"Add irrelevant-files to monasca-tempest-base job

Documentation changes should be ignored by tempest tests.

Change-Id: I7cd967e818a2d5460b62b4fe9383033dff3915fd
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/11/564211/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5cd8c48e8ce156248e77880837d79c734ba1f4f5,docs, irrelevant-files: - ^.*\.rst$ - ^.*\.md$ - ^doc/.*$ - ^releasenotes/.*$,,5,0
openstack%2Ftripleo-common~master~I6b87b147d301dea3251fe4509b04cd4b9b27ddba,openstack/tripleo-common,master,I6b87b147d301dea3251fe4509b04cd4b9b27ddba,Increase services project quotas when deploying Octavia,MERGED,2018-05-10 16:33:52.000000000,2018-05-18 08:48:55.000000000,2018-05-18 08:45:51.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-10 16:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c56ba29846e67cd5902c5b4c6faa21741e5c7692', 'message': 'Increase services project when deploying Octavia\n\nOctavia currently launches load balancer VMs in the services tenant\nwhich has very low quotas by default. This patch increases the values\nthrough the API for the services project to permit lots of load\nbalancers.\n\nCloses Bug: #1769896\n\nChange-Id: I6b87b147d301dea3251fe4509b04cd4b9b27ddba\n'}, {'number': 2, 'created': '2018-05-10 17:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b891c3bf1406d87b22683cf01554b44fbc560d69', 'message': 'Increase services project quotas when deploying Octavia\n\nOctavia currently launches load balancer VMs in the services tenant\nwhich has very low quotas by default. This patch increases the values\nthrough the API for the services project to permit lots of load\nbalancers.\n\nCloses Bug: #1769896\n\nChange-Id: I6b87b147d301dea3251fe4509b04cd4b9b27ddba\n'}, {'number': 3, 'created': '2018-05-11 03:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a414e2a3d3b4e7392cfc1550bfdc05c8c1360f2d', 'message': 'Increase services project quotas when deploying Octavia\n\nOctavia currently launches load balancer VMs in the services tenant\nwhich has very low quotas by default. This patch increases the values\nthrough the API for the services project to permit lots of load\nbalancers.\n\nCloses Bug: #1769896\n\nChange-Id: I6b87b147d301dea3251fe4509b04cd4b9b27ddba\n'}, {'number': 4, 'created': '2018-05-11 12:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0a8ca7e49767123194f9e9a01fb19cd8e8a7a3b8', 'message': 'Increase services project quotas when deploying Octavia\n\nOctavia currently launches load balancer VMs in the services tenant\nwhich has very low quotas by default. This patch increases the values\nthrough the API for the services project to permit lots of load\nbalancers.\n\nCloses Bug: #1769896\n\nChange-Id: I6b87b147d301dea3251fe4509b04cd4b9b27ddba\n'}, {'number': 5, 'created': '2018-05-15 09:01:51.000000000', 'files': ['playbooks/roles/octavia-overcloud-config/tasks/main.yml', 'playbooks/roles/octavia-overcloud-config/tasks/quotas.yml', 'playbooks/octavia-files.yaml', 'workbooks/octavia_post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/287f110d187b7fe508858e157d9c9ddb6b398f1e', 'message': 'Increase services project quotas when deploying Octavia\n\nOctavia currently launches load balancer VMs in the services tenant\nwhich has very low quotas by default. This patch increases the values\nthrough the API for the services project to permit lots of load\nbalancers.\n\nCloses Bug: #1769896\n\nChange-Id: I6b87b147d301dea3251fe4509b04cd4b9b27ddba\n'}]",4,567641,287f110d187b7fe508858e157d9c9ddb6b398f1e,47,10,5,6681,,,0,"Increase services project quotas when deploying Octavia

Octavia currently launches load balancer VMs in the services tenant
which has very low quotas by default. This patch increases the values
through the API for the services project to permit lots of load
balancers.

Closes Bug: #1769896

Change-Id: I6b87b147d301dea3251fe4509b04cd4b9b27ddba
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/567641/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/octavia-overcloud-config/tasks/main.yml', 'playbooks/roles/octavia-overcloud-config/tasks/quotas.yml', 'playbooks/octavia-files.yaml', 'workbooks/octavia_post.yaml']",4,c56ba29846e67cd5902c5b4c6faa21741e5c7692,bug/1769896, auth_username: <% $.auth_username %> auth_password: <% $.auth_password %> auth_project_name: <% $.auth_project_name %>,,16,0
openstack%2Fopenstack-ansible-os_glance~master~I3f74d06ba3b246674e3ea3eb6ee1e5ca6e86a79b,openstack/openstack-ansible-os_glance,master,I3f74d06ba3b246674e3ea3eb6ee1e5ca6e86a79b,Simplify fact setting,MERGED,2018-05-13 17:54:17.000000000,2018-05-18 08:47:31.000000000,2018-05-18 08:47:31.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-05-13 17:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/3e7799b826c496b0bca56674e7e761b103744644', 'message': 'Simplify fact setting\n\nThe conditionals are currently difficult to follow.\nThis simplifies them by splitting the fact setting\nup and doing a fact refresh after the first one is\nset.\n\nChange-Id: I3f74d06ba3b246674e3ea3eb6ee1e5ca6e86a79b\n'}, {'number': 2, 'created': '2018-05-15 09:55:40.000000000', 'files': ['tasks/glance_install_source.yml', 'tasks/glance_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/2377702b335d9b4dc7324f05d6158e20d5f2190b', 'message': 'Simplify fact setting\n\nThe conditionals are currently difficult to follow.\nThis simplifies them by splitting the fact setting\nup and doing a fact refresh after the first one is\nset.\n\nChange-Id: I3f74d06ba3b246674e3ea3eb6ee1e5ca6e86a79b\n'}]",0,568133,2377702b335d9b4dc7324f05d6158e20d5f2190b,15,4,2,6816,,,0,"Simplify fact setting

The conditionals are currently difficult to follow.
This simplifies them by splitting the fact setting
up and doing a fact refresh after the first one is
set.

Change-Id: I3f74d06ba3b246674e3ea3eb6ee1e5ca6e86a79b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/33/568133/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/glance_install_source.yml', 'tasks/glance_install.yml']",2,3e7799b826c496b0bca56674e7e761b103744644,simplify-install-facts,"- name: Record the installation method ini_file: dest: ""/etc/ansible/facts.d/openstack_ansible.fact"" section: ""glance"" option: ""install_method"" value: ""{{ glance_install_method }}"" - name: Refresh local facts to ensure the glance section is present setup: filter: ansible_local gather_subset: ""!all"" until: install_packages | success section: ""glance"" option: ""need_service_restart"" value: true when: (install_packages | changed) or"," until: install_packages|success section: glance option: ""{{ item.name }}"" value: ""{{ item.state }}"" with_items: - name: ""need_service_restart"" state: ""True"" - name: ""install_method"" state: ""{{ glance_install_method }}"" when: (glance_install_method == 'source' and ((glance_get_venv | changed) or (glance_venv_dir | changed))) or (install_packages | changed) or (ansible_local is not defined) or ('openstack_ansible' not in ansible_local) or ('glance' not in ansible_local['openstack_ansible']) or",27,16
openstack%2Fpuppet-openstack-cookiecutter~master~I9c6b418c5bc440f7a1159cfd11dde54facb852f3,openstack/puppet-openstack-cookiecutter,master,I9c6b418c5bc440f7a1159cfd11dde54facb852f3,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:27:44.000000000,2018-05-18 08:46:33.000000000,2018-05-11 14:09:50.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:27:44.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/432582ef842b9f3ac8e6a2bd1ea32bf9e0d11f60', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: I9c6b418c5bc440f7a1159cfd11dde54facb852f3\n'}]",0,567773,432582ef842b9f3ac8e6a2bd1ea32bf9e0d11f60,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: I9c6b418c5bc440f7a1159cfd11dde54facb852f3
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/73/567773/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-{{cookiecutter.project_name}}/manifests/keystone/authtoken.pp'],1,432582ef842b9f3ac8e6a2bd1ea32bf9e0d11f60,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-openstack-guide~master~I93de24452f6fc00cb32b330c9219c837204e929f,openstack/puppet-openstack-guide,master,I93de24452f6fc00cb32b330c9219c837204e929f,Fix the correct url for freezer,MERGED,2018-05-11 06:37:35.000000000,2018-05-18 08:46:30.000000000,2018-05-11 14:15:35.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:37:35.000000000', 'files': ['doc/source/contributor/module-list.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/1ca68fcba5fe4eaf7a04331f7609616ee631ed4f', 'message': 'Fix the correct url for freezer\n\nChange-Id: I93de24452f6fc00cb32b330c9219c837204e929f\n'}]",0,567778,1ca68fcba5fe4eaf7a04331f7609616ee631ed4f,8,3,1,11869,,,0,"Fix the correct url for freezer

Change-Id: I93de24452f6fc00cb32b330c9219c837204e929f
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/78/567778/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/module-list.rst'],1,1ca68fcba5fe4eaf7a04331f7609616ee631ed4f,fix-typo-freezer,"* `Backup, Restore, and Disaster Recovery service <http://git.openstack.org/cgit/openstack/puppet-freezer/>`_ (*Freezer*)","* `Backup, Restore, and Disaster Recovery service <http://git.openstack.org/cgit/openstack/puppet-frezer/>`_ (*Freezer*)",1,1
openstack%2Fpuppet-senlin~master~Icdc3343dbf1ffc8b1c6015c16e7d6c4a7e745852,openstack/puppet-senlin,master,Icdc3343dbf1ffc8b1c6015c16e7d6c4a7e745852,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:30:00.000000000,2018-05-18 08:46:28.000000000,2018-05-11 14:16:02.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:30:00.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/7ab09107957824a4bb1be01800227ec68a29cba6', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: Icdc3343dbf1ffc8b1c6015c16e7d6c4a7e745852\n'}]",0,567774,7ab09107957824a4bb1be01800227ec68a29cba6,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: Icdc3343dbf1ffc8b1c6015c16e7d6c4a7e745852
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/74/567774/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,7ab09107957824a4bb1be01800227ec68a29cba6,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-freezer~master~I14607dfa8a95dda4a6f8d816484dc92887e24856,openstack/puppet-freezer,master,I14607dfa8a95dda4a6f8d816484dc92887e24856,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:25:53.000000000,2018-05-18 08:46:26.000000000,2018-05-11 14:18:16.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:25:53.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/19e9034d4f23de18d37e47112ff608bdcb72e795', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: I14607dfa8a95dda4a6f8d816484dc92887e24856\n'}]",0,567758,19e9034d4f23de18d37e47112ff608bdcb72e795,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: I14607dfa8a95dda4a6f8d816484dc92887e24856
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/58/567758/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,19e9034d4f23de18d37e47112ff608bdcb72e795,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-glare~master~Ieda92a6d6b060160c4bc44ef4c135223e320c652,openstack/puppet-glare,master,Ieda92a6d6b060160c4bc44ef4c135223e320c652,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:26:26.000000000,2018-05-18 08:46:24.000000000,2018-05-11 14:21:21.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:26:26.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/3bdd62fcc91577f1bb1b08f98b0ae9e08472c322', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: Ieda92a6d6b060160c4bc44ef4c135223e320c652\n'}]",0,567764,3bdd62fcc91577f1bb1b08f98b0ae9e08472c322,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: Ieda92a6d6b060160c4bc44ef4c135223e320c652
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/64/567764/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,3bdd62fcc91577f1bb1b08f98b0ae9e08472c322,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-magnum~master~I1d5fae044d6b984e8c9b87ea003af75f9edf0e86,openstack/puppet-magnum,master,I1d5fae044d6b984e8c9b87ea003af75f9edf0e86,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:25:52.000000000,2018-05-18 08:46:22.000000000,2018-05-11 14:35:39.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:25:52.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/21ac4a6ed1b1a8f3895b76555870b3e0538238aa', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: I1d5fae044d6b984e8c9b87ea003af75f9edf0e86\n'}]",0,567756,21ac4a6ed1b1a8f3895b76555870b3e0538238aa,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: I1d5fae044d6b984e8c9b87ea003af75f9edf0e86
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/56/567756/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,21ac4a6ed1b1a8f3895b76555870b3e0538238aa,neat,# Defaults to $::os_service_default ,# Defaults to $:os_service_default ,1,1
openstack%2Fpuppet-watcher~master~I783b2293f5e1f06e670246804fbbb5066a497876,openstack/puppet-watcher,master,I783b2293f5e1f06e670246804fbbb5066a497876,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:26:28.000000000,2018-05-18 08:46:20.000000000,2018-05-11 14:52:36.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:26:28.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/7d94b4b6f32b8fb0a553eb135925fdc614dfa9a6', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: I783b2293f5e1f06e670246804fbbb5066a497876\n'}]",0,567769,7d94b4b6f32b8fb0a553eb135925fdc614dfa9a6,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: I783b2293f5e1f06e670246804fbbb5066a497876
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/69/567769/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,7d94b4b6f32b8fb0a553eb135925fdc614dfa9a6,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-oslo~master~Ife3aec1bebe19cb1df26cb43baa55d9a07c96421,openstack/puppet-oslo,master,Ife3aec1bebe19cb1df26cb43baa55d9a07c96421,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:26:30.000000000,2018-05-18 08:46:18.000000000,2018-05-11 15:04:34.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:26:30.000000000', 'files': ['manifests/messaging/amqp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/7f0e5e121677f5ab1c26092621167a88d3508016', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: Ife3aec1bebe19cb1df26cb43baa55d9a07c96421\n'}]",0,567772,7f0e5e121677f5ab1c26092621167a88d3508016,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: Ife3aec1bebe19cb1df26cb43baa55d9a07c96421
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/72/567772/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/messaging/amqp.pp'],1,7f0e5e121677f5ab1c26092621167a88d3508016,neat,# Defaults to $::os_service_default.,# Defaults to $:os_service_default.,1,1
openstack%2Fpuppet-mistral~master~I07920e5af367ac9ebb1b3156a703c98fdbc08070,openstack/puppet-mistral,master,I07920e5af367ac9ebb1b3156a703c98fdbc08070,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:25:52.000000000,2018-05-18 08:46:16.000000000,2018-05-11 15:05:55.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:25:52.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/5f39db147c87b75844bc5542071cf6a9619f24b8', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: I07920e5af367ac9ebb1b3156a703c98fdbc08070\n'}]",0,567754,5f39db147c87b75844bc5542071cf6a9619f24b8,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: I07920e5af367ac9ebb1b3156a703c98fdbc08070
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/54/567754/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,5f39db147c87b75844bc5542071cf6a9619f24b8,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-barbican~master~Ie392eefc30bb4c5cc3fdfe6e00d468304c6d5cde,openstack/puppet-barbican,master,Ie392eefc30bb4c5cc3fdfe6e00d468304c6d5cde,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:22:16.000000000,2018-05-18 08:46:14.000000000,2018-05-11 15:08:02.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:22:16.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/0ea5301b4d81bc8b42117169b35a7120de036eeb', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: Ie392eefc30bb4c5cc3fdfe6e00d468304c6d5cde\n'}]",0,567751,0ea5301b4d81bc8b42117169b35a7120de036eeb,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: Ie392eefc30bb4c5cc3fdfe6e00d468304c6d5cde
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/51/567751/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,0ea5301b4d81bc8b42117169b35a7120de036eeb,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-barbican~master~I53dc6147702355b129ba881cb7d954cb146ef200,openstack/puppet-barbican,master,I53dc6147702355b129ba881cb7d954cb146ef200,Fix lint error,MERGED,2018-05-11 06:35:33.000000000,2018-05-18 08:46:11.000000000,2018-05-11 15:08:02.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:35:33.000000000', 'files': ['spec/classes/barbican_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/c4a5c0af97d05585ef7fadfecea6cde7fd66e79f', 'message': 'Fix lint error\n\nChange-Id: I53dc6147702355b129ba881cb7d954cb146ef200\n'}]",0,567777,c4a5c0af97d05585ef7fadfecea6cde7fd66e79f,8,3,1,11869,,,0,"Fix lint error

Change-Id: I53dc6147702355b129ba881cb7d954cb146ef200
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/77/567777/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/barbican_api_spec.rb'],1,c4a5c0af97d05585ef7fadfecea6cde7fd66e79f,fix_lint," 'class { ""barbican::keystone::authtoken"": password => ""secret"", } include ::apache'"," 'class { ""barbican::keystone::authtoken"": password => ""secret"", } include ::apache'",2,2
openstack%2Fpuppet-sahara~master~Ide1e53189143fa54529ee8ebf63c2a536864e3bc,openstack/puppet-sahara,master,Ide1e53189143fa54529ee8ebf63c2a536864e3bc,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:26:26.000000000,2018-05-18 08:46:09.000000000,2018-05-11 15:08:14.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:26:26.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/21aa1abd6f2109fcd1f94c86999b76da280efdc1', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: Ide1e53189143fa54529ee8ebf63c2a536864e3bc\n'}]",0,567765,21aa1abd6f2109fcd1f94c86999b76da280efdc1,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: Ide1e53189143fa54529ee8ebf63c2a536864e3bc
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/65/567765/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,21aa1abd6f2109fcd1f94c86999b76da280efdc1,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Ftripleo-common~master~Ia86842b0b1f42512f25390d6bdb695e0f8133c6d,openstack/tripleo-common,master,Ia86842b0b1f42512f25390d6bdb695e0f8133c6d,"Revert ""TLS by default for the overcloud""",MERGED,2018-05-16 21:45:14.000000000,2018-05-18 08:40:57.000000000,2018-05-17 21:56:27.000000000,"[{'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-16 21:45:14.000000000', 'files': ['tripleo_common/tests/actions/test_deployment.py', 'sudoers', 'requirements.txt', 'tripleo_common/actions/deployment.py', 'tripleo_common/constants.py', 'releasenotes/notes/Public-TLS-by-default-ea0bc712f475472f.yaml', 'scripts/tripleo-overcloud-cert', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/26b4459b06fc3f1c2e9143d4a3ed5a7e90a58ee6', 'message': 'Revert ""TLS by default for the overcloud""\n\nThis is needed to land I2c5b511df50f29c63aa613899c2bebb506360bf4,\nsee the reasoning on that patch.\n\nThis reverts commit 6fa7a0974a6729513e5d3d087119aa5a54b74c09.\n\nPartial-Bug: #1771627\nChange-Id: Ia86842b0b1f42512f25390d6bdb695e0f8133c6d\n'}]",3,568964,26b4459b06fc3f1c2e9143d4a3ed5a7e90a58ee6,13,5,1,7144,,,0,"Revert ""TLS by default for the overcloud""

This is needed to land I2c5b511df50f29c63aa613899c2bebb506360bf4,
see the reasoning on that patch.

This reverts commit 6fa7a0974a6729513e5d3d087119aa5a54b74c09.

Partial-Bug: #1771627
Change-Id: Ia86842b0b1f42512f25390d6bdb695e0f8133c6d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/64/568964/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/actions/test_deployment.py', 'sudoers', 'requirements.txt', 'tripleo_common/actions/deployment.py', 'tripleo_common/constants.py', 'releasenotes/notes/Public-TLS-by-default-ea0bc712f475472f.yaml', 'scripts/tripleo-overcloud-cert', 'setup.cfg']",8,26b4459b06fc3f1c2e9143d4a3ed5a7e90a58ee6,bug/1771627,, scripts/tripleo-overcloud-cert,36,240
openstack%2Ftripleo-heat-templates~master~I2c5b511df50f29c63aa613899c2bebb506360bf4,openstack/tripleo-heat-templates,master,I2c5b511df50f29c63aa613899c2bebb506360bf4,"Revert ""Switch public endpoints to use FQDNs by default""",MERGED,2018-05-16 16:54:44.000000000,2018-05-18 08:40:04.000000000,2018-05-17 21:56:28.000000000,"[{'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 8866}, {'_account_id': 8871}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-05-16 16:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3653d9f40016f7b8aa654626a79d7940acc12fa', 'message': 'Revert ""Switch public endpoints to use FQDNs by default""\n\nThis reverts commit 8e104b3c549118727b53c9825a438e799715b7f9.\n\nChange-Id: I2c5b511df50f29c63aa613899c2bebb506360bf4\n'}, {'number': 2, 'created': '2018-05-16 16:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3997c9ecc51aa7b73417aece432b43b8fb59a0c6', 'message': 'Revert ""Switch public endpoints to use FQDNs by default""\n\nThis reverts commit 8e104b3c549118727b53c9825a438e799715b7f9.\n\nhttps://review.openstack.org/#/c/559926/ introduced requiring CloudName.\nThis broke the documented deployment process. I also don\'t see how\nCloudName can be required, but CloudDomain can not.\n\nI don\'t see a technical reason why we can\'t keep the default as\nlocaldomain. If necessary, we can instead add a parameter\nvalidation instead of requiring the parameter.\n\nCloses-Bug: #1771627\nChange-Id: I2c5b511df50f29c63aa613899c2bebb506360bf4\n'}, {'number': 3, 'created': '2018-05-16 21:45:44.000000000', 'files': ['network/endpoints/endpoint_map.yaml', 'environments/predictable-placement/custom-domain.yaml', 'network/endpoints/build_endpoint_map.py', 'extraconfig/nova_metadata/krb-service-principals.j2.yaml', 'overcloud.j2.yaml', 'releasenotes/notes/Overcloud-endpoints-FQDN-78797a6c34e31bd5.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f254a2169dcdf74590bab90ef66b47ba69fdef87', 'message': 'Revert ""Switch public endpoints to use FQDNs by default""\n\nThis reverts commit 8e104b3c549118727b53c9825a438e799715b7f9.\n\nhttps://review.openstack.org/#/c/559926/ introduced requiring CloudName.\nThis broke the documented deployment process. I also don\'t see how\nCloudName can be required, but CloudDomain can not.\n\nI don\'t see a technical reason why we can\'t keep the default as\nlocaldomain. If necessary, we can instead add a parameter\nvalidation instead of requiring the parameter.\n\nCloses-Bug: #1771627\nDepends-On: Ia86842b0b1f42512f25390d6bdb695e0f8133c6d\nChange-Id: I2c5b511df50f29c63aa613899c2bebb506360bf4\n'}]",2,568899,f254a2169dcdf74590bab90ef66b47ba69fdef87,24,13,3,7144,,,0,"Revert ""Switch public endpoints to use FQDNs by default""

This reverts commit 8e104b3c549118727b53c9825a438e799715b7f9.

https://review.openstack.org/#/c/559926/ introduced requiring CloudName.
This broke the documented deployment process. I also don't see how
CloudName can be required, but CloudDomain can not.

I don't see a technical reason why we can't keep the default as
localdomain. If necessary, we can instead add a parameter
validation instead of requiring the parameter.

Closes-Bug: #1771627
Depends-On: Ia86842b0b1f42512f25390d6bdb695e0f8133c6d
Change-Id: I2c5b511df50f29c63aa613899c2bebb506360bf4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/568899/2 && git format-patch -1 --stdout FETCH_HEAD,"['network/endpoints/endpoint_map.yaml', 'environments/predictable-placement/custom-domain.yaml', 'network/endpoints/build_endpoint_map.py', 'extraconfig/nova_metadata/krb-service-principals.j2.yaml', 'overcloud.j2.yaml', 'releasenotes/notes/Overcloud-endpoints-FQDN-78797a6c34e31bd5.yaml']",6,d3653d9f40016f7b8aa654626a79d7940acc12fa,public-tls-default,,"--- features: - | CloudName is now a required parameter. Given that FQDNs are now the default instead of IP addresses, to avoid people using the localdomain (which used to be the default for domain for CloudName), we now remove the default, and require folks to set their own. - | The overcloud endpoints now point to FQDNs instead of IP addresses. This was done as part of the public TLS by default work, and is needed since the certificates have FQDNs for SubjectAltNames. ",33,43
openstack%2Ftripleo-quickstart-extras~master~I6279bd4088bd87f37c58b7da25b675c5456506d6,openstack/tripleo-quickstart-extras,master,I6279bd4088bd87f37c58b7da25b675c5456506d6,Populate /etc/yum/vars/contentdir,MERGED,2018-05-15 21:36:02.000000000,2018-05-18 08:39:51.000000000,2018-05-16 22:59:25.000000000,"[{'_account_id': 4571}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 18846}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-05-15 21:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/051ec6612f451aaf86cbfac7c183cb32fe1e2a81', 'message': 'Disable repo centos-qemu-ev\n\nThe file /etc/yum.repos.d/CentOS-QEMU-EV.repo installed by package\ncentos-release-qemu-ev-1.0-3.el7.centos.noarch currently has an\ninvalid baseurl which is breaking yum operations.\n\nThe baseurl has ""$contentdir"" instead of ""centos""\n\nChange-Id: I6279bd4088bd87f37c58b7da25b675c5456506d6\n'}, {'number': 2, 'created': '2018-05-15 22:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/df8c2177e91c0dc0c5ca85909e7ef09812f3f96f', 'message': 'Disable repo centos-qemu-ev\n\nThe file /etc/yum.repos.d/CentOS-QEMU-EV.repo installed by package\ncentos-release-qemu-ev-1.0-3.el7.centos.noarch currently has an\ninvalid baseurl which is breaking yum operations.\n\nThe baseurl has ""$contentdir"" instead of ""centos""\n\nChange-Id: I6279bd4088bd87f37c58b7da25b675c5456506d6\n'}, {'number': 3, 'created': '2018-05-15 23:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c60c9add57b43b6de369b7907d3c109ca59acb39', 'message': ""Populate /etc/yum/vars/contentdir\n\nThe file /etc/yum.repos.d/CentOS-QEMU-EV.repo is assuming that\n$contentdir is being populated, but it is not until new centos base\nimages include it.\n\nThis change detects the package architecture and populates contentdir\nwith 'centos' or 'altarch' as appropriate.\n\nThere is a kolla change equivalent here Ieb26c0aa65ba3ec1a45a33f87f670e5ecb782f82\n\nChange-Id: I6279bd4088bd87f37c58b7da25b675c5456506d6\n""}, {'number': 4, 'created': '2018-05-15 23:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/279c4e6fe9209a796378d0502966d467bbba3fcf', 'message': ""Populate /etc/yum/vars/contentdir\n\nThe file /etc/yum.repos.d/CentOS-QEMU-EV.repo is assuming that\n$contentdir is being populated, but it is not until new centos base\nimages include it.\n\nThis change detects the package architecture and populates contentdir\nwith 'centos' or 'altarch' as appropriate.\n\nThere is a kolla change equivalent here Ieb26c0aa65ba3ec1a45a33f87f670e5ecb782f82\n\nChange-Id: I6279bd4088bd87f37c58b7da25b675c5456506d6\n""}, {'number': 5, 'created': '2018-05-15 23:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/64e5ed6c150a087c8185b15fc05d9ef78993e8b3', 'message': ""Populate /etc/yum/vars/contentdir\n\nThe file /etc/yum.repos.d/CentOS-QEMU-EV.repo is assuming that\n$contentdir is being populated, but it is not until new centos base\nimages include it.\n\nThis change detects the package architecture and populates contentdir\nwith 'centos' or 'altarch' as appropriate.\n\nThere is a kolla change equivalent here Ieb26c0aa65ba3ec1a45a33f87f670e5ecb782f82\n\nChange-Id: I6279bd4088bd87f37c58b7da25b675c5456506d6\n""}, {'number': 6, 'created': '2018-05-15 23:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/468cadfc36c15b947f7b2454da527a2df7937e1a', 'message': ""Populate /etc/yum/vars/contentdir\n\nThe file /etc/yum.repos.d/CentOS-QEMU-EV.repo is assuming that\n$contentdir is being populated, but it is not until new centos base\nimages include it.\n\nThis change detects the package architecture and populates contentdir\nwith 'centos' or 'altarch' as appropriate.\n\nThere is a kolla change equivalent here Ieb26c0aa65ba3ec1a45a33f87f670e5ecb782f82\nThe upstream discussion for adding contentdir is here:\nhttps://lists.centos.org/pipermail/centos-devel/2018-March/016542.html\n\nChange-Id: I6279bd4088bd87f37c58b7da25b675c5456506d6\n""}, {'number': 7, 'created': '2018-05-15 23:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2093c66e715d4222bbc026816738cf93c581c8f9', 'message': ""Populate /etc/yum/vars/contentdir\n\nThe file /etc/yum.repos.d/CentOS-QEMU-EV.repo is assuming that\n$contentdir is being populated, but it is not until new centos base\nimages include it.\n\nThis change detects the package architecture and populates contentdir\nwith 'centos' or 'altarch' as appropriate.\n\nThere is a kolla change equivalent here Ieb26c0aa65ba3ec1a45a33f87f670e5ecb782f82\nThe upstream discussion for adding contentdir is here:\nhttps://lists.centos.org/pipermail/centos-devel/2018-March/016542.html\n\nChange-Id: I6279bd4088bd87f37c58b7da25b675c5456506d6\n""}, {'number': 8, 'created': '2018-05-16 03:53:52.000000000', 'files': ['roles/nodepool-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/11b2c3701ab3d39fb4196c85356c8296062c343a', 'message': ""Populate /etc/yum/vars/contentdir\n\nThe file /etc/yum.repos.d/CentOS-QEMU-EV.repo is assuming that\n$contentdir is being populated, but it is not until new centos base\nimages include it.\n\nThis change detects the package architecture and populates contentdir\nwith 'centos' or 'altarch' as appropriate.\n\nThere is a kolla change equivalent here Ieb26c0aa65ba3ec1a45a33f87f670e5ecb782f82\nThe upstream discussion for adding contentdir is here:\nhttps://lists.centos.org/pipermail/centos-devel/2018-March/016542.html\n\nChange-Id: I6279bd4088bd87f37c58b7da25b675c5456506d6\n""}]",0,568701,11b2c3701ab3d39fb4196c85356c8296062c343a,35,13,8,4571,,,0,"Populate /etc/yum/vars/contentdir

The file /etc/yum.repos.d/CentOS-QEMU-EV.repo is assuming that
$contentdir is being populated, but it is not until new centos base
images include it.

This change detects the package architecture and populates contentdir
with 'centos' or 'altarch' as appropriate.

There is a kolla change equivalent here Ieb26c0aa65ba3ec1a45a33f87f670e5ecb782f82
The upstream discussion for adding contentdir is here:
https://lists.centos.org/pipermail/centos-devel/2018-March/016542.html

Change-Id: I6279bd4088bd87f37c58b7da25b675c5456506d6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/01/568701/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/nodepool-setup/tasks/main.yml'],1,051ec6612f451aaf86cbfac7c183cb32fe1e2a81,yum_contentdir,"- name: Disable repo centos-qemu-ev on subnode-0 ini_file: path: /etc/yum.repos.d/CentOS-QEMU-EV.repo section: centos-qemu-ev option: enabled value: 0 when: inventory_hostname == ""subnode-0"" ",,8,0
openstack%2Fansible-hardening~master~I61348b8c606cb770863bd37883ea1eeed43e4be4,openstack/ansible-hardening,master,I61348b8c606cb770863bd37883ea1eeed43e4be4,"Revert ""Use import/include_tasks""",ABANDONED,2018-02-14 21:03:15.000000000,2018-05-18 08:35:59.000000000,,"[{'_account_id': 167}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 23517}]","[{'number': 1, 'created': '2018-02-14 21:03:15.000000000', 'files': ['tasks/main.yml', 'tasks/rhel7stig/main.yml', 'tasks/rhel7stig/dnf.yml', 'tasks/rhel7stig/yum.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/d94d80ab8431d07f81dabd6953bf429dd3eef1e0', 'message': 'Revert ""Use import/include_tasks""\n\n""include_tasks"" is a new task in Ansible 2.4+, not in Ansible 2.1+.\n\nThis reverts commit 74c904247fb8ad69848db41408df0c812826915d.\n\nChange-Id: I61348b8c606cb770863bd37883ea1eeed43e4be4\n'}]",0,544693,d94d80ab8431d07f81dabd6953bf429dd3eef1e0,13,8,1,167,,,0,"Revert ""Use import/include_tasks""

""include_tasks"" is a new task in Ansible 2.4+, not in Ansible 2.1+.

This reverts commit 74c904247fb8ad69848db41408df0c812826915d.

Change-Id: I61348b8c606cb770863bd37883ea1eeed43e4be4
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/93/544693/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/rhel7stig/main.yml', 'tasks/rhel7stig/dnf.yml', 'tasks/rhel7stig/yum.yml']",4,d94d80ab8431d07f81dabd6953bf429dd3eef1e0,fix-includes,- include: rpm.yml,- include_tasks: rpm.yml,17,17
openstack%2Fkolla-ansible~master~Ib13b8c73ef14a0917f5aebc780f6ea5360f96a78,openstack/kolla-ansible,master,Ib13b8c73ef14a0917f5aebc780f6ea5360f96a78,Collect network interface metrics from all up interfaces with telegraf,ABANDONED,2017-11-02 19:52:30.000000000,2018-05-18 08:31:26.000000000,,"[{'_account_id': 167}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-02 19:52:30.000000000', 'files': ['ansible/roles/telegraf/templates/telegraf.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5af99f889527f8127d57bcb5c4b2c4f7f28ad5f9', 'message': 'Collect network interface metrics from all up interfaces with telegraf\n\nBy default inputs.net will collect metrics from all up interfaces, excluding\nloopback.\n\nChange-Id: Ib13b8c73ef14a0917f5aebc780f6ea5360f96a78\n'}]",0,517420,5af99f889527f8127d57bcb5c4b2c4f7f28ad5f9,4,2,1,167,,,0,"Collect network interface metrics from all up interfaces with telegraf

By default inputs.net will collect metrics from all up interfaces, excluding
loopback.

Change-Id: Ib13b8c73ef14a0917f5aebc780f6ea5360f96a78
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/517420/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/telegraf/templates/telegraf.conf.j2'],1,5af99f889527f8127d57bcb5c4b2c4f7f28ad5f9,telegraf-net-interfaces,, interfaces = [],0,1
openstack%2Fcharm-heat~master~Ibb6395e1a65cdb5e09f6a02ae03ee529da0c8d0e,openstack/charm-heat,master,Ibb6395e1a65cdb5e09f6a02ae03ee529da0c8d0e,Always use publicURL for heat client,MERGED,2018-05-15 13:09:47.000000000,2018-05-18 08:31:04.000000000,2018-05-18 08:31:04.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 13:09:47.000000000', 'files': ['templates/icehouse/heat.conf', 'templates/mitaka/heat.conf'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/14a299596c0c94eacce3a2eda77e751b3a7a3ea5', 'message': 'Always use publicURL for heat client\n\nWe use the global client config for endpoint_type\nwhich means that all clients will inherit this setting\nbut heat client must remain using the publicURL since\nthat is used for heat stack output.\n\nChange-Id: Ibb6395e1a65cdb5e09f6a02ae03ee529da0c8d0e\nCloses-Bug: #1770144\n'}]",0,568582,14a299596c0c94eacce3a2eda77e751b3a7a3ea5,11,4,1,6737,,,0,"Always use publicURL for heat client

We use the global client config for endpoint_type
which means that all clients will inherit this setting
but heat client must remain using the publicURL since
that is used for heat stack output.

Change-Id: Ibb6395e1a65cdb5e09f6a02ae03ee529da0c8d0e
Closes-Bug: #1770144
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/82/568582/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/icehouse/heat.conf', 'templates/mitaka/heat.conf']",2,14a299596c0c94eacce3a2eda77e751b3a7a3ea5,bug/1770144, [heat_clients] # See LP 1770144 endpoint_type = publicURL ,,10,0
openstack%2Fkolla~master~I0799e01f3ef7333d8edc1cbcf0ea361464e25381,openstack/kolla,master,I0799e01f3ef7333d8edc1cbcf0ea361464e25381,Add nova-xvpvncproxy image,ABANDONED,2017-09-29 09:14:13.000000000,2018-05-18 08:31:03.000000000,,"[{'_account_id': 167}, {'_account_id': 17920}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-29 09:14:13.000000000', 'files': ['docker/nova/nova-xvpvncproxy/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/add60b4e42f887dc93e50106643f5c338beef712', 'message': 'Add nova-xvpvncproxy image\n\nChange-Id: I0799e01f3ef7333d8edc1cbcf0ea361464e25381\nblueprint: xenserver-support\n'}]",2,508458,add60b4e42f887dc93e50106643f5c338beef712,6,4,1,167,,,0,"Add nova-xvpvncproxy image

Change-Id: I0799e01f3ef7333d8edc1cbcf0ea361464e25381
blueprint: xenserver-support
",git fetch https://review.opendev.org/openstack/kolla refs/changes/58/508458/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-xvpvncproxy/Dockerfile.j2'],1,add60b4e42f887dc93e50106643f5c338beef712,bp/xenserver-support,"FROM {{ namespace }}/{{ image_prefix }}nova-base:{{ tag }} LABEL maintainer=""{{ maintainer }}"" name=""{{ image_name }}"" build-date=""{{ build_date }}"" {% block nova_xvpvncproxy_header %}{% endblock %} {% import ""macros.j2"" as macros with context %} {% if install_type == 'binary' %} {% if base_distro in ['centos', 'oraclelinux', 'rhel'] %} {% set nova_xvpvncproxy_packages = [ 'openstack-nova-xvpvncproxy' ] %} {% elif base_distro in ['debian', 'ubuntu'] %} {% set nova_xvpvncproxy_packages = [ 'nova-xvpvncproxy' ] %} {% endif %} {% endif %} {{ macros.install_packages(nova_xvpvncproxy_packages | customizable(""packages"")) }} {% block nova_xvpvncproxy_footer %}{% endblock %} {% block footer %}{% endblock %} USER nova ",,29,0
openstack%2Fpython-pankoclient~master~Ibd8fc7d15c666f285fe81e7009ff3000433ded84,openstack/python-pankoclient,master,Ibd8fc7d15c666f285fe81e7009ff3000433ded84,Fix OSC plugin and SessionClient,ABANDONED,2018-05-04 09:17:54.000000000,2018-05-18 08:29:32.000000000,,"[{'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 9542}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-04 09:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-pankoclient/commit/e0b7b506be69dc18646189c87ffd395460ca5de4', 'message': ""Fix OSC plugin and SessionClient\n\n- all the code throughout pankoclient depends on HTTP methods\n  returning both response and its parsed body, but SessionClient\n  was returning response only;\n- OSC plugin was not working, passing already unsupported arguments\n  to SessionClient\n- fixed error handling, sometime the error message does not have\n  'faultsring' element (e.g. if the error is returned from WebServer\n  directly).\n\nChange-Id: Ibd8fc7d15c666f285fe81e7009ff3000433ded84\n""}, {'number': 2, 'created': '2018-05-04 10:33:13.000000000', 'files': ['pankoclient/client.py', 'pankoclient/exceptions.py', 'pankoclient/osc.py', 'pankoclient/tests/unit/test_osc_plugin.py'], 'web_link': 'https://opendev.org/openstack/python-pankoclient/commit/cb452900fa868a468adf0d4470608427c1cc3d08', 'message': ""Fix OSC plugin and SessionClient\n\n- all the code throughout pankoclient depends on HTTP methods\n  returning both response and its parsed body, but SessionClient\n  was returning response only;\n- OSC plugin was not working, passing already unsupported arguments\n  to SessionClient\n- fixed error handling, sometime the error message does not have\n  'faultsring' element (e.g. if the error is returned from WebServer\n  directly).\n\nChange-Id: Ibd8fc7d15c666f285fe81e7009ff3000433ded84\n""}]",2,566252,cb452900fa868a468adf0d4470608427c1cc3d08,8,4,2,9542,,,0,"Fix OSC plugin and SessionClient

- all the code throughout pankoclient depends on HTTP methods
  returning both response and its parsed body, but SessionClient
  was returning response only;
- OSC plugin was not working, passing already unsupported arguments
  to SessionClient
- fixed error handling, sometime the error message does not have
  'faultsring' element (e.g. if the error is returned from WebServer
  directly).

Change-Id: Ibd8fc7d15c666f285fe81e7009ff3000433ded84
",git fetch https://review.opendev.org/openstack/python-pankoclient refs/changes/52/566252/1 && git format-patch -1 --stdout FETCH_HEAD,"['pankoclient/client.py', 'pankoclient/exceptions.py', 'pankoclient/osc.py']",3,e0b7b506be69dc18646189c87ffd395460ca5de4,fix-osc-plugin," client = panko_client(session=instance.session, service_type=API_NAME, region_name=instance.region_name, interface=instance.interface)"," endpoint = instance.get_endpoint_for_service_type( API_NAME, region_name=instance.region_name, interface=instance.interface, ) kwargs = {'endpoint': endpoint, 'auth_url': instance.auth.auth_url, 'region_name': instance.region_name, 'username': instance.auth_ref.username} if instance.session: kwargs.update(session=instance.session) else: kwargs.update(token=instance.auth_ref.auth_token) client = panko_client(**kwargs)",10,19
openstack%2Fcharm-ceph-radosgw~master~Ie69b71387cf43add775cffe9d948ec1a42bf7cae,openstack/charm-ceph-radosgw,master,Ie69b71387cf43add775cffe9d948ec1a42bf7cae,Enable Bionic as a gate test,MERGED,2018-05-08 18:52:46.000000000,2018-05-18 08:29:20.000000000,2018-05-18 08:29:20.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-08 18:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d7c8e9c12f68e872bff241a1f87a8ce2f54c6920', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ie69b71387cf43add775cffe9d948ec1a42bf7cae\n'}, {'number': 2, 'created': '2018-05-09 16:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/cbcc414f67073e68b2ada1b4ac18f506f7a70046', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ie69b71387cf43add775cffe9d948ec1a42bf7cae\n'}, {'number': 3, 'created': '2018-05-11 21:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/2ee9727740c2ef9e7c2e17f0bbb74f8d3fc9f64d', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ie69b71387cf43add775cffe9d948ec1a42bf7cae\n'}, {'number': 4, 'created': '2018-05-11 22:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/92c49da6b2706f91a668039bf3a5aa9118d64748', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ie69b71387cf43add775cffe9d948ec1a42bf7cae\n'}, {'number': 5, 'created': '2018-05-15 14:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/0d8f2542150e5beb8c4f4a1d0b2c0c6717126c99', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ie69b71387cf43add775cffe9d948ec1a42bf7cae\n'}, {'number': 6, 'created': '2018-05-16 15:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/5138934473d57a1f7f0c8de600e914b1f142f9e7', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ie69b71387cf43add775cffe9d948ec1a42bf7cae\n'}, {'number': 7, 'created': '2018-05-16 16:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/b9f55af381258a42af10d87c7a692b130b2c1dc3', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ie69b71387cf43add775cffe9d948ec1a42bf7cae\n'}, {'number': 8, 'created': '2018-05-17 18:12:07.000000000', 'files': ['tests/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', '.gitignore', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-middleware', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'tests/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/ceph_radosgw_context.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hahelpers/apache.py', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'tests/charmhelpers/core/sysctl.py', 'unit_tests/test_ceph_radosgw_context.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'tests/gate-basic-bionic-queens', 'tests/charmhelpers/core/unitdata.py', 'tests/gate-basic-xenial-queens', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/65b8b75c2ace928dcb6b23a77311ee1bd88f9390', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ie69b71387cf43add775cffe9d948ec1a42bf7cae\n'}]",0,566981,65b8b75c2ace928dcb6b23a77311ee1bd88f9390,35,4,8,20805,,,0,"Enable Bionic as a gate test

Change bionic test from dev to gate for 18.05.

Change-Id: Ie69b71387cf43add775cffe9d948ec1a42bf7cae
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/81/566981/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-middleware', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'tests/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hahelpers/apache.py', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'tests/charmhelpers/core/sysctl.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/gate-basic-bionic-queens', 'tests/charmhelpers/core/unitdata.py', 'tests/gate-basic-xenial-queens', 'tox.ini']",29,d7c8e9c12f68e872bff241a1f87a8ce2f54c6920,update-amulet-defs-bionic, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-queens --no-destroy, bundletester -vl DEBUG -r json -o func-results.json gate-basic-xenial-pike --no-destroy,978,178
openstack%2Fpuppet-glance~master~I54f92b44a310aac1fa1d4eb277010aa062adcb32,openstack/puppet-glance,master,I54f92b44a310aac1fa1d4eb277010aa062adcb32,Add the feature to use Apache for glance-api,ABANDONED,2018-05-16 16:06:33.000000000,2018-05-18 08:28:27.000000000,,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 16:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/d362300fdd61525deab903145091cbf6a39873fd', 'message': 'Add the feature to use Apache for glance-api\n\nThis patch adds support for running Glance on top of Apache.\n\nChange-Id: I54f92b44a310aac1fa1d4eb277010aa062adcb32\n'}, {'number': 2, 'created': '2018-05-16 18:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/3863069002405da2c4ef931965e3d8c907293812', 'message': 'Add the feature to use Apache for glance-api\n\nThis patch adds support for running Glance on top of Apache.\n\nChange-Id: I54f92b44a310aac1fa1d4eb277010aa062adcb32\n'}, {'number': 3, 'created': '2018-05-17 11:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/d84f7b91d795d0eeb0f8b927729aba512580c7d7', 'message': 'Add the feature to use Apache for glance-api\n\nThis patch adds support for running Glance on top of Apache.\n\nChange-Id: I54f92b44a310aac1fa1d4eb277010aa062adcb32\n'}, {'number': 4, 'created': '2018-05-17 11:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/5ef7a946b8b66802896a5978d517cc9f5a8f9152', 'message': 'Add the feature to use Apache for glance-api\n\nThis patch adds support for running Glance on top of Apache.\n\nNeeded-By: Ifacd3967e62dcbefaa1ccb3d112eb38d9abb7d16\nChange-Id: I54f92b44a310aac1fa1d4eb277010aa062adcb32\n'}, {'number': 5, 'created': '2018-05-17 14:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/947fb2e68a014791e98df4b522afe724c9f39156', 'message': 'Add the feature to use Apache for glance-api\n\nThis patch adds support for running Glance on top of Apache.\nIt also sets the endpoint to be setup at *END* rather than *BEGIN* of the\nservice, as otherwise this creates a dependency loop:\n\nAnchor[glance::service::begin]\n=> Service[glance-api]\n=> Service[httpd] => Anchor[keystone::service::end]\n=> Keystone_endpoint[RegionOne/glance::image]\n=> Anchor[glance::service::begin]\n\nNeeded-By: Ifacd3967e62dcbefaa1ccb3d112eb38d9abb7d16\nChange-Id: I54f92b44a310aac1fa1d4eb277010aa062adcb32\n'}, {'number': 6, 'created': '2018-05-17 14:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/6ef1d90101e6c84741a6f4093a2eee14be6e25a7', 'message': 'Add the feature to use Apache for glance-api\n\nThis patch adds support for running Glance on top of Apache.\nIt also sets the endpoint to be setup at *END* rather than *BEGIN* of the\nservice, as otherwise this creates a dependency loop:\n\nAnchor[glance::service::begin]\n=> Service[glance-api]\n=> Service[httpd] => Anchor[keystone::service::end]\n=> Keystone_endpoint[RegionOne/glance::image]\n=> Anchor[glance::service::begin]\n\nNeeded-By: Ifacd3967e62dcbefaa1ccb3d112eb38d9abb7d16\nChange-Id: I54f92b44a310aac1fa1d4eb277010aa062adcb32\n'}, {'number': 7, 'created': '2018-05-17 19:36:11.000000000', 'files': ['manifests/wsgi/apache.pp', 'manifests/api.pp', 'manifests/params.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/9e7c96d290df736ceeecca6603c657317030b2ba', 'message': 'Add the feature to use Apache for glance-api\n\nThis patch adds support for running Glance on top of Apache.\nIt also sets the endpoint to be setup at *END* rather than *BEGIN* of the\nservice, as otherwise this creates a dependency loop:\n\nAnchor[glance::service::begin]\n=> Service[glance-api]\n=> Service[httpd] => Anchor[keystone::service::end]\n=> Keystone_endpoint[RegionOne/glance::image]\n=> Anchor[glance::service::begin]\n\nNeeded-By: Ifacd3967e62dcbefaa1ccb3d112eb38d9abb7d16\nChange-Id: I54f92b44a310aac1fa1d4eb277010aa062adcb32\n'}]",0,568893,9e7c96d290df736ceeecca6603c657317030b2ba,13,6,7,6476,,,0,"Add the feature to use Apache for glance-api

This patch adds support for running Glance on top of Apache.
It also sets the endpoint to be setup at *END* rather than *BEGIN* of the
service, as otherwise this creates a dependency loop:

Anchor[glance::service::begin]
=> Service[glance-api]
=> Service[httpd] => Anchor[keystone::service::end]
=> Keystone_endpoint[RegionOne/glance::image]
=> Anchor[glance::service::begin]

Needed-By: Ifacd3967e62dcbefaa1ccb3d112eb38d9abb7d16
Change-Id: I54f92b44a310aac1fa1d4eb277010aa062adcb32
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/93/568893/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'manifests/api.pp', 'manifests/params.pp']",3,d362300fdd61525deab903145091cbf6a39873fd,," $api_package_name = 'openstack-glance' $registry_package_name = 'openstack-glance' $api_service_name = 'openstack-glance-api' $registry_service_name = 'openstack-glance-registry' if ($::operatingsystem != 'fedora' and versioncmp($::operatingsystemrelease, '7') < 0) { $pyceph_package_name = 'python-ceph' } else { $pyceph_package_name = 'python-rbd' } $glance_wsgi_script_path = '/var/www/cgi-bin/glance' $glance_wsgi_script_source = '/usr/bin/glance-wsgi-api' $api_package_name = 'glance-api' $registry_package_name = 'glance-registry' $api_service_name = 'glance-api' $registry_service_name = 'glance-registry' $pyceph_package_name = ""python${pyvers}-ceph"" $glance_wsgi_script_path = '/usr/lib/cgi-bin/glance' $glance_wsgi_script_source = '/usr/bin/glance-wsgi-api'"," $api_package_name = 'openstack-glance' $registry_package_name = 'openstack-glance' $api_service_name = 'openstack-glance-api' $registry_service_name = 'openstack-glance-registry' if ($::operatingsystem != 'fedora' and versioncmp($::operatingsystemrelease, '7') < 0) { $pyceph_package_name = 'python-ceph' } else { $pyceph_package_name = 'python-rbd' } $api_package_name = 'glance-api' $registry_package_name = 'glance-registry' $api_service_name = 'glance-api' $registry_service_name = 'glance-registry' $pyceph_package_name = ""python${pyvers}-ceph""",213,18
openstack%2Fopenstack-ansible~master~I759783e7cad55c0b2f91df6faf53e9fb7896da6b,openstack/openstack-ansible,master,I759783e7cad55c0b2f91df6faf53e9fb7896da6b,Move database creation into role (glance),MERGED,2018-05-15 07:34:58.000000000,2018-05-18 08:26:29.000000000,2018-05-18 08:26:29.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-15 07:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bd199566e9b1f081ff2a17cd2da985175c75e9fd', 'message': 'Move database creation into role\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we remove the group_vars which were duplicated from the\nrole, and remove the DB setup tasks as they are no longer required.\n\nChange-Id: I759783e7cad55c0b2f91df6faf53e9fb7896da6b\nDepends-On: https://review.openstack.org/568481\n'}, {'number': 2, 'created': '2018-05-16 10:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a503ac57ef807b4637594767595509857cfdeafc', 'message': 'Move database creation into role\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we remove the group_vars which were duplicated from the\nrole, and remove the DB setup tasks as they are no longer required.\n\nChange-Id: I759783e7cad55c0b2f91df6faf53e9fb7896da6b\nDepends-On: https://review.openstack.org/568481\n'}, {'number': 3, 'created': '2018-05-16 10:03:51.000000000', 'files': ['inventory/group_vars/glance_all.yml', 'playbooks/os-glance-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bd185e2ba623a560521ffd96f97d1af72fb03c72', 'message': 'Move database creation into role (glance)\n\nThere is no record for why we implement the database creation outside\nof the role in the playbook, when we could do it inside the role.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we remove the group_vars which were duplicated from the\nrole, and remove the DB setup tasks as they are no longer required.\n\nChange-Id: I759783e7cad55c0b2f91df6faf53e9fb7896da6b\nDepends-On: https://review.openstack.org/568481\n'}]",0,568485,bd185e2ba623a560521ffd96f97d1af72fb03c72,29,6,3,6816,,,0,"Move database creation into role (glance)

There is no record for why we implement the database creation outside
of the role in the playbook, when we could do it inside the role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we remove the group_vars which were duplicated from the
role, and remove the DB setup tasks as they are no longer required.

Change-Id: I759783e7cad55c0b2f91df6faf53e9fb7896da6b
Depends-On: https://review.openstack.org/568481
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/568485/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/glance_all.yml', 'playbooks/os-glance-install.yml']",2,bd199566e9b1f081ff2a17cd2da985175c75e9fd,move-db-setup-into-roles,- name: Prepare MQ services,"- name: Prepare MQ/DB services - name: Configure MySQL user include: common-tasks/mysql-db-user.yml vars: user_name: ""{{ glance_galera_user }}"" password: ""{{ glance_container_mysql_password }}"" login_host: ""{{ glance_galera_address }}"" db_name: ""{{ glance_galera_database }}"" run_once: yes ",1,15
openstack%2Fcharm-swift-proxy~stable%2F18.02~I42a88292775badb9fd70e5b99558d084ddcdc29f,openstack/charm-swift-proxy,stable/18.02,I42a88292775badb9fd70e5b99558d084ddcdc29f,Add support for Static Large Objects,ABANDONED,2018-05-09 20:41:20.000000000,2018-05-18 08:25:05.000000000,,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 24297}]","[{'number': 1, 'created': '2018-05-09 20:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/e5c030330730b14ff7ba9e2fea32ce4a16bc2e3f', 'message': ""Add support for Static Large Objects\n\nAdds the necessary filter to the swift-proxy config\nto support Static Large Objects (SLO).\n\nA new config value 'static-large-object-segments' toggles\nSLO support and allows the user to control the maximum object\nsize when set to a value >0.\n\nChange-Id: I42a88292775badb9fd70e5b99558d084ddcdc29f\nCloses-Bug: 1753811\n(cherry picked from commit 3b2efe479fc7716f67928edbf70652ff6664b93a)\n""}, {'number': 2, 'created': '2018-05-14 15:47:12.000000000', 'files': ['templates/mitaka/proxy-server.conf', 'templates/icehouse/proxy-server.conf', 'config.yaml', 'templates/kilo/proxy-server.conf', 'lib/swift_context.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/657a50d4b81e4af7aa323f0c10b50909d12f42be', 'message': ""Add support for Static Large Objects\n\nAdds the necessary filter to the swift-proxy config\nto support Static Large Objects (SLO).\n\nA new config value 'static-large-object-segments' toggles\nSLO support and allows the user to control the maximum object\nsize when set to a value >0.\n\nChange-Id: I42a88292775badb9fd70e5b99558d084ddcdc29f\nCloses-Bug: 1753811\n(cherry picked from commit 3b2efe479fc7716f67928edbf70652ff6664b93a)\n""}]",0,567383,657a50d4b81e4af7aa323f0c10b50909d12f42be,9,4,2,24297,,,0,"Add support for Static Large Objects

Adds the necessary filter to the swift-proxy config
to support Static Large Objects (SLO).

A new config value 'static-large-object-segments' toggles
SLO support and allows the user to control the maximum object
size when set to a value >0.

Change-Id: I42a88292775badb9fd70e5b99558d084ddcdc29f
Closes-Bug: 1753811
(cherry picked from commit 3b2efe479fc7716f67928edbf70652ff6664b93a)
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/83/567383/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/mitaka/proxy-server.conf', 'templates/icehouse/proxy-server.conf', 'config.yaml', 'templates/kilo/proxy-server.conf', 'lib/swift_context.py']",5,e5c030330730b14ff7ba9e2fea32ce4a16bc2e3f,bug/1753811," 'statsd_sample_rate': config('statsd-sample-rate'), 'static_large_object_segments': config( 'static-large-object-segments')", 'statsd_sample_rate': config('statsd-sample-rate'),41,1
openstack%2Fopenstack-ansible~stable%2Fqueens~I4986ff4d21e9fa8b77115ab80c66de99afe45f6c,openstack/openstack-ansible,stable/queens,I4986ff4d21e9fa8b77115ab80c66de99afe45f6c,Adjust inside/outside openstack-ci bootstrap-host tasks,MERGED,2018-05-15 11:59:40.000000000,2018-05-18 08:23:42.000000000,2018-05-18 08:23:42.000000000,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-05-15 11:59:40.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5ea58f52e24cf04490c501d178c59e8c2ba5b55b', 'message': 'Adjust inside/outside openstack-ci bootstrap-host tasks\n\nTo optimise the execution and to simplify it, we re-arrange the\ntasks in such a way that there are only two blocks - one for\nexecution inside openstack-infra, and one for outside.\n\nAlso, Zuul places a /etc/pip.conf file on the host but we do not\nneed it given that we have our own implementation of pip config\nwhich uses the correct mirrors based on the mirror script.\nAs such, we no longer want this file in the containers, so we\nremove the setting which makes lxc_hosts copy it into the\ncontainer cache when it is prepared.\n\nConflicts:\n1. tests/roles/bootstrap-host/tasks/prepare_aio_config.yml\n   due to missing https://review.openstack.org/552977\n\nChange-Id: I4986ff4d21e9fa8b77115ab80c66de99afe45f6c\n(cherry picked from commit 3c50f79c98c03b581d694bf7a07bc0dc4bc5a1f3)\n'}]",0,568568,5ea58f52e24cf04490c501d178c59e8c2ba5b55b,12,4,1,6816,,,0,"Adjust inside/outside openstack-ci bootstrap-host tasks

To optimise the execution and to simplify it, we re-arrange the
tasks in such a way that there are only two blocks - one for
execution inside openstack-infra, and one for outside.

Also, Zuul places a /etc/pip.conf file on the host but we do not
need it given that we have our own implementation of pip config
which uses the correct mirrors based on the mirror script.
As such, we no longer want this file in the containers, so we
remove the setting which makes lxc_hosts copy it into the
container cache when it is prepared.

Conflicts:
1. tests/roles/bootstrap-host/tasks/prepare_aio_config.yml
   due to missing https://review.openstack.org/552977

Change-Id: I4986ff4d21e9fa8b77115ab80c66de99afe45f6c
(cherry picked from commit 3c50f79c98c03b581d694bf7a07bc0dc4bc5a1f3)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/68/568568/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'],1,5ea58f52e24cf04490c501d178c59e8c2ba5b55b,wipe-pip-conf-stable/queens,"- name: Set facts when inside of OpenStack-Infra when: block: # OVH nodepool nodes have an issue which causes nested virt # instances to crash with a hardware error, then a dump. # We therefore detect whether we're running on OVH and # force it to use qemu instead. - name: Discover the OpenStack-Infra mirrors shell: | source /etc/ci/mirror_info.sh NODEPOOL_OVERRIDES=""/etc/openstack_deploy/user_openstackci.yml"" echo ""uca_apt_repo_url: '${NODEPOOL_UCA_MIRROR}'"" >> ${NODEPOOL_OVERRIDES} echo ""openstack_hosts_centos_mirror_url: '${NODEPOOL_CENTOS_MIRROR}'"" >> ${NODEPOOL_OVERRIDES} if [[ ${NODEPOOL_PYPI_MIRROR} == *.ovh.* ]]; then echo ""nova_virt_type: 'qemu'"" >> ${NODEPOOL_OVERRIDES} fi echo ""repo_build_pip_default_index: '${NODEPOOL_PYPI_MIRROR}'"" >> ${NODEPOOL_OVERRIDES} args: executable: /bin/bash tags: - skip_ansible_lint - name: Discover the OpenStack-Infra pypi/wheel mirror shell: | source /etc/ci/mirror_info.sh echo ""${NODEPOOL_PYPI_MIRROR}"" echo ""${NODEPOOL_WHEEL_MIRROR}"" args: executable: /bin/bash register: _pypi_wheel_mirror tags: - skip_ansible_lint - name: Discover the OpenStack-Infra LXC reverse proxy shell: | source /etc/ci/mirror_info.sh echo ${NODEPOOL_LXC_IMAGE_PROXY} register: _lxc_mirror args: executable: /bin/bash tags: - skip_ansible_lint - name: Set the package cache timeout to 60 mins in OpenStack-CI set_fact: cache_timeout: 3600 when: - cache_timeout is not defined # This is a very dirty hack due to images.linuxcontainers.org # constantly failing to resolve in openstack-infra. - name: Implement hard-coded hosts entries for consistently failing name lineinfile: path: ""/etc/hosts"" line: ""{{ item }}"" state: present with_items: - ""91.189.91.21 images.linuxcontainers.org us.images.linuxcontainers.org"" - ""91.189.88.37 images.linuxcontainers.org uk.images.linuxcontainers.org"" - name: Set facts when outside of OpenStack-Infra when: - not nodepool_dir.stat.exists block: - name: Determine the fastest available OpenStack-Infra wheel mirror command: ""{{ bootstrap_host_aio_script_path }}/fastest-infra-wheel-mirror.py"" register: fastest_wheel_mirror - name: Set repo_build_pip_extra_indexes fact set_fact: repo_build_pip_extra_indexes: ""{{ fastest_wheel_mirror.stdout_lines }}""","# OVH nodepool nodes have an issue which causes nested virt # instances to crash with a hardware error, then a dump. # We therefore detect whether we're running on OVH and # force it to use qemu instead. - name: Discover the OpenStack-Infra mirrors shell: | source /etc/ci/mirror_info.sh NODEPOOL_OVERRIDES=""/etc/openstack_deploy/user_openstackci.yml"" echo ""uca_apt_repo_url: '${NODEPOOL_UCA_MIRROR}'"" >> ${NODEPOOL_OVERRIDES} echo ""openstack_hosts_centos_mirror_url: '${NODEPOOL_CENTOS_MIRROR}'"" >> ${NODEPOOL_OVERRIDES} if [[ ${NODEPOOL_PYPI_MIRROR} == *.ovh.* ]]; then echo ""nova_virt_type: 'qemu'"" >> ${NODEPOOL_OVERRIDES} fi echo ""repo_build_pip_default_index: '${NODEPOOL_PYPI_MIRROR}'"" >> ${NODEPOOL_OVERRIDES} args: executable: /bin/bash when: - nodepool_dir.stat.exists | bool tags: - skip_ansible_lint - name: Discover the OpenStack-Infra pypi/wheel mirror shell: | source /etc/ci/mirror_info.sh echo ""${NODEPOOL_PYPI_MIRROR}"" echo ""${NODEPOOL_WHEEL_MIRROR}"" args: executable: /bin/bash register: _pypi_wheel_mirror when: - nodepool_dir.stat.exists | bool tags: - skip_ansible_lint - name: Discover the OpenStack-Infra LXC reverse proxy shell: | source /etc/ci/mirror_info.sh echo ${NODEPOOL_LXC_IMAGE_PROXY} register: _lxc_mirror args: executable: /bin/bash when: - nodepool_dir.stat.exists | bool tags: - skip_ansible_lint - name: Set the package cache timeout to 60 mins in OpenStack-CI set_fact: cache_timeout: 3600 when: - cache_timeout is not defined - name: Determine if the host has a global pip config file stat: path: /etc/pip.conf register: pip_conf_file# This is a very dirty hack due to images.linuxcontainers.org # constantly failing to resolve in openstack-infra. - name: Implement hard-coded hosts entries for consistently failing name lineinfile: path: ""/etc/hosts"" line: ""{{ item }}"" state: present with_items: - ""91.189.91.21 images.linuxcontainers.org us.images.linuxcontainers.org"" - ""91.189.88.37 images.linuxcontainers.org uk.images.linuxcontainers.org"" when: - nodepool_dir.stat.exists - name: Determine the fastest available OpenStack-Infra wheel mirror command: ""{{ bootstrap_host_aio_script_path }}/fastest-infra-wheel-mirror.py"" register: fastest_wheel_mirror when: not pip_conf_file.stat.exists - name: Set repo_build_pip_extra_indexes fact set_fact: repo_build_pip_extra_indexes: ""{{ fastest_wheel_mirror.stdout_lines }}"" when: not pip_conf_file.stat.exists - name: Add user_conf_files to contain the list of files to copy into containers file: path: /etc/openstack_deploy/user_conf_files.yml state: touch when: pip_conf_file.stat.exists tags: - container-conf-files - name: Ensure that the first line in user_conf_files is correct lineinfile: dest: /etc/openstack_deploy/user_conf_files.yml line: ""---"" insertbefore: BOF when: pip_conf_file.stat.exists tags: - container-conf-files - name: Ensure that the second line in user_conf_files is correct lineinfile: dest: /etc/openstack_deploy/user_conf_files.yml line: ""lxc_container_cache_files:"" insertafter: ""^---"" when: pip_conf_file.stat.exists tags: - container-conf-files - name: Add the dict to copy the global pip config file into user_conf_files lineinfile: dest: /etc/openstack_deploy/user_conf_files.yml line: "" - { src: '/etc/pip.conf', dest: '/etc/pip.conf' }"" when: pip_conf_file.stat.exists tags: - container-conf-files ",69,111
openstack%2Ftripleo-heat-templates~stable%2Fnewton~I145fa73a7af9cb4135ba910d3659853b3baa893d,openstack/tripleo-heat-templates,stable/newton,I145fa73a7af9cb4135ba910d3659853b3baa893d,Set reasonable TTL defaults for Ceilometer DB,MERGED,2018-05-09 20:21:40.000000000,2018-05-18 08:12:20.000000000,2018-05-18 08:12:20.000000000,"[{'_account_id': 3153}, {'_account_id': 6924}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-09 20:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/54315eb4f46ca87fdc7699dffbaae550037e0059', 'message': 'Set reasonable TTL defaults for Ceilometer DB\n\n    By deafult, we let the data live for ever. Which isnt very efficient.\n    Lets expose params to tweak this and use a reasonable default.\n\nChange-Id: I145fa73a7af9cb4135ba910d3659853b3baa893d\n(cherry picked from commit 32fed0cb6234c47a58be417a272dfbd5411aea95)\n'}, {'number': 2, 'created': '2018-05-09 20:27:06.000000000', 'files': ['puppet/services/ceilometer-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0dddaf15a34ca762dc2f2859d373333a37520b91', 'message': 'Set reasonable TTL defaults for Ceilometer DB\n\nBy deafult, we let the data live for ever. Which isnt very efficient.\nLets expose params to tweak this and use a reasonable default.\n\nChange-Id: I145fa73a7af9cb4135ba910d3659853b3baa893d\n(cherry picked from commit 32fed0cb6234c47a58be417a272dfbd5411aea95)\n'}]",0,567382,0dddaf15a34ca762dc2f2859d373333a37520b91,18,5,2,6924,,,0,"Set reasonable TTL defaults for Ceilometer DB

By deafult, we let the data live for ever. Which isnt very efficient.
Lets expose params to tweak this and use a reasonable default.

Change-Id: I145fa73a7af9cb4135ba910d3659853b3baa893d
(cherry picked from commit 32fed0cb6234c47a58be417a272dfbd5411aea95)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/567382/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/ceilometer-base.yaml'],1,54315eb4f46ca87fdc7699dffbaae550037e0059,, default: 86400CeilometerMeteringTTL: default: '86400' description: Number of seconds that samples are kept in the database for (<= 0 means forever) type: string ceilometer::metering_time_to_live: {get_param: CeilometerMeteringTTL}, default: -1,7,1
openstack%2Fheat~master~I8f880e5b23c25159ecab1c63b594329d8df33973,openstack/heat,master,I8f880e5b23c25159ecab1c63b594329d8df33973,Keep old files in file map for rolling update,MERGED,2018-04-19 16:04:40.000000000,2018-05-18 08:04:20.000000000,2018-05-18 08:04:20.000000000,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-19 16:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9391eb4090fd3030f15b129215207c0750199503', 'message': 'Keep merged map of old and new files for update\n\nWe would need old resource definitions when doing rolling update\nof certain group resources like RG/RSG. Therefore keep a file\nmap that contains both old and new files.\n\nChange-Id: I8f880e5b23c25159ecab1c63b594329d8df33973\nCloses-Bug: #1765454\n'}, {'number': 2, 'created': '2018-04-23 04:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/af3506596be3fd7dcc08ee7d328bf9c81df2d2ad', 'message': 'Keep old files in file map for rolling update\n\nWe would need old resource definitions when doing rolling update\nof certain group resources like RG/RSG. Therefore update the file\nmap with the files from prev_raw_template.\n\nChange-Id: I8f880e5b23c25159ecab1c63b594329d8df33973\nCloses-Bug: #1765454\n'}, {'number': 3, 'created': '2018-04-23 07:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/98e424a885ccc82650f47c4c5916cf50d8d2d92f', 'message': 'Keep old files in file map for rolling update\n\nWe would need old resource definitions when doing rolling update\nof certain group resources like RG/RSG. Therefore update the file\nmap with the files from prev_raw_template.\n\nChange-Id: I8f880e5b23c25159ecab1c63b594329d8df33973\nCloses-Bug: #1765454\n'}, {'number': 4, 'created': '2018-04-24 11:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d5e90512cd515d3936c852f565c62a003d574a90', 'message': 'Keep old files in file map for rolling update\n\nWe would need old resource definitions when doing rolling update\nof certain group resources like RG/RSG. Therefore update the file\nmap with the files from prev_raw_template.\n\nChange-Id: I8f880e5b23c25159ecab1c63b594329d8df33973\nCloses-Bug: #1765454\n'}, {'number': 5, 'created': '2018-04-24 12:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/35cfc549ec01534a7934664893f6a8e2c6deadcb', 'message': 'Keep old files in file map for rolling update\n\nWe would need old resource definitions when doing rolling update\nof certain group resources like RG/RSG. Therefore update the file\nmap with the files from prev_raw_template.\n\nChange-Id: I8f880e5b23c25159ecab1c63b594329d8df33973\nCloses-Bug: #1765454\n'}, {'number': 6, 'created': '2018-05-09 06:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/53e780f1b599cc53fd465e49e8630f2c3f4c4743', 'message': 'Keep old files in file map for rolling update\n\nWe would need old resource definitions when doing rolling update of certain\ngroup resources like RG/ASG. Therefore update the file map with the files\nfrom old template.\n\nChange-Id: I8f880e5b23c25159ecab1c63b594329d8df33973\nCloses-Bug: #1765454\nTask: #17360\nStory: #1765454\n'}, {'number': 7, 'created': '2018-05-09 10:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2620d6bd95cb404492b7d2bbebd0dea0dcbc7150', 'message': 'Keep old files in file map for rolling update\n\nWe would need old resource definitions when doing rolling update of certain\ngroup resources like RG/ASG. Therefore update the file map with the files\nfrom old template.\n\nChange-Id: I8f880e5b23c25159ecab1c63b594329d8df33973\nCloses-Bug: #1765454\nTask: #17360\nStory: #1765454\n'}, {'number': 8, 'created': '2018-05-11 06:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8cc49a7f2ce6dd8af9b186d36bc0918d1a2ea113', 'message': 'Keep old files in file map for rolling update\n\nWe would need old resource definitions when doing rolling update of certain\ngroup resources like RG/ASG. Therefore update the file map with the files\nfrom old template.\n\nChange-Id: I8f880e5b23c25159ecab1c63b594329d8df33973\nCloses-Bug: #1765454\nTask: #17360\nStory: #1765454\n'}, {'number': 9, 'created': '2018-05-11 06:32:20.000000000', 'files': ['heat/engine/resources/openstack/heat/instance_group.py', 'heat/engine/resources/openstack/heat/resource_group.py', 'heat_integrationtests/functional/test_resource_group.py', 'heat/common/grouputils.py', 'heat/engine/resources/stack_resource.py', 'heat/engine/resources/openstack/heat/autoscaling_group.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d42f863dc54ecad2f99800be42bf42312dbff0d2', 'message': 'Keep old files in file map for rolling update\n\nWe would need old resource definitions when doing rolling update of certain\ngroup resources like RG/ASG. Therefore update the file map with the files\nfrom old template.\n\nChange-Id: I8f880e5b23c25159ecab1c63b594329d8df33973\nCloses-Bug: #1765454\nTask: #17360\nStory: #1765454\n'}]",16,562727,d42f863dc54ecad2f99800be42bf42312dbff0d2,45,5,9,8833,,,0,"Keep old files in file map for rolling update

We would need old resource definitions when doing rolling update of certain
group resources like RG/ASG. Therefore update the file map with the files
from old template.

Change-Id: I8f880e5b23c25159ecab1c63b594329d8df33973
Closes-Bug: #1765454
Task: #17360
Story: #1765454
",git fetch https://review.opendev.org/openstack/heat refs/changes/27/562727/9 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/service.py'],1,9391eb4090fd3030f15b129215207c0750199503,bug/1765454," # Keep a merged file map for both old and new templates, as the # old child templates may be needed when doing rolling updates # of group resources. new_files = current_stack.t.files new_files.update(files or {}) tmpl = templatem.Template(template, files=new_files) env_util.merge_environments(environment_files, new_files, params,"," new_files = current_stack.t.files new_files.update(files or {}) tmpl = templatem.Template(template, files=files) env_util.merge_environments(environment_files, files, params,",8,4
openstack%2Fmasakari~master~I12ee6c4fca5ab9c538bf39b7616d37d2174dc3df,openstack/masakari,master,I12ee6c4fca5ab9c538bf39b7616d37d2174dc3df,"Trivial: Remove unused methods, classes",NEW,2018-05-18 05:32:51.000000000,2018-05-18 07:23:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 25267}]","[{'number': 1, 'created': '2018-05-18 05:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/9ed8c55d7e2a666deefb761b3aced6d099188019', 'message': 'Trivial: Remove unused methods, classes\n\nThis patch removes unused methods and classes from the\nmasakari codebase.\n\nTrivialFix\n\nChange-Id: I12ee6c4fca5ab9c538bf39b7616d37d2174dc3df\n'}, {'number': 2, 'created': '2018-05-18 06:09:14.000000000', 'files': ['masakari/tests/unit/test_hacking.py', 'masakari/tests/unit/utils.py', 'masakari/utils.py', 'masakari/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/8cb7bd33316d841a156f0d38de42ee6793f3e600', 'message': 'Trivial: Remove unused methods, classes\n\nThis patch removes unused methods and classes from the\nmasakari codebase.\n\nTrivialFix\n\nChange-Id: I12ee6c4fca5ab9c538bf39b7616d37d2174dc3df\n'}]",0,569330,8cb7bd33316d841a156f0d38de42ee6793f3e600,5,2,2,20191,,,0,"Trivial: Remove unused methods, classes

This patch removes unused methods and classes from the
masakari codebase.

TrivialFix

Change-Id: I12ee6c4fca5ab9c538bf39b7616d37d2174dc3df
",git fetch https://review.opendev.org/openstack/masakari refs/changes/30/569330/2 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/test_hacking.py', 'masakari/tests/unit/utils.py', 'masakari/utils.py', 'masakari/tests/unit/test_utils.py']",4,9ed8c55d7e2a666deefb761b3aced6d099188019,new,"class SpawnTestCase(test.NoDBTestCase): def setUp(self): super(SpawnTestCase, self).setUp() self.spawn_name = 'spawn' def test_spawn_no_context(self): def test_spawn_context(self): def test_spawn_context_different_from_passed(self):","class SpawnNTestCase(test.NoDBTestCase): def setUp(self): super(SpawnNTestCase, self).setUp() self.spawn_name = 'spawn_n' def test_spawn_n_no_context(self): def test_spawn_n_context(self): def test_spawn_n_context_different_from_passed(self):class SpawnTestCase(SpawnNTestCase): def setUp(self): super(SpawnTestCase, self).setUp() self.spawn_name = 'spawn' ",6,81
openstack%2Fopenstack-ansible~stable%2Fqueens~I5d98b90709d668f2042bd59238c924101c1d116b,openstack/openstack-ansible,stable/queens,I5d98b90709d668f2042bd59238c924101c1d116b,Be clear about python3: Remove its support,MERGED,2018-05-02 15:46:00.000000000,2018-05-18 06:43:09.000000000,2018-05-18 06:43:09.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24441}]","[{'number': 1, 'created': '2018-05-02 15:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0393cad85637cd1d93eb74f9ebb7e527216eaf2d', 'message': ""Be clear about python3: Remove it support.\n\nWe have never really tested python3 at large scale, and more and\nmore bugs are filed in stable branches due to dual stack.\n\nWe should stick to python2 in the stable branches, which is\nwhat was tested in our gates.\n\n- Python3 inventory testing isn't exercised anywhere and should\n  therefore be removed, because of its setting false expectations.\n- The bootstrap removed all references to python3, to ensure\n  python2 is always used.\n\nChange-Id: I5d98b90709d668f2042bd59238c924101c1d116b\n""}, {'number': 2, 'created': '2018-05-02 15:46:23.000000000', 'files': ['bindep.txt', 'scripts/bootstrap-ansible.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/933dabb4a6f8882123bdda49afbae7519c7ab442', 'message': ""Be clear about python3: Remove its support\n\nWe have never really tested python3 at large scale, and more and\nmore bugs are filed in stable branches due to dual stack.\n\nWe should stick to python2 in the stable branches, which is\nwhat was tested in our gates.\n\n- Python3 inventory testing isn't exercised anywhere and should\n  therefore be removed, because of its setting false expectations.\n- The bootstrap removed all references to python3, to ensure\n  python2 is always used.\n\nChange-Id: I5d98b90709d668f2042bd59238c924101c1d116b\n""}]",0,565809,933dabb4a6f8882123bdda49afbae7519c7ab442,22,6,2,17068,,,0,"Be clear about python3: Remove its support

We have never really tested python3 at large scale, and more and
more bugs are filed in stable branches due to dual stack.

We should stick to python2 in the stable branches, which is
what was tested in our gates.

- Python3 inventory testing isn't exercised anywhere and should
  therefore be removed, because of its setting false expectations.
- The bootstrap removed all references to python3, to ensure
  python2 is always used.

Change-Id: I5d98b90709d668f2042bd59238c924101c1d116b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/09/565809/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'scripts/bootstrap-ansible.sh', 'tox.ini']",3,0393cad85637cd1d93eb74f9ebb7e527216eaf2d,remove_python3,,[testenv:py3-inventory] basepython = python3.5 setenv = {[testenv:inventory]setenv} commands = {[testenv:inventory]commands} ,4,16
openstack%2Fkolla-ansible~master~I6fe83ca8628512fb51690df38b359a28b72e1f36,openstack/kolla-ansible,master,I6fe83ca8628512fb51690df38b359a28b72e1f36,Fix solum precheck,ABANDONED,2017-01-22 11:05:02.000000000,2018-05-18 06:41:57.000000000,,"[{'_account_id': 3}, {'_account_id': 22165}, {'_account_id': 24634}]","[{'number': 1, 'created': '2017-01-22 11:05:02.000000000', 'files': ['ansible/roles/haproxy/templates/haproxy.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c21d461abe29e31e7405bd9926575aa141e3567b', 'message': 'Fix solum precheck\n\nTrivialFix\nCloses-Bug: #1658452\n\nChange-Id: I6fe83ca8628512fb51690df38b359a28b72e1f36\n'}]",1,423798,c21d461abe29e31e7405bd9926575aa141e3567b,7,3,1,20663,,,0,"Fix solum precheck

TrivialFix
Closes-Bug: #1658452

Change-Id: I6fe83ca8628512fb51690df38b359a28b72e1f36
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/423798/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy/templates/haproxy.cfg.j2'],1,c21d461abe29e31e7405bd9926575aa141e3567b,bug/1658452,{% for host in groups['solum-api'] %}{% for host in groups['solum-api'] %}{% for host in groups['solum-api'] %}{% for host in groups['solum-api'] %},{% for host in groups['solum-application-deployment'] %}{% for host in groups['solum-image-builder'] %}{% for host in groups['solum-application-deployment'] %}{% for host in groups['solum-image-builder'] %},4,4
openstack%2Fopenstack-ansible-nspawn_hosts~master~I4f74364d0969363297b286ae8327291659d20a00,openstack/openstack-ansible-nspawn_hosts,master,I4f74364d0969363297b286ae8327291659d20a00,Update copy from host options,MERGED,2018-05-18 05:42:45.000000000,2018-05-18 06:28:39.000000000,2018-05-18 06:28:39.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 05:42:45.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/559987522a4b42cc41f5347a743600ec0fab8ee1', 'message': 'Update copy from host options\n\nThis change removes some more boiler plate and ensures all of the\nrequired files are copied into the base container image.\n\nChange-Id: I4f74364d0969363297b286ae8327291659d20a00\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,569331,559987522a4b42cc41f5347a743600ec0fab8ee1,6,2,1,7353,,,0,"Update copy from host options

This change removes some more boiler plate and ensures all of the
required files are copied into the base container image.

Change-Id: I4f74364d0969363297b286ae8327291659d20a00
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/31/569331/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml']",5,559987522a4b42cc41f5347a743600ec0fab8ee1,,"# default cache is created. This list is merged to create the list of files # to copy into the container base image which is captured under the # `nspawn_copy_from_host` option. nspawn_default_copy_from_host: - /etc/default/locale - /etc/environment - /etc/localtime - /etc/locale.conf - /etc/protocols nspawn_copy_from_host: ""{{ nspawn_default_copy_from_host | union(_nspawn_copy_from_host | default([])) }}""","# default cache is created.nspawn_copy_from_host: ""{{ _nspawn_copy_from_host | default([]) }}""",14,14
openstack%2Fcinder~master~I8b00686f5af5ba276f1bae49ae4a43d895ae29dc,openstack/cinder,master,I8b00686f5af5ba276f1bae49ae4a43d895ae29dc,[DNM] Cisco-CI-Experimental-Branch: adding_experimental_cinder_cisco-zonemanager,ABANDONED,2018-05-16 12:15:01.000000000,2018-05-18 06:26:24.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14208}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 28080}]","[{'number': 1, 'created': '2018-05-16 12:15:01.000000000', 'files': ['cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/efc62df73bfc10cb10cd47ce43b60e3c289d0617', 'message': '[DNM] Cisco-CI-Experimental-Branch: adding_experimental_cinder_cisco-zonemanager\n\nChange-Id: I8b00686f5af5ba276f1bae49ae4a43d895ae29dc\n'}]",0,568821,efc62df73bfc10cb10cd47ce43b60e3c289d0617,36,16,1,28080,,,0,"[DNM] Cisco-CI-Experimental-Branch: adding_experimental_cinder_cisco-zonemanager

Change-Id: I8b00686f5af5ba276f1bae49ae4a43d895ae29dc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/568821/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py'],1,efc62df73bfc10cb10cd47ce43b60e3c289d0617,," """"""Configuration specific to SAN context values"""""""," """"""Configuration specific to SAN context values.""""""",1,1
openstack%2Fironic~master~Ic7c61ce68319808ea7194fa8c656598a91b4394c,openstack/ironic,master,Ic7c61ce68319808ea7194fa8c656598a91b4394c,Change exception msg of BIOS caching,MERGED,2018-05-14 05:50:13.000000000,2018-05-18 06:25:43.000000000,2018-05-18 06:25:43.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 21151}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 05:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/21ebcc6a9b73023331aad56ba30469f55e6b3d6a', 'message': 'Indicate the continuation of cleaning steps in\nBIOS caching exception msg.\n\nChange-Id: Ic7c61ce68319808ea7194fa8c656598a91b4394c\nStory: #1712032\n'}, {'number': 2, 'created': '2018-05-16 04:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb77173aca62dd3b7c06a399315165452f8969f4', 'message': 'Change exception msg of BIOS caching\n\nIndicate the continuation of cleaning steps in\nBIOS caching exception msg.\n\nThis commit also fix the unit test coverage of\ntest__do_node_clean_cache_bios.\n\nChange-Id: Ic7c61ce68319808ea7194fa8c656598a91b4394c\nStory: #1712032\n'}, {'number': 3, 'created': '2018-05-16 06:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/19e2c3cfb76028d7cf26aa48fe2019bf64493a78', 'message': 'Change exception msg of BIOS caching\n\nIndicate the continuation of cleaning steps in\nBIOS caching exception msg.\n\nFix the unit test coverage for\ntest__do_node_clean_cache_bios.\n\nThis is a follow-up patch to address outstanding\ncomments in d01715321a484c24767f64edf77514b9609c279c\n\nChange-Id: Ic7c61ce68319808ea7194fa8c656598a91b4394c\nStory: #1712032\n'}, {'number': 4, 'created': '2018-05-17 02:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6f096395fbe4f7e7c0fcc58a3285085a010258a2', 'message': 'Change exception msg of BIOS caching\n\nIndicate the continuation of cleaning steps in\nBIOS caching exception msg.\n\nFix the unit test coverage for\ntest__do_node_clean_cache_bios.\n\nThis is a follow-up patch to address outstanding\ncomments in d01715321a484c24767f64edf77514b9609c279c\n\nChange-Id: Ic7c61ce68319808ea7194fa8c656598a91b4394c\nStory: #1712032\n'}, {'number': 5, 'created': '2018-05-17 09:43:40.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/af7c6c4c2411627885ea65095c400a8c658cb3d4', 'message': 'Change exception msg of BIOS caching\n\nIndicate the continuation of cleaning steps in\nBIOS caching exception msg.\n\nFix the unit test coverage for\ntest__do_node_clean_cache_bios.\n\nThis is a follow-up patch to address outstanding\ncomments in d01715321a484c24767f64edf77514b9609c279c\n\nChange-Id: Ic7c61ce68319808ea7194fa8c656598a91b4394c\nStory: #1712032\n'}]",20,568193,af7c6c4c2411627885ea65095c400a8c658cb3d4,50,11,5,21151,,,0,"Change exception msg of BIOS caching

Indicate the continuation of cleaning steps in
BIOS caching exception msg.

Fix the unit test coverage for
test__do_node_clean_cache_bios.

This is a follow-up patch to address outstanding
comments in d01715321a484c24767f64edf77514b9609c279c

Change-Id: Ic7c61ce68319808ea7194fa8c656598a91b4394c
Story: #1712032
",git fetch https://review.opendev.org/openstack/ironic refs/changes/93/568193/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/manager.py'],1,21ebcc6a9b73023331aad56ba30469f55e6b3d6a,bug/1712032, msg = (_('Caching of bios settings failed on node %(node)s. ' 'Continuing node cleaning anyway.'), msg = (_('Caching of bios settings failed on node %(node)s.'),2,1
openstack%2Fpuppet-ec2api~master~If004ddb1ed6567374f843bd3a71d81fab761d69b,openstack/puppet-ec2api,master,If004ddb1ed6567374f843bd3a71d81fab761d69b,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:26:16.000000000,2018-05-18 05:56:36.000000000,2018-05-11 15:11:35.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:26:16.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/3b296efc89dde09995d6ef4e997d0c3e3fb4db3b', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: If004ddb1ed6567374f843bd3a71d81fab761d69b\n'}]",0,567763,3b296efc89dde09995d6ef4e997d0c3e3fb4db3b,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: If004ddb1ed6567374f843bd3a71d81fab761d69b
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/63/567763/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,3b296efc89dde09995d6ef4e997d0c3e3fb4db3b,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-cinder~master~I4cd905ae4e3114ea6d6295d7dd50ccaa40d22e32,openstack/puppet-cinder,master,I4cd905ae4e3114ea6d6295d7dd50ccaa40d22e32,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:26:30.000000000,2018-05-18 05:56:34.000000000,2018-05-11 15:13:29.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:26:30.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/264886f674bf0ccc049b738b376d40411dbd727b', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: I4cd905ae4e3114ea6d6295d7dd50ccaa40d22e32\n'}]",0,567771,264886f674bf0ccc049b738b376d40411dbd727b,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: I4cd905ae4e3114ea6d6295d7dd50ccaa40d22e32
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/71/567771/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,264886f674bf0ccc049b738b376d40411dbd727b,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-barbican~master~I6be207d037209c16d291db02997e1ba337513f46,openstack/puppet-barbican,master,I6be207d037209c16d291db02997e1ba337513f46,Switch to www_authenticate_uri,MERGED,2018-05-11 06:43:41.000000000,2018-05-18 05:56:31.000000000,2018-05-11 15:13:42.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:43:41.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/a72f5c634d66ec7daea0b72c3a5363ae1985b9f6', 'message': 'Switch to www_authenticate_uri\n\nChange-Id: I6be207d037209c16d291db02997e1ba337513f46\n'}]",0,567780,a72f5c634d66ec7daea0b72c3a5363ae1985b9f6,8,3,1,11869,,,0,"Switch to www_authenticate_uri

Change-Id: I6be207d037209c16d291db02997e1ba337513f46
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/80/567780/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,a72f5c634d66ec7daea0b72c3a5363ae1985b9f6,fix-auth-uri, 'keystone_authtoken/auth_plugin': ensure => 'absent'; 'keystone_authtoken/auth_type': ensure => 'absent'; 'keystone_authtoken/www_authenticate_uri': ensure => 'absent'; 'keystone_authtoken/project_name': ensure => 'absent'; 'keystone_authtoken/username': ensure => 'absent'; 'keystone_authtoken/password': ensure => 'absent'; 'keystone_authtoken/user_domain_id': ensure => 'absent'; 'keystone_authtoken/project_domain_id': ensure => 'absent';, 'keystone_authtoken/auth_plugin': ensure => 'absent'; 'keystone_authtoken/auth_type': ensure => 'absent'; 'keystone_authtoken/auth_uri': ensure => 'absent'; 'keystone_authtoken/project_name': ensure => 'absent'; 'keystone_authtoken/username': ensure => 'absent'; 'keystone_authtoken/password': ensure => 'absent'; 'keystone_authtoken/user_domain_id': ensure => 'absent'; 'keystone_authtoken/project_domain_id': ensure => 'absent';,8,8
openstack%2Fpuppet-designate~master~I63433bd62a7d0e50f80f5e89795f2fcad1033305,openstack/puppet-designate,master,I63433bd62a7d0e50f80f5e89795f2fcad1033305,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:26:29.000000000,2018-05-18 05:56:00.000000000,2018-05-11 15:15:07.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:26:29.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/732a2221037fadf97d1164a54dd0e2f55aeb9e31', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: I63433bd62a7d0e50f80f5e89795f2fcad1033305\n'}]",0,567770,732a2221037fadf97d1164a54dd0e2f55aeb9e31,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: I63433bd62a7d0e50f80f5e89795f2fcad1033305
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/70/567770/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,732a2221037fadf97d1164a54dd0e2f55aeb9e31,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-nova~master~Ib3f4bdba0a7363e70c74305dfcdda68f907f6a70,openstack/puppet-nova,master,Ib3f4bdba0a7363e70c74305dfcdda68f907f6a70,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:26:26.000000000,2018-05-18 05:55:58.000000000,2018-05-11 15:17:21.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:26:26.000000000', 'files': ['manifests/keystone/authtoken.pp', 'manifests/metadata/novajoin/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0486a25b1d772ab1b1e61a575eaa1c97da5258d9', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: Ib3f4bdba0a7363e70c74305dfcdda68f907f6a70\n'}]",0,567767,0486a25b1d772ab1b1e61a575eaa1c97da5258d9,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: Ib3f4bdba0a7363e70c74305dfcdda68f907f6a70
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/67/567767/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/keystone/authtoken.pp', 'manifests/metadata/novajoin/authtoken.pp']",2,0486a25b1d772ab1b1e61a575eaa1c97da5258d9,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,2,2
openstack%2Fpuppet-panko~master~I0b87b1a3b2d4aadd0dabea9ac2983521f57907ca,openstack/puppet-panko,master,I0b87b1a3b2d4aadd0dabea9ac2983521f57907ca,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:25:52.000000000,2018-05-18 05:55:56.000000000,2018-05-11 15:17:36.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:25:52.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/1bb0c7aba4901135315f8f6b3e239d765890693a', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: I0b87b1a3b2d4aadd0dabea9ac2983521f57907ca\n'}]",0,567757,1bb0c7aba4901135315f8f6b3e239d765890693a,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: I0b87b1a3b2d4aadd0dabea9ac2983521f57907ca
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/57/567757/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,1bb0c7aba4901135315f8f6b3e239d765890693a,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-ironic~master~I69cad61c0e765bd82a2fc5f80ac506ce3c2fac39,openstack/puppet-ironic,master,I69cad61c0e765bd82a2fc5f80ac506ce3c2fac39,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:25:54.000000000,2018-05-18 05:55:54.000000000,2018-05-11 15:19:15.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:25:54.000000000', 'files': ['manifests/inspector/authtoken.pp', 'manifests/api/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/9be8befb75ed387ac1d025cc1dd34699770f4e4a', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: I69cad61c0e765bd82a2fc5f80ac506ce3c2fac39\n'}]",1,567759,9be8befb75ed387ac1d025cc1dd34699770f4e4a,9,4,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: I69cad61c0e765bd82a2fc5f80ac506ce3c2fac39
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/59/567759/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/inspector/authtoken.pp', 'manifests/api/authtoken.pp']",2,9be8befb75ed387ac1d025cc1dd34699770f4e4a,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,2,2
openstack%2Fpuppet-heat~master~I0b11fbe6228ca9e11de1d5f0038f48841e5e6c26,openstack/puppet-heat,master,I0b11fbe6228ca9e11de1d5f0038f48841e5e6c26,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:26:27.000000000,2018-05-18 05:55:52.000000000,2018-05-11 15:21:32.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:26:27.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/b8bb27afc9a57a6a83fe33fe1443c7c77f9633b1', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: I0b11fbe6228ca9e11de1d5f0038f48841e5e6c26\n'}]",0,567768,b8bb27afc9a57a6a83fe33fe1443c7c77f9633b1,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: I0b11fbe6228ca9e11de1d5f0038f48841e5e6c26
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/68/567768/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,b8bb27afc9a57a6a83fe33fe1443c7c77f9633b1,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-trove~master~I29279f0abed6ca3f0e3db66237c540ae73c21d98,openstack/puppet-trove,master,I29279f0abed6ca3f0e3db66237c540ae73c21d98,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:25:52.000000000,2018-05-18 05:55:50.000000000,2018-05-11 15:23:38.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:25:52.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/9fe546b7d05a7ae8461cbcc44ff7c125f8eaa24e', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: I29279f0abed6ca3f0e3db66237c540ae73c21d98\n'}]",0,567752,9fe546b7d05a7ae8461cbcc44ff7c125f8eaa24e,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: I29279f0abed6ca3f0e3db66237c540ae73c21d98
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/52/567752/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,9fe546b7d05a7ae8461cbcc44ff7c125f8eaa24e,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-neutron~master~I27bd9866120ecea8ca7e8f4c5e8a42b2df1a66f4,openstack/puppet-neutron,master,I27bd9866120ecea8ca7e8f4c5e8a42b2df1a66f4,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:26:04.000000000,2018-05-18 05:55:48.000000000,2018-05-11 15:24:23.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:26:04.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/81574ff532a894c271974fc7602cbb6f23b06328', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: I27bd9866120ecea8ca7e8f4c5e8a42b2df1a66f4\n'}]",0,567762,81574ff532a894c271974fc7602cbb6f23b06328,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: I27bd9866120ecea8ca7e8f4c5e8a42b2df1a66f4
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/62/567762/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,81574ff532a894c271974fc7602cbb6f23b06328,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-keystone~master~I6dca43f8b529e6084c6925add642657f6547992e,openstack/puppet-keystone,master,I6dca43f8b529e6084c6925add642657f6547992e,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:25:55.000000000,2018-05-18 05:55:46.000000000,2018-05-11 15:25:13.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:25:55.000000000', 'files': ['manifests/resource/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/7076a890663a609537a0b64d56b6a1fe17bab81f', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: I6dca43f8b529e6084c6925add642657f6547992e\n'}]",0,567760,7076a890663a609537a0b64d56b6a1fe17bab81f,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: I6dca43f8b529e6084c6925add642657f6547992e
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/60/567760/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/resource/authtoken.pp'],1,7076a890663a609537a0b64d56b6a1fe17bab81f,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-glance~master~I795fe98d9b0c1eaa92d53a127cbddacc7d86e48b,openstack/puppet-glance,master,I795fe98d9b0c1eaa92d53a127cbddacc7d86e48b,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:25:52.000000000,2018-05-18 05:55:45.000000000,2018-05-11 15:27:26.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:25:52.000000000', 'files': ['manifests/registry/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/a4325bd80f23d6018618db5a50187ab6766553d2', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: I795fe98d9b0c1eaa92d53a127cbddacc7d86e48b\n'}]",0,567755,a4325bd80f23d6018618db5a50187ab6766553d2,8,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: I795fe98d9b0c1eaa92d53a127cbddacc7d86e48b
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/55/567755/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/registry/authtoken.pp'],1,a4325bd80f23d6018618db5a50187ab6766553d2,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-gnocchi~master~I829da6d65dfc909be012d4d29e08fd1160670d37,openstack/puppet-gnocchi,master,I829da6d65dfc909be012d4d29e08fd1160670d37,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:25:52.000000000,2018-05-18 05:55:42.000000000,2018-05-11 16:34:15.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:25:52.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/ed78de5fdd7f5ca92c4f753195d6f5ad3080d820', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: I829da6d65dfc909be012d4d29e08fd1160670d37\n'}]",0,567753,ed78de5fdd7f5ca92c4f753195d6f5ad3080d820,10,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: I829da6d65dfc909be012d4d29e08fd1160670d37
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/53/567753/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,ed78de5fdd7f5ca92c4f753195d6f5ad3080d820,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fpuppet-zaqar~master~Iceff6ad742623e181c29dce01a726be5d34f5b23,openstack/puppet-zaqar,master,Iceff6ad742623e181c29dce01a726be5d34f5b23,neat: missing : in $::os_service_default,MERGED,2018-05-11 06:25:56.000000000,2018-05-18 05:55:40.000000000,2018-05-14 03:05:14.000000000,"[{'_account_id': 1004}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 06:25:56.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/596c91afe012240695b67d61aecfaefbb6726450', 'message': 'neat: missing : in $::os_service_default\n\nChange-Id: Iceff6ad742623e181c29dce01a726be5d34f5b23\n'}]",0,567761,596c91afe012240695b67d61aecfaefbb6726450,12,3,1,11869,,,0,"neat: missing : in $::os_service_default

Change-Id: Iceff6ad742623e181c29dce01a726be5d34f5b23
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/61/567761/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,596c91afe012240695b67d61aecfaefbb6726450,neat,# Defaults to $::os_service_default,# Defaults to $:os_service_default,1,1
openstack%2Fheat~stable%2Fqueens~I5afd5602096be54af5da256927fe828366dbd63b,openstack/heat,stable/queens,I5afd5602096be54af5da256927fe828366dbd63b,Retry resource check if atomic key incremented,MERGED,2018-05-03 08:21:11.000000000,2018-05-18 05:40:11.000000000,2018-05-18 05:40:11.000000000,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 23517}, {'_account_id': 27336}]","[{'number': 1, 'created': '2018-05-03 08:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b0cd6bd2a3d8724ef8e6f8fc8f7da10eea570a83', 'message': ""Retry resource check if atomic key incremented\n\nWhen updating a resource that hasn't changed, we didn't previously retry\nthe write when the atomic_key of the resource didn't match what we expect.\nIn addition to locking a resource to update it, the atomic key is also\nincremented when modifying metadata and storing cached attribute values.\nApparently there is some mechanism that can cause this to happen in the\ntime between when the resource is loaded and when we attempt to update the\ntemplate ID &c. in the DB.\n\nWhen the resource is not locked and its template ID hasn't changed since we\nloaded it, we can assume that the update failed due to a mismatched atomic\nkey alone. Handle this case by sending another resource-check RPC message,\nso that the operation check will be retried with fresh data from the DB.\n\nChange-Id: I5afd5602096be54af5da256927fe828366dbd63b\nCloses-Bug: #1763021\n(cherry picked from commit 22eb2e253822c176a1316a85317ceeec610ed140)\n""}, {'number': 2, 'created': '2018-05-07 14:10:30.000000000', 'files': ['heat/tests/engine/test_check_resource.py', 'heat/engine/check_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/108da6cba033113b2884033c344f79023c279bcf', 'message': ""Retry resource check if atomic key incremented\n\nWhen updating a resource that hasn't changed, we didn't previously retry\nthe write when the atomic_key of the resource didn't match what we expect.\nIn addition to locking a resource to update it, the atomic key is also\nincremented when modifying metadata and storing cached attribute values.\nApparently there is some mechanism that can cause this to happen in the\ntime between when the resource is loaded and when we attempt to update the\ntemplate ID &c. in the DB.\n\nWhen the resource is not locked and its template ID hasn't changed since we\nloaded it, we can assume that the update failed due to a mismatched atomic\nkey alone. Handle this case by sending another resource-check RPC message,\nso that the operation check will be retried with fresh data from the DB.\n\nChange-Id: I5afd5602096be54af5da256927fe828366dbd63b\nCloses-Bug: #1763021\nTask: #1763021\n(cherry picked from commit 22eb2e253822c176a1316a85317ceeec610ed140\n                       and 253ae6ce63acf944e669277df45915f6cc0a5cf4)\n""}]",1,565993,108da6cba033113b2884033c344f79023c279bcf,30,8,2,7385,,,0,"Retry resource check if atomic key incremented

When updating a resource that hasn't changed, we didn't previously retry
the write when the atomic_key of the resource didn't match what we expect.
In addition to locking a resource to update it, the atomic key is also
incremented when modifying metadata and storing cached attribute values.
Apparently there is some mechanism that can cause this to happen in the
time between when the resource is loaded and when we attempt to update the
template ID &c. in the DB.

When the resource is not locked and its template ID hasn't changed since we
loaded it, we can assume that the update failed due to a mismatched atomic
key alone. Handle this case by sending another resource-check RPC message,
so that the operation check will be retried with fresh data from the DB.

Change-Id: I5afd5602096be54af5da256927fe828366dbd63b
Closes-Bug: #1763021
Task: #1763021
(cherry picked from commit 22eb2e253822c176a1316a85317ceeec610ed140
                       and 253ae6ce63acf944e669277df45915f6cc0a5cf4)
",git fetch https://review.opendev.org/openstack/heat refs/changes/93/565993/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/engine/test_check_resource.py', 'heat/engine/check_resource.py']",2,b0cd6bd2a3d8724ef8e6f8fc8f7da10eea570a83,bug/1763021," def _stale_resource_needs_retry(self, cnxt, rsrc, prev_template_id): """"""Determine whether a resource needs retrying after failure to lock. Return True if we need to retry the check operation because of a failure to acquire the lock. This can be either because the engine holding the lock is no longer working, or because no other engine had locked the resource and the data was just out of date. In the former case, the lock will be stolen and the resource status changed to FAILED. """""" fields = {'current_template_id', 'engine_id'} rsrc.id, refresh=True, fields=fields) # set the resource state as failed status_reason = ('Worker went down ' 'during resource %s' % rsrc.action) rsrc.state_set(rsrc.action, rsrc.FAILED, six.text_type(status_reason)) elif (rs_obj.engine_id is None and rs_obj.current_template_id == prev_template_id): LOG.debug('Resource id=%d stale; retrying check') return True LOG.debug('Resource id=%d modified by another traversal') prev_template_id = rsrc.current_template_id if self._stale_resource_needs_retry(cnxt, rsrc, prev_template_id):"," def _try_steal_engine_lock(self, cnxt, resource_id): resource_id, fields=('engine_id', )) if self._try_steal_engine_lock(cnxt, rsrc.id): # set the resource state as failed status_reason = ('Worker went down ' 'during resource %s' % rsrc.action) rsrc.state_set(rsrc.action, rsrc.FAILED, six.text_type(status_reason))",65,24
openstack%2Frequirements~master~I7580fd6972ac47c12550957e2eb1ea95c3b7f777,openstack/requirements,master,I7580fd6972ac47c12550957e2eb1ea95c3b7f777,update constraint for keystoneauth1 to new release 3.6.2,MERGED,2018-05-17 14:59:03.000000000,2018-05-18 05:39:33.000000000,2018-05-18 05:39:33.000000000,"[{'_account_id': 2472}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 14:59:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ffbb3b4808f6667d2fb42fc7c194c4587309f230', 'message': 'update constraint for keystoneauth1 to new release 3.6.2\n\nChange-Id: I7580fd6972ac47c12550957e2eb1ea95c3b7f777\nmeta:version: 3.6.2\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: If68a57db92ee375b96de64df5a4206636f571670\nmeta:release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Code-Review+1: Lance Bragstad <lbragstad@gmail.com>\nmeta:release:Code-Review+1: kaka <huang.zhiping@99cloud.net>\nmeta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,569138,ffbb3b4808f6667d2fb42fc7c194c4587309f230,17,5,1,11131,,,0,"update constraint for keystoneauth1 to new release 3.6.2

Change-Id: I7580fd6972ac47c12550957e2eb1ea95c3b7f777
meta:version: 3.6.2
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: If68a57db92ee375b96de64df5a4206636f571670
meta:release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Code-Review+1: Lance Bragstad <lbragstad@gmail.com>
meta:release:Code-Review+1: kaka <huang.zhiping@99cloud.net>
meta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/38/569138/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ffbb3b4808f6667d2fb42fc7c194c4587309f230,new-release,keystoneauth1===3.6.2,keystoneauth1===3.6.1,1,1
openstack%2Frequirements~master~I2c0033cb9ec827e1465b652016488353b11befa9,openstack/requirements,master,I2c0033cb9ec827e1465b652016488353b11befa9,update constraint for os-brick to new release 2.5.0,MERGED,2018-05-17 21:14:48.000000000,2018-05-18 05:39:32.000000000,2018-05-18 05:39:32.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 21:14:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ab9766b9d93d3b189d98020329b8488fa229a5dd', 'message': 'update constraint for os-brick to new release 2.5.0\n\nChange-Id: I2c0033cb9ec827e1465b652016488353b11befa9\nmeta:version: 2.5.0\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Jay S. Bryant <jungleboyj@electronicjungle.net>\nmeta:release:Commit: Jay S. Bryant <jungleboyj@electronicjungle.net>\nmeta:release:Change-Id: I80caf5bcfb628bba5c437892ca95c48733288f4d\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,569259,ab9766b9d93d3b189d98020329b8488fa229a5dd,9,3,1,11131,,,0,"update constraint for os-brick to new release 2.5.0

Change-Id: I2c0033cb9ec827e1465b652016488353b11befa9
meta:version: 2.5.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Jay S. Bryant <jungleboyj@electronicjungle.net>
meta:release:Commit: Jay S. Bryant <jungleboyj@electronicjungle.net>
meta:release:Change-Id: I80caf5bcfb628bba5c437892ca95c48733288f4d
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/569259/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ab9766b9d93d3b189d98020329b8488fa229a5dd,new-release,os-brick===2.5.0,os-brick===2.4.0,1,1
openstack%2Fneutron-tempest-plugin~master~I3b6cc4888875000d6400758a15ea20ad59d39240,openstack/neutron-tempest-plugin,master,I3b6cc4888875000d6400758a15ea20ad59d39240,Tempest: Add l3-ha extension requirement for HA tests,MERGED,2018-05-02 06:58:42.000000000,2018-05-18 05:39:31.000000000,2018-05-18 05:39:31.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-05-02 06:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9d4db271b368f52e91682c584eb7ec65d22df489', 'message': 'Tempest: Skips HA tests if l3-ha not enabled\n\nChange-Id: I3b6cc4888875000d6400758a15ea20ad59d39240\nCloses-Bug: #1768209\n'}, {'number': 2, 'created': '2018-05-08 01:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f67d9919f9ca2fc5c5402094f2aab4056362a4bf', 'message': 'Tempest: Skips HA tests if l3-ha not enabled\n\nChange-Id: I3b6cc4888875000d6400758a15ea20ad59d39240\nCloses-Bug: #1768209\n'}, {'number': 3, 'created': '2018-05-08 04:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ac08affa5b7effdc94d0e17afcccfa5149102d0f', 'message': 'Tempest: Skips HA tests if l3-ha not enabled\n\nChange-Id: I3b6cc4888875000d6400758a15ea20ad59d39240\nCloses-Bug: #1768209\n'}, {'number': 4, 'created': '2018-05-08 07:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8bbff83de69fcaef3d50da78bcf650e5aa6dc5b1', 'message': 'Tempest: Skips HA tests if l3-ha not enabled\n\nChange-Id: I3b6cc4888875000d6400758a15ea20ad59d39240\nCloses-Bug: #1768209\n'}, {'number': 5, 'created': '2018-05-11 23:05:20.000000000', 'files': ['neutron_tempest_plugin/api/admin/test_routers_dvr.py', 'neutron_tempest_plugin/api/test_routers.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a71b834ab1719b7af5c6ee1cf8373c56b104fcde', 'message': 'Tempest: Add l3-ha extension requirement for HA tests\n\nChange-Id: I3b6cc4888875000d6400758a15ea20ad59d39240\nCloses-Bug: #1768209\n'}]",11,565654,a71b834ab1719b7af5c6ee1cf8373c56b104fcde,29,6,5,12860,,,0,"Tempest: Add l3-ha extension requirement for HA tests

Change-Id: I3b6cc4888875000d6400758a15ea20ad59d39240
Closes-Bug: #1768209
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/54/565654/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/api/admin/test_routers_dvr.py', 'neutron_tempest_plugin/api/test_routers.py']",2,9d4db271b368f52e91682c584eb7ec65d22df489,bug/1768209,"import testtools @testtools.skipUnless(tutils.is_extension_enabled('l3-ha', 'network'), 'HA routers are not available.')",,9,0
openstack%2Fopenstack-ansible~stable%2Fqueens~I00459b6803804b1ce4e9e629e75087620020ae16,openstack/openstack-ansible,stable/queens,I00459b6803804b1ce4e9e629e75087620020ae16,[Docs] Clarify the testing page,MERGED,2018-05-10 08:28:37.000000000,2018-05-18 05:24:13.000000000,2018-05-18 05:24:13.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-10 08:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/38193c70942474c3052fc4cdb1ccb8057b5dc469', 'message': '[Docs] Clarify the testing page\n\nMake sure the testing page reads like a story, and therefore\nthe local testing should be before the AIO testing.\n\nChange-Id: I00459b6803804b1ce4e9e629e75087620020ae16\n(cherry picked from commit 9afb93fe3b05756e3a4ee1ee7e0a6479fcb8d39c)\n'}, {'number': 2, 'created': '2018-05-11 15:59:13.000000000', 'files': ['doc/source/contributor/testing.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e5d8c236e7fd89e5d2111fd02b2323848419fbca', 'message': '[Docs] Clarify the testing page\n\nMake sure the testing page reads like a story, and therefore\nthe local testing should be before the AIO testing.\n\nChange-Id: I00459b6803804b1ce4e9e629e75087620020ae16\n(cherry picked from commit 9afb93fe3b05756e3a4ee1ee7e0a6479fcb8d39c)\n'}]",0,567512,e5d8c236e7fd89e5d2111fd02b2323848419fbca,9,3,2,17068,,,0,"[Docs] Clarify the testing page

Make sure the testing page reads like a story, and therefore
the local testing should be before the AIO testing.

Change-Id: I00459b6803804b1ce4e9e629e75087620020ae16
(cherry picked from commit 9afb93fe3b05756e3a4ee1ee7e0a6479fcb8d39c)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/12/567512/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testing.rst'],1,38193c70942474c3052fc4cdb1ccb8057b5dc469,reorder_testing_for_clarity-stable/queens,".. _devel_and_testing: Running tests locally ===================== Linting ------- Python coding conventions are tested using `PEP8`_, with the following convention exceptions: * F403 - 'from ansible.module_utils.basic import \*' Testing may be done locally by executing: .. code-block:: bash ./run_tests.sh pep8 Bash coding conventions are tested using `Bashate`_, with the following convention exceptions: * E003: Indent not multiple of 4. We prefer to use multiples of 2 instead. * E006: Line longer than 79 columns. As many scripts are deployed as templates and use jinja templating, this is very difficult to achieve. It is still considered a preference and should be a goal to improve readability, within reason. * E040: Syntax error determined using `bash -n`. As many scripts are deployed as templates and use jinja templating, this will often fail. This test is reasonably safely ignored as the syntax error will be identified when executing the resulting script. Testing may be done locally by executing: .. code-block:: bash ./run_tests.sh bashate Ansible is lint tested using `ansible-lint`_. Testing may be done locally by executing: .. code-block:: bash ./run_tests.sh ansible-lint Ansible playbook syntax is tested using ansible-playbook. Testing may be done locally by executing: .. code-block:: bash ./run_tests.sh ansible-syntax A consolidated set of all lint tests may be done locally by executing: .. code-block:: bash ./run_tests.sh linters .. _PEP8: https://www.python.org/dev/peps/pep-0008/ .. _Bashate: https://git.openstack.org/cgit/openstack-dev/bashate .. _ansible-lint: https://github.com/willthames/ansible-lint Documentation building ---------------------- Documentation is developed in reStructuredText_ (RST) and compiled into HTML using Sphinx. Documentation may be built locally by executing: .. code-block:: bash ./run_tests.sh docs .. _reStructuredText: http://docutils.sourceforge.net/rst.html The OpenStack-Ansible integrated repo also has an extra documentation building process, to build the deployment guide. This guide may be built locally by executing: .. code-block:: bash ./run_tests.sh deploy-guide Release notes building ---------------------- Release notes are generated using the `the reno tool`_ and compiled into HTML using Sphinx. Release notes may be built locally by executing: .. code-block:: bash ./run_tests.sh releasenotes .. _the reno tool: https://docs.openstack.org/developer/reno/usage.html .. note:: The ``releasenotes`` build argument only tests committed changes. Ensure your local changes are committed before running the ``releasenotes`` build. Roles functional or scenario testing ------------------------------------ To run a functional test of the role, execute: .. code-block:: bash ./run_tests.sh functional Some roles have extra tests, like neutron, defined in ``tox.ini``. To run a functional test named ""calico"", execute: .. code-block:: bash ./run_tests.sh calico "," .. _devel_and_testing: Running tests locally ===================== Linting ------- Python coding conventions are tested using `PEP8`_, with the following convention exceptions: * F403 - 'from ansible.module_utils.basic import \*' Testing may be done locally by executing: .. code-block:: bash ./run_tests.sh pep8 Bash coding conventions are tested using `Bashate`_, with the following convention exceptions: * E003: Indent not multiple of 4. We prefer to use multiples of 2 instead. * E006: Line longer than 79 columns. As many scripts are deployed as templates and use jinja templating, this is very difficult to achieve. It is still considered a preference and should be a goal to improve readability, within reason. * E040: Syntax error determined using `bash -n`. As many scripts are deployed as templates and use jinja templating, this will often fail. This test is reasonably safely ignored as the syntax error will be identified when executing the resulting script. Testing may be done locally by executing: .. code-block:: bash ./run_tests.sh bashate Ansible is lint tested using `ansible-lint`_. Testing may be done locally by executing: .. code-block:: bash ./run_tests.sh ansible-lint Ansible playbook syntax is tested using ansible-playbook. Testing may be done locally by executing: .. code-block:: bash ./run_tests.sh ansible-syntax A consolidated set of all lint tests may be done locally by executing: .. code-block:: bash ./run_tests.sh linters .. _PEP8: https://www.python.org/dev/peps/pep-0008/ .. _Bashate: https://git.openstack.org/cgit/openstack-dev/bashate .. _ansible-lint: https://github.com/willthames/ansible-lint Documentation building ---------------------- Documentation is developed in reStructuredText_ (RST) and compiled into HTML using Sphinx. Documentation may be built locally by executing: .. code-block:: bash ./run_tests.sh docs .. _reStructuredText: http://docutils.sourceforge.net/rst.html Deployment guide building ^^^^^^^^^^^^^^^^^^^^^^^^^ The OpenStack-Ansible integrated repo also has an extra documentation building process, to build the deployment guide. This guide may be built locally by executing: .. code-block:: bash ./run_tests.sh deploy-guide Release notes building ---------------------- Release notes are generated using the `the reno tool`_ and compiled into HTML using Sphinx. Release notes may be built locally by executing: .. code-block:: bash ./run_tests.sh releasenotes .. _the reno tool: https://docs.openstack.org/developer/reno/usage.html .. note:: The ``releasenotes`` build argument only tests committed changes. Ensure your local changes are committed before running the ``releasenotes`` build. Roles functional or scenario testing ------------------------------------ To run a functional test of the role, execute: .. code-block:: bash ./run_tests.sh functional Some roles have extra tests, like neutron, defined in ``tox.ini``. To run a functional test named ""calico"", execute: .. code-block:: bash ./run_tests.sh calico ",124,128
openstack%2Fopenstack-helm-infra~master~I68ddffd4db6dab7e7ecc00adcdafc110279dee37,openstack/openstack-helm-infra,master,I68ddffd4db6dab7e7ecc00adcdafc110279dee37,improvements/fixes for openstack dashboards for grafana,MERGED,2018-04-19 22:19:53.000000000,2018-05-18 05:15:10.000000000,2018-05-18 05:15:10.000000000,"[{'_account_id': 17591}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-04-19 22:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2891d6564cf4942302f72d442da479ee9871bb77', 'message': 'improvements/fixes for openstack dashboards for grafana\n\nChange-Id: I68ddffd4db6dab7e7ecc00adcdafc110279dee37\n'}, {'number': 2, 'created': '2018-04-23 15:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/77c977b9e1038abec01894751430e14215e603a5', 'message': 'improvements/fixes for openstack dashboards for grafana\n\nChange-Id: I68ddffd4db6dab7e7ecc00adcdafc110279dee37\n'}, {'number': 3, 'created': '2018-05-11 20:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d91d640cc83a9ef9cf21d046eb9b449d1d8b69c9', 'message': 'improvements/fixes for openstack dashboards for grafana\n\nChange-Id: I68ddffd4db6dab7e7ecc00adcdafc110279dee37\n'}, {'number': 4, 'created': '2018-05-14 20:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4bae63ba53fb07838c0a0b336b2902a22b76370a', 'message': 'improvements/fixes for openstack dashboards for grafana\n\nChange-Id: I68ddffd4db6dab7e7ecc00adcdafc110279dee37\n'}, {'number': 5, 'created': '2018-05-14 20:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1f523a451b8d5f59d646ec3118c2720e7553406c', 'message': 'improvements/fixes for openstack dashboards for grafana\n\nChange-Id: I68ddffd4db6dab7e7ecc00adcdafc110279dee37\n'}, {'number': 6, 'created': '2018-05-15 17:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/81ea55529141298e3bcfd0ec48ea7333e67f5568', 'message': 'improvements/fixes for openstack dashboards for grafana\n\nChange-Id: I68ddffd4db6dab7e7ecc00adcdafc110279dee37\n'}, {'number': 7, 'created': '2018-05-15 17:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/89484660295e8fd4665fa94a68463a131274bca7', 'message': 'improvements/fixes for openstack dashboards for grafana\n\nChange-Id: I68ddffd4db6dab7e7ecc00adcdafc110279dee37\n'}, {'number': 8, 'created': '2018-05-15 20:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b041866a72df45637d40faceaa169964498e35df', 'message': 'improvements/fixes for openstack dashboards for grafana\n\nChange-Id: I68ddffd4db6dab7e7ecc00adcdafc110279dee37\n'}, {'number': 9, 'created': '2018-05-16 21:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8c9b2494e3cf89a1c3d2b909cb4847254c0b1b1b', 'message': 'improvements/fixes for openstack dashboards for grafana\n\nChange-Id: I68ddffd4db6dab7e7ecc00adcdafc110279dee37\n'}, {'number': 10, 'created': '2018-05-17 12:55:07.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ea1b738ae4ba73857e718f116b332a9e71d9f69', 'message': 'improvements/fixes for openstack dashboards for grafana\n\nChange-Id: I68ddffd4db6dab7e7ecc00adcdafc110279dee37\n'}]",0,562852,7ea1b738ae4ba73857e718f116b332a9e71d9f69,31,6,10,18503,,,0,"improvements/fixes for openstack dashboards for grafana

Change-Id: I68ddffd4db6dab7e7ecc00adcdafc110279dee37
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/52/562852/9 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,2891d6564cf4942302f72d442da479ee9871bb77,os_services_dashboard," - dashboard: Openstack Service dashUri: ""file/openstack-service.json"" params: var-Service=keystone title: Openstack Service expr: openstack_check_keystone_api{job=""openstack-metrics"", region=""$region""} - dashboard: Openstack Service dashUri: ""file/openstack-service.json"" params: var-Service=glance title: Openstack Service expr: openstack_check_glance_api{job=""openstack-metrics"", region=""$region""} - dashboard: Openstack Service dashUri: ""file/openstack-service.json"" params: var-Service=heat title: Openstack Service expr: openstack_check_heat_api{job=""openstack-metrics"", region=""$region""} - dashboard: Openstack Service dashUri: ""file/openstack-service.json"" params: var-Service=neutron title: Openstack Service expr: openstack_check_neutron_api{job=""openstack-metrics"", region=""$region""} id: 20 - dashboard: Openstack Service dashUri: ""file/openstack-service.json"" params: var-Service=nova title: Openstack Service expr: openstack_check_nova_api{job=""openstack-metrics"", region=""$region""} id: 19 - dashboard: Openstack Service dashUri: ""file/openstack-service.json"" params: var-Service=swift title: Openstack Service expr: openstack_check_swift_api{job=""openstack-metrics"", region=""$region""} - rgba(200, 54, 35, 0.88) - rgba(118, 245, 40, 0.73) - rgba(225, 177, 40, 0.59) format: none id: 18 interval: ""> 60s"" links: - dashboard: Openstack Service dashUri: ""file/openstack-service.json"" params: var-Service=cinder title: Openstack Service condition: '' expr: openstack_check_cinder_api{job=""openstack-metrics"", region=""$region""} groupby_field: '' step: 120 thresholds: '1,2' title: Cinder type: singlestat valueFontSize: 50% valueMaps: - op: ""="" text: no data value: 'null' - op: ""="" text: CRIT value: '0' - op: ""="" text: OK value: '1' - op: ""="" text: UNKW value: '2' valueName: current - cacheTimeout: colorBackground: true colorValue: false colors: - rgba(200, 54, 35, 0.88) - rgba(118, 245, 40, 0.73) - rgba(225, 177, 40, 0.59) datasource: prometheus editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true id: 17 interval: ""> 60s"" links: - dashboard: Openstack Service dashUri: ""file/openstack-service.json"" name: Drilldown dashboard params: var-Service=placement title: Openstack Service type: dashboard mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 1 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: openstack_check_placement_api{job=""openstack-metrics"", region=""$region""} fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '1,2' title: Placement type: singlestat valueFontSize: 50% valueMaps: - op: ""="" text: no data value: 'null' - op: ""="" text: CRIT value: '0' - op: ""="" text: OK value: '1' - op: ""="" text: UNKW value: '2' valueName: current - cacheTimeout: colorBackground: true colorValue: false colors: - rgba(208, 53, 34, 0.82) - rgba(118, 245, 40, 0.73) - rgba(225, 177, 40, 0.59) datasource: prometheus editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true id: 16 interval: ""> 60s"" links: - dashboard: RabbitMQ Metrics name: Drilldown dashboard title: RabbitMQ Metrics type: dashboard mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 1 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: min(rabbitmq_up) fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '1,2' text: CRIT text: OK - rgba(208, 53, 34, 0.82) - rgba(118, 245, 40, 0.73) - rgba(225, 177, 40, 0.59) format: none interval: ""> 60s"" links: - dashboard: MariaDB title: MariaDB condition: '' expr: min(mysql_global_status_wsrep_ready) format: time_series groupby_field: '' intervalFactor: 2 step: 120 thresholds: '1,2' title: MariaDB text: CRIT text: OK - rgba(225, 177, 40, 0.59) - rgba(208, 53, 34, 0.82) - rgba(118, 245, 40, 0.73) format: none id: 14 interval: ""> 60s"" links: - dashboard: Nginx Stats title: Nginx Stats mappingType: 2 - from: '1' text: OK to: '99999999999999' - from: '0' text: CRIT to: '0' condition: '' expr: sum_over_time(nginx_connections_total{type=""active"", namespace=""openstack""}[5m]) format: time_series groupby_field: '' intervalFactor: 2 step: 120 thresholds: '0,1' title: Nginx - rgba(208, 53, 34, 0.82) - rgba(118, 245, 40, 0.73) - rgba(225, 177, 40, 0.59) format: none id: 13 interval: ""> 60s"" links: - dashboard: Memcached condition: '' expr: min(memcached_up) format: time_series groupby_field: '' intervalFactor: 2 step: 120 thresholds: '1,2' title: Memcached text: CRIT text: OK fill: 1 linewidth: 3 expr: openstack_total_used_vcpus{job=""openstack-metrics"", region=""$region""} + openstack_total_free_vcpus{job=""openstack-metrics"", expr: openstack_total_used_vcpus{job=""openstack-metrics"", region=""$region""} fill: 1 linewidth: 3 expr: openstack_total_used_ram_MB{job=""openstack-metrics"", region=""$region""} + openstack_total_free_ram_MB{job=""openstack-metrics"", expr: openstack_total_used_ram_MB{job=""openstack-metrics"", region=""$region""} fill: 1 linewidth: 3 expr: openstack_total_used_disk_GB{job=""openstack-metrics"", region=""$region""} + openstack_total_free_disk_GB{job=""openstack-metrics"", expr: openstack_total_used_disk_GB{job=""openstack-metrics"", region=""$region""} title: Virtual resources title: Openstack Main - name: prometheus datasource: prometheus datasource: prometheus datasource: prometheus datasource: prometheus datasource: prometheus datasource: prometheus datasource: prometheus datasource: prometheus datasource: prometheus openstack-service: __inputs: - name: prometheus label: prometheus description: '' type: datasource pluginId: prometheus pluginName: Prometheus __requires: - type: grafana id: grafana name: Grafana version: 4.5.2 - type: panel id: graph name: Graph version: '' - type: datasource id: prometheus name: Prometheus version: 1.0.0 - type: panel id: singlestat name: Singlestat version: '' annotations: enable: true list: [] editable: true gnetId: graphTooltip: 1 hideControls: false id: links: [] refresh: 1m rows: - collapse: false height: 250px panels: - cacheTimeout: colorBackground: true colorValue: false colors: - rgba(225, 177, 40, 0.59) - rgba(200, 54, 35, 0.88) - rgba(118, 245, 40, 0.73) datasource: ""prometheus"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true id: 6 interval: ""> 60s"" links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 2 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: openstack_check_[[Service]]_api{job=""openstack-metrics""} fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '0,1' title: '' type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: CRITICAL value: '0' - op: ""="" text: OK value: '1' valueName: current - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(200, 54, 35, 0.88) - rgba(118, 245, 40, 0.73) - rgba(225, 177, 40, 0.59) datasource: ""prometheus"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true id: 13 interval: ""> 60s"" links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 2 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - column: value condition: '' expr: sum(nginx_responses_total{server_zone=~""[[Service]].*"", status_code=""5xx""}) fill: '' format: time_series function: count groupBy: - interval: auto params: - auto type: time - params: - '0' type: fill groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 tags: [] thresholds: '' title: HTTP 5xx errors type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: '0' value: 'null' valueName: current - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 0 grid: {} id: 7 interval: "">60s"" legend: alignAsTable: true avg: true current: false max: true min: true show: true sortDesc: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 8 stack: false steppedLine: false targets: - expr: sum(nginx_upstream_response_msecs_avg{upstream=~""openstack-[[Service]].*""}) by (upstream) format: time_series intervalFactor: 2 refId: A step: 120 thresholds: [] timeFrom: timeShift: title: HTTP response time tooltip: msResolution: false shared: true sort: 0 value_type: cumulative type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: s logBase: 1 max: min: 0 show: true - format: short logBase: 1 max: min: 0 show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} id: 9 interval: ""> 60s"" legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 2 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 4 stack: false steppedLine: true targets: - alias: healthy column: value expr: openstack_check_[[Service]]_api format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - '0' type: fill groupByTags: [] intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series select: [] step: 120 tags: [] thresholds: [] timeFrom: timeShift: title: API Availability tooltip: msResolution: false shared: false sort: 0 value_type: cumulative type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: none label: '' logBase: 1 max: 1 min: 0 show: false - format: short logBase: 1 max: min: show: false - aliasColors: '{status_code=""2xx""}': ""#629E51"" '{status_code=""5xx""}': ""#BF1B00"" bars: true dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 0 grid: {} id: 8 interval: ""> 60s"" legend: alignAsTable: false avg: false current: false hideEmpty: false max: false min: false rightSide: false show: true total: false values: false lines: false linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 8 stack: true steppedLine: false targets: - expr: sum(nginx_responses_total{server_zone=~""[[Service]].*""}) by (status_code) format: time_series intervalFactor: 2 refId: A step: 120 thresholds: [] timeFrom: timeShift: title: Number of HTTP responses tooltip: msResolution: false shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short logBase: 1 max: min: 0 show: true - format: short logBase: 1 max: min: show: true repeat: repeatIteration: repeatRowId: showTitle: true title: Service Status titleSize: h6 schemaVersion: 14 style: dark tags: [] templating: enable: true list: - allValue: current: tags: [] text: cinder value: cinder hide: 0 includeAll: false label: multi: false name: Service options: - selected: false text: nova value: nova - selected: false text: glance value: glance - selected: false text: keystone value: keystone - selected: true text: cinder value: cinder - selected: false text: ceph value: ceph - selected: false text: heat value: heat - selected: false text: placement value: placement - selected: false text: neutron value: neutron query: nova,glance,keystone,cinder,ceph,heat,placement,neutron type: custom time: from: now-1h to: now timepicker: collapse: false enable: true notice: false now: true refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d status: Stable time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d type: timepicker timezone: browser title: Openstack Service version: 4"," - dashboard: Keystone title: Keystone dsType: influxdb expr: check_keystone_api{job=""openstack-metrics"", region=""$region""} - dashboard: Glance title: Glance dsType: influxdb expr: check_glance_api{job=""openstack-metrics"", region=""$region""} - dashboard: Heat title: Heat dsType: influxdb expr: check_heat_api{job=""openstack-metrics"", region=""$region""} - dashboard: Neutron title: Neutron dsType: influxdb expr: check_neutron_api{job=""openstack-metrics"", region=""$region""} id: 5 - dashboard: Nova title: Nova dsType: influxdb expr: check_nova_api{job=""openstack-metrics"", region=""$region""} id: 25 - dashboard: Ceph title: Ceph dsType: influxdb expr: check_swift_api{job=""openstack-metrics"", region=""$region""} - content: '' editable: true error: false id: 20 links: [] mode: markdown span: 1 style: {} title: '' type: text - rgba(71, 212, 59, 0.4) - rgba(245, 150, 40, 0.73) - rgba(225, 40, 40, 0.59) format: short id: 16 interval: "">60s"" links: - dashboard: RabbitMQ title: RabbitMQ dsType: influxdb expr: '' thresholds: '' text: OKAY text: WARN - op: ""="" text: CRIT value: '3' - op: ""="" text: DOWN value: '4' - rgba(71, 212, 59, 0.4) - rgba(245, 150, 40, 0.73) - rgba(225, 40, 40, 0.59) format: short interval: "">60s"" links: - dashboard: MySQL title: MySQL dsType: influxdb thresholds: '' title: MySQL text: OKAY text: WARN - op: ""="" text: CRIT value: '3' - op: ""="" text: DOWN value: '4' - rgba(71, 212, 59, 0.4) - rgba(245, 150, 40, 0.73) - rgba(225, 40, 40, 0.59) format: short id: 18 interval: "">60s"" links: - dashUri: db/apache dashboard: Apache title: Apache mappingType: 1 - from: 'null' text: N/A to: 'null' dsType: influxdb thresholds: '' title: Apache valueMaps: - op: ""="" text: no data value: 'null' - op: ""="" text: OKAY value: '0' - op: ""="" text: WARN value: '1' - op: ""="" text: UNKW value: '2' - op: ""="" text: CRIT value: '3' - op: ""="" text: DOWN value: '4' - rgba(71, 212, 59, 0.4) - rgba(245, 150, 40, 0.73) - rgba(225, 40, 40, 0.59) format: short id: 10 interval: "">60s"" links: - dashUri: db/haproxy dashboard: HAProxy name: Drilldown dashboard title: HAProxy type: dashboard mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 1 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value dsType: influxdb fill: '' function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] interval: '' policy: default rawQuery: false refId: A resultFormat: time_series thresholds: '' title: haproxy type: singlestat valueFontSize: 50% valueMaps: - op: ""="" text: no data value: 'null' - op: ""="" text: OKAY value: '0' - op: ""="" text: WARN value: '1' - op: ""="" text: UNKW value: '2' - op: ""="" text: CRIT value: '3' - op: ""="" text: DOWN value: '4' valueName: current - cacheTimeout: colorBackground: true colorValue: false colors: - rgba(71, 212, 59, 0.4) - rgba(245, 150, 40, 0.73) - rgba(225, 40, 40, 0.59) datasource: prometheus editable: true error: false format: short gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true id: 17 interval: "">60s"" links: - dashUri: db/memcached dashboard: Memcached dsType: influxdb thresholds: '' title: memcached text: OKAY text: WARN - op: ""="" text: CRIT value: '3' - op: ""="" text: DOWN value: '4' fill: 0 linewidth: 1 dsType: influxdb expr: total_used_vcpus{job=""openstack-metrics"", region=""$region""} + total_free_vcpus{job=""openstack-metrics"", dsType: influxdb expr: total_used_vcpus{job=""openstack-metrics"", region=""$region""} fill: 0 linewidth: 1 dsType: influxdb expr: total_used_ram_MB{job=""openstack-metrics"", region=""$region""} + total_free_ram_MB{job=""openstack-metrics"", dsType: influxdb expr: total_used_ram_MB{job=""openstack-metrics"", region=""$region""} fill: 0 linewidth: 1 dsType: influxdb expr: total_used_disk_GB{job=""openstack-metrics"", region=""$region""} + total_free_disk_GB{job=""openstack-metrics"", dsType: influxdb expr: total_used_disk_GB{job=""openstack-metrics"", region=""$region""} title: Virtual compute resources title: Openstack Main1 - name: DS_PROMETHEUS datasource: ""${DS_PROMETHEUS}"" datasource: ""${DS_PROMETHEUS}"" datasource: ""${DS_PROMETHEUS}"" datasource: ""${DS_PROMETHEUS}"" datasource: ""${DS_PROMETHEUS}"" datasource: ""${DS_PROMETHEUS}"" datasource: ""${DS_PROMETHEUS}"" datasource: ""${DS_PROMETHEUS}"" datasource: ""${DS_PROMETHEUS}""",808,248
openstack%2Fopenstack-ansible-nspawn_hosts~master~I3a4d15c6c85bb675770f918c24830457e1e206af,openstack/openstack-ansible-nspawn_hosts,master,I3a4d15c6c85bb675770f918c24830457e1e206af,add container tests with the host role,MERGED,2018-05-18 00:22:12.000000000,2018-05-18 05:10:08.000000000,2018-05-18 05:10:08.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 00:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/79e5bf714adfae05a95fd26589ed536e3b71bd6f', 'message': 'add container tests with the host role\n\nDepends-On: I732766c759d72783ff4680733de7ab9f50125e81\nChange-Id: I3a4d15c6c85bb675770f918c24830457e1e206af\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-05-18 02:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/b86cb898ed69eb0eba545584fbb69c19653add90', 'message': 'add container tests with the host role\n\nDepends-On: I732766c759d72783ff4680733de7ab9f50125e81\nChange-Id: I3a4d15c6c85bb675770f918c24830457e1e206af\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-05-18 03:53:26.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/ad6ebf3b3ab60c4ed7accd74aaeb01eb6eb79e27', 'message': 'add container tests with the host role\n\nDepends-On: I732766c759d72783ff4680733de7ab9f50125e81\nChange-Id: I3a4d15c6c85bb675770f918c24830457e1e206af\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,569293,ad6ebf3b3ab60c4ed7accd74aaeb01eb6eb79e27,10,2,3,7353,,,0,"add container tests with the host role

Depends-On: I732766c759d72783ff4680733de7ab9f50125e81
Change-Id: I3a4d15c6c85bb675770f918c24830457e1e206af
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/93/569293/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,79e5bf714adfae05a95fd26589ed536e3b71bd6f,container-tests-in-host, - openstack-ansible-nspawn-centos-7 - openstack-ansible-nspawn-opensuse-423 - openstack-ansible-nspawn-ubuntu-xenial, # - openstack-ansible-nspawn-centos-7 # - openstack-ansible-nspawn-opensuse-423 # - openstack-ansible-nspawn-ubuntu-xenial,3,3
openstack%2Fopenstack-ansible~master~I43d7f563a3c5cfb2cf4a28e41f88ab61ad8dd5f7,openstack/openstack-ansible,master,I43d7f563a3c5cfb2cf4a28e41f88ab61ad8dd5f7,Remove the package cache update,ABANDONED,2018-05-15 15:12:13.000000000,2018-05-18 05:04:17.000000000,,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-15 15:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f29cc20fc54c8eeb1223c7c307c7173c6ad50b1', 'message': 'Change to using the package module instead of apt\n\nWhen the package-cache-proxy is setup use the ""package"" module\ninstead of the ""apt"" module so that we\'re updating the cache\nas needed in a more universal way.\n\nChange-Id: I43d7f563a3c5cfb2cf4a28e41f88ab61ad8dd5f7\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-05-15 15:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/af6d2c5e99a082e698d28eb8c5e6b0945e163c2b', 'message': 'Change to using the package module instead of apt\n\nWhen the package-cache-proxy is setup use the ""package"" module\ninstead of the ""apt"" module so that we\'re updating the cache\nas needed in a more universal way.\n\nChange-Id: I43d7f563a3c5cfb2cf4a28e41f88ab61ad8dd5f7\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-05-15 15:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f206dfeaca8cb0e056ded310045fbc0eef2f06b5', 'message': 'Change to using the package module instead of apt\n\nWhen the package-cache-proxy is setup use the ""package"" module\ninstead of the ""apt"" module so that we\'re updating the cache\nas needed in a more universal way.\n\nChange-Id: I43d7f563a3c5cfb2cf4a28e41f88ab61ad8dd5f7\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-05-15 16:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3fa8865b6732b691dfc0025e2b360e3b9da0b108', 'message': 'Change to using the package module instead of apt\n\nWhen the package-cache-proxy is setup use the ""package"" module\ninstead of the ""apt"" module so that we\'re updating the cache\nas needed in a more universal way.\n\nChange-Id: I43d7f563a3c5cfb2cf4a28e41f88ab61ad8dd5f7\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-05-15 17:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c2c35bf9fddcc11da061991db0184c9252589f46', 'message': 'Remove the package cache update\n\nThe package cache update is fairly redundant and not needed given the\nfact we update the cache in a lot of other places.\n\nChange-Id: I43d7f563a3c5cfb2cf4a28e41f88ab61ad8dd5f7\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-05-17 03:34:26.000000000', 'files': ['playbooks/common-tasks/package-cache-proxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f7da3cac26f08a5d4fae257ae81e1119251e0eab', 'message': 'Remove the package cache update\n\nThe package cache update is fairly redundant and not needed given the\nfact we update the cache in a lot of other places.\n\nChange-Id: I43d7f563a3c5cfb2cf4a28e41f88ab61ad8dd5f7\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",7,568615,f7da3cac26f08a5d4fae257ae81e1119251e0eab,19,4,6,7353,,,0,"Remove the package cache update

The package cache update is fairly redundant and not needed given the
fact we update the cache in a lot of other places.

Change-Id: I43d7f563a3c5cfb2cf4a28e41f88ab61ad8dd5f7
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/15/568615/6 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/package-cache-proxy.yml'],1,9f29cc20fc54c8eeb1223c7c307c7173c6ad50b1,,"- name: Update package cache as needed package: update_cache: ""{{ (ansible_pkg_mgr in ['apt', 'zypper']) | ternary('yes', omit) }}"" cache_valid_time: ""{{ (ansible_pkg_mgr == 'apt') | ternary(cache_timeout, omit) }}"" when: - ansible_pkg_mgr in ['apt', 'zypper']",- name: Update apt when proxy is added/removed apt: update_cache: yes retries: 5 delay: 2 when: - (_apt_proxy_added is mapping and _apt_proxy_added | changed) or (_apt_proxy_removed is mapping and _apt_proxy_removed | changed) tags: - common-proxy,5,9
openstack%2Ftripleo-ci~master~I36c9f972dc2b77138d9b17ede70175125e417f07,openstack/tripleo-ci,master,I36c9f972dc2b77138d9b17ede70175125e417f07,CI test - never merge,ABANDONED,2018-05-18 04:04:20.000000000,2018-05-18 04:56:14.000000000,,[],"[{'number': 1, 'created': '2018-05-18 04:04:20.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/50311f6d848221b3988e08832efedbdefacf1230', 'message': 'CI test - never merge\n\nChange-Id: I36c9f972dc2b77138d9b17ede70175125e417f07\n'}]",0,569319,50311f6d848221b3988e08832efedbdefacf1230,2,0,1,3153,,,0,"CI test - never merge

Change-Id: I36c9f972dc2b77138d9b17ede70175125e417f07
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/19/569319/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,50311f6d848221b3988e08832efedbdefacf1230,ci-test,test ,,1,0
openstack%2Fopenstack-ansible~stable%2Fqueens~Ie35d5f3493adb773739513c48a9f190ec6482747,openstack/openstack-ansible,stable/queens,Ie35d5f3493adb773739513c48a9f190ec6482747,Improve the limited connectivity documentation,MERGED,2018-05-15 13:54:35.000000000,2018-05-18 04:49:13.000000000,2018-05-18 04:49:13.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-05-15 13:54:35.000000000', 'files': ['doc/source/user/limited-connectivity/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2c831b03a73f9ca66a7001380b4c26aa9e481e57', 'message': 'Improve the limited connectivity documentation\n\nAdd detailed guidance for deployments behind an http proxy. Add\nconfiguration examples for using a local pip mirror.\n\nChange-Id: Ie35d5f3493adb773739513c48a9f190ec6482747\n(cherry picked from commit 6f7fce454f1630c3bfd103ae22435e649c44d2bd)\n'}]",0,568589,2c831b03a73f9ca66a7001380b4c26aa9e481e57,6,3,1,6816,,,0,"Improve the limited connectivity documentation

Add detailed guidance for deployments behind an http proxy. Add
configuration examples for using a local pip mirror.

Change-Id: Ie35d5f3493adb773739513c48a9f190ec6482747
(cherry picked from commit 6f7fce454f1630c3bfd103ae22435e649c44d2bd)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/568589/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/limited-connectivity/index.rst'],1,2c831b03a73f9ca66a7001380b4c26aa9e481e57,limited-connectivity-stable/queens,"public Internet by default. The example configurations assume that the deployer provides good quality Internet connectivity via a router on the OpenStack management network. Deployments may encounter limited external connectivity for a number of reasons: - Unreliable or low bandwidth external connectivity - Firewall rules which block external connectivity - External connectivity required to be via HTTP or SOCKS proxies - Architectural decisions by the deployer to isolate the OpenStack networks - High security environments where no external connectivity is permitted We recommend a set of practices and configuration overrides deployers can use when running OpenStack-Ansible in network environments that block Internet connectivity.- Python packages - Distribution specific packagesPython package repositories ---------------------------mirroring the PyPi package index used by `pip`. A deployer can choose to actively mirror the entire upstream PyPi repository but this may require a significant amount of storage. Alternatively a caching pip proxy can be used to retain local copies of only those packages which are required. Example OpenStack-Ansible configuration for specifying a local pip mirror or proxy: .. code-block:: yaml # Custom upstream pip index used when building repo server contents repo_build_pip_default_index: http://pip.example.org/simple # Custom upstream pip mirror host:port which must be able to supply all # packages not built by the repo server itself. repo_nginx_pypi_upstream: pip.example.org:80 You may also choose to create a local copy of https://bootstrap.pypa.io/get-pip.py to remove a dependency on an external resource. .. code-block:: yaml # Override PIP installer (""Get modern PIP""): https://bootstrap.pypa.io/get-pip.py pip_upstream_url: ""http://mirror.example.org/bootstrap.pypa.io/get-pip.py"" Distribution specific packages ------------------------------ Many software packages are installed on Ubuntu hosts using `.deb` packages. Similar packaging mechanisms exist for other Linux distributions. We advise mirroring the repositories that host these packages. Upstream Ubuntu repositories to mirror:OpenStack-Ansible requires several other repositories to install specific components such as Galera and Ceph. Example repositories to mirror (Ubuntu target hosts): - https://download.ceph.com/debian-luminous/ - https://www.rabbitmq.com/debian - http://ubuntu-cloud.archive.canonical.com/ubuntu - https://packages.erlang-solutions.com/ubuntu - https://mirror.rackspace.com/mariadb/repo/10.1/ubuntuThese lists are intentionally not exhaustive and equivalents will be required for other Linux distributions. Consult the OpenStack-Ansible playbooks and role documentation for further repositories and the variables that may be used to override the repository location.Some networks have no routed access to the Internet, or require certain traffic to use application specific gateways such as HTTP or SOCKS proxy servers. Configuration can be applied to target and deployment hosts to reach public internet resources via HTTP or SOCKS proxy server(s). OpenStack-Ansible may be used to configure target hosts to use the proxy server(s). OpenStack-Ansible does not provide automation for creating the proxy server(s). Initial host deployment is outside the scope of OpenStack-Ansible and the deployer must ensure a minimum set of proxy configuration is in place, in particular for the system package manager.Other proxy configuration ------------------------- Further to this basic configuration, there are other network clients on the target hosts which may be configured to connect via a proxy. For example: - Most Python network modules - `curl` - `wget` - `openstack` These tools and their underlying libraries are used by Ansible itself and the OpenStack-Ansible playbooks, so there must be a proxy configuration in place for the playbooks to successfully access external resources. Typically these tools read environment variables containing proxy server settings. These environment variables can be configured in ``/etc/environment`` if required. It is important to note that the proxy server should only be used to access external resources, and communication between the internal components of the OpenStack deployment should be direct, without going through the proxy. The ``no_proxy`` environment variable is used to specify hosts that should be reached directly without going through the proxy. These often are the hosts in the management network. OpenStack-Ansible provides two distinct mechanisms for configuring proxy server settings: #. The default configuration file suggests setting a persistent proxy configuration on all target hosts and defines a persistent ``no_proxy`` environment variable which lists all hosts/containers' management addresses as well as the load balancer internal/external addresses. #. An alternative method applies proxy configuration in a transient manner during the execution of Ansible playbooks and defines a minimum set of management network IP addresses for ``no_proxy`` that are required for the playbooks to succeed. These proxy settings do not persist after an Ansible playbook run and the completed deployment does not require them in order to be functional. The deployer must decide which of these approaches is more suitable for the target hosts, taking into account the following guidance: #. Persistent proxy configuration is a standard practice and network clients on the target hosts will be able to access external resources after deployment. #. The deployer must ensure that a persistent proxy configuration has complete coverage of all OpenStack management network host/containers' IP addresses in the ``no_proxy`` environment variable. It is necessary to use a list of IP addresses, CIDR notation is not valid for ``no_proxy``. #. Transient proxy configuration guarantees that proxy environment variables will not persist, ensuring direct communication between services on the OpenStack management network after deployment. Target host network clients such as ``wget`` will not be able to access external resources after deployment. #. The maximum length of ``no_proxy`` should not exceed 1024 characters due to a fixed size buffer in the ``pam_env`` PAM module. Longer environment variables will be truncated during deployment operations and this will lead to unpredictable errors during or after deployment. Once the number of hosts/containers in a deployment reaches a certain size the length of ``no_proxy`` will exceed 1024 characters. It is then mandatory to use the transient proxy settings which only requires a subset of the management network IP addresses to be present in ``no_proxy`` at deployment time. Refer to `global_environment_variables:` and `deployment_environment_variables:` in the example `user_variables.yml` for details of configuring persistent and transient proxy environment variables. .. note:: We recommend you set your ``/etc/environment`` variables with proxy settings before launching any scripts or playbooks to avoid failure. For larger or complex environments a dedicated deployment host allows the most suitable proxy configuration to be applied to both deployment and target hosts. ","public Internet by default. Many deployers block direct outbound connectivity to the Internet when implementing network security measures. We recommend a set of practices and configuration overrides deployers can use when running OpenStack-Ansible in network environments that block Internet connectivity.- Software packagesSoftware package repositories -----------------------------mirroring the PyPi package index used by `pip`. Many software packages are installed on the target hosts using `.deb` packages. We advise mirroring the repositories that host these packages. Ubuntu repositories to mirror:Galera-related repositories to mirror: - https://mirror.rackspace.com/mariadb/repo/10.0/ubuntuThese lists are intentionally not exhaustive. Consult the OpenStack-Ansible playbooks and role documentation for further repositories and the variables that may be used to override the repository location.Configure target and deployment hosts to reach public internet resources via HTTP or SOCKS proxy server(s). OpenStack-Ansible may be used to configure target hosts to use the proxy server(s). OpenStack-Ansible does not provide automation for creating the proxy server(s). .. note:: We recommend you set your ``/etc/environment`` variables with proxy settings before launching any scripts or playbooks to avoid failure. Basic proxy configuration ------------------------- The following configuration configures most network clients on the target hosts to connect via the specified proxy. For example, these settings affect: - Most Python network modules - `curl` - `wget` - `openstack` Use the ``no_proxy`` environment variable to specify hosts that you cannot reach through the proxy. These often are the hosts in the management network. In the example below, ``no_proxy`` is set to localhost only, but the default configuration file suggests using variables to list all the hosts/containers' management addresses as well as the load balancer internal/external addresses. Configuration changes are made in ``/etc/openstack_deploy/user_variables.yml``. .. code-block:: yaml # Used to populate /etc/environment global_environment_variables: HTTP_PROXY: ""http://proxy.example.com:3128"" HTTPS_PROXY: ""http://proxy.example.com:3128"" NO_PROXY: ""localhost,127.0.0.1"" http_proxy: ""http://proxy.example.com:3128"" https_proxy: ""http://proxy.example.com:3128"" no_proxy: ""localhost,127.0.0.1""",155,54
openstack%2Freleases~master~Ic089341494af371a06fb0eefa38ca099179aa86b,openstack/releases,master,Ic089341494af371a06fb0eefa38ca099179aa86b,Release ovsdbapp 0.4.3,MERGED,2018-05-17 09:23:24.000000000,2018-05-18 04:39:26.000000000,2018-05-18 04:39:26.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 2472}, {'_account_id': 4694}, {'_account_id': 6593}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-05-17 09:23:24.000000000', 'files': ['deliverables/pike/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/73d208854f6e5ce3dcc9dcac4768ca863142a511', 'message': 'Release ovsdbapp 0.4.3\n\nThis minor fix release pulls the following patch:\n -  Improve DbListCommand operation from O(n^2) to O(n)\n\nChange-Id: Ic089341494af371a06fb0eefa38ca099179aa86b\nRelated-Bug: #1769897\n'}]",0,569068,73d208854f6e5ce3dcc9dcac4768ca863142a511,13,11,1,8788,,,0,"Release ovsdbapp 0.4.3

This minor fix release pulls the following patch:
 -  Improve DbListCommand operation from O(n^2) to O(n)

Change-Id: Ic089341494af371a06fb0eefa38ca099179aa86b
Related-Bug: #1769897
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/569068/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/ovsdbapp.yaml'],1,73d208854f6e5ce3dcc9dcac4768ca863142a511,bug/1769897, - version: 0.4.3 projects: - repo: openstack/ovsdbapp hash: ab6e1fee0c04d3adfb6f3813f1ce116d89193aad,,4,0
openstack%2Fcinder~master~I3c6e31bc11eaec5326314b6eb7e0184429f347bf,openstack/cinder,master,I3c6e31bc11eaec5326314b6eb7e0184429f347bf,Add skip filter to config-table directive,MERGED,2018-04-27 22:00:01.000000000,2018-05-18 04:23:41.000000000,2018-05-18 04:23:41.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-27 22:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/285d43b9e0262fc1ee985f9857599f6d0c6026fe', 'message': 'Add skip filter to config-table directive\n\nSome driver docs have different options in the table for\ndifferent configuration types. This adds the ability to\nskip named properties to be able to control which options\nget included in the table output.\n\nChange-Id: I3c6e31bc11eaec5326314b6eb7e0184429f347bf\n'}, {'number': 2, 'created': '2018-05-01 13:15:17.000000000', 'files': ['doc/ext/driver_opts.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/848664f646bf087df59778434daa6feae1e71c74', 'message': 'Add skip filter to config-table directive\n\nSome driver docs have different options in the table for\ndifferent configuration types. This adds the ability to\nskip named properties to be able to control which options\nget included in the table output.\n\nChange-Id: I3c6e31bc11eaec5326314b6eb7e0184429f347bf\n'}]",0,564899,848664f646bf087df59778434daa6feae1e71c74,50,25,2,11904,,,0,"Add skip filter to config-table directive

Some driver docs have different options in the table for
different configuration types. This adds the ability to
skip named properties to be able to control which options
get included in the table output.

Change-Id: I3c6e31bc11eaec5326314b6eb7e0184429f347bf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/564899/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/ext/driver_opts.py'],1,285d43b9e0262fc1ee985f9857599f6d0c6026fe,config-table," 'exclude-list': directives.unchanged, def _doc_module(self, module, filters): if prop in filters: continue # See if there are option sets that need to be ignored exclude = self.options.get('exclude-list', '') exclude_list = [e.strip() for e in exclude.split(',') if e.strip()] retval = self._doc_module(module, exclude_list)"," def _doc_module(self, module): retval = self._doc_module(module)",9,2
openstack%2Fopenstack-ansible~stable%2Fpike~I4986ff4d21e9fa8b77115ab80c66de99afe45f6c,openstack/openstack-ansible,stable/pike,I4986ff4d21e9fa8b77115ab80c66de99afe45f6c,Adjust inside/outside openstack-ci bootstrap-host tasks,MERGED,2018-05-15 12:13:59.000000000,2018-05-18 04:13:08.000000000,2018-05-18 04:13:08.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-15 12:13:59.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/76f74910216618932d7d6013596c4408d704555f', 'message': 'Adjust inside/outside openstack-ci bootstrap-host tasks\n\nTo optimise the execution and to simplify it, we re-arrange the\ntasks in such a way that there are only two blocks - one for\nexecution inside openstack-infra, and one for outside.\n\nAlso, Zuul places a /etc/pip.conf file on the host but we do not\nneed it given that we have our own implementation of pip config\nwhich uses the correct mirrors based on the mirror script.\nAs such, we no longer want this file in the containers, so we\nremove the setting which makes lxc_hosts copy it into the\ncontainer cache when it is prepared.\n\nConflicts:\n1. tests/roles/bootstrap-host/tasks/prepare_aio_config.yml\n   re-implementation due to differing content applied to this\n   branch\n\nChange-Id: I4986ff4d21e9fa8b77115ab80c66de99afe45f6c\n(cherry picked from commit 3c50f79c98c03b581d694bf7a07bc0dc4bc5a1f3)\n'}]",0,568571,76f74910216618932d7d6013596c4408d704555f,8,4,1,6816,,,0,"Adjust inside/outside openstack-ci bootstrap-host tasks

To optimise the execution and to simplify it, we re-arrange the
tasks in such a way that there are only two blocks - one for
execution inside openstack-infra, and one for outside.

Also, Zuul places a /etc/pip.conf file on the host but we do not
need it given that we have our own implementation of pip config
which uses the correct mirrors based on the mirror script.
As such, we no longer want this file in the containers, so we
remove the setting which makes lxc_hosts copy it into the
container cache when it is prepared.

Conflicts:
1. tests/roles/bootstrap-host/tasks/prepare_aio_config.yml
   re-implementation due to differing content applied to this
   branch

Change-Id: I4986ff4d21e9fa8b77115ab80c66de99afe45f6c
(cherry picked from commit 3c50f79c98c03b581d694bf7a07bc0dc4bc5a1f3)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/71/568571/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'],1,76f74910216618932d7d6013596c4408d704555f,wipe-pip-conf-stable/pike,"- name: Set facts when inside of OpenStack-Infra block: # OVH nodepool nodes have an issue which causes nested virt # instances to crash with a hardware error, then a dump. # We therefore detect whether we're running on OVH and # force it to use qemu instead. - name: Discover the OpenStack-Infra mirrors shell: | source /etc/ci/mirror_info.sh NODEPOOL_OVERRIDES=""/etc/openstack_deploy/user_openstackci.yml"" echo ""uca_apt_repo_url: '${NODEPOOL_UCA_MIRROR}'"" >> ${NODEPOOL_OVERRIDES} echo ""openstack_hosts_centos_mirror_url: '${NODEPOOL_CENTOS_MIRROR}'"" >> ${NODEPOOL_OVERRIDES} if [[ ${NODEPOOL_PYPI_MIRROR} == *.ovh.* ]]; then echo ""nova_virt_type: 'qemu'"" >> ${NODEPOOL_OVERRIDES} fi echo ""repo_build_pip_default_index: '${NODEPOOL_PYPI_MIRROR}'"" >> ${NODEPOOL_OVERRIDES} args: executable: /bin/bash tags: - skip_ansible_lint - name: Discover the OpenStack-Infra pypi/wheel mirror shell: | source /etc/ci/mirror_info.sh echo ""${NODEPOOL_WHEEL_MIRROR}"" args: executable: /bin/bash register: _pypi_wheel_mirror tags: - skip_ansible_lint - name: Discover the OpenStack-Infra LXC reverse proxy shell: | source /etc/ci/mirror_info.sh echo ${NODEPOOL_LXC_IMAGE_PROXY} register: _lxc_mirror args: executable: /bin/bash tags: - skip_ansible_lint - name: Set the package cache timeout to 60 mins in OpenStack-CI set_fact: cache_timeout: 3600 when: - cache_timeout is not defined # This is a very dirty hack due to images.linuxcontainers.org # constantly failing to resolve in openstack-infra. - name: Implement hard-coded hosts entries for consistently failing name lineinfile: path: ""/etc/hosts"" line: ""{{ item }}"" state: present with_items: - ""91.189.91.21 images.linuxcontainers.org us.images.linuxcontainers.org"" - ""91.189.88.37 images.linuxcontainers.org uk.images.linuxcontainers.org"" - name: Set facts when outside of OpenStack-Infra when: - not nodepool_dir.stat.exists block: - name: Determine the fastest available OpenStack-Infra wheel mirror command: ""{{ bootstrap_host_aio_script_path }}/fastest-infra-wheel-mirror.py"" register: fastest_wheel_mirror - name: Set repo_build_pip_extra_indexes fact set_fact: repo_build_pip_extra_indexes: ""{{ fastest_wheel_mirror.stdout_lines }}"" when: not pip_conf_file.stat.exists","# OVH nodepool nodes have an issue which causes nested virt # instances to crash with a hardware error, then a dump. # We therefore detect whether we're running on OVH and # force it to use qemu instead. - name: Discover the OpenStack-Infra mirrors shell: | source /etc/ci/mirror_info.sh NODEPOOL_OVERRIDES=""/etc/openstack_deploy/user_openstackci.yml"" echo ""uca_apt_repo_url: '${NODEPOOL_UCA_MIRROR}'"" >> ${NODEPOOL_OVERRIDES} echo ""openstack_hosts_centos_mirror_url: '${NODEPOOL_CENTOS_MIRROR}'"" >> ${NODEPOOL_OVERRIDES} if [[ ${NODEPOOL_PYPI_MIRROR} == *.ovh.* ]]; then echo ""nova_virt_type: 'qemu'"" >> ${NODEPOOL_OVERRIDES} fi echo ""repo_build_pip_default_index: '${NODEPOOL_PYPI_MIRROR}'"" >> ${NODEPOOL_OVERRIDES} args: executable: /bin/bash when: - nodepool_dir.stat.exists | bool tags: - skip_ansible_lint - name: Discover the OpenStack-Infra pypi/wheel mirror shell: | source /etc/ci/mirror_info.sh echo ""${NODEPOOL_WHEEL_MIRROR}"" args: executable: /bin/bash register: _pypi_wheel_mirror when: - nodepool_dir.stat.exists | bool tags: - skip_ansible_lint - name: Discover the OpenStack-Infra LXC reverse proxy shell: | source /etc/ci/mirror_info.sh echo ${NODEPOOL_LXC_IMAGE_PROXY} register: _lxc_mirror args: executable: /bin/bash when: - nodepool_dir.stat.exists | bool tags: - skip_ansible_lint - name: Set the package cache timeout to 60 mins in OpenStack-CI set_fact: cache_timeout: 3600 when: - cache_timeout is not defined - nodepool_dir.stat.exists - name: Determine if the host has a global pip config file stat: path: /etc/pip.conf register: pip_conf_file # This is a very dirty hack due to images.linuxcontainers.org # constantly failing to resolve in openstack-infra. - name: Implement hard-coded hosts entries for consistently failing name lineinfile: path: ""/etc/hosts"" line: ""{{ item }}"" state: present with_items: - ""91.189.91.21 images.linuxcontainers.org us.images.linuxcontainers.org"" - ""91.189.88.37 images.linuxcontainers.org uk.images.linuxcontainers.org"" - name: Determine the fastest available OpenStack-Infra wheel mirror command: ""{{ bootstrap_host_aio_script_path }}/fastest-infra-wheel-mirror.py"" register: fastest_wheel_mirror when: not pip_conf_file.stat.exists - name: Set repo_build_pip_extra_indexes fact set_fact: repo_build_pip_extra_indexes: ""{{ fastest_wheel_mirror.stdout_lines }}"" when: not pip_conf_file.stat.exists - name: Add user_conf_files to contain the list of files to copy into containers file: path: /etc/openstack_deploy/user_conf_files.yml state: touch when: pip_conf_file.stat.exists tags: - container-conf-files - name: Ensure that the first line in user_conf_files is correct lineinfile: dest: /etc/openstack_deploy/user_conf_files.yml line: ""---"" insertbefore: BOF when: pip_conf_file.stat.exists tags: - container-conf-files - name: Ensure that the second line in user_conf_files is correct lineinfile: dest: /etc/openstack_deploy/user_conf_files.yml line: ""lxc_container_cache_files:"" insertafter: ""^---"" when: pip_conf_file.stat.exists tags: - container-conf-files - name: Add the dict to copy the global pip config file into user_conf_files lineinfile: dest: /etc/openstack_deploy/user_conf_files.yml line: "" - { src: '/etc/pip.conf', dest: '/etc/pip.conf' }"" when: pip_conf_file.stat.exists tags: - container-conf-files",68,109
openstack%2Fpython-tripleoclient~master~I9539109db4edd4b5fa2ee365cc8b3055bd2c5df7,openstack/python-tripleoclient,master,I9539109db4edd4b5fa2ee365cc8b3055bd2c5df7,Change generate fencing parameters to call workflow,MERGED,2018-02-27 14:00:20.000000000,2018-05-18 03:51:18.000000000,2018-05-18 03:51:18.000000000,"[{'_account_id': 7065}, {'_account_id': 8532}, {'_account_id': 8871}, {'_account_id': 9712}, {'_account_id': 11085}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-27 14:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1b8a50cee7f643f02f031e41fb954ce92469da49', 'message': 'Change generate fencing parameters to call workflow\n\nUpdate the client and tests to call the workflow\ntripleo.parameters.v1.generate_fencing_parameters instead of the action\ntripleo.parameters.generate_fencing directly.\n\nChange-Id: I9539109db4edd4b5fa2ee365cc8b3055bd2c5df7\nDepends-On: I63f3a579af5aa70080f8c9cdd5eb0e8f5b3d17da\nPartial-Bug: #1640436\n'}, {'number': 2, 'created': '2018-02-27 21:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fb5f7688ab380af991b96f241d76ccb042b6f121', 'message': 'Change generate fencing parameters to call workflow\n\nUpdate the client and tests to call the workflow\ntripleo.parameters.v1.generate_fencing_parameters instead of the action\ntripleo.parameters.generate_fencing directly.\n\nChange-Id: I9539109db4edd4b5fa2ee365cc8b3055bd2c5df7\nDepends-On: I63f3a579af5aa70080f8c9cdd5eb0e8f5b3d17da\nPartial-Bug: #1640436\n'}, {'number': 3, 'created': '2018-03-12 13:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c2a33bcc50bcce7747877661252e77f4f05d86f9', 'message': 'Change generate fencing parameters to call workflow\n\nUpdate the client and tests to call the workflow\ntripleo.parameters.v1.generate_fencing_parameters instead of the action\ntripleo.parameters.generate_fencing directly.\n\nChange-Id: I9539109db4edd4b5fa2ee365cc8b3055bd2c5df7\nDepends-On: I63f3a579af5aa70080f8c9cdd5eb0e8f5b3d17da\nPartial-Bug: #1640436\n'}, {'number': 4, 'created': '2018-03-26 15:10:16.000000000', 'files': ['tripleoclient/v1/overcloud_parameters.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/tests/v1/test_overcloud_parameters.py', 'tripleoclient/workflows/parameters.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c366263407f5b54d234cdc034140c93891636d7a', 'message': 'Change generate fencing parameters to call workflow\n\nUpdate the client and tests to call the workflow\ntripleo.parameters.v1.generate_fencing_parameters instead of the action\ntripleo.parameters.generate_fencing directly.\n\nChange-Id: I9539109db4edd4b5fa2ee365cc8b3055bd2c5df7\nDepends-On: I63f3a579af5aa70080f8c9cdd5eb0e8f5b3d17da\nPartial-Bug: #1640436\n'}]",0,548284,c366263407f5b54d234cdc034140c93891636d7a,38,8,4,7065,,,0,"Change generate fencing parameters to call workflow

Update the client and tests to call the workflow
tripleo.parameters.v1.generate_fencing_parameters instead of the action
tripleo.parameters.generate_fencing directly.

Change-Id: I9539109db4edd4b5fa2ee365cc8b3055bd2c5df7
Depends-On: I63f3a579af5aa70080f8c9cdd5eb0e8f5b3d17da
Partial-Bug: #1640436
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/84/548284/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_parameters.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/tests/v1/test_overcloud_parameters.py', 'tripleoclient/workflows/parameters.py']",4,1b8a50cee7f643f02f031e41fb954ce92469da49,bug/1640436," def generate_fencing_parameters(clients, **workflow_input): workflow_client = clients.workflow_engine tripleoclients = clients.tripleoclient with tripleoclients.messaging_websocket() as ws: execution = base.start_workflow( workflow_client, 'tripleo.parameters.v1.generate_fencing_parameters', workflow_input=workflow_input) for payload in base.wait_for_messages(workflow_client, ws, execution, 600): if payload['status'] != 'SUCCESS': raise exceptions.WorkflowServiceError( 'Exception generating fencing parameters: {}'.format( payload['message'])) if ('fencing_parameters' in payload and (payload.get('status', 'FAILED') == ""SUCCESS"")): return payload['fencing_parameters']",,56,24
openstack%2Fpython-tripleoclient~master~Idacaeaf68eda83254e9d5db60e70502e899ae09b,openstack/python-tripleoclient,master,Idacaeaf68eda83254e9d5db60e70502e899ae09b,Actually print the error during deployment fail,MERGED,2018-05-15 21:58:47.000000000,2018-05-18 03:51:17.000000000,2018-05-18 03:51:17.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-15 21:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/307d73cf4e2b1025d52291f8d768713493644fd7', 'message': ""Actually print the error during deployment fail\n\npprint.pformat doesn't print anything on it's own, it merely returns the\nformatted object.\n\nThis commit makes sure the errors are actually shown by:\n- log.info the whole payload (will be seen when --verbose is true)\n- print() the payload message (will always be seen)\n\nCloses-Bug: #1771441\nChange-Id: Idacaeaf68eda83254e9d5db60e70502e899ae09b\n""}, {'number': 2, 'created': '2018-05-16 19:59:45.000000000', 'files': ['tripleoclient/workflows/deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5edc5f38a302accb7785aa488f788256337f6367', 'message': ""Actually print the error during deployment fail\n\npprint.pformat doesn't print anything on it's own, it merely returns the\nformatted object.\n\nThis commit makes sure the errors are actually shown by:\n- log.info the whole payload (will be seen when --verbose is true)\n- print() the payload message (will always be seen)\n\nCloses-Bug: #1771441\nChange-Id: Idacaeaf68eda83254e9d5db60e70502e899ae09b\n""}]",0,568707,5edc5f38a302accb7785aa488f788256337f6367,13,4,2,7144,,,0,"Actually print the error during deployment fail

pprint.pformat doesn't print anything on it's own, it merely returns the
formatted object.

This commit makes sure the errors are actually shown by:
- log.info the whole payload (will be seen when --verbose is true)
- print() the payload message (will always be seen)

Closes-Bug: #1771441
Change-Id: Idacaeaf68eda83254e9d5db60e70502e899ae09b
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/07/568707/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/deployment.py'],1,307d73cf4e2b1025d52291f8d768713493644fd7,config-download-status,"def deploy(log, clients, **workflow_input): log.info(pprint.pformat(payload)) print(payload['message']) deploy(log, clients, **workflow_input)","def deploy(clients, **workflow_input): pprint.pformat(payload) deploy(clients, **workflow_input)",4,3
openstack%2Fdesignate~master~I659ffcb5fcb7032a54670602a6534218e1e153fa,openstack/designate,master,I659ffcb5fcb7032a54670602a6534218e1e153fa,Fix contents render for notification.rst,MERGED,2018-05-18 02:49:33.000000000,2018-05-18 03:10:25.000000000,2018-05-18 03:10:25.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-05-18 02:49:33.000000000', 'files': ['doc/source/admin/notifications.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/c7f0db5e68908cb45f19bf4fb46c3bacbbd83021', 'message': 'Fix contents render for notification.rst\n\nold:\n\n   .. literalinclude::\n\n       ../../../designate/tests/resources/sample_notifications/neutron/port.delete.start.json\n\nnew:\n\n    {\n       ""priority"" : ""INFO"",\n       ""message_id"" : ""95ecdca3-967f-40aa-9469-d9fccc91d64b"",\n       ""event_type"" : ""port.delete.start"",\n       ""_context_roles"" : [\n          ""Member""\n       ],\n       ""_context_tenant_id"" : ""c97027dd880d4c129ae7a4ba7edade05"",\n       ""timestamp"" : ""2012-11-16 12:56:17.155860"",\n       ""_context_is_admin"" : false,\n       ""_context_user_id"" : ""4ce5c085e09a478ea4edcd667a92df78"",\n       ""payload"" : {\n          ""port_id"" : ""bfdcb007-f68d-46bd-8150-abcae9fb3af6""\n       },\n       ""_context_timestamp"" : ""2012-11-16 12:56:17.154672"",\n       ""publisher_id"" : ""network.svc02.os.lan"",\n       ""_context_read_deleted"" : ""no""\n    }\n\nChange-Id: I659ffcb5fcb7032a54670602a6534218e1e153fa\n'}]",0,569309,c7f0db5e68908cb45f19bf4fb46c3bacbbd83021,6,2,1,25254,,,0,"Fix contents render for notification.rst

old:

   .. literalinclude::

       ../../../designate/tests/resources/sample_notifications/neutron/port.delete.start.json

new:

    {
       ""priority"" : ""INFO"",
       ""message_id"" : ""95ecdca3-967f-40aa-9469-d9fccc91d64b"",
       ""event_type"" : ""port.delete.start"",
       ""_context_roles"" : [
          ""Member""
       ],
       ""_context_tenant_id"" : ""c97027dd880d4c129ae7a4ba7edade05"",
       ""timestamp"" : ""2012-11-16 12:56:17.155860"",
       ""_context_is_admin"" : false,
       ""_context_user_id"" : ""4ce5c085e09a478ea4edcd667a92df78"",
       ""payload"" : {
          ""port_id"" : ""bfdcb007-f68d-46bd-8150-abcae9fb3af6""
       },
       ""_context_timestamp"" : ""2012-11-16 12:56:17.154672"",
       ""publisher_id"" : ""network.svc02.os.lan"",
       ""_context_read_deleted"" : ""no""
    }

Change-Id: I659ffcb5fcb7032a54670602a6534218e1e153fa
",git fetch https://review.opendev.org/openstack/designate refs/changes/09/569309/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/notifications.rst'],1,c7f0db5e68908cb45f19bf4fb46c3bacbbd83021,fix/notification_doc,.. literalinclude:: ../../../designate/tests/resources/sample_notifications/neutron/port.delete.start.json,.. code-block:: none .. literalinclude:: ../../../designate/tests/resources/sample_notifications/neutron/port.delete.start.json,1,3
openstack%2Fmasakari~master~Ib3769f462e9cfaf8b8fb8f59a0d55c53643b6080,openstack/masakari,master,Ib3769f462e9cfaf8b8fb8f59a0d55c53643b6080,Replace custom mapping with standart response dict,NEW,2018-05-02 16:05:22.000000000,2018-05-18 02:52:14.000000000,,"[{'_account_id': 20191}, {'_account_id': 22348}, {'_account_id': 26991}]","[{'number': 1, 'created': '2018-05-02 16:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/f37fbc27eee268e36a3d6de98812a52f2c324658', 'message': 'Replace custom mapping with standart response dict\n\nDelete custom mapper, and add logic for using\nsix.moves.http_client.responses\n\nChange-Id: Ib3769f462e9cfaf8b8fb8f59a0d55c53643b6080\n'}, {'number': 2, 'created': '2018-05-03 08:18:55.000000000', 'files': ['masakari/tests/unit/api/openstack/test_wsgi.py', 'masakari/api/openstack/wsgi.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/dc660082bc630ac82ec2c40cb2663e4997612f71', 'message': 'Replace custom mapping with standart response dict\n\nDelete custom mapper, and add logic for using\nsix.moves.http_client.responses\n\nChange-Id: Ib3769f462e9cfaf8b8fb8f59a0d55c53643b6080\n'}]",1,565823,dc660082bc630ac82ec2c40cb2663e4997612f71,6,3,2,28032,,,0,"Replace custom mapping with standart response dict

Delete custom mapper, and add logic for using
six.moves.http_client.responses

Change-Id: Ib3769f462e9cfaf8b8fb8f59a0d55c53643b6080
",git fetch https://review.opendev.org/openstack/masakari refs/changes/23/565823/2 && git format-patch -1 --stdout FETCH_HEAD,['masakari/api/openstack/wsgi.py'],1,f37fbc27eee268e36a3d6de98812a52f2c324658,temp," # TODO:(enacero) after abandoning python2 remove this logic # it's there only because python2 httplib responses do not # have 429 return code. if code == 429: fault_name = 'Too Many Requests' else: fault_name = http.responses.get(code, ""Masakari Fault"")"," _fault_names = { http.BAD_REQUEST: ""badRequest"", http.UNAUTHORIZED: ""unauthorized"", http.FORBIDDEN: ""forbidden"", http.NOT_FOUND: ""itemNotFound"", http.METHOD_NOT_ALLOWED: ""badMethod"", http.CONFLICT: ""conflictingRequest"", http.REQUEST_ENTITY_TOO_LARGE: ""overLimit"", http.UNSUPPORTED_MEDIA_TYPE: ""badMediaType"", http.NOT_IMPLEMENTED: ""notImplemented"", http.SERVICE_UNAVAILABLE: ""serviceUnavailable"", # TODO(Dinesh_Bhor) Replace it with symbolic constant when it is # defined in six.moves.http_client 429: ""overLimit"" } fault_name = self._fault_names.get(code, ""masakariFault"")",7,17
openstack%2Fopenstack-ansible-nspawn_hosts~master~I174d5f0311ea1ac54e14a58fa4603a135353c6cb,openstack/openstack-ansible-nspawn_hosts,master,I174d5f0311ea1ac54e14a58fa4603a135353c6cb,Add required packages back to the role,MERGED,2018-05-18 02:00:21.000000000,2018-05-18 02:29:56.000000000,2018-05-18 02:29:56.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 02:00:21.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/cc12447bfd3055de788543c0b44f33e86ba2e104', 'message': 'Add required packages back to the role\n\nThese packages were removed because they were thought not be required,\nhowever they are.\n\nChange-Id: I174d5f0311ea1ac54e14a58fa4603a135353c6cb\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,569303,cc12447bfd3055de788543c0b44f33e86ba2e104,6,2,1,7353,,,0,"Add required packages back to the role

These packages were removed because they were thought not be required,
however they are.

Change-Id: I174d5f0311ea1ac54e14a58fa4603a135353c6cb
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/03/569303/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml']",4,cc12447bfd3055de788543c0b44f33e86ba2e104,, - debianutils - locales - netbase - systemd, - debianutils,15,6
openstack%2Fopenstack-ansible-ops~master~I9cd161599ba659890142143d4718420d680d7dca,openstack/openstack-ansible-ops,master,I9cd161599ba659890142143d4718420d680d7dca,Fix MNAIO Flat Networking,MERGED,2018-05-17 19:21:34.000000000,2018-05-18 02:23:51.000000000,2018-05-18 02:23:51.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 19:21:34.000000000', 'files': ['multi-node-aio/playbooks/osa/openstack_user_config.yml', 'multi-node-aio/playbooks/pxe/configs/debian/vm-bridges.cfg.j2', 'multi-node-aio/playbooks/dhcp/dhcpd.conf.j2', 'multi-node-aio/playbooks/group_vars/mnaio_hosts.yml', 'multi-node-aio/playbooks/group_vars/dhcp_hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f856f3bfaf2f727654e463401d6cdfd103902a29', 'message': 'Fix MNAIO Flat Networking\n\nIn order to get flat networking working correctly we need to create\na new veth pair that neutron can use on the host machines.  Neutron can\ntake the veth end of this pair for the brq bridge while the other end\nremains in br-flat allowing communication back to the VM.  This also\nexpands the DHCP range for the veth pairs and changes the\nhost_bind_override to use the new veth.\n\nChange-Id: I9cd161599ba659890142143d4718420d680d7dca\n'}]",0,569227,f856f3bfaf2f727654e463401d6cdfd103902a29,6,2,1,7414,,,0,"Fix MNAIO Flat Networking

In order to get flat networking working correctly we need to create
a new veth pair that neutron can use on the host machines.  Neutron can
take the veth end of this pair for the brq bridge while the other end
remains in br-flat allowing communication back to the VM.  This also
expands the DHCP range for the veth pairs and changes the
host_bind_override to use the new veth.

Change-Id: I9cd161599ba659890142143d4718420d680d7dca
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/27/569227/1 && git format-patch -1 --stdout FETCH_HEAD,"['multi-node-aio/playbooks/osa/openstack_user_config.yml', 'multi-node-aio/playbooks/pxe/configs/debian/vm-bridges.cfg.j2', 'multi-node-aio/playbooks/dhcp/dhcpd.conf.j2', 'multi-node-aio/playbooks/group_vars/mnaio_hosts.yml', 'multi-node-aio/playbooks/group_vars/dhcp_hosts.yml']",5,f856f3bfaf2f727654e463401d6cdfd103902a29,mnaio_networking_fix, - netmask: 255.255.252.0 # Netmask subnet: 10.0.0.0 # Subnet mask range_start: 10.0.2.160 # Start of DHCP range range_end: 10.0.3.254 # End of DHCP range broadcast: 10.0.3.255 # Network Broadcast address, - netmask: 255.255.255.0 # Netmask subnet: 10.0.2.0 # Subnet mask,22,4
openstack%2Fcinder~master~Ie524752e2600e3d86e57d5301f6f7be9763397fd,openstack/cinder,master,Ie524752e2600e3d86e57d5301f6f7be9763397fd,NEC driver: Add parameter to change interval of checking clone status.,ABANDONED,2018-05-08 02:44:24.000000000,2018-05-18 02:19:56.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15439}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 23885}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-08 02:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d7941c87ecda35d5ddc5274f8303f47b36ccb92', 'message': 'NEC driver: Add parameter to change interval of checking clone status.\n\nCurrently, the interval of checking volume cloning status is\n60 seconds and hard-coded. The interval is long for users who utilize\nImage-Volume cache. The cache volumes are basically small and\ncopied in less than 60 seconds.\nThis patch makes the interval value changeable.\n\nChange-Id: Ie524752e2600e3d86e57d5301f6f7be9763397fd\n'}, {'number': 2, 'created': '2018-05-14 05:58:31.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'releasenotes/notes/nec-add-check-clone-interval-parameter-0e5e91dec0fa2761.yaml', 'cinder/volume/drivers/nec/volume_common.py', 'cinder/volume/drivers/nec/cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/feb244549fe94ebc3357315d1ccf49b130ac81ca', 'message': 'NEC driver: Add parameter to change interval of checking clone status.\n\nCurrently, the interval of checking volume cloning status is\n60 seconds and hard-coded. The interval is long for users who utilize\nImage-Volume cache. The cache volumes are basically small and\ncopied in less than 60 seconds.\nThis patch makes the interval value changeable.\n\nChange-Id: Ie524752e2600e3d86e57d5301f6f7be9763397fd\n'}]",5,566775,feb244549fe94ebc3357315d1ccf49b130ac81ca,56,31,2,23885,,,0,"NEC driver: Add parameter to change interval of checking clone status.

Currently, the interval of checking volume cloning status is
60 seconds and hard-coded. The interval is long for users who utilize
Image-Volume cache. The cache volumes are basically small and
copied in less than 60 seconds.
This patch makes the interval value changeable.

Change-Id: Ie524752e2600e3d86e57d5301f6f7be9763397fd
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/566775/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'releasenotes/notes/nec-add-check-clone-interval-parameter-0e5e91dec0fa2761.yaml', 'cinder/volume/drivers/nec/volume_common.py', 'cinder/volume/drivers/nec/cli.py']",4,7d7941c87ecda35d5ddc5274f8303f47b36ccb92,nec-add-check-clone-interval-parameter," sleep_interval = self._local_conf['clone_check_interval'] LOG.debug('Sleep %d seconds Start', sleep_interval) time.sleep(sleep_interval)", LOG.debug('Sleep 60 seconds Start') time.sleep(60),27,3
openstack%2Fopenstack-ansible-nspawn_container_create~master~I732766c759d72783ff4680733de7ab9f50125e81,openstack/openstack-ansible-nspawn_container_create,master,I732766c759d72783ff4680733de7ab9f50125e81,Add Bionic testing,MERGED,2018-05-08 20:37:59.000000000,2018-05-18 02:18:18.000000000,2018-05-18 02:18:18.000000000,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-08 20:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/4172429f7070c62ea3df976ed4a8f8bccefd5970', 'message': 'Add Bionic testing\n\nNow that bionic testing is added into the tests repos, we can\nstart testing it in the repo.\n\nDepends-On: https://review.openstack.org/#/c/566959/\nChange-Id: I732766c759d72783ff4680733de7ab9f50125e81\n'}, {'number': 2, 'created': '2018-05-15 08:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/c65b8a805a3311adf0236646ea7a30b4e0280ab6', 'message': 'Add Bionic testing\n\nNow that bionic testing is added into the tests repos, we can\nstart testing it in the repo.\n\nDepends-On: https://review.openstack.org/#/c/566959/\nChange-Id: I732766c759d72783ff4680733de7ab9f50125e81\n'}, {'number': 3, 'created': '2018-05-15 08:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/8ccbea8f6fe9732aeff14c335a42a190a5a331c9', 'message': 'Add Bionic testing\n\nNow that bionic testing is added into the tests repos, we can\nstart testing it in the repo.\n\nDepends-On: https://review.openstack.org/#/c/566959/\nChange-Id: I732766c759d72783ff4680733de7ab9f50125e81\n'}, {'number': 4, 'created': '2018-05-18 00:18:28.000000000', 'files': ['vars/ubuntu-18.04.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/573bd04e44859242149aed19b53548b3c665ae1a', 'message': 'Add Bionic testing\n\nNow that bionic testing is added into the tests repos, we can\nstart testing it in the repo.\n\nDepends-On: https://review.openstack.org/#/c/566959/\nChange-Id: I732766c759d72783ff4680733de7ab9f50125e81\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,567043,573bd04e44859242149aed19b53548b3c665ae1a,19,3,4,17068,,,0,"Add Bionic testing

Now that bionic testing is added into the tests repos, we can
start testing it in the repo.

Depends-On: https://review.openstack.org/#/c/566959/
Change-Id: I732766c759d72783ff4680733de7ab9f50125e81
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/43/567043/4 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-18.04.yml'],1,4172429f7070c62ea3df976ed4a8f8bccefd5970,add_bionic_support,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. nspawn_map: distro: ubuntu arch: ""{{ nspawn_architecture_mapping[ansible_container_architecture] }}"" release: bionic # This is a list of items that will be passed into the container as READ-ONLY # files or directories. If any of these items are passed into the container # the container create process will ensure the file is not present within the # contianer prior to writting the config. nspawn_read_only_host_bindmount: - { source: /etc/environment, dest: /etc/environment } - { source: /etc/localtime, dest: /etc/localtime } # This is a list of items that will be passed into the container as a shared # bind mount. If any of these items are passed into the container. nspawn_shared_host_bindmount: - /etc/apt - /root - /opt nspawn_dbus_package: - dbus ",,37,0
openstack%2Fheat~stable%2Focata~Ia7b63e72c1e3c0649290caf4fea8a32f7f89560b,openstack/heat,stable/ocata,Ia7b63e72c1e3c0649290caf4fea8a32f7f89560b,Fix entropy problems with OS::Random::String,MERGED,2018-04-05 23:34:29.000000000,2018-05-18 02:02:56.000000000,2018-05-18 02:02:56.000000000,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-05 23:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/101038417d78c4c1a0468e0d266e54b636cae3aa', 'message': ""Fix entropy problems with OS::Random::String\n\nWhen generating a random string, once we had selected from the various\nrequired pools, we continued by selecting a pool at random and then\nselecting a character from that pool at random. This did not take into\naccount the differing sizes of the available pools, nor the fact that the\nsame character could appear in multiple pools, which resulted in a\nnon-uniform probability distribution of characters. Since users mostly make\nuse of this feature to generate default passwords for services they are\ndeploying, this would result in the generated passwords having slightly\nless entropy than expected (and pathological cases were possible).\n\nRectify this by always selecting non-constrained characters from a single\ncombined pool, and by ensuring that each character appears only once in any\npool we're selecting from.\n\nSince we also want to use this method to generate passwords for OpenStack\nUsers, the new implementation is in a separate module in heat.common rather\nthan mixed in with the resource's logic. Also, use a StringIO object to\ncollect the characters rather than repeatedly appending to a string.\n\nChange-Id: Ia7b63e72c1e3c0649290caf4fea8a32f7f89560b\nCloses-Bug: #1757300\nRelated-Bug: #1666129\nRelated-Bug: #1444429\n(cherry picked from commit 6e16c051ba9c2fc409c82fda19467d9ee1aaf484)\n""}, {'number': 2, 'created': '2018-04-06 14:32:23.000000000', 'files': ['heat/tests/openstack/heat/test_random_string.py', 'heat/engine/resources/openstack/heat/random_string.py', 'heat/common/password_gen.py', 'releasenotes/notes/random-string-entropy-9b8e23874cd79b8f.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/8ce005cc0e309938f9d0fbdae65c92a406348936', 'message': ""Fix entropy problems with OS::Random::String\n\nWhen generating a random string, once we had selected from the various\nrequired pools, we continued by selecting a pool at random and then\nselecting a character from that pool at random. This did not take into\naccount the differing sizes of the available pools, nor the fact that the\nsame character could appear in multiple pools, which resulted in a\nnon-uniform probability distribution of characters. Since users mostly make\nuse of this feature to generate default passwords for services they are\ndeploying, this would result in the generated passwords having slightly\nless entropy than expected (and pathological cases were possible).\n\nRectify this by always selecting non-constrained characters from a single\ncombined pool, and by ensuring that each character appears only once in any\npool we're selecting from.\n\nSince we also want to use this method to generate passwords for OpenStack\nUsers, the new implementation is in a separate module in heat.common rather\nthan mixed in with the resource's logic. Also, use a StringIO object to\ncollect the characters rather than repeatedly appending to a string.\n\nChange-Id: Ia7b63e72c1e3c0649290caf4fea8a32f7f89560b\nCloses-Bug: #1757300\nRelated-Bug: #1666129\nRelated-Bug: #1444429\n(cherry picked from commit 6e16c051ba9c2fc409c82fda19467d9ee1aaf484)\n""}]",0,559188,8ce005cc0e309938f9d0fbdae65c92a406348936,15,4,2,4257,,,0,"Fix entropy problems with OS::Random::String

When generating a random string, once we had selected from the various
required pools, we continued by selecting a pool at random and then
selecting a character from that pool at random. This did not take into
account the differing sizes of the available pools, nor the fact that the
same character could appear in multiple pools, which resulted in a
non-uniform probability distribution of characters. Since users mostly make
use of this feature to generate default passwords for services they are
deploying, this would result in the generated passwords having slightly
less entropy than expected (and pathological cases were possible).

Rectify this by always selecting non-constrained characters from a single
combined pool, and by ensuring that each character appears only once in any
pool we're selecting from.

Since we also want to use this method to generate passwords for OpenStack
Users, the new implementation is in a separate module in heat.common rather
than mixed in with the resource's logic. Also, use a StringIO object to
collect the characters rather than repeatedly appending to a string.

Change-Id: Ia7b63e72c1e3c0649290caf4fea8a32f7f89560b
Closes-Bug: #1757300
Related-Bug: #1666129
Related-Bug: #1444429
(cherry picked from commit 6e16c051ba9c2fc409c82fda19467d9ee1aaf484)
",git fetch https://review.opendev.org/openstack/heat refs/changes/88/559188/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/heat/test_random_string.py', 'heat/engine/resources/openstack/heat/random_string.py', 'heat/common/password_gen.py', 'releasenotes/notes/random-string-entropy-9b8e23874cd79b8f.yaml']",4,101038417d78c4c1a0468e0d266e54b636cae3aa,bug/1666129,"--- security: - | Passwords generated by the OS::Heat::RandomString resource may have had less entropy than expected, depending on what is specified in the ``character_class`` and ``character_sequence`` properties. This has been corrected so that each character present in any of the specified classes or sequences now has an equal probability of appearing at each point in the generated random string. ",,256,80
openstack%2Fkuryr~master~I4fa6aa16bff2fd6927c14c21e8dbd84ae7c27bd3,openstack/kuryr,master,I4fa6aa16bff2fd6927c14c21e8dbd84ae7c27bd3,Trivial:Update pypi url to new url,ABANDONED,2018-05-13 12:23:36.000000000,2018-05-18 01:54:40.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-13 12:23:36.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/c997eb8fdb3cbb78dc88727975e3c7a36d238796', 'message': 'Trivial:Update pypi url to new url\n\nChange-Id: I4fa6aa16bff2fd6927c14c21e8dbd84ae7c27bd3\n'}]",0,568061,c997eb8fdb3cbb78dc88727975e3c7a36d238796,6,2,1,27336,,,0,"Trivial:Update pypi url to new url

Change-Id: I4fa6aa16bff2fd6927c14c21e8dbd84ae7c27bd3
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/61/568061/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c997eb8fdb3cbb78dc88727975e3c7a36d238796,,We use `Sphinx <https://pypi.org/project/Sphinx>`_ to maintain the,We use `Sphinx <https://pypi.python.org/pypi/Sphinx>`_ to maintain the,1,1
openstack%2Fopenstack-helm-infra~master~Idb871e82e1ea3a5f3be0d21b688bbe7361ac6616,openstack/openstack-helm-infra,master,Idb871e82e1ea3a5f3be0d21b688bbe7361ac6616,WIP: Fix ansible log capture script,ABANDONED,2018-05-17 20:32:45.000000000,2018-05-18 01:39:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-17 20:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0ca6413cb74f3c9d58d1dd17b41ae48d090a7d7b', 'message': 'WIP: Fix ansible log capture script\n\nChange-Id: Idb871e82e1ea3a5f3be0d21b688bbe7361ac6616\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2018-05-17 20:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/efdb7ae07afedf6b6701b13e1817a90f69e07073', 'message': 'WIP: Fix ansible log capture script\n\nChange-Id: Idb871e82e1ea3a5f3be0d21b688bbe7361ac6616\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2018-05-17 21:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3a45926d1fd18114d9caf4894e59eee8d58746bb', 'message': 'WIP: Fix ansible log capture script\n\nChange-Id: Idb871e82e1ea3a5f3be0d21b688bbe7361ac6616\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2018-05-17 22:27:22.000000000', 'files': ['roles/helm-release-status/tasks/main.yaml', 'roles/gather-host-logs/tasks/main.yaml', 'roles/describe-kubernetes-objects/tasks/main.yaml', 'roles/gather-prom-metrics/tasks/main.yaml', 'roles/gather-pod-logs/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4ba50ed4e5876fca8ad2f5a1679a000e3b18bb61', 'message': 'WIP: Fix ansible log capture script\n\nChange-Id: Idb871e82e1ea3a5f3be0d21b688bbe7361ac6616\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,569252,4ba50ed4e5876fca8ad2f5a1679a000e3b18bb61,6,1,4,20466,,,0,"WIP: Fix ansible log capture script

Change-Id: Idb871e82e1ea3a5f3be0d21b688bbe7361ac6616
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/52/569252/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/gather-pod-logs/tasks/main.yaml'],1,0ca6413cb74f3c9d58d1dd17b41ae48d090a7d7b,fix-log-cap, src: '{{ logs_dir }}/pod-logs/' dest: '{{ zuul.executor.log_root }}/{{ inventory_hostname }}' copy_links: true verify_host: true," src: ""{{ logs_dir }}/pod-logs"" dest: ""{{ zuul.executor.log_root }}/{{ inventory_hostname }}""",4,2
openstack%2Fopenstack-helm-infra~master~I73127f1771fd43943db86fd70e05adb1fa1d6aba,openstack/openstack-helm-infra,master,I73127f1771fd43943db86fd70e05adb1fa1d6aba,"DNM: Testing Revert of ""Gate: place role default vars within the role""",ABANDONED,2018-05-17 23:17:27.000000000,2018-05-18 01:39:45.000000000,,"[{'_account_id': 14151}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-17 23:17:27.000000000', 'files': ['roles/deploy-docker/defaults/main.yml', 'roles/deploy-package/defaults/main.yml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/main.yaml', 'roles/deploy-kubeadm-aio-common/tasks/clean-node.yaml', 'playbooks/vars.yaml', 'roles/build-images/defaults/main.yml', 'tools/gate/devel/local-vars.yaml', 'roles/deploy-kubeadm-aio-common/tasks/util-kubeadm-aio-run.yaml', 'roles/deploy-python-pip/defaults/main.yml', 'roles/deploy-kubeadm-aio-common/tasks/main.yaml', 'roles/build-helm-packages/defaults/main.yml', 'roles/deploy-kubeadm-aio-common/defaults/main.yml', 'roles/deploy-kubeadm-aio-node/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1100650d7188710b5b0266ca33833b8bbba2839e', 'message': 'DNM: Testing Revert of ""Gate: place role default vars within the role""\n\nThis reverts commit be3f300623c4acb12593ad5a824c1b2400b24624.\n\nChange-Id: I73127f1771fd43943db86fd70e05adb1fa1d6aba\n'}]",0,569290,1100650d7188710b5b0266ca33833b8bbba2839e,5,5,1,20466,,,0,"DNM: Testing Revert of ""Gate: place role default vars within the role""

This reverts commit be3f300623c4acb12593ad5a824c1b2400b24624.

Change-Id: I73127f1771fd43943db86fd70e05adb1fa1d6aba
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/90/569290/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/deploy-docker/defaults/main.yml', 'roles/deploy-package/defaults/main.yml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/main.yaml', 'roles/deploy-kubeadm-aio-common/tasks/clean-node.yaml', 'playbooks/vars.yaml', 'roles/build-images/defaults/main.yml', 'tools/gate/devel/local-vars.yaml', 'roles/deploy-kubeadm-aio-common/tasks/util-kubeadm-aio-run.yaml', 'roles/deploy-python-pip/defaults/main.yml', 'roles/deploy-kubeadm-aio-common/tasks/main.yaml', 'roles/build-helm-packages/defaults/main.yml', 'roles/deploy-kubeadm-aio-common/defaults/main.yml', 'roles/deploy-kubeadm-aio-node/defaults/main.yml']",13,1100650d7188710b5b0266ca33833b8bbba2839e,kubeadm/deploy,,"# Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. images: kubernetes: kubeadm_aio: openstackhelm/kubeadm-aio:dev ",68,182
openstack%2Fpython-freezerclient~master~Ia245a1c2ab8f58c93acfcebf5cd0c7d3b05c44a7,openstack/python-freezerclient,master,Ia245a1c2ab8f58c93acfcebf5cd0c7d3b05c44a7,duplicated,ABANDONED,2018-05-18 01:28:41.000000000,2018-05-18 01:31:21.000000000,,[],"[{'number': 1, 'created': '2018-05-18 01:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/bd57bdf647c2373f0d336ecaceef12c733484da6', 'message': 'duplicated\n\nChange-Id: Ia245a1c2ab8f58c93acfcebf5cd0c7d3b05c44a7\n'}]",0,569297,bd57bdf647c2373f0d336ecaceef12c733484da6,2,0,1,27336,,,0,"duplicated

Change-Id: Ia245a1c2ab8f58c93acfcebf5cd0c7d3b05c44a7
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/97/569297/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,bd57bdf647c2373f0d336ecaceef12c733484da6,,,,0,0
openstack%2Fpython-freezerclient~master~I64282fe6bac7ce6b1626890419a0c0ea5a4c9bd6,openstack/python-freezerclient,master,I64282fe6bac7ce6b1626890419a0c0ea5a4c9bd6,duplicated,ABANDONED,2018-05-16 01:51:55.000000000,2018-05-18 01:31:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 27766}]","[{'number': 1, 'created': '2018-05-16 01:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/994baea3968d99d3d8c57e92fb98d7b85c2d23ed', 'message': 'duplicated\n\nChange-Id: I64282fe6bac7ce6b1626890419a0c0ea5a4c9bd6\n'}]",0,568721,994baea3968d99d3d8c57e92fb98d7b85c2d23ed,5,3,1,27336,,,0,"duplicated

Change-Id: I64282fe6bac7ce6b1626890419a0c0ea5a4c9bd6
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/21/568721/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,994baea3968d99d3d8c57e92fb98d7b85c2d23ed,,,,0,0
openstack%2Fmanila~master~Ief51e3c4e62bebcef82793a46852d39f85db083c,openstack/manila,master,Ief51e3c4e62bebcef82793a46852d39f85db083c,Trivial: update url to new url,ABANDONED,2018-05-13 14:22:19.000000000,2018-05-18 01:30:27.000000000,,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 17130}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-05-13 14:22:19.000000000', 'files': ['doc/source/contributor/tempest_tests.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/68bf3a2f8737ee242dd29f89b0f02326b06363c9', 'message': 'Trivial: update url to new url\n\nChange-Id: Ief51e3c4e62bebcef82793a46852d39f85db083c\n'}]",0,568100,68bf3a2f8737ee242dd29f89b0f02326b06363c9,11,9,1,27336,,,0,"Trivial: update url to new url

Change-Id: Ief51e3c4e62bebcef82793a46852d39f85db083c
",git fetch https://review.opendev.org/openstack/manila refs/changes/00/568100/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/tempest_tests.rst'],1,68bf3a2f8737ee242dd29f89b0f02326b06363c9,,.. _pip: https://pypi.org/project/pip .. _tox: https://pypi.org/project/tox .. _virtualenv: https://pypi.org/project/virtualenv,.. _pip: https://pypi.python.org/pypi/pip .. _tox: https://pypi.python.org/pypi/tox .. _virtualenv: https://pypi.python.org/pypi/virtualenv,3,3
openstack%2Fsphinx-feature-classification~master~I9cb2116ebcb299ad860a2a9c8069ee3ab68e2f7d,openstack/sphinx-feature-classification,master,I9cb2116ebcb299ad860a2a9c8069ee3ab68e2f7d,Trivial: update pypi url to new url,ABANDONED,2018-05-13 12:58:59.000000000,2018-05-18 01:29:40.000000000,,"[{'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-13 12:58:59.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/sphinx-feature-classification/commit/440aa38947696ca6ad86cd26e74e00612c6b8fc1', 'message': 'Trivial: update pypi url to new url\n\nChange-Id: I9cb2116ebcb299ad860a2a9c8069ee3ab68e2f7d\n'}]",0,568065,440aa38947696ca6ad86cd26e74e00612c6b8fc1,6,3,1,27336,,,0,"Trivial: update pypi url to new url

Change-Id: I9cb2116ebcb299ad860a2a9c8069ee3ab68e2f7d
",git fetch https://review.opendev.org/openstack/sphinx-feature-classification refs/changes/65/568065/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,440aa38947696ca6ad86cd26e74e00612c6b8fc1,, :target: https://pypi.org/project/oslo.db/ :target: https://pypi.org/project/oslo.db/, :target: https://pypi.python.org/pypi/oslo.db/ :target: https://pypi.python.org/pypi/oslo.db/,2,2
openstack%2Fkuryr~master~I314e68ef1d5abdaa2cc140a2b2f88b029cd50ba7,openstack/kuryr,master,I314e68ef1d5abdaa2cc140a2b2f88b029cd50ba7,duplicated,ABANDONED,2018-05-18 01:29:28.000000000,2018-05-18 01:29:33.000000000,,[],"[{'number': 1, 'created': '2018-05-18 01:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/5c61c1632edc7d8223b839df3dd456e06dc84228', 'message': 'duplicated\n\nChange-Id: I314e68ef1d5abdaa2cc140a2b2f88b029cd50ba7\n'}]",0,569298,5c61c1632edc7d8223b839df3dd456e06dc84228,2,0,1,27336,,,0,"duplicated

Change-Id: I314e68ef1d5abdaa2cc140a2b2f88b029cd50ba7
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/98/569298/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,5c61c1632edc7d8223b839df3dd456e06dc84228,,,,0,0
openstack%2Fpython-troveclient~master~I753babbb54fbb8f58098b02d673f3a3c9ebe2909,openstack/python-troveclient,master,I753babbb54fbb8f58098b02d673f3a3c9ebe2909,duplicated,ABANDONED,2018-05-16 01:49:09.000000000,2018-05-18 01:28:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 22694}]","[{'number': 1, 'created': '2018-05-16 01:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/cdff60ab12b12c06fc3507f7cf7adec559446a0e', 'message': 'duplicated\n\nChange-Id: I753babbb54fbb8f58098b02d673f3a3c9ebe2909\n'}]",0,568720,cdff60ab12b12c06fc3507f7cf7adec559446a0e,4,2,1,27336,,,0,"duplicated

Change-Id: I753babbb54fbb8f58098b02d673f3a3c9ebe2909
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/20/568720/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,cdff60ab12b12c06fc3507f7cf7adec559446a0e,,,,0,0
openstack%2Ftripleo-heat-templates~stable%2Fnewton~I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,openstack/tripleo-heat-templates,stable/newton,I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,Don't use crudini to get rhn server,MERGED,2018-05-17 17:23:39.000000000,2018-05-18 01:02:42.000000000,2018-05-18 01:02:42.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 17:23:39.000000000', 'files': ['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd48639a13e9aa240b2381123b768477a6a5a76f', 'message': ""Don't use crudini to get rhn server\n\ncrudini is not installed by default on Red Hat derivitive OS's, so we\nshouldn't rely on it. We probably can't just install it since this\nscript is the rhel-registration script, so there are likely no repos\nenabled when we need it.\n\nInstead just use grep/cut/sed to get the value we need.\n\nChange-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8\nCloses-Bug: #1771830\n(cherry picked from commit b4ff453f87610988b7f76688bdba7e006ec91d20)\n""}]",0,569181,cd48639a13e9aa240b2381123b768477a6a5a76f,8,3,1,3153,,,0,"Don't use crudini to get rhn server

crudini is not installed by default on Red Hat derivitive OS's, so we
shouldn't rely on it. We probably can't just install it since this
script is the rhel-registration script, so there are likely no repos
enabled when we need it.

Instead just use grep/cut/sed to get the value we need.

Change-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8
Closes-Bug: #1771830
(cherry picked from commit b4ff453f87610988b7f76688bdba7e006ec91d20)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/569181/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration'],1,cd48639a13e9aa240b2381123b768477a6a5a76f,osp/crudini,"server=$(grep '^hostname' /etc/rhsm/rhsm.conf | cut -d = -f2 | sed 's/\s//') portal_test_url=""https://${server}/subscription/""","portal_test_url=""https://$(crudini --get /etc/rhsm/rhsm.conf server hostname)/subscription/""",2,1
openstack%2Ftripleo-heat-templates~stable%2Fpike~I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,openstack/tripleo-heat-templates,stable/pike,I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,Don't use crudini to get rhn server,MERGED,2018-05-17 17:23:27.000000000,2018-05-18 01:02:41.000000000,2018-05-18 01:02:41.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 17:23:27.000000000', 'files': ['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90cd669f787701c24f1a41aef48087ab8ff40fd5', 'message': ""Don't use crudini to get rhn server\n\ncrudini is not installed by default on Red Hat derivitive OS's, so we\nshouldn't rely on it. We probably can't just install it since this\nscript is the rhel-registration script, so there are likely no repos\nenabled when we need it.\n\nInstead just use grep/cut/sed to get the value we need.\n\nChange-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8\nCloses-Bug: #1771830\n(cherry picked from commit b4ff453f87610988b7f76688bdba7e006ec91d20)\n""}]",0,569178,90cd669f787701c24f1a41aef48087ab8ff40fd5,10,4,1,3153,,,0,"Don't use crudini to get rhn server

crudini is not installed by default on Red Hat derivitive OS's, so we
shouldn't rely on it. We probably can't just install it since this
script is the rhel-registration script, so there are likely no repos
enabled when we need it.

Instead just use grep/cut/sed to get the value we need.

Change-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8
Closes-Bug: #1771830
(cherry picked from commit b4ff453f87610988b7f76688bdba7e006ec91d20)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/569178/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration'],1,90cd669f787701c24f1a41aef48087ab8ff40fd5,osp/crudini,"server=$(grep '^hostname' /etc/rhsm/rhsm.conf | cut -d = -f2 | sed 's/\s//') portal_test_url=""https://${server}/subscription/""","portal_test_url=""https://$(crudini --get /etc/rhsm/rhsm.conf server hostname)/subscription/""",2,1
openstack%2Ftripleo-upgrade~master~I98f6e8f54ee695b7400377f4aade3e2a2017dbb3,openstack/tripleo-upgrade,master,I98f6e8f54ee695b7400377f4aade3e2a2017dbb3,"DNM, test update on queens",ABANDONED,2018-05-17 21:50:05.000000000,2018-05-18 00:56:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 21:50:05.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/de2a6d6864a91a75493cbdb09140d69d5ce2c0ba', 'message': 'DNM, test update on queens\n\nDepends-On: If894e94d1038470cf060c38b0aca643eafa52c74\nChange-Id: I98f6e8f54ee695b7400377f4aade3e2a2017dbb3\n'}]",0,569278,de2a6d6864a91a75493cbdb09140d69d5ce2c0ba,4,2,1,9592,,,0,"DNM, test update on queens

Depends-On: If894e94d1038470cf060c38b0aca643eafa52c74
Change-Id: I98f6e8f54ee695b7400377f4aade3e2a2017dbb3
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/78/569278/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,de2a6d6864a91a75493cbdb09140d69d5ce2c0ba,I84c44a4f3cbc7ff0b54b1f04746e285a0a2d575c,# DNM TEST ,,1,0
openstack%2Fneutron~master~I942e1a5072ce111beb94ffd6298bb3e23e2bb343,openstack/neutron,master,I942e1a5072ce111beb94ffd6298bb3e23e2bb343,Fix delete vlan allocation error for ML2,MERGED,2018-01-15 03:15:00.000000000,2018-05-18 00:55:20.000000000,2018-03-09 15:29:19.000000000,"[{'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 21781}, {'_account_id': 22348}, {'_account_id': 23430}]","[{'number': 1, 'created': '2018-01-15 03:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b3132ce488f0782bc6dc0d55bb29866830b7a7b', 'message': 'Fix delete vlanallocation error\n\nMethod ""delete()"" of ovo object should be invoked.\n\nChange-Id: I942e1a5072ce111beb94ffd6298bb3e23e2bb343\n'}, {'number': 2, 'created': '2018-01-29 07:19:02.000000000', 'files': ['neutron/plugins/ml2/drivers/type_vlan.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c4bc1cf0585bdbe3701e0a2a87659881f5b1c73', 'message': 'Fix delete vlan allocation error for ML2\n\nMethod ""delete()"" of ovo object should be invoked.\n\nChange-Id: I942e1a5072ce111beb94ffd6298bb3e23e2bb343\n'}]",2,533478,6c4bc1cf0585bdbe3701e0a2a87659881f5b1c73,31,9,2,23430,,,0,"Fix delete vlan allocation error for ML2

Method ""delete()"" of ovo object should be invoked.

Change-Id: I942e1a5072ce111beb94ffd6298bb3e23e2bb343
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/533478/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/type_vlan.py'],1,6b3132ce488f0782bc6dc0d55bb29866830b7a7b,bug/1743284, alloc.delete(), ctx.session.delete(alloc),1,1
openstack%2Fopenstack-ansible-nspawn_hosts~master~I6ac67a6b19e3b3b5816c4e7ffa9db58661e759b4,openstack/openstack-ansible-nspawn_hosts,master,I6ac67a6b19e3b3b5816c4e7ffa9db58661e759b4,Add voting jobs for bionic,MERGED,2018-05-15 08:12:58.000000000,2018-05-18 00:39:12.000000000,2018-05-18 00:39:11.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 08:12:58.000000000', 'files': ['zuul.d/project.yaml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/f1e63b335f4379d1dbe47087bd36d23fdbd51436', 'message': 'Add voting jobs for bionic\n\nMake sure bionic deploys just fine forever!\n\nChange-Id: I6ac67a6b19e3b3b5816c4e7ffa9db58661e759b4\n'}]",0,568511,f1e63b335f4379d1dbe47087bd36d23fdbd51436,8,2,1,17068,,,0,"Add voting jobs for bionic

Make sure bionic deploys just fine forever!

Change-Id: I6ac67a6b19e3b3b5816c4e7ffa9db58661e759b4
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/11/568511/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'meta/main.yml']",2,f1e63b335f4379d1dbe47087bd36d23fdbd51436,add_bionic_support, - bionic,,3,1
openstack%2Fpython-tripleoclient~master~Iad9de7fab0ee740bd20f8facd49f36e6f18d2fb1,openstack/python-tripleoclient,master,Iad9de7fab0ee740bd20f8facd49f36e6f18d2fb1,Log errors with raised exceptions,MERGED,2018-05-16 12:54:50.000000000,2018-05-18 00:34:07.000000000,2018-05-18 00:34:07.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-05-16 12:54:50.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/v1/undercloud_preflight.py', 'tripleoclient/exceptions.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0e1a99ebaf7d78edab3be4b5d35214bfe82b586d', 'message': 'Log errors with raised exceptions\n\nFix return codes not raising errors.\nLog errors before raising exception.\nAdd traceback for DeploymentErrors.\n\nComplements Iba8c7e63b52acc41964ff099efc7fa181185bad7\nand I82144af35f5f9cd57ef794cc58c33b0ab15b02b2\n\nChange-Id: Iad9de7fab0ee740bd20f8facd49f36e6f18d2fb1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,568837,0e1a99ebaf7d78edab3be4b5d35214bfe82b586d,9,6,1,6926,,,0,"Log errors with raised exceptions

Fix return codes not raising errors.
Log errors before raising exception.
Add traceback for DeploymentErrors.

Complements Iba8c7e63b52acc41964ff099efc7fa181185bad7
and I82144af35f5f9cd57ef794cc58c33b0ab15b02b2

Change-Id: Iad9de7fab0ee740bd20f8facd49f36e6f18d2fb1
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/37/568837/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/v1/undercloud_preflight.py', 'tripleoclient/exceptions.py']",4,0e1a99ebaf7d78edab3be4b5d35214bfe82b586d,,"import sys import traceback def __init__(self, *args, **kwargs): traceback.format_exception(*sys.exc_info()) super(RuntimeError, self).__init__(*args, **kwargs)",,41,19
openstack%2Fopenstack-ansible-nspawn_hosts~master~I2b5d4573c9237048cf1ffafac474e5c91e351f6a,openstack/openstack-ansible-nspawn_hosts,master,I2b5d4573c9237048cf1ffafac474e5c91e351f6a,Update prep scripts to pull in a few updates,MERGED,2018-05-17 23:37:40.000000000,2018-05-18 00:24:25.000000000,2018-05-18 00:24:25.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 23:37:40.000000000', 'files': ['templates/prep-scripts/nspawn_centos_prep.sh.j2', 'templates/prep-scripts/nspawn_ubuntu_prep.sh.j2', 'templates/prep-scripts/nspawn_opensuse_prep.sh.j2', 'templates/prep-scripts/_container_sys_setup.sh.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/8b74871e983062d622796028ce961f34be09d2db', 'message': 'Update prep scripts to pull in a few updates\n\nChange-Id: I2b5d4573c9237048cf1ffafac474e5c91e351f6a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,569292,8b74871e983062d622796028ce961f34be09d2db,6,2,1,7353,,,0,"Update prep scripts to pull in a few updates

Change-Id: I2b5d4573c9237048cf1ffafac474e5c91e351f6a
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/92/569292/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/prep-scripts/nspawn_centos_prep.sh.j2', 'templates/prep-scripts/nspawn_ubuntu_prep.sh.j2', 'templates/prep-scripts/nspawn_opensuse_prep.sh.j2', 'templates/prep-scripts/_container_sys_setup.sh.j2']",4,8b74871e983062d622796028ce961f34be09d2db,,# Create the backups directory mkdir -p /var/backup rm /etc/sysctl.d/* || true chage -I -1 -d -1 -m 0 -M 99999 -E -1 root || true,,12,4
openstack%2Fpuppet-neutron~master~I3e5f87805feda47df93798d271cec843e86f3ce3,openstack/puppet-neutron,master,I3e5f87805feda47df93798d271cec843e86f3ce3,Add support for designate driver,MERGED,2018-05-16 11:59:24.000000000,2018-05-17 23:55:37.000000000,2018-05-17 23:55:37.000000000,"[{'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 11:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/cb4261106e9aca56c8767ca553b1b3ac34fe9b32', 'message': 'Add support for designate driver\n\nChange-Id: I3e5f87805feda47df93798d271cec843e86f3ce3\n'}, {'number': 2, 'created': '2018-05-17 12:43:01.000000000', 'files': ['manifests/designate.pp', 'spec/classes/neutron_designate_spec.rb', 'releasenotes/notes/designate-driver-bdbb2b9013061862.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a97d1e2db1bb4b282574d20544bbc4960e61af81', 'message': 'Add support for designate driver\n\nChange-Id: I3e5f87805feda47df93798d271cec843e86f3ce3\n'}]",0,568819,a97d1e2db1bb4b282574d20544bbc4960e61af81,9,4,2,7385,,,0,"Add support for designate driver

Change-Id: I3e5f87805feda47df93798d271cec843e86f3ce3
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/19/568819/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/designate.pp', 'spec/classes/neutron_designate_spec.rb', 'releasenotes/notes/designate-driver-bdbb2b9013061862.yaml']",3,cb4261106e9aca56c8767ca553b1b3ac34fe9b32,designate,--- features: - Support setting up the designate DNS driver. ,,162,0
openstack%2Fpuppet-swift~stable%2Fqueens~I037090eecc9832e7c7397a5a9e52df4a23f6c16e,openstack/puppet-swift,stable/queens,I037090eecc9832e7c7397a5a9e52df4a23f6c16e,"Set log_facility, log_level in obj expirer",MERGED,2018-05-05 10:57:31.000000000,2018-05-17 23:53:17.000000000,2018-05-17 23:53:17.000000000,"[{'_account_id': 597}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-05 10:57:31.000000000', 'files': ['spec/classes/swift_objectexpirer_spec.rb', 'manifests/objectexpirer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/ecd8be5ee6d5f09dcaaa193d5a021f826273e6d3', 'message': 'Set log_facility, log_level in obj expirer\n\nObject expirer does not have log_facility set explicitly\nand defaults to LOG_LOCAL0, thus logging to /var/log/messages\nAll other swift services have been set to LOG_LOCAL2. This\npatch changes object expirer to LOG_LOCAL2.\n\nChange-Id: I037090eecc9832e7c7397a5a9e52df4a23f6c16e\nSigned-off-by: Thiago da Silva <thiago@redhat.com>\n(cherry picked from commit 25d88e982333eae079723198171fc06b615bf76b)\n'}]",0,566432,ecd8be5ee6d5f09dcaaa193d5a021f826273e6d3,8,4,1,9625,,,0,"Set log_facility, log_level in obj expirer

Object expirer does not have log_facility set explicitly
and defaults to LOG_LOCAL0, thus logging to /var/log/messages
All other swift services have been set to LOG_LOCAL2. This
patch changes object expirer to LOG_LOCAL2.

Change-Id: I037090eecc9832e7c7397a5a9e52df4a23f6c16e
Signed-off-by: Thiago da Silva <thiago@redhat.com>
(cherry picked from commit 25d88e982333eae079723198171fc06b615bf76b)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/32/566432/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/swift_objectexpirer_spec.rb', 'manifests/objectexpirer.pp']",2,ecd8be5ee6d5f09dcaaa193d5a021f826273e6d3,object_expirer_log-stable/queens,"# [*log_level*] # (optional) Log level. # Defaults to 'INFO'. # # [*log_facility*] # (optional) Log level # Defaults to 'LOG_LOCAL2'. # $log_level = 'INFO', $log_facility = 'LOG_LOCAL2', 'object-expirer/log_facility': value => $log_facility; 'object-expirer/log_level': value => $log_level;",,18,0
openstack%2Fopenstack-helm~master~Id41625f0073f197fcf8fe6170696977b8025dc7f,openstack/openstack-helm,master,Id41625f0073f197fcf8fe6170696977b8025dc7f,Neutron: Queens support,MERGED,2018-05-17 19:59:12.000000000,2018-05-17 23:26:53.000000000,2018-05-17 23:26:53.000000000,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-17 19:59:12.000000000', 'files': ['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fc9a6610d5262208f34f9245575672dfe8df40c4', 'message': 'Neutron: Queens support\n\nThere is a neutron bug in Queens that needs resolved for now, if we cannot\neven get the version of neutron-sanity-check, skip this validation.\n\nsee: https://bugs.launchpad.net/neutron/+bug/1769868\n\nChange-Id: Id41625f0073f197fcf8fe6170696977b8025dc7f\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",1,569239,fc9a6610d5262208f34f9245575672dfe8df40c4,8,6,1,23928,,,0,"Neutron: Queens support

There is a neutron bug in Queens that needs resolved for now, if we cannot
even get the version of neutron-sanity-check, skip this validation.

see: https://bugs.launchpad.net/neutron/+bug/1769868

Change-Id: Id41625f0073f197fcf8fe6170696977b8025dc7f
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/39/569239/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'],1,fc9a6610d5262208f34f9245575672dfe8df40c4,neutron/queens,"# FIXME(portdirect): There is a neutron bug in Queens that needs resolved # for now, if we cannot even get the version of neutron-sanity-check, skip # this validation. # see: https://bugs.launchpad.net/neutron/+bug/1769868 if neutron-sanity-check --version >/dev/null 2>/dev/null; then # ensure we can talk to openvswitch or bail early # this is until we can setup a proper dependency # on deaemonsets - note that a show is not sufficient # here, we need to communicate with both the db and vswitchd # which means we need to do a create action # # see https://github.com/att-comdev/openstack-helm/issues/88 timeout 3m neutron-sanity-check --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/openvswitch_agent.ini --ovsdb_native --nokeepalived_ipv6_support fi","# ensure we can talk to openvswitch or bail early # this is until we can setup a proper dependency # on deaemonsets - note that a show is not sufficient # here, we need to communicate with both the db and vswitchd # which means we need to do a create action # # see https://github.com/att-comdev/openstack-helm/issues/88 timeout 3m neutron-sanity-check --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/openvswitch_agent.ini --ovsdb_native --nokeepalived_ipv6_support",14,8
openstack%2Fcontributor-guide~master~I1c5d056646e82e888c70514bc5bca9a90c337340,openstack/contributor-guide,master,I1c5d056646e82e888c70514bc5bca9a90c337340,Fix some wording and typos,MERGED,2018-05-17 17:39:49.000000000,2018-05-17 23:21:08.000000000,2018-05-17 23:21:07.000000000,"[{'_account_id': 6547}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 17:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/e1ce73803d98f8459e6ec06b5de983c89fcf8fd6', 'message': 'Fix some wording and typos\n\nThis patch just fixes some wording issues and typos in\nthe patch-best-practices.rst file.\n\nChange-Id: I1c5d056646e82e888c70514bc5bca9a90c337340\n'}, {'number': 2, 'created': '2018-05-17 17:48:21.000000000', 'files': ['doc/source/code-and-documentation/patch-best-practices.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/ed13b8a6846ffc9160b7175c1015d44c97a683d3', 'message': 'Fix some wording and typos\n\nThis patch just fixes some wording issues and typos in\nthe patch-best-practices.rst file.\n\nChange-Id: I1c5d056646e82e888c70514bc5bca9a90c337340\n'}]",1,569186,ed13b8a6846ffc9160b7175c1015d44c97a683d3,10,3,2,7198,,,0,"Fix some wording and typos

This patch just fixes some wording issues and typos in
the patch-best-practices.rst file.

Change-Id: I1c5d056646e82e888c70514bc5bca9a90c337340
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/86/569186/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/code-and-documentation/patch-best-practices.rst'],1,e1ce73803d98f8459e6ec06b5de983c89fcf8fd6,fix-patch-best-practices,"as possible**, but under a few hunderds of lines changed total. Patches that are test heavy with little code change require as much effort as code heavyit's not highly recommended.The 'Depends-On' tag is a marker on your changes and when used a patch cannot be merged until all its dependencies are landed. for a feature implementation or documentation change to test the feature or'Related Changes' column on the top right corner of the Gerrit UI. The titles are also links which help you navigate between the changes to review them when you upload a new version.also show them to you in the 'Same Topic' column on the top right corner of the page of a review. This is a good way to help tracking related changes, let that be a featurewe have coding guidelines, but the style of each individual can still be very","as possible**, but under a few hunderds of line changes total. Patches that are test heavy with little code change require as much effort as code heavyit's highly not highly recommended.The 'Depends-On' tag is only a marker on your changes and in case you apply it a patch cannot be merged until all its dependencies got landed. for a feature implementation or documentation work to test the feature or'Related Changes' column on the upright corner of the Gerrit UI. The titles are also links which help you navigate between the changes to review them when you upload a new version.also show them to you in the 'Same Topic' column on the upright corner of the page of a review. This is a good way to help tracking related changes let that be a featurewe have coding guidelines, but the style of each individuals can still be very",13,13
openstack%2Fcontributor-guide~master~I6cb2ca05e2d1183e0cbe1ad82e201793fe80fec5,openstack/contributor-guide,master,I6cb2ca05e2d1183e0cbe1ad82e201793fe80fec5,Fix problems in events page,MERGED,2018-05-17 16:36:10.000000000,2018-05-17 23:21:07.000000000,2018-05-17 23:21:07.000000000,"[{'_account_id': 6547}, {'_account_id': 14482}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 16:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/3be1b22f0a75b5860eee1bc8921fe3623e594820', 'message': 'Fix problems in events page\n\nThere was a broken link as well as a number\nof typos and missing words.  This patch\nresolves those issues.\n\nChange-Id: I6cb2ca05e2d1183e0cbe1ad82e201793fe80fec5\n'}, {'number': 2, 'created': '2018-05-17 17:13:39.000000000', 'files': ['doc/source/common/events.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/94fe6601aa7788c4cb30c02e5f13ecb5bf2d4d2b', 'message': 'Fix problems in events page\n\nThere was a broken link as well as a number\nof typos and missing words.  This patch\nresolves those issues.\n\nChange-Id: I6cb2ca05e2d1183e0cbe1ad82e201793fe80fec5\n'}]",1,569162,94fe6601aa7788c4cb30c02e5f13ecb5bf2d4d2b,10,4,2,7198,,,0,"Fix problems in events page

There was a broken link as well as a number
of typos and missing words.  This patch
resolves those issues.

Change-Id: I6cb2ca05e2d1183e0cbe1ad82e201793fe80fec5
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/62/569162/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/events.rst'],1,3be1b22f0a75b5860eee1bc8921fe3623e594820,fix-events-issues,"community to get together and discuss feedback and find solutions to problemsPTGs are scheduled at the beginning of each release cycle which makes it possible to do more thorough release planning and ensure that the more`OpenDev <http://opendevconf.com>`_ is a small event designed for discussing newThe events are one or two days long and filled with mainly presentations and panel discussions about the latest hot topics in the community's life. It gives you a great opportunity to meet the local community and find people who are interested in the same challenges and technology as you are. Connecting with people in the same region where you are gives you the advantage to be able to reach out easier to them later as they are in the same time zone, maybe even in the same city. In some cases there are training sessions and workshops as well and may seeMeet-ups are organized by local user groups with different cadences. They are a","community to get together and discuss feedback and find solution to problemsPTGs are scheduled to the beginning of each release cycle which makes it possible to do a more thorough release planning and ensure that the more`OpenDev <opendevconf.com>`_ is a small event designed for discussing newThe events are one or days long and filled with mainly presentations and panel discussions about the latest hot topics in the community's life. It gives you a great opportunity to meet the local community and find people who are interested in the same challenges and technology as you are. Connecting with people in the same region where you are gives you the advantage to be able to reach out easier to them later as they are in the same time zone, maybe even in the same city. In some cases there are training sessions and workshops as well and you canMeet-ups are organized by local user groups with different cadence. They are a",13,13
openstack%2Fcontributor-guide~master~Ida633c11d30cbafc3f87b161e76183d8cf7da9ad,openstack/contributor-guide,master,Ida633c11d30cbafc3f87b161e76183d8cf7da9ad,Add git review -s info to setup-gerrit,MERGED,2018-05-17 17:05:06.000000000,2018-05-17 23:20:34.000000000,2018-05-17 23:20:34.000000000,"[{'_account_id': 6547}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 17:05:06.000000000', 'files': ['doc/source/common/setup-gerrit.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/d2b6279e069f17c9afc17bdcc8ec11ad65ad39b3', 'message': ""Add git review -s info to setup-gerrit\n\nInitializing git-review is an important step that\nwasn't in the documentation.  This patch adds that.\nAlso fixes a minor typo elsewhere in the file.\n\nChange-Id: Ida633c11d30cbafc3f87b161e76183d8cf7da9ad\n""}]",0,569173,d2b6279e069f17c9afc17bdcc8ec11ad65ad39b3,7,3,1,7198,,,0,"Add git review -s info to setup-gerrit

Initializing git-review is an important step that
wasn't in the documentation.  This patch adds that.
Also fixes a minor typo elsewhere in the file.

Change-Id: Ida633c11d30cbafc3f87b161e76183d8cf7da9ad
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/73/569173/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/setup-gerrit.rst'],1,d2b6279e069f17c9afc17bdcc8ec11ad65ad39b3,fix-setup-gerrit,Git review is a tool maintained by the OpenStack community. It adds an additional sub-command to 'git' like so::Preparing to Send a Review -------------------------- Before doing **git commit** on your patch it is important to initialize git review. Use the following command to do the initial git review configuration in your repository:: git review -s The command sets up the necessary remote hosts and commit hooks to enable pushing changes to Gerrit. .. note:: Git reviews only needs to be initialized once in a repository.,Git review is tool maintained by the OpenStack community. It adds an additional sub-command to 'git' like so::,17,2
openstack%2Fopenstack-helm-infra~master~I5ad1b593a711ffe353b012394d54044dede0691d,openstack/openstack-helm-infra,master,I5ad1b593a711ffe353b012394d54044dede0691d,Gate: place role default vars within the role,MERGED,2018-05-10 03:56:10.000000000,2018-05-17 23:17:27.000000000,2018-05-14 18:27:59.000000000,"[{'_account_id': 14151}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-10 03:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/66598a1779177b45b2c4f894c4808640777a7c65', 'message': 'Kubeadm: expose selfhosted param and deploy kubeadm to master nodes\n\nThis PS exposes the selfhosted param, and deploys kubeadm to master\nnodes.\n\nChange-Id: I5ad1b593a711ffe353b012394d54044dede0691d\n'}, {'number': 2, 'created': '2018-05-10 03:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c8c47131621b5f436dfd6435d346bb64ff33dd5a', 'message': 'Kubeadm: expose selfhosted param and deploy kubeadm to master nodes\n\nThis PS exposes the selfhosted param, and deploys kubeadm to master\nnodes.\n\nChange-Id: I5ad1b593a711ffe353b012394d54044dede0691d\n'}, {'number': 3, 'created': '2018-05-12 20:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3a55bad78f6237ce261610a2b91094084963a67b', 'message': 'Kubeadm: expose selfhosted param and deploy kubeadm to master nodes\n\nThis PS exposes the selfhosted param, and deploys kubeadm to master\nnodes.\n\nChange-Id: I5ad1b593a711ffe353b012394d54044dede0691d\n'}, {'number': 4, 'created': '2018-05-13 14:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6cca5e5260bf149f137ababf43ff113fe73d0792', 'message': ""Gate: place role default vars within the role\n\nThis PS places the role default vars within the appropriate role,\nin addition it exposes kubeadm's selfhosted param and deploys the\nkubeadm binary to master nodes.\n\nThis PS exposes the selfhosted param, and deploys kubeadm to master\nnodes.\n\nChange-Id: I5ad1b593a711ffe353b012394d54044dede0691d\n""}, {'number': 5, 'created': '2018-05-14 03:28:31.000000000', 'files': ['roles/deploy-docker/defaults/main.yml', 'roles/deploy-package/defaults/main.yml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/main.yaml', 'roles/deploy-kubeadm-aio-common/tasks/clean-node.yaml', 'playbooks/vars.yaml', 'roles/build-images/defaults/main.yml', 'tools/gate/devel/local-vars.yaml', 'roles/deploy-kubeadm-aio-common/tasks/util-kubeadm-aio-run.yaml', 'roles/deploy-python-pip/defaults/main.yml', 'roles/deploy-kubeadm-aio-common/tasks/main.yaml', 'roles/build-helm-packages/defaults/main.yml', 'roles/deploy-kubeadm-aio-common/defaults/main.yml', 'roles/deploy-kubeadm-aio-node/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/be3f300623c4acb12593ad5a824c1b2400b24624', 'message': ""Gate: place role default vars within the role\n\nThis PS places the role default vars within the appropriate role,\nin addition it exposes kubeadm's selfhosted param and deploys the\nkubeadm binary to master nodes.\n\nThis PS exposes the selfhosted param, and deploys kubeadm to master\nnodes.\n\nChange-Id: I5ad1b593a711ffe353b012394d54044dede0691d\n""}]",0,567463,be3f300623c4acb12593ad5a824c1b2400b24624,18,5,5,23928,,,0,"Gate: place role default vars within the role

This PS places the role default vars within the appropriate role,
in addition it exposes kubeadm's selfhosted param and deploys the
kubeadm binary to master nodes.

This PS exposes the selfhosted param, and deploys kubeadm to master
nodes.

Change-Id: I5ad1b593a711ffe353b012394d54044dede0691d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/63/567463/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/deploy-kubeadm-aio-common/tasks/util-kubeadm-aio-run.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/main.yaml', 'playbooks/vars.yaml']",3,66598a1779177b45b2c4f894c4808640777a7c65,kubeadm/deploy,kubernetes: selfhosted: false, kubernetes:,8,4
openstack%2Fswift~feature%2Fdeep-review~I1538eef8db477758e2890de627501f1194a28151,openstack/swift,feature/deep-review,I1538eef8db477758e2890de627501f1194a28151,SQUASH: handle delimiter listings in proxy,ABANDONED,2018-05-16 18:47:53.000000000,2018-05-17 22:48:40.000000000,,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 18:47:53.000000000', 'files': ['test/unit/proxy/controllers/test_container.py', 'test/probe/test_sharder.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2f487118ec2ebd7ac9cb7e02ac75233d5f55f099', 'message': 'SQUASH: handle delimiter listings in proxy\n\nChange-Id: I1538eef8db477758e2890de627501f1194a28151\n'}]",2,568930,2f487118ec2ebd7ac9cb7e02ac75233d5f55f099,5,3,1,7847,,,0,"SQUASH: handle delimiter listings in proxy

Change-Id: I1538eef8db477758e2890de627501f1194a28151
",git fetch https://review.opendev.org/openstack/swift refs/changes/30/568930/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_container.py', 'test/probe/test_sharder.py', 'swift/proxy/controllers/container.py']",3,2f487118ec2ebd7ac9cb7e02ac75233d5f55f099,rev8," last_name = objects[-1].get('name', objects[-1].get('subdir')) params['marker'] = get_valid_utf8_str(last_name)", params['marker'] = get_valid_utf8_str(objects[-1]['name']),73,7
openstack%2Fnova~stable%2Fqueens~I1baef962b4b8074f3f9b9ad5402970edc9a3a776,openstack/nova,stable/queens,I1baef962b4b8074f3f9b9ad5402970edc9a3a776,Stringify instance UUID,MERGED,2018-05-10 14:13:10.000000000,2018-05-17 22:46:56.000000000,2018-05-17 22:46:56.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10608}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-10 14:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a13a77e2a96510aed1df5a105d9a404f849b44fc', 'message': ""Stringify instance UUID\n\noslo.versionedobjects merged a patch [1] resulting in the referenced\nbug. A second patch [2] was merged that was supposed to fix the issue.\nIf coerce's value arg is a unicode string, then the method will return\nunicode [3]. Subsequent checks for isinstance(str) [4] will fail and a\nTypeError will be raised trying to handle the uuid as an int in the\nelse block. This change ensures that the uuid is an instance of str so\nthat it is handled properly. This problem was fixed in pypowervm 1.1.15\n[5] and the minimum version was bumped for master. However, we can't\nbackport the pypowervm requirements bump to the stable branches so we\nhave to fix it here.\n\n[1] https://review.openstack.org/#/c/559815/\n[2] https://review.openstack.org/#/c/561674/\n[3] https://review.openstack.org/#/c/561674/2/oslo_versionedobjects/fields.py@367\n[4] https://github.com/powervm/pypowervm/blob/1.1.10/pypowervm/utils/uuid.py#L50-L56\n[5] https://github.com/powervm/pypowervm/commit/d55b4c84\n\nChange-Id: I1baef962b4b8074f3f9b9ad5402970edc9a3a776\nRelated-Bug: #1766692\n""}, {'number': 2, 'created': '2018-05-10 14:56:44.000000000', 'files': ['nova/virt/powervm/vm.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2386e015ef702ae8db29e396e436a9e293df8f3b', 'message': ""Stringify instance UUID\n\noslo.versionedobjects merged a patch [1] resulting in the referenced\nbug. A second patch [2] was merged that was supposed to fix the issue.\nIf coerce's value arg is a unicode string, then the method will return\nunicode [3]. Subsequent checks for isinstance(str) [4] will fail and a\nTypeError will be raised trying to handle the uuid as an int in the\nelse block. This change ensures that the uuid is an instance of str so\nthat it is handled properly. This problem was fixed in pypowervm 1.1.15\n[5] and the minimum version was bumped for master. However, we can't\nbackport the pypowervm requirements bump to the stable branches so we\nhave to fix it here.\n\n[1] https://review.openstack.org/#/c/559815/\n[2] https://review.openstack.org/#/c/561674/\n[3] https://review.openstack.org/#/c/561674/2/oslo_versionedobjects/fields.py@367\n[4] https://github.com/powervm/pypowervm/blob/1.1.10/pypowervm/utils/uuid.py#L50-L56\n[5] https://github.com/powervm/pypowervm/commit/d55b4c84\n\nChange-Id: I1baef962b4b8074f3f9b9ad5402970edc9a3a776\nRelated-Bug: #1766692\n""}]",1,567599,2386e015ef702ae8db29e396e436a9e293df8f3b,18,10,2,16710,,,0,"Stringify instance UUID

oslo.versionedobjects merged a patch [1] resulting in the referenced
bug. A second patch [2] was merged that was supposed to fix the issue.
If coerce's value arg is a unicode string, then the method will return
unicode [3]. Subsequent checks for isinstance(str) [4] will fail and a
TypeError will be raised trying to handle the uuid as an int in the
else block. This change ensures that the uuid is an instance of str so
that it is handled properly. This problem was fixed in pypowervm 1.1.15
[5] and the minimum version was bumped for master. However, we can't
backport the pypowervm requirements bump to the stable branches so we
have to fix it here.

[1] https://review.openstack.org/#/c/559815/
[2] https://review.openstack.org/#/c/561674/
[3] https://review.openstack.org/#/c/561674/2/oslo_versionedobjects/fields.py@367
[4] https://github.com/powervm/pypowervm/blob/1.1.10/pypowervm/utils/uuid.py#L50-L56
[5] https://github.com/powervm/pypowervm/commit/d55b4c84

Change-Id: I1baef962b4b8074f3f9b9ad5402970edc9a3a776
Related-Bug: #1766692
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/567599/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/powervm/vm.py'],1,a13a77e2a96510aed1df5a105d9a404f849b44fc,bug/1766692," # NOTE(esberglu): To work around bug ##1766692, we explicitly use str() # rather than six.text_type here because of this pypowervm check for # isinstance(..., str) at L50 of # https://github.com/powervm/pypowervm/blob/1.1.10/pypowervm/utils/uuid.py inst_uuid = (instance if uuidutils.is_uuid_like(instance) else str(instance.uuid)) return pvm_uuid.convert_uuid_to_pvm(inst_uuid).upper()", return pvm_uuid.convert_uuid_to_pvm(instance.uuid).upper(),7,1
openstack%2Fneutron-lib~master~I3cd972c0f9f3f756260a0020802420be143c44cb,openstack/neutron-lib,master,I3cd972c0f9f3f756260a0020802420be143c44cb,api-ref: add 'project_id' as sort_key,MERGED,2018-05-08 15:44:26.000000000,2018-05-17 22:46:45.000000000,2018-05-17 22:46:45.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-05-08 15:44:26.000000000', 'files': ['api-ref/source/v2/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7f75b63e6ac4930dd265ceea636d444d0eda068e', 'message': ""api-ref: add 'project_id' as sort_key\n\nDepends-On: Ife90268530b6e86a0b0d213e4742a2ef81cb2395\nChange-Id: I3cd972c0f9f3f756260a0020802420be143c44cb\nRelated-Bug: #1765452\n""}]",0,566926,7f75b63e6ac4930dd265ceea636d444d0eda068e,8,4,1,27654,,,0,"api-ref: add 'project_id' as sort_key

Depends-On: Ife90268530b6e86a0b0d213e4742a2ef81cb2395
Change-Id: I3cd972c0f9f3f756260a0020802420be143c44cb
Related-Bug: #1765452
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/26/566926/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/parameters.yaml'],1,7f75b63e6ac4930dd265ceea636d444d0eda068e,bug/1765452, - ``project_id`` - ``project_id`` - ``project_id`` - ``project_id`` - ``project_id`` - ``project_id`` - ``project_id`` - ``tenant_id`` - ``project_id`` - ``project_id`` - ``project_id``,,11,0
openstack%2Fnova~master~I88d71bac7ddb69b9b63fb58dd8eaf6c048017933,openstack/nova,master,I88d71bac7ddb69b9b63fb58dd8eaf6c048017933,Fakelibvirt migrateToURI3 should provide args according to libvirt doc,MERGED,2018-05-17 07:54:53.000000000,2018-05-17 22:12:42.000000000,2018-05-17 21:21:50.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-17 07:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36819329a5e4f0c7c87c69c12c504b5e8384e7d0', 'message': 'Fakelibvirt migrateToURI3 should provide args according to libvirt doc\n\nAccording to libvirt doc[1], migrateToURI3 supports\nargs(dconnuri, params, flags) but not logical_sum.\nWe call migrateToURI3 with arg flags in guest.py [2].\n\nThe wrong fake func may cause error in functional tests of nova.\nWith logs below:\n  ""/home/zuul/src/git.openstack.org/openstack/nova/nova/virt/libvirt/guest.py"",\n  line 669, in migrate\'\n  \'    destination, params=params, flags=flags)\'\n  ""TypeError: migrateToURI3() got an unexpected keyword argument \'flags\'""\n\n[1] https://libvirt.org/html/libvirt-libvirt-domain.html#virDomainMigrateToURI3\n[2] https://github.com/openstack/nova/blob/master/nova/virt/libvirt/guest.py#L668\n[3]\nhttp://logs.openstack.org/99/568999/2/check/nova-tox-functional-py35/cd94094/ara-report/result/af42ecd9-788c-4adc-bad6-b024d02da419\n\nChange-Id: I88d71bac7ddb69b9b63fb58dd8eaf6c048017933\n'}, {'number': 2, 'created': '2018-05-17 18:08:13.000000000', 'files': ['nova/tests/unit/virt/libvirt/fakelibvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6b46fb4bcbc02df6ba8f1b69ede5827c8adcba6', 'message': 'Fakelibvirt migrateToURI3 should provide args according to libvirt doc\n\nAccording to libvirt doc[1], migrateToURI3 supports\nargs(dconnuri, params, flags) but not logical_sum.\nWe call migrateToURI3 with arg flags in guest.py [2].\n\nThe wrong fake func may cause error in functional tests of nova.\nWith logs below:\n  ""/home/zuul/src/git.openstack.org/openstack/nova/nova/virt/libvirt/guest.py"",\n  line 669, in migrate\'\n  \'    destination, params=params, flags=flags)\'\n  ""TypeError: migrateToURI3() got an unexpected keyword argument \'flags\'""\n\n[1] https://libvirt.org/html/libvirt-libvirt-domain.html#virDomainMigrateToURI3\n[2] https://github.com/openstack/nova/blob/050e92/nova/virt/libvirt/guest.py#L668\n\nChange-Id: I88d71bac7ddb69b9b63fb58dd8eaf6c048017933\n'}]",2,569047,b6b46fb4bcbc02df6ba8f1b69ede5827c8adcba6,19,7,2,19849,,,0,"Fakelibvirt migrateToURI3 should provide args according to libvirt doc

According to libvirt doc[1], migrateToURI3 supports
args(dconnuri, params, flags) but not logical_sum.
We call migrateToURI3 with arg flags in guest.py [2].

The wrong fake func may cause error in functional tests of nova.
With logs below:
  ""/home/zuul/src/git.openstack.org/openstack/nova/nova/virt/libvirt/guest.py"",
  line 669, in migrate'
  '    destination, params=params, flags=flags)'
  ""TypeError: migrateToURI3() got an unexpected keyword argument 'flags'""

[1] https://libvirt.org/html/libvirt-libvirt-domain.html#virDomainMigrateToURI3
[2] https://github.com/openstack/nova/blob/050e92/nova/virt/libvirt/guest.py#L668

Change-Id: I88d71bac7ddb69b9b63fb58dd8eaf6c048017933
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/569047/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/fakelibvirt.py'],1,36819329a5e4f0c7c87c69c12c504b5e8384e7d0,fakelibvirt_provide_wrong_param_in_migrateToURI3," def migrateToURI3(self, dconnuri, params, flags):"," def migrateToURI3(self, dconnuri, params, logical_sum):",1,1
openstack%2Fcinder~master~I89b3cfdc618816d4fd8160bf3876fb20ccb7f45b,openstack/cinder,master,I89b3cfdc618816d4fd8160bf3876fb20ccb7f45b,Fix mocks for ZFS Storage Appliance unit tests,MERGED,2018-01-24 10:04:46.000000000,2018-05-17 22:01:46.000000000,2018-05-17 22:01:46.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-01-24 10:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd4f82f6175a0077bbe74dd5e99493ae441cc9be', 'message': 'Fix mocks for ZFS Storage Appliance unit tests\n\nWe should not use @mock.patch for setUp methods. They will be ignored\nfor most cases. This patch adds mocks explicitly into the setUp methods.\n\nChange-Id: I89b3cfdc618816d4fd8160bf3876fb20ccb7f45b\n'}, {'number': 2, 'created': '2018-01-31 15:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2972708333c94225aff2d19b11450bb31422c548', 'message': 'Fix mocks for ZFS Storage Appliance unit tests\n\nWe should not use @mock.patch for setUp methods. They will be ignored\nfor most cases. This patch adds mocks explicitly into the setUp methods.\n\nChange-Id: I89b3cfdc618816d4fd8160bf3876fb20ccb7f45b\n'}, {'number': 3, 'created': '2018-04-07 08:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34356bd57d5e45f2f7479e1dec82990592b9b361', 'message': 'Fix mocks for ZFS Storage Appliance unit tests\n\nWe should not use @mock.patch for setUp methods. They will be ignored\nfor most cases. This patch adds mocks explicitly into the setUp methods.\n\nChange-Id: I89b3cfdc618816d4fd8160bf3876fb20ccb7f45b\n'}, {'number': 4, 'created': '2018-04-10 07:02:43.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_zfssa.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f43eb0b35ddbb66c3fce554de6f977e41c950d41', 'message': 'Fix mocks for ZFS Storage Appliance unit tests\n\nWe should not use @mock.patch for setUp methods. They will be ignored\nfor most cases. This patch adds mocks explicitly into the setUp methods.\n\nChange-Id: I89b3cfdc618816d4fd8160bf3876fb20ccb7f45b\n'}]",11,537332,f43eb0b35ddbb66c3fce554de6f977e41c950d41,141,42,4,1736,,,0,"Fix mocks for ZFS Storage Appliance unit tests

We should not use @mock.patch for setUp methods. They will be ignored
for most cases. This patch adds mocks explicitly into the setUp methods.

Change-Id: I89b3cfdc618816d4fd8160bf3876fb20ccb7f45b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/537332/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/test_zfssa.py'],1,cd4f82f6175a0077bbe74dd5e99493ae441cc9be,zfssa-mocks," def setUp(self): self.mock_object(iscsi, 'factory_zfssa') def setUp(self): self.mock_object(zfssanfs, 'factory_zfssa') def setUp(self): self.mock_object(rest, 'factory_restclient') def setUp(self): self.mock_object(rest, 'factory_restclient')"," def __init__(self, method): super(TestZFSSAISCSIDriver, self).__init__(method) @mock.patch.object(iscsi, 'factory_zfssa') def setUp(self, _factory_zfssa): _factory_zfssa.return_value = mock.MagicMock(spec=rest.ZFSSAApi) def __init__(self, method): super(TestZFSSANFSDriver, self).__init__(method) @mock.patch.object(zfssanfs, 'factory_zfssa') def setUp(self, _factory_zfssa): _factory_zfssa.return_value = mock.MagicMock(spec=rest.ZFSSANfsApi) @mock.patch.object(rest, 'factory_restclient') def setUp(self, _restclient): _restclient.return_value = mock.MagicMock(spec=client.RestClientURL) @mock.patch.object(rest, 'factory_restclient') def setUp(self, _restclient): _restclient.return_value = mock.MagicMock(spec=client.RestClientURL)",8,20
openstack%2Fopenstack-ansible~master~Ic3780ec0f449d0d5e8f17404964d7d967de28b76,openstack/openstack-ansible,master,Ic3780ec0f449d0d5e8f17404964d7d967de28b76,Remove default pip_links value,MERGED,2018-03-01 17:35:36.000000000,2018-05-17 22:01:37.000000000,2018-05-17 22:01:37.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 9414}, {'_account_id': 17068}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-01 17:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f92a549b473cd926f287e7bc40961c42fb87996', 'message': ""Remove default pip_links value\n\nThe default pip_links is no longer useful for informing\npip of extra places to find wheels. With pypiserver\nimplemented it will serve all the wheels available on\nthe repo, so the find-links implementation is redundant.\n\nAlso, it's not working anyway. Pip delivers this error:\n\nSkipping link http://x.x.x.x:8181/os-releases/y.y.y/ubuntu-16.04-x86_64/ (from -f); unsupported archive format: .04-x86_64\n\nThe pip_links variable can now just be used as a way of\ntelling pip about more wheel sources, rather than for\nthe wheels on the repo server.\n\nChange-Id: Ic3780ec0f449d0d5e8f17404964d7d967de28b76\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 2, 'created': '2018-04-11 15:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/45eae8dc953fa1d78cdf125289d975ca5d947401', 'message': ""Remove default pip_links value\n\nThe default pip_links is no longer useful for informing\npip of extra places to find wheels. With pypiserver\nimplemented it will serve all the wheels available on\nthe repo, so the find-links implementation is redundant.\n\nAlso, it's not working anyway. Pip delivers this error:\n\nSkipping link http://x.x.x.x:8181/os-releases/y.y.y/ubuntu-16.04-x86_64/ (from -f); unsupported archive format: .04-x86_64\n\nThe pip_links variable can now just be used as a way of\ntelling pip about more wheel sources, rather than for\nthe wheels on the repo server.\n\nChange-Id: Ic3780ec0f449d0d5e8f17404964d7d967de28b76\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 3, 'created': '2018-04-19 10:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3350721bf6a6a47156b3a3bdae4ee97df686e21b', 'message': ""Remove default pip_links value\n\nThe default pip_links is no longer useful for informing\npip of extra places to find wheels. With pypiserver\nimplemented it will serve all the wheels available on\nthe repo, so the find-links implementation is redundant.\n\nAlso, it's not working anyway. Pip delivers this error:\n\nSkipping link http://x.x.x.x:8181/os-releases/y.y.y/ubuntu-16.04-x86_64/ (from -f); unsupported archive format: .04-x86_64\n\nThe pip_links variable can now just be used as a way of\ntelling pip about more wheel sources, rather than for\nthe wheels on the repo server.\n\nDepends-On: https://review.openstack.org/562544\nChange-Id: Ic3780ec0f449d0d5e8f17404964d7d967de28b76\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 4, 'created': '2018-04-20 13:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/54fc9ca61a33ed028485286c2b2d92203008f0d3', 'message': ""Remove default pip_links value\n\nThe default pip_links is no longer useful for informing\npip of extra places to find wheels. With pypiserver\nimplemented it will serve all the wheels available on\nthe repo, so the find-links implementation is redundant.\n\nAlso, it's not working anyway. Pip delivers this error:\n\nSkipping link http://x.x.x.x:8181/os-releases/y.y.y/ubuntu-16.04-x86_64/ (from -f); unsupported archive format: .04-x86_64\n\nThe pip_links variable can now just be used as a way of\ntelling pip about more wheel sources, rather than for\nthe wheels on the repo server.\n\nDepends-On: https://review.openstack.org/562544\nChange-Id: Ic3780ec0f449d0d5e8f17404964d7d967de28b76\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 5, 'created': '2018-04-20 13:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f676f23758cdc18ae98d85108642c81c8bfefbde', 'message': ""Remove default pip_links value\n\nThe default pip_links is no longer useful for informing\npip of extra places to find wheels. With pypiserver\nimplemented it will serve all the wheels available on\nthe repo, so the find-links implementation is redundant.\n\nAlso, it's not working anyway. Pip delivers this error:\n\nSkipping link http://x.x.x.x:8181/os-releases/y.y.y/ubuntu-16.04-x86_64/ (from -f); unsupported archive format: .04-x86_64\n\nThe pip_links variable can now just be used as a way of\ntelling pip about more wheel sources, rather than for\nthe wheels on the repo server.\n\nDepends-On: https://review.openstack.org/562544\nChange-Id: Ic3780ec0f449d0d5e8f17404964d7d967de28b76\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 6, 'created': '2018-04-20 15:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f2a6c29e973637c2b84c4688cc9e5eab16a9a64', 'message': ""Remove default pip_links value\n\nThe default pip_links is no longer useful for informing\npip of extra places to find wheels. With pypiserver\nimplemented it will serve all the wheels available on\nthe repo, so the find-links implementation is redundant.\n\nAlso, it's not working anyway. Pip delivers this error:\n\nSkipping link http://x.x.x.x:8181/os-releases/y.y.y/ubuntu-16.04-x86_64/ (from -f); unsupported archive format: .04-x86_64\n\nThe pip_links variable can now just be used as a way of\ntelling pip about more wheel sources, rather than for\nthe wheels on the repo server.\n\nDepends-On: https://review.openstack.org/562544\nDepends-On: https://review.openstack.org/563100\nChange-Id: Ic3780ec0f449d0d5e8f17404964d7d967de28b76\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 7, 'created': '2018-04-23 10:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/66e88ffd1b300d636ba784cb2b6a1b2b1a72e56f', 'message': ""Remove default pip_links value\n\nThe default pip_links is no longer useful for informing\npip of extra places to find wheels. With pypiserver\nimplemented it will serve all the wheels available on\nthe repo, so the find-links implementation is redundant.\n\nAlso, it's not working anyway. Pip delivers this error:\n\nSkipping link http://x.x.x.x:8181/os-releases/y.y.y/ubuntu-16.04-x86_64/ (from -f); unsupported archive format: .04-x86_64\n\nThe pip_links variable can now just be used as a way of\ntelling pip about more wheel sources, rather than for\nthe wheels on the repo server.\n\nDepends-On: https://review.openstack.org/562544\nDepends-On: https://review.openstack.org/563100\nChange-Id: Ic3780ec0f449d0d5e8f17404964d7d967de28b76\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 8, 'created': '2018-04-23 11:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1e03a35e405c69bc3d7fc0310ad547b599830698', 'message': ""Remove default pip_links value\n\nThe default pip_links is no longer useful for informing\npip of extra places to find wheels. With pypiserver\nimplemented it will serve all the wheels available on\nthe repo, so the find-links implementation is redundant.\n\nAlso, it's not working anyway. Pip delivers this error:\n\nSkipping link http://x.x.x.x:8181/os-releases/y.y.y/ubuntu-16.04-x86_64/ (from -f); unsupported archive format: .04-x86_64\n\nThe pip_links variable can now just be used as a way of\ntelling pip about more wheel sources, rather than for\nthe wheels on the repo server.\n\nDepends-On: https://review.openstack.org/562544\nDepends-On: https://review.openstack.org/563100\nChange-Id: Ic3780ec0f449d0d5e8f17404964d7d967de28b76\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 9, 'created': '2018-04-23 14:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/df760189c7d11777ccc4f45854b3c8078148dffc', 'message': ""Remove default pip_links value\n\nThe default pip_links is no longer useful for informing\npip of extra places to find wheels. With pypiserver\nimplemented it will serve all the wheels available on\nthe repo, so the find-links implementation is redundant.\n\nAlso, it's not working anyway. Pip delivers this error:\n\nSkipping link http://x.x.x.x:8181/os-releases/y.y.y/ubuntu-16.04-x86_64/ (from -f); unsupported archive format: .04-x86_64\n\nThe pip_links variable can now just be used as a way of\ntelling pip about more wheel sources, rather than for\nthe wheels on the repo server.\n\nDepends-On: https://review.openstack.org/562544\nDepends-On: https://review.openstack.org/563100\nChange-Id: Ic3780ec0f449d0d5e8f17404964d7d967de28b76\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}, {'number': 10, 'created': '2018-05-17 18:40:03.000000000', 'files': ['inventory/group_vars/repo_all.yml', 'inventory/group_vars/all/pip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/65e322ce47e0d340d14d9ea0c37b04bfc5ea91e0', 'message': ""Remove default pip_links value\n\nThe default pip_links is no longer useful for informing\npip of extra places to find wheels. With pypiserver\nimplemented it will serve all the wheels available on\nthe repo, so the find-links implementation is redundant.\n\nAlso, it's not working anyway. Pip delivers this error:\n\nSkipping link http://x.x.x.x:8181/os-releases/y.y.y/ubuntu-16.04-x86_64/ (from -f); unsupported archive format: .04-x86_64\n\nThe pip_links variable can now just be used as a way of\ntelling pip about more wheel sources, rather than for\nthe wheels on the repo server.\n\nDepends-On: https://review.openstack.org/562544\nDepends-On: https://review.openstack.org/563100\nChange-Id: Ic3780ec0f449d0d5e8f17404964d7d967de28b76\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n""}]",0,549012,65e322ce47e0d340d14d9ea0c37b04bfc5ea91e0,101,9,10,6816,,,0,"Remove default pip_links value

The default pip_links is no longer useful for informing
pip of extra places to find wheels. With pypiserver
implemented it will serve all the wheels available on
the repo, so the find-links implementation is redundant.

Also, it's not working anyway. Pip delivers this error:

Skipping link http://x.x.x.x:8181/os-releases/y.y.y/ubuntu-16.04-x86_64/ (from -f); unsupported archive format: .04-x86_64

The pip_links variable can now just be used as a way of
telling pip about more wheel sources, rather than for
the wheels on the repo server.

Depends-On: https://review.openstack.org/562544
Depends-On: https://review.openstack.org/563100
Change-Id: Ic3780ec0f449d0d5e8f17404964d7d967de28b76
Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/12/549012/10 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/repo_all.yml', 'inventory/group_vars/all/pip.yml']",2,9f92a549b473cd926f287e7bc40961c42fb87996,bp/python-build-install-simplification,,"pip_links: - { name: ""openstack_release"", link: ""{{ repo_release_path }}/"" } ",0,8
openstack%2Ftripleo-heat-templates~master~I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,openstack/tripleo-heat-templates,master,I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,Don't use crudini to get rhn server,MERGED,2018-05-17 14:37:38.000000000,2018-05-17 21:59:39.000000000,2018-05-17 21:59:39.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 14:37:38.000000000', 'files': ['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4ff453f87610988b7f76688bdba7e006ec91d20', 'message': ""Don't use crudini to get rhn server\n\ncrudini is not installed by default on Red Hat derivitive OS's, so we\nshouldn't rely on it. We probably can't just install it since this\nscript is the rhel-registration script, so there are likely no repos\nenabled when we need it.\n\nInstead just use grep/cut/sed to get the value we need.\n\nChange-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8\nCloses-Bug: #1771830\n""}]",0,569133,b4ff453f87610988b7f76688bdba7e006ec91d20,10,5,1,7144,,,0,"Don't use crudini to get rhn server

crudini is not installed by default on Red Hat derivitive OS's, so we
shouldn't rely on it. We probably can't just install it since this
script is the rhel-registration script, so there are likely no repos
enabled when we need it.

Instead just use grep/cut/sed to get the value we need.

Change-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8
Closes-Bug: #1771830
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/569133/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration'],1,b4ff453f87610988b7f76688bdba7e006ec91d20,bug/1771830,"server=$(grep '^hostname' /etc/rhsm/rhsm.conf | cut -d = -f2 | sed 's/\s//') portal_test_url=""https://${server}/subscription/""","portal_test_url=""https://$(crudini --get /etc/rhsm/rhsm.conf server hostname)/subscription/""",2,1
openstack%2Ftripleo-quickstart-extras~master~I9db400e695fe6df80cbb2f4c73f26969af4f4adb,openstack/tripleo-quickstart-extras,master,I9db400e695fe6df80cbb2f4c73f26969af4f4adb,doc on which tests to skip,MERGED,2018-05-17 02:41:23.000000000,2018-05-17 21:59:38.000000000,2018-05-17 21:59:38.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 02:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6801b4684b2fdcd2210c6cfd5a19fc6d2fc436b5', 'message': 'doc on which tests to skip\n\nThere are certain tests we execute in tempest that\nwe need to run and if they fail we usually perfer\nto allow them to fail until they are fixed.\n\nChange-Id: I9db400e695fe6df80cbb2f4c73f26969af4f4adb\n'}, {'number': 2, 'created': '2018-05-17 02:43:03.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_ocata.yml', 'roles/validate-tempest/vars/tempest_skip_queens.yml', 'roles/validate-tempest/vars/tempest_skip_master.yml', 'roles/validate-tempest/vars/tempest_skip_pike.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1f2fa4eb3eaab4395f1ffd040142b2ac9cca820e', 'message': 'doc on which tests to skip\n\nThere are certain tests we execute in tempest that\nwe need to run and if they fail we usually perfer\nto allow them to fail until they are fixed.\n\nChange-Id: I9db400e695fe6df80cbb2f4c73f26969af4f4adb\n'}]",0,568996,1f2fa4eb3eaab4395f1ffd040142b2ac9cca820e,12,10,2,9592,,,0,"doc on which tests to skip

There are certain tests we execute in tempest that
we need to run and if they fail we usually perfer
to allow them to fail until they are fixed.

Change-Id: I9db400e695fe6df80cbb2f4c73f26969af4f4adb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/96/568996/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validate-tempest/vars/tempest_skip_ocata.yml', 'roles/validate-tempest/vars/tempest_skip_queens.yml', 'roles/validate-tempest/vars/tempest_skip_master.yml', 'roles/validate-tempest/vars/tempest_skip_pike.yml']",4,6801b4684b2fdcd2210c6cfd5a19fc6d2fc436b5,,"## PLEASE READ ## ## Do not add tests to the skip list that are in ## ## featureset016 - featureset19 w/o permission from ## ## the TripleO PTL, Thanks ## ",,20,0
openstack%2Fpython-tripleoclient~master~I3431d2ec724a880baf0de8f586490d145bedf870,openstack/python-tripleoclient,master,I3431d2ec724a880baf0de8f586490d145bedf870,Convert enable-ssh-admin.sh to python,MERGED,2018-05-03 18:05:30.000000000,2018-05-17 21:56:26.000000000,2018-05-17 21:56:26.000000000,"[{'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 20936}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-05-03 18:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e2b78b53c3f55288cea5bbf0931be78ebc76a79b', 'message': 'Convert enable-ssh-admin.sh to python\n\nInstead of using the script from the templates, use python for the\nenable-ssh-admin logic. This will allow for more properly handling\nfailures.\n\nChange-Id: I3431d2ec724a880baf0de8f586490d145bedf870\n'}, {'number': 2, 'created': '2018-05-03 21:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/55c5ed7176d9facf6c7c0dc369000e266c77bfd1', 'message': 'Convert enable-ssh-admin.sh to python\n\nInstead of using the script from the templates, use python for the\nenable-ssh-admin logic. This will allow for more properly handling\nfailures.\n\nChange-Id: I3431d2ec724a880baf0de8f586490d145bedf870\n'}, {'number': 3, 'created': '2018-05-04 16:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/87009b73f44c7a4bf648479004045d3095a03cf3', 'message': 'Convert enable-ssh-admin.sh to python\n\nInstead of using the script from the templates, use python for the\nenable-ssh-admin logic. This will allow for more properly handling\nfailures.\n\nChange-Id: I3431d2ec724a880baf0de8f586490d145bedf870\n'}, {'number': 4, 'created': '2018-05-04 18:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a9e3ecb7215d76ac399a1864f5609d8cca35b821', 'message': 'Convert enable-ssh-admin.sh to python\n\nInstead of using the script from the templates, use python for the\nenable-ssh-admin logic. This will allow for more properly handling\nfailures.\n\nThis also fixes a race condition where sshd has not already started on\nsome of the nodes before we try and connect via ssh. A timeout is added\nwhere we wait for the port to come up. If the timeout has passed and the\nport is still not up, then an exception is raised.\n\nChange-Id: I3431d2ec724a880baf0de8f586490d145bedf870\nCloses-Bug: #1769230\n'}, {'number': 5, 'created': '2018-05-04 18:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2402d160abf65b331b1f6786bfd126991b9c87be', 'message': 'Convert enable-ssh-admin.sh to python\n\nInstead of using the script from the templates, use python for the\nenable-ssh-admin logic. This will allow for more properly handling\nfailures.\n\nThis also fixes a race condition where sshd has not already started on\nsome of the nodes before we try and connect via ssh. A timeout is added\nwhere we wait for the port to come up. If the timeout has passed and the\nport is still not up, then an exception is raised.\n\nChange-Id: I3431d2ec724a880baf0de8f586490d145bedf870\nCloses-Bug: #1769230\n'}, {'number': 6, 'created': '2018-05-04 18:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ef528210735f030df9b12c5812033d6777ce6947', 'message': 'Convert enable-ssh-admin.sh to python\n\nInstead of using the script from the templates, use python for the\nenable-ssh-admin logic. This will allow for more properly handling\nfailures.\n\nThis also fixes a race condition where sshd has not already started on\nsome of the nodes before we try and connect via ssh. A timeout is added\nwhere we wait for the port to come up. If the timeout has passed and the\nport is still not up, then an exception is raised.\n\nChange-Id: I3431d2ec724a880baf0de8f586490d145bedf870\nCloses-Bug: #1769230\n'}, {'number': 7, 'created': '2018-05-08 15:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2a7b8490f2f5b21af364d8ab0d72cd5b36f22cdb', 'message': 'Convert enable-ssh-admin.sh to python\n\nInstead of using the script from the templates, use python for the\nenable-ssh-admin logic. This will allow for more properly handling\nfailures.\n\nThis also fixes a race condition where sshd has not already started on\nsome of the nodes before we try and connect via ssh. A timeout is added\nwhere we wait for the port to come up. If the timeout has passed and the\nport is still not up, then an exception is raised.\n\nChange-Id: I3431d2ec724a880baf0de8f586490d145bedf870\nCloses-Bug: #1769230\n'}, {'number': 8, 'created': '2018-05-08 15:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fa0432c6fb68bff105c8bfc85b96f55b23650608', 'message': 'Convert enable-ssh-admin.sh to python\n\nInstead of using the script from the templates, use python for the\nenable-ssh-admin logic. This will allow for more properly handling\nfailures.\n\nThis also fixes a race condition where sshd has not already started on\nsome of the nodes before we try and connect via ssh. A timeout is added\nwhere we wait for the port to come up. If the timeout has passed and the\nport is still not up, then an exception is raised.\n\nChange-Id: I3431d2ec724a880baf0de8f586490d145bedf870\nCloses-Bug: #1769230\n'}, {'number': 9, 'created': '2018-05-09 15:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d463a848aee270036ed503fd1a9ba30e8a8be530', 'message': 'Convert enable-ssh-admin.sh to python\n\nInstead of using the script from the templates, use python for the\nenable-ssh-admin logic. This will allow for more properly handling\nfailures.\n\nThis also fixes a race condition where sshd has not already started on\nsome of the nodes before we try and connect via ssh. A timeout is added\nwhere we wait for the port to come up. If the timeout has passed and the\nport is still not up, then an exception is raised.\n\nChange-Id: I3431d2ec724a880baf0de8f586490d145bedf870\nCloses-Bug: #1769230\n'}, {'number': 10, 'created': '2018-05-14 16:54:54.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6cc67c33984135afc458ad6482eb16507a0c5a88', 'message': 'Convert enable-ssh-admin.sh to python\n\nInstead of using the script from the templates, use python for the\nenable-ssh-admin logic. This will allow for more properly handling\nfailures.\n\nThis also fixes a race condition where sshd has not already started on\nsome of the nodes before we try and connect via ssh. A timeout is added\nwhere we wait for the port to come up. If the timeout has passed and the\nport is still not up, then an exception is raised.\n\nChange-Id: I3431d2ec724a880baf0de8f586490d145bedf870\nCloses-Bug: #1769230\n'}]",26,566129,6cc67c33984135afc458ad6482eb16507a0c5a88,63,12,10,7144,,,0,"Convert enable-ssh-admin.sh to python

Instead of using the script from the templates, use python for the
enable-ssh-admin logic. This will allow for more properly handling
failures.

This also fixes a race condition where sshd has not already started on
some of the nodes before we try and connect via ssh. A timeout is added
where we wait for the port to come up. If the timeout has passed and the
port is still not up, then an exception is raised.

Change-Id: I3431d2ec724a880baf0de8f586490d145bedf870
Closes-Bug: #1769230
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/29/566129/7 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",5,e2b78b53c3f55288cea5bbf0931be78ebc76a79b,bug/1769230," default=os.path.join( os.path.expanduser('~'), '~/.ssh/id_rsa'), hosts = deployment.get_overcloud_hosts(self.clients, stack) deployment.enable_ssh_admin(self.log, self.clients, hosts, parsed_args.overcloud_ssh_user, parsed_args.overcloud_ssh_key)"," parsed_args.deployed_server,",261,47
openstack%2Ftripleo-heat-templates~master~Idc1b8d444fb354450b8e584d199d1f22e0d92e5a,openstack/tripleo-heat-templates,master,Idc1b8d444fb354450b8e584d199d1f22e0d92e5a,FFU Add cinder-backup missing fast_forward_upgrade_tasks,MERGED,2018-05-15 08:32:11.000000000,2018-05-17 21:56:25.000000000,2018-05-17 21:56:25.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-15 08:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e5060a96aff8d7a971305b8c2d0d5841a4d9e12', 'message': 'FFU Add cinder-backup missing fast_forward_upgrade_tasks\n\nLooks like the cinder-backup ffu tasks were missed as\ndiscussed in [0]. Adding here and they are the same as the\nother docker/services/pacemaker things e.g. rabbit @[1].\n\n[0] https://bugzilla.redhat.com/show_bug.cgi?id=1578158\n[1] https://github.com/openstack/tripleo-heat-templates/blob/e37e0e6d47538299d5d77b0b34a268a19651e5a4/docker/services/pacemaker/rabbitmq.yaml#L367-L397\n\nChange-Id: Idc1b8d444fb354450b8e584d199d1f22e0d92e5a\n'}, {'number': 2, 'created': '2018-05-16 08:45:52.000000000', 'files': ['docker/services/pacemaker/cinder-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30a95b797b03cc5daae591bfafa4f708bfd9cfea', 'message': 'FFU Add cinder-backup missing fast_forward_upgrade_tasks\n\nLooks like the cinder-backup ffu tasks were missed as\ndiscussed in [0]. Adding here and they are the same as the\nother docker/services/pacemaker things e.g. rabbit @[1].\nThis also fixes the resource check in the bm->containers\nupgrade_tasks so cinder-backup is also properly deleted.\n\n[0] https://bugzilla.redhat.com/show_bug.cgi?id=1578158\n[1] https://github.com/openstack/tripleo-heat-templates/blob/e37e0e6d47538299d5d77b0b34a268a19651e5a4/docker/services/pacemaker/rabbitmq.yaml#L367-L397\n\nChange-Id: Idc1b8d444fb354450b8e584d199d1f22e0d92e5a\n'}]",0,568520,30a95b797b03cc5daae591bfafa4f708bfd9cfea,39,13,2,8449,,,0,"FFU Add cinder-backup missing fast_forward_upgrade_tasks

Looks like the cinder-backup ffu tasks were missed as
discussed in [0]. Adding here and they are the same as the
other docker/services/pacemaker things e.g. rabbit @[1].
This also fixes the resource check in the bm->containers
upgrade_tasks so cinder-backup is also properly deleted.

[0] https://bugzilla.redhat.com/show_bug.cgi?id=1578158
[1] https://github.com/openstack/tripleo-heat-templates/blob/e37e0e6d47538299d5d77b0b34a268a19651e5a4/docker/services/pacemaker/rabbitmq.yaml#L367-L397

Change-Id: Idc1b8d444fb354450b8e584d199d1f22e0d92e5a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/568520/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/pacemaker/cinder-backup.yaml'],1,1e5060a96aff8d7a971305b8c2d0d5841a4d9e12,Idc1b8d444fb354450b8e584d199d1f22e0d92e5a," fast_forward_upgrade_tasks: - name: Check cluster resource status pacemaker_resource: resource: openstack-cinder-backup state: show check_mode: false ignore_errors: true register: cinder_backup_res_result when: - step|int == 0 - release == 'ocata' - is_bootstrap_node|bool - name: Set fact cinder_backup_res set_fact: cinder_backup_res: ""{{ cinder_backup_res_result.rc == 0 }}"" when: - step|int == 0 - release == 'ocata' - is_bootstrap_node|bool - name: Disable the openstack-cinder-backup cluster resource pacemaker_resource: resource: openstack-cinder-backup state: disable wait_for_resource: true register: cinder_backup_output retries: 5 until: cinder_backup_output.rc == 0 when: - step|int == 2 - release == 'ocata' - is_bootstrap_node|bool - cinder_backup_res|bool",,32,0
openstack%2Ftripleo-heat-templates~master~I34bdc0a9d575e5d1b8f3ce1e09c145cc34563a85,openstack/tripleo-heat-templates,master,I34bdc0a9d575e5d1b8f3ce1e09c145cc34563a85,undercloud: change upgrade steps,MERGED,2018-05-17 03:10:27.000000000,2018-05-17 21:44:18.000000000,2018-05-17 21:44:18.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20733}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 03:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0974d8566a470da0bf78ff776fe8fd841983db5a', 'message': 'undercloud: change upgrade steps\n\n1) Rename the neutron DB at step 3 so Neutron has time to stop (during\nstep 2) and right after we stop mariadb, so no chance for any app to\naccess to old db.\n\n2) Upgrade all rpms at step 3 like we do for other services. Step 1 was\nway too early.\n\nChange-Id: I34bdc0a9d575e5d1b8f3ce1e09c145cc34563a85\n'}, {'number': 2, 'created': '2018-05-17 03:11:14.000000000', 'files': ['docker/services/database/mysql.yaml', 'docker/services/undercloud-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7a103c5a4475354d4c42cecc0ab22928242296d', 'message': 'undercloud: change upgrade steps\n\n1) Rename the neutron DB at step 2 so Neutron has time to stop (during\nstep 1) and right after we stop mariadb, so no chance for any app to\naccess to old db.\n\n2) Upgrade all rpms at step 3 like we do for other services. Step 1 was\nway too early.\n\nChange-Id: I34bdc0a9d575e5d1b8f3ce1e09c145cc34563a85\n'}]",0,568997,e7a103c5a4475354d4c42cecc0ab22928242296d,11,10,2,3153,,,0,"undercloud: change upgrade steps

1) Rename the neutron DB at step 2 so Neutron has time to stop (during
step 1) and right after we stop mariadb, so no chance for any app to
access to old db.

2) Upgrade all rpms at step 3 like we do for other services. Step 1 was
way too early.

Change-Id: I34bdc0a9d575e5d1b8f3ce1e09c145cc34563a85
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/568997/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/database/mysql.yaml', 'docker/services/undercloud-upgrade.yaml']",2,0974d8566a470da0bf78ff776fe8fd841983db5a,upgrade, when: step|int == 3, when: step|int == 1,2,2
openstack%2Ftripleo-upgrade~stable%2Fqueens~I7b4091a4603688b19669ff70afcfa852984a820e,openstack/tripleo-upgrade,stable/queens,I7b4091a4603688b19669ff70afcfa852984a820e,Add validation-errors-nonfatal in ceph upgrade.,MERGED,2018-05-10 09:40:58.000000000,2018-05-17 21:44:17.000000000,2018-05-17 21:44:16.000000000,"[{'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 9592}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-10 09:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/39da0803372067d652e50d59b7ce346487c3dde3', 'message': ""Add validation-errors-nonfatal in ceph upgrade.\n\nUpstream CI job doesn't get to start the\nceph upgrade as the pre-validations are\nfailing in mistral. This patch adds the\n--validation-errors-nonfatal when the\ntripleo_upgrade_validations_non_fatal\nparameters is set to true.\n\nCloses-Bug: #1770361\nChange-Id: I7b4091a4603688b19669ff70afcfa852984a820e\n(cherry picked from commit b8b71e66f1e95f224537dfe574660957cd84fa9e)\n""}, {'number': 2, 'created': '2018-05-11 08:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/44a8a156030b18320de43205544efe38a5f12722', 'message': ""Add validation-errors-nonfatal in ceph upgrade.\n\nUpstream CI job doesn't get to start the\nceph upgrade as the pre-validations are\nfailing in mistral. This patch adds the\n--validation-errors-nonfatal when the\ntripleo_upgrade_validations_non_fatal\nparameters is set to true.\n\nCloses-Bug: #1770361\nChange-Id: I7b4091a4603688b19669ff70afcfa852984a820e\n(cherry picked from commit b8b71e66f1e95f224537dfe574660957cd84fa9e)\n""}, {'number': 3, 'created': '2018-05-17 13:37:57.000000000', 'files': ['templates/ceph-upgrade-run.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/705219eae0d6c1b24489c663253a954f556b8b65', 'message': ""Add validation-errors-nonfatal in ceph upgrade.\n\nUpstream CI job doesn't get to start the\nceph upgrade as the pre-validations are\nfailing in mistral. This patch adds the\n--validation-errors-nonfatal when the\ntripleo_upgrade_validations_non_fatal\nparameters is set to true.\n\nCloses-Bug: #1770361\nChange-Id: I7b4091a4603688b19669ff70afcfa852984a820e\n(cherry picked from commit b8b71e66f1e95f224537dfe574660957cd84fa9e)\n""}]",0,567539,705219eae0d6c1b24489c663253a954f556b8b65,25,9,3,26343,,,0,"Add validation-errors-nonfatal in ceph upgrade.

Upstream CI job doesn't get to start the
ceph upgrade as the pre-validations are
failing in mistral. This patch adds the
--validation-errors-nonfatal when the
tripleo_upgrade_validations_non_fatal
parameters is set to true.

Closes-Bug: #1770361
Change-Id: I7b4091a4603688b19669ff70afcfa852984a820e
(cherry picked from commit b8b71e66f1e95f224537dfe574660957cd84fa9e)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/39/567539/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/ceph-upgrade-run.sh.j2'],1,39da0803372067d652e50d59b7ce346487c3dde3,bug/1770361, -e {{ _env }} \ {% if tripleo_upgrade_validations_non_fatal|bool %} --validation-errors-nonfatal \ {% endif %}, -e {{ _env }} \,4,1
openstack%2Ftripleo-upgrade~stable%2Fqueens~I6d5c52801ec1ee4b0bfaea6d8124ee2a3adb74db,openstack/tripleo-upgrade,stable/queens,I6d5c52801ec1ee4b0bfaea6d8124ee2a3adb74db,Fix search for compute roles,MERGED,2018-05-17 13:40:21.000000000,2018-05-17 21:44:16.000000000,2018-05-17 21:44:16.000000000,"[{'_account_id': 6133}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 13:40:21.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_role.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/05935521c032523292ac331238f86d3f62cbdadb', 'message': 'Fix search for compute roles\n\nThis is just assuming that the compute nodes are called\ncompute-x . This is not true, specially for OSP, where the\nnodes are normally called overcloud-compute-x . So add a\nmore flexible regex, that just allows any prefix before the\ncompute- pattern\n\nChange-Id: I6d5c52801ec1ee4b0bfaea6d8124ee2a3adb74db\n(cherry picked from commit 72e473e45b7e34b7342429591ba8ae5da3d5e5f2)\n'}]",0,569114,05935521c032523292ac331238f86d3f62cbdadb,8,4,1,18851,,,0,"Fix search for compute roles

This is just assuming that the compute nodes are called
compute-x . This is not true, specially for OSP, where the
nodes are normally called overcloud-compute-x . So add a
more flexible regex, that just allows any prefix before the
compute- pattern

Change-Id: I6d5c52801ec1ee4b0bfaea6d8124ee2a3adb74db
(cherry picked from commit 72e473e45b7e34b7342429591ba8ae5da3d5e5f2)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/14/569114/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/overcloud_role.yaml'],1,05935521c032523292ac331238f86d3f62cbdadb,, awk -F':' '/^[^ \n]*compute-/ {print $1}' {{ working_dir }}/tripleo-ansible-inventory-static.yaml, awk -F':' '/^compute-/ {print $1}' {{ working_dir }}/tripleo-ansible-inventory-static.yaml,1,1
openstack%2Ftripleo-upgrade~stable%2Fqueens~I5d4a102d3ad049ee1c29080cb3e47ac6a9c5b64f,openstack/tripleo-upgrade,stable/queens,I5d4a102d3ad049ee1c29080cb3e47ac6a9c5b64f,Add tag for post fast forward upgrade tasks,MERGED,2018-05-17 13:33:26.000000000,2018-05-17 21:44:15.000000000,2018-05-17 21:44:15.000000000,"[{'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 13:33:26.000000000', 'files': ['tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f8947539f7d4aaaf308e355dd81abf69454117cb', 'message': 'Add tag for post fast forward upgrade tasks\n\nChange-Id: I5d4a102d3ad049ee1c29080cb3e47ac6a9c5b64f\n(cherry picked from commit 2db8b26795d96028ecf37748fa27c5ffd4f9918c)\n'}]",0,569110,f8947539f7d4aaaf308e355dd81abf69454117cb,7,3,1,18851,,,0,"Add tag for post fast forward upgrade tasks

Change-Id: I5d4a102d3ad049ee1c29080cb3e47ac6a9c5b64f
(cherry picked from commit 2db8b26795d96028ecf37748fa27c5ffd4f9918c)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/10/569110/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/main.yml'],1,f8947539f7d4aaaf308e355dd81abf69454117cb,tag_post_ffwd-stable/queens, tags: ffu_overcloud_post,,1,0
openstack%2Ftripleo-upgrade~stable%2Fqueens~I059419c6d77719f98df53bd7f38c8b9077568efa,openstack/tripleo-upgrade,stable/queens,I059419c6d77719f98df53bd7f38c8b9077568efa,Fix typo in ceph-ansible,MERGED,2018-05-17 13:32:50.000000000,2018-05-17 21:44:15.000000000,2018-05-17 21:44:15.000000000,"[{'_account_id': 6133}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 13:32:50.000000000', 'files': ['templates/cephosd.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6335f83fa120b002609e22ac128f8d6509fcc310', 'message': 'Fix typo in ceph-ansible\n\ndedicated_devices has an extra space, that causes the\ncommand to fail\n\nChange-Id: I059419c6d77719f98df53bd7f38c8b9077568efa\n(cherry picked from commit 1d5f1d0fd08cd07bd9f20afb861cf4e264ec45bb)\n'}]",0,569109,6335f83fa120b002609e22ac128f8d6509fcc310,7,4,1,18851,,,0,"Fix typo in ceph-ansible

dedicated_devices has an extra space, that causes the
command to fail

Change-Id: I059419c6d77719f98df53bd7f38c8b9077568efa
(cherry picked from commit 1d5f1d0fd08cd07bd9f20afb861cf4e264ec45bb)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/09/569109/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cephosd.yaml.j2'],1,6335f83fa120b002609e22ac128f8d6509fcc310,, dedicated_devices:, dedicated_devices:,1,1
openstack%2Ftripleo-quickstart-extras~master~I4849d77f21163ec8f116859c857a85f9c72ec282,openstack/tripleo-quickstart-extras,master,I4849d77f21163ec8f116859c857a85f9c72ec282,Mount /dev for chrooted environment,MERGED,2018-05-16 12:59:27.000000000,2018-05-17 21:44:13.000000000,2018-05-17 21:44:13.000000000,"[{'_account_id': 1926}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-16 12:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4f205f4cea20a3c690eda9ff7856b197b42e4f9a', 'message': 'Mount /dev for chrooted environment\n\nYum fails to run in chrooted environment because of blocking\naccess to /dev/urandom. Mount hosts /dev to chrooted.\n\nChange-Id: I4849d77f21163ec8f116859c857a85f9c72ec282\n'}, {'number': 2, 'created': '2018-05-16 13:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/aab10a6057c72d99f44632e207efff09aeb6ac83', 'message': 'Mount /dev for chrooted environment\n\nYum fails to run in chrooted environment because of blocking\naccess to /dev/urandom. Mount hosts /dev to chrooted.\n\nClose-Bug: #1770972\nChange-Id: I4849d77f21163ec8f116859c857a85f9c72ec282\n'}, {'number': 3, 'created': '2018-05-16 13:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9710e57ae8d00a69705474db472bdf8b46f13abb', 'message': 'Mount /dev for chrooted environment\n\nYum fails to run in chrooted environment because of blocking\naccess to /dev/urandom. Mount hosts /dev to chrooted.\n\nClose-Bug: #1770972\nChange-Id: I4849d77f21163ec8f116859c857a85f9c72ec282\n'}, {'number': 4, 'created': '2018-05-16 16:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8c67de88d9ae3d6fa0e8e82f67d8dc2e35c465db', 'message': 'Mount /dev for chrooted environment\n\nYum fails to run in chrooted environment because of blocking\naccess to /dev/urandom. Mount hosts /dev to chrooted.\n\nClose-Bug: #1770972\nChange-Id: I4849d77f21163ec8f116859c857a85f9c72ec282\n'}, {'number': 5, 'created': '2018-05-17 07:15:08.000000000', 'files': ['roles/modify-image/tasks/manual.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/24be18611940e873eb25644d8290650e4f59f177', 'message': 'Mount /dev for chrooted environment\n\nYum fails to run in chrooted environment because of blocking\naccess to /dev/urandom. Mount hosts /dev to chrooted.\n\nClose-Bug: #1771755\nChange-Id: I4849d77f21163ec8f116859c857a85f9c72ec282\n'}]",0,568838,24be18611940e873eb25644d8290650e4f59f177,23,7,5,10969,,,0,"Mount /dev for chrooted environment

Yum fails to run in chrooted environment because of blocking
access to /dev/urandom. Mount hosts /dev to chrooted.

Close-Bug: #1771755
Change-Id: I4849d77f21163ec8f116859c857a85f9c72ec282
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/38/568838/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/modify-image/tasks/manual.yml'],1,4f205f4cea20a3c690eda9ff7856b197b42e4f9a,bug/1770972, mount -o bind /dev {{ mount_tempdir }}/dev/;,,1,0
openstack%2Ftripleo-upgrade~stable%2Fqueens~I214fce0d5ed78497e4d4fb3656d341ae052d1376,openstack/tripleo-upgrade,stable/queens,I214fce0d5ed78497e4d4fb3656d341ae052d1376,WIP: Do not run nic template conversion on default tht location,ABANDONED,2018-05-17 18:07:49.000000000,2018-05-17 21:41:52.000000000,,"[{'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 18:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f42ee6ae68c20111dc492af8f7c2541bc7df784a', 'message': 'DNM: Test fast forward gate job\n\nDepends-On: Ia59230a30890104e93116ccbd433237492042cf8\nChange-Id: I214fce0d5ed78497e4d4fb3656d341ae052d1376\n'}, {'number': 2, 'created': '2018-05-17 21:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0532af9ddfa10e579f95ceb1f612d16075ca38b1', 'message': 'WIP: Do not run nic template conversion on default tht location\n\nDepends-On: Ia59230a30890104e93116ccbd433237492042cf8\nChange-Id: I214fce0d5ed78497e4d4fb3656d341ae052d1376\n'}, {'number': 3, 'created': '2018-05-17 21:37:32.000000000', 'files': ['tasks/common/convert_nic_templates.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7c76a90ced2b7b978f735dc481c6a5442bb33b1e', 'message': 'WIP: Do not run nic template conversion on default tht location\n\nDepends-On: Ia59230a30890104e93116ccbd433237492042cf8\nChange-Id: I214fce0d5ed78497e4d4fb3656d341ae052d1376\n'}]",0,569200,7c76a90ced2b7b978f735dc481c6a5442bb33b1e,9,3,3,18851,,,0,"WIP: Do not run nic template conversion on default tht location

Depends-On: Ia59230a30890104e93116ccbd433237492042cf8
Change-Id: I214fce0d5ed78497e4d4fb3656d341ae052d1376
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/00/569200/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/main.yml'],1,f42ee6ae68c20111dc492af8f7c2541bc7df784a,test_ffu,# test,,1,0
openstack%2Fpuppet-nova~master~Ia069294c8d07c13005f01940af7dcc4fb532a675,openstack/puppet-nova,master,Ia069294c8d07c13005f01940af7dcc4fb532a675,Remove dependency on sysctl puppet module,MERGED,2018-05-16 09:32:25.000000000,2018-05-17 21:38:23.000000000,2018-05-17 21:38:23.000000000,"[{'_account_id': 3153}, {'_account_id': 10068}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 09:32:25.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/03f27abf5245d7d2529fedc389015bd55e215237', 'message': 'Remove dependency on sysctl puppet module\n\npuppet-nova no longer specifies sysctl settings anywhere\n\nCloses-Bug: 1771533\n\nChange-Id: Ia069294c8d07c13005f01940af7dcc4fb532a675\n'}]",0,568800,03f27abf5245d7d2529fedc389015bd55e215237,8,4,1,28225,,,0,"Remove dependency on sysctl puppet module

puppet-nova no longer specifies sysctl settings anywhere

Closes-Bug: 1771533

Change-Id: Ia069294c8d07c13005f01940af7dcc4fb532a675
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/00/568800/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,03f27abf5245d7d2529fedc389015bd55e215237,bug/1771533,} ," ""name"": ""duritong/sysctl"", ""version_requirement"": "">=0.0.1 <1.0.0"" }, {}",1,5
openstack%2Fpuppet-nova~master~I688436ca4449e1865549acc7481ef1978644c528,openstack/puppet-nova,master,I688436ca4449e1865549acc7481ef1978644c528,Lift restriction of choices for 'cpu_model_extra_flags',MERGED,2018-05-16 12:43:42.000000000,2018-05-17 21:38:22.000000000,2018-05-17 21:38:22.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 9414}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-05-16 12:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/32769ce34168937b9da76058de67ff3e68dea0c1', 'message': 'Lift restriction of choices for \'cpu_model_extra_flags\'\n\nCommit c12e3580 (Handle libvirt/cpu_model_extra_flags option)\nadded support for handling invididual CPU feature flags, but\nrestricted the options only to ""PCID"".\n\nIn this change, we lift the restriction of choices, and allow\nto specify multiple CPU feature flags for all three CPU modes\nfor the libvirt driver: \'custom\', \'host-model\' and \'host-passthrough\'.\n\nNOTE: The related changes are done in change:\nId4f2cad2e0b0c34a7a68d0b3a6f69b44816f4cd9\n\nChange-Id: I688436ca4449e1865549acc7481ef1978644c528\n'}, {'number': 2, 'created': '2018-05-16 12:50:21.000000000', 'files': ['spec/classes/nova_compute_libvirt_spec.rb', 'releasenotes/notes/extra_cpu_flags-2de6915770ac9514.yaml', 'manifests/compute/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a1ee3a084c79772cd2b0c809f1e538547ccea5e8', 'message': 'Lift restriction of choices for \'cpu_model_extra_flags\'\n\nCommit c12e3580 (Handle libvirt/cpu_model_extra_flags option)\nadded support for handling invididual CPU feature flags, but\nrestricted the options only to ""PCID"".\n\nIn this change, we lift the restriction of choices, and allow\nto specify multiple CPU feature flags for all three CPU modes\nfor the libvirt driver: \'custom\', \'host-model\' and \'host-passthrough\'.\n\nNOTE: The related changes are done in change:\nId4f2cad2e0b0c34a7a68d0b3a6f69b44816f4cd9\n\nChange-Id: I688436ca4449e1865549acc7481ef1978644c528\n'}]",4,568832,a1ee3a084c79772cd2b0c809f1e538547ccea5e8,11,10,2,20733,,,0,"Lift restriction of choices for 'cpu_model_extra_flags'

Commit c12e3580 (Handle libvirt/cpu_model_extra_flags option)
added support for handling invididual CPU feature flags, but
restricted the options only to ""PCID"".

In this change, we lift the restriction of choices, and allow
to specify multiple CPU feature flags for all three CPU modes
for the libvirt driver: 'custom', 'host-model' and 'host-passthrough'.

NOTE: The related changes are done in change:
Id4f2cad2e0b0c34a7a68d0b3a6f69b44816f4cd9

Change-Id: I688436ca4449e1865549acc7481ef1978644c528
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/32/568832/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_libvirt_spec.rb', 'releasenotes/notes/extra_cpu_flags-2de6915770ac9514.yaml', 'manifests/compute/libvirt.pp']",3,32769ce34168937b9da76058de67ff3e68dea0c1,extra_cpu_flags_limit,"# specifying CPU models. Only has effect if cpu_mode is not set # to 'none'. } if $libvirt_cpu_mode_real != 'none' { validate_string($libvirt_cpu_model_extra_flags) nova_config { 'libvirt/cpu_model_extra_flags': value => $libvirt_cpu_model_extra_flags; } } else { nova_config { 'libvirt/cpu_model_extra_flags': ensure => absent; } if $libvirt_cpu_model_extra_flags { warning('$libvirt_cpu_model_extra_flags requires that $libvirt_cpu_mode is not set to ""none"" and will be ignored')","# specifying CPU models. Only valid, if cpu_mode and cpu_model # attributes are specified and only if cpu_mode=""custom"". 'libvirt/cpu_model_extra_flags': value => $libvirt_cpu_model_extra_flags; 'libvirt/cpu_model_extra_flags': ensure => absent; if $libvirt_cpu_model_extra_flags { warning('$libvirt_cpu_model_extra_flags requires that $libvirt_cpu_mode => ""custom"" and will be ignored')",27,11
openstack%2Fpuppet-openstack-integration~master~I325e2f722b11deb51a1b8f40d21fddac4593834c,openstack/puppet-openstack-integration,master,I325e2f722b11deb51a1b8f40d21fddac4593834c,Debian: correct /var/log/swift unix rights,MERGED,2018-05-16 13:05:54.000000000,2018-05-17 21:37:22.000000000,2018-05-17 21:37:22.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 6476}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 13:05:54.000000000', 'files': ['manifests/swift.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/423c5d0b5eeb86c690ad5529831acfaeb81efa0a', 'message': ""Debian: correct /var/log/swift unix rights\n\nDebian package uses swift:adm with 0750, let's not force something else,\nas this makes the puppet run not indempotent.\n\nChange-Id: I325e2f722b11deb51a1b8f40d21fddac4593834c\n""}]",0,568839,423c5d0b5eeb86c690ad5529831acfaeb81efa0a,9,7,1,6476,,,0,"Debian: correct /var/log/swift unix rights

Debian package uses swift:adm with 0750, let's not force something else,
as this makes the puppet run not indempotent.

Change-Id: I325e2f722b11deb51a1b8f40d21fddac4593834c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/39/568839/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/swift.pp'],1,423c5d0b5eeb86c690ad5529831acfaeb81efa0a,no-swift-rights," if ($::os_package_type == 'debian') { file { '/var/log/swift': ensure => directory, mode => '0750', } } else { file { '/var/log/swift': ensure => directory, mode => '0755', } owner => 'swift',"," file { '/var/log/swift': ensure => directory, mode => '0755', owner => 'root',",11,4
openstack%2Ftripleo-common~master~I46f287e02cedc31161f319608d837760fb99b561,openstack/tripleo-common,master,I46f287e02cedc31161f319608d837760fb99b561,Support multiple architectures,ABANDONED,2017-12-14 16:06:51.000000000,2018-05-17 21:34:58.000000000,,"[{'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 18242}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2017-12-14 16:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/48d7e68c8914b0fea666407a9ab4d4266fa0cb25', 'message': '[WIP] Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: I46f287e02cedc31161f319608d837760fb99b561\nPartial-Bug: 173822\n'}, {'number': 2, 'created': '2017-12-14 19:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/927e0ec13ff227525000b5b3bd82e071c6414fe1', 'message': '[WIP] Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: I46f287e02cedc31161f319608d837760fb99b561\nDepends-On: 528060\nPartial-Bug: 173822\n'}, {'number': 3, 'created': '2017-12-16 22:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/73ed5c539d6b86e208740b480bb1410bc43c4267', 'message': '[WIP] Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: I46f287e02cedc31161f319608d837760fb99b561\nDepends-On: 528060\nPartial-Bug: 173822\n'}, {'number': 4, 'created': '2017-12-19 14:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/163c1536215ea59835389473365f4d3e3eed309c', 'message': '[WIP] Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: I46f287e02cedc31161f319608d837760fb99b561\nDepends-On: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6\nPartial-Bug: 1738228\n'}, {'number': 5, 'created': '2017-12-19 22:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/31d804fbd5bfb6701df2f6f9b7817eeae4619917', 'message': '[WIP] Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: I46f287e02cedc31161f319608d837760fb99b561\nDepends-On: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6\nPartial-Bug: 1738228\n'}, {'number': 6, 'created': '2017-12-20 15:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d5c1a6fb90224d8d08d637d52288cba24f008d88', 'message': '[WIP] Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: I46f287e02cedc31161f319608d837760fb99b561\nPartial-Bug: 1738228\n'}, {'number': 7, 'created': '2017-12-20 20:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/42d920831251aa1b7e8ad0c1e9f7e4c7ef08bd7c', 'message': '[WIP] Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: I46f287e02cedc31161f319608d837760fb99b561\nPartial-Bug: 1738228\n'}, {'number': 8, 'created': '2017-12-20 23:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ae09913912e0f1a67061982381ba193d2c6c0b03', 'message': '[WIP] Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: I46f287e02cedc31161f319608d837760fb99b561\nPartial-Bug: 1738228\n'}, {'number': 9, 'created': '2017-12-21 13:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1f9f3e2fbc0951c127ea67b9582de2c1e1fcac11', 'message': '[WIP] Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: I46f287e02cedc31161f319608d837760fb99b561\nDepends-On: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6\nPartial-Bug: 1738228\n'}, {'number': 10, 'created': '2018-01-22 19:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/11dd282f5c17002569a351ec7022999fa55ad6b5', 'message': 'Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: I46f287e02cedc31161f319608d837760fb99b561\nDepends-On: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6\nPartial-Bug: 1738228\n'}, {'number': 11, 'created': '2018-01-22 21:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/da038a8e18808777651042b093a8269624d2f745', 'message': 'Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: I46f287e02cedc31161f319608d837760fb99b561\nDepends-On: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6\nPartial-Bug: 1738228\n'}, {'number': 12, 'created': '2018-01-23 21:46:25.000000000', 'files': ['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/tests/utils/test_glance.py', 'tripleo_common/constants.py', 'workbooks/baremetal.yaml', 'tripleo_common/utils/glance.py', 'tripleo_common/tests/actions/test_validations.py', 'tripleo_common/utils/nodes.py', 'releasenotes/notes/support-multiple-architectures-e8da47a64171769d.yaml', 'tripleo_common/actions/baremetal.py', 'workbooks/validations.yaml', 'tripleo_common/actions/validations.py', 'tripleo_common/tests/actions/test_baremetal.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ab4bc8d6f6f3c945ad6731310eb4675d5fa0ab99', 'message': 'Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nThere is now a new tag called arch_flavor in the capabilities field.\nThis tag can optionally specify a sub architecture.  For example,\nPower PC kernels can have different compile flags for the P8 or P9\nchip sets.  To use this, you would add:\n""profile:compute,boot_option:local,arch_flavor:P8""\nwhich would change the architecture to look like ppc64le-P8\nand the images would now be ppc64le-P8-bm-deploy-kernel, etc.\n\nChange-Id: I46f287e02cedc31161f319608d837760fb99b561\nDepends-On: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6\nPartial-Bug: 1738228\n'}]",18,528000,ab4bc8d6f6f3c945ad6731310eb4675d5fa0ab99,54,6,12,18242,,,0,"Support multiple architectures

Currently TripleO is hard coded for x86_64 architecture.  There are
files for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying
the overcloud image
{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.

This needs to change to support other architectures like PowerPC.  I am
currently proposing that the images be consistently renamed to include
the uname string.

(undercloud) [stack@oscloud5 ~]$ openstack image list
...
| ... | ppc64le-bm-deploy-kernel      | active |
| ... | ppc64le-bm-deploy-ramdisk     | active |
| ... | ppc64le-overcloud-full        | active |
| ... | x86_64-bm-deploy-kernel       | active |
| ... | x86_64-bm-deploy-ramdisk      | active |
| ... | x86_64-overcloud-full         | active |
| ... | x86_64-overcloud-full-initrd  | active |
| ... | x86_64-overcloud-full-vmlinuz | active |
...

There is now a new tag called arch_flavor in the capabilities field.
This tag can optionally specify a sub architecture.  For example,
Power PC kernels can have different compile flags for the P8 or P9
chip sets.  To use this, you would add:
""profile:compute,boot_option:local,arch_flavor:P8""
which would change the architecture to look like ppc64le-P8
and the images would now be ppc64le-P8-bm-deploy-kernel, etc.

Change-Id: I46f287e02cedc31161f319608d837760fb99b561
Depends-On: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6
Partial-Bug: 1738228
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/528000/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/baremetal.py', 'tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/tests/utils/test_glance.py', 'tripleo_common/constants.py', 'workbooks/baremetal.yaml', 'workbooks/validations.yaml', 'tripleo_common/actions/validations.py', 'tripleo_common/utils/glance.py', 'tripleo_common/tests/actions/test_validations.py', 'tripleo_common/tests/actions/test_baremetal.py', 'tripleo_common/utils/nodes.py']",11,48d7e68c8914b0fea666407a9ab4d4266fa0cb25,bug/1738228,"from glanceclient.v2.client import Client as real_glance_client from glanceclient import exc as exceptions def register_all_nodes(nodes_list, client, remove=False, no_deploy_image=False, glance_client=None): def find_image(glanceclient, name, disk_format): image = None if isinstance(glanceclient, real_glance_client): images = glanceclient.images.list(name=name, disk_format=disk_format) for img in images: if ((img['name'] == name or img['id'] == name) and img['disk_format'] == disk_format): image = img if not image: raise exceptions.NotFound(""No image found"") elif glanceclient is not None: # TODO(dprince) remove this # This code expects the python-openstackclient version of # ""glanceclient"" (which isn't pure python-glanceclient) and is # here for backwards compat until python-tripleoclient starts # using the Mistral API for this functionality. image = glanceclient.images.find(name=name, disk_format=disk_format) else: return None return image['id'] if not node.has_key('arch'): raise exception.InvalidNode('The arch field is missing') kernel_name = node['arch']+'-bm-deploy-kernel' kernel_id = find_image(glance_client, name=kernel_name, disk_format='aki') if not kernel_id: raise exceptions.NotFound(""No image found for ""+kernel_name) ramdisk_name = node['arch']+'-bm-deploy-ramdisk' ramdisk_id = find_image(glance_client, name=ramdisk_name, disk_format='ari') if not ramdisk_id: raise exceptions.NotFound(""No image found for ""+ramdisk_name) if no_deploy_image == False: node['kernel_id'] = kernel_id node['ramdisk_id'] = ramdisk_id","def register_all_nodes(nodes_list, client, remove=False, glance_client=None, kernel_name=None, ramdisk_name=None): glance_ids = {'kernel': None, 'ramdisk': None} if kernel_name and ramdisk_name: glance_ids = glance.create_or_find_kernel_and_ramdisk( glance_client, kernel_name, ramdisk_name) if glance_ids['kernel'] and 'kernel_id' not in node: node['kernel_id'] = glance_ids['kernel'] if glance_ids['ramdisk'] and 'ramdisk_id' not in node: node['ramdisk_id'] = glance_ids['ramdisk']",1196,736
openstack%2Fpython-tripleoclient~master~Ie5884895bb996e65bc0148908aa3cdf99b25d1b6,openstack/python-tripleoclient,master,Ie5884895bb996e65bc0148908aa3cdf99b25d1b6,Support multiple architectures,ABANDONED,2017-12-14 19:33:57.000000000,2018-05-17 21:34:46.000000000,,"[{'_account_id': 12898}, {'_account_id': 18242}, {'_account_id': 19853}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-12-14 19:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aa0edae4ef2734713aa367655cb6606e9e8d8a9a', 'message': '[WIP] Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nDepends-On: 528000\nChange-Id: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6\nPartial-Bug: 173822\n'}, {'number': 2, 'created': '2017-12-19 22:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e434164d914925c5ba7d78fc478df1242d2ccd04', 'message': '[WIP] Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6\nPartial-Bug: 1738228\n'}, {'number': 3, 'created': '2017-12-21 02:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/820226e5d94ab5b729feca8ed46b1564fe862204', 'message': '[WIP] Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6\nDepends-On: I46f287e02cedc31161f319608d837760fb99b561\nPartial-Bug: 1738228\n'}, {'number': 4, 'created': '2017-12-21 13:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/014683c44d7d345c19088a7e6afd5331c7f07d2d', 'message': '[WIP] Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6\nPartial-Bug: 1738228\n'}, {'number': 5, 'created': '2018-01-22 19:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c5c58fcbde9593ee4360b7fd1966e0906597ddcd', 'message': 'Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6\nPartial-Bug: 1738228\n'}, {'number': 6, 'created': '2018-01-22 21:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5a46667eeb2f4c6115dcefd4340b62f7df1bb041', 'message': 'Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6\nPartial-Bug: 1738228\n'}, {'number': 7, 'created': '2018-01-22 23:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8de881f7e39f4246bbc5cc83f8e8ce9a8aa5f677', 'message': 'Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nChange-Id: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6\nPartial-Bug: 1738228\n'}, {'number': 8, 'created': '2018-01-23 19:39:45.000000000', 'files': ['tripleoclient/v1/overcloud_image.py', 'releasenotes/notes/support-multiple-architectures-631aed5856492474.yaml', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py', 'tripleoclient/v1/overcloud_node.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/78985652815dd0ad50c867228a1d9f6f0b2747dc', 'message': 'Support multiple architectures\n\nCurrently TripleO is hard coded for x86_64 architecture.  There are\nfiles for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying\nthe overcloud image\n{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.\n\nThis needs to change to support other architectures like PowerPC.  I am\ncurrently proposing that the images be consistently renamed to include\nthe uname string.\n\n(undercloud) [stack@oscloud5 ~]$ openstack image list\n...\n| ... | ppc64le-bm-deploy-kernel      | active |\n| ... | ppc64le-bm-deploy-ramdisk     | active |\n| ... | ppc64le-overcloud-full        | active |\n| ... | x86_64-bm-deploy-kernel       | active |\n| ... | x86_64-bm-deploy-ramdisk      | active |\n| ... | x86_64-overcloud-full         | active |\n| ... | x86_64-overcloud-full-initrd  | active |\n| ... | x86_64-overcloud-full-vmlinuz | active |\n...\n\nThere is now a new tag called arch_flavor in the capabilities field.\nThis tag can optionally specify a sub architecture.  For example,\nPower PC kernels can have different compile flags for the P8 or P9\nchip sets.  To use this, you would add:\n""profile:compute,boot_option:local,arch_flavor:P8""\nwhich would change the architecture to look like ppc64le-P8\nand the images would now be ppc64le-P8-bm-deploy-kernel, etc.\n\nChange-Id: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6\nPartial-Bug: 1738228\n'}]",9,528060,78985652815dd0ad50c867228a1d9f6f0b2747dc,37,5,8,18242,,,0,"Support multiple architectures

Currently TripleO is hard coded for x86_64 architecture.  There are
files for Ironic IPA {bm-deploy-kernel,bm-deploy-ramdisk} and deploying
the overcloud image
{overcloud-full,overcloud-full-initrd,overcloud-full-vmlinuz}.

This needs to change to support other architectures like PowerPC.  I am
currently proposing that the images be consistently renamed to include
the uname string.

(undercloud) [stack@oscloud5 ~]$ openstack image list
...
| ... | ppc64le-bm-deploy-kernel      | active |
| ... | ppc64le-bm-deploy-ramdisk     | active |
| ... | ppc64le-overcloud-full        | active |
| ... | x86_64-bm-deploy-kernel       | active |
| ... | x86_64-bm-deploy-ramdisk      | active |
| ... | x86_64-overcloud-full         | active |
| ... | x86_64-overcloud-full-initrd  | active |
| ... | x86_64-overcloud-full-vmlinuz | active |
...

There is now a new tag called arch_flavor in the capabilities field.
This tag can optionally specify a sub architecture.  For example,
Power PC kernels can have different compile flags for the P8 or P9
chip sets.  To use this, you would add:
""profile:compute,boot_option:local,arch_flavor:P8""
which would change the architecture to look like ppc64le-P8
and the images would now be ppc64le-P8-bm-deploy-kernel, etc.

Change-Id: Ie5884895bb996e65bc0148908aa3cdf99b25d1b6
Partial-Bug: 1738228
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/60/528060/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_image.py', 'tripleoclient/v1/overcloud_node.py', 'tripleoclient/v1/overcloud_deploy.py']",3,aa0edae4ef2734713aa367655cb6606e9e8d8a9a,bug/1738228,," 'deploy_kernel_name': 'bm-deploy-kernel', 'deploy_ramdisk_name': 'bm-deploy-ramdisk',",4,13
openstack%2Frequirements~master~Ie2e8cbebf219e9ac1e3641ba05024494b8934891,openstack/requirements,master,Ie2e8cbebf219e9ac1e3641ba05024494b8934891,remove pika-pool,MERGED,2018-05-17 15:28:03.000000000,2018-05-17 21:21:47.000000000,2018-05-17 21:21:47.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 15:28:03.000000000', 'files': ['global-requirements.txt', 'openstack_requirements/tests/files/upper-constraints.txt', 'lower-constraints.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/632b75a78f70c5f7f9157e57fc1f257833d71f24', 'message': 'remove pika-pool\n\nnot updated since 2016\ninactive upstream\nnot used anywhere I can see\n\nChange-Id: Ie2e8cbebf219e9ac1e3641ba05024494b8934891\n'}]",0,569150,632b75a78f70c5f7f9157e57fc1f257833d71f24,9,3,1,14288,,,0,"remove pika-pool

not updated since 2016
inactive upstream
not used anywhere I can see

Change-Id: Ie2e8cbebf219e9ac1e3641ba05024494b8934891
",git fetch https://review.opendev.org/openstack/requirements refs/changes/50/569150/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'openstack_requirements/tests/files/upper-constraints.txt', 'lower-constraints.txt', 'upper-constraints.txt']",4,632b75a78f70c5f7f9157e57fc1f257833d71f24,remove-pika-pool,,pika-pool===0.1.3,0,4
openstack%2Fcinder~master~I5fb17c6cf730a6c5c0149b60ec66af73fc24bab8,openstack/cinder,master,I5fb17c6cf730a6c5c0149b60ec66af73fc24bab8,Remove ZFSSA static config option tables,MERGED,2018-05-02 11:33:58.000000000,2018-05-17 21:21:44.000000000,2018-05-17 21:21:44.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-02 11:33:58.000000000', 'files': ['doc/source/configuration/tables/cinder-zfssa-iscsi.inc', 'doc/source/configuration/tables/cinder-zfssa-nfs.inc', 'doc/source/configuration/block-storage/drivers/zfssa-nfs-driver.rst', 'doc/source/configuration/block-storage/drivers/zfssa-iscsi-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3873225d76ddd095692ab1b308c55e2b5415b16', 'message': 'Remove ZFSSA static config option tables\n\nSwitch to using config-table directive.\n\nChange-Id: I5fb17c6cf730a6c5c0149b60ec66af73fc24bab8\n'}]",0,565708,e3873225d76ddd095692ab1b308c55e2b5415b16,27,23,1,11904,,,0,"Remove ZFSSA static config option tables

Switch to using config-table directive.

Change-Id: I5fb17c6cf730a6c5c0149b60ec66af73fc24bab8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/565708/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/tables/cinder-zfssa-iscsi.inc', 'doc/source/configuration/tables/cinder-zfssa-nfs.inc', 'doc/source/configuration/block-storage/drivers/zfssa-nfs-driver.rst', 'doc/source/configuration/block-storage/drivers/zfssa-iscsi-driver.rst']",4,e3873225d76ddd095692ab1b308c55e2b5415b16,config-table,.. config-table:: :config-target: ZFS Storage Appliance iSCSI cinder.volume.drivers.zfssa.zfssaiscsi,.. include:: ../../tables/cinder-zfssa-iscsi.inc,8,104
openstack%2Fcinder~master~I8142d5026a9760efdbbac763628fec3c99571e55,openstack/cinder,master,I8142d5026a9760efdbbac763628fec3c99571e55,Remove SolidFire static config option table,MERGED,2018-05-02 11:34:16.000000000,2018-05-17 21:21:41.000000000,2018-05-17 21:21:41.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-02 11:34:16.000000000', 'files': ['doc/source/configuration/block-storage/drivers/solidfire-volume-driver.rst', 'doc/source/configuration/tables/cinder-solidfire.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6f256f3e84e7cdb776f370ca04359050e5798ba', 'message': 'Remove SolidFire static config option table\n\nSwitch to using config-table directive.\n\nChange-Id: I8142d5026a9760efdbbac763628fec3c99571e55\n'}]",0,565710,f6f256f3e84e7cdb776f370ca04359050e5798ba,24,20,1,11904,,,0,"Remove SolidFire static config option table

Switch to using config-table directive.

Change-Id: I8142d5026a9760efdbbac763628fec3c99571e55
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/565710/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/drivers/solidfire-volume-driver.rst', 'doc/source/configuration/tables/cinder-solidfire.inc']",2,f6f256f3e84e7cdb776f370ca04359050e5798ba,config-table,,".. Warning: Do not edit this file. It is automatically generated from the software project's code and your changes will be overwritten. The tool to generate this file lives in openstack-doc-tools repository. Please make any changes needed in the code, then run the autogenerate-config-doc tool from the openstack-doc-tools repository, or ask for help on the documentation mailing list, IRC channel or meeting. .. _cinder-solidfire: .. list-table:: Description of SolidFire driver configuration options :header-rows: 1 :class: config-ref-table * - Configuration option = Default value - Description * - **[DEFAULT]** - * - ``sf_account_prefix`` = ``None`` - (String) Create SolidFire accounts with this prefix. Any string can be used here, but the string ""hostname"" is special and will create a prefix using the cinder node hostname (previous default behavior). The default is NO prefix. * - ``sf_allow_template_caching`` = ``True`` - (Boolean) Create an internal cache of copy of images when a bootable volume is created to eliminate fetch from glance and qemu-conversion on subsequent calls. * - ``sf_allow_tenant_qos`` = ``False`` - (Boolean) Allow tenants to specify QOS on create * - ``sf_api_port`` = ``443`` - (Port number) SolidFire API port. Useful if the device api is behind a proxy on a different port. * - ``sf_emulate_512`` = ``True`` - (Boolean) Set 512 byte emulation on volume creation; * - ``sf_enable_vag`` = ``False`` - (Boolean) Utilize volume access groups on a per-tenant basis. * - ``sf_enable_volume_mapping`` = ``True`` - (Boolean) Create an internal mapping of volume IDs and account. Optimizes lookups and performance at the expense of memory, very large deployments may want to consider setting to False. * - ``sf_svip`` = ``None`` - (String) Overrides default cluster SVIP with the one specified. This is required or deployments that have implemented the use of VLANs for iSCSI networks in their cloud. * - ``sf_template_account_name`` = ``openstack-vtemplate`` - (String) Account name on the SolidFire Cluster to use as owner of template/cache volumes (created if does not exist). * - ``sf_volume_prefix`` = ``UUID-`` - (String) Create SolidFire volumes with this prefix. Volume names are of the form <sf_volume_prefix><cinder-volume-id>. The default is to use a prefix of 'UUID-'. ",4,41
openstack%2Fcinder~master~Iebb2ca7a7895fb9e4a35ae856dfaca0562a3cbc0,openstack/cinder,master,Iebb2ca7a7895fb9e4a35ae856dfaca0562a3cbc0,Remove Synology static config option table,MERGED,2018-05-02 11:34:26.000000000,2018-05-17 21:21:38.000000000,2018-05-17 21:21:38.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23302}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-02 11:34:26.000000000', 'files': ['doc/source/configuration/tables/cinder-synology.inc', 'doc/source/configuration/block-storage/drivers/synology-dsm-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/405570df66a8ce7254d74a9ed3338a0d9b80dceb', 'message': 'Remove Synology static config option table\n\nSwitch to using config-table directive.\n\nChange-Id: Iebb2ca7a7895fb9e4a35ae856dfaca0562a3cbc0\n'}]",0,565711,405570df66a8ce7254d74a9ed3338a0d9b80dceb,24,20,1,11904,,,0,"Remove Synology static config option table

Switch to using config-table directive.

Change-Id: Iebb2ca7a7895fb9e4a35ae856dfaca0562a3cbc0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/565711/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/tables/cinder-synology.inc', 'doc/source/configuration/block-storage/drivers/synology-dsm-driver.rst']",2,405570df66a8ce7254d74a9ed3338a0d9b80dceb,config-table,.. config-table: :config-target: Synology cinder.volume.drivers.synology.synology_common,.. include:: ../../tables/cinder-synology.inc,4,35
openstack%2Fopenstack-helm~master~If2a659fc69efb1806ccd3b0a8ed3e2811dea1bb5,openstack/openstack-helm,master,If2a659fc69efb1806ccd3b0a8ed3e2811dea1bb5,DNM: Use built-in RabbitMQ 3.7 clustering,ABANDONED,2017-05-15 15:34:28.000000000,2018-05-17 21:21:37.000000000,,"[{'_account_id': 24427}, {'_account_id': 25907}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-05-15 15:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3f05ca68f6a3bbbbe650e2105f8bfc6324d00854', 'message': 'WIP: Use built-in RabbitMQ 3.7 clustering\n\nThis reverts commit c6ff0dd075585285cca491ac68851c1a48d5bac3.\n\nThis is based on previous changes, but also includes a new feature of\nbeing able to support independent scaling of disc and ram nodes, and\nfixes a bug where disc nodes were not actually backed by persistent\ndisk.\n\nChange-Id: If2a659fc69efb1806ccd3b0a8ed3e2811dea1bb5\n'}, {'number': 2, 'created': '2017-05-16 16:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cab40fc3d4fd2435b3798cddc2d2f046f28cd5fb', 'message': 'WIP: Use built-in RabbitMQ 3.7 clustering\n\nThis reverts commit c6ff0dd075585285cca491ac68851c1a48d5bac3.\n\nThis is based on previous changes, but also includes a new feature of\nbeing able to support independent scaling of disc and ram nodes, and\nfixes a bug where disc nodes were not actually backed by persistent\ndisk.\n\nChange-Id: If2a659fc69efb1806ccd3b0a8ed3e2811dea1bb5\n'}, {'number': 3, 'created': '2017-05-16 16:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/24554f7f4bc1475ae48d57c73aa2c79d5404bf4c', 'message': 'WIP: Use built-in RabbitMQ 3.7 clustering\n\nThis reverts commit c6ff0dd075585285cca491ac68851c1a48d5bac3.\n\nThis is based on previous changes, but also includes a new feature of\nbeing able to support independent scaling of disc and ram nodes, and\nfixes a bug where disc nodes were not actually backed by persistent\ndisk.\n\nChange-Id: If2a659fc69efb1806ccd3b0a8ed3e2811dea1bb5\n'}, {'number': 4, 'created': '2017-05-17 13:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aa9d05dfd4d64faf6dd296fc2381d6fd4b472833', 'message': 'WIP: Use built-in RabbitMQ 3.7 clustering\n\nThis reverts commit c6ff0dd075585285cca491ac68851c1a48d5bac3.\n\nThis is based on previous changes, but also includes a new feature of\nbeing able to support independent scaling of disc and ram nodes, and\nfixes a bug where disc nodes were not actually backed by persistent\ndisk.\n\nChange-Id: If2a659fc69efb1806ccd3b0a8ed3e2811dea1bb5\n'}, {'number': 5, 'created': '2017-05-19 13:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/636d73aed97df33e0cadc897f17e2a55f5600ce1', 'message': 'WIP: Use built-in RabbitMQ 3.7 clustering\n\nThis reverts commit c6ff0dd075585285cca491ac68851c1a48d5bac3.\n\nThis is based on previous changes, but also includes a new feature of\nbeing able to support independent scaling of disc and ram nodes, and\nfixes a bug where disc nodes were not actually backed by persistent\ndisk.\n\nChange-Id: If2a659fc69efb1806ccd3b0a8ed3e2811dea1bb5\n'}, {'number': 6, 'created': '2017-05-25 14:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/884dd3676c6d194e96131a4742c8ff0122fc0653', 'message': 'DNM: Use built-in RabbitMQ 3.7 clustering\n\nThis reverts commit c6ff0dd075585285cca491ac68851c1a48d5bac3.\n\nThis is based on previous changes, but also includes a new feature of\nbeing able to support independent scaling of disc and ram nodes, and\nfixes a bug where disc nodes were not actually backed by persistent\ndisk.\n\nChange-Id: If2a659fc69efb1806ccd3b0a8ed3e2811dea1bb5\n'}, {'number': 7, 'created': '2017-06-01 15:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d70935a790d3bacadb60b17ed724a4bce1c93226', 'message': 'DNM: Use built-in RabbitMQ 3.7 clustering\n\nThis reverts commit c6ff0dd075585285cca491ac68851c1a48d5bac3.\n\nThis is based on previous changes, but also includes a new feature of\nbeing able to support independent scaling of disc and ram nodes, and\nfixes a bug where disc nodes were not actually backed by persistent\ndisk.\n\nChange-Id: If2a659fc69efb1806ccd3b0a8ed3e2811dea1bb5\n'}, {'number': 8, 'created': '2017-06-20 13:49:32.000000000', 'files': ['rabbitmq/templates/etc/_rabbitmq-disc-node.conf.tpl', 'rabbitmq/templates/etc/_rabbitmq-ram-node.conf.tpl', 'rabbitmq/templates/etc/_rabbitmq-env.conf.tpl', 'rabbitmq/templates/etc/_rabbitmq.config.tpl', 'rabbitmq/templates/bin/_rabbitmq-liveness.sh.tpl', 'rabbitmq/templates/bin/_rabbitmq-check-helpers.sh.tpl', 'rabbitmq/templates/configmap-etc.yaml', 'rabbitmq/templates/bin/_rabbitmq-readiness.sh.tpl', 'rabbitmq/templates/service-disc-node.yaml', 'rabbitmq/templates/service-discovery.yaml', 'rabbitmq/templates/statefulset-ram-node.yaml', 'rabbitmq/templates/statefulset-disc-node.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/service-ram-node.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e32428afc89f7d8088a86dcbbbb5e32c05ed38d4', 'message': 'DNM: Use built-in RabbitMQ 3.7 clustering\n\nThis reverts commit c6ff0dd075585285cca491ac68851c1a48d5bac3.\n\nThis is based on previous changes, but also includes a new feature of\nbeing able to support independent scaling of disc and ram nodes, and\nfixes a bug where disc nodes were not actually backed by persistent\ndisk.\n\nChange-Id: If2a659fc69efb1806ccd3b0a8ed3e2811dea1bb5\n'}]",4,464669,e32428afc89f7d8088a86dcbbbb5e32c05ed38d4,33,3,8,25907,,,0,"DNM: Use built-in RabbitMQ 3.7 clustering

This reverts commit c6ff0dd075585285cca491ac68851c1a48d5bac3.

This is based on previous changes, but also includes a new feature of
being able to support independent scaling of disc and ram nodes, and
fixes a bug where disc nodes were not actually backed by persistent
disk.

Change-Id: If2a659fc69efb1806ccd3b0a8ed3e2811dea1bb5
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/69/464669/4 && git format-patch -1 --stdout FETCH_HEAD,"['rabbitmq/templates/etc/_rabbitmq-disc-node.conf.tpl', 'rabbitmq/templates/etc/_rabbitmq-ram-node.conf.tpl', 'rabbitmq/templates/etc/_rabbitmq-env.conf.tpl', 'rabbitmq/templates/etc/_rabbitmq.config.tpl', 'rabbitmq/templates/bin/_rabbitmq-liveness.sh.tpl', 'rabbitmq/templates/bin/_rabbitmq-check-helpers.sh.tpl', 'rabbitmq/templates/configmap-etc.yaml', 'rabbitmq/templates/bin/_rabbitmq-readiness.sh.tpl', 'rabbitmq/templates/service-disc-node.yaml', 'rabbitmq/templates/service-discovery.yaml', 'rabbitmq/templates/statefulset-ram-node.yaml', 'rabbitmq/templates/statefulset-disc-node.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/service-ram-node.yaml']",14,3f05ca68f6a3bbbbe650e2105f8bfc6324d00854,reintroduce-rmq-overhaul,"# Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. apiVersion: v1 kind: Service metadata: name: rabbitmq-ram-node annotations: service.alpha.kubernetes.io/tolerate-unready-endpoints: ""true"" spec: clusterIP: None selector: app: rabbitmq node_type: ram ports: - port: {{.Values.network.port.public}} ",,183,150
openstack%2Fcinder~master~Iac9ca774fd69069bb7d6c8b4860b75237f33b71e,openstack/cinder,master,Iac9ca774fd69069bb7d6c8b4860b75237f33b71e,Remove zonemanager static config option tables,MERGED,2018-05-03 08:04:56.000000000,2018-05-17 21:21:35.000000000,2018-05-17 21:21:34.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-03 08:04:56.000000000', 'files': ['doc/source/configuration/block-storage/fc-zoning.rst', 'doc/source/configuration/tables/cinder-zoning_fabric_cisco.inc', 'doc/source/configuration/tables/cinder-zoning.inc', 'doc/source/configuration/tables/cinder-zoning_manager_brcd.inc', 'doc/source/configuration/tables/cinder-zoning_manager_cisco.inc', 'doc/source/configuration/tables/cinder-zoning_fabric_brcd.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b4581bedfbbb1d3e55658c744b8aa5c4bf8b194', 'message': 'Remove zonemanager static config option tables\n\nSwitch to using config-table instead.\n\nChange-Id: Iac9ca774fd69069bb7d6c8b4860b75237f33b71e\n'}]",0,565990,2b4581bedfbbb1d3e55658c744b8aa5c4bf8b194,27,21,1,11904,,,0,"Remove zonemanager static config option tables

Switch to using config-table instead.

Change-Id: Iac9ca774fd69069bb7d6c8b4860b75237f33b71e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/565990/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/fc-zoning.rst', 'doc/source/configuration/tables/cinder-zoning_fabric_cisco.inc', 'doc/source/configuration/tables/cinder-zoning.inc', 'doc/source/configuration/tables/cinder-zoning_manager_brcd.inc', 'doc/source/configuration/tables/cinder-zoning_manager_cisco.inc', 'doc/source/configuration/tables/cinder-zoning_fabric_brcd.inc']",6,2b4581bedfbbb1d3e55658c744b8aa5c4bf8b194,config-table,,".. Warning: Do not edit this file. It is automatically generated from the software project's code and your changes will be overwritten. The tool to generate this file lives in openstack-doc-tools repository. Please make any changes needed in the code, then run the autogenerate-config-doc tool from the openstack-doc-tools repository, or ask for help on the documentation mailing list, IRC channel or meeting. .. _cinder-zoning_fabric_brcd: .. list-table:: Description of brocade zoning fabrics configuration options :header-rows: 1 :class: config-ref-table * - Configuration option = Default value - Description * - **[BRCD_FABRIC_EXAMPLE]** - * - ``fc_fabric_address`` = - (String) Management IP of fabric. * - ``fc_fabric_password`` = - (String) Password for user. * - ``fc_fabric_port`` = ``22`` - (Port number) Connecting port * - ``fc_fabric_ssh_cert_path`` = - (String) Local SSH certificate Path. * - ``fc_fabric_user`` = - (String) Fabric user ID. * - ``fc_southbound_protocol`` = ``HTTP`` - (String) South bound connector for the fabric. * - ``fc_virtual_fabric_id`` = ``None`` - (String) Virtual Fabric ID. * - ``principal_switch_wwn`` = ``None`` - (String) DEPRECATED: Principal switch WWN of the fabric. This option is not used anymore. * - ``zone_activate`` = ``True`` - (Boolean) Overridden zoning activation state. * - ``zone_name_prefix`` = ``openstack`` - (String) Overridden zone name prefix. * - ``zoning_policy`` = ``initiator-target`` - (String) Overridden zoning policy. ",28,167
openstack%2Fcinder~master~Ie22e1d911546eb91f74a71d20374ad3510292b75,openstack/cinder,master,Ie22e1d911546eb91f74a71d20374ad3510292b75,Remove Tintri static config option table,MERGED,2018-05-02 11:34:37.000000000,2018-05-17 21:21:31.000000000,2018-05-17 21:21:31.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-02 11:34:37.000000000', 'files': ['doc/source/configuration/tables/cinder-tintri.inc', 'doc/source/configuration/block-storage/drivers/tintri-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cca67b268e523aada6b954395d6c28764e3f4525', 'message': 'Remove Tintri static config option table\n\nSwitch to using config-table directive.\n\nChange-Id: Ie22e1d911546eb91f74a71d20374ad3510292b75\n'}]",0,565712,cca67b268e523aada6b954395d6c28764e3f4525,24,20,1,11904,,,0,"Remove Tintri static config option table

Switch to using config-table directive.

Change-Id: Ie22e1d911546eb91f74a71d20374ad3510292b75
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/565712/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/tables/cinder-tintri.inc', 'doc/source/configuration/block-storage/drivers/tintri-volume-driver.rst']",2,cca67b268e523aada6b954395d6c28764e3f4525,config-table,.. config-table:: :config-target: Tintri cinder.volume.drivers.tintri,.. include:: ../../tables/cinder-tintri.inc,4,33
openstack%2Fnova~master~I8fd598f02e5c50cb072284e1ce8be624bea5e18d,openstack/nova,master,I8fd598f02e5c50cb072284e1ce8be624bea5e18d,Remove unnecessary 'to_primitive' call,MERGED,2018-05-15 09:03:02.000000000,2018-05-17 21:21:27.000000000,2018-05-17 21:21:26.000000000,"[{'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-15 09:03:02.000000000', 'files': ['nova/tests/unit/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/13621a6d368f8034411b3bb7d10103a426528154', 'message': ""Remove unnecessary 'to_primitive' call\n\nThis was raising an 'oslo.serialization' warning:\n\n  UserWarning: Cannot convert Aggregate(...) to primitive, will raise\n  ValueError instead of warning in version 3.0\n\nThe called functions expect an Aggregate object instance so there's no\nreason for us to be doing this. Remove it and resolve the issue.\n\nChange-Id: I8fd598f02e5c50cb072284e1ce8be624bea5e18d\n""}]",0,568532,13621a6d368f8034411b3bb7d10103a426528154,14,10,1,15334,,,0,"Remove unnecessary 'to_primitive' call

This was raising an 'oslo.serialization' warning:

  UserWarning: Cannot convert Aggregate(...) to primitive, will raise
  ValueError instead of warning in version 3.0

The called functions expect an Aggregate object instance so there's no
reason for us to be doing this. Remove it and resolve the issue.

Change-Id: I8fd598f02e5c50cb072284e1ce8be624bea5e18d
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/568532/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/compute/test_compute.py'],1,13621a6d368f8034411b3bb7d10103a426528154,trivial," aggregate=self.aggr, slave_info=None) aggregate=self.aggr, host=""host"", slave_info=None) slave_info=""SLAVE_INFO"", aggregate=self.aggr) aggregate=self.aggr, host=""the_host"", slave_info=""SLAVE_INFO"")"," aggregate=jsonutils.to_primitive(self.aggr), slave_info=None) aggregate=jsonutils.to_primitive(self.aggr), host=""host"", slave_info=None) slave_info=""SLAVE_INFO"", aggregate=jsonutils.to_primitive(self.aggr)) aggregate=jsonutils.to_primitive(self.aggr), host=""the_host"", slave_info=""SLAVE_INFO"")",4,7
openstack%2Fopenstack-helm~master~I5a2ae4a83a02bdd00b721b93f16f7eba8dd1ff2e,openstack/openstack-helm,master,I5a2ae4a83a02bdd00b721b93f16f7eba8dd1ff2e,DO NOT MERGE - This is for testing PURE with override,ABANDONED,2018-05-17 17:09:22.000000000,2018-05-17 21:08:03.000000000,,"[{'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27499}, {'_account_id': 28025}]","[{'number': 1, 'created': '2018-05-17 17:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cfa34325870b7d1cc7986d83e870f4115a11f35c', 'message': 'DO NOT MERGE - This is for testing PURE with override\n\nChange-Id: I5a2ae4a83a02bdd00b721b93f16f7eba8dd1ff2e\n'}, {'number': 2, 'created': '2018-05-17 21:06:42.000000000', 'files': ['cinder-overrides.yaml', 'libvirt-overrides.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dcf91f18dab7533b98d2b0213d86ce3bf23f7a00', 'message': 'DO NOT MERGE - This is for testing PURE with override\n\nChange-Id: I5a2ae4a83a02bdd00b721b93f16f7eba8dd1ff2e\n'}]",0,569176,dcf91f18dab7533b98d2b0213d86ce3bf23f7a00,5,5,2,18250,,,0,"DO NOT MERGE - This is for testing PURE with override

Change-Id: I5a2ae4a83a02bdd00b721b93f16f7eba8dd1ff2e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/76/569176/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder-overrides.yaml', 'libvirt-overrides.yaml', 'tools/deployment/developer/ceph/160-compute-kit-sr-iov.sh']",3,cfa34325870b7d1cc7986d83e870f4115a11f35c,pure_override,"#!/bin/bash # Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -xe #NOTE: Pull images and lint chart make pull-images nova make pull-images neutron SRIOV_DEV1=enp132s0f1 SRIOV_DEV2=enp134s0f0 OVSBR=bond0 BREXBR=vlan2001 OSH_EXTRA_HELM_ARGS=""--values=./tools/overrides/releases/ocata/loci.yaml"" #NOTE: Deploy nova #: ${OSH_EXTRA_HELM_ARGS:=""""} tee /tmp/nova.yaml << EOF network: backend: - openvswitch - sriov conf: ceph: cinder: keyring: cinder-volume-rbd-keyring nova: DEFAULT: debug: True linuxnet_interface_driver: nova.network.linux_net.LinuxOVSInterfaceDriver vcpu_pin_set: 4,8,12,16,20,24,28,32,36,40,44,5,9,13,17,21,25,29,33,37,41,45 vif_plugging_is_fatal: False vif_plugging_timeout: 30 pci: alias: '{""name"": ""numa0"", ""capability_type"": ""pci"", ""product_id"": ""154d"", ""vendor_id"": ""8086"", ""device_type"": ""type-PCI"", ""numa_policy"": ""required""}' passthrough_whitelist: | [{""address"": ""0000:86:10.0"", ""physical_network"": ""physnet1"", ""trusted"": ""true""}, {""address"": ""0000:86:10.2"", ""physical_network"": ""physnet1"", ""trusted"": ""true""}, {""address"": ""0000:86:10.4"", ""physical_network"": ""physnet1"",""trusted"":""true""}, {""address"": ""0000:86:10.6"", ""physical_network"": ""physnet1"",""trusted"": ""true""}, {""address"": ""0000:86:11.0"", ""physical_network"": ""physnet1"",""trusted"":""true""}, {""address"": ""0000:86:11.2"", ""physical_network"": ""physnet1"",""trusted"":""true""}, {""address"": ""0000:86:11.4"", ""physical_network"": ""physnet1"",""trusted"":""true""}, {""address"": ""0000:86:11.6"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:12.0"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:12.2"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:12.4"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:12.6"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:13.0"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:13.2"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:13.4"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:13.6"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:14.0"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:14.2"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:14.4"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:14.6"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:15.0"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:15.2"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:15.4"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:15.6"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:16.0"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:16.2"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:16.4"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:16.6"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:17.0"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:17.2"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:17.4"", ""physical_network"": ""physnet1""}, {""address"": ""0000:86:17.6"", ""physical_network"": ""physnet1""}, {""address"": ""0000:84:10.1"", ""physical_network"": ""physnet2"",""trusted"": ""true""}, {""address"": ""0000:84:10.3"", ""physical_network"": ""physnet2"",""trusted"": ""true""}, {""address"": ""0000:84:10.5"", ""physical_network"": ""physnet2"",""trusted"": ""true""}, {""address"": ""0000:84:10.7"", ""physical_network"": ""physnet2"",""trusted"": ""true""}, {""address"": ""0000:84:11.1"", ""physical_network"": ""physnet2"",""trusted"": ""true""}, {""address"": ""0000:84:11.3"", ""physical_network"": ""physnet2"",""trusted"": ""true""}, {""address"": ""0000:84:11.5"", ""physical_network"": ""physnet2"",""trusted"": ""true""}, {""address"": ""0000:84:11.7"", ""physical_network"": ""physnet2"",""trusted"": ""true""}, {""address"": ""0000:84:12.1"", ""physical_network"": ""physnet2"",""trusted"": ""true""}, {""address"": ""0000:84:12.3"", ""physical_network"": ""physnet2"",""trusted"": ""true""}, {""address"": ""0000:84:12.5"", ""physical_network"": ""physnet2"",""trusted"": ""true""}, {""address"": ""0000:84:12.7"", ""physical_network"": ""physnet2"",""trusted"": ""true""}, {""address"": ""0000:84:13.1"", ""physical_network"": ""physnet2"",""trusted"": ""true""}, {""address"": ""0000:84:13.3"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:13.5"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:13.7"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:14.1"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:14.3"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:14.5"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:14.7"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:15.1"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:15.3"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:15.5"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:15.7"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:16.1"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:16.3"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:16.5"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:16.7"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:17.1"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:17.3"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:17.5"", ""physical_network"": ""physnet2""}, {""address"": ""0000:84:17.7"", ""physical_network"": ""physnet2""}] filter_scheduler: # enabled_filters: ""RetryFilter, AvailabilityZoneFilter, RamFilter, ComputeFilter, ComputeCapabilitiesFilter, ImagePropertiesFilter, ServerGroupAntiAffinityFilter, ServerGroupAffinityFilter, PciPassthroughFilter, NUMATopologyFilter, DifferentHostFilter, SameHostFilter, JsonFilter, AggregateTypeAffinityFilter, JsonMetaDataCountFilter"" enabled_filters: ""RetryFilter, AvailabilityZoneFilter, RamFilter, ComputeFilter, ComputeCapabilitiesFilter, ImagePropertiesFilter, ServerGroupAntiAffinityFilter, ServerGroupAffinityFilter, PciPassthroughFilter, NUMATopologyFilter, DifferentHostFilter, SameHostFilter, JsonFilter, AggregateTypeAffinityFilter"" multipath: pure: enabled: true EOF if [ ""x$(systemd-detect-virt)"" == ""xnone"" ]; then echo 'OSH is not being deployed in virtualized environment' helm upgrade --install nova ./nova \ --namespace=openstack \ --values /tmp/nova.yaml \ ${OSH_EXTRA_HELM_ARGS} else echo 'OSH is being deployed in virtualized environment, using qemu for nova' helm upgrade --install nova ./nova \ --namespace=openstack \ --set conf.nova.libvirt.virt_type=qemu \ --values /tmp/nova.yaml \ ${OSH_EXTRA_HELM_ARGS} fi #NOTE: Deploy neutron tee /tmp/neutron.yaml << EOF network: backend: - openvswitch - sriov interface: tunnel: docker0 sriov: - device: ${SRIOV_DEV1} num_vfs: 32 promisc: false - device: ${SRIOV_DEV2} num_vfs: 32 promisc: false auto_bridge_add: br-bond0: ${OVSBR} # br-ex: ${BREXBR} conf: neutron: DEFAULT: debug: True l3_ha: False min_l3_agents_per_router: 1 max_l3_agents_per_router: 1 l3_ha_network_type: vxlan dhcp_agents_per_network: 1 plugins: ml2_conf: ml2: mechanism_drivers: l2population,openvswitch,sriovnicswitch type_drivers: vlan,flat,vxlan extension_drivers: port_security tenant_network_types: vxlan ml2_type_flat: flat_networks: public # type_drivers: vlan,flat,vxlan # mechanism_drivers: openvswitch,sriovnicswitch,l2population # tenant_network_types: vxlan ml2_type_vlan: network_vlan_ranges: physnet1:200:299,physnet2:200:299,oam:2001:3000 #NOTE(portdirect): for clarity we include options for all the neutron # backends here. openvswitch_agent: # DEFAULT: # ovs_use_veth: True agent: tunnel_types: vxlan ovs: bridge_mappings: ""oam:br-bond0"" linuxbridge_agent: linux_bridge: bridge_mappings: ""oam:br-bond0"" sriov_agent: securitygroup: firewall_driver: neutron.agent.firewall.NoopFirewallDriver sriov_nic: physical_device_mappings: physnet1:${SRIOV_DEV1},physnet2:${SRIOV_DEV2} exclude_devices: null EOF #kubectl label node cab24-r820-14 --overwrite=true sriov=enabled #kubectl label node cab24-r820-15 --overwrite=true sriov=enabled helm upgrade --install neutron ./neutron \ --namespace=openstack \ --values=/tmp/neutron.yaml \ ${OSH_EXTRA_HELM_ARGS} #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh openstack #NOTE: Validate Deployment info export OS_CLOUD=openstack_helm openstack service list sleep 30 #NOTE(portdirect): Wait for ingress controller to update rules and restart Nginx openstack hypervisor list openstack network agent list ",,185,0
openstack%2Fkeystoneauth~master~I710f9e1441f4caeb9bd9830f9d4a3398a71249ec,openstack/keystoneauth,master,I710f9e1441f4caeb9bd9830f9d4a3398a71249ec,Expose version_between as a real function,MERGED,2018-05-15 16:43:48.000000000,2018-05-17 21:06:53.000000000,2018-05-17 21:06:53.000000000,"[{'_account_id': 2}, {'_account_id': 2903}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 16:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/7733c5750003e94fa6721014147b8363957af4ec', 'message': 'Expose version_between as a real function\n\nWe expose version_to_string and version_match but not version_between.\nopenstacksdk would really like to use version_between too for matching\nmicroversion suitability. Turn it in to a public function.\n\nChange-Id: I710f9e1441f4caeb9bd9830f9d4a3398a71249ec\n'}, {'number': 2, 'created': '2018-05-15 20:11:18.000000000', 'files': ['releasenotes/notes/version-between-b4b0bcf4cecfb9e4.yaml', 'keystoneauth1/discover.py', 'keystoneauth1/tests/unit/test_discovery.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/9e45781eaba457afc90650c13306c309b907f77a', 'message': 'Expose version_between as a real function\n\nWe expose version_to_string and version_match but not version_between.\nopenstacksdk would really like to use version_between too for matching\nmicroversion suitability. Turn it in to a public function.\n\nChange-Id: I710f9e1441f4caeb9bd9830f9d4a3398a71249ec\n'}]",0,568640,9e45781eaba457afc90650c13306c309b907f77a,13,4,2,2,,,0,"Expose version_between as a real function

We expose version_to_string and version_match but not version_between.
openstacksdk would really like to use version_between too for matching
microversion suitability. Turn it in to a public function.

Change-Id: I710f9e1441f4caeb9bd9830f9d4a3398a71249ec
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/40/568640/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/discover.py', 'keystoneauth1/tests/unit/test_discovery.py']",2,7733c5750003e94fa6721014147b8363957af4ec,," self.assertTrue(discover.version_between(minver, maxver, cand)) self.assertFalse(discover.version_between(minver, maxver, cand)) discover.version_between, minver, maxver, cand)"," self.assertTrue(discover._version_between(minver, maxver, cand)) self.assertFalse(discover._version_between(minver, maxver, cand)) discover._version_between, minver, maxver, cand)",6,6
openstack%2Fkeystoneauth~master~I106c6acbe306e581d293612630ec810c11d9d61c,openstack/keystoneauth,master,I106c6acbe306e581d293612630ec810c11d9d61c,Add oslo.config option for split-loggers,MERGED,2018-05-16 15:16:35.000000000,2018-05-17 21:06:52.000000000,2018-05-17 21:06:52.000000000,"[{'_account_id': 2}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 24441}, {'_account_id': 26541}]","[{'number': 1, 'created': '2018-05-16 15:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/4bcffc6f976df001cb2c5f23084377fd6ec2ddea', 'message': ""Add oslo.config option for split-loggers\n\nFor people setting creating Sessions via load_from_conf_options, such as\nthe OpenStack services, turning on split-loggers needs to be done in a\nconfig file. In order to do that, we need to expose it in the conf\noptions list.\n\nDon't add it to the argparse options for now - it would just add another\ncommand line option that is less likely to see use.\n\nChange-Id: I106c6acbe306e581d293612630ec810c11d9d61c\n""}, {'number': 2, 'created': '2018-05-16 20:44:43.000000000', 'files': ['keystoneauth1/loading/session.py', 'keystoneauth1/tests/unit/loading/test_session.py', 'releasenotes/notes/oslo-config-split-loggers-6bda266d657fe921.yaml'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/80323289c71a39603166a9cfe4a56cb4d5784356', 'message': ""Add oslo.config option for split-loggers\n\nFor people setting creating Sessions via load_from_conf_options, such as\nthe OpenStack services, turning on split-loggers needs to be done in a\nconfig file. In order to do that, we need to expose it in the conf\noptions list.\n\nDon't add it to the argparse options for now - it would just add another\ncommand line option that is less likely to see use.\n\nChange-Id: I106c6acbe306e581d293612630ec810c11d9d61c\n""}]",2,568878,80323289c71a39603166a9cfe4a56cb4d5784356,14,7,2,2,,,0,"Add oslo.config option for split-loggers

For people setting creating Sessions via load_from_conf_options, such as
the OpenStack services, turning on split-loggers needs to be done in a
config file. In order to do that, we need to expose it in the conf
options list.

Don't add it to the argparse options for now - it would just add another
command line option that is less likely to see use.

Change-Id: I106c6acbe306e581d293612630ec810c11d9d61c
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/78/568878/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/loading/session.py', 'keystoneauth1/tests/unit/loading/test_session.py', 'releasenotes/notes/oslo-config-split-loggers-6bda266d657fe921.yaml']",3,4bcffc6f976df001cb2c5f23084377fd6ec2ddea,568878,--- features: - | Added ``split-loggers`` option to the oslo.config Session options. ,,13,0
openstack%2Fkeystoneauth~master~Icf00c66f57d20d2cef724c233160d3b1e0d52102,openstack/keystoneauth,master,Icf00c66f57d20d2cef724c233160d3b1e0d52102,Collect timing information for API calls,MERGED,2018-05-16 15:16:35.000000000,2018-05-17 21:06:52.000000000,2018-05-17 21:06:51.000000000,"[{'_account_id': 2}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 15:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/7e431a2ff1f1b1dba01ca5e68513f4b6c5b85421', 'message': 'Collect timing information for API calls\n\npython-openstackclient does this in a wrapper class around Session,\nand openstacksdk does something similar that could be removed if support\nwere directly in keystoneauth.\n\nAdd this so that we can remove the custom wrapper/manipulation in\nopenstackclient and openstacksdk.\n\nChange-Id: Icf00c66f57d20d2cef724c233160d3b1e0d52102\n'}, {'number': 2, 'created': '2018-05-16 20:44:43.000000000', 'files': ['keystoneauth1/session.py', 'keystoneauth1/tests/unit/test_session.py', 'keystoneauth1/loading/session.py', 'keystoneauth1/tests/unit/loading/test_session.py', 'releasenotes/notes/collect-timing-85f007f0d86c8b26.yaml'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/244780fba84f008ddb2892b4c24ca2eb3fbcb0db', 'message': 'Collect timing information for API calls\n\npython-openstackclient does this in a wrapper class around Session,\nand openstacksdk does something similar that could be removed if support\nwere directly in keystoneauth.\n\nAdd this so that we can remove the custom wrapper/manipulation in\nopenstackclient and openstacksdk.\n\nChange-Id: Icf00c66f57d20d2cef724c233160d3b1e0d52102\n'}]",6,568877,244780fba84f008ddb2892b4c24ca2eb3fbcb0db,14,4,2,2,,,0,"Collect timing information for API calls

python-openstackclient does this in a wrapper class around Session,
and openstacksdk does something similar that could be removed if support
were directly in keystoneauth.

Add this so that we can remove the custom wrapper/manipulation in
openstackclient and openstacksdk.

Change-Id: Icf00c66f57d20d2cef724c233160d3b1e0d52102
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/77/568877/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/session.py', 'keystoneauth1/tests/unit/test_session.py', 'keystoneauth1/loading/session.py', 'keystoneauth1/tests/unit/loading/test_session.py', 'releasenotes/notes/collect-timing-85f007f0d86c8b26.yaml']",5,7e431a2ff1f1b1dba01ca5e68513f4b6c5b85421,568878,"--- features: - | Added ``collect_timing`` option to ``keystoneauth1.session.Session``. The option, which is off by default, causes the ``Session`` to collect API timing information for every call it makes. Methods ``get_timings`` and ``reset_timings`` have been added to allow getting and clearing the data. ",,99,2
openstack%2Fnova~master~I814f4630f444334d39b9b5fe48113a80845e879b,openstack/nova,master,I814f4630f444334d39b9b5fe48113a80845e879b,Remove mox in test_xenapi.py (3),MERGED,2018-04-26 23:19:48.000000000,2018-05-17 20:56:25.000000000,2018-05-17 20:56:25.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24441}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-04-26 23:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6291739220dfb0e854645310bce96334c10eb0e', 'message': 'Remove mox in test_xenapi.py (3)\n\nReplace mox with mock or stub_out in the following classes\nin nova/tests/unit/virt/xenapi/test_xenapi.py.\n\n* XenAPILiveMigrateTestCase\n* XenAPIInjectMetadataTestCase\n\nCalling methods in nova.tests.unit.virt.xenapi.stubs\nwill be modified in another patch.\n\nChange-Id: I814f4630f444334d39b9b5fe48113a80845e879b\nImplements: blueprint mox-removal\n'}, {'number': 2, 'created': '2018-05-01 05:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e14ba2a645c1be89c8df5c86b1c592704ff64449', 'message': 'Remove mox in test_xenapi.py (3)\n\nReplace mox with mock or stub_out in the following classes\nin nova/tests/unit/virt/xenapi/test_xenapi.py.\n\n* XenAPILiveMigrateTestCase\n* XenAPIInjectMetadataTestCase\n\nCalling methods in nova.tests.unit.virt.xenapi.stubs\nwill be modified in another patch.\n\nChange-Id: I814f4630f444334d39b9b5fe48113a80845e879b\nImplements: blueprint mox-removal\n'}, {'number': 3, 'created': '2018-05-06 22:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b4f8fd4d1ab52115ebd4129122cecb2ff83b2dd', 'message': 'Remove mox in test_xenapi.py (3)\n\nReplace mox with mock or stub_out in the following classes\nin nova/tests/unit/virt/xenapi/test_xenapi.py.\n\n* XenAPILiveMigrateTestCase\n* XenAPIInjectMetadataTestCase\n\nCalling methods in nova.tests.unit.virt.xenapi.stubs\nwill be modified in another patch.\n\nChange-Id: I814f4630f444334d39b9b5fe48113a80845e879b\nImplements: blueprint mox-removal\n'}, {'number': 4, 'created': '2018-05-08 04:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f53d0888f7181aeae4df119fef24227c18ee1a0', 'message': 'Remove mox in test_xenapi.py (3)\n\nReplace mox with mock or stub_out in the following classes\nin nova/tests/unit/virt/xenapi/test_xenapi.py.\n\n* XenAPILiveMigrateTestCase\n* XenAPIInjectMetadataTestCase\n\nCalling methods in nova.tests.unit.virt.xenapi.stubs\nwill be modified in another patch.\n\nChange-Id: I814f4630f444334d39b9b5fe48113a80845e879b\nImplements: blueprint mox-removal\n'}, {'number': 5, 'created': '2018-05-09 23:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/718c1213c9d486052fa33ceba6005fdff20f2c2a', 'message': 'Remove mox in test_xenapi.py (3)\n\nReplace mox with mock or stub_out in the following classes\nin nova/tests/unit/virt/xenapi/test_xenapi.py.\n\n* XenAPILiveMigrateTestCase\n* XenAPIInjectMetadataTestCase\n\nCalling methods in nova.tests.unit.virt.xenapi.stubs\nwill be modified in another patch.\n\nChange-Id: I814f4630f444334d39b9b5fe48113a80845e879b\nImplements: blueprint mox-removal\n'}, {'number': 6, 'created': '2018-05-15 00:36:09.000000000', 'files': ['nova/tests/unit/virt/xenapi/test_xenapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e4ea54104ec38f5fe4c792d4d3d1865de34bb4c3', 'message': 'Remove mox in test_xenapi.py (3)\n\nReplace mox with mock or stub_out in the following classes\nin nova/tests/unit/virt/xenapi/test_xenapi.py.\n\n* XenAPILiveMigrateTestCase\n* XenAPIInjectMetadataTestCase\n\nCalling methods in nova.tests.unit.virt.xenapi.stubs\nwill be modified in another patch.\n\nChange-Id: I814f4630f444334d39b9b5fe48113a80845e879b\nImplements: blueprint mox-removal\n'}]",14,564645,e4ea54104ec38f5fe4c792d4d3d1865de34bb4c3,62,15,6,7634,,,0,"Remove mox in test_xenapi.py (3)

Replace mox with mock or stub_out in the following classes
in nova/tests/unit/virt/xenapi/test_xenapi.py.

* XenAPILiveMigrateTestCase
* XenAPIInjectMetadataTestCase

Calling methods in nova.tests.unit.virt.xenapi.stubs
will be modified in another patch.

Change-Id: I814f4630f444334d39b9b5fe48113a80845e879b
Implements: blueprint mox-removal
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/564645/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/xenapi/test_xenapi.py'],1,c6291739220dfb0e854645310bce96334c10eb0e,bp/mox-removal," @mock.patch.object(vmops.VMOps, 'live_migrate') def test_live_migration_calls_vmops(self, mock_live_migrate): self.assertTrue(mock_live_migrate.called) @mock.patch('nova.virt.firewall.IptablesFirewallDriver.' 'apply_instance_filter') @mock.patch('nova.virt.firewall.IptablesFirewallDriver.' 'prepare_instance_filter') @mock.patch('nova.virt.firewall.IptablesFirewallDriver.' 'setup_basic_filtering') @mock.patch.object(vm_utils, 'create_kernel_and_ramdisk', return_value=('fake-kernel-file', 'fake-ramdisk-file')) @mock.patch.object(vm_utils, 'strip_base_mirror_from_vdis') @mock.patch.object(vmops.VMOps, '_get_vm_opaque_ref') def test_post_live_migration_at_destination( self, mock_post_action, mock_get_vm_opaque_ref, mock_strip_base_mirror_from_vdis, mock_create_kernel_and_ramdisk, mock_setup_basic_filtering, mock_prepare_instance_filter, mock_apply_instance_filter): mock_setup_basic_filtering.side_effect = fake_fw mock_prepare_instance_filter.side_effect = fake_fw mock_apply_instance_filter.side_effect = fake_fw self.assertEqual(3, fake_fw.call_count) self.assertTrue(mock_get_vm_opaque_ref.called) self.assertTrue(mock_strip_base_mirror_from_vdis.called) self.stub_out('nova.virt.xenapi.vm_utils.safe_find_sr', lambda _x: 'asdf') self.stub_out('nova.virt.xenapi.vm_utils.safe_find_sr', lambda _x: 'asdf') @mock.patch.object(session.XenAPISession, 'is_xsm_sr_check_relaxed', return_value=True) @mock.patch.object(vmops.VMOps, '_get_iscsi_srs', return_value=['sr_ref']) def test_check_can_live_migrate_source_with_block_migrate_iscsi( self, mock_get_iscsi_srs, mock_is_xsm_sr_check_relaxed): @mock.patch.object(session.XenAPISession, 'is_xsm_sr_check_relaxed', return_value=False) def test_check_can_live_migrate_source_with_block_iscsi_fails( self, mock_is_xsm_sr_check_relaxed): with mock.patch.object(vmops.VMOps, '_get_iscsi_srs', return_value=['sr_ref']): self.assertRaises(exception.MigrationError, self.conn.check_can_live_migrate_source, self.context, {'host': 'host'}, {}) @mock.patch.object(vmops.VMOps, '_get_host_opaque_ref', return_value='fake_host') @mock.patch.object(vmops.VMOps, '_get_vm_opaque_ref', return_value='fake_vm') @mock.patch.object(vm_utils, 'lookup_kernel_ramdisk', return_value=('kernel', 'ramdisk')) def test_live_migration(self, mock_lookup_kernel_ramdisk, mock_get_vm_opaque_ref, mock_get_host_opaque_ref): self.assertTrue(post_method.called, ""post_method was not called"") @mock.patch.object(vmops.VMOps, '_get_host_opaque_ref', return_value='fake_host') @mock.patch.object(vmops.VMOps, '_get_vm_opaque_ref', return_value='fake_vm') def test_live_migration_on_failure(self, mock_get_vm_opaque_ref, mock_get_host_opaque_ref): with mock.patch.object(session.XenAPISession, 'call_xenapi', side_effect=NotImplementedError()): self.assertRaises(NotImplementedError, self.conn.live_migration, self.conn, None, None, None, recover_method, None, migrate_data) self.assertTrue(recover_method.called, ""recover_method was not called"") @mock.patch.object(volume_utils, 'forget_sr') def test_live_migration_block_cleans_srs(self, mock_forget_sr): with mock.patch.object(vmops.VMOps, '_get_iscsi_srs', return_value=['sr_ref']): self.conn.live_migration(self.conn, None, None, post_method, None, True, migrate_data) self.assertTrue(post_method.called, ""post_method was not called"") self.assertTrue(mock_forget_sr.called, ""forget_sr was not called"") def fake_generate_vdi_map(self, destination_sr_ref, _vm_ref): self.stub_out('nova.virt.xenapi.vmops.VMOps._generate_vdi_map', fake_generate_vdi_map) @mock.patch.object(vmops.VMOps, '_get_host_opaque_ref', return_value='fake_ref') def test_live_migrate_pool_migration_xapi_call_parameters( self, mock_get_host_opaque_ref): @mock.patch.object(vm_utils, 'get_instance_vdis_for_sr') @mock.patch.object(vm_utils, 'safe_find_sr') def test_generate_vdi_map(self, mock_safe_find_sr, mock_get_instance_vdis_for_sr): mock_safe_find_sr.side_effect = fake_find_sr mock_get_instance_vdis_for_sr.side_effect = ( fake_get_instance_vdis_for_sr) self.stub_out('nova.virt.xenapi.vmops.VMOps._get_vm_opaque_ref', fake_get_vm_opaque_ref) self.stub_out('nova.virt.xenapi.vmops.VMOps._add_to_param_xenstore', fake_add_to_param_xenstore) self.stub_out('nova.virt.xenapi.vmops.VMOps.' '_remove_from_param_xenstore', fake_remove_from_param_xenstore) self.stub_out('nova.virt.xenapi.vmops.VMOps._write_to_xenstore', fake_write_to_xenstore) self.stub_out('nova.virt.xenapi.vmops.VMOps._delete_from_xenstore', fake_delete_from_xenstore)"," def test_live_migration_calls_vmops(self): def fake_live_migrate(context, instance_ref, dest, post_method, recover_method, block_migration, migrate_data): fake_live_migrate.called = True self.stubs.Set(self.conn._vmops, ""live_migrate"", fake_live_migrate) self.assertTrue(fake_live_migrate.called) def test_post_live_migration_at_destination(self, mock_post_action): def fake_create_kernel_and_ramdisk(context, session, instance, name_label): return ""fake-kernel-file"", ""fake-ramdisk-file"" _vmops = self.conn._vmops self.stubs.Set(_vmops.firewall_driver, 'setup_basic_filtering', fake_fw) self.stubs.Set(_vmops.firewall_driver, 'prepare_instance_filter', fake_fw) self.stubs.Set(_vmops.firewall_driver, 'apply_instance_filter', fake_fw) self.stubs.Set(vm_utils, ""create_kernel_and_ramdisk"", fake_create_kernel_and_ramdisk) def fake_get_vm_opaque_ref(instance): fake_get_vm_opaque_ref.called = True self.stubs.Set(_vmops, ""_get_vm_opaque_ref"", fake_get_vm_opaque_ref) fake_get_vm_opaque_ref.called = False def fake_strip_base_mirror_from_vdis(session, vm_ref): fake_strip_base_mirror_from_vdis.called = True self.stubs.Set(vm_utils, ""strip_base_mirror_from_vdis"", fake_strip_base_mirror_from_vdis) fake_strip_base_mirror_from_vdis.called = False self.assertEqual(fake_fw.call_count, 3) self.assertTrue(fake_get_vm_opaque_ref.called) self.assertTrue(fake_strip_base_mirror_from_vdis.called) self.stubs.Set(vm_utils, ""safe_find_sr"", lambda _x: ""asdf"") self.stubs.Set(vm_utils, ""safe_find_sr"", lambda _x: ""asdf"") def test_check_can_live_migrate_source_with_block_migrate_iscsi(self): def fake_get_iscsi_srs(destination_sr_ref, _vm_ref): return ['sr_ref'] self.stubs.Set(self.conn._vmops, ""_get_iscsi_srs"", fake_get_iscsi_srs) def fake_is_xsm_sr_check_relaxed(): return True self.stubs.Set(self.conn._vmops._session, 'is_xsm_sr_check_relaxed', fake_is_xsm_sr_check_relaxed) def test_check_can_live_migrate_source_with_block_iscsi_fails(self): def fake_get_iscsi_srs(destination_sr_ref, _vm_ref): return ['sr_ref'] self.stubs.Set(self.conn._vmops, ""_get_iscsi_srs"", fake_get_iscsi_srs) def fake_is_xsm_sr_check_relaxed(): return False self.stubs.Set(self.conn._vmops._session, 'is_xsm_sr_check_relaxed', fake_is_xsm_sr_check_relaxed) self.assertRaises(exception.MigrationError, self.conn.check_can_live_migrate_source, self.context, {'host': 'host'}, {}) def test_live_migration(self): def fake_lookup_kernel_ramdisk(session, vm_ref): return ""kernel"", ""ramdisk"" self.stubs.Set(vm_utils, ""lookup_kernel_ramdisk"", fake_lookup_kernel_ramdisk) def fake_get_vm_opaque_ref(instance): return ""fake_vm"" self.stubs.Set(self.conn._vmops, ""_get_vm_opaque_ref"", fake_get_vm_opaque_ref) def fake_get_host_opaque_ref(destination_hostname): return ""fake_host"" self.stubs.Set(self.conn._vmops, ""_get_host_opaque_ref"", fake_get_host_opaque_ref) self.assertTrue(post_method.called, ""post_method.called"") def test_live_migration_on_failure(self): def fake_get_vm_opaque_ref(instance): return ""fake_vm"" self.stubs.Set(self.conn._vmops, ""_get_vm_opaque_ref"", fake_get_vm_opaque_ref) def fake_get_host_opaque_ref(context, destination_hostname): return ""fake_host"" self.stubs.Set(self.conn._vmops, ""_get_host_opaque_ref"", fake_get_host_opaque_ref) def fake_call_xenapi(*args): raise NotImplementedError() self.stubs.Set(self.conn._vmops._session, ""call_xenapi"", fake_call_xenapi) self.assertRaises(NotImplementedError, self.conn.live_migration, self.conn, None, None, None, recover_method, None, migrate_data) self.assertTrue(recover_method.called, ""recover_method.called"") def test_live_migration_block_cleans_srs(self): def fake_get_iscsi_srs(context, instance): return ['sr_ref'] self.stubs.Set(self.conn._vmops, ""_get_iscsi_srs"", fake_get_iscsi_srs) def fake_forget_sr(context, instance): fake_forget_sr.called = True self.stubs.Set(volume_utils, ""forget_sr"", fake_forget_sr) self.conn.live_migration(self.conn, None, None, post_method, None, True, migrate_data) self.assertTrue(post_method.called, ""post_method.called"") self.assertTrue(fake_forget_sr.called, ""forget_sr.called"") def fake_generate_vdi_map(destination_sr_ref, _vm_ref): self.stubs.Set(conn._vmops, ""_generate_vdi_map"", fake_generate_vdi_map) def test_live_migrate_pool_migration_xapi_call_parameters(self): def fake_get_host_opaque_ref(destination): return ""fake_ref"" self.stubs.Set(conn._vmops, ""_get_host_opaque_ref"", fake_get_host_opaque_ref) def test_generate_vdi_map(self): self.stubs.Set(vm_utils, ""safe_find_sr"", fake_find_sr) self.stubs.Set(vm_utils, ""get_instance_vdis_for_sr"", fake_get_instance_vdis_for_sr) self.stubs.Set(vmops.VMOps, '_get_vm_opaque_ref', fake_get_vm_opaque_ref) self.stubs.Set(vmops.VMOps, '_add_to_param_xenstore', fake_add_to_param_xenstore) self.stubs.Set(vmops.VMOps, '_remove_from_param_xenstore', fake_remove_from_param_xenstore) self.stubs.Set(vmops.VMOps, '_write_to_xenstore', fake_write_to_xenstore) self.stubs.Set(vmops.VMOps, '_delete_from_xenstore', fake_delete_from_xenstore)",99,145
openstack%2Fkolla-cli~master~I94719f7064c29168721dc37a2148638b927cd2e4,openstack/kolla-cli,master,I94719f7064c29168721dc37a2148638b927cd2e4,Fix mypy static type checker,MERGED,2018-05-17 17:26:13.000000000,2018-05-17 20:49:34.000000000,2018-05-17 20:49:34.000000000,"[{'_account_id': 16520}, {'_account_id': 22348}, {'_account_id': 24147}]","[{'number': 1, 'created': '2018-05-17 17:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/19793eca7e46506826a8c394c5ee27ab6ab2b207', 'message': 'Fix mypy static type checker\n\nmypy was not working. This change:\n- fixes mypy call in tox.ini and adds mypy job to zuul\n- fix a couple of errors that mypy found\n- add import typing as needed to files\n\nImplements: blueprint initial-testing\n\nChange-Id: I94719f7064c29168721dc37a2148638b927cd2e4\n'}, {'number': 2, 'created': '2018-05-17 17:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/2d20661032ff9137d5a418d0dd867eac08dfb1e0', 'message': 'Fix mypy static type checker\n\nmypy was not working. This change:\n- fixes mypy call in tox.ini and adds mypy job to zuul\n- fix a couple of errors that mypy found\n- add import typing as needed to files\n\nImplements: blueprint initial-testing\n\nChange-Id: I94719f7064c29168721dc37a2148638b927cd2e4\n'}, {'number': 3, 'created': '2018-05-17 18:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/b74b4a992d4bba20916b0be582f36e4dc8bbc012', 'message': 'Fix mypy static type checker\n\nmypy was not working. This change:\n- fixes mypy call in tox.ini and adds mypy job to zuul\n- fix a couple of errors that mypy found\n- add import typing as needed to files\n\nImplements: blueprint initial-testing\n\nChange-Id: I94719f7064c29168721dc37a2148638b927cd2e4\n'}, {'number': 4, 'created': '2018-05-17 20:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/56d6b21a03435b574081a270eb4373f2ff85ccd5', 'message': 'Fix mypy static type checker\n\nmypy was not working. This change:\n- fixes mypy call in tox.ini and adds mypy job to zuul\n- fix a couple of errors that mypy found\n- add import typing as needed to files\n\nImplements: blueprint initial-testing\n\nChange-Id: I94719f7064c29168721dc37a2148638b927cd2e4\n'}, {'number': 5, 'created': '2018-05-17 20:12:52.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.zuul.yaml', 'kolla_cli/api/properties.py', 'kolla_cli/api/host.py', 'kolla_cli/api/group.py', 'kolla_cli/common/ansible/playbook.py', 'kolla_cli/api/service.py', 'kolla_cli/api/control_plane.py', 'kolla_cli/api/password.py', 'kolla_cli/api/support.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/7c0bc714f1e8de404af904edd5388e9d9b04630f', 'message': 'Fix mypy static type checker\n\nmypy was not working. This change:\n- fixes mypy call in tox.ini and adds mypy job to zuul\n- fix a couple of errors that mypy found\n- add import typing as needed to files\n\nImplements: blueprint initial-testing\n\nChange-Id: I94719f7064c29168721dc37a2148638b927cd2e4\n'}]",2,569182,7c0bc714f1e8de404af904edd5388e9d9b04630f,17,3,5,17386,,,0,"Fix mypy static type checker

mypy was not working. This change:
- fixes mypy call in tox.ini and adds mypy job to zuul
- fix a couple of errors that mypy found
- add import typing as needed to files

Implements: blueprint initial-testing

Change-Id: I94719f7064c29168721dc37a2148638b927cd2e4
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/82/569182/4 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.zuul.yaml', 'kolla_cli/api/properties.py', 'kolla_cli/api/host.py', 'kolla_cli/api/group.py', 'kolla_cli/common/ansible/playbook.py', 'kolla_cli/api/service.py', 'kolla_cli/api/control_plane.py', 'kolla_cli/api/password.py', 'kolla_cli/api/support.py', 'tox.ini']",12,19793eca7e46506826a8c394c5ee27ab6ab2b207,bp/initial-testing,whitelist_externals = mypy mypy --py2 --ignore-missing-imports kolla_cli, mypy --py2 --silent-imports kollacli,53,5
openstack%2Freleases~master~I80caf5bcfb628bba5c437892ca95c48733288f4d,openstack/releases,master,I80caf5bcfb628bba5c437892ca95c48733288f4d,Release os-brick 2.5.0,MERGED,2018-05-17 15:35:17.000000000,2018-05-17 20:44:58.000000000,2018-05-17 20:44:58.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 15:35:17.000000000', 'files': ['deliverables/rocky/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/402c60ae8fadd2a36c290633b737fdd63291952c', 'message': 'Release os-brick 2.5.0\n\nThis releases os-brick 2.5.0.  This is a feature\nrelease as it adds the Sheepdog connector for PPC64\nand also includes dependency changes.\n\nChange-Id: I80caf5bcfb628bba5c437892ca95c48733288f4d\n'}]",0,569152,402c60ae8fadd2a36c290633b737fdd63291952c,6,2,1,7198,,,0,"Release os-brick 2.5.0

This releases os-brick 2.5.0.  This is a feature
release as it adds the Sheepdog connector for PPC64
and also includes dependency changes.

Change-Id: I80caf5bcfb628bba5c437892ca95c48733288f4d
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/569152/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/os-brick.yaml'],1,402c60ae8fadd2a36c290633b737fdd63291952c,cinder-rocky-schedule, - projects: - hash: 6545454c7efa8df94900000ace4894eefb1e5488 repo: openstack/os-brick version: 2.5.0,,4,0
openstack%2Ftripleo-heat-templates~master~Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995,openstack/tripleo-heat-templates,master,Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995,Add pre-selected Control Plane IP support.,ABANDONED,2016-12-21 00:05:56.000000000,2018-05-17 20:42:19.000000000,,"[{'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6681}, {'_account_id': 6928}, {'_account_id': 10873}, {'_account_id': 12398}, {'_account_id': 21909}, {'_account_id': 24245}]","[{'number': 1, 'created': '2016-12-21 00:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ab064b442b00653c32d5ec7e2026bcf06c8a274', 'message': 'Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIf enabled, a specific IP is passed to the Nova::Server resource\nthat creates each node in each role, instead of just a network\nname.\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n'}, {'number': 2, 'created': '2016-12-21 00:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebe7bdd3abf239bfb3ba2d28f74e3ff40efaef33', 'message': 'Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIf enabled, a specific IP is passed to the Nova::Server resource\nthat creates each node in each role, instead of just a network\nname.\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n'}, {'number': 3, 'created': '2016-12-22 22:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/226237544ad8ceabe01e5bccd2a60165dcf505fa', 'message': '[WIP] Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIf enabled, a specific IP is passed to the Nova::Server resource\nthat creates each node in each role, instead of just a network\nname.\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n'}, {'number': 4, 'created': '2017-03-31 06:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c42dd752bf2619873aa8e501effceee53e990d6', 'message': 'Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIf enabled, a specific IP is passed to the Nova::Server resource\nthat creates each node in each role, instead of just a network\nname.\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n'}, {'number': 5, 'created': '2017-03-31 20:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec6e3046241ff266ee5bcd8d6432562d3f39ba6e', 'message': 'Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIf enabled, a specific IP is passed to the Nova::Server resource\nthat creates each node in each role, instead of just a network\nname.\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n'}, {'number': 6, 'created': '2017-04-08 00:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/915b9820f334e8a728ce7d694241f5e49313ce16', 'message': 'Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n'}, {'number': 7, 'created': '2017-04-08 00:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c65db6f903e6894e08ef82766c7601aceb72096b', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nThis change also cleans up some of the environment files\nwhich reference 192.0.2.0/24 (now 192.168.24.0/24), and\ncleans up the from_pool examples and the loadbalancer\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 8, 'created': '2017-04-08 05:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b6ced0269eecfdbae3f5d42cf9ac11f15016048d', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nThis change also cleans up some of the environment files\nwhich reference 192.0.2.0/24 (now 192.168.24.0/24), and\ncleans up the from_pool examples and the loadbalancer\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 9, 'created': '2017-04-10 23:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c24b2e99f7ab7192295144369c6405b69bb8e996', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nwhich reference 192.0.2.0/24 (now 192.168.24.0/24), and\ncleans up the from_pool examples and the loadbalancer\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 10, 'created': '2017-04-11 18:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ce3b0258ebfae2ce9c961ccce18cce582f12117', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nwhich reference 192.0.2.0/24 (now 192.168.24.0/24), and\ncleans up the from_pool examples and the loadbalancer\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 11, 'created': '2017-04-11 22:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dffdb152c8f596ac1969d8c9df9501257fc546e5', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 12, 'created': '2017-04-25 23:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4ce3ed00562dbe008e1b9aef1baa10a133f43b3', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 13, 'created': '2017-04-26 01:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e887041d705afb4efcfc270e765017a09d31ce99', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 14, 'created': '2017-04-26 02:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/21bc0dd328a8985d177850ae4460d8d37812eea1', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 15, 'created': '2017-04-26 04:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d27f732b485fbfde97330d46b3ff55c70ab405e', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 16, 'created': '2017-04-27 18:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ffc4897b6b6c0ea6f20643bdb8dda86a9919a71', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 17, 'created': '2017-05-05 18:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38847e6f2287359c99f16b8178d8ae17a86f57ff', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 18, 'created': '2017-05-05 18:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61defb1ead3ac5ba2b2e9ba4be726f8b9d763359', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 19, 'created': '2017-05-16 20:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee587d8f72175820e9fdeae94c6335f41fb55a5e', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 20, 'created': '2017-05-28 14:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7845a13ecc52d5846b92da9006d3e8ac626845af', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 21, 'created': '2017-06-06 18:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f44c6c7d42fb1ca31e23a31b620c09689365f11e', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 22, 'created': '2017-06-07 00:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ca8c790d900c5f637634075de6b017d300ddae5', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 23, 'created': '2017-06-07 18:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb2c5204d2bd41d66fe9d030bd23d1b89585c909', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 24, 'created': '2017-06-08 01:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9101cd7ff05fdddf73c88ebd1705a8ffc1d00951', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 25, 'created': '2017-06-14 13:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c4aacc04b152f3995f87eea9d9caf2255b304619', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 26, 'created': '2017-06-14 13:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0130cdcbbeb39fb5e1a725dbfb3b294e146244bc', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\n\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 27, 'created': '2017-06-26 20:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/419f2ea17b0c7aaa07715801c56b48cb56f8982d', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\nDepends-On: Iab75ec49b962617943017dcaf1b04b89f91a982e\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}, {'number': 28, 'created': '2017-07-03 18:14:47.000000000', 'files': ['network/ports/ctlplane.yaml', 'environments/ips-from-pool.yaml', 'network/ports/ctlplane_from_pool.yaml', 'puppet/cephstorage-role.yaml', 'puppet/role.role.j2.yaml', 'puppet/blockstorage-role.yaml', 'environments/network-isolation-no-tunneling.yaml', 'deployed-server/deployed-server.yaml', 'network/ports/ctlplane_v6.yaml', 'environments/external-loadbalancer-vip-v6.yaml', 'puppet/compute-role.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'network/ports/ctlplane_from_pool_v6.yaml', 'puppet/objectstorage-role.yaml', 'environments/external-loadbalancer-vip.yaml', 'environments/ips-from-pool-ctlplane.yaml', 'puppet/controller-role.yaml', 'environments/ips-from-pool-all.yaml', 'environments/network-isolation-v6.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9aba49e640ff1670ea4afabe18523a582c30452', 'message': ""Add pre-selected Control Plane IP support.\n\nThis change adds support for pre-selected IP addresses for the\nControl Plane network. This is not enabled by default, but may\nbe enabled through the use of environment files.\n\nIn order for both automatic IP selection (via Neutron), as well\nas pre-selected IPs, the ControlPlanePort is now a first-class\nseparate port (similar to the isolated network ports). The\nport can be configured to use either the new default\n(network/ports/ctlplane.yaml), or the alternate port\n(network/ports/ctlplane_from_pool.yaml), which allows for the\nIP address to be specified in a map for each node in each\nrole.\n\nAfter this change, it will be possible to reference the\n{get_attr: [ControlPlanePort, ip_address]} to get the IP.\nThis will make it easier to create roles that use different\nControl Plane network names (currently the IP is obtained by\n{get_attr: [{{role}}, networks, ctlplane, 0]}, where\nctlplane is hard-coded in the reference.\n\nRelevant environment files that demonstrate the usage of\nIP addresses from pools and external loadbalancers are\nupdated in this change. The Control Plane network is still\nset to IPv4 by default, since there are dependencies for\nIPv6 PXE boot deployment such as UEFI and DHCP server\nsupport.\n\nThis change also cleans up some of the environment files\nexamples so that the IPs don't conflict with routers\nor VIPs documented elsewhere.\n\nImplements: blueprint tripleo-predictable-ctlplane-ips\nImplements: blueprint tripleo-routed-networks-deployment\nDepends-On: Iab75ec49b962617943017dcaf1b04b89f91a982e\n\nChange-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995\n""}]",20,413278,a9aba49e640ff1670ea4afabe18523a582c30452,118,8,28,12398,,,0,"Add pre-selected Control Plane IP support.

This change adds support for pre-selected IP addresses for the
Control Plane network. This is not enabled by default, but may
be enabled through the use of environment files.

In order for both automatic IP selection (via Neutron), as well
as pre-selected IPs, the ControlPlanePort is now a first-class
separate port (similar to the isolated network ports). The
port can be configured to use either the new default
(network/ports/ctlplane.yaml), or the alternate port
(network/ports/ctlplane_from_pool.yaml), which allows for the
IP address to be specified in a map for each node in each
role.

After this change, it will be possible to reference the
{get_attr: [ControlPlanePort, ip_address]} to get the IP.
This will make it easier to create roles that use different
Control Plane network names (currently the IP is obtained by
{get_attr: [{{role}}, networks, ctlplane, 0]}, where
ctlplane is hard-coded in the reference.

Relevant environment files that demonstrate the usage of
IP addresses from pools and external loadbalancers are
updated in this change. The Control Plane network is still
set to IPv4 by default, since there are dependencies for
IPv6 PXE boot deployment such as UEFI and DHCP server
support.

This change also cleans up some of the environment files
examples so that the IPs don't conflict with routers
or VIPs documented elsewhere.

Implements: blueprint tripleo-predictable-ctlplane-ips
Implements: blueprint tripleo-routed-networks-deployment
Depends-On: Iab75ec49b962617943017dcaf1b04b89f91a982e

Change-Id: Ifb5ea9b00bb5f0cdba7cf55c2ccf25520eb13995
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/413278/6 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/compute-role.yaml', 'network/ports/ctlplane_from_pool.yaml', 'puppet/cephstorage-role.yaml', 'puppet/objectstorage-role.yaml', 'puppet/blockstorage-role.yaml', 'environments/ips-from-pool-ctlplane.yaml', 'puppet/controller-role.yaml']",7,8ab064b442b00653c32d5ec7e2026bcf06c8a274,bp/tripleo-predictable-ctlplane-ips," the overcloud. It's accessible via the Nova metadata API. - fixed_ip: {get_attr: ControlPlanePort, ip_address} metadata: {get_param: ServerMetadata} ControlPlanePort: type: OS::TripleO::Controller::Ports::ControlPlanePort properties: IPPool: {get_param: ControllerIPs} NodeIndex: {get_param: NodeIndex} depends_on: NetworkDeployment"," ControllerServerMetadata: default: {} description: > Extra properties or metadata passed to Nova for the created nodes in the overcloud. It's accessible via the Nova metadata API. This option is role-specific and is merged with the values given to the ServerMetadata parameter. type: json the overcloud. It's accessible via the Nova metadata API. This applies to all roles and is merged with a role-specific metadata parameter. UpgradeInitCommand: type: string description: | Command or script snippet to run on all overcloud nodes to initialize the upgrade process. E.g. a repository switch. default: '' metadata: map_merge: - {get_param: ServerMetadata} - {get_param: ControllerServerMetadata} ControllerUpgradeInitConfig: type: OS::Heat::SoftwareConfig properties: group: script config: list_join: - '' - - ""#!/bin/bash\n\n"" - ""if [[ -f /etc/resolv.conf.save ]] ; then rm /etc/resolv.conf.save; fi\n\n"" - get_param: UpgradeInitCommand # Note we may be able to make this conditional on UpgradeInitCommandNotEmpty # but https://bugs.launchpad.net/heat/+bug/1649900 needs fixing first ControllerUpgradeInitDeployment: type: OS::Heat::SoftwareDeployment depends_on: NetworkDeployment properties: name: ControllerUpgradeInitDeployment server: {get_resource: Controller} config: {get_resource: ControllerUpgradeInitConfig} depends_on: ControllerUpgradeInitDeployment",120,209
openstack%2Fnova~master~I2074b45126b839ea6307a8740364393e9dddd50b,openstack/nova,master,I2074b45126b839ea6307a8740364393e9dddd50b,Cleanup ugly stub in TestLocalDeleteAllocations,MERGED,2018-04-17 15:55:15.000000000,2018-05-17 20:37:32.000000000,2018-05-17 20:37:31.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24441}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-17 15:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0ada65da6847e28410cc4618453835a66944815', 'message': 'Cleanup ugly stub in TestLocalDeleteAllocations\n\nWith a fix in wsgi-intercept 1.7.0 we can properly\nuse the PlacementFixture as a context manager to\nsimulate when placement is configured for a given\noperation. This allows us to remove the ugly stub\nthat one of the tests in here had to rely on.\n\nDepends-On: https://review.openstack.org/561687/\nChange-Id: I2074b45126b839ea6307a8740364393e9dddd50b\n'}, {'number': 2, 'created': '2018-04-17 15:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e634740f77e1907b98ca798e0d037ac84c3d864b', 'message': ""Cleanup ugly stub in TestLocalDeleteAllocations\n\nWith a fix in wsgi-intercept 1.7.0 we can properly\nuse the PlacementFixture as a context manager to\nsimulate when placement is configured for a given\noperation. This allows us to remove the ugly stub\nthat one of the tests in here had to rely on.\n\nWhile in here, the CastAsCall fixture is removed\nsince we shouldn't rely on that in these tests\nwhere we're trying to simulate the user experience.\n\nDepends-On: https://review.openstack.org/561687/\nChange-Id: I2074b45126b839ea6307a8740364393e9dddd50b\n""}, {'number': 3, 'created': '2018-04-18 23:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e818a454e890d6c33ff636b82c606c8bd1c6c99', 'message': ""Cleanup ugly stub in TestLocalDeleteAllocations\n\nWith a fix in wsgi-intercept 1.7.0 we can properly\nuse the PlacementFixture as a context manager to\nsimulate when placement is configured for a given\noperation. This allows us to remove the ugly stub\nthat one of the tests in here had to rely on.\n\nWhile in here, the CastAsCall fixture is removed\nsince we shouldn't rely on that in these tests\nwhere we're trying to simulate the user experience.\n\nDepends-On: https://review.openstack.org/561687/\nChange-Id: I2074b45126b839ea6307a8740364393e9dddd50b\n""}, {'number': 4, 'created': '2018-04-18 23:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34c675f6db42a95b8f8474503d4ba00ab5d713ef', 'message': ""Cleanup ugly stub in TestLocalDeleteAllocations\n\nWith a fix in wsgi-intercept 1.7.0 we can properly\nuse the PlacementFixture as a context manager to\nsimulate when placement is configured for a given\noperation. This allows us to remove the ugly stub\nthat one of the tests in here had to rely on.\n\nWhile in here, the CastAsCall fixture is removed\nsince we shouldn't rely on that in these tests\nwhere we're trying to simulate the user experience.\n\nDepends-On: https://review.openstack.org/561687/\nChange-Id: I2074b45126b839ea6307a8740364393e9dddd50b\n""}, {'number': 5, 'created': '2018-05-16 13:24:20.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1679750.py', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/ee6a257f581dc5270f17796f35c4d1aa94c3fc2e', 'message': ""Cleanup ugly stub in TestLocalDeleteAllocations\n\nWith a fix in wsgi-intercept 1.7.0 we can properly\nuse the PlacementFixture as a context manager to\nsimulate when placement is configured for a given\noperation. This allows us to remove the ugly stub\nthat one of the tests in here had to rely on.\n\nWhile in here, the CastAsCall fixture is removed\nsince we shouldn't rely on that in these tests\nwhere we're trying to simulate the user experience.\n\nChange-Id: I2074b45126b839ea6307a8740364393e9dddd50b\n""}]",2,561997,ee6a257f581dc5270f17796f35c4d1aa94c3fc2e,57,20,5,6873,,,0,"Cleanup ugly stub in TestLocalDeleteAllocations

With a fix in wsgi-intercept 1.7.0 we can properly
use the PlacementFixture as a context manager to
simulate when placement is configured for a given
operation. This allows us to remove the ugly stub
that one of the tests in here had to rely on.

While in here, the CastAsCall fixture is removed
since we shouldn't rely on that in these tests
where we're trying to simulate the user experience.

Change-Id: I2074b45126b839ea6307a8740364393e9dddd50b
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/561997/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1679750.py', 'test-requirements.txt']",2,b0ada65da6847e28410cc4618453835a66944815,bug/1756179,wsgi-intercept>=1.7.0 # MIT License,wsgi-intercept>=1.4.1 # MIT License,52,76
openstack%2Fcinder~master~I487bf7b4a05a646268aba61a3d997a6b51edd851,openstack/cinder,master,I487bf7b4a05a646268aba61a3d997a6b51edd851,Make config-table display list defaults in list format,MERGED,2018-05-02 14:54:55.000000000,2018-05-17 20:37:28.000000000,2018-05-17 20:37:28.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-02 14:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6430877771e48bbfdcd878d32bb7a08f19befeb0', 'message': 'Make config-table display list defaults in list format\n\nBrackets are cool.\n\nChange-Id: I487bf7b4a05a646268aba61a3d997a6b51edd851\n'}, {'number': 2, 'created': '2018-05-04 06:14:39.000000000', 'files': ['doc/ext/driver_opts.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/77ede7109b790964a01d4089b4ab5f8dfc7bced9', 'message': 'Make config-table display list defaults in list format\n\nBrackets are cool.\n\nChange-Id: I487bf7b4a05a646268aba61a3d997a6b51edd851\n'}]",0,565788,77ede7109b790964a01d4089b4ab5f8dfc7bced9,46,25,2,11904,,,0,"Make config-table display list defaults in list format

Brackets are cool.

Change-Id: I487bf7b4a05a646268aba61a3d997a6b51edd851
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/565788/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/ext/driver_opts.py'],1,6430877771e48bbfdcd878d32bb7a08f19befeb0,config-table," return ""[%]"" % ', '.join(str(item) for item in opt.default)"," return ', '.join(str(item) for item in opt.default)",1,1
openstack%2Fopenstack-ansible~master~Ibffe760b00d744ec2c5326b2dce3e84632816e5a,openstack/openstack-ansible,master,Ibffe760b00d744ec2c5326b2dce3e84632816e5a,"For consistence, merge the deploy-guide with ohter guides",ABANDONED,2017-10-27 17:17:22.000000000,2018-05-17 20:36:29.000000000,,"[{'_account_id': 2472}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-27 17:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eb92edb43ee096f42bf9cb6465d8112bf922aeba', 'message': 'For consistence, merge the deploy-guide with ohter guides\n\nmove deploy-guide to doc/source/\n\nChange-Id: Ibffe760b00d744ec2c5326b2dce3e84632816e5a\nCloses-Bug: #1727779\n'}, {'number': 2, 'created': '2017-10-27 17:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4af37aa4189276cb2568bc69aa934b5c0ec5ab34', 'message': 'For consistence, merge the deploy-guide with ohter guides\n\nmove deploy-guide to doc/source/\n\nbackport: pike\n\nChange-Id: Ibffe760b00d744ec2c5326b2dce3e84632816e5a\nCloses-Bug: #1727779\n'}, {'number': 3, 'created': '2017-10-27 17:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/70aac365dc339a51bd38b0822a86b39e7ef49e7d', 'message': 'For consistence, merge the deploy-guide with ohter guides\n\nmove deploy-guide to doc/source/. Thus we can redirect it just like\nother guides. Merge this one to make this patch [1] sense.\n\n[1] https://review.openstack.org/#/c/515789/\n\nbackport: pike\n\nChange-Id: Ibffe760b00d744ec2c5326b2dce3e84632816e5a\nCloses-Bug: #1727779\n'}, {'number': 4, 'created': '2017-10-27 18:00:00.000000000', 'files': ['doc/source/deploy/app-networking.rst', 'doc/source/deploy/figures/arch-layout-production.png', 'doc/source/deploy/app.rst', 'deploy-guide/source/conf.py', 'doc/source/deploy/app-limited-connectivity.rst', 'doc/source/deploy/targethosts-networkconfig.rst', 'doc/source/deploy/figures/production-storage.graffle/data.plist', 'doc/source/deploy/app-config-prod.rst', 'doc/source/deploy/overview-service-architecture.rst', 'doc/source/deploy/figures/production-storage-swift.png', 'doc/source/deploy/figures/installation-workflow.graffle', 'doc/source/deploy/app-ceph.rst', 'doc/source/deploy/figures/arch-layout.graffle', 'doc/source/deploy/figures/installation-workflow-overview.png', 'doc/source/deploy/figures/production-storage-glance.png', 'doc/source/deploy/figures/production-storage.graffle/image3.wmf', 'doc/source/deploy/figures/installation-workflow-run-playbooks.png', 'doc/source/deploy/targethosts-prepare.rst', 'doc/source/deploy/app-resources.rst', 'doc/source/deploy/figures/networkarch-bare-external-example.png', 'doc/source/deploy/configure.rst', 'doc/source/deploy/figures/production-storage-cinder.png', 'doc/source/deploy/figures/networkarch-container-external-example.png', 'doc/source/deploy/targethosts.rst', 'doc/source/deploy/app-advanced-config-options.rst', 'doc/source/deploy/overview-requirements.rst', 'doc/source/deploy/figures/installation-workflow-verify-openstack.png', 'doc/source/deploy/overview-storage-arch.rst', 'tox.ini', 'zuul.d/jobs.yaml', 'doc/source/deploy/figures/networkarch-container-external.png', 'doc/source/deploy/figures/production-storage-nova.svg/image3.wmf', 'doc/source/deploy/run-playbooks.rst', 'doc/source/deploy/overview.rst', 'doc/source/deploy/figures/arch-layout-test.svg', 'doc/source/deploy/verify-operation.rst', 'doc/source/deploy/app-config-test.rst', 'doc/source/deploy/figures/installation-workflow-targethosts.png', 'doc/source/deploy/figures/networking-compute.png', 'doc/source/deploy/figures/production-storage-cinder.svg/image3.wmf', 'doc/source/deploy/figures/installation-workflow-configure-deployment.png', 'doc/source/deploy/figures/production-storage-swift.svg', 'doc/source/deploy/overview-osa.rst', 'doc/source/deploy/figures/arch-layout-production.svg', 'doc/source/deploy/app-advanced-config-sslcertificates.rst', 'doc/source/deploy/index.rst', 'doc/source/deploy/figures/installation-workflow-deploymenthost.png', 'doc/source/deploy/figures/networkarch-bare-external.png', 'doc/source/deploy/figures/production-storage-cinder.svg/production-storage-cinder.svg', 'doc/source/deploy/app-advanced-config-override.rst', 'doc/source/deploy/figures/production-storage.svg', 'doc/source/deploy/overview-network-arch.rst', 'doc/source/deploy/figures/production-storage-glance.svg/image3.wmf', 'doc/source/deploy/app-security.rst', 'doc/source/deploy/app-config-pod.rst', 'doc/source/deploy/app-custom-layouts.rst', 'doc/source/deploy/figures/production-storage-glance.svg/production-storage-glance.svg', 'doc/source/conf.py', 'doc/source/deploy/figures/networking-neutronagents.png', 'doc/source/deploy/app-advanced-config-affinity.rst', 'doc/source/index.rst', 'doc/source/deploy/figures/production-storage-nova.svg/production-storage-nova.svg', 'doc/source/deploy/figures/networkcomponents.png', 'doc/source/deploy/figures/production-storage-nova.png', 'doc/source/deploy/app-advanced-config-security.rst', 'doc/source/deploy/deploymenthost.rst', 'doc/source/deploy/figures/arch-layout-test.png'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/44f834cdc344c7cafabccc0dd7ef5da2b446ae1b', 'message': 'For consistence, merge the deploy-guide with ohter guides\n\nmove deploy-guide to doc/source/. Thus we can redirect it just like\nother guides. Merge this one to make this patch [1] sense.\n\n[1] https://review.openstack.org/#/c/515789/\n\nbackport: pike\n\nChange-Id: Ibffe760b00d744ec2c5326b2dce3e84632816e5a\nCloses-Bug: #1727779\n'}]",0,515785,44f834cdc344c7cafabccc0dd7ef5da2b446ae1b,9,3,4,19779,,,0,"For consistence, merge the deploy-guide with ohter guides

move deploy-guide to doc/source/. Thus we can redirect it just like
other guides. Merge this one to make this patch [1] sense.

[1] https://review.openstack.org/#/c/515789/

backport: pike

Change-Id: Ibffe760b00d744ec2c5326b2dce3e84632816e5a
Closes-Bug: #1727779
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/515785/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/deploy/app-networking.rst', 'doc/source/deploy/figures/arch-layout-production.png', 'doc/source/deploy/app.rst', 'deploy-guide/source/conf.py', 'doc/source/deploy/app-limited-connectivity.rst', 'doc/source/deploy/targethosts-networkconfig.rst', 'doc/source/deploy/figures/production-storage.graffle/data.plist', 'doc/source/deploy/app-config-prod.rst', 'doc/source/deploy/overview-service-architecture.rst', 'doc/source/deploy/figures/production-storage-swift.png', 'doc/source/deploy/figures/installation-workflow.graffle', 'doc/source/deploy/app-ceph.rst', 'doc/source/deploy/figures/arch-layout.graffle', 'doc/source/deploy/figures/installation-workflow-overview.png', 'doc/source/deploy/figures/production-storage-glance.png', 'doc/source/deploy/figures/production-storage.graffle/image3.wmf', 'doc/source/deploy/figures/installation-workflow-run-playbooks.png', 'doc/source/deploy/targethosts-prepare.rst', 'doc/source/deploy/app-resources.rst', 'doc/source/deploy/figures/networkarch-bare-external-example.png', 'doc/source/deploy/configure.rst', 'doc/source/deploy/figures/production-storage-cinder.png', 'doc/source/deploy/figures/networkarch-container-external-example.png', 'doc/source/deploy/targethosts.rst', 'doc/source/deploy/app-advanced-config-options.rst', 'doc/source/deploy/overview-requirements.rst', 'doc/source/deploy/figures/installation-workflow-verify-openstack.png', 'doc/source/deploy/overview-storage-arch.rst', 'doc/source/deploy/figures/networkarch-container-external.png', 'doc/source/deploy/figures/production-storage-nova.svg/image3.wmf', 'doc/source/deploy/run-playbooks.rst', 'doc/source/deploy/overview.rst', 'doc/source/deploy/figures/arch-layout-test.svg', 'doc/source/deploy/verify-operation.rst', 'doc/source/deploy/app-config-test.rst', 'doc/source/deploy/figures/installation-workflow-targethosts.png', 'doc/source/deploy/figures/networking-compute.png', 'doc/source/deploy/figures/production-storage-cinder.svg/image3.wmf', 'doc/source/deploy/figures/installation-workflow-configure-deployment.png', 'doc/source/deploy/figures/production-storage-swift.svg', 'doc/source/deploy/overview-osa.rst', 'doc/source/deploy/figures/arch-layout-production.svg', 'doc/source/deploy/app-advanced-config-sslcertificates.rst', 'doc/source/deploy/index.rst', 'doc/source/deploy/figures/installation-workflow-deploymenthost.png', 'doc/source/deploy/figures/networkarch-bare-external.png', 'doc/source/deploy/figures/production-storage-cinder.svg/production-storage-cinder.svg', 'doc/source/deploy/app-advanced-config-override.rst', 'doc/source/deploy/figures/production-storage.svg', 'doc/source/deploy/overview-network-arch.rst', 'doc/source/deploy/figures/production-storage-glance.svg/image3.wmf', 'doc/source/deploy/app-security.rst', 'doc/source/deploy/app-config-pod.rst', 'doc/source/deploy/app-custom-layouts.rst', 'doc/source/deploy/figures/production-storage-glance.svg/production-storage-glance.svg', 'doc/source/conf.py', 'doc/source/deploy/figures/networking-neutronagents.png', 'doc/source/deploy/app-advanced-config-affinity.rst', 'doc/source/index.rst', 'doc/source/deploy/figures/production-storage-nova.svg/production-storage-nova.svg', 'doc/source/deploy/figures/networkcomponents.png', 'doc/source/deploy/figures/production-storage-nova.png', 'doc/source/deploy/app-advanced-config-security.rst', 'doc/source/deploy/deploymenthost.rst', 'doc/source/deploy/figures/arch-layout-test.png']",65,eb92edb43ee096f42bf9cb6465d8112bf922aeba,bug/1727779,,,3,358
openstack%2Fheat~stable%2Focata~Iac5c03176fc8bae95ada883621196bd9cb453be3,openstack/heat,stable/ocata,Iac5c03176fc8bae95ada883621196bd9cb453be3,Replace random with SystemRandom for RandomString,MERGED,2018-04-05 23:34:29.000000000,2018-05-17 20:27:30.000000000,2018-05-17 20:27:30.000000000,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-05 23:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/88eabad5080ef1c6cdfc96bb428cbc36471204a6', 'message': ""Replace random with SystemRandom for RandomString\n\nit might be theoretically possible to infer the state of\nstandard Python's RNG in a long-running heat-engine service\nfrom multiple created RandomString resources.\n\nLet's use the random.SystemRandom (and os.urandom) for\nOS::Heat::RandomString instead.\n\nChange-Id: Iac5c03176fc8bae95ada883621196bd9cb453be3\nCloses-Bug: #1745931\n(cherry picked from commit 41605aaac1ec9fb0020c663b703255ee2cf3615f)\n""}, {'number': 2, 'created': '2018-04-06 14:32:23.000000000', 'files': ['releasenotes/notes/system-random-string-38a14ae2cb6f4a24.yaml', 'heat/engine/resources/openstack/heat/random_string.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/de568e036cf310338aeced0b9a34377f8a6280e4', 'message': ""Replace random with SystemRandom for RandomString\n\nit might be theoretically possible to infer the state of\nstandard Python's RNG in a long-running heat-engine service\nfrom multiple created RandomString resources.\n\nLet's use the random.SystemRandom (and os.urandom) for\nOS::Heat::RandomString instead.\n\nChange-Id: Iac5c03176fc8bae95ada883621196bd9cb453be3\nCloses-Bug: #1745931\n(cherry picked from commit 41605aaac1ec9fb0020c663b703255ee2cf3615f)\n""}]",0,559187,de568e036cf310338aeced0b9a34377f8a6280e4,14,5,2,4257,,,0,"Replace random with SystemRandom for RandomString

it might be theoretically possible to infer the state of
standard Python's RNG in a long-running heat-engine service
from multiple created RandomString resources.

Let's use the random.SystemRandom (and os.urandom) for
OS::Heat::RandomString instead.

Change-Id: Iac5c03176fc8bae95ada883621196bd9cb453be3
Closes-Bug: #1745931
(cherry picked from commit 41605aaac1ec9fb0020c663b703255ee2cf3615f)
",git fetch https://review.opendev.org/openstack/heat refs/changes/87/559187/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/system-random-string-38a14ae2cb6f4a24.yaml', 'heat/engine/resources/openstack/heat/random_string.py']",2,88eabad5080ef1c6cdfc96bb428cbc36471204a6,bug/1666129,import random as random_module# NOTE(pas-ha) Heat officially supports only POSIX::Linux platform # where os.urandom() and random.SystemRandom() are available random = random_module.SystemRandom() ,import random,11,1
openstack%2Fnova~master~Ic28558ee6481d49a9b4e5dc2c4182504e330448f,openstack/nova,master,Ic28558ee6481d49a9b4e5dc2c4182504e330448f,add lower-constraints job,MERGED,2018-03-24 01:23:47.000000000,2018-05-17 20:26:58.000000000,2018-05-15 01:12:25.000000000,"[{'_account_id': 7}, {'_account_id': 679}, {'_account_id': 782}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9414}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10343}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26297}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-24 01:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13464463fbdb15fb3a7eac28aea08ded7cd0002b', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: Ic28558ee6481d49a9b4e5dc2c4182504e330448f\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-04-05 11:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1ed281abeec8b87a239f2cf4aff3aaaea80231f', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: Ic28558ee6481d49a9b4e5dc2c4182504e330448f\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-04-06 13:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06000e4bd84d36c10fcfd848114cbcb84bf52a3c', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: Ic28558ee6481d49a9b4e5dc2c4182504e330448f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\nCo-Authored-by: Eric Fried <efried@us.ibm.com>\n'}, {'number': 4, 'created': '2018-04-07 23:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/281c6c983f4c88306d98be7d9cdafcc0af57d7bc', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: Ic28558ee6481d49a9b4e5dc2c4182504e330448f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\nCo-Authored-by: Eric Fried <efried@us.ibm.com>\nCo-Authored-by: Jim Rollenhagen <jim@jimrollenhagen.com>\n'}, {'number': 5, 'created': '2018-04-12 22:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5c69497562a2a99f467ef5ada582f2ab86877f2', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: Ic28558ee6481d49a9b4e5dc2c4182504e330448f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\nCo-Authored-by: Eric Fried <efried@us.ibm.com>\nCo-Authored-by: Jim Rollenhagen <jim@jimrollenhagen.com>\n'}, {'number': 6, 'created': '2018-04-12 22:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6b123c99f9101a75795b97146e768e40a7adf76', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: Ic28558ee6481d49a9b4e5dc2c4182504e330448f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\nCo-Authored-by: Eric Fried <efried@us.ibm.com>\nCo-Authored-by: Jim Rollenhagen <jim@jimrollenhagen.com>\n'}, {'number': 7, 'created': '2018-05-14 13:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc7fbec71fe5f8d028ebf15c0c0f1ee3c4e2572d', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: Ic28558ee6481d49a9b4e5dc2c4182504e330448f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\nCo-Authored-by: Eric Fried <efried@us.ibm.com>\nCo-Authored-by: Jim Rollenhagen <jim@jimrollenhagen.com>\n'}, {'number': 8, 'created': '2018-05-14 16:47:10.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/e95af3f91c77a651021675827a1c1a6806e2d2bd', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: Ic28558ee6481d49a9b4e5dc2c4182504e330448f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\nCo-Authored-by: Eric Fried <efried@us.ibm.com>\nCo-Authored-by: Jim Rollenhagen <jim@jimrollenhagen.com>\n'}]",10,555961,e95af3f91c77a651021675827a1c1a6806e2d2bd,164,35,8,2472,,,0,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Change-Id: Ic28558ee6481d49a9b4e5dc2c4182504e330448f
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
Co-Authored-by: Eric Fried <efried@us.ibm.com>
Co-Authored-by: Jim Rollenhagen <jim@jimrollenhagen.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/555961/8 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,13464463fbdb15fb3a7eac28aea08ded7cd0002b,requirements-stop-syncing, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,179,0
openstack%2Fnova~master~Iad87dc339278ee7e7cf8de5eea252bbb7a5f75c2,openstack/nova,master,Iad87dc339278ee7e7cf8de5eea252bbb7a5f75c2,Deduplicate config/policy reference docs from main index,MERGED,2018-04-27 17:20:51.000000000,2018-05-17 20:07:09.000000000,2018-05-17 20:07:09.000000000,"[{'_account_id': 7}, {'_account_id': 5046}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-27 17:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23ab8cedb3ce25466f442fff63bdc28845d71000', 'message': 'Deduplicate config/policy reference docs from main index\n\nThe top level index (home page) was duplicating the\nconfiguration/index content, so this simply changes\nthe home page into a table of contents for the configuration\nsub-tree and leaves the config/policy content in the\nsub-tree. This will be needed when we add docs about\nplacement policy.\n\nRelated to blueprint granular-placement-policy\n\nChange-Id: Iad87dc339278ee7e7cf8de5eea252bbb7a5f75c2\n'}, {'number': 2, 'created': '2018-05-09 20:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed44c2f48d6cd0e6b4cf2966a829dbc7bdb4ca4e', 'message': 'Deduplicate config/policy reference docs from main index\n\nThe top level index (home page) was duplicating the\nconfiguration/index content, so this simply changes\nthe home page into a table of contents for the configuration\nsub-tree and leaves the config/policy content in the\nsub-tree. This will be needed when we add docs about\nplacement policy.\n\nRelated to blueprint granular-placement-policy\n\nChange-Id: Iad87dc339278ee7e7cf8de5eea252bbb7a5f75c2\n'}, {'number': 3, 'created': '2018-05-16 13:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16cc39583ae6aa1cbf1142701227fb2a2f6f7e32', 'message': 'Deduplicate config/policy reference docs from main index\n\nThe top level index (home page) was duplicating the\nconfiguration/index content, so this simply changes\nthe home page into a table of contents for the configuration\nsub-tree and leaves the config/policy content in the\nsub-tree. This will be needed when we add docs about\nplacement policy.\n\nRelated to blueprint granular-placement-policy\n\nChange-Id: Iad87dc339278ee7e7cf8de5eea252bbb7a5f75c2\n'}, {'number': 4, 'created': '2018-05-17 15:12:32.000000000', 'files': ['doc/source/configuration/index.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/ccc02de36c6b05c45400ff4ede9c6af4561cef7e', 'message': ""Deduplicate config/policy reference docs from main index\n\nThe top level index (home page) was duplicating the\nconfiguration/index content, so this simply changes\nthe home page into a table of contents for the configuration\nsub-tree and leaves the config/policy content in the\nsub-tree. This will be needed when we add docs about\nplacement policy.\n\nThe hidden configuration toc tree items are moved\ninto the sub-tree configuration/index to be closer\nto the actual documents we're hiding from the toc tree.\n\nRelated to blueprint granular-placement-policy\n\nChange-Id: Iad87dc339278ee7e7cf8de5eea252bbb7a5f75c2\n""}]",15,564846,ccc02de36c6b05c45400ff4ede9c6af4561cef7e,50,16,4,6873,,,0,"Deduplicate config/policy reference docs from main index

The top level index (home page) was duplicating the
configuration/index content, so this simply changes
the home page into a table of contents for the configuration
sub-tree and leaves the config/policy content in the
sub-tree. This will be needed when we add docs about
placement policy.

The hidden configuration toc tree items are moved
into the sub-tree configuration/index to be closer
to the actual documents we're hiding from the toc tree.

Related to blueprint granular-placement-policy

Change-Id: Iad87dc339278ee7e7cf8de5eea252bbb7a5f75c2
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/564846/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/index.rst', 'doc/source/index.rst']",2,23ab8cedb3ce25466f442fff63bdc28845d71000,bp/granular-placement-policy,.. toctree:: :maxdepth: 2 configuration/index,"* **Configuration**: * :doc:`Configuration Guide </admin/configuration/index>`: detailed configuration guides for various parts of you Nova system. Helpful reference for setting up specific hypervisor backends. * :doc:`Config Reference </configuration/config>`: a complete reference of all configuration options available in the nova.conf file. * :doc:`Sample Config File </configuration/sample-config>`: a sample config file with inline documentation. * **Policy**: nova, like most OpenStack projects, uses a policy language to restrict permissions on REST API actions. * :doc:`Policy Reference </configuration/policy>`: a complete reference of all policy points in nova and what they impact. * :doc:`Sample Policy File </configuration/sample-policy>`: a sample policy file with inline documentation. configuration/index configuration/config configuration/sample-config configuration/policy configuration/sample-policy",19,28
openstack%2Fproject-config~master~I5730bb5d860c549ac0aa9d98a174757e07e949ce,openstack/project-config,master,I5730bb5d860c549ac0aa9d98a174757e07e949ce,Add Zuul jobs for initial Airship projects,MERGED,2018-05-16 22:41:29.000000000,2018-05-17 19:59:32.000000000,2018-05-17 19:59:32.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 23928}, {'_account_id': 25907}]","[{'number': 1, 'created': '2018-05-16 22:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d3cbbda7e9fd8d3691df00307db847fead93ecba', 'message': 'Add Zuul jobs for initial Airship projects\n\nChange-Id: I5730bb5d860c549ac0aa9d98a174757e07e949ce\n'}, {'number': 2, 'created': '2018-05-17 04:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4191d7d8cc64ab954c524b71d2405c3ee6358440', 'message': 'Add Zuul jobs for initial Airship projects\n\nChange-Id: I5730bb5d860c549ac0aa9d98a174757e07e949ce\nDepends-On: I68e58ec68eacdd9a9d3f25b07082429dbfef668d\n'}, {'number': 3, 'created': '2018-05-17 13:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f60a4f380241c26d02a10468f0ee35c2e00fd620', 'message': 'Add Zuul jobs for initial Airship projects\n\nChange-Id: I5730bb5d860c549ac0aa9d98a174757e07e949ce\n'}, {'number': 4, 'created': '2018-05-17 17:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ac99328a6e55fea78da7ecbac9e725f048b4c78a', 'message': 'Add Zuul jobs for initial Airship projects\n\nChange-Id: I5730bb5d860c549ac0aa9d98a174757e07e949ce\n'}, {'number': 5, 'created': '2018-05-17 17:58:58.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e0ddabea928f1d03250d3935a7a32bf9feabbfbe', 'message': 'Add Zuul jobs for initial Airship projects\n\nChange-Id: I5730bb5d860c549ac0aa9d98a174757e07e949ce\n'}]",0,568977,e0ddabea928f1d03250d3935a7a32bf9feabbfbe,21,6,5,25907,,,0,"Add Zuul jobs for initial Airship projects

Change-Id: I5730bb5d860c549ac0aa9d98a174757e07e949ce
",git fetch https://review.opendev.org/openstack/project-config refs/changes/77/568977/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,d3cbbda7e9fd8d3691df00307db847fead93ecba,new-project, name: openstack/airship-armada templates: - system-required - noop-jobs - project: name: openstack/airship-berth templates: - system-required - noop-jobs - project: name: openstack/airship-deckhand templates: - system-required - noop-jobs - project: name: openstack/airship-drydock templates: - system-required - noop-jobs - project: name: openstack/airship-in-a-bottle templates: - system-required - noop-jobs - project: name: openstack/airship-maas templates: - system-required - noop-jobs - project: name: openstack/airship-pegleg templates: - system-required - noop-jobs - project: name: openstack/airship-promenade templates: - system-required - noop-jobs - project: name: openstack/airship-shipyard templates: - system-required - noop-jobs - project:,,54,0
openstack%2Fproject-config~master~I8573453a747322d39b59951a98e22f42d389db2f,openstack/project-config,master,I8573453a747322d39b59951a98e22f42d389db2f,Add new project config for kayobe-config,MERGED,2018-05-15 13:48:29.000000000,2018-05-17 19:53:48.000000000,2018-05-17 19:53:48.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 13:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1e9cf3ace28ff789783a7135d158db1a790c6c01', 'message': 'Add new project config for kayobe-config\n\nChange-Id: I8573453a747322d39b59951a98e22f42d389db2f\n'}, {'number': 2, 'created': '2018-05-15 17:28:29.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a0889fc6307e5dcbab3e22ad0228fd7cfbf4a97c', 'message': 'Add new project config for kayobe-config\n\nChange-Id: I8573453a747322d39b59951a98e22f42d389db2f\n'}]",5,568587,a0889fc6307e5dcbab3e22ad0228fd7cfbf4a97c,14,4,2,14826,,,0,"Add new project config for kayobe-config

Change-Id: I8573453a747322d39b59951a98e22f42d389db2f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/568587/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/kayobe-config.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,1e9cf3ace28ff789783a7135d158db1a790c6c01,new-project, - openstack/kayobe-config,,20,0
openstack%2Fpython-tripleoclient~master~I4bff8e5d7e54dd58ace3548e0893e07112a090a8,openstack/python-tripleoclient,master,I4bff8e5d7e54dd58ace3548e0893e07112a090a8,DNM Testing releases script with zuul change,ABANDONED,2018-05-16 18:53:16.000000000,2018-05-17 19:40:08.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-16 18:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ccd1e806bfd6f5de67871cd225688a1f738c287d', 'message': 'DNM Testing releases script with zuul change\n\nDepends-On: Ib6ae184a07ba291d719cabb48b51d890b0485a49\nDepends-On: I7d95f50a0308a477fe956a8f718c73e94bfea767\nChange-Id: I4bff8e5d7e54dd58ace3548e0893e07112a090a8\n'}, {'number': 2, 'created': '2018-05-16 19:52:34.000000000', 'files': ['bla'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2975a245868c6acf3007fb1d21e2a56ceaf219a1', 'message': 'DNM Testing releases script with zuul change\n\nDepends-On: Ib6ae184a07ba291d719cabb48b51d890b0485a49\nDepends-On: I1d1401753f4576317805bc4c556b37f71faa60ed\nChange-Id: I4bff8e5d7e54dd58ace3548e0893e07112a090a8\n'}]",0,568931,2975a245868c6acf3007fb1d21e2a56ceaf219a1,10,3,2,9976,,,0,"DNM Testing releases script with zuul change

Depends-On: Ib6ae184a07ba291d719cabb48b51d890b0485a49
Depends-On: I1d1401753f4576317805bc4c556b37f71faa60ed
Change-Id: I4bff8e5d7e54dd58ace3548e0893e07112a090a8
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/31/568931/1 && git format-patch -1 --stdout FETCH_HEAD,['bla'],1,ccd1e806bfd6f5de67871cd225688a1f738c287d,test-releases-file-zuul-change,aefg,aef,1,1
openstack%2Fironic-python-agent~master~Ic24b706a04ff6c08d750b9e3d79eb79eab2952ad,openstack/ironic-python-agent,master,Ic24b706a04ff6c08d750b9e3d79eb79eab2952ad,rework ATA secure erase,MERGED,2018-03-29 16:31:53.000000000,2018-05-17 19:39:54.000000000,2018-05-17 19:39:54.000000000,"[{'_account_id': 6618}, {'_account_id': 10068}, {'_account_id': 10239}, {'_account_id': 10910}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 16984}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-03-29 16:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/26ec84b45a5ac070e2006137333498833648a1b6', 'message': 'Pass empty string to hdparm --security-unlock in GenericHardwareManager\n\nhdparm interprets the value, NULL, as a password with string value: ""NULL"".\nThis is in contrast to --security-set-pass, which interprets NULL as the\nempty string. The hdparm man page details flags where NULL should be used,\nbut --security-unlock is not one of them.\n\nExample output of hdparm with NULL password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock NULL /dev/sda\n    security_password=""NULL""\n\n    /dev/sda:\n    Issuing SECURITY_UNLOCK command, password=""NULL"", user=user\n    SECURITY_UNLOCK: Input/output error\n\nExample output of hdparm with """" as password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock """" /dev/sda\n    security_password=""""\n\n    /dev/sda:\n     Issuing SECURITY_UNLOCK command, password="""", user=user\n\nNote the value of security_password in both cases.\n\nChange-Id: Ic24b706a04ff6c08d750b9e3d79eb79eab2952ad\nStory: 2001762\nTask: 12161\n'}, {'number': 2, 'created': '2018-04-03 13:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/711d4c919975b3ec32510a5105a8329d4e0eb948', 'message': 'Fix behaviour of ata secure erase when device password is already set\n\nThere were a couple of issues with the ata secure erase functionality as\nimplemented by GenericHardwareManager in hardware.py. Firstly, the code\nto perform a secure erase when the device had been locked by a previous\nfailed attempt was using the wrong password to unlock the device. Secondly,\nit was assumed that the drive could not be in the ""security enabled"" state -\nthis is not the case. The details can be found below:\n\nPass empty string to hdparm --security-unlock in GenericHardwareManager\n\nhdparm interprets the value, NULL, as a password with string value: ""NULL"".\nThis is in contrast to --security-set-pass, which interprets NULL as the\nempty string. The hdparm man page details flags where NULL should be used,\nbut --security-unlock is not one of them.\n\nExample output of hdparm with NULL password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock NULL /dev/sda\n    security_password=""NULL""\n\n    /dev/sda:\n    Issuing SECURITY_UNLOCK command, password=""NULL"", user=user\n    SECURITY_UNLOCK: Input/output error\n\nExample output of hdparm with """" as password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock """" /dev/sda\n    security_password=""""\n\n    /dev/sda:\n     Issuing SECURITY_UNLOCK command, password="""", user=user\n\nNote the value of security_password in both cases.\n\nDo not abort ata secure erase if security is in enabled state\n\nAt least in the case of INTEL SSDSC2BX016T4R drives, a\n\' hdparm --security-unlock\' command does not remove the enabled line of the\nsecurity section of `hdparm -I`. As a consequence, the GenericHardwareManager\ndoes not perform an ata secure erase (it relies on this line to be set\nto `not enabled`).\n\nFor an INTEL SSDSC2BX016T4R, it has been manually verfied that the following\nsequence of steps perform a secure erase sucessfully:\n\n- hdparm --user-master u --security-unlock /dev/sda\n- hdparm --user-master u --security-set-pass NULL /dev/sda\n- hdparm --user-master u --security-erase-enhanced NULL /dev/sda\n\nthis is indicated by the ""not enabled"" line appearing in the output of\n`hdparm -I /dev/sda`. It is therefore proposed that we do not actually care\nif the `enabled` line appears in the output pre-erase. We should only verify\nthat is set to ""not enabled"" after an erase is attempted.\n\nWhen we do not check the enabled line, the test\ntest_erase_block_device_ata_security_enabled becomes redundant with\ntest_erase_block_device_ata_security_enabled_unlock_exception taking its place.\n\nAs the tests are very dependent on the order of calls to `utils.execute`, I\nadded some asserts to the failure cases to ensure that the correct call was\nfailing.\n\nChange-Id: Ic24b706a04ff6c08d750b9e3d79eb79eab2952ad\nStory: 2001762\nTask: 12161\n'}, {'number': 3, 'created': '2018-04-03 14:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/caa95e215352fed1396d08cf7d5d1135f51436f9', 'message': 'Pass empty string to hdparm --security-unlock in GenericHardwareManager\n\nhdparm interprets the value, NULL, as a password with string value: ""NULL"".\nThis is in contrast to --security-set-pass, which interprets NULL as the\nempty string. The hdparm man page details flags where NULL should be used,\nbut --security-unlock is not one of them.\n\nExample output of hdparm with NULL password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock NULL /dev/sda\n    security_password=""NULL""\n\n    /dev/sda:\n    Issuing SECURITY_UNLOCK command, password=""NULL"", user=user\n    SECURITY_UNLOCK: Input/output error\n\nExample output of hdparm with """" as password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock """" /dev/sda\n    security_password=""""\n\n    /dev/sda:\n     Issuing SECURITY_UNLOCK command, password="""", user=user\n\nNote the value of security_password in both cases.\n\nChange-Id: Ic24b706a04ff6c08d750b9e3d79eb79eab2952ad\nStory: 2001762\nTask: 12161\n'}, {'number': 4, 'created': '2018-04-03 15:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b6273725f5bf153bfa29f3a6f1bb5524de42952a', 'message': 'Pass empty string to hdparm --security-unlock in GenericHardwareManager\n\nhdparm interprets the value, NULL, as a password with string value: ""NULL"".\nThis is in contrast to --security-set-pass, which interprets NULL as the\nempty string. The hdparm man page details flags where NULL should be used,\nbut --security-unlock is not one of them.\n\nExample output of hdparm with NULL password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock NULL /dev/sda\n    security_password=""NULL""\n\n    /dev/sda:\n    Issuing SECURITY_UNLOCK command, password=""NULL"", user=user\n    SECURITY_UNLOCK: Input/output error\n\nExample output of hdparm with """" as password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock """" /dev/sda\n    security_password=""""\n\n    /dev/sda:\n     Issuing SECURITY_UNLOCK command, password="""", user=user\n\nNote the value of security_password in both cases.\n\nChange-Id: Ic24b706a04ff6c08d750b9e3d79eb79eab2952ad\nStory: 2001762\nTask: 12161\n'}, {'number': 5, 'created': '2018-05-10 21:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/133c3e26bc3da2d558d152387648a7d4752052a1', 'message': 'Try empty password for ata security-unlock in GenericHardwareManager\n\nhdparm versions prior to hdparm-9.51 interpret the value, NULL, as a\npassword with string value: ""NULL"".\n\nExample output of hdparm with NULL password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock NULL /dev/sda\n    security_password=""NULL""\n\n    /dev/sda:\n    Issuing SECURITY_UNLOCK command, password=""NULL"", user=user\n    SECURITY_UNLOCK: Input/output error\n\nExample output of hdparm with """" as password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock """" /dev/sda\n    security_password=""""\n\n    /dev/sda:\n     Issuing SECURITY_UNLOCK command, password="""", user=user\n\nNote the values of security_password in the output above.\n\nIssuing a security-unlock will cause a state transition from SEC4\n(security enabled, locked, not frozen) to SEC5 (security enabled,\nunlocked, not frozen). In order to check that a password unlock attempt\nwas successful it makes sense to check that the drive is in the unlocked\nstate (a necessary condition for SEC5). Only after all unlock attempts\nfail, do we consider the drive out of our control.\n\nFor a security-erase to succeed, the drive must be in the SEC5 state.\nThe logic has been adjusted to ensure this is the case. I thought it was\nbetter to combine these changes as the security-unlock change did not\nwork in isolation.\n\nA good overview of the ATA security states can be found here:\n\n  http://www.admin-magazine.com/Archive/2014/19/Using-the-ATA-security-features-of-modern-hard-disks-and-SSDs\n\nChange-Id: Ic24b706a04ff6c08d750b9e3d79eb79eab2952ad\nStory: 2001762\nTask: 12161\n'}, {'number': 6, 'created': '2018-05-10 22:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b39fdb8d41b113f1dd7f9f1b13f8a14288b83657', 'message': 'Try empty password for ata security-unlock in GenericHardwareManager\n\nhdparm versions prior to hdparm-9.51 interpret the value, NULL, as a\npassword with string value: ""NULL"".\n\nExample output of hdparm with NULL password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock NULL /dev/sda\n    security_password=""NULL""\n\n    /dev/sda:\n    Issuing SECURITY_UNLOCK command, password=""NULL"", user=user\n    SECURITY_UNLOCK: Input/output error\n\nExample output of hdparm with """" as password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock """" /dev/sda\n    security_password=""""\n\n    /dev/sda:\n     Issuing SECURITY_UNLOCK command, password="""", user=user\n\nNote the values of security_password in the output above. It is therefore\nproposed that we try the empty string as a fallback option.\n\nIssuing a security-unlock will cause a state transition from SEC4\n(security enabled, locked, not frozen) to SEC5 (security enabled,\nunlocked, not frozen). In order to check that a password unlock attempt\nwas successful it makes sense to check that the drive is in the unlocked\nstate (a necessary condition for SEC5). Only after all unlock attempts\nfail, do we consider the drive out of our control.\n\nFor a security-erase to succeed, the drive must be in the SEC5 state.\nThe logic has been adjusted to ensure this is the case. I thought it was\nbetter to combine these changes as the security-unlock change did not\nwork in isolation.\n\nA good overview of the ATA security states can be found here:\n\n  http://www.admin-magazine.com/Archive/2014/19/Using-the-ATA-security-features-of-modern-hard-disks-and-SSDs\n\nChange-Id: Ic24b706a04ff6c08d750b9e3d79eb79eab2952ad\nStory: 2001762\nTask: 12161\n'}, {'number': 7, 'created': '2018-05-16 08:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4696885fd55a6c6f609790434761de60d28175ce', 'message': 'rework ATA secure erase\n\nhdparm versions prior to 9.51 interpret the value, NULL, as a\npassword with string value: ""NULL"".\n\nExample output of hdparm with NULL password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock NULL /dev/sda\n    security_password=""NULL""\n\n    /dev/sda:\n    Issuing SECURITY_UNLOCK command, password=""NULL"", user=user\n    SECURITY_UNLOCK: Input/output error\n\nExample output of hdparm with """" as password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock """" /dev/sda\n    security_password=""""\n\n    /dev/sda:\n     Issuing SECURITY_UNLOCK command, password="""", user=user\n\nNote the values of security_password in the output above. The output\nwas observed on a CentOS 7 system, which ships hdparm 9.43 in the\noffical repositories.\n\nThis change attempts to unlock the drive with the empty string if an\nunlock with NULL was unsucessful.\n\nIssuing a security-unlock will cause a state transition from SEC4\n(security enabled, locked, not frozen) to SEC5 (security enabled,\nunlocked, not frozen). In order to check that a password unlock attempt\nwas successful it makes sense to check that the drive is in the unlocked\nstate (a necessary condition for SEC5). Only after all unlock attempts\nfail, do we consider the drive out of our control.\n\nThe conditions to check the drive is in the right state have been\nadjusted to ensure that the drive is in the SEC5 state prior to issuing\na secure erase. Previously, on the ""recovery from previous fail"" path,\nthe security state was asserted to be ""not enabled"" after an unlock -\nthis could never have been the case.\n\nA good overview of the ATA security states can be found here:\n\n  http://www.admin-magazine.com/Archive/2014/19/Using-the-ATA-security-features-of-modern-hard-disks-and-SSDs\n\nChange-Id: Ic24b706a04ff6c08d750b9e3d79eb79eab2952ad\nStory: 2001762, 2001763\nTask: 12161, 12162\n'}, {'number': 8, 'created': '2018-05-16 13:18:24.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/aaf76e2cfb88c6cae50c8b46c65edce0a30e6a8f', 'message': 'rework ATA secure erase\n\nhdparm versions prior to 9.51 interpret the value, NULL, as a\npassword with string value: ""NULL"".\n\nExample output of hdparm with NULL password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock NULL /dev/sda\n    security_password=""NULL""\n\n    /dev/sda:\n    Issuing SECURITY_UNLOCK command, password=""NULL"", user=user\n    SECURITY_UNLOCK: Input/output error\n\nExample output of hdparm with """" as password:\n\n    [root@localhost ~]# hdparm --user-master u --security-unlock """" /dev/sda\n    security_password=""""\n\n    /dev/sda:\n     Issuing SECURITY_UNLOCK command, password="""", user=user\n\nNote the values of security_password in the output above. The output\nwas observed on a CentOS 7 system, which ships hdparm 9.43 in the\noffical repositories.\n\nThis change attempts to unlock the drive with the empty string if an\nunlock with NULL was unsucessful.\n\nIssuing a security-unlock will cause a state transition from SEC4\n(security enabled, locked, not frozen) to SEC5 (security enabled,\nunlocked, not frozen). In order to check that a password unlock attempt\nwas successful it makes sense to check that the drive is in the unlocked\nstate (a necessary condition for SEC5). Only after all unlock attempts\nfail, do we consider the drive out of our control.\n\nThe conditions to check the drive is in the right state have been\nadjusted to ensure that the drive is in the SEC5 state prior to issuing\na secure erase. Previously, on the ""recovery from previous fail"" path,\nthe security state was asserted to be ""not enabled"" after an unlock -\nthis could never have been the case.\n\nA good overview of the ATA security states can be found here:\n\n  http://www.admin-magazine.com/Archive/2014/19/Using-the-ATA-security-features-of-modern-hard-disks-and-SSDs\n\nChange-Id: Ic24b706a04ff6c08d750b9e3d79eb79eab2952ad\nStory: 2001762\nTask: 12161\nStory: 2001763\nTask: 12162\n'}]",12,557755,aaf76e2cfb88c6cae50c8b46c65edce0a30e6a8f,44,11,8,28048,,,0,"rework ATA secure erase

hdparm versions prior to 9.51 interpret the value, NULL, as a
password with string value: ""NULL"".

Example output of hdparm with NULL password:

    [root@localhost ~]# hdparm --user-master u --security-unlock NULL /dev/sda
    security_password=""NULL""

    /dev/sda:
    Issuing SECURITY_UNLOCK command, password=""NULL"", user=user
    SECURITY_UNLOCK: Input/output error

Example output of hdparm with """" as password:

    [root@localhost ~]# hdparm --user-master u --security-unlock """" /dev/sda
    security_password=""""

    /dev/sda:
     Issuing SECURITY_UNLOCK command, password="""", user=user

Note the values of security_password in the output above. The output
was observed on a CentOS 7 system, which ships hdparm 9.43 in the
offical repositories.

This change attempts to unlock the drive with the empty string if an
unlock with NULL was unsucessful.

Issuing a security-unlock will cause a state transition from SEC4
(security enabled, locked, not frozen) to SEC5 (security enabled,
unlocked, not frozen). In order to check that a password unlock attempt
was successful it makes sense to check that the drive is in the unlocked
state (a necessary condition for SEC5). Only after all unlock attempts
fail, do we consider the drive out of our control.

The conditions to check the drive is in the right state have been
adjusted to ensure that the drive is in the SEC5 state prior to issuing
a secure erase. Previously, on the ""recovery from previous fail"" path,
the security state was asserted to be ""not enabled"" after an unlock -
this could never have been the case.

A good overview of the ATA security states can be found here:

  http://www.admin-magazine.com/Archive/2014/19/Using-the-ATA-security-features-of-modern-hard-disks-and-SSDs

Change-Id: Ic24b706a04ff6c08d750b9e3d79eb79eab2952ad
Story: 2001762
Task: 12161
Story: 2001763
Task: 12162
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/55/557755/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,26ec84b45a5ac070e2006137333498833648a1b6,unlock_recover_squash," '--security-unlock', '', block_device.name)"," '--security-unlock', 'NULL', block_device.name)",1,1
openstack%2Ftripleo-ci~master~I48434d285535480485d5b4f63023a68d84fa450c,openstack/tripleo-ci,master,I48434d285535480485d5b4f63023a68d84fa450c,Build image in every OVB job,ABANDONED,2018-05-14 10:51:21.000000000,2018-05-17 19:04:14.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-14 10:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/66c6c234494c2c3f25fb7edde1a7f9c7fc8426b9', 'message': 'DNM: build image in every OVB job\n\nRun CI with building image in every OVB job\n\nChange-Id: I48434d285535480485d5b4f63023a68d84fa450c\n'}, {'number': 2, 'created': '2018-05-16 12:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9550788a35fb4270cea66ada272d51a1498f2f26', 'message': 'DNM: build image in every OVB job\n\nRun CI with building image in every OVB job\n\nChange-Id: I48434d285535480485d5b4f63023a68d84fa450c\n'}, {'number': 3, 'created': '2018-05-17 02:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/95cda810ca94010e1ea89f0dc5ef4ee87e6e793e', 'message': 'DNM: build image in every OVB job\n\nRun CI with building image in every OVB job\n\nChange-Id: I48434d285535480485d5b4f63023a68d84fa450c\n'}, {'number': 4, 'created': '2018-05-17 07:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/24f9de6c7c280390a362b4030355da14d1c7cce1', 'message': 'Build image in every OVB job\n\nRun CI with building image in every OVB job\n\nChange-Id: I48434d285535480485d5b4f63023a68d84fa450c\n'}, {'number': 5, 'created': '2018-05-17 13:49:02.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/76338dcb460e42d5420fe0ee93b99539e91b171e', 'message': 'Build image in every OVB job\n\nRun CI with building image in every OVB job\n\nRelated-Bug: #1770972\nChange-Id: I48434d285535480485d5b4f63023a68d84fa450c\n'}]",1,568258,76338dcb460e42d5420fe0ee93b99539e91b171e,23,5,5,10969,,,0,"Build image in every OVB job

Run CI with building image in every OVB job

Related-Bug: #1770972
Change-Id: I48434d285535480485d5b4f63023a68d84fa450c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/58/568258/4 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/ovb-rdocloud.yml'],1,66c6c234494c2c3f25fb7edde1a7f9c7fc8426b9,tobuild, # test with building images to_build: true,,3,0
openstack%2Fneutron-specs~master~I4ebb090de53370708e871c75c789b62bc5e71010,openstack/neutron-specs,master,I4ebb090de53370708e871c75c789b62bc5e71010,Minor typo corrections,MERGED,2018-05-17 08:04:40.000000000,2018-05-17 19:00:52.000000000,2018-05-17 19:00:52.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 08:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e19bdcd0998ee5336411023b48ec96727d99da41', 'message': 'Typo corrections\n\nThis is a follow-up to [1] to fix the typos pointed\nout during review.\n\n[1] https://review.openstack.org/545826\n    I3860a62420ab4983e2b741dff04498fbb0432d00\n\nChange-Id: I4ebb090de53370708e871c75c789b62bc5e71010\n'}, {'number': 2, 'created': '2018-05-17 08:23:33.000000000', 'files': ['specs/rocky/neutronlib-decouple-db-apiutils.rst', 'specs/rocky/neutronlib-decouple-models.rst', 'specs/rocky/neutron-inter.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/77f36d5f8912adcb8e2e7eeabe848cf6642bc343', 'message': 'Minor typo corrections\n\nThis change includes:\n* a follow-up to [1] to fix the typos pointed out during review\n* title fixes for two specs having the same title in the TOC\n* two other typos\n\n[1] https://review.openstack.org/545826\n    I3860a62420ab4983e2b741dff04498fbb0432d00\n\nChange-Id: I4ebb090de53370708e871c75c789b62bc5e71010\n'}]",0,569051,77f36d5f8912adcb8e2e7eeabe848cf6642bc343,10,4,2,12021,,,0,"Minor typo corrections

This change includes:
* a follow-up to [1] to fix the typos pointed out during review
* title fixes for two specs having the same title in the TOC
* two other typos

[1] https://review.openstack.org/545826
    I3860a62420ab4983e2b741dff04498fbb0432d00

Change-Id: I4ebb090de53370708e871c75c789b62bc5e71010
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/51/569051/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/neutron-inter.rst'],1,e19bdcd0998ee5336411023b48ec96727d99da41,typos_titles,"This resource will be part of two sorts of API calls:interconnection setup phase will ultimately proceed on both sides (seeNote that only the API calls to the 'interconnection' resources at steps A1/A2The calls at steps B1/B2, only require read-only access to these resources;steps A1/A2, nor for the calls at step B1/B2. However, using Keystone Federation for the user(s) used at step B1/B2 will certainly be useful and will avoid requiring the management in each Neutron instance of the credentials to use to each other OpenStack.","This resource will be part of two sort of API calls:interconnection setup phase will ultimate proceed on both sides (seeNote that only the API calls to the 'interconnection' resources at step AThe calls at steps B, only require read-only access to these resources;step 1, nor for the calls at step 2. However, using Keystone Federation for the user(s) used at step 2 will certainly be useful and avoid requiring the management in each Neutron instance of the credentials to use to each other OpenStack.",8,8
openstack%2Fgovernance~master~I734a37a458850c5593d73db4d0dad7dd0cedb041,openstack/governance,master,I734a37a458850c5593d73db4d0dad7dd0cedb041,fix stein goals build,MERGED,2018-05-16 19:54:31.000000000,2018-05-17 18:14:42.000000000,2018-05-17 18:14:42.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 19:54:31.000000000', 'files': ['goals/stein/index.rst', 'goals/stein/placeholder.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/9d5978543a085e8bd95ef5a75a375c7684b690c4', 'message': 'fix stein goals build\n\nChange-Id: I734a37a458850c5593d73db4d0dad7dd0cedb041\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,568947,9d5978543a085e8bd95ef5a75a375c7684b690c4,12,7,1,2472,,,0,"fix stein goals build

Change-Id: I734a37a458850c5593d73db4d0dad7dd0cedb041
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/47/568947/1 && git format-patch -1 --stdout FETCH_HEAD,"['goals/stein/index.rst', 'goals/stein/placeholder.rst']",2,9d5978543a085e8bd95ef5a75a375c7684b690c4,code-change,============= Placeholder ============= This file is a placeholder for the build and should be removed after the first real goal is approved. ,,10,2
openstack%2Fgovernance~master~I1cc082614184589a6add01c2b7accaec42d855c5,openstack/governance,master,I1cc082614184589a6add01c2b7accaec42d855c5,Setup Release Goal Folder for Stein,MERGED,2018-05-10 23:05:29.000000000,2018-05-17 18:14:42.000000000,2018-05-17 18:14:42.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-10 23:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/98924dc72399a0adebe47810d7c4b4a055c78e4c', 'message': 'Setup Release Goal Folder for Stein\n\nChange-Id: I1cc082614184589a6add01c2b7accaec42d855c5\n'}, {'number': 2, 'created': '2018-05-10 23:20:17.000000000', 'files': ['goals/stein/index.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/e37e23a9eb63213b824c1ea8bd577f3bea8a95db', 'message': 'Setup Release Goal Folder for Stein\n\nChange-Id: I1cc082614184589a6add01c2b7accaec42d855c5\n'}]",3,567700,e37e23a9eb63213b824c1ea8bd577f3bea8a95db,15,7,2,16708,,,0,"Setup Release Goal Folder for Stein

Change-Id: I1cc082614184589a6add01c2b7accaec42d855c5
",git fetch https://review.opendev.org/openstack/governance refs/changes/00/567700/1 && git format-patch -1 --stdout FETCH_HEAD,['goals/stein/index.rst'],1,98924dc72399a0adebe47810d7c4b4a055c78e4c,goal-update,====== Stein ====== .. toctree:: :glob: :maxdepth: 1 * ,,9,0
openstack%2Ftripleo-upgrade~stable%2Fqueens~I17ad422f2e30a729840f7808a7a9b77ef98d2780,openstack/tripleo-upgrade,stable/queens,I17ad422f2e30a729840f7808a7a9b77ef98d2780,"WIP, update scen000 job on queens",ABANDONED,2018-05-17 16:47:41.000000000,2018-05-17 18:07:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-17 16:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/afeb283dba6b0d4ffca7a4381c8c5e98055d5325', 'message': 'WIP, update scen000 job on queens\n\nChange-Id: I17ad422f2e30a729840f7808a7a9b77ef98d2780\n'}, {'number': 2, 'created': '2018-05-17 17:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6504750568f6da08aa3f7ee5c7444a2a82692246', 'message': 'WIP, update scen000 job on queens\n\nChange-Id: I17ad422f2e30a729840f7808a7a9b77ef98d2780\n'}, {'number': 3, 'created': '2018-05-17 17:38:44.000000000', 'files': ['zuul.d/multinode-upgrade-jobs.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/271618cb0a925ca11a5c7a7c9ca3bcd8bc542189', 'message': 'WIP, update scen000 job on queens\n\nChange-Id: I17ad422f2e30a729840f7808a7a9b77ef98d2780\n'}]",0,569168,271618cb0a925ca11a5c7a7c9ca3bcd8bc542189,7,1,3,9592,,,0,"WIP, update scen000 job on queens

Change-Id: I17ad422f2e30a729840f7808a7a9b77ef98d2780
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/68/569168/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,afeb283dba6b0d4ffca7a4381c8c5e98055d5325,queens,- project: check: jobs: - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates ,,5,0
openstack%2Fmonasca-ui~master~I79746010525784de4b66108e9d1fe749bd57675b,openstack/monasca-ui,master,I79746010525784de4b66108e9d1fe749bd57675b,Modify policy configuration file,MERGED,2018-04-23 06:54:54.000000000,2018-05-17 18:03:42.000000000,2018-04-25 08:12:26.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-04-23 06:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/63c848fe033a0b0269aca65c7543202b90e22c40', 'message': 'Modify policy configuration file\n\nOnly user with monasca-user role should have access to\nmonitoring panel\n\nChange-Id: I79746010525784de4b66108e9d1fe749bd57675b\n'}, {'number': 2, 'created': '2018-04-23 07:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/880a85348127d36247727e8f2108a33f2d3d003c', 'message': 'Modify policy configuration file\n\nOnly user with monasca-user role should have access to\nmonitoring panel.\n\nChange-Id: I79746010525784de4b66108e9d1fe749bd57675b\n'}, {'number': 3, 'created': '2018-04-23 11:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/8d2af5779badfd038ca81e10c2e704ebf7836405', 'message': 'Modify policy configuration file\n\nOnly user with monasca-user role should have access to\nmonitoring panel.\n\nStory: 2001895\nTask: 14380\nDepends-On: I16091dbd631a5e94d08598a23eeb3bdf97cf0a92\nChange-Id: I79746010525784de4b66108e9d1fe749bd57675b\n'}, {'number': 4, 'created': '2018-04-23 11:38:39.000000000', 'files': ['monitoring/conf/monitoring_policy.json'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/ebe64e0b1478340342e76a7a0279a668ec459c2f', 'message': 'Modify policy configuration file\n\nOnly user with monasca-user role should have access to\nmonitoring panel.\n\nStory: 2001895\nTask: 14379\nDepends-On: I16091dbd631a5e94d08598a23eeb3bdf97cf0a92\nChange-Id: I79746010525784de4b66108e9d1fe749bd57675b\n'}]",0,563498,ebe64e0b1478340342e76a7a0279a668ec459c2f,21,4,4,26141,,,0,"Modify policy configuration file

Only user with monasca-user role should have access to
monitoring panel.

Story: 2001895
Task: 14379
Depends-On: I16091dbd631a5e94d08598a23eeb3bdf97cf0a92
Change-Id: I79746010525784de4b66108e9d1fe749bd57675b
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/98/563498/4 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/conf/monitoring_policy.json'],1,63c848fe033a0b0269aca65c7543202b90e22c40,policy," ""monitoring:monitoring"": ""rule:monasca_user_role"","," ""owner"" : ""user_id:%(user_id)s"", ""admin_required"": ""role:admin or is_admin:1"", ""admin_or_owner"": ""rule:admin_required or rule:owner"", ""monitoring:monitoring"": ""rule:admin_or_owner"",",1,5
openstack%2Fkeystoneauth~master~Ifb6f89419600ee3218044c77ea9283fd293e5177,openstack/keystoneauth,master,Ifb6f89419600ee3218044c77ea9283fd293e5177,[DNM] See if latest pbr is causing our docs problems,ABANDONED,2018-05-16 17:33:12.000000000,2018-05-17 17:59:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-16 17:33:12.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b1bf67d5fb2cfecc293a9cf2f1a75bc28001f6a2', 'message': '[DNM] See if latest pbr is causing our docs problems\n\nChange-Id: Ifb6f89419600ee3218044c77ea9283fd293e5177\n'}]",0,568909,b1bf67d5fb2cfecc293a9cf2f1a75bc28001f6a2,3,1,1,8482,,,0,"[DNM] See if latest pbr is causing our docs problems

Change-Id: Ifb6f89419600ee3218044c77ea9283fd293e5177
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/09/568909/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b1bf67d5fb2cfecc293a9cf2f1a75bc28001f6a2,debugdocs,"pbr!=2.1.0,!=4.0.3,>=2.0.0 # Apache-2.0","pbr!=2.1.0,>=2.0.0 # Apache-2.0",1,1
openstack%2Fproject-config~master~Ibcb2f48374d23ba35e7375b73c0084bea8c4cd75,openstack/project-config,master,Ibcb2f48374d23ba35e7375b73c0084bea8c4cd75,Add Airship-DivingBell to Zuul,ABANDONED,2018-05-15 18:21:10.000000000,2018-05-17 17:59:29.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 23928}, {'_account_id': 25907}]","[{'number': 1, 'created': '2018-05-15 18:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/da44f4a831f8ec115877ea3f3e8328122974e95f', 'message': 'Add Airship-DivingBell to Zuul\n\nChange-Id: Ibcb2f48374d23ba35e7375b73c0084bea8c4cd75\n'}, {'number': 2, 'created': '2018-05-15 19:00:02.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/07721dcb2802a2b5d1912b585b1883866caa1e12', 'message': 'Add Airship-DivingBell to Zuul\n\nChange-Id: Ibcb2f48374d23ba35e7375b73c0084bea8c4cd75\n'}]",0,568660,07721dcb2802a2b5d1912b585b1883866caa1e12,10,5,2,25907,,,0,"Add Airship-DivingBell to Zuul

Change-Id: Ibcb2f48374d23ba35e7375b73c0084bea8c4cd75
",git fetch https://review.opendev.org/openstack/project-config refs/changes/60/568660/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,da44f4a831f8ec115877ea3f3e8328122974e95f,new-project, name: openstack/airship-divingbell templates: - system-required - noop-jobs - project:,,6,0
openstack%2Fproject-config~master~I360994fcbf22c8bb69ed3c40ef7cdd881d689569,openstack/project-config,master,I360994fcbf22c8bb69ed3c40ef7cdd881d689569,networking-odl: add graphs for ODL fluorine,MERGED,2018-03-13 00:18:03.000000000,2018-05-17 17:30:39.000000000,2018-05-17 17:30:38.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 9061}, {'_account_id': 13252}, {'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 00:18:03.000000000', 'files': ['grafana/networking-odl.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7ca735417aa296a4cb74dd8f8cc483bffc49768d', 'message': 'networking-odl: add graphs for ODL fluorine\n\nAs ODL fluorine release cycle begins, this patch adds graphs for ODL\nfluorine.\n\nChange-Id: I360994fcbf22c8bb69ed3c40ef7cdd881d689569\nDepends-On: Ibc8216677eebfe1598c2d4e92a6c60ebc8d30e5c\n'}]",0,552186,7ca735417aa296a4cb74dd8f8cc483bffc49768d,11,6,1,333,,,0,"networking-odl: add graphs for ODL fluorine

As ODL fluorine release cycle begins, this patch adds graphs for ODL
fluorine.

Change-Id: I360994fcbf22c8bb69ed3c40ef7cdd881d689569
Depends-On: Ibc8216677eebfe1598c2d4e92a6c60ebc8d30e5c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/86/552186/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/networking-odl.yaml'],1,7ca735417aa296a4cb74dd8f8cc483bffc49768d,networking-odl-fluorine," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_networking-odl.master.job.networking-odl-functional-fluorine.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_networking-odl.master.job.networking-odl-functional-fluorine.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-functional-fluorine') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_networking-odl.master.job.networking-odl-fullstack-fluorine.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_networking-odl.master.job.networking-odl-fullstack-fluorine.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-fullstack-fluorine') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_networking-odl.master.job.networking-odl-tempest-fluorine.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_networking-odl.master.job.networking-odl-tempest-fluorine.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-tempest-fluorine') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_networking-odl.master.job.networking-odl-tempest-fluorine-multinode.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_networking-odl.master.job.networking-odl-tempest-fluorine-multinode.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-tempest-fluorine-multinode') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_networking-odl.master.job.networking-odl-rally-fluorine.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_networking-odl.master.job.networking-odl-rally-fluorine.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-rally-fluorine')",,5,0
openstack%2Fproject-config~master~Ieb0d59484cc4b067edd227180657fd532947d860,openstack/project-config,master,Ieb0d59484cc4b067edd227180657fd532947d860,Normalize projects.yaml,MERGED,2018-05-17 06:04:08.000000000,2018-05-17 17:30:37.000000000,2018-05-17 17:30:37.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-17 06:04:08.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6edbac952ac2086e8abb7c83be76b3c4f2df9229', 'message': 'Normalize projects.yaml\n\nChange-Id: Ieb0d59484cc4b067edd227180657fd532947d860\n'}]",0,569017,6edbac952ac2086e8abb7c83be76b3c4f2df9229,7,3,1,11131,,,0,"Normalize projects.yaml

Change-Id: Ieb0d59484cc4b067edd227180657fd532947d860
",git fetch https://review.opendev.org/openstack/project-config refs/changes/17/569017/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,6edbac952ac2086e8abb7c83be76b3c4f2df9229,project-yaml-normalization,, upstream: https://github.com/att-comdev/divingbell,0,1
openstack%2Fproject-config~master~I35ebcf0a7f034ee17f23377ef0594cdf87d8aa88,openstack/project-config,master,I35ebcf0a7f034ee17f23377ef0594cdf87d8aa88,Remove py35 neutron experimental job,MERGED,2018-05-16 19:42:41.000000000,2018-05-17 17:30:35.000000000,2018-05-17 17:30:35.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 19:42:41.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/edcc3620c41ed68243c78c385e885217a8464d58', 'message': 'Remove py35 neutron experimental job\n\nThe openstack-tox-py35 job is already run on the neutron\ncheck and gate queues, no need to run it on experimental.\n\nChange-Id: I35ebcf0a7f034ee17f23377ef0594cdf87d8aa88\n'}]",0,568944,edcc3620c41ed68243c78c385e885217a8464d58,7,3,1,1131,,,0,"Remove py35 neutron experimental job

The openstack-tox-py35 job is already run on the neutron
check and gate queues, no need to run it on experimental.

Change-Id: I35ebcf0a7f034ee17f23377ef0594cdf87d8aa88
",git fetch https://review.opendev.org/openstack/project-config refs/changes/44/568944/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,edcc3620c41ed68243c78c385e885217a8464d58,neu-exp-cleanup-py35,, - openstack-tox-py35: branches: ^(?!stable/ocata).*$ irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^releasenotes/.*$ - openstack-tox-py35: branches: ^(?!stable/ocata).*$ irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^releasenotes/.*$,0,14
openstack%2Fcontributor-guide~master~I1b993b545ef69078ff95a469365e6df4dea43b0f,openstack/contributor-guide,master,I1b993b545ef69078ff95a469365e6df4dea43b0f,Adds 'Allows you to...' sections,MERGED,2018-05-10 22:43:38.000000000,2018-05-17 17:20:51.000000000,2018-05-17 17:20:51.000000000,"[{'_account_id': 6547}, {'_account_id': 9562}, {'_account_id': 14482}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-10 22:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/477f1a58ac5c6300d0481c9285eb84628ed10711', 'message': ""Adds 'Allows you to...' sections\n\nAdds explainations of what guide users can do as a result\nof completing the section.\n\nChange-Id: I1b993b545ef69078ff95a469365e6df4dea43b0f\n""}, {'number': 2, 'created': '2018-05-10 22:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/b2f50b62003d17a7f3b441002157ab8598c79c50', 'message': ""Adds 'Allows you to...' sections\n\nAdds explainations of what guide users can do as a result\nof completing the section.\n\nChange-Id: I1b993b545ef69078ff95a469365e6df4dea43b0f\n""}, {'number': 3, 'created': '2018-05-15 01:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/459667ce73ae2fadad4561b1f164ebe9fa4f00c2', 'message': ""Adds 'Allows you to...' sections\n\nAdds explainations of what guide users can do as a result\nof completing the section.\n\nStory: 2001900\n\nTask: 14385\nTask: 14386\nTask: 14387\nTask: 14389\nTask: 14391\nTask: 14392\nTask: 14393\n\nChange-Id: I1b993b545ef69078ff95a469365e6df4dea43b0f\n""}, {'number': 4, 'created': '2018-05-15 01:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/7b735586dfac6d989cb3dadff134ece7bb1915b9', 'message': ""Adds 'Allows you to...' sections\n\nAdds explainations of what guide users can do as a result\nof completing the section.\n\nStory: 2001900\n\nTask: 14385\nTask: 14386\nTask: 14387\nTask: 14389\nTask: 14391\nTask: 14392\nTask: 14393\n\nChange-Id: I1b993b545ef69078ff95a469365e6df4dea43b0f\n""}, {'number': 5, 'created': '2018-05-16 01:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/b2e42368f9ad6faa8c91186519ef8bdf6c4a60ee', 'message': ""Adds 'Allows you to...' sections\n\nAdds explainations of what guide users can do as a result\nof completing the section.\n\nStory: 2001900\n\nTask: 14385\nTask: 14386\nTask: 14387\nTask: 14389\nTask: 14391\nTask: 14392\nTask: 14393\n\nChange-Id: I1b993b545ef69078ff95a469365e6df4dea43b0f\n""}, {'number': 6, 'created': '2018-05-16 07:01:15.000000000', 'files': ['doc/source/common/i18n.rst', 'doc/source/common/zuul-status.rst', 'doc/source/common/task-tracking.rst', 'doc/source/code-and-documentation/elastic-recheck.rst', 'doc/source/common/events.rst', 'doc/source/common/governance.rst', 'doc/source/common/communication.rst', 'doc/source/code-and-documentation/using-gerrit.rst', 'doc/source/code-and-documentation/patch-best-practices.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/2b25ff548aab4441d65405f9c1450ba69509a2ef', 'message': ""Adds 'Allows you to...' sections\n\nAdds explainations of what guide users can do as a result\nof completing the section.\n\nStory: 2001900\n\nTask: 14385\nTask: 14386\nTask: 14387\nTask: 14389\nTask: 14391\nTask: 14392\nTask: 14393\n\nChange-Id: I1b993b545ef69078ff95a469365e6df4dea43b0f\n""}]",34,567698,2b25ff548aab4441d65405f9c1450ba69509a2ef,25,5,6,16708,,,0,"Adds 'Allows you to...' sections

Adds explainations of what guide users can do as a result
of completing the section.

Story: 2001900

Task: 14385
Task: 14386
Task: 14387
Task: 14389
Task: 14391
Task: 14392
Task: 14393

Change-Id: I1b993b545ef69078ff95a469365e6df4dea43b0f
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/98/567698/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/common/i18n.rst', 'doc/source/common/zuul-status.rst', 'doc/source/common/task-tracking.rst', 'doc/source/code-and-documentation/elastic-recheck.rst', 'doc/source/common/events.rst', 'doc/source/common/governance.rst', 'doc/source/common/patch-best-practices.rst', 'doc/source/common/communication.rst', 'doc/source/code-and-documentation/using-gerrit.rst']",9,477f1a58ac5c6300d0481c9285eb84628ed10711,more_allows_subsections,"Gerrit allows you: * Get reviews on your: ** `Code, docs, infrastructure changes, and CI configurations <http://git.openstack.org/cgit>`_ ** `Specifications <http://specs.openstack.org>`_ ** `Translations <http://git.openstack.org/cgit/openstack/i18n/tree/>`_ ** `Use cases for features <http://specs.openstack.org/openstack/openstack-user-stories/>`_ * Request reviews from specific community members * Make quick changes to your patches in the webui ",,56,5
openstack%2Fopenstack-ansible~master~Icf528f8c71e61de9e5a4c1e4004f5b269508d051,openstack/openstack-ansible,master,Icf528f8c71e61de9e5a4c1e4004f5b269508d051,infra-journal-remote: Skip playbook on empty emtpy log_hosts group,MERGED,2018-05-17 07:17:30.000000000,2018-05-17 17:20:50.000000000,2018-05-17 17:20:50.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 15362}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-17 07:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/441a53456c6a75d882d4bd32f43f6eec47d67af0', 'message': 'infra-journal-remote: Skip playbook if no log_hosts group is defined\n\nIf the inventory does not contain a log_hosts group then the deployment\nwill fail with the following error:\n\n{{ hostvars[groups[\'log_hosts\'][0]][\'ansible_host\'] }}: list object has no element 0""}\n\nAs such, we need to skip the playbook if there is no such group in the\ndeployment.\n\nChange-Id: Icf528f8c71e61de9e5a4c1e4004f5b269508d051\n'}, {'number': 2, 'created': '2018-05-17 07:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7115d51179ad38128e84e67e20a2ba20bd8d7863', 'message': 'infra-journal-remote: Skip playbook if no log_hosts group is defined\n\nIf the inventory does not contain a log_hosts group then the deployment\nwill fail with the following error:\n\n{{ hostvars[groups[\'log_hosts\'][0]][\'ansible_host\'] }}: list object has no element 0""}\n\nAs such, we need to skip the playbook if there is no such group in the\ndeployment.\n\nChange-Id: Icf528f8c71e61de9e5a4c1e4004f5b269508d051\n'}, {'number': 3, 'created': '2018-05-17 07:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1115fcde2c263b71e7b66d950e86fb54f7077c4d', 'message': 'infra-journal-remote: Skip playbook on undefined or emtpy log_hosts group\n\nIf the inventory does not contain a log_hosts group then the deployment\nwill fail with the following error:\n\n{{ hostvars[groups[\'log_hosts\'][0]][\'ansible_host\'] }}: list object has no element 0""}\n\nAs such, we need to skip the playbook if there is no such group in the\ndeployment. We also need to skip it if they group is defined but it has\nzero hosts in it.\n\nChange-Id: Icf528f8c71e61de9e5a4c1e4004f5b269508d051\n'}, {'number': 4, 'created': '2018-05-17 07:49:43.000000000', 'files': ['playbooks/infra-journal-remote.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c340a6efe69db8d69f90943426ef52feb54ef296', 'message': 'infra-journal-remote: Skip playbook on empty emtpy log_hosts group\n\nIf the log_hosts group is empty, then the deployment fails with the\nfollowing error:\n\n{{ hostvars[groups[\'log_hosts\'][0]][\'ansible_host\'] }}: list object has no element 0""}\n\nAs such, we need to skip the playbook if no hosts are defined in that\ngroup.\n\nChange-Id: Icf528f8c71e61de9e5a4c1e4004f5b269508d051\n'}]",2,569039,c340a6efe69db8d69f90943426ef52feb54ef296,17,6,4,23163,,,0,"infra-journal-remote: Skip playbook on empty emtpy log_hosts group

If the log_hosts group is empty, then the deployment fails with the
following error:

{{ hostvars[groups['log_hosts'][0]]['ansible_host'] }}: list object has no element 0""}

As such, we need to skip the playbook if no hosts are defined in that
group.

Change-Id: Icf528f8c71e61de9e5a4c1e4004f5b269508d051
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/39/569039/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/infra-journal-remote.yml'],1,441a53456c6a75d882d4bd32f43f6eec47d67af0,do-not-deploy-logging," - name: Skip playbook if no log_hosts group is defined in the inventory meta: end_play when: - ""'log_hosts' not in groups"" ",,5,0
openstack%2Fzun~stable%2Fqueens~I3d84059ffd2ee1b1c0b90c6675fcc7d47f8633d2,openstack/zun,stable/queens,I3d84059ffd2ee1b1c0b90c6675fcc7d47f8633d2,Allow branch to be override externally,ABANDONED,2018-05-17 17:01:56.000000000,2018-05-17 17:02:08.000000000,,[{'_account_id': 11536}],"[{'number': 1, 'created': '2018-05-17 17:01:56.000000000', 'files': ['playbooks/zun-devstack-base/run.yaml', 'playbooks/zun-devstack-base-multinode/run.yaml'], 'web_link': 'https://opendev.org/openstack/zun/commit/3f1d8f66e5e77bb1368676b265574a1e7264e25d', 'message': 'Allow branch to be override externally\n\nNeeded-By: Ib4ae1b1968c3d35af58d0d99479a9cfd75b7450d\nChange-Id: I3d84059ffd2ee1b1c0b90c6675fcc7d47f8633d2\n'}]",0,569171,3f1d8f66e5e77bb1368676b265574a1e7264e25d,2,1,1,27654,,,0,"Allow branch to be override externally

Needed-By: Ib4ae1b1968c3d35af58d0d99479a9cfd75b7450d
Change-Id: I3d84059ffd2ee1b1c0b90c6675fcc7d47f8633d2
",git fetch https://review.opendev.org/openstack/zun refs/changes/71/569171/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/zun-devstack-base/run.yaml', 'playbooks/zun-devstack-base-multinode/run.yaml']",2,3f1d8f66e5e77bb1368676b265574a1e7264e25d,," export BRANCH_OVERRIDE=""{{ branch_override | default('default') }}""",,2,0
openstack%2Fproject-config~master~I68e58ec68eacdd9a9d3f25b07082429dbfef668d,openstack/project-config,master,I68e58ec68eacdd9a9d3f25b07082429dbfef668d,Add initial Airship projects,MERGED,2018-05-16 22:41:29.000000000,2018-05-17 16:37:09.000000000,2018-05-17 16:37:09.000000000,"[{'_account_id': 1}, {'_account_id': 2834}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7769}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23186}, {'_account_id': 23928}, {'_account_id': 25907}]","[{'number': 1, 'created': '2018-05-16 22:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ad27d18c51c8cfcfcbf3afaf1131a78e39d1f7e2', 'message': 'Add initial Airship projects\n\nAirship is a collection of components that provide a declarative\ninterface for repeatable deployment and operation of OpenStack on top of\nKubernetes using the existing OpenStack-Helm project [1].\n\nThe following projects are added with this change:\n\nArmada - An orchestrator for deploying and upgrading a collection of\nHelm charts.\n\nBerth - A lightweight mechanism for managing VMs on top of Kubernetes\nvia Helm.\n\nDeckhand - A configuration management service with features to support\nmanaging large cluster configurations.\n\nDrydock - A declarative host provisioning system built initially to\nleverage MaaS for baremetal host deployment.\n\nMaaS - A collection of artifacts needed to deploy MaaS on top of\nKubernetes.\n\nPeg Leg - A tool to organize configuration of multiple Airship\ndeployments.\n\nPromenade - A deployment system for resilient, self-hosted Kubernetes.\n\nShipyard - A cluster lifecycle orchestrator for Airship.\n\nAirship-in-a-bottle - Integrated configuration and documentation.\n\n[1] OpenStack Helm: https://github.com/openstack/openstack-helm\n\nChange-Id: I68e58ec68eacdd9a9d3f25b07082429dbfef668d\n'}, {'number': 2, 'created': '2018-05-17 13:43:27.000000000', 'files': ['gerrit/acls/openstack/airship.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b43334fb4e86f4c77f86aaa379018da79014562c', 'message': 'Add initial Airship projects\n\nAirship is a collection of components that provide a declarative\ninterface for repeatable deployment and operation of OpenStack on top of\nKubernetes using the existing OpenStack-Helm project [1].\n\nThe following projects are added with this change:\n\nArmada - An orchestrator for deploying and upgrading a collection of\nHelm charts.\n\nBerth - A lightweight mechanism for managing VMs on top of Kubernetes\nvia Helm.\n\nDeckhand - A configuration management service with features to support\nmanaging large cluster configurations.\n\nDrydock - A declarative host provisioning system built initially to\nleverage MaaS for baremetal host deployment.\n\nMaaS - A collection of artifacts needed to deploy MaaS on top of\nKubernetes.\n\nPeg Leg - A tool to organize configuration of multiple Airship\ndeployments.\n\nPromenade - A deployment system for resilient, self-hosted Kubernetes.\n\nShipyard - A cluster lifecycle orchestrator for Airship.\n\nAirship-in-a-bottle - Integrated configuration and documentation.\n\n[1] OpenStack Helm: https://github.com/openstack/openstack-helm\n\nChange-Id: I68e58ec68eacdd9a9d3f25b07082429dbfef668d\n'}]",2,568976,b43334fb4e86f4c77f86aaa379018da79014562c,22,10,2,25907,,,0,"Add initial Airship projects

Airship is a collection of components that provide a declarative
interface for repeatable deployment and operation of OpenStack on top of
Kubernetes using the existing OpenStack-Helm project [1].

The following projects are added with this change:

Armada - An orchestrator for deploying and upgrading a collection of
Helm charts.

Berth - A lightweight mechanism for managing VMs on top of Kubernetes
via Helm.

Deckhand - A configuration management service with features to support
managing large cluster configurations.

Drydock - A declarative host provisioning system built initially to
leverage MaaS for baremetal host deployment.

MaaS - A collection of artifacts needed to deploy MaaS on top of
Kubernetes.

Peg Leg - A tool to organize configuration of multiple Airship
deployments.

Promenade - A deployment system for resilient, self-hosted Kubernetes.

Shipyard - A cluster lifecycle orchestrator for Airship.

Airship-in-a-bottle - Integrated configuration and documentation.

[1] OpenStack Helm: https://github.com/openstack/openstack-helm

Change-Id: I68e58ec68eacdd9a9d3f25b07082429dbfef668d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/76/568976/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/airship-in-a-bottle.config', 'gerrit/acls/openstack/airship-promenade.config', 'gerrit/acls/openstack/airship-berth.config', 'gerrit/acls/openstack/airship-armada.config', 'gerrit/acls/openstack/airship-deckhand.config', 'gerrit/acls/openstack/airship-shipyard.config', 'gerrit/acls/openstack/airship-drydock.config', 'gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/airship-maas.config', 'gerrit/acls/openstack/airship-pegleg.config']",11,ad27d18c51c8cfcfcbf3afaf1131a78e39d1f7e2,new-project,"[access ""refs/heads/*""] abandon = group airship-core create = group airship-release label-Code-Review = -2..+2 group airship-core label-Verified = -1..+1 group airship-ci label-Workflow = -1..+1 group airship-core [access ""refs/tags/*""] pushSignedTag = group airship-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,207,0
openstack%2Ftripleo-heat-templates~master~I5e0fcb7467fcff7e549e04789ceeb8eb49ee265a,openstack/tripleo-heat-templates,master,I5e0fcb7467fcff7e549e04789ceeb8eb49ee265a,Fix cinder-backup image wrangling on update,MERGED,2018-05-11 09:25:13.000000000,2018-05-17 16:27:33.000000000,2018-05-17 14:39:05.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 11090}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-11 09:25:13.000000000', 'files': ['docker/services/pacemaker/cinder-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0322730a7b0759526c3e0b876afa514d8ab35dd', 'message': ""Fix cinder-backup image wrangling on update\n\nThe minor update tasks for cinder-backup first pull the new image and\nthen delete the old one. If the image hasn't changed, deleting the old\none means deleting the new one too, and then trying to tag it as\npcmklatest will fail. The other services under\nservices/docker/pacemaker seem to have the order correct.\n\nAll services here could use a performance optimization for cases when\nthe image hasn't changed (don't reshuffle images if the hash hasn't\nchanged) but let's fix the breakage first and address performance\nlater.\n\nChange-Id: I5e0fcb7467fcff7e549e04789ceeb8eb49ee265a\nCloses-Bug: #1770598\nRelated-Bug: #1770599\n""}]",1,567806,b0322730a7b0759526c3e0b876afa514d8ab35dd,43,10,1,8042,,,0,"Fix cinder-backup image wrangling on update

The minor update tasks for cinder-backup first pull the new image and
then delete the old one. If the image hasn't changed, deleting the old
one means deleting the new one too, and then trying to tag it as
pcmklatest will fail. The other services under
services/docker/pacemaker seem to have the order correct.

All services here could use a performance optimization for cases when
the image hasn't changed (don't reshuffle images if the hash hasn't
changed) but let's fix the breakage first and address performance
later.

Change-Id: I5e0fcb7467fcff7e549e04789ceeb8eb49ee265a
Closes-Bug: #1770598
Related-Bug: #1770599
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/567806/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/pacemaker/cinder-backup.yaml'],1,b0322730a7b0759526c3e0b876afa514d8ab35dd,bug/1770598," - name: Pull latest Cinder-Backup images command: ""docker pull {{docker_image}}"""," - name: Pull latest Cinder-Backup images command: ""docker pull {{docker_image}}""",2,2
openstack%2Fnova~master~Id3a2a1df3746120af38b62fdc902c3c0c44c38ee,openstack/nova,master,Id3a2a1df3746120af38b62fdc902c3c0c44c38ee,PowerVM Driver: DiskAdapter parent class,MERGED,2018-03-01 21:55:43.000000000,2018-05-17 16:24:09.000000000,2018-05-17 16:24:09.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16710}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-01 21:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf40e3b26cdf75f0636178ad21764135c3f0d75e', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-virt-rocky\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 2, 'created': '2018-03-01 21:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11896577caeceef3c10e07e08dab7245883b94fd', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-virt-rocky\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 3, 'created': '2018-03-02 00:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f8a7443eae8d0da802d1312c3362ef7c93c305d', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-virt-rocky\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 4, 'created': '2018-03-05 22:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c20f6ae320ea20f888e17533a9817483ff83caa', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-virt-rocky\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 5, 'created': '2018-03-06 16:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c59596fd89b3641ebeb7427bf10965dc9a4808a8', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-virt-rocky\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 6, 'created': '2018-03-07 18:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7597721d425affa5527af1fe8bd15b5c8e241ff', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-virt-rocky\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 7, 'created': '2018-03-21 19:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42541f8f4839aabe5d6ff0cdde6e7d7a4c1067bb', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-virt-rocky\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 8, 'created': '2018-03-21 20:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2c3b747018b77d4b49a24a814c6025bffdd62ce', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-localdisk\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 9, 'created': '2018-03-26 16:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee9d1ae641da15097985eca53a7a4b09161626b7', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-localdisk\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 10, 'created': '2018-03-31 21:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bea021aba5736d9ba4d5d87cec28ea5365427ffc', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-localdisk\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 11, 'created': '2018-03-31 21:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db4bbec609ff023b938dd0660b3dd554ba466f2b', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-localdisk\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 12, 'created': '2018-04-02 19:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/947624775cc34374bfade5eb9aa3f9935e3bdc19', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-localdisk\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 13, 'created': '2018-04-02 19:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5020b9393a9a1caa690f5b09b0f9775bfdb96fe0', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-localdisk\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 14, 'created': '2018-04-02 20:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fc26ac00d928051e3906882f4856fdc7809f973', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-localdisk\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 15, 'created': '2018-04-11 18:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/154e5c415d286cab83b32428b7ae105bd0f801f0', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-localdisk\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 16, 'created': '2018-04-24 15:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7da43fa1cd79b1f058c04f6f1d0f342e1651c4b', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-localdisk\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 17, 'created': '2018-04-25 19:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34be739c696f8da6bdb4536cf123aa63523b5178', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-localdisk\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 18, 'created': '2018-05-16 16:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7eaccd4a4a8e26e8e63ef3b0c8c2f91b43e7801f', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-localdisk\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 19, 'created': '2018-05-16 18:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d6afafa113a9f724d78e3acab9b54284f7dd3cd', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-localdisk\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 20, 'created': '2018-05-16 19:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/101bc3723f0cae209aa237229ea8522dd54a8148', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-localdisk\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}, {'number': 21, 'created': '2018-05-16 19:58:03.000000000', 'files': ['nova/virt/powervm/disk/ssp.py', 'nova/tests/unit/virt/powervm/disk/test_driver.py', 'nova/tests/unit/virt/powervm/disk/fake_adapter.py', 'nova/tests/unit/virt/powervm/disk/test_ssp.py', 'nova/virt/powervm/disk/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6f9908d4fba766b8c1f9a2d04adca04afa0fb2e2', 'message': 'PowerVM Driver: DiskAdapter parent class\n\nThis adds the DiskAdapter parent class for PowerVM disk adapters. The\nonly disk adapter currently supported by the PowerVM virt driver is\nshared storage pool. However adding additional PowerVM disk adapters\n(localdisk) will be simplified by implementing the base class first.\n\nBlueprint: powervm-localdisk\n\nChange-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee\n'}]",31,549053,6f9908d4fba766b8c1f9a2d04adca04afa0fb2e2,235,18,21,16710,,,0,"PowerVM Driver: DiskAdapter parent class

This adds the DiskAdapter parent class for PowerVM disk adapters. The
only disk adapter currently supported by the PowerVM virt driver is
shared storage pool. However adding additional PowerVM disk adapters
(localdisk) will be simplified by implementing the base class first.

Blueprint: powervm-localdisk

Change-Id: Id3a2a1df3746120af38b62fdc902c3c0c44c38ee
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/549053/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/powervm/disk/ssp.py', 'nova/tests/unit/virt/powervm/disk/test_ssp.py']",2,cf40e3b26cdf75f0636178ad21764135c3f0d75e,bp/powervm-localdisk," @mock.patch('nova.virt.powervm.disk.driver.IterableToFileAdapter',"," @mock.patch('nova.virt.powervm.disk.ssp.IterableToFileAdapter',",8,147
openstack%2Fnova~master~I31d3df76f44860f15a76fc31135a08f4078e4e62,openstack/nova,master,I31d3df76f44860f15a76fc31135a08f4078e4e62,Remove mox in test_live_migrate.py,MERGED,2018-04-27 01:18:18.000000000,2018-05-17 16:24:02.000000000,2018-05-17 16:24:02.000000000,"[{'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}, {'_account_id': 27336}]","[{'number': 1, 'created': '2018-04-27 01:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70164fa542b7dfb37c93c7d9766d5985289a4f2b', 'message': 'Remove mox in test_live_migrate.py\n\nReplace mox with mock in\nnova/tests/unit/conductor/tasks/test_live_migrate.py.\n\nChange-Id: I31d3df76f44860f15a76fc31135a08f4078e4e62\nImplements: blueprint mox-removal\n'}, {'number': 2, 'created': '2018-05-06 22:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e904fa63c0409d99f993a5a60954def3908faa06', 'message': 'Remove mox in test_live_migrate.py\n\nReplace mox with mock in\nnova/tests/unit/conductor/tasks/test_live_migrate.py.\n\nChange-Id: I31d3df76f44860f15a76fc31135a08f4078e4e62\nImplements: blueprint mox-removal\n'}, {'number': 3, 'created': '2018-05-14 22:22:03.000000000', 'files': ['nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/75350de9f99cac4b95c4f8885eb54f7ee72bd6b1', 'message': 'Remove mox in test_live_migrate.py\n\nReplace mox with mock in\nnova/tests/unit/conductor/tasks/test_live_migrate.py.\n\nChange-Id: I31d3df76f44860f15a76fc31135a08f4078e4e62\nImplements: blueprint mox-removal\n'}]",1,564656,75350de9f99cac4b95c4f8885eb54f7ee72bd6b1,33,15,3,7634,,,0,"Remove mox in test_live_migrate.py

Replace mox with mock in
nova/tests/unit/conductor/tasks/test_live_migrate.py.

Change-Id: I31d3df76f44860f15a76fc31135a08f4078e4e62
Implements: blueprint mox-removal
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/564656/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/conductor/tasks/test_live_migrate.py'],1,70164fa542b7dfb37c93c7d9766d5985289a4f2b,bp/mox-removal," @mock.patch.object(live_migrate.LiveMigrationTask, '_call_livem_checks_on_host') @mock.patch.object(live_migrate.LiveMigrationTask, '_check_compatible_with_source_hypervisor') @mock.patch.object(scheduler_client.SchedulerClient, 'select_destinations', return_value=[[fake_selection1]]) @mock.patch.object(objects.RequestSpec, 'reset_forced_destinations') @mock.patch.object(scheduler_utils, 'setup_instance_group') def test_find_destination_works(self, mock_setup, mock_reset, mock_select, mock_check, mock_call): mock_setup.assert_called_once_with(self.context, self.fake_spec) mock_reset.assert_called_once_with() mock_select.assert_called_once_with(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False) mock_check.assert_called_once_with('host1') mock_call.assert_called_once_with('host1') @mock.patch.object(live_migrate.LiveMigrationTask, '_call_livem_checks_on_host') @mock.patch.object(live_migrate.LiveMigrationTask, '_check_compatible_with_source_hypervisor') @mock.patch.object(scheduler_client.SchedulerClient, 'select_destinations', return_value=[[fake_selection1]]) @mock.patch.object(scheduler_utils, 'setup_instance_group') def test_find_destination_no_image_works(self, mock_setup, mock_select, mock_check, mock_call): mock_setup.assert_called_once_with(self.context, self.fake_spec) mock_select.assert_called_once_with( self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False) mock_check.assert_called_once_with('host1') mock_call.assert_called_once_with('host1') @mock.patch.object(live_migrate.LiveMigrationTask, '_remove_host_allocations') @mock.patch.object(live_migrate.LiveMigrationTask, '_call_livem_checks_on_host') @mock.patch.object(live_migrate.LiveMigrationTask, '_check_compatible_with_source_hypervisor') @mock.patch.object(scheduler_client.SchedulerClient, 'select_destinations', side_effect=[[[fake_selection1]], [[fake_selection2]]]) @mock.patch.object(scheduler_utils, 'setup_instance_group') def _test_find_destination_retry_hypervisor_raises( self, error, mock_setup, mock_select, mock_check, mock_call, mock_remove): mock_check.side_effect = [error, None] self.assertEqual((""host2"", ""node2""), self.task._find_destination()) mock_remove.assert_called_once_with('host1', 'node1') mock_setup.assert_called_once_with(self.context, self.fake_spec) mock_select.assert_has_calls([ mock.call(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False), mock.call(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False)]) mock_check.assert_has_calls([mock.call('host1'), mock.call('host2')]) mock_call.assert_called_once_with('host2') @mock.patch.object(live_migrate.LiveMigrationTask, '_remove_host_allocations') @mock.patch.object(live_migrate.LiveMigrationTask, '_call_livem_checks_on_host') @mock.patch.object(live_migrate.LiveMigrationTask, '_check_compatible_with_source_hypervisor') @mock.patch.object(scheduler_client.SchedulerClient, 'select_destinations', side_effect=[[[fake_selection1]], [[fake_selection2]]]) @mock.patch.object(scheduler_utils, 'setup_instance_group') def test_find_destination_retry_with_invalid_livem_checks( self, mock_setup, mock_select, mock_check, mock_call, mock_remove): mock_call.side_effect = [exception.Invalid(), None] self.assertEqual((""host2"", ""node2""), self.task._find_destination()) mock_remove.assert_called_once_with('host1', 'node1') mock_setup.assert_called_once_with(self.context, self.fake_spec) mock_select.assert_has_calls([ mock.call(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False), mock.call(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False)]) mock_check.assert_has_calls([mock.call('host1'), mock.call('host2')]) mock_call.assert_has_calls([mock.call('host1'), mock.call('host2')]) @mock.patch.object(live_migrate.LiveMigrationTask, '_remove_host_allocations') @mock.patch.object(live_migrate.LiveMigrationTask, '_call_livem_checks_on_host') @mock.patch.object(live_migrate.LiveMigrationTask, '_check_compatible_with_source_hypervisor') @mock.patch.object(scheduler_client.SchedulerClient, 'select_destinations', side_effect=[[[fake_selection1]], [[fake_selection2]]]) @mock.patch.object(scheduler_utils, 'setup_instance_group') def test_find_destination_retry_with_failed_migration_pre_checks( self, mock_setup, mock_select, mock_check, mock_call, mock_remove): mock_call.side_effect = [exception.MigrationPreCheckError('reason'), None] self.assertEqual((""host2"", ""node2""), self.task._find_destination()) mock_remove.assert_called_once_with('host1', 'node1') mock_setup.assert_called_once_with(self.context, self.fake_spec) mock_select.assert_has_calls([ mock.call(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False), mock.call(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False)]) mock_check.assert_has_calls([mock.call('host1'), mock.call('host2')]) mock_call.assert_has_calls([mock.call('host1'), mock.call('host2')]) @mock.patch.object(objects.Migration, 'save') @mock.patch.object(live_migrate.LiveMigrationTask, '_remove_host_allocations') @mock.patch.object(live_migrate.LiveMigrationTask, '_check_compatible_with_source_hypervisor', side_effect=exception.DestinationHypervisorTooOld()) @mock.patch.object(scheduler_client.SchedulerClient, 'select_destinations', return_value=[[fake_selection1]]) @mock.patch.object(scheduler_utils, 'setup_instance_group') def test_find_destination_retry_exceeds_max( self, mock_setup, mock_select, mock_check, mock_remove, mock_save): self.assertRaises(exception.MaxRetriesExceeded, self.task._find_destination) self.assertEqual('failed', self.task.migration.status) mock_save.assert_called_once_with() # Should have removed allocations for the first host. mock_remove.assert_called_once_with('host1', 'node1') mock_setup.assert_called_once_with(self.context, self.fake_spec) mock_select.assert_called_once_with( self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False) mock_check.assert_called_once_with('host1') @mock.patch.object(scheduler_client.SchedulerClient, 'select_destinations', side_effect=exception.NoValidHost(reason="""")) @mock.patch.object(scheduler_utils, 'setup_instance_group') def test_find_destination_when_runs_out_of_hosts(self, mock_setup, mock_select): mock_setup.assert_called_once_with(self.context, self.fake_spec) mock_select.assert_called_once_with( self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False)"," def test_find_destination_works(self): self.mox.StubOutWithMock(scheduler_utils, 'setup_instance_group') self.mox.StubOutWithMock(objects.RequestSpec, 'reset_forced_destinations') self.mox.StubOutWithMock(self.task.scheduler_client, 'select_destinations') self.mox.StubOutWithMock(self.task, '_check_compatible_with_source_hypervisor') self.mox.StubOutWithMock(self.task, '_call_livem_checks_on_host') scheduler_utils.setup_instance_group( self.context, self.fake_spec) self.fake_spec.reset_forced_destinations() self.task.scheduler_client.select_destinations( self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False).AndReturn( [[fake_selection1]]) self.task._check_compatible_with_source_hypervisor(""host1"") self.task._call_livem_checks_on_host(""host1"") self.mox.ReplayAll() def test_find_destination_no_image_works(self): self.mox.StubOutWithMock(scheduler_utils, 'setup_instance_group') self.mox.StubOutWithMock(self.task.scheduler_client, 'select_destinations') self.mox.StubOutWithMock(self.task, '_check_compatible_with_source_hypervisor') self.mox.StubOutWithMock(self.task, '_call_livem_checks_on_host') scheduler_utils.setup_instance_group(self.context, self.fake_spec) self.task.scheduler_client.select_destinations(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False).AndReturn([[fake_selection1]]) self.task._check_compatible_with_source_hypervisor(""host1"") self.task._call_livem_checks_on_host(""host1"") self.mox.ReplayAll() def _test_find_destination_retry_hypervisor_raises(self, error): self.mox.StubOutWithMock(scheduler_utils, 'setup_instance_group') self.mox.StubOutWithMock(self.task.scheduler_client, 'select_destinations') self.mox.StubOutWithMock(self.task, '_check_compatible_with_source_hypervisor') self.mox.StubOutWithMock(self.task, '_call_livem_checks_on_host') scheduler_utils.setup_instance_group(self.context, self.fake_spec) self.task.scheduler_client.select_destinations(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False).AndReturn([[fake_selection1]]) self.task._check_compatible_with_source_hypervisor(""host1"")\ .AndRaise(error) self.task.scheduler_client.select_destinations(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False).AndReturn([[fake_selection2]]) self.task._check_compatible_with_source_hypervisor(""host2"") self.task._call_livem_checks_on_host(""host2"") self.mox.ReplayAll() with mock.patch.object(self.task, '_remove_host_allocations') as remove_allocs: self.assertEqual((""host2"", ""node2""), self.task._find_destination()) remove_allocs.assert_called_once_with('host1', 'node1') def test_find_destination_retry_with_invalid_livem_checks(self): self.mox.StubOutWithMock(scheduler_utils, 'setup_instance_group') self.mox.StubOutWithMock(self.task.scheduler_client, 'select_destinations') self.mox.StubOutWithMock(self.task, '_check_compatible_with_source_hypervisor') self.mox.StubOutWithMock(self.task, '_call_livem_checks_on_host') scheduler_utils.setup_instance_group(self.context, self.fake_spec) self.task.scheduler_client.select_destinations(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False).AndReturn([[fake_selection1]]) self.task._check_compatible_with_source_hypervisor(""host1"") self.task._call_livem_checks_on_host(""host1"")\ .AndRaise(exception.Invalid) self.task.scheduler_client.select_destinations(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False).AndReturn([[fake_selection2]]) self.task._check_compatible_with_source_hypervisor(""host2"") self.task._call_livem_checks_on_host(""host2"") self.mox.ReplayAll() with mock.patch.object(self.task, '_remove_host_allocations') as remove_allocs: self.assertEqual((""host2"", ""node2""), self.task._find_destination()) remove_allocs.assert_called_once_with('host1', 'node1') def test_find_destination_retry_with_failed_migration_pre_checks(self): self.mox.StubOutWithMock(scheduler_utils, 'setup_instance_group') self.mox.StubOutWithMock(self.task.scheduler_client, 'select_destinations') self.mox.StubOutWithMock(self.task, '_check_compatible_with_source_hypervisor') self.mox.StubOutWithMock(self.task, '_call_livem_checks_on_host') scheduler_utils.setup_instance_group(self.context, self.fake_spec) self.task.scheduler_client.select_destinations(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False).AndReturn([[fake_selection1]]) self.task._check_compatible_with_source_hypervisor(""host1"") self.task._call_livem_checks_on_host(""host1"")\ .AndRaise(exception.MigrationPreCheckError(""reason"")) self.task.scheduler_client.select_destinations(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False).AndReturn([[fake_selection2]]) self.task._check_compatible_with_source_hypervisor(""host2"") self.task._call_livem_checks_on_host(""host2"") self.mox.ReplayAll() with mock.patch.object(self.task, '_remove_host_allocations') as remove_allocs: self.assertEqual((""host2"", ""node2""), self.task._find_destination()) remove_allocs.assert_called_once_with('host1', 'node1') def test_find_destination_retry_exceeds_max(self): self.mox.StubOutWithMock(scheduler_utils, 'setup_instance_group') self.mox.StubOutWithMock(self.task.scheduler_client, 'select_destinations') self.mox.StubOutWithMock(self.task, '_check_compatible_with_source_hypervisor') scheduler_utils.setup_instance_group(self.context, self.fake_spec) self.task.scheduler_client.select_destinations(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False).AndReturn([[fake_selection1]]) self.task._check_compatible_with_source_hypervisor(""host1"")\ .AndRaise(exception.DestinationHypervisorTooOld) self.mox.ReplayAll() with test.nested( mock.patch.object(self.task.migration, 'save'), mock.patch.object(self.task, '_remove_host_allocations') ) as ( save_mock, remove_allocs ): self.assertRaises(exception.MaxRetriesExceeded, self.task._find_destination) self.assertEqual('failed', self.task.migration.status) save_mock.assert_called_once_with() # Should have removed allocations for the first host. remove_allocs.assert_called_once_with('host1', 'node1') def test_find_destination_when_runs_out_of_hosts(self): self.mox.StubOutWithMock(scheduler_utils, 'setup_instance_group') self.mox.StubOutWithMock(self.task.scheduler_client, 'select_destinations') scheduler_utils.setup_instance_group(self.context, self.fake_spec) self.task.scheduler_client.select_destinations(self.context, self.fake_spec, [self.instance.uuid], return_objects=True, return_alternates=False).AndRaise( exception.NoValidHost(reason="""")) self.mox.ReplayAll()",131,150
openstack%2Fnova~stable%2Fpike~I464bc2b88123a012cd12213beac4b572c3c20a56,openstack/nova,stable/pike,I464bc2b88123a012cd12213beac4b572c3c20a56,libvirt: Report the virtual size of RAW disks,MERGED,2018-05-14 20:30:40.000000000,2018-05-17 16:23:56.000000000,2018-05-17 16:23:55.000000000,"[{'_account_id': 4393}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-14 20:30:40.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/938c0a745325fa73d098c6d5ddd20b2a599f9624', 'message': 'libvirt: Report the virtual size of RAW disks\n\nIf642e51a4e186833349a8e30b04224a3687f5594 started to correctly report\nthe actual size of preallocated file based disks but missed that this\nvalue was later used as the virtual disk size for RAW disks.\n\nThis is an issue as nova.virt.libvirt.utils.create_image creates these\ndisks as sparse files with a reported actual size much smaller than the\nvirtual size. During block based LM this then results in disks\non the destination being created with a much smaller virtual size than\nthe disk should have leading to errors during the transfer.\n\nConflicts:\n      nova/tests/unit/virt/libvirt/test_driver.py\n\nNOTE(mriedem): The trivial test conflict is due to not having change\nI11e329ac5f5fe4b9819fefbcc32ff1ee504fc58b in Pike.\n\nCloses-Bug: #1770640\nChange-Id: I464bc2b88123a012cd12213beac4b572c3c20a56\n(cherry picked from commit 016986f4706e881fed16c85c8790af4d26a7c351)\n(cherry picked from commit 2dc9795a0df40c51ef3c79f99e57725db99019c0)\n'}]",0,568369,938c0a745325fa73d098c6d5ddd20b2a599f9624,10,6,1,6873,,,0,"libvirt: Report the virtual size of RAW disks

If642e51a4e186833349a8e30b04224a3687f5594 started to correctly report
the actual size of preallocated file based disks but missed that this
value was later used as the virtual disk size for RAW disks.

This is an issue as nova.virt.libvirt.utils.create_image creates these
disks as sparse files with a reported actual size much smaller than the
virtual size. During block based LM this then results in disks
on the destination being created with a much smaller virtual size than
the disk should have leading to errors during the transfer.

Conflicts:
      nova/tests/unit/virt/libvirt/test_driver.py

NOTE(mriedem): The trivial test conflict is due to not having change
I11e329ac5f5fe4b9819fefbcc32ff1ee504fc58b in Pike.

Closes-Bug: #1770640
Change-Id: I464bc2b88123a012cd12213beac4b572c3c20a56
(cherry picked from commit 016986f4706e881fed16c85c8790af4d26a7c351)
(cherry picked from commit 2dc9795a0df40c51ef3c79f99e57725db99019c0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/568369/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,938c0a745325fa73d098c6d5ddd20b2a599f9624,bug/1770640," @mock.patch('nova.virt.disk.api.get_disk_size', return_value=0) mock_get_virtual_size = mock.Mock() mock_get_virtual_size.return_value = ""10737418240"" return (mock_getsize, mock_get_virtual_size, mock_lookup) (mock_getsize, mock_get_virtual_size, mock_lookup) =\ (mock_getsize, mock_get_virtual_size, mock_lookup) =\ mock.patch.object(libvirt_driver.disk_api, 'get_disk_size', mock_get_virtual_size), mock_get_virtual_size.assert_called_once_with('/instance/disk.local') self.mox.StubOutWithMock(libvirt_driver.disk_api, 'get_disk_size') libvirt_driver.disk_api.get_disk_size(path).AndReturn((size)) vsize = 21474836480 libvirt_driver.disk_api.get_disk_size(path).AndReturn((vsize)) self.mox.StubOutWithMock(libvirt_driver.disk_api, 'get_disk_size') libvirt_driver.disk_api.get_disk_size(path).AndReturn((size)) vsize = 21474836480 libvirt_driver.disk_api.get_disk_size(path).AndReturn((vsize)) self.mox.StubOutWithMock(libvirt_driver.disk_api, ""get_disk_size"") libvirt_driver.disk_api.get_disk_size(path).AndReturn((size)) @mock.patch('nova.virt.disk.api.get_disk_size', return_value=10) mock_get_guest, mock_get_lvm_size, mock_get_size): @mock.patch('nova.virt.disk.api.get_disk_size', return_value=10) def _test_cleanup_lvm(self, mock_delete_volume, mock_get_guest, mock_lvm_size, mock_get_size, encrypted=False):"," @mock.patch('os.path.getsize', return_value=0) # size doesn't matter return (mock_getsize, mock_lookup) (mock_getsize, mock_lookup) =\ (mock_getsize, mock_lookup) =\ ret = (""image: /test/disk.local\n"" ""file format: qcow2\n"" ""virtual size: 20G (21474836480 bytes)\n"" ""disk size: 3.1G\n"" ""cluster_size: 2097152\n"" ""backing file: /test/dummy (actual path: /backing/file)\n"") self.mox.StubOutWithMock(os.path, ""exists"") os.path.exists('/test/disk.local').AndReturn(True) self.mox.StubOutWithMock(utils, ""execute"") utils.execute('env', 'LC_ALL=C', 'LANG=C', 'qemu-img', 'info', '/test/disk.local', prlimit = images.QEMU_IMG_LIMITS, ).AndReturn((ret, '')) ret = (""image: /test/disk.local\n"" ""file format: qcow2\n"" ""virtual size: 20G (21474836480 bytes)\n"" ""disk size: 3.1G\n"" ""cluster_size: 2097152\n"" ""backing file: /test/dummy (actual path: /backing/file)\n"") self.mox.StubOutWithMock(os.path, ""exists"") os.path.exists('/test/disk.local').AndReturn(True) self.mox.StubOutWithMock(utils, ""execute"") utils.execute('env', 'LC_ALL=C', 'LANG=C', 'qemu-img', 'info', '/test/disk.local', prlimit = images.QEMU_IMG_LIMITS, ).AndReturn((ret, '')) mock_get_guest, mock_get_size): def _test_cleanup_lvm(self, mock_delete_volume, mock_get_guest, mock_size, encrypted=False):",32,39
openstack%2Fnova~master~I1aad253b3d7a530986191e2511a7492944e5e951,openstack/nova,master,I1aad253b3d7a530986191e2511a7492944e5e951,Remove mox in libvirt/test_driver.py (1),MERGED,2018-05-07 11:51:03.000000000,2018-05-17 16:23:49.000000000,2018-05-17 16:23:48.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-07 11:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0cad919b814b8131ab7ed2fc1903f44b8d1ec6f', 'message': 'Remove mox in libvirt/test_driver.py (1)\n\nReplace mox with mock or stub_out in the following classes\nand methods in nova/tests/unit/virt/libvirt/test_driver.py.\n\n- CacheConcurrencyTestCase\n- LibvirtConnTestCase\n  * setUp\n  * create_fake_libvirt_mock\n  * _stub_host_capabilities_cpu_arch\n  * test_get_guest_config_armv7\n  * test_get_guest_config_aarch64\n  * test_get_guest_config_aarch64_with_graphics\n  * test_ensure_filtering_rules_for_instance_timeout\n  * test_check_can_live_migrate_dest_cleanup_works_correctly\n\nSubsequent patches will replace mox in other test cases.\n\nChange-Id: I1aad253b3d7a530986191e2511a7492944e5e951\nImplements: blueprint mox-removal\n'}, {'number': 2, 'created': '2018-05-14 22:21:23.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ca4973dc39422e57acab809705ce8246be105cc7', 'message': 'Remove mox in libvirt/test_driver.py (1)\n\nReplace mox with mock or stub_out in the following classes\nand methods in nova/tests/unit/virt/libvirt/test_driver.py.\n\n- CacheConcurrencyTestCase\n- LibvirtConnTestCase\n  * setUp\n  * create_fake_libvirt_mock\n  * _stub_host_capabilities_cpu_arch\n  * test_get_guest_config_armv7\n  * test_get_guest_config_aarch64\n  * test_get_guest_config_aarch64_with_graphics\n  * test_ensure_filtering_rules_for_instance_timeout\n  * test_check_can_live_migrate_dest_cleanup_works_correctly\n\nSubsequent patches will replace mox in other test cases.\n\nChange-Id: I1aad253b3d7a530986191e2511a7492944e5e951\nImplements: blueprint mox-removal\n'}]",0,566555,ca4973dc39422e57acab809705ce8246be105cc7,29,13,2,7634,,,0,"Remove mox in libvirt/test_driver.py (1)

Replace mox with mock or stub_out in the following classes
and methods in nova/tests/unit/virt/libvirt/test_driver.py.

- CacheConcurrencyTestCase
- LibvirtConnTestCase
  * setUp
  * create_fake_libvirt_mock
  * _stub_host_capabilities_cpu_arch
  * test_get_guest_config_armv7
  * test_get_guest_config_aarch64
  * test_get_guest_config_aarch64_with_graphics
  * test_ensure_filtering_rules_for_instance_timeout
  * test_check_can_live_migrate_dest_cleanup_works_correctly

Subsequent patches will replace mox in other test cases.

Change-Id: I1aad253b3d7a530986191e2511a7492944e5e951
Implements: blueprint mox-removal
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/566555/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,e0cad919b814b8131ab7ed2fc1903f44b8d1ec6f,bp/mox-removal," self.stub_out('nova.utils.execute', lambda *a, **kw: None) self.stub_out('nova.virt.disk.api.extend', lambda image, size, use_cow=False: None) self.stub_out('nova.virt.disk.api.extend', lambda image, size, use_cow=False: None) self.stub_out('nova.virt.libvirt.imagebackend.Image.' 'resolve_driver_format', imagebackend.Image._get_driver_format) self.stub_out('nova.virt.libvirt.driver.LibvirtDriver._conn', fake) self.stub_out('nova.virt.libvirt.host.Host.get_connection', lambda x: fake) self.stub_out('nova.virt.libvirt.host.Host.get_capabilities', get_host_capabilities_stub) self.stub_out('nova.virt.libvirt.host.Host.get_capabilities', get_host_capabilities_stub) self.stub_out('nova.virt.libvirt.host.Host.get_capabilities', get_host_capabilities_stub) self.stub_out('nova.virt.libvirt.host.Host.get_capabilities', get_host_capabilities_stub) self.stub_out('nova.virt.libvirt.firewall.IptablesFirewallDriver.' 'setup_basic_filtering', lambda *a: None) self.stub_out('nova.virt.libvirt.firewall.IptablesFirewallDriver.' 'prepare_instance_filter', lambda *a: None) self.stub_out('nova.virt.libvirt.firewall.IptablesFirewallDriver.' 'instance_filter_exists', lambda *a: None) self.stub_out('eventlet.greenthread.sleep', lambda t: fake_timer.sleep(t)) @mock.patch.object(libvirt_driver.LibvirtDriver, '_cleanup_shared_storage_test_file') def test_check_can_live_migrate_dest_cleanup_works_correctly( self, mock_clean): mock_clean.assert_called_once_with('file')"," def fake_execute(*args, **kwargs): pass def fake_extend(image, size, use_cow=False): pass self.stubs.Set(utils, 'execute', fake_execute) self.stubs.Set(imagebackend.disk, 'extend', fake_extend) def fake_extend(image, size, use_cow=False): pass self.stubs.Set(libvirt_driver.disk_api, 'extend', fake_extend) self.stubs.Set(imagebackend.Image, 'resolve_driver_format', imagebackend.Image._get_driver_format) self.stubs.Set(libvirt_driver.LibvirtDriver, '_conn', fake) self.stubs.Set(host.Host, 'get_connection', lambda x: fake) self.stubs.Set(host.Host, ""get_capabilities"", get_host_capabilities_stub) self.stubs.Set(host.Host, ""get_capabilities"", get_host_capabilities_stub) self.stubs.Set(host.Host, ""get_capabilities"", get_host_capabilities_stub) self.stubs.Set(host.Host, ""get_capabilities"", get_host_capabilities_stub) self.mox.ReplayAll() self.mox.ReplayAll() def fake_none(self, *args): return def fake_sleep(t): fake_timer.sleep(t) self.mox.ReplayAll() self.stubs.Set(drvr.firewall_driver, 'setup_basic_filtering', fake_none) self.stubs.Set(drvr.firewall_driver, 'prepare_instance_filter', fake_none) self.stubs.Set(drvr.firewall_driver, 'instance_filter_exists', fake_none) self.stubs.Set(greenthread, 'sleep', fake_sleep) def test_check_can_live_migrate_dest_cleanup_works_correctly(self): self.mox.StubOutWithMock(drvr, '_cleanup_shared_storage_test_file') drvr._cleanup_shared_storage_test_file(""file"") self.mox.ReplayAll()",32,50
openstack%2Fironic-specs~master~I675c46e068654019073f5cb3bf4c290291ba405f,openstack/ironic-specs,master,I675c46e068654019073f5cb3bf4c290291ba405f,Use node.fault field for power fault recovery work,MERGED,2018-05-15 15:49:51.000000000,2018-05-17 16:19:42.000000000,2018-05-17 16:19:42.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-05-15 15:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/77d220f3e0b151976eab33a230fe8543763a5d67', 'message': 'Use node.fault field for power fault recovery work\n\nThis updates the spec to use a node.fault field as opposed to\na node.maintenance_type field, to keep track of any fault\nthat is detected by ironic. (ironic will still put the node\nin maintenance mode upon detection of a fault.)\n\nA few other changes were made to the spec to clarify things.\n\nStory: #1596107\nChange-Id: I675c46e068654019073f5cb3bf4c290291ba405f\n'}, {'number': 2, 'created': '2018-05-15 16:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/36eb6a0ace385c0883c225b49ee272d83dc130a6', 'message': 'Use node.fault field for power fault recovery work\n\nThis updates the spec to use a node.fault field as opposed to\na node.maintenance_type field, to keep track of any fault\nthat is detected by ironic. (ironic will still put the node\nin maintenance mode upon detection of a fault.)\n\nA few other changes were made to the spec to clarify things.\n\nStory: #1596107\nChange-Id: I675c46e068654019073f5cb3bf4c290291ba405f\n'}, {'number': 3, 'created': '2018-05-16 13:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/75ba39f77a5a9f61241e6dd689a8a055741c1343', 'message': 'Use node.fault field for power fault recovery work\n\nThis updates the spec to use a node.fault field as opposed to\na node.maintenance_type field, to keep track of any fault\nthat is detected by ironic. (ironic will still put the node\nin maintenance mode upon detection of a fault.)\n\nA few other changes were made to the spec to clarify things.\n\nStory: #1596107\nChange-Id: I675c46e068654019073f5cb3bf4c290291ba405f\n'}, {'number': 4, 'created': '2018-05-16 14:22:58.000000000', 'files': ['specs/approved/power-fault-recovery.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d9cf8fefe6d1703d2222a78a81bfb711fff2e226', 'message': 'Use node.fault field for power fault recovery work\n\nThis updates the spec to use a node.fault field as opposed to\na node.maintenance_type field, to keep track of any fault\nthat is detected by ironic. (ironic will still put the node\nin maintenance mode upon detection of a fault.)\n\nA few other changes were made to the spec to clarify things.\n\nStory: #1596107\nChange-Id: I675c46e068654019073f5cb3bf4c290291ba405f\n'}]",18,568627,d9cf8fefe6d1703d2222a78a81bfb711fff2e226,24,5,4,6618,,,0,"Use node.fault field for power fault recovery work

This updates the spec to use a node.fault field as opposed to
a node.maintenance_type field, to keep track of any fault
that is detected by ironic. (ironic will still put the node
in maintenance mode upon detection of a fault.)

A few other changes were made to the spec to clarify things.

Story: #1596107
Change-Id: I675c46e068654019073f5cb3bf4c290291ba405f
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/27/568627/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/power-fault-recovery.rst'],1,77d220f3e0b151976eab33a230fe8543763a5d67,update_powerfault,"https://storyboard.openstack.org/#!/story/1596107 This spec proposes adding a new node field to reflect any faults detected by the system. For nodes put into maintenance mode due to power-sync failures, this proposes a mechanims to try to recover the nodes from the failure.Currently, ironic's API and data model do not differentiate between ironicA string field named ``fault`` will be added to ironic's data model for a Node. It will be used to record any detected faults. The field will be set to one of the following values, depending on the situation (when ironic puts the node into maintenance due to one of these): * ``power failure``: when a node is put into maintenance due to power sync failures that exceed max retries. * ``clean failure``: when a node is put into maintenance due to failure of a* ``rescue abort failure``: when a node is put into maintenance due to failure* None: there is no fault detected for the node; this is the default value. A periodic task will be added to the conductor. This will operate on nodes with node.fault==``power failure``. It will try to get the node's power state. If successful, the node will be taken out of maintenance. An integer configuration option named ``[conductor]power_failure_recovery_interval`` will be added. This is the interval (number of seconds) between each run of the periodic task. The default value is 300 seconds (5 minutes). Setting it to 0 will disable power fault recovery.Proposals have already been made and rejected to use a combination ofSpecific faults support [#]_ is proposed but it's too big and to-date, no consensus has been reached on it. An earlier version of this spec had proposed a ``maintenance_type`` field for the node, instead of a ``fault`` field. We prefer the ``fault`` field since it better reflects that it is about faults. ``maintenance_type`` caused the field to be tied in with the existing ``maintenance`` and ``maintenance_reason`` fields. Using ``fault`` makes it distinct from ``maintenance``; it will make it easier to move forward in the future, should we decide to provide more enhancements that are fault-related, or to separate the notion and handling of faults from maintenance (which some would argue should only be operator-initiated).A string field named ``fault`` will be added to ironic's node table. The field will be added to ``Node`` object; object version will be incremented.The field ``fault`` will be added to ``Node`` API object, ironicNode-related API endpoints will be affected:For requests with older microversion, node.``fault`` is hidden from the response. This will be done in the ``hide_fields_in_newer_versions()``. Field ``fault`` is read-only from the API, and can only be modified internally. Any POST/PATCH request to Node with ``fault`` set willThe CLI will be updated to support field ``fault``, guardedNone, although we could update the ironic-virt driver code to also look at this new node.fault field, in addition to the node.maintenance field.* Update db layer to include the ``fault`` field. ``fault`` accordingly.When upgrading, there is no easy/guaranteed way to determine if a node had been (previously) put into maintenance due to one of our internal faults. We can do a best-guess by looking at the node's ``maintenance_reason`` field. (The string could have been translated though, but looking at Queens release of ironic, we only have Japanese translations; I suppose we could try to match on those as well.) If we cannot determine the fault, we will use 'unknown' since it is more accurate than None, since we don't know :)* New option will be generated by config generator.","https://bugs.launchpad.net/ironic/+bug/1596107 This spec proposes adding a new node field to differentiate different maintenance types. And, if possible, recover node from maintenance state if the node is in maintenance due to power sync failure, and power sync is succeed. Currently, ironic's API and data model makes no differentiation between ironicA string field named ``maintenance_type`` will be added to ironic data model, it will be used to record different maintenance types. The field will be set to following values in different cases: * ``manual``: when a node is explicitly put into maintenance from ironic API. * ``power failure``: when a node is entering maintenance due to power sync failure exceeded max retries. * ``clean failure``: when a node is entering maintenance due to failure of a* ``rescue abort failure``: when a node is entering maintenance due to failure The field will be set to None if not in maintenance. Add a periodic task to conductor to filter out nodes in maintenance and ``maintenance_type`` is ``power failure``, trying to get power status, and bring nodes out of maintenance once the power status is retrieved successfully. Add a new integer option named ``[conductor]power_failure_recovery_interval`` to config how many seconds between each run of periodic task. Set to 0 will disable power fault recovery, the default value is 300 (5 minutes).Proposals have already been made and rejected to use the combination ofSpecific faults support [#]_ is proposed but it's too big and doesn't reach a consensus.A string field named ``maintenance_type`` will be added to ironic node table. The field will be added to ``Node`` object, object version will be increased.The field ``maintenance_type`` will be added to ``Node`` API object, ironicNode related API endpoints will be affected:For clients with older microversion, the ``maintenance_type`` is hidden from the response, this will be done in the ``hide_fields_in_newer_versions``. Field ``maintenance_type`` is read only from API, and can only be modified internally. Any POST/PATCH request to Node with ``maintenance_type`` set willThe CLI will be updated to support field ``maintenance_type``, guardedNone* Update db layer to include the ``maintenance_type`` field. ``maintenance_type`` accordingly.dbsync and db api will be updated to facilitate populating the ``maintenance_type`` field to ``manual`` during data migration for nodes previously been put under maintenance.* New option will generated by config generator.",62,43
openstack%2Fnova~master~I4fe228898f49e60a85a804d027a30d4c18b96887,openstack/nova,master,I4fe228898f49e60a85a804d027a30d4c18b96887,Simplify BDM boot index checking,MERGED,2018-04-26 12:28:17.000000000,2018-05-17 16:01:01.000000000,2018-05-17 16:01:01.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-26 12:28:17.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b8ea92010461c6c8634d47e60fc6f3988be1debb', 'message': 'Simplify BDM boot index checking\n\nThe previous code had a complex check which asserted that:\n\n1. the boot index list contains 0\n2. every element in the boot index list is 1 less than its successor\n\nThe second check was in a method called _subsequent_list, which I\nassume was intended to be _sequential_list.\n\nHowever, combined with the constraint that the boot index are >= 0,\nthe above 2 constraints are the same as asserting that each element in\nthe boot index list has the same value as its index in the list. This\nis also much simpler to understand.\n\nThis was originally submitted as change I8a3e7e6c, but was reverted in\nchange I299bf846 as it failed to consider that there may be no indices\nat all. The revert added a test for this case.\n\nChange-Id: I4fe228898f49e60a85a804d027a30d4c18b96887\n'}]",3,564480,b8ea92010461c6c8634d47e60fc6f3988be1debb,23,17,1,9555,,,0,"Simplify BDM boot index checking

The previous code had a complex check which asserted that:

1. the boot index list contains 0
2. every element in the boot index list is 1 less than its successor

The second check was in a method called _subsequent_list, which I
assume was intended to be _sequential_list.

However, combined with the constraint that the boot index are >= 0,
the above 2 constraints are the same as asserting that each element in
the boot index list has the same value as its index in the list. This
is also much simpler to understand.

This was originally submitted as change I8a3e7e6c, but was reverted in
change I299bf846 as it failed to consider that there may be no indices
at all. The revert added a test for this case.

Change-Id: I4fe228898f49e60a85a804d027a30d4c18b96887
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/564480/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,b8ea92010461c6c8634d47e60fc6f3988be1debb,bug1766306," # Each device which is capable of being used as boot device should # be given a unique boot index, starting from 0 in ascending order, and # there needs to be at least one boot device. if not boot_indexes or any(i != v for i, v in enumerate(boot_indexes)):"," def _subsequent_list(l): # Each device which is capable of being used as boot device should # be given a unique boot index, starting from 0 in ascending order. return all(el + 1 == l[i + 1] for i, el in enumerate(l[:-1])) if 0 not in boot_indexes or not _subsequent_list(boot_indexes):",4,6
openstack%2Fnova~master~I83d6c100d0d2628f38a029cffa22d0c2bc15d667,openstack/nova,master,I83d6c100d0d2628f38a029cffa22d0c2bc15d667,Deprecate running API services under eventlet,MERGED,2018-03-03 22:54:04.000000000,2018-05-17 15:59:24.000000000,2018-05-17 15:59:24.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-03-03 22:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e0ce04d98e5c7dfe21eb20c7ae358788228adea', 'message': 'Deprecate running API services under eventlet\n\nThis sets the timer on removing support for running\nAPI services under eventlet. Nova has supported running\nunder WSGI since Pike, and does run with Apache by default\nin the gate.\n\nChange-Id: I83d6c100d0d2628f38a029cffa22d0c2bc15d667\n'}, {'number': 2, 'created': '2018-03-04 17:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9ff637d7d7c15d090f33f07fb054c618c2b6388', 'message': 'Deprecate running API services under eventlet\n\nThis sets the timer on removing support for running\nAPI services under eventlet. Nova has supported running\nunder WSGI since Pike, and does run with Apache by default\nin the gate.\n\nChange-Id: I83d6c100d0d2628f38a029cffa22d0c2bc15d667\n'}, {'number': 3, 'created': '2018-05-16 03:48:32.000000000', 'files': ['nova/service.py', 'releasenotes/notes/deprecate-api-eventlet-1a0279f1f2333082.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/b53d81b03cad73fac7f558d287db0354f0a46ec1', 'message': 'Deprecate running API services under eventlet\n\nThis sets the timer on removing support for running\nAPI services under eventlet. Nova has supported running\nunder WSGI since Pike, and does run with Apache by default\nin the gate.\n\nChange-Id: I83d6c100d0d2628f38a029cffa22d0c2bc15d667\n'}]",2,549510,b53d81b03cad73fac7f558d287db0354f0a46ec1,68,17,3,6873,,,0,"Deprecate running API services under eventlet

This sets the timer on removing support for running
API services under eventlet. Nova has supported running
under WSGI since Pike, and does run with Apache by default
in the gate.

Change-Id: I83d6c100d0d2628f38a029cffa22d0c2bc15d667
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/549510/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/service.py', 'releasenotes/notes/deprecate-api-eventlet-1a0279f1f2333082.yaml']",2,0e0ce04d98e5c7dfe21eb20c7ae358788228adea,deprecate-api-eventlet,--- deprecations: - | Running API services (nova-osapi_compute or nova-metadata) with eventlet is now deprecated. Deploy with a WSGI server such as uwsgi or mod_wsgi. ,,9,0
openstack%2Ftripleo-ha-utils~master~Ib481f7be119ffd301e53d952c413f1ba0e05de84,openstack/tripleo-ha-utils,master,Ib481f7be119ffd301e53d952c413f1ba0e05de84,Add pre checks before installing instance HA,MERGED,2018-05-11 16:34:24.000000000,2018-05-17 15:54:56.000000000,2018-05-17 15:54:56.000000000,"[{'_account_id': 6449}, {'_account_id': 20172}, {'_account_id': 20936}, {'_account_id': 21570}, {'_account_id': 22348}, {'_account_id': 27978}]","[{'number': 1, 'created': '2018-05-11 16:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/2417607ec1f876b61ead8bfd98b5fa965010a567', 'message': 'Add pre checks before installing instance HA\n\nThis commit is the first of two that will try to make the instance HA\nprocedure idempotent. This first one adds pre checks that make the\nprocedure fail if there are already IHA resources or STONITH resources\ninside the cluster.\n\nChange-Id: Ib481f7be119ffd301e53d952c413f1ba0e05de84\n'}, {'number': 2, 'created': '2018-05-14 10:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/6eedb68d401f48853766226c708be5cad65447c3', 'message': 'Add pre checks before installing instance HA\n\nThis commit is the first of two that will try to make the instance HA\nprocedure idempotent. This first one adds pre checks that make the\nprocedure fail if there are already IHA resources or STONITH resources\ninside the cluster.\n\nChange-Id: Ib481f7be119ffd301e53d952c413f1ba0e05de84\n'}, {'number': 3, 'created': '2018-05-14 10:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/992f78a704872c427a727e81060a34c8c8ed8779', 'message': 'Add pre checks before installing instance HA\n\nThis commit is the first of two that will try to make the instance HA\nprocedure idempotent. This first one adds pre checks that make the\nprocedure fail if there are already IHA resources or STONITH resources\ninside the cluster.\n\nChange-Id: Ib481f7be119ffd301e53d952c413f1ba0e05de84\n'}, {'number': 4, 'created': '2018-05-17 11:40:56.000000000', 'files': ['roles/instance-ha/tasks/main.yml', 'roles/instance-ha/tasks/pre-checks.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/21510c1d2e72d7679d3d417df96bac283464fe5b', 'message': 'Add pre checks before installing instance HA\n\nThis commit is the first of two that will try to make the instance HA\nprocedure idempotent. This first one adds pre checks that make the\nprocedure fail if there are already IHA resources or STONITH resources\ninside the cluster.\n\nChange-Id: Ib481f7be119ffd301e53d952c413f1ba0e05de84\n'}]",0,567892,21510c1d2e72d7679d3d417df96bac283464fe5b,17,6,4,20936,,,0,"Add pre checks before installing instance HA

This commit is the first of two that will try to make the instance HA
procedure idempotent. This first one adds pre checks that make the
procedure fail if there are already IHA resources or STONITH resources
inside the cluster.

Change-Id: Ib481f7be119ffd301e53d952c413f1ba0e05de84
",git fetch https://review.opendev.org/openstack/tripleo-ha-utils refs/changes/92/567892/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/instance-ha/tasks/main.yml', 'roles/instance-ha/tasks/pre-checks.yml']",2,2417607ec1f876b61ead8bfd98b5fa965010a567,add_pre_checks_in_instance_ha,"--- - block: - name: Check if STONITH resources already exist shell: | pcs stonith show | grep {{ item }} with_items: - fence-nova register: pre_existing_stonith failed_when: pre_existing_stonith.rc == 0 - name: Check if IHA resources already exist shell: | pcs resource show | grep ""{{ item }}"" with_items: - compute-unfence-trigger - nova-compute-checkevacuate - nova-compute - neutron-openvswitch-agent-compute - libvirtd-compute - ceilometer-compute register: existing_resources failed_when: pre_existing_resources.rc == 0 become: yes delegate_to: ""{{ groups.controller[0] }}"" ",,27,0
openstack%2Fmetalsmith~master~Ic878e890de68c087eef1a791938ecfc8275c30bc,openstack/metalsmith,master,Ic878e890de68c087eef1a791938ecfc8275c30bc,Stop depending on oslo.utils,MERGED,2018-05-17 14:10:36.000000000,2018-05-17 15:54:28.000000000,2018-05-17 15:54:28.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 14:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/f38665e25d15bef0385937ea7cd495d73c89807f', 'message': 'Stop depending on oslo.utils\n\nChange-Id: Ic878e890de68c087eef1a791938ecfc8275c30bc\n'}, {'number': 2, 'created': '2018-05-17 14:34:38.000000000', 'files': ['requirements.txt', 'metalsmith/_provisioner.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/86ef953d4906767b07737404326466a43a0ee429', 'message': 'Stop depending on oslo.utils\n\nWe use it only in one place, which can be easily replaced.\n\nChange-Id: Ic878e890de68c087eef1a791938ecfc8275c30bc\n'}]",0,569122,86ef953d4906767b07737404326466a43a0ee429,7,2,2,10239,,,0,"Stop depending on oslo.utils

We use it only in one place, which can be easily replaced.

Change-Id: Ic878e890de68c087eef1a791938ecfc8275c30bc
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/22/569122/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'metalsmith/_provisioner.py']",2,f38665e25d15bef0385937ea7cd495d73c89807f,oslo.utils,"import sys import six exc_info = sys.exc_info() try: self._delete_ports(node, created_ports) self._api.release_node(node) except Exception: LOG.exception('Clean up failed') six.reraise(*exc_info)"," from oslo_utils import excutils with excutils.save_and_reraise_exception(): self._clean_up(node, created_ports) def _clean_up(self, node, created_ports): try: self._delete_ports(node, created_ports) self._api.release_node(node) except Exception: LOG.exception('Clean up failed') ",11,11
openstack%2Fheat~stable%2Fqueens~I393158a2fac6d4399a7dde6a0f2e482751359072,openstack/heat,stable/queens,I393158a2fac6d4399a7dde6a0f2e482751359072,Download octavia image in tests,MERGED,2018-05-17 03:24:16.000000000,2018-05-17 15:47:34.000000000,2018-05-17 15:47:34.000000000,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 03:24:16.000000000', 'files': ['playbooks/devstack/functional/run.yaml', '.zuul.yaml', 'playbooks/get_amphora_tarball.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/b723a1291a144f43ef6cb10d79db4bb8a60ee588', 'message': 'Download octavia image in tests\n\nInstead of rebuilding one.\n\nChange-Id: I393158a2fac6d4399a7dde6a0f2e482751359072\n(cherry picked from commit 84bb0a0fe670a42a239030258ebd43877e5d5b04)\n'}]",0,569000,b723a1291a144f43ef6cb10d79db4bb8a60ee588,6,3,1,8833,,,0,"Download octavia image in tests

Instead of rebuilding one.

Change-Id: I393158a2fac6d4399a7dde6a0f2e482751359072
(cherry picked from commit 84bb0a0fe670a42a239030258ebd43877e5d5b04)
",git fetch https://review.opendev.org/openstack/heat refs/changes/00/569000/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/devstack/functional/run.yaml', '.zuul.yaml', 'playbooks/get_amphora_tarball.yaml']",3,b723a1291a144f43ef6cb10d79db4bb8a60ee588,octavia-image-stable/queens,"- hosts: primary tasks: - name: Download amphora tarball get_url: url: ""https://tarballs.openstack.org/octavia/test-images/test-only-amphora-x64-haproxy-ubuntu-xenial.qcow2"" dest: /tmp/test-only-amphora-x64-haproxy-ubuntu-xenial.qcow2 ",,10,0
openstack%2Ftaskflow~master~I172077bc2b4cf5e02691c98b07860f853f9f4da9,openstack/taskflow,master,I172077bc2b4cf5e02691c98b07860f853f9f4da9,Trivial: update pypi url to new url,MERGED,2018-05-13 12:52:51.000000000,2018-05-17 15:45:46.000000000,2018-05-17 15:45:46.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-13 12:52:51.000000000', 'files': ['taskflow/types/failure.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/17160b515a98ac8463e24e0a540e0868b155c490', 'message': 'Trivial: update pypi url to new url\n\nChange-Id: I172077bc2b4cf5e02691c98b07860f853f9f4da9\n'}]",0,568064,17160b515a98ac8463e24e0a540e0868b155c490,6,2,1,27336,,,0,"Trivial: update pypi url to new url

Change-Id: I172077bc2b4cf5e02691c98b07860f853f9f4da9
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/64/568064/1 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/types/failure.py'],1,17160b515a98ac8463e24e0a540e0868b155c490,, backport at https://pypi.org/project/traceback2/ to (hopefully), backport at https://pypi.python.org/pypi/traceback2/ to (hopefully),1,1
openstack%2Fnova~master~I91528d61bbadc1b30c27985de9511e51ad71e771,openstack/nova,master,I91528d61bbadc1b30c27985de9511e51ad71e771,Fix auth_url example in hypervisor-hyper-v.rst,MERGED,2018-05-16 23:40:21.000000000,2018-05-17 15:42:03.000000000,2018-05-17 15:42:03.000000000,"[{'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-16 23:40:21.000000000', 'files': ['doc/source/admin/configuration/hypervisor-hyper-v.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/18a018033cba04b1de33bf4a95ab9a67e64f8055', 'message': ""Fix auth_url example in hypervisor-hyper-v.rst\n\nThe url path should be 'v3' instead of 'v3.0'\nin the 'auth_url'.\n\nTrivialFix\nChange-Id: I91528d61bbadc1b30c27985de9511e51ad71e771\n""}]",0,568983,18a018033cba04b1de33bf4a95ab9a67e64f8055,11,7,1,7634,,,0,"Fix auth_url example in hypervisor-hyper-v.rst

The url path should be 'v3' instead of 'v3.0'
in the 'auth_url'.

TrivialFix
Change-Id: I91528d61bbadc1b30c27985de9511e51ad71e771
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/568983/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/hypervisor-hyper-v.rst'],1,18a018033cba04b1de33bf4a95ab9a67e64f8055,fix_auth_url, auth_url = http://IP_ADDRESS:5000/v3, auth_url = http://IP_ADDRESS:5000/v3.0,1,1
openstack%2Fdevstack~master~I86e1ae4e020e2be043cf8e190d7959b65b6c093c,openstack/devstack,master,I86e1ae4e020e2be043cf8e190d7959b65b6c093c,Changing openrc default Cinder API version to v3,MERGED,2018-05-07 21:45:43.000000000,2018-05-17 15:42:00.000000000,2018-05-17 15:42:00.000000000,"[{'_account_id': 1736}, {'_account_id': 7118}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 20721}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-07 21:45:43.000000000', 'files': ['openrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f774ecf4f9f44b38f345bb614b72c83b3ec15136', 'message': 'Changing openrc default Cinder API version to v3\n\n* v3 is a superset of v2 and has been the defacto Cinder version for\nseveral years now.\n* Devstack installs Cinder v3 API by default, so the default environment\nvariables should reflect this.\n\nChange-Id: I86e1ae4e020e2be043cf8e190d7959b65b6c093c\n'}]",0,566747,f774ecf4f9f44b38f345bb614b72c83b3ec15136,16,9,1,20721,,,0,"Changing openrc default Cinder API version to v3

* v3 is a superset of v2 and has been the defacto Cinder version for
several years now.
* Devstack installs Cinder v3 API by default, so the default environment
variables should reflect this.

Change-Id: I86e1ae4e020e2be043cf8e190d7959b65b6c093c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/47/566747/1 && git format-patch -1 --stdout FETCH_HEAD,['openrc'],1,f774ecf4f9f44b38f345bb614b72c83b3ec15136,cinder-api-default-change,export CINDER_VERSION=${CINDER_VERSION:-3},export CINDER_VERSION=${CINDER_VERSION:-2},1,1
openstack%2Fopenstack-ansible~master~I3f68d8fbb97a05a5d797c27e629cba89590c2f5c,openstack/openstack-ansible,master,I3f68d8fbb97a05a5d797c27e629cba89590c2f5c,add Ceph-ansible library,ABANDONED,2018-05-17 13:51:20.000000000,2018-05-17 15:37:39.000000000,,[{'_account_id': 24468}],"[{'number': 1, 'created': '2018-05-17 13:51:20.000000000', 'files': ['scripts/openstack-ansible.rc'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4610eb5baeec20c4243eb0ede5017e9bfa014e49', 'message': ""add Ceph-ansible library\n\nWhen using lvm scnario to deploy ceph-osds, it's needs the ceph_volume module\nwhich is located under the ceph-ansible role.\n\nChange-Id: I3f68d8fbb97a05a5d797c27e629cba89590c2f5c\n""}]",0,569119,4610eb5baeec20c4243eb0ede5017e9bfa014e49,3,1,1,13095,,,0,"add Ceph-ansible library

When using lvm scnario to deploy ceph-osds, it's needs the ceph_volume module
which is located under the ceph-ansible role.

Change-Id: I3f68d8fbb97a05a5d797c27e629cba89590c2f5c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/19/569119/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/openstack-ansible.rc'],1,4610eb5baeec20c4243eb0ede5017e9bfa014e49,fix-ceph-ansible-lvm,"export ANSIBLE_LIBRARY=""${ANSIBLE_LIBRARY:-/etc/ansible/roles/plugins/library:/etc/ansible/roles/ceph-ansible/library}""","export ANSIBLE_LIBRARY=""${ANSIBLE_LIBRARY:-/etc/ansible/roles/plugins/library}""",1,1
openstack%2Ftripleo-ci~master~I685ddd198ea71e3ba7885b4982a7f01afd9aaddf,openstack/tripleo-ci,master,I685ddd198ea71e3ba7885b4982a7f01afd9aaddf,WIP: Add releases script pytest tests to tox.ini,ABANDONED,2018-05-11 20:16:29.000000000,2018-05-17 15:24:37.000000000,,"[{'_account_id': 8871}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-11 20:16:29.000000000', 'files': ['zuul.d/unittest-jobs.yaml', 'zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4875633a86ffd213b5545bc8bfc897ff4c395cf5', 'message': 'WIP: Add releases script pytest tests to tox.ini\n\nOnly merge after tests pass\nAdd tox testing in upstream jobs with changes to\nthe tripleo-ci repo.\n\nRemoved pyflakes as these test are not running as\nrequired.\n\nChange-Id: I685ddd198ea71e3ba7885b4982a7f01afd9aaddf\n'}]",0,567937,4875633a86ffd213b5545bc8bfc897ff4c395cf5,6,4,1,9592,,,0,"WIP: Add releases script pytest tests to tox.ini

Only merge after tests pass
Add tox testing in upstream jobs with changes to
the tripleo-ci repo.

Removed pyflakes as these test are not running as
required.

Change-Id: I685ddd198ea71e3ba7885b4982a7f01afd9aaddf
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/37/567937/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/unittest-jobs.yaml', 'zuul.d/layout.yaml', 'tox.ini']",3,4875633a86ffd213b5545bc8bfc897ff4c395cf5,sprint13,"envlist = pep8, py27, py35 # This environment is used to run unit tests [testenv:py27] deps = {[testenv]deps} changedir = scripts/emit_releases_file commands = pytest [testenv:py35] deps={[testenv]deps} changedir = {[testenv:py27]changedir} commands = {[testenv:py27]commands}","envlist = pyflakes, pep8, py27",30,1
openstack%2Fopenstack-ansible~stable%2Fpike~I5bcc8f78ec8a1a175f0bfae3f38101d26e7e3803,openstack/openstack-ansible,stable/pike,I5bcc8f78ec8a1a175f0bfae3f38101d26e7e3803,Run inventory-manage.py from the ansible-runtime venv,MERGED,2018-05-15 06:43:50.000000000,2018-05-17 15:24:07.000000000,2018-05-17 15:24:07.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-05-15 06:43:50.000000000', 'files': ['scripts/inventory-manage.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fdc29b67209e87da9574f0dffea932835f9a56ac', 'message': 'Run inventory-manage.py from the ansible-runtime venv\n\nbootstrap-ansible installs prettytables in the ansible-runtime\nvenv. inventory-manage.py requires prettytables, so should use\nthe venv.\n\nChange-Id: I5bcc8f78ec8a1a175f0bfae3f38101d26e7e3803\n(cherry picked from commit c0b691ec42d8cef281d6630e6f50e5ebf4c63b44)\n'}]",0,568464,fdc29b67209e87da9574f0dffea932835f9a56ac,8,5,1,6816,,,0,"Run inventory-manage.py from the ansible-runtime venv

bootstrap-ansible installs prettytables in the ansible-runtime
venv. inventory-manage.py requires prettytables, so should use
the venv.

Change-Id: I5bcc8f78ec8a1a175f0bfae3f38101d26e7e3803
(cherry picked from commit c0b691ec42d8cef281d6630e6f50e5ebf4c63b44)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/64/568464/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/inventory-manage.py'],1,fdc29b67209e87da9574f0dffea932835f9a56ac,scripts-venv-stable/pike,#!/opt/ansible-runtime/bin/python,#!/usr/bin/env python,1,1
openstack%2Frequirements~master~Ib4a7da63ccaf0f3e07445fd38c66242dcd548b3c,openstack/requirements,master,Ib4a7da63ccaf0f3e07445fd38c66242dcd548b3c,update constraints of ovsdbapp to new 0.10.1 release,MERGED,2018-05-17 09:05:18.000000000,2018-05-17 15:24:03.000000000,2018-05-17 15:24:03.000000000,"[{'_account_id': 2472}, {'_account_id': 4694}, {'_account_id': 6593}, {'_account_id': 6773}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-05-17 09:05:18.000000000', 'files': ['lower-constraints.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/671622dc72dcae987ddaaec81bafc86f7829dc2f', 'message': 'update constraints of ovsdbapp to new 0.10.1 release\n\n - 0.10.1 fixes lp#1769897 scalability bug.\n\nChange-Id: Ib4a7da63ccaf0f3e07445fd38c66242dcd548b3c\nRelated-Bug: #1769897\n'}]",0,569063,671622dc72dcae987ddaaec81bafc86f7829dc2f,7,7,1,8788,,,0,"update constraints of ovsdbapp to new 0.10.1 release

 - 0.10.1 fixes lp#1769897 scalability bug.

Change-Id: Ib4a7da63ccaf0f3e07445fd38c66242dcd548b3c
Related-Bug: #1769897
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/569063/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'upper-constraints.txt']",2,671622dc72dcae987ddaaec81bafc86f7829dc2f,bug/1769897,ovsdbapp===0.10.1,ovsdbapp===0.10.0,2,2
openstack%2Foslo.policy~master~I4036bf8efcd42ca4b1a35ae6940ac69af7fe205b,openstack/oslo.policy,master,I4036bf8efcd42ca4b1a35ae6940ac69af7fe205b,Include deprecated_reason when deprecated_rule is set,MERGED,2018-05-15 20:20:57.000000000,2018-05-17 15:22:26.000000000,2018-05-17 15:22:26.000000000,"[{'_account_id': 2903}, {'_account_id': 6873}, {'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23630}]","[{'number': 1, 'created': '2018-05-15 20:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/1ee5284f3a665ed23b7e499b1b496376253276a9', 'message': ""Include deprecated_reason when deprecated_rule is set\n\nPreviously deprecated_reason was only included in the sample policy\nfile in the deprecated_for_removal case.  There's no reason users\nwouldn't want to be able to provide an explanation for those\ndeprecations too.\n\nChange-Id: I4036bf8efcd42ca4b1a35ae6940ac69af7fe205b\nCloses-Bug: 1771416\n""}, {'number': 2, 'created': '2018-05-16 16:35:39.000000000', 'files': ['oslo_policy/tests/test_generator.py', 'oslo_policy/generator.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/90e6412210e96ba98e30edf1ef1867361900dbf7', 'message': ""Include deprecated_reason when deprecated_rule is set\n\nPreviously deprecated_reason was only included in the sample policy\nfile in the deprecated_for_removal case.  There's no reason users\nwouldn't want to be able to provide an explanation for deprecated_rule\ndeprecations too.\n\nChange-Id: I4036bf8efcd42ca4b1a35ae6940ac69af7fe205b\nCloses-Bug: 1771416\n""}]",6,568687,90e6412210e96ba98e30edf1ef1867361900dbf7,12,6,2,6928,,,0,"Include deprecated_reason when deprecated_rule is set

Previously deprecated_reason was only included in the sample policy
file in the deprecated_for_removal case.  There's no reason users
wouldn't want to be able to provide an explanation for deprecated_rule
deprecations too.

Change-Id: I4036bf8efcd42ca4b1a35ae6940ac69af7fe205b
Closes-Bug: 1771416
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/87/568687/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/tests/test_generator.py', 'oslo_policy/generator.py']",2,1ee5284f3a665ed23b7e499b1b496376253276a9,bug/1771416," '""%(name)s"":""%(check_str)s"".\n%(reason)s' 'check_str': default.check_str, 'reason': default.deprecated_reason}"," '""%(name)s"":""%(check_str)s"".' 'check_str': default.check_str}",4,2
openstack%2Fmetalsmith~master~Ic63b3663caea4eb9acd9d8f48008785dec2a62d3,openstack/metalsmith,master,Ic63b3663caea4eb9acd9d8f48008785dec2a62d3,Allow attaching existing ports,MERGED,2018-05-17 09:30:11.000000000,2018-05-17 15:17:13.000000000,2018-05-17 15:17:13.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 09:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/fd33fdbb0c64b6805b6fc4242b2250386bca71ec', 'message': 'Allow attaching existing ports\n\nChange-Id: Ic63b3663caea4eb9acd9d8f48008785dec2a62d3\n'}, {'number': 2, 'created': '2018-05-17 10:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/5ef9027b58dbdcd010a16825948bf3cba2718e19', 'message': 'Allow attaching existing ports\n\nChange-Id: Ic63b3663caea4eb9acd9d8f48008785dec2a62d3\n'}, {'number': 3, 'created': '2018-05-17 11:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/8c77dcc9a045b6cb93c7866b048bc2eba5fd3e22', 'message': 'Allow attaching existing ports\n\nAlso fix cleaning up node.extra and undeployment.\n\nChange-Id: Ic63b3663caea4eb9acd9d8f48008785dec2a62d3\n'}, {'number': 4, 'created': '2018-05-17 12:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/23f70f0cbb00586ac50f3778417f4624e8c807bf', 'message': 'Allow attaching existing ports\n\nAlso fix cleaning up node.extra and undeployment.\n\nChange-Id: Ic63b3663caea4eb9acd9d8f48008785dec2a62d3\n'}, {'number': 5, 'created': '2018-05-17 13:51:37.000000000', 'files': ['metalsmith/_exceptions.py', 'playbooks/integration/exercise.yaml', 'metalsmith/test/test_provisioner.py', 'metalsmith/_os_api.py', 'metalsmith/test/test_cmd.py', 'metalsmith/_provisioner.py', 'playbooks/integration/run.yaml', 'metalsmith/_cmd.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/1037276d61f1401c05979dc2036fb5f19d116d33', 'message': 'Allow attaching existing ports\n\nAlso fix cleaning up node.extra and undeployment.\n\nChange-Id: Ic63b3663caea4eb9acd9d8f48008785dec2a62d3\n'}]",0,569070,1037276d61f1401c05979dc2036fb5f19d116d33,14,2,5,10239,,,0,"Allow attaching existing ports

Also fix cleaning up node.extra and undeployment.

Change-Id: Ic63b3663caea4eb9acd9d8f48008785dec2a62d3
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/70/569070/3 && git format-patch -1 --stdout FETCH_HEAD,"['metalsmith/_exceptions.py', 'playbooks/integration/exercise.yaml', 'metalsmith/_os_api.py', 'metalsmith/test/test_provisioner.py', 'metalsmith/test/test_cmd.py', 'metalsmith/_provisioner.py', 'playbooks/integration/run.yaml', 'metalsmith/_cmd.py']",8,fd33fdbb0c64b6805b6fc4242b2250386bca71ec,port-attach,"class NICAction(argparse.Action): def __call__(self, parser, namespace, values, option_string=None): assert option_string in ('--port', '--network') nics = getattr(namespace, self.dest, None) or [] if option_string == '--network': nics.append({'network': values}) else: nics.append({'port': values}) setattr(namespace, self.dest, nics) nics=args.nics, dest='nics', action=NICAction) deploy.add_argument('--port', help='port to attach (name or UUID)', dest='nics', action=NICAction)"," network_refs=[args.network], required=True),",256,60
openstack%2Fkolla~master~I94dba206614ee353cdbb6cf1d44716d4c94e55ab,openstack/kolla,master,I94dba206614ee353cdbb6cf1d44716d4c94e55ab,base: drop not needed APT key,MERGED,2018-05-17 09:37:52.000000000,2018-05-17 15:11:39.000000000,2018-05-17 15:02:32.000000000,"[{'_account_id': 2834}, {'_account_id': 16984}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 09:37:52.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b7ad82bdff8a75c15085e6836f32ce91c562ad9b', 'message': 'base: drop not needed APT key\n\nChange-Id: I94dba206614ee353cdbb6cf1d44716d4c94e55ab\n'}]",0,569075,b7ad82bdff8a75c15085e6836f32ce91c562ad9b,9,4,1,24072,,,0,"base: drop not needed APT key

Change-Id: I94dba206614ee353cdbb6cf1d44716d4c94e55ab
",git fetch https://review.opendev.org/openstack/kolla refs/changes/75/569075/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,b7ad82bdff8a75c15085e6836f32ce91c562ad9b,,," 'https://people.linaro.org/~marcin.juszkiewicz/debian/stretch/Release.key',",0,1
openstack%2Fosc-placement~master~I449ee4574091c9f5babe0b31d8a771a086d7bc1c,openstack/osc-placement,master,I449ee4574091c9f5babe0b31d8a771a086d7bc1c,Resource class set (v1.7),MERGED,2017-10-24 13:02:38.000000000,2018-05-17 15:07:38.000000000,2018-05-17 15:07:38.000000000,"[{'_account_id': 6873}, {'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 15554}, {'_account_id': 20722}, {'_account_id': 21813}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2017-10-24 13:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/98f10d837a7fd3ea746ad8392677c8f1ebf31c44', 'message': '[WIP] Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\n'}, {'number': 2, 'created': '2017-10-30 08:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/0d24134f573ca800258ef3018e4e42d72ec82af7', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\n'}, {'number': 3, 'created': '2017-12-11 18:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/afc3a7cdcced051787ef287037ceb78a256442a1', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\n'}, {'number': 4, 'created': '2017-12-13 21:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/8480aba17ecb796c3c22bacc7671b05fc0a5585e', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\n'}, {'number': 5, 'created': '2018-01-23 16:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/b5dc31fa0c96927a1a8fd152feeae19714867494', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\n'}, {'number': 6, 'created': '2018-01-24 16:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/b5cce110cdd51ea5dbbb1a7fb8f6947f4d543923', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\n'}, {'number': 7, 'created': '2018-02-08 10:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/886b560e5d969b8a235cc2ce054866e72b3143c8', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\n'}, {'number': 8, 'created': '2018-02-08 11:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/44d37474c2316f59ea5f845acbbf56354ae8d33f', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\n'}, {'number': 9, 'created': '2018-02-08 12:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/5579133c92445647d4274d43410f2c83de372113', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\n'}, {'number': 10, 'created': '2018-02-14 11:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/775d27fff23c40857ae613c32d5365bc2926264f', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\n'}, {'number': 11, 'created': '2018-02-20 13:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/720a11d4b00bd20fe3366131ad741d937413d688', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\n'}, {'number': 12, 'created': '2018-03-06 15:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/3cb0ec1779d56cd9a7741be8e0cca54084cd1e92', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\n'}, {'number': 13, 'created': '2018-03-23 10:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/43187d5f767d4ff575208d6237a443d4b6aa3423', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\n'}, {'number': 14, 'created': '2018-03-23 13:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/e67d81ce9a99b96339967b004edf9bd8fbfa16b5', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\n'}, {'number': 15, 'created': '2018-04-11 08:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/792591358f1a0d8e006ca1939a42960dd49c228e', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 16, 'created': '2018-04-12 13:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/8503b19dffb23c9087771df4f2ce7fdcfa0e8e5e', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 17, 'created': '2018-04-12 19:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/7766665086707c860ef2ff19f60a5722982191b5', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 18, 'created': '2018-04-18 21:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/d2204fce2691c9c6dff6d954bcf3e8a29ddeedf0', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 19, 'created': '2018-04-23 13:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/b1e8fedd136c39dadddf39e19f2c7c425aa2455b', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 20, 'created': '2018-05-01 17:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/8f3b7c8fcd125f44bc2938465061217b07dea6e6', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 21, 'created': '2018-05-11 08:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/4f62ec0ab71b4017f7154405f00e57f146d8c688', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 22, 'created': '2018-05-14 19:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/43356c620ffedc9c610f8b4c0c1210d8d4c84240', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 23, 'created': '2018-05-15 12:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/232554450f9a60b372d09b941273d5d90991c3d5', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 24, 'created': '2018-05-16 21:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/2c965dbb7c73be6bcac6de1301c7ec763b25d9a1', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}, {'number': 25, 'created': '2018-05-17 13:54:20.000000000', 'files': ['releasenotes/notes/microversion-1.7-6be2dadd0b27910f.yaml', 'osc_placement/tests/functional/base.py', 'osc_placement/tests/functional/test_resource_class.py', 'osc_placement/version.py', 'osc_placement/resources/resource_class.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/d839cd9dc566f798aba6ae492c47d4fdb6bfd929', 'message': 'Resource class set (v1.7)\n\nChange-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c\nPartially-Implements: blueprint placement-osc-plugin-rocky\n'}]",12,514644,d839cd9dc566f798aba6ae492c47d4fdb6bfd929,79,9,25,21813,,,0,"Resource class set (v1.7)

Change-Id: I449ee4574091c9f5babe0b31d8a771a086d7bc1c
Partially-Implements: blueprint placement-osc-plugin-rocky
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/44/514644/25 && git format-patch -1 --stdout FETCH_HEAD,"['osc_placement/plugin.py', 'osc_placement/resources/resource_class.py', 'setup.cfg']",3,98f10d837a7fd3ea746ad8392677c8f1ebf31c44,bp/placement-osc-plugin-rocky, resource_class_set = osc_placement.resources.resource_class:SetResourceClass,,26,1
openstack%2Fkolla~stable%2Fqueens~If4043a5064a6b94bf08bd8363a895da921bc2418,openstack/kolla,stable/queens,If4043a5064a6b94bf08bd8363a895da921bc2418,Create symlink if /e/o-d/customer_local_settings exists,MERGED,2018-05-14 20:46:02.000000000,2018-05-17 15:03:02.000000000,2018-05-17 15:03:02.000000000,"[{'_account_id': 2276}, {'_account_id': 7488}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-05-14 20:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/45c007d1d331c1e708c9f7c05b005764ff9f6cc1', 'message': 'Create symlink if /e/o-d/customer_local_settings exists\n\nCreate site-packages custom_local_settings symlink if /etc/openstack-dashboard/custom_\nlocal_settings exists, this will be used as a mechanism to extend the\ncurrent local_settings without a need to change the file and rebuild\nthe image\n\nChange-Id: If4043a5064a6b94bf08bd8363a895da921bc2418\nPartial-Bug: #1769970\n(cherry picked from commit 479daab59b4a1faad3a4ab5b7f6ecc4887ffea3a)\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@linaro.org>\n'}, {'number': 2, 'created': '2018-05-14 23:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4b8024ccf1893d3e4818c443ef5f84f7c1fb1e17', 'message': 'Create symlink if /e/o-d/customer_local_settings exists\n\nCreate site-packages custom_local_settings symlink if /etc/openstack-dashboard/custom_\nlocal_settings exists, this will be used as a mechanism to extend the\ncurrent local_settings without a need to change the file and rebuild\nthe image\n\nChange-Id: If4043a5064a6b94bf08bd8363a895da921bc2418\nPartial-Bug: #1769970\n(cherry picked from commit 479daab59b4a1faad3a4ab5b7f6ecc4887ffea3a)\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@linaro.org>\n'}, {'number': 3, 'created': '2018-05-15 03:27:22.000000000', 'files': ['docker/horizon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ae322168f65a3ba204795080f6e936356b9b19cd', 'message': 'Create symlink if /e/o-d/customer_local_settings exists\n\nCreate site-packages custom_local_settings symlink if /etc/openstack-dashboard/custom_\nlocal_settings exists, this will be used as a mechanism to extend the\ncurrent local_settings without a need to change the file and rebuild\nthe image\n\nChange-Id: If4043a5064a6b94bf08bd8363a895da921bc2418\nPartial-Bug: #1769970\n(cherry picked from commit 479daab59b4a1faad3a4ab5b7f6ecc4887ffea3a)\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@linaro.org>\n'}]",1,568371,ae322168f65a3ba204795080f6e936356b9b19cd,14,6,3,2276,,,0,"Create symlink if /e/o-d/customer_local_settings exists

Create site-packages custom_local_settings symlink if /etc/openstack-dashboard/custom_
local_settings exists, this will be used as a mechanism to extend the
current local_settings without a need to change the file and rebuild
the image

Change-Id: If4043a5064a6b94bf08bd8363a895da921bc2418
Partial-Bug: #1769970
(cherry picked from commit 479daab59b4a1faad3a4ab5b7f6ecc4887ffea3a)
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@linaro.org>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/71/568371/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/extend_start.sh'],1,45c007d1d331c1e708c9f7c05b005764ff9f6cc1,bug/1769970,"if [[ -f /etc/openstack-dashboard/custom_local_settings ]] && [[ ! -f ${SITE_PACKAGES}/openstack_dashboard/local/custom_local_settings.py ]]; then ln -s /etc/openstack-dashboard/custom_local_settings \ ${SITE_PACKAGES}/openstack_dashboard/local/custom_local_settings.py fi ======= # NOTE(jeffrey4l, niedbalski): The local_settings and custom_local_settings files # affect django-compress behavior, so re-generate the compressed # javascript and css if any of those setting files changed function settings_changed { declare -A settings=( ['/etc/openstack-dashboard/local_settings']=""/var/lib/kolla/.local_settings.md5sum.txt"" ['/etc/openstack-dashboard/custom_local_settings']=""/var/lib/kolla/.custom_local_settings.md5sum.txt"") declare -x changed=1 for path in ""${!settings[@]}""; do if [[ ! -f ${settings[$path]} || $(md5sum -c --status ${settings[$path]};echo $?) != 0 || ${FORCE_GENERATE} == ""yes"" ]]; then changed=0 md5sum ${path} > ${settings[$path]} fi done return ${changed} } if settings_changed; then","# NOTE(jeffrey4l): The local_settings file affect django-compress # behavior, so re-generate the compressed javascript and css if it # is changed MD5SUM_TXT_PATH=""/var/lib/kolla/.local_settings.md5sum.txt"" if [[ ! -f ${MD5SUM_TXT_PATH} || $(md5sum -c --status ${MD5SUM_TXT_PATH};echo $?) != 0 || ${FORCE_GENERATE} == ""yes"" ]]; then md5sum /etc/openstack-dashboard/local_settings > ${MD5SUM_TXT_PATH}",22,6
openstack%2Fosc-placement~master~I404637f09ed69fa1934e86db83ecdc2d8ef35c85,openstack/osc-placement,master,I404637f09ed69fa1934e86db83ecdc2d8ef35c85,Fix error message asserts in functional test,MERGED,2018-05-17 07:55:56.000000000,2018-05-17 14:57:47.000000000,2018-05-17 14:57:47.000000000,"[{'_account_id': 6873}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 07:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/d0015ba7a27b677f5f50437605525199a55fac58', 'message': 'Fix error message asserts in functional test\n\nAs a consequence of the bugfix I196c2e3dabcbf0564c1ca0bd4870dc2df3efc836\nin placement some trait tests started to fail as the error message\nemitted by placement has been changed.\n\nChange-Id: I404637f09ed69fa1934e86db83ecdc2d8ef35c85\nCloses-Bug: #1771761\n'}, {'number': 2, 'created': '2018-05-17 12:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/884ff367372753f0074bc1c4ff8604a37540d055', 'message': 'Fix error message asserts in functional test\n\nAs a consequence of the bugfix I196c2e3dabcbf0564c1ca0bd4870dc2df3efc836\nin placement some trait tests started to fail as the error message\nemitted by placement has been changed.\n\nChange-Id: I404637f09ed69fa1934e86db83ecdc2d8ef35c85\nCloses-Bug: #1771761\n'}, {'number': 3, 'created': '2018-05-17 13:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/99ec5c67a91cde9ba2a26a87f1257b1082cf0fa8', 'message': 'Fix error message asserts in functional test\n\nAs a consequence of the bugfix I196c2e3dabcbf0564c1ca0bd4870dc2df3efc836\nin placement some trait tests started to fail as the error message\nemitted by placement has been changed.\n\nChange-Id: I404637f09ed69fa1934e86db83ecdc2d8ef35c85\nCloses-Bug: #1771761\n'}, {'number': 4, 'created': '2018-05-17 13:54:20.000000000', 'files': ['osc_placement/tests/functional/base.py', 'osc_placement/tests/functional/test_trait.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/7882ed33f30b9c3b10024a552d1ebc44ac598175', 'message': 'Fix error message asserts in functional test\n\nAs a consequence of the bugfix I196c2e3dabcbf0564c1ca0bd4870dc2df3efc836\nin placement some trait tests started to fail as the error message\nemitted by placement has been changed.\n\nChange-Id: I404637f09ed69fa1934e86db83ecdc2d8ef35c85\nCloses-Bug: #1771761\n'}]",1,569048,7882ed33f30b9c3b10024a552d1ebc44ac598175,14,3,4,9708,,,0,"Fix error message asserts in functional test

As a consequence of the bugfix I196c2e3dabcbf0564c1ca0bd4870dc2df3efc836
in placement some trait tests started to fail as the error message
emitted by placement has been changed.

Change-Id: I404637f09ed69fa1934e86db83ecdc2d8ef35c85
Closes-Bug: #1771761
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/48/569048/1 && git format-patch -1 --stdout FETCH_HEAD,['osc_placement/tests/functional/test_trait.py'],1,d0015ba7a27b677f5f50437605525199a55fac58,bp/placement-osc-plugin-rocky," self.assertCommandFailed('HTTP 404', self.trait_show, 'UNKNOWN') self.assertCommandFailed('HTTP 404', self.trait_show, TRAIT)"," self.assertCommandFailed('Not found', self.trait_show, 'UNKNOWN') self.assertCommandFailed('Not found', self.trait_show, TRAIT)",2,2
openstack%2Ftripleo-heat-templates~master~I6e7aaf30a7fab9d881497051f14773731742998b,openstack/tripleo-heat-templates,master,I6e7aaf30a7fab9d881497051f14773731742998b,Deploy scenario000 without public TLS,ABANDONED,2018-05-17 12:02:53.000000000,2018-05-17 14:54:07.000000000,,[{'_account_id': 8042}],"[{'number': 1, 'created': '2018-05-17 12:02:53.000000000', 'files': ['ci/environments/scenario000-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5ad578d1b4d29253b6bbe516bb3d6012fe365c5', 'message': 'Deploy scenario000 without public TLS\n\nJust testing for Q->R upgrade job.\n\nChange-Id: I6e7aaf30a7fab9d881497051f14773731742998b\n'}]",0,569096,b5ad578d1b4d29253b6bbe516bb3d6012fe365c5,3,1,1,8042,,,0,"Deploy scenario000 without public TLS

Just testing for Q->R upgrade job.

Change-Id: I6e7aaf30a7fab9d881497051f14773731742998b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/569096/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario000-multinode-containers.yaml'],1,b5ad578d1b4d29253b6bbe516bb3d6012fe365c5,rocky-upgrade, EnablePublicTLS: false,,1,0
openstack%2Fopenstack-ansible~stable%2Focata~I5bcc8f78ec8a1a175f0bfae3f38101d26e7e3803,openstack/openstack-ansible,stable/ocata,I5bcc8f78ec8a1a175f0bfae3f38101d26e7e3803,Run inventory-manage.py from the ansible-runtime venv,MERGED,2018-05-15 06:44:04.000000000,2018-05-17 14:53:10.000000000,2018-05-17 14:53:09.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-05-15 06:44:04.000000000', 'files': ['scripts/inventory-manage.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a57cb079d6400949ac4aa6c8d2ff799976e9b36b', 'message': 'Run inventory-manage.py from the ansible-runtime venv\n\nbootstrap-ansible installs prettytables in the ansible-runtime\nvenv. inventory-manage.py requires prettytables, so should use\nthe venv.\n\nChange-Id: I5bcc8f78ec8a1a175f0bfae3f38101d26e7e3803\n(cherry picked from commit c0b691ec42d8cef281d6630e6f50e5ebf4c63b44)\n'}]",0,568466,a57cb079d6400949ac4aa6c8d2ff799976e9b36b,8,5,1,6816,,,0,"Run inventory-manage.py from the ansible-runtime venv

bootstrap-ansible installs prettytables in the ansible-runtime
venv. inventory-manage.py requires prettytables, so should use
the venv.

Change-Id: I5bcc8f78ec8a1a175f0bfae3f38101d26e7e3803
(cherry picked from commit c0b691ec42d8cef281d6630e6f50e5ebf4c63b44)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/66/568466/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/inventory-manage.py'],1,a57cb079d6400949ac4aa6c8d2ff799976e9b36b,scripts-venv-stable/ocata,#!/opt/ansible-runtime/bin/python,#!/usr/bin/env python,1,1
openstack%2Fdevstack~master~I2a98795674183e2c05c29e15a3a3bad1a22c0891,openstack/devstack,master,I2a98795674183e2c05c29e15a3a3bad1a22c0891,Configure console proxy settings for nova-cpu.conf,MERGED,2018-05-09 18:01:53.000000000,2018-05-17 14:53:09.000000000,2018-05-17 07:17:07.000000000,"[{'_account_id': 4690}, {'_account_id': 5196}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11307}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-05-09 18:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/391f8fc330fd7b011c878389bc26fdf84ffc3cf2', 'message': 'Configure console proxy settings once globally\n\nChange 12579c3db7b28381c8ec97945aa23ee02d54d22b moved console-related\nsettings from the global nova.conf to the per cell nova_cellN.conf\nbecause of a recent change in nova that moved console token\nauthorizations from the nova-consoleauth service backend to the\ndatabase backend and thus changed the deployment layout requirements\nfrom global console proxies to per cell console proxies.\n\nThe change erroneously also removed console configuration settings from\nthe nova-compute config file nova-cpu.conf because the nova-cpu.conf\nbegins as a copy of the global nova.conf.\n\nThis adds a one-time configuration of console-related settings in the\nglobal nova.conf so that settings needed by nova-compute get reflected\nin the nova-cpu.conf.\n\nCloses-Bug: #1770143\n\nChange-Id: I2a98795674183e2c05c29e15a3a3bad1a22c0891\n'}, {'number': 2, 'created': '2018-05-09 19:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9c60c3c28b860606adc47b7a2bdabbabe6d2c4f5', 'message': 'Configure console proxy settings once globally\n\nChange 12579c3db7b28381c8ec97945aa23ee02d54d22b moved console-related\nsettings from the global nova.conf to the per cell nova_cellN.conf\nbecause of a recent change in nova that moved console token\nauthorizations from the nova-consoleauth service backend to the\ndatabase backend and thus changed the deployment layout requirements\nfrom global console proxies to per cell console proxies.\n\nThe change erroneously also removed console configuration settings from\nthe nova-compute config file nova-cpu.conf because the nova-cpu.conf\nbegins as a copy of the global nova.conf.\n\nThis adds configuration of console proxies to the nova-cpu.conf in the\nstart_nova_compute routine.\n\nCloses-Bug: #1770143\n\nChange-Id: I2a98795674183e2c05c29e15a3a3bad1a22c0891\n'}, {'number': 3, 'created': '2018-05-09 21:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9710dc8b5427dc8c6b8dd3fb2ad64acb9ba21c69', 'message': 'Configure console proxy settings for nova-cpu.conf\n\nChange 12579c3db7b28381c8ec97945aa23ee02d54d22b moved console-related\nsettings from the global nova.conf to the per cell nova_cellN.conf\nbecause of a recent change in nova that moved console token\nauthorizations from the nova-consoleauth service backend to the\ndatabase backend and thus changed the deployment layout requirements\nfrom global console proxies to per cell console proxies.\n\nThe change erroneously also removed console configuration settings from\nthe nova-compute config file nova-cpu.conf because the nova-cpu.conf\nbegins as a copy of the global nova.conf.\n\nThis adds configuration of console proxies to the nova-cpu.conf in the\nstart_nova_compute routine.\n\nCloses-Bug: #1770143\n\nChange-Id: I2a98795674183e2c05c29e15a3a3bad1a22c0891\n'}, {'number': 4, 'created': '2018-05-11 04:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fd14241a099e3346de64d022b615545c6acedb5f', 'message': 'Configure console proxy settings for nova-cpu.conf\n\nChange 12579c3db7b28381c8ec97945aa23ee02d54d22b moved console-related\nsettings from the global nova.conf to the per cell nova_cellN.conf\nbecause of a recent change in nova that moved console token\nauthorizations from the nova-consoleauth service backend to the\ndatabase backend and thus changed the deployment layout requirements\nfrom global console proxies to per cell console proxies.\n\nThe change erroneously also removed console configuration settings from\nthe nova-compute config file nova-cpu.conf because the nova-cpu.conf\nbegins as a copy of the global nova.conf.\n\nThis adds configuration of console proxies to the nova-cpu.conf in the\nstart_nova_compute routine. The settings have also been split up to\nclarify which settings are used by the console proxy and which settings\nare used by nova-compute.\n\nCloses-Bug: #1770143\n\nChange-Id: I2a98795674183e2c05c29e15a3a3bad1a22c0891\n'}, {'number': 5, 'created': '2018-05-11 04:30:59.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/65ad79409537a76aec5cdba4360094a3047a025d', 'message': 'Configure console proxy settings for nova-cpu.conf\n\nChange 12579c3db7b28381c8ec97945aa23ee02d54d22b moved console-related\nsettings from the global nova.conf to the per cell nova_cellN.conf\nbecause of a recent change in nova that moved console token\nauthorizations from the nova-consoleauth service backend to the\ndatabase backend and thus changed the deployment layout requirements\nfrom global console proxies to per cell console proxies.\n\nThe change erroneously also removed console configuration settings from\nthe nova-compute config file nova-cpu.conf because the nova-cpu.conf\nbegins as a copy of the global nova.conf.\n\nThis adds configuration of console proxies to the nova-cpu.conf in the\nstart_nova_compute routine. The settings have also been split up to\nclarify which settings are used by the console proxy and which settings\nare used by nova-compute.\n\nCloses-Bug: #1770143\n\nChange-Id: I2a98795674183e2c05c29e15a3a3bad1a22c0891\n'}]",11,567298,65ad79409537a76aec5cdba4360094a3047a025d,50,11,5,4690,,,0,"Configure console proxy settings for nova-cpu.conf

Change 12579c3db7b28381c8ec97945aa23ee02d54d22b moved console-related
settings from the global nova.conf to the per cell nova_cellN.conf
because of a recent change in nova that moved console token
authorizations from the nova-consoleauth service backend to the
database backend and thus changed the deployment layout requirements
from global console proxies to per cell console proxies.

The change erroneously also removed console configuration settings from
the nova-compute config file nova-cpu.conf because the nova-cpu.conf
begins as a copy of the global nova.conf.

This adds configuration of console proxies to the nova-cpu.conf in the
start_nova_compute routine. The settings have also been split up to
clarify which settings are used by the console proxy and which settings
are used by nova-compute.

Closes-Bug: #1770143

Change-Id: I2a98795674183e2c05c29e15a3a3bad1a22c0891
",git fetch https://review.opendev.org/openstack/devstack refs/changes/98/567298/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,391f8fc330fd7b011c878389bc26fdf84ffc3cf2,bug/1770143," # We need to configure the console proxies once globally even if we are in # multi-cell mode because the nova-cpu.conf begins its life as a copy of # the global nova.conf and nova-compute needs some of the console settings. configure_console_proxies # If we're in multi-cell mode, add the console settings to each cell # config because console proxies run per cell. if [[ ""${CELLSV2_SETUP}"" == ""superconductor"" ]]; then"," if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then configure_console_proxies else",9,3
openstack%2Fmistral~stable%2Fqueens~I013d4837603839364f8d699f7ce97e4400879d38,openstack/mistral,stable/queens,I013d4837603839364f8d699f7ce97e4400879d38,"Release note for using ""passive_deletes=True""",MERGED,2018-05-17 12:43:21.000000000,2018-05-17 14:51:12.000000000,2018-05-17 14:51:12.000000000,"[{'_account_id': 9712}, {'_account_id': 11085}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 12:43:21.000000000', 'files': ['releasenotes/notes/using_passive_deletes_in_sqlalchemy-4b3006b3aba55155.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/53815745c9050274362fb3cbca2f1474a1eb2619', 'message': 'Release note for using ""passive_deletes=True""\n\nRelated-Bug: #1757966\n\nChange-Id: I013d4837603839364f8d699f7ce97e4400879d38\n(cherry picked from commit 696e82702c0deafb4a5f1baf35da8e7987818fd0)\n'}]",2,569101,53815745c9050274362fb3cbca2f1474a1eb2619,7,3,1,9712,,,0,"Release note for using ""passive_deletes=True""

Related-Bug: #1757966

Change-Id: I013d4837603839364f8d699f7ce97e4400879d38
(cherry picked from commit 696e82702c0deafb4a5f1baf35da8e7987818fd0)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/01/569101/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/using_passive_deletes_in_sqlalchemy-4b3006b3aba55155.yaml'],1,53815745c9050274362fb3cbca2f1474a1eb2619,bug/1757966-stable/queens,"--- fixes: - | Used ""passive_deletes=True"" in the configuration of relationships in SQLAlchemy models. This improves deletion of graphs of related objects stored in DB because dependent objects don't get loaded prior to deleting them. More about using this flag can be found at: http://docs.sqlalchemy.org/en/latest/orm/collections.html#using-passive-deletes ",,9,0
openstack%2Fmistral~stable%2Fpike~I36988817fb8e7695094ef98958b8aa151208fadb,openstack/mistral,stable/pike,I36988817fb8e7695094ef98958b8aa151208fadb,"Use ""passive_deletes=True"" in ORM relationships",MERGED,2018-05-17 10:16:09.000000000,2018-05-17 14:51:11.000000000,2018-05-17 14:51:11.000000000,"[{'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 10:16:09.000000000', 'files': ['mistral/tests/unit/engine/test_subworkflows.py', 'mistral/cmd/launch.py', 'mistral/db/v2/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/ae426bf6fe4eb11431f1008e7065ec6aa0383a33', 'message': 'Use ""passive_deletes=True"" in ORM relationships\n\n* Using ""passive_deletes=True"" when configuring relationships\n  with SQLAlchemy significantly reduces memory footprint when\n  deleting a graph of objects (e.g. root workflow execution\n  with all dependent tasks, actions and sub workflows) from DB.\n  This happens because in this case SQLAlchemy doesn\'t load\n  those dependent objects that are not yet in the session and\n  rather relies on cascading mechanisms of databases which are\n  activated by the proper configuration of foreign key columns.\n  For example, ""ON DELETE CASCADE"" clause in the foreign key\n  definition in case of for MySQL.\n  Particularly, this change reduces memory footprint of API\n  processes when deleting large graphs of executions and\n  execution expiration policy mechanism where the same happens\n  but on the engine side.\n* Added a test to make sure that cascaded deletion works well\n  with this new property.\n\nRelated-Bug: #1757966\nChange-Id: I36988817fb8e7695094ef98958b8aa151208fadb\n(cherry picked from commit afb0f584c5f1218ec73b2b6ecd9d7509c1df4594)\n'}]",0,569081,ae426bf6fe4eb11431f1008e7065ec6aa0383a33,6,2,1,8731,,,0,"Use ""passive_deletes=True"" in ORM relationships

* Using ""passive_deletes=True"" when configuring relationships
  with SQLAlchemy significantly reduces memory footprint when
  deleting a graph of objects (e.g. root workflow execution
  with all dependent tasks, actions and sub workflows) from DB.
  This happens because in this case SQLAlchemy doesn't load
  those dependent objects that are not yet in the session and
  rather relies on cascading mechanisms of databases which are
  activated by the proper configuration of foreign key columns.
  For example, ""ON DELETE CASCADE"" clause in the foreign key
  definition in case of for MySQL.
  Particularly, this change reduces memory footprint of API
  processes when deleting large graphs of executions and
  execution expiration policy mechanism where the same happens
  but on the engine side.
* Added a test to make sure that cascaded deletion works well
  with this new property.

Related-Bug: #1757966
Change-Id: I36988817fb8e7695094ef98958b8aa151208fadb
(cherry picked from commit afb0f584c5f1218ec73b2b6ecd9d7509c1df4594)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/81/569081/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/engine/test_subworkflows.py', 'mistral/cmd/launch.py', 'mistral/db/v2/sqlalchemy/models.py']",3,ae426bf6fe4eb11431f1008e7065ec6aa0383a33,bug/1757966-stable/pike," lazy='select', passive_deletes=True lazy='select', passive_deletes=True lazy='select', passive_deletes=True", lazy='select' lazy='select' lazy='select',49,3
openstack%2Fheat~stable%2Focata~I162b3a760031c5144525e96512db7b82ff02bc65,openstack/heat,stable/ocata,I162b3a760031c5144525e96512db7b82ff02bc65,Update test image,MERGED,2018-05-16 05:16:13.000000000,2018-05-17 14:49:57.000000000,2018-05-17 14:49:57.000000000,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 8289}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 05:16:13.000000000', 'files': ['heat_integrationtests/pre_test_hook.sh', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/472c7106c5fa2a855f894cf50925bcc693eae820', 'message': 'Update test image\n\nupdate test image to use `Fedora-Cloud-Base-27-1.6.x86_64`\n\nChange-Id: I162b3a760031c5144525e96512db7b82ff02bc65\n(cherry picked from commit da393a23cdc5d35a70c6003150d0c01d44ef35b3)\n'}]",0,568751,472c7106c5fa2a855f894cf50925bcc693eae820,8,5,1,8833,,,0,"Update test image

update test image to use `Fedora-Cloud-Base-27-1.6.x86_64`

Change-Id: I162b3a760031c5144525e96512db7b82ff02bc65
(cherry picked from commit da393a23cdc5d35a70c6003150d0c01d44ef35b3)
",git fetch https://review.opendev.org/openstack/heat refs/changes/51/568751/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_integrationtests/pre_test_hook.sh', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh']",3,472c7106c5fa2a855f894cf50925bcc693eae820,,iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-27-1.6.x86_64,iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-26-1.5.x86_64,4,4
openstack%2Fopenstack-ansible~stable%2Fqueens~I620e35d0942a6d4a55e05ae441d0e6ee2e4a67c4,openstack/openstack-ansible,stable/queens,I620e35d0942a6d4a55e05ae441d0e6ee2e4a67c4,Ensure facts are updated for new containers,MERGED,2018-05-15 15:45:52.000000000,2018-05-17 14:46:49.000000000,2018-05-17 14:46:49.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-05-15 15:45:52.000000000', 'files': ['playbooks/containers-lxc-create.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c038e8dc6286573debd163102974faafba04664c', 'message': 'Ensure facts are updated for new containers\n\nWhen the new containers are built, we currently only collect\na minimal amount of facts afterwards. This patch ensures that\na broader set of facts are updated to ensure that we have the\nupdated distribution information, networking and storage facts.\n\nRelated-Bug: 1765438\nChange-Id: I620e35d0942a6d4a55e05ae441d0e6ee2e4a67c4\n(cherry picked from commit f4e74ea7143b96554023c604620cac0b5f5a5753)\n'}]",0,568626,c038e8dc6286573debd163102974faafba04664c,7,3,1,6816,,,0,"Ensure facts are updated for new containers

When the new containers are built, we currently only collect
a minimal amount of facts afterwards. This patch ensures that
a broader set of facts are updated to ensure that we have the
updated distribution information, networking and storage facts.

Related-Bug: 1765438
Change-Id: I620e35d0942a6d4a55e05ae441d0e6ee2e4a67c4
(cherry picked from commit f4e74ea7143b96554023c604620cac0b5f5a5753)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/26/568626/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/containers-lxc-create.yml'],1,c038e8dc6286573debd163102974faafba04664c,bug/1765438," # When using gather_facts with smart gathering, # the facts aren't fully updated unless they # are old. Using the setup module in a task # does a more thorough collection. # Given we've just created the container, it is # best that we do a full collection of facts - # otherwise we end up with a stale set which # has stuff like the hostname = localhost. - name: Gather facts for new container(s) setup: gather_subset: ""network,hardware,virtual"""," - name: Set local facts for new container(s) setup: filter: ansible_local gather_subset: ""!all""",11,3
openstack%2Fopenstack-ansible~master~Ice21667c6999d0ac86b2d7bde648a0375f890210,openstack/openstack-ansible,master,Ice21667c6999d0ac86b2d7bde648a0375f890210,Convert rsyslog to an include_task,MERGED,2018-03-24 06:52:59.000000000,2018-05-17 14:46:14.000000000,2018-05-17 14:46:14.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23253}, {'_account_id': 24468}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-03-24 06:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7679fcc7cb3547370fcb290ffdbb3be0045ee858', 'message': ""[WIP] Disable global rsyslog\n\nThe rsyslog role has served us well however there's now a better way\ngiven the ability to remotely jounal. This change deprecates the use of\nthe rsyslog_client and server roles unless journal remote is not\navailable. At this time there's no suitable package to install\nsystemd-journal-remote on suse so conditional have been put in place to\nensure distributed log syncing remains functional on suse powered\nclouds. However should a package be made available for journal remote\nwe would have the ability to disable the legacy rsyslog roles entirely.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 2, 'created': '2018-03-25 05:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/207a99202054a98374c2190391e6ee95feb1095f', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is not\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-03-25 06:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/96089eb684b0507b603fe1ef1ad1c503de2a18f1', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is not\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-03-25 16:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/24c382aa336f67b79919245fd5ec93ecae5265f1', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is not\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-03-26 04:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0e03d29432c53c74567745cdd4b761ca83e9ab99', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is not\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-03-30 14:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bf99625904f1f229c9a19dec4f53f846022bbf41', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is not\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2018-03-31 18:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e500ff18a400010a2b2bbc82af0d40c20bcd003f', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is not\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 8, 'created': '2018-04-13 02:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c84d55398cdc2644dc089c6f4eedd610210643ae', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is not\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 9, 'created': '2018-04-17 17:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c07f4ecf07fcbbdf03e16e75952b73aeab7c89de', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is not\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 10, 'created': '2018-04-20 16:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a2d4cfe9009f1a9de1a5ed2786d794759349691', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is not\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 11, 'created': '2018-04-28 00:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/03a7d99faddf0e158882738a2c46edba3114c09f', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is not\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 12, 'created': '2018-05-02 18:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a0353220f00c6f4183b7c51aab0df559be00e6e1', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 13, 'created': '2018-05-02 18:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/45a9c42881d19a86914173ea79bfb855395344cc', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 14, 'created': '2018-05-03 02:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d0c6134367a508df88a28ca61a4266fdddab0b10', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 15, 'created': '2018-05-03 02:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4633ba8338b1d406ef772cf8e675ff85e42ab1d0', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 16, 'created': '2018-05-04 16:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f8ce390fefcb9901e9212e73559df2d3fb6871af', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 17, 'created': '2018-05-17 00:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/131c35a7dbc52702271751c11d27680af8a9a6de', 'message': 'Convert rsyslog to an include_task with group_vars\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 18, 'created': '2018-05-17 07:50:20.000000000', 'files': ['playbooks/rsyslog-install.yml', 'playbooks/os-congress-install.yml', 'playbooks/rabbitmq-install.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-octavia-install.yml', 'playbooks/os-swift-install.yml', 'playbooks/ceph-install.yml', 'playbooks/common-tasks/rsyslog-client.yml', 'playbooks/os-sahara-install.yml', 'playbooks/os-horizon-install.yml', 'playbooks/os-trove-install.yml', 'playbooks/os-tempest-install.yml', 'playbooks/containers-lxc-host.yml', 'playbooks/common-playbooks/glance.yml', 'playbooks/os-aodh-install.yml', 'playbooks/common-playbooks/nova.yml', 'playbooks/repo-server.yml', 'playbooks/galera-install.yml', 'playbooks/common-playbooks/neutron.yml', 'playbooks/ceph-rgw-install.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'inventory/group_vars/all/all.yml', 'playbooks/os-molteniron-install.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/os-tacker-install.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/memcached-install.yml', 'playbooks/os-designate-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/os-ironic-install.yml', 'releasenotes/notes/rsyslog-disable-ffc4ebf27cc77330.yaml', 'playbooks/os-barbican-install.yml', 'playbooks/haproxy-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/03956a927402eb898299c6477785eaaccb6913b2', 'message': 'Convert rsyslog to an include_task\n\nThe rsyslog role has served us well however there\'s now a better way\ngiven the ability to remotely journal. This change disables the use of\nthe `rsyslog_client` and `server` roles unless journal remote is\nunavailable. In this change the `rsyslog_client` interaction has been\nmoved into an include_tasks which is conditionally loaded when the\nvariable `rsyslog_client_enabled` is set to true. Additionally the\n`rsyslog_server` role is disabled unless `rsyslog_server_enabled`\nis set true. Using the new variables legacy functionality can be\nenabled. By disabling the general rsyslog roles we\'ll lessen the\noverall IO on the cloud and improve the speed of the deployment.\n\n> NOTE: At this time there\'s no suitable package to install\n        ""systemd-journal-remote"" on opensuse so a conditional has been\n        added to ensure distributed log syncing remains functional on\n        all of our supported distros. Should a package be made\n        available for journal remote we can globally disable the\n        legacy rsyslog roles entirely by default.\n\nChange-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",17,556002,03956a927402eb898299c6477785eaaccb6913b2,93,9,18,7353,,,0,"Convert rsyslog to an include_task

The rsyslog role has served us well however there's now a better way
given the ability to remotely journal. This change disables the use of
the `rsyslog_client` and `server` roles unless journal remote is
unavailable. In this change the `rsyslog_client` interaction has been
moved into an include_tasks which is conditionally loaded when the
variable `rsyslog_client_enabled` is set to true. Additionally the
`rsyslog_server` role is disabled unless `rsyslog_server_enabled`
is set true. Using the new variables legacy functionality can be
enabled. By disabling the general rsyslog roles we'll lessen the
overall IO on the cloud and improve the speed of the deployment.

> NOTE: At this time there's no suitable package to install
        ""systemd-journal-remote"" on opensuse so a conditional has been
        added to ensure distributed log syncing remains functional on
        all of our supported distros. Should a package be made
        available for journal remote we can globally disable the
        legacy rsyslog roles entirely by default.

Change-Id: Ice21667c6999d0ac86b2d7bde648a0375f890210
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/02/556002/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/rsyslog-install.yml', 'playbooks/os-congress-install.yml', 'playbooks/rabbitmq-install.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-octavia-install.yml', 'playbooks/os-swift-install.yml', 'playbooks/ceph-install.yml', 'playbooks/os-sahara-install.yml', 'playbooks/os-horizon-install.yml', 'playbooks/os-trove-install.yml', 'playbooks/os-tempest-install.yml', 'playbooks/common-playbooks/glance.yml', 'playbooks/os-aodh-install.yml', 'playbooks/common-playbooks/nova.yml', 'playbooks/repo-server.yml', 'playbooks/galera-install.yml', 'playbooks/common-playbooks/neutron.yml', 'playbooks/ceph-rgw-install.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-molteniron-install.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/os-tacker-install.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/memcached-install.yml', 'playbooks/os-designate-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/os-ironic-install.yml', 'playbooks/os-barbican-install.yml', 'playbooks/haproxy-install.yml']",30,7679fcc7cb3547370fcb290ffdbb3be0045ee858,no-rsyslog, when: - ansible_pkg_mgr == 'zypper',,74,1
openstack%2Fopenstack-ansible~stable%2Fqueens~Iba329a23d3388a588cc8d030c97c20664edbbaee,openstack/openstack-ansible,stable/queens,Iba329a23d3388a588cc8d030c97c20664edbbaee,Update lxc_hosts role SHA for cache resolver fix,MERGED,2018-05-17 05:32:11.000000000,2018-05-17 14:46:13.000000000,2018-05-17 14:46:13.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-05-17 05:32:11.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4b53dbea90a3c2d3c0808cb9a342b99dfd5eed9e', 'message': 'Update lxc_hosts role SHA for cache resolver fix\n\nIn order to ensure that https://review.openstack.org/567137\nis included in the next release, we bump the role SHA.\n\nChange-Id: Iba329a23d3388a588cc8d030c97c20664edbbaee\nCloses-Bug: #1768592\n'}]",0,569013,4b53dbea90a3c2d3c0808cb9a342b99dfd5eed9e,7,3,1,6816,,,0,"Update lxc_hosts role SHA for cache resolver fix

In order to ensure that https://review.openstack.org/567137
is included in the next release, we bump the role SHA.

Change-Id: Iba329a23d3388a588cc8d030c97c20664edbbaee
Closes-Bug: #1768592
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/13/569013/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,4b53dbea90a3c2d3c0808cb9a342b99dfd5eed9e,bug/1768592, version: 136acfd8b0b287ae1709d6dfb75d7e0c7b0de598, version: fd47db138f50a8fd3487f30cd871133656b4b417,1,1
openstack%2Fopenstack-ansible~stable%2Fpike~Iba329a23d3388a588cc8d030c97c20664edbbaee,openstack/openstack-ansible,stable/pike,Iba329a23d3388a588cc8d030c97c20664edbbaee,Update lxc_hosts role SHA for cache resolver fix,MERGED,2018-05-17 05:33:54.000000000,2018-05-17 14:46:12.000000000,2018-05-17 14:46:12.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-17 05:33:54.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a6458d0d1a0b4aa7e6125462ef36b775587c5c45', 'message': 'Update lxc_hosts role SHA for cache resolver fix\n\nIn order to ensure that https://review.openstack.org/567161\nis included in the next release, we bump the role SHA.\n\nChange-Id: Iba329a23d3388a588cc8d030c97c20664edbbaee\nCloses-Bug: #1768592\n'}]",0,569014,a6458d0d1a0b4aa7e6125462ef36b775587c5c45,8,4,1,6816,,,0,"Update lxc_hosts role SHA for cache resolver fix

In order to ensure that https://review.openstack.org/567161
is included in the next release, we bump the role SHA.

Change-Id: Iba329a23d3388a588cc8d030c97c20664edbbaee
Closes-Bug: #1768592
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/14/569014/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,a6458d0d1a0b4aa7e6125462ef36b775587c5c45,bug/1768592, version: f7b315ce6f75c048b469300822f104287d34630b, version: 063fa615b83a54c291123cf5d3a3b7a415fa4683,1,1
openstack%2Fcharm-barbican~master~I20402104038a8e7d09193e8fac82514a6a24ec8a,openstack/charm-barbican,master,I20402104038a8e7d09193e8fac82514a6a24ec8a,Enable Bionic as a gate test,MERGED,2018-05-08 18:51:36.000000000,2018-05-17 14:44:07.000000000,2018-05-17 14:44:07.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-08 18:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/a407246301703ad1f174342778d3a270e519f86e', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I20402104038a8e7d09193e8fac82514a6a24ec8a\n'}, {'number': 2, 'created': '2018-05-11 21:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/e4fa66f2606744a6accb5fa808dd2f594499a69b', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I20402104038a8e7d09193e8fac82514a6a24ec8a\n'}, {'number': 3, 'created': '2018-05-14 04:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/687659ef4fafdc3d911eba3c6369e01b95fa6c9f', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I20402104038a8e7d09193e8fac82514a6a24ec8a\n'}, {'number': 4, 'created': '2018-05-14 14:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/7b3c5f8fbc098f718ced61e88f5d08ab1bad8e8a', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I20402104038a8e7d09193e8fac82514a6a24ec8a\n'}, {'number': 5, 'created': '2018-05-14 19:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/1bffb0bf0989ff0daf23f9275d18e8d948d057e3', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I20402104038a8e7d09193e8fac82514a6a24ec8a\n'}, {'number': 6, 'created': '2018-05-14 21:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/8a7cb12287dcd17e9e43131ba749174aae4a89e3', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I20402104038a8e7d09193e8fac82514a6a24ec8a\n'}, {'number': 7, 'created': '2018-05-16 23:18:20.000000000', 'files': ['src/tox.ini', 'src/tests/basic_deployment.py', 'src/tests/gate-basic-bionic-queens', 'src/tests/gate-basic-xenial-queens'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/58d73e2de2f9803b7ed2a24003482ba55d2467e1', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I20402104038a8e7d09193e8fac82514a6a24ec8a\n'}]",0,566973,58d73e2de2f9803b7ed2a24003482ba55d2467e1,38,4,7,20805,,,0,"Enable Bionic as a gate test

Change bionic test from dev to gate for 18.05.

Change-Id: I20402104038a8e7d09193e8fac82514a6a24ec8a
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/73/566973/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tox.ini', 'src/tests/gate-basic-bionic-queens', 'src/tests/gate-basic-xenial-queens']",3,a407246301703ad1f174342778d3a270e519f86e,update-amulet-defs-bionic,"#!/usr/bin/env python """"""Amulet tests on a basic barbican deploy on xenial-queens for keystone v3. """""" from basic_deployment import BarbicanBasicDeployment if __name__ == '__main__': deployment = BarbicanBasicDeployment(series='xenial', keystone_version=3, openstack='cloud:xenial-queens', source='cloud:xenial-updates/queens') deployment.run_tests() ",,13,1
openstack%2Fcharm-gnocchi~master~Ib4cf1f94b3ba86380f79b5254e21de46f23d3c98,openstack/charm-gnocchi,master,Ib4cf1f94b3ba86380f79b5254e21de46f23d3c98,Enable Bionic as a gate test,MERGED,2018-05-09 16:33:23.000000000,2018-05-17 14:43:20.000000000,2018-05-17 14:43:20.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-09 16:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/cd2312bb34fd7aa5d426b58db29ce19dde773d98', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ib4cf1f94b3ba86380f79b5254e21de46f23d3c98\n'}, {'number': 2, 'created': '2018-05-11 21:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/ed2cdbacbf16b6afcab49a6490c7d3414f0a9edb', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ib4cf1f94b3ba86380f79b5254e21de46f23d3c98\n'}, {'number': 3, 'created': '2018-05-15 14:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/93d33c582b8ca2f51adbcd57a2d442faecced390', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ib4cf1f94b3ba86380f79b5254e21de46f23d3c98\n'}, {'number': 4, 'created': '2018-05-16 21:31:25.000000000', 'files': ['unit_tests/test_gnocchi_handlers.py', '.gitignore', 'src/tox.ini', 'src/tests/basic_deployment.py', 'unit_tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/0a2315c19678a22cff7099626359ad8fb032dad0', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ib4cf1f94b3ba86380f79b5254e21de46f23d3c98\n'}]",0,567283,0a2315c19678a22cff7099626359ad8fb032dad0,19,4,4,20805,,,0,"Enable Bionic as a gate test

Change bionic test from dev to gate for 18.05.

Change-Id: Ib4cf1f94b3ba86380f79b5254e21de46f23d3c98
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/83/567283/4 && git format-patch -1 --stdout FETCH_HEAD,['src/tox.ini'],1,cd2312bb34fd7aa5d426b58db29ce19dde773d98,update-amulet-defs-bionic, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-queens --no-destroy, bundletester -vl DEBUG -r json -o func-results.json gate-basic-xenial-queens --no-destroy,1,1
openstack%2Freleases~master~If68a57db92ee375b96de64df5a4206636f571670,openstack/releases,master,If68a57db92ee375b96de64df5a4206636f571670,Release keystoneauth 3.6.2,MERGED,2018-05-16 20:54:28.000000000,2018-05-17 14:42:35.000000000,2018-05-17 14:42:35.000000000,"[{'_account_id': 2472}, {'_account_id': 5046}, {'_account_id': 5314}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-05-16 20:54:28.000000000', 'files': ['deliverables/rocky/keystoneauth.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4fdc0f43a321919aefe3d70fccd3c752c2fd3804', 'message': 'Release keystoneauth 3.6.2\n\nChange-Id: If68a57db92ee375b96de64df5a4206636f571670\n'}]",0,568959,4fdc0f43a321919aefe3d70fccd3c752c2fd3804,12,8,1,2,,,0,"Release keystoneauth 3.6.2

Change-Id: If68a57db92ee375b96de64df5a4206636f571670
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/568959/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/keystoneauth.yaml'],1,4fdc0f43a321919aefe3d70fccd3c752c2fd3804,, - projects: - hash: 35de6ebe93b94076964f4250bf3fa9b8ff1f8463 repo: openstack/keystoneauth tarball-base: keystoneauth1 version: 3.6.2,,5,0
openstack%2Fcharm-designate-bind~master~I314848bea90a372ef673732d6bce1e34d3083d2a,openstack/charm-designate-bind,master,I314848bea90a372ef673732d6bce1e34d3083d2a,Enable Bionic as a gate test,MERGED,2018-05-08 18:53:28.000000000,2018-05-17 14:42:22.000000000,2018-05-17 14:42:22.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-08 18:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/288ba6ccf26c02daf3dd123b9af4c1b827f5ebe4', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I314848bea90a372ef673732d6bce1e34d3083d2a\n'}, {'number': 2, 'created': '2018-05-14 14:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/a37d982e0d295685810e174d3e7d3c9adb0b3988', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I314848bea90a372ef673732d6bce1e34d3083d2a\n'}, {'number': 3, 'created': '2018-05-14 18:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/529690038f2ff1d4a0a758c9873d42fe754cc392', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I314848bea90a372ef673732d6bce1e34d3083d2a\n'}, {'number': 4, 'created': '2018-05-14 21:26:32.000000000', 'files': ['src/tox.ini', 'src/tests/basic_deployment.py', 'src/tests/gate-basic-bionic-queens', 'src/tests/gate-basic-xenial-queens'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/4f5b55315384768111439bf60c8112cdc31d5c59', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I314848bea90a372ef673732d6bce1e34d3083d2a\n'}]",0,566986,4f5b55315384768111439bf60c8112cdc31d5c59,21,4,4,20805,,,0,"Enable Bionic as a gate test

Change bionic test from dev to gate for 18.05.

Change-Id: I314848bea90a372ef673732d6bce1e34d3083d2a
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/86/566986/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tox.ini', 'src/tests/gate-basic-bionic-queens', 'src/tests/gate-basic-xenial-queens']",3,288ba6ccf26c02daf3dd123b9af4c1b827f5ebe4,update-amulet-defs-bionic,"#!/usr/bin/env python # Copyright 2016 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. """"""Amulet tests on a basic designate-bind deployment on xenial-queens."""""" from basic_deployment import DesignateBindDeployment if __name__ == '__main__': deployment = DesignateBindDeployment( series='xenial', openstack='cloud:xenial-queens', source='cloud:xenial-updates/queens') deployment.run_tests() ",,28,1
openstack%2Fcharm-ceilometer-agent~master~I77b578bec509ddbf99b10067ba9509f501f34470,openstack/charm-ceilometer-agent,master,I77b578bec509ddbf99b10067ba9509f501f34470,Enable Bionic as a gate test,MERGED,2018-05-08 18:52:02.000000000,2018-05-17 14:41:57.000000000,2018-05-17 14:41:57.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-08 18:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/1295ca80b7511289a11f131fe259fac61836762a', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I77b578bec509ddbf99b10067ba9509f501f34470\n'}, {'number': 2, 'created': '2018-05-09 16:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/c795b18a3bb9e880441defa16772c092a3ef719d', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I77b578bec509ddbf99b10067ba9509f501f34470\n'}, {'number': 3, 'created': '2018-05-11 22:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/5ded050f0e1db039fb3d6d47a099f0f854e2b0e9', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I77b578bec509ddbf99b10067ba9509f501f34470\n'}, {'number': 4, 'created': '2018-05-15 16:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/63904520817e55ffa1401b4d5ae8adf6e3877da5', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I77b578bec509ddbf99b10067ba9509f501f34470\n'}, {'number': 5, 'created': '2018-05-15 20:39:45.000000000', 'files': ['tests/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', '.gitignore', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-middleware', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'tests/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hahelpers/apache.py', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'tests/charmhelpers/core/sysctl.py', '1', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'tests/gate-basic-bionic-queens', 'tests/charmhelpers/core/unitdata.py', 'tests/gate-basic-xenial-queens', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/5060f7b9c26b12d3aabc3fbb18f02063eb38ca54', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I77b578bec509ddbf99b10067ba9509f501f34470\n'}]",0,566976,5060f7b9c26b12d3aabc3fbb18f02063eb38ca54,27,4,5,20805,,,0,"Enable Bionic as a gate test

Change bionic test from dev to gate for 18.05.

Change-Id: I77b578bec509ddbf99b10067ba9509f501f34470
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/76/566976/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-middleware', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'tests/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hahelpers/apache.py', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'tests/charmhelpers/core/sysctl.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/gate-basic-bionic-queens', 'tests/charmhelpers/core/unitdata.py', 'tests/gate-basic-xenial-queens', 'tox.ini']",29,1295ca80b7511289a11f131fe259fac61836762a,update-amulet-defs-bionic, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-queens --no-destroy, bundletester -vl DEBUG -r json -o func-results.json gate-basic-xenial-pike --no-destroy,977,178
openstack%2Fcharm-cinder-ceph~master~I808c6451583d66c8b8a17ed1bffc8a37660f6022,openstack/charm-cinder-ceph,master,I808c6451583d66c8b8a17ed1bffc8a37660f6022,Enable Bionic as a gate test,MERGED,2018-05-08 18:53:14.000000000,2018-05-17 14:40:44.000000000,2018-05-17 14:40:44.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-08 18:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/fd9dcb1c2f2511c889d224ecc60840aa022db52a', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I808c6451583d66c8b8a17ed1bffc8a37660f6022\n'}, {'number': 2, 'created': '2018-05-09 16:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/6f995dc7e140397e84b45c3dfde8646dcb9a1d89', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I808c6451583d66c8b8a17ed1bffc8a37660f6022\n'}, {'number': 3, 'created': '2018-05-11 21:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/c39b68b799d4ab232dfa31374448e7bd828fcb8a', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I808c6451583d66c8b8a17ed1bffc8a37660f6022\n'}, {'number': 4, 'created': '2018-05-16 20:28:07.000000000', 'files': ['tests/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', '.gitignore', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-middleware', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'tests/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hahelpers/apache.py', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'tests/charmhelpers/core/sysctl.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'tests/gate-basic-bionic-queens', 'tests/charmhelpers/core/unitdata.py', 'tests/gate-basic-xenial-queens', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/65a188172fe843bb95fff4c16f266e3879647797', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I808c6451583d66c8b8a17ed1bffc8a37660f6022\n'}]",0,566984,65a188172fe843bb95fff4c16f266e3879647797,19,4,4,20805,,,0,"Enable Bionic as a gate test

Change bionic test from dev to gate for 18.05.

Change-Id: I808c6451583d66c8b8a17ed1bffc8a37660f6022
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/84/566984/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-middleware', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'tests/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hahelpers/apache.py', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'tests/charmhelpers/core/sysctl.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/gate-basic-bionic-queens', 'tests/charmhelpers/core/unitdata.py', 'tests/gate-basic-xenial-queens', 'tox.ini']",29,fd9dcb1c2f2511c889d224ecc60840aa022db52a,update-amulet-defs-bionic, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-queens --no-destroy, bundletester -vl DEBUG -r json -o func-results.json gate-basic-xenial-pike --no-destroy,978,178
openstack%2Fzun~master~I6890869f0318f4e226934c984f2f821c7289db64,openstack/zun,master,I6890869f0318f4e226934c984f2f821c7289db64,Delete image residual data,ABANDONED,2018-05-03 14:11:41.000000000,2018-05-17 14:35:47.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 25571}]","[{'number': 1, 'created': '2018-05-03 14:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/cf4af9bbeba819377017bf3137d35a78116d9bda', 'message': 'Delete image residual data\n\nWhen use ""zun pull"" to pull image from glance, delete\nthe tar file and then delete the image loaded in docker.\n\nChange-Id: I6890869f0318f4e226934c984f2f821c7289db64\nPartial-Implement: blueprint delete-image-residual-data\n'}, {'number': 2, 'created': '2018-05-03 14:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9dfc947b1ea80cc8cf4115375b831c12d7b53c00', 'message': 'Delete image residual data\n\nWhen use ""zun pull"" to pull image from glance, delete\nthe tar file and then delete the image loaded in docker.\n\nChange-Id: I6890869f0318f4e226934c984f2f821c7289db64\nPartial-Implements: blueprint delete-image-residual-data\n'}, {'number': 3, 'created': '2018-05-03 14:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e3686516dddb3a15cca33d7b5ae9f54d486ac683', 'message': 'Delete image residual data\n\nChange-Id: I6890869f0318f4e226934c984f2f821c7289db64\nPartial-Implements: blueprint delete-image-residual-data\n'}, {'number': 4, 'created': '2018-05-04 00:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/7a149e82f430837da7ea5b5cd39872505dcbd433', 'message': 'Delete image residual data\n\nChange-Id: I6890869f0318f4e226934c984f2f821c7289db64\nPartial-Implements: blueprint delete-image-residual-data\n'}, {'number': 5, 'created': '2018-05-06 01:26:27.000000000', 'files': ['zun/tests/unit/compute/test_compute_manager.py', 'zun/image/glance/driver.py', 'zun/tests/unit/image/glance/test_driver.py', 'zun/image/driver.py', 'zun/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/80f353180394ce68b5e2920b944404538c55f0d9', 'message': 'Delete image residual data\n\nWhen use“zun pull“ to pull image, the image is considered that\nit can be managed by zun and the image is recorded in DB image\ntable. These image is allowed to be delete by client.\n\nThose images that pulled when create container are considered\nthat they can not be managed by zun, because they were not\nrecorded in the DB image table. These images can be cleaned\nby period task.\n\nWhen delete the images managed by zun that pulled from glance,\ndelete the tar file and then delete the image loaded in docker.\n\nChange-Id: I6890869f0318f4e226934c984f2f821c7289db64\nPartial-Implements: blueprint delete-image-residual-data\n'}]",1,566083,80f353180394ce68b5e2920b944404538c55f0d9,13,3,5,23829,,,0,"Delete image residual data

When use“zun pull“ to pull image, the image is considered that
it can be managed by zun and the image is recorded in DB image
table. These image is allowed to be delete by client.

Those images that pulled when create container are considered
that they can not be managed by zun, because they were not
recorded in the DB image table. These images can be cleaned
by period task.

When delete the images managed by zun that pulled from glance,
delete the tar file and then delete the image loaded in docker.

Change-Id: I6890869f0318f4e226934c984f2f821c7289db64
Partial-Implements: blueprint delete-image-residual-data
",git fetch https://review.opendev.org/openstack/zun refs/changes/83/566083/4 && git format-patch -1 --stdout FETCH_HEAD,"['zun/tests/unit/compute/test_compute_manager.py', 'zun/image/glance/driver.py', 'zun/tests/unit/image/glance/test_driver.py', 'zun/compute/manager.py', 'zun/image/driver.py']",5,cf4af9bbeba819377017bf3137d35a78116d9bda,bp/delete-image-residual-data,"def delete_committed_image(context, img_id, image_driver): try: image_driver.delete_committed_image(coctext, img_id) except Exception as e: LOG.exception('Unknown exception occurred while deleting image %s: %s', img_id, six.text_type(e)) raise exception.ZunException(six.text_type(e)) def delete_image(context, image, image_driver=None): image_driver.delete_image(context, image) 'image %s', image.image_id) def delete_committed_image(context, img_id, image_driver): """"""Delete a committed image."""""" raise NotImplementedError() def delete_image(self, context, image): """"""Delete image tar file that pull from glance.""""""","def delete_image(context, img_id, image_driver=None): image_driver.delete_image(context, img_id) 'image %s', img_id) def delete_image(self, context, img_id): """"""Delete an image.""""""",44,16
openstack%2Fopenstack-ansible-os_ceilometer~master~I232086142ed7d494ffd49aba16c9768470a06bd5,openstack/openstack-ansible-os_ceilometer,master,I232086142ed7d494ffd49aba16c9768470a06bd5,Adds ceilometer-upgrade task,MERGED,2017-12-08 10:58:34.000000000,2018-05-17 14:33:31.000000000,2018-02-15 12:26:19.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 13732}, {'_account_id': 15502}, {'_account_id': 20865}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-12-08 10:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/3f758f14690055d96cb1082bf08f1bee1c385260', 'message': ""Run ceilometer-upgrade task  post ceiloemeter installation\nto create the resources in gnocchi'\n\nChange-Id: I232086142ed7d494ffd49aba16c9768470a06bd5\nImplements: Additonal step to run ceilometer-upgrade during ceilometer-post-install tasks\nCloses-Bug:: 1737096\n""}, {'number': 2, 'created': '2018-01-17 11:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/5a8fa82fe52e557a1f316ee65bb32ae7884a175d', 'message': 'Adds ceilometer-upgrade task\n\nRun ceilometer-upgrade task  post ceiloemeter installationa\nto create the resources in gnocchi\n\nChange-Id: I232086142ed7d494ffd49aba16c9768470a06bd5\nImplements: Additonal step to run ceilometer-upgrade during ceilometer-post-install tasks\nCloses-Bug:: 1737096\n'}, {'number': 3, 'created': '2018-02-07 19:35:05.000000000', 'files': ['tasks/ceilometer_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/ca7cf70eafeb3be784aac9fb8ac21166fd4dbcd2', 'message': 'Adds ceilometer-upgrade task\n\nRun ceilometer-upgrade task  post ceiloemeter installationa\nto create the resources in gnocchi\n\nChange-Id: I232086142ed7d494ffd49aba16c9768470a06bd5\nImplements: Additonal step to run ceilometer-upgrade during ceilometer-post-install tasks\nCloses-Bug:: 1737096\n'}]",4,526655,ca7cf70eafeb3be784aac9fb8ac21166fd4dbcd2,20,8,3,26181,,,0,"Adds ceilometer-upgrade task

Run ceilometer-upgrade task  post ceiloemeter installationa
to create the resources in gnocchi

Change-Id: I232086142ed7d494ffd49aba16c9768470a06bd5
Implements: Additonal step to run ceilometer-upgrade during ceilometer-post-install tasks
Closes-Bug:: 1737096
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/55/526655/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ceilometer_post_install.yml'],1,3f758f14690055d96cb1082bf08f1bee1c385260,bug/1737096-updated," - name: check for gnocchi resource file stat: path: ""/etc/ceilometer/gnocchi_resources.yaml"" register: gnocchi_resource_file - name: Initialize Gnocchi database by creating ceilometer resources command: ""{{ ceilometer_bin }}/ceilometer-upgrade --skip-metering-database"" become: yes become_user: ""{{ ceilometer_system_user_name }}"" changed_when: false when: gnocchi_resource_file.stat.exists",,12,0
openstack%2Fnova~master~Id7eecbfe53f3a973d828122cf0149b2e10b8833f,openstack/nova,master,Id7eecbfe53f3a973d828122cf0149b2e10b8833f,Make scheduler client allow multiple member_of query parameters,MERGED,2018-05-14 15:05:19.000000000,2018-05-17 14:33:25.000000000,2018-05-15 00:02:30.000000000,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-14 15:05:19.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ac114ecc630b9ad9e4fa67d42d07f850bec6e5ea', 'message': 'Make scheduler client allow multiple member_of query parameters\n\nThis implements support for placement version 1.24, which allows multiple\nmember_of query parameters to allocation_candidates.\n\nRelated to blueprint alloc-candidates-member-of\n\nChange-Id: Id7eecbfe53f3a973d828122cf0149b2e10b8833f\n'}]",2,568313,ac114ecc630b9ad9e4fa67d42d07f850bec6e5ea,18,13,1,4393,,,0,"Make scheduler client allow multiple member_of query parameters

This implements support for placement version 1.24, which allows multiple
member_of query parameters to allocation_candidates.

Related to blueprint alloc-candidates-member-of

Change-Id: Id7eecbfe53f3a973d828122cf0149b2e10b8833f
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/568313/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",2,ac114ecc630b9ad9e4fa67d42d07f850bec6e5ea,bp/alloc-candidates-member-of," qs_params = [ ('resources', resource_query), ('limit', CONF.scheduler.max_placement_results), ] required_traits_params = [] if required_traits: required_traits_params.extend(required_traits) required_traits_params.extend( ['!%s' % trait for trait in sorted(forbidden_traits)]) if required_traits_params: qs_params.append(('required', ','.join(required_traits_params))) if aggregates: for agg_list in aggregates: qs_params.append(('member_of', 'in:%s' % ','.join(agg_list))) version = '1.24' query_traits = [v for k, v in qs_params if k == 'required'] query_aggs = [v for k, v in qs_params if k == 'member_of'] args['traits'] = query_traits and query_traits[0] or '(none)' args['aggregates'] = ','.join(query_aggs) or '(none)'"," qs_params = { 'resources': resource_query, 'limit': CONF.scheduler.max_placement_results, } if required_traits: qs_params['required'] = "","".join(required_traits) forbiddens = ',!'.join(sorted(forbidden_traits)) if qs_params['required']: qs_params['required'] += ',!' + forbiddens else: qs_params['required'] = '!' + forbiddens if aggregates: # NOTE(danms): In 1.21, placement cannot take an AND'd # set of aggregates, only an OR'd set. Thus, if we have # required and optional sets, we must do the naive thing # and AND ours together. That will not achieve the same # result, but we can't do it from the client side. When # placement supports AND'ing multiple sets, we can fix this. # TODO(danms): Update this when placement can take multiple # member_of query parameters. required_agg = set.intersection(*[set(x) for x in aggregates]) qs_params['member_of'] = 'in:' + ','.join(sorted(required_agg)) version = '1.21' args['traits'] = qs_params.get('required', '(none)') args['aggregates'] = qs_params.get('aggregates', '(none)')",23,28
openstack%2Fzun~stable%2Fqueens~I28e10acefc7f3db9b2c7fe8cc08e6a27668e081a,openstack/zun,stable/queens,I28e10acefc7f3db9b2c7fe8cc08e6a27668e081a,Update install doc for ubuntu,MERGED,2018-05-15 06:22:18.000000000,2018-05-17 14:23:05.000000000,2018-05-17 14:23:05.000000000,"[{'_account_id': 11536}, {'_account_id': 21428}, {'_account_id': 22348}, {'_account_id': 25571}, {'_account_id': 25903}, {'_account_id': 26079}]","[{'number': 1, 'created': '2018-05-15 06:22:18.000000000', 'files': ['doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/zun/commit/58b5ead80fdb0ef87569ec1e7a802b996ba81be9', 'message': 'Update install doc for ubuntu\n\nThis change updates the auth_url value to match\nwhat has changed in the keystone install guide:\nhttps://review.openstack.org/#/c/541857/\n\nChange-Id: I28e10acefc7f3db9b2c7fe8cc08e6a27668e081a\n(cherry picked from commit a35198156cfde2ef8a9910df94a401026fdff8c1)\n'}]",3,568452,58b5ead80fdb0ef87569ec1e7a802b996ba81be9,11,6,1,25903,,,0,"Update install doc for ubuntu

This change updates the auth_url value to match
what has changed in the keystone install guide:
https://review.openstack.org/#/c/541857/

Change-Id: I28e10acefc7f3db9b2c7fe8cc08e6a27668e081a
(cherry picked from commit a35198156cfde2ef8a9910df94a401026fdff8c1)
",git fetch https://review.opendev.org/openstack/zun refs/changes/52/568452/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-ubuntu.rst']",2,58b5ead80fdb0ef87569ec1e7a802b996ba81be9,update_install_doc_for_ubuntu-stable/queens, auth_url = http://controller:5000 auth_url = http://controller:5000, auth_url = http://controller:35357 auth_url = http://controller:35357,4,4
openstack%2Fzun~stable%2Fqueens~Ib6b29f53911e83c64945993f4d107eb20d2a56a9,openstack/zun,stable/queens,Ib6b29f53911e83c64945993f4d107eb20d2a56a9,Update auth_uri option to www_authenticate_uri,MERGED,2018-05-15 06:29:36.000000000,2018-05-17 14:23:04.000000000,2018-05-17 14:23:04.000000000,"[{'_account_id': 11536}, {'_account_id': 21428}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23630}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-15 06:29:36.000000000', 'files': ['zun/conf/keystone.py', 'zun/common/keystone.py', 'devstack/lib/zun', 'doc/source/install/compute-install-ubuntu.rst', 'zun/tests/unit/common/test_clients.py', 'doc/source/install/controller-install-ubuntu.rst', 'zun/api/hooks.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/65da27824dec334b737214f3e71cecd0f3e479a5', 'message': 'Update auth_uri option to www_authenticate_uri\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: Ib6b29f53911e83c64945993f4d107eb20d2a56a9\n(cherry picked from commit a56a82e01db49208c232670bce86e7d8cbe5a87e)\n'}]",0,568457,65da27824dec334b737214f3e71cecd0f3e479a5,22,7,1,25903,,,0,"Update auth_uri option to www_authenticate_uri

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: Ib6b29f53911e83c64945993f4d107eb20d2a56a9
(cherry picked from commit a56a82e01db49208c232670bce86e7d8cbe5a87e)
",git fetch https://review.opendev.org/openstack/zun refs/changes/57/568457/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/conf/keystone.py', 'zun/common/keystone.py', 'devstack/lib/zun', 'doc/source/install/compute-install-ubuntu.rst', 'zun/tests/unit/common/test_clients.py', 'doc/source/install/controller-install-ubuntu.rst', 'zun/api/hooks.py']",7,65da27824dec334b737214f3e71cecd0f3e479a5,, auth_url = CONF.keystone_authtoken.www_authenticate_uri, auth_url = CONF.keystone_authtoken.auth_uri,11,9
openstack%2Fopenstack-ansible-os_aodh~master~If6daa1bb784df46e83bbc118981240eb59a1409d,openstack/openstack-ansible-os_aodh,master,If6daa1bb784df46e83bbc118981240eb59a1409d,Add support for using distribution packages for OpenStack services,MERGED,2018-05-14 15:04:07.000000000,2018-05-17 14:23:04.000000000,2018-05-17 14:23:04.000000000,"[{'_account_id': 538}, {'_account_id': 1004}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 13095}, {'_account_id': 14805}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 15:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/4edf3831c3ded93d0532a95bcd62da7b63002e60', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: If6daa1bb784df46e83bbc118981240eb59a1409d\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 2, 'created': '2018-05-14 18:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/f350384e16d6482efba380ced6970f0e5af5bba5', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: If6daa1bb784df46e83bbc118981240eb59a1409d\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 3, 'created': '2018-05-14 20:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/0f10ddfb977c74f7149cdeba1d098c147718d6c8', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: If6daa1bb784df46e83bbc118981240eb59a1409d\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 4, 'created': '2018-05-15 07:28:26.000000000', 'files': ['tasks/main.yml', 'vars/source_install.yml', 'vars/distro_install.yml', 'vars/debian.yml', 'tasks/aodh_install_source.yml', 'templates/aodh-api-wsgi.py.j2', 'tasks/aodh_install.yml', 'defaults/main.yml', 'releasenotes/notes/openstack-distribution-packages-416a67fc03d79dc9.yaml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/70704975652272a60817f077f3f6acf443b42a7f', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: If6daa1bb784df46e83bbc118981240eb59a1409d\nImplements: blueprint openstack-distribution-packages\n'}]",0,568311,70704975652272a60817f077f3f6acf443b42a7f,13,14,4,23163,,,0,"Add support for using distribution packages for OpenStack services

Distributions provide packages for the OpenStack services so we add
support for using these instead of the pip ones.

Change-Id: If6daa1bb784df46e83bbc118981240eb59a1409d
Implements: blueprint openstack-distribution-packages
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/11/568311/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/source_install.yml', 'vars/distro_install.yml', 'vars/debian.yml', 'tasks/aodh_install_source.yml', 'templates/aodh-api-wsgi.py.j2', 'tasks/aodh_install.yml', 'defaults/main.yml', 'releasenotes/notes/openstack-distribution-packages-416a67fc03d79dc9.yaml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'zuul.d/project.yaml', 'tox.ini']",13,4edf3831c3ded93d0532a95bcd62da7b63002e60,bp/openstack-distribution-packages,"[testenv:distro_install] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} ANSIBLE_PARAMETERS=-e aodh_install_method=distro commands = bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh""",,252,109
openstack%2Fopenstack-ansible~stable%2Focata~Iba329a23d3388a588cc8d030c97c20664edbbaee,openstack/openstack-ansible,stable/ocata,Iba329a23d3388a588cc8d030c97c20664edbbaee,Update lxc_hosts role SHA for cache resolver fix,MERGED,2018-05-17 05:36:05.000000000,2018-05-17 14:23:03.000000000,2018-05-17 14:23:03.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-17 05:36:05.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5d92bc4ee70e413530620751aca0bc768b41e85a', 'message': 'Update lxc_hosts role SHA for cache resolver fix\n\nIn order to ensure that https://review.openstack.org/567184\nis included in the next release, we bump the role SHA.\n\nChange-Id: Iba329a23d3388a588cc8d030c97c20664edbbaee\nCloses-Bug: #1768592\n'}]",0,569015,5d92bc4ee70e413530620751aca0bc768b41e85a,8,4,1,6816,,,0,"Update lxc_hosts role SHA for cache resolver fix

In order to ensure that https://review.openstack.org/567184
is included in the next release, we bump the role SHA.

Change-Id: Iba329a23d3388a588cc8d030c97c20664edbbaee
Closes-Bug: #1768592
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/15/569015/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,5d92bc4ee70e413530620751aca0bc768b41e85a,bug/1768592, version: 33daa0bdd1250c9ad9b9f35005b45b10741a34a7, version: 1a367f0ce6f093055fc10fb527e614efb943c2f4,1,1
openstack%2Fopenstack-helm~master~I9aebe9478520638fa273c859bb452bbbfe9fb0a6,openstack/openstack-helm,master,I9aebe9478520638fa273c859bb452bbbfe9fb0a6,DNM: Testing sprig 2.15.0,ABANDONED,2018-05-13 04:14:21.000000000,2018-05-17 14:17:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-13 04:14:21.000000000', 'files': ['helm-toolkit/templates/manifests/_secret-tls.yaml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4525e2c55124ed6dfbddd5a84bd78f05b6d479e9', 'message': 'DNM: Testing sprig 2.15.0\n\nDepends-On: I63e0ea900ee3bdbb323f96b5339cc7a0a2172590\n\nChange-Id: I9aebe9478520638fa273c859bb452bbbfe9fb0a6\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,568036,4525e2c55124ed6dfbddd5a84bd78f05b6d479e9,3,1,1,20466,,,0,"DNM: Testing sprig 2.15.0

Depends-On: I63e0ea900ee3bdbb323f96b5339cc7a0a2172590

Change-Id: I9aebe9478520638fa273c859bb452bbbfe9fb0a6
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/36/568036/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/manifests/_secret-tls.yaml.tpl'],1,4525e2c55124ed6dfbddd5a84bd78f05b6d479e9,sprig-2.15,{{- $ca := buildCustomCert $customKey $customCrt -}},{{/* TODO(lamt) Disabling this until sprigs gotpl 2.15 is supported in the gate See https://github.com/Masterminds/sprig/releases/tag/v2.15.0 */}} {{/* - $ca := buildCustomCert $customKey $customCrt - */}} {{- $ca := genCA $commonName $expiry -}},1,4
openstack%2Fopenstack-ansible-os_barbican~master~I1c2b4ad14fb40ce3958ed197115ccf45468544c6,openstack/openstack-ansible-os_barbican,master,I1c2b4ad14fb40ce3958ed197115ccf45468544c6,Add support for using distribution packages for OpenStack services,MERGED,2018-05-11 09:30:37.000000000,2018-05-17 14:16:17.000000000,2018-05-17 14:16:17.000000000,"[{'_account_id': 538}, {'_account_id': 1004}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 13095}, {'_account_id': 14805}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-05-11 09:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/ca758cfd02e02bfcf3f8cd7964692449e89b44b2', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I1c2b4ad14fb40ce3958ed197115ccf45468544c6\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 2, 'created': '2018-05-11 15:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/102aac46a0e6165d2e5d20a5a145835761decbdf', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I1c2b4ad14fb40ce3958ed197115ccf45468544c6\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 3, 'created': '2018-05-11 15:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/ef878da8c69ea58bb10c4e2ec81aeb6004cfe324', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I1c2b4ad14fb40ce3958ed197115ccf45468544c6\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 4, 'created': '2018-05-14 10:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/354668cbf7d1eefc7a037a662cfae6fd5aec6b2d', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I1c2b4ad14fb40ce3958ed197115ccf45468544c6\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 5, 'created': '2018-05-14 11:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/f67269627389c12b2b9888e2b7cfad8bf503db63', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I1c2b4ad14fb40ce3958ed197115ccf45468544c6\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 6, 'created': '2018-05-15 10:43:08.000000000', 'files': ['tasks/main.yml', 'vars/source_install.yml', 'vars/distro_install.yml', 'vars/debian.yml', 'defaults/main.yml', 'tasks/barbican_init.yml', 'tasks/barbican_install_source.yml', 'releasenotes/notes/openstack-distribution-packages-ca14e38bbea872b2.yaml', 'vars/redhat.yml', 'zuul.d/project.yaml', 'tasks/barbican_install.yml', 'templates/barbican-systemd-init.j2', 'tox.ini', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/c9135f8b34e90aaa407aaae4abec34eaddb91192', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I1c2b4ad14fb40ce3958ed197115ccf45468544c6\nImplements: blueprint openstack-distribution-packages\n'}]",0,567808,c9135f8b34e90aaa407aaae4abec34eaddb91192,18,15,6,23163,,,0,"Add support for using distribution packages for OpenStack services

Distributions provide packages for the OpenStack services so we add
support for using these instead of the pip ones.

Change-Id: I1c2b4ad14fb40ce3958ed197115ccf45468544c6
Implements: blueprint openstack-distribution-packages
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/08/567808/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/source_install.yml', 'vars/distro_install.yml', 'vars/debian.yml', 'defaults/main.yml', 'tasks/barbican_init.yml', 'tasks/barbican_install_source.yml', 'releasenotes/notes/openstack-distribution-packages-ca14e38bbea872b2.yaml', 'vars/redhat.yml', 'zuul.d/project.yaml', 'tasks/barbican_install.yml', 'templates/barbican-systemd-init.j2', 'tox.ini', 'vars/suse.yml']",14,ca758cfd02e02bfcf3f8cd7964692449e89b44b2,bp/openstack-distribution-packages, barbican_service_distro_packages: - openstack-barbican - openstack-barbican-api - openstack-barbican-keystone-listener - openstack-barbican-retry - openstack-barbican-worker - uwsgi - uwsgi-python _barbican_uwsgi_bin: '/usr/sbin',,241,108
openstack%2Fproject-config~master~I98b2ac5ca9858a2148994ecbc7fd7a8c8a855018,openstack/project-config,master,I98b2ac5ca9858a2148994ecbc7fd7a8c8a855018,Publish Monasca docs to docs.openstack.org/monasca,ABANDONED,2018-05-11 12:59:02.000000000,2018-05-17 14:13:45.000000000,,"[{'_account_id': 6547}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 27143}]","[{'number': 1, 'created': '2018-05-11 12:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5decfe2ba159f961c1644ee5e6751f859ce8255b', 'message': 'Publish Monasca docs to docs.openstack.org/monasca\n\nopenstack/monasca-api being the central repository for Monsca components\nshould publish the docs to d.o.o/monasca\n\nChange-Id: I98b2ac5ca9858a2148994ecbc7fd7a8c8a855018\n'}, {'number': 2, 'created': '2018-05-11 13:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ed72b2ac5dd0378dd9f04e785e5c46420240759f', 'message': 'Publish Monasca docs to docs.openstack.org/monasca\n\nopenstack/monasca-api being the central repository for Monsca components\nshould publish the docs to d.o.o/monasca\n\nChange-Id: I98b2ac5ca9858a2148994ecbc7fd7a8c8a855018\nStory: 2001912\nTask:  19645\n'}, {'number': 3, 'created': '2018-05-15 08:31:38.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d6427579d638c4c47581728b5775ec9214467477', 'message': 'Publish Monasca docs to docs.openstack.org/monasca\n\nopenstack/monasca-api being the central repository for Monsca components\nshould publish the docs to d.o.o/monasca\n\nChange-Id: I98b2ac5ca9858a2148994ecbc7fd7a8c8a855018\nStory: 2001912\nTask:  19645\n'}]",2,567852,d6427579d638c4c47581728b5775ec9214467477,14,4,3,16222,,,0,"Publish Monasca docs to docs.openstack.org/monasca

openstack/monasca-api being the central repository for Monsca components
should publish the docs to d.o.o/monasca

Change-Id: I98b2ac5ca9858a2148994ecbc7fd7a8c8a855018
Story: 2001912
Task:  19645
",git fetch https://review.opendev.org/openstack/project-config refs/changes/52/567852/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,5decfe2ba159f961c1644ee5e6751f859ce8255b,," - job: name: publish-monasca-sphinx-docs parent: publish-openstack-sphinx-docs-base description: | Publish the results of the build-openstack-sphinx-docs job to https://docs.openstack.org/monasca. Publishes depending on branch to latest/ (for master), or the basename of the branch like pike (for stable/pike). post-run: - playbooks/sphinx/post.yaml vars: afs_subpath: ""/monasca""",,15,1
openstack%2Fzun~master~I8ccadbcd48700588d98c81305e1b6a5419120dd3,openstack/zun,master,I8ccadbcd48700588d98c81305e1b6a5419120dd3,Tune the default cpu/memory/disk,MERGED,2018-04-16 02:43:44.000000000,2018-05-17 14:08:06.000000000,2018-05-17 14:08:06.000000000,"[{'_account_id': 11536}, {'_account_id': 17130}, {'_account_id': 21428}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-04-16 02:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e8e73af962de6a6bacd98cb3238553c7f3f0ef91', 'message': ""Tune the default cpu/memory/disk\n\nThe default value of cpu/memory/disk is set as following:\n* default_cpu: 1 virtual core\n* default_memory: 2G\n* default_disk: 10G\n\nThese defaults should match production's requirement. In devstack,\nwe alter those default as 0 core, 0 RAM, 0 disk (no limit).\nThese defaults are more convenient for development.\n\nChange-Id: I8ccadbcd48700588d98c81305e1b6a5419120dd3\n""}, {'number': 2, 'created': '2018-04-29 17:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/60824d7a272dfa423d57917b1d06ea0854225b92', 'message': ""Tune the default cpu/memory/disk\n\nThe default value of cpu/memory/disk is set as following:\n* default_cpu: 1 virtual core\n* default_memory: 2G\n* default_disk: 10G\n\nThese defaults should match production's requirement. In devstack,\nwe alter those default as 0 core, 0 RAM, 0 disk (no limit).\nThese defaults are more convenient for development.\n\nChange-Id: I8ccadbcd48700588d98c81305e1b6a5419120dd3\n""}, {'number': 3, 'created': '2018-05-13 15:54:57.000000000', 'files': ['devstack/lib/zun', 'zun/conf/container_driver.py', 'zun/tests/unit/api/controllers/v1/test_containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/89ccde5cd58753995176b845252a6a0fc2ac1244', 'message': ""Tune the default cpu/memory/disk\n\nThe default value of cpu/memory/disk is set as following:\n* default_cpu: 1 virtual core\n* default_memory: 2G\n* default_disk: 10G\n\nThese defaults should match production's requirement. In devstack,\nwe alter those default as 0 core, 0 RAM, 0 disk (no limit).\nThese defaults are more convenient for development.\n\nChange-Id: I8ccadbcd48700588d98c81305e1b6a5419120dd3\n""}]",0,561496,89ccde5cd58753995176b845252a6a0fc2ac1244,20,6,3,11536,,,0,"Tune the default cpu/memory/disk

The default value of cpu/memory/disk is set as following:
* default_cpu: 1 virtual core
* default_memory: 2G
* default_disk: 10G

These defaults should match production's requirement. In devstack,
we alter those default as 0 core, 0 RAM, 0 disk (no limit).
These defaults are more convenient for development.

Change-Id: I8ccadbcd48700588d98c81305e1b6a5419120dd3
",git fetch https://review.opendev.org/openstack/zun refs/changes/96/561496/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/zun', 'zun/conf/container_driver.py', 'zun/tests/unit/api/controllers/v1/test_containers.py']",3,e8e73af962de6a6bacd98cb3238553c7f3f0ef91,," self.assertEqual('2048M', c.get('memory')) self.assertEqual('2048M', c.get('memory'))"," self.assertEqual('512M', c.get('memory')) self.assertEqual('512M', c.get('memory'))",6,3
openstack%2Fopenstack-manuals~master~Iab839c245bfd90b2e56f8172c1702f185c56ca0f,openstack/openstack-manuals,master,Iab839c245bfd90b2e56f8172c1702f185c56ca0f,Add redirect monasca -> monasca-api,MERGED,2018-05-17 08:04:15.000000000,2018-05-17 14:06:15.000000000,2018-05-17 14:06:14.000000000,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 08:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9fc2df2148f9e19fc2869c2dfa4dc97b6ff71ed9', 'message': 'Add redirect monasca -> monasca-api\n\nhttps://docs.openstack.org/monasca should be available as the central\nlanding page for Monasca documentation, having references to\ndocuments in monasca-* repositories.\n\nhttps://www.openstack.org/community/ points at the moment to the\nnon-existing https://docs.openstack.org/monasca\n\nChange-Id: Iab839c245bfd90b2e56f8172c1702f185c56ca0f\n'}, {'number': 2, 'created': '2018-05-17 08:29:41.000000000', 'files': ['www/.htaccess', 'www/redirect-tests.txt'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/88857f068794ffd2b13b8da13731849f01f96bb1', 'message': 'Add redirect monasca -> monasca-api\n\nhttps://docs.openstack.org/monasca should redirect to\nhttps://docs.openstack.org/monasca-api being the central\nlanding page for Monasca documentation with references to\ndocuments in monasca-* repositories.\n\nhttps://www.openstack.org/community/ points at the moment to the\nnon-existing https://docs.openstack.org/monasca\n\nChange-Id: Iab839c245bfd90b2e56f8172c1702f185c56ca0f\n'}]",0,569050,88857f068794ffd2b13b8da13731849f01f96bb1,11,5,2,16222,,,0,"Add redirect monasca -> monasca-api

https://docs.openstack.org/monasca should redirect to
https://docs.openstack.org/monasca-api being the central
landing page for Monasca documentation with references to
documents in monasca-* repositories.

https://www.openstack.org/community/ points at the moment to the
non-existing https://docs.openstack.org/monasca

Change-Id: Iab839c245bfd90b2e56f8172c1702f185c56ca0f
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/50/569050/1 && git format-patch -1 --stdout FETCH_HEAD,['www/.htaccess'],1,9fc2df2148f9e19fc2869c2dfa4dc97b6ff71ed9,," # Redirect from monasca to monasca-api {{ rename_project('monasca', 'moansca-api') }} # End redirect for monasca-api",,4,0
openstack%2Fopenstack-helm~master~I02ffbb1d85134605e665b6bef4379d45af134b58,openstack/openstack-helm,master,I02ffbb1d85134605e665b6bef4379d45af134b58,Neutron: provide config support for queens,MERGED,2018-05-17 06:29:41.000000000,2018-05-17 14:05:00.000000000,2018-05-17 14:05:00.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 26355}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-05-17 06:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d2ea313e68378a7d1f66eb53202c926845d0aaa5', 'message': 'Neutron: provide confi support for queens\n\nThis PS updates the neutron config to support up to the queens\nrelease of OpenStack.\n\nChange-Id: I02ffbb1d85134605e665b6bef4379d45af134b58\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-05-17 06:30:29.000000000', 'files': ['neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9258649674b94fcdcf8239201bc37bfab0b479fb', 'message': 'Neutron: provide config support for queens\n\nThis PS updates the neutron config to support up to the queens\nrelease of OpenStack.\n\nChange-Id: I02ffbb1d85134605e665b6bef4379d45af134b58\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,569031,9258649674b94fcdcf8239201bc37bfab0b479fb,10,6,2,23928,,,0,"Neutron: provide config support for queens

This PS updates the neutron config to support up to the queens
release of OpenStack.

Change-Id: I02ffbb1d85134605e665b6bef4379d45af134b58
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/31/569031/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/values.yaml'],1,d2ea313e68378a7d1f66eb53202c926845d0aaa5,ironic/gate," # haproxy haproxy: RegExpFilter, haproxy, root, haproxy, -f, .* kill_haproxy: KillFilter, root, haproxy, -15, -9, -HUP # l3_tc_lib l3_tc_show_qdisc: RegExpFilter, tc, root, tc, qdisc, show, dev, .+ l3_tc_add_qdisc_ingress: RegExpFilter, tc, root, tc, qdisc, add, dev, .+, ingress l3_tc_add_qdisc_egress: RegExpFilter, tc, root, tc, qdisc, add, dev, .+, root, handle, 1:, htb l3_tc_show_filters: RegExpFilter, tc, root, tc, -p, -s, -d, filter, show, dev, .+, parent, .+, prio, 1 l3_tc_delete_filters: RegExpFilter, tc, root, tc, filter, del, dev, .+, parent, .+, prio, 1, handle, .+, u32 l3_tc_add_filter_ingress: RegExpFilter, tc, root, tc, filter, add, dev, .+, parent, .+, protocol, ip, prio, 1, u32, match, ip, dst, .+, police, rate, .+, burst, .+, drop, flowid, :1 l3_tc_add_filter_egress: RegExpFilter, tc, root, tc, filter, add, dev, .+, parent, .+, protocol, ip, prio, 1, u32, match, ip, src, .+, police, rate, .+, burst, .+, drop, flowid, :1 # needed for FDB extension bridge: CommandFilter, bridge, root privsep: pods: - dhcp_agent - l3_agent - lb_agent - metadata_agent - ovs_agent - sriov_agent content: | # Command filters to allow privsep daemon to be started via rootwrap. # # This file should be owned by (and only-writeable by) the root user [Filters] # By installing the following, the local admin is asserting that: # # 1. The python module load path used by privsep-helper # command as root (as started by sudo/rootwrap) is trusted. # 2. Any oslo.config files matching the --config-file # arguments below are trusted. # 3. Users allowed to run sudo/rootwrap with this configuration(*) are # also allowed to invoke python ""entrypoint"" functions from # --privsep_context with the additional (possibly root) privileges # configured for that context. # # (*) ie: the user is allowed by /etc/sudoers to run rootwrap as root # # In particular, the oslo.config and python module path must not # be writeable by the unprivileged user. # oslo.privsep default neutron context privsep: PathFilter, privsep-helper, root, --config-file, /etc, --privsep_context, neutron.privileged.default, --privsep_sock_path, / # NOTE: A second `--config-file` arg can also be added above. Since # many neutron components are installed like that (eg: by devstack). # Adjust to suit local requirements.",,56,0
openstack%2Fopenstack-helm~master~I2b0613d9541bfe2ed2febd739db870fc4edfb7d9,openstack/openstack-helm,master,I2b0613d9541bfe2ed2febd739db870fc4edfb7d9,Gate: Provide support for Ironic up to queens,MERGED,2018-05-17 06:26:18.000000000,2018-05-17 14:04:59.000000000,2018-05-17 14:04:59.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 26355}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-05-17 06:26:18.000000000', 'files': ['tools/deployment/baremetal/110-compute-kit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/19f345ddbba8ddb222e0500d3391a6279451fef9', 'message': 'Gate: Provide support for Ironic up to queens\n\nThis PS updates the ironic gate to support up to the queens release\nof openstack.\n\nChange-Id: I2b0613d9541bfe2ed2febd739db870fc4edfb7d9\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,569027,19f345ddbba8ddb222e0500d3391a6279451fef9,9,5,1,23928,,,0,"Gate: Provide support for Ironic up to queens

This PS updates the ironic gate to support up to the queens release
of openstack.

Change-Id: I2b0613d9541bfe2ed2febd739db870fc4edfb7d9
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/27/569027/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/baremetal/110-compute-kit.sh'],1,19f345ddbba8ddb222e0500d3391a6279451fef9,ironic/gate,helm upgrade --install neutron ./neutron \ --values=/tmp/neutron.yaml \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_NEUTRON} DEFAULT: debug: truehelm upgrade --install ironic ./ironic \ --values=/tmp/ironic.yaml \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_IRONIC} debug: true #force_config_drive: false firewall_driver: nova.virt.firewall.NoopFirewallDriver #ram_allocation_ratio: 1.0 filter_scheduler: #scheduler_host_subset_size: 9999 scheduler: discover_hosts_in_cells_interval: 120 manifests: cron_job_cell_setup: true job_cell_setup: true# Deploy Nova helm upgrade --install nova ./nova \ --values=/tmp/nova.yaml \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_NOVA},helm install ./neutron \ --name=neutron \ --values=/tmp/neutron.yamlhelm install ./ironic \ --name=ironic \ --values=/tmp/ironic.yaml force_config_drive: false ram_allocation_ratio: 1.0 scheduler_host_subset_size: 9999 manifests: cron_job_cell_setup: false job_cell_setup: false# Deploy Nova and enable the neutron agents helm install ./nova \ --name=nova \ --values=/tmp/nova.yaml,25,15
openstack%2Fzun~master~Ibb7b864c35fdc7c2c2007d5d5c27d9eb8315a495,openstack/zun,master,Ibb7b864c35fdc7c2c2007d5d5c27d9eb8315a495,Record container events on rebuild,MERGED,2018-04-22 17:47:35.000000000,2018-05-17 14:04:00.000000000,2018-05-17 14:04:00.000000000,"[{'_account_id': 11536}, {'_account_id': 17130}, {'_account_id': 21428}, {'_account_id': 22076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-22 17:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1048e93eb616d4856d63e7d768a4d60502776813', 'message': 'Record container events on rebuild\n\nChange-Id: Ibb7b864c35fdc7c2c2007d5d5c27d9eb8315a495\n'}, {'number': 2, 'created': '2018-04-22 20:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/8e3812494409419a6bda42f97f479f877d3462b0', 'message': 'Record container events on rebuild\n\nChange-Id: Ibb7b864c35fdc7c2c2007d5d5c27d9eb8315a495\n'}, {'number': 3, 'created': '2018-05-10 01:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/43ca7ae4bc2696a6ceb2de2e33c1723a74c04938', 'message': 'Record container events on rebuild\n\nChange-Id: Ibb7b864c35fdc7c2c2007d5d5c27d9eb8315a495\n'}, {'number': 4, 'created': '2018-05-10 02:30:24.000000000', 'files': ['zun/tests/unit/compute/test_compute_manager.py', 'zun/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/308587c1d61786f25f64347289e6fdb657e2b54f', 'message': 'Record container events on rebuild\n\nChange-Id: Ibb7b864c35fdc7c2c2007d5d5c27d9eb8315a495\n'}]",0,563475,308587c1d61786f25f64347289e6fdb657e2b54f,21,5,4,11536,,,0,"Record container events on rebuild

Change-Id: Ibb7b864c35fdc7c2c2007d5d5c27d9eb8315a495
",git fetch https://review.opendev.org/openstack/zun refs/changes/75/563475/2 && git format-patch -1 --stdout FETCH_HEAD,['zun/compute/manager.py'],1,1048e93eb616d4856d63e7d768a4d60502776813,, @wrap_container_event(prefix='compute'),,1,0
openstack%2Fopenstack-manuals~master~I596df42c03c94a20f6980da77e697d6b89076e60,openstack/openstack-manuals,master,I596df42c03c94a20f6980da77e697d6b89076e60,Add Monasca service and client documentation,MERGED,2018-05-16 09:12:30.000000000,2018-05-17 14:01:45.000000000,2018-05-17 14:01:45.000000000,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 16222}, {'_account_id': 20156}, {'_account_id': 22348}, {'_account_id': 27143}]","[{'number': 1, 'created': '2018-05-16 09:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f99140189e3ee2492763d4b2ef2403a7ccd2f2dd', 'message': 'Add Monasca service and client documentation\n\nDepends-On: https://review.openstack.org/568790\nChange-Id: I596df42c03c94a20f6980da77e697d6b89076e60\n'}, {'number': 2, 'created': '2018-05-16 09:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/dab5037200fbfbf25dee8b6ae51b66e9435c752b', 'message': 'Add Monasca service and client documentation\n\nDepends-On: https://review.openstack.org/567852\nChange-Id: I596df42c03c94a20f6980da77e697d6b89076e60\n'}, {'number': 3, 'created': '2018-05-16 14:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9eff1435049c1ad331ed165f67600f3d7f2a3299', 'message': 'Add Monasca service and client documentation\n\nDepends-On: https://review.openstack.org/567852\nChange-Id: I596df42c03c94a20f6980da77e697d6b89076e60\n'}, {'number': 4, 'created': '2018-05-16 18:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/132de1cdfe4df80e317efe84741f88f660e79430', 'message': 'Add Monasca service and client documentation\n\nDepends-On: https://review.openstack.org/567852\nChange-Id: I596df42c03c94a20f6980da77e697d6b89076e60\n'}, {'number': 5, 'created': '2018-05-17 09:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/755e5c40e0b67106c272f224974ea8c1f0851447', 'message': 'Add Monasca service and client documentation\n\nDepends-On: https://review.openstack.org/567852\nChange-Id: I596df42c03c94a20f6980da77e697d6b89076e60\n'}, {'number': 6, 'created': '2018-05-17 09:29:00.000000000', 'files': ['www/project-data/latest.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8477a9258ed8c5ff19df1df0a9a6578a3ff7898b', 'message': 'Add Monasca service and client documentation\n\nChange-Id: I596df42c03c94a20f6980da77e697d6b89076e60\n'}]",9,568796,8477a9258ed8c5ff19df1df0a9a6578a3ff7898b,31,7,6,16222,,,0,"Add Monasca service and client documentation

Change-Id: I596df42c03c94a20f6980da77e697d6b89076e60
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/96/568796/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/latest.yaml'],1,f99140189e3ee2492763d4b2ef2403a7ccd2f2dd,568796,- name: monasca service: Monitoring service type: service - name: python-monascaclient service: Monitoring service client type: service-client description: monasca client,# - name: python-monascaclient # service: Monitoring client # type: service-client # description: monasca client# - monasca,8,5
openstack%2Fopenstack-ansible-repo_server~stable%2Fqueens~Ib391d17e5038a355a558aa3f041ed58ede7dad4a,openstack/openstack-ansible-repo_server,stable/queens,Ib391d17e5038a355a558aa3f041ed58ede7dad4a,Support devpi as the upstream pip server,MERGED,2018-05-15 13:45:21.000000000,2018-05-17 14:00:56.000000000,2018-05-17 14:00:56.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-05-15 13:45:21.000000000', 'files': ['templates/openstack-slushee.vhost.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/c97a30063749091ea018c853d6e39e8add5f0d3e', 'message': 'Support devpi as the upstream pip server\n\ndevpi serves packages from url starting +f/. The devpi source code\nsuggets that +e may also be used but is not seen when using devpi\nas a caching proxy.\n\nChange-Id: Ib391d17e5038a355a558aa3f041ed58ede7dad4a\n(cherry picked from commit bcb29bd5c5e376d3b0fb71b482f35d08571c3bd4)\n'}]",0,568586,c97a30063749091ea018c853d6e39e8add5f0d3e,13,5,1,6816,,,0,"Support devpi as the upstream pip server

devpi serves packages from url starting +f/. The devpi source code
suggets that +e may also be used but is not seen when using devpi
as a caching proxy.

Change-Id: Ib391d17e5038a355a558aa3f041ed58ede7dad4a
(cherry picked from commit bcb29bd5c5e376d3b0fb71b482f35d08571c3bd4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/86/568586/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/openstack-slushee.vhost.j2'],1,c97a30063749091ea018c853d6e39e8add5f0d3e,repo-devpi-stable/queens, location /+f { {% if repo_nginx_pypi_upstream | match('.*:443$') %} proxy_pass https://pypi; {% else %} proxy_pass http://pypi; {% endif %} } ,,8,0
openstack%2Fzun~master~Ie6e29343b9a7e38cf1b7a4f1344191cdf668b9eb,openstack/zun,master,Ie6e29343b9a7e38cf1b7a4f1344191cdf668b9eb,Add back the test_container_reboot test,MERGED,2018-05-10 01:39:34.000000000,2018-05-17 14:00:13.000000000,2018-05-17 14:00:13.000000000,"[{'_account_id': 17130}, {'_account_id': 21428}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 25695}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-05-10 01:39:34.000000000', 'files': ['zun/tests/unit/compute/test_compute_manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/028ae2c5bf41b951cca954088c09edd42ee8c258', 'message': 'Add back the test_container_reboot test\n\nThis unit test was accidently deleted in\nhttps://review.openstack.org/#/c/559720/\n\nChange-Id: Ie6e29343b9a7e38cf1b7a4f1344191cdf668b9eb\n'}]",0,567454,028ae2c5bf41b951cca954088c09edd42ee8c258,11,6,1,11536,,,0,"Add back the test_container_reboot test

This unit test was accidently deleted in
https://review.openstack.org/#/c/559720/

Change-Id: Ie6e29343b9a7e38cf1b7a4f1344191cdf668b9eb
",git fetch https://review.opendev.org/openstack/zun refs/changes/54/567454/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/tests/unit/compute/test_compute_manager.py'],1,028ae2c5bf41b951cca954088c09edd42ee8c258,," def test_container_reboot(self, mock_reboot, mock_save, mock_event_finish, mock_event_start): container = Container(self.context, **utils.get_test_container()) self.compute_manager._do_container_reboot(self.context, container, 10) mock_save.assert_called_with(self.context) mock_reboot.assert_called_once_with(self.context, container, 10) mock_event_start.assert_called_once() mock_event_finish.assert_called_once() self.assertEqual( (self.context, container.uuid, 'compute__do_container_reboot'), mock_event_finish.call_args[0]) self.assertIsNone(mock_event_finish.call_args[1]['exc_val']) self.assertIsNone(mock_event_finish.call_args[1]['exc_tb']) @mock.patch.object(ContainerActionEvent, 'event_start') @mock.patch.object(ContainerActionEvent, 'event_finish') @mock.patch.object(Container, 'save') @mock.patch.object(fake_driver, 'reboot')",,18,0
openstack%2Ftraining-guides~master~I96b8cc02512f88487368d724f6f02f34bf2ff5a5,openstack/training-guides,master,I96b8cc02512f88487368d724f6f02f34bf2ff5a5,[upstream] Remove Duplicated Content,MERGED,2018-05-15 01:53:47.000000000,2018-05-17 13:59:30.000000000,2018-05-17 13:59:30.000000000,"[{'_account_id': 7198}, {'_account_id': 14482}, {'_account_id': 15334}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 01:53:47.000000000', 'files': ['doc/upstream-training/source/slides/howitsmade-release-cycle.rst', 'doc/upstream-training/source/slides/workflow-project-status-and-zuul.rst', 'doc/upstream-training/source/slides/howitsmade-governance.rst', 'doc/upstream-training/source/slides/howitsmade-official-projects.rst', 'doc/upstream-training/source/slides/workflow-commit-message.rst', 'doc/upstream-training/source/slides/howitsmade-events.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/e3cdf35f8573f64321b167ce63ef2825ab69103b', 'message': '[upstream] Remove Duplicated Content\n\nThis patch remove more content that exists in the contributor guide,\nstripping slides down to just exercises.\n\nChange-Id: I96b8cc02512f88487368d724f6f02f34bf2ff5a5\n'}]",1,568408,e3cdf35f8573f64321b167ce63ef2825ab69103b,9,5,1,16708,,,0,"[upstream] Remove Duplicated Content

This patch remove more content that exists in the contributor guide,
stripping slides down to just exercises.

Change-Id: I96b8cc02512f88487368d724f6f02f34bf2ff5a5
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/08/568408/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/slides/howitsmade-release-cycle.rst', 'doc/upstream-training/source/slides/workflow-project-status-and-zuul.rst', 'doc/upstream-training/source/slides/howitsmade-governance.rst', 'doc/upstream-training/source/slides/howitsmade-official-projects.rst', 'doc/upstream-training/source/slides/workflow-commit-message.rst', 'doc/upstream-training/source/slides/howitsmade-events.rst']",6,e3cdf35f8573f64321b167ce63ef2825ab69103b,last_min_cleanup,Exercise 3 ========== - Look up the location and dates of the next Summit/Forum.,"Regional Events =============== - OpenStack Days - OpenStack Birthday Celebration - User Group Meetups OpenStack Days ============== - Regional 'Mini-Summit' - Hosted annually by local OpenStack User Groups and companies - Endorsed by the Foundation - Growing in number (26 in 2016) OpenStack Birthday Celebration ============================== - Held by local groups to celebrate another year of OpenStack - 2017 was 7th birthday of OpenStack User Group Meetups ================== - Smaller scale than OpenStack Days Events - Some are more development focused while others are more user and ops focused - https://groups.openstack.org/ Global Events and Releases ========================== - Each Release has two main events: PTG and the Summit - The PTG is scheduled around the start of a release to plan release goals - Summits take place around the middle of a release to exhibit accomplishments and get feedback from users on the most recent release Project Team Gathering (PTG) ============================ - A gathering of projects teams and contributors - Dedicated and detailed technical discussions - Useful for participants if they are already working with a project team - Not good as an entry point .. note https://www.openstack.org/ptg https://www.openstack.org/ptg/ptgfaq/Summit & Forum ============== - The summit is a biannual conference with keynotes, presentations, and panel discussions - Forum: - User focused discussions at the Forum to collect feedback for developers - Better entry point for new contributors finding their place in the community Types of sessions at the Forum ============================== - Fishbowls: Open moderated discussions - Project Onboarding Sessions: A place for new contributors to ask questions and get to know other contributors to the project - Hacking Rooms: Reservable rooms for projects to gather for technical discussions",37,870
openstack%2Fproject-team-guide~master~I8e7f90e115dadd34b4c0b1c22714d50e7cce71ab,openstack/project-team-guide,master,I8e7f90e115dadd34b4c0b1c22714d50e7cce71ab,Update Documentation per project team docs migration,MERGED,2018-02-14 16:04:56.000000000,2018-05-17 13:56:46.000000000,2018-05-17 13:56:46.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-14 16:04:56.000000000', 'files': ['doc/source/documentation.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/8a088e70d5cdd805aa9759aa07527a16815e5532', 'message': 'Update Documentation per project team docs migration\n\nChange-Id: I8e7f90e115dadd34b4c0b1c22714d50e7cce71ab\n'}]",0,544514,8a088e70d5cdd805aa9759aa07527a16815e5532,8,4,1,20156,,,0,"Update Documentation per project team docs migration

Change-Id: I8e7f90e115dadd34b4c0b1c22714d50e7cce71ab
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/14/544514/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/documentation.rst'],1,8a088e70d5cdd805aa9759aa07527a16815e5532,documentation,"Documentation for Operators and Users ===================================== OpenStack projects maintain their own documentation for operators and end users. This includes information on running and operating the software, concept guides, reference documentation, and more. There are also full-length manuals for OpenStack operators and users available, managed in their own repositories. Often these manuals are authored by operators and users themselves, with help from project teams.The documentation team maintains a `guide with instructions on how to contribute documentation <https://docs.openstack.org/doc-contrib-guide/>`_.","Documentation for Operators =========================== Full length operating manuals for OpenStack are managed in their own repositories and are written using RST. Often these manuals are authored by operators themselves, with help from project teams.The documentation team maintains a `guide with instructions on how to contribute documentation <http://docs.openstack.org/contributor-guide/index.html>`_. To look up the source for a particular document, refer to the `content specification page <http://docs.openstack.org/contributor-guide/blueprints-and-specs.html>`_.",10,9
openstack%2Fproject-team-guide~master~Ieef749c1486c120e491c62344b6f0e1e03570267,openstack/project-team-guide,master,Ieef749c1486c120e491c62344b6f0e1e03570267,Update dependency-management doc,MERGED,2018-05-16 15:35:08.000000000,2018-05-17 13:56:04.000000000,2018-05-17 13:56:04.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 15:35:08.000000000', 'files': ['doc/source/dependency-management.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/4d547ed086da578cf56d893f7e261f8bf6ce77de', 'message': 'Update dependency-management doc\n\nThis makes two changes:\n\n1. Clarifies that version specifiers in global-requirements.txt\n   should only be for excluding known bad versions, not for setting\n   minimum required versions of dependencies.\n\n2. The tox section is removed since upper-constraints has been used\n   in tox (unit test, pep8, etc) jobs for several releases now.\n\nAlternative to #2, we could leave the tox section in place but update\nit to indicate that except for the new(ish) lower-constraints jobs,\nall tox jobs should be using branch-specific upper-constraints.\n\nChange-Id: Ieef749c1486c120e491c62344b6f0e1e03570267\n'}]",1,568883,4d547ed086da578cf56d893f7e261f8bf6ce77de,8,4,1,6873,,,0,"Update dependency-management doc

This makes two changes:

1. Clarifies that version specifiers in global-requirements.txt
   should only be for excluding known bad versions, not for setting
   minimum required versions of dependencies.

2. The tox section is removed since upper-constraints has been used
   in tox (unit test, pep8, etc) jobs for several releases now.

Alternative to #2, we could leave the tox section in place but update
it to indicate that except for the new(ish) lower-constraints jobs,
all tox jobs should be using branch-specific upper-constraints.

Change-Id: Ieef749c1486c120e491c62344b6f0e1e03570267
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/83/568883/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dependency-management.rst'],1,4d547ed086da578cf56d893f7e261f8bf6ce77de,reqs-updates,"(such as -e or -f) may not be used. Environment markers and comments are permitted. Version specifiers are only allowed for excluding (blacklisting) versions, not setting minimum required versions. Minimum required versions should be specified in ``lower-constraints.txt`` per-project. A single distribution may be listed more than once if different specifiers are required with different markers - for instance, if a dependency has dropped Python 2.7 support.","(such as -e or -f) may not be used. Version specifiers, environment markers and comments are all permitted. A single distribution may be listed more than once if different specifiers are required with different markers - for instance, if a dependency has dropped Python 2.7 support.Tox +++ We are working on the necessary changes to use ``upper-constraints.txt`` in tox jobs but it is not yet complete. ",7,10
openstack%2Fcinder~master~I74011d331337875f8e2510ea68b369672719fd27,openstack/cinder,master,I74011d331337875f8e2510ea68b369672719fd27,[DNM] Cisco-CI-Experimental-Branch,ABANDONED,2018-05-16 12:40:09.000000000,2018-05-17 13:46:12.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14208}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 28080}]","[{'number': 1, 'created': '2018-05-16 12:40:09.000000000', 'files': ['cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a563a5d1ad067cb43dce73de360eaf5bed29675c', 'message': '[DNM] Cisco-CI-Experimental-Branch\n\nChange-Id: I74011d331337875f8e2510ea68b369672719fd27\n'}]",0,568831,a563a5d1ad067cb43dce73de360eaf5bed29675c,21,15,1,28080,,,0,"[DNM] Cisco-CI-Experimental-Branch

Change-Id: I74011d331337875f8e2510ea68b369672719fd27
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/568831/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py'],1,a563a5d1ad067cb43dce73de360eaf5bed29675c,," """"""Configuration specific to SAN context values.."""""""," """"""Configuration specific to SAN context values""""""",1,1
openstack%2Fcinder~master~I938ca80a2aadf84322d03ef91fd7e736baf31fca,openstack/cinder,master,I938ca80a2aadf84322d03ef91fd7e736baf31fca,[DNM] Cisco-CI-Experimental-Branch: cinder-znm-dev,ABANDONED,2018-05-17 09:12:41.000000000,2018-05-17 13:45:54.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 14208}, {'_account_id': 16897}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24863}, {'_account_id': 28080}]","[{'number': 1, 'created': '2018-05-17 09:12:41.000000000', 'files': ['cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f037031f25b9bf08583c3ef3d60b5881c16375cb', 'message': '[DNM] Cisco-CI-Experimental-Branch: cinder-znm-dev\n\nChange-Id: I938ca80a2aadf84322d03ef91fd7e736baf31fca\n'}]",0,569064,f037031f25b9bf08583c3ef3d60b5881c16375cb,13,10,1,28080,,,0,"[DNM] Cisco-CI-Experimental-Branch: cinder-znm-dev

Change-Id: I938ca80a2aadf84322d03ef91fd7e736baf31fca
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/569064/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py'],1,f037031f25b9bf08583c3ef3d60b5881c16375cb,cinder-znm-dev," """"""Initializing the client"""""""," """"""Initializing the client.""""""",1,1
openstack%2Frequirements~stable%2Fqueens~Ia5826a083fdf5f8e5ddd643f7011c7af828a614a,openstack/requirements,stable/queens,Ia5826a083fdf5f8e5ddd643f7011c7af828a614a,update constraint for python-vitrageclient to new release 2.1.0,MERGED,2018-05-15 17:09:56.000000000,2018-05-17 13:43:05.000000000,2018-05-17 13:43:05.000000000,"[{'_account_id': 6593}, {'_account_id': 8871}, {'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-05-15 17:09:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d94abc043160755ea41a47ded5187aebb127fc29', 'message': 'update constraint for python-vitrageclient to new release 2.1.0\n\nChange-Id: Ia5826a083fdf5f8e5ddd643f7011c7af828a614a\nmeta:version: 2.1.0\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ifat Afek <ifat.afek@nokia.com>\nmeta:release:Commit: Ifat Afek <ifat.afek@nokia.com>\nmeta:release:Change-Id: I8ff415ecfc41caf496e4a186cdd5c256a6e39d96\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: kaka <huang.zhiping@99cloud.net>\nmeta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>\nmeta:release:Code-Review+1: wu.chunyang <wu.chunyang@99cloud.net>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,568647,d94abc043160755ea41a47ded5187aebb127fc29,12,6,1,11131,,,0,"update constraint for python-vitrageclient to new release 2.1.0

Change-Id: Ia5826a083fdf5f8e5ddd643f7011c7af828a614a
meta:version: 2.1.0
meta:diff-start: -
meta:series: queens
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ifat Afek <ifat.afek@nokia.com>
meta:release:Commit: Ifat Afek <ifat.afek@nokia.com>
meta:release:Change-Id: I8ff415ecfc41caf496e4a186cdd5c256a6e39d96
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: kaka <huang.zhiping@99cloud.net>
meta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>
meta:release:Code-Review+1: wu.chunyang <wu.chunyang@99cloud.net>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/47/568647/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d94abc043160755ea41a47ded5187aebb127fc29,new-release,python-vitrageclient===2.1.0,python-vitrageclient===2.0.0,1,1
openstack%2Ftripleo-upgrade~master~I6d5c52801ec1ee4b0bfaea6d8124ee2a3adb74db,openstack/tripleo-upgrade,master,I6d5c52801ec1ee4b0bfaea6d8124ee2a3adb74db,Fix search for compute roles,MERGED,2018-05-10 08:07:22.000000000,2018-05-17 13:40:21.000000000,2018-05-10 21:59:08.000000000,"[{'_account_id': 8449}, {'_account_id': 18851}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-10 08:07:22.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_role.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/72e473e45b7e34b7342429591ba8ae5da3d5e5f2', 'message': 'Fix search for compute roles\n\nThis is just assuming that the compute nodes are called\ncompute-x . This is not true, specially for OSP, where the\nnodes are normally called overcloud-compute-x . So add a\nmore flexible regex, that just allows any prefix before the\ncompute- pattern\n\nChange-Id: I6d5c52801ec1ee4b0bfaea6d8124ee2a3adb74db\n'}]",0,567501,72e473e45b7e34b7342429591ba8ae5da3d5e5f2,10,5,1,6133,,,0,"Fix search for compute roles

This is just assuming that the compute nodes are called
compute-x . This is not true, specially for OSP, where the
nodes are normally called overcloud-compute-x . So add a
more flexible regex, that just allows any prefix before the
compute- pattern

Change-Id: I6d5c52801ec1ee4b0bfaea6d8124ee2a3adb74db
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/01/567501/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/overcloud_role.yaml'],1,72e473e45b7e34b7342429591ba8ae5da3d5e5f2,, awk -F':' '/^[^ \n]*compute-/ {print $1}' {{ working_dir }}/tripleo-ansible-inventory-static.yaml, awk -F':' '/^compute-/ {print $1}' {{ working_dir }}/tripleo-ansible-inventory-static.yaml,1,1
openstack%2Ftripleo-common~master~Icd25a8d579151015c9cdf56861d2be933848a723,openstack/tripleo-common,master,Icd25a8d579151015c9cdf56861d2be933848a723,Add validation for empty file system backup on Undercloud,MERGED,2018-05-14 09:28:07.000000000,2018-05-17 13:38:10.000000000,2018-05-17 13:38:10.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-14 09:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/650a259472de77c1ea6ecd6883b50c134cd6d29a', 'message': 'Add validation for empty file system backup on Undercloud\n\nThis patch works as an addition to the exclude path\nwhen executing an Undercloud backup.\n\nIn this case if we exclude all files, there is no need to execute\nthe task to create the FS backup.\n\nChange-Id: Icd25a8d579151015c9cdf56861d2be933848a723\nCloses-Bug: 1767385\n'}, {'number': 2, 'created': '2018-05-14 11:00:31.000000000', 'files': ['tripleo_common/actions/undercloud.py', 'tripleo_common/tests/actions/test_undercloud.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5578770768ef60653ff1d7b8959bf9c713a20d04', 'message': 'Add validation for empty file system backup on Undercloud\n\nThis patch works as an addition to the exclude path\nwhen executing an Undercloud backup.\n\nIn this case if we exclude all files, there is no need to execute\nthe task to create the FS backup.\n\nChange-Id: Icd25a8d579151015c9cdf56861d2be933848a723\nCloses-Bug: 1767385\n'}]",1,568245,5578770768ef60653ff1d7b8959bf9c713a20d04,12,5,2,20775,,,0,"Add validation for empty file system backup on Undercloud

This patch works as an addition to the exclude path
when executing an Undercloud backup.

In this case if we exclude all files, there is no need to execute
the task to create the FS backup.

Change-Id: Icd25a8d579151015c9cdf56861d2be933848a723
Closes-Bug: 1767385
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/568245/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/undercloud.py', 'tripleo_common/tests/actions/test_undercloud.py']",2,650a259472de77c1ea6ecd6883b50c134cd6d29a,exclude-path," self.fsemptyback = undercloud.CreateFileSystemBackup( '', '/var/tmp/undercloud-backup-ef9b_H') @mock.patch('tripleo_common.actions.base.TripleOAction.get_object_client') @mock.patch('subprocess.check_call') def test_create_empty_file_system_backup( self, mock_check_call, mock_get_object_client): self.fsemptyback.logger = mock.Mock() self.fsemptyback.run(mock_get_object_client) mock_check_call.assert_not_called() ",,24,7
openstack%2Ftripleo-upgrade~master~I5d4a102d3ad049ee1c29080cb3e47ac6a9c5b64f,openstack/tripleo-upgrade,master,I5d4a102d3ad049ee1c29080cb3e47ac6a9c5b64f,Add tag for post fast forward upgrade tasks,MERGED,2018-05-09 23:39:23.000000000,2018-05-17 13:33:26.000000000,2018-05-11 15:04:33.000000000,"[{'_account_id': 8297}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-09 23:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2f3f130819232727aa8e736051a97a8b4acc8995', 'message': 'Add tag for post fast forward upgrade tasks\n\nChange-Id: I5d4a102d3ad049ee1c29080cb3e47ac6a9c5b64f\n'}, {'number': 2, 'created': '2018-05-11 14:24:41.000000000', 'files': ['tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2db8b26795d96028ecf37748fa27c5ffd4f9918c', 'message': 'Add tag for post fast forward upgrade tasks\n\nChange-Id: I5d4a102d3ad049ee1c29080cb3e47ac6a9c5b64f\n'}]",0,567446,2db8b26795d96028ecf37748fa27c5ffd4f9918c,15,6,2,18851,,,0,"Add tag for post fast forward upgrade tasks

Change-Id: I5d4a102d3ad049ee1c29080cb3e47ac6a9c5b64f
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/46/567446/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/main.yml'],1,2f3f130819232727aa8e736051a97a8b4acc8995,tag_post_ffwd, tags: ffu_overcloud_post,,1,0
openstack%2Ftripleo-upgrade~master~I059419c6d77719f98df53bd7f38c8b9077568efa,openstack/tripleo-upgrade,master,I059419c6d77719f98df53bd7f38c8b9077568efa,Fix typo in ceph-ansible,MERGED,2018-05-11 07:58:25.000000000,2018-05-17 13:32:50.000000000,2018-05-11 14:27:49.000000000,"[{'_account_id': 8449}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-11 07:58:25.000000000', 'files': ['templates/cephosd.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1d5f1d0fd08cd07bd9f20afb861cf4e264ec45bb', 'message': 'Fix typo in ceph-ansible\n\ndedicated_devices has an extra space, that causes the\ncommand to fail\n\nChange-Id: I059419c6d77719f98df53bd7f38c8b9077568efa\n'}]",0,567791,1d5f1d0fd08cd07bd9f20afb861cf4e264ec45bb,9,5,1,6133,,,0,"Fix typo in ceph-ansible

dedicated_devices has an extra space, that causes the
command to fail

Change-Id: I059419c6d77719f98df53bd7f38c8b9077568efa
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/91/567791/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cephosd.yaml.j2'],1,1d5f1d0fd08cd07bd9f20afb861cf4e264ec45bb,, dedicated_devices:, dedicated_devices:,1,1
openstack%2Frequirements~stable%2Fqueens~I384c2550884d1d8c8b6e0b998403ac6b5eab1b9d,openstack/requirements,stable/queens,I384c2550884d1d8c8b6e0b998403ac6b5eab1b9d,update constraint for ovsdbapp to new release 0.10.1,MERGED,2018-05-16 16:00:31.000000000,2018-05-17 13:28:57.000000000,2018-05-17 13:28:57.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-05-16 16:00:31.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/460706f3575d5ab0ff4c01a344cd003d0f8b9438', 'message': 'update constraint for ovsdbapp to new release 0.10.1\n\nChange-Id: I384c2550884d1d8c8b6e0b998403ac6b5eab1b9d\nmeta:version: 0.10.1\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Miguel Angel Ajo Pelayo <majopela@redhat.com>\nmeta:release:Commit: Miguel Angel Ajo <mangelajo@redhat.com>\nmeta:release:Change-Id: I927e9f8581c014986921872b11bf2787cf2e28bf\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,568891,460706f3575d5ab0ff4c01a344cd003d0f8b9438,9,5,1,11131,,,0,"update constraint for ovsdbapp to new release 0.10.1

Change-Id: I384c2550884d1d8c8b6e0b998403ac6b5eab1b9d
meta:version: 0.10.1
meta:diff-start: -
meta:series: queens
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Miguel Angel Ajo Pelayo <majopela@redhat.com>
meta:release:Commit: Miguel Angel Ajo <mangelajo@redhat.com>
meta:release:Change-Id: I927e9f8581c014986921872b11bf2787cf2e28bf
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/568891/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,460706f3575d5ab0ff4c01a344cd003d0f8b9438,new-release,ovsdbapp===0.10.1,ovsdbapp===0.10.0,1,1
openstack%2Ftempest~master~I7f4bfea2d741c3806aed18d0966be79bf12cbedc,openstack/tempest,master,I7f4bfea2d741c3806aed18d0966be79bf12cbedc,Update test_get_service_by_service_and_host_name for nova-conductor,ABANDONED,2018-05-17 09:58:15.000000000,2018-05-17 13:27:51.000000000,,"[{'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 09:58:15.000000000', 'files': ['tempest/api/compute/admin/test_services.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4f2bf753dd2f5bf8c9cebb2590e01b3b4b12e8ca', 'message': 'Update test_get_service_by_service_and_host_name for nova-conductor\n\nThis patch updates the test_get_service_by_service_and_host_name()\ntest case to consider the case of the binary being ""nova-conductor""\nin which case if the super-conductor and cell conductor are on the\nsame node, it will return 2 services instead of 1.\n\nChange-Id: I7f4bfea2d741c3806aed18d0966be79bf12cbedc\n'}]",0,569079,4f2bf753dd2f5bf8c9cebb2590e01b3b4b12e8ca,5,3,1,26936,,,0,"Update test_get_service_by_service_and_host_name for nova-conductor

This patch updates the test_get_service_by_service_and_host_name()
test case to consider the case of the binary being ""nova-conductor""
in which case if the super-conductor and cell conductor are on the
same node, it will return 2 services instead of 1.

Change-Id: I7f4bfea2d741c3806aed18d0966be79bf12cbedc
",git fetch https://review.opendev.org/openstack/tempest refs/changes/79/569079/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_services.py'],1,4f2bf753dd2f5bf8c9cebb2590e01b3b4b12e8ca,update-test-services-by-binary," if binary_name == ""nova-conductor"": # cell conductor and super-conductor self.assertEqual(2, len(services)) else: self.assertEqual(1, len(services))"," self.assertEqual(1, len(services))",5,1
openstack%2Ftraining-guides~master~I7fd731a6b10ebe1ff30b8191c545a58acc9036ca,openstack/training-guides,master,I7fd731a6b10ebe1ff30b8191c545a58acc9036ca,Imported Translations from Zanata,MERGED,2018-05-15 07:08:31.000000000,2018-05-17 13:20:31.000000000,2018-05-17 13:20:31.000000000,"[{'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 07:08:31.000000000', 'files': ['doc/upstream-training/source/locale/ja/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/tr_TR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/74b3c2499959789aeb3870c47e51f9cbcbdb640e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7fd731a6b10ebe1ff30b8191c545a58acc9036ca\n'}]",0,568473,74b3c2499959789aeb3870c47e51f9cbcbdb640e,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7fd731a6b10ebe1ff30b8191c545a58acc9036ca
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/73/568473/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/locale/ja/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/tr_TR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po']",5,74b3c2499959789aeb3870c47e51f9cbcbdb640e,zanata/translations,"""Project-Id-Version: Upstream Training Guide\n""""POT-Creation-Date: 2018-05-02 09:37+0000\n""""PO-Revision-Date: 2018-03-05 09:36+0000\n""","""Project-Id-Version: Upstream Training Guide 2016.2\n""""POT-Creation-Date: 2018-03-01 07:40+0000\n""""PO-Revision-Date: 2018-03-05 09:37+0000\n""msgid ""#openstack-meeting, #openstack-meeting-cp, etc."" msgstr ""#openstack-meeting, #openstack-meeting-cp, etc."" msgid """" ""**Saturday, November 04 (2 to 6pm), 2017 - Sunday, November 05 (9am to 6pm), "" ""2017**"" msgstr """" ""** Samstag, 04. November (14:00 bis 18:00) 2017 - Sonntag, 5. November "" ""(09:00 bis 18:00) 2017 **"" msgid ""**Tuesday, September 26, 2017 at 11:00 a.m. to 5:30 p.m. (local time)**"" msgstr """" ""** Dienstag, 26. September 2017 um 11:00 Uhr bis 17:30 Uhr (Ortszeit) **"" msgid ""**Wednesday, October 18, 2017 at 08:30 a.m. to 4:30 p.m. (local time)**"" msgstr ""** Mittwoch, 18. Oktober 2017 um 08:30 Uhr bis 16:30 Uhr (Ortszeit) **"" msgid ""1.5 Days"" msgstr ""1,5 Tage"" msgid ""A blueprint is a description of a solution"" msgstr ""Ein Blueprint ist die Beschreibung einer Lösung"" msgid ""A board is a collection of worklists"" msgstr ""Ein Board ist eine Sammlung von Arbeitslisten"" msgid ""A place for listing and planning specifications for work to be done"" msgstr """" ""Ein Ort für die Auflistung und Planung Spezifikationen, welche Arbeit zu "" ""tun ist"" msgid """" ""A possible setup could be a board is a project and the worklists on the "" ""board could be different releases or bugs versus implementations"" msgstr """" ""Ein mögliches Setup könnte ein Board als Projekt sein und die Arbeitslisten "" ""auf dem Board könnten unterschiedliche Releases oder Bugs im Vergleich zu "" ""Implementierungen sein"" msgid ""A sample presentation is given by the teacher, as an example"" msgstr ""Eine Beispielpräsentation wird vom Lehrer als Beispiel gegeben"" msgid ""A story is a work item such as a bug or a new feature"" msgstr ""Eine Story ist eine Arbeitsaufgabe wie ein Bug oder ein neues Feature"" msgid ""API first implementation"" msgstr ""API erste Implementierung"" msgid """" ""ATC's should be proposed into `projects.yaml <http://git.openstack.org/cgit/"" ""openstack/governance/tree/reference/projects.yaml>`_ under ``extra-atcs`` of "" ""the actual project, but not after the `Extra-ATC's deadline <https://"" ""releases.openstack.org/pike/schedule.html#p-extra-atcs>`_ of the cycle "" ""expired."" msgstr """" ""ATCs sollten in \""projects.yaml\"" vorgeschlagen werden <http://git.openstack."" ""org/cgit/openstack/governance/tree/reference/projects.yaml> `` unter `` "" ""extra-atcs`` des eigentlichen Projektes, aber nicht nach dem `Extra-ATC-"" ""Termin <https://releases.openstack.org/pike/schedule.html#p-extra-atcs> `` "" ""des abgelaufenen Zykluses."" msgid ""Accounts"" msgstr ""Konten"" msgid ""All emails are archived"" msgstr ""Alle E-Mails sind archiviert"" msgid """" ""Apply for individual membership (recommended), create a single sign-on "" ""account and sign the ICLA"" msgstr """" ""Bewerben Sie sich für einzelne Mitgliedschaft (empfohlen), erstellen Sie ein "" ""einziges Anmeldekonto und unterzeichnen Sie die ICLA"" msgid """" ""Article: `Get up to speed with the OpenStack Upstream Institute <http://"" ""superuser.openstack.org/articles/openstack-upstream-institute-update/>`_"" msgstr """" ""Artikel: `Starten mit dem OpenStack Upstream Institute <http://superuser."" ""openstack.org/articles/openstack-upstream-institute-update/> `_"" msgid ""Assignee: the developer working on the fix"" msgstr ""Bearbeiter: Der Entwickler arbeitet an der Fixierung"" msgid ""Being phased out over the next few releases"" msgstr ""Im Laufe der nächsten Versionen auslaufend"" msgid ""Better for cross project coordination"" msgstr ""Besser für Cross-Projekt-Koordination"" msgid ""Blueprints"" msgstr ""Blueprints"" msgid ""Blueprints can have an associated spec"" msgstr ""Blueprints können eine zugehörige Spezifikation haben"" msgid ""Bugs"" msgstr ""Bugs"" msgid """" ""Bugs: - Issues with current code - Items that need to be changed or updated"" msgstr """" ""Bugs: - Probleme mit dem aktuellen Code - Elemente, die geändert oder "" ""aktualisiert werden müssen"" msgid ""Channel Logs: http://eavesdrop.openstack.org/irclogs/"" msgstr ""Channel Logs: http://eavesdrop.openstack.org/irclogs/"" msgid """" ""Common place to have people in a project collaborate on larger projects and "" ""planning of events"" msgstr """" ""Üblicher Ort, an dem Projektteilnehmer an größeren Projekten "" ""zusammenarbeiten oder Veranstaltungen planen"" msgid ""Core reviewer"" msgstr ""Core Reviewer"" msgid """" ""Create a worklist, with a story that has at least two tasks in the sandbox "" ""enivronment. After it's been created assign the tasks to yourself."" msgstr """" ""Erstellen Sie eine Arbeitsliste, mit einer Story, die mindestens zwei "" ""Aufgaben im Sandbox Enivronment hat. Nachdem sie erstellt wurde, ordnen Sie "" ""die Aufgaben selbst zu."" msgid """" ""Create and submit a bug or blueprint to our sandbox repository. Include at "" ""least one tag when creating your bug. Once it has been created, assign it to "" ""yourself."" msgstr """" ""Erstellen und senden Sie einen Bug oder Blueprint zu unserem Sandbox-"" ""Repository. Fügen Sie mindestens ein Tag bei der Erstellung Ihres Bugs ein. "" ""Sobald es erstellt wurde, ordnen Sie es sich selbst zu."" msgid ""Do you work at a company?"" msgstr ""Arbeiten Sie für eine Firma?"" msgid ""Documentation: http://docs.openstack.org/developer/devstack/"" msgstr ""Dokumentation: http://docs.openstack.org/developer/devstack/"" msgid ""Don't -1 for spelling mistakes, wording or missing details"" msgstr ""Kein -1 für Buchstabierfehler, Wortlaut oder fehlende Details"" msgid ""Draft inline comments"" msgstr ""Entwurf von Inline-Kommentaren"" msgid ""Each item on a worklist is placed on a 'card' in the worklist"" msgstr """" ""Jedes Element auf einer Arbeitsliste wird auf einer 'card' in der "" ""Arbeitsliste platziert"" msgid ""Each project and working group also has its own wiki page"" msgstr ""Jedes Projekt und jede Arbeitsgruppe hat auch eine eigene Wiki-Seite"" msgid ""Each project and working group has its own channel"" msgstr ""Jede Projekt- und Arbeitsgruppe hat einen eigenen Kanal"" msgid ""Etherpads"" msgstr ""Etherpads"" msgid ""Exercise #1"" msgstr ""Übung #1"" msgid ""Exercise: add an error and match it to the Jenkins message"" msgstr """" ""Übung: fügen Sie einen Fehler hinzu und passen Sie ihn an die Jenkins-"" ""Nachricht an"" msgid ""Filed against a specific OpenStack project(s)"" msgstr ""Abgelegt gegen ein bestimmtes OpenStack-Projekt (e)"" msgid ""Generally has information about who the PTL and cores are"" msgstr """" ""Im Allgemeinen gibt es Informationen darüber, wer die PTL und Kern-"" ""Mitglieder sind"" msgid ""Gerrit will automatically set the status"" msgstr ""Gerrit setzt automatisch den Status"" msgid """" ""Good source of info about when and in what channel regular meetings are held"" msgstr """" ""Gute Informationsquelle darüber, wann und in welchem ​​Kanal regelmäßige "" ""Treffen stattfinden"" msgid ""IRC Channels"" msgstr ""IRC Kanäle"" msgid ""IRC Logs"" msgstr ""IRC-Protokolle"" msgid ""IRC meetings: http://eavesdrop.openstack.org/"" msgstr ""IRC-Meetings: http://eavesdrop.openstack.org/"" msgid """" ""If your contribution is on behalf of a company, have your managers sign the "" ""Corporate Contributor License Agreement"" msgstr """" ""Wenn Ihr Beitrag im Namen einer Firma ist, haben Ihre Manager das Corporate "" ""Contributor License Agreement zu unterzeichnen"" msgid ""Importance and Milestones can only be set by cores of the project"" msgstr """" ""Wichtigkeit und Meilensteine ​​können nur durch Kerne des Projektes "" ""eingestellt werden"" msgid ""Inline comments"" msgstr ""Inline-Kommentare"" msgid ""Install git review"" msgstr ""Installieren git review"" msgid ""Join the #openstack-101 channel"" msgstr ""Treten Sie dem #openstack-101 Kanal bei"" msgid """" ""Join the channel of the project(s) you are interested in and find the logs "" ""from the most recent meeting."" msgstr """" ""Treten Sie dem Kanal des Projekts, an dem Sie interessiert sind, bei und "" ""finden Sie die Logs des aktuellsten Meetings."" msgid ""Launchpad"" msgstr ""Launchpad"" msgid """" ""Launchpad uses blueprints and bugs as the trackable items work supplemented "" ""with specs."" msgstr """" ""Launchpad verwendet Blueprints und Bugs als die verfolgbaren Arbeitsaufgaben "" ""ergänzt mit Spezifikationen."" msgid """" ""Logs of meetings and channels are archived so that they can be referenced "" ""later on"" msgstr """" ""Protokolle von Besprechungen und Kanälen werden archiviert, so dass sie "" ""später referenziert werden können"" ""Look through the list of mailing lists and subscribe to at least one list of "" ""interest. Once subscribed, locate the archives for that ML."" msgstr """" ""Schauen Sie durch die Liste der Mailinglisten und abonnieren Sie mindestens "" ""eine Liste von Interesse. Einmal abonniert, finden Sie die Archive für die "" ""ML."" msgid """"msgid """" ""Look up when the next meeting is for the channel you joined and where the "" ""meeting is conducted (#openstack-meeting, #openstack-meeting-3, etc)."" msgstr """" ""Schauen Sie nach, wann das nächste Treffen für den Kanal ist, dem Sie "" ""beigetreten sind und wo das Treffen stattfindet (#openstack-meeting, "" ""#openstack-meeting-3, etc)."" msgid ""Mailing Lists"" msgstr ""Mailinglisten"" msgid ""Mailing Lists (ML)"" msgstr ""Mailinglisten (ML)"" msgid ""Meeting Channels:"" msgstr ""Meetingkanäle:"" msgid ""Meeting Logs: http://eavesdrop.openstack.org/meetings/"" msgstr ""Besprechungsprotokolle: http://eavesdrop.openstack.org/meetings/"" msgid ""Meetings typically follow an agenda"" msgstr ""Meetings folgen in der Regel einer Agenda"" msgid """" ""More information: http://www.meetup.com/Japan-OpenStack-User-Group/"" ""events/223005607/"" msgstr """" ""Weitere Informationen: http://www.meetup.com/Japan-OpenStack-User-Group/"" ""events/223005607/"" msgid """" ""More information: http://www.meetup.com/Japan-OpenStack-User-Group/"" ""events/231744095/"" msgstr """" ""Weitere Informationen: http://www.meetup.com/Japan-OpenStack-User-Group/"" ""events/231744095/"" msgid """" ""More information: http://www.openstack.org/blog/2014/11/openstack-upstream-"" ""training-in-japan/"" msgstr """" ""Weitere Informationen: http://www.openstack.org/blog/2014/11/openstack-"" ""upstream-training-in-japan/"" msgid ""More kanban style structure"" msgstr ""Mehr Kanban Stil Struktur"" msgid ""More than 40 different ML's"" msgstr ""Mehr als 40 verschiedene MLs"" msgid ""Most projects use the OpenStack wiki to post agendas"" msgstr """" ""Die meisten Projekte nutzen das OpenStack Wiki, um die Agenda zu posten"" msgid """" ""New Features: - Specs are formal write ups of implementations that affect "" ""the whole project - Specs live in a per project repository"" msgstr """" ""Neue Features: - Specs sind formale Beschreibungen von Implementierungen, "" ""die das gesamte Projekt beeinflussen - Specs befinden sich in einem Projekt-"" ""Repository"" msgid ""New agreement"" msgstr ""Neue Vereinbarung"" msgid ""New, open-source task tracking tool"" msgstr ""Neues, Open-Source-Task-Tracking-Tool"" msgid ""No agreement"" msgstr ""Keine Einigung"" msgid """" ""No master list of etherpads - harder to find what you are looking for "" ""without having looked at it before or without asking for the URL"" msgstr """" ""Keine Übersicht aller Etherpads - macht es schwieriger das Gewünschte zu "" ""finden ohne nach der URL zu fragen"" msgid ""November 04, 2017"" msgstr ""04. November 2017"" msgid ""OpenStack Days Nordic"" msgstr ""OpenStack Tage Nordic"" msgid ""OpenStack Days UK"" msgstr ""OpenStack Days UK"" msgid ""OpenStack Foundation Account"" msgstr ""OpenStack Foundation Account"" msgid ""OpenStack Summit Sydney"" msgstr ""OpenStack Summit Sydney"" msgid ""Others: https://wiki.openstack.org/wiki/Meetings"" msgstr ""Andere: https://wiki.openstack.org/wiki/Meetings"" msgid """" ""Please see the `Becoming a member of the OpenStack community Part 1 <https://"" ""openstackdaysnordic2017.sched.com/event/9kSn>`_ and `Becoming a member of "" ""the OpenStack community Part 2 <https://openstackdaysnordic2017.sched.com/"" ""event/BNkw>`_ pages for class information and more details."" msgstr """" ""Bitte sehen Sie die`Werden Sie Mitglied der OpenStack Community Teil 1 "" ""<https://openstackdaysnordic2017.sched.com/event/9kSn> `_ und` Ein Mitglied "" ""der OpenStack Community Teil 2 werden <https://openstackdaysnordic2017.sched."" ""com/event/BNkw> `_ Seiten für Klasseninformationen und weitere Details."" msgid """" ""Please see the `OpenStack Upstream Institute Office Hours <https://"" ""openstackdays.uk/2017/?schedule=upstream-developer-training-1>`_ class "" ""information for more details."" msgstr """" ""Bitte beachten Sie die `OpenStack Upstream Institute Office Stunden <https://"" ""openstackdays.uk/2017/?schedule=upstream-developer-training-1> `_ "" ""Informationen für weitere Details."" msgid ""Project Channels:"" msgstr ""Projektkanäle:"" msgid ""Recommended to join, but not mandatory for code contributions"" msgstr ""Empfohlen zu verbinden, aber nicht obligatorisch für Codebeiträge"" msgid ""Registration and Accounts"" msgstr ""Registrierung und Konten"" msgid ""Regular reviewer"" msgstr ""Regelmäßiger Reviewer"" msgid """" ""Release management description: http://docs.openstack.org/project-team-guide/"" ""release-management.html"" msgstr """" ""Release Management Beschreibung: http://docs.openstack.org/project-team-"" ""guide/release-management.html"" msgid ""Review unified"" msgstr ""Review einheitlich"" msgid ""See YOU in Copenhagen!"" msgstr ""Sehen Sie uns in Kopenhagen!"" msgid ""See YOU in London!"" msgstr ""Sehen Sie uns in London!"" msgid ""Several projects have already migrated"" msgstr ""Mehrere Projekte sind bereits migriert"" msgid ""Sign In"" msgstr ""Anmelden"" msgid ""Sign the Individual agreement"" msgstr ""Die Individualvereinbarung unterzeichnen"" msgid ""Signed agreement"" msgstr ""Unterschriebene Vereinbarung"" msgid ""Single sign-on OpenID"" msgstr ""Single Sign-On OpenID"" msgid """" ""Source file is hosted in the `governance repository <http://git.openstack."" ""org/cgit/openstack/governance/tree/reference/projects.yaml>`_"" msgstr """" ""Quelldatei wird im `governance Repository gehostet <http://git.openstack.org/"" ""cgit/openstack/governance/tree/reference/projects.yaml> `_"" msgid """" ""Statuses: New, Incomplete, Confirmed, Triaged, In Progress, Fix Committed, "" ""Fix Released, Invalid, Opinion, Won't Fix"" msgstr """" ""Status: Neu, Unvollständig, Bestätigt, Ausgelöst, In Progress, Fix "" ""Committed, Fix Freigegeben, Ungültig, Meinung, wird nicht behoben"" msgid ""Stories & Tasks"" msgstr ""Stories & Aufgaben"" msgid ""Stories can have tags to make them more searchable/filterable"" msgstr """" ""Stories können Schlagworte haben, um sie mehr durchsuchbar/filtrierbar zu "" ""machen"" msgid ""StoryBoard"" msgstr ""StoryBoard"" msgid """" ""Storyboard uses worklists, boards, stories, and tasks as the items for "" ""organizing and tracking work."" msgstr """" ""Storyboard verwendet Arbeitsvorräte, Boards, Geschichten und Aufgaben als "" ""die Elemente für die Organisation und Verfolgung der Arbeit."" msgid ""Sydney, Australia"" msgstr ""Sydney, Australien"" msgid """" ""Tags: low-hanging-fruit, documentation, security, other per project tags - "" ""https://wiki.openstack.org/wiki/BugTags"" msgstr """" ""Tags: low-hanging-fruit, dokumentation, sicherheit, andere pro projekt tags "" ""- https://wiki.openstack.org/wiki/BugTags"" msgid ""Talking in IRC Channels & Meetings"" msgstr ""Sprechen in IRC Kanäle & Meetings"" msgid ""Task tracking tool most widely used in the community"" msgstr ""Task-Tracking-Tool, am weitesten in der Gemeinschaft verwendet"" msgid ""Tasks are classified as blueprints or bugs"" msgstr ""Aufgaben werden als Blueprints oder Bugs klassifiziert"" msgid """" ""Tasks are the steps required to complete the story - Tests - Patches - "" ""Documentation"" msgstr """" ""Aufgaben sind die notwendigen Schritte, um die Story abzuschließen - Tests - "" ""Patches - Dokumentation"" msgid ""Tasks have statuses similar to Launchpad items"" msgstr ""Aufgaben haben ähnliche Status wie Launchpad-Elemente"" msgid """" ""The `Mailing Lists <https://wiki.openstack.org/wiki/Mailing_Lists>`_ wiki "" ""page describes how to subscribe to a list and describes some popular lists"" msgstr """" ""Die `Mailing Lists <https://wiki.openstack.org/wiki/Mailing_Lists> `_ Wiki-"" ""Seite beschreibt, wie man eine Liste abonniert und einige populäre Listen "" ""sind beschrieben"" msgid ""The common syntax: #openstack-<name-of-project>"" msgstr ""Die gemeinsame Syntax: #openstack- <name-of-project>"" ""The students use template slides to prepare a 5-minute presentation of their "" ""planned contribution"" msgstr """" ""Die Schüler verwenden Vorlagen-Folien, um eine 5-minütige Präsentation ihres "" ""geplanten Beitrags vorzubereiten"" msgid """"""The upcoming `OpenStack Summit <https://www.openstack.org/summit/sydney-2017/"" "">`_ will be in Sydney in November with a full training running prior to the "" ""event."" msgstr """" ""Der kommende `OpenStack Summit <https://www.openstack.org/summit/sydney-2017/"" ""> `` wird in Sydney im November mit einem vollen Training vor der "" ""Veranstaltung laufen."" msgid """" ""There are a finite number of meeting channels so that meetings are spread "" ""around. This is enforced by infra. The #openstack-meeting-cp channel is "" ""special in that it is dedicated to cross project efforts."" msgstr """" ""Es gibt eine endliche Anzahl von Meetingkanälen. Diese werden von Infra "" ""erweitert. Der #openstack-meeting-cp Kanal ist speziell für "" ""bereichsübergreifene Projekte bestimmt."" msgid """"msgid ""Tracked Items"" msgstr ""Rückverfolgte Elemente"" msgid """" ""Use either your distribution's package manager (``apt``/``yum``) or ``pip`` "" ""(recommended)"" msgstr """" ""Verwenden Sie entweder den Paketmanager Ihrer Distribution (`` apt`` / `` "" ""yum``) oder `` pip`` (empfohlen)"" ""Way for people to communicate to a larger group than those that are on IRC"" msgstr ""Weg für Leute mit einer größeren Gruppe zu kommunizieren, als im IRC"" msgid ""Ways to Communicate in OpenStack"" msgstr ""Wege zur Kommunikation in OpenStack"" msgid """"""We go into blueprints in the next few slides, so just mention them for now."" msgstr """" ""Wir gehen in die Blueprints in den nächsten Slides, also nennen wir sie "" ""jetzt."" msgid """"msgid """" ""When signing up for Foundation Membership, make sure to include the email "" ""address you’ll use for code contributions in one of the fields in your "" ""profile"" msgstr """" ""Wenn Sie sich für die Stiftungsmitgliedschaft anmelden, müssen Sie die E-"" ""Mail-Adresse, die Sie für Codebeiträge verwenden, in einem der Felder in "" ""Ihrem Profil eintragen"" msgid ""Wiki Pages"" msgstr ""Wiki Seiten"" msgid """" ""Without going into details, mention and explain what kind of tools are "" ""available when it comes to diff, merge and edit commit messages in a real-"" ""world scenario."" msgstr """" ""Ohne in Details zu gehen, zu erwähnen und zu erklären, welche Art von Tools "" ""verfügbar sind, wenn es um diff geht, fusionieren und bearbeiten Commit-"" ""Nachrichten in einem realen Szenario."" msgid ""Worklists & Boards"" msgstr ""Arbeitslisten & Boards"" msgid """" ""Worklists are user defined groupings of stories and tasks that aid in the "" ""organization of work"" msgstr """" ""Arbeitslisten sind benutzerdefinierte Gruppierungen von Stories und "" ""Aufgaben, die bei der Organisation der Arbeit helfen"" msgid ""Worth mentioning:"" msgstr ""Erwähnenswert:"" ""You can access the training in parallel to the `OpenStack Days UK <https://"" ""openstackdays.uk/2017/>`_ event."" msgstr """" ""Sie können parallel zum `OpenStack Days UK <https://openstackdays.uk/2017/> "" ""`_ auf das Training zugreifen ."" msgid """" ""You can access the training on the first day of the `OpenStack Days Nordic "" ""<http://openstacknordic.org/copenhagen2017/>`_ event."" msgstr """" ""Sie können auf die Ausbildung am ersten Tag der `OpenStack Days Nordic "" ""zugreifen <http://openstacknordic.org/copenhagen2017/> `_ Ereignis."" msgid """"msgid """" ""`\""Big Tent\"" and tags <http://governance.openstack.org/reference/new-"" ""projects-requirements.html>`_"" msgstr """" ""`\""Big Tent\"" and tags <http://governance.openstack.org/reference/new-"" ""projects-requirements.html>`_"" msgid """" ""`APC <http://governance.openstack.org/reference/charter.html#voters-for-ptl-"" ""seats-apc>`_"" msgstr """" ""`APC <http://governance.openstack.org/reference/charter.html#voters-for-ptl-"" ""seats-apc> `_"" msgid """" ""`ATC <http://governance.openstack.org/reference/charter.html#voters-for-tc-"" ""seats-atc>`_"" msgstr """" ""`ATC <http://governance.openstack.org/reference/charter.html#voters-for-tc-"" ""seats-atc> `_"" msgid """" ""`Account setup <http://docs.openstack.org/infra/manual/developers."" ""html#account-setup>`_"" msgstr """" ""`Kontoaufbau <http://docs.openstack.org/infra/manual/developers.html#account-"" ""setup> `_"" msgid """" ""`Code Review <http://docs.openstack.org/infra/manual/developers.html#code-"" ""review>`_"" msgstr """" ""`Code-Überprüfung <http://docs.openstack.org/infra/manual/developers."" ""html#code-review> `_"" msgid """" ""`Complete index in slide format only <http://docs.openstack.org/upstream-"" ""training/slide-index.html>`_"" msgstr """" ""`Vollständiger Index im Folienformat nur <http://docs.openstack.org/upstream-"" ""training/slide-index.html> `_"" msgid """" ""`Cross-Repository Dependencies <http://docs.openstack.org/infra/manual/"" ""developers.html#cross-repository-dependencies>`_"" msgstr """" ""`Cross-Repository-Abhängigkeiten <http://docs.openstack.org/infra/manual/"" ""developers.html#cross-repository-dependencies> `_"" msgid ""`DevStack <http://docs.openstack.org/developer/devstack/>`_"" msgstr ""`DevStack <http://docs.openstack.org/developer/devstack/> `_"" ""`Developer’s Guide <http://docs.openstack.org/infra/manual/developers.html>`_"" msgstr """" ""`Entwicklerhandbuch <http://docs.openstack.org/infra/manual/developers.html> "" ""`_"" msgid """" ""`Development workflow <http://docs.openstack.org/infra/manual/developers."" ""html#development-workflow>`_"" msgstr """" ""`Entwicklungs-Workflow <http://docs.openstack.org/infra/manual/developers."" ""html#development-workflow> `_"" msgid """"""`Etherpad for London Upstream Collaboration Training <https://etherpad."" ""openstack.org/p/upstream-institute-uk-2017>`_"" msgstr """" ""`Etherpad für London Upstream Collaboration Training <https://etherpad."" ""openstack.org/p/upstream-institute-uk-2017> `_"" msgid """" ""`Etherpad for Nordic Upstream Collaboration Training <https://etherpad."" ""openstack.org/p/upstream-institute-nordic-2017>`_"" msgstr """" ""`Etherpad für Nordic Upstream Collaboration Training <https://etherpad."" ""openstack.org/p/upstream-institute-nordic-2017> `_"" msgid """" ""`Etherpad for Sydney Upstream Collaboration Training <https://etherpad."" ""openstack.org/p/upstream-institute-sydney-2017>`_"" msgstr """" ""`Etherpad für Sydney Upstream Collaboration Training <https://etherpad."" ""openstack.org/p/upstream-institute-sydney-2017> `_"" msgid """"msgid ""`Gerrit <workflow-gerrit.html>`_"" msgstr ""`Gerrit <workflow-gerrit.html> `_"" ""`Git review installation <http://docs.openstack.org/infra/manual/developers."" ""html#installing-git-review>`_"" msgstr """" ""`Git Überprüfung Installation <http://docs.openstack.org/infra/manual/"" ""developers.html#installing-git-review> `_"" msgid """"""`How to create a project <http://docs.openstack.org/infra/manual/creators."" ""html>`_"" msgstr """" ""`So erstellen Sie ein Projekt <http://docs.openstack.org/infra/manual/"" ""creators.html> `_"" msgid """"msgid """" ""`IRC Services <http://docs.openstack.org/infra/system-config/irc.html>`_"" msgstr """" ""`IRC Dienste <http://docs.openstack.org/infra/system-config/irc.html> `_"" msgid """" ""`Jenkins (Automated testing) <http://docs.openstack.org/infra/manual/"" ""developers.html#automated-testing>`_"" msgstr """" ""`Jenkins (automatisierte Prüfung) <http://docs.openstack.org/infra/manual/"" ""developers.html#automated-testing> `_"" msgid """" ""`June 14-15 in parallel to the conference part of the OPNFV Summit 2017 "" ""<http://events.linuxfoundation.org/events/archive/2017/opnfv-summit/extend-"" ""the-experience/openstack-upstream-institute>`_"" msgstr """" ""`14.-15. Juni parallel zum Konferenzteil des OPNFV-Summit 2017 <http://"" ""events.linuxfoundation.org/events/archive/2017/opnfv-summit/extend-the-"" ""experience/openstack-upstream-institute> `_"" ""`List of approved tags <http://governance.openstack.org/reference/tags/index."" ""html>`_"" msgstr """" ""`Liste der zugelassenen Tags <http://governance.openstack.org/reference/tags/"" ""index.html> `_"" msgid """"msgid """" ""`ODP slides <http://dachary.org/loic/openstack-training/training-student-"" ""project-sample.odp>`_ `PDF slides <http://dachary.org/loic/openstack-"" ""training/training-student-project-sample.pdf>`_"" msgstr """" ""`ODP-Folien <http://dachary.org/loic/openstack-training/training-student-"" ""project-sample.odp> `_` PDF-Folien <http://dachary.org/loic/openstack-"" ""training/training-student-project-sample.pdf> `_"" msgid ""`OpenStack Governance <http://governance.openstack.org/>`_"" msgstr ""`OpenStack Governance <http://governance.openstack.org/> `_"" ""`OpenStack Project Teams <http://governance.openstack.org/reference/charter."" ""html#openstack-project-teams>`_"" msgstr """" ""`OpenStack Projektteams <http://governance.openstack.org/reference/charter."" ""html#openstack-project-teams> `_"" msgid """" ""`OpenStack Project Teams <http://governance.openstack.org/reference/projects/"" ""index.html>`__"" msgstr """" ""`OpenStack Projektteams <http://governance.openstack.org/reference/projects/"" ""index.html> `__"" msgid """"""`OpenStack Project Teams list <http://governance.openstack.org/reference/"" ""projects/index.html>`_"" msgstr """" ""`OpenStack Projekteamliste <http://governance.openstack.org/reference/"" ""projects/index.html> `_"" msgid """"""`OpenStack Upstream Training in Atlanta A Big Success <http://www.openstack."" ""org/blog/2014/05/openstack-upstream-training-in-atlanta-a-big-success/>`_."" msgstr """" ""`OpenStack Upstream Training in Atlanta Ein großer Erfolg <http://www."" ""openstack.org/blog/2014/05/openstack-upstream-training-in-atlanta-a-big-"" ""success/> `_."" msgid """" ""`OpenStack Upstream Training in Paris <http://www.openstack.org/blog/2014/08/"" ""openstack-upstream-training-in-paris/>`_."" msgstr """" ""`OpenStack Upstream Training in Paris <http://www.openstack.org/blog/2014/08/"" ""openstack-upstream-training-in-paris/> `_."" msgid """"""`PTLs <http://governance.openstack.org/reference/charter.html#project-team-"" ""leads>`_"" msgstr """" ""`PTLs <http://governance.openstack.org/reference/charter.html#project-team-"" ""leads> `_"" msgid """" ""`Peer Review <http://docs.openstack.org/infra/manual/developers.html#peer-"" ""review>`_"" msgstr """" ""`Peer Review <http://docs.openstack.org/infra/manual/developers.html#peer-"" ""review> `_"" msgid """"msgid ""`Registration and accounts <workflow-reg-and-accounts.html>`_"" msgstr ""`Registrierung und Konten <workflow-reg-and-accounts.html> `_"" ""`Release management description <http://docs.openstack.org/project-team-"" ""guide/release-management.html>`_"" msgstr """" ""`Release Management Beschreibung <http://docs.openstack.org/project-team-"" ""guide/release-management.html>`_"" msgid """"msgid """" ""`Running unit tests <http://docs.openstack.org/infra/manual/developers."" ""html#running-unit-tests>`_"" msgstr """" ""`Laufen Einheit Tests <http://docs.openstack.org/infra/manual/developers."" ""html#running-unit-tests> `_"" ""`Starting Work on a New Repository <http://docs.openstack.org/infra/manual/"" ""developers.html#starting-work-on-a-new-repository>`_"" msgstr """" ""`Arbeit an einem neuen Repository starten <http://docs.openstack.org/infra/"" ""manual/developers.html#starting-work-on-a-new-repository> `_"" msgid """"msgid ""`Tags <http://governance.openstack.org/reference/tags/index.html>`_"" msgstr """" ""`Schlagworte <http://governance.openstack.org/reference/tags/index.html>`_"" ""`Technical Committee <http://governance.openstack.org/reference/charter."" ""html>`_"" msgstr """" ""`Technischer Ausschuss <http://governance.openstack.org/reference/charter."" ""html>`_"" msgid """" ""`The role of the Technical Committee <http://governance.openstack.org/"" ""reference/charter.html#mission>`_"" msgstr """" ""`DIe Rolle des Technischen Ausschusses <http://governance.openstack.org/"" ""reference/charter.html#mission>`_"" msgid """"""`What’s new with OpenStack Upstream Training <http://superuser.openstack.org/"" ""articles/openstack-upstream-training-revamp/>`_."" msgstr """" ""`Was ist neu bei OpenStack Upstream Training <http://superuser.openstack.org/"" ""articles/openstack-upstream-training-revamp/> `_."" msgid """"""`commiters <http://www.stackalytics.com/?"" ""release=kilo&metric=commits&project_type=integrated&module=&company=&user_id=>`_ "" ""individuals (bottom of the page)"" msgstr """" ""`Commiters <http://www.stackalytics.com/?"" ""release=kilo&metric=commits&project_type=integrated&module=&company=&user_id=>`_ "" ""Personen (unten auf der Seite)"" msgid """" ""`committers <http://www.stackalytics.com/?"" ""release=kilo&metric=commits&project_type=integrated&module=&company=&user_id=>`_ "" ""companies"" msgstr """" ""`Beitragende <http://www.stackalytics.com/?"" ""release=kilo&metric=commits&project_type=integrated&module=&company=&user_id=>`_ "" ""Firmen"" msgid """"msgid ""`https://etherpad.openstack.org <https://etherpad.openstack.org>`_"" msgstr ""`https://etherpad.openstack.org <https://etherpad.openstack.org> `_"" msgid ""`meetbot <http://wiki.debian.org/MeetBot>`_"" msgstr ""`meetbot <http://wiki.debian.org/MeetBot>`_"" msgid """" ""`minimal configuration <http://docs.openstack.org/developer/devstack/"" ""configuration.html#minimal-configuration>`_"" msgstr """" ""`minimale Konfiguration <http://docs.openstack.org/developer/devstack/"" ""configuration.html#minimal-configuration> `_"" msgid ""code review, bug tracking, blueprints, wiki"" msgstr ""Code-Review, Bug-Tracking, Blueprints, Wiki"" msgid ""elections (candidacy or vote), presentations"" msgstr ""Wahlen (Kandidatur oder Abstimmung), Vorträge"" msgid ""gerrit patchset history"" msgstr ""gerrit patchset history"" msgid ""gerrit workflow"" msgstr ""gerrit workflow"" msgid ""git checkout -b TOPIC-BRANCH"" msgstr ""git checkout -b TOPIC-BRANCH"" msgid ""git clone"" msgstr ""git clone"" msgid ""git commit --amend"" msgstr ""git commit --amend"" msgid ""git config"" msgstr ""git config"" msgid ""git gui"" msgstr ""git gui"" msgid ""git remote show gerrit"" msgstr ""git remote show gerrit"" msgid ""git review"" msgstr ""git review"" msgid ""git review -s"" msgstr ""git review -s"" msgid ""gitk / gitg"" msgstr ""gitk / gitg"" msgid ""http://docs.openstack.org/infra/manual/sandbox.html"" msgstr ""http://docs.openstack.org/infra/manual/sandbox.html"" msgid ""http://docs.openstack.org/upstream-training/workflow-using-sandbox.html"" msgstr """" ""http://docs.openstack.org/upstream-training/workflow-using-sandbox.html"" msgid ""http://governance.openstack.org/reference/opens.html"" msgstr ""http://governance.openstack.org/reference/opens.html"" msgid ""http://governance.openstack.org/reference/projects/"" msgstr ""http://governance.openstack.org/reference/projects/"" msgid ""http://governance.openstack.org/reference/tags/index.html"" msgstr ""http://governance.openstack.org/reference/tags/index.html"" msgid ""http://lists.openstack.org/cgi-bin/mailman/listinfo"" msgstr ""http://lists.openstack.org/cgi-bin/mailman/listinfo"" msgid ""http://review.openstack.org"" msgstr ""http://review.openstack.org"" msgid ""http://webchat.freenode.net/?channels=openstack-101"" msgstr ""http://webchat.freenode.net/?channels=openstack-101"" msgid ""https://docs.openstack.org/infra/manual/developers.html#account-setup"" msgstr ""https://docs.openstack.org/infra/manual/developers.html#account-setup"" msgid ""https://login.ubuntu.com"" msgstr ""https://login.ubuntu.com"" msgid ""https://review.openstack.org/#/settings/ssh-keys"" msgstr ""https://review.openstack.org/#/settings/ssh-keys"" msgid ""https://storyboard-dev.openstack.org/"" msgstr ""https://storyboard-dev.openstack.org/"" msgid ""https://wiki.openstack.org/wiki/Main_Page"" msgstr ""https://wiki.openstack.org/wiki/Main_Page"" msgid ""https://www.openstack.org/join/"" msgstr ""https://www.openstack.org/join/"" msgid ""invite reviewers"" msgstr ""Reviewer einladen"" msgid ""other graphical stand-alone tools (sourcetree, tortoisegit)"" msgstr ""andere grafische eigenständige Werkzeuge (sourcetree, tortoisegit)"" msgid ""patchset diffs"" msgstr ""patchset diffs"" msgid ""review.openstack.org"" msgstr ""review.openstack.org"" msgid ""running unit tests"" msgstr ""laufende Unit-Tests"" msgid ""tig"" msgstr ""tig"" msgid ""upload an ssh key"" msgstr ""einen ssh-Schlüssel hochladen"" msgid ""vim-fugitive, emacs-magit"" msgstr ""vim-fugitive, emacs-magit"" ",398,3973
openstack%2Fopenstack-manuals~master~Iae3115d0355a3520e1ee1a19ecc15fef82b0c056,openstack/openstack-manuals,master,Iae3115d0355a3520e1ee1a19ecc15fef82b0c056,remove bandit from latest project list,MERGED,2018-05-16 18:32:36.000000000,2018-05-17 13:07:58.000000000,2018-05-17 13:07:58.000000000,"[{'_account_id': 6547}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 18:32:36.000000000', 'files': ['www/project-data/latest.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/33f968f32f64f5a39311f23b6561e7b1464e5928', 'message': 'remove bandit from latest project list\n\nBandit was removed from OpenStack governance and is now part of the\nbroader python code quality initiative.\n\nChange-Id: Iae3115d0355a3520e1ee1a19ecc15fef82b0c056\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,568927,33f968f32f64f5a39311f23b6561e7b1464e5928,7,3,1,2472,,,0,"remove bandit from latest project list

Bandit was removed from OpenStack governance and is now part of the
broader python code quality initiative.

Change-Id: Iae3115d0355a3520e1ee1a19ecc15fef82b0c056
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/27/568927/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/latest.yaml'],1,33f968f32f64f5a39311f23b6561e7b1464e5928,568796,,- name: bandit service: Security linter for Python. type: tool ,0,4
openstack%2Fopenstack-manuals~master~I1747f0e554d76ed85d8e00cf850f3413eef1949b,openstack/openstack-manuals,master,I1747f0e554d76ed85d8e00cf850f3413eef1949b,add a --strict flag to the template generator,MERGED,2018-05-16 18:32:36.000000000,2018-05-17 13:07:56.000000000,2018-05-17 13:07:56.000000000,"[{'_account_id': 6547}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 18:32:36.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b469dc72609efc17256cc0406cc1415b5040ad78', 'message': 'add a --strict flag to the template generator\n\nWhen --strict is passed warnings are treated as errors to stop the\nbuild. This is useful for debugging when running tools/test.sh\nlocally, for example.\n\nChange-Id: I1747f0e554d76ed85d8e00cf850f3413eef1949b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,568926,b469dc72609efc17256cc0406cc1415b5040ad78,7,3,1,2472,,,0,"add a --strict flag to the template generator

When --strict is passed warnings are treated as errors to stop the
build. This is useful for debugging when running tools/test.sh
locally, for example.

Change-Id: I1747f0e554d76ed85d8e00cf850f3413eef1949b
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/26/568926/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,b469dc72609efc17256cc0406cc1415b5040ad78,568796," parser.add_argument('--strict', default=False, action='store_true', help='treat warnings as errors', ) governed_deliverables=[], strict=False): msg = ('{} is no longer part of an official project, ' '{} in {}').format( deliverable_name, 'error' if strict else 'ignoring', filename) logger.warning(msg) if strict: logger.info('Known deliverables: %s', sorted(governed_deliverables)) raise RuntimeError(msg) msg = '{} not set for {} but {} does exist'.format( flag, project_name, url) logger.warning(msg) if strict: raise RuntimeError(msg) strict=args.strict,"," governed_deliverables=[]): logger.warning( ('%s is no longer part of an official project, ' 'ignoring in %s'), deliverable_name, filename) logger.warning( '%s not set for %s but %s does exist', flag, project_name, url, )",23,9
openstack%2Fmistral~master~I5c133adf98c1f597c5c52c1fc96a3e423bdd4c89,openstack/mistral,master,I5c133adf98c1f597c5c52c1fc96a3e423bdd4c89,Update auth_uri option to www_authenticate_uri,NEW,2018-05-17 11:52:12.000000000,2018-05-17 13:06:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-17 11:52:12.000000000', 'files': ['mistral/actions/openstack/actions.py', 'mistral/context.py', 'mistral/utils/openstack/keystone.py', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/mistral/commit/1b54c146f9572a6fcadfd658c2e995551fff227b', 'message': 'Update auth_uri option to www_authenticate_uri\n\nThe ""auth_uri"" of keystone_authtoken is deprecated[1].\nWe should use ""www_authenticate_uri"" instead.\n\n[1] https://review.openstack.org/508522\n\nChange-Id: I5c133adf98c1f597c5c52c1fc96a3e423bdd4c89\n'}]",0,569094,1b54c146f9572a6fcadfd658c2e995551fff227b,3,1,1,19779,,,0,"Update auth_uri option to www_authenticate_uri

The ""auth_uri"" of keystone_authtoken is deprecated[1].
We should use ""www_authenticate_uri"" instead.

[1] https://review.openstack.org/508522

Change-Id: I5c133adf98c1f597c5c52c1fc96a3e423bdd4c89
",git fetch https://review.opendev.org/openstack/mistral refs/changes/94/569094/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/actions/openstack/actions.py', 'mistral/context.py', 'mistral/utils/openstack/keystone.py', 'devstack/plugin.sh']",4,1b54c146f9572a6fcadfd658c2e995551fff227b,auth_uri, iniset $MISTRAL_CONF_FILE keystone_authtoken www_authenticate_uri $KEYSTONE_AUTH_URI_V3, iniset $MISTRAL_CONF_FILE keystone_authtoken auth_uri $KEYSTONE_AUTH_URI_V3,16,14
openstack%2Fopenstack-ansible-os_blazar~master~Ia28e4d98d074c0a1073c31d8d5f5d93e83457a6a,openstack/openstack-ansible-os_blazar,master,Ia28e4d98d074c0a1073c31d8d5f5d93e83457a6a,Updated from OpenStack Ansible Tests,MERGED,2018-05-08 20:26:13.000000000,2018-05-17 12:57:50.000000000,2018-05-17 12:57:50.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-08 20:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/46a4ea324e5cbea2b79bbdb4309115bd64a0d747', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ia28e4d98d074c0a1073c31d8d5f5d93e83457a6a\n'}, {'number': 2, 'created': '2018-05-09 19:40:08.000000000', 'files': ['run_tests.sh', '.gitignore', 'bindep.txt', 'Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/b471d4ce3d434d98503aa8ce22e6e352dde2a491', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ia28e4d98d074c0a1073c31d8d5f5d93e83457a6a\n'}]",0,567036,b471d4ce3d434d98503aa8ce22e6e352dde2a491,10,4,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ia28e4d98d074c0a1073c31d8d5f5d93e83457a6a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/36/567036/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', '.gitignore', 'bindep.txt', 'Vagrantfile']",4,46a4ea324e5cbea2b79bbdb4309115bd64a0d747,openstack/openstack-ansible-tests/sync-tests," config.vm.synced_folder ""."", ""/vagrant"", type: ""rsync"" end ",end,19,15
openstack%2Fopenstack-helm-addons~master~Ia28ebc48560e4c45946a08c777ffa9fd9592448c,openstack/openstack-helm-addons,master,Ia28ebc48560e4c45946a08c777ffa9fd9592448c,Helm-Toolkit: Update charts to work with -infra helm toolkit,MERGED,2018-05-17 06:43:56.000000000,2018-05-17 12:56:29.000000000,2018-05-17 12:56:29.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 26355}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-05-17 06:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/35b68498d23ef905c67e2cd07eaf56cdd88dd268', 'message': 'Helm-Toolkit: Update charts to work with -infra helm toolkit\n\nThis PS updates the charts to work with the -infra helm toolkit.\n\nChange-Id: Ia28ebc48560e4c45946a08c777ffa9fd9592448c\n'}, {'number': 2, 'created': '2018-05-17 06:54:56.000000000', 'files': ['ranger-agent/templates/pod-test.yaml', 'ranger-agent/templates/deployment-ranger-agent-api.yaml', 'ranger-agent/templates/job-image-repo-sync.yaml', 'ranger-agent/values.yaml', 'artifactory/templates/job-image-repo-sync.yaml', 'artifactory/values.yaml', 'ranger-agent/templates/deployment-ranger-agent-engine.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/0cd9ef1839830f8e9f1bd2a1ad570e5102d3fd0a', 'message': 'Helm-Toolkit: Update charts to work with -infra helm toolkit\n\nThis PS updates the charts to work with the -infra helm toolkit.\n\nChange-Id: Ia28ebc48560e4c45946a08c777ffa9fd9592448c\n'}]",0,569035,0cd9ef1839830f8e9f1bd2a1ad570e5102d3fd0a,11,5,2,23928,,,0,"Helm-Toolkit: Update charts to work with -infra helm toolkit

This PS updates the charts to work with the -infra helm toolkit.

Change-Id: Ia28ebc48560e4c45946a08c777ffa9fd9592448c
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/35/569035/2 && git format-patch -1 --stdout FETCH_HEAD,"['artifactory/templates/job-image-repo-sync.yaml', 'artifactory/values.yaml']",2,35b68498d23ef905c67e2cd07eaf56cdd88dd268,," image_repo_sync: docker.io/docker:17.07.0 local_registry: active: false exclude: - dep_check - image_repo_sync dynamic: common: local_image_registry: jobs: - artifactory-image-repo-sync services: - endpoint: node service: local_image_registry image_repo_sync: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" job_image_repo_sync: true",,42,0
openstack%2Fmistral~master~I013d4837603839364f8d699f7ce97e4400879d38,openstack/mistral,master,I013d4837603839364f8d699f7ce97e4400879d38,"Release note for using ""passive_deletes=True""",MERGED,2018-05-16 06:59:06.000000000,2018-05-17 12:43:21.000000000,2018-05-16 08:00:25.000000000,"[{'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 06:59:06.000000000', 'files': ['releasenotes/notes/using_passive_deletes_in_sqlalchemy-4b3006b3aba55155.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/696e82702c0deafb4a5f1baf35da8e7987818fd0', 'message': 'Release note for using ""passive_deletes=True""\n\nRelated-Bug: #1757966\n\nChange-Id: I013d4837603839364f8d699f7ce97e4400879d38\n'}]",0,568762,696e82702c0deafb4a5f1baf35da8e7987818fd0,9,4,1,8731,,,0,"Release note for using ""passive_deletes=True""

Related-Bug: #1757966

Change-Id: I013d4837603839364f8d699f7ce97e4400879d38
",git fetch https://review.opendev.org/openstack/mistral refs/changes/62/568762/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/using_passive_deletes_in_sqlalchemy-4b3006b3aba55155.yaml'],1,696e82702c0deafb4a5f1baf35da8e7987818fd0,bug/1757966,"--- fixes: - | Used ""passive_deletes=True"" in the configuration of relationships in SQLAlchemy models. This improves deletion of graphs of related objects stored in DB because dependent objects don't get loaded prior to deleting them. More about using this flag can be found at: http://docs.sqlalchemy.org/en/latest/orm/collections.html#using-passive-deletes ",,9,0
openstack%2Fproject-config~master~I1f3844e18257a8c4334532a34f5ff56db9fc5857,openstack/project-config,master,I1f3844e18257a8c4334532a34f5ff56db9fc5857,Add os_blazar repo base jobs,MERGED,2018-05-07 10:20:37.000000000,2018-05-17 12:41:20.000000000,2018-05-17 12:41:20.000000000,"[{'_account_id': 6547}, {'_account_id': 13192}, {'_account_id': 13252}, {'_account_id': 17352}, {'_account_id': 22348}, {'_account_id': 26790}]","[{'number': 1, 'created': '2018-05-07 10:20:37.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a9352d0eed43dc51a43b15bce8f4ad7e7fc5f446', 'message': 'Add os_blazar repo base jobs\n\nTo follow up on Ib3ed6d866f3d1bac76a4babc5eb2849a8d957c65\nand Ife2853269842cdcf4936334f019fee16463a5d80,\nwe add the base jobs for the repo.\n\nChange-Id: I1f3844e18257a8c4334532a34f5ff56db9fc5857\n'}]",0,566542,a9352d0eed43dc51a43b15bce8f4ad7e7fc5f446,9,6,1,17068,,,0,"Add os_blazar repo base jobs

To follow up on Ib3ed6d866f3d1bac76a4babc5eb2849a8d957c65
and Ife2853269842cdcf4936334f019fee16463a5d80,
we add the base jobs for the repo.

Change-Id: I1f3844e18257a8c4334532a34f5ff56db9fc5857
",git fetch https://review.opendev.org/openstack/project-config refs/changes/42/566542/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,a9352d0eed43dc51a43b15bce8f4ad7e7fc5f446,new-project, name: openstack/openstack-ansible-os_blazar templates: - system-required - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs release: jobs: - announce-release - project:,,11,0
openstack%2Frequirements~stable%2Fqueens~Ib4a7da63ccaf0f3e07445fd38c66242dcd548b3c,openstack/requirements,stable/queens,Ib4a7da63ccaf0f3e07445fd38c66242dcd548b3c,update constraints of ovsdbapp to new 0.10.1 release,ABANDONED,2018-05-17 09:27:43.000000000,2018-05-17 12:40:09.000000000,,"[{'_account_id': 6593}, {'_account_id': 8788}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 09:27:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6a293e2696e75d3a125088a46b733d5895545ce8', 'message': 'update constraints of ovsdbapp to new 0.10.1 release\n\n - 0.10.1 fixes lp#1769897 scalability bug.\n\nChange-Id: Ib4a7da63ccaf0f3e07445fd38c66242dcd548b3c\nRelated-Bug: #1769897\n(cherry picked from commit 671622dc72dcae987ddaaec81bafc86f7829dc2f)\n'}]",0,569069,6a293e2696e75d3a125088a46b733d5895545ce8,5,3,1,8788,,,0,"update constraints of ovsdbapp to new 0.10.1 release

 - 0.10.1 fixes lp#1769897 scalability bug.

Change-Id: Ib4a7da63ccaf0f3e07445fd38c66242dcd548b3c
Related-Bug: #1769897
(cherry picked from commit 671622dc72dcae987ddaaec81bafc86f7829dc2f)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/569069/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6a293e2696e75d3a125088a46b733d5895545ce8,bug/1769897,ovsdbapp===0.10.1,ovsdbapp===0.10.0,1,1
openstack%2Ftosca-parser~master~Iaa40faa4292c2626b4e3344112eac4b806cfa6e7,openstack/tosca-parser,master,Iaa40faa4292c2626b4e3344112eac4b806cfa6e7,Switch from oslosphinx to openstackdocstheme,MERGED,2018-05-16 06:57:32.000000000,2018-05-17 12:37:26.000000000,2018-05-17 12:37:26.000000000,"[{'_account_id': 4571}, {'_account_id': 6456}, {'_account_id': 6460}, {'_account_id': 7193}, {'_account_id': 7514}, {'_account_id': 9498}, {'_account_id': 9591}, {'_account_id': 10856}, {'_account_id': 11355}, {'_account_id': 15346}, {'_account_id': 16511}, {'_account_id': 19724}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-05-16 06:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/313edef76a1524fb2be2ea0f2b804866c69e9868', 'message': 'Switch from oslosphinx to openstackdocstheme\n\nopenstackdocstheme is a theme and extension support for Sphinx\ndocumentation that is published to docs.openstack.org\nand developer.openstack.org.\n\nChange-Id: Iaa40faa4292c2626b4e3344112eac4b806cfa6e7\n'}, {'number': 2, 'created': '2018-05-16 07:38:29.000000000', 'files': ['doc/source/index.rst', 'test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/55c0663465cf51e2be699a07bbb7eb53bf838911', 'message': 'Switch from oslosphinx to openstackdocstheme\n\nopenstackdocstheme is a theme and extension support for Sphinx\ndocumentation that is published to docs.openstack.org\nand developer.openstack.org.\n\nChange-Id: Iaa40faa4292c2626b4e3344112eac4b806cfa6e7\n'}]",0,568761,55c0663465cf51e2be699a07bbb7eb53bf838911,10,14,2,27153,,,0,"Switch from oslosphinx to openstackdocstheme

openstackdocstheme is a theme and extension support for Sphinx
documentation that is published to docs.openstack.org
and developer.openstack.org.

Change-Id: Iaa40faa4292c2626b4e3344112eac4b806cfa6e7
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/61/568761/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'test-requirements.txt', 'doc/source/conf.py']",3,313edef76a1524fb2be2ea0f2b804866c69e9868,, 'openstackdocstheme'html_theme = 'openstackdocs'," #'sphinx.ext.intersphinx', 'oslosphinx'# Sphinx are currently 'default' and 'sphinxdoc'. # html_theme_path = ["".""] # html_theme = 'default' # html_static_path = ['static']",6,9
openstack%2Frally-openstack~master~Ic735a7f32d176a8f8a565702adcbd40064c9c241,openstack/rally-openstack,master,Ic735a7f32d176a8f8a565702adcbd40064c9c241,Add Elasticsearch plugin for logging testing,MERGED,2018-04-24 11:39:08.000000000,2018-05-17 12:34:16.000000000,2018-05-17 12:34:16.000000000,"[{'_account_id': 9545}, {'_account_id': 13009}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-24 11:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/393f3798905e2b9c3258e322db12c322c4e59da4', 'message': ""Add Elasticsearch plugin for logging testing\n\nAdd testing logging system with Elasticsearch.\nThe goal of the test is to check that openstack logs\nsends to logging system and stores in Elasticsearch.\nCreate nova instance and verify it's name hit logging.\n\nChange-Id: Ic735a7f32d176a8f8a565702adcbd40064c9c241\n""}, {'number': 2, 'created': '2018-05-03 14:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e5e23b70e498d1ce2fb17371096eef0a93f00a2a', 'message': ""Add Elasticsearch plugin for logging testing\n\nAdd testing logging system with Elasticsearch.\nThe goal of the test is to check that openstack logs\nsends to logging system and stores in Elasticsearch.\nCreate nova instance and verify it's name hit logging.\n\nChange-Id: Ic735a7f32d176a8f8a565702adcbd40064c9c241\n""}, {'number': 3, 'created': '2018-05-15 12:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/23f721b1f09543ad82c29f4754f421c1ff39e92e', 'message': ""Add Elasticsearch plugin for logging testing\n\nAdd testing logging system with Elasticsearch.\nThe goal of the test is to check that openstack logs\nsends to logging system and stores in Elasticsearch.\nCreate nova instance and verify it's name hit logging.\n\nChange-Id: Ic735a7f32d176a8f8a565702adcbd40064c9c241\n""}, {'number': 4, 'created': '2018-05-16 12:23:00.000000000', 'files': ['samples/tasks/scenarios/elasticsearch/log-instance.yaml', 'requirements.txt', 'samples/tasks/scenarios/elasticsearch/log-instance.json', 'rally_openstack/scenarios/elasticsearch/__init__.py', 'rally_openstack/scenarios/elasticsearch/logging.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/cbcaa8b37fdf1321870cdf6e37e1adb4d4885a6a', 'message': ""Add Elasticsearch plugin for logging testing\n\nAdd testing logging system with Elasticsearch.\nThe goal of the test is to check that openstack logs\nsends to logging system and stores in Elasticsearch.\nCreate nova instance and verify it's name hit logging.\n\nChange-Id: Ic735a7f32d176a8f8a565702adcbd40064c9c241\n""}]",3,563897,cbcaa8b37fdf1321870cdf6e37e1adb4d4885a6a,15,3,4,13009,,,0,"Add Elasticsearch plugin for logging testing

Add testing logging system with Elasticsearch.
The goal of the test is to check that openstack logs
sends to logging system and stores in Elasticsearch.
Create nova instance and verify it's name hit logging.

Change-Id: Ic735a7f32d176a8f8a565702adcbd40064c9c241
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/97/563897/1 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tasks/scenarios/elasticsearch/log-instance.yaml', 'requirements.txt', 'samples/tasks/scenarios/elasticsearch/log-instance.json', 'rally_openstack/scenarios/elasticsearch/__init__.py', 'rally_openstack/scenarios/elasticsearch/logging.py']",5,393f3798905e2b9c3258e322db12c322c4e59da4,elasticsearch-plugin,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import requests from rally.common import cfg from rally.common import logging from rally.common import utils as commonutils from rally.task import types from rally.task import utils from rally.task import validation from rally_openstack import consts from rally_openstack import scenario CONF = cfg.CONF LOG = logging.getLogger(__name__) """"""Scenario for Elasticsearch logging system."""""" @types.convert(image={""type"": ""glance_image""}, flavor={""type"": ""nova_flavor""}) @validation.add(""required_services"", services=[consts.Service.NOVA]) @validation.add(""required_platform"", platform=""openstack"", admin=True) @scenario.configure(context={""cleanup@openstack"": [""nova""]}, name=""ElasticsearchLogging.log_instance"", platform=""openstack"") class ElasticsearchLogInstanceName(scenario.OpenStackScenario): """"""Test logging instance in conjunction with Elasticsearch system. Let OpenStack platform already has logging agent (for example, Filebeat), which sends nova logs to Elasticsearch through data processing pipeline (e.g. Logstash). The test verifies Openstack nova logs stored in logging system. It creates nova instance with random name and after instance becomes available, checks it's name in Elasticsearch indices by querying. """""" def _create_server(self, image, flavor, seed): server = self.clients(""nova"").servers.create(seed, image, flavor) LOG.info(""Server %s create started"" % seed) self.sleep_between(CONF.openstack.nova_server_boot_prepoll_delay) utils.wait_for_status( server, ready_statuses=[""ACTIVE""], update_resource=utils.get_from_manager(), timeout=CONF.openstack.nova_server_boot_timeout, check_interval=CONF.openstack.nova_server_boot_poll_interval ) LOG.info(""Server %s is active"" % seed) def _check_server_name(self, name, logging_vip, elasticsearch_port, retries_total): request_data = {""query"": { ""bool"": {""must"": [{""match_phrase"": {""Payload"": name}}], ""should"": [{""range"": {""Timestamp"": {""gte"": ""now-2m"", ""lte"": ""now""}}}], ""minimum_should_match"": 1}}} LOG.info(""Check server name %s in elasticsearch"" % name) i = 0 while i < retries_total: LOG.info(""Attempt number %s"" % (i + 1)) resp = requests.get(""http://%(ip)s:%(port)s/_search"", data=request_data) result = resp.json() if result[""hits""][""total""] < 1 and i + 1 >= retries_total: LOG.warning(""No instance data found in Elasticsearch"") self.assertGreater(len(result[""hits""][""total""]), 0) elif result[""hits""][""total""] < 1: i += 1 commonutils.interruptable_sleep(5) else: LOG.warning(""Instance data found in Elasticsearch"") self.assertGreater(len(result[""hits""][""total""]), 0) break def run(self, image, flavor, logging_vip, elasticsearch_port, retries_total=30): """"""Create nova instance and check it indexed in elasticsearch. :param image: image for server :param flavor: flavor for server :param logging_vip: logging system IP to check server name in elasticsearch index :param elasticsearch_port: elasticsearch port to use for check server :param retries_total: total number of retries to check server name in elasticsearch """""" seed = self.generate_random_name() self._create_server(image, flavor, seed) self._check_server_name(seed, logging_vip, elasticsearch_port, retries_total) ",,190,0
openstack%2Fneutron~master~I63cc9506caa80f889ad817444281a0ac31bc9418,openstack/neutron,master,I63cc9506caa80f889ad817444281a0ac31bc9418,Refactor for L3 router QoS extensions,MERGED,2018-05-15 02:09:32.000000000,2018-05-17 12:32:43.000000000,2018-05-17 12:32:43.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 02:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4180841f35ef58dcbd4a546cb9769713877a67d6', 'message': 'Refactor for L3 router QoS extensions\n\nMove the l3 qos extensions to a separated folder,\nthen we can move a following up router gateway IP\nQoS to it.\n\nAnd also extract some common code to a base class.\n\nRelated-Bug: #1757044\nChange-Id: I63cc9506caa80f889ad817444281a0ac31bc9418\n'}, {'number': 2, 'created': '2018-05-15 02:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d34413caa9886b7281b68d1fe98510f44203c2ba', 'message': 'Refactor for L3 router QoS extensions\n\nMove the l3 qos extensions to a separated folder,\nthen we can move a following up router gateway IP\nQoS to it.\n\nAnd also extract some common code to a base class.\n\nRelated-Bug: #1757044\nChange-Id: I63cc9506caa80f889ad817444281a0ac31bc9418\n'}, {'number': 3, 'created': '2018-05-16 05:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec3cbdf906d99bae194b3cc2dcf5afc60da1bb04', 'message': 'Refactor for L3 router QoS extensions\n\nMove the l3 qos extensions to a separated folder,\nthen we can move a following up router gateway IP\nQoS extension to it.\n\nAnd also extract some common code to a base class.\n\nRelated-Bug: #1757044\nChange-Id: I63cc9506caa80f889ad817444281a0ac31bc9418\n'}, {'number': 4, 'created': '2018-05-16 05:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f606473b26ef2f22316802408d877152c9c16a6', 'message': 'Refactor for L3 router QoS extensions\n\nMove the l3 qos extensions to a separated folder,\nthen we can move a following up router gateway IP\nQoS extension to it.\n\nAnd also extract some common code to a base class.\n\nRelated-Bug: #1757044\nChange-Id: I63cc9506caa80f889ad817444281a0ac31bc9418\n'}, {'number': 5, 'created': '2018-05-16 05:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/968a43b40c846550e2a70acb1223f39dc2f5261b', 'message': 'Refactor for L3 router QoS extensions\n\nMove the l3 qos extensions to a separated folder,\nthen we can move a following up router gateway IP\nQoS extension to it.\n\nAnd also extract some common code to a base class.\n\nRelated-Bug: #1757044\nChange-Id: I63cc9506caa80f889ad817444281a0ac31bc9418\n'}, {'number': 6, 'created': '2018-05-16 07:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b04e40be53993044b6e16fc4215ef43cace75923', 'message': 'Refactor for L3 router QoS extensions\n\nMove the l3 qos extensions to a separated folder,\nthen we can move a following up router gateway IP\nQoS extension to it.\n\nAnd also extract some common code to a base class.\n\nRelated-Bug: #1757044\nChange-Id: I63cc9506caa80f889ad817444281a0ac31bc9418\n'}, {'number': 7, 'created': '2018-05-17 02:11:59.000000000', 'files': ['neutron/tests/unit/agent/l3/extensions/qos/test_fip.py', 'neutron/tests/unit/agent/l3/extensions/qos/__init__.py', 'neutron/agent/l3/extensions/qos/base.py', 'neutron/tests/functional/agent/l3/extensions/qos/__init__.py', 'neutron/tests/unit/agent/l3/extensions/qos/test_base.py', 'neutron/agent/l3/extensions/qos/__init__.py', 'neutron/agent/l3/extensions/qos/fip.py', 'setup.cfg', 'neutron/tests/functional/agent/l3/extensions/qos/test_fip_qos_extension.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e59cd2a5fcac205e3452efa20a1738c54834520', 'message': 'Refactor for L3 router QoS extensions\n\nMove the l3 qos extensions to a separated folder,\nthen we can move a following up router gateway IP\nQoS extension to it.\n\nAnd also extract some common code to a base class.\n\nRelated-Bug: #1757044\nChange-Id: I63cc9506caa80f889ad817444281a0ac31bc9418\n'}]",0,568410,5e59cd2a5fcac205e3452efa20a1738c54834520,26,7,7,9531,,,0,"Refactor for L3 router QoS extensions

Move the l3 qos extensions to a separated folder,
then we can move a following up router gateway IP
QoS extension to it.

And also extract some common code to a base class.

Related-Bug: #1757044
Change-Id: I63cc9506caa80f889ad817444281a0ac31bc9418
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/568410/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/extensions/qos/test_fip.py', 'neutron/tests/unit/agent/l3/extensions/qos/__init__.py', 'neutron/tests/functional/agent/l3/extensions/test_fip_qos_extension.py', 'neutron/agent/l3/extensions/qos/base.py', 'neutron/agent/l3/extensions/qos/__init__.py', 'neutron/agent/l3/extensions/qos/fip.py', 'setup.cfg']",7,4180841f35ef58dcbd4a546cb9769713877a67d6,bug/1757044, fip_qos = neutron.agent.l3.extensions.qos.fip:FipQosAgentExtension, fip_qos = neutron.agent.l3.extensions.fip_qos:FipQosAgentExtension,127,89
openstack%2Fopenstack-ansible-os_neutron~stable%2Fpike~I45a7dc375d8e750f6813dd5fe0c371b570e0e1be,openstack/openstack-ansible-os_neutron,stable/pike,I45a7dc375d8e750f6813dd5fe0c371b570e0e1be,Add default for neutron_ovs_service_name,MERGED,2018-05-14 20:01:38.000000000,2018-05-17 12:32:21.000000000,2018-05-17 12:32:21.000000000,"[{'_account_id': 2463}, {'_account_id': 6816}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 20:01:38.000000000', 'files': ['vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/390965a56638bb8c89a9761fc95c6d20696b1fb6', 'message': 'Add default for neutron_ovs_service_name\n\nCommit 360c9f9e60a3930028fe58866c2a90f36fa1979b in stable/pike\n(cherry-picked from 4b940c8337017dcfb275f3eba90f4e8f5fa6dffc in\nmaster) defined neutron_ovs_service_name, but the default for that\nvariable was added in 7dce6e2b07ea1c309f78d84a9dec82e5727d5797 in\nmaster, which was never backported. Add just the default definition\nfrom that commit.\n\nChange-Id: I45a7dc375d8e750f6813dd5fe0c371b570e0e1be\nCloses-Bug: 1771200\n'}]",0,568360,390965a56638bb8c89a9761fc95c6d20696b1fb6,13,4,1,2463,,,0,"Add default for neutron_ovs_service_name

Commit 360c9f9e60a3930028fe58866c2a90f36fa1979b in stable/pike
(cherry-picked from 4b940c8337017dcfb275f3eba90f4e8f5fa6dffc in
master) defined neutron_ovs_service_name, but the default for that
variable was added in 7dce6e2b07ea1c309f78d84a9dec82e5727d5797 in
master, which was never backported. Add just the default definition
from that commit.

Change-Id: I45a7dc375d8e750f6813dd5fe0c371b570e0e1be
Closes-Bug: 1771200
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/60/568360/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml']",3,390965a56638bb8c89a9761fc95c6d20696b1fb6,bug/1771200,neutron_ovs_service_name: openvswitch-switch ,,6,0
openstack%2Fhorizon~master~I7c4a3b1432fa5e2bd4b9f6929f03747e826b0498,openstack/horizon,master,I7c4a3b1432fa5e2bd4b9f6929f03747e826b0498,Convert identity.domains tests into mock,MERGED,2018-04-24 11:42:54.000000000,2018-05-17 12:31:33.000000000,2018-05-17 12:31:33.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-24 11:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5f08dc9d5262828dffd8a0cba2c1d8e3a01bb46d', 'message': 'Convert identity.domains tests into mock\n\nblueprint mock-framework-in-unit-tests\n\nChange-Id: I7c4a3b1432fa5e2bd4b9f6929f03747e826b0498\n'}, {'number': 2, 'created': '2018-04-25 04:51:26.000000000', 'files': ['openstack_dashboard/dashboards/identity/domains/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5d46738ed57955175e1f72f11724122016d44794', 'message': 'Convert identity.domains tests into mock\n\nblueprint mock-framework-in-unit-tests\n\nChange-Id: I7c4a3b1432fa5e2bd4b9f6929f03747e826b0498\n'}]",0,563901,5d46738ed57955175e1f72f11724122016d44794,8,2,2,841,,,0,"Convert identity.domains tests into mock

blueprint mock-framework-in-unit-tests

Change-Id: I7c4a3b1432fa5e2bd4b9f6929f03747e826b0498
",git fetch https://review.opendev.org/openstack/horizon refs/changes/01/563901/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/identity/domains/tests.py'],1,5f08dc9d5262828dffd8a0cba2c1d8e3a01bb46d,bp/mock-framework-in-unit-tests,"import mockfrom openstack_dashboard.test import helpers as test @test.create_mocks({api.keystone: ('domain_list',)}) def test_index(self): self.mock_domain_list.return_value = self.domains.list() self.mock_domain_list.assert_called_once_with(test.IsHttpRequest()) @test.create_mocks({api.keystone: ('domain_list', self.mock_domain_list.return_value = self.domains.list() self.mock_keystone_can_edit_domain.return_value = False self.mock_domain_list.assert_called_once_with(test.IsHttpRequest()) self.assert_mock_multiple_calls_with_same_arguments( self.mock_keystone_can_edit_domain, 20, mock.call()) @test.create_mocks({api.keystone: ('domain_list', self.mock_domain_list.return_value = self.domains.list() self.mock_domain_delete.return_value = None self.mock_domain_list.assert_called_once_with(test.IsHttpRequest()) self.mock_domain_delete.assert_called_once_with(test.IsHttpRequest(), domain.id) @test.create_mocks({api.keystone: ('domain_list', )}) self.mock_domain_list.return_value = self.domains.list() self.mock_domain_list.assert_called_once_with(test.IsHttpRequest()) @test.create_mocks({api.keystone: ('domain_list', self.mock_domain_list.return_value = self.domains.list() self.mock_domain_update.return_value = None self.mock_domain_list.assert_called_once_with(test.IsHttpRequest()) self.mock_domain_update.assert_called_once_with( test.IsHttpRequest(), description=domain.description, domain_id=domain.id, enabled=False, name=domain.name) @test.create_mocks({api.keystone: ('domain_list', self.mock_domain_list.return_value = self.domains.list() self.mock_domain_update.return_value = None self.mock_domain_list.assert_called_once_with(test.IsHttpRequest()) self.mock_domain_update.assert_called_once_with( test.IsHttpRequest(), description=domain.description, domain_id=domain.id, enabled=True, name=domain.name) @test.create_mocks({api.keystone: ('domain_get', self.mock_domain_get.return_value = domain self.mock_domain_list.return_value = self.domains.list() self.assert_mock_multiple_calls_with_same_arguments( self.mock_domain_get, 2, mock.call(test.IsHttpRequest(), domain.id)) self.mock_domain_list.assert_called_once_with(test.IsHttpRequest()) @test.create_mocks({api.keystone: ('domain_create', )}) self.mock_domain_create.return_value = domain self.mock_domain_create.assert_called_once_with( test.IsHttpRequest(), description=domain.description, enabled=domain.enabled, name=domain.name) @test.create_mocks({api.keystone: ('domain_get', self.mock_domain_get.return_value = domain self.mock_get_default_role.return_value = default_role self.mock_role_list.return_value = roles self.mock_user_list.return_value = users self.mock_role_assignments_list.return_value = role_assignments self.mock_group_list.return_value = groups self.mock_roles_for_group.return_value = roles self.mock_domain_get.assert_called_once_with(test.IsHttpRequest(), '1') self.assert_mock_multiple_calls_with_same_arguments( self.mock_get_default_role, 2, mock.call(test.IsHttpRequest())) self.assert_mock_multiple_calls_with_same_arguments( self.mock_role_list, 2, mock.call(test.IsHttpRequest())) self.mock_user_list.assert_called_once_with(test.IsHttpRequest(), domain=domain.id) self.mock_role_assignments_list.assert_called_once_with( test.IsHttpRequest(), domain=domain.id, include_subtree=False) self.mock_group_list.assert_called_once_with(test.IsHttpRequest(), domain=domain.id) self.mock_roles_for_group.assert_has_calls( [mock.call(test.IsHttpRequest(), group=group.id, domain=domain.id) for group in groups]) @test.create_mocks({api.keystone: ('domain_get', self.mock_domain_get.return_value = domain self.mock_get_default_role.return_value = default_role self.mock_role_list.return_value = roles self.mock_user_list.return_value = users self.mock_role_assignments_list.return_value = role_assignments expected_group_list = [] retvals_group_list = [] self.mock_group_list.side_effect = retvals_group_list expected_roles_for_group = [] retvals_roles_for_group = [] self.mock_roles_for_group.side_effect = retvals_roles_for_group expected_remove_group_role = [] expected_add_group_role = [] self.mock_remove_group_role.return_value = None self.mock_add_group_role.return_value = None expected_group_list.append( mock.call(test.IsHttpRequest(), domain=domain.id)) retvals_group_list.append(groups) expected_roles_for_group.append( mock.call(test.IsHttpRequest(), group=group.id, domain=domain.id)) retvals_roles_for_group.append(roles) self.mock_domain_update.return_value = None self.mock_add_domain_user_role.return_value = None self.mock_remove_domain_user_role.return_value = None expected_group_list.append( mock.call(test.IsHttpRequest(), domain=domain.id)) retvals_group_list.append(domain_groups) expected_roles_for_group.append( mock.call(test.IsHttpRequest(), group='1', domain=domain.id)) retvals_roles_for_group.append(roles) for role in roles: expected_remove_group_role.append( mock.call(test.IsHttpRequest(), role=role.id, group='1', domain=domain.id)) expected_roles_for_group.append( mock.call(test.IsHttpRequest(), group='2', domain=domain.id)) retvals_roles_for_group.append((roles[0],)) expected_remove_group_role.append( mock.call(test.IsHttpRequest(), role='1', group='2', domain=domain.id)) expected_add_group_role.append( mock.call(test.IsHttpRequest(), role='2', group='2', domain=domain.id)) expected_roles_for_group.append( mock.call(test.IsHttpRequest(), group='3', domain=domain.id)) retvals_roles_for_group.append((roles[1],)) expected_remove_group_role.append( mock.call(test.IsHttpRequest(), role='2', group='3', domain=domain.id)) expected_add_group_role.append( mock.call(test.IsHttpRequest(), role='1', group='3', domain=domain.id)) # init and handle self.mock_domain_get.assert_called_once_with(test.IsHttpRequest(), '1') self.assert_mock_multiple_calls_with_same_arguments( self.mock_get_default_role, 2, mock.call(test.IsHttpRequest())) self.assert_mock_multiple_calls_with_same_arguments( self.mock_role_list, 6, mock.call(test.IsHttpRequest())) self.assert_mock_multiple_calls_with_same_arguments( self.mock_user_list, 2, mock.call(test.IsHttpRequest(), domain=domain.id)) self.assert_mock_multiple_calls_with_same_arguments( self.mock_role_assignments_list, 2, mock.call(test.IsHttpRequest(), domain=domain.id, include_subtree=False)) self.mock_domain_update.assert_called_once_with( test.IsHttpRequest(), domain.id, name=domain.name, description=test_description, enabled=domain.enabled) # Give user 3 role 1 self.mock_add_domain_user_role.assert_called_once_with( test.IsHttpRequest(), domain=domain.id, user='3', role='1') # remove role 2 from user 3 self.mock_remove_domain_user_role.assert_called_once_with( test.IsHttpRequest(), domain=domain.id, user='3', role='2') self.mock_group_list.assert_has_calls( expected_group_list) self.assertEqual(len(expected_group_list), self.mock_group_list.call_count) self.mock_roles_for_group.assert_has_calls( expected_roles_for_group) self.assertEqual(len(expected_roles_for_group), self.mock_roles_for_group.call_count) self.mock_remove_group_role.assert_has_calls( expected_remove_group_role) self.assertEqual(len(expected_remove_group_role), self.mock_remove_group_role.call_count) self.mock_add_group_role.assert_has_calls( expected_add_group_role) self.assertEqual(len(expected_add_group_role), self.mock_add_group_role.call_count) @test.create_mocks({api.keystone: ('domain_get',)}) self.mock_domain_get.side_effect = self.exceptions.keystone self.mock_domain_get.assert_called_once_with(test.IsHttpRequest(), domain.id) @test.create_mocks({api.keystone: ('domain_get', self.mock_domain_get(test.IsHttpRequest(), '1').AndReturn(domain) self.mock_get_default_role(test.IsHttpRequest()) \ self.mock_role_list(test.IsHttpRequest()) \ self.mock_user_list(test.IsHttpRequest(), domain=domain.id) \ self.mock_role_assignments_list(test.IsHttpRequest(), domain=domain.id, include_subtree=False) \ self.mock_group_list(test.IsHttpRequest(), domain=domain.id) \ self.mock_roles_for_group(test.IsHttpRequest(), group=group.id, domain=domain.id) \ self.mock_domain_update.side_effect = self.exceptions.keystone self.mock_domain_update.assert_called_once_with( test.IsHttpRequest(), domain.id, name=domain.name, description=test_description, enabled=domain.enabled)"," from django import httpfrom mox3.mox import IgnoreArg from mox3.mox import IsAfrom openstack_dashboard.test import helpers as test use_mox = True @test.create_stubs({api.keystone: ('domain_get', 'domain_list',)}) def test_index(self): api.keystone.domain_list(IgnoreArg()).AndReturn(self.domains.list()) self.mox.ReplayAll() @test.create_stubs({api.keystone: ('domain_get', 'domain_list', api.keystone.domain_list(IgnoreArg()).AndReturn(self.domains.list()) api.keystone.keystone_can_edit_domain() \ .MultipleTimes().AndReturn(False) self.mox.ReplayAll() @test.create_stubs({api.keystone: ('domain_get', 'domain_list', api.keystone.domain_list(IgnoreArg()).AndReturn(self.domains.list()) api.keystone.domain_delete(IgnoreArg(), domain.id) self.mox.ReplayAll() @test.create_stubs({api.keystone: ('domain_get', 'domain_list', )}) api.keystone.domain_list(IgnoreArg()).AndReturn(self.domains.list()) self.mox.ReplayAll() @test.create_stubs({api.keystone: ('domain_get', 'domain_list', api.keystone.domain_list(IgnoreArg()).AndReturn(self.domains.list()) api.keystone.domain_update(IsA(http.HttpRequest), description=domain.description, domain_id=domain.id, enabled=False, name=domain.name).AndReturn(None) self.mox.ReplayAll() @test.create_stubs({api.keystone: ('domain_get', 'domain_list', api.keystone.domain_list(IgnoreArg()).AndReturn(self.domains.list()) api.keystone.domain_update(IsA(http.HttpRequest), description=domain.description, domain_id=domain.id, enabled=True, name=domain.name).AndReturn(None) self.mox.ReplayAll() @test.create_stubs({api.keystone: ('domain_get', api.keystone.domain_get(IgnoreArg(), domain.id).AndReturn(domain) api.keystone.domain_get(IgnoreArg(), domain.id).AndReturn(domain) api.keystone.domain_list(IgnoreArg()).AndReturn(self.domains.list()) self.mox.ReplayAll() use_mox = True @test.create_stubs({api.keystone: ('domain_create', )}) api.keystone.domain_create(IsA(http.HttpRequest), description=domain.description, enabled=domain.enabled, name=domain.name).AndReturn(domain) self.mox.ReplayAll() use_mox = True @test.create_stubs({api.keystone: ('domain_get', api.keystone.domain_get(IsA(http.HttpRequest), '1').AndReturn(domain) api.keystone.get_default_role(IsA(http.HttpRequest)) \ .MultipleTimes().AndReturn(default_role) api.keystone.role_list(IsA(http.HttpRequest)) \ .MultipleTimes().AndReturn(roles) api.keystone.user_list(IsA(http.HttpRequest), domain=domain.id) \ .AndReturn(users) api.keystone.role_assignments_list(IsA(http.HttpRequest), domain=domain.id, include_subtree=False) \ .AndReturn(role_assignments) api.keystone.group_list(IsA(http.HttpRequest), domain=domain.id) \ .AndReturn(groups) for group in groups: api.keystone.roles_for_group(IsA(http.HttpRequest), group=group.id, domain=domain.id) \ .AndReturn(roles) self.mox.ReplayAll() @test.create_stubs({api.keystone: ('domain_get', api.keystone.domain_get(IsA(http.HttpRequest), '1').AndReturn(domain) api.keystone.get_default_role(IsA(http.HttpRequest)) \ .MultipleTimes().AndReturn(default_role) api.keystone.role_list(IsA(http.HttpRequest)) \ .MultipleTimes().AndReturn(roles) api.keystone.user_list(IsA(http.HttpRequest), domain=domain.id) \ .AndReturn(users) api.keystone.role_assignments_list(IsA(http.HttpRequest), domain=domain.id, include_subtree=False) \ .AndReturn(role_assignments) api.keystone.group_list(IsA(http.HttpRequest), domain=domain.id) \ .AndReturn(groups) api.keystone.roles_for_group(IsA(http.HttpRequest), group=group.id, domain=domain.id) \ .AndReturn(roles) api.keystone.domain_update(IsA(http.HttpRequest), domain.id, name=domain.name, description=test_description, enabled=domain.enabled).AndReturn(None) api.keystone.role_assignments_list(IsA(http.HttpRequest), domain=domain.id, include_subtree=False) \ .AndReturn(role_assignments) api.keystone.user_list(IsA(http.HttpRequest), domain=domain.id).AndReturn(users) api.keystone.add_domain_user_role(IsA(http.HttpRequest), domain=domain.id, user='3', role='1') api.keystone.remove_domain_user_role(IsA(http.HttpRequest), domain=domain.id, user='3', role='2') api.keystone.group_list(IsA(http.HttpRequest), domain=domain.id).AndReturn(domain_groups) api.keystone.roles_for_group(IsA(http.HttpRequest), group='1', domain=domain.id) \ .AndReturn(roles) for role in roles: api.keystone.remove_group_role(IsA(http.HttpRequest), role=role.id, group='1', domain=domain.id) api.keystone.roles_for_group(IsA(http.HttpRequest), group='2', domain=domain.id) \ .AndReturn((roles[0],)) api.keystone.remove_group_role(IsA(http.HttpRequest), role='1', group='2', domain=domain.id) api.keystone.add_group_role(IsA(http.HttpRequest), role='2', group='2', domain=domain.id) api.keystone.roles_for_group(IsA(http.HttpRequest), group='3', domain=domain.id) \ .AndReturn((roles[1],)) api.keystone.remove_group_role(IsA(http.HttpRequest), role='2', group='3', domain=domain.id) api.keystone.add_group_role(IsA(http.HttpRequest), role='1', group='3', domain=domain.id) self.mox.ReplayAll() @test.create_stubs({api.keystone: ('domain_get',)}) api.keystone.domain_get(IsA(http.HttpRequest), domain.id) \ .AndRaise(self.exceptions.keystone) self.mox.ReplayAll() @test.create_stubs({api.keystone: ('domain_get', api.keystone.domain_get(IsA(http.HttpRequest), '1').AndReturn(domain) api.keystone.get_default_role(IsA(http.HttpRequest)) \ api.keystone.role_list(IsA(http.HttpRequest)) \ api.keystone.user_list(IsA(http.HttpRequest), domain=domain.id) \ api.keystone.role_assignments_list(IsA(http.HttpRequest), domain=domain.id, include_subtree=False) \ api.keystone.group_list(IsA(http.HttpRequest), domain=domain.id) \ api.keystone.roles_for_group(IsA(http.HttpRequest), group=group.id, domain=domain.id) \ api.keystone.domain_update(IsA(http.HttpRequest), domain.id, name=domain.name, description=test_description, enabled=domain.enabled) \ .AndRaise(self.exceptions.keystone) self.mox.ReplayAll()",212,191
openstack%2Fopenstack-ansible-tests~master~I90dcd122fbc96f7737363dd353b50a516122667a,openstack/openstack-ansible-tests,master,I90dcd122fbc96f7737363dd353b50a516122667a,Optionally use the old rabbitmq setup tasks,MERGED,2018-05-17 08:56:31.000000000,2018-05-17 12:18:00.000000000,2018-05-17 12:18:00.000000000,"[{'_account_id': 6816}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 08:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/bab337417e507c42c13f26e595cbe4de26f93f18', 'message': ""Optionally use the old rabbitmq setup tasks\n\nWith the merge of https://review.openstack.org/559127 the roles\nwhich do not yet have the oslomsg_rpc_all/oslomsg_notify_all\ngroups are failing with messages like:\n\n'dict object' has no attribute 'oslomsg_rpc_all'\n'dict object' has no attribute 'oslomsg_notify_all'\n\nThis patch puts the old ensure-rabbitmq.yml task include back\nand activates it when these groups are not defined.\n\nChange-Id: I90dcd122fbc96f7737363dd353b50a516122667a\n""}, {'number': 2, 'created': '2018-05-17 09:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/910f083a5e484275bc109bee746235003da19e13', 'message': ""Optionally use the old rabbitmq setup tasks\n\nWith the merge of https://review.openstack.org/559127 the roles\nwhich do not yet have the oslomsg_rpc_all/oslomsg_notify_all\ngroups are failing with messages like:\n\n'dict object' has no attribute 'oslomsg_rpc_all'\n'dict object' has no attribute 'oslomsg_notify_all'\n\nThis patch puts the old ensure-rabbitmq.yml task include back\nand activates it when these groups are not defined.\n\nChange-Id: I90dcd122fbc96f7737363dd353b50a516122667a\n""}, {'number': 3, 'created': '2018-05-17 09:25:26.000000000', 'files': ['test-install-nova.yml', 'test-install-sahara.yml', 'test-install-neutron.yml', 'test-install-heat.yml', 'test-install-cinder.yml', 'test-install-ironic.yml', 'test-install-keystone.yml', 'test-install-glance.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/d1d0d2156485b22b8d5a0e4f6cb1d5f5a15c8394', 'message': ""Optionally use the old rabbitmq setup tasks\n\nWith the merge of https://review.openstack.org/559127 the roles\nwhich do not yet have the oslomsg_rpc_all/oslomsg_notify_all\ngroups are failing with messages like:\n\n'dict object' has no attribute 'oslomsg_rpc_all'\n'dict object' has no attribute 'oslomsg_notify_all'\n\nThis patch puts the old ensure-rabbitmq.yml task include back\nand activates it when these groups are not defined.\n\nChange-Id: I90dcd122fbc96f7737363dd353b50a516122667a\n""}]",4,569061,d1d0d2156485b22b8d5a0e4f6cb1d5f5a15c8394,15,4,3,6816,,,0,"Optionally use the old rabbitmq setup tasks

With the merge of https://review.openstack.org/559127 the roles
which do not yet have the oslomsg_rpc_all/oslomsg_notify_all
groups are failing with messages like:

'dict object' has no attribute 'oslomsg_rpc_all'
'dict object' has no attribute 'oslomsg_notify_all'

This patch puts the old ensure-rabbitmq.yml task include back
and activates it when these groups are not defined.

Change-Id: I90dcd122fbc96f7737363dd353b50a516122667a
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/61/569061/1 && git format-patch -1 --stdout FETCH_HEAD,['test-install-cinder.yml'],1,bab337417e507c42c13f26e595cbe4de26f93f18,bp/hybrid-messaging," - include: ensure-rabbitmq.yml vhost_name: ""{{ cinder_rabbitmq_vhost }}"" user_name: ""{{ cinder_rabbitmq_userid }}"" user_password: ""{{ cinder_rabbitmq_password }}"" when: - 'oslomsg_rpc_all' not in groups when: - 'oslomsg_rpc_all' in groups - groups['oslomsg_rpc_all'] | length > 0",,10,0
openstack%2Fopenstacksdk~master~I325946cfcc03daac5587b4036311fa49e0b6b438,openstack/openstacksdk,master,I325946cfcc03daac5587b4036311fa49e0b6b438,Support add/remove user to/from group,ABANDONED,2018-05-17 10:17:01.000000000,2018-05-17 12:04:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-17 10:17:01.000000000', 'files': ['openstack/identity/v3/group.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7c8f4079084813d4e9765b1376c42c17ad882247', 'message': 'Support add/remove user to/from group\n\nChange-Id: I325946cfcc03daac5587b4036311fa49e0b6b438\nTask: 19707\nStory: 2002058\n'}]",0,569082,7c8f4079084813d4e9765b1376c42c17ad882247,5,1,1,28244,,,0,"Support add/remove user to/from group

Change-Id: I325946cfcc03daac5587b4036311fa49e0b6b438
Task: 19707
Story: 2002058
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/82/569082/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/identity/v3/group.py'],1,7c8f4079084813d4e9765b1376c42c17ad882247,update-group," def add_user(self, session, user): """"""Add a user to the group"""""" url = utils.urljoin(self.base_path, self.id, 'users', user.id) resp = session.put(url,) if resp.status_code == 204: return True return False def remove_user(self, session, user): """"""Remove a user from the group"""""" url = utils.urljoin(self.base_path, self.id, 'users', user.id) resp = session.delete(url,) if resp.status_code == 204: return True return False",,16,0
openstack%2Fmanila~master~Ied73662270c56bbeb3a09ae2ad7965de58f6ef8d,openstack/manila,master,Ied73662270c56bbeb3a09ae2ad7965de58f6ef8d,"Update ""auth_url"" in install docs",MERGED,2018-05-10 08:37:02.000000000,2018-05-17 11:56:19.000000000,2018-05-17 11:56:19.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15100}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 25456}]","[{'number': 1, 'created': '2018-05-10 08:37:02.000000000', 'files': ['doc/source/install/common/dhss-true-mode-configuration.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/712d3854c76ae431d4fda482936176bcd5f8d70c', 'message': 'Update ""auth_url"" in install docs\n\nBased on the change in Keystone Install Guide [1],\nthis patch replace port 35357 with 5000 for ""auth_url"" in docs.\n\nFor more details, please check similar changes which have been done\non other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].\n\n[1] https://review.openstack.org/#/c/541857\n[2] https://review.openstack.org/#/c/562812\n[3] https://review.openstack.org/#/c/566491\n[4] https://review.openstack.org/#/c/565464\n[5] https://review.openstack.org/#/c/558932\n\nChange-Id: Ied73662270c56bbeb3a09ae2ad7965de58f6ef8d\n'}]",0,567516,712d3854c76ae431d4fda482936176bcd5f8d70c,17,12,1,25903,,,0,"Update ""auth_url"" in install docs

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"" in docs.

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: Ied73662270c56bbeb3a09ae2ad7965de58f6ef8d
",git fetch https://review.opendev.org/openstack/manila refs/changes/16/567516/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/common/dhss-true-mode-configuration.rst'],1,712d3854c76ae431d4fda482936176bcd5f8d70c,auth_url, auth_url = http://controller:5000 auth_url = http://controller:5000, auth_url = http://controller:35357 auth_url = http://controller:35357,2,2
openstack%2Fmanila-tempest-plugin~master~Ib3234a6194b1595a7fa8f9d0c69d44dc1f399f4c,openstack/manila-tempest-plugin,master,Ib3234a6194b1595a7fa8f9d0c69d44dc1f399f4c,Replace http with https for doc links,MERGED,2018-05-08 08:25:02.000000000,2018-05-17 11:49:47.000000000,2018-05-17 11:49:47.000000000,"[{'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-08 08:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c4e0a8acf1da048acce242182b90e3aa172f052e', 'message': 'Update the outdated links\n\nChange-Id: Ib3234a6194b1595a7fa8f9d0c69d44dc1f399f4c\n'}, {'number': 2, 'created': '2018-05-10 03:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f17be16083d336820608b9e0cb9876078030cb6c', 'message': 'Replace http with https for doc links\n\nChange-Id: Ib3234a6194b1595a7fa8f9d0c69d44dc1f399f4c\n'}, {'number': 3, 'created': '2018-05-10 10:50:44.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/15572721e61026c36d57574b89260b5abf88736f', 'message': 'Replace http with https for doc links\n\nChange-Id: Ib3234a6194b1595a7fa8f9d0c69d44dc1f399f4c\n'}]",1,566812,15572721e61026c36d57574b89260b5abf88736f,14,3,3,23314,,,0,"Replace http with https for doc links

Change-Id: Ib3234a6194b1595a7fa8f9d0c69d44dc1f399f4c
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/12/566812/2 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'setup.cfg']",2,c4e0a8acf1da048acce242182b90e3aa172f052e,,home-page = https://www.openstack.org/ manila_tests = manila_tempest_tests.plugin:ManilaTempestPlugin ,home-page = http://www.openstack.org/ manila_tests = manila_tempest_tests.plugin:ManilaTempestPlugin,4,4
openstack%2Fmistral~stable%2Fpike~I013d4837603839364f8d699f7ce97e4400879d38,openstack/mistral,stable/pike,I013d4837603839364f8d699f7ce97e4400879d38,"Release note for using ""passive_deletes=True""",MERGED,2018-05-17 10:30:47.000000000,2018-05-17 11:22:14.000000000,2018-05-17 11:22:14.000000000,"[{'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 10:30:47.000000000', 'files': ['releasenotes/notes/using_passive_deletes_in_sqlalchemy-4b3006b3aba55155.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/a619245ce96bf2ad0dab41efb260c961103825fc', 'message': 'Release note for using ""passive_deletes=True""\n\nRelated-Bug: #1757966\n\nChange-Id: I013d4837603839364f8d699f7ce97e4400879d38\n(cherry picked from commit 696e82702c0deafb4a5f1baf35da8e7987818fd0)\n'}]",0,569084,a619245ce96bf2ad0dab41efb260c961103825fc,6,2,1,8731,,,0,"Release note for using ""passive_deletes=True""

Related-Bug: #1757966

Change-Id: I013d4837603839364f8d699f7ce97e4400879d38
(cherry picked from commit 696e82702c0deafb4a5f1baf35da8e7987818fd0)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/84/569084/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/using_passive_deletes_in_sqlalchemy-4b3006b3aba55155.yaml'],1,a619245ce96bf2ad0dab41efb260c961103825fc,bug/1757966-stable/pike,"--- fixes: - | Used ""passive_deletes=True"" in the configuration of relationships in SQLAlchemy models. This improves deletion of graphs of related objects stored in DB because dependent objects don't get loaded prior to deleting them. More about using this flag can be found at: http://docs.sqlalchemy.org/en/latest/orm/collections.html#using-passive-deletes ",,9,0
openstack%2Fopenstack-helm~master~If979d07e623659c123c976f603c5fda06238c96b,openstack/openstack-helm,master,If979d07e623659c123c976f603c5fda06238c96b,Telemetry: add aodh chart,ABANDONED,2017-09-28 18:26:25.000000000,2018-05-17 10:44:41.000000000,,"[{'_account_id': 3}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-09-28 18:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a79ff45e182ed324efcddec777474b38e3d041b7', 'message': 'Telemetry: add aodh chart\n\nThis PS adds a aodh chart.\n\nChange-Id: If979d07e623659c123c976f603c5fda06238c96b\nCo-Authored-By: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n'}, {'number': 2, 'created': '2017-09-28 20:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d4b2bfc8aa3226892861bb85e76da9521e7834d6', 'message': 'Telemetry: add aodh chart\n\nThis PS adds a aodh chart.\n\nChange-Id: If979d07e623659c123c976f603c5fda06238c96b\nCo-Authored-By: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n'}, {'number': 3, 'created': '2017-09-28 20:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5aefebb6b6761c32f4e89a68db705594e490faee', 'message': 'Telemetry: add aodh chart\n\nThis PS adds a aodh chart.\n\nChange-Id: If979d07e623659c123c976f603c5fda06238c96b\nCo-Authored-By: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n'}, {'number': 4, 'created': '2017-09-29 04:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d390ef99dffee3ac95624e00499fa04a7268c269', 'message': 'Telemetry: add aodh chart\n\nThis PS adds a aodh chart.\n\nChange-Id: If979d07e623659c123c976f603c5fda06238c96b\nCo-Authored-By: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n'}, {'number': 5, 'created': '2017-10-04 20:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/da275e37e9e25a86c1b37a05ffe9167f4b018b8a', 'message': 'Telemetry: add aodh chart\n\nThis PS adds a aodh chart.\n\nChange-Id: If979d07e623659c123c976f603c5fda06238c96b\nCo-Authored-By: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n'}, {'number': 6, 'created': '2017-10-04 20:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/16dc658ce9021836be05abd97258d8b7352dca10', 'message': 'Telemetry: add aodh chart\n\nThis PS adds a aodh chart.\n\nChange-Id: If979d07e623659c123c976f603c5fda06238c96b\nCo-Authored-By: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n'}, {'number': 7, 'created': '2017-10-04 20:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/90248257e2a354a2acd9a71a7688b3f22118843c', 'message': 'Telemetry: add aodh chart\n\nThis PS adds a aodh chart.\n\nChange-Id: If979d07e623659c123c976f603c5fda06238c96b\nCo-Authored-By: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n'}, {'number': 8, 'created': '2017-10-10 00:36:26.000000000', 'files': ['aodh/templates/bin/_aodh-listener.sh.tpl', 'aodh/templates/bin/_aodh-evaluator.sh.tpl', 'tools/gate/launch-osh/basic.sh', 'aodh/.helmignore', 'aodh/templates/etc/_rally_tests.yaml.tpl', 'aodh/templates/service-api.yaml', 'aodh/templates/ingress.yaml', 'aodh/templates/secret-keystone.yaml', 'ceilometer/values.yaml', 'aodh/templates/job-db-sync.yaml', 'aodh/templates/deployment-notifier.yaml', 'aodh/templates/configmap-bin.yaml', 'aodh/Chart.yaml', 'aodh/requirements.yaml', 'aodh/templates/deployment-api.yaml', 'aodh/templates/job-ks-user.yaml', 'aodh/templates/service-ingress-aodh.yaml', 'aodh/templates/bin/_aodh-api.sh.tpl', 'aodh/templates/job-ks-endpoints.yaml', 'aodh/templates/bin/_db-sync.sh.tpl', 'aodh/templates/configmap-etc.yaml', 'aodh/values.yaml', 'aodh/templates/pdb-api.yaml', 'aodh/templates/job-ks-service.yaml', 'aodh/templates/bin/_aodh-notifier.sh.tpl', 'aodh/templates/etc/_wsgi-aodh.conf.tpl', 'aodh/templates/pod-rally-test.yaml', 'aodh/templates/secret-db.yaml', 'aodh/templates/deployment-listener.yaml', 'aodh/templates/job-db-init.yaml', 'aodh/templates/deployment-evaluator.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f7b738b152e4dd813500047eee1fa4677613ac42', 'message': 'Telemetry: add aodh chart\n\nThis PS adds a aodh chart.\n\nChange-Id: If979d07e623659c123c976f603c5fda06238c96b\nCo-Authored-By: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n'}]",0,508264,f7b738b152e4dd813500047eee1fa4677613ac42,34,5,8,23928,,,0,"Telemetry: add aodh chart

This PS adds a aodh chart.

Change-Id: If979d07e623659c123c976f603c5fda06238c96b
Co-Authored-By: Steve Wilkerson <sw5822@att.com>
Co-Authored-By: Larry Rensing <lr699s@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/64/508264/4 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/templates/bin/_aodh-listener.sh.tpl', 'aodh/templates/bin/_aodh-evaluator.sh.tpl', 'tools/gate/launch-osh/basic.sh', 'aodh/.helmignore', 'aodh/templates/etc/_rally_tests.yaml.tpl', 'aodh/templates/service-api.yaml', 'aodh/templates/ingress.yaml', 'aodh/templates/secret-keystone.yaml', 'ceilometer/values.yaml', 'aodh/templates/job-db-sync.yaml', 'aodh/templates/deployment-notifier.yaml', 'aodh/templates/configmap-bin.yaml', 'aodh/Chart.yaml', 'aodh/requirements.yaml', 'aodh/templates/deployment-api.yaml', 'aodh/templates/job-ks-user.yaml', 'aodh/templates/service-ingress-aodh.yaml', 'aodh/templates/bin/_aodh-api.sh.tpl', 'aodh/templates/job-ks-endpoints.yaml', 'aodh/templates/bin/_db-sync.sh.tpl', 'aodh/templates/configmap-etc.yaml', 'aodh/values.yaml', 'aodh/templates/pdb-api.yaml', 'aodh/templates/job-ks-service.yaml', 'aodh/templates/bin/_aodh-notifier.sh.tpl', 'aodh/templates/etc/_wsgi-aodh.conf.tpl', 'aodh/templates/pod-rally-test.yaml', 'aodh/templates/secret-db.yaml', 'aodh/templates/deployment-listener.yaml', 'aodh/templates/job-db-init.yaml', 'aodh/templates/deployment-evaluator.yaml']",31,a79ff45e182ed324efcddec777474b38e3d041b7,OSH/Telemetry,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.deployment_evaluator }} {{- $envAll := . }} {{- $dependencies := .Values.dependencies.evaluator }} {{- $mounts_aodh_evaluator := .Values.pod.mounts.aodh_evaluator.aodh_evaluator }} {{- $mounts_aodh_evaluator_init := .Values.pod.mounts.aodh_evaluator.init_container }} --- apiVersion: apps/v1beta1 kind: Deployment metadata: name: aodh-evaluator spec: replicas: {{ .Values.pod.replicas.evaluator }} {{ tuple $envAll | include ""helm-toolkit.snippets.kubernetes_upgrades_deployment"" | indent 2 }} template: metadata: labels: {{ tuple $envAll ""aodh"" ""evaluator"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} annotations: configmap-bin-hash: {{ tuple ""configmap-bin.yaml"" . | include ""helm-toolkit.utils.hash"" }} configmap-etc-hash: {{ tuple ""configmap-etc.yaml"" . | include ""helm-toolkit.utils.hash"" }} spec: affinity: {{ tuple $envAll ""aodh"" ""evaluator"" | include ""helm-toolkit.snippets.kubernetes_pod_anti_affinity"" | indent 8 }} nodeSelector: {{ .Values.labels.evaluator.node_selector_key }}: {{ .Values.labels.evaluator.node_selector_value }} initContainers: {{ tuple $envAll $dependencies $mounts_aodh_evaluator_init | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} containers: - name: aodh-evaluator image: {{ .Values.images.evaluator }} imagePullPolicy: {{ .Values.images.pull_policy }} {{ tuple $envAll $envAll.Values.pod.resources.evaluator | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} command: - /tmp/aodh-evaluator.sh volumeMounts: - name: pod-etc-aodh mountPath: /etc/aodh - name: aodh-etc mountPath: /etc/aodh/aodh.conf subPath: aodh.conf readOnly: true - name: aodh-etc mountPath: /etc/aodh/policy.json subPath: policy.json readOnly: true - name: aodh-bin mountPath: /tmp/aodh-evaluator.sh subPath: aodh-evaluator.sh readOnly: true {{ if $mounts_aodh_evaluator.volumeMounts }}{{ toYaml $mounts_aodh_evaluator.volumeMounts | indent 12 }}{{ end }} volumes: - name: pod-etc-aodh emptyDir: {} - name: aodh-etc configMap: name: aodh-etc defaultMode: 0444 - name: aodh-bin configMap: name: aodh-bin defaultMode: 0555 {{ if $mounts_aodh_evaluator.volumes }}{{ toYaml $mounts_aodh_evaluator.volumes | indent 8 }}{{ end }} {{- end }} ",,1932,1
openstack%2Fkolla~stable%2Fqueens~Ic9547e499209b6c2211cb56b6bdbf0bcf1112a5a,openstack/kolla,stable/queens,Ic9547e499209b6c2211cb56b6bdbf0bcf1112a5a,base/debian: stop using people.linaro.org repo,MERGED,2018-05-17 07:44:47.000000000,2018-05-17 10:29:30.000000000,2018-05-17 10:29:30.000000000,"[{'_account_id': 1390}, {'_account_id': 13039}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-05-17 07:44:47.000000000', 'files': ['docker/base/sources.list.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f584b1dcd6250ecba7138365e2dc5389c49586c8', 'message': 'base/debian: stop using people.linaro.org repo\n\nAt Linaro we remove all personal repos so similar to change\nId9aab125b2e5c7e66b4befadb435c697d8b2e553 done in master this patch\nremoves people.linaro.org with opendaylight.\n\nPackage is provided by ERP:kolla:queens repo now.\n\nChange-Id: Ic9547e499209b6c2211cb56b6bdbf0bcf1112a5a\n'}]",0,569045,f584b1dcd6250ecba7138365e2dc5389c49586c8,8,5,1,24072,,,0,"base/debian: stop using people.linaro.org repo

At Linaro we remove all personal repos so similar to change
Id9aab125b2e5c7e66b4befadb435c697d8b2e553 done in master this patch
removes people.linaro.org with opendaylight.

Package is provided by ERP:kolla:queens repo now.

Change-Id: Ic9547e499209b6c2211cb56b6bdbf0bcf1112a5a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/45/569045/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/sources.list.debian'],1,f584b1dcd6250ecba7138365e2dc5389c49586c8,,"# ceph, dpdk, kibana, libvirt, nodejs, opendayligh, openvswitch, qemu","# Opendaylight repo deb http://people.linaro.org/~marcin.juszkiewicz/debian/stretch/ ./ # dpdk, libvirt, openvswitch, qemu",1,4
openstack%2Fhorizon~master~Id9b40bf44c5ab46e7af6c5fa1dea96663c38f3dd,openstack/horizon,master,Id9b40bf44c5ab46e7af6c5fa1dea96663c38f3dd,Convert admin.networks tests into mock,MERGED,2018-05-14 00:19:10.000000000,2018-05-17 10:16:39.000000000,2018-05-17 10:16:39.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 00:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2f7c1badac0b94da699df02c0b94263642d3aec2', 'message': 'Convert admin.networks tests into mock\n\nblueprint mock-framework-in-unit-tests\n\nChange-Id: Id9b40bf44c5ab46e7af6c5fa1dea96663c38f3dd\n'}, {'number': 2, 'created': '2018-05-14 00:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a756eb544f463e3bacf8398d5f2db9ef8817b999', 'message': 'Convert admin.networks tests into mock\n\nblueprint mock-framework-in-unit-tests\n\nChange-Id: Id9b40bf44c5ab46e7af6c5fa1dea96663c38f3dd\n'}, {'number': 3, 'created': '2018-05-14 02:28:47.000000000', 'files': ['openstack_dashboard/dashboards/admin/networks/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5e012b45fc028f5a7ec4333be247acf03f9c3eac', 'message': 'Convert admin.networks tests into mock\n\nblueprint mock-framework-in-unit-tests\n\nChange-Id: Id9b40bf44c5ab46e7af6c5fa1dea96663c38f3dd\n'}]",0,568163,5e012b45fc028f5a7ec4333be247acf03f9c3eac,9,2,3,841,,,0,"Convert admin.networks tests into mock

blueprint mock-framework-in-unit-tests

Change-Id: Id9b40bf44c5ab46e7af6c5fa1dea96663c38f3dd
",git fetch https://review.opendev.org/openstack/horizon refs/changes/63/568163/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/networks/tests.py'],1,2f7c1badac0b94da699df02c0b94263642d3aec2,bp/mock-framework-in-unit-tests,"import collections import mock def _stub_is_extension_supported(self, features): self._features = features self._feature_call_counts = collections.defaultdict(int) def fake_extension_supported(request, alias): self._feature_call_counts[alias] += 1 return self._features[alias] self.mock_is_extension_supported.side_effect = fake_extension_supported def _check_is_extension_supported(self, expected_count): self.assertEqual(expected_count, self._feature_call_counts) @test.create_mocks({api.neutron: ('network_list', self.mock_network_list.return_value = self.networks.list() self.mock_tenant_list.return_value = [tenants, False] self._stub_is_extension_supported( {'network_availability_zone': True, 'dhcp_agent_scheduler': True}) self.mock_tenant_quota_usages.return_value = quota_data self.mock_list_dhcp_agent_hosting_networks.return_value = \ self.agents.list() self.mock_network_list.assert_called_once_with(test.IsHttpRequest()) self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) self._check_is_extension_supported( {'network_availability_zone': 1, 'dhcp_agent_scheduler': len(self.networks.list()) + 1}) self.mock_tenant_quota_usages.assert_has_calls( [mock.call(test.IsHttpRequest(), tenant_id=network.tenant_id, targets=('subnet', )) for network in self.networks.list()]) self.assertEqual(len(self.networks.list()), self.mock_tenant_quota_usages.call_count) self.mock_list_dhcp_agent_hosting_networks.assert_has_calls( [mock.call(test.IsHttpRequest(), network.id) for network in self.networks.list()]) self.assertEqual(len(self.networks.list()), self.mock_list_dhcp_agent_hosting_networks.call_count) @test.create_mocks({api.neutron: ('network_list', self.mock_network_list.side_effect = self.exceptions.neutron self._stub_is_extension_supported( {'network_availability_zone': True, 'dhcp_agent_scheduler': True}) self.mock_network_list.assert_called_once_with(test.IsHttpRequest()) self._check_is_extension_supported( {'network_availability_zone': 1, 'dhcp_agent_scheduler': 1}) @test.create_mocks({api.neutron: ('network_get', self.mock_network_get.return_value = network self.mock_tenant_quota_usages.return_value = quota_data self._stub_is_extension_supported( {'network-ip-availability': True, 'network_availability_zone': True, 'mac-learning': mac_learning, 'dhcp_agent_scheduler': True}) self.assert_mock_multiple_calls_with_same_arguments( self.mock_network_get, 2, mock.call(test.IsHttpRequest(), network.id)) self.mock_tenant_quota_usages.assert_called_once_with( test.IsHttpRequest(), tenant_id=network.tenant_id, targets=('subnet',)) self._check_is_extension_supported( {'network-ip-availability': 1, 'network_availability_zone': 1, 'mac-learning': 1, 'dhcp_agent_scheduler': 1}) @test.create_mocks({api.neutron: ('network_get', 'subnet_list', 'port_list', 'show_network_ip_availability', 'list_dhcp_agent_hosting_networks', 'is_extension_supported'), usage.quotas: ('tenant_quota_usages',)}) self.mock_show_network_ip_availability.return_value = ip_availability self.mock_network_get.return_value = network self.mock_subnet_list.return_value = [self.subnets.first()] self._stub_is_extension_supported( {'network-ip-availability': True, 'mac-learning': mac_learning, 'network_availability_zone': True, 'dhcp_agent_scheduler': True}) self.mock_tenant_quota_usages.return_value = quota_data self.mock_show_network_ip_availability.assert_called_once_with( test.IsHttpRequest(), network.id) self.assert_mock_multiple_calls_with_same_arguments( self.mock_network_get, 2, mock.call(test.IsHttpRequest(), network.id)) self.mock_subnet_list.assert_called_once_with(test.IsHttpRequest(), network_id=network.id) self._check_is_extension_supported( {'network-ip-availability': 2, 'mac-learning': 1, 'network_availability_zone': 1, 'dhcp_agent_scheduler': 1}) self.assert_mock_multiple_calls_with_same_arguments( self.mock_tenant_quota_usages, 3, mock.call(test.IsHttpRequest(), tenant_id=network.tenant_id, targets=('subnet',))) @test.create_mocks({api.neutron: ('network_get', self.mock_network_get.return_value = network self.mock_port_list.return_value = [self.ports.first()] self.mock_tenant_quota_usages.return_value = quota_data self._stub_is_extension_supported( {'network-ip-availability': True, 'mac-learning': mac_learning, 'network_availability_zone': True, 'dhcp_agent_scheduler': True}) self.assert_mock_multiple_calls_with_same_arguments( self.mock_network_get, 2, mock.call(test.IsHttpRequest(), network.id)) self.mock_port_list.assert_called_once_with(test.IsHttpRequest(), network_id=network.id) self.assertEqual(3, self.mock_tenant_quota_usages.call_count) self.mock_tenant_quota_usages.assert_has_calls([ mock.call(test.IsHttpRequest(), tenant_id=network.tenant_id, targets=('subnet',)), mock.call(test.IsHttpRequest(), tenant_id=network.tenant_id, targets=('port',)), mock.call(test.IsHttpRequest(), tenant_id=network.tenant_id, targets=('port',)), ]) self._check_is_extension_supported( {'network-ip-availability': 1, 'mac-learning': 1, 'network_availability_zone': 1, 'dhcp_agent_scheduler': 1}) @test.create_mocks({api.neutron: ('network_get', self._stub_is_extension_supported( {'network-ip-availability': True, 'mac-learning': mac_learning, 'network_availability_zone': True, 'dhcp_agent_scheduler': True}) self.mock_list_dhcp_agent_hosting_networks.return_value = \ self.agents.list() self.mock_network_get.return_value = network self.mock_tenant_quota_usages.return_value = quota_data self._check_is_extension_supported( {'network-ip-availability': 1, 'mac-learning': 1, 'network_availability_zone': 1, 'dhcp_agent_scheduler': 2}) self.mock_list_dhcp_agent_hosting_networks.assert_called_once_with( test.IsHttpRequest(), network.id) self.mock_network_get.assert_called_once_with( test.IsHttpRequest(), network.id) self.mock_tenant_quota_usages.assert_called_once_with( test.IsHttpRequest(), tenant_id=network.tenant_id, targets=('subnet',)) @test.create_mocks({api.neutron: ('network_get', 'subnet_list', 'is_extension_supported', 'show_network_ip_availability')}) self.mock_show_network_ip_availability.return_value = ip_availability self.mock_network_get.side_effect = self.exceptions.neutron self.mock_subnet_list.return_value = [self.subnets.first()] self._stub_is_extension_supported( {'network-ip-availability': True, 'mac-learning': mac_learning}) self.mock_show_network_ip_availability.assert_called_once_with( test.IsHttpRequest(), network_id) self.mock_network_get.assert_called_once_with(test.IsHttpRequest(), network_id) self.mock_subnet_list.assert_called_once_with(test.IsHttpRequest(), network_id=network_id) self._check_is_extension_supported( {'network-ip-availability': 2, 'mac-learning': 1}) @test.create_mocks({api.neutron: ('network_get', 'subnet_list', 'show_network_ip_availability', 'is_extension_supported'), usage.quotas: ('tenant_quota_usages',)}) self.mock_show_network_ip_availability.return_value = \ self.ip_availability.get() self.mock_network_get.return_value = network self.mock_subnet_list.side_effect = self.exceptions.neutron self._stub_is_extension_supported( {'network-ip-availability': True, 'mac-learning': mac_learning, 'dhcp_agent_scheduler': True, 'network_availability_zone': True}) self.mock_tenant_quota_usages.return_value = quota_data self.mock_show_network_ip_availability.assert_called_once_with( test.IsHttpRequest(), network.id) self.assert_mock_multiple_calls_with_same_arguments( self.mock_network_get, 2, mock.call(test.IsHttpRequest(), network.id)) self.mock_subnet_list.assert_called_once_with(test.IsHttpRequest(), network_id=network.id) self.assert_mock_multiple_calls_with_same_arguments( self.mock_tenant_quota_usages, 3, mock.call(test.IsHttpRequest(), tenant_id=network.tenant_id, targets=('subnet',))) self._stub_is_extension_supported( {'network-ip-availability': 1, 'mac-learning': 1, 'dhcp_agent_scheduler': 2, 'network_availability_zone': 1}) @test.create_mocks({api.neutron: ('network_get', 'subnet_list', 'is_extension_supported', 'show_network_ip_availability'), usage.quotas: ('tenant_quota_usages',)}) self.mock_show_network_ip_availability.return_value = ip_availability self.mock_network_get.return_value = network self.mock_subnet_list.return_value = [self.subnets.first()] self._stub_is_extension_supported( {'network-ip-availability': True, 'mac-learning': mac_learning, 'network_availability_zone': True, 'dhcp_agent_scheduler': True}) self.mock_tenant_quota_usages.return_value = quota_data self.mock_show_network_ip_availability.assert_called_once_with( test.IsHttpRequest(), network.id) self.assert_mock_multiple_calls_with_same_arguments( self.mock_network_get, 2, mock.call(test.IsHttpRequest(), network.id)) self.mock_subnet_list.assert_called_once_with(test.IsHttpRequest(), network_id=network.id) self._check_is_extension_supported( {'network-ip-availability': 2, 'mac-learning': 1, 'network_availability_zone': 1, 'dhcp_agent_scheduler': 1}) self.assert_mock_multiple_calls_with_same_arguments( self.mock_tenant_quota_usages, 3, mock.call(test.IsHttpRequest(), tenant_id=network.tenant_id, targets=('subnet',))) @test.create_mocks({api.neutron: ('is_extension_supported',), self.mock_tenant_list.return_value = [tenants, False] self._stub_is_extension_supported( {'provider': True, 'network_availability_zone': False, 'subnet_allocation': False}) self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) self._check_is_extension_supported( {'provider': 1, 'network_availability_zone': 2, 'subnet_allocation': 1}) @test.create_mocks({api.neutron: ('network_create', self.mock_tenant_list.return_value = [tenants, False] self._stub_is_extension_supported( {'provider': True, 'network_availability_zone': False, 'subnet_allocation': True}) self.mock_subnetpool_list.return_value = self.subnetpools.list() self.mock_network_create.return_value = network self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) self.mock_subnetpool_list.assert_called_once_with(test.IsHttpRequest()) params = {'name': network.name, 'tenant_id': tenant_id, 'admin_state_up': network.admin_state_up, 'router:external': True, 'shared': True, 'provider:network_type': 'local'} self.mock_network_create.assert_called_once_with(test.IsHttpRequest(), **params) self._check_is_extension_supported( {'provider': 3, 'network_availability_zone': 2, 'subnet_allocation': 1}) @test.create_mocks({api.neutron: ('network_create', self.mock_tenant_list.return_value = [tenants, False] self._stub_is_extension_supported( {'provider': True, 'network_availability_zone': True, 'subnet_allocation': True}) self.mock_list_availability_zones.return_value = \ self.neutron_availability_zones.list() self.mock_subnetpool_list.return_value = self.subnetpools.list() self.mock_network_create.return_value = network 'az_hints': ['nova']} self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) self._stub_is_extension_supported( {'provider': 1, 'network_availability_zone': 1, 'subnet_allocation': 1}) self.assert_mock_multiple_calls_with_same_arguments( self.mock_list_availability_zones, 2, mock.call(test.IsHttpRequest(), ""network"", ""available"")) self.mock_subnetpool_list.assert_called_once_with(test.IsHttpRequest()) params = {'name': network.name, 'tenant_id': tenant_id, 'admin_state_up': network.admin_state_up, 'router:external': True, 'shared': True, 'provider:network_type': 'local', 'availability_zone_hints': ['nova']} self.mock_network_create.assert_called_once_with(test.IsHttpRequest(), **params) @test.create_mocks({api.neutron: ('network_create', self._stub_is_extension_supported( {'provider': True, 'network_availability_zone': False, 'subnet_allocation': True}) self.mock_tenant_list.return_value = [tenants, False] self.mock_subnetpool_list.return_value = self.subnetpools.list() self.mock_network_create.return_value = network self._check_is_extension_supported( {'provider': 3, 'network_availability_zone': 2, 'subnet_allocation': 1}) self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) self.mock_subnetpool_list.assert_called_once_with(test.IsHttpRequest()) params = {'name': network.name, 'tenant_id': tenant_id, 'admin_state_up': network.admin_state_up, 'router:external': True, 'shared': True, 'provider:network_type': 'local'} self.mock_network_create.assert_called_once_with(test.IsHttpRequest(), **params) @test.create_mocks({api.neutron: ('network_create', self.mock_tenant_list.return_value = [tenants, False] self._stub_is_extension_supported( {'provider': True, 'network_availability_zone': False, 'subnet_allocation': True}) self.mock_subnetpool_list.return_value = self.subnetpools.list() self.mock_network_create.side_effect = self.exceptions.neutron self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) self._check_is_extension_supported( {'provider': 3, 'network_availability_zone': 2, 'subnet_allocation': 1}) self.mock_subnetpool_list.assert_called_once_with(test.IsHttpRequest()) params = {'name': network.name, 'tenant_id': tenant_id, 'admin_state_up': network.admin_state_up, 'router:external': True, 'shared': False, 'provider:network_type': 'local'} self.mock_network_create.assert_called_once_with(test.IsHttpRequest(), **params) @test.create_mocks({api.neutron: ('is_extension_supported',), self.mock_tenant_list.return_value = [tenants, False] self._stub_is_extension_supported( {'network_availability_zone': False, 'subnet_allocation': False, 'provider': True}) self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) self._check_is_extension_supported( {'network_availability_zone': 2, 'subnet_allocation': 1, 'provider': 2}) @test.create_mocks({api.neutron: ('is_extension_supported',), self.mock_tenant_list.return_value = [tenants, False] self._stub_is_extension_supported( {'network_availability_zone': False, 'subnet_allocation': False, 'provider': True}) self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) self._check_is_extension_supported( {'network_availability_zone': 2, 'subnet_allocation': 1, 'provider': 2}) @test.create_mocks({api.neutron: ('is_extension_supported',), self.mock_tenant_list.return_value = [tenants, False] self._stub_is_extension_supported( {'network_availability_zone': False, 'subnet_allocation': False, 'provider': True}) self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) self._check_is_extension_supported( {'network_availability_zone': 2, 'subnet_allocation': 1, 'provider': 2}) @test.create_mocks({api.neutron: ('is_extension_supported',), self.mock_tenant_list.return_value = [tenants, False] self._stub_is_extension_supported( {'network_availability_zone': False, 'subnet_allocation': False, 'provider': True}) self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) self._check_is_extension_supported( {'network_availability_zone': 2, 'subnet_allocation': 1, 'provider': 1}) @test.create_mocks({api.neutron: ('is_extension_supported',), self.mock_tenant_list.return_value = [tenants, False] self._stub_is_extension_supported( {'network_availability_zone': False, 'subnet_allocation': False, 'provider': True}) self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) self._check_is_extension_supported( {'network_availability_zone': 2, 'subnet_allocation': 1, 'provider': 1}) @test.create_mocks({api.neutron: ('network_get',)}) self.mock_network_get.return_value = network self.mock_network_get.assert_called_once_with(test.IsHttpRequest(), network.id, expand_subnet=False) @test.create_mocks({api.neutron: ('network_get',)}) self.mock_network_get.side_effect = self.exceptions.neutron self.mock_network_get.assert_called_once_with(test.IsHttpRequest(), network.id, expand_subnet=False) @test.create_mocks({api.neutron: ('network_update', self.mock_network_update.return_value = network self.mock_network_get.return_value = network self.mock_network_update.assert_called_once_with(test.IsHttpRequest(), network.id, **params) self.mock_network_get.assert_called_once_with(test.IsHttpRequest(), network.id, expand_subnet=False) @test.create_mocks({api.neutron: ('network_update', self.mock_network_update.side_effect = self.exceptions.neutron self.mock_network_get.return_value = network self.mock_network_update.assert_called_once_with(test.IsHttpRequest(), network.id, **params) self.mock_network_get.assert_called_once_with(test.IsHttpRequest(), network.id, expand_subnet=False) @test.create_mocks({api.neutron: ('network_list', self.mock_list_dhcp_agent_hosting_networks.return_value = \ self.agents.list() self._stub_is_extension_supported( {'network_availability_zone': True, 'dhcp_agent_scheduler': True}) self.mock_tenant_list.return_value = [tenants, False] self.mock_network_list.return_value = [network] self.mock_network_delete.return_value = None self.mock_list_dhcp_agent_hosting_networks.assert_called_once_with( test.IsHttpRequest(), network.id) self._check_is_extension_supported( {'network_availability_zone': 1, 'dhcp_agent_scheduler': 2}) self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) self.mock_network_list.assert_called_once_with(test.IsHttpRequest()) self.mock_network_delete.assert_called_once_with(test.IsHttpRequest(), network.id) @test.create_mocks({api.neutron: ('network_list', self.mock_list_dhcp_agent_hosting_networks.return_value = \ self.agents.list() self._stub_is_extension_supported( {'network_availability_zone': True, 'dhcp_agent_scheduler': True}) self.mock_tenant_list.return_value = [tenants, False] self.mock_network_list.return_value = [network] self.mock_network_delete.side_effect = self.exceptions.neutron self.mock_list_dhcp_agent_hosting_networks.assert_called_once_with( test.IsHttpRequest(), network.id) self._check_is_extension_supported( {'network_availability_zone': 1, 'dhcp_agent_scheduler': 2}) self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) self.mock_network_list.assert_called_once_with(test.IsHttpRequest()) self.mock_network_delete.assert_called_once_with(test.IsHttpRequest(), network.id) @test.create_mocks({api.neutron: ('is_extension_supported',)}) self._stub_is_extension_supported( {'network_availability_zone': True, 'dhcp_agent_scheduler': True}) self._check_is_extension_supported( {'network_availability_zone': 1, 'dhcp_agent_scheduler': 1}) @test.create_mocks({api.keystone: ('tenant_list',), self._stub_is_extension_supported( {'network_availability_zone': True, 'dhcp_agent_scheduler': True}) self.mock_tenant_list.return_value = [self.tenants.list(), False] self._check_is_extension_supported( {'network_availability_zone': 2, 'dhcp_agent_scheduler': 2}) self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) @test.create_mocks({api.neutron: ('is_extension_supported',), self.mock_tenant_list.return_value = [tenants, False] self._stub_is_extension_supported( {'provider': True, 'network_availability_zone': False, 'subnet_allocation': False}) self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) self._check_is_extension_supported( {'provider': 1, 'network_availability_zone': 2, 'subnet_allocation': 1}) @test.create_mocks({api.neutron: ('is_extension_supported',), self.mock_tenant_list.return_value = [tenants, False] self._stub_is_extension_supported( {'provider': True, 'network_availability_zone': False, 'subnet_allocation': False}) self.mock_tenant_list.assert_called_once_with(test.IsHttpRequest()) self._check_is_extension_supported( {'provider': 1, 'network_availability_zone': 2, 'subnet_allocation': 1})"," from django import httpfrom mox3.mox import IsA use_mox = True @test.create_stubs({api.neutron: ('network_list', api.neutron.network_list(IsA(http.HttpRequest)) \ .AndReturn(self.networks.list()) api.keystone.tenant_list(IsA(http.HttpRequest))\ .AndReturn([tenants, False]) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network_availability_zone').AndReturn(True) for network in self.networks.list(): usage.quotas.tenant_quota_usages( IsA(http.HttpRequest), tenant_id=network.tenant_id, targets=('subnet', )).AndReturn(quota_data) api.neutron.list_dhcp_agent_hosting_networks(IsA(http.HttpRequest), network.id)\ .AndReturn(self.agents.list()) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_list', api.neutron.network_list(IsA(http.HttpRequest)) \ .AndRaise(self.exceptions.neutron) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network_availability_zone').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_get', 'subnet_list', 'port_list', 'show_network_ip_availability', 'list_dhcp_agent_hosting_networks', 'is_extension_supported'), usage.quotas: ('tenant_quota_usages',)}) @test.create_stubs({api.neutron: ('network_get', 'subnet_list', 'port_list', 'is_extension_supported', 'show_network_ip_availability', 'list_dhcp_agent_hosting_networks',), usage.quotas: ('tenant_quota_usages',)}) @test.create_stubs({api.neutron: ('network_get', api.neutron.network_get(IsA(http.HttpRequest), network.id) \ .MultipleTimes().AndReturn(self.networks.first()) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'network-ip-availability') \ .AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning') \ .AndReturn(mac_learning) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network_availability_zone').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) usage.quotas.tenant_quota_usages( IsA(http.HttpRequest), tenant_id=network.tenant_id, targets=('subnet',)).MultipleTimes().AndReturn(quota_data) self.mox.ReplayAll() api.neutron.show_network_ip_availability(IsA(http.HttpRequest), network.id).\ MultipleTimes().AndReturn(ip_availability) api.neutron.network_get(IsA(http.HttpRequest), network.id)\ .MultipleTimes().AndReturn(self.networks.first()) api.neutron.subnet_list(IsA(http.HttpRequest), network_id=network.id)\ .AndReturn([self.subnets.first()]) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network-ip-availability').AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .AndReturn(mac_learning) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network-ip-availability').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network_availability_zone').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) usage.quotas.tenant_quota_usages( IsA(http.HttpRequest), tenant_id=network.tenant_id, targets=('subnet',)).MultipleTimes().AndReturn(quota_data) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_get', api.neutron.network_get(IsA(http.HttpRequest), network.id)\ .MultipleTimes().AndReturn(self.networks.first()) api.neutron.port_list(IsA(http.HttpRequest), network_id=network.id)\ .AndReturn([self.ports.first()]) usage.quotas.tenant_quota_usages( IsA(http.HttpRequest), tenant_id=network.tenant_id, targets=('port',)).MultipleTimes().AndReturn(quota_data) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network-ip-availability').AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .AndReturn(mac_learning) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network_availability_zone').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) usage.quotas.tenant_quota_usages( IsA(http.HttpRequest), tenant_id=network.tenant_id, targets=('subnet',)).MultipleTimes().AndReturn(quota_data) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_get', api.neutron.is_extension_supported(IsA(http.HttpRequest), 'network-ip-availability') \ .AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .AndReturn(mac_learning) api.neutron.list_dhcp_agent_hosting_networks(IsA(http.HttpRequest), network.id)\ .AndReturn(self.agents.list()) api.neutron.network_get(IsA(http.HttpRequest), network.id)\ .MultipleTimes().AndReturn(self.networks.first()) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network_availability_zone').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) usage.quotas.tenant_quota_usages( IsA(http.HttpRequest), tenant_id=network.tenant_id, targets=('subnet',)).MultipleTimes().AndReturn(quota_data) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_get', 'subnet_list', 'port_list', 'is_extension_supported', 'show_network_ip_availability', 'list_dhcp_agent_hosting_networks',)}) @test.create_stubs({api.neutron: ('network_get', 'subnet_list', 'port_list', 'is_extension_supported', 'show_network_ip_availability', 'list_dhcp_agent_hosting_networks',)}) api.neutron.show_network_ip_availability(IsA(http.HttpRequest), network_id).\ MultipleTimes().AndReturn(ip_availability) api.neutron.network_get(IsA(http.HttpRequest), network_id)\ .AndRaise(self.exceptions.neutron) api.neutron.subnet_list(IsA(http.HttpRequest), network_id=network_id)\ .AndReturn([self.subnets.first()]) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network-ip-availability').AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .AndReturn(mac_learning) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network-ip-availability').AndReturn(True) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_get', 'subnet_list', 'port_list', 'list_dhcp_agent_hosting_networks', 'is_extension_supported'), usage.quotas: ('tenant_quota_usages',)}) @test.create_stubs({api.neutron: ('network_get', 'subnet_list', 'port_list', 'is_extension_supported', 'list_dhcp_agent_hosting_networks',), usage.quotas: ('tenant_quota_usages',)}) api.neutron.network_get(IsA(http.HttpRequest), network.id)\ .MultipleTimes().AndReturn(self.networks.first()) api.neutron.subnet_list(IsA(http.HttpRequest), network_id=network.id).\ AndRaise(self.exceptions.neutron) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network-ip-availability').AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .AndReturn(mac_learning) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network_availability_zone').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) usage.quotas.tenant_quota_usages( IsA(http.HttpRequest), tenant_id=network.tenant_id, targets=('subnet',)).MultipleTimes().AndReturn(quota_data) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_get', 'subnet_list', 'port_list', 'is_extension_supported', 'show_network_ip_availability', 'list_dhcp_agent_hosting_networks',), usage.quotas: ('tenant_quota_usages',)}) @test.create_stubs({api.neutron: ('network_get', 'subnet_list', 'port_list', 'is_extension_supported', 'show_network_ip_availability', 'list_dhcp_agent_hosting_networks',), usage.quotas: ('tenant_quota_usages',)}) api.neutron.show_network_ip_availability(IsA(http.HttpRequest), network.id). \ MultipleTimes().AndReturn(ip_availability) api.neutron.network_get(IsA(http.HttpRequest), network.id)\ .MultipleTimes().AndReturn(self.networks.first()) api.neutron.subnet_list(IsA(http.HttpRequest), network_id=network.id).\ AndReturn([self.subnets.first()]) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network-ip-availability').AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .AndReturn(mac_learning) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network-ip-availability').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network_availability_zone').AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'dhcp_agent_scheduler')\ .AndReturn(True) usage.quotas.tenant_quota_usages( IsA(http.HttpRequest), tenant_id=network.tenant_id, targets=('subnet',)).MultipleTimes().AndReturn(quota_data) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('is_extension_supported',), api.keystone.tenant_list(IsA( http.HttpRequest)).AndReturn([tenants, False]) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'provider').\ AndReturn(True) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_create', api.keystone.tenant_list(IsA(http.HttpRequest))\ .AndReturn([tenants, False]) params = {'name': network.name, 'tenant_id': tenant_id, 'admin_state_up': network.admin_state_up, 'router:external': True, 'shared': True, 'provider:network_type': 'local', 'with_subnet': False} api.neutron.is_extension_supported(IsA(http.HttpRequest), 'provider').\ MultipleTimes().AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'network_availability_zone').\ MultipleTimes().AndReturn(False) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'subnet_allocation').\ MultipleTimes().AndReturn(True) api.neutron.subnetpool_list(IsA(http.HttpRequest)).\ AndReturn(self.subnetpools.list()) api.neutron.network_create(IsA(http.HttpRequest), **params)\ .AndReturn(network) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_create', api.keystone.tenant_list(IsA(http.HttpRequest))\ .AndReturn([tenants, False]) params = {'name': network.name, 'tenant_id': tenant_id, 'admin_state_up': network.admin_state_up, 'router:external': True, 'shared': True, 'provider:network_type': 'local', 'with_subnet': False, 'az_hints': ['nova']} api.neutron.is_extension_supported(IsA(http.HttpRequest), 'provider').\ MultipleTimes().AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'network_availability_zone').\ MultipleTimes().AndReturn(True) api.neutron.list_availability_zones(IsA(http.HttpRequest), ""network"", ""available"")\ .AndReturn(self.neutron_availability_zones.list()) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'subnet_allocation').\ MultipleTimes().AndReturn(True) api.neutron.subnetpool_list(IsA(http.HttpRequest)).\ AndReturn(self.subnetpools.list()) api.neutron.network_create(IsA(http.HttpRequest), **params)\ .AndReturn(network) self.mox.ReplayAll() 'availability_zone_hints': ['nova']} @test.create_stubs({api.neutron: ('network_create', params = {'name': network.name, 'tenant_id': tenant_id, 'admin_state_up': network.admin_state_up, 'router:external': True, 'shared': True, 'provider:network_type': 'local', 'with_subnet': True} api.keystone.tenant_list(IsA(http.HttpRequest))\ .AndReturn([tenants, False]) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'provider').\ MultipleTimes().AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'network_availability_zone').\ MultipleTimes().AndReturn(False) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'subnet_allocation').\ MultipleTimes().AndReturn(True) api.neutron.subnetpool_list(IsA(http.HttpRequest)).\ AndReturn(self.subnetpools.list()) api.neutron.network_create(IsA(http.HttpRequest), **params)\ .AndReturn(network) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_create', api.keystone.tenant_list(IsA(http.HttpRequest)).AndReturn([tenants, False]) params = {'name': network.name, 'tenant_id': tenant_id, 'admin_state_up': network.admin_state_up, 'router:external': True, 'shared': False, 'provider:network_type': 'local', 'with_subnet': False} api.neutron.is_extension_supported(IsA(http.HttpRequest), 'provider').\ MultipleTimes().AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'network_availability_zone').\ MultipleTimes().AndReturn(False) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'subnet_allocation').\ MultipleTimes().AndReturn(True) api.neutron.subnetpool_list(IsA(http.HttpRequest)).\ AndReturn(self.subnetpools.list()) api.neutron.network_create(IsA(http.HttpRequest), **params).AndRaise(self.exceptions.neutron) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('is_extension_supported',), api.keystone.tenant_list( IsA(http.HttpRequest) ).MultipleTimes().AndReturn([tenants, False]) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'network_availability_zone').\ MultipleTimes().AndReturn(False) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'provider')\ .MultipleTimes().AndReturn(True) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('is_extension_supported',), api.keystone.tenant_list( IsA(http.HttpRequest) ).MultipleTimes().AndReturn([tenants, False]) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'network_availability_zone').\ MultipleTimes().AndReturn(False) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'provider').\ MultipleTimes().AndReturn(True) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('is_extension_supported',), api.keystone.tenant_list( IsA(http.HttpRequest) ).MultipleTimes().AndReturn([tenants, False]) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'network_availability_zone').\ MultipleTimes().AndReturn(False) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'provider')\ .MultipleTimes().AndReturn(True) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('is_extension_supported',), api.keystone.tenant_list(IsA(http.HttpRequest)).AndReturn([tenants, False]) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'provider').\ AndReturn(True) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('is_extension_supported',), api.keystone.tenant_list(IsA(http.HttpRequest)).AndReturn([tenants, False]) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'provider').\ AndReturn(True) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_get',)}) api.neutron.network_get(IsA(http.HttpRequest), network.id, expand_subnet=False).AndReturn(network) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_get',)}) api.neutron.network_get(IsA(http.HttpRequest), network.id)\ .AndRaise(self.exceptions.neutron) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_update', api.neutron.network_update(IsA(http.HttpRequest), network.id, **params)\ .AndReturn(network) api.neutron.network_get(IsA(http.HttpRequest), network.id, expand_subnet=False).AndReturn(network) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_update', api.neutron.network_update(IsA(http.HttpRequest), network.id, **params)\ .AndRaise(self.exceptions.neutron) api.neutron.network_get(IsA(http.HttpRequest), network.id, expand_subnet=False).AndReturn(network) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_list', api.neutron.list_dhcp_agent_hosting_networks(IsA(http.HttpRequest), network.id).\ AndReturn(self.agents.list()) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network_availability_zone').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) api.keystone.tenant_list(IsA(http.HttpRequest))\ .AndReturn([tenants, False]) api.neutron.network_list(IsA(http.HttpRequest))\ .AndReturn([network]) api.neutron.network_delete(IsA(http.HttpRequest), network.id) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_list', api.neutron.list_dhcp_agent_hosting_networks(IsA(http.HttpRequest), network.id).\ AndReturn(self.agents.list()) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network_availability_zone').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) api.keystone.tenant_list(IsA(http.HttpRequest))\ .AndReturn([tenants, False]) api.neutron.network_list(IsA(http.HttpRequest))\ .AndReturn([network]) api.neutron.network_delete(IsA(http.HttpRequest), network.id)\ .AndRaise(self.exceptions.neutron) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('is_extension_supported',)}) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network_availability_zone').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) self.mox.ReplayAll() @test.create_stubs({api.keystone: ('tenant_list',), api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network_availability_zone').AndReturn(True) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'dhcp_agent_scheduler').AndReturn(True) api.keystone.tenant_list(IsA(http.HttpRequest))\ .AndReturn([self.tenants.list(), False]) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('is_extension_supported',), api.keystone.tenant_list(IsA(http.HttpRequest)).AndReturn([tenants, False]) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'provider').\ AndReturn(True) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('is_extension_supported',), api.keystone.tenant_list(IsA(http.HttpRequest)).AndReturn([tenants, False]) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'provider').\ AndReturn(True) self.mox.ReplayAll()",532,492
openstack%2Fmistral~master~I36988817fb8e7695094ef98958b8aa151208fadb,openstack/mistral,master,I36988817fb8e7695094ef98958b8aa151208fadb,"Use ""passive_deletes=True"" in ORM relationships",MERGED,2018-05-14 15:04:15.000000000,2018-05-17 10:16:09.000000000,2018-05-15 14:02:42.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 15:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/df80141c48a3edcb825305dbba384a5f2f13773c', 'message': 'DO NOT MERGE\n\nChange-Id: I36988817fb8e7695094ef98958b8aa151208fadb\n'}, {'number': 2, 'created': '2018-05-15 08:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/78d2764a2703eb0d010c96aece402031aa196772', 'message': 'Use ""passive_deletes=True"" in ORM relationships\n\n* Using ""passive_deletes=True"" when configuring relationships\n  with SQLAlchemy significantly reduces memory footprint when\n  deleting a graph of objects (e.g. root workflow execution\n  with all dependent tasks, actions and sub workflows) from DB.\n  This happens because in this case SQLAlchemy doesn\'t load\n  those dependent objects that are not yet in the session and\n  rather relies on cascading mechanisms of databases which are\n  activated by the proper configuration of foreign key columns.\n  For example, ""ON DELETE CASCADE"" clause in the foreign key\n  definition in case of for MySQL.\n* Added a test to make sure that cascaded deletion works well\n  with this new property.\n\nRelated-Bug: #1757966\nChange-Id: I36988817fb8e7695094ef98958b8aa151208fadb\n'}, {'number': 3, 'created': '2018-05-15 08:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a1d3018a9d7c00361f8906462733451b9d04a4cb', 'message': 'Use ""passive_deletes=True"" in ORM relationships\n\n* Using ""passive_deletes=True"" when configuring relationships\n  with SQLAlchemy significantly reduces memory footprint when\n  deleting a graph of objects (e.g. root workflow execution\n  with all dependent tasks, actions and sub workflows) from DB.\n  This happens because in this case SQLAlchemy doesn\'t load\n  those dependent objects that are not yet in the session and\n  rather relies on cascading mechanisms of databases which are\n  activated by the proper configuration of foreign key columns.\n  For example, ""ON DELETE CASCADE"" clause in the foreign key\n  definition in case of for MySQL.\n  Particularly, this change reduces memory footprint of API\n  processes when deleting large graphs of executions and\n  execution expiration policy mechanism where the same happens\n  but on the engine side.\n* Added a test to make sure that cascaded deletion works well\n  with this new property.\n\nRelated-Bug: #1757966\nChange-Id: I36988817fb8e7695094ef98958b8aa151208fadb\n'}, {'number': 4, 'created': '2018-05-15 09:04:18.000000000', 'files': ['mistral/tests/unit/engine/test_subworkflows.py', 'mistral/cmd/launch.py', 'mistral/db/v2/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/afb0f584c5f1218ec73b2b6ecd9d7509c1df4594', 'message': 'Use ""passive_deletes=True"" in ORM relationships\n\n* Using ""passive_deletes=True"" when configuring relationships\n  with SQLAlchemy significantly reduces memory footprint when\n  deleting a graph of objects (e.g. root workflow execution\n  with all dependent tasks, actions and sub workflows) from DB.\n  This happens because in this case SQLAlchemy doesn\'t load\n  those dependent objects that are not yet in the session and\n  rather relies on cascading mechanisms of databases which are\n  activated by the proper configuration of foreign key columns.\n  For example, ""ON DELETE CASCADE"" clause in the foreign key\n  definition in case of for MySQL.\n  Particularly, this change reduces memory footprint of API\n  processes when deleting large graphs of executions and\n  execution expiration policy mechanism where the same happens\n  but on the engine side.\n* Added a test to make sure that cascaded deletion works well\n  with this new property.\n\nRelated-Bug: #1757966\nChange-Id: I36988817fb8e7695094ef98958b8aa151208fadb\n'}]",0,568312,afb0f584c5f1218ec73b2b6ecd9d7509c1df4594,15,5,4,8731,,,0,"Use ""passive_deletes=True"" in ORM relationships

* Using ""passive_deletes=True"" when configuring relationships
  with SQLAlchemy significantly reduces memory footprint when
  deleting a graph of objects (e.g. root workflow execution
  with all dependent tasks, actions and sub workflows) from DB.
  This happens because in this case SQLAlchemy doesn't load
  those dependent objects that are not yet in the session and
  rather relies on cascading mechanisms of databases which are
  activated by the proper configuration of foreign key columns.
  For example, ""ON DELETE CASCADE"" clause in the foreign key
  definition in case of for MySQL.
  Particularly, this change reduces memory footprint of API
  processes when deleting large graphs of executions and
  execution expiration policy mechanism where the same happens
  but on the engine side.
* Added a test to make sure that cascaded deletion works well
  with this new property.

Related-Bug: #1757966
Change-Id: I36988817fb8e7695094ef98958b8aa151208fadb
",git fetch https://review.opendev.org/openstack/mistral refs/changes/12/568312/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/cmd/launch.py', 'mistral/db/v2/sqlalchemy/models.py']",2,df80141c48a3edcb825305dbba384a5f2f13773c,bug/1757966," lazy='select', passive_deletes=True lazy='select', passive_deletes=True lazy='select', passive_deletes=True", lazy='select' lazy='select' lazy='select',7,3
openstack%2Fceilometer~master~I1bb4ac082537fe0fd40542fee2c73deed208e5f5,openstack/ceilometer,master,I1bb4ac082537fe0fd40542fee2c73deed208e5f5,del unused module,MERGED,2018-05-17 08:23:51.000000000,2018-05-17 10:16:03.000000000,2018-05-17 10:16:03.000000000,"[{'_account_id': 2813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 08:23:51.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3387eb2183fbfed7841c54e9b6fb6109c6da6475', 'message': 'del unused module\n\nChange-Id: I1bb4ac082537fe0fd40542fee2c73deed208e5f5\n'}]",0,569056,3387eb2183fbfed7841c54e9b6fb6109c6da6475,6,2,1,21486,,,0,"del unused module

Change-Id: I1bb4ac082537fe0fd40542fee2c73deed208e5f5
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/56/569056/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,3387eb2183fbfed7841c54e9b6fb6109c6da6475,,,import subprocessimport warnings,0,2
openstack%2Ftripleo-quickstart-extras~master~I7865b2a21aa7c437b282d871af472d389996584f,openstack/tripleo-quickstart-extras,master,I7865b2a21aa7c437b282d871af472d389996584f,Fix generation of docsDocs for tempest are not being generated properlyDepends-On: https://review.openstack.org/#/c/566527/Change-Id: I0cc8d0487b144026a6dadd4345bcc97800fbdcfc,ABANDONED,2018-05-17 09:43:59.000000000,2018-05-17 10:13:26.000000000,,[{'_account_id': 18846}],"[{'number': 1, 'created': '2018-05-17 09:43:59.000000000', 'files': ['roles/validate-tempest/templates/run-tempest.sh.j2', 'roles/validate-tempest/templates/configure-tempest.sh.j2', 'roles/validate-tempest/files/tempestmail/config2.yaml', 'roles/validate-tempest/templates/tempest-setup.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ab6855f8658d43ebcb9cda41c3a0c35ac276c57f', 'message': 'Fix generation of docsDocs for tempest are not being generated properlyDepends-On: https://review.openstack.org/#/c/566527/Change-Id: I0cc8d0487b144026a6dadd4345bcc97800fbdcfc\n\nChange-Id: I7865b2a21aa7c437b282d871af472d389996584f\n'}]",0,569076,ab6855f8658d43ebcb9cda41c3a0c35ac276c57f,3,1,1,8367,,,0,"Fix generation of docsDocs for tempest are not being generated properlyDepends-On: https://review.openstack.org/#/c/566527/Change-Id: I0cc8d0487b144026a6dadd4345bcc97800fbdcfc

Change-Id: I7865b2a21aa7c437b282d871af472d389996584f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/76/569076/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validate-tempest/templates/run-tempest.sh.j2', 'roles/validate-tempest/templates/configure-tempest.sh.j2', 'roles/validate-tempest/files/tempestmail/config2.yaml', 'roles/validate-tempest/templates/tempest-setup.j2']",4,ab6855f8658d43ebcb9cda41c3a0c35ac276c57f,fix-docs,,,19,8
openstack%2Fopenstacksdk~master~Ie05b41fca752869245f3e00bbd72f08128abdee0,openstack/openstacksdk,master,Ie05b41fca752869245f3e00bbd72f08128abdee0,Support add/remove user to/from group,ABANDONED,2018-05-17 09:58:54.000000000,2018-05-17 10:12:49.000000000,,[],"[{'number': 1, 'created': '2018-05-17 09:58:54.000000000', 'files': ['openstack/identity/v3/group.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f081875cb874b83314589c6dd4eee3a1cdc38483', 'message': 'Support add/remove user to/from group\n\nTask: 19707\nStory: 2002058\n\nChange-Id: Ie05b41fca752869245f3e00bbd72f08128abdee0\n'}]",0,569080,f081875cb874b83314589c6dd4eee3a1cdc38483,2,0,1,28244,,,0,"Support add/remove user to/from group

Task: 19707
Story: 2002058

Change-Id: Ie05b41fca752869245f3e00bbd72f08128abdee0
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/80/569080/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/identity/v3/group.py'],1,f081875cb874b83314589c6dd4eee3a1cdc38483,," def add_user(self, session, user): """"""Add a user to the group"""""" url = utils.urljoin(self.base_path, self.id, 'users', user.id) resp = session.put(url,) if resp.status_code == 204: return True return False def remove_user(self, session, user): """"""Remove a user from the group"""""" url = utils.urljoin(self.base_path, self.id, 'users', user.id) resp = session.delete(url,) if resp.status_code == 204: return True return False",,16,0
openstack%2Fhorizon~master~I9e01edb594ba5272b4f516a327f65b83c96e5896,openstack/horizon,master,I9e01edb594ba5272b4f516a327f65b83c96e5896,Convert admin.networks.ports tests into mock,MERGED,2018-05-14 00:19:10.000000000,2018-05-17 10:12:40.000000000,2018-05-17 10:12:40.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 00:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/90404d05ae7fed8f0d34b063d66a0d61a998b8f7', 'message': 'Convert admin.networks.ports tests into mock\n\nTODO\n\nblueprint mock-framework-in-unit-tests\n\nChange-Id: I9e01edb594ba5272b4f516a327f65b83c96e5896\n'}, {'number': 2, 'created': '2018-05-14 00:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/234321fb276be53c3c5e6a7dee79452dc0f818a0', 'message': 'Convert admin.networks.ports tests into mock\n\nTODO\n\nblueprint mock-framework-in-unit-tests\n\nChange-Id: I9e01edb594ba5272b4f516a327f65b83c96e5896\n'}, {'number': 3, 'created': '2018-05-14 16:26:42.000000000', 'files': ['openstack_dashboard/dashboards/admin/networks/ports/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3190a5ebc3ad7a2982b2fe610315a88a74a39afe', 'message': 'Convert admin.networks.ports tests into mock\n\nblueprint mock-framework-in-unit-tests\n\nChange-Id: I9e01edb594ba5272b4f516a327f65b83c96e5896\n'}]",0,568164,3190a5ebc3ad7a2982b2fe610315a88a74a39afe,10,3,3,841,,,0,"Convert admin.networks.ports tests into mock

blueprint mock-framework-in-unit-tests

Change-Id: I9e01edb594ba5272b4f516a327f65b83c96e5896
",git fetch https://review.opendev.org/openstack/horizon refs/changes/64/568164/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/networks/ports/tests.py'],1,90404d05ae7fed8f0d34b063d66a0d61a998b8f7,bp/mock-framework-in-unit-tests,"import collections import mock def _stub_is_extension_supported(self, features): self._features = features self._feature_call_counts = collections.defaultdict(int) def fake_extension_supported(request, alias): self._feature_call_counts[alias] += 1 return self._features[alias] self.mock_is_extension_supported.side_effect = fake_extension_supported def _check_is_extension_supported(self, expected_count): self.assertEqual(expected_count, self._feature_call_counts) @test.create_mocks({api.neutron: ('network_get', 'port_get', 'is_extension_supported',)}) self.mock_port_get.return_value = self.ports.first() self._stub_is_extension_supported( {'mac-learning': mac_learning, 'allowed-address-pairs': False}) self.mock_network_get.return_value = self.networks.first() self.mock_port_get.assert_called_once_with(test.IsHttpRequest(), port.id) self._check_is_extension_supported( {'mac-learning': 3, 'allowed-address-pairs': 2}) self.mock_network_get.assert_called_once_with(test.IsHttpRequest(), network_id) @test.create_mocks({api.neutron: ('port_get',)}) self.mock_port_get.side_effect = self.exceptions.neutron self.mock_port_get.assert_called_once_with(test.IsHttpRequest(), port.id) @test.create_mocks({api.neutron: ('network_get', self.mock_network_get.return_value = network self.mock_security_group_list.return_value = \ self.security_groups.list() self._stub_is_extension_supported( {'mac-learning': mac_learning, 'binding': binding, 'port-security': port_security}) self.assert_mock_multiple_calls_with_same_arguments( self.mock_network_get, 2, mock.call(test.IsHttpRequest(), network.id)) self.mock_security_group_list.assert_called_once_with( test.IsHttpRequest(), tenant_id='1') self._check_is_extension_supported( {'mac-learning': 1, 'binding': 1, 'port-security': 1}) @test.create_mocks({api.neutron: ('network_get', self.mock_network_get.return_value = network self.mock_security_group_list.return_value = security_groups self._stub_is_extension_supported( {'mac-learning': mac_learning, 'binding': binding, 'port-security': port_security}) self.mock_port_create.return_value = port self.assert_mock_multiple_calls_with_same_arguments( self.mock_network_get, 2, mock.call(test.IsHttpRequest(), network.id)) self.mock_security_group_list.assert_called_once_with( test.IsHttpRequest(), tenant_id='1') extension_kwargs = {} if binding: extension_kwargs['binding__vnic_type'] = \ port.binding__vnic_type if mac_learning: extension_kwargs['mac_learning_enabled'] = True if port_security: extension_kwargs['port_security_enabled'] = True extension_kwargs['wanted_groups'] = security_groups self.mock_port_create.assert_called_once_with( test.IsHttpRequest(), tenant_id=network.tenant_id, network_id=network.id, name=port.name, admin_state_up=port.admin_state_up, device_id=port.device_id, device_owner=port.device_owner, binding__host_id=port.binding__host_id, mac_address=port.mac_address, security_groups=[], **extension_kwargs) self._check_is_extension_supported( {'mac-learning': 1, 'binding': 1, 'port-security': 1}) @test.create_mocks({api.neutron: ('network_get', self.mock_network_get.return_value = network self.mock_security_group_list.return_value = \ self.security_groups.list() self._stub_is_extension_supported( {'mac-learning': True, 'binding': True, 'port-security': True}) self.mock_port_create.return_value = port self.assert_mock_multiple_calls_with_same_arguments( self.mock_network_get, 2, mock.call(test.IsHttpRequest(), network.id)) self._check_is_extension_supported( {'mac-learning': 1, 'binding': 1, 'port-security': 1}) self.mock_security_group_list.assert_called_once_with( test.IsHttpRequest(), tenant_id='1') extension_kwargs = {} extension_kwargs['binding__vnic_type'] = \ port.binding__vnic_type self.mock_port_create.assert_called_once_with( test.IsHttpRequest(), tenant_id=network.tenant_id, network_id=network.id, name=port.name, admin_state_up=port.admin_state_up, device_id=port.device_id, device_owner=port.device_owner, binding__host_id=port.binding__host_id, mac_address=port.mac_address, fixed_ips=port.fixed_ips, **extension_kwargs) @test.create_mocks({api.neutron: ('network_get', self.mock_network_get.return_value = network self._stub_is_extension_supported( {'mac-learning': mac_learning, 'binding': binding, 'port-security': port_security}) self.mock_security_group_list.return_value = security_groups self.mock_port_create.side_effect = self.exceptions.neutron self.assert_mock_multiple_calls_with_same_arguments( self.mock_network_get, 2, mock.call(test.IsHttpRequest(), network.id)) self._check_is_extension_supported( {'mac-learning': 1, 'binding': 1, 'port-security': 1}) self.mock_security_group_list.assert_called_once_with( test.IsHttpRequest(), tenant_id='1') extension_kwargs = {} if binding: extension_kwargs['binding__vnic_type'] = port.binding__vnic_type if mac_learning: extension_kwargs['mac_learning_enabled'] = True if port_security: extension_kwargs['port_security_enabled'] = True extension_kwargs['wanted_groups'] = security_groups self.mock_port_create.assert_called_once_with( test.IsHttpRequest(), tenant_id=network.tenant_id, network_id=network.id, name=port.name, admin_state_up=port.admin_state_up, device_id=port.device_id, device_owner=port.device_owner, binding__host_id=port.binding__host_id, mac_address=port.mac_address, security_groups=[], **extension_kwargs) @test.create_mocks({api.neutron: ('port_get', self.mock_port_get.return_value = port self._stub_is_extension_supported( {'binding': binding, 'mac-learning': mac_learning, 'port-security': port_security}) self.mock_security_group_list.return_value = \ self.security_groups.list() self.assert_mock_multiple_calls_with_same_arguments( self.mock_port_get, 2, mock.call(test.IsHttpRequest(), port.id)) self._check_is_extension_supported( {'binding': 1, 'mac-learning': 1, 'port-security': 1}) self.mock_security_group_list.assert_called_once_with( test.IsHttpRequest(), tenant_id='1') @test.create_mocks({api.neutron: ('port_get', self.mock_port_get.return_value = port self._stub_is_extension_supported( {'binding': 1, 'mac-learning': 1, 'port-security': 1}) self.mock_security_group_list.return_value = \ self.security_groups.list() self.mock_port_update.return_value = port self.assert_mock_multiple_calls_with_same_arguments( self.mock_port_get, 2, mock.call(test.IsHttpRequest(), port.id)) self._check_is_extension_supported( {'binding': 1, 'mac-learning': 1, 'port-security': 1}) self.mock_security_group_list.assert_called_once_with( test.IsHttpRequest(), tenant_id='1') extension_kwargs = {} if binding: extension_kwargs['binding__vnic_type'] = port.binding__vnic_type if mac_learning: extension_kwargs['mac_learning_enabled'] = True if port_security: extension_kwargs['port_security_enabled'] = True self.mock_port_update.assert_called_once_with( test.IsHttpRequest(), port.id, name=port.name, admin_state_up=port.admin_state_up, device_id=port.device_id, device_owner=port.device_owner, binding__host_id=port.binding__host_id, mac_address=port.mac_address, security_groups=[], **extension_kwargs) @test.create_mocks({api.neutron: ('port_get', self.mock_port_get.return_value = port self._stub_is_extension_supported( {'binding': binding, 'mac-learning': mac_learning, 'port-security': port_security}) self.mock_security_group_list.return_value = \ self.security_groups.list() self.mock_port_update.side_effect = self.exceptions.neutron self.assert_mock_multiple_calls_with_same_arguments( self.mock_port_get, 2, mock.call(test.IsHttpRequest(), port.id)) self._check_is_extension_supported( {'binding': 1, 'mac-learning': 1, 'port-security': 1}) self.mock_security_group_list.assert_called_once_with( test.IsHttpRequest(), tenant_id='1') extension_kwargs = {} if binding: extension_kwargs['binding__vnic_type'] = port.binding__vnic_type if mac_learning: extension_kwargs['mac_learning_enabled'] = True if port_security: extension_kwargs['port_security_enabled'] = True self.mock_port_update.assert_called_once_with( test.IsHttpRequest(), port.id, name=port.name, admin_state_up=port.admin_state_up, device_id=port.device_id, device_owner=port.device_owner, binding__host_id=port.binding__host_id, mac_address=port.mac_address, security_groups=[], **extension_kwargs) def test_port_delete_with_mac_learning(self): self._test_port_delete(mac_learning=True) @test.create_mocks({api.neutron: ('port_delete', self.mock_port_list.return_value = self.ports.list() self._stub_is_extension_supported( {'network-ip-availability': True, 'mac-learning': mac_learning}) self.mock_port_list.assert_called_once_with(test.IsHttpRequest(), network_id=network_id) self._check_is_extension_supported( {'network-ip-availability': 1, 'mac-learning': 1}) def test_port_delete_exception_with_mac_learning(self): self._test_port_delete_exception(mac_learning=True) @test.create_mocks({api.neutron: ('port_delete', self.mock_port_delete.side_effect = self.exceptions.neutron self.mock_port_list.return_value = [self.ports.first()] self._stub_is_extension_supported( {'network-ip-availability': True, 'mac-learning': mac_learning}) self.mock_port_delete.assert_called_once_with(test.IsHttpRequest(), port.id) self.mock_port_list.assert_called_once_with(test.IsHttpRequest(), network_id=network_id) self._check_is_extension_supported( {'network-ip-availability': 1, 'mac-learning': 1})","from django import httpfrom mox3.mox import IsA use_mox = True @test.create_stubs({api.neutron: ('network_get', 'port_get', 'is_extension_supported',)}) @test.create_stubs({api.neutron: ('network_get', 'port_get', 'is_extension_supported',)}) api.neutron.port_get(IsA(http.HttpRequest), port.id)\ .AndReturn(self.ports.first()) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .MultipleTimes().AndReturn(mac_learning) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'allowed-address-pairs') \ .MultipleTimes().AndReturn(False) api.neutron.network_get(IsA(http.HttpRequest), network_id)\ .AndReturn(self.networks.first()) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('port_get',)}) api.neutron.port_get(IsA(http.HttpRequest), port.id)\ .AndRaise(self.exceptions.neutron) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_get', api.neutron.network_get(IsA(http.HttpRequest), network.id)\ .AndReturn(self.networks.first()) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .AndReturn(mac_learning) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'binding')\ .AndReturn(binding) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'port-security')\ .AndReturn(port_security) api.neutron.security_group_list(IsA(http.HttpRequest), tenant_id=None)\ .AndReturn(self.security_groups.list()) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_get', api.neutron.network_get(IsA(http.HttpRequest), network.id)\ .AndReturn(self.networks.first()) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .AndReturn(mac_learning) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'binding') \ .AndReturn(binding) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'port-security')\ .AndReturn(port_security) api.neutron.security_group_list(IsA(http.HttpRequest), tenant_id=None)\ .AndReturn(self.security_groups.list()) extension_kwargs = {} if binding: extension_kwargs['binding__vnic_type'] = \ port.binding__vnic_type if mac_learning: extension_kwargs['mac_learning_enabled'] = True if port_security: extension_kwargs['port_security_enabled'] = True extension_kwargs['wanted_groups'] = security_groups api.neutron.port_create(IsA(http.HttpRequest), tenant_id=network.tenant_id, network_id=network.id, name=port.name, admin_state_up=port.admin_state_up, device_id=port.device_id, device_owner=port.device_owner, binding__host_id=port.binding__host_id, mac_address=port.mac_address, **extension_kwargs)\ .AndReturn(port) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_get', api.neutron.network_get(IsA(http.HttpRequest), network.id) \ .MultipleTimes().AndReturn(self.networks.first()) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'port-security')\ .AndReturn(True) api.neutron.security_group_list(IsA(http.HttpRequest), tenant_id=None)\ .AndReturn(self.security_groups.list()) extension_kwargs = {} extension_kwargs['binding__vnic_type'] = \ port.binding__vnic_type api.neutron.port_create(IsA(http.HttpRequest), tenant_id=network.tenant_id, network_id=network.id, name=port.name, admin_state_up=port.admin_state_up, device_id=port.device_id, device_owner=port.device_owner, binding__host_id=port.binding__host_id, mac_address=port.mac_address, fixed_ips=port.fixed_ips, **extension_kwargs)\ .AndReturn(port) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('network_get', api.neutron.network_get(IsA(http.HttpRequest), network.id)\ .AndReturn(self.networks.first()) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .AndReturn(mac_learning) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'binding') \ .AndReturn(binding) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'port-security')\ .AndReturn(port_security) api.neutron.security_group_list(IsA(http.HttpRequest), tenant_id=None)\ .AndReturn(self.security_groups.list()) extension_kwargs = {} if binding: extension_kwargs['binding__vnic_type'] = port.binding__vnic_type if mac_learning: extension_kwargs['mac_learning_enabled'] = True if port_security: extension_kwargs['port_security_enabled'] = True extension_kwargs['wanted_groups'] = security_groups api.neutron.port_create(IsA(http.HttpRequest), tenant_id=network.tenant_id, network_id=network.id, name=port.name, admin_state_up=port.admin_state_up, device_id=port.device_id, device_owner=port.device_owner, binding__host_id=port.binding__host_id, mac_address=port.mac_address, **extension_kwargs)\ .AndRaise(self.exceptions.neutron) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('port_get', api.neutron.port_get(IsA(http.HttpRequest), port.id)\ .AndReturn(port) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'binding') \ .AndReturn(binding) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .AndReturn(mac_learning) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'port-security')\ .AndReturn(port_security) api.neutron.security_group_list(IsA(http.HttpRequest), tenant_id=None)\ .AndReturn(self.security_groups.list()) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('port_get', api.neutron.port_get(IsA(http.HttpRequest), port.id)\ .AndReturn(port) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'binding')\ .MultipleTimes().AndReturn(binding) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .MultipleTimes().AndReturn(mac_learning) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'port-security')\ .MultipleTimes().AndReturn(port_security) api.neutron.security_group_list(IsA(http.HttpRequest), tenant_id=None)\ .AndReturn(self.security_groups.list()) extension_kwargs = {} if binding: extension_kwargs['binding__vnic_type'] = port.binding__vnic_type if mac_learning: extension_kwargs['mac_learning_enabled'] = True if port_security: extension_kwargs['port_security_enabled'] = True api.neutron.port_update(IsA(http.HttpRequest), port.id, name=port.name, admin_state_up=port.admin_state_up, device_id=port.device_id, device_owner=port.device_owner, binding__host_id=port.binding__host_id, mac_address=port.mac_address, **extension_kwargs)\ .AndReturn(port) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('port_get', api.neutron.port_get(IsA(http.HttpRequest), port.id)\ .AndReturn(port) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'binding')\ .MultipleTimes().AndReturn(binding) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .MultipleTimes().AndReturn(mac_learning) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'port-security')\ .MultipleTimes().AndReturn(port_security) api.neutron.security_group_list(IsA(http.HttpRequest), tenant_id=None)\ .AndReturn(self.security_groups.list()) extension_kwargs = {} if binding: extension_kwargs['binding__vnic_type'] = port.binding__vnic_type if mac_learning: extension_kwargs['mac_learning_enabled'] = True if port_security: extension_kwargs['port_security_enabled'] = True api.neutron.port_update(IsA(http.HttpRequest), port.id, name=port.name, admin_state_up=port.admin_state_up, device_id=port.device_id, device_owner=port.device_owner, binding__host_id=port.binding__host_id, mac_address=port.mac_address, **extension_kwargs)\ .AndRaise(self.exceptions.neutron) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('port_delete', 'subnet_list', 'port_list', 'show_network_ip_availability', 'is_extension_supported', 'list_dhcp_agent_hosting_networks',)}) @test.create_stubs({api.neutron: ('port_delete', def test_port_delete_with_mac_learning(self): self._test_port_delete(mac_learning=True) api.neutron.port_list(IsA(http.HttpRequest), network_id=network_id)\ .AndReturn([self.ports.first()]) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network-ip-availability').AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .AndReturn(mac_learning) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('port_delete', 'subnet_list', 'port_list', 'show_network_ip_availability', 'is_extension_supported', 'list_dhcp_agent_hosting_networks',)}) @test.create_stubs({api.neutron: ('port_delete', def test_port_delete_exception_with_mac_learning(self): self._test_port_delete_exception(mac_learning=True) api.neutron.port_delete(IsA(http.HttpRequest), port.id)\ .AndRaise(self.exceptions.neutron) api.neutron.port_list(IsA(http.HttpRequest), network_id=network_id)\ .AndReturn([self.ports.first()]) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'network-ip-availability').AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning')\ .AndReturn(mac_learning) self.mox.ReplayAll()",290,266
openstack%2Fhorizon~master~I0f8bd16c8973ad23bcd8f73b54584dc69e5aed0c,openstack/horizon,master,I0f8bd16c8973ad23bcd8f73b54584dc69e5aed0c,Create new wsgi.py file and deprecate old file,MERGED,2018-04-17 07:06:40.000000000,2018-05-17 10:12:38.000000000,2018-05-17 10:12:38.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8478}, {'_account_id': 8648}, {'_account_id': 10420}, {'_account_id': 22348}, {'_account_id': 23630}]","[{'number': 1, 'created': '2018-04-17 07:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b1146c8bcfb6b8f44889bc9f0a1e24c874552a66', 'message': 'Create new wsgi.py file and deprecate old file\n\nDjango 1.4 stopped creating django.wsgi files and the common\npractice now for a while has been a wsgi.py since it is actually\npython code, and should actually be importable.\n\nRight now someone has to copy and rename the existing file if they\nwant to use it with a server like gunicorn.\n\nThis patch adds a new file in location that is importable via python\nand adds a deprecation log to the old one.\n\nChange-Id: I0f8bd16c8973ad23bcd8f73b54584dc69e5aed0c\nCloses-Bug: #1763204\n'}, {'number': 2, 'created': '2018-04-19 23:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/22bcccd2f2e505ed3e8a3ca88392656be5047e25', 'message': 'Create new wsgi.py file and deprecate old file\n\nDjango 1.4 stopped creating django.wsgi files and the common\npractice now for a while has been a wsgi.py since it is actually\npython code, and should actually be importable.\n\nRight now someone has to copy and rename the existing file if they\nwant to use it with a server like gunicorn.\n\nThis patch adds a new file in location that is importable via python\nand adds a deprecation log to the old one.\n\nChange-Id: I0f8bd16c8973ad23bcd8f73b54584dc69e5aed0c\nCloses-Bug: #1763204\n'}, {'number': 3, 'created': '2018-04-20 02:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8c418d8c335f1478569a31a2ce088675f36ee279', 'message': 'Create new wsgi.py file and deprecate old file\n\nDjango 1.4 stopped creating django.wsgi files and the common\npractice now for a while has been a wsgi.py since it is actually\npython code, and should actually be importable.\n\nRight now someone has to copy and rename the existing file if they\nwant to use it with a server like gunicorn.\n\nThis patch adds a new file in location that is importable via python\nand adds a deprecation log to the old one.\n\nChange-Id: I0f8bd16c8973ad23bcd8f73b54584dc69e5aed0c\nCloses-Bug: #1763204\n'}, {'number': 4, 'created': '2018-04-20 03:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cf7f597932fa27cdb7d4cc2a84f2d918aa1db103', 'message': 'Create new wsgi.py file and deprecate old file\n\nDjango 1.4 stopped creating django.wsgi files and the common\npractice now for a while has been a wsgi.py since it is actually\npython code, and should actually be importable.\n\nRight now someone has to copy and rename the existing file if they\nwant to use it with a server like gunicorn.\n\nThis patch adds a new file in location that is importable via python\nand adds a deprecation log to the old one.\n\nChange-Id: I0f8bd16c8973ad23bcd8f73b54584dc69e5aed0c\nCloses-Bug: #1763204\n'}, {'number': 5, 'created': '2018-04-23 01:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/05a61c955097d48b33cd99c4d4014872254b1d46', 'message': ""Create new wsgi.py file and deprecate old file\n\nDjango 1.4 stopped creating django.wsgi files and the common\npractice now for a while has been a wsgi.py since it is actually\npython code, and should actually be importable.\n\nRight now someone has to copy and rename the existing file if they\nwant to use it with a server like gunicorn.\n\nThis patch adds a new file in location that is importable via python\nand adds a deprecation log to the old one.\n\nThis also updates the wsgi generation commands to instead  create\n'horizon_wsgi.py' and have the apache conf generation also use that\nor the default wsgi file.\n\nChange-Id: I0f8bd16c8973ad23bcd8f73b54584dc69e5aed0c\nCloses-Bug: #1763204\n""}, {'number': 6, 'created': '2018-04-23 02:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/207b895b816da9ff7f1f5cdec6070a399b88b6cd', 'message': ""Create new wsgi.py file and deprecate old file\n\nDjango 1.4 stopped creating django.wsgi files and the common\npractice now for a while has been a wsgi.py since it is actually\npython code, and should actually be importable.\n\nRight now someone has to copy and rename the existing file if they\nwant to use it with a server like gunicorn.\n\nThis patch adds a new file in location that is importable via python\nand adds a deprecation log to the old one.\n\nThis also updates the wsgi generation commands to instead  create\n'horizon_wsgi.py' and have the apache conf generation also use that\nor the default wsgi file.\n\nChange-Id: I0f8bd16c8973ad23bcd8f73b54584dc69e5aed0c\nCloses-Bug: #1763204\n""}, {'number': 7, 'created': '2018-04-23 02:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d49ba3187ec333aaff35c7a752a65a69a004d0ed', 'message': ""Create new wsgi.py file and deprecate old file\n\nDjango 1.4 stopped creating django.wsgi files and the common\npractice now for a while has been a wsgi.py since it is actually\npython code, and should actually be importable.\n\nRight now someone has to copy and rename the existing file if they\nwant to use it with a server like gunicorn.\n\nThis patch adds a new file in location that is importable via python\nand adds a deprecation log to the old one.\n\nThis also updates the wsgi generation commands to instead  create\n'horizon_wsgi.py' and have the apache conf generation also use that\nor the default wsgi file.\n\nChange-Id: I0f8bd16c8973ad23bcd8f73b54584dc69e5aed0c\nCloses-Bug: #1763204\n""}, {'number': 8, 'created': '2018-04-23 02:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f29b5dfe23e34eae8cb70f2767f5a41eae03606a', 'message': ""Create new wsgi.py file and deprecate old file\n\nDjango 1.4 stopped creating django.wsgi files and the common\npractice now for a while has been a wsgi.py since it is actually\npython code, and should actually be importable.\n\nRight now someone has to copy and rename the existing file if they\nwant to use it with a server like gunicorn.\n\nThis patch adds a new file in location that is importable via python\nand adds a deprecation log to the old one.\n\nThis also updates the wsgi generation commands to instead  create\n'horizon_wsgi.py' and have the apache conf generation also use that\nor the default wsgi file.\n\nChange-Id: I0f8bd16c8973ad23bcd8f73b54584dc69e5aed0c\nCloses-Bug: #1763204\n""}, {'number': 9, 'created': '2018-05-15 01:41:01.000000000', 'files': ['.gitignore', 'doc/source/admin/customize-configure.rst', 'openstack_dashboard/management/commands/make_web_conf.py', 'releasenotes/notes/deprecation-of-old-wsgi-file-7ffdeae78698ff93.yaml', 'openstack_dashboard/wsgi.py', 'openstack_dashboard/wsgi/django.wsgi', 'doc/source/install/from-source.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0ca736e5da47413db6749053e6083b82cbb24825', 'message': ""Create new wsgi.py file and deprecate old file\n\nDjango 1.4 stopped creating django.wsgi files and the common\npractice now for a while has been a wsgi.py since it is actually\npython code, and should actually be importable.\n\nRight now someone has to copy and rename the existing file if they\nwant to use it with a server like gunicorn.\n\nThis patch adds a new file in location that is importable via python\nand adds a deprecation log to the old one.\n\nThis also updates the wsgi generation commands to instead  create\n'horizon_wsgi.py' and have the apache conf generation also use that\nor the default wsgi file.\n\nChange-Id: I0f8bd16c8973ad23bcd8f73b54584dc69e5aed0c\nCloses-Bug: #1763204\n""}]",17,561802,0ca736e5da47413db6749053e6083b82cbb24825,47,7,9,10420,,,0,"Create new wsgi.py file and deprecate old file

Django 1.4 stopped creating django.wsgi files and the common
practice now for a while has been a wsgi.py since it is actually
python code, and should actually be importable.

Right now someone has to copy and rename the existing file if they
want to use it with a server like gunicorn.

This patch adds a new file in location that is importable via python
and adds a deprecation log to the old one.

This also updates the wsgi generation commands to instead  create
'horizon_wsgi.py' and have the apache conf generation also use that
or the default wsgi file.

Change-Id: I0f8bd16c8973ad23bcd8f73b54584dc69e5aed0c
Closes-Bug: #1763204
",git fetch https://review.opendev.org/openstack/horizon refs/changes/02/561802/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/wsgi.py', 'openstack_dashboard/wsgi/django.wsgi']",2,b1146c8bcfb6b8f44889bc9f0a1e24c874552a66,bug/1763204,"import logginglogging.warning( ""Use of this 'djano.wsgi' file been deprecated in favor of 'wsgi.py' in "" ""the 'openstack_dashboard' module. This file is a legacy naming "" ""from before Django 1.4 and an importable 'wsgi.py' is now the default. "" ""This file will be removed in the T release cycle."" ) ",,41,0
openstack%2Fzun~master~I16a6e49223f1184d63f4ff6f2eb0211e8ae9e84f,openstack/zun,master,I16a6e49223f1184d63f4ff6f2eb0211e8ae9e84f,Show container failed if container host is none,MERGED,2018-05-16 14:00:51.000000000,2018-05-17 10:09:57.000000000,2018-05-17 10:09:56.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 24441}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-05-16 14:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/6144402c68686b5405c011e93c670827a2bd988b', 'message': 'Show container failed if container host is none\n\nThe rpc message is synchronous call, so the client will wait the\nreturn value until time out. If the host parameter the PRC call\nused is none, RPC call will not get the return value.\nIf the container host is none, return the container information\ndirectly.\n\nChange-Id: I16a6e49223f1184d63f4ff6f2eb0211e8ae9e84f\n'}, {'number': 2, 'created': '2018-05-16 14:03:21.000000000', 'files': ['zun/api/controllers/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/a5186183a1ec9d2b1c95bbd632dbb039a9b04920', 'message': 'Show container failed if container host is none\n\nThe rpc message is synchronous call, so the client will wait the\nreturn value until time out. If the host parameter the PRC call\nused is none, RPC call will not get the return value.\nIf the container host is none, return the container information\ndirectly.\n\nCloses-Bug: #1771578\nChange-Id: I16a6e49223f1184d63f4ff6f2eb0211e8ae9e84f\n'}]",0,568854,a5186183a1ec9d2b1c95bbd632dbb039a9b04920,9,5,2,23829,,,0,"Show container failed if container host is none

The rpc message is synchronous call, so the client will wait the
return value until time out. If the host parameter the PRC call
used is none, RPC call will not get the return value.
If the container host is none, return the container information
directly.

Closes-Bug: #1771578
Change-Id: I16a6e49223f1184d63f4ff6f2eb0211e8ae9e84f
",git fetch https://review.opendev.org/openstack/zun refs/changes/54/568854/2 && git format-patch -1 --stdout FETCH_HEAD,['zun/api/controllers/v1/containers.py'],1,6144402c68686b5405c011e93c670827a2bd988b,bug/1771578," if container.host: compute_api = pecan.request.compute_api try: container = compute_api.container_show(context, container) except exception.ContainerHostNotUp: raise exception.ServerNotUsable"," compute_api = pecan.request.compute_api try: container = compute_api.container_show(context, container) except exception.ContainerHostNotUp: raise exception.ServerNotUsable",6,5
openstack%2Fzun~master~If67610f27dc2fd1d95196b8cdb1e99bcb0f03080,openstack/zun,master,If67610f27dc2fd1d95196b8cdb1e99bcb0f03080,Pre-load the list of image drivers,MERGED,2018-03-30 18:41:28.000000000,2018-05-17 10:09:57.000000000,2018-05-17 10:09:57.000000000,"[{'_account_id': 11536}, {'_account_id': 19554}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23517}, {'_account_id': 25571}, {'_account_id': 25695}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-03-30 18:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a3d48606fef8a904f07c1bf1083f97da0ebf5261', 'message': 'Pre-load the list of image drivers\n\nIn before, we load the image drivers on demand. This is undesirable\nbecause the image driver will be loaded per request which is\nunnecessary. After this patch, the image drivers will be loaded\non initialization. Each request will retrieve the pre-loaded\ndriver instead.\n\nChange-Id: If67610f27dc2fd1d95196b8cdb1e99bcb0f03080\n'}, {'number': 2, 'created': '2018-04-04 03:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/52e7eb9af82dc9b6310f7ac1363074d4ae6a89e0', 'message': 'Pre-load the list of image drivers\n\nIn before, we load the image drivers on demand. This is undesirable\nbecause the image driver will be loaded per request which is\nunnecessary. After this patch, the image drivers will be loaded\non initialization. Each request will retrieve the pre-loaded\ndriver instead.\n\nChange-Id: If67610f27dc2fd1d95196b8cdb1e99bcb0f03080\n'}, {'number': 3, 'created': '2018-04-29 17:34:18.000000000', 'files': ['zun/container/docker/driver.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/0cd9cb41248ef24ae04c9e35f50cb8f3f847cac4', 'message': 'Pre-load the list of image drivers\n\nIn before, we load the image drivers on demand. This is undesirable\nbecause the image driver will be loaded per request which is\nunnecessary. After this patch, the image drivers will be loaded\non initialization. Each request will retrieve the pre-loaded\ndriver instead.\n\nChange-Id: If67610f27dc2fd1d95196b8cdb1e99bcb0f03080\n'}]",0,557983,0cd9cb41248ef24ae04c9e35f50cb8f3f847cac4,21,8,3,11536,,,0,"Pre-load the list of image drivers

In before, we load the image drivers on demand. This is undesirable
because the image driver will be loaded per request which is
unnecessary. After this patch, the image drivers will be loaded
on initialization. Each request will retrieve the pre-loaded
driver instead.

Change-Id: If67610f27dc2fd1d95196b8cdb1e99bcb0f03080
",git fetch https://review.opendev.org/openstack/zun refs/changes/83/557983/3 && git format-patch -1 --stdout FETCH_HEAD,['zun/container/docker/driver.py'],1,a3d48606fef8a904f07c1bf1083f97da0ebf5261,Ia8e6c9d8868fde1f650f9c56cade5e4b7dde507b, self.image_drivers = {} for driver_name in CONF.image_driver_list: driver = img_driver.load_image_driver(driver_name) self.image_drivers[driver_name] = driver image_driver = self.image_drivers[driver_name] if driver_name is None: driver_name = CONF.default_image_driver try: image_driver = self.image_drivers[driver_name], image_driver = img_driver.load_image_driver(driver_name) try: image_driver = img_driver.load_image_driver(driver_name),9,2
openstack%2Fpython-mistralclient~master~I4ab23f729a634a4ab5af6bfe5adbd042a51ffd43,openstack/python-mistralclient,master,I4ab23f729a634a4ab5af6bfe5adbd042a51ffd43,Update task columns info,MERGED,2018-05-14 03:04:30.000000000,2018-05-17 09:53:33.000000000,2018-05-17 09:53:33.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 21486}, {'_account_id': 21690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 03:04:30.000000000', 'files': ['mistralclient/commands/v2/tasks.py', 'mistralclient/tests/functional/cli/v2/cli_tests_v2.py'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/5dc9935f7e6b68b1e37aa7a62587e4573da67b49', 'message': 'Update task columns info\n\nThere are two execution_ids, workflow_execution_id and\ntask_execution_id. To avoid misread, we need this change.\n\nChange-Id: I4ab23f729a634a4ab5af6bfe5adbd042a51ffd43\nSigned-off-by: pengdake <19921207pq@gmail.com>\n'}]",0,568175,5dc9935f7e6b68b1e37aa7a62587e4573da67b49,9,5,1,25167,,,0,"Update task columns info

There are two execution_ids, workflow_execution_id and
task_execution_id. To avoid misread, we need this change.

Change-Id: I4ab23f729a634a4ab5af6bfe5adbd042a51ffd43
Signed-off-by: pengdake <19921207pq@gmail.com>
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/75/568175/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistralclient/commands/v2/tasks.py', 'mistralclient/tests/functional/cli/v2/cli_tests_v2.py']",2,5dc9935f7e6b68b1e37aa7a62587e4573da67b49,," ['ID', 'Name', 'Workflow name', 'Workflow Execution ID', 'State'] task_execution_id = self.get_field_value(fetched_task, 'Workflow Execution ID') task_execution_id = self.get_field_value(fetched_task, 'Workflow Execution ID') ['ID', 'Name', 'Workflow name', 'Workflow Execution ID', 'State'] ['ID', 'Name', 'Workflow name', 'Workflow Execution ID', 'State']"," ['ID', 'Name', 'Workflow name', 'Execution ID', 'State'] task_execution_id = self.get_field_value(fetched_task, 'Execution ID') task_execution_id = self.get_field_value(fetched_task, 'Execution ID') ['ID', 'Name', 'Workflow name', 'Execution ID', 'State'] ['ID', 'Name', 'Workflow name', 'Execution ID', 'State']",8,6
openstack%2Fdevstack-gate~master~I7335638e513f066069672772ba0d9171b66ec710,openstack/devstack-gate,master,I7335638e513f066069672772ba0d9171b66ec710,Grant tempest user access to virt-filesystems,MERGED,2017-01-26 10:44:43.000000000,2018-05-17 09:35:27.000000000,2018-05-17 09:35:27.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 7069}, {'_account_id': 10239}, {'_account_id': 14525}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2017-01-26 10:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/386491c90b1b7a5e81152670688be827721d8a7f', 'message': 'Grant tempest user access to parted\n\nAccess to parted is required by ironic tests for cleaning\nto check that partitioning table was removed from VM after\ncleaning.\n\nChange-Id: I7335638e513f066069672772ba0d9171b66ec710\n'}, {'number': 2, 'created': '2017-01-27 10:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/7dd914f2f1b92d419bb06a254bc8845e7629b9fb', 'message': 'Grant tempest user access to virt-filesystems\n\nAccess to /usr/bin/virt-filesystems is required by ironic tests\nto check that partitioning table was removed from VM after cleaning.\n\nChange-Id: I7335638e513f066069672772ba0d9171b66ec710\n'}, {'number': 3, 'created': '2017-02-06 08:44:27.000000000', 'files': ['playbooks/roles/setup_tempest_user/files/51_tempest_sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/c741fd58f76c6b0bc4a072345e6132c38edd297f', 'message': 'Grant tempest user access to virt-filesystems\n\nAccess to /usr/bin/virt-filesystems is required by ironic tests\nto check that partitioning table was removed from VM after cleaning.\n\nRelated-Bug: #1523640\nChange-Id: I7335638e513f066069672772ba0d9171b66ec710\n'}]",0,425622,c741fd58f76c6b0bc4a072345e6132c38edd297f,19,7,3,14525,,,0,"Grant tempest user access to virt-filesystems

Access to /usr/bin/virt-filesystems is required by ironic tests
to check that partitioning table was removed from VM after cleaning.

Related-Bug: #1523640
Change-Id: I7335638e513f066069672772ba0d9171b66ec710
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/22/425622/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/setup_tempest_user/files/51_tempest_sh'],1,386491c90b1b7a5e81152670688be827721d8a7f,(HEAD,tempest ALL=(root) NOPASSWD:/sbin/parted,,1,0
openstack%2Fcharm-neutron-openvswitch~master~Icc5fcf6408d76fdef34ccb18657624cfe5593f10,openstack/charm-neutron-openvswitch,master,Icc5fcf6408d76fdef34ccb18657624cfe5593f10,Cover more NUMA CPU list types,MERGED,2018-05-16 08:52:34.000000000,2018-05-17 09:27:41.000000000,2018-05-17 09:27:41.000000000,"[{'_account_id': 2583}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 08:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/ff3e2d5a8544c3a78e02edb5f7a9b1a791389bd2', 'message': ""Cover more NUMA CPU list types\n\nIn some cases cpulist doesn't contain '-' and lists all\ncores one by one. For this kind of lists, splitting by\ncomma will break parse_cpu_list().\n\nChange-Id: Icc5fcf6408d76fdef34ccb18657624cfe5593f10\nCloses-Bug: #1771527\n""}, {'number': 2, 'created': '2018-05-16 08:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/c249631e355e5353783caf4a0a76c82d1d900f9e', 'message': ""Cover more NUMA CPU list types\n\nIn some cases cpulist doesn't contain '-' and lists all\ncores one by one. For this kind of lists, splitting by\ncomma will break parse_cpu_list().\n\nChange-Id: Icc5fcf6408d76fdef34ccb18657624cfe5593f10\nCloses-Bug: #1771527\n""}, {'number': 3, 'created': '2018-05-16 09:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/7fb4ecb22fd4c27e3ae1a378939c8423661ed971', 'message': ""Cover more NUMA CPU list types\n\nIn some cases cpulist doesn't contain '-' and lists all\ncores one by one. For this kind of lists, splitting by\ncomma will break parse_cpu_list().\n\nChange-Id: Icc5fcf6408d76fdef34ccb18657624cfe5593f10\nCloses-Bug: #1771527\n""}, {'number': 4, 'created': '2018-05-16 09:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/3e3fcdc597a82676107ff909fd2230dd1cb7221e', 'message': ""Cover more NUMA CPU list types\n\nIn some cases cpulist doesn't contain '-' and lists all\ncores one by one. For this kind of lists, splitting by\ncomma will break parse_cpu_list().\n\nChange-Id: Icc5fcf6408d76fdef34ccb18657624cfe5593f10\nCloses-Bug: #1771527\n""}, {'number': 5, 'created': '2018-05-16 11:48:28.000000000', 'files': ['unit_tests/test_neutron_ovs_context.py', 'hooks/neutron_ovs_context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/54449e783db89a1ba83a1fa47b9a7ef34756de46', 'message': ""Cover more NUMA CPU list types\n\nIn some cases cpulist doesn't contain '-' and lists all\ncores one by one. For this kind of lists, splitting by\ncomma will break parse_cpu_list().\n\nChange-Id: Icc5fcf6408d76fdef34ccb18657624cfe5593f10\nCloses-Bug: #1771527\n""}]",1,568786,54449e783db89a1ba83a1fa47b9a7ef34756de46,16,4,5,2583,,,0,"Cover more NUMA CPU list types

In some cases cpulist doesn't contain '-' and lists all
cores one by one. For this kind of lists, splitting by
comma will break parse_cpu_list().

Change-Id: Icc5fcf6408d76fdef34ccb18657624cfe5593f10
Closes-Bug: #1771527
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/86/568786/5 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_ovs_context.py', 'hooks/neutron_ovs_context.py']",2,ff3e2d5a8544c3a78e02edb5f7a9b1a791389bd2,bug/1771527," if ""-"" in cpulist: for cpu_range in ranges: cpu_min_max = cpu_range.split('-') cores += range(int(cpu_min_max[0]), int(cpu_min_max[1]) + 1) else: cores = [int(s) for s in ranges]"," for cpu_range in ranges: cpu_min_max = cpu_range.split('-') cores += range(int(cpu_min_max[0]), int(cpu_min_max[1]) + 1)",11,4
openstack%2Fnova~master~I5b11b9df26e4e38516b5674e0e6c1fc79527129b,openstack/nova,master,I5b11b9df26e4e38516b5674e0e6c1fc79527129b,Suppress UUID warning in map_instance unit tests,MERGED,2018-05-14 11:18:46.000000000,2018-05-17 09:16:00.000000000,2018-05-14 18:07:10.000000000,"[{'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-14 11:18:46.000000000', 'files': ['nova/tests/unit/test_nova_manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0c20743cb38d71df78feda6847fee9409be218fa', 'message': 'Suppress UUID warning in map_instance unit tests\n\nnova-manage cells_v2 map_instances call uses a non canonical UUID\nserialization to store the instance marker in the DB. The\noslo.versionedobjects UUIDField emits a warning. A later patch would\nlike to turn this warning to an error during the unit and functional\ntest to avoid adding new violations.\n\nAs the underlying DB schema is not violated this patch proposes to\nsuppress the warning in the affected unit tests.\n\nChange-Id: I5b11b9df26e4e38516b5674e0e6c1fc79527129b\n'}]",0,568263,0c20743cb38d71df78feda6847fee9409be218fa,14,13,1,9708,,,0,"Suppress UUID warning in map_instance unit tests

nova-manage cells_v2 map_instances call uses a non canonical UUID
serialization to store the instance marker in the DB. The
oslo.versionedobjects UUIDField emits a warning. A later patch would
like to turn this warning to an error during the unit and functional
test to avoid adding new violations.

As the underlying DB schema is not violated this patch proposes to
suppress the warning in the affected unit tests.

Change-Id: I5b11b9df26e4e38516b5674e0e6c1fc79527129b
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/568263/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_nova_manage.py'],1,0c20743cb38d71df78feda6847fee9409be218fa,,"import warnings # NOTE(gibi): map_instances command uses non canonical UUID # serialization for the marker instance mapping. The db schema is not # violated so we suppress the warning here. warnings.filterwarnings('ignore', message="".*invalid UUID.*"") # NOTE(gibi): map_instances command uses non canonical UUID # serialization for the marker instance mapping. The db schema is not # violated so we suppress the warning here. warnings.filterwarnings('ignore', message="".*invalid UUID.*"") # NOTE(gibi): map_instances command uses non canonical UUID # serialization for the marker instance mapping. The db schema is not # violated so we suppress the warning here. warnings.filterwarnings('ignore', message="".*invalid UUID.*"")",,13,0
openstack%2Ftempest~master~I67b023002eefc40bdefbb570f22ffc08aa4e30f0,openstack/tempest,master,I67b023002eefc40bdefbb570f22ffc08aa4e30f0,Backup and restore of volume snapshot,ABANDONED,2017-12-26 15:02:13.000000000,2018-05-17 09:15:44.000000000,,"[{'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 19262}, {'_account_id': 21187}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-12-26 15:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8faf761004fe3852b891fb9267bf32dcb3b8d5f4', 'message': ""Backup and restore of volume snapshot\n\nThis testcase verifies content preservation after backup and\nrestore operations of a volume snapshot.\n\nAdded:\n   - 'create_backup' method in scenario/manager\n   - 'restore_backup' method in scenario/manager\n\nChange-Id: I67b023002eefc40bdefbb570f22ffc08aa4e30f0\n""}, {'number': 2, 'created': '2017-12-26 15:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cec54fa96000ca5d5482a00339f7299a87ee9939', 'message': ""Backup and restore of volume snapshot\n\nThis testcase verifies content preservation after backup and\nrestore operations of a volume snapshot.\n\nAdded:\n   - 'create_backup' method in scenario/manager\n   - 'restore_backup' method in scenario/manager\n\nChange-Id: I67b023002eefc40bdefbb570f22ffc08aa4e30f0\n""}, {'number': 3, 'created': '2017-12-26 19:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2f04abbd09283abb8e18885b935f744247bddbd5', 'message': ""Backup and restore of volume snapshot\n\nThis testcase verifies content preservation after backup and\nrestore operations of a volume snapshot.\n\nAdded:\n   - 'create_backup' method in scenario/manager\n   - 'restore_backup' method in scenario/manager\n\nChange-Id: I67b023002eefc40bdefbb570f22ffc08aa4e30f0\n""}, {'number': 4, 'created': '2017-12-27 06:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/023258c8b7dc0eefd41cbefdcce88d8d9f982919', 'message': ""Backup and restore of volume snapshot\n\nThis testcase verifies content preservation after backup and\nrestore operations of a volume snapshot.\n\nAdded:\n   - 'create_backup' method in scenario/manager\n   - 'restore_backup' method in scenario/manager\n\nChange-Id: I67b023002eefc40bdefbb570f22ffc08aa4e30f0\n""}, {'number': 5, 'created': '2017-12-27 09:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/04ed855743b1e0e579abaf4d70ca494eb6db5311', 'message': ""Backup and restore of volume snapshot\n\nThis testcase verifies content preservation after backup and\nrestore operations of a volume snapshot.\n\nAdded:\n   - 'create_backup' method in scenario/manager\n   - 'restore_backup' method in scenario/manager\n\nChange-Id: I67b023002eefc40bdefbb570f22ffc08aa4e30f0\n""}, {'number': 6, 'created': '2017-12-31 08:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ac0af77e45284c31e1fdd7c3fbc1d6c90d4f221d', 'message': ""Backup and restore of volume snapshot\n\nThis testcase verifies content preservation after backup and\nrestore operations of a volume snapshot.\n\nAdded:\n   - 'create_backup' method in scenario/manager\n   - 'restore_backup' method in scenario/manager\n\nChange-Id: I67b023002eefc40bdefbb570f22ffc08aa4e30f0\n""}, {'number': 7, 'created': '2018-01-15 05:55:47.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/clients.py', 'tempest/scenario/test_volume_backup.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ca6c4787756402b7156b2003912d1344cdbceccc', 'message': ""Backup and restore of volume snapshot\n\nThis testcase verifies content preservation after backup and\nrestore operations of a volume snapshot.\n\nAdded:\n   - 'create_backup' method in scenario/manager\n   - 'restore_backup' method in scenario/manager\n\nChange-Id: I67b023002eefc40bdefbb570f22ffc08aa4e30f0\n""}]",0,530111,ca6c4787756402b7156b2003912d1344cdbceccc,34,7,7,19262,,,0,"Backup and restore of volume snapshot

This testcase verifies content preservation after backup and
restore operations of a volume snapshot.

Added:
   - 'create_backup' method in scenario/manager
   - 'restore_backup' method in scenario/manager

Change-Id: I67b023002eefc40bdefbb570f22ffc08aa4e30f0
",git fetch https://review.opendev.org/openstack/tempest refs/changes/11/530111/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'tempest/scenario/test_volume_backup.py']",2,8faf761004fe3852b891fb9267bf32dcb3b8d5f4,volume_snapshot_backup,"# Copyright 2017 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest import config from tempest import test from tempest.scenario import manager CONF = config.CONF class TestVolumeBackup(manager.ScenarioTest): @classmethod def skip_checks(cls): super(TestVolumeBackup, cls).skip_checks() if not CONF.volume_feature_enabled.backup: raise cls.skipException('Backup is not enable.') if not CONF.volume_feature_enabled.snapshot: raise cls.skipException(""Cinder volume snapshots are disabled"") @test.idempotent_id('f25bad28-fd61-444b-aad6-a2af5d8a3d04') @test.services('compute', 'volume', 'image') def test_volume_snapshot_backup_restore(self): """"""Test cinder backup and restore of a volume snapshot This testcase verifies content preservation after backup and restore operations of a volume snapshot. The following is the scenario outline: 1. Boot an instance 'Instance'. 2. Create a volume 'Volume'. 3. Attach Volume to Instance. 4. Write a content to Volume. 5. Create a volume snapshot. 6. Create a backup 'Backup' of the Volume Snapshot. 7. Detach the Volume. 8. Restore the Backup. 9. Attach restored Volume Snapshot to Instance. 10. Get content from restored Volume related to 'Backup'. 11. Detach the restored Volume. """""" # Create keypair and security group keypair = self.create_keypair() security_group = self._create_security_group() # Create a server kwargs = {'key_name': keypair['name'], 'security_groups': [{'name': security_group['name']}]} server = self.create_server(**kwargs) server_ip = self.get_server_ip(server) # Create a volume volume = self.create_volume() # Attach volume to the instance self.nova_volume_attach(server, volume) # Write to the attached volume timestamp = self.create_timestamp( ip_address=server_ip, dev_name=CONF.compute.volume_device_name, private_key=keypair['private_key']) # Create a volume snapshot snapshot = self.create_volume_snapshot(volume_id=volume['id']) # Create a backup of a volume snapshot backup = self.create_backup(volume_id=volume['id'], snapshot_id=snapshot['id']) # Detach the volume self.nova_volume_detach(server, volume) # Restore the backup restored_volume = self.restore_backup(backup_id=backup['id']) self.assertEqual(backup['id'], restored_volume['backup_id']) self.assertNotEqual(volume['id'], restored_volume['volume_id']) restored_volume_id = {'id': restored_volume['volume_id']} # Attach the restored volume to the instance self.nova_volume_attach(server, restored_volume_id) # Get content from the restored volume timestamp_content = self.get_timestamp( ip_address=server_ip, dev_name=CONF.compute.volume_device_name, private_key=keypair['private_key']) # Verify the content has restored self.assertEqual(timestamp, timestamp_content) # Detach the restored volume self.nova_volume_detach(server, restored_volume_id) ",,138,0
openstack%2Fkolla-ansible~stable%2Fqueens~I9ca176a7aca9348d7e2e37cfe3b7efa315294d1d,openstack/kolla-ansible,stable/queens,I9ca176a7aca9348d7e2e37cfe3b7efa315294d1d,Remove the duplicate when condition check,MERGED,2018-05-16 05:01:32.000000000,2018-05-17 09:07:02.000000000,2018-05-17 09:07:02.000000000,"[{'_account_id': 167}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 22582}]","[{'number': 1, 'created': '2018-05-16 05:01:32.000000000', 'files': ['ansible/roles/cinder/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/23a9acfc6fef77a2feb3d0038207546171e40108', 'message': 'Remove the duplicate when condition check\n\nthe condition check is duplicated with https://github.com/openstack/kolla-ansible/blob/master/ansible/roles/cinder/tasks/config.yml#L122\n\nChange-Id: I9ca176a7aca9348d7e2e37cfe3b7efa315294d1d\n(cherry picked from commit 522f13646d7278146f9d24aab4a5ce735a0ecf58)\n'}]",0,568743,23a9acfc6fef77a2feb3d0038207546171e40108,10,5,1,22165,,,0,"Remove the duplicate when condition check

the condition check is duplicated with https://github.com/openstack/kolla-ansible/blob/master/ansible/roles/cinder/tasks/config.yml#L122

Change-Id: I9ca176a7aca9348d7e2e37cfe3b7efa315294d1d
(cherry picked from commit 522f13646d7278146f9d24aab4a5ce735a0ecf58)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/568743/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cinder/tasks/config.yml'],1,23a9acfc6fef77a2feb3d0038207546171e40108,,," when: - inventory_hostname in groups[cinder_services[""cinder-volume""][""group""]]",0,2
openstack%2Fkolla-ansible~stable%2Fqueens~I33fc499b083c7bcc548133498e44406a479389f1,openstack/kolla-ansible,stable/queens,I33fc499b083c7bcc548133498e44406a479389f1,[haproxy] Enable global optimization options,MERGED,2018-05-16 13:36:55.000000000,2018-05-17 08:53:50.000000000,2018-05-17 08:53:50.000000000,"[{'_account_id': 167}, {'_account_id': 19316}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-05-16 13:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f1f23a78869098a703b6b8ebc5a8cdc08dd88fc7', 'message': '[haproxy] Enable global optimization options\n\nThis patch enables 3 new configuration options for haproxy.cfg\nglobal section.\n\n  - haproxy_processes: number of haproxy processes (default:1).\n  - haproxy_max_connections: number of concurrent connections (default:4000)\n  - haproxy_process_cpu_map: enforces 1:1 mapping/affinity between\nprocess and core. (default: no).\n\nCloses-Bug: #1770060\nChange-Id: I33fc499b083c7bcc548133498e44406a479389f1\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@linaro.org>\n(cherry picked from commit fd258b2afe8ad12d8116e3d9ec28193a2952d293)\n'}, {'number': 2, 'created': '2018-05-16 13:39:01.000000000', 'files': ['ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/haproxy/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8744a7e1eb2e50d7f9100f0cd6c24e239f60bef5', 'message': '[haproxy] Enable global optimization options\n\nThis patch enables 3 new configuration options for haproxy.cfg\nglobal section.\n\n  - haproxy_processes: number of haproxy processes (default:1).\n  - haproxy_max_connections: number of concurrent connections (default:4000)\n  - haproxy_process_cpu_map: enforces 1:1 mapping/affinity between\nprocess and core. (default: no).\n\nCloses-Bug: #1770060\nChange-Id: I33fc499b083c7bcc548133498e44406a479389f1\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@linaro.org>\n(cherry picked from commit fd258b2afe8ad12d8116e3d9ec28193a2952d293)\n'}]",0,568845,8744a7e1eb2e50d7f9100f0cd6c24e239f60bef5,10,5,2,2276,,,0,"[haproxy] Enable global optimization options

This patch enables 3 new configuration options for haproxy.cfg
global section.

  - haproxy_processes: number of haproxy processes (default:1).
  - haproxy_max_connections: number of concurrent connections (default:4000)
  - haproxy_process_cpu_map: enforces 1:1 mapping/affinity between
process and core. (default: no).

Closes-Bug: #1770060
Change-Id: I33fc499b083c7bcc548133498e44406a479389f1
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@linaro.org>
(cherry picked from commit fd258b2afe8ad12d8116e3d9ec28193a2952d293)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/568845/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/haproxy/defaults/main.yml']",2,f1f23a78869098a703b6b8ebc5a8cdc08dd88fc7,bug/1770060," # Traffic mode. Valid options are [ multicast, unicast ] keepalived_traffic_mode: ""multicast"" haproxy_listen_tcp_extra: [] haproxy_listen_http_extra: [] # Extended global configuration, optimization options. haproxy_max_connections: 4000 haproxy_processes: 1 haproxy_process_cpu_map: ""no""",,19,2
openstack%2Fhorizon~master~Ia10b70620c5e83c61ead17822c8988618fb2f5cc,openstack/horizon,master,Ia10b70620c5e83c61ead17822c8988618fb2f5cc,Imported Translations from Zanata,MERGED,2018-05-14 06:30:08.000000000,2018-05-17 08:53:19.000000000,2018-05-17 08:53:19.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 06:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bef9f564064b9f3bb4f2bc8dc01d61ecd9794184', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia10b70620c5e83c61ead17822c8988618fb2f5cc\n'}, {'number': 2, 'created': '2018-05-15 06:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bfcdbcb3e307769924b9a54e40276bc6cd028102', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia10b70620c5e83c61ead17822c8988618fb2f5cc\n'}, {'number': 3, 'created': '2018-05-17 06:31:36.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/de/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2a1159b77671bf62e66b8ab86548588b5563173c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia10b70620c5e83c61ead17822c8988618fb2f5cc\n'}]",0,568203,2a1159b77671bf62e66b8ab86548588b5563173c,10,2,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia10b70620c5e83c61ead17822c8988618fb2f5cc
",git fetch https://review.opendev.org/openstack/horizon refs/changes/03/568203/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,bef9f564064b9f3bb4f2bc8dc01d61ecd9794184,zanata/translations,"""POT-Creation-Date: 2018-05-14 04:14+0000\n""","""POT-Creation-Date: 2018-05-08 08:28+0000\n""msgid ""12.0.2-29"" msgstr ""12.0.2-29"" msgid ""14.0.0.0b1-38"" msgstr ""14.0.0.0b1-38"" ",7,13
openstack%2Fzun-ui~master~If32839cbb9dec77e55ad3877aa012967c04b72c6,openstack/zun-ui,master,If32839cbb9dec77e55ad3877aa012967c04b72c6,Imported Translations from Zanata,MERGED,2018-05-17 06:29:15.000000000,2018-05-17 08:51:02.000000000,2018-05-17 08:51:02.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 06:29:15.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/7000cf788ebeee82986c98958814481f829fc442', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If32839cbb9dec77e55ad3877aa012967c04b72c6\n'}]",0,569030,7000cf788ebeee82986c98958814481f829fc442,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If32839cbb9dec77e55ad3877aa012967c04b72c6
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/30/569030/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,7000cf788ebeee82986c98958814481f829fc442,zanata/translations,"""POT-Creation-Date: 2018-05-16 02:24+0000\n""""PO-Revision-Date: 2018-05-16 07:26+0000\n"" ""Last-Translator: Andi Chandler <andi@gowling.com>\n""msgid ""1.0.0-15"" msgstr ""1.0.0-15"" msgid ""1.0.0-45"" msgstr ""1.0.0-45""","""POT-Creation-Date: 2018-05-14 08:04+0000\n""""PO-Revision-Date: 2018-05-14 10:04+0000\n"" ""Last-Translator: \n""msgid ""1.0.0-14"" msgstr ""1.0.0-14"" msgid ""1.0.0-43"" msgstr ""1.0.0-43""",9,15
openstack%2Freleases~master~I927e9f8581c014986921872b11bf2787cf2e28bf,openstack/releases,master,I927e9f8581c014986921872b11bf2787cf2e28bf,Release ovsdbapp 0.10.1,MERGED,2018-05-16 13:34:38.000000000,2018-05-17 08:50:52.000000000,2018-05-16 15:41:46.000000000,"[{'_account_id': 748}, {'_account_id': 2472}, {'_account_id': 4694}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 13:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c68ad2adf51402ad076d7dce7dd701275591500a', 'message': 'Release ovsdbapp 0.10.1\n\nThis minor fix release pulls the following patch:\n-  Improve DbListCommand operation from O(n^2) to O(n)\n\nChange-Id: I927e9f8581c014986921872b11bf2787cf2e28bf\nRelated-Bug: #1769897\n'}, {'number': 2, 'created': '2018-05-16 14:04:43.000000000', 'files': ['deliverables/queens/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a7607b6386b2769f3ce4bc1b6bf02ee39b723e7e', 'message': 'Release ovsdbapp 0.10.1\n\nThis minor fix release pulls the following patch:\n-  Improve DbListCommand operation from O(n^2) to O(n)\n\nChange-Id: I927e9f8581c014986921872b11bf2787cf2e28bf\nRelated-Bug: #1769897\n'}]",2,568844,a7607b6386b2769f3ce4bc1b6bf02ee39b723e7e,14,8,2,8788,,,0,"Release ovsdbapp 0.10.1

This minor fix release pulls the following patch:
-  Improve DbListCommand operation from O(n^2) to O(n)

Change-Id: I927e9f8581c014986921872b11bf2787cf2e28bf
Related-Bug: #1769897
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/568844/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/ovsdbapp.yaml'],1,c68ad2adf51402ad076d7dce7dd701275591500a,bug/1769897, - version: 0.10.1 projects: - repo: openstack/ovsdbapp hash: 476b174f7d303c501fa2f3b91efda659ed9b9f3d,,4,0
openstack%2Ftripleo-upgrade~stable%2Fqueens~I3fae48e830c8943a5b5fc79de80b1bdb80bc911d,openstack/tripleo-upgrade,stable/queens,I3fae48e830c8943a5b5fc79de80b1bdb80bc911d,Convert nic templates to new format before starting fast forward,MERGED,2018-05-14 13:53:43.000000000,2018-05-17 08:29:46.000000000,2018-05-17 08:29:46.000000000,"[{'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-14 13:53:43.000000000', 'files': ['tasks/common/convert_nic_templates.yaml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f549be775bfea2a06388b377e507acf851c6baca', 'message': 'Convert nic templates to new format before starting fast forward\n\nThis change converts the nic templates in use by the deployment\nto the new templates format by using the conversion script provided\nin tht.\n\nChange-Id: I3fae48e830c8943a5b5fc79de80b1bdb80bc911d\n(cherry picked from commit fc4907dfeaac17fc0ed1f2d7d333fc5057fde209)\n'}]",0,568293,f549be775bfea2a06388b377e507acf851c6baca,8,3,1,18851,,,0,"Convert nic templates to new format before starting fast forward

This change converts the nic templates in use by the deployment
to the new templates format by using the conversion script provided
in tht.

Change-Id: I3fae48e830c8943a5b5fc79de80b1bdb80bc911d
(cherry picked from commit fc4907dfeaac17fc0ed1f2d7d333fc5057fde209)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/93/568293/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/convert_nic_templates.yaml', 'tasks/fast-forward-upgrade/main.yml']",2,f549be775bfea2a06388b377e507acf851c6baca,convert_nic_templates_to_new_format-stable/queens, - include: ../common/convert_nic_templates.yaml tags: ffu_overcloud_prepare ,,43,0
openstack%2Ftripleo-heat-templates~master~I5f06052b1d5290f8193aea57bafc8ddf86d2d8cf,openstack/tripleo-heat-templates,master,I5f06052b1d5290f8193aea57bafc8ddf86d2d8cf,Add missing UndercloudUpgrade to environment,MERGED,2018-05-16 18:58:58.000000000,2018-05-17 08:29:45.000000000,2018-05-17 08:29:45.000000000,"[{'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-16 18:58:58.000000000', 'files': ['environments/lifecycle/undercloud-upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ef2e7ee195975197492ce64b2f68adc85e21fb7', 'message': 'Add missing UndercloudUpgrade to environment\n\nUndercloudUpgrade needs to be set to True when upgrading a containerized\nundercloud. It was missed in a previous patch.\n\nChange-Id: I5f06052b1d5290f8193aea57bafc8ddf86d2d8cf\n'}]",0,568933,8ef2e7ee195975197492ce64b2f68adc85e21fb7,8,4,1,3153,,,0,"Add missing UndercloudUpgrade to environment

UndercloudUpgrade needs to be set to True when upgrading a containerized
undercloud. It was missed in a previous patch.

Change-Id: I5f06052b1d5290f8193aea57bafc8ddf86d2d8cf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/568933/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/lifecycle/undercloud-upgrade-prepare.yaml'],1,8ef2e7ee195975197492ce64b2f68adc85e21fb7,neutron, UndercloudUpgrade: true,,1,0
openstack%2Fmonasca-common~master~I0ff21f20f74b7a49c08f72d01ebc197ad8e816cc,openstack/monasca-common,master,I0ff21f20f74b7a49c08f72d01ebc197ad8e816cc,Sync requests-mock minimum version,MERGED,2018-05-16 16:10:12.000000000,2018-05-17 08:29:33.000000000,2018-05-17 08:29:33.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 23630}]","[{'number': 1, 'created': '2018-05-16 16:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/c01a4f3b655ce7290e7451d651460c142ac88679', 'message': 'Sync requests-mock minimum version\n\nlower-constraints.txt specifies a version of requests-mock lower\nthan the minimum version specified in test-requirements.txt. This\ncauses the CI to fail.\n\nTrivialFix\n\nChange-Id: I0ff21f20f74b7a49c08f72d01ebc197ad8e816cc\n'}, {'number': 2, 'created': '2018-05-16 16:41:01.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/7523d3628b210ddb8daebe564ab9d325e821d652', 'message': 'Sync requests-mock minimum version\n\nlower-constraints.txt specifies a version of requests-mock lower\nthan the minimum version specified in test-requirements.txt. This\ncauses the CI to fail.\n\nTrivialFix\n\nChange-Id: I0ff21f20f74b7a49c08f72d01ebc197ad8e816cc\n'}]",0,568895,7523d3628b210ddb8daebe564ab9d325e821d652,9,3,2,17669,,,0,"Sync requests-mock minimum version

lower-constraints.txt specifies a version of requests-mock lower
than the minimum version specified in test-requirements.txt. This
causes the CI to fail.

TrivialFix

Change-Id: I0ff21f20f74b7a49c08f72d01ebc197ad8e816cc
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/95/568895/2 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,c01a4f3b655ce7290e7451d651460c142ac88679,,requests-mock==1.2.0,requests-mock==1.1.0,1,1
openstack%2Fmetalsmith~master~I399287f4cd46549f94bb272afab4600414311bae,openstack/metalsmith,master,I399287f4cd46549f94bb272afab4600414311bae,CI: Install metalsmith requirements honoring upper-constraints,MERGED,2018-05-16 19:07:49.000000000,2018-05-17 08:21:42.000000000,2018-05-17 08:21:42.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 19:07:49.000000000', 'files': ['playbooks/integration/pre.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/a065777baa9824d9a5f8e0d263393c4f40af7edf', 'message': 'CI: Install metalsmith requirements honoring upper-constraints\n\nChange-Id: I399287f4cd46549f94bb272afab4600414311bae\n'}]",0,568936,a065777baa9824d9a5f8e0d263393c4f40af7edf,6,2,1,10239,,,0,"CI: Install metalsmith requirements honoring upper-constraints

Change-Id: I399287f4cd46549f94bb272afab4600414311bae
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/36/568936/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/integration/pre.yaml'],1,a065777baa9824d9a5f8e0d263393c4f40af7edf,reqs, - name: Install requirements for metalsmith pip: name: -r /opt/stack/metalsmith/requirements.txt extra_args: -c /opt/stack/requirements/upper-constraints.txt become: true ,,6,0
openstack%2Fkolla-ansible~master~Ifc981f6bcead0b37340a04e284355f6474bd7900,openstack/kolla-ansible,master,Ifc981f6bcead0b37340a04e284355f6474bd7900,Fix missed kolla_action for murano,MERGED,2018-05-17 06:18:49.000000000,2018-05-17 08:18:06.000000000,2018-05-17 08:18:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 06:18:49.000000000', 'files': ['ansible/roles/murano/tasks/config.yml', 'ansible/roles/murano/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5c1f0226d341adb0ccdee33a7aa9ba7d026f90dd', 'message': 'Fix missed kolla_action for murano\n\nit missing from I357dffdfcb2b405e280a962d366ee65eebf0a8d1\n\nChange-Id: Ifc981f6bcead0b37340a04e284355f6474bd7900\n'}]",0,569025,5c1f0226d341adb0ccdee33a7aa9ba7d026f90dd,7,3,1,21691,,,0,"Fix missed kolla_action for murano

it missing from I357dffdfcb2b405e280a962d366ee65eebf0a8d1

Change-Id: Ifc981f6bcead0b37340a04e284355f6474bd7900
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/569025/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/murano/tasks/config.yml', 'ansible/roles/murano/handlers/main.yml']",2,5c1f0226d341adb0ccdee33a7aa9ba7d026f90dd,," - kolla_action != ""config"" - kolla_action != ""config"""," - action != ""config"" - action != ""config""",3,3
openstack%2Ftripleo-validations~master~Ic93411be72314b1ebd10956c003b559ebe14ecde,openstack/tripleo-validations,master,Ic93411be72314b1ebd10956c003b559ebe14ecde,Fix docker img filter in rabbitmq validation,MERGED,2018-03-22 13:48:37.000000000,2018-05-17 08:15:45.000000000,2018-03-27 04:13:02.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 13:48:37.000000000', 'files': ['validations/rabbitmq-limits.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/38d5d58c9b5c7321fc04293d62b21494dbd85b29', 'message': 'Fix docker img filter in rabbitmq validation\n\nTo determine the current rabbitmq file descriptor limit, a command has to be\nexecuted in the rabbitmq container. The validation uses the `docker ps` command\nto find the container ID, but currently uses a name filter that is too strict\nto find the right image.\n\nThis patch changes the filter to make sure the container image is found.\n\nChange-Id: Ic93411be72314b1ebd10956c003b559ebe14ecde\n'}]",0,555306,38d5d58c9b5c7321fc04293d62b21494dbd85b29,8,3,1,17888,,,0,"Fix docker img filter in rabbitmq validation

To determine the current rabbitmq file descriptor limit, a command has to be
executed in the rabbitmq container. The validation uses the `docker ps` command
to find the container ID, but currently uses a name filter that is too strict
to find the right image.

This patch changes the filter to make sure the container image is found.

Change-Id: Ic93411be72314b1ebd10956c003b559ebe14ecde
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/06/555306/1 && git format-patch -1 --stdout FETCH_HEAD,['validations/rabbitmq-limits.yaml'],1,38d5d58c9b5c7321fc04293d62b21494dbd85b29,rabbitmq-docker-image-name," shell: docker exec $(docker ps -q --filter ""name=rabbitmq"" | head -1) rabbitmqctl eval 'proplists:get_value(max_fds, erlang:system_info(check_io)).'"," shell: docker exec $(docker ps -q --filter ""name=rabbitmq-bundle-docker"" | head -1) rabbitmqctl eval 'proplists:get_value(max_fds, erlang:system_info(check_io)).'",1,1
openstack%2Fneutron~master~I8eadb434be3e7d0849a6e4c3bdf75dbfb5f15a83,openstack/neutron,master,I8eadb434be3e7d0849a6e4c3bdf75dbfb5f15a83,Fullstack: Add using multiple security groups,MERGED,2017-07-20 11:29:04.000000000,2018-05-17 08:09:28.000000000,2018-05-17 08:09:28.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-07-20 11:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93d757b9f74e9efd48154c75ddf2db31e1b1bd1e', 'message': 'Fullstack: Add using multiple security groups\n\nChange-Id: I8eadb434be3e7d0849a6e4c3bdf75dbfb5f15a83\nCloses-Bug: #1690998\n'}, {'number': 2, 'created': '2017-07-24 10:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19950dd48a5ac3e8a09b911f9b8f46e9b0d9bafc', 'message': 'Fullstack: Add using multiple security groups\n\nChange-Id: I8eadb434be3e7d0849a6e4c3bdf75dbfb5f15a83\nCloses-Bug: #1690998\n'}, {'number': 3, 'created': '2017-07-25 01:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b46dc5bdf62cac51095caec56958328259a0da8', 'message': 'Fullstack: Add using multiple security groups\n\nChange-Id: I8eadb434be3e7d0849a6e4c3bdf75dbfb5f15a83\nCloses-Bug: #1690998\n'}, {'number': 4, 'created': '2017-10-10 07:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b73576ee55de57d42a18d59995a8cc9370d99dda', 'message': 'Fullstack: Add using multiple security groups\n\nChange-Id: I8eadb434be3e7d0849a6e4c3bdf75dbfb5f15a83\nCloses-Bug: #1690998\n'}, {'number': 5, 'created': '2017-10-16 06:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/402bd2c99be69746ca1c68b6f8391c7cd81ebd2d', 'message': 'Fullstack: Add using multiple security groups\n\nChange-Id: I8eadb434be3e7d0849a6e4c3bdf75dbfb5f15a83\nCloses-Bug: #1690998\n'}, {'number': 6, 'created': '2017-11-23 05:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c55b10a318a3f146a81febca972995ccba3ff4dd', 'message': 'Fullstack: Add using multiple security groups\n\nChange-Id: I8eadb434be3e7d0849a6e4c3bdf75dbfb5f15a83\nCloses-Bug: #1690998\n'}, {'number': 7, 'created': '2018-04-20 14:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40e3d5ce16a147b86ae543f52cc04c85098e07ff', 'message': 'Fullstack: Add using multiple security groups\n\nChange-Id: I8eadb434be3e7d0849a6e4c3bdf75dbfb5f15a83\nCloses-Bug: #1690998\n'}, {'number': 8, 'created': '2018-05-14 12:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff57b91e600ae7b985b33f009fdcded8bf15c091', 'message': 'Fullstack: Add using multiple security groups\n\nChange-Id: I8eadb434be3e7d0849a6e4c3bdf75dbfb5f15a83\nCloses-Bug: #1690998\n'}, {'number': 9, 'created': '2018-05-15 14:47:05.000000000', 'files': ['neutron/tests/fullstack/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1658e353c336d666ec43f725bd2c87633b43571d', 'message': 'Fullstack: Add using multiple security groups\n\nChange-Id: I8eadb434be3e7d0849a6e4c3bdf75dbfb5f15a83\nCloses-Bug: #1690998\n'}]",21,485564,1658e353c336d666ec43f725bd2c87633b43571d,93,13,9,12860,,,0,"Fullstack: Add using multiple security groups

Change-Id: I8eadb434be3e7d0849a6e4c3bdf75dbfb5f15a83
Closes-Bug: #1690998
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/485564/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/test_securitygroup.py'],1,93d757b9f74e9efd48154c75ddf2db31e1b1bd1e,bug/1690998," # 8. Check using multiple security groups # Traffic not explicitly allowed (eg. SSH, ICMP) is blocked self.assert_no_connection( vms[1].namespace, vms[0].namespace, vms[0].ip, 22, net_helpers.NetcatTester.TCP) net_helpers.assert_no_ping(vms[0].namespace, vms[1].ip) net_helpers.assert_no_ping(vms[0].namespace, vms[2].ip) net_helpers.assert_no_ping(vms[1].namespace, vms[2].ip) # Add SSH and ICMP allowed in the same security group self.safe_client.create_security_group_rule( tenant_uuid, sgs[0]['id'], remote_group_id=sgs[0]['id'], direction='ingress', ethertype=constants.IPv4, protocol=constants.PROTO_NAME_TCP, port_range_min=22, port_range_max=22) self.assert_connection( vms[1].namespace, vms[0].namespace, vms[0].ip, 22, net_helpers.NetcatTester.TCP) self.assert_no_connection( vms[2].namespace, vms[0].namespace, vms[0].ip, 22, net_helpers.NetcatTester.TCP) self.safe_client.create_security_group_rule( tenant_uuid, sgs[0]['id'], remote_group_id=sgs[0]['id'], direction='ingress', ethertype=constants.IPv4, protocol=constants.PROTO_NAME_ICMP) net_helpers.assert_ping(vms[1].namespace, vms[0].ip) net_helpers.assert_no_ping(vms[2].namespace, vms[0].ip) # Update vm0 to use two security groups # Add security group rules(ICMP and UDP) in another security group self.safe_client.client.update_port( ports[0]['id'], body={'port': {'security_groups': [sgs[0]['id'], sgs[1]['id']]}}) self.safe_client.create_security_group_rule( tenant_uuid, sgs[1]['id'], remote_group_id=sgs[0]['id'], direction='ingress', ethertype=constants.IPv4, protocol=constants.PROTO_NAME_ICMP) net_helpers.assert_ping(vms[0].namespace, vms[2].ip) net_helpers.assert_ping(vms[1].namespace, vms[2].ip) net_helpers.assert_no_ping(vms[2].namespace, vms[0].ip) net_helpers.assert_no_ping(vms[2].namespace, vms[1].ip) self.safe_client.create_security_group_rule( tenant_uuid, sgs[1]['id'], remote_group_id=sgs[0]['id'], direction='ingress', ethertype=constants.IPv4, protocol=constants.PROTO_NAME_UDP, port_range_min=53, port_range_max=53) self.assert_connection( vms[0].namespace, vms[2].namespace, vms[2].ip, 53, net_helpers.NetcatTester.UDP) self.assert_connection( vms[1].namespace, vms[2].namespace, vms[2].ip, 53, net_helpers.NetcatTester.UDP) self.assert_connection( vms[1].namespace, vms[0].namespace, vms[0].ip, 22, net_helpers.NetcatTester.TCP) self.assert_no_connection( vms[2].namespace, vms[0].namespace, vms[0].ip, 22, net_helpers.NetcatTester.TCP) # Remove first security group from port self.safe_client.client.update_port( ports[0]['id'], body={'port': {'security_groups': [sgs[1]['id']]}}) net_helpers.assert_ping(vms[0].namespace, vms[2].ip) net_helpers.assert_ping(vms[1].namespace, vms[2].ip) net_helpers.assert_no_ping(vms[2].namespace, vms[0].ip) net_helpers.assert_no_ping(vms[2].namespace, vms[1].ip) self.assert_connection( vms[0].namespace, vms[2].namespace, vms[2].ip, 53, net_helpers.NetcatTester.UDP) self.assert_connection( vms[1].namespace, vms[2].namespace, vms[2].ip, 53, net_helpers.NetcatTester.UDP) self.assert_no_connection( vms[1].namespace, vms[0].namespace, vms[0].ip, 22, net_helpers.NetcatTester.TCP)",,98,0
openstack%2Fneutron-specs~master~I3860a62420ab4983e2b741dff04498fbb0432d00,openstack/neutron-specs,master,I3860a62420ab4983e2b741dff04498fbb0432d00,Neutron-Neutron Interconnections,MERGED,2018-02-19 13:25:16.000000000,2018-05-17 08:05:11.000000000,2018-05-16 20:42:06.000000000,"[{'_account_id': 55}, {'_account_id': 782}, {'_account_id': 4694}, {'_account_id': 7776}, {'_account_id': 8976}, {'_account_id': 11819}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 12076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-19 13:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/878aa3e56fa1e2d5808c6d4d770eff1c67fe3adb', 'message': 'Neutron-Neutron Interconnections\n\nProposed specifications for the Neutron-Neutron Interconnections\nRFE.\n\nChange-Id: I3860a62420ab4983e2b741dff04498fbb0432d00\nRelated-Bug: 1750368\n'}, {'number': 2, 'created': '2018-02-20 12:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4f9fba7620c7297ab7d611543850bc5e984ff526', 'message': 'Neutron-Neutron Interconnections\n\nProposed specifications for the Neutron-Neutron Interconnections\nRFE.\n\nChange-Id: I3860a62420ab4983e2b741dff04498fbb0432d00\nRelated-Bug: 1750368\n'}, {'number': 3, 'created': '2018-02-20 14:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2fdf11b41b272cccae08e693571c9d75bc4e5ec1', 'message': 'Neutron-Neutron Interconnections\n\nProposed specifications for the Neutron-Neutron Interconnections\nRFE.\n\nDO NOT MERGE AS-IS: this change temporarily has\nwarning-is-error=1 commented out to work around bug\n1750546 and produce the HTML preview\n\nChange-Id: I3860a62420ab4983e2b741dff04498fbb0432d00\nRelated-Bug: 1750368\n'}, {'number': 4, 'created': '2018-02-20 15:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/323009e7015a98ca0907d62867fc26ae73ebdb0c', 'message': 'Neutron-Neutron Interconnections\n\nProposed specifications for the Neutron-Neutron Interconnections\nRFE.\n\nDO NOT MERGE AS-IS: this change temporarily has\nwarning-is-error=1 commented out to work around bug\n1750546 and produce the HTML preview\n\nChange-Id: I3860a62420ab4983e2b741dff04498fbb0432d00\nRelated-Bug: 1750368\n'}, {'number': 5, 'created': '2018-02-20 15:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/310e7adc1b1c0e660ab28be96a21380d566176fa', 'message': 'Neutron-Neutron Interconnections\n\nProposed specifications for the Neutron-Neutron Interconnections\nRFE.\n\nDO NOT MERGE AS-IS: this change temporarily has\nwarning-is-error=1 commented out to work around bug\n1750546 and produce the HTML preview\n\nChange-Id: I3860a62420ab4983e2b741dff04498fbb0432d00\nRelated-Bug: 1750368\n'}, {'number': 6, 'created': '2018-02-22 15:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/790e6a103966433655b096bcb50f64cf1dffc2e0', 'message': 'Neutron-Neutron Interconnections\n\nProposed specifications for the Neutron-Neutron Interconnections\nRFE.\n\nDO NOT MERGE AS-IS: this change temporarily has\nwarning-is-error=1 commented out to work around bug\n1750546 and produce the HTML preview\n\nChange-Id: I3860a62420ab4983e2b741dff04498fbb0432d00\nRelated-Bug: 1750368\n'}, {'number': 7, 'created': '2018-02-28 17:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c1f4b6437896f91f40f5a8e9a61c6c82af86be11', 'message': 'Neutron-Neutron Interconnections\n\nProposed specifications for the Neutron-Neutron Interconnections\nRFE.\n\nDO NOT MERGE AS-IS: this change temporarily has\nwarning-is-error=1 commented out to work around bug\n1750546 and produce the HTML preview\n\nChange-Id: I3860a62420ab4983e2b741dff04498fbb0432d00\nRelated-Bug: 1750368\n'}, {'number': 8, 'created': '2018-03-01 09:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c6c215e5cb99742b78516b0955d5eb4c340a0d02', 'message': 'Neutron-Neutron Interconnections\n\nProposed specifications for the Neutron-Neutron Interconnections\nRFE.\n\nDO NOT MERGE AS-IS: this change temporarily has\nwarning-is-error=1 commented out to work around bug\n1750546 and produce the HTML preview\n\nChange-Id: I3860a62420ab4983e2b741dff04498fbb0432d00\nRelated-Bug: 1750368\n'}, {'number': 9, 'created': '2018-03-01 10:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/320ddea0d54c03cce07d9cae29d252836e7e7859', 'message': 'Neutron-Neutron Interconnections\n\nProposed specifications for the Neutron-Neutron Interconnections\nRFE.\n\nDO NOT MERGE AS-IS: this change temporarily has\nwarning-is-error=1 commented out to work around bug\n1750546 and produce the HTML preview\n\nChange-Id: I3860a62420ab4983e2b741dff04498fbb0432d00\nRelated-Bug: 1750368\n'}, {'number': 10, 'created': '2018-03-13 08:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/28842e0cb359b67ab9e77c6a4df72a43f68b69f1', 'message': 'Neutron-Neutron Interconnections\n\nProposed specifications for the Neutron-Neutron Interconnections\nRFE.\n\nChange-Id: I3860a62420ab4983e2b741dff04498fbb0432d00\nRelated-Bug: 1750368\n'}, {'number': 11, 'created': '2018-03-15 08:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f6d2761c7c8ec5fcdd963b21a923340f4a0c0bf7', 'message': 'Neutron-Neutron Interconnections\n\nProposed specifications for the Neutron-Neutron Interconnections\nRFE.\n\nChange-Id: I3860a62420ab4983e2b741dff04498fbb0432d00\nRelated-Bug: 1750368\n'}, {'number': 12, 'created': '2018-03-16 11:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6541bbfa1833ef22542faaf36d39c1cb1470f239', 'message': 'Neutron-Neutron Interconnections\n\nProposed specifications for the Neutron-Neutron Interconnections\nRFE.\n\nChange-Id: I3860a62420ab4983e2b741dff04498fbb0432d00\nRelated-Bug: 1750368\n'}, {'number': 13, 'created': '2018-04-09 09:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/66f78645de33663730630e143f1f771f8ea0d77b', 'message': 'Neutron-Neutron Interconnections\n\nProposed specifications for the Neutron-Neutron Interconnections\nRFE.\n\nChange-Id: I3860a62420ab4983e2b741dff04498fbb0432d00\nRelated-Bug: 1750368\n'}, {'number': 14, 'created': '2018-04-18 13:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/350ecfd466f44e8af8efa24566eb510dfdfb0024', 'message': 'Neutron-Neutron Interconnections\n\nProposed specifications for the Neutron-Neutron Interconnections\nRFE.\n\nChange-Id: I3860a62420ab4983e2b741dff04498fbb0432d00\nRelated-Bug: 1750368\n'}, {'number': 15, 'created': '2018-05-07 08:39:27.000000000', 'files': ['specs/rocky/neutron-inter.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2a34abbd25444a1d643324dafe762131e6c0a18c', 'message': 'Neutron-Neutron Interconnections\n\nProposed specifications for the Neutron-Neutron Interconnections\nRFE.\n\nChange-Id: I3860a62420ab4983e2b741dff04498fbb0432d00\nRelated-Bug: 1750368\n'}]",93,545826,2a34abbd25444a1d643324dafe762131e6c0a18c,54,10,15,12021,,,0,"Neutron-Neutron Interconnections

Proposed specifications for the Neutron-Neutron Interconnections
RFE.

Change-Id: I3860a62420ab4983e2b741dff04498fbb0432d00
Related-Bug: 1750368
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/26/545826/10 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/neutron-inter.rst'],1,878aa3e56fa1e2d5808c6d4d770eff1c67fe3adb,bug/1750368,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================ Neutron-Neutron Interconnections ================================ Launchpad RFE: https://bugs.launchpad.net/neutron/+bug/1750368 Problem Description =================== Today, to realize connectivity between two OpenStack clouds (e.g. two distinct OpenStack deployments, or two OpenStack regions, for instance) some options are available, such as floating IPs, VPNaaS (IPSec-based), and BGPVPNs. However, none of these options are appropriate to address use cases where all the following properties are desired: * interconnection consumable on-demand, without admin intervention (possible with floating IPs, VPNaaS, but not with the BGP VPN interconnections API extension) * have network isolation and allow the use of private IP addressing end-to-end (possible with VPNaaS, and BGP VPN interconnections, but not with floating IPs) * avoid the overhead of packet encryption (possible with floating IPs, and BGP VPN interconnections, but by construction not with VPNaaS) The goal of this spec is to propose a solution to provide network connectivity between two or more OpenStack deployments or regions, respecting these constraints. An additional design requirements to the solution is to avoid requiring a component that would requiring having admin rights on all the OpenStack clouds involved. Use cases --------- Example 1 ~~~~~~~~~ User Foo has credentials for OpenStack cloud A and OpenStack cloud B, one Router X in Openstack A, one Router Y in OpenStack B, both using a distinct subnet in the private IPv4 address space. User Foo would like to consume via an API a service that will result in establishing IP connectivity between Router A and Router B. Example 2 ~~~~~~~~~ Same as example 1, but this time L2 connectivity is desired between Network X in Openstack A, and Network Y in OpenStack B. Example 3 ~~~~~~~~~ Same as example 1 or 2, but with 3 OpenStack deployments involved. Proposed Change =============== Overview -------- The proposition consists in introducing a service plugin and a corresponding API extension involving a new 'interconnection' resource. The 'interconnection' resource on a Neutron instance will refer to both a local resource (e.g. Router A) and a remote resource (Openstack B:Router B), and will have the semantic that connectivity is desired between the two. This resource will be part of two sort of API calls: A. calls between the user having the connectivity need and each Neutron instance involved; the role of these calls is to express let the need for connectivity be known by all Neutron instances B. API calls between a Neutron instance and another Neutron instance ; the role of these calls is to: * let each Neutron instance validate the consistency between the ""interconnection"" resources defined locally and the ""interconnection"" resources made in other Neutron instances * after this validation, let two Neutron instances identify the mechanism to use and the per-interconnection parameters (depending on the mechanism; could be a pair of VLANs on a interconnection box, a BGPVPN RT identifiers, VXLAN ids, etc.) :: .-------------. | tenant user | '----+-+------' | | .--------------------------------' '--------------------. | A1. create ""interconnection"" | | between local net A, | | and ""Neutron B: net B"" | | A2. create ""interconnection"" | between local net A, | and ""Neutron B: net B"" | | | | | | V V B1. check symmetric inter. .-------------------------. (fail) .--------------------. |Neutron A +---------------------------> |Neutron B | | | | | | | <---------------------------+ | | | B2. check symmetric inter. | | | | (ok!) | | | | | | | +---------------------------> | | | | <---------------------------+ | '-------------------------' B3. exchange info to build '--------------------' net X interconnection net Y | | | | --+ +-- | C. interconnection is built | +-- - - - - - - - - - - - - - - --+ | | | | Note that the order between A1/A2/B1/B2 can vary, but the ultimate result is unchanged: at least one of the two Neutron instances will eventually confirm that the interconnection has been defined on both side symmetrically, and the interconnection setup phase will proceed. Base assumptions, trust model ----------------------------- The base assumption underlying the trust model in this proposal is that the end user requesting connectivity delegates trust each OpenStack deployment to provide only the interconnection requested, i.e. to not create connectivity between resources unless requested. To respect this contract each OpenStack deployment needs, by construction, a trust relationship with the other(s) OpenStack deployment(s) involved in these interconnections ; practically speaking it cannot do better, when receiving a packet from another deployment, identified as intended for own of its local network A (VLAN, VXLAN ID, MPLS label, etc.) to trust that this identifier was pushed by the OpenStack deployment by mechanisms ultimately respecting the contract of these specifications. Another aspect, obvious but better made explicit, is that the choice and definition of the network identifiers that will be used for an interconnection and to keep interconnections isolated from one another, are not controlled by consumers of this API. In this proposal these consumers do not and cannot write, or even read, these identifiers. Note that only the API calls to the 'interconnection' resources at step A require write access to the ""interconnection"" resources by tenant users (but not to the attributes related to the network mechanism to use). The calls at steps B, only require read-only access to these resources; this can be achieved by introducing an ""interconnection"" role with read-only access to all ""interconnection"" resources, and having each OpenStack deployment having credentials for a user with this role in other OpenStack deployments. With the above in mind, keystone federation is not required for the calls at step 1, nor for the calls at step 2. However, using Keystone Federation for the user(s) used at step 2 will certainly be useful and avoid requiring the management in each Neutron instance of the credentials to use to each other OpenStack. Interconnection mechanisms -------------------------- Although these specifications try to be agnostic to the network technique ultimately used to realize an interconnection, the assumption is made that for each 'interconnection' their exist a technique common to the two OpenStack deployments involved. This part of the specifications is left up for discussion: there could be a negotiation step where the mechanisms supported could be advertise by each party and then selected, or a simpler approach where each OpenStack deployment would be configured to use a given technique when establishing an interconnection with a given OpenStack deployment. This proposal is based on this simpler configuration-based approach. Example interconnection techniques ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following techniques can be considered for realizing interconnections: * BGP-based VPNs: already supported via the Neutron BGPVPN Interconnection service (see networking-bgpvpn_), it allows to create L2 (with EVPN) or L3 connectivity (with BGP/MPLS IP VPNs) * VXLAN stitching with networking-l2gw_ (details remain to be investigated) * VLAN stitching (details remain to be investigated) It is expected that the first implementation will provide at least support for the BGPVPN interconnection technique, which is already supported across an interesting range of Neutron backends (Neutron ref drivers, OpenDaylight, OpenContrail, Nuage Networks), and hence would allow this API extension to Details on operations --------------------- When an ""interconnection"" resource is created, the Neutron instance will check that the symmetric interconnection exists on the remote Neutron instance designated in the interconnection, and will not proceed further until this becomes true. This check is what establishes the end-to-end trust, that on both sides the connectivity has been requested. Once a Neutron instance determines that an interconnection is symmetrically defined, further exchanges happen to determine the network parameters to use to realize the interconnection: * the Neutron (e.g. Neutron B) that just confirmed the symmetricity allocates the required network identifiers, and asks the remote Neutron instance (A) to refresh its state * Neutron A refreshes its state: checks symmetricity again (which now succeeds) retrieves at the same time the network identifiers allocated by B, and asks Neutron B to refresh * Neutron B refreshes again, this time retrieves at the same time the network identifiers allocated by A In the above, ""ask the remote Neutron instance"" to refresh its state could be done whether with a PUT on a specific ""refresh"" action on the ""interconnection"" resource, or by writing to a specific attribute, or by writing to the 'state' attribute (see below). .. _lifecycle: Interconnection lifecycle ------------------------- In the previous section, it is implicit that an ""interconnection"" is along its life in different states before it is ultimately realized. When an ""interconnection"" resource is deleted on one side, the other side need also to ultimately be able to update its own state (if only for cleanup purpose or giving proper feedback to end users). Additionally, the interaction between a Neutron instance with another Neutron instance need to happen out of the API call processing path, because it is not desirable that the success of a local API call would depend on the success of an operation with an external component which possibly would not be available at the moment. For all these reasons, a state machine will be introduced to handle the lifecycle of an interconnection resource, with triggered and periodic operation being done out-of-band of the API calls, to handle the operations for each state. Exposing this state in the API will allow: * end users to have feedback on how close they are to having something working * each Neutron instance to possibly identify that the remote state machine state is inconsistent with the local state State machine summary: TO_VALIDATE interconnection resource has been created, but the existence of the symmetric interconnection hasn't been validated yet VALIDATED the existence of the symmetric interconnection has been validated ALLOCATED local interconnection parameters have been defined (remote parameters still unknown) CONFIGURED both local parameters and remote parameters are known, interconnection is being built BUILT interconnection has been setup, it should work TEARDOWN local action taken to have this interconnection be deleted, action is being taken to have the remote state get in sync (DELETED) implicit state corresponding to the resource not existing anymore .. blockdiag:: blockdiag { default_shape = roundedbox BEFORE_CREATION [shape = beginpoint, label=""""] TO_VALIDATE VALIDATED ALLOCATED CONFIGURED BUILT TEARDOWN DELETED [shape = endpoint, label=""""] BEFORE_CREATION -> TO_VALIDATE [folded] TO_VALIDATE -> VALIDATED TO_VALIDATE -> TEARDOWN [folded] VALIDATED -> ALLOCATED VALIDATED -> TEARDOWN [folded] ALLOCATED -> CONFIGURED ALLOCATED -> TEARDOWN [folded] CONFIGURED -> BUILT CONFIGURED -> TEARDOWN [folded] BUILT -> TEARDOWN [folded] TEARDOWN -> DELETED [folded] BUILT -> TO_VALIDATE } REST API Impact --------------- The proposal is to introduction an API extension ""inter"", with an ""interconnection"" resource. Interconnection resource ~~~~~~~~~~~~~~~~~~~~~~~~ interconnection resource: * id (uuid) * name (string) * tenant_id (uuid) * type (enum, 'network' or 'router') * local_resource_id (uuid) * remote_keystone (url) * remote_region (string) * remote_resource_id (uuid) * state (enum, see :ref:`lifecycle`) * local_parameters (admin-only dict) * remote_parameters (admin-only dict) Example ~~~~~~~ API Call 1, from tenant user to Neutron A:: POST /v2.0/inter/interconnections {'interconnection': 'type': network 'local_resource_id': <uuid of network X> 'remote_keystone': ""http//<keystone-B>/identity"", 'remote_region': 'RegionOne', 'remote_resource_id': <uuid of network Y> } } Response: 200 OK {'interconnection': { 'id': <uuid 1> ... }} API Call 2, from Neutron A to Neutron B:: GET /v2.0/inter/interconnections?local_resource_id=<uuid of network Y>&remote_resource_id=<uuid of network X> Response: 404 API Call 3, from tenant user to Neutron B:: POST /v2.0/inter/interconnections {'interconnection': 'type': network 'local_resource_id': <uuid of network Y> 'remote_keystone': ""http//<keystone-A>/identity"", 'remote_region': 'RegionOne', 'remote_resource_id': <uuid of network X> } } Response: 200 OK {'interconnection': { 'id': <uuid 2> ... }} API Call 5a, from Neutron B to Neutron A:: GET /v2.0/inter/interconnections/local_resource_id=<uuid of network X>&remote_resource_id=<uuid of network Y> Response: 200 OK {'interconnection': { 'id': <uuid 1> ... 'local_parameters"": {} }} API Call 5b from Neutron B to Neutron A:: PUT /v2.0/inter/interconnections/<uuid 1>/refresh {'interconnection': { 'id': <uuid 2> 'local_parameters"": {} }} Response: 200 OK API Call 5c, from Neutron A to Neutron B :: PUT /v2.0/inter/interconnections/<uuid 2>/refresh Response: 200 OK {'interconnection': { 'id': <uuid 2> 'local_parameters"": { 'foo': '42' } }} API Call 5c, from Neutron B to Neutron A :: PUT /v2.0/inter/interconnections/<uuid 1>/refresh Response: 200 OK {'interconnection': { 'id': <uuid 1> 'remote_parameters': { 'foo': '42' } 'local_parameters"": { 'bar': '43' } }} Command Line Client Impact -------------------------- TBC Data Model Impact ----------------- TBC Credits ======= Przemyslaw Jasek contributed to exploring ideas that lead to this proposal during a six-months internship at Orange. References ========== .. [1] OpenStack Summit Sydney, lightning talk https://www.openstack.org/videos/sydney-2017/neutron-neutron-interconnections .. _networking-bgpvpn: https://docs.openstack.org/networking-bgpvpn .. _networking-l2gw: https://docs.openstack.org/networking-l2gw ",,475,0
openstack%2Fopenstack-helm-addons~master~I799ceafcc8c5f185e5bc5bac8d2d41a68c8dbf1f,openstack/openstack-helm-addons,master,I799ceafcc8c5f185e5bc5bac8d2d41a68c8dbf1f,Gate: Remove legacy gate code,MERGED,2018-05-17 00:57:02.000000000,2018-05-17 07:59:56.000000000,2018-05-17 07:59:56.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 00:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/8483f288338fbb9a7d02fd2997da070c22fd1d72', 'message': 'Gate: Remove legacy gate code\n\nThis PS removes the legacy gate code from osh-addons.\n\nChange-Id: I799ceafcc8c5f185e5bc5bac8d2d41a68c8dbf1f\n'}, {'number': 2, 'created': '2018-05-17 00:59:24.000000000', 'files': ['tools/gate/manifests/resolv-conf-util.yaml', 'tools/kubeadm-aio/assets/usr/bin/wait-for-kube-nodes', 'tools/gate/whitespace.sh', 'tools/gate/funcs/helm.sh', 'tools/gate/setup_gate.sh', 'tools/kubeadm-aio/assets/usr/bin/kubeadm-aio', 'tools/gate/funcs/kube.sh', 'tools/kubeadm-aio/Dockerfile', 'tools/gate/playbooks/legacy-gate-post.yaml', 'tools/kubeadm-aio/README.rst', 'tools/kubeadm-aio/assets/etc/kubeapi-device', 'tools/kubeadm-aio/assets/etc/kube-version', 'tools/kubeadm-aio/assets/etc/kubeadm-join-command-args', 'tools/kubeadm-aio/kubeadm-aio-launcher.sh', 'tools/kubeadm-aio/assets/usr/bin/openstack-helm-nfs-prep', 'tools/gate/funcs/network.sh', 'tools/kubeadm-aio/assets/etc/kubelet-container', 'tools/gate/helm_dry_run.sh', 'tools/gate/setup_gate_worker_nodes.sh', 'tools/kubeadm-aio/assets/opt/rbac/dev.yaml', 'tools/gate/provision_gate_worker_node.sh', 'tools/kubeadm-aio/assets/usr/bin/kubelet', 'tools/kubeadm-aio/assets/etc/kube-role', 'tools/kubeadm-aio/assets/usr/bin/openstack-helm-dev-prep', 'tools/gate/dump_logs.sh', 'tools/gate/playbooks/legacy-gate-runner.yaml', 'tools/kubeadm-aio/assets/opt/nfs-provisioner/deployment.yaml', 'tools/kubeadm-aio/assets/kubeadm-aio', 'tools/gate/kubeadm_aio.sh', 'tools/kubeadm-aio/assets/opt/cni-manifests/calico.yaml', 'tools/kubeadm-aio/assets/usr/bin/openstack-helm-demo-prep', 'tools/gate/README.rst', 'tools/kubeadm-aio/assets/opt/nfs-provisioner/storageclass.yaml', 'tools/kubeadm-aio/assets/usr/bin/openstack-helm-aio-network-prep', 'tools/gate/basic_launch.sh', 'tools/kubeadm-aio/assets/usr/bin/wait-for-kube-pods'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/79973b6c476d32df3cdf2aaf495fdef18cff4b2d', 'message': 'Gate: Remove legacy gate code\n\nThis PS removes the legacy gate code from osh-addons.\n\nChange-Id: I799ceafcc8c5f185e5bc5bac8d2d41a68c8dbf1f\n'}]",0,568990,79973b6c476d32df3cdf2aaf495fdef18cff4b2d,9,3,2,23928,,,0,"Gate: Remove legacy gate code

This PS removes the legacy gate code from osh-addons.

Change-Id: I799ceafcc8c5f185e5bc5bac8d2d41a68c8dbf1f
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/90/568990/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/manifests/resolv-conf-util.yaml', 'tools/kubeadm-aio/assets/usr/bin/wait-for-kube-nodes', 'tools/gate/whitespace.sh', 'tools/gate/funcs/helm.sh', 'tools/gate/setup_gate.sh', 'tools/kubeadm-aio/assets/usr/bin/kubeadm-aio', 'tools/gate/funcs/kube.sh', 'tools/kubeadm-aio/Dockerfile', 'tools/gate/playbooks/legacy-gate-post.yaml', 'tools/kubeadm-aio/README.rst', 'tools/kubeadm-aio/assets/etc/kubeapi-device', 'tools/kubeadm-aio/assets/etc/kube-version', 'tools/kubeadm-aio/assets/etc/kubeadm-join-command-args', 'tools/kubeadm-aio/kubeadm-aio-launcher.sh', 'tools/gate/playbooks/zuul-linter.yaml', 'tools/kubeadm-aio/assets/usr/bin/openstack-helm-nfs-prep', 'tools/gate/funcs/network.sh', 'tools/kubeadm-aio/assets/etc/kubelet-container', 'tools/gate/helm_dry_run.sh', 'tools/gate/setup_gate_worker_nodes.sh', 'tools/kubeadm-aio/assets/opt/rbac/dev.yaml', 'tools/gate/provision_gate_worker_node.sh', 'tools/kubeadm-aio/assets/usr/bin/kubelet', 'tools/kubeadm-aio/assets/etc/kube-role', 'tools/kubeadm-aio/assets/usr/bin/openstack-helm-dev-prep', 'tools/gate/dump_logs.sh', 'tools/gate/playbooks/legacy-gate-runner.yaml', 'tools/kubeadm-aio/assets/opt/nfs-provisioner/deployment.yaml', 'tools/kubeadm-aio/assets/kubeadm-aio', 'tools/gate/kubeadm_aio.sh', 'tools/kubeadm-aio/assets/opt/cni-manifests/calico.yaml', 'tools/kubeadm-aio/assets/usr/bin/openstack-helm-demo-prep', 'tools/gate/README.rst', 'tools/kubeadm-aio/assets/opt/nfs-provisioner/storageclass.yaml', 'tools/kubeadm-aio/assets/usr/bin/openstack-helm-aio-network-prep', 'tools/gate/basic_launch.sh', 'tools/kubeadm-aio/assets/usr/bin/wait-for-kube-pods']",37,8483f288338fbb9a7d02fd2997da070c22fd1d72,gate,,"#!/bin/bash # Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -e # From Kolla-Kubernetes, orginal authors Kevin Fox & Serguei Bezverkhi # Default wait timeout is 180 seconds : ${KUBECONFIG:=""/etc/kubernetes/admin.conf""} export KUBECONFIG=${KUBECONFIG} end=$(date +%s) if [ x$2 != ""x"" ]; then end=$((end + $2)) else end=$((end + 180)) fi while true; do kubectl get pods --namespace=$1 -o json | jq -r \ '.items[].status.phase' | grep Pending > /dev/null && \ PENDING=True || PENDING=False query='.items[]|select(.status.phase==""Running"")' query=""$query|.status.containerStatuses[].ready"" kubectl get pods --namespace=$1 -o json | jq -r ""$query"" | \ grep false > /dev/null && READY=""False"" || READY=""True"" kubectl get jobs -o json --namespace=$1 | jq -r \ '.items[] | .spec.completions == .status.succeeded' | \ grep false > /dev/null && JOBR=""False"" || JOBR=""True"" [ $PENDING == ""False"" -a $READY == ""True"" -a $JOBR == ""True"" ] && \ break || true sleep 1 now=$(date +%s) [ $now -gt $end ] && echo containers failed to start. && \ kubectl get pods --namespace $1 -o wide && exit -1 done ",0,1944
openstack%2Fmistral-dashboard~master~I6d2e38201387012ba9a02c4b0bd8377895a5919a,openstack/mistral-dashboard,master,I6d2e38201387012ba9a02c4b0bd8377895a5919a,Django 2.0 support,MERGED,2018-05-14 21:14:50.000000000,2018-05-17 07:52:06.000000000,2018-05-17 07:52:06.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 21:14:50.000000000', 'files': ['mistraldashboard/executions/tests.py', 'mistraldashboard/workbooks/views.py', 'mistraldashboard/action_executions/views.py', 'mistraldashboard/actions/tests.py', 'mistraldashboard/cron_triggers/tables.py', 'mistraldashboard/cron_triggers/views.py', 'mistraldashboard/executions/forms.py', 'mistraldashboard/workflows/forms.py', 'mistraldashboard/workbooks/forms.py', 'mistraldashboard/cron_triggers/tests.py', 'mistraldashboard/tasks/views.py', 'mistraldashboard/workflows/tests.py', 'mistraldashboard/actions/forms.py', 'mistraldashboard/actions/views.py', 'mistraldashboard/executions/views.py', 'mistraldashboard/action_executions/tests.py', 'mistraldashboard/tasks/tests.py', 'mistraldashboard/action_executions/tables.py', 'mistraldashboard/actions/tables.py', 'tox.ini', 'mistraldashboard/tasks/tables.py', 'mistraldashboard/workbooks/tests.py', 'mistraldashboard/workflows/views.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/3ae1e8aae3423341a0f6dcf046f6fc68df490f37', 'message': 'Django 2.0 support\n\nReplace django.core.urlresolves with django.urls\n\n(In Django 2.0) The django.core.urlresolvers module is removed\nin favor of its new location, django.urls.\nIt was deprecated in Django 1.10:\nhttps://docs.djangoproject.com/en/2.0/releases/1.10/#id3\n\nAdd py35dj20 job to test Django 2.0 integration.\n\nChange-Id: I6d2e38201387012ba9a02c4b0bd8377895a5919a\n'}]",0,568381,3ae1e8aae3423341a0f6dcf046f6fc68df490f37,7,3,1,841,,,0,"Django 2.0 support

Replace django.core.urlresolves with django.urls

(In Django 2.0) The django.core.urlresolvers module is removed
in favor of its new location, django.urls.
It was deprecated in Django 1.10:
https://docs.djangoproject.com/en/2.0/releases/1.10/#id3

Add py35dj20 job to test Django 2.0 integration.

Change-Id: I6d2e38201387012ba9a02c4b0bd8377895a5919a
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/81/568381/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistraldashboard/executions/tests.py', 'mistraldashboard/workbooks/views.py', 'mistraldashboard/action_executions/views.py', 'mistraldashboard/actions/tests.py', 'mistraldashboard/cron_triggers/tables.py', 'mistraldashboard/cron_triggers/views.py', 'mistraldashboard/executions/forms.py', 'mistraldashboard/workflows/forms.py', 'mistraldashboard/workbooks/forms.py', 'mistraldashboard/cron_triggers/tests.py', 'mistraldashboard/tasks/views.py', 'mistraldashboard/workflows/tests.py', 'mistraldashboard/actions/forms.py', 'mistraldashboard/actions/views.py', 'mistraldashboard/executions/views.py', 'mistraldashboard/action_executions/tests.py', 'mistraldashboard/tasks/tests.py', 'mistraldashboard/action_executions/tables.py', 'mistraldashboard/actions/tables.py', 'tox.ini', 'mistraldashboard/tasks/tables.py', 'mistraldashboard/workbooks/tests.py', 'mistraldashboard/workflows/views.py']",23,3ae1e8aae3423341a0f6dcf046f6fc68df490f37,django20-support,from django.urls import reverse from django.urls import reverse_lazy,from django.core.urlresolvers import reverse from django.core.urlresolvers import reverse_lazy,35,29
openstack%2Fmonasca-agent~master~I6babe4c683310257a700b997765a2a9985edfa02,openstack/monasca-agent,master,I6babe4c683310257a700b997765a2a9985edfa02,fix misspelling of 'monasca',MERGED,2018-05-17 03:44:33.000000000,2018-05-17 07:48:15.000000000,2018-05-17 07:48:15.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 03:44:33.000000000', 'files': ['docs/Plugins.md'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/b4d6d5b49ba109c40652f2dbdf2219ec7cc10ccd', 'message': ""fix misspelling of 'monasca'\n\nChange-Id: I6babe4c683310257a700b997765a2a9985edfa02\n""}]",0,569004,b4d6d5b49ba109c40652f2dbdf2219ec7cc10ccd,6,2,1,24061,,,0,"fix misspelling of 'monasca'

Change-Id: I6babe4c683310257a700b997765a2a9985edfa02
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/04/569004/1 && git format-patch -1 --stdout FETCH_HEAD,['docs/Plugins.md'],1,b4d6d5b49ba109c40652f2dbdf2219ec7cc10ccd,,"The main purpose of the replace_timestamps directive is where the mechanism to write the JSON file runs infrequently or erratically. Every time Monasca Agent runs, the metrics","The main purpose of the replace_timestamps directive is where the mechanism to write the JSON file runs infrequently or erratically. Every time Monasa Agent runs, the metrics",1,1
openstack%2Fnova~master~Ia71777dd62348344fb068c0aa61f43dea930d066,openstack/nova,master,Ia71777dd62348344fb068c0aa61f43dea930d066,trivial: Explain how the marker works for instance-cell mapping,MERGED,2018-05-10 14:05:10.000000000,2018-05-17 07:31:43.000000000,2018-05-15 15:12:22.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26285}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-10 14:05:10.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4f1dba5d0f68fa62b6e243ebbc8c0f06fdbc0472', 'message': ""trivial: Explain how the marker works for instance-cell mapping\n\nThis is a trivial enough operation but it's been picked up by a few\npeople recently. Explain what's going on so people don't keep wasting\ntime on this.\n\nChange-Id: Ia71777dd62348344fb068c0aa61f43dea930d066\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,567597,4f1dba5d0f68fa62b6e243ebbc8c0f06fdbc0472,27,16,1,15334,,,0,"trivial: Explain how the marker works for instance-cell mapping

This is a trivial enough operation but it's been picked up by a few
people recently. Explain what's going on so people don't keep wasting
time on this.

Change-Id: Ia71777dd62348344fb068c0aa61f43dea930d066
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/567597/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,4f1dba5d0f68fa62b6e243ebbc8c0f06fdbc0472,trivial," # NOTE(stephenfin): The support for batching in this command relies on # a bit of a hack. We initially process N instance-cell mappings, where # N is the value of '--max-count' if provided else 50. To ensure we # can continue from N on the next iteration, we store a instance-cell # mapping object with a special name and the UUID of the last # instance-cell mapping processed (N - 1) in munged form. On the next # iteration, we search for the special name and unmunge the UUID to # pick up where we left off. This is done until all mappings are # processed. The munging is necessary as there's a unique constraint on # the UUID field and we need something reversable. For more # information, see commit 9038738d0. ",,12,0
openstack%2Fkuryr-libnetwork~stable%2Fqueens~I7bdfee1cf1e875ef702cc4761d723e420bc00ff9,openstack/kuryr-libnetwork,stable/queens,I7bdfee1cf1e875ef702cc4761d723e420bc00ff9,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""",MERGED,2018-05-15 07:40:52.000000000,2018-05-17 07:17:21.000000000,2018-05-17 07:17:21.000000000,"[{'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11536}, {'_account_id': 14352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 07:40:52.000000000', 'files': ['doc/source/install/compute-install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/4522a7252b7e9e59e38f863fbe841c93a69c9627', 'message': 'Replace deprecated ""auth_uri"" by ""www_authenticate_uri""\n\nAccording to [1], ""auth_uri"" has been deprecated in Queens.\nThis patch replace it by using ""www_authenticate_uri"" instead.\n\n[1] https://review.openstack.org/#/c/508522\n\nChange-Id: I7bdfee1cf1e875ef702cc4761d723e420bc00ff9\n'}]",0,568490,4522a7252b7e9e59e38f863fbe841c93a69c9627,8,5,1,25903,,,0,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""

According to [1], ""auth_uri"" has been deprecated in Queens.
This patch replace it by using ""www_authenticate_uri"" instead.

[1] https://review.openstack.org/#/c/508522

Change-Id: I7bdfee1cf1e875ef702cc4761d723e420bc00ff9
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/90/568490/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/compute-install-ubuntu.rst'],1,4522a7252b7e9e59e38f863fbe841c93a69c9627,auth_uri-stable/queens, www_authenticate_uri = http://controller:5000, auth_uri = http://controller:5000,1,1
openstack%2Fmistral~master~I168a32b8c73b4b30224ce8f27bcde9cfa2b8d2ad,openstack/mistral,master,I168a32b8c73b4b30224ce8f27bcde9cfa2b8d2ad,Support Qinling actions in Mistral,MERGED,2018-05-12 04:04:46.000000000,2018-05-17 06:18:48.000000000,2018-05-17 06:18:48.000000000,"[{'_account_id': 5558}, {'_account_id': 6732}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 14288}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 25167}, {'_account_id': 27008}]","[{'number': 1, 'created': '2018-05-12 04:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1b3c54ade15ea49822194b0b03a84c2b29bdf30a', 'message': '[WIP] Support Qinling actions in Mistral\n\nDepends-On: https://review.openstack.org/#/c/567971/\nChange-Id: I168a32b8c73b4b30224ce8f27bcde9cfa2b8d2ad\nStory: 2002014\nTask: 19654\n'}, {'number': 2, 'created': '2018-05-12 07:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f47cee30ef5988341d82b93758218638285f6010', 'message': 'Support Qinling actions in Mistral\n\nDepends-On: https://review.openstack.org/#/c/567971/\nChange-Id: I168a32b8c73b4b30224ce8f27bcde9cfa2b8d2ad\nStory: 2002014\nTask: 19654\n'}, {'number': 3, 'created': '2018-05-12 07:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9bbd51afc357e074fd2d1e065deda7fda31d721b', 'message': 'Support Qinling actions in Mistral\n\nAn example can be found in the task description.\n\nDepends-On: https://review.openstack.org/#/c/567971/\nChange-Id: I168a32b8c73b4b30224ce8f27bcde9cfa2b8d2ad\nStory: 2002014\nTask: 19654\n'}, {'number': 4, 'created': '2018-05-16 06:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/72a0ffccbc9d964703f14968e84b0ed43e9c6109', 'message': 'Support Qinling actions in Mistral\n\nAn example can be found in the task description.\n\nRemove the cap on networkx library according to:\nhttps://github.com/openstack/requirements/commit/13644d63c6f17c4f5bd5f2587dd1a7e38b165252#diff-d7d5c6fa7118ea10d88f3afeaef4da77\n\nDepends-On: https://review.openstack.org/#/c/567971/\nChange-Id: I168a32b8c73b4b30224ce8f27bcde9cfa2b8d2ad\nStory: 2002014\nTask: 19654\n'}, {'number': 5, 'created': '2018-05-16 08:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/35b78f16f936d4551b456ac5c7d1b27361664b99', 'message': 'Support Qinling actions in Mistral\n\nAn example can be found in the task description.\n\nRemove the cap on networkx library according to:\nhttps://github.com/openstack/requirements/commit/13644d63c6f17c4f5bd5f2587dd1a7e38b165252#diff-d7d5c6fa7118ea10d88f3afeaef4da77\n\nDepends-On: https://review.openstack.org/#/c/567971/\nChange-Id: I168a32b8c73b4b30224ce8f27bcde9cfa2b8d2ad\nStory: 2002014\nTask: 19654\n'}, {'number': 6, 'created': '2018-05-16 09:27:59.000000000', 'files': ['mistral/tests/unit/actions/openstack/test_generator.py', 'mistral/actions/openstack/actions.py', 'mistral/actions/openstack/mapping.json', 'mistral/tests/unit/actions/openstack/test_openstack_actions.py', 'requirements.txt', 'test-requirements.txt', 'mistral/actions/generator_factory.py', 'lower-constraints.txt', 'releasenotes/notes/support-qinling-action-99cd323d4df36d48.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/4fe4198ac8590a3453f191ae8be5ab06a4264cb4', 'message': 'Support Qinling actions in Mistral\n\nAn example can be found in the task description.\n\nRemove the cap on networkx library according to:\nhttps://github.com/openstack/requirements/commit/13644d63c6f17c4f5bd5f2587dd1a7e38b165252#diff-d7d5c6fa7118ea10d88f3afeaef4da77\n\nDepends-On: https://review.openstack.org/#/c/567971/\nChange-Id: I168a32b8c73b4b30224ce8f27bcde9cfa2b8d2ad\nStory: 2002014\nTask: 19654\n'}]",7,567974,4fe4198ac8590a3453f191ae8be5ab06a4264cb4,39,11,6,6732,,,0,"Support Qinling actions in Mistral

An example can be found in the task description.

Remove the cap on networkx library according to:
https://github.com/openstack/requirements/commit/13644d63c6f17c4f5bd5f2587dd1a7e38b165252#diff-d7d5c6fa7118ea10d88f3afeaef4da77

Depends-On: https://review.openstack.org/#/c/567971/
Change-Id: I168a32b8c73b4b30224ce8f27bcde9cfa2b8d2ad
Story: 2002014
Task: 19654
",git fetch https://review.opendev.org/openstack/mistral refs/changes/74/567974/6 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/actions/openstack/actions.py', 'mistral/tests/unit/actions/openstack/test_generator.py', 'mistral/actions/openstack/mapping.json', 'mistral/tests/unit/actions/openstack/test_openstack_actions.py', 'mistral/actions/generator_factory.py']",5,1b3c54ade15ea49822194b0b03a84c2b29bdf30a,support-qinling-action," 'Aodh', 'Gnocchi', 'Glare', 'Vitrage', 'Senlin', 'Zun', 'Qinling'"," 'Aodh', 'Gnocchi', 'Glare', 'Vitrage', 'Senlin', 'Zun'",54,2
openstack%2Fopenstack-ansible-os_nova~master~If6c30e00c1c753692c970457b75e3ae7f5cc066c,openstack/openstack-ansible-os_nova,master,If6c30e00c1c753692c970457b75e3ae7f5cc066c,Move to use UWsgi for Nova,MERGED,2017-03-29 14:19:12.000000000,2018-05-17 06:02:53.000000000,2017-08-15 06:44:40.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 12807}, {'_account_id': 13095}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 26355}]","[{'number': 1, 'created': '2017-03-29 14:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/e9a43821d7f8c1ba732a3e8fc95fdaabb1c654b5', 'message': '[WIP] Move to use UWsgi + upstream NGinx for Nova\n\nThe placement service is already setup to use UWsgi and NGinx, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\n'}, {'number': 2, 'created': '2017-03-30 10:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/e5e542136eb996420ec79beeb71210ac437fe885', 'message': '[WIP] Move to use UWsgi + upstream NGinx for Nova\n\nThe placement service is already setup to use UWsgi and NGinx, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\n'}, {'number': 3, 'created': '2017-05-04 10:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/695c7015c8426b3b7454c6343b8a560767ead609', 'message': '[WIP] Move to use UWsgi + upstream NGinx for Nova\n\nThe placement service is already setup to use UWsgi and NGinx, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\n'}, {'number': 4, 'created': '2017-05-04 11:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/6d9dfa8a035d8d9f81f733795c03404b17c5e66b', 'message': '[WIP] Move to use UWsgi + upstream NGinx for Nova\n\nThe placement service is already setup to use UWsgi and NGinx, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\n'}, {'number': 5, 'created': '2017-05-04 14:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1dff1a1703a16720671f4a284abce4ff183c1f3b', 'message': '[WIP] Move to use UWsgi + upstream NGinx for Nova\n\nThe placement service is already setup to use UWsgi and NGinx, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\n'}, {'number': 6, 'created': '2017-05-04 15:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/0cadbbc08a856a75f9e092c536bd8df0979747f8', 'message': '[WIP] Move to use UWsgi + upstream NGinx for Nova\n\nThe placement service is already setup to use UWsgi and NGinx, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\n'}, {'number': 7, 'created': '2017-05-10 13:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2eecf0aa908e3ba3e63414183be0c1b56963d7d6', 'message': '[WIP] Move to use UWsgi + upstream NGinx for Nova\n\nThe placement service is already setup to use UWsgi and NGinx, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: goal-deploy-api-in-wsgi'}, {'number': 8, 'created': '2017-05-10 13:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5cd50cf7e65511cf2ab66fc94dc677738b64188a', 'message': '[WIP] Move to use UWsgi + upstream NGinx for Nova\n\nThe placement service is already setup to use UWsgi and NGinx, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi'}, {'number': 9, 'created': '2017-05-19 11:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/166a7224b8de83767a2d45e09aba67d5ad5e14c7', 'message': '[WIP] Move to use UWsgi + upstream NGinx for Nova\n\nThe placement service is already setup to use UWsgi and NGinx, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 10, 'created': '2017-05-19 12:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5cf2c23b1a6b227c408f33ace224e3afa1ecc4f9', 'message': '[WIP] Move to use UWsgi + upstream NGinx for Nova\n\nThe placement service is already setup to use UWsgi and NGinx, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 11, 'created': '2017-05-19 12:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5ada5695a5b7a47faf46b8ce8314d07f8018a44c', 'message': '[WIP] Move to use UWsgi + upstream NGinx for Nova\n\nThe placement service is already setup to use UWsgi and NGinx, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 12, 'created': '2017-05-19 13:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/cafdd0bbee6c65a308caccf3b856c1f85d2a3b91', 'message': '[WIP] Move to use UWsgi + upstream NGinx for Nova\n\nThe placement service is already setup to use UWsgi and NGinx, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 13, 'created': '2017-05-19 13:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/d12a31ee30174d561d76d37493c3344ae919b9e7', 'message': '[WIP] Move to use UWsgi + upstream NGinx for Nova\n\nThe placement service is already setup to use UWsgi and NGinx, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 14, 'created': '2017-05-19 14:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f83486074dc9240e42220b30a618ce8225d53115', 'message': '[WIP] Move to use UWsgi + upstream NGinx for Nova\n\nThe placement service is already setup to use UWsgi and NGinx, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 15, 'created': '2017-05-19 14:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/a21281109ea476bc1ddda67af0cfa406a84d4442', 'message': '[WIP] Move to use UWsgi + upstream NGinx for Nova\n\nThe placement service is already setup to use UWsgi and NGinx, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 16, 'created': '2017-06-22 18:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1fec3106a1b7a11ed2161a28fd86c47174210e2e', 'message': '[WIP] Move to use UWsgi for Nova\n\nThe placement service is already setup to use UWsgi, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 17, 'created': '2017-06-23 09:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/9a23b1cac262fe993da33d5a3791a0dc786d422e', 'message': '[WIP] Move to use UWsgi for Nova\n\nThe placement service is already setup to use UWsgi, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 18, 'created': '2017-07-10 13:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/dfdd6c42b583d01ab68883fdae5985ad9168c310', 'message': '[WIP] Move to use UWsgi for Nova\n\nThe placement service is already setup to use UWsgi, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 19, 'created': '2017-07-10 15:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/7220b6f860bad8f499a0b610e1f4b65895471351', 'message': '[WIP] Move to use UWsgi for Nova\n\nThe placement service is already setup to use UWsgi, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 20, 'created': '2017-07-11 10:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/ec0f1a92bd1ef95044f82bc20d8a0668a5cd7a94', 'message': '[WIP] Move to use UWsgi for Nova\n\nThe placement service is already setup to use UWsgi, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 21, 'created': '2017-08-09 08:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2a037bd3765cab97a4b46c6fc035e675660aca95', 'message': 'Move to use UWsgi for Nova\n\nThe placement service is already setup to use UWsgi, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nAdditionally, we need to clean up the nginx configuration as we are\nmoving away from fronting uWSGI with nginx inside the roles.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 22, 'created': '2017-08-09 15:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/7096dd9bfc4524fe12f14464090f95b7ec2c25a2', 'message': 'Move to use UWsgi for Nova\n\nThe placement service is already setup to use UWsgi, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nAdditionally, we need to clean up the nginx configuration as we are\nmoving away from fronting uWSGI with nginx inside the roles.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 23, 'created': '2017-08-11 13:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/6da1c286430f5a6661f266d3ad71880dabc818e1', 'message': 'Move to use UWsgi for Nova\n\nThe placement service is already setup to use UWsgi, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nAdditionally, we need to clean up the nginx configuration as we are\nmoving away from fronting uWSGI with nginx inside the roles.\n\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 24, 'created': '2017-08-14 10:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/98e589a151f622177869e17d3d7a51b8fd2c37a2', 'message': 'Move to use UWsgi for Nova\n\nThe placement service is already setup to use UWsgi, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nAdditionally, we need to clean up the nginx configuration as we are\nmoving away from fronting uWSGI with nginx inside the roles.\n\nDepends-On: Ib66b9709fb88205eaf3f133c87357a4dbbdde5ae\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 25, 'created': '2017-08-14 13:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/a4e644a6445e5ab2d83608651db55e571f665f56', 'message': 'Move to use UWsgi for Nova\n\nThe placement service is already setup to use UWsgi, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nAdditionally, we need to clean up the nginx configuration as we are\nmoving away from fronting uWSGI with nginx inside the roles.\n\nDepends-On: Ib66b9709fb88205eaf3f133c87357a4dbbdde5ae\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}, {'number': 26, 'created': '2017-08-14 13:27:34.000000000', 'files': ['tasks/nova_placement_nginx.yml', 'tasks/main.yml', 'tasks/nova_service_setup.yml', 'releasenotes/notes/nova_uwsgi-af062fa20317d41c.yaml', 'tasks/nova_uwsgi.yml', 'tasks/nova_placement.yml', 'handlers/main.yml', 'vars/ubuntu-16.04.yml', 'tests/os_nova-overrides.yml', 'defaults/main.yml', 'templates/nova-placement-nginx.conf.j2', 'vars/main.yml', 'templates/nova-uwsgi.ini.j2', 'tasks/nova_placement_uwsgi.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'tests/os_nova-overrides-lxd.yml', 'tasks/nova_placement_service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/823a80bd444ae0607519d42c15e969802459c78e', 'message': 'Move to use UWsgi for Nova\n\nThe placement service is already setup to use UWsgi, we need\nto move the other Nova services to follow suit as part of our community\ngoal for Pike.\n\nAdditionally, we need to clean up the nginx configuration as we are\nmoving away from fronting uWSGI with nginx inside the roles.\n\nDepends-On: Ib66b9709fb88205eaf3f133c87357a4dbbdde5ae\nChange-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c\nImplements: blueprint goal-deploy-api-in-wsgi\n'}]",12,451425,823a80bd444ae0607519d42c15e969802459c78e,82,10,26,2799,,,0,"Move to use UWsgi for Nova

The placement service is already setup to use UWsgi, we need
to move the other Nova services to follow suit as part of our community
goal for Pike.

Additionally, we need to clean up the nginx configuration as we are
moving away from fronting uWSGI with nginx inside the roles.

Depends-On: Ib66b9709fb88205eaf3f133c87357a4dbbdde5ae
Change-Id: If6c30e00c1c753692c970457b75e3ae7f5cc066c
Implements: blueprint goal-deploy-api-in-wsgi
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/25/451425/24 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/nova_placement_nginx.yml', 'tests/ansible-role-requirements.yml', 'vars/redhat-7.yml', 'handlers/main.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml', 'meta/main.yml', 'vars/main.yml']",8,e9a43821d7f8c1ba732a3e8fc95fdaabb1c654b5,bp/goal-deploy-api-in-wsgi,," - packages: ""{{ nova_nginx_distro_packages }}"" enabled: ""{{ 'nova_api_placement' in group_names }}""",38,55
openstack%2Fkolla-ansible~master~I2f3f27306e9f384148e1ad4d54d8da2ebef34d00,openstack/kolla-ansible,master,I2f3f27306e9f384148e1ad4d54d8da2ebef34d00,Specify 'become' for only necessary tasks (default roles),MERGED,2016-11-17 01:42:22.000000000,2018-05-17 05:57:23.000000000,2017-10-31 21:04:02.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 10787}, {'_account_id': 11604}, {'_account_id': 11869}, {'_account_id': 17505}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 23717}, {'_account_id': 24441}, {'_account_id': 26355}]","[{'number': 1, 'created': '2016-11-17 01:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c87344888ebcbf5b6ee166672d0a10e7c951a62', 'message': ""Specify 'become' for only neccesary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 2, 'created': '2016-11-21 01:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1af2f2b877ee7c2c294532051609524064c2f48', 'message': ""Specify 'become' for only neccesary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 3, 'created': '2016-12-01 15:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3ff936849f1c0c8f9462fad48e5f58254e3af556', 'message': ""Specify 'become' for only neccesary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 4, 'created': '2017-01-25 03:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e61d8e20d7b289f66d3c2e9b6bf0a9f43826a033', 'message': ""Specify 'become' for only neccesary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 5, 'created': '2017-01-26 01:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8efb9139c6dbe8132933d625819a1156e75696a3', 'message': ""Specify 'become' for only neccesary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 6, 'created': '2017-02-17 12:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/992b483e0444edf69614ecbd43481b7507ce9123', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 7, 'created': '2017-02-17 12:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff41e86ab84827de50f78339830c09893fc4a926', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 8, 'created': '2017-05-16 04:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1204b64822de5f762cce4ba9f99c75830953f0a7', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 9, 'created': '2017-05-23 10:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/40a47a0a2fc569414d9674faf8ad5afde8597764', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 10, 'created': '2017-05-24 02:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ae289706794dba31bc97b7db1ae836227793f4f1', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 11, 'created': '2017-05-24 04:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09102b4ee837499d8a0aedd6c6bcbc2d372e4436', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 12, 'created': '2017-05-24 10:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63595d1cde318881ee50f4204cb7aa29beccb8aa', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nWIP: Update gate\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 13, 'created': '2017-05-24 15:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8e77f297bb1b12495fa310e90119469ab3d4837a', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nWIP: Update gate\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 14, 'created': '2017-05-25 00:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2fd576ca670fade5d7c298cf36cc50cb48c82450', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nWIP: Update gate\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 15, 'created': '2017-05-25 01:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/364bc4c3b484b57fc933a76e87d0006e70e5a64f', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nWIP: Update gate\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 16, 'created': '2017-05-29 09:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f27018770ac0124ae7c9d120db76984e334e32ad', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nWIP: Update gate\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 17, 'created': '2017-07-24 03:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5952695a2ff29650ef883c1b6fc4f2a70d4c3f94', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nWIP: Update gate\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 18, 'created': '2017-07-24 04:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/41f5c3625f9439fde72bdde78f80b75a19868c8b', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nWIP: Update gate\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 19, 'created': '2017-07-24 04:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/53dd4331dd4665d536b098a4bd8d2b2a6ef926ad', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nWIP: Update gate\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 20, 'created': '2017-07-25 09:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15436cda209a55670a0bb1d9a2664f936daf087b', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nWIP: Update gate\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 21, 'created': '2017-07-26 00:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a11b3bd314c4e42782e6d97c56a8131d26a3f03a', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nWIP: Update gate\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 22, 'created': '2017-07-27 00:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7353266e100b059e36a1fab195c6db8e802a46ed', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nGate is also updated to use 'become' feature\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 23, 'created': '2017-07-28 02:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a0e64875d95c044a9befb043a254f3471389f3d0', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nGate is also updated to use 'become' feature\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 24, 'created': '2017-07-31 08:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d7082d9888803301c7eb698d67a3709a86ff422', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nGate is also updated to use 'become' feature\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 25, 'created': '2017-07-31 08:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a78e8093e65a801e0e130972f270a1f63defd09b', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nGate is also updated to use 'become' feature\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 26, 'created': '2017-07-31 09:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d96e9254150c810342c2f1065252db8a1d0bb287', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nGate is also updated to use 'become' feature\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 27, 'created': '2017-08-01 04:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a9f2041631eb2de054ebb6d13701a4d14798c8cc', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nGate is also updated to use 'become' feature\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 28, 'created': '2017-08-01 08:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d90b4100ecb4de240fdf5979b2e1f7dfa021f267', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nGate is also updated to use 'become' feature\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 29, 'created': '2017-08-16 01:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bf158a7cf8aa437d87d51ab2b348afa4d4bdec27', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nGate is also updated to use 'become' feature\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 30, 'created': '2017-08-22 01:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c8d49d76c318cc3ac9eede9ab38b64ad8b20199a', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nGate is also updated to use 'become' feature\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 31, 'created': '2017-09-22 09:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/96ce0c5b18f44534c65ff07529ebe8ff10335c1b', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nGate is also updated to use 'become' feature\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 32, 'created': '2017-09-25 08:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/445f0d589ac5e1772ecbbd6962bcf5e3b7b57914', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nGate is also updated to use 'become' feature\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}, {'number': 33, 'created': '2017-10-31 02:55:31.000000000', 'files': ['ansible/roles/nova/tasks/external_ceph.yml', 'ansible/roles/openvswitch/tasks/config.yml', 'ansible/roles/neutron/tasks/config.yml', 'ansible/roles/nova/tasks/config.yml', 'releasenotes/notes/specify-task-become-84f83707f612bcf3.yaml', 'ansible/roles/nova/tasks/ceph.yml', 'ansible/roles/glance/tasks/config.yml', 'ansible/roles/glance/tasks/ceph.yml', 'ansible/roles/horizon/tasks/config.yml', 'tools/playbook-setup-nodes.yml', 'ansible/roles/glance/tasks/external_ceph.yml', 'ansible/roles/nova/tasks/config-nova-fake.yml', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/neutron/tasks/config-neutron-fake.yml', 'ansible/roles/heat/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2d3866c6a488e339a4c1501036ccfaa2a3db75b4', 'message': ""Specify 'become' for only necessary tasks (default roles)\n\nAdd become to only neccesary tasks in roles:\n- glance\n- heat\n- horizon\n- keystone\n- neutron\n- nova\n- openvswitch\n\nGate is also updated to use 'become' feature\n\nChange-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00\nPartial-Implements: blueprint ansible-specific-task-become\n""}]",5,398684,2d3866c6a488e339a4c1501036ccfaa2a3db75b4,91,12,33,22582,,,0,"Specify 'become' for only necessary tasks (default roles)

Add become to only neccesary tasks in roles:
- glance
- heat
- horizon
- keystone
- neutron
- nova
- openvswitch

Gate is also updated to use 'become' feature

Change-Id: I2f3f27306e9f384148e1ad4d54d8da2ebef34d00
Partial-Implements: blueprint ansible-specific-task-become
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/398684/33 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/tasks/config.yml', 'ansible/roles/nova/tasks/config.yml', 'releasenotes/notes/specify-task-become-84f83707f612bcf3.yaml', 'ansible/roles/nova/tasks/ceph.yml', 'ansible/roles/glance/tasks/config.yml', 'ansible/roles/nova/tasks/external-ceph.yml', 'ansible/roles/glance/tasks/ceph.yml', 'ansible/roles/horizon/tasks/config.yml', 'ansible/roles/glance/tasks/external_ceph.yml', 'ansible/roles/nova/tasks/config-nova-fake.yml', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/neutron/tasks/config-neutron-fake.yml', 'ansible/roles/heat/tasks/config.yml']",13,7c87344888ebcbf5b6ee166672d0a10e7c951a62,bp/ansible-specific-task-become," mode: ""u=rwx,g=rwx,o="" mode: ""u=rw,g=rw,o="" mode: ""u=rw,g=rw,o="" mode: ""u=rw,g=rw,o="" with_items: - ""heat-api"" - ""heat-api-cfn"" - ""heat-engine"" - name: Ensuring config directory has correct owner and permission become: yes file: path: ""{{ node_config_directory }}/{{ item }}"" recurse: yes owner: ""{{ config_owner_user }}"" group: ""{{ config_owner_group }}""",,201,0
openstack%2Ftripleo-common~stable%2Fpike~I974bcac75be9231cf282a73db1a22a6f4ba079fc,openstack/tripleo-common,stable/pike,I974bcac75be9231cf282a73db1a22a6f4ba079fc,Run yum clean to reduce size of docker image layer,MERGED,2018-05-15 08:07:27.000000000,2018-05-17 05:42:53.000000000,2018-05-17 05:42:53.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-15 08:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/218dfb8a9e26081436a9454d2da4b1f35c7b0c88', 'message': 'Run yum clean to reduce size of docker image layer\n\nThis ensures we do not write the yum cache in the layer, making the\nimage size smaller.\n\nChange-Id: I974bcac75be9231cf282a73db1a22a6f4ba079fc\n(cherry picked from commit 0c2305ad80869ded3b0a293610eb863171a392ac)\n'}, {'number': 2, 'created': '2018-05-16 14:57:58.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b3b5d972472cc95949adbae01b4b238592265364', 'message': 'Run yum clean to reduce size of docker image layer\n\nThis ensures we do not write the yum cache in the layer, making the\nimage size smaller.\n\nChange-Id: I974bcac75be9231cf282a73db1a22a6f4ba079fc\n(cherry picked from commit 0c2305ad80869ded3b0a293610eb863171a392ac)\n'}]",0,568510,b3b5d972472cc95949adbae01b4b238592265364,15,3,2,13039,,,0,"Run yum clean to reduce size of docker image layer

This ensures we do not write the yum cache in the layer, making the
image size smaller.

Change-Id: I974bcac75be9231cf282a73db1a22a6f4ba079fc
(cherry picked from commit 0c2305ad80869ded3b0a293610eb863171a392ac)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/10/568510/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,218dfb8a9e26081436a9454d2da4b1f35c7b0c88,,RUN yum update -y && yum clean all,RUN yum update -y,1,1
openstack%2Fdevstack~master~I4b9b522f1a48badcb058237985db8c25ec0186bd,openstack/devstack,master,I4b9b522f1a48badcb058237985db8c25ec0186bd,Use Cinder V3 API by default for CLI,ABANDONED,2018-05-15 11:34:48.000000000,2018-05-17 05:33:18.000000000,,"[{'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 11:34:48.000000000', 'files': ['openrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6ef696cf5adf5e1d6aaebe9db9dcf5598e8a401e', 'message': 'Use Cinder V3 API by default for CLI\n\nCinder V2 API is deprecated since V3 is introduced. It looks reasonable\nto use Cinder V3 by default for CLI to get new features working out of\nthe box.\n\nChange-Id: I4b9b522f1a48badcb058237985db8c25ec0186bd\n'}]",0,568562,6ef696cf5adf5e1d6aaebe9db9dcf5598e8a401e,6,4,1,1736,,,0,"Use Cinder V3 API by default for CLI

Cinder V2 API is deprecated since V3 is introduced. It looks reasonable
to use Cinder V3 by default for CLI to get new features working out of
the box.

Change-Id: I4b9b522f1a48badcb058237985db8c25ec0186bd
",git fetch https://review.opendev.org/openstack/devstack refs/changes/62/568562/1 && git format-patch -1 --stdout FETCH_HEAD,['openrc'],1,6ef696cf5adf5e1d6aaebe9db9dcf5598e8a401e,cinder-v3-in-cli,export CINDER_VERSION=${CINDER_VERSION:-3},export CINDER_VERSION=${CINDER_VERSION:-2},1,1
openstack%2Ftripleo-common~stable%2Fpike~Ifdfc1b84b7b6a306868260611271fd49bdd594d4,openstack/tripleo-common,stable/pike,Ifdfc1b84b7b6a306868260611271fd49bdd594d4,Add yum update to base,MERGED,2018-05-14 13:51:57.000000000,2018-05-17 05:25:34.000000000,2018-05-17 05:25:34.000000000,"[{'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-14 13:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9cf9eee0ee6aa915d593e7c4a5ea5bae7a37b194', 'message': ""Add yum update to base\n\nIn order to handle out of date distro containers,\nlet's add a yum update to the kolla base container to ensure that\nat the end of the base container build we'll have the latest base\npackages installed.\nThis will ensure we don't hit out of date dependency bits in later\ncontainers.\nFor example, we currently only have 7.4 base centos image available\nfrom the upstream but we're install the base repos in the base\nbuild. This would mean that we'd be getting 7.5 packages in later\ncontainers but might possibly have a mix of 7.4 and 7.5 packages\ninstalled.\n\nChange-Id: Ifdfc1b84b7b6a306868260611271fd49bdd594d4\nRelated-Bug: #1770355 (cherry picked from commit 3f12a00533e32d894ad18627e6be1163c0dd5ad8)\n""}, {'number': 2, 'created': '2018-05-14 13:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/054a996f69e79344c80a55526516f814fecd2c14', 'message': ""Add yum update to base\n\nIn order to handle out of date distro containers,\nlet's add a yum update to the kolla base container to ensure that\nat the end of the base container build we'll have the latest base\npackages installed.\nThis will ensure we don't hit out of date dependency bits in later\ncontainers.\nFor example, we currently only have 7.4 base centos image available\nfrom the upstream but we're install the base repos in the base\nbuild. This would mean that we'd be getting 7.5 packages in later\ncontainers but might possibly have a mix of 7.4 and 7.5 packages\ninstalled.\n\nChange-Id: Ifdfc1b84b7b6a306868260611271fd49bdd594d4\nRelated-Bug: #1770355 (cherry picked from commit 3f12a00533e32d894ad18627e6be1163c0dd5ad8)\n""}, {'number': 3, 'created': '2018-05-16 14:57:52.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7ace983c9ba144f467e30a3e8d732cad3ec383f3', 'message': ""Add yum update to base\n\nIn order to handle out of date distro containers,\nlet's add a yum update to the kolla base container to ensure that\nat the end of the base container build we'll have the latest base\npackages installed.\nThis will ensure we don't hit out of date dependency bits in later\ncontainers.\nFor example, we currently only have 7.4 base centos image available\nfrom the upstream but we're install the base repos in the base\nbuild. This would mean that we'd be getting 7.5 packages in later\ncontainers but might possibly have a mix of 7.4 and 7.5 packages\ninstalled.\n\nChange-Id: Ifdfc1b84b7b6a306868260611271fd49bdd594d4\nRelated-Bug: #1770355 (cherry picked from commit 3f12a00533e32d894ad18627e6be1163c0dd5ad8)\n""}]",0,568292,7ace983c9ba144f467e30a3e8d732cad3ec383f3,21,6,3,10969,,,0,"Add yum update to base

In order to handle out of date distro containers,
let's add a yum update to the kolla base container to ensure that
at the end of the base container build we'll have the latest base
packages installed.
This will ensure we don't hit out of date dependency bits in later
containers.
For example, we currently only have 7.4 base centos image available
from the upstream but we're install the base repos in the base
build. This would mean that we'd be getting 7.5 packages in later
containers but might possibly have a mix of 7.4 and 7.5 packages
installed.

Change-Id: Ifdfc1b84b7b6a306868260611271fd49bdd594d4
Related-Bug: #1770355 (cherry picked from commit 3f12a00533e32d894ad18627e6be1163c0dd5ad8)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/568292/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,9cf9eee0ee6aa915d593e7c4a5ea5bae7a37b194,bug/1765802-stable/pike,"# In order to ensure that we have the last base packages, we would like to do # a yum update in the kolla base image. All the other images should inherit this # but if the base distro container is out of date (i.g. 7.4 but 7.5 is out) this # will pull in the updated packages available. Related issue LP#1770355 RUN yum update -y",,5,0
openstack%2Ftripleo-common~stable%2Fpike~I1939f9e6b2c432a672c7426ddabdcfca6ce150b7,openstack/tripleo-common,stable/pike,I1939f9e6b2c432a672c7426ddabdcfca6ce150b7,Add in a STOPSIGNAL configuration,MERGED,2018-05-01 18:11:32.000000000,2018-05-17 05:24:32.000000000,2018-05-17 05:24:32.000000000,"[{'_account_id': 3153}, {'_account_id': 8871}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-01 18:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/81e0b80b53b8e95ee6b06a3af94654453aea66fc', 'message': ""Add in a STOPSIGNAL configuration\n\nFor docker 1.13.1, if STOPSIGNAL is not provided in the docker image,\nthe container will not automatically restart the container.  It might be\nbetter to define this in the Kolla scripts as a configuration option for\neach container, but I'm unsure if it's a problem for any other version\nso it might be best to configure this in tripleo until a newer version\nof docker is consumed. Additionally I'm not sure if any of the\ncontainers would need something other than STOPSIGNAL SIGTERM which\nshould be the default if none is provided.\n\nChange-Id: I1939f9e6b2c432a672c7426ddabdcfca6ce150b7\nRelated-Bug: #1765802\n(cherry picked from commit 039dbccb5d568953e281a21854916b60ad0a98e4)\n""}, {'number': 2, 'created': '2018-05-14 23:51:40.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1db5b7421eb87d6d5c5d2490212ac1cab0bb28de', 'message': ""Add in a STOPSIGNAL configuration\n\nFor docker 1.13.1, if STOPSIGNAL is not provided in the docker image,\nthe container will not automatically restart the container.  It might be\nbetter to define this in the Kolla scripts as a configuration option for\neach container, but I'm unsure if it's a problem for any other version\nso it might be best to configure this in tripleo until a newer version\nof docker is consumed. Additionally I'm not sure if any of the\ncontainers would need something other than STOPSIGNAL SIGTERM which\nshould be the default if none is provided.\n\nChange-Id: I1939f9e6b2c432a672c7426ddabdcfca6ce150b7\nRelated-Bug: #1765802\n(cherry picked from commit 039dbccb5d568953e281a21854916b60ad0a98e4)\n""}]",0,565552,1db5b7421eb87d6d5c5d2490212ac1cab0bb28de,33,6,2,14985,,,0,"Add in a STOPSIGNAL configuration

For docker 1.13.1, if STOPSIGNAL is not provided in the docker image,
the container will not automatically restart the container.  It might be
better to define this in the Kolla scripts as a configuration option for
each container, but I'm unsure if it's a problem for any other version
so it might be best to configure this in tripleo until a newer version
of docker is consumed. Additionally I'm not sure if any of the
containers would need something other than STOPSIGNAL SIGTERM which
should be the default if none is provided.

Change-Id: I1939f9e6b2c432a672c7426ddabdcfca6ce150b7
Related-Bug: #1765802
(cherry picked from commit 039dbccb5d568953e281a21854916b60ad0a98e4)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/52/565552/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,81e0b80b53b8e95ee6b06a3af94654453aea66fc,bug/1765802-stable/pike,# workaround for LP#1765802 STOPSIGNAL SIGTERM,,2,0
openstack%2Fopenstack-helm-infra~master~I905c20794a6cc38fad3b048a916b7693226f865c,openstack/openstack-helm-infra,master,I905c20794a6cc38fad3b048a916b7693226f865c,Fedora: fix mount propagation support with kubernetes 1.10.x,MERGED,2018-05-17 01:04:18.000000000,2018-05-17 04:53:51.000000000,2018-05-17 04:53:51.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 01:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/30ae89c499777eba2eb717c0cd5f282987d6ec23', 'message': 'Fedora: fix mount propagation support with kubernetes 1.10.x\n\nThis PS resores operation of fluentbit on fedora with kubernetes\n>= 1.10.x.\n\nChange-Id: I905c20794a6cc38fad3b048a916b7693226f865c\n'}, {'number': 2, 'created': '2018-05-17 01:11:16.000000000', 'files': ['roles/deploy-docker/templates/fedora-docker.service.j2'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/70cfb0d341c2f17b6b0fba40d929b88b7dbc6241', 'message': 'Fedora: fix mount propagation support with kubernetes 1.10.x\n\nThis PS restores operation of fluentbit on fedora with kubernetes\n>= 1.10.x.\n\nChange-Id: I905c20794a6cc38fad3b048a916b7693226f865c\n'}]",0,568992,70cfb0d341c2f17b6b0fba40d929b88b7dbc6241,9,3,2,23928,,,0,"Fedora: fix mount propagation support with kubernetes 1.10.x

This PS restores operation of fluentbit on fedora with kubernetes
>= 1.10.x.

Change-Id: I905c20794a6cc38fad3b048a916b7693226f865c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/568992/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/deploy-docker/templates/fedora-docker.service.j2'],1,30ae89c499777eba2eb717c0cd5f282987d6ec23,fedora/gate,"# NOTE(portdirect): fix mount propagation for Fedora, this is done post start, # as docker seems to reset this. ExecStartPost=/usr/bin/mount --make-rshared /",,3,0
openstack%2Fheat~stable%2Fpike~I162b3a760031c5144525e96512db7b82ff02bc65,openstack/heat,stable/pike,I162b3a760031c5144525e96512db7b82ff02bc65,Update test image,MERGED,2018-05-16 05:14:23.000000000,2018-05-17 04:49:15.000000000,2018-05-17 04:49:14.000000000,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 05:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f3a4eb696ee70b1da10d133dccdcaf11a031803e', 'message': 'Update test image\n\nupdate test image to use `Fedora-Cloud-Base-27-1.6.x86_64`\n\nChange-Id: I162b3a760031c5144525e96512db7b82ff02bc65\n(cherry picked from commit da393a23cdc5d35a70c6003150d0c01d44ef35b3)\n'}, {'number': 2, 'created': '2018-05-16 05:16:01.000000000', 'files': ['heat_integrationtests/pre_test_hook.sh', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/6526311b35990d8bc4b126653a6fea3f2921b5e1', 'message': 'Update test image\n\nupdate test image to use `Fedora-Cloud-Base-27-1.6.x86_64`\n\nChange-Id: I162b3a760031c5144525e96512db7b82ff02bc65\n(cherry picked from commit da393a23cdc5d35a70c6003150d0c01d44ef35b3)\n'}]",0,568750,6526311b35990d8bc4b126653a6fea3f2921b5e1,12,6,2,8833,,,0,"Update test image

update test image to use `Fedora-Cloud-Base-27-1.6.x86_64`

Change-Id: I162b3a760031c5144525e96512db7b82ff02bc65
(cherry picked from commit da393a23cdc5d35a70c6003150d0c01d44ef35b3)
",git fetch https://review.opendev.org/openstack/heat refs/changes/50/568750/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_integrationtests/pre_test_hook.sh', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh']",3,f3a4eb696ee70b1da10d133dccdcaf11a031803e,,iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-27-1.6.x86_64,iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-26-1.5.x86_64,4,5
openstack%2Fpuppet-tripleo~master~I39c84c462793bfe819f876583782acbe0619a89d,openstack/puppet-tripleo,master,I39c84c462793bfe819f876583782acbe0619a89d,Neutron wrappers: lookup for THT parameter,MERGED,2018-05-07 21:04:49.000000000,2018-05-17 04:46:03.000000000,2018-05-17 04:46:03.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-07 21:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ab7138bb6c031601c244b157c15cb96a9220fc22', 'message': 'Neutron wrappers: lookup for THT parameter\n\nFor Neutron DHCP & L3 agents, lookup for DockerAdditionalSockets\nparameter in THT.\nIt basically replaces the default hiera that was taken from the docker\nprofile but this one will be deprecated in this release and removed\nsoon.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I39c84c462793bfe819f876583782acbe0619a89d\n'}, {'number': 2, 'created': '2018-05-07 21:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f0f332767860a1972f065fcfa7b11cd7c7e3c415', 'message': 'Neutron wrappers: lookup for THT parameter\n\nFor Neutron DHCP & L3 agents, lookup for DockerAdditionalSockets\nparameter in THT.\nIt basically replaces the default hiera that was taken from the docker\nprofile but this one will be deprecated in this release and removed\nsoon.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n\nChange-Id: I39c84c462793bfe819f876583782acbe0619a89d\n'}, {'number': 3, 'created': '2018-05-07 21:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7c0e66fb3001f56ddf20af02a98114501f9b0211', 'message': 'Neutron wrappers: lookup for THT parameter\n\nFor Neutron DHCP & L3 agents, lookup for DockerAdditionalSockets\nparameter in THT.\nIt basically replaces the default hiera that was taken from the docker\nprofile but this one will be deprecated in this release and removed\nsoon.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I39c84c462793bfe819f876583782acbe0619a89d\n'}, {'number': 4, 'created': '2018-05-16 13:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3e1eecf7e3aab5c4a066ba9dfb9862314630ffea', 'message': ""Neutron wrappers: lookup for THT parameter\n\nFor Neutron DHCP & L3 agents, lookup for DockerAdditionalSockets\nparameter in THT.\nIt basically replaces the default hiera that was taken from the docker\nprofile but this one will be deprecated in this release and removed\nsoon.\n\nAlso, we change the default to be '/var/lib/openstack/docker.sock'\nso it looks for the right socket in default deployments.\n\nChange-Id: I39c84c462793bfe819f876583782acbe0619a89d\n""}, {'number': 5, 'created': '2018-05-16 13:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8f99a324bb38a77d2f347a6ee85a5b5651408755', 'message': ""Neutron wrappers: lookup for THT parameter\n\nFor Neutron DHCP & L3 agents, lookup for DockerAdditionalSockets\nparameter in THT.\nIt basically replaces the default hiera that was taken from the docker\nprofile but this one will be deprecated in this release and removed\nsoon.\n\nAlso, we change the default to be '/var/lib/openstack/docker.sock'\nso it looks for the right socket in default deployments.\n\nChange-Id: I39c84c462793bfe819f876583782acbe0619a89d\n""}, {'number': 6, 'created': '2018-05-16 13:42:04.000000000', 'files': ['manifests/profile/base/neutron/l3_agent_wrappers.pp', 'manifests/profile/base/neutron/dhcp_agent_wrappers.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3b6c90ad7044e1c13e6028071e3ec54845aa0105', 'message': ""Neutron wrappers: lookup for THT parameter\n\nFor Neutron DHCP & L3 agents, lookup for DockerAdditionalSockets\nparameter in THT.\nIt basically replaces the default hiera that was taken from the docker\nprofile but this one will be deprecated in this release and removed\nsoon.\n\nAlso, we change the default to be '/var/lib/openstack/docker.sock'\nso it looks for the right socket in default deployments.\n\nChange-Id: I39c84c462793bfe819f876583782acbe0619a89d\n""}]",0,566737,3b6c90ad7044e1c13e6028071e3ec54845aa0105,28,6,6,3153,,,0,"Neutron wrappers: lookup for THT parameter

For Neutron DHCP & L3 agents, lookup for DockerAdditionalSockets
parameter in THT.
It basically replaces the default hiera that was taken from the docker
profile but this one will be deprecated in this release and removed
soon.

Also, we change the default to be '/var/lib/openstack/docker.sock'
so it looks for the right socket in default deployments.

Change-Id: I39c84c462793bfe819f876583782acbe0619a89d
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/37/566737/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/l3_agent_wrappers.pp', 'manifests/profile/base/neutron/dhcp_agent_wrappers.pp']",2,ab7138bb6c031601c244b157c15cb96a9220fc22,docker,"# Defaults to hiera('docker_additional_sockets', ['/run/docker.sock']) $bind_sockets = hiera('docker_additional_sockets', ['/run/docker.sock']),","# Defaults to hiera('tripleo::profile::base::docker::additional_sockets', ['/run/docker.sock']) $bind_sockets = hiera('tripleo::profile::base::docker::additional_sockets', ['/run/docker.sock']),",4,4
openstack%2Fkeystone~master~Ia2023ca809b8c2f58af648cb7377f41cd220725b,openstack/keystone,master,Ia2023ca809b8c2f58af648cb7377f41cd220725b,Limit description support,MERGED,2018-03-15 03:32:01.000000000,2018-05-17 04:44:36.000000000,2018-05-17 04:44:35.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 15699}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 03:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/78a170b0d5e0d00bd14e7c4ca0841fe3ecbea063', 'message': 'Add manage logic for limit description\n\nThis patch added the manage layer logic for limit\ndescription\n\nChange-Id: Ia2023ca809b8c2f58af648cb7377f41cd220725b\n'}, {'number': 2, 'created': '2018-03-15 07:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8d5dd43f1fb5dd3fe48cbb16bf52b9c63787077c', 'message': 'Limit description support\n\nThis patch added description support for registered\nlimit and project limit.\n\nChange-Id: Ia2023ca809b8c2f58af648cb7377f41cd220725b\n'}, {'number': 3, 'created': '2018-03-15 09:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b53360c85124e8210dcebee0a734fd2a3c239bbf', 'message': 'Limit description support\n\nThis patch added description support for registered\nlimit and project limit.\n\nChange-Id: Ia2023ca809b8c2f58af648cb7377f41cd220725b\n'}, {'number': 4, 'created': '2018-03-15 11:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f621f9d278882ff52ef234c2f1db231581ea745f', 'message': 'Limit description support\n\nThis patch added description support for registered\nlimit and project limit.\n\nChange-Id: Ia2023ca809b8c2f58af648cb7377f41cd220725b\n'}, {'number': 5, 'created': '2018-03-20 08:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7377b525ad1c5988bfe9de47c3d875aae3df7a7d', 'message': 'Limit description support\n\nThis patch added description support for registered\nlimit and project limit.\n\nCloses-Bug: #1754185\nChange-Id: Ia2023ca809b8c2f58af648cb7377f41cd220725b\n'}, {'number': 6, 'created': '2018-03-21 01:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a85987aca60dad54d8580ef3b6c6621d6b8d4354', 'message': 'Limit description support\n\nThis patch added description support for registered\nlimit and project limit.\n\nCloses-Bug: #1754185\nChange-Id: Ia2023ca809b8c2f58af648cb7377f41cd220725b\n'}, {'number': 7, 'created': '2018-03-26 04:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d9d8ba67fdc8b9f55d54782852c5b49977462b95', 'message': '[WIP] Limit description support\n\nThis patch added description support for registered\nlimit and project limit.\n\nCloses-Bug: #1754185\nChange-Id: Ia2023ca809b8c2f58af648cb7377f41cd220725b\n'}, {'number': 8, 'created': '2018-03-26 06:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e06708834e6e33111e88abe0e4f571aabf4f4212', 'message': 'Limit description support\n\nThis patch added description support for registered\nlimit and project limit.\n\nCloses-Bug: #1754185\nChange-Id: Ia2023ca809b8c2f58af648cb7377f41cd220725b\n'}, {'number': 9, 'created': '2018-04-11 01:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fd92cc5844aa0e6caf30e8fdee4eb6a75f46036a', 'message': 'Limit description support\n\nThis patch added description support for registered\nlimit and project limit.\n\nCloses-Bug: #1754185\nChange-Id: Ia2023ca809b8c2f58af648cb7377f41cd220725b\n'}, {'number': 10, 'created': '2018-05-08 01:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b5ccfabf6c2e629b0e38b9b1e38328cc71ddcfb4', 'message': 'Limit description support\n\nThis patch added description support for registered\nlimit and project limit.\n\nCloses-Bug: #1754185\nChange-Id: Ia2023ca809b8c2f58af648cb7377f41cd220725b\n'}, {'number': 11, 'created': '2018-05-08 03:00:20.000000000', 'files': ['api-ref/source/v3/samples/admin/registered-limits-update-request.json', 'releasenotes/notes/add-limit-description-c1f42641d9c6c33d.yaml', 'api-ref/source/v3/samples/admin/registered-limit-show-response.json', 'keystone/tests/unit/test_limits.py', 'keystone/tests/unit/test_validation.py', 'api-ref/source/v3/samples/admin/limits-update-request.json', 'api-ref/source/v3/samples/admin/registered-limits-create-response.json', 'api-ref/source/v3/samples/admin/limits-list-response.json', 'api-ref/source/v3/samples/admin/limits-update-response.json', 'api-ref/source/v3/samples/admin/limits-create-request.json', 'keystone/tests/unit/core.py', 'api-ref/source/v3/parameters.yaml', 'keystone/tests/unit/limit/test_backends.py', 'keystone/limit/backends/sql.py', 'api-ref/source/v3/samples/admin/registered-limits-update-response.json', 'api-ref/source/v3/samples/admin/limit-show-response.json', 'api-ref/source/v3/unified_limits.inc', 'keystone/limit/schema.py', 'api-ref/source/v3/samples/admin/limits-create-response.json', 'api-ref/source/v3/samples/admin/registered-limits-create-request.json', 'api-ref/source/v3/samples/admin/registered-limits-list-response.json'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9d7ffbc89e54bae1e9c3cdafec4c23edd77fc542', 'message': 'Limit description support\n\nThis patch added description support for registered\nlimit and project limit.\n\nCloses-Bug: #1754185\nChange-Id: Ia2023ca809b8c2f58af648cb7377f41cd220725b\n'}]",52,553132,9d7ffbc89e54bae1e9c3cdafec4c23edd77fc542,53,6,11,15054,,,0,"Limit description support

This patch added description support for registered
limit and project limit.

Closes-Bug: #1754185
Change-Id: Ia2023ca809b8c2f58af648cb7377f41cd220725b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/32/553132/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/limit/core.py', 'keystone/tests/unit/core.py', 'keystone/tests/unit/limit/test_backends.py', 'keystone/limit/backends/sql.py']",4,78a170b0d5e0d00bd14e7c4ca0841fe3ecbea063,bug/1754185," 'default_limit', 'description' description = sql.Column(sql.String(255), nullable=False) 'resource_limit', 'description' description = sql.Column(sql.String(255), nullable=False)", 'default_limit' 'resource_limit',58,6
openstack%2Fironic~master~Iae40ed6c5d37bb2d2af3219d2f94922a2b32d78d,openstack/ironic,master,Iae40ed6c5d37bb2d2af3219d2f94922a2b32d78d,Remove excessive usage of mock_the_extension_manager in unit tests - part 1,MERGED,2018-05-15 13:37:44.000000000,2018-05-17 04:28:02.000000000,2018-05-17 04:28:02.000000000,"[{'_account_id': 11655}, {'_account_id': 13689}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 13:37:44.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_power.py', 'ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/tests/unit/drivers/modules/network/test_common.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py', 'ironic/tests/unit/drivers/modules/redfish/test_power.py', 'ironic/tests/unit/drivers/modules/irmc/test_management.py', 'ironic/tests/unit/drivers/modules/network/test_neutron.py', 'ironic/tests/unit/drivers/modules/ucs/test_management.py', 'ironic/tests/unit/drivers/modules/drac/test_periodic_task.py', 'ironic/tests/unit/common/test_network.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/tests/unit/drivers/modules/irmc/test_inspect.py', 'ironic/tests/unit/dhcp/test_neutron.py', 'ironic/tests/unit/drivers/modules/drac/test_job.py', 'ironic/tests/unit/drivers/modules/irmc/test_power.py', 'ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/tests/unit/drivers/modules/drac/test_bios.py', 'ironic/tests/unit/common/test_neutron.py', 'ironic/tests/unit/drivers/modules/cimc/test_common.py', 'ironic/tests/unit/conductor/mgr_utils.py', 'ironic/tests/unit/drivers/modules/network/test_flat.py', 'ironic/tests/unit/drivers/modules/test_snmp.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/tests/unit/drivers/modules/storage/test_cinder.py', 'ironic/tests/unit/drivers/modules/ucs/test_helper.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/drivers/modules/ucs/test_power.py', 'ironic/tests/unit/drivers/modules/network/test_noop.py', 'ironic/tests/unit/common/test_cinder.py', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/86a5a1698fdfd70610cfbe8fa067f5fa377b3e43', 'message': 'Remove excessive usage of mock_the_extension_manager in unit tests - part 1\n\nThis function does not work properly with hardware types, and is not\nneeded in the most cases where it is used. The enabled_drivers option\nis changed instead where needed.\n\nThis change covers only a (randomly selected) part of files. Other files\nwill be updated separately.\n\nChange-Id: Iae40ed6c5d37bb2d2af3219d2f94922a2b32d78d\n'}]",0,568585,86a5a1698fdfd70610cfbe8fa067f5fa377b3e43,8,4,1,10239,,,0,"Remove excessive usage of mock_the_extension_manager in unit tests - part 1

This function does not work properly with hardware types, and is not
needed in the most cases where it is used. The enabled_drivers option
is changed instead where needed.

This change covers only a (randomly selected) part of files. Other files
will be updated separately.

Change-Id: Iae40ed6c5d37bb2d2af3219d2f94922a2b32d78d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/568585/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_power.py', 'ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/tests/unit/drivers/modules/network/test_common.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py', 'ironic/tests/unit/drivers/modules/redfish/test_power.py', 'ironic/tests/unit/drivers/modules/irmc/test_management.py', 'ironic/tests/unit/drivers/modules/network/test_neutron.py', 'ironic/tests/unit/drivers/modules/ucs/test_management.py', 'ironic/tests/unit/drivers/modules/drac/test_periodic_task.py', 'ironic/tests/unit/common/test_network.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/tests/unit/drivers/modules/irmc/test_inspect.py', 'ironic/tests/unit/dhcp/test_neutron.py', 'ironic/tests/unit/drivers/modules/drac/test_job.py', 'ironic/tests/unit/drivers/modules/irmc/test_power.py', 'ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/tests/unit/drivers/modules/drac/test_bios.py', 'ironic/tests/unit/common/test_neutron.py', 'ironic/tests/unit/drivers/modules/cimc/test_common.py', 'ironic/tests/unit/conductor/mgr_utils.py', 'ironic/tests/unit/drivers/modules/network/test_flat.py', 'ironic/tests/unit/drivers/modules/test_snmp.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/tests/unit/drivers/modules/storage/test_cinder.py', 'ironic/tests/unit/drivers/modules/ucs/test_helper.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/drivers/modules/ucs/test_power.py', 'ironic/tests/unit/drivers/modules/network/test_noop.py', 'ironic/tests/unit/common/test_cinder.py', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py', 'ironic/tests/unit/common/test_pxe_utils.py']",34,86a5a1698fdfd70610cfbe8fa067f5fa377b3e43,hw-types,,"from ironic.tests.unit.conductor import mgr_utils mgr_utils.mock_the_extension_manager(driver=""fake"")",49,105
openstack%2Fnetworking-midonet~master~I99e9f5d6041f7d513f58d0381b099539786f197c,openstack/networking-midonet,master,I99e9f5d6041f7d513f58d0381b099539786f197c,add docstring,ABANDONED,2018-05-14 07:45:03.000000000,2018-05-17 04:25:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-14 07:45:03.000000000', 'files': ['midonet/neutron/db/l3_db_midonet.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/17d1e2887c024df02ed446e99d756f9e60b96b98', 'message': 'add docstring\n\nChange-Id: I99e9f5d6041f7d513f58d0381b099539786f197c\n'}]",0,568217,17d1e2887c024df02ed446e99d756f9e60b96b98,3,1,1,6854,,,0,"add docstring

Change-Id: I99e9f5d6041f7d513f58d0381b099539786f197c
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/17/568217/1 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/db/l3_db_midonet.py'],1,17d1e2887c024df02ed446e99d756f9e60b96b98,tox-siblings," """"""Find a router to handle the floating-ip association. :param internal_port: The port for the fixed-ip. :param internal_subnet: The subnet for the fixed-ip. :param external_network_id: The external network for floating-ip. :raises: ExternalGatewayForFloatingIPNotFound if no suitable router is found. """"""",,9,0
openstack%2Fnetworking-midonet~master~I907c890e3f3665ddc39edf618572147a79544724,openstack/networking-midonet,master,I907c890e3f3665ddc39edf618572147a79544724,tweak comment,ABANDONED,2018-05-14 05:05:23.000000000,2018-05-17 04:25:17.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 05:05:23.000000000', 'files': ['midonet/neutron/db/l3_db_midonet.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/8705ce6ee75348f796f54c110b15e2bc6b443d38', 'message': 'tweak comment\n\nChange-Id: I907c890e3f3665ddc39edf618572147a79544724\n'}]",0,568190,8705ce6ee75348f796f54c110b15e2bc6b443d38,4,2,1,6854,,,0,"tweak comment

Change-Id: I907c890e3f3665ddc39edf618572147a79544724
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/90/568190/1 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/db/l3_db_midonet.py'],1,8705ce6ee75348f796f54c110b15e2bc6b443d38,tox-siblings, # REVISIT(yamamoto): These direct manipulation of core-plugin db # resources is not ideal., # REVISIT(yamamoto): These direct manipulation of core-plugin db # resources is not ideal.,2,2
openstack%2Fnetworking-midonet~master~I7fc0ff853dd3dbae28690d08ca5ec4b305141898,openstack/networking-midonet,master,I7fc0ff853dd3dbae28690d08ca5ec4b305141898,tweak indent,ABANDONED,2018-05-14 05:04:02.000000000,2018-05-17 04:25:11.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 05:04:02.000000000', 'files': ['midonet/neutron/db/l3_db_midonet.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/d2404a526d2902e18986c714e3842b4c4b268d0e', 'message': 'tweak indent\n\nChange-Id: I7fc0ff853dd3dbae28690d08ca5ec4b305141898\n'}]",0,568189,d2404a526d2902e18986c714e3842b4c4b268d0e,4,2,1,6854,,,0,"tweak indent

Change-Id: I7fc0ff853dd3dbae28690d08ca5ec4b305141898
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/89/568189/1 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/db/l3_db_midonet.py'],1,d2404a526d2902e18986c714e3842b4c4b268d0e,tox-siblings," def get_router_for_floatingip(self, context, internal_port, internal_subnet, external_network_id):"," def get_router_for_floatingip( self, context, internal_port, internal_subnet, external_network_id):",2,3
openstack%2Frequirements~master~I046600efdb701f4d3f416861d05f6b803126aad2,openstack/requirements,master,I046600efdb701f4d3f416861d05f6b803126aad2,update constraint for oslo.vmware to new release 2.29.0,MERGED,2018-05-15 04:29:11.000000000,2018-05-17 04:24:27.000000000,2018-05-17 04:24:27.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-05-15 04:29:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/49b1ae4f7859f09e47625e7594076e415e7744f2', 'message': 'update constraint for oslo.vmware to new release 2.29.0\n\nChange-Id: I046600efdb701f4d3f416861d05f6b803126aad2\nmeta:version: 2.29.0\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I1ad8057682e860d2f3b5b037c7f1b63e86bed9be\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,568440,49b1ae4f7859f09e47625e7594076e415e7744f2,11,5,1,11131,,,0,"update constraint for oslo.vmware to new release 2.29.0

Change-Id: I046600efdb701f4d3f416861d05f6b803126aad2
meta:version: 2.29.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I1ad8057682e860d2f3b5b037c7f1b63e86bed9be
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/40/568440/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,49b1ae4f7859f09e47625e7594076e415e7744f2,new-release,oslo.vmware===2.29.0,oslo.vmware===2.28.0,1,1
openstack%2Frequirements~master~I882f923b4cdcd08a0100dab463d792d4ab21b28b,openstack/requirements,master,I882f923b4cdcd08a0100dab463d792d4ab21b28b,update constraint for python-mistralclient to new release 3.5.0,MERGED,2018-05-15 15:37:40.000000000,2018-05-17 04:24:26.000000000,2018-05-17 04:24:26.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-05-15 15:37:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/009855935cf3e03eadd8bbf13d6ba3f4502a715f', 'message': 'update constraint for python-mistralclient to new release 3.5.0\n\nChange-Id: I882f923b4cdcd08a0100dab463d792d4ab21b28b\nmeta:version: 3.5.0\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Adriano Petrich <apetrich@redhat.com>\nmeta:release:Commit: Adriano Petrich <apetrich@redhat.com>\nmeta:release:Change-Id: Ie697906bed91c742650b83788ab5877317e85f6e\nmeta:release:Code-Review+1: Dougal Matthews <dougal@redhat.com>\nmeta:release:Code-Review+1: Tovin Seven <vinhnt@vn.fujitsu.com>\nmeta:release:Code-Review+1: Andras Kovi <akovi@nokia.com>\nmeta:release:Code-Review+1: Nguyen Hai <nguyentrihai93@gmail.com>\nmeta:release:Code-Review+1: Ryan Brady <rbrady@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,568624,009855935cf3e03eadd8bbf13d6ba3f4502a715f,9,5,1,11131,,,0,"update constraint for python-mistralclient to new release 3.5.0

Change-Id: I882f923b4cdcd08a0100dab463d792d4ab21b28b
meta:version: 3.5.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Adriano Petrich <apetrich@redhat.com>
meta:release:Commit: Adriano Petrich <apetrich@redhat.com>
meta:release:Change-Id: Ie697906bed91c742650b83788ab5877317e85f6e
meta:release:Code-Review+1: Dougal Matthews <dougal@redhat.com>
meta:release:Code-Review+1: Tovin Seven <vinhnt@vn.fujitsu.com>
meta:release:Code-Review+1: Andras Kovi <akovi@nokia.com>
meta:release:Code-Review+1: Nguyen Hai <nguyentrihai93@gmail.com>
meta:release:Code-Review+1: Ryan Brady <rbrady@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/568624/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,009855935cf3e03eadd8bbf13d6ba3f4502a715f,new-release,python-mistralclient===3.5.0,python-mistralclient===3.4.0,1,1
openstack%2Fzun~master~Ifdd8804280bc015d93888efc77afecc72ec77cff,openstack/zun,master,Ifdd8804280bc015d93888efc77afecc72ec77cff,Add network-create to server side,MERGED,2018-04-27 15:09:51.000000000,2018-05-17 03:47:50.000000000,2018-05-17 03:47:49.000000000,"[{'_account_id': 11536}, {'_account_id': 17130}, {'_account_id': 21428}, {'_account_id': 21690}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 25571}, {'_account_id': 25587}, {'_account_id': 25695}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-04-27 15:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/707004312a212744ab58108871301046f0b39c41', 'message': '[WIP] Add network-cretae to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 2, 'created': '2018-04-28 08:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/dc75093d6a6e4934ea2348376f65cd97a56d613d', 'message': '[WIP] Add network-cretae to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 3, 'created': '2018-05-03 06:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/bb9d0f202e0d1659dfc4e37a19b9be3258bc7207', 'message': '[WIP] Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 4, 'created': '2018-05-07 10:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ba4a616ebc195ed236eb0523c05bc2d8c258b0ce', 'message': '[WIP] Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 5, 'created': '2018-05-08 16:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9c9ff8b4a86675b286d0629e3af351f4a329654a', 'message': '[WIP] Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 6, 'created': '2018-05-09 07:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/00fdb9a3cc66303c09fa54aadc192c502fc62933', 'message': '[WIP] Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 7, 'created': '2018-05-09 09:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/98b2956f34a15bbe6516a07f2555782397c4cc5e', 'message': 'Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 8, 'created': '2018-05-10 02:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/cd4b5f9c8c270d4863bd93c529c68703831a21ce', 'message': 'Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 9, 'created': '2018-05-10 07:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/17f0c1402c58359dbe29ddca9c5b3f777817a4a7', 'message': 'Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 10, 'created': '2018-05-11 13:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/5eae22df74e078e2385c587f82344f21c6f3ab28', 'message': 'Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 11, 'created': '2018-05-14 04:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/8ecb74a4331b3fe765cc13cd6484e9e7418f1827', 'message': 'Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 12, 'created': '2018-05-14 06:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f75c14bce746b045de7558a4e6c3da582e453d5e', 'message': 'Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 13, 'created': '2018-05-14 07:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f803f8cf227189c5cf20a754c4a821e740cf449e', 'message': 'Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 14, 'created': '2018-05-14 08:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/4985900d6f1afabd51797081b989ba64a99e4560', 'message': 'Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 15, 'created': '2018-05-14 09:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e857894a2bf20a538f4a86a907cc4368ebece63d', 'message': 'Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 16, 'created': '2018-05-15 02:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/21091356fed872b305f60e6675dd208f00acbfc6', 'message': 'Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 17, 'created': '2018-05-15 03:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/4c5364eb668d99a6dad8e995d4cb5798645be0d1', 'message': 'Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}, {'number': 18, 'created': '2018-05-15 15:47:48.000000000', 'files': ['zun/objects/network.py', 'zun/tests/unit/db/utils.py', 'zun/compute/api.py', 'zun/common/policies/network.py', 'zun/container/driver.py', 'zun/tests/unit/objects/test_network.py', 'zun/tests/unit/objects/test_objects.py', 'zun/api/controllers/v1/views/network_view.py', 'zun/compute/rpcapi.py', 'zun/api/controllers/v1/__init__.py', 'zun/tests/unit/api/controllers/test_root.py', 'zun/compute/manager.py', 'zun/db/sqlalchemy/alembic/versions/3298c6a5c3d9_create_network_table.py', 'zun/db/api.py', 'zun/tests/unit/compute/test_compute_manager.py', 'zun/objects/__init__.py', 'zun/db/sqlalchemy/api.py', 'zun/tests/unit/api/controllers/v1/test_networks.py', 'zun/api/controllers/v1/networks.py', 'zun/tests/unit/compute/test_compute_api.py', 'zun/db/sqlalchemy/models.py', 'zun/api/validation/parameter_types.py', 'zun/container/docker/driver.py', 'zun/api/controllers/v1/schemas/network.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/5a43580a702adc7a1425e06f7a463138d56929aa', 'message': 'Add network-create to server side\n\nAdd network-create to server side, so that zun have the ability to\nmange the network based on the kuryr driver.\n\nChange-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff\n'}]",73,564800,5a43580a702adc7a1425e06f7a463138d56929aa,75,11,18,27577,,,0,"Add network-create to server side

Add network-create to server side, so that zun have the ability to
mange the network based on the kuryr driver.

Change-Id: Ifdd8804280bc015d93888efc77afecc72ec77cff
",git fetch https://review.opendev.org/openstack/zun refs/changes/00/564800/13 && git format-patch -1 --stdout FETCH_HEAD,"['zun/api/controllers/v1/views/network_view.py', 'zun/api/controllers/v1/network.py', 'zun/api/controllers/v1/__init__.py', 'zun/api/validation/parameter_types.py', 'zun/api/controllers/v1/schemas/network.py']",5,707004312a212744ab58108871301046f0b39c41,network-create,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from zun.api.validation import parameter_types _network_properties = { 'neutron_net': parameter_types.network_id, 'name': parameter_types.network_name } network_create = { 'type': 'object', 'properties': _network_properties, 'required': ['name'], 'additionalProperties': False } ",,159,0
openstack%2Fheat~master~I393158a2fac6d4399a7dde6a0f2e482751359072,openstack/heat,master,I393158a2fac6d4399a7dde6a0f2e482751359072,Download octavia image in tests,MERGED,2018-05-09 14:24:33.000000000,2018-05-17 03:24:16.000000000,2018-05-16 17:14:22.000000000,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-09 14:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7aae52da67521c5c66a807f9ef876acda442b4ff', 'message': 'Download octavia image in tests\n\nInstead of rebuilding one.\n\nChange-Id: I393158a2fac6d4399a7dde6a0f2e482751359072\n'}, {'number': 2, 'created': '2018-05-09 20:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/22462dc0a419c576d5315f2b7d7ff0be010e0f0b', 'message': 'Download octavia image in tests\n\nInstead of rebuilding one.\n\nChange-Id: I393158a2fac6d4399a7dde6a0f2e482751359072\n'}, {'number': 3, 'created': '2018-05-11 08:44:13.000000000', 'files': ['playbooks/devstack/functional/run.yaml', '.zuul.yaml', 'playbooks/get_amphora_tarball.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/84bb0a0fe670a42a239030258ebd43877e5d5b04', 'message': 'Download octavia image in tests\n\nInstead of rebuilding one.\n\nChange-Id: I393158a2fac6d4399a7dde6a0f2e482751359072\n'}]",1,567238,84bb0a0fe670a42a239030258ebd43877e5d5b04,24,4,3,7385,,,0,"Download octavia image in tests

Instead of rebuilding one.

Change-Id: I393158a2fac6d4399a7dde6a0f2e482751359072
",git fetch https://review.opendev.org/openstack/heat refs/changes/38/567238/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/get_amphora_tarball.yaml']",2,7aae52da67521c5c66a807f9ef876acda442b4ff,octavia-image,"- hosts: controller tasks: - name: Download amphora tarball get_url: url: ""https://tarballs.openstack.org/octavia/test-images/test-only-amphora-x64-haproxy-ubuntu-xenial.qcow2"" dest: /tmp/test-only-amphora-x64-haproxy-ubuntu-xenial.qcow2 ",,11,0
openstack%2Ftripleo-common~master~I162cedaf43318c7970bafa672910107a07fad022,openstack/tripleo-common,master,I162cedaf43318c7970bafa672910107a07fad022,"DNM, TESTING 568341",ABANDONED,2018-05-14 22:02:16.000000000,2018-05-17 03:07:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-14 22:02:16.000000000', 'files': ['tripleo_common/actions/deployment.py', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/10e859f3b6568052d7f38b859fec06e981d58898', 'message': 'DNM, TESTING 568341\n\nDepends-On: I4c276fd628d1ea14195220c89f28873f0889ffba\nChange-Id: I162cedaf43318c7970bafa672910107a07fad022\n'}]",0,568389,10e859f3b6568052d7f38b859fec06e981d58898,4,2,1,9592,,,0,"DNM, TESTING 568341

Depends-On: I4c276fd628d1ea14195220c89f28873f0889ffba
Change-Id: I162cedaf43318c7970bafa672910107a07fad022
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/89/568389/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/deployment.py', 'container-images/overcloud_containers.yaml.j2']",2,10e859f3b6568052d7f38b859fec06e981d58898,,# TEST CHANGE DO NOT MERGE,,2,0
openstack%2Fironic~master~Ic6b80829efa4ba99cd0086f96d196f132bd86222,openstack/ironic,master,Ic6b80829efa4ba99cd0086f96d196f132bd86222,Add reno for new config [disk_utils]partprobe_attempts,MERGED,2018-04-09 16:09:43.000000000,2018-05-17 02:35:47.000000000,2018-05-17 02:35:47.000000000,"[{'_account_id': 6618}, {'_account_id': 11655}, {'_account_id': 13689}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-09 16:09:43.000000000', 'files': ['releasenotes/notes/partprobe-retries-e69e9d20f3a3c2d3.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/645c5fc361d4cae26febec87e812eeadb1b8615c', 'message': 'Add reno for new config [disk_utils]partprobe_attempts\n\nThis adds a release note for the new configuration option from the\nironic_libs library: [disk_utils]partprobe_attempts.\n\nChange-Id: Ic6b80829efa4ba99cd0086f96d196f132bd86222\nStory: 1756760\nTask: 11100\n'}]",0,559779,645c5fc361d4cae26febec87e812eeadb1b8615c,13,5,1,6618,,,0,"Add reno for new config [disk_utils]partprobe_attempts

This adds a release note for the new configuration option from the
ironic_libs library: [disk_utils]partprobe_attempts.

Change-Id: Ic6b80829efa4ba99cd0086f96d196f132bd86222
Story: 1756760
Task: 11100
",git fetch https://review.opendev.org/openstack/ironic refs/changes/79/559779/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/partprobe-retries-e69e9d20f3a3c2d3.yaml'],1,645c5fc361d4cae26febec87e812eeadb1b8615c,partprobe-reno,"--- upgrade: - | Adds a new configuration option ``[disk_utils]partprobe_attempts`` which defaults to 10. This is the maximum number of times to try to read a partition (if creating a config drive) via a ``partprobe`` command. Set it to 1 if you want the previous behavior, where no retries were done. fixes: - | Adds a new configuration option ``[disk_utils]partprobe_attempts`` which defaults to 10. This is the maximum number of times to try to read a partition (if creating a config drive) via a ``partprobe`` command. Previously, no retries were done which caused failures. This addresses `bug 1756760 <https://storyboard.openstack.org/#!/story/1756760>`_. ",,14,0
openstack%2Fkeystonemiddleware~master~Ifb45a2ad8dedb88bc60c266bc4704999086111b0,openstack/keystonemiddleware,master,Ifb45a2ad8dedb88bc60c266bc4704999086111b0,Trivial: Update pypi url to new url,ABANDONED,2018-05-15 02:31:26.000000000,2018-05-17 02:34:16.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 02:31:26.000000000', 'files': ['README.rst', 'doc/source/middlewarearchitecture.rst'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/e3e6c86af2bc8f345b46a4e79a135f28a0b88bcd', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: Ifb45a2ad8dedb88bc60c266bc4704999086111b0\n'}]",0,568413,e3e6c86af2bc8f345b46a4e79a135f28a0b88bcd,4,2,1,25073,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: Ifb45a2ad8dedb88bc60c266bc4704999086111b0
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/13/568413/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'doc/source/middlewarearchitecture.rst']",2,e3e6c86af2bc8f345b46a4e79a135f28a0b88bcd,updata-pypi-url,.. _`python-memcached`: https://pypi.org/project/python-memcached/ .. _`pycrypto`: https://pypi.org/project/pycrypto/,.. _`python-memcached`: https://pypi.python.org/pypi/python-memcached .. _`pycrypto`: https://pypi.python.org/pypi/pycrypto,4,4
openstack%2Fqinling~master~I3201670d970dbe1aa873eba61ef1ff322f2c6c66,openstack/qinling,master,I3201670d970dbe1aa873eba61ef1ff322f2c6c66,Improve the quick start guide a little bit,MERGED,2018-05-16 07:02:00.000000000,2018-05-17 02:23:07.000000000,2018-05-17 02:23:07.000000000,"[{'_account_id': 9725}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 07:02:00.000000000', 'files': ['doc/source/quick_start.rst'], 'web_link': 'https://opendev.org/openstack/qinling/commit/4a27a7a8aff635718608b3d043c06bb3c92c8900', 'message': 'Improve the quick start guide a little bit\n\nStory: 2001577\nTask: 19686\nChange-Id: I3201670d970dbe1aa873eba61ef1ff322f2c6c66\n'}]",0,568765,4a27a7a8aff635718608b3d043c06bb3c92c8900,7,3,1,6732,,,0,"Improve the quick start guide a little bit

Story: 2001577
Task: 19686
Change-Id: I3201670d970dbe1aa873eba61ef1ff322f2c6c66
",git fetch https://review.opendev.org/openstack/qinling refs/changes/65/568765/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/quick_start.rst'],1,4a27a7a8aff635718608b3d043c06bb3c92c8900,fix-get-start-guide,"in the following steps. #. (Optional) Prepare a docker image for a specific programming language. For your convenience, there is a pre-built image ``openstackqinling/python-runtime`` that you could directly use to create a Python runtime in Qinling. Refer to the `image creation guide <https://docs.openstack.org/qinling/latest/admin/runtime.html>`_ for how to build your own runtime images to be used in Qinling. #. Create Python runtime using admin credential. ``Runtime`` in Qinling is the environment in which the function is actually running, ``runtime`` is supposed to be created/deleted/updated only by cloud operator. After creation, check the runtime status until it's ``available`` before invoking any functions: $ cd $DEVSTACK_DIR && source openrc admin admin ""description"": null, ""status"": ""creating"", ""updated_at"": null $ cd $DEVSTACK_DIR && source openrc admin admin Record the runtime ID for the function invocation later on. #. Create a customized Python function package: import requests def main(*args, **kwargs): r = requests.get('https://api.github.com/events') return len(r.json()) if __name__ == '__main__': main() EOF $ cd ~/qinling_test && zip -r ~/qinling_test/github_test.zip ./*#. Create function: $ cd $DEVSTACK_DIR && source openrc demo demo $ runtime_id=601efeb8-3e41-4e5c-a12a-986dbda252e3 runtime_id=$runtime_id \ --runtime $runtime_id \ ""result"": ""{\""duration\"": 1.299, \""output\"": 30}"", $ openstack function execution create c9195311-9aa7-4748-bd4b-1b0f9c28d858 | result | {""duration"": 1.483, ""output"": 30} |Now, you have defined your first Qinling function and have it invoked on-demand. Have fun with Qinling!","during the steps. #. (Optional) Prepare a docker image including development environment for a specific programming language. For your convenience, there is a pre-built image ``openstackqinling/python-runtime`` that you could directly use to create runtime in Qinling. Only ``Python 2`` runtime is supported for now, but it is very easy to add another program language support. If you indeed want to build a new image, run the following commands in ``qinling`` repo directory, replace ``DOCKER_USER`` with your own docker hub username: .. code-block:: console $ cd /opt/stack/qinling/runtimes/python2 $ docker build -t DOCKER_USER/python-runtime . $ docker push DOCKER_USER/python-runtime .. end #. Create python runtime using admin user. ``runtime`` in Qinling is running environment for a specific language, this resource is supposed to be created/deleted/updated only by cloud operator. After creation, check the runtime status until it's ``available`` before invoking any functions: $ cd $DEVSTACK_DIR $ source openrc admin admin ""status"": ""creating"" $ cd $DEVSTACK_DIR $ source openrc admin admin#. Create a customized function package: import requests def main(*args, **kwargs): r = requests.get('https://api.github.com/events') return len(r.json()) if __name__ == '__main__': main() EOF $ cd ~/qinling_test $ zip -r ~/qinling_test/github_test.zip ./*#. Create function, ``runtime_id`` comes from the output of the above command: $ cd $DEVSTACK_DIR $ source openrc demo demo runtime_id=601efeb8-3e41-4e5c-a12a-986dbda252e3 \ --code-type package \ --runtime 601efeb8-3e41-4e5c-a12a-986dbda252e3 \ ""output"": ""{\""duration\"": 1.299, \""output\"": 30}"", $ openstack function execution create c9195311-9aa7-4748-bd4b-1b0f9c28d858 --sync | output | {""duration"": 1.483, ""output"": 30} |Now, you have defined your first function and invoked it. Have fun with Qinling!",38,47
openstack%2Fmistral~master~Ifb6e8fd33cca8ac56f6e25ddf0b1032de0f66fe1,openstack/mistral,master,Ifb6e8fd33cca8ac56f6e25ddf0b1032de0f66fe1,"Update the decorator which named ""session_aware""",ABANDONED,2018-04-27 06:31:42.000000000,2018-05-17 01:56:26.000000000,,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 25167}]","[{'number': 1, 'created': '2018-04-27 06:31:42.000000000', 'files': ['mistral/db/sqlalchemy/base.py', 'mistral/db/v2/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/d64ae65e1cd0c2b74924c353ade4efafa149008f', 'message': 'Update the decorator which named ""session_aware""\n\nWhether the function requires session, the decorator named session_aware\nalways pass session to the function. So we need this change.\n\nChange-Id: Ifb6e8fd33cca8ac56f6e25ddf0b1032de0f66fe1\nSigned-off-by: pengdake <19921207pq@gmail.com>\n'}]",0,564683,d64ae65e1cd0c2b74924c353ade4efafa149008f,5,3,1,25167,,,0,"Update the decorator which named ""session_aware""

Whether the function requires session, the decorator named session_aware
always pass session to the function. So we need this change.

Change-Id: Ifb6e8fd33cca8ac56f6e25ddf0b1032de0f66fe1
Signed-off-by: pengdake <19921207pq@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/83/564683/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/db/sqlalchemy/base.py', 'mistral/db/v2/sqlalchemy/api.py']",2,d64ae65e1cd0c2b74924c353ade4efafa149008f,change-decorator,"@b.session_aware(param_name=""session"")@b.session_aware(param_name=""session"")@b.session_aware(param_name=""session"")def get_workbook(name):def load_workbook(name):def get_workbooks(**kwargs):@b.session_aware(param_name=""session"")def update_workbook(name, values):def create_or_update_workbook(name, values):def delete_workbook(name):def delete_workbooks(**kwargs):def get_workflow_definition(identifier, namespace=''):def get_workflow_definition_by_id(id):def load_workflow_definition(name, namespace=''):def get_workflow_definitions(fields=None, **kwargs):@b.session_aware(param_name=""session"")def update_workflow_definition(identifier, values, namespace=''):def create_or_update_workflow_definition(name, values):@b.session_aware(param_name=""session"")def delete_workflow_definitions(**kwargs):def get_action_definition_by_id(id):def get_action_definition(identifier):def load_action_definition(name):def get_action_definitions(**kwargs):@b.session_aware(param_name=""session"")def update_action_definition(identifier, values):def create_or_update_action_definition(name, values):@b.session_aware(param_name=""session"")def delete_action_definitions(**kwargs):def get_action_execution(id):def load_action_execution(id):def get_action_executions(**kwargs):@b.session_aware(param_name=""session"")def update_action_execution(id, values):def create_or_update_action_execution(id, values):def delete_action_execution(id):def delete_action_executions(**kwargs):def get_workflow_execution(id):def load_workflow_execution(id):def get_workflow_executions(**kwargs):@b.session_aware(param_name=""session"")def update_workflow_execution(id, values):def create_or_update_workflow_execution(id, values):def delete_workflow_execution(id):def delete_workflow_executions(**kwargs):def get_task_execution(id):def load_task_execution(id):def get_task_executions(**kwargs):def get_completed_task_executions(**kwargs):def get_completed_task_executions_as_batches(**kwargs):def get_incomplete_task_executions(**kwargs):def get_incomplete_task_executions_count(**kwargs):@b.session_aware(param_name=""session"")def update_task_execution(id, values):def create_or_update_task_execution(id, values):def delete_task_execution(id):def delete_task_executions(**kwargs):@b.session_aware(param_name=""session"")def delete_delayed_call(id):def get_delayed_calls_to_start(time, batch_size=None):@b.session_aware(param_name=""session"")def get_delayed_call(id):def get_delayed_calls(**kwargs):def delete_delayed_calls(**kwargs):def get_expired_executions(expiration_time, limit=None, columns=()):def get_superfluous_executions(max_finished_executions, limit=None, columns=()):def get_cron_trigger(identifier):def get_cron_trigger_by_id(id):def load_cron_trigger(identifier):def get_cron_triggers(**kwargs):def get_next_cron_triggers(time):@b.session_aware(param_name=""session"")@b.session_aware(param_name=""session"")def create_or_update_cron_trigger(identifier, values):@b.session_aware(param_name=""session"")def delete_cron_triggers(**kwargs):def get_environment(name):def load_environment(name):def get_environments(**kwargs):@b.session_aware(param_name=""session"")def update_environment(name, values):def create_or_update_environment(name, values):def delete_environment(name):def delete_environments(**kwargs):@b.session_aware(param_name=""session"")def get_resource_member(resource_id, res_type, member_id):def get_resource_members(resource_id, res_type):def update_resource_member(resource_id, res_type, member_id, values):def delete_resource_member(resource_id, res_type, member_id):def delete_resource_members(**kwargs):def get_event_trigger(id, insecure=False):def load_event_trigger(id, insecure=False):def get_event_triggers(**kwargs):@b.session_aware(param_name=""session"")def update_event_trigger(id, values):def delete_event_trigger(id):def delete_event_triggers(**kwargs):@b.session_aware(param_name=""session"")def get_named_locks(**kwargs):@b.session_aware(param_name=""session"")","@b.session_aware()@b.session_aware()@b.session_aware()def get_workbook(name, session=None):def load_workbook(name, session=None):def get_workbooks(session=None, **kwargs):@b.session_aware()def update_workbook(name, values, session=None):def create_or_update_workbook(name, values, session=None):def delete_workbook(name, session=None):def delete_workbooks(session=None, **kwargs):def get_workflow_definition(identifier, namespace='', session=None):def get_workflow_definition_by_id(id, session=None):def load_workflow_definition(name, namespace='', session=None):def get_workflow_definitions(fields=None, session=None, **kwargs):@b.session_aware()def update_workflow_definition(identifier, values, namespace='', session=None):def create_or_update_workflow_definition(name, values, session=None):@b.session_aware()def delete_workflow_definitions(session=None, **kwargs):def get_action_definition_by_id(id, session=None):def get_action_definition(identifier, session=None):def load_action_definition(name, session=None):def get_action_definitions(session=None, **kwargs):@b.session_aware()def update_action_definition(identifier, values, session=None):def create_or_update_action_definition(name, values, session=None):@b.session_aware()def delete_action_definitions(session=None, **kwargs):def get_action_execution(id, session=None):def load_action_execution(id, session=None):def get_action_executions(session=None, **kwargs):@b.session_aware()def update_action_execution(id, values, session=None):def create_or_update_action_execution(id, values, session=None):def delete_action_execution(id, session=None):def delete_action_executions(session=None, **kwargs):def get_workflow_execution(id, session=None):def load_workflow_execution(id, session=None):def get_workflow_executions(session=None, **kwargs):@b.session_aware()def update_workflow_execution(id, values, session=None):def create_or_update_workflow_execution(id, values, session=None):def delete_workflow_execution(id, session=None):def delete_workflow_executions(session=None, **kwargs):def get_task_execution(id, session=None):def load_task_execution(id, session=None):def get_task_executions(session=None, **kwargs):def get_completed_task_executions(session=None, **kwargs):def get_completed_task_executions_as_batches(session=None, **kwargs):def get_incomplete_task_executions(session=None, **kwargs):def get_incomplete_task_executions_count(session=None, **kwargs):@b.session_aware()def update_task_execution(id, values, session=None):def create_or_update_task_execution(id, values, session=None):def delete_task_execution(id, session=None):def delete_task_executions(session=None, **kwargs):@b.session_aware()def delete_delayed_call(id, session=None):def get_delayed_calls_to_start(time, batch_size=None, session=None):@b.session_aware()def get_delayed_call(id, session=None):def get_delayed_calls(session=None, **kwargs):def delete_delayed_calls(session=None, **kwargs):def get_expired_executions(expiration_time, limit=None, columns=(), session=None):def get_superfluous_executions(max_finished_executions, limit=None, columns=(), session=None):def get_cron_trigger(identifier, session=None):def get_cron_trigger_by_id(id, session=None):def load_cron_trigger(identifier, session=None):def get_cron_triggers(session=None, **kwargs):def get_next_cron_triggers(time, session=None):@b.session_aware()@b.session_aware()def create_or_update_cron_trigger(identifier, values, session=None):@b.session_aware()def delete_cron_triggers(session=None, **kwargs):def get_environment(name, session=None):def load_environment(name, session=None):def get_environments(session=None, **kwargs):@b.session_aware()def update_environment(name, values, session=None):def create_or_update_environment(name, values, session=None):def delete_environment(name, session=None):def delete_environments(session=None, **kwargs):@b.session_aware()def get_resource_member(resource_id, res_type, member_id, session=None):def get_resource_members(resource_id, res_type, session=None):def update_resource_member(resource_id, res_type, member_id, values, session=None):def delete_resource_member(resource_id, res_type, member_id, session=None):def delete_resource_members(session=None, **kwargs):def get_event_trigger(id, insecure=False, session=None):def load_event_trigger(id, insecure=False, session=None):def get_event_triggers(session=None, **kwargs):@b.session_aware()def update_event_trigger(id, values, session=None):def delete_event_trigger(id, session=None):def delete_event_triggers(session=None, **kwargs):@b.session_aware()def get_named_locks(session=None, **kwargs):@b.session_aware()",107,108
openstack%2Fopenstack-ansible-lxc_hosts~master~Idc217ee0d4409360c0763779acadf21d39206ff7,openstack/openstack-ansible-lxc_hosts,master,Idc217ee0d4409360c0763779acadf21d39206ff7,Trivial: Fix the pep8 warning,MERGED,2018-05-08 09:35:01.000000000,2018-05-17 01:51:31.000000000,2018-05-17 01:51:31.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25284}]","[{'number': 1, 'created': '2018-05-08 09:35:01.000000000', 'files': ['tasks/lxc_install_dnf.yml', 'tests/ansible-role-requirements.yml', 'examples/playbook.yml', 'tasks/lxc_apparmor.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/cf847ca8da943518fad3730789442f48066635d7', 'message': 'Trivial: Fix the pep8 warning\n\nThe yaml should start with ""---""\n\nChange-Id: Idc217ee0d4409360c0763779acadf21d39206ff7\n'}]",0,566836,cf847ca8da943518fad3730789442f48066635d7,18,3,1,25284,,,0,"Trivial: Fix the pep8 warning

The yaml should start with ""---""

Change-Id: Idc217ee0d4409360c0763779acadf21d39206ff7
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/36/566836/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_install_dnf.yml', 'tests/ansible-role-requirements.yml', 'examples/playbook.yml', 'tasks/lxc_apparmor.yml', 'zuul.d/project.yaml']",5,cf847ca8da943518fad3730789442f48066635d7,,---,,5,0
openstack%2Fnova~master~I27518d1154ec09c57700905bc58ae6a3ce1d8049,openstack/nova,master,I27518d1154ec09c57700905bc58ae6a3ce1d8049,Remove deprecated monkey_patch config options,MERGED,2018-05-16 15:29:24.000000000,2018-05-17 01:31:00.000000000,2018-05-16 22:38:09.000000000,"[{'_account_id': 679}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-16 15:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b9d4ffaf5e75648569952be3e987689c375373b', 'message': 'Remove deprecated monkey_patch config options\n\nThese were deprecated in Queens:\n\n  Id793ac2c5cdc5dc473f95eac53b77617a1e389da\n\nAnd can now be removed.\n\nChange-Id: I27518d1154ec09c57700905bc58ae6a3ce1d8049\n'}, {'number': 2, 'created': '2018-05-16 15:40:57.000000000', 'files': ['nova/conf/notifications.py', 'nova/cmd/api_metadata.py', 'nova/notifications/__init__.py', 'nova/api/openstack/wsgi_app.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/test_utils.py', 'nova/cmd/scheduler.py', 'nova/tests/unit/monkey_patch_example/__init__.py', 'nova/tests/unit/monkey_patch_example/example_b.py', 'nova/tests/unit/monkey_patch_example/example_a.py', 'nova/cmd/conductor.py', 'nova/notifications/base.py', 'tools/xenserver/destroy_cached_images.py', 'releasenotes/notes/remove-monkey-patch-conf-220ea611d4ff348e.yaml', 'nova/conf/base.py', 'nova/tests/unit/cmd/test_cmd_db_blocks.py', 'nova/cmd/cells.py', 'nova/cmd/api_os_compute.py', 'nova/utils.py', 'nova/cmd/api.py', 'nova/cmd/compute.py', 'nova/cmd/network.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9f48aee9b0ea68f7c8eba6a1f3d076e4194d804d', 'message': 'Remove deprecated monkey_patch config options\n\nThese were deprecated in Queens:\n\n  Id793ac2c5cdc5dc473f95eac53b77617a1e389da\n\nAnd can now be removed.\n\nChange-Id: I27518d1154ec09c57700905bc58ae6a3ce1d8049\n'}]",4,568880,9f48aee9b0ea68f7c8eba6a1f3d076e4194d804d,23,12,2,6873,,,0,"Remove deprecated monkey_patch config options

These were deprecated in Queens:

  Id793ac2c5cdc5dc473f95eac53b77617a1e389da

And can now be removed.

Change-Id: I27518d1154ec09c57700905bc58ae6a3ce1d8049
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/568880/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/notifications.py', 'nova/cmd/api_metadata.py', 'nova/notifications/__init__.py', 'nova/api/openstack/wsgi_app.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/test_utils.py', 'nova/cmd/scheduler.py', 'nova/tests/unit/monkey_patch_example/__init__.py', 'nova/tests/unit/monkey_patch_example/example_b.py', 'nova/tests/unit/monkey_patch_example/example_a.py', 'nova/cmd/conductor.py', 'nova/notifications/base.py', 'tools/xenserver/destroy_cached_images.py', 'releasenotes/notes/remove-monkey-patch-conf-220ea611d4ff348e.yaml', 'nova/conf/base.py', 'nova/tests/unit/cmd/test_cmd_db_blocks.py', 'nova/cmd/cells.py', 'nova/cmd/api_os_compute.py', 'nova/utils.py', 'nova/cmd/api.py', 'nova/cmd/compute.py', 'nova/cmd/network.py']",22,8b9d4ffaf5e75648569952be3e987689c375373b,rm-monkey-patch-conf-options,,from nova import utils utils.monkey_patch(),15,350
openstack%2Ftripleo-common~stable%2Fpike~I4905c35fcd45ef0fe1845857020c7e1a44c8c3d6,openstack/tripleo-common,stable/pike,I4905c35fcd45ef0fe1845857020c7e1a44c8c3d6,Script to update RPM's in containers.,MERGED,2018-05-13 20:41:10.000000000,2018-05-17 01:26:19.000000000,2018-05-17 01:26:19.000000000,"[{'_account_id': 2011}, {'_account_id': 4571}, {'_account_id': 8871}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-13 20:41:10.000000000', 'files': ['scripts/container-update.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/340f99e18169457f4ca51b543c62805bf0f08172', 'message': ""Script to update RPM's in containers.\n\nThis script was living in a github repo and is used during the CI\njob.  Moving it here so more people can review it.\n\nThis updates the RPM's in a container without having to rebuild\nthe whole thing.\n\nChange-Id: I4905c35fcd45ef0fe1845857020c7e1a44c8c3d6\n(cherry picked from commit deb8480163254edf6497ad6149be25c94d1db36f)\n""}]",0,568151,340f99e18169457f4ca51b543c62805bf0f08172,19,7,1,10969,,,0,"Script to update RPM's in containers.

This script was living in a github repo and is used during the CI
job.  Moving it here so more people can review it.

This updates the RPM's in a container without having to rebuild
the whole thing.

Change-Id: I4905c35fcd45ef0fe1845857020c7e1a44c8c3d6
(cherry picked from commit deb8480163254edf6497ad6149be25c94d1db36f)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/51/568151/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/container-update.py'],1,340f99e18169457f4ca51b543c62805bf0f08172,565556-stable/pike,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import logging import multiprocessing import subprocess import sys import yaml import yum log = logging.getLogger() log.setLevel(logging.DEBUG) ch = logging.StreamHandler(sys.stdout) ch.setLevel(logging.DEBUG) formatter = logging.Formatter('%(asctime)s %(levelname)s: %(message)s') ch.setFormatter(formatter) log.addHandler(ch) def parse_opts(argv): parser = argparse.ArgumentParser(""Verify and possibly update rpms in "" ""containers"") parser.add_argument('-c', '--containers', required=True, help=""YAML File containing a list of containers to "" ""inspect."") parser.add_argument('-p', '--process-count', help=""Number of processes to use in the pool when "" ""running docker containers."", default=multiprocessing.cpu_count()) parser.add_argument('-u', '--update', action='store_true', help=""Run yum update in any containers that need "" ""updating."", default=False) opts = parser.parse_args(argv[1:]) return opts def rm_container(name): log.info('Removing container: %s' % name) subproc = subprocess.Popen(['/usr/bin/docker', 'rm', name], stdout=subprocess.PIPE, stderr=subprocess.PIPE) cmd_stdout, cmd_stderr = subproc.communicate() if cmd_stdout: log.debug(cmd_stdout) if cmd_stderr and \ cmd_stderr != 'Error response from daemon: ' \ 'No such container: {}\n'.format(name): log.debug(cmd_stderr) def populate_container_rpms_list((container)): dcmd = ['/usr/bin/docker', 'run', '--user', 'root', '--rm', container] dcmd.extend(['rpm', '-qa']) log.info('Running docker command: %s' % ' '.join(dcmd)) subproc = subprocess.Popen(dcmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) cmd_stdout, cmd_stderr = subproc.communicate() if subproc.returncode != 0: log.error('Failed running rpm -qa for %s' % container) log.error(cmd_stderr) rpms = cmd_stdout.split(""\n"") return (subproc.returncode, container, rpms) def yum_update_container((container, name)): container_name = 'yum-update-%s' % name rm_container(container_name) # Get the command from the original so that when we commit # we can ensure the command doesn't get updated. dcmd = ['/usr/bin/docker', 'inspect', '--format', '{{json .Config.Cmd}}', container] subproc = subprocess.Popen(dcmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) cmd_stdout, cmd_stderr = subproc.communicate() container_cmd = cmd_stdout log.info('Original container command: %s' % container_cmd) dcmd = ['/usr/bin/docker', 'run', '--user', 'root', '--net', 'host', '--volume', '/etc/yum.repos.d:/etc/yum.repos.d', '--volume', '/opt:/opt', '--name', container_name, container] dcmd.extend(['yum', '-y', 'update']) retry_count = 1 while True: log.info('Running docker command: %s' % ' '.join(dcmd)) subproc = subprocess.Popen(dcmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) cmd_stdout, cmd_stderr = subproc.communicate() log.info(cmd_stdout) if subproc.returncode != 0: log.error('Failed running yum update for %s; try number %d' % (container, retry_count)) log.error(cmd_stderr) rm_container(container_name) if retry_count >= 3: log.error('Tried %d times to update %s; giving up.' % (retry_count, container)) return (subproc.returncode, container) else: break retry_count += 1 dcmd = ['/usr/bin/docker', 'commit', '-m', 'automatic yum update', '--change', 'CMD %s' % container_cmd, container_name, container] log.info('Running docker command: %s' % ' '.join(dcmd)) subproc = subprocess.Popen(dcmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) cmd_stdout, cmd_stderr = subproc.communicate() if subproc.returncode != 0: log.error('Failed running docker commit for %s' % container) log.error(cmd_stderr) dcmd = ['/usr/bin/docker', 'push', container] log.info('Running docker command: %s' % ' '.join(dcmd)) subproc = subprocess.Popen(dcmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) cmd_stdout, cmd_stderr = subproc.communicate() if subproc.returncode != 0: log.error('Failed running docker push for %s' % container) log.error(cmd_stderr) rm_container(container_name) return (subproc.returncode, container) def get_available_rpms(): available_rpms = {} yb = yum.YumBase() yb.setCacheDir() pkglist = yb.pkgSack.returnPackages() for pkg in pkglist: # This gives us a string the same as rpm -qa available_rpms[pkg.name + '-' + pkg.vra] = 1 return available_rpms def get_container_list(container_file): with open(container_file) as cf: data = yaml.safe_load(cf.read()).get('container_images') if not data: return None container_list = [] for image_info in data: print('image_info: %s' % image_info) container_list.append(image_info['imagename']) return container_list if __name__ == '__main__': opts = parse_opts(sys.argv) # Get a list of all the docker containers we need to inspect. docker_containers = get_container_list(opts.containers) # Load up available rpms as a hash containing the latest versions of rpms. available_rpms = get_available_rpms() # Holds all the information for each process to consume. # Instead of starting them all linearly we run them using a process # pool. process_map = [] for container in docker_containers: process_map.append(container) # This is what we're after here, a hash keyed by containers, each entry # containing a list of rpms in that container. container_rpms = {} success = True # Fire off processes to perform each rpm list. p = multiprocessing.Pool(int(opts.process_count)) ret = list(p.map(populate_container_rpms_list, process_map)) for returncode, container, rpms in ret: container_rpms[container] = rpms if returncode != 0: log.error('ERROR running rpm query in container: %s' % container) success = False if not success: sys.exit(1) container_update_list = {} for container in container_rpms: for rpm in container_rpms[container]: if len(rpm) > 0 and not rpm.startswith('gpg-pubkey-') and \ rpm not in available_rpms: if container not in container_update_list: container_update_list[container] = [] container_update_list[container].append(rpm) for container in container_update_list: log.info(""Container needs updating: %s"" % container) for rpm in container_update_list[container]: log.info("" rpm: %s"" % rpm) log.info('*** %d of %d containers require updates ***' % (len(container_update_list), len(docker_containers))) # And finally update the containers if required if opts.update: process_map = [] name = 0 for container in container_update_list: process_map.append([container, str(name)]) name += 1 ret = list(p.map(yum_update_container, process_map)) for returncode, container in ret: if returncode != 0: log.error('ERROR running yum update in container %s' % container) success = False if not success: sys.exit(1) ",,253,0
openstack%2Ftripleo-quickstart-extras~master~Ib3532c2161b5681b49ee4b8b19205adeba4510af,openstack/tripleo-quickstart-extras,master,Ib3532c2161b5681b49ee4b8b19205adeba4510af,"Revert ""Add test_autoscaling tests to skip list""",MERGED,2018-05-16 14:26:48.000000000,2018-05-17 01:26:18.000000000,2018-05-17 01:26:18.000000000,"[{'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-16 14:26:48.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c366bad268f118ec01c742f1046680976367a1c9', 'message': 'Revert ""Add test_autoscaling tests to skip list""\n\nThis reverts commit 14314ca3a34edaafaf797a941a6bc87b40079ec9.\n\nChange-Id: Ib3532c2161b5681b49ee4b8b19205adeba4510af\n'}]",0,568860,c366bad268f118ec01c742f1046680976367a1c9,12,9,1,9592,,,0,"Revert ""Add test_autoscaling tests to skip list""

This reverts commit 14314ca3a34edaafaf797a941a6bc87b40079ec9.

Change-Id: Ib3532c2161b5681b49ee4b8b19205adeba4510af
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/60/568860/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_master.yml'],1,c366bad268f118ec01c742f1046680976367a1c9,bug/1771508,, - test: 'telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration.test_autoscaling' reason: 'Telemetry tests fail in scenario-001 and 002 jobs' lp: 'https://bugs.launchpad.net/tripleo/+bug/1771508',0,3
openstack%2Fzun~master~Icfdb87e9b9d1b8b9acb87ea56466bef3e255c6a9,openstack/zun,master,Icfdb87e9b9d1b8b9acb87ea56466bef3e255c6a9,Can not filter down service when schedule,ABANDONED,2018-05-16 14:21:13.000000000,2018-05-17 01:21:30.000000000,,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23829}]","[{'number': 1, 'created': '2018-05-16 14:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f7f7c1df72eff1384183201b819de0815add6b94', 'message': 'Can not filter down service when schedule\n\n    When use ""zun service-force-down"" to down the zun-compute\nservice, it will still can be scheduled for container.\n    It is better to filter the down service before scheduling.\n\nChange-Id: Icfdb87e9b9d1b8b9acb87ea56466bef3e255c6a9\n'}, {'number': 2, 'created': '2018-05-16 14:24:01.000000000', 'files': ['zun/scheduler/filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/0ab66d46873d5288008f6dc53922ba3b133be0aa', 'message': 'Can not filter down service when schedule\n\n    When use ""zun service-force-down"" to down the zun-compute\nservice, it will still can be scheduled for container.\n    It is better to filter the down service before scheduling.\n\nCloses-Bug: #1771588\nChange-Id: Icfdb87e9b9d1b8b9acb87ea56466bef3e255c6a9\n'}]",1,568859,0ab66d46873d5288008f6dc53922ba3b133be0aa,6,4,2,23829,,,0,"Can not filter down service when schedule

    When use ""zun service-force-down"" to down the zun-compute
service, it will still can be scheduled for container.
    It is better to filter the down service before scheduling.

Closes-Bug: #1771588
Change-Id: Icfdb87e9b9d1b8b9acb87ea56466bef3e255c6a9
",git fetch https://review.opendev.org/openstack/zun refs/changes/59/568859/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/scheduler/filter_scheduler.py'],1,f7f7c1df72eff1384183201b819de0815add6b94,bug/1771588," services = objects.ZunService.list_by_binary(context, 'zun-compute') for service in services if self.servicegroup_api.service_is_up(service)}"," for service in objects.ZunService.list_by_binary( context, 'zun-compute')}",4,3
openstack%2Ftripleo-upgrade~master~I84c44a4f3cbc7ff0b54b1f04746e285a0a2d575c,openstack/tripleo-upgrade,master,I84c44a4f3cbc7ff0b54b1f04746e285a0a2d575c,add container minimal check and gate,MERGED,2018-05-16 03:20:31.000000000,2018-05-17 01:07:28.000000000,2018-05-17 01:07:28.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-16 03:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/52d8d2b4070e24fe80025a561cbe2a72434a129b', 'message': 'add container minimal check and gate\n\nfs037 scenario000 update job is gating\nmost of tripleo but not yet checking\nor gating openstack/tripleo-upgrade\n\nChange-Id: I84c44a4f3cbc7ff0b54b1f04746e285a0a2d575c\n'}, {'number': 2, 'created': '2018-05-16 12:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/37c702fb93fb583237d983c85e5a484ed1021a44', 'message': 'add container minimal check and gate\n\nfs037 scenario000 update job is gating\nmost of tripleo but not yet checking\nor gating openstack/tripleo-upgrade\n\nChange-Id: I84c44a4f3cbc7ff0b54b1f04746e285a0a2d575c\n'}, {'number': 3, 'created': '2018-05-16 12:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9d9a5d1e7d117bfbb33c572505fe8de987608e9e', 'message': 'add container minimal check and gate\n\nfs037 scenario000 update job is gating\nmost of tripleo but not yet checking\nor gating openstack/tripleo-upgrade\n\nDepends-On: https://review.openstack.org/#/c/568347/\nChange-Id: I84c44a4f3cbc7ff0b54b1f04746e285a0a2d575c\n'}, {'number': 4, 'created': '2018-05-16 15:41:44.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/70cc10edc159b2a6bd351a0fa65ce330ab93ac45', 'message': 'add container minimal check and gate\n\nfs037 scenario000 update job is gating\nmost of tripleo but not yet checking\nor gating openstack/tripleo-upgrade\n\nDepends-On: https://review.openstack.org/#/c/568347/\nChange-Id: I84c44a4f3cbc7ff0b54b1f04746e285a0a2d575c\n'}]",0,568733,70cc10edc159b2a6bd351a0fa65ce330ab93ac45,24,9,4,9592,,,0,"add container minimal check and gate

fs037 scenario000 update job is gating
most of tripleo but not yet checking
or gating openstack/tripleo-upgrade

Depends-On: https://review.openstack.org/#/c/568347/
Change-Id: I84c44a4f3cbc7ff0b54b1f04746e285a0a2d575c
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/33/568733/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,52d8d2b4070e24fe80025a561cbe2a72434a129b,I84c44a4f3cbc7ff0b54b1f04746e285a0a2d575c, - project: templates: - tripleo-multinode-container-minimal ,,4,0
openstack%2Fheat-translator~master~I66f8e4c76a918494df26b4af277453e24421b917,openstack/heat-translator,master,I66f8e4c76a918494df26b4af277453e24421b917,Move usage from deprecated Ceilometer API to Gnocchi API,MERGED,2017-11-27 05:43:10.000000000,2018-05-17 00:59:28.000000000,2018-05-17 00:59:28.000000000,"[{'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 2874}, {'_account_id': 6456}, {'_account_id': 6537}, {'_account_id': 12455}, {'_account_id': 16511}, {'_account_id': 20560}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 27068}]","[{'number': 1, 'created': '2017-11-27 05:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/189102d0f64f3b0f3b5881f5dc9634384be1a310', 'message': 'Move usage from deprecated Ceilometer API to Gnocchi API\n\nThis removes usage of deprecated Ceilometer API\n\n1. Changing trigger type from ""OS::Ceilometer::Alarm""\nto ""OS::Aodh::GnocchiAggregationByResourcesAlarm""\n2. Add ""resource_type"" fixed with value ""instance""\n3. Change some paramters (meter_name-> metric,\nstatistic ->aggregation_method, period-> granularity)\n4. Change value from ""average"" to ""mean"" in method to\ncompare to the threshold\n\nChange-Id: I66f8e4c76a918494df26b4af277453e24421b917\n'}, {'number': 2, 'created': '2017-11-27 05:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/03e64dd89a0c10803d9f9b91c57b704a2c9e8461', 'message': 'Move usage from deprecated Ceilometer API to Gnocchi API\n\nThis removes usage of deprecated Ceilometer API\n\n1. Changing trigger type from ""OS::Ceilometer::Alarm""\nto ""OS::Aodh::GnocchiAggregationByResourcesAlarm""\n2. Add ""resource_type"" fixed with value ""instance""\n3. Change some paramters (meter_name-> metric,\nstatistic ->aggregation_method, period-> granularity)\n4. Change value from ""average"" to ""mean"" in method to\ncompare to the threshold\n\nChange-Id: I66f8e4c76a918494df26b4af277453e24421b917\n'}, {'number': 3, 'created': '2017-11-27 11:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/c2218ef1717d1e59e88017b9f16ca81205529a6e', 'message': 'Move usage from deprecated Ceilometer API to Gnocchi API\n\nThis removes usage of deprecated Ceilometer API\n\n1. Changing trigger type from ""OS::Ceilometer::Alarm""\nto ""OS::Aodh::GnocchiAggregationByResourcesAlarm""\n2. Add ""resource_type"" fixed with value ""instance""\n3. Change some paramters (meter_name-> metric,\nstatistic ->aggregation_method, period-> granularity)\n4. Change value from ""average"" to ""mean"" in method to\ncompare to the threshold\n\nChange-Id: I66f8e4c76a918494df26b4af277453e24421b917\n'}, {'number': 4, 'created': '2017-11-30 18:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/ee2fd8f7612ede9224fd0d9a126690d60e4f2e11', 'message': 'Move usage from deprecated Ceilometer API to Gnocchi API\n\nThis removes usage of deprecated Ceilometer API\n\n1. Changing trigger type from ""OS::Ceilometer::Alarm""\nto ""OS::Aodh::GnocchiAggregationByResourcesAlarm""\n2. Add ""resource_type"" fixed with value ""instance""\n3. Change some paramters (meter_name-> metric,\nstatistic ->aggregation_method, period-> granularity)\n4. Change value from ""average"" to ""mean"" in method to\ncompare to the threshold\n\nChange-Id: I66f8e4c76a918494df26b4af277453e24421b917\n'}, {'number': 5, 'created': '2018-03-05 17:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/3955798954dbc10e9f1a1f10e0d8bdb6fce01002', 'message': 'Move usage from deprecated Ceilometer API to Gnocchi API\n\nThis removes usage of deprecated Ceilometer API\n\n1. Changing trigger type from ""OS::Ceilometer::Alarm""\nto ""OS::Aodh::GnocchiAggregationByResourcesAlarm""\n2. Add ""resource_type"" fixed with value ""instance""\n3. Change some paramters (meter_name-> metric,\nstatistic ->aggregation_method, period-> granularity)\n4. Change value from ""average"" to ""mean"" in method to\ncompare to the threshold\n\nChange-Id: I66f8e4c76a918494df26b4af277453e24421b917\n'}, {'number': 6, 'created': '2018-03-07 02:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/8c6099099f611a9b6a453b25cf4e08254789c0cc', 'message': 'Move usage from deprecated Ceilometer API to Gnocchi API\n\nThis removes usage of deprecated Ceilometer API\n\n1. Changing trigger type from ""OS::Ceilometer::Alarm""\nto ""OS::Aodh::GnocchiAggregationByResourcesAlarm""\n2. Add ""resource_type"" fixed with value ""instance""\n3. Change some paramters (meter_name-> metric,\nstatistic ->aggregation_method, period-> granularity)\n4. Change value from ""average"" to ""mean"" in method to\ncompare to the threshold\n\nChange-Id: I66f8e4c76a918494df26b4af277453e24421b917\n'}, {'number': 7, 'created': '2018-03-07 02:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/3edd139ebb4cdeaac4989f607545f6dff0bb31c7', 'message': 'Move usage from deprecated Ceilometer API to Gnocchi API\n\nThis removes usage of deprecated Ceilometer API\n\n1. Changing trigger type from ""OS::Ceilometer::Alarm""\nto ""OS::Aodh::GnocchiAggregationByResourcesAlarm""\n2. Add ""resource_type"" fixed with value ""instance""\n3. Change some paramters (meter_name-> metric,\nstatistic ->aggregation_method, period-> granularity)\n4. Change value from ""average"" to ""mean"" in method to\ncompare to the threshold\n\nChange-Id: I66f8e4c76a918494df26b4af277453e24421b917\n'}, {'number': 8, 'created': '2018-05-01 11:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/4b480d6f9e76704dbad001e4bbb3c2ba1ed85b12', 'message': 'Move usage from deprecated Ceilometer API to Gnocchi API\n\nThis removes usage of deprecated Ceilometer API\n\n1. Changing trigger type from ""OS::Ceilometer::Alarm""\nto ""OS::Aodh::GnocchiAggregationByResourcesAlarm""\n2. Add ""resource_type"" fixed with value ""instance""\n3. Change some paramters (meter_name-> metric,\nstatistic ->aggregation_method, period-> granularity)\n4. Change value from ""average"" to ""mean"" in method to\ncompare to the threshold\n\nChange-Id: I66f8e4c76a918494df26b4af277453e24421b917\n'}, {'number': 9, 'created': '2018-05-01 11:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/074a9f543066fff52a4131dd715a2a16f9542e6d', 'message': 'Move usage from deprecated Ceilometer API to Gnocchi API\n\nThis removes usage of deprecated Ceilometer API\n\n1. Changing trigger type from ""OS::Ceilometer::Alarm""\nto ""OS::Aodh::GnocchiAggregationByResourcesAlarm""\n2. Add ""resource_type"" fixed with value ""instance""\n3. Change some paramters (meter_name-> metric,\nstatistic ->aggregation_method, period-> granularity)\n4. Change value from ""average"" to ""mean"" in method to\ncompare to the threshold\n\nChange-Id: I66f8e4c76a918494df26b4af277453e24421b917\n'}, {'number': 10, 'created': '2018-05-08 01:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/8de09446b6587ba8ef45cc94017368590c9a46b7', 'message': 'Move usage from deprecated Ceilometer API to Gnocchi API\n\nThis removes usage of deprecated Ceilometer API\n\n1. Changing trigger type from ""OS::Ceilometer::Alarm""\nto ""OS::Aodh::GnocchiAggregationByResourcesAlarm""\n2. Add ""resource_type"" fixed with value ""instance""\n3. Change some paramters (meter_name-> metric,\nstatistic ->aggregation_method, period-> granularity)\n4. Change value from ""average"" to ""mean"" in method to\ncompare to the threshold\n\nChange-Id: I66f8e4c76a918494df26b4af277453e24421b917\n'}, {'number': 11, 'created': '2018-05-10 12:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/afba17d07ea6bf1248c3924a37d2a75a7acef9ce', 'message': 'Move usage from deprecated Ceilometer API to Gnocchi API\n\nThis removes usage of deprecated Ceilometer API\n\n1. Changing trigger type from ""OS::Ceilometer::Alarm""\nto ""OS::Aodh::GnocchiAggregationByResourcesAlarm""\n2. Add ""resource_type"" fixed with value ""instance""\n3. Change some paramters (meter_name-> metric,\nstatistic ->aggregation_method, period-> granularity)\n4. Change value from ""average"" to ""mean"" in method to\ncompare to the threshold\n\nChange-Id: I66f8e4c76a918494df26b4af277453e24421b917\n'}, {'number': 12, 'created': '2018-05-15 15:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/0afac2f06e0aafb28aa58743cf7b7fb68c60e816', 'message': 'Move usage from deprecated Ceilometer API to Gnocchi API\n\nThis removes usage of deprecated Ceilometer API\n\n1. Changing trigger type from ""OS::Ceilometer::Alarm""\nto ""OS::Aodh::GnocchiAggregationByResourcesAlarm""\n2. Add ""resource_type"" fixed with value ""instance""\n3. Change some paramters (meter_name-> metric,\nstatistic ->aggregation_method, period-> granularity)\n4. Change value from ""average"" to ""mean"" in method to\ncompare to the threshold\n\nChange-Id: I66f8e4c76a918494df26b4af277453e24421b917\n'}, {'number': 13, 'created': '2018-05-15 16:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/b9264e40b25622aa504cc61c305faedfc7db3efd', 'message': 'Move usage from deprecated Ceilometer API to Gnocchi API\n\nThis removes usage of deprecated Ceilometer API\n\n1. Changing trigger type from ""OS::Ceilometer::Alarm""\nto ""OS::Aodh::GnocchiAggregationByResourcesAlarm""\n2. Add ""resource_type"" fixed with value ""instance""\n3. Change some paramters (meter_name-> metric,\nstatistic ->aggregation_method, period-> granularity)\n4. Change value from ""average"" to ""mean"" in method to\ncompare to the threshold\n\nChange-Id: I66f8e4c76a918494df26b4af277453e24421b917\n'}, {'number': 14, 'created': '2018-05-15 16:27:01.000000000', 'files': ['translator/hot/tosca/tosca_policies_monitoring.py', 'translator/tests/data/hot_output/monitoring/hot_monitoring_scaling.yaml', 'translator/tests/data/hot_output/autoscaling/hot_cluster_autoscaling.yaml', 'lower-constraints.txt', 'translator/hot/tosca/tests/test_tosca_autoscaling.py', 'translator/hot/tosca/tosca_policies_scaling.py', 'translator/tests/data/autoscaling/tosca_cluster_autoscaling.yaml', 'requirements.txt', 'translator/tests/data/hot_output/autoscaling/hot_autoscaling.yaml', 'translator/tests/data/autoscaling/tosca_autoscaling.yaml', 'translator/tests/data/monitoring/tosca_monitoring_scaling.yaml', 'translator/hot/tosca/tosca_cluster_policies_scaling.py'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/9e3a6157f0c4bd42e70f1a089efa89f0bf21cecd', 'message': 'Move usage from deprecated Ceilometer API to Gnocchi API\n\nThis removes usage of deprecated Ceilometer API\n\n1. Changing trigger type from ""OS::Ceilometer::Alarm""\nto ""OS::Aodh::GnocchiAggregationByResourcesAlarm""\n2. Add ""resource_type"" fixed with value ""instance""\n3. Change some paramters (meter_name-> metric,\nstatistic ->aggregation_method, period-> granularity)\n4. Change value from ""average"" to ""mean"" in method to\ncompare to the threshold\n\nChange-Id: I66f8e4c76a918494df26b4af277453e24421b917\n'}]",4,523021,9e3a6157f0c4bd42e70f1a089efa89f0bf21cecd,48,11,14,26222,,,0,"Move usage from deprecated Ceilometer API to Gnocchi API

This removes usage of deprecated Ceilometer API

1. Changing trigger type from ""OS::Ceilometer::Alarm""
to ""OS::Aodh::GnocchiAggregationByResourcesAlarm""
2. Add ""resource_type"" fixed with value ""instance""
3. Change some paramters (meter_name-> metric,
statistic ->aggregation_method, period-> granularity)
4. Change value from ""average"" to ""mean"" in method to
compare to the threshold

Change-Id: I66f8e4c76a918494df26b4af277453e24421b917
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/21/523021/4 && git format-patch -1 --stdout FETCH_HEAD,"['translator/tests/data/hot_output/autoscaling/hot_autoscaling.yaml', 'translator/hot/tosca/tosca_policies_monitoring.py', 'translator/tests/data/hot_output/monitoring/hot_monitoring_scaling.yaml', 'translator/tests/data/hot_output/autoscaling/hot_cluster_autoscaling.yaml', 'translator/hot/tosca/tosca_policies_scaling.py', 'translator/tests/data/autoscaling/tosca_autoscaling.yaml', 'translator/tests/data/autoscaling/tosca_cluster_autoscaling.yaml', 'translator/tests/data/monitoring/tosca_monitoring_scaling.yaml', 'translator/common/utils.py', 'translator/hot/tosca/tosca_cluster_policies_scaling.py']",10,189102d0f64f3b0f3b5881f5dc9634384be1a310,,"ALARM_STATISTIC = {'mean': 'mean'} hot_type = 'OS::Aodh::GnocchiAggregationByResourcesAlarm' alarm_prop[""metric""] = self.policy.\ alarm_prop[""aggregation_method""] = \ ALARM_STATISTIC[sample['method']] alarm_prop[""granularity""] = sample[""period""] # TODO(everyone): ""resource_type"" fixed with value ""instance"" alarm_prop[""resource_type""] = ""instance"" type=hot_type,","ALARM_STATISTIC = {'average': 'avg'} alarm_prop[""meter_name""] = self.policy.\ alarm_prop[""statistic""] = ALARM_STATISTIC[sample['method']] alarm_prop[""period""] = sample[""period""] type='OS::Aodh::Alarm',",62,39
openstack%2Fnova~master~Ide2272513c2f550e4539f2c94b581a82426f65f3,openstack/nova,master,Ide2272513c2f550e4539f2c94b581a82426f65f3,Expand member_of functional test cases,MERGED,2018-05-03 09:46:38.000000000,2018-05-17 00:56:00.000000000,2018-05-17 00:56:00.000000000,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-03 09:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dde05923814a41b65d25a8e1bfd9ea6a1c084b49', 'message': ""Expand member_of functional test cases\n\nNow we support multiple member_of query in placement regardless of\nwhether sharing providers are in the environment or not.\n\nHowever, the functional test is only for the cases where non-sharing\nproviders don't have the same resources with sharing providers.\n\nThis patch expands the existing test cases showing that we still\ninclude allocation requests where the resource is provided by the\nnon-sharing providers when they have the same resources with sharing\nproviders.\n\nChange-Id: Ide2272513c2f550e4539f2c94b581a82426f65f3\nBlueprint: alloc-candidates-member-of\n""}, {'number': 2, 'created': '2018-05-04 00:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f14f5bee17aa816f19be28d51032703fbaf70e3', 'message': ""Expand member_of functional test cases\n\nNow we support multiple member_of query in placement regardless of\nwhether sharing providers are in the environment or not.\n\nHowever, the functional test is only for the cases where non-sharing\nproviders don't have the same resources with sharing providers.\n\nThis patch expands the existing test cases showing that we still\ninclude allocation requests where the resource is provided by the\nnon-sharing providers when they have the same resources with sharing\nproviders.\n\nChange-Id: Ide2272513c2f550e4539f2c94b581a82426f65f3\nBlueprint: alloc-candidates-member-of\n""}, {'number': 3, 'created': '2018-05-15 05:56:39.000000000', 'files': ['nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ecdbe1c47f9fec1060039cfb5973dd95830c68fe', 'message': ""Expand member_of functional test cases\n\nNow we support multiple member_of query in placement regardless of\nwhether sharing providers are in the environment or not.\n\nHowever, the functional test is only for the cases where non-sharing\nproviders don't have the same resources with sharing providers.\n\nThis patch expands the existing test cases showing that we still\ninclude allocation requests where the resource is provided by the\nnon-sharing providers when they have the same resources with sharing\nproviders.\n\nChange-Id: Ide2272513c2f550e4539f2c94b581a82426f65f3\nBlueprint: alloc-candidates-member-of\n""}]",0,566011,ecdbe1c47f9fec1060039cfb5973dd95830c68fe,28,12,3,25625,,,0,"Expand member_of functional test cases

Now we support multiple member_of query in placement regardless of
whether sharing providers are in the environment or not.

However, the functional test is only for the cases where non-sharing
providers don't have the same resources with sharing providers.

This patch expands the existing test cases showing that we still
include allocation requests where the resource is provided by the
non-sharing providers when they have the same resources with sharing
providers.

Change-Id: Ide2272513c2f550e4539f2c94b581a82426f65f3
Blueprint: alloc-candidates-member-of
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/566011/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py'],1,dde05923814a41b65d25a8e1bfd9ea6a1c084b49,bp/alloc-candidates-member-of," # CN1 (VCPU, DISK_GB) CN2 (VCPU, DISK_GB) # / agg1 \ agg2 / agg2 \ agg3 # SS1 (DISK_GB) SS2 (DISK_GB) SS3 (DISK_GB) _add_inventory(cn1, fields.ResourceClass.DISK_GB, 1600) _add_inventory(cn2, fields.ResourceClass.DISK_GB, 1600) ('cn1', fields.ResourceClass.DISK_GB, 1500)], [('cn1', fields.ResourceClass.VCPU, 2), (fields.ResourceClass.DISK_GB, 1600, 0), ('cn1', fields.ResourceClass.DISK_GB, 1500)], [('cn1', fields.ResourceClass.VCPU, 2), ('cn2', fields.ResourceClass.DISK_GB, 1500)], [('cn2', fields.ResourceClass.VCPU, 2), (fields.ResourceClass.DISK_GB, 1600, 0), (fields.ResourceClass.DISK_GB, 1600, 0), expected = [ [('cn1', fields.ResourceClass.VCPU, 2), ('cn1', fields.ResourceClass.DISK_GB, 1500)], ] expected = { 'cn1': set([ (fields.ResourceClass.VCPU, 24, 0), (fields.ResourceClass.DISK_GB, 1600, 0), ]), } ('cn1', fields.ResourceClass.DISK_GB, 1500)], [('cn1', fields.ResourceClass.VCPU, 2), ('cn2', fields.ResourceClass.DISK_GB, 1500)], [('cn2', fields.ResourceClass.VCPU, 2), (fields.ResourceClass.DISK_GB, 1600, 0), (fields.ResourceClass.DISK_GB, 1600, 0),", # CN1 (VCPU) CN2 (VCPU) # / agg1 \ agg2 / agg2 \ agg3 # SS1 (DISK_GB) SS2 (DISK_GB) SS3 (DISK_GB) expected = [] expected = {},30,5
openstack%2Fnova~master~I566cc5458175f8e3075be6967e5f6d91847ce198,openstack/nova,master,I566cc5458175f8e3075be6967e5f6d91847ce198,Fix member_of with sharing providers,MERGED,2018-04-14 10:38:09.000000000,2018-05-17 00:55:54.000000000,2018-05-17 00:55:54.000000000,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-14 10:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dac4604df12f7d2ac96744e7c60e19d9a4447af0', 'message': 'Fix member_of with shared providers\n\nWhen the `member_of` parameter was present, non shared providers\nbrought shared providers from out of the specified aggregation.\n\nThis patch fixes the bug by checking it when non shared providers\nchoose shared providers for their mate.\n\nChange-Id: I566cc5458175f8e3075be6967e5f6d91847ce198\nCloses-Bug: #1763907\nBlueprint: alloc-candidates-member-of\n'}, {'number': 2, 'created': '2018-04-15 00:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f6124b425f8ab1fe6c1876b4ef079bbbae9d9e6', 'message': 'Fix member_of with shared providers\n\nWhen the `member_of` parameter was present, non shared providers\nbrought shared providers from out of the specified aggregation.\n\nThis patch fixes the bug by checking it when non shared providers\nchoose shared providers for their mate.\n\nChange-Id: I566cc5458175f8e3075be6967e5f6d91847ce198\nCloses-Bug: #1763907\nBlueprint: alloc-candidates-member-of\n'}, {'number': 3, 'created': '2018-04-27 06:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/400420d442e792b800bea11d23ac5c18862f0df0', 'message': 'Fix member_of with shared providers\n\nWhen the `member_of` parameter was present, non shared providers\nbrought shared providers from out of the specified aggregation.\n\nThis patch fixes the bug by adding the aggregation check in\nSQL query for getting sharing providers.\n\nChange-Id: I566cc5458175f8e3075be6967e5f6d91847ce198\nCloses-Bug: #1763907\nBlueprint: alloc-candidates-member-of\n'}, {'number': 4, 'created': '2018-05-03 09:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cc1ad76b904cc4224aa4284627741fadb8c3149', 'message': 'Fix member_of with sharing providers\n\nWhen the `member_of` parameter was present, non-sharing providers\nincorrectly associated sharing providers with other sharing providers\nwith no direct connection to non-sharing providers involved in other\nparts of the request.\n\nThis patch fixes the bug by adding the aggregate check in SQL\nquery when getting sharing providers.\n\nChange-Id: I566cc5458175f8e3075be6967e5f6d91847ce198\nCloses-Bug: #1763907\nBlueprint: alloc-candidates-member-of\n'}, {'number': 5, 'created': '2018-05-04 00:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/639bfbb550550d650b124773de7f9669aefe4d46', 'message': 'Fix member_of with sharing providers\n\nWhen the `member_of` parameter was present, non-sharing providers\nincorrectly associated sharing providers with other sharing providers\nwith no direct connection to non-sharing providers involved in other\nparts of the request.\n\nThis patch fixes the bug by adding the aggregate check in SQL\nquery when getting sharing providers.\n\nChange-Id: I566cc5458175f8e3075be6967e5f6d91847ce198\nCloses-Bug: #1763907\nBlueprint: alloc-candidates-member-of\n'}, {'number': 6, 'created': '2018-05-15 05:56:39.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0bb490e73fdb0914c01109565f59569dd1c73439', 'message': 'Fix member_of with sharing providers\n\nWhen the `member_of` parameter was present, non-sharing providers\nincorrectly associated sharing providers with other sharing providers\nwith no direct connection to non-sharing providers involved in other\nparts of the request.\n\nThis patch fixes the bug by adding the aggregate check in SQL\nquery when getting sharing providers.\n\nChange-Id: I566cc5458175f8e3075be6967e5f6d91847ce198\nCloses-Bug: #1763907\nBlueprint: alloc-candidates-member-of\n'}]",12,561400,0bb490e73fdb0914c01109565f59569dd1c73439,99,18,6,25625,,,0,"Fix member_of with sharing providers

When the `member_of` parameter was present, non-sharing providers
incorrectly associated sharing providers with other sharing providers
with no direct connection to non-sharing providers involved in other
parts of the request.

This patch fixes the bug by adding the aggregate check in SQL
query when getting sharing providers.

Change-Id: I566cc5458175f8e3075be6967e5f6d91847ce198
Closes-Bug: #1763907
Blueprint: alloc-candidates-member-of
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/561400/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py']",2,dac4604df12f7d2ac96744e7c60e19d9a4447af0,bp/alloc-candidates-member-of,," # Bug#1763907: We should get providers only in agg1, but the actual # is that we get all the resource providers shared by rps in agg1. # expected = [ # [('cn1', fields.ResourceClass.VCPU, 2), # ('ss1', fields.ResourceClass.DISK_GB, 1500)], # [('cn2', fields.ResourceClass.VCPU, 2), # ('ss1', fields.ResourceClass.DISK_GB, 1500)], # ] [('cn1', fields.ResourceClass.VCPU, 2), ('ss3', fields.ResourceClass.DISK_GB, 1500)], [('cn2', fields.ResourceClass.VCPU, 2), ('ss2', fields.ResourceClass.DISK_GB, 1500)], # expected = { # 'cn1': set([ # (fields.ResourceClass.VCPU, 24, 0), # ]), # 'cn2': set([ # (fields.ResourceClass.VCPU, 24, 0), # ]), # 'ss1': set([ # (fields.ResourceClass.DISK_GB, 1600, 0), # ]), # } 'ss2': set([ (fields.ResourceClass.DISK_GB, 1600, 0), ]), 'ss3': set([ (fields.ResourceClass.DISK_GB, 1600, 0), ]), # expected = [ # [('cn2', fields.ResourceClass.VCPU, 2), # ('ss2', fields.ResourceClass.DISK_GB, 1500)], # ] ('ss1', fields.ResourceClass.DISK_GB, 1500)], [('cn2', fields.ResourceClass.VCPU, 2), # expected = { # 'cn2': set([ # (fields.ResourceClass.VCPU, 24, 0), # ]), # 'ss2': set([ # (fields.ResourceClass.DISK_GB, 1600, 0), # ]), # } 'ss1': set([ (fields.ResourceClass.DISK_GB, 1600, 0), ]), # expected = [ # [('cn1', fields.ResourceClass.VCPU, 2), # ('ss3', fields.ResourceClass.DISK_GB, 1500)], # ] ('ss1', fields.ResourceClass.DISK_GB, 1500)], [('cn1', fields.ResourceClass.VCPU, 2), # expected = { # 'cn1': set([ # (fields.ResourceClass.VCPU, 24, 0), # ]), # 'ss3': set([ # (fields.ResourceClass.DISK_GB, 1600, 0), # ]), # } 'ss1': set([ (fields.ResourceClass.DISK_GB, 1600, 0), ]),",41,75
openstack%2Fnova~master~Ie098bb6fa21b3656a8ea840f4e6d9407311bddcd,openstack/nova,master,Ie098bb6fa21b3656a8ea840f4e6d9407311bddcd,Add tests for alloc_cands with member_of,MERGED,2018-04-14 10:38:09.000000000,2018-05-17 00:49:30.000000000,2018-05-17 00:49:30.000000000,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-14 10:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cc411a5f17ab92991a16079ad97c620e30d87a4', 'message': 'Add unit tests for alloc_cands with member_of\n\nThis patch add a unit test which describes a bug that when the\n`member_of` parameter is present, only non shared providers in\nthe specified aggregateion are picked, but the non shared provider\nbrings shared providers from out of the specified aggregation.\n\nChange-Id: Ie098bb6fa21b3656a8ea840f4e6d9407311bddcd\nRelated-Bug: #1763907\nBlueprint: alloc-candidates-member-of\n'}, {'number': 2, 'created': '2018-04-27 06:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b3e2f9bdf3d4eaae3a55307a57f911391ff62da', 'message': 'Add unit tests for alloc_cands with member_of\n\nThis patch add a unit test which describes a bug that when the\n`member_of` parameter is present, only non shared providers in\nthe specified aggregateion are picked, but the non shared provider\nbrings shared providers from out of the specified aggregation.\n\nChange-Id: Ie098bb6fa21b3656a8ea840f4e6d9407311bddcd\nRelated-Bug: #1763907\nBlueprint: alloc-candidates-member-of\n'}, {'number': 3, 'created': '2018-05-03 09:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdfd1059a67612ed8d7c1191f94b0d18dcc844ae', 'message': 'Add tests for alloc_cands with member_of\n\nThis patch add a functional test which describes a bug that when\nthe `member_of` parameter is present, only non-sharing providers\nin the specified aggregates are picked, but the non-sharing\nprovider brings sharing providers from out of the specified\naggregates.\n\nChange-Id: Ie098bb6fa21b3656a8ea840f4e6d9407311bddcd\nRelated-Bug: #1763907\nBlueprint: alloc-candidates-member-of\n'}, {'number': 4, 'created': '2018-05-04 00:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/903fcd9ae77e31f161c7e3b28941da79568ed4e8', 'message': 'Add tests for alloc_cands with member_of\n\nThis patch add a functional test which describes a bug that when\nthe `member_of` parameter is present, only non-sharing providers\nin the specified aggregates are picked, but the non-sharing\nprovider brings sharing providers from out of the specified\naggregates.\n\nChange-Id: Ie098bb6fa21b3656a8ea840f4e6d9407311bddcd\nRelated-Bug: #1763907\nBlueprint: alloc-candidates-member-of\n'}, {'number': 5, 'created': '2018-05-10 17:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dd11dd0807a0241ec106b7797c199227bb31f33', 'message': 'Add tests for alloc_cands with member_of\n\nThis patch add a functional test which describes a bug that when\nthe `member_of` parameter is present, only non-sharing providers\nin the specified aggregates are picked, but the non-sharing\nprovider brings sharing providers from out of the specified\naggregates.\n\nChange-Id: Ie098bb6fa21b3656a8ea840f4e6d9407311bddcd\nRelated-Bug: #1763907\nBlueprint: alloc-candidates-member-of\n'}, {'number': 6, 'created': '2018-05-15 05:56:39.000000000', 'files': ['nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d31e54b35fcc9f6b3b601235d8cbccf2af3a909f', 'message': 'Add tests for alloc_cands with member_of\n\nThis patch add a functional test which describes a bug that when\nthe `member_of` parameter is present, only non-sharing providers\nin the specified aggregates are picked, but the non-sharing\nprovider brings sharing providers from out of the specified\naggregates.\n\nChange-Id: Ie098bb6fa21b3656a8ea840f4e6d9407311bddcd\nRelated-Bug: #1763907\nBlueprint: alloc-candidates-member-of\n'}]",12,561399,d31e54b35fcc9f6b3b601235d8cbccf2af3a909f,60,17,6,25625,,,0,"Add tests for alloc_cands with member_of

This patch add a functional test which describes a bug that when
the `member_of` parameter is present, only non-sharing providers
in the specified aggregates are picked, but the non-sharing
provider brings sharing providers from out of the specified
aggregates.

Change-Id: Ie098bb6fa21b3656a8ea840f4e6d9407311bddcd
Related-Bug: #1763907
Blueprint: alloc-candidates-member-of
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/561399/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py'],1,1cc411a5f17ab92991a16079ad97c620e30d87a4,bp/alloc-candidates-member-of," def test_sharing_providers_member_of(self): # Covering the following setup: # # CN1 (VCPU) CN2 (VCPU) # / agg3 \ agg1 / agg1 \ agg2 # SS3 (DISK_GB) SS1 (DISK_GB) SS2 (DISK_GB) cn1 = self._create_provider('cn1', uuids.agg1, uuids.agg3) _add_inventory(cn1, fields.ResourceClass.VCPU, 24) cn2 = self._create_provider('cn2', uuids.agg1, uuids.agg2) _add_inventory(cn2, fields.ResourceClass.VCPU, 24) # ss1 is connected to both cn1 and cn2 ss1 = self._create_provider('ss1', uuids.agg1) _set_traits(ss1, ""MISC_SHARES_VIA_AGGREGATE"") _add_inventory(ss1, fields.ResourceClass.DISK_GB, 1600) # ss2 only connected to cn2 ss2 = self._create_provider('ss2', uuids.agg2) _set_traits(ss2, ""MISC_SHARES_VIA_AGGREGATE"") _add_inventory(ss2, fields.ResourceClass.DISK_GB, 1600) # ss3 only connected to cn1 ss3 = self._create_provider('ss3', uuids.agg3) _set_traits(ss3, ""MISC_SHARES_VIA_AGGREGATE"") _add_inventory(ss3, fields.ResourceClass.DISK_GB, 1600) # Let's get allocation candidates from agg1 alloc_cands = self._get_allocation_candidates([ placement_lib.RequestGroup( use_same_provider=False, resources={ 'VCPU': 2, 'DISK_GB': 1500, }, member_of=[uuids.agg1] )] ) # Bug#1763907: We should get providers only in agg1, but the actual # is that we get all the resource providers shared by rps in agg1. # expected = [ # [('cn1', fields.ResourceClass.VCPU, 2), # ('ss1', fields.ResourceClass.DISK_GB, 1500)], # [('cn2', fields.ResourceClass.VCPU, 2), # ('ss1', fields.ResourceClass.DISK_GB, 1500)], # ] expected = [ [('cn1', fields.ResourceClass.VCPU, 2), ('ss1', fields.ResourceClass.DISK_GB, 1500)], [('cn1', fields.ResourceClass.VCPU, 2), ('ss3', fields.ResourceClass.DISK_GB, 1500)], [('cn2', fields.ResourceClass.VCPU, 2), ('ss1', fields.ResourceClass.DISK_GB, 1500)], [('cn2', fields.ResourceClass.VCPU, 2), ('ss2', fields.ResourceClass.DISK_GB, 1500)], ] self._validate_allocation_requests(expected, alloc_cands) # expected = { # 'cn1': set([ # (fields.ResourceClass.VCPU, 24, 0), # ]), # 'cn2': set([ # (fields.ResourceClass.VCPU, 24, 0), # ]), # 'ss1': set([ # (fields.ResourceClass.DISK_GB, 1600, 0), # ]), # } expected = { 'cn1': set([ (fields.ResourceClass.VCPU, 24, 0), ]), 'cn2': set([ (fields.ResourceClass.VCPU, 24, 0), ]), 'ss1': set([ (fields.ResourceClass.DISK_GB, 1600, 0), ]), 'ss2': set([ (fields.ResourceClass.DISK_GB, 1600, 0), ]), 'ss3': set([ (fields.ResourceClass.DISK_GB, 1600, 0), ]), } self._validate_provider_summary_resources(expected, alloc_cands) # Let's get allocation candidates from agg2 alloc_cands = self._get_allocation_candidates([ placement_lib.RequestGroup( use_same_provider=False, resources={ 'VCPU': 2, 'DISK_GB': 1500, }, member_of=[uuids.agg2] )] ) # expected = [ # [('cn2', fields.ResourceClass.VCPU, 2), # ('ss2', fields.ResourceClass.DISK_GB, 1500)], # ] expected = [ [('cn2', fields.ResourceClass.VCPU, 2), ('ss1', fields.ResourceClass.DISK_GB, 1500)], [('cn2', fields.ResourceClass.VCPU, 2), ('ss2', fields.ResourceClass.DISK_GB, 1500)], ] self._validate_allocation_requests(expected, alloc_cands) # expected = { # 'cn2': set([ # (fields.ResourceClass.VCPU, 24, 0), # ]), # 'ss2': set([ # (fields.ResourceClass.DISK_GB, 1600, 0), # ]), # } expected = { 'cn2': set([ (fields.ResourceClass.VCPU, 24, 0), ]), 'ss1': set([ (fields.ResourceClass.DISK_GB, 1600, 0), ]), 'ss2': set([ (fields.ResourceClass.DISK_GB, 1600, 0), ]), } self._validate_provider_summary_resources(expected, alloc_cands) alloc_cands = self._get_allocation_candidates([ placement_lib.RequestGroup( use_same_provider=False, resources={ 'VCPU': 2, 'DISK_GB': 1500, }, member_of=[uuids.agg3] )] ) # expected = [ # [('cn1', fields.ResourceClass.VCPU, 2), # ('ss3', fields.ResourceClass.DISK_GB, 1500)], # ] expected = [ [('cn1', fields.ResourceClass.VCPU, 2), ('ss1', fields.ResourceClass.DISK_GB, 1500)], [('cn1', fields.ResourceClass.VCPU, 2), ('ss3', fields.ResourceClass.DISK_GB, 1500)], ] self._validate_allocation_requests(expected, alloc_cands) # expected = { # 'cn1': set([ # (fields.ResourceClass.VCPU, 24, 0), # ]), # 'ss3': set([ # (fields.ResourceClass.DISK_GB, 1600, 0), # ]), # } expected = { 'cn1': set([ (fields.ResourceClass.VCPU, 24, 0), ]), 'ss1': set([ (fields.ResourceClass.DISK_GB, 1600, 0), ]), 'ss3': set([ (fields.ResourceClass.DISK_GB, 1600, 0), ]), } self._validate_provider_summary_resources(expected, alloc_cands) ",,178,0
openstack%2Fkolla-ansible~master~Ib5116e76a9a5c97571282225b8eaf480f120f9b1,openstack/kolla-ansible,master,Ib5116e76a9a5c97571282225b8eaf480f120f9b1,Optimize reconfiguration for murano,MERGED,2018-04-09 14:39:04.000000000,2018-05-17 00:44:46.000000000,2018-05-17 00:44:46.000000000,"[{'_account_id': 14151}, {'_account_id': 14826}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 25945}, {'_account_id': 26297}, {'_account_id': 26348}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-04-09 14:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/704f90ccae7de124ccf470807cfd3c89ecd2e0b2', 'message': 'Optimize reconfiguration for ironic\n\nChange-Id: Ib5116e76a9a5c97571282225b8eaf480f120f9b1\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 2, 'created': '2018-04-09 14:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/be6fe51a9edef660dd0a8a002afd14f7cfff858e', 'message': 'Optimize reconfiguration for murano\n\nChange-Id: Ib5116e76a9a5c97571282225b8eaf480f120f9b1\nPartially-implements: blueprint better-reconfigure\n'}, {'number': 3, 'created': '2018-04-10 06:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/08af347d28b6fee981896771bf45e62ab9a78f73', 'message': 'Optimize reconfiguration for murano\n\nChange-Id: Ib5116e76a9a5c97571282225b8eaf480f120f9b1\nPartially-implements: blueprint better-reconfigure\nCo-Authored-By: caoyuan <cao.yuan@99cloud.net>\n'}, {'number': 4, 'created': '2018-04-11 03:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d69fad61752fd4b57404d6e4684d72dd58a50f7a', 'message': 'Optimize reconfiguration for murano\n\nChange-Id: Ib5116e76a9a5c97571282225b8eaf480f120f9b1\nPartially-implements: blueprint better-reconfigure\nCo-Authored-By: caoyuan <cao.yuan@99cloud.net>\n'}, {'number': 5, 'created': '2018-04-11 03:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ca5645cde5fbd172513e4099b82948ff47038cf0', 'message': 'Optimize reconfiguration for murano\n\nChange-Id: Ib5116e76a9a5c97571282225b8eaf480f120f9b1\nPartially-implements: blueprint better-reconfigure\nCo-Authored-By: caoyuan <cao.yuan@99cloud.net>\n'}, {'number': 6, 'created': '2018-04-16 10:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8df7ab38e7f80cb1cd3a481c1464d35ef5e88adc', 'message': 'Optimize reconfiguration for murano\n\nChange-Id: Ib5116e76a9a5c97571282225b8eaf480f120f9b1\nPartially-implements: blueprint better-reconfigure\nCo-Authored-By: caoyuan <cao.yuan@99cloud.net>\n'}, {'number': 7, 'created': '2018-04-17 03:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9f3b92e3754e1bd7c00a881fd52ae8d99879b5bc', 'message': '[WIP]Optimize reconfiguration for murano\n\nChange-Id: Ib5116e76a9a5c97571282225b8eaf480f120f9b1\nPartially-implements: blueprint better-reconfigure\nCo-Authored-By: caoyuan <cao.yuan@99cloud.net>\n'}, {'number': 8, 'created': '2018-04-17 04:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7ebe2bccdbc4ee8dcf8778642990b2f0ee6d2145', 'message': 'Optimize reconfiguration for murano\n\nChange-Id: Ib5116e76a9a5c97571282225b8eaf480f120f9b1\nPartially-implements: blueprint better-reconfigure\nCo-Authored-By: caoyuan <cao.yuan@99cloud.net>\n'}, {'number': 9, 'created': '2018-05-16 10:02:15.000000000', 'files': ['ansible/roles/murano/defaults/main.yml', 'ansible/roles/murano/tasks/deploy.yml', 'ansible/roles/murano/tasks/pull.yml', 'ansible/roles/murano/tasks/reconfigure.yml', 'ansible/roles/murano/tasks/upgrade.yml', 'ansible/roles/murano/tasks/config.yml', 'ansible/roles/murano/handlers/main.yml', 'ansible/roles/murano/tasks/import_library_packages.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3093f44ca33abf3e44c524c1a223b7a256b7c1c0', 'message': 'Optimize reconfiguration for murano\n\nChange-Id: Ib5116e76a9a5c97571282225b8eaf480f120f9b1\nPartially-implements: blueprint better-reconfigure\nCo-Authored-By: ZhijunWei <wzj334965317@outlook.com>\n'}]",21,559754,3093f44ca33abf3e44c524c1a223b7a256b7c1c0,42,11,9,26285,,,0,"Optimize reconfiguration for murano

Change-Id: Ib5116e76a9a5c97571282225b8eaf480f120f9b1
Partially-implements: blueprint better-reconfigure
Co-Authored-By: ZhijunWei <wzj334965317@outlook.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/559754/7 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/murano/defaults/main.yml', 'ansible/roles/murano/tasks/start.yml', 'ansible/roles/murano/tasks/pull.yml', 'ansible/roles/murano/tasks/reconfigure.yml', 'ansible/roles/murano/tasks/upgrade.yml', 'ansible/roles/murano/handlers/main.yml']",6,704f90ccae7de124ccf470807cfd3c89ecd2e0b2,bp/better-reconfigure,"- name: Restart murano-api container vars: service_name: ""murano-api"" service: ""{{ murano_services[service_name] }}"" config_json: ""{{ murano_config_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" murano_conf: ""{{ murano_confs.results|selectattr('item.key', 'equalto', service_name)|first }}"" policy_json: ""{{ murano_policy_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" murano_api_container: ""{{ check_murano_containers.results|selectattr('item.key', 'equalto', service_name)|first }}"" kolla_docker: action: ""recreate_or_restart_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ service.container_name }}"" image: ""{{ service.image }}"" volumes: ""{{ service.volumes }}"" when: - action != ""config"" - inventory_hostname in groups[service.group] - service.enabled | bool - config_json.changed | bool or murano_conf.changed | bool or policy_json.changed | bool or murano_api_container.changed | bool - name: Restart murano-engine container vars: service_name: ""murano-conductor"" service: ""{{ murano_services[service_name] }}"" config_json: ""{{ murano_config_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" murano_conf: ""{{ murano_confs.results|selectattr('item.key', 'equalto', service_name)|first }}"" policy_json: ""{{ murano_policy_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" murano_conductor_container: ""{{ check_murano_containers.results|selectattr('item.key', 'equalto', service_name)|first }}"" kolla_docker: action: ""recreate_or_restart_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ service.container_name }}"" image: ""{{ service.image }}"" privileged: ""{{ service.privileged | default(False) }}"" volumes: ""{{ service.volumes }}"" when: - action != ""config"" - inventory_hostname in groups[service.group] - service.enabled | bool - config_json.changed | bool or murano_conf.changed | bool or policy_json.changed | bool or murano_conductor_container.changed | bool ",,81,160
openstack%2Fneutron-lbaas~master~I910240fffa9bd677480c919768ea484ec2ac981d,openstack/neutron-lbaas,master,I910240fffa9bd677480c919768ea484ec2ac981d,remove unused plugin.get_plugin_name(),MERGED,2018-03-29 10:00:15.000000000,2018-05-17 00:43:39.000000000,2018-05-17 00:43:39.000000000,"[{'_account_id': 6579}, {'_account_id': 6854}, {'_account_id': 9008}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2018-03-29 10:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/2b8f5a9eeb7675a3f4ac14ae38d20faa747b4db6', 'message': 'remove unused plugin.get_plugin_name()\n\nThis method does not seem to be used anymore:\n\nhttp://codesearch.openstack.org/?q=get_plugin_name&i=nope&files=&repos=neutron,neutron-lib\n\nChange-Id: I910240fffa9bd677480c919768ea484ec2ac981d\n'}, {'number': 2, 'created': '2018-04-27 20:30:18.000000000', 'files': ['neutron_lbaas/extensions/loadbalancerv2.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/a7abc9ab2dbfb681295b542103d7e3e09ad2dab3', 'message': 'remove unused plugin.get_plugin_name()\n\nThis method does not seem to be used anymore:\n\nhttp://codesearch.openstack.org/?q=get_plugin_name&i=nope&files=&repos=neutron,neutron-lib\n\nChange-Id: I910240fffa9bd677480c919768ea484ec2ac981d\n'}]",0,557665,a7abc9ab2dbfb681295b542103d7e3e09ad2dab3,13,6,2,12021,,,0,"remove unused plugin.get_plugin_name()

This method does not seem to be used anymore:

http://codesearch.openstack.org/?q=get_plugin_name&i=nope&files=&repos=neutron,neutron-lib

Change-Id: I910240fffa9bd677480c919768ea484ec2ac981d
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/65/557665/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/extensions/loadbalancerv2.py'],1,2b8f5a9eeb7675a3f4ac14ae38d20faa747b4db6,neutron_remove_get_plugin_name,, def get_plugin_name(self): return constants.LOADBALANCERV2 ,0,3
openstack%2Fnetworking-odl~master~Ic5919f2bd54be2f123618cce3e9857f132284c6e,openstack/networking-odl,master,Ic5919f2bd54be2f123618cce3e9857f132284c6e,Add more information to the ovs flows dump,MERGED,2018-05-02 11:02:47.000000000,2018-05-17 00:31:29.000000000,2018-05-17 00:31:29.000000000,"[{'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 22380}, {'_account_id': 25587}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-05-02 11:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4f8f2e1c994f9faee9abd486004684666d61588b', 'message': ""Add more information to the ovs flows dump\n\nFor debugging purposes we want to issue the command 'ovs-ofctl show\nswitch' for all interfaces as well.\n\nChange-Id: Ic5919f2bd54be2f123618cce3e9857f132284c6e\n""}, {'number': 2, 'created': '2018-05-02 13:57:36.000000000', 'files': ['roles/show-odl-info/tasks/ovs_flows.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d7a1a962fbaf81a9bfc47baa6c69487657c2cf09', 'message': ""Add more information to the ovs flows dump\n\nFor debugging purposes we want to issue the command 'ovs-ofctl show\nswitch' for all interfaces as well.\n\nChange-Id: Ic5919f2bd54be2f123618cce3e9857f132284c6e\n""}]",0,565695,d7a1a962fbaf81a9bfc47baa6c69487657c2cf09,12,5,2,26507,,,0,"Add more information to the ovs flows dump

For debugging purposes we want to issue the command 'ovs-ofctl show
switch' for all interfaces as well.

Change-Id: Ic5919f2bd54be2f123618cce3e9857f132284c6e
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/95/565695/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/show-odl-info/tasks/ovs_flows.yaml'],1,4f8f2e1c994f9faee9abd486004684666d61588b,change/migrate_networking_odl_to_zuulv3,"- name: Print information on ""{{ item }}"" command: ovs-ofctl --protocols OpenFlow13 show ""{{ item|quote }}"" become: true ",,4,0
