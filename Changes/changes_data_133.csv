id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-helm-infra~master~I0990f5f7742f58ebdc52baaad96c6bc6a54747b6,openstack/openstack-helm-infra,master,I0990f5f7742f58ebdc52baaad96c6bc6a54747b6,[WIP] Remove unnecessary client-ceph-config job,ABANDONED,2021-11-08 22:37:10.000000000,2021-11-09 15:16:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-08 22:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/044d76d6cde465223e60e4f1158bec63740e4495', 'message': '[ceph-client] Remove unnecessary client-ceph-config job\n\nThis patch removes the client-ceph-config job which was intended to\nupdate the ceph-client-etc configmap with the mon_host IP addresses\nso that ceph pods would get the IP address configuration when they\nstartup. However, the strategy has changed to use a common Helm\ntoolkit method to do this from the startup script of the Ceph pods\nwhich require to talk to Ceph monitors. So this job is no longer\nneeded.\n\nThe checkDNS deployment, however, is still needed, just in case\none of the Ceph monitor IP addresses change, the other pods will\nbe updated by the checkDNS pod within 5 minutes.\n\nChange-Id: I0990f5f7742f58ebdc52baaad96c6bc6a54747b6\n'}, {'number': 2, 'created': '2021-11-08 22:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5e97cf1703242c69a1e72d99269a35d2fb1b81ec', 'message': '[ceph-client] Remove unnecessary client-ceph-config job\n\nThis patch removes the client-ceph-config job which was intended to\nupdate the ceph-client-etc configmap with the mon_host IP addresses\nso that ceph pods would get the IP address configuration when they\nstartup. However, the strategy has changed to use a common Helm\ntoolkit method to do this from the startup script of the Ceph pods\nwhich require to talk to Ceph monitors. So this job is no longer\nneeded.\n\nThe checkDNS deployment, however, is still needed, just in case\none of the Ceph monitor IP addresses change, the other pods will\nbe updated by the checkDNS pod within 5 minutes.\n\nChange-Id: I0990f5f7742f58ebdc52baaad96c6bc6a54747b6\n'}, {'number': 3, 'created': '2021-11-08 22:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dd3b00f3d6042eb6cfb98f581eae12e2eca539c7', 'message': '[WIP] Remove unnecessary client-ceph-config job\n\nThis patch removes the client-ceph-config job which was intended to\nupdate the ceph-client-etc configmap with the mon_host IP addresses\nso that ceph pods would get the IP address configuration when they\nstartup. However, the strategy has changed to use a common Helm\ntoolkit method to do this from the startup script of the Ceph pods\nwhich require to talk to Ceph monitors. So this job is no longer\nneeded.\n\nThe checkDNS deployment, however, is still needed, just in case\none of the Ceph monitor IP addresses change, the other pods will\nbe updated by the checkDNS pod within 5 minutes.\n\nChange-Id: I0990f5f7742f58ebdc52baaad96c6bc6a54747b6\n'}, {'number': 4, 'created': '2021-11-08 23:10:37.000000000', 'files': ['ceph-client/Chart.yaml', 'ceph-client/templates/bin/_namespace-client-ceph-config-manager.sh.tpl', 'releasenotes/notes/ceph-client.yaml', 'ceph-client/values.yaml', 'ceph-client/templates/job-ns-client-ceph-config.yaml', 'ceph-client/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0b83fc0f6ef844101d337ec621a285aaa407a4e0', 'message': '[WIP] Remove unnecessary client-ceph-config job\n\nThis patch removes the client-ceph-config job which was intended to\nupdate the ceph-client-etc configmap with the mon_host IP addresses\nso that ceph pods would get the IP address configuration when they\nstartup. However, the strategy has changed to use a common Helm\ntoolkit method to do this from the startup script of the Ceph pods\nwhich require to talk to Ceph monitors. So this job is no longer\nneeded.\n\nThe checkDNS deployment, however, is still needed, just in case\none of the Ceph monitor IP addresses change, the other pods will\nbe updated by the checkDNS pod within 5 minutes.\n\nChange-Id: I0990f5f7742f58ebdc52baaad96c6bc6a54747b6\n'}]",0,817119,0b83fc0f6ef844101d337ec621a285aaa407a4e0,6,1,4,22636,,,0,"[WIP] Remove unnecessary client-ceph-config job

This patch removes the client-ceph-config job which was intended to
update the ceph-client-etc configmap with the mon_host IP addresses
so that ceph pods would get the IP address configuration when they
startup. However, the strategy has changed to use a common Helm
toolkit method to do this from the startup script of the Ceph pods
which require to talk to Ceph monitors. So this job is no longer
needed.

The checkDNS deployment, however, is still needed, just in case
one of the Ceph monitor IP addresses change, the other pods will
be updated by the checkDNS pod within 5 minutes.

Change-Id: I0990f5f7742f58ebdc52baaad96c6bc6a54747b6
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/19/817119/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/values.yaml', 'ceph-client/templates/job-ns-client-ceph-config.yaml', 'ceph-client/templates/configmap-bin.yaml']",3,044d76d6cde465223e60e4f1158bec63740e4495,,," namespace-client-ceph-config-manager.sh: | {{ tuple ""bin/_namespace-client-ceph-config-manager.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }}",0,119
openstack%2Ftripleo-heat-templates~master~Icf39bbd3621423f350275d5183071987719622e1,openstack/tripleo-heat-templates,master,Icf39bbd3621423f350275d5183071987719622e1,Change authentication method for Mellanox sdn controller,MERGED,2021-10-19 11:21:13.000000000,2021-11-09 14:53:54.000000000,2021-11-09 14:43:49.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 12171}, {'_account_id': 16690}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25241}]","[{'number': 1, 'created': '2021-10-19 11:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e1dbaa52861d878257709d3616e454c3311e69e', 'message': 'Change sdn authentication from basic(username,password) to token authentication\n\nChange-Id: Icf39bbd3621423f350275d5183071987719622e1\n'}, {'number': 2, 'created': '2021-10-20 05:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/587a2cbd269195594cb75a8b4dce88d849f8390e', 'message': 'Change sdn authentication from basic(username,password) to token authentication\n\nChange-Id: Icf39bbd3621423f350275d5183071987719622e1\n'}, {'number': 3, 'created': '2021-10-28 06:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/262d90c6dbac22654b12cc891a38b9d7e2c8282d', 'message': 'Change authentication method for Mellanox sdn controller\n\nChange sdn authentication from basic(username,password) to token\nauthentication, deprecate MlnxSDNUsername and MlnxSDNPassword\nand add a new parameter ""MlnxSDNToken"" to authenticate sdn controller\n\nDepends-on: #814554\nChange-Id: Icf39bbd3621423f350275d5183071987719622e1\n'}, {'number': 4, 'created': '2021-10-28 06:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e68f2ad972e62013ce43bb9184150fb98c80eab5', 'message': 'Change authentication method for Mellanox sdn controller\n\nChange sdn authentication from basic(username,password) to token\nauthentication, deprecate MlnxSDNUsername and MlnxSDNPassword\nand add a new parameter ""MlnxSDNToken"" to authenticate sdn controller\n\nDepends-on: 814554\nChange-Id: Icf39bbd3621423f350275d5183071987719622e1\n'}, {'number': 5, 'created': '2021-10-28 06:33:04.000000000', 'files': ['releasenotes/notes/add_token_auth-fb9f0dfe8e70a4c1.yaml', 'deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'environments/neutron-ml2-mlnx-sdn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d98009ae49c4fe9c5459b38842428bb81da8a94e', 'message': 'Change authentication method for Mellanox sdn controller\n\nChange sdn authentication from basic(username,password) to token\nauthentication, deprecate MlnxSDNUsername and MlnxSDNPassword\nand add a new parameter ""MlnxSDNToken"" to authenticate sdn controller\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-neutron/+/814554\nChange-Id: Icf39bbd3621423f350275d5183071987719622e1\n'}]",2,814555,d98009ae49c4fe9c5459b38842428bb81da8a94e,23,9,5,25241,,,0,"Change authentication method for Mellanox sdn controller

Change sdn authentication from basic(username,password) to token
authentication, deprecate MlnxSDNUsername and MlnxSDNPassword
and add a new parameter ""MlnxSDNToken"" to authenticate sdn controller

Depends-on: https://review.opendev.org/c/openstack/puppet-neutron/+/814554
Change-Id: Icf39bbd3621423f350275d5183071987719622e1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/814555/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'environments/neutron-ml2-mlnx-sdn.yaml']",2,1e1dbaa52861d878257709d3616e454c3311e69e,, MlnxSDNToken: 'sdn_token', MlnxSDNUsername: 'sdn_username' #MlnxSDNPassword:,4,9
openstack%2Freleases~master~I88e844c7535a10198d3d9377f3e4b649e6fe3431,openstack/releases,master,I88e844c7535a10198d3d9377f3e4b649e6fe3431,Release OpenStack-Ansible Victoria,MERGED,2021-11-09 07:44:24.000000000,2021-11-09 14:30:46.000000000,2021-11-09 14:30:46.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-09 07:44:24.000000000', 'files': ['deliverables/victoria/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1639b44084e46dea3ce606de732f24f4e09f817d', 'message': 'Release OpenStack-Ansible Victoria\n\nChange-Id: I88e844c7535a10198d3d9377f3e4b649e6fe3431\n'}]",1,817148,1639b44084e46dea3ce606de732f24f4e09f817d,8,3,1,28619,,,0,"Release OpenStack-Ansible Victoria

Change-Id: I88e844c7535a10198d3d9377f3e4b649e6fe3431
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/817148/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/openstack-ansible.yaml'],1,1639b44084e46dea3ce606de732f24f4e09f817d,release_osa, - version: 22.3.3 projects: - repo: openstack/openstack-ansible hash: f1313b5511a7310c1f6435afe925a747c1352d55,,4,0
openstack%2Fnova~master~Id96f1795034490c13125ebbab49b029fb96af1c7,openstack/nova,master,Id96f1795034490c13125ebbab49b029fb96af1c7,Fix interference in db unit test,MERGED,2021-10-20 10:23:41.000000000,2021-11-09 14:22:19.000000000,2021-11-09 13:59:03.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-20 10:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5af46d1ee0baf541a9547a48dd32b393ab01a2b', 'message': ""DNM: turn off two unit test cases\n\nThe two unit test case causes errors like\n  oslo_db.sqlalchemy.enginefacade.AlreadyStartedError:\n  this TransactionFactory is already started\n\nIf the db tests run selectively. So far I only found the offending test\ncases by bisecting the recent patches, but I don't know why these are\nbreaking our test execution and why only if db tests are run\nselectively.\n\nChange-Id: Id96f1795034490c13125ebbab49b029fb96af1c7\n""}, {'number': 2, 'created': '2021-10-20 10:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88ef67c5b06604a147e5231f87c8c7431b474a4b', 'message': ""Fix db migration unit test\n\nTwo unit test case causes added in\nI0647bb8545c1464b521a1d866cf5ee674aea2eae causes errors like\n  oslo_db.sqlalchemy.enginefacade.AlreadyStartedError:\n  this TransactionFactory is already started\n\nwhen the db tests run selectively with tox -e py38 nova.tests.unit.db\nbut does not cause errors if the whole unit test suit is run.\n\nIn other test cases I found that migration.db_sync call was done in a\nway that the migration._get_engine is mocked to use a local engine\ninstead of a global one. So I modified these test cases to do the same\nand it seems it fixed the problem. Still I don't understand why this\nchange helps or how the original error happens.\n\nChange-Id: Id96f1795034490c13125ebbab49b029fb96af1c7\n""}, {'number': 3, 'created': '2021-10-20 10:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a14125feb0e6cfcdbf18d223235d736d9ae48a13', 'message': ""Fix db migration unit test\n\nTwo unit test cases added in\nI0647bb8545c1464b521a1d866cf5ee674aea2eae cause errors like\n  oslo_db.sqlalchemy.enginefacade.AlreadyStartedError:\n  this TransactionFactory is already started\n\nwhen the db tests run selectively with tox -e py38 nova.tests.unit.db\nbut does not cause errors if the whole unit test suit is run.\n\nIn other test cases I found that migration.db_sync call was done in a\nway that the migration._get_engine is mocked to use a local engine\ninstead of a global one. So I modified these test cases to do the same\nand it seems it fixed the problem. Still I don't understand why this\nchange helps or how the original error happens.\n\nChange-Id: Id96f1795034490c13125ebbab49b029fb96af1c7\n""}, {'number': 4, 'created': '2021-10-27 14:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44d1f22a98eae2fdd00f9d96422a3a291bcfda1a', 'message': 'Fix interference in db unit test\n\nWe discovered that two unit test cases added in\nI0647bb8545c1464b521a1d866cf5ee674aea2eae cause errors like\n  oslo_db.sqlalchemy.enginefacade.AlreadyStartedError:\n  this TransactionFactory is already started\n\nwhen the db tests run selectively with tox -e py38 nova.tests.unit.db\nbut does not cause errors if the whole unit test suit is run.\n\nThis error happens because our db code uses two global transaction\nfactory, one for the api DB and one for the main DB. There was a global\nflag SESSION_CONFIGURED in our Database fixture that guarded against\ndouble initialization of the factory. But the faulty test cases in\nquestion does not use our Database fixture but use the\nOpportunisticDBTestMixin from oslo_db. Obviously that fixture does not\nknow about our SESSION_CONFIGURED global. So if one of the offending\ntest case run first in an executor then that could initialize the\ntransaction factory globally and a later test that uses our Database\nfixture will try to configure it again leading to the error. For some\nunknown reason if these tests were run in the opposite order the faulty\nre-initialization did not happen. Probably the OpportunisticDBTestMixin\nwas able to prevent that.\n\nA previous patch already removed the global SESSION_CONFIGURED flag\nfrom our fixture and replaced it with a per DB specific patch_factory\ncalls that allow resetting the state of the factory at the end of each\ntest case. This would already solve the current test case issue as only\nour offending test cases would initialize the global factory without\ncleanup and we have one test case per DB. So there would be no\ninterference. However if in the future we add similar test cases then\nthose can still interfere through the global factory.\n\nSo this patch fixes the two offending test case. Also it extends the\nDatabasePoisonFixture used for the NoDbTestCase tesst. The poison now\ndetects if the test case starts any transaction factory.\n\nThis poison caught another offender test case,\ntest_db_sync_with_special_symbols_in_connection_string, that was marked\nNoDb but actually using the database. It is now changed to declare\nitself as a test that sets up the DB manually and also it is changed to\nuse the Database fixture instead of touching the global factory\ndirectly.\n\nChange-Id: Id96f1795034490c13125ebbab49b029fb96af1c7\n'}, {'number': 5, 'created': '2021-10-27 17:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7b5fe6e3b5460e84533f6ebf146cde5c1efa3e3', 'message': 'Fix interference in db unit test\n\nWe discovered that two unit test cases added in\nI0647bb8545c1464b521a1d866cf5ee674aea2eae cause errors like\n  oslo_db.sqlalchemy.enginefacade.AlreadyStartedError:\n  this TransactionFactory is already started\n\nwhen the db tests run selectively with tox -e py38 nova.tests.unit.db\nbut does not cause errors if the whole unit test suit is run.\n\nThis error happened because our db code uses two global transaction\nfactory, one for the api DB and one for the main DB. There was a global\nflag SESSION_CONFIGURED in our Database fixture that guarded against\ndouble initialization of the factory. But the faulty test cases in\nquestion do not use our Database fixture but use the\nOpportunisticDBTestMixin from oslo_db. Obviously that fixture does not\nknow about our SESSION_CONFIGURED global. So if one of the offending\ntest case ran first in an executor then that initialized the\ntransaction factory globally and a later test that uses our Database\nfixture tried to configure it again leading to the error. For some\nunknown reason if these tests were run in the opposite order the faulty\nre-initialization did not happen. Probably the OpportunisticDBTestMixin\nwas able to prevent that.\n\nA previous patch already removed the global SESSION_CONFIGURED flag\nfrom our fixture and replaced it with a per DB specific patch_factory\ncalls that allow resetting the state of the factory at the end of each\ntest case. This would already solve the current test case issue as only\nour offending test cases would initialize the global factory without\ncleanup and we have one test case per DB. So there would be no\ninterference. However if in the future we add similar test cases then\nthose can still interfere through the global factory.\n\nSo this patch fixes the two offending test case. Also it extends the\nDatabasePoisonFixture used for the NoDbTestCase tesst. The poison now\ndetects if the test case starts any transaction factory.\n\nThis poison caught another offender test case,\ntest_db_sync_with_special_symbols_in_connection_string, that was marked\nNoDb but actually using the database. It is now changed to declare\nitself as a test that sets up the DB manually and also it is changed to\nuse the Database fixture instead of touching the global factory\ndirectly.\n\nCloses-Bug: #1948963\n\nChange-Id: Id96f1795034490c13125ebbab49b029fb96af1c7\n'}, {'number': 6, 'created': '2021-11-04 16:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16c8552dac71dd2e9e724ee8047d68831e6766f0', 'message': 'Fix interference in db unit test\n\nWe discovered that two unit test cases added in\nI0647bb8545c1464b521a1d866cf5ee674aea2eae cause errors like\n  oslo_db.sqlalchemy.enginefacade.AlreadyStartedError:\n  this TransactionFactory is already started\n\nwhen the db tests run selectively with tox -e py38 nova.tests.unit.db\nbut does not cause errors if the whole unit test suit is run.\n\nThis error happened because our db code uses two global transaction\nfactory, one for the api DB and one for the main DB. There was a global\nflag SESSION_CONFIGURED in our Database fixture that guarded against\ndouble initialization of the factory. But the faulty test cases in\nquestion do not use our Database fixture but use the\nOpportunisticDBTestMixin from oslo_db. Obviously that fixture does not\nknow about our SESSION_CONFIGURED global. So if one of the offending\ntest case ran first in an executor then that initialized the\ntransaction factory globally and a later test that uses our Database\nfixture tried to configure it again leading to the error. For some\nunknown reason if these tests were run in the opposite order the faulty\nre-initialization did not happen. Probably the OpportunisticDBTestMixin\nwas able to prevent that.\n\nA previous patch already removed the global SESSION_CONFIGURED flag\nfrom our fixture and replaced it with a per DB specific patch_factory\ncalls that allow resetting the state of the factory at the end of each\ntest case. This would already solve the current test case issue as only\nour offending test cases would initialize the global factory without\ncleanup and we have one test case per DB. So there would be no\ninterference. However if in the future we add similar test cases then\nthose can still interfere through the global factory.\n\nSo this patch fixes the two offending test case. Also it extends the\nDatabasePoisonFixture used for the NoDbTestCase tesst. The poison now\ndetects if the test case starts any transaction factory.\n\nThis poison caught another offender test case,\ntest_db_sync_with_special_symbols_in_connection_string, that was marked\nNoDb but actually using the database. It is now changed to declare\nitself as a test that sets up the DB manually and also it is changed to\nuse the Database fixture instead of touching the global factory\ndirectly.\n\nCloses-Bug: #1948963\n\nChange-Id: Id96f1795034490c13125ebbab49b029fb96af1c7\n'}, {'number': 7, 'created': '2021-11-05 10:52:07.000000000', 'files': ['nova/tests/fixtures/nova.py', 'nova/tests/unit/db/api/test_migrations.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/tests/unit/db/test_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a7bccff06b871765fb87ee3e9edd9458c7f73701', 'message': 'Fix interference in db unit test\n\nWe discovered that two unit test cases added in\nI0647bb8545c1464b521a1d866cf5ee674aea2eae cause errors like\n  oslo_db.sqlalchemy.enginefacade.AlreadyStartedError:\n  this TransactionFactory is already started\n\nwhen the db tests run selectively with tox -e py38 nova.tests.unit.db\nbut does not cause errors if the whole unit test suit is run.\n\nThis error happened because our db code uses two global transaction\nfactory, one for the api DB and one for the main DB. There was a global\nflag SESSION_CONFIGURED in our Database fixture that guarded against\ndouble initialization of the factory. But the faulty test cases in\nquestion do not use our Database fixture but use the\nOpportunisticDBTestMixin from oslo_db. Obviously that fixture does not\nknow about our SESSION_CONFIGURED global. So if one of the offending\ntest case ran first in an executor then that initialized the\ntransaction factory globally and a later test that uses our Database\nfixture tried to configure it again leading to the error. For some\nunknown reason if these tests were run in the opposite order the faulty\nre-initialization did not happen. Probably the OpportunisticDBTestMixin\nwas able to prevent that.\n\nA previous patch already removed the global SESSION_CONFIGURED flag\nfrom our fixture and replaced it with a per DB specific patch_factory\ncalls that allow resetting the state of the factory at the end of each\ntest case. This would already solve the current test case issue as only\nour offending test cases would initialize the global factory without\ncleanup and we have one test case per DB. So there would be no\ninterference. However if in the future we add similar test cases then\nthose can still interfere through the global factory.\n\nSo this patch fixes the two offending test case. Also it extends the\nDatabasePoisonFixture used for the NoDbTestCase tesst. The poison now\ndetects if the test case starts any transaction factory.\n\nThis poison caught another offender test case,\ntest_db_sync_with_special_symbols_in_connection_string, that was marked\nNoDb but actually using the database. It is now changed to declare\nitself as a test that sets up the DB manually and also it is changed to\nuse the Database fixture instead of touching the global factory\ndirectly.\n\nCloses-Bug: #1948963\n\nChange-Id: Id96f1795034490c13125ebbab49b029fb96af1c7\n'}]",13,814735,a7bccff06b871765fb87ee3e9edd9458c7f73701,38,6,7,9708,,,0,"Fix interference in db unit test

We discovered that two unit test cases added in
I0647bb8545c1464b521a1d866cf5ee674aea2eae cause errors like
  oslo_db.sqlalchemy.enginefacade.AlreadyStartedError:
  this TransactionFactory is already started

when the db tests run selectively with tox -e py38 nova.tests.unit.db
but does not cause errors if the whole unit test suit is run.

This error happened because our db code uses two global transaction
factory, one for the api DB and one for the main DB. There was a global
flag SESSION_CONFIGURED in our Database fixture that guarded against
double initialization of the factory. But the faulty test cases in
question do not use our Database fixture but use the
OpportunisticDBTestMixin from oslo_db. Obviously that fixture does not
know about our SESSION_CONFIGURED global. So if one of the offending
test case ran first in an executor then that initialized the
transaction factory globally and a later test that uses our Database
fixture tried to configure it again leading to the error. For some
unknown reason if these tests were run in the opposite order the faulty
re-initialization did not happen. Probably the OpportunisticDBTestMixin
was able to prevent that.

A previous patch already removed the global SESSION_CONFIGURED flag
from our fixture and replaced it with a per DB specific patch_factory
calls that allow resetting the state of the factory at the end of each
test case. This would already solve the current test case issue as only
our offending test cases would initialize the global factory without
cleanup and we have one test case per DB. So there would be no
interference. However if in the future we add similar test cases then
those can still interfere through the global factory.

So this patch fixes the two offending test case. Also it extends the
DatabasePoisonFixture used for the NoDbTestCase tesst. The poison now
detects if the test case starts any transaction factory.

This poison caught another offender test case,
test_db_sync_with_special_symbols_in_connection_string, that was marked
NoDb but actually using the database. It is now changed to declare
itself as a test that sets up the DB manually and also it is changed to
use the Database fixture instead of touching the global factory
directly.

Closes-Bug: #1948963

Change-Id: Id96f1795034490c13125ebbab49b029fb96af1c7
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/814735/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/api/test_migrations.py', 'nova/tests/unit/db/main/test_migrations.py']",2,f5af46d1ee0baf541a9547a48dd32b393ab01a2b,bug/1948963, def _test_db_version_alembic(self):, def test_db_version_alembic(self):,2,2
openstack%2Fkuryr-kubernetes~master~Ifc00f5d1201a5eef36d4dcd44d815b9fe085d15d,openstack/kuryr-kubernetes,master,Ifc00f5d1201a5eef36d4dcd44d815b9fe085d15d,Release VLAN ids of subports,NEW,2021-10-27 07:26:39.000000000,2021-11-09 14:22:16.000000000,,"[{'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-27 07:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b0138a89b2e967fce26ed275eb6ebe48db858044', 'message': 'Release VLAN ids of subports\n\nWhen attempting to delete a Port that is still\nconnected to a Trunk, the Port is detatched and\ndeleted, but the vlan id is never released. This\ncommit makes sure to free them upon Port detachment\nfrom Trunk.\n\nChange-Id: Ifc00f5d1201a5eef36d4dcd44d815b9fe085d15d\n'}, {'number': 2, 'created': '2021-10-27 09:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/db9a8f64ffb33e493cf408a7873c33485f586f09', 'message': 'Release VLAN ids of subports\n\nWhen attempting to delete a Port that is still\nconnected to a Trunk, the Port is detatched and\ndeleted, but the vlan id is never released. This\ncommit makes sure to free them upon Port detachment\nfrom Trunk.\n\nChange-Id: Ifc00f5d1201a5eef36d4dcd44d815b9fe085d15d\n'}, {'number': 3, 'created': '2021-10-27 09:27:06.000000000', 'files': ['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/clients.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vlan_vif.py', 'kuryr_kubernetes/controller/drivers/nested_vlan_vif.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_utils.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/046c6dd3a3739ae5d640e504c279c28e85e0ae7f', 'message': 'Release VLAN ids of subports\n\nWhen attempting to delete a Port that is still\nconnected to a Trunk, the Port is detatched and\ndeleted, but the vlan id is never released. This\ncommit makes sure to free them upon Port detachment\nfrom Trunk.\n\nChange-Id: Ifc00f5d1201a5eef36d4dcd44d815b9fe085d15d\n'}]",3,815600,046c6dd3a3739ae5d640e504c279c28e85e0ae7f,6,2,3,27032,,,0,"Release VLAN ids of subports

When attempting to delete a Port that is still
connected to a Trunk, the Port is detatched and
deleted, but the vlan id is never released. This
commit makes sure to free them upon Port detachment
from Trunk.

Change-Id: Ifc00f5d1201a5eef36d4dcd44d815b9fe085d15d
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/00/815600/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/clients.py', 'kuryr_kubernetes/controller/drivers/nested_vlan_vif.py']",3,b0138a89b2e967fce26ed275eb6ebe48db858044,release-vlan, utils.release_vlan_id(vif.vlan_id)," self._release_vlan_id(vif.vlan_id) def _release_vlan_id(self, id): return seg_driver.release_segmentation_id(id) ",24,5
openstack%2Fdevstack~master~Id827274b7c74cdf71db6d1f2ab3eadb5fef099f5,openstack/devstack,master,Id827274b7c74cdf71db6d1f2ab3eadb5fef099f5,neutron-legacy: Remove no longer necessary vpnaas conditional,MERGED,2017-10-17 04:00:27.000000000,2021-11-09 14:13:37.000000000,2021-11-09 13:59:10.000000000,"[{'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 15905}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-17 04:00:27.000000000', 'files': ['lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6839d42819c8349d8f1e72a58037198c97baca06', 'message': 'neutron-legacy: Remove no longer necessary vpnaas conditional\n\nVPNaaS agent is going to be an L3 agent extention.\n\nRelated-Bug: #1692128\nDepends-On: I0b86c432e4b2210e5f2a73a7e3ba16d10467f0f2\nChange-Id: Id827274b7c74cdf71db6d1f2ab3eadb5fef099f5\n'}]",1,512473,6839d42819c8349d8f1e72a58037198c97baca06,11,5,1,6854,,,0,"neutron-legacy: Remove no longer necessary vpnaas conditional

VPNaaS agent is going to be an L3 agent extention.

Related-Bug: #1692128
Depends-On: I0b86c432e4b2210e5f2a73a7e3ba16d10467f0f2
Change-Id: Id827274b7c74cdf71db6d1f2ab3eadb5fef099f5
",git fetch https://review.opendev.org/openstack/devstack refs/changes/73/512473/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron-legacy'],1,6839d42819c8349d8f1e72a58037198c97baca06,bug/1692128," run_process q-l3 ""$AGENT_L3_BINARY $(determine_config_files neutron-l3-agent)"""," if is_service_enabled neutron-vpnaas; then : # Started by plugin else run_process q-l3 ""$AGENT_L3_BINARY $(determine_config_files neutron-l3-agent)"" fi",1,5
openstack%2Fnova~master~Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01,openstack/nova,master,Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01,Refactor Database fixture,MERGED,2021-10-27 14:58:17.000000000,2021-11-09 14:13:36.000000000,2021-11-09 13:58:38.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-27 14:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b60083e2eb297ec52463190c22661de8cdba3ef', 'message': 'Refactor Database fixture\n\nThis patch apply the following changes to the fixture to make the\nintention clearer and remove some unnecessary complexity:\n\n* the fixture does a lot of dynamic thing in its __init__, these are\n  moved to setUp() instead to facilitate proper reset functionality of\n  the fixture\n\n* the caching and applying of the DB schema is made a explicit and\n  moved to setUp() too\n\n* the explicit reset() function is removed as it is probably\n  unintentionally overwrote the Fixture.reset(). Now the Fixture can be\n  properly reset by calling the Fixture.reset() which is by default\n  implemented by calling cleanUp() and setUp()\n\nChange-Id: Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01\n'}, {'number': 2, 'created': '2021-10-27 17:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5538e2ceed0472f75c75ed5f5e38191523acc6e8', 'message': 'Refactor Database fixture\n\nThis patch apply the following changes to the fixture to make the\nintention clearer and remove some unnecessary complexity:\n\n* the fixture does a lot of dynamic thing in its __init__, these are\n  moved to setUp() instead to facilitate proper reset functionality of\n  the fixture\n\n* the caching and applying of the DB schema is made a explicit and\n  moved to setUp() too\n\n* the explicit reset() function is removed as it is probably\n  unintentionally overwrote the Fixture.reset(). Now the Fixture can be\n  properly reset by calling the Fixture.reset() which is by default\n  implemented by calling cleanUp() and setUp()\n\nChange-Id: Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01\n'}, {'number': 3, 'created': '2021-11-04 16:26:59.000000000', 'files': ['nova/tests/fixtures/nova.py', 'nova/tests/unit/test_fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c7ccbfe403f100b5cb420fb12ac6244c4a7ae381', 'message': 'Refactor Database fixture\n\nThis patch apply the following changes to the fixture to make the\nintention clearer and remove some unnecessary complexity:\n\n* the fixture does a lot of dynamic thing in its __init__, these are\n  moved to setUp() instead to facilitate proper reset functionality of\n  the fixture\n\n* the caching and applying of the DB schema is made a explicit and\n  moved to setUp() too\n\n* the explicit reset() function is removed as it is probably\n  unintentionally overwrote the Fixture.reset(). Now the Fixture can be\n  properly reset by calling the Fixture.reset() which is by default\n  implemented by calling cleanUp() and setUp()\n\nChange-Id: Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01\n'}]",23,815690,c7ccbfe403f100b5cb420fb12ac6244c4a7ae381,28,5,3,9708,,,0,"Refactor Database fixture

This patch apply the following changes to the fixture to make the
intention clearer and remove some unnecessary complexity:

* the fixture does a lot of dynamic thing in its __init__, these are
  moved to setUp() instead to facilitate proper reset functionality of
  the fixture

* the caching and applying of the DB schema is made a explicit and
  moved to setUp() too

* the explicit reset() function is removed as it is probably
  unintentionally overwrote the Fixture.reset(). Now the Fixture can be
  properly reset by calling the Fixture.reset() which is by default
  implemented by calling cleanUp() and setUp()

Change-Id: Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/815690/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_connection_switch.py', 'nova/tests/fixtures/nova.py', 'nova/tests/unit/test_fixtures.py']",3,5b60083e2eb297ec52463190c22661de8cdba3ef,bug/1948963, db_fixture = fixtures.Database() self.useFixture(db_fixture) db_fixture.reset() engine = main_db_api.get_engine() db_fixture = fixtures.Database(database='api') self.useFixture(db_fixture) db_fixture.reset() engine = api_db_api.get_engine(), self.useFixture(fixtures.Database()) # reset by invoking the fixture again # self.useFixture(fixtures.Database()) self.useFixture(fixtures.Database(database='api')) # reset by invoking the fixture again # self.useFixture(fixtures.Database(database='api')),36,34
openstack%2Fnova~master~Icd25adcc931cae2126e03c00af7e4420d3781b9a,openstack/nova,master,Icd25adcc931cae2126e03c00af7e4420d3781b9a,Use ReplaceEngineFacade fixture,MERGED,2021-11-05 10:50:54.000000000,2021-11-09 13:58:49.000000000,2021-11-09 13:58:49.000000000,"[{'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 10:50:54.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/063ed41174c27c20871696f7c6dcb1eddb4310ee', 'message': 'Use ReplaceEngineFacade fixture\n\nNow that the previous patch Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e moved\nmost of the logic to the setUp of the Database fixture we can replace\nour direct factory patching with the ReplaceEngineFacade fixture from\noslo_db.\n\nChange-Id: Icd25adcc931cae2126e03c00af7e4420d3781b9a\n'}]",0,816820,063ed41174c27c20871696f7c6dcb1eddb4310ee,11,3,1,9708,,,0,"Use ReplaceEngineFacade fixture

Now that the previous patch Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e moved
most of the logic to the setUp of the Database fixture we can replace
our direct factory patching with the ReplaceEngineFacade fixture from
oslo_db.

Change-Id: Icd25adcc931cae2126e03c00af7e4420d3781b9a
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/816820/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/nova.py'],1,063ed41174c27c20871696f7c6dcb1eddb4310ee,bug/1948963,"from oslo_db.sqlalchemy import test_fixtures as db_fixtures # NOTE(gibi): this injects a new factory for each test and # cleans it up at then end of the test case. This way we can # let each test configure the factory so we can avoid having a # global flag guarding against factory re-configuration new_engine = enginefacade.transaction_context() self.useFixture( db_fixtures.ReplaceEngineFacadeFixture( main_db_api.context_manager, new_engine)) new_engine = enginefacade.transaction_context() self.useFixture( db_fixtures.ReplaceEngineFacadeFixture( api_db_api.context_manager, new_engine))", # NOTE(gibi): this inject a new factory for each test and # registers a cleanup that cleans the factory at the end # of the test case. This way we can let each test configure the # factory so we can avoid having a global flag guarding against # factory re-configuration self.addCleanup(main_db_api.context_manager.patch_factory( enginefacade._TransactionFactory())) self.addCleanup(api_db_api.context_manager.patch_factory( enginefacade._TransactionFactory())),13,9
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I792f453d4f84c3b572fe98929676b624675c0aee,openstack/tripleo-heat-templates,stable/wallaby,I792f453d4f84c3b572fe98929676b624675c0aee,Fix artifact module usage,MERGED,2021-11-08 05:59:19.000000000,2021-11-09 13:56:06.000000000,2021-11-09 13:56:06.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-08 05:59:19.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d68ab43c7a1c6dc49046d5f29ed3645c17ef4d4', 'message': 'Fix artifact module usage\n\nThis change updates the artifact module usage to leverage\nour action plugin. Without this change any usage of deployed\nartifacts is broken.\n\n> ""Unsupported parameters for (tripleo_deploy_artifacts)\n  module: artifact_paths Supported parameters include:\n  artifact_urls""\n\nThis change resolves the above error.\n\nChange-Id: I792f453d4f84c3b572fe98929676b624675c0aee\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 127a8945f65253f114a58a1e0270e8a833b00134)\n'}]",1,816950,2d68ab43c7a1c6dc49046d5f29ed3645c17ef4d4,11,5,1,25241,,,0,"Fix artifact module usage

This change updates the artifact module usage to leverage
our action plugin. Without this change any usage of deployed
artifacts is broken.

> ""Unsupported parameters for (tripleo_deploy_artifacts)
  module: artifact_paths Supported parameters include:
  artifact_urls""

This change resolves the above error.

Change-Id: I792f453d4f84c3b572fe98929676b624675c0aee
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 127a8945f65253f114a58a1e0270e8a833b00134)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/816950/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,2d68ab43c7a1c6dc49046d5f29ed3645c17ef4d4,, - name: Deploy Artifacts tripleo_push_artifacts:, - name: Deploy pull Artifacts tripleo_deploy_artifacts:,2,2
openstack%2Ftripleo-ansible~stable%2Fwallaby~I05c894b2fbd0795dd38b937a82e238b85235d6c3,openstack/tripleo-ansible,stable/wallaby,I05c894b2fbd0795dd38b937a82e238b85235d6c3,Ensure we mount the certificates in container,MERGED,2021-11-06 22:26:42.000000000,2021-11-09 13:56:00.000000000,2021-11-09 13:56:00.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-11-06 22:26:42.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/dashboard/dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/62ced715bd6f97bf2eace2d0b23406bd6dfd3341', 'message': 'Ensure we mount the certificates in container\n\nWe must ensure we actually mount the certificates in ceph boostrap\ncontainer when we have TLS involved.\n\nChange-Id: I05c894b2fbd0795dd38b937a82e238b85235d6c3\n(cherry picked from commit 55b47ddc36af0df635a78b29026368c4cc489083)\n'}]",2,816881,62ced715bd6f97bf2eace2d0b23406bd6dfd3341,14,6,1,25402,,,0,"Ensure we mount the certificates in container

We must ensure we actually mount the certificates in ceph boostrap
container when we have TLS involved.

Change-Id: I05c894b2fbd0795dd38b937a82e238b85235d6c3
(cherry picked from commit 55b47ddc36af0df635a78b29026368c4cc489083)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/816881/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/tasks/dashboard/dashboard.yaml'],1,62ced715bd6f97bf2eace2d0b23406bd6dfd3341,cephadm/slurp-cert-stable/wallaby," mount_certs: ""{{ (tripleo_cephadm_dashboard_protocol == 'https' and tripleo_cephadm_dashboard_crt | length > 0 and tripleo_cephadm_dashboard_key | length > 0) | bool }}""",,1,0
openstack%2Fopenstack-ansible-os_tempest~stable%2Fussuri~Ifba6836d824e7e6b956a81271d95d6dabe6c4163,openstack/openstack-ansible-os_tempest,stable/ussuri,Ifba6836d824e7e6b956a81271d95d6dabe6c4163,Pin neutron-tempest-plugin to v1.6.0,MERGED,2021-10-27 12:22:44.000000000,2021-11-09 13:32:35.000000000,2021-11-09 13:22:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-10-27 12:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/9f5a733676a36c9a4b760167090ad67ee99f0399', 'message': ""Pin neutron-tempest-plugin to v1.6.0\n\nLater versions of the neutron tempest plugin depend on a\nmore recent version of tempest than is used by the OSA\nwallaby release and earlier stable releases. Later versions\nof this plugin require the\n'qos_limit_bandwidth_rules_client' component.\n\nChange-Id: Ifba6836d824e7e6b956a81271d95d6dabe6c4163\n(cherry picked from commit bd399b80e9de12452f1bee620bc60a69c142bf40)\n(cherry picked from commit 06add17f32a65904b9f075dbd808f02b7eb6f9e5)\n""}, {'number': 2, 'created': '2021-11-04 11:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/3420c04c2aa0d79ae766d021077b4521668dd621', 'message': ""Pin neutron-tempest-plugin to v1.6.0\n\nLater versions of the neutron tempest plugin depend on a\nmore recent version of tempest than is used by the OSA\nwallaby release and earlier stable releases. Later versions\nof this plugin require the\n'qos_limit_bandwidth_rules_client' component.\n\nChange-Id: Ifba6836d824e7e6b956a81271d95d6dabe6c4163\n(cherry picked from commit bd399b80e9de12452f1bee620bc60a69c142bf40)\n(cherry picked from commit 06add17f32a65904b9f075dbd808f02b7eb6f9e5)\n""}, {'number': 3, 'created': '2021-11-05 14:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/720a33d41f364845524def276e58298faa1b8b99', 'message': ""Pin neutron-tempest-plugin to v1.6.0\n\nLater versions of the neutron tempest plugin depend on a\nmore recent version of tempest than is used by the OSA\nwallaby release and earlier stable releases. Later versions\nof this plugin require the\n'qos_limit_bandwidth_rules_client' component.\n\nChange-Id: Ifba6836d824e7e6b956a81271d95d6dabe6c4163\n(cherry picked from commit bd399b80e9de12452f1bee620bc60a69c142bf40)\n(cherry picked from commit 06add17f32a65904b9f075dbd808f02b7eb6f9e5)\n""}, {'number': 4, 'created': '2021-11-05 14:08:35.000000000', 'files': ['zuul.d/project.yaml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a6498e4a1184164746f358b6a72bcccb505458c9', 'message': ""Pin neutron-tempest-plugin to v1.6.0\n\nLater versions of the neutron tempest plugin depend on a\nmore recent version of tempest than is used by the OSA\nwallaby release and earlier stable releases. Later versions\nof this plugin require the\n'qos_limit_bandwidth_rules_client' component.\n\nChange-Id: Ifba6836d824e7e6b956a81271d95d6dabe6c4163\n(cherry picked from commit bd399b80e9de12452f1bee620bc60a69c142bf40)\n(cherry picked from commit 06add17f32a65904b9f075dbd808f02b7eb6f9e5)\n""}]",2,815631,a6498e4a1184164746f358b6a72bcccb505458c9,18,3,4,28619,,,0,"Pin neutron-tempest-plugin to v1.6.0

Later versions of the neutron tempest plugin depend on a
more recent version of tempest than is used by the OSA
wallaby release and earlier stable releases. Later versions
of this plugin require the
'qos_limit_bandwidth_rules_client' component.

Change-Id: Ifba6836d824e7e6b956a81271d95d6dabe6c4163
(cherry picked from commit bd399b80e9de12452f1bee620bc60a69c142bf40)
(cherry picked from commit 06add17f32a65904b9f075dbd808f02b7eb6f9e5)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/31/815631/4 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,9f5a733676a36c9a4b760167090ad67ee99f0399,815631, branch: 1.6.0, branch: master,1,1
openstack%2Fnova~master~Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e,openstack/nova,master,Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e,Remove SESSION_CONFIGURED global from DB fixture,MERGED,2021-10-27 14:56:58.000000000,2021-11-09 13:28:25.000000000,2021-11-09 13:21:09.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-27 14:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa2ac1c3f5bee419dc1db862fdc0aa37c4fb1a8e', 'message': 'Remove SESSION_CONFIGURED global from DB fixture\n\nThe SESSION_CONFIGURED global flag is used in the Database fixture to\nguard against the reconfiguration of the DB context in each test as the\nglobal transaction factory does not allow such reconfiguration. However\nthis global is error prone for multiple reasons:\n\n * there are tests that actually configure the factory outside of the\n   fixture causing tests to interfere\n\n * we use one single global flag but we always have two separate\n   Database fixture one for the api DB and one for the main DB. Still\n   the fixture instantiated first will do the configuration of both\n   DB factory.\n\nThis patch replaces the global with two individual oslo_db enginefacade\npatch_factory() calls that allows patching and resetting the global\nfactory per test case.\n\nChange-Id: Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e\n'}, {'number': 2, 'created': '2021-11-04 16:26:59.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f318f822fcf6dec4c3cd9b7e5111f3e1371aa51a', 'message': 'Remove SESSION_CONFIGURED global from DB fixture\n\nThe SESSION_CONFIGURED global flag is used in the Database fixture to\nguard against the reconfiguration of the DB context in each test as the\nglobal transaction factory does not allow such reconfiguration. However\nthis global is error prone for multiple reasons:\n\n * there are tests that actually configure the factory outside of the\n   fixture causing tests to interfere\n\n * we use one single global flag but we always have two separate\n   Database fixture one for the api DB and one for the main DB. Still\n   the fixture instantiated first will do the configuration of both\n   DB factory.\n\nThis patch replaces the global with two individual oslo_db enginefacade\npatch_factory() calls that allows patching and resetting the global\nfactory per test case.\n\nChange-Id: Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e\n'}]",14,815689,f318f822fcf6dec4c3cd9b7e5111f3e1371aa51a,24,5,2,9708,,,0,"Remove SESSION_CONFIGURED global from DB fixture

The SESSION_CONFIGURED global flag is used in the Database fixture to
guard against the reconfiguration of the DB context in each test as the
global transaction factory does not allow such reconfiguration. However
this global is error prone for multiple reasons:

 * there are tests that actually configure the factory outside of the
   fixture causing tests to interfere

 * we use one single global flag but we always have two separate
   Database fixture one for the api DB and one for the main DB. Still
   the fixture instantiated first will do the configuration of both
   DB factory.

This patch replaces the global with two individual oslo_db enginefacade
patch_factory() calls that allows patching and resetting the global
factory per test case.

Change-Id: Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/815689/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/nova.py'],1,fa2ac1c3f5bee419dc1db862fdc0aa37c4fb1a8e,bug/1948963,from oslo_db.sqlalchemy import enginefacade # NOTE(gibi): this inject a new factor for each test and # self.factory_reset is used to clean up the factory at the end # of the test case. This way we can let each test configure the # factory so we can avoid having a global flag guarding against # factory re-configuration self.factory_reset = main_db_api.context_manager.patch_factory( enginefacade._TransactionFactory()) main_db_api.configure(CONF) # NOTE(gibi): similar note applies here as for the main_db_api # above self.factory_reset = api_db_api.context_manager.patch_factory( enginefacade._TransactionFactory()) api_db_api.configure(CONF) self.factory_reset(),SESSION_CONFIGURED = False # NOTE(pkholkin): oslo_db.enginefacade is configured in tests the # same way as it is done for any other service that uses DB global SESSION_CONFIGURED if not SESSION_CONFIGURED: main_db_api.configure(CONF) api_db_api.configure(CONF) SESSION_CONFIGURED = True ,17,9
openstack%2Ftripleo-quickstart-extras~master~I495aaf577b1f6223375b018c1c62780631416835,openstack/tripleo-quickstart-extras,master,I495aaf577b1f6223375b018c1c62780631416835,Remove useless pip upgrade.,ABANDONED,2019-04-29 09:17:48.000000000,2021-11-09 13:24:14.000000000,,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-29 09:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f20de271dbba8aedc11f323e6a376892596a03a5', 'message': 'Remove useless pip upgrade.\n\nThis command is already run by the install-deps.sh script.\n\nChange-Id: I495aaf577b1f6223375b018c1c62780631416835\n'}, {'number': 2, 'created': '2019-05-24 07:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/36f755bac82682926818761483e1194c1a0b09b2', 'message': 'Remove useless pip upgrade.\n\nThis command is already run by the install-deps.sh script.\n\nChange-Id: I495aaf577b1f6223375b018c1c62780631416835\n'}, {'number': 3, 'created': '2019-07-11 16:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ff50c3c7d394b3ecc00ef3ae1efd5124b428417a', 'message': 'Remove useless pip upgrade.\n\nThis command is already run by the install-deps.sh script.\n\nChange-Id: I495aaf577b1f6223375b018c1c62780631416835\n'}, {'number': 4, 'created': '2019-07-26 07:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c70b49434c9b2566745fcf03fa2e4aa108c91140', 'message': 'Remove useless pip upgrade.\n\nThis command is already run by the install-deps.sh script.\n\nChange-Id: I495aaf577b1f6223375b018c1c62780631416835\n'}, {'number': 5, 'created': '2019-10-08 08:56:12.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/57f7c4ec5aee0519bc1f2fcff99858b1897f8ace', 'message': 'Remove useless pip upgrade.\n\nThis command is already run by the install-deps.sh script.\n\nChange-Id: I495aaf577b1f6223375b018c1c62780631416835\n'}]",1,656269,57f7c4ec5aee0519bc1f2fcff99858b1897f8ace,37,9,5,29222,,,0,"Remove useless pip upgrade.

This command is already run by the install-deps.sh script.

Change-Id: I495aaf577b1f6223375b018c1c62780631416835
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/69/656269/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2'],1,f20de271dbba8aedc11f323e6a376892596a03a5,remove_useless_pip_upgrade,,# Ensure pip is updated sudo pip install --upgrade pip,0,2
openstack%2Ftripleo-quickstart-extras~master~If0e190344fe8f1375d8b2c1f4aa8ccd54811f16d,openstack/tripleo-quickstart-extras,master,If0e190344fe8f1375d8b2c1f4aa8ccd54811f16d,Restore ignore_errors for tempest-results tasks,ABANDONED,2019-08-13 13:54:40.000000000,2021-11-09 13:23:45.000000000,,"[{'_account_id': 1918}, {'_account_id': 8367}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18575}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-13 13:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5fcb0a7c76397f9f0f7c8c2992688617bc02205d', 'message': ""Restore ignore_errors for tempest-results tasks\n\nCommint cd7bb9bc8 removed (by mistake apparently) the 'ignore_errors:\ntrue' statement fro the tasks block generating the tempest results.\n\nChange-Id: If0e190344fe8f1375d8b2c1f4aa8ccd54811f16d\n""}, {'number': 2, 'created': '2019-09-02 09:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/de368c6da9524a260c7c22d0b8b26026dd36fee3', 'message': ""Restore ignore_errors for tempest-results tasks\n\nChange I9c7f97f3aa97c0ea061ba6aeb125501bf3a1adbf removed (by mistake\napparently) the 'ignore_errors: true' statement for the tasks block\ngenerating the tempest results.\n\nChange-Id: If0e190344fe8f1375d8b2c1f4aa8ccd54811f16d\n""}, {'number': 3, 'created': '2019-09-15 07:41:00.000000000', 'files': ['roles/validate-tempest/tasks/tempest-results.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/46a1501afcea12462d4971b4e14a3558645e8f34', 'message': ""Restore ignore_errors for tempest-results tasks\n\nChange I9c7f97f3aa97c0ea061ba6aeb125501bf3a1adbf removed (by mistake\napparently) the 'ignore_errors: true' statement for the tasks block\ngenerating the tempest results.\n\nChange-Id: If0e190344fe8f1375d8b2c1f4aa8ccd54811f16d\n""}]",2,676196,46a1501afcea12462d4971b4e14a3558645e8f34,23,9,3,1918,,,0,"Restore ignore_errors for tempest-results tasks

Change I9c7f97f3aa97c0ea061ba6aeb125501bf3a1adbf removed (by mistake
apparently) the 'ignore_errors: true' statement for the tasks block
generating the tempest results.

Change-Id: If0e190344fe8f1375d8b2c1f4aa8ccd54811f16d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/96/676196/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/tasks/tempest-results.yml'],1,5fcb0a7c76397f9f0f7c8c2992688617bc02205d,restore_ignore_errors_tempest_results,- ignore_errors: true block:,- block:,2,1
openstack%2Fdib-utils~master~Idb24aedfdfcff997a5353572341e05a10224f4c9,openstack/dib-utils,master,Idb24aedfdfcff997a5353572341e05a10224f4c9,Fix author-email in setup.cfg,ABANDONED,2019-01-22 08:42:31.000000000,2021-11-09 13:22:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-01-22 08:42:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/dib-utils/commit/484423f32a04083f4469cd9ef9202ae8b5e28f67', 'message': 'Fix author-email in setup.cfg\n\nChange-Id: Idb24aedfdfcff997a5353572341e05a10224f4c9\n'}]",0,632311,484423f32a04083f4469cd9ef9202ae8b5e28f67,4,2,1,29423,,,0,"Fix author-email in setup.cfg

Change-Id: Idb24aedfdfcff997a5353572341e05a10224f4c9
",git fetch https://review.opendev.org/openstack/dib-utils refs/changes/11/632311/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,484423f32a04083f4469cd9ef9202ae8b5e28f67,,author_email = openstack-discuss@lists.openstack.org,author_email = openstack-dev@lists.openstack.org,1,1
openstack%2Fdib-utils~master~I63268a32303080288fb0ae2648f908722763ca39,openstack/dib-utils,master,I63268a32303080288fb0ae2648f908722763ca39,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 14:54:26.000000000,2021-11-09 13:21:53.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-12-05 14:54:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/dib-utils/commit/e88c3be48f254df7be9524615337b71f719d6496', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I63268a32303080288fb0ae2648f908722763ca39\n'}]",0,622986,e88c3be48f254df7be9524615337b71f719d6496,5,3,1,28935,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I63268a32303080288fb0ae2648f908722763ca39
",git fetch https://review.opendev.org/openstack/dib-utils refs/changes/86/622986/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e88c3be48f254df7be9524615337b71f719d6496,,author-email = openstack-discuss@lists.openstack.org,author_email = openstack-dev@lists.openstack.org,1,1
openstack%2Fmonasca-agent~master~I685c408cfacdc9275e988aa1f5119b5e96b4aa0c,openstack/monasca-agent,master,I685c408cfacdc9275e988aa1f5119b5e96b4aa0c,[WIP] Comment oslo-vmware library,ABANDONED,2021-10-12 18:58:05.000000000,2021-11-09 13:18:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-12 18:58:05.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/ff0234bbd970bcb4c4194a308ac168362bd13c03', 'message': '[WIP] Comment oslo-vmware library\n\nChange-Id: I685c408cfacdc9275e988aa1f5119b5e96b4aa0c\n'}]",0,813692,ff0234bbd970bcb4c4194a308ac168362bd13c03,3,1,1,26141,,,0,"[WIP] Comment oslo-vmware library

Change-Id: I685c408cfacdc9275e988aa1f5119b5e96b4aa0c
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/92/813692/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ff0234bbd970bcb4c4194a308ac168362bd13c03,fix-oslo-vmware,#oslo.vmware>=2.17.0 # Apache-2.0,oslo.vmware>=2.17.0 # Apache-2.0,1,1
openstack%2Fos-net-config~master~I29e899b50d8a51432de8dc35382940293ce4d037,openstack/os-net-config,master,I29e899b50d8a51432de8dc35382940293ce4d037,Change the pkey_id type from string to int,MERGED,2021-10-19 11:26:38.000000000,2021-11-09 12:35:15.000000000,2021-11-09 12:31:03.000000000,"[{'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 25241}, {'_account_id': 28714}]","[{'number': 1, 'created': '2021-10-19 11:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1a5c71e21afc6c8f3f67741adb30ee24fef9d956', 'message': 'Change the pkey_id type from string to int\n\nChange-Id: I29e899b50d8a51432de8dc35382940293ce4d037\n'}, {'number': 2, 'created': '2021-10-28 16:32:30.000000000', 'files': ['etc/os-net-config/samples/ib_child_interface.json', 'os_net_config/schema.yaml', 'os_net_config/tests/test_objects.py', 'os_net_config/impl_ifcfg.py', 'etc/os-net-config/samples/ib_child_interface.yaml', 'os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/78089ca531a31be5de422abf4cb0172b47f15c16', 'message': 'Change the pkey_id type from string to int\n\nChange-Id: I29e899b50d8a51432de8dc35382940293ce4d037\n'}]",10,814556,78089ca531a31be5de422abf4cb0172b47f15c16,20,8,2,25241,,,0,"Change the pkey_id type from string to int

Change-Id: I29e899b50d8a51432de8dc35382940293ce4d037
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/56/814556/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/os-net-config/samples/ib_child_interface.json', 'os_net_config/schema.yaml', 'os_net_config/tests/test_objects.py', 'os_net_config/impl_ifcfg.py', 'etc/os-net-config/samples/ib_child_interface.yaml', 'os_net_config/objects.py']",6,1a5c71e21afc6c8f3f67741adb30ee24fef9d956,," try: pkey_id = int(pkey_id) except ValueError: try: pkey_id = int(pkey_id, base=16) except Exception: # Note (Abdallahyas): We do not care for other # bases other than decimal and hexa msg = ""pkey only support decimal and hex bases, not int"" raise InvalidConfigException(msg)"," if type(pkey_id) == str: try: pkey_id = int(pkey_id) except ValueError: try: pkey_id = int(pkey_id, base=16) except Exception: # Note (Abdallahyas): We do not care for other # bases other than decimal and hexa msg = ""pkey only support decimal and hex bases, not int"" raise InvalidConfigException(msg) else: msg = ""Invalid pkey type: got %s"" % type(pkey_id) raise InvalidConfigException(msg)",17,28
openstack%2Ftripleo-heat-templates~master~I01bdd04fd7643672b45415271be5c9c63ad498e2,openstack/tripleo-heat-templates,master,I01bdd04fd7643672b45415271be5c9c63ad498e2,Fix logic related to CinderEtcdLocalConnect parameter,MERGED,2021-11-08 22:07:38.000000000,2021-11-09 12:31:06.000000000,2021-11-09 12:31:06.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-08 22:07:38.000000000', 'files': ['deployment/cinder/cinder-volume-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8cb2fd898c3a275a319fb590ec4b3557bb7ef1b8', 'message': ""Fix logic related to CinderEtcdLocalConnect parameter\n\nI0ffb201c7c0a453a022cca45255afc7ab2c08046 simplified a number of\ncinder's templates, but the logic related to CinderEtcdLocalConnect\nwas inadvertently inverted. This patch fixes the logic so that the\nassociated config data is generated when CinderEtcdLocalConnect is\nTrue.\n\nChange-Id: I01bdd04fd7643672b45415271be5c9c63ad498e2\n""}]",0,817113,8cb2fd898c3a275a319fb590ec4b3557bb7ef1b8,8,4,1,21129,,,0,"Fix logic related to CinderEtcdLocalConnect parameter

I0ffb201c7c0a453a022cca45255afc7ab2c08046 simplified a number of
cinder's templates, but the logic related to CinderEtcdLocalConnect
was inadvertently inverted. This patch fixes the logic so that the
associated config data is generated when CinderEtcdLocalConnect is
True.

Change-Id: I01bdd04fd7643672b45415271be5c9c63ad498e2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/817113/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-volume-container-puppet.yaml'],1,8cb2fd898c3a275a319fb590ec4b3557bb7ef1b8,simplify_tht, - {get_param: CinderEtcdLocalConnect}," - not: {equals : [{get_param: CinderEtcdLocalConnect}, true]}",1,1
openstack%2Fironic-python-agent~bugfix%2F8.1~If5da3075e813ae01df3decf8f0647aba111b0515,openstack/ironic-python-agent,bugfix/8.1,If5da3075e813ae01df3decf8f0647aba111b0515,Re-read the partition table with partx -a,MERGED,2021-11-09 07:49:38.000000000,2021-11-09 12:23:38.000000000,2021-11-09 12:18:49.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-09 07:49:38.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/fix-rescan-device-7b00c6836b687ce8.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/56fa7c9651386120eb63d65f3714625363deab1a', 'message': ""Re-read the partition table with partx -a\n\nRe-read the partition table with 'partx -a', rather than 'partx -u'.\n\nThis should fix an timing issue where the bootloader installation\nfails to mount the EFI partition from a whole disk image since it\nis not yet aware of the new partitions (observed with both, the\niscsi and the direct deploy interface).\n\nChange-Id: If5da3075e813ae01df3decf8f0647aba111b0515\n(cherry picked from commit dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0)\n""}]",0,817151,56fa7c9651386120eb63d65f3714625363deab1a,7,2,1,11292,,,0,"Re-read the partition table with partx -a

Re-read the partition table with 'partx -a', rather than 'partx -u'.

This should fix an timing issue where the bootloader installation
fails to mount the EFI partition from a whole disk image since it
is not yet aware of the new partitions (observed with both, the
iscsi and the direct deploy interface).

Change-Id: If5da3075e813ae01df3decf8f0647aba111b0515
(cherry picked from commit dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/51/817151/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/fix-rescan-device-7b00c6836b687ce8.yaml']",3,56fa7c9651386120eb63d65f3714625363deab1a,,--- fixes: - | Fixes an issue where partitions are not visible due to a incorrect call to have the partition table re-read. ,,21,16
openstack%2Fironic-python-agent~stable%2Fwallaby~If5da3075e813ae01df3decf8f0647aba111b0515,openstack/ironic-python-agent,stable/wallaby,If5da3075e813ae01df3decf8f0647aba111b0515,Re-read the partition table with partx -a,MERGED,2021-11-09 07:32:40.000000000,2021-11-09 12:08:16.000000000,2021-11-09 11:59:56.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-09 07:32:40.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/fix-rescan-device-7b00c6836b687ce8.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ab3e8a75badf2719602b2416af9e3c19d7511c79', 'message': ""Re-read the partition table with partx -a\n\nRe-read the partition table with 'partx -a', rather than 'partx -u'.\n\nThis should fix an timing issue where the bootloader installation\nfails to mount the EFI partition from a whole disk image since it\nis not yet aware of the new partitions (observed with both, the\niscsi and the direct deploy interface).\n\nChange-Id: If5da3075e813ae01df3decf8f0647aba111b0515\n(cherry picked from commit dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0)\n""}]",0,817145,ab3e8a75badf2719602b2416af9e3c19d7511c79,7,2,1,11292,,,0,"Re-read the partition table with partx -a

Re-read the partition table with 'partx -a', rather than 'partx -u'.

This should fix an timing issue where the bootloader installation
fails to mount the EFI partition from a whole disk image since it
is not yet aware of the new partitions (observed with both, the
iscsi and the direct deploy interface).

Change-Id: If5da3075e813ae01df3decf8f0647aba111b0515
(cherry picked from commit dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/45/817145/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/fix-rescan-device-7b00c6836b687ce8.yaml']",3,ab3e8a75badf2719602b2416af9e3c19d7511c79,,--- fixes: - | Fixes an issue where partitions are not visible due to a incorrect call to have the partition table re-read. ,,20,15
openstack%2Fironic-python-agent~stable%2Fxena~If5da3075e813ae01df3decf8f0647aba111b0515,openstack/ironic-python-agent,stable/xena,If5da3075e813ae01df3decf8f0647aba111b0515,Re-read the partition table with partx -a,MERGED,2021-11-09 07:25:13.000000000,2021-11-09 12:08:15.000000000,2021-11-09 11:59:53.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-09 07:25:13.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/fix-rescan-device-7b00c6836b687ce8.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8c88a400426a17f2c7b8a3b1b4cf951b18418b0d', 'message': ""Re-read the partition table with partx -a\n\nRe-read the partition table with 'partx -a', rather than 'partx -u'.\n\nThis should fix an timing issue where the bootloader installation\nfails to mount the EFI partition from a whole disk image since it\nis not yet aware of the new partitions (observed with both, the\niscsi and the direct deploy interface).\n\nChange-Id: If5da3075e813ae01df3decf8f0647aba111b0515\n(cherry picked from commit dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0)\n""}]",0,817143,8c88a400426a17f2c7b8a3b1b4cf951b18418b0d,7,2,1,11292,,,0,"Re-read the partition table with partx -a

Re-read the partition table with 'partx -a', rather than 'partx -u'.

This should fix an timing issue where the bootloader installation
fails to mount the EFI partition from a whole disk image since it
is not yet aware of the new partitions (observed with both, the
iscsi and the direct deploy interface).

Change-Id: If5da3075e813ae01df3decf8f0647aba111b0515
(cherry picked from commit dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/43/817143/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/fix-rescan-device-7b00c6836b687ce8.yaml']",3,8c88a400426a17f2c7b8a3b1b4cf951b18418b0d,,--- fixes: - | Fixes an issue where partitions are not visible due to a incorrect call to have the partition table re-read. ,,22,17
openstack%2Fkolla~stable%2Fxena~I0954bcc8ee42b15420fe1cd54aac96cb0c0c7e0d,openstack/kolla,stable/xena,I0954bcc8ee42b15420fe1cd54aac96cb0c0c7e0d,Debian: we want Openvswitch and ovn from backports,MERGED,2021-11-04 14:18:12.000000000,2021-11-09 11:54:33.000000000,2021-11-09 11:49:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-04 14:18:12.000000000', 'files': ['docker/base/apt_preferences.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/65346400da4691b03d6191b7cdf2743e86062cfc', 'message': 'Debian: we want Openvswitch and ovn from backports\n\nThose packages are in exactly same versions in bullseye-xena-backports\nand in bullseye-backports. So we have to choose one source to keep\nbuilds running otherwise they report downgrading of packages.\n\nChange-Id: I0954bcc8ee42b15420fe1cd54aac96cb0c0c7e0d\n(cherry picked from commit a26f4e3ec68d135112d60a08100289598ddebe61)\n'}]",0,816657,65346400da4691b03d6191b7cdf2743e86062cfc,9,3,1,24072,,,0,"Debian: we want Openvswitch and ovn from backports

Those packages are in exactly same versions in bullseye-xena-backports
and in bullseye-backports. So we have to choose one source to keep
builds running otherwise they report downgrading of packages.

Change-Id: I0954bcc8ee42b15420fe1cd54aac96cb0c0c7e0d
(cherry picked from commit a26f4e3ec68d135112d60a08100289598ddebe61)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/816657/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/apt_preferences.debian'],1,65346400da4691b03d6191b7cdf2743e86062cfc,, # NOTE(hrw): we do not want backports unless requested Package: * Pin: release n=bullseye-backports Pin-Priority: -1000 # NOTE(hrw): let us list some backports Package: openvswitch* python3-openvswitch ovn-* Pin: release n=bullseye-backports Pin-Priority: 1024,,10,0
openstack%2Fos-net-config~stable%2Ftrain~Ic6738de42b9aa0346f48060c143c5f779b67867e,openstack/os-net-config,stable/train,Ic6738de42b9aa0346f48060c143c5f779b67867e,Update sriov config service to handle nic partitioned PF,MERGED,2021-10-18 13:16:38.000000000,2021-11-09 11:45:50.000000000,2021-11-09 11:36:14.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 33688}]","[{'number': 1, 'created': '2021-10-18 13:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/a12626938ce9393fac524ecaa19f1b688197ab8f', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nThe function setUp_pf_stubs() was added in the vdpa patch:\n    https://review.opendev.org/c/openstack/os-net-config/+/798926/\nSince there is a dependency on this API for the tests of this patch,\nit has been added here\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n'}, {'number': 2, 'created': '2021-10-27 14:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/9dcb3d19331d233a2529e12ed9f9306d4fb0d3d9', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nThe function setUp_pf_stubs() was added in the vdpa patch:\n    https://review.opendev.org/c/openstack/os-net-config/+/798926/\nSince there is a dependency on this API for the tests of this patch,\nit has been added here\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n'}, {'number': 3, 'created': '2021-10-29 12:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/a47cead3915ba857c9f52e9f81d79d53e94d00c6', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nThe function setUp_pf_stubs() was added in the vdpa patch:\n    https://review.opendev.org/c/openstack/os-net-config/+/798926/\nSince there is a dependency on this API for the tests of this patch,\nit has been added here\n\nRemoving fstring changes as train needs to support py27\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n'}, {'number': 4, 'created': '2021-11-08 10:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/30939fc28d7d1f38ef3ddde2ac290ad5f0e5f2e3', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nThe function setUp_pf_stubs() was added in the vdpa patch:\n    https://review.opendev.org/c/openstack/os-net-config/+/798926/\nSince there is a dependency on this API for the tests of this patch,\nit has been added here\n\nRemoving fstring changes as train needs to support py27\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n'}, {'number': 5, 'created': '2021-11-08 10:35:55.000000000', 'files': ['os_net_config/tests/test_sriov_config.py', 'os_net_config/utils.py', 'os_net_config/tests/test_utils.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/62d4b0f2ace77d29d616a318b54ba5b697ac68c2', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nThe function setUp_pf_stubs() was added in the vdpa patch:\n    https://review.opendev.org/c/openstack/os-net-config/+/798926/\nSince there is a dependency on this API for the tests of this patch,\nit has been added here\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n'}]",3,814426,62d4b0f2ace77d29d616a318b54ba5b697ac68c2,23,4,5,33688,,,0,"Update sriov config service to handle nic partitioned PF

Create VFs using udev rules are required for attaching
and removing PF from a VM. On a reboot, when udev rules
trigger VF creation script and when a VF is attached to
vfio-pci driver, some of the VFs on that PF are not
initialized properly, resulting in VF not found issue.
Though it looks like driver issue, this patch avoids
this scenarios by removing the nic-paritioned VF from
the udev rule, as when one of the VF is attached to host,
the PF cannot be used by the VM.

The function setUp_pf_stubs() was added in the vdpa patch:
    https://review.opendev.org/c/openstack/os-net-config/+/798926/
Since there is a dependency on this API for the tests of this patch,
it has been added here

Change-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/26/814426/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_sriov_config.py', 'os_net_config/utils.py', 'os_net_config/tests/test_utils.py', 'os_net_config/sriov_config.py']",4,a12626938ce9393fac524ecaa19f1b688197ab8f,sriov_patches_train,"def is_partitioned_pf(dev_name: str) -> bool: """"""Check if any nic-partition(VF) is already used Given a PF device, returns True if any VFs of this device are in-use. """""" sriov_map = _get_sriov_map() for config in sriov_map: devtype = config.get('device_type', None) if devtype == 'vf': name = config.get('device', {}).get('name') vf_name = config.get('name') if dev_name == name: logger.warning(""%s has VF(%s) used by host"" % (name, vf_name)) return True return False if not is_partitioned_pf(item['name']): add_udev_rule_for_legacy_sriov_pf(item['name'], item['numvfs'])"," add_udev_rule_for_legacy_sriov_pf(item['name'], item['numvfs'])",220,2
openstack%2Fnova~stable%2Fvictoria~I4eb9a3fbd864670ae17b415dd82055a5a3a13e89,openstack/nova,stable/victoria,I4eb9a3fbd864670ae17b415dd82055a5a3a13e89,[stable-only]Bump cirros to 0.5.2 for live migration,ABANDONED,2021-11-09 09:47:21.000000000,2021-11-09 11:40:46.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 09:47:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/4325b2c367fab7549316563904fdcabcd3bf4d13', 'message': '[stable-only]Bump cirros to 0.5.2 for live migration\n\nLet see if this reduces the kernel panics in the live migration jobs.\nThe stable/wallaby, xena and master seems to be not affected by the\nrecent surge of kernel panics and those branches uses cirros 0.5.2 since\nI12e0bdb3699e5343592ab834468ba6b2fcdcaaf4\n\nChange-Id: I4eb9a3fbd864670ae17b415dd82055a5a3a13e89\n'}]",1,817173,4325b2c367fab7549316563904fdcabcd3bf4d13,5,2,1,9708,,,0,"[stable-only]Bump cirros to 0.5.2 for live migration

Let see if this reduces the kernel panics in the live migration jobs.
The stable/wallaby, xena and master seems to be not affected by the
recent surge of kernel panics and those branches uses cirros 0.5.2 since
I12e0bdb3699e5343592ab834468ba6b2fcdcaaf4

Change-Id: I4eb9a3fbd864670ae17b415dd82055a5a3a13e89
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/817173/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4325b2c367fab7549316563904fdcabcd3bf4d13,cirros-0.5.2, devstack_localrc: CIRROS_VERSION: 0.5.2,,2,0
openstack%2Fcharm-nova-cloud-controller~master~Iaa1c7b78dee498e0cc6dc6fccf12e74f22225ecd,openstack/charm-nova-cloud-controller,master,Iaa1c7b78dee498e0cc6dc6fccf12e74f22225ecd,Fix SQLite locking issue on unit tests,MERGED,2021-11-03 13:59:25.000000000,2021-11-09 11:33:30.000000000,2021-11-09 11:33:30.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-03 13:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b642d9871e5f55063f7636b86f3e4d1bee733e8e', 'message': 'Fix SQLite locking issue on unit tests\n\nstestr runs tests in parallel and this can cause issues with locking\nwhen SQLite is not mocked out properly and gets used in a test.  This\npatch just switches Storage to use :memory: so that locking does not\noccur.\n\nChange-Id: Iaa1c7b78dee498e0cc6dc6fccf12e74f22225ecd\n'}, {'number': 2, 'created': '2021-11-04 10:54:12.000000000', 'files': ['unit_tests/test_nova_cc_hooks.py', 'unit_tests/test_actions.py', 'unit_tests/test_nova_cc_utils.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_nova_cc_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/36ef217bc620bebe4475dbb1453d3c82ac5b9d73', 'message': 'Fix SQLite locking issue on unit tests\n\nstestr runs tests in parallel and this can cause issues with locking\nwhen SQLite is not mocked out properly and gets used in a test.  This\npatch just switches Storage to use :memory: so that locking does not\noccur.\n\nCloses-Bug: #1908282\nChange-Id: Iaa1c7b78dee498e0cc6dc6fccf12e74f22225ecd\n'}]",8,816510,36ef217bc620bebe4475dbb1453d3c82ac5b9d73,20,4,2,20870,,,0,"Fix SQLite locking issue on unit tests

stestr runs tests in parallel and this can cause issues with locking
when SQLite is not mocked out properly and gets used in a test.  This
patch just switches Storage to use :memory: so that locking does not
occur.

Closes-Bug: #1908282
Change-Id: Iaa1c7b78dee498e0cc6dc6fccf12e74f22225ecd
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/10/816510/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_hooks.py', 'unit_tests/test_actions.py', 'unit_tests/test_nova_cc_utils.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_nova_cc_contexts.py']",5,b642d9871e5f55063f7636b86f3e4d1bee733e8e,,import charmhelpers.core.unitdata @classmethod def setUpClass(cls): super().setUpClass() charmhelpers.core.unitdata._KV = ( charmhelpers.core.unitdata.Storage(':memory:')) ,,64,0
openstack%2Ftempest~master~I666fd8733cc19d5b56bb0794235e2db4fc8d8a8a,openstack/tempest,master,I666fd8733cc19d5b56bb0794235e2db4fc8d8a8a,DNM zuul: Enable virt-preview repo for centos 8 stream job,ABANDONED,2021-08-10 09:33:10.000000000,2021-11-09 10:57:38.000000000,,"[{'_account_id': 6962}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-10 09:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/733cb338b726a357cb3a9497fe75a112fab92189', 'message': 'DNM zuul: Enable virt-preview repo for centos 8 stream job\n\nChange-Id: I666fd8733cc19d5b56bb0794235e2db4fc8d8a8a\n'}, {'number': 2, 'created': '2021-08-10 09:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/90564fae0adf5ae87a6a0492648b4c12a81e2dac', 'message': 'DNM zuul: Enable virt-preview repo for centos 8 stream job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/804054\nChange-Id: I666fd8733cc19d5b56bb0794235e2db4fc8d8a8a\n'}, {'number': 3, 'created': '2021-08-10 11:19:37.000000000', 'files': ['zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/faf856c854fb45fc05047b218708fb646e5895ff', 'message': 'DNM zuul: Enable virt-preview repo for centos 8 stream job\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/804054\nChange-Id: I666fd8733cc19d5b56bb0794235e2db4fc8d8a8a\n'}]",0,804055,faf856c854fb45fc05047b218708fb646e5895ff,6,2,3,10135,,,0,"DNM zuul: Enable virt-preview repo for centos 8 stream job

Depends-On: https://review.opendev.org/c/openstack/devstack/+/804054
Change-Id: I666fd8733cc19d5b56bb0794235e2db4fc8d8a8a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/804055/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/integrated-gate.yaml'],1,733cb338b726a357cb3a9497fe75a112fab92189,, vars: devstack_localrc: ENABLE_FEDORA_VIRT_PREVIEW_REPO: true,,3,0
openstack%2Fdevstack~master~I7e76f1eda2c21bd1dee5e4a025825d56bad47f17,openstack/devstack,master,I7e76f1eda2c21bd1dee5e4a025825d56bad47f17,WIP libvirt: virt preview repo now support CentOS 8 stream,ABANDONED,2021-08-10 09:32:07.000000000,2021-11-09 10:57:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-10 09:32:07.000000000', 'files': ['lib/nova_plugins/functions-libvirt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8fe9fe34bf284e44f9332ee758a291c5f67e6635', 'message': 'WIP libvirt: virt preview repo now support CentOS 8 stream\n\nChange-Id: I7e76f1eda2c21bd1dee5e4a025825d56bad47f17\n'}]",0,804054,8fe9fe34bf284e44f9332ee758a291c5f67e6635,3,1,1,10135,,,0,"WIP libvirt: virt preview repo now support CentOS 8 stream

Change-Id: I7e76f1eda2c21bd1dee5e4a025825d56bad47f17
",git fetch https://review.opendev.org/openstack/devstack refs/changes/54/804054/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/functions-libvirt'],1,8fe9fe34bf284e44f9332ee758a291c5f67e6635,," # Optionally enable the virt-preview repo if [[ ${ENABLE_FEDORA_VIRT_PREVIEW_REPO} == ""True"" ]] ; then"," # Optionally enable the virt-preview repo when on Fedora if [[ $DISTRO =~ f[0-9][0-9] ]] && [[ ${ENABLE_FEDORA_VIRT_PREVIEW_REPO} == ""True"" ]]; then",2,2
openstack%2Fnova-specs~master~Ief20a8651df2fd14a788e225a098a2bf5470745f,openstack/nova-specs,master,Ief20a8651df2fd14a788e225a098a2bf5470745f,Add connection_info to responses of the os-volume_attachments API for admins,ABANDONED,2021-07-07 15:22:31.000000000,2021-11-09 10:57:32.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 15:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a4c97f9b50d76edcc555a73a74024a902869a314', 'message': 'Add connection_info to responses of the os-volume_attachments API for admins\n\nBlueprint: add-connection-info-to-responses-of-the-os-volume-attachments-api-for-admins\nChange-Id: Ief20a8651df2fd14a788e225a098a2bf5470745f\n'}, {'number': 2, 'created': '2021-07-07 15:44:24.000000000', 'files': ['specs/xena/approved/add-connection-info-to-responses-of-the-os-volume_attachments-api.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6d8afb0545c59c5d7109e4346c7e23dd83d73d7c', 'message': 'Add connection_info to responses of the os-volume_attachments API for admins\n\nBlueprint: add-connection-info-to-responses-of-the-os-volume-attachments-api-for-admins\nChange-Id: Ief20a8651df2fd14a788e225a098a2bf5470745f\n'}]",8,799850,6d8afb0545c59c5d7109e4346c7e23dd83d73d7c,13,2,2,10135,,,0,"Add connection_info to responses of the os-volume_attachments API for admins

Blueprint: add-connection-info-to-responses-of-the-os-volume-attachments-api-for-admins
Change-Id: Ief20a8651df2fd14a788e225a098a2bf5470745f
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/50/799850/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/add-connection-info-to-responses-of-the-os-volume_attachments-api.rst'],1,a4c97f9b50d76edcc555a73a74024a902869a314,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================================================== Add connection_info to responses of the os-volume_attachments API for admins ============================================================================ https://blueprints.launchpad.net/nova/+spec/add-connection-info-to-responses-of-the-os-volume-attachments-api-for-admins This spec aims to outline the use case for adding the currently stashed connection info for a volume attachment to the responses of Nova's `os-volume_attachments APIs`__ when requested by an admin. .. __: https://docs.openstack.org/api-ref/compute/?expanded=#servers-with-volume-attachments-servers-os-volume-attachments Problem description =================== At present when attaching a volume to an instance Nova will stash a copy of the connection_info provided by either the legacy cinderv2 or now default cinderv3 attachment flow within the associated block device mapping record. While this is available to users either through a repeat call to the cinderv2 ``initialize_connection`` or simple GET against the cinderv3 ``os-attachments`` API the stashed copy within Nova is not provided by GETs against our own ``os-volume_attachments`` API. .. note:: The fact that users can fetch the connection_info at all from Cinder is a wrinkle in the design of their APIs that comes as a result of users envoking the attachment of volumes via Nova. Future work has been discussed in order for Nova to call Cinder using an elevated service token that should eventually remove the ability for users to peer into the connection_info that often contains environment specific details such as internal addresses, mapping passwords etc. For example, using the `v2.79 mircoversion`__ GETs against the API provide the following responses: .. __: https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#maximum-in-train * GET ``/servers/{server_id}/os-volume_attachments`` .. code-block:: json { ""volumeAttachments"": [ { ""delete_on_termination"": false, ""device"": ""/dev/sdc"", ""id"": ""227cc671-f30b-4488-96fd-7d0bf13648d8"", ""serverId"": ""d5e4ae35-ac0e-4311-a8c5-0ee863e951d9"", ""tag"": null, ""volumeId"": ""227cc671-f30b-4488-96fd-7d0bf13648d8"" }, { ""delete_on_termination"": true, ""device"": ""/dev/sdb"", ""id"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"", ""serverId"": ""d5e4ae35-ac0e-4311-a8c5-0ee863e951d9"", ""tag"": ""foo"", ""volumeId"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"" } ] } * GET ``/servers/{server_id}/os-volume_attachments/{volume_id}`` .. code-block:: json { ""volumeAttachment"": { ""delete_on_termination"": true, ""device"": ""/dev/sdb"", ""id"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"", ""serverId"": ""2aad99d3-7aa4-41e9-b4e6-3f960b115d68"", ""tag"": ""foo"", ""volumeId"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"" } } This renders the API useless in most volume attach troubleshooting scenarios, for example when attempting to ensure that Nova has the correct connection_info stashed. Use Cases --------- * As an operator I want to be able to view and confirm the currently stashed connection_info within Nova. * As an operator I do not want users to have access to this connection_info dict if possible to avoid leaking internal deployment details. Proposed change =============== Introduce a new microversion that will display the stashed connection_info of a given block device mapping record only to admins in the response of ``GET /servers/{server_id}/os-volume_attachments`` or ``GET /servers/{server_id}/os-volume_attachments/{volume_id}``. Alternatives ------------ A set of ``nova-manage`` commands has already been proposed in a separate `spec`__. This spec however builds on these commands to provide access to the same information through the API, it stops short of providing a new ``os-volume_attachments`` action API that could refresh the attachments that should happen in another spec in the future. .. __: https://review.opendev.org/c/openstack/nova-specs/+/799624 Data model impact ----------------- None, ``connection_info`` is already stored for each block device mapping record. REST API impact --------------- In a new microversion, expose ``connection_info`` in the following responses to requests by admins: * GET ``/servers/{server_id}/os-volume_attachments`` .. code-block:: json { ""volumeAttachments"": [ { ""delete_on_termination"": false, ""device"": ""/dev/sdc"", ""id"": ""227cc671-f30b-4488-96fd-7d0bf13648d8"", ""serverId"": ""d5e4ae35-ac0e-4311-a8c5-0ee863e951d9"", ""tag"": null, ""volumeId"": ""227cc671-f30b-4488-96fd-7d0bf13648d8"", ""connection_info"": { ""data"": { ""foo"": ""bar"", } } }, { ""delete_on_termination"": true, ""device"": ""/dev/sdb"", ""id"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"", ""serverId"": ""d5e4ae35-ac0e-4311-a8c5-0ee863e951d9"", ""tag"": ""foo"", ""volumeId"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"", ""connection_info"": { ""data"": { ""foo"": ""bar"", } } } ] } * GET ``/servers/{server_id}/os-volume_attachments/{volume_id}`` .. code-block:: json { ""volumeAttachment"": { ""delete_on_termination"": true, ""device"": ""/dev/sdb"", ""id"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"", ""serverId"": ""2aad99d3-7aa4-41e9-b4e6-3f960b115d68"", ""tag"": ""foo"", ""volumeId"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"", ""connection_info"": { ""data"": { ""foo"": ""bar"", } } } } Security impact --------------- Notifications impact -------------------- None Other end user impact --------------------- The ``nova volume-attachments $SERVER`` and ``openstack server volume list $SERVER`` commands will be extended to expose the ``connection_info`` when provided with a high enough microversion and requested by an admin. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: lyarwood Other contributors: Feature Liaison --------------- Feature liaison: lyarwood Work Items ---------- Dependencies ============ None Testing ======= API schema, functional and tempest integration tests will be written. Documentation Impact ==================== The API reference, microversion history, openstackclient and novaclient docs will be updated. References ========== History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Xena - Introduced ",,271,0
openstack%2Fnova~master~I9ae8968a2c3e326f6ebd88ec417667bd9667ad45,openstack/nova,master,I9ae8968a2c3e326f6ebd88ec417667bd9667ad45,libvirt: fup docs and typing for _hard_reboot flow,ABANDONED,2021-06-07 10:07:39.000000000,2021-11-09 10:57:30.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 10:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72aa07f620f54ffb40ab7c39223b0dc29fef4656', 'message': 'libvirt: fup docs and typing for _hard_reboot flow\n\nThis includes a FIXME around the use of ty.Any for connection_info that\ncan be addressed in the future.\n\nChange-Id: I9ae8968a2c3e326f6ebd88ec417667bd9667ad45\n'}, {'number': 2, 'created': '2021-06-07 12:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/baedb81219bea9e78abc5ceefbfab1298663e2d9', 'message': 'libvirt: fup docs and typing for _hard_reboot flow\n\nThis includes a FIXME around the use of ty.Any for connection_info that\ncan be addressed in the future.\n\nChange-Id: I9ae8968a2c3e326f6ebd88ec417667bd9667ad45\n'}, {'number': 3, 'created': '2021-06-11 13:37:20.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ce79f479e6ef915a0dd2850de42c7801e4964813', 'message': 'libvirt: fup docs and typing for _hard_reboot flow\n\nThis includes a small change to the default return of a dictionary\n.get() as part of a connection_info device_path lookup within\n_attach_encryptor that causes mypy to fail.\n\nChange-Id: I9ae8968a2c3e326f6ebd88ec417667bd9667ad45\n'}]",18,795081,ce79f479e6ef915a0dd2850de42c7801e4964813,27,2,3,10135,,,0,"libvirt: fup docs and typing for _hard_reboot flow

This includes a small change to the default return of a dictionary
.get() as part of a connection_info device_path lookup within
_attach_encryptor that causes mypy to fail.

Change-Id: I9ae8968a2c3e326f6ebd88ec417667bd9667ad45
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/795081/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,72aa07f620f54ffb40ab7c39223b0dc29fef4656,," def _destroy( self, instance: 'objects.Instance', ) -> None: """"""Destroy the libvirt domain of the given instance. :param instance: Instance object of the domain to destroy """""" def destroy( self, context: 'nova.context.Context', instance: 'objects.Instance', network_info: ty.Dict[str, ty.Any] = None, block_device_info: ty.Dict[str, ty.Any] = None, destroy_disks: bool = True, destroy_secrets: bool = True ) -> None: """"""Destroy the specified instance from the Hypervisor. If the instance is not found (for example if networking failed), this function should still succeed. It's probably a good idea to log a warning in that case. :param context: security context :param instance: Instance object as returned by DB layer. :param network_info: instance network information :param block_device_info: Information about block devices that should be detached from the instance. :param destroy_disks: Indicates if disks should be destroyed :param destroy_secrets: Indicates if secrets should be destroyed """""" return self.cleanup( context, instance, network_info, block_device_info, destroy_disks, destroy_secrets=destroy_secrets ) def _undefine_domain( self, instance: 'objects.Instance', ) -> None: """"""Undefine the libvirt domain for the given instance :param instance: Instance object of the instance to undefine """""" def cleanup( self, context: 'nova.context.Context', instance: 'objects.Instance', network_info: ty.Dict[str, ty.Any] = None, block_device_info: ty.Dict[str, ty.Any] = None, destroy_disks: bool = True, migrate_data: 'objects.LibvirtLiveMigrateData' = None, destroy_vifs: bool = True, destroy_secrets: bool = True ) -> None: context, instance, network_info, block_device_info=block_device_info, destroy_vifs=destroy_vifs, cleanup_instance_dir=cleanup_instance_dir, cleanup_instance_disks=cleanup_instance_disks, destroy_secrets=destroy_secrets ) def _cleanup( self, context: 'nova.context.Context', instance: 'objects.Instance', network_info: ty.Dict[str, ty.Any] = None, block_device_info: ty.Dict[str, ty.Any] = None, destroy_vifs: bool = True, cleanup_instance_dir: bool = False, cleanup_instance_disks: bool = False, destroy_secrets: bool = True ) -> None: :param destroy_secrets: Indicates if secrets should be destroyed context, connection_info, instance, destroy_secrets=destroy_secrets ) def _disconnect_volume( self, context: 'nova.context.Context', connection_info: ty.Dict[str, ty.Any], instance: 'objects.Instance', encryption: ty.Dict[str, ty.Any] = None, destroy_secrets: bool = True, ): """"""Disconnect a volume identified by the provided connection_info :param context: security context :param connction_info: The connection_info associated with the volume :param instance: instance object for the associated instance :param encryption: The encryption metadata dict associated with the vol :param destroy_secrets: Indicates if secrets should be destroyed """""" def _attach_encryptor( self, context: 'nova.context.Context', # FIXME(lyarwood): connection_info.get('data').get('device_path') # breaks mypy here so for the time being use ty.Any. connection_info: ty.Any, encryption: ty.Dict[str, ty.Any] = None, ) -> None: :param context: security context :param connction_info: The connection_info associated with the volume :param encryption: The encryption metadata dict associated with the vol def _detach_encryptor( self, context: 'nova.context.Context', connection_info: ty.Dict[str, ty.Any], encryption: ty.Dict[str, ty.Any] = None, destroy_secrets: bool = True, ): :param context: security context :param connction_info: The connection_info associated with the volume :param encryption: The encryption metadata dict associated with the vol :param destroy_secrets: Indicates if secrets should be destroyed def _hard_reboot( self, context: 'nova.context.Context', instance: 'objects.Instance', network_info: ty.Dict[str, ty.Any] = None, block_device_info: ty.Dict[str, ty.Any] = None, accel_info: ty.Dict[str, ty.Any] = None, ) -> None: """"""Undefine and then rebuild the given instance. This includes disconnecting underlying volumes from the compute host, unplugging vifs and recreating the domain XML. :param context: security context :param instance: instance object for the instance being cleaned up :param network_info: instance network information :param block_device_info: optional instance block device information :param accel_info: optional accelerator device information self.destroy( context, instance, network_info, destroy_disks=False, block_device_info=block_device_info, destroy_secrets=False )"," def _destroy(self, instance): def destroy(self, context, instance, network_info, block_device_info=None, destroy_disks=True, destroy_secrets=True): self.cleanup(context, instance, network_info, block_device_info, destroy_disks, destroy_secrets=destroy_secrets) def _undefine_domain(self, instance): def cleanup(self, context, instance, network_info, block_device_info=None, destroy_disks=True, migrate_data=None, destroy_vifs=True, destroy_secrets=True): context, instance, network_info, block_device_info=block_device_info, destroy_vifs=destroy_vifs, cleanup_instance_dir=cleanup_instance_dir, cleanup_instance_disks=cleanup_instance_disks, destroy_secrets=destroy_secrets) def _cleanup(self, context, instance, network_info, block_device_info=None, destroy_vifs=True, cleanup_instance_dir=False, cleanup_instance_disks=False, destroy_secrets=True): context, connection_info, instance, destroy_secrets=destroy_secrets) def _disconnect_volume(self, context, connection_info, instance, encryption=None, destroy_secrets=True): def _attach_encryptor(self, context, connection_info, encryption): def _detach_encryptor(self, context, connection_info, encryption, destroy_secrets=True): def _hard_reboot(self, context, instance, network_info, block_device_info=None, accel_info=None): """"""Reboot a virtual machine, given an instance reference. Performs a Libvirt reset (if supported) on the domain. If Libvirt reset is unavailable this method actually destroys and re-creates the domain to ensure the reboot happens, as the guest OS cannot ignore this action. self.destroy(context, instance, network_info, destroy_disks=False, block_device_info=block_device_info, destroy_secrets=False)",146,35
openstack%2Fnova~master~If16d288ccc31a50581f66954f0951c17c2b52670,openstack/nova,master,If16d288ccc31a50581f66954f0951c17c2b52670,zuul: Create and use nova-libvirt-irrelevant-files,ABANDONED,2021-03-05 13:09:00.000000000,2021-11-09 10:57:27.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 13:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7267b29a36eaee2ded7b93cdb91f27bfd7e3a2fd', 'message': 'WIP zuul: Create and use nova-libvirt-irrelevant-files\n\nChange-Id: If16d288ccc31a50581f66954f0951c17c2b52670\n'}, {'number': 2, 'created': '2021-03-05 13:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0baa817af04faa99fecde685d5ebb2d4b94864df', 'message': 'zuul: Create and use nova-libvirt-irrelevant-files\n\nPreviously the nova-lvm job was the only job to limit runs to libvirt\ndriver changes when in reality others such as nova-ceph-multistore\nshould also be limited.\n\nChange-Id: If16d288ccc31a50581f66954f0951c17c2b52670\n'}, {'number': 3, 'created': '2021-03-08 14:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9117b306d10317eacd5b1890c87fe353a35dcaac', 'message': 'zuul: Create and use nova-libvirt-irrelevant-files\n\nPreviously the nova-lvm job was the only job to limit runs to libvirt\ndriver changes when in reality others such as nova-ceph-multistore\nshould also be limited.\n\nChange-Id: If16d288ccc31a50581f66954f0951c17c2b52670\n'}, {'number': 4, 'created': '2021-03-19 16:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f98c3525de4e0dc8cb5ce9743fdfb100a396dbf2', 'message': 'zuul: Create and use nova-libvirt-irrelevant-files\n\nPreviously the nova-lvm job was the only job to limit runs to libvirt\ndriver changes when in reality others such as nova-ceph-multistore\nshould also be limited.\n\nChange-Id: If16d288ccc31a50581f66954f0951c17c2b52670\n'}, {'number': 5, 'created': '2021-03-19 16:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcdb1a7d0186a5ee21957bd702b033ca3220c4bc', 'message': 'WIP zuul: Create and use nova-libvirt-irrelevant-files\n\nPreviously the nova-lvm job was the only job to limit runs to libvirt\ndriver changes when in reality others such as nova-ceph-multistore\nshould also be limited.\n\nChange-Id: If16d288ccc31a50581f66954f0951c17c2b52670\n'}, {'number': 6, 'created': '2021-04-06 09:47:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/9db28deb2c5a9b2950d5666854269e1590b3cbdb', 'message': 'zuul: Create and use nova-libvirt-irrelevant-files\n\nPreviously the nova-lvm job was the only job to limit runs to libvirt\ndriver changes when in reality others such as nova-ceph-multistore\nshould also be limited.\n\nChange-Id: If16d288ccc31a50581f66954f0951c17c2b52670\n'}]",13,778909,9db28deb2c5a9b2950d5666854269e1590b3cbdb,29,2,6,10135,,,0,"zuul: Create and use nova-libvirt-irrelevant-files

Previously the nova-lvm job was the only job to limit runs to libvirt
driver changes when in reality others such as nova-ceph-multistore
should also be limited.

Change-Id: If16d288ccc31a50581f66954f0951c17c2b52670
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/778909/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7267b29a36eaee2ded7b93cdb91f27bfd7e3a2fd,, # Copy nova-base-irrelevant-files and then exclude anything that is not in # nova/virt/libvirt/* or nova/privsep/*. irrelevant-files: &nova-libvirt-irrelevant-files - *nova-base-irrelevant-files irrelevant-files: *nova-libvirt-irrelevant-files irrelevant-files: *nova-libvirt-irrelevant-files irrelevant-files: *nova-libvirt-irrelevant-files irrelevant-files: *nova-libvirt-irrelevant-files - devstack-platform-fedora-latest-virt-preview: irrelevant-files: *nova-libvirt-irrelevant-files - devstack-plugin-ceph-compute-local-ephemeral: irrelevant-files: *nova-libvirt-irrelevant-files, # Copy irrelevant-files from nova-dsvm-multinode-base and then exclude # anything that is not in nova/virt/libvirt/* or nova/privsep/*. irrelevant-files: - ^api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/.*$ - ^nova/test.py$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ irrelevant-files: *nova-base-irrelevant-files irrelevant-files: *nova-base-irrelevant-files irrelevant-files: *nova-base-irrelevant-files irrelevant-files: *nova-base-irrelevant-files - devstack-platform-fedora-latest-virt-preview: irrelevant-files: *nova-base-irrelevant-files - devstack-plugin-ceph-compute-local-ephemeral: irrelevant-files: *nova-base-irrelevant-files,10,22
openstack%2Fnova~master~I53166529fb281d96f8614333027b446da8b90297,openstack/nova,master,I53166529fb281d96f8614333027b446da8b90297,zuul: Add evacuation migration record assertions to run-evacuate-hook,ABANDONED,2021-04-09 10:55:57.000000000,2021-11-09 10:57:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-09 10:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02239de773c05bf775fce24686676cc881bae1d0', 'message': 'WIP zuul: Add evacuation migration record assertions to run-evacuate-hook\n\nThis change starts to assert the state of evacuation migration records\nduring the evacuation test. Ensuring these records are marked as done\nafter a successful evacuation and then completed once the original\nsource compute host has restarted.\n\nAdditionally the use of novaclient is replaced with osc throughout the\nrole as we can now use --block-device to create bfv instances, evacuate\ninstances with osc etc.\n\nChange-Id: I53166529fb281d96f8614333027b446da8b90297\n'}, {'number': 2, 'created': '2021-04-19 14:03:31.000000000', 'files': ['roles/run-evacuate-hook/files/setup_evacuate_resources.sh', 'roles/run-evacuate-hook/files/test_post_evacuate.sh', 'roles/run-evacuate-hook/files/test_evacuate.sh', 'roles/run-evacuate-hook/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/603022ebd40d7e936010e51be9be1056ceaa9e84', 'message': 'zuul: Add evacuation migration record assertions to run-evacuate-hook\n\nThis change starts to assert the state of evacuation migration records\nduring the evacuation test. Ensuring these records are marked as done\nafter a successful evacuation and then completed once the original\nsource compute host has restarted.\n\nAdditionally the use of novaclient is replaced with osc throughout the\nrole as we can now use --block-device to create bfv instances, evacuate\ninstances with osc etc.\n\nChange-Id: I53166529fb281d96f8614333027b446da8b90297\n'}]",0,785618,603022ebd40d7e936010e51be9be1056ceaa9e84,11,1,2,10135,,,0,"zuul: Add evacuation migration record assertions to run-evacuate-hook

This change starts to assert the state of evacuation migration records
during the evacuation test. Ensuring these records are marked as done
after a successful evacuation and then completed once the original
source compute host has restarted.

Additionally the use of novaclient is replaced with osc throughout the
role as we can now use --block-device to create bfv instances, evacuate
instances with osc etc.

Change-Id: I53166529fb281d96f8614333027b446da8b90297
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/785618/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-evacuate-hook/files/setup_evacuate_resources.sh', 'roles/run-evacuate-hook/files/test_post_evacuate.sh', 'roles/run-evacuate-hook/files/test_evacuate.sh', 'roles/run-evacuate-hook/tasks/main.yaml']",4,02239de773c05bf775fce24686676cc881bae1d0,," - name: Restart q-agt on subnode (if exists) delegate_to: compute1 become: true systemd: name: devstack@q-agt state: running when: qagtstatus.rc | int == 0 - name: Restart n-cpu on subnode delegate_to: compute1 become: true systemd: name: devstack@n-cpu state: running - name: Run post evacuate tests become: true become_user: stack shell: ""/opt/stack/nova/roles/run-evacuate-hook/files/test_post_evacuate.sh"" environment: CONTROLLER_HOSTNAME: ""{{ hostvars['controller']['ansible_hostname'] }}""",,85,19
openstack%2Ftempest~master~I72e68a5dfbef569bb5a039cc5c2052175d05378b,openstack/tempest,master,I72e68a5dfbef569bb5a039cc5c2052175d05378b,compute: Wait for volume snapshots when creating image from server,ABANDONED,2020-12-15 14:42:28.000000000,2021-11-09 10:57:22.000000000,,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-15 14:42:28.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/tests/api/compute/test_base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/54b4720762e2f358149bde56700c23b67bff28e3', 'message': 'compute: Wait for volume snapshots when creating image from server\n\nWhen Nova is asked to create an instance snapshot of an instance booting\nfrom a volume using the imageCreate API it will make a request to Cinder\nto snapshot the underlying volume. This request is asynchronus and\nreturns to Nova before the volume snapshot becomes available.\n\nThis can easily race other volume operations if callers did not wait for\nthe volume snapshot to become `available` and overall state of the\nvolume to return to `in-use`.\n\nBug #1908269 outlines an example of this race where\nAttachVolumeMultiAttachTest.test_snapshot_volume_backed_multiattach\nattempts to delete the overall volume while the earlier request to\nsnapshot the volume was still in progress leading to a failure.\n\nThis change simply introduces the use of the\nwait_for_volume_resource_status waiter into the create_image_from_server\nutility method when a volume snapshot is identified in the snapshot\nimage metadata for the instance. This should result in the volume\nsnapshot reaching `available` and volume returning to `in-use` before\nthe test attempts to cleanup both the instance and volume.\n\nCloses-Bug: #1908269\nChange-Id: I72e68a5dfbef569bb5a039cc5c2052175d05378b\n'}]",0,767165,54b4720762e2f358149bde56700c23b67bff28e3,8,3,1,10135,,,0,"compute: Wait for volume snapshots when creating image from server

When Nova is asked to create an instance snapshot of an instance booting
from a volume using the imageCreate API it will make a request to Cinder
to snapshot the underlying volume. This request is asynchronus and
returns to Nova before the volume snapshot becomes available.

This can easily race other volume operations if callers did not wait for
the volume snapshot to become `available` and overall state of the
volume to return to `in-use`.

Bug #1908269 outlines an example of this race where
AttachVolumeMultiAttachTest.test_snapshot_volume_backed_multiattach
attempts to delete the overall volume while the earlier request to
snapshot the volume was still in progress leading to a failure.

This change simply introduces the use of the
wait_for_volume_resource_status waiter into the create_image_from_server
utility method when a volume snapshot is identified in the snapshot
image metadata for the instance. This should result in the volume
snapshot reaching `available` and volume returning to `in-use` before
the test attempts to cleanup both the instance and volume.

Closes-Bug: #1908269
Change-Id: I72e68a5dfbef569bb5a039cc5c2052175d05378b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/65/767165/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/tests/api/compute/test_base.py']",2,54b4720762e2f358149bde56700c23b67bff28e3,bug/1908269," @mock.patch.multiple(compute_base.BaseV2ComputeTest, snapshots_client=mock.DEFAULT, compute_images_client=mock.DEFAULT, servers_client=mock.DEFAULT, images=[], create=True) @mock.patch.object(waiters, 'wait_for_image_status') @mock.patch.object(waiters, 'wait_for_server_status') @mock.patch.object(waiters, 'wait_for_volume_resource_status') def test_create_image_from_server_wait_until_volume_snapshot_active( self, wait_for_volume_resource_status, wait_for_server_status, wait_for_image_status, servers_client, compute_images_client, snapshots_client): # setup mocks image_id = uuidutils.generate_uuid() fake_image = mock.Mock( response={ 'location': image_id, 'block_device_mapping': [ { 'snapshot_id': mock.sentinel.snapshot_id, } ] } ) compute_images_client.create_image.return_value = fake_image compute_images_client.show_image.return_value = ( {'image': fake_image}) # call the utility method image = compute_base.BaseV2ComputeTest.create_image_from_server( mock.sentinel.server_id, wait_until='ACTIVE') self.assertEqual(fake_image, image) wait_for_image_status.assert_called_once_with( compute_images_client, image_id, 'ACTIVE') wait_for_server_status.assert_called_once_with( servers_client, mock.sentinel.server_id, 'ACTIVE') wait_for_volume_resource_status.assert_called_once_with( snapshots_client, mock.sentinel.snapshot_id, 'ACTIVE') compute_images_client.show_image.assert_called_once_with(image_id) ",,51,0
openstack%2Fnova~master~I185c691d0b2a900e216b1a8b5921521fed2d5d53,openstack/nova,master,I185c691d0b2a900e216b1a8b5921521fed2d5d53,docs: Update the architecture diagram,ABANDONED,2021-03-25 11:46:37.000000000,2021-11-09 10:57:15.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-25 11:46:37.000000000', 'files': ['doc/source/_static/images/architecture.dia', 'doc/source/_static/images/architecture.svg'], 'web_link': 'https://opendev.org/openstack/nova/commit/fd2d058be24f7713b236f05f4309726beca1e481', 'message': 'docs: Update the architecture diagram\n\n- Removes the nova-network diagram\n- Adds a user and adds their interaction with keystone and n-api\n- Separates the Cinder service from Glance.\n- oslo.messaging communication now shown as by-directional\n\nChange-Id: I185c691d0b2a900e216b1a8b5921521fed2d5d53\n'}]",0,782979,fd2d058be24f7713b236f05f4309726beca1e481,7,2,1,10135,,,0,"docs: Update the architecture diagram

- Removes the nova-network diagram
- Adds a user and adds their interaction with keystone and n-api
- Separates the Cinder service from Glance.
- oslo.messaging communication now shown as by-directional

Change-Id: I185c691d0b2a900e216b1a8b5921521fed2d5d53
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/782979/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/images/architecture.dia', 'doc/source/_static/images/architecture.svg']",2,fd2d058be24f7713b236f05f4309726beca1e481,,"<!DOCTYPE svg PUBLIC ""-//W3C//DTD SVG 1.0//EN"" ""http://www.w3.org/TR/2001/PR-SVG-20010719/DTD/svg10.dtd""> <svg width=""47cm"" height=""36cm"" viewBox=""177 152 924 701"" xmlns=""http://www.w3.org/2000/svg"" xmlns:xlink=""http://www.w3.org/1999/xlink""> <text font-size=""12.8"" style=""fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""302.268"" y=""218.918""> <tspan x=""302.268"" y=""218.918""></tspan> <text font-size=""12.8"" style=""fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""302.268"" y=""218.918""> <tspan x=""302.268"" y=""218.918""></tspan> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x1=""197.873"" y1=""217.824"" x2=""245.674"" y2=""217.842""/> <polygon style=""fill: #000000"" points=""253.174,217.845 243.172,222.841 245.674,217.842 243.176,212.841 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""253.174,217.845 243.172,222.841 245.674,217.842 243.176,212.841 ""/> </g> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 4; stroke: #000000"" x1=""199.124"" y1=""237.842"" x2=""244.759"" y2=""237.751""/> <polygon style=""fill: #000000"" points=""252.259,237.736 242.269,242.756 244.759,237.751 242.249,232.756 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""252.259,237.736 242.269,242.756 244.759,237.751 242.249,232.756 ""/> </g> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 20 4 4 4 4 4; stroke: #000000"" x1=""198.649"" y1=""258.276"" x2=""242.012"" y2=""258.316""/> <polygon style=""fill: #000000"" points=""249.512,258.324 239.508,263.314 242.012,258.316 239.517,253.314 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""249.512,258.324 239.508,263.314 242.012,258.316 239.517,253.314 ""/> </g> <text font-size=""12.8"" style=""fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""274.114"" y=""221.782""> <tspan x=""274.114"" y=""221.782"">oslo.messaging</tspan> <text font-size=""12.8"" style=""fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""273.959"" y=""241.884""> <tspan x=""273.959"" y=""241.884"">DB</tspan> <text font-size=""12.8"" style=""fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""276.048"" y=""252.346""> <tspan x=""276.048"" y=""252.346""></tspan> <text font-size=""12.8"" style=""fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""274.007"" y=""261.602""> <tspan x=""274.007"" y=""261.602"">HTTP</tspan> <g> <rect style=""fill: #ffffff"" x=""215.553"" y=""180.046"" width=""21.859"" height=""22.5877""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""215.553"" y=""180.046"" width=""21.859"" height=""22.5877""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""215.553"" y=""180.046"" width=""21.859"" height=""22.5877""/> </g> <text font-size=""12.8"" style=""fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""273.975"" y=""192.614""> <tspan x=""273.975"" y=""192.614"">Nova service</tspan> <g> <polygon style=""fill: #ffffff"" points=""220.469,153.998 233.689,153.998 242.503,165.309 233.689,176.62 220.469,176.62 211.655,165.309 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""220.469,153.998 233.689,153.998 242.503,165.309 233.689,176.62 220.469,176.62 211.655,165.309 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""220.469,153.998 233.689,153.998 242.503,165.309 233.689,176.62 220.469,176.62 211.655,165.309 ""/> </g> <text font-size=""12.8"" style=""fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""273.91"" y=""165.892""> <tspan x=""273.91"" y=""165.892"">External service</tspan> <g> <path style=""fill: #a5a585"" d=""M 747.402 384.952 L 747.363,384.454 L 747.254,383.964 L 747.067,383.474 L 746.811,382.991 L 746.492,382.509 L 746.095,382.034 L 745.628,381.567 L 745.091,381.108 L 744.484,380.657 L 743.815,380.229 L 743.084,379.801 L 742.298,379.381 L 741.434,378.984 L 740.524,378.603 L 739.559,378.237 L 738.532,377.887 L 737.466,377.56 L 736.346,377.249 L 735.186,376.961 L 733.973,376.689 L 732.735,376.432 L 731.452,376.207 L 730.137,375.989 L 728.806,375.81 L 727.437,375.654 L 726.044,375.522 L 724.644,375.405 L 723.22,375.327 L 721.788,375.257 L 720.349,375.211 L 718.909,375.211 L 718.909,375.211 L 717.462,375.211 L 716.023,375.257 L 714.591,375.327 L 713.167,375.405 L 711.767,375.522 L 710.374,375.654 L 709.012,375.81 L 707.674,375.989 L 706.359,376.207 L 705.075,376.432 L 703.838,376.689 L 702.632,376.961 L 701.473,377.249 L 700.353,377.56 L 699.279,377.887 L 698.252,378.237 L 697.295,378.603 L 696.377,378.984 L 695.521,379.381 L 694.727,379.801 L 693.996,380.229 L 693.327,380.657 L 692.72,381.108 L 692.183,381.567 L 691.716,382.034 L 691.319,382.509 L 691,382.991 L 690.744,383.474 L 690.557,383.964 L 690.456,384.454 L 690.417,384.952 L 690.417,384.952 L 690.456,385.45 L 690.557,385.932 L 690.744,386.43 L 691,386.913 L 691.319,387.395 L 691.716,387.87 L 692.183,388.336 L 692.72,388.796 L 693.327,389.239 L 693.996,389.675 L 694.727,390.103 L 695.521,390.523 L 696.377,390.92 L 697.295,391.301 L 698.252,391.667 L 699.279,392.017 L 700.353,392.343 L 701.473,392.655 L 702.632,392.943 L 703.838,393.215 L 705.075,393.472 L 706.359,393.697 L 707.674,393.907 L 709.012,394.094 L 710.374,394.25 L 711.767,394.382 L 713.167,394.491 L 714.591,394.576 L 716.023,394.639 L 717.462,394.685 L 718.909,394.693 L 718.909,394.693 L 720.349,394.685 L 721.788,394.639 L 723.22,394.576 L 724.644,394.491 L 726.044,394.382 L 727.437,394.25 L 728.806,394.094 L 730.137,393.907 L 731.452,393.697 L 732.735,393.472 L 733.973,393.215 L 735.186,392.943 L 736.346,392.655 L 737.466,392.343 L 738.532,392.017 L 739.559,391.667 L 740.524,391.301 L 741.434,390.92 L 742.298,390.523 L 743.084,390.103 L 743.815,389.675 L 744.484,389.239 L 745.091,388.796 L 745.628,388.336 L 746.095,387.87 L 746.492,387.395 L 746.811,386.913 L 747.067,386.43 L 747.254,385.932 L 747.363,385.45 L 747.402,384.952z""/> <path style=""fill: none; fill-opacity:0; stroke-width: 0.02; stroke: #494936"" d=""M 747.067 384.796 L 747.028,384.298 L 746.927,383.824 L 746.748,383.341 L 746.499,382.867 L 746.165,382.384 L 745.76,381.925 L 745.317,381.458 L 744.772,381.023 L 744.173,380.579 L 743.512,380.143 L 742.78,379.731 L 741.994,379.319 L 741.146,378.93 L 740.252,378.541 L 739.271,378.191 L 738.252,377.848 L 737.186,377.521 L 736.081,377.218 L 734.93,376.938 L 733.731,376.666 L 732.486,376.424 L 731.218,376.199 L 729.911,375.989 L 728.588,375.81 L 727.235,375.654 L 725.842,375.53 L 724.449,375.405 L 723.033,375.335 L 721.617,375.273 L 720.17,375.234 L 718.738,375.211 L 718.738,375.211 L 717.307,375.234 L 715.875,375.273 L 714.443,375.335 L 713.043,375.405 L 711.642,375.53 L 710.257,375.654 L 708.896,375.81 L 707.565,375.989 L 706.266,376.199 L 704.998,376.424 L 703.753,376.666 L 702.555,376.938 L 701.411,377.218 L 700.29,377.521 L 699.217,377.848 L 698.205,378.191 L 697.24,378.541 L 696.346,378.93 L 695.49,379.319 L 694.696,379.731 L 693.98,380.143 L 693.319,380.579 L 692.704,381.023 L 692.175,381.458 L 691.716,381.925 L 691.319,382.384 L 690.993,382.867 L 690.736,383.341 L 690.557,383.824 L 690.456,384.298 L 690.417,384.796 L 690.417,384.796 L 690.456,385.279 L 690.557,385.753 L 690.736,386.243 L 690.993,386.718 L 691.319,387.193 L 691.716,387.66 L 692.175,388.119 L 692.704,388.562 L 693.319,388.998 L 693.98,389.441 L 694.696,389.861 L 695.49,390.258 L 696.346,390.655 L 697.24,391.036 L 698.205,391.394 L 699.217,391.737 L 700.29,392.056 L 701.411,392.367 L 702.555,392.647 L 703.753,392.919 L 704.998,393.168 L 706.266,393.386 L 707.565,393.588 L 708.896,393.767 L 710.257,393.923 L 711.642,394.055 L 713.043,394.172 L 714.443,394.25 L 715.875,394.312 L 717.307,394.351 L 718.738,394.366 L 718.738,394.366 L 720.17,394.351 L 721.617,394.312 L 723.033,394.25 L 724.449,394.172 L 725.842,394.055 L 727.235,393.923 L 728.588,393.767 L 729.911,393.588 L 731.218,393.386 L 732.486,393.168 L 733.731,392.919 L 734.93,392.647 L 736.081,392.367 L 737.186,392.056 L 738.252,391.737 L 739.271,391.394 L 740.252,391.036 L 741.146,390.655 L 741.994,390.258 L 742.78,389.861 L 743.512,389.441 L 744.173,388.998 L 744.772,388.562 L 745.317,388.119 L 745.76,387.66 L 746.165,387.193 L 746.499,386.718 L 746.748,386.243 L 746.927,385.753 L 747.028,385.279 L 747.067,384.796""/> <path style=""fill: #a5a585"" d=""M 690.417 364.606 L 690.417,385.123 L 747.067,385.123 L 747.067,364.606 L 690.417,364.606z""/> <path style=""fill: #c9c9b6"" d=""M 747.402 364.434 L 747.363,363.929 L 747.254,363.439 L 747.067,362.956 L 746.811,362.474 L 746.492,361.984 L 746.095,361.509 L 745.628,361.034 L 745.091,360.591 L 744.484,360.147 L 743.815,359.696 L 743.084,359.284 L 742.298,358.864 L 741.434,358.459 L 740.524,358.086 L 739.559,357.72 L 738.532,357.362 L 737.466,357.035 L 736.346,356.732 L 735.186,356.436 L 733.973,356.164 L 732.735,355.915 L 731.452,355.689 L 730.137,355.479 L 728.806,355.292 L 727.437,355.137 L 726.044,355.004 L 724.644,354.895 L 723.22,354.81 L 721.788,354.74 L 720.349,354.701 L 718.909,354.693 L 718.909,354.693 L 717.462,354.701 L 716.023,354.74 L 714.591,354.81 L 713.167,354.895 L 711.767,355.004 L 710.374,355.137 L 709.012,355.292 L 707.674,355.479 L 706.359,355.689 L 705.075,355.915 L 703.838,356.164 L 702.632,356.436 L 701.473,356.732 L 700.353,357.035 L 699.279,357.362 L 698.252,357.72 L 697.295,358.086 L 696.377,358.459 L 695.521,358.864 L 694.727,359.284 L 693.996,359.696 L 693.327,360.147 L 692.72,360.591 L 692.183,361.034 L 691.716,361.509 L 691.319,361.984 L 691,362.474 L 690.744,362.956 L 690.557,363.439 L 690.456,363.929 L 690.417,364.434 L 690.417,364.434 L 690.456,364.925 L 690.557,365.423 L 690.744,365.897 L 691,366.395 L 691.319,366.87 L 691.716,367.352 L 692.183,367.819 L 692.72,368.27 L 693.327,368.722 L 693.996,369.157 L 694.727,369.585 L 695.521,369.998 L 696.377,370.394 L 697.295,370.776 L 698.252,371.149 L 699.279,371.491 L 700.353,371.826 L 701.473,372.137 L 702.632,372.425 L 703.838,372.697 L 705.075,372.954 L 706.359,373.172 L 707.674,373.39 L 709.012,373.569 L 710.374,373.725 L 711.767,373.865 L 713.167,373.966 L 714.591,374.059 L 716.023,374.121 L 717.462,374.16 L 718.909,374.176 L 718.909,374.176 L 720.349,374.16 L 721.788,374.121 L 723.22,374.059 L 724.644,373.966 L 726.044,373.865 L 727.437,373.725 L 728.806,373.569 L 730.137,373.39 L 731.452,373.172 L 732.735,372.954 L 733.973,372.697 L 735.186,372.425 L 736.346,372.137 L 737.466,371.826 L 738.532,371.491 L 739.559,371.149 L 740.524,370.776 L 741.434,370.394 L 742.298,369.998 L 743.084,369.585 L 743.815,369.157 L 744.484,368.722 L 745.091,368.27 L 745.628,367.819 L 746.095,367.352 L 746.492,366.87 L 746.811,366.395 L 747.067,365.897 L 747.254,365.423 L 747.363,364.925 L 747.402,364.434z""/> <path style=""fill: none; fill-opacity:0; stroke-width: 0.02; stroke: #494936"" d=""M 747.067 364.279 L 747.028,363.781 L 746.927,363.306 L 746.748,362.832 L 746.499,362.349 L 746.165,361.859 L 745.76,361.4 L 745.317,360.957 L 744.772,360.498 L 744.173,360.062 L 743.512,359.618 L 742.78,359.214 L 741.994,358.801 L 741.146,358.405 L 740.252,358.039 L 739.271,357.673 L 738.252,357.339 L 737.186,357.012 L 736.081,356.701 L 734.93,356.413 L 733.731,356.148 L 732.486,355.907 L 731.218,355.681 L 729.911,355.479 L 728.588,355.292 L 727.235,355.137 L 725.842,355.004 L 724.449,354.895 L 723.033,354.81 L 722.558,354.787 L 714.918,354.787 L 714.443,354.81 L 713.043,354.895 L 711.642,355.004 L 710.257,355.137 L 708.896,355.292 L 707.565,355.479 L 706.266,355.681 L 704.998,355.907 L 703.753,356.148 L 702.555,356.413 L 701.411,356.701 L 700.29,357.012 L 699.217,357.339 L 698.205,357.673 L 697.24,358.039 L 696.346,358.405 L 695.49,358.801 L 694.696,359.214 L 693.98,359.618 L 693.319,360.062 L 692.704,360.498 L 692.175,360.957 L 691.716,361.4 L 691.319,361.859 L 690.993,362.349 L 690.736,362.832 L 690.557,363.306 L 690.456,363.781 L 690.417,364.279 L 690.417,364.279 L 690.456,364.753 L 690.557,365.244 L 690.736,365.726 L 690.993,366.201 L 691.319,366.675 L 691.716,367.142 L 692.175,367.593 L 692.704,368.052 L 693.319,368.488 L 693.98,368.924 L 694.696,369.344 L 695.49,369.741 L 696.346,370.13 L 697.24,370.519 L 698.205,370.877 L 699.217,371.211 L 700.29,371.53 L 701.411,371.842 L 702.555,372.122 L 703.753,372.394 L 704.998,372.651 L 706.266,372.853 L 707.565,373.071 L 708.896,373.242 L 710.257,373.406 L 711.642,373.546 L 713.043,373.654 L 714.443,373.74 L 715.875,373.795 L 717.307,373.826 L 718.738,373.849 L 718.738,373.849 L 720.17,373.826 L 721.617,373.795 L 723.033,373.74 L 724.449,373.654 L 725.842,373.546 L 727.235,373.406 L 728.588,373.242 L 729.911,373.071 L 731.218,372.853 L 732.486,372.651 L 733.731,372.394 L 734.93,372.122 L 736.081,371.842 L 737.186,371.53 L 738.252,371.211 L 739.271,370.877 L 740.252,370.519 L 741.146,370.13 L 741.994,369.741 L 742.78,369.344 L 743.512,368.924 L 744.173,368.488 L 744.772,368.052 L 745.317,367.593 L 745.76,367.142 L 746.165,366.675 L 746.499,366.201 L 746.748,365.726 L 746.927,365.244 L 747.028,364.753 L 747.067,364.279""/> <path style=""fill: none; fill-opacity:0; stroke-width: 0.02; stroke: #000000"" d=""M 690.417 364.279 L 690.417,384.781""/> <path style=""fill: none; fill-opacity:0; stroke-width: 0.02; stroke: #000000"" d=""M 747.067 364.279 L 747.067,384.781""/> <text font-size=""12.8"" style=""fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""474.766"" y=""416.875""> <tspan x=""474.766"" y=""416.875"">API</tspan> <text font-size=""12.8"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""483.722"" y=""570.367""> <tspan x=""483.722"" y=""570.367"">Conductor</tspan> <g> <rect style=""fill: #ffffff"" x=""432.988"" y=""362.887"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""432.988"" y=""362.887"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""432.988"" y=""362.887"" width=""110.242"" height=""113.917""/> <text font-size=""12.8"" style=""fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""488.109"" y=""419.845""> <tspan x=""488.109"" y=""419.845"">API</tspan> <g> <rect style=""fill: #ffffff"" x=""441.28"" y=""369.907"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""441.28"" y=""369.907"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""441.28"" y=""369.907"" width=""110.242"" height=""113.917""/> </g> <text font-size=""12.8"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""496.401"" y=""426.865""> <tspan x=""496.401"" y=""426.865"">API</tspan> <g> <rect style=""fill: #ffffff"" x=""435.2"" y=""520.429"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""435.2"" y=""520.429"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""435.2"" y=""520.429"" width=""110.242"" height=""113.917""/> <text font-size=""12.8"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""490.321"" y=""577.387""> <tspan x=""490.321"" y=""577.387"">Conductor</tspan> <g> <rect style=""fill: #ffffff"" x=""442.496"" y=""529.273"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""442.496"" y=""529.273"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""442.496"" y=""529.273"" width=""110.242"" height=""113.917""/> <text font-size=""12.8"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""497.617"" y=""586.231""> <tspan x=""497.617"" y=""586.231"">Conductor</tspan> <text font-size=""12.8"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""647.31"" y=""566.055""> <tspan x=""647.31"" y=""566.055"">Scheduler</tspan> <g> <rect style=""fill: #ffffff"" x=""602.692"" y=""518.495"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""602.692"" y=""518.495"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""602.692"" y=""518.495"" width=""110.242"" height=""113.917""/> <text font-size=""12.8"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""657.813"" y=""575.453""> <tspan x=""657.813"" y=""575.453"">Scheduler</tspan> <g> <rect style=""fill: #ffffff"" x=""611.536"" y=""528.997"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""611.536"" y=""528.997"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""611.536"" y=""528.997"" width=""110.242"" height=""113.917""/> </g> <text font-size=""12.8"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""666.657"" y=""585.955""> <tspan x=""666.657"" y=""585.955"">Scheduler</tspan> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x1=""496.401"" y1=""483.823"" x2=""496.813"" y2=""518.535""/> <polygon style=""fill: #000000"" points=""496.902,526.035 491.784,516.095 496.813,518.535 501.783,515.976 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""496.902,526.035 491.784,516.095 496.813,518.535 501.783,515.976 ""/> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x1=""552.738"" y1=""586.231"" x2=""600.824"" y2=""586.115""/> <polygon style=""fill: #000000"" points=""608.323,586.097 598.336,591.121 600.824,586.115 598.311,581.121 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""608.323,586.097 598.336,591.121 600.824,586.115 598.311,581.121 ""/> </g> <text font-size=""12.8"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""717.513"" y=""382.968""> <tspan x=""717.513"" y=""382.968"">DB</tspan> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 4; stroke: #000000"" x1=""557.797"" y1=""401.841"" x2=""680.808"" y2=""381.049""/> <polygon style=""fill: #000000"" points=""688.204,379.799 679.177,386.396 680.808,381.049 677.51,376.535 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""688.204,379.799 679.177,386.396 680.808,381.049 677.51,376.535 ""/> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 4; stroke: #000000"" x1=""677.401"" y1=""517.498"" x2=""715.792"" y2=""403.917""/> <polygon style=""fill: #000000"" points=""718.193,396.812 719.728,407.886 715.792,403.917 710.255,404.684 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""718.193,396.812 719.728,407.886 715.792,403.917 710.255,404.684 ""/> </g> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 4; stroke: #000000"" x1=""553.32"" y1=""532.921"" x2=""693.202"" y2=""399.049""/> <polygon style=""fill: #000000"" points=""698.62,393.863 694.853,404.389 693.202,399.049 687.939,397.165 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""698.62,393.863 694.853,404.389 693.202,399.049 687.939,397.165 ""/> </g> <g> <rect style=""fill: #ffffff"" x=""423.592"" y=""674.379"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""423.592"" y=""674.379"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""423.592"" y=""674.379"" width=""110.242"" height=""113.917""/> </g> <text font-size=""12.8"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""478.713"" y=""731.337""> <tspan x=""478.713"" y=""731.337"">Compute</tspan> <g> <rect style=""fill: #ffffff"" x=""431.33"" y=""682.809"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""431.33"" y=""682.809"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""431.33"" y=""682.809"" width=""110.242"" height=""113.917""/> <text font-size=""12.8"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""486.451"" y=""739.767""> <tspan x=""486.451"" y=""739.767"">Compute</tspan> <g> <rect style=""fill: #ffffff"" x=""439.07"" y=""691.653"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""439.07"" y=""691.653"" width=""110.242"" height=""113.917""/> <rect style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x=""439.07"" y=""691.653"" width=""110.242"" height=""113.917""/> <text font-size=""12.8"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""494.191"" y=""748.611""> <tspan x=""494.191"" y=""748.611"">Compute</tspan> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x1=""497.617"" y1=""643.19"" x2=""496.389"" y2=""680.971""/> <polygon style=""fill: #000000"" points=""496.145,688.467 491.473,678.31 496.389,680.971 501.468,678.634 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""496.145,688.467 491.473,678.31 496.389,680.971 501.468,678.634 ""/> <g> <path style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" d=""M 555.779,691.764 A 185.902,185.902 0 0 0 552.414,477.655""/> <polygon style=""fill: #000000"" points=""551.449,697.877 553.524,686.891 555.99,691.908 561.483,692.945 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""551.449,697.877 553.524,686.891 555.99,691.908 561.483,692.945 ""/> </g> <g> <polygon style=""fill: #ffffff"" points=""222.315,361.639 288.23,361.639 332.173,426.639 288.23,491.638 222.315,491.638 178.371,426.639 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""222.315,361.639 288.23,361.639 332.173,426.639 288.23,491.638 222.315,491.638 178.371,426.639 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""222.315,361.639 288.23,361.639 332.173,426.639 288.23,491.638 222.315,491.638 178.371,426.639 ""/> </g> <text font-size=""12.8"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""260.266"" y=""429.593""> <tspan x=""260.266"" y=""429.593"">Keystone</tspan> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 20 4 4 4 4 4; stroke: #000000"" x1=""440.293"" y1=""427.513"" x2=""341.675"" y2=""428.653""/> <polygon style=""fill: #000000"" points=""334.175,428.739 344.117,423.624 341.675,428.653 344.233,433.623 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""334.175,428.739 344.117,423.624 341.675,428.653 344.233,433.623 ""/> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 20 4 4 4 4 4; stroke: #000000"" x1=""440.319"" y1=""465.494"" x2=""319.58"" y2=""548.658""/> <polygon style=""fill: #000000"" points=""313.403,552.912 318.802,543.122 319.58,548.658 324.475,551.357 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""313.403,552.912 318.802,543.122 319.58,548.658 324.475,551.357 ""/> </g> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 20 4 4 4 4 4; stroke: #000000"" x1=""438.091"" y1=""710.441"" x2=""317.076"" y2=""628.101""/> <polygon style=""fill: #000000"" points=""310.875,623.882 321.956,625.373 317.076,628.101 316.33,633.641 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""310.875,623.882 321.956,625.373 317.076,628.101 316.33,633.641 ""/> </g> <g> <polygon style=""fill: #ffffff"" points=""824.013,514.493 889.929,514.493 933.872,579.493 889.929,644.492 824.013,644.492 780.07,579.493 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""824.013,514.493 889.929,514.493 933.872,579.493 889.929,644.492 824.013,644.492 780.07,579.493 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""824.013,514.493 889.929,514.493 933.872,579.493 889.929,644.492 824.013,644.492 780.07,579.493 ""/> </g> <text font-size=""12.8"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""861.965"" y=""582.447""> <tspan x=""861.965"" y=""582.447"">Glance</tspan> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 20 4 4 4 4 4; stroke: #000000"" x1=""552.496"" y1=""448.044"" x2=""794.259"" y2=""539.323""/> <polygon style=""fill: #000000"" points=""801.276,541.972 790.154,543.118 794.259,539.323 793.686,533.762 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""801.276,541.972 790.154,543.118 794.259,539.323 793.686,533.762 ""/> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 20 4 4 4 4 4; stroke: #000000"" x1=""550.28"" y1=""724.597"" x2=""793.823"" y2=""620.325""/> <polygon style=""fill: #000000"" points=""800.717,617.373 793.492,625.905 793.823,620.325 789.556,616.712 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""800.717,617.373 793.492,625.905 793.823,620.325 789.556,616.712 ""/> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x1=""496.073"" y1=""690.702"" x2=""497.301"" y2=""652.921""/> <polygon style=""fill: #000000"" points=""497.544,645.425 502.217,655.582 497.301,652.921 492.222,655.257 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""497.544,645.425 502.217,655.582 497.301,652.921 492.222,655.257 ""/> </g> <g> <polygon style=""fill: #ffffff"" points=""494.466,757.689 548.507,804.689 494.466,851.689 440.425,804.689 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""494.466,757.689 548.507,804.689 494.466,851.689 440.425,804.689 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""494.466,757.689 548.507,804.689 494.466,851.689 440.425,804.689 ""/> </g> <text font-size=""12.8"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""496.136"" y=""808.812""> <tspan x=""496.136"" y=""808.812"">Hypervisor</tspan> <g> <polygon style=""fill: #ffffff"" points=""222.363,521.525 288.278,521.525 332.221,586.525 288.278,651.524 222.363,651.524 178.419,586.525 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""222.363,521.525 288.278,521.525 332.221,586.525 288.278,651.524 222.363,651.524 178.419,586.525 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""222.363,521.525 288.278,521.525 332.221,586.525 288.278,651.524 222.363,651.524 178.419,586.525 ""/> <text font-size=""12.8"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""260.314"" y=""589.479""> <tspan x=""260.314"" y=""589.479"">Neutron</tspan> <g> <polygon style=""fill: #ffffff"" points=""989.319,511.475 1055.23,511.475 1099.18,576.475 1055.23,641.474 989.319,641.474 945.375,576.475 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""989.319,511.475 1055.23,511.475 1099.18,576.475 1055.23,641.474 989.319,641.474 945.375,576.475 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""989.319,511.475 1055.23,511.475 1099.18,576.475 1055.23,641.474 989.319,641.474 945.375,576.475 ""/> <g> <ellipse style=""fill: #ffffff"" cx=""490.216"" cy=""185.568"" rx=""6"" ry=""6""/> <ellipse style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" cx=""490.216"" cy=""185.568"" rx=""6"" ry=""6""/> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x1=""466.216"" y1=""197.568"" x2=""514.216"" y2=""197.568""/> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x1=""490.216"" y1=""191.568"" x2=""490.216"" y2=""221.568""/> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x1=""490.216"" y1=""221.568"" x2=""466.216"" y2=""247.568""/> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x1=""490.216"" y1=""221.568"" x2=""514.216"" y2=""247.568""/> <text font-size=""12.7998"" style=""fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""490.216"" y=""271.449""> <tspan x=""490.216"" y=""271.449"">User</tspan> </text> <text font-size=""12.7998"" style=""fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal"" x=""1000.51"" y=""583.592""> <tspan x=""1000.51"" y=""583.592"">Cinder</tspan> <tspan x=""1000.51"" y=""599.592""></tspan> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 20 4 4 4 4 4; stroke: #000000"" x1=""554.229"" y1=""748.495"" x2=""965.906"" y2=""625.377""/> <polygon style=""fill: #000000"" points=""973.092,623.228 964.944,630.883 965.906,625.377 962.078,621.303 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""973.092,623.228 964.944,630.883 965.906,625.377 962.078,621.303 ""/> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 20 4 4 4 4 4; stroke: #000000"" x1=""554.406"" y1=""436.179"" x2=""966.591"" y2=""526.573""/> <polygon style=""fill: #000000"" points=""973.917,528.179 963.078,530.921 966.591,526.573 965.22,521.153 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""973.917,528.179 963.078,530.921 966.591,526.573 965.22,521.153 ""/> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 20 4 4 4 4 4; stroke: #000000"" x1=""490.012"" y1=""286.488"" x2=""490.527"" y2=""349.889""/> <polygon style=""fill: #000000"" points=""490.588,357.388 485.507,347.429 490.527,349.889 495.507,347.348 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""490.588,357.388 485.507,347.429 490.527,349.889 495.507,347.348 ""/> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 20 4 4 4 4 4; stroke: #000000"" x1=""475.147"" y1=""283.069"" x2=""316.226"" y2=""383.65""/> <polygon style=""fill: #000000"" points=""309.889,387.661 315.665,378.089 316.226,383.65 321.013,386.538 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""309.889,387.661 315.665,378.089 316.226,383.65 321.013,386.538 ""/> <g> <path style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" d=""M 557.202,690.818 A 185.91,185.91 0 0 0 558.072,485.355""/> <polygon style=""fill: #000000"" points=""553.845,479.171 563.795,484.27 558.285,485.215 555.736,490.19 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""553.845,479.171 563.795,484.27 558.285,485.215 555.736,490.19 ""/> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x1=""599.346"" y1=""586.125"" x2=""562.474"" y2=""586.209""/> <polygon style=""fill: #000000"" points=""554.974,586.226 564.963,581.204 562.474,586.209 564.985,591.204 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""554.974,586.226 564.963,581.204 562.474,586.209 564.985,591.204 ""/> <g> <line style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" x1=""496.537"" y1=""518.679"" x2=""496.439"" y2=""493.559""/> <polygon style=""fill: #000000"" points=""496.41,486.059 501.449,496.04 496.439,493.559 491.449,496.079 ""/> <polygon style=""fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000"" points=""496.41,486.059 501.449,496.04 496.439,493.559 491.449,496.079 ""/> </g>","<svg xmlns:dc=""http://purl.org/dc/elements/1.1/"" xmlns:cc=""http://creativecommons.org/ns#"" xmlns:rdf=""http://www.w3.org/1999/02/22-rdf-syntax-ns#"" xmlns:svg=""http://www.w3.org/2000/svg"" xmlns=""http://www.w3.org/2000/svg"" xmlns:sodipodi=""http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"" xmlns:inkscape=""http://www.inkscape.org/namespaces/inkscape"" width=""41cm"" height=""34cm"" viewBox=""-80 120 814 673.55172"" id=""svg5101"" version=""1.1"" inkscape:version=""0.91 r13725"" sodipodi:docname=""architecture.svg""> <metadata id=""metadata5799""> <rdf:RDF> <cc:Work rdf:about=""""> <dc:format>image/svg+xml</dc:format> <dc:type rdf:resource=""http://purl.org/dc/dcmitype/StillImage"" /> <dc:title /> </cc:Work> </rdf:RDF> </metadata> <defs id=""defs5797""> <inkscape:path-effect effect=""skeletal"" id=""path-effect5367"" is_visible=""true"" pattern=""M 0,5 C 0,2.24 2.24,0 5,0 7.76,0 10,2.24 10,5 10,7.76 7.76,10 5,10 2.24,10 0,7.76 0,5 Z"" copytype=""single_stretched"" prop_scale=""1"" scale_y_rel=""false"" spacing=""0"" normal_offset=""0"" tang_offset=""0"" prop_units=""false"" vertical_pattern=""false"" fuse_tolerance=""0"" /> <inkscape:path-effect effect=""skeletal"" id=""path-effect5363"" is_visible=""true"" pattern=""M 0,5 C 0,2.24 2.24,0 5,0 7.76,0 10,2.24 10,5 10,7.76 7.76,10 5,10 2.24,10 0,7.76 0,5 Z"" copytype=""single_stretched"" prop_scale=""1"" scale_y_rel=""false"" spacing=""0"" normal_offset=""0"" tang_offset=""0"" prop_units=""false"" vertical_pattern=""false"" fuse_tolerance=""0"" /> <inkscape:path-effect effect=""skeletal"" id=""path-effect5359"" is_visible=""true"" pattern=""M 0,5 C 0,2.24 2.24,0 5,0 7.76,0 10,2.24 10,5 10,7.76 7.76,10 5,10 2.24,10 0,7.76 0,5 Z"" copytype=""single_stretched"" prop_scale=""1"" scale_y_rel=""false"" spacing=""0"" normal_offset=""0"" tang_offset=""0"" prop_units=""false"" vertical_pattern=""false"" fuse_tolerance=""0"" /> <inkscape:path-effect effect=""skeletal"" id=""path-effect5355"" is_visible=""true"" pattern=""M 0,5 C 0,2.24 2.24,0 5,0 7.76,0 10,2.24 10,5 10,7.76 7.76,10 5,10 2.24,10 0,7.76 0,5 Z"" copytype=""single_stretched"" prop_scale=""1"" scale_y_rel=""false"" spacing=""0"" normal_offset=""0"" tang_offset=""0"" prop_units=""false"" vertical_pattern=""false"" fuse_tolerance=""0"" /> <inkscape:path-effect effect=""spiro"" id=""path-effect5353"" is_visible=""true"" /> </defs> <sodipodi:namedview pagecolor=""#ffffff"" bordercolor=""#666666"" borderopacity=""1"" objecttolerance=""10"" gridtolerance=""10"" guidetolerance=""10"" inkscape:pageopacity=""0"" inkscape:pageshadow=""2"" inkscape:window-width=""1920"" inkscape:window-height=""1031"" id=""namedview5795"" showgrid=""false"" inkscape:snap-text-baseline=""true"" inkscape:zoom=""0.64960628"" inkscape:cx=""822.86121"" inkscape:cy=""516.54976"" inkscape:window-x=""0"" inkscape:window-y=""25"" inkscape:window-maximized=""1"" inkscape:current-layer=""svg5101"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"" x=""147.41299"" y=""-390.50439"" id=""text5127""> <tspan x=""147.41299"" y=""-390.50439"" id=""tspan5129"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"" x=""147.41299"" y=""-390.50439"" id=""text5131""> <tspan x=""147.41299"" y=""-390.50439"" id=""tspan5133"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""66.170197"" y=""-68.90979"" id=""text5343""> <tspan x=""66.170197"" y=""-68.90979"" id=""tspan5345"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""66.170197"" y=""-68.90979"" id=""text5347""> <tspan x=""66.170197"" y=""-68.90979"" id=""tspan5349"" /> <line id=""line5411"" y2=""215.16397"" x2=""-14.855196"" y1=""215.14597"" x1=""-62.656399"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" /> <polygon id=""polygon5413"" points=""-32.8829,652.661 -30.381,647.662 -32.8791,642.661 -22.881,647.665 "" style=""fill:#000000"" transform=""translate(15.525804,-432.49801)"" /> <polygon id=""polygon5415"" points=""-32.8829,652.661 -30.381,647.662 -32.8791,642.661 -22.881,647.665 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(15.525804,-432.49801)"" /> <line id=""line5419"" y2=""235.07297"" x2=""-17.156858"" y1=""235.16397"" x1=""-62.791264"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:4"" /> <polygon id=""polygon5421"" points=""-31.2966,667.571 -33.8065,662.576 -23.7966,667.556 -33.7867,672.576 "" style=""fill:#000000"" transform=""translate(16.441408,-432.49801)"" /> <polygon id=""polygon5423"" points=""-31.2966,667.571 -33.8065,662.576 -23.7966,667.556 -33.7867,672.576 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(16.441408,-432.49801)"" /> <line id=""line5427"" y2=""255.71207"" x2=""-19.429308"" y1=""255.67105"" x1=""-62.792309"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.99976206;stroke-miterlimit:4;stroke-dasharray:19.99762007, 3.99952401, 3.99952401, 3.99952401, 3.99952401, 3.99952401;stroke-dashoffset:0"" /> <polygon id=""polygon5429"" points=""-34.043,688.137 -36.5383,683.134 -26.543,688.144 -36.5477,693.134 "" style=""fill:#000000"" transform=""translate(19.187804,-432.49801)"" /> <polygon id=""polygon5431"" points=""-34.043,688.137 -36.5383,683.134 -26.543,688.144 -36.5477,693.134 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(19.187804,-432.49801)"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"" x=""13.584854"" y=""219.10397"" id=""text5433""> <tspan x=""13.584854"" y=""219.10397"" id=""tspan5435"">oslo.messaging</tspan> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"" x=""13.429454"" y=""239.20596"" id=""text5437""> <tspan x=""13.429454"" y=""239.20596"" id=""tspan5439"">DB</tspan> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"" x=""-0.0075523499"" y=""205.67822"" id=""text5441""> <tspan x=""-0.0075523499"" y=""205.67822"" id=""tspan5443"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"" x=""13.477854"" y=""258.92398"" id=""text5445""> <tspan x=""13.477854"" y=""258.92398"" id=""tspan5447"">HTTP</tspan> <g id=""g5449"" transform=""translate(16.122405,-432.49801)""> <rect style=""fill:#ffffff"" x=""-60.502201"" y=""609.86603"" width=""21.858999"" height=""22.5877"" id=""rect5451"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""-60.502201"" y=""609.86603"" width=""21.858999"" height=""22.5877"" id=""rect5453"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""-60.502201"" y=""609.86603"" width=""21.858999"" height=""22.5877"" id=""rect5455"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"" x=""13.445654"" y=""189.936"" id=""text5457""> <tspan x=""13.445654"" y=""189.936"" id=""tspan5459"">Nova service</tspan> <g id=""g5461"" transform=""translate(15.525804,-432.49801)""> <polygon style=""fill:#ffffff"" points=""-42.3658,606.44 -55.5864,606.44 -64.4002,595.129 -55.5864,583.818 -42.3658,583.818 -33.552,595.129 "" id=""polygon5463"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""-42.3658,606.44 -55.5864,606.44 -64.4002,595.129 -55.5864,583.818 -42.3658,583.818 -33.552,595.129 "" id=""polygon5465"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""-42.3658,606.44 -55.5864,606.44 -64.4002,595.129 -55.5864,583.818 -42.3658,583.818 -33.552,595.129 "" id=""polygon5467"" /> </g> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"" x=""13.380854"" y=""163.21396"" id=""text5469""> <tspan x=""13.380854"" y=""163.21396"" id=""tspan5471"">External service</tspan> <g id=""g5497"" transform=""translate(-16.388348,-489.42595)""> <path style=""fill:#a5a585"" d=""m 473.725,856.395 -0.039,-0.498 -0.109,-0.49 -0.187,-0.49 -0.257,-0.483 -0.319,-0.482 -0.397,-0.475 -0.466,-0.466 -0.537,-0.46 -0.607,-0.451 -0.669,-0.428 -0.732,-0.428 -0.785,-0.42 -0.864,-0.397 -0.91,-0.381 -0.965,-0.366 -1.027,-0.35 -1.066,-0.326 -1.121,-0.312 -1.159,-0.288 -1.214,-0.272 -1.237,-0.257 -1.284,-0.225 -1.315,-0.218 -1.33,-0.179 -1.369,-0.156 -1.393,-0.132 -1.401,-0.117 -1.423,-0.077 -1.432,-0.071 -1.439,-0.046 -1.44,0 0,0 -1.447,0 -1.44,0.046 -1.431,0.071 -1.424,0.077 -1.4,0.117 -1.393,0.132 -1.362,0.156 -1.338,0.179 -1.315,0.218 -1.284,0.225 -1.237,0.257 -1.206,0.272 -1.159,0.288 -1.121,0.312 -1.073,0.326 -1.027,0.35 -0.957,0.366 -0.918,0.381 -0.856,0.397 -0.794,0.42 -0.731,0.428 -0.669,0.428 -0.607,0.451 -0.537,0.46 -0.467,0.466 -0.397,0.475 -0.319,0.482 -0.257,0.483 -0.186,0.49 -0.102,0.49 -0.038,0.498 0,0 0.038,0.498 0.102,0.482 0.186,0.498 0.257,0.483 0.319,0.482 0.397,0.475 0.467,0.467 0.537,0.459 0.607,0.443 0.669,0.436 0.731,0.428 0.794,0.42 0.856,0.397 0.918,0.381 0.957,0.366 1.027,0.35 1.073,0.327 1.121,0.311 1.159,0.288 1.206,0.272 1.237,0.257 1.284,0.225 1.315,0.211 1.338,0.186 1.362,0.156 1.393,0.132 1.4,0.109 1.424,0.086 1.431,0.062 1.44,0.047 1.447,0.007 0,0 1.44,-0.007 1.439,-0.047 1.432,-0.062 1.423,-0.086 1.401,-0.109 1.393,-0.132 1.369,-0.156 1.33,-0.186 1.315,-0.211 1.284,-0.225 1.237,-0.257 1.214,-0.272 1.159,-0.288 1.121,-0.311 1.066,-0.327 1.027,-0.35 0.965,-0.366 0.91,-0.381 0.864,-0.397 0.785,-0.42 0.732,-0.428 0.669,-0.436 0.607,-0.443 0.537,-0.459 0.466,-0.467 0.397,-0.475 0.319,-0.482 0.257,-0.483 0.187,-0.498 0.109,-0.482 0.039,-0.498 z"" id=""path5499"" inkscape:connector-curvature=""0"" /> <path style=""fill:none;fill-opacity:0;stroke:#494936;stroke-width:0.02"" d=""m 473.39,856.239 -0.039,-0.497 -0.101,-0.475 -0.179,-0.482 -0.249,-0.475 -0.335,-0.482 -0.404,-0.46 -0.444,-0.466 -0.544,-0.436 -0.599,-0.444 -0.662,-0.435 -0.731,-0.413 -0.786,-0.412 -0.848,-0.389 -0.895,-0.389 -0.98,-0.35 -1.019,-0.343 -1.066,-0.326 -1.105,-0.304 -1.152,-0.28 -1.198,-0.272 -1.245,-0.241 -1.268,-0.226 -1.307,-0.21 -1.323,-0.179 -1.354,-0.156 -1.392,-0.124 -1.393,-0.125 -1.416,-0.07 -1.416,-0.062 -1.447,-0.039 -1.432,-0.023 0,0 -1.432,0.023 -1.431,0.039 -1.432,0.062 -1.4,0.07 -1.401,0.125 -1.385,0.124 -1.362,0.156 -1.33,0.179 -1.299,0.21 -1.269,0.226 -1.244,0.241 -1.199,0.272 -1.143,0.28 -1.121,0.304 -1.074,0.326 -1.011,0.343 -0.965,0.35 -0.895,0.389 -0.855,0.389 -0.794,0.412 -0.716,0.413 -0.661,0.435 -0.615,0.444 -0.529,0.436 -0.459,0.466 -0.397,0.46 -0.327,0.482 -0.256,0.475 -0.179,0.482 -0.102,0.475 -0.038,0.497 0,0 0.038,0.483 0.102,0.475 0.179,0.49 0.256,0.474 0.327,0.475 0.397,0.467 0.459,0.459 0.529,0.443 0.615,0.436 0.661,0.444 0.716,0.42 0.794,0.396 0.855,0.397 0.895,0.382 0.965,0.357 1.011,0.343 1.074,0.319 1.121,0.311 1.143,0.28 1.199,0.272 1.244,0.249 1.269,0.218 1.299,0.203 1.33,0.179 1.362,0.155 1.385,0.132 1.401,0.117 1.4,0.078 1.432,0.062 1.431,0.039 1.432,0.016 0,0 1.432,-0.016 1.447,-0.039 1.416,-0.062 1.416,-0.078 1.393,-0.117 1.392,-0.132 1.354,-0.155 1.323,-0.179 1.307,-0.203 1.268,-0.218 1.245,-0.249 1.198,-0.272 1.152,-0.28 1.105,-0.311 1.066,-0.319 1.019,-0.343 0.98,-0.357 0.895,-0.382 0.848,-0.397 0.786,-0.396 0.731,-0.42 0.662,-0.444 0.599,-0.436 0.544,-0.443 0.444,-0.459 0.404,-0.467 0.335,-0.475 0.249,-0.474 0.179,-0.49 0.101,-0.475 0.039,-0.483"" id=""path5501"" inkscape:connector-curvature=""0"" /> <path style=""fill:#a5a585"" d=""m 416.74,836.049 0,20.517 56.65,0 0,-20.517 -56.65,0 z"" id=""path5503"" inkscape:connector-curvature=""0"" /> <path style=""fill:#c9c9b6"" d=""m 473.725,835.878 -0.039,-0.506 -0.109,-0.49 -0.187,-0.483 -0.257,-0.482 -0.319,-0.49 -0.397,-0.475 -0.466,-0.474 -0.537,-0.444 -0.607,-0.443 -0.669,-0.452 -0.732,-0.412 -0.785,-0.42 -0.864,-0.405 -0.91,-0.373 -0.965,-0.366 -1.027,-0.358 -1.066,-0.327 -1.121,-0.303 -1.159,-0.296 -1.214,-0.272 -1.237,-0.249 -1.284,-0.226 -1.315,-0.21 -1.33,-0.186 -1.369,-0.156 -1.393,-0.132 -1.401,-0.109 -1.423,-0.086 -1.432,-0.07 -1.439,-0.039 -1.44,-0.008 0,0 -1.447,0.008 -1.44,0.039 -1.431,0.07 -1.424,0.086 -1.4,0.109 -1.393,0.132 -1.362,0.156 -1.338,0.186 -1.315,0.21 -1.284,0.226 -1.237,0.249 -1.206,0.272 -1.159,0.296 -1.121,0.303 -1.073,0.327 -1.027,0.358 -0.957,0.366 -0.918,0.373 -0.856,0.405 -0.794,0.42 -0.731,0.412 -0.669,0.452 -0.607,0.443 -0.537,0.444 -0.467,0.474 -0.397,0.475 -0.319,0.49 -0.257,0.482 -0.186,0.483 -0.102,0.49 -0.038,0.506 0,0 0.038,0.49 0.102,0.498 0.186,0.474 0.257,0.498 0.319,0.475 0.397,0.482 0.467,0.467 0.537,0.452 0.607,0.451 0.669,0.436 0.731,0.427 0.794,0.413 0.856,0.397 0.918,0.381 0.957,0.373 1.027,0.343 1.073,0.334 1.121,0.311 1.159,0.288 1.206,0.273 1.237,0.256 1.284,0.218 1.315,0.218 1.338,0.179 1.362,0.156 1.393,0.14 1.4,0.101 1.424,0.093 1.431,0.063 1.44,0.038 1.447,0.016 0,0 1.44,-0.016 1.439,-0.038 1.432,-0.063 1.423,-0.093 1.401,-0.101 1.393,-0.14 1.369,-0.156 1.33,-0.179 1.315,-0.218 1.284,-0.218 1.237,-0.256 1.214,-0.273 1.159,-0.288 1.121,-0.311 1.066,-0.334 1.027,-0.343 0.965,-0.373 0.91,-0.381 0.864,-0.397 0.785,-0.413 0.732,-0.427 0.669,-0.436 0.607,-0.451 0.537,-0.452 0.466,-0.467 0.397,-0.482 0.319,-0.475 0.257,-0.498 0.187,-0.474 0.109,-0.498 0.039,-0.49 z"" id=""path5505"" inkscape:connector-curvature=""0"" /> <path style=""fill:none;fill-opacity:0;stroke:#494936;stroke-width:0.02"" d=""m 473.39,835.722 -0.039,-0.498 -0.101,-0.474 -0.179,-0.475 -0.249,-0.482 -0.335,-0.491 -0.404,-0.459 -0.444,-0.443 -0.544,-0.459 -0.599,-0.436 -0.662,-0.443 -0.731,-0.405 -0.786,-0.412 -0.848,-0.397 -0.895,-0.366 -0.98,-0.366 -1.019,-0.334 -1.066,-0.327 -1.105,-0.311 -1.152,-0.288 -1.198,-0.265 -1.245,-0.241 -1.268,-0.225 -1.307,-0.203 -1.323,-0.186 -1.354,-0.156 -1.392,-0.132 -1.393,-0.109 -1.416,-0.086 -0.475,-0.023 -7.64,0 -0.475,0.023 -1.4,0.086 -1.401,0.109 -1.385,0.132 -1.362,0.156 -1.33,0.186 -1.299,0.203 -1.269,0.225 -1.244,0.241 -1.199,0.265 -1.143,0.288 -1.121,0.311 -1.074,0.327 -1.011,0.334 -0.965,0.366 -0.895,0.366 -0.855,0.397 -0.794,0.412 -0.716,0.405 -0.661,0.443 -0.615,0.436 -0.529,0.459 -0.459,0.443 -0.397,0.459 -0.327,0.491 -0.256,0.482 -0.179,0.475 -0.102,0.474 -0.038,0.498 0,0 0.038,0.475 0.102,0.49 0.179,0.482 0.256,0.475 0.327,0.475 0.397,0.466 0.459,0.452 0.529,0.459 0.615,0.435 0.661,0.436 0.716,0.42 0.794,0.397 0.855,0.389 0.895,0.389 0.965,0.358 1.011,0.335 1.074,0.319 1.121,0.311 1.143,0.28 1.199,0.272 1.244,0.257 1.269,0.202 1.299,0.218 1.33,0.171 1.362,0.164 1.385,0.14 1.401,0.109 1.4,0.085 1.432,0.055 1.431,0.031 1.432,0.023 0,0 1.432,-0.023 1.447,-0.031 1.416,-0.055 1.416,-0.085 1.393,-0.109 1.392,-0.14 1.354,-0.164 1.323,-0.171 1.307,-0.218 1.268,-0.202 1.245,-0.257 1.198,-0.272 1.152,-0.28 1.105,-0.311 1.066,-0.319 1.019,-0.335 0.98,-0.358 0.895,-0.389 0.848,-0.389 0.786,-0.397 0.731,-0.42 0.662,-0.436 0.599,-0.435 0.544,-0.459 0.444,-0.452 0.404,-0.466 0.335,-0.475 0.249,-0.475 0.179,-0.482 0.101,-0.49 0.039,-0.475"" id=""path5507"" inkscape:connector-curvature=""0"" /> <path style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:0.02"" d=""m 416.74,835.722 0,20.502"" id=""path5509"" inkscape:connector-curvature=""0"" /> <path style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:0.02"" d=""m 473.39,835.722 0,20.502"" id=""path5511"" inkscape:connector-curvature=""0"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"" x=""256.64764"" y=""341.81006"" id=""text5513""> <tspan x=""256.64764"" y=""341.81006"" id=""tspan5515"">API</tspan> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""265.60367"" y=""495.30206"" id=""text5517""> <tspan x=""265.60367"" y=""495.30206"" id=""tspan5519"">Conductor</tspan> <g id=""g5521"" transform=""translate(-16.388348,-489.42595)""> <rect style=""fill:#ffffff"" x=""231.258"" y=""777.24799"" width=""110.242"" height=""113.917"" id=""rect5523"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""231.258"" y=""777.24799"" width=""110.242"" height=""113.917"" id=""rect5525"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""231.258"" y=""777.24799"" width=""110.242"" height=""113.917"" id=""rect5527"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"" x=""269.99066"" y=""344.78003"" id=""text5529""> <tspan x=""269.99066"" y=""344.78003"" id=""tspan5531"">API</tspan> <g id=""g5533"" transform=""translate(-16.388348,-489.42595)""> <rect style=""fill:#ffffff"" x=""239.55"" y=""786.64502"" width=""110.242"" height=""113.917"" id=""rect5535"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""239.55"" y=""786.64502"" width=""110.242"" height=""113.917"" id=""rect5537"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""239.55"" y=""786.64502"" width=""110.242"" height=""113.917"" id=""rect5539"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""278.86078"" y=""358.8432"" id=""text5541""> <tspan x=""278.86078"" y=""358.8432"" id=""tspan5543"">API</tspan> <g id=""g5545"" transform=""translate(-16.388348,-489.42595)""> <rect style=""fill:#ffffff"" x=""233.47"" y=""934.78998"" width=""110.242"" height=""113.917"" id=""rect5547"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""233.47"" y=""934.78998"" width=""110.242"" height=""113.917"" id=""rect5549"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""233.47"" y=""934.78998"" width=""110.242"" height=""113.917"" id=""rect5551"" /> </g> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""272.20267"" y=""502.32306"" id=""text5553""> <tspan x=""272.20267"" y=""502.32306"" id=""tspan5555"">Conductor</tspan> <g id=""g5557"" transform=""translate(-16.388348,-489.42595)""> <rect style=""fill:#ffffff"" x=""240.76601"" y=""943.63397"" width=""110.242"" height=""113.917"" id=""rect5559"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""240.76601"" y=""943.63397"" width=""110.242"" height=""113.917"" id=""rect5561"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""240.76601"" y=""943.63397"" width=""110.242"" height=""113.917"" id=""rect5563"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""279.14554"" y=""515.93829"" id=""text5565""> <tspan x=""279.14554"" y=""515.93829"" id=""tspan5567"">Conductor</tspan> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""429.19165"" y=""490.99005"" id=""text5569""> <tspan x=""429.19165"" y=""490.99005"" id=""tspan5571"">Scheduler</tspan> <g id=""g5573"" transform=""translate(-16.388348,-489.42595)""> <rect style=""fill:#ffffff"" x=""400.96201"" y=""932.85602"" width=""110.242"" height=""113.917"" id=""rect5575"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""400.96201"" y=""932.85602"" width=""110.242"" height=""113.917"" id=""rect5577"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""400.96201"" y=""932.85602"" width=""110.242"" height=""113.917"" id=""rect5579"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""439.69467"" y=""500.38904"" id=""text5581""> <tspan x=""439.69467"" y=""500.38904"" id=""tspan5583"">Scheduler</tspan> <g id=""g5585"" transform=""translate(-16.388348,-489.42595)""> <rect style=""fill:#ffffff"" x=""409.806"" y=""943.35797"" width=""110.242"" height=""113.917"" id=""rect5587"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""409.806"" y=""943.35797"" width=""110.242"" height=""113.917"" id=""rect5589"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""409.806"" y=""943.35797"" width=""110.242"" height=""113.917"" id=""rect5591"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""448.12305"" y=""515.66229"" id=""text5593""> <tspan x=""448.12305"" y=""515.66229"" id=""tspan5595"">Scheduler</tspan> <g id=""g5597"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x1=""294.67099"" y1=""900.56201"" x2=""295.064"" y2=""932.90503"" id=""line5599"" /> <polygon style=""fill:#000000"" points=""300.033,930.344 295.155,940.404 290.034,930.466 295.064,932.905 "" id=""polygon5601"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""300.033,930.344 295.155,940.404 290.034,930.466 295.064,932.905 "" id=""polygon5603"" /> <g id=""g5605"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x1=""351.008"" y1=""1000.59"" x2=""399.09299"" y2=""1000.48"" id=""line5607"" /> <polygon style=""fill:#000000"" points=""396.581,995.482 406.593,1000.46 396.605,1005.48 399.093,1000.48 "" id=""polygon5609"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""396.581,995.482 406.593,1000.46 396.605,1005.48 399.093,1000.48 "" id=""polygon5611"" /> </g> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""428.63666"" y=""356.66101"" id=""text5613""> <tspan x=""428.63666"" y=""356.66101"" id=""tspan5615"">DB</tspan> <g id=""g5617"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:4"" x1=""349.79199"" y1=""843.604"" x2=""407.008"" y2=""845.09601"" id=""line5619"" /> <polygon style=""fill:#000000"" points=""404.639,840.032 414.506,845.291 404.379,850.029 407.008,845.096 "" id=""polygon5621"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""404.639,840.032 414.506,845.291 404.379,850.029 407.008,845.096 "" id=""polygon5623"" /> <g id=""g5625"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:4"" x1=""451.16599"" y1=""933.77301"" x2=""446.08301"" y2=""875.83502"" id=""line5627"" /> <polygon style=""fill:#000000"" points=""441.321,878.763 445.428,868.364 451.282,877.889 446.083,875.835 "" id=""polygon5629"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""441.321,878.763 445.428,868.364 451.282,877.889 446.083,875.835 "" id=""polygon5631"" /> </g> <g id=""g5633"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:4"" x1=""351.832"" y1=""942.63397"" x2=""420.914"" y2=""871.06598"" id=""line5635"" /> <polygon style=""fill:#000000"" points=""415.58,869.392 426.122,865.67 422.775,876.337 420.914,871.066 "" id=""polygon5637"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""415.58,869.392 426.122,865.67 422.775,876.337 420.914,871.066 "" id=""polygon5639"" /> </g> <g id=""g5641"" transform=""translate(-16.388348,-489.42595)""> <rect style=""fill:#ffffff"" x=""221.862"" y=""1088.74"" width=""110.242"" height=""113.917"" id=""rect5643"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""221.862"" y=""1088.74"" width=""110.242"" height=""113.917"" id=""rect5645"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""221.862"" y=""1088.74"" width=""110.242"" height=""113.917"" id=""rect5647"" /> </g> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""260.59464"" y=""656.27399"" id=""text5649""> <tspan x=""260.59464"" y=""656.27399"" id=""tspan5651"">Compute</tspan> <g id=""g5653"" transform=""translate(-16.388348,-489.42595)""> <rect style=""fill:#ffffff"" x=""229.60001"" y=""1097.17"" width=""110.242"" height=""113.917"" id=""rect5655"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""229.60001"" y=""1097.17"" width=""110.242"" height=""113.917"" id=""rect5657"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""229.60001"" y=""1097.17"" width=""110.242"" height=""113.917"" id=""rect5659"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""268.33267"" y=""664.70404"" id=""text5661""> <tspan x=""268.33267"" y=""664.70404"" id=""tspan5663"">Compute</tspan> <g id=""g5665"" transform=""translate(-16.388348,-489.42595)""> <rect style=""fill:#ffffff"" x=""237.34"" y=""1106.01"" width=""110.242"" height=""113.917"" id=""rect5667"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""237.34"" y=""1106.01"" width=""110.242"" height=""113.917"" id=""rect5669"" /> <rect style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" x=""237.34"" y=""1106.01"" width=""110.242"" height=""113.917"" id=""rect5671"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""276.07266"" y=""673.54401"" id=""text5673""> <tspan x=""276.07266"" y=""673.54401"" id=""tspan5675"">Compute</tspan> <g id=""g5685"" transform=""translate(-16.388348,-489.42595)""> <path style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" d=""M 354.277,1106.36 A 183.848,183.848 0 0 0 350.784,894.023"" id=""path5687"" inkscape:connector-curvature=""0"" /> <polygon style=""fill:#000000"" points=""359.981,1107.55 349.938,1112.46 352.033,1101.48 354.49,1106.5 "" id=""polygon5689"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""359.981,1107.55 349.938,1112.46 352.033,1101.48 354.49,1106.5 "" id=""polygon5691"" /> <g id=""g5693"" transform=""translate(-16.388348,-489.42595)""> <polygon style=""fill:#ffffff"" points=""82.9324,905.999 17.0172,905.999 -26.9262,841 17.0172,776 82.9324,776 126.876,841 "" id=""polygon5695"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""82.9324,905.999 17.0172,905.999 -26.9262,841 17.0172,776 82.9324,776 126.876,841 "" id=""polygon5697"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""82.9324,905.999 17.0172,905.999 -26.9262,841 17.0172,776 82.9324,776 126.876,841 "" id=""polygon5699"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""33.299053"" y=""354.9079"" id=""text5701""> <tspan x=""33.299053"" y=""354.9079"" id=""tspan5703"">Keystone</tspan> <g id=""g5705"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:20, 4, 4, 4, 4, 4"" x1=""238.578"" y1=""843.68597"" x2=""135.881"" y2=""843.836"" id=""line5707"" /> <polygon style=""fill:#000000"" points=""138.388,848.832 128.381,843.847 138.373,838.832 135.881,843.836 "" id=""polygon5709"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""138.388,848.832 128.381,843.847 138.373,838.832 135.881,843.836 "" id=""polygon5711"" /> <g id=""g5713"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:20, 4, 4, 4, 4, 4"" x1=""238.545"" y1=""881.13"" x2=""114.84"" y2=""963.84198"" id=""line5715"" /> <polygon style=""fill:#000000"" points=""119.697,966.609 108.605,968.011 114.139,958.296 114.84,963.842 "" id=""polygon5717"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""119.697,966.609 108.605,968.011 114.139,958.296 114.84,963.842 "" id=""polygon5719"" /> </g> <g id=""g5721"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:20, 4, 4, 4, 4, 4"" x1=""236.339"" y1=""1125.36"" x2=""112.045"" y2=""1042.0601"" id=""line5723"" /> <polygon style=""fill:#000000"" points=""111.338,1047.61 105.815,1037.89 116.905,1039.3 112.045,1042.06 "" id=""polygon5725"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""111.338,1047.61 105.815,1037.89 116.905,1039.3 112.045,1042.06 "" id=""polygon5727"" /> </g> <g id=""g5729"" transform=""translate(-16.388348,-489.42595)""> <polygon style=""fill:#ffffff"" points=""688.198,1058.85 622.283,1058.85 578.34,993.854 622.283,928.854 688.198,928.854 732.142,993.854 "" id=""polygon5731"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""688.198,1058.85 622.283,1058.85 578.34,993.854 622.283,928.854 688.198,928.854 732.142,993.854 "" id=""polygon5733"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""688.198,1058.85 622.283,1058.85 578.34,993.854 622.283,928.854 688.198,928.854 732.142,993.854 "" id=""polygon5735"" /> </g> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""638.68707"" y=""501.19745"" id=""text5737""> <tspan x=""638.68707"" y=""501.19745"" id=""tspan5739"">Glance &amp;</tspan> <tspan x=""638.68707"" y=""517.19836"" id=""tspan5741"">Cinder</tspan> <g id=""g5743"" transform=""translate(-16.388348,-489.42595)""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:20, 4, 4, 4, 4, 4"" x1=""350.76401"" y1=""867.112"" x2=""584.987"" y2=""965.27301"" id=""line5745"" /> <polygon style=""fill:#000000"" points=""584.614,959.696 591.905,968.172 580.749,968.918 584.987,965.273 "" id=""polygon5747"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""584.614,959.696 591.905,968.172 580.749,968.918 584.987,965.273 "" id=""polygon5749"" /> <line id=""line5753"" y2=""539.38403"" x2=""573.01971"" y1=""648.18402"" x1=""332.20166"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2;stroke-dasharray:20, 4, 4, 4, 4, 4"" /> <polygon id=""polygon5755"" points=""589.188,1034.39 589.408,1028.81 585.071,1025.28 596.242,1025.72 "" style=""fill:#000000"" transform=""translate(-16.388348,-489.42595)"" /> <polygon id=""polygon5757"" points=""589.188,1034.39 589.408,1028.81 585.071,1025.28 596.242,1025.72 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-16.388348,-489.42595)"" /> <g id=""g5336""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.90578425"" x1=""279.50229"" y1=""571.79578"" x2=""278.26703"" y2=""605.89807"" id=""line5679"" /> <polygon transform=""translate(-16.388348,-489.42595)"" style=""fill:#000000"" points=""289.743,1092.67 294.659,1095.33 299.737,1093 294.415,1102.83 "" id=""polygon5681"" /> <polygon transform=""translate(-16.388348,-489.42595)"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""289.743,1092.67 294.659,1095.33 299.737,1093 294.415,1102.83 "" id=""polygon5683"" /> <g transform=""translate(105.44608,24.193696)"" id=""g5329""> <polygon id=""polygon5763"" points=""294.617,1060.75 299.405,1070.85 294.459,1068.25 289.408,1070.64 "" style=""fill:#000000"" transform=""translate(-120.75625,-514.00847)"" /> <polygon id=""polygon5765"" points=""294.617,1060.75 299.405,1070.85 294.459,1068.25 289.408,1070.64 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""translate(-120.75625,-514.00847)"" /> </g> <g id=""g5767"" transform=""translate(-16.388348,-489.42595)""> <polygon style=""fill:#ffffff"" points=""237.491,1220.94 291.532,1173.94 345.573,1220.94 291.532,1267.94 "" id=""polygon5769"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""237.491,1220.94 291.532,1173.94 345.573,1220.94 291.532,1267.94 "" id=""polygon5771"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""237.491,1220.94 291.532,1173.94 345.573,1220.94 291.532,1267.94 "" id=""polygon5773"" /> </g> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""275.14368"" y=""731.51398"" id=""text5775""> <tspan x=""275.14368"" y=""731.51398"" id=""tspan5777"">Hypervisor</tspan> <g id=""g5783"" transform=""translate(-16.388348,-489.42595)""> <polygon style=""fill:#ffffff"" points=""82.9804,1065.89 17.0653,1065.89 -26.8782,1000.89 17.0653,935.887 82.9804,935.887 126.924,1000.89 "" id=""polygon5785"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""82.9804,1065.89 17.0653,1065.89 -26.8782,1000.89 17.0653,935.887 82.9804,935.887 126.924,1000.89 "" id=""polygon5787"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""82.9804,1065.89 17.0653,1065.89 -26.8782,1000.89 17.0653,935.887 82.9804,935.887 126.924,1000.89 "" id=""polygon5789"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""33.556427"" y=""516.03748"" id=""text5791""> <tspan x=""33.556427"" y=""516.03748"" id=""tspan5793"">Neutron</tspan> </text> <g transform=""translate(-110.61272,-318.53651)"" id=""g5729-3""> <polygon style=""fill:#ffffff"" points=""688.198,1058.85 622.283,1058.85 578.34,993.854 622.283,928.854 688.198,928.854 732.142,993.854 "" id=""polygon5731-6"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""688.198,1058.85 622.283,1058.85 578.34,993.854 622.283,928.854 688.198,928.854 732.142,993.854 "" id=""polygon5733-7"" /> <polygon style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""688.198,1058.85 622.283,1058.85 578.34,993.854 622.283,928.854 688.198,928.854 732.142,993.854 "" id=""polygon5735-5"" /> <text font-size=""12.8"" style=""font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"" x=""544.15643"" y=""664.08636"" id=""text5737-3""> <tspan x=""544.15643"" y=""680.08734"" id=""tspan5741-6"">Placement</tspan> </text> <g id=""g5440""> <line style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.99976206;stroke-miterlimit:4;stroke-dasharray:19.99762046, 3.99952409, 3.99952409, 3.99952409, 3.99952409, 3.99952409;stroke-dashoffset:0"" x1=""331.94266"" y1=""675.31293"" x2=""459.85892"" y2=""675.24933"" id=""line5753-9"" /> <g id=""g5411""> <g id=""g5873"" transform=""translate(-19.750234,-489.42595)""> <polygon transform=""matrix(0.91674358,0.39947613,-0.39947617,0.91674359,347.20128,-13.842951)"" style=""fill:#000000"" points=""596.242,1025.72 589.188,1034.39 589.408,1028.81 585.071,1025.28 "" id=""polygon5755-1"" /> <polygon transform=""matrix(0.91674358,0.39947613,-0.39947617,0.91674359,347.20128,-13.842951)"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""596.242,1025.72 589.188,1034.39 589.408,1028.81 585.071,1025.28 "" id=""polygon5757-2"" /> </g> </g> <line id=""line5753-9-9"" y2=""632.24823"" x2=""486.38559"" y1=""567.8479"" x1=""444.64957"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.96110034;stroke-miterlimit:4;stroke-dasharray:19.61100354, 3.9222007, 3.9222007, 3.9222007, 3.9222007, 3.9222007;stroke-dashoffset:0"" /> <g id=""g5873-3"" transform=""matrix(0.70756859,0.70664462,-0.70664471,0.70756859,970.96159,-530.75485)""> <polygon transform=""matrix(0.91674358,0.39947613,-0.39947617,0.91674359,347.20128,-13.842951)"" style=""fill:#000000"" points=""596.242,1025.72 589.188,1034.39 589.408,1028.81 585.071,1025.28 "" id=""polygon5755-1-6"" /> <polygon transform=""matrix(0.91674358,0.39947613,-0.39947617,0.91674359,347.20128,-13.842951)"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" points=""596.242,1025.72 589.188,1034.39 589.408,1028.81 585.071,1025.28 "" id=""polygon5757-2-0"" /> <line id=""line5427-6"" y2=""255.71237"" x2=""-11.694302"" y1=""255.67075"" x1=""-21.802992"" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:1.99976206;stroke-miterlimit:4;stroke-dasharray:19.99762007, 3.99952401, 3.99952401, 3.99952401, 3.99952401, 3.99952401;stroke-dashoffset:0"" /> <path style=""fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1.96110032;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:19.61100304,3.9222006,3.9222006,3.9222006,3.9222006,3.9222006;stroke-dashoffset:0"" d=""m 35.883118,577.7696 c 0,0 103.074982,356.18807 458.043272,136.62008"" id=""path5371"" inkscape:connector-curvature=""0"" sodipodi:nodetypes=""cc"" /> <g transform=""matrix(0.84768735,-0.5304961,0.53049617,0.84768735,-260.994,389.76396)"" id=""g5411-7""> <g transform=""translate(-19.750234,-489.42595)"" id=""g5873-5""> <polygon id=""polygon5755-1-3"" points=""589.188,1034.39 589.408,1028.81 585.071,1025.28 596.242,1025.72 "" style=""fill:#000000"" transform=""matrix(0.91674358,0.39947613,-0.39947617,0.91674359,347.20128,-13.842951)"" /> <polygon id=""polygon5757-2-5"" points=""589.188,1034.39 589.408,1028.81 585.071,1025.28 596.242,1025.72 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""matrix(0.91674358,0.39947613,-0.39947617,0.91674359,347.20128,-13.842951)"" /> </g> <g transform=""matrix(-0.66000625,0.75126009,-0.75126019,-0.66000625,1422.952,750.0536)"" id=""g5411-7-3"" inkscape:transform-center-x=""47.426265"" inkscape:transform-center-y=""114.58229""> <g transform=""translate(-19.750234,-489.42595)"" id=""g5873-5-6""> <polygon id=""polygon5755-1-3-7"" points=""589.188,1034.39 589.408,1028.81 585.071,1025.28 596.242,1025.72 "" style=""fill:#000000"" transform=""matrix(0.91674358,0.39947613,-0.39947617,0.91674359,347.20128,-13.842951)"" /> <polygon id=""polygon5757-2-5-5"" points=""589.188,1034.39 589.408,1028.81 585.071,1025.28 596.242,1025.72 "" style=""fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"" transform=""matrix(0.91674358,0.39947613,-0.39947617,0.91674359,347.20128,-13.842951)"" /> </g> <path style=""fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1.96110032;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:19.6110028,3.92220055,3.92220055,3.92220055,3.92220055,3.92220055;stroke-dashoffset:0"" d=""m 334.02141,316.43836 c 0,0 336.3373,34.29045 391.59525,141.45731 28.46399,55.20284 -71.31806,146.9208 -91.42973,168.19619 -32.29712,34.16592 -22.42615,24.15124 -22.42615,24.15124"" id=""path4379"" inkscape:connector-curvature=""0"" sodipodi:nodetypes=""cssc"" />",248,1155
openstack%2Fdevstack-plugin-nfs~master~I4cdd2769520b3de94c46dc6f16e54012640d7bc5,openstack/devstack-plugin-nfs,master,I4cdd2769520b3de94c46dc6f16e54012640d7bc5,zuul: Add devstack-plugin-nfs-tempest-slow to exercise more scenario tests,ABANDONED,2020-04-23 11:02:13.000000000,2021-11-09 10:57:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-04-23 11:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-nfs/commit/66d2b5dacca1e5f0b8b63a19f0e5a2a8ebf27b7f', 'message': 'zuul: Add devstack-plugin-nfs-tempest-slow to exercise more scenario tests\n\nChange-Id: I4cdd2769520b3de94c46dc6f16e54012640d7bc5\n'}, {'number': 2, 'created': '2020-07-29 10:54:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-nfs/commit/03f2ebd351462ffc272a2b23bca5d64b486494ea', 'message': 'zuul: Add devstack-plugin-nfs-tempest-slow to exercise more scenario tests\n\nChange-Id: I4cdd2769520b3de94c46dc6f16e54012640d7bc5\n'}]",0,722276,03f2ebd351462ffc272a2b23bca5d64b486494ea,18,1,2,10135,,,0,"zuul: Add devstack-plugin-nfs-tempest-slow to exercise more scenario tests

Change-Id: I4cdd2769520b3de94c46dc6f16e54012640d7bc5
",git fetch https://review.opendev.org/openstack/devstack-plugin-nfs refs/changes/76/722276/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,66d2b5dacca1e5f0b8b63a19f0e5a2a8ebf27b7f,bug/1860913, - devstack-plugin-nfs-tempest-slow - devstack-plugin-nfs-tempest-slow - job: name: devstack-plugin-nfs-tempest-slow parent: tempest-slow-py3 description: | tempest-slow-py3 job based on NFS. timeout: 10800 required-projects: - opendev.org/openstack/devstack-plugin-nfs host-vars: controller: devstack_plugins: devstack-plugin-nfs: https://opendev.org/openstack/devstack-plugin-nfs vars: devstack_localrc: ENABLE_NFS_CINDER: true ENABLE_VOLUME_MULTIATTACH: false irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ branches: ^(?!stable/(ocata|pike|queens|rocky|stein|train)).*$,,23,0
openstack%2Ftempest~master~Ide5b117f1c09640d01fe7db3d88c145d1942a188,openstack/tempest,master,Ide5b117f1c09640d01fe7db3d88c145d1942a188,test_live_migration: Remove block_migrate_cinder_iscsi skip,ABANDONED,2020-02-26 14:03:06.000000000,2021-11-09 10:56:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-26 14:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/113857ead3f9a192b33c47d6732612cc62e6793e', 'message': 'test_live_migration: Remove block_migrate_cinder_iscsi skip\n\nThis configurable was used to ensure at least Libvirt 1.2.17 was\navailable to ensure live migration of an instance with attached volumes\ncould succeed.\n\nThis is no longer required as all supported stable and extended\nmaintenance branches are currently using Libvirt 2.5.0 or greater.\n\nChange-Id: Ide5b117f1c09640d01fe7db3d88c145d1942a188\n'}, {'number': 2, 'created': '2020-03-02 09:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/74f66ae63a55ad7ed0e8c5ddc3c2f474e7733605', 'message': 'test_live_migration: Remove block_migrate_cinder_iscsi skip\n\nThis configurable was used to ensure at least Libvirt 1.2.17 was\navailable to ensure live migration of an instance with attached volumes\ncould succeed.\n\nThis is no longer required as all supported stable and extended\nmaintenance branches are currently using Libvirt 2.5.0 or greater.\n\nChange-Id: Ide5b117f1c09640d01fe7db3d88c145d1942a188\n'}, {'number': 3, 'created': '2020-08-04 15:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0c06994a2c8629c9d39bfb69ff3905cd4e8b7ce5', 'message': 'test_live_migration: Remove block_migrate_cinder_iscsi skip\n\nThis configurable was used to ensure at least Libvirt 1.2.17 was\navailable to ensure live migration of an instance with attached volumes\ncould succeed.\n\nThis is no longer required as all supported stable and extended\nmaintenance branches are currently using Libvirt 2.5.0 or greater.\n\nChange-Id: Ide5b117f1c09640d01fe7db3d88c145d1942a188\n'}, {'number': 4, 'created': '2021-02-02 09:55:20.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b1ac8e38f9373e26421711591238f3af25e4fe9b', 'message': 'test_live_migration: Remove block_migrate_cinder_iscsi skip\n\nThis configurable was used to ensure at least Libvirt 1.2.17 was\navailable to ensure live migration of an instance with attached volumes\ncould succeed.\n\nThis is no longer required as all supported stable and extended\nmaintenance branches are currently using Libvirt 2.5.0 or greater.\n\nChange-Id: Ide5b117f1c09640d01fe7db3d88c145d1942a188\n'}]",1,710041,b1ac8e38f9373e26421711591238f3af25e4fe9b,14,1,4,10135,,,0,"test_live_migration: Remove block_migrate_cinder_iscsi skip

This configurable was used to ensure at least Libvirt 1.2.17 was
available to ensure live migration of an instance with attached volumes
could succeed.

This is no longer required as all supported stable and extended
maintenance branches are currently using Libvirt 2.5.0 or greater.

Change-Id: Ide5b117f1c09640d01fe7db3d88c145d1942a188
",git fetch https://review.opendev.org/openstack/tempest refs/changes/41/710041/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,113857ead3f9a192b33c47d6732612cc62e6793e,test_live_migration_refactor,," @testtools.skipIf(not CONF.compute_feature_enabled. block_migrate_cinder_iscsi, 'Block Live migration not configured for iSCSI')",0,3
openstack%2Ftempest~master~I1cdd232e499aaf838f88841ca8fb73c225be127d,openstack/tempest,master,I1cdd232e499aaf838f88841ca8fb73c225be127d,test_live_migration: Remove block_migration_for_live_migration skip,ABANDONED,2020-02-26 14:03:06.000000000,2021-11-09 10:56:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-26 14:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/abfdd0ddba3a9b2cb819e2632ceafe52e0e11caa', 'message': 'test_live_migration: Remove block_migration_for_live_migration skip\n\nNo tests should be skipped based on this configurable. Instead the value\nof this configurable is used _migrate_server_to to determine if the\nrequest to live migrate the instance should enable block migration.\n\nChange-Id: I1cdd232e499aaf838f88841ca8fb73c225be127d\n'}, {'number': 2, 'created': '2020-03-02 09:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/69507b847ad04fbb3ad195d8beec9137de4a4d0d', 'message': 'test_live_migration: Remove block_migration_for_live_migration skip\n\nNo tests should be skipped based on this configurable. Instead the value\nof this configurable is used _migrate_server_to to determine if the\nrequest to live migrate the instance should enable block migration.\n\nChange-Id: I1cdd232e499aaf838f88841ca8fb73c225be127d\n'}, {'number': 3, 'created': '2020-08-04 15:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6e7c58e5489f1b842c880d04d67f8752fce34f17', 'message': 'test_live_migration: Remove block_migration_for_live_migration skip\n\nNo tests should be skipped based on this configurable. Instead the value\nof this configurable is used _migrate_server_to to determine if the\nrequest to live migrate the instance should enable block migration.\n\nChange-Id: I1cdd232e499aaf838f88841ca8fb73c225be127d\n'}, {'number': 4, 'created': '2021-02-02 09:55:20.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/396b0820e834a140be7f0cf4fb54bf51660ec18a', 'message': 'test_live_migration: Remove block_migration_for_live_migration skip\n\nNo tests should be skipped based on this configurable. Instead the value\nof this configurable is used _migrate_server_to to determine if the\nrequest to live migrate the instance should enable block migration.\n\nChange-Id: I1cdd232e499aaf838f88841ca8fb73c225be127d\n'}]",0,710040,396b0820e834a140be7f0cf4fb54bf51660ec18a,16,1,4,10135,,,0,"test_live_migration: Remove block_migration_for_live_migration skip

No tests should be skipped based on this configurable. Instead the value
of this configurable is used _migrate_server_to to determine if the
request to live migrate the instance should enable block migration.

Change-Id: I1cdd232e499aaf838f88841ca8fb73c225be127d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/40/710040/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,abfdd0ddba3a9b2cb819e2632ceafe52e0e11caa,test_live_migration_refactor,," block_migration_for_live_migration, 'Block Live migration not available') @testtools.skipIf(not CONF.compute_feature_enabled.",0,3
openstack%2Ftempest~master~I3bb134fc1dea9fbddd07ee56596a19630f7f458e,openstack/tempest,master,I3bb134fc1dea9fbddd07ee56596a19630f7f458e,test_live_migration: Remove volume_backed_live_migration skip,ABANDONED,2020-02-26 14:03:06.000000000,2021-11-09 10:56:15.000000000,,"[{'_account_id': 9732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-26 14:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/321aefaaa283a935553613a5fa2c4588bedfedb4', 'message': 'test_live_migration: Remove volume_backed_live_migration skip\n\nThis configurable was never actually wired up in the Nova live migration\njob under Id9c62fdb24cd09bafd5ffca2cc6ff4cf69685f87.\n\nChange-Id: I3bb134fc1dea9fbddd07ee56596a19630f7f458e\n'}, {'number': 2, 'created': '2020-03-02 09:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/500c6f8b925ebb57c42d8e3e449c4b0b293dacbb', 'message': 'test_live_migration: Remove volume_backed_live_migration skip\n\nThis configurable was never actually wired up in the Nova live migration\njob under Id9c62fdb24cd09bafd5ffca2cc6ff4cf69685f87.\n\nChange-Id: I3bb134fc1dea9fbddd07ee56596a19630f7f458e\n'}, {'number': 3, 'created': '2020-08-04 15:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5c04567e21b5b884be618740945ef4de475db11a', 'message': 'test_live_migration: Remove volume_backed_live_migration skip\n\nThis configurable was never actually wired up in the Nova live migration\njob under Id9c62fdb24cd09bafd5ffca2cc6ff4cf69685f87.\n\nChange-Id: I3bb134fc1dea9fbddd07ee56596a19630f7f458e\n'}, {'number': 4, 'created': '2021-02-02 09:55:20.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e2c3976690bdddfb9086a8c1531adac855106046', 'message': 'test_live_migration: Remove volume_backed_live_migration skip\n\nThis configurable was never actually wired up in the Nova live migration\njob under Id9c62fdb24cd09bafd5ffca2cc6ff4cf69685f87.\n\nChange-Id: I3bb134fc1dea9fbddd07ee56596a19630f7f458e\n'}]",0,710043,e2c3976690bdddfb9086a8c1531adac855106046,14,2,4,10135,,,0,"test_live_migration: Remove volume_backed_live_migration skip

This configurable was never actually wired up in the Nova live migration
job under Id9c62fdb24cd09bafd5ffca2cc6ff4cf69685f87.

Change-Id: I3bb134fc1dea9fbddd07ee56596a19630f7f458e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/43/710043/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,321aefaaa283a935553613a5fa2c4588bedfedb4,test_live_migration_refactor,," @testtools.skipUnless(CONF.compute_feature_enabled. volume_backed_live_migration, 'Volume-backed live migration not available')",0,3
openstack%2Ftempest~master~Ifacbfc4086c1a3ea664e6127b9d538484dec6e74,openstack/tempest,master,Ifacbfc4086c1a3ea664e6127b9d538484dec6e74,test_live_migration: Move _test_live_migration into LiveMigrationTestBase,ABANDONED,2020-02-26 14:03:06.000000000,2021-11-09 10:56:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-26 14:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/57889d5e5e4af0917f7f28cebc4d66b684cbd327', 'message': 'test_live_migration: Move _test_live_migration into LiveMigrationTestBase\n\nWhile the LiveMigrationTest class was the only caller to this helper\nmethod it makes the actual tests clearer by moving the method up into\nLiveMigrationTestBase.\n\nChange-Id: Ifacbfc4086c1a3ea664e6127b9d538484dec6e74\n'}, {'number': 2, 'created': '2020-03-02 09:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c936bc07ecd7943caa4e75e49c052f08f87ac28', 'message': 'test_live_migration: Move _test_live_migration into LiveMigrationTestBase\n\nWhile the LiveMigrationTest class was the only caller to this helper\nmethod it makes the actual tests clearer by moving the method up into\nLiveMigrationTestBase.\n\nChange-Id: Ifacbfc4086c1a3ea664e6127b9d538484dec6e74\n'}, {'number': 3, 'created': '2020-08-04 15:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6e2bf2a9548e463311547fc36ec4b1fd45c37717', 'message': 'test_live_migration: Move _test_live_migration into LiveMigrationTestBase\n\nWhile the LiveMigrationTest class was the only caller to this helper\nmethod it makes the actual tests clearer by moving the method up into\nLiveMigrationTestBase.\n\nChange-Id: Ifacbfc4086c1a3ea664e6127b9d538484dec6e74\n'}, {'number': 4, 'created': '2021-02-02 09:55:20.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f52c9b2d769e7b95eb500a8a9d34aaf5775e6fff', 'message': 'test_live_migration: Move _test_live_migration into LiveMigrationTestBase\n\nWhile the LiveMigrationTest class was the only caller to this helper\nmethod it makes the actual tests clearer by moving the method up into\nLiveMigrationTestBase.\n\nChange-Id: Ifacbfc4086c1a3ea664e6127b9d538484dec6e74\n'}]",0,710042,f52c9b2d769e7b95eb500a8a9d34aaf5775e6fff,11,1,4,10135,,,0,"test_live_migration: Move _test_live_migration into LiveMigrationTestBase

While the LiveMigrationTest class was the only caller to this helper
method it makes the actual tests clearer by moving the method up into
LiveMigrationTestBase.

Change-Id: Ifacbfc4086c1a3ea664e6127b9d538484dec6e74
",git fetch https://review.opendev.org/openstack/tempest refs/changes/42/710042/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,57889d5e5e4af0917f7f28cebc4d66b684cbd327,test_live_migration_refactor, class LiveMigrationTest(LiveMigrationTestBase): max_microversion = '2.24' block_migration = None , class LiveMigrationTest(LiveMigrationTestBase): max_microversion = '2.24' block_migration = None ,5,5
openstack%2Ftempest~master~I34b365d23c70eb5f7b4695a32d7cf4efd6a152ae,openstack/tempest,master,I34b365d23c70eb5f7b4695a32d7cf4efd6a152ae,config: Introduce [compute-feature-enabled]/cross_az_attach,ABANDONED,2020-07-30 19:47:31.000000000,2021-11-09 10:55:38.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-07-30 19:47:31.000000000', 'files': ['tempest/config.py', 'releasenotes/notes/config-compute-feature-enabled-cross-az-attach-26f5db9841d6cbab.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/464ef9af21218bc9e3f6736a520a816d26abd83a', 'message': 'config: Introduce [compute-feature-enabled]/cross_az_attach\n\nThis is required in addition to the existing\n[compute]/compute_volume_common_az option as certain tests need to be\nskipped entirely when the underlying env has [cinder]/cross_az_attach\ndisabled.\n\nRelated-Bug: #1889687\nChange-Id: I34b365d23c70eb5f7b4695a32d7cf4efd6a152ae\n'}]",1,744039,464ef9af21218bc9e3f6736a520a816d26abd83a,5,3,1,10135,,,0,"config: Introduce [compute-feature-enabled]/cross_az_attach

This is required in addition to the existing
[compute]/compute_volume_common_az option as certain tests need to be
skipped entirely when the underlying env has [cinder]/cross_az_attach
disabled.

Related-Bug: #1889687
Change-Id: I34b365d23c70eb5f7b4695a32d7cf4efd6a152ae
",git fetch https://review.opendev.org/openstack/tempest refs/changes/39/744039/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/config.py', 'releasenotes/notes/config-compute-feature-enabled-cross-az-attach-26f5db9841d6cbab.yaml']",2,464ef9af21218bc9e3f6736a520a816d26abd83a,bug/1889687,--- other: - | A new configuration option ``[compute-feature-enabled]/cross_az_attach`` has been introduced. This option highlights if the environment supports attaching volumes to instances in different availability zones. This should match the ``[cinder]/cross_az_attach`` setting found within nova.conf of the underlying environment. As a result this option defaults to True in line with the option found within nova.conf. ,,15,0
openstack%2Fos-brick~master~I511ada7deaa6175e24931af1e450e49083d9adc7,openstack/os-brick,master,I511ada7deaa6175e24931af1e450e49083d9adc7,encryptors: Drop support for the legacy classpath providers,ABANDONED,2019-04-09 19:17:34.000000000,2021-11-09 10:55:35.000000000,,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 32159}]","[{'number': 1, 'created': '2019-04-09 19:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/592d7383fe14731facc796729ddca713b5f55648', 'message': 'WIP encryptors: Drop support for the legacy classpath providers\n\nChange-Id: I511ada7deaa6175e24931af1e450e49083d9adc7\n'}, {'number': 2, 'created': '2020-07-29 17:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a77bc1dd7c01e4573b269cf1388c619f4f6f5c07', 'message': 'encryptors: Drop support for the legacy classpath providers\n\nThis cleans up support for classpath providers that were deprecated in\nthe Ocata release cycle.\n\nChange-Id: I511ada7deaa6175e24931af1e450e49083d9adc7\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-07-29 19:45:59.000000000', 'files': ['os_brick/tests/encryptors/test_base.py', 'os_brick/encryptors/__init__.py', 'releasenotes/notes/encryptor_classes-ea9c0d20927985ca.yaml', 'os_brick/exception.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/13bcea410b136ac99d1950f12ed264ac1c0b847a', 'message': 'encryptors: Drop support for the legacy classpath providers\n\nThis cleans up support for classpath providers that were deprecated in\nthe Ocata release cycle.\n\nDepends-on: https://review.opendev.org/743833\nDepends-on: https://review.opendev.org/743834\n\nChange-Id: I511ada7deaa6175e24931af1e450e49083d9adc7\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",2,651358,13bcea410b136ac99d1950f12ed264ac1c0b847a,36,20,3,10135,,,0,"encryptors: Drop support for the legacy classpath providers

This cleans up support for classpath providers that were deprecated in
the Ocata release cycle.

Depends-on: https://review.opendev.org/743833
Depends-on: https://review.opendev.org/743834

Change-Id: I511ada7deaa6175e24931af1e450e49083d9adc7
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/58/651358/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/encryptors/__init__.py', 'os_brick/exception.py']",2,592d7383fe14731facc796729ddca713b5f55648,drop_classpath_encryptors,"class EncryptionProviderNotSupported(Invalid): message = _(""Encryption provider %(encryption_provider)s is not "" ""supported."") ",,7,5
openstack%2Fnova~master~Ib0d9dd843c0691e44b46ab6eedc6627a2b8b9239,openstack/nova,master,Ib0d9dd843c0691e44b46ab6eedc6627a2b8b9239,WIP libvirt: Reintroduce volume based LM tests,ABANDONED,2018-01-21 11:38:53.000000000,2021-11-09 10:55:32.000000000,,"[{'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2018-01-21 11:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ff2ed9a5fbced864bac69bebce19434acb3530c', 'message': 'WIP libvirt: Reintroduce volume based LM tests\n\nChange-Id: Ib0d9dd843c0691e44b46ab6eedc6627a2b8b9239\nCloses-Bug: #1524898\n'}, {'number': 2, 'created': '2020-02-26 14:00:12.000000000', 'files': ['gate/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/458321c8a52713f349af58414f8f6521801416e9', 'message': 'WIP libvirt: Reintroduce volume based LM tests\n\nChange-Id: Ib0d9dd843c0691e44b46ab6eedc6627a2b8b9239\nCloses-Bug: #1524898\n'}]",0,536105,458321c8a52713f349af58414f8f6521801416e9,19,9,2,10135,,,0,"WIP libvirt: Reintroduce volume based LM tests

Change-Id: Ib0d9dd843c0691e44b46ab6eedc6627a2b8b9239
Closes-Bug: #1524898
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/536105/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/live_migration/hooks/run_tests.sh'],1,9ff2ed9a5fbced864bac69bebce19434acb3530c,bug/1524898,"echo '1. test with local and volume based storage' run_tempest ""block migration test"" ""^.*test_live_migration""run_tempest ""Ceph nova&glance test"" ""^.*test_live_migration""","echo '1. test with all local storage (use default for volumes)' echo 'NOTE: test_volume_backed_live_migration is skipped due to https://bugs.launchpad.net/nova/+bug/1524898' run_tempest ""block migration test"" ""^.*test_live_migration(?!.*(test_volume_backed_live_migration))""run_tempest ""Ceph nova&glance test"" ""^.*test_live_migration(?!.*(test_volume_backed_live_migration))""",3,4
openstack%2Fnova~master~I77e02ea3c3e35cfbe4f4e45a8e88f7fff38a5f6c,openstack/nova,master,I77e02ea3c3e35cfbe4f4e45a8e88f7fff38a5f6c,libvirt: FUP I41b7c1653c6a887ee4b08e588c5d422409aebfba,ABANDONED,2020-03-04 16:04:46.000000000,2021-11-09 10:55:09.000000000,,"[{'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-04 16:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60498034caf550ffeeb37e3c624673b6c569a44a', 'message': 'libvirt: FUP I41b7c1653c6a887ee4b08e588c5d422409aebfba\n\nTrivial test case renames and comment updates.\n\nChange-Id: I77e02ea3c3e35cfbe4f4e45a8e88f7fff38a5f6c\n'}, {'number': 2, 'created': '2020-03-17 13:47:00.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/77bee2f5c3a9d2d0bd9a571e67d68bdcf1c0f9dc', 'message': 'libvirt: FUP I41b7c1653c6a887ee4b08e588c5d422409aebfba\n\nTrivial test case renames and comment updates.\n\nChange-Id: I77e02ea3c3e35cfbe4f4e45a8e88f7fff38a5f6c\n'}]",0,711262,77bee2f5c3a9d2d0bd9a571e67d68bdcf1c0f9dc,16,7,2,10135,,,0,"libvirt: FUP I41b7c1653c6a887ee4b08e588c5d422409aebfba

Trivial test case renames and comment updates.

Change-Id: I77e02ea3c3e35cfbe4f4e45a8e88f7fff38a5f6c
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/711262/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,60498034caf550ffeeb37e3c624673b6c569a44a,," def test_attach_encryptor_encrypted_luks_serial(self, mock_get_encryptor, mock_get_metadata, mock_get_key_mgr): """"""Uses luks encryption with a provider encryptor and the def test_detach_encryptor_luks_device_path_secret_missing(self, mock_get_encryptor, mock_is_luks_v1, mock_find_secret): """"""Assert that the encryptor is not built when LUKS is used, the associated volume secret is missing and device_path is also missing from connection_info. def test_swap_volume_luks_blocked(self, mock_is_luks_v1, mock_get_encryption):"," def test_attach_encryptor_encrypted_native_luks_serial(self, mock_get_encryptor, mock_get_metadata, mock_get_key_mgr): """"""Uses native luks encryption with a provider encryptor and the def test_detach_encryptor_native_luks_device_path_secret_missing(self, mock_get_encryptor, mock_is_luks_v1, mock_find_secret): """"""Assert that the encryptor is not built when native LUKS is available, the associated volume secret is missing and device_path is also missing from the connection_info. def test_swap_volume_native_luks_blocked(self, mock_is_luks_v1, mock_get_encryption):",8,8
openstack%2Fos-brick~master~I46bb098c493489ff35cd30f87e29b2eea160cd7f,openstack/os-brick,master,I46bb098c493489ff35cd30f87e29b2eea160cd7f,encryptors: Return the dm-crypt device path when realpath=True,ABANDONED,2019-11-29 12:30:49.000000000,2021-11-09 10:55:03.000000000,,"[{'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 28948}]","[{'number': 1, 'created': '2019-11-29 12:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5b7bcc41c35e060f46dbd22268db36b2ffb37358', 'message': 'WIP encryptors: Return the realpath to dm-crypt devices if requested\n\nChange-Id: I46bb098c493489ff35cd30f87e29b2eea160cd7f\n'}, {'number': 2, 'created': '2019-12-02 18:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/afb7e705c7dd39b76e36a6b5e64d41586d1a4b49', 'message': 'encryptors: Return the dm-crypt device path when realpath=True\n\nThis change adds a new kwarg to the attach_volume method of each\ndm-crypt based encryptor. When provided and True this results in the\ndecrypted dm-crypt device path being returned to the caller without a\nsymlink being created overwriting the original encrypted device path.\n\nChange-Id: I46bb098c493489ff35cd30f87e29b2eea160cd7f\n'}, {'number': 3, 'created': '2019-12-02 20:01:34.000000000', 'files': ['os_brick/tests/encryptors/test_cryptsetup.py', 'os_brick/encryptors/base.py', 'os_brick/encryptors/luks.py', 'os_brick/tests/encryptors/test_luks.py', 'os_brick/encryptors/cryptsetup.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b25fe24cce15de5913707a6d6e56f448dbc55383', 'message': 'encryptors: Return the dm-crypt device path when realpath=True\n\nThis change adds a new kwarg to the attach_volume method of each\ndm-crypt based encryptor. When provided and True this results in the\ndecrypted dm-crypt device path being returned to the caller without a\nsymlink being created overwriting the original encrypted device path.\n\nChange-Id: I46bb098c493489ff35cd30f87e29b2eea160cd7f\n'}]",2,696694,b25fe24cce15de5913707a6d6e56f448dbc55383,27,16,3,10135,,,0,"encryptors: Return the dm-crypt device path when realpath=True

This change adds a new kwarg to the attach_volume method of each
dm-crypt based encryptor. When provided and True this results in the
decrypted dm-crypt device path being returned to the caller without a
symlink being created overwriting the original encrypted device path.

Change-Id: I46bb098c493489ff35cd30f87e29b2eea160cd7f
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/94/696694/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/encryptors/base.py', 'os_brick/encryptors/luks.py', 'os_brick/encryptors/cryptsetup.py']",3,5b7bcc41c35e060f46dbd22268db36b2ffb37358,remove-iscsi-encryption-workaround," def attach_volume(self, context, realpath=False, **kwargs): # Return if the realpath has been requested. if realpath: return self.dev_name "," def attach_volume(self, context, **kwargs):",11,3
openstack%2Fnova~master~I8887f54045a7c2a0ba6987787878cbcc872a7dfa,openstack/nova,master,I8887f54045a7c2a0ba6987787878cbcc872a7dfa,libvirt: Request and store the decrypted path of an attached encrypted volume,ABANDONED,2019-11-29 12:28:50.000000000,2021-11-09 10:54:59.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-29 12:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdf67a1df6ff0fc346e588b8d970beda092411ba', 'message': 'WIP libvirt: Request and store the realpath of encrypted volumes from os-brick\n\nChange-Id: I8887f54045a7c2a0ba6987787878cbcc872a7dfa\n'}, {'number': 2, 'created': '2019-12-02 18:50:23.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/59a5828a519ee76e59bf3d1150fda695fd7500e6', 'message': 'libvirt: Request and store the decrypted path of an attached encrypted volume\n\n5b7bcc41c35e060f46dbd22268db36b2ffb37358 adds an optional realpath kwarg\nto the attach_volume method for each dm-crypt based encryptor. When set\nto True this will return the path to the decrypted device instead of\nsymlinking this device over the original and already stored encrypted\ndevice path.\n\nBy requesting, storing and eventually using this on the Nova side we can\nremove If4461c3dcd67e5d948be9d9a3643c1eb81aaace9. This workaround within\nthe iscsi connector of os-brick avoids accidentally symlinking over the\nunderlying device on the host by returning the /dev/disk/by-id/ symlink\nfor the device during connect_volume. However this would often fail on\nslower systems as it would race udev populating these symlinks.\n\nChange-Id: I8887f54045a7c2a0ba6987787878cbcc872a7dfa\n'}]",1,696693,59a5828a519ee76e59bf3d1150fda695fd7500e6,18,9,2,10135,,,0,"libvirt: Request and store the decrypted path of an attached encrypted volume

5b7bcc41c35e060f46dbd22268db36b2ffb37358 adds an optional realpath kwarg
to the attach_volume method for each dm-crypt based encryptor. When set
to True this will return the path to the decrypted device instead of
symlinking this device over the original and already stored encrypted
device path.

By requesting, storing and eventually using this on the Nova side we can
remove If4461c3dcd67e5d948be9d9a3643c1eb81aaace9. This workaround within
the iscsi connector of os-brick avoids accidentally symlinking over the
underlying device on the host by returning the /dev/disk/by-id/ symlink
for the device during connect_volume. However this would often fail on
slower systems as it would race udev populating these symlinks.

Change-Id: I8887f54045a7c2a0ba6987787878cbcc872a7dfa
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/696693/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,fdf67a1df6ff0fc346e588b8d970beda092411ba,remove-iscsi-encryption-workaround," device_path = encryptor.attach_volume(context, realpath=True, **encryption) # NOTE(lyarwood): If a device_path is returned save it in the # connection_info for use when generating the volume config. if device_path: connection_info['data']['device_path'] = device_path"," encryptor.attach_volume(context, **encryption)",6,1
openstack%2Fos-brick~master~Iee2e2ae4be10adf071747456ad238f07058ba6a0,openstack/os-brick,master,Iee2e2ae4be10adf071747456ad238f07058ba6a0,iscsi: Remove encryption workaround,ABANDONED,2019-11-29 12:30:49.000000000,2021-11-09 10:54:53.000000000,,"[{'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-11-29 12:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5ba53c8de1a2f98e6a2f68f9de71f08fafb0be1e', 'message': 'WIP iscsi: Remove encryption workaround\n\nDepends-On: https://review.opendev.org/696693\nChange-Id: Iee2e2ae4be10adf071747456ad238f07058ba6a0\n'}, {'number': 2, 'created': '2019-12-02 18:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7828a08635b2b2c8fbe08a384a6c1334db0da0d7', 'message': 'iscsi: Remove encryption workaround\n\nBuilding on I46bb098c493489ff35cd30f87e29b2eea160cd7f in os-brick and\nI8887f54045a7c2a0ba6987787878cbcc872a7dfa in Nova we can now remove the\niscsi connector workaround when using encrypted volumes as we should no\nlonger attempt to symlink the original device to the dm-crypt device.\n\nDepends-On: https://review.opendev.org/696693\nChange-Id: Iee2e2ae4be10adf071747456ad238f07058ba6a0\n'}, {'number': 3, 'created': '2019-12-02 20:01:34.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8806e7b866f722bc8df0094a711eab17bc8d07ac', 'message': 'iscsi: Remove encryption workaround\n\nBuilding on I46bb098c493489ff35cd30f87e29b2eea160cd7f in os-brick and\nI8887f54045a7c2a0ba6987787878cbcc872a7dfa in Nova we can now remove the\niscsi connector workaround when using encrypted volumes as we should no\nlonger attempt to symlink the original device to the dm-crypt device.\n\nDepends-On: https://review.opendev.org/696693\nChange-Id: Iee2e2ae4be10adf071747456ad238f07058ba6a0\n'}]",0,696695,8806e7b866f722bc8df0094a711eab17bc8d07ac,26,15,3,10135,,,0,"iscsi: Remove encryption workaround

Building on I46bb098c493489ff35cd30f87e29b2eea160cd7f in os-brick and
I8887f54045a7c2a0ba6987787878cbcc872a7dfa in Nova we can now remove the
iscsi connector workaround when using encrypted volumes as we should no
longer attempt to symlink the original device to the dm-crypt device.

Depends-On: https://review.opendev.org/696693
Change-Id: Iee2e2ae4be10adf071747456ad238f07058ba6a0
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/95/696695/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py']",2,5ba53c8de1a2f98e6a2f68f9de71f08fafb0be1e,remove-iscsi-encryption-workaround,," # NOTE(geguileo): This is only necessary because of the current # encryption flow that requires that connect_volume returns a symlink # because first we do the volume attach, then the libvirt config is # generated using the path returned by the atach, and then we do the # encryption attach, which is forced to preserve the path that was used # in the libvirt config. If we fix that flow in OS-brick, Nova, and # Cinder we can remove this and just return the real path. if con_props.get('encrypted'): device = self._get_device_link(wwn, device, mpath) ",0,22
openstack%2Fos-brick~master~I8243eb23c14088c1ffd6fd67991eaf9a0aee503f,openstack/os-brick,master,I8243eb23c14088c1ffd6fd67991eaf9a0aee503f,Remove bug #1633518 workaround for mangled passphrases,ABANDONED,2019-11-29 12:43:20.000000000,2021-11-09 10:54:51.000000000,,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-11-29 12:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/cb0500d1a024fea288efa0a40328e3af21830e29', 'message': 'WIP Remove workaround for bug #1633518\n\nChange-Id: I8243eb23c14088c1ffd6fd67991eaf9a0aee503f\n'}, {'number': 2, 'created': '2019-12-02 20:23:22.000000000', 'files': ['os_brick/tests/encryptors/test_cryptsetup.py', 'os_brick/encryptors/luks.py', 'os_brick/tests/encryptors/test_luks.py', 'os_brick/encryptors/cryptsetup.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/269dd2467c4790308c81a16c6ec8d1f8f100dc28', 'message': 'Remove bug #1633518 workaround for mangled passphrases\n\nHopefully it is now safe to assume that all pre-Newton encrypted volumes\nhave been reconnected to a compute host, allowing this workaround to\ncorrect any mangled passphrases.\n\nChange-Id: I8243eb23c14088c1ffd6fd67991eaf9a0aee503f\n'}]",0,696696,269dd2467c4790308c81a16c6ec8d1f8f100dc28,28,16,2,10135,,,0,"Remove bug #1633518 workaround for mangled passphrases

Hopefully it is now safe to assume that all pre-Newton encrypted volumes
have been reconnected to a compute host, allowing this workaround to
correct any mangled passphrases.

Change-Id: I8243eb23c14088c1ffd6fd67991eaf9a0aee503f
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/96/696696/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/encryptors/test_cryptsetup.py', 'os_brick/encryptors/luks.py', 'os_brick/tests/encryptors/test_luks.py', 'os_brick/encryptors/cryptsetup.py']",4,cb0500d1a024fea288efa0a40328e3af21830e29,," self._open_volume(passphrase, **kwargs)","import array def _get_mangled_passphrase(self, key): """"""Convert the raw key into a list of unsigned int's and then a string """""" # NOTE(lyarwood): This replicates the methods used prior to Newton to # first encode the passphrase as a list of unsigned int's before # decoding back into a string. This method strips any leading 0's # of the resulting hex digit pairs, resulting in a different # passphrase being returned. encoded_key = array.array('B', key).tolist() return ''.join(hex(x).replace('0x', '') for x in encoded_key) try: self._open_volume(passphrase, **kwargs) except processutils.ProcessExecutionError as e: if e.exit_code == 2: # NOTE(lyarwood): Workaround bug#1633518 by attempting to use # a mangled passphrase to open the device.. LOG.info(""Unable to open %s with the current passphrase, "" ""attempting to use a mangled passphrase to open "" ""the volume."", self.dev_path) self._open_volume(self._get_mangled_passphrase(key), **kwargs)",1,177
openstack%2Fnova~master~I842a5aede5c31e95b0c6284cbad1285bd51c829c,openstack/nova,master,I842a5aede5c31e95b0c6284cbad1285bd51c829c,configdrive: Add TODO to replace vfat creation code with virt-make-fs,ABANDONED,2021-09-14 10:20:40.000000000,2021-11-09 10:54:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-14 10:20:40.000000000', 'files': ['nova/virt/configdrive.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/95247cbd845c439d427976df7ee6d38717d53a2b', 'message': 'configdrive: Add TODO to replace vfat creation code with virt-make-fs\n\nChange-Id: I842a5aede5c31e95b0c6284cbad1285bd51c829c\n'}]",1,808922,95247cbd845c439d427976df7ee6d38717d53a2b,6,1,1,10135,,,0,"configdrive: Add TODO to replace vfat creation code with virt-make-fs

Change-Id: I842a5aede5c31e95b0c6284cbad1285bd51c829c
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/808922/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/configdrive.py'],1,95247cbd845c439d427976df7ee6d38717d53a2b,, # TODO(lyarwood): Replace with virt-make-fs from libguestfs ," # NOTE(mikal): This is a little horrible, but I couldn't find an # equivalent to mkisofs for vfat filesystems.",1,2
openstack%2Fnova~master~I9dbfbdb90ebb21cecc29228900b785bf227a22ad,openstack/nova,master,I9dbfbdb90ebb21cecc29228900b785bf227a22ad,run-evacuate-hook: Switch to osc evacuate command and add --debug,ABANDONED,2021-09-15 09:31:40.000000000,2021-11-09 10:54:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-15 09:31:40.000000000', 'files': ['roles/run-evacuate-hook/files/test_evacuate.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/dbd1a3bb51144f54dd1c3bd49a2c498a7fc1b5e5', 'message': 'run-evacuate-hook: Switch to osc evacuate command and add --debug\n\nThe command is now available in osc and while we are here adding --debug\nwill help us quickly debug any failures by logging the request-id.\n\nChange-Id: I9dbfbdb90ebb21cecc29228900b785bf227a22ad\n'}]",0,809162,dbd1a3bb51144f54dd1c3bd49a2c498a7fc1b5e5,6,1,1,10135,,,0,"run-evacuate-hook: Switch to osc evacuate command and add --debug

The command is now available in osc and while we are here adding --debug
will help us quickly debug any failures by logging the request-id.

Change-Id: I9dbfbdb90ebb21cecc29228900b785bf227a22ad
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/809162/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-evacuate-hook/files/test_evacuate.sh'],1,dbd1a3bb51144f54dd1c3bd49a2c498a7fc1b5e5,, openstack server evacuate --debug ${server}, nova evacuate ${server},1,1
openstack%2Fwhitebox-tempest-plugin~master~Ib8023e7c7ab7b39233ab1245c0b39347cc2c4d71,openstack/whitebox-tempest-plugin,master,Ib8023e7c7ab7b39233ab1245c0b39347cc2c4d71,DNM: Testing nested-virt-centos-8-stream,ABANDONED,2021-10-07 17:05:22.000000000,2021-11-09 10:53:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-07 17:05:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/2757b1c0037e3480ff19557a723d0b9c413fac40', 'message': 'DNM: Testing nested-virt-centos-8-stream\n\nChange-Id: Ib8023e7c7ab7b39233ab1245c0b39347cc2c4d71\n'}]",0,813058,2757b1c0037e3480ff19557a723d0b9c413fac40,3,1,1,10135,,,0,"DNM: Testing nested-virt-centos-8-stream

Change-Id: Ib8023e7c7ab7b39233ab1245c0b39347cc2c4d71
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/58/813058/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2757b1c0037e3480ff19557a723d0b9c413fac40,, label: nested-virt-centos-8-stream label: nested-virt-centos-8-stream, label: nested-virt-ubuntu-focal label: nested-virt-ubuntu-focal,2,2
openstack%2Fnova~master~I9d5b99564ef06fe197c6516f9b1b2ed0e216cc13,openstack/nova,master,I9d5b99564ef06fe197c6516f9b1b2ed0e216cc13,DNM - Test tempest-integrated-compute-centos-8-stream,ABANDONED,2021-07-08 09:21:11.000000000,2021-11-09 10:53:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-08 09:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45c9eb5e13b49f439a986e8dca6ac95aa6ac8efa', 'message': 'DNM - Test tempest-integrated-compute-centos-8-stream\n\nChange-Id: I9d5b99564ef06fe197c6516f9b1b2ed0e216cc13\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/797614\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\n'}, {'number': 2, 'created': '2021-07-19 18:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55ffa0ccb38b86731c204cf167d9f52c50603a99', 'message': 'DNM - Test tempest-integrated-compute-centos-8-stream\n\nChange-Id: I9d5b99564ef06fe197c6516f9b1b2ed0e216cc13\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/797614\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\n'}, {'number': 3, 'created': '2021-11-05 19:57:58.000000000', 'files': ['.DNM'], 'web_link': 'https://opendev.org/openstack/nova/commit/1485061b7a2473bb84b93fc5744b235fba7af17a', 'message': 'DNM - Test tempest-integrated-compute-centos-8-stream\n\nChange-Id: I9d5b99564ef06fe197c6516f9b1b2ed0e216cc13\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/797614\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\n'}]",1,799996,1485061b7a2473bb84b93fc5744b235fba7af17a,33,1,3,10135,,,0,"DNM - Test tempest-integrated-compute-centos-8-stream

Change-Id: I9d5b99564ef06fe197c6516f9b1b2ed0e216cc13
Depends-On: https://review.opendev.org/c/openstack/tempest/+/797614
Depends-On: https://review.opendev.org/c/openstack/devstack/+/798514
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/799996/2 && git format-patch -1 --stdout FETCH_HEAD,['.DNM'],1,45c9eb5e13b49f439a986e8dca6ac95aa6ac8efa,centos8-stream-integrated-gate-compute,,,0,0
openstack%2Fcyborg~master~I86e88212a51b3e54de1247d45e7655a6e3ffbb74,openstack/cyborg,master,I86e88212a51b3e54de1247d45e7655a6e3ffbb74,show device_profile by name,ABANDONED,2021-11-05 09:39:03.000000000,2021-11-09 10:52:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-11-05 09:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2bafc4a1d93d3ed8ea81d2fa11152a85c7d8f39c', 'message': 'show device_profile by name\n\nNowadays showing device_profile is supported\nonly by uuid, we want to add support for name.\n\nImplements: blueprint show-device-profile-with-name\nCloses-Bug: #1936877\nChange-Id: I86e88212a51b3e54de1247d45e7655a6e3ffbb74\n'}, {'number': 2, 'created': '2021-11-05 18:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/43c01489dd7131aadd28f0552ba59e59771e0bf9', 'message': 'show device_profile by name\n\nNowadays showing device_profile is supported\nonly by uuid, we want to add support for name.\n\nImplements: blueprint show-device-profile-with-name\nCloses-Bug: #1936877\nChange-Id: I86e88212a51b3e54de1247d45e7655a6e3ffbb74\n'}, {'number': 3, 'created': '2021-11-09 01:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f02b84f1ddfaf88bd248a8c66978373690424799', 'message': 'show device_profile by name\n\nNowadays showing device_profile is supported\nonly by uuid, we want to add support for name.\n\nImplements: blueprint show-device-profile-with-name\nCloses-Bug: #1936877\nChange-Id: I86e88212a51b3e54de1247d45e7655a6e3ffbb74\n'}, {'number': 4, 'created': '2021-11-09 07:10:26.000000000', 'files': ['cyborg/tests/unit/api/controllers/v2/test_device_profiles.py', 'cyborg/api/controllers/v2/device_profiles.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/da4fb5b292d76e8eec84d39331fe6c9d1334a5bc', 'message': 'show device_profile by name\n\nNowadays showing device_profile is supported\nonly by uuid, we want to add support for name.\n\nImplements: blueprint show-device-profile-with-name\nCloses-Bug: #1936877\nChange-Id: I86e88212a51b3e54de1247d45e7655a6e3ffbb74\n'}]",7,816805,da4fb5b292d76e8eec84d39331fe6c9d1334a5bc,17,3,4,33003,,,0,"show device_profile by name

Nowadays showing device_profile is supported
only by uuid, we want to add support for name.

Implements: blueprint show-device-profile-with-name
Closes-Bug: #1936877
Change-Id: I86e88212a51b3e54de1247d45e7655a6e3ffbb74
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/05/816805/3 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/tests/unit/api/controllers/v2/test_device_profiles.py', 'cyborg/api/controllers/v2/device_profiles.py']",2,2bafc4a1d93d3ed8ea81d2fa11152a85c7d8f39c,show-dp-by-name," def get_one(self, value): """"""Retrieve a single device profile by uuid or name."""""" if uuidutils.is_uuid_like(value): uuid = value LOG.info('[device_profiles] get_one. uuid=%s', uuid) obj_devprofs = self._get_device_profile_list(uuid=uuid) else: name = value LOG.info('[device_profiles] get_one. name=%s', name) obj_devprofs = self._get_device_profile_list((name,)) msg='with uuid %s' % name)"," def get_one(self, uuid): """"""Retrieve a single device profile by uuid."""""" LOG.info('[device_profiles] get_one. uuid=%s', uuid) obj_devprofs = self._get_device_profile_list(uuid=uuid) msg='with uuid %s' % uuid)",22,5
openstack%2Fcharm-percona-cluster~master~I7d9f44bd0dbff25a6c2b0649aa3a86c1869cd7d8,openstack/charm-percona-cluster,master,I7d9f44bd0dbff25a6c2b0649aa3a86c1869cd7d8,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:23:53.000000000,2021-11-09 10:24:46.000000000,2021-11-09 10:24:46.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/fa30cec84657b5b7508a8fa084baa820fffc2106', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I7d9f44bd0dbff25a6c2b0649aa3a86c1869cd7d8\n'}, {'number': 2, 'created': '2021-11-01 13:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/6475633d673e793e2b7fc5a5e92c5c3ff96e15f3', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I7d9f44bd0dbff25a6c2b0649aa3a86c1869cd7d8\n'}, {'number': 3, 'created': '2021-11-03 22:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/3db2dac61c0b27e89c25ab6ba437f4b98c0baa1a', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I7d9f44bd0dbff25a6c2b0649aa3a86c1869cd7d8\n'}, {'number': 4, 'created': '2021-11-05 17:53:33.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'test-requirements.txt', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/e3091504fe3e4f0de410033ace3d5eb60df8c7fc', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I7d9f44bd0dbff25a6c2b0649aa3a86c1869cd7d8\n'}]",2,816057,e3091504fe3e4f0de410033ace3d5eb60df8c7fc,17,3,4,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove groovy bundles

Change-Id: I7d9f44bd0dbff25a6c2b0649aa3a86c1869cd7d8
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/57/816057/4 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'test-requirements.txt', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py']",5,fa30cec84657b5b7508a8fa084baa820fffc2106,batch-update," 'jammy',",,31,7
openstack%2Fdevstack~master~Ib43c8fa60d507beaf008166bd0cdb94b72524b18,openstack/devstack,master,Ib43c8fa60d507beaf008166bd0cdb94b72524b18,DNM this is test runtime baseline,ABANDONED,2017-06-07 20:21:22.000000000,2021-11-09 10:16:56.000000000,,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 6593}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 21784}]","[{'number': 1, 'created': '2017-06-07 20:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ba1c98d7bb5412ec78919d48d39aa6f1fc2fe7fa', 'message': 'DNM this is test runtime baseline\n\nChange-Id: Ib43c8fa60d507beaf008166bd0cdb94b72524b18\n'}, {'number': 2, 'created': '2017-06-07 21:10:07.000000000', 'files': ['README.rst', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6f836c37bc01e3381cef236c7a9e7a5105c2a3c8', 'message': 'DNM this is test runtime baseline\n\nChange-Id: Ib43c8fa60d507beaf008166bd0cdb94b72524b18\n'}]",0,471901,6f836c37bc01e3381cef236c7a9e7a5105c2a3c8,25,7,2,4146,,,0,"DNM this is test runtime baseline

Change-Id: Ib43c8fa60d507beaf008166bd0cdb94b72524b18
",git fetch https://review.opendev.org/openstack/devstack refs/changes/01/471901/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,ba1c98d7bb5412ec78919d48d39aa6f1fc2fe7fa,baseline, NOOP edit to baseline test results,,2,0
openstack%2Fdevstack~master~I05c30d44077373c0aaea1c6ef86cc03380c3d143,openstack/devstack,master,I05c30d44077373c0aaea1c6ef86cc03380c3d143,WIP: Enable the keystone admin project,ABANDONED,2017-09-12 19:08:09.000000000,2021-11-09 10:14:49.000000000,,"[{'_account_id': 3}, {'_account_id': 7191}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-09-12 19:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/92d2f734a609fef4d9c4f2a240818d06ac4e4258', 'message': 'WIP: Enable the keystone admin project\n\nUsing the admin project in keystone is going to change how a number of\nadmin commands are run, requiring changes in tempest.\n\nRun it so we can discuss the failures.\n\nChange-Id: I05c30d44077373c0aaea1c6ef86cc03380c3d143\n'}, {'number': 2, 'created': '2017-09-27 03:55:49.000000000', 'files': ['lib/keystone', 'lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ea6ad20ba12f2831501807e882c8b523acacc8ff', 'message': 'WIP: Enable the keystone admin project\n\nUsing the admin project in keystone is going to change how a number of\nadmin commands are run, requiring changes in tempest.\n\nRun it so we can discuss the failures.\n\nChange-Id: I05c30d44077373c0aaea1c6ef86cc03380c3d143\nDepends-On: Ic96ee6005606f4998d829ef651219bafdbaa95fe\n'}]",0,503140,ea6ad20ba12f2831501807e882c8b523acacc8ff,27,5,2,7191,,,0,"WIP: Enable the keystone admin project

Using the admin project in keystone is going to change how a number of
admin commands are run, requiring changes in tempest.

Run it so we can discuss the failures.

Change-Id: I05c30d44077373c0aaea1c6ef86cc03380c3d143
Depends-On: Ic96ee6005606f4998d829ef651219bafdbaa95fe
",git fetch https://review.opendev.org/openstack/devstack refs/changes/40/503140/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/keystone'],1,92d2f734a609fef4d9c4f2a240818d06ac4e4258,enable-admin, iniset $KEYSTONE_CONF resource admin_project_domain_name Default iniset $KEYSTONE_CONF resource admin_project_name admin, #iniset $KEYSTONE_CONF resource admin_project_domain_name Default #iniset $KEYSTONE_CONF resource admin_project_name admin,2,2
openstack%2Fdevstack~stable%2Fnewton~Iee7c922cd534ff9ec67cffd2aaa1a03360c1b74a,openstack/devstack,stable/newton,Iee7c922cd534ff9ec67cffd2aaa1a03360c1b74a,Differentiate between DEFAULT_IMAGE_NAME and filename,ABANDONED,2018-01-04 21:38:03.000000000,2021-11-09 10:13:46.000000000,,"[{'_account_id': 5196}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-04 21:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5d63620ba891dcb8289fdb01dc0da819ef8ddef1', 'message': ""Differentiate between DEFAULT_IMAGE_NAME and filename\n\nThe DEFAULT_IMAGE_NAME variable is used to reference the name of the\ndefault image in glance after it has been uploaded by devstack. It is\nused both inside and outside of devstack for that purpose. However, when\nconfiguring tempest there are some tests which also do image uploads and\nneed a filename for specifying which file they should upload into glance\nfor testing purposes. Previously we were just using DEFAULT_IMAGE_NAME\nfor both purposes, but this causes a conflict if the name of the image\nwe upload into glance does not have a file extension. So instead of\nconflating the things this commit differentiates between them and adds a\nnew DEFAULT_IMAGE_FILE_NAME variable to use for this purpose.\n\nThis conflicts because there were several intermediate changes before\nthis was finished. This just skips to the end state. Additionally the\nchange id is removed because to get things working in the gate\nconsistently this needs to land in a very specific order. This can't be\ndone if the change-ids all match.\n\nConflicts:\n\tlib/tempest\n\tstackrc\n\n(cherry picked from commit befe0925e7cb3d3b34ee9e856c4bc822a499975f)\n\nChange-Id: Iee7c922cd534ff9ec67cffd2aaa1a03360c1b74a\n""}, {'number': 2, 'created': '2018-01-04 21:47:35.000000000', 'files': ['lib/tempest', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/976478ff4f7055f378f05370848a1c311171ed43', 'message': ""Differentiate between DEFAULT_IMAGE_NAME and filename\n\nThe DEFAULT_IMAGE_NAME variable is used to reference the name of the\ndefault image in glance after it has been uploaded by devstack. It is\nused both inside and outside of devstack for that purpose. However, when\nconfiguring tempest there are some tests which also do image uploads and\nneed a filename for specifying which file they should upload into glance\nfor testing purposes. Previously we were just using DEFAULT_IMAGE_NAME\nfor both purposes, but this causes a conflict if the name of the image\nwe upload into glance does not have a file extension. So instead of\nconflating the things this commit differentiates between them and adds a\nnew DEFAULT_IMAGE_FILE_NAME variable to use for this purpose.\n\nThis conflicts because there were several intermediate changes before\nthis was finished. This just skips to the end state. Additionally the\nchange id is removed because to get things working in the gate\nconsistently this needs to land in a very specific order. This can't be\ndone if the change-ids all match.\n\nConflicts:\n\tlib/tempest\n\tstackrc\n\n(cherry picked from commit befe0925e7cb3d3b34ee9e856c4bc822a499975f)\n\nChange-Id: Iee7c922cd534ff9ec67cffd2aaa1a03360c1b74a\n""}]",0,531248,976478ff4f7055f378f05370848a1c311171ed43,12,6,2,5196,,,0,"Differentiate between DEFAULT_IMAGE_NAME and filename

The DEFAULT_IMAGE_NAME variable is used to reference the name of the
default image in glance after it has been uploaded by devstack. It is
used both inside and outside of devstack for that purpose. However, when
configuring tempest there are some tests which also do image uploads and
need a filename for specifying which file they should upload into glance
for testing purposes. Previously we were just using DEFAULT_IMAGE_NAME
for both purposes, but this causes a conflict if the name of the image
we upload into glance does not have a file extension. So instead of
conflating the things this commit differentiates between them and adds a
new DEFAULT_IMAGE_FILE_NAME variable to use for this purpose.

This conflicts because there were several intermediate changes before
this was finished. This just skips to the end state. Additionally the
change id is removed because to get things working in the gate
consistently this needs to land in a very specific order. This can't be
done if the change-ids all match.

Conflicts:
	lib/tempest
	stackrc

(cherry picked from commit befe0925e7cb3d3b34ee9e856c4bc822a499975f)

Change-Id: Iee7c922cd534ff9ec67cffd2aaa1a03360c1b74a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/48/531248/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/tempest', 'stackrc']",2,5d63620ba891dcb8289fdb01dc0da819ef8ddef1,531248," DEFAULT_IMAGE_FILE_NAME=${DEFAULT_IMAGE_FILE_NAME:-cirros-${CIRROS_VERSION}-${CIRROS_ARCH}-rootfs.img.gz} IMAGE_URLS+=""http://download.cirros-cloud.net/${CIRROS_VERSION}/${DEFAULT_IMAGE_FILE_NAME}"";; *) # otherwise, use the qcow image DEFAULT_IMAGE_NAME=${DEFAULT_IMAGE_NAME:-cirros-${CIRROS_VERSION}-${CIRROS_ARCH}-disk} DEFAULT_IMAGE_FILE_NAME=${DEFAULT_IMAGE_FILE_NAME:-cirros-${CIRROS_VERSION}-${CIRROS_ARCH}-disk.img} IMAGE_URLS+=""http://download.cirros-cloud.net/${CIRROS_VERSION}/${DEFAULT_IMAGE_FILE_NAME}"";; DEFAULT_IMAGE_FILE_NAME=${DEFAULT_IMAGE_FILE_NAME:-$DEFAULT_IMAGE_NAME} IMAGE_URLS+=""http://partnerweb.vmware.com/programs/vmdkimage/${DEFAULT_IMAGE_FILE_NAME}"";; DEFAULT_IMAGE_NAME=${DEFAULT_IMAGE_NAME:-cirros-0.3.5-x86_64-disk} DEFAULT_IMAGE_FILE_NAME=${DEFAULT_IMAGE_NAME:-cirros-0.3.5-x86_64-disk.vhd.tgz} IMAGE_URLS+=""http://ca.downloads.xensource.com/OpenStack/cirros-0.3.5-x86_64-disk.vhd.tgz"" fake) # Use the same as the default for libvirt DEFAULT_IMAGE_NAME=${DEFAULT_IMAGE_NAME:-cirros-${CIRROS_VERSION}-${CIRROS_ARCH}-disk} DEFAULT_IMAGE_FILE_NAME=${DEFAULT_IMAGE_FILE_NAME:-cirros-${CIRROS_VERSION}-${CIRROS_ARCH}-disk.img} IMAGE_URLS+=""http://download.cirros-cloud.net/${CIRROS_VERSION}/${DEFAULT_IMAGE_FILE_NAME}"";;"," IMAGE_URLS+=""http://download.cirros-cloud.net/${CIRROS_VERSION}/cirros-${CIRROS_VERSION}-${CIRROS_ARCH}-rootfs.img.gz"";; *) # otherwise, use the uec style image (with kernel, ramdisk, disk) DEFAULT_IMAGE_NAME=${DEFAULT_IMAGE_NAME:-cirros-${CIRROS_VERSION}-${CIRROS_ARCH}-uec} IMAGE_URLS+=""http://download.cirros-cloud.net/${CIRROS_VERSION}/cirros-${CIRROS_VERSION}-${CIRROS_ARCH}-uec.tar.gz"";; IMAGE_URLS+=""http://partnerweb.vmware.com/programs/vmdkimage/cirros-0.3.2-i386-disk.vmdk"";; DEFAULT_IMAGE_NAME=${DEFAULT_IMAGE_NAME:-cirros-0.3.4-x86_64-disk} IMAGE_URLS+=""http://ca.downloads.xensource.com/OpenStack/cirros-0.3.4-x86_64-disk.vhd.tgz"" ironic) # Ironic can do both partition and full disk images, depending on the driver if [[ -z ""${IRONIC_DEPLOY_DRIVER%%agent*}"" ]]; then DEFAULT_IMAGE_NAME=${DEFAULT_IMAGE_NAME:-cirros-${CIRROS_VERSION}-x86_64-disk} else DEFAULT_IMAGE_NAME=${DEFAULT_IMAGE_NAME:-cirros-${CIRROS_VERSION}-x86_64-uec} fi IMAGE_URLS+=""http://download.cirros-cloud.net/${CIRROS_VERSION}/cirros-${CIRROS_VERSION}-x86_64-uec.tar.gz"" IMAGE_URLS+="",http://download.cirros-cloud.net/${CIRROS_VERSION}/cirros-${CIRROS_VERSION}-x86_64-disk.img"";; *) # Default to Cirros with kernel, ramdisk and disk image DEFAULT_IMAGE_NAME=${DEFAULT_IMAGE_NAME:-cirros-${CIRROS_VERSION}-${CIRROS_ARCH}-uec} IMAGE_URLS+=""http://download.cirros-cloud.net/${CIRROS_VERSION}/cirros-${CIRROS_VERSION}-${CIRROS_ARCH}-uec.tar.gz"";;",26,25
openstack%2Fcharm-vault~master~I2f0093c0ae6949693f2ad1ea4729b690c932b4b1,openstack/charm-vault,master,I2f0093c0ae6949693f2ad1ea4729b690c932b4b1,Report 'Missing CA' if certs relation exist but CA not configured,MERGED,2021-11-02 19:41:41.000000000,2021-11-09 10:13:03.000000000,2021-11-09 10:13:03.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-02 19:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/f8c5b6e18c70d9c1f29439998ca0cf4df7ef9f30', 'message': ""Report 'Missing CA certs' status\n\nif vault/leader has certificate relationship with other app but\nroot CA is not configured or cleared by action 'disable-pki'\n\nAlso add unit test for checking 'missing-CA' status\n\nCloses-Bug: #1940451\nChange-Id: I2f0093c0ae6949693f2ad1ea4729b690c932b4b1\n""}, {'number': 2, 'created': '2021-11-03 00:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/041cea2be23467f850ad9d7614d3ba834fe14399', 'message': ""Report 'Missing CA certs' status\n\nif vault/leader has certificate relationship with other app but\nroot CA is not configured or cleared by action 'disable-pki'\n\nAlso add unit test for checking 'missing-CA' status\n\nCloses-Bug: #1940451\nChange-Id: I2f0093c0ae6949693f2ad1ea4729b690c932b4b1\n""}, {'number': 3, 'created': '2021-11-03 01:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/0de9070d6d98f27d45f4d35e0ada4161db894aef', 'message': ""Report 'Missing CA' if certs relation exist but CA not configured\n\nIf vault/leader has certificate relationship with other apps but\nroot CA is either not configured or cleared by action 'disable-pki',\nthe status should be set to 'Blocked, Missing CA'\n\nAlso add unit test for checking 'missing-CA' status\n\nCloses-Bug: #1940451\nChange-Id: I2f0093c0ae6949693f2ad1ea4729b690c932b4b1\n""}, {'number': 4, 'created': '2021-11-03 13:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/1768a102c1ab8f376c893b627dd95bc024e9f841', 'message': ""Report 'Missing CA' if certs relation exist but CA not configured\n\nIf vault/leader has certificate relationship with other apps but\nroot CA is either not configured or cleared by action 'disable-pki',\nthe status should be set to 'Blocked, Missing CA'\n\nAlso add unit test for checking 'missing-CA' status\n\nCloses-Bug: #1940451\nChange-Id: I2f0093c0ae6949693f2ad1ea4729b690c932b4b1\n""}, {'number': 5, 'created': '2021-11-03 15:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/8c8af248a6d053e4230cdf4c554066f5d36e3f1a', 'message': ""Report 'Missing CA' if certs relation exist but CA not configured\n\nIf vault/leader has certificate relationship with other apps but\nroot CA is either not configured or cleared by action 'disable-pki',\nthe status should be set to 'Blocked, Missing CA'\n\nAlso add unit test for checking 'missing-CA' status\n\nCloses-Bug: #1940451\nChange-Id: I2f0093c0ae6949693f2ad1ea4729b690c932b4b1\n""}, {'number': 6, 'created': '2021-11-03 16:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/47833052b608830c4e1a4ad0adff56c5a016b9e5', 'message': ""Report 'Missing CA' if certs relation exist but CA not configured\n\nIf vault/leader has certificate relationship with other apps but\nroot CA is either not configured or cleared by action 'disable-pki',\nthe status should be set to 'Blocked, Missing CA'\n\nAlso add unit test for checking 'missing-CA' status\n\nCloses-Bug: #1940451\nChange-Id: I2f0093c0ae6949693f2ad1ea4729b690c932b4b1\n""}, {'number': 7, 'created': '2021-11-03 17:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/3e467d662a03fb21c871af858b0262d13f0f5dc0', 'message': ""Report 'Missing CA' if certs relation exist but CA not configured\n\nIf vault/leader has certificate relationship with other apps but\nroot CA is either not configured or cleared by action 'disable-pki',\nthe status should be set to 'Blocked, Missing CA'\n\nAlso add unit test for checking 'missing-CA' status\n\nCloses-Bug: #1940451\nChange-Id: I2f0093c0ae6949693f2ad1ea4729b690c932b4b1\n""}, {'number': 8, 'created': '2021-11-04 13:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/d43b9cf8b950958ca7e807adca0e6c7b9b246c92', 'message': ""Report 'Missing CA' if certs relation exist but CA not configured\n\nIf vault/leader has certificate relationship with other apps but\nroot CA is either not configured or cleared by action 'disable-pki',\nthe status should be set to 'Blocked, Missing CA'\n\nAlso add unit test for checking 'missing-CA' status\n\nCloses-Bug: #1940451\nChange-Id: I2f0093c0ae6949693f2ad1ea4729b690c932b4b1\n""}, {'number': 9, 'created': '2021-11-05 13:40:52.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'test-requirements.txt', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/5151d01ee266646ceb579edf1092c994d2ecd42c', 'message': ""Report 'Missing CA' if certs relation exist but CA not configured\n\nIf vault/leader has certificate relationship with other apps but\nroot CA is either not configured or cleared by action 'disable-pki',\nthe status should be set to 'Blocked, Missing CA'\n\nAlso add unit test for checking 'missing-CA' status\n\nCloses-Bug: #1940451\nChange-Id: I2f0093c0ae6949693f2ad1ea4729b690c932b4b1\n""}]",31,816400,5151d01ee266646ceb579edf1092c994d2ecd42c,37,3,9,34059,,,0,"Report 'Missing CA' if certs relation exist but CA not configured

If vault/leader has certificate relationship with other apps but
root CA is either not configured or cleared by action 'disable-pki',
the status should be set to 'Blocked, Missing CA'

Also add unit test for checking 'missing-CA' status

Closes-Bug: #1940451
Change-Id: I2f0093c0ae6949693f2ad1ea4729b690c932b4b1
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/00/816400/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py']",2,f8c5b6e18c70d9c1f29439998ca0cf4df7ef9f30,bug/1940451," has_certs_relation = is_flag_set('certificates.available') if has_certs_relation and not has_ca: status_set('blocked', 'Missing CA cert') return ",,21,0
openstack%2Ftripleo-heat-templates~master~I97f1b73abb550c7fb549eda0d29b011e56ec3425,openstack/tripleo-heat-templates,master,I97f1b73abb550c7fb549eda0d29b011e56ec3425,Clean up implementation to manage volume type by puppet,MERGED,2021-10-26 00:53:33.000000000,2021-11-09 10:12:16.000000000,2021-11-09 10:12:16.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-26 00:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31f796786176d6643f189e07e8cb7e3b52b492d1', 'message': 'Remove unused cinder_type tag\n\nNow the default volume type in cinder is created by Ansible instead\nof Puppet, so there is no need to include that tag.\n\nChange-Id: I97f1b73abb550c7fb549eda0d29b011e56ec3425\n'}, {'number': 2, 'created': '2021-10-26 04:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d5bab2092ca1a314f209db2e622e8223bf281ed', 'message': 'Clean up implementation to manage volume type by puppet\n\nNow the default volume type in cinder is created by Ansible instead\nof Puppet, so there is no need to invoke management of volume types\nby puppet.\n\nChange-Id: I97f1b73abb550c7fb549eda0d29b011e56ec3425\n'}, {'number': 3, 'created': '2021-10-26 08:33:13.000000000', 'files': ['deployment/cinder/cinder-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/040859a739fd0d5a09949abece42a148a9cda969', 'message': 'Clean up implementation to manage volume type by puppet\n\nNow the default volume type in cinder is created by Ansible instead\nof Puppet, so there is no need to invoke management of volume types\nby puppet.\n\nChange-Id: I97f1b73abb550c7fb549eda0d29b011e56ec3425\n'}]",8,815395,040859a739fd0d5a09949abece42a148a9cda969,35,5,3,9816,,,0,"Clean up implementation to manage volume type by puppet

Now the default volume type in cinder is created by Ansible instead
of Puppet, so there is no need to invoke management of volume types
by puppet.

Change-Id: I97f1b73abb550c7fb549eda0d29b011e56ec3425
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/815395/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-api-container-puppet.yaml'],1,31f796786176d6643f189e07e8cb7e3b52b492d1,," puppet_tags: cinder_config,file,concat,file_line,cinder_api_paste_ini puppet_tags: cinder_config,file,concat,file_line"," puppet_tags: cinder_config,cinder_type,file,concat,file_line,cinder_api_paste_ini puppet_tags: cinder_config,cinder_type,file,concat,file_line",2,2
openstack%2Fdevstack~stable%2Fpike~I2700154a532f6462a7b420bca507247b770e52b5,openstack/devstack,stable/pike,I2700154a532f6462a7b420bca507247b770e52b5,DNM Trying to figure out why an OSC/SDK change is bong,ABANDONED,2018-01-30 20:50:23.000000000,2021-11-09 10:10:24.000000000,,"[{'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-30 20:50:23.000000000', 'files': ['lib/cinder'], 'web_link': 'https://opendev.org/openstack/devstack/commit/426ad6749ff9c7400f248aabc32593ff4ac48c8c', 'message': 'DNM Trying to figure out why an OSC/SDK change is bong\n\nChange-Id: I2700154a532f6462a7b420bca507247b770e52b5\n'}]",0,539317,426ad6749ff9c7400f248aabc32593ff4ac48c8c,6,4,1,2,,,0,"DNM Trying to figure out why an OSC/SDK change is bong

Change-Id: I2700154a532f6462a7b420bca507247b770e52b5
",git fetch https://review.opendev.org/openstack/devstack refs/changes/17/539317/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder'],1,426ad6749ff9c7400f248aabc32593ff4ac48c8c,," openstack -v --debug --os-region-name=""$REGION_NAME"" volume type create --property volume_backend_name=""${be_name}"" ${be_name}"," openstack --os-region-name=""$REGION_NAME"" volume type create --property volume_backend_name=""${be_name}"" ${be_name}",1,1
openstack%2Fdevstack~master~I2e3f1f57945db43dc4ff16402d2b52f74c9afbca,openstack/devstack,master,I2e3f1f57945db43dc4ff16402d2b52f74c9afbca,[WIP] Create a restack.sh script,ABANDONED,2016-05-11 14:46:30.000000000,2021-11-09 10:09:55.000000000,,"[{'_account_id': 3}, {'_account_id': 4656}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 20084}]","[{'number': 1, 'created': '2016-05-11 14:46:30.000000000', 'files': ['restack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6cc183aa5f8441b95864edbf15ad4cb2ea8c5c5a', 'message': ""[WIP] Create a restack.sh script\n\nThis script will call known entrypoints to start\nservices, if for instance you don't want to run a full\nstack.sh - and just want to start the services up again.\n\nBackground:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-May/093755.html\n\nTODO: Lots. Lots and lots and lots.\n\nChange-Id: I2e3f1f57945db43dc4ff16402d2b52f74c9afbca\n""}]",0,315105,6cc183aa5f8441b95864edbf15ad4cb2ea8c5c5a,7,5,1,4656,,,0,"[WIP] Create a restack.sh script

This script will call known entrypoints to start
services, if for instance you don't want to run a full
stack.sh - and just want to start the services up again.

Background:

http://lists.openstack.org/pipermail/openstack-dev/2016-May/093755.html

TODO: Lots. Lots and lots and lots.

Change-Id: I2e3f1f57945db43dc4ff16402d2b52f74c9afbca
",git fetch https://review.opendev.org/openstack/devstack refs/changes/05/315105/1 && git format-patch -1 --stdout FETCH_HEAD,['restack.sh'],1,6cc183aa5f8441b95864edbf15ad4cb2ea8c5c5a,restack,"#!/usr/bin/env bash # Reborn rejoin-stack.sh # This borrows heavily from Grenade, to restart all the services # # # Import Apache functions source $TOP_DIR/lib/apache # Import TLS functions source $TOP_DIR/lib/tls # Source project function libraries source $TOP_DIR/lib/infra source $TOP_DIR/lib/oslo source $TOP_DIR/lib/lvm source $TOP_DIR/lib/horizon source $TOP_DIR/lib/keystone source $TOP_DIR/lib/glance source $TOP_DIR/lib/nova source $TOP_DIR/lib/cinder source $TOP_DIR/lib/swift source $TOP_DIR/lib/heat source $TOP_DIR/lib/neutron source $TOP_DIR/lib/neutron-legacy source $TOP_DIR/lib/ldap source $TOP_DIR/lib/dstat source $TOP_DIR/lib/dlm ########## Keystone # Start Keystone start_keystone # ensure the service has started ensure_services_started keystone ########### Swift # Start Swift start_swift # Don't succeed unless the services come up ensure_services_started swift-object-server swift-proxy-server ensure_logs_exist s-proxy ########## Glance # Start Glance start_glance # Don't succeed unless the services come up ensure_services_started glance-api ensure_logs_exist g-api g-reg ########### Neutron # Start neutron and agents start_neutron_third_party start_neutron_service_and_check start_neutron_agents # Don't succeed unless the services come up # TODO: service names ensure_services_started ensure_logs_exist q-svc ############ Nova # Start Nova start_nova_api start_nova # Don't succeed unless the services come up ensure_services_started nova-api nova-conductor nova-compute ensure_logs_exist n-api n-cond n-cpu ############## Cinder start_cinder # Don't succeed unless the services come up ensure_services_started cinder-api ensure_logs_exist c-api c-vol ############## Horizon # Start Horizon start_horizon ",,100,0
openstack%2Fpuppet-cinder~stable%2Fwallaby~I847b88710578818f6c792d1603e02759072a9d25,openstack/puppet-cinder,stable/wallaby,I847b88710578818f6c792d1603e02759072a9d25,Use service anchor to ensure API is up,MERGED,2021-11-08 23:59:43.000000000,2021-11-09 09:12:37.000000000,2021-11-09 09:12:37.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 23:59:43.000000000', 'files': ['manifests/api.pp', 'spec/classes/cinder_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/eecc910c11aa96c4db9915dafd535766cb42afea', 'message': 'Use service anchor to ensure API is up\n\n... instead of the individual service resource which can be named\ndifferently according to service_name.\n\nCloses-Bug: #1949658\nChange-Id: I847b88710578818f6c792d1603e02759072a9d25\n(cherry picked from commit 614d16329a11fe84c2db749d9819a7820ceeb4be)\n(cherry picked from commit 3241ff122acbeb053ae09a8addf1a33a195ffb74)\n'}]",0,817097,eecc910c11aa96c4db9915dafd535766cb42afea,7,3,1,9816,,,0,"Use service anchor to ensure API is up

... instead of the individual service resource which can be named
differently according to service_name.

Closes-Bug: #1949658
Change-Id: I847b88710578818f6c792d1603e02759072a9d25
(cherry picked from commit 614d16329a11fe84c2db749d9819a7820ceeb4be)
(cherry picked from commit 3241ff122acbeb053ae09a8addf1a33a195ffb74)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/97/817097/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/cinder_api_spec.rb']",2,eecc910c11aa96c4db9915dafd535766cb42afea,bug/1949658-stable/xena-stable/wallaby," :subscribe => 'Anchor[cinder::service::end]',"," :subscribe => 'Service[cinder-api]',",2,2
openstack%2Ftripleo-heat-templates~master~Ic1bc2d4934922e51316b76f68cadf6fdf3954d28,openstack/tripleo-heat-templates,master,Ic1bc2d4934922e51316b76f68cadf6fdf3954d28,Improve scn10 workers layouts for blocking calls,ABANDONED,2021-10-07 14:42:14.000000000,2021-11-09 09:11:58.000000000,,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 11604}, {'_account_id': 11628}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-07 14:42:14.000000000', 'files': ['ci/environments/scenario010-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0dde6e18392f32e808c9943028083b5892f7384', 'message': 'Improve scn10 workers layouts for blocking calls\n\nDecrease NovaLibvirtNumPciePorts to 10 to see if that\ndecreases the network-vif attach times. Also increase\nNovaWorkers to 3 and reduce OctaviaWorkers from 4 to\n3 to align things and get rid of the HAProxy timeouts\nentirely.\n\nRelated-bug: #1895248\n\nChange-Id: Ic1bc2d4934922e51316b76f68cadf6fdf3954d28\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",3,813038,f0dde6e18392f32e808c9943028083b5892f7384,8,8,1,6926,,,0,"Improve scn10 workers layouts for blocking calls

Decrease NovaLibvirtNumPciePorts to 10 to see if that
decreases the network-vif attach times. Also increase
NovaWorkers to 3 and reduce OctaviaWorkers from 4 to
3 to align things and get rid of the HAProxy timeouts
entirely.

Related-bug: #1895248

Change-Id: Ic1bc2d4934922e51316b76f68cadf6fdf3954d28
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/813038/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario010-standalone.yaml'],1,f0dde6e18392f32e808c9943028083b5892f7384,, OctaviaWorkers: 3 NovaWorkers: 3 NovaLibvirtNumPciePorts: 10,,3,0
openstack%2Fpython-cinderclient~stable%2Fussuri~Ie00f068d7818e20683a0c242b51027d657382dd4,openstack/python-cinderclient,stable/ussuri,Ie00f068d7818e20683a0c242b51027d657382dd4,[stable-only] Add missing classes to cinderclient.v3,MERGED,2021-10-25 12:53:32.000000000,2021-11-09 09:07:00.000000000,2021-11-09 09:02:24.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-10-25 12:53:32.000000000', 'files': ['cinderclient/v3/quotas.py', 'cinderclient/v3/volume_transfers.py', 'cinderclient/tests/unit/v3/test_v2_compatibility.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/d5f10f430d7e269f5e59467d3ee547ca3a3a62ae', 'message': '[stable-only] Add missing classes to cinderclient.v3\n\nThe QuotaSet class was never added to cinderclient.v3.quotas, and\nthe VolumeTransfer class was never added to cinderclient.v3.\nvolume_transfers.\n\nNote: this fix is proposed directly to the stable branches, as the\nissue was fixed differently in master (Xena development) when the\ncinderclient.v2 classes were removed by change I335db5c1799e.\n\nChange-Id: Ie00f068d7818e20683a0c242b51027d657382dd4\nCloses-bug: #1938451\n(cherry picked from commit 579846c7a4446be98763540b1669f39464c2cab8)\n(cherry picked from commit c6f74bf1bceeaf8e5130868a39188894ff9b87cb)\n'}]",3,815243,d5f10f430d7e269f5e59467d3ee547ca3a3a62ae,9,3,1,5314,,,0,"[stable-only] Add missing classes to cinderclient.v3

The QuotaSet class was never added to cinderclient.v3.quotas, and
the VolumeTransfer class was never added to cinderclient.v3.
volume_transfers.

Note: this fix is proposed directly to the stable branches, as the
issue was fixed differently in master (Xena development) when the
cinderclient.v2 classes were removed by change I335db5c1799e.

Change-Id: Ie00f068d7818e20683a0c242b51027d657382dd4
Closes-bug: #1938451
(cherry picked from commit 579846c7a4446be98763540b1669f39464c2cab8)
(cherry picked from commit c6f74bf1bceeaf8e5130868a39188894ff9b87cb)
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/43/815243/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/v3/quotas.py', 'cinderclient/v3/volume_transfers.py', 'cinderclient/tests/unit/v3/test_v2_compatibility.py']",3,d5f10f430d7e269f5e59467d3ee547ca3a3a62ae,add-missing-classes-stable/victoria-stable/ussuri,"# Copyright (c) 2021 Red Hat, Inc # # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import importlib import inspect from cinderclient.tests.unit import utils import cinderclient.v2 as cv2 import cinderclient.v3 as cv3 class v2_CompatibilityTest(utils.TestCase): def test_all_v2_classes_are_v3_classes(self): CV2 = 'cinderclient.v2' CV3 = 'cinderclient.v3' v2_class_names = [] for mod_name, mod_data in inspect.getmembers(cv2, inspect.ismodule): mod = importlib.import_module(CV2 + '.' + mod_name) v2_class_names.extend([cls_name for cls_name, cls_data in inspect.getmembers(mod, inspect.isclass)]) v3_class_names = [] for mod_name, mod_data in inspect.getmembers(cv3, inspect.ismodule): mod = importlib.import_module(CV3 + '.' + mod_name) v3_class_names.extend([cls_name for cls_name, cls_data in inspect.getmembers(mod, inspect.isclass)]) for cls_name in v2_class_names: self.assertIn(cls_name, v3_class_names) ",,54,0
openstack%2Fpuppet-ceilometer~master~Idbd14e267b8759f7313a1a74db03f47e69a899aa,openstack/puppet-ceilometer,master,Idbd14e267b8759f7313a1a74db03f47e69a899aa,Do not hardcode default of [DEFAULT] http_timeout,MERGED,2021-11-08 14:22:29.000000000,2021-11-09 08:57:42.000000000,2021-11-09 08:57:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 14:22:29.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/ed000c0cda6b1b610c68e634e289dc2f001aa74d', 'message': 'Do not hardcode default of [DEFAULT] http_timeout\n\nCurrently the ceilometer::http_timeout parameter defaults to 600 but\nthis equals to the default value defined in ceilometer itself.\nThis change removes that hardcode in puppet-ceilometer and just let\nthe service default used.\n\nChange-Id: Idbd14e267b8759f7313a1a74db03f47e69a899aa\n'}]",0,817023,ed000c0cda6b1b610c68e634e289dc2f001aa74d,7,3,1,9816,,,0,"Do not hardcode default of [DEFAULT] http_timeout

Currently the ceilometer::http_timeout parameter defaults to 600 but
this equals to the default value defined in ceilometer itself.
This change removes that hardcode in puppet-ceilometer and just let
the service default used.

Change-Id: Idbd14e267b8759f7313a1a74db03f47e69a899aa
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/23/817023/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,ed000c0cda6b1b610c68e634e289dc2f001aa74d,,"# Defaults to $::os_service_default $http_timeout = $::os_service_default,","# Defaults to 600. $http_timeout = '600',",2,2
openstack%2Fpuppet-ceilometer~master~I8fc892301c06d9ff0cb4a687c02c35fcb6942d11,openstack/puppet-ceilometer,master,I8fc892301c06d9ff0cb4a687c02c35fcb6942d11,Add support for [DEFAULT] max_parallel_requests,MERGED,2021-11-08 14:22:29.000000000,2021-11-09 08:37:30.000000000,2021-11-09 08:33:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 14:22:29.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/max_parallel_requests-ef9a035e9ecf0951.yaml', 'spec/classes/ceilometer_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/b1ebc891f1bcf0396f55fd6ecc265deab89a9692', 'message': 'Add support for [DEFAULT] max_parallel_requests\n\nChange-Id: I8fc892301c06d9ff0cb4a687c02c35fcb6942d11\n'}]",0,817022,b1ebc891f1bcf0396f55fd6ecc265deab89a9692,8,3,1,9816,,,0,"Add support for [DEFAULT] max_parallel_requests

Change-Id: I8fc892301c06d9ff0cb4a687c02c35fcb6942d11
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/22/817022/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/max_parallel_requests-ef9a035e9ecf0951.yaml', 'spec/classes/ceilometer_init_spec.rb']",3,b1ebc891f1bcf0396f55fd6ecc265deab89a9692,," :max_parallel_requests => 64, it 'configures max_parallel_requests' do is_expected.to contain_ceilometer_config('DEFAULT/max_parallel_requests').with_value(params[:max_parallel_requests]) end ",,16,0
openstack%2Fpuppet-watcher~master~I7f550bbcc2f26ce1bbcc580ec1209f1ee2126b53,openstack/puppet-watcher,master,I7f550bbcc2f26ce1bbcc580ec1209f1ee2126b53,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 13:20:55.000000000,2021-11-09 08:12:41.000000000,2021-11-09 08:09:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 13:20:55.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-27faed5d04d1d5fa.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/da21235878994fc1726cdf6bf54ca477d87258ca', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: I7f550bbcc2f26ce1bbcc580ec1209f1ee2126b53\n""}]",3,816506,da21235878994fc1726cdf6bf54ca477d87258ca,14,3,1,9816,,,0,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I7f550bbcc2f26ce1bbcc580ec1209f1ee2126b53
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/06/816506/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-27faed5d04d1d5fa.yaml']",2,da21235878994fc1726cdf6bf54ca477d87258ca,apache-ssl,--- upgrade: - | Default value of the ``watcher::wsgi::apache::ssl`` parameter will be changed from ``true`` to ``false`` in a future release. Make sure the parameter is set to the desired value. ,,14,3
openstack%2Fironic-python-agent~master~I3486aa8c3331e56543eebc166e0543d7d2289b9a,openstack/ironic-python-agent,master,I3486aa8c3331e56543eebc166e0543d7d2289b9a,Add blockdev to re-read the partition table,ABANDONED,2021-11-01 16:36:27.000000000,2021-11-09 07:56:38.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-01 16:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/21b3a030bfdda46a229c06107cb15db9dcc27357', 'message': 'Add blockdev to re-read the partition table\n\nRe-reading the partition table can require an ioctl system call.\nAdd a call to blockdev to issue one.\n\nThis should fix an timing issue where the bootloader installation\nfails to mount the EFI partition from a whole disk image since it\nis not yet aware of the new partitions (observed with both, the\niscsi and the direct deploy interface).\n\nChange-Id: I3486aa8c3331e56543eebc166e0543d7d2289b9a\n'}, {'number': 2, 'created': '2021-11-03 11:51:02.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/fix-rescan-device-12e473be5c9616db.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/69bb7f0d32b78c70472fe596929f5c44dd5da94b', 'message': 'Add blockdev to re-read the partition table\n\nRe-reading the partition table can require an ioctl system call.\nAdd a call to blockdev to issue one.\n\nThis should fix an timing issue where the bootloader installation\nfails to mount the EFI partition from a whole disk image since it\nis not yet aware of the new partitions (observed with both, the\niscsi and the direct deploy interface).\n\nChange-Id: I3486aa8c3331e56543eebc166e0543d7d2289b9a\n'}]",4,816192,69bb7f0d32b78c70472fe596929f5c44dd5da94b,16,3,2,11292,,,0,"Add blockdev to re-read the partition table

Re-reading the partition table can require an ioctl system call.
Add a call to blockdev to issue one.

This should fix an timing issue where the bootloader installation
fails to mount the EFI partition from a whole disk image since it
is not yet aware of the new partitions (observed with both, the
iscsi and the direct deploy interface).

Change-Id: I3486aa8c3331e56543eebc166e0543d7d2289b9a
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/92/816192/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/fix-rescan-device-12e473be5c9616db.yaml']",3,21b3a030bfdda46a229c06107cb15db9dcc27357,blockdev_rereadpt,--- fixes: - | Fixes an issue where partitions are not visible due to a missing ioctl call to have the partition table re-read. ,,43,22
openstack%2Fcinder~master~I189b556e1ca643635faae5eb5382bd6caa68aa4c,openstack/cinder,master,I189b556e1ca643635faae5eb5382bd6caa68aa4c,[Pure Storage] Add check for NVMe-FC capable array,MERGED,2021-10-28 13:56:56.000000000,2021-11-09 07:30:36.000000000,2021-11-08 19:53:30.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-10-28 13:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b551591c82dea7733700e770df00f03c093b625', 'message': '[Pure Storage] Add check for NVMe-FC capable array\n\nChange-Id: I189b556e1ca643635faae5eb5382bd6caa68aa4c\n'}, {'number': 2, 'created': '2021-10-29 15:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/348216a1a8a8bb78e9cc5262a6d3934e72164b95', 'message': '[Pure Storage] Add check for NVMe-FC capable array\n\nChange-Id: I189b556e1ca643635faae5eb5382bd6caa68aa4c\n'}, {'number': 3, 'created': '2021-11-02 22:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f0a14f0420ccfe0f273eff2a2b9bd416d59dec7', 'message': '[Pure Storage] Add check for NVMe-FC capable array\n\nChange-Id: I189b556e1ca643635faae5eb5382bd6caa68aa4c\n'}, {'number': 4, 'created': '2021-11-04 13:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/62042571ccee8d877594437164e727531ea4d5fb', 'message': '[Pure Storage] Add check for NVMe-FC capable array\n\nRecent arrays can handle both traditional FC and NVMe-FC ports.  The FC (scsi)\ndriver should not be touching NVMe-FC ports because that could create zones\nthrough FCZM that cross both FC types, so this check makes sure the driver\nonly uses wwns that do not have an associated nqn.\n\nChange-Id: I189b556e1ca643635faae5eb5382bd6caa68aa4c\n'}, {'number': 5, 'created': '2021-11-04 13:20:56.000000000', 'files': ['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure-check-nvmefc-ports-cf2aec3952d8192f.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/25f2e27b21d775709edc1958e2269d4df855dd36', 'message': '[Pure Storage] Add check for NVMe-FC capable array\n\nRecent arrays can handle both traditional FC and NVMe-FC ports.\nThe FC (scsi) driver should not be touching NVMe-FC ports because\nthat could create zones through FCZM that cross both FC types,\nso this check makes sure the driver only uses wwns that do not\nhave an associated nqn.\n\nChange-Id: I189b556e1ca643635faae5eb5382bd6caa68aa4c\n'}]",24,815848,25f2e27b21d775709edc1958e2269d4df855dd36,129,5,5,13425,,,0,"[Pure Storage] Add check for NVMe-FC capable array

Recent arrays can handle both traditional FC and NVMe-FC ports.
The FC (scsi) driver should not be touching NVMe-FC ports because
that could create zones through FCZM that cross both FC types,
so this check makes sure the driver only uses wwns that do not
have an associated nqn.

Change-Id: I189b556e1ca643635faae5eb5382bd6caa68aa4c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/815848/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure-check-nvmefc-ports-cf2aec3952d8192f.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py']",3,3b551591c82dea7733700e770df00f03c093b625,check_for_nvmefc," ""nqn"": None, ""nqn"": None,",,11,1
openstack%2Fpuppet-ceilometer~master~I80290f4388e9bb3eb5542a9d1e70ccea81698905,openstack/puppet-ceilometer,master,I80290f4388e9bb3eb5542a9d1e70ccea81698905,"Remove unused, outdated unit test cases",MERGED,2021-11-08 14:27:41.000000000,2021-11-09 07:29:52.000000000,2021-11-09 07:29:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 14:27:41.000000000', 'files': ['spec/classes/ceilometer_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/31b5d7f00be5510576449328659b499f1f655276', 'message': 'Remove unused, outdated unit test cases\n\nThese test cases were added when the metering_secret parameter was\ndeprecated in favor of the new telemetry_secret parameter[1], but were\nnot enabled properly.\n\nThe deprecated metering_secret parameter was later removed[2] but\nthese ineffective test cases were not removed at that time.\n\n[1] 4600d4135ac1bef01f7a7dd4b12582a0c8db6b50\n[2] f28830d5aae8021215026bdf2f63a8713b7deeb1\n\nChange-Id: I80290f4388e9bb3eb5542a9d1e70ccea81698905\n'}]",0,817027,31b5d7f00be5510576449328659b499f1f655276,7,3,1,9816,,,0,"Remove unused, outdated unit test cases

These test cases were added when the metering_secret parameter was
deprecated in favor of the new telemetry_secret parameter[1], but were
not enabled properly.

The deprecated metering_secret parameter was later removed[2] but
these ineffective test cases were not removed at that time.

[1] 4600d4135ac1bef01f7a7dd4b12582a0c8db6b50
[2] f28830d5aae8021215026bdf2f63a8713b7deeb1

Change-Id: I80290f4388e9bb3eb5542a9d1e70ccea81698905
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/27/817027/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ceilometer_init_spec.rb'],1,31b5d7f00be5510576449328659b499f1f655276,,," # Cleanup in Ocata shared_examples_for 'using old metering_secret param' do context ""with old metering_secret param it uses telemetry_secret instead"" do before { params.merge!( :metering_secret => 'broncos', :telemetry_secret => 'metering-s3cr3t', ) } it { is_expected.to contain_ceilometer_config('publisher/telemetry_secret').with_value('metering-s3cr3t') } end context ""with old metering_secret param set and telemetry_secret unset"" do before { params.merge!( :metering_secret => 'broncos', :telemetry_secret => nil, ) } it { is_expected.to contain_ceilometer_config('publisher/telemetry_secret').with_value('broncos') } end end ",0,19
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Ic71545d786b851e7d3f3ce8502e913b81fc70059,openstack/puppet-tripleo,stable/wallaby,Ic71545d786b851e7d3f3ce8502e913b81fc70059,Add support for share backend availability zones,MERGED,2021-11-04 18:01:37.000000000,2021-11-09 06:38:36.000000000,2021-11-09 06:32:40.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 18:01:37.000000000', 'files': ['manifests/profile/base/manila/share.pp', 'spec/classes/tripleo_profile_base_manila_share_spec.rb', 'releasenotes/notes/add-manila-backend-az-parameters-de4d7e84fc65a3ed.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/66936edd3e44b47c9b8e15a74a43aa58f1d2dc2e', 'message': 'Add support for share backend availability zones\n\nAdd the ability to override the ""backend_availability_zone"" parameter\nin every manila share backend.\n\n(to wallaby)\nConflicts:\n\tmanifests/profile/base/manila/share.pp\n\nChange-Id: Ic71545d786b851e7d3f3ce8502e913b81fc70059\n(cherry picked from commit 65e7e338f4872f43f35d2ba57666499ce45dbcfe)\n'}]",2,816732,66936edd3e44b47c9b8e15a74a43aa58f1d2dc2e,10,3,1,29632,,,0,"Add support for share backend availability zones

Add the ability to override the ""backend_availability_zone"" parameter
in every manila share backend.

(to wallaby)
Conflicts:
	manifests/profile/base/manila/share.pp

Change-Id: Ic71545d786b851e7d3f3ce8502e913b81fc70059
(cherry picked from commit 65e7e338f4872f43f35d2ba57666499ce45dbcfe)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/32/816732/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/manila/share.pp', 'spec/classes/tripleo_profile_base_manila_share_spec.rb', 'releasenotes/notes/add-manila-backend-az-parameters-de4d7e84fc65a3ed.yaml']",3,66936edd3e44b47c9b8e15a74a43aa58f1d2dc2e,,"--- features: - | Add the ability to override the ""backend_availability_zone"" parameter in every Manila share backend. ",,20,0
openstack%2Fpython-tripleoclient~master~I5941bf9948c5f17e7406d34c21b8de9bd174c063,openstack/python-tripleoclient,master,I5941bf9948c5f17e7406d34c21b8de9bd174c063,Ensure we're using the stackname for the inventory,MERGED,2021-11-08 12:26:12.000000000,2021-11-09 06:38:16.000000000,2021-11-09 06:32:37.000000000,"[{'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 12:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ed7769e419caa55b007367a1fecca0827733f779', 'message': 'Ensure we\'re using the stackname for the inventory\n\nUntil now, the inventory path used by the overcloud_delete.py was wrong,\nsince it wasn\'t using the ""stackname"", leading to a wrong\n/home/stack/config-download/{}/tripleo-ansible-inventory.yaml path.\n\nWhile it\'s not a big issue with non-TLS-e deploy, it becomes an actual\nproblem when we involve FreeIPA and TLS-e, since the deletetion won\'t\nremove the nodes nor services from FreeIPA.\n\nCloses-Bug: #1950155\n\nChange-Id: I5941bf9948c5f17e7406d34c21b8de9bd174c063\n'}, {'number': 2, 'created': '2021-11-08 13:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b6116dfb62aecde653acf7292a5356a8bb96cf35', 'message': 'Ensure we\'re using the stackname for the inventory\n\nUntil now, the inventory path used by the overcloud_delete.py was wrong,\nsince it wasn\'t using the ""stackname"", leading to a wrong\n/home/stack/config-download/{}/tripleo-ansible-inventory.yaml path.\n\nWhile it\'s not a big issue with non-TLS-e deploy, it becomes an actual\nproblem when we involve FreeIPA and TLS-e, since the deletetion won\'t\nremove the nodes nor services from FreeIPA.\n\nCloses-Bug: #1950155\n\nChange-Id: I5941bf9948c5f17e7406d34c21b8de9bd174c063\n'}, {'number': 3, 'created': '2021-11-08 13:14:59.000000000', 'files': ['tripleoclient/tests/v2/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/v2/overcloud_delete.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9fd913f57cd5584c65c069af90037d72aa9db7cf', 'message': 'Ensure we\'re using the stackname for the inventory\n\nUntil now, the inventory path used by the overcloud_delete.py was wrong,\nsince it wasn\'t using the ""stackname"", leading to a wrong\n/home/stack/config-download/{}/tripleo-ansible-inventory.yaml path.\n\nWhile it\'s not a big issue with non-TLS-e deploy, it becomes an actual\nproblem when we involve FreeIPA and TLS-e, since the deletion won\'t\nremove the nodes nor services from FreeIPA.\n\nCloses-Bug: #1950155\n\nChange-Id: I5941bf9948c5f17e7406d34c21b8de9bd174c063\n'}]",0,816998,9fd913f57cd5584c65c069af90037d72aa9db7cf,14,5,3,28223,,,0,"Ensure we're using the stackname for the inventory

Until now, the inventory path used by the overcloud_delete.py was wrong,
since it wasn't using the ""stackname"", leading to a wrong
/home/stack/config-download/{}/tripleo-ansible-inventory.yaml path.

While it's not a big issue with non-TLS-e deploy, it becomes an actual
problem when we involve FreeIPA and TLS-e, since the deletion won't
remove the nodes nor services from FreeIPA.

Closes-Bug: #1950155

Change-Id: I5941bf9948c5f17e7406d34c21b8de9bd174c063
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/98/816998/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v2/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/v2/overcloud_delete.py']",2,ed7769e419caa55b007367a1fecca0827733f779,overcloud_delete/inventory_path," constants.ANSIBLE_INVENTORY.format(parsed_args.stack),"," constants.ANSIBLE_INVENTORY,",3,3
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Idf27c14b31dc077ef9a0e567bd502ed6842bd52b,openstack/tripleo-heat-templates,stable/wallaby,Idf27c14b31dc077ef9a0e567bd502ed6842bd52b,Clear up confusion on cinder's default volume type,MERGED,2021-11-08 15:39:04.000000000,2021-11-09 06:38:15.000000000,2021-11-09 06:32:33.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-08 15:39:04.000000000', 'files': ['releasenotes/notes/cinder-clarify-default-volume-type-c77e7a7ddafdf172.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f10e5f2e6e43c776eef51173bc0695e8c928cdfb', 'message': 'Clear up confusion on cinder\'s default volume type\n\nThis patch clears up confusion resulting from both tripleo and\ncinder creating ""default"" volume types. The quotes indicate subtle\ndifferences in how the term is used, and how it causes confusion for\ncloud users.\n\nTripleO added support for configuring cinder\'s default volume type,\nand later cinder itself added its own support for a default volume\ntype. The cinder project\'s motivation was to provide a volume type\nfor all volumes, even when cloud administrators hadn\'t defined one.\nBut from tripleo\'s perspective, cinder\'s volume type was redundant\nbecause tripleo *does* define a default volume type.\n\nThe confusion for cloud users is that cinder chose ""__DEFAULT__"" for\nthe name of the volume type, and ""Default Volume Type"" for its\ndescription. This is misleading because tripleo\'s CinderDefaultVolumeType\nis the actual default volume type.\n\nClearing up the confusion depends on whether the overcloud is a green\nfield deployment where no volumes have been created, or a brown field\ndeployment where cinder\'s __DEFAULT__ type may be in use. If no volumes\nexist then it\'s safe for tripleo to simply delete cinder\'s __DEFAULT__\ntype. Otherwise, the __DEFAULT__ type\'s description is updated so that\nit indicates the actual default type is the one established by the\nCinderDefaultVolumeType parameter.\n\nLastly, CinderDefaultVolumeType is now constrained to prevent it being\nset to an empty string. That should never happen, so this is just a\nsafety net.\n\nRelated-Bug: #1782217\nChange-Id: Idf27c14b31dc077ef9a0e567bd502ed6842bd52b\n(cherry picked from commit 4bf4866030c78c5f9343eb0084d72c4a03beefa7)\n'}]",0,817039,f10e5f2e6e43c776eef51173bc0695e8c928cdfb,9,3,1,21129,,,0,"Clear up confusion on cinder's default volume type

This patch clears up confusion resulting from both tripleo and
cinder creating ""default"" volume types. The quotes indicate subtle
differences in how the term is used, and how it causes confusion for
cloud users.

TripleO added support for configuring cinder's default volume type,
and later cinder itself added its own support for a default volume
type. The cinder project's motivation was to provide a volume type
for all volumes, even when cloud administrators hadn't defined one.
But from tripleo's perspective, cinder's volume type was redundant
because tripleo *does* define a default volume type.

The confusion for cloud users is that cinder chose ""__DEFAULT__"" for
the name of the volume type, and ""Default Volume Type"" for its
description. This is misleading because tripleo's CinderDefaultVolumeType
is the actual default volume type.

Clearing up the confusion depends on whether the overcloud is a green
field deployment where no volumes have been created, or a brown field
deployment where cinder's __DEFAULT__ type may be in use. If no volumes
exist then it's safe for tripleo to simply delete cinder's __DEFAULT__
type. Otherwise, the __DEFAULT__ type's description is updated so that
it indicates the actual default type is the one established by the
CinderDefaultVolumeType parameter.

Lastly, CinderDefaultVolumeType is now constrained to prevent it being
set to an empty string. That should never happen, so this is just a
safety net.

Related-Bug: #1782217
Change-Id: Idf27c14b31dc077ef9a0e567bd502ed6842bd52b
(cherry picked from commit 4bf4866030c78c5f9343eb0084d72c4a03beefa7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/817039/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cinder-clarify-default-volume-type-c77e7a7ddafdf172.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml']",2,f10e5f2e6e43c776eef51173bc0695e8c928cdfb,," constraints: - allowed_pattern: ""[a-zA-Z0-9]+"" description: > The default volume type must be at least 1 character and contain only letters and numbers. - name: Manage Cinder's default volume type eval $(openstack volume type show __DEFAULT__ -f shell -c id -c description) if [ -n ""$id"" ]; then vols=$(openstack volume list -f value -c ID) tripleo_descr=""For internal use, '{{ default_volume_type }}' is the default volume type"" if [ -z ""$vols"" ]; then openstack volume type delete $id elif [ ""$description"" != ""$tripleo_descr"" ]; then openstack volume type set $id --description ""$tripleo_descr"" fi fi", - name: Manage Cinder Volume Type,28,1
openstack%2Fpuppet-tripleo~stable%2Ftrain~Icf8b6ae0a94edd4bd3dd36ff3bd006112a63c075,openstack/puppet-tripleo,stable/train,Icf8b6ae0a94edd4bd3dd36ff3bd006112a63c075,Run TripleO jobs on CentOS8 instead of CentOS7,MERGED,2021-09-17 10:22:28.000000000,2021-11-09 06:32:42.000000000,2021-11-09 06:32:42.000000000,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-17 10:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9e83e7273924f6a3747a612d2cf1cc9df97c2363', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Icf8b6ae0a94edd4bd3dd36ff3bd006112a63c075\n'}, {'number': 2, 'created': '2021-09-17 10:23:54.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5fec457e468037244be429588640797cebe34019', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Icf8b6ae0a94edd4bd3dd36ff3bd006112a63c075\n'}]",0,809560,5fec457e468037244be429588640797cebe34019,14,5,2,20182,,,0,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: Icf8b6ae0a94edd4bd3dd36ff3bd006112a63c075
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/60/809560/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,9e83e7273924f6a3747a612d2cf1cc9df97c2363,c7-to-c8-stable/train,"<<<<<<< HEAD (2f68f2 Merge ""Set memcached server list from memcached_node_names"" )======= - tripleo-ci-centos-8-scenario007-multinode-oooq-container: >>>>>>> CHANGE (cfc5ae Run TripleO jobs on CentOS8 instead of CentOS7)",,4,0
openstack%2Ftripleo-quickstart-extras~master~I26c52aac0285377c3320280bf745b4e0a678f92f,openstack/tripleo-quickstart-extras,master,I26c52aac0285377c3320280bf745b4e0a678f92f,Don't install mock in tqe,NEW,2021-10-13 01:39:11.000000000,2021-11-09 06:15:17.000000000,,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-10-13 01:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/da02818eb2171c4650f1aadfd7b2767dcf4c2991', 'message': ""Don't install mock in tqe\n\nIn patch[1] we moved to using unittest.mock instead of mock in some\nplaces in tqe. We don't need to install mock module anymore.\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/734570\n\nChange-Id: I26c52aac0285377c3320280bf745b4e0a678f92f\n""}, {'number': 2, 'created': '2021-11-08 07:41:49.000000000', 'files': ['roles/validate-tempest/files/bugcheck/test-requirements.txt', 'roles/validate-tempest/files/tempestmail/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0a006e647249c04db6bb2762656241d9e59f92ce', 'message': ""Don't install mock in tqe\n\nIn patch[1] we moved to using unittest.mock instead of mock in some\nplaces in tqe. We don't need to install mock module anymore.\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/734570\n\nChange-Id: I26c52aac0285377c3320280bf745b4e0a678f92f\n""}]",6,813723,0a006e647249c04db6bb2762656241d9e59f92ce,17,7,2,29775,,,0,"Don't install mock in tqe

In patch[1] we moved to using unittest.mock instead of mock in some
places in tqe. We don't need to install mock module anymore.

[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/734570

Change-Id: I26c52aac0285377c3320280bf745b4e0a678f92f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/23/813723/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validate-tempest/files/bugcheck/test-requirements.txt', 'roles/build-test-packages/tasks/main.yml', 'roles/validate-tempest/files/tempestmail/test-requirements.txt']",3,da02818eb2171c4650f1aadfd7b2767dcf4c2991,,,mock==2.0.0,0,3
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ia765c2c2ea548a1dcd20f592eda8741f40a1cf16,openstack/python-tripleoclient,stable/wallaby,Ia765c2c2ea548a1dcd20f592eda8741f40a1cf16,"Refactor --stack-only, --setup-only, --config-download-only",MERGED,2021-10-27 18:00:23.000000000,2021-11-09 05:38:17.000000000,2021-11-09 05:35:58.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-10-27 18:00:23.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_upgrade.py', 'releasenotes/notes/refactor-only-cli-args-cb70ed8ba8b166a9.yaml', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bdfcb56dd350abf5c7aa54259897fe52b13630d0', 'message': 'Refactor --stack-only, --setup-only, --config-download-only\n\nRefactors the --stack-only, --setup-only, --config-download-only, to work\nwith ephemeral-heat. The arguments now do the expected behavior and work\nwith how they previously worked prior to ephemeral heat.\n\n--stack-only: create the stack, download the config. no overcloud node\n              changes\n--setup-only: ssh admin authorization setup.\n--config-download-only: run config-download playbook(s) to configure the\n                        overcloud.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: Ie47abe2d7c5d7891aceb88d9008d45d7922dea15\nChange-Id: Ia765c2c2ea548a1dcd20f592eda8741f40a1cf16\n(cherry picked from commit 1cd6f2829fae1d400d424070fc62165316cf5074)\n'}]",9,815721,bdfcb56dd350abf5c7aa54259897fe52b13630d0,39,4,1,7144,,,0,"Refactor --stack-only, --setup-only, --config-download-only

Refactors the --stack-only, --setup-only, --config-download-only, to work
with ephemeral-heat. The arguments now do the expected behavior and work
with how they previously worked prior to ephemeral heat.

--stack-only: create the stack, download the config. no overcloud node
              changes
--setup-only: ssh admin authorization setup.
--config-download-only: run config-download playbook(s) to configure the
                        overcloud.

Signed-off-by: James Slagle <jslagle@redhat.com>
Depends-On: Ie47abe2d7c5d7891aceb88d9008d45d7922dea15
Change-Id: Ia765c2c2ea548a1dcd20f592eda8741f40a1cf16
(cherry picked from commit 1cd6f2829fae1d400d424070fc62165316cf5074)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/21/815721/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_upgrade.py', 'releasenotes/notes/refactor-only-cli-args-cb70ed8ba8b166a9.yaml', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",7,bdfcb56dd350abf5c7aa54259897fe52b13630d0,," self.orchestration_client = utils.launch_heat(self.heat_launcher) help=_('DEPRECATED: Run deployment via config-download mechanism. ' 'This is now the default, and this CLI options has no ' 'effect.') action='store_true', dest='stack_only', 'the stack and download the config. No software ' 'configuration, setup, or any changes will be applied ' 'to overcloud nodes.') help=_('Disable the stack create and setup, and only run the ' 'configuration. Requires that config-download setup ' 'was previously completed, either with --stack-only ' 'and --setup-only or a full deployment') help=_('Disable the stack and config-download workflow to apply ' 'the software configuration and only run the setup to ' 'enable ssh connectivity.') ephemeral_heat = True else: ephemeral_heat = False # full_deploy means we're doing a full deployment # e.g., no --*-only args were passed full_deploy = not (parsed_args.stack_only or parsed_args.setup_only or parsed_args.config_download_only) # do_stack is True when: # --stack-only # a full deployment do_stack = (parsed_args.stack_only or full_deploy) # do_setup is True when: # --setup-only OR # a full deployment do_setup = parsed_args.setup_only or full_deploy # do_config_download is True when: # --config-download-only OR # a full deployment do_config_download = parsed_args.config_download_only or full_deploy if ephemeral_heat and do_stack: self.setup_ephemeral_heat(parsed_args) config_download_dir = parsed_args.output_dir or \ os.path.join(self.working_dir, ""config-download"") try: if do_stack: # Download config config_dir = parsed_args.config_dir or config_download_dir config_type = parsed_args.config_type preserve_config_dir = parsed_args.preserve_config_dir key_file = utils.get_key(parsed_args.stack) extra_vars = { 'plan': parsed_args.stack, 'config_dir': config_dir, 'preserve_config': preserve_config_dir, 'output_dir': config_download_dir, 'ansible_ssh_user': parsed_args.overcloud_ssh_user, 'ansible_ssh_private_key_file': key_file, 'ssh_network': parsed_args.overcloud_ssh_network, 'python_interpreter': parsed_args.deployment_python_interpreter, } if parsed_args.config_type: extra_vars['config_type'] = config_type playbook = 'cli-config-download.yaml' ansible_work_dir = os.path.join( self.working_dir, os.path.splitext(playbook)[0]) utils.run_ansible_playbook( playbook='cli-config-download.yaml', inventory='localhost,', workdir=ansible_work_dir, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, reproduce_command=True, verbosity=utils.playbook_verbosity(self=self), extra_vars=extra_vars ) if stack: # Force fetching of attributes stack.get() overcloud_endpoint = utils.get_overcloud_endpoint(stack) horizon_url = deployment.get_horizon_url( stack=stack.stack_name, heat_type=parsed_args.heat_type, working_dir=self.working_dir) rc_params = utils.get_rc_params( self.orchestration_client, parsed_args.stack) # For backwards compatibility, we will also write overcloudrc # to $HOME and then self.working_dir. old_rcpath = deployment.create_overcloudrc( stack, rc_params, parsed_args.no_proxy) rcpath = deployment.create_overcloudrc( stack, rc_params, parsed_args.no_proxy, self.working_dir) if do_setup: deployment.get_hosts_and_enable_ssh_admin( parsed_args.stack, parsed_args.overcloud_ssh_network, parsed_args.overcloud_ssh_user, self.get_key_pair(parsed_args), parsed_args.overcloud_ssh_port_timeout, self.working_dir, verbosity=utils.playbook_verbosity(self=self), heat_type=parsed_args.heat_type if do_config_download: self.log.info(""Deploying overcloud configuration"") parsed_args.stack, status='DEPLOYING', working_dir=self.working_dir ) deployment_options = {} if parsed_args.deployment_python_interpreter: deployment_options['ansible_python_interpreter'] = \ parsed_args.deployment_python_interpreter deployment.make_config_download_dir(config_download_dir, parsed_args.stack) deployment.config_download( self.log, self.clients, parsed_args.stack, parsed_args.overcloud_ssh_network, config_download_dir, parsed_args.override_ansible_cfg, timeout=parsed_args.overcloud_ssh_port_timeout, verbosity=utils.playbook_verbosity(self=self), deployment_options=deployment_options, in_flight_validations=parsed_args.inflight, deployment_timeout=timeout, tags=parsed_args.tags, skip_tags=parsed_args.skip_tags, limit_hosts=utils.playbook_limit_parse( limit_nodes=parsed_args.limit ), forks=parsed_args.ansible_forks, denyed_hostnames=utils.get_stack_saved_output_item( 'BlacklistedHostnames', self.working_dir)) deployment.set_deployment_status( parsed_args.stack, status=deploy_status, working_dir=self.working_dir) if (stack or parsed_args.force_postconfig if do_config_download: print(""Overcloud Endpoint: {0}"".format(overcloud_endpoint)) print(""Overcloud Horizon Dashboard URL: {0}"".format( horizon_url)) print(""Overcloud rc file: {} and {}"".format( rcpath, old_rcpath)) print(""Overcloud Deployed {0}"".format(deploy_message))"," restore_db = (parsed_args.setup_only or parsed_args.config_download_only) self.orchestration_client = \ utils.launch_heat(self.heat_launcher, restore_db=restore_db) help=_('Run deployment via config-download mechanism. This is ' 'now the default, and this CLI options may be removed in ' 'the future.') action='store_false', dest='config_download', 'the stack and associated OpenStack resources. No ' 'software configuration will be applied.') help=_('Disable the stack create/update, and only run the ' 'configuration.') help=_('option will automate the setup and download steps ' 'required to prepare the environment for manual ' 'ansible execution.') self.setup_ephemeral_heat(parsed_args) else: try: if not (parsed_args.config_download_only or parsed_args.setup_only): # Get a new copy of the stack after stack update/create. If it # was a create then the previous stack object would be None. stack = utils.get_stack( self.orchestration_client, parsed_args.stack) # Force fetching of attributes stack.get() overcloud_endpoint = utils.get_overcloud_endpoint(stack) horizon_url = deployment.get_horizon_url( stack=stack.stack_name, heat_type=parsed_args.heat_type, working_dir=self.working_dir) rc_params = utils.get_rc_params( self.orchestration_client, parsed_args.stack) # For backwards compatibility, we will also write overcloudrc to # $HOME and then self.working_dir. old_rcpath = deployment.create_overcloudrc( stack, rc_params, parsed_args.no_proxy) rcpath = deployment.create_overcloudrc( stack, rc_params, parsed_args.no_proxy, self.working_dir) config_download_dir = parsed_args.output_dir or \ os.path.join(self.working_dir, ""config-download"") if parsed_args.config_download: self.log.info(""Deploying overcloud configuration"") deployment.set_deployment_status( stack.stack_name, status='DEPLOYING', working_dir=self.working_dir if not parsed_args.config_download_only: deployment.get_hosts_and_enable_ssh_admin( parsed_args.stack, parsed_args.overcloud_ssh_network, parsed_args.overcloud_ssh_user, self.get_key_pair(parsed_args), parsed_args.overcloud_ssh_port_timeout, self.working_dir, verbosity=utils.playbook_verbosity(self=self), heat_type=parsed_args.heat_type ) if not parsed_args.setup_only: deployment_options = {} if parsed_args.deployment_python_interpreter: deployment_options['ansible_python_interpreter'] = \ parsed_args.deployment_python_interpreter deployment.make_config_download_dir(config_download_dir, parsed_args.stack) deployment.config_download( self.log, self.clients, parsed_args.stack, parsed_args.overcloud_ssh_network, config_download_dir, parsed_args.override_ansible_cfg, timeout=parsed_args.overcloud_ssh_port_timeout, verbosity=utils.playbook_verbosity(self=self), deployment_options=deployment_options, in_flight_validations=parsed_args.inflight, deployment_timeout=timeout, tags=parsed_args.tags, skip_tags=parsed_args.skip_tags, limit_hosts=utils.playbook_limit_parse( limit_nodes=parsed_args.limit ), forks=parsed_args.ansible_forks, denyed_hostnames=utils.get_stack_saved_output_item( 'BlacklistedHostnames', self.working_dir)) stack.stack_name, status=deploy_status, working_dir=self.working_dir) elif not parsed_args.config_download or parsed_args.setup_only: # Download config config_dir = parsed_args.config_dir or config_download_dir config_type = parsed_args.config_type preserve_config_dir = parsed_args.preserve_config_dir extra_vars = { 'plan': stack.stack_name, 'config_dir': config_dir, 'preserve_config': preserve_config_dir } if parsed_args.config_type: extra_vars['config_type'] = config_type with utils.TempDirs() as tmp: utils.run_ansible_playbook( playbook='cli-config-download-export.yaml', inventory='localhost,', workdir=tmp, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=utils.playbook_verbosity(self=self), extra_vars=extra_vars ) if (stack_create or parsed_args.force_postconfig print(""Overcloud Endpoint: {0}"".format(overcloud_endpoint)) print(""Overcloud Horizon Dashboard URL: {0}"".format(horizon_url)) print(""Overcloud rc file: {} and {}"".format( rcpath, old_rcpath)) print(""Overcloud Deployed {0}"".format(deploy_message))",165,152
openstack%2Ftripleo-ansible~stable%2Fwallaby~I3dc66f15e06d219a1bdfa18f69a720ed08878643,openstack/tripleo-ansible,stable/wallaby,I3dc66f15e06d219a1bdfa18f69a720ed08878643,Remove cli-config-download-export.yaml,MERGED,2021-10-28 17:19:47.000000000,2021-11-09 05:36:00.000000000,2021-11-09 05:36:00.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-28 17:19:47.000000000', 'files': ['tripleo_ansible/playbooks/cli-config-download-export.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c80c81ead60a6e318d7694b7321e4c547524384b', 'message': 'Remove cli-config-download-export.yaml\n\nWith the refactoring of the --*-only parameters in tripleoclient, the\ncli-config-download-export.yaml playbook can be removed as it is no\nlonger used. The cli-config-download.yaml playbook is used by all code\npaths in tripleoclient now.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: Ia765c2c2ea548a1dcd20f592eda8741f40a1cf16\nChange-Id: I3dc66f15e06d219a1bdfa18f69a720ed08878643\n(cherry picked from commit 3373930748cf4336dfdf10df50470f16cc7ab379)\n'}]",0,815892,c80c81ead60a6e318d7694b7321e4c547524384b,11,3,1,7144,,,0,"Remove cli-config-download-export.yaml

With the refactoring of the --*-only parameters in tripleoclient, the
cli-config-download-export.yaml playbook can be removed as it is no
longer used. The cli-config-download.yaml playbook is used by all code
paths in tripleoclient now.

Signed-off-by: James Slagle <jslagle@redhat.com>
Depends-On: Ia765c2c2ea548a1dcd20f592eda8741f40a1cf16
Change-Id: I3dc66f15e06d219a1bdfa18f69a720ed08878643
(cherry picked from commit 3373930748cf4336dfdf10df50470f16cc7ab379)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/92/815892/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-config-download-export.yaml'],1,c80c81ead60a6e318d7694b7321e4c547524384b,,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Config Download Export connection: ""{{ (tripleo_target_host is defined) | ternary('ssh', 'local') }}"" hosts: ""{{ tripleo_target_host | default('localhost') }}"" remote_user: ""{{ tripleo_target_user | default(lookup('env', 'USER')) }}"" gather_facts: ""{{ (tripleo_target_host is defined) | ternary(true, false) }}"" any_errors_fatal: true vars: plan: overcloud config_type: null preserve_config: true pre_tasks: - name: Set config_dir set_fact: config_dir: ""{{ lookup('env', 'HOME') ~ '/tripleo-config' }}"" when: config_dir is not defined - name: set work_dir set_fact: work_dir: ""{{ config_dir ~ '/' ~ plan }}"" tasks: - name: Clean work_dir file: path: ""{{ work_dir }}"" state: absent when: not preserve_config | bool - name: Create config dir if does not exist file: path: ""{{ work_dir }}"" state: directory - name: Get config tripleo_config_download: plan: ""{{ plan }}"" config_type: ""{{ config_type }}"" work_dir: ""{{ work_dir }}"" download: true ",0,56
openstack%2Ftempest~master~I0b29fe59e238f4c723a15271117e6cfb072e648a,openstack/tempest,master,I0b29fe59e238f4c723a15271117e6cfb072e648a,Reactivate image before deletion,MERGED,2021-03-08 07:51:46.000000000,2021-11-09 05:06:51.000000000,2021-11-09 05:04:28.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30674}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-03-08 07:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d0ffc94895df521ec74bed8ff8137e1c40b03e21', 'message': 'Reactivate image before deletion\n\nNormal users should not be able to delete disabled images (see [1])\nas this can lead to inconsistencies between database and storage\nbackend.\n\nTempest relies on being able to do this in some tests.\n\n[1]: https://bugs.launchpad.net/glance/+bug/1917469\n\nRelated-Bug: 1917469\nChange-Id: I0b29fe59e238f4c723a15271117e6cfb072e648a\n'}, {'number': 2, 'created': '2021-03-09 09:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/810244c124f22ba2dec108b91a03acd9dd6d55e4', 'message': 'Reactivate image before deletion\n\nNormal users should not be able to delete disabled images (see [1])\nas this can lead to inconsistencies between database and storage\nbackend.\n\nTempest relies on being able to do this in some tests.\n\n[1]: https://bugs.launchpad.net/glance/+bug/1917469\n\nRelated-Bug: 1917469\nChange-Id: I0b29fe59e238f4c723a15271117e6cfb072e648a\n'}, {'number': 3, 'created': '2021-06-21 11:59:47.000000000', 'files': ['tempest/api/volume/test_volumes_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d05536b958a1ed8a786ed4c006992b4006b996d4', 'message': 'Reactivate image before deletion\n\nNormal users should not be able to delete disabled images (see [1])\nas this can lead to inconsistencies between database and storage\nbackend.\n\nTempest relies on being able to do this in some tests.\n\n[1]: https://bugs.launchpad.net/glance/+bug/1917469\n\nRelated-Bug: 1917469\nChange-Id: I0b29fe59e238f4c723a15271117e6cfb072e648a\n'}]",10,779168,d05536b958a1ed8a786ed4c006992b4006b996d4,30,5,3,29074,,,0,"Reactivate image before deletion

Normal users should not be able to delete disabled images (see [1])
as this can lead to inconsistencies between database and storage
backend.

Tempest relies on being able to do this in some tests.

[1]: https://bugs.launchpad.net/glance/+bug/1917469

Related-Bug: 1917469
Change-Id: I0b29fe59e238f4c723a15271117e6cfb072e648a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/68/779168/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_negative.py'],1,d0ffc94895df521ec74bed8ff8137e1c40b03e21,reactivate_image_before_deletion," self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.images_client.reactivate_image, image['id'])",,2,0
openstack%2Ftempest~master~I4b074dca58960b2622dde15ad7d9a91b3ba0c096,openstack/tempest,master,I4b074dca58960b2622dde15ad7d9a91b3ba0c096,zuul: Add a CentOS 8 stream job to integrated-gate-compute,MERGED,2021-06-23 09:50:26.000000000,2021-11-09 04:45:09.000000000,2021-11-09 04:36:47.000000000,"[{'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-06-23 09:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7d05ca57a2e3d240b4a11e2523d7f3dd7a28efe7', 'message': 'zuul: Add a full CentOS 8 stream job to the check and gate queues\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the relase:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nGiven the above this change adds a simple full tempest job using CentOS\n8 stream to both the check and gate queues.\n\nChange-Id: I4b074dca58960b2622dde15ad7d9a91b3ba0c096\n'}, {'number': 2, 'created': '2021-06-23 10:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0b3b1adb1d59aee48bc948cf5bcfb45b4ee47e04', 'message': 'zuul: Add a full CentOS 8 stream job to the check and gate queues\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nGiven the above this change adds a simple full tempest job using CentOS\n8 stream to both the check and gate queues.\n\nChange-Id: I4b074dca58960b2622dde15ad7d9a91b3ba0c096\n'}, {'number': 3, 'created': '2021-06-29 08:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3f73523d974a033d583e9705aa1f5140ae15c197', 'message': 'zuul: Add a full CentOS 8 stream job to the check and gate queues\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nGiven the above this change adds a simple full tempest job using CentOS\n8 stream to both the check and gate queues.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\nChange-Id: I4b074dca58960b2622dde15ad7d9a91b3ba0c096\n'}, {'number': 4, 'created': '2021-07-07 18:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fbda65cfc21ccc007120644e2856b3c5bb0aa4e3', 'message': ""zuul: Add a CentOS 8 stream job to integrated-gate-compute\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nAs a result the Nova team want to run CentOS 8 stream based jobs within\nthe integrated-gate-compute template.\n\nAn additional tempest-full-py3-centos-8-stream job is added to Tempest's\ncheck and gate queues to ensure coverage here.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\nChange-Id: I4b074dca58960b2622dde15ad7d9a91b3ba0c096\n""}, {'number': 5, 'created': '2021-07-07 18:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/262b74441916b3b0511dc9128e731e91649899cd', 'message': ""zuul: Add a CentOS 8 stream job to integrated-gate-compute\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nAs a result the Nova team want to run CentOS 8 stream based jobs within\nthe integrated-gate-compute template.\n\nAn additional tempest-full-py3-centos-8-stream job is added to Tempest's\ncheck and gate queues to ensure coverage here.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\nChange-Id: I4b074dca58960b2622dde15ad7d9a91b3ba0c096\n""}, {'number': 6, 'created': '2021-07-07 23:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/776475fbb3935f156c55f85d881ee66b09787df7', 'message': ""zuul: Add a CentOS 8 stream job to integrated-gate-compute\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nAs a result the Nova team want to run CentOS 8 stream based jobs within\nthe integrated-gate-compute template.\n\nAn additional tempest-full-py3-centos-8-stream job is added to Tempest's\ncheck and gate queues to ensure coverage here.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\nChange-Id: I4b074dca58960b2622dde15ad7d9a91b3ba0c096\n""}, {'number': 7, 'created': '2021-07-15 22:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/012a7fccece2c2c8aa03eeb7581f1c3ce5862460', 'message': ""zuul: Add a CentOS 8 stream job to integrated-gate-compute\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nAs a result the Nova team want to run CentOS 8 stream based jobs within\nthe integrated-gate-compute template.\n\nAn additional tempest-full-py3-centos-8-stream job is added to Tempest's\ncheck and gate queues to ensure coverage here.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\nChange-Id: I4b074dca58960b2622dde15ad7d9a91b3ba0c096\n""}, {'number': 8, 'created': '2021-08-10 09:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d4966771a90298672f1e77eb622ba88828fed739', 'message': ""zuul: Add a CentOS 8 stream job to integrated-gate-compute\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nAs a result the Nova team want to run CentOS 8 stream based jobs within\nthe integrated-gate-compute template.\n\nAn additional tempest-full-py3-centos-8-stream job is added to Tempest's\ncheck and gate queues to ensure coverage here.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\nChange-Id: I4b074dca58960b2622dde15ad7d9a91b3ba0c096\n""}, {'number': 9, 'created': '2021-09-14 10:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/50e2b4af89c7dd139f79886ca0abd5bb0185914b', 'message': ""zuul: Add a CentOS 8 stream job to integrated-gate-compute\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nAs a result the Nova team want to run CentOS 8 stream based jobs within\nthe integrated-gate-compute template.\n\nAn additional tempest-full-py3-centos-8-stream job is added to Tempest's\ncheck and gate queues to ensure coverage here.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\nChange-Id: I4b074dca58960b2622dde15ad7d9a91b3ba0c096\n""}, {'number': 10, 'created': '2021-09-24 10:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d52424d1674c270a406a90256437de7c3f433d64', 'message': ""zuul: Add a CentOS 8 stream job to integrated-gate-compute\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nAs a result the Nova team want to run CentOS 8 stream based jobs within\nthe integrated-gate-compute template.\n\nAn additional tempest-full-py3-centos-8-stream job is added to Tempest's\ncheck and gate queues to ensure coverage here.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\nChange-Id: I4b074dca58960b2622dde15ad7d9a91b3ba0c096\n""}, {'number': 11, 'created': '2021-11-03 09:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3220af5b3f86da8a6b6c9c03f81c6396a0385db5', 'message': ""zuul: Add a CentOS 8 stream job to integrated-gate-compute\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nAs a result the Nova team want to run CentOS 8 stream based jobs within\nthe integrated-gate-compute template.\n\nAn additional tempest-full-py3-centos-8-stream job is added to Tempest's\ncheck and gate queues to ensure coverage here.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\nChange-Id: I4b074dca58960b2622dde15ad7d9a91b3ba0c096\n""}, {'number': 12, 'created': '2021-11-04 09:24:05.000000000', 'files': ['zuul.d/tempest-specific.yaml', 'zuul.d/project.yaml', 'zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0dba41c17a2a66832e7c85e5ce36a0257deda21c', 'message': ""zuul: Add a CentOS 8 stream job to integrated-gate-compute\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nAs a result the Nova team want to run CentOS 8 stream based jobs within\nthe integrated-gate-compute template.\n\nAn additional tempest-full-py3-centos-8-stream job is added to Tempest's\ncheck and gate queues to ensure coverage here.\n\nBoth jobs are given additional swap to workaround bug #1949606, a\nbehaviour change in QEMU >= 5.0.0 when using [libvirt]virt_type=qemu\nthat causes additional memory to be consumed by each running instance.\n\nThis workaround of additional swap will be removed in the future once\nNova is able to workaround this itself through a new libvirt domain\nconfigurable.\n\nChange-Id: I4b074dca58960b2622dde15ad7d9a91b3ba0c096\n""}]",12,797614,0dba41c17a2a66832e7c85e5ce36a0257deda21c,76,5,12,10135,,,0,"zuul: Add a CentOS 8 stream job to integrated-gate-compute

As set out in the governance repo for Xena CentOS 8 stream with py36 is
a supported platform and runtime for the release:

https://governance.openstack.org/tc/reference/runtimes/xena.html

As a result the Nova team want to run CentOS 8 stream based jobs within
the integrated-gate-compute template.

An additional tempest-full-py3-centos-8-stream job is added to Tempest's
check and gate queues to ensure coverage here.

Both jobs are given additional swap to workaround bug #1949606, a
behaviour change in QEMU >= 5.0.0 when using [libvirt]virt_type=qemu
that causes additional memory to be consumed by each running instance.

This workaround of additional swap will be removed in the future once
Nova is able to workaround this itself through a new libvirt domain
configurable.

Change-Id: I4b074dca58960b2622dde15ad7d9a91b3ba0c096
",git fetch https://review.opendev.org/openstack/tempest refs/changes/14/797614/12 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/tempest-specific.yaml']",2,7d05ca57a2e3d240b4a11e2523d7f3dd7a28efe7,centos8-stream-integrated-gate-compute, name: tempest-full-py3-centos-8-stream name: tempest-full-py3-centos-8-stream parent: tempest-full-py3 nodeset: devstack-platform-centos-8-stream description: | Base integration test with Neutron networking and py36 running on CentOS 8 stream - job:, name: tempest-full-py3-opensuse15,13,1
openstack%2Fnova~master~Iba87cef50238c5b02ab313f2311b826081d5b4ab,openstack/nova,master,Iba87cef50238c5b02ab313f2311b826081d5b4ab,Ignore plug_vifs on the ironic driver,MERGED,2021-10-08 22:23:33.000000000,2021-11-09 04:43:08.000000000,2021-11-09 04:36:51.000000000,"[{'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11292}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-08 22:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5509dd63552b172313c2512c84ae5206b46390b', 'message': ""Ignore plug_vifs on the ironic driver\n\nWhen the nova-compute service starts, by default it attempts to\nstartup instance configuration states for aspects such as networking.\nThis is fine in most cases, and makes a lot of sense if the\nnova-compute service is just managing virtual machines on a hypervisor.\n\nThis is done, one instance at a time.\n\nHowever, when the compute driver is ironic, the networking is managed\nas part of the physical machine lifecycle potentially all the way into\ncommitted switch configurations. As such, there is no need to attempt\nto call ``plug_vifs`` on every single instance managed by the\nnova-compute process which is backed by Ironic.\n\nAdditionally, using ironic tends to manage far more physical machines per\nper nova-compute service instance then when when operating co-installed\nwith a hypervisor. Often this means a cluster of a thousand machines,\nwith three controllers, will see thousands of un-needed API calls upon\nservice start, which elongates the entire process and negatively\nimpacts operations.\n\nIn essence, nova.virt.ironic's plug_vifs call now does nothing,\nand merely issues a debug LOG entry when called.\n\nCloses-Bug: #1777608\nChange-Id: Iba87cef50238c5b02ab313f2311b826081d5b4ab\n""}, {'number': 2, 'created': '2021-10-09 13:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ebce2f8a340458013162d10045f8fbc9d51e069', 'message': ""Ignore plug_vifs on the ironic driver\n\nWhen the nova-compute service starts, by default it attempts to\nstartup instance configuration states for aspects such as networking.\nThis is fine in most cases, and makes a lot of sense if the\nnova-compute service is just managing virtual machines on a hypervisor.\n\nThis is done, one instance at a time.\n\nHowever, when the compute driver is ironic, the networking is managed\nas part of the physical machine lifecycle potentially all the way into\ncommitted switch configurations. As such, there is no need to attempt\nto call ``plug_vifs`` on every single instance managed by the\nnova-compute process which is backed by Ironic.\n\nAdditionally, using ironic tends to manage far more physical machines\nper nova-compute service instance then when when operating co-installed\nwith a hypervisor. Often this means a cluster of a thousand machines,\nwith three controllers, will see thousands of un-needed API calls upon\nservice start, which elongates the entire process and negatively\nimpacts operations.\n\nIn essence, nova.virt.ironic's plug_vifs call now does nothing,\nand merely issues a debug LOG entry when called.\n\nCloses-Bug: #1777608\nChange-Id: Iba87cef50238c5b02ab313f2311b826081d5b4ab\n""}, {'number': 3, 'created': '2021-11-03 12:57:12.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/fix-ironic-compute-restart-port-attachments-3282e9ea051561d4.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/7f81cf28bf21ad2afa98accfde3087c83b8e269b', 'message': ""Ignore plug_vifs on the ironic driver\n\nWhen the nova-compute service starts, by default it attempts to\nstartup instance configuration states for aspects such as networking.\nThis is fine in most cases, and makes a lot of sense if the\nnova-compute service is just managing virtual machines on a hypervisor.\n\nThis is done, one instance at a time.\n\nHowever, when the compute driver is ironic, the networking is managed\nas part of the physical machine lifecycle potentially all the way into\ncommitted switch configurations. As such, there is no need to attempt\nto call ``plug_vifs`` on every single instance managed by the\nnova-compute process which is backed by Ironic.\n\nAdditionally, using ironic tends to manage far more physical machines\nper nova-compute service instance then when when operating co-installed\nwith a hypervisor. Often this means a cluster of a thousand machines,\nwith three controllers, will see thousands of un-needed API calls upon\nservice start, which elongates the entire process and negatively\nimpacts operations.\n\nIn essence, nova.virt.ironic's plug_vifs call now does nothing,\nand merely issues a debug LOG entry when called.\n\nCloses-Bug: #1777608\nChange-Id: Iba87cef50238c5b02ab313f2311b826081d5b4ab\n""}]",23,813263,7f81cf28bf21ad2afa98accfde3087c83b8e269b,43,9,3,11655,,,0,"Ignore plug_vifs on the ironic driver

When the nova-compute service starts, by default it attempts to
startup instance configuration states for aspects such as networking.
This is fine in most cases, and makes a lot of sense if the
nova-compute service is just managing virtual machines on a hypervisor.

This is done, one instance at a time.

However, when the compute driver is ironic, the networking is managed
as part of the physical machine lifecycle potentially all the way into
committed switch configurations. As such, there is no need to attempt
to call ``plug_vifs`` on every single instance managed by the
nova-compute process which is backed by Ironic.

Additionally, using ironic tends to manage far more physical machines
per nova-compute service instance then when when operating co-installed
with a hypervisor. Often this means a cluster of a thousand machines,
with three controllers, will see thousands of un-needed API calls upon
service start, which elongates the entire process and negatively
impacts operations.

In essence, nova.virt.ironic's plug_vifs call now does nothing,
and merely issues a debug LOG entry when called.

Closes-Bug: #1777608
Change-Id: Iba87cef50238c5b02ab313f2311b826081d5b4ab
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/813263/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/fix-ironic-compute-restart-port-attachments-3282e9ea051561d4.yaml']",3,f5509dd63552b172313c2512c84ae5206b46390b,,--- fixes: - | Fixes an issue in the ``nova.virt.ironic`` compute driver where instance VIFs were attempting to be automatically attached upon compute service start-up via the ``plug_vifs`` driver method. This method has grown otherwise unused since the introduction of the ``attach_interface`` method of attaching VIFs. As Ironic manages the attachment of VIFs to baremetal nodes in order to align with the security requirements of a physical baremetal node's lifecycle. The driver now ignores calls to the ``plug_vifs`` method as it was a redundant operation and causing operators to wait through an excessively long service restart. ,,46,18
openstack%2Ftempest~master~I1c5c82e8178462652c36533093958c82b5130a55,openstack/tempest,master,I1c5c82e8178462652c36533093958c82b5130a55,Add QoS minimum packet rate rule client,MERGED,2021-08-26 17:25:01.000000000,2021-11-09 04:42:38.000000000,2021-11-09 04:36:43.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}, {'_account_id': 33652}]","[{'number': 1, 'created': '2021-08-26 17:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d27cf238a3a96af2113831bd5a6ee8903834a5d2', 'message': 'Add QoS minimum packet rate rule client\n\nAs a preparation to test Network QoS minimum bandwidth and minimum\npacket rate rules together this patch the necessary packet rate API\nclient to tempest lib.\n\nChange-Id: I1c5c82e8178462652c36533093958c82b5130a55\n'}, {'number': 2, 'created': '2021-08-27 10:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2375821229a9062c9d120cd4fbabe5235929bad2', 'message': 'Add QoS minimum packet rate rule client\n\nAs a preparation to test Network QoS minimum bandwidth and minimum\npacket rate rules together this patch the necessary packet rate API\nclient to tempest lib.\n\nChange-Id: I1c5c82e8178462652c36533093958c82b5130a55\n'}, {'number': 3, 'created': '2021-09-15 10:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/739cb0ba84cdb1a5668ea710d5301c3614c09849', 'message': 'Add QoS minimum packet rate rule client\n\nAs a preparation to test Network QoS minimum bandwidth and minimum\npacket rate rules together this patch the necessary packet rate API\nclient to tempest lib.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I1c5c82e8178462652c36533093958c82b5130a55\n'}, {'number': 4, 'created': '2021-09-21 16:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b248fbd56123bbf5baebf969cb02bcec00e9a72', 'message': 'Add QoS minimum packet rate rule client\n\nAs a preparation to test Network QoS minimum bandwidth and minimum\npacket rate rules together this patch the necessary packet rate API\nclient to tempest lib.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I1c5c82e8178462652c36533093958c82b5130a55\n'}, {'number': 5, 'created': '2021-09-29 14:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8579d784647b46b077bbe8b73a9fcc0c8f8406c6', 'message': 'Add QoS minimum packet rate rule client\n\nAs a preparation to test Network QoS minimum bandwidth and minimum\npacket rate rules together this patch the necessary packet rate API\nclient to tempest lib.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I1c5c82e8178462652c36533093958c82b5130a55\n'}, {'number': 6, 'created': '2021-10-19 10:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3adc97135349691d4851318f090a89d6dbf0feac', 'message': 'Add QoS minimum packet rate rule client\n\nAs a preparation to test Network QoS minimum bandwidth and minimum\npacket rate rules together this patch the necessary packet rate API\nclient to tempest lib.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I1c5c82e8178462652c36533093958c82b5130a55\n'}, {'number': 7, 'created': '2021-10-27 16:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/556b574bebf34930893822ae3195e57ae706f08c', 'message': 'Add QoS minimum packet rate rule client\n\nAs a preparation to test Network QoS minimum bandwidth and minimum\npacket rate rules together this patch the necessary packet rate API\nclient to tempest lib.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I1c5c82e8178462652c36533093958c82b5130a55\n'}, {'number': 8, 'created': '2021-11-02 17:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a3543bbe0c369b6b62d5b005080465593675994d', 'message': 'Add QoS minimum packet rate rule client\n\nAs a preparation to test Network QoS minimum bandwidth and minimum\npacket rate rules together this patch the necessary packet rate API\nclient to tempest lib.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I1c5c82e8178462652c36533093958c82b5130a55\n'}, {'number': 9, 'created': '2021-11-02 17:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ebc8e396dea83b39f98abe934243e24f6edfdbea', 'message': 'Add QoS minimum packet rate rule client\n\nAs a preparation to test Network QoS minimum bandwidth and minimum\npacket rate rules together this patch the necessary packet rate API\nclient to tempest lib.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I1c5c82e8178462652c36533093958c82b5130a55\n'}, {'number': 10, 'created': '2021-11-04 12:33:15.000000000', 'files': ['tempest/tests/lib/services/network/test_qos_minimum_packet_rate_rules_client.py', 'tempest/lib/services/network/qos_minimum_packet_rate_rules_client.py', 'releasenotes/notes/add-qos-minimum-packet-rule-client-c8bfe09873032d4a.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/efa21d3bb915e2e9793ec5072ad8ce45356a11b1', 'message': 'Add QoS minimum packet rate rule client\n\nAs a preparation to test Network QoS minimum bandwidth and minimum\npacket rate rules together this patch the necessary packet rate API\nclient to tempest lib.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I1c5c82e8178462652c36533093958c82b5130a55\n'}]",18,806256,efa21d3bb915e2e9793ec5072ad8ce45356a11b1,42,6,10,9708,,,0,"Add QoS minimum packet rate rule client

As a preparation to test Network QoS minimum bandwidth and minimum
packet rate rules together this patch the necessary packet rate API
client to tempest lib.

blueprint: qos-minimum-guaranteed-packet-rate

Change-Id: I1c5c82e8178462652c36533093958c82b5130a55
",git fetch https://review.opendev.org/openstack/tempest refs/changes/56/806256/10 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/lib/services/network/test_qos_minimum_packet_rate_rules_client.py', 'tempest/lib/services/network/qos_minimum_packet_rate_rules_client.py']",2,d27cf238a3a96af2113831bd5a6ee8903834a5d2,bp/qos-minimum-guaranteed-packet-rate,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib.services.network import base class QosMinimumPacketRateRulesClient(base.BaseNetworkClient): def create_minimum_packet_rate_rule(self, qos_policy_id, **kwargs): """"""Creates a minimum packet rate rule for a QoS policy. For full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/network/v2/index.html#create-minimum-packet-rate-rule """""" uri = '/qos/policies/%s/minimum_packet_rate_rules' % qos_policy_id post_data = {'minimum_packet_rate_rule': kwargs} return self.create_resource(uri, post_data) def update_minimum_packet_rate_rule( self, qos_policy_id, rule_id, **kwargs ): """"""Updates a minimum packet rate rule. For full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/network/v2/index.html#update-minimum-packet-rate-rule """""" uri = '/qos/policies/%s/minimum_packet_rate_rules/%s' % ( qos_policy_id, rule_id) post_data = {'minimum_packet_rate_rule': kwargs} return self.update_resource(uri, post_data) def show_minimum_packet_rate_rule(self, qos_policy_id, rule_id, **fields): """"""Show details of a minimum packet_rate rule. For full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/network/v2/index.html#show-minimum-packet-rate-rule-details """""" uri = '/qos/policies/%s/minimum_packet_rate_rules/%s' % ( qos_policy_id, rule_id) return self.show_resource(uri, **fields) def delete_minimum_packet_rate_rule(self, qos_policy_id, rule_id): """"""Deletes a minimum packet rate rule for a QoS policy. For full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/network/v2/index.html#delete-minimum-packet-rate-rule """""" uri = '/qos/policies/%s/minimum_packet_rate_rules/%s' % ( qos_policy_id, rule_id) return self.delete_resource(uri) def list_minimum_packet_rate_rules(self, qos_policy_id, **filters): """"""Lists all minimum packet rate rules for a QoS policy. For full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/network/v2/index.html#list-minimum-packet-rate-rules-for-qos-policy """""" uri = '/qos/policies/%s/minimum_packet_rate_rules' % qos_policy_id return self.list_resources(uri, **filters) ",,208,0
openstack%2Fkarbor~master~Ie98a3e8dda45757d98da9cc5b7383d76ecf0f09c,openstack/karbor,master,Ie98a3e8dda45757d98da9cc5b7383d76ecf0f09c,Add filter parameter for provider list API,MERGED,2018-01-24 06:54:53.000000000,2021-11-09 01:19:48.000000000,2018-01-29 14:35:54.000000000,"[{'_account_id': 14203}, {'_account_id': 17151}, {'_account_id': 19853}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 23950}]","[{'number': 1, 'created': '2018-01-24 06:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/4dd941fcb36a74a9cef04083975fac2f6828560f', 'message': 'Add filter parameter for provider list API\n\nThe provider list API layer supports the filter parameter, but\nin protection service it was not supported. This patch fixed it.\n\nChange-Id: Ie98a3e8dda45757d98da9cc5b7383d76ecf0f09c\nCloses-Bug: #1745058\n'}, {'number': 2, 'created': '2018-01-25 01:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/c173529b2c1eec34c3dc03b9c0c1d219b5797630', 'message': 'Add filter parameter for provider list API\n\nThe provider list API layer supports the filter parameter, but\nin protection service it was not supported. This patch fixed it.\n\nChange-Id: Ie98a3e8dda45757d98da9cc5b7383d76ecf0f09c\nCloses-Bug: #1745058\n'}, {'number': 3, 'created': '2018-01-25 02:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/5efbdb18f9b6a4bc358abcf35650f357ccb83340', 'message': 'Add filter parameter for provider list API\n\nThe provider list API layer supports the filter parameter, but\nin protection service it was not supported. This patch fixed it.\n\nChange-Id: Ie98a3e8dda45757d98da9cc5b7383d76ecf0f09c\nCloses-Bug: #1745058\n'}, {'number': 4, 'created': '2018-01-29 00:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/3122bf2c16dce5e4ee5bb398cafcae85facc0158', 'message': 'Add filter parameter for provider list API\n\nThe provider list API layer supports the filter parameter, but\nin protection service it was not supported. This patch fixed it.\n\nChange-Id: Ie98a3e8dda45757d98da9cc5b7383d76ecf0f09c\nCloses-Bug: #1745058\n'}, {'number': 5, 'created': '2018-01-29 06:05:51.000000000', 'files': ['karbor/tests/unit/protection/test_provider.py', 'karbor/services/protection/provider.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/29b264eb7c7cda3cc590bca1494febdb4509cdde', 'message': 'Add filter parameter for provider list API\n\nThe provider list API layer supports the filter parameter, but\nin protection service it was not supported. This patch fixed it.\n\nChange-Id: Ie98a3e8dda45757d98da9cc5b7383d76ecf0f09c\nCloses-Bug: #1745058\n'}]",9,537276,29b264eb7c7cda3cc590bca1494febdb4509cdde,36,6,5,23950,,,0,"Add filter parameter for provider list API

The provider list API layer supports the filter parameter, but
in protection service it was not supported. This patch fixed it.

Change-Id: Ie98a3e8dda45757d98da9cc5b7383d76ecf0f09c
Closes-Bug: #1745058
",git fetch https://review.opendev.org/openstack/karbor refs/changes/76/537276/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/tests/unit/protection/test_provider.py', 'karbor/services/protection/provider.py']",2,4dd941fcb36a74a9cef04083975fac2f6828560f,bug/1745058," provider_dict = dict(id=provider.id, name=provider.name, description=provider.description, extended_info_schema= provider.extended_info_schema) if filters: for key, value in filters.items(): if provider_dict.has_key(key) and \ value != provider_dict[key]: break else: valid_providers.append(provider_dict) else: valid_providers.append(provider_dict) "," valid_providers.append( dict(id=provider.id, name=provider.name, description=provider.description, extended_info_schema=provider.extended_info_schema ))",25,9
openstack%2Ftripleo-heat-templates~master~I32f9dc916959d8a283beab247d548379cd2b2981,openstack/tripleo-heat-templates,master,I32f9dc916959d8a283beab247d548379cd2b2981,Set default value of IronicDefaultBootMode to uefi,MERGED,2021-09-19 22:55:05.000000000,2021-11-09 00:47:06.000000000,2021-11-09 00:43:57.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-19 22:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2937d1d38789a8f84ae944dc4ff185013fcdc868', 'message': ""Set default value of IronicDefaultBootMode to uefi\n\nNow that quickstart jobs are explicitly setting this to 'bios' the\ndefault can safely be set to 'uefi' which is more appropriate for\nbare-metal environments.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/809960\nBlueprint: whole-disk-default\nChange-Id: I32f9dc916959d8a283beab247d548379cd2b2981\n""}, {'number': 2, 'created': '2021-09-22 02:52:04.000000000', 'files': ['releasenotes/notes/uefi-boot-mode-a8b1b416a0e9cdc4.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d6f2413113f5721d0447fa46c382fa3f9eb9be3', 'message': ""Set default value of IronicDefaultBootMode to uefi\n\nNow that OVB explicitly sets the boot mode based on discovered image\nproperties, the default can safely be set to 'uefi' which is more\nappropriate for bare-metal environments.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-virtual-baremetal/+/810332\nBlueprint: whole-disk-default\nChange-Id: I32f9dc916959d8a283beab247d548379cd2b2981\n""}]",0,809961,9d6f2413113f5721d0447fa46c382fa3f9eb9be3,19,4,2,4571,,,0,"Set default value of IronicDefaultBootMode to uefi

Now that OVB explicitly sets the boot mode based on discovered image
properties, the default can safely be set to 'uefi' which is more
appropriate for bare-metal environments.

Depends-On: https://review.opendev.org/c/openstack/openstack-virtual-baremetal/+/810332
Blueprint: whole-disk-default
Change-Id: I32f9dc916959d8a283beab247d548379cd2b2981
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/809961/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/uefi-boot-mode-a8b1b416a0e9cdc4.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml']",2,2937d1d38789a8f84ae944dc4ff185013fcdc868,whole-disk-default, default: 'uefi', default: 'bios',8,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Id78443453718f8174bf95ad9209e7163b6afef64,openstack/python-tripleoclient,stable/wallaby,Id78443453718f8174bf95ad9209e7163b6afef64,Integrating restoration process to client,MERGED,2021-11-05 15:40:51.000000000,2021-11-09 00:46:49.000000000,2021-11-09 00:43:46.000000000,"[{'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-11-05 15:40:51.000000000', 'files': ['tripleoclient/tests/v1/overcloud_restore/test_backup.py', 'tripleoclient/tests/v1/overcloud_restore/__init__.py', 'tripleoclient/v1/overcloud_restore.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d71f64edddb0126d5aaad533d422c3fa8168c37b', 'message': 'Integrating restoration process to client\n\n- Adding a new command overcloud backup restore for running the\n  the restoration process. This command includes a required\n  argument for specifying the node ""--node-name"".\n\n- tests/v1/overcloud_restore/test_backup.py added for\n  unit testing the command\n\nChange-Id: Id78443453718f8174bf95ad9209e7163b6afef64\n(cherry picked from commit b670a784c4399cb83a129093064dd18aaeec590b)\n'}]",7,816875,d71f64edddb0126d5aaad533d422c3fa8168c37b,13,4,1,22954,,,0,"Integrating restoration process to client

- Adding a new command overcloud backup restore for running the
  the restoration process. This command includes a required
  argument for specifying the node ""--node-name"".

- tests/v1/overcloud_restore/test_backup.py added for
  unit testing the command

Change-Id: Id78443453718f8174bf95ad9209e7163b6afef64
(cherry picked from commit b670a784c4399cb83a129093064dd18aaeec590b)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/75/816875/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_restore/test_backup.py', 'tripleoclient/tests/v1/overcloud_restore/__init__.py', 'tripleoclient/v1/overcloud_restore.py', 'setup.cfg']",4,d71f64edddb0126d5aaad533d422c3fa8168c37b,change-801861-5-stable/wallaby, overcloud_restore = tripleoclient.v1.overcloud_restore:RestoreOvercloud,,221,0
openstack%2Ftripleo-operator-ansible~master~I0c3c2ed1a9fe62d12132a07aa421cc677cd30514,openstack/tripleo-operator-ansible,master,I0c3c2ed1a9fe62d12132a07aa421cc677cd30514,Add default stack to some roles,MERGED,2021-08-12 18:07:01.000000000,2021-11-09 00:44:02.000000000,2021-11-09 00:44:02.000000000,"[{'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-08-12 18:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/be7ec1c6fce837b8fb3ef9d272966506d80eb247', 'message': ""Add default stack to some roles\n\nThe vip/node provision require a stack so we should likely include the\ndefault 'overcloud' like we do for tripleo_overcloud_deploy\n\nChange-Id: I0c3c2ed1a9fe62d12132a07aa421cc677cd30514\n""}, {'number': 2, 'created': '2021-09-28 15:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/c8fa211f465708621125517d780121adca600538', 'message': ""Add default stack to some roles\n\nThe vip/node provision require a stack so we should likely include the\ndefault 'overcloud' like we do for tripleo_overcloud_deploy\n\nChange-Id: I0c3c2ed1a9fe62d12132a07aa421cc677cd30514\n""}, {'number': 3, 'created': '2021-09-28 16:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/8fc1f17ffba85d44b47a7dcf97698abf134d4a9d', 'message': ""Add default stack to some roles\n\nThe vip/node provision require a stack so we should likely include the\ndefault 'overcloud' like we do for tripleo_overcloud_deploy\n\nChange-Id: I0c3c2ed1a9fe62d12132a07aa421cc677cd30514\n""}, {'number': 4, 'created': '2021-09-28 16:38:16.000000000', 'files': ['roles/tripleo_overcloud_node_extract_provisioned/defaults/main.yml', 'roles/tripleo_overcloud_node_unprovision/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_provision/defaults/main.yml', 'roles/tripleo_overcloud_network_vip_provision/README.md', 'roles/tripleo_overcloud_network_vip_provision/defaults/main.yml', 'roles/tripleo_overcloud_node_provision/README.md', 'roles/tripleo_overcloud_node_unprovision/README.md', 'roles/tripleo_overcloud_node_provision/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_unprovision/defaults/main.yml', 'roles/tripleo_overcloud_network_vip_provision/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/98cc0abe853f3cdc271fbdae2ea24a66ee0786b6', 'message': ""Add default stack to some roles\n\nThe vip/node provision require a stack so we should likely include the\ndefault 'overcloud' like we do for tripleo_overcloud_deploy\n\nChange-Id: I0c3c2ed1a9fe62d12132a07aa421cc677cd30514\n""}]",0,804427,98cc0abe853f3cdc271fbdae2ea24a66ee0786b6,17,5,4,14985,,,0,"Add default stack to some roles

The vip/node provision require a stack so we should likely include the
default 'overcloud' like we do for tripleo_overcloud_deploy

Change-Id: I0c3c2ed1a9fe62d12132a07aa421cc677cd30514
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/27/804427/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_node_extract_provisioned/defaults/main.yml', 'roles/tripleo_overcloud_node_provision/defaults/main.yml', 'roles/tripleo_overcloud_network_vip_provision/README.md', 'roles/tripleo_overcloud_network_vip_provision/defaults/main.yml', 'roles/tripleo_overcloud_node_provision/README.md', 'roles/tripleo_overcloud_node_unprovision/README.md', 'roles/tripleo_overcloud_node_unprovision/defaults/main.yml']",7,be7ec1c6fce837b8fb3ef9d272966506d80eb247,fix-default-stack,tripleo_overcloud_node_unprovision_stack: overcloud,tripleo_overcloud_node_unprovision_stack:,7,7
openstack%2Ftripleo-operator-ansible~master~I51f6ae5f3d430e8f2c9e8cf47fbfbf5b50f84e3e,openstack/tripleo-operator-ansible,master,I51f6ae5f3d430e8f2c9e8cf47fbfbf5b50f84e3e,Modified shell_args plugin for nested lists.,MERGED,2021-09-07 17:29:38.000000000,2021-11-09 00:43:54.000000000,2021-11-09 00:43:54.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-07 17:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/c53f3c3d5d5ab872273f7e2033533d11ac8c1d22', 'message': 'Modified shell_args plugin for nested lists.\n\nShell args plugins is not supported for nested\nlist items.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I51f6ae5f3d430e8f2c9e8cf47fbfbf5b50f84e3e\n'}, {'number': 2, 'created': '2021-09-23 12:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/cd1fc55cd5ed5badc8657acebec7dfa528245ef1', 'message': 'Modified shell_args plugin for nested lists.\n\nShell args plugins is not supported for nested\nlist items.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I51f6ae5f3d430e8f2c9e8cf47fbfbf5b50f84e3e\n'}, {'number': 3, 'created': '2021-09-24 08:12:32.000000000', 'files': ['plugins/filter/shell_args.py', 'tests/plugins/filter/test_shell_args.py'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/fae3c7d813fa44cf8df0cd2ea6d12178bd381fd9', 'message': 'Modified shell_args plugin for nested lists.\n\nShell args plugins is not supported for nested\nlist items.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I51f6ae5f3d430e8f2c9e8cf47fbfbf5b50f84e3e\n'}]",0,807778,fae3c7d813fa44cf8df0cd2ea6d12178bd381fd9,12,3,3,30750,,,0,"Modified shell_args plugin for nested lists.

Shell args plugins is not supported for nested
list items.

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I51f6ae5f3d430e8f2c9e8cf47fbfbf5b50f84e3e
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/78/807778/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/filter/shell_args.py', 'tests/plugins/filter/test_shell_args.py']",2,c53f3c3d5d5ab872273f7e2033533d11ac8c1d22,utilize-tripleo-operator," def test_shell_arg_nested_list(self): arg = ['a', ['b', 'c'], 'd'] expected = '-p a -p b -p c -p d' self.assertEqual(expected, self.filter.shell_arg_list(arg, parameter='-p'))",,20,6
openstack%2Fpuppet-cinder~master~Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8,openstack/puppet-cinder,master,Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8,[Pure Storage] Add new params for FlashArray Cinder backend,MERGED,2021-11-05 13:29:55.000000000,2021-11-09 00:15:37.000000000,2021-11-09 00:13:46.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 13:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/74c1ab53c7c53806ec5a15f0baa32459026701d0', 'message': '[Pure Storage] Add new params for FlashArray Cinder backend\n\nChange-Id: Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8\n'}, {'number': 2, 'created': '2021-11-05 15:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/00af261923dea7d78dd9d8fb0a07610fe8ca22ea', 'message': '[Pure Storage] Add new params for FlashArray Cinder backend\n\nChange-Id: Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8\n'}, {'number': 3, 'created': '2021-11-05 15:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/121917a42ee8a20c75f99cb5c2b0c821436a4101', 'message': '[Pure Storage] Add new params for FlashArray Cinder backend\n\nChange-Id: Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8\n'}, {'number': 4, 'created': '2021-11-05 21:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/c04cca5f75e43be707f366bde947a681d9a8db1a', 'message': '[Pure Storage] Add new params for FlashArray Cinder backend\n\nChange-Id: Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8\n'}, {'number': 5, 'created': '2021-11-07 05:05:42.000000000', 'files': ['releasenotes/notes/purestorage_updated_params-b0f474d9ab08c37e.yaml', 'spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/2eea9e71a140c46f7eeb1ec105988b5edd8df493', 'message': '[Pure Storage] Add new params for FlashArray Cinder backend\n\nChange-Id: Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8\n'}]",25,816837,2eea9e71a140c46f7eeb1ec105988b5edd8df493,23,3,5,13425,,,0,"[Pure Storage] Add new params for FlashArray Cinder backend

Change-Id: Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/37/816837/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/purestorage_updated_params-b0f474d9ab08c37e.yaml', 'spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp']",3,74c1ab53c7c53806ec5a15f0baa32459026701d0,add_pure_params,"# [*pure_eradicate_on_delete*] # (Optional) Determines how the Purity system treates deleted volumes. # Whether to immeadiately eradicate on delete or leave for auto-eradication # in 24 hours # Defaults to False # # [*pure_iscsi_cidr*] # (Optional) Identifies which iSCSI network CIDR should be used for # iscsi connections to the FlashArray is the array is configured with # multiple iSCSI VLANs. # Defaults to '0.0.0.0/0' # $pure_eradicate_on_delete = false, $pure_iscsi_cidr = '', ""${name}/pure_eradicate_on_delete"": value => $pure_eradicate_on_delete; ""${name}/pure_iscsi_cidr"": value => $pure_iscsi_cidr;",,33,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I750a733b722353d1ea0c6f904bafc769d7ddb9ff,openstack/python-tripleoclient,stable/wallaby,I750a733b722353d1ea0c6f904bafc769d7ddb9ff,Remove update converge,MERGED,2021-10-14 03:22:52.000000000,2021-11-09 00:12:42.000000000,2021-11-09 00:10:25.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-14 03:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5a84d5bcd2704d3aec844aaaee4e51dc878d827a', 'message': 'Remove update converge\n\nUpdate converge is largely unnecessary now with\nephemeral Heat. There is no Heat stack to update,\nso we are doing nothing more than executing a\nstandard deployment using Ansible. Removing\nthe requirement for update converge will simplify\nthe process and improve user experience by reducing\nthe time it takes to perform minor updates.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/810134\nChange-Id: I750a733b722353d1ea0c6f904bafc769d7ddb9ff\n(cherry picked from commit 19672ed3fa05116876a47451f3e6f6f89e6e542b)\n'}, {'number': 2, 'created': '2021-10-29 02:36:34.000000000', 'files': ['tripleoclient/v1/overcloud_update.py', 'setup.cfg', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d4223329b638ae12b43971fba98e1adc34721491', 'message': 'Remove update converge\n\nUpdate converge is largely unnecessary now with\nephemeral Heat. There is no Heat stack to update,\nso we are doing nothing more than executing a\nstandard deployment using Ansible. Removing\nthe requirement for update converge will simplify\nthe process and improve user experience by reducing\nthe time it takes to perform minor updates.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/813933\nChange-Id: I750a733b722353d1ea0c6f904bafc769d7ddb9ff\n(cherry picked from commit 19672ed3fa05116876a47451f3e6f6f89e6e542b)\n'}]",2,813930,d4223329b638ae12b43971fba98e1adc34721491,16,3,2,30073,,,0,"Remove update converge

Update converge is largely unnecessary now with
ephemeral Heat. There is no Heat stack to update,
so we are doing nothing more than executing a
standard deployment using Ansible. Removing
the requirement for update converge will simplify
the process and improve user experience by reducing
the time it takes to perform minor updates.

Depends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/813933
Change-Id: I750a733b722353d1ea0c6f904bafc769d7ddb9ff
(cherry picked from commit 19672ed3fa05116876a47451f3e6f6f89e6e542b)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/30/813930/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_update.py', 'setup.cfg', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py']",3,5a84d5bcd2704d3aec844aaaee4e51dc878d827a,remove_update_converge-stable/wallaby,," class TestOvercloudUpdateConverge(fakes.TestOvercloudUpdateConverge): def setUp(self): super(TestOvercloudUpdateConverge, self).setUp() # Get the command object to test app_args = mock.Mock() app_args.verbose_level = 1 self.cmd = overcloud_update.UpdateConverge(self.app, app_args) @mock.patch('tripleoclient.utils.get_key') @mock.patch('tripleoclient.utils.get_default_working_dir') @mock.patch('tripleoclient.utils.ensure_run_as_normal_user') @mock.patch('tripleoclient.utils.prompt_user_for_confirmation', return_value=True) @mock.patch( 'tripleoclient.utils.run_ansible_playbook') def test_update_converge(self, deploy_action, mock_confirm, mock_usercheck, mock_dir, mock_key): argslist = ['--stack', 'cloud'] verifylist = [ ('stack', 'cloud') ] mock_dir.return_value = ""/home/stack/overcloud-deploy"" ansible_dir = ""{}/config-download/cloud"".format( mock_dir.return_value ) inventory = ""{}/tripleo-ansible-inventory.yaml"".format( ansible_dir ) ansible_cfg = ""{}/ansible.cfg"".format( ansible_dir ) mock_key.return_value = '/home/stack/.ssh/id_rsa_tripleo' parsed_args = self.check_parser(self.cmd, argslist, verifylist) with mock.patch('os.path.exists') as mock_exists, \ mock.patch('os.path.isfile') as mock_isfile: mock_exists.return_value = True mock_isfile.return_value = True self.cmd.take_action(parsed_args) mock_usercheck.assert_called_once() deploy_action.assert_called_once_with( playbook='deploy_steps_playbook.yaml', inventory=inventory, workdir=ansible_dir, playbook_dir=ansible_dir, ansible_cfg=ansible_cfg, ssh_user='tripleo-admin', reproduce_command=True, forks=parsed_args.ansible_forks, extra_env_variables={ ""ANSIBLE_BECOME"": True, ""ANSIBLE_PRIVATE_KEY_FILE"": ""/home/stack/.ssh/id_rsa_tripleo"" } )",0,110
openstack%2Fopenstack-ansible~stable%2Fvictoria~I7f2da6ca90412d3322a85ab42a68f787e788a17a,openstack/openstack-ansible,stable/victoria,I7f2da6ca90412d3322a85ab42a68f787e788a17a,Bump OpenStack-Ansible Victoria,MERGED,2021-10-25 16:29:06.000000000,2021-11-09 00:03:07.000000000,2021-11-09 00:00:13.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-10-25 16:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b1c9168f026348fe1ca6e3dac5e44f0fbeb92950', 'message': 'Bump OpenStack-Ansible Victoria\n\nChange-Id: I7f2da6ca90412d3322a85ab42a68f787e788a17a\n'}, {'number': 2, 'created': '2021-10-26 09:53:20.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f1313b5511a7310c1f6435afe925a747c1352d55', 'message': 'Bump OpenStack-Ansible Victoria\n\nChange-Id: I7f2da6ca90412d3322a85ab42a68f787e788a17a\n'}]",2,815336,f1313b5511a7310c1f6435afe925a747c1352d55,17,3,2,28619,,,0,"Bump OpenStack-Ansible Victoria

Change-Id: I7f2da6ca90412d3322a85ab42a68f787e788a17a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/36/815336/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,b1c9168f026348fe1ca6e3dac5e44f0fbeb92950,bump_osa, version: 78fcf28f2c7be772d16740e8154c21a78a19e775 version: 04255738dc3c2505b375bb3889e30e16076278db version: 06add17f32a65904b9f075dbd808f02b7eb6f9e5 version: 904e55d56f82f36e3e9e9fbc5b3bd932a1151f7b version: 4271670a839ccd72f2a5b52e01feefa4d9ab383e, version: b5fe49d98601f62055365645df47ef1bae30ee74 version: 5df103f84022e24dbff728e083b3fb68b0a7c475 version: 9610ccd18de02721db83fe5f741251743be42ecd version: 9e5a7d7fc8b72ad4aa73280a7638b0554cf20d5c version: c8841cdf4182b51edb7bcec1396e0ade472346af,64,64
openstack%2Fneutron~stable%2Fvictoria~Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,openstack/neutron,stable/victoria,Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,Don't setup bridge controller if it is already set,MERGED,2021-11-03 11:12:57.000000000,2021-11-08 23:58:08.000000000,2021-11-08 23:56:06.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 11:12:57.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/18c1795e88ff89ec1bda29e5a92001210433940f', 'message': ""Don't setup bridge controller if it is already set\n\nSetting new controller for bridge every time when neutron-ovs-agent\nis restarted or is doing full-sync may cause some short data plane\nconnectivity loss and is not needed if same controller is already\nconfigured for the bridge.\nWith this patch neutron-ovs-agent will first check if controller is\nconfigured for the bridge and if it's the same as what should be\nconfigured, it will skip setting it up.\n\nWith this patch also protocols added to the bridge will be first checked\nif they aren't already there and only missing ones will be added if\nnecessary.\n\nSetting of the connectivity mode and inactivity probe is\nalways performed as this don't cause connectivity issues and is cheap\nso we can always ensure that those parameters are configured properly.\n\nConflicts:\n    neutron/agent/common/ovs_lib.py\n    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py\n\nCloses-Bug: #1948642\nChange-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67\n(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)\n(cherry picked from commit b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f)\n""}]",3,816457,18c1795e88ff89ec1bda29e5a92001210433940f,19,4,1,11975,,,0,"Don't setup bridge controller if it is already set

Setting new controller for bridge every time when neutron-ovs-agent
is restarted or is doing full-sync may cause some short data plane
connectivity loss and is not needed if same controller is already
configured for the bridge.
With this patch neutron-ovs-agent will first check if controller is
configured for the bridge and if it's the same as what should be
configured, it will skip setting it up.

With this patch also protocols added to the bridge will be first checked
if they aren't already there and only missing ones will be added if
necessary.

Setting of the connectivity mode and inactivity probe is
always performed as this don't cause connectivity issues and is cheap
so we can always ensure that those parameters are configured properly.

Conflicts:
    neutron/agent/common/ovs_lib.py
    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py

Closes-Bug: #1948642
Change-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67
(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)
(cherry picked from commit b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/816457/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py']",4,18c1795e88ff89ec1bda29e5a92001210433940f,bug/1948642-stable/victoria," def _test_setup_controllers(self, existing_controllers): cfg.OVS.of_listen_address = ""127.0.0.1"" cfg.OVS.of_listen_port = ""6633"" m_get_controller = mock.patch.object(self.br, 'get_controller') with m_set_ccm as set_ccm, \ m_add_protocols as add_protocols, \ m_set_controller as set_controller, \ m_get_controller as get_controller, \ m_set_probe: get_controller.return_value = existing_controllers self.br.setup_controllers(cfg) if existing_controllers: set_controller.assert_not_called() else: set_controller.assert_called_once_with([""tcp:127.0.0.1:6633""]) set_ccm.assert_called_once_with(""out-of-band"") add_protocols.assert_called_once_with(constants.OPENFLOW13) def test_setup_controllers(self): self._test_setup_controllers(existing_controllers=[]) def test_setup_controllers_when_already_exists(self): self._test_setup_controllers( existing_controllers=[""tcp:127.0.0.1:6633""])"," def test__setup_controllers__out_of_band(self): cfg.OVS.of_listen_address = """" cfg.OVS.of_listen_port = """" with m_set_ccm as set_ccm: with m_set_controller, m_add_protocols, m_set_probe: self.br.setup_controllers(cfg) set_ccm.assert_called_once_with(""out-of-band"")",63,12
openstack%2Ftripleo-heat-templates~master~I5a52a9574a75babbe36e207866fb8114859ce406,openstack/tripleo-heat-templates,master,I5a52a9574a75babbe36e207866fb8114859ce406,Clean up the removed puppet-tripleo parameter,ABANDONED,2021-02-21 14:03:34.000000000,2021-11-08 23:56:52.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-21 14:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34f975e4535b45f936737f6138df4a2e4c43d3c4', 'message': 'Clean up the removed puppet-tripleo parameter\n\nThe ceilometer_enabled parameter was removed and now the puppet class\nis included based on the pipeline parameter.\n\nDepends-on: https://review.opendev.org/776833\nChange-Id: I5a52a9574a75babbe36e207866fb8114859ce406\n'}, {'number': 2, 'created': '2021-02-21 14:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/04ee47b66ef1674f44ee0af9676804d3784f0b6d', 'message': 'Clean up the removed puppet-tripleo parameter\n\nThe ceilometer_enabled parameter was removed and now the puppet class\nis included based on the pipeline parameter.\n\nDepends-on: https://review.opendev.org/776833\nChange-Id: I5a52a9574a75babbe36e207866fb8114859ce406\n'}, {'number': 3, 'created': '2021-02-21 14:14:04.000000000', 'files': ['deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae3c571f43f48530b02f3ea85345e83473458bcd', 'message': 'Clean up the removed puppet-tripleo parameter\n\nThe ceilometer_enabled parameter was removed and now the puppet class\nis included based on the pipeline parameter.\n\nDepends-on: https://review.opendev.org/776833\nChange-Id: I5a52a9574a75babbe36e207866fb8114859ce406\n'}]",0,776834,ae3c571f43f48530b02f3ea85345e83473458bcd,7,3,3,9816,,,0,"Clean up the removed puppet-tripleo parameter

The ceilometer_enabled parameter was removed and now the puppet class
is included based on the pipeline parameter.

Depends-on: https://review.opendev.org/776833
Change-Id: I5a52a9574a75babbe36e207866fb8114859ce406
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/776834/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-proxy-container-puppet.yaml'],1,34f975e4535b45f936737f6138df4a2e4c43d3c4,swift-proxy-pipeline,, tripleo::profile::base::swift::proxy::ceilometer_enabled: {get_param: SwiftCeilometerPipelineEnabled},0,1
openstack%2Fpuppet-tripleo~master~I095c88e53cbe977f2650cd807da8c44ba03d9432,openstack/puppet-tripleo,master,I095c88e53cbe977f2650cd807da8c44ba03d9432,Swift: Include puppet classes based on the pipeline parameter,ABANDONED,2021-02-21 13:59:43.000000000,2021-11-08 23:56:44.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-21 13:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/07ca1387c471ec55ed21061cc2181b2504e0fe93', 'message': 'Swift: Include puppet classes based on the pipeline parameter\n\nCurrently we manage the pipeline parameter and puppet classes\nseparaterly, and this requires us to update both puppet and\ntripleo-heat-templates to add any new pipeline in swift-proxy-server.\n\nThis change makes the puppet classes included automatically based on\nthe items listed in the pipeline parameter.\n\nChange-Id: I095c88e53cbe977f2650cd807da8c44ba03d9432\n'}, {'number': 2, 'created': '2021-02-23 14:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d0869bc12713b83190a737a786ba50b0d84aaedc', 'message': 'Swift: Include puppet classes based on the pipeline parameter\n\nCurrently we manage the pipeline parameter and puppet classes\nseparaterly, and this requires us to update both puppet and\ntripleo-heat-templates to add any new pipeline in swift-proxy-server.\n\nThis change makes the puppet classes included automatically based on\nthe items listed in the pipeline parameter.\n\nChange-Id: I095c88e53cbe977f2650cd807da8c44ba03d9432\n'}, {'number': 3, 'created': '2021-05-05 01:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/33ff786be541c5fd21dafaf0b02e3922437ce6f5', 'message': 'Swift: Include puppet classes based on the pipeline parameter\n\nCurrently we manage the pipeline parameter and puppet classes\nseparaterly, and this requires us to update both puppet and\ntripleo-heat-templates to add any new pipeline in swift-proxy-server.\n\nThis change makes the puppet classes included automatically based on\nthe items listed in the pipeline parameter.\n\nChange-Id: I095c88e53cbe977f2650cd807da8c44ba03d9432\n'}, {'number': 4, 'created': '2021-05-07 13:16:05.000000000', 'files': ['manifests/profile/base/swift/proxy.pp', 'spec/classes/tripleo_profile_base_swift_proxy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/42c361dcd7169a1cb10f4a8437a31ebf4c7f7959', 'message': 'Swift: Include puppet classes based on the pipeline parameter\n\nCurrently we manage the pipeline parameter and puppet classes\nseparaterly, and this requires us to update both puppet and\ntripleo-heat-templates to add any new pipeline in swift-proxy-server.\n\nThis change makes the puppet classes included automatically based on\nthe items listed in the pipeline parameter.\n\nChange-Id: I095c88e53cbe977f2650cd807da8c44ba03d9432\n'}]",0,776833,42c361dcd7169a1cb10f4a8437a31ebf4c7f7959,14,3,4,9816,,,0,"Swift: Include puppet classes based on the pipeline parameter

Currently we manage the pipeline parameter and puppet classes
separaterly, and this requires us to update both puppet and
tripleo-heat-templates to add any new pipeline in swift-proxy-server.

This change makes the puppet classes included automatically based on
the items listed in the pipeline parameter.

Change-Id: I095c88e53cbe977f2650cd807da8c44ba03d9432
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/33/776833/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/swift/proxy.pp', 'spec/classes/tripleo_profile_base_swift_proxy_spec.rb']",2,07ca1387c471ec55ed21061cc2181b2504e0fe93,swift-proxy-pipeline," :pipeline => ['catch_errors', 'gatekeeper', 'proxy-logging', 'cache', 'listing_formats' 'proxy-logging', 'proxy-server'], it 'configure enabled middlewares' do is_expected.to contain_class('swift::proxy::catch_errors') is_expected.to contain_class('swift::proxy::gatekeeper') is_expected.to contain_class('swift::proxy::proxy_logging') is_expected.to contain_class('swift::proxy::listing_formats') end :step => 4, :pipeline => ['catch_errors', 'gatekeeper', 'proxy-logging', 'cache', 'listing_formats' 'proxy-logging', 'proxy-server'], :memcache_servers => ['::1', '::2'], it 'configure enabled middlewares' do is_expected.to contain_class('swift::proxy::catch_errors') is_expected.to contain_class('swift::proxy::gatekeeper') is_expected.to contain_class('swift::proxy::proxy_logging') is_expected.to contain_class('swift::proxy::listing_formats') end :step => 4, :memcache_servers => ['192.168.0.1', '::2', 'myserver.com'], it 'configure enabled middlewares' do is_expected.to contain_class('swift::proxy::catch_errors') is_expected.to contain_class('swift::proxy::gatekeeper') is_expected.to contain_class('swift::proxy::proxy_logging') is_expected.to contain_class('swift::proxy::listing_formats') end "," :step => 4, :memcache_servers => ['::1', '::2'], :step => 4, :memcache_servers => ['192.168.0.1', '::2', 'myserver.com'],",67,44
openstack%2Fnova~master~Idd618d634cc70ae8d58fab32f322e75bfabefb9d,openstack/nova,master,Idd618d634cc70ae8d58fab32f322e75bfabefb9d,Add autopep8 to tox and pre-commit,MERGED,2021-08-26 13:35:49.000000000,2021-11-08 23:56:17.000000000,2021-11-08 23:54:03.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 13:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d39dfc7e0dda71ea262453da71f5bfbd20c1c1ee', 'message': 'Add autopep8 to tox and pre-commit\n\nautopep8 is a code formating tool that makes python code pep8\ncompliant without changing everything. Unlike black it will\nnot radically change all code and the primary change to the\nexisting codebase is adding a new line after class level doc strings.\n\nThis change adds a new tox autopep8 env to manually run it on your\ncode before you submit a patch, it also adds autopep8 to pre-commit\nso if you use pre-commit it will do it for you automatically.\n\nThis change runs autopep8 in diff mode with --exit-code in the pep8\ntox env so it will fail if autopep8 would modify your code if run\nin in-place mode. This allows use to gate on autopep8 not modifying\npatches that are submited. This will ensure authorship of patches is\nmaintianed.\n\nThe intent of this change is to save the large amount of time we spend\non ensuring style guidlines are followed automatically to make it\nsimpler for both new and old contibutors to work on nova and save\ntime and effort for all involved.\n\nChange-Id: Idd618d634cc70ae8d58fab32f322e75bfabefb9d\n'}, {'number': 2, 'created': '2021-10-07 10:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19429dc1f36966c5d871f370af4dd7ecf9709412', 'message': 'Add autopep8 to tox and pre-commit\n\nautopep8 is a code formating tool that makes python code pep8\ncompliant without changing everything. Unlike black it will\nnot radically change all code and the primary change to the\nexisting codebase is adding a new line after class level doc strings.\n\nThis change adds a new tox autopep8 env to manually run it on your\ncode before you submit a patch, it also adds autopep8 to pre-commit\nso if you use pre-commit it will do it for you automatically.\n\nThis change runs autopep8 in diff mode with --exit-code in the pep8\ntox env so it will fail if autopep8 would modify your code if run\nin in-place mode. This allows use to gate on autopep8 not modifying\npatches that are submited. This will ensure authorship of patches is\nmaintianed.\n\nThe intent of this change is to save the large amount of time we spend\non ensuring style guidlines are followed automatically to make it\nsimpler for both new and old contibutors to work on nova and save\ntime and effort for all involved.\n\nChange-Id: Idd618d634cc70ae8d58fab32f322e75bfabefb9d\n'}, {'number': 3, 'created': '2021-11-08 12:37:46.000000000', 'files': ['nova/tests/unit/api/openstack/compute/microversions.py', 'nova/api/openstack/compute/routes.py', 'nova/filters.py', 'nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/unit/compute/eventlet_utils.py', 'nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/functional/regressions/test_bug_1849409.py', 'nova/api/openstack/compute/server_password.py', '.pre-commit-config.yaml', 'nova/tests/functional/test_servers_resource_request.py', 'nova/tests/functional/regressions/test_bug_1719730.py', 'nova/tests/unit/cmd/test_manage.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/api/openstack/compute/hosts.py', 'nova/tests/unit/utils.py', 'nova/tests/functional/regressions/test_bug_1852458.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/pci/devspec.py', 'nova/volume/cinder.py', 'nova/tests/functional/regressions/test_bug_1894966.py', 'nova/virt/libvirt/config.py', 'nova/compute/provider_tree.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1746483.py', 'nova/virt/disk/vfs/guestfs.py', 'nova/tests/functional/regressions/test_bug_1914777.py', 'nova/tests/fixtures/conf.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/test_nova_manage.py', 'nova/network/neutron.py', 'nova/virt/libvirt/volume/net.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/virt/libvirt/volume/volume.py', 'nova/tests/unit/compute/test_flavors.py', 'nova/tests/functional/regressions/test_bug_1764556.py', 'nova/tests/unit/test_hacking.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/test_test.py', 'tox.ini', 'nova/scheduler/host_manager.py', 'nova/tests/unit/compute/test_provider_config.py', 'nova/db/main/api.py', 'nova/tests/functional/regressions/test_bug_1893284.py', 'nova/virt/libvirt/volume/scaleio.py', 'nova/tests/fixtures/neutron.py', 'nova/virt/libvirt/volume/mount.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/api/openstack/compute/aggregates.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/unit/test_identity.py', 'nova/weights.py', 'nova/virt/vmwareapi/host.py', 'nova/tests/functional/test_external_networks.py', 'nova/virt/hyperv/serialconsolehandler.py', 'nova/tests/unit/test_service.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/tests/fixtures/nova.py', 'doc/ext/feature_matrix.py', 'nova/test.py', 'nova/tests/unit/api/openstack/compute/test_attach_interfaces.py', 'nova/tests/functional/regressions/test_bug_1718512.py', 'nova/utils.py', 'nova/tests/functional/regressions/test_bug_1839560.py', 'nova/virt/libvirt/imagebackend.py', 'nova/conductor/tasks/cross_cell_migrate.py', 'nova/virt/fake.py', 'nova/tests/fixtures/policy.py', 'nova/tests/unit/test_utils.py', 'nova/storage/rbd_utils.py', 'nova/virt/libvirt/event.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/compute/claims.py', 'nova/compute/multi_cell_list.py', 'nova/tests/functional/regressions/test_bug_1780373.py', 'nova/tests/functional/regressions/test_bug_1781286.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/powervm/disk/fake_adapter.py', 'nova/network/model.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/virt/libvirt/volume/iser.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f3d48000b139ec38d92da276a43a8387f76cbc89', 'message': 'Add autopep8 to tox and pre-commit\n\nautopep8 is a code formating tool that makes python code pep8\ncompliant without changing everything. Unlike black it will\nnot radically change all code and the primary change to the\nexisting codebase is adding a new line after class level doc strings.\n\nThis change adds a new tox autopep8 env to manually run it on your\ncode before you submit a patch, it also adds autopep8 to pre-commit\nso if you use pre-commit it will do it for you automatically.\n\nThis change runs autopep8 in diff mode with --exit-code in the pep8\ntox env so it will fail if autopep8 would modify your code if run\nin in-place mode. This allows use to gate on autopep8 not modifying\npatches that are submited. This will ensure authorship of patches is\nmaintianed.\n\nThe intent of this change is to save the large amount of time we spend\non ensuring style guidlines are followed automatically to make it\nsimpler for both new and old contibutors to work on nova and save\ntime and effort for all involved.\n\nChange-Id: Idd618d634cc70ae8d58fab32f322e75bfabefb9d\n'}]",5,806182,f3d48000b139ec38d92da276a43a8387f76cbc89,23,3,3,11604,,,0,"Add autopep8 to tox and pre-commit

autopep8 is a code formating tool that makes python code pep8
compliant without changing everything. Unlike black it will
not radically change all code and the primary change to the
existing codebase is adding a new line after class level doc strings.

This change adds a new tox autopep8 env to manually run it on your
code before you submit a patch, it also adds autopep8 to pre-commit
so if you use pre-commit it will do it for you automatically.

This change runs autopep8 in diff mode with --exit-code in the pep8
tox env so it will fail if autopep8 would modify your code if run
in in-place mode. This allows use to gate on autopep8 not modifying
patches that are submited. This will ensure authorship of patches is
maintianed.

The intent of this change is to save the large amount of time we spend
on ensuring style guidlines are followed automatically to make it
simpler for both new and old contibutors to work on nova and save
time and effort for all involved.

Change-Id: Idd618d634cc70ae8d58fab32f322e75bfabefb9d
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/806182/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/microversions.py', 'nova/api/openstack/compute/routes.py', 'nova/filters.py', 'nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/unit/compute/eventlet_utils.py', 'nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/functional/regressions/test_bug_1849409.py', 'nova/api/openstack/compute/server_password.py', '.pre-commit-config.yaml', 'nova/tests/functional/regressions/test_bug_1719730.py', 'nova/tests/unit/cmd/test_manage.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/api/openstack/compute/hosts.py', 'nova/tests/unit/utils.py', 'nova/tests/functional/regressions/test_bug_1852458.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/pci/devspec.py', 'nova/volume/cinder.py', 'nova/tests/functional/regressions/test_bug_1894966.py', 'nova/virt/libvirt/config.py', 'nova/compute/provider_tree.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1746483.py', 'nova/virt/disk/vfs/guestfs.py', 'nova/tests/functional/regressions/test_bug_1914777.py', 'nova/tests/fixtures/conf.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/network/neutron.py', 'nova/virt/libvirt/volume/net.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/virt/libvirt/volume/volume.py', 'nova/tests/unit/compute/test_flavors.py', 'nova/tests/functional/regressions/test_bug_1764556.py', 'nova/tests/unit/test_hacking.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/test_test.py', 'tox.ini', 'nova/scheduler/host_manager.py', 'nova/tests/unit/compute/test_provider_config.py', 'nova/db/main/api.py', 'nova/tests/functional/regressions/test_bug_1893284.py', 'nova/virt/libvirt/volume/scaleio.py', 'nova/tests/fixtures/neutron.py', 'nova/virt/libvirt/volume/mount.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/api/openstack/compute/aggregates.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/unit/test_identity.py', 'nova/weights.py', 'nova/virt/vmwareapi/host.py', 'nova/tests/functional/test_external_networks.py', 'nova/virt/hyperv/serialconsolehandler.py', 'nova/tests/unit/test_service.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/tests/fixtures/nova.py', 'doc/ext/feature_matrix.py', 'nova/test.py', 'nova/tests/unit/api/openstack/compute/test_attach_interfaces.py', 'nova/tests/functional/regressions/test_bug_1718512.py', 'nova/utils.py', 'nova/tests/functional/regressions/test_bug_1839560.py', 'nova/virt/libvirt/imagebackend.py', 'nova/conductor/tasks/cross_cell_migrate.py', 'nova/virt/fake.py', 'nova/tests/fixtures/policy.py', 'nova/tests/unit/test_utils.py', 'nova/storage/rbd_utils.py', 'nova/virt/libvirt/event.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/compute/claims.py', 'nova/compute/multi_cell_list.py', 'nova/tests/functional/regressions/test_bug_1780373.py', 'nova/tests/functional/regressions/test_bug_1781286.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/powervm/disk/fake_adapter.py', 'nova/network/model.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/virt/libvirt/volume/iser.py']",81,d39dfc7e0dda71ea262453da71f5bfbd20c1c1ee,autopep8,,,150,3
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I6ea4d91165644d28a575dfebeada588f7a8cd7f3,openstack/tripleo-upgrade,stable/wallaby,I6ea4d91165644d28a575dfebeada588f7a8cd7f3,Remove update converge,MERGED,2021-10-14 09:19:39.000000000,2021-11-08 23:51:42.000000000,2021-11-08 23:51:42.000000000,"[{'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2021-10-14 09:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/49a8bd6de2eccf83d73b16a6f68bd7ee98d0712a', 'message': 'Remove update converge\n\nUpdate converge is largely unnecessary now with\nephemeral Heat. There is no Heat stack to update,\nso we are doing nothing more than executing a\nstandard deployment using Ansible. Removing\nthe requirement for update converge will simplify\nthe process and improve user experience by reducing\nthe time it takes to perform minor updates.\n\nRelated: https://review.opendev.org/c/openstack/python-tripleoclient/+/810132\nChange-Id: I6ea4d91165644d28a575dfebeada588f7a8cd7f3\n(cherry picked from commit edb205f55e63c1a41f3b01642c3ce260914d559b)\n'}, {'number': 2, 'created': '2021-10-23 01:44:32.000000000', 'files': ['tasks/update/overcloud_update_converge.yml', 'tasks/update/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4d8cbf26519f396d6794d9db672c4740ee1d1c30', 'message': 'Remove update converge\n\nUpdate converge is largely unnecessary now with\nephemeral Heat. There is no Heat stack to update,\nso we are doing nothing more than executing a\nstandard deployment using Ansible. Removing\nthe requirement for update converge will simplify\nthe process and improve user experience by reducing\nthe time it takes to perform minor updates.\n\nRelated: https://review.opendev.org/c/openstack/python-tripleoclient/+/810132\n(cherry picked from commit edb205f55e63c1a41f3b01642c3ce260914d559b)\nChange-Id: I6ea4d91165644d28a575dfebeada588f7a8cd7f3\n'}]",0,813933,4d8cbf26519f396d6794d9db672c4740ee1d1c30,14,6,2,30073,,,0,"Remove update converge

Update converge is largely unnecessary now with
ephemeral Heat. There is no Heat stack to update,
so we are doing nothing more than executing a
standard deployment using Ansible. Removing
the requirement for update converge will simplify
the process and improve user experience by reducing
the time it takes to perform minor updates.

Related: https://review.opendev.org/c/openstack/python-tripleoclient/+/810132
(cherry picked from commit edb205f55e63c1a41f3b01642c3ce260914d559b)
Change-Id: I6ea4d91165644d28a575dfebeada588f7a8cd7f3
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/33/813933/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/update/overcloud_update_converge.yml', 'tasks/update/main.yml', 'defaults/main.yml']",3,49a8bd6de2eccf83d73b16a6f68bd7ee98d0712a,remove_update_converge-stable/wallaby,, - pre-update-converge,3,5
openstack%2Ftripleo-ansible~stable%2Fwallaby~I75b68876a6276d2fc31b4dc675368e7caece03f5,openstack/tripleo-ansible,stable/wallaby,I75b68876a6276d2fc31b4dc675368e7caece03f5,"Add missing ""become: true""",MERGED,2021-11-06 09:39:20.000000000,2021-11-08 23:51:39.000000000,2021-11-08 23:51:39.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-11-06 09:39:20.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e02bb61b08989a477c5829b7916162b03e917ec3', 'message': 'Add missing ""become: true""\n\nThis is needed in order to manage the configuration when injecting the\ncertificate.\n\nChange-Id: I75b68876a6276d2fc31b4dc675368e7caece03f5\n(cherry picked from commit c1e7dc99f3f275af58058a74cb77301fd188a891)\n'}]",1,816879,e02bb61b08989a477c5829b7916162b03e917ec3,9,6,1,25402,,,0,"Add missing ""become: true""

This is needed in order to manage the configuration when injecting the
certificate.

Change-Id: I75b68876a6276d2fc31b4dc675368e7caece03f5
(cherry picked from commit c1e7dc99f3f275af58058a74cb77301fd188a891)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/79/816879/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml'],1,e02bb61b08989a477c5829b7916162b03e917ec3,cephadm/slurp-cert-stable/wallaby, become: true,,1,0
openstack%2Fpuppet-cinder~stable%2Fxena~I847b88710578818f6c792d1603e02759072a9d25,openstack/puppet-cinder,stable/xena,I847b88710578818f6c792d1603e02759072a9d25,Use service anchor to ensure API is up,MERGED,2021-11-08 12:06:24.000000000,2021-11-08 23:50:09.000000000,2021-11-08 23:50:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 12:06:24.000000000', 'files': ['manifests/api.pp', 'spec/classes/cinder_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/3241ff122acbeb053ae09a8addf1a33a195ffb74', 'message': 'Use service anchor to ensure API is up\n\n... instead of the individual service resource which can be named\ndifferently according to service_name.\n\nCloses-Bug: #1949658\nChange-Id: I847b88710578818f6c792d1603e02759072a9d25\n(cherry picked from commit 614d16329a11fe84c2db749d9819a7820ceeb4be)\n'}]",0,816952,3241ff122acbeb053ae09a8addf1a33a195ffb74,7,3,1,9816,,,0,"Use service anchor to ensure API is up

... instead of the individual service resource which can be named
differently according to service_name.

Closes-Bug: #1949658
Change-Id: I847b88710578818f6c792d1603e02759072a9d25
(cherry picked from commit 614d16329a11fe84c2db749d9819a7820ceeb4be)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/52/816952/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/cinder_api_spec.rb']",2,3241ff122acbeb053ae09a8addf1a33a195ffb74,bug/1949658-stable/xena," :subscribe => 'Anchor[cinder::service::end]',"," :subscribe => 'Service[cinder-api]',",2,2
openstack%2Fpuppet-nova~stable%2Fxena~I6be21a4653d67c63a3bd1fa8b814ecdb1257f097,openstack/puppet-nova,stable/xena,I6be21a4653d67c63a3bd1fa8b814ecdb1257f097,Use service anchor to ensure API is up,MERGED,2021-11-08 12:06:31.000000000,2021-11-08 23:45:22.000000000,2021-11-08 23:45:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 12:06:31.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3fc355a18b698948034f08e76dcd07c904b62810', 'message': 'Use service anchor to ensure API is up\n\n... instead of the individual service resource which can be named\ndifferently according to service_name.\n\nCloses-Bug: #1949658\nChange-Id: I6be21a4653d67c63a3bd1fa8b814ecdb1257f097\n(cherry picked from commit f44d3c4987a65cc277af8be9a1d0cdc70b0cd50b)\n'}]",1,816953,3fc355a18b698948034f08e76dcd07c904b62810,9,3,1,9816,,,0,"Use service anchor to ensure API is up

... instead of the individual service resource which can be named
differently according to service_name.

Closes-Bug: #1949658
Change-Id: I6be21a4653d67c63a3bd1fa8b814ecdb1257f097
(cherry picked from commit f44d3c4987a65cc277af8be9a1d0cdc70b0cd50b)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/53/816953/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'manifests/api.pp']",2,3fc355a18b698948034f08e76dcd07c904b62810,bug/1949658-stable/xena," create_resources('openstacklib::service_validation', $validation_options_hash, {'subscribe' => 'Anchor[nova::service::end]'})"," create_resources('openstacklib::service_validation', $validation_options_hash, {'subscribe' => 'Service[nova-api]'})",3,3
openstack%2Fpuppet-ceilometer~master~Ife42b6f23f69025bad2f462a7ae40662768509a5,openstack/puppet-ceilometer,master,Ife42b6f23f69025bad2f462a7ae40662768509a5,Fix the wrong class name in a release note file,ABANDONED,2021-11-08 23:04:44.000000000,2021-11-08 23:34:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-08 23:04:44.000000000', 'files': ['releasenotes/notes/service_types-2a672cdceff9227f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/d3bf5b3a8a525559832341b7079d3d9c161be38f', 'message': 'Fix the wrong class name in a release note file\n\nThis change is a follow-up of a6c5f73407a921a5836f37d839fb7df03ae39998\nand fixes the wrong class name mentioned in the release note file added\nby that change.\n\nChange-Id: Ife42b6f23f69025bad2f462a7ae40662768509a5\n'}]",0,817121,d3bf5b3a8a525559832341b7079d3d9c161be38f,3,1,1,9816,,,0,"Fix the wrong class name in a release note file

This change is a follow-up of a6c5f73407a921a5836f37d839fb7df03ae39998
and fixes the wrong class name mentioned in the release note file added
by that change.

Change-Id: Ife42b6f23f69025bad2f462a7ae40662768509a5
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/21/817121/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/service_types-2a672cdceff9227f.yaml'],1,d3bf5b3a8a525559832341b7079d3d9c161be38f,fix-reno," The new ``ceilometer::agent::polling::service_types`` class, to manage parameters in the ``[service_types]`` section, has been added."," The new ``ceilometer::polling::service_types`` class, to manage parameters in the ``[service_types]`` section, has been added.",2,2
openstack%2Fwhitebox-tempest-plugin~master~I57243d49de0d1715fecaa6496a92fc2c576c448a,openstack/whitebox-tempest-plugin,master,I57243d49de0d1715fecaa6496a92fc2c576c448a,Remove NSM from emul thread tests,MERGED,2021-10-26 15:28:48.000000000,2021-11-08 23:07:33.000000000,2021-11-08 23:07:33.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 27478}]","[{'number': 1, 'created': '2021-10-26 15:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/261228deeee8f76a0dd7ab3a1cf18c7cc3fcf2d2', 'message': 'Remove NSM from emul thread tests\n\nA continuation of [1] in which we are trying to reduce the dependency on\nNovaServiceManager when interacting with cpu_dedicated_set and\ncpu_shared_set.\n\nThis commit introduces two new configuration options:\n * whitebox_hardware.dedicated_cpus_per_numa\n * whitebox_hardware.shared_cpus_per_numa\n\nThese options describe the number of pCPUs alloacted to either shared or\ndedicated sets for a given compute host. We are making the assumption\nthat although the pCPUs allocated to their respective sets may be\ndifferent on each compute host, the number of pCPUs allocated are the\nsame.\n\nCommit also removes NSM from three of the four base emulator thread\ntestcases and reduces some of the complexity originally present in the\ntests.\n\n[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d\n\nChange-Id: I57243d49de0d1715fecaa6496a92fc2c576c448a\n'}, {'number': 2, 'created': '2021-10-26 17:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ca9ad6b836e4842e41e1155887e2400f93f6b8b4', 'message': 'Remove NSM from emul thread tests\n\nA continuation of [1] in which we are trying to reduce the dependency on\nNovaServiceManager when interacting with cpu_dedicated_set and\ncpu_shared_set.\n\nThis commit introduces two new configuration options:\n * whitebox_hardware.dedicated_cpus_per_numa\n * whitebox_hardware.shared_cpus_per_numa\n\nThese options describe the number of pCPUs alloacted to either shared or\ndedicated sets for a given compute host. We are making the assumption\nthat although the pCPUs allocated to their respective sets may be\ndifferent on each compute host, the number of pCPUs allocated are the\nsame.\n\nCommit also removes NSM from three of the four base emulator thread\ntestcases and reduces some of the complexity originally present in the\ntests. Since vcpu_pin_set and cpu_dedicated_set are no longer\ndirectly modified in the test, their respective child tests have been\nremoved leaving just the parent to covering scenarios based on the\ndeployment.\n\n[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d\n\nChange-Id: I57243d49de0d1715fecaa6496a92fc2c576c448a\n'}, {'number': 3, 'created': '2021-10-26 19:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/2911cde5363b642c17054c74bc1b739cee0dda20', 'message': 'Remove NSM from emul thread tests\n\nA continuation of [1] in which we are trying to reduce the dependency on\nNovaServiceManager when interacting with cpu_dedicated_set and\ncpu_shared_set.\n\nThis commit introduces two new configuration options:\n * whitebox_hardware.dedicated_cpus_per_numa\n * whitebox_hardware.shared_cpus_per_numa\n\nThese options describe the number of pCPUs alloacted to either shared or\ndedicated sets for a given compute host. We are making the assumption\nthat although the pCPUs allocated to their respective sets may be\ndifferent on each compute host, the number of pCPUs allocated are the\nsame.\n\nCommit also removes NSM from three of the four base emulator thread\ntestcases and reduces some of the complexity originally present in the\ntests. Since vcpu_pin_set and cpu_dedicated_set are no longer\ndirectly modified in the test, their respective child tests have been\nremoved leaving just the parent to covering scenarios based on the\ndeployment.\n\n[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d\n\nChange-Id: I57243d49de0d1715fecaa6496a92fc2c576c448a\n'}, {'number': 4, 'created': '2021-10-26 21:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/a133404f921e1c92e96984ab67350ed76138671f', 'message': 'Remove NSM from emul thread tests\n\nA continuation of [1] in which we are trying to reduce the dependency on\nNovaServiceManager when interacting with cpu_dedicated_set and\ncpu_shared_set.\n\nThis commit introduces two new configuration options:\n * whitebox_hardware.dedicated_cpus_per_numa\n * whitebox_hardware.shared_cpus_per_numa\n\nThese options describe the number of pCPUs alloacted to either shared or\ndedicated sets for a given compute host. We are making the assumption\nthat although the pCPUs allocated to their respective sets may be\ndifferent on each compute host, the number of pCPUs allocated are the\nsame.\n\nCommit also removes NSM from three of the four base emulator thread\ntestcases and reduces some of the complexity originally present in the\ntests. Since vcpu_pin_set and cpu_dedicated_set are no longer\ndirectly modified in the test, their respective child tests have been\nremoved leaving just the parent to covering scenarios based on the\ndeployment.\n\n[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d\n\nChange-Id: I57243d49de0d1715fecaa6496a92fc2c576c448a\n'}, {'number': 5, 'created': '2021-10-29 16:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/870e3af9a626218a0424598cde2fbd4ae0f7557c', 'message': 'Remove NSM from emul thread tests\n\nA continuation of [1] in which we are trying to reduce the dependency on\nNovaServiceManager when interacting with cpu_dedicated_set and\ncpu_shared_set.\n\nThis commit introduces two new configuration options:\n * whitebox_hardware.dedicated_cpus_per_numa\n * whitebox_hardware.shared_cpus_per_numa\n\nThese options describe the number of pCPUs alloacted to either shared or\ndedicated sets for a given compute host. We are making the assumption\nthat although the pCPUs allocated to their respective sets may be\ndifferent on each compute host, the number of pCPUs allocated are the\nsame.\n\nCommit also removes NSM from three of the four base emulator thread\ntestcases and reduces some of the complexity originally present in the\ntests. Since vcpu_pin_set and cpu_dedicated_set are no longer\ndirectly modified in the test, their respective child tests have been\nremoved leaving just the parent to covering scenarios based on the\ndeployment.\n\n[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d\n\nChange-Id: I57243d49de0d1715fecaa6496a92fc2c576c448a\n'}, {'number': 6, 'created': '2021-10-29 19:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/bfbaf8705cc2eff808a4c0ce7f183ed50d413fa6', 'message': 'Remove NSM from emul thread tests\n\nA continuation of [1] in which we are trying to reduce the dependency on\nNovaServiceManager when interacting with cpu_dedicated_set and\ncpu_shared_set.\n\nThis commit introduces two new configuration options:\n * whitebox_hardware.dedicated_cpus_per_numa\n * whitebox_hardware.shared_cpus_per_numa\n\nThese options describe the number of pCPUs alloacted to either shared or\ndedicated sets for a given compute host. We are making the assumption\nthat although the pCPUs allocated to their respective sets may be\ndifferent on each compute host, the number of pCPUs allocated are the\nsame.\n\nCommit also removes NSM from three of the four base emulator thread\ntestcases and reduces some of the complexity originally present in the\ntests. Since vcpu_pin_set and cpu_dedicated_set are no longer\ndirectly modified in the test, their respective child tests have been\nremoved leaving just the parent to covering scenarios based on the\ndeployment.\n\n[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d\n\nChange-Id: I57243d49de0d1715fecaa6496a92fc2c576c448a\n'}, {'number': 7, 'created': '2021-11-01 21:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/84e17069b694429fa4239558cbf7acd4e3391ba2', 'message': 'Remove NSM from emul thread tests\n\nA continuation of [1] in which we are trying to reduce the dependency on\nNovaServiceManager when interacting with cpu_dedicated_set and\ncpu_shared_set.\n\nThis commit introduces two new configuration options:\n * whitebox_hardware.dedicated_cpus_per_numa\n * whitebox_hardware.shared_cpus_per_numa\n\nThese options describe the number of pCPUs alloacted to either shared or\ndedicated sets for a given compute host. We are making the assumption\nthat although the pCPUs allocated to their respective sets may be\ndifferent on each compute host, the number of pCPUs allocated are the\nsame.\n\nCommit also removes NSM from three of the four base emulator thread\ntestcases and reduces some of the complexity originally present in the\ntests. Since vcpu_pin_set and cpu_dedicated_set are no longer\ndirectly modified in the test, their respective child tests have been\nremoved leaving just the parent to covering scenarios based on the\ndeployment.\n\n[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d\n\nChange-Id: I57243d49de0d1715fecaa6496a92fc2c576c448a\n'}, {'number': 8, 'created': '2021-11-02 00:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/74ea237e4ec2792b56747e508c64cfffabe9ccee', 'message': 'Remove NSM from emul thread tests\n\nA continuation of [1] in which we are trying to reduce the dependency on\nNovaServiceManager when interacting with cpu_dedicated_set and\ncpu_shared_set.\n\nThis commit introduces two new configuration options:\n * whitebox_hardware.dedicated_cpus_per_numa\n * whitebox_hardware.shared_cpus_per_numa\n\nThese options describe the number of pCPUs alloacted to either shared or\ndedicated sets for a given compute host. We are making the assumption\nthat although the pCPUs allocated to their respective sets may be\ndifferent on each compute host, the number of pCPUs allocated are the\nsame.\n\nCommit also removes NSM from three of the four base emulator thread\ntestcases and reduces some of the complexity originally present in the\ntests. Since vcpu_pin_set and cpu_dedicated_set are no longer\ndirectly modified in the test, their respective child tests have been\nremoved leaving just the parent to covering scenarios based on the\ndeployment.\n\n[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d\n\nChange-Id: I57243d49de0d1715fecaa6496a92fc2c576c448a\n'}, {'number': 9, 'created': '2021-11-02 01:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ff6cdf3a2c62909c616cfed55017adec3e22b08d', 'message': 'Remove NSM from emul thread tests\n\nA continuation of [1] in which we are trying to reduce the dependency on\nNovaServiceManager when interacting with cpu_dedicated_set and\ncpu_shared_set.\n\nThis commit introduces two new configuration options:\n * whitebox_hardware.dedicated_cpus_per_numa\n * whitebox_hardware.shared_cpus_per_numa\n\nThese options describe the number of pCPUs alloacted to either shared or\ndedicated sets for a given compute host. We are making the assumption\nthat although the pCPUs allocated to their respective sets may be\ndifferent on each compute host, the number of pCPUs allocated are the\nsame.\n\nCommit also removes NSM from three of the four base emulator thread\ntestcases and reduces some of the complexity originally present in the\ntests. Since vcpu_pin_set and cpu_dedicated_set are no longer\ndirectly modified in the test, their respective child tests have been\nremoved leaving just the parent to covering scenarios based on the\ndeployment.\n\n[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d\n\nChange-Id: I57243d49de0d1715fecaa6496a92fc2c576c448a\n'}, {'number': 10, 'created': '2021-11-02 03:23:09.000000000', 'files': ['.zuul.yaml', 'whitebox_tempest_plugin/api/compute/numa_helper.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'devstack/plugin.sh', 'whitebox_tempest_plugin/config.py', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/7385e1bc55977b8ad372b68ff64a9ac658a1c757', 'message': 'Remove NSM from emul thread tests\n\nA continuation of [1] in which we are trying to reduce the dependency on\nNovaServiceManager when interacting with cpu_dedicated_set and\ncpu_shared_set.\n\nThis commit introduces two new configuration options:\n * whitebox_hardware.dedicated_cpus_per_numa\n * whitebox_hardware.shared_cpus_per_numa\n\nThese options describe the number of pCPUs alloacted to either shared or\ndedicated sets for a given compute host. We are making the assumption\nthat although the pCPUs allocated to their respective sets may be\ndifferent on each compute host, the number of pCPUs allocated are the\nsame.\n\nCommit also removes NSM from three of the four base emulator thread\ntestcases and reduces some of the complexity originally present in the\ntests. Since vcpu_pin_set and cpu_dedicated_set are no longer\ndirectly modified in the test, their respective child tests have been\nremoved leaving just the parent to covering scenarios based on the\ndeployment.\n\n[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d\n\nChange-Id: I57243d49de0d1715fecaa6496a92fc2c576c448a\n'}]",51,815514,7385e1bc55977b8ad372b68ff64a9ac658a1c757,35,3,10,31033,,,0,"Remove NSM from emul thread tests

A continuation of [1] in which we are trying to reduce the dependency on
NovaServiceManager when interacting with cpu_dedicated_set and
cpu_shared_set.

This commit introduces two new configuration options:
 * whitebox_hardware.dedicated_cpus_per_numa
 * whitebox_hardware.shared_cpus_per_numa

These options describe the number of pCPUs alloacted to either shared or
dedicated sets for a given compute host. We are making the assumption
that although the pCPUs allocated to their respective sets may be
different on each compute host, the number of pCPUs allocated are the
same.

Commit also removes NSM from three of the four base emulator thread
testcases and reduces some of the complexity originally present in the
tests. Since vcpu_pin_set and cpu_dedicated_set are no longer
directly modified in the test, their respective child tests have been
removed leaving just the parent to covering scenarios based on the
deployment.

[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d

Change-Id: I57243d49de0d1715fecaa6496a92fc2c576c448a
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/14/815514/10 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'devstack/plugin.sh', 'whitebox_tempest_plugin/config.py', 'devstack/settings']",4,261228deeee8f76a0dd7ab3a1cf18c7cc3fcf2d2,rm_nsm_colloc_mig,WHITEBOX_DEDICATED_CPUS_PER_NUMA=${WHITEBOX_DEDICATED_CPUS_PER_NUMA:-4} WHITEBOX_SHARED_CPUS_PER_NUMA=${WHITEBOX_SHARED_CPUS_PER_NUMA:-2},,111,205
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I9014ad0c7fae391dec4ad70bcbc0728667d413c5,openstack/tripleo-heat-templates,stable/wallaby,I9014ad0c7fae391dec4ad70bcbc0728667d413c5,Enable ovn-monitor-all option to ovn-controller,MERGED,2021-09-01 08:57:16.000000000,2021-11-08 22:35:21.000000000,2021-11-08 22:33:32.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-01 08:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26ad018c68d9a88d5c2d007ddda28382f997c6fd', 'message': ""Enable ovn-monitor-all option to ovn-controller\n\nWith conditional monitoring enabled in OVN, southbound ovsdb-serve\ntakes lot of time in handling the monitoring and sending the updates\nto all its connected clients. Its takes lot of CPU. With monitor-all\noption, all ovn-controllers do not enable conditional monitoring there\nby reducing the load on the Southbound ovsdb-server.\nEnable this for all deployments is-lowrisk and user shoudn't have\nposibilities to modified this manually form tht level.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-ovn/+/801455\nCloses-Bug: #1936781\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\nChange-Id: I9014ad0c7fae391dec4ad70bcbc0728667d413c5\n""}, {'number': 2, 'created': '2021-11-02 13:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a24e06922d668a845031d83f7c961b44f98bce72', 'message': ""Enable ovn-monitor-all option to ovn-controller\n\nWith conditional monitoring enabled in OVN, southbound ovsdb-serve\ntakes lot of time in handling the monitoring and sending the updates\nto all its connected clients. Its takes lot of CPU. With monitor-all\noption, all ovn-controllers do not enable conditional monitoring there\nby reducing the load on the Southbound ovsdb-server.\nEnable this for all deployments is-lowrisk and user shoudn't have\nposibilities to modified this manually form tht level.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-ovn/+/801455\nCloses-Bug: #1936781\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\nChange-Id: I9014ad0c7fae391dec4ad70bcbc0728667d413c5\n""}, {'number': 3, 'created': '2021-11-02 13:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bee80d2de60e48d98d1614ca80498c39f2dcec8f', 'message': ""Enable ovn-monitor-all option to ovn-controller\n\nWith conditional monitoring enabled in OVN, southbound ovsdb-serve\ntakes lot of time in handling the monitoring and sending the updates\nto all its connected clients. Its takes lot of CPU. With monitor-all\noption, all ovn-controllers do not enable conditional monitoring there\nby reducing the load on the Southbound ovsdb-server.\nEnable this for all deployments is-lowrisk and user shoudn't have\nposibilities to modified this manually form tht level.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-ovn/+/801455\nCloses-Bug: #1936781\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\nChange-Id: I9014ad0c7fae391dec4ad70bcbc0728667d413c5\n""}, {'number': 4, 'created': '2021-11-05 14:14:09.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml', 'releasenotes/notes/ovn-monitor-all-2fefb215c6f7166c.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d15f5926244ca3bda5230b052a4dac937e1af308', 'message': ""Enable ovn-monitor-all option to ovn-controller\n\nWith conditional monitoring enabled in OVN, southbound ovsdb-serve\ntakes lot of time in handling the monitoring and sending the updates\nto all its connected clients. Its takes lot of CPU. With monitor-all\noption, all ovn-controllers do not enable conditional monitoring there\nby reducing the load on the Southbound ovsdb-server.\nEnable this for all deployments is-lowrisk and user shoudn't have\nposibilities to modified this manually form tht level.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-ovn/+/801455\nCloses-Bug: #1936781\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\nChange-Id: I9014ad0c7fae391dec4ad70bcbc0728667d413c5\n(cherry picked from commit bc934d18a47bca5dcfb78f9ab903d3a6042706f5)\n""}]",5,806890,d15f5926244ca3bda5230b052a4dac937e1af308,20,5,4,11082,,,0,"Enable ovn-monitor-all option to ovn-controller

With conditional monitoring enabled in OVN, southbound ovsdb-serve
takes lot of time in handling the monitoring and sending the updates
to all its connected clients. Its takes lot of CPU. With monitor-all
option, all ovn-controllers do not enable conditional monitoring there
by reducing the load on the Southbound ovsdb-server.
Enable this for all deployments is-lowrisk and user shoudn't have
posibilities to modified this manually form tht level.

Depends-On: https://review.opendev.org/c/openstack/puppet-ovn/+/801455
Closes-Bug: #1936781
Signed-off-by: Kamil Sambor <ksambor@redhat.com>
Change-Id: I9014ad0c7fae391dec4ad70bcbc0728667d413c5
(cherry picked from commit bc934d18a47bca5dcfb78f9ab903d3a6042706f5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/806890/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ovn/ovn-controller-container-puppet.yaml', 'releasenotes/notes/ovn-monitor-all-2fefb215c6f7166c.yaml']",2,26ad018c68d9a88d5c2d007ddda28382f997c6fd,change-806890,"--- features: - | With conditional monitoring enabled in OVN, southbound ovsdb-serve takes lot of time in handling the monitoring and sending the updates to all its connected clients. Its takes lot of CPU. With monitor-all option, all ovn-controllers do not enable conditional monitoring there by reducing the load on the Southbound ovsdb-server. ",,21,0
openstack%2Ftripleo-operator-ansible~master~Iabf9df14c20403d38d2d7729228afd85ca3da72a,openstack/tripleo-operator-ansible,master,Iabf9df14c20403d38d2d7729228afd85ca3da72a,Added Ephemeral Heat CLI in overcloud_deploy role,MERGED,2021-08-25 19:56:19.000000000,2021-11-08 22:33:35.000000000,2021-11-08 22:33:35.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-08-25 19:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/192cdce029024c3b3ad112ebde889da4e57b4538', 'message': 'Added Ephermal Heat CLI in overcloud_deploy role\n\nAdded missing Ephermal Heat supported vars\nand command options.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Iabf9df14c20403d38d2d7729228afd85ca3da72a\n'}, {'number': 2, 'created': '2021-08-26 18:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/d1f3181cecb89b1a9012c3444c8744e8c2a68cac', 'message': 'Added Ephermal Heat CLI in overcloud_deploy role\n\nAdded missing Ephermal Heat supported vars\nand command options.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Iabf9df14c20403d38d2d7729228afd85ca3da72a\n'}, {'number': 3, 'created': '2021-09-02 14:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/ee191a63f8d95c872dc80ce1688746cbf7c9e324', 'message': 'Added Ephemeral Heat CLI in overcloud_deploy role\n\nAdded missing Ephemermal Heat supported vars\nand command options.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Iabf9df14c20403d38d2d7729228afd85ca3da72a\n'}, {'number': 4, 'created': '2021-09-13 11:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/93ec2fc2e2505e7d33ccc05e85a7c7213699d6e7', 'message': 'Added Ephemeral Heat CLI in overcloud_deploy role\n\nAdded missing Ephemeral Heat supported vars\nand command options.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Iabf9df14c20403d38d2d7729228afd85ca3da72a\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 5, 'created': '2021-09-27 13:03:01.000000000', 'files': ['roles/tripleo_overcloud_deploy/tasks/main.yml', 'roles/tripleo_overcloud_deploy/defaults/main.yml', 'roles/tripleo_overcloud_deploy/README.md', 'roles/tripleo_overcloud_deploy/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/e9dfa531d405fc67651aedaf8ac16fb311ffa3d8', 'message': 'Added Ephemeral Heat CLI in overcloud_deploy role\n\nAdded missing Ephemeral Heat supported vars\nand command options.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Iabf9df14c20403d38d2d7729228afd85ca3da72a\n'}]",24,806047,e9dfa531d405fc67651aedaf8ac16fb311ffa3d8,33,10,5,30750,,,0,"Added Ephemeral Heat CLI in overcloud_deploy role

Added missing Ephemeral Heat supported vars
and command options.

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: Iabf9df14c20403d38d2d7729228afd85ca3da72a
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/47/806047/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_deploy/tasks/main.yml', 'roles/tripleo_overcloud_deploy/defaults/main.yml', 'roles/tripleo_overcloud_deploy/README.md']",3,192cdce029024c3b3ad112ebde889da4e57b4538,utilize-tripleo-operator,"* `tripleo_overcloud_deploy_heat_type`: (String) Ephemeral heat type. Default: ""pod"" * `tripleo_overcloud_deploy_heat_container_api_image`: (String) Heat container api image. * `tripleo_overcloud_deploy_heat_container_engine_image`: (String) Heat container engine image. * `tripleo_overcloud_deploy_remove_heat`:(Boolean) Remove ephemeral heat. Deafult: false * `tripleo_overcloud_deploy_skip_heat_pull`: (Boolean) false",,18,0
openstack%2Fmanila~master~Id32daf390fd31f58b10635b6c7e434741ff8a08f,openstack/manila,master,Id32daf390fd31f58b10635b6c7e434741ff8a08f,[doc] Update PTL documentation,MERGED,2021-11-05 21:28:43.000000000,2021-11-08 22:18:34.000000000,2021-11-08 22:15:53.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 21:28:43.000000000', 'files': ['doc/source/contributor/project-team-lead.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/94a55f396bef45c1341b143565e7d6679684f736', 'message': '[doc] Update PTL documentation\n\nAdds a call out to the release session of the PTL documentation.\nIt is important to release new code for branches in a specific\norder (from the newest branch to the older ones)\n\nChange-Id: Id32daf390fd31f58b10635b6c7e434741ff8a08f\n'}]",1,816906,94a55f396bef45c1341b143565e7d6679684f736,8,2,1,29632,,,0,"[doc] Update PTL documentation

Adds a call out to the release session of the PTL documentation.
It is important to release new code for branches in a specific
order (from the newest branch to the older ones)

Change-Id: Id32daf390fd31f58b10635b6c7e434741ff8a08f
",git fetch https://review.opendev.org/openstack/manila refs/changes/06/816906/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/project-team-lead.rst'],1,94a55f396bef45c1341b143565e7d6679684f736,," .. note:: When proposing new releases, ensure that the releases for newer branches are proposed and accepted in the order of the most recent branch to the older. ",,5,0
openstack%2Foctavia~stable%2Fvictoria~I435c40a5493828bce24c2850182f0ddc8e5bdd1f,openstack/octavia,stable/victoria,I435c40a5493828bce24c2850182f0ddc8e5bdd1f,Fix failover of az-specific loadbalancers,MERGED,2021-10-27 06:22:55.000000000,2021-11-08 21:48:35.000000000,2021-11-08 21:46:03.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}, {'_account_id': 30609}]","[{'number': 1, 'created': '2021-10-27 06:22:55.000000000', 'files': ['octavia/controller/worker/v1/tasks/network_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e3026d35828b0b4541de3415e22582fa523f78e3', 'message': 'Fix failover of az-specific loadbalancers\n\nThere is a bug exists in CalculateAmphoraDelta class\nIf there is no such a key as constants.MANAGEMENT_NETWORK\nin availability_zone dictionary, method get will return None\nIt means that management_nets list will become [None], not\nCONF.controller_worker.amp_boot_network_list as it supposes to be\nIt breaks the following failover flow\n\nStory: 2008669\nTask: 41957\nChange-Id: I435c40a5493828bce24c2850182f0ddc8e5bdd1f\n(cherry picked from commit 81134bdfec79c8019c26e7846d31a2b2952965a0)\n(cherry picked from commit 77a87a7f335464180933cd1859cd34998d7f2e75)\n'}]",2,815586,e3026d35828b0b4541de3415e22582fa523f78e3,16,5,1,29244,,,0,"Fix failover of az-specific loadbalancers

There is a bug exists in CalculateAmphoraDelta class
If there is no such a key as constants.MANAGEMENT_NETWORK
in availability_zone dictionary, method get will return None
It means that management_nets list will become [None], not
CONF.controller_worker.amp_boot_network_list as it supposes to be
It breaks the following failover flow

Story: 2008669
Task: 41957
Change-Id: I435c40a5493828bce24c2850182f0ddc8e5bdd1f
(cherry picked from commit 81134bdfec79c8019c26e7846d31a2b2952965a0)
(cherry picked from commit 77a87a7f335464180933cd1859cd34998d7f2e75)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/86/815586/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/worker/v1/tasks/network_tasks.py'],1,e3026d35828b0b4541de3415e22582fa523f78e3,, if (availability_zone and availability_zone.get(constants.MANAGEMENT_NETWORK)): management_nets = [availability_zone.get( constants.MANAGEMENT_NETWORK)], if availability_zone: management_nets = ( [availability_zone.get(constants.MANAGEMENT_NETWORK)] or CONF.controller_worker.amp_boot_network_list),4,4
openstack%2Foctavia~stable%2Fwallaby~I435c40a5493828bce24c2850182f0ddc8e5bdd1f,openstack/octavia,stable/wallaby,I435c40a5493828bce24c2850182f0ddc8e5bdd1f,Fix failover of az-specific loadbalancers,MERGED,2021-10-27 06:22:07.000000000,2021-11-08 21:48:34.000000000,2021-11-08 21:45:33.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30609}]","[{'number': 1, 'created': '2021-10-27 06:22:07.000000000', 'files': ['octavia/controller/worker/v1/tasks/network_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/77a87a7f335464180933cd1859cd34998d7f2e75', 'message': 'Fix failover of az-specific loadbalancers\n\nThere is a bug exists in CalculateAmphoraDelta class\nIf there is no such a key as constants.MANAGEMENT_NETWORK\nin availability_zone dictionary, method get will return None\nIt means that management_nets list will become [None], not\nCONF.controller_worker.amp_boot_network_list as it supposes to be\nIt breaks the following failover flow\n\nStory: 2008669\nTask: 41957\nChange-Id: I435c40a5493828bce24c2850182f0ddc8e5bdd1f\n(cherry picked from commit 81134bdfec79c8019c26e7846d31a2b2952965a0)\n'}]",1,815585,77a87a7f335464180933cd1859cd34998d7f2e75,10,4,1,29244,,,0,"Fix failover of az-specific loadbalancers

There is a bug exists in CalculateAmphoraDelta class
If there is no such a key as constants.MANAGEMENT_NETWORK
in availability_zone dictionary, method get will return None
It means that management_nets list will become [None], not
CONF.controller_worker.amp_boot_network_list as it supposes to be
It breaks the following failover flow

Story: 2008669
Task: 41957
Change-Id: I435c40a5493828bce24c2850182f0ddc8e5bdd1f
(cherry picked from commit 81134bdfec79c8019c26e7846d31a2b2952965a0)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/85/815585/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/worker/v1/tasks/network_tasks.py'],1,77a87a7f335464180933cd1859cd34998d7f2e75,, if (availability_zone and availability_zone.get(constants.MANAGEMENT_NETWORK)): management_nets = [availability_zone.get( constants.MANAGEMENT_NETWORK)], if availability_zone: management_nets = ( [availability_zone.get(constants.MANAGEMENT_NETWORK)] or CONF.controller_worker.amp_boot_network_list),4,4
openstack%2Foctavia~stable%2Fxena~I435c40a5493828bce24c2850182f0ddc8e5bdd1f,openstack/octavia,stable/xena,I435c40a5493828bce24c2850182f0ddc8e5bdd1f,Fix failover of az-specific loadbalancers,MERGED,2021-10-27 06:24:24.000000000,2021-11-08 21:48:08.000000000,2021-11-08 21:45:22.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}, {'_account_id': 30609}]","[{'number': 1, 'created': '2021-10-27 06:24:24.000000000', 'files': ['octavia/controller/worker/v1/tasks/network_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/45c992c1f396bc66cb61bf8fa0e448648a0d5f53', 'message': 'Fix failover of az-specific loadbalancers\n\nThere is a bug exists in CalculateAmphoraDelta class\nIf there is no such a key as constants.MANAGEMENT_NETWORK\nin availability_zone dictionary, method get will return None\nIt means that management_nets list will become [None], not\nCONF.controller_worker.amp_boot_network_list as it supposes to be\nIt breaks the following failover flow\n\nStory: 2008669\nTask: 41957\nChange-Id: I435c40a5493828bce24c2850182f0ddc8e5bdd1f\n(cherry picked from commit 81134bdfec79c8019c26e7846d31a2b2952965a0)\n'}]",2,815588,45c992c1f396bc66cb61bf8fa0e448648a0d5f53,14,5,1,29244,,,0,"Fix failover of az-specific loadbalancers

There is a bug exists in CalculateAmphoraDelta class
If there is no such a key as constants.MANAGEMENT_NETWORK
in availability_zone dictionary, method get will return None
It means that management_nets list will become [None], not
CONF.controller_worker.amp_boot_network_list as it supposes to be
It breaks the following failover flow

Story: 2008669
Task: 41957
Change-Id: I435c40a5493828bce24c2850182f0ddc8e5bdd1f
(cherry picked from commit 81134bdfec79c8019c26e7846d31a2b2952965a0)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/88/815588/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/worker/v1/tasks/network_tasks.py'],1,45c992c1f396bc66cb61bf8fa0e448648a0d5f53,, if (availability_zone and availability_zone.get(constants.MANAGEMENT_NETWORK)): management_nets = [availability_zone.get( constants.MANAGEMENT_NETWORK)], if availability_zone: management_nets = ( [availability_zone.get(constants.MANAGEMENT_NETWORK)] or CONF.controller_worker.amp_boot_network_list),4,4
openstack%2Frequirements~stable%2Fussuri~I3e56c541996f83eeb6a30898225bee009630418c,openstack/requirements,stable/ussuri,I3e56c541996f83eeb6a30898225bee009630418c,update constraint for oslo.context to new release 3.0.3,MERGED,2021-11-08 17:24:45.000000000,2021-11-08 21:27:39.000000000,2021-11-08 21:27:39.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 17:24:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f79ffb5493cb035e5572e9f1f795b14e4d66995e', 'message': 'update constraint for oslo.context to new release 3.0.3\n\nmeta: version: 3.0.3\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I3bf1c9b9433467171a6c196291fd0a753ab7ac3a\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I3e56c541996f83eeb6a30898225bee009630418c\n'}]",0,817060,f79ffb5493cb035e5572e9f1f795b14e4d66995e,7,3,1,11131,,,0,"update constraint for oslo.context to new release 3.0.3

meta: version: 3.0.3
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I3bf1c9b9433467171a6c196291fd0a753ab7ac3a
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I3e56c541996f83eeb6a30898225bee009630418c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/817060/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f79ffb5493cb035e5572e9f1f795b14e4d66995e,new-release,oslo.context===3.0.3;python_version=='3.6' oslo.context===3.0.3;python_version=='3.7' oslo.context===3.0.3;python_version=='3.8',oslo.context===3.0.2;python_version=='3.6' oslo.context===3.0.2;python_version=='3.7' oslo.context===3.0.2;python_version=='3.8',3,3
openstack%2Fironic-python-agent~master~If5da3075e813ae01df3decf8f0647aba111b0515,openstack/ironic-python-agent,master,If5da3075e813ae01df3decf8f0647aba111b0515,Re-read the partition table with partx -a,MERGED,2021-11-08 07:22:52.000000000,2021-11-08 21:01:41.000000000,2021-11-08 20:58:57.000000000,"[{'_account_id': 6618}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-08 07:22:52.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/fix-rescan-device-7b00c6836b687ce8.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0', 'message': ""Re-read the partition table with partx -a\n\nRe-read the partition table with 'partx -a', rather than 'partx -u'.\n\nThis should fix an timing issue where the bootloader installation\nfails to mount the EFI partition from a whole disk image since it\nis not yet aware of the new partitions (observed with both, the\niscsi and the direct deploy interface).\n\nChange-Id: If5da3075e813ae01df3decf8f0647aba111b0515\n""}]",9,816941,dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0,14,3,1,11292,,,0,"Re-read the partition table with partx -a

Re-read the partition table with 'partx -a', rather than 'partx -u'.

This should fix an timing issue where the bootloader installation
fails to mount the EFI partition from a whole disk image since it
is not yet aware of the new partitions (observed with both, the
iscsi and the direct deploy interface).

Change-Id: If5da3075e813ae01df3decf8f0647aba111b0515
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/41/816941/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/fix-rescan-device-7b00c6836b687ce8.yaml']",3,dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0,partx_a,--- fixes: - | Fixes an issue where partitions are not visible due to a incorrect call to have the partition table re-read. ,,22,17
openstack%2Fcinder~stable%2Fxena~I2a83ab07ccec80b910c614a5f5743d642491e592,openstack/cinder,stable/xena,I2a83ab07ccec80b910c614a5f5743d642491e592,Fix typo in message policy deprecations,MERGED,2021-10-14 17:19:38.000000000,2021-11-08 20:18:50.000000000,2021-11-08 20:14:18.000000000,"[{'_account_id': 5046}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 12670}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32029}, {'_account_id': 32291}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-10-14 17:19:38.000000000', 'files': ['cinder/policies/messages.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0892af627e364334f3246f75be33a1dcc2f5a63', 'message': ""Fix typo in message policy deprecations\n\nThe similarity in the variable names for get and get_all slipped through\nwhen we implemented project personas support for messages:\n\n  https://review.opendev.org/c/openstack/cinder/+/806631\n\nAs a result, oslo.policy thought the policy name was changing, but it's\nnot. This commit updates the policy deprecations to use the right\ndeprecation variables.\n\nChange-Id: I2a83ab07ccec80b910c614a5f5743d642491e592\n(cherry picked from commit 651c936f22ac2a124ef1cfd486a5d3e6b1113e80)\n""}]",9,813936,c0892af627e364334f3246f75be33a1dcc2f5a63,33,12,1,21129,,,0,"Fix typo in message policy deprecations

The similarity in the variable names for get and get_all slipped through
when we implemented project personas support for messages:

  https://review.opendev.org/c/openstack/cinder/+/806631

As a result, oslo.policy thought the policy name was changing, but it's
not. This commit updates the policy deprecations to use the right
deprecation variables.

Change-Id: I2a83ab07ccec80b910c614a5f5743d642491e592
(cherry picked from commit 651c936f22ac2a124ef1cfd486a5d3e6b1113e80)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/813936/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/policies/messages.py'],1,c0892af627e364334f3246f75be33a1dcc2f5a63,," deprecated_rule=deprecated_get_all_policy, deprecated_rule=deprecated_get_policy,"," deprecated_rule=deprecated_get_policy, deprecated_rule=deprecated_get_all_policy,",2,2
openstack%2Frpm-packaging~master~I2643d7f172f0b30da1fabb97122e5fc09b8299d8,openstack/rpm-packaging,master,I2643d7f172f0b30da1fabb97122e5fc09b8299d8,Remove Babel dependency from osc-lib,MERGED,2021-10-26 15:23:05.000000000,2021-11-08 20:13:10.000000000,2021-11-08 20:13:10.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-26 15:23:05.000000000', 'files': ['openstack/osc-lib/osc-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3221284461753ba38dc413a44dc961dc4c337a83', 'message': 'Remove Babel dependency from osc-lib\n\nIt was removed from requirements  some time ago [1]\n\n[1] https://opendev.org/openstack/osc-lib/commit/dfe47ced5a754868386fc58a4894ccc0475ef01b\n\nChange-Id: I2643d7f172f0b30da1fabb97122e5fc09b8299d8\n'}]",2,815512,3221284461753ba38dc413a44dc961dc4c337a83,15,5,1,23851,,,0,"Remove Babel dependency from osc-lib

It was removed from requirements  some time ago [1]

[1] https://opendev.org/openstack/osc-lib/commit/dfe47ced5a754868386fc58a4894ccc0475ef01b

Change-Id: I2643d7f172f0b30da1fabb97122e5fc09b8299d8
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/12/815512/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/osc-lib/osc-lib.spec.j2'],1,3221284461753ba38dc413a44dc961dc4c337a83,no-babel-osc-lib,,BuildRequires: {{ py3('Babel') }}Requires: {{ py3('Babel') }},0,2
openstack%2Frpm-packaging~master~I9549337e6ae374288e358b33bdff1d3d11945133,openstack/rpm-packaging,master,I9549337e6ae374288e358b33bdff1d3d11945133,debtcollector: add importlib-metadata dependency,MERGED,2021-11-07 18:47:21.000000000,2021-11-08 20:13:08.000000000,2021-11-08 20:13:08.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-07 18:47:21.000000000', 'files': ['openstack/debtcollector/debtcollector.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9143c8eb39e9ee97ee933b5529e7b3b904bc8191', 'message': 'debtcollector: add importlib-metadata dependency\n\nthis was added in Ib10180732042bda254b058b94c9ff41f5c31c3cb\n\nChange-Id: I9549337e6ae374288e358b33bdff1d3d11945133\n'}]",0,816926,9143c8eb39e9ee97ee933b5529e7b3b904bc8191,10,6,1,6593,,,0,"debtcollector: add importlib-metadata dependency

this was added in Ib10180732042bda254b058b94c9ff41f5c31c3cb

Change-Id: I9549337e6ae374288e358b33bdff1d3d11945133
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/26/816926/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/debtcollector/debtcollector.spec.j2'],1,9143c8eb39e9ee97ee933b5529e7b3b904bc8191,,Requires: {{ py3('importlib-metadata') }},,1,0
openstack%2Fpython-openstackclient~master~I3f7e121220d29422ccf4e6940de2f28bb8496c83,openstack/python-openstackclient,master,I3f7e121220d29422ccf4e6940de2f28bb8496c83,compute: Return details of attached volumes,MERGED,2021-11-03 11:57:51.000000000,2021-11-08 19:56:36.000000000,2021-11-08 19:53:34.000000000,"[{'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-11-03 11:57:51.000000000', 'files': ['releasenotes/notes/show-result-for-server-add-volume-f75277ad58e31024.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/163cb01e46fc3f906154a7045fdbe9342cd446c7', 'message': ""compute: Return details of attached volumes\n\nThe API behind the 'server add volume' command returns details of the\ncreated volume attachment, however, we were dropping these results\nrather than displaying them to the user. Correct this.\n\nChange-Id: I3f7e121220d29422ccf4e6940de2f28bb8496c83\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,816491,163cb01e46fc3f906154a7045fdbe9342cd446c7,8,3,1,15334,,,0,"compute: Return details of attached volumes

The API behind the 'server add volume' command returns details of the
created volume attachment, however, we were dropping these results
rather than displaying them to the user. Correct this.

Change-Id: I3f7e121220d29422ccf4e6940de2f28bb8496c83
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/91/816491/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/show-result-for-server-add-volume-f75277ad58e31024.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,163cb01e46fc3f906154a7045fdbe9342cd446c7,compute-gaps,"class AddServerVolume(command.ShowOne): volume_attachment = compute_client.volumes.create_server_volume( columns = ('id', 'serverId', 'volumeId', 'device') column_headers = ('ID', 'Server ID', 'Volume ID', 'Device') if compute_client.api_version >= api_versions.APIVersion('2.49'): columns += ('tag',) column_headers += ('Tag',) if compute_client.api_version >= api_versions.APIVersion('2.79'): columns += ('delete_on_termination',) column_headers += ('Delete On Termination',) return ( column_headers, utils.get_item_properties( volume_attachment, columns, mixed_case_fields=('serverId', 'volumeId'), ) ) ",class AddServerVolume(command.Command): compute_client.volumes.create_server_volume(,108,10
openstack%2Fcinder~stable%2Fvictoria~Ic91a978303f11617bf29c88bf82235998947552a,openstack/cinder,stable/victoria,Ic91a978303f11617bf29c88bf82235998947552a,Tests: Fix compatibility with ddt 1.2.x,MERGED,2021-10-27 14:17:42.000000000,2021-11-08 19:56:23.000000000,2021-11-08 19:53:37.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-10-27 14:17:42.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bda74498d67a2d9d978eb1f522841387bec6310d', 'message': 'Tests: Fix compatibility with ddt 1.2.x\n\nstable/victoria lists that ddt 1.2.1 is supported,\nbut this decoration does not work with that version\nof ddt.\n\nRemove the TestNameFormat parameter for these tests.\n\n(stable-branch only fix)\nCloses-Bug: #1948934\nChange-Id: Ic91a978303f11617bf29c88bf82235998947552a\n'}]",3,815673,bda74498d67a2d9d978eb1f522841387bec6310d,20,5,1,4523,,,0,"Tests: Fix compatibility with ddt 1.2.x

stable/victoria lists that ddt 1.2.1 is supported,
but this decoration does not work with that version
of ddt.

Remove the TestNameFormat parameter for these tests.

(stable-branch only fix)
Closes-Bug: #1948934
Change-Id: Ic91a978303f11617bf29c88bf82235998947552a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/815673/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/flows/test_create_volume_flow.py'],1,bda74498d67a2d9d978eb1f522841387bec6310d,bug/1948934,@ddt.ddt,@ddt.ddt(testNameFormat=ddt.TestNameFormat.INDEX_ONLY),1,1
openstack%2Ftripleo-docs~master~Ifee55aef3761eecfc9683d6cfa96cc4832076736,openstack/tripleo-docs,master,Ifee55aef3761eecfc9683d6cfa96cc4832076736,Update undercloud install for EL8,MERGED,2021-08-26 16:01:20.000000000,2021-11-08 19:41:34.000000000,2021-11-08 19:38:46.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 16:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/fc11311ccc16ae81fd10bd732cb561db7a2b641e', 'message': 'Update undercloud install for EL8\n\nI think we can probably use RHEL / CentOS 8\ndefaults now for these docs. I added a note\nto refer to the EL7 way for older installs.\n\nChange-Id: Ifee55aef3761eecfc9683d6cfa96cc4832076736\n'}, {'number': 2, 'created': '2021-08-26 16:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b8dde09b55f586c0446ddbc61d9fc725d4ece17f', 'message': 'Update undercloud install for EL8\n\nI think we can probably use RHEL / CentOS 8\ndefaults now for these docs. I added a note\nto refer to the EL7 way for older installs.\n\nChange-Id: Ifee55aef3761eecfc9683d6cfa96cc4832076736\n'}, {'number': 3, 'created': '2021-08-26 16:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/71923c5fcebc02a09cb28b2c2888c2525fb2bcc0', 'message': 'Update undercloud install for EL8\n\nI think we can probably use RHEL / CentOS 8\ndefaults now for these docs. I added a note\nto refer to the EL7 way for older installs.\n\nChange-Id: Ifee55aef3761eecfc9683d6cfa96cc4832076736\n'}, {'number': 4, 'created': '2021-08-26 17:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/28e62e7326552aeb6c1ff2e3522a97f392088afd', 'message': 'Update undercloud install for EL8\n\nI think we can probably use RHEL / CentOS 8\ndefaults now for these docs. I added a note\nto refer to the EL7 way for older installs.\n\nChange-Id: Ifee55aef3761eecfc9683d6cfa96cc4832076736\n'}, {'number': 5, 'created': '2021-08-27 00:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6dec3abcb8ab731cf6056c2e57a1ef6b7db11114', 'message': 'Update undercloud install for EL8\n\nI think we can probably use RHEL / CentOS 8\ndefaults now for these docs. I added a note\nto refer to the EL7 way for older installs.\n\nChange-Id: Ifee55aef3761eecfc9683d6cfa96cc4832076736\n'}, {'number': 6, 'created': '2021-09-02 21:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ef6416a82af394c544ed23cafa4cfed843d22660', 'message': 'Update undercloud install for EL8\n\nI think we can probably use RHEL / CentOS 8\ndefaults now for these docs. I added a note\nto refer to the EL7 way for older installs.\n\nChange-Id: Ifee55aef3761eecfc9683d6cfa96cc4832076736\n'}, {'number': 7, 'created': '2021-11-03 19:20:41.000000000', 'files': ['deploy-guide/source/deployment/install_undercloud.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/31608b234231a471c7b8b907e43f4bb3c5a90e6c', 'message': 'Update undercloud install for EL8\n\nI think we can probably use RHEL / CentOS 8\ndefaults now for these docs. I added a note\nto refer to the EL7 way for older installs.\n\nChange-Id: Ifee55aef3761eecfc9683d6cfa96cc4832076736\n'}]",6,806236,31608b234231a471c7b8b907e43f4bb3c5a90e6c,27,4,7,30073,,,0,"Update undercloud install for EL8

I think we can probably use RHEL / CentOS 8
defaults now for these docs. I added a note
to refer to the EL7 way for older installs.

Change-Id: Ifee55aef3761eecfc9683d6cfa96cc4832076736
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/36/806236/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/install_undercloud.rst'],1,fc11311ccc16ae81fd10bd732cb561db7a2b641e,, Enable optional repo for RHEL7:: sudo dnf install -y python3-tripleoclient .. note:: For RHEL7 the command would be:: sudo dnf install -y ceph-ansible, Enable optional repo:: sudo yum install -y ceph-ansible,6,2
openstack%2Ftripleo-specs~master~I51f340d3250ee3b03be48b962efbc001d5e7ddb7,openstack/tripleo-specs,master,I51f340d3250ee3b03be48b962efbc001d5e7ddb7,TripleO.Next - Task-Core + Directord,MERGED,2021-07-21 14:47:24.000000000,2021-11-08 19:27:58.000000000,2021-11-08 19:25:20.000000000,"[{'_account_id': 4264}, {'_account_id': 6681}, {'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7294}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 17823}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 26343}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 28522}, {'_account_id': 29455}, {'_account_id': 30073}, {'_account_id': 31245}, {'_account_id': 32432}, {'_account_id': 32926}, {'_account_id': 33080}]","[{'number': 1, 'created': '2021-07-21 14:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/b47a199f1a6c3c9317436ff38edde274e83afa4a', 'message': 'TripleO.Next - Task-Core + Directord\n\nAdd spec to introduce task-core and directord into the tripleo stack.\n\nChange-Id: I51f340d3250ee3b03be48b962efbc001d5e7ddb7\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2021-07-22 12:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/73a014c1e02e5c5e1a29c17e2ab6310863a1eea6', 'message': 'TripleO.Next - Task-Core + Directord\n\nAdd spec to introduce task-core and directord into the tripleo stack.\n\nChange-Id: I51f340d3250ee3b03be48b962efbc001d5e7ddb7\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2021-08-05 15:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/1c13b866955721f7542d43c6cfb514d80632b2ae', 'message': 'TripleO.Next - Task-Core + Directord\n\nAdd spec to introduce task-core and directord into the tripleo stack.\n\nChange-Id: I51f340d3250ee3b03be48b962efbc001d5e7ddb7\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2021-08-05 20:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/975c7280c649e390625700604c793d41bf05e32c', 'message': 'TripleO.Next - Task-Core + Directord\n\nAdd spec to introduce task-core and directord into the tripleo stack.\n\nChange-Id: I51f340d3250ee3b03be48b962efbc001d5e7ddb7\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2021-08-09 22:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/4343a903a9775be29ded3413d5551e871abb6be5', 'message': 'TripleO.Next - Task-Core + Directord\n\nAdd spec to introduce task-core and directord into the tripleo stack.\n\nChange-Id: I51f340d3250ee3b03be48b962efbc001d5e7ddb7\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2021-09-29 15:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/b9cb26966ec763c777d13ac9cc370831cd8ef0bd', 'message': 'TripleO.Next - Task-Core + Directord\n\nAdd spec to introduce task-core and directord into the tripleo stack.\n\nChange-Id: I51f340d3250ee3b03be48b962efbc001d5e7ddb7\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2021-10-26 13:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/0e8034135ba7d712b96d255f02689b46ce4ffe35', 'message': 'TripleO.Next - Task-Core + Directord\n\nAdd spec to introduce task-core and directord into the tripleo stack.\n\nChange-Id: I51f340d3250ee3b03be48b962efbc001d5e7ddb7\nCo-authored-By: James Slagle <jslagle@redhat.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 8, 'created': '2021-10-26 20:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/bdb4a976df5de39c689318f8dd29dfdf5e4c5d05', 'message': 'TripleO.Next - Task-Core + Directord\n\nAdd spec to introduce task-core and directord into the tripleo stack.\n\nChange-Id: I51f340d3250ee3b03be48b962efbc001d5e7ddb7\nCo-authored-By: James Slagle <jslagle@redhat.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 9, 'created': '2021-10-28 16:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/8b58c95a5aa1db8d55720c892b6a06146e649d2a', 'message': 'TripleO.Next - Task-Core + Directord\n\nAdd spec to introduce task-core and directord into the tripleo stack.\n\nChange-Id: I51f340d3250ee3b03be48b962efbc001d5e7ddb7\nCo-authored-By: James Slagle <jslagle@redhat.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nSigned-off-by: James Slagle <jslagle@redhat.com>\nSigned-off-by: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 10, 'created': '2021-10-28 16:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/4681e90d34982b82fa53c3a39c1c4974930eb11e', 'message': 'TripleO.Next - Task-Core + Directord\n\nAdd spec to introduce task-core and directord into the tripleo stack.\n\nChange-Id: I51f340d3250ee3b03be48b962efbc001d5e7ddb7\nCo-authored-By: James Slagle <jslagle@redhat.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nSigned-off-by: James Slagle <jslagle@redhat.com>\nSigned-off-by: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 11, 'created': '2021-10-29 13:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/3b2b55a9e238cd3f88e6c41d913896202b51f9e2', 'message': 'TripleO.Next - Task-Core + Directord\n\nAdd spec to introduce task-core and directord into the tripleo stack.\n\nChange-Id: I51f340d3250ee3b03be48b962efbc001d5e7ddb7\nCo-authored-By: James Slagle <jslagle@redhat.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nSigned-off-by: James Slagle <jslagle@redhat.com>\nSigned-off-by: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 12, 'created': '2021-10-29 19:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/d0d0c5724ef9bec0223c7123796e26bca21349ab', 'message': 'TripleO.Next - Task-Core + Directord\n\nAdd spec to introduce task-core and directord into the tripleo stack.\n\nChange-Id: I51f340d3250ee3b03be48b962efbc001d5e7ddb7\nCo-authored-By: James Slagle <jslagle@redhat.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nSigned-off-by: James Slagle <jslagle@redhat.com>\nSigned-off-by: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 13, 'created': '2021-11-03 15:34:59.000000000', 'files': ['specs/yoga/taskcore-directord.rst', 'specs/yoga/placeholder.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/a52098ceb2f5fc62b36ddcc225d40f73d867cb58', 'message': 'TripleO.Next - Task-Core + Directord\n\nAdd spec to introduce task-core and directord into the tripleo stack.\n\nChange-Id: I51f340d3250ee3b03be48b962efbc001d5e7ddb7\nCo-authored-By: James Slagle <jslagle@redhat.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nSigned-off-by: James Slagle <jslagle@redhat.com>\nSigned-off-by: Alex Schultz <aschultz@redhat.com>\n'}]",245,801630,a52098ceb2f5fc62b36ddcc225d40f73d867cb58,210,34,13,7353,,,0,"TripleO.Next - Task-Core + Directord

Add spec to introduce task-core and directord into the tripleo stack.

Change-Id: I51f340d3250ee3b03be48b962efbc001d5e7ddb7
Co-authored-By: James Slagle <jslagle@redhat.com>
Signed-off-by: Kevin Carter <kecarter@redhat.com>
Signed-off-by: James Slagle <jslagle@redhat.com>
Signed-off-by: Alex Schultz <aschultz@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/30/801630/9 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/directord-orchestration.rst'],1,b47a199f1a6c3c9317436ff38edde274e83afa4a,change-801630-5,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================================== Unifying TripleO Orchestration with Task-Core and Directord =========================================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/tripleo/+spec/unified-orchestration The purpose of this spec is to introduce core concepts around Task-Core and Directord, explain their benefits, and cover why the project should consider using them. TripleO has long been established as an enterprise deployment solution for OpenStack. While TripleO has been built to meet the needs of operators, it has never been built to be fast or concise. TripleO maintains many layers of abstraction which are effectively infinitely configurable, all at the expense of time. Over the past few cycles, the TripleO core team has been on a mission to simplifying the stack, focusing on removing unnecessary services and minimizing or marginalizing other over-engineered components. These efforts have come to a head and are now approaching the point of diminishing returns. To further ease the time and complexity burdens within TripleO, the project must look deeper to achieve the next level of improvement; this is where Task-Core and Directord come in. Task-Core_: A dependency management and inventory graph solution which allows operators to define tasks in simple terms with robust dominion over a given environment. Declarative dependencies will ensure that if a container/config is changed, only the necessary services are reloaded/restarted. Task-Core provides access to the right tools for a given job with provenance, allowing operators and developers to define outcomes confidently. Directord_: A deployment framework built to manage the data center life cycle, which is both modular and fast. Directord focuses on consistently maintaining deployment expectations with a near real-time level of performance_ at almost any scale. Problem Description =================== TripleO presently uses a collection of bespoke tools to achieve its orchestration goals. While the TripleO tool suite has worked and is likely to continue working should maintainers bear an increased burden, recent revelations around the apparatuses provide an inflection point. Because of the impending perfect storm spanning almost everything in the TripleO stack, the project is presented with a choice: stay the course or confidently course correct. Staying the course: The TripleO project increases the core team size and begins planning for long term maintenance. The project focus on developing individual maintainers for at risk components (Ansible, Puppet, Heat); efforts to further simplify TripleO ostensibly come to an end. While new deployment models may be developed, decreasing time complexity and scalability will no longer be a focus of the core team. The core team will ensure the TripleO project remains practical_ for the forseeable future. Course correcting: Begin the systematic replacement of legacy core components with more tailored solutions to meet the project's actual needs. Tailoring the stack will simplify the maintenance required across life cycles. The corrective action necessary to provide TripleO with a quantum leap will be invasive; having said that, once complete, TripleO will exceed operator expectations and meet future scale requirements ensuring platform sovereignty all without breaking the user interface. Upstream changes within applications like Ansible, where it is fundamentally moving away from the TripleO use case, force TripleO maintainers to take on more ownership for no additional benefit. The TripleO use case is actively working against the future direction of Ansible. Secondly, while puppet has remained stable over the years, the maintainers for puppet modules within TripleO have reached an all-time low, represent a significant amount of complexity in the stack, and becoming more of a risk to the project day. The cost of maintaining systems like Ansible and Puppet, and all of their corresponding overlapping functionality, especially as the project looks to support future OS versions, has a high likelihood of causing a significant disruption to the TripleO project. When an infinitely configurable interface powered by Heat is compound against tightly coupled integrations across a set of increasingly brittle services, TripleO is being faced with an `existential crisis`_; the TripleO project needs to maintain less across the framework. Presently, TripleO will see its objective end without a course correction as there's no longer any meaningful performance, scale, or configurability that can be squeezed out of the current system. Additionally, as the project veers further off the path of leveraging supportable community tools, TripleO will see the time to deliver indefinably extend, as the project's value proposition invariably declines. To stem the tide, TripleO must greatly simplify the framework, enable developers to build intelligent tasks, and provide meaningful performance enhancements that scale to meet operators' expectations. If TripleO can capitalize on this moment, it will improve the quality of life for day one deployers and day two operations and upgrades. Proposed Change =============== Dramatically enhance the TripleO developer, operator, user experience by unifying the stack with tools built for TripleO by TripleO. In some ways, the move toward Task-Core and Directord creates a General-Problem_, as it's proposing the replacement of many bespoke tools, which are well known, with two new homegrown ones. Be that as it may, much attention has been given to the user experience, addressing many well-known pain points commonly associated with TripleO environments. Task-Core and Directord aim to remove problems at scale, drop the development barrier to entry, and open the flood gates of innovation. Teams surrounding TripleO will no longer worry about execution times and convoluted step processes. TripleO Deployers and developers of tomorrow will be empowered to run operations within an environment without dedicating weeks to a risky or otherwise error-prone process. Overview -------- This specification consists of two parts that work together to achieve the project goals. Task-Core: Task-Core builds upon native OpenStack libraries to create a dependency graph and executes a compiled solution. With Task-Core, TripleO will be able to define a deployment instead of a brute-forcing one. While powerful, Task-Core keeps development easy and consistent, reducing the time to deliver and allowing developers to focus on their actual deliverable, not the orchestration details. Task-Core also guarantees reproducible builds, runtime awareness, and the ability to resume when issues are encountered. * Templates containing step-logic and ad-hoc tasks will be refactored into Task-Core definitions. * Each component can have its own Task-Core purpose, providing resources and allowing other resources to depend on it. * The invocation of Task-Core will be baked into the TripleO client, making its existence transparent to operators and deployers. * Advanced users will be able to use Task-Core to meet their environment expectations without fully understanding the deployment nuance of multiple bespoke systems. Directord: Directord provides a modular execution platform that is environmentally aware. Because Directord leverages messaging, the platform can guarantee availability, transport, and performance. Directord has been built from the ground up, making use of industry-standard messaging protocols which ensure pseudo-real-time performance and limited resource utilization. The built-in DSL provides most of what the TripleO project will require out of the box. Because no solution is perfect, Directord utilizes a plugin system that will allow developers to create new functionality without compromise or needing to modify core components. Additionally, plugins are handled the same, allowing Directord to ensure the delivery and execution performance remain consistent. * Directord is a single application that is ideally suited for containers while also providing native hooks into systems; this allows Directord to operate in heterogeneous environments. Because Directord is a simplified application, operators can choose how they want to run it and are not forced into a one size fits all solution. * Directord is platform-agnostic, allowing it to run across systems, versions, and network topologies while simultaneously guarantying it maintains the smallest possible footprint. * Directord is built upon messaging, giving it the unique ability to span network topologies with varying latencies; messaging protocols compensate for high latency environments and will finally give TripleO the ability to address multiple data-centers and fully embrace ""the edge."" With Task-Core and Directord, TripleO will take a quantum leap in performance and configurability. TripleO will no longer force developers and deployers to run massive single-use systems to meet deployment goals. TripleO will have an intelligent dependency graph that is both easy to understand and extend. TripleO will now be environmentally aware, making it possible to run day two operations quickly and efficiently. TripleO will better fulfill its life cycle management through the use of cluster-aware orchestration. Finally, TripleO will dramatically shrink its maintenance burden by eliminating many bespoke systems running in unique and unsupported ways. Alternatives ------------ The TripleO core team grows and embraces the maintenance burden of the bespoke `legacy tooling`_ currently responsible for orchestration. Additionally, the TripleO project begins documenting the scale limitations and the boundaries that will never be addressed due to these limitations. Finally, TripleO effectively ends the multi-cycle simplification efforts and shifts focus to the required maintenance to maintain functional expectations long term. Security Impact --------------- While Task-Core and Directord are two new attack surfaces, their implementation will eventually remove the entirety of services like Ansible and Puppet, which are considerably more extensive in scope. A new Security assessment will need to be performed to ensure the tooling exceeds the standard already set. That said, steps have already been taken to ensure that systems are FIPS_ compatible, ensuring TripleO aims for a higher standard of operation from day one. Upgrade Impact -------------- Upgrades will hopefully be impacted in a very positive way. With the introduction of Task-Core, upgrade tasks will use well-defined dependencies and job tailored actions. Therefore, upgrade jobs should be much more efficient, easier to understand, and effectively more straightforward; all of which make execution inherently faster. At present there's no possible way for TripleO to meet the expectation of being able to perform upgrade/update tasks rapidly; in the future, should this specification be implemented, TripleO will address updates and upgrades efficiently, with the aim to regin in maintenance windows so that TripleO is no longer synonymous with operations that take exorbitant amounts of time. The introduction of Directord will necessitate a rewrite of much of the underlying functionality; however, upgrade tasks should be easily ported into the Directord orchestrations and will allow TripleO to begin writing upgrades that are based on the needs of a job, and allow us to massively simplify the task definitions. Both Task-Core and Director greatly improve the quality of life for operators and developers when considering upgrades and roll back operations. The TripleO project will finally realize roll-forward/backward capabilities on a per-application basis in a time conscious way. No longer will a failed operation result in cluster wide instability and obscurity. When planning activities the Task-Core dependency graph will ensure only the actions required are included, without duplication, or forcing deployers into multi-day maintenance scenarios. With Directord operations are easily written and transparently executed. The combination of Task-Core and Directord will empower updates and upgrades in ways never thought possible. Other End User Impact --------------------- When following the `happy path`_, the end-user, deployers, and operators will not interact with this change. The user interface will effectively remain the same. If an operator wishes to leverage the advanced capabilities of either Task-Core or Directord, the tooling will be documented and at their disposal. It should be noted that there's a change in deployment architecture in that Directord follows a server/client model; albeit an ephemeral one. This change aims to be fully transparent, however, it is something that end users, deployers, will need to be aware of. Performance Impact ------------------ This specification, if implemented, will have a massive impact on performance. With Directord, the TripleO project will enjoy near-realtime execution without compromise. * Performance_ analysis has been done comparing configurability and runtime of Directord vs. Ansible, the TripleO default orchestration tool. This analysis highlights some of the performance gains this specification will provide; initial testing suggests that Task-Core and Directord is more than 10x faster than our current tool chain, representing a potential 90% time savings when executing a comparable workload. * One of the goals of this specification is to remove impediments in the time to work. Deployers should not be spending exorbitant time waiting for tools to do work; in some cases, waiting longer for a worker to be available than it would take to perform a task manually. * Deployers will no longer be required to run a massive server for medium-scale deployment. Regardless of size, the memory footprint and compute cores needed to execute a deployment will be significantly reduced. Other Deployer Impact --------------------- Deployers are the primary focus of this specification, and the impact to them could be positively huge. The time savings alone represents a massive quality of life improvement. The ability to configure deployments and debug problems is an unexpected bonus. If TripleO deployers are also considered developers, the ease of implementing new services will be a welcomed addition. All that said, both Task-Core and Directord represent an unknown factor; as such, they are **not** battle-tested and will create uncertainty in an otherwise ""stable_"" project. Implementing both Task-Core and Directord promises a better tomorrow by fulfilling resolutions derived from the past. Extensive testing has been done; all known use-cases, from system-level configuration to container pod orchestration, have been covered, and automated tests have been created to ensure nothing breaks unexpectedly. Additionally, for the first time, these projects have expectations on performance, with tests backing up those claims, even at a large scale. This proposal aims to remove a mountain of technical debt while doing its best to create as little new debt as possible, all under the lens of improving the lives of deployers. Should TripleO adopt Task-Core and Directord, new cloud topologies will open to deployers. At present, TripleO assumes SSH access between the Undercloud and Overcloud is always present. Additionally, TripleO believes the infrastructure is relatively static, making day two operations risky and potentially painful. Task-Core will reduce the computational burden when crafting action plans, and Directord will ensure actions are always performed against the functional hosts. Another improvement this specification will enhance is in the area of vendor integrations. Vendors will finally be able to provide meaningful task definitions which leverage an intelligent inventory and dependency system. No longer will TripleO require vendors have in-depth knowledge of every deployment detail, even those outside of the scope of their deliverable. By easing the job definitions, simplifying the development process, and speeding up the execution of tasks deployers will finally be able to develop solutions and test them with confidence, without needing to spend months embedding resources into TripleO and committing to huge capital expenditures associated with a minimally functional environment. Test clouds are still highly recommended sources of information, however, system requirements on the Undercloud will reduce meaning the cost of running test environments, in terms of both hardware and time, will be significantly lowered. Developer Impact ---------------- Task-Core provides access to the right tool when required, meaning the implementation of Task-Core will not adversely impact developers as they can presently write code in whatever format they want; Ansible, Puppet, and Directord are all perfectly viable options. Developers will need to change their focus on tasks and ensure their jobs use the new graphing capabilities. Because of the built-in dependency graph, the implementation of Task-Core should be a welcomed one, without much in the way of negative developer impact. One hugely positive impact on developers can be found in the Task-Core interface validation_. Task-Core will validate the input scheme_ making the framework more intelligent, thereby removing errors caused by the ""free-form"" input and correctly setting task expectations. To fully realize the benefits of this specification Ansible tasks will need to be refactored into the Task-Core scheme. While Task-Core can run Ansible and Directord has a plugin system which easily allows develoeprs to port legacy modules into Directord plugins, there will be a developer impact as the TripleO development methodology will change. It's fair to say that the potential developer impact will be huge, yet, the shift isn't monumental. Much of the Ansible presently in TripleO is shell-oriented, and as such, it is easily portable and as stated, compatibility layers exist allowing the TripleO project to make the required shift gradually. That said, once the Ansible tasks are ported, the time saved in execution will be massive; this is on top of the fact that TripleO will no longer be plagued with errors in day two operations resulting from transient inventory. Example `Task-Core and Directord implementation for Keystone`_: While this implementation example is fairly basic, it does result in a functional Keystone environment and in roughly 5 minutes and includes services like MySQL, RabbitMQ, Keystone as well as ensuring that the operating systems is setup and configured for a cloud execution environment. The most powerful aspect of this example is the inclusion of the graph dependency system which will allow us easily externalize services, such as in the case where deployers wish offload applications into environments like OKD. The implementation of Task-Core and Directord will not change the user interface when following a `happy path`_; however, it will allow developers to bridge the TripleO to OKD gap more effectively. As mentioned, Directord is container-native. Images for Directord already exist on Quay, Dockerhub, and Github registries, all of the appropriate meta-data is available to support an OKD environment, and tests have been implemented to ensure Directord is functional from within pod environments. With Directord's ability to automagically support heterogeneous infrastructure, TripleO developers and deployers will now be able to implement solutions bridging container-native and physical infrastructure without relying on fragile interfaces or legacy transport models. * The use of advanced messaging protocols means TripleO will efficiently address deployments in local data centers or at the edge without transport stress. * The Directord server and storage can be easily offloaded, making it possible for the TripleO Client to be executed from simple environments without access to the overcloud network; imagine running a massive deployment from a laptop. * TripleO through the implementation of Task-Core and Directord will finally be able to compartmentalize systems. Implementation ============== In terms of essential TripleO integration, most of the work will occur within the tripleoclient_, with the following new workflow. Execution Workflow:: ┌────┐ ┌─────────────┐ ┌─────────┐ ┌─────────┬──────┐ ??????????? │USER├──►│TripleOclient├──►│Task-Core├──►│Directord│Server├──►? Network ? └────┘ └─────────────┘ └─────────┘ └─────────┴──────┘ ??????????? ▲ ▲ ▲ │ ┌─────────┬───────┐ | | └─────────────►│Directord│Storage│◄──┘ | └─────────┴───────┘ | | ┌─────────┬──────┐ | │Directord│Client│◄───────┘ └─────────┴──────┘ * Directord|Server - Task executor connecting to client. * Directord|Client - Client program running on remote hosts connecting back to the Directord|Server. * Directord|Storage - An optional component, when not externalized, Directord will maintain the runtime storage internally. In this configuration Directord is ephemeral. To enable a gradual transition, ansible-runner_ has been implemented within Task-Core, allowing the TripleO project to convert playbooks into tasks that rely upon strongly typed dependencies without requiring a complete rewrite. The initial implementation should be transparent. Once the Task-Core hooks are set within tripleoclient_ functional groups can then convert their tripleo-ansible_ roles or ad-hoc Ansible tasks into Directord orchestrations. Teams will have the flexibility to transition code over time and are incentivized by a significantly improved user experience and shorter time to delivery. Assignee(s) ----------- Primary assignee: * Cloudnull - Kevin Carter * Mwhahaha - Alex Schultz Other contributors: * Slagel - James Slagel * Odyssey4me - Jesse Pretorius Work Items ---------- 1. Package all of the Task-Core and Directord dependencies, should there be any. 2. Package both Task-Core and Directord. 3. Converge on a Directord deployment model (container, system, hybrid). 4. Implement the Task-Core code path within TripleO client. 5. Port In template Ansible tasks to Directord orchestrations. 6. Port Ansible roles into Directord orchestrations. Dependencies ============ Both Task-Core and Directord are dependencies, as they're new projects. These dependencies may or may not be brought into the OpenStack namespace; regardless, both of these projects, and their associated dependencies, will need to be packaged and provided for by RDO. Testing ======= If successful, the implementation of Task-Core and Directord will leave the existing testing infrastructure unchanged. TripleO will continue to function as it currently does through the use of the tripleoclient_. New tests will be created to ensure the Task-Core and Directord components remain functional and provide an SLA around performance and configurability expectations. Documentation Impact ==================== Documentation around Ansible will need to be refactored. New documentation will need to be created to encompass of the of the advanced usage of Task-Core and Directord. Much of the client interactions from the ""`happy path`_"" will remain unchanged. References ========== * Directord official documentation https://directord.com * Ansible's decision to pivot to execution environments: https://ansible-runner.readthedocs.io/en/latest/execution_environments.html * Puppet 7 running experimental support for Ruby 3: https://tickets.puppetlabs.com/browse/PUP-10957 .. _Task-Core: https://github.com/mwhahaha/task-core .. _Directord: https://github.com/cloudnull/directord .. _`existential crisis`: https://xkcd.com/1821 .. _General-Problem: https://xkcd.com/974 .. _`legacy tooling`: https://xkcd.com/1822 .. _FIPS: https://en.wikipedia.org/wiki/Federal_Information_Processing_Standards .. _Performance: https://directord.com/overview.html#comparative-analysis .. _practical: https://xkcd.com/382 .. _stable: https://xkcd.com/1343 .. _validation: https://xkcd.com/327 .. _scheme: https://github.com/mwhahaha/task-core/tree/main/schema .. _`Task-Core and Directord implementation for Keystone`: https://raw.githubusercontent.com/mwhahaha/task-core/main/examples/directord/services/openstack-keystone.yaml .. _`happy path`: https://xkcd.com/85 .. _tripleoclient: https://github.com/openstack/python-tripleoclient .. _ansible-runner: https://github.com/ansible/ansible-runner .. _tripleo-ansible: https://github.com/openstack/tripleo-ansible ",,520,0
openstack%2Freleases~master~I29295dddb2619043a43957e5e2c2f64d0787784b,openstack/releases,master,I29295dddb2619043a43957e5e2c2f64d0787784b,Allow to add reviewers for DPL teams,MERGED,2021-10-26 14:11:08.000000000,2021-11-08 18:20:34.000000000,2021-11-08 18:20:34.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-26 14:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7e212557032ffeae53d549315062a52c3a75dfc8', 'message': ""Allow to add reviewers for DPL teams\n\nThese teams are PTL-less and not necessary define their\nrelease liaison openstack/release/data/release_liaison.yaml.\n\nThe problem is that their official reviewers arn't necessarly\ndetected.\n\nThese changes allow to consider these release liaisons folks.\n\nChange-Id: I29295dddb2619043a43957e5e2c2f64d0787784b\n""}, {'number': 2, 'created': '2021-11-08 17:28:43.000000000', 'files': ['openstack_releases/cmds/get_contacts.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/59cabc808ccefb7c945e3f85efe9dad267dc5b90', 'message': ""Allow to add reviewers for DPL teams\n\nThese teams are PTL-less and not necessary define their\nrelease liaison openstack/release/data/release_liaison.yaml.\n\nThe problem is that their official reviewers arn't necessarly\ndetected.\n\nThese changes allow to consider these release liaisons folks.\n\nChange-Id: I29295dddb2619043a43957e5e2c2f64d0787784b\n""}]",2,815507,59cabc808ccefb7c945e3f85efe9dad267dc5b90,10,3,2,28522,,,0,"Allow to add reviewers for DPL teams

These teams are PTL-less and not necessary define their
release liaison openstack/release/data/release_liaison.yaml.

The problem is that their official reviewers arn't necessarly
detected.

These changes allow to consider these release liaisons folks.

Change-Id: I29295dddb2619043a43957e5e2c2f64d0787784b
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/815507/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/get_contacts.py'],1,7e212557032ffeae53d549315062a52c3a75dfc8,dpl-validate-ptl," # Some teams may be PTL-less if team_data.ptl.get('email', None): contacts.add(Contact(team_data.ptl)) # At this point we consider this team as a team following the # DPL governance model else: rel_liaisons = team_data.liaisons['release'] for liaison in rel_liaisons: contacts.add(Contact(liaison))", contacts.add(Contact(team_data.ptl)),9,1
openstack%2Fironic-python-agent~stable%2Fxena~I1f67b0fb1f645fa82e98bd7c7bba3ffc7755cc74,openstack/ironic-python-agent,stable/xena,I1f67b0fb1f645fa82e98bd7c7bba3ffc7755cc74,Fix UEFI record regex,MERGED,2021-11-08 14:05:34.000000000,2021-11-08 17:34:15.000000000,2021-11-08 17:31:55.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-08 14:05:34.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/correct-uefi-regex-112211c2427cd4d9.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e10f052c06c03016b0ff4d9c1f3191c79fc50a1a', 'message': 'Fix UEFI record regex\n\nI accidently put colons on the test data and remembered taking the\ncolon character out of the regex I was working on, but apparently\nleft it in, and accounted for the active entry indicator flag\nwhich appears to have inconsistent support across vendors.\n\nThe regex has been fixed, and a test added from a Lenovo SR650\nwhich has some additional string entry data in the UEFI output\nwhich may separate entries.\n\nChange-Id: I1f67b0fb1f645fa82e98bd7c7bba3ffc7755cc74\n'}]",0,817008,e10f052c06c03016b0ff4d9c1f3191c79fc50a1a,7,2,1,11655,,,0,"Fix UEFI record regex

I accidently put colons on the test data and remembered taking the
colon character out of the regex I was working on, but apparently
left it in, and accounted for the active entry indicator flag
which appears to have inconsistent support across vendors.

The regex has been fixed, and a test added from a Lenovo SR650
which has some additional string entry data in the UEFI output
which may separate entries.

Change-Id: I1f67b0fb1f645fa82e98bd7c7bba3ffc7755cc74
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/08/817008/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/correct-uefi-regex-112211c2427cd4d9.yaml']",3,e10f052c06c03016b0ff4d9c1f3191c79fc50a1a,,--- fixes: - | Fixes a minor issue with the regular expression used for UEFI duplicate entry cleanup which was introduced in a prior change to refactor the cleanup operation to avoid UEFI firmware which treats deletion of entries after addition as an invalid operation. ,,75,6
openstack%2Freleases~master~Ieaf1eafc6a8e3ce443d73876e525f738e51dea67,openstack/releases,master,Ieaf1eafc6a8e3ce443d73876e525f738e51dea67,Allow to check release approval for DPL teams,MERGED,2021-10-26 13:14:45.000000000,2021-11-08 17:10:50.000000000,2021-11-08 17:10:50.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-10-26 13:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/52b2ad8babe085a9d227189a49afffe91f9bd721', 'message': 'Allow to check release approval for DPL teams\n\nThese teams are PTL-less and not necessary define their\nrelease liaison openstack/release/data/release_liaison.yaml.\n\nThe problem is that their release liaison approval is not\nnecessarly detected.\n\nThese changes allow to consider these release liaisons folks.\n\nChange-Id: Ieaf1eafc6a8e3ce443d73876e525f738e51dea67\n'}, {'number': 2, 'created': '2021-11-05 15:12:21.000000000', 'files': ['tools/check_approval.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/3dfdc3e59be4e653bbc0085aaafed594e4c044c9', 'message': 'Allow to check release approval for DPL teams\n\nThese teams are PTL-less and not necessary define their\nrelease liaison in openstack/release/data/release_liaison.yaml.\n\nThe problem is that their release liaison approval is not\nnecessarily detected.\n\nThese changes allow to consider these release liaisons folks.\n\nFurthermore, patch Id0d6eeaf66394806374781d1cf26c087a6e90f87,\nfrom the similar script in project-config repository, also applied\nhere in this script to avoid exception in case of DPL teams.\n\nChange-Id: Ieaf1eafc6a8e3ce443d73876e525f738e51dea67\n'}]",4,815499,3dfdc3e59be4e653bbc0085aaafed594e4c044c9,13,3,2,28522,,,0,"Allow to check release approval for DPL teams

These teams are PTL-less and not necessary define their
release liaison in openstack/release/data/release_liaison.yaml.

The problem is that their release liaison approval is not
necessarily detected.

These changes allow to consider these release liaisons folks.

Furthermore, patch Id0d6eeaf66394806374781d1cf26c087a6e90f87,
from the similar script in project-config repository, also applied
here in this script to avoid exception in case of DPL teams.

Change-Id: Ieaf1eafc6a8e3ce443d73876e525f738e51dea67
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/815499/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check_approval.py'],1,52b2ad8babe085a9d227189a49afffe91f9bd721,dpl-validate-ptl," # Sone teams follow the ""distributed project lead"" governance # model so they are PTL-less but they have release liaisons # defined. if govteam.get('distributed', None): release_liaisons = govteam['liaison']['release'] for liaison in release_liaisons: liaisons.append(liaison['email']) ",,9,0
openstack%2Freleases~master~I3bf1c9b9433467171a6c196291fd0a753ab7ac3a,openstack/releases,master,I3bf1c9b9433467171a6c196291fd0a753ab7ac3a,[ussuri] release oslo.context 3.0.3,MERGED,2021-11-04 14:52:15.000000000,2021-11-08 17:07:39.000000000,2021-11-08 17:07:39.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 14:52:15.000000000', 'files': ['deliverables/ussuri/oslo.context.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ce1b31fb2279183b3359483c7c65c6c2197ef1cf', 'message': '[ussuri] release oslo.context 3.0.3\n\nChange-Id: I3bf1c9b9433467171a6c196291fd0a753ab7ac3a\n'}]",1,816707,ce1b31fb2279183b3359483c7c65c6c2197ef1cf,8,3,1,28522,,,0,"[ussuri] release oslo.context 3.0.3

Change-Id: I3bf1c9b9433467171a6c196291fd0a753ab7ac3a
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/816707/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/oslo.context.yaml'],1,ce1b31fb2279183b3359483c7c65c6c2197ef1cf,oslo-ussuri, - version: 3.0.3 projects: - repo: openstack/oslo.context hash: 47fcc64a8cdae0a98258c90b12159d75dcaa13ca,,4,0
openstack%2Fsushy~master~I4bf07bc688c0b5ddab7ed7ddabc6f82dd35f1f84,openstack/sushy,master,I4bf07bc688c0b5ddab7ed7ddabc6f82dd35f1f84,Add some VirtualMedia fields from 1.3.0 and 1.4.0,MERGED,2021-10-15 15:49:50.000000000,2021-11-08 16:42:54.000000000,2021-11-08 16:40:28.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-10-15 15:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/ad4026bc5766c78c98eeed44b09ccd2251ccff3f', 'message': 'Add some VirtualMedia fields from 1.3.0 and 1.4.0\n\nAdds and allows changing TransferMethod and VerifyCertificate.\nAlso allows reading UserName.\n\nChange-Id: I4bf07bc688c0b5ddab7ed7ddabc6f82dd35f1f84\n'}, {'number': 2, 'created': '2021-10-22 09:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/caa9313b6f67f998f6c34f7be32823707ed0acda', 'message': 'Add some VirtualMedia fields from 1.3.0 and 1.4.0\n\nAdds and allows changing TransferMethod and VerifyCertificate.\nAlso allows reading UserName.\n\nChange-Id: I4bf07bc688c0b5ddab7ed7ddabc6f82dd35f1f84\n'}, {'number': 3, 'created': '2021-10-26 11:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/b516eb69b83e814e2630ec01961c3e136acb214d', 'message': 'Add some VirtualMedia fields from 1.3.0 and 1.4.0\n\nAdds and allows changing TransferMethod and VerifyCertificate.\nAlso allows reading UserName.\n\nChange-Id: I4bf07bc688c0b5ddab7ed7ddabc6f82dd35f1f84\n'}, {'number': 4, 'created': '2021-10-27 09:11:11.000000000', 'files': ['releasenotes/notes/vmedia-1.4.0-9957460fed59d85c.yaml', 'sushy/resources/manager/virtual_media.py', 'sushy/resources/manager/constants.py', 'sushy/tests/unit/resources/manager/test_virtual_media.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/ff11a204dac0df5a7c0e9d8e71b773e2774a3f76', 'message': 'Add some VirtualMedia fields from 1.3.0 and 1.4.0\n\nAdds and allows changing TransferMethod and VerifyCertificate.\nAlso allows reading UserName.\n\nChange-Id: I4bf07bc688c0b5ddab7ed7ddabc6f82dd35f1f84\n'}]",9,814191,ff11a204dac0df5a7c0e9d8e71b773e2774a3f76,27,3,4,10239,,,0,"Add some VirtualMedia fields from 1.3.0 and 1.4.0

Adds and allows changing TransferMethod and VerifyCertificate.
Also allows reading UserName.

Change-Id: I4bf07bc688c0b5ddab7ed7ddabc6f82dd35f1f84
",git fetch https://review.opendev.org/openstack/sushy refs/changes/91/814191/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/vmedia-1.4.0-9957460fed59d85c.yaml', 'sushy/resources/manager/virtual_media.py', 'sushy/resources/manager/mappings.py', 'sushy/resources/manager/constants.py', 'sushy/tests/unit/resources/manager/test_virtual_media.py']",5,ad4026bc5766c78c98eeed44b09ccd2251ccff3f,vmedia-1.4.0,"from sushy.resources.manager import constants as mgr_cons def test_insert_media_transfer_method(self): self.assertFalse(self.sys_virtual_media._is_stale) self.sys_virtual_media.insert_media( ""https://www.dmtf.org/freeImages/Sardine.img"", True, False, transfer_method=mgr_cons.TRANSFER_METHOD_UPLOAD) self.sys_virtual_media._conn.post.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1/Actions"" ""/VirtualMedia.InsertMedia""), data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img"", ""WriteProtected"": False, ""TransferMethod"": ""Upload""} ) self.assertTrue(self.sys_virtual_media._is_stale) def test_set_verify_certificate(self): with mock.patch.object( self.sys_virtual_media, 'invalidate', autospec=True) as invalidate_mock: self.sys_virtual_media.set_verify_certificate(True) self.sys_virtual_media._conn.patch.assert_called_once_with( ""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1"", data={'VerifyCertificate': True}) invalidate_mock.assert_called_once_with()",,101,21
openstack%2Fnova~stable%2Fvictoria~Icb7e3379248fe00f9a94f9860181b5de44902379,openstack/nova,stable/victoria,Icb7e3379248fe00f9a94f9860181b5de44902379,Reproduce bug 1944759,MERGED,2021-09-24 13:56:04.000000000,2021-11-08 16:17:02.000000000,2021-11-08 16:14:31.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-24 13:56:04.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b1fa9b4ae01114299c5225d66e1f6eba25be43e', 'message': 'Reproduce bug 1944759\n\nAdd functional tests to reproduce the race between resize_instance()\nand update_available_resources().\n\nRelated-Bug: #1944759\n\nChange-Id: Icb7e3379248fe00f9a94f9860181b5de44902379\n(cherry picked from commit 3e4e4489b7a6e9cdefcc6ff02ed99a0a70420fca)\n(cherry picked from commit e6c6880465824f1e327a54143f32bb5a5816ff6c)\n(cherry picked from commit 140ae45d98dabd30aef5c0ac075346de4eabcea1)\n'}]",2,810914,0b1fa9b4ae01114299c5225d66e1f6eba25be43e,11,3,1,9708,,,0,"Reproduce bug 1944759

Add functional tests to reproduce the race between resize_instance()
and update_available_resources().

Related-Bug: #1944759

Change-Id: Icb7e3379248fe00f9a94f9860181b5de44902379
(cherry picked from commit 3e4e4489b7a6e9cdefcc6ff02ed99a0a70420fca)
(cherry picked from commit e6c6880465824f1e327a54143f32bb5a5816ff6c)
(cherry picked from commit 140ae45d98dabd30aef5c0ac075346de4eabcea1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/810914/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,0b1fa9b4ae01114299c5225d66e1f6eba25be43e,bug/1944759," def _assert_pinned_cpus(self, hostname, expected_number_of_pinned): numa_topology = objects.NUMATopology.obj_from_db_obj( objects.ComputeNode.get_by_nodename( self.ctxt, hostname, ).numa_topology, ) self.assertEqual( expected_number_of_pinned, len(numa_topology.cells[0].pinned_cpus)) def _create_server_and_resize_bug_1944759(self): self.flags( cpu_dedicated_set='0-3', cpu_shared_set='4-7', group='compute') self.flags(vcpu_pin_set=None) # start services self.start_compute(hostname='test_compute0') self.start_compute(hostname='test_compute1') flavor_a_id = self._create_flavor( vcpu=2, extra_spec={'hw:cpu_policy': 'dedicated'}) server = self._create_server(flavor_id=flavor_a_id) src_host = server['OS-EXT-SRV-ATTR:host'] self._assert_pinned_cpus(src_host, 2) # we don't really care what the new flavor is, so long as the old # flavor is using pinning. We use a similar flavor for simplicity. flavor_b_id = self._create_flavor( vcpu=2, extra_spec={'hw:cpu_policy': 'dedicated'}) orig_rpc_finish_resize = nova.compute.rpcapi.ComputeAPI.finish_resize # Simulate that the finish_resize call overlaps with an # update_available_resource periodic job def inject_periodic_to_finish_resize(*args, **kwargs): self._run_periodics() return orig_rpc_finish_resize(*args, **kwargs) self.stub_out( 'nova.compute.rpcapi.ComputeAPI.finish_resize', inject_periodic_to_finish_resize, ) # TODO(stephenfin): The mock of 'migrate_disk_and_power_off' should # probably be less...dumb with mock.patch( 'nova.virt.libvirt.driver.LibvirtDriver' '.migrate_disk_and_power_off', return_value='{}', ): post = {'resize': {'flavorRef': flavor_b_id}} self.api.post_server_action(server['id'], post) server = self._wait_for_state_change(server, 'VERIFY_RESIZE') dst_host = server['OS-EXT-SRV-ATTR:host'] # This is a resource accounting bug, we should have 2 cpus pinned on # both computes. The source should have it due to the outbound # migration and the destination due to the instance running there self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 2) return server, src_host, dst_host def test_resize_confirm_bug_1944759(self): server, src_host, dst_host = ( self._create_server_and_resize_bug_1944759()) # Now confirm the resize post = {'confirmResize': None} # FIXME(gibi): This is bug 1944759 where during resize, on the source # node the resize_instance() call at the point of calling finish_resize # overlaps with a update_available_resources() periodic job. This # causes that the periodic job will not track the migration nor the # instance and therefore freeing the resource allocation. Then when # later the resize is confirmed the confirm_resize on the source # compute also wants to free up the resources, the pinned CPUs, and it # fails as they are already freed. exc = self.assertRaises( client.OpenStackApiException, self.api.post_server_action, server['id'], post ) self.assertEqual(500, exc.response.status_code) self.assertIn('CPUUnpinningInvalid', str(exc)) # confirm failed above but the resource allocation reflects that the # VM is running on the dest node self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 2) self._run_periodics() # and such allocation situation is stable so as a recovery the VM # can be reset-state to ACTIVE without problem. self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 2) def test_resize_revert_bug_1944759(self): server, src_host, dst_host = ( self._create_server_and_resize_bug_1944759()) # Now revert the resize post = {'revertResize': None} # reverts actually succeeds (not like confirm) but the resource # allocation is still flaky self.api.post_server_action(server['id'], post) self._wait_for_state_change(server, 'ACTIVE') # This is a resource accounting bug. After the revert the source host # should have 2 cpus pinned due to the instance. self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 0) # running the periodic job will fix the resource accounting self._run_periodics() # this is now correct self._assert_pinned_cpus(src_host, 2) self._assert_pinned_cpus(dst_host, 0) ",,121,0
openstack%2Ftripleo-upgrade~master~I6ea4d91165644d28a575dfebeada588f7a8cd7f3,openstack/tripleo-upgrade,master,I6ea4d91165644d28a575dfebeada588f7a8cd7f3,Remove update converge,MERGED,2021-09-21 00:31:36.000000000,2021-11-08 16:03:58.000000000,2021-10-12 01:12:57.000000000,"[{'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2021-09-21 00:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/02d16d706b88c0ffe798b8db886c3fbca021b8d9', 'message': 'Remove update converge\n\nUpdate converge is largely unnecessary now with\nephemeral Heat. There is no Heat stack to update,\nso we are doing nothing more than executing a\nstandard deployment using Ansible. Removing\nthe requirement for update converge will simplify\nthe process and improve user experience by reducing\nthe time it takes to perform minor updates.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/810132\nChange-Id: I6ea4d91165644d28a575dfebeada588f7a8cd7f3\n'}, {'number': 2, 'created': '2021-09-21 12:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7698cb6204c6a09e5a9467ac55c67a494d221e77', 'message': 'Remove update converge\n\nUpdate converge is largely unnecessary now with\nephemeral Heat. There is no Heat stack to update,\nso we are doing nothing more than executing a\nstandard deployment using Ansible. Removing\nthe requirement for update converge will simplify\nthe process and improve user experience by reducing\nthe time it takes to perform minor updates.\n\nRelated: https://review.opendev.org/c/openstack/python-tripleoclient/+/810132\nChange-Id: I6ea4d91165644d28a575dfebeada588f7a8cd7f3\n'}, {'number': 3, 'created': '2021-09-22 00:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/44c7e08ea488dd67bc314e83144601c1c47ab4b8', 'message': 'Remove update converge\n\nUpdate converge is largely unnecessary now with\nephemeral Heat. There is no Heat stack to update,\nso we are doing nothing more than executing a\nstandard deployment using Ansible. Removing\nthe requirement for update converge will simplify\nthe process and improve user experience by reducing\nthe time it takes to perform minor updates.\n\nRelated: https://review.opendev.org/c/openstack/python-tripleoclient/+/810132\nChange-Id: I6ea4d91165644d28a575dfebeada588f7a8cd7f3\n'}, {'number': 4, 'created': '2021-09-26 23:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/43dc8bfa68d96bb16d5d2e9f25bc3df2fa1e922e', 'message': 'Remove update converge\n\nUpdate converge is largely unnecessary now with\nephemeral Heat. There is no Heat stack to update,\nso we are doing nothing more than executing a\nstandard deployment using Ansible. Removing\nthe requirement for update converge will simplify\nthe process and improve user experience by reducing\nthe time it takes to perform minor updates.\n\nRelated: https://review.opendev.org/c/openstack/python-tripleoclient/+/810132\nChange-Id: I6ea4d91165644d28a575dfebeada588f7a8cd7f3\n'}, {'number': 5, 'created': '2021-10-04 00:10:10.000000000', 'files': ['tasks/update/overcloud_update_converge.yml', 'tasks/update/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/edb205f55e63c1a41f3b01642c3ce260914d559b', 'message': 'Remove update converge\n\nUpdate converge is largely unnecessary now with\nephemeral Heat. There is no Heat stack to update,\nso we are doing nothing more than executing a\nstandard deployment using Ansible. Removing\nthe requirement for update converge will simplify\nthe process and improve user experience by reducing\nthe time it takes to perform minor updates.\n\nRelated: https://review.opendev.org/c/openstack/python-tripleoclient/+/810132\nChange-Id: I6ea4d91165644d28a575dfebeada588f7a8cd7f3\n'}]",0,810134,edb205f55e63c1a41f3b01642c3ce260914d559b,16,6,5,30073,,,0,"Remove update converge

Update converge is largely unnecessary now with
ephemeral Heat. There is no Heat stack to update,
so we are doing nothing more than executing a
standard deployment using Ansible. Removing
the requirement for update converge will simplify
the process and improve user experience by reducing
the time it takes to perform minor updates.

Related: https://review.opendev.org/c/openstack/python-tripleoclient/+/810132
Change-Id: I6ea4d91165644d28a575dfebeada588f7a8cd7f3
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/34/810134/4 && git format-patch -1 --stdout FETCH_HEAD,"['templates/workarounds.sh.j2', 'tasks/update/create-overcloud-update-scripts.yaml', 'tests/workarounds-update', 'templates/overcloud_update_converge.sh.j2', 'defaults/main.yml']",5,02d16d706b88c0ffe798b8db886c3fbca021b8d9,remove_update_converge,"# When set to true, the converge operations (upgrade, ffwd)"," - pre-update-convergeovercloud_update_converge_script: ""{{ working_dir }}/overcloud_update_converge.sh""# When set to true, the converge operations (update, upgrade, ffwd)",3,85
openstack%2Fironic-python-agent~stable%2Fxena~Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc,openstack/ironic-python-agent,stable/xena,Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc,Delete EFI boot entry duplicate labels first,MERGED,2021-11-04 08:22:48.000000000,2021-11-08 15:58:22.000000000,2021-11-08 15:56:27.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-04 08:22:48.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/de-duplicate-by-label-baa090c5b1bff992.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/33b39705a50513c5af411216b48e2a6f6ac9ab14', 'message': 'Delete EFI boot entry duplicate labels first\n\nSome firmware seems to take an objection with EFI nvram\nentries being deleted after one is added, resulting in the\nentire entry table being reset to the last known good state.\n\nThis is problematic, as ultimately deployments can time out\nif we previously booted with Networking, and the machine, while\ncommanded to do other wise, reboots back to networking regardless.\n\nWe will now delete entries first, before proceeding.\n\nAdditionally, for general use, this pattern may serve the\ncommunity better by avoiding cases where we would have\npreviously just relied upon efibootmgr[0] to warn us of duplicate\nentries.\n\n[0]: https://github.com/rhboot/efibootmgr/blob/103aa22ece98f09fe3ea2a0c83988f0ee2d0e5a8/src/efibootmgr.c#L228\n\nChange-Id: Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc\nStory: 2009649\nTask: 43808\n(cherry picked from commit 67eddfa7e3fedbb530045f5b43a2c89db832fa2a)\n'}]",0,816489,33b39705a50513c5af411216b48e2a6f6ac9ab14,7,3,1,23851,,,0,"Delete EFI boot entry duplicate labels first

Some firmware seems to take an objection with EFI nvram
entries being deleted after one is added, resulting in the
entire entry table being reset to the last known good state.

This is problematic, as ultimately deployments can time out
if we previously booted with Networking, and the machine, while
commanded to do other wise, reboots back to networking regardless.

We will now delete entries first, before proceeding.

Additionally, for general use, this pattern may serve the
community better by avoiding cases where we would have
previously just relied upon efibootmgr[0] to warn us of duplicate
entries.

[0]: https://github.com/rhboot/efibootmgr/blob/103aa22ece98f09fe3ea2a0c83988f0ee2d0e5a8/src/efibootmgr.c#L228

Change-Id: Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc
Story: 2009649
Task: 43808
(cherry picked from commit 67eddfa7e3fedbb530045f5b43a2c89db832fa2a)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/89/816489/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/de-duplicate-by-label-baa090c5b1bff992.yaml']",3,33b39705a50513c5af411216b48e2a6f6ac9ab14,,"--- fixes: - | Fixes cases where duplicates may not be found in the UEFI firmware NVRAM boot entry table by explicitly looking for, and deleting for matching labels in advance of creating the EFI boot loader entry. ",,51,24
openstack%2Fsushy-tools~master~Iee0df7e5662869ed1ed4d94fd9ffff20a74ee14f,openstack/sushy-tools,master,Iee0df7e5662869ed1ed4d94fd9ffff20a74ee14f,Update pep8 test requirements,MERGED,2021-10-19 09:36:25.000000000,2021-11-08 15:55:45.000000000,2021-11-08 15:53:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-19 09:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/a661d353584b0c480c349f2074a077f44df237ac', 'message': 'Update pep8 test requirements\n\nChange-Id: Iee0df7e5662869ed1ed4d94fd9ffff20a74ee14f\n'}, {'number': 2, 'created': '2021-10-19 10:58:03.000000000', 'files': ['sushy_tools/tests/unit/emulator/resources/test_volumes.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/35f427934ba31d564206257cd17f9c4423ee8da0', 'message': 'Update pep8 test requirements\n\nChange-Id: Iee0df7e5662869ed1ed4d94fd9ffff20a74ee14f\n'}]",0,814541,35f427934ba31d564206257cd17f9c4423ee8da0,11,3,2,23851,,,0,"Update pep8 test requirements

Change-Id: Iee0df7e5662869ed1ed4d94fd9ffff20a74ee14f
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/41/814541/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a661d353584b0c480c349f2074a077f44df237ac,upgrade-test-deps,"deps= hacking>=4.1.0,<5.0.0 # Apache-2.0 pycodestyle>=2.0.0,<3.0.0 # MIT","deps = hacking>=3.1.0,<4.0.0 # Apache-2.0 pycodestyle>=2.0.0,<2.7.0 # MIT",3,3
openstack%2Fnova~master~Ib18ff53a5fa312cd7a157d116caabd8ee48bd204,openstack/nova,master,Ib18ff53a5fa312cd7a157d116caabd8ee48bd204,Fix instance action event result inconsistent,NEW,2021-11-08 11:20:09.000000000,2021-11-08 15:44:02.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 11:20:09.000000000', 'files': ['nova/db/main/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8e22c5ac914fd08dd1d657a0f8c55a38e7bc502d', 'message': 'Fix instance action event result inconsistent\n\n    The instance action events will record all events in\n    wrap_instance_event. The event result is inconsistent\n    when execute the repeated event.\n    We should update the latest event in action_event_finish.\n\nCloses-bug: #1950138\nChange-Id: Ib18ff53a5fa312cd7a157d116caabd8ee48bd204\n'}]",1,816990,8e22c5ac914fd08dd1d657a0f8c55a38e7bc502d,10,2,1,33860,,,0,"Fix instance action event result inconsistent

    The instance action events will record all events in
    wrap_instance_event. The event result is inconsistent
    when execute the repeated event.
    We should update the latest event in action_event_finish.

Closes-bug: #1950138
Change-Id: Ib18ff53a5fa312cd7a157d116caabd8ee48bd204
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/816990/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/main/api.py'],1,8e22c5ac914fd08dd1d657a0f8c55a38e7bc502d,," filter_by(action_id=action['id']).\ filter_by(event=values['event']).\ order_by(expression.desc(""created_at""), expression.desc(""id"")).\ first()", filter_by(action_id=action['id']).\ filter_by(event=values['event']).\ first(),4,3
openstack%2Ftripleo-docs~master~If8a0c52b376fd429bd59b2b1a17ade9154726f3a,openstack/tripleo-docs,master,If8a0c52b376fd429bd59b2b1a17ade9154726f3a,Add a note about private registries unsupported,MERGED,2021-11-03 08:38:28.000000000,2021-11-08 15:29:02.000000000,2021-11-08 15:27:06.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-11-03 08:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/c27bf275c019f40be33ce2d8290e093bfe138649', 'message': 'Add a note about private registries unsupported\n\nPrivate container registries other than the default one are not\nsupported. Describe available options if one is have to be used.\n\nChange-Id: If8a0c52b376fd429bd59b2b1a17ade9154726f3a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-11-04 15:00:25.000000000', 'files': ['deploy-guide/source/deployment/container_image_prepare.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/048005225303e8839f2c18af9c3a691d336787fe', 'message': 'Add a note about private registries unsupported\n\nPrivate HTTPS container registries are not tested\nin TripleO. Describe available options if one is have to be used.\n\nChange-Id: If8a0c52b376fd429bd59b2b1a17ade9154726f3a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,816439,048005225303e8839f2c18af9c3a691d336787fe,11,6,2,6926,,,0,"Add a note about private registries unsupported

Private HTTPS container registries are not tested
in TripleO. Describe available options if one is have to be used.

Change-Id: If8a0c52b376fd429bd59b2b1a17ade9154726f3a
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/39/816439/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/container_image_prepare.rst'],1,c27bf275c019f40be33ce2d8290e093bfe138649,,"independently managed registry. .. note:: Private registries other than the default registry are not supported. If you have to use one, the custom CA (certificate authority) that is needed for the registry should be installed before deploying the overcloud. For example, it can be injected into the overcloud image, or installed via first boot scripts. Or it should be listed in `DockerInsecureRegistryAddress` of `containers-prepare-parameters.yaml` (`container_insecure_registries` of `undercloud.conf`). During deployment the environment parameter",independently managed registry. During deployment the environment parameter,11,1
openstack%2Ftripleo-docs~master~Ief2c8a3198a9ade9610a5d08b705a6e9617ab2f0,openstack/tripleo-docs,master,Ief2c8a3198a9ade9610a5d08b705a6e9617ab2f0,Document DeployedServerPortMap deprecation,MERGED,2021-06-15 17:12:24.000000000,2021-11-08 15:23:38.000000000,2021-11-08 15:21:14.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-15 17:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ad839c9220c362e91c2b359f67bb69599ca2796a', 'message': 'Document DeployedServerPortMap deprecation\n\nAdds documentation around the deprecation of DeployedServerPortMap and\nalso updates the deployed-server docs to remove the parts related to\nconfiguring the nodes with Heat as that has not been used since Queens.\n\nChange-Id: Ief2c8a3198a9ade9610a5d08b705a6e9617ab2f0\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: Ib59bb985fe15f612f93a33b1a688427e684654dd\n'}, {'number': 2, 'created': '2021-07-08 14:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4e3a77e3bfc95e65cf1032be4455915260acab6b', 'message': 'Document DeployedServerPortMap deprecation\n\nAdds documentation around the deprecation of DeployedServerPortMap and\nalso updates the deployed-server docs to remove the parts related to\nconfiguring the nodes with Heat as that has not been used since Queens.\n\nChange-Id: Ief2c8a3198a9ade9610a5d08b705a6e9617ab2f0\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: Ib59bb985fe15f612f93a33b1a688427e684654dd\n'}, {'number': 3, 'created': '2021-08-17 12:22:41.000000000', 'files': ['deploy-guide/source/features/deployed_server.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7e65bbeec10eb1ea4184f8b8f82c9c7c95ff54db', 'message': 'Document DeployedServerPortMap deprecation\n\nAdds documentation around the deprecation of DeployedServerPortMap and\nalso updates the deployed-server docs to remove the parts related to\nconfiguring the nodes with Heat as that has not been used since Queens.\n\nChange-Id: Ief2c8a3198a9ade9610a5d08b705a6e9617ab2f0\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: Ib59bb985fe15f612f93a33b1a688427e684654dd\n'}]",5,796525,7e65bbeec10eb1ea4184f8b8f82c9c7c95ff54db,16,3,3,7144,,,0,"Document DeployedServerPortMap deprecation

Adds documentation around the deprecation of DeployedServerPortMap and
also updates the deployed-server docs to remove the parts related to
configuring the nodes with Heat as that has not been used since Queens.

Change-Id: Ief2c8a3198a9ade9610a5d08b705a6e9617ab2f0
Signed-off-by: James Slagle <jslagle@redhat.com>
Depends-On: Ib59bb985fe15f612f93a33b1a688427e684654dd
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/25/796525/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/deployed_server.rst'],1,ad839c9220c362e91c2b359f67bb69599ca2796a,ephemeral-heat,"Overcloud nodes. The undercloud will need to be able to connect over a routable IP to the overcloud nodes for software configuration with ansible.Configure the deployed servers that will be used as nodes in the overcloud with L3 connectivity from the Undercloud as needed. The configuration could be done* Initial configuration of L3 connectivity from the undercloud to the overcloud.Test connectivity from the undercloud to the overcloud nodes using SSH over the configured IP address on the deployed servers. This should be the IP address that is configured on ``--overcloud-ssh-network`` as passed to the ``openstack overcloud deploy`` command. The key and user to use with the test should be the same as used with ``--overcloud-ssh-key`` and ``--overcloud-ssh-user`` with the deployment command. The ``DeployedServerPortMap`` parameter can be used to assign fixed IP's from either the ctlplane network or the IP address range for the overcloud. If the deployed servers were preconfigured with IP addresses from the ctlplane network for the initial undercloud connectivity, then the same IP addresses can be reused during the overcloud deployment. Add the following to a new environment file and specify the environment file as part of the deployment command:: resource_registry: OS::TripleO::DeployedServer::ControlPlanePort: ../deployed-server/deployed-neutron-port.yaml parameter_defaults: DeployedServerPortMap: controller0-ctlplane: fixed_ips: - ip_address: 192.168.24.9 subnets: - cidr: 192.168.24.0/24 network: tags: - 192.168.24.0/24 compute0-ctlplane: fixed_ips: - ip_address: 192.168.24.8 subnets: - cidr: 192.168.24..0/24 network: tags: - 192.168.24.0/24 The value of the DeployedServerPortMap variable is a map. The keys correspond to the ``<short hostname>-ctlplane`` of the deployed servers. Specify the ip addresses and subnet CIDR to be assigned under ``fixed_ips``. In the case where the ctlplane is not routable from the deployed servers, the virtual IPs on the ControlPlane, as well as the virtual IPs for services (Redis and OVNDBs) must be statically assigned. Use ``DeployedServerPortMap`` to assign an ControlPlane Virtual IP address from any CIDR, and the ``RedisVirtualFixedIPs`` and ``OVNDBsVirtualFixedIPs`` parameters to assing the ``RedisVip`` and ``OVNDBsVip``:: resource_registry: OS::TripleO::DeployedServer::ControlPlanePort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml OS::TripleO::Network::Ports::ControlPlaneVipPort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml parameter_defaults: NeutronPublicInterface: eth1 EC2MetadataIp: 192.168.100.1 ControlPlaneDefaultRoute: 192.168.100.1 # Set VIP's for redis and OVN RedisVirtualFixedIPs: - ip_address: 192.168.100.10 use_neutron: false OVNDBsVirtualFixedIPs: - ip_address: 192.168.100.11 use_neutron: false DeployedServerPortMap: control_virtual_ip: fixed_ips: - ip_address: 192.168.100.1 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 controller0-ctlplane: fixed_ips: - ip_address: 192.168.100.2 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 compute0-ctlplane: fixed_ips: - ip_address: 192.168.100.3 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 Beginning in Wallaby, the ``environments/deployed-server-deployed-neutron-ports.yaml`` environment, the deployed-neutron-port.yaml template the DeployedServerPortMap parameter, are deprecated in favor of using ``NodePortMap``, ``ControlPlaneVipData``, and ``VipPortMap`` with the generated ``environments/deployed-ports.yaml`` environment from ``environments/deployed-ports.j2.yaml``. Using the previous example with ``DeployedServerPortMap``, that would be migrated to use ``NodePortMap``, ``ControlPlaneVipData``, and ``VipPortMap`` as follows. The example is expanded to also show parameter values as they would be used when using network isolation:: parameter_defaults: NodePortMap: controller0-ctlplane: ctlplane ip_address: 192.168.100.2 ip_address_uri: 192.168.100.2 ip_subnet: 192.168.100.0/24 external: ip_address: 10.0.0.10 ip_address_uri: 10.0.0.10 ip_subnet: 10.0.0.10/24 internal_api: ip_address: 172.16.2.10 ip_address_uri: 172.16.2.10 ip_subnet: 172.16.2.10/24 management: ip_address: 192.168.1.10 ip_address_uri: 192.168.1.10 ip_subnet: 192.168.1.10/24 storage: ip_address: 172.16.1.10 ip_address_uri: 172.16.1.10 ip_subnet: 172.16.1.10/24 storage_mgmt: ip_address: 172.16.3.10 ip_address_uri: 172.16.3.10 ip_subnet: 172.16.3.10/24 tenant: ip_address: 172.16.0.10 ip_address_uri: 172.16.0.10 ip_subnet: 172.16.0.10/24 compute0-ctlplane: ctlplane ip_address: 192.168.100.3 ip_address_uri: 192.168.100.3 ip_subnet: 192.168.100.0/24 external: ip_address: 10.0.0.110 ip_address_uri: 10.0.0.110 ip_subnet: 10.0.0.110/24 internal_api: ip_address: 172.16.2.110 ip_address_uri: 172.16.2.110 ip_subnet: 172.16.2.110/24 management: ip_address: 192.168.1.110 ip_address_uri: 192.168.1.110 ip_subnet: 192.168.1.110/24 storage: ip_address: 172.16.1.110 ip_address_uri: 172.16.1.110 ip_subnet: 172.16.1.110/24 storage_mgmt: ip_address: 172.16.3.110 ip_address_uri: 172.16.3.110 ip_subnet: 172.16.3.110/24 tenant: ip_address: 172.16.0.110 ip_address_uri: 172.16.0.110 ip_subnet: 172.16.0.110/24 ControlPlaneVipData: fixed_ips: - ip_address: 192.168.100.1 name: control_virtual_ip network: tags: [] subnets: - ip_version: 4 VipPortMap external: ip_address: 10.0.0.100 ip_address_uri: 10.0.0.100 ip_subnet: 10.0.0.100/24 internal_api: ip_address: 172.16.2.100 ip_address_uri: 172.16.2.100 ip_subnet: 172.16.2.100/24 storage: ip_address: 172.16.1.100 ip_address_uri: 172.16.1.100 ip_subnet: 172.16.1.100/24 storage_mgmt: ip_address: 172.16.3.100 ip_address_uri: 172.16.3.100 ip_subnet: 172.16.3.100/24 RedisVirtualFixedIPs: - ip_address: 192.168.100.10 use_neutron: false OVNDBsVirtualFixedIPs: - ip_address: 192.168.100.11 use_neutron: false The environment file ``environments/deployed-ports.yaml`` must then be included with the deployment command.","Overcloud nodes. The Overcloud nodes will communicate over HTTP(s) to poll the Undercloud for software configuration to be applied by their local agents. The polling process requires L3 routable network connectivity from the deployed servers to the Undercloud OpenStack API's. If the ctlplane is a routable network from the deployed servers, then the deployed servers can connect directly to the IP address specified by ``local_ip`` from ``undercloud.conf``. Alternatively, they could connect to the virtual IP address (VIP) specified by ``undercloud_public_host``, if VIP's are in use. In the scenario where the ctlplane is **not** routable from the deployed servers, then ``undercloud_public_host`` in ``undercloud.conf`` must be set to a hostname that resolves to a routable IP address for the deployed servers. SSL also must be configured on the Undercloud so that HAProxy is bound to that configured hostname. Specify either ``undercloud_service_certifcate`` or ``generate_service_certificate`` to enable SSL during the Undercloud installation. See :doc:`../features/ssl` for more information on configuring SSL. Additionally, when the ctlplane is not routable from the deployed servers, Heat on the Undercloud must be configured to use the public endpoints for OpenStack service communication during the polling process and be configured to use Swift temp URL's for signaling. Add the following hiera data to a new or existing hiera file:: heat_clients_endpoint_type: public heat::engine::default_deployment_signal_transport: TEMP_URL_SIGNAL Specify the path to the hiera file with the ``hieradata_override`` configuration in ``undercloud.conf``:: hieradata_override = /path/to/custom/hiera/file.yamlConfigure the deployed servers that will be used as nodes in the Overcloud with L3 connectivity to the Undercloud as needed. The configuration could be done* Initial configuration of L3 connectivity to the UndercloudOn each Overcloud node run the following commands that test connectivity to the Undercloud's IP address where OpenStack services are bound. Use either ``local_ip`` or ``undercloud_public_host`` in the following examples. Test basic connectivity to the Undercloud:: ping <undercloud local_ip> Test HTTP/HTTPS connectivity to Heat API on the Undercloud:: curl <undercloud local_ip>:8000 Sample output:: {""versions"": [{""status"": ""CURRENT"", ""id"": ""v1.0"", ""links"": [{""href"": ""http://10.12.53.41:8000/v1/"", ""rel"": ""self""}]}]} Test HTTP/HTTPS connectivity to Swift on the Undercloud The html output shown here is expected! While it indicates no resource was found, it demonstrates successful connectivity to the HTTP service:: curl <undercloud local_ip>:8080 Sample output:: <html><h1>Not Found</h1><p>The resource could not be found.</p></html> The output from the above curl commands demonstrates successful connectivity to the web services bound at the Undercloud's ``local_ip`` IP address. It's important to verify this connectivity prior to starting the deployment, otherwise the deployment may be unsuccessful and difficult to debug.Initial Package Installation ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Once the repositories have been enabled on the deployed servers, the initial packages for the Heat agent need to be installed. Run the following command on each server intending to be used as part of the Overcloud:: sudo yum install python-heat-agent* Certificate Authority Configuration ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ If SSL is enabled on the Undercloud endpoints, the deployed servers need to be configured to trust the Certificate Authority (CA) that signed the SSL certificates. On a default Undercloud install with SSL where the CA is automatically generated, the CA file will be at ``/etc/pki/ca-trust/source/anchors/cm-local-ca.pem``. Copy this CA file to the ``/etc/pki/ca-trust/source/anchors/`` directory on each deployed server. Then run the following command on each server to update the CA trust:: sudo update-ca-trust extract The ``DeployedServerPortMap`` parameter can be used to assign fixed IP's from either the ctlplane network or the IP address range for the overcloud. If the deployed servers were preconfigured with IP addresses from the ctlplane network for the initial undercloud connectivity, then the same IP addresses can be reused during the overcloud deployment. Add the following to a new environment file and specify the environment file as part of the deployment command:: resource_registry: OS::TripleO::DeployedServer::ControlPlanePort: ../deployed-server/deployed-neutron-port.yaml parameter_defaults: DeployedServerPortMap: controller0-ctlplane: fixed_ips: - ip_address: 192.168.24.9 subnets: - cidr: 192.168.24.0/24 network: tags: - 192.168.24.0/24 compute0-ctlplane: fixed_ips: - ip_address: 192.168.24.8 subnets: - cidr: 192.168.24..0/24 network: tags: - 192.168.24.0/24 The value of the DeployedServerPortMap variable is a map. The keys correspond to the ``<short hostname>-ctlplane`` of the deployed servers. Specify the ip addresses and subnet CIDR to be assigned under ``fixed_ips``. In the case where the ctlplane is not routable from the deployed servers, the virtual IPs on the ControlPlane, as well as the virtual IPs for services (Redis and OVNDBs) must be statically assigned. Use ``DeployedServerPortMap`` to assign an ControlPlane Virtual IP address from any CIDR, and the ``RedisVirtualFixedIPs`` and ``OVNDBsVirtualFixedIPs`` parameters to assing the ``RedisVip`` and ``OVNDBsVip``:: resource_registry: OS::TripleO::DeployedServer::ControlPlanePort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml OS::TripleO::Network::Ports::ControlPlaneVipPort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml parameter_defaults: NeutronPublicInterface: eth1 EC2MetadataIp: 192.168.100.1 ControlPlaneDefaultRoute: 192.168.100.1 # Set VIP's for redis and OVN RedisVirtualFixedIPs: - ip_address: 192.168.100.10 use_neutron: false OVNDBsVirtualFixedIPs: - ip_address: 192.168.100.11 use_neutron: false DeployedServerPortMap: control_virtual_ip: fixed_ips: - ip_address: 192.168.100.1 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 controller0-ctlplane: fixed_ips: - ip_address: 192.168.100.2 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 compute0-ctlplane: fixed_ips: - ip_address: 192.168.100.3 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24When using network isolation, refer to the documentation on using fixed IP addresses for further information at :ref:`predictable_ips`. ",203,171
openstack%2Fbifrost~master~Ifcf33e79ced1ec6e679847cb1c4130d8b5ba224b,openstack/bifrost,master,Ifcf33e79ced1ec6e679847cb1c4130d8b5ba224b,Bump ansible lint to latest version,MERGED,2021-10-25 12:35:27.000000000,2021-11-08 15:08:44.000000000,2021-11-08 15:06:20.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-25 12:35:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/208135359d6d52cf78f0376ee94380dfc746098f', 'message': 'Bump ansible lint to latest version\n\nKeep the version to 5.x for the time being\n\nChange-Id: Ifcf33e79ced1ec6e679847cb1c4130d8b5ba224b\n'}]",0,815293,208135359d6d52cf78f0376ee94380dfc746098f,9,3,1,23851,,,0,"Bump ansible lint to latest version

Keep the version to 5.x for the time being

Change-Id: Ifcf33e79ced1ec6e679847cb1c4130d8b5ba224b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/93/815293/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,208135359d6d52cf78f0376ee94380dfc746098f,ansible-lint-bump," ansible-lint>=5,<6"," ansible-lint>=4.3.0,<5",1,1
openstack%2Fvirtualbmc~master~I54afbe68951cc8de2f5e3bca97a38bc2f8828da9,openstack/virtualbmc,master,I54afbe68951cc8de2f5e3bca97a38bc2f8828da9,Update pep8 test requirements,MERGED,2021-10-19 09:35:23.000000000,2021-11-08 14:44:40.000000000,2021-11-08 14:42:30.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-19 09:35:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/d35a80fe0374110a7272e650e559cf82e1f08d9e', 'message': 'Update pep8 test requirements\n\nChange-Id: I54afbe68951cc8de2f5e3bca97a38bc2f8828da9\n'}]",0,814540,d35a80fe0374110a7272e650e559cf82e1f08d9e,9,3,1,23851,,,0,"Update pep8 test requirements

Change-Id: I54afbe68951cc8de2f5e3bca97a38bc2f8828da9
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/40/814540/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d35a80fe0374110a7272e650e559cf82e1f08d9e,upgrade-test-deps,"deps= hacking>=4.1.0,<5.0.0 # Apache-2.0 pycodestyle>=2.0.0,<3.0.0 # MIT","deps = hacking>=3.1.0,<4.0.0 # Apache-2.0 pycodestyle>=2.0.0,<2.7.0 # MIT",3,3
openstack%2Ftripleo-ansible~master~I58681bf6b2acc663d95b2a0105bfb72ec420b845,openstack/tripleo-ansible,master,I58681bf6b2acc663d95b2a0105bfb72ec420b845,Allow configurable tripleo-repos git repository and directory during FFU.,ABANDONED,2019-10-04 17:03:34.000000000,2021-11-08 14:40:22.000000000,,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-04 17:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b24d31da93e705387f84a3a45224caff4453328b', 'message': 'Allow configurbale tripleo-repos git repository and directory during FFU.\n\nAddresses comments brought up in:\nhttps://review.opendev.org/#/c/678567/12/tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml\n\nChange-Id: I58681bf6b2acc663d95b2a0105bfb72ec420b845\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-10-04 20:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0a5f7ce81a6f3002f359321ec7289ac9e8090115', 'message': 'Allow configurbale tripleo-repos git repository and directory during FFU.\n\nAddresses comments brought up in:\nhttps://review.opendev.org/#/c/678567/12/tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml\n\nChange-Id: I58681bf6b2acc663d95b2a0105bfb72ec420b845\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2019-11-04 18:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/089423c0194093d8c8278db5026dbaf89e2a350c', 'message': 'Allow configurbale tripleo-repos git repository and directory during FFU.\n\nAddresses comments brought up in:\nhttps://review.opendev.org/#/c/678567/12/tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml\n\nChange-Id: I58681bf6b2acc663d95b2a0105bfb72ec420b845\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 4, 'created': '2019-11-07 05:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4af6f20ecbebca84ef34c1aab2c305dec006954', 'message': 'Allow configurbale tripleo-repos git repository and directory during FFU.\n\nAddresses comments brought up in:\nhttps://review.opendev.org/#/c/678567/12/tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml\n\nChange-Id: I58681bf6b2acc663d95b2a0105bfb72ec420b845\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 5, 'created': '2019-11-11 18:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c609cbfd97607a3b098dd0bb5d67435727472dbd', 'message': 'Allow configurbale tripleo-repos git repository and directory during FFU.\n\nAddresses comments brought up in:\nhttps://review.opendev.org/#/c/678567/12/tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml\n\nChange-Id: I58681bf6b2acc663d95b2a0105bfb72ec420b845\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 6, 'created': '2019-11-12 13:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e9ba655a163eb46b1cb9176abc93592fa44b62b3', 'message': 'Allow configurbale tripleo-repos git repository and directory during FFU.\n\nAddresses comments brought up in:\nhttps://review.opendev.org/#/c/678567/12/tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml\n\nChange-Id: I58681bf6b2acc663d95b2a0105bfb72ec420b845\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 7, 'created': '2019-11-20 18:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2282a7a844ec819c78e32bf6d9c70f081a157fe2', 'message': 'Allow configurbale tripleo-repos git repository and directory during FFU.\n\nAddresses comments brought up in:\nhttps://review.opendev.org/#/c/678567/12/tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml\n\nChange-Id: I58681bf6b2acc663d95b2a0105bfb72ec420b845\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 8, 'created': '2020-01-15 20:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e578be8f0fc397e42e2f0ff5bfc7a9d15c9cabb7', 'message': 'Allow configurbale tripleo-repos git repository and directory during FFU.\n\nAddresses comments brought up in:\nhttps://review.opendev.org/#/c/678567/12/tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml\n\nChange-Id: I58681bf6b2acc663d95b2a0105bfb72ec420b845\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 9, 'created': '2020-02-07 21:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5b873204adc3a70f8b17146998c43d850ca650ca', 'message': 'Allow configurable tripleo-repos git repository and directory during FFU.\n\nAddresses comments brought up in:\nhttps://review.opendev.org/#/c/678567/12/tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml\n\nChange-Id: I58681bf6b2acc663d95b2a0105bfb72ec420b845\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 10, 'created': '2020-06-26 13:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c8c11d486110f7d2028b192575c27514dbb90a09', 'message': 'Allow configurable tripleo-repos git repository and directory during FFU.\n\nAddresses comments brought up in:\nhttps://review.opendev.org/#/c/678567/12/tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml\n\nChange-Id: I58681bf6b2acc663d95b2a0105bfb72ec420b845\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 11, 'created': '2020-08-10 17:24:14.000000000', 'files': ['tripleo_ansible/roles/tripleo_packages/defaults/main.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/fast_forward_upgrade.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/fast_forward_post_upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9bdf450b7df98396ef04a6efde676644f6db5fce', 'message': 'Allow configurable tripleo-repos git repository and directory during FFU.\n\nAddresses comments brought up in:\nhttps://review.opendev.org/#/c/678567/12/tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml\n\nChange-Id: I58681bf6b2acc663d95b2a0105bfb72ec420b845\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}]",6,686773,9bdf450b7df98396ef04a6efde676644f6db5fce,58,8,11,25877,,,0,"Allow configurable tripleo-repos git repository and directory during FFU.

Addresses comments brought up in:
https://review.opendev.org/#/c/678567/12/tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml

Change-Id: I58681bf6b2acc663d95b2a0105bfb72ec420b845
Signed-off-by: ekultails <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/73/686773/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat-7.yml', 'tripleo_ansible/roles/tripleo-packages/defaults/main.yml']",3,b24d31da93e705387f84a3a45224caff4453328b,I58681bf6b2acc663d95b2a0105bfb72ec420b845, tripleo_packages_tripleo_repos_git: https://opendev.org/openstack/tripleo-repos.git tripleo_packages_tripleo_repos_dir: /home/stack/tripleo-repos/,,7,2
openstack%2Fnova~master~I358ff8128746c9d0c584a03381e55817c4aace3f,openstack/nova,master,I358ff8128746c9d0c584a03381e55817c4aace3f,"Revert ""tox: Encode specific Python versions""",MERGED,2021-08-11 17:34:29.000000000,2021-11-08 14:26:19.000000000,2021-11-08 14:23:55.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 17:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/826a8a10e29f8c9fc81b4fc96195ba97766a8108', 'message': 'Revert ""tox: Encode specific Python versions""\n\nThis reverts commit 89e321b7b5c88ab7cfab53103295774ca535f0df.\n\nReason for revert: The previous change require develper to install multiple spcific version fo tox locally to run the test envs and it arbitrally pins lower constratins to the oldest python we support but lower contratis shoudl work with the newwst python we support too.\n\nsimilarly our updated constratins shoudl work with the older python.\n\nChange-Id: I358ff8128746c9d0c584a03381e55817c4aace3f\n'}, {'number': 2, 'created': '2021-08-11 17:46:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/1e02c81721ec15737cfd9d5e62831da030cc22ad', 'message': 'Revert ""tox: Encode specific Python versions""\n\nThis reverts commit 89e321b7b5c88ab7cfab53103295774ca535f0df.\n\nReason for revert: The previous change require develper to install multiple spcific version python \nlocally to run the test envs and it arbitrally pins lower constratins to the \noldest python we support but lower contratis shoudl work with the newwst python we support too.\non fedora or other operating systems that ship with default python version that exceed our supported\nversions test can be run with tox -e py38 if required.\n\nsimilarly our updated constratins shoudl work with the older python.\n\nChange-Id: I358ff8128746c9d0c584a03381e55817c4aace3f\n'}]",7,804168,1e02c81721ec15737cfd9d5e62831da030cc22ad,21,5,2,11604,,,0,"Revert ""tox: Encode specific Python versions""

This reverts commit 89e321b7b5c88ab7cfab53103295774ca535f0df.

Reason for revert: The previous change require develper to install multiple spcific version python 
locally to run the test envs and it arbitrally pins lower constratins to the 
oldest python we support but lower contratis shoudl work with the newwst python we support too.
on fedora or other operating systems that ship with default python version that exceed our supported
versions test can be run with tox -e py38 if required.

similarly our updated constratins shoudl work with the older python.

Change-Id: I358ff8128746c9d0c584a03381e55817c4aace3f
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/804168/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,826a8a10e29f8c9fc81b4fc96195ba97766a8108,trivial,basepython = python3,basepython = python3.8basepython = python3.6,1,2
openstack%2Fironic-python-agent~master~I1ce5299da4fd8a108da8076411335ffbbca44147,openstack/ironic-python-agent,master,I1ce5299da4fd8a108da8076411335ffbbca44147,TBD: Add Lenovo SR650 issue note,ABANDONED,2021-11-03 17:35:09.000000000,2021-11-08 14:01:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-03 17:35:09.000000000', 'files': ['releasenotes/notes/lenovo-sr650-uefi-loader-entries-d4e89ca1ee0aa50d.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5f30e7d131230b7772be0f52214d92c4429f38b5', 'message': 'TBD: Add Lenovo SR650 issue note\n\nTask: 43842\nStory: 2009660\nChange-Id: I1ce5299da4fd8a108da8076411335ffbbca44147\n'}]",1,816545,5f30e7d131230b7772be0f52214d92c4429f38b5,4,1,1,11655,,,0,"TBD: Add Lenovo SR650 issue note

Task: 43842
Story: 2009660
Change-Id: I1ce5299da4fd8a108da8076411335ffbbca44147
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/45/816545/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/lenovo-sr650-uefi-loader-entries-d4e89ca1ee0aa50d.yaml'],1,5f30e7d131230b7772be0f52214d92c4429f38b5,,"--- issues: - | Lenovo SR650 machines in UEFI mode may find duplicate bootloader entires in their UEFI bootloader NVRAM. The root cause appears to be UEFI firmware behavior and this does not appear to be harmful at this time. For more information, please see `story 2009660<https://storyboard.openstack.org/#!/story/2009660>`_. ",,7,0
openstack%2Fnova~master~I15efc38258685375284d8a97004777385023c6e8,openstack/nova,master,I15efc38258685375284d8a97004777385023c6e8,objects: Stop querying the main DB for keypairs,MERGED,2021-10-01 14:34:34.000000000,2021-11-08 13:29:55.000000000,2021-11-08 13:26:21.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-01 14:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8cb0b913435a0da4f354d8fdcbddbdfcac6e2bd5', 'message': ""objects: Stop querying the main DB for keypairs\n\nThis was migrated to the API DB during the 14.0.0 (Newton) release [1]\nand the 345 migration introduced during the 15.0.0 (Ocata) release [2]\nensures we should no longer have any entries left in the main database.\n\nThe actual model isn't removed yet. That will be done separately.\n\n[1] I5f6d88fee47dd87de2867d3947d65b04f0b21e8f\n[2] Iab714d9e752c334cc1cc14a0d524cc9cf5d115dc\n\nChange-Id: I15efc38258685375284d8a97004777385023c6e8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-10-18 19:26:28.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_keypairs.py', 'nova/tests/functional/db/test_keypair.py', 'nova/db/main/api.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/objects/test_keypair.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/objects/keypair.py', 'nova/tests/unit/compute/test_keypairs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/944033061c173ea432fa16e9a2d3bafdfc08a308', 'message': ""objects: Stop querying the main DB for keypairs\n\nThis was migrated to the API DB during the 14.0.0 (Newton) release [1]\nand the 345 migration introduced during the 15.0.0 (Ocata) release [2]\nensures we should no longer have any entries left in the main database.\n\nThe actual model isn't removed yet. That will be done separately.\n\n[1] I5f6d88fee47dd87de2867d3947d65b04f0b21e8f\n[2] Iab714d9e752c334cc1cc14a0d524cc9cf5d115dc\n\nChange-Id: I15efc38258685375284d8a97004777385023c6e8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,812147,944033061c173ea432fa16e9a2d3bafdfc08a308,15,3,2,15334,,,0,"objects: Stop querying the main DB for keypairs

This was migrated to the API DB during the 14.0.0 (Newton) release [1]
and the 345 migration introduced during the 15.0.0 (Ocata) release [2]
ensures we should no longer have any entries left in the main database.

The actual model isn't removed yet. That will be done separately.

[1] I5f6d88fee47dd87de2867d3947d65b04f0b21e8f
[2] Iab714d9e752c334cc1cc14a0d524cc9cf5d115dc

Change-Id: I15efc38258685375284d8a97004777385023c6e8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/812147/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_keypairs.py', 'nova/tests/functional/db/test_keypair.py', 'nova/db/main/api.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/objects/test_keypair.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/objects/keypair.py', 'nova/tests/unit/compute/test_keypairs.py']",8,8cb0b913435a0da4f354d8fdcbddbdfcac6e2bd5,bp/remove-sqlalchemy-migrate," self.stub_out( 'nova.objects.KeyPairList._get_from_db', db_key_pair_get_all_by_user) self.stub_out('nova.objects.KeyPair._create_in_db', db_key_pair_create) self.stub_out( 'nova.objects.KeyPair._destroy_in_db', db_key_pair_destroy) self.stub_out('nova.objects.KeyPair._get_from_db', db_key_pair_get) self.stub_out( 'nova.objects.KeyPair._create_in_db', db_key_pair_create_duplicate)"," self.stub_out(""nova.db.main.api.key_pair_get_all_by_user"", db_key_pair_get_all_by_user) self.stub_out(""nova.db.main.api.key_pair_create"", db_key_pair_create) self.stub_out(""nova.db.main.api.key_pair_destroy"", db_key_pair_destroy) self.stub_out(""nova.db.main.api.key_pair_get"", db_key_pair_get) self.stub_out(""nova.db.main.api.key_pair_create"", db_key_pair_create_duplicate)",149,573
openstack%2Fnova~master~If18344034b31d9f6168e7a1c7d49bdcb3d53113e,openstack/nova,master,If18344034b31d9f6168e7a1c7d49bdcb3d53113e,db: Remove legacy placement models,MERGED,2021-10-01 14:34:34.000000000,2021-11-08 13:28:18.000000000,2021-11-08 13:26:11.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-01 14:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e3970058739b278e02a1a61d624f53ca473343a', 'message': 'db: Remove legacy placement models\n\nThese are now managed separately via the extracted placement project. We\nno longer need to include them in the API database.\n\nChange-Id: If18344034b31d9f6168e7a1c7d49bdcb3d53113e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-10-18 19:26:28.000000000', 'files': ['nova/db/api/models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1f648b4f7763e33675d5a16d426fd3d3cd701069', 'message': 'db: Remove legacy placement models\n\nThese are now managed separately via the extracted placement project. We\nno longer need to include them in the API database.\n\nChange-Id: If18344034b31d9f6168e7a1c7d49bdcb3d53113e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,812146,1f648b4f7763e33675d5a16d426fd3d3cd701069,32,4,2,15334,,,0,"db: Remove legacy placement models

These are now managed separately via the extracted placement project. We
no longer need to include them in the API database.

Change-Id: If18344034b31d9f6168e7a1c7d49bdcb3d53113e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/812146/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/api/test_migrations.py', 'nova/db/api/models.py', 'nova/db/api/migrations/env.py']",3,7e3970058739b278e02a1a61d624f53ca473343a,bp/remove-sqlalchemy-migrate," if type_ == 'table': return name not in { # Tables that were moved the placement database in Train. The # models were removed in Y and the tables can be dropped in Z or # later 'allocations', 'consumers', 'inventories', 'placement_aggregates', 'projects', 'resource_classes', 'resource_provider_aggregates', 'resource_provider_traits', 'resource_providers', 'traits', 'users', } ",,38,226
openstack%2Fpuppet-neutron~master~Ie8b347a4705045dfa0363284ec41e9e519ec19f9,openstack/puppet-neutron,master,Ie8b347a4705045dfa0363284ec41e9e519ec19f9,Change authentication method for Mellanox sdn controller,MERGED,2021-10-19 11:12:30.000000000,2021-11-08 13:11:40.000000000,2021-11-08 13:09:53.000000000,"[{'_account_id': 9816}, {'_account_id': 12171}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 25241}]","[{'number': 1, 'created': '2021-10-19 11:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2bbc8e91ba7bc630b226c78ae6de3c8b3400489b', 'message': 'Change sdn authentication from basic(username,password) to token authentication\n\nChange-Id: Ie8b347a4705045dfa0363284ec41e9e519ec19f9\n'}, {'number': 2, 'created': '2021-10-27 13:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/67397e144f64fb95284eecbd45f35c68c0d8f947', 'message': 'Change sdn authentication from basic(username,password) to token authentication\n\nChange-Id: Ie8b347a4705045dfa0363284ec41e9e519ec19f9\n'}, {'number': 3, 'created': '2021-10-28 05:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/754e073d49c8c285c31e40fc1aecf945aaada74d', 'message': 'Change authentication method for Mellanox sdn controller\n\nChange sdn authentication from basic(username,password) to token\nauthentication, deprecate username and password and add new\nparameter token\n\nChange-Id: Ie8b347a4705045dfa0363284ec41e9e519ec19f9\n'}, {'number': 4, 'created': '2021-10-28 06:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/d45e3b36b7c35505ac80e99af5aeebb425d2551b', 'message': 'Change authentication method for Mellanox sdn controller\n\nChange sdn authentication from basic(username, password) to token\nauthentication, deprecate username and password and add a new\nparameter token\n\nChange-Id: Ie8b347a4705045dfa0363284ec41e9e519ec19f9\n'}, {'number': 5, 'created': '2021-10-28 06:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/6d8b50161227325b540016cf47eeb074a47d3589', 'message': 'Change authentication method for Mellanox sdn controller\n\nChange sdn authentication from basic(username, password) to token\nauthentication, deprecate username and password and add a new\nparameter token\n\nChange-Id: Ie8b347a4705045dfa0363284ec41e9e519ec19f9\n'}, {'number': 6, 'created': '2021-10-28 11:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3194f7d056fcf074a19045ef26447cf79f560510', 'message': 'Change authentication method for Mellanox sdn controller\n\nChange sdn authentication from basic(username, password) to token\nauthentication, deprecate username and password and add a new\nparameter token\n\nChange-Id: Ie8b347a4705045dfa0363284ec41e9e519ec19f9\n'}, {'number': 7, 'created': '2021-11-04 12:06:43.000000000', 'files': ['releasenotes/notes/add_token_auth-daa888e87da725da.yaml', 'manifests/plugins/ml2/mellanox/mlnx_sdn_assist.pp', 'spec/classes/neutron_plugins_ml2_mlnx_sdn_assist_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8ce1ea3d936856354beff4a8df18d05fd5e2c6c7', 'message': 'Change authentication method for Mellanox sdn controller\n\nChange sdn authentication from basic(username, password) to token\nauthentication, deprecate username and password and add a new\nparameter token\n\nDepends-on: https://review.opendev.org/814557\nChange-Id: Ie8b347a4705045dfa0363284ec41e9e519ec19f9\n'}]",20,814554,8ce1ea3d936856354beff4a8df18d05fd5e2c6c7,27,5,7,25241,,,0,"Change authentication method for Mellanox sdn controller

Change sdn authentication from basic(username, password) to token
authentication, deprecate username and password and add a new
parameter token

Depends-on: https://review.opendev.org/814557
Change-Id: Ie8b347a4705045dfa0363284ec41e9e519ec19f9
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/54/814554/6 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/plugins/ml2/mellanox/mlnx_sdn_assist.pp', 'spec/classes/neutron_plugins_ml2_mlnx_sdn_assist_spec.rb']",2,2bbc8e91ba7bc630b226c78ae6de3c8b3400489b,," :sdn_token => 'token', should contain_neutron_plugin_ml2('sdn/token').with_value(params[:sdn_token]).with_secret(true)"," :sdn_username => 'user', :sdn_password => 'password', should contain_neutron_plugin_ml2('sdn/password').with_value(params[:sdn_password]).with_secret(true) should contain_neutron_plugin_ml2('sdn/username').with_value(params[:sdn_username])",4,8
openstack%2Fcharm-ceilometer~stable%2F21.10~Id58ffae483ac4a897a73170b796f47be01eefc4b,openstack/charm-ceilometer,stable/21.10,Id58ffae483ac4a897a73170b796f47be01eefc4b,Pin pyparsing in order to fix the gate,MERGED,2021-11-08 09:02:48.000000000,2021-11-08 13:08:01.000000000,2021-11-08 13:08:01.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 09:02:48.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/5b29872a3aa0fdf39b93a9af23e0a4d2825d32d7', 'message': 'Pin pyparsing in order to fix the gate\n\nChange-Id: Id58ffae483ac4a897a73170b796f47be01eefc4b\n'}]",1,816948,5b29872a3aa0fdf39b93a9af23e0a4d2825d32d7,8,4,1,31289,,,0,"Pin pyparsing in order to fix the gate

Change-Id: Id58ffae483ac4a897a73170b796f47be01eefc4b
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/48/816948/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5b29872a3aa0fdf39b93a9af23e0a4d2825d32d7,pin-pyparsing,"pyparsing<3.0.0 # aodhclient is pinned in zaza and needs pyparsing < 3.0.0, but cffi also needs it, so pin here.",,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0c337ed9a641fd720500771d528229ddb735b7e3,openstack/tripleo-heat-templates,stable/train,I0c337ed9a641fd720500771d528229ddb735b7e3,[FFU] Remove mariadb-server packages from the host,ABANDONED,2021-10-19 09:10:16.000000000,2021-11-08 13:03:14.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-19 09:10:16.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c380b44ebd08ee2ce79d0bc5e9e0f76d7935b0f', 'message': '[FFU] Remove mariadb-server packages from the host\n\nDuring a FFU, if mariadb-server is installed\non the host and can be upgraded, the install scriptlets\nwill chown /var/lib/mysql, thus impacting the regular\ncontainerized mysql service. This can make the\nmysql upgrade container fail to start and will break\nthe ongoing FFU.\n\nMake sure mariadb-server is never installed, while\nkeeping mariadb CLI if already present on the host, to\navoid operational impacts.\n\nChange-Id: I0c337ed9a641fd720500771d528229ddb735b7e3\nCloses-Bug: #1946742\n'}]",4,814532,6c380b44ebd08ee2ce79d0bc5e9e0f76d7935b0f,10,3,1,20778,,,0,"[FFU] Remove mariadb-server packages from the host

During a FFU, if mariadb-server is installed
on the host and can be upgraded, the install scriptlets
will chown /var/lib/mysql, thus impacting the regular
containerized mysql service. This can make the
mysql upgrade container fail to start and will break
the ongoing FFU.

Make sure mariadb-server is never installed, while
keeping mariadb CLI if already present on the host, to
avoid operational impacts.

Change-Id: I0c337ed9a641fd720500771d528229ddb735b7e3
Closes-Bug: #1946742
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/814532/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,6c380b44ebd08ee2ce79d0bc5e9e0f76d7935b0f,upgrade-mariadb-pkg-host, mariadb-server*,,1,0
openstack%2Fneutron~stable%2Ftrain~Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,openstack/neutron,stable/train,Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,Don't setup bridge controller if it is already set,MERGED,2021-11-03 11:16:17.000000000,2021-11-08 12:48:22.000000000,2021-11-08 12:46:14.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 11:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8b89f3a0fb918626ea553289740deb1ad00b7c4', 'message': ""Don't setup bridge controller if it is already set\n\nSetting new controller for bridge every time when neutron-ovs-agent\nis restarted or is doing full-sync may cause some short data plane\nconnectivity loss and is not needed if same controller is already\nconfigured for the bridge.\nWith this patch neutron-ovs-agent will first check if controller is\nconfigured for the bridge and if it's the same as what should be\nconfigured, it will skip setting it up.\n\nWith this patch also protocols added to the bridge will be first checked\nif they aren't already there and only missing ones will be added if\nnecessary.\n\nSetting of the connectivity mode and inactivity probe is\nalways performed as this don't cause connectivity issues and is cheap\nso we can always ensure that those parameters are configured properly.\n\nConflicts:\n    neutron/agent/common/ovs_lib.py\n    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py\n\nCloses-Bug: #1948642\nChange-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67\n(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)\n(cherry picked from commit b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f)\n(cherry picked from commit 11fe2bff17d8ad27c0c49037fcd36203f9baa32d)\n""}, {'number': 2, 'created': '2021-11-04 12:19:18.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4456a87dac68d566970d32100b3b6565cb508419', 'message': ""Don't setup bridge controller if it is already set\n\nSetting new controller for bridge every time when neutron-ovs-agent\nis restarted or is doing full-sync may cause some short data plane\nconnectivity loss and is not needed if same controller is already\nconfigured for the bridge.\nWith this patch neutron-ovs-agent will first check if controller is\nconfigured for the bridge and if it's the same as what should be\nconfigured, it will skip setting it up.\n\nWith this patch also protocols added to the bridge will be first checked\nif they aren't already there and only missing ones will be added if\nnecessary.\n\nSetting of the connectivity mode and inactivity probe is\nalways performed as this don't cause connectivity issues and is cheap\nso we can always ensure that those parameters are configured properly.\n\nConflicts:\n    neutron/agent/common/ovs_lib.py\n    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py\n\nCloses-Bug: #1948642\nChange-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67\n(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)\n(cherry picked from commit b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f)\n(cherry picked from commit 11fe2bff17d8ad27c0c49037fcd36203f9baa32d)\n""}]",4,816459,4456a87dac68d566970d32100b3b6565cb508419,14,3,2,11975,,,0,"Don't setup bridge controller if it is already set

Setting new controller for bridge every time when neutron-ovs-agent
is restarted or is doing full-sync may cause some short data plane
connectivity loss and is not needed if same controller is already
configured for the bridge.
With this patch neutron-ovs-agent will first check if controller is
configured for the bridge and if it's the same as what should be
configured, it will skip setting it up.

With this patch also protocols added to the bridge will be first checked
if they aren't already there and only missing ones will be added if
necessary.

Setting of the connectivity mode and inactivity probe is
always performed as this don't cause connectivity issues and is cheap
so we can always ensure that those parameters are configured properly.

Conflicts:
    neutron/agent/common/ovs_lib.py
    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py

Closes-Bug: #1948642
Change-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67
(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)
(cherry picked from commit b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f)
(cherry picked from commit 11fe2bff17d8ad27c0c49037fcd36203f9baa32d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/816459/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py']",4,d8b89f3a0fb918626ea553289740deb1ad00b7c4,bug/1948642-stable/train," def _test_setup_controllers(self, existing_controllers): cfg.OVS.of_listen_address = ""127.0.0.1"" cfg.OVS.of_listen_port = ""6633"" m_get_controller = mock.patch.object(self.br, 'get_controller') with m_set_ccm as set_ccm, \ m_add_protocols as add_protocols, \ m_set_controller as set_controller, \ m_get_controller as get_controller, \ m_set_probe: get_controller.return_value = existing_controllers self.br.setup_controllers(cfg) if existing_controllers: set_controller.assert_not_called() else: set_controller.assert_called_once_with([""tcp:127.0.0.1:6633""]) set_ccm.assert_called_once_with(""out-of-band"") add_protocols.assert_called_once_with(constants.OPENFLOW13) def test_setup_controllers(self): self._test_setup_controllers(existing_controllers=[]) def test_setup_controllers_when_already_exists(self): self._test_setup_controllers( existing_controllers=[""tcp:127.0.0.1:6633""])"," def test__setup_controllers__out_of_band(self): cfg.OVS.of_listen_address = """" cfg.OVS.of_listen_port = """" with m_set_ccm as set_ccm: with m_set_controller, m_add_protocols, m_set_probe: self.br.setup_controllers(cfg) set_ccm.assert_called_once_with(""out-of-band"")",64,14
openstack%2Fneutron~stable%2Fussuri~Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,openstack/neutron,stable/ussuri,Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,Don't setup bridge controller if it is already set,MERGED,2021-11-03 11:13:26.000000000,2021-11-08 12:48:21.000000000,2021-11-08 12:46:09.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-11-03 11:13:26.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/11fe2bff17d8ad27c0c49037fcd36203f9baa32d', 'message': ""Don't setup bridge controller if it is already set\n\nSetting new controller for bridge every time when neutron-ovs-agent\nis restarted or is doing full-sync may cause some short data plane\nconnectivity loss and is not needed if same controller is already\nconfigured for the bridge.\nWith this patch neutron-ovs-agent will first check if controller is\nconfigured for the bridge and if it's the same as what should be\nconfigured, it will skip setting it up.\n\nWith this patch also protocols added to the bridge will be first checked\nif they aren't already there and only missing ones will be added if\nnecessary.\n\nSetting of the connectivity mode and inactivity probe is\nalways performed as this don't cause connectivity issues and is cheap\nso we can always ensure that those parameters are configured properly.\n\nConflicts:\n    neutron/agent/common/ovs_lib.py\n    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py\n\nCloses-Bug: #1948642\nChange-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67\n(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)\n(cherry picked from commit b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f)\n""}]",0,816349,11fe2bff17d8ad27c0c49037fcd36203f9baa32d,10,4,1,11975,,,0,"Don't setup bridge controller if it is already set

Setting new controller for bridge every time when neutron-ovs-agent
is restarted or is doing full-sync may cause some short data plane
connectivity loss and is not needed if same controller is already
configured for the bridge.
With this patch neutron-ovs-agent will first check if controller is
configured for the bridge and if it's the same as what should be
configured, it will skip setting it up.

With this patch also protocols added to the bridge will be first checked
if they aren't already there and only missing ones will be added if
necessary.

Setting of the connectivity mode and inactivity probe is
always performed as this don't cause connectivity issues and is cheap
so we can always ensure that those parameters are configured properly.

Conflicts:
    neutron/agent/common/ovs_lib.py
    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py

Closes-Bug: #1948642
Change-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67
(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)
(cherry picked from commit b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/816349/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py']",4,11fe2bff17d8ad27c0c49037fcd36203f9baa32d,bug/1948642-stable/victoria-stable/ussuri," def _test_setup_controllers(self, existing_controllers): cfg.OVS.of_listen_address = ""127.0.0.1"" cfg.OVS.of_listen_port = ""6633"" m_get_controller = mock.patch.object(self.br, 'get_controller') with m_set_ccm as set_ccm, \ m_add_protocols as add_protocols, \ m_set_controller as set_controller, \ m_get_controller as get_controller, \ m_set_probe: get_controller.return_value = existing_controllers self.br.setup_controllers(cfg) if existing_controllers: set_controller.assert_not_called() else: set_controller.assert_called_once_with([""tcp:127.0.0.1:6633""]) set_ccm.assert_called_once_with(""out-of-band"") add_protocols.assert_called_once_with(constants.OPENFLOW13) def test_setup_controllers(self): self._test_setup_controllers(existing_controllers=[]) def test_setup_controllers_when_already_exists(self): self._test_setup_controllers( existing_controllers=[""tcp:127.0.0.1:6633""])"," def test__setup_controllers__out_of_band(self): cfg.OVS.of_listen_address = """" cfg.OVS.of_listen_port = """" with m_set_ccm as set_ccm: with m_set_controller, m_add_protocols, m_set_probe: self.br.setup_controllers(cfg) set_ccm.assert_called_once_with(""out-of-band"")",63,12
openstack%2Fkayobe-config-dev~stable%2Fxena~Ic21d883a83ff738b89a39ba35a4d63c7d1762649,openstack/kayobe-config-dev,stable/xena,Ic21d883a83ff738b89a39ba35a4d63c7d1762649,Fix configuration sync for infra-vms,MERGED,2021-11-05 14:02:28.000000000,2021-11-08 12:43:48.000000000,2021-11-08 12:43:48.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-11-05 14:02:28.000000000', 'files': ['etc/kayobe/infra-vms.yml', 'etc/kayobe/inventory/group_vars/infra-vms/ansible-python-interpreter', 'etc/kayobe/inventory/group_vars/infra-vms/network-interfaces'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/b4a4c99129ca6a2fd1caf7362581e9c16081b885', 'message': 'Fix configuration sync for infra-vms\n\nChange-Id: Ic21d883a83ff738b89a39ba35a4d63c7d1762649\n(cherry picked from commit 206f7f996876c0f261f1ebb0a19db5cb39fec67e)\n'}]",0,816849,b4a4c99129ca6a2fd1caf7362581e9c16081b885,7,3,1,15197,,,0,"Fix configuration sync for infra-vms

Change-Id: Ic21d883a83ff738b89a39ba35a4d63c7d1762649
(cherry picked from commit 206f7f996876c0f261f1ebb0a19db5cb39fec67e)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/49/816849/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/infra-vms.yml', 'etc/kayobe/inventory/group_vars/infra-vms/ansible-python-interpreter', 'etc/kayobe/inventory/group_vars/infra-vms/network-interfaces']",3,b4a4c99129ca6a2fd1caf7362581e9c16081b885,,--- ############################################################################### # Network interface definitions for the infra-vms group. # Overcloud provisioning network IP information. # provision_oc_net_interface: # provision_oc_net_bridge_ports: # provision_oc_net_bond_slaves: ############################################################################### # Dummy variable to allow Ansible to accept this file. workaround_ansible_issue_8743: yes ,,16,1
openstack%2Fnova~master~I87aa88e28814051a77a462c4a19cce11820e15ca,openstack/nova,master,I87aa88e28814051a77a462c4a19cce11820e15ca,WIP: Add new option to restrict migration within az,ABANDONED,2020-03-28 13:48:42.000000000,2021-11-08 12:39:25.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-28 13:48:42.000000000', 'files': ['nova/conf/compute.py', 'nova/conf/cinder.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a0c00f964bc6f4f752ca69224760806701fdd76d', 'message': 'WIP: Add new option to restrict migration within az\n\nThis patch introduces a new parameter compute/allow_migration_across_az\nso that operators can controll whether it is allowed to migrate an\ninstancde to a different availability zone.\n\nIt is useful to dislabe this parameter when cinder/cross_az_attach is\ndisabled, because it allows us to avoid issue caused by az mismatch\nbetween an instance and its volumes after migration.\n\nChange-Id: I87aa88e28814051a77a462c4a19cce11820e15ca\n'}]",0,715621,a0c00f964bc6f4f752ca69224760806701fdd76d,15,10,1,9816,,,0,"WIP: Add new option to restrict migration within az

This patch introduces a new parameter compute/allow_migration_across_az
so that operators can controll whether it is allowed to migrate an
instancde to a different availability zone.

It is useful to dislabe this parameter when cinder/cross_az_attach is
disabled, because it allows us to avoid issue caused by az mismatch
between an instance and its volumes after migration.

Change-Id: I87aa88e28814051a77a462c4a19cce11820e15ca
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/715621/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/conf/cinder.py', 'nova/compute/api.py']",3,a0c00f964bc6f4f752ca69224760806701fdd76d,allow-cross-az-migration," if not CONF.allow_migration_across_az: request_spec.availability_zone = instance.availability_zone if not CONF.allow_migration_across_az and availability_zone and \ availability_zone != instance.availability_zone: msg = _(""Migration across availability zones is not allowed"") raise exception.InvalidRequest(msg) else: request_spec.availability_zone = instance.availability_zone if not CONF.allow_migration_across_az: request_spec.availability_zone = instance.availability_zone if not CONF.allow_migration_across_az: request_spec.availability_zone = instance.availability_zone ",,29,0
openstack%2Fneutron~master~Iaa8d3e633e05d81fefaf016780dcf59c9effde97,openstack/neutron,master,Iaa8d3e633e05d81fefaf016780dcf59c9effde97,WIP: Change default domain to Default for rally,ABANDONED,2021-11-05 08:53:07.000000000,2021-11-08 12:38:16.000000000,,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 08:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/23fd202cc404cb0aa6e45dfb10338f61824fc799', 'message': 'WIP: remove admin role reference from rally tasks\n\nWith the merge of [1] devstack no more creates admin endpoint.\n\n[1]: https://review.opendev.org/c/openstack/devstack/+/777345\n\nChange-Id: Iaa8d3e633e05d81fefaf016780dcf59c9effde97\n'}, {'number': 2, 'created': '2021-11-05 12:31:49.000000000', 'files': ['zuul.d/rally.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbb793c8898664fd81f2b363bb4804d8281b074d', 'message': 'WIP: Change default domain to Default for rally\n\nWith the merge of [1] devstack no more creates admin endpoint.\n\n[1]: https://review.opendev.org/c/openstack/devstack/+/777345\n\nRelated-Bug: #1949945\nChange-Id: Iaa8d3e633e05d81fefaf016780dcf59c9effde97\n'}]",1,816794,fbb793c8898664fd81f2b363bb4804d8281b074d,10,3,2,8313,,,0,"WIP: Change default domain to Default for rally

With the merge of [1] devstack no more creates admin endpoint.

[1]: https://review.opendev.org/c/openstack/devstack/+/777345

Related-Bug: #1949945
Change-Id: Iaa8d3e633e05d81fefaf016780dcf59c9effde97
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/816794/2 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/task-neutron.yaml'],1,23fd202cc404cb0aa6e45dfb10338f61824fc799,no_admin_endpoint,, roles: - admin,0,2
openstack%2Fnova~master~I5669e20bf8e693df073ce6a2b1c098f9825e13f4,openstack/nova,master,I5669e20bf8e693df073ce6a2b1c098f9825e13f4,Add a timeout for waiting volume snapshot ready,NEW,2021-10-11 14:26:16.000000000,2021-11-08 12:34:25.000000000,,"[{'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30498}]","[{'number': 1, 'created': '2021-10-11 14:26:16.000000000', 'files': ['nova/conf/compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2da9a20d09af4812a81f4760bf8366662ec50b82', 'message': 'Add a timeout for waiting volume snapshot ready\n\nEndlessly waiting for a volume snapshot being\nready is not user friendly. This PS adds a timeout\nand quits if a user defined timeout has met.\n\nCloses-bug: #1946546\nChange-Id: I5669e20bf8e693df073ce6a2b1c098f9825e13f4\n'}]",7,813443,2da9a20d09af4812a81f4760bf8366662ec50b82,8,4,1,29071,,,0,"Add a timeout for waiting volume snapshot ready

Endlessly waiting for a volume snapshot being
ready is not user friendly. This PS adds a timeout
and quits if a user defined timeout has met.

Closes-bug: #1946546
Change-Id: I5669e20bf8e693df073ce6a2b1c098f9825e13f4
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/813443/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/compute/manager.py']",2,2da9a20d09af4812a81f4760bf8366662ec50b82,bug/1946546," timer = loopingcall.FixedIntervalWithTimeoutLoopingCall( _wait_snapshot) # endlessly waiting for a snapshot ready is dangerous # in that guest filesystem might be locked timer.start(interval=0.5, timeout=CONF.timeout_before_unquiesce).wait() try: context = context.elevated() if mapping: try: self._wait_for_snapshots_completion(context, mapping) except Exception as error: LOG.exception(""Exception while waiting completion of "" ""volume snapshots: %s"", error, instance=instance) finally: # make sure unquiesce will be executed no matter what self.driver.unquiesce(context, instance, image_meta)"," timer = loopingcall.FixedIntervalLoopingCall(_wait_snapshot) timer.start(interval=0.5).wait() context = context.elevated() if mapping: try: self._wait_for_snapshots_completion(context, mapping) except Exception as error: LOG.exception(""Exception while waiting completion of "" ""volume snapshots: %s"", error, instance=instance) self.driver.unquiesce(context, instance, image_meta)",24,13
openstack%2Fmanila~master~Ia7dc0e441057487e42b356b5d0ee22d5615be0a5,openstack/manila,master,Ia7dc0e441057487e42b356b5d0ee22d5615be0a5,[doc] Fix config and install guide for the generic driver,MERGED,2021-10-25 23:04:20.000000000,2021-11-08 12:18:29.000000000,2021-11-08 12:15:38.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-10-25 23:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cb7210c44d559e1505727035ac28ee2f192e736c', 'message': '[doc] Fix config and install guide for the generic driver\n\nThe generic driver needs to communicate with cinder, nova, neutron\nand glance. It does so using credentials set in the configuration\nfile; some of this information was missing in our install and config\nguides.\n\nChange-Id: Ia7dc0e441057487e42b356b5d0ee22d5615be0a5\nCloses-Bug: #1948646\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-10-26 22:08:36.000000000', 'files': ['doc/source/install/common/dhss-true-mode-configuration.rst', 'doc/source/configuration/tables/manila-generic.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/9b21f4e476880cb9871e584521f9565660140f57', 'message': '[doc] Fix config and install guide for the generic driver\n\nThe generic driver needs to communicate with cinder, nova, neutron\nand glance. It does so using credentials set in the configuration\nfile; some of this information was missing in our install and config\nguides.\n\nChange-Id: Ia7dc0e441057487e42b356b5d0ee22d5615be0a5\nCloses-Bug: #1948646\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",2,815388,9b21f4e476880cb9871e584521f9565660140f57,18,6,2,16643,,,0,"[doc] Fix config and install guide for the generic driver

The generic driver needs to communicate with cinder, nova, neutron
and glance. It does so using credentials set in the configuration
file; some of this information was missing in our install and config
guides.

Change-Id: Ia7dc0e441057487e42b356b5d0ee22d5615be0a5
Closes-Bug: #1948646
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/88/815388/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/common/dhss-true-mode-configuration.rst', 'doc/source/configuration/tables/manila-generic.inc']",2,cb7210c44d559e1505727035ac28ee2f192e736c,bug/1948646, * - **[glance]** - * - ``api_microversion`` = ``2`` - (String) Version of Glance API to be used. * - ``region_name`` = ``RegionOne`` - (String) Region name for connecting to glance. * - ``auth_url`` = ``None`` - (String) Authentication URL * - ``auth_type`` = ``None`` - (String) Authentication type to load * - ``cafile`` = ``None`` - (String) PEM encoded Certificate Authority to use when verifying HTTPs connections. * - ``certfile`` = ``None`` - (String) PEM encoded client certificate cert file * - ``collect_timing`` = ``false`` - (Boolean) Collect per-API call timing information. * - ``default_domain_id`` = ``None`` - (String) Optional domain ID to use with v3 and v2 parameters. It will be used for both the user and project domain in v3 and ignored in v2 authentication * - ``default_domain_name`` = ``None`` - (String) Optional domain name to use with v3 API and v2 parameters. It will be used for both the user and project domain in v3 and ignored in v2 authentication. * - ``domain_id`` = ``None`` - (String) Domain ID to scope to * - ``domain_name`` = ``None`` - (String) Domain name to scope to * - ``insecure`` = ``false`` - (Boolean) Verify HTTPS connections. * - ``keyfile`` = ``None`` - (String) PEM encoded client certificate key file * - ``password`` = ``None`` - (String) User's password. * - ``project_domain_id`` = ``None`` - (String) Domain ID containing project * - ``project_domain_name`` = ``None`` - (String) Domain name containing project * - ``project_id`` = ``None`` - (String) Project ID to scope to * - ``project_name`` = ``None`` - (String) Project name to scope to * - ``split_loggers`` = ``false`` - (Boolean) Log requests to multiple loggers. * - ``system_scope`` = ``None`` - (String) Scope for system operations * - ``timeout`` = ``None`` - (String) Timeout value for http requests * - ``trust_id`` = ``None`` - (String) Trust ID * - ``user_domain_id`` = ``None`` - (String) User's domain id * - ``user_domain_name`` = ``None`` - (String) User's domain name * - ``user_id`` = ``None`` - (String) User id * - ``username`` = ``None`` - (String) Username * - ``endpoint_type`` = ``publicURL`` - (String) Endpoint type to be used with cinder client calls. * - ``region_name`` = ``RegionOne`` * - ``auth_url`` = ``None`` - (String) Authentication URL * - ``auth_type`` = ``None`` - (String) Authentication type to load * - ``collect_timing`` = ``false`` - (Boolean) Collect per-API call timing information. * - ``default_domain_id`` = ``None`` - (String) Optional domain ID to use with v3 and v2 parameters. It will be used for both the user and project domain in v3 and ignored in v2 authentication * - ``default_domain_name`` = ``None`` - (String) Optional domain name to use with v3 API and v2 parameters. It will be used for both the user and project domain in v3 and ignored in v2 authentication. * - ``domain_id`` = ``None`` - (String) Domain ID to scope to * - ``domain_name`` = ``None`` - (String) Domain name to scope to * - ``insecure`` = ``false`` * - ``password`` = ``None`` - (String) User's password. * - ``project_domain_id`` = ``None`` - (String) Domain ID containing project * - ``project_domain_name`` = ``None`` - (String) Domain name containing project * - ``project_id`` = ``None`` - (String) Project ID to scope to * - ``project_name`` = ``None`` - (String) Project name to scope to * - ``split_loggers`` = ``false`` - (Boolean) Log requests to multiple loggers. * - ``system_scope`` = ``None`` - (String) Scope for system operations - (String) Timeout value for http requests * - ``trust_id`` = ``None`` - (String) Trust ID * - ``user_domain_id`` = ``None`` - (String) User's domain id * - ``user_domain_name`` = ``None`` - (String) User's domain name * - ``user_id`` = ``None`` - (String) User id * - ``username`` = ``None`` - (String) Username * - **[neutron]** - * - ``url`` = ``http://127.0.0.1:9696`` - (String) URL for connecting to neutron. * - ``url_timeout`` = ``30`` - (Integer) Timeout value for connecting to neutron in seconds. * - ``auth_strategy`` = ``keystone`` - (String) Auth strategy for connecting to neutron in admin context. * - ``endpoint_type`` = ``publicURL`` - (String) Endpoint type to be used with neutron client calls. * - ``region_name`` = ``None`` - (String) Region name for connecting to neutron in admin context. * - ``auth_url`` = ``None`` - (String) Authentication URL * - ``auth_type`` = ``None`` - (String) Authentication type to load * - ``cafile`` = ``None`` - (String) PEM encoded Certificate Authority to use when verifying HTTPs connections. * - ``certfile`` = ``None`` - (String) PEM encoded client certificate cert file * - ``collect_timing`` = ``false`` - (Boolean) Collect per-API call timing information. * - ``default_domain_id`` = ``None`` - (String) Optional domain ID to use with v3 and v2 parameters. It will be used for both the user and project domain in v3 and ignored in v2 authentication * - ``default_domain_name`` = ``None`` - (String) Optional domain name to use with v3 API and v2 parameters. It will be used for both the user and project domain in v3 and ignored in v2 authentication. * - ``domain_id`` = ``None`` - (String) Domain ID to scope to * - ``domain_name`` = ``None`` - (String) Domain name to scope to * - ``insecure`` = ``false`` - (Boolean) Verify HTTPS connections. * - ``keyfile`` = ``None`` - (String) PEM encoded client certificate key file * - ``password`` = ``None`` - (String) User's password. * - ``project_domain_id`` = ``None`` - (String) Domain ID containing project * - ``project_domain_name`` = ``None`` - (String) Domain name containing project * - ``project_id`` = ``None`` - (String) Project ID to scope to * - ``project_name`` = ``None`` - (String) Project name to scope to * - ``split_loggers`` = ``false`` - (Boolean) Log requests to multiple loggers. * - ``system_scope`` = ``None`` - (String) Scope for system operations * - ``timeout`` = ``None`` - (String) Timeout value for http requests * - ``trust_id`` = ``None`` - (String) Trust ID * - ``user_domain_id`` = ``None`` - (String) User's domain id * - ``user_domain_name`` = ``None`` - (String) User's domain name * - ``user_id`` = ``None`` - (String) User id * - ``username`` = ``None`` - (String) Username * - ``endpoint_type`` = ``publicURL`` - (String) Endpoint type to be used with nova client calls. * - ``region_name`` = ``None`` - (String) Region name for connecting to nova. * - ``auth_url`` = ``None`` - (String) Authentication URL - (String) Authentication type to load * - ``collect_timing`` = ``false`` - (Boolean) Collect per-API call timing information. * - ``default_domain_id`` = ``None`` - (String) Optional domain ID to use with v3 and v2 parameters. It will be used for both the user and project domain in v3 and ignored in v2 authentication * - ``default_domain_name`` = ``None`` - (String) Optional domain name to use with v3 API and v2 parameters. It will be used for both the user and project domain in v3 and ignored in v2 authentication. * - ``domain_id`` = ``None`` - (String) Domain ID to scope to * - ``domain_name`` = ``None`` - (String) Domain name to scope to * - ``insecure`` = ``false`` * - ``password`` = ``None`` - (String) User's password. * - ``project_domain_id`` = ``None`` - (String) Domain ID containing project * - ``project_domain_name`` = ``None`` - (String) Domain name containing project * - ``project_id`` = ``None`` - (String) Project ID to scope to * - ``project_name`` = ``None`` - (String) Project name to scope to * - ``split_loggers`` = ``false`` - (Boolean) Log requests to multiple loggers. * - ``system_scope`` = ``None`` - (String) Scope for system operations - (String) Timeout value for http requests * - ``trust_id`` = ``None`` - (String) Trust ID * - ``user_domain_id`` = ``None`` - (String) User's domain id * - ``user_domain_name`` = ``None`` - (String) User's domain name * - ``user_id`` = ``None`` - (String) User id * - ``username`` = ``None`` - (String) Username, * - ``auth_section`` = ``None`` - (Unknown) Config Section from which to load plugin specific options * - ``auth_type`` = ``None`` - (Unknown) Authentication type to load * - ``cafile`` = ``None`` - (String) PEM encoded Certificate Authority to use when verifying HTTPs connections. * - ``certfile`` = ``None`` - (String) PEM encoded client certificate cert file * - ``endpoint_type`` = ``publicURL`` - (String) Endpoint type to be used with cinder client calls. * - ``insecure`` = ``False`` - (Boolean) Verify HTTPS connections. * - ``keyfile`` = ``None`` - (String) PEM encoded client certificate key file * - ``region_name`` = ``None`` * - ``timeout`` = ``None`` - (Integer) Timeout value for http requests * - **[neutron]** - * - ``insecure`` = ``False`` - (Integer) Timeout value for http requests * - ``auth_section`` = ``None`` - (Unknown) Config Section from which to load plugin specific options - (Unknown) Authentication type to load * - ``endpoint_type`` = ``publicURL`` - (String) Endpoint type to be used with nova client calls. * - ``insecure`` = ``False`` * - ``region_name`` = ``None`` - (String) Region name for connecting to nova. - (Integer) Timeout value for http requests,215,32
openstack%2Fpuppet-nova~master~Ie1d6006020970ade3e1597dc9f68f9a5503283b4,openstack/puppet-nova,master,Ie1d6006020970ade3e1597dc9f68f9a5503283b4,Avoid usage of custom os_package_type fact,MERGED,2021-11-04 13:33:38.000000000,2021-11-08 12:01:00.000000000,2021-11-08 12:01:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 13:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/de70729711393a609dc67b4ad74d5eba17dac186', 'message': ""Avoid usage of custom os_package_type fact\n\nCurrently the os_package_type fact is used to distinguish Ubuntu and\nDebian but it's redundant and built-in $::operatingsystem should be\nenough. What is worse the custom fact is not injected while composing\nfacts data in unit tests and has never been tested properly.\n\nChange-Id: Ie1d6006020970ade3e1597dc9f68f9a5503283b4\n""}, {'number': 2, 'created': '2021-11-05 00:15:31.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'spec/classes/nova_serial_proxy_spec.rb', 'manifests/spicehtml5proxy.pp', 'spec/classes/nova_compute_libvirt_guests_spec.rb', 'spec/classes/nova_spicehtml5proxy_spec.rb', 'manifests/vncproxy.pp', 'manifests/params.pp', 'spec/classes/nova_vnc_proxy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4b553afc8ce82deb4c5306c96168ec05b056a2f2', 'message': ""Avoid usage of custom os_package_type fact\n\nCurrently the os_package_type fact is used to distinguish Ubuntu and\nDebian but it's redundant and built-in $::operatingsystem should be\nenough. What is worse the custom fact is not injected while composing\nfacts data in unit tests and has never been tested properly.\n\nChange-Id: Ie1d6006020970ade3e1597dc9f68f9a5503283b4\n""}]",0,816697,4b553afc8ce82deb4c5306c96168ec05b056a2f2,9,3,2,9816,,,0,"Avoid usage of custom os_package_type fact

Currently the os_package_type fact is used to distinguish Ubuntu and
Debian but it's redundant and built-in $::operatingsystem should be
enough. What is worse the custom fact is not injected while composing
facts data in unit tests and has never been tested properly.

Change-Id: Ie1d6006020970ade3e1597dc9f68f9a5503283b4
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/97/816697/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'spec/classes/nova_serial_proxy_spec.rb', 'manifests/spicehtml5proxy.pp', 'spec/classes/nova_compute_libvirt_guests_spec.rb', 'manifests/vncproxy.pp', 'spec/classes/nova_spicehtml5proxy_spec.rb', 'manifests/params.pp', 'spec/classes/nova_vnc_proxy_spec.rb']",8,de70729711393a609dc67b4ad74d5eba17dac186,os_package_type, if facts[:operatingsystem] == 'Debian' if facts[:operatingsystem] == 'Debian', before do facts.merge!( :os_package_type => 'debian' ) end if facts[:os_package_type] == 'debian' if facts[:os_package_type] == 'debian',11,24
openstack%2Fpuppet-ironic~master~I98295588b5791becb2fc464d4a15ec9cb45207e4,openstack/puppet-ironic,master,I98295588b5791becb2fc464d4a15ec9cb45207e4,Avoid usage of custom os_package_type fact,MERGED,2021-11-04 13:20:08.000000000,2021-11-08 11:56:24.000000000,2021-11-08 11:56:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 13:20:08.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/b0a998ee7507c6321414d2559c5b925a7604686e', 'message': ""Avoid usage of custom os_package_type fact\n\nCurrently the os_package_type fact is used to distinguish Ubuntu and\nDebian but it's redundant and built-in $::operatingsystem should be\nenough. What is worse the custom fact is not injected while composing\nfacts data in unit tests and has never been tested properly.\n\nChange-Id: I98295588b5791becb2fc464d4a15ec9cb45207e4\n""}]",0,816693,b0a998ee7507c6321414d2559c5b925a7604686e,7,3,1,9816,,,0,"Avoid usage of custom os_package_type fact

Currently the os_package_type fact is used to distinguish Ubuntu and
Debian but it's redundant and built-in $::operatingsystem should be
enough. What is worse the custom fact is not injected while composing
facts data in unit tests and has never been tested properly.

Change-Id: I98295588b5791becb2fc464d4a15ec9cb45207e4
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/93/816693/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,b0a998ee7507c6321414d2559c5b925a7604686e,os_package_type, if $::operatingsystem == 'Debian' {, if ($::os_package_type == 'debian') {,1,1
openstack%2Fpuppet-horizon~stable%2Fussuri~Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f,openstack/puppet-horizon,stable/ussuri,Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f,Wallaby and older: Use 'UNSET' to remove heat dashboard parameters,MERGED,2021-11-02 12:05:16.000000000,2021-11-08 11:56:22.000000000,2021-11-08 11:56:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 12:05:16.000000000', 'files': ['templates/local_settings.py.erb', 'manifests/dashboards/heat.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/1e209cbf6964c2778e059cbc26f2dbd0a5d5b54e', 'message': ""Wallaby and older: Use 'UNSET' to remove heat dashboard parameters\n\nThe change 655e0df25e40b401d2daa5d673a416215ccd17b7 introduced\nthe logic to remove the enable_user_pass parameter from the root\nlocal_settings using 'undef' but it turned out we can't set any\nparameter to 'undef' using hieradata because setting undef results in\nusing the default, which is 'true'.\n\nThis introduces usage of 'UNSET', which can be defined using hieradata\nmechanism.\n\nChange-Id: Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f\n(cherry picked from commit 8437bc4f341e8ec584c32bc50a1d9301b39ed1f1)\n(cherry picked from commit d2fef29e6098bd958e78073ec267230248e3eaf9)\n""}]",0,816331,1e209cbf6964c2778e059cbc26f2dbd0a5d5b54e,7,3,1,9816,,,0,"Wallaby and older: Use 'UNSET' to remove heat dashboard parameters

The change 655e0df25e40b401d2daa5d673a416215ccd17b7 introduced
the logic to remove the enable_user_pass parameter from the root
local_settings using 'undef' but it turned out we can't set any
parameter to 'undef' using hieradata because setting undef results in
using the default, which is 'true'.

This introduces usage of 'UNSET', which can be defined using hieradata
mechanism.

Change-Id: Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f
(cherry picked from commit 8437bc4f341e8ec584c32bc50a1d9301b39ed1f1)
(cherry picked from commit d2fef29e6098bd958e78073ec267230248e3eaf9)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/31/816331/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/dashboards/heat.pp', 'templates/local_settings.py.erb', 'manifests/init.pp']",3,1e209cbf6964c2778e059cbc26f2dbd0a5d5b54e,puppet-horizon-dashboards-stable/victoria-stable/ussuri,# Set this parameter to undef or 'UNSET' if horizon::dashboards::heat is # used.,# Set this parameter to undef if horizon::dashboards::heat is used.,7,4
openstack%2Fpuppet-placement~master~Ie6482ced6ab0fdf2f406d60b8c2d329dd494a636,openstack/puppet-placement,master,Ie6482ced6ab0fdf2f406d60b8c2d329dd494a636,Avoid usage of custom os_package_type fact,MERGED,2021-11-04 13:16:46.000000000,2021-11-08 11:49:59.000000000,2021-11-08 11:49:59.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 13:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/2d32311f399d35963ef80733711775a4c024c19b', 'message': ""Avoid usage of custom os_package_type fact\n\nCurrently the os_package_type fact is used to distinguish Ubuntu and\nDebian but it's redundant $::operatingsystem should be enough. What is\nworse the custom fact is not injected while composing facts data in\nunit tests and has never been tested properly.\n\nChange-Id: Ie6482ced6ab0fdf2f406d60b8c2d329dd494a636\n""}, {'number': 2, 'created': '2021-11-04 13:20:42.000000000', 'files': ['spec/classes/placement_api_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/11c40173f1a42cbf1c4f7a8196dfb8fde286bf63', 'message': ""Avoid usage of custom os_package_type fact\n\nCurrently the os_package_type fact is used to distinguish Ubuntu and\nDebian but it's redundant $::operatingsystem should be enough. What is\nworse the custom fact is not injected while composing facts data in\nunit tests and has never been tested properly.\n\nChange-Id: Ie6482ced6ab0fdf2f406d60b8c2d329dd494a636\n""}]",2,816692,11c40173f1a42cbf1c4f7a8196dfb8fde286bf63,10,3,2,9816,,,0,"Avoid usage of custom os_package_type fact

Currently the os_package_type fact is used to distinguish Ubuntu and
Debian but it's redundant $::operatingsystem should be enough. What is
worse the custom fact is not injected while composing facts data in
unit tests and has never been tested properly.

Change-Id: Ie6482ced6ab0fdf2f406d60b8c2d329dd494a636
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/92/816692/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/placement_api_spec.rb', 'manifests/params.pp']",2,2d32311f399d35963ef80733711775a4c024c19b,os_package_type, case $::operatingsystem { 'Debian': {, case $::os_package_type { 'debian': {,3,3
openstack%2Fovn-octavia-provider~master~I8c805504e8a9e06dcdd4b1ac850d54400ef05b40,openstack/ovn-octavia-provider,master,I8c805504e8a9e06dcdd4b1ac850d54400ef05b40,Fix lower-constanints and pep8 jobs,MERGED,2021-11-05 12:10:51.000000000,2021-11-08 11:31:44.000000000,2021-11-08 11:25:43.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 12:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5ac3ba276e0d992635498bd58cf91da576f0b254', 'message': 'Use f-strings instead of regular strings to make pep8 happy\n\nThis patch switches using f-strings instead of regular ones in places\nwhere pep8 was complaining about with error C0209.\n\nChange-Id: I8c805504e8a9e06dcdd4b1ac850d54400ef05b40\n'}, {'number': 2, 'created': '2021-11-05 12:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/3bd08cd5c2d9118d64fe2756224e1005ab266984', 'message': 'Fix lower-constanints and pep8 jobs\n\nThis patch switches using f-strings instead of regular ones in places\nwhere pep8 was complaining about with error C0209.\n\nIt also updates some of the lower-constraints to make it running fine.\n\nChange-Id: I8c805504e8a9e06dcdd4b1ac850d54400ef05b40\n'}, {'number': 3, 'created': '2021-11-05 13:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c0a989d8574d2cb7e6baaa446a3aaaf345717c5a', 'message': ""Fix lower-constanints and pep8 jobs\n\nThis patch switches using f-strings instead of regular ones in places\nwhere pep8 was complaining about with error C0209.\n\nIt also updates some of the lower-constraints to align them with\nNeutron's lower-constraints and to make ci job happy.\n\nChange-Id: I8c805504e8a9e06dcdd4b1ac850d54400ef05b40\n""}, {'number': 4, 'created': '2021-11-05 16:07:37.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'ovn_octavia_provider/helper.py', 'zuul.d/base.yaml', 'ovn_octavia_provider/hacking/checks.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e9bf916b928005ee232a637e5e49d829cc84f074', 'message': 'Fix lower-constanints and pep8 jobs\n\nThis patch switches using f-strings instead of regular ones in places\nwhere pep8 was complaining about with error C0209.\n\nIt also updates some of the lower-constraints to align them with\nNeutron\'s lower-constraints and to make ci job happy.\n\nIt also changes OVN_BRANCH from ""master"" to ""main"" as that was renamed\nin the OVN repo some time ago.\n\nChange-Id: I8c805504e8a9e06dcdd4b1ac850d54400ef05b40\n'}]",0,816829,e9bf916b928005ee232a637e5e49d829cc84f074,14,5,4,11975,,,0,"Fix lower-constanints and pep8 jobs

This patch switches using f-strings instead of regular ones in places
where pep8 was complaining about with error C0209.

It also updates some of the lower-constraints to align them with
Neutron's lower-constraints and to make ci job happy.

It also changes OVN_BRANCH from ""master"" to ""main"" as that was renamed
in the OVN repo some time ago.

Change-Id: I8c805504e8a9e06dcdd4b1ac850d54400ef05b40
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/29/816829/4 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/hacking/checks.py']",2,5ac3ba276e0d992635498bd58cf91da576f0b254,fix-ci," reg = fr""assertEqual\(([^,]*,\s*)+?{empties}\)\s*$"""," reg = r""assertEqual\(([^,]*,\s*)+?%s\)\s*$"" % empties",24,29
openstack%2Fpuppet-horizon~stable%2Ftrain~Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f,openstack/puppet-horizon,stable/train,Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f,Wallaby and older: Use 'UNSET' to remove heat dashboard parameters,MERGED,2021-11-02 12:05:44.000000000,2021-11-08 11:23:14.000000000,2021-11-08 11:23:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 12:05:44.000000000', 'files': ['templates/local_settings.py.erb', 'manifests/dashboards/heat.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/c551d0d96a71956a5f48bee7a100d3483fabcf2f', 'message': ""Wallaby and older: Use 'UNSET' to remove heat dashboard parameters\n\nThe change 655e0df25e40b401d2daa5d673a416215ccd17b7 introduced\nthe logic to remove the enable_user_pass parameter from the root\nlocal_settings using 'undef' but it turned out we can't set any\nparameter to 'undef' using hieradata because setting undef results in\nusing the default, which is 'true'.\n\nThis introduces usage of 'UNSET', which can be defined using hieradata\nmechanism.\n\nChange-Id: Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f\n(cherry picked from commit 8437bc4f341e8ec584c32bc50a1d9301b39ed1f1)\n(cherry picked from commit d2fef29e6098bd958e78073ec267230248e3eaf9)\n(cherry picked from commit 1e209cbf6964c2778e059cbc26f2dbd0a5d5b54e)\n""}]",0,816332,c551d0d96a71956a5f48bee7a100d3483fabcf2f,7,3,1,9816,,,0,"Wallaby and older: Use 'UNSET' to remove heat dashboard parameters

The change 655e0df25e40b401d2daa5d673a416215ccd17b7 introduced
the logic to remove the enable_user_pass parameter from the root
local_settings using 'undef' but it turned out we can't set any
parameter to 'undef' using hieradata because setting undef results in
using the default, which is 'true'.

This introduces usage of 'UNSET', which can be defined using hieradata
mechanism.

Change-Id: Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f
(cherry picked from commit 8437bc4f341e8ec584c32bc50a1d9301b39ed1f1)
(cherry picked from commit d2fef29e6098bd958e78073ec267230248e3eaf9)
(cherry picked from commit 1e209cbf6964c2778e059cbc26f2dbd0a5d5b54e)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/32/816332/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/dashboards/heat.pp', 'templates/local_settings.py.erb', 'manifests/init.pp']",3,c551d0d96a71956a5f48bee7a100d3483fabcf2f,puppet-horizon-dashboards-stable/victoria-stable/ussuri-stable/train,# Set this parameter to undef or 'UNSET' if horizon::dashboards::heat is # used.,# Set this parameter to undef if horizon::dashboards::heat is used.,7,4
openstack%2Fkayobe-config~stable%2Fxena~I60c6a1839a54afbfa9c2c92bd5bbf5b247877e8f,openstack/kayobe-config,stable/xena,I60c6a1839a54afbfa9c2c92bd5bbf5b247877e8f,Fix configuration sync for infra-vms,MERGED,2021-11-05 14:00:16.000000000,2021-11-08 11:06:20.000000000,2021-11-08 11:06:20.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-11-05 14:00:16.000000000', 'files': ['etc/kayobe/infra-vms.yml', 'etc/kayobe/inventory/group_vars/infra-vms/ansible-python-interpreter', 'etc/kayobe/inventory/group_vars/infra-vms/network-interfaces'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/9fe4b1add5dd8fcd3045648f1a2096f69d690de0', 'message': 'Fix configuration sync for infra-vms\n\nChange-Id: I60c6a1839a54afbfa9c2c92bd5bbf5b247877e8f\n(cherry picked from commit ace9a4dbe1a7963b041f3edb3f12aee2319f5983)\n'}]",0,816846,9fe4b1add5dd8fcd3045648f1a2096f69d690de0,7,3,1,15197,,,0,"Fix configuration sync for infra-vms

Change-Id: I60c6a1839a54afbfa9c2c92bd5bbf5b247877e8f
(cherry picked from commit ace9a4dbe1a7963b041f3edb3f12aee2319f5983)
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/46/816846/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/infra-vms.yml', 'etc/kayobe/inventory/group_vars/infra-vms/ansible-python-interpreter', 'etc/kayobe/inventory/group_vars/infra-vms/network-interfaces']",3,9fe4b1add5dd8fcd3045648f1a2096f69d690de0,,--- ############################################################################### # Network interface definitions for the infra-vms group. # Overcloud provisioning network IP information. # provision_oc_net_interface: # provision_oc_net_bridge_ports: # provision_oc_net_bond_slaves: ############################################################################### # Dummy variable to allow Ansible to accept this file. workaround_ansible_issue_8743: yes ,,16,1
openstack%2Fkayobe-config~master~I60c6a1839a54afbfa9c2c92bd5bbf5b247877e8f,openstack/kayobe-config,master,I60c6a1839a54afbfa9c2c92bd5bbf5b247877e8f,Fix configuration sync for infra-vms,MERGED,2021-11-05 14:00:01.000000000,2021-11-08 11:05:14.000000000,2021-11-08 11:05:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-11-05 14:00:01.000000000', 'files': ['etc/kayobe/infra-vms.yml', 'etc/kayobe/inventory/group_vars/infra-vms/ansible-python-interpreter', 'etc/kayobe/inventory/group_vars/infra-vms/network-interfaces'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/ace9a4dbe1a7963b041f3edb3f12aee2319f5983', 'message': 'Fix configuration sync for infra-vms\n\nChange-Id: I60c6a1839a54afbfa9c2c92bd5bbf5b247877e8f\n'}]",0,816845,ace9a4dbe1a7963b041f3edb3f12aee2319f5983,7,3,1,15197,,,0,"Fix configuration sync for infra-vms

Change-Id: I60c6a1839a54afbfa9c2c92bd5bbf5b247877e8f
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/45/816845/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/infra-vms.yml', 'etc/kayobe/inventory/group_vars/infra-vms/ansible-python-interpreter', 'etc/kayobe/inventory/group_vars/infra-vms/network-interfaces']",3,ace9a4dbe1a7963b041f3edb3f12aee2319f5983,,--- ############################################################################### # Network interface definitions for the infra-vms group. # Overcloud provisioning network IP information. # provision_oc_net_interface: # provision_oc_net_bridge_ports: # provision_oc_net_bond_slaves: ############################################################################### # Dummy variable to allow Ansible to accept this file. workaround_ansible_issue_8743: yes ,,16,1
openstack%2Ftripleo-ansible~master~Ie0e41332de65471c1dfd67552ff7283740968aca,openstack/tripleo-ansible,master,Ie0e41332de65471c1dfd67552ff7283740968aca,Add redhat-8 vars file for using it outside,ABANDONED,2021-11-03 09:51:37.000000000,2021-11-08 10:50:58.000000000,,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-03 09:51:37.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/278aff5129ba0546dd04b41fcc57708465d9932a', 'message': ""Add redhat-8 vars file for using it outside\n\nWhen using the role tasks outside the role, we'll need to specify\nexactly which vars file to load from vars/ folder.\n\nChange-Id: Ie0e41332de65471c1dfd67552ff7283740968aca\n""}]",9,816445,278aff5129ba0546dd04b41fcc57708465d9932a,16,5,1,10969,,,0,"Add redhat-8 vars file for using it outside

When using the role tasks outside the role, we'll need to specify
exactly which vars file to load from vars/ folder.

Change-Id: Ie0e41332de65471c1dfd67552ff7283740968aca
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/816445/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/vars/redhat-8.yml'],1,278aff5129ba0546dd04b41fcc57708465d9932a,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. tripleo_container_default_runtime: runc ",,18,0
openstack%2Ftooz~master~Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1,openstack/tooz,master,Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1,Enable retries in redis driver,MERGED,2021-06-10 14:18:16.000000000,2021-11-08 10:36:41.000000000,2021-11-07 12:28:20.000000000,"[{'_account_id': 4264}, {'_account_id': 9542}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-10 14:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/4b7a28258675ccab10104b5d3abcbfc59b1d34bc', 'message': 'Enable retries in redis driver\n\nthis is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n\nactually retry for specified number of retries instead of raising\nerror on first ConnectionError\n\nChange-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1\n'}, {'number': 2, 'created': '2021-06-11 13:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/e667547acb8f29d3f172aab12050b8013b4af2a9', 'message': 'Enable retries in redis driver\n\nthis is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n\nactually retry for specified number of retries instead of raising\nerror on first ConnectionError\n\nChange-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1\n'}, {'number': 3, 'created': '2021-06-16 16:44:51.000000000', 'files': ['releasenotes/notes/redis-connect-retries-c9adfc81eb06a4ab.yaml', 'tooz/drivers/redis.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/47c4d56e446a49726e7145c6cbc3bb7620a431f7', 'message': 'Enable retries in redis driver\n\nthis is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n\nactually retry for specified number of retries instead of raising\nerror on first ConnectionError\n\nChange-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1\n'}]",7,795791,47c4d56e446a49726e7145c6cbc3bb7620a431f7,26,5,3,9542,,,0,"Enable retries in redis driver

this is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b

actually retry for specified number of retries instead of raising
error on first ConnectionError

Change-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1
",git fetch https://review.opendev.org/openstack/tooz refs/changes/91/795791/2 && git format-patch -1 --stdout FETCH_HEAD,['tooz/drivers/redis.py'],1,4b7a28258675ccab10104b5d3abcbfc59b1d34bc,redis-retry-fix, if ntries < 1:, if ntries >= 1:,1,1
openstack%2Fpuppet-keystone~master~If66024623f9bccff6d176274abd6a20471a3a455,openstack/puppet-keystone,master,If66024623f9bccff6d176274abd6a20471a3a455,Add missing dependency on puppetlabs-concat,MERGED,2021-10-25 09:34:24.000000000,2021-11-08 09:57:03.000000000,2021-11-08 09:57:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-25 09:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/295108f7e9c14004ea0e2e45f1282f9a145c15bb', 'message': 'Add missing puppetlabs-concat\n\nChange-Id: If66024623f9bccff6d176274abd6a20471a3a455\n'}, {'number': 2, 'created': '2021-10-25 09:36:51.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e376c5d7aa719a7d7c9dfe57b6119147a9526d53', 'message': 'Add missing dependency on puppetlabs-concat\n\nChange-Id: If66024623f9bccff6d176274abd6a20471a3a455\n'}]",0,815262,e376c5d7aa719a7d7c9dfe57b6119147a9526d53,8,3,2,9816,,,0,"Add missing dependency on puppetlabs-concat

Change-Id: If66024623f9bccff6d176274abd6a20471a3a455
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/62/815262/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,295108f7e9c14004ea0e2e45f1282f9a145c15bb,concat," ""name"": ""puppetlabs/concat"", ""version_requirement"": "">=1.0.0 <8.0.0"" }, {",,4,0
openstack%2Fpuppet-horizon~master~Ie97aef6463201014af74c73c052cc04035f4446d,openstack/puppet-horizon,master,Ie97aef6463201014af74c73c052cc04035f4446d,Add missing dependency on puppetlabs-concat,MERGED,2021-10-25 09:33:48.000000000,2021-11-08 09:56:56.000000000,2021-11-08 09:56:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-25 09:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/040d28978e637997c495a5dee511919be237e7e5', 'message': 'Add missing puppetlabs-concat\n\nChange-Id: Ie97aef6463201014af74c73c052cc04035f4446d\n'}, {'number': 2, 'created': '2021-10-25 09:37:05.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/2e875c881e2f2d948d1e126b10449746cf90e5fd', 'message': 'Add missing dependency on puppetlabs-concat\n\nChange-Id: Ie97aef6463201014af74c73c052cc04035f4446d\n'}]",0,815261,2e875c881e2f2d948d1e126b10449746cf90e5fd,8,3,2,9816,,,0,"Add missing dependency on puppetlabs-concat

Change-Id: Ie97aef6463201014af74c73c052cc04035f4446d
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/61/815261/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,040d28978e637997c495a5dee511919be237e7e5,concat," ""name"": ""puppetlabs/concat"", ""version_requirement"": "">=1.0.0 <8.0.0"" }, {",,4,0
openstack%2Fpuppet-designate~master~I7d87ab1ac520506abf89024fb4d1384329b33ea3,openstack/puppet-designate,master,I7d87ab1ac520506abf89024fb4d1384329b33ea3,Add missing dependency on puppetlabs-concat,MERGED,2021-10-25 09:36:42.000000000,2021-11-08 09:56:27.000000000,2021-11-08 09:56:27.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-25 09:36:42.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/2047e92da79f853de251a1674afd5f00a11561c8', 'message': 'Add missing dependency on puppetlabs-concat\n\nChange-Id: I7d87ab1ac520506abf89024fb4d1384329b33ea3\n'}]",0,815263,2047e92da79f853de251a1674afd5f00a11561c8,8,4,1,9816,,,0,"Add missing dependency on puppetlabs-concat

Change-Id: I7d87ab1ac520506abf89024fb4d1384329b33ea3
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/63/815263/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,2047e92da79f853de251a1674afd5f00a11561c8,concat," ""name"": ""puppetlabs/concat"", ""version_requirement"": "">=1.0.0 <8.0.0"" }, {",,4,0
openstack%2Fec2-api~master~Ifcddf9a273b8d846511f31c49022d41c69030718,openstack/ec2-api,master,Ifcddf9a273b8d846511f31c49022d41c69030718,Changed minversion in tox to 3.18.0,ABANDONED,2021-09-18 03:55:07.000000000,2021-11-08 07:00:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-18 03:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/2bff8ff0f52de4b1f39417da2fd4e42016c01ade', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ifcddf9a273b8d846511f31c49022d41c69030718\n""}, {'number': 2, 'created': '2021-09-29 09:42:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/b094e903e39ade0382a1f912f6598f1de5864098', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ifcddf9a273b8d846511f31c49022d41c69030718\n""}]",0,809919,b094e903e39ade0382a1f912f6598f1de5864098,9,1,2,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ifcddf9a273b8d846511f31c49022d41c69030718
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/19/809919/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2bff8ff0f52de4b1f39417da2fd4e42016c01ade,,minversion = 3.18.0allowlist_externals = rmallowlist_externals = rm,minversion = 3.1whitelist_externals = rmwhitelist_externals = rm,3,3
openstack%2Ftripleo-quickstart-extras~master~I4ed128e1409cce444ef904463cf51535bb42a2f7,openstack/tripleo-quickstart-extras,master,I4ed128e1409cce444ef904463cf51535bb42a2f7,Set whole_disk_images default to false,ABANDONED,2021-11-04 10:59:02.000000000,2021-11-08 06:52:06.000000000,,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-11-04 10:59:02.000000000', 'files': ['roles/build-images/tasks/main.yml', 'roles/overcloud-prep-images/templates/overcloud-image-upload.sh.j2', 'roles/overcloud-prep-images/templates/download-overcloud-image.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/41a0c9d2a4d7357d7d33c04b416f99e6fd6dc612', 'message': 'Set whole_disk_images default to false\n\nAs described in related-bug, we need to stop hard-coding this in\nthe release files with [1]. So we need to set a default in those\nplaces the var is currently referenced\n\n[1] I0b555676ce565d142a08e9d38d9e3c8ee7cb1a92\nRelated-Bug: 1949765\nChange-Id: I4ed128e1409cce444ef904463cf51535bb42a2f7\n'}]",10,816640,41a0c9d2a4d7357d7d33c04b416f99e6fd6dc612,19,6,1,8449,,,0,"Set whole_disk_images default to false

As described in related-bug, we need to stop hard-coding this in
the release files with [1]. So we need to set a default in those
places the var is currently referenced

[1] I0b555676ce565d142a08e9d38d9e3c8ee7cb1a92
Related-Bug: 1949765
Change-Id: I4ed128e1409cce444ef904463cf51535bb42a2f7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/40/816640/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-images/tasks/main.yml', 'roles/overcloud-prep-images/templates/overcloud-image-upload.sh.j2', 'roles/overcloud-prep-images/templates/download-overcloud-image.sh.j2']",3,41a0c9d2a4d7357d7d33c04b416f99e6fd6dc612,,{% if not whole_disk_images|default(false)|bool %},{% if not whole_disk_images|bool %},6,6
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I05f9a8e4332be9bea2c623202c01b1c133045852,openstack/puppet-tripleo,stable/victoria,I05f9a8e4332be9bea2c623202c01b1c133045852,Horizon: Enable heat-dashboard configurations,MERGED,2021-10-26 00:43:36.000000000,2021-11-08 06:45:02.000000000,2021-11-08 06:45:02.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-26 00:43:36.000000000', 'files': ['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e61d0d1b06b252ae226bbcb2b427e6a4ec65d752', 'message': 'Horizon: Enable heat-dashboard configurations\n\nDepends-on: https://review.opendev.org/799983\nChange-Id: I05f9a8e4332be9bea2c623202c01b1c133045852\n(cherry picked from commit a194d727856904a56072950cb6692da9e71b0587)\n(cherry picked from commit ac8482e9668a4c0ef6fa231211c10e843afd6682)\n'}]",2,815362,e61d0d1b06b252ae226bbcb2b427e6a4ec65d752,22,3,1,9816,,,0,"Horizon: Enable heat-dashboard configurations

Depends-on: https://review.opendev.org/799983
Change-Id: I05f9a8e4332be9bea2c623202c01b1c133045852
(cherry picked from commit a194d727856904a56072950cb6692da9e71b0587)
(cherry picked from commit ac8482e9668a4c0ef6fa231211c10e843afd6682)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/62/815362/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb']",2,e61d0d1b06b252ae226bbcb2b427e6a4ec65d752,puppet-horizon-dashboards-stable/victoria," is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to contain_class('apache::mod::remoteip') is_expected.to contain_class('apache::mod::status') end end context 'with step 4 and heat enabled' do let(:params) { { :step => 4, :bootstrap_node => 'node.example.com', :heat_api_enabled => true, } } it 'should trigger complete configuration with heat dashboard' do is_expected.to contain_class('horizon') is_expected.to contain_class('horizon::dashboards::heat')",,28,0
openstack%2Ftripleo-quickstart~master~Ibe95461f8fb77a7024010ad772a7ad1cc5a525e5,openstack/tripleo-quickstart,master,Ibe95461f8fb77a7024010ad772a7ad1cc5a525e5,Changed minversion in tox to 3.18.0,ABANDONED,2021-09-18 03:57:52.000000000,2021-11-08 06:38:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-18 03:57:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9451c71e8a74640ffb5fa37a188baec4293221cf', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ibe95461f8fb77a7024010ad772a7ad1cc5a525e5\n""}]",0,809922,9451c71e8a74640ffb5fa37a188baec4293221cf,5,1,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ibe95461f8fb77a7024010ad772a7ad1cc5a525e5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/22/809922/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9451c71e8a74640ffb5fa37a188baec4293221cf,,minversion = 3.18.0allowlist_externals =allowlist_externals = bash,minversion = 3.4.0whitelist_externals =whitelist_externals = bash,3,3
openstack%2Fopenstack-tempest-skiplist~master~I569c8cb1e351fd155cdf5579c9b4320e352ea6a2,openstack/openstack-tempest-skiplist,master,I569c8cb1e351fd155cdf5579c9b4320e352ea6a2,DNM : Testing failed tempest test on wallaby,NEW,2021-11-08 06:15:10.000000000,2021-11-08 06:26:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-08 06:15:10.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/0ad471f874017f4552e533152a80fa86342fee2d', 'message': 'DNM : Testing failed tempest test on wallaby\n\nChange-Id: I569c8cb1e351fd155cdf5579c9b4320e352ea6a2\n'}]",0,816935,0ad471f874017f4552e533152a80fa86342fee2d,2,1,1,31075,,,0,"DNM : Testing failed tempest test on wallaby

Change-Id: I569c8cb1e351fd155cdf5579c9b4320e352ea6a2
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/35/816935/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,0ad471f874017f4552e533152a80fa86342fee2d,test_wallaby_tempest,, - test: tempest.scenario.test_minimum_basic.TestMinimumBasicScenario.test_minimum_basic_scenario deployment: - overcloud releases: - name: master reason: Failed to find floating IP lp: https://bugs.launchpad.net/tripleo/+bug/1923194 - name: wallaby reason: Failed to find floating IP lp: https://bugs.launchpad.net/tripleo/+bug/1923194 jobs: [],0,11
openstack%2Ftripleo-ci~master~I78595127e88e714e0f80d443224e8920eda02fd8,openstack/tripleo-ci,master,I78595127e88e714e0f80d443224e8920eda02fd8,DNM testing explicit crun for BUILDAH_RUNTIME,NEW,2021-11-03 09:25:10.000000000,2021-11-08 06:22:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-03 09:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b2ae974c80b6a2c0465923e6e634aba6e6770892', 'message': 'DNM testing explicit crun for BUILDAH_RUNTIME\n\nIssue seen at [1]\n\n[1] https://logserver.rdoproject.org/67/36267/18/check/tripleo-build-containers-stream9-development/8cc09a8/logs/container-builds/49051216-f3d3-4dd3-9f29-c4cc6ab074e8/base/base-build.log\n\nChange-Id: I78595127e88e714e0f80d443224e8920eda02fd8\n'}, {'number': 2, 'created': '2021-11-03 10:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d3282dc334a6f03f811d8aa1bc023f0cdd827198', 'message': 'DNM testing explicit crun for BUILDAH_RUNTIME\n\nIssue seen at [1]\n\n[1] https://logserver.rdoproject.org/67/36267/18/check/tripleo-build-containers-stream9-development/8cc09a8/logs/container-builds/49051216-f3d3-4dd3-9f29-c4cc6ab074e8/base/base-build.log\n\nuse crun for container engine\n\nChange-Id: I78595127e88e714e0f80d443224e8920eda02fd8\n'}, {'number': 3, 'created': '2021-11-03 10:34:54.000000000', 'files': ['roles/build-containers/tasks/main.yaml', 'roles/build-containers/templates/tripleo-build.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b1e56234464315bf99ab437b384da6d3d35535ec', 'message': 'DNM testing explicit crun for BUILDAH_RUNTIME\n\nIssue seen at [1]\n\n[1] https://logserver.rdoproject.org/67/36267/18/check/tripleo-build-containers-stream9-development/8cc09a8/logs/container-builds/49051216-f3d3-4dd3-9f29-c4cc6ab074e8/base/base-build.log\n\nuse crun for container engine\n\nChange-Id: I78595127e88e714e0f80d443224e8920eda02fd8\n'}]",4,816441,b1e56234464315bf99ab437b384da6d3d35535ec,8,2,3,8449,,,0,"DNM testing explicit crun for BUILDAH_RUNTIME

Issue seen at [1]

[1] https://logserver.rdoproject.org/67/36267/18/check/tripleo-build-containers-stream9-development/8cc09a8/logs/container-builds/49051216-f3d3-4dd3-9f29-c4cc6ab074e8/base/base-build.log

use crun for container engine

Change-Id: I78595127e88e714e0f80d443224e8920eda02fd8
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/41/816441/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/templates/tripleo-build.sh.j2'],1,b2ae974c80b6a2c0465923e6e634aba6e6770892,,export BUILDAH_RUNTIME=/usr/bin/crun,,1,0
openstack%2Fdiskimage-builder~master~I56564d58fe6193c21294aacbf9f769bba2142ec7,openstack/diskimage-builder,master,I56564d58fe6193c21294aacbf9f769bba2142ec7,tests: remove debootstrap install,MERGED,2021-10-27 00:02:08.000000000,2021-11-08 05:05:00.000000000,2021-11-08 04:59:04.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-27 00:02:08.000000000', 'files': ['playbooks/dib-nodepool/debootstrap.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0f987ca4b61500b2023065e7cb43e5d5726b6847', 'message': ""tests: remove debootstrap install\n\nThis is not needed on the host any more; it's part of the\nnodepool-builder container.\n\nChange-Id: I56564d58fe6193c21294aacbf9f769bba2142ec7\n""}]",2,815571,0f987ca4b61500b2023065e7cb43e5d5726b6847,11,2,1,7118,,,0,"tests: remove debootstrap install

This is not needed on the host any more; it's part of the
nodepool-builder container.

Change-Id: I56564d58fe6193c21294aacbf9f769bba2142ec7
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/71/815571/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/dib-nodepool/debootstrap.yaml', '.zuul.d/jobs.yaml']",2,0f987ca4b61500b2023065e7cb43e5d5726b6847,stop-debootstrap-install,, pre-run: playbooks/dib-nodepool/debootstrap.yaml pre-run: playbooks/dib-nodepool/debootstrap.yaml pre-run: playbooks/dib-nodepool/debootstrap.yaml pre-run: playbooks/dib-nodepool/debootstrap.yaml pre-run: playbooks/dib-nodepool/debootstrap.yaml pre-run: playbooks/dib-nodepool/debootstrap.yaml pre-run: playbooks/dib-nodepool/debootstrap.yaml,0,16
openstack%2Ftripleo-common~master~I987e81fee3d25189dc001edd70bb57d5c3dd4310,openstack/tripleo-common,master,I987e81fee3d25189dc001edd70bb57d5c3dd4310,Fix permissions for deployments,MERGED,2021-10-25 21:27:26.000000000,2021-11-08 03:59:13.000000000,2021-11-08 03:57:27.000000000,"[{'_account_id': 7144}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-25 21:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b56790d8833b5c7db44cc84cc3f4280f7d9d4bfe', 'message': 'Fix permissions for deployments\n\nIf you run the deployment with a global become, the permissions on the\ndeployment output folder is root which causes it to fail.\n\n2021-10-25 17:21:12.735097 | 5254006a-0342-081e-9547-00000000043e |\nFATAL | Template deployment file for ControllerSwapDeployment |\novercloud-controller-0 | error={""changed"": false, ""checksum"":\n""4b4902390aa26ccce0f06960450eeb7ba0b79735"", ""msg"": ""Destination\n/var/lib/heat-config/tripleo-config-download not writable""}\n\nChange-Id: I987e81fee3d25189dc001edd70bb57d5c3dd4310\n'}, {'number': 2, 'created': '2021-10-26 18:52:45.000000000', 'files': ['tripleo_common/templates/deployments.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f9377d062bb4c9fe11c1e9698dcae614540dfb81', 'message': 'Fix permissions for deployments\n\nIf you run the deployment without a global become, the permissions on\nthe deployment output folder is root which causes it to fail.\n\n2021-10-25 17:21:12.735097 | 5254006a-0342-081e-9547-00000000043e |\nFATAL | Template deployment file for ControllerSwapDeployment |\novercloud-controller-0 | error={""changed"": false, ""checksum"":\n""4b4902390aa26ccce0f06960450eeb7ba0b79735"", ""msg"": ""Destination\n/var/lib/heat-config/tripleo-config-download not writable""}\n\nChange-Id: I987e81fee3d25189dc001edd70bb57d5c3dd4310\n'}]",10,815384,f9377d062bb4c9fe11c1e9698dcae614540dfb81,37,4,2,14985,,,0,"Fix permissions for deployments

If you run the deployment without a global become, the permissions on
the deployment output folder is root which causes it to fail.

2021-10-25 17:21:12.735097 | 5254006a-0342-081e-9547-00000000043e |
FATAL | Template deployment file for ControllerSwapDeployment |
overcloud-controller-0 | error={""changed"": false, ""checksum"":
""4b4902390aa26ccce0f06960450eeb7ba0b79735"", ""msg"": ""Destination
/var/lib/heat-config/tripleo-config-download not writable""}

Change-Id: I987e81fee3d25189dc001edd70bb57d5c3dd4310
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/815384/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/templates/deployments.yaml'],1,b56790d8833b5c7db44cc84cc3f4280f7d9d4bfe,task-core, become: true become: true become: true,,3,0
openstack%2Ftosca-parser~master~I2e8b4a1b900f6aa02fd9a2397b604d454a093792,openstack/tosca-parser,master,I2e8b4a1b900f6aa02fd9a2397b604d454a093792,Clean up extra spaces,MERGED,2021-09-15 14:04:56.000000000,2021-11-08 01:44:46.000000000,2021-11-08 01:43:29.000000000,"[{'_account_id': 16511}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-09-15 14:04:56.000000000', 'files': ['toscaparser/tests/artifacts/nodejs/config.sh'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/2ea2f97cd2772ca016aade42490c4d70211af3a3', 'message': 'Clean up extra spaces\n\nAlthough these errors are not important, they affect the code specification.\n\nChange-Id: I2e8b4a1b900f6aa02fd9a2397b604d454a093792\n'}]",2,809194,2ea2f97cd2772ca016aade42490c4d70211af3a3,8,5,1,30449,,,0,"Clean up extra spaces

Although these errors are not important, they affect the code specification.

Change-Id: I2e8b4a1b900f6aa02fd9a2397b604d454a093792
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/94/809194/1 && git format-patch -1 --stdout FETCH_HEAD,['toscaparser/tests/artifacts/nodejs/config.sh'],1,2ea2f97cd2772ca016aade42490c4d70211af3a3,,, ,3,3
openstack%2Fdesignate-tempest-plugin~master~I0904803f7e3ac5635babfc82f409a0e38685c9fa,openstack/designate-tempest-plugin,master,I0904803f7e3ac5635babfc82f409a0e38685c9fa,"Create ""A"" type recordset using a list of IPs records",MERGED,2021-08-04 14:10:34.000000000,2021-11-08 01:18:13.000000000,2021-11-08 01:16:56.000000000,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 29681}, {'_account_id': 31664}]","[{'number': 1, 'created': '2021-08-04 14:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/2cf737d6b0ef61ee166106b52a56ceba5e2588e7', 'message': 'Create ""A"" type recordset using a list of IPs records\n\nTest name: test_create_a_recordset_multiply_ips\n\nChange-Id: I0904803f7e3ac5635babfc82f409a0e38685c9fa\n'}, {'number': 2, 'created': '2021-10-28 10:23:32.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_recordset.py', 'designate_tempest_plugin/data_utils.py', 'designate_tempest_plugin/tests/base.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5260227cc78b68c07cc4876d74b980f6fd8efff9', 'message': 'Create ""A"" type recordset using a list of IPs records\n\nTest name: test_create_A_recordset_multiply_ips\nNote: this patch is also fixes missing cleanups and adds\nthe existing constants to be used in code.\n\nChange-Id: I0904803f7e3ac5635babfc82f409a0e38685c9fa\n'}]",14,803482,5260227cc78b68c07cc4876d74b980f6fd8efff9,17,9,2,28609,,,0,"Create ""A"" type recordset using a list of IPs records

Test name: test_create_A_recordset_multiply_ips
Note: this patch is also fixes missing cleanups and adds
the existing constants to be used in code.

Change-Id: I0904803f7e3ac5635babfc82f409a0e38685c9fa
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/82/803482/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/test_recordset.py', 'designate_tempest_plugin/data_utils.py']",2,2cf737d6b0ef61ee166106b52a56ceba5e2588e7,change-803482,"def rand_a_recordset(zone_name, ip=None, number_of_ips=None, **kwargs): if number_of_ips is not None: records = [rand_ip() for _ in range(number_of_ips)] return rand_recordset_data('A', zone_name, records=records, **kwargs)","def rand_a_recordset(zone_name, ip=None, **kwargs):",15,1
openstack%2Ffreezer-web-ui~master~Ic2579afbc20319fc5e35c5170cf33f1e39a8e7f7,openstack/freezer-web-ui,master,Ic2579afbc20319fc5e35c5170cf33f1e39a8e7f7,Fix pylint error:H405,MERGED,2021-11-06 11:28:40.000000000,2021-11-08 00:44:07.000000000,2021-11-08 00:44:07.000000000,"[{'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-06 11:28:40.000000000', 'files': ['disaster_recovery/utils.py', 'disaster_recovery/api/api.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/ed5462edace65a69667e1f2f42cce343cc5bbeea', 'message': 'Fix pylint error:H405\n\nFix pylint  H405: multi line docstring summary not separated with an empty line\n\nChange-Id: Ic2579afbc20319fc5e35c5170cf33f1e39a8e7f7\n'}]",0,816917,ed5462edace65a69667e1f2f42cce343cc5bbeea,7,3,1,21069,,,0,"Fix pylint error:H405

Fix pylint  H405: multi line docstring summary not separated with an empty line

Change-Id: Ic2579afbc20319fc5e35c5170cf33f1e39a8e7f7
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/17/816917/1 && git format-patch -1 --stdout FETCH_HEAD,"['disaster_recovery/utils.py', 'disaster_recovery/api/api.py', 'tox.ini']",3,ed5462edace65a69667e1f2f42cce343cc5bbeea,,"ignore = H404,H403,H401,H238,H306,H701,W504 #H405","ignore = H405,H404,H403,H401,H238,H306,H701,W504",9,1
openstack%2Fneutron~master~Ia88d70dd142c919eebc982c82ca583d220d96ac4,openstack/neutron,master,Ia88d70dd142c919eebc982c82ca583d220d96ac4,Create Keystone admin endpoint for Rally job,MERGED,2021-11-05 08:31:24.000000000,2021-11-07 16:31:51.000000000,2021-11-07 16:27:29.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-11-05 08:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a0e801203ae7029e31510cab4f721aedb024d8e', 'message': 'Create Keystone admin endpoint for Rally job\n\nCI job ""neutron-ovs-rally-task"" needs an admin endpoint. Since\n[1] devstack does not create it by default. This patch enables it\nin this job now.\n\n[1]https://review.opendev.org/c/openstack/devstack/+/777345\n\nCloses-Bug: #1949945\nChange-Id: Ia88d70dd142c919eebc982c82ca583d220d96ac4\n'}, {'number': 2, 'created': '2021-11-05 13:56:53.000000000', 'files': ['zuul.d/rally.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/32c1762c363d2b55b76135a7d962f03dfe2bbea4', 'message': 'Create Keystone admin endpoint for Rally job\n\nCI job ""neutron-ovs-rally-task"" needs an admin endpoint. Since\n[1] devstack does not create it by default. This patch enables it\nin this job now.\n\n[1]https://review.opendev.org/c/openstack/devstack/+/777345\n\nCloses-Bug: #1949945\nChange-Id: Ia88d70dd142c919eebc982c82ca583d220d96ac4\n'}]",7,816792,32c1762c363d2b55b76135a7d962f03dfe2bbea4,46,5,2,16688,,,0,"Create Keystone admin endpoint for Rally job

CI job ""neutron-ovs-rally-task"" needs an admin endpoint. Since
[1] devstack does not create it by default. This patch enables it
in this job now.

[1]https://review.opendev.org/c/openstack/devstack/+/777345

Closes-Bug: #1949945
Change-Id: Ia88d70dd142c919eebc982c82ca583d220d96ac4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/816792/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/rally.yaml'],1,0a0e801203ae7029e31510cab4f721aedb024d8e,bug/1949945, KEYSTONE_ADMIN_ENDPOINT: true,,1,0
openstack%2Fpython-openstackclient~master~Ibb7756127fe0fdcdd9c81eeea061038230210745,openstack/python-openstackclient,master,Ibb7756127fe0fdcdd9c81eeea061038230210745,impl OSC's cmd hypervisor servers set,ABANDONED,2021-10-20 14:28:27.000000000,2021-11-07 13:10:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-20 14:28:27.000000000', 'files': ['openstackclient/compute/v2/hypervisor.py', 'openstackclient/tests/unit/compute/v2/test_hypervisor.py', 'doc/source/cli/command-objects/hypervisor.rst', 'setup.cfg', 'doc/source/cli/data/nova.csv'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6ad9de49cb0131deda61125674f37e02a156d6af', 'message': ""impl OSC's cmd hypervisor servers set\n\nimplmenet new OSC's command\n'hypervisor servers set' to set\nsome properties to servers on hypervisor\n\nstory: 2009311\ntask: 43701\nChange-Id: Ibb7756127fe0fdcdd9c81eeea061038230210745\n""}]",0,814792,6ad9de49cb0131deda61125674f37e02a156d6af,3,1,1,33956,,,0,"impl OSC's cmd hypervisor servers set

implmenet new OSC's command
'hypervisor servers set' to set
some properties to servers on hypervisor

story: 2009311
task: 43701
Change-Id: Ibb7756127fe0fdcdd9c81eeea061038230210745
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/92/814792/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/hypervisor.py', 'openstackclient/tests/unit/compute/v2/test_hypervisor.py', 'doc/source/cli/command-objects/hypervisor.rst', 'setup.cfg', 'doc/source/cli/data/nova.csv']",5,6ad9de49cb0131deda61125674f37e02a156d6af,,"host-meta,host set,Set or Delete metadata on all instances of a host.","host-meta,,Set or Delete metadata on all instances of a host.",225,1
openstack%2Fpuppet-openstack-integration~master~I14c1c0c7e6b6c53477321e1d9283e987333a1cd6,openstack/puppet-openstack-integration,master,I14c1c0c7e6b6c53477321e1d9283e987333a1cd6,Updated from Puppet OpenStack modules constraints,MERGED,2021-10-30 02:36:34.000000000,2021-11-07 07:55:59.000000000,2021-11-07 07:55:59.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-30 02:36:34.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/63ccbf4716c132ebc6ea8d08d76ef7cd39436dd5', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I14c1c0c7e6b6c53477321e1d9283e987333a1cd6\n'}]",1,816084,63ccbf4716c132ebc6ea8d08d76ef7cd39436dd5,11,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I14c1c0c7e6b6c53477321e1d9283e987333a1cd6
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/84/816084/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,63ccbf4716c132ebc6ea8d08d76ef7cd39436dd5,openstack/puppet/constraints, :ref => '9.1.0', :ref => '9.0.0',1,1
openstack%2Fopenstack-helm~master~I324c4e8ee8f8cd12bae427511747a91d8d1f8c5a,openstack/openstack-helm,master,I324c4e8ee8f8cd12bae427511747a91d8d1f8c5a,Fix helm test method about compute-kit,MERGED,2021-11-02 06:55:37.000000000,2021-11-07 05:50:55.000000000,2021-11-07 05:49:31.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 06:55:37.000000000', 'files': ['tools/deployment/component/compute-kit/tungsten-fabric.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b6870e7f4a4f9fcd166699b187e675d4e0c72cfd', 'message': 'Fix helm test method about compute-kit\n\nThis patch makes the helm test command more standard by calling script of common.\n\nChange-Id: I324c4e8ee8f8cd12bae427511747a91d8d1f8c5a\n'}]",2,816304,b6870e7f4a4f9fcd166699b187e675d4e0c72cfd,11,3,1,34017,,,0,"Fix helm test method about compute-kit

This patch makes the helm test command more standard by calling script of common.

Change-Id: I324c4e8ee8f8cd12bae427511747a91d8d1f8c5a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/04/816304/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/component/compute-kit/tungsten-fabric.sh'],1,b6870e7f4a4f9fcd166699b187e675d4e0c72cfd,,": ${RUN_HELM_TESTS:=""yes""} if [ ""x${RUN_HELM_TESTS}"" != ""xno"" ]; then ./tools/deployment/common/run-helm-tests.sh nova ./tools/deployment/common/run-helm-tests.sh neutron${1}_tf "," if [ ""x${RUN_HELM_TESTS}"" == ""xno"" ]; then exit 0 helm test nova --timeout 900 helm test neutron --timeout 900${1}_tf",5,5
openstack%2Ffreezer-api~master~I1d26cfc2f398cbf219adf59e2582096cb0600e73,openstack/freezer-api,master,I1d26cfc2f398cbf219adf59e2582096cb0600e73,Delete the func of build_app_v0(),MERGED,2021-11-06 10:41:52.000000000,2021-11-07 02:37:04.000000000,2021-11-07 02:33:55.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-06 10:41:52.000000000', 'files': ['freezer_api/cmd/api.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/29dd109cbcce500cae697c70c016f52ac88bdaa5', 'message': 'Delete the func of build_app_v0()\n\nThe func of def build_app_v0 is not used any more.\nDelete it.\n\nChange-Id: I1d26cfc2f398cbf219adf59e2582096cb0600e73\n'}]",3,816915,29dd109cbcce500cae697c70c016f52ac88bdaa5,17,2,1,21069,,,0,"Delete the func of build_app_v0()

The func of def build_app_v0 is not used any more.
Delete it.

Change-Id: I1d26cfc2f398cbf219adf59e2582096cb0600e73
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/15/816915/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/cmd/api.py'],1,29dd109cbcce500cae697c70c016f52ac88bdaa5,,,"# def build_app_v0(): # """"""Instantiate the root freezer-api app # Old versions of falcon (< 0.2.0) don't have a named 'middleware' argument. # This was introduced in version 0.2.0b1, so before that we need to instead # provide ""before"" hooks (request processing) and ""after"" hooks (response # processing). # :return: falcon WSGI app # """""" # # injecting FreezerContext & hooks # before_hooks = utils.before_hooks() + [ # middleware.RequireJSON().as_before_hook()] # after_hooks = [middleware.JSONTranslator().as_after_hook()] # # The signature of falcon.API() differs between versions, suppress pylint: # # pylint: disable=unexpected-keyword-arg # app = falcon.API(before=before_hooks, after=after_hooks) # app = configure_app(app) # return app ",0,23
openstack%2Fdesignate-tempest-plugin~master~Iecc7961980136523a32b9b1e21331540152a051c,openstack/designate-tempest-plugin,master,Iecc7961980136523a32b9b1e21331540152a051c,Fix the blacklist scenario test conflicts,MERGED,2021-11-05 22:17:00.000000000,2021-11-06 22:54:04.000000000,2021-11-06 22:52:52.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28609}]","[{'number': 1, 'created': '2021-11-05 22:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/e0894f993d39befbc8d1155a4422434d95f7a412', 'message': 'Fix the blacklist scenario test conflicts\n\nThe recent patch[1] added a set of blacklist API scenario tests that\nused very generic regex when creating the blacklists. This causes\nconflicts with other tests[2] that are also using a similar pattern.\n\nThis patch changes the blacklist scenario tests to use the test name\nin the regex to make it more unique and easier to trace for debugging.\n\n[1] https://review.opendev.org/c/openstack/designate-tempest-plugin/+/798715\n[2] https://zuul.opendev.org/t/openstack/build/cbeee8d01c5d4548ab3f57838d33a5ae/log/job-output.txt#25446\n\nChange-Id: Iecc7961980136523a32b9b1e21331540152a051c\n'}, {'number': 2, 'created': '2021-11-06 09:18:34.000000000', 'files': ['designate_tempest_plugin/tests/scenario/v2/test_blacklists.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c55bffd3fd79f153754cb1c632eabd66167a273f', 'message': 'Fix the blacklist scenario test conflicts\n\nThe recent patch[1] added a set of blacklist API scenario tests that\nused very generic regex when creating the blacklists. This causes\nconflicts with other tests[2] that are also using a similar pattern.\n\nThis patch changes the blacklist scenario tests to use the test name\nin the regex to make it more unique and easier to trace for debugging.\n\n[1] https://review.opendev.org/c/openstack/designate-tempest-plugin/+/798715\n[2] https://zuul.opendev.org/t/openstack/build/cbeee8d01c5d4548ab3f57838d33a5ae/log/job-output.txt#25446\n\nChange-Id: Iecc7961980136523a32b9b1e21331540152a051c\n'}]",4,816910,c55bffd3fd79f153754cb1c632eabd66167a273f,15,4,2,11628,,,0,"Fix the blacklist scenario test conflicts

The recent patch[1] added a set of blacklist API scenario tests that
used very generic regex when creating the blacklists. This causes
conflicts with other tests[2] that are also using a similar pattern.

This patch changes the blacklist scenario tests to use the test name
in the regex to make it more unique and easier to trace for debugging.

[1] https://review.opendev.org/c/openstack/designate-tempest-plugin/+/798715
[2] https://zuul.opendev.org/t/openstack/build/cbeee8d01c5d4548ab3f57838d33a5ae/log/job-output.txt#25446

Change-Id: Iecc7961980136523a32b9b1e21331540152a051c
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/10/816910/1 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/scenario/v2/test_blacklists.py'],1,e0894f993d39befbc8d1155a4422434d95f7a412,," 'pattern': '^blacklistregextest.*', LOG.info('Try to create a zone that is starts with ' '""blacklistregextest"".') name='blacklistregextest' + dns_data_utils.rand_zone_name()) zone_name = 'blacklistnametest' + dns_data_utils.rand_zone_name() zone_name = 'blacklistnameregextest1' + dns_data_utils.rand_zone_name() {'pattern': '^blacklistnameregextest2.*', 'description': 'Zone starts with ""a"" char'}, name='blacklistnameregextest2' + dns_data_utils.rand_zone_name())[1]"," 'pattern': '^a.*', LOG.info('Try to create a zone that is starts with ""a"" character') name='a' + dns_data_utils.rand_zone_name()) zone_name = dns_data_utils.rand_zone_name() zone_name = dns_data_utils.rand_zone_name() {'pattern': '^a.*', 'description': 'Zone starts with ""a"" char'}, name='a' + dns_data_utils.rand_zone_name())[1]",10,7
openstack%2Frequirements~master~I698df8adcc550bc603bdd2fbd5ef0be1a063448d,openstack/requirements,master,I698df8adcc550bc603bdd2fbd5ef0be1a063448d,update constraint for os-ken to new release 2.3.0,MERGED,2021-11-05 14:01:47.000000000,2021-11-06 22:15:59.000000000,2021-11-06 22:14:42.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-05 14:01:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c448d4f0ab71324e3e9be38150dbbeeee6612497', 'message': 'update constraint for os-ken to new release 2.3.0\n\nmeta: version: 2.3.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Commit: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Change-Id: I93ab5e228b120e71949226301db86ae596df9d73\nmeta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I698df8adcc550bc603bdd2fbd5ef0be1a063448d\n'}]",0,816847,c448d4f0ab71324e3e9be38150dbbeeee6612497,13,3,1,11131,,,0,"update constraint for os-ken to new release 2.3.0

meta: version: 2.3.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Change-Id: I93ab5e228b120e71949226301db86ae596df9d73
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I698df8adcc550bc603bdd2fbd5ef0be1a063448d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/47/816847/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c448d4f0ab71324e3e9be38150dbbeeee6612497,new-release,os-ken===2.3.0,os-ken===2.2.0,1,1
openstack%2Ftripleo-ansible~master~I05c894b2fbd0795dd38b937a82e238b85235d6c3,openstack/tripleo-ansible,master,I05c894b2fbd0795dd38b937a82e238b85235d6c3,Ensure we mount the certificates in container,MERGED,2021-11-05 08:01:06.000000000,2021-11-06 18:35:12.000000000,2021-11-06 18:35:12.000000000,"[{'_account_id': 6796}, {'_account_id': 14250}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-11-05 08:01:06.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/dashboard/dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/55b47ddc36af0df635a78b29026368c4cc489083', 'message': 'Ensure we mount the certificates in container\n\nWe must ensure we actually mount the certificates in ceph boostrap\ncontainer when we have TLS involved.\n\nChange-Id: I05c894b2fbd0795dd38b937a82e238b85235d6c3\n'}]",2,816789,55b47ddc36af0df635a78b29026368c4cc489083,18,6,1,28223,,,0,"Ensure we mount the certificates in container

We must ensure we actually mount the certificates in ceph boostrap
container when we have TLS involved.

Change-Id: I05c894b2fbd0795dd38b937a82e238b85235d6c3
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/89/816789/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/tasks/dashboard/dashboard.yaml'],1,55b47ddc36af0df635a78b29026368c4cc489083,cephadm/slurp-cert," mount_certs: ""{{ (tripleo_cephadm_dashboard_protocol == 'https' and tripleo_cephadm_dashboard_crt | length > 0 and tripleo_cephadm_dashboard_key | length > 0) | bool }}""",,1,0
openstack%2Fpuppet-tripleo~master~Idf9aec8a3abba67af02661ea97bd49573c789c48,openstack/puppet-tripleo,master,Idf9aec8a3abba67af02661ea97bd49573c789c48,Ignore stderr when calling rabbitmqctl,ABANDONED,2021-09-30 07:08:30.000000000,2021-11-06 14:22:26.000000000,,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-30 07:08:30.000000000', 'files': ['manifests/profile/pacemaker/rabbitmq_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/346fc9e8368f97ac5223bab301a875aa178e0834', 'message': ""Ignore stderr when calling rabbitmqctl\n\nEvery time we recompile the erlang/elixir/rebar/rabbitmq stack there is\none or more fresh new warnings that will completely trip up any parsing\nof these commands. Most end up being bugs that get fixed later on [1].\n\nSince stderr is rarely interesting and just holds any rebase up, let's\nignore it when running these rabbitmqctl commands.\n\n[1] https://elixirforum.com/t/mix-local-hex-warning-authenticity-is-not-established-by-certificate-path-validation/39665\n\nChange-Id: Idf9aec8a3abba67af02661ea97bd49573c789c48\n""}]",0,811882,346fc9e8368f97ac5223bab301a875aa178e0834,9,5,1,20172,,,0,"Ignore stderr when calling rabbitmqctl

Every time we recompile the erlang/elixir/rebar/rabbitmq stack there is
one or more fresh new warnings that will completely trip up any parsing
of these commands. Most end up being bugs that get fixed later on [1].

Since stderr is rarely interesting and just holds any rebase up, let's
ignore it when running these rabbitmqctl commands.

[1] https://elixirforum.com/t/mix-local-hex-warning-authenticity-is-not-established-by-certificate-path-validation/39665

Change-Id: Idf9aec8a3abba67af02661ea97bd49573c789c48
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/82/811882/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/rabbitmq_bundle.pp'],1,346fc9e8368f97ac5223bab301a875aa178e0834,rabbitmq-stderr," $check_command = 'rabbitmqctl eval ""lists:keymember(rabbit, 1, application:which_applications())."" 2>/dev/null | grep -q true' $cmd1 = 'rabbitmqctl eval ""rabbit_nodes:is_running(node(), rabbit)."" 2>/dev/null | grep -q true' $cmd2 = 'rabbitmqctl eval ""rabbit_mnesia:is_clustered()."" 2>/dev/null | grep -q true'"," $check_command = 'rabbitmqctl eval ""lists:keymember(rabbit, 1, application:which_applications())."" | grep -q true' $cmd1 = 'rabbitmqctl eval ""rabbit_nodes:is_running(node(), rabbit)."" | grep -q true' $cmd2 = 'rabbitmqctl eval ""rabbit_mnesia:is_clustered()."" | grep -q true'",3,3
openstack%2Ftripleo-heat-templates~master~I414b510ac9cdb07af452c78b574ad5f367b277e9,openstack/tripleo-heat-templates,master,I414b510ac9cdb07af452c78b574ad5f367b277e9,DNM/DNR quick cert test,ABANDONED,2021-10-01 14:18:45.000000000,2021-11-06 14:18:51.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2021-10-01 14:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae6a02943f1ae506b58fb8d5b58e3a96d72ff99b', 'message': 'DNM/DNR quick cert test\n\nChange-Id: I414b510ac9cdb07af452c78b574ad5f367b277e9\n'}, {'number': 2, 'created': '2021-10-01 14:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38bf0abbb1b0317c73504e786ea65b6b84ddaf12', 'message': 'DNM/DNR quick cert test\n\nChange-Id: I414b510ac9cdb07af452c78b574ad5f367b277e9\n'}, {'number': 3, 'created': '2021-10-01 15:56:22.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27c72d912d3089bc5af8fc1c2b2f4b54ffe329e6', 'message': 'DNM/DNR quick cert test\n\nChange-Id: I414b510ac9cdb07af452c78b574ad5f367b277e9\n'}]",0,812141,27c72d912d3089bc5af8fc1c2b2f4b54ffe329e6,6,1,3,20172,,,0,"DNM/DNR quick cert test

Change-Id: I414b510ac9cdb07af452c78b574ad5f367b277e9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/812141/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml']",3,ae6a02943f1ae506b58fb8d5b58e3a96d72ff99b,test," - str_replace: template: ""{{fqdn_$NETWORK}}"" params: $NETWORK: {get_param: [ServiceNetMap, OsloMessagingRpcNetwork]} - ""{{ ansible_facts['hostname'] | lower }}"""," str_replace: template: ""{{fqdn_$NETWORK}}"" params: $NETWORK: {get_param: [ServiceNetMap, OsloMessagingRpcNetwork]}",15,12
openstack%2Ftripleo-common~master~Ib5db3c1ef7c5507ade49a5c623403fba7ee80e09,openstack/tripleo-common,master,Ib5db3c1ef7c5507ade49a5c623403fba7ee80e09,DNM/DNR WIP container image test,ABANDONED,2021-10-05 12:44:10.000000000,2021-11-06 14:18:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-05 12:44:10.000000000', 'files': ['container-images/tripleo_containers.yaml.j2', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/773a56a09b26a03330102df38bb41e82229fe1a8', 'message': 'DNM/DNR WIP container image test\n\nChange-Id: Ib5db3c1ef7c5507ade49a5c623403fba7ee80e09\n'}]",0,812498,773a56a09b26a03330102df38bb41e82229fe1a8,4,2,1,20172,,,0,"DNM/DNR WIP container image test

Change-Id: Ib5db3c1ef7c5507ade49a5c623403fba7ee80e09
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/98/812498/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tripleo_containers.yaml.j2', 'container-images/tripleo_containers.yaml']",2,773a56a09b26a03330102df38bb41e82229fe1a8,dnm-test-image,,- imagename: quay.ceph.io/prometheus/prometheus:v2.7.2 image_source: prom - imagename: quay.ceph.io/prometheus/alertmanager:v0.16.2 image_source: prom - imagename: quay.ceph.io/prometheus/node-exporter:v0.17.0 image_source: prom - imagename: quay.ceph.io/app-sre/grafana:6.7.4 image_source: grafana,0,36
openstack%2Fpuppet-tripleo~master~Ib8efff60a51b8062f8e26e39b215c42ab6fbbd50,openstack/puppet-tripleo,master,Ib8efff60a51b8062f8e26e39b215c42ab6fbbd50,DNM/DNR quick engine test in neutron,ABANDONED,2021-09-06 07:06:05.000000000,2021-11-06 14:18:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-06 07:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/05dfc205c7643031a2ac7da1c273fd02ede2faf6', 'message': 'DNM/DNR quick engine test in neutron\n\nChange-Id: Ib8efff60a51b8062f8e26e39b215c42ab6fbbd50\n'}, {'number': 2, 'created': '2021-09-06 16:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c351f2ac86bae0a08a12b793a555dc0cd35b737d', 'message': 'DNM/DNR quick engine test in neutron\n\nChange-Id: Ib8efff60a51b8062f8e26e39b215c42ab6fbbd50\n'}, {'number': 3, 'created': '2021-09-10 05:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bc4e5abc9fc6b9f4fefd743179296026a6f8ef83', 'message': 'DNM/DNR quick engine test in neutron\n\nChange-Id: Ib8efff60a51b8062f8e26e39b215c42ab6fbbd50\n'}, {'number': 4, 'created': '2021-09-15 12:54:50.000000000', 'files': ['templates/neutron/dnsmasq.epp', 'templates/neutron/haproxy.epp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/18b346d94ce12c23052c5d1362bdcf5a8187c4c5', 'message': 'DNM/DNR quick engine test in neutron\n\nChange-Id: Ib8efff60a51b8062f8e26e39b215c42ab6fbbd50\n'}]",0,807495,18b346d94ce12c23052c5d1362bdcf5a8187c4c5,13,2,4,20172,,,0,"DNM/DNR quick engine test in neutron

Change-Id: Ib8efff60a51b8062f8e26e39b215c42ab6fbbd50
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/95/807495/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/neutron/dnsmasq.epp'],1,05dfc205c7643031a2ac7da1c273fd02ede2faf6,test,$CLI --runtime /usr/bin/runc run --detach ${LOGGING} \,$CLI run --detach ${LOGGING} \,1,1
openstack%2Ftripleo-ansible~master~If96114267f82b502a16ea0755ec6ef0c3cf99fb1,openstack/tripleo-ansible,master,If96114267f82b502a16ea0755ec6ef0c3cf99fb1,WIP Generate the inventory all the time in cli-config-download.yaml,ABANDONED,2021-09-09 07:12:35.000000000,2021-11-06 14:18:25.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-09 07:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8a97b19c63d593fdfc24be82fbb9046fe6bfdab6', 'message': 'DNM/DNR quick inventory thing test\n\nChange-Id: If96114267f82b502a16ea0755ec6ef0c3cf99fb1\n'}, {'number': 2, 'created': '2021-09-23 08:02:27.000000000', 'files': ['tripleo_ansible/playbooks/cli-config-download.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84d4fa9733dc32222565e8c827f760e93d54d691', 'message': 'WIP Generate the inventory all the time in cli-config-download.yaml\n\nWe\'re currently generating the inventory only when the following\ncondition holds true:\n\n  when: inventory_path is not defined or inventory_path != None\n\nThis breaks down at least on my current Centos Stream 9 deployments as\nfollows:\n2021-09-08 19:30:54.086721 | TIMING | Download config | localhost | 0:00:10.959871 | 10.77s\n2021-09-08 19:30:54.089837 | TASK | Generate ansible inventory\n2021-09-08 19:30:54.104235 | SKIPPED | Generate ansible inventory | localhost\n2021-09-08 19:30:54.104966 | TIMING | Generate ansible inventory | localhost | 0:00:10.978116 | 0.01s\n2021-09-08 19:30:54.107643 | TASK | Create inventory directory\n2021-09-08 19:30:54.358310 | OK | Create inventory directory | localhost\n2021-09-08 19:30:54.359238 | TIMING | Create inventory directory | localhost | 0:00:11.232383 | 0.25s^\n2021-09-08 19:30:54.362723 | TASK | Copy generated inventory\n2021-09-08 19:30:54.633848 | FATAL | Copy generated inventory | localhost | error={""changed"": false, ""msg"": ""Source /home/stack/overcloud-deploy/overcloud/config-download/overcloud/tripl\neo-ansible-inventory.yaml not found""}\n\nAdding some debug output before the \'Generate ansible inventory\' call\nshows that inventory_path is of NoneType (see\nhttps://bugs.launchpad.net/tripleo/+bug/1944594/comments/2)\n\nThis makes it generate the inventory all the time.\n\nCloses-Bug: #1944594\n\nChange-Id: If96114267f82b502a16ea0755ec6ef0c3cf99fb1\n'}]",0,808013,84d4fa9733dc32222565e8c827f760e93d54d691,9,3,2,20172,,,0,"WIP Generate the inventory all the time in cli-config-download.yaml

We're currently generating the inventory only when the following
condition holds true:

  when: inventory_path is not defined or inventory_path != None

This breaks down at least on my current Centos Stream 9 deployments as
follows:
2021-09-08 19:30:54.086721 | TIMING | Download config | localhost | 0:00:10.959871 | 10.77s
2021-09-08 19:30:54.089837 | TASK | Generate ansible inventory
2021-09-08 19:30:54.104235 | SKIPPED | Generate ansible inventory | localhost
2021-09-08 19:30:54.104966 | TIMING | Generate ansible inventory | localhost | 0:00:10.978116 | 0.01s
2021-09-08 19:30:54.107643 | TASK | Create inventory directory
2021-09-08 19:30:54.358310 | OK | Create inventory directory | localhost
2021-09-08 19:30:54.359238 | TIMING | Create inventory directory | localhost | 0:00:11.232383 | 0.25s^
2021-09-08 19:30:54.362723 | TASK | Copy generated inventory
2021-09-08 19:30:54.633848 | FATAL | Copy generated inventory | localhost | error={""changed"": false, ""msg"": ""Source /home/stack/overcloud-deploy/overcloud/config-download/overcloud/tripl
eo-ansible-inventory.yaml not found""}

Adding some debug output before the 'Generate ansible inventory' call
shows that inventory_path is of NoneType (see
https://bugs.launchpad.net/tripleo/+bug/1944594/comments/2)

This makes it generate the inventory all the time.

Closes-Bug: #1944594

Change-Id: If96114267f82b502a16ea0755ec6ef0c3cf99fb1
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/13/808013/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-config-download.yaml'],1,8a97b19c63d593fdfc24be82fbb9046fe6bfdab6,cs9dnm, #when: inventory_path is not defined or inventory_path != None, when: inventory_path is not defined or inventory_path != None,1,1
openstack%2Fpython-freezerclient~master~I359fbcaabf3f6f68ca63d2b24aa32ee5d4e396c6,openstack/python-freezerclient,master,I359fbcaabf3f6f68ca63d2b24aa32ee5d4e396c6,Add  arm64  gate ci job,MERGED,2021-11-06 10:29:15.000000000,2021-11-06 12:05:50.000000000,2021-11-06 12:01:37.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-06 10:29:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/7431d7b62cb75801175a337e41e9c8255786793a', 'message': 'Add  arm64  gate ci job\n\nAdd  openstack-python3-xena-jobs-arm64 job in .zuul.yaml\n\nChange-Id: I359fbcaabf3f6f68ca63d2b24aa32ee5d4e396c6\n'}]",0,816914,7431d7b62cb75801175a337e41e9c8255786793a,8,2,1,21069,,,0,"Add  arm64  gate ci job

Add  openstack-python3-xena-jobs-arm64 job in .zuul.yaml

Change-Id: I359fbcaabf3f6f68ca63d2b24aa32ee5d4e396c6
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/14/816914/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7431d7b62cb75801175a337e41e9c8255786793a,, - openstack-python3-xena-jobs-arm64,,1,0
openstack%2Fneutron~stable%2Fussuri~I558d50d28378beb3710d98a2113ff9549c82ae17,openstack/neutron,stable/ussuri,I558d50d28378beb3710d98a2113ff9549c82ae17,Check a namespace existence by checking only its own directory,MERGED,2021-11-03 14:15:14.000000000,2021-11-06 04:33:38.000000000,2021-11-06 04:31:52.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 14:15:14.000000000', 'files': ['neutron/privileged/agent/linux/utils.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f144ba95a59b156f41e4fd6333349b381251f79f', 'message': 'Check a namespace existence by checking only its own directory\n\nTo check the existance of a namespace, instead of listing the\nnamespaces directory (by default ""/var/run/netns""), this patch\ndirectly checks the existence of the namespace directory, using\n""os.path.exists"".\n\nThis check is faster than listing the whole directory and avoids\ntimeout problems as reported in the related bug.\n\nConflicts:\n      neutron/privileged/agent/linux/utils.py\n\nCloses-Bug: #1947974\nChange-Id: I558d50d28378beb3710d98a2113ff9549c82ae17\n(cherry picked from commit 8127221479834350465251839ab88056f4f64fb4)\n(cherry picked from commit 6a9c05a92498630b85102eb6af1eccb415fd605a)\n'}]",0,816516,f144ba95a59b156f41e4fd6333349b381251f79f,25,3,1,16688,,,0,"Check a namespace existence by checking only its own directory

To check the existance of a namespace, instead of listing the
namespaces directory (by default ""/var/run/netns""), this patch
directly checks the existence of the namespace directory, using
""os.path.exists"".

This check is faster than listing the whole directory and avoids
timeout problems as reported in the related bug.

Conflicts:
      neutron/privileged/agent/linux/utils.py

Closes-Bug: #1947974
Change-Id: I558d50d28378beb3710d98a2113ff9549c82ae17
(cherry picked from commit 8127221479834350465251839ab88056f4f64fb4)
(cherry picked from commit 6a9c05a92498630b85102eb6af1eccb415fd605a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/816516/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/privileged/agent/linux/utils.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/common/net_helpers.py']",6,f144ba95a59b156f41e4fd6333349b381251f79f,bug/1947974, if (port.namespace is None or ip_wrapper.netns.exists(port.namespace)):, if (ip_wrapper.netns.exists(port.namespace) or port.namespace is None):,32,33
openstack%2Fpython-freezerclient~master~I05f26a3c10039b1ef85c7aca993f72e6c4ae65d8,openstack/python-freezerclient,master,I05f26a3c10039b1ef85c7aca993f72e6c4ae65d8,Fix flake8 error: H104,MERGED,2021-11-06 02:14:16.000000000,2021-11-06 04:06:45.000000000,2021-11-06 04:05:10.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-06 02:14:16.000000000', 'files': ['freezerclient/tests/unit/test_utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/d0818230796916628d9df3ff6024844ea85bcb63', 'message': 'Fix flake8 error: H104\n\nFix flak8 error :H104\n\nChange-Id: I05f26a3c10039b1ef85c7aca993f72e6c4ae65d8\n'}]",0,816912,d0818230796916628d9df3ff6024844ea85bcb63,7,2,1,21069,,,0,"Fix flake8 error: H104

Fix flak8 error :H104

Change-Id: I05f26a3c10039b1ef85c7aca993f72e6c4ae65d8
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/12/816912/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezerclient/tests/unit/test_utils.py', 'tox.ini']",2,d0818230796916628d9df3ff6024844ea85bcb63,,"ignore = H202,H404,H405","ignore = H104,H202,H404,H405",5,1
openstack%2Ffreezer-api~master~Ida07a13f5dcc152817bf2dd9353ad40f3dc61cbf,openstack/freezer-api,master,Ida07a13f5dcc152817bf2dd9353ad40f3dc61cbf,Add python3.9 CI,MERGED,2021-11-06 02:01:11.000000000,2021-11-06 03:51:52.000000000,2021-11-06 03:50:22.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-06 02:01:11.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/92844f55e615c74ffbc5c31de080e5d133341e54', 'message': 'Add python3.9 CI\n\nAdd python3.9 CI in tox.ini.\n\nChange-Id: Ida07a13f5dcc152817bf2dd9353ad40f3dc61cbf\n'}]",0,816911,92844f55e615c74ffbc5c31de080e5d133341e54,7,2,1,21069,,,0,"Add python3.9 CI

Add python3.9 CI in tox.ini.

Change-Id: Ida07a13f5dcc152817bf2dd9353ad40f3dc61cbf
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/11/816911/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,92844f55e615c74ffbc5c31de080e5d133341e54,,[testenv:py39] basepython = python3.9 ,,4,0
openstack%2Frequirements~master~I674789c54eed97e68d908351e96d4f73f02b137e,openstack/requirements,master,I674789c54eed97e68d908351e96d4f73f02b137e,Updated from generate-constraints,ABANDONED,2021-11-06 02:36:46.000000000,2021-11-06 02:45:35.000000000,,[],"[{'number': 1, 'created': '2021-11-06 02:36:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/784ff7aea6c25d0faf04a0e011d27489fdb7e32d', 'message': 'Updated from generate-constraints\n\nChange-Id: I674789c54eed97e68d908351e96d4f73f02b137e\n'}]",0,816913,784ff7aea6c25d0faf04a0e011d27489fdb7e32d,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I674789c54eed97e68d908351e96d4f73f02b137e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/816913/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,784ff7aea6c25d0faf04a0e011d27489fdb7e32d,openstack/requirements/constraints,XStatic-Angular===1.8.2.1zeroconf===0.36.12jsonpointer===2.2pkg_resources===0.0.0os-ken===2.3.0dogtag-pki===10.7.4.1boto3===1.19.12sphinxcontrib-svg2pdfconverter===1.2.0py===1.11.0python-nss===1.0.1numpy===1.21.4;python_version=='3.8'botocore===1.22.12Django===3.2.9oslo.policy===3.10.0fasteners===0.16.3,XStatic-Angular===1.5.8.0zeroconf===0.36.11jsonpointer===2.1os-ken===2.2.0dogtag-pki===10.3.0.0.2;python_version=='3.8' dogtag-pki===10.7.4.1;python_version=='3.6'boto3===1.19.10sphinxcontrib-svg2pdfconverter===1.1.1py===1.10.0python-nss===1.0.1;python_version=='3.6'numpy===1.21.3;python_version=='3.8'botocore===1.22.10Django===2.2.24oslo.policy===3.9.0fasteners===0.14.1setuptools===58.5.2,15,16
openstack%2Fpython-freezerclient~master~Ia420c0c8129c3e8d81e11702a536daf02b9e1108,openstack/python-freezerclient,master,Ia420c0c8129c3e8d81e11702a536daf02b9e1108,Add python3.9 CI,MERGED,2021-11-05 13:49:40.000000000,2021-11-06 02:21:03.000000000,2021-11-06 02:14:18.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 13:49:40.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/129e9cf2bbef28072257079eceb084376b036a82', 'message': ' Add python3.9 CI\n\nUpdate tox.ini to support python3.9.\n\nChange-Id: Ia420c0c8129c3e8d81e11702a536daf02b9e1108\n'}]",0,816841,129e9cf2bbef28072257079eceb084376b036a82,7,2,1,21069,,,0," Add python3.9 CI

Update tox.ini to support python3.9.

Change-Id: Ia420c0c8129c3e8d81e11702a536daf02b9e1108
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/41/816841/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,129e9cf2bbef28072257079eceb084376b036a82,,[testenv:py39] basepython = python3.9 ,,4,0
openstack%2Ftripleo-heat-templates~master~Idf27c14b31dc077ef9a0e567bd502ed6842bd52b,openstack/tripleo-heat-templates,master,Idf27c14b31dc077ef9a0e567bd502ed6842bd52b,Clear up confusion on cinder's default volume type,MERGED,2021-10-25 16:01:24.000000000,2021-11-06 02:20:45.000000000,2021-11-06 02:05:07.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-25 16:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da1243f8bcc824283da22be21be674f563e0b863', 'message': 'Clear up confusion on cinder\'s default volume type\n\nThis patch clears up confusion resulting from both tripleo and\ncinder creating ""default"" volume types. The quotes indicate subtle\ndifferences in how the term is used, and how it causes confusion for\ncloud users.\n\nTripleO added support for configuring cinder\'s default volume type,\nand later cinder itself added its own support for a default volume\ntype. The cinder project\'s motivation was to provide a volume type\nfor all volumes, even when cloud administrators hadn\'t defined one.\nBut from tripleo\'s perspective, cinder\'s volume type was redundant\nbecause tripleo *does* define a default volume type.\n\nThe confusion for cloud users is that cinder chose ""__DEFAULT__"" for\nthe name of the volume type, and ""Default Volume Type"" for its\ndescription. This is misleading because tripleo\'s CinderDefaultVolumeType\nis the actual default volume type.\n\nClearing up the confusion depends on whether the overcloud is a green\nfield deployment where no volumes have been created, or a brown field\ndeployment where cinder\'s __DEFAULT__ type may be in use. If no volumes\nexist then it\'s safe for tripleo to simply delete cinder\'s __DEFAULT__\ntype. Otherwise, the __DEFAULT__ type\'s description is updated so that\nit indicates the actual default type is the one established by the\nCinderDefaultVolumeType parameter.\n\nLastly, CinderDefaultVolumeType is now constrained to prevent it being\nset to an empty string. That should never happen, so this is just a\nsafety net.\n\nRelated-Bug: #1782217\nChange-Id: Idf27c14b31dc077ef9a0e567bd502ed6842bd52b\n'}, {'number': 2, 'created': '2021-10-26 03:09:27.000000000', 'files': ['releasenotes/notes/cinder-clarify-default-volume-type-c77e7a7ddafdf172.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4bf4866030c78c5f9343eb0084d72c4a03beefa7', 'message': 'Clear up confusion on cinder\'s default volume type\n\nThis patch clears up confusion resulting from both tripleo and\ncinder creating ""default"" volume types. The quotes indicate subtle\ndifferences in how the term is used, and how it causes confusion for\ncloud users.\n\nTripleO added support for configuring cinder\'s default volume type,\nand later cinder itself added its own support for a default volume\ntype. The cinder project\'s motivation was to provide a volume type\nfor all volumes, even when cloud administrators hadn\'t defined one.\nBut from tripleo\'s perspective, cinder\'s volume type was redundant\nbecause tripleo *does* define a default volume type.\n\nThe confusion for cloud users is that cinder chose ""__DEFAULT__"" for\nthe name of the volume type, and ""Default Volume Type"" for its\ndescription. This is misleading because tripleo\'s CinderDefaultVolumeType\nis the actual default volume type.\n\nClearing up the confusion depends on whether the overcloud is a green\nfield deployment where no volumes have been created, or a brown field\ndeployment where cinder\'s __DEFAULT__ type may be in use. If no volumes\nexist then it\'s safe for tripleo to simply delete cinder\'s __DEFAULT__\ntype. Otherwise, the __DEFAULT__ type\'s description is updated so that\nit indicates the actual default type is the one established by the\nCinderDefaultVolumeType parameter.\n\nLastly, CinderDefaultVolumeType is now constrained to prevent it being\nset to an empty string. That should never happen, so this is just a\nsafety net.\n\nRelated-Bug: #1782217\nChange-Id: Idf27c14b31dc077ef9a0e567bd502ed6842bd52b\n'}]",7,815332,4bf4866030c78c5f9343eb0084d72c4a03beefa7,25,6,2,21129,,,0,"Clear up confusion on cinder's default volume type

This patch clears up confusion resulting from both tripleo and
cinder creating ""default"" volume types. The quotes indicate subtle
differences in how the term is used, and how it causes confusion for
cloud users.

TripleO added support for configuring cinder's default volume type,
and later cinder itself added its own support for a default volume
type. The cinder project's motivation was to provide a volume type
for all volumes, even when cloud administrators hadn't defined one.
But from tripleo's perspective, cinder's volume type was redundant
because tripleo *does* define a default volume type.

The confusion for cloud users is that cinder chose ""__DEFAULT__"" for
the name of the volume type, and ""Default Volume Type"" for its
description. This is misleading because tripleo's CinderDefaultVolumeType
is the actual default volume type.

Clearing up the confusion depends on whether the overcloud is a green
field deployment where no volumes have been created, or a brown field
deployment where cinder's __DEFAULT__ type may be in use. If no volumes
exist then it's safe for tripleo to simply delete cinder's __DEFAULT__
type. Otherwise, the __DEFAULT__ type's description is updated so that
it indicates the actual default type is the one established by the
CinderDefaultVolumeType parameter.

Lastly, CinderDefaultVolumeType is now constrained to prevent it being
set to an empty string. That should never happen, so this is just a
safety net.

Related-Bug: #1782217
Change-Id: Idf27c14b31dc077ef9a0e567bd502ed6842bd52b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/815332/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cinder-clarify-default-volume-type-c77e7a7ddafdf172.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml']",2,da1243f8bcc824283da22be21be674f563e0b863,," constraints: - allowed_pattern: ""[a-zA-Z0-9]+"" description: > The default volume type must be at least 1 character and contain only letters and numbers. - name: Manage Cinder's default volume type # Avoid potential confusion with cinder's own __DEFAULT__ volume type: # - For greenfield deployments (no volumes exist) then it's safe to delete # the __DEFAULT__ type. # - Otherwise, update the __DEFAULT__ type's description so users may # know which is the actual default volume type. eval $(openstack volume type show __DEFAULT__ -f shell -c id -c description) if [ -n ""$id"" ]; then vols=$(openstack volume list -f value -c ID) tripleo_descr=""For internal use, '{{ default_volume_type }}' is the default volume type"" if [ -z ""$vols"" ]; then openstack volume type delete $id elif [ ""$description"" != ""$tripleo_descr"" ]; then openstack volume type set $id --description ""$tripleo_descr"" fi fi", - name: Manage Cinder Volume Type,33,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic7c3469c69841293902f29d5772be202978fac32,openstack/tripleo-heat-templates,stable/wallaby,Ic7c3469c69841293902f29d5772be202978fac32,Remove double slashes in path,MERGED,2021-11-05 08:05:59.000000000,2021-11-06 02:05:26.000000000,2021-11-06 02:05:26.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-11-05 08:05:59.000000000', 'files': ['deployment/haproxy/haproxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/653069cb77c2c3bde36188a05f3da9a680d7619a', 'message': ""Remove double slashes in path\n\nIn some containers we have double slashes in our paths. This has always\nworked in podman 3.x but breaks with podman 4.x\n\n* Working\n\n[root@undercloud-0 step_1]# podman run -it --rm --net=host -v /etc/pki/tls/private/overcloud_endpoint.pem:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/overcloud_endpoint.pem undercloud-0.ctlplane.home.arpa:8787/tripleo_centos9/openstack-haproxy:latest bash\n[root@undercloud-0 /]# exit\n\nBroken (see the '//' before src-tls)\n\n[root@undercloud-0 step_1]# podman run -it --rm --net=host -v /etc/pki/tls/private/overcloud_endpoint.pem:/var/lib/kolla/config_files//src-tls/etc/pki/tls/private/overcloud_endpoint.pem undercloud-0.ctlplane.home.arpa:8787/tripleo_centos9/openstack-haproxy:latest bash\nError: OCI runtime error: mount `/etc/pki/tls/private/overcloud_endpoint.pem` to `/var/lib/kolla/config_files//src-tls/etc/pki/tls/private/overcloud_endpoint.pem`: Not a directory\n\nCloses-Bug: #1949888\nChange-Id: Ic7c3469c69841293902f29d5772be202978fac32\n(cherry picked from commit 61a1dcc3b1f6963dc84675b8319dcb7d2dc0e0c8)\n""}]",3,816666,653069cb77c2c3bde36188a05f3da9a680d7619a,16,6,1,20172,,,0,"Remove double slashes in path

In some containers we have double slashes in our paths. This has always
worked in podman 3.x but breaks with podman 4.x

* Working

[root@undercloud-0 step_1]# podman run -it --rm --net=host -v /etc/pki/tls/private/overcloud_endpoint.pem:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/overcloud_endpoint.pem undercloud-0.ctlplane.home.arpa:8787/tripleo_centos9/openstack-haproxy:latest bash
[root@undercloud-0 /]# exit

Broken (see the '//' before src-tls)

[root@undercloud-0 step_1]# podman run -it --rm --net=host -v /etc/pki/tls/private/overcloud_endpoint.pem:/var/lib/kolla/config_files//src-tls/etc/pki/tls/private/overcloud_endpoint.pem undercloud-0.ctlplane.home.arpa:8787/tripleo_centos9/openstack-haproxy:latest bash
Error: OCI runtime error: mount `/etc/pki/tls/private/overcloud_endpoint.pem` to `/var/lib/kolla/config_files//src-tls/etc/pki/tls/private/overcloud_endpoint.pem`: Not a directory

Closes-Bug: #1949888
Change-Id: Ic7c3469c69841293902f29d5772be202978fac32
(cherry picked from commit 61a1dcc3b1f6963dc84675b8319dcb7d2dc0e0c8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/816666/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-container-puppet.yaml'],1,653069cb77c2c3bde36188a05f3da9a680d7619a,podman4-stable/wallaby, - - /var/lib/kolla/config_files/src-tls, - - /var/lib/kolla/config_files/src-tls/,1,1
openstack%2Ftripleo-ansible~master~I75b68876a6276d2fc31b4dc675368e7caece03f5,openstack/tripleo-ansible,master,I75b68876a6276d2fc31b4dc675368e7caece03f5,"Add missing ""become: true""",MERGED,2021-11-05 08:01:06.000000000,2021-11-06 02:05:23.000000000,2021-11-06 02:05:23.000000000,"[{'_account_id': 6796}, {'_account_id': 14250}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-11-05 08:01:06.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c1e7dc99f3f275af58058a74cb77301fd188a891', 'message': 'Add missing ""become: true""\n\nThis is needed in order to manage the configuration when injecting the\ncertificate.\n\nChange-Id: I75b68876a6276d2fc31b4dc675368e7caece03f5\n'}]",1,816788,c1e7dc99f3f275af58058a74cb77301fd188a891,14,6,1,28223,,,0,"Add missing ""become: true""

This is needed in order to manage the configuration when injecting the
certificate.

Change-Id: I75b68876a6276d2fc31b4dc675368e7caece03f5
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/816788/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml'],1,c1e7dc99f3f275af58058a74cb77301fd188a891,cephadm/slurp-cert, become: true,,1,0
openstack%2Ftripleo-ansible~master~I67e6a877f551de3dd620ce1257968b6b3affbb98,openstack/tripleo-ansible,master,I67e6a877f551de3dd620ce1257968b6b3affbb98,Correct how we fetch certificate for cephadm/rgw,MERGED,2021-11-04 14:21:42.000000000,2021-11-06 02:05:20.000000000,2021-11-06 02:05:20.000000000,"[{'_account_id': 6796}, {'_account_id': 14250}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-11-04 14:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7260b9801e864c8d888f9a6f518179139e4e58fd', 'message': ""Correct how we fetch certificate for cephadm/rgw\n\nlookup is a local thing, so it's trying to get the certificate from the\nundercloud instead of the remote node.\n\nChange-Id: I67e6a877f551de3dd620ce1257968b6b3affbb98\n""}, {'number': 2, 'created': '2021-11-04 18:56:26.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/88de955d0d20d2a39bbaaf010eed9ee3418f49e8', 'message': ""Correct how we fetch certificate for cephadm/rgw\n\nlookup is a local thing, so it's trying to get the certificate from the\nundercloud instead of the remote node.\n\nChange-Id: I67e6a877f551de3dd620ce1257968b6b3affbb98\n""}]",3,816703,88de955d0d20d2a39bbaaf010eed9ee3418f49e8,21,6,2,28223,,,0,"Correct how we fetch certificate for cephadm/rgw

lookup is a local thing, so it's trying to get the certificate from the
undercloud instead of the remote node.

Change-Id: I67e6a877f551de3dd620ce1257968b6b3affbb98
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/03/816703/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml'],1,7260b9801e864c8d888f9a6f518179139e4e58fd,cephadm/slurp-cert," - name: Get certificate from remote node if needed become: true when: - tripleo_cephadm_internal_tls_enabled | bool register: slurp_cert ansible.builtin.slurp: src: ""{{ radosgw_frontend_ssl_certificate | default('/etc/pki/tls/certs/ceph_rgw.crt')}}"" rgw_frontend_cert: ""{{ slurp_cert['content'] | b64decode | default('') }}"""," rgw_frontend_cert: |- {% set fcert_lookup = '' %} {% if tripleo_cephadm_internal_tls_enabled | bool %} {% set fcert_lookup = lookup('file', radosgw_frontend_ssl_certificate) %} {% endif %} {{ fcert_lookup }}",9,6
openstack%2Ftripleo-heat-templates~master~I3309f2a0e39ad115930ecd5c0e895816565819e9,openstack/tripleo-heat-templates,master,I3309f2a0e39ad115930ecd5c0e895816565819e9,Add ping test for all networks gateway IPs,MERGED,2021-10-28 21:12:27.000000000,2021-11-06 02:05:14.000000000,2021-11-06 02:05:14.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-10-28 21:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fbc5a6edc9c974557993a544cde0f71b1f221380', 'message': ""Add ping test for all networks gateway IPs\n\nAdd ping test for gateway IPs on all networks, to ensure\nall gateways are reachable.\n\nThe releated Bugzilla reports an issue where some network\nfabrics fail when using the current node ping test, which\npings the first node in each role. The fabric simply does\nnot forward traffic before the gateway has been pinged.\n\nOne can argue that the fabric in question is broken. However,\nwith the current implementation the first node in each role\nactually ping tests only against it's own address? So adding\nthe test to ping the gateway addresses improves the validation\nin general.\n\nRelated RHBZ#1875962\nDepends-On: I93cded61ffb862e99fd8043dbf0def3d16079692\n\nChange-Id: I3309f2a0e39ad115930ecd5c0e895816565819e9\n""}, {'number': 2, 'created': '2021-10-28 21:48:43.000000000', 'files': ['overcloud.j2.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d830980ec842c6093a8fd44ef922014bcadf693', 'message': ""Add ping test for all networks gateway IPs\n\nAdd ping test for gateway IPs on all networks, to ensure\nall gateways are reachable.\n\nThe releated Bugzilla reports an issue where some network\nfabrics fail when using the current node ping test, which\npings the first node in each role. The fabric simply does\nnot forward traffic before the gateway has been pinged.\n\nOne can argue that the fabric in question is broken. However,\nwith the current implementation the first node in each role\nactually ping tests only against it's own address? So adding\nthe test to ping the gateway addresses improves the validation\nin general.\n\nRelated RHBZ#1875962\nDepends-On: I93cded61ffb862e99fd8043dbf0def3d16079692\n\nChange-Id: I3309f2a0e39ad115930ecd5c0e895816565819e9\n""}]",3,815909,5d830980ec842c6093a8fd44ef922014bcadf693,15,5,2,24245,,,0,"Add ping test for all networks gateway IPs

Add ping test for gateway IPs on all networks, to ensure
all gateways are reachable.

The releated Bugzilla reports an issue where some network
fabrics fail when using the current node ping test, which
pings the first node in each role. The fabric simply does
not forward traffic before the gateway has been pinged.

One can argue that the fabric in question is broken. However,
with the current implementation the first node in each role
actually ping tests only against it's own address? So adding
the test to ping the gateway addresses improves the validation
in general.

Related RHBZ#1875962
Depends-On: I93cded61ffb862e99fd8043dbf0def3d16079692

Change-Id: I3309f2a0e39ad115930ecd5c0e895816565819e9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/815909/2 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'common/deploy-steps.j2']",2,fbc5a6edc9c974557993a544cde0f71b1f221380,RHBZ1875962," PingTestGatewayIPsMap: default: {} description: A map of role name to list of gateway IP addresses for each network, used to ping test each gateway. type: json ping_test_gateway_ips: {get_param: PingTestGatewayIPsMap} tripleo_nodes_validation_ping_test_gateway_ips: ""{{ ping_test_gateway_ips.get(tripleo_role_name) }}""",,21,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I8f157c9931e7dd90b4e48d44462a68c241dcfd34,openstack/tripleo-upgrade,stable/train,I8f157c9931e7dd90b4e48d44462a68c241dcfd34,[Train-Only] Allow running only controlplane or computes upgrade.,MERGED,2021-10-28 09:26:06.000000000,2021-11-06 02:05:04.000000000,2021-11-06 02:05:04.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-28 09:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cbe21b9c691225bfd71c09e8d5ab2a0f6ae379dd', 'message': 'WIP: Allow running only controlplane or computes upgrade.\n\nChange-Id: I8f157c9931e7dd90b4e48d44462a68c241dcfd34\n'}, {'number': 2, 'created': '2021-10-29 11:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8a21f0bf9f978e6b031968ba4c28315c4fb9623b', 'message': 'WIP: Allow running only controlplane or computes upgrade.\n\nChange-Id: I8f157c9931e7dd90b4e48d44462a68c241dcfd34\n'}, {'number': 3, 'created': '2021-11-02 11:51:38.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_roles.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/18a2be8c069c1444442a6815318ee6138697fcec', 'message': '[Train-Only] Allow running only controlplane or computes upgrade.\n\nThis patch adds two new tags: ffu_overcloud_upgrade_controller\nand ffu_overcloud_upgrade_compute which provide more granularity\nat the time of executing the upgrade run stage in the FFWD process.\n\nThese two tags will allow us to independently run the upgrade run\nof the controlplane or the compute nodes when triggered in\ncombination with the ffu_overcloud_upgrade_run tag.\n\nChange-Id: I8f157c9931e7dd90b4e48d44462a68c241dcfd34\n'}]",0,815812,18a2be8c069c1444442a6815318ee6138697fcec,13,4,3,26343,,,0,"[Train-Only] Allow running only controlplane or computes upgrade.

This patch adds two new tags: ffu_overcloud_upgrade_controller
and ffu_overcloud_upgrade_compute which provide more granularity
at the time of executing the upgrade run stage in the FFWD process.

These two tags will allow us to independently run the upgrade run
of the controlplane or the compute nodes when triggered in
combination with the ffu_overcloud_upgrade_run tag.

Change-Id: I8f157c9931e7dd90b4e48d44462a68c241dcfd34
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/12/815812/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_roles.yaml']",2,cbe21b9c691225bfd71c09e8d5ab2a0f6ae379dd,split_upgrade_run,"- block: - set_fact: pcs_host: """" # The below filter chain does the following: # - Get the list of roles NOT present in the nova_compute groups # - Get the list of hosts in each role into an array # - Sort the resulting list of hosts for each role # - Return a list of host lists. eg: [['ctrl-1', 'ctrl2', 'ctrl-3'], ['DB1']] # - OR if the role does not exist, it returns [] - set_fact: oc_role_host_list_controlplane: >- {{ (oc_roles_hosts|dict2items | rejectattr('key', 'in', inventory_rolemap['nova_compute'] | default([]))) | map(attribute='value') | map('sort') | list }} # - Then with_together does a zip_longest to combine the list of lists, # using None to fill the gaps. eg: [ctrl-1, DB1, ctrl2, None, ctrl-3, None] # - We take care of the possible [] value by replacing it with two empty lists. - name: upgrade controlplane {{ item }} vars: host: ""{{ item | reject('none') | join(',') }}"" pcs_present: true compute_present: false include_tasks: overcloud_upgrade_hosts.yaml with_together: ""{{ (oc_role_host_list_controlplane | length == 0) | ternary([[], []], oc_role_host_list_controlplane) }}"" tags: ffu_overcloud_upgrade_controller - block: # The below filter chain does the following: # - Get the list of roles present in the nova_compute group # - Get the list of hosts in each role into an array # - Sort the resulting list of hosts for each role # - Return a list of host lists # - OR if the role does not exist, it returns [] - set_fact: oc_role_host_list_nova_compute: >- {{ (oc_roles_hosts|dict2items | selectattr('key', 'in', inventory_rolemap['nova_compute'] | default([]))) | map(attribute='value') | map('sort') | list }} # - Then with_together does a zip_longest to combine the list of lists, # using None to fill the gaps. # - We take care of the possible [] value by replacing it with two empty lists. - name: upgrade computes {{ item }} vars: host: ""{{ item | reject('none') | join(',') }}"" pcs_present: false compute_present: true include_tasks: overcloud_upgrade_hosts.yaml with_together: ""{{ (oc_role_host_list_nova_compute | length == 0) | ternary([[], []], oc_role_host_list_nova_compute) }}"" tags: ffu_overcloud_upgrade_compute","- set_fact: pcs_host: """" # The below filter chain does the following: # - Get the list of roles NOT present in the nova_compute groups # - Get the list of hosts in each role into an array # - Sort the resulting list of hosts for each role # - Return a list of host lists. eg: [['ctrl-1', 'ctrl2', 'ctrl-3'], ['DB1']] # - OR if the role does not exist, it returns [] - set_fact: oc_role_host_list_controlplane: >- {{ (oc_roles_hosts|dict2items | rejectattr('key', 'in', inventory_rolemap['nova_compute'] | default([]))) | map(attribute='value') | map('sort') | list }} # - Then with_together does a zip_longest to combine the list of lists, # using None to fill the gaps. eg: [ctrl-1, DB1, ctrl2, None, ctrl-3, None] # - We take care of the possible [] value by replacing it with two empty lists. - name: upgrade controlplane {{ item }} vars: host: ""{{ item | reject('none') | join(',') }}"" pcs_present: true compute_present: false include_tasks: overcloud_upgrade_hosts.yaml with_together: ""{{ (oc_role_host_list_controlplane | length == 0) | ternary([[], []], oc_role_host_list_controlplane) }}"" # The below filter chain does the following: # - Get the list of roles present in the nova_compute group # - Get the list of hosts in each role into an array # - Sort the resulting list of hosts for each role # - Return a list of host lists # - OR if the role does not exist, it returns [] - set_fact: oc_role_host_list_nova_compute: >- {{ (oc_roles_hosts|dict2items | selectattr('key', 'in', inventory_rolemap['nova_compute'] | default([]))) | map(attribute='value') | map('sort') | list }} # - Then with_together does a zip_longest to combine the list of lists, # using None to fill the gaps. # - We take care of the possible [] value by replacing it with two empty lists. - name: upgrade computes {{ item }} vars: host: ""{{ item | reject('none') | join(',') }}"" pcs_present: false compute_present: true include_tasks: overcloud_upgrade_hosts.yaml with_together: ""{{ (oc_role_host_list_nova_compute | length == 0) | ternary([[], []], oc_role_host_list_nova_compute) }}""",53,50
openstack%2Ftripleo-ci~master~Id212ab1e047f96547eacb3f0cb3faf460af5f7f4,openstack/tripleo-ci,master,Id212ab1e047f96547eacb3f0cb3faf460af5f7f4,Add new centos9 stream nodesets for tripleo CI,MERGED,2021-11-05 10:54:27.000000000,2021-11-06 00:06:23.000000000,2021-11-06 00:06:23.000000000,"[{'_account_id': 6926}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-11-05 10:54:27.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ba015062995f112dd698e2b06cdd6e8eeede22a1', 'message': 'Add new centos9 stream nodesets for tripleo CI\n\nAdds single-centos-9-node two-centos-9-nodes three-centos-9-nodes\nnodesets with the centos-9-stream label for C9 in tripleo CI\n\nChange-Id: Id212ab1e047f96547eacb3f0cb3faf460af5f7f4\n'}]",1,816821,ba015062995f112dd698e2b06cdd6e8eeede22a1,12,9,1,8449,,,0,"Add new centos9 stream nodesets for tripleo CI

Adds single-centos-9-node two-centos-9-nodes three-centos-9-nodes
nodesets with the centos-9-stream label for C9 in tripleo CI

Change-Id: Id212ab1e047f96547eacb3f0cb3faf460af5f7f4
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/21/816821/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,ba015062995f112dd698e2b06cdd6e8eeede22a1,cs9, name: two-centos-9-nodes nodes: - name: primary label: centos-9-stream - name: secondary label: centos-9-stream groups: - name: switch nodes: - primary - name: peers nodes: - secondary - name: subnodes nodes: - secondary - nodeset: name: single-centos-9-node nodes: - name: primary label: centos-9-stream groups: - name: switch nodes: - primary - name: peers nodes: [] - nodeset: name: three-centos-9-nodes nodes: - name: primary label: centos-9-stream - name: secondary-1 label: centos-9-stream - name: secondary-2 label: centos-9-stream groups: - name: switch nodes: - primary - name: peers nodes: - secondary-1 - secondary-2 - name: subnodes nodes: - secondary-1 - secondary-2 - nodeset:,,52,0
openstack%2Fcinder~stable%2Ftrain~Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5,openstack/cinder,stable/train,Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5,Allow removing NFS snapshots in error status,MERGED,2021-09-22 15:20:14.000000000,2021-11-05 23:49:55.000000000,2021-11-05 23:48:12.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32291}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-09-22 15:20:14.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/volume/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/51a06f3fcc30d0ceb9ccb98560993146e2273090', 'message': 'Allow removing NFS snapshots in error status\n\nThe NFS driver doesn\'t allow to delete snapshots in error state when\nsnapshot support is disable.\n\nI\'m facing some scenarios where snapshots are enabled then a snapshot\nis created and after that then snapshots are disabled. This results\nin error state snapshots that can\'t be deleted.  Another scenario is\n- with nfs snapshot support disable from the beginning- the API layer\nallows the snapshot to be created but the NFS driver sets the status\nto ""error"" leaving the snapshot in the DB with error state.\nBecause of that, I have snapshots in error state that I\'m not able\nto delete.\n\nThe purpose of this fix allow deleting snapshots in error state.\nIt makes sense to block creating snapshots when snapshot support is\nFalse. However, when deleting snapshot we don\'t want to block\nattempts to delete a broken snapshot DB entry, which is necessary to\nclean up a failed snapshot create.\n\nCloses-Bug: #1842088\nChange-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5\n(cherry picked from commit 5714bdb8447a38440585116f784a322143711959)\n(cherry picked from commit 5a4f3ac53a554ecaa18cbd0a49c0606dff4e1137)\n(cherry picked from commit fb0efc42149fab524a9d3a95f01b7b71e954f314)\n(cherry picked from commit e9ef536958d9920b70cbbf27bc7faf548ad42d36)\n'}]",4,810406,51a06f3fcc30d0ceb9ccb98560993146e2273090,22,7,1,20813,,,0,"Allow removing NFS snapshots in error status

The NFS driver doesn't allow to delete snapshots in error state when
snapshot support is disable.

I'm facing some scenarios where snapshots are enabled then a snapshot
is created and after that then snapshots are disabled. This results
in error state snapshots that can't be deleted.  Another scenario is
- with nfs snapshot support disable from the beginning- the API layer
allows the snapshot to be created but the NFS driver sets the status
to ""error"" leaving the snapshot in the DB with error state.
Because of that, I have snapshots in error state that I'm not able
to delete.

The purpose of this fix allow deleting snapshots in error state.
It makes sense to block creating snapshots when snapshot support is
False. However, when deleting snapshot we don't want to block
attempts to delete a broken snapshot DB entry, which is necessary to
clean up a failed snapshot create.

Closes-Bug: #1842088
Change-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5
(cherry picked from commit 5714bdb8447a38440585116f784a322143711959)
(cherry picked from commit 5a4f3ac53a554ecaa18cbd0a49c0606dff4e1137)
(cherry picked from commit fb0efc42149fab524a9d3a95f01b7b71e954f314)
(cherry picked from commit e9ef536958d9920b70cbbf27bc7faf548ad42d36)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/810406/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/volume/drivers/nfs.py']",2,51a06f3fcc30d0ceb9ccb98560993146e2273090,bug/1842088-stable/wallaby-stable/victoria-stable/ussuri-stable/train,, self._check_snapshot_support(),3,1
openstack%2Ftripleo-ansible~stable%2Fvictoria~I992935e1c478591f3c8af5044df8a625af9eba85,openstack/tripleo-ansible,stable/victoria,I992935e1c478591f3c8af5044df8a625af9eba85,Add tripleo_dnf_stream Ansible module.,MERGED,2021-11-04 12:07:33.000000000,2021-11-05 23:34:58.000000000,2021-11-05 23:34:58.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-04 12:07:33.000000000', 'files': ['zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_dnf_stream.py', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/88fe77140b689a5e9309ad3c71701b793d5bd12c', 'message': 'Add tripleo_dnf_stream Ansible module.\n\nOne of the functionalities the dnf Ansible module misses is the single\ndisabling and disabling of DNF modules [0]. Currently only installation and\nremoval are supported.\n\nThe tripleo_dnf_stream module is based on the dnf.py Ansible core module [1]\n(so it will be simpler to contribute with this functionality to upstream\nAnsible core) and covers the enabling and disabling of one or multiple\nMODULE:STREAM.\n\nThis functionality is required when performing a minor update, as we\nneed to make sure that a set of streams are enabled to provide with\nthe right packages [2]. In this situation, the installation of the\nwhole module is not really required as a full upgrade will run after.\n\nThe module uses the options name (MODULE:STREAM) and state:[disabled or\nenabled]. Example:\n    - name: Enable the container-tools:3.0\n      tripleo_dnf_stream:\n        - name: container-tools:3.0\n          state: enabled\n\n[0]: https://github.com/ansible/ansible/issues/64852\n[1]: https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/dnf.py\n[2]: https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L378-L381\n\nChange-Id: I992935e1c478591f3c8af5044df8a625af9eba85\n(cherry picked from commit 5212d407d9730dce68782d37f2045a672dce9146)\n(cherry picked from commit c2d083b03c8314eeb1fdb606561e626fe89bffee)\n(cherry picked from commit 9959ab393809e61ace5d4beb15c6b27ad480de8f)\n'}]",0,816677,88fe77140b689a5e9309ad3c71701b793d5bd12c,7,7,1,26343,,,0,"Add tripleo_dnf_stream Ansible module.

One of the functionalities the dnf Ansible module misses is the single
disabling and disabling of DNF modules [0]. Currently only installation and
removal are supported.

The tripleo_dnf_stream module is based on the dnf.py Ansible core module [1]
(so it will be simpler to contribute with this functionality to upstream
Ansible core) and covers the enabling and disabling of one or multiple
MODULE:STREAM.

This functionality is required when performing a minor update, as we
need to make sure that a set of streams are enabled to provide with
the right packages [2]. In this situation, the installation of the
whole module is not really required as a full upgrade will run after.

The module uses the options name (MODULE:STREAM) and state:[disabled or
enabled]. Example:
    - name: Enable the container-tools:3.0
      tripleo_dnf_stream:
        - name: container-tools:3.0
          state: enabled

[0]: https://github.com/ansible/ansible/issues/64852
[1]: https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/dnf.py
[2]: https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L378-L381

Change-Id: I992935e1c478591f3c8af5044df8a625af9eba85
(cherry picked from commit 5212d407d9730dce68782d37f2045a672dce9146)
(cherry picked from commit c2d083b03c8314eeb1fdb606561e626fe89bffee)
(cherry picked from commit 9959ab393809e61ace5d4beb15c6b27ad480de8f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/77/816677/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_dnf_stream.py', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/converge.yml']",5,88fe77140b689a5e9309ad3c71701b793d5bd12c,,"--- - name: Converge hosts: all become: true tasks: - name: List available modules at test start for debugging purposes command: dnf module list register: module_list - debug: msg: ""{{ module_list.stdout_lines }}"" - debug: msg: | ""================================================================ PREPARE: enable maven:3.5 ================================================================"" - name: Make sure the module is removed before starting command: dnf module -C -y remove maven:3.5 - name: Disable the module command: dnf module -C -y reset maven:3.5 - debug: msg: | ""================================================================ START: enable maven:3.5 ================================================================"" - name: Enable maven:3.5 module tripleo_dnf_stream: name: ""maven:3.5"" state: enabled - debug: msg: | ""================================================================ VERIFY: enable maven:3.5 ================================================================"" - name: Ensure the module got enabled shell: ""dnf module -C -y list --enabled | grep 'maven\\s*3.5'"" failed_when: false register: check_module - name: Fail if module not found enabled fail: msg: Module maven:3.5 not found when: check_module.rc != 0 - debug: msg: | ""================================================================ PREPARE: change php:7.2 to php:7.3 ================================================================"" - name: Make sure the module is enabled before starting command: dnf module -C -y reset php - name: Enable the module nginx (php has dependencies on nginx) and php command: ""dnf module -y install {{ item }}"" loop: - ""nginx"" - ""php:7.2"" - debug: msg: | ""================================================================ START: change php:7.2 to php:7.3 ================================================================"" - name: Enable php:7.3 module tripleo_dnf_stream: name: ""php:7.3"" state: enabled - debug: msg: | ""================================================================ VERIFY: change php:7.2 to php:7.3 ================================================================"" - name: Ensure the module got enabled shell: ""dnf module -C -y list --enabled | grep 'php\\s*7.3'"" failed_when: false register: check_module - name: Fail if module not found enabled fail: msg: Module php:7.3 not found when: check_module.rc != 0 - debug: msg: | ""================================================================ PREPARE: enable and disable multiple streams ================================================================"" - name: Make sure the module is disabled before starting command: ""dnf module -C -y remove nodejs:12 javapackages-runtime:201801"" - name: Disable the module command: ""dnf module -C -y reset nodejs javapackages-runtime"" - debug: msg: | ""================================================================ START 1: enable multiple streams ================================================================"" - name: Enable nodejs:12 and javapackages-runtime:201801 module tripleo_dnf_stream: name: - ""nodejs:12"" - ""javapackages-runtime:201801"" state: enabled - debug: msg: | ""================================================================ VERIFY 1: enable multiple streams ================================================================"" - name: Ensure the module got enabled shell: ""dnf module -C -y list --enabled | grep '{{ item.split(\"":\"")[0] }}\\s*{{ item.split(\"":\"")[1] }}'"" failed_when: false register: check_module loop: - ""nodejs:12"" - ""javapackages-runtime:201801"" - name: Fail if module not found enabled fail: msg: ""Module {{ item.item }} not found"" when: item.rc != 0 loop: ""{{ check_module.results }}"" - debug: msg: | ""================================================================ START 2: disable multiple streams ================================================================"" - name: Disable all enabled modules tripleo_dnf_stream: name: - ""nodejs:12"" - ""javapackages-runtime:201801"" state: disabled - debug: msg: | ""================================================================ VERIFY 2: disable multiple streams ================================================================"" - name: Ensure all modules got disabled shell: ""dnf module -C -y list --enabled | grep '{{ item.split(\"":\"")[0] }}\\s*{{ item.split(\"":\"")[1] }}'"" failed_when: false register: check_module loop: - ""nodejs:12"" - ""javapackages-runtime:201801"" - name: Fail if module found enabled fail: msg: ""Module {{ item.item }} found enabled when it shouldn't"" when: item.rc == 0 loop: ""{{ check_module.results }}"" ",,481,0
openstack%2Fopenstack-helm-infra~master~If3fa0e296b8a1c2ab473e67b24d4465fe42a5268,openstack/openstack-helm-infra,master,If3fa0e296b8a1c2ab473e67b24d4465fe42a5268,Correct private key size input for Certificates and remove minor version support,MERGED,2021-11-03 14:29:39.000000000,2021-11-05 22:55:54.000000000,2021-11-05 22:54:31.000000000,"[{'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 33282}]","[{'number': 1, 'created': '2021-11-03 14:29:39.000000000', 'files': ['helm-toolkit/templates/manifests/_certificates.tpl', 'helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/186155c2961969e3fb43370d4bcd0e0978a313c0', 'message': 'Correct private key size input for Certificates and remove minor version support\n\nIn cert-manager v1 API, the private key size ""keySize"" was updated to ""size""\nunder ""privateKey"".\nSupport of minor (less than v1) API version is also removed for certificates.\n\nChange-Id: If3fa0e296b8a1c2ab473e67b24d4465fe42a5268\n'}]",0,816519,186155c2961969e3fb43370d4bcd0e0978a313c0,9,4,1,24780,,,0,"Correct private key size input for Certificates and remove minor version support

In cert-manager v1 API, the private key size ""keySize"" was updated to ""size""
under ""privateKey"".
Support of minor (less than v1) API version is also removed for certificates.

Change-Id: If3fa0e296b8a1c2ab473e67b24d4465fe42a5268
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/19/816519/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_certificates.tpl', 'helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml']",3,186155c2961969e3fb43370d4bcd0e0978a313c0,, - 0.2.27 Correct private key size input for Certificates and remove minor version support,,12,63
openstack%2Fproject-config~master~I5a33160c6272ee4e452b83599ca3ed552422c6d2,openstack/project-config,master,I5a33160c6272ee4e452b83599ca3ed552422c6d2,Fix haveged installation in CentOS7,MERGED,2021-11-05 10:07:40.000000000,2021-11-05 22:37:06.000000000,2021-11-05 22:12:19.000000000,"[{'_account_id': 5263}, {'_account_id': 6889}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 10:07:40.000000000', 'files': ['nodepool/elements/infra-package-needs/install.d/10-packages'], 'web_link': 'https://opendev.org/openstack/project-config/commit/42fa5a7e732addebbc4bb992d5a10c8510311cf8', 'message': 'Fix haveged installation in CentOS7\n\nWhen adding support for CentOS Stream 9 [1], I made dib to install haveged\nin centos8 or centos8s only. This broke centos7 images.\n\nThis patch should get haveged installed in all centos releases != 9-stream and fix\ncentos7 one.\n\n[1] https://review.opendev.org/c/openstack/project-config/+/811442\n\nChange-Id: I5a33160c6272ee4e452b83599ca3ed552422c6d2\n'}]",0,816813,42fa5a7e732addebbc4bb992d5a10c8510311cf8,9,4,1,16312,,,0,"Fix haveged installation in CentOS7

When adding support for CentOS Stream 9 [1], I made dib to install haveged
in centos8 or centos8s only. This broke centos7 images.

This patch should get haveged installed in all centos releases != 9-stream and fix
centos7 one.

[1] https://review.opendev.org/c/openstack/project-config/+/811442

Change-Id: I5a33160c6272ee4e452b83599ca3ed552422c6d2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/13/816813/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/infra-package-needs/install.d/10-packages'],1,42fa5a7e732addebbc4bb992d5a10c8510311cf8,,"if [[ ""$DISTRO_NAME"" == centos && ${DIB_RELEASE} != '9-stream' ]] ; then # 9-stream we are just using the default rngd","if [[ ""$DISTRO_NAME"" == centos && ""${DIB_RELEASE%-stream}"" == ""8"" ]] ; then",2,1
openstack%2Ftripleo-heat-templates~master~I0dea2c6e273a1aca77386119f27702bda3cf4bf7,openstack/tripleo-heat-templates,master,I0dea2c6e273a1aca77386119f27702bda3cf4bf7,Implement project personas in custom manila policy file,MERGED,2021-09-22 17:37:23.000000000,2021-11-05 21:52:30.000000000,2021-10-14 15:07:47.000000000,"[{'_account_id': 5046}, {'_account_id': 7353}, {'_account_id': 9003}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-22 17:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37e5128e66d7840fa22a83769941bb07d599183e', 'message': ""Implement project personas in custom manila policy file\n\nThis commit updates the default manila policies in\nenable-secure-rbac.yaml to implement consistent support for project\npersonas (project-admin, project-member, and project-reader) with other\nOpenStack services. The project-admin is still considered a system\nadministrator.\n\nThis behavior will change in future releases (likely Yoga) when we have\na community wide goal to finish system-scope adoption. At that point, we can\nremove these overrides and use the defaults in manila, which adhere to system\nand project personas and we'll get more functionality without these overrides.\n\nChange-Id: I0dea2c6e273a1aca77386119f27702bda3cf4bf7\n""}, {'number': 2, 'created': '2021-09-28 13:42:10.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4477e28626ee770ff7709c9cb1977e5226fa150c', 'message': ""Implement project personas in custom manila policy file\n\nThis commit updates the default manila policies in\nenable-secure-rbac.yaml to implement consistent support for project\npersonas (project-admin, project-member, and project-reader) with other\nOpenStack services. The project-admin is still considered a system\nadministrator.\n\nThis behavior will change in future releases (likely Yoga) when we have\na community wide goal to finish system-scope adoption. At that point, we can\nremove these overrides and use the defaults in manila, which adhere to system\nand project personas and we'll get more functionality without these overrides.\n\nChange-Id: I0dea2c6e273a1aca77386119f27702bda3cf4bf7\n""}]",4,810495,4477e28626ee770ff7709c9cb1977e5226fa150c,27,8,2,5046,,,0,"Implement project personas in custom manila policy file

This commit updates the default manila policies in
enable-secure-rbac.yaml to implement consistent support for project
personas (project-admin, project-member, and project-reader) with other
OpenStack services. The project-admin is still considered a system
administrator.

This behavior will change in future releases (likely Yoga) when we have
a community wide goal to finish system-scope adoption. At that point, we can
remove these overrides and use the defaults in manila, which adhere to system
and project personas and we'll get more functionality without these overrides.

Change-Id: I0dea2c6e273a1aca77386119f27702bda3cf4bf7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/810495/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,37e5128e66d7840fa22a83769941bb07d599183e,secure-rbac," value: ""role:admin"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""rule:admin_api"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""rule:admin_api"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-admin)"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-admin)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""(rule:admin_api) or (rule:project-admin)"" value: ""(rule:admin_api) or (rule:project-admin)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-admin)"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""(rule:admin_api) or (rule:project-admin)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-admin)"" value: ""(rule:admin_api) or (rule:project-admin)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-admin)"" value: ""(rule:admin_api) or (rule:project-admin)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-admin)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-admin)"" value: ""(rule:admin_api) or (rule:project-admin)"" value: ""(rule:admin_api) or (rule:project-admin)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-admin)"" value: ""rule:admin_api"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""rule:admin_api"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""rule:admin_api"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-reader)"" value: ""(rule:admin_api) or (rule:project-member)"" value: ""(rule:admin_api) or (rule:project-member)"""," value: ""is_admin:True"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""rule:system-reader"" value: ""rule:system-reader"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""rule:system-admin"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""rule:system-admin"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-admin)"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""rule:system-reader"" value: ""rule:system-reader"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-admin)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""rule:system-reader"" value: ""(rule:system-admin) or (rule:project-admin)"" value: ""(rule:system-admin) or (rule:project-admin)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""rule:system-reader"" value: ""rule:system-reader"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""rule:system-admin"" value: ""rule:system-reader"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""rule:system-reader"" value: ""rule:system-reader"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-admin) or (rule:project-admin)"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""(rule:system-admin) or (rule:project-admin)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""rule:system-reader"" value: ""rule:system-reader"" value: ""rule:system-reader"" value: ""rule:system-admin"" value: ""rule:system-reader"" value: ""rule:system-reader"" value: ""rule:system-reader"" value: ""rule:system-reader"" value: ""rule:system-reader"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""rule:system-reader"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""rule:system-reader"" value: ""rule:system-admin"" value: ""rule:system-reader"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""rule:system-admin"" value: ""rule:system-reader"" value: ""rule:system-reader"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""rule:system-admin"" value: ""rule:system-reader"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-admin)"" value: ""(rule:system-admin) or (rule:project-admin)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-admin)"" value: ""(rule:system-admin) or (rule:project-admin)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-admin)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-admin)"" value: ""(rule:system-admin) or (rule:project-admin)"" value: ""(rule:system-admin) or (rule:project-admin)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-admin)"" value: ""rule:system-reader"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""rule:system-reader"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""rule:system-reader"" value: ""rule:system-reader"" value: ""rule:system-admin"" value: ""rule:system-admin"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-reader) or (rule:project-reader)"" value: ""(rule:system-admin) or (rule:project-member)"" value: ""(rule:system-admin) or (rule:project-member)""",164,164
openstack%2Fnetworking-ovn~stable%2Ftrain~Ifd686d7ff452abd1226fbbc97f499e05102e4596,openstack/networking-ovn,stable/train,Ifd686d7ff452abd1226fbbc97f499e05102e4596,Fix OVN migration workload creation order,MERGED,2021-10-27 10:51:05.000000000,2021-11-05 19:24:58.000000000,2021-11-05 19:21:59.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 29350}]","[{'number': 1, 'created': '2021-10-27 10:51:05.000000000', 'files': ['migration/tripleo_environment/playbooks/roles/resources/create/templates/create-resources.sh.j2'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a6e741fdc6de495099b6e77ce50b0843d84fe66a', 'message': 'Fix OVN migration workload creation order\n\nCurrently workload VMs start before subnet is connected to router.\nWhen DVR is enabled this causes sometimes that one of the VMs is not\nable to get metadata.\n\nCloses bug: #1947547\n\n(Manually cherry picked from Neutron d49ce1652d31fb884285ed30e39ec10ef40c864d)\n\nChange-Id: Ifd686d7ff452abd1226fbbc97f499e05102e4596\n'}]",0,815622,a6e741fdc6de495099b6e77ce50b0843d84fe66a,9,4,1,6773,,,0,"Fix OVN migration workload creation order

Currently workload VMs start before subnet is connected to router.
When DVR is enabled this causes sometimes that one of the VMs is not
able to get metadata.

Closes bug: #1947547

(Manually cherry picked from Neutron d49ce1652d31fb884285ed30e39ec10ef40c864d)

Change-Id: Ifd686d7ff452abd1226fbbc97f499e05102e4596
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/22/815622/1 && git format-patch -1 --stdout FETCH_HEAD,['migration/tripleo_environment/playbooks/roles/resources/create/templates/create-resources.sh.j2'],1,a6e741fdc6de495099b6e77ce50b0843d84fe66a,,openstack port create --network ovn-migration-net-{{ resource_suffix }} --security-group ovn-migration-sg-{{ resource_suffix }} ovn-migration-server-port-{{ resource_suffix }} openstack server create --flavor ovn-migration-{{ resource_suffix }} --image $image_name \ --key-name ovn-migration-{{ resource_suffix }} \ --nic port-id=ovn-migration-server-port-{{ resource_suffix }} ovn-migration-server-{{ resource_suffix }} ,openstack port create --network ovn-migration-net-{{ resource_suffix }} --security-group ovn-migration-sg-{{ resource_suffix }} ovn-migration-server-port-{{ resource_suffix }} openstack server create --flavor ovn-migration-{{ resource_suffix }} --image $image_name \ --key-name ovn-migration-{{ resource_suffix }} \ --nic port-id=ovn-migration-server-port-{{ resource_suffix }} ovn-migration-server-{{ resource_suffix }} ,6,6
openstack%2Fnetworking-ovn~stable%2Ftrain~Id84bf17953527c415d611bfc198038fb6f811de3,openstack/networking-ovn,stable/train,Id84bf17953527c415d611bfc198038fb6f811de3,[ovn] Stop monitoring the SB MAC_Binding table to reduce mem footprint,MERGED,2021-10-21 09:24:02.000000000,2021-11-05 19:23:31.000000000,2021-11-05 19:21:57.000000000,"[{'_account_id': 11082}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-10-21 09:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/84c6fe10905209541bbd50fc2fa16710b5e5304d', 'message': ""[ovn] Stop monitoring the SB MAC_Binding table to reduce mem footprint\n\nThe MAC_Binding table in the SB database may grow indefinitely (due\nto a lack of an aging mechanism of its entries) and eventually\nlead to OOM killers for neutron-server which maintains an in-memory\ncopy of the database.\n\nIn order to stop monitoring this table, this patch is invoking\nthe ovsdb-client tool to remove the entries associated to\nFloating IPs that have just been detached. The execution of this\ntool is really fast as it will just invoke a JSON-RPC transact command\nwhich doesn't require downloading the database contents.\n\nIn a scale test, the memory consumption of neutron-server dropped\nfrom 75GB to 7GB with this patch.\n\nCloses-Bug: #1946318\n\n(Manually cherry picked from Neutron f6c35527698119ee6f73a6a3613c9beebb563840)\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Id84bf17953527c415d611bfc198038fb6f811de3\n""}, {'number': 2, 'created': '2021-10-21 12:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/46e4197f71c64da8abb2ce127be246df68c0f271', 'message': ""[ovn] Stop monitoring the SB MAC_Binding table to reduce mem footprint\n\nThe MAC_Binding table in the SB database may grow indefinitely (due\nto a lack of an aging mechanism of its entries) and eventually\nlead to OOM killers for neutron-server which maintains an in-memory\ncopy of the database.\n\nIn order to stop monitoring this table, this patch is invoking\nthe ovsdb-client tool to remove the entries associated to\nFloating IPs that have just been detached. The execution of this\ntool is really fast as it will just invoke a JSON-RPC transact command\nwhich doesn't require downloading the database contents.\n\nIn a scale test, the memory consumption of neutron-server dropped\nfrom 75GB to 7GB with this patch.\n\nCloses-Bug: #1946318\n\n(Manually cherry picked from Neutron f6c35527698119ee6f73a6a3613c9beebb563840)\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Id84bf17953527c415d611bfc198038fb6f811de3\n""}, {'number': 3, 'created': '2021-10-26 12:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c1a27dc27343c70e700ceabb523b1f7b746acab9', 'message': ""[ovn] Stop monitoring the SB MAC_Binding table to reduce mem footprint\n\nThe MAC_Binding table in the SB database may grow indefinitely (due\nto a lack of an aging mechanism of its entries) and eventually\nlead to OOM killers for neutron-server which maintains an in-memory\ncopy of the database.\n\nIn order to stop monitoring this table, this patch is invoking\nthe ovsdb-client tool to remove the entries associated to\nFloating IPs that have just been detached. The execution of this\ntool is really fast as it will just invoke a JSON-RPC transact command\nwhich doesn't require downloading the database contents.\n\nIn a scale test, the memory consumption of neutron-server dropped\nfrom 75GB to 7GB with this patch.\n\nCloses-Bug: #1946318\n\n(Manually cherry picked from Neutron f6c35527698119ee6f73a6a3613c9beebb563840)\n\nNote: The functional test has been changed for this stable branch\nbecause the update_tables() method from ovsdbapp is not availabie for\nthis version of networking-ovn. So I changed the functional test to\nadd the MAC_Binding entry via ovsdb-client instead of using ovsdbapp\nto do so.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Id84bf17953527c415d611bfc198038fb6f811de3\n""}, {'number': 4, 'created': '2021-10-26 15:59:10.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovsdb/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4f8e03593d8953f15013461bec10bf303a2a160e', 'message': ""[ovn] Stop monitoring the SB MAC_Binding table to reduce mem footprint\n\nThe MAC_Binding table in the SB database may grow indefinitely (due\nto a lack of an aging mechanism of its entries) and eventually\nlead to OOM killers for neutron-server which maintains an in-memory\ncopy of the database.\n\nIn order to stop monitoring this table, this patch is invoking\nthe ovsdb-client tool to remove the entries associated to\nFloating IPs that have just been detached. The execution of this\ntool is really fast as it will just invoke a JSON-RPC transact command\nwhich doesn't require downloading the database contents.\n\nIn a scale test, the memory consumption of neutron-server dropped\nfrom 75GB to 7GB with this patch.\n\nCloses-Bug: #1946318\n\n(Manually cherry picked from Neutron f6c35527698119ee6f73a6a3613c9beebb563840)\n\nNote: The functional test has been changed for this stable branch\nbecause the update_tables() method from ovsdbapp is not availabie for\nthis version of networking-ovn. So I changed the functional test to\nadd the MAC_Binding entry via ovsdb-client instead of using ovsdbapp\nto do so.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Id84bf17953527c415d611bfc198038fb6f811de3\n""}]",7,814878,4f8e03593d8953f15013461bec10bf303a2a160e,16,5,4,6773,,,0,"[ovn] Stop monitoring the SB MAC_Binding table to reduce mem footprint

The MAC_Binding table in the SB database may grow indefinitely (due
to a lack of an aging mechanism of its entries) and eventually
lead to OOM killers for neutron-server which maintains an in-memory
copy of the database.

In order to stop monitoring this table, this patch is invoking
the ovsdb-client tool to remove the entries associated to
Floating IPs that have just been detached. The execution of this
tool is really fast as it will just invoke a JSON-RPC transact command
which doesn't require downloading the database contents.

In a scale test, the memory consumption of neutron-server dropped
from 75GB to 7GB with this patch.

Closes-Bug: #1946318

(Manually cherry picked from Neutron f6c35527698119ee6f73a6a3613c9beebb563840)

Note: The functional test has been changed for this stable branch
because the update_tables() method from ovsdbapp is not availabie for
this version of networking-ovn. So I changed the functional test to
add the MAC_Binding entry via ovsdb-client instead of using ovsdbapp
to do so.

Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: Id84bf17953527c415d611bfc198038fb6f811de3
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/78/814878/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/ovsdb/ovsdb_monitor.py']",4,84c6fe10905209541bbd50fc2fa16710b5e5304d,,, helper.register_table('MAC_Binding'),63,23
openstack%2Fpuppet-neutron~master~I6af21cf8dee30a0a0ecd7ccd73311136f04f5261,openstack/puppet-neutron,master,I6af21cf8dee30a0a0ecd7ccd73311136f04f5261,Remove unused params,MERGED,2021-11-04 04:13:46.000000000,2021-11-05 19:16:26.000000000,2021-11-05 19:16:26.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 04:13:46.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7236d7ff59266570f67a5e749b82870e55a309b9', 'message': 'Remove unused params\n\nThis change drops the following unused parameters.\n\nnobody_user_group:\nThis was used by support for lbaas, which was removed\n\nlibnl_package, package_provider:\nThese were used by support for n1kv driver, which was removed.\n\nChange-Id: I6af21cf8dee30a0a0ecd7ccd73311136f04f5261\n'}]",0,816616,7236d7ff59266570f67a5e749b82870e55a309b9,8,4,1,9816,,,0,"Remove unused params

This change drops the following unused parameters.

nobody_user_group:
This was used by support for lbaas, which was removed

libnl_package, package_provider:
These were used by support for n1kv driver, which was removed.

Change-Id: I6af21cf8dee30a0a0ecd7ccd73311136f04f5261
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/16/816616/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,7236d7ff59266570f67a5e749b82870e55a309b9,unused-params,, $nobody_user_group = 'nobody' $libnl_package = 'libnl' $package_provider = 'rpm' $nobody_user_group = 'nogroup' $libnl_package = 'libnl1' $package_provider = 'dpkg',0,6
openstack%2Ftripleo-operator-ansible~master~Ie067226b509fbc1186be956f20866b8104e555ad,openstack/tripleo-operator-ansible,master,Ie067226b509fbc1186be956f20866b8104e555ad,Generate node unprovision script if wanted,MERGED,2021-10-19 09:31:09.000000000,2021-11-05 19:02:47.000000000,2021-11-05 19:02:47.000000000,"[{'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-19 09:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2547f4edc888e111366651b8e7ed3b83d15a2e79', 'message': ""Generate node inprovision script if wanted\n\nThis script might be handy in some cases - for instance if the node\nprovisionning is failing, it's always better to unprovision things\nbefore retrying.\n\nChange-Id: Ie067226b509fbc1186be956f20866b8104e555ad\n""}, {'number': 2, 'created': '2021-10-19 09:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/15fd8097323e9cec8d036f1834214d3c96736bdd', 'message': ""Generate node unprovision script if wanted\n\nThis script might be handy in some cases - for instance if the node\nprovisionning is failing, it's always better to unprovision things\nbefore retrying.\n\nChange-Id: Ie067226b509fbc1186be956f20866b8104e555ad\n""}, {'number': 3, 'created': '2021-10-28 06:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/54523c6da33f1262d30c3eef8bdf32283b32f5a6', 'message': ""Generate node unprovision script if wanted\n\nThis script might be handy in some cases - for instance if the node\nprovisionning is failing, it's always better to unprovision things\nbefore retrying.\n\nChange-Id: Ie067226b509fbc1186be956f20866b8104e555ad\n""}, {'number': 4, 'created': '2021-11-05 08:26:31.000000000', 'files': ['roles/tripleo_overcloud_node_unprovision/tasks/main.yml', 'roles/tripleo_overcloud_node_unprovision/README.md', 'roles/tripleo_overcloud_node_unprovision/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/36778dd949d3b4e127ebcf4e681ce85822e9ecab', 'message': ""Generate node unprovision script if wanted\n\nThis script might be handy in some cases - for instance if the node\nprovisionning is failing, it's always better to unprovision things\nbefore retrying.\n\nChange-Id: Ie067226b509fbc1186be956f20866b8104e555ad\n""}]",4,814539,36778dd949d3b4e127ebcf4e681ce85822e9ecab,16,4,4,28223,,,0,"Generate node unprovision script if wanted

This script might be handy in some cases - for instance if the node
provisionning is failing, it's always better to unprovision things
before retrying.

Change-Id: Ie067226b509fbc1186be956f20866b8104e555ad
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/39/814539/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_node_unprovision/tasks/main.yml', 'roles/tripleo_overcloud_node_unprovision/README.md', 'roles/tripleo_overcloud_node_unprovision/defaults/main.yml']",3,2547f4edc888e111366651b8e7ed3b83d15a2e79,node_unprovision/script,"tripleo_overcloud_node_unprovision_generate_scripts: ""{{ tripleo_generate_scripts|default(False) }}"" tripleo_overcloud_node_unprovision_generate_scripts_only: ""{{ tripleo_generate_scripts_only|default(False) }}""",,15,1
openstack%2Fironic~master~I91e9ba3024a85897aeead21cede57464294b409b,openstack/ironic,master,I91e9ba3024a85897aeead21cede57464294b409b,Fix idrac-wsman deploy with existing non-BIOS jobs,MERGED,2021-11-03 14:46:04.000000000,2021-11-05 18:29:01.000000000,2021-11-05 18:26:53.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-03 14:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1e698767e33c5d90a0fea9b1df7178c4ecb94d14', 'message': 'Fix idrac-wsman deploy with existing non-BIOS jobs\n\nAs with WS-Man iDRAC API setting boot device requires creating BIOS\njob and there can be only 1 open job per subsystem present in iDRAC,\nthere is validation to check that the job queue is empty before\ncontinuing setting boot device. This does not work well for cases when\nusing autoupdatescheduler that creates `Repository Update` job that\nstays Scheduled until executed and then followed by new Scheduled\n`Repository Update` job.\n\nThis patch allows non-BIOS jobs to be present in the queue when setting\nboot device. This will still fail for cases when there are BIOS jobs\npresent. In such cases should consider moving to idrac-redfish that\ndoes not create BIOS or any other job to set boot device.\n\nStory: 2009251\nTask: 43437\nChange-Id: I91e9ba3024a85897aeead21cede57464294b409b\n'}, {'number': 2, 'created': '2021-11-03 16:13:39.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/fix-idrac-wsman-deploy-with-existing-non-bios-jobs-78aa2195d0c3016f.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b1d08ae80542b6b3aa9fab99cdc64b449d113115', 'message': 'Fix idrac-wsman deploy with existing non-BIOS jobs\n\nAs with WS-Man iDRAC API setting boot device requires creating BIOS\njob and there can be only 1 open job per subsystem present in iDRAC,\nthere is validation to check that the job queue is empty before\ncontinuing setting boot device. This does not work well for cases when\nusing autoupdatescheduler that creates `Repository Update` job that\nstays Scheduled until executed and then followed by new Scheduled\n`Repository Update` job.\n\nThis patch allows non-BIOS jobs to be present in the queue when setting\nboot device. This will still fail for cases when there are BIOS jobs\npresent. In such cases should consider moving to idrac-redfish that\ndoes not create BIOS or any other job to set boot device.\n\nStory: 2009251\nTask: 43437\nChange-Id: I91e9ba3024a85897aeead21cede57464294b409b\n'}]",3,816521,b1d08ae80542b6b3aa9fab99cdc64b449d113115,19,4,2,27909,,,0,"Fix idrac-wsman deploy with existing non-BIOS jobs

As with WS-Man iDRAC API setting boot device requires creating BIOS
job and there can be only 1 open job per subsystem present in iDRAC,
there is validation to check that the job queue is empty before
continuing setting boot device. This does not work well for cases when
using autoupdatescheduler that creates `Repository Update` job that
stays Scheduled until executed and then followed by new Scheduled
`Repository Update` job.

This patch allows non-BIOS jobs to be present in the queue when setting
boot device. This will still fail for cases when there are BIOS jobs
present. In such cases should consider moving to idrac-redfish that
does not create BIOS or any other job to set boot device.

Story: 2009251
Task: 43437
Change-Id: I91e9ba3024a85897aeead21cede57464294b409b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/21/816521/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py']",2,1e698767e33c5d90a0fea9b1df7178c4ecb94d14,wsman-reboot," mock_validate_job_queue.assert_called_once_with( self.node, name_prefix=""Configure: BIOS"") mock_validate_job_queue.assert_called_once_with( self.node, name_prefix=""Configure: BIOS"") mock_validate_job_queue.assert_called_once_with( self.node, name_prefix=""Configure: BIOS"")", mock_validate_job_queue.assert_called_once_with(self.node) mock_validate_job_queue.assert_called_once_with(self.node) mock_validate_job_queue.assert_called_once_with(self.node),7,4
openstack%2Fpuppet-glance~master~Ifa3a52795b9e07fc1f2e003dd33c42dc0373880f,openstack/puppet-glance,master,Ifa3a52795b9e07fc1f2e003dd33c42dc0373880f,Avoid usage of custom os_package_type fact,MERGED,2021-11-04 13:24:43.000000000,2021-11-05 18:20:49.000000000,2021-11-05 18:20:49.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 13:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/85d9af2b4643ba57e9743c69a8f1f2fab3dff61f', 'message': ""Avoid usage of custom os_package_type fact\n\nCurrently the os_package_type fact is used to distinguish Ubuntu and\nDebian but it's redundant and built-in $::operatingsystem should be\nenough. What is worse the custom fact is not injected while composing\nfacts data in unit tests and has never been tested properly.\n\nChange-Id: Ifa3a52795b9e07fc1f2e003dd33c42dc0373880f\n""}, {'number': 2, 'created': '2021-11-04 13:26:06.000000000', 'files': ['spec/classes/glance_backend_rbd_spec.rb', 'manifests/params.pp', 'spec/defines/glance_backend_multistore_rbd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/6ff5e9e8e3d21b42f7fcf1f2e9a55a38ecf1e729', 'message': ""Avoid usage of custom os_package_type fact\n\nCurrently the os_package_type fact is used to distinguish Ubuntu and\nDebian but it's redundant and built-in $::operatingsystem should be\nenough. What is worse the custom fact is not injected while composing\nfacts data in unit tests and has never been tested properly.\n\nChange-Id: Ifa3a52795b9e07fc1f2e003dd33c42dc0373880f\n""}]",0,816694,6ff5e9e8e3d21b42f7fcf1f2e9a55a38ecf1e729,8,3,2,9816,,,0,"Avoid usage of custom os_package_type fact

Currently the os_package_type fact is used to distinguish Ubuntu and
Debian but it's redundant and built-in $::operatingsystem should be
enough. What is worse the custom fact is not injected while composing
facts data in unit tests and has never been tested properly.

Change-Id: Ifa3a52795b9e07fc1f2e003dd33c42dc0373880f
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/94/816694/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/glance_backend_rbd_spec.rb', 'manifests/params.pp']",2,85d9af2b4643ba57e9743c69a8f1f2fab3dff61f,os_package_type, if $::operatingsystem == 'Debian' {, if $::os_package_type == 'debian' {,2,2
openstack%2Fpuppet-nova~master~I6be21a4653d67c63a3bd1fa8b814ecdb1257f097,openstack/puppet-nova,master,I6be21a4653d67c63a3bd1fa8b814ecdb1257f097,Use service anchor to ensure API is up,MERGED,2021-11-04 00:08:30.000000000,2021-11-05 18:12:09.000000000,2021-11-05 18:12:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 00:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a486bd7be195d80d1a947f5864585efa83c6da26', 'message': 'Subscribe proper service for validation\n\nWhen nova-api is hosted by httpd+wsgi, the nova-api service resource is\nused to stop the eventlet server and the service itself is managed by\nthe httpd service.\n\nChange-Id: I6be21a4653d67c63a3bd1fa8b814ecdb1257f097\n'}, {'number': 2, 'created': '2021-11-04 03:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f7e72133bea9d6b4a8b86f942d65a8f5fd9949ab', 'message': 'Use service anchor to ensure API is up\n\n... instead of the individual service resource which can be named\ndifferently according to service_name.\n\nCloses-Bug: #1949658\nChange-Id: I6be21a4653d67c63a3bd1fa8b814ecdb1257f097\n'}, {'number': 3, 'created': '2021-11-04 03:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a211ff6e194a36f053614ed615a93fde196325b4', 'message': 'Use service anchor to ensure API is up\n\n... instead of the individual service resource which can be named\ndifferently according to service_name.\n\nCloses-Bug: #1949658\nChange-Id: I6be21a4653d67c63a3bd1fa8b814ecdb1257f097\n'}, {'number': 4, 'created': '2021-11-04 08:20:20.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f44d3c4987a65cc277af8be9a1d0cdc70b0cd50b', 'message': 'Use service anchor to ensure API is up\n\n... instead of the individual service resource which can be named\ndifferently according to service_name.\n\nCloses-Bug: #1949658\nChange-Id: I6be21a4653d67c63a3bd1fa8b814ecdb1257f097\n'}]",0,816594,f44d3c4987a65cc277af8be9a1d0cdc70b0cd50b,12,3,4,9816,,,0,"Use service anchor to ensure API is up

... instead of the individual service resource which can be named
differently according to service_name.

Closes-Bug: #1949658
Change-Id: I6be21a4653d67c63a3bd1fa8b814ecdb1257f097
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/94/816594/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,a486bd7be195d80d1a947f5864585efa83c6da26,bug/1949658," $subscribe_service_name = $service_name ? { 'httpd' => 'httpd', default => 'nova-api', } create_resources('openstacklib::service_validation', $validation_options_hash, {'subscribe' => Service[$subscribe_service_name]})"," create_resources('openstacklib::service_validation', $validation_options_hash, {'subscribe' => 'Service[nova-api]'})",5,1
openstack%2Fpuppet-vitrage~master~I5059b47d46d85171048895326937390d92462010,openstack/puppet-vitrage,master,I5059b47d46d85171048895326937390d92462010,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 13:19:36.000000000,2021-11-05 17:57:35.000000000,2021-11-05 17:54:59.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 13:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/fc7bb0582b0d532df5ff3704302ae221c5d88eec', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: I5059b47d46d85171048895326937390d92462010\n""}, {'number': 2, 'created': '2021-11-04 03:14:18.000000000', 'files': ['releasenotes/notes/prepare-to-change-apache-ssl-2f2b9d0676bf088a.yaml', 'manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/5a910d85086a41de10ce881305e08488fbb5bd5e', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: I5059b47d46d85171048895326937390d92462010\n""}]",0,816504,5a910d85086a41de10ce881305e08488fbb5bd5e,10,3,2,9816,,,0,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I5059b47d46d85171048895326937390d92462010
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/04/816504/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/prepare-to-change-apache-ssl-2f2b9d0676bf088a.yaml', 'manifests/wsgi/apache.pp']",2,fc7bb0582b0d532df5ff3704302ae221c5d88eec,apache-ssl," $ssl = undef, if $ssl == undef { warning('Default of the ssl parameter will be changed in a future release') } $ssl_real = pick($ssl, true) if $ssl_real { ssl => $ssl_real"," $ssl = true, if $ssl { ssl => $ssl,",14,3
openstack%2Frequirements~master~I9d6f45cf37aae52a76eafdb15848b0546409b9df,openstack/requirements,master,I9d6f45cf37aae52a76eafdb15848b0546409b9df,update constraint for pbr to new release 5.7.0,MERGED,2021-11-04 09:33:35.000000000,2021-11-05 17:23:11.000000000,2021-11-05 17:21:30.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-04 09:33:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c12f0e1081fb46f7c4d94fb85560319696bb61b6', 'message': 'update constraint for pbr to new release 5.7.0\n\nmeta: version: 5.7.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Clark Boylan <clark.boylan@gmail.com>\nmeta: release:Commit: Clark Boylan <clark.boylan@gmail.com>\nmeta: release:Change-Id: If3c26c0b7e4d1fd81a801fcb97d4d046825d4aa4\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I9d6f45cf37aae52a76eafdb15848b0546409b9df\n'}]",0,816625,c12f0e1081fb46f7c4d94fb85560319696bb61b6,20,3,1,11131,,,0,"update constraint for pbr to new release 5.7.0

meta: version: 5.7.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Clark Boylan <clark.boylan@gmail.com>
meta: release:Commit: Clark Boylan <clark.boylan@gmail.com>
meta: release:Change-Id: If3c26c0b7e4d1fd81a801fcb97d4d046825d4aa4
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I9d6f45cf37aae52a76eafdb15848b0546409b9df
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/816625/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c12f0e1081fb46f7c4d94fb85560319696bb61b6,new-release,pbr===5.7.0,pbr===5.6.0,1,1
openstack%2Fblazar~master~I5fdd5e6095e579e2584984870932284afd7cb934,openstack/blazar,master,I5fdd5e6095e579e2584984870932284afd7cb934,CI: Fix breakage following devstack changes,MERGED,2021-11-04 09:38:50.000000000,2021-11-05 17:10:45.000000000,2021-11-05 17:08:51.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 29100}, {'_account_id': 33582}]","[{'number': 1, 'created': '2021-11-04 09:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d366a5d4caa39ae1f663ddd3b98155ff380236e2', 'message': 'Use KEYSTONE_SERVICE_* instead of KEYSTONE_AUTH_*\n\nA recent devstack change [1] has dropped all KEYSTONE_AUTH_* variables\nexcept KEYSTONE_AUTH_URI. Use KEYSTONE_SERVICE_* variables instead.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/735472\n\nChange-Id: I5fdd5e6095e579e2584984870932284afd7cb934\n'}, {'number': 2, 'created': '2021-11-04 16:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/32cef215fe7fda1b3b5acbf2da45136942d2e3a5', 'message': 'CI: Fix breakage following devstack changes\n\nA recent devstack change [1] has dropped all KEYSTONE_AUTH_* variables\nexcept KEYSTONE_AUTH_URI. Use KEYSTONE_SERVICE_* variables instead.\n\nAnother change [2] switched off the creation of an admin endpoint for\nkeystone, which we used. Switch to internal endpoint instead.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/735472\n[2] https://review.opendev.org/c/openstack/devstack/+/777345\n\nChange-Id: I5fdd5e6095e579e2584984870932284afd7cb934\n'}, {'number': 3, 'created': '2021-11-05 12:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/98ce96e3f0270bcfe93527494d72da6eb6990767', 'message': 'CI: Fix breakage following devstack changes\n\nA recent devstack change [1] has dropped all KEYSTONE_AUTH_* variables\nexcept KEYSTONE_AUTH_URI. Use KEYSTONE_SERVICE_* variables instead.\n\nAnother change [2] switched off the creation of an admin endpoint for\nkeystone, which we used. Create it again until we update Blazar to stop\nusing it.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/735472\n[2] https://review.opendev.org/c/openstack/devstack/+/777345\n\nChange-Id: I5fdd5e6095e579e2584984870932284afd7cb934\n'}, {'number': 4, 'created': '2021-11-05 13:48:36.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/blazar/commit/f055bbb5e92919ed2912c5fd40598ef30aedaeb7', 'message': 'CI: Fix breakage following devstack changes\n\nA recent devstack change [1] has dropped all KEYSTONE_AUTH_* variables\nexcept KEYSTONE_AUTH_URI. Use KEYSTONE_SERVICE_* variables instead.\n\nAnother change [2] switched off the creation of an admin endpoint for\nkeystone, which we need. Create it again until we update Blazar to stop\nusing it.\n\nThe devstack plugin was creating a keystonev3 service with endpoints\nusing port 5000. However, we have been using the main keystone service\non port 80 since commit 2d0cabb17d9a609a62bcffb13175e34b1c1cc1f0.\nUpdate service name/type and endpoint URLs accordingly.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/735472\n[2] https://review.opendev.org/c/openstack/devstack/+/777345\n\nChange-Id: I5fdd5e6095e579e2584984870932284afd7cb934\n'}]",3,816627,f055bbb5e92919ed2912c5fd40598ef30aedaeb7,22,4,4,15197,,,0,"CI: Fix breakage following devstack changes

A recent devstack change [1] has dropped all KEYSTONE_AUTH_* variables
except KEYSTONE_AUTH_URI. Use KEYSTONE_SERVICE_* variables instead.

Another change [2] switched off the creation of an admin endpoint for
keystone, which we need. Create it again until we update Blazar to stop
using it.

The devstack plugin was creating a keystonev3 service with endpoints
using port 5000. However, we have been using the main keystone service
on port 80 since commit 2d0cabb17d9a609a62bcffb13175e34b1c1cc1f0.
Update service name/type and endpoint URLs accordingly.

[1] https://review.opendev.org/c/openstack/devstack/+/735472
[2] https://review.opendev.org/c/openstack/devstack/+/777345

Change-Id: I5fdd5e6095e579e2584984870932284afd7cb934
",git fetch https://review.opendev.org/openstack/blazar refs/changes/27/816627/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,d366a5d4caa39ae1f663ddd3b98155ff380236e2,ci-devstack," iniset $BLAZAR_CONF_FILE DEFAULT os_auth_host $(ipv6_unquote $KEYSTONE_SERVICE_HOST) ""$KEYSTONE_SERVICE_PROTOCOL://$KEYSTONE_SERVICE_HOST:$KEYSTONE_SERVICE_PORT/v3"" \"," iniset $BLAZAR_CONF_FILE DEFAULT os_auth_host $(ipv6_unquote $KEYSTONE_AUTH_HOST) ""$KEYSTONE_AUTH_PROTOCOL://$KEYSTONE_AUTH_HOST:$KEYSTONE_AUTH_PORT/v3"" \",2,2
openstack%2Freleases~master~I74fae851d0cbb770e1272035d4beda579ab21bd0,openstack/releases,master,I74fae851d0cbb770e1272035d4beda579ab21bd0,RC2 releases for Kolla projects,MERGED,2021-11-05 12:37:37.000000000,2021-11-05 16:27:37.000000000,2021-11-05 16:27:37.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-05 12:37:37.000000000', 'files': ['deliverables/xena/kolla.yaml', 'deliverables/xena/kayobe.yaml', 'deliverables/xena/kolla-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d419500b762c844625c1e3af90fdbb367e013a3c', 'message': 'RC2 releases for Kolla projects\n\nChange-Id: I74fae851d0cbb770e1272035d4beda579ab21bd0\n'}]",1,816834,d419500b762c844625c1e3af90fdbb367e013a3c,9,4,1,22629,,,0,"RC2 releases for Kolla projects

Change-Id: I74fae851d0cbb770e1272035d4beda579ab21bd0
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/816834/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/kolla.yaml', 'deliverables/xena/kayobe.yaml', 'deliverables/xena/kolla-ansible.yaml']",3,d419500b762c844625c1e3af90fdbb367e013a3c,, - version: 13.0.0.0rc2 projects: - repo: openstack/kolla-ansible hash: 1cc2e1d74a59fede7c6d72c812acadcb6a17cddb,,16,0
openstack%2Fnova~master~I0dce3963c7726cf126ad2c4b3e25f005fdd12790,openstack/nova,master,I0dce3963c7726cf126ad2c4b3e25f005fdd12790,[Trival] Fix wrong microversion in TestClass name,MERGED,2021-11-05 02:12:36.000000000,2021-11-05 16:12:48.000000000,2021-11-05 16:10:53.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 02:12:36.000000000', 'files': ['nova/tests/functional/api_sample_tests/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f024490e95c2bdb8072247e9907c6aa1475c80d8', 'message': '[Trival] Fix wrong microversion in TestClass name\n\nChange-Id: I0dce3963c7726cf126ad2c4b3e25f005fdd12790\n'}]",2,816778,f024490e95c2bdb8072247e9907c6aa1475c80d8,11,5,1,26458,,,0,"[Trival] Fix wrong microversion in TestClass name

Change-Id: I0dce3963c7726cf126ad2c4b3e25f005fdd12790
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/816778/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api_sample_tests/test_servers.py'],1,f024490e95c2bdb8072247e9907c6aa1475c80d8,,class ServersUpdateSampleJson290Test(ServersUpdateSampleJsonTest):,class ServersUpdateSampleJson289Test(ServersUpdateSampleJsonTest):,1,1
openstack%2Fkuryr-tempest-plugin~master~I5d01029bae9c782ab57d38dff8c6aea1b2128305,openstack/kuryr-tempest-plugin,master,I5d01029bae9c782ab57d38dff8c6aea1b2128305,Update test_service_without_selector test,MERGED,2021-10-20 13:29:10.000000000,2021-11-05 16:07:17.000000000,2021-11-05 16:05:34.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-10-20 13:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ad2a1a5860ded5eac1b1c36c4b91f894f70677cf', 'message': ""Update test_service_without_selector test\n\nCheck that loadbalancer's memebers are delete when deleting the endpoint\n\nChange-Id: I5d01029bae9c782ab57d38dff8c6aea1b2128305\n""}, {'number': 2, 'created': '2021-10-21 13:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/bfb47f77ea98ca4de202651a8b24bfa7706fda30', 'message': ""Update test_service_without_selector test\n\nCheck that loadbalancer's members are delete when deleting the endpoint\n\nChange-Id: I5d01029bae9c782ab57d38dff8c6aea1b2128305\n""}, {'number': 3, 'created': '2021-10-25 09:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/3222df9d0d6f7a295c6fe5a761c2b0bb58d791f0', 'message': ""Update test_service_without_selector test\n\nCheck that loadbalancer's members are delete when deleting the endpoint\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-kubernetes/+/815233\nChange-Id: I5d01029bae9c782ab57d38dff8c6aea1b2128305\n""}, {'number': 4, 'created': '2021-11-03 03:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/550ef591842bf1afbf03baaf384f1e55ca8a3850', 'message': ""Update test_service_without_selector test\n\nCheck that loadbalancer's members are delete when deleting the endpoint\n\nChange-Id: I5d01029bae9c782ab57d38dff8c6aea1b2128305\n""}, {'number': 5, 'created': '2021-11-03 03:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/2c5dc086beb450ed6597ce2f2a81e965a906a8f2', 'message': ""Update test_service_without_selector test\n\nCheck that loadbalancer's members are delete when deleting the endpoint\n\nChange-Id: I5d01029bae9c782ab57d38dff8c6aea1b2128305\n""}, {'number': 6, 'created': '2021-11-03 06:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/5e22c037b729f2788ee1c29f4b228597ebc489e7', 'message': ""Update test_service_without_selector test\n\nCheck that loadbalancer's members are delete when deleting the endpoint\n\nChange-Id: I5d01029bae9c782ab57d38dff8c6aea1b2128305\n""}, {'number': 7, 'created': '2021-11-03 12:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ea1a6f3b6d30ebe3fd7cdccf2c6a0bfbfb0dd2d4', 'message': ""Update test_service_without_selector test\n\nCheck that loadbalancer's members are delete when deleting the endpoint\n\nChange-Id: I5d01029bae9c782ab57d38dff8c6aea1b2128305\n""}, {'number': 8, 'created': '2021-11-03 12:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/55dce96b7fa7b9d26fe77e4aa8041c76a8392152', 'message': ""Update test_service_without_selector test\n\nCheck that loadbalancer's members are delete when deleting the endpoint\n\nChange-Id: I5d01029bae9c782ab57d38dff8c6aea1b2128305\n""}, {'number': 9, 'created': '2021-11-04 00:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/b32da978e8c168781c05b2ee295767fdd5dc2a94', 'message': ""Update test_service_without_selector test\n\nCheck that loadbalancer's members are delete when deleting the endpoint\n\nChange-Id: I5d01029bae9c782ab57d38dff8c6aea1b2128305\n""}, {'number': 10, 'created': '2021-11-04 04:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/f3a9d093dd47df3a88b4abac2d71ca694fd32524', 'message': ""Update test_service_without_selector test\n\nCheck that loadbalancer's members are delete when deleting the endpoint\n\nChange-Id: I5d01029bae9c782ab57d38dff8c6aea1b2128305\n""}, {'number': 11, 'created': '2021-11-04 14:22:03.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/4bb12bd975a17dccfef0a7647c4a9bf3eae7134d', 'message': ""Update test_service_without_selector test\n\nCheck that loadbalancer's members are delete when deleting the endpoint\n\nChange-Id: I5d01029bae9c782ab57d38dff8c6aea1b2128305\n""}]",19,814780,4bb12bd975a17dccfef0a7647c4a9bf3eae7134d,58,4,11,4727,,,0,"Update test_service_without_selector test

Check that loadbalancer's members are delete when deleting the endpoint

Change-Id: I5d01029bae9c782ab57d38dff8c6aea1b2128305
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/80/814780/5 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",2,ad2a1a5860ded5eac1b1c36c4b91f894f70677cf,lb-wo-selector," def delete_endpoint(cls, ep_name, body=None, namespace=""default""): if body is None: body = {} cls.k8s_client.CoreV1Api().delete_namespaced_endpoints( name=ep_name, body=body, namespace=namespace) @classmethod cls.endpoint = endpoint def get_klb_crd_id(self, service_name, ns_name='default'): service_name, ns_name).get('status', {}).get("," def get_klb_crd_id(self, service_name): service_name, 'default').get('status', {}).get(",34,2
openstack%2Fswift~master~I2fcc89f342ef555ed11dcce68d6ec2703ca6fcd3,openstack/swift,master,I2fcc89f342ef555ed11dcce68d6ec2703ca6fcd3,wip: back to old code,NEW,2021-11-04 21:36:01.000000000,2021-11-05 15:39:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-04 21:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e7334d5579e2f83f17ccc6c096df5bcf6ecd9366', 'message': 'wip: back to old code\n\nRelated-Change-Id: Ia107c1c8ac051890bea00770f06c53a47eafb9d6\nChange-Id: I2fcc89f342ef555ed11dcce68d6ec2703ca6fcd3\n'}, {'number': 2, 'created': '2021-11-05 13:47:51.000000000', 'files': ['swift/container/reconciler.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/742ce8001c7ce0c5abcb8d8e49e9c0ba472750e3', 'message': 'wip: back to old code\n\nRelated-Change-Id: Ia107c1c8ac051890bea00770f06c53a47eafb9d6\nChange-Id: I2fcc89f342ef555ed11dcce68d6ec2703ca6fcd3\n'}]",0,816753,742ce8001c7ce0c5abcb8d8e49e9c0ba472750e3,6,1,2,1179,,,0,"wip: back to old code

Related-Change-Id: Ia107c1c8ac051890bea00770f06c53a47eafb9d6
Change-Id: I2fcc89f342ef555ed11dcce68d6ec2703ca6fcd3
",git fetch https://review.opendev.org/openstack/swift refs/changes/53/816753/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/reconciler.py'],1,e7334d5579e2f83f17ccc6c096df5bcf6ecd9366,fix-cmp-spi,"def cmp_policy_info(info, remote_info): """""" You have to squint to see it, but the general strategy is just: if either has been recreated: return the newest (of the recreated) else return the oldest I tried cleaning it up for awhile, but settled on just writing a bunch of tests instead. Once you get an intuitive sense for the nuance here you can try and see there's a better way to spell the boolean logic but it all ends up looking sorta hairy. :returns: -1 if info is correct, 1 if remote_info is better """""" def is_deleted(info): return (info['delete_timestamp'] > info['put_timestamp'] and info.get('count', info.get('object_count', 0)) == 0) def cmp(a, b): if a < b: return -1 elif b < a: return 1 else: return 0 deleted = is_deleted(info) remote_deleted = is_deleted(remote_info) if any([deleted, remote_deleted]): if not deleted: return -1 elif not remote_deleted: return 1 return cmp(remote_info['status_changed_at'], info['status_changed_at']) def has_been_recreated(info): return (info['put_timestamp'] > info['delete_timestamp'] > Timestamp(0)) remote_recreated = has_been_recreated(remote_info) recreated = has_been_recreated(info) if any([remote_recreated, recreated]): if not recreated: return 1 elif not remote_recreated: return -1 return cmp(info['status_changed_at'], remote_info['status_changed_at']) return cmp(info['status_changed_at'], remote_info['status_changed_at'])","def cmp_policy_info(local_info, remote_info): # WIP! events = [] for info, tag in ((local_info, 'local'), (remote_info, 'remote')): events.append((info['delete_timestamp'], 'delete', tag)) events.append((info['put_timestamp'], 'put', tag)) events.sort() deleted = True chosen = local_info # play the events back and make same decisions as the container server # would have done for requests to its API... for event in events: if event[1] == 'put' and deleted: deleted = False chosen = event[2] if event[1] == 'delete': # TODO: do repeated deletes at API increment delete_timestamp? deleted = True chosen = event[2] # I need to figure out how status_changed_at plays along - the server API # doesn't consider it at all, but the original cmp_policy_index did return -1 if chosen == 'local' else 1",47,22
openstack%2Fgovernance~master~Ia9b96932a7f7712bee9c1c833539cfe32c44bd35,openstack/governance,master,Ia9b96932a7f7712bee9c1c833539cfe32c44bd35,Remove oslo independent deliverables from stable policy,MERGED,2021-11-05 12:00:35.000000000,2021-11-05 15:11:18.000000000,2021-11-05 15:09:20.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-05 12:00:35.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/4d2720d3c25e45e158dc3c6260df470c75e76aa2', 'message': ""Remove oslo independent deliverables from stable policy\n\nSince a couple of series those oslo projects produce\nindependent deliverables not synched with the coordinated\nseries, de facto, they are branchless projects.\n\nI don't think is it possible to follow the stable policy\nwithout related stable branches.\n\nThe independent deliverables aren't compatible with this\npolicy.\n\nAlso we should notice that keeping these deliverables\nunder the stable policy umbrella mislead downstream\nmaintainers. Removing them inform maintainers to stick\nto the upper-constraints available for a given series.\n\nChange-Id: Ia9b96932a7f7712bee9c1c833539cfe32c44bd35\n""}]",2,816828,4d2720d3c25e45e158dc3c6260df470c75e76aa2,11,3,1,28522,,,0,"Remove oslo independent deliverables from stable policy

Since a couple of series those oslo projects produce
independent deliverables not synched with the coordinated
series, de facto, they are branchless projects.

I don't think is it possible to follow the stable policy
without related stable branches.

The independent deliverables aren't compatible with this
policy.

Also we should notice that keeping these deliverables
under the stable policy umbrella mislead downstream
maintainers. Removing them inform maintainers to stick
to the upper-constraints available for a given series.

Change-Id: Ia9b96932a7f7712bee9c1c833539cfe32c44bd35
",git fetch https://review.opendev.org/openstack/governance refs/changes/28/816828/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,4d2720d3c25e45e158dc3c6260df470c75e76aa2,project-update,, tags: - stable:follows-policy tags: - stable:follows-policy tags: - stable:follows-policy tags: - stable:follows-policy tags: - stable:follows-policy tags: - stable:follows-policy tags: - stable:follows-policy tags: - stable:follows-policy tags: - stable:follows-policy tags: - stable:follows-policy tags: - stable:follows-policy tags: - stable:follows-policy tags: - stable:follows-policy tags: - stable:follows-policy,0,28
openstack%2Fpython-tripleoclient~master~Id78443453718f8174bf95ad9209e7163b6afef64,openstack/python-tripleoclient,master,Id78443453718f8174bf95ad9209e7163b6afef64,Integrating restoration process to client,MERGED,2021-07-22 14:02:24.000000000,2021-11-05 15:06:23.000000000,2021-11-05 15:04:46.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-07-22 14:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/56794a83b8e8271efe34b8cd75d16efa9e7a1768', 'message': '[WIP] Integrating restoration process to client\n\nAdding a new command overcloud backup restore for running the\nthe restoration process. This command includes a required\nargument for specifying the node ""--controller-name"".\n\nDepends-on: I70ff764481f4aa8ae94a0facf7f46916ec1eb9f4\nChange-Id: Id78443453718f8174bf95ad9209e7163b6afef64\n'}, {'number': 2, 'created': '2021-07-27 18:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5f8ba15b6cfd0bb3769183baf6f582ebc2011678', 'message': '[WIP] Integrating restoration process to client\n\nAdding a new command overcloud backup restore for running the\nthe restoration process. This command includes a required\nargument for specifying the node ""--controller-name"".\n\nDepends-on: I70ff764481f4aa8ae94a0facf7f46916ec1eb9f4\nChange-Id: Id78443453718f8174bf95ad9209e7163b6afef64\n'}, {'number': 3, 'created': '2021-07-28 20:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/65e478af0d60ecaa5e5623d6eb0775da118be33c', 'message': '[WIP] Integrating restoration process to client\n\nAdding a new command overcloud backup restore for running the\nthe restoration process. This command includes a required\nargument for specifying the node ""--controller-name"".\n\nDepends-on: I70ff764481f4aa8ae94a0facf7f46916ec1eb9f4\nChange-Id: Id78443453718f8174bf95ad9209e7163b6afef64\n'}, {'number': 4, 'created': '2021-07-29 13:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/21a5ab41ebb5b8d6a6ed5b654c3cdd7e82acee3e', 'message': 'Integrating restoration process to client\n\n- Adding a new command overcloud backup restore for running the\n  the restoration process. This command includes a required\n  argument for specifying the node ""--controller-name"".\n\n- tests/v1/overcloud_restore/test_backup.py added for\n  unit testing the command\n\nDepends-on: I70ff764481f4aa8ae94a0facf7f46916ec1eb9f4\nChange-Id: Id78443453718f8174bf95ad9209e7163b6afef64\n'}, {'number': 5, 'created': '2021-08-02 15:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/604501b1c5449a22086f5b6fa0e08a2a4c256b62', 'message': 'Integrating restoration process to client\n\n- Adding a new command overcloud backup restore for running the\n  the restoration process. This command includes a required\n  argument for specifying the node ""--controller-name"".\n\n- tests/v1/overcloud_restore/test_backup.py added for\n  unit testing the command\n\nDepends-on: I70ff764481f4aa8ae94a0facf7f46916ec1eb9f4\nChange-Id: Id78443453718f8174bf95ad9209e7163b6afef64\n'}, {'number': 6, 'created': '2021-08-11 19:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e7864e8a42557f5a58d8842154a96f545b103c8a', 'message': 'Integrating restoration process to client\n\n- Adding a new command overcloud backup restore for running the\n  the restoration process. This command includes a required\n  argument for specifying the node ""--controller-name"".\n\n- tests/v1/overcloud_restore/test_backup.py added for\n  unit testing the command\n\nDepends-on: I70ff764481f4aa8ae94a0facf7f46916ec1eb9f4\nChange-Id: Id78443453718f8174bf95ad9209e7163b6afef64\n'}, {'number': 7, 'created': '2021-10-08 13:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e43076673c2293e7dee262523e82aa570df53cb3', 'message': 'Integrating restoration process to client\n\n- Adding a new command overcloud backup restore for running the\n  the restoration process. This command includes a required\n  argument for specifying the node ""--overcloud-name"".\n\n- tests/v1/overcloud_restore/test_backup.py added for\n  unit testing the command\n\nChange-Id: Id78443453718f8174bf95ad9209e7163b6afef64\n'}, {'number': 8, 'created': '2021-10-08 13:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f047e492021e8f1aefd0bdf7681413a99bb0adda', 'message': 'Integrating restoration process to client\n\n- Adding a new command overcloud backup restore for running the\n  the restoration process. This command includes a required\n  argument for specifying the node ""--node-name"".\n\n- tests/v1/overcloud_restore/test_backup.py added for\n  unit testing the command\n\nChange-Id: Id78443453718f8174bf95ad9209e7163b6afef64\n'}, {'number': 9, 'created': '2021-10-08 13:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cae32fe92e3aa100fd3a260f88b8ca9945e2c283', 'message': 'Integrating restoration process to client\n\n- Adding a new command overcloud backup restore for running the\n  the restoration process. This command includes a required\n  argument for specifying the node ""--node-name"".\n\n- tests/v1/overcloud_restore/test_backup.py added for\n  unit testing the command\n\nChange-Id: Id78443453718f8174bf95ad9209e7163b6afef64\n'}, {'number': 10, 'created': '2021-10-28 10:48:27.000000000', 'files': ['tripleoclient/tests/v1/overcloud_restore/test_backup.py', 'tripleoclient/tests/v1/overcloud_restore/__init__.py', 'tripleoclient/v1/overcloud_restore.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b670a784c4399cb83a129093064dd18aaeec590b', 'message': 'Integrating restoration process to client\n\n- Adding a new command overcloud backup restore for running the\n  the restoration process. This command includes a required\n  argument for specifying the node ""--node-name"".\n\n- tests/v1/overcloud_restore/test_backup.py added for\n  unit testing the command\n\nChange-Id: Id78443453718f8174bf95ad9209e7163b6afef64\n'}]",11,801861,b670a784c4399cb83a129093064dd18aaeec590b,35,6,10,32728,,,0,"Integrating restoration process to client

- Adding a new command overcloud backup restore for running the
  the restoration process. This command includes a required
  argument for specifying the node ""--node-name"".

- tests/v1/overcloud_restore/test_backup.py added for
  unit testing the command

Change-Id: Id78443453718f8174bf95ad9209e7163b6afef64
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/61/801861/7 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_restore.py'],1,56794a83b8e8271efe34b8cd75d16efa9e7a1768,change-801861-5,"# Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import argparse import logging import os import yaml from osc_lib.command import command from osc_lib.i18n import _ from tripleoclient import constants from tripleoclient import utils LOG = logging.getLogger(__name__ + "".RestoreOvercloud"") class RestoreOvercloud(command.Command): """"""Restore the Overcloud"""""" def get_parser(self, prog_name): parser = argparse.ArgumentParser( description=self.get_description(), prog=prog_name, add_help=False ) parser.add_argument( '--inventory', default='/home/stack/tripleo-inventory.yaml', help=_(""Tripleo inventory file generated with "" ""tripleo-ansible-inventory command. "" ""Defaults to: /home/stack/tripleo-inventory.yaml."") ) parser.add_argument( '--controller-name', required=True, help=_(""Controller name is a required parameter "" ""which defines the controller node to be "" ""restored."") ) parser.add_argument( '--extra-vars', default=None, action='store', help=_(""Set additional variables as Dict or as "" ""an absolute path of a JSON or YAML file type. "" ""i.e. --extra-vars '{\""key\"": \""val\"", "" "" \""key2\"": \""val2\""}' "" ""i.e. --extra-vars /path/to/my_vars.yaml "" ""i.e. --extra-vars /path/to/my_vars.json. "" ""For more information about the variables that "" ""can be passed, visit: https://opendev.org/openstack/"" ""tripleo-ansible/src/branch/master/tripleo_ansible/"" ""roles/backup_and_restore/defaults/main.yml."") ) return parser def _parse_extra_vars(self, raw_extra_vars): if raw_extra_vars is None: return {} elif os.path.exists(raw_extra_vars): with open(raw_extra_vars, 'r') as fp: extra_vars = yaml.safe_load(fp.read()) else: try: extra_vars = yaml.safe_load(raw_extra_vars) except yaml.YAMLError as exc: raise RuntimeError( _('--extra-vars is not an existing file and cannot be ' 'parsed as YAML / JSON: %s') % exc) return extra_vars def _run_restore_overcloud(self, parsed_args): """"""Backup defined overcloud nodes."""""" extra_vars = self._parse_extra_vars(parsed_args.extra_vars) controller = parsed.args.controller_name extra_vars['controller_name'] = controller self._run_ansible_playbook( playbook='cli-overcloud-restore.yaml', inventory=parsed_args.inventory, tags='bar_restore__image', skip_tags=None, extra_vars=extra_vars ) def _run_ansible_playbook(self, playbook, inventory, tags, skip_tags, extra_vars): """"""Run ansible playbook"""""" with utils.TempDirs() as tmp: utils.run_ansible_playbook( playbook=playbook, inventory=inventory, workdir=tmp, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, tags=tags, skip_tags=skip_tags, verbosity=utils.playbook_verbosity(self=self), extra_vars=extra_vars ) def take_action(self, parsed_args): self._run_restore_overcloud(parsed_args) print( '\n' ' #############################################################\n' ' # Disclaimer #\n' ' # Backup verification is the End Users responsibility #\n' ' # Please verify backup integrity before any possible #\n' ' # disruptive actions against the Overcloud. The resulting #\n' ' # backup file path will be shown on a successful execution. #\n' ' # #\n' ' # .-Stay safe and avoid future issues-. #\n' ' #############################################################\n' ) ",,141,0
openstack%2Fironic-python-agent~master~I1f67b0fb1f645fa82e98bd7c7bba3ffc7755cc74,openstack/ironic-python-agent,master,I1f67b0fb1f645fa82e98bd7c7bba3ffc7755cc74,Fix UEFI record regex,MERGED,2021-11-04 16:44:54.000000000,2021-11-05 15:01:27.000000000,2021-11-05 14:59:35.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-04 16:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7447ce7b1bc6d06e0766414fc16aa55afc8355fa', 'message': 'Fix UEFI record regex\n\nI accidently put colons on the test data and remembered taking the\ncolon character out of the regex I was working on, but apparently\nleft it in, and accounted for the active entry indicator flag\nwhich appears to have inconsistent support across vendors.\n\nThe regex has been fixed, and a test added from a Lenovo SR650\nwhich has some additional string entry data in the UEFI output\nwhich may separate entries.\n\nChange-Id: I1f67b0fb1f645fa82e98bd7c7bba3ffc7755cc74\n'}, {'number': 2, 'created': '2021-11-04 16:45:43.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/correct-uefi-regex-112211c2427cd4d9.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c5268bbdbb441e1c497d59163872ddfba9bf67cf', 'message': 'Fix UEFI record regex\n\nI accidently put colons on the test data and remembered taking the\ncolon character out of the regex I was working on, but apparently\nleft it in, and accounted for the active entry indicator flag\nwhich appears to have inconsistent support across vendors.\n\nThe regex has been fixed, and a test added from a Lenovo SR650\nwhich has some additional string entry data in the UEFI output\nwhich may separate entries.\n\nChange-Id: I1f67b0fb1f645fa82e98bd7c7bba3ffc7755cc74\n'}]",1,816723,c5268bbdbb441e1c497d59163872ddfba9bf67cf,9,3,2,11655,,,0,"Fix UEFI record regex

I accidently put colons on the test data and remembered taking the
colon character out of the regex I was working on, but apparently
left it in, and accounted for the active entry indicator flag
which appears to have inconsistent support across vendors.

The regex has been fixed, and a test added from a Lenovo SR650
which has some additional string entry data in the UEFI output
which may separate entries.

Change-Id: I1f67b0fb1f645fa82e98bd7c7bba3ffc7755cc74
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/23/816723/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/correct-uefi-regex-112211c2427cd4d9.yaml']",3,7447ce7b1bc6d06e0766414fc16aa55afc8355fa,,--- fixes: - | Fixes a minor issue with the regular expression used for UEFI duplicate entry cleanup which was introduced in a prior change to refactor the cleanup operation to avoid UEFI firmware which treats deletion of entries after addition as an invalid operation. ,,75,6
openstack%2Fcinder~stable%2Fussuri~I34e7e48ee63c4c269f82ae178a7118ed402cad6d,openstack/cinder,stable/ussuri,I34e7e48ee63c4c269f82ae178a7118ed402cad6d,Native multibackend-matrix Zuul v3 job,NEW,2021-09-16 18:20:20.000000000,2021-11-05 15:00:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-16 18:20:20.000000000', 'files': ['roles/save-cinder-migration-results/tasks/main.yaml', 'tools/hooks/run_multi_backend_matrix.sh', 'tools/hooks/utils.sh', 'roles/save-cinder-migration-results/defaults/main.yaml', 'roles/configure-run-migration-tests/tasks/main.yaml', '.zuul.yaml', 'roles/save-cinder-migration-results/templates/migration_results_reporter.py.j2', 'roles/configure-run-migration-tests/defaults/main.yaml', 'tools/hooks/README', 'playbooks/cinder-multibackend-matrix.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e02e36789dc4b387b7f29be0b0e86f1b1079317a', 'message': 'Native multibackend-matrix Zuul v3 job\n\nPort the legacy legacy-tempest-dsvm-multibackend-matrix job to the\nnative Zuul v3 syntax, and rename it following the guidelines\n(cinder-multibackend-matrix-migration).\n\nThis job tests the migration between two different backends\nspecified through the volume.backend_names configuration\nkey in tempest.conf.\n\nNow the job leverages the existing zuul code, namely the\nrun-tempest role, which is called multiple times with all\nthe possible combinations of the 3 tested backends\n(lvm, ceph, nfs) where the source and the destination differ.\n\nThe final JUnitXML output summarizes the test results\nfor each of the tested combinations.\n\nConflicts:\n\t.zuul.yaml\n-> due to the addition and removal of several jobs in the newest\n.zuul.yaml\n\nChange-Id: I34e7e48ee63c4c269f82ae178a7118ed402cad6d\n(cherry picked from commit 1c0c25babb3d9b13e271e37458cd55b974085901)\n(cherry picked from commit 326fa62d72325c76712fd4225d3ddd48dd9ae214)\n(cherry picked from commit 63fdf88d9f7511b7182903fb39785208c3846bd1)\n'}]",2,809448,e02e36789dc4b387b7f29be0b0e86f1b1079317a,19,1,1,10459,,,0,"Native multibackend-matrix Zuul v3 job

Port the legacy legacy-tempest-dsvm-multibackend-matrix job to the
native Zuul v3 syntax, and rename it following the guidelines
(cinder-multibackend-matrix-migration).

This job tests the migration between two different backends
specified through the volume.backend_names configuration
key in tempest.conf.

Now the job leverages the existing zuul code, namely the
run-tempest role, which is called multiple times with all
the possible combinations of the 3 tested backends
(lvm, ceph, nfs) where the source and the destination differ.

The final JUnitXML output summarizes the test results
for each of the tested combinations.

Conflicts:
	.zuul.yaml
-> due to the addition and removal of several jobs in the newest
.zuul.yaml

Change-Id: I34e7e48ee63c4c269f82ae178a7118ed402cad6d
(cherry picked from commit 1c0c25babb3d9b13e271e37458cd55b974085901)
(cherry picked from commit 326fa62d72325c76712fd4225d3ddd48dd9ae214)
(cherry picked from commit 63fdf88d9f7511b7182903fb39785208c3846bd1)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/809448/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/save-cinder-migration-results/tasks/main.yaml', 'tools/hooks/run_multi_backend_matrix.sh', 'tools/hooks/utils.sh', 'roles/save-cinder-migration-results/defaults/main.yaml', 'roles/configure-run-migration-tests/tasks/main.yaml', '.zuul.yaml', 'roles/configure-run-migration-tests/defaults/main.yaml', 'roles/save-cinder-migration-results/templates/migration_results_reporter.py.j2', 'playbooks/cinder-multibackend-matrix.yaml', 'tools/hooks/README']",10,e02e36789dc4b387b7f29be0b0e86f1b1079317a,native-zuulv3-migration,,"These are hooks to be used by the OpenStack infra test system. These scripts may be called by certain jobs at important times to do extra testing, setup, etc. They are really only relevant within the scope of the OpenStack infra system and are not expected to be useful to anyone else.",130,109
openstack%2Ftripleo-quickstart~master~Idefeba89bc33f08ceb49b95eb6bb5310f688ab20,openstack/tripleo-quickstart,master,Idefeba89bc33f08ceb49b95eb6bb5310f688ab20,[Test Only] Add new feeatureset for Validations,NEW,2021-10-29 12:08:09.000000000,2021-11-05 14:05:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-29 12:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d39b09192578f2c6e36766c3b720b2a04eaf21a8', 'message': '[Test Only] Add new feeatureset for Validations\n\nChange-Id: Idefeba89bc33f08ceb49b95eb6bb5310f688ab20\n'}, {'number': 2, 'created': '2021-10-29 13:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6311fe728933e86b85a5757ba47863387acf01c0', 'message': '[Test Only] Add new feeatureset for Validations\n\nChange-Id: Idefeba89bc33f08ceb49b95eb6bb5310f688ab20\n'}, {'number': 3, 'created': '2021-11-02 09:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/748a21087564bc51bf412c5f7c924e5bcc516f5d', 'message': '[Test Only] Add new feeatureset for Validations\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/816312\nChange-Id: Idefeba89bc33f08ceb49b95eb6bb5310f688ab20\n'}, {'number': 4, 'created': '2021-11-02 12:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1bc3f0ce6b08a0e95929a7047b232f3078508e12', 'message': '[Test Only] Add new feeatureset for Validations\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/816312\nChange-Id: Idefeba89bc33f08ceb49b95eb6bb5310f688ab20\n'}, {'number': 5, 'created': '2021-11-02 15:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3fef3135819d673eec07dfd1a8eb05fc7e32ada2', 'message': '[Test Only] Add new feeatureset for Validations\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/816312\nChange-Id: Idefeba89bc33f08ceb49b95eb6bb5310f688ab20\n'}, {'number': 6, 'created': '2021-11-02 23:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6e20470842a1c2d30bb1fbe7c6270248b6e1dee7', 'message': '[Test Only] Add new feeatureset for Validations\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/816312\nChange-Id: Idefeba89bc33f08ceb49b95eb6bb5310f688ab20\n'}, {'number': 7, 'created': '2021-11-02 23:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a2c1a108e7fa092779d3e44cafb1b53c01f0fd89', 'message': '[Test Only] Add new feeatureset for Validations\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/816312\nChange-Id: Idefeba89bc33f08ceb49b95eb6bb5310f688ab20\n'}, {'number': 8, 'created': '2021-11-03 10:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/230eead8c61635c1e991bb27acb6ad1f594f6d8e', 'message': '[Test Only] Add new feeatureset for Validations\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/816312\nChange-Id: Idefeba89bc33f08ceb49b95eb6bb5310f688ab20\n'}, {'number': 9, 'created': '2021-11-03 12:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6988bab14b8e7500a468e19d471d5d9fc6741115', 'message': '[Test Only] Add new feeatureset for Validations\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/816312\nChange-Id: Idefeba89bc33f08ceb49b95eb6bb5310f688ab20\n'}, {'number': 10, 'created': '2021-11-03 22:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cf19f4f91f297726a98e62b93e0144b264fd9598', 'message': '[Test Only] Add new feeatureset for Validations\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/816312\nChange-Id: Idefeba89bc33f08ceb49b95eb6bb5310f688ab20\n'}, {'number': 11, 'created': '2021-11-04 22:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/61d8230429af3a1d8fb3aaaa9887d199776a7f5c', 'message': '[Test Only] Add new feeatureset for Validations\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/816312\nChange-Id: Idefeba89bc33f08ceb49b95eb6bb5310f688ab20\n'}, {'number': 12, 'created': '2021-11-05 09:27:41.000000000', 'files': ['config/general_config/featureset064.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3b91895c27442b6de7f397a24124d33f646abdca', 'message': '[Test Only] Add new feeatureset for Validations\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/816312\nChange-Id: Idefeba89bc33f08ceb49b95eb6bb5310f688ab20\n'}]",0,815956,3b91895c27442b6de7f397a24124d33f646abdca,53,2,12,16515,,,0,"[Test Only] Add new feeatureset for Validations

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/816312
Change-Id: Idefeba89bc33f08ceb49b95eb6bb5310f688ab20
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/56/815956/5 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset064.yml'],1,d39b09192578f2c6e36766c3b720b2a04eaf21a8,vf/featureset,"# composable_scenario: multinode-containers.yaml # composable_services: false # # network_isolation: false # enable_pacemaker: false # overcloud_ipv6: false # containerized_overcloud: true containerized_undercloud: >- {% if release not in ['newton','ocata','pike','queens'] -%} true {%- else -%} false {%- endif -%} undercloud_templates_path: /usr/share/openstack-tripleo-heat-templates undercloud_custom_env_files: ""{{ working_dir }}/undercloud-parameter-defaults.yaml"" undercloud_cloud_domain: ""localdomain"" undercloud_undercloud_hostname: ""undercloud.{{ undercloud_cloud_domain }}"" # This enables TLS for the undercloud which will also make haproxy bind to the # configured public-vip and admin-vip. undercloud_generate_service_certificate: false # This enables the deployment of the overcloud with SSL. ssl_overcloud: false # Tell tripleo about our environment. enable_pacemaker: true network_isolation: true network_isolation_type: ""single-nic-vlans"" composable_roles: true overcloud_roles: - name: Controller CountDefault: 1 tags: - primary - controller networks: - External - InternalApi - Storage - StorageMgmt - Tenant - name: Compute CountDefault: 1 tags: - compute networks: - External - InternalApi - Storage - StorageMgmt - Tenant deployed_server: >- {% if release in ['newton','ocata','pike'] -%} true {%- else -%} false {%- endif -%} deploy_steps_ansible_workflow: >- {% if release not in ['newton','ocata','pike'] -%} true {%- else -%} false {%- endif -%} config_download_args: >- {% if release in ['queens'] -%} -e /usr/share/openstack-tripleo-heat-templates/environments/config-download-environment.yaml --config-download --deployed-server {%- endif %} {% if release not in ['newton','ocata','pike'] -%} -e {{ working_dir }}/config-download.yaml --disable-validations {%- endif -%} ephemeral_heat: ""{{ (release not in ['queens', 'stein','train','ussuri','victoria']) | bool }}"" ephemeral_heat_args: ""{{ '--heat-type pod' if ephemeral_heat|bool else '' }}"" extra_args: >- {%- if release not in ['train','ussuri','victoria'] -%} --disable-protected-resource-types {%- endif -%} # Tempest configuration, keep always at the end of the file test_ping: false # Settings for os_tempest use_os_tempest: >- {% if release not in ['pike', 'queens', 'stein'] -%} true {%- else -%} false {%- endif -%} tempest_test_whitelist: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps' test_white_regex: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops' # https://launchpad.net/bugs/1844446 undercloud_enable_validations: false undercloud_enable_paunch: false ",,109,0
openstack%2Fopenstack-ansible-os_tempest~stable%2Fussuri~Iad2e72fbfba18eef869d09683c334a3d8d078a75,openstack/openstack-ansible-os_tempest,stable/ussuri,Iad2e72fbfba18eef869d09683c334a3d8d078a75,Set CentOS 7 jobs non-voting,ABANDONED,2021-11-04 11:53:00.000000000,2021-11-05 14:04:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-04 11:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ff7803232fec4e1bd3c8e3297386872576078879', 'message': 'Set CentOS 7 jobs non-voting\n\nTemporary disable CentOS jobs in order to resolve circular dependency\n\nChange-Id: Iad2e72fbfba18eef869d09683c334a3d8d078a75\n'}, {'number': 2, 'created': '2021-11-05 14:03:30.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/52b0b725d5e88f977a68b933119a7274a79a432b', 'message': 'Set CentOS 7 jobs non-voting\n\nTemporary disable CentOS jobs in order to resolve circular dependency\n\nChange-Id: Iad2e72fbfba18eef869d09683c334a3d8d078a75\n'}]",0,816674,52b0b725d5e88f977a68b933119a7274a79a432b,4,1,2,28619,,,0,"Set CentOS 7 jobs non-voting

Temporary disable CentOS jobs in order to resolve circular dependency

Change-Id: Iad2e72fbfba18eef869d09683c334a3d8d078a75
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/74/816674/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ff7803232fec4e1bd3c8e3297386872576078879,, - openstack-ansible-deploy-aio_metal-centos-7: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-7: voting: false - openstack-ansible-deploy-aio_distro_metal_tempestconf-centos-7: voting: false - openstack-ansible-deploy-aio_metal-centos-7: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-7: voting: false - openstack-ansible-deploy-aio_distro_metal_tempestconf-centos-7: voting: false, - openstack-ansible-deploy-aio_distro_metal_tempestconf-centos-7 - openstack-ansible-deploy-aio_distro_metal_tempestconf-centos-7,12,2
openstack%2Freleases~master~I93ab5e228b120e71949226301db86ae596df9d73,openstack/releases,master,I93ab5e228b120e71949226301db86ae596df9d73,New os-ken release,MERGED,2021-11-04 11:31:06.000000000,2021-11-05 13:46:48.000000000,2021-11-05 13:46:48.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-04 11:31:06.000000000', 'files': ['deliverables/yoga/os-ken.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8f99970e6b5aa1ef88786a16ba566b22cd9a979a', 'message': 'New os-ken release\n\nWe just finished backporting all missing patches from ryu\nto os-ken.\nBecause of that this patch bumps feature version of os-ken.\n\nChange-Id: I93ab5e228b120e71949226301db86ae596df9d73\n'}]",1,816646,8f99970e6b5aa1ef88786a16ba566b22cd9a979a,10,5,1,11975,,,0,"New os-ken release

We just finished backporting all missing patches from ryu
to os-ken.
Because of that this patch bumps feature version of os-ken.

Change-Id: I93ab5e228b120e71949226301db86ae596df9d73
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/816646/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/os-ken.yaml'],1,8f99970e6b5aa1ef88786a16ba566b22cd9a979a,new-os-ken, - version: 2.3.0 projects: - repo: openstack/os-ken hash: 7911ff1820b83bf1657c322c36ca68dcb5c0a846,,4,0
openstack%2Ftempest~master~I4cc9eb76a1318c17a55d8d10d21290eac4690548,openstack/tempest,master,I4cc9eb76a1318c17a55d8d10d21290eac4690548,Consolidate client usage in MinBwAllocationPlacementTest,MERGED,2021-09-29 14:18:57.000000000,2021-11-05 13:29:59.000000000,2021-11-05 13:28:01.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-09-29 14:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d7a6e560d804af2d2b23808f6f801cfed3e53b5e', 'message': ""Consolidate client usage in MinBwAllocationPlacementTest\n\nLet's only use admin client for the operations that are really\nneeding it.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I4cc9eb76a1318c17a55d8d10d21290eac4690548\n""}, {'number': 2, 'created': '2021-10-19 10:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e876be2043bb414570dfbd7bff4f05890f0d459', 'message': ""Consolidate client usage in MinBwAllocationPlacementTest\n\nLet's only use admin client for the operations that are really\nneeding it.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I4cc9eb76a1318c17a55d8d10d21290eac4690548\n""}, {'number': 3, 'created': '2021-10-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5e55617bc5fe6175e7e97a21b68ca949e412c96f', 'message': ""Consolidate client usage in MinBwAllocationPlacementTest\n\nLet's only use admin client for the operations that are really\nneeding it.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I4cc9eb76a1318c17a55d8d10d21290eac4690548\n""}, {'number': 4, 'created': '2021-11-02 17:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ecd954d2c2a30630ecd4b2e21d17e3f3056bd1d6', 'message': ""Consolidate client usage in MinBwAllocationPlacementTest\n\nLet's only use admin client for the operations that are really\nneeding it.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I4cc9eb76a1318c17a55d8d10d21290eac4690548\n""}, {'number': 5, 'created': '2021-11-02 17:19:32.000000000', 'files': ['tempest/scenario/test_network_qos_placement.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/18accdeb7e78e0c1b75f409d74c81336a09fdcec', 'message': ""Consolidate client usage in MinBwAllocationPlacementTest\n\nLet's only use admin client for the operations that are really\nneeding it.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I4cc9eb76a1318c17a55d8d10d21290eac4690548\n""}]",14,811733,18accdeb7e78e0c1b75f409d74c81336a09fdcec,21,3,5,9708,,,0,"Consolidate client usage in MinBwAllocationPlacementTest

Let's only use admin client for the operations that are really
needing it.

blueprint: qos-minimum-guaranteed-packet-rate
Change-Id: I4cc9eb76a1318c17a55d8d10d21290eac4690548
",git fetch https://review.opendev.org/openstack/tempest refs/changes/33/811733/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_network_qos_placement.py'],1,d7a6e560d804af2d2b23808f6f801cfed3e53b5e,bp/qos-minimum-guaranteed-packet-rate," cls.servers_client = cls.os_primary.servers_client client=self.servers_client, server_id=server['id'], self.os_adm.servers_client.migrate_server(server_id=server['id']) client=self.servers_client, server_id=server['id'], self.os_adm.servers_client.confirm_resize_server( server_id=server['id']) client=self.servers_client, server_id=server['id'], client=self.servers_client, server_id=server['id'], client=self.servers_client, server_id=server['id'],"," cls.servers_client = cls.os_adm.servers_client client=self.os_primary.servers_client, server_id=server['id'], self.servers_client.migrate_server(server_id=server['id']) client=self.os_primary.servers_client, server_id=server['id'], self.servers_client.confirm_resize_server(server_id=server['id']) client=self.os_primary.servers_client, server_id=server['id'], client=self.os_primary.servers_client, server_id=server['id'], client=self.os_primary.servers_client, server_id=server['id'],",9,8
openstack%2Fcharm-ceilometer~master~Ie40a99281f1f60de7a409e1e3a2025a850a8a446,openstack/charm-ceilometer,master,Ie40a99281f1f60de7a409e1e3a2025a850a8a446,"Revert ""Add meter-sink as an option""",MERGED,2021-11-01 07:34:44.000000000,2021-11-05 13:28:37.000000000,2021-11-05 13:28:37.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-01 07:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/b5bbd815e09ed0d052763fddae52750c27b5803c', 'message': 'Revert ""Add meter-sink as an option""\n\nThis reverts commit 6ed691807de73b49f057a813b11ebb67bb517782.\n\nThe meter_sink is actually required in pipeline.yaml and not in\nevent_pipline.yaml, and this is something that needs to be enabled\nfor newton and above as the ceilometer-collector is not the\ndependancy for this.\n\nChange-Id: Ie40a99281f1f60de7a409e1e3a2025a850a8a446\n'}, {'number': 2, 'created': '2021-11-05 10:27:07.000000000', 'files': ['unit_tests/test_ceilometer_contexts.py', 'lib/ceilometer_utils.py', 'templates/mitaka/event_pipeline.yaml', 'templates/queens/event_pipeline.yaml', 'config.yaml', 'lib/ceilometer_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/f046895cdb0f8193e9374ef1a8aeb43a7c7b19a0', 'message': 'Revert ""Add meter-sink as an option""\n\nThis reverts commit 6ed691807de73b49f057a813b11ebb67bb517782.\n\nThe meter_sink is actually required in pipeline.yaml and not in\nevent_pipline.yaml, and this is something that needs to be enabled\nfor newton and above as the ceilometer-collector is not the\ndependancy for this.\n\nChange-Id: Ie40a99281f1f60de7a409e1e3a2025a850a8a446\n'}]",2,816124,f046895cdb0f8193e9374ef1a8aeb43a7c7b19a0,11,3,2,9247,,,0,"Revert ""Add meter-sink as an option""

This reverts commit 6ed691807de73b49f057a813b11ebb67bb517782.

The meter_sink is actually required in pipeline.yaml and not in
event_pipline.yaml, and this is something that needs to be enabled
for newton and above as the ceilometer-collector is not the
dependancy for this.

Change-Id: Ie40a99281f1f60de7a409e1e3a2025a850a8a446
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/24/816124/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceilometer_contexts.py', 'lib/ceilometer_utils.py', 'templates/mitaka/event_pipeline.yaml', 'templates/queens/event_pipeline.yaml', 'config.yaml', 'lib/ceilometer_contexts.py']",6,b5bbd815e09ed0d052763fddae52750c27b5803c,revert_meter_sinks,class RemoteSinksContext(OSContextGenerator):,class CustomSinksContext(OSContextGenerator): if config('meter-sink'): ctxt['meter_sinks'] = config('meter-sink').split(' '),19,71
openstack%2Fneutron~stable%2Fxena~I558d50d28378beb3710d98a2113ff9549c82ae17,openstack/neutron,stable/xena,I558d50d28378beb3710d98a2113ff9549c82ae17,Check a namespace existence by checking only its own directory,MERGED,2021-11-03 14:12:03.000000000,2021-11-05 13:18:24.000000000,2021-11-05 13:16:33.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 14:12:03.000000000', 'files': ['neutron/privileged/agent/linux/utils.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c05d07bd8f675bd17ee40ab10f5ccf90bdbdf8d2', 'message': 'Check a namespace existence by checking only its own directory\n\nTo check the existance of a namespace, instead of listing the\nnamespaces directory (by default ""/var/run/netns""), this patch\ndirectly checks the existence of the namespace directory, using\n""os.path.exists"".\n\nThis check is faster than listing the whole directory and avoids\ntimeout problems as reported in the related bug.\n\nCloses-Bug: #1947974\nChange-Id: I558d50d28378beb3710d98a2113ff9549c82ae17\n(cherry picked from commit 8127221479834350465251839ab88056f4f64fb4)\n'}]",1,816512,c05d07bd8f675bd17ee40ab10f5ccf90bdbdf8d2,16,3,1,16688,,,0,"Check a namespace existence by checking only its own directory

To check the existance of a namespace, instead of listing the
namespaces directory (by default ""/var/run/netns""), this patch
directly checks the existence of the namespace directory, using
""os.path.exists"".

This check is faster than listing the whole directory and avoids
timeout problems as reported in the related bug.

Closes-Bug: #1947974
Change-Id: I558d50d28378beb3710d98a2113ff9549c82ae17
(cherry picked from commit 8127221479834350465251839ab88056f4f64fb4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/816512/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/privileged/agent/linux/utils.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/common/net_helpers.py']",6,c05d07bd8f675bd17ee40ab10f5ccf90bdbdf8d2,bug/1947974, if (port.namespace is None or ip_wrapper.netns.exists(port.namespace)):, if (ip_wrapper.netns.exists(port.namespace) or port.namespace is None):,32,33
openstack%2Ftripleo-quickstart~master~I1a5399cba3aa532a50ca2e31ebb5af03fd388151,openstack/tripleo-quickstart,master,I1a5399cba3aa532a50ca2e31ebb5af03fd388151,DNM alternative 010 and nodeset options,ABANDONED,2021-11-05 07:42:32.000000000,2021-11-05 13:14:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-05 07:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6ffdb51b637edf68fa67951cbc6221ca0af104e5', 'message': 'DNM alternative 010 and nodeset options\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I1a5399cba3aa532a50ca2e31ebb5af03fd388151\n'}, {'number': 2, 'created': '2021-11-05 08:41:53.000000000', 'files': ['config/nodes/1ctlr_1comp.yml', 'config/general_config/featureset010.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/424e39ed00874490ec6874fea79b10adc2355e1a', 'message': 'DNM alternative 010 and nodeset options\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I1a5399cba3aa532a50ca2e31ebb5af03fd388151\n'}]",0,816787,424e39ed00874490ec6874fea79b10adc2355e1a,8,1,2,32926,,,0,"DNM alternative 010 and nodeset options

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I1a5399cba3aa532a50ca2e31ebb5af03fd388151
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/87/816787/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/nodes/1ctlr_1comp.yml', 'config/general_config/featureset010.yml']",2,6ffdb51b637edf68fa67951cbc6221ca0af104e5,nodealternative,ctlplane_masquerade: true ,,2,4
openstack%2Fcinderlib~master~Ia4af2713bf05dee134b6ea0ede538522d6598095,openstack/cinderlib,master,Ia4af2713bf05dee134b6ea0ede538522d6598095,drop mock from lower-constraints,ABANDONED,2020-06-08 22:06:15.000000000,2021-11-05 13:13:01.000000000,,"[{'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-08 22:06:15.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/dc71f6ae424bdd118f07409a719c698260b39e3c', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: Ia4af2713bf05dee134b6ea0ede538522d6598095\n""}]",0,734325,dc71f6ae424bdd118f07409a719c698260b39e3c,6,3,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: Ia4af2713bf05dee134b6ea0ede538522d6598095
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/25/734325/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,dc71f6ae424bdd118f07409a719c698260b39e3c,drop_mock,,mock==2.0.0,0,1
openstack%2Fmagnum~master~I21d909b9edd24dc966af2677a88b942b349aaccc,openstack/magnum,master,I21d909b9edd24dc966af2677a88b942b349aaccc,Octavia race condition with multiple lb-ers,NEW,2021-10-18 17:53:04.000000000,2021-11-05 12:53:13.000000000,,"[{'_account_id': 16036}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-18 17:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b3368405dd199ebd3834c11f4a1590c1f8952250', 'message': 'WIP Octavia race condition with multiple lb-ers\n\nOctavia race condition with multiple loadbalancers, in the heat template\nboth api_lb and etcd_lb gets created. This generates a table lock with a\nracecondition.\n\nChange-Id: I21d909b9edd24dc966af2677a88b942b349aaccc\n'}, {'number': 2, 'created': '2021-10-18 18:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c6c16471ed57de2f41112232bafea511cd5abc1b', 'message': 'WIP Octavia race condition with multiple lb-ers\n\nOctavia race condition with multiple loadbalancers, in the heat template\nboth api_lb and etcd_lb gets created. This generates a table lock with a\nracecondition.\n\nChange-Id: I21d909b9edd24dc966af2677a88b942b349aaccc\n'}, {'number': 3, 'created': '2021-10-18 20:20:25.000000000', 'files': ['magnum/drivers/swarm_fedora_atomic_v1/templates/cluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmcluster.yaml', 'magnum/drivers/mesos_ubuntu_v1/templates/mesoscluster.yaml', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4844aa285ad2954144e62eb2635782ce8344ee15', 'message': 'Octavia race condition with multiple lb-ers\n\nOctavia race condition with multiple loadbalancers, in the heat template\nboth api_lb and etcd_lb gets created. This generates a table lock with a\nracecondition.\n\nChange-Id: I21d909b9edd24dc966af2677a88b942b349aaccc\n'}]",1,814476,4844aa285ad2954144e62eb2635782ce8344ee15,6,2,3,30176,,,0,"Octavia race condition with multiple lb-ers

Octavia race condition with multiple loadbalancers, in the heat template
both api_lb and etcd_lb gets created. This generates a table lock with a
racecondition.

Change-Id: I21d909b9edd24dc966af2677a88b942b349aaccc
",git fetch https://review.opendev.org/openstack/magnum refs/changes/76/814476/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml'],1,b3368405dd199ebd3834c11f4a1590c1f8952250,, depends_on: [etcd_lb],,1,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I1331698e313bd714a16fc35f38fb579d75b56370,openstack/kolla-ansible,stable/wallaby,I1331698e313bd714a16fc35f38fb579d75b56370,mariadb: use add_host to include inactive hosts in shard grouping,MERGED,2021-11-04 11:30:26.000000000,2021-11-05 12:48:18.000000000,2021-11-05 12:46:37.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-04 11:30:26.000000000', 'files': ['ansible/group_vars/all.yml', 'releasenotes/notes/bug-1947589-52e7a6fa5d82e7fa.yaml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/mariadb/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c6b27b2a8db9db59e0672074ce0971f318074008', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\nCloses-Bug: #1947589\n(cherry picked from commit 68cd2a055371cc25a0502ff4db22fbcdececd478)\n'}]",0,816653,c6b27b2a8db9db59e0672074ce0971f318074008,9,3,1,33826,,,0,"mariadb: use add_host to include inactive hosts in shard grouping

In case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.
Using add_host will add all hosts in mariadb group to their shards group

Signed-off-by: Seena Fallah <seenafallah@gmail.com>
Change-Id: I1331698e313bd714a16fc35f38fb579d75b56370
Closes-Bug: #1947589
(cherry picked from commit 68cd2a055371cc25a0502ff4db22fbcdececd478)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/816653/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'releasenotes/notes/bug-1947589-52e7a6fa5d82e7fa.yaml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/mariadb/tasks/main.yml']",4,c6b27b2a8db9db59e0672074ce0971f318074008,mariadb-shard-groups-stable/wallaby," add_host: name: ""{{ item }}"" groups: ""{{ hostvars[item]['mariadb_shard_group'] }}"" loop: ""{{ groups['mariadb'] }}"""," group_by: key: ""{{ mariadb_shard_group }}""",13,5
openstack%2Fkolla-ansible~master~Ib15e961e5193af55e45a443305a96667295f3cb7,openstack/kolla-ansible,master,Ib15e961e5193af55e45a443305a96667295f3cb7,Grafana: Run priviliged when copying home dashboard file,MERGED,2021-10-08 13:07:16.000000000,2021-11-05 12:30:27.000000000,2021-11-05 12:28:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 32029}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-10-08 13:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac6a288fa811cc7ef6ad1d3b435de501276ae9ae', 'message': 'Grafana: Run priviliged when copying home dashboard file\n\nThe copy job for the grafana home dashboard file needs to run\npriviliged, otherwise permission denied error occurs.\n\nChange-Id: Ib15e961e5193af55e45a443305a96667295f3cb7\n'}, {'number': 2, 'created': '2021-10-08 18:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1fce3df7ef5c971c887dcc6e2ba7cbd9a75fe335', 'message': 'Grafana: Run priviliged when copying home dashboard file\n\nThe copy job for the grafana home dashboard file needs to run\npriviliged, otherwise permission denied error occurs.\n\nChange-Id: Ib15e961e5193af55e45a443305a96667295f3cb7\n'}, {'number': 3, 'created': '2021-10-20 08:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/08b74c4645590a88950226ebd44feab749176443', 'message': 'Grafana: Run priviliged when copying home dashboard file\n\nThe copy job for the grafana home dashboard file needs to run\npriviliged, otherwise permission denied error occurs.\n\nCloses-Bug: #1947710\n\nChange-Id: Ib15e961e5193af55e45a443305a96667295f3cb7\n'}, {'number': 4, 'created': '2021-10-20 09:26:29.000000000', 'files': ['ansible/roles/grafana/tasks/config.yml', 'releasenotes/notes/bug-1947710-6d0975ae72f43ada.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/82b0e095a56a9707268f83484292589902ab1c8a', 'message': 'Grafana: Run priviliged when copying home dashboard file\n\nThe copy job for the grafana home dashboard file needs to run\npriviliged, otherwise permission denied error occurs.\n\nCloses-Bug: #1947710\n\nChange-Id: Ib15e961e5193af55e45a443305a96667295f3cb7\n'}]",7,813185,82b0e095a56a9707268f83484292589902ab1c8a,28,6,4,33710,,,0,"Grafana: Run priviliged when copying home dashboard file

The copy job for the grafana home dashboard file needs to run
priviliged, otherwise permission denied error occurs.

Closes-Bug: #1947710

Change-Id: Ib15e961e5193af55e45a443305a96667295f3cb7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/813185/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/grafana/tasks/config.yml'],1,ac6a288fa811cc7ef6ad1d3b435de501276ae9ae,grafana_home_dashboard, become: true,,1,0
openstack%2Fcinder~stable%2Fussuri~Ic4296d26be7db01c29ba4a4f47590cbef778ac48,openstack/cinder,stable/ussuri,Ic4296d26be7db01c29ba4a4f47590cbef778ac48,Add cinder discard in nimble driver,ABANDONED,2020-09-15 14:18:20.000000000,2021-11-05 12:16:46.000000000,,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 16186}, {'_account_id': 18058}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-09-15 14:18:20.000000000', 'files': ['releasenotes/notes/1884495-173f375dc5274fe6.yaml', 'cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f07838fb1e2e525f22f1142923de5298ee3a88b4', 'message': 'Add cinder discard in nimble driver\n\nChange-Id: Ic4296d26be7db01c29ba4a4f47590cbef778ac48\n(cherry picked from commit c354d5bd04537f7efa6fae2eacf8980cc02bef5f)\n'}]",1,752055,f07838fb1e2e525f22f1142923de5298ee3a88b4,24,16,1,16186,,,0,"Add cinder discard in nimble driver

Change-Id: Ic4296d26be7db01c29ba4a4f47590cbef778ac48
(cherry picked from commit c354d5bd04537f7efa6fae2eacf8980cc02bef5f)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/752055/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/1884495-173f375dc5274fe6.yaml', 'cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py']",3,f07838fb1e2e525f22f1142923de5298ee3a88b4,1884495-stable/ussuri," 'discard': True, 'discard': True, 'discard': True, 'discard': True, 'discard': True, 'discard': True,",,12,2
openstack%2Fkolla-ansible~stable%2Fxena~I1331698e313bd714a16fc35f38fb579d75b56370,openstack/kolla-ansible,stable/xena,I1331698e313bd714a16fc35f38fb579d75b56370,mariadb: use add_host to include inactive hosts in shard grouping,MERGED,2021-11-04 11:04:29.000000000,2021-11-05 12:10:59.000000000,2021-11-05 12:09:34.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 33826}]","[{'number': 1, 'created': '2021-11-04 11:04:29.000000000', 'files': ['ansible/group_vars/all.yml', 'releasenotes/notes/bug-1947589-52e7a6fa5d82e7fa.yaml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/mariadb/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/06218e2642714250f941927849cbab29d3898467', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\nCloses-Bug: #1947589\n(cherry picked from commit 68cd2a055371cc25a0502ff4db22fbcdececd478)\n'}]",0,816652,06218e2642714250f941927849cbab29d3898467,10,4,1,22629,,,0,"mariadb: use add_host to include inactive hosts in shard grouping

In case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.
Using add_host will add all hosts in mariadb group to their shards group

Signed-off-by: Seena Fallah <seenafallah@gmail.com>
Change-Id: I1331698e313bd714a16fc35f38fb579d75b56370
Closes-Bug: #1947589
(cherry picked from commit 68cd2a055371cc25a0502ff4db22fbcdececd478)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/816652/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'releasenotes/notes/bug-1947589-52e7a6fa5d82e7fa.yaml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/mariadb/tasks/main.yml']",4,06218e2642714250f941927849cbab29d3898467,mariadb-shard-groups-stable/xena," add_host: name: ""{{ item }}"" groups: ""{{ hostvars[item]['mariadb_shard_group'] }}"" loop: ""{{ groups['mariadb'] }}"""," group_by: key: ""{{ mariadb_shard_group }}""",13,5
openstack%2Fdiskimage-builder~master~I90ba0f41f3b6ec518f70e31ae6f1e7fbdd31227e,openstack/diskimage-builder,master,I90ba0f41f3b6ec518f70e31ae6f1e7fbdd31227e,cloud-init: Support growpart and pvresize for specified devices,ABANDONED,2021-11-03 11:15:43.000000000,2021-11-05 12:04:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-03 11:15:43.000000000', 'files': ['diskimage_builder/elements/cloud-init/post-install.d/22-cloud-init-growpart-devices', 'diskimage_builder/elements/cloud-init/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/71ae052a00124accee6f83a6fe7f332c732221a0', 'message': 'cloud-init: Support growpart and pvresize for specified devices\n\nSupport growpart and pvresize for user-specified device list.\n\nChange-Id: I90ba0f41f3b6ec518f70e31ae6f1e7fbdd31227e\n'}]",0,816458,71ae052a00124accee6f83a6fe7f332c732221a0,5,1,1,22629,,,0,"cloud-init: Support growpart and pvresize for specified devices

Support growpart and pvresize for user-specified device list.

Change-Id: I90ba0f41f3b6ec518f70e31ae6f1e7fbdd31227e
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/58/816458/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/cloud-init/post-install.d/22-cloud-init-growpart-devices', 'diskimage_builder/elements/cloud-init/README.rst']",2,71ae052a00124accee6f83a6fe7f332c732221a0,," DIB_CLOUD_INIT_GROWPART_DEVICES :Required: No :Default: empty :Description: customize cloud-init to resize user-defined disks passed as space delimited string e.g. ""/dev/vda3 /dev/vdb2"". DIB_CLOUD_INIT_GROWPART_PVRESIZE :Required: No :Default: disabled :Description: customize cloud-init to run pvresize on user-defined disks from DIB_CLOUD_INIT_GROWPART_DEVICES variable.",,40,0
openstack%2Fopenstacksdk~feature%2Fr1~Icd786e89aba5b593feee165226010b25f8627efd,openstack/openstacksdk,feature/r1,Icd786e89aba5b593feee165226010b25f8627efd,Keep creating keystone admin endpoint for heat,MERGED,2021-11-05 08:20:33.000000000,2021-11-05 11:43:57.000000000,2021-11-05 11:37:58.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-11-05 08:20:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4246811205bbe40523604567dc6b2f1c416e34be', 'message': 'Keep creating keystone admin endpoint for heat\n\nHeat still depends on an keystone admin endpoint being present although\nit has no functional difference anymore from the other endpoints with the\nv3 API. Make devstack create one.\n\nChange-Id: Icd786e89aba5b593feee165226010b25f8627efd\n(cherry picked from commit 9ed215d4443c08167117144e0ee938b418bf56c2)\n'}]",0,816667,4246811205bbe40523604567dc6b2f1c416e34be,7,2,1,13252,,,0,"Keep creating keystone admin endpoint for heat

Heat still depends on an keystone admin endpoint being present although
it has no functional difference anymore from the other endpoints with the
v3 API. Make devstack create one.

Change-Id: Icd786e89aba5b593feee165226010b25f8627efd
(cherry picked from commit 9ed215d4443c08167117144e0ee938b418bf56c2)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/67/816667/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4246811205bbe40523604567dc6b2f1c416e34be,remove-keystone-admin-endpoint-feature/r1, # TODO(frickler): drop this once heat no longer needs it KEYSTONE_ADMIN_ENDPOINT: true,,2,0
openstack%2Fkuryr-kubernetes~master~Idbc1e2868c54eb1151d2498a0324731fe099592e,openstack/kuryr-kubernetes,master,Idbc1e2868c54eb1151d2498a0324731fe099592e,Restrict handling of Namespace events,MERGED,2021-10-05 18:35:20.000000000,2021-11-05 11:33:53.000000000,2021-11-05 11:32:16.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-10-05 18:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1eec3e1d946bbc683b8c7ffdc8e991bf4bd04c4a', 'message': 'WIP: Restrict handling of Namespace events\n\nEnsures Namespaces are only handled when there\nare Pods on Pod Network present on it.\n\nChange-Id: Idbc1e2868c54eb1151d2498a0324731fe099592e\n'}, {'number': 2, 'created': '2021-10-08 14:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/72747ebdc157e8eff21ea6165283aecd8845d035', 'message': 'Restrict handling of Namespace events\n\nEnsures Namespaces are only handled when there\nis any Pod on Pod Network present on it to avoid\ncreating Networks and Subnets without really being\nused.\n\nChange-Id: Idbc1e2868c54eb1151d2498a0324731fe099592e\n'}, {'number': 3, 'created': '2021-10-11 10:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/707bac56039ae8cc63bdad97c4eaf0d10c6039cd', 'message': 'Restrict handling of Namespace events\n\nEnsures Namespaces are only handled when there\nis any Pod on Pod Network present on it to avoid\ncreating Networks and Subnets without really being\nused.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/813404\n\nChange-Id: Idbc1e2868c54eb1151d2498a0324731fe099592e\n'}, {'number': 4, 'created': '2021-10-12 11:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c0451006ef3340fbe1b01a7e92e0cff8bff42415', 'message': 'Restrict handling of Namespace events\n\nEnsures Namespaces are only handled when there\nis any Pod on Pod Network present on it to avoid\ncreating Networks and Subnets without really being\nused.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/813404\n\nChange-Id: Idbc1e2868c54eb1151d2498a0324731fe099592e\n'}, {'number': 5, 'created': '2021-10-13 19:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f50680d05fbfd4a08b1a7587f7cd56a7e08cada1', 'message': 'Restrict handling of Namespace events\n\nEnsures Namespaces are only handled when there\nis any Pod on Pod Network present on it to avoid\ncreating Networks and Subnets without really being\nused.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/813404\n\nChange-Id: Idbc1e2868c54eb1151d2498a0324731fe099592e\n'}, {'number': 6, 'created': '2021-10-13 20:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ea8f8c56d85d1805c1bb046178362d3dcf8b3c50', 'message': 'Restrict handling of Namespace events\n\nEnsures Namespaces are only handled when there\nis any Pod on Pod Network present on it to avoid\ncreating Networks and Subnets without really being\nused.\n\nChange-Id: Idbc1e2868c54eb1151d2498a0324731fe099592e\n'}, {'number': 7, 'created': '2021-10-14 13:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6dfa8bf208be95df9353e71a7fbf8ac860cce4d8', 'message': 'Restrict handling of Namespace events\n\nEnsures Namespaces are only handled when there\nis any Pod on Pod Network present on it to avoid\ncreating Networks and Subnets without really being\nused.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/813404\n\nChange-Id: Idbc1e2868c54eb1151d2498a0324731fe099592e\n'}, {'number': 8, 'created': '2021-10-14 13:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ac175c65f53b39f0fcb00fc803983799e648acf4', 'message': 'Restrict handling of Namespace events\n\nEnsures Namespaces are only handled when there\nis any Pod on Pod Network present on it to avoid\ncreating Networks and Subnets without really being\nused.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/813404\n\nChange-Id: Idbc1e2868c54eb1151d2498a0324731fe099592e\n'}, {'number': 9, 'created': '2021-10-15 08:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/800d3d3c77ec3664cc75abf3944ce33ee4d6f78d', 'message': 'Restrict handling of Namespace events\n\nEnsures Namespaces are only handled when there\nis any Pod on Pod Network present on it to avoid\ncreating Networks and Subnets without really being\nused.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/813404\n\nChange-Id: Idbc1e2868c54eb1151d2498a0324731fe099592e\n'}, {'number': 10, 'created': '2021-10-15 20:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e44c4e177c1304035f5f30ef9dfc51c6eeb688c7', 'message': 'Restrict handling of Namespace events\n\nEnsures Namespaces are only handled when there\nis any Pod on Pod Network present on it to avoid\ncreating Networks and Subnets without really being\nused.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/813404\n\nChange-Id: Idbc1e2868c54eb1151d2498a0324731fe099592e\n'}, {'number': 11, 'created': '2021-10-17 23:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fce199b4351bb99ee6d7db0f9a46d7a8c37c9918', 'message': 'Restrict handling of Namespace events\n\nEnsures Namespaces are only handled when there\nis any Pod on Pod Network present on it to avoid\ncreating Networks and Subnets without really being\nused.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/813404\n\nChange-Id: Idbc1e2868c54eb1151d2498a0324731fe099592e\n'}, {'number': 12, 'created': '2021-10-24 11:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3304c228fd51b6d34c02439ba924e382307bc7b6', 'message': 'Restrict handling of Namespace events\n\nEnsures Namespaces are only handled when there\nis any Pod on Pod Network present on it to avoid\ncreating Networks and Subnets without really being\nused.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/813404\n\nChange-Id: Idbc1e2868c54eb1151d2498a0324731fe099592e\n'}, {'number': 13, 'created': '2021-10-29 09:32:11.000000000', 'files': ['kuryr_kubernetes/controller/handlers/pod_label.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_loadbalancer.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'devstack/lib/kuryr_kubernetes', 'kuryr_kubernetes/controller/handlers/namespace.py', 'kuryr_kubernetes/utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/32cdda491482a7881d7c72d9ab8aeb2d50311f45', 'message': 'Restrict handling of Namespace events\n\nEnsures Namespaces are only handled when there\nis any Pod on Pod Network present on it to avoid\ncreating Networks and Subnets without really being\nused.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/813404\n\nChange-Id: Idbc1e2868c54eb1151d2498a0324731fe099592e\n'}]",34,812588,32cdda491482a7881d7c72d9ab8aeb2d50311f45,64,4,13,27032,,,0,"Restrict handling of Namespace events

Ensures Namespaces are only handled when there
is any Pod on Pod Network present on it to avoid
creating Networks and Subnets without really being
used.

Depends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/813404

Change-Id: Idbc1e2868c54eb1151d2498a0324731fe099592e
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/88/812588/12 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/controller/handlers/namespace.py', 'kuryr_kubernetes/utils.py']",5,1eec3e1d946bbc683b8c7ffdc8e991bf4bd04c4a,restrict-network-creation," def handle_namespace(namespace): kubernetes = clients.get_kubernetes_client() pods = kubernetes.get( '{}/namespaces/{}/pods'.format( constants.K8S_API_BASE, namespace)) for pod in pods.get(""items""): if not pod['spec'].get('hostNetwork'): return True return False",,57,7
openstack%2Ffreezer-web-ui~master~I5dfbf48059b2bfc538a448f626fa07298e1d9dc6,openstack/freezer-web-ui,master,I5dfbf48059b2bfc538a448f626fa07298e1d9dc6,Add  python3.9 CI,MERGED,2021-11-04 05:04:56.000000000,2021-11-05 11:21:21.000000000,2021-11-05 11:21:21.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 05:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/aa4fe789feadc7945a8c6438468da936c8d0ff38', 'message': 'Update gate CI\n\nChange-Id: I5dfbf48059b2bfc538a448f626fa07298e1d9dc6\n'}, {'number': 2, 'created': '2021-11-04 05:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/4d407c7fda1e2e34bce266cdc1d165995aab02fb', 'message': 'Update gate CI\n\nChange-Id: I5dfbf48059b2bfc538a448f626fa07298e1d9dc6\n'}, {'number': 3, 'created': '2021-11-04 05:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/61ac6c333413d62601eaecc19529e400ba0af137', 'message': 'Add  python3.9 CI\n\nChange-Id: I5dfbf48059b2bfc538a448f626fa07298e1d9dc6\n'}, {'number': 4, 'created': '2021-11-05 01:07:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/716266f5d7dd33e6dacd6d86093e74d194024805', 'message': 'Add  python3.9 CI\n\nChange-Id: I5dfbf48059b2bfc538a448f626fa07298e1d9dc6\n'}]",0,816483,716266f5d7dd33e6dacd6d86093e74d194024805,13,2,4,21069,,,0,"Add  python3.9 CI

Change-Id: I5dfbf48059b2bfc538a448f626fa07298e1d9dc6
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/83/816483/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,aa4fe789feadc7945a8c6438468da936c8d0ff38,,,,0,0
openstack%2Fcharm-rabbitmq-server~master~I3ba18ba5e765993f61d892b6a2d34a74ba6d2d12,openstack/charm-rabbitmq-server,master,I3ba18ba5e765993f61d892b6a2d34a74ba6d2d12,Pin pyparsing for CI,MERGED,2021-10-25 09:11:37.000000000,2021-11-05 11:05:31.000000000,2021-11-05 11:05:31.000000000,"[{'_account_id': 2711}, {'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-25 09:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/48524756831b16fbb526c00fb379a8b31ec3e4c1', 'message': 'Pin py35 for CI\n\nChange-Id: I3ba18ba5e765993f61d892b6a2d34a74ba6d2d12\nNote: this will be dropped when we change the CI runners.\n'}, {'number': 2, 'created': '2021-10-26 11:29:44.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/af48cfe8ad7e387cc75f674ae59bcd91e33012f1', 'message': 'Pin pyparsing for CI\n\nChange-Id: I3ba18ba5e765993f61d892b6a2d34a74ba6d2d12\nNote: this will be dropped when we change the CI runners.\n'}]",7,815258,af48cfe8ad7e387cc75f674ae59bcd91e33012f1,21,5,2,20870,,,0,"Pin pyparsing for CI

Change-Id: I3ba18ba5e765993f61d892b6a2d34a74ba6d2d12
Note: this will be dropped when we change the CI runners.
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/58/815258/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,48524756831b16fbb526c00fb379a8b31ec3e4c1,pin-py35,cffi==1.14.6; python_version < '3.6' # cffi 1.15.0 drops support for py35.,,1,0
openstack%2Fironic-python-agent~stable%2Fxena~Iceeab0010827728711e19e5b031ccac55fe1efde,openstack/ironic-python-agent,stable/xena,Iceeab0010827728711e19e5b031ccac55fe1efde,Always include the oslo_log log file in ramdisk logs,MERGED,2021-11-04 15:55:59.000000000,2021-11-05 10:55:21.000000000,2021-11-05 10:53:08.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-04 15:55:59.000000000', 'files': ['releasenotes/notes/log-file-7aaaf31693ddc617.yaml', 'ironic_python_agent/tests/unit/base.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/tests/unit/test_agent.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/48fe8897eb428b0e941ef5c8513ff7c061ba971e', 'message': 'Always include the oslo_log log file in ramdisk logs\n\nEven if journald is present, there is no guarantee that IPA logs there\n(this is the case in container-based ramdisks).\n\nChange-Id: Iceeab0010827728711e19e5b031ccac55fe1efde\n(cherry picked from commit 2cedaa53c2ad306c4aeb2c2dc76c051db7408dbd)\n'}]",0,816664,48fe8897eb428b0e941ef5c8513ff7c061ba971e,7,2,1,10239,,,0,"Always include the oslo_log log file in ramdisk logs

Even if journald is present, there is no guarantee that IPA logs there
(this is the case in container-based ramdisks).

Change-Id: Iceeab0010827728711e19e5b031ccac55fe1efde
(cherry picked from commit 2cedaa53c2ad306c4aeb2c2dc76c051db7408dbd)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/64/816664/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/log-file-7aaaf31693ddc617.yaml', 'ironic_python_agent/tests/unit/base.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/tests/unit/test_agent.py', 'ironic_python_agent/utils.py']",5,48fe8897eb428b0e941ef5c8513ff7c061ba971e,log-file-stable/xena," log_locations = [CONF.log_file, CONF.log_dir] for log_loc in log_locations: if log_loc and os.path.exists(log_loc): file_list.append(log_loc) for log_loc in log_locations: if (log_loc and os.path.exists(log_loc) and not log_loc.startswith('/var/log')): file_list.append(log_loc)",,72,3
openstack%2Fskyline-console~master~I74122014b9e209af331db467f7d84e56d70cfc50,openstack/skyline-console,master,I74122014b9e209af331db467f7d84e56d70cfc50,feat: Make ipProtocol can be entered by user,MERGED,2021-11-02 10:50:10.000000000,2021-11-05 10:32:24.000000000,2021-11-05 10:32:24.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-11-02 10:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2893fc102221552d7cfeb9beaec4e2c48e7cf325', 'message': 'feat: WIP\n\nChange-Id: I74122014b9e209af331db467f7d84e56d70cfc50\n'}, {'number': 2, 'created': '2021-11-03 07:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/52bc8a0ab6f2aef5f8d813f61e6e33986f26e83b', 'message': 'feat: Make ipProtocol can be entered by user\n\nMake ipProtocol can be entered by user\n\nChange-Id: I74122014b9e209af331db467f7d84e56d70cfc50\n'}, {'number': 3, 'created': '2021-11-03 07:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5c93fb9c56125ec01ca27edf77eb999e5256e34f', 'message': 'feat: Make ipProtocol can be entered by user\n\nMake ipProtocol can be entered by user\n\nChange-Id: I74122014b9e209af331db467f7d84e56d70cfc50\n'}, {'number': 4, 'created': '2021-11-03 09:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7621cff20626ae76bb7c73d9e8f03001b1346333', 'message': 'feat: Make ipProtocol can be entered by user\n\nMake ipProtocol can be entered by user\n\nChange-Id: I74122014b9e209af331db467f7d84e56d70cfc50\n'}, {'number': 5, 'created': '2021-11-05 03:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7e8bb1b108697c0f99f13915f640c8bac361341a', 'message': 'feat: Make ipProtocol can be entered by user\n\nMake ipProtocol can be entered by user\n\nChange-Id: I74122014b9e209af331db467f7d84e56d70cfc50\n'}, {'number': 6, 'created': '2021-11-05 07:10:34.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/components/FormItem/SelectWithInput/index.jsx', 'src/pages/network/containers/SecurityGroup/Detail/Rule/actions/Create.jsx', 'src/components/FormItem/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ffa59fd0885c8032750dd7ae4104b7030afacf78', 'message': 'feat: Make ipProtocol can be entered by user\n\nMake ipProtocol can be entered by user\n\nChange-Id: I74122014b9e209af331db467f7d84e56d70cfc50\n'}]",6,816320,ffa59fd0885c8032750dd7ae4104b7030afacf78,31,2,6,33636,,,0,"feat: Make ipProtocol can be entered by user

Make ipProtocol can be entered by user

Change-Id: I74122014b9e209af331db467f7d84e56d70cfc50
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/20/816320/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/FormItem/SelectWithInput/index.jsx', 'src/pages/network/containers/SecurityGroup/Detail/Rule/actions/Create.jsx', 'src/components/FormItem/index.jsx']",3,2893fc102221552d7cfeb9beaec4e2c48e7cf325,,"import SelectWithInput from './SelectWithInput' 'select-input': SelectWithInput,",,105,4
openstack%2Fcharm-ceilometer~master~I1946b6f172cdae6f444d07999d5e54d4e11a450e,openstack/charm-ceilometer,master,I1946b6f172cdae6f444d07999d5e54d4e11a450e,Enable pipeline_yaml for mitaka and above,MERGED,2021-11-01 08:12:28.000000000,2021-11-05 10:12:06.000000000,2021-11-05 10:12:06.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-01 08:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/6b2825fa12c5ca42bc7ff125e59f662dd793e552', 'message': 'Enable pipeline_yaml for mitaka and above\n\nThis configuration for pipeline.yaml is still valid for mitaka and\nabove, so adding this in.\n\nThe ceilometer-collector package is not available in newer openstack\nreleases, so basing this on QUEENS_SERVICES.\n\nThis should solve the custom requirement of pipeline moving forward.\n\nCloses-Bug: 1938807\nChange-Id: I1946b6f172cdae6f444d07999d5e54d4e11a450e\n'}, {'number': 2, 'created': '2021-11-01 10:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/c16e51316a1407eb89fb963893e4e57c508d1a48', 'message': 'Enable pipeline_yaml for mitaka and above\n\nThis configuration for pipeline.yaml is still valid for mitaka and\nabove, so adding this in.\n\nThe ceilometer-collector package is not available in newer openstack\nreleases, so basing this on QUEENS_SERVICES.\n\nThis should solve the custom requirement of pipeline moving forward.\n\nUpdate test-requirements.txt for cffi and related pins.\n\nCloses-Bug: 1938807\nChange-Id: I1946b6f172cdae6f444d07999d5e54d4e11a450e\n'}, {'number': 3, 'created': '2021-11-01 11:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/a4ba061bf26e0c270fb0d82f5a4bba2a7c7531c1', 'message': 'Enable pipeline_yaml for mitaka and above\n\nThis configuration for pipeline.yaml is still valid for mitaka and\nabove, so adding this in.\n\nThe ceilometer-collector package is not available in newer openstack\nreleases, so basing this on QUEENS_SERVICES.\n\nThis should solve the custom requirement of pipeline moving forward.\n\nUpdate test-requirements.txt for cffi and related pins.\n\nCloses-Bug: 1938807\nChange-Id: I1946b6f172cdae6f444d07999d5e54d4e11a450e\n'}, {'number': 4, 'created': '2021-11-03 13:49:51.000000000', 'files': ['tests/bundles/focal-xena.yaml', 'lib/ceilometer_utils.py', 'test-requirements.txt', 'unit_tests/test_ceilometer_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/f4d772e6a3af21d7917aec60e8ab8b93eaba3688', 'message': 'Enable pipeline_yaml for mitaka and above\n\nThis configuration for pipeline.yaml is still valid for mitaka and\nabove, so adding this in.\n\nThe ceilometer-collector package is not available in newer openstack\nreleases, so basing this on QUEENS_SERVICES.\n\nThis should solve the custom requirement of pipeline moving forward.\n\nOther fixes:\n* Update test-requirements.txt for cffi and related pins.\n* Update focal-xena bundle to fix memcached series bionic requirement.\n\nCloses-Bug: 1938807\nChange-Id: I1946b6f172cdae6f444d07999d5e54d4e11a450e\n'}]",4,816150,f4d772e6a3af21d7917aec60e8ab8b93eaba3688,20,3,4,9247,,,0,"Enable pipeline_yaml for mitaka and above

This configuration for pipeline.yaml is still valid for mitaka and
above, so adding this in.

The ceilometer-collector package is not available in newer openstack
releases, so basing this on QUEENS_SERVICES.

This should solve the custom requirement of pipeline moving forward.

Other fixes:
* Update test-requirements.txt for cffi and related pins.
* Update focal-xena bundle to fix memcached series bionic requirement.

Closes-Bug: 1938807
Change-Id: I1946b6f172cdae6f444d07999d5e54d4e11a450e
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/50/816150/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceilometer_utils.py'],1,6b2825fa12c5ca42bc7ff125e59f662dd793e552,queens_pipeline_yaml," (CEILOMETER_PIPELINE_YAML, { 'hook_contexts': [CeilometerPipelineContext()], 'services': QUEENS_SERVICES, }),",,4,0
openstack%2Fnova~stable%2Ftrain~I59a0746b864610b6a314078cf5661d3d2b84b1d4,openstack/nova,stable/train,I59a0746b864610b6a314078cf5661d3d2b84b1d4,Ignore PCI devices with 32bit domain,NEW,2021-05-19 09:52:46.000000000,2021-11-05 09:10:20.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 09:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/602b7ffd62d2315dd5c94bdb0230dbe4dec85468', 'message': 'Ignore PCI devices with 32bit domain\n\nNova and QEMU[1] supports PCI devices with a PCI address that has 16 bit\ndomain. However there are hypervisors that reports PCI addresses with\n32 bit domain. While today we cannot assign these to guests this should\nnot prevent the nova-compute service to start.\n\nThis patch changes the PCI manager to ignore such PCI devices.\n\nPlease note that this patch does not change fact that nova does not\nallow specifying PCI addresses with 32bit domain in the\n[pci]/passthrough_whitelist configuration. Such configuration is still\nrejected at nova-compute service startup.\n\nCloses-Bug: #1897528\n\n[1] https://github.com/qemu/qemu/blob/f2a1cf9180f63e88bb38ff21c169da97c3f2bad5/hw/core/qdev-properties.c#L993\n\nChange-Id: I59a0746b864610b6a314078cf5661d3d2b84b1d4\n(cherry picked from commit 8c9d6fc8f073cde78b79ae259c9915216f5d59b0)\n(cherry picked from commit 90ffc553d7f4152a6a4a8708787150d3c3c40b03)\n(cherry picked from commit d311cae258714d4538a868e72801724d6f93ecb8)\n'}, {'number': 2, 'created': '2021-06-16 13:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b025c5a29980fd868b8d8481e270f883e03164f5', 'message': ""Ignore PCI devices with 32bit domain\n\nNova and QEMU[1] supports PCI devices with a PCI address that has 16 bit\ndomain. However there are hypervisors that reports PCI addresses with\n32 bit domain. While today we cannot assign these to guests this should\nnot prevent the nova-compute service to start.\n\nThis patch changes the PCI manager to ignore such PCI devices.\n\nPlease note that this patch does not change fact that nova does not\nallow specifying PCI addresses with 32bit domain in the\n[pci]/passthrough_whitelist configuration. Such configuration is still\nrejected at nova-compute service startup.\n\nChanges:\n  nova/pci/manager.py\n\nNOTE(stephenfin): We need to replace a use of 'str(exc)' with\n'six.text_type(exc)' to keep pep8/Python 2.7 happy.\n\nCloses-Bug: #1897528\n\n[1] https://github.com/qemu/qemu/blob/f2a1cf9180f63e88bb38ff21c169da97c3f2bad5/hw/core/qdev-properties.c#L993\n\nChange-Id: I59a0746b864610b6a314078cf5661d3d2b84b1d4\n(cherry picked from commit 8c9d6fc8f073cde78b79ae259c9915216f5d59b0)\n(cherry picked from commit 90ffc553d7f4152a6a4a8708787150d3c3c40b03)\n(cherry picked from commit d311cae258714d4538a868e72801724d6f93ecb8)\n""}, {'number': 3, 'created': '2021-06-17 09:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/542b2deb4655d1ce189d056ddd3fb2f9244f0f92', 'message': 'Ignore PCI devices with 32bit domain\n\nNova and QEMU[1] supports PCI devices with a PCI address that has 16 bit\ndomain. However there are hypervisors that reports PCI addresses with\n32 bit domain. While today we cannot assign these to guests this should\nnot prevent the nova-compute service to start.\n\nThis patch changes the PCI manager to ignore such PCI devices.\n\nPlease note that this patch does not change fact that nova does not\nallow specifying PCI addresses with 32bit domain in the\n[pci]/passthrough_whitelist configuration. Such configuration is still\nrejected at nova-compute service startup.\n\nCloses-Bug: #1897528\n\n[1] https://github.com/qemu/qemu/blob/f2a1cf9180f63e88bb38ff21c169da97c3f2bad5/hw/core/qdev-properties.c#L993\n\nChange-Id: I59a0746b864610b6a314078cf5661d3d2b84b1d4\n(cherry picked from commit 8c9d6fc8f073cde78b79ae259c9915216f5d59b0)\n(cherry picked from commit 90ffc553d7f4152a6a4a8708787150d3c3c40b03)\n(cherry picked from commit 22daca3e7f33e89b937f03a89db63cf25489e3c9)\n'}, {'number': 4, 'created': '2021-11-04 12:24:51.000000000', 'files': ['nova/pci/manager.py', 'doc/source/admin/networking.rst', 'nova/conf/pci.py', 'nova/tests/unit/pci/test_manager.py', 'doc/source/admin/pci-passthrough.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/f03f46ee8846571be44e6995eafcb400a0f492e5', 'message': 'Ignore PCI devices with 32bit domain\n\nNova and QEMU[1] supports PCI devices with a PCI address that has 16 bit\ndomain. However there are hypervisors that reports PCI addresses with\n32 bit domain. While today we cannot assign these to guests this should\nnot prevent the nova-compute service to start.\n\nThis patch changes the PCI manager to ignore such PCI devices.\n\nPlease note that this patch does not change fact that nova does not\nallow specifying PCI addresses with 32bit domain in the\n[pci]/passthrough_whitelist configuration. Such configuration is still\nrejected at nova-compute service startup.\n\nCloses-Bug: #1897528\n\n[1] https://github.com/qemu/qemu/blob/f2a1cf9180f63e88bb38ff21c169da97c3f2bad5/hw/core/qdev-properties.c#L993\n\nChange-Id: I59a0746b864610b6a314078cf5661d3d2b84b1d4\n(cherry picked from commit 8c9d6fc8f073cde78b79ae259c9915216f5d59b0)\n(cherry picked from commit 90ffc553d7f4152a6a4a8708787150d3c3c40b03)\n(cherry picked from commit 22daca3e7f33e89b937f03a89db63cf25489e3c9)\n'}]",1,792117,f03f46ee8846571be44e6995eafcb400a0f492e5,15,2,4,15334,,,0,"Ignore PCI devices with 32bit domain

Nova and QEMU[1] supports PCI devices with a PCI address that has 16 bit
domain. However there are hypervisors that reports PCI addresses with
32 bit domain. While today we cannot assign these to guests this should
not prevent the nova-compute service to start.

This patch changes the PCI manager to ignore such PCI devices.

Please note that this patch does not change fact that nova does not
allow specifying PCI addresses with 32bit domain in the
[pci]/passthrough_whitelist configuration. Such configuration is still
rejected at nova-compute service startup.

Closes-Bug: #1897528

[1] https://github.com/qemu/qemu/blob/f2a1cf9180f63e88bb38ff21c169da97c3f2bad5/hw/core/qdev-properties.c#L993

Change-Id: I59a0746b864610b6a314078cf5661d3d2b84b1d4
(cherry picked from commit 8c9d6fc8f073cde78b79ae259c9915216f5d59b0)
(cherry picked from commit 90ffc553d7f4152a6a4a8708787150d3c3c40b03)
(cherry picked from commit 22daca3e7f33e89b937f03a89db63cf25489e3c9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/792117/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/manager.py', 'doc/source/admin/networking.rst', 'nova/conf/pci.py', 'nova/tests/unit/pci/test_manager.py', 'doc/source/admin/pci-passthrough.rst']",5,602b7ffd62d2315dd5c94bdb0230dbe4dec85468,bug/1897528,.. note:: Nova only supports PCI addresses where the fields are restricted to the following maximum value: * domain - 0xFFFF * bus - 0xFF * slot - 0x1F * function - 0x7 Nova will ignore PCI devices reported by the hypervisor if the address is outside of these ranges.,,77,16
openstack%2Fopenstack-tempest-skiplist~master~Ida401fe0bf7dbd65d86255d175005661b9b001b4,openstack/openstack-tempest-skiplist,master,Ida401fe0bf7dbd65d86255d175005661b9b001b4,"Revert ""basic_ops mac_spoof fails upstream""",ABANDONED,2021-08-04 08:37:54.000000000,2021-11-05 09:08:06.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11082}, {'_account_id': 20182}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 08:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/58ad5a42c1de2546c59a0a8198d54e55af587ec2', 'message': 'Revert ""basic_ops mac_spoof fails upstream""\n\nThis reverts commit cd284cfada992c5d674d462509df77b3941b5cf9.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1936420/\n\nChange-Id: Ida401fe0bf7dbd65d86255d175005661b9b001b4\n'}, {'number': 2, 'created': '2021-08-04 09:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/02ebf52e8a36a1ee77169222c82144b68fa9c4be', 'message': 'Revert ""basic_ops mac_spoof fails upstream""\n\nThis reverts commit cd284cfada992c5d674d462509df77b3941b5cf9.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1936420/\n\nChange-Id: Ida401fe0bf7dbd65d86255d175005661b9b001b4\n'}, {'number': 3, 'created': '2021-08-09 11:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/29edc606db5b5b246757b1a653fc7420a239f14f', 'message': 'Revert ""basic_ops mac_spoof fails upstream""\n\nThis reverts commit cd284cfada992c5d674d462509df77b3941b5cf9.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1936420/\n\nChange-Id: Ida401fe0bf7dbd65d86255d175005661b9b001b4\n'}, {'number': 4, 'created': '2021-08-11 10:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/27b9526ee5b5027b187960b8f2db6c6a0bc2619d', 'message': 'Revert ""basic_ops mac_spoof fails upstream""\n\nThis reverts commit cd284cfada992c5d674d462509df77b3941b5cf9.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1936420/\n\nChange-Id: Ida401fe0bf7dbd65d86255d175005661b9b001b4\n'}, {'number': 5, 'created': '2021-08-16 09:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/dab19a3853ec9c691090a3d3d9af84c09c05dfc6', 'message': 'Revert ""basic_ops mac_spoof fails upstream""\n\nThis reverts commit cd284cfada992c5d674d462509df77b3941b5cf9.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1936420/\n\nChange-Id: Ida401fe0bf7dbd65d86255d175005661b9b001b4\n'}, {'number': 6, 'created': '2021-08-23 10:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/00522e639efc841591a9056cb7a9428bcf1c0b17', 'message': 'Revert ""basic_ops mac_spoof fails upstream""\n\nThis reverts commit cd284cfada992c5d674d462509df77b3941b5cf9.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1936420/\n\nChange-Id: Ida401fe0bf7dbd65d86255d175005661b9b001b4\n'}, {'number': 7, 'created': '2021-09-01 09:01:01.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/6c5d7868af64d599dbc6bb5ec62f5c7538e0a08f', 'message': 'Revert ""basic_ops mac_spoof fails upstream""\n\nThis reverts commit cd284cfada992c5d674d462509df77b3941b5cf9.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1936420/\n\nChange-Id: Ida401fe0bf7dbd65d86255d175005661b9b001b4\n'}]",1,803434,6c5d7868af64d599dbc6bb5ec62f5c7538e0a08f,24,6,7,11082,,,0,"Revert ""basic_ops mac_spoof fails upstream""

This reverts commit cd284cfada992c5d674d462509df77b3941b5cf9.

Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1936420/

Change-Id: Ida401fe0bf7dbd65d86255d175005661b9b001b4
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/34/803434/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,58ad5a42c1de2546c59a0a8198d54e55af587ec2,change-803434-5,," - test: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port' deployment: - 'overcloud' releases: - name: master reason: timing out in upstream infra, not rdo installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1936420 - name: victoria reason: timing out in upstream infra, not rdo lp: https://bugs.launchpad.net/tripleo/+bug/1936420 - name: wallaby reason: timing out in upstream infra, not rdo installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1936420 - name: train reason: timing out in upstream infra, not rdo installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1936420 - name: ussuri reason: timing out in upstream infra, not rdo lp: https://bugs.launchpad.net/tripleo/+bug/1936420 jobs: - tripleo-ci-centos-7-containers-multinode - tripleo-ci-centos-7-containers-multinode-train - tripleo-ci-centos-8-containers-multinode - tripleo-ci-centos-8-containers-multinode-wallaby - tripleo-ci-centos-8-containers-multinode-victoria - tripleo-ci-centos-8-containers-multinode-ussuri - tripleo-ci-centos-8-containers-multinode-train",0,33
openstack%2Fkuryr-tempest-plugin~master~Id0879f128ca8c057ea6ec540fec0e76d656e7b13,openstack/kuryr-tempest-plugin,master,Id0879f128ca8c057ea6ec540fec0e76d656e7b13,Fix Namespace handling,MERGED,2021-10-11 10:12:23.000000000,2021-11-05 08:43:06.000000000,2021-11-05 08:41:32.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-10-11 10:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/f0e32460d7df94280f766b24dd9c33e0650a21a5', 'message': 'Fix Namespace handling\n\nWith the handling of Namespaces now being\ndependent on Pods creation, tempests tests\nneed to get updated to account for that.\n\nChange-Id: Id0879f128ca8c057ea6ec540fec0e76d656e7b13\n'}, {'number': 2, 'created': '2021-10-14 13:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/b5fa361955e9eba9334cccf91fa1425c32efab63', 'message': 'Fix Namespace handling\n\nWith the handling of Namespaces now being\ndependent on Pods creation, tempests tests\nneed to get updated to account for that.\n\nChange-Id: Id0879f128ca8c057ea6ec540fec0e76d656e7b13\n'}, {'number': 3, 'created': '2021-10-14 13:27:08.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/base_network_policy.py', 'kuryr_tempest_plugin/config.py', 'kuryr_tempest_plugin/tests/scenario/test_namespace.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/774fc6bae0209edb366adbddd16aa2f205d389cb', 'message': 'Fix Namespace handling\n\nWith the handling of Namespaces now being\ndependent on Pods creation, tempests tests\nneed to get updated to account for that.\n\nChange-Id: Id0879f128ca8c057ea6ec540fec0e76d656e7b13\n'}]",4,813404,774fc6bae0209edb366adbddd16aa2f205d389cb,18,5,3,27032,,,0,"Fix Namespace handling

With the handling of Namespaces now being
dependent on Pods creation, tempests tests
need to get updated to account for that.

Change-Id: Id0879f128ca8c057ea6ec540fec0e76d656e7b13
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/04/813404/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/base_network_policy.py', 'kuryr_tempest_plugin/tests/scenario/test_namespace.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",3,f0e32460d7df94280f766b24dd9c33e0650a21a5,fix-ns-handling-tempest," wait_for_crd=False,"," wait_for_crd=True,",7,3
openstack%2Fproject-config~master~Ie42d73e7cd12c80b076429a643d95778ff5665b8,openstack/project-config,master,Ie42d73e7cd12c80b076429a643d95778ff5665b8,infra-package-needs: skip haveged start on 9-stream,MERGED,2021-11-05 06:41:39.000000000,2021-11-05 08:34:24.000000000,2021-11-05 07:00:25.000000000,"[{'_account_id': 7118}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 06:41:39.000000000', 'files': ['nodepool/elements/infra-package-needs/post-install.d/80-enable-haveged'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7df74a82fa0879399a12ff503994e1d7c0a0138e', 'message': ""infra-package-needs: skip haveged start on 9-stream\n\nThis package is not installed (see\nI9b88baf422d947d5209d036766a86b09dca0c21a) so we can't enable this\nservice on 9-stream.\n\nChange-Id: Ie42d73e7cd12c80b076429a643d95778ff5665b8\n""}]",2,816782,7df74a82fa0879399a12ff503994e1d7c0a0138e,8,3,1,7118,,,0,"infra-package-needs: skip haveged start on 9-stream

This package is not installed (see
I9b88baf422d947d5209d036766a86b09dca0c21a) so we can't enable this
service on 9-stream.

Change-Id: Ie42d73e7cd12c80b076429a643d95778ff5665b8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/816782/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/infra-package-needs/post-install.d/80-enable-haveged'],1,7df74a82fa0879399a12ff503994e1d7c0a0138e,centos-9-haveged,if [[ ${DISTRO_NAME} == 'centos' && ${DIB_RELEASE} = '9-stream' ]]; then # 9-stream we are just using the default rngd exit 0 fi ,,5,0
openstack%2Fneutron-vpnaas~master~I405fe21c5d19e59d0b1f3fb4e35c8567467c2a57,openstack/neutron-vpnaas,master,I405fe21c5d19e59d0b1f3fb4e35c8567467c2a57,DNM: check master,ABANDONED,2021-10-05 12:21:03.000000000,2021-11-05 08:08:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-05 12:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/2a09e431ea8bdba8e5ea3769dc35b7284787d083', 'message': 'DNM: check master\n\nChange-Id: I405fe21c5d19e59d0b1f3fb4e35c8567467c2a57\n'}, {'number': 2, 'created': '2021-10-14 15:24:03.000000000', 'files': ['neutron_vpnaas/opts.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/45de1bcd6cb8b5d88867f9a545f3db306e1255fa', 'message': 'DNM: check master\n\nChange-Id: I405fe21c5d19e59d0b1f3fb4e35c8567467c2a57\n'}]",0,812492,45de1bcd6cb8b5d88867f9a545f3db306e1255fa,8,1,2,8313,,,0,"DNM: check master

Change-Id: I405fe21c5d19e59d0b1f3fb4e35c8567467c2a57
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/92/812492/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/opts.py'],1,2a09e431ea8bdba8e5ea3769dc35b7284787d083,dnm,"def list_opts(): return [ ('service_providers', neutron.services.provider_configuration.serviceprovider_opts) ] "," def list_opts(): return [ ('service_providers', neutron.services.provider_configuration.serviceprovider_opts) ]",7,7
openstack%2Fcinder~master~Ica59db93a0153be9ab2e5e9165651173d9b2afd0,openstack/cinder,master,Ica59db93a0153be9ab2e5e9165651173d9b2afd0,HPE 3PAR: Reuse existing session,MERGED,2021-08-16 10:50:13.000000000,2021-11-05 08:00:33.000000000,2021-09-30 23:09:07.000000000,"[{'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32266}, {'_account_id': 32425}]","[{'number': 1, 'created': '2021-08-16 10:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/741397dfa65a6efaa09995af54102684438788a5', 'message': 'HPE 3PAR: Reuse existing session\n\nThe 3PAR driver creates new SSH connection to the backend for each\noperation (eg. create/delete volume).\n\nThere is a limit on maximum number of SSH connections from 3PAR\nbackend i.e 24 connections.\n\nThe problem is that when multiple concurrent operations are\nperformed, this limit gets reached & further operations get\nerrored out.\n\nThis patch performs two things:\n[a] Instead of creating new session for each operation, an attempt is\nmade to reuse existing session for as most operations.\n[b] Since WSAPI of 3PAR has evolved, wsapi (http/https) requests are\nused; thus SSH connections are no longer required.\n\nCloses-Bug: #1940069\nChange-Id: Ica59db93a0153be9ab2e5e9165651173d9b2afd0\n'}, {'number': 2, 'created': '2021-08-16 11:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d19f3ffe2fdf8d3d8fb24fadce5dc710fe9b9991', 'message': 'HPE 3PAR: Reuse existing session\n\nThe 3PAR driver creates new SSH connection to the backend for each\noperation (eg. create/delete volume).\n\nThere is a limit on maximum number of SSH connections from 3PAR\nbackend i.e 24 connections.\n\nThe problem is that when multiple concurrent operations are\nperformed, this limit gets reached & further operations get\nerrored out.\n\nThis patch performs two things:\n[a] Instead of creating new session for each operation, an attempt is\nmade to reuse existing session for as most operations.\n[b] Since WSAPI of 3PAR has evolved, wsapi (http/https) requests are\nused; thus SSH connections are no longer required.\n\nCloses-Bug: #1940069\nChange-Id: Ica59db93a0153be9ab2e5e9165651173d9b2afd0\n'}, {'number': 3, 'created': '2021-08-18 07:10:24.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_base.py', 'releasenotes/notes/hpe-3par-reuse-session-4439cb07b9118867.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1daded795109b9cc8e3954befe513400fe1ef036', 'message': 'HPE 3PAR: Reuse existing session\n\nThe 3PAR driver creates new SSH connection to the backend for each\noperation (eg. create/delete volume).\n\nThere is a limit on maximum number of SSH connections from 3PAR\nbackend i.e 24 connections.\n\nThe problem is that when multiple concurrent operations are\nperformed, this limit gets reached & further operations get\nerrored out.\n\nThis patch performs two things:\n[a] Instead of creating new session for each operation, an attempt is\nmade to reuse existing session for as most operations.\n[b] Since WSAPI of 3PAR has evolved, wsapi (http/https) requests are\nused; thus SSH connections are no longer required.\n\nCloses-Bug: #1940069\nChange-Id: Ica59db93a0153be9ab2e5e9165651173d9b2afd0\n'}]",6,804698,1daded795109b9cc8e3954befe513400fe1ef036,103,7,3,29122,,,0,"HPE 3PAR: Reuse existing session

The 3PAR driver creates new SSH connection to the backend for each
operation (eg. create/delete volume).

There is a limit on maximum number of SSH connections from 3PAR
backend i.e 24 connections.

The problem is that when multiple concurrent operations are
performed, this limit gets reached & further operations get
errored out.

This patch performs two things:
[a] Instead of creating new session for each operation, an attempt is
made to reuse existing session for as most operations.
[b] Since WSAPI of 3PAR has evolved, wsapi (http/https) requests are
used; thus SSH connections are no longer required.

Closes-Bug: #1940069
Change-Id: Ica59db93a0153be9ab2e5e9165651173d9b2afd0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/804698/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_base.py', 'releasenotes/notes/hpe-3par-reuse-session-4439cb07b9118867.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",4,741397dfa65a6efaa09995af54102684438788a5,bug/1940069,," known_hosts_file = CONF.ssh_hosts_key_file policy = ""AutoAddPolicy"" if CONF.strict_ssh_host_key_policy: policy = ""RejectPolicy"" self.client.setSSHOptions( self._client_conf['san_ip'], self._client_conf['san_login'], self._client_conf['san_password'], port=self._client_conf['san_ssh_port'], conn_timeout=self._client_conf['ssh_conn_timeout'], privatekey=self._client_conf['san_private_key'], missing_key_policy=policy, known_hosts_file=known_hosts_file) known_hosts_file = CONF.ssh_hosts_key_file policy = ""AutoAddPolicy"" if CONF.strict_ssh_host_key_policy: policy = ""RejectPolicy"" cl.setSSHOptions( remote_array['san_ip'], remote_array['san_login'], remote_array['san_password'], port=remote_array['san_ssh_port'], conn_timeout=remote_array['ssh_conn_timeout'], privatekey=remote_array['san_private_key'], missing_key_policy=policy, known_hosts_file=known_hosts_file)",210,782
openstack%2Fcinder~master~I2955d79b9850190691ef690f4e0ade3e391cd893,openstack/cinder,master,I2955d79b9850190691ef690f4e0ade3e391cd893,Record the original size when creating an image from a volume,NEW,2021-08-15 09:28:42.000000000,2021-11-05 08:00:29.000000000,,"[{'_account_id': 12670}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32266}]","[{'number': 1, 'created': '2021-08-15 09:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e7e61f4a6bb2e79c6d2746fb9b2032d649995d8', 'message': 'Record the original size in an image created from a volume\n\nThis change makes the original volume size persisted in the min_size\nproperty during copying a volume to an image. This allows keeping size\nof the original volume even when image format is converted during the\ncopy operation, and prevents users from creating a smaller volume from\nthe image, which results in error.\n\nCloses-Bug: #1939972\nChange-Id: I2955d79b9850190691ef690f4e0ade3e391cd893\n'}, {'number': 2, 'created': '2021-08-15 09:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/66d91cdbe7bf61a32577a9547017df61fe614931', 'message': 'Record the original size in an image created from a volume\n\nThis change makes the original volume size persisted in the min_size\nproperty during copying a volume to an image. This allows keeping\nthe original size even when image format is converted during the copy\noperation, and prevents users from creating a smaller volume from\nthe image, which results in error.\n\nCloses-Bug: #1939972\nChange-Id: I2955d79b9850190691ef690f4e0ade3e391cd893\n'}, {'number': 3, 'created': '2021-08-15 09:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9d95c5ebfd9445a01a5f03d3acd72bf2720e230', 'message': 'Record the original size in an image created from a volume\n\nThis change makes the original volume size persisted in the min_size\nproperty during copying a volume to an image. This allows keeping\nthe original size even when image format is converted during the copy\noperation, and prevents users from creating a smaller volume from\nthe image, which results in error.\n\nCloses-Bug: #1939972\nChange-Id: I2955d79b9850190691ef690f4e0ade3e391cd893\n'}, {'number': 4, 'created': '2021-08-15 09:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c2e8752c148754b623be9819b743b8f32f955eb', 'message': 'Record the original size when creating an image from a volume\n\nThis change makes the original volume size persisted in the min_size\nproperty during copying a volume to an image. This allows keeping\nthe original size even when image format is converted during the copy\noperation, and prevents users from creating a smaller volume from\nthe image, which results in error.\n\nCloses-Bug: #1939972\nChange-Id: I2955d79b9850190691ef690f4e0ade3e391cd893\n'}, {'number': 5, 'created': '2021-08-15 10:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3194a63ba4ef8caa8504733b5ef7b056960c6299', 'message': 'Record the original size when creating an image from a volume\n\nThis change makes the original volume size persisted in the min_size\nproperty during copying a volume to an image. This allows keeping\nthe original size even when image format is converted during the copy\noperation, and prevents users from creating a smaller volume from\nthe image, which results in error.\n\nCloses-Bug: #1939972\nChange-Id: I2955d79b9850190691ef690f4e0ade3e391cd893\n'}, {'number': 6, 'created': '2021-08-15 10:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6d42dc222c86ba10bebd5691671486a23d8656f', 'message': 'Record the original size when creating an image from a volume\n\nThis change makes the original volume size persisted in the min_size\nproperty during copying a volume to an image. This allows keeping\nthe original size even when image format is converted during the copy\noperation, and prevents users from creating a smaller volume from\nthe image, which results in error.\n\nCloses-Bug: #1939972\nChange-Id: I2955d79b9850190691ef690f4e0ade3e391cd893\n'}, {'number': 7, 'created': '2021-08-15 13:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4479d59a6b7f81d9d1d865113f2cf2f970dc6b78', 'message': 'Record the original size when creating an image from a volume\n\nThis change makes the original volume size persisted in the min_size\nproperty during copying a volume to an image. This allows keeping\nthe original size even when image format is converted during the copy\noperation, and prevents users from creating a smaller volume from\nthe image, which results in error.\n\nCloses-Bug: #1939972\nChange-Id: I2955d79b9850190691ef690f4e0ade3e391cd893\n'}, {'number': 8, 'created': '2021-08-16 08:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd199f1fe289c79a4970b7d00436d57c41becf9e', 'message': 'Record the original size when creating an image from a volume\n\nThis change makes the original volume size persisted in the min_size\nproperty during copying a volume to an image. This allows keeping\nthe original size even when image format is converted during the copy\noperation, and prevents users from creating a smaller volume from\nthe image, which results in error.\n\nCloses-Bug: #1939972\nChange-Id: I2955d79b9850190691ef690f4e0ade3e391cd893\n'}, {'number': 9, 'created': '2021-08-16 13:35:10.000000000', 'files': ['cinder/tests/unit/api/contrib/test_volume_actions.py', 'releasenotes/notes/bug-1939972-f6f95b1ed3166a93.yaml', 'cinder/api/contrib/volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/37dbfb3489d99b40848925ac45981029df91e461', 'message': 'Record the original size when creating an image from a volume\n\nThis change makes the original volume size persisted in the min_disk\nproperty during copying a volume to an image. This allows keeping\nthe original size even when image format is converted during the copy\noperation, and prevents users from creating a smaller volume from\nthe image, which results in error.\n\nCloses-Bug: #1939972\nChange-Id: I2955d79b9850190691ef690f4e0ade3e391cd893\n'}]",4,804584,37dbfb3489d99b40848925ac45981029df91e461,83,4,9,9816,,,0,"Record the original size when creating an image from a volume

This change makes the original volume size persisted in the min_disk
property during copying a volume to an image. This allows keeping
the original size even when image format is converted during the copy
operation, and prevents users from creating a smaller volume from
the image, which results in error.

Closes-Bug: #1939972
Change-Id: I2955d79b9850190691ef690f4e0ade3e391cd893
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/804584/8 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1939972-f6f95b1ed3166a93.yaml', 'cinder/volume/api.py']",2,0e7e61f4a6bb2e79c6d2746fb9b2032d649995d8,bug/1939972," metadata.setdefault('min_disk', volume.size)",,9,0
openstack%2Fcinder~master~I640e039833001a91b23bfe0e6bb9c4e083d012a3,openstack/cinder,master,I640e039833001a91b23bfe0e6bb9c4e083d012a3,Fix: Online migration for volume_use_quota_online_data_migration,MERGED,2021-09-02 09:10:27.000000000,2021-11-05 08:00:25.000000000,2021-09-15 17:22:52.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-02 09:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/10fc247f80eefacee4a0a26fb6b1d67424ecfa39', 'message': 'Fix: Online migration for volume_use_quota_online_data_migration\n\nIn the calculate_use_quota method, added a check for the case when\nthere is no migration i.e. volume.migration_status is None and return True\nin that case since we should count that volume in quotas.\n\nCloses-Bug: #1942077\nChange-Id: I640e039833001a91b23bfe0e6bb9c4e083d012a3\n'}, {'number': 2, 'created': '2021-09-02 09:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d613c3077d7c9bb824af0f9923e698eaa58304d2', 'message': 'Fix: Online migration for volume_use_quota_online_data_migration\n\nIn the calculate_use_quota method, added a check for the case when\nthere is no migration i.e. volume.migration_status is None and\nreturn True in that case since we should count that volume in quotas.\n\nCloses-Bug: #1942077\nChange-Id: I640e039833001a91b23bfe0e6bb9c4e083d012a3\n'}, {'number': 3, 'created': '2021-09-03 13:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/900757ce640491389b8365aa1a1f840dfaf50f37', 'message': 'Fix: Online migration for volume_use_quota_online_data_migration\n\nIn the calculate_use_quota method, added a check for the case when\nthere is no migration i.e. volume.migration_status is None and\nreturn True in that case since we should count that volume in quotas.\n\nCloses-Bug: #1942077\nChange-Id: I640e039833001a91b23bfe0e6bb9c4e083d012a3\n'}, {'number': 4, 'created': '2021-09-03 15:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3082546119d10ef1eeae463bc0ad7f8190b9fc22', 'message': ""Fix: Online migration for volume_use_quota_online_data_migration\n\nIn the calculate_use_quota method, added a check for the case when\nthere is no migration i.e. volume.migration_status is None and\nreturn True in that case since we should count that volume in quotas.\n\nIt also fixes another issue where the db/api layer wasn't returning\nthe result of total and updated records.\n\nCloses-Bug: #1942077\nChange-Id: I640e039833001a91b23bfe0e6bb9c4e083d012a3\n""}, {'number': 5, 'created': '2021-09-06 13:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/73913a18cd80b36d967660f7ba18546222c43647', 'message': ""Fix: Online migration for volume_use_quota_online_data_migration\n\nIn the calculate_use_quota method, added a check for the case when\nthere is no migration i.e. volume.migration_status is None and\nreturn True in that case since we should count that volume in quotas.\n\nIt also fixes another issue where the db/api layer wasn't returning\nthe result of total and updated records.\n\nCloses-Bug: #1942077\nChange-Id: I640e039833001a91b23bfe0e6bb9c4e083d012a3\n""}, {'number': 6, 'created': '2021-09-07 09:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b34f0f3e2ccafca2bdbe4b2671cae4072e6e084f', 'message': ""Fix: Online migration for volume_use_quota_online_data_migration\n\nIn the calculate_use_quota method, added a check for the case when\nthere is no migration i.e. volume.migration_status is None and\nreturn True in that case since we should count that volume in quotas.\nAlso added a check for similar case when admin_metadata property\ndoesn't exist in volume.\n\nIt also fixes another issue where the db/api layer wasn't returning\nthe result of total and updated records.\n\nCloses-Bug: #1942077\nChange-Id: I640e039833001a91b23bfe0e6bb9c4e083d012a3\n""}, {'number': 7, 'created': '2021-09-09 10:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c9ef7042bf79d085b01c1cf37aa193ddb411178', 'message': ""Fix: Online migration for volume_use_quota_online_data_migration\n\nIn the calculate_use_quota method, added a check for the case when\nthere is no migration i.e. volume.migration_status is None and\nreturn True in that case since we should count that volume in quotas.\n\nAlso changed the property from admin_metadata to volume_admin_metadata\nsince we are dealing with ORM objects and not OVO.\n\nIt also fixes another issue where the db/api layer wasn't returning\nthe result of total and updated records.\n\nCloses-Bug: #1942077\nChange-Id: I640e039833001a91b23bfe0e6bb9c4e083d012a3\n""}, {'number': 8, 'created': '2021-09-14 15:45:20.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/53c3b192ec3327c5426810e227abf9fe25540ae1', 'message': ""Fix: Online migration for volume_use_quota_online_data_migration\n\nIn the calculate_use_quota method, added a check for the case when\nthere is no migration i.e. volume.migration_status is None and\nreturn True in that case since we should count that volume in quotas.\n\nAlso changed the property from admin_metadata to volume_admin_metadata\nsince we are dealing with ORM objects and not OVO.\n\nIt also fixes another issue where the db/api layer wasn't returning\nthe result of total and updated records.\n\nCloses-Bug: #1942077\nChange-Id: I640e039833001a91b23bfe0e6bb9c4e083d012a3\n""}]",9,807083,53c3b192ec3327c5426810e227abf9fe25540ae1,165,8,8,27615,,,0,"Fix: Online migration for volume_use_quota_online_data_migration

In the calculate_use_quota method, added a check for the case when
there is no migration i.e. volume.migration_status is None and
return True in that case since we should count that volume in quotas.

Also changed the property from admin_metadata to volume_admin_metadata
since we are dealing with ORM objects and not OVO.

It also fixes another issue where the db/api layer wasn't returning
the result of total and updated records.

Closes-Bug: #1942077
Change-Id: I640e039833001a91b23bfe0e6bb9c4e083d012a3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/807083/8 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,10fc247f80eefacee4a0a26fb6b1d67424ecfa39,bug/1942077, if volume.migration_status: return not (volume.migration_status.startswith('target:') or volume.admin_metadata.get('temporary') == 'True') return True, return not (volume.migration_status.startswith('target:') or volume.admin_metadata.get('temporary') == 'True'),4,2
openstack%2Fcinder~master~I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326,openstack/cinder,master,I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326,[SVF]:HyperSwap volume service status update,MERGED,2021-05-13 16:06:51.000000000,2021-11-05 08:00:22.000000000,2021-09-07 18:06:05.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 14806}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32036}, {'_account_id': 32075}, {'_account_id': 32266}, {'_account_id': 32425}]","[{'number': 1, 'created': '2021-05-13 16:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/201f5f1b16acaa92078fb6432e42b5b03cf1130b', 'message': '[SVF]:HyperSwap volume service status update\n\n[Spectrum Virtualize Family] During HyperSwap volume service\ninitialization, replication status is updated as disabled.\n\nwith this patch updating the replication status based on volume\nnode status.\n\nChange-Id: I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326\n'}, {'number': 2, 'created': '2021-05-19 08:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ca3f56174b9f66516d2b437b9245087870021e3', 'message': '[SVF]:HyperSwap volume service status update\n\n[Spectrum Virtualize Family] During HyperSwap volume service\ninitialization, replication status is updated as disabled.\n\nwith this patch updating the replication status based on volume\nnode status.\n\nChange-Id: I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326\n'}, {'number': 3, 'created': '2021-05-28 13:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8895ad933628d29777a76939c4acc5c33d117ad4', 'message': '[SVF]:HyperSwap volume service status update\n\n[Spectrum Virtualize Family] During HyperSwap volume service\ninitialization, replication status is updated as disabled.\n\nwith this patch updating the replication status based on volume\nnode status.\n\nChange-Id: I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326\n'}, {'number': 4, 'created': '2021-06-06 16:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a373231c171b2937f4afc023a7b365662c4646f', 'message': '[SVF]:HyperSwap volume service status update\n\n[Spectrum Virtualize Family] During HyperSwap volume service\ninitialization, replication status is updated as disabled.\n\nwith this patch updating the replication status based on volume\nnode status.\n\nChange-Id: I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326\n'}, {'number': 5, 'created': '2021-06-15 06:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb566c14303850bbc86c84046fa7a618ea49dbc9', 'message': '[SVF]:HyperSwap volume service status update\n\n[Spectrum Virtualize Family] During HyperSwap volume service\ninitialization, replication status is updated as disabled.\n\nwith this patch updating the replication status based on volume\nnode status.\n\nCloses-Bug: #1931968\n\nChange-Id: I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326\n'}, {'number': 6, 'created': '2021-08-06 15:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc9c1dd03f83301bf53f7bd8c2206beb8171d4a4', 'message': '[SVF]:HyperSwap volume service status update\n\n[Spectrum Virtualize Family] During HyperSwap volume service\ninitialization, replication status is updated as disabled.\n\nwith this patch updating the replication status based on volume\nnode status.\n\nCloses-Bug: #1931968\n\nChange-Id: I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326\n'}, {'number': 7, 'created': '2021-09-06 10:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/495150b8241ad7f049ebe389531f567f5cc82922', 'message': '[SVF]:HyperSwap volume service status update\n\n[Spectrum Virtualize Family] During HyperSwap volume service\ninitialization, replication status is updated as disabled.\n\nwith this patch updating the replication status based on volume\nnode status.\n\nCloses-Bug: #1931968\n\nChange-Id: I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326\n'}, {'number': 8, 'created': '2021-09-06 13:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf399d06bf284810c6edf29a171e40411daa468c', 'message': '[SVF]:HyperSwap volume service status update\n\n[Spectrum Virtualize Family] During HyperSwap volume service\ninitialization, replication status is updated as disabled.\n\nwith this patch updating the replication status based on volume\nnode status.\n\nCloses-Bug: #1931968\n\nChange-Id: I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326\n'}, {'number': 9, 'created': '2021-09-07 11:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf77532378c09bb54590b592bd8a1a2495e74601', 'message': '[SVF]:HyperSwap volume service status update\n\n[Spectrum Virtualize Family] During HyperSwap volume service\ninitialization, replication status is updated as disabled.\n\nwith this patch updating the replication status based on volume\nnode status.\n\nCloses-Bug: #1931968\n\nChange-Id: I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326\n'}, {'number': 10, 'created': '2021-09-07 11:09:40.000000000', 'files': ['releasenotes/notes/bug-1931968-ibm-svf-HyperSwap_volume_service_status_update-293dea5d0f750824.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a240585b56d83b700594ba1378c170381c4cf77', 'message': '[SVF]:HyperSwap volume service status update\n\n[Spectrum Virtualize Family] During HyperSwap volume service\ninitialization, replication status is updated as disabled.\n\nwith this patch updating the replication status based on volume\nnode status.\n\nCloses-Bug: #1931968\n\nChange-Id: I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326\n'}]",24,791281,8a240585b56d83b700594ba1378c170381c4cf77,218,9,10,32171,,,0,"[SVF]:HyperSwap volume service status update

[Spectrum Virtualize Family] During HyperSwap volume service
initialization, replication status is updated as disabled.

with this patch updating the replication status based on volume
node status.

Closes-Bug: #1931968

Change-Id: I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/791281/9 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,201f5f1b16acaa92078fb6432e42b5b03cf1130b,bug/1931968," def get_hyperswap_storage_state(self): storage_state = ""enabled"" primary_site_id = ""1"" Secondary_site_id = ""2"" primary_site_nodes = {} secondary_site_nodes = {} primary_site_offline_nodes = 0 secondary_site_offline_nodes = 0 storage_nodes = self._helpers.get_node_info() for node, node_info in storage_nodes.items(): if node_info['site_id'] == primary_site_id: primary_site_nodes[node] = node_info if node_info['status'] not in ['online', 'degraded']: primary_site_offline_nodes += 1 elif node_info['site_id'] == Secondary_site_id: secondary_site_nodes[node] = node_info if node_info['status'] not in ['online', 'degraded']: secondary_site_offline_nodes += 1 if secondary_site_offline_nodes != len(secondary_site_nodes.keys()): if len(primary_site_nodes.keys()) == offline_nodes: storage_state = ""failed-over"" elif secondary_site_offline_nodes == len(secondary_site_nodes.keys()): storage_state = ""error"" return storage_state if self._helpers.is_system_topology_hyperswap(self._state): data['replication_enabled'] = self.get_hyperswap_storage_state() ",,33,0
openstack%2Fcinder~master~If9fbe267954d5e7395972da3cd58d53801ff97ef,openstack/cinder,master,If9fbe267954d5e7395972da3cd58d53801ff97ef,Implement project personas for snapshots,MERGED,2020-10-28 16:23:51.000000000,2021-11-05 08:00:18.000000000,2021-09-15 01:57:52.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 9954}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 30615}, {'_account_id': 31254}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-10-28 16:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b0945bda803410d9cf4e83b485b26e9d8a0802c', 'message': 'Implement secure RBAC for snapshots\n\nThe snapshot API has useful functionality for system and project users.\nThis commit updates the policies to account for different scope types,\nwhich is a common trend across OpenStack APIs.\n\nThis patch also introduces a read-only role.\n\nChange-Id: If9fbe267954d5e7395972da3cd58d53801ff97ef\n'}, {'number': 2, 'created': '2020-11-18 15:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c1d3f1c9c26f9a9107b91c99fad903b64c93458', 'message': 'Implement secure RBAC for snapshots\n\nThe snapshot API has useful functionality for system and project users.\nThis commit updates the policies to account for different scope types,\nwhich is a common trend across OpenStack APIs.\n\nThis patch also introduces a read-only role.\n\nChange-Id: If9fbe267954d5e7395972da3cd58d53801ff97ef\n'}, {'number': 3, 'created': '2021-02-17 17:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/adc2c063c72d2e3889cd2da3243f436479ac8faa', 'message': 'Implement project personas for snapshots\n\nThis commit updates the policies to use the default roles provided by\nkeystone to provide some level of authoritative consistency across\nOpenStack APIs.\n\nFuture changes will incorporate system scope when cinder fully supports\nit.\n\nChange-Id: If9fbe267954d5e7395972da3cd58d53801ff97ef\n'}, {'number': 4, 'created': '2021-03-11 15:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2a3bcc749e4cfed969225f0d09282b465008bad', 'message': 'Implement project personas for snapshots\n\nThis commit updates the policies to use the default roles provided by\nkeystone to provide some level of authoritative consistency across\nOpenStack APIs.\n\nFuture changes will incorporate system scope when cinder fully supports\nit.\n\nChange-Id: If9fbe267954d5e7395972da3cd58d53801ff97ef\n'}, {'number': 5, 'created': '2021-03-11 22:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb3bb8089375cb162ebeb316ab3f9e3e2cd7ec33', 'message': 'Implement project personas for snapshots\n\nThis commit updates the policies to use the default roles provided by\nkeystone to provide some level of authoritative consistency across\nOpenStack APIs.\n\nFuture changes will incorporate system scope when cinder fully supports\nit.\n\nChange-Id: If9fbe267954d5e7395972da3cd58d53801ff97ef\n'}, {'number': 6, 'created': '2021-08-12 22:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/35ecb83aab7791fa0c7e112c0b410e5173f94744', 'message': 'Implement project personas for snapshots\n\nUpdates the policies to use the default roles provided by keystone\nfor:\n- snapshots\n- snapshot actions\n- manage snapshots\n- snapshot metadata\n\nCo-Authored-by: Lance Bragstad <lbragstad@gmail.com>\nCo-Authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: If9fbe267954d5e7395972da3cd58d53801ff97ef\n'}, {'number': 7, 'created': '2021-08-13 01:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/898c57ca3048526e738d5c218e313a1c228e2b65', 'message': 'Implement project personas for snapshots\n\nThis commit updates the policies to use the default roles provided by\nkeystone to provide some level of authoritative consistency across\nOpenStack APIs.\n\nFuture changes will incorporate system scope when cinder fully supports\nit.\n\nChange-Id: If9fbe267954d5e7395972da3cd58d53801ff97ef\n'}, {'number': 8, 'created': '2021-09-03 15:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd1f6ed5a63a6e7568d5bb50add3b3a6f58f0bfd', 'message': 'Implement project personas for snapshots\n\nThis commit updates the policies to use the default roles provided by\nkeystone to provide some level of authoritative consistency across\nOpenStack APIs.\n\nFuture changes will incorporate system scope when cinder fully supports\nit.\n\nChange-Id: If9fbe267954d5e7395972da3cd58d53801ff97ef\n'}, {'number': 9, 'created': '2021-09-03 18:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/74767f36b2079f033119dc8b2765a284186d865e', 'message': 'Implement project personas for snapshots\n\nThis commit updates the policies to use the default roles provided by\nkeystone to provide some level of authoritative consistency across\nOpenStack APIs.\n\nFuture changes will incorporate system scope when cinder fully supports\nit.\n\nChange-Id: If9fbe267954d5e7395972da3cd58d53801ff97ef\n'}, {'number': 10, 'created': '2021-09-03 19:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b0385d05eddbd167f914a32f5541a9b284539f5', 'message': 'Implement project personas for snapshots\n\nThis commit updates the policies to use the default roles provided by\nkeystone to provide some level of authoritative consistency across\nOpenStack APIs.\n\nFuture changes will incorporate system scope when cinder fully supports\nit.\n\nChange-Id: If9fbe267954d5e7395972da3cd58d53801ff97ef\n'}, {'number': 11, 'created': '2021-09-10 04:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/def296b97f15a4afe300ae44754f4f3dba06f9d3', 'message': 'Implement project personas for snapshots\n\nThis commit updates the policies to use the default roles provided by\nkeystone to provide some level of authoritative consistency across\nOpenStack APIs.\n\nFuture changes will incorporate system scope when cinder fully supports\nit.\n\nLegacy snapshot unit tests have been updated to not rely on overriding\nsnapshot policies.\n\nChange-Id: If9fbe267954d5e7395972da3cd58d53801ff97ef\n'}, {'number': 12, 'created': '2021-09-10 04:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dbddeff5cb43c48aa1404deb94a8df28a2afc89b', 'message': 'Implement project personas for snapshots\n\nThis commit updates the policies to use the default roles provided by\nkeystone to provide some level of authoritative consistency across\nOpenStack APIs.\n\nFuture changes will incorporate system scope when cinder fully supports\nit.\n\nLegacy snapshot unit tests have been updated to not rely on overriding\nsnapshot policies.\n\nChange-Id: If9fbe267954d5e7395972da3cd58d53801ff97ef\n'}, {'number': 13, 'created': '2021-09-10 20:12:58.000000000', 'files': ['cinder/policies/snapshots.py', 'cinder/tests/unit/api/v2/test_snapshots.py', 'cinder/tests/unit/policies/test_snapshots.py', 'cinder/tests/unit/api/v3/test_snapshot_metadata.py', 'cinder/tests/unit/api/v3/test_snapshots.py', 'cinder/tests/unit/policy.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/85d64c6474863133c69da547f047eb9cdecf9d41', 'message': 'Implement project personas for snapshots\n\nThis commit updates the policies to use the default roles provided by\nkeystone to provide some level of authoritative consistency across\nOpenStack APIs.\n\nFuture changes will incorporate system scope when cinder fully supports\nit.\n\nLegacy snapshot unit tests have been updated to not rely on overriding\nsnapshot policies.\n\nChange-Id: If9fbe267954d5e7395972da3cd58d53801ff97ef\n'}]",2,760178,85d64c6474863133c69da547f047eb9cdecf9d41,259,21,13,5046,,,0,"Implement project personas for snapshots

This commit updates the policies to use the default roles provided by
keystone to provide some level of authoritative consistency across
OpenStack APIs.

Future changes will incorporate system scope when cinder fully supports
it.

Legacy snapshot unit tests have been updated to not rely on overriding
snapshot policies.

Change-Id: If9fbe267954d5e7395972da3cd58d53801ff97ef
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/760178/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/policies/snapshots.py'],1,8b0945bda803410d9cf4e83b485b26e9d8a0802c,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The snapshots API is now aware of various scopes and default roles. """""" deprecated_get_all_snapshots = policy.DeprecatedRule( name=GET_ALL_POLICY, check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_extend_snapshot_attribute = policy.DeprecatedRule( name=EXTEND_ATTRIBUTE, check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_create_snapshot = policy.DeprecatedRule( name=CREATE_POLICY, check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_get_snapshot = policy.DeprecatedRule( name=GET_POLICY, check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_update_snapshot = policy.DeprecatedRule( name=UPDATE_POLICY, check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_delete_snapshot = policy.DeprecatedRule( name=DELETE_POLICY, check_str=base.RULE_ADMIN_OR_OWNER ) check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_get_all_snapshots, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_extend_snapshot_attribute, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_create_snapshot, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_get_snapshot, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_update_snapshot, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_delete_snapshot, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_ADMIN_OR_OWNER, ]), check_str=base.RULE_ADMIN_OR_OWNER, ]), check_str=base.RULE_ADMIN_OR_OWNER, ]), check_str=base.RULE_ADMIN_OR_OWNER, ]), check_str=base.RULE_ADMIN_OR_OWNER, ]), check_str=base.RULE_ADMIN_OR_OWNER, ]),",72,12
openstack%2Fopenstacksdk~feature%2Fr1~I93dcb7379b92f4a02d0205b644f8eb4cfa4036b4,openstack/openstacksdk,feature/r1,I93dcb7379b92f4a02d0205b644f8eb4cfa4036b4,Compute - reindentation of the docstrings,ABANDONED,2021-11-04 07:25:05.000000000,2021-11-05 07:16:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-04 07:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a3440d74838f016f15ce45fc06efd4c3db023a86', 'message': 'Compute - reindentation of the docstrings\n\nChange-Id: I93dcb7379b92f4a02d0205b644f8eb4cfa4036b4\n'}, {'number': 2, 'created': '2021-11-04 07:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fe65c7f0fb875dae21e1b7e5f829c5948842e72c', 'message': 'Compute - reindentation of the docstrings\n\nChange-Id: I93dcb7379b92f4a02d0205b644f8eb4cfa4036b4\n'}, {'number': 3, 'created': '2021-11-04 07:59:54.000000000', 'files': ['openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/89d7ebb02e88f3956f17ac46f1ee44af9be0b055', 'message': 'Compute - reindentation of the docstrings\n\nChange-Id: I93dcb7379b92f4a02d0205b644f8eb4cfa4036b4\n'}]",1,816620,89d7ebb02e88f3956f17ac46f1ee44af9be0b055,8,1,3,33945,,,0,"Compute - reindentation of the docstrings

Change-Id: I93dcb7379b92f4a02d0205b644f8eb4cfa4036b4
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/20/816620/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/compute/v2/_proxy_new.py'],1,a3440d74838f016f15ce45fc06efd4c3db023a86,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import warnings from openstack.compute.v2 import aggregate as _aggregate from openstack.compute.v2 import availability_zone from openstack.compute.v2 import extension from openstack.compute.v2 import flavor as _flavor from openstack.compute.v2 import hypervisor as _hypervisor from openstack.compute.v2 import image as _image from openstack.compute.v2 import keypair as _keypair from openstack.compute.v2 import limits from openstack.compute.v2 import quota_set as _quota_set from openstack.compute.v2 import server as _server from openstack.compute.v2 import server_diagnostics as _server_diagnostics from openstack.compute.v2 import server_group as _server_group from openstack.compute.v2 import server_interface as _server_interface from openstack.compute.v2 import server_ip from openstack.compute.v2 import server_remote_console as _src from openstack.compute.v2 import service as _service from openstack.compute.v2 import volume_attachment as _volume_attachment from openstack import exceptions from openstack.identity.v3 import project as _project from openstack.network.v2 import security_group as _sg from openstack import proxy from openstack import resource from openstack import utils class Proxy(proxy.Proxy): def find_extension(self, name_or_id, ignore_missing=True): """"""Find a single extension :param name_or_id: The name or ID of an extension. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. :returns: One :class:`~openstack.compute.v2.extension.Extension` or None """""" return self._find(extension.Extension, name_or_id, ignore_missing=ignore_missing) def extensions(self): """"""Retrieve a generator of extensions :returns: A generator of extension instances. :rtype: :class:`~openstack.compute.v2.extension.Extension` """""" return self._list(extension.Extension) # ========== Flavors ========== def find_flavor(self, name_or_id, ignore_missing=True, get_extra_specs=False, **query): """"""Find a single flavor :param name_or_id: The name or ID of a flavor. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. :param bool get_extra_specs: When set to ``True`` and extra_specs not present in the response will invoke additional API call to fetch extra_specs. :param kwargs query: Optional query parameters to be sent to limit the flavors being returned. :returns: One :class:`~openstack.compute.v2.flavor.Flavor` or None """""" flavor = self._find( _flavor.Flavor, name_or_id, ignore_missing=ignore_missing, **query) if flavor and get_extra_specs and not flavor.extra_specs: flavor = flavor.fetch_extra_specs(self) return flavor def create_flavor(self, **attrs): """"""Create a new flavor from attributes :param dict attrs: Keyword arguments which will be used to create a :class:`~openstack.compute.v2.flavor.Flavor`, comprised of the properties on the Flavor class. :returns: The results of flavor creation :rtype: :class:`~openstack.compute.v2.flavor.Flavor` """""" return self._create(_flavor.Flavor, **attrs) def delete_flavor(self, flavor, ignore_missing=True): """"""Delete a flavor :param flavor: The value can be either the ID of a flavor or a :class:`~openstack.compute.v2.flavor.Flavor` instance. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the flavor does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent flavor. :returns: ``None`` """""" self._delete(_flavor.Flavor, flavor, ignore_missing=ignore_missing) def update_flavor(self, flavor, **attrs): """"""Update a flavor :param server: Either the ID of a flavot or a :class:`~openstack.compute.v2.flavor.Flavor` instance. :attrs kwargs: The attributes to update on the flavor represented by ``flavor``. :returns: The updated flavor :rtype: :class:`~openstack.compute.v2.flavor.Flavor` """""" return self._update(_flavor.Flavor, flavor, **attrs) def get_flavor(self, flavor, get_extra_specs=False): """"""Get a single flavor :param flavor: The value can be the ID of a flavor or a :class:`~openstack.compute.v2.flavor.Flavor` instance. :param bool get_extra_specs: When set to ``True`` and extra_specs not present in the response will invoke additional API call to fetch extra_specs. :returns: One :class:`~openstack.compute.v2.flavor.Flavor` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" flavor = self._get(_flavor.Flavor, flavor) if get_extra_specs and not flavor.extra_specs: flavor = flavor.fetch_extra_specs(self) return flavor def flavors(self, details=True, get_extra_specs=False, **query): """"""Return a generator of flavors :param bool details: When ``True``, returns :class:`~openstack.compute.v2.flavor.Flavor` objects, with additional attributes filled. :param bool get_extra_specs: When set to ``True`` and extra_specs not present in the response will invoke additional API call to fetch extra_specs. :param kwargs query: Optional query parameters to be sent to limit the flavors being returned. :returns: A generator of flavor objects """""" base_path = '/flavors/detail' if details else '/flavors' for flv in self._list(_flavor.Flavor, base_path=base_path, **query): if get_extra_specs and not flv.extra_specs: flv = flv.fetch_extra_specs(self) yield flv def flavor_add_tenant_access(self, flavor, tenant): """"""Adds tenant/project access to flavor. :param flavor: Either the ID of a flavor or a :class:`~openstack.compute.v2.flavor.Flavor` instance. :param str tenant: The UUID of the tenant. :returns: One :class:`~openstack.compute.v2.flavor.Flavor` """""" flavor = self._get_resource(_flavor.Flavor, flavor) return flavor.add_tenant_access(self, tenant) def flavor_remove_tenant_access(self, flavor, tenant): """"""Removes tenant/project access to flavor. :param flavor: Either the ID of a flavor or a :class:`~openstack.compute.v2.flavor.Flavor` instance. :param str tenant: The UUID of the tenant. :returns: One :class:`~openstack.compute.v2.flavor.Flavor` """""" flavor = self._get_resource(_flavor.Flavor, flavor) return flavor.remove_tenant_access(self, tenant) def get_flavor_access(self, flavor): """"""Lists tenants who have access to private flavor :param flavor: Either the ID of a flavor or a :class:`~openstack.compute.v2.flavor.Flavor` instance. :returns: List of dicts with flavor_id and tenant_id attributes. """""" flavor = self._get_resource(_flavor.Flavor, flavor) return flavor.get_access(self) def fetch_flavor_extra_specs(self, flavor): """"""Lists Extra Specs of a flavor :param flavor: Either the ID of a flavor or a :class:`~openstack.compute.v2.flavor.Flavor` instance. :returns: One :class:`~openstack.compute.v2.flavor.Flavor` """""" flavor = self._get_resource(_flavor.Flavor, flavor) return flavor.fetch_extra_specs(self) def create_flavor_extra_specs(self, flavor, extra_specs): """"""Lists Extra Specs of a flavor :param flavor: Either the ID of a flavor or a :class:`~openstack.compute.v2.flavor.Flavor` instance. :param dict extra_specs: dict of extra specs :returns: One :class:`~openstack.compute.v2.flavor.Flavor` """""" flavor = self._get_resource(_flavor.Flavor, flavor) return flavor.create_extra_specs(self, specs=extra_specs) def get_flavor_extra_specs_property(self, flavor, prop): """"""Get specific Extra Spec property of a flavor :param flavor: Either the ID of a flavor or a :class:`~openstack.compute.v2.flavor.Flavor` instance. :param str prop: Property name. :returns: String value of the requested property. """""" flavor = self._get_resource(_flavor.Flavor, flavor) return flavor.get_extra_specs_property(self, prop) def update_flavor_extra_specs_property(self, flavor, prop, val): """"""Update specific Extra Spec property of a flavor :param flavor: Either the ID of a flavor or a :class:`~openstack.compute.v2.flavor.Flavor` instance. :param str prop: Property name. :param str val: Property value. :returns: String value of the requested property. """""" flavor = self._get_resource(_flavor.Flavor, flavor) return flavor.update_extra_specs_property(self, prop, val) def delete_flavor_extra_specs_property(self, flavor, prop): """"""Delete specific Extra Spec property of a flavor :param flavor: Either the ID of a flavor or a :class:`~openstack.compute.v2.flavor.Flavor` instance. :param str prop: Property name. :returns: None """""" flavor = self._get_resource(_flavor.Flavor, flavor) return flavor.delete_extra_specs_property(self, prop) # ========== Aggregates ========== def aggregates(self, **query): """"""Return a generator of aggregate :param kwargs query: Optional query parameters to be sent to limit the aggregates being returned. :returns: A generator of aggregate :rtype: class: `~openstack.compute.v2.aggregate.Aggregate` """""" return self._list(_aggregate.Aggregate, **query) def get_aggregate(self, aggregate): """"""Get a single host aggregate :param image: The value can be the ID of an aggregate or a :class:`~openstack.compute.v2.aggregate.Aggregate` instance. :returns: One :class:`~openstack.compute.v2.aggregate.Aggregate` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" return self._get(_aggregate.Aggregate, aggregate) def find_aggregate(self, name_or_id, ignore_missing=True): """"""Find a single aggregate :param name_or_id: The name or ID of an aggregate. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. :returns: One :class:`~openstack.compute.v2.aggregate.Aggregate` or None """""" return self._find(_aggregate.Aggregate, name_or_id, ignore_missing=ignore_missing) def create_aggregate(self, **attrs): """"""Create a new host aggregate from attributes :param dict attrs: Keyword arguments which will be used to create a :class:`~openstack.compute.v2.aggregate.Aggregate`, comprised of the properties on the Aggregate class. :returns: The results of aggregate creation :rtype: :class:`~openstack.compute.v2.aggregate.Aggregate` """""" return self._create(_aggregate.Aggregate, **attrs) def update_aggregate(self, aggregate, **attrs): """"""Update a host aggregate :param server: Either the ID of a host aggregate or a :class:`~openstack.compute.v2.aggregate.Aggregate` instance. :attrs kwargs: The attributes to update on the aggregate represented by ``aggregate``. :returns: The updated aggregate :rtype: :class:`~openstack.compute.v2.aggregate.Aggregate` """""" return self._update(_aggregate.Aggregate, aggregate, **attrs) def delete_aggregate(self, aggregate, ignore_missing=True): """"""Delete a host aggregate :param keypair: The value can be either the ID of an aggregate or a :class:`~openstack.compute.v2.aggregate.Aggregate` instance. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the aggregate does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent aggregate. :returns: ``None`` """""" self._delete(_aggregate.Aggregate, aggregate, ignore_missing=ignore_missing) def add_host_to_aggregate(self, aggregate, host): """"""Adds a host to an aggregate :param aggregate: Either the ID of a aggregate or a :class:`~openstack.compute.v2.aggregate.Aggregate` instance. :param str host: The host to add to the aggregate :returns: One :class:`~openstack.compute.v2.aggregate.Aggregate` """""" aggregate = self._get_resource(_aggregate.Aggregate, aggregate) return aggregate.add_host(self, host) def remove_host_from_aggregate(self, aggregate, host): """"""Removes a host from an aggregate :param aggregate: Either the ID of a aggregate or a :class:`~openstack.compute.v2.aggregate.Aggregate` instance. :param str host: The host to remove from the aggregate :returns: One :class:`~openstack.compute.v2.aggregate.Aggregate` """""" aggregate = self._get_resource(_aggregate.Aggregate, aggregate) return aggregate.remove_host(self, host) def set_aggregate_metadata(self, aggregate, metadata): """"""Creates or replaces metadata for an aggregate :param aggregate: Either the ID of a aggregate or a :class:`~openstack.compute.v2.aggregate.Aggregate` instance. :param dict metadata: Metadata key and value pairs. The maximum size for each metadata key and value pair is 255 bytes. :returns: One :class:`~openstack.compute.v2.aggregate.Aggregate` """""" aggregate = self._get_resource(_aggregate.Aggregate, aggregate) return aggregate.set_metadata(self, metadata) def aggregate_precache_images(self, aggregate, images): """"""Requests image precaching on an aggregate :param aggregate: Either the ID of a aggregate or a :class:`~openstack.compute.v2.aggregate.Aggregate` instance. :param images: Single image id or list of image ids. :returns: ``None`` """""" aggregate = self._get_resource(_aggregate.Aggregate, aggregate) # We need to ensure we pass list of image IDs if isinstance(images, str): images = [images] image_data = [] for img in images: image_data.append({'id': img}) return aggregate.precache_images(self, image_data) # ========== Images ========== def delete_image(self, image, ignore_missing=True): """"""Delete an image :param image: The value can be either the ID of an image or a :class:`~openstack.compute.v2.image.Image` instance. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the image does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent image. :returns: ``None`` """""" self._delete(_image.Image, image, ignore_missing=ignore_missing) def find_image(self, name_or_id, ignore_missing=True): """"""Find a single image :param name_or_id: The name or ID of a image. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. :returns: One :class:`~openstack.compute.v2.image.Image` or None """""" return self._find(_image.Image, name_or_id, ignore_missing=ignore_missing) def get_image(self, image): """"""Get a single image :param image: The value can be the ID of an image or a :class:`~openstack.compute.v2.image.Image` instance. :returns: One :class:`~openstack.compute.v2.image.Image` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" return self._get(_image.Image, image) def images(self, details=True, **query): """"""Return a generator of images :param bool details: When ``True``, returns :class:`~openstack.compute.v2.image.Image` objects with all available properties, otherwise only basic properties are returned. *Default: ``True``* :param kwargs query: Optional query parameters to be sent to limit the resources being returned. :returns: A generator of image objects """""" warnings.warn('This API is deprecated and may disappear shortly', DeprecationWarning) base_path = '/images/detail' if details else None return self._list(_image.Image, base_path=base_path, **query) def _get_base_resource(self, res, base): # Metadata calls for Image and Server can work for both those # resources but also ImageDetail and ServerDetail. If we get # either class, use it, otherwise create an instance of the base. if isinstance(res, base): return res else: return base(id=res) def get_image_metadata(self, image): """"""Return a dictionary of metadata for an image :param image: Either the ID of an image or a :class:`~openstack.compute.v2.image.Image` instance. :returns: A :class:`~openstack.compute.v2.image.Image` with only the image's metadata. All keys and values are Unicode text. :rtype: :class:`~openstack.compute.v2.image.Image` """""" res = self._get_base_resource(image, _image.Image) return res.fetch_metadata(self) def set_image_metadata(self, image, **metadata): """"""Update metadata for an image :param image: Either the ID of an image or a :class:`~openstack.compute.v2.image.Image` instance. :param kwargs metadata: Key/value pairs to be updated in the image's metadata. No other metadata is modified by this call. All keys and values are stored as Unicode. :returns: A :class:`~openstack.compute.v2.image.Image` with only the image's metadata. All keys and values are Unicode text. :rtype: :class:`~openstack.compute.v2.image.Image` """""" res = self._get_base_resource(image, _image.Image) return res.set_metadata(self, metadata=metadata) def delete_image_metadata(self, image, keys=None): """"""Delete metadata for an image Note: This method will do a HTTP DELETE request for every key in keys. :param image: Either the ID of an image or a :class:`~openstack.compute.v2.image.Image` instance. :param list keys: The keys to delete. If left empty complete metadata will be removed. :rtype: ``None`` """""" res = self._get_base_resource(image, _image.Image) if keys is not None: # Create a set as a snapshot of keys to avoid ""changed during # iteration"" for key in set(keys): res.delete_metadata_item(self, key) else: res.delete_metadata(self) def create_keypair(self, **attrs): """"""Create a new keypair from attributes :param dict attrs: Keyword arguments which will be used to create a :class:`~openstack.compute.v2.keypair.Keypair`, comprised of the properties on the Keypair class. :returns: The results of keypair creation :rtype: :class:`~openstack.compute.v2.keypair.Keypair` """""" return self._create(_keypair.Keypair, **attrs) def delete_keypair(self, keypair, ignore_missing=True, user_id=None): """"""Delete a keypair :param keypair: The value can be either the ID of a keypair or a :class:`~openstack.compute.v2.keypair.Keypair` instance. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the keypair does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent keypair. :param str user_id: Optional user_id owning the keypair :returns: ``None`` """""" attrs = {'user_id': user_id} if user_id else {} self._delete(_keypair.Keypair, keypair, ignore_missing=ignore_missing, **attrs) def get_keypair(self, keypair, user_id=None): """"""Get a single keypair :param keypair: The value can be the ID of a keypair or a :class:`~openstack.compute.v2.keypair.Keypair` instance. :param str user_id: Optional user_id owning the keypair :returns: One :class:`~openstack.compute.v2.keypair.Keypair` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" attrs = {'user_id': user_id} if user_id else {} return self._get(_keypair.Keypair, keypair, **attrs) def find_keypair(self, name_or_id, ignore_missing=True, user_id=None): """"""Find a single keypair :param name_or_id: The name or ID of a keypair. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. :param str user_id: Optional user_id owning the keypair :returns: One :class:`~openstack.compute.v2.keypair.Keypair` or None """""" attrs = {'user_id': user_id} if user_id else {} return self._find(_keypair.Keypair, name_or_id, ignore_missing=ignore_missing, **attrs) def keypairs(self, **query): """"""Return a generator of keypairs :param kwargs query: Optional query parameters to be sent to limit the resources being returned. :returns: A generator of keypair objects :rtype: :class:`~openstack.compute.v2.keypair.Keypair` """""" return self._list(_keypair.Keypair, **query) def get_limits(self): """"""Retrieve limits that are applied to the project's account :returns: A Limits object, including both :class:`~openstack.compute.v2.limits.AbsoluteLimits` and :class:`~openstack.compute.v2.limits.RateLimits` :rtype: :class:`~openstack.compute.v2.limits.Limits` """""" return self._get(limits.Limits) def create_server(self, **attrs): """"""Create a new server from attributes :param dict attrs: Keyword arguments which will be used to create a :class:`~openstack.compute.v2.server.Server`, comprised of the properties on the Server class. :returns: The results of server creation :rtype: :class:`~openstack.compute.v2.server.Server` """""" return self._create(_server.Server, **attrs) def delete_server(self, server, ignore_missing=True, force=False): """"""Delete a server :param server: The value can be either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the server does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent server :param bool force: When set to ``True``, the server deletion will be forced immediately. :returns: ``None`` """""" if force: server = self._get_resource(_server.Server, server) server.force_delete(self) else: self._delete(_server.Server, server, ignore_missing=ignore_missing) def find_server(self, name_or_id, ignore_missing=True): """"""Find a single server :param name_or_id: The name or ID of a server. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. :returns: One :class:`~openstack.compute.v2.server.Server` or None """""" return self._find(_server.Server, name_or_id, ignore_missing=ignore_missing) def get_server(self, server): """"""Get a single server :param server: The value can be the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: One :class:`~openstack.compute.v2.server.Server` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" return self._get(_server.Server, server) def servers(self, details=True, all_projects=False, **query): """"""Retrieve a generator of servers :param bool details: When set to ``False`` instances with only basic data will be returned. The default, ``True``, will cause instances with full data to be returned. :param kwargs query: Optional query parameters to be sent to limit the servers being returned. Available parameters can be seen under https://docs.openstack.org/api-ref/compute/#list-servers :returns: A generator of server instances. """""" if all_projects: query['all_projects'] = True base_path = '/servers/detail' if details else None return self._list(_server.Server, base_path=base_path, **query) def update_server(self, server, **attrs): """"""Update a server :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :attrs kwargs: The attributes to update on the server represented by ``server``. :returns: The updated server :rtype: :class:`~openstack.compute.v2.server.Server` """""" return self._update(_server.Server, server, **attrs) def change_server_password(self, server, new_password): """"""Change the administrator password :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param str new_password: The new password to be set. :returns: None """""" server = self._get_resource(_server.Server, server) server.change_password(self, new_password) def get_server_password(self, server): """"""Get the administrator password :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: encrypted password. """""" server = self._get_resource(_server.Server, server) return server.get_password(self) def reset_server_state(self, server, state): """"""Reset the state of server :param server: The server can be either the ID of a server or a :class:`~openstack.compute.v2.server.Server`. :param state: The state of the server to be set, `active` or `error` are valid. :returns: None """""" res = self._get_base_resource(server, _server.Server) res.reset_state(self, state) def reboot_server(self, server, reboot_type): """"""Reboot a server :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param str reboot_type: The type of reboot to perform. ""HARD"" and ""SOFT"" are the current options. :returns: None """""" server = self._get_resource(_server.Server, server) server.reboot(self, reboot_type) def rebuild_server(self, server, name, admin_password, **attrs): """"""Rebuild a server :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param str name: The name of the server :param str admin_password: The administrator password :param bool preserve_ephemeral: Indicates whether the server is rebuilt with the preservation of the ephemeral partition. *Default: False* :param str image: The id of an image to rebuild with. *Default: None* :param str access_ipv4: The IPv4 address to rebuild with. *Default: None* :param str access_ipv6: The IPv6 address to rebuild with. *Default: None* :param dict metadata: A dictionary of metadata to rebuild with. *Default: None* :param personality: A list of dictionaries, each including a **path** and **contents** key, to be injected into the rebuilt server at launch. *Default: None* :returns: The rebuilt :class:`~openstack.compute.v2.server.Server` instance. """""" server = self._get_resource(_server.Server, server) return server.rebuild(self, name, admin_password, **attrs) def resize_server(self, server, flavor): """"""Resize a server :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param flavor: Either the ID of a flavor or a :class:`~openstack.compute.v2.flavor.Flavor` instance. :returns: None """""" server = self._get_resource(_server.Server, server) flavor_id = resource.Resource._get_id(flavor) server.resize(self, flavor_id) def confirm_server_resize(self, server): """"""Confirm a server resize :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.confirm_resize(self) def revert_server_resize(self, server): """"""Revert a server resize :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.revert_resize(self) def create_server_image(self, server, name, metadata=None, wait=False, timeout=120): """"""Create an image from a server :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param str name: The name of the image to be created. :param dict metadata: A dictionary of metadata to be set on the image. :returns: :class:`~openstack.image.v2.image.Image` object. """""" server = self._get_resource(_server.Server, server) image_id = server.create_image(self, name, metadata) self._connection.list_images.invalidate(self) image = self._connection.get_image(image_id) if not wait: return image return self._connection.wait_for_image(image, timeout=timeout) def fetch_server_security_groups(self, server): """"""Fetch security groups with details for a server. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: updated :class:`~openstack.compute.v2.server.Server` instance """""" server = self._get_resource(_server.Server, server) return server.fetch_security_groups(self) def add_security_group_to_server(self, server, security_group): """"""Add a security group to a server :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param security_group: Either the ID, Name of a security group or a :class:`~openstack.network.v2.security_group.SecurityGroup` instance. :returns: None """""" server = self._get_resource(_server.Server, server) security_group = self._get_resource(_sg.SecurityGroup, security_group) server.add_security_group(self, security_group.name) def remove_security_group_from_server(self, server, security_group): """"""Remove a security group from a server :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param security_group: Either the ID of a security group or a :class:`~openstack.network.v2.security_group.SecurityGroup` instance. :returns: None """""" server = self._get_resource(_server.Server, server) security_group = self._get_resource(_sg.SecurityGroup, security_group) server.remove_security_group(self, security_group.name) def add_fixed_ip_to_server(self, server, network_id): """"""Adds a fixed IP address to a server instance. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param network_id: The ID of the network from which a fixed IP address is about to be allocated. :returns: None """""" server = self._get_resource(_server.Server, server) server.add_fixed_ip(self, network_id) def remove_fixed_ip_from_server(self, server, address): """"""Removes a fixed IP address from a server instance. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param address: The fixed IP address to be disassociated from the server. :returns: None """""" server = self._get_resource(_server.Server, server) server.remove_fixed_ip(self, address) def add_floating_ip_to_server(self, server, address, fixed_address=None): """"""Adds a floating IP address to a server instance. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param address: The floating IP address to be added to the server. :param fixed_address: The fixed IP address to be associated with the floating IP address. Used when the server is connected to multiple networks. :returns: None """""" server = self._get_resource(_server.Server, server) server.add_floating_ip(self, address, fixed_address=fixed_address) def remove_floating_ip_from_server(self, server, address): """"""Removes a floating IP address from a server instance. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param address: The floating IP address to be disassociated from the server. :returns: None """""" server = self._get_resource(_server.Server, server) server.remove_floating_ip(self, address) def backup_server(self, server, name, backup_type, rotation): """"""Backup a server :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param name: The name of the backup image. :param backup_type: The type of the backup, for example, daily. :param rotation: The rotation of the back up image, the oldest image will be removed when image count exceed the rotation count. :returns: None """""" server = self._get_resource(_server.Server, server) server.backup(self, name, backup_type, rotation) def pause_server(self, server): """"""Pauses a server and changes its status to ``PAUSED``. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.pause(self) def unpause_server(self, server): """"""Unpauses a paused server and changes its status to ``ACTIVE``. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.unpause(self) def suspend_server(self, server): """"""Suspends a server and changes its status to ``SUSPENDED``. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.suspend(self) def resume_server(self, server): """"""Resumes a suspended server and changes its status to ``ACTIVE``. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.resume(self) def lock_server(self, server): """"""Locks a server. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.lock(self) def unlock_server(self, server): """"""Unlocks a locked server. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.unlock(self) def rescue_server(self, server, admin_pass=None, image_ref=None): """"""Puts a server in rescue mode and changes it status to ``RESCUE``. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param admin_pass: The password for the rescued server. If you omit this parameter, the operation generates a new password. :param image_ref: The image reference to use to rescue your server. This can be the image ID or its full URL. If you omit this parameter, the base image reference will be used. :returns: None """""" server = self._get_resource(_server.Server, server) server.rescue(self, admin_pass=admin_pass, image_ref=image_ref) def unrescue_server(self, server): """"""Unrescues a server and changes its status to ``ACTIVE``. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.unrescue(self) def evacuate_server(self, server, host=None, admin_pass=None, force=None): """"""Evacuates a server from a failed host to a new host. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param host: An optional parameter specifying the name or ID of the host to which the server is evacuated. :param admin_pass: An optional parameter specifying the administrative password to access the evacuated or rebuilt server. :param force: Force an evacuation by not verifying the provided destination host by the scheduler. (New in API version 2.29). :returns: None """""" server = self._get_resource(_server.Server, server) server.evacuate(self, host=host, admin_pass=admin_pass, force=force) def start_server(self, server): """"""Starts a stopped server and changes its state to ``ACTIVE``. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.start(self) def stop_server(self, server): """"""Stops a running server and changes its state to ``SHUTOFF``. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.stop(self) def shelve_server(self, server): """"""Shelves a server. All associated data and resources are kept but anything still in memory is not retained. Policy defaults enable only users with administrative role or the owner of the server to perform this operation. Cloud provides could change this permission though. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.shelve(self) def unshelve_server(self, server): """"""Unselves or restores a shelved server. Policy defaults enable only users with administrative role or the owner of the server to perform this operation. Cloud provides could change this permission though. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.unshelve(self) def get_server_console_output(self, server, length=None): """"""Return the console output for a server. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param length: Optional number of line to fetch from the end of console log. All lines will be returned if this is not specified. :returns: The console output as a dict. Control characters will be escaped to create a valid JSON string. """""" server = self._get_resource(_server.Server, server) return server.get_console_output(self, length=length) def wait_for_server(self, server, status='ACTIVE', failures=None, interval=2, wait=120): """"""Wait for a server to be in a particular status. :param server: The :class:`~openstack.compute.v2.server.Server` to wait on to reach the specified status. :type server: :class:`~openstack.compute.v2.server.Server`: :param status: Desired status. :param failures: Statuses that would be interpreted as failures. :type failures: :py:class:`list` :param int interval: Number of seconds to wait before to consecutive checks. Default to 2. :param int wait: Maximum number of seconds to wait before the change. Default to 120. :returns: The resource is returned on success. :raises: :class:`~openstack.exceptions.ResourceTimeout` if transition to the desired status failed to occur in specified seconds. :raises: :class:`~openstack.exceptions.ResourceFailure` if the resource has transited to one of the failure statuses. :raises: :class:`~AttributeError` if the resource does not have a ``status`` attribute. """""" failures = ['ERROR'] if failures is None else failures return resource.wait_for_status( self, server, status, failures, interval, wait) def create_server_interface(self, server, **attrs): """"""Create a new server interface from attributes :param server: The server can be either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance that the interface belongs to. :param dict attrs: Keyword arguments which will be used to create a :class:`~openstack.compute.v2.server_interface.ServerInterface`, comprised of the properties on the ServerInterface class. :returns: The results of server interface creation :rtype: :class:`~openstack.compute.v2.server_interface.ServerInterface` """""" server_id = resource.Resource._get_id(server) return self._create(_server_interface.ServerInterface, server_id=server_id, **attrs) # TODO(stephenfin): Does this work? There's no 'value' parameter for the # call to '_delete' def delete_server_interface(self, server_interface, server=None, ignore_missing=True): """"""Delete a server interface :param server_interface: The value can be either the ID of a server interface or a :class:`~openstack.compute.v2.server_interface.ServerInterface` instance. :param server: This parameter need to be specified when ServerInterface ID is given as value. It can be either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance that the interface belongs to. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the server interface does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent server interface. :returns: ``None`` """""" server_id = self._get_uri_attribute(server_interface, server, ""server_id"") server_interface = resource.Resource._get_id(server_interface) self._delete(_server_interface.ServerInterface, server_interface, server_id=server_id, ignore_missing=ignore_missing) def get_server_interface(self, server_interface, server=None): """"""Get a single server interface :param server_interface: The value can be the ID of a server interface or a :class:`~openstack.compute.v2.server_interface.ServerInterface` instance. :param server: This parameter need to be specified when ServerInterface ID is given as value. It can be either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance that the interface belongs to. :returns: One :class:`~openstack.compute.v2.server_interface.ServerInterface` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" server_id = self._get_uri_attribute(server_interface, server, ""server_id"") server_interface = resource.Resource._get_id(server_interface) return self._get(_server_interface.ServerInterface, server_id=server_id, port_id=server_interface) def server_interfaces(self, server, **query): """"""Return a generator of server interfaces :param server: The server can be either the ID of a server or a :class:`~openstack.compute.v2.server.Server`. :param query: Optional query parameters to be sent to limit the resources being returned. :returns: A generator of ServerInterface objects :rtype: :class:`~openstack.compute.v2.server_interface.ServerInterface` """""" server_id = resource.Resource._get_id(server) return self._list(_server_interface.ServerInterface, server_id=server_id, **query) def server_ips(self, server, network_label=None): """"""Return a generator of server IPs :param server: The server can be either the ID of a server or a :class:`~openstack.compute.v2.server.Server`. :param network_label: The name of a particular network to list IP addresses from. :returns: A generator of ServerIP objects :rtype: :class:`~openstack.compute.v2.server_ip.ServerIP` """""" server_id = resource.Resource._get_id(server) return self._list(server_ip.ServerIP, server_id=server_id, network_label=network_label) def availability_zones(self, details=False): """"""Return a generator of availability zones :param bool details: Return extra details about the availability zones. This defaults to `False` as it generally requires extra permission. :returns: A generator of availability zone :rtype: :class:`~openstack.compute.v2.availability_zone.\ AvailabilityZone` """""" base_path = '/os-availability-zone/detail' if details else None return self._list( availability_zone.AvailabilityZone, base_path=base_path) def get_server_metadata(self, server): """"""Return a dictionary of metadata for a server :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` or :class:`~openstack.compute.v2.server.ServerDetail` instance. :returns: A :class:`~openstack.compute.v2.server.Server` with the server's metadata. All keys and values are Unicode text. :rtype: :class:`~openstack.compute.v2.server.Server` """""" res = self._get_base_resource(server, _server.Server) return res.fetch_metadata(self) def set_server_metadata(self, server, **metadata): """"""Update metadata for a server :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param kwargs metadata: Key/value pairs to be updated in the server's metadata. No other metadata is modified by this call. All keys and values are stored as Unicode. :returns: A :class:`~openstack.compute.v2.server.Server` with only the server's metadata. All keys and values are Unicode text. :rtype: :class:`~openstack.compute.v2.server.Server` """""" res = self._get_base_resource(server, _server.Server) return res.set_metadata(self, metadata=metadata) def delete_server_metadata(self, server, keys=None): """"""Delete metadata for a server Note: This method will do a HTTP DELETE request for every key in keys. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param list keys: The keys to delete. If left empty complete metadata will be removed. :rtype: ``None`` """""" res = self._get_base_resource(server, _server.Server) if keys is not None: # Create a set as a snapshot of keys to avoid ""changed during # iteration"" for key in set(keys): res.delete_metadata_item(self, key) else: res.delete_metadata(self) def create_server_group(self, **attrs): """"""Create a new server group from attributes :param dict attrs: Keyword arguments which will be used to create a :class:`~openstack.compute.v2.server_group.ServerGroup`, comprised of the properties on the ServerGroup class. :returns: The results of server group creation :rtype: :class:`~openstack.compute.v2.server_group.ServerGroup` """""" return self._create(_server_group.ServerGroup, **attrs) def delete_server_group(self, server_group, ignore_missing=True): """"""Delete a server group :param server_group: The value can be either the ID of a server group or a :class:`~openstack.compute.v2.server_group.ServerGroup` instance. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the server group does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent server group. :returns: ``None`` """""" self._delete(_server_group.ServerGroup, server_group, ignore_missing=ignore_missing) def find_server_group(self, name_or_id, ignore_missing=True): """"""Find a single server group :param name_or_id: The name or ID of a server group. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. :returns: One :class:`~openstack.compute.v2.server_group.ServerGroup` object or None """""" return self._find(_server_group.ServerGroup, name_or_id, ignore_missing=ignore_missing) def get_server_group(self, server_group): """"""Get a single server group :param server_group: The value can be the ID of a server group or a :class:`~openstack.compute.v2.server_group.ServerGroup` instance. :returns: A :class:`~openstack.compute.v2.server_group.ServerGroup` object. :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" return self._get(_server_group.ServerGroup, server_group) def server_groups(self, **query): """"""Return a generator of server groups :param kwargs query: Optional query parameters to be sent to limit the resources being returned. :returns: A generator of ServerGroup objects :rtype: :class:`~openstack.compute.v2.server_group.ServerGroup` """""" return self._list(_server_group.ServerGroup, **query) # ========== Hypervisors ========== def hypervisors(self, details=False, **query): """"""Return a generator of hypervisor :param bool details: When set to the default, ``False``, :class:`~openstack.compute.v2.hypervisor.Hypervisor` instances will be returned with only basic information populated. :param kwargs query: Optional query parameters to be sent to limit the resources being returned. :returns: A generator of hypervisor :rtype: class: `~openstack.compute.v2.hypervisor.Hypervisor` """""" base_path = '/os-hypervisors/detail' if details else None if ( 'hypervisor_hostname_pattern' in query and not utils.supports_microversion(self, '2.53') ): # Until 2.53 we need to use other API base_path = '/os-hypervisors/{pattern}/search'.format( pattern=query.pop('hypervisor_hostname_pattern')) return self._list(_hypervisor.Hypervisor, base_path=base_path, **query) def find_hypervisor(self, name_or_id, ignore_missing=True, details=True): """"""Find a hypervisor from name or id to get the corresponding info :param name_or_id: The name or id of a hypervisor :returns: One: class:`~openstack.compute.v2.hypervisor.Hypervisor` object or None """""" list_base_path = '/os-hypervisors/detail' if details else None return self._find(_hypervisor.Hypervisor, name_or_id, list_base_path=list_base_path, ignore_missing=ignore_missing) def get_hypervisor(self, hypervisor): """"""Get a single hypervisor :param hypervisor: The value can be the ID of a hypervisor or a :class:`~openstack.compute.v2.hypervisor.Hypervisor` instance. :returns: A :class:`~openstack.compute.v2.hypervisor.Hypervisor` object. :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" return self._get(_hypervisor.Hypervisor, hypervisor) def get_hypervisor_uptime(self, hypervisor): """"""Get uptime information for hypervisor :param hypervisor: The value can be the ID of a hypervisor or a :class:`~openstack.compute.v2.hypervisor.Hypervisor` instance. :returns: A :class:`~openstack.compute.v2.hypervisor.Hypervisor` object. :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" hypervisor = self._get_resource(_hypervisor.Hypervisor, hypervisor) return hypervisor.get_uptime(self) # ========== Services ========== def update_service_forced_down( self, service, host=None, binary=None, forced=True ): """"""Update service forced_down information :param service: Either the ID of a service or a :class:`~openstack.compute.v2.service.Service` instance. :param str host: The host where service runs. :param str binary: The name of service. :param bool forced: Whether or not this service was forced down manually by an administrator after the service was fenced. :returns: Updated service instance :rtype: class: `~openstack.compute.v2.service.Service` """""" if utils.supports_microversion(self, '2.53'): return self.update_service( service, forced_down=forced) service = self._get_resource(_service.Service, service) if ( (not host or not binary) and (not service.host or not service.binary) ): raise ValueError( 'Either service instance should have host and binary ' 'or they should be passed') service.set_forced_down(self, host, binary, forced) force_service_down = update_service_forced_down def disable_service( self, service, host=None, binary=None, disabled_reason=None ): """"""Disable a service :param service: Either the ID of a service or a :class:`~openstack.compute.v2.service.Service` instance. :param str host: The host where service runs. :param str binary: The name of service. :param str disabled_reason: The reason of force down a service. :returns: Updated service instance :rtype: class: `~openstack.compute.v2.service.Service` """""" if utils.supports_microversion(self, '2.53'): attrs = { 'status': 'disabled' } if disabled_reason: attrs['disabled_reason'] = disabled_reason return self.update_service( service, **attrs) service = self._get_resource(_service.Service, service) return service.disable( self, host, binary, disabled_reason) def enable_service(self, service, host=None, binary=None): """"""Enable a service :param service: Either the ID of a service or a :class:`~openstack.compute.v2.service.Service` instance. :param str host: The host where service runs. :param str binary: The name of service. :returns: Updated service instance :rtype: class: `~openstack.compute.v2.service.Service` """""" if utils.supports_microversion(self, '2.53'): return self.update_service( service, status='enabled') service = self._get_resource(_service.Service, service) return service.enable(self, host, binary) def services(self, **query): """"""Return a generator of service :params dict query: Query parameters :returns: A generator of service :rtype: class: `~openstack.compute.v2.service.Service` """""" return self._list(_service.Service, **query) def find_service(self, name_or_id, ignore_missing=True, **attrs): """"""Find a service from name or id to get the corresponding info :param name_or_id: The name or id of a service :param dict attrs: Additional attributes like 'host' :returns: One: class:`~openstack.compute.v2.hypervisor.Hypervisor` object or None """""" return self._find(_service.Service, name_or_id, ignore_missing=ignore_missing, **attrs) def delete_service(self, service, ignore_missing=True): """"""Delete a service :param service: The value can be either the ID of a service or a :class:`~openstack.compute.v2.service.Service` instance. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the volume attachment does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent volume attachment. :returns: ``None`` """""" self._delete( _service.Service, service, ignore_missing=ignore_missing) def update_service(self, service, **attrs): """"""Update a service :param server: Either the ID of a service or a :class:`~openstack.compute.v2.service.Service` instance. :attrs kwargs: The attributes to update on the service represented by ``service``. :returns: The updated service :rtype: :class:`~openstack.compute.v2.service.Service` """""" if utils.supports_microversion(self, '2.53'): return self._update(_service.Service, service, **attrs) raise exceptions.SDKException( 'Method require at least microversion 2.53' ) def create_volume_attachment(self, server, **attrs): """"""Create a new volume attachment from attributes :param server: The server can be either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param dict attrs: Keyword arguments which will be used to create a :class:`~openstack.compute.v2.volume_attachment.VolumeAttachment`, comprised of the properties on the VolumeAttachment class. :returns: The results of volume attachment creation :rtype: :class:`~openstack.compute.v2.volume_attachment.VolumeAttachment` """""" server_id = resource.Resource._get_id(server) return self._create(_volume_attachment.VolumeAttachment, server_id=server_id, **attrs) def update_volume_attachment(self, volume_attachment, server, **attrs): """"""update a volume attachment :param volume_attachment: The value can be either the ID of a volume attachment or a :class:`~openstack.compute.v2.volume_attachment.VolumeAttachment` instance. :param server: This parameter need to be specified when VolumeAttachment ID is given as value. It can be either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance that the attachment belongs to. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the volume attachment does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent volume attachment. :returns: ``None`` """""" server_id = self._get_uri_attribute(volume_attachment, server, ""server_id"") volume_attachment = resource.Resource._get_id(volume_attachment) return self._update(_volume_attachment.VolumeAttachment, attachment_id=volume_attachment, server_id=server_id) def delete_volume_attachment(self, volume_attachment, server, ignore_missing=True): """"""Delete a volume attachment :param volume_attachment: The value can be either the ID of a volume attachment or a :class:`~openstack.compute.v2.volume_attachment.VolumeAttachment` instance. :param server: This parameter need to be specified when VolumeAttachment ID is given as value. It can be either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance that the attachment belongs to. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the volume attachment does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent volume attachment. :returns: ``None`` """""" server_id = self._get_uri_attribute(volume_attachment, server, ""server_id"") volume_attachment = resource.Resource._get_id(volume_attachment) self._delete(_volume_attachment.VolumeAttachment, attachment_id=volume_attachment, server_id=server_id, ignore_missing=ignore_missing) def get_volume_attachment(self, volume_attachment, server, ignore_missing=True): """"""Get a single volume attachment :param volume_attachment: The value can be the ID of a volume attachment or a :class:`~openstack.compute.v2.volume_attachment.VolumeAttachment` instance. :param server: This parameter need to be specified when VolumeAttachment ID is given as value. It can be either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance that the attachment belongs to. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the volume attachment does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent volume attachment. :returns: One :class:`~openstack.compute.v2.volume_attachment.VolumeAttachment` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" server_id = self._get_uri_attribute(volume_attachment, server, ""server_id"") volume_attachment = resource.Resource._get_id(volume_attachment) return self._get(_volume_attachment.VolumeAttachment, server_id=server_id, attachment_id=volume_attachment, ignore_missing=ignore_missing) def volume_attachments(self, server): """"""Return a generator of volume attachments :param server: The server can be either the ID of a server or a :class:`~openstack.compute.v2.server.Server`. :returns: A generator of VolumeAttachment objects :rtype: :class:`~openstack.compute.v2.volume_attachment.VolumeAttachment` """""" server_id = resource.Resource._get_id(server) return self._list(_volume_attachment.VolumeAttachment, server_id=server_id) def migrate_server(self, server): """"""Migrate a server from one host to another :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.migrate(self) def live_migrate_server( self, server, host=None, force=False, block_migration=None): """"""Live migrate a server from one host to target host :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param str host: The host to which to migrate the server. If the Nova service is too old, the host parameter implies force=True which causes the Nova scheduler to be bypassed. On such clouds, a ``ValueError`` will be thrown if ``host`` is given without ``force``. :param bool force: Force a live-migration by not verifying the provided destination host by the scheduler. This is unsafe and not recommended. :param block_migration: Perform a block live migration to the destination host by the scheduler. Can be 'auto', True or False. Some clouds are too old to support 'auto', in which case a ValueError will be thrown. If omitted, the value will be 'auto' on clouds that support it, and False on clouds that do not. :returns: None """""" server = self._get_resource(_server.Server, server) server.live_migrate( self, host, force=force, block_migration=block_migration) def wait_for_delete(self, res, interval=2, wait=120): """"""Wait for a resource to be deleted. :param res: The resource to wait on to be deleted. :type resource: A :class:`~openstack.resource.Resource` object. :param interval: Number of seconds to wait before to consecutive checks. Default to 2. :param wait: Maximum number of seconds to wait before the change. Default to 120. :returns: The resource is returned on success. :raises: :class:`~openstack.exceptions.ResourceTimeout` if transition to delete failed to occur in the specified seconds. """""" return resource.wait_for_delete(self, res, interval, wait) def get_server_diagnostics(self, server): """"""Get a single server diagnostics :param server: This parameter need to be specified when ServerInterface ID is given as value. It can be either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance that the interface belongs to. :returns: One :class:`~openstack.compute.v2.server_diagnostics.ServerDiagnostics` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" server_id = self._get_resource(_server.Server, server).id return self._get(_server_diagnostics.ServerDiagnostics, server_id=server_id, requires_id=False) def create_server_remote_console(self, server, **attrs): """"""Create a remote console on the server. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: One :class:`~openstack.compute.v2.server_remote_console. ServerRemoteConsole` """""" server_id = resource.Resource._get_id(server) return self._create(_src.ServerRemoteConsole, server_id=server_id, **attrs) def get_server_console_url(self, server, console_type): """"""Create a remote console on the server. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param console_type: Type of the console connection. :returns: Dictionary with console type and url """""" server = self._get_resource(_server.Server, server) return server.get_console_url(self, console_type) def create_console(self, server, console_type, console_protocol=None): """"""Create a remote console on the server. When microversion supported is higher then 2.6 remote console is created, otherwise deprecated call to get server console is issued. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param console_type: Type of the remote console. Supported values as: * novnc * spice-html5 * rdp-html5 * serial * webmks (supported after 2.8) :param console_protocol: Optional console protocol (is respected only after microversion 2.6). :returns: Dictionary with console type, url and optionally protocol. """""" server = self._get_resource(_server.Server, server) # NOTE: novaclient supports undocumented type xcpvnc also supported # historically by OSC. We support it, but do not document either. if utils.supports_microversion(self, '2.6'): console = self._create( _src.ServerRemoteConsole, server_id=server.id, type=console_type, protocol=console_protocol) return console.to_dict() else: return server.get_console_url(self, console_type) def get_quota_set(self, project, usage=False, **query): """"""Show QuotaSet information for the project :param project: ID or instance of :class:`~openstack.identity.project.Project` of the project for which the quota should be retrieved :param bool usage: When set to ``True`` quota usage and reservations would be filled. :param dict query: Additional query parameters to use. :returns: One :class:`~openstack.compute.v2.quota_set.QuotaSet` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" project = self._get_resource(_project.Project, project) res = self._get_resource( _quota_set.QuotaSet, None, project_id=project.id) return res.fetch( self, usage=usage, **query) def get_quota_set_defaults(self, project): """"""Show QuotaSet defaults for the project :param project: ID or instance of :class:`~openstack.identity.project.Project` of the project for which the quota should be retrieved :returns: One :class:`~openstack.compute.v2.quota_set.QuotaSet` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" project = self._get_resource(_project.Project, project) res = self._get_resource( _quota_set.QuotaSet, None, project_id=project.id) return res.fetch( self, base_path='/os-quota-sets/defaults') def revert_quota_set(self, project, **query): """"""Reset Quota for the project/user. :param project: ID or instance of :class:`~openstack.identity.project.Project` of the project for which the quota should be resetted. :param dict query: Additional parameters to be used. :returns: ``None`` """""" project = self._get_resource(_project.Project, project) res = self._get_resource( _quota_set.QuotaSet, None, project_id=project.id) return res.delete(self, **query) def update_quota_set(self, quota_set, query=None, **attrs): """"""Update a QuotaSet. :param quota_set: Either the ID of a quota_set or a :class:`~openstack.compute.v2.quota_set.QuotaSet` instance. :param dict query: Optional parameters to be used with update call. :attrs kwargs: The attributes to update on the QuotaSet represented by ``quota_set``. :returns: The updated QuotaSet :rtype: :class:`~openstack.compute.v2.quota_set.QuotaSet` """""" res = self._get_resource(_quota_set.QuotaSet, quota_set, **attrs) return res.commit(self, **query) def _get_cleanup_dependencies(self): return { 'compute': { 'before': ['block_storage', 'network', 'identity'] } } def _service_cleanup(self, dry_run=True, client_status_queue=None, identified_resources=None, filters=None, resource_evaluation_fn=None): servers = [] for obj in self.servers(): need_delete = self._service_cleanup_del_res( self.delete_server, obj, dry_run=dry_run, client_status_queue=client_status_queue, identified_resources=identified_resources, filters=filters, resource_evaluation_fn=resource_evaluation_fn) if not dry_run and need_delete: # In the dry run we identified, that server will go. To propely # identify consequences we need to tell others, that the port # will disappear as well for port in self._connection.network.ports(device_id=obj.id): identified_resources[port.id] = port servers.append(obj) # We actually need to wait for servers to really disappear, since they # might be still holding ports on the subnet for server in servers: self.wait_for_delete(server) ",,1928,0
openstack%2Fnova~master~Ide3673ade3cb98832482e09a716a3f6795373df0,openstack/nova,master,Ide3673ade3cb98832482e09a716a3f6795373df0,[WIP] Add extra tests for pinning with partial siblings,NEW,2021-11-04 22:07:34.000000000,2021-11-05 06:45:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-04 22:07:34.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4f6622d9e4599d8b65760748015715d614d5e7c7', 'message': '[WIP] Add extra tests for pinning with partial siblings\n\nThis patch add addtional testcase to corver configuration\nwhere on a host with hyperthreading only one of each thread\nsibling pair is added to the cpu_dedicated set.\n\nThis patch also demonstates that we do not currently block\ntread siblings sharing between the cpu_shared_set and\ncpu_dedicated_set. This is a bug that should be fix in\na later patch.\n\nChange-Id: Ide3673ade3cb98832482e09a716a3f6795373df0\n'}]",0,816758,4f6622d9e4599d8b65760748015715d614d5e7c7,5,1,1,11604,,,0,"[WIP] Add extra tests for pinning with partial siblings

This patch add addtional testcase to corver configuration
where on a host with hyperthreading only one of each thread
sibling pair is added to the cpu_dedicated set.

This patch also demonstates that we do not currently block
tread siblings sharing between the cpu_shared_set and
cpu_dedicated_set. This is a bug that should be fix in
a later patch.

Change-Id: Ide3673ade3cb98832482e09a716a3f6795373df0
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/816758/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,4f6622d9e4599d8b65760748015715d614d5e7c7,cpu_pinnig_with_partial_thread_siblings," def test_create_server_with_dedicated_policy_partial_siblings_even(self): """"""Create a server using the 'hw:cpu_policy=dedicated' extra spec. This should pass and result in a guest NUMA topology with pinned CPUs. """""" self.flags(cpu_dedicated_set='0,2,4,6,8', cpu_shared_set=None, group='compute') self.flags(vcpu_pin_set=None) host_info = fakelibvirt.HostInfo(cpu_nodes=1, cpu_sockets=1, cpu_cores=5, cpu_threads=2) self.start_compute(host_info=host_info, hostname='compute1') extra_spec = { 'hw:cpu_policy': 'dedicated', 'hw:cpu_thread_policy': 'prefer', } flavor_id = self._create_flavor(vcpu=4, extra_spec=extra_spec) expected_usage = { 'DISK_GB': 20, 'MEMORY_MB': 2048, 'PCPU': 4, } server = self._run_build_test(flavor_id, expected_usage=expected_usage) inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) self.assertEqual(1, len(inst.numa_topology.cells)) self.assertEqual( {0, 2, 4, 6}, set(inst.numa_topology.cells[0].cpu_pinning_raw.values())) def test_create_server_with_dedicated_policy_partial_siblings_odd(self): """"""Create a server using the 'hw:cpu_policy=dedicated' extra spec. This should pass and result in a guest NUMA topology with pinned CPUs. """""" self.flags(cpu_dedicated_set='0,2,4,6,8', cpu_shared_set=None, group='compute') self.flags(vcpu_pin_set=None) host_info = fakelibvirt.HostInfo(cpu_nodes=1, cpu_sockets=1, cpu_cores=5, cpu_threads=2) self.start_compute(host_info=host_info, hostname='compute1') extra_spec = { 'hw:cpu_policy': 'dedicated', 'hw:cpu_thread_policy': 'prefer', } flavor_id = self._create_flavor(vcpu=5, extra_spec=extra_spec) expected_usage = { 'DISK_GB': 20, 'MEMORY_MB': 2048, 'PCPU': 5, } server = self._run_build_test(flavor_id, expected_usage=expected_usage) inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) self.assertEqual(1, len(inst.numa_topology.cells)) self.assertEqual( {0, 2, 4, 6, 8}, set(inst.numa_topology.cells[0].cpu_pinning_raw.values())) def test_create_with_dedicated_policy_partial_siblings_require_fails(self): """"""Create a server using the 'hw:cpu_policy=dedicated' extra spec. This should fail as it requires thread siblings but only one thread sibling is enabled per core in the cpu_dedicated_set. """""" self.flags(cpu_dedicated_set='0,2,4,6,8', cpu_shared_set=None, group='compute') self.flags(vcpu_pin_set=None) host_info = fakelibvirt.HostInfo(cpu_nodes=1, cpu_sockets=1, cpu_cores=5, cpu_threads=2) self.start_compute(host_info=host_info, hostname='compute1') extra_spec = { 'hw:cpu_policy': 'dedicated', 'hw:cpu_thread_policy': 'require', } flavor_id = self._create_flavor(vcpu=4, extra_spec=extra_spec) self._run_build_test(flavor_id, end_status='ERROR') def test_create_with_dedicated_policy_partial_siblings_and_share_set(self): """"""Create a server using the 'hw:cpu_policy=dedicated' extra spec. This should pass and result in a guest NUMA topology with pinned CPUs. """""" # FIXME(sean-k-mooney): this should fail when we start the compute # agent later. We do not allow an over lap between cores in the # cpu_shared_set and the cpu_dedicated_set but we are not currently # enforcing that thread siblings do not over lap this is a bug. self.flags(cpu_dedicated_set='0,2,4,6,8', cpu_shared_set='1,3,5,7,9', group='compute') self.flags(vcpu_pin_set=None) host_info = fakelibvirt.HostInfo(cpu_nodes=1, cpu_sockets=1, cpu_cores=5, cpu_threads=2) self.start_compute(host_info=host_info, hostname='compute1') extra_spec = { 'hw:cpu_policy': 'dedicated', 'hw:cpu_thread_policy': 'prefer', } flavor_id = self._create_flavor(vcpu=5, extra_spec=extra_spec) expected_usage = { 'DISK_GB': 20, 'MEMORY_MB': 2048, 'PCPU': 5, 'VCPU': 0 } server = self._run_build_test(flavor_id, expected_usage=expected_usage) inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) self.assertEqual(1, len(inst.numa_topology.cells)) self.assertEqual( {0, 2, 4, 6, 8}, set(inst.numa_topology.cells[0].cpu_pinning_raw.values())) ",,119,0
openstack%2Fskyline-console~master~I752a575142ca2844474291f2d8620a85566508b8,openstack/skyline-console,master,I752a575142ca2844474291f2d8620a85566508b8,Fix error on single-CPU machine,MERGED,2021-10-21 16:00:18.000000000,2021-11-05 05:35:04.000000000,2021-11-05 05:35:04.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}, {'_account_id': 33636}]","[{'number': 1, 'created': '2021-10-21 16:00:18.000000000', 'files': ['config/webpack.common.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/39e1f08496dd126a81b6d2b41ec26eab2df2f34f', 'message': ""Fix error on single-CPU machine\n\nHappyPack doesn't like 0 threads in config\n\nChange-Id: I752a575142ca2844474291f2d8620a85566508b8\n""}]",0,815027,39e1f08496dd126a81b6d2b41ec26eab2df2f34f,7,4,1,27838,,,0,"Fix error on single-CPU machine

HappyPack doesn't like 0 threads in config

Change-Id: I752a575142ca2844474291f2d8620a85566508b8
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/27/815027/1 && git format-patch -1 --stdout FETCH_HEAD,['config/webpack.common.js'],1,39e1f08496dd126a81b6d2b41ec26eab2df2f34f,single_cpu_fail," threads: os.cpus().length - 1 || 1,"," threads: os.cpus().length - 1,",1,1
openstack%2Fpython-ironicclient~master~Id79a88a1df0e641d951e46433ad9961376241cc2,openstack/python-ironicclient,master,Id79a88a1df0e641d951e46433ad9961376241cc2,Made `baremetal <command> --help` display command specific help.,MERGED,2021-10-31 12:14:14.000000000,2021-11-05 04:27:27.000000000,2021-11-05 04:25:56.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-10-31 12:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/162e169462d2479344324e06c35cc8178f337a32', 'message': 'Made `baremetal <command> --help` display command specific help.\n\n`baremental node show --help`\nshows the same command-specific help message as:\n`baremetal help node show`\n\nChange-Id: Id79a88a1df0e641d951e46433ad9961376241cc2\n'}, {'number': 2, 'created': '2021-11-02 06:20:32.000000000', 'files': ['ironicclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/47128126b01af32119cedc588f1b19f46a870328', 'message': 'Made `baremetal <command> --help` display command specific help.\n\n`baremental node show --help`\nshows the same command-specific help message as:\n`baremetal help node show`\n\nStory: 2009265\nTask: 43500\nChange-Id: Id79a88a1df0e641d951e46433ad9961376241cc2\n'}]",5,816098,47128126b01af32119cedc588f1b19f46a870328,13,3,2,34205,,,0,"Made `baremetal <command> --help` display command specific help.

`baremental node show --help`
shows the same command-specific help message as:
`baremetal help node show`

Story: 2009265
Task: 43500
Change-Id: Id79a88a1df0e641d951e46433ad9961376241cc2
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/98/816098/2 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/shell.py'],1,162e169462d2479344324e06c35cc8178f337a32,subcommand-help," command_manager=mgr, deferred_help=True)", command_manager=mgr),2,1
openstack%2Fskyline-console~master~I19c284e1f921361d8a8ca06d441b14db9cf3c5b0,openstack/skyline-console,master,I19c284e1f921361d8a8ca06d441b14db9cf3c5b0,Add irrelevant-files for skyline-console,MERGED,2021-11-04 10:12:12.000000000,2021-11-05 03:43:20.000000000,2021-11-05 03:43:20.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-11-04 10:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/81d896c9ec7158a0479e4e4acda1c20156641d9f', 'message': 'Add irrelevant-files for skyline-console\n\nAdd irrelevant-files for skyline-console so we can\nrun the really necessary e2e test instead of all\ne2e tests.\n\nChange-Id: I19c284e1f921361d8a8ca06d441b14db9cf3c5b0\n'}, {'number': 2, 'created': '2021-11-04 10:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/54347484e87e984aa4816c8d8261d95fbdcd9f90', 'message': 'Add irrelevant-files for skyline-console\n\nAdd irrelevant-files for skyline-console so we can\nrun the really necessary e2e test instead of all\ne2e tests.\n\nChange-Id: I19c284e1f921361d8a8ca06d441b14db9cf3c5b0\n'}, {'number': 3, 'created': '2021-11-04 10:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d4f204cf68ee777f7b24c1dd42951f4de2ccb7ee', 'message': 'Add irrelevant-files for skyline-console\n\nAdd irrelevant-files for skyline-console so we can\nrun the really necessary e2e test instead of all\ne2e tests.\n\nChange-Id: I19c284e1f921361d8a8ca06d441b14db9cf3c5b0\n'}, {'number': 4, 'created': '2021-11-05 02:32:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/bcea47f122b8fbe4d26e3cd9e0c28edcb85530d5', 'message': 'Add irrelevant-files for skyline-console\n\nAdd irrelevant-files for skyline-console so we can\nrun the really necessary e2e test instead of all\ne2e tests.\n\nChange-Id: I19c284e1f921361d8a8ca06d441b14db9cf3c5b0\n'}]",2,816636,bcea47f122b8fbe4d26e3cd9e0c28edcb85530d5,13,2,4,28706,,,0,"Add irrelevant-files for skyline-console

Add irrelevant-files for skyline-console so we can
run the really necessary e2e test instead of all
e2e tests.

Change-Id: I19c284e1f921361d8a8ca06d441b14db9cf3c5b0
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/36/816636/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,81d896c9ec7158a0479e4e4acda1c20156641d9f,, - skyline-console-devstack-e2etests-compute: irrelevant-files: &e2etests-compute-irrelevant-files # network - ^src/pages/network/.*$ - ^src/stores/neutron/.*$ - ^src/stores/octavia/.*$ # storage - ^src/pages/storage/.*$ - ^src/stores/cinder/.*$ # other - ^src/pages/auth/.*$ - ^src/pages/base/.*$ - ^src/pages/basic/.*$ - ^src/pages/configuration/.*$ - ^src/pages/heat/.*$ - ^src/pages/identity/.*$ - ^src/pages/management/.*$ - ^src/pages/user-center/.*$ - ^src/stores/heat/.*$ - ^src/stores/keystone/.*$ # no run - ^src/resources/.*$ - ^src/styles/.*$ - ^src/locales/.*$ - ^src/asset/.*$ # remove - ^.zuul.yaml$ - skyline-console-devstack-e2etests-network: irrelevant-files: &e2etests-network-irrelevant-files # compute - ^src/pages/compute/.*$ - ^src/stores/glance/.*$ - ^src/stores/ironic/.*$ - ^src/stores/nova/.*$ - ^src/stores/skyline/.*$ # storage - ^src/pages/storage/.*$ - ^src/stores/cinder/.*$ # other - ^src/pages/auth/.*$ - ^src/pages/base/.*$ - ^src/pages/basic/.*$ - ^src/pages/configuration/.*$ - ^src/pages/heat/.*$ - ^src/pages/identity/.*$ - ^src/pages/management/.*$ - ^src/pages/user-center/.*$ - ^src/stores/heat/.*$ - ^src/stores/keystone/.*$ # no run - ^src/resources/.*$ - ^src/styles/.*$ - ^src/locales/.*$ - ^src/asset/.*$ # remove - ^.zuul.yaml$ - skyline-console-devstack-e2etests-other: irrelevant-files: &e2etests-other-irrelevant-files # compute - ^src/pages/compute/.*$ - ^src/stores/glance/.*$ - ^src/stores/ironic/.*$ - ^src/stores/nova/.*$ - ^src/stores/skyline/.*$ # network - ^src/pages/network/.*$ - ^src/stores/neutron/.*$ - ^src/stores/octavia/.*$ # storage - ^src/pages/storage/.*$ - ^src/stores/cinder/.*$ # no run - ^src/resources/.*$ - ^src/styles/.*$ - ^src/locales/.*$ - ^src/asset/.*$ # remove - ^.zuul.yaml$ - skyline-console-devstack-e2etests-storage: irrelevant-files: &e2etests-storage-irrelevant-files # compute - ^src/pages/compute/.*$ - ^src/stores/glance/.*$ - ^src/stores/ironic/.*$ - ^src/stores/nova/.*$ - ^src/stores/skyline/.*$ # network - ^src/pages/network/.*$ - ^src/stores/neutron/.*$ - ^src/stores/octavia/.*$ # other - ^src/pages/auth/.*$ - ^src/pages/base/.*$ - ^src/pages/basic/.*$ - ^src/pages/configuration/.*$ - ^src/pages/heat/.*$ - ^src/pages/identity/.*$ - ^src/pages/management/.*$ - ^src/pages/user-center/.*$ - ^src/stores/heat/.*$ - ^src/stores/keystone/.*$ # no run - ^src/resources/.*$ - ^src/styles/.*$ - ^src/locales/.*$ - ^src/asset/.*$ # remove - ^.zuul.yaml$ - skyline-console-devstack-e2etests-compute: irrelevant-files: *e2etests-compute-irrelevant-files - skyline-console-devstack-e2etests-network: irrelevant-files: *e2etests-network-irrelevant-files - skyline-console-devstack-e2etests-other: irrelevant-files: *e2etests-other-irrelevant-files - skyline-console-devstack-e2etests-storage: irrelevant-files: *e2etests-storage-irrelevant-files, - skyline-console-devstack-e2etests-compute - skyline-console-devstack-e2etests-network - skyline-console-devstack-e2etests-other - skyline-console-devstack-e2etests-storage - skyline-console-devstack-e2etests-compute - skyline-console-devstack-e2etests-network - skyline-console-devstack-e2etests-other - skyline-console-devstack-e2etests-storage,116,8
openstack%2Ffreezer-tempest-plugin~master~Ic47b54ba66448b00e174dd62b0a0d0460e04d701,openstack/freezer-tempest-plugin,master,Ic47b54ba66448b00e174dd62b0a0d0460e04d701,Add stable/xena ci job,MERGED,2021-11-04 05:11:35.000000000,2021-11-05 03:39:49.000000000,2021-11-05 03:39:49.000000000,"[{'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 05:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/4adc052ab35c2c489534057c546b0a274a24ed82', 'message': 'Update Gate CI\n\nChange-Id: Ic47b54ba66448b00e174dd62b0a0d0460e04d701\n'}, {'number': 2, 'created': '2021-11-04 05:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/0e933311ddd0b2d54f099418292e55695781ae09', 'message': 'Update Gate CI\n\nChange-Id: Ic47b54ba66448b00e174dd62b0a0d0460e04d701\n'}, {'number': 3, 'created': '2021-11-04 05:15:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/daa7c541826a969229bca292340ad79955989413', 'message': 'Add stable/xena ci job\n\nAdd freezer-tempest-basic-xena ci job\n\nChange-Id: Ic47b54ba66448b00e174dd62b0a0d0460e04d701\n'}]",0,816484,daa7c541826a969229bca292340ad79955989413,10,3,3,21069,,,0,"Add stable/xena ci job

Add freezer-tempest-basic-xena ci job

Change-Id: Ic47b54ba66448b00e174dd62b0a0d0460e04d701
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/84/816484/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,4adc052ab35c2c489534057c546b0a274a24ed82,,,,0,0
openstack%2Fwatcher-specs~master~Icc7d952f97da5e975e16482e37d3d70e3abf644a,openstack/watcher-specs,master,Icc7d952f97da5e975e16482e37d3d70e3abf644a,Add Wallaby templete,NEW,2021-11-05 03:16:35.000000000,2021-11-05 03:29:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-05 03:16:35.000000000', 'files': ['doc/source/specs/wallaby/index.rst', 'specs/wallaby-template.rst', 'doc/source/specs/wallaby/approved', 'doc/source/specs/wallaby/redirects', 'specs/wallaby/implemented/wallaby-template.rst', 'doc/source/specs/wallaby/implemented', 'specs/wallaby/redirects', 'doc/source/specs/wallaby/template.rst', 'specs/wallaby/approved/wallaby-template.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/e0d3d272d7a1081ff6fe446bfe5996b7cc660312', 'message': 'Add Wallaby templete\n\nChange-Id: Icc7d952f97da5e975e16482e37d3d70e3abf644a\n'}]",0,816781,e0d3d272d7a1081ff6fe446bfe5996b7cc660312,2,1,1,31412,,,0,"Add Wallaby templete

Change-Id: Icc7d952f97da5e975e16482e37d3d70e3abf644a
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/81/816781/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/wallaby/index.rst', 'specs/wallaby-template.rst', 'doc/source/specs/wallaby/approved', 'doc/source/specs/wallaby/redirects', 'specs/wallaby/implemented/wallaby-template.rst', 'doc/source/specs/wallaby/implemented', 'specs/wallaby/redirects', 'doc/source/specs/wallaby/template.rst', 'specs/wallaby/approved/wallaby-template.rst']",9,e0d3d272d7a1081ff6fe446bfe5996b7cc660312,,../../wallaby-template.rst,,411,0
openstack%2Frequirements~master~Ic0838f2fbcc6f9eaa0a86a9d3ce0a4d562d52626,openstack/requirements,master,Ic0838f2fbcc6f9eaa0a86a9d3ce0a4d562d52626,Updated from generate-constraints,ABANDONED,2021-11-05 03:06:03.000000000,2021-11-05 03:15:26.000000000,,[],"[{'number': 1, 'created': '2021-11-05 03:06:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/31ee130625a95b23ab7be31987500eb813308271', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic0838f2fbcc6f9eaa0a86a9d3ce0a4d562d52626\n'}]",0,816780,31ee130625a95b23ab7be31987500eb813308271,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: Ic0838f2fbcc6f9eaa0a86a9d3ce0a4d562d52626
",git fetch https://review.opendev.org/openstack/requirements refs/changes/80/816780/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,31ee130625a95b23ab7be31987500eb813308271,openstack/requirements/constraints,pbr===5.7.0XStatic-Angular===1.8.2.1jsonpointer===2.2pkg_resources===0.0.0dogtag-pki===10.7.4.1boto3===1.19.11py===1.11.0python-nss===1.0.1numpy===1.21.4;python_version=='3.8'botocore===1.22.11Django===3.2.9oslo.policy===3.10.0fasteners===0.16.3,pbr===5.6.0XStatic-Angular===1.5.8.0jsonpointer===2.1dogtag-pki===10.3.0.0.2;python_version=='3.8' dogtag-pki===10.7.4.1;python_version=='3.6'boto3===1.19.10py===1.10.0python-nss===1.0.1;python_version=='3.6'numpy===1.21.3;python_version=='3.8'botocore===1.22.10Django===2.2.24oslo.policy===3.9.0fasteners===0.14.1setuptools===58.5.2,13,14
openstack%2Ffreezer~master~Iaabe5d1c70dcd20e2787d59241268c0013408f64,openstack/freezer,master,Iaabe5d1c70dcd20e2787d59241268c0013408f64,Update gate CI,MERGED,2021-11-04 05:02:15.000000000,2021-11-05 01:50:11.000000000,2021-11-05 01:45:41.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 05:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/640a9d6a4bf0402666bf8dab61d206dc2452cc6b', 'message': 'Update gate CI\n\nChange-Id: Iaabe5d1c70dcd20e2787d59241268c0013408f64\n'}, {'number': 2, 'created': '2021-11-04 05:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/cfa190c63d7a1ec0bab5b1fe1379b5e491310c04', 'message': 'Update gate CI\n\nChange-Id: Iaabe5d1c70dcd20e2787d59241268c0013408f64\n'}, {'number': 3, 'created': '2021-11-04 05:03:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer/commit/7c45623a7e611a0d11bc2414a9db68144c1b8fd8', 'message': 'Update gate CI\n\nUpdate gate CI for yoga version\n\nChange-Id: Iaabe5d1c70dcd20e2787d59241268c0013408f64\n'}]",0,816482,7c45623a7e611a0d11bc2414a9db68144c1b8fd8,10,2,3,21069,,,0,"Update gate CI

Update gate CI for yoga version

Change-Id: Iaabe5d1c70dcd20e2787d59241268c0013408f64
",git fetch https://review.opendev.org/openstack/freezer refs/changes/82/816482/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,640a9d6a4bf0402666bf8dab61d206dc2452cc6b,,,,0,0
openstack%2Ftripleo-heat-templates~master~Ic7c3469c69841293902f29d5772be202978fac32,openstack/tripleo-heat-templates,master,Ic7c3469c69841293902f29d5772be202978fac32,Remove double slashes in path,MERGED,2021-11-04 17:39:03.000000000,2021-11-05 01:42:53.000000000,2021-11-05 01:42:53.000000000,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-11-04 17:39:03.000000000', 'files': ['deployment/haproxy/haproxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61a1dcc3b1f6963dc84675b8319dcb7d2dc0e0c8', 'message': ""Remove double slashes in path\n\nIn some containers we have double slashes in our paths. This has always\nworked in podman 3.x but breaks with podman 4.x\n\n* Working\n\n[root@undercloud-0 step_1]# podman run -it --rm --net=host -v /etc/pki/tls/private/overcloud_endpoint.pem:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/overcloud_endpoint.pem undercloud-0.ctlplane.home.arpa:8787/tripleo_centos9/openstack-haproxy:latest bash\n[root@undercloud-0 /]# exit\n\nBroken (see the '//' before src-tls)\n\n[root@undercloud-0 step_1]# podman run -it --rm --net=host -v /etc/pki/tls/private/overcloud_endpoint.pem:/var/lib/kolla/config_files//src-tls/etc/pki/tls/private/overcloud_endpoint.pem undercloud-0.ctlplane.home.arpa:8787/tripleo_centos9/openstack-haproxy:latest bash\nError: OCI runtime error: mount `/etc/pki/tls/private/overcloud_endpoint.pem` to `/var/lib/kolla/config_files//src-tls/etc/pki/tls/private/overcloud_endpoint.pem`: Not a directory\n\nCloses-Bug: #1949888\nChange-Id: Ic7c3469c69841293902f29d5772be202978fac32\n""}]",2,816727,61a1dcc3b1f6963dc84675b8319dcb7d2dc0e0c8,12,7,1,20172,,,0,"Remove double slashes in path

In some containers we have double slashes in our paths. This has always
worked in podman 3.x but breaks with podman 4.x

* Working

[root@undercloud-0 step_1]# podman run -it --rm --net=host -v /etc/pki/tls/private/overcloud_endpoint.pem:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/overcloud_endpoint.pem undercloud-0.ctlplane.home.arpa:8787/tripleo_centos9/openstack-haproxy:latest bash
[root@undercloud-0 /]# exit

Broken (see the '//' before src-tls)

[root@undercloud-0 step_1]# podman run -it --rm --net=host -v /etc/pki/tls/private/overcloud_endpoint.pem:/var/lib/kolla/config_files//src-tls/etc/pki/tls/private/overcloud_endpoint.pem undercloud-0.ctlplane.home.arpa:8787/tripleo_centos9/openstack-haproxy:latest bash
Error: OCI runtime error: mount `/etc/pki/tls/private/overcloud_endpoint.pem` to `/var/lib/kolla/config_files//src-tls/etc/pki/tls/private/overcloud_endpoint.pem`: Not a directory

Closes-Bug: #1949888
Change-Id: Ic7c3469c69841293902f29d5772be202978fac32
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/816727/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-container-puppet.yaml'],1,61a1dcc3b1f6963dc84675b8319dcb7d2dc0e0c8,podman4, - - /var/lib/kolla/config_files/src-tls, - - /var/lib/kolla/config_files/src-tls/,1,1
openstack%2Fproject-config~master~I26e5e1cf6778cb51872d6a65b2ac683335201bb4,openstack/project-config,master,I26e5e1cf6778cb51872d6a65b2ac683335201bb4,nodepool elements: use yaml.safe_load,MERGED,2021-11-05 00:26:32.000000000,2021-11-05 01:35:34.000000000,2021-11-05 01:08:51.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 00:26:32.000000000', 'files': ['nodepool/elements/openstack-repos/extra-data.d/50-create-repo-list'], 'web_link': 'https://opendev.org/openstack/project-config/commit/04b3eb3d4375fa1132a5ed300540936ae2142035', 'message': ""nodepool elements: use yaml.safe_load\n\nThe recent pyyaml 6 release, incorporated in the latest\nnodepool-builder/dib images, requires a specific loader now.  Use\nsafe_load as there's nothing crazy going on here.\n\nChange-Id: I26e5e1cf6778cb51872d6a65b2ac683335201bb4\n""}]",1,816774,04b3eb3d4375fa1132a5ed300540936ae2142035,7,2,1,7118,,,0,"nodepool elements: use yaml.safe_load

The recent pyyaml 6 release, incorporated in the latest
nodepool-builder/dib images, requires a specific loader now.  Use
safe_load as there's nothing crazy going on here.

Change-Id: I26e5e1cf6778cb51872d6a65b2ac683335201bb4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/816774/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/openstack-repos/extra-data.d/50-create-repo-list'],1,04b3eb3d4375fa1132a5ed300540936ae2142035,nb-pyyaml6, for f in yaml.safe_load(urlopen(url)):, for f in yaml.load(urlopen(url)):,1,1
openstack%2Ftripleo-common~master~Ie9a40086660bb56bc5528beba7c0d9154b5e6463,openstack/tripleo-common,master,Ie9a40086660bb56bc5528beba7c0d9154b5e6463,[CS9] Rework dnf modules,MERGED,2021-11-02 11:12:26.000000000,2021-11-05 00:25:33.000000000,2021-11-05 00:23:53.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-02 11:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0327cd05cbb1a8cc8e6c8f872916be55604b279a', 'message': '[WIP][CS9] Drop container-tools:latest\n\nhttps://gitlab.com/redhat/centos-stream/release-engineering/pungi-centos/-/merge_requests/176\ndrops the container-tools module stream from cs9 and\nuses non-modular repo to install podman.\n\nIt removes the reference of container-tools:latest for the same and set\nit to empty string.\n\nRelated-Bug: #1949456\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/816318\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ie9a40086660bb56bc5528beba7c0d9154b5e6463\n'}, {'number': 2, 'created': '2021-11-02 12:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9f1e93c910c6f52ce94073d69f3079f762dffc91', 'message': '[WIP][CS9] Drop container-tools:latest\n\nhttps://gitlab.com/redhat/centos-stream/release-engineering/pungi-centos/-/merge_requests/176\ndrops the container-tools module stream from cs9 and\nuses non-modular repo to install podman.\n\nIt removes the reference of container-tools:latest for the same and set\nit to empty string.\n\nRelated-Bug: #1949456\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/816318\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ie9a40086660bb56bc5528beba7c0d9154b5e6463\n'}, {'number': 3, 'created': '2021-11-02 12:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eb96d87780be9fcdf924f10d4aa68f5cd582de2d', 'message': '[WIP][CS9] Drop container-tools:latest\n\nhttps://gitlab.com/redhat/centos-stream/release-engineering/pungi-centos/-/merge_requests/176\ndrops the container-tools module stream from cs9 and\nuses non-modular repo to install podman.\n\nIt removes the reference of container-tools:latest for the same and set\nit to empty string.\n\nRelated-Bug: #1949456\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/816318\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ie9a40086660bb56bc5528beba7c0d9154b5e6463\n'}, {'number': 4, 'created': '2021-11-02 14:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3175db8e361b7dac90fbd66956868573d45a5a99', 'message': '[WIP][CS9] Drop container-tools:latest\n\nhttps://gitlab.com/redhat/centos-stream/release-engineering/pungi-centos/-/merge_requests/176\ndrops the container-tools module stream from cs9 and\nuses non-modular repo to install podman.\n\nIt removes the reference of container-tools:latest for the same and set\nit to empty string.\n\nRelated-Bug: #1949456\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/816318\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ie9a40086660bb56bc5528beba7c0d9154b5e6463\n'}, {'number': 5, 'created': '2021-11-02 15:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/380b83d655f1b44ca64077430f238039fa5d6342', 'message': ""[CS9] Rework dnf modules\n\nThis change makes dnf modules el specific so that we don't always assume\ncertain modules are always used. This is necessary because in c9, the\ncontainer-tools module is going away.\n\nhttps://gitlab.com/redhat/centos-stream/release-engineering/pungi-centos/-/merge_requests/176\ndrops the container-tools module stream from cs9 and\nuses non-modular repo to install podman.\n\nRelated-Bug: #1949456\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/816318\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: Ie9a40086660bb56bc5528beba7c0d9154b5e6463\n""}, {'number': 6, 'created': '2021-11-02 15:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a708de1d13a8ca36a75ec08f9d88adcc2f263e32', 'message': ""[CS9] Rework dnf modules\n\nThis change makes dnf modules el specific so that we don't always assume\ncertain modules are always used. This is necessary because in c9, the\ncontainer-tools module is going away.\n\nhttps://gitlab.com/redhat/centos-stream/release-engineering/pungi-centos/-/merge_requests/176\ndrops the container-tools module stream from cs9 and\nuses non-modular repo to install podman.\n\nRelated-Bug: #1949456\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/816318\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: Ie9a40086660bb56bc5528beba7c0d9154b5e6463\n""}, {'number': 7, 'created': '2021-11-02 17:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/755e8d9902173df7575e17e6a38719fd8cec06dc', 'message': ""[CS9] Rework dnf modules\n\nThis change makes dnf modules el specific so that we don't always assume\ncertain modules are always used. This is necessary because in c9, the\ncontainer-tools module is going away.\n\nhttps://gitlab.com/redhat/centos-stream/release-engineering/pungi-centos/-/merge_requests/176\ndrops the container-tools module stream from cs9 and\nuses non-modular repo to install podman.\n\nRelated-Bug: #1949456\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/816318\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: Ie9a40086660bb56bc5528beba7c0d9154b5e6463\n""}, {'number': 8, 'created': '2021-11-02 21:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dcedd69ac0dd737c084e46ca142d7171c42d4be5', 'message': ""[CS9] Rework dnf modules\n\nThis change makes dnf modules el specific so that we don't always assume\ncertain modules are always used. This is necessary because in c9, the\ncontainer-tools module is going away.\n\nhttps://gitlab.com/redhat/centos-stream/release-engineering/pungi-centos/-/merge_requests/176\ndrops the container-tools module stream from cs9 and\nuses non-modular repo to install podman.\n\nRelated-Bug: #1949456\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/816318\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: Ie9a40086660bb56bc5528beba7c0d9154b5e6463\n""}, {'number': 9, 'created': '2021-11-02 21:29:23.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9c479d280bc4d4ca0084343ccdba01493dde2324', 'message': ""[CS9] Rework dnf modules\n\nThis change makes dnf modules el specific so that we don't always assume\ncertain modules are always used. This is necessary because in c9, the\ncontainer-tools module is going away.\n\nhttps://gitlab.com/redhat/centos-stream/release-engineering/pungi-centos/-/merge_requests/176\ndrops the container-tools module stream from cs9 and\nuses non-modular repo to install podman.\n\nRelated-Bug: #1949456\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/816318\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: Ie9a40086660bb56bc5528beba7c0d9154b5e6463\n""}]",18,816321,9c479d280bc4d4ca0084343ccdba01493dde2324,47,7,9,12393,,,0,"[CS9] Rework dnf modules

This change makes dnf modules el specific so that we don't always assume
certain modules are always used. This is necessary because in c9, the
container-tools module is going away.

https://gitlab.com/redhat/centos-stream/release-engineering/pungi-centos/-/merge_requests/176
drops the container-tools module stream from cs9 and
uses non-modular repo to install podman.

Related-Bug: #1949456

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/816318

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Change-Id: Ie9a40086660bb56bc5528beba7c0d9154b5e6463
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/21/816321/8 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,0327cd05cbb1a8cc8e6c8f872916be55604b279a,cs9," - enable: container-tools:{{ tcib_rhel_modules['container-tools'] | default('3.0' if tcib_release is version('8', '==') else '') }}"," - enable: container-tools:{{ tcib_rhel_modules['container-tools'] | default('latest' if tcib_release is version('9', '==') else '3.0') }}",1,1
openstack%2Fproject-config~master~I9b88baf422d947d5209d036766a86b09dca0c21a,openstack/project-config,master,I9b88baf422d947d5209d036766a86b09dca0c21a,Add centos-9-stream nodepool image,MERGED,2021-11-03 11:49:01.000000000,2021-11-05 00:14:58.000000000,2021-11-04 23:59:42.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-03 11:49:01.000000000', 'files': ['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5100cf7063431eb4a3bb66b08ab6c83f039272de', 'message': 'Add centos-9-stream nodepool image\n\nCentOS Stream 9 repos are ready and support for it is included in\ndiskimage-builder [1]. This patch is adding centos-9-stream diskimages\nand images to nodepool configuration in opendev.\n\n[1] https://review.opendev.org/c/openstack/diskimage-builder/+/811392\n\nChange-Id: I9b88baf422d947d5209d036766a86b09dca0c21a\n'}]",1,816465,5100cf7063431eb4a3bb66b08ab6c83f039272de,11,6,1,16312,,,0,"Add centos-9-stream nodepool image

CentOS Stream 9 repos are ready and support for it is included in
diskimage-builder [1]. This patch is adding centos-9-stream diskimages
and images to nodepool configuration in opendev.

[1] https://review.opendev.org/c/openstack/diskimage-builder/+/811392

Change-Id: I9b88baf422d947d5209d036766a86b09dca0c21a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/65/816465/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml']",5,5100cf7063431eb4a3bb66b08ab6c83f039272de,cs9, - name: centos-9-stream - name: centos-9-stream config-drive: true - name: centos-9-stream min-ram: 8000 flavor-name: 'A1.8' diskimage: centos-9-stream key-name: infra-root-keys-2020-05-13 - name: centos-9-stream min-ram: 8000 flavor-name: v2-highcpu-8 boot-from-volume: true volume-size: 80 diskimage: centos-9-stream key-name: infra-root-keys-2020-05-13 - name: centos-9-stream,,67,0
openstack%2Fproject-config~master~I25d9bb7272edc3215840a53e5d79efe5d1fd7210,openstack/project-config,master,I25d9bb7272edc3215840a53e5d79efe5d1fd7210,Add support for CentOS Stream 9 in nodepool elements,MERGED,2021-09-28 16:15:32.000000000,2021-11-05 00:05:23.000000000,2021-11-04 23:58:27.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 8449}, {'_account_id': 9311}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-09-28 16:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c186987fca1b7ad8a60586ad9ab14f8d70102ef1', 'message': ""Add support for CentOS Stream 9 in nodepool elements\n\nThis patch is adding support for CentOS Stream 9 in elements\ninfra-package-needs and nodepool-base which are used in nodepool images.\n\n- Remove installation of ntpdate (it has been removed in CS9).\n- It uses RDO dependencies repo to install haveged until it's available in\n  EPEL9.\n- It adds package iptables-service which is not installed by default in CS9.\n\nNote that this patch has been tested together with dib patch in Depends-On.\n\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/811392\nChange-Id: I25d9bb7272edc3215840a53e5d79efe5d1fd7210\n""}, {'number': 2, 'created': '2021-10-25 13:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5f0278475a8404a3ac742be2d5bd66b9938cab87', 'message': ""Add support for CentOS Stream 9 in nodepool elements\n\nThis patch is adding support for CentOS Stream 9 in elements\ninfra-package-needs and nodepool-base which are used in nodepool images.\n\n- Remove installation of ntpdate (it has been removed in CS9).\n- It uses RDO dependencies repo to install haveged until it's available in\n  EPEL9.\n- It adds package iptables-service which is not installed by default in CS9.\n\nNote that this patch has been tested together with dib patch in Depends-On.\n\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/811392\nChange-Id: I25d9bb7272edc3215840a53e5d79efe5d1fd7210\n""}, {'number': 3, 'created': '2021-10-29 08:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/eb13473f40d37d260d944b4c03a8a6eb9e78a079', 'message': ""Add support for CentOS Stream 9 in nodepool elements\n\nThis patch is adding support for CentOS Stream 9 in elements\ninfra-package-needs and nodepool-base which are used in nodepool images.\n\n- Remove installation of ntpdate (it has been removed in CS9).\n- It skips installation of haveged until it's available in EPEL9.\n- It maps package iptables to iptables-service.\n\nNote that this patch has been tested together with dib patch in Depends-On.\n\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/811392\nChange-Id: I25d9bb7272edc3215840a53e5d79efe5d1fd7210\n""}, {'number': 4, 'created': '2021-11-03 11:49:01.000000000', 'files': ['nodepool/elements/infra-package-needs/install.d/10-packages', 'nodepool/elements/infra-package-needs/pkg-map'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4e88e748bbfd877b45b4032ae899a6ef03fc05e6', 'message': ""Add support for CentOS Stream 9 in nodepool elements\n\nThis patch is adding support for CentOS Stream 9 in elements\ninfra-package-needs and nodepool-base which are used in nodepool images.\n\n- Remove installation of ntpdate (it has been removed in CS9).\n- It skips installation of haveged until it's available in EPEL9.\n- It maps package iptables to iptables-service.\n\nNote that this patch has been tested together with dib patch in Depends-On.\n\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/811392\nChange-Id: I25d9bb7272edc3215840a53e5d79efe5d1fd7210\n""}]",8,811442,4e88e748bbfd877b45b4032ae899a6ef03fc05e6,27,11,4,16312,,,0,"Add support for CentOS Stream 9 in nodepool elements

This patch is adding support for CentOS Stream 9 in elements
infra-package-needs and nodepool-base which are used in nodepool images.

- Remove installation of ntpdate (it has been removed in CS9).
- It skips installation of haveged until it's available in EPEL9.
- It maps package iptables to iptables-service.

Note that this patch has been tested together with dib patch in Depends-On.

Depends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/811392
Change-Id: I25d9bb7272edc3215840a53e5d79efe5d1fd7210
",git fetch https://review.opendev.org/openstack/project-config refs/changes/42/811442/4 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/nodepool-base/package-installs.yaml', 'nodepool/elements/infra-package-needs/install.d/10-packages', 'nodepool/elements/infra-package-needs/pkg-map']",3,c186987fca1b7ad8a60586ad9ab14f8d70102ef1,cs9," }, ""9-stream"": { ""python-dev"": """", ""ntp"": ""chrony"", ""ntpdate"": """"",,14,1
openstack%2Fdevstack~master~I83ea34d6aa647d2ab9d4d78ed354904fce836e68,openstack/devstack,master,I83ea34d6aa647d2ab9d4d78ed354904fce836e68,Run Bullseye with more swap,MERGED,2021-10-29 12:40:40.000000000,2021-11-04 23:59:54.000000000,2021-11-04 23:55:11.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-10-29 12:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b25e9b033b9a5b4f8a8f0ffe5abd256aac5d926a', 'message': 'DNM: Test Bullseye with custom qemu build\n\nChange-Id: I83ea34d6aa647d2ab9d4d78ed354904fce836e68\n'}, {'number': 2, 'created': '2021-10-29 13:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/292c4d83ab37f029883d9954490492c860e28a53', 'message': 'DNM: Test Bullseye with custom qemu build\n\nChange-Id: I83ea34d6aa647d2ab9d4d78ed354904fce836e68\n'}, {'number': 3, 'created': '2021-11-03 10:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/905ccd560e20c069cc496fa90d0a1d96cc0beb58', 'message': 'DNM: Test Bullseye with more swap\n\nChange-Id: I83ea34d6aa647d2ab9d4d78ed354904fce836e68\n'}, {'number': 4, 'created': '2021-11-04 14:30:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f8e00b86aee9a8f9646bf5aed2c618843307b963', 'message': 'Run Bullseye with more swap\n\nSince Bullseye like Centos 8 Stream needs more memory due to changed\ndefault settings in newer qemu versions, set the swap size to 4G, which\nis the same setting already being used for the CS8 jobs successfully.\n\nChange-Id: I83ea34d6aa647d2ab9d4d78ed354904fce836e68\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\n'}]",14,815958,f8e00b86aee9a8f9646bf5aed2c618843307b963,38,3,4,13252,,,0,"Run Bullseye with more swap

Since Bullseye like Centos 8 Stream needs more memory due to changed
default settings in newer qemu versions, set the swap size to 4G, which
is the same setting already being used for the CS8 jobs successfully.

Change-Id: I83ea34d6aa647d2ab9d4d78ed354904fce836e68
Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/58/815958/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tools/fixup_stuff.sh']",2,b25e9b033b9a5b4f8a8f0ffe5abd256aac5d926a,bullseye-swap, pushd /tmp wget https://fricklercloud.de/qemu-5.2-osism2.tgz tar xzf qemu-5.2-osism2.tgz sudo dpkg -i qemu*deb popd,,6,48
openstack%2Fcinder~master~Ib3036bff44b6d8e192209d2bc0a1582ad91248d8,openstack/cinder,master,Ib3036bff44b6d8e192209d2bc0a1582ad91248d8,[ubuntu] Add tgt package for cinder storage,MERGED,2021-10-15 10:46:14.000000000,2021-11-04 23:34:14.000000000,2021-11-04 23:31:00.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-10-15 10:46:14.000000000', 'files': ['doc/source/install/cinder-storage-install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f8d7e11e710ab9bff9c4861dafc0b6ce5de39b8', 'message': '[ubuntu] Add tgt package for cinder storage\n\nCloses-Bug: 1947350\nChange-Id: Ib3036bff44b6d8e192209d2bc0a1582ad91248d8\n'}]",3,814129,6f8d7e11e710ab9bff9c4861dafc0b6ce5de39b8,29,5,1,23182,,,0,"[ubuntu] Add tgt package for cinder storage

Closes-Bug: 1947350
Change-Id: Ib3036bff44b6d8e192209d2bc0a1582ad91248d8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/814129/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/cinder-storage-install-ubuntu.rst'],1,6f8d7e11e710ab9bff9c4861dafc0b6ce5de39b8,bug/1947350, # apt install cinder-volume tgt, # apt install cinder-volume,1,1
openstack%2Fcinder~master~I5b48b7089acebcfe603c8618b86aed267745ff26,openstack/cinder,master,I5b48b7089acebcfe603c8618b86aed267745ff26,Fix a typo,MERGED,2021-09-29 15:25:30.000000000,2021-11-04 23:32:48.000000000,2021-11-04 23:30:52.000000000,"[{'_account_id': 11904}, {'_account_id': 12670}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-09-29 15:25:30.000000000', 'files': ['cinder/volume/drivers/veritas_cnfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/309c20eab072513e0de43f00eac5b1e101902428', 'message': ""Fix a typo\n\nThis patch changes 'seperate' to\n'separate' in the 45 line of cinder/volume/drivers/veritas_cnfs.py\n\nChange-Id: I5b48b7089acebcfe603c8618b86aed267745ff26\n""}]",3,811740,309c20eab072513e0de43f00eac5b1e101902428,39,5,1,30615,,,0,"Fix a typo

This patch changes 'seperate' to
'separate' in the 45 line of cinder/volume/drivers/veritas_cnfs.py

Change-Id: I5b48b7089acebcfe603c8618b86aed267745ff26
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/811740/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/veritas_cnfs.py'],1,309c20eab072513e0de43f00eac5b1e101902428,, 1.0.3 - Separate create_cloned_volume() and, 1.0.3 - Seperate create_cloned_volume() and,1,1
openstack%2Fneutron~master~I245032cf99b1b042226703f5ddb4625e176924c5,openstack/neutron,master,I245032cf99b1b042226703f5ddb4625e176924c5,Use the DB object when listing the SG rules,MERGED,2021-11-02 16:37:16.000000000,2021-11-04 23:32:44.000000000,2021-11-04 23:30:42.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 16:37:16.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/objects/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1fa2f104dffc662d3feabd169e58f1cc1e92951', 'message': 'Use the DB object when listing the SG rules\n\nWhen listing the security group rules, the DB object can be used\ninstead the OVO. That will save the conversion time. In a\ndevelopment environment with 1000 SG rules, the DB query took around\n100 ms and the same time to load the OVOs from the DB objects.\n\nThe ``NeutronDbObject.get_objects`` now can return the DB objects\nwithout converting them to OVO if ""return_db_obj=True"".\n\nTrivial-Fix\n\nChange-Id: I245032cf99b1b042226703f5ddb4625e176924c5\n'}]",0,816373,d1fa2f104dffc662d3feabd169e58f1cc1e92951,45,4,1,16688,,,0,"Use the DB object when listing the SG rules

When listing the security group rules, the DB object can be used
instead the OVO. That will save the conversion time. In a
development environment with 1000 SG rules, the DB query took around
100 ms and the same time to load the OVOs from the DB objects.

The ``NeutronDbObject.get_objects`` now can return the DB objects
without converting them to OVO if ""return_db_obj=True"".

Trivial-Fix

Change-Id: I245032cf99b1b042226703f5ddb4625e176924c5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/816373/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/objects/base.py']",2,d1fa2f104dffc662d3feabd169e58f1cc1e92951,optimize_sg_rule_list," fields=None, return_db_obj=False, **kwargs): :param return_db_obj: if 'True', the DB object is returned instead of the OVO, saving the conversion time. if return_db_obj: return db_objs"," fields=None, **kwargs):",7,5
openstack%2Fnova~stable%2Fwallaby~Ic0d6c59147abe5e094e8f13e0d3523b178daeba9,openstack/nova,stable/wallaby,Ic0d6c59147abe5e094e8f13e0d3523b178daeba9,Store old_flavor already on source host during resize,MERGED,2021-09-24 13:54:47.000000000,2021-11-04 23:32:40.000000000,2021-11-04 23:30:47.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-24 13:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d65c313a7dc30ffb9bd07b8c013a37c17516470', 'message': ""Store old_flavor already on source host during resize\n\nDuring resize, on the source host, in resize_instance(), the instance.host\nand .node is updated to point to the destination host. This indicates to\nthe source host's resource tracker that the allocation of this instance\ndoes not need to be tracked as an instance but as an outbound migration\ninstead. However for the source host's resource tracker to do that it,\nneeds to use the instance.old_flavor. Unfortunately the\ninstance.old_flavor is only set during finish_resize() on the\ndestination host. (resize_instance cast to the finish_resize). So it is\npossible that a running resize_instance() set the instance.host to point\nto the destination and then before the finish_resize could set the\nold_flavor an update_available_resources periodic runs on the source\nhost. This causes that the allocation of this instance is not tracked as\nan instance as the instance.host point to the destination but it is not\ntracked as a migration either as the instance.old_flavor is not yet set.\nSo the allocation on the source host is simply dropped by the periodic\njob.\n\nWhen such migration is confirmed the confirm_resize() tries to drop\nthe same resource allocation again but fails as the pinned CPUs of the\ninstance already freed.\n\nWhen such migration is reverted instead, then revert succeeds but the\nsource host resource allocation will not contain the resource allocation\nof the instance until the next update_available_resources periodic runs\nand corrects it.\n\nThis does not affect resources tracked exclusively in placement (e.g.\nVCPU, MEMORY_MB, DISK_GB) but it does affect NUMA related resource that\nare still tracked in the resource tracker (e.g. huge pages, pinned\nCPUs).\n\nThis patch moves the instance.old_flavor setting to the source node to\nthe same transaction that sets the instance.host to point to the\ndestination host. Hence solving the race condition.\n\nChange-Id: Ic0d6c59147abe5e094e8f13e0d3523b178daeba9\nCloses-Bug: #1944759\n(cherry picked from commit 1b0c5a11526a649d330f7de281ed33f90e49e255)\n(cherry picked from commit c8b92ddad5787a222b9dc8a78fbb050332170c65)\n""}, {'number': 2, 'created': '2021-09-27 12:41:01.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c8b04d183f560a616a79577c4d4ae9465d03e541', 'message': ""Store old_flavor already on source host during resize\n\nDuring resize, on the source host, in resize_instance(), the instance.host\nand .node is updated to point to the destination host. This indicates to\nthe source host's resource tracker that the allocation of this instance\ndoes not need to be tracked as an instance but as an outbound migration\ninstead. However for the source host's resource tracker to do that it,\nneeds to use the instance.old_flavor. Unfortunately the\ninstance.old_flavor is only set during finish_resize() on the\ndestination host. (resize_instance cast to the finish_resize). So it is\npossible that a running resize_instance() set the instance.host to point\nto the destination and then before the finish_resize could set the\nold_flavor an update_available_resources periodic runs on the source\nhost. This causes that the allocation of this instance is not tracked as\nan instance as the instance.host point to the destination but it is not\ntracked as a migration either as the instance.old_flavor is not yet set.\nSo the allocation on the source host is simply dropped by the periodic\njob.\n\nWhen such migration is confirmed the confirm_resize() tries to drop\nthe same resource allocation again but fails as the pinned CPUs of the\ninstance already freed.\n\nWhen such migration is reverted instead, then revert succeeds but the\nsource host resource allocation will not contain the resource allocation\nof the instance until the next update_available_resources periodic runs\nand corrects it.\n\nThis does not affect resources tracked exclusively in placement (e.g.\nVCPU, MEMORY_MB, DISK_GB) but it does affect NUMA related resource that\nare still tracked in the resource tracker (e.g. huge pages, pinned\nCPUs).\n\nThis patch moves the instance.old_flavor setting to the source node to\nthe same transaction that sets the instance.host to point to the\ndestination host. Hence solving the race condition.\n\nChange-Id: Ic0d6c59147abe5e094e8f13e0d3523b178daeba9\nCloses-Bug: #1944759\n(cherry picked from commit b841e553214be9a732703e2dfed6c97698ef9b71)\n(cherry picked from commit d4edcd62bae44c01885268a6cf7b7fae92617060)\n""}]",7,810913,c8b04d183f560a616a79577c4d4ae9465d03e541,38,3,2,9708,,,0,"Store old_flavor already on source host during resize

During resize, on the source host, in resize_instance(), the instance.host
and .node is updated to point to the destination host. This indicates to
the source host's resource tracker that the allocation of this instance
does not need to be tracked as an instance but as an outbound migration
instead. However for the source host's resource tracker to do that it,
needs to use the instance.old_flavor. Unfortunately the
instance.old_flavor is only set during finish_resize() on the
destination host. (resize_instance cast to the finish_resize). So it is
possible that a running resize_instance() set the instance.host to point
to the destination and then before the finish_resize could set the
old_flavor an update_available_resources periodic runs on the source
host. This causes that the allocation of this instance is not tracked as
an instance as the instance.host point to the destination but it is not
tracked as a migration either as the instance.old_flavor is not yet set.
So the allocation on the source host is simply dropped by the periodic
job.

When such migration is confirmed the confirm_resize() tries to drop
the same resource allocation again but fails as the pinned CPUs of the
instance already freed.

When such migration is reverted instead, then revert succeeds but the
source host resource allocation will not contain the resource allocation
of the instance until the next update_available_resources periodic runs
and corrects it.

This does not affect resources tracked exclusively in placement (e.g.
VCPU, MEMORY_MB, DISK_GB) but it does affect NUMA related resource that
are still tracked in the resource tracker (e.g. huge pages, pinned
CPUs).

This patch moves the instance.old_flavor setting to the source node to
the same transaction that sets the instance.host to point to the
destination host. Hence solving the race condition.

Change-Id: Ic0d6c59147abe5e094e8f13e0d3523b178daeba9
Closes-Bug: #1944759
(cherry picked from commit b841e553214be9a732703e2dfed6c97698ef9b71)
(cherry picked from commit d4edcd62bae44c01885268a6cf7b7fae92617060)
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/810913/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,1d65c313a7dc30ffb9bd07b8c013a37c17516470,bug/1944759," # we have 2 cpus pinned on both computes. The source should have it # due to the outbound migration and the destination due to the # instance running there self._assert_pinned_cpus(src_host, 2) self.api.post_server_action(server['id'], post) self._wait_for_state_change(server, 'ACTIVE') # the resource allocation reflects that the VM is running on the dest # node # and running periodics does not break it either # After the revert the source host should have 2 cpus pinned due to # the instance. self._assert_pinned_cpus(src_host, 2) # running the periodic job will not break it either"," # This is a resource accounting bug, we should have 2 cpus pinned on # both computes. The source should have it due to the outbound # migration and the destination due to the instance running there self._assert_pinned_cpus(src_host, 0) # FIXME(gibi): This is bug 1944759 where during resize, on the source # node the resize_instance() call at the point of calling finish_resize # overlaps with a update_available_resources() periodic job. This # causes that the periodic job will not track the migration nor the # instance and therefore freeing the resource allocation. Then when # later the resize is confirmed the confirm_resize on the source # compute also wants to free up the resources, the pinned CPUs, and it # fails as they are already freed. exc = self.assertRaises( client.OpenStackApiException, self.api.post_server_action, server['id'], post ) self.assertEqual(500, exc.response.status_code) self.assertIn('CPUUnpinningInvalid', str(exc)) # confirm failed above but the resource allocation reflects that the # VM is running on the dest node # and such allocation situation is stable so as a recovery the VM # can be reset-state to ACTIVE without problem. # This is a resource accounting bug. After the revert the source host # should have 2 cpus pinned due to the instance. self._assert_pinned_cpus(src_host, 0) # running the periodic job will fix the resource accounting # this is now correct",21,28
openstack%2Fcinder~master~I80ba4757c0825b8b8602d06ce128b88b73e9e7a1,openstack/cinder,master,I80ba4757c0825b8b8602d06ce128b88b73e9e7a1,Remove unused nested_contexts method,MERGED,2021-09-10 15:49:10.000000000,2021-11-04 23:30:56.000000000,2021-11-04 23:30:56.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-09-10 15:49:10.000000000', 'files': ['cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/60b96656d13af7de13fd7c5cc3c1afa2dc8965ed', 'message': 'Remove unused nested_contexts method\n\nThis is no longer used after Id30929.\n\nChange-Id: I80ba4757c0825b8b8602d06ce128b88b73e9e7a1\n'}]",1,808464,60b96656d13af7de13fd7c5cc3c1afa2dc8965ed,37,5,1,4523,,,0,"Remove unused nested_contexts method

This is no longer used after Id30929.

Change-Id: I80ba4757c0825b8b8602d06ce128b88b73e9e7a1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/808464/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/utils.py'],1,60b96656d13af7de13fd7c5cc3c1afa2dc8965ed,bp/remove-sqlalchemy-migrate,,@contextlib.contextmanager def nested_contexts(*contexts): with contextlib.ExitStack() as stack: yield [stack.enter_context(c) for c in contexts] ,0,6
openstack%2Fneutron-tempest-plugin~master~I98e53ac95b1c407149993ee93fe9eb36a23f0615,openstack/neutron-tempest-plugin,master,I98e53ac95b1c407149993ee93fe9eb36a23f0615,"[stable/{train,stein}] Use old guest image for these branches",MERGED,2021-10-26 15:50:22.000000000,2021-11-04 23:23:26.000000000,2021-11-04 23:23:26.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-26 15:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6923b078e5446f1af8d3ad4321f87a436f7461e4', 'message': '[stable/{train,stein}] Use old guest image for these branches\n\nCustomization of Ubuntu minimal guest images fails with missing\nguestmount binary, switch back to the previous guest image in these EM\nbranches\n\nChange-Id: I98e53ac95b1c407149993ee93fe9eb36a23f0615\nCloses-Bug: #1948804\n'}, {'number': 2, 'created': '2021-10-26 19:49:42.000000000', 'files': ['zuul.d/stein_jobs.yaml', 'zuul.d/train_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/27f057c2fdf19f4c08ef5e3f142761a1b3cab8f2', 'message': '[stable/{train,stein}] Use old guest image for these branches\n\nCustomization of Ubuntu minimal guest images fails with missing\nguestmount binary, switch back to the previous guest image in these EM\nbranches\n\nChange-Id: I98e53ac95b1c407149993ee93fe9eb36a23f0615\nCloses-Bug: #1948804\n'}]",5,815518,27f057c2fdf19f4c08ef5e3f142761a1b3cab8f2,34,3,2,21798,,,0,"[stable/{train,stein}] Use old guest image for these branches

Customization of Ubuntu minimal guest images fails with missing
guestmount binary, switch back to the previous guest image in these EM
branches

Change-Id: I98e53ac95b1c407149993ee93fe9eb36a23f0615
Closes-Bug: #1948804
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/18/815518/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/stein_jobs.yaml', 'zuul.d/train_jobs.yaml']",2,6923b078e5446f1af8d3ad4321f87a436f7461e4,bug/1948804, # NOTE(bcafarel) guestmount binary not available on host OS IMAGE_URLS: https://cloud-images.ubuntu.com/releases/bionic/release/ubuntu-18.04-server-cloudimg-amd64.img ADVANCED_IMAGE_NAME: ubuntu-18.04-server-cloudimg-amd64 ADVANCED_INSTANCE_TYPE: ntp_image_384M ADVANCED_INSTANCE_USER: ubuntu CUSTOMIZE_IMAGE: false # NOTE(bcafarel) guestmount binary not available on host OS IMAGE_URLS: https://cloud-images.ubuntu.com/releases/bionic/release/ubuntu-18.04-server-cloudimg-amd64.img ADVANCED_IMAGE_NAME: ubuntu-18.04-server-cloudimg-amd64 ADVANCED_INSTANCE_TYPE: ntp_image_384M ADVANCED_INSTANCE_USER: ubuntu CUSTOMIZE_IMAGE: false # NOTE(bcafarel) guestmount binary not available on host OS IMAGE_URLS: https://cloud-images.ubuntu.com/releases/bionic/release/ubuntu-18.04-server-cloudimg-amd64.img ADVANCED_IMAGE_NAME: ubuntu-18.04-server-cloudimg-amd64 ADVANCED_INSTANCE_TYPE: ntp_image_384M ADVANCED_INSTANCE_USER: ubuntu CUSTOMIZE_IMAGE: false # NOTE(bcafarel) guestmount binary not available on host OS IMAGE_URLS: https://cloud-images.ubuntu.com/releases/bionic/release/ubuntu-18.04-server-cloudimg-amd64.img ADVANCED_IMAGE_NAME: ubuntu-18.04-server-cloudimg-amd64 ADVANCED_INSTANCE_TYPE: ntp_image_384M ADVANCED_INSTANCE_USER: ubuntu CUSTOMIZE_IMAGE: false, ADVANCED_INSTANCE_TYPE: ds512M ADVANCED_INSTANCE_TYPE: ds512M ADVANCED_INSTANCE_TYPE: ds512M ADVANCED_INSTANCE_TYPE: ds512M,48,8
openstack%2Fcinder~stable%2Fvictoria~I8dd114fedece8e9d8f85c1ed237c31aede907d67,openstack/cinder,stable/victoria,I8dd114fedece8e9d8f85c1ed237c31aede907d67,PowerMax Driver - Allow for case mismatch in SGs,MERGED,2021-09-22 08:30:04.000000000,2021-11-04 22:36:42.000000000,2021-11-04 22:34:44.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-09-22 08:30:04.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'releasenotes/notes/bug1929429-e749f5e5a242a599.yaml', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5dcfe022440e6d6a61b4258b7b0eae1576e1209c', 'message': 'PowerMax Driver - Allow for case mismatch in SGs\n\nWhen checking if a storage group is a child of a parent storage\ngroup the check is currently case sensitive. We should allow for\na pattern match that is not case sensitive. For example,\nmyStorageGroup should equal MYSTORAGEGROUP or mystoragegroup.\n\nCloses-Bug: #1929429\nChange-Id: I8dd114fedece8e9d8f85c1ed237c31aede907d67\n(cherry picked from commit 1f65c2a92fe3931791fca81038a27f81e1ca28fd)\n(cherry picked from commit 80ef8c1046c1c786f2e8f04352f9ce7c8f9af588)\n'}]",9,810367,5dcfe022440e6d6a61b4258b7b0eae1576e1209c,42,4,1,12670,,,0,"PowerMax Driver - Allow for case mismatch in SGs

When checking if a storage group is a child of a parent storage
group the check is currently case sensitive. We should allow for
a pattern match that is not case sensitive. For example,
myStorageGroup should equal MYSTORAGEGROUP or mystoragegroup.

Closes-Bug: #1929429
Change-Id: I8dd114fedece8e9d8f85c1ed237c31aede907d67
(cherry picked from commit 1f65c2a92fe3931791fca81038a27f81e1ca28fd)
(cherry picked from commit 80ef8c1046c1c786f2e8f04352f9ce7c8f9af588)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/810367/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'releasenotes/notes/bug1929429-e749f5e5a242a599.yaml', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",5,5dcfe022440e6d6a61b4258b7b0eae1576e1209c,, if child_name.lower() in ( child.lower() for child in child_sg_list):, if child_name in child_sg_list:,30,3
openstack%2Fneutron~stable%2Fwallaby~I558d50d28378beb3710d98a2113ff9549c82ae17,openstack/neutron,stable/wallaby,I558d50d28378beb3710d98a2113ff9549c82ae17,Check a namespace existence by checking only its own directory,MERGED,2021-11-03 14:12:22.000000000,2021-11-04 22:36:27.000000000,2021-11-04 22:34:32.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 14:12:22.000000000', 'files': ['neutron/privileged/agent/linux/utils.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f95f2ed42a23e4ce300f0b8de726b4687c755020', 'message': 'Check a namespace existence by checking only its own directory\n\nTo check the existance of a namespace, instead of listing the\nnamespaces directory (by default ""/var/run/netns""), this patch\ndirectly checks the existence of the namespace directory, using\n""os.path.exists"".\n\nThis check is faster than listing the whole directory and avoids\ntimeout problems as reported in the related bug.\n\nCloses-Bug: #1947974\nChange-Id: I558d50d28378beb3710d98a2113ff9549c82ae17\n(cherry picked from commit 8127221479834350465251839ab88056f4f64fb4)\n'}]",3,816513,f95f2ed42a23e4ce300f0b8de726b4687c755020,20,3,1,16688,,,0,"Check a namespace existence by checking only its own directory

To check the existance of a namespace, instead of listing the
namespaces directory (by default ""/var/run/netns""), this patch
directly checks the existence of the namespace directory, using
""os.path.exists"".

This check is faster than listing the whole directory and avoids
timeout problems as reported in the related bug.

Closes-Bug: #1947974
Change-Id: I558d50d28378beb3710d98a2113ff9549c82ae17
(cherry picked from commit 8127221479834350465251839ab88056f4f64fb4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/816513/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/privileged/agent/linux/utils.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/common/net_helpers.py']",6,f95f2ed42a23e4ce300f0b8de726b4687c755020,bug/1947974, if (port.namespace is None or ip_wrapper.netns.exists(port.namespace)):, if (ip_wrapper.netns.exists(port.namespace) or port.namespace is None):,32,33
openstack%2Frequirements~stable%2Fwallaby~I49cae13e5d23197dd4ce2fe2e43bba9ca5823ce4,openstack/requirements,stable/wallaby,I49cae13e5d23197dd4ce2fe2e43bba9ca5823ce4,update constraint for python-manilaclient to new release 2.6.1,MERGED,2021-11-04 09:40:56.000000000,2021-11-04 22:25:49.000000000,2021-11-04 22:25:49.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-04 09:40:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6fb1b443c5eff07f8cf312071af75ee188e20f66', 'message': 'update constraint for python-manilaclient to new release 2.6.1\n\nmeta: version: 2.6.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: silvacarloss <ces.eduardo98@gmail.com>\nmeta: release:Commit: silvacarloss <ces.eduardo98@gmail.com>\nmeta: release:Change-Id: I6ef3f10e3120f1caed768155868f1e506b51e9a6\nmeta: release:Code-Review+1: Goutham Pacha Ravi <gouthampravi@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I49cae13e5d23197dd4ce2fe2e43bba9ca5823ce4\n'}]",0,816630,6fb1b443c5eff07f8cf312071af75ee188e20f66,8,3,1,11131,,,0,"update constraint for python-manilaclient to new release 2.6.1

meta: version: 2.6.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: silvacarloss <ces.eduardo98@gmail.com>
meta: release:Commit: silvacarloss <ces.eduardo98@gmail.com>
meta: release:Change-Id: I6ef3f10e3120f1caed768155868f1e506b51e9a6
meta: release:Code-Review+1: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I49cae13e5d23197dd4ce2fe2e43bba9ca5823ce4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/30/816630/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6fb1b443c5eff07f8cf312071af75ee188e20f66,new-release,python-manilaclient===2.6.1,python-manilaclient===2.6.0,1,1
openstack%2Fdevstack~master~Ie3cf3239b48f9905f5760ad0166eea954ecf5eed,openstack/devstack,master,Ie3cf3239b48f9905f5760ad0166eea954ecf5eed,Allow cinder default quotas configuration,MERGED,2021-08-04 22:29:50.000000000,2021-11-04 22:09:56.000000000,2021-11-04 22:08:00.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-08-04 22:29:50.000000000', 'files': ['lib/cinder', 'doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f44aa0c55a81e24a8ad321c0c741939e86705e09', 'message': 'Allow cinder default quotas configuration\n\nThe default cinder quotas for volumes, backups, or snapshots may\nbe too low for highly concurrent testing, so make these configurable\nin devstack.\n\nChange-Id: Ie3cf3239b48f9905f5760ad0166eea954ecf5eed\n'}]",3,803521,f44aa0c55a81e24a8ad321c0c741939e86705e09,19,8,1,5314,,,0,"Allow cinder default quotas configuration

The default cinder quotas for volumes, backups, or snapshots may
be too low for highly concurrent testing, so make these configurable
in devstack.

Change-Id: Ie3cf3239b48f9905f5760ad0166eea954ecf5eed
",git fetch https://review.opendev.org/openstack/devstack refs/changes/21/803521/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/cinder', 'doc/source/configuration.rst']",2,f44aa0c55a81e24a8ad321c0c741939e86705e09,cinder-quota-config,"When running highly concurrent tests, the default per-project quotas for volumes, backups, or snapshots may be too small. These can be adjusted by setting ``CINDER_QUOTA_VOLUMES``, ``CINDER_QUOTA_BACKUPS``, or ``CINDER_QUOTA_SNAPSHOTS`` to the desired value. (The default for each is 10.) ",,11,0
openstack%2Foctavia~stable%2Fussuri~I435c40a5493828bce24c2850182f0ddc8e5bdd1f,openstack/octavia,stable/ussuri,I435c40a5493828bce24c2850182f0ddc8e5bdd1f,Fix failover of az-specific loadbalancers,MERGED,2021-10-27 06:23:32.000000000,2021-11-04 21:09:16.000000000,2021-11-04 21:07:24.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30609}]","[{'number': 1, 'created': '2021-10-27 06:23:32.000000000', 'files': ['octavia/controller/worker/v1/tasks/network_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0b4e05aeb6525a7f42c5f4d1193def75d9551529', 'message': 'Fix failover of az-specific loadbalancers\n\nThere is a bug exists in CalculateAmphoraDelta class\nIf there is no such a key as constants.MANAGEMENT_NETWORK\nin availability_zone dictionary, method get will return None\nIt means that management_nets list will become [None], not\nCONF.controller_worker.amp_boot_network_list as it supposes to be\nIt breaks the following failover flow\n\nStory: 2008669\nTask: 41957\nChange-Id: I435c40a5493828bce24c2850182f0ddc8e5bdd1f\n(cherry picked from commit 81134bdfec79c8019c26e7846d31a2b2952965a0)\n(cherry picked from commit 77a87a7f335464180933cd1859cd34998d7f2e75)\n(cherry picked from commit e3026d35828b0b4541de3415e22582fa523f78e3)\n'}]",1,815587,0b4e05aeb6525a7f42c5f4d1193def75d9551529,9,4,1,29244,,,0,"Fix failover of az-specific loadbalancers

There is a bug exists in CalculateAmphoraDelta class
If there is no such a key as constants.MANAGEMENT_NETWORK
in availability_zone dictionary, method get will return None
It means that management_nets list will become [None], not
CONF.controller_worker.amp_boot_network_list as it supposes to be
It breaks the following failover flow

Story: 2008669
Task: 41957
Change-Id: I435c40a5493828bce24c2850182f0ddc8e5bdd1f
(cherry picked from commit 81134bdfec79c8019c26e7846d31a2b2952965a0)
(cherry picked from commit 77a87a7f335464180933cd1859cd34998d7f2e75)
(cherry picked from commit e3026d35828b0b4541de3415e22582fa523f78e3)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/87/815587/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/worker/v1/tasks/network_tasks.py'],1,0b4e05aeb6525a7f42c5f4d1193def75d9551529,, if (availability_zone and availability_zone.get(constants.MANAGEMENT_NETWORK)): management_nets = [availability_zone.get( constants.MANAGEMENT_NETWORK)], if availability_zone: management_nets = ( [availability_zone.get(constants.MANAGEMENT_NETWORK)] or CONF.controller_worker.amp_boot_network_list),4,4
openstack%2Fgovernance~master~I409090e891865f469610cbdafd603595ba2f6e2b,openstack/governance,master,I409090e891865f469610cbdafd603595ba2f6e2b,kolla-cli: enter retirement,MERGED,2021-10-19 15:21:23.000000000,2021-11-04 21:08:42.000000000,2021-11-04 21:06:54.000000000,"[{'_account_id': 8556}, {'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-10-19 15:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/a176c4b87b531dfe820542aec4b6fc64c5b91408', 'message': 'kolla-cli: enter retirement\n\nkolla-cli was deprecated in Ussuri\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/814597\n\nChange-Id: I409090e891865f469610cbdafd603595ba2f6e2b\n'}, {'number': 2, 'created': '2021-10-25 08:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/83052888a00815f877e4a43f0a6c88c43ebe39cf', 'message': 'kolla-cli: enter retirement\n\nkolla-cli was deprecated in Ussuri\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/814597\n\nChange-Id: I409090e891865f469610cbdafd603595ba2f6e2b\n'}, {'number': 3, 'created': '2021-10-25 09:03:40.000000000', 'files': ['reference/legacy.yaml', 'reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/c8217883225fecba3b21ae76a3ff570ee95f6836', 'message': 'kolla-cli: enter retirement\n\nkolla-cli was deprecated in Ussuri\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/814597\n\nChange-Id: I409090e891865f469610cbdafd603595ba2f6e2b\n'}]",6,814603,c8217883225fecba3b21ae76a3ff570ee95f6836,19,5,3,14826,,,0,"kolla-cli: enter retirement

kolla-cli was deprecated in Ussuri

http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html

Depends-On: https://review.opendev.org/c/openstack/project-config/+/814597

Change-Id: I409090e891865f469610cbdafd603595ba2f6e2b
",git fetch https://review.opendev.org/openstack/governance refs/changes/03/814603/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,a176c4b87b531dfe820542aec4b6fc64c5b91408,project-update,, kolla-cli: repos: - openstack/kolla-cli deprecated: ussuri release-management: deprecated,0,5
openstack%2Fproject-config~master~I13fcf081d69c1749df0d2eefc218b4a543078ba9,openstack/project-config,master,I13fcf081d69c1749df0d2eefc218b4a543078ba9,kolla-cli: enter retirement,MERGED,2021-10-19 14:48:33.000000000,2021-11-04 20:55:42.000000000,2021-11-04 20:22:59.000000000,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-10-19 14:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/17940e6240b3ced372a0cede6e255fe01193dda7', 'message': 'kolla-cli: enter retirement\n\nkolla-cli was deprecated in Ussuri\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html\n\nChange-Id: I13fcf081d69c1749df0d2eefc218b4a543078ba9\n'}, {'number': 2, 'created': '2021-10-19 15:05:56.000000000', 'files': ['gerritbot/channels.yaml', 'gerrit/acls/openstack/kolla-cli.config', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0258fcb577f88065745348c6905717f8183838e5', 'message': 'kolla-cli: enter retirement\n\nkolla-cli was deprecated in Ussuri\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html\n\nChange-Id: I13fcf081d69c1749df0d2eefc218b4a543078ba9\n'}]",1,814597,0258fcb577f88065745348c6905717f8183838e5,13,6,2,14826,,,0,"kolla-cli: enter retirement

kolla-cli was deprecated in Ussuri

http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html

Change-Id: I13fcf081d69c1749df0d2eefc218b4a543078ba9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/97/814597/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/acls/openstack/kolla-cli.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",5,17940e6240b3ced372a0cede6e255fe01193dda7,,, - openstack/kolla-cli,2,36
openstack%2Fkuryr-kubernetes~master~I56b9d6b3d1d17b8c999788c26f01b8cb4d976760,openstack/kuryr-kubernetes,master,I56b9d6b3d1d17b8c999788c26f01b8cb4d976760,Decrease log level of leftover ports message,MERGED,2021-11-04 15:34:44.000000000,2021-11-04 20:52:01.000000000,2021-11-04 20:39:52.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-11-04 15:34:44.000000000', 'files': ['kuryr_kubernetes/controller/drivers/namespace_subnet.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a207fdf62ec907535648d667d144283d4d38cb19', 'message': ""Decrease log level of leftover ports message\n\nNo need to log full traceback when we still have leftover ports on a\nnetwork we're attempting to delete. This commit decreases the log level\nof that message to warning in order to skip traceback.\n\nChange-Id: I56b9d6b3d1d17b8c999788c26f01b8cb4d976760\n""}]",0,816712,a207fdf62ec907535648d667d144283d4d38cb19,8,3,1,11600,,,0,"Decrease log level of leftover ports message

No need to log full traceback when we still have leftover ports on a
network we're attempting to delete. This commit decreases the log level
of that message to warning in order to skip traceback.

Change-Id: I56b9d6b3d1d17b8c999788c26f01b8cb4d976760
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/12/816712/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/namespace_subnet.py'],1,a207fdf62ec907535648d667d144283d4d38cb19,exceptions," LOG.warning(""One or more ports in use on the network %s. "" ""Deleting leftovers ports before retrying"", net_id)"," LOG.exception(""One or more ports in use on the network %s. "" ""Deleting leftovers ports before retrying"", net_id)",2,2
openstack%2Fkuryr-kubernetes~master~I9fca68c995bfb29aa747b187f1b464351762d2c4,openstack/kuryr-kubernetes,master,I9fca68c995bfb29aa747b187f1b464351762d2c4,Remove Amphora job from gate queue,MERGED,2021-11-04 15:37:18.000000000,2021-11-04 20:50:21.000000000,2021-11-04 20:39:50.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-11-04 15:37:18.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0105d228678f42f5b432b33b027263878df0cef0', 'message': 'Remove Amphora job from gate queue\n\nGate queue should not have non-voting jobs, so this commit removes\nkuryr-kubernetes-tempest-amphora from gate.\n\nChange-Id: I9fca68c995bfb29aa747b187f1b464351762d2c4\n'}]",0,816714,0105d228678f42f5b432b33b027263878df0cef0,8,3,1,11600,,,0,"Remove Amphora job from gate queue

Gate queue should not have non-voting jobs, so this commit removes
kuryr-kubernetes-tempest-amphora from gate.

Change-Id: I9fca68c995bfb29aa747b187f1b464351762d2c4
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/14/816714/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,0105d228678f42f5b432b33b027263878df0cef0,remove-amphora,, - kuryr-kubernetes-tempest-amphora,0,1
openstack%2Fkuryr-kubernetes~master~If106637c81a5566d7bea00561f5cf1b381f97f23,openstack/kuryr-kubernetes,master,If106637c81a5566d7bea00561f5cf1b381f97f23,Ensure DOWN subports are cleaned up,MERGED,2021-10-25 16:35:36.000000000,2021-11-04 20:15:34.000000000,2021-11-04 20:14:00.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-10-25 16:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fd1c03b2275890c012ac0dbe07b2c5fd27fd31e6', 'message': ""Ensure DOWN subports are cleaned up\n\nDue to a known Neutron issue it's possible\nto have subports with DOWN status and upon\ncontroller restart those subports with are\nnot taken into account when repopulating the\npools resulting in leftovers. This commit\nensures nodes_ports_cleanup thread detach the\nPort from the Trunk and remove it from the\nTrunk.\n\nChange-Id: If106637c81a5566d7bea00561f5cf1b381f97f23\n""}, {'number': 2, 'created': '2021-10-29 09:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/07b2092331f72b7a9431475dba955a791bcb9e52', 'message': ""Ensure DOWN subports are cleaned up\n\nDue to a known Neutron issue it's possible\nto have subports with DOWN status and upon\ncontroller restart those subports with are\nnot taken into account when repopulating the\npools resulting in leftovers. This commit\nensures nodes_ports_cleanup thread detach the\nPort from the Trunk and remove it from the\nTrunk.\n\nChange-Id: If106637c81a5566d7bea00561f5cf1b381f97f23\n""}, {'number': 3, 'created': '2021-10-29 10:19:21.000000000', 'files': ['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/182364e09d9ee8ed1cc5d29834946701a55bc545', 'message': ""Ensure DOWN subports are cleaned up\n\nDue to a known Neutron issue it's possible\nto have subports with DOWN status and upon\ncontroller restart those subports with are\nnot taken into account when repopulating the\npools resulting in leftovers. This commit\nensures nodes_ports_cleanup thread detach the\nPort from the Trunk and remove it from the\nTrunk.\n\nChange-Id: If106637c81a5566d7bea00561f5cf1b381f97f23\n""}]",6,815338,182364e09d9ee8ed1cc5d29834946701a55bc545,20,4,3,27032,,,0,"Ensure DOWN subports are cleaned up

Due to a known Neutron issue it's possible
to have subports with DOWN status and upon
controller restart those subports with are
not taken into account when repopulating the
pools resulting in leftovers. This commit
ensures nodes_ports_cleanup thread detach the
Port from the Trunk and remove it from the
Trunk.

Change-Id: If106637c81a5566d7bea00561f5cf1b381f97f23
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/38/815338/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py']",2,fd1c03b2275890c012ac0dbe07b2c5fd27fd31e6,remove-down-ports, port_deleted = c_utils.delete_port(subport) if port_deleted:," try: os_net.delete_port(subport.id) except os_exc.SDKException: LOG.debug(""Problem deleting leftover port %s. "" ""Skipping."", subport.id) else:",6,7
openstack%2Fneutron~master~If86ecce15b077f6baef74903a3a4f41a450ec755,openstack/neutron,master,If86ecce15b077f6baef74903a3a4f41a450ec755,"Replace ""tenant_id"" with ""project_id"" in metering service",MERGED,2021-10-20 16:46:04.000000000,2021-11-04 20:07:43.000000000,2021-11-04 20:05:32.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-10-20 16:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec364e8cd810f00eb3c639c1df56fb9914bad5c5', 'message': 'Replace ""tenant_id"" with ""project_id"" in metering service\n\nThis is part of the remaining technical debt of the specs\nhttps://specs.openstack.org/openstack/neutron-specs/specs/newton/moving-to-keystone-v3.html\n\nChange-Id: If86ecce15b077f6baef74903a3a4f41a450ec755\nBlueprint: https://blueprints.launchpad.net/neutron/+spec/keystone-v3\n'}, {'number': 2, 'created': '2021-10-22 07:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b31938f983367271656e44fcfd1f423fa00bbf21', 'message': 'Replace ""tenant_id"" with ""project_id"" in metering service\n\nThis is part of the remaining technical debt of the specs\nhttps://specs.openstack.org/openstack/neutron-specs/specs/newton/moving-to-keystone-v3.html\n\nChange-Id: If86ecce15b077f6baef74903a3a4f41a450ec755\nBlueprint: https://blueprints.launchpad.net/neutron/+spec/keystone-v3\n'}, {'number': 3, 'created': '2021-10-27 15:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa40f2a4bcba166a4d3be9924c941de80c0c7901', 'message': 'Replace ""tenant_id"" with ""project_id"" in metering service\n\nThis is part of the remaining technical debt of the specs\nhttps://specs.openstack.org/openstack/neutron-specs/specs/newton/moving-to-keystone-v3.html\n\nChange-Id: If86ecce15b077f6baef74903a3a4f41a450ec755\nBlueprint: https://blueprints.launchpad.net/neutron/+spec/keystone-v3\n'}, {'number': 4, 'created': '2021-10-28 09:43:05.000000000', 'files': ['neutron/services/metering/drivers/abstract_driver.py', 'neutron/tests/unit/services/metering/test_metering_plugin.py', 'neutron/services/metering/agents/metering_agent.py', 'neutron/db/metering/metering_db.py', 'neutron/services/metering/drivers/iptables/iptables_driver.py', 'neutron/db/models/metering.py', 'neutron/tests/unit/services/metering/drivers/test_iptables.py', 'neutron/tests/unit/services/metering/agents/test_metering_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/edf1d0c7599b096f731712f391e683e7e4f46d8f', 'message': 'Replace ""tenant_id"" with ""project_id"" in metering service\n\nThis is part of the remaining technical debt of the specs\nhttps://specs.openstack.org/openstack/neutron-specs/specs/newton/moving-to-keystone-v3.html\n\nChange-Id: If86ecce15b077f6baef74903a3a4f41a450ec755\nBlueprint: https://blueprints.launchpad.net/neutron/+spec/keystone-v3\n'}]",5,814807,edf1d0c7599b096f731712f391e683e7e4f46d8f,32,5,4,16688,,,0,"Replace ""tenant_id"" with ""project_id"" in metering service

This is part of the remaining technical debt of the specs
https://specs.openstack.org/openstack/neutron-specs/specs/newton/moving-to-keystone-v3.html

Change-Id: If86ecce15b077f6baef74903a3a4f41a450ec755
Blueprint: https://blueprints.launchpad.net/neutron/+spec/keystone-v3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/814807/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/metering/drivers/abstract_driver.py', 'neutron/services/metering/agents/metering_agent.py', 'neutron/db/metering/metering_db.py', 'neutron/services/metering/drivers/iptables/iptables_driver.py', 'neutron/db/models/metering.py']",5,ec364e8cd810f00eb3c639c1df56fb9914bad5c5,bp/keystone-v3," primaryjoin=""MeteringLabel.project_id==Router.project_id"", foreign_keys='MeteringLabel.project_id',"," primaryjoin=""MeteringLabel.tenant_id==Router.tenant_id"", foreign_keys='MeteringLabel.tenant_id',",15,15
openstack%2Fneutron~stable%2Fvictoria~I558d50d28378beb3710d98a2113ff9549c82ae17,openstack/neutron,stable/victoria,I558d50d28378beb3710d98a2113ff9549c82ae17,Check a namespace existence by checking only its own directory,MERGED,2021-11-03 14:14:34.000000000,2021-11-04 20:07:29.000000000,2021-11-04 20:05:36.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 14:14:34.000000000', 'files': ['neutron/privileged/agent/linux/utils.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a9c05a92498630b85102eb6af1eccb415fd605a', 'message': 'Check a namespace existence by checking only its own directory\n\nTo check the existance of a namespace, instead of listing the\nnamespaces directory (by default ""/var/run/netns""), this patch\ndirectly checks the existence of the namespace directory, using\n""os.path.exists"".\n\nThis check is faster than listing the whole directory and avoids\ntimeout problems as reported in the related bug.\n\nConflicts:\n      neutron/privileged/agent/linux/utils.py\n\nCloses-Bug: #1947974\nChange-Id: I558d50d28378beb3710d98a2113ff9549c82ae17\n(cherry picked from commit 8127221479834350465251839ab88056f4f64fb4)\n'}]",2,816515,6a9c05a92498630b85102eb6af1eccb415fd605a,12,3,1,16688,,,0,"Check a namespace existence by checking only its own directory

To check the existance of a namespace, instead of listing the
namespaces directory (by default ""/var/run/netns""), this patch
directly checks the existence of the namespace directory, using
""os.path.exists"".

This check is faster than listing the whole directory and avoids
timeout problems as reported in the related bug.

Conflicts:
      neutron/privileged/agent/linux/utils.py

Closes-Bug: #1947974
Change-Id: I558d50d28378beb3710d98a2113ff9549c82ae17
(cherry picked from commit 8127221479834350465251839ab88056f4f64fb4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/816515/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/privileged/agent/linux/utils.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/common/net_helpers.py']",6,6a9c05a92498630b85102eb6af1eccb415fd605a,bug/1947974, if (port.namespace is None or ip_wrapper.netns.exists(port.namespace)):, if (ip_wrapper.netns.exists(port.namespace) or port.namespace is None):,32,33
openstack%2Ftripleo-quickstart~master~I7f2e4b5ea2b929cbcb0a024fa08f7e654914a2df,openstack/tripleo-quickstart,master,I7f2e4b5ea2b929cbcb0a024fa08f7e654914a2df,Update featureset 20 to use secure RBAC project personas,ABANDONED,2021-09-17 16:17:03.000000000,2021-11-04 20:02:16.000000000,,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-09-17 16:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fff9725ae2035a0ed37e0dbd6e68c31e1e500850', 'message': 'Update featureset 20 to use secure RBAC project personas\n\nThis commit updates the extra arguments for featureset 20 to use the\nproject persona overrides from THT. This should be exercise that\nauthorization model in a deployment with OVB and tempest.\n\nChange-Id: I7f2e4b5ea2b929cbcb0a024fa08f7e654914a2df\n'}, {'number': 2, 'created': '2021-09-17 17:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a598b459cbab93c5980bfcdac1080b7744e997e9', 'message': 'Update featureset 20 to use secure RBAC project personas\n\nThis commit updates the extra arguments for featureset 20 to use the\nproject persona overrides from THT. This should be exercise that\nauthorization model in a deployment with OVB and tempest.\n\nChange-Id: I7f2e4b5ea2b929cbcb0a024fa08f7e654914a2df\n'}, {'number': 3, 'created': '2021-09-23 15:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f87b35be5488b8269185f21bded62903b3e691c7', 'message': 'Update featureset 20 to use secure RBAC project personas\n\nThis commit updates the extra arguments for featureset 20 to use the\nproject persona overrides from THT. This should be exercise that\nauthorization model in a deployment with OVB and tempest.\n\nChange-Id: I7f2e4b5ea2b929cbcb0a024fa08f7e654914a2df\n'}, {'number': 4, 'created': '2021-10-06 13:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9fa643f50d002d9aed66bf4fab187ea269838858', 'message': 'Update featureset 20 to use secure RBAC project personas\n\nThis commit updates the extra arguments for featureset 20 to use the\nproject persona overrides from THT. This should be exercise that\nauthorization model in a deployment with OVB and tempest.\n\nChange-Id: I7f2e4b5ea2b929cbcb0a024fa08f7e654914a2df\n'}, {'number': 5, 'created': '2021-10-14 19:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/227805ec243bd678e73ad3ed94afb8e03c33982a', 'message': 'Update featureset 20 to use secure RBAC project personas\n\nThis commit updates the extra arguments for featureset 20 to use the\nproject persona overrides from THT. This should be exercise that\nauthorization model in a deployment with OVB and tempest.\n\nChange-Id: I7f2e4b5ea2b929cbcb0a024fa08f7e654914a2df\n'}, {'number': 6, 'created': '2021-10-14 21:37:12.000000000', 'files': ['config/general_config/featureset020.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1ffa18a14b69c884d25e2fb36d674da6fbb9b685', 'message': 'Update featureset 20 to use secure RBAC project personas\n\nThis commit updates the extra arguments for featureset 20 to use the\nproject persona overrides from THT. This should be exercise that\nauthorization model in a deployment with OVB and tempest.\n\nChange-Id: I7f2e4b5ea2b929cbcb0a024fa08f7e654914a2df\n'}]",1,809811,1ffa18a14b69c884d25e2fb36d674da6fbb9b685,42,7,6,5046,,,0,"Update featureset 20 to use secure RBAC project personas

This commit updates the extra arguments for featureset 20 to use the
project persona overrides from THT. This should be exercise that
authorization model in a deployment with OVB and tempest.

Change-Id: I7f2e4b5ea2b929cbcb0a024fa08f7e654914a2df
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/11/809811/5 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset020.yml'],1,fff9725ae2035a0ed37e0dbd6e68c31e1e500850,secure-rbac," {%- if release not in ['train','ussuri','victoria', 'wallaby'] -%} -e /usr/share/openstack-tripleo-heat-templates/environments/enable-secure-rbac.yaml {%- endif -%}",,3,0
openstack%2Ftripleo-quickstart~master~Icf7e94f8904f1f6ca38ab3e22eb9d62ba2794646,openstack/tripleo-quickstart,master,Icf7e94f8904f1f6ca38ab3e22eb9d62ba2794646,Update featureset 10 to deploy with secure RBAC's project personas,ABANDONED,2021-09-17 14:37:04.000000000,2021-11-04 20:02:02.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-09-17 14:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/165902b0f1ea237e73ca3a02e7b6064396cb3331', 'message': ""Update featureset 10 to deploy with secure RBAC's project personas\n\nAs of the Xena release, all the OpenStack services support at least a\nproject-admin, project-member, and project-reader. The project-admin is\nan admisitrator that has total control over the deployment (this\nbehavior is currently in the process of being refactored into the\nsystem-admin persona).\n\nThe project-member persona is anyone with the 'member' default role on\na project and they have the ability to create, update, delete, and read\nresources within a project.\n\nThe project-reader persona is anyone with the 'reader' default role on a\nproject and they have the ability to read resources within a project.\nThey're not allowed to make writable changes to resources.\n\nBoth the project-member and project-reader personas adhere to tenancy\nconstraints, meaning they're not allowed to interact with resources that\nbelong to other projects.\n\nThese personas are implemented consistently across OpenStack services,\nsome of which are starting to implement support for system personas.\nThis change adds a template to configure each service to use these new,\ncommon project personas.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/781571\nChange-Id: Icf7e94f8904f1f6ca38ab3e22eb9d62ba2794646\n""}, {'number': 2, 'created': '2021-09-17 14:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6e0aaaf1947dfd5dbf9bf126c0e08eafe380efd9', 'message': ""Update featureset 10 to deploy with secure RBAC's project personas\n\nAs of the Xena release, all the OpenStack services support at least a\nproject-admin, project-member, and project-reader. The project-admin is\nan admisitrator that has total control over the deployment (this\nbehavior is currently in the process of being refactored into the\nsystem-admin persona).\n\nThe project-member persona is anyone with the 'member' default role on\na project and they have the ability to create, update, delete, and read\nresources within a project.\n\nThe project-reader persona is anyone with the 'reader' default role on a\nproject and they have the ability to read resources within a project.\nThey're not allowed to make writable changes to resources.\n\nBoth the project-member and project-reader personas adhere to tenancy\nconstraints, meaning they're not allowed to interact with resources that\nbelong to other projects.\n\nThese personas are implemented consistently across OpenStack services,\nsome of which are starting to implement support for system personas.\nThis change adds a template to configure each service to use these new,\ncommon project personas.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/781571\nChange-Id: Icf7e94f8904f1f6ca38ab3e22eb9d62ba2794646\n""}, {'number': 3, 'created': '2021-09-17 17:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/83858bca8f1611e4814eab58c7a901a737fd2120', 'message': ""Update featureset 10 to deploy with secure RBAC's project personas\n\nAs of the Xena release, all the OpenStack services support at least a\nproject-admin, project-member, and project-reader. The project-admin is\nan admisitrator that has total control over the deployment (this\nbehavior is currently in the process of being refactored into the\nsystem-admin persona).\n\nThe project-member persona is anyone with the 'member' default role on\na project and they have the ability to create, update, delete, and read\nresources within a project.\n\nThe project-reader persona is anyone with the 'reader' default role on a\nproject and they have the ability to read resources within a project.\nThey're not allowed to make writable changes to resources.\n\nBoth the project-member and project-reader personas adhere to tenancy\nconstraints, meaning they're not allowed to interact with resources that\nbelong to other projects.\n\nThese personas are implemented consistently across OpenStack services,\nsome of which are starting to implement support for system personas.\nThis change adds a template to configure each service to use these new,\ncommon project personas.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/781571\nChange-Id: Icf7e94f8904f1f6ca38ab3e22eb9d62ba2794646\n""}, {'number': 4, 'created': '2021-09-23 15:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dffaffd40c60129fd2ded54bfd33c0f72503a2a8', 'message': ""Update featureset 10 to deploy with secure RBAC's project personas\n\nAs of the Xena release, all the OpenStack services support at least a\nproject-admin, project-member, and project-reader. The project-admin is\nan administrator that has total control over the deployment (this\nbehavior is currently in the process of being refactored into the\nsystem-admin persona).\n\nThe project-member persona is anyone with the 'member' default role on\na project and they have the ability to create, update, delete, and read\nresources within a project.\n\nThe project-reader persona is anyone with the 'reader' default role on a\nproject and they have the ability to read resources within a project.\nThey're not allowed to make writable changes to resources.\n\nBoth the project-member and project-reader personas adhere to tenancy\nconstraints, meaning they're not allowed to interact with resources that\nbelong to other projects.\n\nThese personas are implemented consistently across OpenStack services,\nsome of which are starting to implement support for system personas.\nThis change adds a template to configure each service to use these new,\ncommon project personas.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810458\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810466\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810455\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810456\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810460\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810438\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810496\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810495\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810494\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810435\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810325\n\nChange-Id: Icf7e94f8904f1f6ca38ab3e22eb9d62ba2794646\n""}, {'number': 5, 'created': '2021-10-06 13:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fb21eb1e3329172a4d3db9584ffe141c3ac4bde1', 'message': ""Update featureset 10 to deploy with secure RBAC's project personas\n\nAs of the Xena release, all the OpenStack services support at least a\nproject-admin, project-member, and project-reader. The project-admin is\nan administrator that has total control over the deployment (this\nbehavior is currently in the process of being refactored into the\nsystem-admin persona).\n\nThe project-member persona is anyone with the 'member' default role on\na project and they have the ability to create, update, delete, and read\nresources within a project.\n\nThe project-reader persona is anyone with the 'reader' default role on a\nproject and they have the ability to read resources within a project.\nThey're not allowed to make writable changes to resources.\n\nBoth the project-member and project-reader personas adhere to tenancy\nconstraints, meaning they're not allowed to interact with resources that\nbelong to other projects.\n\nThese personas are implemented consistently across OpenStack services,\nsome of which are starting to implement support for system personas.\nThis change adds a template to configure each service to use these new,\ncommon project personas.\n\nThe following patches will update the enable-secure-rbac.yaml\nenvironment file to implement project personas, which will get tested in\nfeatureset 10.\n\n- https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810458\n- https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810466\n- https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810455\n- https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810456\n- https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810460\n- https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810438\n- https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810496\n- https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810495\n- https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810494\n- https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810435\n- https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810325\n\nChange-Id: Icf7e94f8904f1f6ca38ab3e22eb9d62ba2794646\n""}, {'number': 6, 'created': '2021-10-14 18:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6f0207e52f9fb2db29f6e573a0154b6e8a2e9312', 'message': ""Update featureset 10 to deploy with secure RBAC's project personas\n\nAs of the Xena release, all the OpenStack services support at least a\nproject-admin, project-member, and project-reader. The project-admin is\nan administrator that has total control over the deployment (this\nbehavior is currently in the process of being refactored into the\nsystem-admin persona).\n\nThe project-member persona is anyone with the 'member' default role on\na project and they have the ability to create, update, delete, and read\nresources within a project.\n\nThe project-reader persona is anyone with the 'reader' default role on a\nproject and they have the ability to read resources within a project.\nThey're not allowed to make writable changes to resources.\n\nBoth the project-member and project-reader personas adhere to tenancy\nconstraints, meaning they're not allowed to interact with resources that\nbelong to other projects.\n\nThese personas are implemented consistently across OpenStack services,\nsome of which are starting to implement support for system personas.\nThis change adds a template to configure each service to use these new,\ncommon project personas.\n\nThe following patches will update the enable-secure-rbac.yaml\nenvironment file to implement project personas, which will get tested in\nfeatureset 10.\n\n- https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810496\n- https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810325\n\nChange-Id: Icf7e94f8904f1f6ca38ab3e22eb9d62ba2794646\n""}, {'number': 7, 'created': '2021-10-14 21:37:02.000000000', 'files': ['config/general_config/featureset010.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ebe28d33a278d189eaf0442aec0b625ce34726ca', 'message': ""Update featureset 10 to deploy with secure RBAC's project personas\n\nAs of the Xena release, all the OpenStack services support at least a\nproject-admin, project-member, and project-reader. The project-admin is\nan administrator that has total control over the deployment (this\nbehavior is currently in the process of being refactored into the\nsystem-admin persona).\n\nThe project-member persona is anyone with the 'member' default role on\na project and they have the ability to create, update, delete, and read\nresources within a project.\n\nThe project-reader persona is anyone with the 'reader' default role on a\nproject and they have the ability to read resources within a project.\nThey're not allowed to make writable changes to resources.\n\nBoth the project-member and project-reader personas adhere to tenancy\nconstraints, meaning they're not allowed to interact with resources that\nbelong to other projects.\n\nThese personas are implemented consistently across OpenStack services,\nsome of which are starting to implement support for system personas.\nThis change adds a template to configure each service to use these new,\ncommon project personas.\n\nThe following patches will update the enable-secure-rbac.yaml\nenvironment file to implement project personas, which will get tested in\nfeatureset 10.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810496\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810325\n\nChange-Id: Icf7e94f8904f1f6ca38ab3e22eb9d62ba2794646\n""}]",0,809749,ebe28d33a278d189eaf0442aec0b625ce34726ca,35,5,7,5046,,,0,"Update featureset 10 to deploy with secure RBAC's project personas

As of the Xena release, all the OpenStack services support at least a
project-admin, project-member, and project-reader. The project-admin is
an administrator that has total control over the deployment (this
behavior is currently in the process of being refactored into the
system-admin persona).

The project-member persona is anyone with the 'member' default role on
a project and they have the ability to create, update, delete, and read
resources within a project.

The project-reader persona is anyone with the 'reader' default role on a
project and they have the ability to read resources within a project.
They're not allowed to make writable changes to resources.

Both the project-member and project-reader personas adhere to tenancy
constraints, meaning they're not allowed to interact with resources that
belong to other projects.

These personas are implemented consistently across OpenStack services,
some of which are starting to implement support for system personas.
This change adds a template to configure each service to use these new,
common project personas.

The following patches will update the enable-secure-rbac.yaml
environment file to implement project personas, which will get tested in
featureset 10.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810496
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810325

Change-Id: Icf7e94f8904f1f6ca38ab3e22eb9d62ba2794646
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/49/809749/5 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset010.yml'],1,165902b0f1ea237e73ca3a02e7b6064396cb3331,secure-rbac, -e /usr/share/openstack-tripleo-heat-templates/environments/enable-secure-rbac.yaml,,1,0
openstack%2Fglance~master~I8097a015e2a1ec91dd6e810fb9d694caa83e4dc7,openstack/glance,master,I8097a015e2a1ec91dd6e810fb9d694caa83e4dc7,DNM: Experiment with setting is_admin for multiple admin types,ABANDONED,2021-10-20 14:44:59.000000000,2021-11-04 19:59:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-20 14:44:59.000000000', 'files': ['glance/context.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/bdc851f507d65b57a4c089aa1fb027db5fa869e9', 'message': 'DNM: Experiment with setting is_admin for multiple admin types\n\nChange-Id: I8097a015e2a1ec91dd6e810fb9d694caa83e4dc7\n'}]",1,814797,bdc851f507d65b57a4c089aa1fb027db5fa869e9,3,1,1,5046,,,0,"DNM: Experiment with setting is_admin for multiple admin types

Change-Id: I8097a015e2a1ec91dd6e810fb9d694caa83e4dc7
",git fetch https://review.opendev.org/openstack/glance refs/changes/97/814797/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/context.py'],1,bdc851f507d65b57a4c089aa1fb027db5fa869e9,, self.is_admin = False if not self.is_admin: if self.domain and 'admin' in self.roles: self.is_admin = True elif self.system_scope and 'admin' in self.roles: self.is_admin = True elif self.policy_enforcer.check_is_admin(self): self.is_admin = True , if not self.is_admin: self.is_admin = self.policy_enforcer.check_is_admin(self),8,1
openstack%2Fdevstack~master~Ia49b198ac10d5f402180a8fac85b62f4b713c060,openstack/devstack,master,Ia49b198ac10d5f402180a8fac85b62f4b713c060,Skip creating default domain,ABANDONED,2019-08-01 04:06:24.000000000,2021-11-04 19:56:15.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 04:06:24.000000000', 'files': ['lib/keystone'], 'web_link': 'https://opendev.org/openstack/devstack/commit/70e401d4a5612f38003b0fa38ad44bc495404de6', 'message': 'Skip creating default domain\n\nIf SERVICE_DOMAIN_NAME is ""Default"", which it always is (at the\nmoment) this is a no-op.\n\nChange-Id: Ia49b198ac10d5f402180a8fac85b62f4b713c060\n'}]",1,673941,70e401d4a5612f38003b0fa38ad44bc495404de6,4,2,1,7118,,,0,"Skip creating default domain

If SERVICE_DOMAIN_NAME is ""Default"", which it always is (at the
moment) this is a no-op.

Change-Id: Ia49b198ac10d5f402180a8fac85b62f4b713c060
",git fetch https://review.opendev.org/openstack/devstack refs/changes/41/673941/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/keystone'],1,70e401d4a5612f38003b0fa38ad44bc495404de6,only-create," if [[ ${SERVICE_DOMAIN_NAME} != ""Default"" ]]; then get_or_create_domain ""$SERVICE_DOMAIN_NAME"" fi"," get_or_create_domain ""$SERVICE_DOMAIN_NAME""",3,1
openstack%2Ftripleo-docs~master~I790a76a8ce748b534983460a4b93432c8f5d8815,openstack/tripleo-docs,master,I790a76a8ce748b534983460a4b93432c8f5d8815,trivial: update non-existent network-data-samples location in deploy-guide,ABANDONED,2021-09-09 20:54:28.000000000,2021-11-04 19:55:22.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-09-09 20:54:28.000000000', 'files': ['deploy-guide/source/deployment/network_v2.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d0c3369b09fdf9d053f3417c3f9ac7fe43e55006', 'message': ""trivial: update non-existent network-data-samples location in deploy-guide\n\nThe network v2 documentation tells users they can find sample network\ndata in /usr/share/openstack-tripleo-heat-templates/network-data-samples\non the undercloud host, but that location doesn't exist. Instead, it\nlooks like the sample network data is in\n/usr/share/openstack-tripleo-heat-templates.\n\nThis commit updates the guide to reference an actual location so it's\nnot misleading to readers.\n\nChange-Id: I790a76a8ce748b534983460a4b93432c8f5d8815\n""}]",2,808136,d0c3369b09fdf9d053f3417c3f9ac7fe43e55006,7,4,1,5046,,,0,"trivial: update non-existent network-data-samples location in deploy-guide

The network v2 documentation tells users they can find sample network
data in /usr/share/openstack-tripleo-heat-templates/network-data-samples
on the undercloud host, but that location doesn't exist. Instead, it
looks like the sample network data is in
/usr/share/openstack-tripleo-heat-templates.

This commit updates the guide to reference an actual location so it's
not misleading to readers.

Change-Id: I790a76a8ce748b534983460a4b93432c8f5d8815
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/36/808136/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/network_v2.rst'],1,d0c3369b09fdf9d053f3417c3f9ac7fe43e55006,,or in the ``/usr/share/openstack-tripleo-heat-templates/``or in the ``/usr/share/openstack-tripleo-heat-templates/``,or in the ``/usr/share/openstack-tripleo-heat-templates/network-data-samples``or in the ``/usr/share/openstack-tripleo-heat-templates/network-data-samples``,2,2
openstack%2Ftripleo-specs~master~I83390a205f80cd88e8befdf8ca7571b8f2a7c002,openstack/tripleo-specs,master,I83390a205f80cd88e8befdf8ca7571b8f2a7c002,Restore reproducibility in docs,MERGED,2021-10-14 12:59:10.000000000,2021-11-04 19:28:35.000000000,2021-11-04 19:25:45.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-14 12:59:10.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/1ad6e221fcccffd8ad546110637ecef28c30b359', 'message': ""Restore reproducibility in docs\n\nThe documentation is writting the date in its copyright. This is\nconsidered bad practice, because this kills reproducibility. If\nyou don't know about reproducible build, please read on:\n\nhttps: //reproducible-builds.org/\nChange-Id: I83390a205f80cd88e8befdf8ca7571b8f2a7c002\n""}]",0,814006,1ad6e221fcccffd8ad546110637ecef28c30b359,9,3,1,28522,,,0,"Restore reproducibility in docs

The documentation is writting the date in its copyright. This is
considered bad practice, because this kills reproducibility. If
you don't know about reproducible build, please read on:

https: //reproducible-builds.org/
Change-Id: I83390a205f80cd88e8befdf8ca7571b8f2a7c002
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/06/814006/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,1ad6e221fcccffd8ad546110637ecef28c30b359,,copyright = 'OpenStack Foundation',"copyright = '%s, OpenStack Foundation' % datetime.date.today().year",1,1
openstack%2Fnova~master~Icc45868850a56af1e293e2c0fa350ad8cecc36b4,openstack/nova,master,Icc45868850a56af1e293e2c0fa350ad8cecc36b4,DNM/WIP libvirt: Default x86_64 instances to the q35 machine type,ABANDONED,2021-11-04 09:40:10.000000000,2021-11-04 19:23:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-04 09:40:10.000000000', 'files': ['nova/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fe67b1d351ee525cef4edf5cba33932ed0d9422b', 'message': 'DNM/WIP libvirt: Default x86_64 instances to the q35 machine type\n\nJust testing for any fallout for now.\n\nChange-Id: Icc45868850a56af1e293e2c0fa350ad8cecc36b4\n'}]",0,816629,fe67b1d351ee525cef4edf5cba33932ed0d9422b,9,1,1,10135,,,0,"DNM/WIP libvirt: Default x86_64 instances to the q35 machine type

Just testing for any fallout for now.

Change-Id: Icc45868850a56af1e293e2c0fa350ad8cecc36b4
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/816629/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/utils.py'],1,fe67b1d351ee525cef4edf5cba33932ed0d9422b,," obj_fields.Architecture.X86_64: ""q35"","," obj_fields.Architecture.X86_64: ""pc"",",1,1
openstack%2Fcharm-rabbitmq-server~master~I1d5d5bf5435c3810886947bcc6987739a3f9ea59,openstack/charm-rabbitmq-server,master,I1d5d5bf5435c3810886947bcc6987739a3f9ea59,Implemented deferred service restart Nagios check,ABANDONED,2021-11-03 22:55:49.000000000,2021-11-04 18:01:34.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 22:55:49.000000000', 'files': ['files/check_rabbitmq_deferred_restarts.py', 'unit_tests/test_rabbitmq_server_relations.py', 'unit_tests/test_rabbit_utils.py', 'hooks/rabbitmq_server_relations.py', 'hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/d1e3407b866b6f8075483432a0b2977b33a713c6', 'message': 'Implemented deferred service restart Nagios check\n\n* New check alerts on CRITICAL when deferred restarts are detected\n* New check is found at files/check_rabbitmq_deferred_restarts.py\n* New check only runs when `enable-auto-restarts` is False\n    * Check is removed when `enable-auto-restarts` returns to True\n* Only alerts for deferred service restarts - not deferred hooks\n* Implemented similarly to other nagios checks\n* New logic required in hooks/rabbitmq_server_relations.py:\n    * The `if not allowed` check in `config_changed` function now syncs\n    nrpe files and renders the new check\n\nChange-Id: I1d5d5bf5435c3810886947bcc6987739a3f9ea59\n'}]",0,816589,d1e3407b866b6f8075483432a0b2977b33a713c6,4,2,1,33192,,,0,"Implemented deferred service restart Nagios check

* New check alerts on CRITICAL when deferred restarts are detected
* New check is found at files/check_rabbitmq_deferred_restarts.py
* New check only runs when `enable-auto-restarts` is False
    * Check is removed when `enable-auto-restarts` returns to True
* Only alerts for deferred service restarts - not deferred hooks
* Implemented similarly to other nagios checks
* New logic required in hooks/rabbitmq_server_relations.py:
    * The `if not allowed` check in `config_changed` function now syncs
    nrpe files and renders the new check

Change-Id: I1d5d5bf5435c3810886947bcc6987739a3f9ea59
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/89/816589/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/check_rabbitmq_deferred_restarts.py', 'unit_tests/test_rabbitmq_server_relations.py', 'unit_tests/test_rabbit_utils.py', 'hooks/rabbitmq_server_relations.py', 'hooks/rabbit_utils.py']",5,d1e3407b866b6f8075483432a0b2977b33a713c6,check-deferred-restarts," if not config('enable-auto-restarts'): rsync(os.path.join(charm_dir(), 'files', 'check_rabbitmq_deferred_restarts.py'), os.path.join(NAGIOS_PLUGINS, 'check_rabbitmq_deferred_restarts.py')) if config('enable-auto-restarts'): # This script is redundant if the value `enable-auto-restarts` isn't # in the config remove_file(os.path.join(NAGIOS_PLUGINS, 'check_rabbitmq_deferred_restarts.py')) def nrpe_update_deferred_restarts_check(nrpe_compat): """"""Add/Remove the RabbitMQ deferred service check If the enable-auto-restarts is set to `False`, it will add the deferred restarts check, otherwise it will remove it. :param nrpe_compat: the NRPE class object :type: nrpe.NRPE """""" shortname = RABBIT_USER + '_deferred_restarts' cmd = '{}/check_rabbitmq_deferred_restarts.py'.format(NAGIOS_PLUGINS) if not config('enable-auto-restarts'): log('Adding rabbitmq deferred restart check', level=INFO) nrpe_compat.add_check( shortname=shortname, description='Check for deferred service restarts', check_cmd=cmd) else: log('Removing rabbitmq deferred restart check', level=INFO) nrpe_compat.remove_check( shortname=shortname, description='Remove deferred service restarts check', check_cmd=cmd) ",,136,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I906e11edf5e95465cb5b885810c928729f4722b7,openstack/tripleo-ansible,stable/wallaby,I906e11edf5e95465cb5b885810c928729f4722b7,Switch from genisoimage to xorriso,MERGED,2021-11-04 05:57:26.000000000,2021-11-04 17:51:26.000000000,2021-11-04 17:51:26.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-11-04 05:57:26.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c09498bd8c424ba8eb4a4aa186685efa4dd6d780', 'message': 'Switch from genisoimage to xorriso\n\ngeniso is going to remove from RHEL[1]\n\nhttps://review.rdoproject.org/r/q/Icb5105cef08480e7ef880530672a0e65fae43efd\n\nChange-Id: I906e11edf5e95465cb5b885810c928729f4722b7\n(cherry picked from commit a36d42f1c4d03c2b467b7c3a76356659882ff185)\n'}]",0,816485,c09498bd8c424ba8eb4a4aa186685efa4dd6d780,7,7,1,22954,,,0,"Switch from genisoimage to xorriso

geniso is going to remove from RHEL[1]

https://review.rdoproject.org/r/q/Icb5105cef08480e7ef880530672a0e65fae43efd

Change-Id: I906e11edf5e95465cb5b885810c928729f4722b7
(cherry picked from commit a36d42f1c4d03c2b467b7c3a76356659882ff185)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/85/816485/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/vars/redhat.yml'],1,c09498bd8c424ba8eb4a4aa186685efa4dd6d780,genisoimage-stable/wallaby, - xorriso, - genisoimage,1,1
openstack%2Ftripleo-image-elements~stable%2Fwallaby~I1f8a189d0fc095cb2cc3bf7808756cd9b973c3b2,openstack/tripleo-image-elements,stable/wallaby,I1f8a189d0fc095cb2cc3bf7808756cd9b973c3b2,Double the size of /boot/efi partition,MERGED,2021-11-03 00:49:28.000000000,2021-11-04 17:51:24.000000000,2021-11-04 17:51:24.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-03 00:49:28.000000000', 'files': ['elements/overcloud-partition-uefi/block-device-default.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/0e771f1cf73cfbfd7e4b453c4df3fed7c276ab87', 'message': 'Double the size of /boot/efi partition\n\nThe current size is big enough for the shim and grub packages which\nare installed to it, however when doing a dnf upgrade or reinstall,\ndnf may fail with an inadequate space error. Doubling the size of this\npartition will avoid this error.\n\nChange-Id: I1f8a189d0fc095cb2cc3bf7808756cd9b973c3b2\nBlueprint: whole-disk-default\n(cherry picked from commit 14c47f496a56e0f6c9fb444bc50f33cd42386b2f)\n'}]",0,816420,0e771f1cf73cfbfd7e4b453c4df3fed7c276ab87,7,3,1,4571,,,0,"Double the size of /boot/efi partition

The current size is big enough for the shim and grub packages which
are installed to it, however when doing a dnf upgrade or reinstall,
dnf may fail with an inadequate space error. Doubling the size of this
partition will avoid this error.

Change-Id: I1f8a189d0fc095cb2cc3bf7808756cd9b973c3b2
Blueprint: whole-disk-default
(cherry picked from commit 14c47f496a56e0f6c9fb444bc50f33cd42386b2f)
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/20/816420/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-partition-uefi/block-device-default.yaml'],1,0e771f1cf73cfbfd7e4b453c4df3fed7c276ab87,wallaby/whole-disk-default, size: 16MiB, size: 8MiB,1,1
openstack%2Ftripleo-heat-templates~master~Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4,openstack/tripleo-heat-templates,master,Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4,Add ovn_chassis_mac_map to ExtraConfig role,MERGED,2021-10-13 10:19:08.000000000,2021-11-04 17:51:21.000000000,2021-11-04 17:51:21.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-10-13 10:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbb9b5da39d39ad28f913e79ca15725f37141b90', 'message': 'Add ovn_chassis_mac_map to ExtraConfig role\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/813793\n\nChange-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4\n'}, {'number': 2, 'created': '2021-10-27 13:54:28.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a', 'message': 'Add ovn_chassis_mac_map to ExtraConfig role\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/813793\n\nChange-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4\n'}]",2,813794,f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a,18,7,2,11082,,,0,"Add ovn_chassis_mac_map to ExtraConfig role

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/813793

Change-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/813794/2 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,bbb9b5da39d39ad28f913e79ca15725f37141b90,fix_ovn_chassis, - ovn_chassis_mac_map # provided by tripleo_hieradata,,1,0
openstack%2Ftripleo-heat-templates~master~Ibb68ca300fd8ce4c7a8830bd2bab7c9ce5182b33,openstack/tripleo-heat-templates,master,Ibb68ca300fd8ce4c7a8830bd2bab7c9ce5182b33,Remove old non-ha container removal tasks,MERGED,2021-09-13 12:56:02.000000000,2021-11-04 17:51:18.000000000,2021-11-04 17:51:18.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-13 12:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d79f72da0015a49178a2180de56c4120aa05e71f', 'message': 'DNM remove old non-ha container removal tasks\n\nThose were needed when we switched to HA by default via\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/359060\n\nThat happened during ussuri, so we can drop these tasks.\n\nChange-Id: Ibb68ca300fd8ce4c7a8830bd2bab7c9ce5182b33\n'}, {'number': 2, 'created': '2021-09-13 16:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa9908afee86dfa04b71664f647fbd5ec31bbfab', 'message': 'DNM remove old non-ha container removal tasks\n\nThose were needed when we switched to HA by default via\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/359060\n\nThat happened during ussuri, so we can drop these tasks.\n\nChange-Id: Ibb68ca300fd8ce4c7a8830bd2bab7c9ce5182b33\n'}, {'number': 3, 'created': '2021-10-29 06:22:53.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52ed0f05b8d4d49bb2c814ca856cec65bfa3a099', 'message': 'Remove old non-ha container removal tasks\n\nThose were needed when we switched to HA by default via\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/359060\n\nThat happened during ussuri, so we can drop these tasks.\n\nChange-Id: Ibb68ca300fd8ce4c7a8830bd2bab7c9ce5182b33\n'}]",1,808762,52ed0f05b8d4d49bb2c814ca856cec65bfa3a099,17,4,3,20172,,,0,"Remove old non-ha container removal tasks

Those were needed when we switched to HA by default via
https://review.opendev.org/c/openstack/tripleo-heat-templates/+/359060

That happened during ussuri, so we can drop these tasks.

Change-Id: Ibb68ca300fd8ce4c7a8830bd2bab7c9ce5182b33
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/808762/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",9,d79f72da0015a49178a2180de56c4120aa05e71f,,," - name: Tear-down non-HA rabbitmq container when: - step|int == 1 block: &rabbitmq_teardown_nonha - name: Remove non-HA rabbitmq container include_role: name: tripleo_container_rm vars: tripleo_container_cli: ""{{ container_cli }}"" tripleo_containers_to_rm: - rabbitmq - name: Tear-down non-HA rabbitmq container when: - step|int == 0 block: *rabbitmq_teardown_nonha",0,157
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib105fedd014a46260cd3f2fa3e2e59ed0ffb730d,openstack/tripleo-heat-templates,stable/train,Ib105fedd014a46260cd3f2fa3e2e59ed0ffb730d,Reauthenicate remotes after an upgrade to Train,MERGED,2021-10-20 07:01:39.000000000,2021-11-04 17:51:13.000000000,2021-11-04 17:51:13.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2021-10-20 07:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e0a2dee808b800bb118765980afaba78f319add5', 'message': 'WIP reauth test\n\nChange-Id: Ib105fedd014a46260cd3f2fa3e2e59ed0ffb730d\n'}, {'number': 2, 'created': '2021-10-30 07:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4376239465b8bc12e57d88fdefd7fafd66c03e9f', 'message': 'Reauthenicate remotes after an upgrade to Train\n\nWhen upgrading from Queens to Train and changing major operating system\nas well, we currently take great care in puppet tripleo to let any\nremotes still running on Centos7 keep working while the control plane\nhas moved to new Centos8 and hence new pcmk/pcs versions.\n\nSince pcs has changed how things authenticate with remotes, we need to\nmake sure that after an upgrade we reauthenticate any remotes with pcs.\nOther wise any pcs operation involving a remote (scaleup) will fail with\nan error like the following:\n\n021-10-14 18:57:16,332 p=133710 u=mistral n=ansible | fatal: [clopkhd1]: FAILED! => {""ansible_job_id"": ""823537932379.262448"", ""attempts"": 126, ""changed"": true, ""cmd"": ""set -o pipefail; puppet apply  --modulepath=/etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules --detailed-exitcodes --summarize --color=false   /var/lib/tripleo-config/puppet_step_config.pp 2>&1 | logger -s -t puppet-user"", ""delta"": ""0:06:42.041400"", ""end"": ""2021-10-14 18:57:13.293758"", ""failed_when_result"": true, ""finished"": 1, ""msg"": ""non-zero return code"", ""\n...\n...\nError: pcs create failed: Error: Hosts \'cmp1\', \'cmp10\', \'cmp11\', \'cmp12\', \'cmp14\', \'cmp15\', \'cmp16\', \'cmp17\', \'cmp18\', \'cmp19\', \'cmp2\', \'cmp3\', \'cmp4\', \'cmp5\', \'cmp6\', \'cmp7\', \'cmp8\', \'cmp9\' are not known to pcs, try to authenticate the hosts using \'pcs host auth cmp1 cmp10 cmp11 cmp12 cmp14 cmp15 cmp16 cmp17 cmp18 cmp19 cmp2 cmp3 cmp4 cmp5 cmp6 cmp7 cmp8 cmp9\' command, use --skip-offline to override\\n<13>Oct 14 18:56:54 puppet-user: Error: /Stage[main]/Tripleo::Profile::Base::Pacemaker/Pacemaker::Resource::Remote[cmp13]/Pcmk_remote[cmp13]/ensure: change from \'absent\' to \'present\' failed: pcs create failed: Error: Hosts \'cmp1\', \'cmp10\', \'cmp11\', \'cmp12\', \'cmp14\', \'cmp15\', \'cmp16\', \'cmp17\', \'cmp18\', \'cmp19\', \'cmp2\', \'cmp3\', \'cmp4\', \'cmp5\', \'cmp6\', \'cmp7\', \'cmp8\', \'cmp9\' are not known to pcs, try to authenticate the hosts using \'pcs host auth cmp1 cmp10 cmp11 cmp12 cmp14 cmp15 cmp16 cmp17 cmp18 cmp19 cmp2 cmp3 cmp4 cmp5 cmp6 cmp7 cmp8 cmp9\' command, use --skip-offline to override\\n<13>Oct 14 18:56:54 puppet-user: Notice: /Stage[main]/Tripleo::Profile::Base::Pacemaker/Exec[exec-wait-for-cmp13]: Dependency Pcmk_remote[cmp13] has failures: true\n\nThis is because the upgrade remotes have not been reauthenticated to\npcs (which basically means that the remote computes are not present in\n/var/lib/pcsd/known-hosts). With this change we observe the following\nduring an FFU:\n2021-10-29 21:12:20 | TASK [Try and reauthenticate the remote via pcsd from the core cluster] ********\n2021-10-29 21:12:20 | Friday 29 October 2021  21:12:14 +0000 (0:00:00.760)       0:00:15.098 ********\n2021-10-29 21:12:20 | changed: [compute-0 -> 192.168.24.20] => {""changed"": true, ""cmd"": ""pcs host auth \\""compute-0\\"" -u hacluster -p $(hiera -c /etc/puppet/hiera.yaml hacluster_pwd)"", ""delta"": ""0:00:02.180656"", ""end"": ""2021-10-29 21:12:17.656863"", ""rc"": 0, ""start"": ""2021-10-29 21:12:15.476207"", ""stderr"": """", ""stderr_lines"": [], ""stdout"": ""compute-0: Authorized"", ""stdout_lines"": [""compute-0: Authorized""]}\n\nAnd afterwards we see the node in /var/lib/pcsd/known-hosts (which we\ndid not before):\n[root@controller-0 ~]# grep compute /var/lib/pcsd/known-hosts\n    ""compute-0"": {\n          ""addr"": ""compute-0"",\n\nCloses-Bug: #1949255\n\nChange-Id: Ib105fedd014a46260cd3f2fa3e2e59ed0ffb730d\n'}, {'number': 3, 'created': '2021-10-30 07:29:31.000000000', 'files': ['deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd45ce71a9709ff50c218836f66d225123bacfc1', 'message': 'Reauthenicate remotes after an upgrade to Train\n\nWhen upgrading from Queens to Train and changing major operating system\nas well, we currently take great care in puppet tripleo to let any\nremotes still running on Centos7 keep working while the control plane\nhas moved to new Centos8 and hence new pcmk/pcs versions.\n\nSince pcs has changed how things authenticate with remotes, we need to\nmake sure that after an upgrade we reauthenticate any remotes with pcs.\nOther wise any pcs operation involving a remote (scaleup) will fail with\nan error like the following:\n\n021-10-14 18:57:16,332 p=133710 u=mistral n=ansible | fatal: [clopkhd1]: FAILED! => {""ansible_job_id"": ""823537932379.262448"", ""attempts"": 126, ""changed"": true, ""cmd"": ""set -o pipefail; puppet apply  --modulepath=/etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules --detailed-exitcodes --summarize --color=false   /var/lib/tripleo-config/puppet_step_config.pp 2>&1 | logger -s -t puppet-user"", ""delta"": ""0:06:42.041400"", ""end"": ""2021-10-14 18:57:13.293758"", ""failed_when_result"": true, ""finished"": 1, ""msg"": ""non-zero return code"", ""\n...\n...\nError: pcs create failed: Error: Hosts \'cmp1\', \'cmp10\', \'cmp11\', \'cmp12\', \'cmp14\', \'cmp15\', \'cmp16\', \'cmp17\', \'cmp18\', \'cmp19\', \'cmp2\', \'cmp3\', \'cmp4\', \'cmp5\', \'cmp6\', \'cmp7\', \'cmp8\', \'cmp9\' are not known to pcs, try to authenticate the hosts using \'pcs host auth cmp1 cmp10 cmp11 cmp12 cmp14 cmp15 cmp16 cmp17 cmp18 cmp19 cmp2 cmp3 cmp4 cmp5 cmp6 cmp7 cmp8 cmp9\' command, use --skip-offline to override\\n<13>Oct 14 18:56:54 puppet-user: Error: /Stage[main]/Tripleo::Profile::Base::Pacemaker/Pacemaker::Resource::Remote[cmp13]/Pcmk_remote[cmp13]/ensure: change from \'absent\' to \'present\' failed: pcs create failed: Error: Hosts \'cmp1\', \'cmp10\', \'cmp11\', \'cmp12\', \'cmp14\', \'cmp15\', \'cmp16\', \'cmp17\', \'cmp18\', \'cmp19\', \'cmp2\', \'cmp3\', \'cmp4\', \'cmp5\', \'cmp6\', \'cmp7\', \'cmp8\', \'cmp9\' are not known to pcs, try to authenticate the hosts using \'pcs host auth cmp1 cmp10 cmp11 cmp12 cmp14 cmp15 cmp16 cmp17 cmp18 cmp19 cmp2 cmp3 cmp4 cmp5 cmp6 cmp7 cmp8 cmp9\' command, use --skip-offline to override\\n<13>Oct 14 18:56:54 puppet-user: Notice: /Stage[main]/Tripleo::Profile::Base::Pacemaker/Exec[exec-wait-for-cmp13]: Dependency Pcmk_remote[cmp13] has failures: true\n\nThis is because the upgrade remotes have not been reauthenticated to\npcs (which basically means that the remote computes are not present in\n/var/lib/pcsd/known-hosts). With this change we observe the following\nduring an FFU:\n2021-10-29 21:12:20 | TASK [Try and reauthenticate the remote via pcsd from the core cluster] ********\n2021-10-29 21:12:20 | Friday 29 October 2021  21:12:14 +0000 (0:00:00.760)       0:00:15.098 ********\n2021-10-29 21:12:20 | changed: [compute-0 -> 192.168.24.20] => {""changed"": true, ""cmd"": ""pcs host auth \\""compute-0\\"" -u hacluster -p $(hiera -c /etc/puppet/hiera.yaml hacluster_pwd)"", ""delta"": ""0:00:02.180656"", ""end"": ""2021-10-29 21:12:17.656863"", ""rc"": 0, ""start"": ""2021-10-29 21:12:15.476207"", ""stderr"": """", ""stderr_lines"": [], ""stdout"": ""compute-0: Authorized"", ""stdout_lines"": [""compute-0: Authorized""]}\n\nAnd afterwards we see the node in /var/lib/pcsd/known-hosts (which we\ndid not before):\n[root@controller-0 ~]# grep compute /var/lib/pcsd/known-hosts\n    ""compute-0"": {\n          ""addr"": ""compute-0"",\n\nCloses-Bug: #1949255\n\nChange-Id: Ib105fedd014a46260cd3f2fa3e2e59ed0ffb730d\n'}]",4,814715,dd45ce71a9709ff50c218836f66d225123bacfc1,25,5,3,20172,,,0,"Reauthenicate remotes after an upgrade to Train

When upgrading from Queens to Train and changing major operating system
as well, we currently take great care in puppet tripleo to let any
remotes still running on Centos7 keep working while the control plane
has moved to new Centos8 and hence new pcmk/pcs versions.

Since pcs has changed how things authenticate with remotes, we need to
make sure that after an upgrade we reauthenticate any remotes with pcs.
Other wise any pcs operation involving a remote (scaleup) will fail with
an error like the following:

021-10-14 18:57:16,332 p=133710 u=mistral n=ansible | fatal: [clopkhd1]: FAILED! => {""ansible_job_id"": ""823537932379.262448"", ""attempts"": 126, ""changed"": true, ""cmd"": ""set -o pipefail; puppet apply  --modulepath=/etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules --detailed-exitcodes --summarize --color=false   /var/lib/tripleo-config/puppet_step_config.pp 2>&1 | logger -s -t puppet-user"", ""delta"": ""0:06:42.041400"", ""end"": ""2021-10-14 18:57:13.293758"", ""failed_when_result"": true, ""finished"": 1, ""msg"": ""non-zero return code"", ""
...
...
Error: pcs create failed: Error: Hosts 'cmp1', 'cmp10', 'cmp11', 'cmp12', 'cmp14', 'cmp15', 'cmp16', 'cmp17', 'cmp18', 'cmp19', 'cmp2', 'cmp3', 'cmp4', 'cmp5', 'cmp6', 'cmp7', 'cmp8', 'cmp9' are not known to pcs, try to authenticate the hosts using 'pcs host auth cmp1 cmp10 cmp11 cmp12 cmp14 cmp15 cmp16 cmp17 cmp18 cmp19 cmp2 cmp3 cmp4 cmp5 cmp6 cmp7 cmp8 cmp9' command, use --skip-offline to override\n<13>Oct 14 18:56:54 puppet-user: Error: /Stage[main]/Tripleo::Profile::Base::Pacemaker/Pacemaker::Resource::Remote[cmp13]/Pcmk_remote[cmp13]/ensure: change from 'absent' to 'present' failed: pcs create failed: Error: Hosts 'cmp1', 'cmp10', 'cmp11', 'cmp12', 'cmp14', 'cmp15', 'cmp16', 'cmp17', 'cmp18', 'cmp19', 'cmp2', 'cmp3', 'cmp4', 'cmp5', 'cmp6', 'cmp7', 'cmp8', 'cmp9' are not known to pcs, try to authenticate the hosts using 'pcs host auth cmp1 cmp10 cmp11 cmp12 cmp14 cmp15 cmp16 cmp17 cmp18 cmp19 cmp2 cmp3 cmp4 cmp5 cmp6 cmp7 cmp8 cmp9' command, use --skip-offline to override\n<13>Oct 14 18:56:54 puppet-user: Notice: /Stage[main]/Tripleo::Profile::Base::Pacemaker/Exec[exec-wait-for-cmp13]: Dependency Pcmk_remote[cmp13] has failures: true

This is because the upgrade remotes have not been reauthenticated to
pcs (which basically means that the remote computes are not present in
/var/lib/pcsd/known-hosts). With this change we observe the following
during an FFU:
2021-10-29 21:12:20 | TASK [Try and reauthenticate the remote via pcsd from the core cluster] ********
2021-10-29 21:12:20 | Friday 29 October 2021  21:12:14 +0000 (0:00:00.760)       0:00:15.098 ********
2021-10-29 21:12:20 | changed: [compute-0 -> 192.168.24.20] => {""changed"": true, ""cmd"": ""pcs host auth \""compute-0\"" -u hacluster -p $(hiera -c /etc/puppet/hiera.yaml hacluster_pwd)"", ""delta"": ""0:00:02.180656"", ""end"": ""2021-10-29 21:12:17.656863"", ""rc"": 0, ""start"": ""2021-10-29 21:12:15.476207"", ""stderr"": """", ""stderr_lines"": [], ""stdout"": ""compute-0: Authorized"", ""stdout_lines"": [""compute-0: Authorized""]}

And afterwards we see the node in /var/lib/pcsd/known-hosts (which we
did not before):
[root@controller-0 ~]# grep compute /var/lib/pcsd/known-hosts
    ""compute-0"": {
          ""addr"": ""compute-0"",

Closes-Bug: #1949255

Change-Id: Ib105fedd014a46260cd3f2fa3e2e59ed0ffb730d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/814715/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml'],1,e0a2dee808b800bb118765980afaba78f319add5,remote-auth," - name: Try and reauthenticate the remote via pcsd from the core cluster when: step|int == 1 delegate_to: ""{{ groups['pacemaker'] | first }}"" shell: | pcs host auth ""{{ ansible_facts['hostname']|lower }}"" -u hacluster -p $(hiera -c /etc/puppet/hiera.yaml hacluster_pwd)",,5,0
openstack%2Fpython-tripleoclient~master~Id0aeb77a68d556993bece14a71cdccc262c5461b,openstack/python-tripleoclient,master,Id0aeb77a68d556993bece14a71cdccc262c5461b,Fix usage of collections.abc,MERGED,2021-10-14 14:49:17.000000000,2021-11-04 17:38:30.000000000,2021-11-04 17:34:56.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-14 14:49:17.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/881321ddfe48a2653a6c584a677d6989d70993c3', 'message': 'Fix usage of collections.abc\n\nCurrent logic to try importing the collections.abc module is broken and\nthe collections module is always imported, which results in deprecation\nwarning[1].\n\n>>> import collections\n>>> c_abc = collections.abc\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\n  File ""/usr/lib64/python3.8/collections/__init__.py"", line 55, in __getattr__\n    raise AttributeError(f\'module {__name__!r} has no attribute {name!r}\')\nAttributeError: module \'collections\' has no attribute \'abc\'\n\n[1]\nDeprecationWarning: Using or importing the ABCs from \'collections\'\ninstead of from \'collections.abc\' is deprecated since Python 3.3, and\nin 3.10 it will stop working\n\nNote that because Python 2 is no longer supported the logic to use\ncollcations is just removed.\n\nChange-Id: Id0aeb77a68d556993bece14a71cdccc262c5461b\n'}]",1,814023,881321ddfe48a2653a6c584a677d6989d70993c3,8,3,1,9816,,,0,"Fix usage of collections.abc

Current logic to try importing the collections.abc module is broken and
the collections module is always imported, which results in deprecation
warning[1].

>>> import collections
>>> c_abc = collections.abc
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/usr/lib64/python3.8/collections/__init__.py"", line 55, in __getattr__
    raise AttributeError(f'module {__name__!r} has no attribute {name!r}')
AttributeError: module 'collections' has no attribute 'abc'

[1]
DeprecationWarning: Using or importing the ABCs from 'collections'
instead of from 'collections.abc' is deprecated since Python 3.3, and
in 3.10 it will stop working

Note that because Python 2 is no longer supported the logic to use
collcations is just removed.

Change-Id: Id0aeb77a68d556993bece14a71cdccc262c5461b
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/23/814023/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,881321ddfe48a2653a6c584a677d6989d70993c3,collections-abc,"from collections import abc as collections_abc if isinstance(data, collections_abc.Mapping): if isinstance(data, collections_abc.Iterable):"," try: collectionsAbc = collections.abc except AttributeError: collectionsAbc = collections if isinstance(data, collectionsAbc.Mapping): if isinstance(data, collectionsAbc.Iterable):",3,7
openstack%2Fkuryr-tempest-plugin~master~Ia3d8b3254c5f07b3b6516bfd40be3c04e6a6d412,openstack/kuryr-tempest-plugin,master,Ia3d8b3254c5f07b3b6516bfd40be3c04e6a6d412,Enable kuryr tempests tests again,MERGED,2021-11-02 19:06:30.000000000,2021-11-04 17:37:49.000000000,2021-11-04 17:29:32.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 19:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/d411b2dc22ef4eac1a2b2b33adf2cc9f9b7deb7c', 'message': 'Enable kuryr tempests tests again\n\nChange-Id: Ia3d8b3254c5f07b3b6516bfd40be3c04e6a6d412\n'}, {'number': 2, 'created': '2021-11-03 12:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7b7bad31291589b3e94703d2794fb2a0cbc1366e', 'message': 'Enable kuryr tempests tests again\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-kubernetes/+/816305\nChange-Id: Ia3d8b3254c5f07b3b6516bfd40be3c04e6a6d412\n'}, {'number': 3, 'created': '2021-11-03 16:55:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/0605e39aa0a8a802ff821b28d76155d30dac67bc', 'message': 'Enable kuryr tempests tests again\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-kubernetes/+/816305\nChange-Id: Ia3d8b3254c5f07b3b6516bfd40be3c04e6a6d412\n'}]",3,816394,0605e39aa0a8a802ff821b28d76155d30dac67bc,20,3,3,27032,,,0,"Enable kuryr tempests tests again

Depends-On: https://review.opendev.org/c/openstack/kuryr-kubernetes/+/816305
Change-Id: Ia3d8b3254c5f07b3b6516bfd40be3c04e6a6d412
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/94/816394/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d411b2dc22ef4eac1a2b2b33adf2cc9f9b7deb7c,enable-tempest-test, - kuryr-kubernetes-tempest-jobs,,1,0
openstack%2Ftripleo-puppet-elements~master~I55ffc1a00551018a126ca7dffd9eb41d635eb4d3,openstack/tripleo-puppet-elements,master,I55ffc1a00551018a126ca7dffd9eb41d635eb4d3,Drop ansible-playbook-3 symlink,MERGED,2021-09-28 19:04:18.000000000,2021-11-04 17:34:53.000000000,2021-11-04 17:34:53.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-28 19:04:18.000000000', 'files': ['elements/overcloud-agent/post-install.d/51-ansible-symlink'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/1a83d5a24b33c4c4f2627236d527f45c08b13668', 'message': 'Drop ansible-playbook-3 symlink\n\nThis was necessary for the python2/python3 transition and is no longer\nrequired.\n\nChange-Id: I55ffc1a00551018a126ca7dffd9eb41d635eb4d3\n'}]",0,811476,1a83d5a24b33c4c4f2627236d527f45c08b13668,8,4,1,14985,,,0,"Drop ansible-playbook-3 symlink

This was necessary for the python2/python3 transition and is no longer
required.

Change-Id: I55ffc1a00551018a126ca7dffd9eb41d635eb4d3
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/76/811476/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-agent/post-install.d/51-ansible-symlink'],1,1a83d5a24b33c4c4f2627236d527f45c08b13668,legacy-cleanup,,#!/bin/bash set -eux set -o pipefail if [ ! -f /usr/bin/ansible-playbook ]; then if [ -f /usr/bin/ansible-playbook-3 ]; then ln -s -f /usr/bin/ansible-playbook-3 /usr/local/bin/ansible-playbook fi else if [ ! -f /usr/bin/ansible-playbook-3 ]; then ln -s -f /usr/bin/ansible-playbook /usr/local/bin/ansible-playbook-3 fi fi ,0,14
openstack%2Ftripleo-ansible~stable%2Fussuri~Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,openstack/tripleo-ansible,stable/ussuri,Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,Wrap stopping podman -t with systemd timeouts,MERGED,2021-09-29 09:26:18.000000000,2021-11-04 17:34:50.000000000,2021-11-04 17:34:50.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-29 09:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b2952f780d792e8eccd212edfbcfa22fb77708fb', 'message': '[Ussuri ONLY] Avoid breaking changes to srv units\n\nGlobal changes to systemd units that manage containers might disrupt\nworkloads after the tripleo-ansible package upgraded and the changes\napplied onto running containers.\n\nAvoid some of the minor changes to omit recreating existing containers.\n\nChange-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 9a65a89fbfef2d08af0fd70402d29b86f2ced693)\n(cherry picked from commit e376255d0a06fe5bd7dc3f0b2a0b810a682665ac)\n'}, {'number': 2, 'created': '2021-10-14 14:37:14.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a17d78bdc8a10fe1934b1fc93cadd7f2fa6c412d', 'message': 'Wrap stopping podman -t with systemd timeouts\n\nCurrently with KillMode=none, if podman -t hangs, the command repeats\nleaving the process and its cgroup around.\nBut if a stop/start command hangs, we should not start another one.\n\nInstead time it out properly via TimeoutStopSec set to the 2x of\nthe timeout given to the managed podman action. Then if it expires,\nkill its cgroup all the way (KillMode=control-group is a default)\nbefore rerunning the same operation. Also note that using KilMode\nprocess is not recommended by systemd man pages.\n\nIncrease the grace stop timeout defaults 10->42s to align it with:\nhttps://github.com/containers/podman/pull/8889\n\nCloses-bug: #1945791\nChange-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit badd5a3c10f0af9e1c69a9b88064e743a36d4f53)\n'}]",2,811699,a17d78bdc8a10fe1934b1fc93cadd7f2fa6c412d,12,4,2,6926,,,0,"Wrap stopping podman -t with systemd timeouts

Currently with KillMode=none, if podman -t hangs, the command repeats
leaving the process and its cgroup around.
But if a stop/start command hangs, we should not start another one.

Instead time it out properly via TimeoutStopSec set to the 2x of
the timeout given to the managed podman action. Then if it expires,
kill its cgroup all the way (KillMode=control-group is a default)
before rerunning the same operation. Also note that using KilMode
process is not recommended by systemd man pages.

Increase the grace stop timeout defaults 10->42s to align it with:
https://github.com/containers/podman/pull/8889

Closes-bug: #1945791
Change-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit badd5a3c10f0af9e1c69a9b88064e743a36d4f53)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/99/811699/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml'],1,b2952f780d792e8eccd212edfbcfa22fb77708fb,,"- name: ""Avoid breaking changes to systemd units that cause containers recreated"" set_fact: restart_preferred: false ",,4,0
openstack%2Ftripleo-ansible~stable%2Fvictoria~Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,openstack/tripleo-ansible,stable/victoria,Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,Wrap stopping podman -t with systemd timeouts,MERGED,2021-09-29 09:25:06.000000000,2021-11-04 17:27:57.000000000,2021-11-04 17:27:57.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-29 09:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e376255d0a06fe5bd7dc3f0b2a0b810a682665ac', 'message': '[Wallaby ONLY] Avoid breaking changes to srv units\n\nGlobal changes to systemd units that manage containers might disrupt\nworkloads after the tripleo-ansible package upgraded and the changes\napplied onto running containers.\n\nAvoid some of the minor changes to omit recreating existing containers.\n\nChange-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 9a65a89fbfef2d08af0fd70402d29b86f2ced693)\n'}, {'number': 2, 'created': '2021-09-29 09:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/77fa96e5d8177435ed7fd68ccc9a171ac382b76b', 'message': '[Victoria ONLY] Avoid breaking changes to srv units\n\nGlobal changes to systemd units that manage containers might disrupt\nworkloads after the tripleo-ansible package upgraded and the changes\napplied onto running containers.\n\nAvoid some of the minor changes to omit recreating existing containers.\n\nChange-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 9a65a89fbfef2d08af0fd70402d29b86f2ced693)\n'}, {'number': 3, 'created': '2021-10-14 14:37:51.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3670032a436200c35d84c17505101d651dbe2018', 'message': 'Wrap stopping podman -t with systemd timeouts\n\nCurrently with KillMode=none, if podman -t hangs, the command repeats\nleaving the process and its cgroup around.\nBut if a stop/start command hangs, we should not start another one.\n\nInstead time it out properly via TimeoutStopSec set to the 2x of\nthe timeout given to the managed podman action. Then if it expires,\nkill its cgroup all the way (KillMode=control-group is a default)\nbefore rerunning the same operation. Also note that using KilMode\nprocess is not recommended by systemd man pages.\n\nIncrease the grace stop timeout defaults 10->42s to align it with:\nhttps://github.com/containers/podman/pull/8889\n\nCloses-bug: #1945791\nChange-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit badd5a3c10f0af9e1c69a9b88064e743a36d4f53)\n'}]",2,811697,3670032a436200c35d84c17505101d651dbe2018,13,4,3,6926,,,0,"Wrap stopping podman -t with systemd timeouts

Currently with KillMode=none, if podman -t hangs, the command repeats
leaving the process and its cgroup around.
But if a stop/start command hangs, we should not start another one.

Instead time it out properly via TimeoutStopSec set to the 2x of
the timeout given to the managed podman action. Then if it expires,
kill its cgroup all the way (KillMode=control-group is a default)
before rerunning the same operation. Also note that using KilMode
process is not recommended by systemd man pages.

Increase the grace stop timeout defaults 10->42s to align it with:
https://github.com/containers/podman/pull/8889

Closes-bug: #1945791
Change-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit badd5a3c10f0af9e1c69a9b88064e743a36d4f53)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/97/811697/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml'],1,e376255d0a06fe5bd7dc3f0b2a0b810a682665ac,,"- name: ""Avoid breaking changes to systemd units that cause containers recreated"" set_fact: restart_preferred: false ",,4,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,openstack/tripleo-ansible,stable/wallaby,Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,Wrap stopping podman -t with systemd timeouts,MERGED,2021-09-29 09:24:22.000000000,2021-11-04 16:58:26.000000000,2021-11-04 16:58:26.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-29 09:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9a65a89fbfef2d08af0fd70402d29b86f2ced693', 'message': '[Wallaby ONLY] Avoid breaking changes to srv units\n\nGlobal changes to systemd units that manage containers might disrupt\nworkloads after the tripleo-ansible package upgraded and the changes\napplied onto running containers.\n\nAvoid some of the minor changes to omit recreating existing containers.\n\nChange-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-10-14 14:38:10.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f34dc5420cad6bbe625f37ec1e74e913e85658a9', 'message': 'Wrap stopping podman -t with systemd timeouts\n\nCurrently with KillMode=none, if podman -t hangs, the command repeats\nleaving the process and its cgroup around.\nBut if a stop/start command hangs, we should not start another one.\n\nInstead time it out properly via TimeoutStopSec set to the 2x of\nthe timeout given to the managed podman action. Then if it expires,\nkill its cgroup all the way (KillMode=control-group is a default)\nbefore rerunning the same operation. Also note that using KilMode\nprocess is not recommended by systemd man pages.\n\nIncrease the grace stop timeout defaults 10->42s to align it with:\nhttps://github.com/containers/podman/pull/8889\n\nCloses-bug: #1945791\nChange-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit badd5a3c10f0af9e1c69a9b88064e743a36d4f53)\n'}]",2,811696,f34dc5420cad6bbe625f37ec1e74e913e85658a9,13,4,2,6926,,,0,"Wrap stopping podman -t with systemd timeouts

Currently with KillMode=none, if podman -t hangs, the command repeats
leaving the process and its cgroup around.
But if a stop/start command hangs, we should not start another one.

Instead time it out properly via TimeoutStopSec set to the 2x of
the timeout given to the managed podman action. Then if it expires,
kill its cgroup all the way (KillMode=control-group is a default)
before rerunning the same operation. Also note that using KilMode
process is not recommended by systemd man pages.

Increase the grace stop timeout defaults 10->42s to align it with:
https://github.com/containers/podman/pull/8889

Closes-bug: #1945791
Change-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit badd5a3c10f0af9e1c69a9b88064e743a36d4f53)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/96/811696/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml'],1,9a65a89fbfef2d08af0fd70402d29b86f2ced693,,"- name: ""Avoid breaking changes to systemd units that cause containers recreated"" set_fact: restart_preferred: false ",,4,0
openstack%2Fskyline-console~master~I9dd468847043ed1c3e936c6a9605c10367cff21a,openstack/skyline-console,master,I9dd468847043ed1c3e936c6a9605c10367cff21a,fix: Fix the convert shell code to base64 errors,MERGED,2021-11-03 08:24:14.000000000,2021-11-04 16:51:16.000000000,2021-11-04 16:51:16.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-11-03 08:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/63506d5b28907c2162f00963df9c278e76feee80', 'message': 'fix: Fix the convert shell code to base64\n\nUse js-base64 instead of window.btoa to avoid Chinese convert errors\n\nChange-Id: I9dd468847043ed1c3e936c6a9605c10367cff21a\n'}, {'number': 2, 'created': '2021-11-04 08:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0019a0bfcc6361b9a2a2be55fae035497014dbb8', 'message': 'fix: Fix the convert shell code to base64 errors\n\nControl input must be ASCII code to match StringIO function in cloud-init\n\nChange-Id: I9dd468847043ed1c3e936c6a9605c10367cff21a\n'}, {'number': 3, 'created': '2021-11-04 08:58:38.000000000', 'files': ['src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/utils/validate.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a612794349c558dd119475bde7bbfa9c9273174a', 'message': 'fix: Fix the convert shell code to base64 errors\n\nControl input must be ASCII code to match StringIO function in cloud-init\n\nChange-Id: I9dd468847043ed1c3e936c6a9605c10367cff21a\n'}]",1,816437,a612794349c558dd119475bde7bbfa9c9273174a,11,3,3,33689,,,0,"fix: Fix the convert shell code to base64 errors

Control input must be ASCII code to match StringIO function in cloud-init

Change-Id: I9dd468847043ed1c3e936c6a9605c10367cff21a
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/37/816437/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'package.json', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx']",3,63506d5b28907c2162f00963df9c278e76feee80,open-113764,"import { encode } from 'js-base64'; server.user_data = encode(getUserData(server.adminPass, userData));"," server.user_data = btoa(getUserData(server.adminPass, userData));",5,2
openstack%2Fdevstack~master~Ida35a27fc441847351084be033e35e9a04042195,openstack/devstack,master,Ida35a27fc441847351084be033e35e9a04042195,Copy tempest config to /etc/tempest,ABANDONED,2016-08-04 19:57:32.000000000,2021-11-04 16:30:59.000000000,,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 7173}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 16376}, {'_account_id': 17714}, {'_account_id': 27368}]","[{'number': 1, 'created': '2016-08-04 19:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/14f4cb96be1dcff32505d2a2110fb944741809f1', 'message': 'WIP: add tempest run support to devstack\n\nChange-Id: Ida35a27fc441847351084be033e35e9a04042195\n'}, {'number': 2, 'created': '2016-08-05 00:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1caacbc228b45da5a93d2b0c8eb8c9f5d0ccdc0d', 'message': 'WIP: add tempest run support to devstack\n\nChange-Id: Ida35a27fc441847351084be033e35e9a04042195\n'}, {'number': 3, 'created': '2016-08-05 21:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4a6a0bb921d7f388f2bd6db2fe7ed350664d8ada', 'message': 'WIP: add tempest run support to devstack\n\nPartially-Implements: bp tempest-run-cmd\n\nChange-Id: Ida35a27fc441847351084be033e35e9a04042195\n'}, {'number': 4, 'created': '2016-08-05 21:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c119f2c805660cffbf1f2698ed3a4fdfe007d083', 'message': 'WIP: add tempest run support to devstack\n\nPartially-Implements: bp tempest-run-cmd\n\nChange-Id: Ida35a27fc441847351084be033e35e9a04042195\n'}, {'number': 5, 'created': '2016-08-05 22:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e769d94c871ad4ad35b2e10052f29e45f114ee9c', 'message': 'WIP: add tempest run support to devstack\n\nPartially-Implements: bp tempest-run-cmd\n\nChange-Id: Ida35a27fc441847351084be033e35e9a04042195\n'}, {'number': 6, 'created': '2016-08-09 18:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ec20233da57f2f0586ceddf626011cd32b0988cb', 'message': 'WIP: add tempest run support to devstack\n\nPartially-Implements: bp tempest-run-cmd\nDepends-On: Ie629df246fc40777f2017b78e4073ae833b64deb\nChange-Id: Ida35a27fc441847351084be033e35e9a04042195\n'}, {'number': 7, 'created': '2016-08-16 20:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0834d638d6d3c3c738f50c55d764a52705536ccf', 'message': 'WIP: add tempest run support to devstack\n\nPartially-Implements: bp tempest-run-cmd\nDepends-On: Ie629df246fc40777f2017b78e4073ae833b64deb\nChange-Id: Ida35a27fc441847351084be033e35e9a04042195\n'}, {'number': 8, 'created': '2016-09-08 17:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/95a15107da9d2de450bfdae8532aef4d0df52e67', 'message': 'WIP: add tempest run support to devstack\n\nPartially-Implements: bp tempest-run-cmd\nDepends-On: Ie629df246fc40777f2017b78e4073ae833b64deb\nChange-Id: Ida35a27fc441847351084be033e35e9a04042195\n'}, {'number': 9, 'created': '2016-09-22 18:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/aebd4133a95babd4d3c7702b12598553c674d085', 'message': 'Add tempest run support to devstack\n\nPartially-Implements: bp tempest-run-cmd\nDepends-On: Ie629df246fc40777f2017b78e4073ae833b64deb\nChange-Id: Ida35a27fc441847351084be033e35e9a04042195\n'}, {'number': 10, 'created': '2017-02-02 20:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c5dd362a4122cd2e6fc000121c497849ef5b3c33', 'message': 'Add tempest run support to devstack\n\nPartially-Implements: bp tempest-run-cmd\nDepends-On: Ie629df246fc40777f2017b78e4073ae833b64deb\nChange-Id: Ida35a27fc441847351084be033e35e9a04042195\n'}, {'number': 11, 'created': '2017-02-03 17:08:04.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/dfcd120b413beb5c371444245be231073848e563', 'message': ""Copy tempest config to /etc/tempest\n\nWhen using the recommended tempest init && tempest run workflow we want\nto prepopulate the tempest workspaces created by running tempest init\nwith the devstack generated tempest config file. This way it's a\nseamless experience for using the new workflow. It also will enable us\nto start the migration of devstack-gate over to using the new workflow.\nThis commit enables that by copying the tempest config file in to\n/etc/tempest. /etc/tempest is one of the locations tempest init will\nuse to preseed the local workspace etc/ directory.\n\nCo-Authored-By: Matthew Treinish <mtreinish@kortar.org>\nPartially-Implements: bp tempest-run-cmd\nChange-Id: Ida35a27fc441847351084be033e35e9a04042195\n""}]",9,351367,dfcd120b413beb5c371444245be231073848e563,98,12,11,17714,,,0,"Copy tempest config to /etc/tempest

When using the recommended tempest init && tempest run workflow we want
to prepopulate the tempest workspaces created by running tempest init
with the devstack generated tempest config file. This way it's a
seamless experience for using the new workflow. It also will enable us
to start the migration of devstack-gate over to using the new workflow.
This commit enables that by copying the tempest config file in to
/etc/tempest. /etc/tempest is one of the locations tempest init will
use to preseed the local workspace etc/ directory.

Co-Authored-By: Matthew Treinish <mtreinish@kortar.org>
Partially-Implements: bp tempest-run-cmd
Change-Id: Ida35a27fc441847351084be033e35e9a04042195
",git fetch https://review.opendev.org/openstack/devstack refs/changes/67/351367/10 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,14f4cb96be1dcff32505d2a2110fb944741809f1,bp/tempest-run-cmd, tox -evenv-tempest -- tempest init $TEMPEST_DIR,,1,0
openstack%2Fpuppet-cinder~master~I847b88710578818f6c792d1603e02759072a9d25,openstack/puppet-cinder,master,I847b88710578818f6c792d1603e02759072a9d25,Use service anchor to ensure API is up,MERGED,2021-11-04 02:31:14.000000000,2021-11-04 16:15:55.000000000,2021-11-04 16:15:55.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 02:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/d235f452468981839c5345b7857b01edf24b0c94', 'message': 'Subscribe proper service for validation\n\nWhen nova-api is hosted by httpd+wsgi, the nova-api service resource is\nused to stop the eventlet server and the service itself is managed by\nthe httpd service.\n\nChange-Id: I847b88710578818f6c792d1603e02759072a9d25\n'}, {'number': 2, 'created': '2021-11-04 03:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/44dbf173f82de790fa3303f7b74bbcfba281ca18', 'message': 'Use service anchor to ensure API is up\n\n... instead of the individual service resource which can be named\ndifferently according to service_name.\n\nCloses-Bug: #1949658\nChange-Id: I847b88710578818f6c792d1603e02759072a9d25\n'}, {'number': 3, 'created': '2021-11-04 03:11:51.000000000', 'files': ['manifests/api.pp', 'spec/classes/cinder_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/614d16329a11fe84c2db749d9819a7820ceeb4be', 'message': 'Use service anchor to ensure API is up\n\n... instead of the individual service resource which can be named\ndifferently according to service_name.\n\nCloses-Bug: #1949658\nChange-Id: I847b88710578818f6c792d1603e02759072a9d25\n'}]",0,816608,614d16329a11fe84c2db749d9819a7820ceeb4be,9,3,3,9816,,,0,"Use service anchor to ensure API is up

... instead of the individual service resource which can be named
differently according to service_name.

Closes-Bug: #1949658
Change-Id: I847b88710578818f6c792d1603e02759072a9d25
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/08/816608/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,d235f452468981839c5345b7857b01edf24b0c94,bug/1949658," subscribe_service_name = $service_name ? { 'httpd' => 'httpd', default => 'cinder-api' } create_resources('openstacklib::service_validation', $validation_cmd, {'subscribe' => Service[$subscribe_service_name]})"," create_resources('openstacklib::service_validation', $validation_cmd, {'subscribe' => 'Service[cinder-api]'})",5,1
openstack%2Fopenstack-helm-infra~master~Ic3c34b340df183806fc2f7d494865de992767c7e,openstack/openstack-helm-infra,master,Ic3c34b340df183806fc2f7d494865de992767c7e,Set Security Context to ks-user job,ABANDONED,2021-09-23 21:37:08.000000000,2021-11-04 16:15:06.000000000,,"[{'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-23 21:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cbd29315107c79ddc58ee6565cb7b3e864f16e98', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 2, 'created': '2021-09-24 13:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3b3fe44d1e7a8f95c9121c39a561d2b13d8bdac0', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 3, 'created': '2021-09-27 13:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c5c8077256b21a909e61477833bb3d931f918d07', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 4, 'created': '2021-09-27 21:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/36ab177a38e94fcdaf6fe3f5bed3cc9f48475a20', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 5, 'created': '2021-09-30 21:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bda94d2ce1618446ce0108984457c2151259f0c5', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 6, 'created': '2021-10-05 15:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ac9b21aea808851b36211e831c766f5ca1128638', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 7, 'created': '2021-10-05 15:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4c64c8b3683a6f3f3a345ef4d9e6c7b839dc187a', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 8, 'created': '2021-10-05 15:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/38bd2cebbfad06e1b8e41271cb80562b23b6b990', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 9, 'created': '2021-10-05 15:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1a4474ffba0dd2fc128f57e0f45bbd0fec4c13e2', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 10, 'created': '2021-10-05 16:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ad6ac4d99af6e9b43fbdde6f765caf53a5ec20e2', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 11, 'created': '2021-10-05 23:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a5410bfb951be69459b262e8b22a5bca10b2e40f', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 12, 'created': '2021-10-06 03:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7808c37ad037dcc0f6b585985065cba7ad8f86ef', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 13, 'created': '2021-10-06 13:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a5826a25892e417d5f18209789c4a90d529f9087', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 14, 'created': '2021-10-26 16:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/43c9cbe6304a77bb253ac348dc6a8a10221dad25', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 15, 'created': '2021-10-26 16:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/76f74915d139c16ccb03237fbff976b5bf2d0625', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 16, 'created': '2021-10-26 17:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/958fe93d08360bfe8a69a3eaaac8667f6cf8eb17', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 17, 'created': '2021-10-26 19:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4bb2cd981e041a4ca23b3e2a0951042e9bb16274', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 18, 'created': '2021-10-26 19:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/790826af65560159f7ae8153da4bb019ffa6dca0', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 19, 'created': '2021-10-26 22:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/73dca8b8555762a058b7353f12ebdd8a97271260', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 20, 'created': '2021-10-27 00:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3de0eb807c2f0afcfaca8dad66a56dd5c0109113', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 21, 'created': '2021-10-27 03:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e4a4bce23e1fc4284caf7db222ca50fd508387c1', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 22, 'created': '2021-10-27 13:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/26db251747d7b00420f5a3afaa86dafd63a3673a', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 23, 'created': '2021-10-27 21:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fdced77dd28bf3575d9ec64b7439994e66c33b61', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 24, 'created': '2021-10-28 03:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f9f67e0002c41e8c57be41f67bfbdacce372f075', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 25, 'created': '2021-10-28 13:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e1f4218c4ad0fd3f63c335c6c3d4a5e787088c57', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 26, 'created': '2021-10-28 15:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ab72153cbb0b8ee1a0facf127a8388560dca2536', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 27, 'created': '2021-10-28 19:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff32cfd3a5cb943c6c8097f2b3ed9aab41f24f37', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 28, 'created': '2021-11-02 15:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7e4d182d23bfd6bfab381d0269f69efa027e7f91', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 29, 'created': '2021-11-02 23:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/814f1e6c43f945ea3bdf379c986ffb074e24494a', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 30, 'created': '2021-11-03 03:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/995513aabd61b2c0f873cf0173a5f6eabaad626a', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 31, 'created': '2021-11-03 04:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/881cbfa4a2ecda60d474b3b775487258d89f73f8', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}, {'number': 32, 'created': '2021-11-03 13:19:10.000000000', 'files': ['helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0d4a2f09fa694df1207786d820ad30ae05852f2e', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.\n\nChange-Id: Ic3c34b340df183806fc2f7d494865de992767c7e\n'}]",8,810779,0d4a2f09fa694df1207786d820ad30ae05852f2e,80,3,32,29982,,,0,"Set Security Context to ks-user job

We need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.

Change-Id: Ic3c34b340df183806fc2f7d494865de992767c7e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/79/810779/7 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl'],1,cbd29315107c79ddc58ee6565cb7b3e864f16e98,,"{{ dict ""envAll"" . ""application"" ""app"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 8 }}",,1,0
openstack%2Fpuppet-glance~stable%2Ftrain~Iac580df4de14ffdb19436417b2830a834efd087d,openstack/puppet-glance,stable/train,Iac580df4de14ffdb19436417b2830a834efd087d,Swift backend: the key parameter should be secret,MERGED,2021-11-04 00:09:50.000000000,2021-11-04 16:01:26.000000000,2021-11-04 16:01:26.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 00:09:50.000000000', 'files': ['spec/defines/glance_backend_multistore_swift_spec.rb', 'manifests/backend/multistore/swift.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/f7ce22dd77d9cccdaf7bb2bd4ff811e5c211cb22', 'message': ""Swift backend: the key parameter should be secret\n\nThe key parameter of swift backend is used to define a credentail to\naccess Swift so should be hidden in logs.\n\nIn Glance the user parameter(swift_store_user) is also defined as\na secret parameter. However it defines user name or id and user name\nor id is not currently treated as secret in puppet, so this change\ndoesn't cover the user parameter.\n\nChange-Id: Iac580df4de14ffdb19436417b2830a834efd087d\n(cherry picked from commit 4a481929887d88f019467d11fb7c19d8d9311e3e)\n(cherry picked from commit 048e9b458ba0283865fd8dd0dab05a4919a8c371)\n(cherry picked from commit 572f60e47fcca241c2829eaeacd799abf873317b)\n(cherry picked from commit f6b75d9c2a1e000d7ba575db33aeabd0e3319848)\n(cherry picked from commit 2c1d7cbc995a453acfb35926adcfcbcad7ca669e)\n""}]",0,816481,f7ce22dd77d9cccdaf7bb2bd4ff811e5c211cb22,7,3,1,9816,,,0,"Swift backend: the key parameter should be secret

The key parameter of swift backend is used to define a credentail to
access Swift so should be hidden in logs.

In Glance the user parameter(swift_store_user) is also defined as
a secret parameter. However it defines user name or id and user name
or id is not currently treated as secret in puppet, so this change
doesn't cover the user parameter.

Change-Id: Iac580df4de14ffdb19436417b2830a834efd087d
(cherry picked from commit 4a481929887d88f019467d11fb7c19d8d9311e3e)
(cherry picked from commit 048e9b458ba0283865fd8dd0dab05a4919a8c371)
(cherry picked from commit 572f60e47fcca241c2829eaeacd799abf873317b)
(cherry picked from commit f6b75d9c2a1e000d7ba575db33aeabd0e3319848)
(cherry picked from commit 2c1d7cbc995a453acfb35926adcfcbcad7ca669e)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/81/816481/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/glance_backend_multistore_swift_spec.rb', 'manifests/backend/multistore/swift.pp']",2,f7ce22dd77d9cccdaf7bb2bd4ff811e5c211cb22,," ""${default_swift_reference}/key"": value => $swift_store_key, secret => true;"," ""${default_swift_reference}/key"": value => $swift_store_key;",3,3
openstack%2Fpuppet-glance~stable%2Ftrain~Ic29448860f5c7a8b743abd6f343985e65d8c5693,openstack/puppet-glance,stable/train,Ic29448860f5c7a8b743abd6f343985e65d8c5693,Add swift buffer-on-upload options for swift multibackend,MERGED,2021-11-04 00:09:31.000000000,2021-11-04 15:52:03.000000000,2021-11-04 15:50:09.000000000,"[{'_account_id': 3031}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 00:09:31.000000000', 'files': ['spec/defines/glance_backend_multistore_swift_spec.rb', 'releasenotes/notes/add_swift_buffer_options-30716d70fc42b749.yaml', 'manifests/backend/multistore/swift.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/5f1ef40ab1731e2122734302667106f733865545', 'message': 'Add swift buffer-on-upload options for swift multibackend\n\nAdds ability to set swift_buffer_on_upload and swift_upload_buffer_dir\nfor swift multi backend\n\nChange-Id: Ic29448860f5c7a8b743abd6f343985e65d8c5693\n(cherry picked from commit 9d340581b15c9b3c20d7f37f820041881177dd77)\n(cherry picked from commit d7282093228591f29b52717f05d8e6eeb419abbf)\n'}]",0,816480,5f1ef40ab1731e2122734302667106f733865545,8,4,1,9816,,,0,"Add swift buffer-on-upload options for swift multibackend

Adds ability to set swift_buffer_on_upload and swift_upload_buffer_dir
for swift multi backend

Change-Id: Ic29448860f5c7a8b743abd6f343985e65d8c5693
(cherry picked from commit 9d340581b15c9b3c20d7f37f820041881177dd77)
(cherry picked from commit d7282093228591f29b52717f05d8e6eeb419abbf)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/80/816480/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/glance_backend_multistore_swift_spec.rb', 'releasenotes/notes/add_swift_buffer_options-30716d70fc42b749.yaml', 'manifests/backend/multistore/swift.pp']",3,5f1ef40ab1731e2122734302667106f733865545,,"# [*swift_buffer_on_upload*] # Optional. Default: $::os_service_default. # # [*swift_upload_buffer_dir*] # Optional. Default: $::os_service_default. # $swift_buffer_on_upload = $::os_service_default, $swift_upload_buffer_dir = $::os_service_default, ""${name}/swift_buffer_on_upload"": value => $swift_buffer_on_upload; ""${name}/swift_upload_buffer_dir"": value => $swift_upload_buffer_dir;",,23,0
openstack%2Fdevstack~master~Ib4979e725770ec473abb62af4a4f3444c164dbea,openstack/devstack,master,Ib4979e725770ec473abb62af4a4f3444c164dbea,Docs: Pin IP_VERSION to 4 for provider networks,ABANDONED,2016-08-25 10:42:12.000000000,2021-11-04 15:44:34.000000000,,"[{'_account_id': 3}, {'_account_id': 4656}, {'_account_id': 10385}, {'_account_id': 11307}, {'_account_id': 16376}, {'_account_id': 22103}]","[{'number': 1, 'created': '2016-08-25 10:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b61fe5a6747ec08d245bfba30d4d2edffee3372f', 'message': 'Fix Q_USE_PROVIDERNET_FOR_PUBLIC=true and IP_VERSION=6+4\n\nfixes the ""IPV6_PROVIDER_FIXED_RANGE has not been set,\nbut Q_USE_PROVIDERNET_FOR_PUBLIC is true and IP_VERSION includes 6"" issue\n\nChange-Id: Ib4979e725770ec473abb62af4a4f3444c164dbea\n'}, {'number': 2, 'created': '2016-08-25 13:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7750a86c0310cc8016b9219b5f373630433b24a3', 'message': 'Docs: Pin IP_VERSION to 4 for provider networks\n\nfixes the ""IPV6_PROVIDER_FIXED_RANGE has not been set,\nbut Q_USE_PROVIDERNET_FOR_PUBLIC is true and IP_VERSION includes 6"" issue\n\nChange-Id: Ib4979e725770ec473abb62af4a4f3444c164dbea\n'}, {'number': 3, 'created': '2016-08-25 14:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/943e36c2f3c722a53126d09290ba755bdc8feec1', 'message': 'Docs: Pin IP_VERSION to 4 for provider networks\n\nEnabled l3 agent sets the IP_VERSION=4+6, but the\nexamples do not specify an IPV6 range and gateway.\nDue to that devstack terminates with\n""IPV6_PROVIDER_FIXED_RANGE has not been set,\nbut Q_USE_PROVIDERNET_FOR_PUBLIC is true and IP_VERSION includes 6""\n\nChange-Id: Ib4979e725770ec473abb62af4a4f3444c164dbea\n'}, {'number': 4, 'created': '2016-08-25 14:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a52e5a516fc2f8bb45856939c40ce652087f224b', 'message': 'Docs: Pin IP_VERSION to 4 for provider networks\n\nL3 Service functions are always being sourced [1]\nso the l3 agent sets the IP_VERSION=4+6 even if\nl3 is not activated in local.conf. Due to this and\nthat the examples do not specify an IPV6 range and gateway,\ndevstack terminates with terminates with\n""IPV6_PROVIDER_FIXED_RANGE has not been set,\nbut Q_USE_PROVIDERNET_FOR_PUBLIC is true and IP_VERSION includes 6""\n\n[1] https://github.com/openstack-dev/devstack/blob/master/lib/neutron-legacy#L268\n\nChange-Id: Ib4979e725770ec473abb62af4a4f3444c164dbea\n'}, {'number': 5, 'created': '2016-08-25 15:22:28.000000000', 'files': ['doc/source/guides/neutron.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f196d37e6488b0f28f684ac8af8676819dcddf43', 'message': 'Docs: Pin IP_VERSION to 4 for provider networks\n\nL3 Service functions are always being sourced [1]\nso the l3 agent sets the IP_VERSION=4+6 even if\nl3 is not activated in local.conf. Due to this and\nthat the examples do not specify an IPV6 range and gateway,\nfor provider networks. Devstack terminates with\n""IPV6_PROVIDER_FIXED_RANGE has not been set,\nbut Q_USE_PROVIDERNET_FOR_PUBLIC is true and IP_VERSION includes 6""\n\n[1] https://github.com/openstack-dev/devstack/blob/master/lib/neutron-legacy#L268\n\nChange-Id: Ib4979e725770ec473abb62af4a4f3444c164dbea\n'}]",3,360420,f196d37e6488b0f28f684ac8af8676819dcddf43,25,6,5,22103,,,0,"Docs: Pin IP_VERSION to 4 for provider networks

L3 Service functions are always being sourced [1]
so the l3 agent sets the IP_VERSION=4+6 even if
l3 is not activated in local.conf. Due to this and
that the examples do not specify an IPV6 range and gateway,
for provider networks. Devstack terminates with
""IPV6_PROVIDER_FIXED_RANGE has not been set,
but Q_USE_PROVIDERNET_FOR_PUBLIC is true and IP_VERSION includes 6""

[1] https://github.com/openstack-dev/devstack/blob/master/lib/neutron-legacy#L268

Change-Id: Ib4979e725770ec473abb62af4a4f3444c164dbea
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/360420/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/guides/neutron.rst'],1,b61fe5a6747ec08d245bfba30d4d2edffee3372f,doc-fix-use-providernet, IP_VERSION=4 IP_VERSION=4,,2,0
openstack%2Ftripleo-quickstart~master~I70ff559b822b3e7435694b736109013ca8a7604d,openstack/tripleo-quickstart,master,I70ff559b822b3e7435694b736109013ca8a7604d,DNM Test with testing repo added,NEW,2020-09-09 11:02:35.000000000,2021-11-04 15:43:46.000000000,,"[{'_account_id': 13861}, {'_account_id': 16312}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-09 11:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bad01d6e1bf10579b7817d89d8c6400d95a01797', 'message': 'DNM test with nfv sig repo added\n\nChange-Id: I70ff559b822b3e7435694b736109013ca8a7604d\n'}, {'number': 2, 'created': '2020-09-16 09:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/732cac67c176749a8dc13ba75600c6d3bd6dae57', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nChange-Id: I70ff559b822b3e7435694b736109013ca8a7604d\n'}, {'number': 3, 'created': '2020-09-16 15:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/11c71dd91faa6fc467a38e6ed77977c2e0737e73', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nChange-Id: I70ff559b822b3e7435694b736109013ca8a7604d\n'}, {'number': 4, 'created': '2020-09-17 06:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/78c6d8173077d5c3e6ff84b9b112196f2ff0f716', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nChange-Id: I70ff559b822b3e7435694b736109013ca8a7604d\n'}, {'number': 5, 'created': '2020-11-05 05:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ca86394d232b3f108df55cafc11e7b0efbcf61ce', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/761463/\nChange-Id: I70ff559b822b3e7435694b736109013ca8a7604d\n'}, {'number': 6, 'created': '2020-12-04 12:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c76849e68587bfe4d32da84c6b37285593741873', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/761463/\nChange-Id: I70ff559b822b3e7435694b736109013ca8a7604d\n'}, {'number': 7, 'created': '2021-02-05 07:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6d38e2ee2bf66f050f26bc2e9ce4aaddc84dd056', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/761463/\nChange-Id: I70ff559b822b3e7435694b736109013ca8a7604d\n'}, {'number': 8, 'created': '2021-02-08 06:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e8285619aaeb2759c51a3e0d23e4f15b98958a46', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/761463/\nChange-Id: I70ff559b822b3e7435694b736109013ca8a7604d\n'}, {'number': 9, 'created': '2021-03-08 10:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5ec835e6af0d37cbc23b7e78bfe0ba30be841214', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/761463/\nChange-Id: I70ff559b822b3e7435694b736109013ca8a7604d\n'}, {'number': 10, 'created': '2021-04-12 15:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c882b327e5760d2a4025da692d60aa74478eead7', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/761463/\nChange-Id: I70ff559b822b3e7435694b736109013ca8a7604d\n'}, {'number': 11, 'created': '2021-09-01 12:05:44.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/54cb29963aac1df50c65a1aced1314bfff3441ee', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/761463/\nChange-Id: I70ff559b822b3e7435694b736109013ca8a7604d\n'}]",11,750619,54cb29963aac1df50c65a1aced1314bfff3441ee,73,5,11,13861,,,0,"DNM Test with testing repo added

load deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo

Depends-On: https://review.opendev.org/#/c/761463/
Change-Id: I70ff559b822b3e7435694b736109013ca8a7604d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/19/750619/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,bad01d6e1bf10579b7817d89d8c6400d95a01797,test-rdo-repo-updates," down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/delorean-deps-nfv.repo"""," down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/delorean-deps.repo""",1,1
openstack%2Fdevstack~master~I112fbeda3b5da23c3a446bd04ade1f35847cdb01,openstack/devstack,master,I112fbeda3b5da23c3a446bd04ade1f35847cdb01,WIP replace more things with python script,ABANDONED,2019-07-26 21:05:35.000000000,2021-11-04 15:42:57.000000000,,"[{'_account_id': 4146}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-26 21:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/10422ec60ae92a1da255bc4e613535b2fdc6850d', 'message': 'WIP replace more things with python script\n\nThere is a lot of checking that we have to do to keep resources names\nand IDs straight when using the SDK. OSC does this for us in the old\ncode and now we have to do it ourselves. What this means is we only\nspeed up compared to osc if we remember those values.\n\nSpeed up by shifting more of the keystone account creation into a script\nso that these values can be remembered which should be faster than OSC.\n\nChange-Id: I112fbeda3b5da23c3a446bd04ade1f35847cdb01\n'}, {'number': 2, 'created': '2019-07-26 21:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ea9eaf610b988889d702bc014dbb10bd6f92f750', 'message': 'WIP replace more things with python script\n\nThere is a lot of checking that we have to do to keep resources names\nand IDs straight when using the SDK. OSC does this for us in the old\ncode and now we have to do it ourselves. What this means is we only\nspeed up compared to osc if we remember those values.\n\nSpeed up by shifting more of the keystone account creation into a script\nso that these values can be remembered which should be faster than OSC.\n\nChange-Id: I112fbeda3b5da23c3a446bd04ade1f35847cdb01\n'}, {'number': 3, 'created': '2019-07-26 21:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/63d63de724bca283d58103c02e4ab348206c4655', 'message': 'WIP replace more things with python script\n\nThere is a lot of checking that we have to do to keep resources names\nand IDs straight when using the SDK. OSC does this for us in the old\ncode and now we have to do it ourselves. What this means is we only\nspeed up compared to osc if we remember those values.\n\nSpeed up by shifting more of the keystone account creation into a script\nso that these values can be remembered which should be faster than OSC.\n\nChange-Id: I112fbeda3b5da23c3a446bd04ade1f35847cdb01\n'}, {'number': 4, 'created': '2019-07-26 22:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5bedf9f7a5278a6c2c6c8330b3207274bd3bb13b', 'message': 'WIP replace more things with python script\n\nThere is a lot of checking that we have to do to keep resources names\nand IDs straight when using the SDK. OSC does this for us in the old\ncode and now we have to do it ourselves. What this means is we only\nspeed up compared to osc if we remember those values.\n\nSpeed up by shifting more of the keystone account creation into a script\nso that these values can be remembered which should be faster than OSC.\n\nChange-Id: I112fbeda3b5da23c3a446bd04ade1f35847cdb01\n'}, {'number': 5, 'created': '2019-07-26 22:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d709326cb04247f4054e3f85414db654959d13c7', 'message': 'WIP replace more things with python script\n\nThere is a lot of checking that we have to do to keep resources names\nand IDs straight when using the SDK. OSC does this for us in the old\ncode and now we have to do it ourselves. What this means is we only\nspeed up compared to osc if we remember those values.\n\nSpeed up by shifting more of the keystone account creation into a script\nso that these values can be remembered which should be faster than OSC.\n\nChange-Id: I112fbeda3b5da23c3a446bd04ade1f35847cdb01\n'}, {'number': 6, 'created': '2019-07-26 22:54:27.000000000', 'files': ['lib/keystone', 'tools/create_keystone_accounts.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8bab791f1bc11a72c711e6a3f9ca11c0d91f0089', 'message': 'WIP replace more things with python script\n\nThere is a lot of checking that we have to do to keep resources names\nand IDs straight when using the SDK. OSC does this for us in the old\ncode and now we have to do it ourselves. What this means is we only\nspeed up compared to osc if we remember those values.\n\nSpeed up by shifting more of the keystone account creation into a script\nso that these values can be remembered which should be faster than OSC.\n\nChange-Id: I112fbeda3b5da23c3a446bd04ade1f35847cdb01\n'}]",2,673108,8bab791f1bc11a72c711e6a3f9ca11c0d91f0089,13,5,6,4146,,,0,"WIP replace more things with python script

There is a lot of checking that we have to do to keep resources names
and IDs straight when using the SDK. OSC does this for us in the old
code and now we have to do it ourselves. What this means is we only
speed up compared to osc if we remember those values.

Speed up by shifting more of the keystone account creation into a script
so that these values can be remembered which should be faster than OSC.

Change-Id: I112fbeda3b5da23c3a446bd04ade1f35847cdb01
",git fetch https://review.opendev.org/openstack/devstack refs/changes/08/673108/6 && git format-patch -1 --stdout FETCH_HEAD,"['lib/keystone', 'tools/create_keystone_accounts.py']",2,10422ec60ae92a1da255bc4e613535b2fdc6850d,replace-osc-with-script,"import os import openstack class KeystoneConfig(object): def __init__(self): self.users = {} self.groups = {} self.projects = {} self.roles = {} self.domains = {} def get_or_create_domain(self, name): if name not in self.domains: domain = self.i.find_domain(name) if domain: self.domains[name] = domain else: domain = self.i.create_domain(name=name) self.domains[name] = domain def get_or_create_project(self, name, domain): if name not in self.projects: project = self.i.find_project(name) if project: self.projects[name] = project else: project = self.i.create_project(name=name, domain_id=domain.id) self.projects[name] = project def get_or_create_role(self, name): if name not in self.roles: role = self.i.find_role(name) if role: self.roles[name] = role else: role = self.i.create_role(name=name) self.roles[name] = role def get_or_create_user(self, name, password, domain, email=None): if name not in self.users: user = self.i.find_user(name) if user: self.users[name] = user else: user = self.i.create_user( name=name, password=password, domain_id=domain.id, email=email ) self.users[name] = user def create_service_details(self): domain_name = os.environ['SERVICE_DOMAIN_NAME'] self.get_or_create_domain(domain_name) project_name = os.environ['SERVICE_PROJECT_NAME'] self.get_or_create_project(project_name, self.domains[domain_name]) # Service role, so service users do not have to be admins self.get_or_create_role('service') # The ResellerAdmin role is used by Nova and Ceilometer so we need to # keep it. The admin role in swift allows a user to act as an admin for # their project, but ResellerAdmin is needed for a user to act as any # project. The name of this role is also configurable in # swift-proxy.conf self.get_or_create_role('ResellerAdmin') # anotherrole demonstrates that an arbitrary role may be created # and used # TODO(sleepsonthefloor): show how this can be used for rbac in the # future! self.get_or_create_role('anotherrole') def create_projects(self): # invisible project - admin can't see this one self.get_or_create_project( 'invisible_to_admin', self.domains['default'], ) # demo self.get_or_create_project( 'demo', self.domains['default'], ) password = os.environ['ADMIN_PASSWORD'] self.get_or_create_user( 'demo', password, self.domains['default'], 'demo@example.com', ) # alt_demo self.get_or_create_project( 'alt_demo', self.domains['default'], ) password = os.environ['ADMIN_PASSWORD'] self.get_or_create_user( 'alt_demo', password, self.domains['default'], 'alt_demo@example.com', ) def get_or_create_group(self, name, domain, description): if name not in self.groups: group = self.i.find_group(name) if group: self.groups[name] = group else: group = self.i.create_group( name=name, domain_id=domain.id, description=description, ) self.groups[name] = group def create_groups(self): self.get_or_create_group( 'admins', self.domain['default'], 'openstack admin group', ) self.get_or_create_group( 'nonadmins', self.domain['default'], 'non-admin group', ) def check_user_project_role_set(self, user, project, role): assignments = self.i.role_assignments_filter( user=user, project=project, ) for assignment in assignments: if assignment.id == role.id: return True return False def set_user_project_roles(self): # demo if not self.check_user_project_role_set( self.users['demo'], self.projects['demo'], self.roles['member']): self.i.assign_project_role_to_user( project=self.projects['demo'], user=self.users['demo'], role=self.roles['member'], ) if not self.check_user_project_role_set( self.users['admin'], self.projects['demo'], self.roles['admin']): self.i.assign_project_role_to_user( project=self.projects['demo'], user=self.users['admin'], role=self.roles['admin'], ) if not self.check_user_project_role_set( self.users['demo'], self.projects['demo'], self.roles['anotherrole']): self.i.assign_project_role_to_user( project=self.projects['demo'], user=self.users['demo'], role=self.roles['anotherrole'], ) if not self.check_user_project_role_set( self.users['demo'], self.projects['invisible_to_admin'], self.roles['member']): self.i.assign_project_role_to_user( project=self.projects['invisible_to_admin'], user=self.users['demo'], role=self.roles['member'], ) # alt_demo if not self.check_user_project_role_set( self.users['alt_demo'], self.projects['alt_demo'], self.roles['member']): self.i.assign_project_role_to_user( project=self.projects['alt_demo'], user=self.users['alt_demo'], role=self.roles['member'], ) if not self.check_user_project_role_set( self.users['admin'], self.projects['alt_demo'], self.roles['admin']): self.i.assign_project_role_to_user( project=self.projects['alt_demo'], user=self.users['admin'], role=self.roles['admin'], ) if not self.check_user_project_role_set( self.users['alt_demo'], self.projects['alt_demo'], self.roles['anotherrole']): self.i.assign_project_role_to_user( project=self.projects['alt_demo'], user=self.users['alt_demo'], role=self.roles['anotherrole'], ) def check_group_project_role_set(self, group, project, role): assignments = self.i.role_assignments_filter( group=group, project=project, ) for assignment in assignments: if assignment.id == role.id: return True return False def set_group_project_roles(self): if not self.check_group_project_role_set( self.groups['nonadmin'], self.projects['demo'], self.roles['member']): self.i.assign_project_role_to_user( project=self.projects['demo'], group=self.groups['nonadmin'], role=self.roles['member'], ) if not self.check_group_project_role_set( self.groups['nonadmin'], self.projects['demo'], self.roles['anotherrole']): self.i.assign_project_role_to_user( project=self.projects['demo'], group=self.groups['nonadmin'], role=self.roles['anotherrole'], ) if not self.check_group_project_role_set( self.groups['nonadmin'], self.projects['alt_demo'], self.roles['member']): self.i.assign_project_role_to_user( project=self.projects['alt_demo'], group=self.groups['nonadmin'], role=self.roles['member'], ) if not self.check_group_project_role_set( self.groups['nonadmin'], self.projects['alt_demo'], self.roles['anotherrole']): self.i.assign_project_role_to_user( project=self.projects['alt_demo'], group=self.groups['nonadmin'], role=self.roles['anotherrole'], ) if not self.check_group_project_role_set( self.groups['admin'], self.projects['admin'], self.roles['admin']): self.i.assign_project_role_to_user( project=self.projects['admin'], group=self.groups['admin'], role=self.roles['admin'], ) def main(self): # Use env vars self.conn = openstack.connect() self.i = self.conn.identity # The keystone bootstrapping process (performed via keystone-manage # bootstrap) creates an admin user, admin role, member role, and admin # project. As a sanity check we exercise the CLI to retrieve the IDs # for these values. self.users['admin'] = self.i.find_user('admin', ignore_missing=False) self.projects['admin'] = self.i.find_project( 'admin', ignore_missing=False, ) self.roles['admin'] = self.i.find_role('admin', ignore_missing=False) self.roles['member'] = self.i.find_role('member', ignore_missing=False) self.domains['default'] = self.i.find_domain( 'default', ignore_missing=False, ) check = self.domains['default'].assign_role_to_user( self.users['admin'], self.roles['admin'], ) if not check: raise Exception('Assigning admin user to admin role in default ' 'domain failed') self.create_service_details() self.create_projects() self.set_user_project_roles() self.create_groups() self.set_group_project_roles() if __name__ == ""__main__"": keystone_config = KeystoneConfig() keystone_config.main() ",,310,76
openstack%2Fdevstack~master~Ifc125b6b33a1c6747b5efd34bb05ebb6f7c6eb49,openstack/devstack,master,Ifc125b6b33a1c6747b5efd34bb05ebb6f7c6eb49,WIP: Test using script instead of osc for keystone config,ABANDONED,2019-07-26 16:51:22.000000000,2021-11-04 15:42:39.000000000,,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-26 16:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c43ea9042ff0ffb5a30d77aee1683525ab33c3f5', 'message': ""WIP: Test using script instead of osc for keystone config\n\nThe keystone setup of accounts and roles is taking up about 1/5 of\ndevstack's runtime. This change uses a small python script to get an\nidea for whether or not replacing osc calls with simpler scripts will be\nquicker.\n\nThe motiviation for this is osc is known to be slow due to pkg_resources\nloading. We can check how much of this slowness is actually in that\npkg_resources loading or in our api calls by replacing osc with simple\ndirect api calls instead.\n\nChances are if we decide to go further down this route we'll want to\nreplace whole sections of stack.sh like:\nhttps://opendev.org/openstack/devstack/src/commit/6aeaceb0c4ef078d028fb6605cac2a37444097d8/stack.sh#L1146-L1161\nwith a single script that can configure everything with the overhead of\none python process startup. That means this change is probably not worth\nmerging as is even if it functions but should give us dat.\n\nChange-Id: Ifc125b6b33a1c6747b5efd34bb05ebb6f7c6eb49\n""}, {'number': 2, 'created': '2019-07-26 17:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7c0786eb86f1c597a1428bf7ae960168581aa0f1', 'message': ""WIP: Test using script instead of osc for keystone config\n\nThe keystone setup of accounts and roles is taking up about 1/5 of\ndevstack's runtime. This change uses a small python script to get an\nidea for whether or not replacing osc calls with simpler scripts will be\nquicker.\n\nThe motiviation for this is osc is known to be slow due to pkg_resources\nloading. We can check how much of this slowness is actually in that\npkg_resources loading or in our api calls by replacing osc with simple\ndirect api calls instead.\n\nChances are if we decide to go further down this route we'll want to\nreplace whole sections of stack.sh like:\nhttps://opendev.org/openstack/devstack/src/commit/6aeaceb0c4ef078d028fb6605cac2a37444097d8/stack.sh#L1146-L1161\nwith a single script that can configure everything with the overhead of\none python process startup. That means this change is probably not worth\nmerging as is even if it functions but should give us dat.\n\nChange-Id: Ifc125b6b33a1c6747b5efd34bb05ebb6f7c6eb49\n""}, {'number': 3, 'created': '2019-07-26 17:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/88b30a124dc97132aac4bd56ae965fe4f07c5321', 'message': ""WIP: Test using script instead of osc for keystone config\n\nThe keystone setup of accounts and roles is taking up about 1/5 of\ndevstack's runtime. This change uses a small python script to get an\nidea for whether or not replacing osc calls with simpler scripts will be\nquicker.\n\nThe motiviation for this is osc is known to be slow due to pkg_resources\nloading. We can check how much of this slowness is actually in that\npkg_resources loading or in our api calls by replacing osc with simple\ndirect api calls instead.\n\nChances are if we decide to go further down this route we'll want to\nreplace whole sections of stack.sh like:\nhttps://opendev.org/openstack/devstack/src/commit/6aeaceb0c4ef078d028fb6605cac2a37444097d8/stack.sh#L1146-L1161\nwith a single script that can configure everything with the overhead of\none python process startup. That means this change is probably not worth\nmerging as is even if it functions but should give us dat.\n\nChange-Id: Ifc125b6b33a1c6747b5efd34bb05ebb6f7c6eb49\n""}, {'number': 4, 'created': '2019-07-26 17:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b4ef72cc67869ec9e86575cfa4dd71c295a22f48', 'message': ""WIP: Test using script instead of osc for keystone config\n\nThe keystone setup of accounts and roles is taking up about 1/5 of\ndevstack's runtime. This change uses a small python script to get an\nidea for whether or not replacing osc calls with simpler scripts will be\nquicker.\n\nThe motiviation for this is osc is known to be slow due to pkg_resources\nloading. We can check how much of this slowness is actually in that\npkg_resources loading or in our api calls by replacing osc with simple\ndirect api calls instead.\n\nChances are if we decide to go further down this route we'll want to\nreplace whole sections of stack.sh like:\nhttps://opendev.org/openstack/devstack/src/commit/6aeaceb0c4ef078d028fb6605cac2a37444097d8/stack.sh#L1146-L1161\nwith a single script that can configure everything with the overhead of\none python process startup. That means this change is probably not worth\nmerging as is even if it functions but should give us dat.\n\nChange-Id: Ifc125b6b33a1c6747b5efd34bb05ebb6f7c6eb49\n""}, {'number': 5, 'created': '2019-07-26 18:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7bbf7547bc7816c48c54ae2a5dad019c47686b68', 'message': ""WIP: Test using script instead of osc for keystone config\n\nThe keystone setup of accounts and roles is taking up about 1/5 of\ndevstack's runtime. This change uses a small python script to get an\nidea for whether or not replacing osc calls with simpler scripts will be\nquicker.\n\nThe motiviation for this is osc is known to be slow due to pkg_resources\nloading. We can check how much of this slowness is actually in that\npkg_resources loading or in our api calls by replacing osc with simple\ndirect api calls instead.\n\nChances are if we decide to go further down this route we'll want to\nreplace whole sections of stack.sh like:\nhttps://opendev.org/openstack/devstack/src/commit/6aeaceb0c4ef078d028fb6605cac2a37444097d8/stack.sh#L1146-L1161\nwith a single script that can configure everything with the overhead of\none python process startup. That means this change is probably not worth\nmerging as is even if it functions but should give us dat.\n\nChange-Id: Ifc125b6b33a1c6747b5efd34bb05ebb6f7c6eb49\n""}, {'number': 6, 'created': '2019-07-26 19:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1f1324ac875299eef70dc8b663186db9bc7b0e2e', 'message': ""WIP: Test using script instead of osc for keystone config\n\nThe keystone setup of accounts and roles is taking up about 1/5 of\ndevstack's runtime. This change uses a small python script to get an\nidea for whether or not replacing osc calls with simpler scripts will be\nquicker.\n\nThe motiviation for this is osc is known to be slow due to pkg_resources\nloading. We can check how much of this slowness is actually in that\npkg_resources loading or in our api calls by replacing osc with simple\ndirect api calls instead.\n\nChances are if we decide to go further down this route we'll want to\nreplace whole sections of stack.sh like:\nhttps://opendev.org/openstack/devstack/src/commit/6aeaceb0c4ef078d028fb6605cac2a37444097d8/stack.sh#L1146-L1161\nwith a single script that can configure everything with the overhead of\none python process startup. That means this change is probably not worth\nmerging as is even if it functions but should give us dat.\n\nChange-Id: Ifc125b6b33a1c6747b5efd34bb05ebb6f7c6eb49\n""}, {'number': 7, 'created': '2019-07-26 19:28:44.000000000', 'files': ['tools/get_or_add_user_project_role.py', 'functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/aa4c4d514aaa9535a65b1f2b45dca6001028d0d0', 'message': ""WIP: Test using script instead of osc for keystone config\n\nThe keystone setup of accounts and roles is taking up about 1/5 of\ndevstack's runtime. This change uses a small python script to get an\nidea for whether or not replacing osc calls with simpler scripts will be\nquicker.\n\nThe motiviation for this is osc is known to be slow due to pkg_resources\nloading. We can check how much of this slowness is actually in that\npkg_resources loading or in our api calls by replacing osc with simple\ndirect api calls instead.\n\nChances are if we decide to go further down this route we'll want to\nreplace whole sections of stack.sh like:\nhttps://opendev.org/openstack/devstack/src/commit/6aeaceb0c4ef078d028fb6605cac2a37444097d8/stack.sh#L1146-L1161\nwith a single script that can configure everything with the overhead of\none python process startup. That means this change is probably not worth\nmerging as is even if it functions but should give us dat.\n\nChange-Id: Ifc125b6b33a1c6747b5efd34bb05ebb6f7c6eb49\n""}]",8,673018,aa4c4d514aaa9535a65b1f2b45dca6001028d0d0,18,6,7,4146,,,0,"WIP: Test using script instead of osc for keystone config

The keystone setup of accounts and roles is taking up about 1/5 of
devstack's runtime. This change uses a small python script to get an
idea for whether or not replacing osc calls with simpler scripts will be
quicker.

The motiviation for this is osc is known to be slow due to pkg_resources
loading. We can check how much of this slowness is actually in that
pkg_resources loading or in our api calls by replacing osc with simple
direct api calls instead.

Chances are if we decide to go further down this route we'll want to
replace whole sections of stack.sh like:
https://opendev.org/openstack/devstack/src/commit/6aeaceb0c4ef078d028fb6605cac2a37444097d8/stack.sh#L1146-L1161
with a single script that can configure everything with the overhead of
one python process startup. That means this change is probably not worth
merging as is even if it functions but should give us dat.

Change-Id: Ifc125b6b33a1c6747b5efd34bb05ebb6f7c6eb49
",git fetch https://review.opendev.org/openstack/devstack refs/changes/18/673018/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/get_or_add_user_project_role.py', 'functions-common']",2,c43ea9042ff0ffb5a30d77aee1683525ab33c3f5,replace-osc-with-script, user_rule_id=$($PYTHON $TOP_DIR/tools/get_or_add_user_project_role.py $1 $2 $3 $4 $5)," domain_args=$(_get_domain_args $4 $5) # Gets user role id user_role_id=$(openstack role assignment list \ --role $1 \ --user $2 \ --project $3 \ $domain_args \ | grep '^|\s[a-f0-9]\+' | get_field 1) if [[ -z ""$user_role_id"" ]]; then # Adds role to user and get it openstack role add $1 \ --user $2 \ --project $3 \ $domain_args user_role_id=$(openstack role assignment list \ --role $1 \ --user $2 \ --project $3 \ $domain_args \ | grep '^|\s[a-f0-9]\+' | get_field 1) fi",36,22
openstack%2Fdevstack~master~I9eaf4987b14b89a09d7567fb6a44f5c08f74ac80,openstack/devstack,master,I9eaf4987b14b89a09d7567fb6a44f5c08f74ac80,DO NOT MERGE debugging why worlddump logs are not collected,ABANDONED,2019-09-05 16:26:52.000000000,2021-11-04 15:40:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-05 16:26:52.000000000', 'files': ['tools/worlddump.py', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/aa6809311d7b3a03ebaaa6ef350269d4117f3073', 'message': 'DO NOT MERGE debugging why worlddump logs are not collected\n\nChange-Id: I9eaf4987b14b89a09d7567fb6a44f5c08f74ac80\n'}]",0,680458,aa6809311d7b3a03ebaaa6ef350269d4117f3073,3,1,1,4146,,,0,"DO NOT MERGE debugging why worlddump logs are not collected

Change-Id: I9eaf4987b14b89a09d7567fb6a44f5c08f74ac80
",git fetch https://review.opendev.org/openstack/devstack refs/changes/58/680458/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/worlddump.py', 'stack.sh']",2,aa6809311d7b3a03ebaaa6ef350269d4117f3073,worlddump,# Always run worlddump so that we can debug why it fails if [[ -z $LOGDIR ]]; then $TOP_DIR/tools/worlddump.py else $TOP_DIR/tools/worlddump.py -d $LOGDIR fi,,39,15
openstack%2Fdevstack~master~Ie6832b853555329322861d61e58894d60a4e3442,openstack/devstack,master,Ie6832b853555329322861d61e58894d60a4e3442,enable basic gentoo detection,NEW,2018-04-16 01:51:26.000000000,2021-11-04 15:35:50.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-16 01:51:26.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/bfc549f86f294c8b10674622116c46b9b7c4f7a0', 'message': 'enable basic gentoo detection\n\nChange-Id: Ie6832b853555329322861d61e58894d60a4e3442\n'}]",1,561492,bfc549f86f294c8b10674622116c46b9b7c4f7a0,15,6,1,14288,,,0,"enable basic gentoo detection

Change-Id: Ie6832b853555329322861d61e58894d60a4e3442
",git fetch https://review.opendev.org/openstack/devstack refs/changes/92/561492/1 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,bfc549f86f294c8b10674622116c46b9b7c4f7a0,enable_basic_gentoo_package_support," elif [[ ""${os_VENDOR}"" == Gentoo ]]; then os_PACKAGE=""ebuild"" elif [[ ""${os_package}"" = ""ebuild"" ]]; then equery s ""$@""",,4,0
openstack%2Fcharm-deployment-guide~master~I06f72fc03c5a65f89a4b01f783beed4450e502d3,openstack/charm-deployment-guide,master,I06f72fc03c5a65f89a4b01f783beed4450e502d3,Fix lp1934764 - series upgrade order,MERGED,2021-11-02 19:19:27.000000000,2021-11-04 15:34:15.000000000,2021-11-04 15:32:18.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 19:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1899d7e9ed65b4ac520664d84aef30bda3e0f8c3', 'message': 'Fix lp1934764 - series upgrade order\n\nCloses-Bug: #1934764\nChange-Id: I06f72fc03c5a65f89a4b01f783beed4450e502d3\n'}, {'number': 2, 'created': '2021-11-03 21:21:51.000000000', 'files': ['deploy-guide/source/upgrade-series-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/3f969eff1f4ef049ed8cd862000a12475b71cc6e', 'message': 'Fix lp1934764 - series upgrade order\n\nCloses-Bug: #1934764\nChange-Id: I06f72fc03c5a65f89a4b01f783beed4450e502d3\n'}]",7,816395,3f969eff1f4ef049ed8cd862000a12475b71cc6e,11,2,2,30561,,,0,"Fix lp1934764 - series upgrade order

Closes-Bug: #1934764
Change-Id: I06f72fc03c5a65f89a4b01f783beed4450e502d3
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/95/816395/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-series-openstack.rst'],1,1899d7e9ed65b4ac520664d84aef30bda3e0f8c3,lp1934764-series-upgrade-order," The first machines to be upgraded are always associated with the non-leaders of the principal application. Let these machines be called the ""principal non-leader machines"" and their units the ""principal non-leader units"". The last machine to be upgraded is always associated with the leader of the principal application. Let this machine be called the ""principal leader machine"" and its unit the ""principal leader unit"".#. Perform a series upgrade on one of the (now paused) principal non-leader machines:#. Invoke the :command:`complete` sub-command on the principal non-leader machine being upgraded. #. Repeat steps 4 and 6 for the remaining principal non-leader machines. #. Pause the principal leader unit. #. Repeat steps 4 and 6 for the principal leader machine."," The first machine to be upgraded is always associated with the leader of the principal application. Let this machine be called the ""principal leader machine"" and its unit be called the ""principal leader unit"".#. Perform a series upgrade on the principal leader machine.#. Invoke the :command:`complete` sub-command on the principal leader machine. #. Repeat steps 4 and 6 for the application non-leader machines.",16,6
openstack%2Fcharm-ceph-dashboard~stable%2F21.10~Ibd616cdf9a08fa990fd2c49024c88f5529e24128,openstack/charm-ceph-dashboard,stable/21.10,Ibd616cdf9a08fa990fd2c49024c88f5529e24128,Improve README,MERGED,2021-11-04 10:49:13.000000000,2021-11-04 15:30:46.000000000,2021-11-04 15:30:46.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-11-04 10:49:13.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/a02452ca0ff0eebedcf4ddbeb7a4577eca6b0db3', 'message': 'Improve README\n\nSome essential bits were missing from the initial\n21.10 release. It would be great if this change\ncould be backported.\n\nChange-Id: Ibd616cdf9a08fa990fd2c49024c88f5529e24128\n'}]",0,816650,a02452ca0ff0eebedcf4ddbeb7a4577eca6b0db3,6,2,1,20870,,,0,"Improve README

Some essential bits were missing from the initial
21.10 release. It would be great if this change
could be backported.

Change-Id: Ibd616cdf9a08fa990fd2c49024c88f5529e24128
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/50/816650/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,a02452ca0ff0eebedcf4ddbeb7a4577eca6b0db3,improve-readme-stable/21.10,"a built-in web-based Ceph management and monitoring application. It works in conjunction with the [openstack-loadbalancer][loadbalancer-charm] charm, which in turn utilises the [hacluster][hacluster-charm] charm. > **Note**: The ceph-dashboard charm is currently in tech-preview.### Load balancer The dashboard is accessed via a load balancer using VIPs and implemented via the openstack-loadbalancer and hacluster charms: juju deploy -n 3 --config vip=10.5.20.200 cs:~openstack-charmers/openstack-loadbalancer juju deploy hacluster openstack-loadbalancer-hacluster juju add-relation openstack-loadbalancer:ha openstack-loadbalancer-hacluster:ha Now add a relation between the openstack-loadbalancer and ceph-dashboard applications: juju add-relation ceph-dashboard:loadbalancer openstack-loadbalancer:loadbalancer ### Dashboard user Credentials are needed to log in to the dashboard. Set these up by applying an action to any ceph-dashboard unit. For example, to create an administrator user called 'admin': juju run-action --wait ceph-dashboard/0 add-user username=admin role=administrator The command's output will include a generated password. The dashboard can then be accessed on the configured VIP and on port 8443: https://10.5.20.200:8443 juju add-relation ceph-dashboard:radosgw-dashboard ceph-radosgw:radosgw-user[loadbalancer-charm]: https://jaas.ai/u/openstack-charmers/openstack-loadbalancer [hacluster-charm]: https://jaas.ai/hacluster",a built-in web-based Ceph management and monitoring application. juju relate ceph-dashboard:radosgw-dashboard ceph-radosgw:radosgw-user,36,2
openstack%2Fdevstack~master~I4e19a2f08883f1517b88edc25a1c55d9e133beb4,openstack/devstack,master,I4e19a2f08883f1517b88edc25a1c55d9e133beb4,Replaces yaml.load() with yaml.safe_load(),ABANDONED,2018-02-13 08:26:35.000000000,2021-11-04 15:19:19.000000000,,"[{'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-13 08:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cc1c7aa4f67c8b9d7f9edf7d4cad0ecebbf8316c', 'message': 'Replaces yaml.load() with yaml.safe_load()\n\nYaml.load() return Python object may be dangerous if you receive a YAML\ndocument from an untrusted source such as the Internet. The function\nyaml.safe_load() limits this ability to simple Python objects like integers or\nlists.\n\nReference:\nhttps://security.openstack.org/guidelines/ dg_avoid-dangerous-input-parsing-libraries.html\n\nChange-Id: I4e19a2f08883f1517b88edc25a1c55d9e133beb4\n'}, {'number': 2, 'created': '2018-02-13 09:26:36.000000000', 'files': ['tools/update_clouds_yaml.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2066b9a3ff64c4f502b68ea8c17de9980c540b69', 'message': 'Replaces yaml.load() with yaml.safe_load()\n\nYaml.load() return Python object may be dangerous if you receive a YAML\ndocument from an untrusted source such as the Internet. The function\nyaml.safe_load() limits this ability to simple Python objects like integers or\nlists.\n\nReference:\nhttps://security.openstack.org/guidelines/dg_avoid-dangerous-input-parsing-libraries.html\n\nChange-Id: I4e19a2f08883f1517b88edc25a1c55d9e133beb4\n'}]",0,543848,2066b9a3ff64c4f502b68ea8c17de9980c540b69,7,4,2,19853,,,0,"Replaces yaml.load() with yaml.safe_load()

Yaml.load() return Python object may be dangerous if you receive a YAML
document from an untrusted source such as the Internet. The function
yaml.safe_load() limits this ability to simple Python objects like integers or
lists.

Reference:
https://security.openstack.org/guidelines/dg_avoid-dangerous-input-parsing-libraries.html

Change-Id: I4e19a2f08883f1517b88edc25a1c55d9e133beb4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/48/543848/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/update_clouds_yaml.py'],1,cc1c7aa4f67c8b9d7f9edf7d4cad0ecebbf8316c,, self._clouds = yaml.safe_load(clouds_file), self._clouds = yaml.load(clouds_file),1,1
openstack%2Fironic-python-agent~master~Iceeab0010827728711e19e5b031ccac55fe1efde,openstack/ironic-python-agent,master,Iceeab0010827728711e19e5b031ccac55fe1efde,Always include the oslo_log log file in ramdisk logs,MERGED,2021-10-28 15:58:54.000000000,2021-11-04 15:16:36.000000000,2021-11-04 15:14:33.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-10-28 15:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c58c99bbf955b7c194224500a78bdd72e289dd09', 'message': 'Always include the oslo_log log file in ramdisk logs\n\nEven if journald is present, there is no guarantee that IPA logs there\n(this is the case in container-based ramdisks).\n\nChange-Id: Iceeab0010827728711e19e5b031ccac55fe1efde\n'}, {'number': 2, 'created': '2021-10-28 16:36:18.000000000', 'files': ['releasenotes/notes/log-file-7aaaf31693ddc617.yaml', 'ironic_python_agent/tests/unit/base.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/tests/unit/test_agent.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2cedaa53c2ad306c4aeb2c2dc76c051db7408dbd', 'message': 'Always include the oslo_log log file in ramdisk logs\n\nEven if journald is present, there is no guarantee that IPA logs there\n(this is the case in container-based ramdisks).\n\nChange-Id: Iceeab0010827728711e19e5b031ccac55fe1efde\n'}]",0,815861,2cedaa53c2ad306c4aeb2c2dc76c051db7408dbd,10,4,2,10239,,,0,"Always include the oslo_log log file in ramdisk logs

Even if journald is present, there is no guarantee that IPA logs there
(this is the case in container-based ramdisks).

Change-Id: Iceeab0010827728711e19e5b031ccac55fe1efde
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/61/815861/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/log-file-7aaaf31693ddc617.yaml', 'ironic_python_agent/tests/unit/base.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/tests/unit/test_agent.py', 'ironic_python_agent/utils.py']",5,c58c99bbf955b7c194224500a78bdd72e289dd09,log-file, if CONF.log_file and os.path.exists(CONF.log_file): file_list.append(CONF.log_file) if (CONF.log_file and os.path.exists(CONF.log_file) and not CONF.log_file.startswith('/var/log')): file_list.append(CONF.log_file),,69,3
openstack%2Ftripleo-ci~master~I031e69780c3734d35b76f6fc552ec3cb655eb9a1,openstack/tripleo-ci,master,I031e69780c3734d35b76f6fc552ec3cb655eb9a1,[CS9] Drop container-tools:latest,MERGED,2021-11-02 10:48:02.000000000,2021-11-04 15:05:56.000000000,2021-11-04 15:05:56.000000000,"[{'_account_id': 8161}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-11-02 10:48:02.000000000', 'files': ['playbooks/tripleo-buildimages/pre9.yaml', 'roles/oooci-build-images/vars/centos-9.yaml', 'playbooks/tripleo-buildcontainers/pre9.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8f3daa94eccf8d372c98af37cda4f49f3354ac66', 'message': '[CS9] Drop container-tools:latest\n\nhttps://gitlab.com/redhat/centos-stream/release-engineering/pungi-centos/-/merge_requests/176\ndrops the container-tools module stream from cs9 and\nuses non-modular repo to install podman.\n\nIt removes the reference of container-tools:latest for the same.\n\nRelated-Bug: #1949456\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I031e69780c3734d35b76f6fc552ec3cb655eb9a1\n'}]",9,816318,8f3daa94eccf8d372c98af37cda4f49f3354ac66,32,9,1,12393,,,0,"[CS9] Drop container-tools:latest

https://gitlab.com/redhat/centos-stream/release-engineering/pungi-centos/-/merge_requests/176
drops the container-tools module stream from cs9 and
uses non-modular repo to install podman.

It removes the reference of container-tools:latest for the same.

Related-Bug: #1949456

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I031e69780c3734d35b76f6fc552ec3cb655eb9a1
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/18/816318/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tripleo-buildimages/pre9.yaml', 'playbooks/tripleo-buildcontainers/pre9.yaml', 'roles/oooci-build-images/vars/centos-9.yaml']",3,8f3daa94eccf8d372c98af37cda4f49f3354ac66,cs9,"dib_dnf_module_streams: """"","dib_dnf_module_streams: ""container-tools:latest""",1,13
openstack%2Ftripleo-quickstart~master~Iee0637ec0c7d9356ab3aece8519929bf18d77dba,openstack/tripleo-quickstart,master,Iee0637ec0c7d9356ab3aece8519929bf18d77dba,Align tempest workers and os workers numbers,ABANDONED,2021-09-21 14:37:51.000000000,2021-11-04 14:56:15.000000000,,"[{'_account_id': 6926}, {'_account_id': 9914}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-21 14:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/10f586d8270be867ba3a812ec230917898fb2f3a', 'message': 'Raise tempest workers and set os workers numbers\n\nMake tempest workers to follow os workers configs.\nThat is needed to speed up tempest executions times on environments\nrunning os services under WSGI.\n\nSince https://bugs.launchpad.net/tripleo/+bug/1744151 and\nhttps://bugs.launchpad.net/tripleo/+bug/1742936 has been fixed in 2018,\nput the tempest concurrency values back to a 3.\n\nDepends-On: https://review.opendev.org/810256\nChange-Id: Iee0637ec0c7d9356ab3aece8519929bf18d77dba\nRelated-Bug: #1939023\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-09-23 13:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/eadfd5a43f6efcc4d4e05c3f9627edc23cbfab95', 'message': 'Raise tempest workers and set os workers numbers\n\nMake tempest workers to follow os workers configs.\nThat is needed to speed up tempest executions times on environments\nrunning os services under WSGI.\n\nSince https://bugs.launchpad.net/tripleo/+bug/1744151 and\nhttps://bugs.launchpad.net/tripleo/+bug/1742936 has been fixed in 2018,\nput the tempest concurrency values back to a 3. That is in case if\nanyone deploys tempest the old way. For the new method (os_tempest)\nalign os_workers with its tempest_run_concurrency.\n\nDepends-On: https://review.opendev.org/810256\nChange-Id: Iee0637ec0c7d9356ab3aece8519929bf18d77dba\nRelated-Bug: #1939023\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-09-24 08:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dc0413ba0c084c2bed04d2e220e1a4aac39fa9dd', 'message': 'Align tempest workers and os workers numbers\n\nMake tempest workers to follow os workers configs.\nThat is needed to speed up tempest executions times on environments\nrunning os services under WSGI.\n\nSince https://bugs.launchpad.net/tripleo/+bug/1744151 and\nhttps://bugs.launchpad.net/tripleo/+bug/1742936 has been fixed in 2018,\nput the tempest concurrency values back to a 3. That is in case if\nanyone deploys tempest the old way. For the new method (os_tempest)\nalign os_workers with its tempest_run_concurrency\n(and keep the latter unchanged).\n\nDepends-On: https://review.opendev.org/810256\nChange-Id: Iee0637ec0c7d9356ab3aece8519929bf18d77dba\nRelated-Bug: #1939023\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2021-09-27 08:27:26.000000000', 'files': ['config/general_config/featureset039.yml', 'config/general_config/featureset021.yml', 'config/general_config/featureset062.yml', 'config/general_config/featureset056.yml', 'config/general_config/featureset002.yml', 'config/general_config/featureset017.yml', 'config/general_config/featureset052.yml', 'config/general_config/featureset020.yml', 'config/general_config/featureset035.yml', 'config/general_config/featureset060.yml', 'config/general_config/featureset048.yml', 'config/general_config/featureset055.yml', 'config/general_config/featureset001.yml', 'config/general_config/featureset016.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b7a452bc2c91e47c195711f3cd6cb6cafca8355e', 'message': 'Align tempest workers and os workers numbers\n\nMake tempest workers to follow os workers configs.\nThat is needed to speed up tempest executions times on environments\nrunning os services under WSGI.\n\nSince https://bugs.launchpad.net/tripleo/+bug/1744151 and\nhttps://bugs.launchpad.net/tripleo/+bug/1742936 has been fixed in 2018,\nput the tempest concurrency values back to a 3. That is in case if\nanyone deploys tempest the old way. For the new method (os_tempest)\nalign os_workers with its tempest_run_concurrency\n(and keep the latter unchanged).\n\nDepends-On: https://review.opendev.org/810672\nChange-Id: Iee0637ec0c7d9356ab3aece8519929bf18d77dba\nRelated-Bug: #1939023\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,810264,b7a452bc2c91e47c195711f3cd6cb6cafca8355e,40,7,4,6926,,,0,"Align tempest workers and os workers numbers

Make tempest workers to follow os workers configs.
That is needed to speed up tempest executions times on environments
running os services under WSGI.

Since https://bugs.launchpad.net/tripleo/+bug/1744151 and
https://bugs.launchpad.net/tripleo/+bug/1742936 has been fixed in 2018,
put the tempest concurrency values back to a 3. That is in case if
anyone deploys tempest the old way. For the new method (os_tempest)
align os_workers with its tempest_run_concurrency
(and keep the latter unchanged).

Depends-On: https://review.opendev.org/810672
Change-Id: Iee0637ec0c7d9356ab3aece8519929bf18d77dba
Related-Bug: #1939023
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/64/810264/4 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset052.yml', 'config/general_config/featureset021.yml', 'config/general_config/featureset020.yml', 'config/general_config/featureset048.yml', 'config/general_config/featureset055.yml', 'config/general_config/featureset016.yml', 'config/general_config/featureset017.yml']",7,10f586d8270be867ba3a812ec230917898fb2f3a,workers,"tempest_workers: 3 os_workers: ""{{ tempest_workers }}""","# This is a workaround to have test_volume_boot_pattern passing, it's failing # due a concurrency, for more information, check lp 1744151 tempest_workers: 1",10,7
openstack%2Ftripleo-ci~master~Ibf73ace3f420dbcbc2c2b9b7339d411608ca5fc8,openstack/tripleo-ci,master,Ibf73ace3f420dbcbc2c2b9b7339d411608ca5fc8,Use extra_args instead of workers_args,ABANDONED,2021-09-23 13:28:57.000000000,2021-11-04 14:55:36.000000000,,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11604}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-09-23 13:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b8c85743b5331febb9fe5b9b130dac8d995a8fe3', 'message': 'Raise os workers counts to meet tempest workers\n\nFor standalone jobs, remove the bottleneck that causes tempest suits\nexecuted serially in low-memory footprint envs, which are configured\nwith WSGI processes=1 otherwise.\n\nChange-Id: Ibf73ace3f420dbcbc2c2b9b7339d411608ca5fc8\nRelated-Bug: #1939023\nDepends-On: https://review.opendev.org/810256\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-09-23 13:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bd0ff610635665f98888f36182dda3c3e77392cc', 'message': 'Raise os workers counts to meet tempest workers\n\nFor standalone jobs, remove the bottleneck that causes tempest suits\nexecuted serially in low-memory footprint envs, which are configured\nwith WSGI processes=1 otherwise.\n\nChange-Id: Ibf73ace3f420dbcbc2c2b9b7339d411608ca5fc8\nRelated-Bug: #1939023\nDepends-On: https://review.opendev.org/810256\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-09-24 08:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b4c1c828412a755f9a2642d2b84965ce4dafb80f', 'message': 'Align os workers with tempest workers counts\n\nFor standalone jobs, remove the bottleneck that causes tempest suits\nexecuted serially in low-memory footprint envs, which are configured\nwith WSGI processes=1 otherwise.\n\nChange-Id: Ibf73ace3f420dbcbc2c2b9b7339d411608ca5fc8\nRelated-Bug: #1939023\nDepends-On: https://review.opendev.org/810256\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2021-09-27 08:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/867ea29e4e5c3a95becd0dce75c8bb767122e5da', 'message': 'Use extra_args instead of workers_args\n\nworkers_args is already set to contain low-mem env, plus other\nsettings via quickstart.\n\nDo not override it in tripleo-ci jobs configs, stick to\nextra_args, like other jobs around do.\n\nAlso, allow overrides of a new os_workers setting, and the\nflag that enables quickstart to setup os workers.\n\nSet the os workers default to 1 to follow the tempest\nworkers default.\n\nChange-Id: Ibf73ace3f420dbcbc2c2b9b7339d411608ca5fc8\nRelated-Bug: #1939023\nDepends-On: https://review.opendev.org/810256\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2021-09-27 08:30:09.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/multinode.yml', 'roles/run-test/tasks/main.yaml', 'toci-quickstart/config/testenv/ovb.yml', 'zuul.d/standalone-jobs.yaml', 'toci-quickstart/config/testenv/ovb-psi.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0000901cf6f0ad2513fc90dd6ea7bf8ad605a678', 'message': 'Use extra_args instead of workers_args\n\nworkers_args is already set to contain low-mem env, plus other\nsettings via quickstart.\n\nDo not override it in tripleo-ci jobs configs, stick to\nextra_args, like other jobs around do.\n\nAlso, allow overrides of a new os_workers setting, and the\nflag that enables quickstart to setup os workers.\n\nSet the os workers default to 1 to follow the tempest\nworkers default.\n\nChange-Id: Ibf73ace3f420dbcbc2c2b9b7339d411608ca5fc8\nRelated-Bug: #1939023\nDepends-On: https://review.opendev.org/810256\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,810672,0000901cf6f0ad2513fc90dd6ea7bf8ad605a678,17,9,5,6926,,,0,"Use extra_args instead of workers_args

workers_args is already set to contain low-mem env, plus other
settings via quickstart.

Do not override it in tripleo-ci jobs configs, stick to
extra_args, like other jobs around do.

Also, allow overrides of a new os_workers setting, and the
flag that enables quickstart to setup os workers.

Set the os workers default to 1 to follow the tempest
workers default.

Change-Id: Ibf73ace3f420dbcbc2c2b9b7339d411608ca5fc8
Related-Bug: #1939023
Depends-On: https://review.opendev.org/810256
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/72/810672/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,b8c85743b5331febb9fe5b9b130dac8d995a8fe3,workers, tempest_run_concurrency: 3 os_workers: 3 set_overcloud_workers: true, tempest_run_concurrency: 1,3,1
openstack%2Ftripleo-quickstart-extras~master~Id4986d27a459f75d5e12dd506d6d9267e9dab84d,openstack/tripleo-quickstart-extras,master,Id4986d27a459f75d5e12dd506d6d9267e9dab84d,Allow custom os sesrvice workers,ABANDONED,2021-09-21 14:28:32.000000000,2021-11-04 14:55:11.000000000,,"[{'_account_id': 6926}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-21 14:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4835275f92b77d74440656c88447d1bc6f447179', 'message': 'Allow custom os sesrvice workers\n\nWhen tempest_workers > os service workers counts, tempest starts\nqueueing API requests and executes serially. That is because os\nservices running under WSGI processorcount=1 config become a\nbottleneck.\n\nAllow custom os_workers configs for standalone and overcloud\ndeployments in CI.\n\nChange-Id: Id4986d27a459f75d5e12dd506d6d9267e9dab84d\nRelated-Bug: #1939023\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-09-23 12:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/675e97efbf6983180737b3a647d38b53df2e1f0e', 'message': 'Allow custom os sesrvice workers\n\nWhen tempest_workers > os service workers counts, tempest starts\nqueueing API requests and executes serially. That is because os\nservices running under WSGI processorcount=1 config become a\nbottleneck.\n\nAllow custom os_workers configs for standalone and overcloud\ndeployments in CI.\n\nChange-Id: Id4986d27a459f75d5e12dd506d6d9267e9dab84d\nRelated-Bug: #1939023\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-09-24 08:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f2f74663a9f39a8083f91dd431f490d2b6c111e5', 'message': 'Allow custom os sesrvice workers\n\nWhen tempest_workers > os service workers counts, tempest starts\nqueueing API requests and executes serially. That is because os\nservices running under WSGI processorcount=1 config become a\nbottleneck.\n\nAllow custom os_workers configs for standalone and overcloud\ndeployments in CI.\n\nChange-Id: Id4986d27a459f75d5e12dd506d6d9267e9dab84d\nRelated-Bug: #1939023\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2021-09-24 13:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6be63674451ba523bc3f9f7ab05fb562f27524e0', 'message': 'Allow custom os sesrvice workers\n\nWhen tempest_workers > os service workers counts, tempest starts\nqueueing API requests and executes serially. That is because os\nservices running under WSGI processorcount=1 config become a\nbottleneck.\n\nAllow custom os_workers configs for standalone and overcloud\ndeployments in CI. Retain a single worker defaults to not affect\nexisting CI jobs (overrides should be done via zuul/featuresets,\nper a job basis).\n\nChange-Id: Id4986d27a459f75d5e12dd506d6d9267e9dab84d\nRelated-Bug: #1939023\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2021-09-27 07:48:12.000000000', 'files': ['roles/overcloud-deploy/tasks/create-scripts.yml', 'roles/standalone/tasks/standalone-install.yml', 'roles/overcloud-deploy/templates/os-workers-config.yaml.j2', 'roles/standalone/templates/os-workers-config.yaml.j2', 'roles/overcloud-deploy/tasks/pre-deploy.yml', 'roles/standalone/tasks/containers.yml', 'roles/overcloud-deploy/defaults/main.yml', 'roles/standalone/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5c35ed424b967ec4619f3d6ed1cf429987d9c0b6', 'message': 'Allow custom os sesrvice workers\n\nWhen tempest_workers > os service workers counts, tempest starts\nqueueing API requests and executes serially. That is because os\nservices running under WSGI processorcount=1 config become a\nbottleneck.\n\nAllow custom os_workers configs for standalone and overcloud\ndeployments in CI. Retain a single worker defaults to not affect\nexisting CI jobs (overrides should be done via zuul/featuresets,\nper a job basis).\n\nChange-Id: Id4986d27a459f75d5e12dd506d6d9267e9dab84d\nRelated-Bug: #1939023\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",2,810256,5c35ed424b967ec4619f3d6ed1cf429987d9c0b6,48,7,5,6926,,,0,"Allow custom os sesrvice workers

When tempest_workers > os service workers counts, tempest starts
queueing API requests and executes serially. That is because os
services running under WSGI processorcount=1 config become a
bottleneck.

Allow custom os_workers configs for standalone and overcloud
deployments in CI. Retain a single worker defaults to not affect
existing CI jobs (overrides should be done via zuul/featuresets,
per a job basis).

Change-Id: Id4986d27a459f75d5e12dd506d6d9267e9dab84d
Related-Bug: #1939023
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/56/810256/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validate-tempest/tasks/pre-tempest.yml', 'roles/overcloud-deploy/templates/overcloud-topology-config.yaml.j2', 'roles/standalone/templates/standalone_config.yaml.j2', 'roles/overcloud-deploy/tasks/pre-deploy.yml', 'roles/overcloud-deploy/defaults/main.yml']",5,4835275f92b77d74440656c88447d1bc6f447179,workers,os_workers: 2,,47,1
openstack%2Fdevstack~master~I7fb0672ac3ee7fce421b3d242384199608f16640,openstack/devstack,master,I7fb0672ac3ee7fce421b3d242384199608f16640,[OVN] Make OVN job voting,ABANDONED,2020-11-25 14:20:45.000000000,2021-11-04 14:40:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-11-25 14:20:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0f7fc177e52ab7168d554cf9e8f4f3f47d11a7cc', 'message': '[OVN] Make OVN job voting\n\nThe OVN job is stable and also run on other gates (e.g Neutron) as\nvoting. This patch makes it also voting in DevStack.\n\nChange-Id: I7fb0672ac3ee7fce421b3d242384199608f16640\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,764174,0f7fc177e52ab7168d554cf9e8f4f3f47d11a7cc,4,2,1,6773,,,0,"[OVN] Make OVN job voting

The OVN job is stable and also run on other gates (e.g Neutron) as
voting. This patch makes it also voting in DevStack.

Change-Id: I7fb0672ac3ee7fce421b3d242384199608f16640
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/74/764174/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0f7fc177e52ab7168d554cf9e8f4f3f47d11a7cc,ovn-job-voting, - neutron-ovn-tempest-ovs-release: irrelevant-files: - ^.*\.rst$ - ^doc/.*$, voting: false,4,1
openstack%2Fneutron~master~I409bc674b65e4f495ebd42d03e97a09d51482339,openstack/neutron,master,I409bc674b65e4f495ebd42d03e97a09d51482339,[DVR] Fix update of the MTU in the DVR HA routers,MERGED,2021-07-05 07:43:48.000000000,2021-11-04 14:32:31.000000000,2021-11-04 14:20:22.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 07:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c0fba450a4013581f38feeaec50a2639ba12c3f', 'message': '[DVR] Fix update of the MTU in the DVR HA routers\n\nThis is follow up of the patch [1] which fixed updating MTU in the\nsnat namespace for the DVR routers.\nIn case of DVR-HA routers there was additional issue with that as\nL3 agent tried to update MTU for the qr- interface in the\nself.ha_namespace which, for DVR-HA routers is snat namespace.\n\nThis patch fixes that issue by setting MTU on the qr- interface in\nqrouter namespace and also setting MTU on the snat interface in snat\nnamespace.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/799226\n\nCloses-bug: #1933273\nChange-Id: I409bc674b65e4f495ebd42d03e97a09d51482339\n'}, {'number': 2, 'created': '2021-07-22 19:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/860a9392d89965bb79eef93e0f38b2fa5ad8ce12', 'message': '[DVR] Fix update of the MTU in the DVR HA routers\n\nThis is follow up of the patch [1] which fixed updating MTU in the\nsnat namespace for the DVR routers.\nIn case of DVR-HA routers there was additional issue with that as\nL3 agent tried to update MTU for the qr- interface in the\nself.ha_namespace which, for DVR-HA routers is snat namespace.\n\nThis patch fixes that issue by setting MTU on the qr- interface in\nqrouter namespace and also setting MTU on the snat interface in snat\nnamespace.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/799226\n\nCloses-bug: #1933273\nChange-Id: I409bc674b65e4f495ebd42d03e97a09d51482339\n'}, {'number': 3, 'created': '2021-08-09 11:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15a7824a22c325a78707b90d634e81e6a12ffdd1', 'message': '[DVR] Fix update of the MTU in the DVR HA routers\n\nThis is follow up of the patch [1] which fixed updating MTU in the\nsnat namespace for the DVR routers.\nIn case of DVR-HA routers there was additional issue with that as\nL3 agent tried to update MTU for the qr- interface in the\nself.ha_namespace which, for DVR-HA routers is snat namespace.\n\nThis patch fixes that issue by setting MTU on the qr- interface in\nqrouter namespace and also setting MTU on the snat interface in snat\nnamespace.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/799226\n\nCloses-bug: #1933273\nChange-Id: I409bc674b65e4f495ebd42d03e97a09d51482339\n'}, {'number': 4, 'created': '2021-10-07 09:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7f93ab772616e0949279223604e4446c9151ec2', 'message': '[DVR] Fix update of the MTU in the DVR HA routers\n\nThis is follow up of the patch [1] which fixed updating MTU in the\nsnat namespace for the DVR routers.\nIn case of DVR-HA routers there was additional issue with that as\nL3 agent tried to update MTU for the qr- interface in the\nself.ha_namespace which, for DVR-HA routers is snat namespace.\n\nThis patch fixes that issue by setting MTU on the qr- interface in\nqrouter namespace and also setting MTU on the snat interface in snat\nnamespace.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/799226\n\nCloses-bug: #1933273\nChange-Id: I409bc674b65e4f495ebd42d03e97a09d51482339\n'}, {'number': 5, 'created': '2021-10-13 12:33:23.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/21eabbcf03cb29be9899adbd6eaea207892cf07b', 'message': '[DVR] Fix update of the MTU in the DVR HA routers\n\nThis is follow up of the patch [1] which fixed updating MTU in the\nsnat namespace for the DVR routers.\nIn case of DVR-HA routers there was additional issue with that as\nL3 agent tried to update MTU for the qr- interface in the\nself.ha_namespace which, for DVR-HA routers is snat namespace.\n\nThis patch fixes that issue by setting MTU on the qr- interface in\nqrouter namespace and also setting MTU on the snat interface in snat\nnamespace.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/799226\n\nCloses-bug: #1933273\nChange-Id: I409bc674b65e4f495ebd42d03e97a09d51482339\n'}]",11,799439,21eabbcf03cb29be9899adbd6eaea207892cf07b,54,6,5,11975,,,0,"[DVR] Fix update of the MTU in the DVR HA routers

This is follow up of the patch [1] which fixed updating MTU in the
snat namespace for the DVR routers.
In case of DVR-HA routers there was additional issue with that as
L3 agent tried to update MTU for the qr- interface in the
self.ha_namespace which, for DVR-HA routers is snat namespace.

This patch fixes that issue by setting MTU on the qr- interface in
qrouter namespace and also setting MTU on the snat interface in snat
namespace.

[1] https://review.opendev.org/c/openstack/neutron/+/799226

Closes-bug: #1933273
Change-Id: I409bc674b65e4f495ebd42d03e97a09d51482339
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/799439/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/agent/l3/dvr_edge_router.py']",4,7c0fba450a4013581f38feeaec50a2639ba12c3f,bug/1933273," def _set_snat_interfce_mtu(self, port): def internal_network_updated(self, interface_name=None, ip_cidrs=None, mtu=None, port=None): print(""Port = %s"" % port) super(DvrEdgeRouter, self).internal_network_updated( interface_name, ip_cidrs, mtu, port) if port: self._set_snat_interfce_mtu(port) "," def internal_network_updated(self, interface_name=None, ip_cidrs=None, mtu=None, port=None): super(DvrEdgeRouter, self).internal_network_updated( interface_name, ip_cidrs, mtu, port) if not port: return",47,11
openstack%2Fneutron~master~I17bf5e4483025e9cc4ee04dd3e7c925f7bddc3db,openstack/neutron,master,I17bf5e4483025e9cc4ee04dd3e7c925f7bddc3db,Deprecate 'allow_overlapping_ips' config option,MERGED,2021-09-08 09:46:02.000000000,2021-11-04 14:28:39.000000000,2021-11-04 14:20:17.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-09-08 09:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/05d422f0f3dfae4ab38954bc90f092830e5caf28', 'message': ""Deprecate 'allow_overlapping_ips' config option\n\nConfig option allow_overlapping_ips is deprecated to removal now and\nwill be removed in the Yoga cycle.\nDefault value for that option is False but Neutron with default IPAM\nmodule will now ignore it and behaves always like it would be set to\nTrue.\n\nRelated-Bug: #1942294\nChange-Id: I17bf5e4483025e9cc4ee04dd3e7c925f7bddc3db\n""}, {'number': 2, 'created': '2021-10-11 11:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfcd3abdbbffed2c348cd725f35a8884531eedf5', 'message': ""Deprecate 'allow_overlapping_ips' config option\n\nConfig option allow_overlapping_ips is deprecated to removal now and\nwill be removed in the Z cycle.\nDefault value for that option is now set to True as this is supported by\nIPAM module in Neutron.\n\nRelated-Bug: #1942294\nChange-Id: I17bf5e4483025e9cc4ee04dd3e7c925f7bddc3db\n""}, {'number': 3, 'created': '2021-10-21 10:56:42.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/unit/extensions/test_agent.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/tests/unit/extensions/test_dns.py', 'neutron/tests/unit/extensions/test_extraroute.py', 'neutron/tests/unit/extensions/test_qos_gateway_ip.py', 'neutron/tests/unit/extensions/test_fip_port_details.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/extensions/test_l3_ext_gw_mode.py', 'neutron/tests/unit/extensions/test_floatingip_pools.py', 'neutron/tests/unit/ipam/test_subnet_alloc.py', 'releasenotes/notes/Deprecate-allow_overlapping_ips-config-option-0e33af8876bad28f.yaml', 'neutron/tests/unit/_test_extension_portbindings.py', 'neutron/conf/common.py', 'neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/tests/unit/extensions/test_qos_fip.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/042de7e6bbb3a187e8e12462eb35e6740448b2be', 'message': ""Deprecate 'allow_overlapping_ips' config option\n\nConfig option allow_overlapping_ips is deprecated to removal now and\nwill be removed in the Z cycle.\nDefault value for that option is now set to True as this is supported by\nIPAM module in Neutron.\n\nRelated-Bug: #1942294\nChange-Id: I17bf5e4483025e9cc4ee04dd3e7c925f7bddc3db\n""}]",29,807848,042de7e6bbb3a187e8e12462eb35e6740448b2be,103,7,3,11975,,,0,"Deprecate 'allow_overlapping_ips' config option

Config option allow_overlapping_ips is deprecated to removal now and
will be removed in the Z cycle.
Default value for that option is now set to True as this is supported by
IPAM module in Neutron.

Related-Bug: #1942294
Change-Id: I17bf5e4483025e9cc4ee04dd3e7c925f7bddc3db
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/807848/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/ipam_backend_mixin.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/unit/extensions/test_agent.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/tests/unit/extensions/test_dns.py', 'neutron/tests/unit/extensions/test_extraroute.py', 'neutron/tests/unit/extensions/test_qos_gateway_ip.py', 'neutron/tests/unit/extensions/test_fip_port_details.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/extensions/test_l3_ext_gw_mode.py', 'neutron/tests/unit/extensions/test_floatingip_pools.py', 'neutron/tests/unit/ipam/test_subnet_alloc.py', 'releasenotes/notes/Deprecate-allow_overlapping_ips-config-option-0e33af8876bad28f.yaml', 'neutron/tests/unit/_test_extension_portbindings.py', 'neutron/conf/common.py', 'neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/tests/unit/extensions/test_qos_fip.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",19,05d422f0f3dfae4ab38954bc90f092830e5caf28,bug/1942294,," # For these tests we need to enable overlapping ips cfg.CONF.set_default('allow_overlapping_ips', True)",12,83
openstack%2Fnova~master~I3ce6f6275bfe09d43718c3a491b3991a804027bd,openstack/nova,master,I3ce6f6275bfe09d43718c3a491b3991a804027bd,Clean up allocations left by evacuation when deleting service,MERGED,2021-03-04 13:28:00.000000000,2021-11-04 14:28:21.000000000,2021-11-04 14:20:28.000000000,"[{'_account_id': 9708}, {'_account_id': 9816}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-03-04 13:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e48bfa2594a74c049f9c01d734a57a2a753ab651', 'message': 'WIP: Clean up allocations left by evacuation\n\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n'}, {'number': 2, 'created': '2021-03-04 13:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b09c0cad917173267eda8a898528a9a30adb0fb', 'message': 'WIP: Clean up allocations left by evacuation\n\nTODO: Add unit tests for the new method\n\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n'}, {'number': 3, 'created': '2021-03-04 23:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5e076c27143c852b8e0b8993d033d668394f593', 'message': 'WIP: Clean up allocations left by evacuation\n\nTODO: Add unit tests for the new method\n\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n'}, {'number': 4, 'created': '2021-07-14 06:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd22556ba4226f8b73a803202d58cf5fa0c011e9', 'message': ""Clean up allocations left by evacuation when deleting service\n\nWhen a compute node goes down and all instances on the compute node\nare evacuated, allocation records about these instance are still left\nin the source compute node until nova-compute service is again started\non the node. However if a compute node is completely broken, it is not\npossible to start the service again.\nIn this situation deleting nova-compute service for the compute node\ndoesn't delete its resource provider record, and even if a user tries\nto delete the resource provider it is rejected, because allocations\nare still left on that node.\n\nThis change ensures that remaining allocations left by evacuate are\ncleared when deleting nova-compute service, to avoid any resource\nprovider record left even if a compute node can't be recovered.\n\nCloses-Bug: #1829479\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n""}, {'number': 5, 'created': '2021-07-14 06:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4aaf9b141b109a4a4cd46bbd715e5cbbd9a55f6a', 'message': ""Clean up allocations left by evacuation when deleting service\n\nWhen a compute node goes down and all instances on the compute node\nare evacuated, allocation records about these instance are still left\nin the source compute node until nova-compute service is again started\non the node. However if a compute node is completely broken, it is not\npossible to start the service again.\nIn this situation deleting nova-compute service for the compute node\ndoesn't delete its resource provider record, and even if a user tries\nto delete the resource provider it is rejected, because allocations\nare still left on that node.\n\nThis change ensures that remaining allocations left by evacuate are\ncleared when deleting nova-compute service, to avoid any resource\nprovider record left even if a compute node can't be recovered.\n\nCloses-Bug: #1829479\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n""}, {'number': 6, 'created': '2021-07-14 10:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c543d1061ebb847389138485c002546bac577852', 'message': ""Clean up allocations left by evacuation when deleting service\n\nWhen a compute node goes down and all instances on the compute node\nare evacuated, allocation records about these instance are still left\nin the source compute node until nova-compute service is again started\non the node. However if a compute node is completely broken, it is not\npossible to start the service again.\nIn this situation deleting nova-compute service for the compute node\ndoesn't delete its resource provider record, and even if a user tries\nto delete the resource provider it is rejected, because allocations\nare still left on that node.\n\nThis change ensures that remaining allocations left by evacuate are\ncleared when deleting nova-compute service, to avoid any resource\nprovider record left even if a compute node can't be recovered.\n\nCloses-Bug: #1829479\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n""}, {'number': 7, 'created': '2021-07-14 10:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f39d1d09b46f527d15bcf013a7d474b39ede6df', 'message': ""Clean up allocations left by evacuation when deleting service\n\nWhen a compute node goes down and all instances on the compute node\nare evacuated, allocation records about these instance are still left\nin the source compute node until nova-compute service is again started\non the node. However if a compute node is completely broken, it is not\npossible to start the service again.\nIn this situation deleting nova-compute service for the compute node\ndoesn't delete its resource provider record, and even if a user tries\nto delete the resource provider it is rejected, because allocations\nare still left on that node.\n\nThis change ensures that remaining allocations left by evacuate are\ncleared when deleting nova-compute service, to avoid any resource\nprovider record left even if a compute node can't be recovered.\n\nCloses-Bug: #1829479\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n""}, {'number': 8, 'created': '2021-07-14 10:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d740f3461ca27864fc0efd7a958e01087d9ee65', 'message': ""Clean up allocations left by evacuation when deleting service\n\nWhen a compute node goes down and all instances on the compute node\nare evacuated, allocation records about these instance are still left\nin the source compute node until nova-compute service is again started\non the node. However if a compute node is completely broken, it is not\npossible to start the service again.\nIn this situation deleting nova-compute service for the compute node\ndoesn't delete its resource provider record, and even if a user tries\nto delete the resource provider it is rejected, because allocations\nare still left on that node.\n\nThis change ensures that remaining allocations left by evacuate are\ncleared when deleting nova-compute service, to avoid any resource\nprovider record left even if a compute node can't be recovered.\nMigration records are still left in 'done' status to trigger clean up\nin case the compute node is recovered later.\n\nCloses-Bug: #1829479\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n""}, {'number': 9, 'created': '2021-07-19 11:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aef77d20beb909b2d67c61dcd58a836c895f24cc', 'message': ""Clean up allocations left by evacuation when deleting service\n\nWhen a compute node goes down and all instances on the compute node\nare evacuated, allocation records about these instance are still left\nin the source compute node until nova-compute service is again started\non the node. However if a compute node is completely broken, it is not\npossible to start the service again.\nIn this situation deleting nova-compute service for the compute node\ndoesn't delete its resource provider record, and even if a user tries\nto delete the resource provider it is rejected, because allocations\nare still left on that node.\n\nThis change ensures that remaining allocations left by evacuate are\ncleared when deleting nova-compute service, to avoid any resource\nprovider record left even if a compute node can't be recovered.\nMigration records are still left in 'done' status to trigger clean up\nin case the compute node is recovered later.\n\nCloses-Bug: #1829479\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n""}, {'number': 10, 'created': '2021-07-19 11:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/291feeabed9175efc05cd8115140a292741ace41', 'message': ""Clean up allocations left by evacuation when deleting service\n\nWhen a compute node goes down and all instances on the compute node\nare evacuated, allocation records about these instance are still left\nin the source compute node until nova-compute service is again started\non the node. However if a compute node is completely broken, it is not\npossible to start the service again.\nIn this situation deleting nova-compute service for the compute node\ndoesn't delete its resource provider record, and even if a user tries\nto delete the resource provider it is rejected, because allocations\nare still left on that node.\n\nThis change ensures that remaining allocations left by evacuate are\ncleared when deleting nova-compute service, to avoid any resource\nprovider record left even if a compute node can't be recovered.\nMigration records are still left in 'done' status to trigger clean up\nin case the compute node is recovered later.\n\nCloses-Bug: #1829479\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n""}, {'number': 11, 'created': '2021-07-19 11:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffa5288a90bfd6a4cd4d8539198168d1ffdc0d62', 'message': ""Clean up allocations left by evacuation when deleting service\n\nWhen a compute node goes down and all instances on the compute node\nare evacuated, allocation records about these instance are still left\nin the source compute node until nova-compute service is again started\non the node. However if a compute node is completely broken, it is not\npossible to start the service again.\nIn this situation deleting nova-compute service for the compute node\ndoesn't delete its resource provider record, and even if a user tries\nto delete the resource provider it is rejected, because allocations\nare still left on that node.\n\nThis change ensures that remaining allocations left by evacuate are\ncleared when deleting nova-compute service, to avoid any resource\nprovider record left even if a compute node can't be recovered.\nMigration records are still left in 'done' status to trigger clean up\nin case the compute node is recovered later.\n\nCloses-Bug: #1829479\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n""}, {'number': 12, 'created': '2021-07-19 14:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6679b15899443361f88c6b4b86f375440bd96dcf', 'message': ""Clean up allocations left by evacuation when deleting service\n\nWhen a compute node goes down and all instances on the compute node\nare evacuated, allocation records about these instance are still left\nin the source compute node until nova-compute service is again started\non the node. However if a compute node is completely broken, it is not\npossible to start the service again.\nIn this situation deleting nova-compute service for the compute node\ndoesn't delete its resource provider record, and even if a user tries\nto delete the resource provider it is rejected, because allocations\nare still left on that node.\n\nThis change ensures that remaining allocations left by evacuate are\ncleared when deleting nova-compute service, to avoid any resource\nprovider record left even if a compute node can't be recovered.\nMigration records are still left in 'done' status to trigger clean up\nin case the compute node is recovered later.\n\nCloses-Bug: #1829479\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n""}, {'number': 13, 'created': '2021-07-29 11:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5637ec98fe71d566c3297954a66d8b8f7370ae51', 'message': ""Clean up allocations left by evacuation when deleting service\n\nWhen a compute node goes down and all instances on the compute node\nare evacuated, allocation records about these instance are still left\nin the source compute node until nova-compute service is again started\non the node. However if a compute node is completely broken, it is not\npossible to start the service again.\nIn this situation deleting nova-compute service for the compute node\ndoesn't delete its resource provider record, and even if a user tries\nto delete the resource provider it is rejected, because allocations\nare still left on that node.\n\nThis change ensures that remaining allocations left by evacuate are\ncleared when deleting nova-compute service, to avoid any resource\nprovider record left even if a compute node can't be recovered.\nMigration records are still left in 'done' status to trigger clean up\nin case the compute node is recovered later.\n\nCloses-Bug: #1829479\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n""}, {'number': 14, 'created': '2021-07-29 11:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef4d3aba67c4a07976f8ce6f670da24eaef3c50b', 'message': ""Clean up allocations left by evacuation when deleting service\n\nWhen a compute node goes down and all instances on the compute node\nare evacuated, allocation records about these instance are still left\nin the source compute node until nova-compute service is again started\non the node. However if a compute node is completely broken, it is not\npossible to start the service again.\nIn this situation deleting nova-compute service for the compute node\ndoesn't delete its resource provider record, and even if a user tries\nto delete the resource provider it is rejected, because allocations\nare still left on that node.\n\nThis change ensures that remaining allocations left by evacuate are\ncleared when deleting nova-compute service, to avoid any resource\nprovider record left even if a compute node can't be recovered.\nMigration records are still left in 'done' status to trigger clean up\nin case the compute node is recovered later.\n\nCloses-Bug: #1829479\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n""}, {'number': 15, 'created': '2021-09-05 11:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d68cb1ca64d1d90c5bdb932b4629e447256e3f31', 'message': ""Clean up allocations left by evacuation when deleting service\n\nWhen a compute node goes down and all instances on the compute node\nare evacuated, allocation records about these instance are still left\nin the source compute node until nova-compute service is again started\non the node. However if a compute node is completely broken, it is not\npossible to start the service again.\nIn this situation deleting nova-compute service for the compute node\ndoesn't delete its resource provider record, and even if a user tries\nto delete the resource provider it is rejected, because allocations\nare still left on that node.\n\nThis change ensures that remaining allocations left by evacuate are\ncleared when deleting nova-compute service, to avoid any resource\nprovider record left even if a compute node can't be recovered.\nMigration records are still left in 'done' status to trigger clean up\nin case the compute node is recovered later.\n\nCloses-Bug: #1829479\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n""}, {'number': 16, 'created': '2021-09-05 11:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5af29be8038fb80a1841c81eeabcb3ed9d26e16', 'message': ""Clean up allocations left by evacuation when deleting service\n\nWhen a compute node goes down and all instances on the compute node\nare evacuated, allocation records about these instance are still left\nin the source compute node until nova-compute service is again started\non the node. However if a compute node is completely broken, it is not\npossible to start the service again.\nIn this situation deleting nova-compute service for the compute node\ndoesn't delete its resource provider record, and even if a user tries\nto delete the resource provider, the delete request is rejected because\nallocations are still left on that node.\n\nThis change ensures that remaining allocations left by evacuation are\ncleared when deleting a nova-compute service, to avoid any resource\nprovider record left even if a compute node can't be recovered.\nMigration records are still left in 'done' status to trigger clean-up\ntasks in case the compute node is recovered later.\n\nCloses-Bug: #1829479\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n""}, {'number': 17, 'created': '2021-10-26 10:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d99ba4f696935ccc30f46051d7c9fec50f685cea', 'message': ""Clean up allocations left by evacuation when deleting service\n\nWhen a compute node goes down and all instances on the compute node\nare evacuated, allocation records about these instance are still left\nin the source compute node until nova-compute service is again started\non the node. However if a compute node is completely broken, it is not\npossible to start the service again.\nIn this situation deleting nova-compute service for the compute node\ndoesn't delete its resource provider record, and even if a user tries\nto delete the resource provider, the delete request is rejected because\nallocations are still left on that node.\n\nThis change ensures that remaining allocations left by successful\nevacuations are cleared when deleting a nova-compute service, to avoid\nany resource provider record left even if a compute node can't be\nrecovered. Migration records are still left in 'done' status to trigger\nclean-up tasks in case the compute node is recovered later.\n\nCloses-Bug: #1829479\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n""}, {'number': 18, 'created': '2021-10-26 10:26:50.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/wsgi/test_services.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'releasenotes/notes/bug-1829479-cd2db21526965e6d.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/e5a34fffdf97fcda7d0abfdc9e23485479ca2c4f', 'message': ""Clean up allocations left by evacuation when deleting service\n\nWhen a compute node goes down and all instances on the compute node\nare evacuated, allocation records about these instance are still left\nin the source compute node until nova-compute service is again started\non the node. However if a compute node is completely broken, it is not\npossible to start the service again.\nIn this situation deleting nova-compute service for the compute node\ndoesn't delete its resource provider record, and even if a user tries\nto delete the resource provider, the delete request is rejected because\nallocations are still left on that node.\n\nThis change ensures that remaining allocations left by successful\nevacuations are cleared when deleting a nova-compute service, to avoid\nany resource provider record left even if a compute node can't be\nrecovered. Migration records are still left in 'done' status to trigger\nclean-up tasks in case the compute node is recovered later.\n\nCloses-Bug: #1829479\nChange-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd\n""}]",149,778696,e5a34fffdf97fcda7d0abfdc9e23485479ca2c4f,105,6,18,9816,,,0,"Clean up allocations left by evacuation when deleting service

When a compute node goes down and all instances on the compute node
are evacuated, allocation records about these instance are still left
in the source compute node until nova-compute service is again started
on the node. However if a compute node is completely broken, it is not
possible to start the service again.
In this situation deleting nova-compute service for the compute node
doesn't delete its resource provider record, and even if a user tries
to delete the resource provider, the delete request is rejected because
allocations are still left on that node.

This change ensures that remaining allocations left by successful
evacuations are cleared when deleting a nova-compute service, to avoid
any resource provider record left even if a compute node can't be
recovered. Migration records are still left in 'done' status to trigger
clean-up tasks in case the compute node is recovered later.

Closes-Bug: #1829479
Change-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/778696/17 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/client/report.py', 'nova/api/openstack/compute/services.py', 'nova/compute/manager.py']",3,e48bfa2594a74c049f9c01d734a57a2a753ab651,bug/1829479,,from nova.compute import utils as compute_utils,26,7
openstack%2Fpython-openstackclient~stable%2Fxena~Ie0251a0dccdf3385089e5bbaedf646a5e928cc48,openstack/python-openstackclient,stable/xena,Ie0251a0dccdf3385089e5bbaedf646a5e928cc48,compute: Fix filtering servers by tags,MERGED,2021-10-13 11:51:04.000000000,2021-11-04 14:27:43.000000000,2021-11-04 14:20:47.000000000,"[{'_account_id': 4690}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-10-13 11:51:04.000000000', 'files': ['releasenotes/notes/bug-1946816-7665858605453578.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cbc64f9469600624e74631f42ca214487e800155', 'message': ""compute: Fix filtering servers by tags\n\nThe nova API expects the 'tags' and 'not-tags' filters of the 'GET\n/servers' (list servers) API to be a CSV string [1]:\n\n  tags (Optional)\n    A list of tags to filter the server list by. Servers that match all\n    tags in this list will be returned. Boolean expression in this case\n    is 't1 AND t2'. Tags in query must be separated by comma.\n\n    New in version 2.26\n\n  not-tags (Optional)\n    A list of tags to filter the server list by. Servers that don’t\n    match all tags in this list will be returned. Boolean expression in\n    this case is 'NOT (t1 AND t2)'. Tags in query must be separated by\n    comma.\n\n    New in version 2.26\n\nWe were instead providing a Python list, which was simply being URL\nencoded. Correct this.\n\n[1] https://docs.openstack.org/api-ref/compute/?expanded=list-servers-detail#list-servers\n\nChange-Id: Ie0251a0dccdf3385089e5bbaedf646a5e928cc48\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1946816\n(cherry picked from commit 53debe7fe1978f661768a27430f646a288948ecc)\n""}]",1,813803,cbc64f9469600624e74631f42ca214487e800155,8,3,1,15334,,,0,"compute: Fix filtering servers by tags

The nova API expects the 'tags' and 'not-tags' filters of the 'GET
/servers' (list servers) API to be a CSV string [1]:

  tags (Optional)
    A list of tags to filter the server list by. Servers that match all
    tags in this list will be returned. Boolean expression in this case
    is 't1 AND t2'. Tags in query must be separated by comma.

    New in version 2.26

  not-tags (Optional)
    A list of tags to filter the server list by. Servers that don’t
    match all tags in this list will be returned. Boolean expression in
    this case is 'NOT (t1 AND t2)'. Tags in query must be separated by
    comma.

    New in version 2.26

We were instead providing a Python list, which was simply being URL
encoded. Correct this.

[1] https://docs.openstack.org/api-ref/compute/?expanded=list-servers-detail#list-servers

Change-Id: Ie0251a0dccdf3385089e5bbaedf646a5e928cc48
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1946816
(cherry picked from commit 53debe7fe1978f661768a27430f646a288948ecc)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/03/813803/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1946816-7665858605453578.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,cbc64f9469600624e74631f42ca214487e800155,bug/1946816," search_opts['tags'] = ','.join(parsed_args.tags) search_opts['not-tags'] = ','.join(parsed_args.not_tags)", search_opts['tags'] = parsed_args.tags search_opts['not-tags'] = parsed_args.not_tags,10,4
openstack%2Fnova~stable%2Fwallaby~Icb7e3379248fe00f9a94f9860181b5de44902379,openstack/nova,stable/wallaby,Icb7e3379248fe00f9a94f9860181b5de44902379,Reproduce bug 1944759,MERGED,2021-09-24 13:53:29.000000000,2021-11-04 14:27:33.000000000,2021-11-04 14:20:39.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-24 13:53:29.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/140ae45d98dabd30aef5c0ac075346de4eabcea1', 'message': 'Reproduce bug 1944759\n\nAdd functional tests to reproduce the race between resize_instance()\nand update_available_resources().\n\nRelated-Bug: #1944759\n\nChange-Id: Icb7e3379248fe00f9a94f9860181b5de44902379\n(cherry picked from commit 3e4e4489b7a6e9cdefcc6ff02ed99a0a70420fca)\n(cherry picked from commit e6c6880465824f1e327a54143f32bb5a5816ff6c)\n'}]",3,810912,140ae45d98dabd30aef5c0ac075346de4eabcea1,11,3,1,9708,,,0,"Reproduce bug 1944759

Add functional tests to reproduce the race between resize_instance()
and update_available_resources().

Related-Bug: #1944759

Change-Id: Icb7e3379248fe00f9a94f9860181b5de44902379
(cherry picked from commit 3e4e4489b7a6e9cdefcc6ff02ed99a0a70420fca)
(cherry picked from commit e6c6880465824f1e327a54143f32bb5a5816ff6c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/810912/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,140ae45d98dabd30aef5c0ac075346de4eabcea1,bug/1944759," def _assert_pinned_cpus(self, hostname, expected_number_of_pinned): numa_topology = objects.NUMATopology.obj_from_db_obj( objects.ComputeNode.get_by_nodename( self.ctxt, hostname, ).numa_topology, ) self.assertEqual( expected_number_of_pinned, len(numa_topology.cells[0].pinned_cpus)) def _create_server_and_resize_bug_1944759(self): self.flags( cpu_dedicated_set='0-3', cpu_shared_set='4-7', group='compute') self.flags(vcpu_pin_set=None) # start services self.start_compute(hostname='test_compute0') self.start_compute(hostname='test_compute1') flavor_a_id = self._create_flavor( vcpu=2, extra_spec={'hw:cpu_policy': 'dedicated'}) server = self._create_server(flavor_id=flavor_a_id) src_host = server['OS-EXT-SRV-ATTR:host'] self._assert_pinned_cpus(src_host, 2) # we don't really care what the new flavor is, so long as the old # flavor is using pinning. We use a similar flavor for simplicity. flavor_b_id = self._create_flavor( vcpu=2, extra_spec={'hw:cpu_policy': 'dedicated'}) orig_rpc_finish_resize = nova.compute.rpcapi.ComputeAPI.finish_resize # Simulate that the finish_resize call overlaps with an # update_available_resource periodic job def inject_periodic_to_finish_resize(*args, **kwargs): self._run_periodics() return orig_rpc_finish_resize(*args, **kwargs) self.stub_out( 'nova.compute.rpcapi.ComputeAPI.finish_resize', inject_periodic_to_finish_resize, ) # TODO(stephenfin): The mock of 'migrate_disk_and_power_off' should # probably be less...dumb with mock.patch( 'nova.virt.libvirt.driver.LibvirtDriver' '.migrate_disk_and_power_off', return_value='{}', ): post = {'resize': {'flavorRef': flavor_b_id}} self.api.post_server_action(server['id'], post) server = self._wait_for_state_change(server, 'VERIFY_RESIZE') dst_host = server['OS-EXT-SRV-ATTR:host'] # This is a resource accounting bug, we should have 2 cpus pinned on # both computes. The source should have it due to the outbound # migration and the destination due to the instance running there self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 2) return server, src_host, dst_host def test_resize_confirm_bug_1944759(self): server, src_host, dst_host = ( self._create_server_and_resize_bug_1944759()) # Now confirm the resize post = {'confirmResize': None} # FIXME(gibi): This is bug 1944759 where during resize, on the source # node the resize_instance() call at the point of calling finish_resize # overlaps with a update_available_resources() periodic job. This # causes that the periodic job will not track the migration nor the # instance and therefore freeing the resource allocation. Then when # later the resize is confirmed the confirm_resize on the source # compute also wants to free up the resources, the pinned CPUs, and it # fails as they are already freed. exc = self.assertRaises( client.OpenStackApiException, self.api.post_server_action, server['id'], post ) self.assertEqual(500, exc.response.status_code) self.assertIn('CPUUnpinningInvalid', str(exc)) # confirm failed above but the resource allocation reflects that the # VM is running on the dest node self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 2) self._run_periodics() # and such allocation situation is stable so as a recovery the VM # can be reset-state to ACTIVE without problem. self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 2) def test_resize_revert_bug_1944759(self): server, src_host, dst_host = ( self._create_server_and_resize_bug_1944759()) # Now revert the resize post = {'revertResize': None} # reverts actually succeeds (not like confirm) but the resource # allocation is still flaky self.api.post_server_action(server['id'], post) self._wait_for_state_change(server, 'ACTIVE') # This is a resource accounting bug. After the revert the source host # should have 2 cpus pinned due to the instance. self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 0) # running the periodic job will fix the resource accounting self._run_periodics() # this is now correct self._assert_pinned_cpus(src_host, 2) self._assert_pinned_cpus(dst_host, 0) ",,121,0
openstack%2Ftempest~master~Ie589e114d08cc8bb5a524d6b242f1b29fda43983,openstack/tempest,master,Ie589e114d08cc8bb5a524d6b242f1b29fda43983,Refactor existing QoS min bw tests,MERGED,2021-08-26 17:25:01.000000000,2021-11-04 14:27:29.000000000,2021-11-04 14:20:34.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 33652}]","[{'number': 1, 'created': '2021-08-26 17:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/83686ac7841dd2badb127a85ed67efdbe7636a9f', 'message': 'Refactor existing QoS min bw tests\n\nAs a preparation to test QoS minimum bandwidth and minimum packet rate\ntogether this patch refactors the existing MinBwAllocationPlacementTest\ntest class to allow generalization.\n\nChange-Id: Ie589e114d08cc8bb5a524d6b242f1b29fda43983\n'}, {'number': 2, 'created': '2021-08-27 10:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e325d6528f1bf77c9d286eccabec95fadada2423', 'message': 'Refactor existing QoS min bw tests\n\nAs a preparation to test QoS minimum bandwidth and minimum packet rate\ntogether this patch refactors the existing MinBwAllocationPlacementTest\ntest class to allow generalization.\n\nChange-Id: Ie589e114d08cc8bb5a524d6b242f1b29fda43983\n'}, {'number': 3, 'created': '2021-09-15 10:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9243c36a608ffacbdda04c2af2ffe485e1d2b814', 'message': 'Refactor existing QoS min bw tests\n\nAs a preparation to test QoS minimum bandwidth and minimum packet rate\ntogether this patch refactors the existing MinBwAllocationPlacementTest\ntest class to allow generalization.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: Ie589e114d08cc8bb5a524d6b242f1b29fda43983\n'}, {'number': 4, 'created': '2021-09-21 16:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d76076fa9137d099b06cfc8c0b834baf09d9de7', 'message': 'Refactor existing QoS min bw tests\n\nAs a preparation to test QoS minimum bandwidth and minimum packet rate\ntogether this patch refactors the existing MinBwAllocationPlacementTest\ntest class to allow generalization.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: Ie589e114d08cc8bb5a524d6b242f1b29fda43983\n'}, {'number': 5, 'created': '2021-09-29 14:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9307d1cf3543d65a5d773ef89129f543a76c14a1', 'message': 'Refactor existing QoS min bw tests\n\nAs a preparation to test QoS minimum bandwidth and minimum packet rate\ntogether this patch refactors the existing MinBwAllocationPlacementTest\ntest class to allow generalization.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: Ie589e114d08cc8bb5a524d6b242f1b29fda43983\n'}, {'number': 6, 'created': '2021-10-19 10:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7505955747eca5a3c32ba724648fac69bf20f9ce', 'message': 'Refactor existing QoS min bw tests\n\nAs a preparation to test QoS minimum bandwidth and minimum packet rate\ntogether this patch refactors the existing MinBwAllocationPlacementTest\ntest class to allow generalization.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: Ie589e114d08cc8bb5a524d6b242f1b29fda43983\n'}, {'number': 7, 'created': '2021-10-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d27d3c01be8d8c2791725ca96fa002734fc0194f', 'message': 'Refactor existing QoS min bw tests\n\nAs a preparation to test QoS minimum bandwidth and minimum packet rate\ntogether this patch refactors the existing MinBwAllocationPlacementTest\ntest class to allow generalization.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: Ie589e114d08cc8bb5a524d6b242f1b29fda43983\n'}, {'number': 8, 'created': '2021-11-02 17:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/84787d1bd2c9cf605c1980ce898c185a1f1f3993', 'message': 'Refactor existing QoS min bw tests\n\nAs a preparation to test QoS minimum bandwidth and minimum packet rate\ntogether this patch refactors the existing MinBwAllocationPlacementTest\ntest class to allow generalization.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: Ie589e114d08cc8bb5a524d6b242f1b29fda43983\n'}, {'number': 9, 'created': '2021-11-02 17:19:24.000000000', 'files': ['tempest/scenario/test_network_qos_placement.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bc0257c8fcb88772e70897177589501cd624d9a0', 'message': 'Refactor existing QoS min bw tests\n\nAs a preparation to test QoS minimum bandwidth and minimum packet rate\ntogether this patch refactors the existing MinBwAllocationPlacementTest\ntest class to allow generalization.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: Ie589e114d08cc8bb5a524d6b242f1b29fda43983\n'}]",18,806255,bc0257c8fcb88772e70897177589501cd624d9a0,41,5,9,9708,,,0,"Refactor existing QoS min bw tests

As a preparation to test QoS minimum bandwidth and minimum packet rate
together this patch refactors the existing MinBwAllocationPlacementTest
test class to allow generalization.

blueprint: qos-minimum-guaranteed-packet-rate

Change-Id: Ie589e114d08cc8bb5a524d6b242f1b29fda43983
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/806255/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_network_qos_placement.py'],1,83686ac7841dd2badb127a85ed67efdbe7636a9f,bp/qos-minimum-guaranteed-packet-rate,"class NetworkQoSPlacementTestBase(manager.NetworkScenarioTest): """"""Base class for testing Network QoS scenarios involving placement resource allocations."""""" @classmethod def setup_clients(cls): super().setup_clients() cls.placement_client = cls.os_admin.placement_client cls.networks_client = cls.os_admin.networks_client cls.subnets_client = cls.os_admin.subnets_client cls.ports_client = cls.os_primary.ports_client cls.routers_client = cls.os_adm.routers_client cls.qos_client = cls.os_admin.qos_client cls.qos_min_bw_client = cls.os_admin.qos_min_bw_client cls.flavors_client = cls.os_adm.flavors_client cls.servers_client = cls.os_adm.servers_client class MinBwAllocationPlacementTest(NetworkQoSPlacementTestBase): required_extensions = ['port-resource-request', 'qos', 'qos-bw-minimum-ingress'] ","class MinBwAllocationPlacementTest(manager.NetworkScenarioTest): required_extensions = ['port-resource-request', 'qos', 'qos-bw-minimum-ingress'] def setup_clients(cls): super(MinBwAllocationPlacementTest, cls).setup_clients() cls.placement_client = cls.os_admin.placement_client cls.networks_client = cls.os_admin.networks_client cls.subnets_client = cls.os_admin.subnets_client cls.ports_client = cls.os_primary.ports_client cls.routers_client = cls.os_adm.routers_client cls.qos_client = cls.os_admin.qos_client cls.qos_min_bw_client = cls.os_admin.qos_min_bw_client cls.flavors_client = cls.os_adm.flavors_client cls.servers_client = cls.os_adm.servers_client @classmethod",23,17
openstack%2Fkuryr-kubernetes~master~I4ed13d2782df17eb518db1031b773288b080be42,openstack/kuryr-kubernetes,master,I4ed13d2782df17eb518db1031b773288b080be42,Increase tempest timeout,MERGED,2021-11-02 08:24:37.000000000,2021-11-04 14:25:45.000000000,2021-11-04 14:15:00.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 08:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7ca81fa98fba9a865828c41b915768ef185ff3ff', 'message': 'Increase tempest timeout\n\nThe recent bump of Amphora image makes\nthe loadbalancer requires more time to\nmove to running.\n\nChange-Id: I4ed13d2782df17eb518db1031b773288b080be42\n'}, {'number': 2, 'created': '2021-11-03 12:51:54.000000000', 'files': ['.zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/80ab92c5abd8ec7e9999e3896b6271082881c33a', 'message': 'Increase tempest timeout\n\nThe recent bump of Amphora image makes\nthe loadbalancer requires more time to\nmove to running.\n\nChange-Id: I4ed13d2782df17eb518db1031b773288b080be42\n'}]",6,816305,80ab92c5abd8ec7e9999e3896b6271082881c33a,21,4,2,27032,,,0,"Increase tempest timeout

The recent bump of Amphora image makes
the loadbalancer requires more time to
move to running.

Change-Id: I4ed13d2782df17eb518db1031b773288b080be42
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/05/816305/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/base.yaml'],1,7ca81fa98fba9a865828c41b915768ef185ff3ff,increase-tempest-timeout, tempest_test_timeout: 2400, tempest_test_timeout: 1800,1,1
openstack%2Fos-testr~master~I83598d6657cd283510a24f6e9d695eb4914e1f8c,openstack/os-testr,master,I83598d6657cd283510a24f6e9d695eb4914e1f8c,Test python3.9 as voting job,MERGED,2021-11-03 20:30:04.000000000,2021-11-04 13:55:36.000000000,2021-11-04 13:45:50.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-11-03 20:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/d94090c0954cca955aa10451813d8925d7f1de01', 'message': ""Test python3.9 as voting job\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nAlso, as Tempest is branchless and needs to support older\nsupported stable branches, let's test it with all the\npython version supported in those supported stable branches.\nFor that, we need to explicitly dd the py jobs instead of using\nthe template. This way, we will explicitly know that we are testing\nall supported python versions when the new release template bumps the\nmin python version in the template.\n\nChange-Id: I83598d6657cd283510a24f6e9d695eb4914e1f8c\n""}, {'number': 2, 'created': '2021-11-04 13:04:53.000000000', 'files': ['.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-testr/commit/4506fcf719990e1fc4c3fce85f2eb469b4c5a2d5', 'message': ""Test python3.9 as voting job\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nAlso, as Tempest is branchless and needs to support older\nsupported stable branches, let's test it with all the\npython version supported in those supported stable branches.\nFor that, we need to explicitly dd the py jobs instead of using\nthe template. This way, we will explicitly know that we are testing\nall supported python versions when the new release template bumps the\nmin python version in the template.\n\nChange-Id: I83598d6657cd283510a24f6e9d695eb4914e1f8c\n""}]",0,816562,4506fcf719990e1fc4c3fce85f2eb469b4c5a2d5,12,2,2,8556,,,0,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as Tempest is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: I83598d6657cd283510a24f6e9d695eb4914e1f8c
",git fetch https://review.opendev.org/openstack/os-testr refs/changes/62/816562/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg']",2,d94090c0954cca955aa10451813d8925d7f1de01,py39-voting, Programming Language :: Python :: 3.9,,15,1
openstack%2Fnova~master~I7ae80e204e927c2185260c6962d063cce799a7b8,openstack/nova,master,I7ae80e204e927c2185260c6962d063cce799a7b8,fup: Refactor and simplify Cinder fixture GET volume mock,MERGED,2021-09-23 21:06:51.000000000,2021-11-04 13:55:20.000000000,2021-11-04 13:25:04.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-23 21:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5dd931c5f20d1caed94003102d67d0f7d6bc3e46', 'message': 'fup: Refactor and simplify Cinder fixture GET volume mock\n\nChange-Id: I7ae80e204e927c2185260c6962d063cce799a7b8\n'}, {'number': 2, 'created': '2021-09-30 13:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/454ab136d11161f6af7b96255c9df46e8242167a', 'message': 'fup: Refactor and simplify Cinder fixture GET volume mock\n\nChange-Id: I7ae80e204e927c2185260c6962d063cce799a7b8\n'}, {'number': 3, 'created': '2021-10-07 09:46:31.000000000', 'files': ['nova/tests/fixtures/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/22e9d22369d34e150855eb1710b371e80d17ebb0', 'message': 'fup: Refactor and simplify Cinder fixture GET volume mock\n\nChange-Id: I7ae80e204e927c2185260c6962d063cce799a7b8\n'}]",1,810776,22e9d22369d34e150855eb1710b371e80d17ebb0,22,3,3,10135,,,0,"fup: Refactor and simplify Cinder fixture GET volume mock

Change-Id: I7ae80e204e927c2185260c6962d063cce799a7b8
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/810776/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/cinder.py'],1,5dd931c5f20d1caed94003102d67d0f7d6bc3e46,bug/1943431," volume = { 'display_name': volume_id, 'id': volume_id, 'size': 1, 'multiattach': _is_multiattach(volume_id), 'availability_zone': self.az } # Add any attachment details the fixture has fixture_attachments = self.volume_to_attachment[volume_id] if fixture_attachments: attachments = {} for attachment in list(fixture_attachments.values()): instance_uuid = attachment['instance_uuid'] # legacy cruft left over from notification tests if ( volume_id == self.SWAP_OLD_VOL and self.swap_volume_instance_uuid ): if ( volume_id == self.SWAP_ERR_OLD_VOL and self.swap_volume_instance_error_uuid ): attachments[instance_uuid] = { 'attachment_id': attachment['id'], 'mountpoint': '/dev/vdb', } volume.update({ 'attachments': attachments, }) # Otherwise mark the volume as avilable and detached else: volume.update({ }) if volume_id == self.IMAGE_BACKED_VOL: volume['bootable'] = True volume['volume_image_metadata'] = { 'image_id': '155d900f-4e14-4e4c-a73d-069cbf4541e6' } if volume_id == self.IMAGE_WITH_TRAITS_BACKED_VOL: volume['volume_image_metadata'] = { 'image_id': '155d900f-4e14-4e4c-a73d-069cbf4541e6', ""trait:HW_CPU_X86_SGX"": ""required"", }"," # TODO(lyarwood): Refactor this block into something sensible and # reusable by other tests. # Check for the special swap volumes. attachments = self.volume_to_attachment[volume_id] if volume_id in (self.SWAP_OLD_VOL, self.SWAP_ERR_OLD_VOL): volume = { 'status': 'available', 'display_name': 'TEST1', 'attach_status': 'detached', 'id': volume_id, 'multiattach': False, 'size': 1 } if ( ( self.swap_volume_instance_uuid and volume_id == self.SWAP_OLD_VOL ) or ( self.swap_volume_instance_error_uuid and volume_id == self.SWAP_ERR_OLD_VOL ) ): if volume_id == self.SWAP_OLD_VOL: else: if attachments: attachment = list(attachments.values())[0] volume.update({ 'status': 'in-use', 'attachments': { instance_uuid: { 'mountpoint': '/dev/vdb', 'attachment_id': attachment['id'] } }, 'attach_status': 'attached', }) return volume # Check to see if the volume is attached. if attachments: # The volume is attached. attachment = list(attachments.values())[0] volume = { 'display_name': volume_id, 'id': volume_id, 'multiattach': _is_multiattach(volume_id), 'size': 1, 'attachments': { attachment['instance_uuid']: { 'attachment_id': attachment['id'], 'mountpoint': '/dev/vdb' } } } else: # This is a test that does not care about the actual details. volume = { 'display_name': volume_id, 'id': volume_id, 'multiattach': _is_multiattach(volume_id), 'size': 1 } if 'availability_zone' not in volume: volume['availability_zone'] = self.az # Check for our special image-backed volume. if volume_id in ( self.IMAGE_BACKED_VOL, self.IMAGE_WITH_TRAITS_BACKED_VOL, ): # Make it a bootable volume. if volume_id == self.IMAGE_BACKED_VOL: # Add the image_id metadata. volume['volume_image_metadata'] = { # There would normally be more image metadata in here. 'image_id': '155d900f-4e14-4e4c-a73d-069cbf4541e6' } elif volume_id == self.IMAGE_WITH_TRAITS_BACKED_VOL: # Add the image_id metadata with traits. volume['volume_image_metadata'] = { 'image_id': '155d900f-4e14-4e4c-a73d-069cbf4541e6', ""trait:HW_CPU_X86_SGX"": ""required"", }",43,81
openstack%2Fdevstack-tools~master~I21ecaf1d3f627ae27a217d7fa2326f7dd69242c9,openstack/devstack-tools,master,I21ecaf1d3f627ae27a217d7fa2326f7dd69242c9,Test python3.9 as voting job,MERGED,2021-11-03 20:30:11.000000000,2021-11-04 13:52:35.000000000,2021-11-04 13:31:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-11-03 20:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/18047126bc2c65695f2d01ff2bd840706bfac183', 'message': ""Test python3.9 as voting job\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nAlso, as Tempest is branchless and needs to support older\nsupported stable branches, let's test it with all the\npython version supported in those supported stable branches.\nFor that, we need to explicitly dd the py jobs instead of using\nthe template. This way, we will explicitly know that we are testing\nall supported python versions when the new release template bumps the\nmin python version in the template.\n\nChange-Id: I21ecaf1d3f627ae27a217d7fa2326f7dd69242c9\n""}, {'number': 2, 'created': '2021-11-03 21:09:41.000000000', 'files': ['.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/2225eade022f828b609daa4a5ad8f2d82a5b1f26', 'message': ""Test python3.9 as voting job\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nAlso, as devstack-tools is branchless and needs to support older\nsupported stable branches, let's test it with all the\npython version supported in those supported stable branches.\nFor that, we need to explicitly dd the py jobs instead of using\nthe template. This way, we will explicitly know that we are testing\nall supported python versions when the new release template bumps the\nmin python version in the template.\n\nChange-Id: I21ecaf1d3f627ae27a217d7fa2326f7dd69242c9\n""}]",0,816563,2225eade022f828b609daa4a5ad8f2d82a5b1f26,12,2,2,8556,,,0,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as devstack-tools is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: I21ecaf1d3f627ae27a217d7fa2326f7dd69242c9
",git fetch https://review.opendev.org/openstack/devstack-tools refs/changes/63/816563/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg']",2,18047126bc2c65695f2d01ff2bd840706bfac183,py39-voting, Programming Language :: Python :: 3.9,,15,1
openstack%2Fos-performance-tools~master~I71b2dbfa46449e39b6fbe99862c55e4370ce68c3,openstack/os-performance-tools,master,I71b2dbfa46449e39b6fbe99862c55e4370ce68c3,Test python3.9 as voting job,MERGED,2021-11-03 20:30:01.000000000,2021-11-04 13:52:28.000000000,2021-11-04 13:31:51.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-11-03 20:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-performance-tools/commit/7fbe141e33c7ec1325b427cd6c5ec5091acc5dc2', 'message': ""Test python3.9 as voting job\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nAlso, as Tempest is branchless and needs to support older\nsupported stable branches, let's test it with all the\npython version supported in those supported stable branches.\nFor that, we need to explicitly dd the py jobs instead of using\nthe template. This way, we will explicitly know that we are testing\nall supported python versions when the new release template bumps the\nmin python version in the template.\n\nChange-Id: I71b2dbfa46449e39b6fbe99862c55e4370ce68c3\n""}, {'number': 2, 'created': '2021-11-03 21:09:11.000000000', 'files': ['.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-performance-tools/commit/6def79eebd686071aaf68b2d0bf4ee2bc601e877', 'message': ""Test python3.9 as voting job\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nAlso, as os-performance-tools is branchless and needs to support older\nsupported stable branches, let's test it with all the\npython version supported in those supported stable branches.\nFor that, we need to explicitly dd the py jobs instead of using\nthe template. This way, we will explicitly know that we are testing\nall supported python versions when the new release template bumps the\nmin python version in the template.\n\nChange-Id: I71b2dbfa46449e39b6fbe99862c55e4370ce68c3\n""}]",0,816561,6def79eebd686071aaf68b2d0bf4ee2bc601e877,12,2,2,8556,,,0,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as os-performance-tools is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: I71b2dbfa46449e39b6fbe99862c55e4370ce68c3
",git fetch https://review.opendev.org/openstack/os-performance-tools refs/changes/61/816561/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg']",2,7fbe141e33c7ec1325b427cd6c5ec5091acc5dc2,py39-voting, Programming Language :: Python :: 3.9,,17,2
openstack%2Ftempest-stress~master~Ib147eb983a0635d6f14f0d0fb8ca537224729d89,openstack/tempest-stress,master,Ib147eb983a0635d6f14f0d0fb8ca537224729d89,Test python3.9 as voting job,MERGED,2021-11-03 20:34:57.000000000,2021-11-04 13:52:28.000000000,2021-11-04 13:26:24.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-11-03 20:34:57.000000000', 'files': ['.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/532319a5d02378e6d01898b9ff2d1f536c32ae49', 'message': ""Test python3.9 as voting job\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nAlso, as Tempest is branchless and needs to support older\nsupported stable branches, let's test it with all the\npython version supported in those supported stable branches.\nFor that, we need to explicitly dd the py jobs instead of using\nthe template. This way, we will explicitly know that we are testing\nall supported python versions when the new release template bumps the\nmin python version in the template.\n\nChange-Id: Ib147eb983a0635d6f14f0d0fb8ca537224729d89\n""}]",0,816565,532319a5d02378e6d01898b9ff2d1f536c32ae49,10,2,1,8556,,,0,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as Tempest is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: Ib147eb983a0635d6f14f0d0fb8ca537224729d89
",git fetch https://review.opendev.org/openstack/tempest-stress refs/changes/65/816565/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg']",2,532319a5d02378e6d01898b9ff2d1f536c32ae49,py39-voting, Programming Language :: Python :: 3.9,,15,1
openstack%2Fkolla~master~I0954bcc8ee42b15420fe1cd54aac96cb0c0c7e0d,openstack/kolla,master,I0954bcc8ee42b15420fe1cd54aac96cb0c0c7e0d,Debian: we want Openvswitch and ovn from backports,MERGED,2021-11-02 16:51:46.000000000,2021-11-04 13:52:27.000000000,2021-11-04 13:31:47.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-02 16:51:46.000000000', 'files': ['docker/base/apt_preferences.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a26f4e3ec68d135112d60a08100289598ddebe61', 'message': 'Debian: we want Openvswitch and ovn from backports\n\nThose packages are in exactly same versions in bullseye-xena-backports\nand in bullseye-backports. So we have to choose one source to keep\nbuilds running otherwise they report downgrading of packages.\n\nChange-Id: I0954bcc8ee42b15420fe1cd54aac96cb0c0c7e0d\n'}]",8,816374,a26f4e3ec68d135112d60a08100289598ddebe61,16,4,1,24072,,,0,"Debian: we want Openvswitch and ovn from backports

Those packages are in exactly same versions in bullseye-xena-backports
and in bullseye-backports. So we have to choose one source to keep
builds running otherwise they report downgrading of packages.

Change-Id: I0954bcc8ee42b15420fe1cd54aac96cb0c0c7e0d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/74/816374/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/apt_preferences.debian'],1,a26f4e3ec68d135112d60a08100289598ddebe61,, # NOTE(hrw): we do not want backports unless requested Package: * Pin: release n=bullseye-backports Pin-Priority: -1000 # NOTE(hrw): let us list some backports Package: openvswitch* python3-openvswitch ovn-* Pin: release n=bullseye-backports Pin-Priority: 1024,,10,0
openstack%2Fcoverage2sql~master~Ieb7cf6334a6deedfd9d72f348d1cbc1cd100b054,openstack/coverage2sql,master,Ieb7cf6334a6deedfd9d72f348d1cbc1cd100b054,Test python3.9 as voting job,MERGED,2021-11-03 20:19:53.000000000,2021-11-04 13:52:26.000000000,2021-11-04 13:26:22.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-11-03 20:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/abad179856c764765d138ad1ea9c5b4c8ca25b84', 'message': ""Test python3.9 as voting job\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nAlso, as Tempest is branchless and needs to support older\nsupported stable branches, let's test it with all the\npython version supported in those supported stable branches.\nFor that, we need to explicitly dd the py jobs instead of using\nthe template. This way, we will explicitly know that we are testing\nall supported python versions when the new release template bumps the\nmin python version in the template.\n\nChange-Id: Ieb7cf6334a6deedfd9d72f348d1cbc1cd100b054\n""}, {'number': 2, 'created': '2021-11-03 21:08:03.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/169c4a9c5213433cb3e5e0231df0bac9f00b7db4', 'message': ""Test python3.9 as voting job\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nAlso, as coverage2sql is branchless and needs to support older\nsupported stable branches, let's test it with all the\npython version supported in those supported stable branches.\nFor that, we need to explicitly dd the py jobs instead of using\nthe template. This way, we will explicitly know that we are testing\nall supported python versions when the new release template bumps the\nmin python version in the template.\n\nChange-Id: Ieb7cf6334a6deedfd9d72f348d1cbc1cd100b054\n""}]",0,816560,169c4a9c5213433cb3e5e0231df0bac9f00b7db4,12,2,2,8556,,,0,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as coverage2sql is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: Ieb7cf6334a6deedfd9d72f348d1cbc1cd100b054
",git fetch https://review.opendev.org/openstack/coverage2sql refs/changes/60/816560/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,abad179856c764765d138ad1ea9c5b4c8ca25b84,py39-voting,"envlist = py{39,36},pep8,pip-check-reqs","envlist = py{38,36},pep8,pip-check-reqs",16,2
openstack%2Fstackviz~master~Ie23040ece856a7712b4d046c439ab0a861b6b95c,openstack/stackviz,master,Ie23040ece856a7712b4d046c439ab0a861b6b95c,Test python3.9 as voting job,MERGED,2021-11-03 20:34:53.000000000,2021-11-04 13:52:25.000000000,2021-11-04 13:19:28.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-11-03 20:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/e2fda0515da1336ac5078d4ddcf2d4d442ef1e26', 'message': ""Test python3.9 as voting job\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nAlso, as Tempest is branchless and needs to support older\nsupported stable branches, let's test it with all the\npython version supported in those supported stable branches.\nFor that, we need to explicitly dd the py jobs instead of using\nthe template. This way, we will explicitly know that we are testing\nall supported python versions when the new release template bumps the\nmin python version in the template.\n\nChange-Id: Ie23040ece856a7712b4d046c439ab0a861b6b95c\n""}, {'number': 2, 'created': '2021-11-03 21:10:08.000000000', 'files': ['.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/e10db7133d750f2a7ceff17d74d4c85440d87af6', 'message': ""Test python3.9 as voting job\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nAlso, as stackviz is branchless and needs to support older\nsupported stable branches, let's test it with all the\npython version supported in those supported stable branches.\nFor that, we need to explicitly dd the py jobs instead of using\nthe template. This way, we will explicitly know that we are testing\nall supported python versions when the new release template bumps the\nmin python version in the template.\n\nChange-Id: Ie23040ece856a7712b4d046c439ab0a861b6b95c\n""}]",1,816564,e10db7133d750f2a7ceff17d74d4c85440d87af6,11,2,2,8556,,,0,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as stackviz is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: Ie23040ece856a7712b4d046c439ab0a861b6b95c
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/64/816564/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg']",2,e2fda0515da1336ac5078d4ddcf2d4d442ef1e26,py39-voting, Programming Language :: Python :: 3.9,,13,2
openstack%2Fnova~master~I43612714b343d98320b19b5b38264afc700790e3,openstack/nova,master,I43612714b343d98320b19b5b38264afc700790e3,compute: Update volume_id within connection_info during swap_volume,MERGED,2021-09-02 06:21:55.000000000,2021-11-04 13:45:58.000000000,2021-11-04 13:24:47.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-02 06:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac9410c14b3b626ce913e93ffbfd9b3c5b780163', 'message': 'swap multiattach volume, report an error VolumeNotFound\n\nIf a multiattach volume has been swaped, nova will report an\nerror VolumeNotFound during the next swap_volume.The reason is\nthat table bdm records the _name_id of the volume, so func\nself._should_disconnect_target in libvirt driver get the volume\nby id(from bdm connection_info) report an error VolumeNotFound.\n\nChange-Id: I43612714b343d98320b19b5b38264afc700790e3\n'}, {'number': 2, 'created': '2021-09-14 01:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53f4711c990dbe652f8be8026534827947187636', 'message': 'swap multiattach volume, report an error VolumeNotFound\n\nIf a multiattach volume has been swaped, nova will report an\nerror VolumeNotFound during the next swap_volume.The reason is\nthat table bdm records the _name_id of the volume, so func\nself._should_disconnect_target in libvirt driver get the volume\nby id(from bdm connection_info) report an error VolumeNotFound.\n\nCloses-Bug: #1943431\nChange-Id: I43612714b343d98320b19b5b38264afc700790e3\n'}, {'number': 3, 'created': '2021-09-22 09:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac84678e2864505d9ed14dae360c077dc9e0ff60', 'message': 'swap multiattach volume, report an error VolumeNotFound\n\nIf a multiattach volume has been swaped, nova will report an\nerror VolumeNotFound during the next swap_volume.The reason is\nthat table bdm records the _name_id of the volume, so func\nself._should_disconnect_target in libvirt driver get the volume\nby id(from bdm connection_info) report an error VolumeNotFound.\n\nCloses-Bug: #1943431\nChange-Id: I43612714b343d98320b19b5b38264afc700790e3\n'}, {'number': 4, 'created': '2021-09-23 17:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2418fe78be8bfffa9b1cbbc7258c35e33b151708', 'message': ""WIP compute: Update volume_id within connection_info during swap_volume\n\nWhen Cinder orchestrates a volume migration between backends it\ninitially creates a temporary volume on the destination before calling\nNova to swap to that volume. When this is complete Nova calls back to\nCinder and the temporary volume on the destination is renamed to the\noriginal volume UUID making the migration transparent to end users.\n\nPreviously Nova would not account for this within the connection_info\nstahed when connecting the new volume and would continue to point to the\noriginal UUID of the temporary volume. For most codepaths in Nova this\nisn't an issue but when dealing with multiattach volumes the libvirt\ndriver has a specific path that uses this stored volume_id within the\nconnection_info when an attempt is made to detach the volume,\nnova.virt.libvirt.LibvirtDriver._should_disconnect_target. In this case\nthis would lead to a failed lookup of the volume in Cinder and an\neventual 500 returned by Nova.\n\nThis change corrects this by ensuring any volume_id stashed in the\nnew connection_info we gather during a swap_volume is overwritten with\nthe correct id returned by the eventual call to Cinder's\nos-migrate_volume_completion API [1].\n\n[1] https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=complete-migration-of-a-volume-detail#volumes-volumes\n\nWIP as I need to drop before I've had a chance to look at the unittests\nfor this, I'll follow up shortly.\n\nCo-Authored-By: 'Lee Yarwood <lyarwood@redhat.com>'\nCloses-Bug: #1943431\nChange-Id: I43612714b343d98320b19b5b38264afc700790e3\n""}, {'number': 5, 'created': '2021-09-23 21:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/398230f4ad3afc3090ae5392bc4425fed2ce980e', 'message': ""compute: Update volume_id within connection_info during swap_volume\n\nWhen Cinder orchestrates a volume migration between backends it\ninitially creates a temporary volume on the destination before calling\nNova to swap to that volume. When this is complete Nova calls back to\nCinder and the temporary volume on the destination is renamed to the\noriginal volume UUID making the migration transparent to end users.\n\nPreviously Nova would not account for this within the connection_info\nstahed when connecting the new volume and would continue to point to the\noriginal UUID of the temporary volume. For most codepaths in Nova this\nisn't an issue but when dealing with multiattach volumes the libvirt\ndriver has a specific path that uses this stored volume_id within the\nconnection_info when an attempt is made to detach the volume,\nnova.virt.libvirt.LibvirtDriver._should_disconnect_target. In this case\nthis would lead to a failed lookup of the volume in Cinder and an\neventual 500 returned by Nova.\n\nThis change corrects this by ensuring any volume_id stashed in the\nnew connection_info we gather during a swap_volume is overwritten with\nthe correct id returned by the eventual call to Cinder's\nos-migrate_volume_completion API [1].\n\n[1] https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=complete-migration-of-a-volume-detail#volumes-volumes\n\nWIP as I need to drop before I've had a chance to look at the unittests\nfor this, I'll follow up shortly.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1943431\nChange-Id: I43612714b343d98320b19b5b38264afc700790e3\n""}, {'number': 6, 'created': '2021-09-30 13:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11730262b0124c12b0872fd4128e8d663fcaf425', 'message': ""compute: Update volume_id within connection_info during swap_volume\n\nWhen Cinder orchestrates a volume migration between backends it\ninitially creates a temporary volume on the destination before calling\nNova to swap to that volume. When this is complete Nova calls back to\nCinder and the temporary volume on the destination is renamed to the\noriginal volume UUID making the migration transparent to end users.\n\nPreviously Nova would not account for this within the connection_info\nstahed when connecting the new volume and would continue to point to the\noriginal UUID of the temporary volume. For most codepaths in Nova this\nisn't an issue but when dealing with multiattach volumes the libvirt\ndriver has a specific path that uses this stored volume_id within the\nconnection_info when an attempt is made to detach the volume,\nnova.virt.libvirt.LibvirtDriver._should_disconnect_target. In this case\nthis would lead to a failed lookup of the volume in Cinder and an\neventual 500 returned by Nova.\n\nThis change corrects this by ensuring any volume_id stashed in the\nnew connection_info we gather during a swap_volume is overwritten with\nthe correct id returned by the eventual call to Cinder's\nos-migrate_volume_completion API [1].\n\n[1] https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=complete-migration-of-a-volume-detail#volumes-volumes\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1943431\nChange-Id: I43612714b343d98320b19b5b38264afc700790e3\n""}, {'number': 7, 'created': '2021-10-07 09:46:31.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1943431.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6fd071b904282e106de7488a076d4f703636af21', 'message': ""compute: Update volume_id within connection_info during swap_volume\n\nWhen Cinder orchestrates a volume migration between backends it\ninitially creates a temporary volume on the destination before calling\nNova to swap to that volume. When this is complete Nova calls back to\nCinder and the temporary volume on the destination is renamed to the\noriginal volume UUID making the migration transparent to end users.\n\nPreviously Nova would not account for this within the connection_info\nstahed when connecting the new volume and would continue to point to the\noriginal UUID of the temporary volume. For most codepaths in Nova this\nisn't an issue but when dealing with multiattach volumes the libvirt\ndriver has a specific path that uses this stored volume_id within the\nconnection_info when an attempt is made to detach the volume,\nnova.virt.libvirt.LibvirtDriver._should_disconnect_target. In this case\nthis would lead to a failed lookup of the volume in Cinder and an\neventual 500 returned by Nova.\n\nThis change corrects this by ensuring any volume_id stashed in the\nnew connection_info we gather during a swap_volume is overwritten with\nthe correct id returned by the eventual call to Cinder's\nos-migrate_volume_completion API [1].\n\n[1] https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=complete-migration-of-a-volume-detail#volumes-volumes\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1943431\nChange-Id: I43612714b343d98320b19b5b38264afc700790e3\n""}]",8,807025,6fd071b904282e106de7488a076d4f703636af21,71,4,7,31027,,,0,"compute: Update volume_id within connection_info during swap_volume

When Cinder orchestrates a volume migration between backends it
initially creates a temporary volume on the destination before calling
Nova to swap to that volume. When this is complete Nova calls back to
Cinder and the temporary volume on the destination is renamed to the
original volume UUID making the migration transparent to end users.

Previously Nova would not account for this within the connection_info
stahed when connecting the new volume and would continue to point to the
original UUID of the temporary volume. For most codepaths in Nova this
isn't an issue but when dealing with multiattach volumes the libvirt
driver has a specific path that uses this stored volume_id within the
connection_info when an attempt is made to detach the volume,
nova.virt.libvirt.LibvirtDriver._should_disconnect_target. In this case
this would lead to a failed lookup of the volume in Cinder and an
eventual 500 returned by Nova.

This change corrects this by ensuring any volume_id stashed in the
new connection_info we gather during a swap_volume is overwritten with
the correct id returned by the eventual call to Cinder's
os-migrate_volume_completion API [1].

[1] https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=complete-migration-of-a-volume-detail#volumes-volumes

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Closes-Bug: #1943431
Change-Id: I43612714b343d98320b19b5b38264afc700790e3
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/807025/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,ac9410c14b3b626ce913e93ffbfd9b3c5b780163,bug/1943431, new_cinfo['volume_id'] = save_volume_id if new_cinfo.get('data'): new_cinfo['data']['volume_id'] = save_volume_id,,3,0
openstack%2Fdevstack-plugin-open-cas~master~Iad7bc6c16508a509d0da711901a0a7212263577e,openstack/devstack-plugin-open-cas,master,Iad7bc6c16508a509d0da711901a0a7212263577e,Bump min tox version to 3.18.0,MERGED,2021-10-07 09:01:14.000000000,2021-11-04 13:43:25.000000000,2021-11-04 13:43:25.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-10-07 09:01:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-open-cas/commit/8950982d04e7d9955c6ea9f7d6283af637f01f7c', 'message': ""Bump min tox version to 3.18.0\n\nLet's bump minimal tox version so that we can rename\nwhitelist_externals option to allowlist_externals one.\n\nhttps: //tox.wiki/en/latest/changelog.html#v3-18-0-2020-07-23\nChange-Id: Iad7bc6c16508a509d0da711901a0a7212263577e\n""}]",1,812937,8950982d04e7d9955c6ea9f7d6283af637f01f7c,11,3,1,22873,,,0,"Bump min tox version to 3.18.0

Let's bump minimal tox version so that we can rename
whitelist_externals option to allowlist_externals one.

https: //tox.wiki/en/latest/changelog.html#v3-18-0-2020-07-23
Change-Id: Iad7bc6c16508a509d0da711901a0a7212263577e
",git fetch https://review.opendev.org/openstack/devstack-plugin-open-cas refs/changes/37/812937/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8950982d04e7d9955c6ea9f7d6283af637f01f7c,,minversion = 3.18.0allowlist_externals = bash,minversion = 1.6whitelist_externals = bash,2,2
openstack%2Fstackviz~master~Ic6da92a36a8f7d540c3bcd67d0346898b4775fa8,openstack/stackviz,master,Ic6da92a36a8f7d540c3bcd67d0346898b4775fa8,Use TOX_CONSTRAINTS_FILE,MERGED,2021-05-25 12:33:35.000000000,2021-11-04 13:37:32.000000000,2021-11-04 13:19:26.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-25 12:33:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/c74c32488969f333bfd23bf0a9bcd06a5defdfef', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Ic6da92a36a8f7d540c3bcd67d0346898b4775fa8\n'}]",3,792962,c74c32488969f333bfd23bf0a9bcd06a5defdfef,17,4,1,31828,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Ic6da92a36a8f7d540c3bcd67d0346898b4775fa8
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/62/792962/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c74c32488969f333bfd23bf0a9bcd06a5defdfef,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fbashate~master~Ifda17adba4c5fab369204a34b3ae49eab309a7dd,openstack/bashate,master,Ifda17adba4c5fab369204a34b3ae49eab309a7dd,Test python3.9 as voting job,MERGED,2021-11-03 20:19:49.000000000,2021-11-04 13:31:56.000000000,2021-11-04 13:13:34.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-03 20:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/49eca35a6d66345752fc558ad8d79bb7add09974', 'message': ""Test python3.9 as voting job\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nAlso, as Tempest is branchless and needs to support older\nsupported stable branches, let's test it with all the\npython version supported in those supported stable branches.\nFor that, we need to explicitly dd the py jobs instead of using\nthe template. This way, we will explicitly know that we are testing\nall supported python versions when the new release template bumps the\nmin python version in the template.\n\nChange-Id: Ifda17adba4c5fab369204a34b3ae49eab309a7dd\n""}, {'number': 2, 'created': '2021-11-03 21:07:39.000000000', 'files': ['setup.cfg', '.zuul.d/jobs.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/bashate/commit/cbd46caeb845c6129c73d716bde7c5e5f2f92d3b', 'message': ""Test python3.9 as voting job\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nAlso, as bashate is branchless and needs to support older\nsupported stable branches, let's test it with all the\npython version supported in those supported stable branches.\nFor that, we need to explicitly dd the py jobs instead of using\nthe template. This way, we will explicitly know that we are testing\nall supported python versions when the new release template bumps the\nmin python version in the template.\n\nChange-Id: Ifda17adba4c5fab369204a34b3ae49eab309a7dd\n""}]",2,816559,cbd46caeb845c6129c73d716bde7c5e5f2f92d3b,13,3,2,8556,,,0,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as bashate is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: Ifda17adba4c5fab369204a34b3ae49eab309a7dd
",git fetch https://review.opendev.org/openstack/bashate refs/changes/59/816559/2 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', '.zuul.d/jobs.yaml', 'tox.ini']",3,49eca35a6d66345752fc558ad8d79bb7add09974,py39-voting,"envlist = py36,py39,pep8","envlist = py36,py38,pep8",12,2
openstack%2Fopenstack-health~master~I894984577bf8c83669c96fd627bb9767237c3f68,openstack/openstack-health,master,I894984577bf8c83669c96fd627bb9767237c3f68,Test python3.9 as voting job,MERGED,2021-11-03 20:19:45.000000000,2021-11-04 13:25:12.000000000,2021-11-04 13:25:12.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-11-03 20:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/0ae2e7fa84e86f299b51af062d876a1e1f644add', 'message': ""Test python3.9 as voting job\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nAlso, as Tempest is branchless and needs to support older\nsupported stable branches, let's test it with all the\npython version supported in those supported stable branches.\nFor that, we need to explicitly dd the py jobs instead of using\nthe template. This way, we will explicitly know that we are testing\nall supported python versions when the new release template bumps the\nmin python version in the template.\n\nChange-Id: I894984577bf8c83669c96fd627bb9767237c3f68\n""}, {'number': 2, 'created': '2021-11-03 20:36:37.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/a25e4d491ccf43aa5728f287ca00eba5df2ead5d', 'message': ""Test python3.9 as voting job\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nAlso, as openstack-health is branchless and needs to support older\nsupported stable branches, let's test it with all the\npython version supported in those supported stable branches.\nFor that, we need to explicitly dd the py jobs instead of using\nthe template. This way, we will explicitly know that we are testing\nall supported python versions when the new release template bumps the\nmin python version in the template.\n\nChange-Id: I894984577bf8c83669c96fd627bb9767237c3f68\n""}]",0,816558,a25e4d491ccf43aa5728f287ca00eba5df2ead5d,11,2,2,8556,,,0,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as openstack-health is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: I894984577bf8c83669c96fd627bb9767237c3f68
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/58/816558/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,0ae2e7fa84e86f299b51af062d876a1e1f644add,py39-voting,"envlist = py36,py39,pep8,npm-test,npm-lint","envlist = py36,py38,pep8,npm-test,npm-lint",16,6
openstack%2Fnova~master~I88e827603bb1cd6265bf234f4286ba3b204c3ce1,openstack/nova,master,I88e827603bb1cd6265bf234f4286ba3b204c3ce1,"fup: Move _wait_for_volume_{attach,detach} to os-volume_attachments",MERGED,2021-09-23 21:06:51.000000000,2021-11-04 13:24:55.000000000,2021-11-04 13:24:55.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-23 21:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58c7fd90483bb89764bcad068ca5c91a887ae78d', 'message': 'fup: Move _wait_for_volume_{attach,detach} to os-volume_attachments\n\nAs documented in the api-ref this is the API end users would poll to\ndetermine the state of a volume operation so use it in our func tests.\n\nChange-Id: I88e827603bb1cd6265bf234f4286ba3b204c3ce1\n'}, {'number': 2, 'created': '2021-09-30 13:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d064e7544278cac77625f46cea393e8da23eb14', 'message': 'fup: Move _wait_for_volume_{attach,detach} to os-volume_attachments\n\nAs documented in the api-ref this is the API end users would poll to\ndetermine the state of a volume operation so use it in our func tests.\n\nChange-Id: I88e827603bb1cd6265bf234f4286ba3b204c3ce1\n'}, {'number': 3, 'created': '2021-10-07 09:46:31.000000000', 'files': ['nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9a1cac7110ae759fe3962e7e104c816e904cc27b', 'message': 'fup: Move _wait_for_volume_{attach,detach} to os-volume_attachments\n\nAs documented in the api-ref this is the API end users would poll to\ndetermine the state of a volume operation so use it in our func tests.\n\nChange-Id: I88e827603bb1cd6265bf234f4286ba3b204c3ce1\n'}]",0,810775,9a1cac7110ae759fe3962e7e104c816e904cc27b,19,3,3,10135,,,0,"fup: Move _wait_for_volume_{attach,detach} to os-volume_attachments

As documented in the api-ref this is the API end users would poll to
determine the state of a volume operation so use it in our func tests.

Change-Id: I88e827603bb1cd6265bf234f4286ba3b204c3ce1
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/810775/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/integrated_helpers.py'],1,58c7fd90483bb89764bcad068ca5c91a887ae78d,bug/1943431," while timeout < 10.0: try: self.api.get_server_volume(server_id, volume_id) return except api_client.OpenStackApiNotFoundException: time.sleep(.1) timeout += .1 attached_vols = self.api.get_server_volumes(server_id) self.fail('Timed out waiting for volume %s to be attached to ' while timeout < 10.0: try: self.api.get_server_volume(server_id, volume_id) time.sleep(.1) timeout += .1 except api_client.OpenStackApiNotFoundException: return attached_vols = self.api.get_server_volumes(server_id) self.fail('Timed out waiting for volume %s to be detached from ' 'server %s. Currently attached volumes: %s' % (volume_id, server_id, attached_vols))"," # TODO(lyarwood): Rewrite this waiter to use os-volume_attachments server = self.api.get_server(server_id) attached_vols = [vol['id'] for vol in server['os-extended-volumes:volumes_attached']] while volume_id not in attached_vols and timeout < 10.0: time.sleep(.1) timeout += .1 server = self.api.get_server(server_id) attached_vols = [vol['id'] for vol in server['os-extended-volumes:volumes_attached']] if volume_id not in attached_vols: self.fail('Timed out waiting for volume %s to be attached to ' # TODO(lyarwood): Rewrite this waiter to use os-volume_attachments server = self.api.get_server(server_id) attached_vols = [vol['id'] for vol in server['os-extended-volumes:volumes_attached']] while volume_id in attached_vols and timeout < 10.0: time.sleep(.1) timeout += .1 server = self.api.get_server(server_id) attached_vols = [vol['id'] for vol in server['os-extended-volumes:volumes_attached']] if volume_id in attached_vols: self.fail('Timed out waiting for volume %s to be detached from ' 'server %s. Currently attached volumes: %s' % (volume_id, server_id, attached_vols))",20,27
openstack%2Foslo.context~stable%2Fussuri~Ica23d5c4183a692de3cb65a7ad72b19f47988ca6,openstack/oslo.context,stable/ussuri,Ica23d5c4183a692de3cb65a7ad72b19f47988ca6,Fix context from_dict() for system_scope,MERGED,2021-10-04 21:04:52.000000000,2021-11-04 13:12:28.000000000,2021-11-04 13:01:04.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-10-04 21:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/43ead5f8be6e8ebabeee96c67d774b8932482904', 'message': 'Fix context from_dict() for system_scope\n\nA previous patch[1] added ""system_scope"" to the context for to_dict()\nbut the from_dict() method was not updated. This caused the\nsystem_scope to always be None.\nThis patch corrects that by adding ""system_scope"" to the list of\nvalues that may need to be extracted from the context dict.\n\n[1] https://review.opendev.org/c/openstack/oslo.context/+/530509\n\nChange-Id: Ica23d5c4183a692de3cb65a7ad72b19f47988ca6\n(cherry picked from commit 8290621b058081754db55c2584c00b8b166369aa)\n'}, {'number': 2, 'created': '2021-10-20 15:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/baa30f032800617e6c93fb0139bd0922fd5e63e0', 'message': 'Fix context from_dict() for system_scope\n\nA previous patch[1] added ""system_scope"" to the context for to_dict()\nbut the from_dict() method was not updated. This caused the\nsystem_scope to always be None.\nThis patch corrects that by adding ""system_scope"" to the list of\nvalues that may need to be extracted from the context dict.\n\n[1] https://review.opendev.org/c/openstack/oslo.context/+/530509\n\nChange-Id: Ica23d5c4183a692de3cb65a7ad72b19f47988ca6\n(cherry picked from commit 8290621b058081754db55c2584c00b8b166369aa)\n(cherry picked from commit 7187c672d41fc54a0368b766c0fa7a59677964d8)\n(cherry picked from commit b124eb7df2617be56a23819f670bd6e054f87ce7)\n(cherry picked from commit 48191bbf60425c7e7c3b20d517b1cd007074961b)\n'}, {'number': 3, 'created': '2021-10-29 06:39:53.000000000', 'files': ['oslo_context/tests/test_context.py', 'oslo_context/context.py', 'releasenotes/notes/Fix-system-scope-from_dict-29615af90723ba4d.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/47fcc64a8cdae0a98258c90b12159d75dcaa13ca', 'message': 'Fix context from_dict() for system_scope\n\nA previous patch[1] added ""system_scope"" to the context for to_dict()\nbut the from_dict() method was not updated. This caused the\nsystem_scope to always be None.\nThis patch corrects that by adding ""system_scope"" to the list of\nvalues that may need to be extracted from the context dict.\n\n[1] https://review.opendev.org/c/openstack/oslo.context/+/530509\n\nChange-Id: Ica23d5c4183a692de3cb65a7ad72b19f47988ca6\n(cherry picked from commit 8290621b058081754db55c2584c00b8b166369aa)\n(cherry picked from commit 7187c672d41fc54a0368b766c0fa7a59677964d8)\n(cherry picked from commit b124eb7df2617be56a23819f670bd6e054f87ce7)\n(cherry picked from commit 48191bbf60425c7e7c3b20d517b1cd007074961b)\n'}]",2,812388,47fcc64a8cdae0a98258c90b12159d75dcaa13ca,13,3,3,11628,,,0,"Fix context from_dict() for system_scope

A previous patch[1] added ""system_scope"" to the context for to_dict()
but the from_dict() method was not updated. This caused the
system_scope to always be None.
This patch corrects that by adding ""system_scope"" to the list of
values that may need to be extracted from the context dict.

[1] https://review.opendev.org/c/openstack/oslo.context/+/530509

Change-Id: Ica23d5c4183a692de3cb65a7ad72b19f47988ca6
(cherry picked from commit 8290621b058081754db55c2584c00b8b166369aa)
(cherry picked from commit 7187c672d41fc54a0368b766c0fa7a59677964d8)
(cherry picked from commit b124eb7df2617be56a23819f670bd6e054f87ce7)
(cherry picked from commit 48191bbf60425c7e7c3b20d517b1cd007074961b)
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/88/812388/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_context/tests/test_context.py', 'oslo_context/context.py', 'releasenotes/notes/Fix-system-scope-from_dict-29615af90723ba4d.yaml']",3,43ead5f8be6e8ebabeee96c67d774b8932482904,secure-rbac-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,--- fixes: - | Fixes context from_dict() to properly handle system_scope. ,,8,1
openstack%2Foslo.context~stable%2Fussuri~If2a9cf05f382ae28846b95e5bb29669ee57f9bcd,openstack/oslo.context,stable/ussuri,If2a9cf05f382ae28846b95e5bb29669ee57f9bcd,Dropping lower constraints testing,MERGED,2021-10-29 06:39:53.000000000,2021-11-04 13:10:11.000000000,2021-11-04 13:01:02.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-29 06:39:53.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/cb55ee95369f5e4e4d56a50e7f40366879693c27', 'message': ""Dropping lower constraints testing\n\nThis is the combination of 2 commits (3542beac, 2af794b59f) cherry-picked\nfrom wallaby to drop the lower-constraints.\n\nThe first commit drop the lower constraints testing.\n\n(cherry picked from commit 3542beac2307333340a7a92af442f669502d52be)\n\nThe second one remove lower-constraints remnants\n\nThese were missed in change: If2a9cf05f382ae28846b95e5bb29669ee57f9bcd\n\n(cherry picked from commit 2af794b59f2645bfe16681ac03e4d44e1c5d3cc6)\n\nNOTE(hberaud): Conflicts are related to zuul's job names that differ\nfrom wallaby to victoria.\n\nChange-Id: If2a9cf05f382ae28846b95e5bb29669ee57f9bcd\n(cherry picked from commit 5835e5d8e4d82b8200c1d00cd65ac72c4f646899)\n""}]",0,815934,cb55ee95369f5e4e4d56a50e7f40366879693c27,7,2,1,28522,,,0,"Dropping lower constraints testing

This is the combination of 2 commits (3542beac, 2af794b59f) cherry-picked
from wallaby to drop the lower-constraints.

The first commit drop the lower constraints testing.

(cherry picked from commit 3542beac2307333340a7a92af442f669502d52be)

The second one remove lower-constraints remnants

These were missed in change: If2a9cf05f382ae28846b95e5bb29669ee57f9bcd

(cherry picked from commit 2af794b59f2645bfe16681ac03e4d44e1c5d3cc6)

NOTE(hberaud): Conflicts are related to zuul's job names that differ
from wallaby to victoria.

Change-Id: If2a9cf05f382ae28846b95e5bb29669ee57f9bcd
(cherry picked from commit 5835e5d8e4d82b8200c1d00cd65ac72c4f646899)
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/34/815934/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,cb55ee95369f5e4e4d56a50e7f40366879693c27,secure-rbac-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,42
openstack%2Fvalidations-common~master~Ic220974c4b0d24b692cc05445a478787d2198b7e,openstack/validations-common,master,Ic220974c4b0d24b692cc05445a478787d2198b7e,Adding more validations in the tripleo component test,MERGED,2021-10-08 10:33:29.000000000,2021-11-04 12:59:22.000000000,2021-11-04 12:59:22.000000000,"[{'_account_id': 9976}, {'_account_id': 11491}, {'_account_id': 12393}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-10-08 10:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b82137b013d8f07fa9f0969cf1f3e27f0f922f85', 'message': 'Adding more validations in the tripleo component test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic220974c4b0d24b692cc05445a478787d2198b7e\n'}, {'number': 2, 'created': '2021-10-08 12:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/060b9372c9cbd58f39cb44720b38c1242c39de1a', 'message': 'Adding more validations in the tripleo component test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic220974c4b0d24b692cc05445a478787d2198b7e\n'}, {'number': 3, 'created': '2021-10-13 09:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d3581acc9e85105c9857b8371f03a30645f5492f', 'message': 'Adding more validations in the tripleo component test\n\nBy increasing number of validations triggered in the\ncomponent pipeline we can improve coverage of tripleo component\nand VF at the same time.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic220974c4b0d24b692cc05445a478787d2198b7e\n'}, {'number': 4, 'created': '2021-10-19 07:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/11baccf7cd23095ab6633444a9f3a3ab4d97c876', 'message': 'Adding more validations in the tripleo component test\n\nBy increasing number of validations triggered in the\ncomponent pipeline we can improve coverage of tripleo component\nand VF at the same time.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic220974c4b0d24b692cc05445a478787d2198b7e\n'}, {'number': 5, 'created': '2021-11-01 13:37:53.000000000', 'files': ['roles/validations/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/fc90fd5bccdb629eb179389caa9499bfba5abc5d', 'message': 'Adding more validations in the tripleo component test\n\nBy increasing number of validations triggered in the\ncomponent pipeline we can improve coverage of tripleo component\nand VF at the same time.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic220974c4b0d24b692cc05445a478787d2198b7e\n'}]",5,813162,fc90fd5bccdb629eb179389caa9499bfba5abc5d,23,7,5,32926,,,0,"Adding more validations in the tripleo component test

By increasing number of validations triggered in the
component pipeline we can improve coverage of tripleo component
and VF at the same time.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic220974c4b0d24b692cc05445a478787d2198b7e
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/62/813162/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/validations/vars/main.yaml'],1,b82137b013d8f07fa9f0969cf1f3e27f0f922f85,component-validation-expansion," - tripleo-latest-packages-version: extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}"" - undecloud-service-status: extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}"" - check-for-dangling-images: extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}"" - check-kernel-version: extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}""",,12,0
openstack%2Fstackviz~master~I4d4cbc7deb4e3269a317bfd9cf30e7b5b227398e,openstack/stackviz,master,I4d4cbc7deb4e3269a317bfd9cf30e7b5b227398e,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 01:24:56.000000000,2021-11-04 12:57:14.000000000,2021-11-04 12:54:53.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29313}, {'_account_id': 31828}]","[{'number': 1, 'created': '2021-05-14 01:24:56.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/3419343646799682052a3f6fe6371b35a4ccaaec', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I4d4cbc7deb4e3269a317bfd9cf30e7b5b227398e\n""}]",3,791341,3419343646799682052a3f6fe6371b35a4ccaaec,20,5,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I4d4cbc7deb4e3269a317bfd9cf30e7b5b227398e
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/41/791341/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3419343646799682052a3f6fe6371b35a4ccaaec,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/stackviz/latest/ python_requires = >=3.5,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/stackviz/latest/ python-requires = >=3.5,4,4
openstack%2Fnova~stable%2Ftrain~I48dcb7faa17fe9f8346445a1746cff5845baf358,openstack/nova,stable/train,I48dcb7faa17fe9f8346445a1746cff5845baf358,Reproduce bug 1897528,NEW,2021-05-19 09:52:46.000000000,2021-11-04 12:51:29.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 09:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52d58070bf2d2b05b7a18fe7f6aef8886751a590', 'message': 'Reproduce bug 1897528\n\nThe nova-compute fails to start if the hypervisor has PCI addresses\n32bit domain.\n\nChange-Id: I48dcb7faa17fe9f8346445a1746cff5845baf358\nRelated-Bug: #1897528\n(cherry picked from commit 976ac722d36439d16ea4ec1bf5037c482c89ef55)\n(cherry picked from commit 0354d4d9f47354e2b4fc0b2343c27e734fe2e494)\n(cherry picked from commit e0993099ca47c372092dad13390e4b436eccc4e8)\n'}, {'number': 2, 'created': '2021-06-16 13:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dae1923132cf1f3a5fef6c2f9426206884981211', 'message': 'Reproduce bug 1897528\n\nThe nova-compute fails to start if the hypervisor has PCI addresses\n32bit domain.\n\nChange-Id: I48dcb7faa17fe9f8346445a1746cff5845baf358\nRelated-Bug: #1897528\n(cherry picked from commit 976ac722d36439d16ea4ec1bf5037c482c89ef55)\n(cherry picked from commit 0354d4d9f47354e2b4fc0b2343c27e734fe2e494)\n(cherry picked from commit e0993099ca47c372092dad13390e4b436eccc4e8)\n'}, {'number': 3, 'created': '2021-06-17 09:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a5ed71d542f0cba0624dcaa97030893f3545e1d', 'message': 'Reproduce bug 1897528\n\nThe nova-compute fails to start if the hypervisor has PCI addresses\n32bit domain.\n\nChange-Id: I48dcb7faa17fe9f8346445a1746cff5845baf358\nRelated-Bug: #1897528\n(cherry picked from commit 976ac722d36439d16ea4ec1bf5037c482c89ef55)\n(cherry picked from commit 0354d4d9f47354e2b4fc0b2343c27e734fe2e494)\n(cherry picked from commit 8e9859b95c537738d97ade41a8d09670de27ef8d)\n'}, {'number': 4, 'created': '2021-11-04 12:24:28.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a0d3e6846c8e03ff141343c9bab9d4cbd2066dfc', 'message': 'Reproduce bug 1897528\n\nThe nova-compute fails to start if the hypervisor has PCI addresses\n32bit domain.\n\nChange-Id: I48dcb7faa17fe9f8346445a1746cff5845baf358\nRelated-Bug: #1897528\n(cherry picked from commit 976ac722d36439d16ea4ec1bf5037c482c89ef55)\n(cherry picked from commit 0354d4d9f47354e2b4fc0b2343c27e734fe2e494)\n(cherry picked from commit 8e9859b95c537738d97ade41a8d09670de27ef8d)\n'}]",0,792116,a0d3e6846c8e03ff141343c9bab9d4cbd2066dfc,11,2,4,15334,,,0,"Reproduce bug 1897528

The nova-compute fails to start if the hypervisor has PCI addresses
32bit domain.

Change-Id: I48dcb7faa17fe9f8346445a1746cff5845baf358
Related-Bug: #1897528
(cherry picked from commit 976ac722d36439d16ea4ec1bf5037c482c89ef55)
(cherry picked from commit 0354d4d9f47354e2b4fc0b2343c27e734fe2e494)
(cherry picked from commit 8e9859b95c537738d97ade41a8d09670de27ef8d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/792116/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/pci/test_manager.py'],1,52d58070bf2d2b05b7a18fe7f6aef8886751a590,bug/1897528,"from nova import exception def test_update_devices_from_hypervisor_resources_32bit_domain(self): self.flags( group='pci', passthrough_whitelist=[ '{""product_id"":""2032"", ""vendor_id"":""8086""}']) # There are systems where 32 bit PCI domain is used. See bug 1897528 # for example. While nova (and qemu) does not support assigning such # devices but the existence of such device in the system should not # lead to an error. fake_pci = { 'compute_node_id': 1, 'address': '10000:00:02.0', 'product_id': '2032', 'vendor_id': '8086', 'request_id': None, 'status': fields.PciDeviceStatus.AVAILABLE, 'dev_type': fields.PciDeviceType.STANDARD, 'parent_addr': None, 'numa_node': 0} fake_pci_devs = [fake_pci] fake_pci_devs_json = jsonutils.dumps(fake_pci_devs) tracker = manager.PciDevTracker(self.fake_context) # We expect that the device with 32bit PCI domain is ignored # tracker.update_devices_from_hypervisor_resources(fake_pci_devs_json) # self.assertEqual(0, len(tracker.pci_devs)) # # This is the bug 1897528 ex = self.assertRaises( exception.PciConfigInvalidWhitelist, tracker.update_devices_from_hypervisor_resources, fake_pci_devs_json) self.assertEqual( 'Invalid PCI devices Whitelist config: property domain (10000) is ' 'greater than the maximum allowable value (FFFF).', str(ex)) ",,37,0
openstack%2Fopenstack-tempest-skiplist~master~I148922e131598feb694c353ead136c8a3044eb3e,openstack/openstack-tempest-skiplist,master,I148922e131598feb694c353ead136c8a3044eb3e,"Revert ""Revert tempest test ""test_minimum_basic_scenario""""",MERGED,2021-11-04 12:11:21.000000000,2021-11-04 12:47:22.000000000,2021-11-04 12:44:39.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 29775}, {'_account_id': 31075}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-11-04 12:11:21.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/abb639725d322bc11af24c86484efc79c7d8eb6d', 'message': 'Revert ""Revert tempest test ""test_minimum_basic_scenario""""\n\nThis reverts commit 95eca36f7bc6b6df75170e0e2a49149683951fce.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1923194/comments/10\n\nChange-Id: I148922e131598feb694c353ead136c8a3044eb3e\n'}]",0,816655,abb639725d322bc11af24c86484efc79c7d8eb6d,8,6,1,30002,,,0,"Revert ""Revert tempest test ""test_minimum_basic_scenario""""

This reverts commit 95eca36f7bc6b6df75170e0e2a49149683951fce.

Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1923194/comments/10

Change-Id: I148922e131598feb694c353ead136c8a3044eb3e
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/55/816655/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,abb639725d322bc11af24c86484efc79c7d8eb6d,revert_skip_scenario_test, - name: master reason: Failed to find floating IP lp: https://bugs.launchpad.net/tripleo/+bug/1923194,,3,0
openstack%2Fneutron-lib~master~Ie6fffb7829ac1f212f4c4e40fc2e5161f2ccd6fe,openstack/neutron-lib,master,Ie6fffb7829ac1f212f4c4e40fc2e5161f2ccd6fe,Move RULE_TYPE_MINIMUM_PACKET_RATE to neutron-lib,MERGED,2021-11-03 10:24:17.000000000,2021-11-04 12:29:43.000000000,2021-11-04 12:27:45.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 10:24:17.000000000', 'files': ['neutron_lib/services/qos/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6b2fe94b2ccb49a7906fbda8cfe48892cf37833c', 'message': 'Move RULE_TYPE_MINIMUM_PACKET_RATE to neutron-lib\n\nAddresses TODO comment from:\n\nneutron/services/qos/constants.py\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ie6fffb7829ac1f212f4c4e40fc2e5161f2ccd6fe\n'}]",2,816447,6b2fe94b2ccb49a7906fbda8cfe48892cf37833c,14,5,1,33652,,,0,"Move RULE_TYPE_MINIMUM_PACKET_RATE to neutron-lib

Addresses TODO comment from:

neutron/services/qos/constants.py

Related-Bug: #1922237
See-Also: https://review.opendev.org/785236
Change-Id: Ie6fffb7829ac1f212f4c4e40fc2e5161f2ccd6fe
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/47/816447/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/services/qos/constants.py'],1,6b2fe94b2ccb49a7906fbda8cfe48892cf37833c,bp/qos-minimum-guaranteed-packet-rate,"RULE_TYPE_MINIMUM_PACKET_RATE = 'minimum_packet_rate' RULE_TYPE_MINIMUM_PACKET_RATE,",,2,0
openstack%2Fopenstack-tempest-skiplist~master~I3a26877898ccaece1d9e143999ef45bde88aee50,openstack/openstack-tempest-skiplist,master,I3a26877898ccaece1d9e143999ef45bde88aee50,"Revert tempest test ""test_minimum_basic_scenario""",MERGED,2021-10-28 06:38:00.000000000,2021-11-04 12:11:21.000000000,2021-11-02 11:51:19.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 29775}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-10-28 06:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/0fe911fd54efdf813cea838a74b93c79f54a3c19', 'message': '[DNM] Revert tempest scenario test\n\nChange-Id: I3a26877898ccaece1d9e143999ef45bde88aee50\n'}, {'number': 2, 'created': '2021-10-28 09:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/f28b2627e7294201e3f78fc53f677314d3682eb7', 'message': '[DNM] Revert tempest scenario test\n\nTesting patch : https://review.rdoproject.org/r/c/testproject/+/36478\n\nChange-Id: I3a26877898ccaece1d9e143999ef45bde88aee50\n'}, {'number': 3, 'created': '2021-10-28 09:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/cacdf4193158d19e2eca27f83bfe30b4e61ffc5e', 'message': 'Revert tempest test ""test_minimum_basic_scenario""\n\nTesting patch : https://review.rdoproject.org/r/c/testproject/+/36478\n\nChange-Id: I3a26877898ccaece1d9e143999ef45bde88aee50\n'}, {'number': 4, 'created': '2021-11-02 09:58:15.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/95eca36f7bc6b6df75170e0e2a49149683951fce', 'message': 'Revert tempest test ""test_minimum_basic_scenario""\n\nTesting patch : https://review.rdoproject.org/r/c/testproject/+/36478\nRelated-Bug: #1923194\n\nChange-Id: I3a26877898ccaece1d9e143999ef45bde88aee50\n'}]",5,815777,95eca36f7bc6b6df75170e0e2a49149683951fce,20,5,4,31075,,,0,"Revert tempest test ""test_minimum_basic_scenario""

Testing patch : https://review.rdoproject.org/r/c/testproject/+/36478
Related-Bug: #1923194

Change-Id: I3a26877898ccaece1d9e143999ef45bde88aee50
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/77/815777/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,0fe911fd54efdf813cea838a74b93c79f54a3c19,revert_skip_scenario_test,, - test: tempest.scenario.test_minimum_basic.TestMinimumBasicScenario.test_minimum_basic_scenario deployment: - overcloud releases: - name: master reason: Failed to find floating IP lp: https://bugs.launchpad.net/tripleo/+bug/1923194 - name: wallaby reason: Failed to find floating IP lp: https://bugs.launchpad.net/tripleo/+bug/1923194 jobs: [],0,11
openstack%2Fneutron~stable%2Fwallaby~Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,openstack/neutron,stable/wallaby,Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,Don't setup bridge controller if it is already set,MERGED,2021-11-03 11:05:41.000000000,2021-11-04 11:56:34.000000000,2021-11-04 11:53:35.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 11:05:41.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f', 'message': ""Don't setup bridge controller if it is already set\n\nSetting new controller for bridge every time when neutron-ovs-agent\nis restarted or is doing full-sync may cause some short data plane\nconnectivity loss and is not needed if same controller is already\nconfigured for the bridge.\nWith this patch neutron-ovs-agent will first check if controller is\nconfigured for the bridge and if it's the same as what should be\nconfigured, it will skip setting it up.\n\nWith this patch also protocols added to the bridge will be first checked\nif they aren't already there and only missing ones will be added if\nnecessary.\n\nSetting of the connectivity mode and inactivity probe is\nalways performed as this don't cause connectivity issues and is cheap\nso we can always ensure that those parameters are configured properly.\n\nConflicts:\n    neutron/agent/common/ovs_lib.py\n\nCloses-Bug: #1948642\nChange-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67\n(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)\n""}]",0,816348,b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f,10,3,1,11975,,,0,"Don't setup bridge controller if it is already set

Setting new controller for bridge every time when neutron-ovs-agent
is restarted or is doing full-sync may cause some short data plane
connectivity loss and is not needed if same controller is already
configured for the bridge.
With this patch neutron-ovs-agent will first check if controller is
configured for the bridge and if it's the same as what should be
configured, it will skip setting it up.

With this patch also protocols added to the bridge will be first checked
if they aren't already there and only missing ones will be added if
necessary.

Setting of the connectivity mode and inactivity probe is
always performed as this don't cause connectivity issues and is cheap
so we can always ensure that those parameters are configured properly.

Conflicts:
    neutron/agent/common/ovs_lib.py

Closes-Bug: #1948642
Change-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67
(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/816348/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py']",4,b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f,bug/1948642-stable/xena-stable/wallaby," def _test_setup_controllers(self, existing_controllers): cfg.OVS.of_listen_address = ""127.0.0.1"" cfg.OVS.of_listen_port = ""6633"" m_get_controller = mock.patch.object(self.br, 'get_controller') with m_set_ccm as set_ccm, \ m_add_protocols as add_protocols, \ m_set_controller as set_controller, \ m_get_controller as get_controller, \ m_set_probe: get_controller.return_value = existing_controllers self.br.setup_controllers(cfg) if existing_controllers: set_controller.assert_not_called() else: set_controller.assert_called_once_with([""tcp:127.0.0.1:6633""]) set_ccm.assert_called_once_with(""out-of-band"") add_protocols.assert_called_once_with( constants.OPENFLOW10, constants.OPENFLOW13) def test_setup_controllers(self): self._test_setup_controllers(existing_controllers=[]) def test_setup_controllers_when_already_exists(self): self._test_setup_controllers( existing_controllers=[""tcp:127.0.0.1:6633""])"," def test__setup_controllers__out_of_band(self): cfg.OVS.of_listen_address = """" cfg.OVS.of_listen_port = """" with m_set_ccm as set_ccm: with m_add_protocols as add_protocols: with m_set_controller, m_set_probe: self.br.setup_controllers(cfg) set_ccm.assert_called_once_with(""out-of-band"") add_protocols.assert_called_once_with( constants.OPENFLOW10, constants.OPENFLOW13)",64,15
openstack%2Fneutron~stable%2Fxena~Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,openstack/neutron,stable/xena,Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,Don't setup bridge controller if it is already set,MERGED,2021-11-03 11:05:22.000000000,2021-11-04 11:56:33.000000000,2021-11-04 11:53:31.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 11:05:22.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a945f626f38edbc909af5147a25f9e5b393f674', 'message': ""Don't setup bridge controller if it is already set\n\nSetting new controller for bridge every time when neutron-ovs-agent\nis restarted or is doing full-sync may cause some short data plane\nconnectivity loss and is not needed if same controller is already\nconfigured for the bridge.\nWith this patch neutron-ovs-agent will first check if controller is\nconfigured for the bridge and if it's the same as what should be\nconfigured, it will skip setting it up.\n\nWith this patch also protocols added to the bridge will be first checked\nif they aren't already there and only missing ones will be added if\nnecessary.\n\nSetting of the connectivity mode and inactivity probe is\nalways performed as this don't cause connectivity issues and is cheap\nso we can always ensure that those parameters are configured properly.\n\nConflicts:\n    neutron/agent/common/ovs_lib.py\n\nCloses-Bug: #1948642\nChange-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67\n(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)\n""}]",0,816454,0a945f626f38edbc909af5147a25f9e5b393f674,10,3,1,11975,,,0,"Don't setup bridge controller if it is already set

Setting new controller for bridge every time when neutron-ovs-agent
is restarted or is doing full-sync may cause some short data plane
connectivity loss and is not needed if same controller is already
configured for the bridge.
With this patch neutron-ovs-agent will first check if controller is
configured for the bridge and if it's the same as what should be
configured, it will skip setting it up.

With this patch also protocols added to the bridge will be first checked
if they aren't already there and only missing ones will be added if
necessary.

Setting of the connectivity mode and inactivity probe is
always performed as this don't cause connectivity issues and is cheap
so we can always ensure that those parameters are configured properly.

Conflicts:
    neutron/agent/common/ovs_lib.py

Closes-Bug: #1948642
Change-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67
(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/816454/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py']",4,0a945f626f38edbc909af5147a25f9e5b393f674,bug/1948642-stable/xena," def _test_setup_controllers(self, existing_controllers): cfg.OVS.of_listen_address = ""127.0.0.1"" cfg.OVS.of_listen_port = ""6633"" m_get_controller = mock.patch.object(self.br, 'get_controller') with m_set_ccm as set_ccm, \ m_add_protocols as add_protocols, \ m_set_controller as set_controller, \ m_get_controller as get_controller, \ m_set_probe: get_controller.return_value = existing_controllers self.br.setup_controllers(cfg) if existing_controllers: set_controller.assert_not_called() else: set_controller.assert_called_once_with([""tcp:127.0.0.1:6633""]) set_ccm.assert_called_once_with(""out-of-band"") add_protocols.assert_called_once_with( constants.OPENFLOW10, constants.OPENFLOW13) def test_setup_controllers(self): self._test_setup_controllers(existing_controllers=[]) def test_setup_controllers_when_already_exists(self): self._test_setup_controllers( existing_controllers=[""tcp:127.0.0.1:6633""])"," def test__setup_controllers__out_of_band(self): cfg.OVS.of_listen_address = """" cfg.OVS.of_listen_port = """" with m_set_ccm as set_ccm: with m_add_protocols as add_protocols: with m_set_controller, m_set_probe: self.br.setup_controllers(cfg) set_ccm.assert_called_once_with(""out-of-band"") add_protocols.assert_called_once_with( constants.OPENFLOW10, constants.OPENFLOW13)",64,15
openstack%2Fneutron~master~I3d50526d3192cafb673092bc8b22da6c48454434,openstack/neutron,master,I3d50526d3192cafb673092bc8b22da6c48454434,"Add ""FLAVOR_NAME"" to ovn migration resources creation",MERGED,2021-10-14 09:36:59.000000000,2021-11-04 11:56:20.000000000,2021-11-04 11:53:41.000000000,"[{'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 29350}, {'_account_id': 31291}]","[{'number': 1, 'created': '2021-10-14 09:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1aad452301d5360dc2649ec35c11923b8388b6eb', 'message': 'Add ""FLAVOR_NAME"" to ovn migration resources creation\n\n- Telco usecases requires a flavor which has to contain ""extra_specs""\n  to boot a dpdk instance.\n  Add the ""FLAVOR_NAME"" parameter to override the use of the default\n  flavor used during migration flow.\n\n- Modify the hardcoded server user name (cirros) to use the\n  ""SERVER_USER_NAME"" environment variable.\n\nChange-Id: I3d50526d3192cafb673092bc8b22da6c48454434\n'}, {'number': 2, 'created': '2021-10-14 10:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/733de53426c836f8becb3212193329475ca5b3b7', 'message': 'Add ""FLAVOR_NAME"" to ovn migration resources creation\n\n- Telco usecases requires a flavor which has to contain ""extra_specs""\n  to boot a dpdk instance.\n  Add the ""FLAVOR_NAME"" parameter to override the use of the default\n  flavor used during migration flow.\n\n- Modify the hardcoded server user name (cirros) to use the\n  ""SERVER_USER_NAME"" environment variable.\n\nChange-Id: I3d50526d3192cafb673092bc8b22da6c48454434\n'}, {'number': 3, 'created': '2021-10-25 10:24:19.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/resources/create/templates/create-resources.sh.j2', 'tools/ovn_migration/tripleo_environment/playbooks/roles/resources/create/defaults/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/resources/validate/templates/validate-resources.sh.j2', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f09c98bf8cdd673aa7e2a6d590f68071614e2779', 'message': 'Add ""FLAVOR_NAME"" to ovn migration resources creation\n\n- Telco usecases requires a flavor which has to contain ""extra_specs""\n  to boot a dpdk instance.\n  Add the ""FLAVOR_NAME"" parameter to override the use of the default\n  flavor used during migration flow.\n\n- Modify the hardcoded server user name (cirros) to use the\n  ""SERVER_USER_NAME"" environment variable.\n\nChange-Id: I3d50526d3192cafb673092bc8b22da6c48454434\n'}]",9,813972,f09c98bf8cdd673aa7e2a6d590f68071614e2779,26,8,3,28094,,,0,"Add ""FLAVOR_NAME"" to ovn migration resources creation

- Telco usecases requires a flavor which has to contain ""extra_specs""
  to boot a dpdk instance.
  Add the ""FLAVOR_NAME"" parameter to override the use of the default
  flavor used during migration flow.

- Modify the hardcoded server user name (cirros) to use the
  ""SERVER_USER_NAME"" environment variable.

Change-Id: I3d50526d3192cafb673092bc8b22da6c48454434
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/813972/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/tripleo_environment/playbooks/roles/resources/create/templates/create-resources.sh.j2', 'tools/ovn_migration/tripleo_environment/playbooks/roles/resources/validate/templates/validate-resources.sh.j2', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh']",3,1aad452301d5360dc2649ec35c11923b8388b6eb,add_flavor_name_to_resources_override_options,: ${FLAVOR_NAME:=ovn-migration}flavor_name=$FLAVOR_NAME -e flavor_name=$FLAVOR_NAME \,,15,5
openstack%2Fpuppet-mistral~master~I7b20aa48cb16927211a862e264bb51ae4bb50f42,openstack/puppet-mistral,master,I7b20aa48cb16927211a862e264bb51ae4bb50f42,Add support for healthcheck middleware options,NEW,2021-07-12 04:20:27.000000000,2021-11-04 11:52:57.000000000,,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 04:20:27.000000000', 'files': ['spec/classes/mistral_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-7b8fc85f5e53b674.yaml', 'manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/ed7e0dc7cef2b376504530112b55ebd2c6f0fb95', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nDepends-on: https://review.opendev.org/800405\nChange-Id: I7b20aa48cb16927211a862e264bb51ae4bb50f42\n'}]",1,800407,ed7e0dc7cef2b376504530112b55ebd2c6f0fb95,6,3,1,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Depends-on: https://review.opendev.org/800405
Change-Id: I7b20aa48cb16927211a862e264bb51ae4bb50f42
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/07/800407/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/mistral_healthcheck_spec.rb', 'manifests/healthcheck.pp', 'releasenotes/notes/healthcheck-7b8fc85f5e53b674.yaml']",3,ed7e0dc7cef2b376504530112b55ebd2c6f0fb95,healthcheck,--- features: - | The new ``mistral::healthcheck`` class has been added. This class manages parameters of healthcheck middlware in oslo.middleware. ,,115,0
openstack%2Fkolla-ansible~stable%2Fvictoria~Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,openstack/kolla-ansible,stable/victoria,Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,Fix missing Ansible version in the error message,MERGED,2021-10-28 16:15:44.000000000,2021-11-04 11:52:43.000000000,2021-11-04 11:50:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-10-28 16:15:44.000000000', 'files': ['releasenotes/notes/bug-1948979-aaf2a93cc016ffb1.yaml', 'tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/28d2efc84b4486241a14489401ba84b8c3394db3', 'message': 'Fix missing Ansible version in the error message\n\nChange-Id: Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b\nCloses-Bug: #1948979\n(cherry picked from commit cd13bde880811f35b7ce1627bc4261f3bf201979)\n'}]",0,815807,28d2efc84b4486241a14489401ba84b8c3394db3,11,3,1,30491,,,0,"Fix missing Ansible version in the error message

Change-Id: Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b
Closes-Bug: #1948979
(cherry picked from commit cd13bde880811f35b7ce1627bc4261f3bf201979)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/07/815807/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1948979-aaf2a93cc016ffb1.yaml', 'tools/kolla-ansible']",2,28d2efc84b4486241a14489401ba84b8c3394db3,bug/1948979-stable/xena-stable/wallaby-stable/victoria," echo ""ERROR: Ansible version should be between $ANSIBLE_VERSION_MIN and $ANSIBLE_VERSION_MAX. Current version is $ansible_full_version which is not supported."""," echo ""ERROR: Ansible version should be between $ANSIBLE_VERSION_MIN and $ANSIBLE_VERSION_MAX. Current version is $ANSIBLE_VERSION_HOST which is not supported.""",6,1
openstack%2Fkolla-ansible~stable%2Fxena~Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,openstack/kolla-ansible,stable/xena,Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,Fix missing Ansible version in the error message,MERGED,2021-10-28 16:14:59.000000000,2021-11-04 11:52:30.000000000,2021-11-04 11:50:46.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-10-28 16:14:59.000000000', 'files': ['releasenotes/notes/bug-1948979-aaf2a93cc016ffb1.yaml', 'tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e219faec863c31cb70bb8b63f9b4f0f7d45df7fd', 'message': 'Fix missing Ansible version in the error message\n\nChange-Id: Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b\nCloses-Bug: #1948979\n(cherry picked from commit cd13bde880811f35b7ce1627bc4261f3bf201979)\n'}]",0,815805,e219faec863c31cb70bb8b63f9b4f0f7d45df7fd,11,3,1,30491,,,0,"Fix missing Ansible version in the error message

Change-Id: Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b
Closes-Bug: #1948979
(cherry picked from commit cd13bde880811f35b7ce1627bc4261f3bf201979)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/815805/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1948979-aaf2a93cc016ffb1.yaml', 'tools/kolla-ansible']",2,e219faec863c31cb70bb8b63f9b4f0f7d45df7fd,bug/1948979-stable/xena," echo ""ERROR: Ansible version should be between $ANSIBLE_VERSION_MIN and $ANSIBLE_VERSION_MAX. Current version is $ansible_full_version which is not supported."""," echo ""ERROR: Ansible version should be between $ANSIBLE_VERSION_MIN and $ANSIBLE_VERSION_MAX. Current version is $ANSIBLE_VERSION_HOST which is not supported.""",6,1
openstack%2Fkolla-ansible~stable%2Fwallaby~Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,openstack/kolla-ansible,stable/wallaby,Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,Fix missing Ansible version in the error message,MERGED,2021-10-28 16:15:16.000000000,2021-11-04 11:50:07.000000000,2021-11-04 11:48:24.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-10-28 16:15:16.000000000', 'files': ['releasenotes/notes/bug-1948979-aaf2a93cc016ffb1.yaml', 'tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/295e86f0851bf2bee65fc3ceabaa81e82ac12feb', 'message': 'Fix missing Ansible version in the error message\n\nChange-Id: Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b\nCloses-Bug: #1948979\n(cherry picked from commit cd13bde880811f35b7ce1627bc4261f3bf201979)\n'}]",0,815806,295e86f0851bf2bee65fc3ceabaa81e82ac12feb,12,4,1,30491,,,0,"Fix missing Ansible version in the error message

Change-Id: Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b
Closes-Bug: #1948979
(cherry picked from commit cd13bde880811f35b7ce1627bc4261f3bf201979)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/815806/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1948979-aaf2a93cc016ffb1.yaml', 'tools/kolla-ansible']",2,295e86f0851bf2bee65fc3ceabaa81e82ac12feb,bug/1948979-stable/xena-stable/wallaby," echo ""ERROR: Ansible version should be between $ANSIBLE_VERSION_MIN and $ANSIBLE_VERSION_MAX. Current version is $ansible_full_version which is not supported."""," echo ""ERROR: Ansible version should be between $ANSIBLE_VERSION_MIN and $ANSIBLE_VERSION_MAX. Current version is $ANSIBLE_VERSION_HOST which is not supported.""",6,1
openstack%2Fos-ken~master~I5bb684c75bde1512f379127520b840f55f0e42ab,openstack/os-ken,master,I5bb684c75bde1512f379127520b840f55f0e42ab,Bump min eventlet version to 0.26.1,MERGED,2021-10-27 07:42:25.000000000,2021-11-04 11:32:11.000000000,2021-11-04 11:28:27.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-27 07:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/ffc174dfd5d9867f538f93b1af31adaed28b71d5', 'message': 'Bump min eventlet version to 0.26.1\n\nThat version have fix for the issue with Python 3.7. See\n[1] for more details.\n\nIt is done instead of backporting ryu workaround\nhttps://github.com/faucetsdn/ryu/commit/ddb32f678a5e1f0bbbf2cf810bdd16871abb22d9\n\n[1] https://github.com/eventlet/eventlet/issues/526\n\nStory: #2009283\nTask: #43563\nChange-Id: I5bb684c75bde1512f379127520b840f55f0e42ab\n'}, {'number': 2, 'created': '2021-10-27 09:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/338b98158f3af6e5121c86d1195c60c2a509800a', 'message': 'Bump min eventlet version to 0.26.1\n\nThat version have fix for the issue with Python 3.7. See\n[1] for more details.\n\nIt is done instead of backporting ryu workaround\nhttps://github.com/faucetsdn/ryu/commit/ddb32f678a5e1f0bbbf2cf810bdd16871abb22d9\n\n[1] https://github.com/eventlet/eventlet/issues/526\n\nStory: #2009283\nTask: #43563\nChange-Id: I5bb684c75bde1512f379127520b840f55f0e42ab\n'}, {'number': 3, 'created': '2021-11-02 20:56:28.000000000', 'files': ['requirements.txt', 'tools/pip-requires', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/e70fe7e2050c324d58eefa9fa4af7b147553cc7c', 'message': 'Bump min eventlet version to 0.26.1\n\nThat version have fix for the issue with Python 3.7. See\n[1] for more details.\n\nIt is done instead of backporting ryu workaround\nhttps://github.com/faucetsdn/ryu/commit/ddb32f678a5e1f0bbbf2cf810bdd16871abb22d9\n\n[1] https://github.com/eventlet/eventlet/issues/526\n\nStory: #2009283\nTask: #43563\nChange-Id: I5bb684c75bde1512f379127520b840f55f0e42ab\n'}]",0,815601,e70fe7e2050c324d58eefa9fa4af7b147553cc7c,14,4,3,11975,,,0,"Bump min eventlet version to 0.26.1

That version have fix for the issue with Python 3.7. See
[1] for more details.

It is done instead of backporting ryu workaround
https://github.com/faucetsdn/ryu/commit/ddb32f678a5e1f0bbbf2cf810bdd16871abb22d9

[1] https://github.com/eventlet/eventlet/issues/526

Story: #2009283
Task: #43563
Change-Id: I5bb684c75bde1512f379127520b840f55f0e42ab
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/01/815601/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,ffc174dfd5d9867f538f93b1af31adaed28b71d5,task/43614,eventlet==0.26.1,eventlet==0.22.0,2,2
openstack%2Fkolla-ansible~master~Ic2403a98cf1c3a37829613c3bc190f1544c6182f,openstack/kolla-ansible,master,Ic2403a98cf1c3a37829613c3bc190f1544c6182f,[WIP] [CI] Ceilometer scenario,ABANDONED,2020-07-08 20:17:49.000000000,2021-11-04 11:31:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-08 20:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b6860d59b47f476cc3395f868a17534b0003eaf6', 'message': '[WIP] [CI] Ceilometer scenario\n\nChange-Id: Ic2403a98cf1c3a37829613c3bc190f1544c6182f\n'}, {'number': 2, 'created': '2020-07-08 20:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5827fe993431ff15b39a82dea55af4f79133c329', 'message': '[WIP] [CI] Ceilometer scenario\n\nChange-Id: Ic2403a98cf1c3a37829613c3bc190f1544c6182f\n'}, {'number': 3, 'created': '2020-07-09 08:36:23.000000000', 'files': ['tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e7a8fdf817d89282913efcdecb141bc0b3c1777d', 'message': '[WIP] [CI] Ceilometer scenario\n\nChange-Id: Ic2403a98cf1c3a37829613c3bc190f1544c6182f\nDepends-On: https://review.opendev.org/739992\n'}]",0,740106,e7a8fdf817d89282913efcdecb141bc0b3c1777d,14,2,3,30491,,,0,"[WIP] [CI] Ceilometer scenario

Change-Id: Ic2403a98cf1c3a37829613c3bc190f1544c6182f
Depends-On: https://review.opendev.org/739992
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/740106/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",4,b6860d59b47f476cc3395f868a17534b0003eaf6,ci-scenarios-ceilometer, - job: name: kolla-ansible-centos8-source-ceilometer parent: kolla-ansible-ceilometer-base nodeset: kolla-ansible-centos8-multi vars: base_distro: centos install_type: source - job: name: kolla-ansible-ubuntu-source-ceilometer parent: kolla-ansible-ceilometer-base nodeset: kolla-ansible-bionic-multi vars: base_distro: ubuntu install_type: source,,75,43
openstack%2Fkolla~master~Ic1e3be1b00f22eb2c12b4b67b80567466c60f329,openstack/kolla,master,Ic1e3be1b00f22eb2c12b4b67b80567466c60f329,[WIP] Build bifrost on debian,ABANDONED,2021-06-10 09:07:21.000000000,2021-11-04 11:30:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-10 09:07:21.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0901355d47e87ce2832e3113acd372a6ae22c9fd', 'message': '[WIP] Build bifrost on debian\n\nChange-Id: Ic1e3be1b00f22eb2c12b4b67b80567466c60f329\n'}]",0,795747,0901355d47e87ce2832e3113acd372a6ae22c9fd,6,2,1,30491,,,0,"[WIP] Build bifrost on debian

Change-Id: Ic1e3be1b00f22eb2c12b4b67b80567466c60f329
",git fetch https://review.opendev.org/openstack/kolla refs/changes/47/795747/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,0901355d47e87ce2832e3113acd372a6ae22c9fd,kolla-debian-bifrost,," ""bifrost-base"", # tries to install 'mysql-server' which is not in # Debian 'buster'",0,2
openstack%2Fos-ken~master~I583942287b91606642c6df4f448ebe749d391f3c,openstack/os-ken,master,I583942287b91606642c6df4f448ebe749d391f3c,"add ofproto 1.3 coverage, check key-error and attribute-error.",MERGED,2021-10-14 11:27:10.000000000,2021-11-04 11:30:34.000000000,2021-11-04 11:28:19.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-14 11:27:10.000000000', 'files': ['os_ken/controller/ofp_api.py', 'os_ken/controller/mac_to_port.py', 'os_ken/controller/controller.py', 'os_ken/ofproto/ofproto_v1_3_parser.py', 'os_ken/controller/handler.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/f1735c323e58410bb68bb8673eb1fc6d1b8f8f0b', 'message': 'add ofproto 1.3 coverage, check key-error and attribute-error.\n\nConflicts: setup.cfg\nBackport from https://github.com/faucetsdn/ryu/commit/98d4913\nStory: #2009283\nTask: #43617\n\nChange-Id: I583942287b91606642c6df4f448ebe749d391f3c\n'}]",0,813985,f1735c323e58410bb68bb8673eb1fc6d1b8f8f0b,8,3,1,8313,,,0,"add ofproto 1.3 coverage, check key-error and attribute-error.

Conflicts: setup.cfg
Backport from https://github.com/faucetsdn/ryu/commit/98d4913
Story: #2009283
Task: #43617

Change-Id: I583942287b91606642c6df4f448ebe749d391f3c
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/85/813985/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_ken/controller/ofp_api.py', 'os_ken/controller/mac_to_port.py', 'os_ken/controller/controller.py', 'os_ken/ofproto/ofproto_v1_3_parser.py', 'os_ken/controller/handler.py']",5,f1735c323e58410bb68bb8673eb1fc6d1b8f8f0b,story/2009283, if frame is not None: m_name = frame.f_back.f_globals['__name__'] m = sys.modules[m_name] m._SERVICE_NAME = service, m_name = frame.f_back.f_globals['__name__'] m = sys.modules[m_name] m._SERVICE_NAME = service,64,49
openstack%2Fkolla-ansible~stable%2Fussuri~Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,openstack/kolla-ansible,stable/ussuri,Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,Fix missing Ansible version in the error message,MERGED,2021-10-28 16:16:09.000000000,2021-11-04 11:30:24.000000000,2021-11-04 11:27:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-10-28 16:16:09.000000000', 'files': ['releasenotes/notes/bug-1948979-aaf2a93cc016ffb1.yaml', 'tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cddc4e1f55c6b20e1b53f7a45d4aa32238c23fb9', 'message': 'Fix missing Ansible version in the error message\n\nChange-Id: Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b\nCloses-Bug: #1948979\n(cherry picked from commit cd13bde880811f35b7ce1627bc4261f3bf201979)\n'}]",0,815809,cddc4e1f55c6b20e1b53f7a45d4aa32238c23fb9,11,3,1,30491,,,0,"Fix missing Ansible version in the error message

Change-Id: Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b
Closes-Bug: #1948979
(cherry picked from commit cd13bde880811f35b7ce1627bc4261f3bf201979)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/09/815809/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1948979-aaf2a93cc016ffb1.yaml', 'tools/kolla-ansible']",2,cddc4e1f55c6b20e1b53f7a45d4aa32238c23fb9,bug/1948979-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," echo ""ERROR: Ansible version should be between $ANSIBLE_VERSION_MIN and $ANSIBLE_VERSION_MAX. Current version is $ansible_full_version which is not supported."""," echo ""ERROR: Ansible version should be between $ANSIBLE_VERSION_MIN and $ANSIBLE_VERSION_MAX. Current version is $ANSIBLE_VERSION_HOST which is not supported.""",6,1
openstack%2Fkolla-ansible~master~I8b0e684634028b0ff110f22067e5ba56b373fb56,openstack/kolla-ansible,master,I8b0e684634028b0ff110f22067e5ba56b373fb56,[DNM] Test Ansible 2.10.0rc1,ABANDONED,2020-09-17 09:49:11.000000000,2021-11-04 11:29:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-17 09:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/72aa02e0e79884d673cddeb4c5e7c5ac9a0034c5', 'message': '[DNM] Test Ansible 2.10.0rc1\n\nChange-Id: I8b0e684634028b0ff110f22067e5ba56b373fb56\n'}, {'number': 2, 'created': '2020-09-17 11:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf313f5aba736d63377bde103b5d290905306c0c', 'message': '[DNM] Test Ansible 2.10.0rc1\n\nChange-Id: I8b0e684634028b0ff110f22067e5ba56b373fb56\n'}, {'number': 3, 'created': '2020-09-20 10:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/993d31c4fd71bf1c02220eae71bbfd7594569606', 'message': '[DNM] Test Ansible 2.10.0rc1\n\nChange-Id: I8b0e684634028b0ff110f22067e5ba56b373fb56\n'}, {'number': 4, 'created': '2020-09-21 07:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f02db07cf756c64eff60963f29e2f1bdbdacaa1a', 'message': '[DNM] Test Ansible 2.10.0rc1\n\nChange-Id: I8b0e684634028b0ff110f22067e5ba56b373fb56\n'}, {'number': 5, 'created': '2020-09-21 08:45:24.000000000', 'files': ['tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'tools/kolla-ansible', 'ansible/roles/prechecks/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/03218de5e5fd1385f665d2dfec9650593fcb3008', 'message': '[DNM] Test Ansible 2.10.0rc1\n\nChange-Id: I8b0e684634028b0ff110f22067e5ba56b373fb56\n'}]",0,752420,03218de5e5fd1385f665d2dfec9650593fcb3008,21,2,5,30491,,,0,"[DNM] Test Ansible 2.10.0rc1

Change-Id: I8b0e684634028b0ff110f22067e5ba56b373fb56
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/752420/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'zuul.d/base.yaml', 'tools/kolla-ansible']",3,72aa02e0e79884d673cddeb4c5e7c5ac9a0034c5,dnm-ansible-2.10-patch2, local ANSIBLE_VERSION_MAX=2.10, local ANSIBLE_VERSION_MAX=2.9,4,2
openstack%2Fkolla-ansible~master~I37a72cf4896593fbd2b31c8dd920b1e083a682d3,openstack/kolla-ansible,master,I37a72cf4896593fbd2b31c8dd920b1e083a682d3,[DNM] CI test with building,ABANDONED,2021-04-09 16:10:25.000000000,2021-11-04 11:28:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-09 16:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3b79354719fe07ebff5beb64be7e7ee7fc3deb66', 'message': '[DNM] Test Wallaby\n\nBuild Wallaby images and test all scenarios.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/785500\nChange-Id: I37a72cf4896593fbd2b31c8dd920b1e083a682d3\n'}, {'number': 2, 'created': '2021-04-24 18:47:04.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/89ee5c181e9a633df9cd2bdc8b21e780d124494f', 'message': '[DNM] CI test with building\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/713140\nChange-Id: I37a72cf4896593fbd2b31c8dd920b1e083a682d3\n'}]",0,785676,89ee5c181e9a633df9cd2bdc8b21e780d124494f,8,1,2,30491,,,0,"[DNM] CI test with building

Depends-On: https://review.opendev.org/c/openstack/kolla/+/713140
Change-Id: I37a72cf4896593fbd2b31c8dd920b1e083a682d3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/785676/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,3b79354719fe07ebff5beb64be7e7ee7fc3deb66,test-wallaby, testme: testmeee,,1,0
openstack%2Fkolla-ansible~master~I71d0dc70092fd63f8c913e3b9421549d7dd96d43,openstack/kolla-ansible,master,I71d0dc70092fd63f8c913e3b9421549d7dd96d43,[DNM] [CI] Check Prometheus scenario,ABANDONED,2021-05-06 07:55:53.000000000,2021-11-04 11:28:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-05-06 07:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/29edb91561be848b6789b765cbd14af7aa3efc6b', 'message': '[DNM] [CI] Check Prometheus scenario\n\nChange-Id: I71d0dc70092fd63f8c913e3b9421549d7dd96d43\n'}, {'number': 2, 'created': '2021-05-06 10:37:13.000000000', 'files': ['ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f3d79dbe5b6cb44a184a0dc0e005600276fc3ad', 'message': '[DNM] [CI] Check Prometheus scenario\n\nChange-Id: I71d0dc70092fd63f8c913e3b9421549d7dd96d43\n'}]",0,790008,6f3d79dbe5b6cb44a184a0dc0e005600276fc3ad,7,2,2,30491,,,0,"[DNM] [CI] Check Prometheus scenario

Change-Id: I71d0dc70092fd63f8c913e3b9421549d7dd96d43
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/790008/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/project.yaml']",2,29edb91561be848b6789b765cbd14af7aa3efc6b,dnm-prometheus, # templates: # - check-requirements # - openstack-cover-jobs # - openstack-python3-xena-jobs # - ansible-role-jobs # - publish-openstack-docs-pti # - release-notes-jobs-python3 # - periodic-stable-jobs, templates: - check-requirements - openstack-cover-jobs - openstack-python3-xena-jobs - ansible-role-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs,10,9
openstack%2Fansible-collections-openstack~master~Iad288c3c11d0791be33b379554577eab8381b44d,openstack/ansible-collections-openstack,master,Iad288c3c11d0791be33b379554577eab8381b44d,Fix issue with same host and group names,MERGED,2021-11-02 09:43:12.000000000,2021-11-04 11:06:02.000000000,2021-11-04 11:06:02.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 09:43:12.000000000', 'files': ['plugins/inventory/openstack.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/11c7cd23f8f7e85283bc242bffc6d8f4a6f13d8e', 'message': 'Fix issue with same host and group names\n\nWhen host and group name is the same, the inventory fails to run.\nUse different method of adding host to inventory with this case.\n\nFixes rhbz#2017495\nChange-Id: Iad288c3c11d0791be33b379554577eab8381b44d\n'}]",0,816311,11c7cd23f8f7e85283bc242bffc6d8f4a6f13d8e,6,2,1,10969,,,0,"Fix issue with same host and group names

When host and group name is the same, the inventory fails to run.
Use different method of adding host to inventory with this case.

Fixes rhbz#2017495
Change-Id: Iad288c3c11d0791be33b379554577eab8381b44d
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/11/816311/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/inventory/openstack.py'],1,11c7cd23f8f7e85283bc242bffc6d8f4a6f13d8e,hh," if gname == host: display.vvvv(""Same name for host %s and group %s"" % (host, gname)) self.inventory.add_host(host, gname) else: self.inventory.add_child(gname, host)"," self.inventory.add_child(gname, host)",5,1
openstack%2Fpuppet-placement~master~I91e9506cd1e88cc3dddaa1d2c17f9fa9550e3aec,openstack/puppet-placement,master,I91e9506cd1e88cc3dddaa1d2c17f9fa9550e3aec,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 12:02:43.000000000,2021-11-04 11:05:54.000000000,2021-11-04 11:03:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 12:02:43.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-4e567f601231f731.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/d3d7cd9edf4103597dab79af2fe15808b2df5127', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: I91e9506cd1e88cc3dddaa1d2c17f9fa9550e3aec\n""}]",2,816494,d3d7cd9edf4103597dab79af2fe15808b2df5127,14,3,1,9816,,,0,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I91e9506cd1e88cc3dddaa1d2c17f9fa9550e3aec
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/94/816494/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-4e567f601231f731.yaml']",2,d3d7cd9edf4103597dab79af2fe15808b2df5127,apache-ssl,--- upgrade: - | Default value of the ``placement::wsgi::apache::ssl`` parameter will be changed from ``true`` to ``false`` in a future release. Make sure the parameter is set to the desired value. ,,14,3
openstack%2Fkolla-ansible~master~I1331698e313bd714a16fc35f38fb579d75b56370,openstack/kolla-ansible,master,I1331698e313bd714a16fc35f38fb579d75b56370,mariadb: use add_host to include inactive hosts in shard grouping,MERGED,2021-10-16 19:06:04.000000000,2021-11-04 11:05:03.000000000,2021-11-04 11:02:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-10-16 19:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4a92f9d4931781881e1e5ec8256a37b12561b64b', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\n'}, {'number': 2, 'created': '2021-10-18 12:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc82eda7c3c2f65050755968ae068393470f10d0', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\n'}, {'number': 3, 'created': '2021-10-18 13:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4110d07c33a106438478384ad2f0f5fbcac64958', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\nCloses-Bug: #1947589\n'}, {'number': 4, 'created': '2021-10-18 16:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/721a311d4b8fb9500d9c773117be56d9cff95ed0', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\nCloses-Bug: #1947589\n'}, {'number': 5, 'created': '2021-10-19 08:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0807773efe0c8853c42ee7e87151fee0bcf298a7', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\nCloses-Bug: #1947589\n'}, {'number': 6, 'created': '2021-10-19 17:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e5bf4b70ae5277fe6c16390db7ba5f06346ab49', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\nCloses-Bug: #1947589\n'}, {'number': 7, 'created': '2021-10-19 22:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6379a561e2098750ca31157c823e76614c4fe6a7', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\nCloses-Bug: #1947589\n'}, {'number': 8, 'created': '2021-10-19 22:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/33781b6496e120a32089419c3e2441d9cb1d9044', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\nCloses-Bug: #1947589\n'}, {'number': 9, 'created': '2021-10-20 00:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/49e9a9fcee8fb29f4dcd82466bd49f074de16706', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\nCloses-Bug: #1947589\n'}, {'number': 10, 'created': '2021-10-22 07:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1238585c502d004583839c48670aa447e8446bd', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\nCloses-Bug: #1947589\n'}, {'number': 11, 'created': '2021-10-22 11:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0e2fd5fb498acc2e5df644497d9d7ec2cbf7f330', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\n'}, {'number': 12, 'created': '2021-10-22 12:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f495ce5ab2b3cac3bea88d85fd2238699a14424', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\n'}, {'number': 13, 'created': '2021-10-22 13:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f4c7c13b1cc568f08a9a5f6f5dea70acc9efae5', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\n'}, {'number': 14, 'created': '2021-10-27 23:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c091dac005244fe031a14fcd344cab7e53d9f55', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\nCloses-Bug: #1947589\n'}, {'number': 15, 'created': '2021-10-28 16:29:05.000000000', 'files': ['ansible/group_vars/all.yml', 'releasenotes/notes/bug-1947589-52e7a6fa5d82e7fa.yaml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/mariadb/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68cd2a055371cc25a0502ff4db22fbcdececd478', 'message': 'mariadb: use add_host to include inactive hosts in shard grouping\n\nIn case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.\nUsing add_host will add all hosts in mariadb group to their shards group\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I1331698e313bd714a16fc35f38fb579d75b56370\nCloses-Bug: #1947589\n'}]",58,814276,68cd2a055371cc25a0502ff4db22fbcdececd478,94,5,15,33826,,,0,"mariadb: use add_host to include inactive hosts in shard grouping

In case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.
Using add_host will add all hosts in mariadb group to their shards group

Signed-off-by: Seena Fallah <seenafallah@gmail.com>
Change-Id: I1331698e313bd714a16fc35f38fb579d75b56370
Closes-Bug: #1947589
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/814276/10 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/mariadb/tasks/main.yml']",3,4a92f9d4931781881e1e5ec8256a37b12561b64b,mariadb-shard-groups," add_host: name: ""{{ item }}"" groups: ""{{ hostvars[item]['mariadb_shard_group'] }}"" loop: ""{{ groups['mariadb'] }}"""," group_by: key: ""{{ mariadb_shard_group }}"" changed_when: false",8,11
openstack%2Fcyborg-specs~master~I06ec2391b232022f5bb449591ed7d344b76cb6fd,openstack/cyborg-specs,master,I06ec2391b232022f5bb449591ed7d344b76cb6fd,Support to getting the device profile by the name,MERGED,2021-10-08 12:46:53.000000000,2021-11-04 10:58:47.000000000,2021-11-04 10:56:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-10-08 12:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/38005cd2eedc9cea18b7f0504d7ed58fbbd3a340', 'message': ""Supporting to getting the device profile by the name\n\nNowadays, A device_profile can only be got by it's UUID, but the field 'name' is\nalready supported. This spec adds the support that showing a device_profile by\nit's name in 'python-cyborgclient'.\n\nImplements: show-resource-with-name\nChange-Id: I06ec2391b232022f5bb449591ed7d344b76cb6fd\n""}, {'number': 2, 'created': '2021-10-08 12:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/e25cd0e41e1bc5cdd6fdf367c4410997cd9affd6', 'message': ""Support to getting the device profile by the name\n\nNowadays, A device_profile can only be got by it's UUID, but the\nfield 'name' is already supported. This spec adds the support\nthat showing a device_profile by it's name in 'python-cyborgclient'.\n\nImplements: show-resource-with-name\nChange-Id: I06ec2391b232022f5bb449591ed7d344b76cb6fd\n""}, {'number': 3, 'created': '2021-10-09 01:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/066c874c6bcca0fcdd6c2128fce02a472fbfc63b', 'message': ""Support to getting the device profile by the name\n\nNowadays, A device_profile can only be got by it's UUID, but the\nfield 'name' is already supported. This spec adds the support\nthat showing a device_profile by it's name in 'python-cyborgclient'.\n\nImplements: show-resource-with-name\nChange-Id: I06ec2391b232022f5bb449591ed7d344b76cb6fd\n""}, {'number': 4, 'created': '2021-10-28 07:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/c64ac8bcb701caa2c3e47b9a918f914594feabc8', 'message': ""Support to getting the device profile by the name\n\nNowadays, A device_profile can only be got by it's UUID, but the\nfield 'name' is already supported. This spec adds the support\nthat showing a device_profile by it's name in 'python-cyborgclient'.\n\nImplements: show-resource-with-name\nChange-Id: I06ec2391b232022f5bb449591ed7d344b76cb6fd\n""}, {'number': 5, 'created': '2021-10-29 07:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/a4166095a6e2b6b8dd66a672d8800be7cce7bcd6', 'message': ""Support to getting the device profile by the name\n\nNowadays, A device_profile can only be got by it's UUID, but the\nfield 'name' is already supported. This spec adds the support\nthat showing a device_profile by it's name in 'python-cyborgclient'.\n\nImplements: show-resource-with-name\nChange-Id: I06ec2391b232022f5bb449591ed7d344b76cb6fd\n""}, {'number': 6, 'created': '2021-11-01 07:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/a4663358611f6cf6d288efe844eee61e4734dd6f', 'message': ""Support to getting the device profile by the name\n\nNowadays, A device_profile can only be got by it's UUID, but the\nfield 'name' is already supported. This spec adds the support\nthat showing a device_profile by it's name in 'python-cyborgclient'.\nAlso add one 'name' filter for listing device profile in\n'python-cyborgclient'.\n\nImplements: show-resource-with-name\nChange-Id: I06ec2391b232022f5bb449591ed7d344b76cb6fd\n""}, {'number': 7, 'created': '2021-11-03 07:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/11a597a71d73b979b7c056185f677249a90cf342', 'message': ""Support to getting the device profile by the name\n\nNowadays, A device_profile can only be got by it's UUID, but the\nfield 'name' is already supported. This spec adds the support\nthat showing a device_profile by it's name in 'python-cyborgclient'.\nAlso add one 'name' filter for listing device profile in\n'python-cyborgclient'.\n\nImplements: show-resource-with-name\nChange-Id: I06ec2391b232022f5bb449591ed7d344b76cb6fd\n""}, {'number': 8, 'created': '2021-11-03 09:26:00.000000000', 'files': ['specs/yoga/approved/show-dp-by-name.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/d28b148cf5f68ba1a52e62fae6e19bbdc7591407', 'message': ""Support to getting the device profile by the name\n\nNowadays, A device_profile can only be got by it's UUID, but the\nfield 'name' is already supported. This spec adds the support\nthat showing a device_profile by it's name in 'python-cyborgclient'.\nAlso add one 'name' filter for listing device profile in\n'python-cyborgclient'.\n\nImplements: show-resource-with-name\nChange-Id: I06ec2391b232022f5bb449591ed7d344b76cb6fd\n""}]",38,813183,d28b148cf5f68ba1a52e62fae6e19bbdc7591407,32,5,8,23950,,,0,"Support to getting the device profile by the name

Nowadays, A device_profile can only be got by it's UUID, but the
field 'name' is already supported. This spec adds the support
that showing a device_profile by it's name in 'python-cyborgclient'.
Also add one 'name' filter for listing device profile in
'python-cyborgclient'.

Implements: show-resource-with-name
Change-Id: I06ec2391b232022f5bb449591ed7d344b76cb6fd
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/83/813183/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/approved/show-dp-by-name.rst'],1,38005cd2eedc9cea18b7f0504d7ed58fbbd3a340,bp/show-resource-with-name,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== Show device_profile by name =========================== https://blueprints.launchpad.net/openstack-cyborg/+spec/show-resource-with-name Nowadays, A device_profile can only be got by it's UUID, but the field 'name' is already supported. This spec adds the support that showing a device_profile by it's name in 'python-cyborgclient'. Problem description =================== When using `openstack accelerator device profile show` command to getting one device profile, the '<uuid>' of the device profile is only accepted. The device profile has 'name' field that can display in humanable manner. So end-users prefer to use name instead of hard-to-remember UUID that this may reduce the need to list first and then use UUID to query details. Use Cases --------- * As an administrator or regular user, i want to get the details of the device profile by the name. Proposed change =============== In 'python-cyborgclient', extend 'cyborgclient.osc.v2.device_profile.ShowDeviceProfile' to add support for name. In 'cyborg', change the api 'cyborg.api.controllers.v2.device_profiles.DeviceProfilesController.get_one()' to support to accepting the 'name' as the input. The method 'cyborg.api.controllers.v2.device_profiles.DeviceProfilesController' '._get_device_profile_list()' already has the arg 'name', so the spec only needs make a little change in the 'get_one()'. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- A microversion need to be introduced since the Device Profile API changed. Get Device Profile API ^^^^^^^^^^^^^^^^^^^^^^ GET /v2/device_profiles/{device_profile} The 'device_profile' should be uuid or name, the response has not changed. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Eric Xie(eric_xiett@163.com) Work Items ---------- * Extend 'python-cyborgclient' to support 'name' * Change the device profile get api to support 'name' Dependencies ============ None Testing ======= Need add unit test. Documentation Impact ==================== Change the 'api-ref/source/device_profile.inc' to using the 'name' as one input parameter. References ========== None History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Yoga - Introduced ",,139,0
openstack%2Fcharm-ceph-dashboard~master~Ibd616cdf9a08fa990fd2c49024c88f5529e24128,openstack/charm-ceph-dashboard,master,Ibd616cdf9a08fa990fd2c49024c88f5529e24128,Improve README,MERGED,2021-10-27 18:07:09.000000000,2021-11-04 10:57:57.000000000,2021-11-04 10:57:57.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-27 18:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/97ede21f7d50dcd141064f0cf9ae67fd320101b8', 'message': 'Improve README\n\nSome essential bits were missing from the initial\n21.10 release. It would be great if this change\ncould be backported.\n\nChange-Id: Ibd616cdf9a08fa990fd2c49024c88f5529e24128\n'}, {'number': 2, 'created': '2021-11-03 10:15:32.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/3534b8c3a2193fc2c3afdc5bc0e968bc4ff58cc0', 'message': 'Improve README\n\nSome essential bits were missing from the initial\n21.10 release. It would be great if this change\ncould be backported.\n\nChange-Id: Ibd616cdf9a08fa990fd2c49024c88f5529e24128\n'}]",2,815722,3534b8c3a2193fc2c3afdc5bc0e968bc4ff58cc0,12,3,2,30561,,,0,"Improve README

Some essential bits were missing from the initial
21.10 release. It would be great if this change
could be backported.

Change-Id: Ibd616cdf9a08fa990fd2c49024c88f5529e24128
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/22/815722/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,97ede21f7d50dcd141064f0cf9ae67fd320101b8,improve-readme,"a built-in web-based Ceph management and monitoring application. It works in conjunction with the [openstack-loadbalancer][loadbalancer-charm] charm, which in turn utilises the [hacluster][hacluster-charm] charm. > **Note**: The ceph-dashboard charm is currently in tech-preview.### Load balancer The dashboard is accessed via a load balancer using VIPs and implemented via the openstack-loadbalancer and hacluster charms: juju deploy -n 3 --config vip=10.5.20.200 cs:~openstack-charmers/openstack-loadbalancer juju deploy hacluster openstack-loadbalancer-hacluster juju add-relation openstack-loadbalancer:ha openstack-loadbalancer-hacluster:ha Now add a relation between the openstack-loadbalancer and ceph-dashboard applications: juju add-relation ceph-dashboard:loadbalancer openstack-loadbalancer:loadbalancer ### Dashboard user Credentials are needed to log in to the dashboard. Set these up by applying an action to any ceph-dashboard unit. For example, to create an administrator user called 'admin': juju run-action --wait ceph-dashboard/0 add-user username=admin role=administrator The command's output will include a generated password. The dashboard can then be accessed on the configured VIP and on port 8443: https://10.5.20.200:8443 juju add-relation ceph-dashboard:radosgw-dashboard ceph-radosgw:radosgw-user[loadbalancer-charm]: https://jaas.ai/u/openstack-charmers/openstack-loadbalancer [hacluster-charm]: https://jaas.ai/hacluster",a built-in web-based Ceph management and monitoring application. juju relate ceph-dashboard:radosgw-dashboard ceph-radosgw:radosgw-user,36,2
openstack%2Fkolla-ansible~master~I4fc5de6e7e520266390d9d29753d983e2ab61aa8,openstack/kolla-ansible,master,I4fc5de6e7e520266390d9d29753d983e2ab61aa8,[DNM] [CI] TLS everywhere,ABANDONED,2021-05-29 08:50:25.000000000,2021-11-04 10:42:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-29 08:50:25.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/af579897f4de5a045783d2099a6ca1e87a4e7094', 'message': '[DNM] [CI] TLS everywhere\n\nChange-Id: I4fc5de6e7e520266390d9d29753d983e2ab61aa8\n'}]",0,793655,af579897f4de5a045783d2099a6ca1e87a4e7094,5,1,1,30491,,,0,"[DNM] [CI] TLS everywhere

Change-Id: I4fc5de6e7e520266390d9d29753d983e2ab61aa8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/793655/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,af579897f4de5a045783d2099a6ca1e87a4e7094,ci-all-tls, tls_enabled: true, tls_enabled: false,1,1
openstack%2Fkolla-ansible~stable%2Fvictoria~I4fc5de6e7e520266390d9d29753d983e2ab61aa8,openstack/kolla-ansible,stable/victoria,I4fc5de6e7e520266390d9d29753d983e2ab61aa8,[DNM] [CI] TLS everywhere,ABANDONED,2021-05-29 08:53:41.000000000,2021-11-04 10:42:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-29 08:53:41.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/745eb77931a0bbb0c5ee81eb5c62d4ed9129763d', 'message': '[DNM] [CI] TLS everywhere\n\nChange-Id: I4fc5de6e7e520266390d9d29753d983e2ab61aa8\n'}]",0,793674,745eb77931a0bbb0c5ee81eb5c62d4ed9129763d,7,1,1,30491,,,0,"[DNM] [CI] TLS everywhere

Change-Id: I4fc5de6e7e520266390d9d29753d983e2ab61aa8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/74/793674/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,745eb77931a0bbb0c5ee81eb5c62d4ed9129763d,ci-all-tls-stable/wallaby-stable/victoria, tls_enabled: true, tls_enabled: false,1,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I4fc5de6e7e520266390d9d29753d983e2ab61aa8,openstack/kolla-ansible,stable/wallaby,I4fc5de6e7e520266390d9d29753d983e2ab61aa8,[DNM] [CI] TLS everywhere,ABANDONED,2021-05-29 08:52:33.000000000,2021-11-04 10:42:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-29 08:52:33.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3503f1c6d0728f149b356332306d32f038c3c641', 'message': '[DNM] [CI] TLS everywhere\n\nChange-Id: I4fc5de6e7e520266390d9d29753d983e2ab61aa8\n'}]",0,793673,3503f1c6d0728f149b356332306d32f038c3c641,3,1,1,30491,,,0,"[DNM] [CI] TLS everywhere

Change-Id: I4fc5de6e7e520266390d9d29753d983e2ab61aa8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/793673/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,3503f1c6d0728f149b356332306d32f038c3c641,ci-all-tls-stable/wallaby, tls_enabled: true, tls_enabled: false,1,1
openstack%2Fnova~stable%2Fxena~Ic0d6c59147abe5e094e8f13e0d3523b178daeba9,openstack/nova,stable/xena,Ic0d6c59147abe5e094e8f13e0d3523b178daeba9,Store old_flavor already on source host during resize,MERGED,2021-09-24 13:50:56.000000000,2021-11-04 10:41:27.000000000,2021-11-04 10:34:02.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-24 13:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8b92ddad5787a222b9dc8a78fbb050332170c65', 'message': ""Store old_flavor already on source host during resize\n\nDuring resize, on the source host, in resize_instance(), the instance.host\nand .node is updated to point to the destination host. This indicates to\nthe source host's resource tracker that the allocation of this instance\ndoes not need to be tracked as an instance but as an outbound migration\ninstead. However for the source host's resource tracker to do that it,\nneeds to use the instance.old_flavor. Unfortunately the\ninstance.old_flavor is only set during finish_resize() on the\ndestination host. (resize_instance cast to the finish_resize). So it is\npossible that a running resize_instance() set the instance.host to point\nto the destination and then before the finish_resize could set the\nold_flavor an update_available_resources periodic runs on the source\nhost. This causes that the allocation of this instance is not tracked as\nan instance as the instance.host point to the destination but it is not\ntracked as a migration either as the instance.old_flavor is not yet set.\nSo the allocation on the source host is simply dropped by the periodic\njob.\n\nWhen such migration is confirmed the confirm_resize() tries to drop\nthe same resource allocation again but fails as the pinned CPUs of the\ninstance already freed.\n\nWhen such migration is reverted instead, then revert succeeds but the\nsource host resource allocation will not contain the resource allocation\nof the instance until the next update_available_resources periodic runs\nand corrects it.\n\nThis does not affect resources tracked exclusively in placement (e.g.\nVCPU, MEMORY_MB, DISK_GB) but it does affect NUMA related resource that\nare still tracked in the resource tracker (e.g. huge pages, pinned\nCPUs).\n\nThis patch moves the instance.old_flavor setting to the source node to\nthe same transaction that sets the instance.host to point to the\ndestination host. Hence solving the race condition.\n\nChange-Id: Ic0d6c59147abe5e094e8f13e0d3523b178daeba9\nCloses-Bug: #1944759\n(cherry picked from commit 1b0c5a11526a649d330f7de281ed33f90e49e255)\n""}, {'number': 2, 'created': '2021-09-27 12:39:45.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d4edcd62bae44c01885268a6cf7b7fae92617060', 'message': ""Store old_flavor already on source host during resize\n\nDuring resize, on the source host, in resize_instance(), the instance.host\nand .node is updated to point to the destination host. This indicates to\nthe source host's resource tracker that the allocation of this instance\ndoes not need to be tracked as an instance but as an outbound migration\ninstead. However for the source host's resource tracker to do that it,\nneeds to use the instance.old_flavor. Unfortunately the\ninstance.old_flavor is only set during finish_resize() on the\ndestination host. (resize_instance cast to the finish_resize). So it is\npossible that a running resize_instance() set the instance.host to point\nto the destination and then before the finish_resize could set the\nold_flavor an update_available_resources periodic runs on the source\nhost. This causes that the allocation of this instance is not tracked as\nan instance as the instance.host point to the destination but it is not\ntracked as a migration either as the instance.old_flavor is not yet set.\nSo the allocation on the source host is simply dropped by the periodic\njob.\n\nWhen such migration is confirmed the confirm_resize() tries to drop\nthe same resource allocation again but fails as the pinned CPUs of the\ninstance already freed.\n\nWhen such migration is reverted instead, then revert succeeds but the\nsource host resource allocation will not contain the resource allocation\nof the instance until the next update_available_resources periodic runs\nand corrects it.\n\nThis does not affect resources tracked exclusively in placement (e.g.\nVCPU, MEMORY_MB, DISK_GB) but it does affect NUMA related resource that\nare still tracked in the resource tracker (e.g. huge pages, pinned\nCPUs).\n\nThis patch moves the instance.old_flavor setting to the source node to\nthe same transaction that sets the instance.host to point to the\ndestination host. Hence solving the race condition.\n\nChange-Id: Ic0d6c59147abe5e094e8f13e0d3523b178daeba9\nCloses-Bug: #1944759\n(cherry picked from commit b841e553214be9a732703e2dfed6c97698ef9b71)\n""}]",2,810911,d4edcd62bae44c01885268a6cf7b7fae92617060,12,3,2,9708,,,0,"Store old_flavor already on source host during resize

During resize, on the source host, in resize_instance(), the instance.host
and .node is updated to point to the destination host. This indicates to
the source host's resource tracker that the allocation of this instance
does not need to be tracked as an instance but as an outbound migration
instead. However for the source host's resource tracker to do that it,
needs to use the instance.old_flavor. Unfortunately the
instance.old_flavor is only set during finish_resize() on the
destination host. (resize_instance cast to the finish_resize). So it is
possible that a running resize_instance() set the instance.host to point
to the destination and then before the finish_resize could set the
old_flavor an update_available_resources periodic runs on the source
host. This causes that the allocation of this instance is not tracked as
an instance as the instance.host point to the destination but it is not
tracked as a migration either as the instance.old_flavor is not yet set.
So the allocation on the source host is simply dropped by the periodic
job.

When such migration is confirmed the confirm_resize() tries to drop
the same resource allocation again but fails as the pinned CPUs of the
instance already freed.

When such migration is reverted instead, then revert succeeds but the
source host resource allocation will not contain the resource allocation
of the instance until the next update_available_resources periodic runs
and corrects it.

This does not affect resources tracked exclusively in placement (e.g.
VCPU, MEMORY_MB, DISK_GB) but it does affect NUMA related resource that
are still tracked in the resource tracker (e.g. huge pages, pinned
CPUs).

This patch moves the instance.old_flavor setting to the source node to
the same transaction that sets the instance.host to point to the
destination host. Hence solving the race condition.

Change-Id: Ic0d6c59147abe5e094e8f13e0d3523b178daeba9
Closes-Bug: #1944759
(cherry picked from commit b841e553214be9a732703e2dfed6c97698ef9b71)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/810911/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,c8b92ddad5787a222b9dc8a78fbb050332170c65,bug/1944759," # we have 2 cpus pinned on both computes. The source should have it # due to the outbound migration and the destination due to the # instance running there self._assert_pinned_cpus(src_host, 2) self.api.post_server_action(server['id'], post) self._wait_for_state_change(server, 'ACTIVE') # the resource allocation reflects that the VM is running on the dest # node # and running periodics does not break it either # After the revert the source host should have 2 cpus pinned due to # the instance. self._assert_pinned_cpus(src_host, 2) # running the periodic job will not break it either"," # This is a resource accounting bug, we should have 2 cpus pinned on # both computes. The source should have it due to the outbound # migration and the destination due to the instance running there self._assert_pinned_cpus(src_host, 0) # FIXME(gibi): This is bug 1944759 where during resize, on the source # node the resize_instance() call at the point of calling finish_resize # overlaps with a update_available_resources() periodic job. This # causes that the periodic job will not track the migration nor the # instance and therefore freeing the resource allocation. Then when # later the resize is confirmed the confirm_resize on the source # compute also wants to free up the resources, the pinned CPUs, and it # fails as they are already freed. exc = self.assertRaises( client.OpenStackApiException, self.api.post_server_action, server['id'], post ) self.assertEqual(500, exc.response.status_code) self.assertIn('CPUUnpinningInvalid', str(exc)) # confirm failed above but the resource allocation reflects that the # VM is running on the dest node # and such allocation situation is stable so as a recovery the VM # can be reset-state to ACTIVE without problem. # This is a resource accounting bug. After the revert the source host # should have 2 cpus pinned due to the instance. self._assert_pinned_cpus(src_host, 0) # running the periodic job will fix the resource accounting # this is now correct",21,28
openstack%2Fkolla-ansible~stable%2Fstein~Idcbc134cdfa4a598d3e4510df7b1040cb656aece,openstack/kolla-ansible,stable/stein,Idcbc134cdfa4a598d3e4510df7b1040cb656aece,[DNM] Dummy (Stein),ABANDONED,2020-09-13 09:13:29.000000000,2021-11-04 10:38:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-13 09:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a08518adc325dd45d8fb49980a0c5ff5482e9e48', 'message': '[DNM] Dummy (Stein)\n\nTo run all jobs.\n\nChange-Id: Idcbc134cdfa4a598d3e4510df7b1040cb656aece\n'}]",0,751606,a08518adc325dd45d8fb49980a0c5ff5482e9e48,4,2,1,30491,,,0,"[DNM] Dummy (Stein)

To run all jobs.

Change-Id: Idcbc134cdfa4a598d3e4510df7b1040cb656aece
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/751606/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,a08518adc325dd45d8fb49980a0c5ff5482e9e48,,,,0,0
openstack%2Fpython-openstackclient~stable%2Ftrain~I510383f8e0cbf05ec24caa1cad330f12f82a913d,openstack/python-openstackclient,stable/train,I510383f8e0cbf05ec24caa1cad330f12f82a913d,Make volume backup record commands available in v3,ABANDONED,2020-07-07 11:00:12.000000000,2021-11-04 10:38:43.000000000,,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-07 11:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e66e4239b723cbe3cf44bc1b09a10e12c948c5dd', 'message': 'Make volume backup record commands available in v3\n\nThey work just fine in Volume API v3 but they were limited in OSC\nto v2.\n\nChange-Id: I510383f8e0cbf05ec24caa1cad330f12f82a913d\nStory: 2007896\nTask: 40279\n(cherry picked from commit b1fc587a6d4eac795a5bc27c2dffd2d876161caa)\n'}, {'number': 2, 'created': '2020-08-19 18:07:46.000000000', 'files': ['setup.cfg', 'releasenotes/notes/task-40279-eb0d718ac1959c50.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3b250582bb770fda5755d72a3733a3618b4d6006', 'message': 'Make volume backup record commands available in v3\n\nThey work just fine in Volume API v3 but they were limited in OSC\nto v2.\n\nChange-Id: I510383f8e0cbf05ec24caa1cad330f12f82a913d\nStory: 2007896\nTask: 40279\n(cherry picked from commit b1fc587a6d4eac795a5bc27c2dffd2d876161caa)\n(cherry picked from commit 5b25ea899e023bcd3d7384cca943f9844bcb0b79)\n'}]",0,739704,3b250582bb770fda5755d72a3733a3618b4d6006,14,5,2,30491,,,0,"Make volume backup record commands available in v3

They work just fine in Volume API v3 but they were limited in OSC
to v2.

Change-Id: I510383f8e0cbf05ec24caa1cad330f12f82a913d
Story: 2007896
Task: 40279
(cherry picked from commit b1fc587a6d4eac795a5bc27c2dffd2d876161caa)
(cherry picked from commit 5b25ea899e023bcd3d7384cca943f9844bcb0b79)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/04/739704/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'releasenotes/notes/task-40279-eb0d718ac1959c50.yaml']",2,e66e4239b723cbe3cf44bc1b09a10e12c948c5dd,story/2007896,--- fixes: - | Makes ``volume backup record`` commands available in Volume API v3. `Task 40279 <https://storyboard.openstack.org/#!/story/2007896>`__ ,,8,0
openstack%2Fkolla-ansible~stable%2Fussuri~Ic08d461e6fdf91c378a87860765a489c2f86d690,openstack/kolla-ansible,stable/ussuri,Ic08d461e6fdf91c378a87860765a489c2f86d690,[CI] Cinder upgrade testing,ABANDONED,2021-09-09 14:41:20.000000000,2021-11-04 10:35:35.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 29880}]","[{'number': 1, 'created': '2021-09-09 14:41:20.000000000', 'files': ['tests/run.yml', 'tests/test-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e766aaf853984b07a2fcf1d82ea220ae2f1b196', 'message': '[CI] Cinder upgrade testing\n\nTo gain visibility into how our upgrades affect existing Cinder\nvolumes, a new testing path is required.\nThis patch adds it.\n\nAdditionally, it refactors the repeated actions and ensures that\nwe wait for volume deletions as well.\n\nChange-Id: Ic08d461e6fdf91c378a87860765a489c2f86d690\nRelated-Bug: #1904062\n(cherry picked from commit 62b8c6b68413330da032d14b45c6fbd340ec9e2d)\n'}]",5,808004,4e766aaf853984b07a2fcf1d82ea220ae2f1b196,17,4,1,30491,,,0,"[CI] Cinder upgrade testing

To gain visibility into how our upgrades affect existing Cinder
volumes, a new testing path is required.
This patch adds it.

Additionally, it refactors the repeated actions and ensures that
we wait for volume deletions as well.

Change-Id: Ic08d461e6fdf91c378a87860765a489c2f86d690
Related-Bug: #1904062
(cherry picked from commit 62b8c6b68413330da032d14b45c6fbd340ec9e2d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/04/808004/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tests/test-core-openstack.sh']",2,4e766aaf853984b07a2fcf1d82ea220ae2f1b196,ci-cinder-upgrade-testing-stable/victoria-stable/ussuri,"function create_a_volume { local volume_name=$1 local attempt openstack volume create --size 2 $volume_name attempt=1 while [[ $(openstack volume show $volume_name -f value -c status) != ""available"" ]]; do echo ""Volume $volume_name not available yet"" attempt=$((attempt+1)) if [[ $attempt -eq 10 ]]; then echo ""Volume $volume_name failed to become available"" openstack volume show $volume_name return 1 fi sleep 10 done } function attach_and_detach_a_volume { local volume_name=$1 local instance_name=$2 local attempt openstack server add volume $instance_name $volume_name --device /dev/vdb attempt=1 while [[ $(openstack volume show $volume_name -f value -c status) != ""in-use"" ]]; do echo ""Volume $volume_name not attached yet"" attempt=$((attempt+1)) if [[ $attempt -eq 10 ]]; then echo ""Volume failed to attach"" openstack volume show $volume_name return 1 fi sleep 10 done openstack server remove volume $instance_name $volume_name attempt=1 while [[ $(openstack volume show $volume_name -f value -c status) != ""available"" ]]; do echo ""Volume $volume_name not detached yet"" attempt=$((attempt+1)) if [[ $attempt -eq 10 ]]; then echo ""Volume failed to detach"" openstack volume show $volume_name return 1 fi sleep 10 done } function delete_a_volume { local volume_name=$1 local attempt local result openstack volume delete $volume_name attempt=1 # NOTE(yoctozepto): This is executed outside of the `while` clause # *on purpose*. You see, bash is evil (TM) and will silence any error # happening in any ""condition"" clause (such as `if` or `while`) even with # `errexit` being set. result=$(openstack volume list --name $volume_name -f value -c ID) while [[ -n ""$result"" ]]; do echo ""Volume $volume_name not deleted yet"" attempt=$((attempt+1)) if [[ $attempt -eq 10 ]]; then echo ""Volume failed to delete"" openstack volume show $volume_name return 1 fi sleep 10 result=$(openstack volume list --name $volume_name -f value -c ID) done } create_a_volume test_volume openstack volume show test_volume attach_and_detach_a_volume test_volume kolla_boot_test delete_a_volume test_volume if [[ $HAS_UPGRADE == 'yes' ]]; then echo ""TESTING: Cinder volume upgrade stability (PHASE: $PHASE)"" if [[ $PHASE == 'deploy' ]]; then create_a_volume durable_volume openstack volume show durable_volume elif [[ $PHASE == 'upgrade' ]]; then openstack volume show durable_volume attach_and_detach_a_volume durable_volume kolla_boot_test delete_a_volume durable_volume fi echo ""SUCCESS: Cinder volume upgrade stability (PHASE: $PHASE)"" fi"," openstack volume create --size 2 test_volume attempt=1 while [[ $(openstack volume show test_volume -f value -c status) != ""available"" ]]; do echo ""Volume not available yet"" attempt=$((attempt+1)) if [[ $attempt -eq 10 ]]; then echo ""Volume failed to become available"" openstack volume show test_volume return 1 fi sleep 10 done openstack server add volume kolla_boot_test test_volume --device /dev/vdb attempt=1 while [[ $(openstack volume show test_volume -f value -c status) != ""in-use"" ]]; do echo ""Volume not attached yet"" attempt=$((attempt+1)) if [[ $attempt -eq 10 ]]; then echo ""Volume failed to attach"" openstack volume show test_volume return 1 fi sleep 10 done openstack server remove volume kolla_boot_test test_volume attempt=1 while [[ $(openstack volume show test_volume -f value -c status) != ""available"" ]]; do echo ""Volume not detached yet"" attempt=$((attempt+1)) if [[ $attempt -eq 10 ]]; then echo ""Volume failed to detach"" openstack volume show test_volume return 1 fi sleep 10 done openstack volume delete test_volume",104,37
openstack%2Fkolla-ansible~stable%2Fussuri~Id79df44254603f9b37ce7da2bfc796fc0b1ac91f,openstack/kolla-ansible,stable/ussuri,Id79df44254603f9b37ce7da2bfc796fc0b1ac91f,[CI] Test instance health after upgrade,ABANDONED,2021-09-09 14:42:12.000000000,2021-11-04 10:35:30.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-09-09 14:42:12.000000000', 'files': ['tests/test-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d2a5ebca48aa1bbea14f8de471018ffc4d283d8d', 'message': ""[CI] Test instance health after upgrade\n\nJust like I added Cinder volume upgrade testing before, let's\nalso test similarly for Nova and Neutron. :-)\n\nMore robust debugging and refactor included.\n\nRelated-Bug: #1941706\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/806476\nChange-Id: Id79df44254603f9b37ce7da2bfc796fc0b1ac91f\n(cherry picked from commit daf534b4e0b7fd07a87cd9bde2731836ee40574c)\n""}]",3,808005,d2a5ebca48aa1bbea14f8de471018ffc4d283d8d,12,3,1,30491,,,0,"[CI] Test instance health after upgrade

Just like I added Cinder volume upgrade testing before, let's
also test similarly for Nova and Neutron. :-)

More robust debugging and refactor included.

Related-Bug: #1941706
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/806476
Change-Id: Id79df44254603f9b37ce7da2bfc796fc0b1ac91f
(cherry picked from commit daf534b4e0b7fd07a87cd9bde2731836ee40574c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/808005/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-core-openstack.sh'],1,d2a5ebca48aa1bbea14f8de471018ffc4d283d8d,testing-instance-upgrade-stable/wallaby-stable/victoria-stable/ussuri,"function create_instance { local name=$1 openstack server create --wait --image cirros --flavor m1.tiny --key-name mykey --network demo-net ${name} if [[ $(openstack server show ${name} -f value -c status) != ""ACTIVE"" ]]; then openstack --debug server show ${name}} function delete_instance { local name=$1 openstack server delete --wait ${name} } function create_fip { openstack floating ip create public1 -f value -c floating_ip_address } function delete_fip { local fip_addr=$1 openstack floating ip delete ${fip_addr} } function attach_fip { local instance_name=$1 local fip_addr=$2 openstack server add floating ip ${instance_name} ${fip_addr} } function detach_fip { local instance_name=$1 local fip_addr=$2 openstack server remove floating ip ${instance_name} ${fip_addr} } function test_ssh { local instance_name=$1 local fip_addr=$2 local attempts attempts=12 for i in $(seq 1 ${attempts}); do if ping -c1 -W1 ${fip_addr} && ssh -v -o BatchMode=yes -o StrictHostKeyChecking=no cirros@${fip_addr} hostname; then break elif [[ $i -eq ${attempts} ]]; then echo ""Failed to access server via SSH after ${attempts} attempts"" echo ""Console log:"" openstack console log show ${instance_name} || true openstack --debug server show ${instance_name} return 1 else echo ""Cannot access server - retrying"" fi sleep 10 done } function test_instance_boot { local fip_addr echo ""TESTING: Server creation"" create_instance kolla_boot_test fip_addr=$(create_fip) attach_fip kolla_boot_test ${fip_addr} test_ssh kolla_boot_test ${fip_addr} detach_fip kolla_boot_test ${fip_addr} delete_fip ${fip_addr} delete_instance kolla_boot_test if [[ $HAS_UPGRADE == 'yes' ]]; then echo ""TESTING: Instance (Nova and Neutron) upgrade stability (PHASE: $PHASE)"" if [[ $PHASE == 'deploy' ]]; then create_instance kolla_upgrade_test fip_addr=$(create_fip) attach_fip kolla_upgrade_test ${fip_addr} test_ssh kolla_upgrade_test ${fip_addr} # tested to see if the instance has not just failed booting already echo ${fip_addr} > /tmp/kolla_ci_pre_upgrade_fip_addr elif [[ $PHASE == 'upgrade' ]]; then fip_addr=$(cat /tmp/kolla_ci_pre_upgrade_fip_addr) test_ssh kolla_upgrade_test ${fip_addr} detach_fip kolla_upgrade_test ${fip_addr} delete_fip ${fip_addr} delete_instance kolla_upgrade_test fi echo ""SUCCESS: Instance (Nova and Neutron) upgrade stability (PHASE: $PHASE)"" fi","function test_instance_boot { echo ""TESTING: Server creation"" openstack server create --wait --image cirros --flavor m1.tiny --key-name mykey --network demo-net kolla_boot_test openstack --debug server list if [[ $(openstack server show kolla_boot_test -f value -c status) != ""ACTIVE"" ]]; then openstack --debug server show kolla_boot_test fip_addr=$(openstack floating ip create public1 -f value -c floating_ip_address) openstack server add floating ip kolla_boot_test ${fip_addr} attempts=12 for i in $(seq 1 ${attempts}); do if ping -c1 -W1 ${fip_addr} && ssh -v -o BatchMode=yes -o StrictHostKeyChecking=no cirros@${fip_addr} hostname; then break elif [[ $i -eq ${attempts} ]]; then echo ""Failed to access server via SSH after ${attempts} attempts"" echo ""Console log:"" openstack console log show kolla_boot_test return 1 else echo ""Cannot access server - retrying"" fi sleep 10 done openstack server remove floating ip kolla_boot_test ${fip_addr} openstack floating ip delete ${fip_addr} openstack server delete --wait kolla_boot_test",85,25
openstack%2Fneutron-tempest-plugin~master~If0e9ea51ad62d4d324a77b9d33953b56d5e6c99c,openstack/neutron-tempest-plugin,master,If0e9ea51ad62d4d324a77b9d33953b56d5e6c99c,"Increase ""neutron-tempest-plugin-scenario-ovn"" timeout to 3h",MERGED,2021-11-03 08:32:51.000000000,2021-11-04 10:33:58.000000000,2021-11-04 10:33:58.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 08:32:51.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/99acc99271b585b153bee8bb4ce08caf2e94f593', 'message': 'Increase ""neutron-tempest-plugin-scenario-ovn"" timeout to 3h\n\nDue to a recent series of timeouts during the execution of this job,\nthis patch increases the timeout to 3h.\n\nChange-Id: If0e9ea51ad62d4d324a77b9d33953b56d5e6c99c\nCloses-Bug: #1949557\n'}]",1,816438,99acc99271b585b153bee8bb4ce08caf2e94f593,10,5,1,16688,,,0,"Increase ""neutron-tempest-plugin-scenario-ovn"" timeout to 3h

Due to a recent series of timeouts during the execution of this job,
this patch increases the timeout to 3h.

Change-Id: If0e9ea51ad62d4d324a77b9d33953b56d5e6c99c
Closes-Bug: #1949557
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/38/816438/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,99acc99271b585b153bee8bb4ce08caf2e94f593,bug/1949557, timeout: 10800, timeout: 10000,1,1
openstack%2Fneutron~master~I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d,openstack/neutron,master,I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d,Check quota limits,MERGED,2021-07-20 13:43:55.000000000,2021-11-04 10:15:17.000000000,2021-11-04 10:10:06.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-20 13:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52ecae7920a3649182ebba984cf321c81f07adac', 'message': ""[WIP] Quota check current limits\n\nNOTE: RFE has not been aproved yet, I'll propose it this Friday 23th\non the Neutron Drivers' meeting.\n\nCloses-Bug: #1936408\nChange-Id: I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d\n""}, {'number': 2, 'created': '2021-08-27 10:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38146104507d22597e89ce58d4da71eac23c07f3', 'message': 'Check quota limits\n\nWhen ""check_limit"" parameter is passed in a quota update request,\nthe Neutron server checks the current resource usage before updating\nthe quota limit. If the new quota limit is below the resource usage,\nan exception is raised.\n\nThis parameter was added in [1][2].\n\n[1]https://review.opendev.org/c/openstack/openstacksdk/+/806254\n[2]https://review.opendev.org/c/openstack/python-openstackclient/+/806016\n\nCloses-Bug: #1936408\n\nChange-Id: I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d\n'}, {'number': 3, 'created': '2021-09-08 14:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ece082c50fc808c0618a325aa2a04a737ced7edb', 'message': 'Check quota limits\n\nWhen ""check_limit"" parameter is passed in a quota update request,\nthe Neutron server checks the current resource usage before updating\nthe quota limit. If the new quota limit is below the resource usage,\nan exception is raised.\n\nThis parameter was added in [1][2].\n\n[1]https://review.opendev.org/c/openstack/openstacksdk/+/806254\n[2]https://review.opendev.org/c/openstack/python-openstackclient/+/806016\n\nCloses-Bug: #1936408\n\nChange-Id: I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d\n'}, {'number': 4, 'created': '2021-09-22 15:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd9defca247e1d88101e3b1e8c1be9c6113c5a4a', 'message': 'Check quota limits\n\nWhen ""check_limit"" parameter is passed in a quota update request,\nthe Neutron server checks the current resource usage before updating\nthe quota limit. If the new quota limit is below the resource usage,\nan exception is raised.\n\nThis parameter was added in [1][2].\n\n[1]https://review.opendev.org/c/openstack/openstacksdk/+/806254\n[2]https://review.opendev.org/c/openstack/python-openstackclient/+/806016\n\nCloses-Bug: #1936408\n\nChange-Id: I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d\n'}, {'number': 5, 'created': '2021-09-28 16:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93f4f30113bfdb648334c937285ba11db6a50ab3', 'message': 'Check quota limits\n\nWhen ""check_limit"" parameter is passed in a quota update request,\nthe Neutron server checks the current resource usage before updating\nthe quota limit. If the new quota limit is below the resource usage,\nan exception is raised.\n\nThis parameter was added in [1][2].\n\n[1]https://review.opendev.org/c/openstack/openstacksdk/+/806254\n[2]https://review.opendev.org/c/openstack/python-openstackclient/+/806016\n\nCloses-Bug: #1936408\n\nChange-Id: I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d\n'}, {'number': 6, 'created': '2021-09-30 10:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1bdf72a36967193a386415b856f30c420a193eb9', 'message': 'Check quota limits\n\nWhen ""check_limit"" parameter is passed in a quota update request,\nthe Neutron server checks the current resource usage before updating\nthe quota limit. If the new quota limit is below the resource usage,\nan exception is raised.\n\nThis parameter was added in [1][2].\n\n[1]https://review.opendev.org/c/openstack/openstacksdk/+/806254\n[2]https://review.opendev.org/c/openstack/python-openstackclient/+/806016\n\nCloses-Bug: #1936408\n\nChange-Id: I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d\n'}, {'number': 7, 'created': '2021-10-04 11:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75c69262b5f2cc69520f13c625438f76348c5614', 'message': 'Check quota limits\n\nWhen ""check_limit"" parameter is passed in a quota update request,\nthe Neutron server checks the current resource usage before updating\nthe quota limit. If the new quota limit is below the resource usage,\nan exception is raised.\n\nThis parameter was added in [1][2].\n\n[1]https://review.opendev.org/c/openstack/openstacksdk/+/806254\n[2]https://review.opendev.org/c/openstack/python-openstackclient/+/806016\n\nCloses-Bug: #1936408\n\nChange-Id: I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d\n'}, {'number': 8, 'created': '2021-10-20 14:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef86a156365c3c268b1f07fc7149d22eabc5a5be', 'message': 'Check quota limits\n\nWhen ""check_limit"" parameter is passed in a quota update request,\nthe Neutron server checks the current resource usage before updating\nthe quota limit. If the new quota limit is below the resource usage,\nan exception is raised.\n\nThis parameter was added in [1][2].\n\n[1]https://review.opendev.org/c/openstack/openstacksdk/+/806254\n[2]https://review.opendev.org/c/openstack/python-openstackclient/+/806016\n\nCloses-Bug: #1936408\n\nChange-Id: I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d\n'}, {'number': 9, 'created': '2021-10-22 07:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/747b5cb59d543399dae359d3304c7143deed0fa9', 'message': 'Check quota limits\n\nWhen ""check_limit"" parameter is passed in a quota update request,\nthe Neutron server checks the current resource usage before updating\nthe quota limit. If the new quota limit is below the resource usage,\nan exception is raised.\n\nThis parameter was added in [1][2].\n\n[1]https://review.opendev.org/c/openstack/openstacksdk/+/806254\n[2]https://review.opendev.org/c/openstack/python-openstackclient/+/806016\n\nCloses-Bug: #1936408\n\nChange-Id: I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d\n'}, {'number': 10, 'created': '2021-10-26 13:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac645680e7ab550f766ba9925b0e542e46a591f8', 'message': 'Check quota limits\n\nWhen ""check_limit"" parameter is passed in a quota update request,\nthe Neutron server checks the current resource usage before updating\nthe quota limit. If the new quota limit is below the resource usage,\nan exception is raised.\n\nThis parameter was added in [1][2].\n\n[1]https://review.opendev.org/c/openstack/openstacksdk/+/806254\n[2]https://review.opendev.org/c/openstack/python-openstackclient/+/806016\n\nCloses-Bug: #1936408\n\nChange-Id: I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d\n'}, {'number': 11, 'created': '2021-10-27 12:33:42.000000000', 'files': ['requirements.txt', 'neutron/extensions/quota_check_limit.py', 'neutron/extensions/quotasv2.py', 'neutron/tests/unit/extensions/test_quotasv2.py', 'lower-constraints.txt', 'neutron/db/quota/driver.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a7a8db0d87c2027287e8fb074ee0f681e6369bb', 'message': 'Check quota limits\n\nWhen ""check_limit"" parameter is passed in a quota update request,\nthe Neutron server checks the current resource usage before updating\nthe quota limit. If the new quota limit is below the resource usage,\nan exception is raised.\n\nThis parameter was added in [1][2].\n\n[1]https://review.opendev.org/c/openstack/openstacksdk/+/806254\n[2]https://review.opendev.org/c/openstack/python-openstackclient/+/806016\n\nCloses-Bug: #1936408\n\nChange-Id: I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d\n'}]",12,801470,5a7a8db0d87c2027287e8fb074ee0f681e6369bb,214,6,11,16688,,,0,"Check quota limits

When ""check_limit"" parameter is passed in a quota update request,
the Neutron server checks the current resource usage before updating
the quota limit. If the new quota limit is below the resource usage,
an exception is raised.

This parameter was added in [1][2].

[1]https://review.opendev.org/c/openstack/openstacksdk/+/806254
[2]https://review.opendev.org/c/openstack/python-openstackclient/+/806016

Closes-Bug: #1936408

Change-Id: I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/801470/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/quota/driver_nolock.py', 'neutron/extensions/quotasv2.py', 'neutron/db/quota/driver.py']",3,52ecae7920a3649182ebba984cf321c81f07adac,bug/1936408," current_usages = { resource: self.count_resource(context, tenant_id, plugin, resource, resources) for resource in requested_resources} @staticmethod def count_resource(context, tenant_id, plugin, resource_name, resources): """"""Count a resource using the driver method :param context: The request context, for DB access. :param tenant_id: The tenant_id to check the resource. :param plugin: Plugin instance that is handling the resource :param resource_name: Resource name :param resources: Resource dictionary {resource_name: CountableResource or TrackedResource} :return: The number of used resources of the type ""resource_name"" """""" return resources[resource_name].count( context, plugin, tenant_id, resync_usage=False)"," current_usages = dict( (resource, resources[resource].count( context, plugin, tenant_id, resync_usage=False)) for resource in requested_resources)",31,9
openstack%2Fkolla-ansible~master~Ifc75613fe508b9452cb8b4ba264cf0dbe6aba675,openstack/kolla-ansible,master,Ifc75613fe508b9452cb8b4ba264cf0dbe6aba675,[DNM] Run all jobs,ABANDONED,2021-06-10 17:42:26.000000000,2021-11-04 10:13:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-10 17:42:26.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b2949bd305522f3101fa5408cf632fd9037062fa', 'message': '[DNM] Run all jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/795852\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/795856\nChange-Id: Ifc75613fe508b9452cb8b4ba264cf0dbe6aba675\n'}]",0,795858,b2949bd305522f3101fa5408cf632fd9037062fa,12,2,1,30491,,,0,"[DNM] Run all jobs

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/795852
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/795856
Change-Id: Ifc75613fe508b9452cb8b4ba264cf0dbe6aba675
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/795858/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,b2949bd305522f3101fa5408cf632fd9037062fa,dnm-run-all-jobs, runme: yes,,1,0
openstack%2Fkolla~master~I8e2c9c18bafee6cba9a74b5bcae8efdb72bdc9ed,openstack/kolla,master,I8e2c9c18bafee6cba9a74b5bcae8efdb72bdc9ed,DNM: dummy,ABANDONED,2020-03-15 16:21:36.000000000,2021-11-04 10:13:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-15 16:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/257dc5e5ea6474fb46615d2dae4876edc7d6ee70', 'message': 'DNM: dummy\n\nChange-Id: I8e2c9c18bafee6cba9a74b5bcae8efdb72bdc9ed\n'}, {'number': 2, 'created': '2020-09-06 12:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dd65a8746ecb7302499212c23175986f5d63323a', 'message': 'DNM: dummy\n\nChange-Id: I8e2c9c18bafee6cba9a74b5bcae8efdb72bdc9ed\n'}, {'number': 3, 'created': '2021-04-24 18:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c86da10b103229403efb938fd306890a677febb3', 'message': 'DNM: dummy\n\nChange-Id: I8e2c9c18bafee6cba9a74b5bcae8efdb72bdc9ed\n'}]",0,713140,c86da10b103229403efb938fd306890a677febb3,19,2,3,30491,,,0,"DNM: dummy

Change-Id: I8e2c9c18bafee6cba9a74b5bcae8efdb72bdc9ed
",git fetch https://review.opendev.org/openstack/kolla refs/changes/40/713140/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,257dc5e5ea6474fb46615d2dae4876edc7d6ee70,dnm-dummy,,,0,0
openstack%2Fkolla-ansible~master~Idcbc134cdfa4a598d3e4510df7b1040cb656aece,openstack/kolla-ansible,master,Idcbc134cdfa4a598d3e4510df7b1040cb656aece,[DNM] Dummy (master),ABANDONED,2020-09-06 13:35:57.000000000,2021-11-04 10:12:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-06 13:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e8092099dd24c0c53a363153e8b743ffaad894b3', 'message': '[DNM] Dummy\n\nTo run all jobs.\n\nChange-Id: Idcbc134cdfa4a598d3e4510df7b1040cb656aece\n'}, {'number': 2, 'created': '2020-09-13 09:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/08faf5a351520d75030b62fba019dbf1a87b8548', 'message': '[DNM] Dummy\n\nTo run all jobs.\n\nChange-Id: Idcbc134cdfa4a598d3e4510df7b1040cb656aece\n'}, {'number': 3, 'created': '2020-09-13 09:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/466e4b2bb69a63fd67ca24961beda9c34455223a', 'message': '[DNM] Dummy (master)\n\nTo run all jobs.\n\nChange-Id: Idcbc134cdfa4a598d3e4510df7b1040cb656aece\n'}]",0,750096,466e4b2bb69a63fd67ca24961beda9c34455223a,13,2,3,30491,,,0,"[DNM] Dummy (master)

To run all jobs.

Change-Id: Idcbc134cdfa4a598d3e4510df7b1040cb656aece
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/750096/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,e8092099dd24c0c53a363153e8b743ffaad894b3,dnm-dummy,,,0,0
openstack%2Fkolla-ansible~stable%2Fussuri~Idcbc134cdfa4a598d3e4510df7b1040cb656aece,openstack/kolla-ansible,stable/ussuri,Idcbc134cdfa4a598d3e4510df7b1040cb656aece,[DNM] Dummy (Ussuri),ABANDONED,2020-09-13 09:09:09.000000000,2021-11-04 10:12:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-13 09:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b8d1fc5ebbe63865e873d36dcf0b4c1e99daeb93', 'message': '[DNM] Dummy (Ussuri)\n\nTo run all jobs.\n\nChange-Id: Idcbc134cdfa4a598d3e4510df7b1040cb656aece\n'}, {'number': 2, 'created': '2020-09-25 17:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6110cf21209b571215e0cbe5b2556ac9544aa34c', 'message': '[DNM] Dummy (Ussuri)\n\nTo run all jobs.\n\nChange-Id: Idcbc134cdfa4a598d3e4510df7b1040cb656aece\n'}]",0,751604,6110cf21209b571215e0cbe5b2556ac9544aa34c,8,2,2,30491,,,0,"[DNM] Dummy (Ussuri)

To run all jobs.

Change-Id: Idcbc134cdfa4a598d3e4510df7b1040cb656aece
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/04/751604/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,b8d1fc5ebbe63865e873d36dcf0b4c1e99daeb93,dnm-dummy,,,0,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9d471633d5650544f2fd9a2b00bd9aa166c737c3,openstack/tripleo-heat-templates,stable/train,I9d471633d5650544f2fd9a2b00bd9aa166c737c3,Drop archive policy from enable-legacy-telemetry,MERGED,2021-11-03 09:44:11.000000000,2021-11-04 10:09:50.000000000,2021-11-04 10:09:50.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-03 09:44:11.000000000', 'files': ['environments/enable-legacy-telemetry.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd8c8b9b4422a9da0b7f4c471894ea0998c61d6d', 'message': 'Drop archive policy from enable-legacy-telemetry\n\nAdding it there will basically enforce using the archive policy\nhigh all over, and will prevent using any other.\n\nChange-Id: I9d471633d5650544f2fd9a2b00bd9aa166c737c3\n(cherry picked from commit 10e0652199083de0b607cc2107b81106a8e09813)\n(cherry picked from commit d5726a13263d655f0a678d247661dfd35f38e86c)\n(cherry picked from commit 83441c397b7070f2b8ea01404a43972fd8a3ca81)\n(cherry picked from commit f365caa0d6abe144679aa5f9b36317823c10147b)\n'}]",1,816346,fd8c8b9b4422a9da0b7f4c471894ea0998c61d6d,12,3,1,4264,,,0,"Drop archive policy from enable-legacy-telemetry

Adding it there will basically enforce using the archive policy
high all over, and will prevent using any other.

Change-Id: I9d471633d5650544f2fd9a2b00bd9aa166c737c3
(cherry picked from commit 10e0652199083de0b607cc2107b81106a8e09813)
(cherry picked from commit d5726a13263d655f0a678d247661dfd35f38e86c)
(cherry picked from commit 83441c397b7070f2b8ea01404a43972fd8a3ca81)
(cherry picked from commit f365caa0d6abe144679aa5f9b36317823c10147b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/816346/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-legacy-telemetry.yaml'],1,fd8c8b9b4422a9da0b7f4c471894ea0998c61d6d,archive_policy_telemetry-stable/train, - gnocchi:// PipelinePublishers: - gnocchi://, - gnocchi://?archive_policy=high PipelinePublishers: - gnocchi://?archive_policy=high,2,2
openstack%2Freleases~master~If3c26c0b7e4d1fd81a801fcb97d4d046825d4aa4,openstack/releases,master,If3c26c0b7e4d1fd81a801fcb97d4d046825d4aa4,Release PBR 5.7.0,MERGED,2021-11-03 21:00:42.000000000,2021-11-04 10:04:16.000000000,2021-11-04 09:15:23.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-03 21:00:42.000000000', 'files': ['deliverables/_independent/pbr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/73cc7ba717462311acccce3bca100d85eecd9cc1', 'message': 'Release PBR 5.7.0\n\nThis release PBR 5.7.0 which includes support for PEP 517 build-system\nspecifications for PBR.\n\nChange-Id: If3c26c0b7e4d1fd81a801fcb97d4d046825d4aa4\n'}]",2,816577,73cc7ba717462311acccce3bca100d85eecd9cc1,9,3,1,4146,,,0,"Release PBR 5.7.0

This release PBR 5.7.0 which includes support for PEP 517 build-system
specifications for PBR.

Change-Id: If3c26c0b7e4d1fd81a801fcb97d4d046825d4aa4
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/816577/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/pbr.yaml'],1,73cc7ba717462311acccce3bca100d85eecd9cc1,pbr-5.7.0, - version: 5.7.0 projects: - repo: openstack/pbr hash: 09ee15341014fc0e3bb8a7c3b06a3fa912cfad38,,4,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I992935e1c478591f3c8af5044df8a625af9eba85,openstack/tripleo-ansible,stable/wallaby,I992935e1c478591f3c8af5044df8a625af9eba85,Add tripleo_dnf_stream Ansible module.,MERGED,2021-10-25 06:07:06.000000000,2021-11-04 09:51:25.000000000,2021-11-04 09:43:27.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-10-25 06:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c2d083b03c8314eeb1fdb606561e626fe89bffee', 'message': 'Add tripleo_dnf_stream Ansible module.\n\nOne of the functionalities the dnf Ansible module misses is the single\ndisabling and disabling of DNF modules [0]. Currently only installation and\nremoval are supported.\n\nThe tripleo_dnf_stream module is based on the dnf.py Ansible core module [1]\n(so it will be simpler to contribute with this functionality to upstream\nAnsible core) and covers the enabling and disabling of one or multiple\nMODULE:STREAM.\n\nThis functionality is required when performing a minor update, as we\nneed to make sure that a set of streams are enabled to provide with\nthe right packages [2]. In this situation, the installation of the\nwhole module is not really required as a full upgrade will run after.\n\nThe module uses the options name (MODULE:STREAM) and state:[disabled or\nenabled]. Example:\n    - name: Enable the container-tools:3.0\n      tripleo_dnf_stream:\n        - name: container-tools:3.0\n          state: enabled\n\n[0]: https://github.com/ansible/ansible/issues/64852\n[1]: https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/dnf.py\n[2]: https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L378-L381\n\nChange-Id: I992935e1c478591f3c8af5044df8a625af9eba85\n(cherry picked from commit 5212d407d9730dce68782d37f2045a672dce9146)\n'}, {'number': 2, 'created': '2021-10-25 06:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/12f8506e61d6564a5a8cedc43e05c65342a09907', 'message': 'Add tripleo_dnf_stream Ansible module.\n\nOne of the functionalities the dnf Ansible module misses is the single\ndisabling and disabling of DNF modules [0]. Currently only installation and\nremoval are supported.\n\nThe tripleo_dnf_stream module is based on the dnf.py Ansible core module [1]\n(so it will be simpler to contribute with this functionality to upstream\nAnsible core) and covers the enabling and disabling of one or multiple\nMODULE:STREAM.\n\nThis functionality is required when performing a minor update, as we\nneed to make sure that a set of streams are enabled to provide with\nthe right packages [2]. In this situation, the installation of the\nwhole module is not really required as a full upgrade will run after.\n\nThe module uses the options name (MODULE:STREAM) and state:[disabled or\nenabled]. Example:\n    - name: Enable the container-tools:3.0\n      tripleo_dnf_stream:\n        - name: container-tools:3.0\n          state: enabled\n\n[0]: https://github.com/ansible/ansible/issues/64852\n[1]: https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/dnf.py\n[2]: https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L378-L381\n\nChange-Id: I992935e1c478591f3c8af5044df8a625af9eba85\n(cherry picked from commit 5212d407d9730dce68782d37f2045a672dce9146)\n(cherry picked from commit c2d083b03c8314eeb1fdb606561e626fe89bffee)\n'}, {'number': 3, 'created': '2021-10-27 15:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/db2eb6d89d8b23283e3f85aabe2b7b3711ce2b65', 'message': 'Add tripleo_dnf_stream Ansible module.\n\nOne of the functionalities the dnf Ansible module misses is the single\ndisabling and disabling of DNF modules [0]. Currently only installation and\nremoval are supported.\n\nThe tripleo_dnf_stream module is based on the dnf.py Ansible core module [1]\n(so it will be simpler to contribute with this functionality to upstream\nAnsible core) and covers the enabling and disabling of one or multiple\nMODULE:STREAM.\n\nThis functionality is required when performing a minor update, as we\nneed to make sure that a set of streams are enabled to provide with\nthe right packages [2]. In this situation, the installation of the\nwhole module is not really required as a full upgrade will run after.\n\nThe module uses the options name (MODULE:STREAM) and state:[disabled or\nenabled]. Example:\n    - name: Enable the container-tools:3.0\n      tripleo_dnf_stream:\n        - name: container-tools:3.0\n          state: enabled\n\n[0]: https://github.com/ansible/ansible/issues/64852\n[1]: https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/dnf.py\n[2]: https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L378-L381\n\nChange-Id: I992935e1c478591f3c8af5044df8a625af9eba85\n(cherry picked from commit 5212d407d9730dce68782d37f2045a672dce9146)\n(cherry picked from commit c2d083b03c8314eeb1fdb606561e626fe89bffee)\n'}, {'number': 4, 'created': '2021-11-02 09:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c49dea808b13f409aaedb79db3a8218d014de4dd', 'message': 'Add tripleo_dnf_stream Ansible module.\n\nOne of the functionalities the dnf Ansible module misses is the single\ndisabling and disabling of DNF modules [0]. Currently only installation and\nremoval are supported.\n\nThe tripleo_dnf_stream module is based on the dnf.py Ansible core module [1]\n(so it will be simpler to contribute with this functionality to upstream\nAnsible core) and covers the enabling and disabling of one or multiple\nMODULE:STREAM.\n\nThis functionality is required when performing a minor update, as we\nneed to make sure that a set of streams are enabled to provide with\nthe right packages [2]. In this situation, the installation of the\nwhole module is not really required as a full upgrade will run after.\n\nThe module uses the options name (MODULE:STREAM) and state:[disabled or\nenabled]. Example:\n    - name: Enable the container-tools:3.0\n      tripleo_dnf_stream:\n        - name: container-tools:3.0\n          state: enabled\n\n[0]: https://github.com/ansible/ansible/issues/64852\n[1]: https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/dnf.py\n[2]: https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L378-L381\n\nChange-Id: I992935e1c478591f3c8af5044df8a625af9eba85\n(cherry picked from commit 5212d407d9730dce68782d37f2045a672dce9146)\n(cherry picked from commit c2d083b03c8314eeb1fdb606561e626fe89bffee)\n'}, {'number': 5, 'created': '2021-11-03 07:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/02200ca6644896089b7585a58dae41b47712da8d', 'message': 'Add tripleo_dnf_stream Ansible module.\n\nOne of the functionalities the dnf Ansible module misses is the single\ndisabling and disabling of DNF modules [0]. Currently only installation and\nremoval are supported.\n\nThe tripleo_dnf_stream module is based on the dnf.py Ansible core module [1]\n(so it will be simpler to contribute with this functionality to upstream\nAnsible core) and covers the enabling and disabling of one or multiple\nMODULE:STREAM.\n\nThis functionality is required when performing a minor update, as we\nneed to make sure that a set of streams are enabled to provide with\nthe right packages [2]. In this situation, the installation of the\nwhole module is not really required as a full upgrade will run after.\n\nThe module uses the options name (MODULE:STREAM) and state:[disabled or\nenabled]. Example:\n    - name: Enable the container-tools:3.0\n      tripleo_dnf_stream:\n        - name: container-tools:3.0\n          state: enabled\n\n[0]: https://github.com/ansible/ansible/issues/64852\n[1]: https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/dnf.py\n[2]: https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L378-L381\n\nChange-Id: I992935e1c478591f3c8af5044df8a625af9eba85\n(cherry picked from commit 5212d407d9730dce68782d37f2045a672dce9146)\n(cherry picked from commit c2d083b03c8314eeb1fdb606561e626fe89bffee)\n'}, {'number': 6, 'created': '2021-11-03 11:31:29.000000000', 'files': ['zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_dnf_stream.py', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9959ab393809e61ace5d4beb15c6b27ad480de8f', 'message': 'Add tripleo_dnf_stream Ansible module.\n\nOne of the functionalities the dnf Ansible module misses is the single\ndisabling and disabling of DNF modules [0]. Currently only installation and\nremoval are supported.\n\nThe tripleo_dnf_stream module is based on the dnf.py Ansible core module [1]\n(so it will be simpler to contribute with this functionality to upstream\nAnsible core) and covers the enabling and disabling of one or multiple\nMODULE:STREAM.\n\nThis functionality is required when performing a minor update, as we\nneed to make sure that a set of streams are enabled to provide with\nthe right packages [2]. In this situation, the installation of the\nwhole module is not really required as a full upgrade will run after.\n\nThe module uses the options name (MODULE:STREAM) and state:[disabled or\nenabled]. Example:\n    - name: Enable the container-tools:3.0\n      tripleo_dnf_stream:\n        - name: container-tools:3.0\n          state: enabled\n\n[0]: https://github.com/ansible/ansible/issues/64852\n[1]: https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/dnf.py\n[2]: https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L378-L381\n\nChange-Id: I992935e1c478591f3c8af5044df8a625af9eba85\n(cherry picked from commit 5212d407d9730dce68782d37f2045a672dce9146)\n(cherry picked from commit c2d083b03c8314eeb1fdb606561e626fe89bffee)\n'}]",4,814948,9959ab393809e61ace5d4beb15c6b27ad480de8f,41,6,6,26343,,,0,"Add tripleo_dnf_stream Ansible module.

One of the functionalities the dnf Ansible module misses is the single
disabling and disabling of DNF modules [0]. Currently only installation and
removal are supported.

The tripleo_dnf_stream module is based on the dnf.py Ansible core module [1]
(so it will be simpler to contribute with this functionality to upstream
Ansible core) and covers the enabling and disabling of one or multiple
MODULE:STREAM.

This functionality is required when performing a minor update, as we
need to make sure that a set of streams are enabled to provide with
the right packages [2]. In this situation, the installation of the
whole module is not really required as a full upgrade will run after.

The module uses the options name (MODULE:STREAM) and state:[disabled or
enabled]. Example:
    - name: Enable the container-tools:3.0
      tripleo_dnf_stream:
        - name: container-tools:3.0
          state: enabled

[0]: https://github.com/ansible/ansible/issues/64852
[1]: https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/dnf.py
[2]: https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L378-L381

Change-Id: I992935e1c478591f3c8af5044df8a625af9eba85
(cherry picked from commit 5212d407d9730dce68782d37f2045a672dce9146)
(cherry picked from commit c2d083b03c8314eeb1fdb606561e626fe89bffee)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/814948/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_dnf_stream.py', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/converge.yml']",5,c2d083b03c8314eeb1fdb606561e626fe89bffee,,"--- - name: Converge hosts: all become: true tasks: - name: List available modules at test start for debugging purposes command: dnf module list register: module_list - debug: msg: ""{{ module_list.stdout_lines }}"" - debug: msg: | ""================================================================ PREPARE: enable maven:3.5 ================================================================"" - name: Make sure the module is removed before starting command: dnf module -C -y remove maven:3.5 - name: Disable the module command: dnf module -C -y reset maven:3.5 - debug: msg: | ""================================================================ START: enable maven:3.5 ================================================================"" - name: Enable maven:3.5 module tripleo_dnf_stream: name: ""maven:3.5"" state: enabled - debug: msg: | ""================================================================ VERIFY: enable maven:3.5 ================================================================"" - name: Ensure the module got enabled shell: ""dnf module -C -y list --enabled | grep 'maven\\s*3.5'"" failed_when: false register: check_module - name: Fail if module not found enabled fail: msg: Module maven:3.5 not found when: check_module.rc != 0 - debug: msg: | ""================================================================ PREPARE: change php:7.2 to php:7.3 ================================================================"" - name: Make sure the module is enabled before starting command: dnf module -C -y reset php - name: Enable the module nginx (php has dependencies on nginx) and php command: ""dnf module -y install {{ item }}"" loop: - ""nginx"" - ""php:7.2"" - debug: msg: | ""================================================================ START: change php:7.2 to php:7.3 ================================================================"" - name: Enable php:7.3 module tripleo_dnf_stream: name: ""php:7.3"" state: enabled - debug: msg: | ""================================================================ VERIFY: change php:7.2 to php:7.3 ================================================================"" - name: Ensure the module got enabled shell: ""dnf module -C -y list --enabled | grep 'php\\s*7.3'"" failed_when: false register: check_module - name: Fail if module not found enabled fail: msg: Module php:7.3 not found when: check_module.rc != 0 - debug: msg: | ""================================================================ PREPARE: enable and disable multiple streams ================================================================"" - name: Make sure the module is disabled before starting command: ""dnf module -C -y remove nodejs:12 javapackages-runtime:201801"" - name: Disable the module command: ""dnf module -C -y reset nodejs javapackages-runtime"" - debug: msg: | ""================================================================ START 1: enable multiple streams ================================================================"" - name: Enable nodejs:12 and javapackages-runtime:201801 module tripleo_dnf_stream: name: - ""nodejs:12"" - ""javapackages-runtime:201801"" state: enabled - debug: msg: | ""================================================================ VERIFY 1: enable multiple streams ================================================================"" - name: Ensure the module got enabled shell: ""dnf module -C -y list --enabled | grep '{{ item.split(\"":\"")[0] }}\\s*{{ item.split(\"":\"")[1] }}'"" failed_when: false register: check_module loop: - ""nodejs:12"" - ""javapackages-runtime:201801"" - name: Fail if module not found enabled fail: msg: ""Module {{ item.item }} not found"" when: item.rc != 0 loop: ""{{ check_module.results }}"" - debug: msg: | ""================================================================ START 2: disable multiple streams ================================================================"" - name: Disable all enabled modules tripleo_dnf_stream: name: - ""nodejs:12"" - ""javapackages-runtime:201801"" state: disabled - debug: msg: | ""================================================================ VERIFY 2: disable multiple streams ================================================================"" - name: Ensure all modules got disabled shell: ""dnf module -C -y list --enabled | grep '{{ item.split(\"":\"")[0] }}\\s*{{ item.split(\"":\"")[1] }}'"" failed_when: false register: check_module loop: - ""nodejs:12"" - ""javapackages-runtime:201801"" - name: Fail if module found enabled fail: msg: ""Module {{ item.item }} found enabled when it shouldn't"" when: item.rc == 0 loop: ""{{ check_module.results }}"" ",,494,0
openstack%2Fneutron~stable%2Fussuri~Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f,openstack/neutron,stable/ussuri,Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f,[OVN Migration] Remove trunk's subports from the nodes,MERGED,2021-10-26 10:32:23.000000000,2021-11-04 09:51:09.000000000,2021-11-04 09:40:53.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-26 10:32:23.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/753be029a9d5714f98c7f84fbde06b82a0fd6fb3', 'message': ""[OVN Migration] Remove trunk's subports from the nodes\n\nAfter migration from ML2/OVS to ML2/OVN trunk subports which were created\nby the neutron-ovs-agent to connect br-int with trunk bridges (tbr-)\naren't needed anymore and should be deleted.\n\nCloses-Bug: #1946479\nChange-Id: Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f\n(cherry picked from commit bf6831e0d2ad33ff751f06d568abe6cedff4d717)\n""}]",0,815435,753be029a9d5714f98c7f84fbde06b82a0fd6fb3,10,3,1,11975,,,0,"[OVN Migration] Remove trunk's subports from the nodes

After migration from ML2/OVS to ML2/OVN trunk subports which were created
by the neutron-ovs-agent to connect br-int with trunk bridges (tbr-)
aren't needed anymore and should be deleted.

Closes-Bug: #1946479
Change-Id: Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f
(cherry picked from commit bf6831e0d2ad33ff751f06d568abe6cedff4d717)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/815435/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,753be029a9d5714f98c7f84fbde06b82a0fd6fb3,bug/1946479-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,- name: Cleanup neutron trunk subports shell: | ovs-vsctl list interface | awk '/name[ ]*: sp[it]-/ { print $3 }' | xargs -n1 ovs-vsctl del-port,,3,0
openstack%2Fneutron~stable%2Fussuri~I200acfcaaae7f056ea9a563fead9ff2de8464971,openstack/neutron,stable/ussuri,I200acfcaaae7f056ea9a563fead9ff2de8464971,[DVR] Fix update of the MTU in the SNAT namespace,MERGED,2021-10-07 09:22:31.000000000,2021-11-04 09:43:37.000000000,2021-11-04 09:40:48.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-07 09:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c7914ec4a4e22df39c1593e10d9ab96692c1e19', 'message': '[DVR] Fix update of the MTU in the SNAT namespace\n\nWhen network\'s MTU is changed, Neutron sends notification about it\nto the L3 agents. In case of DVR (and DVR HA) MTU is then changed in\nthe qrouter- namespace but should be also changed on snat interfaces\nin the snat namespace. And that part was missing.\n\nThis patch adds special implementation of the internal_network_updated()\nmethod in the DvrEdgeRouter class so it can configure MTU also for\nin the snat namespace.\n\nThis patch also removed passing attributes ""interface_name"",\n""ip_cidrs"" and ""mtu"" to the internal_network_updated() method and adds\n""port"" dict to be passed there. It is consistent with what is already\ndone in e.g. internal_network_added() method and ""port"" dict is actually\nnecessary to configure properly snat internal interface in the snat\nnamespace.\n\nThis patch adds also functional test of update network mtu for all types\nof routers as there was no such test at all.\n\nThere is additional issue with DVR-HA which isn\'t fixed with that patch\nand for which follow up will be proposed. Because of that this patch is\nmarked as partial fix for the related bug.\n\nConflicts:\n    neutron/tests/functional/agent/l3/test_dvr_router.py\n\nRelated-Bug: #1933273\nChange-Id: I200acfcaaae7f056ea9a563fead9ff2de8464971\n(cherry picked from commit b5dd6efdca0aa6e7405a55d66c7042a49ec72214)\n'}, {'number': 2, 'created': '2021-10-13 12:35:00.000000000', 'files': ['neutron/tests/functional/agent/l3/test_legacy_router.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/functional/agent/l3/test_ha_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/384f2bb2aa85e33daad8b4fe0952fd18b96f10b8', 'message': '[DVR] Fix update of the MTU in the SNAT namespace\n\nWhen network\'s MTU is changed, Neutron sends notification about it\nto the L3 agents. In case of DVR (and DVR HA) MTU is then changed in\nthe qrouter- namespace but should be also changed on snat interfaces\nin the snat namespace. And that part was missing.\n\nThis patch adds special implementation of the internal_network_updated()\nmethod in the DvrEdgeRouter class so it can configure MTU also for\nin the snat namespace.\n\nThis patch also removed passing attributes ""interface_name"",\n""ip_cidrs"" and ""mtu"" to the internal_network_updated() method and adds\n""port"" dict to be passed there. It is consistent with what is already\ndone in e.g. internal_network_added() method and ""port"" dict is actually\nnecessary to configure properly snat internal interface in the snat\nnamespace.\n\nThis patch adds also functional test of update network mtu for all types\nof routers as there was no such test at all.\n\nThere is additional issue with DVR-HA which isn\'t fixed with that patch\nand for which follow up will be proposed. Because of that this patch is\nmarked as partial fix for the related bug.\n\nConflicts:\n    neutron/tests/functional/agent/l3/test_dvr_router.py\n\nRelated-Bug: #1933273\nChange-Id: I200acfcaaae7f056ea9a563fead9ff2de8464971\n(cherry picked from commit b5dd6efdca0aa6e7405a55d66c7042a49ec72214)\n'}]",2,812951,384f2bb2aa85e33daad8b4fe0952fd18b96f10b8,17,3,2,11975,,,0,"[DVR] Fix update of the MTU in the SNAT namespace

When network's MTU is changed, Neutron sends notification about it
to the L3 agents. In case of DVR (and DVR HA) MTU is then changed in
the qrouter- namespace but should be also changed on snat interfaces
in the snat namespace. And that part was missing.

This patch adds special implementation of the internal_network_updated()
method in the DvrEdgeRouter class so it can configure MTU also for
in the snat namespace.

This patch also removed passing attributes ""interface_name"",
""ip_cidrs"" and ""mtu"" to the internal_network_updated() method and adds
""port"" dict to be passed there. It is consistent with what is already
done in e.g. internal_network_added() method and ""port"" dict is actually
necessary to configure properly snat internal interface in the snat
namespace.

This patch adds also functional test of update network mtu for all types
of routers as there was no such test at all.

There is additional issue with DVR-HA which isn't fixed with that patch
and for which follow up will be proposed. Because of that this patch is
marked as partial fix for the related bug.

Conflicts:
    neutron/tests/functional/agent/l3/test_dvr_router.py

Related-Bug: #1933273
Change-Id: I200acfcaaae7f056ea9a563fead9ff2de8464971
(cherry picked from commit b5dd6efdca0aa6e7405a55d66c7042a49ec72214)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/812951/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_legacy_router.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/functional/agent/l3/test_ha_router.py', 'neutron/agent/l3/dvr_edge_router.py']",6,9c7914ec4a4e22df39c1593e10d9ab96692c1e19,bug/1933273-stable/wallaby-stable/victoria-stable/ussuri," def internal_network_updated(self, port): super(DvrEdgeRouter, self).internal_network_updated(port) if not port: return if not self._is_this_snat_host(): return sn_port = self.get_snat_port_for_internal_port(port) if not sn_port: return ns_name = dvr_snat_ns.SnatNamespace.get_snat_ns_name(self.router['id']) interface_name = self._get_snat_int_device_name(sn_port['id']) self.driver.set_mtu(interface_name, port['mtu'], namespace=ns_name, prefix=lib_constants.SNAT_INT_DEV_PREFIX) ",,161,8
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4ab2d20df22bdc9b140019f90d1370ef17f09294,openstack/tripleo-heat-templates,stable/wallaby,I4ab2d20df22bdc9b140019f90d1370ef17f09294,Fix set_fact on the CephMgrAnsibleVars,MERGED,2021-11-02 10:30:12.000000000,2021-11-04 09:43:33.000000000,2021-11-04 09:43:33.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-02 10:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6e8dec13c360d861efbe4706eb50196f9ba13be3', 'message': ""Fix set_fact on the CephMgrAnsibleVars\n\nThe purpose of this patch is react on the issue generated by [1],\nwhere an empty dict sect_fact is not allowed for ansible >= 2.11.\nFor this reason, we're going to always set those variables and\ndefer to the ansible layer the evaluation of the DashboardEnabled\ncondition.\n\n[1] https://github.com/ansible/ansible/pull/73684\n\nCloses-Bug: #1949033\nChange-Id: I4ab2d20df22bdc9b140019f90d1370ef17f09294\n(cherry picked from commit b3863568ad75a3845389677b08a0d756e3c6e0b5)\n""}, {'number': 2, 'created': '2021-11-03 10:39:23.000000000', 'files': ['deployment/cephadm/ceph-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e330da2c5d6f4f07b402e358adb3cbdbb504d79', 'message': ""Fix set_fact on the CephMgrAnsibleVars\n\nThe purpose of this patch is react on the issue generated by [1],\nwhere an empty dict sect_fact is not allowed for ansible >= 2.11.\nFor this reason, we're going to always set those variables and\ndefer to the ansible layer the evaluation of the DashboardEnabled\ncondition.\n\n[1] https://github.com/ansible/ansible/pull/73684\n\nCloses-Bug: #1949033\nChange-Id: I4ab2d20df22bdc9b140019f90d1370ef17f09294\n(cherry picked from commit b3863568ad75a3845389677b08a0d756e3c6e0b5)\n""}]",1,816244,3e330da2c5d6f4f07b402e358adb3cbdbb504d79,15,5,2,25402,,,0,"Fix set_fact on the CephMgrAnsibleVars

The purpose of this patch is react on the issue generated by [1],
where an empty dict sect_fact is not allowed for ansible >= 2.11.
For this reason, we're going to always set those variables and
defer to the ansible layer the evaluation of the DashboardEnabled
condition.

[1] https://github.com/ansible/ansible/pull/73684

Closes-Bug: #1949033
Change-Id: I4ab2d20df22bdc9b140019f90d1370ef17f09294
(cherry picked from commit b3863568ad75a3845389677b08a0d756e3c6e0b5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/816244/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-mgr.yaml'],1,6e8dec13c360d861efbe4706eb50196f9ba13be3,cs9-stable/wallaby," - if: - {get_param: CephEnableDashboard} - - name: set tripleo-ansible ceph dashboard vars when: step|int == 1 tags: - ceph set_fact: ceph_dashboard_vars: if: - internal_tls_enabled - map_merge: - {get_attr: [CephMgrAnsibleVars, value, vars]} - tripleo_cephadm_dashboard_crt: /etc/pki/tls/certs/ceph_dashboard.crt - tripleo_cephadm_dashboard_key: /etc/pki/tls/private/ceph_dashboard.key - tripleo_cephadm_dashboard_grafana_api_no_ssl_verify: true - {get_attr: [CephMgrAnsibleVars, value, vars]}"," - - name: ceph_mgr_external_deploy_init when: step|int == 1 tags: - ceph block: - name: set tripleo-ansible ceph dashboard vars set_fact: ceph_dashboard_vars: if: - {get_param: CephEnableDashboard} - if: - internal_tls_enabled - map_merge: - {get_attr: [CephMgrAnsibleVars, value, vars]} - tripleo_cephadm_dashboard_crt: /etc/pki/tls/certs/ceph_dashboard.crt - tripleo_cephadm_dashboard_key: /etc/pki/tls/private/ceph_dashboard.key - tripleo_cephadm_dashboard_grafana_api_no_ssl_verify: true - {get_attr: [CephMgrAnsibleVars, value, vars]}",16,18
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I107a5df068df3c6ea636cf4b4783a417ab249f38,openstack/tripleo-heat-templates,stable/wallaby,I107a5df068df3c6ea636cf4b4783a417ab249f38,Ironic: Do not override bootfile_name,MERGED,2021-09-22 23:50:31.000000000,2021-11-04 09:43:30.000000000,2021-11-04 09:43:30.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-22 23:50:31.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3aea4f92022563cbb7641805829c1192d22b6d95', 'message': 'Ironic: Do not override bootfile_name\n\nSince [1] is merged, ironic provides independent options for PXE boot\nand iPXE boot, and each parameters like bootfile_name should be defined\naccording to the boot interface.\nThis change removes override of uefi_pxe parameters because the values\npassed should be used for iPXE instead of PXE.\n\n[1] 4d13da9cc7b8f8fa9ee428731f88d5723eddeffa\n\nChange-Id: I107a5df068df3c6ea636cf4b4783a417ab249f38\n(cherry picked from commit bd7c489dc7346f071f15080c2b6c4715e39bbb3c)\n'}]",2,810482,3aea4f92022563cbb7641805829c1192d22b6d95,15,4,1,9816,,,0,"Ironic: Do not override bootfile_name

Since [1] is merged, ironic provides independent options for PXE boot
and iPXE boot, and each parameters like bootfile_name should be defined
according to the boot interface.
This change removes override of uefi_pxe parameters because the values
passed should be used for iPXE instead of PXE.

[1] 4d13da9cc7b8f8fa9ee428731f88d5723eddeffa

Change-Id: I107a5df068df3c6ea636cf4b4783a417ab249f38
(cherry picked from commit bd7c489dc7346f071f15080c2b6c4715e39bbb3c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/810482/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-conductor-container-puppet.yaml'],1,3aea4f92022563cbb7641805829c1192d22b6d95,bootfile_name-stable/wallaby,, # NOTE(dtantsur): UEFI only works with iPXE currently for us ironic::drivers::pxe::uefi_pxe_config_template: '$pybasedir/drivers/modules/ipxe_config.template' ironic::drivers::pxe::uefi_pxe_bootfile_name: 'ipxe.efi',0,3
openstack%2Fcharm-octavia~stable%2F21.04~Id8a71ad90da98f6330328663478a948f4b134c0d,openstack/charm-octavia,stable/21.04,Id8a71ad90da98f6330328663478a948f4b134c0d,Test bundles for focal-wallaby and hirsute-wallaby,ABANDONED,2021-08-27 09:54:09.000000000,2021-11-04 09:36:10.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 09:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/001db89d30a7ae1787d92cf7adbf22b29965b654', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nRe-enable testing with Victora Amphora.\n\nRe-enable bionic-ussuri-ha-ovn now that the ovn 20.03.2 SRU\nis complete.\n\nReplace overlay symlinks with local-charm-overlay template.\n\nGroup jobs in two stages to avoid CI resource depletion.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n(cherry picked from commit c30f2982d5d27c77d4ce0d3e096585b75af5461c)\n'}, {'number': 2, 'created': '2021-08-27 12:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/e74d1e6dd05be7b1f8453cf00c6dfd514895008c', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nRe-enable testing with Victora Amphora.\n\nRe-enable bionic-ussuri-ha-ovn now that the ovn 20.03.2 SRU\nis complete.\n\nReplace overlay symlinks with local-charm-overlay template.\n\nGroup jobs in two stages to avoid CI resource depletion.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n(cherry picked from commit c30f2982d5d27c77d4ce0d3e096585b75af5461c)\n'}, {'number': 3, 'created': '2021-08-30 09:18:52.000000000', 'files': ['src/tests/bundles/overlays/bionic-ussuri-ha.yaml.j2', 'src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'osci.yaml', 'src/tests/bundles/overlays/bionic-train-ha-ovn.yaml.j2', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/hirsute-wallaby-ha.yaml', 'src/tests/bundles/overlays/bionic-rocky-ha.yaml.j2', 'src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/hirsute-wallaby-ha-ovn.yaml', 'src/tests/bundles/overlays/groovy-victoria-ha.yaml.j2', 'src/tests/bundles/overlays/bionic-rocky-lxd.yaml.j2', 'src/tests/bundles/overlays/bionic-ussuri-ha-ovn.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri-ha-ovn.yaml.j2', 'src/tests/bundles/overlays/focal-victoria-ha.yaml.j2', 'src/tests/bundles/overlays/groovy-victoria-ha-ovn.yaml.j2', 'src/tests/bundles/overlays/bionic-train-ha.yaml.j2', 'src/tests/bundles/overlays/focal-victoria-ha-ovn.yaml.j2', 'src/tests/bundles/focal-ussuri-ha-ovn.yaml', 'src/tests/bundles/overlays/bionic-stein-ha.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/focal-wallaby-ha.yaml', 'src/tests/bundles/overlays/focal-ussuri-ha.yaml.j2', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/bundles/focal-wallaby-ha-ovn.yaml', 'src/tests/bundles/groovy-victoria-ha-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/9dbfd21f4d92658adde3392b37230f2b560f6f94', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nRe-enable testing with Victora Amphora.\n\nRe-enable bionic-ussuri-ha-ovn now that the ovn 20.03.2 SRU\nis complete.\n\nReplace overlay symlinks with local-charm-overlay template.\n\nGroup jobs in two stages to avoid CI resource depletion.\n\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n(cherry picked from commit c30f2982d5d27c77d4ce0d3e096585b75af5461c)\n'}]",0,806375,9dbfd21f4d92658adde3392b37230f2b560f6f94,14,3,3,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Re-enable testing with Victora Amphora.

Re-enable bionic-ussuri-ha-ovn now that the ovn 20.03.2 SRU
is complete.

Replace overlay symlinks with local-charm-overlay template.

Group jobs in two stages to avoid CI resource depletion.

Change-Id: Id8a71ad90da98f6330328663478a948f4b134c0d
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
(cherry picked from commit c30f2982d5d27c77d4ce0d3e096585b75af5461c)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/75/806375/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/bionic-ussuri-ha.yaml.j2', 'src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'osci.yaml', 'src/tests/bundles/overlays/bionic-train-ha-ovn.yaml.j2', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/hirsute-wallaby-ha.yaml', 'src/tests/bundles/overlays/bionic-rocky-ha.yaml.j2', 'src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/hirsute-wallaby-ha-ovn.yaml', 'src/tests/bundles/overlays/groovy-victoria-ha.yaml.j2', 'src/tests/bundles/overlays/bionic-rocky-lxd.yaml.j2', 'src/tests/bundles/overlays/bionic-ussuri-ha-ovn.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri-ha-ovn.yaml.j2', 'src/tests/bundles/overlays/focal-victoria-ha.yaml.j2', 'src/tests/bundles/overlays/groovy-victoria-ha-ovn.yaml.j2', 'src/tests/bundles/overlays/bionic-train-ha.yaml.j2', 'src/tests/bundles/overlays/focal-victoria-ha-ovn.yaml.j2', 'src/tests/bundles/focal-ussuri-ha-ovn.yaml', 'src/tests/bundles/overlays/bionic-stein-ha.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/focal-wallaby-ha.yaml', 'src/tests/bundles/overlays/focal-ussuri-ha.yaml.j2', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/bundles/focal-wallaby-ha-ovn.yaml', 'src/tests/bundles/groovy-victoria-ha-ovn.yaml']",26,001db89d30a7ae1787d92cf7adbf22b29965b654,wallaby-bundles-stable/21.04,"variables: openstack-origin: &openstack-origin distro series: &series groovy openstack-origin: *openstack-origin openstack-origin: *openstack-origin openstack-origin: *openstack-origin openstack-origin: *openstack-origin openstack-origin: *openstack-origin<<<<<<< HEAD (e24860 Updates for stable branch creation)======= series: *series charm: cs:~openstack-charmers-next/hacluster ovn-chassis-octavia: charm: cs:~openstack-charmers-next/ovn-chassis >>>>>>> CHANGE (c30f29 Test bundles for focal-wallaby and hirsute-wallaby) series: *series openstack-origin: *openstack-origin mirror_list: ""[{url: 'http://cloud-images.ubuntu.com/releases/', name_prefix: 'ubuntu:released', path: 'streams/v1/index.sjson', max: 1, item_filters: [ 'release~(bionic|focal|groovy)', 'arch~(x86_64|amd64)', 'ftype~(disk1.img|disk.img)']}]""<<<<<<< HEAD (e24860 Updates for stable branch creation)======= retrofit-series: *series >>>>>>> CHANGE (c30f29 Test bundles for focal-wallaby and hirsute-wallaby) openstack-origin: *openstack-origin source: *openstack-origin",series: groovy openstack-origin: distro openstack-origin: distro openstack-origin: distro openstack-origin: distro openstack-origin: distro series: groovy openstack-origin: distro openstack-origin: distro source: distro,1124,86
openstack%2Fwhitebox-tempest-plugin~master~I22d20d76e0e7e889ecff5e02f397efed5504a8c9,openstack/whitebox-tempest-plugin,master,I22d20d76e0e7e889ecff5e02f397efed5504a8c9,DNM zuul: Test encrypted ceph,ABANDONED,2021-10-07 17:04:37.000000000,2021-11-04 09:35:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-07 17:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/c71800bddab1c11a94a0d58b75b11db50026070a', 'message': 'DNM zuul: Test encrypted ceph\n\nChange-Id: I22d20d76e0e7e889ecff5e02f397efed5504a8c9\n'}, {'number': 2, 'created': '2021-10-08 08:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/efc51ecae499c85f5a0bca909243f97acc7a0027', 'message': 'DNM zuul: Test encrypted ceph\n\nChange-Id: I22d20d76e0e7e889ecff5e02f397efed5504a8c9\n'}, {'number': 3, 'created': '2021-10-08 08:35:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/0345da772665bc1f84f23eedb8d2519e2bd0406c', 'message': 'DNM zuul: Test encrypted ceph\n\nChange-Id: I22d20d76e0e7e889ecff5e02f397efed5504a8c9\n'}]",0,813057,0345da772665bc1f84f23eedb8d2519e2bd0406c,10,1,3,10135,,,0,"DNM zuul: Test encrypted ceph

Change-Id: I22d20d76e0e7e889ecff5e02f397efed5504a8c9
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/57/813057/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c71800bddab1c11a94a0d58b75b11db50026070a,," name: whitebox-devstack-multinode-ceph abstract: true parent: devstack-plugin-ceph-tempest nodeset: nested-virt-multinode description: | Runs the entire test suite on single-NUMA, non-SMT, nested virt VMs. required-projects: openstack/whitebox-tempest-plugin pre-run: playbooks/whitebox/pre.yaml irrelevant-files: - ^test-requirements.txt$ vars: tox_envlist: all tempest_concurrency: 1 tempest_test_regex: ^whitebox_tempest_plugin\. devstack_plugins: whitebox-tempest-plugin: https://opendev.org/openstack/whitebox-tempest-plugin.git devstack_localrc: MAX_COMPUTE_NODES: 2 LIBVIRT_TYPE: kvm TEMPEST_PLUGINS: /opt/stack/whitebox-tempest-plugin WHITEBOX_PRIVKEY_PATH: /home/tempest/.ssh/id_rsa WHITEBOX_CPU_MODEL: kvm64 WHITEBOX_CPU_MODEL_EXTRA_FLAGS: vme,+ssse3,-mmx WHITEBOX_CPU_TOPOLOGY: ""0: [0,1,2,3,4,5,6,7]"" devstack_local_conf: post-config: $NOVA_CONF: libvirt: cpu_mode: custom cpu_models: kvm64 cpu_model_extra_flags: vme,+ssse3,-mmx virt_type: kvm rx_queue_size: 1024 group-vars: subnode: num_hugepages: 2048 devstack_localrc: LIBVIRT_TYPE: kvm devstack_local_conf: post-config: $NOVA_CONF: libvirt: cpu_mode: custom cpu_models: kvm64 cpu_model_extra_flags: vme,+ssse3,-mmx virt_type: kvm rx_queue_size: 1024 tempest: num_hugepages: 512 - job: - whitebox-devstack-multinode-ceph - whitebox-devstack-multinode-ceph", - whitebox-devstack-multinode - whitebox-devstack-multinode-cpupinning - whitebox-devstack-multinode-cpupinninglegacy # TODO(amodi): Add a periodic job for below - whitebox-devstack-ceph-compute-local-ephemeral - whitebox-devstack-multinode - whitebox-devstack-multinode-cpupinning - whitebox-devstack-multinode-cpupinninglegacy - whitebox-devstack-ceph-compute-local-ephemeral,54,9
openstack%2Fcharm-vault~master~I6d6a0eba53e197993b223ce6a736444d6c12d647,openstack/charm-vault,master,I6d6a0eba53e197993b223ce6a736444d6c12d647,Improve root CA handling for action 'disable-pki',MERGED,2021-11-02 19:29:33.000000000,2021-11-04 09:31:23.000000000,2021-11-04 09:31:23.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-02 19:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/a628bc9c0005e5966d068e89b4a1844fe444f7e3', 'message': ""Improve root CA handling for action 'disable-pki'\n\nClear old root CA stored in vault/leader when action 'disable-pki'\nis called\n\nCloses-Bug: #1948989\nChange-Id: I6d6a0eba53e197993b223ce6a736444d6c12d647\n""}, {'number': 2, 'created': '2021-11-03 13:32:16.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/fbf6cc54949356fa633ffddafb4b546cfd54ca74', 'message': ""Improve root CA handling for action 'disable-pki'\n\nClear old root CA stored in vault/leader when action 'disable-pki'\nis called\n\nCloses-Bug: #1948989\nChange-Id: I6d6a0eba53e197993b223ce6a736444d6c12d647\n""}]",2,816399,fbf6cc54949356fa633ffddafb4b546cfd54ca74,11,3,2,34059,,,0,"Improve root CA handling for action 'disable-pki'

Clear old root CA stored in vault/leader when action 'disable-pki'
is called

Closes-Bug: #1948989
Change-Id: I6d6a0eba53e197993b223ce6a736444d6c12d647
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/99/816399/1 && git format-patch -1 --stdout FETCH_HEAD,['src/actions/actions.py'],1,a628bc9c0005e5966d068e89b4a1844fe444f7e3,bug/1948989, hookenv.leader_set({'root-ca': None}),,1,0
openstack%2Fos-ken~master~I6d670bce7f5cbca7ae31178cb0beb5c891a72405,openstack/os-ken,master,I6d670bce7f5cbca7ae31178cb0beb5c891a72405,Add support for the MTU ND option.,MERGED,2021-10-13 14:19:22.000000000,2021-11-04 09:29:56.000000000,2021-11-04 09:28:08.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-13 14:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/60954552d38fe139b8a7dc9b38ef3651e708997e', 'message': 'Add support for the MTU ND option.\n\nBackport from https://github.com/faucetsdn/ryu/commit/ca597a5e\n\nStory: #2009283\nTask: #43616\nChange-Id: I6d670bce7f5cbca7ae31178cb0beb5c891a72405\n'}, {'number': 2, 'created': '2021-10-27 07:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/8545e1c173ee5caac1aabf4482a2ee4de06c4d3c', 'message': 'Add support for the MTU ND option.\n\nBackport from https://github.com/faucetsdn/ryu/commit/ca597a5e\n\nStory: #2009283\nTask: #43616\nChange-Id: I6d670bce7f5cbca7ae31178cb0beb5c891a72405\n'}, {'number': 3, 'created': '2021-11-02 20:45:03.000000000', 'files': ['os_ken/lib/packet/icmpv6.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/b5104258bdf1771696ba7595c72050c42663d43e', 'message': 'Add support for the MTU ND option.\n\nBackport from https://github.com/faucetsdn/ryu/commit/ca597a5e\n\nStory: #2009283\nTask: #43616\nChange-Id: I6d670bce7f5cbca7ae31178cb0beb5c891a72405\n'}]",3,813836,b5104258bdf1771696ba7595c72050c42663d43e,18,3,3,11975,,,0,"Add support for the MTU ND option.

Backport from https://github.com/faucetsdn/ryu/commit/ca597a5e

Story: #2009283
Task: #43616
Change-Id: I6d670bce7f5cbca7ae31178cb0beb5c891a72405
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/36/813836/1 && git format-patch -1 --stdout FETCH_HEAD,['os_ken/lib/packet/icmpv6.py'],1,60954552d38fe139b8a7dc9b38ef3651e708997e,task/43614,"@nd_router_advert.register_nd_option_type class nd_option_mtu(nd_option): """"""ICMPv6 sub encoder/decoder class for Neighbor discovery MTU Option. (RFC 4861) This is used with os_ken.lib.packet.icmpv6.nd_router_advert. An instance has the following attributes at least. Most of them are same to the on-wire counterparts but in host byte order. __init__ takes the corresponding args in this order. .. tabularcolumns:: |l|p{35em}| ============== ==================== Attribute Description ============== ==================== mtu MTU. ============== ==================== """""" _PACK_STR = '!BBHI' _LEN = struct.calcsize(_PACK_STR) _OPTION_LEN = _LEN // 8 @classmethod def option_type(cls): return ND_OPTION_MTU def __init__(self, mtu=1500): super(nd_option_mtu, self).__init__(self.option_type(), 0) self.mtu = mtu @classmethod def parser(cls, buf, offset): (_, _, _, mtu) = struct.unpack_from(cls._PACK_STR, buf, offset) msg = cls(mtu) return msg def serialize(self): buf = bytearray(struct.pack( self._PACK_STR, self.option_type(), self._OPTION_LEN, 0, self.mtu)) return six.binary_type(buf) ",,44,0
openstack%2Freleases~master~I22d3e4863c13335da39d8f1622626bfed2328384,openstack/releases,master,I22d3e4863c13335da39d8f1622626bfed2328384,[manila] Release manila 13.0.1,MERGED,2021-11-03 20:04:25.000000000,2021-11-04 09:23:57.000000000,2021-11-04 09:23:57.000000000,"[{'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-03 20:04:25.000000000', 'files': ['deliverables/xena/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/43fedaefea83f8208f8350c34d942a326e120492', 'message': '[manila] Release manila 13.0.1\n\nThis release includes several bugfixes and enhancements committed\nagainst the stable/xena branch.\n\nChange-Id: I22d3e4863c13335da39d8f1622626bfed2328384\n'}]",2,816552,43fedaefea83f8208f8350c34d942a326e120492,9,4,1,29632,,,0,"[manila] Release manila 13.0.1

This release includes several bugfixes and enhancements committed
against the stable/xena branch.

Change-Id: I22d3e4863c13335da39d8f1622626bfed2328384
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/816552/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/manila.yaml'],1,43fedaefea83f8208f8350c34d942a326e120492,, - version: 13.0.1 projects: - repo: openstack/manila hash: a1f8f4b293d6bb656109367f3531faea5f322402,,4,0
openstack%2Freleases~master~I6ef3f10e3120f1caed768155868f1e506b51e9a6,openstack/releases,master,I6ef3f10e3120f1caed768155868f1e506b51e9a6,[python-manilaclient] Release manilaclient 2.6.1 for Wallaby,MERGED,2021-11-03 20:51:50.000000000,2021-11-04 09:21:45.000000000,2021-11-04 09:21:45.000000000,"[{'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-03 20:51:50.000000000', 'files': ['deliverables/wallaby/python-manilaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2b6bd4679c9ea7331ae843dc5aa4bf95cbf93200', 'message': '[python-manilaclient] Release manilaclient 2.6.1 for Wallaby\n\nThis is a bugfix release for python-manilaclient.\n\nChange-Id: I6ef3f10e3120f1caed768155868f1e506b51e9a6\n'}]",2,816570,2b6bd4679c9ea7331ae843dc5aa4bf95cbf93200,9,4,1,29632,,,0,"[python-manilaclient] Release manilaclient 2.6.1 for Wallaby

This is a bugfix release for python-manilaclient.

Change-Id: I6ef3f10e3120f1caed768155868f1e506b51e9a6
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/816570/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-manilaclient.yaml'],1,2b6bd4679c9ea7331ae843dc5aa4bf95cbf93200,, - version: 2.6.1 projects: - repo: openstack/python-manilaclient hash: c338a6c2d02bf94e46904e5998ebdf1a357d2866,,4,0
openstack%2Fos-ken~master~I76efb04c418210691ceb114b8bde5ec4d02aea83,openstack/os-ken,master,I76efb04c418210691ceb114b8bde5ec4d02aea83,Allow user to set cipher list.,MERGED,2021-10-13 14:17:48.000000000,2021-11-04 09:18:07.000000000,2021-11-04 09:16:37.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-13 14:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/5bc2dae5e368c7abc502e8bcdbbbf8954c9d35d3', 'message': 'Allow user to set cipher list.\n\nBackport from https://github.com/faucetsdn/ryu/commit/7559befd\n\nStory: #2009283\nTask: #43615\nChange-Id: I76efb04c418210691ceb114b8bde5ec4d02aea83\n'}, {'number': 2, 'created': '2021-10-27 07:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/56d022b7d7c34341d248da384b86459b712dfdea', 'message': 'Allow user to set cipher list.\n\nBackport from https://github.com/faucetsdn/ryu/commit/7559befd\n\nStory: #2009283\nTask: #43615\nChange-Id: I76efb04c418210691ceb114b8bde5ec4d02aea83\n'}, {'number': 3, 'created': '2021-11-02 20:43:06.000000000', 'files': ['os_ken/tests/unit/controller/test_controller.py', 'os_ken/controller/controller.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/c21b44f7067a1f8e517b09db1c55ebdd1f4a81ee', 'message': 'Allow user to set cipher list.\n\nBackport from https://github.com/faucetsdn/ryu/commit/7559befd\n\nStory: #2009283\nTask: #43615\nChange-Id: I76efb04c418210691ceb114b8bde5ec4d02aea83\n'}]",2,813835,c21b44f7067a1f8e517b09db1c55ebdd1f4a81ee,16,3,3,11975,,,0,"Allow user to set cipher list.

Backport from https://github.com/faucetsdn/ryu/commit/7559befd

Story: #2009283
Task: #43615
Change-Id: I76efb04c418210691ceb114b8bde5ec4d02aea83
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/35/813835/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_ken/tests/unit/controller/test_controller.py', 'os_ken/controller/controller.py']",2,5bc2dae5e368c7abc502e8bcdbbbf8954c9d35d3,task/43614," cfg.StrOpt('ciphers', default=None, help='list of ciphers to enable'), if CONF.ciphers is not None: ssl_args['ciphers'] = CONF.ciphers ",,5,0
openstack%2Fos-ken~master~Ie7c2f4e202edff1f4286de31cf8314fdbec85f2d,openstack/os-ken,master,Ie7c2f4e202edff1f4286de31cf8314fdbec85f2d,Bugfix now multiple switches can connect with TLS,MERGED,2021-10-13 14:08:34.000000000,2021-11-04 09:13:41.000000000,2021-11-04 09:12:09.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-13 14:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/fe7100557cb49b294cc9edcdfceddcc9407c0d32', 'message': 'Bugfix now multiple switches can connect with TLS\n\nThis fixes a bug in RYU StreamServer where SSLContext was modified for\neach connection. Now the SSLContext of the server socket is modified\nonly once in __init__\n\nBackport from https://github.com/faucetsdn/ryu/commit/906b3a3e\n\nStory: #2009283\nTask: #43562\nChange-Id: Ie7c2f4e202edff1f4286de31cf8314fdbec85f2d\n'}, {'number': 2, 'created': '2021-10-27 07:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/71529efde334c392327f2e4db711b00dc1a9807f', 'message': 'Bugfix now multiple switches can connect with TLS\n\nThis fixes a bug in RYU StreamServer where SSLContext was modified for\neach connection. Now the SSLContext of the server socket is modified\nonly once in __init__\n\nBackport from https://github.com/faucetsdn/ryu/commit/906b3a3e\n\nStory: #2009283\nTask: #43562\nChange-Id: Ie7c2f4e202edff1f4286de31cf8314fdbec85f2d\n'}, {'number': 3, 'created': '2021-11-02 20:42:19.000000000', 'files': ['os_ken/lib/hub.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/a6af9930028e1736ffda028dddcf2d190b43c22a', 'message': 'Bugfix now multiple switches can connect with TLS\n\nThis fixes a bug in RYU StreamServer where SSLContext was modified for\neach connection. Now the SSLContext of the server socket is modified\nonly once in __init__\n\nBackport from https://github.com/faucetsdn/ryu/commit/906b3a3e\n\nStory: #2009283\nTask: #43562\nChange-Id: Ie7c2f4e202edff1f4286de31cf8314fdbec85f2d\n'}]",0,813833,a6af9930028e1736ffda028dddcf2d190b43c22a,15,3,3,11975,,,0,"Bugfix now multiple switches can connect with TLS

This fixes a bug in RYU StreamServer where SSLContext was modified for
each connection. Now the SSLContext of the server socket is modified
only once in __init__

Backport from https://github.com/faucetsdn/ryu/commit/906b3a3e

Story: #2009283
Task: #43562
Change-Id: Ie7c2f4e202edff1f4286de31cf8314fdbec85f2d
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/33/813833/1 && git format-patch -1 --stdout FETCH_HEAD,['os_ken/lib/hub.py'],1,fe7100557cb49b294cc9edcdfceddcc9407c0d32,task/43614," ssl_args.setdefault('server_side', True) if 'ssl_ctx' in ssl_args: ctx = ssl_args.pop('ssl_ctx') ctx.load_cert_chain(ssl_args.pop('certfile'), ssl_args.pop('keyfile')) if 'cert_reqs' in ssl_args: ctx.verify_mode = ssl_args.pop('cert_reqs') if 'ca_certs' in ssl_args: ctx.load_verify_locations(ssl_args.pop('ca_certs')) def wrap_and_handle_ctx(sock, addr): self.handle = wrap_and_handle_ctx else: def wrap_and_handle_ssl(sock, addr): self.handle = wrap_and_handle_ssl"," def wrap_and_handle(sock, addr): ssl_args.setdefault('server_side', True) if 'ssl_ctx' in ssl_args: ctx = ssl_args.pop('ssl_ctx') ctx.load_cert_chain(ssl_args.pop('certfile'), ssl_args.pop('keyfile')) if 'cert_reqs' in ssl_args: ctx.verify_mode = ssl_args.pop('cert_reqs') if 'ca_certs' in ssl_args: ctx.load_verify_locations(ssl_args.pop('ca_certs')) else: self.handle = wrap_and_handle",16,12
openstack%2Freleases~master~I08119f64d64982515262c0c15cf481e55b2d3d1b,openstack/releases,master,I08119f64d64982515262c0c15cf481e55b2d3d1b,Release Tempest 29.1.0,MERGED,2021-11-01 12:06:00.000000000,2021-11-04 09:03:16.000000000,2021-11-04 09:03:16.000000000,"[{'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-01 12:06:00.000000000', 'files': ['deliverables/yoga/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5c85ded5c2548aca44c00686ab9f2960e740cde6', 'message': 'Release Tempest 29.1.0\n\nAdd intermediate release for Tempest Yoga which includes a few\nimportant bug fixes.\n\nChange-Id: I08119f64d64982515262c0c15cf481e55b2d3d1b\n'}]",2,816165,5c85ded5c2548aca44c00686ab9f2960e740cde6,9,4,1,22873,,,0,"Release Tempest 29.1.0

Add intermediate release for Tempest Yoga which includes a few
important bug fixes.

Change-Id: I08119f64d64982515262c0c15cf481e55b2d3d1b
",git fetch https://review.opendev.org/openstack/releases refs/changes/65/816165/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/tempest.yaml'],1,5c85ded5c2548aca44c00686ab9f2960e740cde6,,releases: - projects: - repo: openstack/tempest hash: 8cd09500bea38bfd9478814be95fddf3df56fbff version: 29.1.0,,5,0
openstack%2Freleases~master~I8aae021fc9ffba3ed1e52cf319b7df44545fbf53,openstack/releases,master,I8aae021fc9ffba3ed1e52cf319b7df44545fbf53,Update Yoga Cycle key with my signature,MERGED,2021-10-28 19:45:07.000000000,2021-11-04 08:59:27.000000000,2021-11-04 08:59:27.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-10-28 19:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0427b3d6a73f73826541f9d214d948e24bbc58f2', 'message': 'Update Yoga Cycle key with my signature\n\nI have verified the correctness of the key according to the copy\nstored on bridge.\n\nAlso update the recommended signature listing command line to\ninclude some specific output options which will hopefully make the\ncomment block somewhat more stable and reviewable.\n\nChange-Id: I8aae021fc9ffba3ed1e52cf319b7df44545fbf53\n'}, {'number': 2, 'created': '2021-10-28 19:53:14.000000000', 'files': ['doc/source/index.rst', 'doc/source/static/0x01527a34f0d0080f8a5db8d6eb6c5df21b4b6363.txt'], 'web_link': 'https://opendev.org/openstack/releases/commit/d817b8161fdb54e4c12cba66a427bb17d7d65426', 'message': 'Update Yoga Cycle key with my signature\n\nI have verified the correctness of the key according to the copy\nstored on bridge.\n\nAlso update the recommended signature listing command line to\ninclude some specific output options which will hopefully make the\ncomment block somewhat more stable and reviewable.\n\nChange-Id: I8aae021fc9ffba3ed1e52cf319b7df44545fbf53\n'}]",0,815903,d817b8161fdb54e4c12cba66a427bb17d7d65426,8,3,2,5263,,,0,"Update Yoga Cycle key with my signature

I have verified the correctness of the key according to the copy
stored on bridge.

Also update the recommended signature listing command line to
include some specific output options which will hopefully make the
comment block somewhat more stable and reviewable.

Change-Id: I8aae021fc9ffba3ed1e52cf319b7df44545fbf53
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/815903/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/static/0x01527a34f0d0080f8a5db8d6eb6c5df21b4b6363.txt']",2,0427b3d6a73f73826541f9d214d948e24bbc58f2,artifact-signing,pub ed25519/0xEB6C5DF21B4B6363 2021-10-26 [SC] [expires: 2022-07-23] Key fingerprint = 0152 7A34 F0D0 080F 8A5D B8D6 EB6C 5DF2 1B4B 6363 uid OpenStack Infra (Yoga Cycle) <infra-root@openstack.org> sig 3 0xEB6C5DF21B4B6363 2021-10-26 OpenStack Infra (Yoga Cycle) <infra-root@openstack.org> sig 0x7C5A3BC787DC7035 2021-10-26 OpenStack Infra (Xena Cycle) <infra-root@openstack.org> sig 0xE7862B245C3596B1 2021-10-28 Dr. Jens Harbott <harbott@osism.tech> sig 0x48F9961143495829 2021-10-28 Jeremy Stanley <fungi@yuggoth.org> sub cv25519/0xA7F890E391EEBA5F 2021-10-26 [E] [expires: 2022-07-23] sig 0xEB6C5DF21B4B6363 2021-10-26 OpenStack Infra (Yoga Cycle) <infra-root@openstack.org> sub ed25519/0x63643A8728715809 2021-10-26 [S] sig 0xEB6C5DF21B4B6363 2021-10-26 OpenStack Infra (Yoga Cycle) <infra-root@openstack.org>C+z45nopKiO8ML10Uw3zewJKO3rIR95FlR9PZ0gY9ddV8kmJAjMEEAEKAB0WIQSX rklvwC3sn8NTsudI+ZYRQ0lYKQUCYXr74QAKCRBI+ZYRQ0lYKesFD/9WxlV8oX4V 3ZrA9F13gd8zjH+Upd7PBhVkN5zjwziTsZz3mk/DUtKz9u4YvqGrnTRAvOJaiUga d5jNClxsC5EFA5yeFnNPVsTvz5pEzY/zhO1SpHp7PPTPSDaumsJQK50QTqrTlBb0 01SX/mCrHQNNlVBGTQKhQ5fUJ6oppfGX7Bb0XgDghmL8+IYiMfinbdFXGsDfjzu2 htotK0BbvzTqZytGUjK0aNl/pPWz3doC/N64EKTA5UoRe/QdH91DGy5hrSEC43kt EOQ5ZjfcAHLOT3ZpLTegWLkY9UbjbOusUxKwX71ET55O67hjIMpbfrBgBlw4SgVA x/64zZMVNwGrhyXx+TwEo9/Ea3TCqa9y/9h5KKxnJhBWroMQSZZIg6karyOylay2 FCkiTB0B6YaiTPXGeTlOvwuOxuE0VVs/W5Lds3XcX2FnlzgPAwDotdooYzgkkEGm 1MS6KC1PWItuLelxUl3BIXO+M77ETqP7YX5CCMHuXkSMRQRSeMXmplbgpp7RjWLl NG0PzYgmPygxZEPdPXDpJIyg/Hkw2KSMiomfKW1ueMCtH6RcOl0obULRb0Un5U4t 6QZXDTTE0Fx1hX+e5QoGm3TKiNGWlbHH+CJzItyTEAhD/1EB3IvX8TEjUXCctxpo IeXxF3i/qSTPH1cFRJXHPzTwMMlD22cMFLg4BGF4R90SCisGAQQBl1UBBQEBB0DH 8m2QqQR2wTknhuTC7JlPRtMTQ0ZuPej84zwkQKZKWgMBCAeIfgQYFggAJhYhBAFS ejTw0AgPil241utsXfIbS2NjBQJheEfdAhsMBQkBY/UAAAoJEOtsXfIbS2Njdg4B AL6NYuS3R8cCKwpBJUkyo/4S8oeP6KK2WZ2QnsEyHLDKAQCMPyZaA2C14qaK7igp gir4ybvK18eIX4Zk3cxj01bGDLgzBGF4SHkWCSsGAQQB2kcPAQEHQDc4rP8hizFh FQnBi8IIs5MQBnNo8y7RRQjvABLxVhcIiO8EGBYIACAWIQQBUno08NAID4pduNbr bF3yG0tjYwUCYXhIeQIbAgCBCRDrbF3yG0tjY3YgBBkWCAAdFiEEGXTlNEgMEhJM 3CuzY2Q6hyhxWAkFAmF4SHkACgkQY2Q6hyhxWAnP9gD8DjFJ7LI1UWWKdCz3uvNv 7SNwEuYpQgMZUd05bJVWRPwBAI5wCHp90kSjJ/E1ppQedx41cB0y3IHMe1lWQDbf UL8O820BAOYx87/GPSSoZyrQPwJ7I6mhfzrdhQidz7KslCJVO5PBAP9Fk6LIGCpg KrckbJOu9yNSaIcwsmIIiPmG8EPwm7DNCg== =mpjs,pub ed25519 2021-10-26 [SC] [expires: 2022-07-23] 0152 7A34 F0D0 080F 8A5D B8D6 EB6C 5DF2 1B4B 6363 uid [ full ] OpenStack Infra (Yoga Cycle) <infra-root@openstack.org> sig 3 EB6C5DF21B4B6363 2021-10-26 OpenStack Infra (Yoga Cycle) <infra-root@openstack.org> sig 7C5A3BC787DC7035 2021-10-26 OpenStack Infra (Xena Cycle) <infra-root@openstack.org> sig E7862B245C3596B1 2021-10-28 Dr. Jens Harbott <harbott@osism.tech> sub cv25519 2021-10-26 [E] [expires: 2022-07-23] sig EB6C5DF21B4B6363 2021-10-26 OpenStack Infra (Yoga Cycle) <infra-root@openstack.org> sub ed25519 2021-10-26 [S] sig EB6C5DF21B4B6363 2021-10-26 OpenStack Infra (Yoga Cycle) <infra-root@openstack.org>C+z45nopKiO8ML10Uw3zewJKO3rIR95FlR9PZ0gY9ddV8km4OARheEfdEgorBgEE AZdVAQUBAQdAx/JtkKkEdsE5J4bkwuyZT0bTE0NGbj3o/OM8JECmSloDAQgHiH4E GBYIACYWIQQBUno08NAID4pduNbrbF3yG0tjYwUCYXhH3QIbDAUJAWP1AAAKCRDr bF3yG0tjY3YOAQC+jWLkt0fHAisKQSVJMqP+EvKHj+iitlmdkJ7BMhywygEAjD8m WgNgteKmiu4oKYIq+Mm7ytfHiF+GZN3MY9NWxgy4MwRheEh5FgkrBgEEAdpHDwEB B0A3OKz/IYsxYRUJwYvCCLOTEAZzaPMu0UUI7wAS8VYXCIjvBBgWCAAgFiEEAVJ6 NPDQCA+KXbjW62xd8htLY2MFAmF4SHkCGwIAgQkQ62xd8htLY2N2IAQZFggAHRYh BBl05TRIDBISTNwrs2NkOococVgJBQJheEh5AAoJEGNkOococVgJz/YA/A4xSeyy NVFlinQs97rzb+0jcBLmKUIDGVHdOWyVVkT8AQCOcAh6fdJEoyfxNaaUHnceNXAd MtyBzHtZVkA231C/DvNtAQDmMfO/xj0kqGcq0D8CeyOpoX863YUInc+yrJQiVTuT wQD/RZOiyBgqYCq3JGyTrvcjUmiHMLJiCIj5hvBD8JuwzQo= =gAun,38,23
openstack%2Freleases~master~I4225c2e4f4640ffb98d83673257c91cce4958f44,openstack/releases,master,I4225c2e4f4640ffb98d83673257c91cce4958f44,Update Yoga Cycle key with my signature,MERGED,2021-10-28 18:57:35.000000000,2021-11-04 08:57:33.000000000,2021-11-04 08:57:33.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-10-28 18:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c26fe6c426e1667abdd6948d78630ccbf18e1718', 'message': 'Update Yoga Cycle key with my signature\n\nI have verified the correctness of the key according to the copy stored\non bridge.\n\nChange-Id: I4225c2e4f4640ffb98d83673257c91cce4958f44\n'}, {'number': 2, 'created': '2021-10-28 19:48:10.000000000', 'files': ['doc/source/static/0x01527a34f0d0080f8a5db8d6eb6c5df21b4b6363.txt'], 'web_link': 'https://opendev.org/openstack/releases/commit/bb72350d1adbe61f23758be1fbdf63c275cba523', 'message': 'Update Yoga Cycle key with my signature\n\nI have verified the correctness of the key according to the copy stored\non bridge.\n\nChange-Id: I4225c2e4f4640ffb98d83673257c91cce4958f44\n'}]",1,815900,bb72350d1adbe61f23758be1fbdf63c275cba523,12,4,2,13252,,,0,"Update Yoga Cycle key with my signature

I have verified the correctness of the key according to the copy stored
on bridge.

Change-Id: I4225c2e4f4640ffb98d83673257c91cce4958f44
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/815900/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/static/0x01527a34f0d0080f8a5db8d6eb6c5df21b4b6363.txt'],1,c26fe6c426e1667abdd6948d78630ccbf18e1718,artifact-signing,pub ed25519 2021-10-26 [SC] [expires: 2022-07-23] 0152 7A34 F0D0 080F 8A5D B8D6 EB6C 5DF2 1B4B 6363 uid [ full ] OpenStack Infra (Yoga Cycle) <infra-root@openstack.org> sig 3 EB6C5DF21B4B6363 2021-10-26 OpenStack Infra (Yoga Cycle) <infra-root@openstack.org> sig 7C5A3BC787DC7035 2021-10-26 OpenStack Infra (Xena Cycle) <infra-root@openstack.org> sig E7862B245C3596B1 2021-10-28 Dr. Jens Harbott <harbott@osism.tech> sub cv25519 2021-10-26 [E] [expires: 2022-07-23] sig EB6C5DF21B4B6363 2021-10-26 OpenStack Infra (Yoga Cycle) <infra-root@openstack.org> sub ed25519 2021-10-26 [S] sig EB6C5DF21B4B6363 2021-10-26 OpenStack Infra (Yoga Cycle) <infra-root@openstack.org>DRe9Ht+HyqT5BRoA/AhauUQad/poCMzw94L8xYWNRdObexx6kU3xEIZGegAOiQIz BBABCgAdFiEEcVqBOepAMnvRmsW454YrJFw1lrEFAmF6750ACgkQ54YrJFw1lrEW lA//S3r5veA4rk8vaBUSAnXXheR2zCc9+ZYtsZJLbe0FFgSrGqyxckb3W7pE2w3L BYhqt4wip47a5Aj37bPnpckoylpdq1WxDn04gV6koE6yH7hLHNok+2wZRGgdGwTV kqOY2pwElRVPm281ZyPFSxAo5M0U/LFU6Gp0cyyHJDTqbuojv6e9FNMMQhy/6Yay usgsNz/cGLmEDBGuAV2tT0xzeu6wWXJOs2uOh5NyV90llWBKTs2kga7T31DUc3fK uR68trwpfeynv26xuTHGqTZL8exmZFcr32cqtVjvQ1XAm4e3HKdnopzJ9w3FCiB3 VPLBbLdYFB52U66oMZT+3M7XbucwXiaVnTRiF0XDEwggXgW/t0TSw02It12IPijE sZOMuROTSJb5kbvc0vxMcXj7SCvKkysbGNl9ne/hunhpBY6OQlh+8kQE8TXaLMop OAsRKWvqSKwwF3EThub8vNhOAd3lbPJorMdq6BcYWUEhKCoo96jIdO27k7tOT7MP RYGuJNxWOQ14jKs4+Emn8VfukMlW55sleoAegujIPZnuAFrbRtL+kfZHI1bMS3BD xJqB19lM1V30yVx+vUyoCevdHw0ob8xyzVoH66DvG31aWMRlEVOHPdaxiSnTZ0D4 C+z45nopKiO8ML10Uw3zewJKO3rIR95FlR9PZ0gY9ddV8km4OARheEfdEgorBgEE AZdVAQUBAQdAx/JtkKkEdsE5J4bkwuyZT0bTE0NGbj3o/OM8JECmSloDAQgHiH4E GBYIACYWIQQBUno08NAID4pduNbrbF3yG0tjYwUCYXhH3QIbDAUJAWP1AAAKCRDr bF3yG0tjY3YOAQC+jWLkt0fHAisKQSVJMqP+EvKHj+iitlmdkJ7BMhywygEAjD8m WgNgteKmiu4oKYIq+Mm7ytfHiF+GZN3MY9NWxgy4MwRheEh5FgkrBgEEAdpHDwEB B0A3OKz/IYsxYRUJwYvCCLOTEAZzaPMu0UUI7wAS8VYXCIjvBBgWCAAgFiEEAVJ6 NPDQCA+KXbjW62xd8htLY2MFAmF4SHkCGwIAgQkQ62xd8htLY2N2IAQZFggAHRYh BBl05TRIDBISTNwrs2NkOococVgJBQJheEh5AAoJEGNkOococVgJz/YA/A4xSeyy NVFlinQs97rzb+0jcBLmKUIDGVHdOWyVVkT8AQCOcAh6fdJEoyfxNaaUHnceNXAd MtyBzHtZVkA231C/DvNtAQDmMfO/xj0kqGcq0D8CeyOpoX863YUInc+yrJQiVTuT wQD/RZOiyBgqYCq3JGyTrvcjUmiHMLJiCIj5hvBD8JuwzQo= =gAun,pub ed25519/0xEB6C5DF21B4B6363 2021-10-26 [SC] [expires: 2022-07-23] Key fingerprint = 0152 7A34 F0D0 080F 8A5D B8D6 EB6C 5DF2 1B4B 6363 uid [ultimate] OpenStack Infra (Yoga Cycle) <infra-root@openstack.org> sig 3 0xEB6C5DF21B4B6363 2021-10-26 OpenStack Infra (Yoga Cycle) <infra-root@openstack.org> sig 0x7C5A3BC787DC7035 2021-10-26 OpenStack Infra (Xena Cycle) <infra-root@openstack.org> sub cv25519/0xA7F890E391EEBA5F 2021-10-26 [E] [expires: 2022-07-23] sig 0xEB6C5DF21B4B6363 2021-10-26 OpenStack Infra (Yoga Cycle) <infra-root@openstack.org> sub ed25519/0x63643A8728715809 2021-10-26 [S] sig 0xEB6C5DF21B4B6363 2021-10-26 OpenStack Infra (Yoga Cycle) <infra-root@openstack.org>DRe9Ht+HyqT5BRoA/AhauUQad/poCMzw94L8xYWNRdObexx6kU3xEIZGegAOuDgE YXhH3RIKKwYBBAGXVQEFAQEHQMfybZCpBHbBOSeG5MLsmU9G0xNDRm496PzjPCRA pkpaAwEIB4h+BBgWCAAmFiEEAVJ6NPDQCA+KXbjW62xd8htLY2MFAmF4R90CGwwF CQFj9QAACgkQ62xd8htLY2N2DgEAvo1i5LdHxwIrCkElSTKj/hLyh4/oorZZnZCe wTIcsMoBAIw/JloDYLXiporuKCmCKvjJu8rXx4hfhmTdzGPTVsYMuDMEYXhIeRYJ KwYBBAHaRw8BAQdANzis/yGLMWEVCcGLwgizkxAGc2jzLtFFCO8AEvFWFwiI7wQY FggAIBYhBAFSejTw0AgPil241utsXfIbS2NjBQJheEh5AhsCAIEJEOtsXfIbS2Nj diAEGRYIAB0WIQQZdOU0SAwSEkzcK7NjZDqHKHFYCQUCYXhIeQAKCRBjZDqHKHFY Cc/2APwOMUnssjVRZYp0LPe682/tI3AS5ilCAxlR3TlslVZE/AEAjnAIen3SRKMn 8TWmlB53HjVwHTLcgcx7WVZANt9Qvw7zbQEA5jHzv8Y9JKhnKtA/AnsjqaF/Ot2F CJ3PsqyUIlU7k8EA/0WTosgYKmAqtyRsk673I1JohzCyYgiI+YbwQ/CbsM0K =6UEt,34,21
openstack%2Fkuryr-tempest-plugin~master~Ib0a63190d0d07dbe1bf9ab69752703b013d5309e,openstack/kuryr-tempest-plugin,master,Ib0a63190d0d07dbe1bf9ab69752703b013d5309e,Increase timeout waiting for namespace deletion,MERGED,2021-10-27 12:43:00.000000000,2021-11-04 08:41:37.000000000,2021-11-04 08:39:42.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-27 12:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/9433c250ac7c9823b1526754725ee19986567dd8', 'message': 'Increase timeout waiting for namespace deletion\n\nIncrease the timeout in test_recreate_pod_in_namespace until BZ#1997120\nis fixed\nChange-Id: Ib0a63190d0d07dbe1bf9ab69752703b013d5309e\n'}, {'number': 2, 'created': '2021-10-28 07:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/6ae42fbc72f019c99cef8665b4f5a4d300cf5290', 'message': 'Increase timeout waiting for namespace deletion\n\nIncrease the timeout in test_recreate_pod_in_namespace until BZ#1997120\nis fixed\nChange-Id: Ib0a63190d0d07dbe1bf9ab69752703b013d5309e\n'}, {'number': 3, 'created': '2021-10-28 12:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/4476eeff0a6dbdbe5f3f18cf6ab485ec330f659d', 'message': 'Increase timeout waiting for namespace deletion\n\nIncrease the timeout in test_recreate_pod_in_namespace until BZ#1997120\nis fixed\nChange-Id: Ib0a63190d0d07dbe1bf9ab69752703b013d5309e\n'}, {'number': 4, 'created': '2021-11-03 02:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/d27bd8e63b9c5f9ebdcaa33918b29dc0e1b47613', 'message': 'Increase timeout waiting for namespace deletion\n\nIncrease the timeout in test_recreate_pod_in_namespace until BZ#1997120\nis fixed\nChange-Id: Ib0a63190d0d07dbe1bf9ab69752703b013d5309e\n'}, {'number': 5, 'created': '2021-11-03 02:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/fff3166ded5439b8c0e3004c36e4949cd839b1ad', 'message': 'Increase timeout waiting for namespace deletion\n\nIncrease the timeout in test_recreate_pod_in_namespace until BZ#1997120\nis fixed\nChange-Id: Ib0a63190d0d07dbe1bf9ab69752703b013d5309e\n'}, {'number': 6, 'created': '2021-11-04 00:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/aee5d4034f91ac8841068b0d63b1c3feebaa5dd3', 'message': 'Increase timeout waiting for namespace deletion\n\nIncrease the timeout in test_recreate_pod_in_namespace until BZ#1997120\nis fixed\nChange-Id: Ib0a63190d0d07dbe1bf9ab69752703b013d5309e\n'}, {'number': 7, 'created': '2021-11-04 04:08:27.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/15eeb47ca8fdae439abb94a86c6fe7825ba7ee09', 'message': 'Increase timeout waiting for namespace deletion\n\nIncrease the timeout in test_recreate_pod_in_namespace until BZ#1997120\nis fixed\nChange-Id: Ib0a63190d0d07dbe1bf9ab69752703b013d5309e\n'}]",6,815653,15eeb47ca8fdae439abb94a86c6fe7825ba7ee09,26,3,7,4727,,,0,"Increase timeout waiting for namespace deletion

Increase the timeout in test_recreate_pod_in_namespace until BZ#1997120
is fixed
Change-Id: Ib0a63190d0d07dbe1bf9ab69752703b013d5309e
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/53/815653/5 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_namespace.py'],1,9433c250ac7c9823b1526754725ee19986567dd8,recreate, retries = 600, retries = 120,1,1
openstack%2Frequirements~master~I17ea369edd9fa46e761970f15f0de0f81e2400a0,openstack/requirements,master,I17ea369edd9fa46e761970f15f0de0f81e2400a0,Updated from generate-constraints,MERGED,2021-11-04 02:38:09.000000000,2021-11-04 08:15:42.000000000,2021-11-04 08:13:56.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 02:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/adb350e3f554f66ae0e8e7b84b168128d9786b0c', 'message': 'Updated from generate-constraints\n\nChange-Id: I17ea369edd9fa46e761970f15f0de0f81e2400a0\n'}, {'number': 2, 'created': '2021-11-04 03:29:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b791287fa71149ac8a7dd7315524da7e91fd8218', 'message': 'Updated from generate-constraints\n\nChange-Id: I17ea369edd9fa46e761970f15f0de0f81e2400a0\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,816611,b791287fa71149ac8a7dd7315524da7e91fd8218,11,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I17ea369edd9fa46e761970f15f0de0f81e2400a0
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/816611/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,adb350e3f554f66ae0e8e7b84b168128d9786b0c,openstack/requirements/constraints/noclob,lxml===4.6.4ntc-templates===3.0.0XStatic-Angular===1.8.2.1google-api-core===2.2.2soupsieve===2.3prettytable===2.4.0pyspnego===0.3.1pylxd===2.3.1pkg_resources===0.0.0gssapi===1.7.2google-api-python-client===2.29.0dogtag-pki===10.3.0.0.2;python_version=='3.8' dogtag-pki===10.7.4.1;python_version=='3.6'boto3===1.19.10python-nss===1.0.1;python_version=='3.6'krb5===0.2.0httplib2===0.20.2botocore===1.22.10Django===3.2.9kombu===5.1.0;python_version=='3.6' kombu===5.2.0;python_version=='3.8'oslo.policy===3.10.0diskimage-builder===3.15.0fasteners===0.16.3requests-kerberos===0.13.0,lxml===4.6.3ntc-templates===2.3.2pykerberos===1.2.1XStatic-Angular===1.5.8.0google-api-core===2.2.1soupsieve===2.2.1prettytable===2.3.0pylxd===2.3.0google-api-python-client===2.28.0dogtag-pki===10.7.4.1boto3===1.19.8python-nss===1.0.1httplib2===0.20.1botocore===1.22.8Django===2.2.24kombu===5.1.0oslo.policy===3.9.0diskimage-builder===3.14.0fasteners===0.14.1requests-kerberos===0.12.0setuptools===58.4.0,25,21
openstack%2Fkuryr-tempest-plugin~master~I02b345e8d0e0b64ee9942eb532127f739b386281,openstack/kuryr-tempest-plugin,master,I02b345e8d0e0b64ee9942eb532127f739b386281,Ensure connectivity is checked after members are configured,MERGED,2021-11-03 16:50:55.000000000,2021-11-04 07:09:20.000000000,2021-11-04 07:08:02.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 16:50:55.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/5264e4c207b07fa95a19afca4af800df55ed72d1', 'message': 'Ensure connectivity is checked after members are configured\n\nAfter deploymented is scaled up we should be checking the\nexistence of the members and then checking the connectivity\nand not the other way around.\n\nChange-Id: I02b345e8d0e0b64ee9942eb532127f739b386281\n'}]",0,816534,5264e4c207b07fa95a19afca4af800df55ed72d1,9,4,1,27032,,,0,"Ensure connectivity is checked after members are configured

After deploymented is scaled up we should be checking the
existence of the members and then checking the connectivity
and not the other way around.

Change-Id: I02b345e8d0e0b64ee9942eb532127f739b386281
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/34/816534/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_service.py'],1,5264e4c207b07fa95a19afca4af800df55ed72d1,check-connectivity-after-members," self.assert_backend_amount_from_pod(service_ip, 5, pod_name)"," self.assert_backend_amount_from_pod(service_ip, 5, pod_name)",1,1
openstack%2Fos-net-config~stable%2Fvictoria~I0a7e5d1258f5b563708a774e70a72d656b5afcfc,openstack/os-net-config,stable/victoria,I0a7e5d1258f5b563708a774e70a72d656b5afcfc,Fix upper constraints,MERGED,2021-10-27 14:21:17.000000000,2021-11-04 05:51:20.000000000,2021-11-04 05:49:52.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-27 14:21:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ac934b396232ba87df631c1c9ef16bc4ec67d8d8', 'message': 'Fix upper constraints\n\nThis is incorrectly pulling in master still. It needs to be victoria.\n\nChange-Id: I0a7e5d1258f5b563708a774e70a72d656b5afcfc\n'}]",0,815676,ac934b396232ba87df631c1c9ef16bc4ec67d8d8,8,3,1,14985,,,0,"Fix upper constraints

This is incorrectly pulling in master still. It needs to be victoria.

Change-Id: I0a7e5d1258f5b563708a774e70a72d656b5afcfc
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/76/815676/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ac934b396232ba87df631c1c9ef16bc4ec67d8d8,fix-constraints, -c{env:UPPER_CONSTRAINTS_FILE: https://releases.openstack.org/constraints/upper/victoria}, -c{env:UPPER_CONSTRAINTS_FILE: https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fos-net-config~stable%2Fwallaby~Ied365dabdc2e2e69432ad51d99006d4aa7963008,openstack/os-net-config,stable/wallaby,Ied365dabdc2e2e69432ad51d99006d4aa7963008,Fix upper constraints,MERGED,2021-10-27 14:28:01.000000000,2021-11-04 05:51:20.000000000,2021-11-04 05:49:51.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-27 14:28:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/51d81fc1475b6ffe5400bc940b87d86178b72881', 'message': 'Fix upper constraints\n\nThis is still pulling in master. It needs to be wallaby.\n\nChange-Id: Ied365dabdc2e2e69432ad51d99006d4aa7963008\n'}]",0,815680,51d81fc1475b6ffe5400bc940b87d86178b72881,8,3,1,14985,,,0,"Fix upper constraints

This is still pulling in master. It needs to be wallaby.

Change-Id: Ied365dabdc2e2e69432ad51d99006d4aa7963008
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/80/815680/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,51d81fc1475b6ffe5400bc940b87d86178b72881,fix-constraints, -c{env:TOX_CONSTRAINTS_FILE: https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE: https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fos-net-config~stable%2Fussuri~I53a2a77213768feb2532c20c191960516aa56a6f,openstack/os-net-config,stable/ussuri,I53a2a77213768feb2532c20c191960516aa56a6f,Fix upper constraints,MERGED,2021-10-27 14:20:26.000000000,2021-11-04 05:51:17.000000000,2021-11-04 05:49:54.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-27 14:20:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/98655fb3893364dc0682458f9243aef167219a9b', 'message': 'Fix upper constraints\n\nThis is incorrectly pulling in master still. Needs to be ussuri.\n\nChange-Id: I53a2a77213768feb2532c20c191960516aa56a6f\n'}]",0,815675,98655fb3893364dc0682458f9243aef167219a9b,8,3,1,14985,,,0,"Fix upper constraints

This is incorrectly pulling in master still. Needs to be ussuri.

Change-Id: I53a2a77213768feb2532c20c191960516aa56a6f
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/75/815675/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,98655fb3893364dc0682458f9243aef167219a9b,fix-constraints, -c{env:UPPER_CONSTRAINTS_FILE: https://releases.openstack.org/constraints/upper/ussuri}, -c{env:UPPER_CONSTRAINTS_FILE: https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Frequirements~master~I6c3dfc477155239a9051d4483ede2949556ce97d,openstack/requirements,master,I6c3dfc477155239a9051d4483ede2949556ce97d,Remove broken tempest-full-py3-opensuse15 job,MERGED,2021-11-03 20:59:31.000000000,2021-11-04 05:13:11.000000000,2021-11-04 05:08:06.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 20:59:31.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2c681dd1c8a9a7e89d4b80b946a9e2e8c1280b03', 'message': ""Remove broken tempest-full-py3-opensuse15 job\n\ntempest-full-py3-opensuse15 is failing all the time[1] and\nopensuse is not tested/supported distro in testing runtime\nor devstack anymore. So let's remove opensuse broken job from\ntempest too.\n\nNeeded-By: https://review.opendev.org/c/openstack/tempest/+/816569\n\n[1] https://zuul.opendev.org/t/openstack/builds?job_name=tempest-full-py3-opensuse15\n\nChange-Id: I6c3dfc477155239a9051d4483ede2949556ce97d\n""}]",0,816576,2c681dd1c8a9a7e89d4b80b946a9e2e8c1280b03,7,2,1,8556,,,0,"Remove broken tempest-full-py3-opensuse15 job

tempest-full-py3-opensuse15 is failing all the time[1] and
opensuse is not tested/supported distro in testing runtime
or devstack anymore. So let's remove opensuse broken job from
tempest too.

Needed-By: https://review.opendev.org/c/openstack/tempest/+/816569

[1] https://zuul.opendev.org/t/openstack/builds?job_name=tempest-full-py3-opensuse15

Change-Id: I6c3dfc477155239a9051d4483ede2949556ce97d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/76/816576/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,2c681dd1c8a9a7e89d4b80b946a9e2e8c1280b03,remove-tempest-full-py3-opensuse15,, - tempest-full-py3-opensuse15: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ ,0,5
openstack%2Fbarbican-tempest-plugin~master~I4e01c0e7f93f52c72faadb9d2a8317f9f553904b,openstack/barbican-tempest-plugin,master,I4e01c0e7f93f52c72faadb9d2a8317f9f553904b,Add secure-rbac test for Container ACL API,MERGED,2021-10-15 20:08:26.000000000,2021-11-04 03:43:58.000000000,2021-11-04 03:43:58.000000000,"[{'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-15 20:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/a5f23f7ce97a5a6b16fefc70bba75256fe98471f', 'message': 'Add secure-rbac test for Container ACL API\n\nThis patch adds policy tests for the Containers ACL API.\n\nChange-Id: I4e01c0e7f93f52c72faadb9d2a8317f9f553904b\n'}, {'number': 2, 'created': '2021-10-27 13:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/f0f193607606b9c7bfdad91f1c985bd2738c9888', 'message': 'Add secure-rbac test for Container ACL API\n\nThis patch adds policy tests for the Containers ACL API.\n\nChange-Id: I4e01c0e7f93f52c72faadb9d2a8317f9f553904b\n'}, {'number': 3, 'created': '2021-11-03 17:00:22.000000000', 'files': ['barbican_tempest_plugin/tests/rbac/v1/test_containers.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/378efe61acd169f4edb5601df8d4cf972acd4813', 'message': 'Add secure-rbac test for Container ACL API\n\nThis patch adds policy tests for the Containers ACL API.\n\nChange-Id: I4e01c0e7f93f52c72faadb9d2a8317f9f553904b\n'}]",1,814229,378efe61acd169f4edb5601df8d4cf972acd4813,12,4,3,7973,,,0,"Add secure-rbac test for Container ACL API

This patch adds policy tests for the Containers ACL API.

Change-Id: I4e01c0e7f93f52c72faadb9d2a8317f9f553904b
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/29/814229/2 && git format-patch -1 --stdout FETCH_HEAD,['barbican_tempest_plugin/tests/rbac/v1/test_containers.py'],1,a5f23f7ce97a5a6b16fefc70bba75256fe98471f,secure-rbac," """"""Test GET /v1/containers/{container-id}/acl """"""Test PATCH /v1/containers/{container-id}/acl """"""Test PUT /v1/containers/{container-id}/acl """"""Test DELETE /v1/containers/{container-id}/acl self.valid_acl = { 'read': { 'users': [self.other_secret_client.user_id], 'project-access': True } } self.assertRaises( exceptions.Forbidden, self.client.get_container_acl, self.container_id) self.assertRaises( exceptions.Forbidden, self.client.patch_container_acl, self.container_id, self.valid_acl) self.assertRaises( exceptions.Forbidden, self.client.put_container_acl, self.container_id, self.valid_acl) self.assertRaises( exceptions.Forbidden, self.client.delete_container, self.container_id) def test_get_container_acl(self): resp = self.client.get_container_acl(self.container_id) self.assertIn('read', resp.keys()) def test_create_container_acl(self): _ = self.client.put_container_acl(self.container_id, self.valid_acl) acl = self.client.get_container_acl(self.container_id) self.assertIn(self.other_secret_client.user_id, acl['read']['users']) def test_update_container_acl(self): _ = self.client.put_container_acl(self.container_id, self.valid_acl) acl = self.client.get_container_acl(self.container_id) self.assertIn(self.other_secret_client.user_id, acl['read']['users']) clear_users_acl = { 'read': { 'users': [] } } _ = self.client.patch_container_acl(self.container_id, clear_users_acl) acl = self.client.get_container_acl(self.container_id) self.assertNotIn(self.other_secret_client.user_id, acl['read']['users']) def test_delete_container_acl(self): _ = self.client.put_container_acl(self.container_id, self.valid_acl) acl = self.client.get_container_acl(self.container_id) self.assertIn(self.other_secret_client.user_id, acl['read']['users']) _ = self.client.delete_container_acl(self.container_id) acl = self.client.get_container_acl(self.container_id) self.assertNotIn('users', acl['read'].keys()) "," """"""Test get_container_acl policy Testing: GET /v1/containers/{container-id}/acl """"""Test update_container_acl policy Testing: PATCH /v1/containers/{container-id}/acl """"""Test create_container_acl policy Testing: PUT /v1/containers/{container-id}/acl """"""Test delete_container_acl policy Testing: DELETE /v1/containers/{container-id}/acl pass pass pass pass",64,12
openstack%2Fbarbican-tempest-plugin~master~I4ef2f68d9070da0c56c4e2370cf66bc813829cd5,openstack/barbican-tempest-plugin,master,I4ef2f68d9070da0c56c4e2370cf66bc813829cd5,Add cross-project tests for Containers,MERGED,2021-10-13 17:34:39.000000000,2021-11-04 03:43:57.000000000,2021-11-04 03:43:57.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-13 17:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/cf2a499a73a188c17de390c968d05318643fa308', 'message': '[WIP] Add consumer SRBAC tests\n\nChange-Id: I4ef2f68d9070da0c56c4e2370cf66bc813829cd5\n'}, {'number': 2, 'created': '2021-10-13 18:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/aecced8a6cc3006bb6bf0704879e4562fc0451d0', 'message': '[WIP] Add consumer SRBAC tests\n\nChange-Id: I4ef2f68d9070da0c56c4e2370cf66bc813829cd5\n'}, {'number': 3, 'created': '2021-10-14 22:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/48a5ea64dbc199ad43da839e06b087f88ba6ccb5', 'message': '[WIP] Add consumer SRBAC tests\n\nChange-Id: I4ef2f68d9070da0c56c4e2370cf66bc813829cd5\n'}, {'number': 4, 'created': '2021-10-14 22:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/0ac00b81f6a93d4343c14d369e0f8d429134f255', 'message': '[WIP] Add consumer SRBAC tests\n\nChange-Id: I4ef2f68d9070da0c56c4e2370cf66bc813829cd5\n'}, {'number': 5, 'created': '2021-10-15 17:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/93361b4eba489a1079d6ee7873e098081f8bbc99', 'message': 'Add cross-project tests for Containers\n\nDepends-On: I821b4f5998be5b40327311039979f5e00ea9cefc\nChange-Id: I4ef2f68d9070da0c56c4e2370cf66bc813829cd5\n'}, {'number': 6, 'created': '2021-10-27 13:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/fde989667932bdef99c31edc8656abc1eff98d94', 'message': 'Add cross-project tests for Containers\n\nDepends-On: I821b4f5998be5b40327311039979f5e00ea9cefc\nChange-Id: I4ef2f68d9070da0c56c4e2370cf66bc813829cd5\n'}, {'number': 7, 'created': '2021-10-27 13:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/70924f4ab1258c4fa30bda477951ede2e0d24720', 'message': 'Add cross-project tests for Containers\n\nDepends-On: I821b4f5998be5b40327311039979f5e00ea9cefc\nChange-Id: I4ef2f68d9070da0c56c4e2370cf66bc813829cd5\n'}, {'number': 8, 'created': '2021-11-03 16:59:43.000000000', 'files': ['barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/services/key_manager/json/container_client.py', 'barbican_tempest_plugin/tests/rbac/v1/test_containers.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/e80c1db7e022e6d60548a25488c1f1147f392eb1', 'message': 'Add cross-project tests for Containers\n\nDepends-On: I821b4f5998be5b40327311039979f5e00ea9cefc\nChange-Id: I4ef2f68d9070da0c56c4e2370cf66bc813829cd5\n'}]",2,813877,e80c1db7e022e6d60548a25488c1f1147f392eb1,22,5,8,7414,,,0,"Add cross-project tests for Containers

Depends-On: I821b4f5998be5b40327311039979f5e00ea9cefc
Change-Id: I4ef2f68d9070da0c56c4e2370cf66bc813829cd5
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/77/813877/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/tests/rbac/v1/test_containers.py']",2,cf2a499a73a188c17de390c968d05318643fa308,secure-rbac," resp = self.create_empty_container_admin( 'test_reader_list_container_consumers') container_id = self.ref_to_uuid(resp['container_ref']) resp = self.add_consumer_to_container_admin( consumer_name='test_reader_list_container_consumer', consumer_url=resp['container_ref'], container_id=container_id) self.assertRaises( exceptions.Forbidden, self.consumer_client.list_consumers_in_container, container_id=container_id )", pass,24,1
openstack%2Fneutron~stable%2Fvictoria~I200acfcaaae7f056ea9a563fead9ff2de8464971,openstack/neutron,stable/victoria,I200acfcaaae7f056ea9a563fead9ff2de8464971,[DVR] Fix update of the MTU in the SNAT namespace,MERGED,2021-10-07 09:22:13.000000000,2021-11-04 03:22:51.000000000,2021-11-04 03:19:02.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-07 09:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9276dd6e42e2a0395774e5dd3a6246aa1dab16e', 'message': '[DVR] Fix update of the MTU in the SNAT namespace\n\nWhen network\'s MTU is changed, Neutron sends notification about it\nto the L3 agents. In case of DVR (and DVR HA) MTU is then changed in\nthe qrouter- namespace but should be also changed on snat interfaces\nin the snat namespace. And that part was missing.\n\nThis patch adds special implementation of the internal_network_updated()\nmethod in the DvrEdgeRouter class so it can configure MTU also for\nin the snat namespace.\n\nThis patch also removed passing attributes ""interface_name"",\n""ip_cidrs"" and ""mtu"" to the internal_network_updated() method and adds\n""port"" dict to be passed there. It is consistent with what is already\ndone in e.g. internal_network_added() method and ""port"" dict is actually\nnecessary to configure properly snat internal interface in the snat\nnamespace.\n\nThis patch adds also functional test of update network mtu for all types\nof routers as there was no such test at all.\n\nThere is additional issue with DVR-HA which isn\'t fixed with that patch\nand for which follow up will be proposed. Because of that this patch is\nmarked as partial fix for the related bug.\n\nConflicts:\n    neutron/tests/functional/agent/l3/test_dvr_router.py\n\nRelated-Bug: #1933273\nChange-Id: I200acfcaaae7f056ea9a563fead9ff2de8464971\n(cherry picked from commit b5dd6efdca0aa6e7405a55d66c7042a49ec72214)\n'}, {'number': 2, 'created': '2021-10-13 12:34:45.000000000', 'files': ['neutron/tests/functional/agent/l3/test_legacy_router.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/functional/agent/l3/test_ha_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/763a65d9637c955a828edceec416c6c58744ff50', 'message': '[DVR] Fix update of the MTU in the SNAT namespace\n\nWhen network\'s MTU is changed, Neutron sends notification about it\nto the L3 agents. In case of DVR (and DVR HA) MTU is then changed in\nthe qrouter- namespace but should be also changed on snat interfaces\nin the snat namespace. And that part was missing.\n\nThis patch adds special implementation of the internal_network_updated()\nmethod in the DvrEdgeRouter class so it can configure MTU also for\nin the snat namespace.\n\nThis patch also removed passing attributes ""interface_name"",\n""ip_cidrs"" and ""mtu"" to the internal_network_updated() method and adds\n""port"" dict to be passed there. It is consistent with what is already\ndone in e.g. internal_network_added() method and ""port"" dict is actually\nnecessary to configure properly snat internal interface in the snat\nnamespace.\n\nThis patch adds also functional test of update network mtu for all types\nof routers as there was no such test at all.\n\nThere is additional issue with DVR-HA which isn\'t fixed with that patch\nand for which follow up will be proposed. Because of that this patch is\nmarked as partial fix for the related bug.\n\nConflicts:\n    neutron/tests/functional/agent/l3/test_dvr_router.py\n\nRelated-Bug: #1933273\nChange-Id: I200acfcaaae7f056ea9a563fead9ff2de8464971\n(cherry picked from commit b5dd6efdca0aa6e7405a55d66c7042a49ec72214)\n'}]",5,812950,763a65d9637c955a828edceec416c6c58744ff50,25,3,2,11975,,,0,"[DVR] Fix update of the MTU in the SNAT namespace

When network's MTU is changed, Neutron sends notification about it
to the L3 agents. In case of DVR (and DVR HA) MTU is then changed in
the qrouter- namespace but should be also changed on snat interfaces
in the snat namespace. And that part was missing.

This patch adds special implementation of the internal_network_updated()
method in the DvrEdgeRouter class so it can configure MTU also for
in the snat namespace.

This patch also removed passing attributes ""interface_name"",
""ip_cidrs"" and ""mtu"" to the internal_network_updated() method and adds
""port"" dict to be passed there. It is consistent with what is already
done in e.g. internal_network_added() method and ""port"" dict is actually
necessary to configure properly snat internal interface in the snat
namespace.

This patch adds also functional test of update network mtu for all types
of routers as there was no such test at all.

There is additional issue with DVR-HA which isn't fixed with that patch
and for which follow up will be proposed. Because of that this patch is
marked as partial fix for the related bug.

Conflicts:
    neutron/tests/functional/agent/l3/test_dvr_router.py

Related-Bug: #1933273
Change-Id: I200acfcaaae7f056ea9a563fead9ff2de8464971
(cherry picked from commit b5dd6efdca0aa6e7405a55d66c7042a49ec72214)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/812950/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_legacy_router.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/functional/agent/l3/test_ha_router.py', 'neutron/agent/l3/dvr_edge_router.py']",6,e9276dd6e42e2a0395774e5dd3a6246aa1dab16e,bug/1933273-stable/wallaby-stable/victoria," def internal_network_updated(self, port): super(DvrEdgeRouter, self).internal_network_updated(port) if not port: return if not self._is_this_snat_host(): return sn_port = self.get_snat_port_for_internal_port(port) if not sn_port: return ns_name = dvr_snat_ns.SnatNamespace.get_snat_ns_name(self.router['id']) interface_name = self._get_snat_int_device_name(sn_port['id']) self.driver.set_mtu(interface_name, port['mtu'], namespace=ns_name, prefix=lib_constants.SNAT_INT_DEV_PREFIX) ",,161,8
openstack%2Ffreezer-api~master~I814ce6b77d357574b86cceebd04978ccbe1f0cd1,openstack/freezer-api,master,I814ce6b77d357574b86cceebd04978ccbe1f0cd1,Update gate CI,MERGED,2021-11-03 23:21:22.000000000,2021-11-04 03:19:06.000000000,2021-11-04 03:11:45.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 23:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/888756d62b618ac7d6bc28d4d3b9af0772b4f623', 'message': 'Add openstack-python3-yoga-jobs in .zuul.yaml\n\nChange-Id: I814ce6b77d357574b86cceebd04978ccbe1f0cd1\n'}, {'number': 2, 'created': '2021-11-03 23:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/4dc882f224a515d9561c7ed6f59bd5e33016a261', 'message': 'Add openstack-python3-yoga-jobs in .zuul.yaml\n\nChange-Id: I814ce6b77d357574b86cceebd04978ccbe1f0cd1\n'}, {'number': 3, 'created': '2021-11-03 23:22:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/aa80bb77c8f14c5d5269f9fc574b53990c69492b', 'message': 'Update gate CI\n\nAdd openstack-python3-yoga-jobs in .zuul.yaml\n\nChange-Id: I814ce6b77d357574b86cceebd04978ccbe1f0cd1\n'}]",0,816478,aa80bb77c8f14c5d5269f9fc574b53990c69492b,10,2,3,21069,,,0,"Update gate CI

Add openstack-python3-yoga-jobs in .zuul.yaml

Change-Id: I814ce6b77d357574b86cceebd04978ccbe1f0cd1
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/78/816478/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,888756d62b618ac7d6bc28d4d3b9af0772b4f623,,,,0,0
openstack%2Fpython-freezerclient~master~I006e4b547de02771f503810d760cb292c7d89f2f,openstack/python-freezerclient,master,I006e4b547de02771f503810d760cb292c7d89f2f,Add  openstack-python3-yoga-jobs,MERGED,2021-11-03 23:17:49.000000000,2021-11-04 03:12:06.000000000,2021-11-04 03:03:22.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 23:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/d6311a6f031693a3dfd9b5fc558e3815231ccb55', 'message': 'Add  openstack-python3-yoga-jobs\n\nChange-Id: I006e4b547de02771f503810d760cb292c7d89f2f\n'}, {'number': 2, 'created': '2021-11-03 23:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/56d0c4932eb404824c7fecd05f234998d989fad6', 'message': 'Add  openstack-python3-yoga-jobs\n\nChange-Id: I006e4b547de02771f503810d760cb292c7d89f2f\n'}, {'number': 3, 'created': '2021-11-03 23:19:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/ed6e34a07614b84845fb0df26c3104f428360dcb', 'message': 'Add  openstack-python3-yoga-jobs\n\nUpdate gate ci to openstack-python3-yoga-jobs\n\nChange-Id: I006e4b547de02771f503810d760cb292c7d89f2f\n'}]",0,816477,ed6e34a07614b84845fb0df26c3104f428360dcb,10,2,3,21069,,,0,"Add  openstack-python3-yoga-jobs

Update gate ci to openstack-python3-yoga-jobs

Change-Id: I006e4b547de02771f503810d760cb292c7d89f2f
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/77/816477/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,d6311a6f031693a3dfd9b5fc558e3815231ccb55,,,,0,0
openstack%2Ffreezer-dr~master~If85bb9086897849cdd969cf4267b85f658bad9d8,openstack/freezer-dr,master,If85bb9086897849cdd969cf4267b85f658bad9d8,Update gate ci,MERGED,2021-11-03 23:27:31.000000000,2021-11-04 03:08:02.000000000,2021-11-04 02:57:40.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 23:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/88d442802e6f6628b77dd1c82c8ca21071c50501', 'message': 'Update gate ci\n\nChange-Id: If85bb9086897849cdd969cf4267b85f658bad9d8\n'}, {'number': 2, 'created': '2021-11-03 23:28:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/b8e9db6060121d861447ff81e83b3be95f41172a', 'message': 'Update gate ci\n\nChange-Id: If85bb9086897849cdd969cf4267b85f658bad9d8\n'}]",0,816479,b8e9db6060121d861447ff81e83b3be95f41172a,9,2,2,21069,,,0,"Update gate ci

Change-Id: If85bb9086897849cdd969cf4267b85f658bad9d8
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/79/816479/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,88d442802e6f6628b77dd1c82c8ca21071c50501,,,,0,0
openstack%2Ftripleo-heat-templates~master~I3bddbb74dcaedf3f6c2f71ab826b2912b4bc7912,openstack/tripleo-heat-templates,master,I3bddbb74dcaedf3f6c2f71ab826b2912b4bc7912,Implement project personas in custom keystone policy file,MERGED,2021-09-21 22:05:37.000000000,2021-11-04 02:34:16.000000000,2021-11-04 02:34:16.000000000,"[{'_account_id': 5046}, {'_account_id': 7353}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-21 22:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dda69569907380d773bc2deb3b6d37ff1b9ec603', 'message': 'Implement project personas in custom keystone policy file\n\nChange-Id: I3bddbb74dcaedf3f6c2f71ab826b2912b4bc7912\n'}, {'number': 2, 'created': '2021-09-22 01:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/690018df9b9c5967ec4da923b0fec99efa52835e', 'message': 'Implement project personas in custom keystone policy file\n\nThis change implements all project personas (project-admin,\nproject-member, and project-reader) where project-admins are technically\nconsidered system-administrators using policy overrides.\n\nThis file was modified by generating the default sample policy file in\nkeystone:\n\n  $ oslopolicy-sample-generator --namespace keystone\n\nThen, working through the file to remove any system-specific checks\n(e.g., role:admin and system_scope:all). After that, I used the\nconvert_policy_yaml_to_heat_template.py tool to update the existing\nenable-secure-rbac.yaml file, resulting in a diff of the original\ndefaults, hopefully making it easier for reviews to see what exactly is\nchanging.\n\nChange-Id: I3bddbb74dcaedf3f6c2f71ab826b2912b4bc7912\n'}, {'number': 3, 'created': '2021-10-07 14:10:03.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/433cc93755214a77abd82fb4a2f97512c2ee9f70', 'message': 'Implement project personas in custom keystone policy file\n\nThis change implements all project personas (project-admin,\nproject-member, and project-reader) where project-admins are technically\nconsidered system-administrators using policy overrides.\n\nThis file was modified by generating the default sample policy file in\nkeystone:\n\n  $ oslopolicy-sample-generator --namespace keystone\n\nThen, working through the file to remove any system-specific checks\n(e.g., role:admin and system_scope:all). After that, I used the\nconvert_policy_yaml_to_heat_template.py tool to update the existing\nenable-secure-rbac.yaml file, resulting in a diff of the original\ndefaults, hopefully making it easier for reviews to see what exactly is\nchanging.\n\nChange-Id: I3bddbb74dcaedf3f6c2f71ab826b2912b4bc7912\n'}]",7,810325,433cc93755214a77abd82fb4a2f97512c2ee9f70,29,6,3,5046,,,0,"Implement project personas in custom keystone policy file

This change implements all project personas (project-admin,
project-member, and project-reader) where project-admins are technically
considered system-administrators using policy overrides.

This file was modified by generating the default sample policy file in
keystone:

  $ oslopolicy-sample-generator --namespace keystone

Then, working through the file to remove any system-specific checks
(e.g., role:admin and system_scope:all). After that, I used the
convert_policy_yaml_to_heat_template.py tool to update the existing
enable-secure-rbac.yaml file, resulting in a diff of the original
defaults, hopefully making it easier for reviews to see what exactly is
changing.

Change-Id: I3bddbb74dcaedf3f6c2f71ab826b2912b4bc7912
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/810325/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,dda69569907380d773bc2deb3b6d37ff1b9ec603,secure-rbac," value: ""rule:admin_required or user_id:%(target.user.id)s"" value: ""rule:admin_required or user_id:%(target.user.id)s"" value: ""rule:admin_required or user_id:%(target.user.id)s"" value: ""rule:admin_required or rule:owner"" value: ""rule:admin_required or rule:owner"" value: ""rule:admin_required or rule:owner"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or user_id:%(target.credential.user_id)s"" value: ""rule:admin_required or user_id:%(target.credential.user_id)s"" value: ""rule:admin_required or user_id:%(target.credential.user_id)s"" value: ""rule:admin_required or user_id:%(target.credential.user_id)s"" value: ""rule:admin_required or user_id:%(target.credential.user_id)s"" value: ""rule:admin_required or token.domain.id:%(target.domain.id)s or token.project.domain.id:%(target.domain.id)s"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or user_id:%(target.credential.user_id)s"" value: ""rule:admin_required or rule:owner"" value: ""rule:admin_required or rule:owner"" value: ""rule:admin_required or user_id:%(target.credential.user_id)s"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or ((role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)) and (domain_id:%(target.role.domain_id)s or None:%(target.role.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)"" value: ""rule:admin_required or ((role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)) and (domain_id:%(target.role.domain_id)s or None:%(target.role.domain_id)s)"" value: ""rule:admin_required or ((role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)) and (domain_id:%(target.role.domain_id)s or None:%(target.role.domain_id)s)"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or (role:reader and domain_id:%(target.group.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.group.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.user.domain_id)s) or user_id:%(user_id)s"" value: ""rule:admin_required or (role:admin and domain_id:%(target.group.domain_id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.group.domain_id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.group.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.group.domain_id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.user.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.user.domain_id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.user.domain_id)s)"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or (domain_id:%(target.limit.domain.id)s or domain_id:%(target.limit.project.domain_id)s) or (project_id:%(target.limit.project_id)s and not None:%(target.limit.project_id)s)"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or (role:reader and domain_id:%(target.project.domain_id)s) or project_id:%(target.project.id)s"" value: ""rule:admin_required or (role:reader and domain_id:%(target.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.user.domain_id)s) or user_id:%(target.user.id)s"" value: ""rule:admin_required or (role:admin and domain_id:%(target.project.domain_id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.project.domain_id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.project.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.project.domain_id)s) or project_id:%(target.project.id)s"" value: ""rule:admin_required or (role:reader and domain_id:%(target.project.domain_id)s) or project_id:%(target.project.id)s"" value: ""rule:admin_required or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or (role:reader and domain_id:%(target.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or rule:token_subject"" value: ""rule:admin_required or rule:service_role or rule:token_subject"" value: ""rule:admin_required or rule:token_subject"" value: ""rule:admin_required"" value: ""rule:admin_required or user_id:%(target.trust.trustor_user_id)s"" value: ""rule:admin_required or user_id:%(target.trust.trustee_user_id)s"" value: ""rule:admin_required or user_id:%(target.trust.trustor_user_id)s or user_id:%(target.trust.trustee_user_id)s"" value: ""rule:admin_required or user_id:%(target.trust.trustor_user_id)s or user_id:%(target.trust.trustee_user_id)s"" value: ""rule:admin_required or user_id:%(target.trust.trustor_user_id)s"" value: ""rule:admin_required or user_id:%(target.trust.trustor_user_id)s or user_id:%(target.trust.trustee_user_id)s"" value: ""rule:admin_required or (role:reader and token.domain.id:%(target.user.domain_id)s) or user_id:%(target.user.id)s"" value: ""rule:admin_required or (role:reader and domain_id:%(target.domain_id)s)"" value: ""rule:admin_required or (role:admin and token.domain.id:%(target.user.domain_id)s)"" value: ""rule:admin_required or (role:admin and token.domain.id:%(target.user.domain_id)s)"" value: ""rule:admin_required or (role:admin and token.domain.id:%(target.user.domain_id)s)"""," value: ""(role:reader and system_scope:all) or user_id:%(target.user.id)s"" value: ""(role:reader and system_scope:all) or user_id:%(target.user.id)s"" value: ""(role:admin and system_scope:all) or user_id:%(target.user.id)s"" value: ""(role:reader and system_scope:all) or rule:owner"" keystone-identity_get_application_credentials: key: ""identity:get_application_credentials"" value: ""rule:identity:get_application_credential"" value: ""(role:reader and system_scope:all) or rule:owner"" value: ""(role:admin and system_scope:all) or rule:owner"" keystone-identity_delete_application_credentials: key: ""identity:delete_application_credentials"" value: ""rule:identity:delete_application_credential"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""(role:reader and system_scope:all) or user_id:%(target.credential.user_id)s"" value: ""(role:reader and system_scope:all) or user_id:%(target.credential.user_id)s"" value: ""(role:admin and system_scope:all) or user_id:%(target.credential.user_id)s"" value: ""(role:admin and system_scope:all) or user_id:%(target.credential.user_id)s"" value: ""(role:admin and system_scope:all) or user_id:%(target.credential.user_id)s"" value: ""(role:reader and system_scope:all) or token.domain.id:%(target.domain.id)s or token.project.domain.id:%(target.domain.id)s"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""(role:reader and system_scope:all) or user_id:%(target.credential.user_id)s"" value: ""(role:reader and system_scope:all) or rule:owner"" value: ""(role:admin and system_scope:all) or rule:owner"" value: ""(role:admin and system_scope:all) or user_id:%(target.credential.user_id)s"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""(role:reader and system_scope:all) or ((role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)) and (domain_id:%(target.role.domain_id)s or None:%(target.role.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)"" value: ""(role:admin and system_scope:all) or ((role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)) and (domain_id:%(target.role.domain_id)s or None:%(target.role.domain_id)s)"" value: ""(role:admin and system_scope:all) or ((role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)) and (domain_id:%(target.role.domain_id)s or None:%(target.role.domain_id)s)"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.group.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.group.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.user.domain_id)s) or user_id:%(user_id)s"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.group.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.group.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.group.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.group.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.user.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.user.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.user.domain_id)s)"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""(role:reader and system_scope:all) or (domain_id:%(target.limit.domain.id)s or domain_id:%(target.limit.project.domain_id)s) or (project_id:%(target.limit.project_id)s and not None:%(target.limit.project_id)s)"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.project.domain_id)s) or project_id:%(target.project.id)s"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.user.domain_id)s) or user_id:%(target.user.id)s"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.project.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.project.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.project.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.project.domain_id)s) or project_id:%(target.project.id)s"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.project.domain_id)s) or project_id:%(target.project.id)s"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""(role:reader and system_scope:all) or rule:token_subject"" value: ""(role:reader and system_scope:all) or rule:service_role or rule:token_subject"" value: ""(role:admin and system_scope:all) or rule:token_subject"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all or user_id:%(target.trust.trustor_user_id)s"" value: ""role:reader and system_scope:all or user_id:%(target.trust.trustee_user_id)s"" value: ""role:reader and system_scope:all or user_id:%(target.trust.trustor_user_id)s or user_id:%(target.trust.trustee_user_id)s"" value: ""role:reader and system_scope:all or user_id:%(target.trust.trustor_user_id)s or user_id:%(target.trust.trustee_user_id)s"" value: ""role:admin and system_scope:all or user_id:%(target.trust.trustor_user_id)s"" value: ""role:reader and system_scope:all or user_id:%(target.trust.trustor_user_id)s or user_id:%(target.trust.trustee_user_id)s"" value: ""(role:reader and system_scope:all) or (role:reader and token.domain.id:%(target.user.domain_id)s) or user_id:%(target.user.id)s"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and token.domain.id:%(target.user.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and token.domain.id:%(target.user.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and token.domain.id:%(target.user.domain_id)s)""",169,175
openstack%2Ftripleo-image-elements~master~Ia63b1b55cbc844b6ef6e3619334e408a81c4999e,openstack/tripleo-image-elements,master,Ia63b1b55cbc844b6ef6e3619334e408a81c4999e,Add Python3 xena unit tests,MERGED,2021-05-05 15:38:38.000000000,2021-11-04 02:34:13.000000000,2021-11-04 02:34:13.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-05 15:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/80af3097cf3166a11c8d227f943ca05cb56a0523', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ia63b1b55cbc844b6ef6e3619334e408a81c4999e\n'}, {'number': 2, 'created': '2021-11-03 14:33:48.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/2ca8bd1300f237a11eb3a1655683da22694d62d8', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ia63b1b55cbc844b6ef6e3619334e408a81c4999e\n'}]",0,789897,2ca8bd1300f237a11eb3a1655683da22694d62d8,13,4,2,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ia63b1b55cbc844b6ef6e3619334e408a81c4999e
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/97/789897/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,80af3097cf3166a11c8d227f943ca05cb56a0523,reno-wallaby, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Ftripleo-image-elements~master~I12783838405916e071a0520d6e5d00ab1753345b,openstack/tripleo-image-elements,master,I12783838405916e071a0520d6e5d00ab1753345b,Update master for stable/wallaby,MERGED,2021-05-05 15:38:34.000000000,2021-11-04 02:34:11.000000000,2021-11-04 02:34:11.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 15:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/bcfb8f6baaf6a66bc4609c159068a28e355f3b8e', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I12783838405916e071a0520d6e5d00ab1753345b\n'}, {'number': 2, 'created': '2021-11-03 14:33:48.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/d1e9b0542c4c321d2d09ac2fedb84845b71a2cc3', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I12783838405916e071a0520d6e5d00ab1753345b\n'}]",1,789896,d1e9b0542c4c321d2d09ac2fedb84845b71a2cc3,11,3,2,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I12783838405916e071a0520d6e5d00ab1753345b
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/96/789896/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,bcfb8f6baaf6a66bc4609c159068a28e355f3b8e,reno-wallaby, wallaby,,7,0
openstack%2Ftripleo-ansible~master~I906e11edf5e95465cb5b885810c928729f4722b7,openstack/tripleo-ansible,master,I906e11edf5e95465cb5b885810c928729f4722b7,Switch from genisoimage to xorriso,MERGED,2021-10-21 13:44:21.000000000,2021-11-04 02:34:09.000000000,2021-11-04 02:34:09.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-10-21 13:44:21.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a36d42f1c4d03c2b467b7c3a76356659882ff185', 'message': 'Switch from genisoimage to xorriso\n\ngeniso is going to remove from RHEL[1]\n\nhttps://review.rdoproject.org/r/q/Icb5105cef08480e7ef880530672a0e65fae43efd\n\nChange-Id: I906e11edf5e95465cb5b885810c928729f4722b7\n'}]",2,814918,a36d42f1c4d03c2b467b7c3a76356659882ff185,14,9,1,22954,,,0,"Switch from genisoimage to xorriso

geniso is going to remove from RHEL[1]

https://review.rdoproject.org/r/q/Icb5105cef08480e7ef880530672a0e65fae43efd

Change-Id: I906e11edf5e95465cb5b885810c928729f4722b7
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/18/814918/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/vars/redhat.yml'],1,a36d42f1c4d03c2b467b7c3a76356659882ff185,genisoimage, - xorriso, - genisoimage,1,1
openstack%2Ftripleo-image-elements~master~I1f8a189d0fc095cb2cc3bf7808756cd9b973c3b2,openstack/tripleo-image-elements,master,I1f8a189d0fc095cb2cc3bf7808756cd9b973c3b2,Double the size of /boot/efi partition,MERGED,2021-11-02 21:18:21.000000000,2021-11-04 02:34:07.000000000,2021-11-04 02:34:07.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-02 21:18:21.000000000', 'files': ['elements/overcloud-partition-uefi/block-device-default.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/14c47f496a56e0f6c9fb444bc50f33cd42386b2f', 'message': 'Double the size of /boot/efi partition\n\nThe current size is big enough for the shim and grub packages which\nare installed to it, however when doing a dnf upgrade or reinstall,\ndnf may fail with an inadequate space error. Doubling the size of this\npartition will avoid this error.\n\nChange-Id: I1f8a189d0fc095cb2cc3bf7808756cd9b973c3b2\nBlueprint: whole-disk-default\n'}]",0,816406,14c47f496a56e0f6c9fb444bc50f33cd42386b2f,8,4,1,4571,,,0,"Double the size of /boot/efi partition

The current size is big enough for the shim and grub packages which
are installed to it, however when doing a dnf upgrade or reinstall,
dnf may fail with an inadequate space error. Doubling the size of this
partition will avoid this error.

Change-Id: I1f8a189d0fc095cb2cc3bf7808756cd9b973c3b2
Blueprint: whole-disk-default
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/06/816406/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-partition-uefi/block-device-default.yaml'],1,14c47f496a56e0f6c9fb444bc50f33cd42386b2f,bp/whole-disk-default, size: 16MiB, size: 8MiB,1,1
openstack%2Ftripleo-ansible~master~I17222ebd53fd39ee751fc8a2db83848111be99dd,openstack/tripleo-ansible,master,I17222ebd53fd39ee751fc8a2db83848111be99dd,Make KillMode configurable for service units,MERGED,2021-10-19 09:25:55.000000000,2021-11-04 02:34:05.000000000,2021-11-04 02:34:05.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-19 09:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/716063c33f143172c014d8d0fed6d5e4c53f18ce', 'message': 'Make KillMode configurable for service units\n\nLibvirt container is a special beast that needs custom\nkillmode value for its tripleo-manager service unit.\nAdd kill_mode for the container values that defaults to\ncontrol-group.\n\nChange-Id: I17222ebd53fd39ee751fc8a2db83848111be99dd\nRelated: rhbz#2010135\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-10-19 15:56:59.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e89f88036be54c5fd69a9703afb5c8ba7c66056d', 'message': 'Make KillMode configurable for service units\n\nLibvirt container is a special beast that needs custom\nkillmode value for its tripleo-manager service unit.\nAdd kill_mode for the container values that defaults to\ncontrol-group.\n\nChange-Id: I17222ebd53fd39ee751fc8a2db83848111be99dd\nRelated: rhbz#2010135\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,814536,e89f88036be54c5fd69a9703afb5c8ba7c66056d,11,5,2,6926,,,0,"Make KillMode configurable for service units

Libvirt container is a special beast that needs custom
killmode value for its tripleo-manager service unit.
Add kill_mode for the container values that defaults to
control-group.

Change-Id: I17222ebd53fd39ee751fc8a2db83848111be99dd
Related: rhbz#2010135
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/36/814536/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'],1,716063c33f143172c014d8d0fed6d5e4c53f18ce,rhbz2010135,"KillMode={{ lookup('dict', container_data_unit).value.kill_mode | default('control-group') }}",,1,0
openstack%2Ftripleo-heat-templates~master~I1b7fa2b72ad5af14b12be0fc07f217b24e43ab88,openstack/tripleo-heat-templates,master,I1b7fa2b72ad5af14b12be0fc07f217b24e43ab88,Add environment file for FIPS deployments,MERGED,2021-10-22 17:23:57.000000000,2021-11-04 02:34:03.000000000,2021-11-04 02:34:03.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-22 17:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12a59ed518c4b0dbbdd622a2669bd7d7fd01100a', 'message': 'Add environment file for FIPS deployments\n\nAdd environment file to set parameters needed for FIPS enabled\ndeployments.\n\nChange-Id: I1b7fa2b72ad5af14b12be0fc07f217b24e43ab88\n'}, {'number': 2, 'created': '2021-10-25 20:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73c46a7ebc2a1b441821596cdc798987b9d09137', 'message': 'Add environment file for FIPS deployments\n\nAdd environment file to set parameters needed for FIPS enabled\ndeployments.\n\nChange-Id: I1b7fa2b72ad5af14b12be0fc07f217b24e43ab88\n'}, {'number': 3, 'created': '2021-10-25 22:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3c6e43404832838d5947cfe39dc70c69f66d622', 'message': 'Add environment file for FIPS deployments\n\nAdd environment file to set parameters needed for FIPS enabled\ndeployments.\n\nChange-Id: I1b7fa2b72ad5af14b12be0fc07f217b24e43ab88\n'}, {'number': 4, 'created': '2021-10-25 22:05:11.000000000', 'files': ['environments/fips.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ba798c57fd508392cf8625625e2952fc34463f7', 'message': 'Add environment file for FIPS deployments\n\nAdd environment file to set parameters needed for FIPS enabled\ndeployments.\n\nChange-Id: I1b7fa2b72ad5af14b12be0fc07f217b24e43ab88\n'}]",2,815141,4ba798c57fd508392cf8625625e2952fc34463f7,17,4,4,9914,,,0,"Add environment file for FIPS deployments

Add environment file to set parameters needed for FIPS enabled
deployments.

Change-Id: I1b7fa2b72ad5af14b12be0fc07f217b24e43ab88
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/815141/2 && git format-patch -1 --stdout FETCH_HEAD,['environments/fips.yaml'],1,12a59ed518c4b0dbbdd622a2669bd7d7fd01100a,add_fips_job,"parameter_defaults: # Set ISCSI Chap algorithms to specifically disallow MD5 IscsidCHAPAlgorithms: 'SHA3-256,SHA256,SHA1,MD5' # Set SnmpdReadonlyUserAuthType to not be 'MD5' SnmpdReadonlyUserAuthType: 'SHA' ",,6,0
openstack%2Fpuppet-zaqar~master~I96bae290b599f65b3b03fc5efb8bce3c0459f13a,openstack/puppet-zaqar,master,I96bae290b599f65b3b03fc5efb8bce3c0459f13a,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 12:06:38.000000000,2021-11-04 01:57:46.000000000,2021-11-04 01:56:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 12:06:38.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-dcc2c9a7ec774f5d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/f88fa279bb567c7ff3ab81328ddb94e328110b35', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: I96bae290b599f65b3b03fc5efb8bce3c0459f13a\n""}]",1,816495,f88fa279bb567c7ff3ab81328ddb94e328110b35,12,3,1,9816,,,0,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I96bae290b599f65b3b03fc5efb8bce3c0459f13a
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/95/816495/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-dcc2c9a7ec774f5d.yaml']",2,f88fa279bb567c7ff3ab81328ddb94e328110b35,apache-ssl,--- upgrade: - | Default value of the ``zaqar::wsgi::apache::ssl`` parameter will be changed from ``true`` to ``false`` in a future release. Make sure the parameter is set to the desired value. ,,14,3
openstack%2Fpuppet-glance~stable%2Fussuri~Iac580df4de14ffdb19436417b2830a834efd087d,openstack/puppet-glance,stable/ussuri,Iac580df4de14ffdb19436417b2830a834efd087d,Swift backend: the key parameter should be secret,MERGED,2021-11-02 12:04:02.000000000,2021-11-04 00:08:06.000000000,2021-11-04 00:08:06.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 12:04:02.000000000', 'files': ['spec/defines/glance_backend_multistore_swift_spec.rb', 'manifests/backend/multistore/swift.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/2c1d7cbc995a453acfb35926adcfcbcad7ca669e', 'message': ""Swift backend: the key parameter should be secret\n\nThe key parameter of swift backend is used to define a credentail to\naccess Swift so should be hidden in logs.\n\nIn Glance the user parameter(swift_store_user) is also defined as\na secret parameter. However it defines user name or id and user name\nor id is not currently treated as secret in puppet, so this change\ndoesn't cover the user parameter.\n\nChange-Id: Iac580df4de14ffdb19436417b2830a834efd087d\n(cherry picked from commit 4a481929887d88f019467d11fb7c19d8d9311e3e)\n(cherry picked from commit 048e9b458ba0283865fd8dd0dab05a4919a8c371)\n(cherry picked from commit 572f60e47fcca241c2829eaeacd799abf873317b)\n(cherry picked from commit f6b75d9c2a1e000d7ba575db33aeabd0e3319848)\n""}]",1,816249,2c1d7cbc995a453acfb35926adcfcbcad7ca669e,9,3,1,9816,,,0,"Swift backend: the key parameter should be secret

The key parameter of swift backend is used to define a credentail to
access Swift so should be hidden in logs.

In Glance the user parameter(swift_store_user) is also defined as
a secret parameter. However it defines user name or id and user name
or id is not currently treated as secret in puppet, so this change
doesn't cover the user parameter.

Change-Id: Iac580df4de14ffdb19436417b2830a834efd087d
(cherry picked from commit 4a481929887d88f019467d11fb7c19d8d9311e3e)
(cherry picked from commit 048e9b458ba0283865fd8dd0dab05a4919a8c371)
(cherry picked from commit 572f60e47fcca241c2829eaeacd799abf873317b)
(cherry picked from commit f6b75d9c2a1e000d7ba575db33aeabd0e3319848)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/49/816249/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/glance_backend_multistore_swift_spec.rb', 'manifests/backend/multistore/swift.pp']",2,2c1d7cbc995a453acfb35926adcfcbcad7ca669e,," ""${default_swift_reference}/key"": value => $swift_store_key, secret => true;"," ""${default_swift_reference}/key"": value => $swift_store_key;",3,3
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3e7532e0e33326f1e4ff8f59bafe41d8582abd03,openstack/tripleo-heat-templates,stable/wallaby,I3e7532e0e33326f1e4ff8f59bafe41d8582abd03,Remove ENABLE_* environment about puglins not installed,MERGED,2021-11-01 04:18:29.000000000,2021-11-04 00:03:00.000000000,2021-11-04 00:03:00.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-01 04:18:29.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34635f2c790585b1b078040ec4fa69510dc3775f', 'message': 'Remove ENABLE_* environment about puglins not installed\n\nCurrently we maintain list of installed plugins and not installed\nplugins in horizon template but the list has some incorrect/invalid\nitems. Futhermore kolla sets ENABLE_* to no by default unless\nthe environments are explicitly set so there is no need to maintain\n""uninstalled"" items.\n\nThis change simplifies the list of plugins to include only installed\nand enabled plugins.\n\nChange-Id: I3e7532e0e33326f1e4ff8f59bafe41d8582abd03\n(cherry picked from commit 0bb24e11e7ce15041e55a6aed190a63a8c717220)\n'}]",0,816130,34635f2c790585b1b078040ec4fa69510dc3775f,7,3,1,9816,,,0,"Remove ENABLE_* environment about puglins not installed

Currently we maintain list of installed plugins and not installed
plugins in horizon template but the list has some incorrect/invalid
items. Futhermore kolla sets ENABLE_* to no by default unless
the environments are explicitly set so there is no need to maintain
""uninstalled"" items.

This change simplifies the list of plugins to include only installed
and enabled plugins.

Change-Id: I3e7532e0e33326f1e4ff8f59bafe41d8582abd03
(cherry picked from commit 0bb24e11e7ce15041e55a6aed190a63a8c717220)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/816130/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,34635f2c790585b1b078040ec4fa69510dc3775f,horizon-plugins-env-stable/wallaby, ENABLE_IRONIC: 'yes' ENABLE_MANILA: 'yes', # Installed plugins: ENABLE_CLOUDKITTY: 'no' ENABLE_IRONIC: 'yes' ENABLE_MAGNUM: 'no' ENABLE_MANILA: 'yes' ENABLE_MURANO: 'no' ENABLE_MISTRAL: 'no' ENABLE_SAHARA: 'no' ENABLE_TROVE: 'no' # Not installed: ENABLE_FREEZER: 'no' ENABLE_FWAAS: 'no' ENABLE_KARBOR: 'no' ENABLE_DESIGNATE: 'no' ENABLE_SEARCHLIGHT: 'no' ENABLE_SENLIN: 'no' ENABLE_SOLUM: 'no' ENABLE_TACKER: 'no' ENABLE_WATCHER: 'no' ENABLE_ZAQAR: 'no' ENABLE_ZUN: 'no',2,21
openstack%2Fkuryr-kubernetes~master~If88bf59d45219af1fd32bfab888e4d523eb19ce7,openstack/kuryr-kubernetes,master,If88bf59d45219af1fd32bfab888e4d523eb19ce7,Move Amphora image back to bionic,ABANDONED,2021-10-14 16:38:04.000000000,2021-11-03 23:54:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-14 16:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a912adae70b1cff721dd57af98ca3ec619b37208', 'message': 'DNM: Move Amphpra back to bionic\n\nChange-Id: If88bf59d45219af1fd32bfab888e4d523eb19ce7\n'}, {'number': 2, 'created': '2021-10-14 20:11:02.000000000', 'files': ['.zuul.d/base.yaml', '.zuul.d/tempest-jobs.yaml', 'playbooks/get_amphora_tarball.yaml', '.zuul.d/k8s-np-e2e.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dba193e93e44d95342b405fddead0fd03f1bd33d', 'message': 'Move Amphora image back to bionic\n\nChange-Id: If88bf59d45219af1fd32bfab888e4d523eb19ce7\n'}]",6,814040,dba193e93e44d95342b405fddead0fd03f1bd33d,19,1,2,27032,,,0,"Move Amphora image back to bionic

Change-Id: If88bf59d45219af1fd32bfab888e4d523eb19ce7
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/40/814040/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/base.yaml', '.zuul.d/tempest-jobs.yaml', 'playbooks/get_amphora_tarball.yaml', '.zuul.d/k8s-np-e2e.yaml']",4,a912adae70b1cff721dd57af98ca3ec619b37208,amphora-bionic," OCTAVIA_AMP_IMAGE_FILE: ""/tmp/test-only-amphora-x64-haproxy-ubuntu-bionic.qcow2"" OCTAVIA_AMP_IMAGE_NAME: ""test-only-amphora-x64-haproxy-ubuntu-bionic"""," OCTAVIA_AMP_IMAGE_FILE: ""/tmp/test-only-amphora-x64-haproxy-ubuntu-focal.qcow2"" OCTAVIA_AMP_IMAGE_NAME: ""test-only-amphora-x64-haproxy-ubuntu-focal""",10,10
openstack%2Ffreezer-tempest-plugin~master~Iac46ad8ace08ba156f786eb0e52c69f8a424ee88,openstack/freezer-tempest-plugin,master,Iac46ad8ace08ba156f786eb0e52c69f8a424ee88,Update setup.cfg,MERGED,2021-11-03 11:25:44.000000000,2021-11-03 23:53:46.000000000,2021-11-03 23:53:46.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 11:25:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/5c66cdab0762624b2622d4c4a724e85070a78667', 'message': 'Update setup.cfg\n\ndelete python::3.5/3.7,Add python3.8/3.9\n\nChange-Id: Iac46ad8ace08ba156f786eb0e52c69f8a424ee88\n'}]",0,816461,5c66cdab0762624b2622d4c4a724e85070a78667,6,2,1,21069,,,0,"Update setup.cfg

delete python::3.5/3.7,Add python3.8/3.9

Change-Id: Iac46ad8ace08ba156f786eb0e52c69f8a424ee88
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/61/816461/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5c66cdab0762624b2622d4c4a724e85070a78667,, Programming Language :: Python :: 3.8 Programming Language :: Python :: 3.9, Programming Language :: Python :: 3.5 Programming Language :: Python :: 3.7,2,2
openstack%2Ffreezer~master~Ib5f202870200fb4e22d4184fac583264c836b457,openstack/freezer,master,Ib5f202870200fb4e22d4184fac583264c836b457,Add  python3.9  in tox.ini,MERGED,2021-11-03 10:17:46.000000000,2021-11-03 23:52:38.000000000,2021-11-03 23:51:10.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 10:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/5aa9e21096fd01532be7c8b8e54bdcef2050e424', 'message': 'Add   python39   UT  CI  job\n\nChange-Id: Ib5f202870200fb4e22d4184fac583264c836b457\n'}, {'number': 2, 'created': '2021-11-03 10:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/b499f48e9e2d96ce510a5b24c1f108835b9508ff', 'message': 'Add   python39   UT  CI  job\n\nChange-Id: Ib5f202870200fb4e22d4184fac583264c836b457\n'}, {'number': 3, 'created': '2021-11-03 10:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/54c0205ff6d81f1a6115236e1bd179c98eb3b688', 'message': 'Add  python39  in tox.ini\n\nAdd python39 UT job for CI\n\nChange-Id: Ib5f202870200fb4e22d4184fac583264c836b457\n'}, {'number': 4, 'created': '2021-11-03 10:20:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer/commit/4a43982658de98b3a144b97210eebd6990498488', 'message': 'Add  python3.9  in tox.ini\n\nAdd python3.9 UT job for CI\n\nChange-Id: Ib5f202870200fb4e22d4184fac583264c836b457\n'}]",0,816347,4a43982658de98b3a144b97210eebd6990498488,11,2,4,21069,,,0,"Add  python3.9  in tox.ini

Add python3.9 UT job for CI

Change-Id: Ib5f202870200fb4e22d4184fac583264c836b457
",git fetch https://review.opendev.org/openstack/freezer refs/changes/47/816347/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,5aa9e21096fd01532be7c8b8e54bdcef2050e424,,,,0,0
openstack%2Ffreezer-web-ui~master~Ifed260df6cff72ae2f0fadfcdf587fdb63a59fd3,openstack/freezer-web-ui,master,Ifed260df6cff72ae2f0fadfcdf587fdb63a59fd3,Update support python version,MERGED,2021-11-03 11:30:24.000000000,2021-11-03 23:18:27.000000000,2021-11-03 23:18:27.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 11:30:24.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/8e3a2b7022855af744bd8a478966995e2edb7a61', 'message': 'Update support python version\n\nDelete pythpn3.7,Add python3.9\n\nChange-Id: Ifed260df6cff72ae2f0fadfcdf587fdb63a59fd3\n'}]",0,816462,8e3a2b7022855af744bd8a478966995e2edb7a61,6,2,1,21069,,,0,"Update support python version

Delete pythpn3.7,Add python3.9

Change-Id: Ifed260df6cff72ae2f0fadfcdf587fdb63a59fd3
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/62/816462/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8e3a2b7022855af744bd8a478966995e2edb7a61,, Programming Language :: Python :: 3.9, Programming Language :: Python :: 3.7,1,1
openstack%2Fpuppet-neutron~master~Ia016b87f9531b72f51eb7ffd2b91590c78cb0ead,openstack/puppet-neutron,master,Ia016b87f9531b72f51eb7ffd2b91590c78cb0ead,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 12:00:01.000000000,2021-11-03 23:15:40.000000000,2021-11-03 23:14:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 12:00:01.000000000', 'files': ['releasenotes/notes/prepare-to-change-apache-ssl-465063265e7834ac.yaml', 'manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/424d0fd814a8c28ac2e10cbbeef3cc0623298988', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: Ia016b87f9531b72f51eb7ffd2b91590c78cb0ead\n""}]",0,816493,424d0fd814a8c28ac2e10cbbeef3cc0623298988,8,3,1,9816,,,0,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: Ia016b87f9531b72f51eb7ffd2b91590c78cb0ead
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/93/816493/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/prepare-to-change-apache-ssl-465063265e7834ac.yaml', 'manifests/wsgi/apache.pp']",2,424d0fd814a8c28ac2e10cbbeef3cc0623298988,apache-ssl," $ssl = undef, if $ssl == undef { warning('Default of the ssl parameter will be changed in a future release') } $ssl_real = pick($ssl, true) if $ssl_real { ssl => $ssl_real,"," $ssl = true, if $ssl { ssl => $ssl,",14,3
openstack%2Fpuppet-glance~stable%2Fussuri~Ic29448860f5c7a8b743abd6f343985e65d8c5693,openstack/puppet-glance,stable/ussuri,Ic29448860f5c7a8b743abd6f343985e65d8c5693,Add swift buffer-on-upload options for swift multibackend,MERGED,2021-11-02 12:03:43.000000000,2021-11-03 23:13:30.000000000,2021-11-03 23:12:13.000000000,"[{'_account_id': 3031}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 12:03:43.000000000', 'files': ['spec/defines/glance_backend_multistore_swift_spec.rb', 'releasenotes/notes/add_swift_buffer_options-30716d70fc42b749.yaml', 'manifests/backend/multistore/swift.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/d7282093228591f29b52717f05d8e6eeb419abbf', 'message': 'Add swift buffer-on-upload options for swift multibackend\n\nAdds ability to set swift_buffer_on_upload and swift_upload_buffer_dir\nfor swift multi backend\n\nChange-Id: Ic29448860f5c7a8b743abd6f343985e65d8c5693\n(cherry picked from commit 9d340581b15c9b3c20d7f37f820041881177dd77)\n'}]",0,816248,d7282093228591f29b52717f05d8e6eeb419abbf,8,4,1,9816,,,0,"Add swift buffer-on-upload options for swift multibackend

Adds ability to set swift_buffer_on_upload and swift_upload_buffer_dir
for swift multi backend

Change-Id: Ic29448860f5c7a8b743abd6f343985e65d8c5693
(cherry picked from commit 9d340581b15c9b3c20d7f37f820041881177dd77)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/48/816248/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/glance_backend_multistore_swift_spec.rb', 'releasenotes/notes/add_swift_buffer_options-30716d70fc42b749.yaml', 'manifests/backend/multistore/swift.pp']",3,d7282093228591f29b52717f05d8e6eeb419abbf,,"# [*swift_buffer_on_upload*] # Optional. Default: $::os_service_default. # # [*swift_upload_buffer_dir*] # Optional. Default: $::os_service_default. # $swift_buffer_on_upload = $::os_service_default, $swift_upload_buffer_dir = $::os_service_default, ""${name}/swift_buffer_on_upload"": value => $swift_buffer_on_upload; ""${name}/swift_upload_buffer_dir"": value => $swift_upload_buffer_dir;",,23,0
openstack%2Fpuppet-heat~master~I76516e3d0c659fabdb7736ff4a5a6621eed29371,openstack/puppet-heat,master,I76516e3d0c659fabdb7736ff4a5a6621eed29371,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 11:52:26.000000000,2021-11-03 23:06:09.000000000,2021-11-03 23:04:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 11:52:26.000000000', 'files': ['manifests/wsgi/apache_api.pp', 'manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-0fe3526e8fdb82b3.yaml', 'manifests/wsgi/apache_api_cfn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/603f545cbc5903e392db20d8bf183aee482e54b7', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: I76516e3d0c659fabdb7736ff4a5a6621eed29371\n""}]",0,816467,603f545cbc5903e392db20d8bf183aee482e54b7,8,3,1,9816,,,0,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I76516e3d0c659fabdb7736ff4a5a6621eed29371
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/67/816467/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache_api.pp', 'manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-0fe3526e8fdb82b3.yaml', 'manifests/wsgi/apache_api_cfn.pp']",4,603f545cbc5903e392db20d8bf183aee482e54b7,apache-ssl," $ssl = undef, if $ssl == undef { warning('Default of the ssl parameter will be changed in a future release') } $ssl_real = pick($ssl, true) ssl => $ssl_real,"," $ssl = true, ssl => $ssl,",34,7
openstack%2Fpuppet-ironic~master~I1fff2c713be94ab58f9413d2c85131209f972c2a,openstack/puppet-ironic,master,I1fff2c713be94ab58f9413d2c85131209f972c2a,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 11:55:10.000000000,2021-11-03 22:58:28.000000000,2021-11-03 22:56:59.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 11:55:10.000000000', 'files': ['releasenotes/notes/prepare-to-change-apache-ssl-c4252c71df3724e3.yaml', 'manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/dca54992d7011d0e1558de03fa380a5a48ad0bd0', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: I1fff2c713be94ab58f9413d2c85131209f972c2a\n""}]",0,816469,dca54992d7011d0e1558de03fa380a5a48ad0bd0,9,4,1,9816,,,0,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I1fff2c713be94ab58f9413d2c85131209f972c2a
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/69/816469/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-c4252c71df3724e3.yaml']",2,dca54992d7011d0e1558de03fa380a5a48ad0bd0,apache-ssl,--- upgrade: - | Default value of the ``ironic::wsgi::apache::ssl`` parameter will be changed from ``true`` to ``false`` in a future release. Make sure the parameter is set to the desired value. ,,14,3
openstack%2Fnova~stable%2Fussuri~I7a563386bd2f5d1930b5eb2cfc00425a19747e24,openstack/nova,stable/ussuri,I7a563386bd2f5d1930b5eb2cfc00425a19747e24,Fix error that cannot overwrite policy rule for 'forced_host',MERGED,2021-07-26 08:35:04.000000000,2021-11-03 22:47:06.000000000,2021-11-03 22:42:07.000000000,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23950}]","[{'number': 1, 'created': '2021-07-26 08:35:04.000000000', 'files': ['nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/35ec9357a1f249cc1309c92006a5a1f48a8ff025', 'message': ""Fix error that cannot overwrite policy rule for 'forced_host'\n\nWhen configure 'os_compute_api:servers:create:forced_host' to\n'rule:admin_or_owner', but still doesn't allow.\nIn nova/api/openstack/compute/servers.py#L669, the target is\nset to '{}' that is not equal None, so then it will not be set\nin nova/policy.py#L205.\nThis patch configures the target param.\n\nChange-Id: I7a563386bd2f5d1930b5eb2cfc00425a19747e24\nCloses-Bug: #1894975\n(cherry picked from commit fd99a7ca0f56223d878142a58525d9ed64c84ed1)\n""}]",2,802238,35ec9357a1f249cc1309c92006a5a1f48a8ff025,19,4,1,15334,,,0,"Fix error that cannot overwrite policy rule for 'forced_host'

When configure 'os_compute_api:servers:create:forced_host' to
'rule:admin_or_owner', but still doesn't allow.
In nova/api/openstack/compute/servers.py#L669, the target is
set to '{}' that is not equal None, so then it will not be set
in nova/policy.py#L205.
This patch configures the target param.

Change-Id: I7a563386bd2f5d1930b5eb2cfc00425a19747e24
Closes-Bug: #1894975
(cherry picked from commit fd99a7ca0f56223d878142a58525d9ed64c84ed1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/802238/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/servers.py'],1,35ec9357a1f249cc1309c92006a5a1f48a8ff025,bug/1934770," context.can(server_policies.SERVERS % 'create:forced_host', target=target)"," context.can(server_policies.SERVERS % 'create:forced_host', {})",2,1
openstack%2Fkeystone-tempest-plugin~master~Ic60d898969e730fcf1aebc4d103f06ec0baf24ed,openstack/keystone-tempest-plugin,master,Ic60d898969e730fcf1aebc4d103f06ec0baf24ed,Add victoria/wallaby stable branch jobs on master gate,MERGED,2021-04-29 23:34:53.000000000,2021-11-03 22:42:11.000000000,2021-11-03 22:42:11.000000000,"[{'_account_id': 5046}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 23:34:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/32e48a7ea5db99e31dae916f7964c8219025f257', 'message': 'Add victoria/wallaby stable branch jobs on master gate\n\nWe have stable/victoria and stable/wallaby released so we\nshould add their job on master gate to keep branchless\ntempest plugins compatible to those branch.\n\nThis also removes the stable/stein job as that is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ic60d898969e730fcf1aebc4d103f06ec0baf24ed\n'}]",0,788840,32e48a7ea5db99e31dae916f7964c8219025f257,7,4,1,8556,,,0,"Add victoria/wallaby stable branch jobs on master gate

We have stable/victoria and stable/wallaby released so we
should add their job on master gate to keep branchless
tempest plugins compatible to those branch.

This also removes the stable/stein job as that is in EM
state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ic60d898969e730fcf1aebc4d103f06ec0baf24ed
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/40/788840/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,32e48a7ea5db99e31dae916f7964c8219025f257,wallaby-stable-jobs, - keystone-dsvm-py3-functional-wallaby - keystone-dsvm-py3-functional-victoria name: keystone-dsvm-py3-functional-wallaby parent: keystone-dsvm-py3-functional override-checkout: stable/wallaby - job: name: keystone-dsvm-py3-functional-victoria parent: keystone-dsvm-py3-functional override-checkout: stable/victoria - job:, - keystone-dsvm-py3-functional-stein - job: name: keystone-dsvm-py3-functional-stein parent: keystone-dsvm-py3-functional nodeset: openstack-single-node-bionic override-checkout: stable/stein,12,7
openstack%2Fpuppet-nova~master~I39cacc8244fa8984e5a1f16eec407118dc1a67f3,openstack/puppet-nova,master,I39cacc8244fa8984e5a1f16eec407118dc1a67f3,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 12:10:28.000000000,2021-11-03 22:38:00.000000000,2021-11-03 22:36:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 12:10:28.000000000', 'files': ['manifests/wsgi/apache_api.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-571d079722b20702.yaml', 'manifests/wsgi/apache_metadata.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ab45982924f4ac8f8554eaf576561e85d0599578', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: I39cacc8244fa8984e5a1f16eec407118dc1a67f3\n""}]",0,816496,ab45982924f4ac8f8554eaf576561e85d0599578,8,3,1,9816,,,0,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I39cacc8244fa8984e5a1f16eec407118dc1a67f3
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/96/816496/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache_api.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-571d079722b20702.yaml', 'manifests/wsgi/apache_metadata.pp']",3,ab45982924f4ac8f8554eaf576561e85d0599578,apache-ssl," $ssl = undef, if $ssl == undef { warning('Default of the ssl parameter will be changed in a future release') } $ssl_real = pick($ssl, true) if $ssl_real { ssl => $ssl_real,"," $ssl = true, if $ssl { ssl => $ssl,",25,6
openstack%2Fpuppet-nova~master~I97094f35c5ed2bd734051f082b9eb1d93c4a632c,openstack/puppet-nova,master,I97094f35c5ed2bd734051f082b9eb1d93c4a632c,Clean up deprecated nova::metadata::enabled_api,MERGED,2021-11-03 12:17:23.000000000,2021-11-03 22:36:36.000000000,2021-11-03 22:35:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 12:17:23.000000000', 'files': ['manifests/metadata.pp', 'releasenotes/notes/remove-metadata-enabled_apis-c4527287a1876aa4.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0e978aa85384f346e24e92fcc4938d9837a15da9', 'message': 'Clean up deprecated nova::metadata::enabled_api\n\n... because it was deprecated during Train and has nad no effect since\nthen[1]\n\n[1] 919a4ce5a9942393403804635676e493420117f3\n\nChange-Id: I97094f35c5ed2bd734051f082b9eb1d93c4a632c\n'}]",0,816499,0e978aa85384f346e24e92fcc4938d9837a15da9,8,3,1,9816,,,0,"Clean up deprecated nova::metadata::enabled_api

... because it was deprecated during Train and has nad no effect since
then[1]

[1] 919a4ce5a9942393403804635676e493420117f3

Change-Id: I97094f35c5ed2bd734051f082b9eb1d93c4a632c
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/99/816499/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/metadata.pp', 'releasenotes/notes/remove-metadata-enabled_apis-c4527287a1876aa4.yaml']",2,0e978aa85384f346e24e92fcc4938d9837a15da9,cleanup-metadata,--- upgrade: - | The ``nova::metadata::enabled_api`` parameter has been removed. ,,8,16
openstack%2Fpuppet-keystone~master~I806ef6ce1c1674ffa9b07b20965cffd3b7806817,openstack/puppet-keystone,master,I806ef6ce1c1674ffa9b07b20965cffd3b7806817,Refactor dependency management of apache,MERGED,2021-11-03 03:00:44.000000000,2021-11-03 22:36:06.000000000,2021-11-03 22:36:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 03:00:44.000000000', 'files': ['manifests/wsgi/apache.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/651044e4ff84e08c020352e75a1b72d7cd9de24e', 'message': 'Refactor dependency management of apache\n\nThis change simplifies how we manage dependency of package, config\nand service resource of httpd service.\n\n- Use keystone-service tag to enforce service ordering following\n  the other modules\n\n- Do not strictly fit each resources to our dependency steps to\n  reduce amount of our own definition.\n\nChange-Id: I806ef6ce1c1674ffa9b07b20965cffd3b7806817\n'}]",1,816430,651044e4ff84e08c020352e75a1b72d7cd9de24e,8,3,1,9816,,,0,"Refactor dependency management of apache

This change simplifies how we manage dependency of package, config
and service resource of httpd service.

- Use keystone-service tag to enforce service ordering following
  the other modules

- Do not strictly fit each resources to our dependency steps to
  reduce amount of our own definition.

Change-Id: I806ef6ce1c1674ffa9b07b20965cffd3b7806817
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/30/816430/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'manifests/init.pp']",2,651044e4ff84e08c020352e75a1b72d7cd9de24e,, Service <| title == 'httpd' |> { tag +> 'keystone-service' },,1,24
openstack%2Fopenstack-helm-infra~master~I6baa9ece474f9c937fe9bce2231ef500562e0406,openstack/openstack-helm-infra,master,I6baa9ece474f9c937fe9bce2231ef500562e0406,Fix Python exceptions,MERGED,2021-10-29 08:40:57.000000000,2021-11-03 22:35:00.000000000,2021-11-03 22:33:24.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-10-29 08:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fb304da8ca189cc84a36787ea24ab454dab03485', 'message': 'Fix Python exceptions\n\nIf thread launch_cluster_Monitor() and launch_leader_election() operates on the configmap at the same time, Will cause a error \'Exception in thread ""Thread-1""\'.\nThis error will cause the thread to get stuck. Configmap will not be updated and the error ""data too old"" will be reported.\nJust passing kubernetes_API exceptions is not enough, all are more appropriate.\n\nChange-Id: I6baa9ece474f9c937fe9bce2231ef500562e0406\n'}, {'number': 2, 'created': '2021-11-01 05:57:34.000000000', 'files': ['mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/templates/bin/_start.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6d808ceb47d1a8124615cdd0f87614145bb03e56', 'message': 'Fix Python exceptions\n\nIf thread launch_cluster_Monitor() and launch_leader_election() operates on the configmap at the same time, Will cause a error \'Exception in thread ""Thread-1""\'.\nThis error will cause the thread to get stuck. Configmap will not be updated and the error ""data too old"" will be reported.\nJust passing kubernetes_API exceptions is not enough, all are more appropriate.\n\nChange-Id: I6baa9ece474f9c937fe9bce2231ef500562e0406\n'}]",4,815943,6d808ceb47d1a8124615cdd0f87614145bb03e56,17,5,2,34017,,,0,"Fix Python exceptions

If thread launch_cluster_Monitor() and launch_leader_election() operates on the configmap at the same time, Will cause a error 'Exception in thread ""Thread-1""'.
This error will cause the thread to get stuck. Configmap will not be updated and the error ""data too old"" will be reported.
Just passing kubernetes_API exceptions is not enough, all are more appropriate.

Change-Id: I6baa9ece474f9c937fe9bce2231ef500562e0406
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/43/815943/2 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/templates/bin/_start.py.tpl']",3,fb304da8ca189cc84a36787ea24ab454dab03485,, except Exception as error: except as error:, except kubernetes.client.rest.ApiException as error: except kubernetes.client.rest.ApiException as error:,4,3
openstack%2Fpuppet-keystone~master~I370b14aded25efa06874de41e39a55783e72f5e8,openstack/puppet-keystone,master,I370b14aded25efa06874de41e39a55783e72f5e8,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 02:49:56.000000000,2021-11-03 22:33:20.000000000,2021-11-03 22:31:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 02:49:56.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-4e14bf4eccb8273f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/93c5d0a4a747df3d52475d5fa74ee93c5c82bac7', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: I370b14aded25efa06874de41e39a55783e72f5e8\n""}]",1,816429,93c5d0a4a747df3d52475d5fa74ee93c5c82bac7,9,3,1,9816,,,0,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I370b14aded25efa06874de41e39a55783e72f5e8
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/29/816429/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-4e14bf4eccb8273f.yaml']",2,93c5d0a4a747df3d52475d5fa74ee93c5c82bac7,apache-ssl,--- upgrade: - | Default value of the ``keystone::wsgi::apache::ssl`` parameter will be changed from ``true`` to ``false`` in a future release. Make sure the parameter is set to the desired value. ,,13,2
openstack%2Fpuppet-horizon~stable%2Fvictoria~Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f,openstack/puppet-horizon,stable/victoria,Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f,Wallaby and older: Use 'UNSET' to remove heat dashboard parameters,MERGED,2021-11-02 12:04:50.000000000,2021-11-03 22:26:56.000000000,2021-11-03 22:26:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 12:04:50.000000000', 'files': ['templates/local_settings.py.erb', 'manifests/dashboards/heat.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/d2fef29e6098bd958e78073ec267230248e3eaf9', 'message': ""Wallaby and older: Use 'UNSET' to remove heat dashboard parameters\n\nThe change 655e0df25e40b401d2daa5d673a416215ccd17b7 introduced\nthe logic to remove the enable_user_pass parameter from the root\nlocal_settings using 'undef' but it turned out we can't set any\nparameter to 'undef' using hieradata because setting undef results in\nusing the default, which is 'true'.\n\nThis introduces usage of 'UNSET', which can be defined using hieradata\nmechanism.\n\nChange-Id: Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f\n(cherry picked from commit 8437bc4f341e8ec584c32bc50a1d9301b39ed1f1)\n""}]",0,816330,d2fef29e6098bd958e78073ec267230248e3eaf9,7,3,1,9816,,,0,"Wallaby and older: Use 'UNSET' to remove heat dashboard parameters

The change 655e0df25e40b401d2daa5d673a416215ccd17b7 introduced
the logic to remove the enable_user_pass parameter from the root
local_settings using 'undef' but it turned out we can't set any
parameter to 'undef' using hieradata because setting undef results in
using the default, which is 'true'.

This introduces usage of 'UNSET', which can be defined using hieradata
mechanism.

Change-Id: Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f
(cherry picked from commit 8437bc4f341e8ec584c32bc50a1d9301b39ed1f1)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/30/816330/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/dashboards/heat.pp', 'templates/local_settings.py.erb', 'manifests/init.pp']",3,d2fef29e6098bd958e78073ec267230248e3eaf9,puppet-horizon-dashboards-stable/victoria,# Set this parameter to undef or 'UNSET' if horizon::dashboards::heat is # used.,# Set this parameter to undef if horizon::dashboards::heat is used.,7,4
openstack%2Fpuppet-barbican~master~I0e802f714405a2dda6ead11be70090a8d754b059,openstack/puppet-barbican,master,I0e802f714405a2dda6ead11be70090a8d754b059,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 02:40:14.000000000,2021-11-03 22:20:23.000000000,2021-11-03 22:18:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 02:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/3d8fdf7c1ee4c384c5b39009cf6e13432e167abb', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: I0e802f714405a2dda6ead11be70090a8d754b059\n""}, {'number': 2, 'created': '2021-11-03 02:42:25.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-accf9aae3abfc57f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/90694cd6745feecb00aaf929c48a3e0bff8e69d1', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: I0e802f714405a2dda6ead11be70090a8d754b059\n""}]",1,816425,90694cd6745feecb00aaf929c48a3e0bff8e69d1,10,3,2,9816,,,0,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I0e802f714405a2dda6ead11be70090a8d754b059
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/25/816425/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-accf9aae3abfc57f.yaml']",2,3d8fdf7c1ee4c384c5b39009cf6e13432e167abb,apache-ssl,--- upgrade: - | Default value of the ``barbican::wsgi::apache::ssl`` parameter will be changed from ``true`` to ``false`` in a future release. Make sure the parameter is set to the desired value. ,,13,2
openstack%2Fneutron~stable%2Fvictoria~Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f,openstack/neutron,stable/victoria,Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f,[OVN Migration] Remove trunk's subports from the nodes,MERGED,2021-10-26 10:32:02.000000000,2021-11-03 22:16:17.000000000,2021-11-03 22:10:26.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-26 10:32:02.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4adf4086586b653bd97d58bf0c11fc37b5b6fa1e', 'message': ""[OVN Migration] Remove trunk's subports from the nodes\n\nAfter migration from ML2/OVS to ML2/OVN trunk subports which were created\nby the neutron-ovs-agent to connect br-int with trunk bridges (tbr-)\naren't needed anymore and should be deleted.\n\nCloses-Bug: #1946479\nChange-Id: Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f\n(cherry picked from commit bf6831e0d2ad33ff751f06d568abe6cedff4d717)\n""}]",0,815434,4adf4086586b653bd97d58bf0c11fc37b5b6fa1e,10,3,1,11975,,,0,"[OVN Migration] Remove trunk's subports from the nodes

After migration from ML2/OVS to ML2/OVN trunk subports which were created
by the neutron-ovs-agent to connect br-int with trunk bridges (tbr-)
aren't needed anymore and should be deleted.

Closes-Bug: #1946479
Change-Id: Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f
(cherry picked from commit bf6831e0d2ad33ff751f06d568abe6cedff4d717)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/815434/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,4adf4086586b653bd97d58bf0c11fc37b5b6fa1e,bug/1946479-stable/xena-stable/wallaby-stable/victoria,- name: Cleanup neutron trunk subports shell: | ovs-vsctl list interface | awk '/name[ ]*: sp[it]-/ { print $3 }' | xargs -n1 ovs-vsctl del-port,,3,0
openstack%2Fopenstacksdk~master~Icd786e89aba5b593feee165226010b25f8627efd,openstack/openstacksdk,master,Icd786e89aba5b593feee165226010b25f8627efd,Keep creating keystone admin endpoint for heat,MERGED,2021-02-24 09:23:13.000000000,2021-11-03 22:16:06.000000000,2021-11-03 22:10:22.000000000,"[{'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-24 09:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9b034ea83ef56c41a5e6951156d58342b197db4b', 'message': 'Keep creating keystone admin endpoint for heat\n\nHeat still depends on an keystone admin endpoint being present although\nit has no functional difference anymore from the other endpoints with the\nv3 API. Make devstack create one.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/777339/\nChange-Id: Icd786e89aba5b593feee165226010b25f8627efd\n'}, {'number': 2, 'created': '2021-10-20 05:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/51d92bafc1f7fdc0beade7062eefc389bb93ae09', 'message': 'Keep creating keystone admin endpoint for heat\n\nHeat still depends on an keystone admin endpoint being present although\nit has no functional difference anymore from the other endpoints with the\nv3 API. Make devstack create one.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/777339\nDepends-On: https://review.opendev.org/c/openstack/masakari/+/814701\nChange-Id: Icd786e89aba5b593feee165226010b25f8627efd\n'}, {'number': 3, 'created': '2021-11-03 14:31:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9ed215d4443c08167117144e0ee938b418bf56c2', 'message': 'Keep creating keystone admin endpoint for heat\n\nHeat still depends on an keystone admin endpoint being present although\nit has no functional difference anymore from the other endpoints with the\nv3 API. Make devstack create one.\n\nChange-Id: Icd786e89aba5b593feee165226010b25f8627efd\n'}]",4,777343,9ed215d4443c08167117144e0ee938b418bf56c2,25,5,3,13252,,,0,"Keep creating keystone admin endpoint for heat

Heat still depends on an keystone admin endpoint being present although
it has no functional difference anymore from the other endpoints with the
v3 API. Make devstack create one.

Change-Id: Icd786e89aba5b593feee165226010b25f8627efd
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/43/777343/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9b034ea83ef56c41a5e6951156d58342b197db4b,remove-keystone-admin-endpoint, KEYSTONE_ADMIN_ENDPOINT: true,,1,0
openstack%2Fpuppet-nova~master~I44a27f1f44b4d021554a3665129e848518bc87f4,openstack/puppet-nova,master,I44a27f1f44b4d021554a3665129e848518bc87f4,Remove deprecated oslo.middleware options from nova::metadata,MERGED,2021-11-03 12:14:02.000000000,2021-11-03 22:16:01.000000000,2021-11-03 22:14:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 12:14:02.000000000', 'files': ['manifests/metadata.pp', 'releasenotes/notes/remove-oslo_middleware-opts-from-metadata-dcb44704cc7e34ca.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f533a5e1cac8bc827639b27a6b26dd47f7812dd4', 'message': 'Remove deprecated oslo.middleware options from nova::metadata\n\n... because these were deprecated during Train and has had no effect\nsince then[1].\n\n[1] 7c1717af69d2659703833e9fefe9af86664d2e29\n\nChange-Id: I44a27f1f44b4d021554a3665129e848518bc87f4\n'}]",0,816497,f533a5e1cac8bc827639b27a6b26dd47f7812dd4,8,3,1,9816,,,0,"Remove deprecated oslo.middleware options from nova::metadata

... because these were deprecated during Train and has had no effect
since then[1].

[1] 7c1717af69d2659703833e9fefe9af86664d2e29

Change-Id: I44a27f1f44b4d021554a3665129e848518bc87f4
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/97/816497/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/metadata.pp', 'releasenotes/notes/remove-oslo_middleware-opts-from-metadata-dcb44704cc7e34ca.yaml']",2,f533a5e1cac8bc827639b27a6b26dd47f7812dd4,,--- upgrade: - | The following two parameters were removed from the ``nova::metadata`` class. - ``enable_proxy_headers_parsing`` - ``max_request_body_size`` ,,8,20
openstack%2Fnova~stable%2Fwallaby~I30d30a772475cb82d0fd088f14a54a35646bd1dc,openstack/nova,stable/wallaby,I30d30a772475cb82d0fd088f14a54a35646bd1dc,Parse alias from domain hostdev,MERGED,2021-09-08 12:00:42.000000000,2021-11-03 22:16:00.000000000,2021-11-03 22:10:16.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-09-08 12:00:42.000000000', 'files': ['nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0cd4ef2dcd482e6ac2f86a345e0874970cce0bdd', 'message': 'Parse alias from domain hostdev\n\nIn I16e7df6932bb7dff243706ee49338ba6b3782085 we missed that\nLibvirtConfigGuestHostdevPCI is not a child class of\nLibvirtConfigGuestInterface and therefore we missed parsing out the\nalias field from the domain xml for hostdevs. The new libvirt driver\ndevice detach logic[1] uses the alias as the identifier towards libvirt\nso now hostdevs cannot be detached. This patch parses out the alias\nfield to fix the issue.\n\nCloses-Bug: #1942345\nRelated-Bug: #1882521\n\n[1] https://review.opendev.org/q/topic:bug/1882521\n\nChange-Id: I30d30a772475cb82d0fd088f14a54a35646bd1dc\n(cherry picked from commit b67b928c381511f6101778ab50f281ecd689d283)\n'}]",3,807767,0cd4ef2dcd482e6ac2f86a345e0874970cce0bdd,32,5,1,9708,,,0,"Parse alias from domain hostdev

In I16e7df6932bb7dff243706ee49338ba6b3782085 we missed that
LibvirtConfigGuestHostdevPCI is not a child class of
LibvirtConfigGuestInterface and therefore we missed parsing out the
alias field from the domain xml for hostdevs. The new libvirt driver
device detach logic[1] uses the alias as the identifier towards libvirt
so now hostdevs cannot be detached. This patch parses out the alias
field to fix the issue.

Closes-Bug: #1942345
Related-Bug: #1882521

[1] https://review.opendev.org/q/topic:bug/1882521

Change-Id: I30d30a772475cb82d0fd088f14a54a35646bd1dc
(cherry picked from commit b67b928c381511f6101778ab50f281ecd689d283)
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/807767/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,0cd4ef2dcd482e6ac2f86a345e0874970cce0bdd,bug/1942345," @ddt.unpack @ddt.data( (power_state.RUNNING, vconfig.LibvirtConfigGuestDisk()), (power_state.RUNNING, vconfig.LibvirtConfigGuestInterface()), (power_state.RUNNING, vconfig.LibvirtConfigGuestHostdevPCI()), (power_state.PAUSED, vconfig.LibvirtConfigGuestDisk()), (power_state.PAUSED, vconfig.LibvirtConfigGuestInterface()), (power_state.PAUSED, vconfig.LibvirtConfigGuestHostdevPCI()), ) def test__detach_with_retry_live_success(self, state, device_class): mock_dev = mock.Mock(spec_set=device_class)"," @ddt.data(power_state.RUNNING, power_state.PAUSED) def test__detach_with_retry_live_success(self, state): mock_dev = mock.Mock(spec=vconfig.LibvirtConfigGuestDisk)",33,3
openstack%2Fpuppet-mistral~master~Id46a725b267a14e74d5c0953aacc56d64c81daaf,openstack/puppet-mistral,master,Id46a725b267a14e74d5c0953aacc56d64c81daaf,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 11:58:08.000000000,2021-11-03 22:07:04.000000000,2021-11-03 22:05:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 11:58:08.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-e83f6f9a4dcf6f8b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/55a69c92bdac1e3a0b2294103460ba8cc8a9b8ad', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: Id46a725b267a14e74d5c0953aacc56d64c81daaf\n""}]",0,816492,55a69c92bdac1e3a0b2294103460ba8cc8a9b8ad,8,3,1,9816,,,0,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: Id46a725b267a14e74d5c0953aacc56d64c81daaf
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/92/816492/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-e83f6f9a4dcf6f8b.yaml']",2,55a69c92bdac1e3a0b2294103460ba8cc8a9b8ad,apache-ssl,--- upgrade: - | Default value of the ``mistral::wsgi::apache::ssl`` parameter will be changed from ``true`` to ``false`` in a future release. Make sure the parameter is set to the desired value. ,,14,3
openstack%2Fpuppet-gnocchi~master~Ie2420118f487788a4437c030e374917c70465835,openstack/puppet-gnocchi,master,Ie2420118f487788a4437c030e374917c70465835,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 02:47:28.000000000,2021-11-03 22:00:57.000000000,2021-11-03 21:59:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 02:47:28.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-95eb9428664d7a5b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/b1e2d280acec5198c92b948657cc8f23029a4ffe', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: Ie2420118f487788a4437c030e374917c70465835\n""}]",1,816427,b1e2d280acec5198c92b948657cc8f23029a4ffe,9,3,1,9816,,,0,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: Ie2420118f487788a4437c030e374917c70465835
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/27/816427/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-95eb9428664d7a5b.yaml']",2,b1e2d280acec5198c92b948657cc8f23029a4ffe,apache-ssl,--- upgrade: - | Default value of the ``gnocchi::wsgi::apache::ssl`` parameter will be changed from ``true`` to ``false`` in a future release. Make sure the parameter is set to the desired value. ,,14,3
openstack%2Fnova~master~I605f0e40417fe9b0a383cc8b3fefa1325f9690d9,openstack/nova,master,I605f0e40417fe9b0a383cc8b3fefa1325f9690d9,api: enable oslo.reports when using uWSGI,MERGED,2021-09-24 14:30:15.000000000,2021-11-03 21:59:00.000000000,2021-11-03 21:57:17.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-09-24 14:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc02dd37d37ecfc8ab6a474a09f58f4d3b69c4ee', 'message': ""api: enable oslo.reports when using uwsgi\n\nAt the moment, oslo.reports is enabled when running nova-api\nstandalone, but not when using uwsgi.\n\nWe're now updating the uwsgi entry point as well to include the\noslo.reports hook, which is extremely helpful when debugging\ndeadlocks.\n\nChange-Id: I605f0e40417fe9b0a383cc8b3fefa1325f9690d9\n""}, {'number': 2, 'created': '2021-09-24 14:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/975de7216c9b76329514813053b81b5dcccaed8e', 'message': ""api: enable oslo.reports when using uwsgi\n\nAt the moment, oslo.reports is enabled when running nova-api\nstandalone, but not when using uwsgi.\n\nWe're now updating the uwsgi entry point as well to include the\noslo.reports hook, which is extremely helpful when debugging\ndeadlocks.\n\nChange-Id: I605f0e40417fe9b0a383cc8b3fefa1325f9690d9\n""}, {'number': 3, 'created': '2021-09-24 15:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e79c21777b639fe7b984cf881faddbab6f2fd5e4', 'message': ""api: enable oslo.reports when using uwsgi\n\nAt the moment, oslo.reports is enabled when running nova-api\nstandalone, but not when using uwsgi.\n\nWe're now updating the uwsgi entry point as well to include the\noslo.reports hook, which is extremely helpful when debugging\ndeadlocks.\n\nChange-Id: I605f0e40417fe9b0a383cc8b3fefa1325f9690d9\n""}, {'number': 4, 'created': '2021-09-25 05:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f575b297f04e9b71c73371a266795d8857acb13', 'message': ""api: enable oslo.reports when using uwsgi\n\nAt the moment, oslo.reports is enabled when running nova-api\nstandalone, but not when using uwsgi.\n\nWe're now updating the uwsgi entry point as well to include the\noslo.reports hook, which is extremely helpful when debugging\ndeadlocks.\n\nChange-Id: I605f0e40417fe9b0a383cc8b3fefa1325f9690d9\n""}, {'number': 5, 'created': '2021-10-13 10:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/295a3076fa51e32c9d5f1bee1b3390b4c46a9148', 'message': ""api: enable oslo.reports when using uwsgi\n\nAt the moment, oslo.reports is enabled when running nova-api\nstandalone, but not when using uwsgi.\n\nWe're now updating the uwsgi entry point as well to include the\noslo.reports hook, which is extremely helpful when debugging\ndeadlocks.\n\nChange-Id: I605f0e40417fe9b0a383cc8b3fefa1325f9690d9\n""}, {'number': 6, 'created': '2021-10-14 06:23:36.000000000', 'files': ['nova/api/openstack/wsgi_app.py', 'nova/releasenotes/notes/uwsgi-gmr-c00631db79836340.yaml', 'doc/source/reference/gmr.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/46401ef6665d473b51a781a566a29b7b24eb711f', 'message': ""api: enable oslo.reports when using uWSGI\n\nAt the moment, oslo.reports is enabled when running nova-api\nstandalone, but not when using uWSGI.\n\nWe're now updating the uwsgi entry point as well to include the\noslo.reports hook, which is extremely helpful when debugging\ndeadlocks.\n\nChange-Id: I605f0e40417fe9b0a383cc8b3fefa1325f9690d9\n""}]",13,810922,46401ef6665d473b51a781a566a29b7b24eb711f,43,6,6,8543,,,0,"api: enable oslo.reports when using uWSGI

At the moment, oslo.reports is enabled when running nova-api
standalone, but not when using uWSGI.

We're now updating the uwsgi entry point as well to include the
oslo.reports hook, which is extremely helpful when debugging
deadlocks.

Change-Id: I605f0e40417fe9b0a383cc8b3fefa1325f9690d9
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/810922/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/wsgi_app.py'],1,dc02dd37d37ecfc8ab6a474a09f58f4d3b69c4ee,,"from oslo_reports import guru_meditation_report as gmr from oslo_reports import opts as gmr_optsfrom nova import version gmr_opts.set_defaults(CONF) gmr.TextGuruMeditation.setup_autorun(version, conf=CONF)",,5,0
openstack%2Fpuppet-manila~master~I52810b8340912ccb12b522d8837128bc78907b57,openstack/puppet-manila,master,I52810b8340912ccb12b522d8837128bc78907b57,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 11:56:37.000000000,2021-11-03 21:51:08.000000000,2021-11-03 21:49:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 11:56:37.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-ff1a2eaa73077e86.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/6653fe35c0967435b3ee25034e034dffc44bd4eb', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: I52810b8340912ccb12b522d8837128bc78907b57\n""}]",0,816490,6653fe35c0967435b3ee25034e034dffc44bd4eb,8,3,1,9816,,,0,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I52810b8340912ccb12b522d8837128bc78907b57
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/90/816490/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-ff1a2eaa73077e86.yaml']",2,6653fe35c0967435b3ee25034e034dffc44bd4eb,apache-ssl,--- upgrade: - | Default value of the ``manila::wsgi::apache::ssl`` parameter will be changed from ``true`` to ``false`` in a future release. Make sure the parameter is set to the desired value. ,,14,3
openstack%2Fkolla-ansible~master~I2c131463eaf1c51eb8768f6d90e9697c77a7833b,openstack/kolla-ansible,master,I2c131463eaf1c51eb8768f6d90e9697c77a7833b,docs: Parameterize kolla-ansible version and branch,MERGED,2021-10-21 17:56:34.000000000,2021-11-03 21:17:07.000000000,2021-10-28 11:17:41.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-10-21 17:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/28b9f982050b801712080906c6cb5b761c2d814b', 'message': 'docs: Parameterize kolla-ansible version and branch\n\nImplement simple global variables system in docs and add global variables\nMAX_KOLLA_ANSIBLE_VER_EXCLUSIVE, KOLLA_GIT_BRANCH, KOLLA_ANSIBLE_GIT_BRANCH.\n\nCloses-Bug: #1844710\nChange-Id: I2c131463eaf1c51eb8768f6d90e9697c77a7833b\n'}, {'number': 2, 'created': '2021-10-27 11:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bceb8991c2f7794308c36adc5d98204dbebf38fb', 'message': 'docs: Parameterize kolla-ansible version and branch\n\nImplement simple global variables system in docs and add global variables\nMAX_KOLLA_ANSIBLE_VER_EXCLUSIVE, KOLLA_GIT_BRANCH, KOLLA_ANSIBLE_GIT_BRANCH.\n\nCloses-Bug: #1844710\nChange-Id: I2c131463eaf1c51eb8768f6d90e9697c77a7833b\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}, {'number': 3, 'created': '2021-10-27 11:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cd094bb873dc75228bdaca00ceeb564ec2f3a769', 'message': 'docs: Parameterize kolla-ansible version and branch\n\nImplement simple global variables system in docs and add global variables\nKOLLA_ANSIBLE_CURRENT_VERSION and KOLLA_OPENSTACK_RELEASE.\n\nCloses-Bug: #1844710\nChange-Id: I2c131463eaf1c51eb8768f6d90e9697c77a7833b\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}, {'number': 4, 'created': '2021-10-27 14:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ef1f6fa3850eb05506f474aea1fa43b66abedafb', 'message': 'docs: Parameterize kolla-ansible version and branch\n\nImplement simple global variables system in docs and add global variables\nKOLLA_ANSIBLE_MAJOR_VERSION, KOLLA_OPENSTACK_RELEASE and\nKOLLA_BRANCH_NAME.\n\nCloses-Bug: #1844710\nChange-Id: I2c131463eaf1c51eb8768f6d90e9697c77a7833b\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}, {'number': 5, 'created': '2021-10-27 14:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac595a18dd7b920f12ce2f0f45dfde47cbad32b9', 'message': 'docs: Parameterize kolla-ansible version and branch\n\nImplement simple global variables system in docs and add global variables\nKOLLA_OPENSTACK_RELEASE, KOLLA_ANSIBLE_MAJOR_VERSION  and\nKOLLA_BRANCH_NAME.\n\nCloses-Bug: #1844710\nChange-Id: I2c131463eaf1c51eb8768f6d90e9697c77a7833b\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}, {'number': 6, 'created': '2021-10-27 14:38:37.000000000', 'files': ['doc/source/user/quickstart.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/28b3b83cb202c132884345bc1be8314e22a9cc8e', 'message': 'docs: Parameterize kolla-ansible version and branch\n\nImplement simple global variables system in docs and add global variables\nKOLLA_OPENSTACK_RELEASE, KOLLA_ANSIBLE_MAJOR_VERSION  and\nKOLLA_BRANCH_NAME.\n\nCloses-Bug: #1844710\nChange-Id: I2c131463eaf1c51eb8768f6d90e9697c77a7833b\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}]",38,815043,28b3b83cb202c132884345bc1be8314e22a9cc8e,42,4,6,29880,,,0,"docs: Parameterize kolla-ansible version and branch

Implement simple global variables system in docs and add global variables
KOLLA_OPENSTACK_RELEASE, KOLLA_ANSIBLE_MAJOR_VERSION  and
KOLLA_BRANCH_NAME.

Closes-Bug: #1844710
Change-Id: I2c131463eaf1c51eb8768f6d90e9697c77a7833b
Signed-off-by: Adrian Andreias <adrian@fleio.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/815043/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/quickstart.rst', 'doc/source/conf.py']",2,28b9f982050b801712080906c6cb5b761c2d814b,bug/1844710," # Global variables # For replacement, use in docs as |VAR_NAME| (note there's no space around variable name) # When adding new variables, make sure you add them to GLOBAL_VARIABLE_MAP dictionary as well # Maximum kolla-ansible version to install excluding it, that is < MAX_KOLLA_ANSIBLE_VER_EXCLUSIVE MAX_KOLLA_ANSIBLE_VER_EXCLUSIVE = '9' KOLLA_GIT_BRANCH = 'master' KOLLA_ANSIBLE_GIT_BRANCH = 'master' GLOBAL_VARIABLE_MAP = { ""|MAX_KOLLA_ANSIBLE_VER_EXCLUSIVE|"": MAX_KOLLA_ANSIBLE_VER_EXCLUSIVE, ""|KOLLA_GIT_BRANCH|"": KOLLA_GIT_BRANCH, ""|KOLLA_ANSIBLE_GIT_BRANCH|"": KOLLA_ANSIBLE_GIT_BRANCH, } def replace_global_vars(app, docname, source): # unlike rst_epilog, replaces variables (strings) in code blocks as well # thanks to https://github.com/sphinx-doc/sphinx/issues/4054#issuecomment-329097229 result = source[0] for key in app.config.GLOBAL_VARIABLE_MAP: result = result.replace(key, app.config.GLOBAL_VARIABLE_MAP[key]) source[0] = result def setup(app): app.add_config_value('GLOBAL_VARIABLE_MAP', {}, True) app.connect('source-read', replace_global_vars)",,38,4
openstack%2Fpuppet-cloudkitty~master~I24a692633133db5b453f65accf40f87687bec90e,openstack/puppet-cloudkitty,master,I24a692633133db5b453f65accf40f87687bec90e,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 13:16:35.000000000,2021-11-03 21:06:34.000000000,2021-11-03 21:04:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 13:16:35.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-9377b6c2b888bba7.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/6e0ecf4363d8ebcdf91e7f3749486affa2d4d78f', 'message': ""Prepare to update default of <service>::wsgi::apache::ssl\n\nCurrently the <service>::wsgi::apache::ssl parameters have inconsistent\ndefault values. Some parameters default to true while the other default\nto false.\n\nBased on the following points, false is considered to be the more\nreasonable default.\n - Usage of SSL is optional and is not always required\n - There are other methods(like load-balancer) to implement SSL\n   termination\n - Enabling SSL doesn't work with the default values currently\n   defined, and requires additional parameters like ssl_cert.\n - false is the default value defined in the base implementation in\n   puppet-openstacklib.\n\nThis change is the preparation to change the default value, and\nintroduces a warning message to make users aware of the future change.\n\nChange-Id: I24a692633133db5b453f65accf40f87687bec90e\n""}]",0,816503,6e0ecf4363d8ebcdf91e7f3749486affa2d4d78f,8,3,1,9816,,,0,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I24a692633133db5b453f65accf40f87687bec90e
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/03/816503/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/prepare-to-change-apache-ssl-9377b6c2b888bba7.yaml']",2,6e0ecf4363d8ebcdf91e7f3749486affa2d4d78f,apache-ssl,--- upgrade: - | Default value of the ``cloudkitty::wsgi::apache::ssl`` parameter will be changed from ``true`` to ``false`` in a future release. Make sure the parameter is set to the desired value. ,,14,3
openstack%2Fnova~master~I012dcf63306bae624dc4f66aae6c6d96a20d4327,openstack/nova,master,I012dcf63306bae624dc4f66aae6c6d96a20d4327,Prevent leaked eventlets to send notifications,MERGED,2021-10-14 16:29:16.000000000,2021-11-03 20:51:47.000000000,2021-11-03 20:49:13.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-10-14 16:29:16.000000000', 'files': ['nova/tests/fixtures/nova.py', 'nova/test.py', 'nova/tests/fixtures/notifications.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/61fc81a6761d34afdfc4a6d1c4c953802fd8a179', 'message': ""Prevent leaked eventlets to send notifications\n\nIn out functional tests we run nova services as eventlets. Also those\nservices can spawn there own eventlets for RPC or other parallel\nprocessing. The test case executor only sees and tracks the main\neventlet where the code of the test case is running. When that is\nfinishes the test executor considers the test case to be finished\nregardless of the other spawned eventlets. This could lead to leaked\neventlets that are running in parallel with later test cases.\n\nOne way that it can cause trouble is via the global variables in\nnova.rpc module. Those globals are re-initialized for each test case so\nthey are not directly leaking information between test cases. However if\na late eventlet calls nova.rpc.get_versioned_notifier() it will get a\ntotally usable FakeVersionedNotifier object regardless of which test\ncase this notifier is belongs to or which test case the eventlet belongs\nto. This way the late eventlet can send a notification to the currently\nrunning test case and therefore can make it fail.\n\nThe current case we saw is the following:\n\n1) The test case\n  nova.tests.functional.test_servers.ServersTestV219.test_description_errors\n  creates a server but don't wait for it to reach terminal state (ACTIVE\n  / ERROR). This test case finishes quickly but leaks running eventlets\n  in the background waiting for some RPC call to return.\n2) As the test case finished the cleanup code deletes the test case\n   specific setup, including the DB.\n3) The test executor moves forward and starts running another test case\n4) 60 seconds later the leaked eventlet times out waiting for the RPC\n   call to return and tries doing things, but fails as the DB is already\n   gone. Then it tries to  report this as an error notification. It calls\n   nova.rpc.get_versioned_notifier() and gets a fresh notifier that is\n   connected to the currently running test case. Then emits the error\n   notification there.\n5) The currently running test case also waits for an error notification\n   to be triggered by the currently running test code. But it gets the\n   notification form the late eventlet first. As the content of the\n   notification does not match with the expectations the currently\n   running test case fails. The late eventlet prints a lot of\n   error about the DB being gone making the troubleshooting pretty hard.\n\nThis patch proposes a way to fix this by marking each eventlet at spawn\ntime with the id of the test case that was directly or indirectly\nstarted it.\n\nThen when the NotificationFixture gets a notification it compares the\ntest case id stored in the calling eventlet with the id of the test case\ninitialized the NotificationFixture. If the two ids do not match then\nthe fixture ignores the notification and raises an exception to the\ncaller eventlet to make it terminate.\n\nChange-Id: I012dcf63306bae624dc4f66aae6c6d96a20d4327\nCloses-Bug: #1946339\n""}]",7,814036,61fc81a6761d34afdfc4a6d1c4c953802fd8a179,19,7,1,9708,,,0,"Prevent leaked eventlets to send notifications

In out functional tests we run nova services as eventlets. Also those
services can spawn there own eventlets for RPC or other parallel
processing. The test case executor only sees and tracks the main
eventlet where the code of the test case is running. When that is
finishes the test executor considers the test case to be finished
regardless of the other spawned eventlets. This could lead to leaked
eventlets that are running in parallel with later test cases.

One way that it can cause trouble is via the global variables in
nova.rpc module. Those globals are re-initialized for each test case so
they are not directly leaking information between test cases. However if
a late eventlet calls nova.rpc.get_versioned_notifier() it will get a
totally usable FakeVersionedNotifier object regardless of which test
case this notifier is belongs to or which test case the eventlet belongs
to. This way the late eventlet can send a notification to the currently
running test case and therefore can make it fail.

The current case we saw is the following:

1) The test case
  nova.tests.functional.test_servers.ServersTestV219.test_description_errors
  creates a server but don't wait for it to reach terminal state (ACTIVE
  / ERROR). This test case finishes quickly but leaks running eventlets
  in the background waiting for some RPC call to return.
2) As the test case finished the cleanup code deletes the test case
   specific setup, including the DB.
3) The test executor moves forward and starts running another test case
4) 60 seconds later the leaked eventlet times out waiting for the RPC
   call to return and tries doing things, but fails as the DB is already
   gone. Then it tries to  report this as an error notification. It calls
   nova.rpc.get_versioned_notifier() and gets a fresh notifier that is
   connected to the currently running test case. Then emits the error
   notification there.
5) The currently running test case also waits for an error notification
   to be triggered by the currently running test code. But it gets the
   notification form the late eventlet first. As the content of the
   notification does not match with the expectations the currently
   running test case fails. The late eventlet prints a lot of
   error about the DB being gone making the troubleshooting pretty hard.

This patch proposes a way to fix this by marking each eventlet at spawn
time with the id of the test case that was directly or indirectly
started it.

Then when the NotificationFixture gets a notification it compares the
test case id stored in the calling eventlet with the id of the test case
initialized the NotificationFixture. If the two ids do not match then
the fixture ignores the notification and raises an exception to the
caller eventlet to make it terminate.

Change-Id: I012dcf63306bae624dc4f66aae6c6d96a20d4327
Closes-Bug: #1946339
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/814036/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures/nova.py', 'nova/test.py', 'nova/tests/fixtures/notifications.py']",3,61fc81a6761d34afdfc4a6d1c4c953802fd8a179,bug/1946339,"import eventlet test_case_id=None self.test_case_id = test_case_id test_case_id=self.test_case_id test_case_id=None ): super().__init__( transport, publisher_id, serializer, test_case_id=test_case_id) @staticmethod def _get_sender_test_case_id(): current = eventlet.getcurrent() # NOTE(gibi) not all eventlet spawn is under our control, so there can # be senders without test_case_id set, find the first ancestor that # was spawned from nova.utils.spawn[_n] and therefore has the id set. while not getattr(current, 'test_case_id', None): current = current.parent return current.test_case_id def _notify(self, priority, ctxt, event_type, payload): sender_test_case_id = self._get_sender_test_case_id() # NOTE(gibi): this is here to prevent late notifications from already # finished test cases to break the currently running test case. See # more in https://bugs.launchpad.net/nova/+bug/1946339 if sender_test_case_id != self.test_case_id: raise RuntimeError( 'FakeVersionedNotifier received %s notification emitted by %s ' 'test case which is different from the currently running test ' 'case %s. This notification is ignored. The sender test case ' 'probably leaked a running eventlet that emitted ' 'notifications after the test case finished. Now this eventlet' 'is terminated by raising this exception.' % (event_type, sender_test_case_id, self.test_case_id)) serializer=getattr(rpc.NOTIFIER, '_serializer', None), test_case_id=self.test.id() )"," ): super().__init__(transport, publisher_id, serializer) def _notify(self, priority, ctxt, event_type, payload): serializer=getattr(rpc.NOTIFIER, '_serializer', None))",122,2
openstack%2Fpbr~master~I293f59b5074a38c78adffe580de2f1533bb01ce7,openstack/pbr,master,I293f59b5074a38c78adffe580de2f1533bb01ce7,Add a PEP517 interface,MERGED,2021-06-24 13:03:33.000000000,2021-11-03 20:31:30.000000000,2021-11-03 20:29:28.000000000,"[{'_account_id': 2}, {'_account_id': 308}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 13:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/a2ac416a181c2528187149a43d2c4bb1cbb03b15', 'message': 'Add a PEP517 interface\n\npep517 defines a new module method of specifying build backends.\nTo allow pbr to exist in this world, we should define the interface\nthat\'s needed. For this to be used, one will put:\n\n  [build-system]\n  requires = [""pbr""]\n  build-backend = ""pbr.build""\n\nInto pyproject.toml - and the pep517 interface will be used.\n\nThis doesn\'t really change anything else - it just makes us us this. So\nby itself this commit isn\'t SUPER helpful. But maybe let\'s take baby steps\nwith something this prone to strife, yeah?\n\nAfter this we can start teasing some things apart and doing our\nown things directly.\n\nChange-Id: I293f59b5074a38c78adffe580de2f1533bb01ce7\n'}, {'number': 2, 'created': '2021-10-26 17:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/46f8db0aa925f1bb0d1b6c7b8c9b89eb960cea6c', 'message': 'Add a PEP517 interface\n\npep517 defines a new module method of specifying build backends.\nTo allow pbr to exist in this world, we should define the interface\nthat\'s needed. For this to be used, one will put:\n\n  [build-system]\n  requires = [""pbr""]\n  build-backend = ""pbr.build""\n\nInto pyproject.toml - and the pep517 interface will be used.\n\nThis doesn\'t really change anything else - it just makes us support this.\nSo by itself this commit isn\'t SUPER helpful. But maybe let\'s take baby\nsteps with something this prone to strife, yeah?\n\nAfter this we can start teasing some things apart and doing our\nown things directly.\n\nChange-Id: I293f59b5074a38c78adffe580de2f1533bb01ce7\n'}, {'number': 3, 'created': '2021-10-26 23:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/e909de06f7197cce5c6fa6f5ad454feeda2e4c92', 'message': 'Add a PEP517 interface\n\npep517 defines a new module method of specifying build backends.\nTo allow pbr to exist in this world, we should define the interface\nthat\'s needed. For this to be used, one will put:\n\n  [build-system]\n  requires = [""pbr"", ""setuptools>=36.6.0"", ""wheel""]\n  build-backend = ""pbr.build""\n\nInto pyproject.toml - and the pep517 interface will be used.\n\nThis doesn\'t really change anything else - it just makes us support this.\nSo by itself this commit isn\'t SUPER helpful. But maybe let\'s take baby\nsteps with something this prone to strife, yeah?\n\nAfter this we can start teasing some things apart and doing our\nown things directly.\n\nChange-Id: I293f59b5074a38c78adffe580de2f1533bb01ce7\n'}, {'number': 4, 'created': '2021-10-29 18:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/7ad923a788de6537130955c1feb83e7e9634fd40', 'message': 'Add a PEP517 interface\n\npep517 defines a new module method of specifying build backends.\nTo allow pbr to exist in this world, we should define the interface\nthat\'s needed. For this to be used, one will put:\n\n  [build-system]\n  requires = [""pbr"", ""setuptools>=36.6.0"", ""wheel""]\n  build-backend = ""pbr.build""\n\nInto pyproject.toml - and the pep517 interface will be used.\n\nThis doesn\'t really change anything else - it just makes us support this.\nSo by itself this commit isn\'t SUPER helpful. But maybe let\'s take baby\nsteps with something this prone to strife, yeah?\n\nAfter this we can start teasing some things apart and doing our\nown things directly.\n\nChange-Id: I293f59b5074a38c78adffe580de2f1533bb01ce7\n'}, {'number': 5, 'created': '2021-11-02 15:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/3384725d10c7828a9b175e449bb978e2d933e514', 'message': 'Add a PEP517 interface\n\npep517 defines a new module method of specifying build backends.\nTo allow pbr to exist in this world, we should define the interface\nthat\'s needed. For this to be used, one will put:\n\n  [build-system]\n  requires = [""pbr>=5.7.0"", ""setuptools>=36.6.0"", ""wheel""]\n  build-backend = ""pbr.build""\n\nInto pyproject.toml - and the pep517 interface will be used.\n\nThis doesn\'t really change anything else - it just makes us support this.\nSo by itself this commit isn\'t SUPER helpful. But maybe let\'s take baby\nsteps with something this prone to strife, yeah?\n\nAfter this we can start teasing some things apart and doing our\nown things directly.\n\nCo-Authored-By: Clark Boylan <clark.boylan@gmail.com>\nChange-Id: I293f59b5074a38c78adffe580de2f1533bb01ce7\n'}, {'number': 6, 'created': '2021-11-03 17:06:07.000000000', 'files': ['pyproject.toml.future', 'pbr/tests/test_packaging.py', 'doc/source/user/using.rst', 'pbr/build.py', 'releasenotes/notes/pep517-support-89189ce0bab15845.yaml'], 'web_link': 'https://opendev.org/openstack/pbr/commit/09ee15341014fc0e3bb8a7c3b06a3fa912cfad38', 'message': 'Add a PEP517 interface\n\npep517 defines a new module method of specifying build backends.\nTo allow pbr to exist in this world, we should define the interface\nthat\'s needed. For this to be used, one will put:\n\n  [build-system]\n  requires = [""pbr>=5.7.0"", ""setuptools>=36.6.0"", ""wheel""]\n  build-backend = ""pbr.build""\n\nInto pyproject.toml - and the pep517 interface will be used.\n\nThis doesn\'t really change anything else - it just makes us support this.\nSo by itself this commit isn\'t SUPER helpful. But maybe let\'s take baby\nsteps with something this prone to strife, yeah?\n\nAfter this we can start teasing some things apart and doing our\nown things directly.\n\nCo-Authored-By: Clark Boylan <clark.boylan@gmail.com>\nChange-Id: I293f59b5074a38c78adffe580de2f1533bb01ce7\n'}]",13,797898,09ee15341014fc0e3bb8a7c3b06a3fa912cfad38,30,7,6,2,,,0,"Add a PEP517 interface

pep517 defines a new module method of specifying build backends.
To allow pbr to exist in this world, we should define the interface
that's needed. For this to be used, one will put:

  [build-system]
  requires = [""pbr>=5.7.0"", ""setuptools>=36.6.0"", ""wheel""]
  build-backend = ""pbr.build""

Into pyproject.toml - and the pep517 interface will be used.

This doesn't really change anything else - it just makes us support this.
So by itself this commit isn't SUPER helpful. But maybe let's take baby
steps with something this prone to strife, yeah?

After this we can start teasing some things apart and doing our
own things directly.

Co-Authored-By: Clark Boylan <clark.boylan@gmail.com>
Change-Id: I293f59b5074a38c78adffe580de2f1533bb01ce7
",git fetch https://review.opendev.org/openstack/pbr refs/changes/98/797898/6 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/build.py', 'pyproject.toml']",2,a2ac416a181c2528187149a43d2c4bb1cbb03b15,,"[build-system] requires = [""setuptools"", ""wheel""] build-backend = ""pbr.build"" backend-path = ["".""] ",,66,0
openstack%2Fpbr~master~I1f081d29d62c905c1bb1abee5402b0990c83e948,openstack/pbr,master,I1f081d29d62c905c1bb1abee5402b0990c83e948,PBR package testing improvements,MERGED,2021-11-03 17:06:07.000000000,2021-11-03 20:06:24.000000000,2021-11-03 20:04:43.000000000,"[{'_account_id': 5263}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 17:06:07.000000000', 'files': ['pbr/tests/test_packaging.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/8c0d5c314108c09bbb3004d608a5a95bd81b8820', 'message': ""PBR package testing improvements\n\nWe simplify virtualenv setup for PBR package installation testing by\nswitching to a simple file path for the PBR installation rather than a\nfull url with egg specifier. The egg specifer isn't necessary and\nneither is the url and simpler is easier to understand.\n\nWe also add the verbose flag to the pip installations of tools into that\nvirtualenv to better understand problems when they occur.\n\nFinally we add the option to skip writing package files if their\ncontents are empty. This allows us to ensure that we can omit certain\nfiles which will be useful for the next change.\n\nChange-Id: I1f081d29d62c905c1bb1abee5402b0990c83e948\n""}]",0,816539,8c0d5c314108c09bbb3004d608a5a95bd81b8820,8,3,1,4146,,,0,"PBR package testing improvements

We simplify virtualenv setup for PBR package installation testing by
switching to a simple file path for the PBR installation rather than a
full url with egg specifier. The egg specifer isn't necessary and
neither is the url and simpler is easier to understand.

We also add the verbose flag to the pip installations of tools into that
virtualenv to better understand problems when they occur.

Finally we add the option to skip writing package files if their
contents are empty. This allows us to ensure that we can omit certain
files which will be useful for the next change.

Change-Id: I1f081d29d62c905c1bb1abee5402b0990c83e948
",git fetch https://review.opendev.org/openstack/pbr refs/changes/39/816539/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/tests/test_packaging.py'],1,8c0d5c314108c09bbb3004d608a5a95bd81b8820,," modules = ['pip', 'wheel', PBR_ROOT] self.pip_cmd = ['-m', 'pip', '-v', 'install'] if not contents: # We want to be able to override not having files return"," pbr = 'file://%s#egg=pbr' % PBR_ROOT modules = ['pip', 'wheel', pbr] self.pip_cmd = ['-m', 'pip', 'install']",5,3
openstack%2Fdevstack~master~I93ea5e1fe411cbeba27fee87d6fc25120689328d,openstack/devstack,master,I93ea5e1fe411cbeba27fee87d6fc25120689328d,Convert keystone install to use system-scoped tokens,ABANDONED,2021-10-18 22:02:02.000000000,2021-11-03 19:57:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-18 22:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fbe9025a8ed960ceaff3df43d94bed55ffcd6069', 'message': 'DNM: Use system-scoped tokens for keystone\n\nChange-Id: I93ea5e1fe411cbeba27fee87d6fc25120689328d\n'}, {'number': 2, 'created': '2021-10-19 21:53:46.000000000', 'files': ['lib/cinder', 'lib/nova', 'functions-common', 'lib/keystone', 'tools/create_userrc.sh', 'lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/daea1f3a561132275b09c6513696fb29f9d83c39', 'message': 'Convert keystone install to use system-scoped tokens\n\nChange-Id: I93ea5e1fe411cbeba27fee87d6fc25120689328d\n'}]",0,814495,daea1f3a561132275b09c6513696fb29f9d83c39,5,1,2,5046,,,0,"Convert keystone install to use system-scoped tokens

Change-Id: I93ea5e1fe411cbeba27fee87d6fc25120689328d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/95/814495/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'lib/keystone', 'stack.sh']",3,fbe9025a8ed960ceaff3df43d94bed55ffcd6069,, write_clouds_yaml,,17,0
openstack%2Fnova~master~I781875022d37d2c0626347f42c87707a29a9ab21,openstack/nova,master,I781875022d37d2c0626347f42c87707a29a9ab21,db: Remove unused build_requests columns,MERGED,2021-10-01 14:34:34.000000000,2021-11-03 19:56:07.000000000,2021-11-03 19:52:36.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-01 14:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9606741ecfe7be0c3e88f3b4b305e9ec73d03f1', 'message': 'db: Remove unused build_requests columns\n\nThese fields were never used in the API database. They can be removed\nnow, some years after originally intended.\n\nChange-Id: I781875022d37d2c0626347f42c87707a29a9ab21\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-10-18 19:26:28.000000000', 'files': ['nova/tests/unit/db/api/test_migrations.py', 'nova/db/api/migrations/versions/b30f573d3377_remove_unused_build_requests_columns.py', 'nova/db/api/models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9657297dd6c63e7a1e0c84c3e943b26f1795d388', 'message': 'db: Remove unused build_requests columns\n\nThese fields were never used in the API database. They can be removed\nnow, some years after originally intended.\n\nChange-Id: I781875022d37d2c0626347f42c87707a29a9ab21\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,812145,9657297dd6c63e7a1e0c84c3e943b26f1795d388,24,3,2,15334,,,0,"db: Remove unused build_requests columns

These fields were never used in the API database. They can be removed
now, some years after originally intended.

Change-Id: I781875022d37d2c0626347f42c87707a29a9ab21
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/812145/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/api/migrations/versions/b30f573d3377_remove_unused_build_requests_columns.py', 'nova/tests/unit/db/api/test_migrations.py', 'nova/db/api/models.py', 'nova/db/api/migrations/env.py']",4,c9606741ecfe7be0c3e88f3b4b305e9ec73d03f1,bp/remove-sqlalchemy-migrate," """"""Determine which tables or columns to skip. This is used when we decide to ""delete"" a table or column. In this instance, we will remove the SQLAlchemy model or field but leave the underlying database table or column in place for a number of releases after. Once we're sure that there is no code running that contains references to the old models, we can then remove the underlying table. In the interim, we must track the discrepancy between models and actual database data here. """""""," if type_ == 'column': return (parent_names['table_name'], name) not in { ('build_requests', 'request_spec_id'), ('build_requests', 'user_id'), ('build_requests', 'display_name'), ('build_requests', 'instance_metadata'), ('build_requests', 'progress'), ('build_requests', 'vm_state'), ('build_requests', 'task_state'), ('build_requests', 'image_ref'), ('build_requests', 'access_ip_v4'), ('build_requests', 'access_ip_v6'), ('build_requests', 'info_cache'), ('build_requests', 'security_groups'), ('build_requests', 'config_drive'), ('build_requests', 'key_name'), ('build_requests', 'locked_by'), ('build_requests', 'reservation_id'), ('build_requests', 'launch_index'), ('build_requests', 'hostname'), ('build_requests', 'kernel_id'), ('build_requests', 'ramdisk_id'), ('build_requests', 'root_device_name'), ('build_requests', 'user_data'), ('resource_provides', 'can_host'), } ",65,41
openstack%2Fnova~master~Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9,openstack/nova,master,Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9,Avoid unbound instance_uuid var during delete,MERGED,2021-08-23 09:01:14.000000000,2021-11-03 19:54:28.000000000,2021-11-03 19:51:32.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 09:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69e2e59e2acec51ebe161111ea4268df08c3a22e', 'message': 'Avoid unbound instance_uuid var during delete\n\nThe patch I03cf285ad83e09d88cdb702a88dfed53c01610f8 fixed most of the\npossible cases for this to happen but missed one. An early enough\nexception during _delete() can cause that the instance_uuid never gets\ndefined but then we try to use it during the finally block. This patch\nmoves the saving of the instance_uuid to the top of the try block to\navoid the issue.\n\nChange-Id: Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9\nCloses-Bug: #1940812\nRelated-Bug: #1914777\n'}, {'number': 2, 'created': '2021-09-07 13:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/129a569e1924ca1604a16108313bcbe084848d03', 'message': 'Avoid unbound instance_uuid var during delete\n\nThe patch I03cf285ad83e09d88cdb702a88dfed53c01610f8 fixed most of the\npossible cases for this to happen but missed one. An early enough\nexception during _delete() can cause that the instance_uuid never gets\ndefined but then we try to use it during the finally block. This patch\nmoves the saving of the instance_uuid to the top of the try block to\navoid the issue.\n\nChange-Id: Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9\nCloses-Bug: #1940812\nRelated-Bug: #1914777\n'}, {'number': 3, 'created': '2021-10-20 09:48:07.000000000', 'files': ['nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/14e43f385e6d243b6efd11a777d082e63b66367c', 'message': 'Avoid unbound instance_uuid var during delete\n\nThe patch I03cf285ad83e09d88cdb702a88dfed53c01610f8 fixed most of the\npossible cases for this to happen but missed one. An early enough\nexception during _delete() can cause that the instance_uuid never gets\ndefined but then we try to use it during the finally block. This patch\nmoves the saving of the instance_uuid to the top of the try block to\navoid the issue.\n\nChange-Id: Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9\nCloses-Bug: #1940812\nRelated-Bug: #1914777\n'}]",6,805605,14e43f385e6d243b6efd11a777d082e63b66367c,38,4,3,9708,,,0,"Avoid unbound instance_uuid var during delete

The patch I03cf285ad83e09d88cdb702a88dfed53c01610f8 fixed most of the
possible cases for this to happen but missed one. An early enough
exception during _delete() can cause that the instance_uuid never gets
defined but then we try to use it during the finally block. This patch
moves the saving of the instance_uuid to the top of the try block to
avoid the issue.

Change-Id: Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9
Closes-Bug: #1940812
Related-Bug: #1914777
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/805605/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",2,69e2e59e2acec51ebe161111ea4268df08c3a22e,bug/1940812," def test_delete_instance_while_booting_host_changes_lookup_fails(self): """"""Tests the case where the instance become scheduled while being destroyed but then the final lookup fails. """""" instance = self._create_instance_obj({'host': None}) with test.nested( mock.patch.object( self.compute_api, '_delete_while_booting', side_effect=exception.ObjectActionError( action=""delete"", reason=""reason"")), mock.patch.object( self.compute_api, '_lookup_instance', return_value=(None, None)), mock.patch.object(self.compute_api, '_local_delete_cleanup') ) as ( _delete_while_booting, _lookup_instance, _local_delete_cleanup ): self.compute_api._delete( self.context, instance, 'delete', mock.NonCallableMock()) _delete_while_booting.assert_called_once_with( self.context, instance) _lookup_instance.assert_called_once_with( self.context, instance.uuid) _local_delete_cleanup.assert_called_once_with( self.context, instance.uuid) ",,34,4
openstack%2Fnova~master~I655f5144cbfa834ee089c474c5caa3cf8140354f,openstack/nova,master,I655f5144cbfa834ee089c474c5caa3cf8140354f,Reno for qos-minimum-guaranteed-packet-rate,MERGED,2021-08-18 15:37:57.000000000,2021-11-03 19:51:53.000000000,2021-11-03 19:51:53.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 15:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de7005926318c2f4967677dc97df244da9f030c7', 'message': 'Reno for qos-minimum-guaranteed-packet-rate\n\nAs a final patch for the series this adds release notes for the complete\nfeature.\n\nChange-Id: I655f5144cbfa834ee089c474c5caa3cf8140354f\nImplements: qos-minimum-guaranteed-packet-rate\n'}, {'number': 2, 'created': '2021-08-21 12:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b9a55bd8f4736f4389ab086b4538477f09b6fc5', 'message': 'Reno for qos-minimum-guaranteed-packet-rate\n\nAs a final patch for the series this adds release notes for the complete\nfeature.\n\nChange-Id: I655f5144cbfa834ee089c474c5caa3cf8140354f\nImplements: qos-minimum-guaranteed-packet-rate\n'}, {'number': 3, 'created': '2021-08-22 10:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48135242ce24eb3b6f6af9fa50587fe2ae7199f3', 'message': 'Reno for qos-minimum-guaranteed-packet-rate\n\nAs a final patch for the series this adds release notes for the complete\nfeature.\n\nChange-Id: I655f5144cbfa834ee089c474c5caa3cf8140354f\nImplements: qos-minimum-guaranteed-packet-rate\n'}, {'number': 4, 'created': '2021-08-27 16:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7996926e0855a458bca15854cac13e40c367264', 'message': 'Reno for qos-minimum-guaranteed-packet-rate\n\nAs a final patch for the series this adds release notes for the complete\nfeature.\n\nChange-Id: I655f5144cbfa834ee089c474c5caa3cf8140354f\nImplements: qos-minimum-guaranteed-packet-rate\n'}, {'number': 5, 'created': '2021-08-31 14:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d92d9456820671ee09dfe0f7b1c754407de1648', 'message': 'Reno for qos-minimum-guaranteed-packet-rate\n\nAs a final patch for the series this adds release notes for the complete\nfeature.\n\nChange-Id: I655f5144cbfa834ee089c474c5caa3cf8140354f\nImplements: qos-minimum-guaranteed-packet-rate\n'}, {'number': 6, 'created': '2021-09-01 08:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1170523390cec6582a747b0d497c2cd4975c4d73', 'message': 'Reno for qos-minimum-guaranteed-packet-rate\n\nAs a final patch for the series this adds release notes for the complete\nfeature.\n\nChange-Id: I655f5144cbfa834ee089c474c5caa3cf8140354f\nImplements: qos-minimum-guaranteed-packet-rate\n'}, {'number': 7, 'created': '2021-09-01 13:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9340a584b89732a5511ebfe2f55069bd2ca70e42', 'message': 'Reno for qos-minimum-guaranteed-packet-rate\n\nAs a final patch for the series this adds release notes for the complete\nfeature.\n\nChange-Id: I655f5144cbfa834ee089c474c5caa3cf8140354f\nImplements: qos-minimum-guaranteed-packet-rate\n'}, {'number': 8, 'created': '2021-10-20 09:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab954dededd45823ea092803311a008df5f009c5', 'message': 'Reno for qos-minimum-guaranteed-packet-rate\n\nAs a final patch for the series this adds release notes for the complete\nfeature.\n\nChange-Id: I655f5144cbfa834ee089c474c5caa3cf8140354f\nImplements: qos-minimum-guaranteed-packet-rate\n'}, {'number': 9, 'created': '2021-10-29 10:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6199a3bf0257de87aec19f9c2799efbd54d5f8e7', 'message': 'Reno for qos-minimum-guaranteed-packet-rate\n\nAs a final patch for the series this adds release notes for the complete\nfeature.\n\nChange-Id: I655f5144cbfa834ee089c474c5caa3cf8140354f\nImplements: qos-minimum-guaranteed-packet-rate\n'}, {'number': 10, 'created': '2021-11-01 08:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35b166ea47d0b52ccdf474e0eac1f0c1afa99d1c', 'message': 'Reno for qos-minimum-guaranteed-packet-rate\n\nAs a final patch for the series this adds release notes for the complete\nfeature.\n\nChange-Id: I655f5144cbfa834ee089c474c5caa3cf8140354f\nImplements: qos-minimum-guaranteed-packet-rate\n'}, {'number': 11, 'created': '2021-11-01 08:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54790aa380c5a8baa22b557cec23a3c0a3d7581a', 'message': 'Reno for qos-minimum-guaranteed-packet-rate\n\nAs a final patch for the series this adds release notes for the complete\nfeature.\n\nChange-Id: I655f5144cbfa834ee089c474c5caa3cf8140354f\nImplements: qos-minimum-guaranteed-packet-rate\n'}, {'number': 12, 'created': '2021-11-02 10:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/886b23379fb7aec4152307d801859dada7304a45', 'message': 'Reno for qos-minimum-guaranteed-packet-rate\n\nAs a final patch for the series this adds release notes for the complete\nfeature.\n\nChange-Id: I655f5144cbfa834ee089c474c5caa3cf8140354f\nImplements: qos-minimum-guaranteed-packet-rate\n'}, {'number': 13, 'created': '2021-11-02 10:24:03.000000000', 'files': ['releasenotes/notes/support-port-resource-request-groups-neutron-api-extension-70a902b79f735cff.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/9c2cb1fd4ff141da04c62943c5690a55e7c77f06', 'message': 'Reno for qos-minimum-guaranteed-packet-rate\n\nAs a final patch for the series this adds release notes for the complete\nfeature.\n\nChange-Id: I655f5144cbfa834ee089c474c5caa3cf8140354f\nImplements: qos-minimum-guaranteed-packet-rate\n'}]",11,805046,9c2cb1fd4ff141da04c62943c5690a55e7c77f06,66,6,13,9708,,,0,"Reno for qos-minimum-guaranteed-packet-rate

As a final patch for the series this adds release notes for the complete
feature.

Change-Id: I655f5144cbfa834ee089c474c5caa3cf8140354f
Implements: qos-minimum-guaranteed-packet-rate
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/805046/13 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/support-port-resource-request-groups-neutron-api-extension-70a902b79f735cff.yaml'],1,de7005926318c2f4967677dc97df244da9f030c7,bp/qos-minimum-guaranteed-packet-rate,"--- features: - | To support ports with minimum guaranteed packet rate QoS policy rule, or more precisely ports with such a QoS policy that has multiple rules requesting resources, nova needs to support the new port-resource-request-groups neutron API extension. This is done now. Nova fully supports handling ports with such complex QoS policy both at server creation and at any server operations, e.g migration, resize, evacuate, interface attach, etc. Also the ``nova-manage placement heal_allocations`` `CLI`_ now allows regenerating the placement allocation of servers with such ports. For more details see the `admin guide`_. .. _CLI: https://docs.openstack.org/nova/latest/cli/nova-manage.html#placement .. _admin guide: https://docs.openstack.org/nova/latest/admin/ports-with-resource-requests.html ",,16,0
openstack%2Ftripleo-docs~master~Ie438e4e69f13fe8fd59f7ead1cf0476e5cbe26a4,openstack/tripleo-docs,master,Ie438e4e69f13fe8fd59f7ead1cf0476e5cbe26a4,Remove clouds.yaml directory during standalone cleanup,MERGED,2021-07-08 01:56:22.000000000,2021-11-03 19:43:13.000000000,2021-11-03 19:41:40.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 01:56:22.000000000', 'files': ['deploy-guide/source/deployment/standalone.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/71f0de0b02a3f83b3b756784316e78fc1591cdcb', 'message': 'Remove clouds.yaml directory during standalone cleanup\n\nAdds commands to delete clouds.yaml directory (from both /etc/openstack\nand ~/.config/openstack) to the standalone cleanup instructions.\n\nChange-Id: Ie438e4e69f13fe8fd59f7ead1cf0476e5cbe26a4\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,799942,71f0de0b02a3f83b3b756784316e78fc1591cdcb,8,3,1,7144,,,0,"Remove clouds.yaml directory during standalone cleanup

Adds commands to delete clouds.yaml directory (from both /etc/openstack
and ~/.config/openstack) to the standalone cleanup instructions.

Change-Id: Ie438e4e69f13fe8fd59f7ead1cf0476e5cbe26a4
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/42/799942/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/standalone.rst'],1,71f0de0b02a3f83b3b756784316e78fc1591cdcb,, /var/lib/mysql/* \ /etc/openstack rm -rf ~/.config/openstack, /var/lib/mysql/*,3,1
openstack%2Ftripleo-ansible~master~I34aeb3ad593378257c21bdf3acfa12b5c45322df,openstack/tripleo-ansible,master,I34aeb3ad593378257c21bdf3acfa12b5c45322df,DNM: WIP: working on some cert repair playbooks for octavia,ABANDONED,2021-08-20 17:30:42.000000000,2021-11-03 19:36:12.000000000,,"[{'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-20 17:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/17fdcd243c6701b4679fca0f47315187adff5b4d', 'message': ""DNM: WIP: working on some cert repair playbooks for octavia\n\nVery WIP and it's not clear where we are going to put them when they\nare ready.\n\nChange-Id: I34aeb3ad593378257c21bdf3acfa12b5c45322df\n""}, {'number': 2, 'created': '2021-08-23 14:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6bfce49082e785e4f8c4d64594e8c55294fa2593', 'message': ""DNM: WIP: working on some cert repair playbooks for octavia\n\nVery WIP and it's not clear where we are going to put them when they\nare ready.\n\nChange-Id: I34aeb3ad593378257c21bdf3acfa12b5c45322df\n""}, {'number': 3, 'created': '2021-08-25 13:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2bf774a06342fdddf423cc429a46704edece8f10', 'message': ""DNM: WIP: working on some cert repair playbooks for octavia\n\nVery WIP and it's not clear where we are going to put them when they\nare ready.\n\nChange-Id: I34aeb3ad593378257c21bdf3acfa12b5c45322df\n""}, {'number': 4, 'created': '2021-08-25 13:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/75d05ca5e272ffc51f3ce3c8e5c793d6c61fc82b', 'message': ""DNM: WIP: working on some cert repair playbooks for octavia\n\nVery WIP and it's not clear where we are going to put them when they\nare ready.\n\nChange-Id: I34aeb3ad593378257c21bdf3acfa12b5c45322df\n""}, {'number': 5, 'created': '2021-08-25 13:38:10.000000000', 'files': ['tripleo_ansible/playbooks/octavia-cert-check.yaml', 'tripleo_ansible/playbooks/octavia-sync-certs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ff64065dbd15adf838013c92736ea7dd0e95a6c8', 'message': ""DNM: WIP: working on some cert repair playbooks for octavia\n\nVery WIP and it's not clear where we are going to put them when they\nare ready.\n\nChange-Id: I34aeb3ad593378257c21bdf3acfa12b5c45322df\n""}]",0,805442,ff64065dbd15adf838013c92736ea7dd0e95a6c8,13,3,5,6681,,,0,"DNM: WIP: working on some cert repair playbooks for octavia

Very WIP and it's not clear where we are going to put them when they
are ready.

Change-Id: I34aeb3ad593378257c21bdf3acfa12b5c45322df
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/805442/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/octavia-cert-check.yaml', 'tripleo_ansible/playbooks/octavia-sync-certs.yaml']",2,17fdcd243c6701b4679fca0f47315187adff5b4d,,"--- - hosts: octavia_worker gather_facts: false vars: octavia_config_directory: ""/var/lib/config-data/puppet-generated/octavia/etc/octavia"" become: true tasks: - name: Checking for certificate path stat: path: ""{{ octavia_config_directory }}/certs"" register: _cert_path_check - name: Checking files when: - _cert_path_check.stat.exists | bool block: - name: Cert file exist check stat: path: ""{{ octavia_config_directory }}/certs/{{ item.filename }}"" register: _cert_file_exist_check loop: - { name: 'CAcert', filename: ""ca_01.pem"" } - { name: 'ServiceCert', filename: ""client.pem"" } - name: Expiry date check when: - item.stat.exists | bool shell: | openssl x509 -enddate -noout -in ""{{ item.stat.path }}"" | cut -d '=' -f 2 register: _cert_file_expiry_check loop: ""{{ _cert_file_exist_check.results }}"" - name: Get certificate data when: - item.stat.exists | bool slurp: src: ""{{ item.stat.path }}"" register: _cert_data loop: ""{{ _cert_file_exist_check.results }}"" - name: Organize results set_fact: cert_info: >- {{ cert_info | default({}) | combine ( { item.0.item.item.name : { 'File': item.0.item.item.filename, 'Expiry': item.0.stdout, 'ExpiryDT': ( item.0.stdout | to_datetime('%b %d %H:%M:%S %Y %Z') ).strftime('%s'), 'Checksum': item.0.item.stat.checksum, 'Data': ( item.1.content | b64decode ) } } ) }} with_together: - ""{{ _cert_file_expiry_check.results }}"" - ""{{ _cert_data.results }}"" - name: Private key format check stat: path: ""{{ octavia_config_directory }}/certs/private/cakey.pem"" register: _private_key_exist_check - name: Private key format check when: _private_key_exist_check.stat.exists | bool shell: grep -q 'AES-256-CBC' ""{{ _private_key_exist_check.stat.path }}"" failed_when: false register: _private_key_aes_result - name: get CA private key when: _private_key_exist_check.stat.exists | bool slurp: src: ""{{ _private_key_exist_check.stat.path }}"" register: _private_key_data - name: Add private key to results when: _private_key_exist_check.stat.exists | bool set_fact: cert_info: >- {{ cert_info | default({}) | combine ( { 'CAkey' : { 'File': 'private/cakey.pem', 'Checksum': _private_key_exist_check.stat.checksum, 'Data' : ( _private_key_data.content | b64decode ), 'Needs updating': ( _private_key_aes_result.rc != 0 | bool ) } } ) }} # We need to perform the operations on an overcloud node because we don't want # to put octavia related key info on the undercloud if it isn't necessary. # - hosts: octavia_worker[0] gather_facts: true vars: ca_min_expiry: ""{{ CAExpiryHorizon|default(30000) }}"" cert_min_expiry: ""{{ CertificateExpiryHorizon|default(30000) }}"" tasks: - name: Collect all of the cert info facts set_fact: octavia_cert_info: ""{{ groups['octavia_worker'] | map('extract', hostvars, 'cert_info') | list }}"" - name: Collect the various certificates set_fact: service_certificates: ""{{ octavia_cert_info | map(attribute='ServiceCert') | flatten | unique }}"" ca_certificates: ""{{ octavia_cert_info | map(attribute='CAcert') | flatten | unique }}"" private_keys: ""{{ octavia_cert_info | map(attribute='CAkey') | flatten | unique }}"" # NOTE: We shouldn't try to generate certificates here. We should rely on # the deployment to recreate/regenerate certs and then if necessary use # this tool to fix up nodes that the deployment misses for whatever reason. # (e.g. https://bugzilla.redhat.com/show_bug.cgi?id=1985999) # If a private key needs updating, because we do a consistent key setup, # we'll need to update everything - name: Is there a private key that needs updating? set_fact: private_key_update: ""{{ private_keys | selectattr('Needs updating', 'equalto', true) | list | length > 1 | bool }}"" - name: Private keys need updating, so we should stop here. fail: msg: ""Please re-run overcloud deploy in your cloud to generate up-to-date Octavia keys"" when: private_key_update | bool - name: Get the CA and service cert with the furthest out expiry date set_fact: CA_cert_master: ""{{ ca_certificates | sort('ExpiryDT' | int) | last }}"" Service_cert_master: ""{{ service_certificates | sort('ExpiryDT' | int) | last }}"" - name: Check expiry date of longest lived CA and service certs set_fact: CA_validity: >- {{ ( CA_cert_master.ExpiryDT | int ) - ( ansible_date_time.epoch | int ) }} Cert_validity: >- {{ ( Service_cert_master.ExpiryDT | int )- ( ansible_date_time.epoch | int ) }} - name: Stop here if a redeploy is needed to refresh CA or certs fail: msg: >- Octavia key information is expiring within the year. Please re-run overcloud deploy in your cloud to generate up-to-date Octavia keys. when: - ( ( CA_validity | int ) < 31622400 ) or ( ( Cert_validity | int ) < 31622400 ) # If there is more than one unique cert or key in the whole cloud we need to resync everything. - name: Is a sync required required? set_fact: sync_cas: >- {{ ( ( ( ca_certificates | length > 1 ) | bool ) or ( ( private_keys | length > 1 ) ) ) | bool }} sync_certs: ""{{ ( service_certificates | length > 1 ) | bool }}"" # Before syncing, ideally we find a master node to use as the reference for the rest of the keys. # There are two types of syncs: 1.) CA + service certificates and 2.) just the service certificates. # 1. can be triggered by either the private keys needing updating - or - # there being more than one private key or CA for the cloud - or - # the CA being close to expiry # If just 2. sync_certs we can leave the CAs alone. - name: If just syncing certs when: - not ( sync_cas | bool ) - sync_certs | bool set_fact: update_info: ""{{ { 'ServiceCert': Service_cert_master } }}"" - name: Syncing CA and Certs when: - sync_cas | bool block: # We need to find the matching CA info in octavia_cert_info # because we need use the service cert from that node. We should # perform a check to make sure that service_cert is actually the # master service cert - it should be, but who knows. - name: Get the master certificate information set_fact: update_info : >- {{ octavia_cert_info | selectattr('CAcert.Checksum', 'equalto', CA_cert_master.Checksum) | list | first }} - name: Warn if the checksum of the service cert doesn't match master service cert when: - update_info.ServiceCert.Checksum != Service_cert_master.Checksum ignore_errors: yes fail: msg: >- The service certificate on the host with the best CA pick does not match the best service certificate on the cloud. Something unexpected has happened may require more direct manual intervention. - hosts: octavia_worker vars: all_key_info: ""{{ hostvars[groups['octavia_worker'][0]]['update_info'] | default({}) }}"" octavia_config_directory: ""/var/lib/config-data/puppet-generated/octavia/etc/octavia/certs"" tasks: - debug: msg: ""{{ all_key_info }}"" - name: making sure octavia worker configuration directory exists file: path: ""{{ octavia_config_directory }}/private"" state: directory selevel: s0 setype: svirt_sandbox_file_t become: true - name: Copying key info to octavia if not already there become: true copy: content: ""{{ item.value.Data }}"" dest: ""{{ octavia_config_directory }}/{{ item.value.File }}"" selevel: s0 setype: svirt_sandbox_file_t no_log: false loop: ""{{ all_key_info | dict2items }}"" - name: Restart octavia services that use certificates become: true when: - all_key_info.keys() | length > 0 block: - name: get list of running octavia services shell: | systemctl is-active --quiet {{ item }} && echo {{ item }} failed_when: false register: octavia_active_services loop: - tripleo_octavia_worker - tripleo_octavia_health_manager - tripleo_octavia_housekeeping - name: restart octavia services systemd: name: ""{{ item.stdout }}"" state: restarted loop: ""{{ octavia_active_services.results }}"" when: - item.rc == 0 ",,311,0
openstack%2Fkolla~master~I461f598bca6606f1d2939e385bb7befe2b792aa6,openstack/kolla,master,I461f598bca6606f1d2939e385bb7befe2b792aa6,Remove InfluxDB data source Grafana plugin,MERGED,2021-10-05 13:55:38.000000000,2021-11-03 19:30:26.000000000,2021-11-03 11:55:02.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-10-05 13:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/29e10a783fe71f8d318b238f8ae1816dcddb45d9', 'message': 'Remove Influxdb data source Grafana plugin\n\nGrafana has now native support for configuring Influxdb data sources.\nPlugin has been defunct anyway since Grafana requieres it to be signed.\n\nChange-Id: I461f598bca6606f1d2939e385bb7befe2b792aa6\n'}, {'number': 2, 'created': '2021-10-05 18:00:49.000000000', 'files': ['docker/grafana/Dockerfile.j2', 'releasenotes/notes/remove-grafana-influxdb-plugin-a494f3dc217d3124.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8c092ac5c6273f400d8b488f0fcce756ca15eaa3', 'message': 'Remove InfluxDB data source Grafana plugin\n\nGrafana has now native support for configuring Influxdb data sources.\nPlugin has been defunct anyway since Grafana requires it to be signed.\n\nChange-Id: I461f598bca6606f1d2939e385bb7befe2b792aa6\n'}]",4,812505,8c092ac5c6273f400d8b488f0fcce756ca15eaa3,14,4,2,32657,,,0,"Remove InfluxDB data source Grafana plugin

Grafana has now native support for configuring Influxdb data sources.
Plugin has been defunct anyway since Grafana requires it to be signed.

Change-Id: I461f598bca6606f1d2939e385bb7befe2b792aa6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/05/812505/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/grafana/Dockerfile.j2', 'releasenotes/notes/remove-grafana-influxdb-plugin-a494f3dc217d3124.yaml']",2,29e10a783fe71f8d318b238f8ae1816dcddb45d9,,--- features: - | Removes Inlfuxdb datasource plugin from Grafana image as it's now natively supported. ,,5,1
openstack%2Ftripleo-common~master~I242763f4808e2ed0ea467a769ac26275529dbad2,openstack/tripleo-common,master,I242763f4808e2ed0ea467a769ac26275529dbad2,Correct package name for ceilometermiddleware for swift,ABANDONED,2019-10-11 15:36:48.000000000,2021-11-03 19:26:41.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-11 15:36:48.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c8571e5f810d171d4f096bdebcabeea01ca65591', 'message': 'Correct package name for ceilometermiddleware for swift\n\nDrop this as swift is python3\n\nChange-Id: I242763f4808e2ed0ea467a769ac26275529dbad2\n'}]",2,688150,c8571e5f810d171d4f096bdebcabeea01ca65591,8,7,1,28186,,,0,"Correct package name for ceilometermiddleware for swift

Drop this as swift is python3

Change-Id: I242763f4808e2ed0ea467a769ac26275529dbad2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/50/688150/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,c8571e5f810d171d4f096bdebcabeea01ca65591,," 'openstack-ceilometer-common', 'python-ceilometermiddleware'", 'openstack-ceilometer-common'# TODO(mwhahaha): drop this when swift is python3 {% if base_distro_tag.startswith('8') %} {% set swift_proxy_server_packages_remove = ['python-ceilometermiddleware'] %} {% set swift_proxy_server_packages_append = swift_proxy_server_packages_append + ['python3-ceilometermiddleware'] %} {% endif %} ,2,7
openstack%2Fnova-specs~master~I2530f25b32567a52eeb9b72dcc4df7c2f62c8945,openstack/nova-specs,master,I2530f25b32567a52eeb9b72dcc4df7c2f62c8945,Re-propose Remove tenant_id,MERGED,2021-09-19 06:08:02.000000000,2021-11-03 19:26:19.000000000,2021-11-03 19:24:10.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-19 06:08:02.000000000', 'files': ['specs/yoga/approved/remove-tenant-id.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/682dc6ed0c9a6188bf9528f66f4ef515309f06c2', 'message': 'Re-propose Remove tenant_id\n\nThe blueprint proposes to remove the API interface that uses\n``tenant_id`` and replace it with ``project_id``, and changes\ntenant to project in all docs, policies and code.\n\nPart of blueprint remove-tenant-id\n\nChange-Id: I2530f25b32567a52eeb9b72dcc4df7c2f62c8945\n'}]",2,809939,682dc6ed0c9a6188bf9528f66f4ef515309f06c2,8,6,1,26458,,,0,"Re-propose Remove tenant_id

The blueprint proposes to remove the API interface that uses
``tenant_id`` and replace it with ``project_id``, and changes
tenant to project in all docs, policies and code.

Part of blueprint remove-tenant-id

Change-Id: I2530f25b32567a52eeb9b72dcc4df7c2f62c8945
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/39/809939/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/approved/remove-tenant-id.rst'],1,682dc6ed0c9a6188bf9528f66f4ef515309f06c2,bp/remove-tenant-id,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================ Remove tenant_id ================ https://blueprints.launchpad.net/nova/+spec/remove-tenant-id The blueprint proposes to remove the API interface that uses ``tenant_id`` and replace it with ``project_id``. Problem description =================== Currently, Nova API supports both ``tenant_id`` and ``project_id``, which is unfriendly to users. The following is a confusing question. By default, we support filtering instances by ``all_tenants (Optional)``, but through this parameter, we get a list of all instances that they cannot get instances by ``tenant_id``. We can see from `bug 1185290`_ that when using the ``nova list`` command, if ``tenant_id`` is required, ``all_tenants`` must appear, as description in [1]_, which is somewhat unintuitive. .. note:: [1]_ mainly said: ""As explained in lp:#1185290, if `all_tenants` is not passed we must ignore the `tenant_id` search option."". We can know from `bug 1468992`_ that many users want to use ``tenant_id`` filtering instances, and using the concept of tenants in many of our large-scale customer scenarios, they hope we can filter the expected instances through ``tenant_id``. Use Cases --------- As an (admin) user, I would like to use ``project_id`` uniformly in nova api, instead of supporting both ``tenant_id`` and ``project_id``, this will imporve uniformity within nova and between nova and other service which have already made this change. Proposed change =============== Add a new microversion to the request or response parameter changes API. Remove the ``tenant_id`` field, using ``all_projects`` replace ``all_tenants`` parameter, and then remove``all_tenants`` parameter in the following APIs: * GET /servers (List Servers) * GET /servers/detail (List Server Detailed) Replace ``tenant_id`` with ``project_id`` in request body in follow APIs: * GET /limits (Show Rate And Absolute Limits) * GET /os-quota-sets/{tenant_id} (Show A Quota) * PUT /os-quota-sets/{tenant_id} (Update Quotas) * GET /os-quota-sets/{tenant_id}/defaults (List Default Quotas For Tenant) * GET /os-quota-sets/{tenant_id}/detail (Show The Detail of Quota) * GET /os-simple-tenant-usage/{tenant_id} (Show Usage Statistics For Tenant) Replace ``tenant_id`` with ``project_id`` in response body in follow APIs: * GET /servers/detail (List Server Detailed) * GET /servers/{server_id} (List Server Detailed) * PUT /servers/{server_id} (Update Server) * POST /servers/{server_id}/action (Rebuild Server (rebuild Action)) * GET /servers/{server_id}/os-security-groups (List Security Groups By Server) * GET /flavors/{flavor_id}/os-flavor-access (List Flavor Access Information For Given Flavor) * POST /flavors/{flavor_id}/action (Add Flavor Access To Tenant (addTenantAccess Action)) * POST /flavors/{flavor_id}/action (Remove Flavor Access From Tenant (removeTenantAccess Action)) * GET /os-simple-tenant-usage (List Tenant Usage Statistics For All Tenants) * GET /os-simple-tenant-usage/{tenant_id} (Show Usage Statistics For Tenant) The keyword ``tenant`` in the path will be replaced with ``project`` as below APIs: * `GET /os-simple-tenant-usage` APIs will be renamed to `GET /os-simple-project-usage` * `GET /os-simple-tenant-usage/{tenant_id}` APIs will be renamed to `GET /os-simple-project-usage/{project_id}` We should block change the ``tenant_id`` below the deprecated APIs: * GET /os-security-groups (List Security Groups) * GET /os-security-groups/{security_group_id} (Show Security Group Details) * PUT /os-security-groups/{security_group_id} (Update Security Group) * POST /os-security-group-rules (Create Security Group Rule) * GET /os-cells (List Cells) * GET /os-fping?all_tenants=1 (Ping Instances) By the way, tenant* reference will be replaced with project* in all policies, code and docs too. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- Add a new microversion. Replace ``all_tenants`` with ``all_projects`` parameter, and remove ``all_tenants`` in request body in follow APIs: * GET /servers (List Servers) * GET /servers/detail (List Server Detailed) Replace ``tenant_id`` with ``project_id`` in request body in follow APIs: * GET /limits (Show Rate And Absolute Limits) * GET /os-quota-sets/{tenant_id} (Show A Quota) * PUT /os-quota-sets/{tenant_id} (Update Quotas) * GET /os-quota-sets/{tenant_id}/defaults (List Default Quotas For Tenant) * GET /os-quota-sets/{tenant_id}/detail (Show The Detail of Quota) * GET /os-simple-tenant-usage/{tenant_id} (Show Usage Statistics For Tenant) * GET /os-cells (List Cells) Replace ``tenant_id`` with ``project_id`` in response body in follow APIs: * GET /servers/detail (List Server Detailed) * GET /servers/{server_id} (List Server Detailed) * PUT /servers/{server_id} (Update Server) * POST /servers/{server_id}/action (Rebuild Server (rebuild Action)) * GET /servers/{server_id}/os-security-groups (List Security Groups By Server) * GET /flavors/{flavor_id}/os-flavor-access (List Flavor Access Information For Given Flavor) * POST /flavors/{flavor_id}/action (Add Flavor Access To Tenant (addTenantAccess Action)) * POST /flavors/{flavor_id}/action (Remove Flavor Access From Tenant (removeTenantAccess Action)) * GET /os-simple-tenant-usage (List Tenant Usage Statistics For All Tenants) * GET /os-simple-tenant-usage/{tenant_id} (Show Usage Statistics For Tenant) Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- Update openstacksdk, python-novaclient and python-openstackclient for the new microversion. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: brinzhang Feature Liaison --------------- Feature liaison: brinzhang Work Items ---------- * Replace ``tenant_id`` with ``project_id`` in relate APIs, policies and code. * Replace ``all_tenants`` with ``all_projects`` in relate APIs, policies and code. * Add related tests. * Docs for the new microversion. * Check the python-novaclient , python-openstackclient and openstacksdk, just support requesting ``project_id`` in related APIs. Dependencies ============ None Testing ======= * Add related unit test for negative scenarios. * Add related functional test (API samples). Tempest testing should not be necessary for this change. Documentation Impact ==================== Update the API reference for the new microversion, and update all uses of ``tenant`` to ``project`` in all docs and code. References ========== .. _`bug 1185290`: https://bugs.launchpad.net/nova/+bug/1185290 .. _`bug 1468992`: https://bugs.launchpad.net/nova/+bug/1468992 .. [1] Mainly info: https://opendev.org/openstack/nova/src/branch/stable/ussuri/nova/api/openstack/compute/servers.py#L294-L295 History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Wallaby - Introduced * - Xena - Re-proposed * - Yoga - Re-proposed ",,252,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~If46a83e5f476ab8ed553b67b624c780a21ee50a5,openstack/tripleo-heat-templates,stable/victoria,If46a83e5f476ab8ed553b67b624c780a21ee50a5,Add SwiftHashPrefix parameter,ABANDONED,2021-01-06 11:46:42.000000000,2021-11-03 19:23:19.000000000,,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-06 11:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/286b5d52e35c938e80b3b92281427f13dbd00796', 'message': ""Add SwiftHashPrefix parameter\n\nAdds a new parameter 'SwiftHashPrefix' to allow swift\nto have its hash_prefix parameter set.\n\nChange-Id: If46a83e5f476ab8ed553b67b624c780a21ee50a5\nStory: 2008411\nRelated-RHBZ: #1903901\n(cherry picked from commit 0e1c9618b98a0780362ab6761c3aab058dadc7d1)\n""}, {'number': 2, 'created': '2021-01-12 01:02:40.000000000', 'files': ['releasenotes/notes/swift_hash_path_prefix-5ecc32ed5d78158b.yaml', 'deployment/swift/swift-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/caa40923c31a202325a1343d5c44793bbbbb8ad7', 'message': ""Add SwiftHashPrefix parameter\n\nAdds a new parameter 'SwiftHashPrefix' to allow swift\nto have its hash_prefix parameter set.\n\nChange-Id: If46a83e5f476ab8ed553b67b624c780a21ee50a5\nStory: 2008411\nRelated-RHBZ: #1903901\n(cherry picked from commit 0e1c9618b98a0780362ab6761c3aab058dadc7d1)\n""}]",0,769507,caa40923c31a202325a1343d5c44793bbbbb8ad7,17,4,2,30095,,,0,"Add SwiftHashPrefix parameter

Adds a new parameter 'SwiftHashPrefix' to allow swift
to have its hash_prefix parameter set.

Change-Id: If46a83e5f476ab8ed553b67b624c780a21ee50a5
Story: 2008411
Related-RHBZ: #1903901
(cherry picked from commit 0e1c9618b98a0780362ab6761c3aab058dadc7d1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/769507/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/swift_hash_path_prefix-5ecc32ed5d78158b.yaml', 'deployment/swift/swift-base.yaml']",2,286b5d52e35c938e80b3b92281427f13dbd00796,, SwiftHashPrefix: default: '' description: A random string to be used as an extra salt when hashing to determine mappings in the ring. hidden: true type: string swift::swift_hash_path_prefix: {get_param: SwiftHashPrefix},,13,0
openstack%2Fdesignate-dashboard~stable%2Ftrain~I8287f3f8879592b385852c83007d4b46a61a55c7,openstack/designate-dashboard,stable/train,I8287f3f8879592b385852c83007d4b46a61a55c7,Add CAA record type support,ABANDONED,2020-03-10 07:42:08.000000000,2021-11-03 19:05:34.000000000,,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28014}, {'_account_id': 31503}]","[{'number': 1, 'created': '2020-03-10 07:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/22e42c0a18a9aa6286b3934626cc9d534855ab88', 'message': 'Add CAA record type support\n\nThis commit adds the CAA record type in the list of editable record\ntypes of the Designate Dashboard. This fixes existing CAA records being\nshown without a record type, and allows users to create and update\nCAA records.\n\nChange-Id: I8287f3f8879592b385852c83007d4b46a61a55c7\nSigned-off-by: Aggelos Kolaitis <akolaitis@admin.grnet.gr>\n(cherry picked from commit f4cf36e57f04127d88f507f7f2d3df3c3e53a6c2)\n'}, {'number': 2, 'created': '2020-03-17 14:57:12.000000000', 'files': ['designatedashboard/static/designatedashboard/resources/os-designate-recordset/os-designate-recordset.module.js'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/89eedec2ab50b960a9fc9c8fc68e5e9e69f75d04', 'message': 'Add CAA record type support\n\nThis commit adds the CAA record type in the list of editable record\ntypes of the Designate Dashboard. This fixes existing CAA records being\nshown without a record type, and allows users to create and update\nCAA records.\n\nChange-Id: I8287f3f8879592b385852c83007d4b46a61a55c7\nCloses-Bug: #1867769\nCo-Authored-By: Alexandros Soumplis <soumplis@admin.grnet.gr>\nSigned-off-by: Aggelos Kolaitis <akolaitis@admin.grnet.gr>\n(cherry picked from commit f4cf36e57f04127d88f507f7f2d3df3c3e53a6c2)\n'}]",0,712021,89eedec2ab50b960a9fc9c8fc68e5e9e69f75d04,14,6,2,30442,,,0,"Add CAA record type support

This commit adds the CAA record type in the list of editable record
types of the Designate Dashboard. This fixes existing CAA records being
shown without a record type, and allows users to create and update
CAA records.

Change-Id: I8287f3f8879592b385852c83007d4b46a61a55c7
Closes-Bug: #1867769
Co-Authored-By: Alexandros Soumplis <soumplis@admin.grnet.gr>
Signed-off-by: Aggelos Kolaitis <akolaitis@admin.grnet.gr>
(cherry picked from commit f4cf36e57f04127d88f507f7f2d3df3c3e53a6c2)
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/21/712021/1 && git format-patch -1 --stdout FETCH_HEAD,['designatedashboard/static/designatedashboard/resources/os-designate-recordset/os-designate-recordset.module.js'],1,22e42c0a18a9aa6286b3934626cc9d534855ab88,bug/1867769," 'NS': gettext('NS - Name server'), 'CAA': gettext('CAA - Certificate Authority Authorization record'), ""TXT"", ""CAA"","," 'NS': gettext('NS - Name server') ""TXT""",4,2
openstack%2Fdesignate-dashboard~stable%2Fstein~I8287f3f8879592b385852c83007d4b46a61a55c7,openstack/designate-dashboard,stable/stein,I8287f3f8879592b385852c83007d4b46a61a55c7,Add CAA record type support,ABANDONED,2020-03-10 07:42:32.000000000,2021-11-03 19:05:17.000000000,,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28014}, {'_account_id': 28522}, {'_account_id': 31503}]","[{'number': 1, 'created': '2020-03-10 07:42:32.000000000', 'files': ['designatedashboard/static/designatedashboard/resources/os-designate-recordset/os-designate-recordset.module.js'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/c68a40c0cd62624dbadbb8dcb0f99e16e969bf09', 'message': 'Add CAA record type support\n\nThis commit adds the CAA record type in the list of editable record\ntypes of the Designate Dashboard. This fixes existing CAA records being\nshown without a record type, and allows users to create and update\nCAA records.\n\nChange-Id: I8287f3f8879592b385852c83007d4b46a61a55c7\nSigned-off-by: Aggelos Kolaitis <akolaitis@admin.grnet.gr>\n(cherry picked from commit f4cf36e57f04127d88f507f7f2d3df3c3e53a6c2)\n'}]",0,712022,c68a40c0cd62624dbadbb8dcb0f99e16e969bf09,10,7,1,30442,,,0,"Add CAA record type support

This commit adds the CAA record type in the list of editable record
types of the Designate Dashboard. This fixes existing CAA records being
shown without a record type, and allows users to create and update
CAA records.

Change-Id: I8287f3f8879592b385852c83007d4b46a61a55c7
Signed-off-by: Aggelos Kolaitis <akolaitis@admin.grnet.gr>
(cherry picked from commit f4cf36e57f04127d88f507f7f2d3df3c3e53a6c2)
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/22/712022/1 && git format-patch -1 --stdout FETCH_HEAD,['designatedashboard/static/designatedashboard/resources/os-designate-recordset/os-designate-recordset.module.js'],1,c68a40c0cd62624dbadbb8dcb0f99e16e969bf09,," 'NS': gettext('NS - Name server'), 'CAA': gettext('CAA - Certificate Authority Authorization record'), ""TXT"", ""CAA"","," 'NS': gettext('NS - Name server') ""TXT""",4,2
openstack%2Fdesignate-dashboard~stable%2Frocky~I6b027d1d1f235cf35e0ebb6876b0962a024fa460,openstack/designate-dashboard,stable/rocky,I6b027d1d1f235cf35e0ebb6876b0962a024fa460,Limit npm jobs to nodeset: ubuntu-xenial,ABANDONED,2019-12-16 16:36:02.000000000,2021-11-03 19:04:07.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-12-16 16:36:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/f2f95aafd865c236a10d435c3f47adfdc531158b', 'message': 'Limit npm jobs to nodeset: ubuntu-xenial\n\nChange-Id: I6b027d1d1f235cf35e0ebb6876b0962a024fa460\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}]",0,699241,f2f95aafd865c236a10d435c3f47adfdc531158b,11,3,1,8099,,,0,"Limit npm jobs to nodeset: ubuntu-xenial

Change-Id: I6b027d1d1f235cf35e0ebb6876b0962a024fa460
Signed-off-by: Graham Hayes <gr@ham.ie>
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/41/699241/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f2f95aafd865c236a10d435c3f47adfdc531158b,, nodeset: ubuntu-xenial nodeset: ubuntu-xenial,,2,0
openstack%2Fopenstack-helm~master~Idb2a7aeb202fe29fc528ba0dde987e7e0ee65a95,openstack/openstack-helm,master,Idb2a7aeb202fe29fc528ba0dde987e7e0ee65a95,Add check for number of computes in cell-setup-init script,MERGED,2021-10-27 15:53:06.000000000,2021-11-03 19:02:19.000000000,2021-11-03 18:58:52.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 29585}, {'_account_id': 30449}, {'_account_id': 30495}]","[{'number': 1, 'created': '2021-10-27 15:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bfe581a5dc6679ba3c22e5b3e7f45d844233e0b7', 'message': '[WIP] DNM\n\n    WIP\n\nChange-Id: Idb2a7aeb202fe29fc528ba0dde987e7e0ee65a95\n'}, {'number': 2, 'created': '2021-10-27 22:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/38c1b5248851bb8018b7fa01b3de138e3f0d12e1', 'message': '[WIP] DNM\n\n    WIP\n\nChange-Id: Idb2a7aeb202fe29fc528ba0dde987e7e0ee65a95\n'}, {'number': 3, 'created': '2021-10-28 11:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/142883c6f202dd80c58a81043782e0d22446bf9e', 'message': '[WIP] DNM\n\n    WIP\n\nChange-Id: Idb2a7aeb202fe29fc528ba0dde987e7e0ee65a95\n'}, {'number': 4, 'created': '2021-10-28 18:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b89bd1b93ecf30eb8ef30eeb7abd62901037a2b5', 'message': 'Add check for number of computes in cell-setup-init script\n\n  This PS further enhances (1) to check for number of computes\nto handle case where computes are up, but the total count of\ncomputes is not equal to number of expected computes.\n\n(1) https://review.opendev.org/c/openstack/openstack-helm/+/815086\n\nChange-Id: Idb2a7aeb202fe29fc528ba0dde987e7e0ee65a95\n'}, {'number': 5, 'created': '2021-11-01 14:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f6e6e2fcdb3c28c9ca09124aba7ef70a5498172d', 'message': 'Add check for number of computes in cell-setup-init script\n\n  This PS further enhances (1) to check for number of computes\nto handle case where computes are up, but the total count of\ncomputes is not equal to number of expected computes.\n\n(1) https://review.opendev.org/c/openstack/openstack-helm/+/815086\n\nChange-Id: Idb2a7aeb202fe29fc528ba0dde987e7e0ee65a95\n'}, {'number': 6, 'created': '2021-11-02 22:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d5c4e1af8c5b1a3c15cbef379f9a97e47ec08b1f', 'message': 'Add check for number of computes in cell-setup-init script\n\n  This PS further enhances (1) to handle case where present\ncomputes are up, but the number of present computes is not\nequal to total number of expected computes.\n\n(1) https://review.opendev.org/c/openstack/openstack-helm/+/815086\n\nChange-Id: Idb2a7aeb202fe29fc528ba0dde987e7e0ee65a95\n'}, {'number': 7, 'created': '2021-11-03 16:09:43.000000000', 'files': ['nova/templates/bin/_cell-setup-init.sh.tpl', 'nova/values.yaml', 'releasenotes/notes/nova.yaml', 'nova/templates/job-cell-setup.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1d7f880c4274b0cf4192f1f7ba77e2642273fe03', 'message': 'Add check for number of computes in cell-setup-init script\n\nThis PS further enhances [1] to handle case where present\ncomputes are up, but the number of present computes is not\nequal to total number of expected computes.\n\n[1] https://review.opendev.org/c/openstack/openstack-helm/+/815086\n\nChange-Id: Idb2a7aeb202fe29fc528ba0dde987e7e0ee65a95\n'}]",5,815700,1d7f880c4274b0cf4192f1f7ba77e2642273fe03,31,7,7,33282,,,0,"Add check for number of computes in cell-setup-init script

This PS further enhances [1] to handle case where present
computes are up, but the number of present computes is not
equal to total number of expected computes.

[1] https://review.opendev.org/c/openstack/openstack-helm/+/815086

Change-Id: Idb2a7aeb202fe29fc528ba0dde987e7e0ee65a95
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/00/815700/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/bin/_cell-setup-init.sh.tpl', 'nova/values.yaml', 'nova/Chart.yaml']",3,bfe581a5dc6679ba3c22e5b3e7f45d844233e0b7,,version: 0.2.24,version: 0.2.23,7,3
openstack%2Ftripleo-common~stable%2Ftrain~If4e2927a43d41db76951cfe7d21dd686c781dd77,openstack/tripleo-common,stable/train,If4e2927a43d41db76951cfe7d21dd686c781dd77,"Revert ""Add a retry to the instropection waiting workbook""",ABANDONED,2021-10-19 19:57:54.000000000,2021-11-03 18:54:36.000000000,,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-10-19 19:57:54.000000000', 'files': ['workbooks/baremetal.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ab3da62d13ca5625e47ae04a201948c348dc7d73', 'message': 'Revert ""Add a retry to the instropection waiting workbook""\n\nThis reverts commit 8bce20d3d4efb6a47e6a3da07aefa1ac3dbc660b.\n\nReason for revert: investigate if this change is affecting the issue reported at https://bugs.launchpad.net/tripleo/+bug/1947403\n\nChange-Id: If4e2927a43d41db76951cfe7d21dd686c781dd77\n'}]",2,814653,ab3da62d13ca5625e47ae04a201948c348dc7d73,8,6,1,30002,,,0,"Revert ""Add a retry to the instropection waiting workbook""

This reverts commit 8bce20d3d4efb6a47e6a3da07aefa1ac3dbc660b.

Reason for revert: investigate if this change is affecting the issue reported at https://bugs.launchpad.net/tripleo/+bug/1947403

Change-Id: If4e2927a43d41db76951cfe7d21dd686c781dd77
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/53/814653/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/baremetal.yaml'],1,ab3da62d13ca5625e47ae04a201948c348dc7d73,,, retry: delay: 10 count: 10,0,3
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ie3f5149204a74a10df372cb70394fc225f13c209,openstack/python-tripleoclient,stable/wallaby,Ie3f5149204a74a10df372cb70394fc225f13c209,Remove --skip-nodes-and-networks,MERGED,2021-11-03 05:43:16.000000000,2021-11-03 18:53:12.000000000,2021-11-03 18:51:02.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-11-03 05:43:16.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/03221f212d45c9992f990e5c7adeb0ebf4d03f56', 'message': 'Remove --skip-nodes-and-networks\n\nFollow up to change - Idaab1f28c4d645279eff0c01b24435bf8571299b\nRemove the now ignored option.\n\nDepends-On: I97b8c8762524efbfc12533bbd557a689cff53273\nDepends-On: I00241ee91cee42770c67fa181482c6e6ad9dedf1\nChange-Id: Ie3f5149204a74a10df372cb70394fc225f13c209\n(cherry picked from commit c3062ebe8aa2134bfa5ba623deeaaee102be7fa9)\n'}]",0,816344,03221f212d45c9992f990e5c7adeb0ebf4d03f56,8,4,1,8833,,,0,"Remove --skip-nodes-and-networks

Follow up to change - Idaab1f28c4d645279eff0c01b24435bf8571299b
Remove the now ignored option.

Depends-On: I97b8c8762524efbfc12533bbd557a689cff53273
Depends-On: I00241ee91cee42770c67fa181482c6e6ad9dedf1
Change-Id: Ie3f5149204a74a10df372cb70394fc225f13c209
(cherry picked from commit c3062ebe8aa2134bfa5ba623deeaaee102be7fa9)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/44/816344/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,03221f212d45c9992f990e5c7adeb0ebf4d03f56,network-data-v2-stable/wallaby,," '--skip-nodes-and-networks', action='store_true', default=False, help=_('DEPRECATED - This option is ignored if used. ' 'The --baremetal-deployment option must be used to enable ' 'provisioning of all resources, Baremetal nodes as well as' 'Networks and Virtual IPs') ) parser.add_argument(",0,9
openstack%2Fansible-role-collect-logs~master~Ieb1ebe58608d2445c78942062cd9a82929ffdeb4,openstack/ansible-role-collect-logs,master,Ieb1ebe58608d2445c78942062cd9a82929ffdeb4,Remove the ternary condition for sova_config,MERGED,2021-11-02 12:23:23.000000000,2021-11-03 18:50:59.000000000,2021-11-03 18:50:59.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-11-02 12:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/fe28d1514dcbd9e5429f2a5618b37acf1dad6af2', 'message': 'Remove the ternary condition for sova_config\n\nThe ternary is failing for some reason, so it is better to avoid the use\nof ternary and split the task in two using the when: sova_config_file is\ndefined or not defined.\n\nChange-Id: Ieb1ebe58608d2445c78942062cd9a82929ffdeb4\n'}, {'number': 2, 'created': '2021-11-03 13:25:37.000000000', 'files': ['roles/collect_logs/tasks/sova.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a1138ea71d9e1f0dc03718292cf53f5cb6f92660', 'message': 'Remove the ternary condition for sova_config\n\nThe ternary is failing for some reason, so it is better to avoid the use\nof ternary and split the task in two using the when: sova_config_file is\ndefined or not defined.\n\nChange-Id: Ieb1ebe58608d2445c78942062cd9a82929ffdeb4\n'}]",3,816350,a1138ea71d9e1f0dc03718292cf53f5cb6f92660,14,7,2,8367,,,0,"Remove the ternary condition for sova_config

The ternary is failing for some reason, so it is better to avoid the use
of ternary and split the task in two using the when: sova_config_file is
defined or not defined.

Change-Id: Ieb1ebe58608d2445c78942062cd9a82929ffdeb4
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/50/816350/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect_logs/tasks/sova.yml'],1,fe28d1514dcbd9e5429f2a5618b37acf1dad6af2,remove-ternary,"- name: Set sova_config from local file set_fact: sova_config: ""{{ sova_config_file_output.stdout | from_json }}"" when: sova_config_file is defined - name: Set sova_config from URL content set_fact: sova_config: ""{{ pattern_config.json }}"" when: sova_config_file is not defined","- name: Set sova_config json content set_fact: sova_config: ""{{ (sova_config_file is defined) | ternary((sova_config_file_output.stdout | from_json), pattern_config.json) }}""",8,2
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ie47abe2d7c5d7891aceb88d9008d45d7922dea15,openstack/tripleo-ansible,stable/wallaby,Ie47abe2d7c5d7891aceb88d9008d45d7922dea15,Align tasks between config-download playbooks,MERGED,2021-10-28 17:19:47.000000000,2021-11-03 18:50:56.000000000,2021-11-03 18:50:56.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-28 17:19:47.000000000', 'files': ['tripleo_ansible/playbooks/cli-config-download.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/42cc78dd62a0a93f877039893a2137f0a1172216', 'message': 'Align tasks between config-download playbooks\n\ncli-config-download.yaml and cli-config-download-export.yaml both\ndownload the config from the stack. This commit aligns the tasks between\nthe 2 so that they both setup and download the config in the same way.\n\nThis allows a single playbook to be used by tripleoclient\n(cli-config-download.yaml) as done in\nIa765c2c2ea548a1dcd20f592eda8741f40a1cf16\n\ncli-config-download-export.yaml will be removed in a subsequent patch as\nit will no longer be used by tripleoclient.\n\nChange-Id: Ie47abe2d7c5d7891aceb88d9008d45d7922dea15\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit b6f1bfc408ea37dab1cae261b092172058c830dc)\n'}]",1,815891,42cc78dd62a0a93f877039893a2137f0a1172216,14,3,1,7144,,,0,"Align tasks between config-download playbooks

cli-config-download.yaml and cli-config-download-export.yaml both
download the config from the stack. This commit aligns the tasks between
the 2 so that they both setup and download the config in the same way.

This allows a single playbook to be used by tripleoclient
(cli-config-download.yaml) as done in
Ia765c2c2ea548a1dcd20f592eda8741f40a1cf16

cli-config-download-export.yaml will be removed in a subsequent patch as
it will no longer be used by tripleoclient.

Change-Id: Ie47abe2d7c5d7891aceb88d9008d45d7922dea15
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit b6f1bfc408ea37dab1cae261b092172058c830dc)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/91/815891/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-config-download.yaml'],1,42cc78dd62a0a93f877039893a2137f0a1172216,," config_type: null preserve_config: true - name: Clean work_dir file: path: ""{{ work_dir }}"" state: absent when: not preserve_config | bool - name: Create config dir if does not exist file: path: ""{{ work_dir }}"" state: directory config_type: ""{{ config_type }}""",,14,0
openstack%2Ftempest~master~Ib817e26ac87eeb9e7313a1473ce69e48199ce5f6,openstack/tempest,master,Ib817e26ac87eeb9e7313a1473ce69e48199ce5f6,Add check for port-resource-request-groups,ABANDONED,2021-11-02 10:23:52.000000000,2021-11-03 18:50:28.000000000,,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 10:23:52.000000000', 'files': ['tempest/scenario/test_minbw_allocation_placement.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/03e5d4452c385391a34cda868c00a99f8c60f3d7', 'message': 'Add check for port-resource-request-groups\n\nport-resource-request-groups Neutron extension changes the format of\nbinding:profile allocation to be a dictionary. It seems that in some\njobs we have ""all"" as network_api_extensions and perhaps this is the\nreason why the allocation returned for the port is in the old format.\nTo avoid such failure add an extra check to be sure that allocation is\na dictionary.\n\nChange-Id: Ib817e26ac87eeb9e7313a1473ce69e48199ce5f6\n'}]",3,816315,03e5d4452c385391a34cda868c00a99f8c60f3d7,6,4,1,8313,,,0,"Add check for port-resource-request-groups

port-resource-request-groups Neutron extension changes the format of
binding:profile allocation to be a dictionary. It seems that in some
jobs we have ""all"" as network_api_extensions and perhaps this is the
reason why the allocation returned for the port is in the old format.
To avoid such failure add an extra check to be sure that allocation is
a dictionary.

Change-Id: Ib817e26ac87eeb9e7313a1473ce69e48199ce5f6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/15/816315/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_minbw_allocation_placement.py'],1,03e5d4452c385391a34cda868c00a99f8c60f3d7,fix_alloc_check," is_alloc_dict = isinstance(port_binding_alloc, dict) is_port_req_group_enabled = utils.is_extension_enabled( 'port-resource-request-groups', 'network') if is_port_req_group_enabled and is_alloc_dict:"," if utils.is_extension_enabled( 'port-resource-request-groups', 'network'):",4,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3bcd73f0dc97af4d3160313693cb1af9bccabede,openstack/tripleo-heat-templates,stable/wallaby,I3bcd73f0dc97af4d3160313693cb1af9bccabede,Refactor usage of QemuMemoryBackingDir,MERGED,2021-11-02 14:54:49.000000000,2021-11-03 18:43:34.000000000,2021-11-03 18:43:34.000000000,"[{'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-11-02 14:54:49.000000000', 'files': ['deployment/nova/nova-libvirt-common.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78912534ee648d2fc7fa100376f3768780aea309', 'message': 'Refactor usage of QemuMemoryBackingDir\n\nCurrently the QemuMemoryBackingDir parameter is used in two templates\nfor modular libvirt daemon. The common template defines container\nvolumes while the modular-libvirt template defines puppet hieradata.\n\nThis change migrate the second usage to the common template so that\nwe can more easily maintain the parameter in the single place.\n\nChange-Id: I3bcd73f0dc97af4d3160313693cb1af9bccabede\n(cherry picked from commit 4d6dc5308d9fc2beef439ea563ecf464cc087894)\n'}]",1,816336,78912534ee648d2fc7fa100376f3768780aea309,10,8,1,6926,,,0,"Refactor usage of QemuMemoryBackingDir

Currently the QemuMemoryBackingDir parameter is used in two templates
for modular libvirt daemon. The common template defines container
volumes while the modular-libvirt template defines puppet hieradata.

This change migrate the second usage to the common template so that
we can more easily maintain the parameter in the single place.

Change-Id: I3bcd73f0dc97af4d3160313693cb1af9bccabede
(cherry picked from commit 4d6dc5308d9fc2beef439ea563ecf464cc087894)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/816336/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-common.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml']",2,78912534ee648d2fc7fa100376f3768780aea309,modular-libvirt-stable/wallaby," - get_attr: [NovaLibvirtCommon, config_settings]", nova::compute::libvirt::qemu::memory_backing_dir: QemuMemoryBackingDir QemuMemoryBackingDir: {get_param: QemuMemoryBackingDir},7,3
openstack%2Ftripleo-common~stable%2Fwallaby~I19763bc2efc2fbf78ec88b9018ba27fe8d85b874,openstack/tripleo-common,stable/wallaby,I19763bc2efc2fbf78ec88b9018ba27fe8d85b874,Trivial: fix conditional whitespace,MERGED,2021-11-03 00:40:14.000000000,2021-11-03 18:38:55.000000000,2021-11-03 18:37:13.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-03 00:40:14.000000000', 'files': ['scripts/tripleo-mount-image'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/59651b046d9935ebe6ae3ab4267c9e30231dd3ee', 'message': 'Trivial: fix conditional whitespace\n\nThis may be causing an issue on older versions of bash\n\nBlueprint: whole-disk-default\nChange-Id: I19763bc2efc2fbf78ec88b9018ba27fe8d85b874\n(cherry picked from commit 96a715e68f453a8c204220c519c7eed8fce31056)\n'}]",0,816419,59651b046d9935ebe6ae3ab4267c9e30231dd3ee,8,3,1,4571,,,0,"Trivial: fix conditional whitespace

This may be causing an issue on older versions of bash

Blueprint: whole-disk-default
Change-Id: I19763bc2efc2fbf78ec88b9018ba27fe8d85b874
(cherry picked from commit 96a715e68f453a8c204220c519c7eed8fce31056)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/19/816419/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-mount-image'],1,59651b046d9935ebe6ae3ab4267c9e30231dd3ee,wallaby/whole-disk-default," if [ -z ""${MOUNT_DIR}"" ] || [ -z ""${IMAGE_FILE}"" ]; then"," if [ -z ""${MOUNT_DIR}"" ] || [ -z ""${IMAGE_FILE}""]; then",1,1
openstack%2Fnetworking-bgpvpn~stable%2Fussuri~Id5bc15a22921a34399e926736d0a9a478598aff7,openstack/networking-bgpvpn,stable/ussuri,Id5bc15a22921a34399e926736d0a9a478598aff7,Run TripleO jobs on CentOS8 instead of CentOS7,MERGED,2021-09-17 06:16:52.000000000,2021-11-03 18:36:08.000000000,2021-11-03 18:30:28.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-17 06:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/7b9bbbdfcc1a2bdd16eb964bfecf246b0835d693', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Id5bc15a22921a34399e926736d0a9a478598aff7\n'}, {'number': 2, 'created': '2021-10-11 07:09:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/5918ad70dc3b9c2c3f09b8c337b947055beba328', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Id5bc15a22921a34399e926736d0a9a478598aff7\n(cherry picked from commit e403f297b02906641a040969e1d5b62a08f62cf2)\n'}]",5,809503,5918ad70dc3b9c2c3f09b8c337b947055beba328,14,4,2,20182,,,0,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: Id5bc15a22921a34399e926736d0a9a478598aff7
(cherry picked from commit e403f297b02906641a040969e1d5b62a08f62cf2)
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/03/809503/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7b9bbbdfcc1a2bdd16eb964bfecf246b0835d693,c7-to-c8-stable/ussuri, - tripleo-ci-centos-8-scenario004-standalone:, # tripleo-ci-centos-7-scenario004-multinode-oooq-container will # run in Pike and beyond. - tripleo-ci-centos-7-scenario004-standalone:,1,3
openstack%2Fpuppet-ironic~master~If032600c34394f9f0f3686971082aafeab9be3ea,openstack/puppet-ironic,master,If032600c34394f9f0f3686971082aafeab9be3ea,Add support for MultiStrOpt (inspector),MERGED,2021-11-02 00:07:07.000000000,2021-11-03 17:52:24.000000000,2021-11-03 17:52:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 00:07:07.000000000', 'files': ['lib/puppet/provider/ironic_inspector_config/openstackconfig.rb', 'lib/puppet/type/ironic_inspector_config.rb', 'spec/unit/type/ironic_inspector_config_spec.rb', 'spec/unit/provider/ironic_inspector_config/openstackconfig_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/ecdeb8f36575675998e1d3e77fba53fb5ee87e50', 'message': 'Add support for MultiStrOpt (inspector)\n\nThis replaces the provider implementation of ironic_inspector_config\ntype so that MultiStrOpt, which is used by several options like\n - oslo_policy/policy_dirs\nare handled correctly.\n\nThe same was already implemented for ironic_config by [1].\n\n[1] 0f4a5263a7f4264f6148e8c04f32992b0b07e1a5\n\nChange-Id: If032600c34394f9f0f3686971082aafeab9be3ea\n'}]",3,816252,ecdeb8f36575675998e1d3e77fba53fb5ee87e50,15,3,1,9816,,,0,"Add support for MultiStrOpt (inspector)

This replaces the provider implementation of ironic_inspector_config
type so that MultiStrOpt, which is used by several options like
 - oslo_policy/policy_dirs
are handled correctly.

The same was already implemented for ironic_config by [1].

[1] 0f4a5263a7f4264f6148e8c04f32992b0b07e1a5

Change-Id: If032600c34394f9f0f3686971082aafeab9be3ea
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/52/816252/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/ironic_inspector_config/openstackconfig.rb', 'lib/puppet/type/ironic_inspector_config.rb', 'spec/unit/type/ironic_inspector_config_spec.rb', 'spec/unit/provider/ironic_inspector_config/openstackconfig_spec.rb']",4,ecdeb8f36575675998e1d3e77fba53fb5ee87e50,multistropt,"# # these tests are a little concerning b/c they are hacking around the # modulepath, so these tests will not catch issues that may eventually arise # related to loading these plugins. # I could not, for the life of me, figure out how to programmatically set the modulepathprovider_class = Puppet::Type.type(:ironic_inspector_config).provider(:openstackconfig) {:name => 'DEFAULT/foo', :value => 'bar'} {:name => 'dude/foo', :value => 'bar'}","provider_class = Puppet::Type.type(:ironic_inspector_config).provider(:ini_setting) { :name => 'DEFAULT/foo', :value => 'bar' } { :name => 'dude/foo', :value => 'bar' }",66,13
openstack%2Fpuppet-oslo~master~Ida5525f6d66145cbadc7ab5407b559b12b101a76,openstack/puppet-oslo,master,Ida5525f6d66145cbadc7ab5407b559b12b101a76,Remove deprecated oslo_config,MERGED,2021-11-02 04:15:06.000000000,2021-11-03 17:43:07.000000000,2021-11-03 17:40:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 04:15:06.000000000', 'files': ['metadata.json', 'spec/unit/type/oslo_config_spec.rb', 'releasenotes/notes/remove-oslo_config-ee4c8b63e4226a46.yaml', 'lib/puppet/type/oslo_config.rb', 'lib/puppet/provider/oslo_config/ini_setting.rb', 'spec/unit/provider/oslo_config/ini_setting_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/056a1db5782709855b02bb47769a06457b03bae4', 'message': 'Remove deprecated oslo_config\n\n... because it was deprecated a while ago[1], and has not been used\nactually.\n\n[1] 6cd2bc408d55c7bdaf43013e1a2c0a1c4fd1fa9e\n\nChange-Id: Ida5525f6d66145cbadc7ab5407b559b12b101a76\n'}]",2,816294,056a1db5782709855b02bb47769a06457b03bae4,14,3,1,9816,,,0,"Remove deprecated oslo_config

... because it was deprecated a while ago[1], and has not been used
actually.

[1] 6cd2bc408d55c7bdaf43013e1a2c0a1c4fd1fa9e

Change-Id: Ida5525f6d66145cbadc7ab5407b559b12b101a76
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/94/816294/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'spec/unit/type/oslo_config_spec.rb', 'releasenotes/notes/remove-oslo_config-ee4c8b63e4226a46.yaml', 'lib/puppet/type/oslo_config.rb', 'lib/puppet/provider/oslo_config/ini_setting.rb', 'spec/unit/provider/oslo_config/ini_setting_spec.rb']",6,056a1db5782709855b02bb47769a06457b03bae4,,,"# # these tests are a little concerning b/c they are hacking around the # modulepath, so these tests will not catch issues that may eventually arise # related to loading these plugins. # I could not, for the life of me, figure out how to programatcally set the modulepath $LOAD_PATH.push( File.join( File.dirname(__FILE__), '..', '..', '..', 'fixtures', 'modules', 'inifile', 'lib') ) $LOAD_PATH.push( File.join( File.dirname(__FILE__), '..', '..', '..', 'fixtures', 'modules', 'openstacklib', 'lib') ) require 'spec_helper' provider_class = Puppet::Type.type(:oslo_config).provider(:ini_setting) describe provider_class do it 'should default to the default setting when no other one is specified' do resource = Puppet::Type::Oslo_config.new( {:name => 'DEFAULT/foo', :value => 'bar'} ) provider = provider_class.new(resource) expect(provider.section).to eq('DEFAULT') expect(provider.setting).to eq('foo') end it 'should allow setting to be set explicitly' do resource = Puppet::Type::Oslo_config.new( {:name => 'dude/foo', :value => 'bar'} ) provider = provider_class.new(resource) expect(provider.section).to eq('dude') expect(provider.setting).to eq('foo') end it 'should ensure absent when <SERVICE DEFAULT> is specified as a value' do resource = Puppet::Type::Oslo_config.new( {:name => 'dude/foo', :value => '<SERVICE DEFAULT>'} ) provider = provider_class.new(resource) provider.exists? expect(resource[:ensure]).to eq :absent end it 'should ensure absent when value matches ensure_absent_val' do resource = Puppet::Type::Oslo_config.new( {:name => 'dude/foo', :value => 'foo', :ensure_absent_val => 'foo' } ) provider = provider_class.new(resource) provider.exists? expect(resource[:ensure]).to eq :absent end end ",4,204
openstack%2Fopenstack-helm-infra~master~I0f6a935eca53d966c01e0902e546ea132a636a9d,openstack/openstack-helm-infra,master,I0f6a935eca53d966c01e0902e546ea132a636a9d,Test linting osh on helm-toolkit changes,MERGED,2021-11-01 23:03:21.000000000,2021-11-03 17:34:34.000000000,2021-11-03 17:27:28.000000000,"[{'_account_id': 22348}, {'_account_id': 30777}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-11-01 23:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8944de0cdafa11209271bee0edab75ca0f48fcc0', 'message': 'WIP - Test linting osh on helm-toolkit changes\n\nChange-Id: I0f6a935eca53d966c01e0902e546ea132a636a9d\n'}, {'number': 2, 'created': '2021-11-01 23:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/287872679048dcce383727ceea6b380a45f946ef', 'message': 'WIP - Test linting osh on helm-toolkit changes\n\nChange-Id: I0f6a935eca53d966c01e0902e546ea132a636a9d\n'}, {'number': 3, 'created': '2021-11-01 23:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b8b47de7cf8c9964da14d0c65c92cd2066250224', 'message': 'WIP - Test linting osh on helm-toolkit changes\n\nChange-Id: I0f6a935eca53d966c01e0902e546ea132a636a9d\n'}, {'number': 4, 'created': '2021-11-02 00:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb3ab10790fac12569e3191a46f5c68c1a8c6955', 'message': 'WIP - Test linting osh on helm-toolkit changes\n\nChange-Id: I0f6a935eca53d966c01e0902e546ea132a636a9d\n'}, {'number': 5, 'created': '2021-11-02 15:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/893c3e81187b426d750fbf80aa9691690f1b1170', 'message': 'WIP - Test linting osh on helm-toolkit changes\n\nChange-Id: I0f6a935eca53d966c01e0902e546ea132a636a9d\n'}, {'number': 6, 'created': '2021-11-02 18:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f051a7c3a113efa9f5b3a473ba3a93a717a2d776', 'message': 'Test linting osh on helm-toolkit changes\n\nSince most of the charts in both openstack-helm and\nthis repo use helm-toolkit, changes in helm-toolkit\nhave the possibility of impacting charts in the\nopenstack-helm repo and will not be caught in testing\nhere.\n\nThis change adds a conditional linter to lint the\ncharts in the openstack-helm repo if any changes\nto helm-toolkit are made.\n\nChange-Id: I0f6a935eca53d966c01e0902e546ea132a636a9d\n'}, {'number': 7, 'created': '2021-11-02 22:46:43.000000000', 'files': ['playbooks/lint.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ddb377df6d4a3516c875fa2af52fb9451af46d0c', 'message': 'Test linting osh on helm-toolkit changes\n\nSince most of the charts in both openstack-helm and\nthis repo use helm-toolkit, changes in helm-toolkit\nhave the possibility of impacting charts in the\nopenstack-helm repo and will not be caught in testing\nhere.\n\nThis change adds a conditional linter to lint the\ncharts in the openstack-helm repo if any changes\nto helm-toolkit are made.\n\nChange-Id: I0f6a935eca53d966c01e0902e546ea132a636a9d\n'}]",2,816250,ddb377df6d4a3516c875fa2af52fb9451af46d0c,21,3,7,21420,,,0,"Test linting osh on helm-toolkit changes

Since most of the charts in both openstack-helm and
this repo use helm-toolkit, changes in helm-toolkit
have the possibility of impacting charts in the
openstack-helm repo and will not be caught in testing
here.

This change adds a conditional linter to lint the
charts in the openstack-helm repo if any changes
to helm-toolkit are made.

Change-Id: I0f6a935eca53d966c01e0902e546ea132a636a9d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/50/816250/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/lint.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,8944de0cdafa11209271bee0edab75ca0f48fcc0,linter, name: openstack-helm-lint-osh parent: openstack-helm-lint required-projects: - openstack/openstack-helm # relevant-files: # - ^helm-toolkit/.*$ vars: lint_osh: true - job:,,24,17
openstack%2Fcharm-magnum~master~I666dc988311d7b25e094992a18d9f300bbfc170b,openstack/charm-magnum,master,I666dc988311d7b25e094992a18d9f300bbfc170b,Add xena bundles,MERGED,2021-09-28 13:21:24.000000000,2021-11-03 17:27:46.000000000,2021-11-03 17:27:46.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-28 13:21:24.000000000', 'files': ['rebuild', 'osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/focal-xena.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/1a39a2eef2cf4aaf1fdf373fa0e96178e6be5bf9', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: I666dc988311d7b25e094992a18d9f300bbfc170b\n'}]",1,811415,1a39a2eef2cf4aaf1fdf373fa0e96178e6be5bf9,7,3,1,20870,,,0,"Add xena bundles

- add non-voting focal-xena bundle
- add non-voting impish-xena bundle
- rebuild to pick up charm-helpers changes
- update tox/pip.sh to ensure setuptools<50.0.0

Change-Id: I666dc988311d7b25e094992a18d9f300bbfc170b
",git fetch https://review.opendev.org/openstack/charm-magnum refs/changes/15/811415/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/focal-xena.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml', 'tox.ini']",10,1a39a2eef2cf4aaf1fdf373fa0e96178e6be5bf9,xena-bundles,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci minversion = 3.18.0 {toxinidir}/pip.sh install {opts} {packages}", pip install {opts} {packages},1334,4
openstack%2Fcharm-cinder-backup~master~Ic4949d2152579e2d5cbcd7e6ee8edd749da5b7d4,openstack/charm-cinder-backup,master,Ic4949d2152579e2d5cbcd7e6ee8edd749da5b7d4,Add xena bundles,MERGED,2021-09-22 13:51:06.000000000,2021-11-03 17:24:11.000000000,2021-11-03 17:24:11.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-22 13:51:06.000000000', 'files': ['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'osci.yaml', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/fetch/python/packages.py', 'hooks/charmhelpers/contrib/openstack/amulet/__init__.py', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'pip.sh', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'hooks/charmhelpers/contrib/openstack/files/policy_rc_d_script.py', 'hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/fetch/snap.py', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/osplatform.py', 'hooks/charmhelpers/core/strutils.py', 'tox.ini', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/3f9e52dd49501451fb11f7feabc501925a402dc5', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- charm-helpers sync for new charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: Ic4949d2152579e2d5cbcd7e6ee8edd749da5b7d4\n'}]",1,810441,3f9e52dd49501451fb11f7feabc501925a402dc5,11,3,1,20870,,,0,"Add xena bundles

- add non-voting focal-xena bundle
- add non-voting impish-xena bundle
- charm-helpers sync for new charm-helpers changes
- update tox/pip.sh to ensure setuptools<50.0.0

Change-Id: Ic4949d2152579e2d5cbcd7e6ee8edd749da5b7d4
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/41/810441/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'osci.yaml', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/fetch/python/packages.py', 'hooks/charmhelpers/contrib/openstack/amulet/__init__.py', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'pip.sh', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'hooks/charmhelpers/contrib/openstack/files/policy_rc_d_script.py', 'hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/fetch/snap.py', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/osplatform.py', 'hooks/charmhelpers/core/strutils.py', 'tox.ini', 'tests/bundles/impish-xena.yaml']",35,3f9e52dd49501451fb11f7feabc501925a402dc5,xena-bundles,"variables: openstack-origin: &openstack-origin distro series: impish comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': '11': '12': '13': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 to: - '4' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: monitor-count: '3' source: *openstack-origin to: - '5' - '6' - '7' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: osd-devices: '/dev/test-non-existent' source: *openstack-origin to: - '8' - '9' - '10' cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 options: block-device: 'None' glance-api-version: '2' openstack-origin: *openstack-origin to: - '11' cinder-backup: charm: ../../../cinder-backup options: ceph-osd-replication-count: 3 cinder-ceph: charm: cs:~openstack-charmers-next/cinder-ceph options: ceph-osd-replication-count: 3 glance: charm: cs:~openstack-charmers-next/glance num_units: 1 to: - '12' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 to: - '13' relations: - - 'cinder-backup:ceph' - 'ceph-mon:client' - - 'cinder-ceph:ceph' - 'ceph-mon:client' - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'cinder:storage-backend' - 'cinder-ceph:storage-backend' - - 'cinder:backup-backend' - 'cinder-backup:backup-backend' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:shared-db' - 'cinder-mysql-router:shared-db' - - 'cinder-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'glance:image-service' - 'nova-compute:image-service' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-compute:ceph-access' - 'cinder-ceph:ceph-access' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' ",,689,2151
openstack%2Fcharm-manila~master~Iaa0345ee9b6e0a16c9b6d07b54bea1eeb3a4d664,openstack/charm-manila,master,Iaa0345ee9b6e0a16c9b6d07b54bea1eeb3a4d664,Add xena bundles,MERGED,2021-09-27 13:29:48.000000000,2021-11-03 17:23:42.000000000,2021-11-03 17:23:42.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-09-27 13:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/13c39d6f311ecd8594a061faa4137d558aace2a4', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: Iaa0345ee9b6e0a16c9b6d07b54bea1eeb3a4d664\n'}, {'number': 2, 'created': '2021-10-05 17:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/56c3af86a841a5086b224511266f874b56ef011e', 'message': ""Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n- updates from for templates' bug links\n\nChange-Id: Iaa0345ee9b6e0a16c9b6d07b54bea1eeb3a4d664\n""}, {'number': 3, 'created': '2021-10-07 08:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/c7c209ce024d4a5a8004bd5e4423310f6072b9d6', 'message': ""Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n- updates from for templates' bug links\n- gate on focal-ussuri instead of bionic-stein\n\nChange-Id: Iaa0345ee9b6e0a16c9b6d07b54bea1eeb3a4d664\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n""}, {'number': 4, 'created': '2021-10-07 09:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/29fa7c06120778c0c731def0772d1d603cd27433', 'message': ""Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n- updates from for templates' bug links\n- gate on focal-ussuri instead of bionic-stein\n\nChange-Id: Iaa0345ee9b6e0a16c9b6d07b54bea1eeb3a4d664\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n""}, {'number': 5, 'created': '2021-10-07 09:55:23.000000000', 'files': ['rebuild', 'osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'src/tests/bundles/focal-xena.yaml', 'src/templates/rocky/manila.conf', 'src/templates/queens/manila.conf', 'src/templates/mitaka/manila.conf', 'src/tests/tests.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'pip.sh', 'src/templates/pike/manila.conf', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/745fa81330a32932264309632dbbf26174e45b72', 'message': ""Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n- updates from for templates' bug links\n- gate on focal-ussuri instead of bionic-stein\n\nChange-Id: Iaa0345ee9b6e0a16c9b6d07b54bea1eeb3a4d664\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n""}]",1,811127,745fa81330a32932264309632dbbf26174e45b72,19,4,5,20870,,,0,"Add xena bundles

- add non-voting focal-xena bundle
- add non-voting impish-xena bundle
- rebuild to pick up charm-helpers changes
- update tox/pip.sh to ensure setuptools<50.0.0
- updates from for templates' bug links
- gate on focal-ussuri instead of bionic-stein

Change-Id: Iaa0345ee9b6e0a16c9b6d07b54bea1eeb3a4d664
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/27/811127/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/focal-xena.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml', 'tox.ini']",10,13c39d6f311ecd8594a061faa4137d558aace2a4,xena-bundles,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci minversion = 3.18.0 {toxinidir}/pip.sh install {opts} {packages}", pip install {opts} {packages},1357,6
openstack%2Fcharm-masakari-monitors~master~I61938ea31a9825b83260316af0b7ad4960b39a5b,openstack/charm-masakari-monitors,master,I61938ea31a9825b83260316af0b7ad4960b39a5b,Add xena bundles,MERGED,2021-09-27 13:48:57.000000000,2021-11-03 17:23:27.000000000,2021-11-03 17:23:27.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-27 13:48:57.000000000', 'files': ['rebuild', 'src/tests/bundles/impish-xena-pacemaker-remote-ssl.yaml', 'src/tests/bundles/overlays/focal-wallaby-pacemaker-remote-ssl-yaml.j2', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/overlays/focal-xena-pacemaker-remote-ssl-yaml.j2', 'src/tests/bundles/focal-xena-pacemaker-remote-ssl.yaml', 'src/tests/bundles/overlays/impish-xena-pacemaker-remote-ssl-yaml.j2', 'src/tests/tests.yaml', 'tox.ini', 'src/tests/bundles/overlays/hirsute-wallaby-pacemaker-remote-ssl-yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/e7da0946d1e8645d77e391522352a010f17e4efa', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: I61938ea31a9825b83260316af0b7ad4960b39a5b\n'}]",1,811134,e7da0946d1e8645d77e391522352a010f17e4efa,8,3,1,20870,,,0,"Add xena bundles

- add non-voting focal-xena bundle
- add non-voting impish-xena bundle
- rebuild to pick up charm-helpers changes
- update tox/pip.sh to ensure setuptools<50.0.0

Change-Id: I61938ea31a9825b83260316af0b7ad4960b39a5b
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/34/811134/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/tests/bundles/impish-xena-pacemaker-remote-ssl.yaml', 'src/tests/bundles/overlays/focal-wallaby-pacemaker-remote-ssl-yaml.j2', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/overlays/focal-xena-pacemaker-remote-ssl-yaml.j2', 'src/tests/bundles/focal-xena-pacemaker-remote-ssl.yaml', 'src/tests/bundles/overlays/impish-xena-pacemaker-remote-ssl-yaml.j2', 'src/tests/tests.yaml', 'tox.ini', 'src/tests/bundles/overlays/hirsute-wallaby-pacemaker-remote-ssl-yaml.j2']",11,e7da0946d1e8645d77e391522352a010f17e4efa,xena-bundles,bionic-rocky-pacemaker-remote.yaml.j2,,825,5
openstack%2Fcharm-manila-generic~master~Ic75b5ee082ececcf2967342fa04d70d1d49255af,openstack/charm-manila-generic,master,Ic75b5ee082ececcf2967342fa04d70d1d49255af,Add xena bundles,MERGED,2021-09-27 13:41:18.000000000,2021-11-03 17:20:01.000000000,2021-11-03 17:20:01.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-27 13:41:18.000000000', 'files': ['rebuild', 'osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/focal-xena.yaml', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/8a4270f9057c1527a3f9475846a4a5df64a6fd7e', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: Ic75b5ee082ececcf2967342fa04d70d1d49255af\n'}]",2,811132,8a4270f9057c1527a3f9475846a4a5df64a6fd7e,7,3,1,20870,,,0,"Add xena bundles

- add non-voting focal-xena bundle
- add non-voting impish-xena bundle
- rebuild to pick up charm-helpers changes
- update tox/pip.sh to ensure setuptools<50.0.0

Change-Id: Ic75b5ee082ececcf2967342fa04d70d1d49255af
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/32/811132/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/focal-xena.yaml', 'src/tests/tests.yaml', 'tox.ini']",8,8a4270f9057c1527a3f9475846a4a5df64a6fd7e,xena-bundles,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci minversion = 3.18.0 {toxinidir}/pip.sh install {opts} {packages}", pip install {opts} {packages},215,5
openstack%2Fcharm-neutron-api-plugin-ironic~master~I9f991f5ec4452521d7b3b41cd083fa7e9693480f,openstack/charm-neutron-api-plugin-ironic,master,I9f991f5ec4452521d7b3b41cd083fa7e9693480f,Add xena bundles,MERGED,2021-09-27 14:26:57.000000000,2021-11-03 17:19:33.000000000,2021-11-03 17:19:33.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-27 14:26:57.000000000', 'files': ['rebuild', 'src/tests/bundles/overlays/focal-xena.yaml.j2', 'osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/focal-xena.yaml', 'src/tests/bundles/overlays/impish-xena.yaml.j2', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/0acb22c8fe2ca9aedcd2803a37b315f092291feb', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: I9f991f5ec4452521d7b3b41cd083fa7e9693480f\n'}]",1,811147,0acb22c8fe2ca9aedcd2803a37b315f092291feb,7,3,1,20870,,,0,"Add xena bundles

- add non-voting focal-xena bundle
- add non-voting impish-xena bundle
- rebuild to pick up charm-helpers changes
- update tox/pip.sh to ensure setuptools<50.0.0

Change-Id: I9f991f5ec4452521d7b3b41cd083fa7e9693480f
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/47/811147/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/tests/bundles/overlays/focal-xena.yaml.j2', 'osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/focal-xena.yaml', 'src/tests/bundles/overlays/impish-xena.yaml.j2', 'src/tests/tests.yaml', 'tox.ini']",10,0acb22c8fe2ca9aedcd2803a37b315f092291feb,xena-bundles,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci minversion = 3.18.0 {toxinidir}/pip.sh install {opts} {packages}deps = flake8==3.9.2 charm-tools==2.8.3", pip install {opts} {packages}deps = -r{toxinidir}/test-requirements.txt,624,13
openstack%2Fcharm-neutron-dynamic-routing~master~I65e364b76039cf7ffa496e1c7070d811ee592eb0,openstack/charm-neutron-dynamic-routing,master,I65e364b76039cf7ffa496e1c7070d811ee592eb0,Add xena bundles,MERGED,2021-09-27 14:33:08.000000000,2021-11-03 17:19:05.000000000,2021-11-03 17:19:05.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-27 14:33:08.000000000', 'files': ['rebuild', 'osci.yaml', 'src/tests/bundles/focal-xena-functional.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/impish-xena-functional.yaml', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/7f8c15924991b33e12ee159e0d1458b6ceb95908', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: I65e364b76039cf7ffa496e1c7070d811ee592eb0\n'}]",1,811170,7f8c15924991b33e12ee159e0d1458b6ceb95908,7,3,1,20870,,,0,"Add xena bundles

- add non-voting focal-xena bundle
- add non-voting impish-xena bundle
- rebuild to pick up charm-helpers changes
- update tox/pip.sh to ensure setuptools<50.0.0

Change-Id: I65e364b76039cf7ffa496e1c7070d811ee592eb0
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/70/811170/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'osci.yaml', 'src/tests/bundles/focal-xena-functional.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/impish-xena-functional.yaml', 'src/tests/tests.yaml', 'tox.ini']",8,7f8c15924991b33e12ee159e0d1458b6ceb95908,xena-bundles,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci minversion = 3.18.0 {toxinidir}/pip.sh install {opts} {packages}", pip install {opts} {packages},284,6
openstack%2Fcharm-masakari~master~Iec89744a7a0ffebba321a34264f61f0ae60844ea,openstack/charm-masakari,master,Iec89744a7a0ffebba321a34264f61f0ae60844ea,Add xena bundles,MERGED,2021-09-27 13:45:27.000000000,2021-11-03 17:18:56.000000000,2021-11-03 17:18:56.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-27 13:45:27.000000000', 'files': ['rebuild', 'src/tests/bundles/impish-xena-pacemaker-remote-ssl.yaml', 'osci.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/overlays/focal-xena-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/focal-xena-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml', 'tox.ini', 'src/tests/bundles/overlays/impish-xena-pacemaker-remote-ssl.yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/98fcc6ad5eacc96fe6d6a468c391499b8f2897c8', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: Iec89744a7a0ffebba321a34264f61f0ae60844ea\n'}]",1,811133,98fcc6ad5eacc96fe6d6a468c391499b8f2897c8,7,3,1,20870,,,0,"Add xena bundles

- add non-voting focal-xena bundle
- add non-voting impish-xena bundle
- rebuild to pick up charm-helpers changes
- update tox/pip.sh to ensure setuptools<50.0.0

Change-Id: Iec89744a7a0ffebba321a34264f61f0ae60844ea
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/33/811133/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/tests/bundles/impish-xena-pacemaker-remote-ssl.yaml', 'osci.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/overlays/focal-xena-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/focal-xena-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml', 'tox.ini', 'src/tests/bundles/overlays/impish-xena-pacemaker-remote-ssl.yaml.j2']",10,98fcc6ad5eacc96fe6d6a468c391499b8f2897c8,xena-bundles,applications: masakari: options: vip: '{{ OS_VIP00 }}' ,,846,5
openstack%2Fcharm-cinder-backup-swift-proxy~master~I6e61d73f6abe75c670b782f7e6b443d8fb1f7aba,openstack/charm-cinder-backup-swift-proxy,master,I6e61d73f6abe75c670b782f7e6b443d8fb1f7aba,Add xena bundles,MERGED,2021-09-22 13:57:02.000000000,2021-11-03 17:18:49.000000000,2021-11-03 17:18:49.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-09-22 13:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/a2375d5b5dcf38bc5d9d8cdfcf1e34132c3cfddb', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: I6e61d73f6abe75c670b782f7e6b443d8fb1f7aba\n'}, {'number': 2, 'created': '2021-10-08 08:46:39.000000000', 'files': ['rebuild', 'src/tests/bundles/impish-xena-swift-v3.yaml', 'osci.yaml', 'src/tests/bundles/focal-xena-swift-v3.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/5ff3108f48be1b516d20ec99836ab601b652925d', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: I6e61d73f6abe75c670b782f7e6b443d8fb1f7aba\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",1,810443,5ff3108f48be1b516d20ec99836ab601b652925d,13,4,2,20870,,,0,"Add xena bundles

- add non-voting focal-xena bundle
- add non-voting impish-xena bundle
- rebuild to pick up charm-helpers changes
- update tox/pip.sh to ensure setuptools<50.0.0

Change-Id: I6e61d73f6abe75c670b782f7e6b443d8fb1f7aba
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/43/810443/2 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/tests/bundles/impish-xena-swift-v3.yaml', 'osci.yaml', 'src/tests/bundles/focal-xena-swift-v3.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/tests.yaml', 'tox.ini']",8,a2375d5b5dcf38bc5d9d8cdfcf1e34132c3cfddb,xena-bundles,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci minversion = 3.18.0 {toxinidir}/pip.sh install {opts} {packages}deps = flake8==3.9.2 charm-tools==2.8.3", pip install {opts} {packages}deps = -r{toxinidir}/test-requirements.txt,691,23
openstack%2Fdesignate~stable%2Fussuri~I9a0881c942eed3ccb5c364c3445907722913f20e,openstack/designate,stable/ussuri,I9a0881c942eed3ccb5c364c3445907722913f20e,WIP DNM more debug for devstack,ABANDONED,2021-02-17 23:28:31.000000000,2021-11-03 17:18:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-17 23:28:31.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/designate/commit/a03f54e08a583a73a52c01498afc8222228696a3', 'message': 'WIP DNM more debug for devstack\n\nDepends-On: https://review.opendev.org/776293\nChange-Id: I9a0881c942eed3ccb5c364c3445907722913f20e\n'}]",0,776294,a03f54e08a583a73a52c01498afc8222228696a3,5,1,1,10459,,,0,"WIP DNM more debug for devstack

Depends-On: https://review.opendev.org/776293
Change-Id: I9a0881c942eed3ccb5c364c3445907722913f20e
",git fetch https://review.opendev.org/openstack/designate refs/changes/94/776294/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,a03f54e08a583a73a52c01498afc8222228696a3,native-zuulv3-migration,set -xset +x set -x set +x,,4,1
openstack%2Fcharm-pacemaker-remote~master~Ie53a621c5e1bdcad124e4dfb5ea3e0debd2b3d91,openstack/charm-pacemaker-remote,master,Ie53a621c5e1bdcad124e4dfb5ea3e0debd2b3d91,Add impish bundle,MERGED,2021-09-27 19:02:00.000000000,2021-11-03 17:15:03.000000000,2021-11-03 17:15:03.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-09-27 19:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/a3864c04ee27ca2cc93bfda7c209d8e63852d456', 'message': 'Add impish bundle\n\n- add non-voting impish bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: Ie53a621c5e1bdcad124e4dfb5ea3e0debd2b3d91\n'}, {'number': 2, 'created': '2021-10-08 08:52:16.000000000', 'files': ['rebuild', 'osci.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/impish-basic.yaml', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/06734357d7101182369fc7656f2d9f691d6b855a', 'message': 'Add impish bundle\n\n- add non-voting impish bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: Ie53a621c5e1bdcad124e4dfb5ea3e0debd2b3d91\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",1,811220,06734357d7101182369fc7656f2d9f691d6b855a,10,4,2,20870,,,0,"Add impish bundle

- add non-voting impish bundle
- rebuild to pick up charm-helpers changes
- update tox/pip.sh to ensure setuptools<50.0.0

Change-Id: Ie53a621c5e1bdcad124e4dfb5ea3e0debd2b3d91
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/20/811220/2 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'osci.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/impish-basic.yaml', 'src/tests/tests.yaml', 'tox.ini']",7,a3864c04ee27ca2cc93bfda7c209d8e63852d456,xena-bundles,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci minversion = 3.18.0 {toxinidir}/pip.sh install {opts} {packages}", pip install {opts} {packages},81,5
openstack%2Fcharm-ceph-proxy~master~Idd5275cb2440ee712dae62b1ef4ba5a6d846135d,openstack/charm-ceph-proxy,master,Idd5275cb2440ee712dae62b1ef4ba5a6d846135d,Add xena bundles,MERGED,2021-09-21 13:32:23.000000000,2021-11-03 17:14:26.000000000,2021-11-03 17:14:26.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-21 13:32:23.000000000', 'files': ['lib/charms_ceph/utils.py', 'osci.yaml', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/osplatform.py', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/charmsupport/volumes.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/core/unitdata.py', 'pip.sh', 'charmhelpers/contrib/openstack/policyd.py', 'tests/bundles/impish-xena-ec.yaml', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/storage/linux/lvm.py', 'charmhelpers/contrib/openstack/files/policy_rc_d_script.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'tests/bundles/focal-xena-ec.yaml', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/fetch/python/packages.py', 'tests/tests.yaml', 'charmhelpers/core/host.py', 'lib/charms_ceph/crush_utils.py', 'tests/bundles/focal-xena.yaml', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/hardening/host/templates/login.defs', 'tox.ini', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/77c75f62f96c2695ec2a127b97e924044ea80371', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: Idd5275cb2440ee712dae62b1ef4ba5a6d846135d\n'}]",3,810238,77c75f62f96c2695ec2a127b97e924044ea80371,10,3,1,20870,,,0,"Add xena bundles

- add non-voting focal-xena bundle
- add non-voting impish-xena bundle
- rebuild to pick up charm-helpers changes
- update tox/pip.sh to ensure setuptools<50.0.0

Change-Id: Idd5275cb2440ee712dae62b1ef4ba5a6d846135d
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/38/810238/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms_ceph/utils.py', 'osci.yaml', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/osplatform.py', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/charmsupport/volumes.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/core/unitdata.py', 'pip.sh', 'charmhelpers/contrib/openstack/policyd.py', 'tests/bundles/impish-xena-ec.yaml', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/storage/linux/lvm.py', 'charmhelpers/contrib/openstack/files/policy_rc_d_script.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'tests/bundles/focal-xena-ec.yaml', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/fetch/python/packages.py', 'tests/tests.yaml', 'charmhelpers/core/host.py', 'lib/charms_ceph/crush_utils.py', 'tests/bundles/focal-xena.yaml', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/hardening/host/templates/login.defs', 'tox.ini', 'tests/bundles/impish-xena.yaml']",33,77c75f62f96c2695ec2a127b97e924044ea80371,xena-bundles,"variables: openstack-origin: &openstack-origin distro series: impish comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': '11': '12': '13': '14': '15': applications: cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: expected-osd-count: 3 source: *openstack-origin to: - '3' - '4' - '5' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: 10G options: source: *openstack-origin to: - '6' - '7' - '8' ceph-proxy: charm: ceph-proxy num_units: 1 options: source: *openstack-origin to: - '9' ceph-radosgw: charm: cs:~openstack-charmers-next/ceph-radosgw num_units: 1 options: source: *openstack-origin to: - '10' cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 options: openstack-origin: *openstack-origin block-device: """" ephemeral-unmount: """" glance-api-version: 2 overwrite: ""false"" constraints: mem=2048 to: - '11' cinder-ceph: charm: cs:~openstack-charmers-next/cinder-ceph options: restrict-ceph-pools: True keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin admin-password: openstack constraints: mem=1024 to: - '12' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 constraints: mem=1024 options: source: *openstack-origin to: - '13' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '14' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 options: openstack-origin: *openstack-origin to: - '15' relations: - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'ceph-proxy:radosgw' - 'ceph-radosgw:mon' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'cinder:shared-db' - 'cinder-mysql-router:shared-db' - - 'cinder-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'cinder-ceph:storage-backend' - 'cinder:storage-backend' - - 'cinder-ceph:ceph' - 'ceph-proxy:client' - - 'glance:image-service' - 'nova-compute:image-service' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-compute:ceph-access' - 'cinder-ceph:ceph-access' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' ",,1293,177
openstack%2Fcharm-keystone-saml-mellon~master~I92743ca40cb58f5998b16a9d79e8f8197c4f4181,openstack/charm-keystone-saml-mellon,master,I92743ca40cb58f5998b16a9d79e8f8197c4f4181,Add xena bundles,MERGED,2021-09-27 11:02:51.000000000,2021-11-03 17:11:03.000000000,2021-11-03 17:11:03.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-27 11:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/f0cf6a8ec5e9d10c010d565106c47d3d19728e01', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: I92743ca40cb58f5998b16a9d79e8f8197c4f4181\n'}, {'number': 2, 'created': '2021-10-06 10:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/3eb9f97ea2c02aafc9e4b0300565bf7669c85442', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- remove groovy-victoria bundles from gate\n\nChange-Id: I92743ca40cb58f5998b16a9d79e8f8197c4f4181\n'}, {'number': 3, 'created': '2021-10-08 15:21:26.000000000', 'files': ['rebuild', 'osci.yaml', 'src/tests/bundles/focal-xena-ha.yaml', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/hirsute-wallaby-ha.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/impish-xena-ha.yaml', 'src/tests/bundles/overlays/impish-xena-ha.yaml.j2', 'pip.sh', 'src/tests/bundles/focal-wallaby-ha.yaml', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/bundles/overlays/focal-xena-ha.yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/f4dcb3d42faf27a1d302ba01c260a937e5aca989', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- remove groovy-victoria bundles from gate\n- Ensure that the cs:~ionutbalutoiu/test-saml-idp charm is on\n  series focal for the hirsute and impish bundles as the charm only\n  supports LTS releases.\n\nChange-Id: I92743ca40cb58f5998b16a9d79e8f8197c4f4181\n'}]",1,811110,f4dcb3d42faf27a1d302ba01c260a937e5aca989,14,3,3,20870,,,0,"Add xena bundles

- add non-voting focal-xena bundle
- add non-voting impish-xena bundle
- rebuild to pick up charm-helpers changes
- remove groovy-victoria bundles from gate
- Ensure that the cs:~ionutbalutoiu/test-saml-idp charm is on
  series focal for the hirsute and impish bundles as the charm only
  supports LTS releases.

Change-Id: I92743ca40cb58f5998b16a9d79e8f8197c4f4181
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/10/811110/3 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/tests/bundles/overlays/impish-xena-ha.yaml.j2', 'osci.yaml', 'src/tests/bundles/focal-xena-ha.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/overlays/focal-xena-ha.yaml.j2', 'src/tests/tests.yaml', 'tox.ini', 'src/tests/bundles/impish-xena-ha.yaml']",10,f0cf6a8ec5e9d10c010d565106c47d3d19728e01,xena-bundles,"variables: openstack-origin: &openstack-origin distro series: impish comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': '11': '12': '13': '14': '15': '16': '17': '18': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router openstack-dashboard-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router vault-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' cinder: num_units: 1 charm: cs:~openstack-charmers-next/cinder options: openstack-origin: *openstack-origin glance-api-version: 2 block-device: None to: - '3' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '4' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 3 options: openstack-origin: *openstack-origin token-provider: 'fernet' to: - '5' - '6' - '7' neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 options: openstack-origin: *openstack-origin manage-neutron-plugin-legacy-mode: true flat-network-providers: physnet1 neutron-security-groups: true to: - '8' neutron-gateway: charm: cs:~openstack-charmers-next/neutron-gateway num_units: 1 options: openstack-origin: *openstack-origin bridge-mappings: physnet1:br-ex to: - '9' neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch num_units: 0 nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin network-manager: Neutron to: - '10' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 2 options: openstack-origin: *openstack-origin config-flags: default_ephemeral_format=ext4 enable-live-migration: true enable-resize: true migration-auth-type: ssh to: - '11' - '12' ntp: charm: cs:ntp num_units: 0 openstack-dashboard: charm: cs:~openstack-charmers-next/openstack-dashboard num_units: 3 options: openstack-origin: *openstack-origin to: - '13' - '14' - '15' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '16' vault: num_units: 1 charm: cs:~openstack-charmers-next/vault to: - '17' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '18' keystone-saml-mellon1: series: groovy charm: ../../../keystone-saml-mellon num_units: 0 options: idp-name: 'test-saml-idp1' protocol-name: 'mapped' user-facing-name: ""Test SAML IDP #1"" subject-confirmation-data-address-check: False nameid-formats: ""urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress"" test-saml-idp1: charm: cs:~ionutbalutoiu/test-saml-idp num_units: 1 options: idp-name: 'test-saml-idp1' protocol-name: 'mapped' auth-user-name: 'user1' auth-user-password: 'userpass1' keystone-saml-mellon2: series: groovy charm: ../../../keystone-saml-mellon num_units: 0 options: idp-name: 'test-saml-idp2' protocol-name: 'mapped' user-facing-name: ""Test SAML IDP #2"" subject-confirmation-data-address-check: False nameid-formats: ""urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress"" test-saml-idp2: charm: cs:~ionutbalutoiu/test-saml-idp num_units: 1 options: idp-name: 'test-saml-idp2' protocol-name: 'mapped' auth-user-name: 'user2' auth-user-password: 'userpass2' keystone-hacluster: charm: cs:~openstack-charmers-next/hacluster num_units: 0 options: corosync_transport: unicast cluster_count: 3 openstack-dashboard-hacluster: charm: cs:~openstack-charmers-next/hacluster num_units: 0 options: corosync_transport: unicast cluster_count: 3 relations: - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'glance:identity-service' - 'keystone:identity-service' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'neutron-openvswitch:neutron-plugin-api' - 'neutron-api:neutron-plugin-api' - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:neutron-plugin-api' - 'neutron-api:neutron-plugin-api' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'neutron-openvswitch:amqp' - 'rabbitmq-server:amqp' - - 'openstack-dashboard:identity-service' - 'keystone:identity-service' - - 'openstack-dashboard:shared-db' - 'openstack-dashboard-mysql-router:shared-db' - - 'openstack-dashboard-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:neutron-api' - 'neutron-api:neutron-api' - - 'cinder:image-service' - 'glance:image-service' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'cinder:cinder-volume-service' - 'nova-cloud-controller:cinder-volume-service' - - 'cinder:shared-db' - 'cinder-mysql-router:shared-db' - - 'cinder-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'ntp:juju-info' - 'nova-compute:juju-info' - - 'ntp:juju-info' - 'neutron-gateway:juju-info' - - 'keystone' - 'keystone-saml-mellon1' - - 'keystone' - 'keystone-saml-mellon2' - - 'vault:shared-db' - 'vault-mysql-router:shared-db' - - 'vault-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'vault:certificates' - 'keystone:certificates' - - 'vault:certificates' - 'glance:certificates' - - 'vault:certificates' - 'openstack-dashboard:certificates' - - 'openstack-dashboard' - 'keystone-saml-mellon1' - - 'openstack-dashboard' - 'keystone-saml-mellon2' - - 'keystone:websso-trusted-dashboard' - 'openstack-dashboard:websso-trusted-dashboard' - - 'vault:certificates' - 'cinder:certificates' - - 'vault:certificates' - 'neutron-api:certificates' - - 'vault:certificates' - 'nova-cloud-controller:certificates' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' - - 'vault:certificates' - 'placement:certificates' - - ""placement:shared-db"" - ""placement-mysql-router:shared-db"" - - ""placement-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - ""keystone:ha"" - ""keystone-hacluster:ha"" - - ""openstack-dashboard:ha"" - ""openstack-dashboard-hacluster:ha"" ",,819,6
openstack%2Fcharm-keystone-kerberos~master~I96449b43c7a290cce1486f13c41cf80f6ee5fa25,openstack/charm-keystone-kerberos,master,I96449b43c7a290cce1486f13c41cf80f6ee5fa25,Add xena bundles,MERGED,2021-09-27 09:56:39.000000000,2021-11-03 17:11:02.000000000,2021-11-03 17:11:02.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-27 09:56:39.000000000', 'files': ['rebuild', 'osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/focal-xena.yaml', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/0ac4c1f18b372d9e5ee4bd6d4dcbac016ed9f764', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: I96449b43c7a290cce1486f13c41cf80f6ee5fa25\n'}]",3,811101,0ac4c1f18b372d9e5ee4bd6d4dcbac016ed9f764,10,3,1,20870,,,0,"Add xena bundles

- add non-voting focal-xena bundle
- add non-voting impish-xena bundle
- rebuild to pick up charm-helpers changes
- update tox/pip.sh to ensure setuptools<50.0.0

Change-Id: I96449b43c7a290cce1486f13c41cf80f6ee5fa25
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/01/811101/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/focal-xena.yaml', 'src/tests/tests.yaml', 'tox.ini']",8,0ac4c1f18b372d9e5ee4bd6d4dcbac016ed9f764,xena-bundles,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci minversion = 3.18.0 {toxinidir}/pip.sh install {opts} {packages}", pip install {opts} {packages},177,6
openstack%2Fcharm-ceph-fs~master~I1a8c12dc00e05d5d01606f68eb151d86acf61815,openstack/charm-ceph-fs,master,I1a8c12dc00e05d5d01606f68eb151d86acf61815,Add xena bundles,MERGED,2021-09-21 12:13:15.000000000,2021-11-03 17:10:31.000000000,2021-11-03 17:10:31.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-21 12:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/19a2cdf9d0f68770c73e408383405551434d413f', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: I1a8c12dc00e05d5d01606f68eb151d86acf61815\n'}, {'number': 2, 'created': '2021-09-21 12:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/87bcccabba8c6bd90ff3b67192eb49d741eba938', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: I1a8c12dc00e05d5d01606f68eb151d86acf61815\n'}, {'number': 3, 'created': '2021-09-21 12:53:04.000000000', 'files': ['rebuild', 'osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/focal-xena.yaml', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/bee914c6bfd292f780d7ddf0d96bdaf88d36da50', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: I1a8c12dc00e05d5d01606f68eb151d86acf61815\n'}]",3,810214,bee914c6bfd292f780d7ddf0d96bdaf88d36da50,15,3,3,20870,,,0,"Add xena bundles

- add non-voting focal-xena bundle
- add non-voting impish-xena bundle
- rebuild to pick up charm-helpers changes
- update tox/pip.sh to ensure setuptools<50.0.0

Change-Id: I1a8c12dc00e05d5d01606f68eb151d86acf61815
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/14/810214/3 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/focal-xena.yaml', 'src/tests/tests.yaml', 'tox.ini']",8,19a2cdf9d0f68770c73e408383405551434d413f,xena-bundles,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci minversion = 3.18.0 {toxinidir}/pip.sh install {opts} {packages}", pip install {opts} {packages},601,5
openstack%2Fcharm-ironic-api~master~I778b961eabfdcb4bbfb72497c9fcfa7327bf8058,openstack/charm-ironic-api,master,I778b961eabfdcb4bbfb72497c9fcfa7327bf8058,Add xena bundles,MERGED,2021-09-27 09:50:16.000000000,2021-11-03 17:05:56.000000000,2021-11-03 17:05:56.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-27 09:50:16.000000000', 'files': ['rebuild', 'osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/focal-xena.yaml', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/57addd1321fe03760378596ffb10c11a0dc210fb', 'message': 'Add xena bundles\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n\nChange-Id: I778b961eabfdcb4bbfb72497c9fcfa7327bf8058\n'}]",3,811099,57addd1321fe03760378596ffb10c11a0dc210fb,10,3,1,20870,,,0,"Add xena bundles

- add non-voting focal-xena bundle
- add non-voting impish-xena bundle
- rebuild to pick up charm-helpers changes
- update tox/pip.sh to ensure setuptools<50.0.0

Change-Id: I778b961eabfdcb4bbfb72497c9fcfa7327bf8058
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/99/811099/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/focal-xena.yaml', 'src/tests/tests.yaml', 'tox.ini']",8,57addd1321fe03760378596ffb10c11a0dc210fb,xena-bundles,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci minversion = 3.18.0 {toxinidir}/pip.sh install {opts} {packages}", pip install {opts} {packages},620,6
openstack%2Fos-vif~master~I635dff2b4fcff905ca8f431eb7e928265200f92a,openstack/os-vif,master,I635dff2b4fcff905ca8f431eb7e928265200f92a,only register tables used by os-vif,MERGED,2021-08-23 12:25:52.000000000,2021-11-03 17:05:12.000000000,2021-11-03 17:03:02.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 12:25:52.000000000', 'files': ['vif_plug_ovs/ovsdb/impl_idl.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/e4dc8b5664ccee8bde9e90fc9e618d6b705a0b68', 'message': 'only register tables used by os-vif\n\nThis change limits the tables registered in the native driver\nto the set actully used by os-vif. This will shorten the inital\nstartup time and reconnection time if the ovs db connection is dropped.\nas a result this will help mitigate bug #1929446 where on reconnection\nthe nova compute agent can stall until reconnection is completed.\n\nChange-Id: I635dff2b4fcff905ca8f431eb7e928265200f92a\nPartial-Bug: #1929446\n'}]",0,805625,e4dc8b5664ccee8bde9e90fc9e618d6b705a0b68,9,3,1,11604,,,0,"only register tables used by os-vif

This change limits the tables registered in the native driver
to the set actully used by os-vif. This will shorten the inital
startup time and reconnection time if the ovs db connection is dropped.
as a result this will help mitigate bug #1929446 where on reconnection
the nova compute agent can stall until reconnection is completed.

Change-Id: I635dff2b4fcff905ca8f431eb7e928265200f92a
Partial-Bug: #1929446
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/25/805625/1 && git format-patch -1 --stdout FETCH_HEAD,['vif_plug_ovs/ovsdb/impl_idl.py'],1,e4dc8b5664ccee8bde9e90fc9e618d6b705a0b68,bug/1929446,"REQUIRED_TABLES = ('Interface', 'Port', 'Bridge', 'Open_vSwitch') for table in REQUIRED_TABLES: helper.register_table(table)", helper.register_all(),4,1
openstack%2Fos-vif~master~I984ec62730276f8ee60d71a02a98fbfc4c37f7d8,openstack/os-vif,master,I984ec62730276f8ee60d71a02a98fbfc4c37f7d8,Use TCP keepalives for ovsdb connections,MERGED,2021-08-19 13:48:59.000000000,2021-11-03 17:02:13.000000000,2021-11-03 16:59:59.000000000,"[{'_account_id': 5756}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32296}]","[{'number': 1, 'created': '2021-08-19 13:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c002c7288c539404af42d3801fabd62928893610', 'message': ""Use TCP keepalives for ovsdb connections\n\nUltimately, this is something that should be fixed in python-ovs,\nbut setting the SO_KEEPALIVE socket option benefits the client by\nremoving the need to send 'echo' requests, which can time out on\nan overloaded ovsdb-server, which causes a disconnection which then#\nadds even more load on the ovsdb-server as it has to send the entire\ndb contents over the wire after the connection is restored.\n\nThis patch ports the optimisation form neutron to reduce the likelyhood\nof a reconnection which can cause the nova compute agent to hang\ntemporarily while the connection is reestablished.\n\nChange-Id: I984ec62730276f8ee60d71a02a98fbfc4c37f7d8\nRelated-Bug: #1930926\nPartial-Bug: #1929446\n""}, {'number': 2, 'created': '2021-08-19 15:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/da17c341cb41eba435216353de3a56c63074a228', 'message': ""Use TCP keepalives for ovsdb connections\n\nUltimately, this is something that should be fixed in python-ovs,\nbut setting the SO_KEEPALIVE socket option benefits the client by\nremoving the need to send 'echo' requests, which can time out on\nan overloaded ovsdb-server, which causes a disconnection which then#\nadds even more load on the ovsdb-server as it has to send the entire\ndb contents over the wire after the connection is restored.\n\nThis patch ports the optimisation form neutron to reduce the likelyhood\nof a reconnection which can cause the nova compute agent to hang\ntemporarily while the connection is reestablished.\n\nChange-Id: I984ec62730276f8ee60d71a02a98fbfc4c37f7d8\nRelated-Bug: #1930926\nPartial-Bug: #1929446\n""}, {'number': 3, 'created': '2021-08-23 11:39:41.000000000', 'files': ['vif_plug_ovs/ovsdb/impl_idl.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/09c0629bb728ad342a41d844143d8e7437c925c4', 'message': ""Use TCP keepalives for ovsdb connections\n\nUltimately, this is something that should be fixed in python-ovs,\nbut setting the SO_KEEPALIVE socket option benefits the client by\nremoving the need to send 'echo' requests, which can time out on\nan overloaded ovsdb-server, which causes a disconnection which then#\nadds even more load on the ovsdb-server as it has to send the entire\ndb contents over the wire after the connection is restored.\n\nThis patch ports the optimisation form neutron to reduce the likelyhood\nof a reconnection which can cause the nova compute agent to hang\ntemporarily while the connection is reestablished.\n\nChange-Id: I984ec62730276f8ee60d71a02a98fbfc4c37f7d8\nRelated-Bug: #1930926\nPartial-Bug: #1929446\n""}]",6,805223,09c0629bb728ad342a41d844143d8e7437c925c4,19,8,3,11604,,,0,"Use TCP keepalives for ovsdb connections

Ultimately, this is something that should be fixed in python-ovs,
but setting the SO_KEEPALIVE socket option benefits the client by
removing the need to send 'echo' requests, which can time out on
an overloaded ovsdb-server, which causes a disconnection which then#
adds even more load on the ovsdb-server as it has to send the entire
db contents over the wire after the connection is restored.

This patch ports the optimisation form neutron to reduce the likelyhood
of a reconnection which can cause the nova compute agent to hang
temporarily while the connection is reestablished.

Change-Id: I984ec62730276f8ee60d71a02a98fbfc4c37f7d8
Related-Bug: #1930926
Partial-Bug: #1929446
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/23/805223/1 && git format-patch -1 --stdout FETCH_HEAD,['vif_plug_ovs/ovsdb/.#impl_idl.py'],1,c002c7288c539404af42d3801fabd62928893610,bug/1929446,sean@p50.1972784:1627855893,,1,0
openstack%2Fneutron~stable%2Fwallaby~Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f,openstack/neutron,stable/wallaby,Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f,[OVN Migration] Remove trunk's subports from the nodes,MERGED,2021-10-26 10:31:43.000000000,2021-11-03 16:55:12.000000000,2021-11-03 16:52:48.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-26 10:31:43.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/53ca3851bfba762d039cb689dbb0c4a8c47f1ec9', 'message': ""[OVN Migration] Remove trunk's subports from the nodes\n\nAfter migration from ML2/OVS to ML2/OVN trunk subports which were created\nby the neutron-ovs-agent to connect br-int with trunk bridges (tbr-)\naren't needed anymore and should be deleted.\n\nCloses-Bug: #1946479\nChange-Id: Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f\n(cherry picked from commit bf6831e0d2ad33ff751f06d568abe6cedff4d717)\n""}]",0,815433,53ca3851bfba762d039cb689dbb0c4a8c47f1ec9,11,3,1,11975,,,0,"[OVN Migration] Remove trunk's subports from the nodes

After migration from ML2/OVS to ML2/OVN trunk subports which were created
by the neutron-ovs-agent to connect br-int with trunk bridges (tbr-)
aren't needed anymore and should be deleted.

Closes-Bug: #1946479
Change-Id: Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f
(cherry picked from commit bf6831e0d2ad33ff751f06d568abe6cedff4d717)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/815433/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,53ca3851bfba762d039cb689dbb0c4a8c47f1ec9,bug/1946479-stable/xena-stable/wallaby,- name: Cleanup neutron trunk subports shell: | ovs-vsctl list interface | awk '/name[ ]*: sp[it]-/ { print $3 }' | xargs -n1 ovs-vsctl del-port,,3,0
openstack%2Fironic-python-agent-builder~master~I7a93122fbac109357c210e3c4830e6527465c302,openstack/ironic-python-agent-builder,master,I7a93122fbac109357c210e3c4830e6527465c302,Bump pip for tinyipa to 21.3.1,MERGED,2021-10-21 10:37:06.000000000,2021-11-03 16:40:46.000000000,2021-11-03 16:38:32.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-21 10:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/a4b2874b311bebaa3ea48945d788a859171db521', 'message': 'Bump pip for tinyipa to 21.3\n\nIt is currently the latest stable version\nhttps://pip.pypa.io/en/stable/news/#v21-3\n\nChange-Id: I7a93122fbac109357c210e3c4830e6527465c302\n'}, {'number': 2, 'created': '2021-11-02 13:24:03.000000000', 'files': ['tinyipa/common.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/44b95bc04716aa083ce27f285abe072e8ed5de3c', 'message': 'Bump pip for tinyipa to 21.3.1\n\nIt is currently the latest stable version\nhttps://pip.pypa.io/en/stable/news/#v21-3-1\n\nChange-Id: I7a93122fbac109357c210e3c4830e6527465c302\n'}]",3,814894,44b95bc04716aa083ce27f285abe072e8ed5de3c,18,3,2,23851,,,0,"Bump pip for tinyipa to 21.3.1

It is currently the latest stable version
https://pip.pypa.io/en/stable/news/#v21-3-1

Change-Id: I7a93122fbac109357c210e3c4830e6527465c302
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/94/814894/2 && git format-patch -1 --stdout FETCH_HEAD,['tinyipa/common.sh'],1,a4b2874b311bebaa3ea48945d788a859171db521,update-pip-version,"PIP_VERSION=""21.3""","PIP_VERSION=""20.2.2""",1,1
openstack%2Fmanila~stable%2Ftrain~I5e30ef458bccb0921ce77b2d9ef875bec72d0619,openstack/manila,stable/train,I5e30ef458bccb0921ce77b2d9ef875bec72d0619,Add missing [oslo_reports] options,MERGED,2021-10-26 22:19:46.000000000,2021-11-03 16:32:49.000000000,2021-11-03 16:30:05.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-10-26 22:19:46.000000000', 'files': ['etc/oslo-config-generator/manila.conf'], 'web_link': 'https://opendev.org/openstack/manila/commit/bf01a887aec5f624f0ad43b9e90f9c810028eb67', 'message': 'Add missing [oslo_reports] options\n\nThe oslo.reports library provides some options under the [oslo_reports]\nsection. This change ensures these parameters are rendered by\nthe oslo-config-generator command.\n\nCloses-Bug: #1940733\nChange-Id: I5e30ef458bccb0921ce77b2d9ef875bec72d0619\n(cherry picked from commit 3f97376cd06983b3dd173c876bf82c8ed6332623)\n(cherry picked from commit b7ec1f88373b7b6233c6dade24a643ab808bcef4)\n(cherry picked from commit 7e91df69115c2d06992adacb591400785710b896)\n(cherry picked from commit ad152a4717e66e19d0ad1bb209081cb7d61741b4)\n'}]",2,815562,bf01a887aec5f624f0ad43b9e90f9c810028eb67,10,4,1,16643,,,0,"Add missing [oslo_reports] options

The oslo.reports library provides some options under the [oslo_reports]
section. This change ensures these parameters are rendered by
the oslo-config-generator command.

Closes-Bug: #1940733
Change-Id: I5e30ef458bccb0921ce77b2d9ef875bec72d0619
(cherry picked from commit 3f97376cd06983b3dd173c876bf82c8ed6332623)
(cherry picked from commit b7ec1f88373b7b6233c6dade24a643ab808bcef4)
(cherry picked from commit 7e91df69115c2d06992adacb591400785710b896)
(cherry picked from commit ad152a4717e66e19d0ad1bb209081cb7d61741b4)
",git fetch https://review.opendev.org/openstack/manila refs/changes/62/815562/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/oslo-config-generator/manila.conf'],1,bf01a887aec5f624f0ad43b9e90f9c810028eb67,bug/1940733,namespace = oslo.reports,,1,0
openstack%2Fgovernance~master~I6e1737f0383b1ce167c0c4b87da20e6741fc0541,openstack/governance,master,I6e1737f0383b1ce167c0c4b87da20e6741fc0541,Setting Spryos as the Magnum PTL,MERGED,2021-11-03 03:13:02.000000000,2021-11-03 16:27:01.000000000,2021-11-03 16:24:35.000000000,"[{'_account_id': 8556}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-03 03:13:02.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/753fbb7fa5a2407ec0b02fd813115e7d5841645e', 'message': 'Setting Spryos as the Magnum PTL\n\nFeilong has changed his job and work priority, so Feilong is going to\nstep down from the Magnum PTL position and Spyros from CERN will take\nover the role.\n\nChange-Id: I6e1737f0383b1ce167c0c4b87da20e6741fc0541\n'}]",1,816431,753fbb7fa5a2407ec0b02fd813115e7d5841645e,11,4,1,6484,,,0,"Setting Spryos as the Magnum PTL

Feilong has changed his job and work priority, so Feilong is going to
step down from the Magnum PTL position and Spyros from CERN will take
over the role.

Change-Id: I6e1737f0383b1ce167c0c4b87da20e6741fc0541
",git fetch https://review.opendev.org/openstack/governance refs/changes/31/816431/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,753fbb7fa5a2407ec0b02fd813115e7d5841645e,project-update, name: Spyros Trigazis irc: strigazi email: strigazi@gmail.com, name: Feilong Wang irc: flwang email: flwang@catalyst.net.nz,3,3
