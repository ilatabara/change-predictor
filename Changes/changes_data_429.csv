id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpuppet-aodh~master~If85594b769fbbc96d3b6ad27ab4bb31170c31faf,openstack/puppet-aodh,master,If85594b769fbbc96d3b6ad27ab4bb31170c31faf,Fix lint issue,MERGED,2019-01-25 04:24:55.000000000,2019-01-25 07:23:09.000000000,2019-01-25 07:23:09.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 04:24:55.000000000', 'files': ['spec/classes/aodh_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/9849c4803ce28557a72bfbfa8c1f294581131323', 'message': 'Fix lint issue\n\nChange-Id: If85594b769fbbc96d3b6ad27ab4bb31170c31faf\n'}]",0,633133,9849c4803ce28557a72bfbfa8c1f294581131323,6,2,1,9414,,,0,"Fix lint issue

Change-Id: If85594b769fbbc96d3b6ad27ab4bb31170c31faf
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/33/633133/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/aodh_logging_spec.rb'],1,9849c4803ce28557a72bfbfa8c1f294581131323,fix-lint-issue," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/aodh/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_journal => true, :use_json => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :debug => true,"," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/aodh/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_journal => true, :use_json => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :debug => true,",16,16
openstack%2Fcinder~master~Ia4c9c07bc573f1cf7f93c40ec8582dc3599f069e,openstack/cinder,master,Ia4c9c07bc573f1cf7f93c40ec8582dc3599f069e,Add missing ws seperator between words,MERGED,2019-01-23 03:40:01.000000000,2019-01-25 07:23:04.000000000,2019-01-24 07:23:59.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20190}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-23 03:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/03488066e942f2c5e0f0a9fb5eb2d72b1625c588', 'message': 'Add missing ws seperator between words\n\nThis is to add missing ws seperator between words, usually\nin log messages.\n\nChange-Id: Ia4c9c07bc573f1cf7f93c40ec8582dc3599f069e\n'}, {'number': 2, 'created': '2019-01-23 06:20:34.000000000', 'files': ['cinder/volume/drivers/drbdmanagedrv.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/drivers/hedvig/hedvig_cinder.py', 'cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py', 'cinder/volume/drivers/zfssa/zfssarest.py', 'cinder/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e55195e88e9bb12e96502b8a9596e3dd7a75a5f5', 'message': 'Add missing ws seperator between words\n\nThis is to add missing ws seperator between words, usually\nin log messages.\n\nChange-Id: Ia4c9c07bc573f1cf7f93c40ec8582dc3599f069e\n'}]",0,632604,e55195e88e9bb12e96502b8a9596e3dd7a75a5f5,61,36,2,20190,,,0,"Add missing ws seperator between words

This is to add missing ws seperator between words, usually
in log messages.

Change-Id: Ia4c9c07bc573f1cf7f93c40ec8582dc3599f069e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/632604/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/drbdmanagedrv.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/drivers/hedvig/hedvig_cinder.py', 'cinder/image/image_utils.py', 'cinder/volume/drivers/zfssa/zfssarest.py', 'cinder/scheduler/host_manager.py']",6,03488066e942f2c5e0f0a9fb5eb2d72b1625c588,missing_ws," LOG.debug(""Received %(service_name)s service update from %(cluster)s """," LOG.debug(""Received %(service_name)s service update from %(cluster)s""",18,18
openstack%2Fpuppet-watcher~master~Ia35e816b87bd38fbb67396bc22122430859f3794,openstack/puppet-watcher,master,Ia35e816b87bd38fbb67396bc22122430859f3794,Fix lint issue,MERGED,2019-01-25 04:24:49.000000000,2019-01-25 07:22:57.000000000,2019-01-25 07:22:57.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 04:24:49.000000000', 'files': ['spec/classes/watcher_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/02fe350d7801b8d084041f795faebb78b058d57f', 'message': 'Fix lint issue\n\nChange-Id: Ia35e816b87bd38fbb67396bc22122430859f3794\n'}]",0,633124,02fe350d7801b8d084041f795faebb78b058d57f,6,2,1,9414,,,0,"Fix lint issue

Change-Id: Ia35e816b87bd38fbb67396bc22122430859f3794
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/24/633124/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/watcher_logging_spec.rb'],1,02fe350d7801b8d084041f795faebb78b058d57f,fix-lint-issue," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/watcher/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :syslog_log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/watcher_random.log', :debug => true,"," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/watcher/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :syslog_log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/watcher_random.log', :debug => true,",17,17
openstack%2Fpuppet-octavia~master~I7aff1f1b051c3e7a81ef3c9f1ae64393decf359f,openstack/puppet-octavia,master,I7aff1f1b051c3e7a81ef3c9f1ae64393decf359f,Fix lint issue,MERGED,2019-01-25 04:24:52.000000000,2019-01-25 07:20:43.000000000,2019-01-25 07:20:43.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 04:24:52.000000000', 'files': ['spec/classes/octavia_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/4a866ff8af6e1f236941b01dfd89a9d50dcc6050', 'message': 'Fix lint issue\n\nChange-Id: I7aff1f1b051c3e7a81ef3c9f1ae64393decf359f\n'}]",0,633128,4a866ff8af6e1f236941b01dfd89a9d50dcc6050,6,2,1,9414,,,0,"Fix lint issue

Change-Id: I7aff1f1b051c3e7a81ef3c9f1ae64393decf359f
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/28/633128/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/octavia_logging_spec.rb'],1,4a866ff8af6e1f236941b01dfd89a9d50dcc6050,fix-lint-issue," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/octavia/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/octavia_random.log', :debug => true,"," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/octavia/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/octavia_random.log', :debug => true,",17,17
openstack%2Fpuppet-designate~master~Iab202e9158b43fdcaa29e37e1e4f442807faff37,openstack/puppet-designate,master,Iab202e9158b43fdcaa29e37e1e4f442807faff37,Fix lint issue,MERGED,2019-01-25 04:24:48.000000000,2019-01-25 07:20:22.000000000,2019-01-25 07:20:22.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 04:24:48.000000000', 'files': ['spec/classes/designate_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/37ea75ea3417906bc22bfeaa7b078fddfdbe33b9', 'message': 'Fix lint issue\n\nChange-Id: Iab202e9158b43fdcaa29e37e1e4f442807faff37\n'}]",0,633117,37ea75ea3417906bc22bfeaa7b078fddfdbe33b9,6,2,1,9414,,,0,"Fix lint issue

Change-Id: Iab202e9158b43fdcaa29e37e1e4f442807faff37
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/17/633117/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/designate_logging_spec.rb'],1,37ea75ea3417906bc22bfeaa7b078fddfdbe33b9,fix-lint-issue," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/designate/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :debug => true,"," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/designate/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :debug => true,",16,16
openstack%2Fpuppet-rally~master~If38485820dd5e1c794e75c649e36966e25b7cbeb,openstack/puppet-rally,master,If38485820dd5e1c794e75c649e36966e25b7cbeb,Fix lint issue,MERGED,2019-01-25 04:24:49.000000000,2019-01-25 07:18:20.000000000,2019-01-25 07:18:20.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 04:24:49.000000000', 'files': ['spec/classes/rally_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/b5257677188d67f68f85ac8a22a2c8800832c83e', 'message': 'Fix lint issue\n\nChange-Id: If38485820dd5e1c794e75c649e36966e25b7cbeb\n'}]",0,633125,b5257677188d67f68f85ac8a22a2c8800832c83e,6,2,1,9414,,,0,"Fix lint issue

Change-Id: If38485820dd5e1c794e75c649e36966e25b7cbeb
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/25/633125/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/rally_logging_spec.rb'],1,b5257677188d67f68f85ac8a22a2c8800832c83e,fix-lint-issue," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/rally/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/rally_random.log', :debug => true,"," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/rally/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/rally_random.log', :debug => true,",17,17
openstack%2Fpuppet-manila~master~I4bc4cef6d17a08f6b15f119d417c61ac1f8c4dea,openstack/puppet-manila,master,I4bc4cef6d17a08f6b15f119d417c61ac1f8c4dea,Fix lint issue,MERGED,2019-01-25 04:24:48.000000000,2019-01-25 07:18:19.000000000,2019-01-25 07:18:19.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 04:24:48.000000000', 'files': ['spec/classes/manila_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/496a58a765c54ee0acd660e70c154812c97316e6', 'message': 'Fix lint issue\n\nChange-Id: I4bc4cef6d17a08f6b15f119d417c61ac1f8c4dea\n'}]",0,633116,496a58a765c54ee0acd660e70c154812c97316e6,6,2,1,9414,,,0,"Fix lint issue

Change-Id: I4bc4cef6d17a08f6b15f119d417c61ac1f8c4dea
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/16/633116/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/manila_logging_spec.rb'],1,496a58a765c54ee0acd660e70c154812c97316e6,fix-lint-issue," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/manila/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :debug => true,"," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/manila/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :debug => true,",16,16
openstack%2Fpuppet-gnocchi~master~I387b8deacc09db320e195faf01d386e0090c9e95,openstack/puppet-gnocchi,master,I387b8deacc09db320e195faf01d386e0090c9e95,Fix lint issue,MERGED,2019-01-25 04:24:55.000000000,2019-01-25 07:18:01.000000000,2019-01-25 07:18:01.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 04:24:55.000000000', 'files': ['spec/classes/gnocchi_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/5bdc6022256dd5b0cd5152bfca6bc62a6e4d9fcd', 'message': 'Fix lint issue\n\nChange-Id: I387b8deacc09db320e195faf01d386e0090c9e95\n'}]",0,633132,5bdc6022256dd5b0cd5152bfca6bc62a6e4d9fcd,6,2,1,9414,,,0,"Fix lint issue

Change-Id: I387b8deacc09db320e195faf01d386e0090c9e95
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/32/633132/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/gnocchi_logging_spec.rb'],1,5bdc6022256dd5b0cd5152bfca6bc62a6e4d9fcd,fix-lint-issue," :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_dir => '/var/log', :debug => true,"," :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_dir => '/var/log', :debug => true,",6,6
openstack%2Fpuppet-cloudkitty~master~I29bc6b32b163b6c5194b5027b308fd8ee23c3e56,openstack/puppet-cloudkitty,master,I29bc6b32b163b6c5194b5027b308fd8ee23c3e56,Fix lint issue,MERGED,2019-01-25 04:24:49.000000000,2019-01-25 07:17:27.000000000,2019-01-25 07:17:27.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 04:24:49.000000000', 'files': ['spec/classes/cloudkitty_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/dca57ab7fd367daeecf7dd84fd8775c6a2722f01', 'message': 'Fix lint issue\n\nChange-Id: I29bc6b32b163b6c5194b5027b308fd8ee23c3e56\n'}]",0,633123,dca57ab7fd367daeecf7dd84fd8775c6a2722f01,6,2,1,9414,,,0,"Fix lint issue

Change-Id: I29bc6b32b163b6c5194b5027b308fd8ee23c3e56
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/23/633123/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/cloudkitty_logging_spec.rb'],1,dca57ab7fd367daeecf7dd84fd8775c6a2722f01,fix-lint-issue," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/cloudkitty/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :syslog_log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/cloudkitty_random.log', :debug => true,"," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/cloudkitty/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :syslog_log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/cloudkitty_random.log', :debug => true,",17,17
openstack%2Fpuppet-magnum~master~Ic669977f187d32ed49fb29d79722e2459daeacc9,openstack/puppet-magnum,master,Ic669977f187d32ed49fb29d79722e2459daeacc9,Fix lint issue,MERGED,2019-01-25 04:24:49.000000000,2019-01-25 07:17:25.000000000,2019-01-25 07:17:25.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 04:24:49.000000000', 'files': ['spec/classes/magnum_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/ae8505d5651f753b9f4a1dc41b54c9452608b33e', 'message': 'Fix lint issue\n\nChange-Id: Ic669977f187d32ed49fb29d79722e2459daeacc9\n'}]",0,633127,ae8505d5651f753b9f4a1dc41b54c9452608b33e,6,2,1,9414,,,0,"Fix lint issue

Change-Id: Ic669977f187d32ed49fb29d79722e2459daeacc9
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/27/633127/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/magnum_logging_spec.rb'],1,ae8505d5651f753b9f4a1dc41b54c9452608b33e,fix-lint-issue," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/magnum/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :debug => true,"," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/magnum/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :debug => true,",16,16
openstack%2Fpuppet-vitrage~master~Iab8d3543f7d61390ff1e615fe9dc875ad7dda29f,openstack/puppet-vitrage,master,Iab8d3543f7d61390ff1e615fe9dc875ad7dda29f,Fix lint issue,MERGED,2019-01-25 04:24:55.000000000,2019-01-25 07:17:08.000000000,2019-01-25 07:17:07.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 04:24:55.000000000', 'files': ['spec/classes/vitrage_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/1d362d018799964e1d11688c53a793cdbfeab861', 'message': 'Fix lint issue\n\nChange-Id: Iab8d3543f7d61390ff1e615fe9dc875ad7dda29f\n'}]",0,633131,1d362d018799964e1d11688c53a793cdbfeab861,6,2,1,9414,,,0,"Fix lint issue

Change-Id: Iab8d3543f7d61390ff1e615fe9dc875ad7dda29f
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/31/633131/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/vitrage_logging_spec.rb'],1,1d362d018799964e1d11688c53a793cdbfeab861,fix-lint-issue," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/vitrage/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :debug => true,"," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/vitrage/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :debug => true,",16,16
openstack%2Fpuppet-ec2api~master~I58bbba4307484f568affdbf476b7e30386d74df2,openstack/puppet-ec2api,master,I58bbba4307484f568affdbf476b7e30386d74df2,Fix lint issue,MERGED,2019-01-25 04:25:03.000000000,2019-01-25 07:16:48.000000000,2019-01-25 07:16:48.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 04:25:03.000000000', 'files': ['spec/classes/ec2api_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/d088f803ff5c9ab3edc07c5cf43e178b87937b23', 'message': 'Fix lint issue\n\nChange-Id: I58bbba4307484f568affdbf476b7e30386d74df2\n'}]",0,633137,d088f803ff5c9ab3edc07c5cf43e178b87937b23,6,2,1,9414,,,0,"Fix lint issue

Change-Id: I58bbba4307484f568affdbf476b7e30386d74df2
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/37/633137/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ec2api_logging_spec.rb'],1,d088f803ff5c9ab3edc07c5cf43e178b87937b23,fix-lint-issue," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/ec2api/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/ec2api_random.log', :debug => true,"," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/ec2api/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/ec2api_random.log', :debug => true,",17,17
openstack%2Fpuppet-barbican~master~Ibc4e8197b8419c075edc736da8d2967c44daf186,openstack/puppet-barbican,master,Ibc4e8197b8419c075edc736da8d2967c44daf186,Fix lint issue,MERGED,2019-01-25 04:24:48.000000000,2019-01-25 07:16:11.000000000,2019-01-25 07:16:11.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 04:24:48.000000000', 'files': ['spec/classes/barbican_api_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/2879f0ab3d856905327bcda6ca8713e47b0be3e7', 'message': 'Fix lint issue\n\nChange-Id: Ibc4e8197b8419c075edc736da8d2967c44daf186\n'}]",0,633115,2879f0ab3d856905327bcda6ca8713e47b0be3e7,6,2,1,9414,,,0,"Fix lint issue

Change-Id: Ibc4e8197b8419c075edc736da8d2967c44daf186
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/15/633115/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/barbican_api_logging_spec.rb'],1,2879f0ab3d856905327bcda6ca8713e47b0be3e7,fix-lint-issue," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/barbican/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/barbican_random.log', :debug => true,"," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/barbican/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/barbican_random.log', :debug => true,",17,17
openstack%2Fpuppet-senlin~master~I67977136f3752cf68e2140d673849eb1c690dfcc,openstack/puppet-senlin,master,I67977136f3752cf68e2140d673849eb1c690dfcc,Fix lint issue,MERGED,2019-01-25 04:25:02.000000000,2019-01-25 07:16:04.000000000,2019-01-25 07:16:04.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 04:25:02.000000000', 'files': ['spec/classes/senlin_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/aa203431aa9e1fd6fc1435fd093b09c2d11a81b9', 'message': 'Fix lint issue\n\nChange-Id: I67977136f3752cf68e2140d673849eb1c690dfcc\n'}]",0,633135,aa203431aa9e1fd6fc1435fd093b09c2d11a81b9,6,2,1,9414,,,0,"Fix lint issue

Change-Id: I67977136f3752cf68e2140d673849eb1c690dfcc
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/35/633135/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/senlin_logging_spec.rb'],1,aa203431aa9e1fd6fc1435fd093b09c2d11a81b9,fix-lint-issue," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/senlin/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :syslog_log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/senlin_random.log', :debug => true,"," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/senlin/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :syslog_log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/senlin_random.log', :debug => true,",17,17
openstack%2Fpuppet-ceilometer~master~Iaff996f5a2c7394122bd20bd6ad52196aa8e0dd4,openstack/puppet-ceilometer,master,Iaff996f5a2c7394122bd20bd6ad52196aa8e0dd4,Fix lint issue,MERGED,2019-01-25 04:24:48.000000000,2019-01-25 07:15:44.000000000,2019-01-25 07:15:44.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 04:24:48.000000000', 'files': ['spec/classes/ceilometer_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/be78b483ae28e1c7631b72283d796d75942054db', 'message': 'Fix lint issue\n\nChange-Id: Iaff996f5a2c7394122bd20bd6ad52196aa8e0dd4\n'}]",0,633113,be78b483ae28e1c7631b72283d796d75942054db,6,2,1,9414,,,0,"Fix lint issue

Change-Id: Iaff996f5a2c7394122bd20bd6ad52196aa8e0dd4
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/13/633113/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ceilometer_logging_spec.rb'],1,be78b483ae28e1c7631b72283d796d75942054db,fix-lint-issue," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/ceilometer/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :debug => true,"," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/ceilometer/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :debug => true,",16,16
openstack%2Fpuppet-freezer~master~I789b6606b399d85ff6df28c02f315a880ef92baa,openstack/puppet-freezer,master,I789b6606b399d85ff6df28c02f315a880ef92baa,Fix lint issue,MERGED,2019-01-25 04:24:49.000000000,2019-01-25 07:15:14.000000000,2019-01-25 07:15:14.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 04:24:49.000000000', 'files': ['spec/classes/freezer_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/c537994b03faf82402cb649c810ed2e591b74d6b', 'message': 'Fix lint issue\n\nChange-Id: I789b6606b399d85ff6df28c02f315a880ef92baa\n'}]",0,633119,c537994b03faf82402cb649c810ed2e591b74d6b,6,2,1,9414,,,0,"Fix lint issue

Change-Id: I789b6606b399d85ff6df28c02f315a880ef92baa
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/19/633119/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/freezer_logging_spec.rb'],1,c537994b03faf82402cb649c810ed2e591b74d6b,fix-lint-issue," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/freezer/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :syslog_log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/freezer_random.log', :debug => true,"," :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/freezer/logging.conf', :publish_errors => true, :default_log_levels => { :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :syslog_log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/freezer_random.log', :debug => true,",17,17
openstack%2Fopenstack-manuals~master~Icdd8507fbd70b80ceea98b851f4f3630c4e14b4b,openstack/openstack-manuals,master,Icdd8507fbd70b80ceea98b851f4f3630c4e14b4b,"fix ""Deutschen"" typo",MERGED,2019-01-24 00:21:35.000000000,2019-01-25 07:10:24.000000000,2019-01-25 07:10:24.000000000,"[{'_account_id': 10607}, {'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 00:21:35.000000000', 'files': ['www/de/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8018f19fb55202b11ed240c035d12ca1ed33bed2', 'message': 'fix ""Deutschen"" typo\n\nChange-Id: Icdd8507fbd70b80ceea98b851f4f3630c4e14b4b\n'}]",0,632833,8018f19fb55202b11ed240c035d12ca1ed33bed2,7,3,1,2394,,,0,"fix ""Deutschen"" typo

Change-Id: Icdd8507fbd70b80ceea98b851f4f3630c4e14b4b
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/33/632833/1 && git format-patch -1 --stdout FETCH_HEAD,['www/de/index.html'],1,8018f19fb55202b11ed240c035d12ca1ed33bed2,deutschen-typo, <p>Unterstützung des Deutschen Übersetzerteams</p>, <p>Unterstützung des Detuschen Übersetzerteams</p>,1,1
openstack%2Fneutron~master~Ie7640fc54494de89e85b2f528bddc79875a16046,openstack/neutron,master,Ie7640fc54494de89e85b2f528bddc79875a16046,Change DVR to use ip_lib.add_ip_address() directly,MERGED,2019-01-11 17:34:49.000000000,2019-01-25 07:09:33.000000000,2019-01-24 22:33:41.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 10385}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 25618}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-01-11 17:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c08ecaca5cce7962ea6d2b140b369e2656e44013', 'message': ""Change DVR to use ip_lib.add_ip_address() directly\n\nThe DVR Edge router code creates an IPDevice() object just\nto make a single call to add an IP address.  Change it to\ncall ip_lib.add_ip_address() directly instead since that's\nwhat's being done in the IpAddrCommand.add() code anways.\n\nTrivialfix\n\nChange-Id: Ie7640fc54494de89e85b2f528bddc79875a16046\n""}, {'number': 2, 'created': '2019-01-17 20:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a4497ebf7ead07569224bc2f3c1ef73dc3078b89', 'message': ""Change DVR to use ip_lib.add_ip_address() directly\n\nThe DVR Edge router code creates an IPDevice() object just\nto make a single call to add an IP address.  Change it to\ncall ip_lib.add_ip_address() directly instead since that's\nwhat's being done in the IpAddrCommand.add() code anways.\n\nTrivialfix\n\nChange-Id: Ie7640fc54494de89e85b2f528bddc79875a16046\n""}, {'number': 3, 'created': '2019-01-24 16:00:59.000000000', 'files': ['neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee19fa49b7fafc3a7aae0f8d2e1dbe7382fd0193', 'message': ""Change DVR to use ip_lib.add_ip_address() directly\n\nThe DVR Edge router code creates an IPDevice() object just\nto make a single call to add an IP address.  Change it to\ncall ip_lib.add_ip_address() directly instead since that's\nwhat's being done in the IpAddrCommand.add() code anways.\n\nTrivialfix\n\nChange-Id: Ie7640fc54494de89e85b2f528bddc79875a16046\n""}]",4,630350,ee19fa49b7fafc3a7aae0f8d2e1dbe7382fd0193,28,12,3,1131,,,0,"Change DVR to use ip_lib.add_ip_address() directly

The DVR Edge router code creates an IPDevice() object just
to make a single call to add an IP address.  Change it to
call ip_lib.add_ip_address() directly instead since that's
what's being done in the IpAddrCommand.add() code anways.

Trivialfix

Change-Id: Ie7640fc54494de89e85b2f528bddc79875a16046
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/630350/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/dvr_edge_router.py'],1,c08ecaca5cce7962ea6d2b140b369e2656e44013,bug/1811213," try: ip_lib.add_ip_address(fip_cidr, interface_name, namespace=self.snat_namespace.name)"," device = ip_lib.IPDevice( interface_name, namespace=self.snat_namespace.name) try: device.addr.add(fip_cidr)",2,3
openstack%2Fneutron~master~Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e,openstack/neutron,master,Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e,Remove IPv6 addresses in dnsmasq leases file,MERGED,2019-01-15 12:01:04.000000000,2019-01-25 07:08:17.000000000,2019-01-25 05:04:32.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-15 12:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/062447b78a13552f798c9321abf5b2826fe22b9a', 'message': ""Remove IPv6 addresses in dnsmasq leases file\n\nIPv6 address format in dnsmasq leases file is incorrect (correct format\nis described in bug description). This bad formatting generates the\nfollowing error when initializing dnsmasq:\n  dnsmasq[20603]: failed to parse lease database, invalid line: \\\n    1547121093 fa:16:3e:a0:3a:9a [fd5b:1fd5:8295:5339::43] * ...\n\nThis patch removes the IPv6 addresses from the leases file, as proposed\nin the bug, because the DHCP agent does not have the IAID (identity\nassociation identifier) of each IPv6 address assigned.\n\nIn case of agent restart, dnsmasq won't have any IPv6 address in the\nleases file, but the hosts file and the additional hosts file will\ncontain all MAC/IPv6 previous assignations. When the IPv6 client sends\na DHCPDISCOVER, dnsmasq will offer the same IPv6 address to this client.\nAt the same time, the client will request to the server the same address:\n  DHCPDISCOVER(tap2c14823a-e6) fa:16:3e:54:c6:8e\n  DHCPOFFER(tap2c14823a-e6) fd5b:1fd5:8295:5339::43 fa:16:3e:54:c6:8e\n  DHCPREQUEST(tap2c14823a-e6) fd5b:1fd5:8295:5339::43 fa:16:3e:54:c6:8e\n  DHCPACK(tap2c14823a-e6) fd5b:1fd5:8295:5339::43 fa:16:3e:54:c6:8e \\\n    host-fd5b-1fd5-8295-5339--43\n\nOnce dnsmasq updates the leases database, rewrites the leases file with the\nnew IPv6 address (including the IAID) and the server DUID (if not present).\n\nChange-Id: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e\nCloses-Bug: #1722126\n""}, {'number': 2, 'created': '2019-01-18 17:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/37b36a05c2f621f0ee8d1772e6f035fa08530fc6', 'message': ""Remove IPv6 addresses in dnsmasq leases file\n\nIPv6 address format in dnsmasq leases file is incorrect (correct format\nis described in bug description). This bad formatting generates the\nfollowing error when initializing dnsmasq:\n  dnsmasq[20603]: failed to parse lease database, invalid line: \\\n    1547121093 fa:16:3e:a0:3a:9a [fd5b:1fd5:8295:5339::43] * ...\n\nThis patch removes the IPv6 addresses from the leases file, as proposed\nin the bug, because the DHCP agent does not have the IAID (identity\nassociation identifier) of each IPv6 address assigned.\n\nIn case of agent restart, dnsmasq won't have any IPv6 address in the\nleases file, but the hosts file and the additional hosts file will\ncontain all MAC/IPv6 previous assignations. When the IPv6 client sends\na DHCPDISCOVER, dnsmasq will offer the same IPv6 address to this client.\nAt the same time, the client will request to the server the same address:\n  DHCPDISCOVER(tap2c14823a-e6) fa:16:3e:54:c6:8e\n  DHCPOFFER(tap2c14823a-e6) fd5b:1fd5:8295:5339::43 fa:16:3e:54:c6:8e\n  DHCPREQUEST(tap2c14823a-e6) fd5b:1fd5:8295:5339::43 fa:16:3e:54:c6:8e\n  DHCPACK(tap2c14823a-e6) fd5b:1fd5:8295:5339::43 fa:16:3e:54:c6:8e \\\n    host-fd5b-1fd5-8295-5339--43\n\nOnce dnsmasq updates the leases database, rewrites the leases file with the\nnew IPv6 address (including the IAID) and the server DUID (if not present).\n\nChange-Id: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e\nCloses-Bug: #1722126\n""}, {'number': 3, 'created': '2019-01-24 11:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fba7317c3f8ede1fd00e41ec3fcd0c82f24e57d', 'message': ""Remove IPv6 addresses in dnsmasq leases file\n\nIPv6 address format in dnsmasq leases file is incorrect (correct format\nis described in bug description). This bad formatting generates the\nfollowing error when initializing dnsmasq:\n  dnsmasq[20603]: failed to parse lease database, invalid line: \\\n    1547121093 fa:16:3e:a0:3a:9a [fd5b:1fd5:8295:5339::43] * ...\n\nThis patch removes the IPv6 addresses from the leases file, as proposed\nin the bug, because the DHCP agent does not have the IAID (identity\nassociation identifier) of each IPv6 address assigned.\n\nIn case of agent restart, dnsmasq won't have any IPv6 address in the\nleases file, but the hosts file and the additional hosts file will\ncontain all MAC/IPv6 previous assignations. When the IPv6 client sends\na DHCPDISCOVER, dnsmasq will offer the same IPv6 address to this client.\nAt the same time, the client will request to the server the same address:\n  DHCPDISCOVER(tap2c14823a-e6) fa:16:3e:54:c6:8e\n  DHCPOFFER(tap2c14823a-e6) fd5b:1fd5:8295:5339::43 fa:16:3e:54:c6:8e\n  DHCPREQUEST(tap2c14823a-e6) fd5b:1fd5:8295:5339::43 fa:16:3e:54:c6:8e\n  DHCPACK(tap2c14823a-e6) fd5b:1fd5:8295:5339::43 fa:16:3e:54:c6:8e \\\n    host-fd5b-1fd5-8295-5339--43\n\nOnce dnsmasq updates the leases database, rewrites the leases file with the\nnew IPv6 address (including the IAID) and the server DUID (if not present).\n\nChange-Id: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e\nCloses-Bug: #1722126\n""}, {'number': 4, 'created': '2019-01-24 17:14:46.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4747de23d80ab32eea073846221adf94987f755b', 'message': ""Remove IPv6 addresses in dnsmasq leases file\n\nIPv6 address format in dnsmasq leases file is incorrect (correct format\nis described in bug description). This bad formatting generates the\nfollowing error when initializing dnsmasq:\n  dnsmasq[20603]: failed to parse lease database, invalid line: \\\n    1547121093 fa:16:3e:a0:3a:9a [fd5b:1fd5:8295:5339::43] * ...\n\nThis patch removes the IPv6 addresses from the leases file, as proposed\nin the bug, because the DHCP agent does not have the IAID (identity\nassociation identifier) of each IPv6 address assigned.\n\nIn case of agent restart, dnsmasq won't have any IPv6 address in the\nleases file, but the hosts file and the additional hosts file will\ncontain all MAC/IPv6 previous assignations. When the IPv6 client sends\na DHCPDISCOVER, dnsmasq will offer the same IPv6 address to this client.\nAt the same time, the client will request to the server the same address:\n  DHCPDISCOVER(tap2c14823a-e6) fa:16:3e:54:c6:8e\n  DHCPOFFER(tap2c14823a-e6) fd5b:1fd5:8295:5339::43 fa:16:3e:54:c6:8e\n  DHCPREQUEST(tap2c14823a-e6) fd5b:1fd5:8295:5339::43 fa:16:3e:54:c6:8e\n  DHCPACK(tap2c14823a-e6) fd5b:1fd5:8295:5339::43 fa:16:3e:54:c6:8e \\\n    host-fd5b-1fd5-8295-5339--43\n\nOnce dnsmasq updates the leases database, rewrites the leases file with the\nnew IPv6 address (including the IAID) and the server DUID (if not present).\n\nChange-Id: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e\nCloses-Bug: #1722126\n""}]",6,630951,4747de23d80ab32eea073846221adf94987f755b,42,10,4,16688,,,0,"Remove IPv6 addresses in dnsmasq leases file

IPv6 address format in dnsmasq leases file is incorrect (correct format
is described in bug description). This bad formatting generates the
following error when initializing dnsmasq:
  dnsmasq[20603]: failed to parse lease database, invalid line: \
    1547121093 fa:16:3e:a0:3a:9a [fd5b:1fd5:8295:5339::43] * ...

This patch removes the IPv6 addresses from the leases file, as proposed
in the bug, because the DHCP agent does not have the IAID (identity
association identifier) of each IPv6 address assigned.

In case of agent restart, dnsmasq won't have any IPv6 address in the
leases file, but the hosts file and the additional hosts file will
contain all MAC/IPv6 previous assignations. When the IPv6 client sends
a DHCPDISCOVER, dnsmasq will offer the same IPv6 address to this client.
At the same time, the client will request to the server the same address:
  DHCPDISCOVER(tap2c14823a-e6) fa:16:3e:54:c6:8e
  DHCPOFFER(tap2c14823a-e6) fd5b:1fd5:8295:5339::43 fa:16:3e:54:c6:8e
  DHCPREQUEST(tap2c14823a-e6) fd5b:1fd5:8295:5339::43 fa:16:3e:54:c6:8e
  DHCPACK(tap2c14823a-e6) fd5b:1fd5:8295:5339::43 fa:16:3e:54:c6:8e \
    host-fd5b-1fd5-8295-5339--43

Once dnsmasq updates the leases database, rewrites the leases file with the
new IPv6 address (including the IAID) and the server DUID (if not present).

Change-Id: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e
Closes-Bug: #1722126
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/630951/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,062447b78a13552f798c9321abf5b2826fe22b9a,bug/1722126," if (no_dhcp or alloc.subnet_id not in dhcp_enabled_subnet_ids or common_utils.get_ip_version(alloc.ip_address) == constants.IP_VERSION_6): (timestamp, port.mac_address, alloc.ip_address))"," if no_dhcp or alloc.subnet_id not in dhcp_enabled_subnet_ids: ip_address = self._format_address_for_dnsmasq(alloc.ip_address) (timestamp, port.mac_address, ip_address))",4,5
openstack%2Ffreezer~master~Id2669f525355e1e7ccc650114644616bb7adfe8c,openstack/freezer,master,Id2669f525355e1e7ccc650114644616bb7adfe8c,Add rsync get_sign_delta not dir unit test,MERGED,2019-01-25 02:23:17.000000000,2019-01-25 06:59:11.000000000,2019-01-25 06:59:11.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2019-01-25 02:23:17.000000000', 'files': ['freezer/tests/unit/engines/rsync/test_rsync.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/8d202d250381468d12a5cc7bc8d742f7538c7c0f', 'message': 'Add rsync get_sign_delta not dir unit test\n\nThe patch add rsync get_sign_delta not dir unit test\n\nChange-Id: Id2669f525355e1e7ccc650114644616bb7adfe8c\n'}]",0,633099,8d202d250381468d12a5cc7bc8d742f7538c7c0f,10,3,1,21387,,,0,"Add rsync get_sign_delta not dir unit test

The patch add rsync get_sign_delta not dir unit test

Change-Id: Id2669f525355e1e7ccc650114644616bb7adfe8c
",git fetch https://review.opendev.org/openstack/freezer refs/changes/99/633099/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/tests/unit/engines/rsync/test_rsync.py'],1,8d202d250381468d12a5cc7bc8d742f7538c7c0f,improveunittestcoverage," @unittest.skipIf(sys.version_info.major == 3, 'Not supported on python v 3.x') @patch('freezer.engine.rsync.rsync.RsyncEngine.' 'gen_struct_for_deleted_files') @patch('freezer.utils.compress.one_shot_compress') @patch('freezer.engine.rsync.rsync.RsyncEngine.' 'process_backup_data') @patch('freezer.engine.rsync.rsync.RsyncEngine.process_file') @patch('os.walk') @patch('os.getcwd') @patch('freezer.engine.rsync.rsync.RsyncEngine.' 'get_fs_meta_struct') @patch('freezer.utils.compress.Compressor.flush') @patch('os.path.isdir') @patch(""__builtin__.open"") def test_get_sign_delta_isnot_dir(self, mock_open, mock_os_path_isdir, mock_flush, mock_get_fs_meta_struct, mock_os_getcwd, mock_os_walk, mock_process_file, mock_process_backup_data, mock_one_shot_compress, mock_gen_struct_for_deleted_files): files_meta = { 'files': {}, 'directories': {}, 'meta': { 'broken_links_tot': '', 'total_files': '', 'total_directories': '', 'backup_size_on_disk': 0, 'backup_size_uncompressed': 0, 'backup_size_compressed': 0, 'platform': sys.platform }, 'abs_backup_path': self.relpath, 'broken_links': [], 'rsync_struct_ver': 1, 'rsync_block_size': 4096} fs_path = self.relpath manifest_path = self.relpath flushed_data = 'fakedata' fake_rsync = self.mock_rsync fake_rsync.compressor = self.compressor mock_flush.return_value = flushed_data old_files_meta = files_meta mock_get_fs_meta_struct.return_value = old_files_meta mock_os_path_isdir.return_value = False mock_os_getcwd.return_value = self.relpath write_queue = mock.MagicMock() write_queue.put = mock.MagicMock() mock_process_backup_data.return_value = flushed_data manifest_file = mock.MagicMock() manifest_file.write = mock.MagicMock() mock_open.return_value = manifest_file fake_rsync.get_sign_delta(fs_path=fs_path, manifest_path=manifest_path, write_queue=write_queue) mock_get_fs_meta_struct.assert_called_with(manifest_path) self.assertTrue(mock_process_file.called) self.assertTrue(mock_process_backup_data.called)",,71,0
openstack%2Ftacker-horizon~master~I0304207ba4b8acc6a53da1f547b806bac8a917e6,openstack/tacker-horizon,master,I0304207ba4b8acc6a53da1f547b806bac8a917e6,Use template for lower-constraints,MERGED,2018-12-20 20:36:04.000000000,2019-01-25 06:51:52.000000000,2019-01-25 06:51:52.000000000,"[{'_account_id': 2874}, {'_account_id': 12455}, {'_account_id': 13380}, {'_account_id': 16511}, {'_account_id': 18955}, {'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 27153}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-12-20 20:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/3ae415bc73a8de890197cdff5aebb58286176492', 'message': 'Use template for lower-constraints\n\nSmall cleanups:\n\n* Use openstack-lower-constraints-jobs template, remove individual\n  jobs.\n* Sort list of templates\n\nChange-Id: I0304207ba4b8acc6a53da1f547b806bac8a917e6\nNeeded-By: https://review.openstack.org/623229\n'}, {'number': 2, 'created': '2018-12-20 21:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/41e7bb6ce68bc151f1d2f684ad9372d365a47a73', 'message': 'Use template for lower-constraints\n\nSmall cleanups:\n\n* Use openstack-lower-constraints-jobs template, remove individual\n  jobs.\n* Sort list of templates\n\nAlso, raise lower-constraints for keystoneauth1 since\npython-glanceclient requires a newer version.\n\nChange-Id: I0304207ba4b8acc6a53da1f547b806bac8a917e6\nNeeded-By: https://review.openstack.org/623229\n'}, {'number': 3, 'created': '2018-12-21 08:03:31.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/006e0df72c2eb5ce67f8eabc4ff8c109d9de0021', 'message': 'Use template for lower-constraints\n\nSmall cleanups:\n\n* Use openstack-lower-constraints-jobs template, remove individual\n  jobs.\n* Sort list of templates\n\nAlso, raise some lower-constraints since oslo.policy and\npython-glanceclient requires a newer version.\n\nChange-Id: I0304207ba4b8acc6a53da1f547b806bac8a917e6\nNeeded-By: https://review.openstack.org/623229\n'}]",0,626723,006e0df72c2eb5ce67f8eabc4ff8c109d9de0021,13,10,3,6547,,,0,"Use template for lower-constraints

Small cleanups:

* Use openstack-lower-constraints-jobs template, remove individual
  jobs.
* Sort list of templates

Also, raise some lower-constraints since oslo.policy and
python-glanceclient requires a newer version.

Change-Id: I0304207ba4b8acc6a53da1f547b806bac8a917e6
Needed-By: https://review.openstack.org/623229
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/23/626723/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3ae415bc73a8de890197cdff5aebb58286176492,cd/py36-lower-constraints, - openstack-lower-constraints-jobs, - openstack-tox-lower-constraints - openstack-tox-lower-constraints,1,2
openstack%2Fpatrole~master~I4f14b1914b867389d217cda8b74d55062ae4de7f,openstack/patrole,master,I4f14b1914b867389d217cda8b74d55062ae4de7f,Add system_scope checking workaround,ABANDONED,2019-01-25 02:39:02.000000000,2019-01-25 06:43:04.000000000,,"[{'_account_id': 8556}, {'_account_id': 8911}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 02:39:02.000000000', 'files': ['patrole_tempest_plugin/policy_authority.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/53111d57020b73c6c5294350efca84120ffb23d2', 'message': 'Add system_scope checking workaround\n\nKeystone implemented the system_scope for few policy\nand doing for other. Tempest has not merged the patch\nadding the system_scope support in creds.\n\nPatrole does not pass the system_scope information\nin creds while verifying the role access permission for\npolicy rule directly via oslo.policy. This caused failure\nfor tests of those policy which keystone has implemented\nthe system_scope.\n\nOnce Tempest has system_scope support then, patrole can\nrequest the system_scopped creds for such policy verification.\nTill then, this commit adds a workaround to pass the\nsystem_scope in access_data for verifying the policy permission.\n\nChange-Id: I4f14b1914b867389d217cda8b74d55062ae4de7f\nStory: 2004709\nTask: 28740\n'}]",0,633101,53111d57020b73c6c5294350efca84120ffb23d2,5,3,1,8556,,,0,"Add system_scope checking workaround

Keystone implemented the system_scope for few policy
and doing for other. Tempest has not merged the patch
adding the system_scope support in creds.

Patrole does not pass the system_scope information
in creds while verifying the role access permission for
policy rule directly via oslo.policy. This caused failure
for tests of those policy which keystone has implemented
the system_scope.

Once Tempest has system_scope support then, patrole can
request the system_scopped creds for such policy verification.
Till then, this commit adds a workaround to pass the
system_scope in access_data for verifying the policy permission.

Change-Id: I4f14b1914b867389d217cda8b74d55062ae4de7f
Story: 2004709
Task: 28740
",git fetch https://review.opendev.org/openstack/patrole refs/changes/01/633101/1 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/policy_authority.py'],1,53111d57020b73c6c5294350efca84120ffb23d2,, # TODO(gmann): This is workaround till we have system_scope # support in Tempest. if 'system_scope:all' in str(rule): access_data['system_scope'] = 'all',,4,0
openstack%2Fmanila~master~Id4585fa887e5bdfd5743dad2c490392ba0401061,openstack/manila,master,Id4585fa887e5bdfd5743dad2c490392ba0401061,Deprecate [DEFAULT]/share_usage_size_audit_period,MERGED,2019-01-23 19:29:01.000000000,2019-01-25 06:35:18.000000000,2019-01-25 06:35:17.000000000,"[{'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-01-23 19:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3a7a8751d8525b4ead31560719eae6073e48599f', 'message': 'Deprecate [DEFAULT]/share_usage_size_audit_period\n\nThis option is unused and is likely going to confuse\ndeployers, especially when using the share usage size\ntracking feature with a similarly named option\n(share_usage_size_update_interval) [1].\n\nWe can remove this option in the Train release.\n\nCloses-Bug: #1813054\n[1] https://review.openstack.org/#/c/465055/\n\nChange-Id: Id4585fa887e5bdfd5743dad2c490392ba0401061\n'}, {'number': 2, 'created': '2019-01-23 19:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6307cb97caea41234b1b17499593181afe0672ea', 'message': 'Deprecate [DEFAULT]/share_usage_size_audit_period\n\nThis option is unused and is likely going to confuse\ndeployers, especially when using the share usage size\ntracking feature with a similarly named option\n(share_usage_size_update_interval) [1].\n\nWe can remove this option in the Train release.\n\nCloses-Bug: #1813054\n[1] https://review.openstack.org/#/c/465055/\n\nChange-Id: Id4585fa887e5bdfd5743dad2c490392ba0401061\n'}, {'number': 3, 'created': '2019-01-23 21:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/faa70e7b7b35c9bb905b97d70bd0e07e2a254bd4', 'message': 'Deprecate [DEFAULT]/share_usage_size_audit_period\n\nThis option is unused and is likely going to confuse\ndeployers, especially when using the share usage size\ntracking feature with a similarly named option\n(share_usage_size_update_interval) [1].\n\nWe can remove this option in the Train release.\n\nCloses-Bug: #1813054\n[1] https://review.openstack.org/#/c/465055/\n\nChange-Id: Id4585fa887e5bdfd5743dad2c490392ba0401061\n'}, {'number': 4, 'created': '2019-01-24 16:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/57f3e0ac9f54c2b5875cdca6b932cedd79ee456d', 'message': 'Deprecate [DEFAULT]/share_usage_size_audit_period\n\nThis option is unused and is likely going to confuse\ndeployers, especially when using the share usage size\ntracking feature with a similarly named option\n(share_usage_size_update_interval) [1].\n\nWe can remove this option in the Train release.\n\nCloses-Bug: #1813054\n[1] https://review.openstack.org/#/c/465055/\n\nChange-Id: Id4585fa887e5bdfd5743dad2c490392ba0401061\n'}, {'number': 5, 'created': '2019-01-24 16:04:55.000000000', 'files': ['manila/common/config.py', 'releasenotes/notes/bug-1813054-remove-share-usage-size-audit-period-conf-opt-7331013d1cdb7b43.yaml', 'doc/source/configuration/tables/manila-share.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/0f627aa6cf3250e6dba8c436a999c9f30681cc50', 'message': 'Deprecate [DEFAULT]/share_usage_size_audit_period\n\nThis option is unused and is likely going to confuse\ndeployers, especially when using the share usage size\ntracking feature with a similarly named option\n(share_usage_size_update_interval) [1].\n\nWe can remove this option in the Train release.\n\nCloses-Bug: #1813054\n[1] https://review.openstack.org/#/c/465055/\n\nChange-Id: Id4585fa887e5bdfd5743dad2c490392ba0401061\n'}]",2,632799,0f627aa6cf3250e6dba8c436a999c9f30681cc50,37,12,5,16643,,,0,"Deprecate [DEFAULT]/share_usage_size_audit_period

This option is unused and is likely going to confuse
deployers, especially when using the share usage size
tracking feature with a similarly named option
(share_usage_size_update_interval) [1].

We can remove this option in the Train release.

Closes-Bug: #1813054
[1] https://review.openstack.org/#/c/465055/

Change-Id: Id4585fa887e5bdfd5743dad2c490392ba0401061
",git fetch https://review.opendev.org/openstack/manila refs/changes/99/632799/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/common/config.py', 'doc/source/configuration/tables/manila-share.inc', 'releasenotes/notes/bug-1813054-remove-share-usage-size-audit-period-conf-opt-7331013d1cdb7b43.yaml']",3,3a7a8751d8525b4ead31560719eae6073e48599f,bug/1813054,"--- deprecations: - | The configuration option ``share_usage_audit_period`` from the [DEFAULT] has been deprecated. It had been ineffectual, and the option will be removed in an upcoming release. This option should not be confused with ``share_usage_size_update_interval`` from the back end section, which can be used to gather usage size for some back ends that support that feature.",,12,3
openstack%2Fneutron~master~I7d5b91f2ec5301848c85a430be2d20648dad0990,openstack/neutron,master,I7d5b91f2ec5301848c85a430be2d20648dad0990,bump neutron-lib to 1.22.0,MERGED,2019-01-22 12:45:33.000000000,2019-01-25 06:35:05.000000000,2019-01-24 19:58:47.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 26622}, {'_account_id': 26682}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-01-22 12:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a12b50c4b3a1eb6c71117844f210c2c51db090d', 'message': 'bump neutron-lib to 1.22.0\n\nBumps neutron-lib version to 1.22.0 in requirements\nand lower-constraints.\n\nChange-Id: I7d5b91f2ec5301848c85a430be2d20648dad0990\n'}, {'number': 2, 'created': '2019-01-24 08:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dce9c66bde9d306086ea9033a466f0eb2ebb69b1', 'message': 'bump neutron-lib to 1.22.0\n\nBumps neutron-lib version to 1.22.0 in requirements\nand lower-constraints.\n\nChange-Id: I7d5b91f2ec5301848c85a430be2d20648dad0990\n'}, {'number': 3, 'created': '2019-01-24 14:27:56.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d519934c77ec2c0d99329f4bfebed0fff64464fe', 'message': 'bump neutron-lib to 1.22.0\n\nBumps neutron-lib version to 1.22.0 in requirements\nand lower-constraints.\n\nChange-Id: I7d5b91f2ec5301848c85a430be2d20648dad0990\n'}]",0,632454,d519934c77ec2c0d99329f4bfebed0fff64464fe,41,13,3,22948,,,0,"bump neutron-lib to 1.22.0

Bumps neutron-lib version to 1.22.0 in requirements
and lower-constraints.

Change-Id: I7d5b91f2ec5301848c85a430be2d20648dad0990
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/632454/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,3a12b50c4b3a1eb6c71117844f210c2c51db090d,,neutron-lib==1.22.0,neutron-lib==1.21.0,2,2
openstack%2Ftacker~stable%2Frocky~I2a5933ed21e478e860cb12b378a4368f9402291d,openstack/tacker,stable/rocky,I2a5933ed21e478e860cb12b378a4368f9402291d,Fix random failing of test_init_monitoring test,MERGED,2019-01-24 01:15:34.000000000,2019-01-25 06:32:24.000000000,2019-01-25 06:32:24.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}]","[{'number': 1, 'created': '2019-01-24 01:15:34.000000000', 'files': ['tacker/vnfm/monitor.py', 'tox.ini', 'tacker/tests/unit/vnfm/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/e855062154ebbce67b704effd987f5426d0fafaa', 'message': 'Fix random failing of test_init_monitoring test\n\nThe existing unit test case [1] is failing randomly [2]\nwhen both test modules `test_plugin` and `test_monitoring`\nruns in a single worker.\n\nReason: VNFMonitor class is using singleton pattern.\nIn above test modules same object of VNFMonitor class\nis returned from __new__ method but internally it makes\na call __init__ explicitly.\nSince we are not initializing `_hosting_vnfs` attribute in\nthe __init__ method, when we try to access __hosting_vnf in\nthe second test `test_plugin`, it finds two vnf objects.\n\nThis issue is fixed in this patch by reinitializing the\n`_hosting_vnfs` class level attribute as empty dict in the\ntest_init_monitoring unit test.\n\n[1]: https://github.com/openstack/tacker/blob/master/tacker/tests/unit/vnfm/test_plugin.py#L75\n[2]: http://logs.openstack.org/10/609610/9/check/openstack-tox-py35/b99de12/testr_results.html.gz\n\nChange-Id: I2a5933ed21e478e860cb12b378a4368f9402291d\n(cherry picked from commit 4b9bcfeeef53bf6bdf230d2f9d21c90eebd9c9cd)\n'}]",0,632838,e855062154ebbce67b704effd987f5426d0fafaa,7,3,1,20182,,,0,"Fix random failing of test_init_monitoring test

The existing unit test case [1] is failing randomly [2]
when both test modules `test_plugin` and `test_monitoring`
runs in a single worker.

Reason: VNFMonitor class is using singleton pattern.
In above test modules same object of VNFMonitor class
is returned from __new__ method but internally it makes
a call __init__ explicitly.
Since we are not initializing `_hosting_vnfs` attribute in
the __init__ method, when we try to access __hosting_vnf in
the second test `test_plugin`, it finds two vnf objects.

This issue is fixed in this patch by reinitializing the
`_hosting_vnfs` class level attribute as empty dict in the
test_init_monitoring unit test.

[1]: https://github.com/openstack/tacker/blob/master/tacker/tests/unit/vnfm/test_plugin.py#L75
[2]: http://logs.openstack.org/10/609610/9/check/openstack-tox-py35/b99de12/testr_results.html.gz

Change-Id: I2a5933ed21e478e860cb12b378a4368f9402291d
(cherry picked from commit 4b9bcfeeef53bf6bdf230d2f9d21c90eebd9c9cd)
",git fetch https://review.opendev.org/openstack/tacker refs/changes/38/632838/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/vnfm/monitor.py', 'tox.ini', 'tacker/tests/unit/vnfm/test_plugin.py']",3,e855062154ebbce67b704effd987f5426d0fafaa,bp/reservation-vnfm-stable/rocky,"from tacker.vnfm import monitor # NOTE(bhagyashris): VNFMonitor class is using a singleton pattern # and '_hosting_vnfs' is defined as a class level attribute. # If one of the unit test adds a VNF to monitor it will show up here # provided both the unit tests runs in the same process. # Hence, you must reinitialize '_hosting_vnfs' to empty dict. monitor.VNFMonitor._hosting_vnfs = dict()",,12,5
openstack%2Ftacker~master~I2d857afb8d0be82644391d0aff8c69af72910f71,openstack/tacker,master,I2d857afb8d0be82644391d0aff8c69af72910f71,Add missing ws seperator between words,MERGED,2019-01-24 09:28:43.000000000,2019-01-25 06:31:27.000000000,2019-01-25 06:31:27.000000000,"[{'_account_id': 18955}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 26222}]","[{'number': 1, 'created': '2019-01-24 09:28:43.000000000', 'files': ['tacker/nfvo/drivers/vim/openstack_driver.py', 'tacker/vnfm/keystone.py', 'tacker/tosca/utils.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/7888c2fadf8592522cc59fa05f9608e926884a03', 'message': 'Add missing ws seperator between words\n\nThis is to add missing ws seperator between words.\n\nChange-Id: I2d857afb8d0be82644391d0aff8c69af72910f71\n'}]",0,632968,7888c2fadf8592522cc59fa05f9608e926884a03,8,4,1,20190,,,0,"Add missing ws seperator between words

This is to add missing ws seperator between words.

Change-Id: I2d857afb8d0be82644391d0aff8c69af72910f71
",git fetch https://review.opendev.org/openstack/tacker refs/changes/68/632968/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/nfvo/drivers/vim/openstack_driver.py', 'tacker/vnfm/keystone.py', 'tacker/tosca/utils.py']",3,7888c2fadf8592522cc59fa05f9608e926884a03,missing_ws, LOG.warning('Both numa_nodes and numa_node_count have been ' 'specified; numa_node definitions will be ignored and ', LOG.warning('Both numa_nodes and numa_node_count have been' 'specified; numa_node definitions will be ignored and',5,5
openstack%2Fpython-watcherclient~master~Ia013cafe7dfa3a54c86ff44e57f98d64b15b6a86,openstack/python-watcherclient,master,Ia013cafe7dfa3a54c86ff44e57f98d64b15b6a86,Use openstack common CLI,MERGED,2019-01-24 07:27:44.000000000,2019-01-25 06:27:06.000000000,2019-01-25 06:27:06.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 07:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/97b078c8414e2def9faa26af9e969d97bffb06da', 'message': 'Use openstack common CLI\n\nChange-Id: Ia013cafe7dfa3a54c86ff44e57f98d64b15b6a86\n'}, {'number': 2, 'created': '2019-01-25 01:41:00.000000000', 'files': ['watcherclient/tests/functional/v1/base.py'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/ca6190c3a1d2eeec22450dc2c67bc67b63705258', 'message': 'Use openstack common CLI\n\nChange-Id: Ia013cafe7dfa3a54c86ff44e57f98d64b15b6a86\n'}]",0,632945,ca6190c3a1d2eeec22450dc2c67bc67b63705258,8,2,2,21692,,,0,"Use openstack common CLI

Change-Id: Ia013cafe7dfa3a54c86ff44e57f98d64b15b6a86
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/45/632945/1 && git format-patch -1 --stdout FETCH_HEAD,['watcherclient/tests/functional/v1/base.py'],1,97b078c8414e2def9faa26af9e969d97bffb06da,openstack_optimize, return execute('openstack optimize --os-infra-optim-api-version {0} {1}'.format(, return execute('watcher --os-infra-optim-api-version {0} {1}'.format(,1,1
openstack%2Fironic~master~Id5997b32a442aeea8162fc0ef5894a87ac24443d,openstack/ironic,master,Id5997b32a442aeea8162fc0ef5894a87ac24443d,Remove duplicated fault code,MERGED,2019-01-24 03:51:47.000000000,2019-01-25 06:07:54.000000000,2019-01-25 06:07:54.000000000,"[{'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-01-24 03:51:47.000000000', 'files': ['ironic/objects/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c3648e8b4eb5b02cf8a1ef3ac85d82eb8bed4782', 'message': 'Remove duplicated fault code\n\nThe automated clean patch [1] introduced a common pattern for version\nconversion, this patch removes the custom fault field conversion to\nreuse the common handler.\n\n[1] https://review.openstack.org/#/c/585991/12/ironic/objects/node.py\n\nChange-Id: Id5997b32a442aeea8162fc0ef5894a87ac24443d\n'}]",0,632920,c3648e8b4eb5b02cf8a1ef3ac85d82eb8bed4782,13,9,1,24828,,,0,"Remove duplicated fault code

The automated clean patch [1] introduced a common pattern for version
conversion, this patch removes the custom fault field conversion to
reuse the common handler.

[1] https://review.openstack.org/#/c/585991/12/ironic/objects/node.py

Change-Id: Id5997b32a442aeea8162fc0ef5894a87ac24443d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/632920/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/objects/node.py'],1,c3648e8b4eb5b02cf8a1ef3ac85d82eb8bed4782,faults-refactor," ('bios_interface', 24), ('fault', 25), ('automated_clean', 28), ('protected_reason', 29), ('owner', 30), ('allocation_id', 31)]"," def _convert_fault_field(self, target_version, remove_unavailable_fields=True): fault_is_set = self.obj_attr_is_set('fault') if target_version >= (1, 25): if not fault_is_set: self.fault = None elif fault_is_set: if remove_unavailable_fields: delattr(self, 'fault') elif self.fault is not None: self.fault = None ('bios_interface', 24), ('automated_clean', 28), ('protected_reason', 29), ('owner', 30), ('allocation_id', 31)] self._convert_fault_field(target_version, remove_unavailable_fields)",3,16
openstack%2Fneutron~master~I9fb74a9ef7a83cd630afa1e1ea0e2fc0c6df3943,openstack/neutron,master,I9fb74a9ef7a83cd630afa1e1ea0e2fc0c6df3943,Correct arguments to nfct_open,MERGED,2019-01-09 00:13:42.000000000,2019-01-25 05:34:09.000000000,2019-01-25 02:54:50.000000000,"[{'_account_id': 1131}, {'_account_id': 6928}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-01-09 00:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fc10bd4d701f957f2a5c564beb61d3eb34c0957', 'message': ""Correct arguments to nfct_open\n\nWhile working on this module, I noticed a couple of inconsistencies\nin how we were calling nfct. Specifically, the NFNL_SUBSYS_CTNETLINK\nvalue is supposed to be 1[1], and the order of arguments to nfct_open\nis subsys_id then subscriptions[2]. We were passing them in the\nopposite order, which didn't particularly matter because both were\ndefined to be 0. Now that the subsystem identifier is correctly\ndefined it does matter though.\n\nChange-Id: I9fb74a9ef7a83cd630afa1e1ea0e2fc0c6df3943\n1: https://git.netfilter.org/libnfnetlink/tree/include/libnfnetlink/linux_nfnetlink.h#n45\n2: https://git.netfilter.org/libnetfilter_conntrack/tree/src/main.c#n68\n""}, {'number': 2, 'created': '2019-01-09 16:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/333a233a7827c95f390d8d7aa2343e3897d1eea8', 'message': ""Correct arguments to nfct_open\n\nWhile working on this module, I noticed a couple of inconsistencies\nin how we were calling nfct. Specifically, the NFNL_SUBSYS_CTNETLINK\nvalue is supposed to be 1[1], and the order of arguments to nfct_open\nis subsys_id then subscriptions[2]. We were passing them in the\nopposite order, which didn't particularly matter because both were\ndefined to be 0. Now that the subsystem identifier is correctly\ndefined it does matter though.\n\nChange-Id: I9fb74a9ef7a83cd630afa1e1ea0e2fc0c6df3943\n1: https://git.netfilter.org/libnfnetlink/tree/include/libnfnetlink/linux_nfnetlink.h#n45\n2: https://git.netfilter.org/libnetfilter_conntrack/tree/src/main.c#n68\n""}, {'number': 3, 'created': '2019-01-09 22:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d7d8ed2d334333e75a7aa6de6e03ad49a4bb530', 'message': ""Correct arguments to nfct_open\n\nWhile working on this module, I noticed a couple of inconsistencies\nin how we were calling nfct. Specifically, the NFNL_SUBSYS_CTNETLINK\nvalue is supposed to be 1[1], and the order of arguments to nfct_open\nis subsys_id then subscriptions[2]. We were passing them in the\nopposite order, which didn't particularly matter because both were\ndefined to be 0. Now that the subsystem identifier is correctly\ndefined it does matter though.\n\nChange-Id: I9fb74a9ef7a83cd630afa1e1ea0e2fc0c6df3943\n1: https://git.netfilter.org/libnfnetlink/tree/include/libnfnetlink/linux_nfnetlink.h#n45\n2: https://git.netfilter.org/libnetfilter_conntrack/tree/src/main.c#n68\n""}, {'number': 4, 'created': '2019-01-24 08:41:38.000000000', 'files': ['neutron/privileged/agent/linux/netlink_lib.py', 'neutron/tests/unit/privileged/agent/linux/test_netlink_lib.py', 'neutron/privileged/agent/linux/netlink_constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/85e1b1b0dc2fd2f383fe92a1c636e4bc28e55462', 'message': ""Correct arguments to nfct_open\n\nWhile working on this module, I noticed a couple of inconsistencies\nin how we were calling nfct. Specifically, the NFNL_SUBSYS_CTNETLINK\nvalue is supposed to be 1[1], and the order of arguments to nfct_open\nis subsys_id then subscriptions[2]. We were passing them in the\nopposite order, which didn't particularly matter because both were\ndefined to be 0. Now that the subsystem identifier is correctly\ndefined it does matter though.\n\nChange-Id: I9fb74a9ef7a83cd630afa1e1ea0e2fc0c6df3943\n1: https://git.netfilter.org/libnfnetlink/tree/include/libnfnetlink/linux_nfnetlink.h#n45\n2: https://git.netfilter.org/libnetfilter_conntrack/tree/src/main.c#n68\n""}]",0,629336,85e1b1b0dc2fd2f383fe92a1c636e4bc28e55462,46,9,4,6928,,,0,"Correct arguments to nfct_open

While working on this module, I noticed a couple of inconsistencies
in how we were calling nfct. Specifically, the NFNL_SUBSYS_CTNETLINK
value is supposed to be 1[1], and the order of arguments to nfct_open
is subsys_id then subscriptions[2]. We were passing them in the
opposite order, which didn't particularly matter because both were
defined to be 0. Now that the subsystem identifier is correctly
defined it does matter though.

Change-Id: I9fb74a9ef7a83cd630afa1e1ea0e2fc0c6df3943
1: https://git.netfilter.org/libnfnetlink/tree/include/libnfnetlink/linux_nfnetlink.h#n45
2: https://git.netfilter.org/libnetfilter_conntrack/tree/src/main.c#n68
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/629336/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/privileged/agent/linux/netlink_lib.py', 'neutron/privileged/agent/linux/netlink_constants.py']",2,0fc10bd4d701f957f2a5c564beb61d3eb34c0957,629336,NFNL_SUBSYS_CTNETLINK = 1,NFNL_SUBSYS_CTNETLINK = 0,3,3
openstack%2Frpm-packaging~master~I70ab3d0c5d99b7aed6505c01f14c7640d0b196c8,openstack/rpm-packaging,master,I70ab3d0c5d99b7aed6505c01f14c7640d0b196c8,neutron-lib: Only BuildRequire weakrefmethod for python2,MERGED,2019-01-19 11:39:54.000000000,2019-01-25 05:33:13.000000000,2019-01-25 05:33:13.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-19 11:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b0f7e16fe2e9c2c08dc94854a6c7c13052ec88bd', 'message': ""neutron-lib: Only BuildRequire weakrefmethod for python2\n\nIt's not needed on python >=3.4\n\nChange-Id: I70ab3d0c5d99b7aed6505c01f14c7640d0b196c8\n""}, {'number': 2, 'created': '2019-01-21 11:35:47.000000000', 'files': ['openstack/neutron-lib/neutron-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/492d7d2cd0333d87e89a12bda56b18257de243cd', 'message': ""neutron-lib: Only BuildRequire weakrefmethod for python2\n\nIt's not needed on python >=3.4\n\nChange-Id: I70ab3d0c5d99b7aed6505c01f14c7640d0b196c8\n""}]",0,631919,492d7d2cd0333d87e89a12bda56b18257de243cd,26,6,2,7102,,,0,"neutron-lib: Only BuildRequire weakrefmethod for python2

It's not needed on python >=3.4

Change-Id: I70ab3d0c5d99b7aed6505c01f14c7640d0b196c8
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/19/631919/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron-lib/neutron-lib.spec.j2'],1,b0f7e16fe2e9c2c08dc94854a6c7c13052ec88bd,631919,"BuildRequires: {{ py2pkg('weakrefmethod', py_versions=['py2']) }}",BuildRequires: {{ py2pkg('weakrefmethod') }},1,1
openstack%2Fneutron~master~I34e41a128f28211f2e7ab814a2611ce22620fcf3,openstack/neutron,master,I34e41a128f28211f2e7ab814a2611ce22620fcf3,Fix performance regression adding rules to security groups,MERGED,2019-01-04 22:01:26.000000000,2019-01-25 05:05:30.000000000,2019-01-24 11:17:22.000000000,"[{'_account_id': 1131}, {'_account_id': 8871}, {'_account_id': 9373}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 10267}, {'_account_id': 10385}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 28239}]","[{'number': 1, 'created': '2019-01-04 22:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7e6994b489349fa9d414d8826822407e112d16f', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nThe most controversial change is likely using the sqla db models\nto write the rules instead of the neutron objects. Restoring that\npart loses some performance, but keeps most of it, so if that interface\nis important, we can do that.\n\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 2, 'created': '2019-01-04 22:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb5d86232b91b75a7de528e4671ad92c8a4184bb', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nThe most controversial change is likely using the sqla db models\nto write the rules instead of the neutron objects. Restoring that\npart loses some performance, but keeps most of it, so if that interface\nis important, we can do that.\n\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 3, 'created': '2019-01-05 05:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cf169e2e511dba7f00430c92e10ed9789a0881a', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 4, 'created': '2019-01-06 03:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee3d7f10d7ebc14ce19c054af6dee63885b7744e', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 5, 'created': '2019-01-06 03:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed11b76b9f166495d3c3afe2c410e32335178cba', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 6, 'created': '2019-01-06 17:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a0c429f2e20434b18dd366a0e16172985c02182', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 7, 'created': '2019-01-06 21:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b731b5993d5ea7607f9423b70258d384825d978c', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nDNM - quick CI check with shallow disabled\n\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 8, 'created': '2019-01-06 23:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/42c53a94d22f32b59f7da17e76e974d40836a20d', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nDNM - quick CI check with shallow disabled\n\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 9, 'created': '2019-01-07 03:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/932d9527fcf236cec73a70525597f7bff6298335', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 10, 'created': '2019-01-07 19:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/474980a350c5142e3edd5dd91f297e448cf276eb', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Stop loading the rules in checks where we are just checking\nthe presence/access permissions of a security group.\n\nNote: I think there is a bug in get_security_group that is loading\nthe rules *twice*, once implicitly via the ORM, and once explicitly,\naccording to my profiling, but I didn't chase that down with this\nfix to create, as it doesn't cause a performance issue that makes\nthe API unusable with larger groups.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 11, 'created': '2019-01-07 19:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17fb4a82f6f255dc82a099d111c78a15878b5d09', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Stop loading the rules in checks where we are just checking\nthe presence/access permissions of a security group.\n\nNote: I think there is a bug in get_security_group that is loading\nthe rules *twice*, once implicitly via the ORM, and once explicitly,\naccording to my profiling, but I didn't chase that down with this\nfix to create, as it doesn't cause a performance issue that makes\nthe API unusable with larger groups.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 12, 'created': '2019-01-07 21:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a815dee6157db56ec68240c3aeecacea1433b04', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Stop loading the rules in checks where we are just checking\nthe presence/access permissions of a security group.\n\nNote: I think there is a bug in get_security_group that is loading\nthe rules *twice*, once implicitly via the ORM, and once explicitly,\naccording to my profiling, but I didn't chase that down with this\nfix to create, as it doesn't cause a performance issue that makes\nthe API unusable with larger groups.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 13, 'created': '2019-01-08 03:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/97625595ea3acd4626153f844cfefd2417f9a025', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Stop loading the rules in checks where we are just checking\nthe presence/access permissions of a security group.\n\nNote: I think there is a bug in get_security_group that is loading\nthe rules *twice*, once implicitly via the ORM, and once explicitly,\naccording to my profiling, but I didn't chase that down with this\nfix to create, as it doesn't cause a performance issue that makes\nthe API unusable with larger groups.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 14, 'created': '2019-01-09 15:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26a374abb8bab27aba82cf11176d0e4254204b11', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Stop loading the rules in checks where we are just checking\nthe presence/access permissions of a security group.\n\nNote: I think there is a bug in get_security_group that is loading\nthe rules *twice*, once implicitly via the ORM, and once explicitly,\naccording to my profiling, but I didn't chase that down with this\nfix to create, as it doesn't cause a performance issue that makes\nthe API unusable with larger groups.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 15, 'created': '2019-01-09 20:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d95136999908fc9423512505a42df6e45c194af', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Add mechanism to neutron's ovo objects to allow requesting\npartial object loads, and use that anywhere we don't need to be\nloading the full rule lists.\n\nNote: This also fixes a performance regression in get and index,\nif you ask for fewer columns.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 16, 'created': '2019-01-11 21:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd42dca1235b9103415393f83736ffacbc4e59ce', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Use an object existence check in a few places where we do not\nwant to load all of the child rules.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 17, 'created': '2019-01-15 21:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ac5423e6527eed187c21cb845ecb911809947a8', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Use an object existence check in a few places where we do not\nwant to load all of the child rules.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 18, 'created': '2019-01-17 20:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/616df17e6355e4542756ddac6c79c765200e85b3', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Use an object existence check in a few places where we do not\nwant to load all of the child rules.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}, {'number': 19, 'created': '2019-01-23 18:30:54.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/objects/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2eb31f84c9a6c9fc6340819f756a7a82cbf395f3', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Use an object existence check in a few places where we do not\nwant to load all of the child rules.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n""}]",75,628691,2eb31f84c9a6c9fc6340819f756a7a82cbf395f3,212,16,19,10980,,,0,"Fix performance regression adding rules to security groups

Sometime between liberty and pike, adding rules to SG's got
slow, and slower with every rule. Streamline the rule create path,
and get close to the old performance back.

Two performance fixes:
1. Get rid of an n^2 duplicate check, using a hash table instead,
on bulk creates. This is more memory intensive than the previous loop,
but usable far past where the other becomes too slow to be useful.
2. Use an object existence check in a few places where we do not
want to load all of the child rules.

Co-Authored-By: William Hager <whager@salesforce.com>
Change-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3
Closes-bug: 1810563
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/628691/17 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/conf/common.py']",2,a7e6994b489349fa9d414d8826822407e112d16f,bug/1810563," cfg.BoolOpt('security_group_duplicate_detection', default=True, help=_('If True, then check security group rules for ' 'duplicaets before adding to a security group. ')),",,67,19
openstack%2Fkeystone~master~Id5497064e580093e4a2c7d904670a58095833b3b,openstack/keystone,master,Id5497064e580093e4a2c7d904670a58095833b3b,Add documentation for Auth Receipts and MFA,MERGED,2018-07-06 01:30:37.000000000,2019-01-25 05:04:35.000000000,2019-01-25 05:04:35.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-06 01:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dd71c5b9e0df6c3ef36008e0053ebf989014bb68', 'message': '[WIP] Add documentation for Auth Receipts and MFA\n\nAdds API ref examples for TOTP and Auth receipts, as well\nas MFA user options.\n\nChange-Id: Id5497064e580093e4a2c7d904670a58095833b3b\n'}, {'number': 2, 'created': '2018-10-31 00:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2cd262576c7e35767da35d2f22ee0d038c231953', 'message': '[WIP] Add documentation for Auth Receipts and MFA\n\nAdds API ref examples for TOTP and Auth receipts, as well\nas MFA user options.\n\nChange-Id: Id5497064e580093e4a2c7d904670a58095833b3b\n'}, {'number': 3, 'created': '2019-01-09 04:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/799aab9782f34e81cce7c5df38247204aab2d123', 'message': 'Add documentation for Auth Receipts and MFA\n\nAdds API ref examples for TOTP and Auth receipts.\n\nAdds docs for MFA and changes some of the user options\ndocs.\n\nChange-Id: Id5497064e580093e4a2c7d904670a58095833b3b\n'}, {'number': 4, 'created': '2019-01-10 02:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8fb7ac6944bed64475b4917cf8bd8d8518069a3b', 'message': 'Add documentation for Auth Receipts and MFA\n\nAdds API ref examples for TOTP and Auth receipts.\n\nAdds docs for MFA and changes some of the user options\ndocs.\n\nChange-Id: Id5497064e580093e4a2c7d904670a58095833b3b\n'}, {'number': 5, 'created': '2019-01-17 01:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9e14b558189e800060a354b86f7b6282535705cd', 'message': 'Add documentation for Auth Receipts and MFA\n\nAdds API ref examples for TOTP and Auth receipts.\n\nAdds docs for MFA and changes some of the user options\ndocs.\n\nChange-Id: Id5497064e580093e4a2c7d904670a58095833b3b\n'}, {'number': 6, 'created': '2019-01-18 02:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/36c3ace8d8e765b8002dba7ec238f5b40f8fe060', 'message': 'Add documentation for Auth Receipts and MFA\n\nAdds API ref examples for TOTP and Auth receipts.\n\nAdds docs for MFA and changes some of the user options\ndocs.\n\nChange-Id: Id5497064e580093e4a2c7d904670a58095833b3b\n'}, {'number': 7, 'created': '2019-01-18 02:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7c3ccff27fab94fbfd859ffd60abfba3b6b2a4c1', 'message': 'Add documentation for Auth Receipts and MFA\n\nAdds API ref examples for TOTP and Auth receipts.\n\nAdds docs for MFA and changes some of the user options\ndocs.\n\nChange-Id: Id5497064e580093e4a2c7d904670a58095833b3b\n'}, {'number': 8, 'created': '2019-01-21 22:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5634122a82e76d2bcf13aba63328af365bd7df76', 'message': 'Add documentation for Auth Receipts and MFA\n\nAdds API ref examples for TOTP and Auth receipts.\n\nAdds docs for MFA and changes some of the user options\ndocs.\n\nChange-Id: Id5497064e580093e4a2c7d904670a58095833b3b\n'}, {'number': 9, 'created': '2019-01-22 02:36:40.000000000', 'files': ['doc/source/user/multi-factor-authentication.rst', 'doc/source/user/index.rst', 'doc/source/admin/resource-options.rst', 'doc/source/admin/authentication-mechanisms.rst', 'doc/source/admin/multi-factor-authentication.rst', 'api-ref/source/v3/status.yaml', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/auth/responses/project-scoped-password-totp.json', 'doc/source/admin/auth-totp.rst', 'api-ref/source/v3/samples/auth/requests/project-id-totp.json', 'api-ref/source/v3/samples/auth/responses/auth-receipt-password.json', 'doc/source/admin/security-compliance.rst', 'api-ref/source/v3/authenticate-v3.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6564b40641101135c85f25b12e1209d66e816a52', 'message': 'Add documentation for Auth Receipts and MFA\n\nAdds API ref examples for TOTP and Auth receipts.\n\nAdds docs for MFA and changes some of the user options\ndocs.\n\nChange-Id: Id5497064e580093e4a2c7d904670a58095833b3b\n'}]",22,580535,6564b40641101135c85f25b12e1209d66e816a52,33,5,9,10420,,,0,"Add documentation for Auth Receipts and MFA

Adds API ref examples for TOTP and Auth receipts.

Adds docs for MFA and changes some of the user options
docs.

Change-Id: Id5497064e580093e4a2c7d904670a58095833b3b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/35/580535/8 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/auth/responses/auth-receipt-password.json', 'api-ref/source/v3/authenticate-v3.inc', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/auth/responses/project-scoped-password-totp.json', 'api-ref/source/v3/samples/auth/requests/project-id-totp.json']",5,dd71c5b9e0df6c3ef36008e0053ebf989014bb68,new/mfa_docs,"{ ""auth"": { ""identity"": { ""methods"": [ ""totp"" ], ""totp"": { ""user"": { ""id"": ""ee4dfb6e5540447cb3741905149d9b6e"", ""passcode"": ""123456"" } } }, ""scope"": { ""project"": { ""id"": ""a6944d763bf64ee6a275f1263fae0352"" } } } } ",,365,3
openstack%2Fwatcher~master~I9ae1c0232450c1960e55b067cb398e90bef02835,openstack/watcher,master,I9ae1c0232450c1960e55b067cb398e90bef02835,Add storage balance job,MERGED,2019-01-25 01:31:08.000000000,2019-01-25 03:27:06.000000000,2019-01-25 03:27:05.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 01:31:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/dff99bdaa86cd0034632ddef7152b229234a7a8d', 'message': 'Add storage balance job\n\nChange-Id: I9ae1c0232450c1960e55b067cb398e90bef02835\n'}]",0,633097,dff99bdaa86cd0034632ddef7152b229234a7a8d,6,2,1,21692,,,0,"Add storage balance job

Change-Id: I9ae1c0232450c1960e55b067cb398e90bef02835
",git fetch https://review.opendev.org/openstack/watcher refs/changes/97/633097/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dff99bdaa86cd0034632ddef7152b229234a7a8d,storage_balance_job, name: watcher-tempest-storage_balance parent: watcher-tempest-multinode voting: false vars: tempest_test_regex: watcher_tempest_plugin.tests.scenario.test_execute_storage_balance - job:,,7,0
openstack%2Foctavia~master~I9ee0cce12a975f4ab8f3df2707b355aab35c6cb3,openstack/octavia,master,I9ee0cce12a975f4ab8f3df2707b355aab35c6cb3,Fix prefix for vip_ipv6,MERGED,2018-10-13 19:51:28.000000000,2019-01-25 03:17:57.000000000,2019-01-25 00:46:09.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 15309}, {'_account_id': 22348}, {'_account_id': 25058}]","[{'number': 1, 'created': '2018-10-13 19:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9e8e50cceb0e3951eaa5d6be90a2fc2b0448bb31', 'message': 'Fix prefix for vip_ipv6\n\nCurrently we calculate prefix based on netmask when writing the vip\ninterface file. Since netmask has been converted to prefix in ipv6,\nthis patch avoids converting it to prefix twice which will result\nin a wrong prefix length.\n\nChange-Id: I9ee0cce12a975f4ab8f3df2707b355aab35c6cb3\n'}, {'number': 2, 'created': '2018-10-15 18:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c9df0844f94246e157f39b16e0110da6321ec070', 'message': 'Fix prefix for vip_ipv6\n\nCurrently we calculate prefix based on netmask when writing the vip\ninterface file. Since netmask has been converted to prefix in ipv6,\nthis patch avoids converting it to prefix twice which will result\nin a wrong prefix length.\n\nChange-Id: I9ee0cce12a975f4ab8f3df2707b355aab35c6cb3\n'}, {'number': 3, 'created': '2018-10-15 20:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/643eda9f63ed5dba542778e7556aa4d1f3fea132', 'message': 'Fix prefix for vip_ipv6\n\nCurrently we calculate prefix based on netmask when writing the vip\ninterface file. Since netmask has been converted to prefix in ipv6,\nthis patch will avoid converting it to prefix twice which could\nresult in a wrong prefix length.\n\nChange-Id: I9ee0cce12a975f4ab8f3df2707b355aab35c6cb3\n'}, {'number': 4, 'created': '2018-12-15 00:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5aa31924c93fdc9aae148e286846cc9316100abc', 'message': 'Fix prefix for vip_ipv6\n\nCurrently we calculate prefix based on netmask when writing the vip\ninterface file. Since netmask has been converted to prefix in ipv6,\nthis patch will avoid converting it to prefix twice which could\nresult in a wrong prefix length.\n\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nChange-Id: I9ee0cce12a975f4ab8f3df2707b355aab35c6cb3\n'}, {'number': 5, 'created': '2018-12-15 00:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2b9489132532e732cda459d32780e5b73a6c4973', 'message': ""Fix prefix for vip_ipv6\n\nCurrently we calculate prefix based on netmask when writing the vip\ninterface file. Since netmask has been converted to prefix in ipv6,\nthis patch will avoid converting it to prefix twice which could\nresult in a wrong prefix length.\n\nAlso fix a bug in another test that relies on osutils, but wasn't\nmocking correctly.\n\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nChange-Id: I9ee0cce12a975f4ab8f3df2707b355aab35c6cb3\n""}, {'number': 6, 'created': '2018-12-15 08:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/056850e0ab6d2f8cc22e8fb43be990225c011067', 'message': ""Fix prefix for vip_ipv6\n\nCurrently we calculate prefix based on netmask when writing the vip\ninterface file. Since netmask has been converted to prefix in ipv6,\nthis patch will avoid converting it to prefix twice which could\nresult in a wrong prefix length.\n\nAlso fix a bug in another test that relies on osutils, but wasn't\nmocking correctly.\n\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nChange-Id: I9ee0cce12a975f4ab8f3df2707b355aab35c6cb3\n""}, {'number': 7, 'created': '2018-12-18 21:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/76890af6d2e4a245a0b043c5345fe1f65bd8793a', 'message': ""Fix prefix for vip_ipv6\n\nCurrently we calculate prefix based on netmask when writing the vip\ninterface file. Since netmask has been converted to prefix in ipv6,\nthis patch will avoid converting it to prefix twice which could\nresult in a wrong prefix length.\n\nAlso fix a bug in another test that relies on osutils, but wasn't\nmocking correctly.\n\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nChange-Id: I9ee0cce12a975f4ab8f3df2707b355aab35c6cb3\n""}, {'number': 8, 'created': '2019-01-07 20:58:20.000000000', 'files': ['octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b2162c39a2017b12a59d2be745958a5fe3ad6403', 'message': ""Fix prefix for vip_ipv6\n\nCurrently we calculate prefix based on netmask when writing the vip\ninterface file. Since netmask has been converted to prefix in ipv6,\nthis patch will avoid converting it to prefix twice which could\nresult in a wrong prefix length.\n\nAlso fix a bug in another test that relies on osutils, but wasn't\nmocking correctly.\n\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nChange-Id: I9ee0cce12a975f4ab8f3df2707b355aab35c6cb3\n""}]",0,610284,b2162c39a2017b12a59d2be745958a5fe3ad6403,40,7,8,28159,,,0,"Fix prefix for vip_ipv6

Currently we calculate prefix based on netmask when writing the vip
interface file. Since netmask has been converted to prefix in ipv6,
this patch will avoid converting it to prefix twice which could
result in a wrong prefix length.

Also fix a bug in another test that relies on osutils, but wasn't
mocking correctly.

Co-Authored-By: Adam Harwell <flux.adam@gmail.com>
Change-Id: I9ee0cce12a975f4ab8f3df2707b355aab35c6cb3
",git fetch https://review.opendev.org/openstack/octavia refs/changes/84/610284/8 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/agent/api_server/osutils.py'],1,9e8e50cceb0e3951eaa5d6be90a2fc2b0448bb31,fix-netmask," # netmask has been converted to prefix for ipv6 prefix=(netmask if ip.version == 6 else utils.netmask_to_prefix(netmask)),"," prefix=utils.netmask_to_prefix(netmask),",3,1
openstack%2Fneutron~master~Ib675d7bf399f2aa7eba9d343fa0f06281d33089a,openstack/neutron,master,Ib675d7bf399f2aa7eba9d343fa0f06281d33089a,Add lock_path in installation guide,MERGED,2019-01-22 08:48:45.000000000,2019-01-25 03:12:50.000000000,2019-01-23 22:14:00.000000000,"[{'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-22 08:48:45.000000000', 'files': ['doc/source/install/controller-install-option1-ubuntu.rst', 'doc/source/install/controller-install-option2-ubuntu.rst', 'doc/source/install/controller-install-option1-obs.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/controller-install-option2-obs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/534e85039271d91647173527cd4c4905b9532537', 'message': 'Add lock_path in installation guide\n\nOslo_concurrency needs lock_path option, make it consistent in\ndocumentation for Suse, Redhat and Ubuntu installation guides.\n\nChange-Id: Ib675d7bf399f2aa7eba9d343fa0f06281d33089a\nRelated-Bug: #1796976\nCloses-Bug: #1812497\n'}]",2,632316,534e85039271d91647173527cd4c4905b9532537,11,7,1,8313,,,0,"Add lock_path in installation guide

Oslo_concurrency needs lock_path option, make it consistent in
documentation for Suse, Redhat and Ubuntu installation guides.

Change-Id: Ib675d7bf399f2aa7eba9d343fa0f06281d33089a
Related-Bug: #1796976
Closes-Bug: #1812497
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/632316/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/controller-install-option1-ubuntu.rst', 'doc/source/install/controller-install-option2-ubuntu.rst', 'doc/source/install/controller-install-option1-obs.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/controller-install-option2-obs.rst']",5,534e85039271d91647173527cd4c4905b9532537,bug/1812497," * In the ``[oslo_concurrency]`` section, configure the lock path: .. path /etc/neutron/neutron.conf .. code-block:: ini [oslo_concurrency] # ... lock_path = /var/lib/neutron/tmp .. end ",,60,0
openstack%2Fneutron~stable%2Focata~Icc555050283420fddfb90bb67e02bc303e989e27,openstack/neutron,stable/ocata,Icc555050283420fddfb90bb67e02bc303e989e27,protect DHCP agent cache out of sync,MERGED,2019-01-21 13:07:16.000000000,2019-01-25 03:09:03.000000000,2019-01-24 02:09:40.000000000,"[{'_account_id': 1131}, {'_account_id': 2733}, {'_account_id': 4694}, {'_account_id': 6593}, {'_account_id': 16376}, {'_account_id': 17685}, {'_account_id': 19307}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-21 13:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8d4a4191a89c0d373528d7c1a31db6798ceacae', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCo-Authored-By: doreilly@suse.com\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\n(cherry picked from commit b05bfe917a282fa56ad4f6abbf700865d0d6b665)\n""}, {'number': 2, 'created': '2019-01-21 17:22:29.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5737eb531771771478e62fc04443f90a63e8e58', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCo-Authored-By: doreilly@suse.com\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\n(cherry picked from commit ffbf65126fcd25ca242e5512b6e30cb7a1b4ef37)\n""}]",0,632085,a5737eb531771771478e62fc04443f90a63e8e58,22,10,2,2733,,,0,"protect DHCP agent cache out of sync

If DHCP agent port cache is out of sync with neutron server, dnsmasq
entries are wrong and VMs may not acquire an IP because of duplicate
entries.

When DHCP agent executes port_create_end method, port's
IP should be checked before being used, if there are duplicate IP
addresses in the same network in the cache we should resync.

Co-Authored-By: doreilly@suse.com
Closes-Bug: #1645835

Change-Id: Icc555050283420fddfb90bb67e02bc303e989e27
(cherry picked from commit ffbf65126fcd25ca242e5512b6e30cb7a1b4ef37)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/632085/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,b8d4a4191a89c0d373528d7c1a31db6798ceacae,bug/1645835," self.reload_allocations_p = mock.patch.object(self.dhcp, 'reload_allocations') self.reload_allocations = self.reload_allocations_p.start() payload = dict(port=copy.deepcopy(fake_port2)) self.reload_allocations.assert_called_once_with(fake_port2, fake_network) def test_reload_allocations(self): self.cache.get_port_by_id.return_value = fake_port2 self.dhcp.reload_allocations(fake_port2, fake_network) self.cache.assert_has_calls([mock.call.put_port(mock.ANY)]) def test_port_create_end(self): self.reload_allocations_p = mock.patch.object(self.dhcp, 'reload_allocations') self.reload_allocations = self.reload_allocations_p.start() payload = dict(port=copy.deepcopy(fake_port2)) self.cache.get_network_by_id.return_value = fake_network self.dhcp.port_create_end(None, payload) self.reload_allocations.assert_called_once_with(fake_port2, fake_network) def test_port_create_duplicate_ip_on_dhcp_agents_same_network(self): self.cache.get_network_by_id.return_value = fake_network payload = dict(port=copy.deepcopy(fake_port2)) duplicate_ip = fake_port1['fixed_ips'][0]['ip_address'] payload['port']['fixed_ips'][0]['ip_address'] = duplicate_ip self.dhcp.port_create_end(None, payload) self.schedule_resync.assert_called_once_with(mock.ANY, fake_port2.network_id) "," payload = dict(port=fake_port2) self.cache.get_port_by_id.return_value = fake_port2 self.cache.assert_has_calls( [mock.call.get_network_by_id(fake_port2.network_id), mock.call.put_port(mock.ANY)])",79,34
openstack%2Fmonasca-analytics~master~I4fc6f3710d453de20714cc749bf8969c47d2f4a9,openstack/monasca-analytics,master,I4fc6f3710d453de20714cc749bf8969c47d2f4a9,Update links in README,ABANDONED,2018-08-18 20:35:19.000000000,2019-01-25 03:04:32.000000000,,"[{'_account_id': 12193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-18 20:35:19.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/monasca-analytics/commit/94c8e8814e3cd5c3a06d27de065a1a5c9bfb855e', 'message': 'Update links in README\n\nChange the outdated links to the latest links in README.\n\nChange-Id: I4fc6f3710d453de20714cc749bf8969c47d2f4a9\n'}]",0,593355,94c8e8814e3cd5c3a06d27de065a1a5c9bfb855e,5,2,1,17130,,,0,"Update links in README

Change the outdated links to the latest links in README.

Change-Id: I4fc6f3710d453de20714cc749bf8969c47d2f4a9
",git fetch https://review.opendev.org/openstack/monasca-analytics refs/changes/55/593355/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,94c8e8814e3cd5c3a06d27de065a1a5c9bfb855e,readme,[![Team and repository tags](https://governance.openstack.org/tc/badges/monasca-analytics.svg)](https://governance.openstack.org/tc/reference/tags/index.html),[![Team and repository tags](https://governance.openstack.org/badges/monasca-analytics.svg)](https://governance.openstack.org/reference/tags/index.html),1,1
openstack%2Fpycadf~master~I6a6487335852a71c3f5591c9bfc7acd6bd14cd0d,openstack/pycadf,master,I6a6487335852a71c3f5591c9bfc7acd6bd14cd0d,Add release note for MD5 hash removal,MERGED,2019-01-24 16:59:45.000000000,2019-01-25 02:52:40.000000000,2019-01-25 02:52:40.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 16:59:45.000000000', 'files': ['releasenotes/notes/md5-removal-005f5c7a1038443f.yaml'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/4398b7d34e40f250a42e2ba537ca995a8c37376d', 'message': 'Add release note for MD5 hash removal\n\nThe use of MD5 was removed in Icaeb3305c788db2913fe99792ea6311d218b3410.\nThis just adds a release note to communicate that to consumers.\n\nChange-Id: I6a6487335852a71c3f5591c9bfc7acd6bd14cd0d\n'}]",0,633037,4398b7d34e40f250a42e2ba537ca995a8c37376d,8,3,1,6928,,,0,"Add release note for MD5 hash removal

The use of MD5 was removed in Icaeb3305c788db2913fe99792ea6311d218b3410.
This just adds a release note to communicate that to consumers.

Change-Id: I6a6487335852a71c3f5591c9bfc7acd6bd14cd0d
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/37/633037/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/md5-removal-005f5c7a1038443f.yaml'],1,4398b7d34e40f250a42e2ba537ca995a8c37376d,md5-reno,--- security: - | MD5 is no longer used as a hashing mechanism internally. This is not expected to have any external impact as it only changes how random identifiers are generated. ,,6,0
openstack%2Fpuppet-keystone~master~I95a5982097529f119d99f0e7c77ac53d62da5733,openstack/puppet-keystone,master,I95a5982097529f119d99f0e7c77ac53d62da5733,Deprecate keystone::token_driver,MERGED,2019-01-23 15:16:36.000000000,2019-01-25 02:48:31.000000000,2019-01-25 02:48:30.000000000,"[{'_account_id': 9414}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 15:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/ba7cc63f3ff6531f6c509e0ce1be8b6ecc7f2410', 'message': 'Deprecate keystone::token_driver\n\nThis config option in Keystone was deprecated for\nremoval since the Pike release and was removed in\nthe Rocky release.\n\nWe used this value to determine if the appropriate\nmemcache package was required which is causing issues\nwhen puppet-oslo with manage_memcache_package is set to true\n(default value is true).\n\nThis deprecates this parameter and removes the memcache\npackage installation logic which is superceeded by the\noslo::cache class since Rocky release.\n\nChange-Id: I95a5982097529f119d99f0e7c77ac53d62da5733\n'}, {'number': 2, 'created': '2019-01-24 09:14:03.000000000', 'files': ['releasenotes/notes/remove-token_driver-fbe7964f9c58d42d.yaml', 'manifests/init.pp', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/9f8d2341e40457ba9b2540fd49ea5e5d2a0ea6c5', 'message': 'Deprecate keystone::token_driver\n\nThis config option in Keystone was deprecated for\nremoval since the Pike release and was removed in\nthe Rocky release.\n\nWe used this value to determine if the appropriate\nmemcache package was required which is causing issues\nwhen puppet-oslo with manage_memcache_package is set to true\n(default value is true).\n\nThis deprecates this parameter and removes the memcache\npackage installation logic which is superceeded by the\noslo::cache class since Rocky release.\n\nDepends-On: https://review.openstack.org/#/c/632962/\nChange-Id: I95a5982097529f119d99f0e7c77ac53d62da5733\n'}]",0,632749,9f8d2341e40457ba9b2540fd49ea5e5d2a0ea6c5,13,5,2,16137,,,0,"Deprecate keystone::token_driver

This config option in Keystone was deprecated for
removal since the Pike release and was removed in
the Rocky release.

We used this value to determine if the appropriate
memcache package was required which is causing issues
when puppet-oslo with manage_memcache_package is set to true
(default value is true).

This deprecates this parameter and removes the memcache
package installation logic which is superceeded by the
oslo::cache class since Rocky release.

Depends-On: https://review.openstack.org/#/c/632962/
Change-Id: I95a5982097529f119d99f0e7c77ac53d62da5733
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/49/632749/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-token_driver-fbe7964f9c58d42d.yaml', 'manifests/init.pp', 'spec/classes/keystone_init_spec.rb']",3,ba7cc63f3ff6531f6c509e0ce1be8b6ecc7f2410,remove-token_driver,," 'token_driver' => 'sql', 'token_driver' => 'kvs', it 'should contain correct token driver' do is_expected.to contain_keystone_config('token/driver').with_value(param_hash['token_driver']) end 'token_driver' => 'memcache', it { if facts[:os_package_type] == 'debian' pkg = 'python3-memcache' else pkg = 'python-memcache' end is_expected.to contain_package('python-memcache').with( :name => pkg, :ensure => 'present' ) } 'token_driver' => 'noop', it { is_expected.not_to contain_package('python-memcache') } 'token_driver' => 'memcache', it { is_expected.to contain_package('python-memcache').with( :name => 'python-memcache', :ensure => 'present' ) }",23,40
openstack%2Fneutron~master~If7644d46f7c02234083e5816d78f0f03de2a1c23,openstack/neutron,master,If7644d46f7c02234083e5816d78f0f03de2a1c23,Not set HA router gateway port ACTIVE before election,ABANDONED,2018-12-27 17:27:05.000000000,2019-01-25 02:44:06.000000000,,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-12-27 17:27:05.000000000', 'files': ['neutron/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2517c3b2e6ca726fa96b6bcc8b4323f780429b8f', 'message': 'Not set HA router gateway port ACTIVE before election\n\nHA gateway port should be set to ACTIVE only after a\nVRRP master election.\n\nChange-Id: If7644d46f7c02234083e5816d78f0f03de2a1c23\nRelated-Bug: #1798475\n'}]",5,627546,2517c3b2e6ca726fa96b6bcc8b4323f780429b8f,9,6,1,9531,,,0,"Not set HA router gateway port ACTIVE before election

HA gateway port should be set to ACTIVE only after a
VRRP master election.

Change-Id: If7644d46f7c02234083e5816d78f0f03de2a1c23
Related-Bug: #1798475
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/627546/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_db.py']",4,2517c3b2e6ca726fa96b6bcc8b4323f780429b8f,bug/1798475, def _get_router_gateway_device_owner(self): return DEVICE_OWNER_ROUTER_GW ,,16,0
openstack%2Ftripleo-upgrade~master~I08e9abfc9a39a4ca50e5c747f65b2953d34ccbfa,openstack/tripleo-upgrade,master,I08e9abfc9a39a4ca50e5c747f65b2953d34ccbfa,Switch to more specific include modules for upgrades.,MERGED,2019-01-22 09:31:15.000000000,2019-01-25 02:41:48.000000000,2019-01-25 02:41:48.000000000,"[{'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-01-22 09:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3f0c280635e4847faef314ace2d807b4624e03d1', 'message': 'Switch to more specific include modules for upgrades.\n\nInclude has some unintuitive behaviours depending on\nif it is running in a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours move to a new set of modules:\n  include_tasks, include_role, import_playbook, import_tasks.\n\nChange-Id: I08e9abfc9a39a4ca50e5c747f65b2953d34ccbfa\n'}, {'number': 2, 'created': '2019-01-22 13:04:03.000000000', 'files': ['tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/571d6b0b5b4ecbec86f72a4c4d606cf425b67dee', 'message': 'Switch to more specific include modules for upgrades.\n\nInclude has some unintuitive behaviours depending on\nif it is running in a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours move to a new set of modules:\n  include_tasks, include_role, import_playbook, import_tasks.\n\nChange-Id: I08e9abfc9a39a4ca50e5c747f65b2953d34ccbfa\n'}]",0,632348,571d6b0b5b4ecbec86f72a4c4d606cf425b67dee,12,5,2,21537,,,0,"Switch to more specific include modules for upgrades.

Include has some unintuitive behaviours depending on
if it is running in a static or dynamic in play or in playbook context,
in an effort to clarify behaviours move to a new set of modules:
  include_tasks, include_role, import_playbook, import_tasks.

Change-Id: I08e9abfc9a39a4ca50e5c747f65b2953d34ccbfa
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/48/632348/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml']",2,3f0c280635e4847faef314ace2d807b4624e03d1,upgrade-include-replace, include_tasks: ../common/adjust-roles-data.yaml, include: ../common/adjust-roles-data.yaml,19,12
openstack%2Ftripleo-upgrade~master~Ib7ec62a4e8311c4da2af85e30eb33184d05a046f,openstack/tripleo-upgrade,master,Ib7ec62a4e8311c4da2af85e30eb33184d05a046f,Switch to more specific include statements.,MERGED,2019-01-21 15:46:45.000000000,2019-01-25 02:41:48.000000000,2019-01-25 02:41:47.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-01-21 15:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/591ce6c448e6b675c276c24b2ee9a3a24c2d6378', 'message': ""Switch to more specific include* statements for undercloud.\n\nInclude has some unintuitive behaviours depending on if it is running\nin a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours we are moving to a new set modules:\n include_tasks, include_role, import_playbook, import_tasks\nAlso this one might got deprecated so let's switch to more specific\n modules from generic 'include'.\n\nChange-Id: Ib7ec62a4e8311c4da2af85e30eb33184d05a046f\n""}, {'number': 2, 'created': '2019-01-21 16:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/93ba3c2260b5659e69d5aeeab4dc57c680dbc998', 'message': ""Switch to more specific include* statements for undercloud.\n\nInclude has some unintuitive behaviours depending on if it is running\nin a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours we are moving to a new set modules:\n include_tasks, include_role, import_playbook, import_tasks.\nAlso this one might got deprecated so let switch to more specific\n modules from generic 'include'.\n\nChange-Id: Ib7ec62a4e8311c4da2af85e30eb33184d05a046f\n""}, {'number': 3, 'created': '2019-01-22 07:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/297b5e5e2e844f0c2494bf04a1143374994f423d', 'message': 'Switch to more specific include statements for undercloud.\n\nInclude has some unintuitive behaviours depending on if it is running\nin a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours we are moving to a new set modules:\n include_tasks, include_role, import_playbook, import_tasks.\nAlso this one might got deprecated so let switch to more specific\n modules from generic.\n\nChange-Id: Ib7ec62a4e8311c4da2af85e30eb33184d05a046f\n'}, {'number': 4, 'created': '2019-01-22 08:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/009e9cfd6dc2345576e9934c05b99b451f5c678d', 'message': 'Switch to more specific include statements for undercloud.\n\nInclude has some unintuitive behaviours depending on if it is running\nin a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours we are moving to a new set modules:\n include_tasks, include_role, import_playbook, import_tasks.\nAlso this one might got deprecated so let switch to more specific\n modules from generic.\n\nChange-Id: Ib7ec62a4e8311c4da2af85e30eb33184d05a046f\n'}, {'number': 5, 'created': '2019-01-22 08:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7bb842078c4858b00f94e51a183f344e4af2a509', 'message': 'Switch to more specific include statements for undercloud.\n\nInclude has some unintuitive behaviours depending on if it is running\nin a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours we are moving to a new set modules:\n include_tasks, include_role, import_playbook, import_tasks.\nAlso this one might got deprecated so let switch to more specific\n modules from generic.\n\nChange-Id: Ib7ec62a4e8311c4da2af85e30eb33184d05a046f\n'}, {'number': 6, 'created': '2019-01-22 09:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4b422823288028fd5a67a0b8631d72994dc1959f', 'message': 'Switch to more specific include statements.\n\nInclude has some unintuitive behaviours depending on if it is running\nin a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours we are moving to a new set modules:\n include_tasks, include_role, import_playbook, import_tasks.\nAlso this one might got deprecated so let switch to more specific\n modules from generic.\n\nChange-Id: Ib7ec62a4e8311c4da2af85e30eb33184d05a046f\n'}, {'number': 7, 'created': '2019-01-22 09:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ab943d6bb6e7bcfc1831ff91e7d94b19e406d433', 'message': 'Switch to more specific include statements.\n\nInclude has some unintuitive behaviours depending on if it is running\nin a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours we are moving to a new set modules:\n include_tasks, include_role, import_playbook, import_tasks.\nAlso this one might got deprecated so let switch to more specific\n modules from generic.\n\nChange-Id: Ib7ec62a4e8311c4da2af85e30eb33184d05a046f\n'}, {'number': 8, 'created': '2019-01-22 12:57:38.000000000', 'files': ['tasks/upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2ff51bd816fae612611f8d0f1163f15447ddf1aa', 'message': 'Switch to more specific include statements.\n\nInclude has some unintuitive behaviours depending on if it is running\nin a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours we are moving to a new set modules:\n include_tasks, include_role, import_playbook, import_tasks.\nAlso this one might got deprecated so let switch to more specific\n modules from generic.\n\nChange-Id: Ib7ec62a4e8311c4da2af85e30eb33184d05a046f\n'}]",0,632113,2ff51bd816fae612611f8d0f1163f15447ddf1aa,18,6,8,21537,,,0,"Switch to more specific include statements.

Include has some unintuitive behaviours depending on if it is running
in a static or dynamic in play or in playbook context,
in an effort to clarify behaviours we are moving to a new set modules:
 include_tasks, include_role, import_playbook, import_tasks.
Also this one might got deprecated so let switch to more specific
 modules from generic.

Change-Id: Ib7ec62a4e8311c4da2af85e30eb33184d05a046f
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/13/632113/8 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/main.yml'],1,591ce6c448e6b675c276c24b2ee9a3a24c2d6378,ucupg-include-replace, include_tasks: file: create-undercloud-upgrade-scripts.yaml tags: create_undercloud_upgrade_scripts import_tasks: configure_uc_containers.yml import_tasks: ../common/undercloud_validate_upgrade.yaml, include: create-undercloud-upgrade-scripts.yaml include: configure_uc_containers.yml include: ../common/undercloud_validate_upgrade.yaml,5,3
openstack%2Foctavia~master~Ia57724c231c10efad9cee46be4969fa276fff8b1,openstack/octavia,master,Ia57724c231c10efad9cee46be4969fa276fff8b1,Update api-ref for tag filtering,MERGED,2019-01-22 00:55:05.000000000,2019-01-25 02:37:43.000000000,2019-01-25 02:37:43.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6732}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 00:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d7e4ea2623b5933c68aa4cd04b6decb37b2d1bd5', 'message': 'Update api-ref for tag filtering\n\nThis patch also updates the API version to 2.5 to represent the tags\nsupport.\n\nChange-Id: Ia57724c231c10efad9cee46be4969fa276fff8b1\nCo-Authored-By: Lingxian Kong <anlin.kong@gmail.com>\n'}, {'number': 2, 'created': '2019-01-22 00:55:19.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/v2/general.inc', 'releasenotes/notes/add-api-tag-filtering-8bfb3c3b7cfd6afe.yaml', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/api/root_controller.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fb0bbb98269f735177b00afe605946b439871acd', 'message': 'Update api-ref for tag filtering\n\nThis patch also updates the API version to 2.5 to represent the tags\nsupport.\n\nChange-Id: Ia57724c231c10efad9cee46be4969fa276fff8b1\nCo-Authored-By: Lingxian Kong <anlin.kong@gmail.com>\n'}]",1,632191,fb0bbb98269f735177b00afe605946b439871acd,17,5,2,11628,,,0,"Update api-ref for tag filtering

This patch also updates the API version to 2.5 to represent the tags
support.

Change-Id: Ia57724c231c10efad9cee46be4969fa276fff8b1
Co-Authored-By: Lingxian Kong <anlin.kong@gmail.com>
",git fetch https://review.opendev.org/openstack/octavia refs/changes/91/632191/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/v2/general.inc', 'releasenotes/notes/add-api-tag-filtering-8bfb3c3b7cfd6afe.yaml', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/api/root_controller.py']",5,d7e4ea2623b5933c68aa4cd04b6decb37b2d1bd5,support-tags-filtering," # Tags self._add_a_version(versions, 'v2.5', 'v2', 'CURRENT', '2019-01-21T00:00:00Z', host_url)",,67,2
openstack%2Fkeystone~master~I7172acd1aca427cea46df67dbbf4c9c7da5d406d,openstack/keystone,master,I7172acd1aca427cea46df67dbbf4c9c7da5d406d,Fix list projects for federated user,ABANDONED,2019-01-22 21:59:14.000000000,2019-01-25 02:23:48.000000000,,"[{'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 7725}, {'_account_id': 8482}, {'_account_id': 8911}, {'_account_id': 11022}, {'_account_id': 13063}, {'_account_id': 14981}, {'_account_id': 15054}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 21:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5065d8ae03e90a0ebc10abf37d416dca753dd3df', 'message': 'Fix list projects for user\n\nAccording to the documentation[0] the ""List projects for user"" returns\nprojects to which the user has authorization to access.\nBut in the current implementation It returns only project where the\nuser has assigned rolea. When the user also can have an access to the\nprojects through the roles assigned to the groups.\nTo fix this problem the `UserProjectsResource` should combine the outputs\nof the `list_projects_for_user` and `list_projects_for_groups` as it was\ndone for the `AuthProjectsResource`[1].\n\n[0] https://developer.openstack.org/api-ref/identity/v3/index.html?expanded=list-projects-for-user-detail#list-projects-for-user\n[1] https://github.com/openstack/keystone/blob/5c70aef2dacf801ccc147be4450e5985f545a855/keystone/api/auth.py#L116\n\nChange-Id: I7172acd1aca427cea46df67dbbf4c9c7da5d406d\nTODO: unittests; release note\n'}, {'number': 2, 'created': '2019-01-23 05:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b3f569d88ebf18faad85cae6ed23dcfbf4f41a3a', 'message': 'Fix list projects for user\n\nAccording to the documentation[0] the ""List projects for user"" returns\nprojects to which the user has authorization to access.\nBut in the current implementation It returns only project where the\nuser has assigned rolea. When the user also can have an access to the\nprojects through the roles assigned to the groups.\nTo fix this problem the `UserProjectsResource` should combine the outputs\nof the `list_projects_for_user` and `list_projects_for_groups` as it was\ndone for the `AuthProjectsResource`[1].\n\n[0] https://developer.openstack.org/api-ref/identity/v3/index.html?expanded=list-projects-for-user-detail#list-projects-for-user\n[1] https://github.com/openstack/keystone/blob/5c70aef2dacf801ccc147be4450e5985f545a855/keystone/api/auth.py#L116\n\nChange-Id: I7172acd1aca427cea46df67dbbf4c9c7da5d406d\n'}, {'number': 3, 'created': '2019-01-23 05:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4848c5b3db838d4b351ab72ece2c244f03e1e037', 'message': 'Fix list projects for user\n\nAccording to the documentation[0] the ""List projects for user"" returns\nprojects to which the user has authorization to access.\nBut in the current implementation It returns only project where the\nuser has assigned rolea. When the user also can have an access to the\nprojects through the roles assigned to the groups.\nTo fix this problem the `UserProjectsResource` should combine the outputs\nof the `list_projects_for_user` and `list_projects_for_groups` as it was\ndone for the `AuthProjectsResource`[1].\n\n[0] https://developer.openstack.org/api-ref/identity/v3/index.html?expanded=list-projects-for-user-detail#list-projects-for-user\n[1] https://github.com/openstack/keystone/blob/5c70aef2dacf801ccc147be4450e5985f545a855/keystone/api/auth.py#L116\n\nChange-Id: I7172acd1aca427cea46df67dbbf4c9c7da5d406d\n'}, {'number': 4, 'created': '2019-01-25 00:41:36.000000000', 'files': ['keystone/api/users.py', 'keystone/assignment/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/84adebd6f20958e4ad2a709778d8affd2a723e28', 'message': 'Fix list projects for federated user\n\nAccording to the documentation[0] the ""List projects for user"" returns\nprojects to which the user has authorization to access.\nBut in the current implementation It doesn\'t return projects for\nfederated users.\nTo fix this problem the `list_projects_for_user` function should take\ngroup_ids from auth_context and combine the outputs of the\n`list_role_assignments` function called for user and group_ids.\n\nTODO:\n    * unit tests\n    * bug report\n\n[0] https://developer.openstack.org/api-ref/identity/v3/index.html?expanded=list-projects-for-user-detail#list-projects-for-user\n\nChange-Id: I7172acd1aca427cea46df67dbbf4c9c7da5d406d\n'}]",3,632565,84adebd6f20958e4ad2a709778d8affd2a723e28,13,13,4,8911,,,0,"Fix list projects for federated user

According to the documentation[0] the ""List projects for user"" returns
projects to which the user has authorization to access.
But in the current implementation It doesn't return projects for
federated users.
To fix this problem the `list_projects_for_user` function should take
group_ids from auth_context and combine the outputs of the
`list_role_assignments` function called for user and group_ids.

TODO:
    * unit tests
    * bug report

[0] https://developer.openstack.org/api-ref/identity/v3/index.html?expanded=list-projects-for-user-detail#list-projects-for-user

Change-Id: I7172acd1aca427cea46df67dbbf4c9c7da5d406d
",git fetch https://review.opendev.org/openstack/keystone refs/changes/65/632565/3 && git format-patch -1 --stdout FETCH_HEAD,['keystone/api/users.py'],1,5065d8ae03e90a0ebc10abf37d416dca753dd3df,list_projects,"def _combine_lists_uniquely(a, b): # it's most likely that only one of these will be filled so avoid # the combination if possible. if a and b: return {x['id']: x for x in a + b}.values() else: return a or b group_ids = self.auth_context.get('group_ids') user_p_refs = PROVIDERS.assignment_api.list_projects_for_user(user_id) grp_p_refs = [] if group_ids: grp_p_refs = PROVIDERS.assignment_api.list_projects_for_groups( group_ids) refs = _combine_lists_uniquely(user_p_refs, grp_p_refs) ", refs = PROVIDERS.assignment_api.list_projects_for_user(user_id),20,1
openstack%2Fmasakari-monitors~master~I54212d350184924b84b596432b38ce22fc29dcf2,openstack/masakari-monitors,master,I54212d350184924b84b596432b38ce22fc29dcf2,"Fix the misspelling of ""default""",NEW,2019-01-10 09:32:16.000000000,2019-01-25 02:22:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-01-10 09:32:16.000000000', 'files': ['masakarimonitors/processmonitor/processmonitor.sh'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/3fc0927e67b6888ddaee0111535d442d176a49d3', 'message': 'Fix the misspelling of ""default""\n\nChange-Id: I54212d350184924b84b596432b38ce22fc29dcf2\n'}]",0,629811,3fc0927e67b6888ddaee0111535d442d176a49d3,3,2,1,29721,,,0,"Fix the misspelling of ""default""

Change-Id: I54212d350184924b84b596432b38ce22fc29dcf2
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/11/629811/1 && git format-patch -1 --stdout FETCH_HEAD,['masakarimonitors/processmonitor/processmonitor.sh'],1,3fc0927e67b6888ddaee0111535d442d176a49d3,,# PROCESS_CHECK_INTERVAL (default : 60),# PROCESS_CHECK_INTERVAL (defualt : 60),1,1
openstack%2Fmasakari-monitors~master~I64514ec7f327f71d1bcfabde4084d8ac79748517,openstack/masakari-monitors,master,I64514ec7f327f71d1bcfabde4084d8ac79748517,"Fix the misspelling of ""default""",NEW,2019-01-10 09:31:35.000000000,2019-01-25 02:21:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-01-10 09:31:35.000000000', 'files': ['masakarimonitors/hostmonitor/hostmonitor.sh'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/f7ef6aa68da7643d631a9f84f64a1f9c87e9a0a8', 'message': 'Fix the misspelling of ""default""\n\nChange-Id: I64514ec7f327f71d1bcfabde4084d8ac79748517\n'}]",0,629810,f7ef6aa68da7643d631a9f84f64a1f9c87e9a0a8,3,2,1,29721,,,0,"Fix the misspelling of ""default""

Change-Id: I64514ec7f327f71d1bcfabde4084d8ac79748517
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/10/629810/1 && git format-patch -1 --stdout FETCH_HEAD,['masakarimonitors/hostmonitor/hostmonitor.sh'],1,f7ef6aa68da7643d631a9f84f64a1f9c87e9a0a8,,# MONITOR_INTERVAL (default : 60) # NOTICE_TIMEOUT (default : 10),# MONITOR_INTERVAL (defualt : 60) # NOTICE_TIMEOUT (defualt : 10),2,2
openstack%2Fmurano-dashboard~master~I204a4dc969da2c46d8b5bbf252025336e5e09634,openstack/murano-dashboard,master,I204a4dc969da2c46d8b5bbf252025336e5e09634,Remove the unused experimental job,MERGED,2019-01-24 08:23:02.000000000,2019-01-25 02:19:11.000000000,2019-01-25 02:19:11.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 08:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/3ffe7afbdd7ddf22bcea25a0e707c0599cf5343e', 'message': 'Remove the unused experimental job\n\nChange-Id: I204a4dc969da2c46d8b5bbf252025336e5e09634\n'}, {'number': 2, 'created': '2019-01-25 00:33:06.000000000', 'files': ['playbooks/legacy/dashboard-dsvm-selenium-package/run.yaml', 'playbooks/legacy/dashboard-dsvm-selenium-package/post.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/d123d1aca2e98e37fd67e2d5f4c8698ce71eaab2', 'message': 'Remove the unused experimental job\n\nChange-Id: I204a4dc969da2c46d8b5bbf252025336e5e09634\n'}]",0,632952,d123d1aca2e98e37fd67e2d5f4c8698ce71eaab2,8,2,2,14107,,,0,"Remove the unused experimental job

Change-Id: I204a4dc969da2c46d8b5bbf252025336e5e09634
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/52/632952/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/dashboard-dsvm-selenium-package/run.yaml', 'playbooks/legacy/dashboard-dsvm-selenium-package/post.yaml', '.zuul.yaml']",3,3ffe7afbdd7ddf22bcea25a0e707c0599cf5343e,,, experimental: jobs: - murano-dashboard-selenium-package - job: name: murano-dashboard-selenium-package parent: legacy-dsvm-base run: playbooks/dashboard-dsvm-selenium-package/run.yaml post-run: playbooks/dashboard-dsvm-selenium-package/post.yaml timeout: 7800 required-projects: - openstack-infra/devstack-gate - openstack/murano - openstack/murano-dashboard - openstack/python-muranoclient,0,162
openstack%2Fneutron~master~Id51f2abaf3c8d57abdd06f024120da526ed40185,openstack/neutron,master,Id51f2abaf3c8d57abdd06f024120da526ed40185,"Revert ""Skip ovsdb_monitor events for ports with ofport=-1""",MERGED,2019-01-19 23:14:41.000000000,2019-01-25 02:07:13.000000000,2019-01-24 00:14:49.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6873}, {'_account_id': 9531}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25618}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-01-19 23:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/82748d46656ffbefc1952c5dd314f571cc6bef7f', 'message': 'Revert ""Skip ovsdb_monitor events for ports with ofport=-1""\n\nFor now I just want to check if tempest-slow job and shelve/unshelve\ntests will work without this patch.\n\nThis reverts commit f8e0a497ad6a36fa0d9510cda9e7344c2ed73763.\n\nChange-Id: Id51f2abaf3c8d57abdd06f024120da526ed40185\n'}, {'number': 2, 'created': '2019-01-20 10:02:11.000000000', 'files': ['neutron/agent/common/ovsdb_monitor.py', 'neutron/tests/unit/agent/common/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1fa9529ee6753e2a3f47e4a6eb0286118520d25', 'message': 'Revert ""Skip ovsdb_monitor events for ports with ofport=-1""\n\nThis patch cause some race condition in neutron-ovs-agent\nand tempest-slow job was failing quite often.\nPlease see related bug report for details.\n\nCloses-Bug: #1812552\n\nThis reverts commit f8e0a497ad6a36fa0d9510cda9e7344c2ed73763.\n\nChange-Id: Id51f2abaf3c8d57abdd06f024120da526ed40185\n'}]",0,631944,f1fa9529ee6753e2a3f47e4a6eb0286118520d25,50,13,2,11975,,,0,"Revert ""Skip ovsdb_monitor events for ports with ofport=-1""

This patch cause some race condition in neutron-ovs-agent
and tempest-slow job was failing quite often.
Please see related bug report for details.

Closes-Bug: #1812552

This reverts commit f8e0a497ad6a36fa0d9510cda9e7344c2ed73763.

Change-Id: Id51f2abaf3c8d57abdd06f024120da526ed40185
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/631944/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovsdb_monitor.py', 'neutron/tests/unit/agent/common/test_ovsdb_monitor.py']",2,82748d46656ffbefc1952c5dd314f571cc6bef7f,bug/1808171,," def process_event_invalid_of_port(self): output = '{""data"":[[""e040fbec-0579-4990-8324-d338da33ae88"",""insert"",' output += '""m50"",-1,[""map"",[]]]],""headings"":[""row"",""action"",' output += '""name"",""ofport"",""external_ids""]}' with mock.patch.object( self.monitor, 'iter_stdout', return_value=[output]): self.monitor.process_events() self.assertEqual([], self.monitor.new_events['added'])",0,15
openstack%2Fnetworking-ovn~stable%2Frocky~I900e847851d10f7faf474b70eaecb47b2b016a24,openstack/networking-ovn,stable/rocky,I900e847851d10f7faf474b70eaecb47b2b016a24,functional: Use different IP addresses for every fake chassis,MERGED,2019-01-22 11:51:12.000000000,2019-01-25 02:05:20.000000000,2019-01-25 02:05:20.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 11:51:12.000000000', 'files': ['networking_ovn/tests/functional/test_impl_idl.py', 'networking_ovn/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/aae9344330ca81cc9a9405a300dd7d0c5d74d085', 'message': ""functional: Use different IP addresses for every fake chassis\n\nAs of OVS 2.11, the SB schema changed to not allow having two\nEncap rows with the same (ip, type) pairs. Some of our\nfunctional tests need more than one chassis and they all get\ncreated with the same (ip, type) values so they'll fail.\n\nThis patch changes it so that a new IP address is used every\ntime we create a fake chassis. It shouldn't have any impact\nas ovn-controller is not running so tunnels won't be created\nanyways.\n\nChange-Id: I900e847851d10f7faf474b70eaecb47b2b016a24\nCloses-Bug: #1810292\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 0cdd7ad8fe38c263b480b849d625a1ac94bea26a)\n""}]",0,632437,aae9344330ca81cc9a9405a300dd7d0c5d74d085,28,4,1,23804,,,0,"functional: Use different IP addresses for every fake chassis

As of OVS 2.11, the SB schema changed to not allow having two
Encap rows with the same (ip, type) pairs. Some of our
functional tests need more than one chassis and they all get
created with the same (ip, type) values so they'll fail.

This patch changes it so that a new IP address is used every
time we create a fake chassis. It shouldn't have any impact
as ovn-controller is not running so tunnels won't be created
anyways.

Change-Id: I900e847851d10f7faf474b70eaecb47b2b016a24
Closes-Bug: #1810292
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 0cdd7ad8fe38c263b480b849d625a1ac94bea26a)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/37/632437/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/functional/test_impl_idl.py', 'networking_ovn/tests/functional/base.py']",2,aae9344330ca81cc9a9405a300dd7d0c5d74d085,bug/1810292," _counter = 0 # We'll be using different IP addresses every time for the Encap of # the fake chassis as the SB schema doesn't allow to have two entries # with same (ip,type) pairs as of OVS 2.11. This shouldn't have any # impact as the tunnels won't get created anyways since ovn-controller # is not running. Ideally we shouldn't be creating more than 255 # fake chassis but from the SB db point of view, 'ip' column can be # any string so we could add entries with ip='172.24.4.1000'. self._counter += 1 name, ['geneve'], '172.24.4.%d' % self._counter, external_ids=external_ids, hostname=host).execute(check_error=True)"," name, ['geneve'], '172.24.4.10', external_ids=external_ids, hostname=host).execute(check_error=True)",13,4
openstack%2Fsenlin~master~Idf4e04621c812c3a7aa53e9fd402b2ec3081fa89,openstack/senlin,master,Idf4e04621c812c3a7aa53e9fd402b2ec3081fa89,Add action_purge to senlin-manage,MERGED,2019-01-17 21:37:38.000000000,2019-01-25 01:50:52.000000000,2019-01-25 01:50:51.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23709}, {'_account_id': 25674}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-01-17 21:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/32bc185ae05bbdaca30a3d82ee05ee75f2132ce6', 'message': ""Add action_purge to senlin-manage\n\nThis patch add the action_purge subcommand to senlin-manage.\n\nThis subcommand is used to purge the specified action records\nin senlin's database.\n\nChange-Id: Idf4e04621c812c3a7aa53e9fd402b2ec3081fa89\n""}, {'number': 2, 'created': '2019-01-18 21:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/c435c9f4994fe794f1ce5f8e8c87f5c625d4a46b', 'message': ""Add action_purge to senlin-manage\n\nThis patch add the action_purge subcommand to senlin-manage.\n\nThis subcommand is used to purge the specified action records\nin senlin's database.\n\nChange-Id: Idf4e04621c812c3a7aa53e9fd402b2ec3081fa89\n""}, {'number': 3, 'created': '2019-01-23 02:42:35.000000000', 'files': ['releasenotes/notes/action-purge-11db5d8018b8389a.yaml', 'senlin/db/api.py', 'senlin/cmd/manage.py', 'doc/source/reference/man/senlin-manage.rst', 'senlin/tests/unit/db/test_action_api.py', 'senlin/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/3770d11a5ff053107ae45b7566c705c1038e0c72', 'message': ""Add action_purge to senlin-manage\n\nThis patch add the action_purge subcommand to senlin-manage.\n\nThis subcommand is used to purge the specified action records\nin senlin's database.\n\nChange-Id: Idf4e04621c812c3a7aa53e9fd402b2ec3081fa89\n""}]",1,631652,3770d11a5ff053107ae45b7566c705c1038e0c72,14,6,3,25674,,,0,"Add action_purge to senlin-manage

This patch add the action_purge subcommand to senlin-manage.

This subcommand is used to purge the specified action records
in senlin's database.

Change-Id: Idf4e04621c812c3a7aa53e9fd402b2ec3081fa89
",git fetch https://review.opendev.org/openstack/senlin refs/changes/52/631652/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/action-purge-11db5d8018b8389a.yaml', 'senlin/cmd/manage.py', 'senlin/db/api.py', 'doc/source/reference/man/senlin-manage.rst', 'senlin/tests/unit/db/test_action_api.py', 'senlin/db/sqlalchemy/api.py']",6,32bc185ae05bbdaca30a3d82ee05ee75f2132ce6,action_purge,"@retry_on_deadlock def action_purge(project, granularity='days', age=30): with session_for_write() as session: query = session.query(models.Action).with_for_update() if project is not None: query = query.filter(models.Action.project.in_(project)) if granularity is not None and age is not None: if granularity == 'days': age = age * 86400 elif granularity == 'hours': age = age * 3600 elif granularity == 'minutes': age = age * 60 time_line = timeutils.utcnow() - datetime.timedelta(seconds=age) query = query.filter(models.Action.created_at < time_line) # Get dependants to delete for d in query.all(): q = session.query(models.ActionDependency).filter_by(depended=d.id) q.delete(synchronize_session='fetch') return query.delete(synchronize_session='fetch') ",,114,0
openstack%2Fdevstack~master~I81301eeecc7669a169deeb1e2c5d298a595aab94,openstack/devstack,master,I81301eeecc7669a169deeb1e2c5d298a595aab94,Restrict database access to nova-compute in singleconductor mode,MERGED,2019-01-18 15:44:20.000000000,2019-01-25 01:41:55.000000000,2019-01-21 16:50:07.000000000,"[{'_account_id': 1653}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-18 15:44:20.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/82537871376afe98a286e1ba424cf192ae60869a', 'message': 'Restrict database access to nova-compute in singleconductor mode\n\nChange I4820abe57a023050dd8d067c77e26028801ff288 removed access\nto the database for the nova-compute process but only in\nsuperconductor mode. Grenade runs in singleconductor mode though\nso we are getting tracebacks in nova-compute logs during grenade\nruns because nova-compute is running with nova.conf which is\nconfigured with access to the nova API database.\n\nThis change handles removing database access for nova-compute\ngenerically to cover both the singleconductor and superconductor\ncases.\n\nChange-Id: I81301eeecc7669a169deeb1e2c5d298a595aab94\nCloses-Bug: #1812398\n'}]",1,631811,82537871376afe98a286e1ba424cf192ae60869a,15,10,1,6873,,,0,"Restrict database access to nova-compute in singleconductor mode

Change I4820abe57a023050dd8d067c77e26028801ff288 removed access
to the database for the nova-compute process but only in
superconductor mode. Grenade runs in singleconductor mode though
so we are getting tracebacks in nova-compute logs during grenade
runs because nova-compute is running with nova.conf which is
configured with access to the nova API database.

This change handles removing database access for nova-compute
generically to cover both the singleconductor and superconductor
cases.

Change-Id: I81301eeecc7669a169deeb1e2c5d298a595aab94
Closes-Bug: #1812398
",git fetch https://review.opendev.org/openstack/devstack refs/changes/11/631811/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,82537871376afe98a286e1ba424cf192ae60869a,bug/1812398, cp $compute_cell_conf $NOVA_CPU_CONF # Make sure we nuke any database config inidelete $NOVA_CPU_CONF database connection inidelete $NOVA_CPU_CONF api_database connection , NOVA_CPU_CONF=$compute_cell_conf cp $compute_cell_conf $NOVA_CPU_CONF # Make sure we nuke any database config inidelete $NOVA_CPU_CONF database connection inidelete $NOVA_CPU_CONF api_database connection,6,5
openstack%2Fneutron~master~Ib5aa976258876fe7ffc6f2de0ff2a4057a92fcda,openstack/neutron,master,Ib5aa976258876fe7ffc6f2de0ff2a4057a92fcda,Update team and bug ownership info,MERGED,2018-10-19 15:11:43.000000000,2019-01-25 01:37:03.000000000,2019-01-19 03:27:25.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7249}, {'_account_id': 9531}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-10-19 15:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/255494d14b3a9ac43f370036af17a59a8dbde190', 'message': ""Update team and bug ownership info\n\nIhar and Jakub shouldn't be listed as contacts, did some\nother cleanups too.\n\nChange-Id: Ib5aa976258876fe7ffc6f2de0ff2a4057a92fcda\n""}, {'number': 2, 'created': '2019-01-18 16:46:00.000000000', 'files': ['doc/source/contributor/policies/bugs.rst', 'doc/source/contributor/policies/neutron-teams.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd57088b36e5ec43511f6e288ed383955ee5c63c', 'message': ""Update team and bug ownership info\n\nIhar and Jakub shouldn't be listed as contacts, did some\nother cleanups too.\n\nChange-Id: Ib5aa976258876fe7ffc6f2de0ff2a4057a92fcda\n""}]",7,611901,fd57088b36e5ec43511f6e288ed383955ee5c63c,26,13,2,1131,,,0,"Update team and bug ownership info

Ihar and Jakub shouldn't be listed as contacts, did some
other cleanups too.

Change-Id: Ib5aa976258876fe7ffc6f2de0ff2a4057a92fcda
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/611901/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/policies/bugs.rst', 'doc/source/contributor/policies/neutron-teams.rst']",2,255494d14b3a9ac43f370036af17a59a8dbde190,611901,| DB | Nate Johnston | njohnston || Infra | Slawek Kaplonski | slawek || +---------------------------+----------------------+| +---------------------------+----------------------+ | | Yulong Liu | liuyulong || Testing | Hongbin Lu | hongbin |,| DB | Ann Taraday | ataraday || +---------------------------+----------------------+ | | Abhishek Raut | abhiraut || Infra | Ihar Hrachyshka | ihrachys | | +---------------------------+----------------------+ | | Armando Migliaccio | armax |+ +---------------------------+----------------------+| Testing | Jakub Libosvar | jlibosva |,17,18
openstack%2Fwatcher-dashboard~master~I8ef441f277a1ebb707906e8c159585bac95192d6,openstack/watcher-dashboard,master,I8ef441f277a1ebb707906e8c159585bac95192d6,Update hacking version,MERGED,2019-01-04 15:26:28.000000000,2019-01-25 01:31:58.000000000,2019-01-25 01:31:58.000000000,"[{'_account_id': 21691}, {'_account_id': 21692}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-04 15:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/147f84de5ffc3e8902dd66b90664a1c014ceeb6b', 'message': 'Update hacking version to latest\n\nChange-Id: I8ef441f277a1ebb707906e8c159585bac95192d6\n'}, {'number': 2, 'created': '2019-01-21 02:18:52.000000000', 'files': ['test-requirements.txt', 'watcher_dashboard/test/settings.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/5242ffbaa2e647e46c9214ff888b0402d25aa697', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: I8ef441f277a1ebb707906e8c159585bac95192d6\n'}]",0,628489,5242ffbaa2e647e46c9214ff888b0402d25aa697,12,4,2,28614,,,0,"Update hacking version

Use latest release 1.1.0 and compatible changes w.r.t pep8

Change-Id: I8ef441f277a1ebb707906e8c159585bac95192d6
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/89/628489/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,147f84de5ffc3e8902dd66b90664a1c014ceeb6b,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",1,1
openstack%2Fwatcher~master~Ibb8299401aef52ed2505f85ad36ec1f8a4227d13,openstack/watcher,master,Ibb8299401aef52ed2505f85ad36ec1f8a4227d13,trivial,MERGED,2019-01-24 08:01:56.000000000,2019-01-25 01:31:57.000000000,2019-01-25 01:31:57.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 08:01:56.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/551f7c8a6aafdadfef7e927a5e68d5b99cbe5392', 'message': 'trivial\n\nChange-Id: Ibb8299401aef52ed2505f85ad36ec1f8a4227d13\n'}]",0,632951,551f7c8a6aafdadfef7e927a5e68d5b99cbe5392,6,2,1,21692,,,0,"trivial

Change-Id: Ibb8299401aef52ed2505f85ad36ec1f8a4227d13
",git fetch https://review.opendev.org/openstack/watcher refs/changes/51/632951/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,551f7c8a6aafdadfef7e927a5e68d5b99cbe5392,trivial, Auto execute action plan once audit is succeeded. Type of this audit. Can only be either ONESHOT or CONTINUOUS., Autoexecute action plan once audit is succeeded. Type of this audit. Can be either ONESHOT or CONTINUOUS.,2,2
openstack%2Fwatcher~master~I0845b3c1a21cf82c3c8ddd30980a7f1b8de57cb7,openstack/watcher,master,I0845b3c1a21cf82c3c8ddd30980a7f1b8de57cb7,Update user guide,MERGED,2019-01-24 09:22:06.000000000,2019-01-25 01:31:56.000000000,2019-01-25 01:31:56.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 09:22:06.000000000', 'files': ['doc/source/user/user-guide.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/121ec6e5322113028703e43737481bfb84839903', 'message': 'Update user guide\n\nChange-Id: I0845b3c1a21cf82c3c8ddd30980a7f1b8de57cb7\n'}]",0,632966,121ec6e5322113028703e43737481bfb84839903,6,2,1,21692,,,0,"Update user guide

Change-Id: I0845b3c1a21cf82c3c8ddd30980a7f1b8de57cb7
",git fetch https://review.opendev.org/openstack/watcher refs/changes/66/632966/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/user-guide.rst'],1,121ec6e5322113028703e43737481bfb84839903,user_guide, $ openstack optimize action list --action-plan <the_action_plan_uuid>, $ openstack optimize action list,1,1
openstack%2Fwatcher~master~I8b314b66af3bd79da06c45c33f5054c292e41fbf,openstack/watcher,master,I8b314b66af3bd79da06c45c33f5054c292e41fbf,Fix E731 error,MERGED,2019-01-24 09:10:18.000000000,2019-01-25 01:31:55.000000000,2019-01-25 01:31:55.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 09:10:18.000000000', 'files': ['watcher/tests/db/test_audit.py', 'watcher/tests/db/test_audit_template.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher/commit/1fba994912110488ac2cd0992d716f003cbb59e2', 'message': 'Fix E731 error\n\nChange-Id: I8b314b66af3bd79da06c45c33f5054c292e41fbf\n'}]",0,632961,1fba994912110488ac2cd0992d716f003cbb59e2,6,2,1,21692,,,0,"Fix E731 error

Change-Id: I8b314b66af3bd79da06c45c33f5054c292e41fbf
",git fetch https://review.opendev.org/openstack/watcher refs/changes/61/632961/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/tests/db/test_audit.py', 'watcher/tests/db/test_audit_template.py', 'tox.ini']",3,1fba994912110488ac2cd0992d716f003cbb59e2,remove_e731,"ignore= H105,E123,E226,N320,H202","ignore= H105,E123,E226,E731,N320,H202",9,3
openstack%2Fneutron-lib~master~Ia3dea82fabe5e068192fbe931db8d341d3d37149,openstack/neutron-lib,master,Ia3dea82fabe5e068192fbe931db8d341d3d37149,New agent attribute: resources_synced,MERGED,2018-12-19 15:25:11.000000000,2019-01-25 01:27:51.000000000,2019-01-25 01:27:51.000000000,"[{'_account_id': 4187}, {'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-19 15:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4413235f89d29a5b183052d5c4a4512470878914', 'message': ""WIP New agent attribute: resources_synced\n\nAgents supporting the guaranteed minimum bandwidth feature need to share\ntheir resource view with neutron-server and in turn with Placement too.\nThe resource information is synchronized to neutron-server via the\nperiodic agent heartbeat therefore transient synchronization errors are\nfixed by the next heartbeat. But synchronization to Placement is not\ndone periodically, but on a (mostly) on demand basis. Therefore to fix\ntransient errors of the synchronization to Placement we must remember\nthe success/failure of the last synchronization attempt.\n\nThis change introduces a new boolean agent attribute: resources_synced\n\nThis attribute is:\n* admin-only (just like the whole agent extension)\n* read-only (it is only updated by the internal synchronization process)\n\nIt this attribute is not set then no synchronization to Placement ever\nhappened (which is the natural state of agents not tracking their\nresources via Placement).\n\nIf it is False, then another successful synchronization is needed before\nthe contents of Placement can be considered up to date.\n\nIf it is True, then this agent's resources are up to date in Placement.\n\nChange-Id: Ia3dea82fabe5e068192fbe931db8d341d3d37149\nNeeded-By: FIXME\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n""}, {'number': 2, 'created': '2019-01-15 14:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d91ede1c5a56bf476ae69c1d6dcbb762f89938b7', 'message': ""New agent attribute: resources_synced\n\nAgents supporting the guaranteed minimum bandwidth feature need to share\ntheir resource view with neutron-server and in turn with Placement too.\nThe resource information is synchronized to neutron-server via the\nperiodic agent heartbeat therefore transient synchronization errors are\nfixed by the next heartbeat. But synchronization to Placement is not\ndone periodically, but on a (mostly) on demand basis. Therefore to fix\ntransient errors of the synchronization to Placement we must remember\nthe success/failure of the last synchronization attempt.\n\nThis change introduces a new boolean agent attribute: resources_synced\n\nThis attribute is:\n* admin-only (just like the whole agent extension)\n* read-only (it is only updated by the internal synchronization process)\n\nIt this attribute is not set then no synchronization to Placement ever\nhappened (which is the natural state of agents not tracking their\nresources via Placement).\n\nIf it is False, then another successful synchronization is needed before\nthe contents of Placement can be considered up to date.\n\nIf it is True, then this agent's resources are up to date in Placement.\n\nChange-Id: Ia3dea82fabe5e068192fbe931db8d341d3d37149\nNeeded-By: https://review.openstack.org/630999\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n""}, {'number': 3, 'created': '2019-01-17 13:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e016529fe2460da86f3ee34022615a46e158c13b', 'message': ""New agent attribute: resources_synced\n\nAgents supporting the guaranteed minimum bandwidth feature need to share\ntheir resource view with neutron-server and in turn with Placement too.\nThe resource information is synchronized to neutron-server via the\nperiodic agent heartbeat therefore transient synchronization errors are\nfixed by the next heartbeat. But synchronization to Placement is not\ndone periodically, but on a (mostly) on demand basis. Therefore to fix\ntransient errors of the synchronization to Placement we must remember\nthe success/failure of the last synchronization attempt.\n\nThis change introduces a new boolean agent attribute: resources_synced\n\nThis attribute is:\n* admin-only (just like the whole agent extension)\n* read-only (it is only updated by the internal synchronization process)\n\nIt this attribute is not set then no synchronization to Placement ever\nhappened (which is the natural state of agents not tracking their\nresources via Placement).\n\nIf it is False, then another successful synchronization is needed before\nthe contents of Placement can be considered up to date.\n\nIf it is True, then this agent's resources are up to date in Placement.\n\nChange-Id: Ia3dea82fabe5e068192fbe931db8d341d3d37149\nNeeded-By: https://review.openstack.org/630999\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n""}, {'number': 4, 'created': '2019-01-18 13:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/171c132069e0484e6d587c2d02a85023c534fbf3', 'message': ""New agent attribute: resources_synced\n\nAgents supporting the guaranteed minimum bandwidth feature need to share\ntheir resource view with neutron-server and in turn with Placement too.\nThe resource information is synchronized to neutron-server via the\nperiodic agent heartbeat therefore transient synchronization errors are\nfixed by the next heartbeat. But synchronization to Placement is not\ndone periodically, but on a (mostly) on demand basis. Therefore to fix\ntransient errors of the synchronization to Placement we must remember\nthe success/failure of the last synchronization attempt.\n\nThis change introduces a new boolean agent attribute: resources_synced\n\nThis attribute is:\n* admin-only (just like the whole agent extension)\n* read-only (it is only updated by the internal synchronization process)\n\nIt this attribute is not set then no synchronization to Placement ever\nhappened (which is the natural state of agents not tracking their\nresources via Placement).\n\nIf it is False, then another successful synchronization is needed before\nthe contents of Placement can be considered up to date.\n\nIf it is True, then this agent's resources are up to date in Placement.\n\nChange-Id: Ia3dea82fabe5e068192fbe931db8d341d3d37149\nNeeded-By: https://review.openstack.org/630999\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n""}, {'number': 5, 'created': '2019-01-23 15:56:01.000000000', 'files': ['neutron_lib/api/definitions/agent_resources_synced.py', 'api-ref/source/v2/samples/agents/agents-list-response.json', 'neutron_lib/tests/unit/api/definitions/test_agent_resources_synced.py', 'api-ref/source/v2/parameters.yaml', 'releasenotes/notes/agent-resources-synced-e70828841faf7acd.yaml', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/agents.inc', 'neutron_lib/api/definitions/base.py', 'api-ref/source/v2/samples/agents/agent-update-response.json', 'api-ref/source/v2/samples/agents/agent-show-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5dcccd2c668a0ae62aa04a6a5f3e390fb56e0053', 'message': ""New agent attribute: resources_synced\n\nAgents supporting the guaranteed minimum bandwidth feature need to share\ntheir resource view with neutron-server and in turn with Placement too.\nThe resource information is synchronized to neutron-server via the\nperiodic agent heartbeat therefore transient synchronization errors are\nfixed by the next heartbeat. But synchronization to Placement is not\ndone periodically, but on a (mostly) on demand basis. Therefore to fix\ntransient errors of the synchronization to Placement we must remember\nthe success/failure of the last synchronization attempt.\n\nThis change introduces a new boolean agent attribute: resources_synced\n\nThis attribute is:\n* admin-only (just like the whole agent extension)\n* read-only (it is only updated by the internal synchronization process)\n\nIf this attribute is not set then no synchronization to Placement ever\nhappened (which is the natural state of agents not tracking their\nresources via Placement).\n\nIf it is False, then another successful synchronization is needed before\nthe contents of Placement can be considered up to date.\n\nIf it is True, then this agent's resources are up to date in Placement.\n\nChange-Id: Ia3dea82fabe5e068192fbe931db8d341d3d37149\nNeeded-By: https://review.openstack.org/630999\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n""}]",20,626210,5dcccd2c668a0ae62aa04a6a5f3e390fb56e0053,35,7,5,15554,,,0,"New agent attribute: resources_synced

Agents supporting the guaranteed minimum bandwidth feature need to share
their resource view with neutron-server and in turn with Placement too.
The resource information is synchronized to neutron-server via the
periodic agent heartbeat therefore transient synchronization errors are
fixed by the next heartbeat. But synchronization to Placement is not
done periodically, but on a (mostly) on demand basis. Therefore to fix
transient errors of the synchronization to Placement we must remember
the success/failure of the last synchronization attempt.

This change introduces a new boolean agent attribute: resources_synced

This attribute is:
* admin-only (just like the whole agent extension)
* read-only (it is only updated by the internal synchronization process)

If this attribute is not set then no synchronization to Placement ever
happened (which is the natural state of agents not tracking their
resources via Placement).

If it is False, then another successful synchronization is needed before
the contents of Placement can be considered up to date.

If it is True, then this agent's resources are up to date in Placement.

Change-Id: Ia3dea82fabe5e068192fbe931db8d341d3d37149
Needed-By: https://review.openstack.org/630999
Partial-Bug: #1578989
See-Also: https://review.openstack.org/502306 (nova spec)
See-Also: https://review.openstack.org/508149 (neutron spec)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/10/626210/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/agent_resources_synced.py', 'neutron_lib/tests/unit/api/definitions/test_agent_resources_synced.py', 'releasenotes/notes/agent-resources-synced-e70828841faf7acd.yaml', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/base.py']",5,4413235f89d29a5b183052d5c4a4512470878914,minimum-bandwidth-allocation-placement-api," 'agent-resources-synced',",,77,0
openstack%2Fneutron~master~I170113c2946cc95308edcb1a703a99c71e50b6f9,openstack/neutron,master,I170113c2946cc95308edcb1a703a99c71e50b6f9,Add a new configuration parameter rpc_response_max_timeout,MERGED,2018-12-19 08:09:38.000000000,2019-01-25 01:26:33.000000000,2019-01-18 18:19:52.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 28961}, {'_account_id': 29344}, {'_account_id': 29446}]","[{'number': 1, 'created': '2018-12-19 08:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e8083feccf5b9846dc2a414999a538ddce68990', 'message': 'Add a new configuration parameter rpc_max_timeout\n\nA new parameter rpc_max_timeout is added and registered into neutron.conf.\n\nThe rpc_max_timeout plays a role of the ceiling of timeout seconds when\nwaiting for the response of a remote rpc server.\n\nDuring an RPC call, the waiting time starts from the existing parameter\nrpc_response_timeout(default 60s) and doubled each time until it reaches\nthe ceiling which is currently set as 10 times rpc_response_timeout.\nIt seems to be less flexible since user cannot directly change the\nceiling value unless he/she changes the rpc_response_timeout. By adding\nrpc_max_timeout, user can now modify it without changing the any other\nparameters.\n\nCo-Authored-By: Allain Legacy<Allain.legacy@windriver.com>\n\nChange-Id: I170113c2946cc95308edcb1a703a99c71e50b6f9\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n'}, {'number': 2, 'created': '2018-12-19 08:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1845de0b6799ca0abb11af2954a07ce408ebba87', 'message': 'Add a new configuration parameter rpc_max_timeout\n\nA new parameter rpc_max_timeout is added and registered into neutron.conf.\n\nThe rpc_max_timeout plays a role of the ceiling of timeout seconds when\nwaiting for the response of a remote rpc server.\n\nDuring an RPC call, the waiting time starts from the existing parameter\nrpc_response_timeout(default 60s) and doubled each time until it reaches\nthe ceiling which is currently set as 10 times rpc_response_timeout.\nIt seems to be less flexible since user cannot directly change the\nceiling value unless he/she changes the rpc_response_timeout. By adding\nrpc_max_timeout, user can now modify it without changing the any other\nparameters.\n\nCo-Authored-By: Allain Legacy<Allain.legacy@windriver.com>\n\nChange-Id: I170113c2946cc95308edcb1a703a99c71e50b6f9\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n'}, {'number': 3, 'created': '2018-12-20 07:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7a4590df70ca7a18110cbd71382ca2646ab4048', 'message': 'Add a new configuration parameter rpc_response_max_timeout\n\nA new parameter rpc_response_max_timeout is added and registered into neutron.conf.\n\nThe rpc_response_max_timeout plays a role of the ceiling of timeout seconds when\nwaiting for the response of a remote rpc server.\n\nDuring an RPC call, the waiting time starts from the existing parameter\nrpc_response_timeout(default 60s) and doubled each time until it reaches\nthe ceiling which is currently set as 10 times rpc_response_timeout.\nIt seems to be less flexible since user cannot directly change the\nceiling value unless he/she changes the rpc_response_timeout. By adding\nrpc_response_max_timeout, user can now modify it without changing the any other\nparameters.\n\nCo-Authored-By: Allain Legacy<Allain.legacy@windriver.com>\n\nChange-Id: I170113c2946cc95308edcb1a703a99c71e50b6f9\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n'}, {'number': 4, 'created': '2018-12-21 01:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e188c3ec02526b2e8d3d0df8302a5adb680c3480', 'message': 'Add a new configuration parameter rpc_max_timeout\n\nA new parameter rpc_max_timeout is added and registered into\nneutron.conf.\n\nThe rpc_max_timeout plays a role of the ceiling of timeout seconds when\nwaiting for the response of a remote rpc server.\n\nDuring an RPC call, the waiting time starts from the existing parameter\nrpc_response_timeout(default 60s) and doubled each time until it reaches\nthe ceiling which is currently set as 10 times rpc_response_timeout.\nIt seems to be less flexible since user cannot directly change the\nceiling value unless he/she changes the rpc_response_timeout.\nBy adding rpc_max_timeout, user can now modify it without changing\nthe any other parameters.\n\nCo-Authored-By: Allain Legacy<Allain.legacy@windriver.com>\n\nChange-Id: I170113c2946cc95308edcb1a703a99c71e50b6f9\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n'}, {'number': 5, 'created': '2018-12-21 01:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/37ba7920bc2a6c9bbbbf777045f260ed94eeb69f', 'message': 'Add a new configuration parameter rpc_max_timeout\n\nA new parameter rpc_max_timeout is added and registered into\nneutron.conf.\n\nThe rpc_max_timeout plays a role of the ceiling of timeout seconds when\nwaiting for the response of a remote rpc server.\n\nDuring an RPC call, the waiting time starts from the existing parameter\nrpc_response_timeout(default 60s) and doubled each time until it reaches\nthe ceiling which is currently set as 10 times rpc_response_timeout.\nIt seems to be less flexible since user cannot directly change the\nceiling value unless he/she changes the rpc_response_timeout.\nBy adding rpc_max_timeout, user can now modify it without changing\nany other parameters.\n\nCo-Authored-By: Allain Legacy<Allain.legacy@windriver.com>\n\nChange-Id: I170113c2946cc95308edcb1a703a99c71e50b6f9\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n'}, {'number': 6, 'created': '2018-12-25 01:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac2f0aeb07ad2e16831925fa0ef34aef60b8b431', 'message': 'Add a new configuration parameter rpc_max_timeout\n\nA new parameter rpc_max_timeout is added and registered into\nneutron.conf.\n\nThe rpc_max_timeout plays a role of the ceiling of timeout seconds when\nwaiting for the response of a remote rpc server.\n\nDuring an RPC call, the waiting time starts from the existing parameter\nrpc_response_timeout(default 60s) and doubled each time until it reaches\nthe ceiling which is currently set as 10 times rpc_response_timeout.\nIt seems to be less flexible since user cannot directly change the\nceiling value unless he/she changes the rpc_response_timeout.\nBy adding rpc_max_timeout, user can now modify it without changing\nany other parameters.\n\nCo-Authored-By: Allain Legacy<Allain.legacy@windriver.com>\n\nChange-Id: I170113c2946cc95308edcb1a703a99c71e50b6f9\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n'}, {'number': 7, 'created': '2018-12-26 08:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc503ced59cbd1176a81d8b0f2c9d39e91396d92', 'message': 'Add a new configuration parameter rpc_max_timeout\n\nA new parameter rpc_max_timeout is added and registered into\nneutron.conf.\n\nThe rpc_max_timeout plays a role of the ceiling of timeout seconds when\nwaiting for the response of a remote rpc server.\n\nDuring an RPC call, the waiting time starts from the existing parameter\nrpc_response_timeout(default 60s) and doubled each time until it reaches\nthe ceiling which is currently set as 10 times rpc_response_timeout.\nIt seems to be less flexible since user cannot directly change the\nceiling value unless he/she changes the rpc_response_timeout.\nBy adding rpc_max_timeout, user can now modify it without changing\nany other parameters.\n\nCo-Authored-By: Allain Legacy<Allain.legacy@windriver.com>\n\nChange-Id: I170113c2946cc95308edcb1a703a99c71e50b6f9\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n'}, {'number': 8, 'created': '2018-12-28 02:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad343712e20ec01dd6818a6f4d703312c500d766', 'message': 'Add a new configuration parameter rpc_max_timeout\n\nA new parameter rpc_max_timeout is added and registered into\nneutron.conf.\n\nThe rpc_response_max_timeout plays a role of the ceiling of timeout \nseconds when waiting for the response of an rpc server.\n\nDuring an RPC call, the waiting time starts from the existing parameter\nrpc_response_response_timeout(default 60s) and doubled each time until \nit reaches the ceiling which is currently set as 10 times \nrpc_response_timeout. It seems to be less flexible since user cannot \ndirectly change the ceiling value unless he/she changes the \nrpc_response_timeout. By adding rpc_response_max_timeout, user can now \nmodify it without changing any other parameters.\n\nCo-Authored-By: Allain Legacy<Allain.legacy@windriver.com>\n\nChange-Id: I170113c2946cc95308edcb1a703a99c71e50b6f9\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n'}, {'number': 9, 'created': '2018-12-30 01:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d80095f7220a4a93d8459c27a461a34a99bbe346', 'message': 'Add a new configuration parameter rpc_response_max_timeout\n\nA new parameter rpc_response_max_timeout is added and registered into\nneutron.conf.\n\nThe rpc_response_max_timeout plays a role of the ceiling of timeout\nseconds when waiting for the response of a remote rpc server.\n\nDuring an RPC call, the waiting time starts from the existing parameter\nrpc_response_timeout(default 60s) and doubled each time until it reaches\nthe ceiling which is currently set as 10 times rpc_response_timeout.\nIt seems to be less flexible since user cannot directly change the\nceiling value unless he/she changes the rpc_response_timeout.\nBy adding rpc_response_max_timeout, user can now modify it without\nchanging any other parameters.\n\nCo-Authored-By: Allain Legacy<Allain.legacy@windriver.com>\n\nChange-Id: I170113c2946cc95308edcb1a703a99c71e50b6f9\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n'}, {'number': 10, 'created': '2019-01-03 13:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40a8afbb7e4198bf4f71a80f4ec878aaffcedccf', 'message': 'Add a new configuration parameter rpc_response_max_timeout\n\nA new parameter rpc_response_max_timeout is added and registered into\nneutron.conf.\n\nThe rpc_response_max_timeout plays a role of the ceiling of timeout\nseconds when waiting for the response of a remote rpc server.\n\nDuring an RPC call, the waiting time starts from the existing parameter\nrpc_response_timeout(default 60s) and doubled each time until it reaches\nthe ceiling which is currently set as 10 times rpc_response_timeout.\nIt seems to be less flexible since user cannot directly change the\nceiling value unless he/she changes the rpc_response_timeout.\nBy adding rpc_response_max_timeout, user can now modify it without\nchanging any other parameters.\n\nCo-Authored-By: Allain Legacy<Allain.legacy@windriver.com>\n\nChange-Id: I170113c2946cc95308edcb1a703a99c71e50b6f9\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n'}, {'number': 11, 'created': '2019-01-10 05:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/626abfde77f29fa149ccee1f1eb2fb00ed61f498', 'message': 'Add a new configuration parameter rpc_response_max_timeout\n\nA new parameter rpc_response_max_timeout is added and registered into\nneutron.conf.\n\nThe rpc_response_max_timeout plays a role of the ceiling of timeout\nseconds when waiting for the response of a remote rpc server.\n\nDuring an RPC call, the waiting time starts from the existing parameter\nrpc_response_timeout(default 60s) and doubled each time until it reaches\nthe ceiling which is currently set as 10 times rpc_response_timeout.\nIt seems to be less flexible since user cannot directly change the\nceiling value unless he/she changes the rpc_response_timeout.\nBy adding rpc_response_max_timeout, user can now modify it without\nchanging any other parameters.\n\nCo-Authored-By: Allain Legacy<Allain.legacy@windriver.com>\n\nChange-Id: I170113c2946cc95308edcb1a703a99c71e50b6f9\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n'}, {'number': 12, 'created': '2019-01-18 09:55:31.000000000', 'files': ['releasenotes/notes/add-rpc_response_max_timeout-option-cfaad5ef6af31632.yaml', 'neutron/conf/service.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1592c42d9649e8da952021aa1f6e7a4a127cd48', 'message': 'Add a new configuration parameter rpc_response_max_timeout\n\nA new parameter rpc_response_max_timeout is added and registered into\nneutron.conf.\n\nThe rpc_response_max_timeout plays a role of the ceiling of timeout\nseconds when waiting for the response of a remote rpc server.\n\nDuring an RPC call, the waiting time starts from the existing parameter\nrpc_response_timeout(default 60s) and doubled each time until it reaches\nthe ceiling which is currently set as 10 times rpc_response_timeout.\nIt seems to be less flexible since user cannot directly change the\nceiling value unless he/she changes the rpc_response_timeout.\nBy adding rpc_response_max_timeout, user can now modify it without\nchanging any other parameters.\n\nCo-Authored-By: Allain Legacy<Allain.legacy@windriver.com>\n\nChange-Id: I170113c2946cc95308edcb1a703a99c71e50b6f9\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n'}]",21,626109,f1592c42d9649e8da952021aa1f6e7a4a127cd48,132,17,12,29446,,,0,"Add a new configuration parameter rpc_response_max_timeout

A new parameter rpc_response_max_timeout is added and registered into
neutron.conf.

The rpc_response_max_timeout plays a role of the ceiling of timeout
seconds when waiting for the response of a remote rpc server.

During an RPC call, the waiting time starts from the existing parameter
rpc_response_timeout(default 60s) and doubled each time until it reaches
the ceiling which is currently set as 10 times rpc_response_timeout.
It seems to be less flexible since user cannot directly change the
ceiling value unless he/she changes the rpc_response_timeout.
By adding rpc_response_max_timeout, user can now modify it without
changing any other parameters.

Co-Authored-By: Allain Legacy<Allain.legacy@windriver.com>

Change-Id: I170113c2946cc95308edcb1a703a99c71e50b6f9
Related-Bug: #1805769
Story: 2004456
Task: 28171
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/626109/10 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/service.py'],1,6e8083feccf5b9846dc2a414999a538ddce68990,bug/1805769," cfg.IntOpt('rpc_max_timeout', default=600, help='Maximum seconds to wait for a response from a call.'),",,3,0
openstack%2Ftripleo-heat-templates~master~I3d20cd70bd14dc00078d68cd3f9a06353a7ac471,openstack/tripleo-heat-templates,master,I3d20cd70bd14dc00078d68cd3f9a06353a7ac471,container-image-prepare: disable logging on the task,MERGED,2019-01-23 16:09:41.000000000,2019-01-25 01:13:31.000000000,2019-01-25 01:13:31.000000000,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 16:09:41.000000000', 'files': ['puppet/services/container-image-prepare.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9b3111728433db1edea3f3b438f08d508a5c684', 'message': ""container-image-prepare: disable logging on the task\n\nWe already log the output of the tripleo-container-image-prepare\ncommand in ContainerImagePrepareLogFile, there is no need to\nalso have the output in the ansible.log, it's just too much.\n\nChange-Id: I3d20cd70bd14dc00078d68cd3f9a06353a7ac471\n""}]",0,632771,d9b3111728433db1edea3f3b438f08d508a5c684,13,4,1,3153,,,0,"container-image-prepare: disable logging on the task

We already log the output of the tripleo-container-image-prepare
command in ContainerImagePrepareLogFile, there is no need to
also have the output in the ansible.log, it's just too much.

Change-Id: I3d20cd70bd14dc00078d68cd3f9a06353a7ac471
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/632771/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/container-image-prepare.j2.yaml'],1,d9b3111728433db1edea3f3b438f08d508a5c684,silent, no_log: True,,1,0
openstack%2Fcinder~master~I8139fd557cb3123dd71ab104e7e36546b862e345,openstack/cinder,master,I8139fd557cb3123dd71ab104e7e36546b862e345,api-ref: add response body for set-image-metadata-for-a-volume,MERGED,2018-11-06 08:31:10.000000000,2019-01-25 00:37:33.000000000,2019-01-24 11:17:25.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17130}, {'_account_id': 18120}, {'_account_id': 20190}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-11-06 08:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/00b58de635f7ae9a8303197bb8ef5d402b93c0b9', 'message': 'api-ref: add response body for set-image-metadata-for-a-volume\n\nhttps://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=set-image-metadata-for-a-volume-detail#set-image-metadata-for-a-volume\n""Set image metadata for a volume"" interface has response body,\nso this is to add response parameter and response example for it.\n\nChange-Id: I8139fd557cb3123dd71ab104e7e36546b862e345\n'}, {'number': 2, 'created': '2018-12-10 02:16:37.000000000', 'files': ['api-ref/source/v2/samples/volume-image-metadata-update-response.json', 'api-ref/source/v2/volumes-v2-volumes-actions.inc', 'api-ref/source/v3/samples/volume-image-metadata-update-response.json', 'api-ref/source/v3/volumes-v3-volumes-actions.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb10e43782646c54879cf0f6ad3b804b7a23ebb9', 'message': 'api-ref: add response body for set-image-metadata-for-a-volume\n\nhttps://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=set-image-metadata-for-a-volume-detail#set-image-metadata-for-a-volume\n""Set image metadata for a volume"" interface has response body,\nso this is to add response parameter and response example for it.\n\nChange-Id: I8139fd557cb3123dd71ab104e7e36546b862e345\n'}]",2,615774,eb10e43782646c54879cf0f6ad3b804b7a23ebb9,76,38,2,20190,,,0,"api-ref: add response body for set-image-metadata-for-a-volume

https://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=set-image-metadata-for-a-volume-detail#set-image-metadata-for-a-volume
""Set image metadata for a volume"" interface has response body,
so this is to add response parameter and response example for it.

Change-Id: I8139fd557cb3123dd71ab104e7e36546b862e345
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/615774/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/volume-image-metadata-update-response.json', 'api-ref/source/v2/volumes-v2-volumes-actions.inc', 'api-ref/source/v3/samples/volume-image-metadata-update-response.json', 'api-ref/source/v3/volumes-v3-volumes-actions.inc']",4,00b58de635f7ae9a8303197bb8ef5d402b93c0b9,bp/volume-response-schema-validation,Response Parameters ------------------- .. rest_parameters:: parameters.yaml - metadata: metadata_8 Response Example ---------------- .. literalinclude:: ./samples/volume-image-metadata-update-response.json :language: javascript ,,58,0
openstack%2Ftripleo-heat-templates~master~I9fc0758dbe64f3fcf0e990f4253151e9472a6ab6,openstack/tripleo-heat-templates,master,I9fc0758dbe64f3fcf0e990f4253151e9472a6ab6,Enable Glance image_conversion plugin when backend is rbd,MERGED,2019-01-19 09:32:11.000000000,2019-01-25 00:26:06.000000000,2019-01-25 00:26:06.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 19138}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-01-19 09:32:11.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccb242f919a09527ec8414b95dda65e390cab9a2', 'message': ""Enable Glance image_conversion plugin when backend is rbd\n\nCeph can store QCOW2 images but to be able to create Nova guests\nfrom image snapshots the image format must be in RAW format,\notherwise Nova will download the QCOW2 image, convert it locally\nand upload it back into the Ceph pool if the ephemeral storage is\nalso Ceph. This process slows down guest boot especially when\nmultiple guests are booted in parallel and consumes a lot of CPU\nand network resources.\n\nThis change enables the Glance image_conversion plugin when the\nGlance backend is set to 'rbd', which takes care of converting\nthe uploaded images into RAW format automatically when operators\nuse the glance 'import' command.\n\nChange-Id: I9fc0758dbe64f3fcf0e990f4253151e9472a6ab6\n""}]",2,631917,ccb242f919a09527ec8414b95dda65e390cab9a2,20,10,1,6796,,,0,"Enable Glance image_conversion plugin when backend is rbd

Ceph can store QCOW2 images but to be able to create Nova guests
from image snapshots the image format must be in RAW format,
otherwise Nova will download the QCOW2 image, convert it locally
and upload it back into the Ceph pool if the ephemeral storage is
also Ceph. This process slows down guest boot especially when
multiple guests are booted in parallel and consumes a lot of CPU
and network resources.

This change enables the Glance image_conversion plugin when the
Glance backend is set to 'rbd', which takes care of converting
the uploaded images into RAW format automatically when operators
use the glance 'import' command.

Change-Id: I9fc0758dbe64f3fcf0e990f4253151e9472a6ab6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/631917/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,ccb242f919a09527ec8414b95dda65e390cab9a2,glance_import," default: [] rbd_backend_enabled: {equals: [{get_param: GlanceBackend}, rbd]} glance::api::image_import_plugins: if: - rbd_backend_enabled - list_concat_unique: - {get_param: GlanceImageImportPlugins} - ['image_conversion'] - {get_param: GlanceImageImportPlugins}", default: ['no_op'] glance::api::image_import_plugins: {get_param: GlanceImageImportPlugins},9,2
openstack%2Fneutron~master~I800aa23d2dd176db512fb1539639301b87279ae4,openstack/neutron,master,I800aa23d2dd176db512fb1539639301b87279ae4,Migrate neutron-tempest-linuxbridge job to zuulv3 and python 3,MERGED,2018-12-30 11:19:21.000000000,2019-01-25 00:24:18.000000000,2019-01-18 10:40:23.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-12-30 11:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cad97c9228c91688b605b4e40c4a6181019d82bb', 'message': 'Migrate neutron-tempest-linuxbridge job to zuulv3 and python 3\n\nChange-Id: I800aa23d2dd176db512fb1539639301b87279ae4\n'}, {'number': 2, 'created': '2018-12-30 11:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca5ad9bf8ab817e21a71bc542583d32a5484cce4', 'message': 'Migrate neutron-tempest-linuxbridge job to zuulv3 and python 3\n\nChange-Id: I800aa23d2dd176db512fb1539639301b87279ae4\n'}, {'number': 3, 'created': '2018-12-30 15:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc0b656187d294e09f34ab725536853a95996e01', 'message': 'Migrate neutron-tempest-linuxbridge job to zuulv3 and python 3\n\nChange-Id: I800aa23d2dd176db512fb1539639301b87279ae4\n'}, {'number': 4, 'created': '2019-01-02 10:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d697714e34739745bc566fdab80d171e19615240', 'message': 'Migrate neutron-tempest-linuxbridge job to zuulv3 and python 3\n\nChange-Id: I800aa23d2dd176db512fb1539639301b87279ae4\n'}, {'number': 5, 'created': '2019-01-02 10:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d34381c41b0783dbcba52be2d8fc6d3746ed302', 'message': 'Migrate neutron-tempest-linuxbridge job to zuulv3 and python 3\n\nRelated-bug: #1804844\n\nChange-Id: I800aa23d2dd176db512fb1539639301b87279ae4\n'}, {'number': 6, 'created': '2019-01-02 16:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/566b8ab5d030b31a549c1384e35f2c82553350a8', 'message': 'Migrate neutron-tempest-linuxbridge job to zuulv3 and python 3\n\nRelated-bug: #1804844\n\nChange-Id: I800aa23d2dd176db512fb1539639301b87279ae4\n'}, {'number': 7, 'created': '2019-01-07 12:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fa9e0f82853c8202761c8d0a9bfc242264b55a9', 'message': 'Migrate neutron-tempest-linuxbridge job to zuulv3 and python 3\n\nRelated-bug: #1804844\n\nChange-Id: I800aa23d2dd176db512fb1539639301b87279ae4\n'}, {'number': 8, 'created': '2019-01-17 20:07:33.000000000', 'files': ['playbooks/legacy/neutron-tempest-linuxbridge/run.yaml', '.zuul.yaml', 'playbooks/legacy/neutron-tempest-linuxbridge/post.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eacdf1f18fbd819ba737b11309f48278092a8798', 'message': 'Migrate neutron-tempest-linuxbridge job to zuulv3 and python 3\n\nRelated-bug: #1804844\n\nChange-Id: I800aa23d2dd176db512fb1539639301b87279ae4\n'}]",12,627806,eacdf1f18fbd819ba737b11309f48278092a8798,114,10,8,11975,,,0,"Migrate neutron-tempest-linuxbridge job to zuulv3 and python 3

Related-bug: #1804844

Change-Id: I800aa23d2dd176db512fb1539639301b87279ae4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/627806/8 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/neutron-tempest-linuxbridge/run.yaml', 'neutron/tests/contrib/hooks/linuxbridge_type_drivers', 'neutron/tests/contrib/gate_hook.sh', '.zuul.yaml', 'playbooks/legacy/neutron-tempest-linuxbridge/post.yaml']",5,cad97c9228c91688b605b4e40c4a6181019d82bb,bug/1804844,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,10,101
openstack%2Fneutron~master~Icc555050283420fddfb90bb67e02bc303e989e27,openstack/neutron,master,Icc555050283420fddfb90bb67e02bc303e989e27,protect DHCP agent cache out of sync,MERGED,2018-12-20 18:55:27.000000000,2019-01-25 00:23:12.000000000,2019-01-18 12:09:20.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 2733}, {'_account_id': 7016}, {'_account_id': 8871}, {'_account_id': 9373}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 19307}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-12-20 18:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04da171f737141971a84c328aff0b2a48f84ef3e', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnmasq\nentries are wrong and VMs may not acquire an IP.\n\nWhen DHCP agent execute port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 2, 'created': '2018-12-20 22:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01bc448fee8e1a207b03cea0fcef0a5eec96c9c0', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP.\n\nWhen DHCP agent execute port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 3, 'created': '2018-12-21 08:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16a5f4ad76a22ea60c47a1d63685426058085fd1', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP.\n\nWhen DHCP agent execute port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 4, 'created': '2018-12-21 09:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7f7e193feb71ca1d7e6b2541a672373718e59c7', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP.\n\nWhen DHCP agent execute port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 5, 'created': '2018-12-21 11:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a38c795b6a1cda3555dd1747517ca75ea1ad64e5', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP.\n\nWhen DHCP agent execute port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 6, 'created': '2018-12-22 10:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5779010fbb7babe12df72eb051888e1b72d9dd0f', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 7, 'created': '2018-12-22 11:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a20a5a74485af70f2b679151eb7309eaf1e711a8', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 8, 'created': '2018-12-22 18:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/939cf5a04de1c3f662f0d3c710e1bad2071242db', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 9, 'created': '2018-12-22 20:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6c88df267a191007a49b6549f733e6e0264afd1', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 10, 'created': '2018-12-22 21:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7edb27b5a1b51467dc300fe17d7c66b4cb81870d', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 11, 'created': '2018-12-22 22:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed9d1c25cba0caa7aaa518f8fc2ebc7c604f9230', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 12, 'created': '2018-12-23 07:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e2bd9895f196d5bfd5d6ed44300e1fd41dd2a79', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 13, 'created': '2018-12-23 13:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da6012d7116ac3914f19c1e97b64eb9cf8017971', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 14, 'created': '2018-12-23 14:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cfdf449d65cec700e7a01134356e68c658d33f7', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 15, 'created': '2018-12-23 22:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14d14d5396ffed370a2b5a1fa483f4636edcd843', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 16, 'created': '2019-01-03 10:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0b44ce1ad518dc4566391f79c9f32569adefcb5', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\nSigned-off-by: aojeagarcia <aojeagarcia@suse.com>\n""}, {'number': 17, 'created': '2019-01-08 12:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b05bfe917a282fa56ad4f6abbf700865d0d6b665', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCo-Authored-By: doreilly@suse.com\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\n""}, {'number': 18, 'created': '2019-01-12 23:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffbc4fd6d7048587ffaf469345d62ea065531482', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCo-Authored-By: doreilly@suse.com\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\n""}, {'number': 19, 'created': '2019-01-17 21:04:35.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffbf65126fcd25ca242e5512b6e30cb7a1b4ef37', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCo-Authored-By: doreilly@suse.com\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\n""}]",21,626641,ffbf65126fcd25ca242e5512b6e30cb7a1b4ef37,155,14,19,19307,,,0,"protect DHCP agent cache out of sync

If DHCP agent port cache is out of sync with neutron server, dnsmasq
entries are wrong and VMs may not acquire an IP because of duplicate
entries.

When DHCP agent executes port_create_end method, port's
IP should be checked before being used, if there are duplicate IP
addresses in the same network in the cache we should resync.

Co-Authored-By: doreilly@suse.com
Closes-Bug: #1645835

Change-Id: Icc555050283420fddfb90bb67e02bc303e989e27
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/626641/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,04da171f737141971a84c328aff0b2a48f84ef3e,bug/1645835," def test_port_update_duplicate_ip_on_dhcp_agents_same_network(self): self.cache.get_network_by_id.return_value = fake_network self.cache.get_port_by_id.return_value = fake_port1 payload = dict(port=copy.deepcopy(fake_port2)) payload['port']['fixed_ips'][0]['ip_address'] = \ fake_port1['fixed_ips'][0]['ip_address'] self.dhcp.port_update_end(None, payload) self.schedule_resync.assert_called_once_with(mock.ANY, fake_port1.network_id) ",,19,1
openstack%2Fneutron~master~I91bda8d66c8e5a65f1bb9b63fc33b0f0a10e088a,openstack/neutron,master,I91bda8d66c8e5a65f1bb9b63fc33b0f0a10e088a,Fix indent level of netlink_lib.py,MERGED,2019-01-12 10:49:32.000000000,2019-01-25 00:23:10.000000000,2019-01-18 19:47:29.000000000,"[{'_account_id': 841}, {'_account_id': 10385}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 28239}]","[{'number': 1, 'created': '2019-01-12 10:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10e8dc2821fdec1d08bc32a0ffc818ceaf12e7ef', 'message': 'Fix indent level of netlink_lib.py\n\nChange-Id: I91bda8d66c8e5a65f1bb9b63fc33b0f0a10e088a\n'}, {'number': 2, 'created': '2019-01-18 02:44:11.000000000', 'files': ['neutron/privileged/agent/linux/netlink_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/abe8f6023b2500519cef60a693d62a68960aa801', 'message': 'Fix indent level of netlink_lib.py\n\nChange-Id: I91bda8d66c8e5a65f1bb9b63fc33b0f0a10e088a\n'}]",1,630450,abe8f6023b2500519cef60a693d62a68960aa801,32,10,2,841,,,0,"Fix indent level of netlink_lib.py

Change-Id: I91bda8d66c8e5a65f1bb9b63fc33b0f0a10e088a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/630450/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/privileged/agent/linux/netlink_lib.py'],1,10e8dc2821fdec1d08bc32a0ffc818ceaf12e7ef,," ctypes.c_int, ctypes.c_void_p] ctypes.c_int, ctypes.c_uint8] ctypes.c_int, ctypes.c_uint16] ctypes.c_uint, ctypes.c_void_p, ctypes.c_uint, ctypes.c_uint, ctypes.c_uint]"," ctypes.c_int, ctypes.c_void_p] ctypes.c_int, ctypes.c_uint8] ctypes.c_int, ctypes.c_uint16] ctypes.c_uint, ctypes.c_void_p, ctypes.c_uint, ctypes.c_uint, ctypes.c_uint]",11,11
openstack%2Fneutron~master~I3465daf4809d5d56565f59b177b5f8870352cc9d,openstack/neutron,master,I3465daf4809d5d56565f59b177b5f8870352cc9d,Skip ovsdb_monitor events for ports with ofport=-1,MERGED,2019-01-17 17:25:59.000000000,2019-01-25 00:21:20.000000000,2019-01-19 00:32:46.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-01-17 17:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c8e1b07bbe763ea43d703e7f748a7bb6f4ff69c', 'message': 'Skip ovsdb_monitor events for ports with ofport=-1\n\nThere is no need to trigger neutron-openvswitch-agent to\nstart processing ports in case if invalid port (with\nofport=-1) will be added to bridge.\nSuch port will be processed later when ofport will be\nchanged.\n\nChange-Id: I3465daf4809d5d56565f59b177b5f8870352cc9d\nRelated-Bug: #1808171\nRelated-Bug: #1811405\n'}, {'number': 2, 'created': '2019-01-17 21:30:55.000000000', 'files': ['neutron/agent/common/ovsdb_monitor.py', 'neutron/tests/unit/agent/common/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8e0a497ad6a36fa0d9510cda9e7344c2ed73763', 'message': 'Skip ovsdb_monitor events for ports with ofport=-1\n\nThere is no need to trigger neutron-openvswitch-agent to\nstart processing ports in case if invalid port (with\nofport=-1) will be added to bridge.\nSuch port will be processed later when ofport will be\nchanged.\n\nChange-Id: I3465daf4809d5d56565f59b177b5f8870352cc9d\nRelated-Bug: #1808171\nRelated-Bug: #1811405\n'}]",0,631584,f8e0a497ad6a36fa0d9510cda9e7344c2ed73763,24,10,2,11975,,,0,"Skip ovsdb_monitor events for ports with ofport=-1

There is no need to trigger neutron-openvswitch-agent to
start processing ports in case if invalid port (with
ofport=-1) will be added to bridge.
Such port will be processed later when ofport will be
changed.

Change-Id: I3465daf4809d5d56565f59b177b5f8870352cc9d
Related-Bug: #1808171
Related-Bug: #1811405
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/631584/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovsdb_monitor.py', 'neutron/tests/unit/agent/common/test_ovsdb_monitor.py']",2,6c8e1b07bbe763ea43d703e7f748a7bb6f4ff69c,bug/1808171," def process_event_invalid_of_port(self): output = '{""data"":[[""e040fbec-0579-4990-8324-d338da33ae88"",""insert"",' output += '""m50"",-1,[""map"",[]]]],""headings"":[""row"",""action"",' output += '""name"",""ofport"",""external_ids""]}' with mock.patch.object( self.monitor, 'iter_stdout', return_value=[output]): self.monitor.process_events() self.assertEqual([], self.monitor.new_events['added'])",,15,0
openstack%2Fneutron~master~I65f712934314122da0bb2f14d1e3fe9cbd5dd759,openstack/neutron,master,I65f712934314122da0bb2f14d1e3fe9cbd5dd759,Remove hooks for dsvm-scenario-linuxbridge,MERGED,2019-01-07 12:17:08.000000000,2019-01-25 00:21:18.000000000,2019-01-18 09:00:03.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 29344}]","[{'number': 1, 'created': '2019-01-07 12:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8cf0a075f2efa033ae63c55810da032c02a6729', 'message': ""Remove hooks for dsvm-scenario-linuxbridge\n\nThis job is removed from openstack-infra/openstack-zuul-jobs repo\nwith [1] and it's not used anymore.\nTempest scenario tests are run in neutron-tempest-linuxbridge job\nwhich is defined in neutron repo.\n\n[1] https://review.openstack.org/628942\n\nDepends-On: https://review.openstack.org/628942\nChange-Id: I65f712934314122da0bb2f14d1e3fe9cbd5dd759\n""}, {'number': 2, 'created': '2019-01-07 12:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b90c2af800fb746f2e73b1d38dbacb1f06d85bd7', 'message': 'Remove hooks for dsvm-scenario-linuxbridge\n\nThis job is used only in stable/ocata branch so there is no need to\nkeep those hooks in master branch anymore.\n\nChange-Id: I65f712934314122da0bb2f14d1e3fe9cbd5dd759\n'}, {'number': 3, 'created': '2019-01-17 20:08:08.000000000', 'files': ['neutron/tests/contrib/hooks/linuxbridge_type_drivers', 'neutron/tests/contrib/gate_hook.sh', 'neutron/tests/contrib/hooks/iptables_verify'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0081aaa38048539c2da9a6adfe0e0d7945d688df', 'message': 'Remove hooks for dsvm-scenario-linuxbridge\n\nThis job is used only in stable/ocata branch so there is no need to\nkeep those hooks in master branch anymore.\n\nChange-Id: I65f712934314122da0bb2f14d1e3fe9cbd5dd759\n'}]",0,628943,0081aaa38048539c2da9a6adfe0e0d7945d688df,59,10,3,11975,,,0,"Remove hooks for dsvm-scenario-linuxbridge

This job is used only in stable/ocata branch so there is no need to
keep those hooks in master branch anymore.

Change-Id: I65f712934314122da0bb2f14d1e3fe9cbd5dd759
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/628943/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/contrib/hooks/linuxbridge_type_drivers', 'neutron/tests/contrib/gate_hook.sh', 'neutron/tests/contrib/hooks/iptables_verify']",3,d8cf0a075f2efa033ae63c55810da032c02a6729,bug/1804844,,[[post-config|/etc/neutron/neutron.conf]] [AGENT] debug_iptables_rules=True ,4,30
openstack%2Fopenstack-ansible~stable%2Frocky~Ic112e12506b57b47f0c9d3754053aa29025c9cfb,openstack/openstack-ansible,stable/rocky,Ic112e12506b57b47f0c9d3754053aa29025c9cfb,Update systemd_service role for lock path fix,MERGED,2019-01-23 15:20:57.000000000,2019-01-25 00:08:18.000000000,2019-01-25 00:08:17.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-01-23 15:20:57.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0d334713e5eba9a7d6df2c0eacb97dbcc18250ee', 'message': 'Update systemd_service role for lock path fix\n\nFor the successful running of systemd services, the\nrun/lock paths need to be created. This does not happen\nunless I373b8905c01ff666b5705bd3bb3c76c3e74a64ab is\nimplemented.\n\nChange-Id: Ic112e12506b57b47f0c9d3754053aa29025c9cfb\n'}]",0,632751,0d334713e5eba9a7d6df2c0eacb97dbcc18250ee,7,3,1,6816,,,0,"Update systemd_service role for lock path fix

For the successful running of systemd services, the
run/lock paths need to be created. This does not happen
unless I373b8905c01ff666b5705bd3bb3c76c3e74a64ab is
implemented.

Change-Id: Ic112e12506b57b47f0c9d3754053aa29025c9cfb
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/51/632751/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,0d334713e5eba9a7d6df2c0eacb97dbcc18250ee,, version: 42461437157f32f23081537308b74cc4ea804dc1, version: a085a50c338b2eeaa87ed50eaaa22564d7c12968,1,1
openstack%2Fopenstack-helm-infra~master~I06a4679e0cbb3e065974d610606d232cde77e0b2,openstack/openstack-helm-infra,master,I06a4679e0cbb3e065974d610606d232cde77e0b2,[CEPH] Setup a cronjob to run OSD defrags for FileStore,MERGED,2018-12-20 15:46:44.000000000,2019-01-24 23:56:42.000000000,2019-01-24 23:51:43.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22713}, {'_account_id': 23928}, {'_account_id': 28237}, {'_account_id': 28372}, {'_account_id': 29132}, {'_account_id': 29268}]","[{'number': 1, 'created': '2018-12-20 15:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/70884fe35dfff8c203b8e04de5b0a0c9d465ec3d', 'message': '[WIP] [CEPH] Setup a cronjob to run monthly OSD defragmentation\n\nCreate a cron and associated script to run monthly OSD defrags.\nWhen the cron runs it will switch the OSD disk to the CFQ I/O disk\nscheduler to ensure that this is a non-blocking operation for ceph.\nWhile this cron job will run monthly, it will only execute on OSDs\nthat are HDD based with Filestore.\n\nChange-Id: I06a4679e0cbb3e065974d610606d232cde77e0b2\n'}, {'number': 2, 'created': '2018-12-22 01:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1dceaab176a8dc0114d007f217ac8833cf0d22b6', 'message': '[CEPH] Setup a cronjob to run monthly OSD defragmentation\n\nCreate a cron and associated script to run monthly OSD defrags.\nWhen the script runs it will switch the OSD disk to the CFQ I/O\nscheduler to ensure that this is a non-blocking operation for ceph.\nWhile this cron job will run monthly, it will only execute on OSDs\nthat are HDD based with Filestore.\n\nChange-Id: I06a4679e0cbb3e065974d610606d232cde77e0b2\n'}, {'number': 3, 'created': '2018-12-22 01:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8ada05c833b412992036a8180a2405ed99d3617a', 'message': '[WIP] [CEPH] Setup a cronjob to run monthly OSD defragmentation\n\nCreate a cron and associated script to run monthly OSD defrags.\nWhen the script runs it will switch the OSD disk to the CFQ I/O\nscheduler to ensure that this is a non-blocking operation for ceph.\nWhile this cron job will run monthly, it will only execute on OSDs\nthat are HDD based with Filestore.\n\nChange-Id: I06a4679e0cbb3e065974d610606d232cde77e0b2\n'}, {'number': 4, 'created': '2018-12-22 02:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e9ea254e0d7ff615abbf204fe67f12c0da98d3b', 'message': '[WIP] [CEPH] Setup a cronjob to run monthly OSD defragmentation\n\nCreate a cron and associated script to run monthly OSD defrags.\nWhen the script runs it will switch the OSD disk to the CFQ I/O\nscheduler to ensure that this is a non-blocking operation for ceph.\nWhile this cron job will run monthly, it will only execute on OSDs\nthat are HDD based with Filestore.\n\nChange-Id: I06a4679e0cbb3e065974d610606d232cde77e0b2\n'}, {'number': 5, 'created': '2018-12-22 15:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/283d6839286d18c789bc97aae6f1356693704809', 'message': '[CEPH] Setup a cronjob to run monthly OSD defragmentation\n\nCreate a cron and associated script to run monthly OSD defrags.\nWhen the script runs it will switch the OSD disk to the CFQ I/O\nscheduler to ensure that this is a non-blocking operation for ceph.\nWhile this cron job will run monthly, it will only execute on OSDs\nthat are HDD based with Filestore.\n\nChange-Id: I06a4679e0cbb3e065974d610606d232cde77e0b2\n'}, {'number': 6, 'created': '2018-12-22 18:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9ab530bde4616a66488ff0597c29b303e5ddc449', 'message': '[CEPH] Setup a cronjob to run monthly OSD defragmentation\n\nCreate a cron and associated script to run monthly OSD defrags.\nWhen the script runs it will switch the OSD disk to the CFQ I/O\nscheduler to ensure that this is a non-blocking operation for ceph.\nWhile this cron job will run monthly, it will only execute on OSDs\nthat are HDD based with Filestore.\n\nChange-Id: I06a4679e0cbb3e065974d610606d232cde77e0b2\n'}, {'number': 7, 'created': '2018-12-22 18:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/13922dd15fea4b8ce35919b95cf72e41546b5cdb', 'message': '[CEPH] Setup a cronjob to run OSD defrags for FileStore\n\nCreate a cron and associated script to run monthly OSD defrags.\nWhen the script runs it will switch the OSD disk to the CFQ I/O\nscheduler to ensure that this is a non-blocking operation for ceph.\nWhile this cron job will run monthly, it will only execute on OSDs\nthat are HDD based with Filestore.\n\nChange-Id: I06a4679e0cbb3e065974d610606d232cde77e0b2\n'}, {'number': 8, 'created': '2018-12-28 19:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a900a955940d40ed2c60e7742cc730e3ab4d60f9', 'message': '[CEPH] Setup a cronjob to run OSD defrags for FileStore\n\nCreate a cron and associated script to run monthly OSD defrags.\nWhen the script runs it will switch the OSD disk to the CFQ I/O\nscheduler to ensure that this is a non-blocking operation for ceph.\nWhile this cron job will run monthly, it will only execute on OSDs\nthat are HDD based with Filestore.\n\nChange-Id: I06a4679e0cbb3e065974d610606d232cde77e0b2\n'}, {'number': 9, 'created': '2019-01-03 19:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2efd7745753f5d01238a1656f608b930bbd1fc5b', 'message': '[CEPH] Setup a cronjob to run OSD defrags for FileStore\n\nCreate a cron and associated script to run monthly OSD defrags.\nWhen the script runs it will switch the OSD disk to the CFQ I/O\nscheduler to ensure that this is a non-blocking operation for ceph.\nWhile this cron job will run monthly, it will only execute on OSDs\nthat are HDD based with Filestore.\n\nChange-Id: I06a4679e0cbb3e065974d610606d232cde77e0b2\n'}, {'number': 10, 'created': '2019-01-03 22:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/be82ed0aac8bef30be4dcc252ee4d4b4c649c9a5', 'message': '[CEPH] Setup a cronjob to run OSD defrags for FileStore\n\nCreate a cron and associated script to run monthly OSD defrags.\nWhen the script runs it will switch the OSD disk to the CFQ I/O\nscheduler to ensure that this is a non-blocking operation for ceph.\nWhile this cron job will run monthly, it will only execute on OSDs\nthat are HDD based with Filestore.\n\nChange-Id: I06a4679e0cbb3e065974d610606d232cde77e0b2\n'}, {'number': 11, 'created': '2019-01-21 16:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cca05f844753cced46c98a04873924453cf70f1b', 'message': '[CEPH] Setup a cronjob to run OSD defrags for FileStore\n\nCreate a cron and associated script to run monthly OSD defrags.\nWhen the script runs it will switch the OSD disk to the CFQ I/O\nscheduler to ensure that this is a non-blocking operation for ceph.\nWhile this cron job will run monthly, it will only execute on OSDs\nthat are HDD based with Filestore.\n\nChange-Id: I06a4679e0cbb3e065974d610606d232cde77e0b2\n'}, {'number': 12, 'created': '2019-01-22 04:27:41.000000000', 'files': ['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/values.yaml', 'ceph-osd/templates/configmap-bin.yaml', 'ceph-osd/templates/cronjob-defragosds.yaml', 'ceph-osd/templates/bin/utils/_defragOSDs.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d96608532136608bcad9322bf9154a8698262d8c', 'message': '[CEPH] Setup a cronjob to run OSD defrags for FileStore\n\nCreate a cron and associated script to run monthly OSD defrags.\nWhen the script runs it will switch the OSD disk to the CFQ I/O\nscheduler to ensure that this is a non-blocking operation for ceph.\nWhile this cron job will run monthly, it will only execute on OSDs\nthat are HDD based with Filestore.\n\nChange-Id: I06a4679e0cbb3e065974d610606d232cde77e0b2\n'}]",15,626599,d96608532136608bcad9322bf9154a8698262d8c,58,10,12,29268,,,0,"[CEPH] Setup a cronjob to run OSD defrags for FileStore

Create a cron and associated script to run monthly OSD defrags.
When the script runs it will switch the OSD disk to the CFQ I/O
scheduler to ensure that this is a non-blocking operation for ceph.
While this cron job will run monthly, it will only execute on OSDs
that are HDD based with Filestore.

Change-Id: I06a4679e0cbb3e065974d610606d232cde77e0b2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/99/626599/7 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/values.yaml', 'ceph-osd/templates/configmap-bin.yaml', 'ceph-osd/templates/cronjob-defragOSDs.yaml', 'ceph-osd/templates/bin/utils/_defragOSDs.sh.tpl']",5,70884fe35dfff8c203b8e04de5b0a0c9d465ec3d,osd_defrag,"#!/bin/bash #!/bin/bash {{/* Copyright 2018 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} set -ex ARG=${1} if [ ""x${ARG}"" == ""xcron"" ]; then osdPODs=$(kubectl get pods --namespace=${DEPLOYMENT_NAMESPACE} --selector=application=ceph --selector=component=osd | awk '/Running/{print $1}' 2>/dev/null) for PODS in $(osdPODS); do kubectl exec -t ${PODS} --namespace=${DEPLOYMENT_NAMESPACE} -- /tmp/utils-defragOSDs.sh defrag 2>/dev/null done elif [ ""x${ARG} == ""xdefrag"" ]; then OSD_PATH=${cat /proc/mounts | awk '/ceph-/{print $2} OSD_DEVICE=$(cat /proc/mounts | awk '/ceph-/{print $1}') ODEV=$(echo ""${OSD_DEVICE}"" | sed 's/\(.*[^0-9]\)[0-9]*$/\1/' | awk -F'/' '{print $3}') OSD_STORE=$(cat ${OSD_PATH}/type) ODEV_ROTATIONAL=$(cat /sys/block/${ODEV}/queue/rotational) function defrag_osd { ODEV_SCHEDULER=$(cat /sys/block/${ODEV}/queue/scheduler) # NOTE(supamatt): Switch to CFQ in order to not block I/O echo ""cfq"" | tee /sys/block/${ODEV}/queue/scheduler ionice -c 3 xfs_fsr -p 5 ${OSD_DEVICE} 2>/dev/null # NOTE(supamatt): Switch back to previous IO scheduler echo ${ODEV_SCHEDULER} | tee /sys/block/${ODEV}/queue/scheduler } if [ ""${ODEV_ROTATIONAL}"" -eq ""1"" ] && [ ""x${OSD_STORE} == ""xfilestore"" ]; then defrag_osd ${OSD_DEVICE} fi fi exit 0 ",,181,0
openstack%2Fpuppet-tripleo~master~I8a4804716cf0d3643197a0d24021c492aec4d28b,openstack/puppet-tripleo,master,I8a4804716cf0d3643197a0d24021c492aec4d28b,Replace mysql invalid open_files_limit of -1 with 65536,MERGED,2019-01-10 16:46:40.000000000,2019-01-24 23:30:41.000000000,2019-01-24 23:30:41.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 11816}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-01-10 16:46:40.000000000', 'files': ['manifests/profile/base/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8e1dc7bf66da29c670e855fa13814b42eb57e6a3', 'message': 'Replace mysql invalid open_files_limit of -1 with 65536\n\nmysql does a run a `ulimit -n <value>` call when starting and this\nfails because -1 is an unacceptable value.\n\nAvoids:\n\n/usr/bin/mysqld_safe: line 755: ulimit: -1: invalid option\nulimit: usage: ulimit [-SHacdefilmnpqrstuvx] [limit]\n\nChange-Id: I8a4804716cf0d3643197a0d24021c492aec4d28b\nSee: http://logstash.openstack.org/#dashboard/file/logstash.json?query=message%3A%5C%22ulimit%3A%20-1%3A%20invalid%20optio%5C%22\n'}]",0,629897,8e1dc7bf66da29c670e855fa13814b42eb57e6a3,17,13,1,24162,,,0,"Replace mysql invalid open_files_limit of -1 with 65536

mysql does a run a `ulimit -n <value>` call when starting and this
fails because -1 is an unacceptable value.

Avoids:

/usr/bin/mysqld_safe: line 755: ulimit: -1: invalid option
ulimit: usage: ulimit [-SHacdefilmnpqrstuvx] [limit]

Change-Id: I8a4804716cf0d3643197a0d24021c492aec4d28b
See: http://logstash.openstack.org/#dashboard/file/logstash.json?query=message%3A%5C%22ulimit%3A%20-1%3A%20invalid%20optio%5C%22
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/97/629897/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp']",3,8e1dc7bf66da29c670e855fa13814b42eb57e6a3,," 'open_files_limit' => '65536',"," 'open_files_limit' => '-1',",3,3
openstack%2Ftripleo-ci~master~Ic505b2ba53cc935b4ab81f7add58bf1543fc092b,openstack/tripleo-ci,master,Ic505b2ba53cc935b4ab81f7add58bf1543fc092b,Make Fedora 28 mixed standalone job voting,MERGED,2019-01-23 11:52:40.000000000,2019-01-24 23:16:38.000000000,2019-01-23 16:39:34.000000000,"[{'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 11:52:40.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b58c6643eeee931eeafe696d7a88f553d6428336', 'message': ""Make Fedora 28 mixed standalone job voting\n\nThe mixed fedora28/centos7 container has proven to be valuable source of\nfeedback for the fedora28/python3 progresses.\nIt's time people start to consider the results of that job in proposed\nchanges.\n\nChange-Id: Ic505b2ba53cc935b4ab81f7add58bf1543fc092b\n""}]",0,632702,b58c6643eeee931eeafe696d7a88f553d6428336,9,4,1,10022,,,0,"Make Fedora 28 mixed standalone job voting

The mixed fedora28/centos7 container has proven to be valuable source of
feedback for the fedora28/python3 progresses.
It's time people start to consider the results of that job in proposed
changes.

Change-Id: Ic505b2ba53cc935b4ab81f7add58bf1543fc092b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/02/632702/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,b58c6643eeee931eeafe696d7a88f553d6428336,fedora28-voting, voting: true, voting: false,1,1
openstack%2Fopenstack-helm~master~I24113c969f2b310a48cf128a1ada78930c69a4e1,openstack/openstack-helm,master,I24113c969f2b310a48cf128a1ada78930c69a4e1,Heat: Use public endpoints for heat clients,MERGED,2019-01-24 17:17:16.000000000,2019-01-24 23:13:38.000000000,2019-01-24 23:13:17.000000000,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 17:17:16.000000000', 'files': ['heat/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/192e6c0cad4501c21cf31fb1adf1b7e8ee01fa33', 'message': 'Heat: Use public endpoints for heat clients\n\nThis PS moves the default to use public endpoints for heat clients\neg: waitcondition url generation consumed by cloudinit in vms.\n\nChange-Id: I24113c969f2b310a48cf128a1ada78930c69a4e1\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,633040,192e6c0cad4501c21cf31fb1adf1b7e8ee01fa33,9,3,1,23928,,,0,"Heat: Use public endpoints for heat clients

This PS moves the default to use public endpoints for heat clients
eg: waitcondition url generation consumed by cloudinit in vms.

Change-Id: I24113c969f2b310a48cf128a1ada78930c69a4e1
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/40/633040/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/values.yaml'],1,192e6c0cad4501c21cf31fb1adf1b7e8ee01fa33,heat-client-endpoints, clients_heat: endpoint_type: publicURL,,2,0
openstack%2Fneutron-lib~master~I2e0dfb6ad34b1060c22945d01e22c589d42e27c7,openstack/neutron-lib,master,I2e0dfb6ad34b1060c22945d01e22c589d42e27c7,doc neutron-lib current,MERGED,2019-01-16 18:50:14.000000000,2019-01-24 22:48:24.000000000,2019-01-24 22:48:23.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-16 18:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6cd1a1a93750b91aefe09f97d721e1f8038c3381', 'message': 'doc neutron-lib current\n\nThis patch updates the docs to explain the use of neutron-lib-current\n[1] and consumption in general.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-September/135063.html\n\nChange-Id: I2e0dfb6ad34b1060c22945d01e22c589d42e27c7\n'}, {'number': 2, 'created': '2019-01-24 13:19:39.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/consuming.rst'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c0f55acf70597899a3905476fb96a673df7d35ce', 'message': 'doc neutron-lib current\n\nThis patch updates the docs to explain the use of neutron-lib-current\n[1] and consumption in general.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-September/135063.html\n\nChange-Id: I2e0dfb6ad34b1060c22945d01e22c589d42e27c7\n'}]",5,631301,c0f55acf70597899a3905476fb96a673df7d35ce,15,7,2,5367,,,0,"doc neutron-lib current

This patch updates the docs to explain the use of neutron-lib-current
[1] and consumption in general.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-September/135063.html

Change-Id: I2e0dfb6ad34b1060c22945d01e22c589d42e27c7
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/01/631301/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/consuming.rst']",3,6cd1a1a93750b91aefe09f97d721e1f8038c3381,doc-lib-current,"===================== Consuming neutron-lib ===================== Many OpenStack projects consume neutron-lib by importing and using its code. As a result, these consumers must define `neutron-lib` as a dependency in their respective `requirements.txt` file. While this is likely nothing new to most OpenStack developers, it may not be obvious to consumers if they need to always use the latest release of neutron-lib, or if they can lag behind using an old(er) release of it. The answer is that it's up to the consuming project if they want to stay ""current"" or not in terms of the neutron-lib version they use. While we might like all consumers to stay current and there are benefits to it, this isn't always realistic for projects that have less developers/velocity. Therefore, each project has two options for consuming neutron-lib. * Opt-in to stay current by adding a comment with `neutron-lib-current` in their `requirements.txt`. This string declares the project's intent to use the latest version of neutron-lib as well as their agreement to stay current with overall OpenStack initiatives. These projects receive updates ""for free"" as part of the ongoing neutron-lib work. For more details see the `ML archive <http://lists.openstack.org/pipermail/openstack-dev/2018-September/135063.html>`_ * Do not opt-in and rather manage your own consumption of neutron-lib. In this case your project developers must define the version of neutron-lib to use and update the project's code to consume it as they bump up the version. In this scenario most projects will also be managing a back-leveled version of `neutron` since neutron is always current with neutron-lib and might otherwise break the consuming code. ",,33,0
openstack%2Fopenstack-ansible-ops~master~I532abd7171ba9077759640e4bf18b9b517264426,openstack/openstack-ansible-ops,master,I532abd7171ba9077759640e4bf18b9b517264426,Update delegated setup hosts to support IP delegation,MERGED,2019-01-22 03:32:09.000000000,2019-01-24 22:34:26.000000000,2019-01-24 22:34:26.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 03:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/28b59c957b766e2a62cde4a685fa324db3ab23de', 'message': 'Update delegated setup hosts to support IP delegation\n\nThe option `skydive_service_setup_host` allows a user to define a\nsetup host target which could, or could not, be in the provided\ninventory. Additionally a setup target host could also be simply\nan IP reference. This change ensures that the playbooks and roles\nrespect the different setup host delegation node types by creating\nin memory host entries and gathering facts on the dynamic\ninformation when the target is not in inventory, is not in the\nskydive_all group, or simply an IP.\n\nChange-Id: I532abd7171ba9077759640e4bf18b9b517264426\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 2, 'created': '2019-01-22 03:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/de9555b5b4cf77bb41053f7516f8e42f35bada8f', 'message': 'Update delegated setup hosts to support IP delegation\n\nThe option `skydive_service_setup_host` allows a user to define a\nsetup host target which could, or could not, be in the provided\ninventory. Additionally a setup target host could also be simply\nan IP reference. This change ensures that the playbooks and roles\nrespect the different setup host delegation node types by creating\nin memory host entries and gathering facts on the dynamic\ninformation when the target is not in inventory, is not in the\nskydive_all group, or simply an IP.\n\nChange-Id: I532abd7171ba9077759640e4bf18b9b517264426\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 3, 'created': '2019-01-22 14:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/408816dfb96b7c61394eaebe049446d25f3a04f2', 'message': 'Update delegated setup hosts to support IP delegation\n\nThe option `skydive_service_setup_host` allows a user to define a\nsetup host target which could, or could not, be in the provided\ninventory. Additionally a setup target host could also be simply\nan IP reference. This change ensures that the playbooks and roles\nrespect the different setup host delegation node types by creating\nin memory host entries and gathering facts on the dynamic\ninformation when the target is not in inventory, is not in the\nskydive_all group, or simply an IP.\n\nChange-Id: I532abd7171ba9077759640e4bf18b9b517264426\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 4, 'created': '2019-01-23 22:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/d0160aa639831c36542a84a7a37c0021206bfa20', 'message': 'Update delegated setup hosts to support IP delegation\n\nThe option `skydive_service_setup_host` allows a user to define a\nsetup host target which could, or could not, be in the provided\ninventory. Additionally a setup target host could also be simply\nan IP reference. This change ensures that the playbooks and roles\nrespect the different setup host delegation node types by creating\nin memory host entries and gathering facts on the dynamic\ninformation when the target is not in inventory, is not in the\nskydive_all group, or simply an IP.\n\nChange-Id: I532abd7171ba9077759640e4bf18b9b517264426\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 5, 'created': '2019-01-24 01:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/1a3ce6cde107d534db69f2c1560434209e38b9d4', 'message': 'Update delegated setup hosts to support IP delegation\n\nThe option `skydive_service_setup_host` allows a user to define a\nsetup host target which could, or could not, be in the provided\ninventory. Additionally a setup target host could also be simply\nan IP reference. This change ensures that the playbooks and roles\nrespect the different setup host delegation node types by creating\nin memory host entries and gathering facts on the dynamic\ninformation when the target is not in inventory, is not in the\nskydive_all group, or simply an IP.\n\nChange-Id: I532abd7171ba9077759640e4bf18b9b517264426\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 6, 'created': '2019-01-24 01:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4fb946f8e7be974a54791f29800044aa7025ebf4', 'message': 'Update delegated setup hosts to support IP delegation\n\nThe option `skydive_service_setup_host` allows a user to define a\nsetup host target which could, or could not, be in the provided\ninventory. Additionally a setup target host could also be simply\nan IP reference. This change ensures that the playbooks and roles\nrespect the different setup host delegation node types by creating\nin memory host entries and gathering facts on the dynamic\ninformation when the target is not in inventory, is not in the\nskydive_all group, or simply an IP.\n\nChange-Id: I532abd7171ba9077759640e4bf18b9b517264426\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2019-01-24 05:28:16.000000000', 'files': ['skydive/roles/skydive_common/vars/main.yml', 'skydive/roles/skydive_common/vars/suse.yml', 'skydive/buildSkydive.yml', 'skydive/roles/skydive_common/vars/redhat.yml', 'skydive/roles/skydive_common/tasks/skydive_ssl.yml', 'skydive/roles/skydive_common/defaults/main.yml', 'skydive/buildTraefik.yml', 'skydive/roles/skydive_analyzer/meta/main.yml', 'skydive/roles/skydive_common/vars/debian.yml', 'skydive/installSkydive.yml', 'skydive/roles/skydive_common/templates/skydive-openssl.cnf.j2', 'skydive/validateSkydive.yml', 'skydive/roles/skydive_common/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/cfa103dab7edcb86ba4629764e4a0cdc515152cf', 'message': 'Update delegated setup hosts to support IP delegation\n\nThe option `skydive_service_setup_host` allows a user to define a\nsetup host target which could, or could not, be in the provided\ninventory. Additionally a setup target host could also be simply\nan IP reference. This change ensures that the playbooks and roles\nrespect the different setup host delegation node types by creating\nin memory host entries and gathering facts on the dynamic\ninformation when the target is not in inventory, is not in the\nskydive_all group, or simply an IP.\n\nChange-Id: I532abd7171ba9077759640e4bf18b9b517264426\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,632201,cfa103dab7edcb86ba4629764e4a0cdc515152cf,18,2,7,7353,,,0,"Update delegated setup hosts to support IP delegation

The option `skydive_service_setup_host` allows a user to define a
setup host target which could, or could not, be in the provided
inventory. Additionally a setup target host could also be simply
an IP reference. This change ensures that the playbooks and roles
respect the different setup host delegation node types by creating
in memory host entries and gathering facts on the dynamic
information when the target is not in inventory, is not in the
skydive_all group, or simply an IP.

Change-Id: I532abd7171ba9077759640e4bf18b9b517264426
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/01/632201/1 && git format-patch -1 --stdout FETCH_HEAD,"['skydive/roles/skydive_common/vars/suse.yml', 'skydive/buildSkydive.yml', 'skydive/roles/skydive_common/vars/debian.yml', 'skydive/roles/skydive_common/vars/redhat.yml', 'skydive/installSkydive.yml', 'skydive/roles/skydive_common/tasks/skydive_ssl.yml', 'skydive/roles/skydive_common/templates/skydive-openssl.cnf.j2', 'skydive/roles/skydive_common/tasks/skydive_keystone.yml', 'skydive/buildTraefik.yml']",9,28b59c957b766e2a62cde4a685fa324db3ab23de,, gather_facts: true, tasks: - name: Gather facts on all hosts setup: {},79,14
openstack%2Fmanila~master~Ib160caae57e41a4d45483ff4faa599143e694abc,openstack/manila,master,Ib160caae57e41a4d45483ff4faa599143e694abc,Fix spurious pylint import errors for ddt and mock,MERGED,2019-01-24 12:41:44.000000000,2019-01-24 22:23:01.000000000,2019-01-24 20:35:32.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24863}]","[{'number': 1, 'created': '2019-01-24 12:41:44.000000000', 'files': ['tools/coding-checks.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/1838d519257aaa7127b71ff93be7e49946673025', 'message': 'Fix spurious pylint import errors for ddt and mock\n\nSet dependencies correctly for pylint job in tox.ini so\nit does not report spurious E041 import errors on mock\nand ddt modules.  Also fix a reference to Cinder instead\nof Manila in the pylint script.\n\nCloses-Bug: #1813156\nChange-Id: Ib160caae57e41a4d45483ff4faa599143e694abc\n'}]",0,632992,1838d519257aaa7127b71ff93be7e49946673025,18,10,1,9003,,,0,"Fix spurious pylint import errors for ddt and mock

Set dependencies correctly for pylint job in tox.ini so
it does not report spurious E041 import errors on mock
and ddt modules.  Also fix a reference to Cinder instead
of Manila in the pylint script.

Closes-Bug: #1813156
Change-Id: Ib160caae57e41a4d45483ff4faa599143e694abc
",git fetch https://review.opendev.org/openstack/manila refs/changes/92/632992/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/coding-checks.sh', 'tox.ini']",2,1838d519257aaa7127b71ff93be7e49946673025,bug/1813156, -r{toxinidir}/test-requirements.txt,,2,1
openstack%2Fsenlin-tempest-plugin~master~I9da6cf3045752b1e7e3344f042197d9ef11a0909,openstack/senlin-tempest-plugin,master,I9da6cf3045752b1e7e3344f042197d9ef11a0909,Bump cirros image version to 0.4.0,MERGED,2019-01-24 00:42:59.000000000,2019-01-24 21:18:44.000000000,2019-01-24 21:18:44.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 25674}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-01-24 00:42:59.000000000', 'files': ['senlin_tempest_plugin/common/constants.py'], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/fc3b473eaaf12d5b59c5a74e7f2d7691ca582c6a', 'message': 'Bump cirros image version to 0.4.0\n\nThis patch bumps the cirros image version so gates pass. Will be\nlooking to implement a more permenant solution in the future.\n\nChange-Id: I9da6cf3045752b1e7e3344f042197d9ef11a0909\n'}]",0,632837,fc3b473eaaf12d5b59c5a74e7f2d7691ca582c6a,11,4,1,25674,,,0,"Bump cirros image version to 0.4.0

This patch bumps the cirros image version so gates pass. Will be
looking to implement a more permenant solution in the future.

Change-Id: I9da6cf3045752b1e7e3344f042197d9ef11a0909
",git fetch https://review.opendev.org/openstack/senlin-tempest-plugin refs/changes/37/632837/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin_tempest_plugin/common/constants.py'],1,fc3b473eaaf12d5b59c5a74e7f2d7691ca582c6a,cirros_update," ""image"": ""cirros-0.4.0-x86_64-disk"","," ""image"": ""cirros-0.3.6-x86_64-disk"",",1,1
openstack%2Fmanila-image-elements~master~Ie0c367591c0e1ae4fefb62688ecd76aff5b94464,openstack/manila-image-elements,master,Ie0c367591c0e1ae4fefb62688ecd76aff5b94464,Add native Zuul v3 manila image elements jobs,MERGED,2019-01-18 17:41:23.000000000,2019-01-24 21:17:37.000000000,2019-01-24 21:17:36.000000000,"[{'_account_id': 2417}, {'_account_id': 6547}, {'_account_id': 9003}, {'_account_id': 10459}, {'_account_id': 16643}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-18 17:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/b541a9e37763f48f9d7cf28697c00418ee48b5ca', 'message': 'DNM - experimenting with zuulv3 conversion\n\nChange-Id: Ie0c367591c0e1ae4fefb62688ecd76aff5b94464\n'}, {'number': 2, 'created': '2019-01-18 18:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/4a9874f64cf3ac9834754c9397b9e7094d9f8401', 'message': 'DNM - experimenting with zuulv3 conversion\n\nChange-Id: Ie0c367591c0e1ae4fefb62688ecd76aff5b94464\n'}, {'number': 3, 'created': '2019-01-18 19:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/c566aaa547c198e93f250a8f4c4d73d351bc3f9e', 'message': 'DNM - experimenting with zuulv3 conversion\n\nChange-Id: Ie0c367591c0e1ae4fefb62688ecd76aff5b94464\n'}, {'number': 4, 'created': '2019-01-18 21:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/be4f9dcd4ef452db0f528ac115c59fbe62affd5e', 'message': 'DNM - experimenting with zuulv3 conversion\n\nChange-Id: Ie0c367591c0e1ae4fefb62688ecd76aff5b94464\n'}, {'number': 5, 'created': '2019-01-18 22:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/d8558d776c72c4c4c38268cddae7ed367d0fe194', 'message': 'DNM - experimenting with zuulv3 conversion\n\nChange-Id: Ie0c367591c0e1ae4fefb62688ecd76aff5b94464\n'}, {'number': 6, 'created': '2019-01-18 22:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/b257c72ff82e19d41f72e8bed9d69090f4130202', 'message': 'DNM - experimenting with zuulv3 conversion\n\nChange-Id: Ie0c367591c0e1ae4fefb62688ecd76aff5b94464\n'}, {'number': 7, 'created': '2019-01-18 22:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/8468039650dcd57ff2b68ae0538e92b011c6322a', 'message': 'DNM - experimenting with zuulv3 conversion\n\nChange-Id: Ie0c367591c0e1ae4fefb62688ecd76aff5b94464\n'}, {'number': 8, 'created': '2019-01-18 23:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/b14a42e402a3386a1da690b3b81b4b0c7397dc74', 'message': 'DNM - experimenting with zuulv3 conversion\n\nChange-Id: Ie0c367591c0e1ae4fefb62688ecd76aff5b94464\n'}, {'number': 9, 'created': '2019-01-19 11:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/d7b58f91c367f31f2f99309c64593a346230748a', 'message': ""Add native Zuul v3 manila image elements jobs\n\nReplace the auto-converted legacy jobs with native jobs\nand define all the jobs in-tree.  After we merge this we\ncan remove the legacy-manila-publish-generic job from the\nopenstack-zuul-jobs repository.\n\nNote that the old job apparently relied on some JJB magic\nto construct tagged-image names.  This no longer works so\ninstead we use 'git describe --tags' to obtain a current\ntag, publish the image with its tagged name, and symlink\nmanila-service-image-master.qcow2 -- which is the expected\nimage-name for our CI jobs -- to it.\n\nUnfortunately the new publish job can't be tested\nbeforehand so we may have to follow this with another\npatch if there are issues.\n\nCloses-Bug: #1812478\nChange-Id: Ie0c367591c0e1ae4fefb62688ecd76aff5b94464\n""}, {'number': 10, 'created': '2019-01-22 00:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/a3786fccb52ac2c2311520d68be6aa8db6c924a8', 'message': ""Add native Zuul v3 manila image elements jobs\n\nReplace the auto-converted legacy jobs with native jobs\nand define all the jobs in-tree.  After we merge this we\ncan remove the legacy-manila-publish-generic job from the\nopenstack-zuul-jobs repository.\n\nNote that the old job apparently relied on some JJB magic\nto construct tagged-image names.  This no longer works so\ninstead we use 'git describe --tags' to obtain a current\ntag, publish the image with its tagged name, and symlink\nmanila-service-image-master.qcow2 -- which is the expected\nimage-name for our CI jobs -- to it.\n\nUnfortunately the new publish job can't be tested\nbeforehand so we may have to follow this with another\npatch if there are issues.\n\nCloses-Bug: #1812478\nChange-Id: Ie0c367591c0e1ae4fefb62688ecd76aff5b94464\n""}, {'number': 11, 'created': '2019-01-22 13:16:43.000000000', 'files': ['playbooks/manila-buildimage-generic/run.yaml', '.zuul.yaml', 'playbooks/manila-buildimage-docker/run.yaml', 'playbooks/manila-publish-artifacts/post.yaml'], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/ee41dc68a809dc4a4b9a973ee3f62ecb6822d11f', 'message': ""Add native Zuul v3 manila image elements jobs\n\nReplace the auto-converted legacy jobs with native jobs\nand define all the jobs in-tree.  After we merge this we\ncan remove the legacy-manila-publish-generic job from the\nopenstack-zuul-jobs repository.\n\nNote that the old job apparently relied on some JJB magic\nto construct tagged-image names.  This no longer works so\ninstead we use 'git describe --tags' to obtain a current\ntag, publish the image with its tagged name, and symlink\nmanila-service-image-master.qcow2 -- which is the expected\nimage-name for our CI jobs -- to it.\n\nUnfortunately the new publish job can't be tested\nbeforehand so we may have to follow this with another\npatch if there are issues.\n\nCloses-Bug: #1812478\nChange-Id: Ie0c367591c0e1ae4fefb62688ecd76aff5b94464\n""}]",9,631846,ee41dc68a809dc4a4b9a973ee3f62ecb6822d11f,35,7,11,9003,,,0,"Add native Zuul v3 manila image elements jobs

Replace the auto-converted legacy jobs with native jobs
and define all the jobs in-tree.  After we merge this we
can remove the legacy-manila-publish-generic job from the
openstack-zuul-jobs repository.

Note that the old job apparently relied on some JJB magic
to construct tagged-image names.  This no longer works so
instead we use 'git describe --tags' to obtain a current
tag, publish the image with its tagged name, and symlink
manila-service-image-master.qcow2 -- which is the expected
image-name for our CI jobs -- to it.

Unfortunately the new publish job can't be tested
beforehand so we may have to follow this with another
patch if there are issues.

Closes-Bug: #1812478
Change-Id: Ie0c367591c0e1ae4fefb62688ecd76aff5b94464
",git fetch https://review.opendev.org/openstack/manila-image-elements refs/changes/46/631846/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/manila-buildimage-generic/run.yaml', '.zuul.yaml', 'playbooks/manila-buildimage-docker/run.yaml', 'playbooks/manila-publish-artifacts/post.yaml']",4,b541a9e37763f48f9d7cf28697c00418ee48b5ca,bug/1812478,"- hosts: all name: Copy artifacts tasks: - synchronize: dest: ""{{ zuul.executor.work_root }}/artifacts/"" mode: pull src: ""{{ zuul.project.src_dir }}/dist"" copy_links: true verify_host: true rsync-opts: - --include=/dist/** - --include=*/ - --exclude=* - --prune-empty-dirs ",,75,103
openstack%2Fmonasca-agent~stable%2Frocky~I8c6539cf692e090290cfdf104eb22530a625aadb,openstack/monasca-agent,stable/rocky,I8c6539cf692e090290cfdf104eb22530a625aadb,enable Keystone v3 support for http_check detection plugin,MERGED,2019-01-04 16:54:00.000000000,2019-01-24 20:59:06.000000000,2019-01-24 20:59:06.000000000,"[{'_account_id': 10311}, {'_account_id': 12542}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-04 16:54:00.000000000', 'files': ['monasca_setup/detection/plugins/http_check.py', 'tests/detection/test_http_check.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/d7018e2166ec5f68bbdde44893db51d64a74148e', 'message': 'enable Keystone v3 support for http_check detection plugin\n\nTo properly support Keystone V3, we must also properly convey\nthe domain information to the Keystone authentication plugins.\n\nChange-Id: I8c6539cf692e090290cfdf104eb22530a625aadb\nstory: 2004655\n(cherry picked from commit dd5441cd401fc875e53a978080627beec2b42fc6)\n'}]",0,628618,d7018e2166ec5f68bbdde44893db51d64a74148e,7,4,1,1916,,,0,"enable Keystone v3 support for http_check detection plugin

To properly support Keystone V3, we must also properly convey
the domain information to the Keystone authentication plugins.

Change-Id: I8c6539cf692e090290cfdf104eb22530a625aadb
story: 2004655
(cherry picked from commit dd5441cd401fc875e53a978080627beec2b42fc6)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/18/628618/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_setup/detection/plugins/http_check.py', 'tests/detection/test_http_check.py']",2,d7018e2166ec5f68bbdde44893db51d64a74148e,story-2004655-stable/rocky,"# (C) Copyright 2016 Hewlett Packard Enterprise Development LP # (C) Copyright 2018 SUSE LLC # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import unittest from monasca_setup.detection.plugins.http_check import HttpCheck class TestHttpCheck(unittest.TestCase): def setUp(self): unittest.TestCase.setUp(self) def test_processs_keystone_global_args(self): args = ('keystone_url=https://my.keystone.host.com/identity ' 'keystone_user=foo keystone_password=testpasswd ' 'keystone_project=test_project keystone_project_domain=bar ' 'keystone_user_domain=bar use_keystone=True ' 'url=https://myurl.com') plugin = HttpCheck(None, args=args) conf = plugin.build_config() self.assertTrue('keystone_config' in conf['http_check']['init_config']) expected_keystone_config = { 'keystone_url': 'https://my.keystone.host.com/identity', 'username': 'foo', 'password': 'testpasswd', 'project_name': 'test_project', 'project_domain_name': 'bar', 'user_domain_name': 'bar' } self.assertDictEqual( expected_keystone_config, conf['http_check']['init_config']['keystone_config']) ",,59,0
openstack%2Fos-net-config~stable%2Fqueens~Ibd9b28128900d9e959b82eb8673b8380bf20606a,openstack/os-net-config,stable/queens,Ibd9b28128900d9e959b82eb8673b8380bf20606a,Fix numbered NIC mapping when using dotted VLAN notation,MERGED,2018-08-01 13:52:30.000000000,2019-01-24 20:37:23.000000000,2019-01-24 20:37:23.000000000,"[{'_account_id': 6681}, {'_account_id': 9592}, {'_account_id': 12398}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-01 13:52:30.000000000', 'files': ['os_net_config/tests/test_objects.py', 'os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e771e088c5eada6b9ab0ec5c32fec6fe98d25131', 'message': 'Fix numbered NIC mapping when using dotted VLAN notation\n\nWhen declaring VLANs using dotted notation (such as em1.10\nfor VLAN 10 on interface em1), numbered NICs are not\nproperly mapped to real interface names. This patch fixes\nthe handling of the mapped NIC names inside the BaseOpts\nobject that is the base class for all interface types.\nThis allows an interface name of ""nic1.10"" to be mapped\nto, e.g. ""em1.10""\n\nCloses-bug: #1783206\n\nChange-Id: Ibd9b28128900d9e959b82eb8673b8380bf20606a\n(cherry picked from commit e12837353dc3668da7cfc575777ef197df4b0497)\n'}]",0,587826,e771e088c5eada6b9ab0ec5c32fec6fe98d25131,17,5,1,17280,,,0,"Fix numbered NIC mapping when using dotted VLAN notation

When declaring VLANs using dotted notation (such as em1.10
for VLAN 10 on interface em1), numbered NICs are not
properly mapped to real interface names. This patch fixes
the handling of the mapped NIC names inside the BaseOpts
object that is the base class for all interface types.
This allows an interface name of ""nic1.10"" to be mapped
to, e.g. ""em1.10""

Closes-bug: #1783206

Change-Id: Ibd9b28128900d9e959b82eb8673b8380bf20606a
(cherry picked from commit e12837353dc3668da7cfc575777ef197df4b0497)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/26/587826/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_objects.py', 'os_net_config/objects.py']",2,e771e088c5eada6b9ab0ec5c32fec6fe98d25131,bug/1783206-stable/queens," # Split name to support <nic>.<vlan_id> format, e.g. em1.10 or nic1.10 if len(name.split('.')) > 1 and name.split('.')[1].isdigit(): base_name = name.split('.')[0] vlan_suffix = '.%s' % name.split('.')[1] else: base_name = name vlan_suffix = '' if base_name in mapped_nic_names: self.hwname = '%s%s' % (mapped_nic_names[base_name], vlan_suffix) self.name = '%s%s' % (mapped_nic_names[base_name], vlan_suffix)", if name in mapped_nic_names: self.hwname = mapped_nic_names[name] self.name = mapped_nic_names[name],20,3
openstack%2Ftripleo-common~master~Ic7df022bd6586e968e4bcb4b9bc4ea110730ae44,openstack/tripleo-common,master,Ic7df022bd6586e968e4bcb4b9bc4ea110730ae44,nova-less-deploy: follow-up to deploy_instances,MERGED,2019-01-23 11:37:48.000000000,2019-01-24 20:37:22.000000000,2019-01-24 20:37:22.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 11:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9d01217345d03aa97bb503a94f8f7edd313b60a9', 'message': 'nova-less-deploy: follow-up to deploy_instances\n\nA few fixes based on the review of commit 1ca666b2:\n* Handle failures from wait_for_provisioning\n* Remove redundant exception handling on clean up\n* Catch a potential clash between node names and hostnames\n\nChange-Id: Ic7df022bd6586e968e4bcb4b9bc4ea110730ae44\nImplements: blueprint nova-less-deploy\n'}, {'number': 2, 'created': '2019-01-23 13:32:43.000000000', 'files': ['tripleo_common/actions/baremetal_deploy.py', 'tripleo_common/tests/actions/test_baremetal_deploy.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c08714038118fbf7b41067a2b9e79f8fe072b8de', 'message': 'nova-less-deploy: follow-up to deploy_instances\n\nA few fixes based on the review of commit 1ca666b2:\n* Handle failures from wait_for_provisioning\n* Remove redundant exception handling on clean up\n* Catch a potential clash between node names and hostnames\n* Add a sanity check on duplicate names and hostnames\n\nChange-Id: Ic7df022bd6586e968e4bcb4b9bc4ea110730ae44\nImplements: blueprint nova-less-deploy\n'}]",0,632701,c08714038118fbf7b41067a2b9e79f8fe072b8de,10,5,2,10239,,,0,"nova-less-deploy: follow-up to deploy_instances

A few fixes based on the review of commit 1ca666b2:
* Handle failures from wait_for_provisioning
* Remove redundant exception handling on clean up
* Catch a potential clash between node names and hostnames
* Add a sanity check on duplicate names and hostnames

Change-Id: Ic7df022bd6586e968e4bcb4b9bc4ea110730ae44
Implements: blueprint nova-less-deploy
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/01/632701/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/baremetal_deploy.py', 'tripleo_common/tests/actions/test_baremetal_deploy.py']",2,9d01217345d03aa97bb503a94f8f7edd313b60a9,bp/nova-less-deploy," @mock.patch.object(baremetal_deploy.LOG, 'exception', autospec=True) def test_failure(self, mock_log, mock_pr): mock_log.assert_called_once_with('Provisioning failed, cleaning up') @mock.patch.object(baremetal_deploy.LOG, 'exception', autospec=True) def test_failure_to_clean_up(self, mock_log, mock_pr): instances = [ {'hostname': 'host1'}, {'hostname': 'host2', 'resource_class': 'compute', 'capabilities': {'answer': '42'}}, {'hostname': 'host3'}, ] success_node = mock.Mock(uuid='uuid1') mock_pr.return_value.reserve_node.side_effect = [ success_node, RuntimeError(""boom""), ] mock_pr.return_value.unprovision_node.side_effect = AssertionError action = baremetal_deploy.ReserveNodesAction(instances) result = action.run(mock.Mock()) self.assertIn('RuntimeError: boom', result.error) mock_pr.return_value.reserve_node.assert_has_calls([ mock.call(resource_class='baremetal', capabilities=None, candidates=None, traits=None), mock.call(resource_class='compute', capabilities={'answer': '42'}, candidates=None, traits=None) ]) mock_pr.return_value.unprovision_node.assert_called_once_with( success_node) mock_log.assert_has_calls([ mock.call('Provisioning failed, cleaning up'), mock.call('Unable to release node %s, moving on', success_node) ]) @mock.patch.object(baremetal_deploy.LOG, 'exception', autospec=True) def test_failure(self, mock_log, mock_pr): instance = {'hostname': 'host1'} instance=instance, mock_log.assert_called_once_with( 'Provisioning of %s on node %s failed', instance, '1234') @mock.patch.object(baremetal_deploy.LOG, 'exception', autospec=True) def test_failure_to_clean_up(self, mock_log, mock_pr): pr = mock_pr.return_value instance = {'hostname': 'host1'} action = baremetal_deploy.DeployNodeAction( instance=instance, node='1234' ) pr.provision_node.side_effect = RuntimeError('boom') pr.unprovision_node.side_effect = AssertionError result = action.run(mock.Mock()) self.assertIn('RuntimeError: boom', result.error) pr.provision_node.assert_called_once_with( '1234', image=mock.ANY, nics=[{'network': 'ctlplane'}], hostname='host1', root_size_gb=49, swap_size_mb=None, config=mock.ANY, ) pr.unprovision_node.assert_called_once_with('1234') mock_log.assert_has_calls([ mock.call('Provisioning of %s on node %s failed', instance, '1234'), mock.call('Unable to release node %s, moving on', '1234') ]) existing = mock.MagicMock(hostname='host2') def test_hostname_mismatch(self, mock_pr): instances = [ {'hostname': 'host1'}, ] mock_pr.return_value.show_instance.return_value.hostname = 'host2' action = baremetal_deploy.CheckExistingInstancesAction(instances) result = action.run(mock.Mock()) self.assertIn(""hostname host1 was not found"", result.error) mock_pr.return_value.show_instance.assert_called_once_with('host1') def test_failure(self, mock_pr): pr = mock_pr.return_value pr.wait_for_provisioning.side_effect = RuntimeError('boom') action = baremetal_deploy.WaitForDeploymentAction( {'hostname': 'compute.cloud', 'uuid': 'uuid1'}) result = action.run(mock.Mock()) self.assertIn(""RuntimeError: boom"", result.error) pr.wait_for_provisioning.assert_called_once_with(['uuid1'], timeout=3600) self.assertFalse(pr.unprovision_node.called) "," def test_failure(self, mock_pr): def test_failure(self, mock_pr): instance={'hostname': 'host1'}, existing = mock.MagicMock()",117,16
openstack%2Frequirements~master~Ic55d1a8bd41184cbcc29121894c2efd9e60bf172,openstack/requirements,master,Ic55d1a8bd41184cbcc29121894c2efd9e60bf172,update constraint for os-service-types to new release 1.5.0,MERGED,2019-01-22 21:42:05.000000000,2019-01-24 20:35:40.000000000,2019-01-24 20:35:40.000000000,"[{'_account_id': 2}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 21:42:05.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/70de2438eb73683f9fbce1ebd954886ed321ec0b', 'message': 'update constraint for os-service-types to new release 1.5.0\n\nChange-Id: Ic55d1a8bd41184cbcc29121894c2efd9e60bf172\nmeta:version: 1.5.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Eric Fried <efried@us.ibm.com>\nmeta:release:Commit: Eric Fried <efried@us.ibm.com>\nmeta:release:Change-Id: I932d92ae2c6e20c80952db2bbb5baf3674b2cd49\nmeta:release:Code-Review+1: Monty Taylor <mordred@inaugust.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,632561,70de2438eb73683f9fbce1ebd954886ed321ec0b,24,5,1,11131,,,0,"update constraint for os-service-types to new release 1.5.0

Change-Id: Ic55d1a8bd41184cbcc29121894c2efd9e60bf172
meta:version: 1.5.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Eric Fried <efried@us.ibm.com>
meta:release:Commit: Eric Fried <efried@us.ibm.com>
meta:release:Change-Id: I932d92ae2c6e20c80952db2bbb5baf3674b2cd49
meta:release:Code-Review+1: Monty Taylor <mordred@inaugust.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/632561/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,70de2438eb73683f9fbce1ebd954886ed321ec0b,new-release,os-service-types===1.5.0,os-service-types===1.4.0,1,1
openstack%2Ftripleo-common~stable%2Frocky~I50720c2f1bdb8dce92e297c4d6bfac716bb85b89,openstack/tripleo-common,stable/rocky,I50720c2f1bdb8dce92e297c4d6bfac716bb85b89,Fix skip of octavia-undercloud Ansible role,MERGED,2018-10-07 10:27:55.000000000,2019-01-24 20:08:31.000000000,2019-01-24 20:08:31.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 6681}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 11082}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-10-07 10:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e36a0e94f388419ee1e841b7c677958811bbd6ed', 'message': ""Fix skip of octavia-undercloud Ansible role\n\nThe migration of Octavia to external_deploy_task [1] changed the\nundercloud group name from 'undercloud' to 'Undecloud' in line with [2].\nDue to that, the execution of role octavia-undercloud was being skipped\nas no host pattern could be matched.\n\n[1] https://review.openstack.org/#/c/559374/\n[2] https://review.openstack.org/#/c/588075/\n\nCloses-Bug: #1786786\nDepends-On: https://review.openstack.org/580119\n\nChange-Id: I50720c2f1bdb8dce92e297c4d6bfac716bb85b89\n""}, {'number': 2, 'created': '2018-10-09 08:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ad9bf98b3db428b9468316b6af59672e82548d82', 'message': ""Fix skip of octavia-undercloud Ansible role\n\nThe migration of Octavia to external_deploy_task [1] changed the\nundercloud group name from 'undercloud' to 'Undecloud' in line with [2].\nDue to that, the execution of role octavia-undercloud was being skipped\nas no host pattern could be matched.\n\n[1] https://review.openstack.org/#/c/559374/\n[2] https://review.openstack.org/#/c/588075/\n\nCloses-Bug: #1786786\nDepends-On: https://review.openstack.org/580119\n\nChange-Id: I50720c2f1bdb8dce92e297c4d6bfac716bb85b89\n(cherry picked from commit 188e1d4b5d21b09e83f7c0e575fcdc210c08d5fc)\n""}, {'number': 3, 'created': '2018-12-10 10:39:52.000000000', 'files': ['playbooks/octavia-files.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8b40faa71c6043531f88dffe3af837afbf382793', 'message': ""Fix skip of octavia-undercloud Ansible role\n\nThe migration of Octavia to external_deploy_task [1] changed the\nundercloud group name from 'undercloud' to 'Undecloud' in line with [2].\nDue to that, the execution of role octavia-undercloud was being skipped\nas no host pattern could be matched.\n\n[1] https://review.openstack.org/#/c/559374/\n[2] https://review.openstack.org/#/c/588075/\n\nCloses-Bug: #1786786\nDepends-On: https://review.openstack.org/580119\n\nChange-Id: I50720c2f1bdb8dce92e297c4d6bfac716bb85b89\n(cherry picked from commit 188e1d4b5d21b09e83f7c0e575fcdc210c08d5fc)\n""}]",0,608449,8b40faa71c6043531f88dffe3af837afbf382793,34,10,3,6579,,,0,"Fix skip of octavia-undercloud Ansible role

The migration of Octavia to external_deploy_task [1] changed the
undercloud group name from 'undercloud' to 'Undecloud' in line with [2].
Due to that, the execution of role octavia-undercloud was being skipped
as no host pattern could be matched.

[1] https://review.openstack.org/#/c/559374/
[2] https://review.openstack.org/#/c/588075/

Closes-Bug: #1786786
Depends-On: https://review.openstack.org/580119

Change-Id: I50720c2f1bdb8dce92e297c4d6bfac716bb85b89
(cherry picked from commit 188e1d4b5d21b09e83f7c0e575fcdc210c08d5fc)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/49/608449/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/octavia-files.yaml'],1,e36a0e94f388419ee1e841b7c677958811bbd6ed,gate-octavia-stable/rocky,- hosts: Undercloud[0],- hosts: undercloud[0],1,1
openstack%2Ftripleo-heat-templates~master~Ic0aa06afc61cf4536d476b429ac6cbf1a05dbfe0,openstack/tripleo-heat-templates,master,Ic0aa06afc61cf4536d476b429ac6cbf1a05dbfe0,Mount mysql client configuration in nova cell discovery container,MERGED,2019-01-24 11:16:10.000000000,2019-01-24 20:08:29.000000000,2019-01-24 20:08:29.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18002}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-01-24 11:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/566207ded8b0465bd54bb120ec35843c668604bc', 'message': 'Mount mysql client configuration in nova cell discovery container\n\nWithout this it will ignore the TLS options (like the CA), and will fail\nwhen TLS everywhere is enabled.\n\nChange-Id: Ic0aa06afc61cf4536d476b429ac6cbf1a05dbfe0\nCloses-Bug: #1813148\n'}, {'number': 2, 'created': '2019-01-24 13:50:56.000000000', 'files': ['docker/services/nova-ironic.yaml', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad81fba15da5bf6dc07153cc4c49ab48a334ee44', 'message': 'Mount mysql client configuration in nova cell discovery container\n\nWithout this it will ignore the TLS options (like the CA), and will fail\nwhen TLS everywhere is enabled.\n\nChange-Id: Ic0aa06afc61cf4536d476b429ac6cbf1a05dbfe0\nCloses-Bug: #1813148\n'}]",1,632988,ad81fba15da5bf6dc07153cc4c49ab48a334ee44,21,11,2,10873,,,0,"Mount mysql client configuration in nova cell discovery container

Without this it will ignore the TLS options (like the CA), and will fail
when TLS everywhere is enabled.

Change-Id: Ic0aa06afc61cf4536d476b429ac6cbf1a05dbfe0
Closes-Bug: #1813148
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/632988/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/nova-ironic.yaml', 'docker/services/nova-compute.yaml']",2,566207ded8b0465bd54bb120ec35843c668604bc,bug/1813148, - /var/lib/config-data/nova_libvirt/etc/my.cnf.d/:/etc/my.cnf.d/:ro,,2,0
openstack%2Fdevstack~master~I419348f1784600e3989c8e86a99c04b24f3610c4,openstack/devstack,master,I419348f1784600e3989c8e86a99c04b24f3610c4,Update default cirros version,MERGED,2017-11-21 11:56:50.000000000,2019-01-24 20:02:56.000000000,2019-01-20 15:20:35.000000000,"[{'_account_id': 1653}, {'_account_id': 7118}, {'_account_id': 9542}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 27078}]","[{'number': 1, 'created': '2017-11-21 11:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e9eb5103e45e22af4f26672a5d01822eafe5a050', 'message': 'Update default cirros version\n\nCirros has a new release 0.4.0, which fixes a couple of issues.\n\nChange-Id: I419348f1784600e3989c8e86a99c04b24f3610c4\n'}, {'number': 2, 'created': '2018-12-19 12:42:38.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/15b6ac98cb932488bce77b267f0f27903f0d47d0', 'message': 'Update default cirros version\n\nCirros has a new release 0.4.0, which fixes a couple of issues.\n\nChange-Id: I419348f1784600e3989c8e86a99c04b24f3610c4\n'}]",0,521825,15b6ac98cb932488bce77b267f0f27903f0d47d0,44,10,2,13252,,,0,"Update default cirros version

Cirros has a new release 0.4.0, which fixes a couple of issues.

Change-Id: I419348f1784600e3989c8e86a99c04b24f3610c4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/25/521825/2 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,e9eb5103e45e22af4f26672a5d01822eafe5a050,update-cirros,"CIRROS_VERSION=${CIRROS_VERSION:-""0.4.0""}","CIRROS_VERSION=${CIRROS_VERSION:-""0.3.5""}",1,1
openstack%2Fnova~master~I6e15c6507d037ffe263a460441858ed454b02504,openstack/nova,master,I6e15c6507d037ffe263a460441858ed454b02504,Per aggregate scheduling weight,MERGED,2019-01-03 12:21:19.000000000,2019-01-24 19:58:52.000000000,2019-01-24 19:58:51.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-03 12:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04acda84be2866c38943132f4e1b394df91ae897', 'message': 'WIP: Per aggregate scheduling weight\n\nChange-Id: I6e15c6507d037ffe263a460441858ed454b02504\n'}, {'number': 2, 'created': '2019-01-04 06:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a5de601e7bdd0674a06c3441bf899b5bbfc7c0b', 'message': ""WIP: Per aggregate scheduling weight\n\nThis spec proposes to add ability to allow users to use\n``Aggregate``'s ``metadata`` to override the global config options\nfor weights to achieve more fine-grained control over resource\nweights.\n\nblueprint: per-aggregate-scheduling-weight\n\nChange-Id: I6e15c6507d037ffe263a460441858ed454b02504\n""}, {'number': 3, 'created': '2019-01-04 09:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/069c8a5e3117ec76f2d46e0debced1d74bbe4bdd', 'message': ""Per aggregate scheduling weight\n\nThis spec proposes to add ability to allow users to use\n``Aggregate``'s ``metadata`` to override the global config options\nfor weights to achieve more fine-grained control over resource\nweights.\n\nblueprint: per-aggregate-scheduling-weight\n\nChange-Id: I6e15c6507d037ffe263a460441858ed454b02504\n""}, {'number': 4, 'created': '2019-01-04 09:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad0cfcf225ed21063aa59e483ba76bfabfdf8124', 'message': ""Per aggregate scheduling weight\n\nThis spec proposes to add ability to allow users to use\n``Aggregate``'s ``metadata`` to override the global config options\nfor weights to achieve more fine-grained control over resource\nweights.\n\nblueprint: per-aggregate-scheduling-weight\n\nChange-Id: I6e15c6507d037ffe263a460441858ed454b02504\n""}, {'number': 5, 'created': '2019-01-07 09:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dba8ab4f51ee02ecb1564faf23462c8fecefa38', 'message': ""Per aggregate scheduling weight\n\nThis spec proposes to add ability to allow users to use\n``Aggregate``'s ``metadata`` to override the global config options\nfor weights to achieve more fine-grained control over resource\nweights.\n\nblueprint: per-aggregate-scheduling-weight\n\nChange-Id: I6e15c6507d037ffe263a460441858ed454b02504\n""}, {'number': 6, 'created': '2019-01-08 01:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/351f2a64a4d85a42a9b4d06e37dc114e6c01a78d', 'message': ""Per aggregate scheduling weight\n\nThis spec proposes to add ability to allow users to use\n``Aggregate``'s ``metadata`` to override the global config options\nfor weights to achieve more fine-grained control over resource\nweights.\n\nblueprint: per-aggregate-scheduling-weight\n\nChange-Id: I6e15c6507d037ffe263a460441858ed454b02504\n""}, {'number': 7, 'created': '2019-01-08 12:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0637c5957a23eed1cedcf3d42b5bf6a7ca08d50d', 'message': ""Per aggregate scheduling weight\n\nThis spec proposes to add ability to allow users to use\n``Aggregate``'s ``metadata`` to override the global config options\nfor weights to achieve more fine-grained control over resource\nweights.\n\nblueprint: per-aggregate-scheduling-weight\n\nChange-Id: I6e15c6507d037ffe263a460441858ed454b02504\n""}, {'number': 8, 'created': '2019-01-09 08:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e1f6b1c1a15fd6aa31d8100626d771563a06b3d', 'message': ""Per aggregate scheduling weight\n\nThis spec proposes to add ability to allow users to use\n``Aggregate``'s ``metadata`` to override the global config options\nfor weights to achieve more fine-grained control over resource\nweights.\n\nblueprint: per-aggregate-scheduling-weight\n\nChange-Id: I6e15c6507d037ffe263a460441858ed454b02504\n""}, {'number': 9, 'created': '2019-01-09 15:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4f860b9937bd3af97e5ac0af40e6b71bc4bb2d6', 'message': 'Per aggregate scheduling weight\n\nThis patch adds the ability to allow users to use ``Aggregate``\'s\n``metadata`` to override the global config options for weights to\nachieve more fine-grained control over resource weights.\n\nIf per-aggregate value with the key ""xxx_weight_multipiler"" is found,\nthis value would be choosen as the weight multipiler. Otherwise, it\nwill fall back to the weight multipiler configurations. If more than\none value is found for a host in aggregate metadata, the minimum value\nwill be used.\n\nblueprint: per-aggregate-scheduling-weight\n\nChange-Id: I6e15c6507d037ffe263a460441858ed454b02504\n'}, {'number': 10, 'created': '2019-01-11 02:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1857337234544eae5ae2fa1c3a9f5bae093e19d1', 'message': ""Per aggregate scheduling weight\n\nThis spec proposes to add ability to allow users to use\n``Aggregate``'s ``metadata`` to override the global config options\nfor weights to achieve more fine-grained control over resource\nweights.\n\nblueprint: per-aggregate-scheduling-weight\n\nChange-Id: I6e15c6507d037ffe263a460441858ed454b02504\n""}, {'number': 11, 'created': '2019-01-11 06:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/545523a7d25bac319ff6d222ce70632be4d2f33d', 'message': ""Per aggregate scheduling weight\n\nThis spec proposes to add ability to allow users to use\n``Aggregate``'s ``metadata`` to override the global config options\nfor weights to achieve more fine-grained control over resource\nweights.\n\nblueprint: per-aggregate-scheduling-weight\n\nChange-Id: I6e15c6507d037ffe263a460441858ed454b02504\n""}, {'number': 12, 'created': '2019-01-17 09:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94605380e00d0f433d4e66880e98e313f9ec5fb3', 'message': ""Per aggregate scheduling weight\n\nThis spec proposes to add ability to allow users to use\n``Aggregate``'s ``metadata`` to override the global config options\nfor weights to achieve more fine-grained control over resource\nweights.\n\nblueprint: per-aggregate-scheduling-weight\n\nChange-Id: I6e15c6507d037ffe263a460441858ed454b02504\n""}, {'number': 13, 'created': '2019-01-21 03:51:48.000000000', 'files': ['nova/scheduler/weights/cpu.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/weights/test_weights_cpu.py', 'nova/tests/unit/scheduler/weights/test_weights_metrics.py', 'nova/tests/unit/scheduler/weights/test_weights_ioopsweight.py', 'nova/tests/unit/test_weights.py', 'nova/weights.py', 'nova/scheduler/weights/io_ops.py', 'nova/tests/unit/scheduler/weights/test_weights_compute.py', 'nova/scheduler/weights/affinity.py', 'doc/source/admin/configuration/schedulers.rst', 'nova/scheduler/weights/compute.py', 'nova/scheduler/weights/disk.py', 'nova/scheduler/weights/pci.py', 'nova/cells/weights/ram_by_instance_type.py', 'nova/scheduler/weights/metrics.py', 'nova/cells/weights/mute_child.py', 'releasenotes/notes/per-aggregate-scheduling-weight-7535fd6e8345034d.yaml', 'nova/tests/unit/scheduler/weights/test_weights_affinity.py', 'nova/cells/weights/weight_offset.py', 'nova/tests/unit/scheduler/weights/test_weights_disk.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/tests/unit/scheduler/weights/test_weights_ram.py', 'doc/source/user/filter-scheduler.rst', 'nova/scheduler/weights/ram.py', 'nova/tests/unit/scheduler/weights/test_weights_pci.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e66443770dc97f3006b360095b5158d2b203a74a', 'message': ""Per aggregate scheduling weight\n\nThis spec proposes to add ability to allow users to use\n``Aggregate``'s ``metadata`` to override the global config options\nfor weights to achieve more fine-grained control over resource\nweights.\n\nblueprint: per-aggregate-scheduling-weight\n\nChange-Id: I6e15c6507d037ffe263a460441858ed454b02504\n""}]",131,628163,e66443770dc97f3006b360095b5158d2b203a74a,274,19,13,20722,,,0,"Per aggregate scheduling weight

This spec proposes to add ability to allow users to use
``Aggregate``'s ``metadata`` to override the global config options
for weights to achieve more fine-grained control over resource
weights.

blueprint: per-aggregate-scheduling-weight

Change-Id: I6e15c6507d037ffe263a460441858ed454b02504
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/628163/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/weights/cpu.py', 'nova/scheduler/weights/pci.py', 'nova/scheduler/utils.py', 'nova/scheduler/weights/metrics.py', 'nova/scheduler/weights/ram.py', 'nova/scheduler/weights/compute.py', 'nova/weights.py', 'nova/scheduler/weights/disk.py', 'nova/scheduler/weights/io_ops.py', 'nova/scheduler/weights/affinity.py']",10,04acda84be2866c38943132f4e1b394df91ae897,bp/per-aggregate-scheduling-weight," def weight_multiplier(self, host_state): def weight_multiplier(self, host_state):", def weight_multiplier(self): def weight_multiplier(self):,34,14
openstack%2Ftripleo-heat-templates~master~I1655f780b6ff46fd18ec7b38c94789b3294b678b,openstack/tripleo-heat-templates,master,I1655f780b6ff46fd18ec7b38c94789b3294b678b,Move kernel config to deployment directory,MERGED,2019-01-22 20:44:02.000000000,2019-01-24 19:38:23.000000000,2019-01-24 19:38:23.000000000,"[{'_account_id': 360}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-22 20:44:02.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml', 'deployment/kernel/kernel-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7fea2d0751ddcb709f9a3596cbc264c79de7e431', 'message': 'Move kernel config to deployment directory\n\nChange-Id: I1655f780b6ff46fd18ec7b38c94789b3294b678b\nRelated-Blueprint: services-yaml-flattening\n'}]",0,632552,7fea2d0751ddcb709f9a3596cbc264c79de7e431,8,4,1,14985,,,0,"Move kernel config to deployment directory

Change-Id: I1655f780b6ff46fd18ec7b38c94789b3294b678b
Related-Blueprint: services-yaml-flattening
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/632552/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-resource-registry-puppet.j2.yaml', 'deployment/kernel/kernel-baremetal-puppet.yaml']",2,7fea2d0751ddcb709f9a3596cbc264c79de7e431,bp/services-yaml-flattening,,,1,1
openstack%2Frequirements~stable%2Frocky~I5831a284aec98611894695705208d9ab29770d35,openstack/requirements,stable/rocky,I5831a284aec98611894695705208d9ab29770d35,update constraint for python-barbicanclient to new release 4.7.2,MERGED,2019-01-23 23:21:39.000000000,2019-01-24 19:36:58.000000000,2019-01-24 19:36:58.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 23:21:39.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/70da195a5c3e4de56d8262574eeeb0de6f7c9b0d', 'message': 'update constraint for python-barbicanclient to new release 4.7.2\n\nChange-Id: I5831a284aec98611894695705208d9ab29770d35\nmeta:version: 4.7.2\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Ade Lee <alee@redhat.com>\nmeta:release:Commit: Ade Lee <alee@redhat.com>\nmeta:release:Change-Id: I1f05caab6737d4fd406ac4c7474aadecb5716e10\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Ade Lee <alee@redhat.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,632828,70da195a5c3e4de56d8262574eeeb0de6f7c9b0d,8,2,1,11131,,,0,"update constraint for python-barbicanclient to new release 4.7.2

Change-Id: I5831a284aec98611894695705208d9ab29770d35
meta:version: 4.7.2
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Ade Lee <alee@redhat.com>
meta:release:Commit: Ade Lee <alee@redhat.com>
meta:release:Change-Id: I1f05caab6737d4fd406ac4c7474aadecb5716e10
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Ade Lee <alee@redhat.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/28/632828/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,70da195a5c3e4de56d8262574eeeb0de6f7c9b0d,new-release,python-barbicanclient===4.7.2,python-barbicanclient===4.7.1,1,1
openstack%2Frequirements~stable%2Fqueens~I3260387ff5e42bcf0911f43b6b3dd99b2326c461,openstack/requirements,stable/queens,I3260387ff5e42bcf0911f43b6b3dd99b2326c461,update constraint for python-barbicanclient to new release 4.6.1,MERGED,2019-01-23 23:19:13.000000000,2019-01-24 19:36:57.000000000,2019-01-24 19:36:57.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 23:19:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/127de32212b96f617aa9362ae51f2eff4c2ff169', 'message': 'update constraint for python-barbicanclient to new release 4.6.1\n\nChange-Id: I3260387ff5e42bcf0911f43b6b3dd99b2326c461\nmeta:version: 4.6.1\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Ade Lee <alee@redhat.com>\nmeta:release:Commit: Ade Lee <alee@redhat.com>\nmeta:release:Change-Id: Ibcc6e2a103ec5282a42073bc2d56b57896e992dd\nmeta:release:Code-Review-1: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Code-Review+1: Ade Lee <alee@redhat.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,632827,127de32212b96f617aa9362ae51f2eff4c2ff169,8,2,1,11131,,,0,"update constraint for python-barbicanclient to new release 4.6.1

Change-Id: I3260387ff5e42bcf0911f43b6b3dd99b2326c461
meta:version: 4.6.1
meta:diff-start: -
meta:series: queens
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Ade Lee <alee@redhat.com>
meta:release:Commit: Ade Lee <alee@redhat.com>
meta:release:Change-Id: Ibcc6e2a103ec5282a42073bc2d56b57896e992dd
meta:release:Code-Review-1: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Code-Review+1: Ade Lee <alee@redhat.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/632827/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,127de32212b96f617aa9362ae51f2eff4c2ff169,new-release,python-barbicanclient===4.6.1,python-barbicanclient===4.6.0,1,1
openstack%2Frequirements~master~I3081d5b33f225fac3be881379689828680e3b969,openstack/requirements,master,I3081d5b33f225fac3be881379689828680e3b969,update constraint for openstackdocstheme to new release 1.29.0,MERGED,2019-01-23 22:55:54.000000000,2019-01-24 19:36:56.000000000,2019-01-24 19:36:56.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 22:55:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ec21b15660ee2266b13560be6c44092b388b14ea', 'message': 'update constraint for openstackdocstheme to new release 1.29.0\n\nChange-Id: I3081d5b33f225fac3be881379689828680e3b969\nmeta:version: 1.29.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Frank Kloeker <f.kloeker@telekom.de>\nmeta:release:Commit: Frank Kloeker <f.kloeker@telekom.de>\nmeta:release:Change-Id: Iaf3932365eafeaaec9d480c43ceef7d3a60d52d5\nmeta:release:Code-Review+1: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+1: Petr Kovar <pkovar@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,632825,ec21b15660ee2266b13560be6c44092b388b14ea,10,2,1,11131,,,0,"update constraint for openstackdocstheme to new release 1.29.0

Change-Id: I3081d5b33f225fac3be881379689828680e3b969
meta:version: 1.29.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Frank Kloeker <f.kloeker@telekom.de>
meta:release:Commit: Frank Kloeker <f.kloeker@telekom.de>
meta:release:Change-Id: Iaf3932365eafeaaec9d480c43ceef7d3a60d52d5
meta:release:Code-Review+1: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+1: Petr Kovar <pkovar@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/632825/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ec21b15660ee2266b13560be6c44092b388b14ea,new-release,openstackdocstheme===1.29.0,openstackdocstheme===1.28.1,1,1
openstack%2Frequirements~master~I1608d4744c46abc4cdbe5aee18fe490f44cc6f86,openstack/requirements,master,I1608d4744c46abc4cdbe5aee18fe490f44cc6f86,update constraint for metalsmith to new release 0.10.0,MERGED,2019-01-23 22:44:06.000000000,2019-01-24 19:32:52.000000000,2019-01-24 19:32:51.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 22:44:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d637b74cf997f180b9130fb7a76be42b6b14934f', 'message': 'update constraint for metalsmith to new release 0.10.0\n\nChange-Id: I1608d4744c46abc4cdbe5aee18fe490f44cc6f86\nmeta:version: 0.10.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Dmitry Tantsur <divius.inside@gmail.com>\nmeta:release:Commit: Dmitry Tantsur <divius.inside@gmail.com>\nmeta:release:Change-Id: I2c144f84263fd1587846c9f7ca72b8a018e65fd8\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,632822,d637b74cf997f180b9130fb7a76be42b6b14934f,8,2,1,11131,,,0,"update constraint for metalsmith to new release 0.10.0

Change-Id: I1608d4744c46abc4cdbe5aee18fe490f44cc6f86
meta:version: 0.10.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Dmitry Tantsur <divius.inside@gmail.com>
meta:release:Commit: Dmitry Tantsur <divius.inside@gmail.com>
meta:release:Change-Id: I2c144f84263fd1587846c9f7ca72b8a018e65fd8
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/632822/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d637b74cf997f180b9130fb7a76be42b6b14934f,new-release,metalsmith===0.10.0,metalsmith===0.9.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ib0c2395fbabc654378101527ca065b5c69d3222d,openstack/tripleo-heat-templates,stable/queens,Ib0c2395fbabc654378101527ca065b5c69d3222d,Add networking-ansible ML2 plugin support,MERGED,2018-12-05 14:09:19.000000000,2019-01-24 19:31:04.000000000,2019-01-24 19:31:04.000000000,"[{'_account_id': 4328}, {'_account_id': 5792}, {'_account_id': 6469}, {'_account_id': 6994}, {'_account_id': 8655}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-05 14:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6525e8a37def9457d77c653414f6c5deecfd5378', 'message': 'Add networking-ansible ML2 plugin support\n\nDepends-On: https://review.openstack.org/621149\nDepends-On: https://review.openstack.org/621044\n\n(cherry picked from commit 6d5b9ab4216f76977f7d181f443c76d5c5829c1c)\n(cherry picked from commit 26e0ce7702fe0b5379b181ad8726dc1f0d2bdbb2)\n\nChange-Id: Ib0c2395fbabc654378101527ca065b5c69d3222d\n'}, {'number': 2, 'created': '2018-12-07 08:59:31.000000000', 'files': ['environments/neutron-ml2-ansible.yaml', 'puppet/services/neutron-plugin-ml2-ansible.yaml', 'docker/services/neutron-plugin-ml2-ansible.yaml', 'releasenotes/notes/ml2-networking-ansible-0330b1203f0fc75c.yaml', 'capabilities-map.yaml', 'environments/services/neutron-ml2-ansible.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/add-networking-ansible-containerized-de68f6c2fd6e05fc.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73d6f995334b92a24ea9f8eea3921af7878f7a26', 'message': 'Add networking-ansible ML2 plugin support\n\nDepends-On: https://review.openstack.org/621149\nDepends-On: https://review.openstack.org/621044\n\n(cherry picked from commit 6d5b9ab4216f76977f7d181f443c76d5c5829c1c)\n(cherry picked from commit 26e0ce7702fe0b5379b181ad8726dc1f0d2bdbb2)\n\nChange-Id: Ib0c2395fbabc654378101527ca065b5c69d3222d\n'}]",0,622968,73d6f995334b92a24ea9f8eea3921af7878f7a26,11,9,2,5792,,,0,"Add networking-ansible ML2 plugin support

Depends-On: https://review.openstack.org/621149
Depends-On: https://review.openstack.org/621044

(cherry picked from commit 6d5b9ab4216f76977f7d181f443c76d5c5829c1c)
(cherry picked from commit 26e0ce7702fe0b5379b181ad8726dc1f0d2bdbb2)

Change-Id: Ib0c2395fbabc654378101527ca065b5c69d3222d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/622968/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/neutron-ml2-ansible.yaml', 'puppet/services/neutron-plugin-ml2-ansible.yaml', 'docker/services/neutron-plugin-ml2-ansible.yaml', 'releasenotes/notes/ml2-networking-ansible-0330b1203f0fc75c.yaml', 'capabilities-map.yaml', 'environments/services/neutron-ml2-ansible.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/add-networking-ansible-containerized-de68f6c2fd6e05fc.yaml']",8,6525e8a37def9457d77c653414f6c5deecfd5378,networking-ansible,--- features: - Added support for containerized networking-ansible Ml2 plugin. ,,160,0
openstack%2Fcharm-deployment-guide~master~Ibf98e98f938c186b8b7701fc763e7d1acb0521fb,openstack/charm-deployment-guide,master,Ibf98e98f938c186b8b7701fc763e7d1acb0521fb,Instructions for migrating to cinder-ceph charm.,MERGED,2019-01-24 13:32:03.000000000,2019-01-24 19:13:44.000000000,2019-01-24 19:13:43.000000000,"[{'_account_id': 12549}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 13:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/0b0d824e8f8a964d83f8dbe71c7eadaa5a0524b4', 'message': 'Instructions for migrating to cinder-ceph charm.\n\nAdd instructions for migrating to using the cinder-ceph charm.\n\nChange-Id: Ibf98e98f938c186b8b7701fc763e7d1acb0521fb\n'}, {'number': 2, 'created': '2019-01-24 13:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/0032ae750e20b64f02f61d50b1a77fa93a40cc02', 'message': 'Instructions for migrating to cinder-ceph charm.\n\nAdd instructions for migrating to using the cinder-ceph charm.\n\nDepends-On: I93eb801ca4a166f862d5d86711d9476c61851344\nChange-Id: Ibf98e98f938c186b8b7701fc763e7d1acb0521fb\n'}, {'number': 3, 'created': '2019-01-24 14:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e0f2dcfd0d5955d45d7e73386111f1bab00945de', 'message': 'Instructions for migrating to cinder-ceph charm.\n\nAdd instructions for migrating to using the cinder-ceph charm.\n\nDepends-On: I93eb801ca4a166f862d5d86711d9476c61851344\nChange-Id: Ibf98e98f938c186b8b7701fc763e7d1acb0521fb\n'}, {'number': 4, 'created': '2019-01-24 18:06:42.000000000', 'files': ['deploy-guide/source/app-upgrade-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e1bc68ada44504668b0c48c5a93bde52f74a9c3a', 'message': 'Instructions for migrating to cinder-ceph charm.\n\nAdd instructions for migrating to using the cinder-ceph charm.\n\nDepends-On: I93eb801ca4a166f862d5d86711d9476c61851344\nChange-Id: Ibf98e98f938c186b8b7701fc763e7d1acb0521fb\n'}]",0,633001,e1bc68ada44504668b0c48c5a93bde52f74a9c3a,12,3,4,12549,,,0,"Instructions for migrating to cinder-ceph charm.

Add instructions for migrating to using the cinder-ceph charm.

Depends-On: I93eb801ca4a166f862d5d86711d9476c61851344
Change-Id: Ibf98e98f938c186b8b7701fc763e7d1acb0521fb
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/01/633001/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-upgrade-openstack.rst'],1,0b0d824e8f8a964d83f8dbe71c7eadaa5a0524b4,feature/cinder-ocata," cinder/ceph topology change: upgrading from Newton to Ocata ----------------------------------------------------------- .. warning:: Do not attempt to migrate a deployment with existing volumes to use the cinder-ceph charm prior to Ocata. If cinder is directly related to ceph-mon rather than via the cinder-ceph charm then upgrading from Newton to Ocata will result in the loss of some block storage functionality, specifically live migration and snapshotting. To remedy this situation the deployment should migrate to using the cinder-ceph charm, this can be done after the upgrade to Ocata. Step 0: Check existing configuration ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Confirm existing volumes are in rbd pool called 'cinder' .. code:: bash $ juju run --unit cinder/0 ""rbd --name client.cinder -p cinder ls"" volume-b45066d3-931d-406e-a43e-ad4eca12cf34 volume-dd733b26-2c56-4355-a8fc-347a964d5d55 Step 1: Deploy new topology ~~~~~~~~~~~~~~~~~~~~~~~~~~~ Deploy cinder-ceph charm and set the rbd-pool-name to match the pool that any existing volumes are in (see above): .. code:: bash juju deploy --config rbd-pool-name=cinder cs:~gnuoy/cinder-ceph-0 juju add-relation cinder cinder-ceph juju add-relation cinder-ceph ceph-mon juju remove-relation cinder ceph-mon juju add-relation cinder-ceph nova-compute Step 2: Update volume configuration ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The existing volumes now need to be updated to associate them with the newly defined cinder-ceph backend: .. code:: bash juju run-action cinder/0 rename-volume-host currenthost='cinder' \ newhost='cinder@cinder-ceph#cinder.volume.drivers.rbd.RBDDriver'",,47,0
openstack%2Fsenlin~master~Ic45c22ed9ae5136950a064cf651d85f39840f896,openstack/senlin,master,Ic45c22ed9ae5136950a064cf651d85f39840f896,Miscellaneous fixes,MERGED,2019-01-16 19:38:41.000000000,2019-01-24 19:12:36.000000000,2019-01-24 19:12:36.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 25674}]","[{'number': 1, 'created': '2019-01-16 19:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/eea213bb04b8caa98166a389a4f018fedbe1d70f', 'message': 'Miscellaneous fixes\n\n- Remove unused code path for RES_LIFECYCLE_COMPLETE in set_status\n- Wrap policy_check in try finally to always release cluster lock\n\nChange-Id: Ic45c22ed9ae5136950a064cf651d85f39840f896\n'}, {'number': 2, 'created': '2019-01-17 00:11:19.000000000', 'files': ['senlin/tests/unit/engine/actions/test_action_base.py', 'senlin/engine/senlin_lock.py', 'senlin/engine/actions/node_action.py', 'senlin/engine/actions/base.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/b9c9cfaac4703225bf3542c5d3b3c8d348dee361', 'message': 'Miscellaneous fixes\n\n- Remove unused code path for RES_LIFECYCLE_COMPLETE in set_status\n- Wrap policy_check in try finally to always release cluster lock\n- Change node lock failure log level to warning to match cluster lock\n  failure log level.\n\nChange-Id: Ic45c22ed9ae5136950a064cf651d85f39840f896\n'}]",1,631317,b9c9cfaac4703225bf3542c5d3b3c8d348dee361,12,4,2,27224,,,0,"Miscellaneous fixes

- Remove unused code path for RES_LIFECYCLE_COMPLETE in set_status
- Wrap policy_check in try finally to always release cluster lock
- Change node lock failure log level to warning to match cluster lock
  failure log level.

Change-Id: Ic45c22ed9ae5136950a064cf651d85f39840f896
",git fetch https://review.opendev.org/openstack/senlin refs/changes/17/631317/2 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/tests/unit/engine/actions/test_action_base.py', 'senlin/engine/actions/node_action.py', 'senlin/engine/actions/base.py']",3,eea213bb04b8caa98166a389a4f018fedbe1d70f,misc_fixes,," elif result == self.RES_LIFECYCLE_COMPLETE: status = self.SUCCEEDED ao.Action.mark_ready(self.context, self.id, timestamp) ",10,17
openstack%2Fneutron~stable%2Fqueens~Iaaff10dfa8ac6ab8c9dead3124e2bb3caa03a665,openstack/neutron,stable/queens,Iaaff10dfa8ac6ab8c9dead3124e2bb3caa03a665,Clear residual qos rules after l2-agent restarts.,MERGED,2019-01-24 06:43:01.000000000,2019-01-24 19:05:28.000000000,2019-01-24 19:05:28.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 25643}, {'_account_id': 26622}, {'_account_id': 28239}]","[{'number': 1, 'created': '2019-01-24 06:43:01.000000000', 'files': ['neutron/tests/unit/agent/l2/extensions/test_qos.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/agent/l2/extensions/qos.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/extension_drivers/test_qos_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/81d51ae876f4b163472de8f24a3ec1d1d7ac2078', 'message': 'Clear residual qos rules after l2-agent restarts.\n\nDuring the l2-agent stop, if the policy rule is cleared,\nafter the l2-agent is started, the qos rule that has been applied should be cleared.\n\nChange-Id: Iaaff10dfa8ac6ab8c9dead3124e2bb3caa03a665\nCloses-Bug: #1810025\n(cherry picked from commit 58de79a58bfeda46c6ab7fcaa765b8a557652874)\n(cherry picked from commit e04ee2c5b66af84f27cc2f1fa0ce3f92fe5676e9)\n'}]",0,632936,81d51ae876f4b163472de8f24a3ec1d1d7ac2078,13,9,1,9373,,,0,"Clear residual qos rules after l2-agent restarts.

During the l2-agent stop, if the policy rule is cleared,
after the l2-agent is started, the qos rule that has been applied should be cleared.

Change-Id: Iaaff10dfa8ac6ab8c9dead3124e2bb3caa03a665
Closes-Bug: #1810025
(cherry picked from commit 58de79a58bfeda46c6ab7fcaa765b8a557652874)
(cherry picked from commit e04ee2c5b66af84f27cc2f1fa0ce3f92fe5676e9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/632936/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l2/extensions/test_qos.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/agent/l2/extensions/qos.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/extension_drivers/test_qos_driver.py']",5,81d51ae876f4b163472de8f24a3ec1d1d7ac2078,bug/1810025, self.delete_egress.assert_called_once_with(self.port_name) self.delete_ingress.assert_called_once_with(self.port_name), self.delete_egress.assert_not_called() self.delete_ingress.assert_not_called(),102,11
openstack%2Fpuppet-openstack-integration~master~Id5ebc4ff8841768cdad756b847403e54ea24e188,openstack/puppet-openstack-integration,master,Id5ebc4ff8841768cdad756b847403e54ea24e188,Pin puppet version 5.5. for CentOS beaker jobs,MERGED,2019-01-24 09:12:52.000000000,2019-01-24 18:40:52.000000000,2019-01-24 18:40:52.000000000,"[{'_account_id': 10135}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-24 09:12:52.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/beaker.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5a896f7da1fe731255f1e0f74a4b24947be034cd', 'message': ""Pin puppet version 5.5. for CentOS beaker jobs\n\nWe merged [1] which now makes sure we use actually\nlatest puppet version and not latest 5.5 version.\n\nI however forgot that we need to pin puppet version\n5.5 for CentOS jobs since it doesn't support the\nrequired Ruby version for Puppet 6.\n\n[1] https://review.openstack.org/#/c/618920/\n\nChange-Id: Id5ebc4ff8841768cdad756b847403e54ea24e188\n""}]",0,632962,5a896f7da1fe731255f1e0f74a4b24947be034cd,10,5,1,16137,,,0,"Pin puppet version 5.5. for CentOS beaker jobs

We merged [1] which now makes sure we use actually
latest puppet version and not latest 5.5 version.

I however forgot that we need to pin puppet version
5.5 for CentOS jobs since it doesn't support the
required Ruby version for Puppet 6.

[1] https://review.openstack.org/#/c/618920/

Change-Id: Id5ebc4ff8841768cdad756b847403e54ea24e188
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/62/632962/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/beaker.yaml']",2,5a896f7da1fe731255f1e0f74a4b24947be034cd,centos-beaker, puppet_gem_version: 5.5,,2,0
openstack%2Fpatrole~master~I71bafc5d32253692ffa0f1d2d5d78a4e802d3c25,openstack/patrole,master,I71bafc5d32253692ffa0f1d2d5d78a4e802d3c25,Support deprecated rules for policy_authority,ABANDONED,2019-01-24 15:55:15.000000000,2019-01-24 18:33:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-24 15:55:15.000000000', 'files': ['patrole_tempest_plugin/policy_authority.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/dcfb888a43228b17c0c93cf62a16e299adf964c1', 'message': 'Support deprecated rules for policy_authority\n\noslo.policy uses both deprecated rule and default rule and combine them\nusing OR statement. Patrole must do same for proper validation.\n\nChange-Id: I71bafc5d32253692ffa0f1d2d5d78a4e802d3c25\n'}]",0,633023,dcfb888a43228b17c0c93cf62a16e299adf964c1,3,1,1,8911,,,0,"Support deprecated rules for policy_authority

oslo.policy uses both deprecated rule and default rule and combine them
using OR statement. Patrole must do same for proper validation.

Change-Id: I71bafc5d32253692ffa0f1d2d5d78a4e802d3c25
",git fetch https://review.opendev.org/openstack/patrole refs/changes/23/633023/1 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/policy_authority.py'],1,dcfb888a43228b17c0c93cf62a16e299adf964c1,support_deprecated_rules," def _handle_deprecated_rule(self, rule): check_str = '(%s) or (%s)' % (rule.check_str, rule.deprecated_rule.check_str) return policy.RuleDefault(rule.name, check_str) if rule.deprecated_rule: rule = self._handle_deprecated_rule(rule)",,7,0
openstack%2Fopenstack-helm-infra~master~Ic847565e88c4a1d3b972d59cc3c9927f53cd0648,openstack/openstack-helm-infra,master,Ic847565e88c4a1d3b972d59cc3c9927f53cd0648,test,ABANDONED,2019-01-24 16:32:31.000000000,2019-01-24 18:18:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 29144}]","[{'number': 1, 'created': '2019-01-24 16:32:31.000000000', 'files': ['rabbitmq/requirements.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a736395b068ba805b6886e4bfe0fe91a85e0e640', 'message': 'test\n\nChange-Id: Ic847565e88c4a1d3b972d59cc3c9927f53cd0648\n'}]",0,633032,a736395b068ba805b6886e4bfe0fe91a85e0e640,4,2,1,29144,,,0,"test

Change-Id: Ic847565e88c4a1d3b972d59cc3c9927f53cd0648
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/32/633032/1 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/requirements.yaml'],1,a736395b068ba805b6886e4bfe0fe91a85e0e640,,# limitations under the License,# limitations under the License.,1,1
openstack%2Ftripleo-upgrade~master~I32198527a084d35f8a2c91e3e7d3f32b6fbe9e1e,openstack/tripleo-upgrade,master,I32198527a084d35f8a2c91e3e7d3f32b6fbe9e1e,Switch to more specific include modules for ffwd.,MERGED,2019-01-22 10:10:24.000000000,2019-01-24 17:55:07.000000000,2019-01-24 17:55:07.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-01-22 10:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fc99bf597f2170dcd6353f02db1d5b0dc45adfe6', 'message': 'Switch to more specific include modules for ffwd.\n\nInclude has some unintuitive behaviours depending on\nif it is running in a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours move to a new set of modules:\n  include_tasks, include_role, import_playbook, import_tasks.\n\nChange-Id: I32198527a084d35f8a2c91e3e7d3f32b6fbe9e1e\n'}, {'number': 2, 'created': '2019-01-22 12:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f90d8a1174023798b1d932b331489f221c90a067', 'message': 'Switch to more specific include modules for ffwd.\n\nInclude has some unintuitive behaviours depending on\nif it is running in a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours move to a new set of modules:\n  include_tasks, include_role, import_playbook, import_tasks.\n\nChange-Id: I32198527a084d35f8a2c91e3e7d3f32b6fbe9e1e\n'}, {'number': 3, 'created': '2019-01-22 12:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/aeaf020e3d69864f93734344eaaba3b0fdfa7925', 'message': 'Switch to more specific include modules for ffwd.\n\nInclude has some unintuitive behaviours depending on\nif it is running in a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours move to a new set of modules:\n  include_tasks, include_role, import_playbook, import_tasks.\n\nChange-Id: I32198527a084d35f8a2c91e3e7d3f32b6fbe9e1e\n'}, {'number': 4, 'created': '2019-01-22 13:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8326a04ed565ee486116ebe0a5dda48d4b477cb4', 'message': 'Switch to more specific include modules for ffwd.\n\nInclude has some unintuitive behaviours depending on\nif it is running in a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours move to a new set of modules:\n  include_tasks, include_role, import_playbook, import_tasks.\n\nChange-Id: I32198527a084d35f8a2c91e3e7d3f32b6fbe9e1e\n'}, {'number': 5, 'created': '2019-01-23 08:02:02.000000000', 'files': ['tasks/fast-forward-upgrade/create-prepare-scripts.yaml', 'tasks/fast-forward-upgrade/overcloud_bulk.yaml', 'tasks/fast-forward-upgrade/main.yml', 'tasks/fast-forward-upgrade/overcloud_role.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d67e6e7166d7d554b27763cf0c253737f4a189e5', 'message': 'Switch to more specific include modules for ffwd.\n\nInclude has some unintuitive behaviours depending on\nif it is running in a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours move to a new set of modules:\n  include_tasks, include_role, import_playbook, import_tasks.\n\nChange-Id: I32198527a084d35f8a2c91e3e7d3f32b6fbe9e1e\n'}]",2,632380,d67e6e7166d7d554b27763cf0c253737f4a189e5,15,7,5,21537,,,0,"Switch to more specific include modules for ffwd.

Include has some unintuitive behaviours depending on
if it is running in a static or dynamic in play or in playbook context,
in an effort to clarify behaviours move to a new set of modules:
  include_tasks, include_role, import_playbook, import_tasks.

Change-Id: I32198527a084d35f8a2c91e3e7d3f32b6fbe9e1e
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/80/632380/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/create-prepare-scripts.yaml', 'tasks/fast-forward-upgrade/overcloud_bulk.yaml', 'tasks/fast-forward-upgrade/main.yml', 'tasks/fast-forward-upgrade/overcloud_role.yaml']",4,fc99bf597f2170dcd6353f02db1d5b0dc45adfe6,ffwd-include-replace," import_tasks: ../common/load_roles_from_inventory.yaml- name: start L3 connectivity check import_tasks: ../common/l3_agent_connectivity_check_start_script.yml- name: run L3 validation include_tasks: ""{{ item }}""- name: start L3 connectivity check import_tasks: ../common/l3_agent_connectivity_check_start_script.yml- name: validate L3 connectivity result import_tasks: ../common/l3_agent_connectivity_check_stop_script.yml - name: start L3 connectivity check import_tasks: ../common/l3_agent_connectivity_check_start_script.yml - name: validate L3 connectivity result import_tasks: ../common/l3_agent_connectivity_check_stop_script.yml"," include: ../common/load_roles_from_inventory.yaml- include: ../common/l3_agent_connectivity_check_start_script.yml- include: ""{{ item }}""- include: ../common/l3_agent_connectivity_check_start_script.yml- include: ../common/l3_agent_connectivity_check_stop_script.yml - include: ../common/l3_agent_connectivity_check_start_script.yml - include: ../common/l3_agent_connectivity_check_stop_script.yml",84,34
openstack%2Fpuppet-tripleo~master~I577373b5ff110c47bc4dc350ca753b7a1957554f,openstack/puppet-tripleo,master,I577373b5ff110c47bc4dc350ca753b7a1957554f,Loadbalance keystone's admin endpoints towards the internal backends,MERGED,2019-01-23 05:45:48.000000000,2019-01-24 17:55:06.000000000,2019-01-24 17:55:06.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 6928}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 05:45:48.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7de34bf57d2ba18f1d5cbc5e12800f61458de778', 'message': ""Loadbalance keystone's admin endpoints towards the internal backends\n\nInstead of trying to loadbalance keystone's admin endpoint frontends\ntowards the backends of the same network. We instead forward them\ntowards the IP's where the public/internal endpoints are listening on.\n\nThis way we definitely don't use the admin endpoint (a step towards\ngetting rid of it), and we won't get SSL host failures when trying to\naccess the one single endpoint.\n\nChange-Id: I577373b5ff110c47bc4dc350ca753b7a1957554f\n""}]",0,632614,7de34bf57d2ba18f1d5cbc5e12800f61458de778,13,10,1,10873,,,0,"Loadbalance keystone's admin endpoints towards the internal backends

Instead of trying to loadbalance keystone's admin endpoint frontends
towards the backends of the same network. We instead forward them
towards the IP's where the public/internal endpoints are listening on.

This way we definitely don't use the admin endpoint (a step towards
getting rid of it), and we won't get SSL host failures when trying to
access the one single endpoint.

Change-Id: I577373b5ff110c47bc4dc350ca753b7a1957554f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/14/632614/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,7de34bf57d2ba18f1d5cbc5e12800f61458de778,haproxy-keystone-admin," # NOTE(jaosorior): Given that the admin endpoint is in the same vhost # nowadays as the public/internal one. We can just loadbalance towards the # same IP. ip_addresses => hiera('keystone_public_api_node_ips', $controller_hosts_real), server_names => hiera('keystone_public_api_node_names', $controller_hosts_names_real),"," ip_addresses => hiera('keystone_admin_api_node_ips', $controller_hosts_real), server_names => hiera('keystone_admin_api_node_names', $controller_hosts_names_real),",5,2
openstack%2Ftripleo-common~master~Ic373878c8dca229d0d6c445b3c6e527b96eb34cb,openstack/tripleo-common,master,Ic373878c8dca229d0d6c445b3c6e527b96eb34cb,Add missing py37 toxenv and corrected default envlist,ABANDONED,2018-12-17 09:33:21.000000000,2019-01-24 17:54:13.000000000,,"[{'_account_id': 3153}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9196}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-12-17 09:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/318181071f937bb0aa6d4c4dbbd5d3dd4fc3aec5', 'message': 'Add missing py37 toxenv and corrected default envlist\n\n* Change order of default tox envlist in order of likeliness to fail\non a new change (fail-fast strategy).\n* Remove pypy from envlist as it was not tested on CI, tox default\nset of environment should match CI\n* Adds py37 to spot possible breakers like dropping relative imports\n\nThis is a porting of https://review.openstack.org/#/c/617606\n\nChange-Id: Ic373878c8dca229d0d6c445b3c6e527b96eb34cb\n'}, {'number': 2, 'created': '2018-12-17 12:33:01.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3458cec62f94f8f14b18a26b785eee0ec6def416', 'message': 'Add missing py37 toxenv and corrected default envlist\n\n* Change order of default tox envlist in order of likeliness to fail\non a new change (fail-fast strategy).\n* Remove pypy from envlist as it was not tested on CI, tox default\nset of environment should match CI\n* Adds py37 to spot possible breakers like dropping relative imports\n\nThis is a porting of https://review.openstack.org/#/c/617606\n\nChange-Id: Ic373878c8dca229d0d6c445b3c6e527b96eb34cb\n'}]",0,625526,3458cec62f94f8f14b18a26b785eee0ec6def416,9,12,2,27898,,,0,"Add missing py37 toxenv and corrected default envlist

* Change order of default tox envlist in order of likeliness to fail
on a new change (fail-fast strategy).
* Remove pypy from envlist as it was not tested on CI, tox default
set of environment should match CI
* Adds py37 to spot possible breakers like dropping relative imports

This is a porting of https://review.openstack.org/#/c/617606

Change-Id: Ic373878c8dca229d0d6c445b3c6e527b96eb34cb
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/26/625526/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'tox.ini']",2,318181071f937bb0aa6d4c4dbbd5d3dd4fc3aec5,,"envlist = pep8,py37,py36,py35,py27","envlist = py35,py27,pypy,pep8",2,1
openstack%2Ftripleo-heat-templates~master~Iec7bd10bf1db29eeb57f1f4a785b8af5ccca3a52,openstack/tripleo-heat-templates,master,Iec7bd10bf1db29eeb57f1f4a785b8af5ccca3a52,Don't disable keepalived in nonha-arch.yaml,MERGED,2018-10-02 13:06:42.000000000,2019-01-24 17:44:11.000000000,2019-01-24 17:44:11.000000000,"[{'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 20866}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-02 13:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/970accdd1ee5995050bc58c32224b159e6df4c59', 'message': ""Don't disable keepalived in nonha-arch.yaml\n\nThis environment should enable keepalived but disable\npacemaker I think.\n\nChange-Id: Iec7bd10bf1db29eeb57f1f4a785b8af5ccca3a52\nCloses-Bug: #1795641\n""}, {'number': 2, 'created': '2018-10-12 10:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0969433b2dd2a6e39b18c7464a71d3285c19b94e', 'message': ""Don't disable keepalived in nonha-arch.yaml\n\nThis environment should enable keepalived but disable\npacemaker I think.\n\nChange-Id: Iec7bd10bf1db29eeb57f1f4a785b8af5ccca3a52\nCloses-Bug: #1795641\n""}, {'number': 3, 'created': '2018-11-22 15:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/79c80b66c39771111975424fcf810db7471625cb', 'message': ""Don't disable keepalived in nonha-arch.yaml\n\nThis environment should enable keepalived but disable\npacemaker I think.\n\nChange-Id: Iec7bd10bf1db29eeb57f1f4a785b8af5ccca3a52\nCloses-Bug: #1795641\n""}, {'number': 4, 'created': '2018-11-27 13:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a256f8bf771d7ac1558bb87d2206b667a3451e6', 'message': ""Don't disable keepalived in nonha-arch.yaml\n\nThis environment should enable keepalived but disable\npacemaker I think.\n\nChange-Id: Iec7bd10bf1db29eeb57f1f4a785b8af5ccca3a52\nCloses-Bug: #1795641\n""}, {'number': 5, 'created': '2018-12-03 20:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed5e07b4044dff3965dd59539b6d1a07b5d7e488', 'message': ""Don't disable keepalived in nonha-arch.yaml\n\nThis environment should enable keepalived but disable\npacemaker I think.\n\nChange-Id: Iec7bd10bf1db29eeb57f1f4a785b8af5ccca3a52\nCloses-Bug: #1795641\n""}, {'number': 6, 'created': '2019-01-24 10:18:32.000000000', 'files': ['environments/nonha-arch.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f5dec0790d2e6b8cef95c8ee20e365631f2cc6f', 'message': ""Don't disable keepalived in nonha-arch.yaml\n\nThis environment should enable keepalived but disable\npacemaker I think.\n\nChange-Id: Iec7bd10bf1db29eeb57f1f4a785b8af5ccca3a52\nCloses-Bug: #1795641\n""}]",3,607180,7f5dec0790d2e6b8cef95c8ee20e365631f2cc6f,35,8,6,4328,,,0,"Don't disable keepalived in nonha-arch.yaml

This environment should enable keepalived but disable
pacemaker I think.

Change-Id: Iec7bd10bf1db29eeb57f1f4a785b8af5ccca3a52
Closes-Bug: #1795641
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/607180/6 && git format-patch -1 --stdout FETCH_HEAD,['environments/nonha-arch.yaml'],1,970accdd1ee5995050bc58c32224b159e6df4c59,bug/1795641, OS::TripleO::Services::Keepalived: ../docker/services/keepalived.yaml, OS::TripleO::Services::Keepalived: OS::Heat::None,1,1
openstack%2Fcharm-cinder-ceph~master~I93eb801ca4a166f862d5d86711d9476c61851344,openstack/charm-cinder-ceph,master,I93eb801ca4a166f862d5d86711d9476c61851344,Expose rbd-pool-name,MERGED,2019-01-23 17:55:36.000000000,2019-01-24 17:32:36.000000000,2019-01-24 17:32:36.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 17:55:36.000000000', 'files': ['hooks/cinder_contexts.py', 'config.yaml', 'unit_tests/test_cinder_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/df6b239526eed7b00fb16243a35ba9652f107a60', 'message': 'Expose rbd-pool-name\n\nIn some situations an existing rbd pool may already be populated\nwith images that are in use. This is the case when migrating\nfrom the old topology where cinder had a direct relation to\nceph-mon.\n\nChange-Id: I93eb801ca4a166f862d5d86711d9476c61851344\n'}]",0,632789,df6b239526eed7b00fb16243a35ba9652f107a60,11,4,1,12549,,,0,"Expose rbd-pool-name

In some situations an existing rbd pool may already be populated
with images that are in use. This is the case when migrating
from the old topology where cinder had a direct relation to
ceph-mon.

Change-Id: I93eb801ca4a166f862d5d86711d9476c61851344
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/89/632789/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/cinder_contexts.py', 'config.yaml', 'unit_tests/test_cinder_contexts.py']",3,df6b239526eed7b00fb16243a35ba9652f107a60,bug/1671422," 'config', self.config.side_effect = self.test_config.get def test_ceph_explicit_pool_name(self): self.test_config.set('rbd-pool-name', 'special_pool') self.is_relation_made.return_value = True self.get_os_codename_package.return_value = ""mitaka"" service = 'mycinder' self.service_name.return_value = service self.assertEqual( contexts.CephSubordinateContext()(), {""cinder"": { ""/etc/cinder/cinder.conf"": { ""sections"": { service: [ ('volume_backend_name', service), ('volume_driver', 'cinder.volume.drivers.rbd.RBDDriver'), ('rbd_pool', 'special_pool'), ('rbd_user', service), ('rbd_secret_uuid', 'libvirt-uuid'), ('rbd_ceph_conf', '/var/lib/charm/mycinder/ceph.conf'), ('report_discard_supported', True) ] } } }})",,39,1
openstack%2Fcharm-neutron-openvswitch~master~Iad3a64967f91c81312911f6db856ce2271b0e068,openstack/charm-neutron-openvswitch,master,Iad3a64967f91c81312911f6db856ce2271b0e068,Allow dvr_snat l3 agent mode to be used with DVR,MERGED,2018-12-11 21:19:26.000000000,2019-01-24 17:20:04.000000000,2019-01-24 16:49:41.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 24904}]","[{'number': 1, 'created': '2018-12-11 21:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/d5b65c650556b3489a306ca4fb0a3f1a2bb4d397', 'message': 'Allow dvr_snat l3 agent mode to be used with DVR\n\nCurrently it is a requirement to have a network node with an l3 agent\nrunning in the dvr_snat mode even for DVR deployments that do not use\nSNAT or have a very limited usage of SNAT.\n\nIt is not possible to disable snat completely:\nhttps://bugs.launchpad.net/neutron/+bug/1761591\n\nNeutron creates a network:router_centralized_snat port and if it is not\npossible to find a dvr_snat agent to schedule it on there are various\nside-effects which are not seen at first. For example, Designate stops\ncreating records for floating IPs and Neutron/Designate integration is,\ntherefore, not functional.\n\nThe Neutron DVR documentation says that dvr_snat should be used on\nnetwork nodes. However, there is nothing restricting a DVR deployment\nfrom using dvr_snat l3 agents on every compute node and not having\ndedicated network nodes.\n\nThis change modifies neutron-openvswitch to optionally enable dvr_snat\nl3 agent mode (this includes supporting L3HA routers if enabled). As a\nresult, it is possible to have deployments without neutron-gateway thus\nsaving on the amount of required nodes. Care should be taken when a\nlarge amount of L3HA routers is used and using DVR routers without L3HA\nis a recommended.\n\nChange-Id: Iad3a64967f91c81312911f6db856ce2271b0e068\nCloses-Bug: #1808045\n'}, {'number': 2, 'created': '2018-12-11 21:38:12.000000000', 'files': ['unit_tests/test_neutron_ovs_utils.py', 'unit_tests/test_neutron_ovs_context.py', 'unit_tests/test_neutron_ovs_hooks.py', 'hooks/neutron_ovs_hooks.py', 'hooks/neutron_ovs_utils.py', 'hooks/neutron_ovs_context.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/1486c83a1f15e39cb7c4233996fec6668c663949', 'message': 'Allow dvr_snat l3 agent mode to be used with DVR\n\nCurrently it is a requirement to have a network node with an l3 agent\nrunning in the dvr_snat mode even for DVR deployments that do not use\nSNAT or have a very limited usage of SNAT.\n\nIt is not possible to disable snat completely:\nhttps://bugs.launchpad.net/neutron/+bug/1761591\n\nNeutron creates a network:router_centralized_snat port and if it is not\npossible to find a dvr_snat agent to schedule it on there are various\nside-effects which are not seen at first. For example, Designate stops\ncreating records for floating IPs and Neutron/Designate integration is,\ntherefore, not functional.\n\nThe Neutron DVR documentation says that dvr_snat should be used on\nnetwork nodes. However, there is nothing restricting a DVR deployment\nfrom using dvr_snat l3 agents on every compute node and not having\ndedicated network nodes.\n\nThis change modifies neutron-openvswitch to optionally enable dvr_snat\nl3 agent mode (this includes supporting L3HA routers if enabled). As a\nresult, it is possible to have deployments without neutron-gateway thus\nsaving on the amount of required nodes. Care should be taken when a\nlarge amount of L3HA routers is used and using DVR routers without L3HA\nis a recommended.\n\nChange-Id: Iad3a64967f91c81312911f6db856ce2271b0e068\nCloses-Bug: #1808045\n'}]",0,624495,1486c83a1f15e39cb7c4233996fec6668c663949,23,8,2,24824,,,0,"Allow dvr_snat l3 agent mode to be used with DVR

Currently it is a requirement to have a network node with an l3 agent
running in the dvr_snat mode even for DVR deployments that do not use
SNAT or have a very limited usage of SNAT.

It is not possible to disable snat completely:
https://bugs.launchpad.net/neutron/+bug/1761591

Neutron creates a network:router_centralized_snat port and if it is not
possible to find a dvr_snat agent to schedule it on there are various
side-effects which are not seen at first. For example, Designate stops
creating records for floating IPs and Neutron/Designate integration is,
therefore, not functional.

The Neutron DVR documentation says that dvr_snat should be used on
network nodes. However, there is nothing restricting a DVR deployment
from using dvr_snat l3 agents on every compute node and not having
dedicated network nodes.

This change modifies neutron-openvswitch to optionally enable dvr_snat
l3 agent mode (this includes supporting L3HA routers if enabled). As a
result, it is possible to have deployments without neutron-gateway thus
saving on the amount of required nodes. Care should be taken when a
large amount of L3HA routers is used and using DVR routers without L3HA
is a recommended.

Change-Id: Iad3a64967f91c81312911f6db856ce2271b0e068
Closes-Bug: #1808045
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/95/624495/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_ovs_utils.py', 'unit_tests/test_neutron_ovs_context.py', 'unit_tests/test_neutron_ovs_hooks.py', 'hooks/neutron_ovs_context.py', 'hooks/neutron_ovs_hooks.py', 'hooks/neutron_ovs_utils.py', 'config.yaml']",7,d5b65c650556b3489a306ca4fb0a3f1a2bb4d397,bug/1808045," WARNING: Should be NOT LESS than 25. use-dvr-snat: type: boolean default: False description: | This option controls a mode of the l3 agent when DVR is used. There are 2 modes 'dvr' (default) and dvr_snat (gateway mode). Neutron server (deployed by neutron-api charm) will schedule a network:router_centralized_snat port and a (centralized) snat namespace to dvr_snat mode agents only. If this option is enabled, all neutron-openvswitch nodes become candidates for being centralized snat nodes. If l3ha is enabled on neutron-api, relevant packages are also installed on every unit making them capable of hosting parts of an L3HA router. The min and max numbers of L3 agents per router need to be taken into account in this case (see max_l3_agents_per_router and min_l3_agents_per_router Neutron options). Practically, this option can be used to allow DVR routers (L3HA or not) to be scheduled without a requirement for a dedicated network node to host centralized SNAT. This is especially important if only floating IPs are used in the network design and SNAT traffic is minimal or non-existent. ", WARNING: Should be NOT LESS than 25.,202,15
openstack%2Fnova~master~I74864b398f2d17a24b9ed676945183401e9872a0,openstack/nova,master,I74864b398f2d17a24b9ed676945183401e9872a0,Reduce number of db calls during image cache manager periodic task,MERGED,2016-03-27 10:35:21.000000000,2019-01-24 17:15:54.000000000,2016-03-29 14:44:19.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6450}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 21071}]","[{'number': 1, 'created': '2016-03-27 10:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dc8570f5ca793de87c5860d5f09859a81dcc7f9', 'message': 'Reduce number of db calls during image cache manager periodic task\n\nMake a single db call to get bdms for all instances instead of one\ncall per instance.\n\nChange-Id: I74864b398f2d17a24b9ed676945183401e9872a0\nCloses-Bug: #1484847\n'}, {'number': 2, 'created': '2016-03-28 08:59:12.000000000', 'files': ['nova/virt/imagecache.py', 'nova/tests/unit/virt/test_imagecache.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py', 'nova/tests/unit/virt/vmwareapi/test_imagecache.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/990eafe4c40e736744494624ca06d137ff6d49ea', 'message': 'Reduce number of db calls during image cache manager periodic task\n\nMake a single db call to get bdms for all instances instead of one\ncall per instance.\n\nChange-Id: I74864b398f2d17a24b9ed676945183401e9872a0\nCloses-Bug: #1484847\n'}]",1,298023,990eafe4c40e736744494624ca06d137ff6d49ea,72,17,2,6450,,,0,"Reduce number of db calls during image cache manager periodic task

Make a single db call to get bdms for all instances instead of one
call per instance.

Change-Id: I74864b398f2d17a24b9ed676945183401e9872a0
Closes-Bug: #1484847
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/298023/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/imagecache.py', 'nova/tests/unit/virt/test_imagecache.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py', 'nova/tests/unit/virt/vmwareapi/test_imagecache.py']",4,0dc8570f5ca793de87c5860d5f09859a81dcc7f9,bug/1484847," 'bdms_by_instance_uuid', return_value={}) def test_update(self, mock_bdms_by_inst):"," 'get_by_instance_uuid') def test_update(self, mock_get_by_inst):",19,25
openstack%2Ftripleo-common~stable%2Fqueens~I37c2422ddea3ad2ac67252107666e2d320cf295d,openstack/tripleo-common,stable/queens,I37c2422ddea3ad2ac67252107666e2d320cf295d,Install python2-networking-ansible in neutron-server,MERGED,2018-11-30 00:07:03.000000000,2019-01-24 17:14:44.000000000,2019-01-24 17:14:44.000000000,"[{'_account_id': 4328}, {'_account_id': 5792}, {'_account_id': 8655}, {'_account_id': 8833}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-11-30 00:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/40f9e805895dcca5dab713f3c0bde165f836640a', 'message': 'Install python2-networking-ansible in neutron-server\n\nThis package contain the ML2 networking-ansible mechanism driver used\nto integrate networking devices with neutron.\n\n(cherry picked from commit 2d4c5d351d1aeff0732b5cfb940411775d51e046)\n\nChange-Id: I37c2422ddea3ad2ac67252107666e2d320cf295d\n'}, {'number': 2, 'created': '2018-12-04 17:18:12.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5fd904812d7f0b24f85031e29f78c66cc4f1c8d4', 'message': 'Install python2-networking-ansible in neutron-server\n\nThis package contain the ML2 networking-ansible mechanism driver used\nto integrate networking devices with neutron.\n\n(cherry picked from commit 2d4c5d351d1aeff0732b5cfb940411775d51e046)\n\nChange-Id: I37c2422ddea3ad2ac67252107666e2d320cf295d\n'}]",0,621044,5fd904812d7f0b24f85031e29f78c66cc4f1c8d4,24,9,2,5792,,,0,"Install python2-networking-ansible in neutron-server

This package contain the ML2 networking-ansible mechanism driver used
to integrate networking devices with neutron.

(cherry picked from commit 2d4c5d351d1aeff0732b5cfb940411775d51e046)

Change-Id: I37c2422ddea3ad2ac67252107666e2d320cf295d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/44/621044/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,40f9e805895dcca5dab713f3c0bde165f836640a,networking-ansible,"# NOTE (jaosorior): neutron-server with TLS everywhere needs httpd and mod_ssl packages. # NOTE (ramishra): python2-networking-ansible ML2 plug-in for neutron ansible integration. {% set neutron_server_packages_append = ['httpd', 'mod_ssl', 'python2-networking-ansible'] %}","# NOTE (jaosorior): neutron-server with TLS everywhere needs these packages. {% set neutron_server_packages_append = ['httpd', 'mod_ssl'] %}",5,2
openstack%2Fneutron-fwaas~master~Ie5b238f1df707ea3ce50b5711ff791bac2681a2f,openstack/neutron-fwaas,master,Ie5b238f1df707ea3ce50b5711ff791bac2681a2f,Change netns tests with oslo.privsep to check netns links,MERGED,2019-01-17 21:43:00.000000000,2019-01-24 17:14:33.000000000,2019-01-24 17:14:33.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 6928}, {'_account_id': 6995}, {'_account_id': 9396}, {'_account_id': 10850}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 21:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/5db895c59d4d56d4d618195191bc3b8fc2925dd6', 'message': 'Change netns tests with oslo.privsep to check netns links\n\nIt turns out that pyroute2.netns.setns() changes a network\nnamespace of a thread instead of that of a process when it is\ncalled in a thread [1].\n\nWhat we actually would like to check in test_in_namespace test\nis whether operations against a network namespace work with\noslo.privsep expectedly. There is no need to check namespace inode.\n\nThis commit changes test_in_namespace test to check a list of\nnetwork devices in a namespace to check netns operation works\ncorrectly. What the new test does are:\n- create a network namespace for testing\n- create a veth pair and move one of them to the network namespace\n- call oslo.privsep entrypoint function to retrieve a list of\n  network devices inside the netns\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-January/001761.html\n\nCloses-Bug: #1811506\nChange-Id: Ie5b238f1df707ea3ce50b5711ff791bac2681a2f\n'}, {'number': 2, 'created': '2019-01-17 21:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fecbdb0823d3af94f65e34a9ee9fb134b40fe023', 'message': 'Change netns tests with oslo.privsep to check netns links\n\nIt turns out that pyroute2.netns.setns() changes a network\nnamespace of a thread instead of that of a process when it is\ncalled in a thread [1].\n\nWhat we actually would like to check in test_in_namespace test\nis whether operations against a network namespace work with\noslo.privsep expectedly. There is no need to check namespace inode.\n\nThis commit changes test_in_namespace test to check a list of\nnetwork devices in a namespace to check netns operation works\ncorrectly. What the new test does are:\n- create a network namespace for testing\n- create a veth pair and move one of them to the network namespace\n- call oslo.privsep entrypoint function to retrieve a list of\n  network devices inside the netns\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-January/001761.html\n\nCloses-Bug: #1811506\nChange-Id: Ie5b238f1df707ea3ce50b5711ff791bac2681a2f\n'}, {'number': 3, 'created': '2019-01-17 22:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d420af6eafe055f94e8a91a8d5fdaf12ba5ebf91', 'message': 'Change netns tests with oslo.privsep to check netns links\n\nIt turns out that pyroute2.netns.setns() changes a network\nnamespace of a thread instead of that of a process when it is\ncalled in a thread [1].\n\nWhat we actually would like to check in test_in_namespace test\nis whether operations against a network namespace work with\noslo.privsep expectedly. There is no need to check namespace inode.\n\nThis commit changes test_in_namespace test to check a list of\nnetwork devices in a namespace to check netns operation works\ncorrectly. What the new test does are:\n- create a network namespace for testing\n- create a veth pair and move one of them to the network namespace\n- call oslo.privsep entrypoint function to retrieve a list of\n  network devices inside the netns\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-January/001761.html\n\nCloses-Bug: #1811506\nChange-Id: Ie5b238f1df707ea3ce50b5711ff791bac2681a2f\n'}, {'number': 4, 'created': '2019-01-19 22:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f824729939441832ea03be7a4f6b08fb776b6b53', 'message': 'Change netns tests with oslo.privsep to check netns links\n\nIt turns out that pyroute2.netns.setns() changes a network\nnamespace of a thread instead of that of a process when it is\ncalled in a thread [1].\n\nWhat we actually would like to check in test_in_namespace test\nis whether operations against a network namespace work with\noslo.privsep expectedly. There is no need to check namespace inode.\n\nThis commit changes test_in_namespace test to check a list of\nnetwork devices in a namespace to check netns operation works\ncorrectly. What the new test does are:\n- create a network namespace for testing\n- create a veth pair and move one of them to the network namespace\n- call oslo.privsep entrypoint function to retrieve a list of\n  network devices inside the netns\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-January/001761.html\n\nCloses-Bug: #1811506\nChange-Id: Ie5b238f1df707ea3ce50b5711ff791bac2681a2f\n'}, {'number': 5, 'created': '2019-01-23 15:14:41.000000000', 'files': ['neutron_fwaas/privileged/tests/functional/utils.py', 'neutron_fwaas/tests/functional/privileged/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/55874d06b1ce80b44356310c930f80e834d83a8a', 'message': 'Change netns tests with oslo.privsep to check netns links\n\nIt turns out that pyroute2.netns.setns() changes a network\nnamespace of a thread instead of that of a process when it is\ncalled in a thread [1].\n\nWhat we actually would like to check in test_in_namespace test\nis whether operations against a network namespace work with\noslo.privsep expectedly. There is no need to check namespace inode.\n\nThis commit changes test_in_namespace test to check a list of\nnetwork devices in a namespace to check netns operation works\ncorrectly. What the new test does are:\n- create a network namespace for testing\n- create a veth pair and move one of them to the network namespace\n- call oslo.privsep entrypoint function to retrieve a list of\n  network devices inside the netns\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-January/001761.html\n\nCloses-Bug: #1811506\nChange-Id: Ie5b238f1df707ea3ce50b5711ff791bac2681a2f\n'}]",5,631654,55874d06b1ce80b44356310c930f80e834d83a8a,22,9,5,841,,,0,"Change netns tests with oslo.privsep to check netns links

It turns out that pyroute2.netns.setns() changes a network
namespace of a thread instead of that of a process when it is
called in a thread [1].

What we actually would like to check in test_in_namespace test
is whether operations against a network namespace work with
oslo.privsep expectedly. There is no need to check namespace inode.

This commit changes test_in_namespace test to check a list of
network devices in a namespace to check netns operation works
correctly. What the new test does are:
- create a network namespace for testing
- create a veth pair and move one of them to the network namespace
- call oslo.privsep entrypoint function to retrieve a list of
  network devices inside the netns

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-January/001761.html

Closes-Bug: #1811506
Change-Id: Ie5b238f1df707ea3ce50b5711ff791bac2681a2f
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/54/631654/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/privileged/tests/functional/utils.py', 'neutron_fwaas/tests/functional/privileged/test_utils.py']",2,5db895c59d4d56d4d618195191bc3b8fc2925dd6,bug/1811506,"from neutron.agent.linux import ip_lib from neutron.agent.linux import utils as linux_utils from neutron.common import utils as neutron_utilsfrom pyroute2 import netns ip = ip_lib.IPWrapper() root_dev_name = neutron_utils.get_rand_device_name() netns_dev_name = neutron_utils.get_rand_device_name() root_dev, netns_dev = ip.add_veth(root_dev_name, netns_dev_name, namespace2=namespace) self.addCleanup(root_dev.link.delete) expected = {'lo', netns_dev_name} before, observed, after = utils.get_in_namespace_interfaces(namespace) # NOTE: The order of interfaces is not ensured, # so we use 'set' for comparison. self.assertEqual(expected, set(observed)) self.assertEqual(set(before), set(after)) self.assertIn(root_dev_name, after) before, observed, after = utils.get_in_namespace_interfaces(None) self.assertEqual(before, observed) self.assertEqual(before, after)"," @unittest.skip('Temporarily skipped until a fix against oslo.privsep 1.31') expected = get_netns_inode(namespace) before, observed, after = utils.get_in_namespace_netns_inodes( namespace) self.assertEqual(expected, observed) self.assertEqual(before, after) inodes = utils.get_in_namespace_netns_inodes(None) self.assertEqual(1, len(set(inodes)))",36,18
openstack%2Fnetworking-ovn~master~I1ef35242e2d1427d96320c47aff22e86bc035ada,openstack/networking-ovn,master,I1ef35242e2d1427d96320c47aff22e86bc035ada,Fix Ansible lint errors,MERGED,2019-01-21 09:08:22.000000000,2019-01-24 16:53:58.000000000,2019-01-24 16:53:58.000000000,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 16615}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-01-21 09:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/38bcfb0ca6aba4530f1df284cea788cca2d69d88', 'message': 'Fix Ansible lint errors\n\nFixed Ansible lint errors ANSIBLE0012 and ANSIBLE0013\nwhich address the usage of shell and command modules properly.\n\nWhen shell/command task creates a file, it should explictly\nspecify it with \'creates\' argument.\n\nWhen shell is not required, use the command module.\n\nFinally, if task is not changing anything (e.g. cat <file>)\nit should be marked as ""changed_when: false"".\n\nChange-Id: I1ef35242e2d1427d96320c47aff22e86bc035ada\n'}, {'number': 2, 'created': '2019-01-21 11:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ddca4218932f77afd367c007b17f665b1049118f', 'message': 'Fix Ansible lint errors\n\nFixed Ansible lint errors ANSIBLE0012 and ANSIBLE0013\nwhich address the usage of shell and command modules properly.\n\n* When a shell/command task creates a file, it should explictly\n  specify it with a \'creates\' argument.\n* When shell is not required, use the command module.\n* If a task is not changing anything (e.g. cat <file>)\n  it should be marked as ""changed_when: false"".\n\nAlso, fixed lines with \'ignore_error\' to be \'ignore_errors\'.\n\nChange-Id: I1ef35242e2d1427d96320c47aff22e86bc035ada\n'}, {'number': 3, 'created': '2019-01-22 17:08:40.000000000', 'files': ['migration/tripleo_environment/playbooks/roles/delete-neutron-resources/tasks/main.yml', 'migration/infrared/tripleo-ovn-migration/roles/create-resources/tasks/main.yml', 'migration/tripleo_environment/playbooks/roles/tripleo-update/tasks/main.yml', 'migration/infrared/tripleo-ovn-migration/main.yml', 'migration/migrate-to-ovn.yml', 'migration/infrared/tripleo-ovn-migration/roles/prepare-migration/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b2a38c21cc6ef2f93f4f4f35688e037254e4f399', 'message': 'Fix Ansible lint errors\n\nFixed Ansible lint errors ANSIBLE0012 and ANSIBLE0013\nwhich address the usage of shell and command modules properly.\n\n* When a shell/command task creates a file, it should explictly\n  specify it with a \'creates\' argument.\n* When shell is not required, use the command module.\n* If a task is not changing anything (e.g. cat <file>)\n  it should be marked as ""changed_when: false"".\n\nAlso, fixed lines with \'ignore_error\' to be \'ignore_errors\'.\n\nChange-Id: I1ef35242e2d1427d96320c47aff22e86bc035ada\n'}]",8,632043,b2a38c21cc6ef2f93f4f4f35688e037254e4f399,28,5,3,16615,,,0,"Fix Ansible lint errors

Fixed Ansible lint errors ANSIBLE0012 and ANSIBLE0013
which address the usage of shell and command modules properly.

* When a shell/command task creates a file, it should explictly
  specify it with a 'creates' argument.
* When shell is not required, use the command module.
* If a task is not changing anything (e.g. cat <file>)
  it should be marked as ""changed_when: false"".

Also, fixed lines with 'ignore_error' to be 'ignore_errors'.

Change-Id: I1ef35242e2d1427d96320c47aff22e86bc035ada
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/43/632043/2 && git format-patch -1 --stdout FETCH_HEAD,"['migration/tripleo_environment/playbooks/roles/delete-neutron-resources/tasks/main.yml', 'migration/infrared/tripleo-ovn-migration/roles/create-resources/tasks/main.yml', 'migration/tripleo_environment/playbooks/roles/tripleo-update/tasks/main.yml', 'migration/infrared/tripleo-ovn-migration/main.yml', 'migration/migrate-to-ovn.yml', 'migration/infrared/tripleo-ovn-migration/roles/prepare-migration/tasks/main.yml']",6,38bcfb0ca6aba4530f1df284cea788cca2d69d88,, command: cp -f {{ overcloud_deploy_script }} ~/overcloud-deploy-ovn.sh args: creates: ~/ovn_container_images.yaml changed_when: False command: cat /tmp/_reg_namespace changed_when: False, shell: cp -f {{ overcloud_deploy_script }} ~/overcloud-deploy-ovn.sh shell: cat /tmp/_reg_namespace,35,5
openstack%2Fneutron-fwaas~master~I3ea8c71a96d4c38988a38947c0ebcaf602a57842,openstack/neutron-fwaas,master,I3ea8c71a96d4c38988a38947c0ebcaf602a57842,Define types for C calls in netlink_lib,MERGED,2019-01-12 11:15:30.000000000,2019-01-24 16:53:50.000000000,2019-01-24 16:53:50.000000000,"[{'_account_id': 841}, {'_account_id': 6928}, {'_account_id': 6995}, {'_account_id': 10850}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-12 11:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/1aafcab8cb290ce853b0c8c34c7259bcc4bdf9fd', 'message': ""Define types for C calls in netlink_lib\n\nBorrowed from neutron fix related to oslo.privsep 1.31\nhttps://review.openstack.org/#/c/629335/\n\n-----\nPreviously this was not done, which meant all arguments were\nassumed to be ints. As long as we didn't get any large pointer\naddresses this worked fine, but for some reason the addition of\nthreading to oslo.privsep triggered larger addresses that were then\ntruncated. This caused segfaults in the underlying C library because\nwe were passing it invalid pointers.\n\nThis change sets argument and return types for all of the calls\nthat are used in the module.\n-----\n\nChange-Id: I3ea8c71a96d4c38988a38947c0ebcaf602a57842\n""}, {'number': 2, 'created': '2019-01-12 14:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/ef1503527d8fe1ed6e3970282f4e98c24fbaf5c3', 'message': ""DNM: Define types for C calls in netlink_lib\n\n**This is under debugging**\n\nBorrowed from neutron fix related to oslo.privsep 1.31\nhttps://review.openstack.org/#/c/629335/\n\n-----\nPreviously this was not done, which meant all arguments were\nassumed to be ints. As long as we didn't get any large pointer\naddresses this worked fine, but for some reason the addition of\nthreading to oslo.privsep triggered larger addresses that were then\ntruncated. This caused segfaults in the underlying C library because\nwe were passing it invalid pointers.\n\nThis change sets argument and return types for all of the calls\nthat are used in the module.\n-----\n\nChange-Id: I3ea8c71a96d4c38988a38947c0ebcaf602a57842\n""}, {'number': 3, 'created': '2019-01-14 12:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fbbfa84f5247926a49247f88d9953ee198a8b917', 'message': ""Define types for C calls in netlink_lib\n\n**Under debugging**\n.zuul.yaml is temporarily modified to reduce the number of jobs\nfor debugging. test_in_namespace is still faling.\n\nBorrowed from neutron fix related to oslo.privsep 1.31\nhttps://review.openstack.org/#/c/629335/\n-----\nPreviously this was not done, which meant all arguments were\nassumed to be ints. As long as we didn't get any large pointer\naddresses this worked fine, but for some reason the addition of\nthreading to oslo.privsep triggered larger addresses that were then\ntruncated. This caused segfaults in the underlying C library because\nwe were passing it invalid pointers.\n\nThis change sets argument and return types for all of the calls\nthat are used in the module.\n-----\n\nCloses-Bug: #1811506\nChange-Id: I3ea8c71a96d4c38988a38947c0ebcaf602a57842\n""}, {'number': 4, 'created': '2019-01-17 21:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fa510ce19d24c88b9488cb6876e70dee7cea8e5a', 'message': ""Define types for C calls in netlink_lib\n\nBorrowed from neutron fix related to oslo.privsep 1.31\nhttps://review.openstack.org/#/c/629335/\n-----\nPreviously this was not done, which meant all arguments were\nassumed to be ints. As long as we didn't get any large pointer\naddresses this worked fine, but for some reason the addition of\nthreading to oslo.privsep triggered larger addresses that were then\ntruncated. This caused segfaults in the underlying C library because\nwe were passing it invalid pointers.\n\nThis change sets argument and return types for all of the calls\nthat are used in the module.\n-----\n\nNote: The root cause of the failure of\nneutron_fwaas.tests.functional.privileged.InNamespaceTest.test_in_namespace\nis different and it will be covered by the next patch\n(See Ie5b238f1df707ea3ce50b5711ff791bac2681a2f),\nso it is skipped temporarily.\n\nPartial-Bug: #1811506\nChange-Id: I3ea8c71a96d4c38988a38947c0ebcaf602a57842\n""}, {'number': 5, 'created': '2019-01-17 21:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/52d04da9a6985d259aae79672a4519dd48b24ff8', 'message': ""Define types for C calls in netlink_lib\n\nBorrowed from neutron fix related to oslo.privsep 1.31\nhttps://review.openstack.org/#/c/629335/\n-----\nPreviously this was not done, which meant all arguments were\nassumed to be ints. As long as we didn't get any large pointer\naddresses this worked fine, but for some reason the addition of\nthreading to oslo.privsep triggered larger addresses that were then\ntruncated. This caused segfaults in the underlying C library because\nwe were passing it invalid pointers.\n\nThis change sets argument and return types for all of the calls\nthat are used in the module.\n-----\n\nNote: The root cause of the failure of\nneutron_fwaas.tests.functional.privileged.InNamespaceTest.test_in_namespace\nis different and it will be covered by the next patch\n(See Ie5b238f1df707ea3ce50b5711ff791bac2681a2f),\nso it is skipped temporarily.\n\nPartial-Bug: #1811506\nChange-Id: I3ea8c71a96d4c38988a38947c0ebcaf602a57842\n""}, {'number': 6, 'created': '2019-01-22 07:43:00.000000000', 'files': ['neutron_fwaas/privileged/netlink_lib.py', 'neutron_fwaas/tests/functional/privileged/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f1d40107e86c9febbf439d6ac7195d64d207b081', 'message': ""Define types for C calls in netlink_lib\n\nBorrowed from neutron fix related to oslo.privsep 1.31\nhttps://review.openstack.org/#/c/629335/\n-----\nPreviously this was not done, which meant all arguments were\nassumed to be ints. As long as we didn't get any large pointer\naddresses this worked fine, but for some reason the addition of\nthreading to oslo.privsep triggered larger addresses that were then\ntruncated. This caused segfaults in the underlying C library because\nwe were passing it invalid pointers.\n\nThis change sets argument and return types for all of the calls\nthat are used in the module.\n-----\n\nNote: The root cause of the failure of\nneutron_fwaas.tests.functional.privileged.InNamespaceTest.test_in_namespace\nis different and it will be covered by the next patch\n(See Ie5b238f1df707ea3ce50b5711ff791bac2681a2f),\nso it is skipped temporarily.\n\nPartial-Bug: #1811506\nChange-Id: I3ea8c71a96d4c38988a38947c0ebcaf602a57842\n""}]",7,630451,f1d40107e86c9febbf439d6ac7195d64d207b081,23,7,6,841,,,0,"Define types for C calls in netlink_lib

Borrowed from neutron fix related to oslo.privsep 1.31
https://review.openstack.org/#/c/629335/
-----
Previously this was not done, which meant all arguments were
assumed to be ints. As long as we didn't get any large pointer
addresses this worked fine, but for some reason the addition of
threading to oslo.privsep triggered larger addresses that were then
truncated. This caused segfaults in the underlying C library because
we were passing it invalid pointers.

This change sets argument and return types for all of the calls
that are used in the module.
-----

Note: The root cause of the failure of
neutron_fwaas.tests.functional.privileged.InNamespaceTest.test_in_namespace
is different and it will be covered by the next patch
(See Ie5b238f1df707ea3ce50b5711ff791bac2681a2f),
so it is skipped temporarily.

Partial-Bug: #1811506
Change-Id: I3ea8c71a96d4c38988a38947c0ebcaf602a57842
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/51/630451/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/privileged/netlink_lib.py'],1,1aafcab8cb290ce853b0c8c34c7259bcc4bdf9fd,bug/1811506,"nfct_lib = util.find_library('netfilter_conntrack') nfct = ctypes.CDLL(nfct_lib)# In unit tests the actual nfct library may not be installed, and since we # don't make actual calls to it we don't want to add a hard dependency. if nfct_lib: # It's important that the types be defined properly on all of the functions # we call from nfct, otherwise pointers can be truncated and cause # segfaults. nfct.nfct_set_attr.argtypes = [ctypes.c_void_p, ctypes.c_int, ctypes.c_void_p] nfct.nfct_set_attr_u8.argtypes = [ctypes.c_void_p, ctypes.c_int, ctypes.c_uint8] nfct.nfct_set_attr_u16.argtypes = [ctypes.c_void_p, ctypes.c_int, ctypes.c_uint16] nfct.nfct_snprintf.argtypes = [ctypes.c_char_p, ctypes.c_uint, ctypes.c_void_p, ctypes.c_uint, ctypes.c_uint, ctypes.c_uint] nfct.nfct_new.restype = ctypes.c_void_p nfct.nfct_destroy.argtypes = [ctypes.c_void_p] nfct.nfct_query.argtypes = [ctypes.c_void_p, ctypes.c_int, ctypes.c_void_p] nfct.nfct_callback_register.argtypes = [ctypes.c_void_p, ctypes.c_int, ctypes.c_void_p, ctypes.c_void_p] nfct.nfct_open.restype = ctypes.c_void_p nfct.nfct_close.argtypes = [ctypes.c_void_p] ",nfct = ctypes.CDLL(util.find_library('netfilter_conntrack')),36,1
openstack%2Fos-net-config~master~I35b065871a892f156449fafdb80e38eae27a4aa6,openstack/os-net-config,master,I35b065871a892f156449fafdb80e38eae27a4aa6,Fix link in HACKING.rst,MERGED,2018-11-16 03:53:59.000000000,2019-01-24 16:51:21.000000000,2019-01-24 16:51:21.000000000,"[{'_account_id': 360}, {'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-16 03:53:59.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5a1db513db157fbc917e3919cc1a8a3cdfb92c14', 'message': 'Fix link in HACKING.rst\n\nChange-Id: I35b065871a892f156449fafdb80e38eae27a4aa6\n'}]",0,618433,5a1db513db157fbc917e3919cc1a8a3cdfb92c14,11,4,1,29423,,,0,"Fix link in HACKING.rst

Change-Id: I35b065871a892f156449fafdb80e38eae27a4aa6
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/33/618433/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,5a1db513db157fbc917e3919cc1a8a3cdfb92c14,,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,1,1
openstack%2Ftripleo-heat-templates~master~Ieda56421b27e54787fffbc39f8470a67aca38c1d,openstack/tripleo-heat-templates,master,Ieda56421b27e54787fffbc39f8470a67aca38c1d,Move selinux to deployment folder,MERGED,2019-01-22 19:31:00.000000000,2019-01-24 16:51:19.000000000,2019-01-24 16:51:19.000000000,"[{'_account_id': 360}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-22 19:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/210dcd20ac2c5bc9f504cf8ddcbfed6f4fa2ee9f', 'message': 'Move selinux to deployment folder\n\nChange-Id: Ieda56421b27e54787fffbc39f8470a67aca38c1d\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 2, 'created': '2019-01-22 20:21:27.000000000', 'files': ['sample-env-generator/standalone.yaml', 'environments/standalone.yaml', 'environments/undercloud.yaml', 'environments/standalone/standalone-tripleo.yaml', 'deployment/selinux/selinux-baremetal-puppet.yaml', 'environments/standalone/standalone-overcloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0400c998c6c98880b12fd00d7d8b47dafb5e8ce', 'message': 'Move selinux to deployment folder\n\nChange-Id: Ieda56421b27e54787fffbc39f8470a67aca38c1d\nRelated-Blueprint: services-yaml-flattening\n'}]",0,632536,a0400c998c6c98880b12fd00d7d8b47dafb5e8ce,10,4,2,14985,,,0,"Move selinux to deployment folder

Change-Id: Ieda56421b27e54787fffbc39f8470a67aca38c1d
Related-Blueprint: services-yaml-flattening
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/632536/2 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'environments/standalone.yaml', 'environments/undercloud.yaml', 'environments/standalone/standalone-tripleo.yaml', 'deployment/selinux/selinux-baremetal-pupppet.yaml', 'environments/standalone/standalone-overcloud.yaml']",6,210dcd20ac2c5bc9f504cf8ddcbfed6f4fa2ee9f,bp/services-yaml-flattening, OS::TripleO::Services::SELinux: ../../deployment/selinux/selinux-baremetal-puppet.yaml, OS::TripleO::Services::SELinux: ../../puppet/services/selinux.yaml,6,6
openstack%2Fmanila~master~I1b6ff535a22f10e70d379377767c8ffac3ef5286,openstack/manila,master,I1b6ff535a22f10e70d379377767c8ffac3ef5286,Configure per backend availability zones in devstack,MERGED,2019-01-11 07:05:26.000000000,2019-01-24 16:45:32.000000000,2019-01-24 16:45:32.000000000,"[{'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26968}]","[{'number': 1, 'created': '2019-01-11 07:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fb79e59639daa99a4243f61f69c0227ffc891c8f', 'message': 'DNM Configure per backend availability zones in devstack\n\nChange-Id: I1b6ff535a22f10e70d379377767c8ffac3ef5286\n'}, {'number': 2, 'created': '2019-01-11 19:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f474dd3140d3b9b2a7216ef6c592b7b6fe336d3b', 'message': 'Configure per backend availability zones in devstack\n\nEvery enabled backend gets assigned to its own AZ.\nTest cases in manila-tempest-plugin already exercise\ncreating shares (and replicas) across AZs when\nmultiple AZs are available.\n\nPartially-implements: bp per-backend-availability-zones\nDepends-On: https://review.openstack.org/#/c/629958/\nChange-Id: I1b6ff535a22f10e70d379377767c8ffac3ef5286\n'}, {'number': 3, 'created': '2019-01-11 19:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3a760932ae9ff6ee67ce099458dcf94074fa714f', 'message': 'Configure per backend availability zones in devstack\n\nEvery enabled backend gets assigned to its own AZ.\nTest cases in manila-tempest-plugin already exercise\ncreating shares (and replicas) across AZs when\nmultiple AZs are available.\n\nPartially-implements: bp per-backend-availability-zones\nDepends-On: https://review.openstack.org/#/c/629958/\nChange-Id: I1b6ff535a22f10e70d379377767c8ffac3ef5286\n'}, {'number': 4, 'created': '2019-01-15 07:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4bf56a571ce2b4d24ce5fa46eb28a2c3686e7c0c', 'message': 'Configure per backend availability zones in devstack\n\nEvery enabled backend gets assigned to its own AZ.\nTest cases in manila-tempest-plugin already exercise\ncreating shares (and replicas) across AZs when\nmultiple AZs are available.\n\nPartially-implements: bp per-backend-availability-zones\nDepends-On: https://review.openstack.org/#/c/630886/\nDepends-On: https://review.openstack.org/#/c/629958/\nChange-Id: I1b6ff535a22f10e70d379377767c8ffac3ef5286\n'}, {'number': 5, 'created': '2019-01-22 20:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ca9096fa1a28a3ba671e70fb954285c892c022d2', 'message': 'Configure per backend availability zones in devstack\n\nEvery enabled backend gets assigned to its own AZ.\nTest cases in manila-tempest-plugin already exercise\ncreating shares (and replicas) across AZs when\nmultiple AZs are available.\n\nPartially-implements: bp per-backend-availability-zones\nDepends-On: https://review.openstack.org/#/c/630886/\nDepends-On: https://review.openstack.org/#/c/629958/\nChange-Id: I1b6ff535a22f10e70d379377767c8ffac3ef5286\n'}, {'number': 6, 'created': '2019-01-23 22:30:31.000000000', 'files': ['contrib/ci/post_test_hook.sh', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/22d25e834d7e40febbcfca77d32e669adf69db28', 'message': 'Configure per backend availability zones in devstack\n\nEvery enabled backend gets assigned to its own AZ.\nTest cases in manila-tempest-plugin already exercise\ncreating shares (and replicas) across AZs when\nmultiple AZs are available.\n\nThis is done for all back-end drivers that are not\nthe Generic driver. Configuring backend AZ for each\nGeneric driver based back end will require configuring\nNova and Cinder in a similar fashion.\n\nPartially-implements: bp per-backend-availability-zones\nDepends-On: https://review.openstack.org/#/c/630886/\nDepends-On: https://review.openstack.org/#/c/629958/\nChange-Id: I1b6ff535a22f10e70d379377767c8ffac3ef5286\n'}]",6,630039,22d25e834d7e40febbcfca77d32e669adf69db28,92,19,6,16643,,,0,"Configure per backend availability zones in devstack

Every enabled backend gets assigned to its own AZ.
Test cases in manila-tempest-plugin already exercise
creating shares (and replicas) across AZs when
multiple AZs are available.

This is done for all back-end drivers that are not
the Generic driver. Configuring backend AZ for each
Generic driver based back end will require configuring
Nova and Cinder in a similar fashion.

Partially-implements: bp per-backend-availability-zones
Depends-On: https://review.openstack.org/#/c/630886/
Depends-On: https://review.openstack.org/#/c/629958/
Change-Id: I1b6ff535a22f10e70d379377767c8ffac3ef5286
",git fetch https://review.opendev.org/openstack/manila refs/changes/39/630039/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'devstack/plugin.sh']",2,fb79e59639daa99a4243f61f69c0227ffc891c8f,bp/per-backend-availability-zones,"function set_backend_availability_zones { ENABLED_BACKENDS=$1 echo ""Setting up backend_availability_zones for all enabled backends"" zonenum=0 for BE in ${ENABLED_BACKENDS//,/ }; do zone=""manila-zone-$((zonenum++))"" iniset $MANILA_CONF $BE backend_availability_zone zone done } set_backend_availability_zones $MANILA_ENABLED_BACKENDS",,11,36
openstack%2Ftripleo-heat-templates~master~Id9dd87a2ce8c8a0a68a67bc94487b9285486f819,openstack/tripleo-heat-templates,master,Id9dd87a2ce8c8a0a68a67bc94487b9285486f819,Flatten etcd configuration,MERGED,2019-01-22 21:09:30.000000000,2019-01-24 16:40:48.000000000,2019-01-24 16:40:47.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-22 21:09:30.000000000', 'files': ['puppet/services/etcd.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'environments/services/etcd.yaml', 'environments/neutron-ml2-vpp.yaml', 'docker/services/etcd.yaml', 'environments/services-baremetal/etcd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/416f43c8332d07326508d192ee140c37f87c09cd', 'message': 'Flatten etcd configuration\n\nChange-Id: Id9dd87a2ce8c8a0a68a67bc94487b9285486f819\nRelated-Blueprint: services-yaml-flattening\n'}]",0,632556,416f43c8332d07326508d192ee140c37f87c09cd,8,4,1,14985,,,0,"Flatten etcd configuration

Change-Id: Id9dd87a2ce8c8a0a68a67bc94487b9285486f819
Related-Blueprint: services-yaml-flattening
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/632556/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/etcd.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'environments/services/etcd.yaml', 'environments/neutron-ml2-vpp.yaml', 'docker/services/etcd.yaml', 'environments/services-baremetal/etcd.yaml']",6,416f43c8332d07326508d192ee140c37f87c09cd,bp/services-yaml-flattening, OS::TripleO::Services::Etcd: ../../deployment/etcd/etcd-container-puppet.yaml, OS::TripleO::Services::Etcd: ../../puppet/services/etcd.yaml,178,238
openstack%2Fcinder~master~I7bc77ab02154aee80282e54b19a242bdea0a78ec,openstack/cinder,master,I7bc77ab02154aee80282e54b19a242bdea0a78ec,GoodnessWeigher schedules non-type volumes,MERGED,2018-04-25 20:33:56.000000000,2019-01-24 16:30:57.000000000,2018-05-01 02:30:56.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24638}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-25 20:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/50fcb9d86db4b0b0fa7c50eb19b841f3f9d5b5cd', 'message': 'GoodnessWeigher schedules non-type volumes\n\nIf the GoodnessWeigher is configured to be the only active weigher within\nthe scheduler, it cannot schedule a non-typed volumed for creation. This\npatch adds a safety assignement to the weigher stats generation to allow\nfor scheduling untyped volumes.\n\nVolumes created with a volume-type will not cause an exception and will\nbe scheduled with the volume-type and back-end as configured.\n\nCloses-Bug: 1766966\n\nChange-Id: I7bc77ab02154aee80282e54b19a242bdea0a78ec\nSigned-off-by: Eric M Gonzalez <eric@awnix.com>\n'}, {'number': 2, 'created': '2018-04-26 22:33:21.000000000', 'files': ['cinder/tests/unit/scheduler/test_goodness_weigher.py', 'cinder/scheduler/weights/goodness.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/34d75ca1a6eea03bc0fe856bf1a63e7d8d60f024', 'message': 'GoodnessWeigher schedules non-type volumes\n\nIf the GoodnessWeigher is configured to be the only active weigher within\nthe scheduler, it cannot schedule a non-typed volumed for creation. This\npatch adds a safety assignement to the weigher stats generation to allow\nfor scheduling untyped volumes.\n\nThis patch safely assigns a dictionary data-type to ""volume_type"" in the\nevent that:\n\n    weight_properties = {\n        ""volume_type"": None,\n        etc..\n    }\n\nVolumes created with a volume-type will not cause an exception and will\nbe scheduled with the volume-type and back-end as configured.\n\nCloses-Bug: 1766966\n\nChange-Id: I7bc77ab02154aee80282e54b19a242bdea0a78ec\nSigned-off-by: Eric M Gonzalez <eric@awnix.com>\n'}]",6,564339,34d75ca1a6eea03bc0fe856bf1a63e7d8d60f024,72,34,2,24638,,,0,"GoodnessWeigher schedules non-type volumes

If the GoodnessWeigher is configured to be the only active weigher within
the scheduler, it cannot schedule a non-typed volumed for creation. This
patch adds a safety assignement to the weigher stats generation to allow
for scheduling untyped volumes.

This patch safely assigns a dictionary data-type to ""volume_type"" in the
event that:

    weight_properties = {
        ""volume_type"": None,
        etc..
    }

Volumes created with a volume-type will not cause an exception and will
be scheduled with the volume-type and back-end as configured.

Closes-Bug: 1766966

Change-Id: I7bc77ab02154aee80282e54b19a242bdea0a78ec
Signed-off-by: Eric M Gonzalez <eric@awnix.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/564339/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/scheduler/weights/goodness.py'],1,50fcb9d86db4b0b0fa7c50eb19b841f3f9d5b5cd,bug/1766966," qos_specs = weight_properties.get('qos_specs', {}) or {} volume_type = weight_properties.get('volume_type', {}) or {} request_spec = weight_properties.get('request_spec', {}) or {}"," qos_specs = weight_properties.get('qos_specs', {}) volume_type = weight_properties.get('volume_type', {}) request_spec = weight_properties.get('request_spec', {})",3,3
openstack%2Ftripleo-ui~master~Idf27704e59e7a6bf9db529782f8faf328063fd43,openstack/tripleo-ui,master,Idf27704e59e7a6bf9db529782f8faf328063fd43,Allow ContainerImagePrepareParameterForm to reinitialize,MERGED,2019-01-08 15:52:23.000000000,2019-01-24 16:25:59.000000000,2019-01-24 16:25:59.000000000,"[{'_account_id': 17888}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-08 15:52:23.000000000', 'files': ['src/js/components/containerImages/ContainerImagePrepareParameterForm.js'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/5011023bc555e0b89b1f3c089fc53b3f1eb1e00c', 'message': 'Allow ContainerImagePrepareParameterForm to reinitialize\n\nThis fixes the behavior when the initial state of the form would\nnot get updated after successful submit\n\nStory: 2004733\nTask: 28783\nChange-Id: Idf27704e59e7a6bf9db529782f8faf328063fd43\n'}]",0,629244,5011023bc555e0b89b1f3c089fc53b3f1eb1e00c,7,3,1,7509,,,0,"Allow ContainerImagePrepareParameterForm to reinitialize

This fixes the behavior when the initial state of the form would
not get updated after successful submit

Story: 2004733
Task: 28783
Change-Id: Idf27704e59e7a6bf9db529782f8faf328063fd43
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/44/629244/1 && git format-patch -1 --stdout FETCH_HEAD,['src/js/components/containerImages/ContainerImagePrepareParameterForm.js'],1,5011023bc555e0b89b1f3c089fc53b3f1eb1e00c,fixContainerImagePrepareParameterForm," enableReinitialize: true,",,1,0
openstack%2Fpython-tripleoclient~master~I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2,openstack/python-tripleoclient,master,I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2,Handle tls endpoint for zaqar websocket client,MERGED,2018-09-11 19:41:03.000000000,2019-01-24 16:01:00.000000000,2018-10-20 12:20:28.000000000,"[{'_account_id': 6926}, {'_account_id': 7385}, {'_account_id': 8871}, {'_account_id': 10873}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-09-11 19:41:03.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/plugin.py', 'tripleoclient/tests/test_plugin.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6639b9e5643aeaee7a17b7995fddc2fb6288b926', 'message': 'Handle tls endpoint for zaqar websocket client\n\nWhen creating zaqar websocket client, if the endpoint has tls enabled\nprovide the CA to the client.\n\nCloses-Bug: 1791970\nChange-Id: I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2\n'}]",0,601677,6639b9e5643aeaee7a17b7995fddc2fb6288b926,22,10,1,20868,,,0,"Handle tls endpoint for zaqar websocket client

When creating zaqar websocket client, if the endpoint has tls enabled
provide the CA to the client.

Closes-Bug: 1791970
Change-Id: I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/77/601677/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/plugin.py', 'tripleoclient/tests/test_plugin.py', 'tripleoclient/tests/fakes.py']",4,6639b9e5643aeaee7a17b7995fddc2fb6288b926,bug/1791970,"WSS_URL = ""wss://0.0.0.0""",,40,1
openstack%2Fcloudkitty-dashboard~master~Ibb399a0b5b96aa808b0bbb7a5a82dd4d8a948063,openstack/cloudkitty-dashboard,master,Ibb399a0b5b96aa808b0bbb7a5a82dd4d8a948063,Explicitly specify the region_name when instanciating a client,MERGED,2019-01-09 14:53:18.000000000,2019-01-24 15:58:07.000000000,2019-01-24 15:58:07.000000000,"[{'_account_id': 7923}, {'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2019-01-09 14:53:18.000000000', 'files': ['cloudkittydashboard/api/cloudkitty.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/3e33fddff0a9a720699dd433ce07272baab454ba', 'message': 'Explicitly specify the region_name when instanciating a client\n\nUntil now, the region_name was not specified when instanciating\ncloudkittyclient from the horizon dashboard. This caused the\nclient to use systematically use the default region. That\nbehavior was problematic in multi-region setups, as only the\ncloudkitty API of the default region could be reached.\n\nChange-Id: Ibb399a0b5b96aa808b0bbb7a5a82dd4d8a948063\n'}]",0,629530,3e33fddff0a9a720699dd433ce07272baab454ba,7,3,1,23060,,,0,"Explicitly specify the region_name when instanciating a client

Until now, the region_name was not specified when instanciating
cloudkittyclient from the horizon dashboard. This caused the
client to use systematically use the default region. That
behavior was problematic in multi-region setups, as only the
cloudkitty API of the default region could be reached.

Change-Id: Ibb399a0b5b96aa808b0bbb7a5a82dd4d8a948063
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/30/629530/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittydashboard/api/cloudkitty.py'],1,3e33fddff0a9a720699dd433ce07272baab454ba,," adapter_options = { 'region_name': request.user.services_region, } insecure=insecure, adapter_options=adapter_options, )", insecure=insecure),8,1
openstack%2Ftacker~master~If62acbdac41c92842de0ae3b7dedcda9fd1f86e6,openstack/tacker,master,If62acbdac41c92842de0ae3b7dedcda9fd1f86e6,Add new policy action: vdu_autoheal,MERGED,2018-10-23 04:50:04.000000000,2019-01-24 15:54:22.000000000,2019-01-24 15:54:22.000000000,"[{'_account_id': 1011}, {'_account_id': 13380}, {'_account_id': 18955}, {'_account_id': 19316}, {'_account_id': 19644}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27068}, {'_account_id': 27153}, {'_account_id': 27181}, {'_account_id': 28485}]","[{'number': 1, 'created': '2018-10-23 04:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b4e34edd56052949b34e9238dddd4535500f74a5', 'message': 'Add new policy action: vdu_autohealing\n\n- This patch aims to add new policy action: vdu_autohealing\n  for recovery of failure vdu\'s in case of monitoring policy.\n\n- This patch adds respective functional/unit test cases.\n  To test ""vdu_autohealing"" monitoring policy action.\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}, {'number': 2, 'created': '2018-10-23 07:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b84615b0b049f16d9f1c4dd29c2a8c8246ce2afa', 'message': 'Add new policy action: vdu_autohealing\n\n- This patch aims to add new policy action: vdu_autohealing\n  for recovery of failure vdu\'s in case of monitoring policy.\n\n- This patch adds respective functional/unit test cases.\n  To test ""vdu_autohealing"" monitoring policy action.\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}, {'number': 3, 'created': '2018-10-25 04:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1df56618bb080ad7a4a9f54ddbde734e2afa0053', 'message': 'Add new policy action: vdu_autohealing\n\n- This patch aims to add new policy action: vdu_autohealing\n  for recovery of failure vdu\'s in case of monitoring policy.\n\n- This patch adds respective functional/unit test cases.\n  To test ""vdu_autohealing"" monitoring policy action.\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}, {'number': 4, 'created': '2018-10-26 07:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3186dcc6291d015a06efe64cf2b6e3c61249de4b', 'message': 'WIP: Add new policy action: vdu_autohealing\n\n- This patch aims to add new policy action: vdu_autohealing\n  for recovery of failure vdu\'s in case of monitoring policy.\n\n- This patch adds respective functional/unit test cases.\n  To test ""vdu_autohealing"" monitoring policy action.\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}, {'number': 5, 'created': '2018-10-29 09:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d3814f37d657cde1c5086da5a66af10237030968', 'message': 'Add new policy action: vdu_autohealing\n\n- This patch aims to add new policy action: vdu_autohealing\n  for recovery of failure vdu\'s in case of monitoring policy.\n\n- This patch adds respective functional/unit test cases.\n  To test ""vdu_autohealing"" monitoring policy action.\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}, {'number': 6, 'created': '2018-10-31 09:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/46229de5fff741598de72bf180b76986227cceb3', 'message': 'Add new policy action: vdu_autohealing\n\n- This patch aims to add new policy action: vdu_autohealing\n  for recovery of failure vdu\'s in case of monitoring policy.\n\n- This patch adds respective functional/unit test cases.\n  To test ""vdu_autohealing"" monitoring policy action.\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}, {'number': 7, 'created': '2018-11-01 01:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/850b8fdf28aedae96100dd2ce062a90bbf701998', 'message': 'Add new policy action: vdu_autohealing\n\n- This patch aims to add new policy action: vdu_autohealing\n  for recovery of failure vdu\'s in case of monitoring policy.\n\n- This patch adds respective functional/unit test cases.\n  To test ""vdu_autohealing"" monitoring policy action.\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}, {'number': 8, 'created': '2018-11-05 09:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b7d89e809f5b847aa704bf1a7ebc9fb60ee527da', 'message': 'Add new policy action: vdu_autohealing\n\n- This patch aims to add new policy action: vdu_autohealing\n  for recovery of failure vdu\'s in case of monitoring policy.\n\n- This patch adds respective functional/unit test cases.\n  To test ""vdu_autohealing"" monitoring policy action.\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}, {'number': 9, 'created': '2018-11-07 08:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0a05f6ef9519891b7fe4400b9665d485e5d699af', 'message': 'Add new policy action: vdu_autohealing\n\n- This patch aims to add new policy action: vdu_autohealing\n  for recovery of failure vdu\'s in case of monitoring policy.\n\n- This patch adds respective functional/unit test cases.\n  To test ""vdu_autohealing"" monitoring policy action.\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}, {'number': 10, 'created': '2018-12-12 04:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/348584dd1979b9457761625c1efa64c3ad30e01e', 'message': 'Add new policy action: vdu_autoheal\n\nThis patch adds below functionality:\n\n- New policy action ``vdu_autoheal`` for recovering failed VDUs\n  as reported by the respective monitoring driver configured in\n  the monitoring policy of the VNFD template.\n\n- Add unit/functional tests.\n\n- Added oslo_versioned library to implement HealVnfRequest object.\n\nNote: The implementation of vdu_autoheal policy action will support\nHealVnfRequest interface  as mentioned in the ETSI standard [1]\n\n[1]: https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.05.01_60/gs_NFV-SOL003v020501p.pdf\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}, {'number': 11, 'created': '2018-12-12 07:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/83f8f1ca599bc020572bfc18c0caf864638608c3', 'message': 'Add new policy action: vdu_autoheal\n\nThis patch adds below functionality:\n\n- New policy action ``vdu_autoheal`` for recovering failed VDUs\n  as reported by the respective monitoring driver configured in\n  the monitoring policy of the VNFD template.\n\n- Add unit/functional tests.\n\n- Added oslo_versioned library to implement HealVnfRequest object.\n\nNote: The implementation of vdu_autoheal policy action will support\nHealVnfRequest interface  as mentioned in the ETSI standard [1]\n\n[1]: https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.05.01_60/gs_NFV-SOL003v020501p.pdf\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}, {'number': 12, 'created': '2018-12-13 09:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/06e802e8f6d62c86d091c585c94b6882bc1ddfc1', 'message': 'Add new policy action: vdu_autoheal\n\nThis patch adds below functionality:\n\n- New policy action ``vdu_autoheal`` for recovering failed VDUs\n  as reported by the respective monitoring driver configured in\n  the monitoring policy of the VNFD template.\n\n- Add unit/functional tests.\n\n- Added oslo_versioned library to implement HealVnfRequest object.\n\nNote: The implementation of vdu_autoheal policy action will support\nHealVnfRequest interface  as mentioned in the ETSI standard [1]\n\n[1]: https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.05.01_60/gs_NFV-SOL003v020501p.pdf\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}, {'number': 13, 'created': '2019-01-11 08:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/96e007613419d61d57b9793c022e351234bdd06d', 'message': 'Add new policy action: vdu_autoheal\n\nThis patch adds below functionality:\n\n- New policy action ``vdu_autoheal`` for recovering failed VDUs\n  as reported by the respective monitoring driver configured in\n  the monitoring policy of the VNFD template.\n\n- Add unit/functional tests.\n\n- Added oslo_versioned library to implement HealVnfRequest object.\n\nNote: The implementation of vdu_autoheal policy action will support\nHealVnfRequest interface  as mentioned in the ETSI standard [1]\n\n[1]: https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.05.01_60/gs_NFV-SOL003v020501p.pdf\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}, {'number': 14, 'created': '2019-01-22 01:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/59b50618de74e76b010a4529a942118d713e75fb', 'message': 'Add new policy action: vdu_autoheal\n\nThis patch adds below functionality:\n\n- New policy action ``vdu_autoheal`` for recovering failed VDUs\n  as reported by the respective monitoring driver configured in\n  the monitoring policy of the VNFD template.\n\n- Add unit/functional tests.\n\n- Added oslo_versioned library to implement HealVnfRequest object.\n\nNote: The implementation of vdu_autoheal policy action will support\nHealVnfRequest interface  as mentioned in the ETSI standard [1]\n\n[1]: https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.05.01_60/gs_NFV-SOL003v020501p.pdf\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}, {'number': 15, 'created': '2019-01-22 09:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0c56c13fb00f9f38af76a0714e51607d3043f292', 'message': 'Add new policy action: vdu_autoheal\n\nThis patch adds below functionality:\n\n- New policy action ``vdu_autoheal`` for recovering failed VDUs\n  as reported by the respective monitoring driver configured in\n  the monitoring policy of the VNFD template.\n\n- Add unit/functional tests.\n\n- Added oslo_versioned library to implement HealVnfRequest object.\n\nNote: The implementation of vdu_autoheal policy action will support\nHealVnfRequest interface  as mentioned in the ETSI standard [1]\n\n[1]: https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.05.01_60/gs_NFV-SOL003v020501p.pdf\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}, {'number': 16, 'created': '2019-01-24 01:01:53.000000000', 'files': ['doc/source/contributor/monitor-api.rst', 'tacker/vnfm/infra_drivers/openstack/constants.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_vdu.py', 'tacker/objects/__init__.py', 'tacker/extensions/vnfm.py', 'tacker/tests/etc/samples/sample-tosca-vnfd-single-vdu-monitoring-vdu-autoheal.yaml', 'tacker/vnfm/policy_actions/respawn/respawn.py', 'tacker/vnfm/policy_actions/vdu_autoheal/__init__.py', 'tacker/objects/fields.py', 'tacker/cmd/eventlet/conductor.py', 'tacker/objects/base.py', 'requirements.txt', 'tacker/vnfm/plugin.py', 'tacker/vnfm/policy_actions/log/log.py', 'tacker/tests/constants.py', 'tacker/tests/unit/vnfm/policy_actions/vdu_autoheal/test_vdu_autoheal.py', 'tacker/tests/unit/vnfm/policy_actions/vdu_autoheal/__init__.py', 'tacker/vnfm/monitor.py', 'tacker/tests/unit/vnfm/test_plugin.py', 'tacker/vnfm/infra_drivers/openstack/vdu.py', 'tacker/tests/functional/base.py', 'tacker/tests/functional/vnfm/test_vnf_monitoring.py', 'tacker/tests/unit/objects/__init__.py', 'releasenotes/notes/add-vdu-autoheal-action-42dd5f23c5ba8d34.yaml', 'tacker/cmd/eventlet/tacker_server.py', 'lower-constraints.txt', 'tacker/vnfm/policy_actions/vdu_autoheal/vdu_autoheal.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/vnfm/infra_drivers/noop.py', 'tacker/vnfm/policy_actions/autoscaling/autoscaling.py', 'tacker/vnfm/utils.py', 'tacker/tests/unit/vnfm/test_monitor.py', 'tacker/tests/unit/objects/test_fields.py', 'tacker/objects/heal_vnf_request.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'setup.cfg', 'tacker/plugins/common/constants.py', 'tacker/tests/etc/samples/sample-tosca-vnfd-multi-vdu-monitoring-vdu-autoheal.yaml', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/conductor/conductor_server.py', 'tacker/vnfm/infra_drivers/abstract_driver.py', 'tacker/db/vnfm/vnfm_db.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/5f1e48ff462900500cc12db23564db411b2f6083', 'message': 'Add new policy action: vdu_autoheal\n\nThis patch adds below functionality:\n\n- New policy action ``vdu_autoheal`` for recovering failed VDUs\n  as reported by the respective monitoring driver configured in\n  the monitoring policy of the VNFD template.\n\n- Add unit/functional tests.\n\n- Added oslo_versioned library to implement HealVnfRequest object.\n\nNote: The implementation of vdu_autoheal policy action will support\nHealVnfRequest interface  as mentioned in the ETSI standard [1]\n\n[1]: https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.05.01_60/gs_NFV-SOL003v020501p.pdf\n\nImplements: blueprint vdu-auto-healing\nChange-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6\n'}]",34,612595,5f1e48ff462900500cc12db23564db411b2f6083,77,13,16,20182,,,0,"Add new policy action: vdu_autoheal

This patch adds below functionality:

- New policy action ``vdu_autoheal`` for recovering failed VDUs
  as reported by the respective monitoring driver configured in
  the monitoring policy of the VNFD template.

- Add unit/functional tests.

- Added oslo_versioned library to implement HealVnfRequest object.

Note: The implementation of vdu_autoheal policy action will support
HealVnfRequest interface  as mentioned in the ETSI standard [1]

[1]: https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.05.01_60/gs_NFV-SOL003v020501p.pdf

Implements: blueprint vdu-auto-healing
Change-Id: If62acbdac41c92842de0ae3b7dedcda9fd1f86e6
",git fetch https://review.opendev.org/openstack/tacker refs/changes/95/612595/4 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/vnfm/infra_drivers/openstack/constants.py', 'tacker/extensions/vnfm.py', 'tacker/vnfm/policy_actions/respawn/respawn.py', 'tacker/tests/unit/vnfm/policy_actions/vdu_autohealing/test_vdu_autohealing.py', 'tacker/vnfm/plugin.py', 'tacker/vnfm/policy_actions/log/log.py', 'releasenotes/notes/add-vdu-autohealing-action-42dd5f23c5ba8d34.yaml', 'tacker/tests/constants.py', 'tacker/vnfm/monitor.py', 'tacker/tests/unit/vnfm/test_plugin.py', 'tacker/tests/functional/base.py', 'tacker/tests/functional/vnfm/test_vnf_monitoring.py', 'tacker/tests/unit/vnfm/policy_actions/__init__.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/vnfm/policy_actions/vdu_autohealing/vdu_autohealing.py', 'tacker/vnfm/infra_drivers/noop.py', 'tacker/vnfm/policy_actions/autoscaling/autoscaling.py', 'tacker/vnfm/utils.py', 'tacker/tests/unit/vnfm/policy_actions/vdu_autohealing/__init__.py', 'tacker/tests/unit/vnfm/test_monitor.py', 'tacker/tests/etc/samples/sample-tosca-vnfd-single-vdu-monitoring-vdu-autohealing.yaml', 'tacker/tests/etc/samples/sample-tosca-vnfd-multi-vdu-monitoring-vdu-autohealing.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/vnfm/policy_actions/vdu_autohealing/__init__.py', 'setup.cfg', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/vnfm/infra_drivers/abstract_driver.py']",28,b4e34edd56052949b34e9238dddd4535500f74a5,bp/vdu-auto-healing," @abc.abstractmethod def execute_action_update(self, plugin, context, vnf_dict, action_data): pass",,797,116
openstack%2Ftrove~master~I0797a0ad0007450d76efa02bd05a5ca9db878938,openstack/trove,master,I0797a0ad0007450d76efa02bd05a5ca9db878938,Do not use self in classmethod,MERGED,2019-01-10 01:27:42.000000000,2019-01-24 15:47:00.000000000,2019-01-24 15:47:00.000000000,"[{'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 25113}, {'_account_id': 29393}]","[{'number': 1, 'created': '2019-01-10 01:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e3ed2edb6d4452ebec69501124858b4039dab4ae', 'message': 'Do not use self in classmethod\n\ncls should be used in classmethd, instead of self.\n\nChange-Id: I0797a0ad0007450d76efa02bd05a5ca9db878938\n'}, {'number': 2, 'created': '2019-01-10 09:28:00.000000000', 'files': ['trove/guestagent/datastore/mysql_common/service.py', 'trove/tests/fakes/swift.py', 'trove/extensions/security_group/models.py', 'trove/tests/unittests/guestagent/test_cassandra_manager.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/683865ee6557fec1d4acdc1022b857c13a3f8fbe', 'message': 'Do not use self in classmethod\n\ncls should be used in classmethd, instead of self.\n\nChange-Id: I0797a0ad0007450d76efa02bd05a5ca9db878938\n'}]",0,629739,683865ee6557fec1d4acdc1022b857c13a3f8fbe,18,4,2,20190,,,0,"Do not use self in classmethod

cls should be used in classmethd, instead of self.

Change-Id: I0797a0ad0007450d76efa02bd05a5ca9db878938
",git fetch https://review.opendev.org/openstack/trove refs/changes/39/629739/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql_common/service.py', 'trove/tests/fakes/swift.py', 'trove/extensions/security_group/models.py']",3,e3ed2edb6d4452ebec69501124858b4039dab4ae,classmethod_self," def get_security_group_by_id_or_instance_id(cls, id, tenant_id):"," def get_security_group_by_id_or_instance_id(self, id, tenant_id):",3,3
openstack%2Fproject-config~master~Iaa9f995ecd0808b93670ebbd70e17261c36b0cac,openstack/project-config,master,Iaa9f995ecd0808b93670ebbd70e17261c36b0cac,Switch docker user/pass for Zuul container jobs,MERGED,2019-01-24 15:23:30.000000000,2019-01-24 15:42:18.000000000,2019-01-24 15:42:18.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 15:23:30.000000000', 'files': ['zuul.d/secrets.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f49414141abe74c5c9a2f2688f13816ec51aed52', 'message': 'Switch docker user/pass for Zuul container jobs\n\nThe new versions of these jobs are taking a bit longer to complete\nthan expected, so update the credentials so the old jobs work in\nthe mean time.\n\nChange-Id: Iaa9f995ecd0808b93670ebbd70e17261c36b0cac\n'}]",0,633016,f49414141abe74c5c9a2f2688f13816ec51aed52,7,3,1,1,,,0,"Switch docker user/pass for Zuul container jobs

The new versions of these jobs are taking a bit longer to complete
than expected, so update the credentials so the old jobs work in
the mean time.

Change-Id: Iaa9f995ecd0808b93670ebbd70e17261c36b0cac
",git fetch https://review.opendev.org/openstack/project-config refs/changes/16/633016/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/secrets.yaml', 'zuul.d/jobs.yaml']",2,f49414141abe74c5c9a2f2688f13816ec51aed52,, - zuulzuul_docker_login, - openstackzuul_docker_login,17,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ia0c56ab694d27b2cd0a0b3984a63c26ab4665879,openstack/tripleo-heat-templates,stable/queens,Ia0c56ab694d27b2cd0a0b3984a63c26ab4665879,[Queens only] Use rhel-registration tool in Rhsm to update repos before upgrade,ABANDONED,2018-10-19 14:14:09.000000000,2019-01-24 15:33:06.000000000,,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-10-19 14:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59810b500d262323d560da9978674dceb9d08abd', 'message': 'WIP: [Queens only] Use rhel-registration tool in Rhsm to update repos before upgrade\n\nChange-Id: Ia0c56ab694d27b2cd0a0b3984a63c26ab4665879\n'}, {'number': 2, 'created': '2018-10-19 14:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e47e4d746786f3eb1fcd9e0a02722b7ab0861e9e', 'message': 'WIP: [Queens only] Use rhel-registration tool in Rhsm to update repos before upgrade\n\nChange-Id: Ia0c56ab694d27b2cd0a0b3984a63c26ab4665879\n'}, {'number': 3, 'created': '2018-10-24 15:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d1b268ae8b25faad0a5e524ec3dd591efddd753', 'message': ""[Queens only] Use rhel-registration tool in Rhsm to update repos before upgrade\n\nThe new Rhsm service added in Queens provides a new way to register\nthe overcloud nodes via Satellite or portal. To allow a the update\nof repositories during the upgrade, as well as providing a migration\nfrom the old rhel-registration script into Rhsm service an upgrade_task\nis being added to run the old rhel-registration script using the new\nRhsm parameters.\nThe reason for this is that redhat-subscription role is available\nonly in Queens, while this task is run with Pike repositories.\nRunning rhel-registration with --force option will re-register the\nnodes and update the repositories [0]. However, for this operation\nto work it's needed to do a migration of the old rhel-registration\nparameters as described in [1], appending the new parameters and\ntemplate for OS::TripleO::Services::Rhsm resource during\n`openstack overcloud upgrade prepare operation`. This hack is only\nneeded in Queens, from Queens onwards the redhat-subscription will\nbe available in the repos to perform the repository switching.\n\n[0] - I51a1dad5f422756d0a8c4deff81c170be7d944d3\n[1] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/13/html/advanced_overcloud_customization/ansible-based-registration#switching-to-the-rhsm-composable-service\nRelated-Bug: #1797138\nChange-Id: Ia0c56ab694d27b2cd0a0b3984a63c26ab4665879\n""}, {'number': 4, 'created': '2018-10-25 05:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eaa07e01ac44e8991de7001b5c929d111b7803cc', 'message': ""[Queens only] Use rhel-registration tool in Rhsm to update repos before upgrade\n\nThe new Rhsm service added in Queens provides a new way to register\nthe overcloud nodes via Satellite or portal. To allow a the update\nof repositories during the upgrade, as well as providing a migration\nfrom the old rhel-registration script into Rhsm service an upgrade_task\nis being added to run the old rhel-registration script using the new\nRhsm parameters.\nThe reason for this is that redhat-subscription role is available\nonly in Queens, while this task is run with Pike repositories.\nRunning rhel-registration with --force option will re-register the\nnodes and update the repositories [0]. However, for this operation\nto work it's needed to do a migration of the old rhel-registration\nparameters as described in [1], appending the new parameters and\ntemplate for OS::TripleO::Services::Rhsm resource during\n`openstack overcloud upgrade prepare operation`. This hack is only\nneeded in Queens, from Queens onwards the redhat-subscription will\nbe available in the repos to perform the repository switching.\n\n[0] - I51a1dad5f422756d0a8c4deff81c170be7d944d3\n[1] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/13/html/advanced_overcloud_customization/ansible-based-registration#switching-to-the-rhsm-composable-service\nRelated-Bug: #1797138\nChange-Id: Ia0c56ab694d27b2cd0a0b3984a63c26ab4665879\n""}, {'number': 5, 'created': '2018-10-30 12:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f1ee56dd63c6d888858c9b9cbeb93ae5e6a96ab', 'message': ""[Queens only] Use rhel-registration tool in Rhsm to update repos before upgrade\n\nThe new Rhsm service added in Queens provides a new way to register\nthe overcloud nodes via Satellite or portal. To allow a the update\nof repositories during the upgrade, as well as providing a migration\nfrom the old rhel-registration script into Rhsm service an upgrade_task\nis being added to run the old rhel-registration script using the new\nRhsm parameters.\nThe reason for this is that redhat-subscription role is available\nonly in Queens, while this task is run with Pike repositories.\nRunning rhel-registration with --force option will re-register the\nnodes and update the repositories [0]. However, for this operation\nto work it's needed to do a migration of the old rhel-registration\nparameters as described in [1], appending the new parameters and\ntemplate for OS::TripleO::Services::Rhsm resource during\n`openstack overcloud upgrade prepare operation`. This hack is only\nneeded in Queens, from Queens onwards the redhat-subscription will\nbe available in the repos to perform the repository switching.\n\n[0] - I51a1dad5f422756d0a8c4deff81c170be7d944d3\n[1] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/13/html/advanced_overcloud_customization/ansible-based-registration#switching-to-the-rhsm-composable-service\nRelated-Bug: #1797138\nChange-Id: Ia0c56ab694d27b2cd0a0b3984a63c26ab4665879\n""}, {'number': 6, 'created': '2018-10-31 09:19:38.000000000', 'files': ['extraconfig/services/rhsm.yaml', 'environments/lifecycle/upgrade-converge.yaml', 'environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5debac8fc8389a36e9b5864ed6167338af634e9f', 'message': ""[Queens only] Use rhel-registration tool in Rhsm to update repos before upgrade\n\nThe new Rhsm service added in Queens provides a new way to register\nthe overcloud nodes via Satellite or portal. To allow a the update\nof repositories during the upgrade, as well as providing a migration\nfrom the old rhel-registration script into Rhsm service an upgrade_task\nis being added to run the old rhel-registration script using the new\nRhsm parameters.\nThe reason for this is that redhat-subscription role is available\nonly in Queens, while this task is run with Pike repositories.\nRunning rhel-registration with --force option will re-register the\nnodes and update the repositories [0]. However, for this operation\nto work it's needed to do a migration of the old rhel-registration\nparameters as described in [1], appending the new parameters and\ntemplate for OS::TripleO::Services::Rhsm resource during\n`openstack overcloud upgrade prepare operation`. This hack is only\nneeded in Queens, from Queens onwards the redhat-subscription will\nbe available in the repos to perform the repository switching.\nBesides, as this service will be used during the upgrade from Pike\nto Queens, the redhat-subscription role invoked won't be available\nprior to the repository change, having Pike repositories configured,\nfor that reason we need to add a check to skip running the role if\nit's not available. Again, this impacts only Queens release.\n\n[0] - I51a1dad5f422756d0a8c4deff81c170be7d944d3\n[1] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/13/html/advanced_overcloud_customization/ansible-based-registration#switching-to-the-rhsm-composable-service\nRelated-Bug: #1797138\nChange-Id: Ia0c56ab694d27b2cd0a0b3984a63c26ab4665879\n""}]",13,611879,5debac8fc8389a36e9b5864ed6167338af634e9f,24,7,6,26343,,,0,"[Queens only] Use rhel-registration tool in Rhsm to update repos before upgrade

The new Rhsm service added in Queens provides a new way to register
the overcloud nodes via Satellite or portal. To allow a the update
of repositories during the upgrade, as well as providing a migration
from the old rhel-registration script into Rhsm service an upgrade_task
is being added to run the old rhel-registration script using the new
Rhsm parameters.
The reason for this is that redhat-subscription role is available
only in Queens, while this task is run with Pike repositories.
Running rhel-registration with --force option will re-register the
nodes and update the repositories [0]. However, for this operation
to work it's needed to do a migration of the old rhel-registration
parameters as described in [1], appending the new parameters and
template for OS::TripleO::Services::Rhsm resource during
`openstack overcloud upgrade prepare operation`. This hack is only
needed in Queens, from Queens onwards the redhat-subscription will
be available in the repos to perform the repository switching.
Besides, as this service will be used during the upgrade from Pike
to Queens, the redhat-subscription role invoked won't be available
prior to the repository change, having Pike repositories configured,
for that reason we need to add a check to skip running the role if
it's not available. Again, this impacts only Queens release.

[0] - I51a1dad5f422756d0a8c4deff81c170be7d944d3
[1] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/13/html/advanced_overcloud_customization/ansible-based-registration#switching-to-the-rhsm-composable-service
Related-Bug: #1797138
Change-Id: Ia0c56ab694d27b2cd0a0b3984a63c26ab4665879
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/611879/5 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/services/rhsm.yaml', 'environments/lifecycle/upgrade-converge.yaml', 'environments/lifecycle/upgrade-prepare.yaml']",3,59810b500d262323d560da9978674dceb9d08abd,bug/1797138,," # Add RHEL Registration force to re-register with the new key and repos # also modify the actions to run the resource on stack UPDATE RHELRegistrationActions: ['CREATE', 'UPDATE'] rhel_reg_force: ""True""",32,9
openstack%2Fnova~master~Iaa6a8c38a6603cff01d46eb37504ceeb449d6b30,openstack/nova,master,Iaa6a8c38a6603cff01d46eb37504ceeb449d6b30,Refactor PortResourceRequestBasedSchedulingTestBase,ABANDONED,2018-12-10 13:20:00.000000000,2019-01-24 15:30:29.000000000,,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-12-10 13:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6fb980e4bda03f7203c0b2418ea5fbea0703e21', 'message': 'Refactor PortResourceRequestBasedSchedulingTestBase\n\nMake it possible to create more than on SRIOV device RP in the\nfunctional test. This capability will be used in subsequent patches.\n\nChange-Id: Iaa6a8c38a6603cff01d46eb37504ceeb449d6b30\nblueprint: bandwidth-resource-provider\n'}, {'number': 2, 'created': '2018-12-14 14:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1a13b6de9a720d88d5cc7cce0694b472d9cca6e', 'message': 'Refactor PortResourceRequestBasedSchedulingTestBase\n\nMake it possible to create more than on SRIOV device RP in the\nfunctional test. This capability will be used in subsequent patches.\n\nChange-Id: Iaa6a8c38a6603cff01d46eb37504ceeb449d6b30\nblueprint: bandwidth-resource-provider\n'}, {'number': 3, 'created': '2018-12-18 15:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40b9a16239b3d0a87a9279c89ba34ef3998d04b9', 'message': 'Refactor PortResourceRequestBasedSchedulingTestBase\n\nMake it possible to create more than on SRIOV device RP in the\nfunctional test. This capability will be used in subsequent patches.\n\nChange-Id: Iaa6a8c38a6603cff01d46eb37504ceeb449d6b30\nblueprint: bandwidth-resource-provider\n'}, {'number': 4, 'created': '2018-12-19 15:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0eb3e0f4879e4dd09159d7a50e84f3b6fd489647', 'message': 'Refactor PortResourceRequestBasedSchedulingTestBase\n\nMake it possible to create more than on SRIOV device RP in the\nfunctional test. This capability will be used in subsequent patches.\n\nChange-Id: Iaa6a8c38a6603cff01d46eb37504ceeb449d6b30\nblueprint: bandwidth-resource-provider\n'}, {'number': 5, 'created': '2018-12-20 10:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0625af22bea1171aaa92a88e35273045c873cbe0', 'message': 'Refactor PortResourceRequestBasedSchedulingTestBase\n\nMake it possible to create more than on SRIOV device RP in the\nfunctional test. This capability will be used in subsequent patches.\n\nChange-Id: Iaa6a8c38a6603cff01d46eb37504ceeb449d6b30\nblueprint: bandwidth-resource-provider\n'}, {'number': 6, 'created': '2018-12-20 16:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e6b5beffdbb29f5cb26a15ff4a70d4eecb47b72', 'message': 'Refactor PortResourceRequestBasedSchedulingTestBase\n\nMake it possible to create more than on SRIOV device RP in the\nfunctional test. This capability will be used in subsequent patches.\n\nChange-Id: Iaa6a8c38a6603cff01d46eb37504ceeb449d6b30\nblueprint: bandwidth-resource-provider\n'}, {'number': 7, 'created': '2019-01-14 16:29:33.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/45f103847d7aaed8cd4fbe205a4306b1a4df309f', 'message': 'Refactor PortResourceRequestBasedSchedulingTestBase\n\nMake it possible to create more than on SRIOV device RP in the\nfunctional test. This capability will be used in subsequent patches.\n\nChange-Id: Iaa6a8c38a6603cff01d46eb37504ceeb449d6b30\nblueprint: bandwidth-resource-provider\n'}]",0,624080,45f103847d7aaed8cd4fbe205a4306b1a4df309f,63,12,7,9708,,,0,"Refactor PortResourceRequestBasedSchedulingTestBase

Make it possible to create more than on SRIOV device RP in the
functional test. This capability will be used in subsequent patches.

Change-Id: Iaa6a8c38a6603cff01d46eb37504ceeb449d6b30
blueprint: bandwidth-resource-provider
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/624080/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,b6fb980e4bda03f7203c0b2418ea5fbea0703e21,bp/bandwidth-resource-provider," def _create_pf_device_rp( self, device_rp_uuid, parent_rp_uuid, inventories, traits): sriov_pf_req = { ""name"": device_rp_uuid, ""uuid"": device_rp_uuid, ""parent_provider_uuid"": parent_rp_uuid } self.placement_api.post('/resource_providers', body=sriov_pf_req, version='1.20') self._set_provider_inventories( device_rp_uuid, {""inventories"": inventories}) for trait in traits: self.placement_api.put( '/traits/' + trait, version='1.20') self._set_provider_traits( device_rp_uuid, {""traits"": traits}) self.sriov_pf1_rp_uuid = getattr(uuids, sriov_agent_rp_uuid + 'pf1') inventories = { rc_fields.ResourceClass.NET_BW_IGR_KILOBIT_PER_SEC: {""total"": 100000}, rc_fields.ResourceClass.NET_BW_EGR_KILOBIT_PER_SEC: {""total"": 100000}, } traits = [self.CUSTOM_VNIC_TYPE_DIRECT, self.CUSTOM_PHYSNET_3] self._create_pf_device_rp( self.sriov_pf1_rp_uuid, sriov_agent_rp_uuid, inventories, traits) sriov_allocations = allocations[self.sriov_pf1_rp_uuid]['resources'] self.assertEqual(self.sriov_pf1_rp_uuid, sriov_binding['allocation'])"," self.sriov_pf_per_host = {} sriov_pf1_rp_uuid = getattr(uuids, sriov_agent_rp_uuid + 'pf1') sriov_pf_req = { ""name"": sriov_pf1_rp_uuid, ""uuid"": sriov_pf1_rp_uuid, ""parent_provider_uuid"": sriov_agent_rp_uuid } self.placement_api.post('/resource_providers', body=sriov_pf_req, version='1.20') self.sriov_pf_per_host[compute_rp_uuid] = sriov_pf1_rp_uuid self._set_provider_inventories( sriov_pf1_rp_uuid, {""inventories"": { rc_fields.ResourceClass.NET_BW_IGR_KILOBIT_PER_SEC: {""total"": 100000}, rc_fields.ResourceClass.NET_BW_EGR_KILOBIT_PER_SEC: {""total"": 100000}, }}) self.placement_api.put( '/traits/' + self.CUSTOM_VNIC_TYPE_DIRECT, version='1.20') self.placement_api.put( '/traits/' + self.CUSTOM_PHYSNET_3, version='1.20') self._set_provider_traits( sriov_pf1_rp_uuid, {""traits"": [self.CUSTOM_VNIC_TYPE_DIRECT, self.CUSTOM_PHYSNET_3]}) sriov_allocations = allocations[ self.sriov_pf_per_host[self.compute1_rp_uuid]]['resources'] self.assertEqual(self.sriov_pf_per_host[self.compute1_rp_uuid], sriov_binding['allocation'])",37,34
openstack%2Fossa~master~I5670f810f86796c6fb2bf9e8e68c5a4ffae6b5fd,openstack/ossa,master,I5670f810f86796c6fb2bf9e8e68c5a4ffae6b5fd,Fix a spelling mistake,MERGED,2019-01-16 21:14:18.000000000,2019-01-24 15:23:35.000000000,2019-01-24 15:23:35.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-16 21:14:18.000000000', 'files': ['doc/source/guidelines/dg_rootwrap-recommendations-and-plans.rst'], 'web_link': 'https://opendev.org/openstack/ossa/commit/1c6a37aeb42e26176963d42966de656844612368', 'message': 'Fix a spelling mistake\n\nChange-Id: I5670f810f86796c6fb2bf9e8e68c5a4ffae6b5fd\nSigned-off-by: Nick Tait <ntait@redhat.com>\n'}]",0,631339,1c6a37aeb42e26176963d42966de656844612368,6,2,1,28011,,,0,"Fix a spelling mistake

Change-Id: I5670f810f86796c6fb2bf9e8e68c5a4ffae6b5fd
Signed-off-by: Nick Tait <ntait@redhat.com>
",git fetch https://review.opendev.org/openstack/ossa refs/changes/39/631339/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/guidelines/dg_rootwrap-recommendations-and-plans.rst'],1,1c6a37aeb42e26176963d42966de656844612368,TOPIC-spelling,- Permit sanitization of input to privileged tasks,- Permit santiization of input to privileged tasks,1,1
openstack%2Frally-openstack~master~Ia2c99485b36f5e236079f5000a18df4313982bb0,openstack/rally-openstack,master,Ia2c99485b36f5e236079f5000a18df4313982bb0,Add barbican container scenarios,MERGED,2019-01-09 17:55:04.000000000,2019-01-24 15:20:54.000000000,2019-01-24 15:20:54.000000000,"[{'_account_id': 24}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-09 17:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/8caaf3e68acd69959bcf0cedfc5995e31d4fbde8', 'message': 'Add barbican container scenarios\n\nAdded the following scenarios for barbican:\n\n- BarbicanContainers.list\n- BarbicanContainers.create_and_delete\n- BarbicanContainers.create_and_add\n- BarbicanContainers.create_certificate_and_delete\n- BarbicanContainers.create_rsa_and_delete\n\nChange-Id: Ia2c99485b36f5e236079f5000a18df4313982bb0\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2019-01-09 18:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/d01baaf30c1985b9180926f87a45a8b15a0f57b7', 'message': 'Add barbican container scenarios\n\nAdded the following scenarios for barbican:\n\n- BarbicanContainers.list\n- BarbicanContainers.create_and_delete\n- BarbicanContainers.create_and_add\n- BarbicanContainers.create_certificate_and_delete\n- BarbicanContainers.create_rsa_and_delete\n\nChange-Id: Ia2c99485b36f5e236079f5000a18df4313982bb0\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 3, 'created': '2019-01-10 13:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/2991f90f31172addddbabb3b1aef16335dcc7afe', 'message': 'Add barbican container scenarios\n\nAdded the following scenarios for barbican:\n\n- BarbicanContainers.list\n- BarbicanContainers.create_and_delete\n- BarbicanContainers.create_and_add\n- BarbicanContainers.create_certificate_and_delete\n- BarbicanContainers.create_rsa_and_delete\n\nChange-Id: Ia2c99485b36f5e236079f5000a18df4313982bb0\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 4, 'created': '2019-01-10 14:29:00.000000000', 'files': ['samples/tasks/scenarios/barbican/create-and-delete-certificate.json', 'samples/tasks/scenarios/barbican/create-and-delete-container.json', 'samples/tasks/scenarios/barbican/list-containers.yaml', 'rally_openstack/scenarios/barbican/secrets.py', 'rally_openstack/services/key_manager/barbican.py', 'tests/unit/services/barbican/test_secrets.py', 'samples/tasks/scenarios/barbican/create-and-add-container.yaml', 'samples/tasks/scenarios/barbican/create-and-delete-container.yaml', 'samples/tasks/scenarios/barbican/list-containers.json', 'samples/tasks/scenarios/barbican/create-and-delete-rsa-container.json', 'rally_openstack/scenarios/barbican/utils.py', 'rally_openstack/cleanup/resources.py', 'rally_openstack/scenarios/barbican/containers.py', 'samples/tasks/scenarios/barbican/create-and-delete-certificate.yaml', 'tests/unit/scenarios/barbican/test_containers.py', 'samples/tasks/scenarios/barbican/create-and-delete-rsa-container.yaml', 'tests/unit/scenarios/barbican/test_utils.py', 'rally-jobs/barbican.yaml', 'samples/tasks/scenarios/barbican/create-and-add-container.json', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c115286916a3706ae3cb09e039b890dacdf2369c', 'message': 'Add barbican container scenarios\n\nAdded the following scenarios for barbican:\n\n- BarbicanContainers.list\n- BarbicanContainers.create_and_delete\n- BarbicanContainers.create_and_add\n- BarbicanContainers.create_certificate_and_delete\n- BarbicanContainers.create_rsa_and_delete\n\nChange-Id: Ia2c99485b36f5e236079f5000a18df4313982bb0\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}]",0,629605,c115286916a3706ae3cb09e039b890dacdf2369c,12,3,4,24,,,0,"Add barbican container scenarios

Added the following scenarios for barbican:

- BarbicanContainers.list
- BarbicanContainers.create_and_delete
- BarbicanContainers.create_and_add
- BarbicanContainers.create_certificate_and_delete
- BarbicanContainers.create_rsa_and_delete

Change-Id: Ia2c99485b36f5e236079f5000a18df4313982bb0
Signed-off-by: Charles Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/05/629605/1 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tasks/scenarios/barbican/create-and-delete-certificate.json', 'samples/tasks/scenarios/barbican/create-and-delete-container.json', 'samples/tasks/scenarios/barbican/list-containers.yaml', 'rally_openstack/scenarios/barbican/secrets.py', 'rally_openstack/services/key_manager/barbican.py', 'tests/unit/services/barbican/test_secrets.py', 'samples/tasks/scenarios/barbican/create-and-add-container.yaml', 'samples/tasks/scenarios/barbican/create-and-delete-container.yaml', 'samples/tasks/scenarios/barbican/list-containers.json', 'samples/tasks/scenarios/barbican/create-and-delete-rsa-container.json', 'rally_openstack/scenarios/barbican/utils.py', 'rally_openstack/cleanup/resources.py', 'rally_openstack/scenarios/barbican/containers.py', 'samples/tasks/scenarios/barbican/create-and-delete-certificate.yaml', 'tests/unit/scenarios/barbican/test_containers.py', 'samples/tasks/scenarios/barbican/create-and-delete-rsa-container.yaml', 'tests/unit/scenarios/barbican/test_utils.py', 'samples/tasks/scenarios/barbican/create-and-add-container.json']",18,8caaf3e68acd69959bcf0cedfc5995e31d4fbde8,barbican_containers,"{ ""BarbicanContainers.create_and_add"": [ { ""runner"": { ""type"": ""constant"", ""times"": 2, ""concurrency"": 1 }, ""context"": { ""users"": { ""tenants"": 1, ""users_per_tenant"": 1 } }, ""sla"": { ""failure_rate"": { ""max"": 0 } } } ] } ",,508,24
openstack%2Fcinder~stable%2Fqueens~Ic011fe30b4840e5098db1a594ea276ec98768bff,openstack/cinder,stable/queens,Ic011fe30b4840e5098db1a594ea276ec98768bff,cinder-volume: Stop masking IOError different than ENOSPC,MERGED,2019-01-09 12:38:14.000000000,2019-01-24 15:18:42.000000000,2019-01-24 00:14:52.000000000,"[{'_account_id': 4128}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-01-09 12:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f81ef73cf8b5e71c887a48143ca5526d5ea380f9', 'message': 'cinder-volume: Stop masking IOError different than ENOSPC\n\nWhen glanceclient raises an IOError with a different errno than ENOSPC,\ncinder-volume silently masked it and continued its volume creation\nprocess. The result was volumes with invalid content being successfuly\ncreated.\n\nWith the patch, an ImageDownloadFailed exception is raised in this case,\nwhich makes the volume creation process fail and gives enough\ninformation to operators for troubleshooting.\n\nChange-Id: Ic011fe30b4840e5098db1a594ea276ec98768bff\nCloses-Bug: #1799221\n(cherry picked from commit 864c074ff15db601c896dadc2842ae703861c0dd)\n(cherry picked from commit bf89f76fb1b7a52299c17467106018eae01608e8)\n'}, {'number': 2, 'created': '2019-01-23 04:09:05.000000000', 'files': ['releasenotes/notes/bug-1799221-fix-truncated-volumes-in-case-of-glance-errors-6cae19218249c3cf.yaml', 'cinder/image/image_utils.py', 'cinder/tests/unit/image/test_glance.py', 'cinder/exception.py', 'cinder/tests/unit/test_image_utils.py', 'cinder/image/glance.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/937af5be0e7c17b34860e25cc434a219d7143387', 'message': ""cinder-volume: Stop masking IOError different than ENOSPC\n\nWhen glanceclient raises an IOError with a different errno than ENOSPC,\ncinder-volume silently masked it and continued its volume creation\nprocess. The result was volumes with invalid content being successfuly\ncreated.\n\nWith the patch, an ImageDownloadFailed exception is raised in this case,\nwhich makes the volume creation process fail and gives enough\ninformation to operators for troubleshooting.\n\nAs explained in detail below, this patch is a squash of four cherry\npicks to fix Bug #1799221.  The cherry-picks are being squashed\ninstead of done separately per normal cinder practice because they\nare dependent; this will make sure that one of them isn't further\nbackported without the supporting patches.\n\nHere's the relationship between the four cherry-picks:\n(1) The purpose of this backport is to fix Bug #1799221, which was\n    introduced in Pike.  It is fixed in Stein and Rocky by\n    Ic011fe30b4840e5098db1a594ea276ec98768bff\n(2) That change requires an exception introduced in Stein and backported\n    to Rocky by If7c22ac4516f8c2a6ccd8bf6b6ed98409312b138 to fix Bug\n    #1798147 (which defect is also present in Queens and Pike)\n(3) The change in (2) introduced Bug #1808443 which was fixed in Stein\n    and Rocky by I6d8dedfd056add3414f8f4bf7f7279eae4763286\n(4) The change in (2) also introduced Bug #1811184, which is fixed by\n    I6d8dedfd056add3414f8f4bf7f7279eae4763286 in Stein and Rocky, and\n    which adds a unit test for Bug #1798147.\nIn short, in order to backport the fix for (1), we need to backport (2),\nbut in order to backport (2) we need to follow up immediately with\nbackports of (3) and (4) to fix the defects (2) introduces.\n\nThe attentive reader will note that this patch smuggles in the fix for\nBug #1798147.  We could have left this out, but it's a very small\nisolated change, the defect is present in Queens and Pike (remember that\nBug #1799221, the subject of this patch, was introduced in Pike), and it\nhas a unit test (see (4), above).  Finally, leaving out the fix for\nBug #1798147 and backporting only the exception would still require\nbackporting the fixes for Bug #1808443 and Bug #1811184, so it really\nwould not simplify this patch.\n\nTo summarize what's being included here:\ncommit   changeId                                    fixed bug\n805368e  If7c22ac4516f8c2a6ccd8bf6b6ed98409312b138   Bug #1798147\n9c696ce  I2aa56da73660794c6dedcbb8a66e84bcec511a9c   Bug #1808443\n844b627  I6d8dedfd056add3414f8f4bf7f7279eae4763286   Bug #1811184\nbf89f76  Ic011fe30b4840e5098db1a594ea276ec98768bff   Bug #1799221\n\nChange-Id: Ic011fe30b4840e5098db1a594ea276ec98768bff\nCloses-Bug: #1799221\n(cherry picked from commit 864c074ff15db601c896dadc2842ae703861c0dd)\n(cherry picked from commit bf89f76fb1b7a52299c17467106018eae01608e8)\nRelated-Bug: #1798147\n(cherry picked from commit d3afc39467c6532344118e8e491409878da9c2dd)\n(cherry picked from commit 805368e902ada4c63e2e6e4d6692cf8cc2531a1e)\nRelated-Bug: #1808443\n(cherry picked from commit 80fdc0a71b55659d92efdda826807d60d8bd4ab9)\n(cherry picked from commit 9c696ce29f63275ec229a943a9b9bcf63f688f0c)\nRelated-bug: #1811184\n(cherry picked from commit 16b4346171d2027bb3c2630d5f28f6f002878870)\n(cherry picked from commit 844b627c38bb810abd3ef0b464577191f193ad7d)\n""}]",0,629463,937af5be0e7c17b34860e25cc434a219d7143387,44,24,2,5314,,,0,"cinder-volume: Stop masking IOError different than ENOSPC

When glanceclient raises an IOError with a different errno than ENOSPC,
cinder-volume silently masked it and continued its volume creation
process. The result was volumes with invalid content being successfuly
created.

With the patch, an ImageDownloadFailed exception is raised in this case,
which makes the volume creation process fail and gives enough
information to operators for troubleshooting.

As explained in detail below, this patch is a squash of four cherry
picks to fix Bug #1799221.  The cherry-picks are being squashed
instead of done separately per normal cinder practice because they
are dependent; this will make sure that one of them isn't further
backported without the supporting patches.

Here's the relationship between the four cherry-picks:
(1) The purpose of this backport is to fix Bug #1799221, which was
    introduced in Pike.  It is fixed in Stein and Rocky by
    Ic011fe30b4840e5098db1a594ea276ec98768bff
(2) That change requires an exception introduced in Stein and backported
    to Rocky by If7c22ac4516f8c2a6ccd8bf6b6ed98409312b138 to fix Bug
    #1798147 (which defect is also present in Queens and Pike)
(3) The change in (2) introduced Bug #1808443 which was fixed in Stein
    and Rocky by I6d8dedfd056add3414f8f4bf7f7279eae4763286
(4) The change in (2) also introduced Bug #1811184, which is fixed by
    I6d8dedfd056add3414f8f4bf7f7279eae4763286 in Stein and Rocky, and
    which adds a unit test for Bug #1798147.
In short, in order to backport the fix for (1), we need to backport (2),
but in order to backport (2) we need to follow up immediately with
backports of (3) and (4) to fix the defects (2) introduces.

The attentive reader will note that this patch smuggles in the fix for
Bug #1798147.  We could have left this out, but it's a very small
isolated change, the defect is present in Queens and Pike (remember that
Bug #1799221, the subject of this patch, was introduced in Pike), and it
has a unit test (see (4), above).  Finally, leaving out the fix for
Bug #1798147 and backporting only the exception would still require
backporting the fixes for Bug #1808443 and Bug #1811184, so it really
would not simplify this patch.

To summarize what's being included here:
commit   changeId                                    fixed bug
805368e  If7c22ac4516f8c2a6ccd8bf6b6ed98409312b138   Bug #1798147
9c696ce  I2aa56da73660794c6dedcbb8a66e84bcec511a9c   Bug #1808443
844b627  I6d8dedfd056add3414f8f4bf7f7279eae4763286   Bug #1811184
bf89f76  Ic011fe30b4840e5098db1a594ea276ec98768bff   Bug #1799221

Change-Id: Ic011fe30b4840e5098db1a594ea276ec98768bff
Closes-Bug: #1799221
(cherry picked from commit 864c074ff15db601c896dadc2842ae703861c0dd)
(cherry picked from commit bf89f76fb1b7a52299c17467106018eae01608e8)
Related-Bug: #1798147
(cherry picked from commit d3afc39467c6532344118e8e491409878da9c2dd)
(cherry picked from commit 805368e902ada4c63e2e6e4d6692cf8cc2531a1e)
Related-Bug: #1808443
(cherry picked from commit 80fdc0a71b55659d92efdda826807d60d8bd4ab9)
(cherry picked from commit 9c696ce29f63275ec229a943a9b9bcf63f688f0c)
Related-bug: #1811184
(cherry picked from commit 16b4346171d2027bb3c2630d5f28f6f002878870)
(cherry picked from commit 844b627c38bb810abd3ef0b464577191f193ad7d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/629463/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1799221-fix-truncated-volumes-in-case-of-glance-errors-6cae19218249c3cf.yaml', 'cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py']",3,f81ef73cf8b5e71c887a48143ca5526d5ea380f9,bug/1799221-stable/rocky-stable/queens," def test_fetch_ioerror(self): context = mock.sentinel.context image_service = mock.Mock() image_id = mock.sentinel.image_id e = IOError() e.errno = errno.ECONNRESET e.strerror = 'Some descriptive message' image_service.download.side_effect = e path = '/test_path' _user_id = mock.sentinel._user_id _project_id = mock.sentinel._project_id with mock.patch('cinder.image.image_utils.open', new=mock.mock_open(), create=True): self.assertRaisesRegex(exception.ImageDownloadFailed, e.strerror, image_utils.fetch, context, image_service, image_id, path, _user_id, _project_id) ",,32,0
openstack%2Fkolla-ansible~master~I4a34c4bb56e74b5cd544972cbd6540d9acb6e4a1,openstack/kolla-ansible,master,I4a34c4bb56e74b5cd544972cbd6540d9acb6e4a1,[prometheus] Support the prometheus openstack exporter,MERGED,2019-01-17 19:34:02.000000000,2019-01-24 15:12:42.000000000,2019-01-24 15:12:41.000000000,"[{'_account_id': 2276}, {'_account_id': 17669}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-01-17 19:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1334f9751b5c3a1b89de675eb43ce1e6e28c0bc8', 'message': '[prometheus] Support the prometheus openstack exporter\n\nThis patch implements the initial support for the\nopenstack-exporter[0] in the kolla-ansible\nprometheus monitoring system.\n\nThe configuration and prechecks are reused from the other\nexporters and a new template is provided for generating\na os-client-config file required by the exporter.\n\nThe default scrape interval is 60 seconds, but it can\nbe extended via a configuration option.\n\n[0] https://github.com/Linaro/openstack-exporter\n\nChange-Id: I4a34c4bb56e74b5cd544972cbd6540d9acb6e4a1\n'}, {'number': 2, 'created': '2019-01-18 12:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0eab8f09f886072acff8d049d226c4fae23cfb50', 'message': '[prometheus] Support the prometheus openstack exporter\n\nThis patch implements the initial support for the\nopenstack-exporter[0] in the kolla-ansible\nprometheus monitoring system.\n\nThe configuration and prechecks are reused from the other\nexporters and a new template is provided for generating\na os-client-config file required by the exporter.\n\nThe default scrape interval is 60 seconds, but it can\nbe extended via a configuration option.\n\n[0] https://github.com/Linaro/openstack-exporter\n\nChange-Id: I4a34c4bb56e74b5cd544972cbd6540d9acb6e4a1\n'}, {'number': 3, 'created': '2019-01-21 13:42:01.000000000', 'files': ['ansible/inventory/multinode', 'ansible/site.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2', 'ansible/inventory/all-in-one', 'ansible/roles/prometheus/tasks/config.yml', 'ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2', 'ansible/roles/prometheus/templates/clouds.yml.j2', 'releasenotes/notes/add-prometheus-openstack-exporter-8fd7b0e6c8e71649.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/prometheus/tasks/precheck.yml', 'tests/templates/inventory.j2', 'etc/kolla/globals.yml', 'ansible/roles/prometheus/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c64b7c732efed50d48bf05aa6b04da9f07d7713', 'message': '[prometheus] Support the prometheus openstack exporter\n\nThis patch implements the initial support for the\nopenstack-exporter[0] in the kolla-ansible\nprometheus monitoring system.\n\nThe configuration and prechecks are reused from the other\nexporters and a new template is provided for generating\na os-client-config file required by the exporter.\n\nThe default scrape interval is 60 seconds, but it can\nbe extended via a configuration option.\n\n[0] https://github.com/Linaro/openstack-exporter\n\nChange-Id: I4a34c4bb56e74b5cd544972cbd6540d9acb6e4a1\n'}]",5,631605,6c64b7c732efed50d48bf05aa6b04da9f07d7713,14,5,3,2276,,,0,"[prometheus] Support the prometheus openstack exporter

This patch implements the initial support for the
openstack-exporter[0] in the kolla-ansible
prometheus monitoring system.

The configuration and prechecks are reused from the other
exporters and a new template is provided for generating
a os-client-config file required by the exporter.

The default scrape interval is 60 seconds, but it can
be extended via a configuration option.

[0] https://github.com/Linaro/openstack-exporter

Change-Id: I4a34c4bb56e74b5cd544972cbd6540d9acb6e4a1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/631605/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/site.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2', 'ansible/inventory/all-in-one', 'ansible/roles/prometheus/tasks/config.yml', 'ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2', 'ansible/roles/prometheus/templates/clouds.yml.j2', 'releasenotes/notes/add-prometheus-openstack-exporter-8fd7b0e6c8e71649.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/prometheus/tasks/precheck.yml', 'etc/kolla/globals.yml', 'ansible/roles/prometheus/handlers/main.yml']",13,1334f9751b5c3a1b89de675eb43ce1e6e28c0bc8,add-openstack-exporter," - name: Restart prometheus-openstack-exporter container vars: service_name: ""prometheus-openstack-exporter"" service: ""{{ prometheus_services[service_name] }}"" config_json: ""{{ prometheus_config_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" prometheus_container: ""{{ check_prometheus_containers.results|selectattr('item.key', 'equalto', service_name)|first }}"" kolla_docker: action: ""recreate_or_restart_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ service.container_name }}"" image: ""{{ service.image }}"" volumes: ""{{ service.volumes }}"" dimensions: ""{{ service.dimensions }}"" when: - kolla_action != ""config"" - inventory_hostname in groups[service.group] - service.enabled | bool - config_json.changed | bool or prometheus_openstack_exporter_confs.changed | bool or prometheus_container.changed | bool",,133,0
openstack%2Fkuryr-kubernetes~master~I521392075b1b7012af19b4649ee2180c08643243,openstack/kuryr-kubernetes,master,I521392075b1b7012af19b4649ee2180c08643243,"Revert ""Ensure reaction to svc target-port update""",MERGED,2019-01-18 11:35:04.000000000,2019-01-24 15:11:57.000000000,2019-01-24 15:11:57.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 28239}]","[{'number': 1, 'created': '2019-01-18 11:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/52b00d444e1ebf4d1ff3db611a4875ec02e7de5d', 'message': 'Revert ""Ensure reaction to svc target-port update""\n\nThis reverts commit 374c5eeaf9bb1fe2ec572b0748c9d649b9514540.\n\nThis patch was not fixing the problem regarding deleting rules associated to target-port removed and it is removing rules that should not be deleted\n\nChange-Id: I521392075b1b7012af19b4649ee2180c08643243\n'}, {'number': 2, 'created': '2019-01-23 16:11:32.000000000', 'files': ['kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/838dcf5360645c31c6dfd1389d037dcc844072a8', 'message': 'Revert ""Ensure reaction to svc target-port update""\n\nThis reverts commit 374c5eeaf9bb1fe2ec572b0748c9d649b9514540.\n\nThis patch was not fixing the problem regarding deleting rules associated to target-port removed and it is removing rules that should not be deleted\n\nChange-Id: I521392075b1b7012af19b4649ee2180c08643243\n'}]",3,631781,838dcf5360645c31c6dfd1389d037dcc844072a8,31,7,2,23567,,,0,"Revert ""Ensure reaction to svc target-port update""

This reverts commit 374c5eeaf9bb1fe2ec572b0748c9d649b9514540.

This patch was not fixing the problem regarding deleting rules associated to target-port removed and it is removing rules that should not be deleted

Change-Id: I521392075b1b7012af19b4649ee2180c08643243
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/81/631781/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/lbaasv2.py'],1,52b00d444e1ebf4d1ff3db611a4875ec02e7de5d,bp/k8s-network-policies,," def _get_matched_sg_rule(self, rule, lbaas_sg_rules): for lbaas_sg_rule in lbaas_sg_rules: if lbaas_sg_rule['remote_ip_prefix'] == rule['remote_ip_prefix']: return lbaas_sg_rule return None def _delete_sg_rule(self, rule, lbaas_sg_rules): neutron = clients.get_neutron_client() sg_rule = self._get_matched_sg_rule(rule, lbaas_sg_rules) if sg_rule: LOG.debug(""Deleting sg rule: %r"", sg_rule['id']) neutron.delete_security_group_rule(sg_rule['id']) lbaas_sg_rules = neutron.list_security_group_rules( security_group_id=sg_id) self._delete_sg_rule( rule, lbaas_sg_rules['security_group_rules'])",0,18
openstack%2Ftripleo-quickstart~master~I4a78ef1071c35491c352203aac35eb22ef1dc637,openstack/tripleo-quickstart,master,I4a78ef1071c35491c352203aac35eb22ef1dc637,Avoid silent parsing failure of provisioned.csv,MERGED,2018-08-23 14:10:06.000000000,2019-01-24 15:11:33.000000000,2019-01-24 15:11:33.000000000,"[{'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 26343}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-08-23 14:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/395eed88f24e73807bd92337f607c76cdb796a3b', 'message': 'Avoid parsing failure of provisioned.csv\n\n- remove header from cico output\n- return failure exit code when no nodes are provisioned\n- avoid error where column header ip_address ended up being loaded in VIRTHOST\n\nChange-Id: I4a78ef1071c35491c352203aac35eb22ef1dc637\n'}, {'number': 2, 'created': '2018-08-23 14:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/77d307780d7e09377fe09f791ba1ddf36460e45c', 'message': 'Avoid parsing failure of provisioned.csv\n\n- remove header from cico output\n- return failure exit code when no nodes are provisioned\n- avoid error where column header ip_address ended up being loaded in VIRTHOST\n\nChange-Id: I4a78ef1071c35491c352203aac35eb22ef1dc637\n'}, {'number': 3, 'created': '2018-08-24 06:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b0a23fedb8bfcfb76008ac3dfaf4946017b9a7aa', 'message': 'Avoid parsing failure of provisioned.csv\n\n- remove header from cico output\n- return failure exit code when no nodes are provisioned\n- avoid error where column header ip_address ended up being loaded in VIRTHOST\n\nChange-Id: I4a78ef1071c35491c352203aac35eb22ef1dc637\n'}, {'number': 4, 'created': '2018-08-28 07:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a7b903776a3897061270aad6b44aae2a8112865e', 'message': 'Avoid parsing failure of provisioned.csv\n\n- remove header from cico output\n- return failure exit code when no nodes are provisioned\n- avoid error where column header ip_address ended up being loaded in VIRTHOST\n\nChange-Id: I4a78ef1071c35491c352203aac35eb22ef1dc637\n'}, {'number': 5, 'created': '2018-09-04 14:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4e419a03d4495bff6be95ccf73346b761f69989c', 'message': 'Avoid silent parsing failure of provisioned.csv\n\nRemoves header from cico output to avoid `tail -1` to get column\nheader (ip_address) as hostname when the list would be empty \n(one line file).\n\nIt returns failure exit code when no nodes are provisioned.\n\n\nIt avoids case where column header ""ip_address"" ended up being \nloaded in VIRTHOST variable.\n\nChange-Id: I4a78ef1071c35491c352203aac35eb22ef1dc637\n'}, {'number': 6, 'created': '2018-09-04 17:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d1dbc06c4eae6ea34ce3b0846b9569f94e05babb', 'message': 'Avoid silent parsing failure of provisioned.csv\n\nRemoves header from cico output to avoid `tail -1` to get column\nheader (ip_address) as hostname when the list would be empty \n(one line file).\n\nIt returns failure exit code when no nodes are provisioned.\n\n\nIt avoids case where column header ""ip_address"" ended up being \nloaded in VIRTHOST variable.\n\nCloses-Bug: #1790685\nChange-Id: I4a78ef1071c35491c352203aac35eb22ef1dc637\n'}, {'number': 7, 'created': '2018-09-05 10:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/aae265dd64178a3150040b77bd00f08bf561e2e1', 'message': 'Avoid silent parsing failure of provisioned.csv\n\nRemoves header from cico output to avoid `tail -1` to get column\nheader (ip_address) as hostname when the list would be empty \n(one line file).\n\nIt returns failure exit code when no nodes are provisioned.\n\n\nIt avoids case where column header ""ip_address"" ended up being \nloaded in VIRTHOST variable.\n\nCloses-Bug: #1790685\nChange-Id: I4a78ef1071c35491c352203aac35eb22ef1dc637\n'}, {'number': 8, 'created': '2018-09-06 11:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/83fcca2a3e68c432673c164e7ba5d8e34bb087f7', 'message': 'Avoid silent parsing failure of provisioned.csv\n\nRemoves header from cico output to avoid `tail -1` to get column\nheader (ip_address) as hostname when the list would be empty \n(one line file).\n\nIt returns failure exit code when no nodes are provisioned.\n\n\nIt avoids case where column header ""ip_address"" ended up being \nloaded in VIRTHOST variable.\n\nCloses-Bug: #1790685\nChange-Id: I4a78ef1071c35491c352203aac35eb22ef1dc637\n'}, {'number': 9, 'created': '2018-09-17 14:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e5a6e9f49af6d03702749a05ed3f3776bffd5fe0', 'message': 'Avoid silent parsing failure of provisioned.csv\n\nRemoves header from cico output to avoid `tail -1` to get column\nheader (ip_address) as hostname when the list would be empty \n(one line file).\n\nIt returns failure exit code when no nodes are provisioned.\n\n\nIt avoids case where column header ""ip_address"" ended up being \nloaded in VIRTHOST variable.\n\nCloses-Bug: #1790685\nChange-Id: I4a78ef1071c35491c352203aac35eb22ef1dc637\n'}, {'number': 10, 'created': '2019-01-18 13:12:18.000000000', 'files': ['ci-scripts/get-node.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a35d6ceb1f66c4eb2ea7428a71d628dbe5259cbe', 'message': 'Avoid silent parsing failure of provisioned.csv\n\nRemoves header from cico output to avoid `tail -1` to get column\nheader (ip_address) as hostname when the list would be empty \n(one line file).\n\nIt returns failure exit code when no nodes are provisioned.\n\n\nIt avoids case where column header ""ip_address"" ended up being \nloaded in VIRTHOST variable.\n\nCloses-Bug: #1790685\nChange-Id: I4a78ef1071c35491c352203aac35eb22ef1dc637\n'}]",6,595795,a35d6ceb1f66c4eb2ea7428a71d628dbe5259cbe,53,13,10,24162,,,0,"Avoid silent parsing failure of provisioned.csv

Removes header from cico output to avoid `tail -1` to get column
header (ip_address) as hostname when the list would be empty 
(one line file).

It returns failure exit code when no nodes are provisioned.


It avoids case where column header ""ip_address"" ended up being 
loaded in VIRTHOST variable.

Closes-Bug: #1790685
Change-Id: I4a78ef1071c35491c352203aac35eb22ef1dc637
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/95/595795/8 && git format-patch -1 --stdout FETCH_HEAD,['ci-scripts/get-node.sh'],1,395eed88f24e73807bd92337f607c76cdb796a3b,fix/get-node," -f csv | sed ""1,1d"" > $WORKSPACE/provisioned.csv if [ -s $WORKSPACE/provisioned.csv ]; then cat $WORKSPACE/provisioned.csv else echo ""FATAL: no nodes were provisioned"" exit 1 fi", -f csv > $WORKSPACE/provisioned.csvcat $WORKSPACE/provisioned.csv,7,3
openstack%2Ftripleo-quickstart-extras~master~I66f883bbd817ce809261b7408c945e527ab72549,openstack/tripleo-quickstart-extras,master,I66f883bbd817ce809261b7408c945e527ab72549,Correct reproducer dependency detection and adds missing git,MERGED,2018-12-17 15:45:27.000000000,2019-01-24 14:48:27.000000000,2019-01-24 14:48:27.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-12-17 15:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3e94edece2ad9656fdbae267eb4194e2fc1dd1a2', 'message': 'Correct reproducer dependency detection\n\nUse of exit instead of return in the check dependecy function prevented\nus to list all missing dependencies before exiting.\n\nAvoid case where user needs to run the script 6 or more times in order\nto install missing dependencies.\n\nChange-Id: I66f883bbd817ce809261b7408c945e527ab72549\nPartial-Bug: 1787912\n'}, {'number': 2, 'created': '2018-12-17 15:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/72f5cf1860da53e3cac528f95ee384dd4f8f3727', 'message': 'Correct reproducer dependency detection\n\nUse of exit instead of return in the check dependecy function prevented\nus to list all missing dependencies before exiting.\n\nAvoid case where user needs to run the script 6 or more times in order\nto install missing dependencies.\n\nChange-Id: I66f883bbd817ce809261b7408c945e527ab72549\nPartial-Bug: 1787912\n'}, {'number': 3, 'created': '2019-01-02 16:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/30fef65a64249f395968617dbe5a2be3a73899a6', 'message': 'Correct reproducer dependency detection\n\nUse of exit instead of return in the check dependecy function prevented\nus to list all missing dependencies before exiting.\n\nAvoid case where user needs to run the script 6 or more times in order\nto install missing dependencies.\n\nChange-Id: I66f883bbd817ce809261b7408c945e527ab72549\nPartial-Bug: 1787912\n'}, {'number': 4, 'created': '2019-01-03 09:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/30ac9d75d1c847e3a928df9273f5598b30b6feaa', 'message': 'Correct reproducer dependency detection and adds missing git\n\nUse of exit instead of return in the check dependecy function prevented\nus to list all missing dependencies before exiting.\n\nAvoid case where user needs to run the script 6 or more times in order\nto install missing dependencies.\n\nAdds git which was a missing dependency.\n\nChange-Id: I66f883bbd817ce809261b7408c945e527ab72549\nPartial-Bug: 1787912\n'}, {'number': 5, 'created': '2019-01-03 09:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/25e75e87d2a6ce5402d6dcbd99e4d02058007546', 'message': 'Correct reproducer dependency detection and adds missing git\n\nUse of exit instead of return in the check dependecy function prevented\nus to list all missing dependencies before exiting.\n\nAvoid case where user needs to run the script 6 or more times in order\nto install missing dependencies.\n\nAdds git which was a missing dependency.\n\nChange-Id: I66f883bbd817ce809261b7408c945e527ab72549\nPartial-Bug: 1787912\n'}, {'number': 6, 'created': '2019-01-03 12:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/89daef60497252a11e6a528e2fa5a9d213e85834', 'message': 'Correct reproducer dependency detection and adds missing git\n\nUse of exit instead of return in the check dependecy function prevented\nus to list all missing dependencies before exiting.\n\nAvoid case where user needs to run the script 6 or more times in order\nto install missing dependencies.\n\nAdds git which was a missing dependency.\n\nChange-Id: I66f883bbd817ce809261b7408c945e527ab72549\nPartial-Bug: 1787912\n'}, {'number': 7, 'created': '2019-01-18 09:01:48.000000000', 'files': ['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/74e8e614f6c3e51bdf0351db99083db7eda61b49', 'message': 'Correct reproducer dependency detection and adds missing git\n\nUse of exit instead of return in the check dependecy function prevented\nus to list all missing dependencies before exiting.\n\nAvoid case where user needs to run the script 6 or more times in order\nto install missing dependencies.\n\nAdds git which was a missing dependency.\n\nChange-Id: I66f883bbd817ce809261b7408c945e527ab72549\nPartial-Bug: 1787912\n'}]",12,625632,74e8e614f6c3e51bdf0351db99083db7eda61b49,43,15,7,24162,,,0,"Correct reproducer dependency detection and adds missing git

Use of exit instead of return in the check dependecy function prevented
us to list all missing dependencies before exiting.

Avoid case where user needs to run the script 6 or more times in order
to install missing dependencies.

Adds git which was a missing dependency.

Change-Id: I66f883bbd817ce809261b7408c945e527ab72549
Partial-Bug: 1787912
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/32/625632/7 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2'],1,3e94edece2ad9656fdbae267eb4194e2fc1dd1a2,oooq/repro," return 1BOOTSTRAP_DEPENDENCIES=(""git"", ""virtualenv"" ""ansible"" ""pip"" ""openstack"" ""heat"")"," exit 1BOOTSTRAP_DEPENDENCIES=(""virtualenv"" ""ansible"" ""pip"" ""openstack"" ""heat"")",2,2
openstack%2Fglance~master~I14bb19f724a225f1c53ea60396b18fc85b47d340,openstack/glance,master,I14bb19f724a225f1c53ea60396b18fc85b47d340,Bump master (stein development) to 18,ABANDONED,2019-01-22 20:08:51.000000000,2019-01-24 14:41:43.000000000,,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 20:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2b4c0ed61ef1907abddf97ffbff20f79fbb69509', 'message': 'Bump master (stein development) to 18\n\nThis is an empty commit to trigger a major version bump.  An earlier\nchange, I93dea617ce3f4388aa4269aa5eb0541a41029807, bumped only the\nminor version number.  This changes only the release number of Glance\nitself; the API versioning is completely independent.\n\nChange-Id: I14bb19f724a225f1c53ea60396b18fc85b47d340\nSem-Ver: api-break\n'}]",0,632544,2b4c0ed61ef1907abddf97ffbff20f79fbb69509,6,3,1,5314,,,0,"Bump master (stein development) to 18

This is an empty commit to trigger a major version bump.  An earlier
change, I93dea617ce3f4388aa4269aa5eb0541a41029807, bumped only the
minor version number.  This changes only the release number of Glance
itself; the API versioning is completely independent.

Change-Id: I14bb19f724a225f1c53ea60396b18fc85b47d340
Sem-Ver: api-break
",git fetch https://review.opendev.org/openstack/glance refs/changes/44/632544/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,2b4c0ed61ef1907abddf97ffbff20f79fbb69509,increment-glance-version,,,0,0
openstack%2Fos-net-config~master~I84c937381b48216dd3ff00722cb7d443975592d8,openstack/os-net-config,master,I84c937381b48216dd3ff00722cb7d443975592d8,Change openstack-dev to openstack-discuss in setup.cfg,ABANDONED,2019-01-22 12:11:42.000000000,2019-01-24 14:40:29.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-01-22 12:11:42.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/787dcf89d1d9f701c466f67819e36dc78475a67b', 'message': 'Change openstack-dev to openstack-discuss in setup.cfg\n\nChange-Id: I84c937381b48216dd3ff00722cb7d443975592d8\n'}]",0,632448,787dcf89d1d9f701c466f67819e36dc78475a67b,5,3,1,29423,,,0,"Change openstack-dev to openstack-discuss in setup.cfg

Change-Id: I84c937381b48216dd3ff00722cb7d443975592d8
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/48/632448/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,787dcf89d1d9f701c466f67819e36dc78475a67b,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Frally-openstack~master~Ib4cc44a88c31318071a780198cb6bdf53debee22,openstack/rally-openstack,master,Ib4cc44a88c31318071a780198cb6bdf53debee22,Removed deprecated optional_action_timer,MERGED,2019-01-22 19:29:28.000000000,2019-01-24 14:30:10.000000000,2019-01-24 14:30:10.000000000,"[{'_account_id': 9545}, {'_account_id': 21528}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 19:29:28.000000000', 'files': ['rally_openstack/scenarios/neutron/utils.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6fe713fd40ef5b9aa90b14a62b40559f6a881a21', 'message': 'Removed deprecated optional_action_timer\n\nChange-Id: Ib4cc44a88c31318071a780198cb6bdf53debee22\n'}]",0,632535,6fe713fd40ef5b9aa90b14a62b40559f6a881a21,7,3,1,16845,,,0,"Removed deprecated optional_action_timer

Change-Id: Ib4cc44a88c31318071a780198cb6bdf53debee22
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/35/632535/1 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/scenarios/neutron/utils.py'],1,6fe713fd40ef5b9aa90b14a62b40559f6a881a21,fix_deprecated_timer," @atomic.action_timer(""neutron.list_trunks"") @atomic.action_timer(""neutron.list_ports_by_device_id"") @atomic.action_timer(""neutron.list_subports_by_trunk"")"," @atomic.optional_action_timer(""neutron.list_trunks"") @atomic.optional_action_timer(""neutron.list_ports_by_device_id"") @atomic.optional_action_timer(""neutron.list_subports_by_trunk"")",3,3
openstack%2Fcharm-ceph-radosgw~master~I5e222d907bfa34ffacad16c51abd1278d7d82f56,openstack/charm-ceph-radosgw,master,I5e222d907bfa34ffacad16c51abd1278d7d82f56,Switch charm runtime to python3,MERGED,2019-01-18 09:46:24.000000000,2019-01-24 14:19:48.000000000,2019-01-24 14:19:48.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-18 09:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/51b798785e258284ed09c17f6ae54b49f4860101', 'message': 'Switch charm runtime to python3\n\nUpdate charm to execute hooks and actions under Python 3; this\nincludes dealing with upgrades (by switching the upgrade-charm\nhook to be a bash script which installs the required charm runtime\ndependencies).\n\nThis commit also drops code from ceph.py which was used across\nother ceph charms in the past; only the functions required for this\ncharm have been retained.\n\nChange-Id: I5e222d907bfa34ffacad16c51abd1278d7d82f56\n'}, {'number': 2, 'created': '2019-01-18 10:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/3fe3b03e0068973beabb4bbf4b38edcb65119d2f', 'message': 'Switch charm runtime to python3\n\nUpdate charm to execute hooks and actions under Python 3; this\nincludes dealing with upgrades (by switching the upgrade-charm\nhook to be a bash script which installs the required charm runtime\ndependencies).\n\nThis commit also drops code from ceph.py which was used across\nother ceph charms in the past; only the functions required for this\ncharm have been retained.\n\nChange-Id: I5e222d907bfa34ffacad16c51abd1278d7d82f56\n'}, {'number': 3, 'created': '2019-01-18 11:32:57.000000000', 'files': ['hooks/hooks.py', 'hooks/utils.py', '.zuul.yaml', 'unit_tests/__init__.py', 'unit_tests/test_ceph.py', 'hooks/ceph.py', 'unit_tests/test_ceph_radosgw_context.py', 'actions/actions.py', 'unit_tests/test_utils.py', 'unit_tests/test_hooks.py', 'tests/basic_deployment.py', 'hooks/install', 'hooks/upgrade-charm', 'tox.ini', 'hooks/install_deps'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/53794aad7a6fae4dfce024da028bc6a4cabfc1c0', 'message': 'Switch charm runtime to python3\n\nUpdate charm to execute hooks and actions under Python 3; this\nincludes dealing with upgrades (by switching the upgrade-charm\nhook to be a bash script which installs the required charm runtime\ndependencies).\n\nThis commit also drops code from ceph.py which was used across\nother ceph charms in the past; only the functions required for this\ncharm have been retained.\n\nChange-Id: I5e222d907bfa34ffacad16c51abd1278d7d82f56\n'}]",0,631747,53794aad7a6fae4dfce024da028bc6a4cabfc1c0,17,4,3,935,,,0,"Switch charm runtime to python3

Update charm to execute hooks and actions under Python 3; this
includes dealing with upgrades (by switching the upgrade-charm
hook to be a bash script which installs the required charm runtime
dependencies).

This commit also drops code from ceph.py which was used across
other ceph charms in the past; only the functions required for this
charm have been retained.

Change-Id: I5e222d907bfa34ffacad16c51abd1278d7d82f56
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/47/631747/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'unit_tests/__init__.py', 'unit_tests/test_ceph.py', 'hooks/ceph.py', 'unit_tests/test_ceph_radosgw_context.py', 'actions/actions.py', 'unit_tests/test_utils.py', 'unit_tests/test_hooks.py', 'hooks/install', 'hooks/upgrade-charm', 'tox.ini', 'hooks/install_deps']",12,51b798785e258284ed09c17f6ae54b49f4860101,py3,"#!/bin/bash # Install required dependencies for charm runtime declare -a DEPS=('apt' 'netaddr' 'netifaces' 'yaml' 'jinja2' 'dnspython') check_and_install() { pkg=""${1}-${2}"" if ! dpkg -s ${pkg} 2>&1 > /dev/null; then apt-get -y install ${pkg} fi } PYTHON=""python3"" for dep in ${DEPS[@]}; do check_and_install ${PYTHON} ${dep} done ",,36,394
openstack%2Fkolla~master~Ie5144ee3b8bdb2535a32cfb43c43dfc1bb556ac8,openstack/kolla,master,Ie5144ee3b8bdb2535a32cfb43c43dfc1bb556ac8,Guard adding contentdir RUN in base template,MERGED,2019-01-24 03:14:15.000000000,2019-01-24 14:13:29.000000000,2019-01-24 14:13:29.000000000,"[{'_account_id': 13039}, {'_account_id': 16282}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-01-24 03:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/add6c7497a47e8dd1b035b8955273a02ba4dc5bd', 'message': 'Guard adding contentdir RUN in base template\n\nChange-Id: Ie5144ee3b8bdb2535a32cfb43c43dfc1bb556ac8\n'}, {'number': 2, 'created': '2019-01-24 03:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0ba889ee0ca4d32e4fd452a3d945177279bfc851', 'message': 'Guard adding contentdir RUN in base template\n\nAs a follow up to I402cff1ac86a2ba108f2f5378cc98db5f6ecc673\n\nonly add the echo command if there is a value in centos_contentdir\n\nChange-Id: Ie5144ee3b8bdb2535a32cfb43c43dfc1bb556ac8\n'}, {'number': 3, 'created': '2019-01-24 03:28:20.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/819924a8e5f1609f0224a6ab56c3bad0b57dab44', 'message': 'Guard adding contentdir RUN in base template\n\nAs a follow up to I402cff1ac86a2ba108f2f5378cc98db5f6ecc673\n\nonly add the echo command if there is a value in centos_contentdir\n\nChange-Id: Ie5144ee3b8bdb2535a32cfb43c43dfc1bb556ac8\n'}]",0,632895,819924a8e5f1609f0224a6ab56c3bad0b57dab44,13,6,3,16282,,,0,"Guard adding contentdir RUN in base template

As a follow up to I402cff1ac86a2ba108f2f5378cc98db5f6ecc673

only add the echo command if there is a value in centos_contentdir

Change-Id: Ie5144ee3b8bdb2535a32cfb43c43dfc1bb556ac8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/95/632895/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,add6c7497a47e8dd1b035b8955273a02ba4dc5bd,,{% if centos_contentdir != '' %>{% endif %},,2,0
openstack%2Fcloudkitty-dashboard~master~If4149b8c48007c8885380ce642485cadc37ad4bc,openstack/cloudkitty-dashboard,master,If4149b8c48007c8885380ce642485cadc37ad4bc,Imported Translations from Zanata,MERGED,2019-01-13 06:54:01.000000000,2019-01-24 14:13:08.000000000,2019-01-24 14:13:07.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2019-01-13 06:54:01.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/228c146df99b25a4d485f1c76cd7b22b6d875bc7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If4149b8c48007c8885380ce642485cadc37ad4bc\n'}]",0,630483,228c146df99b25a4d485f1c76cd7b22b6d875bc7,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If4149b8c48007c8885380ce642485cadc37ad4bc
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/83/630483/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po']",3,228c146df99b25a4d485f1c76cd7b22b6d875bc7,zanata/translations,"""POT-Creation-Date: 2019-01-07 10:33+0000\n""","""POT-Creation-Date: 2018-12-17 08:30+0000\n""msgid ""8.0.0-29"" msgstr ""8.0.0-29"" ",8,10
openstack%2Fovsdbapp~master~If45f6325a2685d56c7cdf8965949ebc596db99e5,openstack/ovsdbapp,master,If45f6325a2685d56c7cdf8965949ebc596db99e5,Update home-page,MERGED,2019-01-11 10:05:51.000000000,2019-01-24 14:00:08.000000000,2019-01-24 14:00:08.000000000,"[{'_account_id': 5756}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-11 10:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/8e4a80656f89eb98569a30e803d19549cc24f5c0', 'message': 'Updatae home-page\n\nChange-Id: If45f6325a2685d56c7cdf8965949ebc596db99e5\n'}, {'number': 2, 'created': '2019-01-12 01:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/746101a7c6da5d6622265478d3313fdf5b5795e0', 'message': 'Update home-page\n\nChange-Id: If45f6325a2685d56c7cdf8965949ebc596db99e5\n'}, {'number': 3, 'created': '2019-01-23 15:51:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/c4f4185826aaebb7311de22a95e61a17406f4bcc', 'message': 'Update home-page\n\nChange-Id: If45f6325a2685d56c7cdf8965949ebc596db99e5\n'}]",2,630113,c4f4185826aaebb7311de22a95e61a17406f4bcc,17,6,3,26297,,,0,"Update home-page

Change-Id: If45f6325a2685d56c7cdf8965949ebc596db99e5
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/13/630113/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8e4a80656f89eb98569a30e803d19549cc24f5c0,630113,home-page = https://git.openstack.org/cgit/openstack/ovsdbapp,home-page = http://www.openstack.org/,1,1
openstack%2Fcharm-glance~master~Iaaea4907ce4ef9d1e17b8ef9719e8bb0e0001946,openstack/charm-glance,master,Iaaea4907ce4ef9d1e17b8ef9719e8bb0e0001946,upgrade: preserve glance-registry for Queens,MERGED,2019-01-23 17:01:12.000000000,2019-01-24 13:43:23.000000000,2019-01-24 13:43:23.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 17:01:12.000000000', 'files': ['hooks/glance_utils.py', 'unit_tests/test_glance_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/c24e2cf4230550741ab057eb891e9b12d6741b64', 'message': 'upgrade: preserve glance-registry for Queens\n\nThe glance-registry daemon was deprecated at Queens, but was still\ninstalled for the Queens charm release; ensure that any re-install\nof paste.ini files accomodates this as part of the charm upgrade\nprocess, resolving issues with glance-registry not running due to\nmissing paste configuration files.\n\nChange-Id: Iaaea4907ce4ef9d1e17b8ef9719e8bb0e0001946\nCloses-Bug: 1812972\n'}]",0,632782,c24e2cf4230550741ab057eb891e9b12d6741b64,13,4,1,935,,,0,"upgrade: preserve glance-registry for Queens

The glance-registry daemon was deprecated at Queens, but was still
installed for the Queens charm release; ensure that any re-install
of paste.ini files accomodates this as part of the charm upgrade
process, resolving issues with glance-registry not running due to
missing paste configuration files.

Change-Id: Iaaea4907ce4ef9d1e17b8ef9719e8bb0e0001946
Closes-Bug: 1812972
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/82/632782/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/glance_utils.py', 'unit_tests/test_glance_utils.py']",2,c24e2cf4230550741ab057eb891e9b12d6741b64,bug/1812972," packages=['glance-api', 'glance-registry'],"," packages=['glance-api'],",4,5
openstack%2Fmonasca-api~master~If06d9114529c3ef4520247dfc7c32d3769f07084,openstack/monasca-api,master,If06d9114529c3ef4520247dfc7c32d3769f07084,Replace api-config.conf with monasca-api.conf,MERGED,2019-01-07 11:26:34.000000000,2019-01-24 13:43:03.000000000,2019-01-24 13:43:03.000000000,"[{'_account_id': 7102}, {'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2019-01-07 11:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/d7d1f1a5b5219932ee9be6d3d1373db32834a7ea', 'message': 'Replace api-config.conf with monasca-api.conf\n\napi-config.conf is the deprecated path for the configuration file. The\nnew path is /etc/monasca/monasca-api.conf .\n\nChange-Id: If06d9114529c3ef4520247dfc7c32d3769f07084\n'}, {'number': 2, 'created': '2019-01-07 19:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/79571d95c838731d032909d04bc89135a9085f57', 'message': 'Replace api-config.conf with monasca-api.conf\n\napi-config.conf is the deprecated path for the configuration file. The\nnew path is /etc/monasca/monasca-api.conf .\n\nStory: 2004708\nTask: 28738\n\nChange-Id: If06d9114529c3ef4520247dfc7c32d3769f07084\n'}, {'number': 3, 'created': '2019-01-10 19:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/d12d1cfd4db707237d880e7122ee290d485fd924', 'message': 'Replace api-config.conf with monasca-api.conf\n\napi-config.conf is the deprecated path for the configuration file. The\nnew path is /etc/monasca/monasca-api.conf .\n\nStory: 2004708\nTask: 28738\n\nChange-Id: If06d9114529c3ef4520247dfc7c32d3769f07084\n'}, {'number': 4, 'created': '2019-01-19 11:15:31.000000000', 'files': ['config-generator/README.rst', 'README.rst', 'docker/README.rst', 'devstack/plugin.sh', 'doc/source/conf.py', 'config-generator/monasca-api.conf', 'devstack/settings', 'docker/Dockerfile', 'docker/start.sh', 'doc/source/configuration/sample.rst', 'docker/monasca-api.conf.j2', 'monasca_api/api/server.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/96e13dad754429c38447f180b3c15c6f59f0beb1', 'message': 'Replace api-config.conf with monasca-api.conf\n\napi-config.conf is the deprecated path for the configuration file. The\nnew path is /etc/monasca/monasca-api.conf .\n\nStory: 2004708\nTask: 28987\n\nChange-Id: If06d9114529c3ef4520247dfc7c32d3769f07084\n'}]",6,628932,96e13dad754429c38447f180b3c15c6f59f0beb1,37,7,4,7102,,,0,"Replace api-config.conf with monasca-api.conf

api-config.conf is the deprecated path for the configuration file. The
new path is /etc/monasca/monasca-api.conf .

Story: 2004708
Task: 28987

Change-Id: If06d9114529c3ef4520247dfc7c32d3769f07084
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/32/628932/4 && git format-patch -1 --stdout FETCH_HEAD,"['config-generator/README.rst', 'README.rst', 'docker/README.rst', 'devstack/plugin.sh', 'doc/source/conf.py', 'config-generator/monasca-api.conf', 'devstack/settings', 'docker/start.sh', 'doc/source/configuration/sample.rst', 'docker/monasca-api.conf.j2', 'monasca_api/api/server.py', 'tox.ini']",12,d7d1f1a5b5219932ee9be6d3d1373db32834a7ea,628932,commands = oslo-config-generator --config-file=config-generator/monasca-api.conf,commands = oslo-config-generator --config-file=config-generator/api-config.conf,16,16
openstack%2Fmanila-tempest-plugin~master~Ia721c434ceae5f02fc51bef5ec48b356da0de98d,openstack/manila-tempest-plugin,master,Ia721c434ceae5f02fc51bef5ec48b356da0de98d,Fix availability zones tests,MERGED,2019-01-15 07:16:39.000000000,2019-01-24 13:33:25.000000000,2019-01-24 13:33:25.000000000,"[{'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26968}, {'_account_id': 29455}]","[{'number': 1, 'created': '2019-01-15 07:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/31058dac0e781e7bc43daafd5ef43019afed0995', 'message': 'Fix availability zones tests\n\nWhenever creating a resource in an availability zone,\nthe positive test cases must ensure that the AZ supports\nthe characteristics needed by the resource.\n\nAdd a new helper method to filter AZs by share types\nto facilitate such a check.\n\nChange-Id: Ia721c434ceae5f02fc51bef5ec48b356da0de98d\nCloses-Bug: #1811739\n'}, {'number': 2, 'created': '2019-01-15 19:21:34.000000000', 'files': ['manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/tests/api/test_replication.py', 'manila_tempest_tests/tests/api/test_revert_to_snapshot.py', 'manila_tempest_tests/tests/api/test_replication_snapshots.py', 'manila_tempest_tests/tests/api/admin/test_replication.py', 'manila_tempest_tests/tests/api/test_replication_negative.py', 'manila_tempest_tests/tests/api/test_share_groups.py', 'manila_tempest_tests/tests/api/admin/test_replication_actions.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/839c98b2c1b46c46274e61ead2ef0c55dde35549', 'message': 'Fix availability zones tests\n\nWhenever creating a resource in an availability zone,\nthe positive test cases must ensure that the AZ supports\nthe characteristics needed by the resource.\n\nAdd a new helper method to filter AZs by share types\nto facilitate such a check.\n\nChange-Id: Ia721c434ceae5f02fc51bef5ec48b356da0de98d\nCloses-Bug: #1811739\n'}]",2,630886,839c98b2c1b46c46274e61ead2ef0c55dde35549,17,11,2,16643,,,0,"Fix availability zones tests

Whenever creating a resource in an availability zone,
the positive test cases must ensure that the AZ supports
the characteristics needed by the resource.

Add a new helper method to filter AZs by share types
to facilitate such a check.

Change-Id: Ia721c434ceae5f02fc51bef5ec48b356da0de98d
Closes-Bug: #1811739
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/86/630886/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/tests/api/test_replication.py', 'manila_tempest_tests/tests/api/test_revert_to_snapshot.py', 'manila_tempest_tests/tests/api/test_replication_snapshots.py', 'manila_tempest_tests/tests/api/admin/test_replication.py', 'manila_tempest_tests/tests/api/test_replication_negative.py', 'manila_tempest_tests/tests/api/test_share_groups.py', 'manila_tempest_tests/tests/api/admin/test_replication_actions.py']",8,31058dac0e781e7bc43daafd5ef43019afed0995,bug/1811739," cls.zones = cls.get_availability_zones_matching_share_type( cls.share_type, client=cls.admin_client) cls.share_zone = cls.zones[0] cls.replica_zone = cls.zones[-1] ", cls.zones = cls.get_availability_zones(client=cls.admin_client) cls.share_zone = cls.zones[0] cls.replica_zone = cls.zones[-1],81,36
openstack%2Fcastellan~master~Ided08c04522b3f614f58bde95528fc8c8a1ba627,openstack/castellan,master,Ided08c04522b3f614f58bde95528fc8c8a1ba627,Use template for lower-constraints,MERGED,2018-12-20 19:49:55.000000000,2019-01-24 13:09:19.000000000,2019-01-24 13:09:19.000000000,"[{'_account_id': 6547}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2018-12-20 19:49:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/castellan/commit/d00aae7e215821cb11aab34ce285178957e96ea5', 'message': 'Use template for lower-constraints\n\nSmall cleanups:\n\n* Use openstack-lower-constraints-jobs template, remove individual\n  jobs.\n* Sort list of templates\n\nChange-Id: Ided08c04522b3f614f58bde95528fc8c8a1ba627\nNeeded-By: https://review.openstack.org/623229\n'}]",0,626672,d00aae7e215821cb11aab34ce285178957e96ea5,12,4,1,6547,,,0,"Use template for lower-constraints

Small cleanups:

* Use openstack-lower-constraints-jobs template, remove individual
  jobs.
* Sort list of templates

Change-Id: Ided08c04522b3f614f58bde95528fc8c8a1ba627
Needed-By: https://review.openstack.org/623229
",git fetch https://review.opendev.org/openstack/castellan refs/changes/72/626672/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d00aae7e215821cb11aab34ce285178957e96ea5,cd/py36-lower-constraints, - check-requirements - openstack-lower-constraints-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3, - openstack-tox-lower-constraints - openstack-tox-lower-constraints - release-notes-jobs-python3 - publish-openstack-docs-pti - check-requirements - periodic-stable-jobs,5,6
openstack%2Fcinder~master~I02e3ea8cd5965722d38ef6be6ee6c929fe1ae4a2,openstack/cinder,master,I02e3ea8cd5965722d38ef6be6ee6c929fe1ae4a2,api-ref: fix response example of list-backups,MERGED,2018-11-07 08:58:59.000000000,2019-01-24 13:05:21.000000000,2019-01-24 13:05:21.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 17130}, {'_account_id': 18120}, {'_account_id': 20190}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24496}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-11-07 08:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da9e9c5021fa3097c8adbe22fa5c53f368f55355', 'message': 'api-ref: fix response example of list-backups\n\nhttps://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=list-backups-for-project-detail#list-backups-for-project\n\nThe response example of ""List backups for project"" is not correct,\nwhich seems to be that of ""List backups with detail"".\n\nChange-Id: I02e3ea8cd5965722d38ef6be6ee6c929fe1ae4a2\n'}, {'number': 2, 'created': '2018-11-07 09:28:19.000000000', 'files': ['api-ref/source/v3/samples/backups-list-response.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/43490897c62bfc4ffb92d7d7705a21f1fbe956dd', 'message': 'api-ref: fix response example of list-backups\n\nhttps://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=list-backups-for-project-detail#list-backups-for-project\n\nThe response example of ""List backups for project"" is not correct,\nwhich seems to be that of ""List backups with detail"".\n\nChange-Id: I02e3ea8cd5965722d38ef6be6ee6c929fe1ae4a2\n'}]",6,616114,43490897c62bfc4ffb92d7d7705a21f1fbe956dd,45,31,2,20190,,,0,"api-ref: fix response example of list-backups

https://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=list-backups-for-project-detail#list-backups-for-project

The response example of ""List backups for project"" is not correct,
which seems to be that of ""List backups with detail"".

Change-Id: I02e3ea8cd5965722d38ef6be6ee6c929fe1ae4a2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/616114/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/samples/backups-list-response.json'],1,da9e9c5021fa3097c8adbe22fa5c53f368f55355,bp/volume-response-schema-validation," { ""id"": ""5e7a312e-af39-4fc0-8633-b8c2cdabb67d"", ""links"": [{ ""href"": ""https://158.69.65.111/volume/v3/ca730406ba3c40b0870e0bd431271736/backups/5e7a312e-af39-4fc0-8633-b8c2cdabb67d"", ""rel"": ""self"" }, { ""href"": ""https://158.69.65.111/volume/ca730406ba3c40b0870e0bd431271736/backups/5e7a312e-af39-4fc0-8633-b8c2cdabb67d"", ""rel"": ""bookmark"" }], ""name"": ""tempest-VolumesBackupsAdminTest-Backup-1385312480"" } ""count"": 1"," { ""status"": ""available"", ""object_count"": 0, ""container"": null, ""name"": ""volume-backup"", ""links"": [ { ""href"": ""http://localhost:8776/v3/c95fc3e4afe248a49a28828f286a7b38/backups/2ef47aee-8844-490c-804d-2a8efe561c65"", ""rel"": ""self"" }, { ""href"": ""http://localhost:8776/c95fc3e4afe248a49a28828f286a7b38/backups/2ef47aee-8844-490c-804d-2a8efe561c65"", ""rel"": ""bookmark"" } ], ""availability_zone"": ""nova"", ""created_at"": ""2017-06-20T05:30:19.000000"", ""description"": null, ""updated_at"": ""2017-06-20T05:30:19.000000"", ""data_timestamp"": ""2017-06-20T05:30:19.000000"", ""has_dependent_backups"": false, ""snapshot_id"": null, ""volume_id"": ""0b38d3f5-68fb-41db-9a99-337a96fdfa96"", ""fail_reason"": null, ""is_incremental"": false, ""id"": ""2ef47aee-8844-490c-804d-2a8efe561c65"", ""size"": 1 }, { ""status"": ""available"", ""object_count"": 0, ""container"": null, ""name"": ""volume-backup"", ""links"": [ { ""href"": ""http://localhost:8776/v3/c95fc3e4afe248a49a28828f286a7b38/backups/4dbf0ec2-0b57-4669-9823-9f7c76f2b4f8"", ""rel"": ""self"" }, { ""href"": ""http://localhost:8776/c95fc3e4afe248a49a28828f286a7b38/backups/4dbf0ec2-0b57-4669-9823-9f7c76f2b4f8"", ""rel"": ""bookmark"" } ], ""availability_zone"": ""nova"", ""created_at"": ""2017-06-20T05:30:19.000000"", ""description"": null, ""updated_at"": ""2017-06-20T05:30:19.000000"", ""data_timestamp"": ""2017-06-20T05:30:19.000000"", ""has_dependent_backups"": false, ""snapshot_id"": null, ""volume_id"": ""0b38d3f5-68fb-41db-9a99-337a96fdfa96"", ""fail_reason"": null, ""is_incremental"": false, ""id"": ""4dbf0ec2-0b57-4669-9823-9f7c76f2b4f8"", ""size"": 1 } ""count"": 10",12,57
openstack%2Fneutron~stable%2Fpike~I4944041df81e24683bc612560808bcdcc2db6bf2,openstack/neutron,stable/pike,I4944041df81e24683bc612560808bcdcc2db6bf2,Check port VNIC type when associating a floating IP,MERGED,2019-01-18 17:30:50.000000000,2019-01-24 13:05:19.000000000,2019-01-24 13:05:19.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-18 17:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dca6b0c020aed44512faeea8ea007afc8ddb59ff', 'message': 'Check port VNIC type when associating a floating IP\n\nWhen associating a floating IP to a port and the router is distributed,\nthe VNIC type of this port must be ""normal"" only. In any other case,\nthe floating IP can\'t be assigned. For example, a SR-IOV can have a\nfloating IP if the router is distributed (the router is in the same\nhost of the port).\n\nThis patch adds also function can_port_be_bound_to_virtual_bridge to\nneutron/db/l3_db.py module.\nOriginally this function was introduced in neutron-lib with [1] but\nin stable branch there is older neutron-lib used so this isn\'t available\nfrom neutron-lib.\n\n[1] https://review.openstack.org/#/c/615126/\n\nCloses-Bug: #1566951\n\nChange-Id: I4944041df81e24683bc612560808bcdcc2db6bf2\n(cherry picked from commit 1966ad3945a7a44beeefc603f9d6da54ac67f9a3)\n(cherry picked from commit 0f14e30fa4618d0f3041f9f4bfb066ad248f19ed)\n(cherry picked from commit 1c573bb8b949baf591d8e0744537be4c0d1faa72)\n'}, {'number': 2, 'created': '2019-01-19 20:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2a48b3ae7bfea023aa08e46b982a912cd02e5dd', 'message': 'Check port VNIC type when associating a floating IP\n\nWhen associating a floating IP to a port and the router is distributed,\nthe VNIC type of this port must be ""normal"" only. In any other case,\nthe floating IP can\'t be assigned. For example, a SR-IOV can have a\nfloating IP if the router is distributed (the router is in the same\nhost of the port).\n\nThis patch adds also function can_port_be_bound_to_virtual_bridge to\nneutron/db/l3_db.py module.\nOriginally this function was introduced in neutron-lib with [1] but\nin stable branch there is older neutron-lib used so this isn\'t available\nfrom neutron-lib.\n\n[1] https://review.openstack.org/#/c/615126/\n\nCloses-Bug: #1566951\n\nChange-Id: I4944041df81e24683bc612560808bcdcc2db6bf2\n(cherry picked from commit 1966ad3945a7a44beeefc603f9d6da54ac67f9a3)\n(cherry picked from commit 0f14e30fa4618d0f3041f9f4bfb066ad248f19ed)\n(cherry picked from commit 1c573bb8b949baf591d8e0744537be4c0d1faa72)\n'}, {'number': 3, 'created': '2019-01-21 11:36:26.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/edd8ad31d7cd9f340ebe8a607b6c6487a78ad7e5', 'message': 'Check port VNIC type when associating a floating IP\n\nWhen associating a floating IP to a port and the router is distributed,\nthe VNIC type of this port must be ""normal"" only. In any other case,\nthe floating IP can\'t be assigned. For example, a SR-IOV can have a\nfloating IP if the router is distributed (the router is in the same\nhost of the port).\n\nThis patch adds also function can_port_be_bound_to_virtual_bridge to\nneutron/db/l3_db.py module.\nOriginally this function was introduced in neutron-lib with [1] but\nin stable branch there is older neutron-lib used so this isn\'t available\nfrom neutron-lib.\n\n[1] https://review.openstack.org/#/c/615126/\n\nCloses-Bug: #1566951\n\nChange-Id: I4944041df81e24683bc612560808bcdcc2db6bf2\n(cherry picked from commit 1966ad3945a7a44beeefc603f9d6da54ac67f9a3)\n(cherry picked from commit 0f14e30fa4618d0f3041f9f4bfb066ad248f19ed)\n(cherry picked from commit 1c573bb8b949baf591d8e0744537be4c0d1faa72)\n'}]",2,631844,edd8ad31d7cd9f340ebe8a607b6c6487a78ad7e5,23,6,3,11975,,,0,"Check port VNIC type when associating a floating IP

When associating a floating IP to a port and the router is distributed,
the VNIC type of this port must be ""normal"" only. In any other case,
the floating IP can't be assigned. For example, a SR-IOV can have a
floating IP if the router is distributed (the router is in the same
host of the port).

This patch adds also function can_port_be_bound_to_virtual_bridge to
neutron/db/l3_db.py module.
Originally this function was introduced in neutron-lib with [1] but
in stable branch there is older neutron-lib used so this isn't available
from neutron-lib.

[1] https://review.openstack.org/#/c/615126/

Closes-Bug: #1566951

Change-Id: I4944041df81e24683bc612560808bcdcc2db6bf2
(cherry picked from commit 1966ad3945a7a44beeefc603f9d6da54ac67f9a3)
(cherry picked from commit 0f14e30fa4618d0f3041f9f4bfb066ad248f19ed)
(cherry picked from commit 1c573bb8b949baf591d8e0744537be4c0d1faa72)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/631844/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/l3_db.py', 'neutron/db/l3_db.py.orig']",4,dca6b0c020aed44512faeea8ea007afc8ddb59ff,bug/1566951,"# Copyright 2012 VMware, Inc. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import functools import itertools import random from debtcollector import removals import netaddr <<<<<<< HEAD ======= from neutron_lib.api.definitions import external_net as extnet_apidef from neutron_lib.api.definitions import l3 as l3_apidef from neutron_lib.api.definitions import portbindings as pb >>>>>>> 1c573bb... Check port VNIC type when associating a floating IP from neutron_lib.api import validators from neutron_lib.callbacks import events from neutron_lib.callbacks import exceptions from neutron_lib.callbacks import registry from neutron_lib.callbacks import resources from neutron_lib import constants from neutron_lib import context as n_ctx from neutron_lib import exceptions as n_exc from neutron_lib.plugins import constants as plugin_constants from neutron_lib.plugins import directory from neutron_lib.services import base as base_services from oslo_log import log as logging from oslo_utils import uuidutils import six from sqlalchemy import orm from sqlalchemy.orm import exc from neutron._i18n import _ from neutron.api.rpc.agentnotifiers import l3_rpc_agent_api from neutron.common import constants as n_const from neutron.common import ipv6_utils from neutron.common import rpc as n_rpc from neutron.common import utils from neutron.db import _model_query as model_query from neutron.db import _resource_extend as resource_extend from neutron.db import _utils as db_utils from neutron.db import api as db_api from neutron.db import common_db_mixin from neutron.db.models import l3 as l3_models from neutron.db import models_v2 from neutron.db import standardattrdescription_db as st_attr from neutron.extensions import external_net from neutron.extensions import l3 from neutron.objects import ports as port_obj from neutron.objects import router as l3_obj from neutron.plugins.common import utils as p_utils from neutron import worker as neutron_worker LOG = logging.getLogger(__name__) DEVICE_OWNER_HA_REPLICATED_INT = constants.DEVICE_OWNER_HA_REPLICATED_INT DEVICE_OWNER_ROUTER_INTF = constants.DEVICE_OWNER_ROUTER_INTF DEVICE_OWNER_ROUTER_GW = constants.DEVICE_OWNER_ROUTER_GW DEVICE_OWNER_FLOATINGIP = constants.DEVICE_OWNER_FLOATINGIP EXTERNAL_GW_INFO = l3.EXTERNAL_GW_INFO # Maps API field to DB column # API parameter name and Database column names may differ. # Useful to keep the filtering between API and Database. API_TO_DB_COLUMN_MAP = {'port_id': 'fixed_port_id'} CORE_ROUTER_ATTRS = ('id', 'name', 'tenant_id', 'admin_state_up', 'status') def can_port_be_bound_to_virtual_bridge(port): """"""Returns if port can be bound to a virtual bridge (e.g.: LB, OVS) :param port: (dict) A port dictionary. :returns: True if the port VNIC type is 'normal'; False in any other case. """""" return port[pb.VNIC_TYPE] == pb.VNIC_NORMAL @registry.has_registry_receivers class L3_NAT_dbonly_mixin(l3.RouterPluginBase, base_services.WorkerBase, st_attr.StandardAttrDescriptionMixin): """"""Mixin class to add L3/NAT router methods to db_base_plugin_v2."""""" router_device_owners = ( DEVICE_OWNER_HA_REPLICATED_INT, DEVICE_OWNER_ROUTER_INTF, DEVICE_OWNER_ROUTER_GW, DEVICE_OWNER_FLOATINGIP ) _dns_integration = None def __new__(cls): inst = super(L3_NAT_dbonly_mixin, cls).__new__(cls) inst._start_janitor() return inst @staticmethod @registry.receives(resources.PORT, [events.BEFORE_DELETE]) def _prevent_l3_port_delete_callback(resource, event, trigger, **kwargs): context = kwargs['context'] port_id = kwargs['port_id'] port_check = kwargs['port_check'] l3plugin = directory.get_plugin(plugin_constants.L3) if l3plugin and port_check: l3plugin.prevent_l3_port_deletion(context, port_id) @property def _is_dns_integration_supported(self): if self._dns_integration is None: self._dns_integration = ( utils.is_extension_supported(self._core_plugin, 'dns-integration') or utils.is_extension_supported(self._core_plugin, 'dns-domain-ports')) return self._dns_integration @property def _core_plugin(self): return directory.get_plugin() def _start_janitor(self): """"""Starts the periodic job that cleans up broken complex resources. This job will look for things like floating IP ports without an associated floating IP and delete them 5 minutes after detection. """""" interval = 60 * 5 # only every 5 minutes. cleanups should be rare initial_delay = random.randint(0, interval) # splay multiple servers janitor = neutron_worker.PeriodicWorker(self._clean_garbage, interval, initial_delay) self.add_worker(janitor) def _clean_garbage(self): if not hasattr(self, '_candidate_broken_fip_ports'): self._candidate_broken_fip_ports = set() context = n_ctx.get_admin_context() candidates = self._get_dead_floating_port_candidates(context) # just because a port is in 'candidates' doesn't necessarily mean # it's broken, we could have just caught it before it was updated. # We confirm by waiting until the next call of this function to see # if it persists. to_cleanup = candidates & self._candidate_broken_fip_ports self._candidate_broken_fip_ports = candidates - to_cleanup for port_id in to_cleanup: # ensure it wasn't just a failure to update device_id before we # delete it try: self._fix_or_kill_floating_port(context, port_id) except Exception: LOG.exception(""Error cleaning up floating IP port: %s"", port_id) def _fix_or_kill_floating_port(self, context, port_id): fip = (context.session.query(l3_models.FloatingIP). filter_by(floating_port_id=port_id).first()) if fip: LOG.warning(""Found incorrect device_id on floating port "" ""%(pid)s, correcting to %(fip)s."", {'pid': port_id, 'fip': fip.id}) self._core_plugin.update_port( context, port_id, {'port': {'device_id': fip.id}}) else: LOG.warning(""Found floating IP port %s without floating IP, "" ""deleting."", port_id) self._core_plugin.delete_port( context, port_id, l3_port_check=False) def _get_dead_floating_port_candidates(self, context): filters = {'device_id': ['PENDING'], 'device_owner': [DEVICE_OWNER_FLOATINGIP]} return {p['id'] for p in self._core_plugin.get_ports(context, filters)} def _get_router(self, context, router_id): try: router = model_query.get_by_id( context, l3_models.Router, router_id) except exc.NoResultFound: raise l3.RouterNotFound(router_id=router_id) return router def _make_router_dict(self, router, fields=None, process_extensions=True): res = dict((key, router[key]) for key in CORE_ROUTER_ATTRS) if router['gw_port_id']: ext_gw_info = { 'network_id': router.gw_port['network_id'], 'external_fixed_ips': [{'subnet_id': ip[""subnet_id""], 'ip_address': ip[""ip_address""]} for ip in router.gw_port['fixed_ips']]} else: ext_gw_info = None res.update({ EXTERNAL_GW_INFO: ext_gw_info, 'gw_port_id': router['gw_port_id'], }) # NOTE(salv-orlando): The following assumes this mixin is used in a # class inheriting from CommonDbMixin, which is true for all existing # plugins. if process_extensions: resource_extend.apply_funcs(l3.ROUTERS, res, router) return db_utils.resource_fields(res, fields) def _create_router_db(self, context, router, tenant_id): """"""Create the DB object."""""" router.setdefault('id', uuidutils.generate_uuid()) router['tenant_id'] = tenant_id registry.notify(resources.ROUTER, events.BEFORE_CREATE, self, context=context, router=router) with context.session.begin(subtransactions=True): # pre-generate id so it will be available when # configuring external gw port router_db = l3_models.Router( id=router['id'], tenant_id=router['tenant_id'], name=router['name'], admin_state_up=router['admin_state_up'], status=n_const.ROUTER_STATUS_ACTIVE, description=router.get('description')) context.session.add(router_db) registry.notify(resources.ROUTER, events.PRECOMMIT_CREATE, self, context=context, router=router, router_id=router['id'], router_db=router_db) return router_db def _update_gw_for_create_router(self, context, gw_info, router_id): if gw_info: router_db = self._get_router(context, router_id) self._update_router_gw_info(context, router_id, gw_info, router=router_db) @db_api.retry_if_session_inactive() def create_router(self, context, router): r = router['router'] gw_info = r.pop(EXTERNAL_GW_INFO, None) create = functools.partial(self._create_router_db, context, r, r['tenant_id']) delete = functools.partial(self.delete_router, context) update_gw = functools.partial(self._update_gw_for_create_router, context, gw_info) router_db, _unused = common_db_mixin.safe_creation(context, create, delete, update_gw, transaction=False) new_router = self._make_router_dict(router_db) registry.notify(resources.ROUTER, events.AFTER_CREATE, self, context=context, router_id=router_db.id, router=new_router, request_attrs=r, router_db=router_db) return new_router def _update_router_db(self, context, router_id, data): """"""Update the DB object."""""" with context.session.begin(subtransactions=True): router_db = self._get_router(context, router_id) old_router = self._make_router_dict(router_db) if data: router_db.update(data) registry.notify(resources.ROUTER, events.PRECOMMIT_UPDATE, self, context=context, router_id=router_id, router=data, router_db=router_db, old_router=old_router) return router_db @db_api.retry_if_session_inactive() def update_router(self, context, id, router): r = router['router'] gw_info = r.pop(EXTERNAL_GW_INFO, constants.ATTR_NOT_SPECIFIED) original = self.get_router(context, id) # check whether router needs and can be rescheduled to the proper # l3 agent (associated with given external network); # do check before update in DB as an exception will be raised # in case no proper l3 agent found if gw_info != constants.ATTR_NOT_SPECIFIED: candidates = self._check_router_needs_rescheduling( context, id, gw_info) # Update the gateway outside of the DB update since it involves L2 # calls that don't make sense to rollback and may cause deadlocks # in a transaction. self._update_router_gw_info(context, id, gw_info) else: candidates = None router_db = self._update_router_db(context, id, r) if candidates: l3_plugin = directory.get_plugin(plugin_constants.L3) l3_plugin.reschedule_router(context, id, candidates) updated = self._make_router_dict(router_db) registry.notify(resources.ROUTER, events.AFTER_UPDATE, self, context=context, router_id=id, old_router=original, router=updated, request_attrs=r, router_db=router_db) return updated def _check_router_needs_rescheduling(self, context, router_id, gw_info): """"""Checks whether router's l3 agent can handle the given network When external_network_bridge is set, each L3 agent can be associated with at most one external network. If router's new external gateway is on other network then the router needs to be rescheduled to the proper l3 agent. If external_network_bridge is not set then the agent can support multiple external networks and rescheduling is not needed :return: list of candidate agents if rescheduling needed, None otherwise; raises exception if there is no eligible l3 agent associated with target external network """""" # TODO(obondarev): rethink placement of this func as l3 db manager is # not really a proper place for agent scheduling stuff network_id = gw_info.get('network_id') if gw_info else None if not network_id: return nets = self._core_plugin.get_networks( context, {external_net.EXTERNAL: [True]}) # nothing to do if there is only one external network if len(nets) <= 1: return # first get plugin supporting l3 agent scheduling # (either l3 service plugin or core_plugin) l3_plugin = directory.get_plugin(plugin_constants.L3) if (not utils.is_extension_supported( l3_plugin, constants.L3_AGENT_SCHEDULER_EXT_ALIAS) or l3_plugin.router_scheduler is None): # that might mean that we are dealing with non-agent-based # implementation of l3 services return if not l3_plugin.router_supports_scheduling(context, router_id): return cur_agents = l3_plugin.list_l3_agents_hosting_router( context, router_id)['agents'] for agent in cur_agents: ext_net_id = agent['configurations'].get( 'gateway_external_network_id') ext_bridge = agent['configurations'].get( 'external_network_bridge', '') if (ext_net_id == network_id or (not ext_net_id and not ext_bridge)): return # otherwise find l3 agent with matching gateway_external_network_id active_agents = l3_plugin.get_l3_agents(context, active=True) router = { 'id': router_id, 'external_gateway_info': {'network_id': network_id} } candidates = l3_plugin.get_l3_agent_candidates(context, router, active_agents) if not candidates: msg = (_('No eligible l3 agent associated with external network ' '%s found') % network_id) raise n_exc.BadRequest(resource='router', msg=msg) return candidates def _create_router_gw_port(self, context, router, network_id, ext_ips): # Port has no 'tenant-id', as it is hidden from user port_data = {'tenant_id': '', # intentionally not set 'network_id': network_id, 'fixed_ips': ext_ips or constants.ATTR_NOT_SPECIFIED, 'device_id': router['id'], 'device_owner': DEVICE_OWNER_ROUTER_GW, 'admin_state_up': True, 'name': ''} gw_port = p_utils.create_port(self._core_plugin, context.elevated(), {'port': port_data}) if not gw_port['fixed_ips']: LOG.debug('No IPs available for external network %s', network_id) with p_utils.delete_port_on_error(self._core_plugin, context.elevated(), gw_port['id']): with context.session.begin(subtransactions=True): router.gw_port = self._core_plugin._get_port( context.elevated(), gw_port['id']) router_port = l3_obj.RouterPort( context, router_id=router.id, port_id=gw_port['id'], port_type=DEVICE_OWNER_ROUTER_GW ) context.session.add(router) router_port.create() def _validate_gw_info(self, context, gw_port, info, ext_ips): network_id = info['network_id'] if info else None if network_id: network_db = self._core_plugin._get_network(context, network_id) if not network_db.external: msg = _(""Network %s is not an external network"") % network_id raise n_exc.BadRequest(resource='router', msg=msg) if ext_ips: subnets = self._core_plugin.get_subnets_by_network(context, network_id) for s in subnets: if not s['gateway_ip']: continue for ext_ip in ext_ips: if ext_ip.get('ip_address') == s['gateway_ip']: msg = _(""External IP %s is the same as the "" ""gateway IP"") % ext_ip.get('ip_address') raise n_exc.BadRequest(resource='router', msg=msg) return network_id # NOTE(yamamoto): This method is an override point for plugins # inheriting this class. Do not optimize this out. def router_gw_port_has_floating_ips(self, context, router_id): """"""Return True if the router's gateway port is serving floating IPs."""""" return bool(self.get_floatingips_count(context, {'router_id': [router_id]})) def _delete_current_gw_port(self, context, router_id, router, new_network_id): """"""Delete gw port if attached to an old network."""""" port_requires_deletion = ( router.gw_port and router.gw_port['network_id'] != new_network_id) if not port_requires_deletion: return admin_ctx = context.elevated() old_network_id = router.gw_port['network_id'] if self.router_gw_port_has_floating_ips(admin_ctx, router_id): raise l3.RouterExternalGatewayInUseByFloatingIp( router_id=router_id, net_id=router.gw_port['network_id']) gw_ips = [x['ip_address'] for x in router.gw_port['fixed_ips']] gw_port_id = router.gw_port['id'] self._delete_router_gw_port_db(context, router) self._core_plugin.delete_port( admin_ctx, gw_port_id, l3_port_check=False) registry.notify(resources.ROUTER_GATEWAY, events.AFTER_DELETE, self, router_id=router_id, context=context, router=router, network_id=old_network_id, new_network_id=new_network_id, gateway_ips=gw_ips) def _delete_router_gw_port_db(self, context, router): with context.session.begin(subtransactions=True): router.gw_port = None if router not in context.session: context.session.add(router) try: kwargs = {'context': context, 'router_id': router.id} registry.notify( resources.ROUTER_GATEWAY, events.BEFORE_DELETE, self, **kwargs) except exceptions.CallbackFailure as e: # NOTE(armax): preserve old check's behavior if len(e.errors) == 1: raise e.errors[0].error raise l3.RouterInUse(router_id=router.id, reason=e) def _create_gw_port(self, context, router_id, router, new_network_id, ext_ips): new_valid_gw_port_attachment = ( new_network_id and (not router.gw_port or router.gw_port['network_id'] != new_network_id)) if new_valid_gw_port_attachment: subnets = self._core_plugin.get_subnets_by_network(context, new_network_id) try: kwargs = {'context': context, 'router_id': router_id, 'network_id': new_network_id, 'subnets': subnets} registry.notify( resources.ROUTER_GATEWAY, events.BEFORE_CREATE, self, **kwargs) except exceptions.CallbackFailure as e: # raise the underlying exception raise e.errors[0].error self._check_for_dup_router_subnets(context, router, new_network_id, subnets, include_gateway=True) self._create_router_gw_port(context, router, new_network_id, ext_ips) registry.notify(resources.ROUTER_GATEWAY, events.AFTER_CREATE, self._create_gw_port, gw_ips=ext_ips, network_id=new_network_id, router_id=router_id) def _update_current_gw_port(self, context, router_id, router, ext_ips): self._core_plugin.update_port(context, router.gw_port['id'], {'port': {'fixed_ips': ext_ips}}) context.session.expire(router.gw_port) def _update_router_gw_info(self, context, router_id, info, router=None): # TODO(salvatore-orlando): guarantee atomic behavior also across # operations that span beyond the model classes handled by this # class (e.g.: delete_port) router = router or self._get_router(context, router_id) gw_port = router.gw_port ext_ips = info.get('external_fixed_ips') if info else [] ext_ip_change = self._check_for_external_ip_change( context, gw_port, ext_ips) network_id = self._validate_gw_info(context, gw_port, info, ext_ips) if gw_port and ext_ip_change and gw_port['network_id'] == network_id: self._update_current_gw_port(context, router_id, router, ext_ips) else: self._delete_current_gw_port(context, router_id, router, network_id) self._create_gw_port(context, router_id, router, network_id, ext_ips) def _check_for_external_ip_change(self, context, gw_port, ext_ips): # determine if new external IPs differ from the existing fixed_ips if not ext_ips: # no external_fixed_ips were included return False if not gw_port: return True subnet_ids = set(ip['subnet_id'] for ip in gw_port['fixed_ips']) new_subnet_ids = set(f['subnet_id'] for f in ext_ips if f.get('subnet_id')) subnet_change = not new_subnet_ids == subnet_ids if subnet_change: return True ip_addresses = set(ip['ip_address'] for ip in gw_port['fixed_ips']) new_ip_addresses = set(f['ip_address'] for f in ext_ips if f.get('ip_address')) ip_address_change = not ip_addresses == new_ip_addresses return ip_address_change def _ensure_router_not_in_use(self, context, router_id): """"""Ensure that no internal network interface is attached to the router. """""" router = self._get_router(context, router_id) device_owner = self._get_device_owner(context, router) if any(rp.port_type == device_owner for rp in router.attached_ports.all()): raise l3.RouterInUse(router_id=router_id) return router @db_api.retry_if_session_inactive() def delete_router(self, context, id): registry.notify(resources.ROUTER, events.BEFORE_DELETE, self, context=context, router_id=id) #TODO(nati) Refactor here when we have router insertion model router = self._ensure_router_not_in_use(context, id) original = self._make_router_dict(router) self._delete_current_gw_port(context, id, router, None) router_ports = router.attached_ports.all() for rp in router_ports: self._core_plugin.delete_port(context.elevated(), rp.port.id, l3_port_check=False) with context.session.begin(subtransactions=True): registry.notify(resources.ROUTER, events.PRECOMMIT_DELETE, self, context=context, router_db=router, router_id=id) # we bump the revision even though we are about to delete to throw # staledataerror if something snuck in with a new interface router.bump_revision() context.session.flush() context.session.delete(router) registry.notify(resources.ROUTER, events.AFTER_DELETE, self, context=context, router_id=id, original=original) @db_api.retry_if_session_inactive() def get_router(self, context, id, fields=None): router = self._get_router(context, id) return self._make_router_dict(router, fields) @db_api.retry_if_session_inactive() def get_routers(self, context, filters=None, fields=None, sorts=None, limit=None, marker=None, page_reverse=False): marker_obj = db_utils.get_marker_obj(self, context, 'router', limit, marker) return model_query.get_collection(context, l3_models.Router, self._make_router_dict, filters=filters, fields=fields, sorts=sorts, limit=limit, marker_obj=marker_obj, page_reverse=page_reverse) @db_api.retry_if_session_inactive() def get_routers_count(self, context, filters=None): return model_query.get_collection_count(context, l3_models.Router, filters=filters) def _check_for_dup_router_subnets(self, context, router, network_id, new_subnets, include_gateway=False): # It's possible these ports are on the same network, but # different subnets. new_subnet_ids = {s['id'] for s in new_subnets} router_subnets = [] for p in (rp.port for rp in router.attached_ports): for ip in p['fixed_ips']: if ip['subnet_id'] in new_subnet_ids: msg = (_(""Router already has a port on subnet %s"") % ip['subnet_id']) raise n_exc.BadRequest(resource='router', msg=msg) gw_owner = (p.get('device_owner') == DEVICE_OWNER_ROUTER_GW) if include_gateway == gw_owner: router_subnets.append(ip['subnet_id']) # Ignore temporary Prefix Delegation CIDRs new_subnets = [s for s in new_subnets if s['cidr'] != n_const.PROVISIONAL_IPV6_PD_PREFIX] id_filter = {'id': router_subnets} subnets = self._core_plugin.get_subnets(context.elevated(), filters=id_filter) for sub in subnets: cidr = sub['cidr'] ipnet = netaddr.IPNetwork(cidr) for s in new_subnets: new_cidr = s['cidr'] new_ipnet = netaddr.IPNetwork(new_cidr) match1 = netaddr.all_matching_cidrs(new_ipnet, [cidr]) match2 = netaddr.all_matching_cidrs(ipnet, [new_cidr]) if match1 or match2: data = {'subnet_cidr': new_cidr, 'subnet_id': s['id'], 'cidr': cidr, 'sub_id': sub['id']} msg = (_(""Cidr %(subnet_cidr)s of subnet "" ""%(subnet_id)s overlaps with cidr %(cidr)s "" ""of subnet %(sub_id)s"") % data) raise n_exc.BadRequest(resource='router', msg=msg) def _get_device_owner(self, context, router=None): """"""Get device_owner for the specified router."""""" # NOTE(armando-migliaccio): in the base case this is invariant return DEVICE_OWNER_ROUTER_INTF def _validate_interface_info(self, interface_info, for_removal=False): port_id_specified = interface_info and 'port_id' in interface_info subnet_id_specified = interface_info and 'subnet_id' in interface_info if not (port_id_specified or subnet_id_specified): msg = _(""Either subnet_id or port_id must be specified"") raise n_exc.BadRequest(resource='router', msg=msg) for key in ('port_id', 'subnet_id'): if key not in interface_info: continue err = validators.validate_uuid(interface_info[key]) if err: raise n_exc.BadRequest(resource='router', msg=err) if not for_removal: if port_id_specified and subnet_id_specified: msg = _(""Cannot specify both subnet-id and port-id"") raise n_exc.BadRequest(resource='router', msg=msg) return port_id_specified, subnet_id_specified def _check_router_port(self, context, port_id, device_id): """"""Check that a port is available for an attachment to a router :param context: The context of the request. :param port_id: The port to be attached. :param device_id: This method will check that device_id corresponds to the device_id of the port. It raises PortInUse exception if it doesn't. :returns: The port description returned by the core plugin. :raises: PortInUse if the device_id is not the same as the port's one. :raises: BadRequest if the port has no fixed IP. """""" port = self._core_plugin.get_port(context, port_id) if port['device_id'] != device_id: raise n_exc.PortInUse(net_id=port['network_id'], port_id=port['id'], device_id=port['device_id']) if not port['fixed_ips']: msg = _('Router port must have at least one fixed IP') raise n_exc.BadRequest(resource='router', msg=msg) return port def _validate_port_in_range_or_admin(self, context, subnets, port): if context.is_admin: return subnets_by_id = {} for s in subnets: addr_set = netaddr.IPSet() for range in s['allocation_pools']: addr_set.add(netaddr.IPRange(netaddr.IPAddress(range['start']), netaddr.IPAddress(range['end']))) subnets_by_id[s['id']] = (addr_set, s['project_id'],) for subnet_id, ip in [(fix_ip['subnet_id'], fix_ip['ip_address'],) for fix_ip in port['fixed_ips']]: if (ip not in subnets_by_id[subnet_id][0] and context.project_id != subnets_by_id[subnet_id][1]): msg = (_('Cannot add interface to router because specified ' 'port %(port)s has an IP address out of the ' 'allocation pool of subnet %(subnet)s, which is not ' 'owned by the project making the request') % {'port': port['id'], 'subnet': subnet_id}) raise n_exc.BadRequest(resource='router', msg=msg) def _validate_router_port_info(self, context, router, port_id): with db_api.autonested_transaction(context.session): # check again within transaction to mitigate race port = self._check_router_port(context, port_id, router.id) # Only allow one router port with IPv6 subnets per network id if self._port_has_ipv6_address(port): for existing_port in (rp.port for rp in router.attached_ports): if (existing_port['network_id'] == port['network_id'] and self._port_has_ipv6_address(existing_port)): msg = _(""Cannot have multiple router ports with the "" ""same network id if both contain IPv6 "" ""subnets. Existing port %(p)s has IPv6 "" ""subnet(s) and network id %(nid)s"") raise n_exc.BadRequest(resource='router', msg=msg % { 'p': existing_port['id'], 'nid': existing_port['network_id']}) fixed_ips = [ip for ip in port['fixed_ips']] subnets = [] for fixed_ip in fixed_ips: subnet = self._core_plugin.get_subnet(context, fixed_ip['subnet_id']) subnets.append(subnet) if subnets: self._check_for_dup_router_subnets(context, router, port['network_id'], subnets) # Keep the restriction against multiple IPv4 subnets if len([s for s in subnets if s['ip_version'] == 4]) > 1: msg = _(""Cannot have multiple "" ""IPv4 subnets on router port"") raise n_exc.BadRequest(resource='router', msg=msg) self._validate_port_in_range_or_admin(context, subnets, port) return port, subnets def _notify_attaching_interface(self, context, router_db, port, interface_info): """"""Notify third party code that an interface is being attached to a router :param context: The context of the request. :param router_db: The router db object having an interface attached. :param port: The port object being attached to the router. :param interface_info: The requested interface attachment info passed to add_router_interface. :raises: RouterInterfaceAttachmentConflict if a third party code prevent the port to be attach to the router. """""" try: registry.notify(resources.ROUTER_INTERFACE, events.BEFORE_CREATE, self, context=context, router_db=router_db, port=port, interface_info=interface_info, router_id=router_db.id, network_id=port['network_id']) except exceptions.CallbackFailure as e: # raise the underlying exception reason = (_('cannot perform router interface attachment ' 'due to %(reason)s') % {'reason': e}) raise l3.RouterInterfaceAttachmentConflict(reason=reason) def _add_interface_by_port(self, context, router, port_id, owner): # Update owner before actual process in order to avoid the # case where a port might get attached to a router without the # owner successfully updating due to an unavailable backend. self._core_plugin.update_port( context, port_id, {'port': {'device_id': router.id, 'device_owner': owner}}) return self._validate_router_port_info(context, router, port_id) def _port_has_ipv6_address(self, port): for fixed_ip in port['fixed_ips']: if netaddr.IPNetwork(fixed_ip['ip_address']).version == 6: return True def _find_ipv6_router_port_by_network(self, context, router, net_id): router_dev_owner = self._get_device_owner(context, router) for port in router.attached_ports: p = port['port'] if p['device_owner'] != router_dev_owner: # we don't want any special purpose internal ports continue if p['network_id'] == net_id and self._port_has_ipv6_address(p): return port def _add_interface_by_subnet(self, context, router, subnet_id, owner): subnet = self._core_plugin.get_subnet(context, subnet_id) if not subnet['gateway_ip']: msg = _('Subnet for router interface must have a gateway IP') raise n_exc.BadRequest(resource='router', msg=msg) if subnet['project_id'] != context.project_id and not context.is_admin: msg = (_('Cannot add interface to router because subnet %s is not ' 'owned by project making the request') % subnet_id) raise n_exc.BadRequest(resource='router', msg=msg) if (subnet['ip_version'] == 6 and subnet['ipv6_ra_mode'] is None and subnet['ipv6_address_mode'] is not None): msg = (_('IPv6 subnet %s configured to receive RAs from an ' 'external router cannot be added to Neutron Router.') % subnet['id']) raise n_exc.BadRequest(resource='router', msg=msg) self._check_for_dup_router_subnets(context, router, subnet['network_id'], [subnet]) fixed_ip = {'ip_address': subnet['gateway_ip'], 'subnet_id': subnet['id']} if (subnet['ip_version'] == 6 and not ipv6_utils.is_ipv6_pd_enabled(subnet)): # Add new prefix to an existing ipv6 port with the same network id # if one exists port = self._find_ipv6_router_port_by_network(context, router, subnet['network_id']) if port: fixed_ips = list(map(dict, port['port']['fixed_ips'])) fixed_ips.append(fixed_ip) return self._core_plugin.update_port(context, port['port_id'], {'port': {'fixed_ips': fixed_ips}}), [subnet], False port_data = {'tenant_id': router.tenant_id, 'network_id': subnet['network_id'], 'fixed_ips': [fixed_ip], 'admin_state_up': True, 'device_id': router.id, 'device_owner': owner, 'name': ''} return p_utils.create_port(self._core_plugin, context, {'port': port_data}), [subnet], True @staticmethod def _make_router_interface_info( router_id, tenant_id, port_id, network_id, subnet_id, subnet_ids): return { 'id': router_id, 'tenant_id': tenant_id, 'port_id': port_id, 'network_id': network_id, 'subnet_id': subnet_id, # deprecated by IPv6 multi-prefix 'subnet_ids': subnet_ids } @db_api.retry_if_session_inactive() def add_router_interface(self, context, router_id, interface_info=None): router = self._get_router(context, router_id) add_by_port, add_by_sub = self._validate_interface_info(interface_info) device_owner = self._get_device_owner(context, router_id) # This should be True unless adding an IPv6 prefix to an existing port new_router_intf = True cleanup_port = False if add_by_port: port_id = interface_info['port_id'] port = self._check_router_port(context, port_id, '') revert_value = {'device_id': '', 'device_owner': port['device_owner']} with p_utils.update_port_on_error( self._core_plugin, context, port_id, revert_value): port, subnets = self._add_interface_by_port( context, router, port_id, device_owner) # add_by_subnet is not used here, because the validation logic of # _validate_interface_info ensures that either of add_by_* is True. else: port, subnets, new_router_intf = self._add_interface_by_subnet( context, router, interface_info['subnet_id'], device_owner) cleanup_port = new_router_intf # only cleanup port we created revert_value = {'device_id': '', 'device_owner': port['device_owner']} if cleanup_port: mgr = p_utils.delete_port_on_error( self._core_plugin, context, port['id']) else: mgr = p_utils.update_port_on_error( self._core_plugin, context, port['id'], revert_value) if new_router_intf: with mgr: self._notify_attaching_interface(context, router_db=router, port=port, interface_info=interface_info) self._add_router_port( context, port['id'], router.id, device_owner) gw_ips = [] gw_network_id = None if router.gw_port: gw_network_id = router.gw_port.network_id gw_ips = [x['ip_address'] for x in router.gw_port.fixed_ips] registry.notify(resources.ROUTER_INTERFACE, events.AFTER_CREATE, self, context=context, network_id=gw_network_id, gateway_ips=gw_ips, cidrs=[x['cidr'] for x in subnets], subnets=subnets, port_id=port['id'], router_id=router_id, port=port, new_interface=new_router_intf, interface_info=interface_info) return self._make_router_interface_info( router.id, port['tenant_id'], port['id'], port['network_id'], subnets[-1]['id'], [subnet['id'] for subnet in subnets]) @db_api.retry_if_session_inactive() def _add_router_port(self, context, port_id, router_id, device_owner): l3_obj.RouterPort( context, port_id=port_id, router_id=router_id, port_type=device_owner ).create() # Update owner after actual process again in order to # make sure the records in routerports table and ports # table are consistent. self._core_plugin.update_port( context, port_id, {'port': {'device_id': router_id, 'device_owner': device_owner}}) def _confirm_router_interface_not_in_use(self, context, router_id, subnet_id): subnet = self._core_plugin.get_subnet(context, subnet_id) subnet_cidr = netaddr.IPNetwork(subnet['cidr']) fip_qry = context.session.query(l3_models.FloatingIP) try: kwargs = {'context': context, 'router_id': router_id, 'subnet_id': subnet_id} registry.notify( resources.ROUTER_INTERFACE, events.BEFORE_DELETE, self, **kwargs) except exceptions.CallbackFailure as e: # NOTE(armax): preserve old check's behavior if len(e.errors) == 1: raise e.errors[0].error raise l3.RouterInUse(router_id=router_id, reason=e) for fip_db in fip_qry.filter_by(router_id=router_id): if netaddr.IPAddress(fip_db['fixed_ip_address']) in subnet_cidr: raise l3.RouterInterfaceInUseByFloatingIP( router_id=router_id, subnet_id=subnet_id) def _remove_interface_by_port(self, context, router_id, port_id, subnet_id, owner): obj = l3_obj.RouterPort.get_object( context, port_id=port_id, router_id=router_id, port_type=owner ) if obj: try: port = self._core_plugin.get_port(context, obj.port_id) except n_exc.PortNotFound: raise l3.RouterInterfaceNotFound(router_id=router_id, port_id=port_id) else: raise l3.RouterInterfaceNotFound(router_id=router_id, port_id=port_id) port_subnet_ids = [fixed_ip['subnet_id'] for fixed_ip in port['fixed_ips']] if subnet_id and subnet_id not in port_subnet_ids: raise n_exc.SubnetMismatchForPort( port_id=port_id, subnet_id=subnet_id) subnets = [self._core_plugin.get_subnet(context, port_subnet_id) for port_subnet_id in port_subnet_ids] for port_subnet_id in port_subnet_ids: self._confirm_router_interface_not_in_use( context, router_id, port_subnet_id) self._core_plugin.delete_port(context, port['id'], l3_port_check=False) return (port, subnets) def _remove_interface_by_subnet(self, context, router_id, subnet_id, owner): self._confirm_router_interface_not_in_use( context, router_id, subnet_id) subnet = self._core_plugin.get_subnet(context, subnet_id) try: ports = port_obj.Port.get_ports_by_router( context, router_id, owner, subnet) for p in ports: try: p = self._core_plugin.get_port(context, p.id) except n_exc.PortNotFound: continue port_subnets = [fip['subnet_id'] for fip in p['fixed_ips']] if subnet_id in port_subnets and len(port_subnets) > 1: # multiple prefix port - delete prefix from port fixed_ips = [dict(fip) for fip in p['fixed_ips'] if fip['subnet_id'] != subnet_id] self._core_plugin.update_port(context, p['id'], {'port': {'fixed_ips': fixed_ips}}) return (p, [subnet]) elif subnet_id in port_subnets: # only one subnet on port - delete the port self._core_plugin.delete_port(context, p['id'], l3_port_check=False) return (p, [subnet]) except exc.NoResultFound: pass raise l3.RouterInterfaceNotFoundForSubnet(router_id=router_id, subnet_id=subnet_id) @db_api.retry_if_session_inactive() def remove_router_interface(self, context, router_id, interface_info): remove_by_port, remove_by_subnet = ( self._validate_interface_info(interface_info, for_removal=True) ) port_id = interface_info.get('port_id') subnet_id = interface_info.get('subnet_id') device_owner = self._get_device_owner(context, router_id) if remove_by_port: port, subnets = self._remove_interface_by_port(context, router_id, port_id, subnet_id, device_owner) # remove_by_subnet is not used here, because the validation logic of # _validate_interface_info ensures that at least one of remote_by_* # is True. else: port, subnets = self._remove_interface_by_subnet( context, router_id, subnet_id, device_owner) gw_network_id = None gw_ips = [] router = self._get_router(context, router_id) if router.gw_port: gw_network_id = router.gw_port.network_id gw_ips = [x['ip_address'] for x in router.gw_port.fixed_ips] registry.notify(resources.ROUTER_INTERFACE, events.AFTER_DELETE, self, context=context, cidrs=[x['cidr'] for x in subnets], network_id=gw_network_id, gateway_ips=gw_ips, port=port, router_id=router_id, interface_info=interface_info) return self._make_router_interface_info(router_id, port['tenant_id'], port['id'], port['network_id'], subnets[0]['id'], [subnet['id'] for subnet in subnets]) def _get_floatingip(self, context, id): try: floatingip = model_query.get_by_id( context, l3_models.FloatingIP, id) except exc.NoResultFound: raise l3.FloatingIPNotFound(floatingip_id=id) return floatingip def _make_floatingip_dict(self, floatingip, fields=None, process_extensions=True): res = {'id': floatingip['id'], 'tenant_id': floatingip['tenant_id'], 'floating_ip_address': floatingip['floating_ip_address'], 'floating_network_id': floatingip['floating_network_id'], 'router_id': floatingip['router_id'], 'port_id': floatingip['fixed_port_id'], 'fixed_ip_address': floatingip['fixed_ip_address'], 'status': floatingip['status']} # NOTE(mlavalle): The following assumes this mixin is used in a # class inheriting from CommonDbMixin, which is true for all existing # plugins. if process_extensions: resource_extend.apply_funcs(l3.FLOATINGIPS, res, floatingip) return db_utils.resource_fields(res, fields) def _get_router_for_floatingip(self, context, internal_port, internal_subnet_id, external_network_id): subnet = self._core_plugin.get_subnet(context, internal_subnet_id) return self.get_router_for_floatingip(context, internal_port, subnet, external_network_id) # NOTE(yamamoto): This method is an override point for plugins # inheriting this class. Do not optimize this out. def get_router_for_floatingip(self, context, internal_port, internal_subnet, external_network_id): """"""Find a router to handle the floating-ip association. :param internal_port: The port for the fixed-ip. :param internal_subnet: The subnet for the fixed-ip. :param external_network_id: The external network for floating-ip. :raises: ExternalGatewayForFloatingIPNotFound if no suitable router is found. """""" # Find routers(with router_id and interface address) that # connect given internal subnet and the external network. # Among them, if the router's interface address matches # with subnet's gateway-ip, return that router. # Otherwise return the first router. RouterPort = l3_models.RouterPort gw_port = orm.aliased(models_v2.Port, name=""gw_port"") # TODO(lujinluo): Need IPAllocation and Port object routerport_qry = context.session.query( RouterPort.router_id, models_v2.IPAllocation.ip_address).join( models_v2.Port, models_v2.IPAllocation).filter( models_v2.Port.network_id == internal_port['network_id'], RouterPort.port_type.in_(constants.ROUTER_INTERFACE_OWNERS), models_v2.IPAllocation.subnet_id == internal_subnet['id'] ).join(gw_port, gw_port.device_id == RouterPort.router_id).filter( gw_port.network_id == external_network_id, gw_port.device_owner == DEVICE_OWNER_ROUTER_GW ).distinct() first_router_id = None for router_id, interface_ip in routerport_qry: if interface_ip == internal_subnet['gateway_ip']: return router_id if not first_router_id: first_router_id = router_id if first_router_id: return first_router_id raise l3.ExternalGatewayForFloatingIPNotFound( subnet_id=internal_subnet['id'], external_network_id=external_network_id, port_id=internal_port['id']) def _port_ipv4_fixed_ips(self, port): return [ip for ip in port['fixed_ips'] if netaddr.IPAddress(ip['ip_address']).version == 4] def _internal_fip_assoc_data(self, context, fip, tenant_id): """"""Retrieve internal port data for floating IP. Retrieve information concerning the internal port where the floating IP should be associated to. """""" internal_port = self._core_plugin.get_port(context, fip['port_id']) if internal_port['tenant_id'] != tenant_id and not context.is_admin: port_id = fip['port_id'] msg = (_('Cannot process floating IP association with ' 'Port %s, since that port is owned by a ' 'different tenant') % port_id) raise n_exc.BadRequest(resource='floatingip', msg=msg) internal_subnet_id = None if fip.get('fixed_ip_address'): internal_ip_address = fip['fixed_ip_address'] if netaddr.IPAddress(internal_ip_address).version != 4: msg = (_('Cannot process floating IP association with %s, ' 'since that is not an IPv4 address') % internal_ip_address) raise n_exc.BadRequest(resource='floatingip', msg=msg) for ip in internal_port['fixed_ips']: if ip['ip_address'] == internal_ip_address: internal_subnet_id = ip['subnet_id'] if not internal_subnet_id: msg = (_('Port %(id)s does not have fixed ip %(address)s') % {'id': internal_port['id'], 'address': internal_ip_address}) raise n_exc.BadRequest(resource='floatingip', msg=msg) else: ipv4_fixed_ips = self._port_ipv4_fixed_ips(internal_port) if not ipv4_fixed_ips: msg = (_('Cannot add floating IP to port %s that has ' 'no fixed IPv4 addresses') % internal_port['id']) raise n_exc.BadRequest(resource='floatingip', msg=msg) if len(ipv4_fixed_ips) > 1: msg = (_('Port %s has multiple fixed IPv4 addresses. Must ' 'provide a specific IPv4 address when assigning a ' 'floating IP') % internal_port['id']) raise n_exc.BadRequest(resource='floatingip', msg=msg) internal_ip_address = ipv4_fixed_ips[0]['ip_address'] internal_subnet_id = ipv4_fixed_ips[0]['subnet_id'] return internal_port, internal_subnet_id, internal_ip_address def _get_assoc_data(self, context, fip, floatingip_db): """"""Determine/extract data associated with the internal port. When a floating IP is associated with an internal port, we need to extract/determine some data associated with the internal port, including the internal_ip_address, and router_id. The confirmation of the internal port whether owned by the tenant who owns the floating IP will be confirmed by _get_router_for_floatingip. """""" (internal_port, internal_subnet_id, internal_ip_address) = self._internal_fip_assoc_data( context, fip, floatingip_db['tenant_id']) router_id = self._get_router_for_floatingip( context, internal_port, internal_subnet_id, floatingip_db['floating_network_id']) if self.is_router_distributed(context, router_id): if not can_port_be_bound_to_virtual_bridge(internal_port): msg = _('Port VNIC type is not valid to associate a FIP in ' 'DVR mode') raise n_exc.BadRequest(resource='floatingip', msg=msg) return (fip['port_id'], internal_ip_address, router_id) def _check_and_get_fip_assoc(self, context, fip, floatingip_db): port_id = internal_ip_address = router_id = None if fip.get('fixed_ip_address') and not fip.get('port_id'): msg = _(""fixed_ip_address cannot be specified without a port_id"") raise n_exc.BadRequest(resource='floatingip', msg=msg) if fip.get('port_id'): port_id, internal_ip_address, router_id = self._get_assoc_data( context, fip, floatingip_db) if port_id == floatingip_db.fixed_port_id: # Floating IP association is not changed. return port_id, internal_ip_address, router_id fip_qry = context.session.query(l3_models.FloatingIP) try: fip_qry.filter_by( fixed_port_id=fip['port_id'], floating_network_id=floatingip_db['floating_network_id'], fixed_ip_address=internal_ip_address).one() raise l3.FloatingIPPortAlreadyAssociated( port_id=fip['port_id'], fip_id=floatingip_db['id'], floating_ip_address=floatingip_db['floating_ip_address'], fixed_ip=internal_ip_address, net_id=floatingip_db['floating_network_id']) except exc.NoResultFound: pass if fip and 'port_id' not in fip and floatingip_db.fixed_port_id: # NOTE(liuyulong): without the fix of bug #1610045 here could # also let floating IP can be dissociated with an empty # updating dict. fip['port_id'] = floatingip_db.fixed_port_id port_id, internal_ip_address, router_id = self._get_assoc_data( context, fip, floatingip_db) # After all upper conditions, if updating API dict is submitted with # {'port_id': null}, then the floating IP cloud also be dissociated. return port_id, internal_ip_address, router_id def _update_fip_assoc(self, context, fip, floatingip_db, external_port): previous_router_id = floatingip_db.router_id port_id, internal_ip_address, router_id = ( self._check_and_get_fip_assoc(context, fip, floatingip_db)) update = {'fixed_ip_address': internal_ip_address, 'fixed_port_id': port_id, 'router_id': router_id, 'last_known_router_id': previous_router_id} if 'description' in fip: update['description'] = fip['description'] floatingip_db.update(update) return {'fixed_ip_address': internal_ip_address, 'fixed_port_id': port_id, 'router_id': router_id, 'last_known_router_id': previous_router_id, 'floating_ip_address': floatingip_db.floating_ip_address, 'floating_network_id': floatingip_db.floating_network_id, 'floating_ip_id': floatingip_db.id, 'context': context} def _is_ipv4_network(self, context, net_id): net = self._core_plugin._get_network(context, net_id) return any(s.ip_version == 4 for s in net.subnets) def _create_floatingip(self, context, floatingip, initial_status=constants.FLOATINGIP_STATUS_ACTIVE): fip = floatingip['floatingip'] fip_id = uuidutils.generate_uuid() f_net_id = fip['floating_network_id'] if not self._core_plugin._network_is_external(context, f_net_id): msg = _(""Network %s is not a valid external network"") % f_net_id raise n_exc.BadRequest(resource='floatingip', msg=msg) if not self._is_ipv4_network(context, f_net_id): msg = _(""Network %s does not contain any IPv4 subnet"") % f_net_id raise n_exc.BadRequest(resource='floatingip', msg=msg) # This external port is never exposed to the tenant. # it is used purely for internal system and admin use when # managing floating IPs. port = {'tenant_id': '', # tenant intentionally not set 'network_id': f_net_id, 'admin_state_up': True, 'device_id': 'PENDING', 'device_owner': DEVICE_OWNER_FLOATINGIP, 'status': constants.PORT_STATUS_NOTAPPLICABLE, 'name': ''} if fip.get('floating_ip_address'): port['fixed_ips'] = [ {'ip_address': fip['floating_ip_address']}] if fip.get('subnet_id'): port['fixed_ips'] = [ {'subnet_id': fip['subnet_id']}] # 'status' in port dict could not be updated by default, use # check_allow_post to stop the verification of system external_port = p_utils.create_port(self._core_plugin, context.elevated(), {'port': port}, check_allow_post=False) with p_utils.delete_port_on_error(self._core_plugin, context.elevated(), external_port['id']),\ context.session.begin(subtransactions=True): # Ensure IPv4 addresses are allocated on external port external_ipv4_ips = self._port_ipv4_fixed_ips(external_port) if not external_ipv4_ips: raise n_exc.ExternalIpAddressExhausted(net_id=f_net_id) floating_fixed_ip = external_ipv4_ips[0] floating_ip_address = floating_fixed_ip['ip_address'] floatingip_db = l3_models.FloatingIP( id=fip_id, tenant_id=fip['tenant_id'], status=initial_status, floating_network_id=fip['floating_network_id'], floating_ip_address=floating_ip_address, floating_port_id=external_port['id'], description=fip.get('description')) # Update association with internal port # and define external IP address assoc_result = self._update_fip_assoc(context, fip, floatingip_db, external_port) context.session.add(floatingip_db) floatingip_dict = self._make_floatingip_dict( floatingip_db, process_extensions=False) if self._is_dns_integration_supported: dns_data = self._process_dns_floatingip_create_precommit( context, floatingip_dict, fip) self._core_plugin.update_port(context.elevated(), external_port['id'], {'port': {'device_id': fip_id}}) registry.notify(resources.FLOATING_IP, events.AFTER_UPDATE, self._update_fip_assoc, **assoc_result) if self._is_dns_integration_supported: self._process_dns_floatingip_create_postcommit(context, floatingip_dict, dns_data) resource_extend.apply_funcs(l3.FLOATINGIPS, floatingip_dict, floatingip_db) return floatingip_dict @db_api.retry_if_session_inactive() def create_floatingip(self, context, floatingip, initial_status=constants.FLOATINGIP_STATUS_ACTIVE): return self._create_floatingip(context, floatingip, initial_status) def _update_floatingip(self, context, id, floatingip): fip = floatingip['floatingip'] with context.session.begin(subtransactions=True): floatingip_db = self._get_floatingip(context, id) old_floatingip = self._make_floatingip_dict(floatingip_db) fip_port_id = floatingip_db['floating_port_id'] assoc_result = self._update_fip_assoc( context, fip, floatingip_db, self._core_plugin.get_port(context.elevated(), fip_port_id)) floatingip_dict = self._make_floatingip_dict(floatingip_db) if self._is_dns_integration_supported: dns_data = self._process_dns_floatingip_update_precommit( context, floatingip_dict) registry.notify(resources.FLOATING_IP, events.AFTER_UPDATE, self._update_fip_assoc, **assoc_result) if self._is_dns_integration_supported: self._process_dns_floatingip_update_postcommit(context, floatingip_dict, dns_data) resource_extend.apply_funcs(l3.FLOATINGIPS, floatingip_dict, floatingip_db) return old_floatingip, floatingip_dict def _floatingips_to_router_ids(self, floatingips): return list(set([floatingip['router_id'] for floatingip in floatingips if floatingip['router_id']])) @db_api.retry_if_session_inactive() def update_floatingip(self, context, id, floatingip): _old_floatingip, floatingip = self._update_floatingip( context, id, floatingip) return floatingip @db_api.retry_if_session_inactive() def update_floatingip_status(self, context, floatingip_id, status): """"""Update operational status for floating IP in neutron DB."""""" fip_query = model_query.query_with_hooks( context, l3_models.FloatingIP).filter( l3_models.FloatingIP.id == floatingip_id) fip_query.update({'status': status}, synchronize_session=False) def _delete_floatingip(self, context, id): floatingip = self._get_floatingip(context, id) floatingip_dict = self._make_floatingip_dict(floatingip) if self._is_dns_integration_supported: self._process_dns_floatingip_delete(context, floatingip_dict) # Foreign key cascade will take care of the removal of the # floating IP record once the port is deleted. We can't start # a transaction first to remove it ourselves because the delete_port # method will yield in its post-commit activities. self._core_plugin.delete_port(context.elevated(), floatingip['floating_port_id'], l3_port_check=False) return floatingip_dict @db_api.retry_if_session_inactive() def delete_floatingip(self, context, id): self._delete_floatingip(context, id) @db_api.retry_if_session_inactive() def get_floatingip(self, context, id, fields=None): floatingip = self._get_floatingip(context, id) return self._make_floatingip_dict(floatingip, fields) @db_api.retry_if_session_inactive() def get_floatingips(self, context, filters=None, fields=None, sorts=None, limit=None, marker=None, page_reverse=False): marker_obj = db_utils.get_marker_obj(self, context, 'floatingip', limit, marker) if filters is not None: for key, val in API_TO_DB_COLUMN_MAP.items(): if key in filters: filters[val] = filters.pop(key) return model_query.get_collection(context, l3_models.FloatingIP, self._make_floatingip_dict, filters=filters, fields=fields, sorts=sorts, limit=limit, marker_obj=marker_obj, page_reverse=page_reverse) @db_api.retry_if_session_inactive() def delete_disassociated_floatingips(self, context, network_id): query = model_query.query_with_hooks(context, l3_models.FloatingIP) query = query.filter_by(floating_network_id=network_id, fixed_port_id=None, router_id=None) for fip in query: self.delete_floatingip(context, fip.id) @db_api.retry_if_session_inactive() def get_floatingips_count(self, context, filters=None): return model_query.get_collection_count(context, l3_models.FloatingIP, filters=filters) def _router_exists(self, context, router_id): try: self.get_router(context.elevated(), router_id) return True except l3.RouterNotFound: return False def _floating_ip_exists(self, context, floating_ip_id): try: self.get_floatingip(context, floating_ip_id) return True except l3.FloatingIPNotFound: return False def prevent_l3_port_deletion(self, context, port_id): """"""Checks to make sure a port is allowed to be deleted. Raises an exception if this is not the case. This should be called by any plugin when the API requests the deletion of a port, since some ports for L3 are not intended to be deleted directly via a DELETE to /ports, but rather via other API calls that perform the proper deletion checks. """""" try: port = self._core_plugin.get_port(context, port_id) except n_exc.PortNotFound: # non-existent ports don't need to be protected from deletion return if port['device_owner'] not in self.router_device_owners: return # Raise port in use only if the port has IP addresses # Otherwise it's a stale port that can be removed fixed_ips = port['fixed_ips'] if not fixed_ips: LOG.debug(""Port %(port_id)s has owner %(port_owner)s, but "" ""no IP address, so it can be deleted"", {'port_id': port['id'], 'port_owner': port['device_owner']}) return # NOTE(kevinbenton): we also check to make sure that the # router still exists. It's possible for HA router interfaces # to remain after the router is deleted if they encounter an # error during deletion. # Elevated context in case router is owned by another tenant if port['device_owner'] == DEVICE_OWNER_FLOATINGIP: if not self._floating_ip_exists(context, port['device_id']): LOG.debug(""Floating IP %(f_id)s corresponding to port "" ""%(port_id)s no longer exists, allowing deletion."", {'f_id': port['device_id'], 'port_id': port['id']}) return elif not self._router_exists(context, port['device_id']): LOG.debug(""Router %(router_id)s corresponding to port "" ""%(port_id)s no longer exists, allowing deletion."", {'router_id': port['device_id'], 'port_id': port['id']}) return reason = _('has device owner %s') % port['device_owner'] raise n_exc.ServicePortInUse(port_id=port['id'], reason=reason) @db_api.retry_if_session_inactive() def disassociate_floatingips(self, context, port_id, do_notify=True): """"""Disassociate all floating IPs linked to specific port. @param port_id: ID of the port to disassociate floating IPs. @param do_notify: whether we should notify routers right away. This parameter is ignored. @return: set of router-ids that require notification updates """""" router_ids = set() with context.session.begin(subtransactions=True): for floating_ip in self._get_floatingips_by_port_id( context, port_id): router_ids.add(floating_ip['router_id']) floating_ip.update({'fixed_port_id': None, 'fixed_ip_address': None, 'router_id': None}) return router_ids def _get_floatingips_by_port_id(self, context, port_id): """"""Helper function to retrieve the fips associated with a port_id."""""" fip_qry = context.session.query(l3_models.FloatingIP) return fip_qry.filter_by(fixed_port_id=port_id).all() def _build_routers_list(self, context, routers, gw_ports): """"""Subclasses can override this to add extra gateway info"""""" return routers def _make_router_dict_with_gw_port(self, router, fields): result = self._make_router_dict(router, fields) if router.get('gw_port'): result['gw_port'] = self._core_plugin._make_port_dict( router['gw_port']) return result def _get_sync_routers(self, context, router_ids=None, active=None): """"""Query routers and their gw ports for l3 agent. Query routers with the router_ids. The gateway ports, if any, will be queried too. l3 agent has an option to deal with only one router id. In addition, when we need to notify the agent the data about only one router (when modification of router, its interfaces, gw_port and floatingips), we will have router_ids. @param router_ids: the list of router ids which we want to query. if it is None, all of routers will be queried. @return: a list of dicted routers with dicted gw_port populated if any """""" filters = {'id': router_ids} if router_ids else {} if active is not None: filters['admin_state_up'] = [active] router_dicts = model_query.get_collection( context, l3_models.Router, self._make_router_dict_with_gw_port, filters=filters) if not router_dicts: return [] gw_ports = dict((r['gw_port']['id'], r['gw_port']) for r in router_dicts if r.get('gw_port')) return self._build_routers_list(context, router_dicts, gw_ports) @staticmethod def _unique_floatingip_iterator(query): """"""Iterates over only one row per floating ip. Ignores others."""""" # Group rows by fip id. They must be sorted by same. q = query.order_by(l3_models.FloatingIP.id) keyfunc = lambda row: row[0]['id'] group_iterator = itertools.groupby(q, keyfunc) # Just hit the first row of each group for key, value in group_iterator: yield six.next(value) def _make_floatingip_dict_with_scope(self, floatingip_db, scope_id): d = self._make_floatingip_dict(floatingip_db) d['fixed_ip_address_scope'] = scope_id return d def _get_sync_floating_ips(self, context, router_ids): """"""Query floating_ips that relate to list of router_ids with scope. This is different than the regular get_floatingips in that it finds the address scope of the fixed IP. The router needs to know this to distinguish it from other scopes. There are a few redirections to go through to discover the address scope from the floating ip. """""" if not router_ids: return [] query = context.session.query(l3_models.FloatingIP, models_v2.SubnetPool.address_scope_id) query = query.join(models_v2.Port, l3_models.FloatingIP.fixed_port_id == models_v2.Port.id) # Outer join of Subnet can cause each ip to have more than one row. query = query.outerjoin(models_v2.Subnet, models_v2.Subnet.network_id == models_v2.Port.network_id) query = query.filter(models_v2.Subnet.ip_version == 4) query = query.outerjoin(models_v2.SubnetPool, models_v2.Subnet.subnetpool_id == models_v2.SubnetPool.id) # Filter out on router_ids query = query.filter(l3_models.FloatingIP.router_id.in_(router_ids)) return [self._make_floatingip_dict_with_scope(*row) for row in self._unique_floatingip_iterator(query)] def _get_sync_interfaces(self, context, router_ids, device_owners=None): """"""Query router interfaces that relate to list of router_ids."""""" device_owners = device_owners or [DEVICE_OWNER_ROUTER_INTF, DEVICE_OWNER_HA_REPLICATED_INT] if not router_ids: return [] # TODO(lujinluo): Need Port as synthetic field objs = l3_obj.RouterPort.get_objects( context, router_id=router_ids, port_type=list(device_owners)) interfaces = [self._core_plugin._make_port_dict(rp.db_obj.port) for rp in objs] return interfaces @staticmethod def _each_port_having_fixed_ips(ports): for port in ports or []: fixed_ips = port.get('fixed_ips', []) if not fixed_ips: # Skip ports without IPs, which can occur if a subnet # attached to a router is deleted LOG.info(""Skipping port %s as no IP is configure on "" ""it"", port['id']) continue yield port def _get_subnets_by_network_list(self, context, network_ids): if not network_ids: return {} query = context.session.query(models_v2.Subnet, models_v2.SubnetPool.address_scope_id) query = query.outerjoin( models_v2.SubnetPool, models_v2.Subnet.subnetpool_id == models_v2.SubnetPool.id) query = query.filter(models_v2.Subnet.network_id.in_(network_ids)) fields = ['id', 'cidr', 'gateway_ip', 'dns_nameservers', 'network_id', 'ipv6_ra_mode', 'subnetpool_id'] def make_subnet_dict_with_scope(row): subnet_db, address_scope_id = row subnet = self._core_plugin._make_subnet_dict( subnet_db, fields, context=context) subnet['address_scope_id'] = address_scope_id return subnet subnets_by_network = dict((id, []) for id in network_ids) for subnet in (make_subnet_dict_with_scope(row) for row in query): subnets_by_network[subnet['network_id']].append(subnet) return subnets_by_network def _get_mtus_by_network_list(self, context, network_ids): if not network_ids: return {} filters = {'id': network_ids} fields = ['id', 'mtu'] networks = self._core_plugin.get_networks(context, filters=filters, fields=fields) mtus_by_network = dict((network['id'], network.get('mtu', 0)) for network in networks) return mtus_by_network def _populate_mtu_and_subnets_for_ports(self, context, ports): """"""Populate ports with subnets. These ports already have fixed_ips populated. """""" network_ids = [p['network_id'] for p in self._each_port_having_fixed_ips(ports)] mtus_by_network = self._get_mtus_by_network_list(context, network_ids) subnets_by_network = self._get_subnets_by_network_list( context, network_ids) for port in self._each_port_having_fixed_ips(ports): port['subnets'] = [] port['extra_subnets'] = [] port['address_scopes'] = {constants.IP_VERSION_4: None, constants.IP_VERSION_6: None} scopes = {} for subnet in subnets_by_network[port['network_id']]: scope = subnet['address_scope_id'] cidr = netaddr.IPNetwork(subnet['cidr']) scopes[cidr.version] = scope # If this subnet is used by the port (has a matching entry # in the port's fixed_ips), then add this subnet to the # port's subnets list, and populate the fixed_ips entry # entry with the subnet's prefix length. subnet_info = {'id': subnet['id'], 'cidr': subnet['cidr'], 'gateway_ip': subnet['gateway_ip'], 'dns_nameservers': subnet['dns_nameservers'], 'ipv6_ra_mode': subnet['ipv6_ra_mode'], 'subnetpool_id': subnet['subnetpool_id']} for fixed_ip in port['fixed_ips']: if fixed_ip['subnet_id'] == subnet['id']: port['subnets'].append(subnet_info) prefixlen = cidr.prefixlen fixed_ip['prefixlen'] = prefixlen break else: # This subnet is not used by the port. port['extra_subnets'].append(subnet_info) port['address_scopes'].update(scopes) port['mtu'] = mtus_by_network.get(port['network_id'], 0) def _process_floating_ips(self, context, routers_dict, floating_ips): for floating_ip in floating_ips: router = routers_dict.get(floating_ip['router_id']) if router: router_floatingips = router.get(constants.FLOATINGIP_KEY, []) router_floatingips.append(floating_ip) router[constants.FLOATINGIP_KEY] = router_floatingips def _process_interfaces(self, routers_dict, interfaces): for interface in interfaces: router = routers_dict.get(interface['device_id']) if router: router_interfaces = router.get(constants.INTERFACE_KEY, []) router_interfaces.append(interface) router[constants.INTERFACE_KEY] = router_interfaces def _get_router_info_list(self, context, router_ids=None, active=None, device_owners=None): """"""Query routers and their related floating_ips, interfaces."""""" with context.session.begin(subtransactions=True): routers = self._get_sync_routers(context, router_ids=router_ids, active=active) router_ids = [router['id'] for router in routers] interfaces = self._get_sync_interfaces( context, router_ids, device_owners) floating_ips = self._get_sync_floating_ips(context, router_ids) return (routers, interfaces, floating_ips) def get_sync_data(self, context, router_ids=None, active=None): routers, interfaces, floating_ips = self._get_router_info_list( context, router_ids=router_ids, active=active) ports_to_populate = [router['gw_port'] for router in routers if router.get('gw_port')] + interfaces self._populate_mtu_and_subnets_for_ports(context, ports_to_populate) routers_dict = dict((router['id'], router) for router in routers) self._process_floating_ips(context, routers_dict, floating_ips) self._process_interfaces(routers_dict, interfaces) return list(routers_dict.values()) def is_router_distributed(self, context, router_id): """"""Returns if a router is distributed or not If DVR extension is not enabled, no router will be distributed. This function is overridden in L3_NAT_with_dvr_db_mixin in case the DVR extension is loaded. """""" return False @registry.has_registry_receivers class L3RpcNotifierMixin(object): """"""Mixin class to add rpc notifier attribute to db_base_plugin_v2."""""" @staticmethod @registry.receives(resources.PORT, [events.AFTER_DELETE]) def _notify_routers_callback(resource, event, trigger, **kwargs): context = kwargs['context'] router_ids = kwargs['router_ids'] l3plugin = directory.get_plugin(plugin_constants.L3) if l3plugin: l3plugin.notify_routers_updated(context, router_ids) else: LOG.debug('%s not configured', plugin_constants.L3) @staticmethod @registry.receives(resources.SUBNET, [events.AFTER_UPDATE]) def _notify_subnet_gateway_ip_update(resource, event, trigger, **kwargs): l3plugin = directory.get_plugin(plugin_constants.L3) if not l3plugin: return context = kwargs['context'] orig = kwargs['original_subnet'] updated = kwargs['subnet'] if orig['gateway_ip'] == updated['gateway_ip']: return network_id = updated['network_id'] subnet_id = updated['id'] query = context.session.query(models_v2.Port).filter_by( network_id=network_id, device_owner=DEVICE_OWNER_ROUTER_GW) query = query.join(models_v2.Port.fixed_ips).filter( models_v2.IPAllocation.subnet_id == subnet_id) router_ids = set(port['device_id'] for port in query) for router_id in router_ids: l3plugin.notify_router_updated(context, router_id) @staticmethod @registry.receives(resources.SUBNETPOOL_ADDRESS_SCOPE, [events.AFTER_UPDATE]) def _notify_subnetpool_address_scope_update(resource, event, trigger, **kwargs): context = kwargs['context'] subnetpool_id = kwargs['subnetpool_id'] router_ids = l3_obj.RouterPort.get_router_ids_by_subnetpool( context, subnetpool_id) l3plugin = directory.get_plugin(plugin_constants.L3) if l3plugin: l3plugin.notify_routers_updated(context, router_ids) else: LOG.debug('%s not configured', plugin_constants.L3) @property def l3_rpc_notifier(self): if not hasattr(self, '_l3_rpc_notifier'): self._l3_rpc_notifier = l3_rpc_agent_api.L3AgentNotifyAPI() return self._l3_rpc_notifier @l3_rpc_notifier.setter def l3_rpc_notifier(self, value): self._l3_rpc_notifier = value def notify_router_updated(self, context, router_id, operation=None): if router_id: self.l3_rpc_notifier.routers_updated( context, [router_id], operation) def notify_routers_updated(self, context, router_ids, operation=None, data=None): if router_ids: self.l3_rpc_notifier.routers_updated( context, router_ids, operation, data) def notify_router_deleted(self, context, router_id): self.l3_rpc_notifier.router_deleted(context, router_id) class L3_NAT_db_mixin(L3_NAT_dbonly_mixin, L3RpcNotifierMixin): """"""Mixin class to add rpc notifier methods to db_base_plugin_v2."""""" def create_router(self, context, router): router_dict = super(L3_NAT_db_mixin, self).create_router(context, router) if router_dict.get('external_gateway_info'): self.notify_router_updated(context, router_dict['id'], None) return router_dict def update_router(self, context, id, router): router_dict = super(L3_NAT_db_mixin, self).update_router(context, id, router) self.notify_router_updated(context, router_dict['id'], None) return router_dict def delete_router(self, context, id): super(L3_NAT_db_mixin, self).delete_router(context, id) self.notify_router_deleted(context, id) def notify_router_interface_action( self, context, router_interface_info, action): l3_method = '%s_router_interface' % action super(L3_NAT_db_mixin, self).notify_routers_updated( context, [router_interface_info['id']], l3_method, {'subnet_id': router_interface_info['subnet_id']}) mapping = {'add': 'create', 'remove': 'delete'} notifier = n_rpc.get_notifier('network') router_event = 'router.interface.%s' % mapping[action] notifier.info(context, router_event, {'router_interface': router_interface_info}) def add_router_interface(self, context, router_id, interface_info=None): router_interface_info = super( L3_NAT_db_mixin, self).add_router_interface( context, router_id, interface_info) self.notify_router_interface_action( context, router_interface_info, 'add') return router_interface_info def remove_router_interface(self, context, router_id, interface_info): router_interface_info = super( L3_NAT_db_mixin, self).remove_router_interface( context, router_id, interface_info) self.notify_router_interface_action( context, router_interface_info, 'remove') return router_interface_info def create_floatingip(self, context, floatingip, initial_status=constants.FLOATINGIP_STATUS_ACTIVE): floatingip_dict = super(L3_NAT_db_mixin, self).create_floatingip( context, floatingip, initial_status) router_id = floatingip_dict['router_id'] self.notify_router_updated(context, router_id, 'create_floatingip') return floatingip_dict def update_floatingip(self, context, id, floatingip): old_floatingip, floatingip = self._update_floatingip( context, id, floatingip) router_ids = self._floatingips_to_router_ids( [old_floatingip, floatingip]) super(L3_NAT_db_mixin, self).notify_routers_updated( context, router_ids, 'update_floatingip', {}) return floatingip def delete_floatingip(self, context, id): floating_ip = self._delete_floatingip(context, id) self.notify_router_updated(context, floating_ip['router_id'], 'delete_floatingip') def disassociate_floatingips(self, context, port_id, do_notify=True): """"""Disassociate all floating IPs linked to specific port. @param port_id: ID of the port to disassociate floating IPs. @param do_notify: whether we should notify routers right away. @return: set of router-ids that require notification updates if do_notify is False, otherwise None. """""" router_ids = super(L3_NAT_db_mixin, self).disassociate_floatingips( context, port_id, do_notify) if do_notify: self.notify_routers_updated(context, router_ids) # since caller assumes that we handled notifications on its # behalf, return nothing return return router_ids def notify_routers_updated(self, context, router_ids): super(L3_NAT_db_mixin, self).notify_routers_updated( context, list(router_ids), 'disassociate_floatingips', {}) def _migrate_router_ports( self, context, router_db, old_owner, new_owner): """"""Update the model to support the dvr case of a router."""""" for rp in router_db.attached_ports.filter_by(port_type=old_owner): rp.port_type = new_owner rp.port.device_owner = new_owner @removals.remove( message=""This will be removed in the Pike release. "" ""Subscriptions are now registered during object creation."" ) def subscribe(): pass ",,2070,0
openstack%2Frally~master~I950c82353d88bc89a96ce3c9481ee45571d5d2ba,openstack/rally,master,I950c82353d88bc89a96ce3c9481ee45571d5d2ba,[CI] check the return value of `rally task`,MERGED,2019-01-17 07:55:35.000000000,2019-01-24 12:59:36.000000000,2019-01-24 12:59:36.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 07:55:35.000000000', 'files': ['tests/ci/rally_self_job.sh'], 'web_link': 'https://opendev.org/openstack/rally/commit/1cb01a5f2d5ce3ae21eb46138bc1d92791c15f6f', 'message': '[CI] check the return value of `rally task`\n\nThe value 2 is sla error, the ci should continue to work.\nIt would be easy to find out the failed workload via `rally\ntask sla-check`.\n\nChange-Id: I950c82353d88bc89a96ce3c9481ee45571d5d2ba\n'}]",0,631447,1cb01a5f2d5ce3ae21eb46138bc1d92791c15f6f,6,2,1,21528,,,0,"[CI] check the return value of `rally task`

The value 2 is sla error, the ci should continue to work.
It would be easy to find out the failed workload via `rally
task sla-check`.

Change-Id: I950c82353d88bc89a96ce3c9481ee45571d5d2ba
",git fetch https://review.opendev.org/openstack/rally refs/changes/47/631447/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ci/rally_self_job.sh'],1,1cb01a5f2d5ce3ae21eb46138bc1d92791c15f6f,sla.check,set +eif [ $? -eq 1 ]; then exit 1 fi set -e ,,6,0
openstack%2Frally~master~I84a9b26cde552d84ad8a2495ea4cf6f8e073dcf6,openstack/rally,master,I84a9b26cde552d84ad8a2495ea4cf6f8e073dcf6,Bump upper constraints to fix conflicts,MERGED,2019-01-17 14:52:52.000000000,2019-01-24 12:59:35.000000000,2019-01-24 12:59:34.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 14:52:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/rally/commit/3eeb0dd92c270bb8e7b8a67a0b596d2f49b90cf9', 'message': ""Bump upper constraints to fix conflicts\n\nWithout these changes, I'm currently seeing:\n\n  python-novaclient 11.1.0 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.\n  python-magnumclient 2.11.0 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.\n  python-watcherclient 2.2.0 has requirement oslo.i18n>=3.20.0, but you'll have oslo-i18n 3.19.0 which is incompatible.\n  python-watcherclient 2.2.0 has requirement oslo.utils>=3.36.0, but you'll have oslo-utils 3.35.0 which is incompatible.\n  python-watcherclient 2.2.0 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.\n  kubernetes 8.0.1 has requirement urllib3>=1.23, but you'll have urllib3 1.22 which is incompatible.\n  python-monascaclient 1.12.1 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.\n  python-heatclient 1.17.0 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.\n  python-troveclient 2.17.0 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.\n  python-muranoclient 1.1.1 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.\n  python-senlinclient 1.9.0 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.\n  cliff 2.14.0 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.\n  osprofiler 2.5.2 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.\n  python-watcherclient 2.2.0 has requirement oslo.i18n>=3.20.0, but you'll have oslo-i18n 3.19.0 which is incompatible.\n  python-watcherclient 2.2.0 has requirement oslo.utils>=3.36.0, but you'll have oslo-utils 3.35.0 which is incompatible.\n  kubernetes 8.0.1 has requirement urllib3>=1.23, but you'll have urllib3 1.22 which is incompatible.\n  requests 2.19.1 has requirement urllib3<1.24,>=1.21.1, but you'll have urllib3 1.24 which is incompatible.\n\nwhen installing rally-openstack with pip:\n\n  git clone https://github.com/openstack/rally-openstack\n  cd rally-openstack\n  pip install .\n\nand then subsequently trying to run rally:\n\n  (venv-rally) [will@dev-director rally-openstack]$ rally deployment create --fromenv --name existing\n  2019-01-17 14:10:09.005 21837 WARNING rally.common.plugin.discover [-]         Failed to load plugins from module 'rally_openstack' (package: 'rally-opensta\\\nck 1.3.1.dev70'): (prettytable 0.7.1 (/home/will/venv-rally/lib/python2.7/site-packages), Requirement.parse('PrettyTable<0.8,>=0.7.2'), set(['python-novaclien\\\nt', 'python-magnumclient', 'python-watcherclient', 'python-monascaclient', 'python-heatclient', 'python-troveclient', 'python-muranoclient', 'python-senlincli\\\nent', 'osprofiler'])): ContextualVersionConflict: (prettytable 0.7.1 (/home/will/venv-rally/lib/python2.7/site-packages), Requirement.parse('PrettyTable<0.8,>\\\n=0.7.2'), set(['python-novaclient', 'python-magnumclient', 'python-watcherclient', 'python-monascaclient', 'python-heatclient', 'python-troveclient', 'python-\\\nmuranoclient', 'python-senlinclient', 'osprofiler']))\n\nChange-Id: I84a9b26cde552d84ad8a2495ea4cf6f8e073dcf6\n""}]",0,631524,3eeb0dd92c270bb8e7b8a67a0b596d2f49b90cf9,6,2,1,28048,,,0,"Bump upper constraints to fix conflicts

Without these changes, I'm currently seeing:

  python-novaclient 11.1.0 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.
  python-magnumclient 2.11.0 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.
  python-watcherclient 2.2.0 has requirement oslo.i18n>=3.20.0, but you'll have oslo-i18n 3.19.0 which is incompatible.
  python-watcherclient 2.2.0 has requirement oslo.utils>=3.36.0, but you'll have oslo-utils 3.35.0 which is incompatible.
  python-watcherclient 2.2.0 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.
  kubernetes 8.0.1 has requirement urllib3>=1.23, but you'll have urllib3 1.22 which is incompatible.
  python-monascaclient 1.12.1 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.
  python-heatclient 1.17.0 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.
  python-troveclient 2.17.0 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.
  python-muranoclient 1.1.1 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.
  python-senlinclient 1.9.0 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.
  cliff 2.14.0 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.
  osprofiler 2.5.2 has requirement PrettyTable<0.8,>=0.7.2, but you'll have prettytable 0.7.1 which is incompatible.
  python-watcherclient 2.2.0 has requirement oslo.i18n>=3.20.0, but you'll have oslo-i18n 3.19.0 which is incompatible.
  python-watcherclient 2.2.0 has requirement oslo.utils>=3.36.0, but you'll have oslo-utils 3.35.0 which is incompatible.
  kubernetes 8.0.1 has requirement urllib3>=1.23, but you'll have urllib3 1.22 which is incompatible.
  requests 2.19.1 has requirement urllib3<1.24,>=1.21.1, but you'll have urllib3 1.24 which is incompatible.

when installing rally-openstack with pip:

  git clone https://github.com/openstack/rally-openstack
  cd rally-openstack
  pip install .

and then subsequently trying to run rally:

  (venv-rally) [will@dev-director rally-openstack]$ rally deployment create --fromenv --name existing
  2019-01-17 14:10:09.005 21837 WARNING rally.common.plugin.discover [-]         Failed to load plugins from module 'rally_openstack' (package: 'rally-opensta\
ck 1.3.1.dev70'): (prettytable 0.7.1 (/home/will/venv-rally/lib/python2.7/site-packages), Requirement.parse('PrettyTable<0.8,>=0.7.2'), set(['python-novaclien\
t', 'python-magnumclient', 'python-watcherclient', 'python-monascaclient', 'python-heatclient', 'python-troveclient', 'python-muranoclient', 'python-senlincli\
ent', 'osprofiler'])): ContextualVersionConflict: (prettytable 0.7.1 (/home/will/venv-rally/lib/python2.7/site-packages), Requirement.parse('PrettyTable<0.8,>\
=0.7.2'), set(['python-novaclient', 'python-magnumclient', 'python-watcherclient', 'python-monascaclient', 'python-heatclient', 'python-troveclient', 'python-\
muranoclient', 'python-senlinclient', 'osprofiler']))

Change-Id: I84a9b26cde552d84ad8a2495ea4cf6f8e073dcf6
",git fetch https://review.opendev.org/openstack/rally refs/changes/24/631524/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3eeb0dd92c270bb8e7b8a67a0b596d2f49b90cf9,,oslo.i18n==3.23.0 oslo.utils==3.40.0 prettytable==0.7.2 requests==2.21.0 urllib3==1.24.1 ,oslo.i18n==3.19.0 oslo.utils==3.35.0 prettytable==0.7.1 requests==2.19.1 urllib3==1.22 ,5,5
openstack%2Ftripleo-quickstart~master~I7a3829592ce80daee5222d6ced8aae52fea9f25d,openstack/tripleo-quickstart,master,I7a3829592ce80daee5222d6ced8aae52fea9f25d,Add new featureset for running tripleo-ui tests,MERGED,2018-10-02 17:14:04.000000000,2019-01-24 12:57:33.000000000,2019-01-18 16:38:09.000000000,"[{'_account_id': 3153}, {'_account_id': 7509}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10112}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 20970}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-10-02 17:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/71733a1a445a0f87a170834b8934cc65af296a05', 'message': 'Add new featureset for running tripleo-ui tests\n\nThis new featureset is based off featureset027.\n\nIt runs selenium tests for tripleo-ui via undercloud tempest.  It enables the\nheadless chrome container.\n\nTODO: install the tempest-tripleo-ui Python package\n\nChange-Id: I7a3829592ce80daee5222d6ced8aae52fea9f25d\nDepends-On: Ie5892ee14cc5e9bbc09dc79aeac7611bfb26e5bb\nPartially-implements: blueprint automated-ui-testing\n'}, {'number': 2, 'created': '2018-10-02 17:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d860055fb954db59c3a04d35046723a404f880d5', 'message': 'Add new featureset for running tripleo-ui tests\n\nThis new featureset is based off featureset027.\n\nIt runs selenium tests for tripleo-ui via undercloud tempest.  It enables the\nheadless chrome container.\n\nTODO: install the tempest-tripleo-ui Python package\n\nChange-Id: I7a3829592ce80daee5222d6ced8aae52fea9f25d\nDepends-On: Ie5892ee14cc5e9bbc09dc79aeac7611bfb26e5bb\nPartially-implements: blueprint automated-ui-testing\n'}, {'number': 3, 'created': '2018-10-22 13:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0708f30ea1d482a2ea92a6125f9dad837f388eaf', 'message': 'Add new featureset for running tripleo-ui tests\n\nThis new featureset is based off featureset027.\n\nIt runs selenium tests for tripleo-ui via undercloud tempest.  It enables the\nheadless chrome container.\n\nChange-Id: I7a3829592ce80daee5222d6ced8aae52fea9f25d\nDepends-On: Ie5892ee14cc5e9bbc09dc79aeac7611bfb26e5bb\nPartially-implements: blueprint automated-ui-testing\n'}, {'number': 4, 'created': '2018-10-25 17:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/66921bc14d1824317053aba59d744888c389e082', 'message': 'Add new featureset for running tripleo-ui tests\n\nThis new featureset is based off featureset027.\n\nIt runs selenium tests for tripleo-ui via undercloud tempest.  It enables the\nheadless chrome container.\n\nChange-Id: I7a3829592ce80daee5222d6ced8aae52fea9f25d\nDepends-On: Ie5892ee14cc5e9bbc09dc79aeac7611bfb26e5bb\nPartially-implements: blueprint automated-ui-testing\n'}, {'number': 5, 'created': '2018-10-26 08:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a847d01e1dae7779a38d1033e1ecd736427b488f', 'message': 'Add new featureset for running tripleo-ui tests\n\nThis new featureset is based off featureset027.\n\nIt runs selenium tests for tripleo-ui via undercloud tempest.  It enables the\nheadless chrome container.\n\nChange-Id: I7a3829592ce80daee5222d6ced8aae52fea9f25d\nDepends-On: https://review.openstack.org/612377\nPartially-implements: blueprint automated-ui-testing\n'}, {'number': 6, 'created': '2019-01-17 14:00:46.000000000', 'files': ['config/general_config/featureset057.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cc9c302b7271e93543c61ff3ae5d7f5670158d3f', 'message': 'Add new featureset for running tripleo-ui tests\n\nThis new featureset is based off featureset027.\n\nIt runs selenium tests for tripleo-ui via undercloud tempest.  It enables the\nheadless chrome container.\n\nChange-Id: I7a3829592ce80daee5222d6ced8aae52fea9f25d\nDepends-On: Ie5892ee14cc5e9bbc09dc79aeac7611bfb26e5bb\nPartially-implements: blueprint automated-ui-testing\n'}]",3,607325,cc9c302b7271e93543c61ff3ae5d7f5670158d3f,49,14,6,20970,,,0,"Add new featureset for running tripleo-ui tests

This new featureset is based off featureset027.

It runs selenium tests for tripleo-ui via undercloud tempest.  It enables the
headless chrome container.

Change-Id: I7a3829592ce80daee5222d6ced8aae52fea9f25d
Depends-On: Ie5892ee14cc5e9bbc09dc79aeac7611bfb26e5bb
Partially-implements: blueprint automated-ui-testing
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/25/607325/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset056.yml'],1,71733a1a445a0f87a170834b8934cc65af296a05,bp/automated-ui-testing,"# A featureset for running selenium tests for tripleo-ui via tempest # Based off featureset027 extra_args: '' network_isolation: false enable_pacemaker: false overcloud_ipv6: false undercloud_check_sanity: true # containers config containerized_overcloud: false containerized_undercloud: true undercloud_templates_path: /usr/share/openstack-tripleo-heat-templates undercloud_custom_env_files: ""{{ working_dir }}/undercloud-parameter-defaults.yaml"" undercloud_cloud_domain: ""localdomain"" undercloud_undercloud_hostname: ""undercloud.{{ undercloud_cloud_domain }}"" undercloud_resource_registry_args: ""OS::TripleO::Undercloud::Net::SoftwareConfig"": ""{{ undercloud_templates_path }}/net-config-undercloud.yaml"" # turn off image prep step_overcloud_image: false step_glance_upload: false step_register: false step_root_device_size: false step_root_device_hints: false step_introspect: false # This enables TLS for the undercloud which will also make haproxy bind to the # configured public-vip and admin-vip. undercloud_generate_service_certificate: true undercloud_enable_swift_encryption: true # This enables the deployment of the overcloud with SSL. ssl_overcloud: false # tripleo-ui is not working yet enable_port_forward_for_tripleo_ui: false # options below direct automatic doc generation by tripleo-collect-logs artcl_gen_docs: true artcl_create_docs_payload: included_deployment_scripts: - undercloud-deploy - overcloud-custom-tht-script - overcloud-prep-containers - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - tempest-setup - ""{% if run_tempest|bool and tempest_format|default('packages') == 'containers' -%}tempest_container{%- endif -%}"" included_static_docs: - env-setup-virt table_of_contents: - env-setup-virt - undercloud-deploy - overcloud-custom-tht-script - overcloud-prep-containers - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - tempest-setup - ""{% if run_tempest|bool and tempest_format|default('packages') == 'containers' -%}tempest_container{%- endif -%}"" # Tempest configuration, keep always at the end of the file # If `run_tempest` is `true`, run tempests tests, otherwise do not # run them. test_ping: false run_tempest: true test_regex: '' # Enable tempest container undercloud_enable_tempest: true # Run tempest in containers when at least undercloud is containerized tempest_format: >- {% if containerized_undercloud|bool -%} container {%- else -%} packages {%- endif -%} tempest_undercloud: true tempest_overcloud: false tempest_whitelist: >- {{ tempest_whitelist_uc }} tempest_use_headless_chrome: true # Whitelist tripleo-ui tests tempest_whitelist_uc: - 'tempest_tripleo_ui.tests.scenario.test_basic.TestBasic' ",,92,0
openstack%2Fheat~master~I7335b27e77f6a8a4eabfc1eaa9b148093e1ee2cd,openstack/heat,master,I7335b27e77f6a8a4eabfc1eaa9b148093e1ee2cd,Imported Translations from Zanata,MERGED,2019-01-24 06:46:13.000000000,2019-01-24 12:54:17.000000000,2019-01-24 12:54:17.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 06:46:13.000000000', 'files': ['heat/locale/fr/LC_MESSAGES/heat.po', 'heat/locale/ja/LC_MESSAGES/heat.po', 'heat/locale/ko_KR/LC_MESSAGES/heat.po', 'heat/locale/zh_TW/LC_MESSAGES/heat.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'heat/locale/pt_BR/LC_MESSAGES/heat.po', 'heat/locale/ru/LC_MESSAGES/heat.po', 'heat/locale/zh_CN/LC_MESSAGES/heat.po', 'heat/locale/it/LC_MESSAGES/heat.po', 'heat/locale/de/LC_MESSAGES/heat.po', 'heat/locale/es/LC_MESSAGES/heat.po'], 'web_link': 'https://opendev.org/openstack/heat/commit/fb6805a90a0ded6accceea494a4873367c71281a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7335b27e77f6a8a4eabfc1eaa9b148093e1ee2cd\n'}]",0,632937,fb6805a90a0ded6accceea494a4873367c71281a,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7335b27e77f6a8a4eabfc1eaa9b148093e1ee2cd
",git fetch https://review.opendev.org/openstack/heat refs/changes/37/632937/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/locale/fr/LC_MESSAGES/heat.po', 'heat/locale/ja/LC_MESSAGES/heat.po', 'heat/locale/ko_KR/LC_MESSAGES/heat.po', 'heat/locale/zh_TW/LC_MESSAGES/heat.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'heat/locale/pt_BR/LC_MESSAGES/heat.po', 'heat/locale/ru/LC_MESSAGES/heat.po', 'heat/locale/zh_CN/LC_MESSAGES/heat.po', 'heat/locale/it/LC_MESSAGES/heat.po', 'heat/locale/de/LC_MESSAGES/heat.po', 'heat/locale/es/LC_MESSAGES/heat.po']",11,fb6805a90a0ded6accceea494a4873367c71281a,zanata/translations,"""POT-Creation-Date: 2019-01-24 04:18+0000\n""msgid ""HTTP verb to use for signaling output values"" msgstr ""Verbo HTTP a utilizar para indicar valores de salida"" ","""POT-Creation-Date: 2018-10-05 22:20+0000\n""",40,19
openstack%2Frally-openstack~master~I9a85cb74e67dda803872d5ba2e702c77d51744cc,openstack/rally-openstack,master,I9a85cb74e67dda803872d5ba2e702c77d51744cc,Add missing ws seperator between words,MERGED,2019-01-23 03:59:54.000000000,2019-01-24 12:50:11.000000000,2019-01-24 12:50:10.000000000,"[{'_account_id': 20190}, {'_account_id': 21528}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 03:59:54.000000000', 'files': ['rally_openstack/scenarios/cinder/volumes.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ebd1a9304582326538da1084dff8101d321491f6', 'message': 'Add missing ws seperator between words\n\nThis is to add missing ws seperator between words.\n\nChange-Id: I9a85cb74e67dda803872d5ba2e702c77d51744cc\n'}]",0,632608,ebd1a9304582326538da1084dff8101d321491f6,16,3,1,20190,,,0,"Add missing ws seperator between words

This is to add missing ws seperator between words.

Change-Id: I9a85cb74e67dda803872d5ba2e702c77d51744cc
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/08/632608/1 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/scenarios/cinder/volumes.py'],1,ebd1a9304582326538da1084dff8101d321491f6,missing_ws," raise ValueError(""You can not set both 'kwargs' """," raise ValueError(""You can not set both 'kwargs'""",1,1
openstack%2Frally~master~Id358673e58565cae73ac39d1f11f5e8edeab4e67,openstack/rally,master,Id358673e58565cae73ac39d1f11f5e8edeab4e67,Fix the issues of dss key in ssh utils,MERGED,2019-01-21 09:17:17.000000000,2019-01-24 12:47:23.000000000,2019-01-24 12:47:22.000000000,"[{'_account_id': 24}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-21 09:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/0cbe9cbb7cc8b096da5663686a0b36fc18224c0c', 'message': 'Fix the issues of dss key in ssh utils\n\nIt can not load dss key in ssh utils because of the file cursor\nposition.\n\nChange-Id: Id358673e58565cae73ac39d1f11f5e8edeab4e67\nCloses-Bug: #1807870\n'}, {'number': 2, 'created': '2019-01-22 00:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8e0634a7412a1cba015c5069d2f5659fd79136cf', 'message': 'Fix the issues of dss key in ssh utils\n\nIt can not load dss key in ssh utils because of the file cursor\nposition.\n\nChange-Id: Id358673e58565cae73ac39d1f11f5e8edeab4e67\nCloses-Bug: #1807870\n'}, {'number': 3, 'created': '2019-01-23 08:13:01.000000000', 'files': ['rally/common/sshutils.py', 'tests/unit/common/test_sshutils.py', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/cc6f877f5d855ca8adde1cb48caf544bcb969c75', 'message': 'Fix the issues of dss key in ssh utils\n\nIt can not load dss key in ssh utils because of the file cursor\nposition.\n\nChange-Id: Id358673e58565cae73ac39d1f11f5e8edeab4e67\nCloses-Bug: #1807870\n'}]",0,632046,cc6f877f5d855ca8adde1cb48caf544bcb969c75,12,3,3,21528,,,0,"Fix the issues of dss key in ssh utils

It can not load dss key in ssh utils because of the file cursor
position.

Change-Id: Id358673e58565cae73ac39d1f11f5e8edeab4e67
Closes-Bug: #1807870
",git fetch https://review.opendev.org/openstack/rally refs/changes/46/632046/3 && git format-patch -1 --stdout FETCH_HEAD,"['rally/common/sshutils.py', 'tests/unit/common/test_sshutils.py', 'CHANGELOG.rst']",3,0cbe9cbb7cc8b096da5663686a0b36fc18224c0c,bug/1807870,* Fix the ssh error while passing an dss key in ssh utils. ,,30,26
openstack%2Ftripleo-common~master~If205c98fbb478e01e0cbac8179d028f1a0a3ef65,openstack/tripleo-common,master,If205c98fbb478e01e0cbac8179d028f1a0a3ef65,Fix keystone healthcheck,MERGED,2019-01-16 19:28:33.000000000,2019-01-24 12:43:19.000000000,2019-01-22 22:04:03.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29344}]","[{'number': 1, 'created': '2019-01-16 19:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e838172a72a817f276cddbe962acfa298bf5f04c', 'message': 'Fix keystone healthcheck\n\npuppet-keystone has been changed and health check needs to sync with the change.\n\nChange-Id: If205c98fbb478e01e0cbac8179d028f1a0a3ef65\nCloses-Bug: #1811961\n'}, {'number': 2, 'created': '2019-01-16 21:12:33.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2', 'healthcheck/keystone', 'healthcheck/keystone-admin'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4e34cb570d614297b01ca7ac935dddfcfa411124', 'message': 'Fix keystone healthcheck\n\npuppet-keystone has been changed and health check needs to sync with the change.\n\nChange-Id: If205c98fbb478e01e0cbac8179d028f1a0a3ef65\nCloses-Bug: #1811961\n'}]",0,631310,4e34cb570d614297b01ca7ac935dddfcfa411124,15,6,2,5241,,,0,"Fix keystone healthcheck

puppet-keystone has been changed and health check needs to sync with the change.

Change-Id: If205c98fbb478e01e0cbac8179d028f1a0a3ef65
Closes-Bug: #1811961
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/10/631310/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/keystone-public', 'healthcheck/keystone-admin']",2,e838172a72a817f276cddbe962acfa298bf5f04c,bug/1811961,,#!/bin/bash . ${HEALTHCHECK_SCRIPTS:-/usr/share/openstack-tripleo-common/healthcheck}/common.sh check_url=$(get_url_from_vhost /etc/httpd/conf.d/10-keystone_wsgi_admin.conf) healthcheck_curl ${check_url} ,1,7
openstack%2Fneutron~master~I78d80717772bb2daba53cbd4babdc605b88eaae3,openstack/neutron,master,I78d80717772bb2daba53cbd4babdc605b88eaae3,fix dead_port call during binding activation,ABANDONED,2019-01-21 09:14:25.000000000,2019-01-24 12:34:37.000000000,,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13692}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 25618}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-21 09:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ed99a9daa3ada59e2a98c6f93a72144cba3f894', 'message': 'fix dead_port call during binding activation\n\nIn change Iabca39364ec95633b2a8891fc295b3ada5f4f5e0 lines\nfor dead_port were not intended after adding check for\nactive bindings. This change fixes it.\n\nChange-Id: I78d80717772bb2daba53cbd4babdc605b88eaae3\nPartial-Bug: #1580880\n'}, {'number': 2, 'created': '2019-01-21 11:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfa763fa4654f3d78537484e88c27d1bb019bb0b', 'message': 'fix dead_port call during binding activation\n\nIn change Iabca39364ec95633b2a8891fc295b3ada5f4f5e0 lines\nfor dead_port were not indented after adding check for\nactive bindings. This change fixes it.\n\nChange-Id: I78d80717772bb2daba53cbd4babdc605b88eaae3\nPartial-Bug: #1580880\n'}, {'number': 3, 'created': '2019-01-21 15:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/73422cc75908a95921b4636d555252d4eee1b929', 'message': 'fix dead_port call during binding activation\n\nIn change Iabca39364ec95633b2a8891fc295b3ada5f4f5e0 lines\nfor dead_port were not intended after adding check for\nactive bindings. This change fixes it.\n\nChange-Id: I78d80717772bb2daba53cbd4babdc605b88eaae3\nPartial-Bug: #1580880\n'}, {'number': 4, 'created': '2019-01-22 05:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8609981c9cdc9eb6c5ff20f48d353b2e43d67d2b', 'message': 'fix dead_port call during binding activation\n\nIn change Iabca39364ec95633b2a8891fc295b3ada5f4f5e0 lines\nfor dead_port were not intended after adding check for\nactive bindings. This change fixes it.\n\nChange-Id: I78d80717772bb2daba53cbd4babdc605b88eaae3\nPartial-Bug: #1580880\n'}, {'number': 5, 'created': '2019-01-22 06:10:27.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdaf26e9690586cf4c057002c24f77be27b3415e', 'message': 'fix dead_port call during binding activation\n\nIn change Iabca39364ec95633b2a8891fc295b3ada5f4f5e0 lines\nfor dead_port were not intended after adding check for\nactive bindings. This change fixes it.\n\nChange-Id: I78d80717772bb2daba53cbd4babdc605b88eaae3\nPartial-Bug: #1580880\nCloses-Bug: #1812788\n'}]",5,632045,bdaf26e9690586cf4c057002c24f77be27b3415e,33,11,5,25618,,,0,"fix dead_port call during binding activation

In change Iabca39364ec95633b2a8891fc295b3ada5f4f5e0 lines
for dead_port were not intended after adding check for
active bindings. This change fixes it.

Change-Id: I78d80717772bb2daba53cbd4babdc605b88eaae3
Partial-Bug: #1580880
Closes-Bug: #1812788
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/632045/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,3ed99a9daa3ada59e2a98c6f93a72144cba3f894,bug/1580880, self.assertFalse(func.called), self.assertTrue(func.called),3,3
openstack%2Fpuppet-openstack-integration~master~Ic6824dafc2fb37168b16f4923cb967e0c8d4947e,openstack/puppet-openstack-integration,master,Ic6824dafc2fb37168b16f4923cb967e0c8d4947e,Blacklist tempest test TestTelemetryIntegration,MERGED,2019-01-22 22:19:04.000000000,2019-01-24 12:22:26.000000000,2019-01-24 12:22:26.000000000,"[{'_account_id': 2813}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 13861}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-22 22:19:04.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c9a8bc4f6673513114d1b629dd6dcaa5654d76b9', 'message': ""Blacklist tempest test TestTelemetryIntegration\n\nThis blacklists the TestTelemetryIntegration\ntempest job that is usually failing with the\nmessage [1].\n\nWe've had this for a long time and we pretty\nmuch need to recheck every patch, lets blacklist\nif for now until somebody can dig up the issue\nand solve it.\n\nIt's bad since there isn't much telemetry\ncoverage in Tempest, but there is a autoscaling\njob that hopelly tests some aspects for now.\n\n[1] http://logs.openstack.org/19/618919/4/check/puppet-openstack-integration-5-scenario001-tempest-centos-7-luminous/e07a420/job-output.txt.gz#_2019-01-22_16_27_13_049172\n\nChange-Id: Ic6824dafc2fb37168b16f4923cb967e0c8d4947e\n""}]",0,632573,c9a8bc4f6673513114d1b629dd6dcaa5654d76b9,15,7,1,16137,,,0,"Blacklist tempest test TestTelemetryIntegration

This blacklists the TestTelemetryIntegration
tempest job that is usually failing with the
message [1].

We've had this for a long time and we pretty
much need to recheck every patch, lets blacklist
if for now until somebody can dig up the issue
and solve it.

It's bad since there isn't much telemetry
coverage in Tempest, but there is a autoscaling
job that hopelly tests some aspects for now.

[1] http://logs.openstack.org/19/618919/4/check/puppet-openstack-integration-5-scenario001-tempest-centos-7-luminous/e07a420/job-output.txt.gz#_2019-01-22_16_27_13_049172

Change-Id: Ic6824dafc2fb37168b16f4923cb967e0c8d4947e
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/73/632573/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,c9a8bc4f6673513114d1b629dd6dcaa5654d76b9,blacklist-tempest-telemetry," echo ""telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration"" >> /tmp/openstack/tempest/test-blacklist.txt EXCLUDES=""--black-regex=^neutron_dynamic_routing.tests.tempest.scenario|tempest_horizon.tests.scenario.test_dashboard_basic_ops|telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration"""," EXCLUDES=""--black-regex=^neutron_dynamic_routing.tests.tempest.scenario|tempest_horizon.tests.scenario.test_dashboard_basic_ops""",2,1
openstack%2Fpython-tripleoclient~master~I1c5c62df4ea7a9e7ea2a322798d2bb1de8d9b191,openstack/python-tripleoclient,master,I1c5c62df4ea7a9e7ea2a322798d2bb1de8d9b191,Get the failed status for update prepare,MERGED,2019-01-16 07:30:21.000000000,2019-01-24 12:12:09.000000000,2019-01-24 12:12:09.000000000,"[{'_account_id': 8042}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-01-16 07:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f4970b43afdd60e256e6ba8294b90e1edadcfa89', 'message': 'Get the failed status for update and raise\n\nRelated to: https://review.openstack.org/630986\nWe now can get the failed status and raise an\nexception with the right error message.\nThis will help to get the issue when something failed\nin the workflow.\n\nChange-Id: I1c5c62df4ea7a9e7ea2a322798d2bb1de8d9b191\n'}, {'number': 2, 'created': '2019-01-17 13:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4fd29696c21437374049c7cf946df1c4c84256fa', 'message': 'Get the failed status for update and raise\n\nRelated to: https://review.openstack.org/630986\nWe now can get the failed status and raise an\nexception with the right error message.\nThis will help to get the issue when something failed\nin the workflow.\n\nChange-Id: I1c5c62df4ea7a9e7ea2a322798d2bb1de8d9b191\n'}, {'number': 3, 'created': '2019-01-18 14:19:26.000000000', 'files': ['tripleoclient/workflows/package_update.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/55c241f9895e5388d7536087dca086ca85c3f1f9', 'message': ""Get the failed status for update prepare\n\nRelated to: https://review.openstack.org/630986\nWe now can get the failed status and raise an\nexception with the right error message.\nThis will help to get the issue when something failed\nin the workflow.\n\nPrint only the 'message' when update run failed instead\nof the whole 'payload'\n\nChange-Id: I1c5c62df4ea7a9e7ea2a322798d2bb1de8d9b191\n""}]",0,631152,55c241f9895e5388d7536087dca086ca85c3f1f9,14,4,3,16515,,,0,"Get the failed status for update prepare

Related to: https://review.openstack.org/630986
We now can get the failed status and raise an
exception with the right error message.
This will help to get the issue when something failed
in the workflow.

Print only the 'message' when update run failed instead
of the whole 'payload'

Change-Id: I1c5c62df4ea7a9e7ea2a322798d2bb1de8d9b191
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/52/631152/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/package_update.py'],1,f4970b43afdd60e256e6ba8294b90e1edadcfa89,catch/heat/exception," status = payload.get('status', 'RUNNING') message = payload.get('message') if message and status == ""RUNNING"": print(message) if payload['status'] == ""FAILED"": raise RuntimeError('Upgrade failed with: {}'.format(payload['message']))"," assert payload['status'] == ""SUCCESS"", pprint.pformat(payload)",7,1
openstack%2Fcastellan~master~I625a819c2b9b542677258de709a9c520fb86858b,openstack/castellan,master,I625a819c2b9b542677258de709a9c520fb86858b,vault: support configuration of KV mountpoint,MERGED,2018-10-10 15:20:44.000000000,2019-01-24 12:07:05.000000000,2019-01-24 12:07:05.000000000,"[{'_account_id': 935}, {'_account_id': 7973}, {'_account_id': 10873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-10 15:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/74c79b6817dad6d1465862df073bc905bcff5e3d', 'message': 'vault: support configuration of KV mountpoint\n\nSupport end user configuration of KV store in Vault to use for\nkey storage allowing more flexibility in Vault configuration.\n\nChange-Id: I625a819c2b9b542677258de709a9c520fb86858b\nCloses-Bug: 1797148\n'}, {'number': 2, 'created': '2018-10-10 16:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/5d25b7b7257644eea1c340faa902303029c89b01', 'message': 'vault: support configuration of KV mountpoint\n\nSupport end user configuration of KV store in Vault to use for\nkey storage allowing more flexibility in Vault configuration.\n\nChange-Id: I625a819c2b9b542677258de709a9c520fb86858b\nCloses-Bug: 1797148\n'}, {'number': 3, 'created': '2018-10-11 08:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/b1c707b426b57ff09f4c3ebdbcc1dd00d02e7452', 'message': 'vault: support configuration of KV mountpoint\n\nSupport end user configuration of KV store in Vault to use for\nkey storage allowing more flexibility in Vault configuration.\n\nChange-Id: I625a819c2b9b542677258de709a9c520fb86858b\nCloses-Bug: 1797148\n'}, {'number': 4, 'created': '2018-10-12 09:06:31.000000000', 'files': ['releasenotes/notes/vault-kv-mountpoint-919eb547764a0c74.yaml', 'castellan/key_manager/vault_key_manager.py', 'castellan/tests/functional/key_manager/test_vault_key_manager.py', 'castellan/options.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/afb539f7488cda198f156c858055e2ab54ade1d7', 'message': 'vault: support configuration of KV mountpoint\n\nSupport end user configuration of KV store in Vault to use for\nkey storage allowing more flexibility in Vault configuration.\n\nChange-Id: I625a819c2b9b542677258de709a9c520fb86858b\nCloses-Bug: 1797148\n'}]",0,609454,afb539f7488cda198f156c858055e2ab54ade1d7,20,4,4,935,,,0,"vault: support configuration of KV mountpoint

Support end user configuration of KV store in Vault to use for
key storage allowing more flexibility in Vault configuration.

Change-Id: I625a819c2b9b542677258de709a9c520fb86858b
Closes-Bug: 1797148
",git fetch https://review.opendev.org/openstack/castellan refs/changes/54/609454/4 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/key_manager/vault_key_manager.py', 'castellan/tests/functional/key_manager/test_vault_key_manager.py', 'castellan/options.py']",3,74c79b6817dad6d1465862df073bc905bcff5e3d,bug/1797148," vault_kv_mountpoint=None, vault_url=None, :param vault_kv_mountpoint: Mountpoint of KV store in vault to use. if vault_kv_mountpoint is not None: conf.set_default('kv_mountpoint', vault_kv_mountpoint, group=vkm.VAULT_OPT_GROUP)"," vault_url=None,",39,4
openstack%2Fneutron-lib~master~Id84e7d01c67d369264e0a2961ffb70aea643f910,openstack/neutron-lib,master,Id84e7d01c67d369264e0a2961ffb70aea643f910,Remove unnecessary attributes and specs from subnet_onboard API,MERGED,2018-12-18 14:49:28.000000000,2019-01-24 12:03:33.000000000,2019-01-24 12:03:32.000000000,"[{'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-18 14:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/28ff6f393d1160612642ef963f829efb422a29cc', 'message': 'Remove unnecessary attributes and specs from subnet_onboard API\n\nThis change removes some items from the subnet_onboard API that\nare problematic. In particular, this change removes the subnets\nextension to subnetpools because it presents a redundant API for\ncreating/onboarding subnets.\n\nChange-Id: Id84e7d01c67d369264e0a2961ffb70aea643f910\n'}, {'number': 2, 'created': '2018-12-18 15:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ce7770f71cedfdfc431b6dd65b71c71765b6e0bd', 'message': 'Remove unnecessary attributes and specs from subnet_onboard API\n\nThis change removes some items from the subnet_onboard API that\nare problematic. In particular, this change removes the subnets\nextension to subnetpools because it presents a redundant API for\ncreating/onboarding subnets.\n\nPartially-Implements: blueprint subnet-onboard\nChange-Id: Id84e7d01c67d369264e0a2961ffb70aea643f910\n'}, {'number': 3, 'created': '2019-01-18 10:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d0074f9365a85840134ca9f0beee85d47f53d318', 'message': 'Remove unnecessary attributes and specs from subnet_onboard API\n\nThis change removes some items from the subnet_onboard API that\nare problematic. In particular, this change removes the subnets\nextension to subnetpools because it presents a redundant API for\ncreating/onboarding subnets.\n\nChange-Id: Id84e7d01c67d369264e0a2961ffb70aea643f910\n'}, {'number': 4, 'created': '2019-01-22 18:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9914ec2f1919053943ca05b9efc6afa35285a936', 'message': 'Remove unnecessary attributes and specs from subnet_onboard API\n\nThis change removes some items from the subnet_onboard API that\nare problematic. In particular, this change removes the subnets\nextension to subnetpools because it presents a redundant API for\ncreating/onboarding subnets.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2018-December/000796.html\n\nChange-Id: Id84e7d01c67d369264e0a2961ffb70aea643f910\n'}, {'number': 5, 'created': '2019-01-23 14:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0ced5f3def6665839d5f96265cf8a2fcc562858f', 'message': 'Remove unnecessary attributes and specs from subnet_onboard API\n\nThis change removes some items from the subnet_onboard API that\nare problematic. In particular, this change removes the subnets\nextension to subnetpools because it presents a redundant API for\ncreating/onboarding subnets.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2018-December/000796.html\n\nChange-Id: Id84e7d01c67d369264e0a2961ffb70aea643f910\n'}, {'number': 6, 'created': '2019-01-23 17:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4e14c55ffb7cdcee9aa2a5b86b020d2daeffa039', 'message': 'Remove unnecessary attributes and specs from subnet_onboard API\n\nThis change removes some items from the subnet_onboard API that\nare problematic. In particular, this change removes the subnets\nextension to subnetpools because it presents a redundant API for\ncreating/onboarding subnets.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2018-December/000796.html\n\nChange-Id: Id84e7d01c67d369264e0a2961ffb70aea643f910\n'}, {'number': 7, 'created': '2019-01-24 08:40:19.000000000', 'files': ['releasenotes/notes/update-subnet-onboard-api-267a9a37f6426d64.yaml', 'neutron_lib/api/definitions/subnet_onboard.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5780a773cc7b37717bfab634edae10bb63f9a5bb', 'message': 'Remove unnecessary attributes and specs from subnet_onboard API\n\nThis change removes some items from the subnet_onboard API that\nare problematic. In particular, this change removes the subnets\nextension to subnetpools because it presents a redundant API for\ncreating/onboarding subnets.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2018-December/000796.html\n\nChange-Id: Id84e7d01c67d369264e0a2961ffb70aea643f910\n'}]",7,625936,5780a773cc7b37717bfab634edae10bb63f9a5bb,31,7,7,4187,,,0,"Remove unnecessary attributes and specs from subnet_onboard API

This change removes some items from the subnet_onboard API that
are problematic. In particular, this change removes the subnets
extension to subnetpools because it presents a redundant API for
creating/onboarding subnets.

http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000796.html

Change-Id: Id84e7d01c67d369264e0a2961ffb70aea643f910
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/36/625936/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/subnet_onboard.py'],1,28ff6f393d1160612642ef963f829efb422a29cc,bp/subnet-onboard,"UPDATED_TIMESTAMP = ""2018-12-18T09:00:00-00:00""","from neutron_lib.api import converters from neutron_lib.api.definitions import subnet as subnet_defUPDATED_TIMESTAMP = ""2017-07-27T10:00:00-00:00""ONBOARD_SUBNETS_SPECS = { 'id': {'type:uuid': None, 'required': True}, 'network_id': {'type:uuid': None, 'required': True}, 'ip_version': {'convert_to': converters.convert_to_int, 'type:values': [4, 6], 'required': True} } subnet_def.COLLECTION_NAME: { 'allow_post': True, 'allow_put': True, 'default': [], 'validate': { 'type:list_of_any_key_specs_or_none': ONBOARD_SUBNETS_SPECS } }",1,17
openstack%2Fwatcher-tempest-plugin~master~I1de0583a945766b4524a8b7d4f7647af07cf9cc5,openstack/watcher-tempest-plugin,master,I1de0583a945766b4524a8b7d4f7647af07cf9cc5,Add the storage capacity balance strategy tempest,MERGED,2019-01-24 06:54:10.000000000,2019-01-24 12:00:09.000000000,2019-01-24 12:00:08.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 06:54:10.000000000', 'files': ['watcher_tempest_plugin/tests/scenario/test_execute_storage_balance.py'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/7d5f31bfb5230844889b4efd46ee90357501f586', 'message': 'Add the storage capacity balance strategy tempest\n\nChange-Id: I1de0583a945766b4524a8b7d4f7647af07cf9cc5\n'}]",0,632938,7d5f31bfb5230844889b4efd46ee90357501f586,6,2,1,21692,,,0,"Add the storage capacity balance strategy tempest

Change-Id: I1de0583a945766b4524a8b7d4f7647af07cf9cc5
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/38/632938/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher_tempest_plugin/tests/scenario/test_execute_storage_balance.py'],1,7d5f31bfb5230844889b4efd46ee90357501f586,execute_storage_balance,"# -*- encoding: utf-8 -*- # # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from __future__ import unicode_literals import functools from oslo_log import log from tempest import config from tempest.lib.common.utils import test_utils from watcher_tempest_plugin.tests.scenario import base CONF = config.CONF LOG = log.getLogger(__name__) class TestExecuteStorageCapacityBalanceStrategy( base.BaseInfraOptimScenarioTest): """"""Tests for storage capacity balance"""""" GOAL = ""workload_balancing"" @classmethod def skip_checks(cls): super(TestExecuteStorageCapacityBalanceStrategy, cls).skip_checks() @classmethod def resource_setup(cls): super(TestExecuteStorageCapacityBalanceStrategy, cls).resource_setup() if not CONF.volume_feature_enabled.multi_backend: raise cls.skipException(""Cinder multi-backend feature disabled"") if len(set(CONF.volume.backend_names)) < 2: raise cls.skipException(""Requires at least two different "" ""backend names"") def test_execute_storage_capacity_balance(self): """"""Execute the storage capacity balance strategy"""""" self.create_volume(size=2) self.create_volume(size=2) self.create_volume(size=1) audit_parameters = {""volume_threshold"": 25} _, goal = self.client.show_goal(self.GOAL) _, strategy = self.client.show_strategy(""storage_capacity_balance"") _, audit_template = self.create_audit_template( goal['uuid'], strategy=strategy['uuid']) self.assertTrue(test_utils.call_until_true( func=functools.partial( self.has_action_plans_finished), duration=600, sleep_for=2 )) _, audit = self.create_audit( audit_template['uuid'], parameters=audit_parameters) try: self.assertTrue(test_utils.call_until_true( func=functools.partial( self.has_audit_finished, audit['uuid']), duration=600, sleep_for=2 )) except ValueError: self.fail(""The audit has failed!"") _, finished_audit = self.client.show_audit(audit['uuid']) if finished_audit.get('state') in ('FAILED', 'CANCELLED'): self.fail(""The audit ended in unexpected state: %s!"" % finished_audit.get('state')) _, action_plans = self.client.list_action_plans( audit_uuid=audit['uuid']) action_plan = action_plans['action_plans'][0] _, action_plan = self.client.show_action_plan(action_plan['uuid']) _, action_list = self.client.list_actions( action_plan_uuid=action_plan[""uuid""]) if action_plan['state'] in ('SUPERSEDED', 'SUCCEEDED'): # This means the action plan is superseded so we cannot trigger it, # or it is empty. return for action in action_list['actions']: self.assertEqual('PENDING', action.get('state')) # Execute the action by changing its state to PENDING _, updated_ap = self.client.start_action_plan(action_plan['uuid']) self.assertTrue(test_utils.call_until_true( func=functools.partial( self.has_action_plan_finished, action_plan['uuid']), duration=600, sleep_for=2 )) _, finished_ap = self.client.show_action_plan(action_plan['uuid']) _, action_list = self.client.list_actions( action_plan_uuid=finished_ap[""uuid""]) self.assertIn(updated_ap['state'], ('PENDING', 'ONGOING')) self.assertIn(finished_ap['state'], ('SUCCEEDED', 'SUPERSEDED')) for action in action_list['actions']: self.assertEqual('SUCCEEDED', action.get('state')) ",,119,0
openstack%2Fwatcher-tempest-plugin~master~I523794931dcae14306a6db28f863fd1c34927448,openstack/watcher-tempest-plugin,master,I523794931dcae14306a6db28f863fd1c34927448,Add create_volume_type,MERGED,2019-01-24 07:10:42.000000000,2019-01-24 12:00:08.000000000,2019-01-24 12:00:08.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 07:10:42.000000000', 'files': ['watcher_tempest_plugin/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/2985dba80461e280a6ddb8990b95401966dc84d4', 'message': 'Add create_volume_type\n\nChange-Id: I523794931dcae14306a6db28f863fd1c34927448\n'}]",0,632943,2985dba80461e280a6ddb8990b95401966dc84d4,6,2,1,21692,,,0,"Add create_volume_type

Change-Id: I523794931dcae14306a6db28f863fd1c34927448
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/43/632943/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher_tempest_plugin/tests/scenario/manager.py'],1,2985dba80461e280a6ddb8990b95401966dc84d4,volume_type," def create_volume_type(self, clients=None, name=None, backend_name=None): if clients is None: clients = self.os_primary if name is None: class_name = self.__class__.__name__ name = data_utils.rand_name(class_name + '-volume-type') volumes_client = clients.volumes_client_latest extra_specs = {} if backend_name: extra_specs = {""volume_backend_name"": backend_name} volume_type = volumes_client.create_volume_type( name=name, extra_specs=extra_specs)['volume_type'] self.addCleanup(volumes_client.delete_volume_type, volume_type['id']) return volume_type",,17,0
openstack%2Fmanila~master~Ice99a880dd7be7af94dea86b31a6db88be3d7d9b,openstack/manila,master,Ice99a880dd7be7af94dea86b31a6db88be3d7d9b,Allow configuration of a back end specific availability zone,MERGED,2019-01-11 01:26:40.000000000,2019-01-24 11:52:28.000000000,2019-01-24 11:52:28.000000000,"[{'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26968}]","[{'number': 1, 'created': '2019-01-11 01:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e6c72c116e2a37af27e6b0c97ef221d49d0ba8bb', 'message': 'Allow configuration of a back end specific availability zone\n\n""storage_availability_zone"" in the [DEFAULT] section of\nmanila\'s configuration file has allowed deployers to configure\nand manage both service (scheduler, share manager) and storage\nsystem availability. However, quite often manila\'s services\n(api, scheduler, share and data managers) are run on a dedicated\ncontrol plane that is a different failure domain from that of\nthe storage that manila manages.\n\nAlso, when using share replication, deployers would need to\nrun multiple manila share manager services with different\nconfiguration files, each with their own\n""storage_availability_zone"".\n\nTo allow flexibility of separating service and storage\navailability zones, we introduce a new configuration option\n""backend_availability_zone"" within the share driver/backend\nsection. When this option is used, it will override the value\nof the ""storage_availability_zone"" from the [DEFAULT] section.\n\nChange-Id: Ice99a880dd7be7af94dea86b31a6db88be3d7d9b\nImplements: bp per-backend-availability-zones\n'}, {'number': 2, 'created': '2019-01-23 17:14:02.000000000', 'files': ['manila/share/drivers/service_instance.py', 'manila/service.py', 'manila/tests/share/drivers/test_service_instance.py', 'manila/manager.py', 'manila/share/manager.py', 'manila/share/driver.py', 'doc/source/contributor/share_replication.rst', 'doc/source/admin/shared-file-systems-share-replication.rst', 'manila/tests/share/test_manager.py', 'releasenotes/notes/per-backend-az-590c68be0e2cb4bd.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/a75fe3d7cc1686a81c9a0b1ee982cad422fc5a2e', 'message': 'Allow configuration of a back end specific availability zone\n\n""storage_availability_zone"" in the [DEFAULT] section of\nmanila\'s configuration file has allowed deployers to configure\nand manage both service (scheduler, share manager) and storage\nsystem availability. However, quite often manila\'s services\n(api, scheduler, share and data managers) are run on a dedicated\ncontrol plane that is a different failure domain from that of\nthe storage that manila manages.\n\nAlso, when using share replication, deployers would need to\nrun multiple manila share manager services with different\nconfiguration files, each with their own\n""storage_availability_zone"".\n\nTo allow flexibility of separating service and storage\navailability zones, we introduce a new configuration option\n""backend_availability_zone"" within the share driver/backend\nsection. When this option is used, it will override the value\nof the ""storage_availability_zone"" from the [DEFAULT] section.\n\nChange-Id: Ice99a880dd7be7af94dea86b31a6db88be3d7d9b\nImplements: bp per-backend-availability-zones\n'}]",7,629958,a75fe3d7cc1686a81c9a0b1ee982cad422fc5a2e,35,18,2,16643,,,0,"Allow configuration of a back end specific availability zone

""storage_availability_zone"" in the [DEFAULT] section of
manila's configuration file has allowed deployers to configure
and manage both service (scheduler, share manager) and storage
system availability. However, quite often manila's services
(api, scheduler, share and data managers) are run on a dedicated
control plane that is a different failure domain from that of
the storage that manila manages.

Also, when using share replication, deployers would need to
run multiple manila share manager services with different
configuration files, each with their own
""storage_availability_zone"".

To allow flexibility of separating service and storage
availability zones, we introduce a new configuration option
""backend_availability_zone"" within the share driver/backend
section. When this option is used, it will override the value
of the ""storage_availability_zone"" from the [DEFAULT] section.

Change-Id: Ice99a880dd7be7af94dea86b31a6db88be3d7d9b
Implements: bp per-backend-availability-zones
",git fetch https://review.opendev.org/openstack/manila refs/changes/58/629958/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/service_instance.py', 'manila/service.py', 'manila/tests/share/drivers/test_service_instance.py', 'manila/manager.py', 'manila/share/manager.py', 'manila/share/driver.py', 'doc/source/admin/shared-file-systems-share-replication.rst', 'doc/source/contributor/share_replication.rst', 'manila/tests/share/test_manager.py', 'releasenotes/notes/per-backend-az-590c68be0e2cb4bd.yaml']",10,e6c72c116e2a37af27e6b0c97ef221d49d0ba8bb,bp/per-backend-availability-zones,"--- features: - | Availability zones may now be configured per backend in a multi-backend configuration. Individual back end sections can now have the configuration option ``backend_availability_zone`` set. If set, this value will override the ``storage_availability_zone`` option from the [DEFAULT] section. upgrade: - The ``storage_availability_zone`` option can now be overridden per backend by using the ``backend_availability_zone`` option within the backend stanza. This allows enabling multiple storage backends that may be deployed in different AZs in the same ``manila.conf`` file if desired, simplifying service architecture around the Share Replication feature. ",,64,19
openstack%2Fcharm-nova-compute~master~I6c490f9af2312dc42f2b56e0b7ce8c802e3aac1d,openstack/charm-nova-compute,master,I6c490f9af2312dc42f2b56e0b7ce8c802e3aac1d,upgrade-charm: filter previously installed packages,MERGED,2019-01-23 17:10:36.000000000,2019-01-24 11:38:59.000000000,2019-01-24 11:38:59.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 17:10:36.000000000', 'files': ['hooks/nova_compute_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/e9ecd8284fc1d1fc5c64496de7893d179f8315b5', 'message': ""upgrade-charm: filter previously installed packages\n\nThe upgrade-charm hook installs any new packages required for the\nnew charm version however this needs to be filtered against previously\ninstalled packages to ensure that pending package updates don't get\napplied to the system as a side effect of upgrading the charm.\n\nChange-Id: I6c490f9af2312dc42f2b56e0b7ce8c802e3aac1d\nCloses-Bug: 1812982\n""}]",0,632784,e9ecd8284fc1d1fc5c64496de7893d179f8315b5,9,4,1,935,,,0,"upgrade-charm: filter previously installed packages

The upgrade-charm hook installs any new packages required for the
new charm version however this needs to be filtered against previously
installed packages to ensure that pending package updates don't get
applied to the system as a side effect of upgrading the charm.

Change-Id: I6c490f9af2312dc42f2b56e0b7ce8c802e3aac1d
Closes-Bug: 1812982
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/84/632784/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/nova_compute_hooks.py'],1,e9ecd8284fc1d1fc5c64496de7893d179f8315b5,bug/1812982," apt_install(filter_installed_packages(determine_packages()), fatal=True)"," apt_install(determine_packages(), fatal=True)",2,1
openstack%2Ftripleo-ci~master~I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6,openstack/tripleo-ci,master,I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6,Collect logs: Handle errors and timeout,MERGED,2018-11-13 12:00:19.000000000,2019-01-24 11:38:56.000000000,2019-01-24 11:38:56.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-11-13 12:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a4b57af36527557bb08f96ce78aeb47746975abc', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 2, 'created': '2018-11-13 13:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a0c6431ed3aa7b3a4d15a8421e344d7787dc72b6', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 3, 'created': '2018-11-13 18:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/94338140abd1ad2522dc764390cdc5196fb3a9c6', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 4, 'created': '2018-11-14 11:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a6aa099104b88fc58008adb1b478c2a059a82924', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 5, 'created': '2018-11-14 11:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5d0d155edcd6d7cbede2c92f8ee3575ef2626bab', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 6, 'created': '2018-11-14 11:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c839fe0ab130b84a190de9c8ded6d3db690688ca', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 7, 'created': '2018-11-14 12:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3ea61db601dbf947cd6e6ec866b31dbbd21444f2', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 8, 'created': '2018-11-14 12:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/38bd4465d8d30d2eda3b343575bd8afc5bb57d5a', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 9, 'created': '2018-11-14 13:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a529f5af51ece8253cd10e5c1d2e30da2a6e5dee', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 10, 'created': '2018-11-14 14:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/124708acddd0600beffe2062a311410a8df2a3ed', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 11, 'created': '2018-11-14 16:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5b16b6324398db19c2350bfb8868d02c973eef12', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 12, 'created': '2018-11-14 16:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/70f6c239954c19e0e6d6ec4c961bc95aa80e625a', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 13, 'created': '2018-11-14 17:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c1f6ec8a165c9004a0e25bb94905e7360a4ccdd6', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 14, 'created': '2018-11-14 17:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7a3ccfd3d3fca46a136cf860549bd6dc2b523bac', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 15, 'created': '2018-11-14 17:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4786efe28d9414e7a87322736bbd68aa57b0d85e', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 16, 'created': '2018-11-14 18:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/da85910f341dd8ca0703d6a6679e3d30118ea3a0', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 17, 'created': '2018-11-15 11:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5d21c5e8809f12b00930e8e9f54cf39d02025f23', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 18, 'created': '2018-11-22 11:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6033c34f0da9b6f1dd9ea1775da03e4373137a6e', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 19, 'created': '2019-01-15 11:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2c1c9de55ca2147c100042470b3def74409d8aeb', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}, {'number': 20, 'created': '2019-01-15 12:39:51.000000000', 'files': ['playbooks/tripleo-ci/post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7f9e1017b08c8011bcab874b1e1b73d30be67895', 'message': 'Collect logs: Handle errors and timeout\n\ncurrently if the collect logs script has error or is timing out, none of\nthe copy tasks are run, and we may end up with no logs at all even on\nthe log collection itself.\nThis patch encloses the log collection within a block to handle errors,\nand runs the script with a specified timeout, to always leave some time\nfor copying what logs we have from the node to the executor\n\nChange-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6\n'}]",52,617617,7f9e1017b08c8011bcab874b1e1b73d30be67895,83,9,20,10022,,,0,"Collect logs: Handle errors and timeout

currently if the collect logs script has error or is timing out, none of
the copy tasks are run, and we may end up with no logs at all even on
the log collection itself.
This patch encloses the log collection within a block to handle errors,
and runs the script with a specified timeout, to always leave some time
for copying what logs we have from the node to the executor

Change-Id: I428bd0aa8e35a2a94f2cf3039dd9e3ae683334a6
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/17/617617/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-ci/post.yaml'],1,a4b57af36527557bb08f96ce78aeb47746975abc,oooq/collect-timeout,# We'll leave five minutes for copying files - name: set collection timeout set_fact: - collect_timeout: {{ zuul.post_timeout - 300 }} - name: Collect logs with a timeout block: - name: Run ansible playbook to collect logs shell: | if [[ -e {{ ansible_user_dir }}/workspace/logs/collect_logs.sh ]]; then timeout -s 15 -k {{ collect_timeout + 60 }} {{ collect_timeout }} bash {{ ansible_user_dir }}/workspace/logs/collect_logs.sh fi always: - name: Ensure artifacts directory exists file: path: '{{ zuul.executor.work_root }}/artifacts' state: directory delegate_to: localhost - name: Copy files from {{ ansible_user_dir }}/workspace/ on node no_log: true synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.work_root }}/artifacts/images/' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/images/* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node no_log: true synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs, - name: Run ansible playbook to collect logs shell: | if [[ -e {{ ansible_user_dir }}/workspace/logs/collect_logs.sh ]]; then bash {{ ansible_user_dir }}/workspace/logs/collect_logs.sh fi - hosts: - primary - centos-7 tasks: - name: Ensure artifacts directory exists file: path: '{{ zuul.executor.work_root }}/artifacts' state: directory delegate_to: localhost - name: Copy files from {{ ansible_user_dir }}/workspace/ on node no_log: true synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.work_root }}/artifacts/images/' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/images/* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node no_log: true synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs,44,42
openstack%2Fcharm-cinder~master~Ie23b65fd97014134ba6f3d9004f18a4600cd2d5a,openstack/charm-cinder,master,Ie23b65fd97014134ba6f3d9004f18a4600cd2d5a,upgrade-charm: filter previously installed packages,MERGED,2019-01-23 17:06:57.000000000,2019-01-24 11:37:48.000000000,2019-01-24 11:37:48.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 17:06:57.000000000', 'files': ['unit_tests/test_cinder_hooks.py', 'hooks/cinder_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/a0708709675725ad7a945802c85ee460f1e1d26c', 'message': 'upgrade-charm: filter previously installed packages\n\nThe upgrade-charm hook installs any new packages required for the\nnew charm version however this needs to be filtered against packages\nthat are already installed to ensure that any pending package\nupdates are not installed as a side effect of a charm upgrade.\n\nChange-Id: Ie23b65fd97014134ba6f3d9004f18a4600cd2d5a\nCloses-Bug: 1812982\n'}]",0,632783,a0708709675725ad7a945802c85ee460f1e1d26c,9,4,1,935,,,0,"upgrade-charm: filter previously installed packages

The upgrade-charm hook installs any new packages required for the
new charm version however this needs to be filtered against packages
that are already installed to ensure that any pending package
updates are not installed as a side effect of a charm upgrade.

Change-Id: Ie23b65fd97014134ba6f3d9004f18a4600cd2d5a
Closes-Bug: 1812982
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/83/632783/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_cinder_hooks.py', 'hooks/cinder_hooks.py']",2,a0708709675725ad7a945802c85ee460f1e1d26c,bug/1812982," apt_update, filter_installed_packages, apt_install(filter_installed_packages(determine_packages()), fatal=True)"," apt_update apt_install(determine_packages(), fatal=True)",5,2
openstack%2Fkuryr-kubernetes~master~I5c122adb6999d9761f97d52222999a2ac50eff39,openstack/kuryr-kubernetes,master,I5c122adb6999d9761f97d52222999a2ac50eff39,Fixed variables error with 'public-subnet',MERGED,2019-01-22 16:48:12.000000000,2019-01-24 11:29:41.000000000,2019-01-24 11:29:41.000000000,"[{'_account_id': 11600}, {'_account_id': 21041}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-01-22 16:48:12.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6f86bc13c129cd9ea099ab81209e110c06ddbbd0', 'message': ""Fixed variables error with 'public-subnet'\n\nThe current OpenStack Tacker project uses Kuryr-Kubernetes as a network.\nWhen installing Kubernetes VIM through Devstack, the subnet name must be\nchanged according to the option.\nHowever, currently, it is a fixed value so that it occurs error.\nTo prevent this, you need to modify the current fixed value as a variable.\n\nChange-Id: I5c122adb6999d9761f97d52222999a2ac50eff39\nCloses-Bug:#1812878\nRelated-Bug:#1812766\n""}]",0,632510,6f86bc13c129cd9ea099ab81209e110c06ddbbd0,21,5,1,22290,,,0,"Fixed variables error with 'public-subnet'

The current OpenStack Tacker project uses Kuryr-Kubernetes as a network.
When installing Kubernetes VIM through Devstack, the subnet name must be
changed according to the option.
However, currently, it is a fixed value so that it occurs error.
To prevent this, you need to modify the current fixed value as a variable.

Change-Id: I5c122adb6999d9761f97d52222999a2ac50eff39
Closes-Bug:#1812878
Related-Bug:#1812766
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/10/632510/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,6f86bc13c129cd9ea099ab81209e110c06ddbbd0,bug/1812878," default/kubernetes:${KURYR_K8S_API_LB_PORT} ${KURYR_NEUTRON_DEFAULT_EXT_SVC_SUBNET} ""$lb_name"" ""$project_id"""," default/kubernetes:${KURYR_K8S_API_LB_PORT} public-subnet ""$lb_name"" ""$project_id""",1,1
openstack%2Fneutron~stable%2Fqueens~Icc555050283420fddfb90bb67e02bc303e989e27,openstack/neutron,stable/queens,Icc555050283420fddfb90bb67e02bc303e989e27,protect DHCP agent cache out of sync,MERGED,2019-01-09 23:05:03.000000000,2019-01-24 11:27:22.000000000,2019-01-24 11:27:22.000000000,"[{'_account_id': 1131}, {'_account_id': 10385}, {'_account_id': 19307}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28329}]","[{'number': 1, 'created': '2019-01-09 23:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5877727d1da0fc31017f306f7ae2c37ce8c55fa5', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCo-Authored-By: doreilly@suse.com\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\n""}, {'number': 2, 'created': '2019-01-20 03:03:24.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/88528d191f79896afc96fe2d679c6214d1768cec', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCo-Authored-By: doreilly@suse.com\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\n(cherry picked from commit ffbf65126fcd25ca242e5512b6e30cb7a1b4ef37)\n""}]",0,629678,88528d191f79896afc96fe2d679c6214d1768cec,19,7,2,19307,,,0,"protect DHCP agent cache out of sync

If DHCP agent port cache is out of sync with neutron server, dnsmasq
entries are wrong and VMs may not acquire an IP because of duplicate
entries.

When DHCP agent executes port_create_end method, port's
IP should be checked before being used, if there are duplicate IP
addresses in the same network in the cache we should resync.

Co-Authored-By: doreilly@suse.com
Closes-Bug: #1645835

Change-Id: Icc555050283420fddfb90bb67e02bc303e989e27
(cherry picked from commit ffbf65126fcd25ca242e5512b6e30cb7a1b4ef37)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/629678/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,5877727d1da0fc31017f306f7ae2c37ce8c55fa5,bug/1645835-stable/queens," self.reload_allocations_p = mock.patch.object(self.dhcp, 'reload_allocations') self.reload_allocations = self.reload_allocations_p.start() payload = dict(port=copy.deepcopy(fake_port2)) self.dhcp.port_update_end(None, payload) self.reload_allocations.assert_called_once_with(fake_port2, fake_network) def test_reload_allocations(self): self.dhcp.reload_allocations(fake_port2, fake_network) self.cache.assert_has_calls([mock.call.put_port(mock.ANY)]) def test_port_create_end(self): self.reload_allocations_p = mock.patch.object(self.dhcp, 'reload_allocations') self.reload_allocations = self.reload_allocations_p.start() payload = dict(port=copy.deepcopy(fake_port2)) self.cache.get_network_by_id.return_value = fake_network self.dhcp.port_create_end(None, payload) self.reload_allocations.assert_called_once_with(fake_port2, fake_network) def test_port_create_duplicate_ip_on_dhcp_agents_same_network(self): self.cache.get_network_by_id.return_value = fake_network payload = dict(port=copy.deepcopy(fake_port2)) duplicate_ip = fake_port1['fixed_ips'][0]['ip_address'] payload['port']['fixed_ips'][0]['ip_address'] = duplicate_ip self.dhcp.port_create_end(None, payload) self.schedule_resync.assert_called_once_with(mock.ANY, fake_port2.network_id) "," payload = dict(port=fake_port2) self.dhcp.port_update_end(None, payload) self.cache.assert_has_calls( [mock.call.get_network_by_id(fake_port2.network_id), mock.call.put_port(mock.ANY)])",80,35
openstack%2Ftripleo-heat-templates~stable%2Frocky~I6ecb054d0e18acc4dc422a7ce136432d5135c64c,openstack/tripleo-heat-templates,stable/rocky,I6ecb054d0e18acc4dc422a7ce136432d5135c64c,Restart openshift master services after stack update,MERGED,2019-01-11 09:42:02.000000000,2019-01-24 11:26:19.000000000,2019-01-24 11:26:19.000000000,"[{'_account_id': 12715}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-11 09:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3b8354eb6ed964d3a948d1c7775c67759ba5a99', 'message': 'Restart openshift master services after stack update\n\nFor some configs changes, such as the identity providers, it is\nnecessary to restart the master services in order for them to take\neffect.\n\nChange-Id: I6ecb054d0e18acc4dc422a7ce136432d5135c64c\nCloses-Bug: #1807668\n(cherry picked from commit df8e5924980ed875274873ca2100181f26b88263)\n'}, {'number': 2, 'created': '2019-01-18 07:37:15.000000000', 'files': ['extraconfig/services/openshift-master.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/caf97046f9d0bad4bedb70ab8ea8b03109f80306', 'message': 'Restart openshift master services after stack update\n\nFor some configs changes, such as the identity providers, it is\nnecessary to restart the master services in order for them to take\neffect.\n\nChange-Id: I6ecb054d0e18acc4dc422a7ce136432d5135c64c\nCloses-Bug: #1807668\n(cherry picked from commit df8e5924980ed875274873ca2100181f26b88263)\n'}]",0,630097,caf97046f9d0bad4bedb70ab8ea8b03109f80306,12,4,2,13039,,,0,"Restart openshift master services after stack update

For some configs changes, such as the identity providers, it is
necessary to restart the master services in order for them to take
effect.

Change-Id: I6ecb054d0e18acc4dc422a7ce136432d5135c64c
Closes-Bug: #1807668
(cherry picked from commit df8e5924980ed875274873ca2100181f26b88263)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/630097/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/openshift-master.yaml'],1,c3b8354eb6ed964d3a948d1c7775c67759ba5a99,bug/1807668, - name: Restart masters hosts: masters serial: 1 tasks: - import_role: name: /usr/share/ansible/openshift-ansible/roles/openshift_control_plane tasks_from: restart.yml,,7,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I30278360fcc1ffa9bd7ce7cb77d023629fb6fa47,openstack/tripleo-heat-templates,stable/rocky,I30278360fcc1ffa9bd7ce7cb77d023629fb6fa47,Rework the generated openshift-ansible playbook,MERGED,2019-01-10 13:41:56.000000000,2019-01-24 11:26:17.000000000,2019-01-24 11:26:17.000000000,"[{'_account_id': 12715}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-10 13:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c217161bb32e30c97201512e833c7c051557a31', 'message': 'Rework the generated openshift-ansible playbook\n\nThe `prerequisites.yml` playbook should only be explicitly run on\ninitial deployment to prepare the nodes. It is already included in the\nscaleup playbooks for the new nodes so there is no need to include it\nagain. Re-running the `prerequisites.yml` playbook reconfigures the\ncontainer runtime and may cause outage, it is supposed to be run only\nonce.\n\nMake update and upgrade playbooks exclusive. There is no need to run\nboth of them.\n\nAdd comments to clarify the intent for each playbooks.\n\nChange-Id: I30278360fcc1ffa9bd7ce7cb77d023629fb6fa47\nCloses-Bug: #1804790\n(cherry picked from commit bb1a1209ace0d638bbd9835b1c002dbc8c0db6d9)\n'}, {'number': 2, 'created': '2019-01-18 07:37:15.000000000', 'files': ['extraconfig/services/openshift-master.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c96500c585acddba9741c9f1d43b6fa02369b68', 'message': 'Rework the generated openshift-ansible playbook\n\nThe `prerequisites.yml` playbook should only be explicitly run on\ninitial deployment to prepare the nodes. It is already included in the\nscaleup playbooks for the new nodes so there is no need to include it\nagain. Re-running the `prerequisites.yml` playbook reconfigures the\ncontainer runtime and may cause outage, it is supposed to be run only\nonce.\n\nMake update and upgrade playbooks exclusive. There is no need to run\nboth of them.\n\nAdd comments to clarify the intent for each playbooks.\n\nChange-Id: I30278360fcc1ffa9bd7ce7cb77d023629fb6fa47\nCloses-Bug: #1804790\n(cherry picked from commit bb1a1209ace0d638bbd9835b1c002dbc8c0db6d9)\n'}]",0,629862,1c96500c585acddba9741c9f1d43b6fa02369b68,15,4,2,13039,,,0,"Rework the generated openshift-ansible playbook

The `prerequisites.yml` playbook should only be explicitly run on
initial deployment to prepare the nodes. It is already included in the
scaleup playbooks for the new nodes so there is no need to include it
again. Re-running the `prerequisites.yml` playbook reconfigures the
container runtime and may cause outage, it is supposed to be run only
once.

Make update and upgrade playbooks exclusive. There is no need to run
both of them.

Add comments to clarify the intent for each playbooks.

Change-Id: I30278360fcc1ffa9bd7ce7cb77d023629fb6fa47
Closes-Bug: #1804790
(cherry picked from commit bb1a1209ace0d638bbd9835b1c002dbc8c0db6d9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/629862/2 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/openshift-master.yaml'],1,9c217161bb32e30c97201512e833c7c051557a31,bug/1807668," {% if tripleo_stack_action == 'CREATE' %} # Prerequisites playbook is explicitly needed only for # initial install - include: ""{{openshift_ansible_playbook_path}}"" {% elif tripleo_stack_action == 'UPDATE' %} {% if has_new_nodes %} - name: Restart dnsmasq to pick up new nodes hosts: all tasks: - name: Restart dnsmasq service: name: dnsmasq state: restarted # Scale up nodes (including masters) # Scale up workers/infra nodes # Re-run the deploy playbook to apply potential change # changes to existing nodes # Scale up etcd nodes", {% if tripleo_stack_action == 'UPDATE' and has_new_nodes %} {% if tripleo_stack_action == 'CREATE' or (tripleo_stack_action == 'UPDATE' and has_new_nodes) %},18,3
openstack%2Fsushy~master~Ia127f26af4c5b51a2bf27fc620302f1b4fc91013,openstack/sushy,master,Ia127f26af4c5b51a2bf27fc620302f1b4fc91013,Expose SushyError exception class from sushy,ABANDONED,2018-12-07 07:01:03.000000000,2019-01-24 11:05:17.000000000,,"[{'_account_id': 10239}, {'_account_id': 16635}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 07:01:03.000000000', 'files': ['sushy/__init__.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/0b45c11fe9be78c00d3a12d75efccd2e5e6c55cf', 'message': 'Expose SushyError exception class from sushy\n\nExpose SushyError class at sushy module level. This will also\nfix the bug (story/2004560) we have on Ironic side.\n\nChange-Id: Ia127f26af4c5b51a2bf27fc620302f1b4fc91013\nStory: 2004560\nTask: 28321\n'}]",2,623406,0b45c11fe9be78c00d3a12d75efccd2e5e6c55cf,5,3,1,16635,,,0,"Expose SushyError exception class from sushy

Expose SushyError class at sushy module level. This will also
fix the bug (story/2004560) we have on Ironic side.

Change-Id: Ia127f26af4c5b51a2bf27fc620302f1b4fc91013
Story: 2004560
Task: 28321
",git fetch https://review.opendev.org/openstack/sushy refs/changes/06/623406/1 && git format-patch -1 --stdout FETCH_HEAD,['sushy/__init__.py'],1,0b45c11fe9be78c00d3a12d75efccd2e5e6c55cf,story/2004560,from sushy.exceptions import SushyError # noqa,,1,0
openstack%2Fmurano-dashboard~master~I6e337008910f229dccc5185ac565b673845c3f4b,openstack/murano-dashboard,master,I6e337008910f229dccc5185ac565b673845c3f4b,Add a mock request for Tab,MERGED,2019-01-24 10:28:53.000000000,2019-01-24 11:01:53.000000000,2019-01-24 11:01:52.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 10:28:53.000000000', 'files': ['muranodashboard/tests/unit/environments/test_tabs.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/7395b4017708123c625360b75b8691a79c050846', 'message': 'Add a mock request for Tab\n\nChange-Id: I6e337008910f229dccc5185ac565b673845c3f4b\n'}]",0,632978,7395b4017708123c625360b75b8691a79c050846,6,2,1,14107,,,0,"Add a mock request for Tab

Change-Id: I6e337008910f229dccc5185ac565b673845c3f4b
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/78/632978/1 && git format-patch -1 --stdout FETCH_HEAD,['muranodashboard/tests/unit/environments/test_tabs.py'],1,7395b4017708123c625360b75b8691a79c050846,," mock_request = mock.Mock() self.env_config_tab = tabs.EnvConfigTab(mock_tab_group, mock_request)"," self.env_config_tab = tabs.EnvConfigTab(mock_tab_group, None)",2,1
openstack%2Fproject-config~master~If0caa5e4913bdbe7dc6d14db48eb0b80706a15ba,openstack/project-config,master,If0caa5e4913bdbe7dc6d14db48eb0b80706a15ba,Add openstack-specific docker build jobs,NEW,2019-01-23 22:10:17.000000000,2019-01-24 11:01:21.000000000,,"[{'_account_id': 1}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 22:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/184c6725d8aa9d9675cf15c92d639715438a2a4a', 'message': ""Add openstack-specific docker build jobs\n\nTo allow official openstack projects to upload docker images to\nopenstack/$shortname (eg, openstack/nova) on dockerhub, add a set\nof jobs with a restricted credential.\n\nCurrently, only nova is permitted to run this job -- that's just\nso that there is a stub entry in the allowed-projects list to show\nhow it should be used and expanded as other projects request access.\n\nChange-Id: If0caa5e4913bdbe7dc6d14db48eb0b80706a15ba\n""}, {'number': 2, 'created': '2019-01-23 22:12:30.000000000', 'files': ['zuul.d/secrets.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/578c6f44ccaa3064cab3c88fbd1c8a5ef7f5b9de', 'message': ""Add openstack-specific docker build jobs\n\nTo allow official openstack projects to upload docker images to\nopenstack/$shortname (eg, openstack/nova) on dockerhub, add a set\nof jobs with a restricted credential.\n\nCurrently, only nova is permitted to run this job -- that's just\nso that there is a stub entry in the allowed-projects list to show\nhow it should be used and expanded as other projects request access.\n\nChange-Id: If0caa5e4913bdbe7dc6d14db48eb0b80706a15ba\n""}]",2,632818,578c6f44ccaa3064cab3c88fbd1c8a5ef7f5b9de,7,4,2,1,,,0,"Add openstack-specific docker build jobs

To allow official openstack projects to upload docker images to
openstack/$shortname (eg, openstack/nova) on dockerhub, add a set
of jobs with a restricted credential.

Currently, only nova is permitted to run this job -- that's just
so that there is a stub entry in the allowed-projects list to show
how it should be used and expanded as other projects request access.

Change-Id: If0caa5e4913bdbe7dc6d14db48eb0b80706a15ba
",git fetch https://review.opendev.org/openstack/project-config refs/changes/18/632818/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/secrets.yaml', 'zuul.d/jobs.yaml']",2,184c6725d8aa9d9675cf15c92d639715438a2a4a,, - job: name: openstack-build-docker-image parent: build-docker-image description: | Build a docker image destined for openstack/* on Docker Hub. Only for use by official OpenStack projects. See the parent job's `documentation <https://zuul-ci.org/docs/zuul-jobs/jobs.html#job-build-docker-image>`_ for arguments. Unofficial projects can use the parent job and supply their own secret to publish to an alternate location. allowed-projects: &official_projects - openstack/nova - job: name: openstack-upload-docker-image parent: upload-docker-image description: | Build and upload a docker image to openstack/* on Docker Hub. Only for use by official OpenStack projects. See the parent job's `documentation <https://zuul-ci.org/docs/zuul-jobs/jobs.html#job-build-docker-image>`_ for arguments. Unofficial projects can use the parent job and supply their own secret to publish to an alternate location. allowed-projects: *official_projects secrets: - name: docker_credentials secret: openstackzuul_docker_login pass-to-parent: true - job: name: openstack-promote-docker-image parent: promote-docker-image description: | Promote a docker image previously uploaded to openstack/* on Docker Hub. Only for use by official OpenStack projects. See the parent job's `documentation <https://zuul-ci.org/docs/zuul-jobs/jobs.html#job-build-docker-image>`_ for arguments. Unofficial projects can use the parent job and supply their own secret to publish to an alternate location. allowed-projects: *official_projects secrets: - name: docker_credentials secret: openstackzuul_docker_login pass-to-parent: true,,49,0
openstack%2Fopenstack-helm-images~master~I134e34815743a87b003e1d1fb78974937ae2392e,openstack/openstack-helm-images,master,I134e34815743a87b003e1d1fb78974937ae2392e,Publish images on DockerHub,MERGED,2018-12-12 14:42:00.000000000,2019-01-24 10:31:51.000000000,2019-01-24 10:31:51.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-12-12 14:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4050d514f588435f91d8fa0637b71b64e8e1fc14', 'message': 'Publish images on DockerHub and Quay.io\n\nThis adds a playbook for publish jobs which will find\n""openstackhelm"" images, tag them for dockerhub/quay publication,\nand upload them.\n\nThese publish jobs are put in a post merge pipeline.\n\nChange-Id: I134e34815743a87b003e1d1fb78974937ae2392e\n'}, {'number': 2, 'created': '2018-12-17 09:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c5831aa2233dcf2fbcbea0eec3c2bbcd2d352790', 'message': 'Publish images on DockerHub and Quay.io\n\nThis adds a playbook for publish jobs which will find\n""openstackhelm"" images, tag them for dockerhub/quay publication,\nand upload them.\n\nThese publish jobs are put in a post merge pipeline.\n\nChange-Id: I134e34815743a87b003e1d1fb78974937ae2392e\n'}, {'number': 3, 'created': '2018-12-17 20:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/820016979d67975ae7a547c905735c4eea80da8a', 'message': 'Publish images on DockerHub and Quay.io\n\nThis adds a playbook for publish jobs which will find\n""openstackhelm"" images, tag them for dockerhub/quay publication,\nand upload them.\n\nThese publish jobs are put in a post merge pipeline.\n\nChange-Id: I134e34815743a87b003e1d1fb78974937ae2392e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2018-12-18 10:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c73bb7704a6c7e1cf5f2d913f90fa3a802a42c1d', 'message': 'Publish images on DockerHub and Quay.io optionally\n\nThis adds a playbook for publish jobs which will find\n""openstackhelm"" images, tag them for dockerhub/quay publication,\nand upload them based on booleans.\n\nThese publish jobs are put in a post merge pipeline.\n\nChange-Id: I134e34815743a87b003e1d1fb78974937ae2392e\n'}, {'number': 5, 'created': '2018-12-18 10:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/82107ef4cc14b6ba4c0a7f1ea67ad7e0e2e011bb', 'message': 'Publish images on DockerHub and Quay.io optionally\n\nThis adds a playbook for publish jobs which will find\n""openstackhelm"" images, tag them for dockerhub/quay publication,\nand upload them based on booleans.\n\nThese publish jobs are put in a post merge pipeline.\n\nChange-Id: I134e34815743a87b003e1d1fb78974937ae2392e\n'}, {'number': 6, 'created': '2018-12-19 15:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/931d260db00bc52a809072d7a40614a87cbb146a', 'message': 'Publish images on DockerHub and Quay.io optionally\n\nThis adds a playbook for publish jobs which will find\n""openstackhelm"" images, tag them for dockerhub/quay publication,\nand upload them based on booleans.\n\nThese publish jobs are put in a post merge pipeline.\nPost merge pipeline should still have the content of the files changed\nin the patches, and therefore can be still conditionally triggered\nwith the files: directive.\n\nChange-Id: I134e34815743a87b003e1d1fb78974937ae2392e\n'}, {'number': 7, 'created': '2018-12-19 16:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9ef76887cb3258b29604d60565c32e25ec263d4c', 'message': 'Publish images on DockerHub and Quay.io optionally\n\nThis adds a playbook for publish jobs which will find\n""openstackhelm"" images, tag them for dockerhub/quay publication,\nand upload them based on booleans.\n\nThese publish jobs are put in a post merge pipeline.\nPost merge pipeline should still have the content of the files changed\nin the patches, and therefore can be still conditionally triggered\nwith the files: directive.\n\nChange-Id: I134e34815743a87b003e1d1fb78974937ae2392e\n'}, {'number': 8, 'created': '2019-01-09 09:46:41.000000000', 'files': ['zuul.d/playbooks/publish.yml', 'zuul.d/secrets.yaml', 'zuul.d/gate-utils.yaml', 'zuul.d/tempest.yaml', 'zuul.d/libvirt.yaml', 'zuul.d/ceph-config-helper.yaml', 'zuul.d/vbmc.yaml', 'zuul.d/mariadb.yaml', 'zuul.d/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9b6ecc0d6b6aaed56893c47eb606376006d7a1d3', 'message': 'Publish images on DockerHub\n\nThis adds a playbook for publish jobs which will find\n""openstackhelm"" images, tag them for dockerhub publication,\nand upload them based on booleans.\n\nThese publish jobs are put in a post merge pipeline.\nPost merge pipeline should still have the content of the files changed\nin the patches, and therefore can be still conditionally triggered\nwith the files: directive.\n\nChange-Id: I134e34815743a87b003e1d1fb78974937ae2392e\n'}]",1,624713,9b6ecc0d6b6aaed56893c47eb606376006d7a1d3,34,8,8,17068,,,0,"Publish images on DockerHub

This adds a playbook for publish jobs which will find
""openstackhelm"" images, tag them for dockerhub publication,
and upload them based on booleans.

These publish jobs are put in a post merge pipeline.
Post merge pipeline should still have the content of the files changed
in the patches, and therefore can be still conditionally triggered
with the files: directive.

Change-Id: I134e34815743a87b003e1d1fb78974937ae2392e
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/13/624713/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/playbooks/publish.yml', 'zuul.d/secrets.yaml', 'zuul.d/gate-utils.yaml', 'zuul.d/tempest.yaml', 'zuul.d/libvirt.yaml', 'zuul.d/ceph-config-helper.yaml', 'zuul.d/mariadb.yaml', 'zuul.d/openvswitch.yaml', 'zuul.d/vbmc.yaml']",9,4050d514f588435f91d8fa0637b71b64e8e1fc14,osh-images-setup, - job: name: publish-openstack-helm-images-vbmc-centos_7 parent: openstack-helm-images-vbmc-centos_7 post-run: zuul.d/playbooks/publish.yml post-review: true secrets: - openstack_helm_images_publish_credentials - job: name: publish-openstack-helm-images-vbmc-suse_15 parent: openstack-helm-images-vbmc-suse_15 post-run: zuul.d/playbooks/publish.yml post-review: true secrets: - openstack_helm_images_publish_credentials,,108,0
openstack%2Fmagnum~stable%2Frocky~I13d86b0dc7c232a51149107f0412219388d8c2cd,openstack/magnum,stable/rocky,I13d86b0dc7c232a51149107f0412219388d8c2cd,support http/https proxy for discovery url,MERGED,2019-01-22 23:35:24.000000000,2019-01-24 10:16:53.000000000,2019-01-24 10:16:53.000000000,"[{'_account_id': 1916}, {'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 23:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3fc00dddcd5573a2610100b00fe13896e9e8c10a', 'message': 'support http/https proxy for discovery url\n\nHTTP(S) proxy can be specified when creating the template.\n\nhttps://docs.openstack.org/magnum/latest/admin/magnum-proxy.html\n\nHowever, it is not being utilized when talking to a public etcd discovery\nservice, which result in failed cluster creation. We need to be able to\nuse HTTP(S) proxy when services are running behind a firewall.\n\nChange-Id: I13d86b0dc7c232a51149107f0412219388d8c2cd\nstory: 2004664\n'}, {'number': 2, 'created': '2019-01-23 15:21:15.000000000', 'files': ['magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e8d0ee1b144f4db24367ad48bd2cb4306add6672', 'message': 'support http/https proxy for discovery url\n\nHTTP(S) proxy can be specified when creating the template.\n\nhttps://docs.openstack.org/magnum/latest/admin/magnum-proxy.html\n\nHowever, it is not being utilized when talking to a public etcd discovery\nservice, which result in failed cluster creation. We need to be able to\nuse HTTP(S) proxy when services are running behind a firewall.\n\nChange-Id: I13d86b0dc7c232a51149107f0412219388d8c2cd\n(cherry picked from commit ffc61816c8cf7d6d3f1129b0d520a661b3b8cddf)\n'}]",1,632581,e8d0ee1b144f4db24367ad48bd2cb4306add6672,13,5,2,14892,,,0,"support http/https proxy for discovery url

HTTP(S) proxy can be specified when creating the template.

https://docs.openstack.org/magnum/latest/admin/magnum-proxy.html

However, it is not being utilized when talking to a public etcd discovery
service, which result in failed cluster creation. We need to be able to
use HTTP(S) proxy when services are running behind a firewall.

Change-Id: I13d86b0dc7c232a51149107f0412219388d8c2cd
(cherry picked from commit ffc61816c8cf7d6d3f1129b0d520a661b3b8cddf)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/81/632581/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh']",6,3fc00dddcd5573a2610100b00fe13896e9e8c10a,story-2004664-stable/rocky,"if [ -n ""$HTTP_PROXY"" -o ""$HTTPS_PROXY"" ]; then ETCD_DISCOVERY_PROTOCOL=$(python -c ""from six.moves.urllib import parse as urlparse; print urlparse.urlparse('${ETCD_DISCOVERY_URL}').scheme"") ETCD_DISCOVERY_HOSTNAME=$(python -c ""from six.moves.urllib import parse as urlparse; print urlparse.urlparse('${ETCD_DISCOVERY_URL}').netloc.partition(':')[0]"") # prints 1 if $ETCD_DISCOVERY_HOSTNAME is listed explicitly in $NO_PROXY, or $NO_PROXY is set to ""*"" ETCD_DISCOVERY_PROXY_BYPASS=$(NO_PROXY=""${NO_PROXY}"" python -c ""import requests; print requests.utils.proxy_bypass('${ETCD_DISCOVERY_HOSTNAME}')"") if [ $ETCD_DISCOVERY_PROXY_BYPASS == ""0"" ]; then if [ -n ""$HTTP_PROXY"" -a ""$ETCD_DISCOVERY_PROTOCOL"" == ""http"" ]; then echo ""ETCD_DISCOVERY_PROXY=$HTTP_PROXY"" >> /etc/etcd/etcd.conf elif [ -n ""$HTTPS_PROXY"" -a ""$ETCD_DISCOVERY_PROTOCOL"" == ""https"" ]; then echo ""ETCD_DISCOVERY_PROXY=$HTTPS_PROXY"" >> /etc/etcd/etcd.conf fi fi","if [ -n ""$HTTP_PROXY"" ]; then echo ""ETCD_DISCOVERY_PROXY=$HTTP_PROXY"" >> /etc/etcd/etcd.conf",208,9
openstack%2Fmagnum~stable%2Frocky~I9090c6dc4b38e1a1466c4c3a6a827d95c089fb41,openstack/magnum,stable/rocky,I9090c6dc4b38e1a1466c4c3a6a827d95c089fb41,Fix prometheus monitoring,MERGED,2019-01-24 01:27:29.000000000,2019-01-24 10:04:56.000000000,2019-01-24 10:04:56.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28239}]","[{'number': 1, 'created': '2019-01-24 01:27:29.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-node-exporter.sh', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubeminion_software_configs.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a2097745938849b6b1e6f9191d9559bc6c7f9e15', 'message': 'Fix prometheus monitoring\n\nThere are 2 changes included in this patch:\n\n1. Using cluster ip instead of fixed ip for grafana service to\nmake sure the address is reachable.\n\n2. Move node exporter to prometheus-monitoring namespace and\nmake it as a DaemonSet to collect metrics from master node.\n\nTask: 28468\nStory: 2004590\n\nChange-Id: I9090c6dc4b38e1a1466c4c3a6a827d95c089fb41\n(cherry picked from commit b6936894c427af2a7e8aa0e5fba79327bfb1469e)\n'}]",0,632841,a2097745938849b6b1e6f9191d9559bc6c7f9e15,7,3,1,6484,,,0,"Fix prometheus monitoring

There are 2 changes included in this patch:

1. Using cluster ip instead of fixed ip for grafana service to
make sure the address is reachable.

2. Move node exporter to prometheus-monitoring namespace and
make it as a DaemonSet to collect metrics from master node.

Task: 28468
Story: 2004590

Change-Id: I9090c6dc4b38e1a1466c4c3a6a827d95c089fb41
(cherry picked from commit b6936894c427af2a7e8aa0e5fba79327bfb1469e)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/41/632841/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-node-exporter.sh', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubeminion_software_configs.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubecluster.yaml']",6,a2097745938849b6b1e6f9191d9559bc6c7f9e15,story/2004590-stable/rocky, port_range_min: 9100 port_range_max: 9100 - protocol: tcp,,92,49
openstack%2Ftripleo-ci~master~I86afcfaa135feff7991072d45a78f1d946bb2685,openstack/tripleo-ci,master,I86afcfaa135feff7991072d45a78f1d946bb2685,post playbook: add a task to force post failure,ABANDONED,2019-01-24 09:15:02.000000000,2019-01-24 10:04:32.000000000,,[],"[{'number': 1, 'created': '2019-01-24 09:15:02.000000000', 'files': ['playbooks/tripleo-ci/post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9c21a4c42d05e8f8fd684758c583109ee0d34cd0', 'message': 'post playbook: add a task to force post failure\n\nCurrently in zuul the autohold command allows node to be held only when\nthe build fails.\nReview https://review.openstack.org/632498 is trying to address this\nissue in the long term, but right now the only choice we have is to\nforce the failure of the build, so zuul can allow the autohold\n\nChange-Id: I86afcfaa135feff7991072d45a78f1d946bb2685\n'}]",0,632963,9c21a4c42d05e8f8fd684758c583109ee0d34cd0,2,0,1,10022,,,0,"post playbook: add a task to force post failure

Currently in zuul the autohold command allows node to be held only when
the build fails.
Review https://review.openstack.org/632498 is trying to address this
issue in the long term, but right now the only choice we have is to
force the failure of the build, so zuul can allow the autohold

Change-Id: I86afcfaa135feff7991072d45a78f1d946bb2685
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/63/632963/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-ci/post.yaml'],1,9c21a4c42d05e8f8fd684758c583109ee0d34cd0,force_post_failure," # Introduced for the reproducer. Forcing the job to fail in post will allow the # zuul autohold command to hold the node. # can be removed if https://review.openstack.org/632498 is merged. - fail: msg: force_post_failure flag set to TRUE, this job is forced to fail whatever the result of the run. when: force_post_failure|bool|default(false)",,7,0
openstack%2Frequirements~master~I3428aded46d8a99f8d576278802976a2d71c9b91,openstack/requirements,master,I3428aded46d8a99f8d576278802976a2d71c9b91,update constraint for sqlalchemy-migrate to new release 0.12.0,MERGED,2019-01-23 22:52:49.000000000,2019-01-24 09:50:50.000000000,2019-01-24 09:50:49.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 22:52:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3597bdc1843dd50995e147970ca0b16788a99aa8', 'message': 'update constraint for sqlalchemy-migrate to new release 0.12.0\n\nChange-Id: I3428aded46d8a99f8d576278802976a2d71c9b91\nmeta:version: 0.12.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Commit: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Change-Id: Ic3cb5184d5cc65982e90430b94fbd13beaa4c921\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,632824,3597bdc1843dd50995e147970ca0b16788a99aa8,6,2,1,11131,,,0,"update constraint for sqlalchemy-migrate to new release 0.12.0

Change-Id: I3428aded46d8a99f8d576278802976a2d71c9b91
meta:version: 0.12.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Commit: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Change-Id: Ic3cb5184d5cc65982e90430b94fbd13beaa4c921
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/632824/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3597bdc1843dd50995e147970ca0b16788a99aa8,new-release,sqlalchemy-migrate===0.12.0,sqlalchemy-migrate===0.11.0,1,1
openstack%2Frequirements~master~I36adf4cdbd88efbf0b607571fd937fd3e498a496,openstack/requirements,master,I36adf4cdbd88efbf0b607571fd937fd3e498a496,update constraint for os_vif to new release 1.14.0,MERGED,2019-01-23 16:09:09.000000000,2019-01-24 09:50:49.000000000,2019-01-24 09:50:49.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 25733}]","[{'number': 1, 'created': '2019-01-23 16:09:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/18296b2b1754170ebacfc25ed1b627e38c4ccb69', 'message': 'update constraint for os_vif to new release 1.14.0\n\nChange-Id: I36adf4cdbd88efbf0b607571fd937fd3e498a496\nmeta:version: 1.14.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Sean Mooney <work@seanmooney.info>\nmeta:release:Commit: Sean Mooney <work@seanmooney.info>\nmeta:release:Change-Id: I1b82857e0c2eb6dfc2aecd6765fc4729bf77ef61\nmeta:release:Code-Review+1: melanie witt <melwittt@gmail.com>\nmeta:release:Code-Review+1: Daniel Alvarez <dalvarez@redhat.com>\nmeta:release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta:release:Code-Review+1: Lucas Alvares Gomes <lucasagomes@gmail.com>\nmeta:release:Code-Review+1: Jan Gutter <jan.gutter@netronome.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,632770,18296b2b1754170ebacfc25ed1b627e38c4ccb69,6,3,1,11131,,,0,"update constraint for os_vif to new release 1.14.0

Change-Id: I36adf4cdbd88efbf0b607571fd937fd3e498a496
meta:version: 1.14.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean Mooney <work@seanmooney.info>
meta:release:Commit: Sean Mooney <work@seanmooney.info>
meta:release:Change-Id: I1b82857e0c2eb6dfc2aecd6765fc4729bf77ef61
meta:release:Code-Review+1: melanie witt <melwittt@gmail.com>
meta:release:Code-Review+1: Daniel Alvarez <dalvarez@redhat.com>
meta:release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta:release:Code-Review+1: Lucas Alvares Gomes <lucasagomes@gmail.com>
meta:release:Code-Review+1: Jan Gutter <jan.gutter@netronome.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/70/632770/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,18296b2b1754170ebacfc25ed1b627e38c4ccb69,new-release,os-vif===1.14.0,os-vif===1.13.1,1,1
openstack%2Foctavia~master~I711ffd00c25b22644da7f755b5e8939128b8af91,openstack/octavia,master,I711ffd00c25b22644da7f755b5e8939128b8af91,Add octavia-v2-dsvm-tls-barbican check job,MERGED,2019-01-17 20:59:55.000000000,2019-01-24 09:39:58.000000000,2019-01-24 09:39:58.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 20:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6628b510fc75c6fe5a80a9a96291c60f4ff356e8', 'message': 'Add octavia-v2-dsvm-tls-barbican check job\n\nAdd the octavia-v2-dsvm-tls-barbican job to the master Octavia check\njobs as non-voting.\n\nChange-Id: I711ffd00c25b22644da7f755b5e8939128b8af91\n'}, {'number': 2, 'created': '2019-01-18 06:16:49.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/06f2c6d90a85292fefa215840876cf935c1617c2', 'message': 'Add octavia-v2-dsvm-tls-barbican check job\n\nAdd the octavia-v2-dsvm-tls-barbican job to the master Octavia check\njobs as non-voting.\n\nChange-Id: I711ffd00c25b22644da7f755b5e8939128b8af91\n'}]",0,631635,06f2c6d90a85292fefa215840876cf935c1617c2,13,4,2,11628,,,0,"Add octavia-v2-dsvm-tls-barbican check job

Add the octavia-v2-dsvm-tls-barbican job to the master Octavia check
jobs as non-voting.

Change-Id: I711ffd00c25b22644da7f755b5e8939128b8af91
",git fetch https://review.opendev.org/openstack/octavia refs/changes/35/631635/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,6628b510fc75c6fe5a80a9a96291c60f4ff356e8,, - octavia-v2-dsvm-tls-barbican: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ voting: false,,8,0
openstack%2Foctavia~master~Ie20a4865a464c7840644fd790ccac0d201b91187,openstack/octavia,master,Ie20a4865a464c7840644fd790ccac0d201b91187,Workaround for a dnf bug,MERGED,2018-12-24 02:17:49.000000000,2019-01-24 09:37:26.000000000,2019-01-24 09:37:26.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-24 02:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fac6d452a4259e2c06f815e60a003135c38a928f', 'message': 'DNM: print all installed RPMs and OS release info\n\nPackage qemu-img is being installed as shown by the job output and\ncommand runs as expected locally, yet it fails in CI job. What the\nheck?!\n\nChange-Id: Ie20a4865a464c7840644fd790ccac0d201b91187\n'}, {'number': 2, 'created': '2018-12-24 03:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9d28dd0ade22bc3bf4a8954d644955a08fe9e6ba', 'message': 'DNM: print all installed RPMs and OS release info\n\nPackage qemu-img is being installed as shown by the job output and\ncommand runs as expected locally, yet it fails in CI job. What the\nheck?!\n\nChange-Id: Ie20a4865a464c7840644fd790ccac0d201b91187\n'}, {'number': 3, 'created': '2018-12-24 12:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/10fdb089a1d47fd51d9ccfd8ff1be344c7735375', 'message': 'DNM: print all installed RPMs and OS release info\n\nPackage qemu-img is being installed as shown by the job output and\ncommand runs as expected locally, yet it fails in CI job. What the\nheck?!\n\nChange-Id: Ie20a4865a464c7840644fd790ccac0d201b91187\n'}, {'number': 4, 'created': '2018-12-24 15:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f7179a8fec7840178fe75332bc3adea37dcd3a30', 'message': 'Install package dep on SELinux-enabled systems\n\nAlso work-around RHBZ #1636909 by using rpm instead of yum or dnf,\notherwise diskimage-create.sh would start requiring sudo permissions.\n\nChange-Id: Ie20a4865a464c7840644fd790ccac0d201b91187\n'}, {'number': 5, 'created': '2018-12-24 17:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/baa0fe29810d2f1e05796481569a1785655e39db', 'message': 'Install package dep on SELinux-enabled systems\n\nAlso work-around RHBZ #1636909 by using rpm instead of yum or dnf,\notherwise diskimage-create.sh would start requiring sudo permissions.\n\nChange-Id: Ie20a4865a464c7840644fd790ccac0d201b91187\n'}, {'number': 6, 'created': '2018-12-29 09:54:36.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0d5eb67eeead87550d73c727c3e8c470621fd288', 'message': 'Workaround for a dnf bug\n\nWork-around RHBZ #1636909 by using rpm instead of yum or dnf. The\nalternative would be running with privileges, which would start\nrequiring sudo permissions.\n\nChange-Id: Ie20a4865a464c7840644fd790ccac0d201b91187\n'}]",2,627092,0d5eb67eeead87550d73c727c3e8c470621fd288,20,5,6,6469,,,0,"Workaround for a dnf bug

Work-around RHBZ #1636909 by using rpm instead of yum or dnf. The
alternative would be running with privileges, which would start
requiring sudo permissions.

Change-Id: Ie20a4865a464c7840644fd790ccac0d201b91187
",git fetch https://review.opendev.org/openstack/octavia refs/changes/92/627092/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,fac6d452a4259e2c06f815e60a003135c38a928f,octavia-fedora28, echo $PKG_MGR rpm -qa cat /etc/*-release,,3,0
openstack%2Fkolla-ansible~master~I45023940c1d2573bfed49d4ce3fac16ed2d559e4,openstack/kolla-ansible,master,I45023940c1d2573bfed49d4ce3fac16ed2d559e4,Remove Vitrage Collector,MERGED,2018-12-16 16:17:52.000000000,2019-01-24 09:34:52.000000000,2019-01-24 09:34:52.000000000,"[{'_account_id': 14826}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 26339}, {'_account_id': 28695}]","[{'number': 1, 'created': '2018-12-16 16:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a52dd81570e7554de01a55791dcc500a9c25aa99', 'message': 'Remove Vitrage Collector\n\nVitrage Collector service has been removed from Vitrage in change:\nIe713456b2df96e24d0b15d2362a666162bfb4300.\n\nChange-Id: I45023940c1d2573bfed49d4ce3fac16ed2d559e4\nSigned-off-by: Bartosz Zurkowski <b.zurkowski@samsung.com>\n'}, {'number': 2, 'created': '2019-01-19 10:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd557094a29299657fc8e415afd52bc524b08730', 'message': 'Remove Vitrage Collector\n\nVitrage Collector service has been removed from Vitrage in change:\nIe713456b2df96e24d0b15d2362a666162bfb4300.\n\nChange-Id: I45023940c1d2573bfed49d4ce3fac16ed2d559e4\nSigned-off-by: Bartosz Zurkowski <b.zurkowski@samsung.com>\n'}, {'number': 3, 'created': '2019-01-23 02:36:51.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/site.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/vitrage/templates/vitrage-collector.json.j2', 'ansible/inventory/all-in-one', 'ansible/roles/vitrage/handlers/main.yml', 'ansible/roles/vitrage/tasks/deploy.yml', 'tests/templates/inventory.j2', 'ansible/roles/vitrage/tasks/upgrade.yml', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2', 'ansible/roles/vitrage/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e856770202e1c20342e7337416d73786d507f2a', 'message': 'Remove Vitrage Collector\n\nVitrage Collector service has been removed from Vitrage in change:\nIe713456b2df96e24d0b15d2362a666162bfb4300.\n\nChange-Id: I45023940c1d2573bfed49d4ce3fac16ed2d559e4\nSigned-off-by: Bartosz Zurkowski <b.zurkowski@samsung.com>\nCo-Authored-By: Kien Nguyen <kiennt65@viettel.com.vn>\n'}]",1,625438,7e856770202e1c20342e7337416d73786d507f2a,20,9,3,28695,,,0,"Remove Vitrage Collector

Vitrage Collector service has been removed from Vitrage in change:
Ie713456b2df96e24d0b15d2362a666162bfb4300.

Change-Id: I45023940c1d2573bfed49d4ce3fac16ed2d559e4
Signed-off-by: Bartosz Zurkowski <b.zurkowski@samsung.com>
Co-Authored-By: Kien Nguyen <kiennt65@viettel.com.vn>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/625438/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/site.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/vitrage/tasks/deploy.yml', 'tests/templates/inventory.j2', 'ansible/roles/vitrage/templates/vitrage-collector.json.j2', 'ansible/inventory/all-in-one', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2', 'ansible/roles/vitrage/handlers/main.yml', 'ansible/roles/vitrage/tasks/config.yml']",11,a52dd81570e7554de01a55791dcc500a9c25aa99,vitrage,, - Restart vitrage-collector container - Restart vitrage-collector container - Restart vitrage-collector container - Restart vitrage-collector container,3,83
openstack%2Ftenks~master~I0c395d6d0e3856fc72311074f60eaaddf617c7c8,openstack/tenks,master,I0c395d6d0e3856fc72311074f60eaaddf617c7c8,Change openstack-dev to openstack-discuss in setup.cfg,MERGED,2019-01-24 03:38:54.000000000,2019-01-24 09:32:30.000000000,2019-01-24 09:32:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 03:38:54.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tenks/commit/9cef71f1221048932198cbe52cf3da513a56221c', 'message': 'Change openstack-dev to openstack-discuss in setup.cfg\n\nChange-Id: I0c395d6d0e3856fc72311074f60eaaddf617c7c8\n'}]",0,632913,9cef71f1221048932198cbe52cf3da513a56221c,6,2,1,29423,,,0,"Change openstack-dev to openstack-discuss in setup.cfg

Change-Id: I0c395d6d0e3856fc72311074f60eaaddf617c7c8
",git fetch https://review.opendev.org/openstack/tenks refs/changes/13/632913/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9cef71f1221048932198cbe52cf3da513a56221c,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fkolla-ansible~master~I79a13212bb772a0c4ece2a871aea46bfaf377b4a,openstack/kolla-ansible,master,I79a13212bb772a0c4ece2a871aea46bfaf377b4a,test test,ABANDONED,2019-01-24 07:03:33.000000000,2019-01-24 09:29:35.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 07:03:33.000000000', 'files': ['doc/source/admin/mariadb-backup-and-restore.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/641b7a99669e4e6c5eeb3b14ee7e1bbac6c0bd42', 'message': 'test test\n\nChange-Id: I79a13212bb772a0c4ece2a871aea46bfaf377b4a\n'}]",0,632940,641b7a99669e4e6c5eeb3b14ee7e1bbac6c0bd42,4,2,1,29847,,,0,"test test

Change-Id: I79a13212bb772a0c4ece2a871aea46bfaf377b4a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/632940/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/mariadb-backup-and-restore.rst'],1,641b7a99669e4e6c5eeb3b14ee7e1bbac6c0bd42,test,"At this point the backup is test prepared and ready to be copied back into place,","At this point the backup is prepared and ready to be copied back into place,",1,1
openstack%2Ftripleo-upgrade~master~I33018bcc8f4798f33f73e1aad47419d8094269c8,openstack/tripleo-upgrade,master,I33018bcc8f4798f33f73e1aad47419d8094269c8,Switch to more specific include modules for updates.,MERGED,2019-01-22 09:41:15.000000000,2019-01-24 09:24:27.000000000,2019-01-24 09:24:27.000000000,"[{'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-01-22 09:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4fd5d0e3fbf718999418cdd3bea4d64a89c139e8', 'message': 'Switch to more specific include modules for updates.\n\nInclude has some unintuitive behaviours depending on\nif it is running in a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours move to a new set of modules:\n include_tasks, include_role, import_playbook, import_tasks.\n\nChange-Id: I33018bcc8f4798f33f73e1aad47419d8094269c8\n'}, {'number': 2, 'created': '2019-01-22 12:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d6cb6a898ca5452ea1562194314a8f11c63517dc', 'message': 'Switch to more specific include modules for updates.\n\nInclude has some unintuitive behaviours depending on\nif it is running in a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours move to a new set of modules:\n include_tasks, include_role, import_playbook, import_tasks.\n\nChange-Id: I33018bcc8f4798f33f73e1aad47419d8094269c8\n'}, {'number': 3, 'created': '2019-01-22 13:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/54561d542891b4835a04f253247c925cb20a4d67', 'message': 'Switch to more specific include modules for updates.\n\nInclude has some unintuitive behaviours depending on\nif it is running in a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours move to a new set of modules:\n include_tasks, include_role, import_playbook, import_tasks.\n\nChange-Id: I33018bcc8f4798f33f73e1aad47419d8094269c8\n'}, {'number': 4, 'created': '2019-01-23 08:00:53.000000000', 'files': ['tasks/update/create-overcloud-update-scripts.yaml', 'tasks/update/overcloud_update_converge.yml', 'tasks/update/overcloud_update_run.yml', 'tasks/update/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6e9762f3ecbd50cd6cfc69cf47a10ad2934592ea', 'message': 'Switch to more specific include modules for updates.\n\nInclude has some unintuitive behaviours depending on\nif it is running in a static or dynamic in play or in playbook context,\nin an effort to clarify behaviours move to a new set of modules:\n include_tasks, include_role, import_playbook, import_tasks.\n\nChange-Id: I33018bcc8f4798f33f73e1aad47419d8094269c8\n'}]",0,632357,6e9762f3ecbd50cd6cfc69cf47a10ad2934592ea,13,5,4,21537,,,0,"Switch to more specific include modules for updates.

Include has some unintuitive behaviours depending on
if it is running in a static or dynamic in play or in playbook context,
in an effort to clarify behaviours move to a new set of modules:
 include_tasks, include_role, import_playbook, import_tasks.

Change-Id: I33018bcc8f4798f33f73e1aad47419d8094269c8
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/57/632357/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/update/create-overcloud-update-scripts.yaml', 'tasks/update/overcloud_update_converge.yml', 'tasks/update/overcloud_update_run.yml', 'tasks/update/main.yml']",4,4fd5d0e3fbf718999418cdd3bea4d64a89c139e8,update-include-replace, include_tasks: create-undercloud-update-scripts.yaml args: apply: tags: - create_undercloud_update_scripts import_tasks: ../common/undercloud_validate_upgrade.yaml include_tasks: create-overcloud-update-scripts.yaml args: apply: tags: - create_overcloud_update_scripts - name: import oc update prepare tasks import_tasks: overcloud_update_prepare.yml - name: import overcloud update run tasks import_tasks: overcloud_update_run.yml include_tasks: ceph_update_run.yml - name: import overcloud update converge tasks import_tasks: overcloud_update_converge.yml - name: import nova_actions_check tasks import_tasks: ../common/nova_actions_check.yml, include: create-undercloud-update-scripts.yaml include: ../common/undercloud_validate_upgrade.yaml include: create-overcloud-update-scripts.yaml - include: overcloud_update_prepare.yml - include: overcloud_update_run.yml include: ceph_update_run.yml - include: overcloud_update_converge.yml - include: ../common/nova_actions_check.yml,39,19
openstack%2Fmonasca-tempest-plugin~master~I014f9f9c7f7212ca868bdb27f091a257a3174159,openstack/monasca-tempest-plugin,master,I014f9f9c7f7212ca868bdb27f091a257a3174159,fix tox python3 overrides,MERGED,2018-06-09 03:20:56.000000000,2019-01-24 09:23:54.000000000,2019-01-24 09:23:54.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-06-09 03:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/c8069d578f3f164b6a737f58678982b2d9523d61', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I014f9f9c7f7212ca868bdb27f091a257a3174159\n'}, {'number': 2, 'created': '2018-10-02 08:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/9b160a5a55692b0b1b84323b624b15762d6fac2c', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I014f9f9c7f7212ca868bdb27f091a257a3174159\n'}, {'number': 3, 'created': '2019-01-24 09:01:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/0ad394d8daa2dba43e9d08230e9efbd185592a92', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I014f9f9c7f7212ca868bdb27f091a257a3174159\n'}]",0,573889,0ad394d8daa2dba43e9d08230e9efbd185592a92,13,5,3,26297,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I014f9f9c7f7212ca868bdb27f091a257a3174159
",git fetch https://review.opendev.org/openstack/monasca-tempest-plugin refs/changes/89/573889/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c8069d578f3f164b6a737f58678982b2d9523d61,,"envlist = py27,py35,pypy,pep8basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3","envlist = py27,pypy,pep8",7,1
openstack%2Fneutron~master~Ie376a5aa888a8d7f8163d3faebaa1780d248e268,openstack/neutron,master,Ie376a5aa888a8d7f8163d3faebaa1780d248e268,WIP Control the loading of port-resource-request extension on its own,ABANDONED,2019-01-02 14:17:11.000000000,2019-01-24 09:18:20.000000000,,"[{'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-02 14:17:11.000000000', 'files': ['neutron/extensions/port_resource_request.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bd5071b49728918e89dedb33910e2bf0a6e6d7a', 'message': 'WIP Control the loading of port-resource-request extension on its own\n\nThis is proof of concept code for a discussion on the mailing list.\nDepending on the outcome of that I may or may not turn it into a proper\nchange. Please see this thread:\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2018-December/001129.html\n\nUsually a service plugin automatically loads all API extensions it\nsupports. This patch makes the loading of the port-resource-request\nextension controllable by a config option on its own. This may or may\nnot become part of releasing the Guaranteed Minimum Bandwidth feature\nas an experimental feature first.\n\nChange-Id: Ie376a5aa888a8d7f8163d3faebaa1780d248e268\n'}]",0,627978,0bd5071b49728918e89dedb33910e2bf0a6e6d7a,7,5,1,15554,,,0,"WIP Control the loading of port-resource-request extension on its own

This is proof of concept code for a discussion on the mailing list.
Depending on the outcome of that I may or may not turn it into a proper
change. Please see this thread:

http://lists.openstack.org/pipermail/openstack-discuss/2018-December/001129.html

Usually a service plugin automatically loads all API extensions it
supports. This patch makes the loading of the port-resource-request
extension controllable by a config option on its own. This may or may
not become part of releasing the Guaranteed Minimum Bandwidth feature
as an experimental feature first.

Change-Id: Ie376a5aa888a8d7f8163d3faebaa1780d248e268
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/627978/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/extensions/port_resource_request.py'],1,0bd5071b49728918e89dedb33910e2bf0a6e6d7a,minimum-bandwidth-allocation-placement-api,"from oslo_config import cfg from neutron._i18n import _ from neutron.api import extensions PORT_RESOURCE_REQUEST_OPTS = [ cfg.BoolOpt('enable_port_resource_request', default=False, help=_( ""Enable extension 'port-resource-request'."" "" This extension is experimental."" "" That is not all nova server operations"" "" respect the value neutron reports."" "" When the feature is no longer experimental"" "" the default of this config option will become True,"" "" and its use will be deprecated."" )), ] cfg.CONF.register_opts(PORT_RESOURCE_REQUEST_OPTS) extensions.register_custom_supported_check( port_resource_request.ALIAS, lambda: cfg.CONF.enable_port_resource_request, plugin_agnostic=True, ) ",,29,0
openstack%2Ftripleo-heat-templates~master~Ib5d97303b973f96af8e3e0806f2549d85860d6f5,openstack/tripleo-heat-templates,master,Ib5d97303b973f96af8e3e0806f2549d85860d6f5,Set virt queue size as 1024 for all OVS-DPDK roles,MERGED,2018-08-30 06:45:10.000000000,2019-01-24 09:04:49.000000000,2018-10-08 12:25:41.000000000,"[{'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 8871}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-08-30 06:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1bf604061e86647b4528f5b0532284ff9be566a', 'message': 'Set virt queue size as 1024 for all OVS-DPDK roles\n\nIn order to achieve better performance, OVS-DPDK instances\nshould have the virt queue size configured as 1k. This patch\nconfigures the parameter for all the defined OVS-DPDK roles.\nCloses-Bug: #1789827\n\nChange-Id: Ib5d97303b973f96af8e3e0806f2549d85860d6f5\n'}, {'number': 2, 'created': '2018-09-03 04:06:19.000000000', 'files': ['roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles/ComputeOvsDpdkSriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e723b72f841fa72669cb628e68da61ff8ee3e08', 'message': 'Set virt queue size as 1024 for all OVS-DPDK roles\n\nIn order to achieve better performance, OVS-DPDK instances\nshould have the virt queue size configured as 1k. This patch\nconfigures the parameter for all the defined OVS-DPDK roles.\nCloses-Bug: #1789827\n\nChange-Id: Ib5d97303b973f96af8e3e0806f2549d85860d6f5\n'}]",0,598052,1e723b72f841fa72669cb628e68da61ff8ee3e08,20,7,2,18575,,,0,"Set virt queue size as 1024 for all OVS-DPDK roles

In order to achieve better performance, OVS-DPDK instances
should have the virt queue size configured as 1k. This patch
configures the parameter for all the defined OVS-DPDK roles.
Closes-Bug: #1789827

Change-Id: Ib5d97303b973f96af8e3e0806f2549d85860d6f5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/598052/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles/ComputeOvsDpdkSriov.yaml']",4,b1bf604061e86647b4528f5b0532284ff9be566a,bug/1789827, NovaLibvirtRxQueueSize: 1024 NovaLibvirtTxQueueSize: 1024,,8,0
openstack%2Frpm-packaging~master~I4c70c53929e1ac1c2dddf4c7aaeaeada77a4cb02,openstack/rpm-packaging,master,I4c70c53929e1ac1c2dddf4c7aaeaeada77a4cb02,Deprecate nova-consoleauth service.,ABANDONED,2019-01-23 16:57:10.000000000,2019-01-24 09:03:59.000000000,,"[{'_account_id': 1916}, {'_account_id': 8482}, {'_account_id': 12542}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25601}]","[{'number': 1, 'created': '2019-01-23 16:57:10.000000000', 'files': ['openstack/nova/nova.spec.j2', 'openstack/nova/openstack-nova-consoleauth.service'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ec5f2b862fcfd17a58d1dc13fb0c041bf17e4b98', 'message': 'Deprecate nova-consoleauth service.\n\nIt is deprecated in Rocky.\nhttps://docs.openstack.org/releasenotes/nova/rocky.html#relnotes-18-0-0-stable-rocky\n\nChange-Id: I4c70c53929e1ac1c2dddf4c7aaeaeada77a4cb02\n'}]",1,632781,ec5f2b862fcfd17a58d1dc13fb0c041bf17e4b98,12,7,1,25601,,,0,"Deprecate nova-consoleauth service.

It is deprecated in Rocky.
https://docs.openstack.org/releasenotes/nova/rocky.html#relnotes-18-0-0-stable-rocky

Change-Id: I4c70c53929e1ac1c2dddf4c7aaeaeada77a4cb02
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/81/632781/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/nova/nova.spec.j2', 'openstack/nova/openstack-nova-consoleauth.service']",2,ec5f2b862fcfd17a58d1dc13fb0c041bf17e4b98,dep_consoleauth,,[Unit] Description=OpenStack Nova VNC console auth Server After=syslog.target network.target [Service] Type=notify NotifyAccess=all TimeoutStartSec=0 Restart=on-failure User=nova ExecStart=/usr/bin/nova-consoleauth [Install] WantedBy=multi-user.target ,3,19
openstack%2Fheat~master~Id49bf54706b88d922ffde11eacf56a39901644c9,openstack/heat,master,Id49bf54706b88d922ffde11eacf56a39901644c9,Add release note for 1649759,MERGED,2018-12-19 07:31:37.000000000,2019-01-24 09:02:42.000000000,2019-01-24 08:19:19.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-19 07:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/259270dca6b73917d33cba6a79dcf93f598f88fa', 'message': 'Add release note for 1649759\n\nDepends-On: https://review.openstack.org/#/c/411715\nDepends-On: https://review.openstack.org/#/c/412274\n\nChange-Id: Id49bf54706b88d922ffde11eacf56a39901644c9\nStory: #1649759\nTask: #17748\n'}, {'number': 2, 'created': '2019-01-24 05:07:31.000000000', 'files': ['releasenotes/notes/allow_global_admin_get_resources_from_other_projects-711a6b61a0aaaf63.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/5a43e0520386cd5c91857822d9c029e8d2573c05', 'message': 'Add release note for 1649759\n\nDepends-On: https://review.openstack.org/#/c/411715\nDepends-On: https://review.openstack.org/#/c/412274\n\nChange-Id: Id49bf54706b88d922ffde11eacf56a39901644c9\nStory: #1649759\nTask: #29057\n'}]",4,626107,5a43e0520386cd5c91857822d9c029e8d2573c05,12,4,2,12404,,,0,"Add release note for 1649759

Depends-On: https://review.openstack.org/#/c/411715
Depends-On: https://review.openstack.org/#/c/412274

Change-Id: Id49bf54706b88d922ffde11eacf56a39901644c9
Story: #1649759
Task: #29057
",git fetch https://review.opendev.org/openstack/heat refs/changes/07/626107/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/allow_global_admin_get_resources_from_other_projects-711a6b61a0aaaf63.yaml'],1,259270dca6b73917d33cba6a79dcf93f598f88fa,bug/1649759,--- fixes: - | We now allowed global admins to operate software deployment and software config resources from other projects. ,,4,0
openstack%2Fneutron~master~Ic1128a1b93b09bcc3e6eb413219cae708f076eb7,openstack/neutron,master,Ic1128a1b93b09bcc3e6eb413219cae708f076eb7,DNM Add some extra logs to Ovsdbmonitor,ABANDONED,2019-01-22 10:44:42.000000000,2019-01-24 08:54:45.000000000,,"[{'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-22 10:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3168fa91e41a239b5aea0f1afdd2c55d16b6bf51', 'message': 'DNM Add some extra logs to Ovsdbmonitor\n\nChange-Id: Ic1128a1b93b09bcc3e6eb413219cae708f076eb7\nRelated-Bug: #1812552\n'}, {'number': 2, 'created': '2019-01-22 11:12:44.000000000', 'files': ['neutron/agent/common/ovsdb_monitor.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/01ffe36ad2f6f0f88c60c87f4499f53768360644', 'message': 'DNM Add some extra logs to Ovsdbmonitor\n\nChange-Id: Ic1128a1b93b09bcc3e6eb413219cae708f076eb7\nRelated-Bug: #1812552\n'}]",0,632403,01ffe36ad2f6f0f88c60c87f4499f53768360644,8,5,2,11975,,,0,"DNM Add some extra logs to Ovsdbmonitor

Change-Id: Ic1128a1b93b09bcc3e6eb413219cae708f076eb7
Related-Bug: #1812552
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/632403/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovsdb_monitor.py', '.zuul.yaml']",2,3168fa91e41a239b5aea0f1afdd2c55d16b6bf51,bug/1812552, - tempest-slow:, - neutron-functional - neutron-fullstack - neutron-rally-task - neutron-tempest-dvr - neutron-tempest-linuxbridge - neutron-grenade-multinode - neutron-grenade-dvr-multinode - tempest-multinode-full: voting: false - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-iptables_hybrid - neutron-tempest-iptables_hybrid-fedora - neutron-grenade - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *tempest-irrelevant-files - tempest-full: timeout: 10800 irrelevant-files: *tempest-irrelevant-files - tempest-full-py3: timeout: 10800 irrelevant-files: *tempest-irrelevant-files - tempest-slow: irrelevant-files: *tempest-irrelevant-files - networking-ovn-tempest-dsvm-ovs-release: voting: false irrelevant-files: *tempest-irrelevant-files - grenade-py3: irrelevant-files: *tempest-irrelevant-files,5,29
openstack%2Fos-net-config~stable%2Fqueens~Ibdf67c9fa085c5549a31cb1788912b28b0782d67,openstack/os-net-config,stable/queens,Ibdf67c9fa085c5549a31cb1788912b28b0782d67,NIC-Partitioning: DPDK devices comes up properly after reboot,MERGED,2019-01-21 12:57:32.000000000,2019-01-24 08:51:25.000000000,2019-01-24 08:51:25.000000000,"[{'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-21 12:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/33cc59ba0d6da968e48084409c7b5892c1dd51cc', 'message': 'NIC-Partitioning: DPDK devices comes up properly after reboot\n\novs-vswitchd service shall be started after sriov_config service.\n\nChange-Id: Ibdf67c9fa085c5549a31cb1788912b28b0782d67\nCloses-Bug: 1807350\n(cherry picked from commit 8e9242b34a7631a7bca0c3a444f1e7218f7a39ad)\n'}, {'number': 2, 'created': '2019-01-23 11:49:54.000000000', 'files': ['os_net_config/utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/6d16c271d0b218a96cdc3995d932b0d655ac4851', 'message': 'NIC-Partitioning: DPDK devices comes up properly after reboot\n\novs-vswitchd service shall be started after sriov_config service.\n\nChange-Id: Ibdf67c9fa085c5549a31cb1788912b28b0782d67\nCloses-Bug: 1807350\n(cherry picked from commit 8e9242b34a7631a7bca0c3a444f1e7218f7a39ad)\n'}]",0,632081,6d16c271d0b218a96cdc3995d932b0d655ac4851,11,4,2,18904,,,0,"NIC-Partitioning: DPDK devices comes up properly after reboot

ovs-vswitchd service shall be started after sriov_config service.

Change-Id: Ibdf67c9fa085c5549a31cb1788912b28b0782d67
Closes-Bug: 1807350
(cherry picked from commit 8e9242b34a7631a7bca0c3a444f1e7218f7a39ad)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/81/632081/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/utils.py'],1,33cc59ba0d6da968e48084409c7b5892c1dd51cc,mox3-stable/queens,Before=ovs-vswitchd.service,Before=openvswitch.service,1,1
openstack%2Fos-net-config~stable%2Fqueens~Icdd2a077f6a996f409bbb2d82b0958b676bc5411,openstack/os-net-config,stable/queens,Icdd2a077f6a996f409bbb2d82b0958b676bc5411,"Sample templates for linux_bond, ovs_bond, dpdkbond using VFs",MERGED,2019-01-21 12:53:50.000000000,2019-01-24 08:51:25.000000000,2019-01-24 08:51:24.000000000,"[{'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-21 12:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/349464f0a2a983ce73e540549ff7b608b7fa02ca', 'message': 'Sample templates for linux_bond, ovs_bond, dpdkbond using VFs\n\n1. Added sample templates and testcases for linux_bond, ovs_bond,\ndpdkbond using VFs.\n2. Set the default values for certain sriov_vf attributes when\nits a member of ovs_bond, ovs_bridge\n3. Set the default value of promisc for sriov_pf\n\nChange-Id: Icdd2a077f6a996f409bbb2d82b0958b676bc5411\n(cherry picked from commit 13d42df43144922d32491ff963321120dfa7c8ab)\n'}, {'number': 2, 'created': '2019-01-23 11:49:44.000000000', 'files': ['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/tests/test_cli.py', 'os_net_config/schema.yaml', 'os_net_config/utils.py', 'os_net_config/tests/test_objects.py', 'etc/os-net-config/samples/sriov_pf_ovs_dpdk.json', 'etc/os-net-config/samples/sriov_pf_ovs_dpdk.yaml', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/6169eb0882e5acd87e293b3adfbb8e79b7f8a17b', 'message': 'Sample templates for linux_bond, ovs_bond, dpdkbond using VFs\n\n1. Added sample templates and testcases for linux_bond, ovs_bond,\ndpdkbond using VFs.\n2. Set the default values for certain sriov_vf attributes when\nits a member of ovs_bond, ovs_bridge\n3. Set the default value of promisc for sriov_pf\n\nChange-Id: Icdd2a077f6a996f409bbb2d82b0958b676bc5411\n(cherry picked from commit 13d42df43144922d32491ff963321120dfa7c8ab)\n'}]",0,632080,6169eb0882e5acd87e293b3adfbb8e79b7f8a17b,11,4,2,18904,,,0,"Sample templates for linux_bond, ovs_bond, dpdkbond using VFs

1. Added sample templates and testcases for linux_bond, ovs_bond,
dpdkbond using VFs.
2. Set the default values for certain sriov_vf attributes when
its a member of ovs_bond, ovs_bridge
3. Set the default value of promisc for sriov_pf

Change-Id: Icdd2a077f6a996f409bbb2d82b0958b676bc5411
(cherry picked from commit 13d42df43144922d32491ff963321120dfa7c8ab)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/80/632080/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/tests/test_cli.py', 'os_net_config/schema.yaml', 'os_net_config/utils.py', 'os_net_config/tests/test_objects.py', 'etc/os-net-config/samples/sriov_pf_ovs_dpdk.json', 'etc/os-net-config/samples/sriov_pf_ovs_dpdk.yaml', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml']",9,349464f0a2a983ce73e540549ff7b608b7fa02ca,mox3-stable/queens," # is attached to a ovs bridge. Default: true promisc: true - type: sriov_pf name: p2p2 numvfs: 10 use_dhcp: false promisc: true spoofcheck: true # on the VF. The default value is false. trust: true # The default value is false. Requires the enabling of trust mode promisc: false # For OVS Bridge, the default value is true (recommended) trust: true # For OVS Bridge, the default value is true (recommended) promisc: true # For OVS Bridge, the default value is false (recommended) spoofcheck: false - type: ovs_bridge name: br-bond use_dhcp: true members: - type: ovs_bond name: bond_vf ovs_options: ""bond_mode=active-backup"" members: - type: sriov_vf device: p2p1 vfid: 2 vlan_id: 112 qos: 4 primary: true # For OVS Bond, the default value is true (recommended) trust: true # For OVS Bond, the default value is true (recommended) promisc: true # For OVS Bond, the default value is false (recommended) spoofcheck: false - type: sriov_vf device: p2p2 vfid: 2 vlan_id: 112 qos: 4 trust: true promisc: true spoofcheck: false - type: linux_bond name: bond_lnx use_dhcp: true bonding_options: ""mode=active-backup"" members: - type: sriov_vf device: p2p1 vfid: 3 vlan_id: 113 qos: 5 # For linux_bond, the default value is true spoofcheck: true # For linux_bond, the default value is true trust: true # For linux_bond, the default value is false promisc: false primary: true - type: sriov_vf device: p2p2 vfid: 3 vlan_id: 113 qos: 5 spoofcheck: true trust: true promisc: false", # is attached to a ovs bridge promisc: on spoofcheck: on # on the VF. The default value is off. trust: on # The default value is off. Requires the enabling of trust mode promisc: off # Set trust to 'on' when attaching to ovs_bridge trust: on # Set promisc to 'on' when attaching to ovs_bridge promisc: on # Set spoofcheck to 'off' when attaching to ovs_bridge spoofcheck: off,578,48
openstack%2Fheat~master~I3eb2a7e24df68dec0ca638307ecf5a476e96f06a,openstack/heat,master,I3eb2a7e24df68dec0ca638307ecf5a476e96f06a,Allow global admins to operate sd resources from other projects,MERGED,2016-12-19 03:58:50.000000000,2019-01-24 08:19:17.000000000,2019-01-24 08:19:17.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 10487}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 23310}, {'_account_id': 25113}]","[{'number': 1, 'created': '2016-12-19 03:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fa7a3a66f61101715bfd67488372770974b27da5', 'message': 'Allow admins to operate software deployments belong to other projects\n\nAllow admin users to operate the software deployments belong to\nother projects.\n\nChange-Id: I3eb2a7e24df68dec0ca638307ecf5a476e96f06a\nCloses-Bug: #1649759\n'}, {'number': 2, 'created': '2016-12-23 10:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/efbfa6a2a2f68450f0156627d0d1e2e8e2639de2', 'message': 'Allow admins to operate software deployments belong to other projects\n\nAllow admin users to operate the software deployments belong to\nother projects.\n\nChange-Id: I3eb2a7e24df68dec0ca638307ecf5a476e96f06a\nCloses-Bug: #1649759\n'}, {'number': 3, 'created': '2016-12-23 10:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3f78aa624d935be34e15e53433cb241629fbc7b1', 'message': 'Allow global admins to operate sd resources from other projects\n\nAllow global admin users to operate the software deployments from\nother projects.\n\nChange-Id: I3eb2a7e24df68dec0ca638307ecf5a476e96f06a\nCloses-Bug: #1649759\n'}, {'number': 4, 'created': '2016-12-26 08:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/72cede8e56d755875bfaad55b778989b8774c25f', 'message': 'Allow global admins to operate sd resources from other projects\n\nAllow global admin users to operate the software deployments from\nother projects.\n\nChange-Id: I3eb2a7e24df68dec0ca638307ecf5a476e96f06a\nCloses-Bug: #1649759\n'}, {'number': 5, 'created': '2019-01-24 05:06:47.000000000', 'files': ['heat/tests/db/test_sqlalchemy_api.py', 'heat/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/6fd6fefc47227496241e6a2461ff504d82d82333', 'message': 'Allow global admins to operate sd resources from other projects\n\nAllow global admin users to operate the software deployments from\nother projects.\n\nChange-Id: I3eb2a7e24df68dec0ca638307ecf5a476e96f06a\nCloses-Bug: #1649759\n'}]",0,412274,6fd6fefc47227496241e6a2461ff504d82d82333,21,9,5,8289,,,0,"Allow global admins to operate sd resources from other projects

Allow global admin users to operate the software deployments from
other projects.

Change-Id: I3eb2a7e24df68dec0ca638307ecf5a476e96f06a
Closes-Bug: #1649759
",git fetch https://review.opendev.org/openstack/heat refs/changes/74/412274/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/db/test_sqlalchemy_api.py', 'heat/db/sqlalchemy/api.py']",2,fa7a3a66f61101715bfd67488372770974b27da5,bug/1649759," if (result is not None and context is not None and not context.is_admin and query = context.session.query(sd).order_by(sd.created_at) if not context.is_admin: query = query.filter(sqlalchemy.or_( sd.tenant == context.tenant_id, sd.stack_user_project_id == context.tenant_id))"," if (result is not None and context is not None and query = context.session.query( sd ).filter(sqlalchemy.or_( sd.tenant == context.tenant_id, sd.stack_user_project_id == context.tenant_id) ).order_by(sd.created_at)",39,11
openstack%2Fheat~master~I9135da38c2f58f29b351bb1f5336e72a2f78d5fc,openstack/heat,master,I9135da38c2f58f29b351bb1f5336e72a2f78d5fc,Allow global admins to operate sc resources from other projects,MERGED,2016-12-16 09:06:18.000000000,2019-01-24 08:17:36.000000000,2019-01-24 08:17:36.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 10487}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-12-16 09:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c57ef95ba657689a3cdf490ce6e3f7d30fac7484', 'message': 'Allow admins to operate software configs belong to other projects\n\nAllow admin users to operate the software configs belong to\nother projects.\n\nChange-Id: I9135da38c2f58f29b351bb1f5336e72a2f78d5fc\nPartial-Bug: #1649759\n'}, {'number': 2, 'created': '2016-12-19 03:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b5ad6de25c22a4c8a0d1bb3350b040d61bac33a2', 'message': 'Allow admins to operate software configs belong to other projects\n\nAllow admin users to operate the software configs belong to\nother projects.\n\nChange-Id: I9135da38c2f58f29b351bb1f5336e72a2f78d5fc\nPartial-Bug: #1649759\n'}, {'number': 3, 'created': '2016-12-23 10:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9b3e2b5b0c50f1484ba862eac3f42b01d9ecd4ae', 'message': 'Allow admins to operate software configs belong to other projects\n\nAllow admin users to operate the software configs belong to\nother projects.\n\nChange-Id: I9135da38c2f58f29b351bb1f5336e72a2f78d5fc\nPartial-Bug: #1649759\n'}, {'number': 4, 'created': '2016-12-23 10:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/deb02294dd553e06dd6a6a3a08f0f91e4cc5227f', 'message': 'Allow global admins to operate sc resources from other projects\n\nAllow global admin users to operate the software configs from\nother projects.\n\nChange-Id: I9135da38c2f58f29b351bb1f5336e72a2f78d5fc\nPartial-Bug: #1649759\n'}, {'number': 5, 'created': '2019-01-24 05:07:01.000000000', 'files': ['heat/tests/db/test_sqlalchemy_api.py', 'heat/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/14fae9e7def4644dba7841965b6e152a3c649121', 'message': 'Allow global admins to operate sc resources from other projects\n\nAllow global admin users to operate the software configs from\nother projects.\n\nChange-Id: I9135da38c2f58f29b351bb1f5336e72a2f78d5fc\nPartial-Bug: #1649759\n'}]",0,411715,14fae9e7def4644dba7841965b6e152a3c649121,18,8,5,8289,,,0,"Allow global admins to operate sc resources from other projects

Allow global admin users to operate the software configs from
other projects.

Change-Id: I9135da38c2f58f29b351bb1f5336e72a2f78d5fc
Partial-Bug: #1649759
",git fetch https://review.opendev.org/openstack/heat refs/changes/15/411715/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/db/test_sqlalchemy_api.py', 'heat/db/sqlalchemy/api.py']",2,c57ef95ba657689a3cdf490ce6e3f7d30fac7484,bug/1649759, if (result is not None and context is not None and not context.is_admin and, if (result is not None and context is not None and,41,15
openstack%2Fheat~master~Ieca7e0f0642c38c44fb8d7729333a0ccd93c9cb4,openstack/heat,master,Ieca7e0f0642c38c44fb8d7729333a0ccd93c9cb4,Streamline conversion of resources to convergence,MERGED,2018-04-26 21:26:47.000000000,2019-01-24 07:57:55.000000000,2019-01-24 07:57:55.000000000,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 21:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c701f58febbfdbde839e55f67afed1765aca3350', 'message': ""Streamline conversion of resources to convergence\n\nUse a single write to the database to convert each resource. Add a\nmethod to the versioned object class that encapsulates the DB-specific\ninformation, and get rid of the Resource.set_requires() classmethod that\njust calls a method on the versioned object instance that's passed to\nit.\n\nChange-Id: Ieca7e0f0642c38c44fb8d7729333a0ccd93c9cb4\n""}, {'number': 2, 'created': '2018-06-14 23:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9a16f32a98e05da5e6293af83658f68e40297a90', 'message': ""Streamline conversion of resources to convergence\n\nUse a single write to the database to convert each resource. Add a\nmethod to the versioned object class that encapsulates the DB-specific\ninformation, and get rid of the Resource.set_requires() classmethod that\njust calls a method on the versioned object instance that's passed to\nit.\n\nChange-Id: Ieca7e0f0642c38c44fb8d7729333a0ccd93c9cb4\n""}, {'number': 3, 'created': '2018-12-17 02:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/547a184508e4886524fc291860bc879c1a8686af', 'message': ""Streamline conversion of resources to convergence\n\nUse a single write to the database to convert each resource. Add a\nmethod to the versioned object class that encapsulates the DB-specific\ninformation, and get rid of the Resource.set_requires() classmethod that\njust calls a method on the versioned object instance that's passed to\nit.\n\nChange-Id: Ieca7e0f0642c38c44fb8d7729333a0ccd93c9cb4\n""}, {'number': 4, 'created': '2018-12-17 03:59:45.000000000', 'files': ['heat/objects/resource.py', 'heat/engine/stack.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/8260579b2c3106e79dc8f5b73a65df3565713e97', 'message': ""Streamline conversion of resources to convergence\n\nUse a single write to the database to convert each resource. Add a\nmethod to the versioned object class that encapsulates the DB-specific\ninformation, and get rid of the Resource.set_requires() classmethod that\njust calls a method on the versioned object instance that's passed to\nit.\n\nChange-Id: Ieca7e0f0642c38c44fb8d7729333a0ccd93c9cb4\n""}]",0,564629,8260579b2c3106e79dc8f5b73a65df3565713e97,18,4,4,4257,,,0,"Streamline conversion of resources to convergence

Use a single write to the database to convert each resource. Add a
method to the versioned object class that encapsulates the DB-specific
information, and get rid of the Resource.set_requires() classmethod that
just calls a method on the versioned object instance that's passed to
it.

Change-Id: Ieca7e0f0642c38c44fb8d7729333a0ccd93c9cb4
",git fetch https://review.opendev.org/openstack/heat refs/changes/29/564629/3 && git format-patch -1 --stdout FETCH_HEAD,"['heat/objects/resource.py', 'heat/engine/stack.py', 'heat/engine/resource.py']",3,c701f58febbfdbde839e55f67afed1765aca3350,,," @classmethod def set_requires(cls, db_rsrc, requires): if db_rsrc: db_rsrc.update_and_save( {'requires': requires} ) ",16,19
openstack%2Ffreezer~master~I297c58a0a127093b5aa990adcadfb18ed0d39535,openstack/freezer,master,I297c58a0a127093b5aa990adcadfb18ed0d39535,Use global var path for rsync test,MERGED,2019-01-24 05:40:49.000000000,2019-01-24 07:49:15.000000000,2019-01-24 07:49:15.000000000,"[{'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-01-24 05:40:49.000000000', 'files': ['freezer/tests/unit/engines/rsync/test_rsync.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/9b8a99bd1f4a6c6641a1764c2604c0023a617f7f', 'message': 'Use global var path for rsync test\n\nThe patch use global var path for rsync unit test\n\nChange-Id: I297c58a0a127093b5aa990adcadfb18ed0d39535\n'}]",0,632930,9b8a99bd1f4a6c6641a1764c2604c0023a617f7f,9,3,1,21387,,,0,"Use global var path for rsync test

The patch use global var path for rsync unit test

Change-Id: I297c58a0a127093b5aa990adcadfb18ed0d39535
",git fetch https://review.opendev.org/openstack/freezer refs/changes/30/632930/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/tests/unit/engines/rsync/test_rsync.py'],1,9b8a99bd1f4a6c6641a1764c2604c0023a617f7f,useglobalvarfortest, self.relpath = '/home/tecs' fspath = self.relpath fs_path = self.relpath fs_path = self.relpath fs_path = self.relpath file_path = self.relpath restore_abs_path = self.relpath restore_abs_path = self.relpath restore_abs_path = self.relpath restore_abs_path = self.relpath restore_abs_path = self.relpath restore_abs_path = self.relpath restore_abs_path = self.relpath restore_abs_path = self.relpath restore_abs_path = self.relpath restore_abs_path = self.relpath restore_abs_path = self.relpath restore_abs_path = self.relpath restore_abs_path = self.relpath rel_path = self.relpath rel_path = self.relpath rel_path = self.relpath fs_meta_path = self.relpath, fspath = '/home/tecs' fs_path = '/home/tecs' fs_path = '/home/tecs' fs_path = '/home/tecs' file_path = '/home/tecs' restore_abs_path = '/home/tecs' restore_abs_path = '/home/tecs' restore_abs_path = '/home/tecs' restore_abs_path = '/home/tecs' restore_abs_path = '/home/tecs' restore_abs_path = '/home/tecs' restore_abs_path = '/home/tecs' restore_abs_path = '/home/tecs' restore_abs_path = '/home/tecs' restore_abs_path = '/home/tecs' restore_abs_path = '/home/tecs' restore_abs_path = '/home/tecs' restore_abs_path = '/home/tecs' rel_path = '/home/tecs' rel_path = '/home/tecs' rel_path = '/home/tecs' fs_meta_path = '/home/tecs',23,22
openstack%2Fpython-watcherclient~master~I77e8b1519ea8241e3c5cdeaffd9be9046b6315ce,openstack/python-watcherclient,master,I77e8b1519ea8241e3c5cdeaffd9be9046b6315ce,[Doc] Fix OS_AUTH_URL value,MERGED,2019-01-09 05:02:06.000000000,2019-01-24 06:59:15.000000000,2019-01-24 06:59:15.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-09 05:02:06.000000000', 'files': ['doc/source/cli/index.rst', 'doc/source/cli/watcher.rst', 'doc/source/cli/openstack_cli.rst'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/b0ac926ee6dc32410ea46bbafe109e59e14ab9e1', 'message': '[Doc] Fix OS_AUTH_URL value\n\nSince Keystone v2 was removed in Queens release, this patch set\nupdates keystone version from v2.0 to v3 in OS_AUTH_URL value.\n\nChange-Id: I77e8b1519ea8241e3c5cdeaffd9be9046b6315ce\n'}]",0,629377,b0ac926ee6dc32410ea46bbafe109e59e14ab9e1,7,2,1,13111,,,0,"[Doc] Fix OS_AUTH_URL value

Since Keystone v2 was removed in Queens release, this patch set
updates keystone version from v2.0 to v3 in OS_AUTH_URL value.

Change-Id: I77e8b1519ea8241e3c5cdeaffd9be9046b6315ce
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/77/629377/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/index.rst', 'doc/source/cli/watcher.rst', 'doc/source/cli/openstack_cli.rst']",3,b0ac926ee6dc32410ea46bbafe109e59e14ab9e1,fix_OS_AUTH_URL, $ export OS_AUTH_URL=http://auth.example.com:5000/v3/, $ export OS_AUTH_URL=http://auth.example.com:5000/v2.0,3,3
openstack%2Fpython-watcherclient~master~I02891ca17e2655b9567cc56b5c2c0b4fb6a96446,openstack/python-watcherclient,master,I02891ca17e2655b9567cc56b5c2c0b4fb6a96446,Update hacking version,MERGED,2018-12-28 15:05:06.000000000,2019-01-24 06:59:14.000000000,2019-01-24 06:59:14.000000000,"[{'_account_id': 21692}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-28 15:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/edb05748ff06f73e5aee84d80a12f4077c03b466', 'message': 'Update hacking version\n\nChange-Id: I02891ca17e2655b9567cc56b5c2c0b4fb6a96446\n'}, {'number': 2, 'created': '2018-12-30 13:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/dc7aa4c772b0414a21dc32128c587cc63e48b418', 'message': 'Update hacking version\n\nupdate the hacking to latest, due to[1]\n\n[1]: https://github.com/openstack/python-watcherclient/blob/master/HACKING.rst\n\nChange-Id: I02891ca17e2655b9567cc56b5c2c0b4fb6a96446\n'}, {'number': 3, 'created': '2019-01-02 15:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/aa06ae3c9b147ea4a0f915afa0f8f8ec73f1f383', 'message': 'Update hacking version\n\n1. update the hacking to latest, due to[1]\n2. fix pep8 failed\n\n[1]: https://github.com/openstack/python-watcherclient/blob/master/HACKING.rst\n\nChange-Id: I02891ca17e2655b9567cc56b5c2c0b4fb6a96446\n'}, {'number': 4, 'created': '2019-01-17 14:20:33.000000000', 'files': ['watcherclient/common/httpclient.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/4a1b6eaf8118e15e35d1b1d98ded37efe245428c', 'message': 'Update hacking version\n\n1. update the hacking to latest, due to[1]\n2. fix pep8 failed\n\n[1]: https://github.com/openstack/python-watcherclient/blob/master/HACKING.rst\n\nChange-Id: I02891ca17e2655b9567cc56b5c2c0b4fb6a96446\n'}]",0,627719,4a1b6eaf8118e15e35d1b1d98ded37efe245428c,16,3,4,21691,,,0,"Update hacking version

1. update the hacking to latest, due to[1]
2. fix pep8 failed

[1]: https://github.com/openstack/python-watcherclient/blob/master/HACKING.rst

Change-Id: I02891ca17e2655b9567cc56b5c2c0b4fb6a96446
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/19/627719/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,edb05748ff06f73e5aee84d80a12f4077c03b466,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",1,1
openstack%2Fironic~master~I2917761055db5286183ce265089c19dea98947ad,openstack/ironic,master,I2917761055db5286183ce265089c19dea98947ad,Make ipmi_force_boot_device more user friendly,MERGED,2018-11-28 04:21:46.000000000,2019-01-24 06:45:51.000000000,2019-01-24 06:45:51.000000000,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 11929}, {'_account_id': 12898}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 18320}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26340}, {'_account_id': 28429}]","[{'number': 1, 'created': '2018-11-28 04:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0e8677360f2efe27351adf5e0470d06702ae14d2', 'message': ""Make ipmi_force_boot_device more user friendly\n\nLook for boolean and string like booleans in driver_info['ipmi_force_boot_device']\nto make setting the option more user friendly / error prone.\n\nChange-Id: I2917761055db5286183ce265089c19dea98947ad\nStory: 2004444\n""}, {'number': 2, 'created': '2019-01-11 01:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/64cec9a1c813f8a96d46b8fb6f1f33d79ea5e076', 'message': ""Make ipmi_force_boot_device more user friendly\n\nLook for boolean and string like booleans in driver_info['ipmi_force_boot_device']\nto make setting the option more user friendly / error prone.\n\nChange-Id: I2917761055db5286183ce265089c19dea98947ad\nStory: 2004444\n""}, {'number': 3, 'created': '2019-01-14 02:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5156aeb0279f01900e6b349c98b0d04a3c5b4371', 'message': ""Make ipmi_force_boot_device more user friendly\n\nLook for boolean and string like booleans in driver_info['ipmi_force_boot_device']\nto make setting the option more user friendly / less error prone.\n\nChange-Id: I2917761055db5286183ce265089c19dea98947ad\nStory: 2004444\n""}, {'number': 4, 'created': '2019-01-14 22:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7f48b561bbb1cd3bc9af33211967bb0781623c41', 'message': ""Make ipmi_force_boot_device more user friendly\n\nLook for boolean and string like booleans in driver_info['ipmi_force_boot_device']\nto make setting the option more user friendly / less error prone.\n\nChange-Id: I2917761055db5286183ce265089c19dea98947ad\nStory: 2004444\n""}, {'number': 5, 'created': '2019-01-14 22:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f270e83f4019d7f74d1545cf460690fca96f3088', 'message': ""Make ipmi_force_boot_device more user friendly\n\nLook for boolean and string like booleans in driver_info['ipmi_force_boot_device']\nto make setting the option more user friendly / less error prone.\n\nChange-Id: I2917761055db5286183ce265089c19dea98947ad\nStory: 2004444\n""}, {'number': 6, 'created': '2019-01-15 02:20:56.000000000', 'files': ['ironic/drivers/utils.py', 'ironic/drivers/modules/ipmitool.py', 'releasenotes/notes/story-2004444-f540d9bbc3532ad0.yaml', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/03375f003f9e1a754c7a48da97a992715d603509', 'message': ""Make ipmi_force_boot_device more user friendly\n\nLook for boolean and string like booleans in driver_info['ipmi_force_boot_device']\nto make setting the option more user friendly / less error prone.\n\nChange-Id: I2917761055db5286183ce265089c19dea98947ad\nStory: 2004444\n""}]",35,620453,03375f003f9e1a754c7a48da97a992715d603509,80,15,6,12898,,,0,"Make ipmi_force_boot_device more user friendly

Look for boolean and string like booleans in driver_info['ipmi_force_boot_device']
to make setting the option more user friendly / less error prone.

Change-Id: I2917761055db5286183ce265089c19dea98947ad
Story: 2004444
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/620453/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py']",2,0e8677360f2efe27351adf5e0470d06702ae14d2,story/2004444, driver_info['ipmi_force_boot_device'] = 'True' driver_info['ipmi_force_boot_device'] = 'True', driver_info['ipmi_force_boot_device'] = True driver_info['ipmi_force_boot_device'] = True,4,3
openstack%2Fneutron~stable%2Frocky~Iaaff10dfa8ac6ab8c9dead3124e2bb3caa03a665,openstack/neutron,stable/rocky,Iaaff10dfa8ac6ab8c9dead3124e2bb3caa03a665,Clear residual qos rules after l2-agent restarts.,MERGED,2019-01-22 12:59:24.000000000,2019-01-24 06:43:01.000000000,2019-01-24 02:03:15.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 25643}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-22 12:59:24.000000000', 'files': ['neutron/tests/unit/agent/l2/extensions/test_qos.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/agent/l2/extensions/qos.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/extension_drivers/test_qos_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e04ee2c5b66af84f27cc2f1fa0ce3f92fe5676e9', 'message': 'Clear residual qos rules after l2-agent restarts.\n\nDuring the l2-agent stop, if the policy rule is cleared,\nafter the l2-agent is started, the qos rule that has been applied should be cleared.\n\nChange-Id: Iaaff10dfa8ac6ab8c9dead3124e2bb3caa03a665\nCloses-Bug: #1810025\n(cherry picked from commit 58de79a58bfeda46c6ab7fcaa765b8a557652874)\n'}]",0,632458,e04ee2c5b66af84f27cc2f1fa0ce3f92fe5676e9,13,9,1,9373,,,0,"Clear residual qos rules after l2-agent restarts.

During the l2-agent stop, if the policy rule is cleared,
after the l2-agent is started, the qos rule that has been applied should be cleared.

Change-Id: Iaaff10dfa8ac6ab8c9dead3124e2bb3caa03a665
Closes-Bug: #1810025
(cherry picked from commit 58de79a58bfeda46c6ab7fcaa765b8a557652874)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/632458/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l2/extensions/test_qos.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/agent/l2/extensions/qos.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/extension_drivers/test_qos_driver.py']",5,e04ee2c5b66af84f27cc2f1fa0ce3f92fe5676e9,bug/1810025, self.delete_egress.assert_called_once_with(self.port_name) self.delete_ingress.assert_called_once_with(self.port_name), self.delete_egress.assert_not_called() self.delete_ingress.assert_not_called(),102,11
openstack%2Fcharm-ceph-osd~master~I4f4594a479eed47cc66643d0c6acece491ae854d,openstack/charm-ceph-osd,master,I4f4594a479eed47cc66643d0c6acece491ae854d,Fix nrpe ceph-osd status respecting permissions,MERGED,2019-01-10 18:01:41.000000000,2019-01-24 06:42:51.000000000,2019-01-24 06:42:51.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-10 18:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/374f91ab2e12d72680176e386a424146cf1bbc5d', 'message': ""Fix nrpe ceph-osd status respecting permissions\n\nThe referenced bug (below) was caused because the nrpe check needed to\naccess the ceph owned directories, and as the nagios user, nrpe can't.\nThis change splits the check into a 'collect' phase that runs as root\nvia a cronjob each minute and writes a file to the tmp directory, and a\nnrpe check phase that then reads that file and reports back to nagios.\n\nThe 'check' part deletes the 'collect' file, so that fresh information\nis available for each nrpe check.  The cron task runs every minute (as\nis lightweight), so the nrpe checks should not be sheduled more\nfrequently than 1 minute.\n\nChange-Id: I4f4594a479eed47cc66643d0c6acece491ae854d\nCloses-Bug: #1810749\n""}, {'number': 2, 'created': '2019-01-11 11:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/e481a1fbd1a98e4b5d149fb2b5f9a5943cf92475', 'message': ""Fix nrpe ceph-osd status respecting permissions\n\nThe referenced bug (below) was caused because the nrpe check needed to\naccess the ceph owned directories, and as the nagios user, nrpe can't.\nThis change splits the check into a 'collect' phase that runs as root\nvia a cronjob each minute and writes a file to the tmp directory, and a\nnrpe check phase that then reads that file and reports back to nagios.\n\nThe 'check' part deletes the 'collect' file, so that fresh information\nis available for each nrpe check.  The cron task runs every minute (as\nis lightweight), so the nrpe checks should not be sheduled more\nfrequently than 1 minute.\n\nChange-Id: I4f4594a479eed47cc66643d0c6acece491ae854d\nCloses-Bug: #1810749\n""}, {'number': 3, 'created': '2019-01-11 16:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/9e00ef457748450ae96d2148789ea2b327d62896', 'message': ""Fix nrpe ceph-osd status respecting permissions\n\nThe referenced bug (below) was caused because the nrpe check needed to\naccess the ceph owned directories, and as the nagios user, nrpe can't.\nThis change splits the check into a 'collect' phase that runs as root\nvia a cronjob each minute and writes a file to the tmp directory, and a\nnrpe check phase that then reads that file and reports back to nagios.\n\nThe 'check' part deletes the 'collect' file, so that fresh information\nis available for each nrpe check.  The cron task runs every minute (as\nis lightweight), so the nrpe checks should not be sheduled more\nfrequently than 1 minute.\n\nChange-Id: I4f4594a479eed47cc66643d0c6acece491ae854d\nCloses-Bug: #1810749\n""}, {'number': 4, 'created': '2019-01-16 12:33:16.000000000', 'files': ['files/nagios/check_ceph_status.py', 'files/nagios/collect_ceph_osd_services.py', 'hooks/ceph_hooks.py', 'tests/bundles/bionic-rocky.yaml', 'files/nagios/check_ceph_osd_services.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/faefe90ce6beb5d2b3721cfb637dd7d661cbc21f', 'message': ""Fix nrpe ceph-osd status respecting permissions\n\nThe referenced bug (below) was caused because the nrpe check needed to\naccess the ceph owned directories, and as the nagios user, nrpe can't.\nThis change splits the check into a 'collect' phase that runs as root\nvia a cronjob each minute and writes a file to the tmp directory, and a\nnrpe check phase that then reads that file and reports back to nagios.\n\nThe 'check' part deletes the 'collect' file, so that fresh information\nis available for each nrpe check.  The cron task runs every minute (as\nis lightweight), so the nrpe checks should not be sheduled more\nfrequently than 1 minute.\n\nChange-Id: I4f4594a479eed47cc66643d0c6acece491ae854d\nCloses-Bug: #1810749\n""}]",7,629909,faefe90ce6beb5d2b3721cfb637dd7d661cbc21f,26,5,4,20870,,,0,"Fix nrpe ceph-osd status respecting permissions

The referenced bug (below) was caused because the nrpe check needed to
access the ceph owned directories, and as the nagios user, nrpe can't.
This change splits the check into a 'collect' phase that runs as root
via a cronjob each minute and writes a file to the tmp directory, and a
nrpe check phase that then reads that file and reports back to nagios.

The 'check' part deletes the 'collect' file, so that fresh information
is available for each nrpe check.  The cron task runs every minute (as
is lightweight), so the nrpe checks should not be sheduled more
frequently than 1 minute.

Change-Id: I4f4594a479eed47cc66643d0c6acece491ae854d
Closes-Bug: #1810749
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/09/629909/2 && git format-patch -1 --stdout FETCH_HEAD,"['files/nagios/check_ceph_status.py', 'files/nagios/collect_ceph_osd_services.py', 'hooks/ceph_hooks.py', 'files/nagios/check_ceph_osd_services.py', 'tox.ini']",5,374f91ab2e12d72680176e386a424146cf1bbc5d,bug/1810749,commands = flake8 {posargs} hooks unit_tests tests actions lib files,commands = flake8 {posargs} hooks unit_tests tests actions lib,210,23
openstack%2Fcharm-nova-compute~master~Ifd5f91a566184b27c12f4488727ce87013ea0d0a,openstack/charm-nova-compute,master,Ifd5f91a566184b27c12f4488727ce87013ea0d0a,"Fix the misspelling of ""import""",MERGED,2019-01-16 02:45:54.000000000,2019-01-24 06:39:13.000000000,2019-01-24 06:39:13.000000000,"[{'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-16 02:45:54.000000000', 'files': ['hooks/nova_compute_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/2c7750e8c66a6463dec09ef0b92bc22b23286a60', 'message': 'Fix the misspelling of ""import""\n\nChange-Id: Ifd5f91a566184b27c12f4488727ce87013ea0d0a\n'}]",0,631115,2c7750e8c66a6463dec09ef0b92bc22b23286a60,6,2,1,29721,,,0,"Fix the misspelling of ""import""

Change-Id: Ifd5f91a566184b27c12f4488727ce87013ea0d0a
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/15/631115/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/nova_compute_utils.py'],1,2c7750e8c66a6463dec09ef0b92bc22b23286a60,," """"""If provided, import the Keystone CA cert that gets forwarded"," """"""If provided, improt the Keystone CA cert that gets forwarded",1,1
openstack%2Fcharm-manila~master~I4e3a45bd70c058dcfce8987f2e9ca3d007501004,openstack/charm-manila,master,I4e3a45bd70c058dcfce8987f2e9ca3d007501004,"Fix the misspelling of ""register""",MERGED,2019-01-23 08:57:41.000000000,2019-01-24 06:37:53.000000000,2019-01-24 06:37:53.000000000,"[{'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 08:57:41.000000000', 'files': ['src/lib/charm/openstack/manila.py'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/93f18d1856d47512a3ce1e127d5eeb5a55cc59c7', 'message': 'Fix the misspelling of ""register""\n\nChange-Id: I4e3a45bd70c058dcfce8987f2e9ca3d007501004\n'}]",0,632654,93f18d1856d47512a3ce1e127d5eeb5a55cc59c7,6,2,1,29721,,,0,"Fix the misspelling of ""register""

Change-Id: I4e3a45bd70c058dcfce8987f2e9ca3d007501004
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/54/632654/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/manila.py'],1,93f18d1856d47512a3ce1e127d5eeb5a55cc59c7,, # register the first endpoint # register the second endpoint, # regsiter the first endpoint # regsiter the second endpoint,2,2
openstack%2Fos-net-config~stable%2Fqueens~Ic1f7802cdb7972ec614ffbef6ffa6017e4349ecb,openstack/os-net-config,stable/queens,Ic1f7802cdb7972ec614ffbef6ffa6017e4349ecb,NIC Partitioning works with NM enabled,MERGED,2019-01-14 10:16:00.000000000,2019-01-24 06:37:34.000000000,2019-01-24 06:37:34.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-14 10:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/baf5bd45de0ee488a53ced688a19d4f2242b7275', 'message': 'NIC Partitioning works with NM enabled\n\nGenerate and apply the ifcfg for PFs before writing the numvfs.\n\nCloses-Bug: 1807087\nChange-Id: Ic1f7802cdb7972ec614ffbef6ffa6017e4349ecb\n(cherry picked from commit 20331fa3ae33957375f6032004750d1459ff6c6c)\n'}, {'number': 2, 'created': '2019-01-23 11:49:33.000000000', 'files': ['os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3ed29bc17faededd2b445ee722efcccf12063a5b', 'message': 'NIC Partitioning works with NM enabled\n\nGenerate and apply the ifcfg for PFs before writing the numvfs.\n\nCloses-Bug: 1807087\nChange-Id: Ic1f7802cdb7972ec614ffbef6ffa6017e4349ecb\n(cherry picked from commit 20331fa3ae33957375f6032004750d1459ff6c6c)\n'}]",0,630636,3ed29bc17faededd2b445ee722efcccf12063a5b,11,5,2,18904,,,0,"NIC Partitioning works with NM enabled

Generate and apply the ifcfg for PFs before writing the numvfs.

Closes-Bug: 1807087
Change-Id: Ic1f7802cdb7972ec614ffbef6ffa6017e4349ecb
(cherry picked from commit 20331fa3ae33957375f6032004750d1459ff6c6c)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/36/630636/2 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/cli.py'],1,baf5bd45de0ee488a53ced688a19d4f2242b7275,mox3-stable/queens," if configure_sriov: # Apply the ifcfgs for PFs now, so that NM_CONTROLLED=no is applied # for each of the PFs before configuring the numvfs for the PF device. # This step allows the network manager to unmanage the created VFs. # In the second parse, when these ifcfgs for PFs are encountered, # os-net-config skips the ifup <ifcfg-pfs>, since the ifcfgs for PFs # wouldn't have changed. pf_files_changed = provider.apply(cleanup=opts.cleanup, activate=not opts.no_activate) if not opts.noop: utils.configure_sriov_pfs() if opts.noop: if configure_sriov: files_changed.update(pf_files_changed)", if configure_sriov and not opts.noop: utils.configure_sriov_pfs() if opts.noop:,13,3
openstack%2Fos-net-config~stable%2Fqueens~I087ece28ea6b3101bb22bfa9b0f208df63b4fb86,openstack/os-net-config,stable/queens,I087ece28ea6b3101bb22bfa9b0f208df63b4fb86,Add default VF configs for ovs and ovs_user bridges,MERGED,2019-01-10 09:55:23.000000000,2019-01-24 06:37:33.000000000,2019-01-24 06:37:33.000000000,"[{'_account_id': 9592}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-10 09:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/85a1937b19199bef0497e048e49fc7d7af9c8df1', 'message': 'Add default VF configs for ovs and ovs_user bridges\n\nOvsBridge requires trust=on and promisc=on for its normal\noperation. OvsUserBridge requires trust=on for its normal\noperation. Also checks are added to discard any promisc\nsetting for OvsUserBridge.\n\nChange-Id: I087ece28ea6b3101bb22bfa9b0f208df63b4fb86\nImplements: blueprint sriov-vfs-as-network-interface\nSigned-off-by: Karthik S <ksundara@redhat.com>\n'}, {'number': 2, 'created': '2019-01-14 09:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/0583fab3cb64df2fff027ae7e1b1d3e0ba0bc167', 'message': 'Add default VF configs for ovs and ovs_user bridges\n\nOvsBridge requires trust=on and promisc=on for its normal\noperation. OvsUserBridge requires trust=on for its normal\noperation. Also checks are added to discard any promisc\nsetting for OvsUserBridge.\n\nChange-Id: I087ece28ea6b3101bb22bfa9b0f208df63b4fb86\nImplements: blueprint sriov-vfs-as-network-interface\nSigned-off-by: Karthik S <ksundara@redhat.com>\n(cherry picked from commit 7194f35c79da113d90e1874fb2d0b2083d7a7964)\n'}, {'number': 3, 'created': '2019-01-23 11:48:47.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_objects.py', 'os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/a884e963e41c81267ba4d9f26451f5ba1c2b3c3d', 'message': 'Add default VF configs for ovs and ovs_user bridges\n\nOvsBridge requires trust=on and promisc=on for its normal\noperation. OvsUserBridge requires trust=on for its normal\noperation. Also checks are added to discard any promisc\nsetting for OvsUserBridge.\n\nChange-Id: I087ece28ea6b3101bb22bfa9b0f208df63b4fb86\nImplements: blueprint sriov-vfs-as-network-interface\nSigned-off-by: Karthik S <ksundara@redhat.com>\n(cherry picked from commit 7194f35c79da113d90e1874fb2d0b2083d7a7964)\n'}]",0,629820,a884e963e41c81267ba4d9f26451f5ba1c2b3c3d,19,6,3,18904,,,0,"Add default VF configs for ovs and ovs_user bridges

OvsBridge requires trust=on and promisc=on for its normal
operation. OvsUserBridge requires trust=on for its normal
operation. Also checks are added to discard any promisc
setting for OvsUserBridge.

Change-Id: I087ece28ea6b3101bb22bfa9b0f208df63b4fb86
Implements: blueprint sriov-vfs-as-network-interface
Signed-off-by: Karthik S <ksundara@redhat.com>
(cherry picked from commit 7194f35c79da113d90e1874fb2d0b2083d7a7964)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/20/629820/3 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_objects.py', 'os_net_config/objects.py']",3,85a1937b19199bef0497e048e49fc7d7af9c8df1,mox3-stable/queens," if isinstance(member, SriovVF): OvsBridge.update_vf_config(member) def update_vf_config(iface): if iface.trust is None: logger.info(""Trust is not set for VF %s:%d, defaulting to on"" % (iface.device, iface.vfid)) iface.trust = ""on"" if iface.promisc is None: logger.info(""Promisc is not set for VF %s:%d, defaulting to on"" % (iface.device, iface.vfid)) iface.promisc = ""on"" utils.update_sriov_vf_map(iface.device, iface.vfid, iface.name, vlan_id=iface.vlan_id, qos=iface.qos, spoofcheck=iface.spoofcheck, trust=iface.trust, state=iface.state, macaddr=iface.macaddr, promisc=iface.promisc) @staticmethod def update_vf_config(iface): if iface.trust is None: logger.info(""Trust is not set for VF %s:%d, defaulting to on"" % (iface.device, iface.vfid)) iface.trust = ""on"" if iface.promisc is not None: logger.warning(""Promisc can't be changed for ovs_dpdk_port"") iface.promisc = None utils.update_sriov_vf_map(iface.device, iface.vfid, iface.name, vlan_id=iface.vlan_id, qos=iface.qos, spoofcheck=iface.spoofcheck, trust=iface.trust, state=iface.state, macaddr=iface.macaddr, promisc=iface.promisc) @staticmethod if isinstance(iface, Interface): elif isinstance(iface, SriovVF): OvsDpdkPort.update_vf_config(iface) members.append(iface)"," if (isinstance(iface, Interface) or isinstance(iface, SriovVF)):",239,12
openstack%2Fcharm-aodh~master~Ie159226495e61c131d02a41f8cc235eb1086b44a,openstack/charm-aodh,master,Ie159226495e61c131d02a41f8cc235eb1086b44a,Rebuild for sync charm-helpers,MERGED,2019-01-17 17:01:39.000000000,2019-01-24 06:36:35.000000000,2019-01-24 06:36:35.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 17:01:39.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/758654ac8eb3cefe86091008ed368c2c37099a55', 'message': 'Rebuild for sync charm-helpers\n\nChange-Id: Ie159226495e61c131d02a41f8cc235eb1086b44a\n'}]",0,631563,758654ac8eb3cefe86091008ed368c2c37099a55,7,3,1,11805,,,0,"Rebuild for sync charm-helpers

Change-Id: Ie159226495e61c131d02a41f8cc235eb1086b44a
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/63/631563/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,758654ac8eb3cefe86091008ed368c2c37099a55,rebuild-reactive,85c5499c-1a79-11e9-8864-470f2a69c15e,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Fcharm-keystone-ldap~master~I232b0c0d0231166c512e3bfa8f552967b0baf42e,openstack/charm-keystone-ldap,master,I232b0c0d0231166c512e3bfa8f552967b0baf42e,Rebuild for sync charm-helpers,MERGED,2019-01-17 17:03:06.000000000,2019-01-24 06:35:51.000000000,2019-01-24 06:35:51.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 17:03:06.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/f966664d7521a62e74d4514ddefc5ee44fcb5f86', 'message': 'Rebuild for sync charm-helpers\n\nChange-Id: I232b0c0d0231166c512e3bfa8f552967b0baf42e\n'}]",0,631571,f966664d7521a62e74d4514ddefc5ee44fcb5f86,7,3,1,11805,,,0,"Rebuild for sync charm-helpers

Change-Id: I232b0c0d0231166c512e3bfa8f552967b0baf42e
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/71/631571/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,f966664d7521a62e74d4514ddefc5ee44fcb5f86,rebuild-reactive,85c5499c-1a79-11e9-8864-470f2a69c15e,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Fcharm-designate-bind~master~Ic913520dec803e394d58017c956aa8e0be9c8c98,openstack/charm-designate-bind,master,Ic913520dec803e394d58017c956aa8e0be9c8c98,Rebuild for sync charm-helpers,MERGED,2019-01-17 17:02:44.000000000,2019-01-24 06:35:51.000000000,2019-01-24 06:35:51.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 17:02:44.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/067249838b129c3b3707cec856b893badf5f4664', 'message': 'Rebuild for sync charm-helpers\n\nChange-Id: Ic913520dec803e394d58017c956aa8e0be9c8c98\n'}]",0,631569,067249838b129c3b3707cec856b893badf5f4664,7,3,1,11805,,,0,"Rebuild for sync charm-helpers

Change-Id: Ic913520dec803e394d58017c956aa8e0be9c8c98
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/69/631569/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,067249838b129c3b3707cec856b893badf5f4664,rebuild-reactive,85c5499c-1a79-11e9-8864-470f2a69c15e,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Fcharm-manila-generic~master~Ie3a7618e7db04357f1589e47d5629402e3bf5a22,openstack/charm-manila-generic,master,Ie3a7618e7db04357f1589e47d5629402e3bf5a22,Rebuild for sync charm-helpers,MERGED,2019-01-17 17:03:30.000000000,2019-01-24 06:35:45.000000000,2019-01-24 06:35:45.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 17:03:30.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/4dc45ffe50c4900b53fb6d8a256bbece83de807d', 'message': 'Rebuild for sync charm-helpers\n\nChange-Id: Ie3a7618e7db04357f1589e47d5629402e3bf5a22\n'}]",0,631573,4dc45ffe50c4900b53fb6d8a256bbece83de807d,7,3,1,11805,,,0,"Rebuild for sync charm-helpers

Change-Id: Ie3a7618e7db04357f1589e47d5629402e3bf5a22
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/73/631573/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,4dc45ffe50c4900b53fb6d8a256bbece83de807d,rebuild-reactive,85c5499c-1a79-11e9-8864-470f2a69c15e,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Fcharm-neutron-dynamic-routing~master~I236b9a1bd955dd1647534b9dcadf3fae41fd2c75,openstack/charm-neutron-dynamic-routing,master,I236b9a1bd955dd1647534b9dcadf3fae41fd2c75,Rebuild for sync charm-helpers,MERGED,2019-01-17 17:03:42.000000000,2019-01-24 06:35:40.000000000,2019-01-24 06:35:40.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 17:03:42.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/134a04404f5526be96507c59f021cf78d8833ad6', 'message': 'Rebuild for sync charm-helpers\n\nChange-Id: I236b9a1bd955dd1647534b9dcadf3fae41fd2c75\n'}]",0,631574,134a04404f5526be96507c59f021cf78d8833ad6,7,3,1,11805,,,0,"Rebuild for sync charm-helpers

Change-Id: I236b9a1bd955dd1647534b9dcadf3fae41fd2c75
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/74/631574/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,134a04404f5526be96507c59f021cf78d8833ad6,rebuild-reactive,85c5499c-1a79-11e9-8864-470f2a69c15e,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Fcharm-nova-cell-controller~master~Id0a27b4271a6435c00207f703c31c565da84d977,openstack/charm-nova-cell-controller,master,Id0a27b4271a6435c00207f703c31c565da84d977,Rebuild for sync charm-helpers,MERGED,2019-01-17 17:03:52.000000000,2019-01-24 06:35:25.000000000,2019-01-24 06:35:25.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 17:03:52.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/1f10bb491699e7af61b15f2cc7b08ab191e7b8bb', 'message': 'Rebuild for sync charm-helpers\n\nChange-Id: Id0a27b4271a6435c00207f703c31c565da84d977\n'}]",0,631575,1f10bb491699e7af61b15f2cc7b08ab191e7b8bb,7,3,1,11805,,,0,"Rebuild for sync charm-helpers

Change-Id: Id0a27b4271a6435c00207f703c31c565da84d977
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/75/631575/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,1f10bb491699e7af61b15f2cc7b08ab191e7b8bb,rebuild-reactive,85c5499c-1a79-11e9-8864-470f2a69c15e,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Fcharm-manila~master~I50f4bcf7a3fd3c7f9caee28c7214294f026d6750,openstack/charm-manila,master,I50f4bcf7a3fd3c7f9caee28c7214294f026d6750,Rebuild for sync charm-helpers,MERGED,2019-01-17 17:03:17.000000000,2019-01-24 06:34:50.000000000,2019-01-24 06:34:50.000000000,"[{'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 17:03:17.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/c91ae4d2f92cdd9c196ed408b011b972e6ae4c24', 'message': 'Rebuild for sync charm-helpers\n\nChange-Id: I50f4bcf7a3fd3c7f9caee28c7214294f026d6750\n'}]",0,631572,c91ae4d2f92cdd9c196ed408b011b972e6ae4c24,9,4,1,11805,,,0,"Rebuild for sync charm-helpers

Change-Id: I50f4bcf7a3fd3c7f9caee28c7214294f026d6750
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/72/631572/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,c91ae4d2f92cdd9c196ed408b011b972e6ae4c24,rebuild-reactive,85c5499c-1a79-11e9-8864-470f2a69c15e,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Fcharm-barbican-softhsm~master~Ie03cf6cfcccfba9b012e6bc8115dd534caa342da,openstack/charm-barbican-softhsm,master,Ie03cf6cfcccfba9b012e6bc8115dd534caa342da,Rebuild for sync charm-helpers,MERGED,2019-01-17 17:02:02.000000000,2019-01-24 06:34:02.000000000,2019-01-24 06:34:02.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 17:02:02.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/4a2c3399dd02c318cf958b0ab9e67a31169877b5', 'message': 'Rebuild for sync charm-helpers\n\nChange-Id: Ie03cf6cfcccfba9b012e6bc8115dd534caa342da\n'}]",0,631565,4a2c3399dd02c318cf958b0ab9e67a31169877b5,7,3,1,11805,,,0,"Rebuild for sync charm-helpers

Change-Id: Ie03cf6cfcccfba9b012e6bc8115dd534caa342da
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/65/631565/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,4a2c3399dd02c318cf958b0ab9e67a31169877b5,rebuild-reactive,85c5499c-1a79-11e9-8864-470f2a69c15e,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Fcharm-barbican~master~Ie26a4945f705c448e160b6514b06338f9d6ac3ad,openstack/charm-barbican,master,Ie26a4945f705c448e160b6514b06338f9d6ac3ad,Rebuild for sync charm-helpers,MERGED,2019-01-17 17:01:52.000000000,2019-01-24 06:33:51.000000000,2019-01-24 06:33:51.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 17:01:52.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/b7ba9448b80bbf31fd9df920f4107e3f900d7859', 'message': 'Rebuild for sync charm-helpers\n\nChange-Id: Ie26a4945f705c448e160b6514b06338f9d6ac3ad\n'}]",0,631564,b7ba9448b80bbf31fd9df920f4107e3f900d7859,7,3,1,11805,,,0,"Rebuild for sync charm-helpers

Change-Id: Ie26a4945f705c448e160b6514b06338f9d6ac3ad
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/64/631564/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,b7ba9448b80bbf31fd9df920f4107e3f900d7859,rebuild-reactive,85c5499c-1a79-11e9-8864-470f2a69c15e,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Fcharm-octavia-dashboard~master~I663f8bc027ed3af7eb09f705971da21275c6dc75,openstack/charm-octavia-dashboard,master,I663f8bc027ed3af7eb09f705971da21275c6dc75,Rebuild for sync charm-helpers,MERGED,2019-01-17 17:04:07.000000000,2019-01-24 06:33:32.000000000,2019-01-24 06:33:32.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 17:04:07.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/d254d02029528cc6530f0bf5c3458a702bb663b2', 'message': 'Rebuild for sync charm-helpers\n\nChange-Id: I663f8bc027ed3af7eb09f705971da21275c6dc75\n'}]",0,631577,d254d02029528cc6530f0bf5c3458a702bb663b2,7,3,1,11805,,,0,"Rebuild for sync charm-helpers

Change-Id: I663f8bc027ed3af7eb09f705971da21275c6dc75
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/77/631577/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,d254d02029528cc6530f0bf5c3458a702bb663b2,rebuild-reactive,85c5499c-1a79-11e9-8864-470f2a69c15e,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Fcharm-ceph-fs~master~Idf5f0ab3432e6b91c869ee6d3eaccafbd5eb7456,openstack/charm-ceph-fs,master,Idf5f0ab3432e6b91c869ee6d3eaccafbd5eb7456,Rebuild for sync charm-helpers,MERGED,2019-01-17 17:02:23.000000000,2019-01-24 06:32:58.000000000,2019-01-24 06:32:58.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 17:02:23.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/22533d4e03ea923d65741336d3aa24ed0eaa6248', 'message': 'Rebuild for sync charm-helpers\n\nChange-Id: Idf5f0ab3432e6b91c869ee6d3eaccafbd5eb7456\n'}]",0,631567,22533d4e03ea923d65741336d3aa24ed0eaa6248,7,3,1,11805,,,0,"Rebuild for sync charm-helpers

Change-Id: Idf5f0ab3432e6b91c869ee6d3eaccafbd5eb7456
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/67/631567/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,22533d4e03ea923d65741336d3aa24ed0eaa6248,rebuild-reactive,85c5499c-1a79-11e9-8864-470f2a69c15e,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Fcharm-octavia~master~Id046f8b490bb1ecc4033985b9919a3319abe1313,openstack/charm-octavia,master,Id046f8b490bb1ecc4033985b9919a3319abe1313,Rebuild for sync charm-helpers,MERGED,2019-01-17 17:03:59.000000000,2019-01-24 06:32:32.000000000,2019-01-24 06:32:32.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 17:03:59.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/09d9d93f3b7353560c89f11ee751a4b428399df0', 'message': 'Rebuild for sync charm-helpers\n\nChange-Id: Id046f8b490bb1ecc4033985b9919a3319abe1313\n'}]",0,631576,09d9d93f3b7353560c89f11ee751a4b428399df0,7,3,1,11805,,,0,"Rebuild for sync charm-helpers

Change-Id: Id046f8b490bb1ecc4033985b9919a3319abe1313
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/76/631576/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,09d9d93f3b7353560c89f11ee751a4b428399df0,rebuild-reactive,85c5499c-1a79-11e9-8864-470f2a69c15e,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Fcharm-barbican-vault~master~I6ec90d6c7fcbd31d40929525228c516c467b82fb,openstack/charm-barbican-vault,master,I6ec90d6c7fcbd31d40929525228c516c467b82fb,Rebuild for sync charm-helpers,MERGED,2019-01-17 17:02:16.000000000,2019-01-24 06:31:33.000000000,2019-01-24 06:31:33.000000000,"[{'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 17:02:16.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/757e2da7abc9c043ce893a9631c790f34cb185bf', 'message': 'Rebuild for sync charm-helpers\n\nChange-Id: I6ec90d6c7fcbd31d40929525228c516c467b82fb\n'}]",0,631566,757e2da7abc9c043ce893a9631c790f34cb185bf,9,4,1,11805,,,0,"Rebuild for sync charm-helpers

Change-Id: I6ec90d6c7fcbd31d40929525228c516c467b82fb
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/66/631566/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,757e2da7abc9c043ce893a9631c790f34cb185bf,rebuild-reactive,85c5499c-1a79-11e9-8864-470f2a69c15e,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Fcharm-designate~master~I2936577d8c11cd3f7d1b1ce84696f6afa91f64df,openstack/charm-designate,master,I2936577d8c11cd3f7d1b1ce84696f6afa91f64df,Rebuild for sync charm-helpers,MERGED,2019-01-17 17:02:35.000000000,2019-01-24 06:31:32.000000000,2019-01-24 06:31:32.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 17:02:35.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/a5bfa3978ad003cb51ffbd446d7ee2006942c5ac', 'message': 'Rebuild for sync charm-helpers\n\nChange-Id: I2936577d8c11cd3f7d1b1ce84696f6afa91f64df\n'}]",0,631568,a5bfa3978ad003cb51ffbd446d7ee2006942c5ac,7,3,1,11805,,,0,"Rebuild for sync charm-helpers

Change-Id: I2936577d8c11cd3f7d1b1ce84696f6afa91f64df
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/68/631568/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,a5bfa3978ad003cb51ffbd446d7ee2006942c5ac,rebuild-reactive,85c5499c-1a79-11e9-8864-470f2a69c15e,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Fcharm-tempest~master~Ia178188348a442f9baa0075e558e4694a1ebcb2c,openstack/charm-tempest,master,Ia178188348a442f9baa0075e558e4694a1ebcb2c,Rebuild for sync charm-helpers,MERGED,2019-01-17 17:04:18.000000000,2019-01-24 06:30:56.000000000,2019-01-24 06:30:56.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 17:04:18.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/5fffa5518726a52e4598c642d4c759ab8c631353', 'message': 'Rebuild for sync charm-helpers\n\nChange-Id: Ia178188348a442f9baa0075e558e4694a1ebcb2c\n'}]",0,631578,5fffa5518726a52e4598c642d4c759ab8c631353,7,3,1,11805,,,0,"Rebuild for sync charm-helpers

Change-Id: Ia178188348a442f9baa0075e558e4694a1ebcb2c
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/78/631578/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,5fffa5518726a52e4598c642d4c759ab8c631353,rebuild-reactive,85c5499c-1a79-11e9-8864-470f2a69c15e,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Ftripleo-heat-templates~master~I9b03a16a82fc04ffd069ae4e2eb3fcd301d67ba9,openstack/tripleo-heat-templates,master,I9b03a16a82fc04ffd069ae4e2eb3fcd301d67ba9,Remove configuration for cni0 bridge,MERGED,2019-01-14 08:31:56.000000000,2019-01-24 06:22:14.000000000,2019-01-22 16:52:44.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-01-14 08:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85684aace44124d45e7086ef6c5d455695dc00aa', 'message': ""Remove configuration for cni0 bridge\n\nBy default podman configures cni0 bridge that uses 10.88.0.0/16.\nAs we use host networking and the subnet range may conflict with\nother networks, it's good to remove it.\n\nChange-Id: I9b03a16a82fc04ffd069ae4e2eb3fcd301d67ba9\n""}, {'number': 2, 'created': '2019-01-14 09:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/08774b9c4923ddd69123fc9bbc26d0ea2d5227e0', 'message': ""Remove configuration for cni0 bridge\n\nBy default podman configures cni0 bridge that uses 10.88.0.0/16.\nAs we use host networking and the subnet range may conflict with\nother networks, it's good to remove it.\n\nChange-Id: I9b03a16a82fc04ffd069ae4e2eb3fcd301d67ba9\n""}, {'number': 3, 'created': '2019-01-14 11:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56089ee49ea2e9af0666bce52db5e064245f5eeb', 'message': ""Remove configuration for cni0 bridge\n\nBy default podman configures cni0 bridge that uses 10.88.0.0/16.\nAs we use host networking and the subnet range may conflict with\nother networks, it's good to remove it.\n\nChange-Id: I9b03a16a82fc04ffd069ae4e2eb3fcd301d67ba9\n""}, {'number': 4, 'created': '2019-01-14 12:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/693e7a9ac81cd630b0b5ac69f09b5bba4937f36d', 'message': ""Remove configuration for cni0 bridge\n\nBy default podman configures cni0 bridge that uses 10.88.0.0/16.\nAs we use host networking and the subnet range may conflict with\nother networks, it's good to remove it.\n\nChange-Id: I9b03a16a82fc04ffd069ae4e2eb3fcd301d67ba9\n""}, {'number': 5, 'created': '2019-01-14 13:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a6d477c891489511b1e3246e83336318b8dc937b', 'message': ""Remove configuration for cni0 bridge\n\nBy default podman configures cni0 bridge that uses 10.88.0.0/16.\nAs we use host networking and the subnet range may conflict with\nother networks, it's good to remove it.\n\nChange-Id: I9b03a16a82fc04ffd069ae4e2eb3fcd301d67ba9\n""}, {'number': 6, 'created': '2019-01-15 11:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/533852c624bd422bf973a77ec43f659768a8e569', 'message': ""Remove configuration for cni0 bridge\n\nBy default podman configures cni0 bridge that uses 10.88.0.0/16.\nAs we use host networking and the subnet range may conflict with\nother networks, it's good to remove it.\n\nChange-Id: I9b03a16a82fc04ffd069ae4e2eb3fcd301d67ba9\n""}, {'number': 7, 'created': '2019-01-15 12:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd98d993b3417fbe8f4ffe85e655698fa455eee4', 'message': ""Remove configuration for cni0 bridge\n\nBy default podman configures cni0 bridge that uses 10.88.0.0/16.\nAs we use host networking and the subnet range may conflict with\nother networks, it's good to remove it.\n\nChange-Id: I9b03a16a82fc04ffd069ae4e2eb3fcd301d67ba9\n""}, {'number': 8, 'created': '2019-01-17 06:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c8a32d8b298182acf7087ff4bf2c1106a8cbc43', 'message': ""Remove configuration for cni0 bridge\n\nBy default podman configures cni0 bridge that uses 10.88.0.0/16.\nAs we use host networking and the subnet range may conflict with\nother networks, it's good to remove it.\n\nChange-Id: I9b03a16a82fc04ffd069ae4e2eb3fcd301d67ba9\n""}, {'number': 9, 'created': '2019-01-17 06:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b86bd8825d44fa8c9f841aa26d863eddf948c16', 'message': ""Remove configuration for cni0 bridge\n\nBy default podman configures cni0 bridge that uses 10.88.0.0/16.\nAs we use host networking and the subnet range may conflict with\nother networks, it's good to remove it.\n\nChange-Id: I9b03a16a82fc04ffd069ae4e2eb3fcd301d67ba9\n""}, {'number': 10, 'created': '2019-01-17 16:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb36a6a0ecd9890743d52194403c15f90b38a638', 'message': ""Remove configuration for cni0 bridge\n\nBy default podman configures cni0 bridge that uses 10.88.0.0/16.\nAs we use host networking and the subnet range may conflict with\nother networks, it's good to remove it.\n\nChange-Id: I9b03a16a82fc04ffd069ae4e2eb3fcd301d67ba9\n""}, {'number': 11, 'created': '2019-01-18 03:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba7a540cc53cd8aedb65e48b849610ddb0d992cb', 'message': ""Remove configuration for cni0 bridge\n\nBy default podman configures cni0 bridge that uses 10.88.0.0/16.\nAs we use host networking and the subnet range may conflict with\nother networks, it's good to remove it.\n\nChange-Id: I9b03a16a82fc04ffd069ae4e2eb3fcd301d67ba9\n""}, {'number': 12, 'created': '2019-01-21 14:47:54.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25d063197affef1e2ad65cb426005b3a7b5a3ecb', 'message': ""Remove configuration for cni0 bridge\n\nBy default podman configures cni0 bridge that uses 10.88.0.0/16.\nAs we use host networking and the subnet range may conflict with\nother networks, it's good to remove it.\n\nChange-Id: I9b03a16a82fc04ffd069ae4e2eb3fcd301d67ba9\n""}]",3,630625,25d063197affef1e2ad65cb426005b3a7b5a3ecb,44,8,12,8833,,,0,"Remove configuration for cni0 bridge

By default podman configures cni0 bridge that uses 10.88.0.0/16.
As we use host networking and the subnet range may conflict with
other networks, it's good to remove it.

Change-Id: I9b03a16a82fc04ffd069ae4e2eb3fcd301d67ba9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/630625/9 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,85684aace44124d45e7086ef6c5d455695dc00aa,remove_cni0, - name: Remove default cni config for cni0 file: path: /etc/cni/net.d/87-podman-bridge.conflist state: absent - name: Delete cni0 interface if exists command: ip link delete cni0 ignore_errors: True - name: Remove default cni config for cni0 file: path: /etc/cni/net.d/87-podman-bridge.conflist state: absent - name: Delete cni0 interface if exists command: ip link delete cni0 ignore_errors: True,,14,0
openstack%2Fmanila~master~I314f8a2e8de4df2179504cfaee2c372c774d1f19,openstack/manila,master,I314f8a2e8de4df2179504cfaee2c372c774d1f19,[Trivial fix] add missing ws seperator between words,MERGED,2019-01-23 06:34:08.000000000,2019-01-24 05:58:18.000000000,2019-01-23 13:42:40.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-01-23 06:34:08.000000000', 'files': ['manila/share/drivers/zfssa/restclient.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/7e28b872afba83ed4b3789b14d4d3c5061789ace', 'message': '[Trivial fix] add missing ws seperator between words\n\nThis is to add missing ws seperator between words.\n\nChange-Id: I314f8a2e8de4df2179504cfaee2c372c774d1f19\n'}]",0,632622,7e28b872afba83ed4b3789b14d4d3c5061789ace,17,11,1,20190,,,0,"[Trivial fix] add missing ws seperator between words

This is to add missing ws seperator between words.

Change-Id: I314f8a2e8de4df2179504cfaee2c372c774d1f19
",git fetch https://review.opendev.org/openstack/manila refs/changes/22/632622/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/zfssa/restclient.py'],1,7e28b872afba83ed4b3789b14d4d3c5061789ace,missing_ws, '%(zfssaurl)s ', '%(zfssaurl)s',1,1
openstack%2Ftempest~master~Ibc62494b5031c8b18421df5597d970c7bd71d5dd,openstack/tempest,master,Ibc62494b5031c8b18421df5597d970c7bd71d5dd,Add placement client,ABANDONED,2019-01-24 05:44:59.000000000,2019-01-24 05:47:54.000000000,,[],"[{'number': 1, 'created': '2019-01-24 05:44:59.000000000', 'files': ['releasenotes/notes/Placement-client-for-placement-based-minimum-bw-allocation-27ed0938118752b6.yaml', 'tempest/lib/services/placement/base_placement_client.py', 'tempest/config.py', 'tempest/lib/services/clients.py', 'tempest/lib/services/placement/placement_client.py', 'tempest/tests/lib/services/placement/test_placement_client.py', 'tempest/lib/services/placement/__init__.py', 'tempest/tests/lib/services/placement/__init__.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1f8f7ea5354225c35cbcdbbb3b97fe2de309344b', 'message': 'Add placement client\n\nChange-Id: Ibc62494b5031c8b18421df5597d970c7bd71d5dd\n'}]",0,632932,1f8f7ea5354225c35cbcdbbb3b97fe2de309344b,2,0,1,27478,,,0,"Add placement client

Change-Id: Ibc62494b5031c8b18421df5597d970c7bd71d5dd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/32/632932/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Placement-client-for-placement-based-minimum-bw-allocation-27ed0938118752b6.yaml', 'tempest/lib/services/placement/base_placement_client.py', 'tempest/config.py', 'tempest/lib/services/clients.py', 'tempest/lib/services/placement/placement_client.py', 'tempest/lib/services/placement/__init__.py', 'tempest/tests/lib/services/placement/test_placement_client.py', 'tempest/tests/lib/services/placement/__init__.py']",8,1f8f7ea5354225c35cbcdbbb3b97fe2de309344b,placement-tests,,,252,0
openstack%2Ffreezer~master~I55731b70dec4ecb19bf1f3ac2307091ba6a625ba,openstack/freezer,master,I55731b70dec4ecb19bf1f3ac2307091ba6a625ba,Add missing ws seperator between words,MERGED,2019-01-24 03:42:53.000000000,2019-01-24 05:37:08.000000000,2019-01-24 05:37:08.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-01-24 03:42:53.000000000', 'files': ['freezer/common/config.py', 'freezer/openstack/admin.py', 'freezer/storage/ssh.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/8d2cbeff00d4a433f8e4a3d5a1a5adef3d2c2933', 'message': 'Add missing ws seperator between words\n\nThis is to add missing ws seperator between words.\n\nChange-Id: I55731b70dec4ecb19bf1f3ac2307091ba6a625ba\n'}]",0,632915,8d2cbeff00d4a433f8e4a3d5a1a5adef3d2c2933,6,2,1,20190,,,0,"Add missing ws seperator between words

This is to add missing ws seperator between words.

Change-Id: I55731b70dec4ecb19bf1f3ac2307091ba6a625ba
",git fetch https://review.opendev.org/openstack/freezer refs/changes/15/632915/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezer/common/config.py', 'freezer/openstack/admin.py', 'freezer/storage/ssh.py']",3,8d2cbeff00d4a433f8e4a3d5a1a5adef3d2c2933,missing_ws, '2. --ssh-password argument is required and ', '2. --ssh-password argument is required and',5,5
openstack%2Fpuppet-glance~master~I474806d74c2815ca8899b74ee619e5107d81cc24,openstack/puppet-glance,master,I474806d74c2815ca8899b74ee619e5107d81cc24,Add missing glance cinder store settings,MERGED,2018-12-21 07:48:37.000000000,2019-01-24 05:27:10.000000000,2019-01-18 13:17:11.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 19138}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-21 07:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/22281b6d7159ba9f136636fb985274f06fe59b03', 'message': 'Add missing glance cinder store settings\n\nIn case of cinder backend of glance, for public images,\ncinder should have dedicated tenant for glance.\n\nSo adding below conf params for cinder backend,\n\n- cinder_store_project_name\n- cinder_store_user_name\n- cinder_store_password\n\nCloses-Bug: #1809104\nChange-Id: I474806d74c2815ca8899b74ee619e5107d81cc24\n'}, {'number': 2, 'created': '2018-12-26 08:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/018e0f8e57fd0b9d322c0f6fa3e7ef34eaba7b05', 'message': 'Add missing glance cinder store settings\n\nIn case of cinder backend of glance, for public images,\ncinder should have dedicated tenant for glance.\n\nSo adding below conf params for cinder backend,\n\n- cinder_store_project_name\n- cinder_store_user_name\n- cinder_store_password\n\nCloses-Bug: #1809104\nChange-Id: I474806d74c2815ca8899b74ee619e5107d81cc24\n'}, {'number': 3, 'created': '2019-01-11 07:03:02.000000000', 'files': ['manifests/backend/cinder.pp', 'spec/classes/glance_backend_cinder_spec.rb', 'releasenotes/notes/add-missing-cinder-store-settings-f7aef33ec122a39a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/57f5853a4e64c6064b0d8aada6362bdf8bcb9290', 'message': 'Add missing glance cinder store settings\n\nIn case of cinder backend of glance, for public images,\ncinder should have dedicated tenant for glance.\n\nSo adding below conf params for cinder backend,\n\n- cinder_store_project_name\n- cinder_store_user_name\n- cinder_store_password\n\nCloses-Bug: #1809104\nChange-Id: I474806d74c2815ca8899b74ee619e5107d81cc24\n'}]",6,626847,57f5853a4e64c6064b0d8aada6362bdf8bcb9290,32,7,3,19138,,,0,"Add missing glance cinder store settings

In case of cinder backend of glance, for public images,
cinder should have dedicated tenant for glance.

So adding below conf params for cinder backend,

- cinder_store_project_name
- cinder_store_user_name
- cinder_store_password

Closes-Bug: #1809104
Change-Id: I474806d74c2815ca8899b74ee619e5107d81cc24
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/47/626847/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/cinder.pp', 'spec/classes/glance_backend_cinder_spec.rb', 'releasenotes/notes/add-missing-cinder-store-settings-f7aef33ec122a39a.yaml']",3,22281b6d7159ba9f136636fb985274f06fe59b03,bug/1809104,"--- fixes: - | Add new parameter 'cinder_store_project_name', for project name where the image volume is stored in cinder. Add new parameter 'cinder_store_user_name', for user name to authenticate against cinder. Add new parameter 'cinder_store_password', for valid password for the user specified by `cinder_store_user_name' ",,45,0
openstack%2Fglance_store~master~I2622c457871815311241d2eea562d7a3c70b0795,openstack/glance_store,master,I2622c457871815311241d2eea562d7a3c70b0795,Remove moxstubout usage,MERGED,2018-10-29 14:22:07.000000000,2019-01-24 05:23:15.000000000,2019-01-24 05:23:15.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-29 14:22:07.000000000', 'files': ['glance_store/tests/unit/test_swift_store_multibackend.py', 'glance_store/tests/unit/test_swift_store.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/aefad17de8da89d24691928554ea85e88b40a475', 'message': 'Remove moxstubout usage\n\nAs of version 3.5.0 moxstub will be deprecated, so remove it where it has\nbeen used.\n\nChange-Id: I2622c457871815311241d2eea562d7a3c70b0795\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}]",0,613940,aefad17de8da89d24691928554ea85e88b40a475,8,3,1,24,,,0,"Remove moxstubout usage

As of version 3.5.0 moxstub will be deprecated, so remove it where it has
been used.

Change-Id: I2622c457871815311241d2eea562d7a3c70b0795
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/40/613940/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_swift_store.py', 'glance_store/tests/unit/test_swift_store_multibackend.py']",2,aefad17de8da89d24691928554ea85e88b40a475,," def stub_out_swiftclient(self, swift_store_auth_version): fixture_containers = ['glance'] fixture_container_headers = {} fixture_headers = { 'glance/%s' % FAKE_UUID: { 'content-length': FIVE_KB, 'etag': 'c2e5db72bd7fd153f53ede5da5a06de3' }, 'glance/%s' % FAKE_UUID2: {'x-static-large-object': 'true', }, } fixture_objects = { 'glance/%s' % FAKE_UUID: six.BytesIO(b""*"" * FIVE_KB), 'glance/%s' % FAKE_UUID2: six.BytesIO(b""*"" * FIVE_KB), } def fake_head_container(url, token, container, **kwargs): if container not in fixture_containers: msg = ""No container %s found"" % container status = http_client.NOT_FOUND raise swiftclient.ClientException(msg, http_status=status) return fixture_container_headers def fake_put_container(url, token, container, **kwargs): fixture_containers.append(container) def fake_post_container(url, token, container, headers, **kwargs): for key, value in headers.items(): fixture_container_headers[key] = value def fake_put_object(url, token, container, name, contents, **kwargs): # PUT returns the ETag header for the newly-added object # Large object manifest... global SWIFT_PUT_OBJECT_CALLS SWIFT_PUT_OBJECT_CALLS += 1 CHUNKSIZE = 64 * units.Ki fixture_key = ""%s/%s"" % (container, name) if fixture_key not in fixture_headers: if kwargs.get('headers'): etag = kwargs['headers']['ETag'] manifest = kwargs.get('headers').get('X-Object-Manifest') fixture_headers[fixture_key] = { 'manifest': True, 'etag': etag, 'x-object-manifest': manifest } fixture_objects[fixture_key] = None return etag if hasattr(contents, 'read'): fixture_object = six.BytesIO() read_len = 0 chunk = contents.read(CHUNKSIZE) checksum = hashlib.md5() while chunk: fixture_object.write(chunk) read_len += len(chunk) checksum.update(chunk) chunk = contents.read(CHUNKSIZE) etag = checksum.hexdigest() else: fixture_object = six.BytesIO(contents) read_len = len(contents) etag = hashlib.md5(fixture_object.getvalue()).hexdigest() if read_len > MAX_SWIFT_OBJECT_SIZE: msg = ('Image size:%d exceeds Swift max:%d' % (read_len, MAX_SWIFT_OBJECT_SIZE)) raise swiftclient.ClientException( msg, http_status=http_client.REQUEST_ENTITY_TOO_LARGE) fixture_objects[fixture_key] = fixture_object fixture_headers[fixture_key] = { 'content-length': read_len, 'etag': etag} return etag else: msg = (""Object PUT failed - Object with key %s already exists"" % fixture_key) raise swiftclient.ClientException( msg, http_status=http_client.CONFLICT) def fake_get_object(conn, container, name, **kwargs): # GET returns the tuple (list of headers, file object) fixture_key = ""%s/%s"" % (container, name) if fixture_key not in fixture_headers: msg = ""Object GET failed"" status = http_client.NOT_FOUND raise swiftclient.ClientException(msg, http_status=status) byte_range = None headers = kwargs.get('headers', dict()) if headers is not None: headers = dict((k.lower(), v) for k, v in headers.items()) if 'range' in headers: byte_range = headers.get('range') fixture = fixture_headers[fixture_key] if 'manifest' in fixture: # Large object manifest... we return a file containing # all objects with prefix of this fixture key chunk_keys = sorted([k for k in fixture_headers.keys() if k.startswith(fixture_key) and k != fixture_key]) result = six.BytesIO() for key in chunk_keys: result.write(fixture_objects[key].getvalue()) else: result = fixture_objects[fixture_key] if byte_range is not None: start = int(byte_range.split('=')[1].strip('-')) result = six.BytesIO(result.getvalue()[start:]) fixture_headers[fixture_key]['content-length'] = len( result.getvalue()) return fixture_headers[fixture_key], result def fake_head_object(url, token, container, name, **kwargs): # HEAD returns the list of headers for an object try: fixture_key = ""%s/%s"" % (container, name) return fixture_headers[fixture_key] except KeyError: msg = ""Object HEAD failed - Object does not exist"" status = http_client.NOT_FOUND raise swiftclient.ClientException(msg, http_status=status) def fake_delete_object(url, token, container, name, **kwargs): # DELETE returns nothing fixture_key = ""%s/%s"" % (container, name) if fixture_key not in fixture_headers: msg = ""Object DELETE failed - Object does not exist"" status = http_client.NOT_FOUND raise swiftclient.ClientException(msg, http_status=status) else: del fixture_headers[fixture_key] del fixture_objects[fixture_key] def fake_http_connection(*args, **kwargs): return None def fake_get_auth(url, user, key, auth_version, **kwargs): if url is None: return None, None if 'http' in url and '://' not in url: raise ValueError('Invalid url %s' % url) # Check the auth version against the configured value if swift_store_auth_version != auth_version: msg = 'AUTHENTICATION failed (version mismatch)' raise swiftclient.ClientException(msg) return None, None self.useFixture(fixtures.MockPatch( 'swiftclient.client.head_container', fake_head_container)) self.useFixture(fixtures.MockPatch( 'swiftclient.client.put_container', fake_put_container)) self.useFixture(fixtures.MockPatch( 'swiftclient.client.post_container', fake_post_container)) self.useFixture(fixtures.MockPatch( 'swiftclient.client.put_object', fake_put_object)) self.useFixture(fixtures.MockPatch( 'swiftclient.client.delete_object', fake_delete_object)) self.useFixture(fixtures.MockPatch( 'swiftclient.client.head_object', fake_head_object)) self.useFixture(fixtures.MockPatch( 'swiftclient.client.Connection.get_object', fake_get_object)) self.useFixture(fixtures.MockPatch( 'swiftclient.client.get_auth', fake_get_auth)) self.useFixture(fixtures.MockPatch( 'swiftclient.client.http_connection', fake_http_connection)) self.stub_out_swiftclient(config['swift_store_auth_version']) self.useFixture(fixtures.MockPatch( 'swiftclient.Connection', FakeConnection)) self.useFixture(fixtures.MockPatch( 'swiftclient.Connection', FakeConnection))","from oslotest import moxstubout# We stub out as little as possible to ensure that the code paths # between swift and swiftclient are tested # thoroughly def stub_out_swiftclient(stubs, swift_store_auth_version): fixture_containers = ['glance'] fixture_container_headers = {} fixture_headers = { 'glance/%s' % FAKE_UUID: { 'content-length': FIVE_KB, 'etag': 'c2e5db72bd7fd153f53ede5da5a06de3' }, 'glance/%s' % FAKE_UUID2: {'x-static-large-object': 'true', }, } fixture_objects = {'glance/%s' % FAKE_UUID: six.BytesIO(b""*"" * FIVE_KB), 'glance/%s' % FAKE_UUID2: six.BytesIO(b""*"" * FIVE_KB), } def fake_head_container(url, token, container, **kwargs): if container not in fixture_containers: msg = ""No container %s found"" % container status = http_client.NOT_FOUND raise swiftclient.ClientException(msg, http_status=status) return fixture_container_headers def fake_put_container(url, token, container, **kwargs): fixture_containers.append(container) def fake_post_container(url, token, container, headers, **kwargs): for key, value in headers.items(): fixture_container_headers[key] = value def fake_put_object(url, token, container, name, contents, **kwargs): # PUT returns the ETag header for the newly-added object # Large object manifest... global SWIFT_PUT_OBJECT_CALLS SWIFT_PUT_OBJECT_CALLS += 1 CHUNKSIZE = 64 * units.Ki fixture_key = ""%s/%s"" % (container, name) if fixture_key not in fixture_headers: if kwargs.get('headers'): etag = kwargs['headers']['ETag'] manifest = kwargs.get('headers').get('X-Object-Manifest') fixture_headers[fixture_key] = {'manifest': True, 'etag': etag, 'x-object-manifest': manifest} fixture_objects[fixture_key] = None return etag if hasattr(contents, 'read'): fixture_object = six.BytesIO() read_len = 0 chunk = contents.read(CHUNKSIZE) checksum = hashlib.md5() while chunk: fixture_object.write(chunk) read_len += len(chunk) checksum.update(chunk) chunk = contents.read(CHUNKSIZE) etag = checksum.hexdigest() else: fixture_object = six.BytesIO(contents) read_len = len(contents) etag = hashlib.md5(fixture_object.getvalue()).hexdigest() if read_len > MAX_SWIFT_OBJECT_SIZE: msg = ('Image size:%d exceeds Swift max:%d' % (read_len, MAX_SWIFT_OBJECT_SIZE)) raise swiftclient.ClientException( msg, http_status=http_client.REQUEST_ENTITY_TOO_LARGE) fixture_objects[fixture_key] = fixture_object fixture_headers[fixture_key] = { 'content-length': read_len, 'etag': etag} return etag else: msg = (""Object PUT failed - Object with key %s already exists"" % fixture_key) raise swiftclient.ClientException(msg, http_status=http_client.CONFLICT) def fake_get_object(conn, container, name, **kwargs): # GET returns the tuple (list of headers, file object) fixture_key = ""%s/%s"" % (container, name) if fixture_key not in fixture_headers: msg = ""Object GET failed"" status = http_client.NOT_FOUND raise swiftclient.ClientException(msg, http_status=status) byte_range = None headers = kwargs.get('headers', dict()) if headers is not None: headers = dict((k.lower(), v) for k, v in headers.items()) if 'range' in headers: byte_range = headers.get('range') fixture = fixture_headers[fixture_key] if 'manifest' in fixture: # Large object manifest... we return a file containing # all objects with prefix of this fixture key chunk_keys = sorted([k for k in fixture_headers.keys() if k.startswith(fixture_key) and k != fixture_key]) result = six.BytesIO() for key in chunk_keys: result.write(fixture_objects[key].getvalue()) else: result = fixture_objects[fixture_key] if byte_range is not None: start = int(byte_range.split('=')[1].strip('-')) result = six.BytesIO(result.getvalue()[start:]) fixture_headers[fixture_key]['content-length'] = len( result.getvalue()) return fixture_headers[fixture_key], result def fake_head_object(url, token, container, name, **kwargs): # HEAD returns the list of headers for an object try: fixture_key = ""%s/%s"" % (container, name) return fixture_headers[fixture_key] except KeyError: msg = ""Object HEAD failed - Object does not exist"" status = http_client.NOT_FOUND raise swiftclient.ClientException(msg, http_status=status) def fake_delete_object(url, token, container, name, **kwargs): # DELETE returns nothing fixture_key = ""%s/%s"" % (container, name) if fixture_key not in fixture_headers: msg = ""Object DELETE failed - Object does not exist"" status = http_client.NOT_FOUND raise swiftclient.ClientException(msg, http_status=status) else: del fixture_headers[fixture_key] del fixture_objects[fixture_key] def fake_http_connection(*args, **kwargs): return None def fake_get_auth(url, user, key, auth_version, **kwargs): if url is None: return None, None if 'http' in url and '://' not in url: raise ValueError('Invalid url %s' % url) # Check the auth version against the configured value if swift_store_auth_version != auth_version: msg = 'AUTHENTICATION failed (version mismatch)' raise swiftclient.ClientException(msg) return None, None stubs.Set(swiftclient.client, 'head_container', fake_head_container) stubs.Set(swiftclient.client, 'put_container', fake_put_container) stubs.Set(swiftclient.client, 'post_container', fake_post_container) stubs.Set(swiftclient.client, 'put_object', fake_put_object) stubs.Set(swiftclient.client, 'delete_object', fake_delete_object) stubs.Set(swiftclient.client, 'head_object', fake_head_object) stubs.Set(swiftclient.client.Connection, 'get_object', fake_get_object) stubs.Set(swiftclient.client, 'get_auth', fake_get_auth) stubs.Set(swiftclient.client, 'http_connection', fake_http_connection) moxfixture = self.useFixture(moxstubout.MoxStubout()) self.stubs = moxfixture.stubs stub_out_swiftclient(self.stubs, config['swift_store_auth_version']) moxfixture = self.useFixture(moxstubout.MoxStubout()) self.stubs = moxfixture.stubs self.stubs.Set(swiftclient, 'Connection', FakeConnection) moxfixture = self.useFixture(moxstubout.MoxStubout()) self.stubs = moxfixture.stubs self.stubs.Set(swiftclient, 'Connection', FakeConnection) moxfixture = self.useFixture(moxstubout.MoxStubout()) self.stubs = moxfixture.stubs",347,360
openstack%2Fzun~master~Icce91518a637ef59837641642f7b7ac174681081,openstack/zun,master,Icce91518a637ef59837641642f7b7ac174681081,Support private registry - API layer,MERGED,2019-01-04 03:00:20.000000000,2019-01-24 04:29:02.000000000,2019-01-24 04:29:02.000000000,"[{'_account_id': 11536}, {'_account_id': 21428}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2019-01-04 03:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/bc5e34c822a1764f061431ba0442f661fc62e7a7', 'message': '[WIP] Add support for private docker registry\n\nChange-Id: Icce91518a637ef59837641642f7b7ac174681081\n'}, {'number': 2, 'created': '2019-01-05 18:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f516e2f28c831eb4d978ae279e411e71500809bf', 'message': '[WIP] Add support for private docker registry\n\nChange-Id: Icce91518a637ef59837641642f7b7ac174681081\n'}, {'number': 3, 'created': '2019-01-05 22:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/5cc55cb92d1e9a74470b9cfd156bd20b2b67eabf', 'message': '[WIP] Add support for private docker registry\n\nChange-Id: Icce91518a637ef59837641642f7b7ac174681081\n'}, {'number': 4, 'created': '2019-01-06 00:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ff4e94168f86f811f5ef1a041c2d444ec29ace79', 'message': '[WIP] Add support for private docker registry\n\nChange-Id: Icce91518a637ef59837641642f7b7ac174681081\n'}, {'number': 5, 'created': '2019-01-06 16:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/87c1d986e8f2647866b6c38c72d02aa70b8b1067', 'message': '[WIP] Add support for private docker registry\n\nChange-Id: Icce91518a637ef59837641642f7b7ac174681081\n'}, {'number': 6, 'created': '2019-01-06 21:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3f82da0dbcfbc2b7db239c2298be7e7fdf6091b6', 'message': ""Support private registry - API layer\n\nIntroduce API resource 'registry' which can be used\nby users to CRUD private registry.\n\nPartial-Bug: #1702830\nChange-Id: Icce91518a637ef59837641642f7b7ac174681081\n""}, {'number': 7, 'created': '2019-01-08 03:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a076df10c1e17a84f018316fd928e773919e30d3', 'message': ""Support private registry - API layer\n\nIntroduce API resource 'registry' which can be used\nby users to CRUD private registry.\n\nPartial-Bug: #1702830\nChange-Id: Icce91518a637ef59837641642f7b7ac174681081\n""}, {'number': 8, 'created': '2019-01-09 04:16:19.000000000', 'files': ['zun/common/policies/registry.py', 'zun/api/controllers/v1/views/registries_view.py', 'zun/api/controllers/v1/schemas/registries.py', 'zun/api/controllers/v1/collection.py', 'zun/api/controllers/v1/schemas/parameter_types.py', 'zun/api/rest_api_version_history.rst', 'zun/tests/unit/api/base.py', 'zun/api/controllers/v1/__init__.py', 'zun/tests/unit/api/controllers/test_root.py', 'zun/tests/unit/objects/utils.py', 'zun/common/policies/__init__.py', 'zun/api/controllers/v1/registries.py', 'zun/api/controllers/versions.py', 'zun/tests/unit/api/controllers/v1/test_registries.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/c88568d05befce148a9614ca9cc25bd8bc5ddcac', 'message': ""Support private registry - API layer\n\nIntroduce API resource 'registry' which can be used\nby users to CRUD private registry.\n\nPartial-Bug: #1702830\nChange-Id: Icce91518a637ef59837641642f7b7ac174681081\n""}]",3,628332,c88568d05befce148a9614ca9cc25bd8bc5ddcac,35,4,8,11536,,,0,"Support private registry - API layer

Introduce API resource 'registry' which can be used
by users to CRUD private registry.

Partial-Bug: #1702830
Change-Id: Icce91518a637ef59837641642f7b7ac174681081
",git fetch https://review.opendev.org/openstack/zun refs/changes/32/628332/8 && git format-patch -1 --stdout FETCH_HEAD,"['zun/db/api.py', 'zun/db/sqlalchemy/models.py', 'zun/db/sqlalchemy/api.py', 'zun/db/sqlalchemy/alembic/versions/5ffc1cabe6b4_add_registry_table.py']",4,bc5e34c822a1764f061431ba0442f661fc62e7a7,bug/1702830,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. """"""add registry table Revision ID: 5ffc1cabe6b4 Revises: 21fa080c818a Create Date: 2019-01-04 02:22:45.889795 """""" # revision identifiers, used by Alembic. revision = '5ffc1cabe6b4' down_revision = '21fa080c818a' branch_labels = None depends_on = None from alembic import op import sqlalchemy as sa def upgrade(): op.create_table( 'registry', sa.Column('created_at', sa.DateTime(), nullable=True), sa.Column('updated_at', sa.DateTime(), nullable=True), sa.Column('id', sa.Integer(), nullable=False), sa.Column('project_id', sa.String(length=255), nullable=True), sa.Column('user_id', sa.String(length=255), nullable=True), sa.Column('uuid', sa.String(length=36), nullable=True), sa.Column('domain', sa.String(length=255), nullable=False), sa.Column('username', sa.String(length=255), nullable=True), sa.Column('password', sa.String(length=255), nullable=True), sa.PrimaryKeyConstraint('id'), sa.UniqueConstraint('uuid', name='uniq_registry0uuid'), mysql_charset='utf8', mysql_engine='InnoDB' ) ",,206,6
openstack%2Ftripleo-heat-templates~master~Iff6406774de842853dc183395dcac1abc5734d5e,openstack/tripleo-heat-templates,master,Iff6406774de842853dc183395dcac1abc5734d5e,Move securetty to deployment dir,MERGED,2019-01-22 20:46:15.000000000,2019-01-24 04:12:04.000000000,2019-01-24 04:12:04.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-22 20:46:15.000000000', 'files': ['deployment/securetty/securetty-baremetal-puppet.yaml', 'environments/securetty.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/213e5121ce72df1329fcf54664590d6d840b8eae', 'message': 'Move securetty to deployment dir\n\nChange-Id: Iff6406774de842853dc183395dcac1abc5734d5e\nRelated-Blueprint: services-yaml-flattening\n'}]",0,632553,213e5121ce72df1329fcf54664590d6d840b8eae,13,5,1,14985,,,0,"Move securetty to deployment dir

Change-Id: Iff6406774de842853dc183395dcac1abc5734d5e
Related-Blueprint: services-yaml-flattening
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/632553/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/securetty/securetty-baremetal-puppet.yaml', 'environments/securetty.yaml']",2,213e5121ce72df1329fcf54664590d6d840b8eae,bp/services-yaml-flattening, OS::TripleO::Services::Securetty: ../deployment/securetty/securetty-baremetal-puppet.yaml, OS::TripleO::Services::Securetty: ../puppet/services/securetty.yaml,1,1
openstack%2Fheat~master~If9d6744fec660cbef600794ab12d45b23aeeb550,openstack/heat,master,If9d6744fec660cbef600794ab12d45b23aeeb550,Add missing ws seperator between words,MERGED,2018-11-19 06:12:46.000000000,2019-01-24 04:07:07.000000000,2019-01-24 04:07:07.000000000,"[{'_account_id': 4257}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-19 06:12:46.000000000', 'files': ['heat/engine/resources/openstack/heat/software_deployment.py', 'heat/engine/notification/__init__.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/31bfba049b2e1f6aa23fddd3e7183d28595857d4', 'message': 'Add missing ws seperator between words\n\nThis is to add missing ws seperator between words, usually\nin log messages.\n\nChange-Id: If9d6744fec660cbef600794ab12d45b23aeeb550\n'}]",0,618687,31bfba049b2e1f6aa23fddd3e7183d28595857d4,25,3,1,20190,,,0,"Add missing ws seperator between words

This is to add missing ws seperator between words, usually
in log messages.

Change-Id: If9d6744fec660cbef600794ab12d45b23aeeb550
",git fetch https://review.opendev.org/openstack/heat refs/changes/87/618687/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/heat/software_deployment.py', 'heat/engine/notification/__init__.py']",2,31bfba049b2e1f6aa23fddd3e7183d28595857d4,missing_ws, help=_('Default notification level for outgoing ', help=_('Default notification level for outgoing',3,3
openstack%2Fpython-freezerclient~master~I2ab1b716993cc4648b6a3164b1b35ba5a96a7465,openstack/python-freezerclient,master,I2ab1b716993cc4648b6a3164b1b35ba5a96a7465,Change openstack-dev to openstack-discuss in setup.cfg,MERGED,2019-01-24 02:22:00.000000000,2019-01-24 03:42:37.000000000,2019-01-24 03:42:36.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-01-24 02:22:00.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/05d6147ba5026ecc21b4b38b7745e83c21016dad', 'message': 'Change openstack-dev to openstack-discuss in setup.cfg\n\nChange-Id: I2ab1b716993cc4648b6a3164b1b35ba5a96a7465\n'}]",0,632860,05d6147ba5026ecc21b4b38b7745e83c21016dad,7,3,1,29423,,,0,"Change openstack-dev to openstack-discuss in setup.cfg

Change-Id: I2ab1b716993cc4648b6a3164b1b35ba5a96a7465
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/60/632860/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,05d6147ba5026ecc21b4b38b7745e83c21016dad,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fansible-hardening~master~I72fd18d36ab139d7140281374b5c2b89f7cb460a,openstack/ansible-hardening,master,I72fd18d36ab139d7140281374b5c2b89f7cb460a,Switch to rtcsync for chrony,MERGED,2019-01-15 14:39:02.000000000,2019-01-24 03:29:38.000000000,2019-01-22 15:23:33.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-01-15 14:39:02.000000000', 'files': ['templates/chrony.conf.j2'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/ef1b4170328391d55c3ca94e8183fdd56a229c34', 'message': ""Switch to rtcsync for chrony\n\nwhen setting security_ntp_sync_rtc to true, chrony will sync rtc every\n11 minutes.\n\nusing rtcfile + rtcautotrim locks access to rtc clock for other tools,\nlike hwclock or timedatectl so it's hard to validate that the clock is\nreally synced.\n\nChange-Id: I72fd18d36ab139d7140281374b5c2b89f7cb460a\n""}]",0,630996,ef1b4170328391d55c3ca94e8183fdd56a229c34,9,3,1,13095,,,0,"Switch to rtcsync for chrony

when setting security_ntp_sync_rtc to true, chrony will sync rtc every
11 minutes.

using rtcfile + rtcautotrim locks access to rtc clock for other tools,
like hwclock or timedatectl so it's hard to validate that the clock is
really synced.

Change-Id: I72fd18d36ab139d7140281374b5c2b89f7cb460a
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/96/630996/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/chrony.conf.j2'],1,ef1b4170328391d55c3ca94e8183fdd56a229c34,rtcsync,"# The rtcsync directive enables a mode where the system time is periodically # copied to the real time clock (RTC). # On Linux the RTC copy is performed by the kernel every 11 minutes. This # directive cannot be used when the normal RTC tracking is enabled, i.e. when # the rtcfile directive is used. rtcsync",# This directive tells chrony to regulate the real-time clock and tells it # Where to store related data. It may not work on some newer motherboards # that use the HPET real-time clock. It requires enhanced real-time # support in the kernel. It is disabled by default because with certain # combinations of motherboard and kernel it is reported to cause lockups. rtcfile /var/lib/chrony/chrony.rtc rtcautotrim 10,6,8
openstack%2Fkeystone~master~Idfb0cdab6ff1c4a4fdeed09b83584a973672f363,openstack/keystone,master,Idfb0cdab6ff1c4a4fdeed09b83584a973672f363,Update endpoint policies for system reader,MERGED,2018-11-21 17:51:21.000000000,2019-01-24 02:51:42.000000000,2019-01-24 02:51:42.000000000,"[{'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-11-21 17:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2c892eace7c5d2e017ed498ced97b6353e01bb84', 'message': 'Update endpoint policies for system reader\n\nThe endpoint policies were not taking the default roles work we did\nlast release into account. This commit changes the default policies\nto rely on the ``reader`` role for get and list endpoints. Subsequent\npatches will incorporate:\n\n - system member\n - system admin\n - domain users\n - project users\n\n Related-Bug: 1804482\n Related-Bug: 1804483\n\nChange-Id: Idfb0cdab6ff1c4a4fdeed09b83584a973672f363\n'}, {'number': 2, 'created': '2018-11-28 14:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0557a863c58d4e984a03c4412a4e8ba741f46761', 'message': 'Update endpoint policies for system reader\n\nThe endpoint policies were not taking the default roles work we did\nlast release into account. This commit changes the default policies\nto rely on the ``reader`` role for get and list endpoints. Subsequent\npatches will incorporate:\n\n - system member\n - system admin\n - domain users\n - project users\n\n Related-Bug: 1804482\n Related-Bug: 1804483\n\nChange-Id: Idfb0cdab6ff1c4a4fdeed09b83584a973672f363\n'}, {'number': 3, 'created': '2018-11-30 22:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bd7b53921d374a23163a6f22915173552a504d02', 'message': 'Update endpoint policies for system reader\n\nThe endpoint policies were not taking the default roles work we did\nlast release into account. This commit changes the default policies\nto rely on the ``reader`` role for get and list endpoints. Subsequent\npatches will incorporate:\n\n - system member test coverage\n - system admin functionality\n - domain users test coverage\n - project users test coverage\n\n Related-Bug: 1804482\n Related-Bug: 1804483\n\nChange-Id: Idfb0cdab6ff1c4a4fdeed09b83584a973672f363\n'}, {'number': 4, 'created': '2018-12-18 21:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/883da389d519d47387a3290c955405ced08c5d9d', 'message': 'Update endpoint policies for system reader\n\nThe endpoint policies were not taking the default roles work we did\nlast release into account. This commit changes the default policies\nto rely on the ``reader`` role for get and list endpoints. Subsequent\npatches will incorporate:\n\n - system member test coverage\n - system admin functionality\n - domain users test coverage\n - project users test coverage\n\n Related-Bug: 1804482\n Related-Bug: 1804483\n\nChange-Id: Idfb0cdab6ff1c4a4fdeed09b83584a973672f363\n'}, {'number': 5, 'created': '2018-12-18 21:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e1d3c1ce8a074cbe33165fa4e68ac2d7c8230c01', 'message': 'Update endpoint policies for system reader\n\nThe endpoint policies were not taking the default roles work we did\nlast release into account. This commit changes the default policies\nto rely on the ``reader`` role for get and list endpoints. Subsequent\npatches will incorporate:\n\n - system member test coverage\n - system admin functionality\n - domain users test coverage\n - project users test coverage\n\n Related-Bug: 1804482\n Related-Bug: 1804483\n\nChange-Id: Idfb0cdab6ff1c4a4fdeed09b83584a973672f363\n'}, {'number': 6, 'created': '2019-01-08 22:33:06.000000000', 'files': ['keystone/common/policies/endpoint.py', 'keystone/tests/unit/protection/v3/test_endpoints.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/dcf8a445ee9d423f8bf9afa0e6786d06186f24e3', 'message': 'Update endpoint policies for system reader\n\nThe endpoint policies were not taking the default roles work we did\nlast release into account. This commit changes the default policies\nto rely on the ``reader`` role for get and list endpoints. Subsequent\npatches will incorporate:\n\n - system member test coverage\n - system admin functionality\n - domain users test coverage\n - project users test coverage\n\n Related-Bug: 1804482\n Related-Bug: 1804483\n\nChange-Id: Idfb0cdab6ff1c4a4fdeed09b83584a973672f363\n'}]",0,619329,dcf8a445ee9d423f8bf9afa0e6786d06186f24e3,26,5,6,5046,,,0,"Update endpoint policies for system reader

The endpoint policies were not taking the default roles work we did
last release into account. This commit changes the default policies
to rely on the ``reader`` role for get and list endpoints. Subsequent
patches will incorporate:

 - system member test coverage
 - system admin functionality
 - domain users test coverage
 - project users test coverage

 Related-Bug: 1804482
 Related-Bug: 1804483

Change-Id: Idfb0cdab6ff1c4a4fdeed09b83584a973672f363
",git fetch https://review.opendev.org/openstack/keystone refs/changes/29/619329/5 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/policies/endpoint.py', 'keystone/tests/unit/protection/v3/test_endpoints.py']",2,2c892eace7c5d2e017ed498ced97b6353e01bb84,implement-default-roles,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from six.moves import http_client from keystone.common import provider_api import keystone.conf from keystone.tests.common import auth as common_auth from keystone.tests import unit from keystone.tests.unit import base_classes from keystone.tests.unit import ksfixtures CONF = keystone.conf.CONF PROVIDERS = provider_api.ProviderAPIs class _SystemUserEndpointTests(object): def test_user_can_list_endpoints(self): service = PROVIDERS.catalog_api.create_service( uuid.uuid4().hex, unit.new_service_ref() ) endpoint = unit.new_endpoint_ref(service['id'], region_id=None) endpoint = PROVIDERS.catalog_api.create_endpoint( endpoint['id'], endpoint ) with self.test_client() as c: r = c.get('/v3/endpoints', headers=self.headers) endpoints = [] for endpoint in r.json['endpoints']: endpoints.append(endpoint['id']) self.assertIn(endpoint['id'], endpoints) def test_user_can_get_an_endpoint(self): service = PROVIDERS.catalog_api.create_service( uuid.uuid4().hex, unit.new_service_ref() ) endpoint = unit.new_endpoint_ref(service['id'], region_id=None) endpoint = PROVIDERS.catalog_api.create_endpoint( endpoint['id'], endpoint ) with self.test_client() as c: c.get('/v3/endpoints/%s' % endpoint['id'], headers=self.headers) class SystemReaderTests(base_classes.TestCaseWithBootstrap, common_auth.AuthTestMixin, _SystemUserEndpointTests): def setUp(self): super(SystemReaderTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) system_reader = unit.new_user_ref( domain_id=CONF.identity.default_domain_id ) self.user_id = PROVIDERS.identity_api.create_user( system_reader )['id'] PROVIDERS.assignment_api.create_system_grant_for_user( self.user_id, self.bootstrapper.reader_role_id ) auth = self.build_authentication_request( user_id=self.user_id, password=system_reader['password'], system=True ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id} def test_user_cannot_create_endpoints(self): create = { 'endpoint': { 'interface': 'public', 'service_id': uuid.uuid4().hex, 'url': 'https://' + uuid.uuid4().hex + '.com' } } with self.test_client() as c: c.post( '/v3/endpoints', json=create, headers=self.headers, expected_status_code=http_client.FORBIDDEN ) def test_user_cannot_update_endpoints(self): service = PROVIDERS.catalog_api.create_service( uuid.uuid4().hex, unit.new_service_ref() ) endpoint = unit.new_endpoint_ref(service['id'], region_id=None) endpoint = PROVIDERS.catalog_api.create_endpoint( endpoint['id'], endpoint ) update = {'endpoint': {'interface': 'internal'}} with self.test_client() as c: c.patch( '/v3/endpoints/%s' % endpoint['id'], json=update, headers=self.headers, expected_status_code=http_client.FORBIDDEN ) def test_user_cannot_delete_endpoints(self): service = PROVIDERS.catalog_api.create_service( uuid.uuid4().hex, unit.new_service_ref() ) endpoint = unit.new_endpoint_ref(service['id'], region_id=None) endpoint = PROVIDERS.catalog_api.create_endpoint( endpoint['id'], endpoint ) with self.test_client() as c: c.delete( '/v3/endpoints/%s' % endpoint['id'], headers=self.headers, expected_status_code=http_client.FORBIDDEN ) ",,166,4
openstack%2Fironic-specs~master~If66303dfdeefb667b28d85ee0481fb268e65f71d,openstack/ironic-specs,master,If66303dfdeefb667b28d85ee0481fb268e65f71d,Add spec for Huawei iBMC driver,MERGED,2019-01-05 08:52:27.000000000,2019-01-24 02:39:58.000000000,2019-01-23 05:44:54.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 25547}, {'_account_id': 26340}, {'_account_id': 29702}]","[{'number': 1, 'created': '2019-01-05 08:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/677adb4c3a8a9b8876afb014d1ddf060b82b224f', 'message': ""Add spec for Huawei iBMC driver\n\nThis spec proposes to add Power and Management interfaces for Huawei's\niBMC Driver.\n\nChange-Id: If66303dfdeefb667b28d85ee0481fb268e65f71d\nStory: 2004635\n""}, {'number': 2, 'created': '2019-01-08 12:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/46cd6e9d3b8df4ed3e2d1c370c3cfc82ffd1db51', 'message': ""Add spec for Huawei iBMC driver\n\nThis spec proposes to add Power and Management interfaces for Huawei's\niBMC Driver.\n\nChange-Id: If66303dfdeefb667b28d85ee0481fb268e65f71d\nStory: 2004635\n""}, {'number': 3, 'created': '2019-01-08 12:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6ade44d528c2040dbb14fc4915d3930b5fd8f046', 'message': ""Add spec for Huawei iBMC driver\n\nThis spec proposes to add Power and Management interfaces for Huawei's\niBMC Driver.\n\nChange-Id: If66303dfdeefb667b28d85ee0481fb268e65f71d\nStory: 2004635\n""}, {'number': 4, 'created': '2019-01-08 15:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2118860c2631da611123777b1a9d6b965ad229b2', 'message': ""Add spec for Huawei iBMC driver\n\nThis spec proposes to add Power and Management interfaces for Huawei's\niBMC Driver.\n\nChange-Id: If66303dfdeefb667b28d85ee0481fb268e65f71d\nStory: 2004635\n""}, {'number': 5, 'created': '2019-01-09 03:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/71b33236bf232c1e7a4e05b91f3c986884091f4d', 'message': ""Add spec for Huawei iBMC driver\n\nThis spec proposes to add Power and Management interfaces for Huawei's\niBMC Driver.\n\nChange-Id: If66303dfdeefb667b28d85ee0481fb268e65f71d\nStory: 2004635\n""}, {'number': 6, 'created': '2019-01-10 02:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/31a880b72e8d3c18756e52fd6b504d8756f1f25c', 'message': ""Add spec for Huawei iBMC driver\n\nThis spec proposes to add Power and Management interfaces for Huawei's\niBMC Driver.\n\nChange-Id: If66303dfdeefb667b28d85ee0481fb268e65f71d\nStory: 2004635\n""}, {'number': 7, 'created': '2019-01-22 07:19:50.000000000', 'files': ['specs/not-implemented/ibmc-driver.rst', 'specs/approved/ibmc-driver.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d9a8625186463776978997ebdc6b30924aaaa58a', 'message': ""Add spec for Huawei iBMC driver\n\nThis spec proposes to add Power and Management interfaces for Huawei's\niBMC Driver.\n\nChange-Id: If66303dfdeefb667b28d85ee0481fb268e65f71d\nStory: 2004635\n""}]",67,628724,d9a8625186463776978997ebdc6b30924aaaa58a,57,7,7,29702,,,0,"Add spec for Huawei iBMC driver

This spec proposes to add Power and Management interfaces for Huawei's
iBMC Driver.

Change-Id: If66303dfdeefb667b28d85ee0481fb268e65f71d
Story: 2004635
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/24/628724/7 && git format-patch -1 --stdout FETCH_HEAD,"['specs/not-implemented/ibmc-driver.rst', 'specs/approved/ibmc-driver.rst']",2,677adb4c3a8a9b8876afb014d1ddf060b82b224f,rfe/huawei-ibmc-driver,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ********************** Huawei iBMC Driver ********************** https://storyboard.openstack.org/#!/story/2004635 This specification proposes to add new interfaces that provide Ironic support to Huawei iBMC 2288H V5, CH121 V5 series servers. Problem description =================== Huawei’s Intelligent Baseboard Management System (iBMC) is an embedded server management system that is used to manage servers throughout their lifecycle. It provides a series of management tools for hardware status monitoring, deployment, energy savings, and security protection. In addition to managing the nodes using IPMI protocol, this specification proposes to add hardware types and interfaces to manage Huawei servers using iBMC Redfish API. The Redfish API documentation for iBMC is provided in the references at the end of the document. Proposed change =============== New power, management and vendor interfaces will be added as part of this change. The interfaces use Redfish API to communicate with iBMC. The interfaces used are: * IBMCPower for Power operations * IBMCManagement for Management operations * IBMCVendor for Vendor specific operations * Power: This feature allows the user to turn the node on/off or reboot by using the power interface which will in turn call iBMC Redfish API. * Management: This feature allows the user to get and set the primary boot device of the Huawei servers, and to get the supported boot devices. * Vendor: This feature allows the user to perform vendor specific operations. For example, query the boot up sequence of the Huawei servers. Alternatives ------------ None Data model impact ----------------- None RPC API impact -------------- None State Machine Impact -------------------- None REST API impact --------------- None Client (CLI) impact ------------------- None Driver API impact ----------------- None Nova driver impact ------------------ None Security impact --------------- None Other end user impact --------------------- None Scalability impact ------------------ None Performance Impact ------------------ None Ramdisk impact -------------- None Other deployer impact --------------------- The following driver_info fields are required while enrolling node into Ironic: * ibmc_address: The URL address to the ibmc controller * ibmc_username: User account with admin/server-profile access privilege * ibmc_password: User account password * ibmc_verify_ca(optional): Whether to verify the host certificate or the path of a certificate file or directory with trusted certificates Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: * QianBiao Ng (iampurse@vip.qq.com) * Bill Chan (biaocy91@gmail.com) Other contributors: None Work Items ---------- * Add new iBMC hardware type, and adding new interfaces for Power, Management and Vendor. * Writing appropriate unit tests to provide test coverage for iBMC driver. * Writing configuration documents. Dependencies ============ None Testing ======= * Unit tests will be implemented for new iBMC driver. Upgrades and Backwards Compatibility ==================================== None Documentation Impact ==================== * Updating Ironic documentation section `Enabling Drivers` with iBMC related instructions. References ========== * `iBMC Redfish API introduction <https://support.huawei.com/enterprise/en/doc/EDOC1000126992>`_ ",,166,0
openstack%2Ftripleo-common~master~I234e629cc5377cda8d5d01bfe4416ad967cdc067,openstack/tripleo-common,master,I234e629cc5377cda8d5d01bfe4416ad967cdc067,Check for physical_resource_id before getting deployments,MERGED,2019-01-21 06:13:22.000000000,2019-01-24 02:36:25.000000000,2019-01-24 02:36:25.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-21 06:13:22.000000000', 'files': ['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/54c448f68354d48df49ca83a71932938e9c84810', 'message': ""Check for physical_resource_id before getting deployments\n\nHeat does non-strict validation of nested stack resources.\nMost constraints are not enforced for nested stack resources\nIt's possible to set {Role}DeploymentActions as something like\n[''] and it would not fail in validation. This would result in\na deployment resource with no physical_resource_id. The existing\ncheck[1] for config-download would not be sufficient for some\ncases as it can be another nested stack (we alias\nboth OS::Tripleo::SoftwareDeployment and\nOS::Heat::StructuredDeployment).\n\n[1]\ndeployment.attributes['value'].get('deployment') == \\\n     'TripleOSoftwareDeployment'\n\nThis adds a new check not to try and download heat deployments with\nno physical_resource_id.\n\nChange-Id: I234e629cc5377cda8d5d01bfe4416ad967cdc067\nCloses-Bug: #1812604\n""}]",0,632023,54c448f68354d48df49ca83a71932938e9c84810,14,5,1,8833,,,0,"Check for physical_resource_id before getting deployments

Heat does non-strict validation of nested stack resources.
Most constraints are not enforced for nested stack resources
It's possible to set {Role}DeploymentActions as something like
[''] and it would not fail in validation. This would result in
a deployment resource with no physical_resource_id. The existing
check[1] for config-download would not be sufficient for some
cases as it can be another nested stack (we alias
both OS::Tripleo::SoftwareDeployment and
OS::Heat::StructuredDeployment).

[1]
deployment.attributes['value'].get('deployment') == \
     'TripleOSoftwareDeployment'

This adds a new check not to try and download heat deployments with
no physical_resource_id.

Change-Id: I234e629cc5377cda8d5d01bfe4416ad967cdc067
Closes-Bug: #1812604
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/23/632023/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py']",2,54c448f68354d48df49ca83a71932938e9c84810,bug/1812604," def _get_deployment_id(self, deployment): return deployment.attributes['value']['deployment'] def _get_config_dict(self, deployment_id): deployment = list(filter( lambda d: d.id == deployment_id, self.deployments))[0] @patch('tripleo_common.utils.config.Config.get_deployment_resource_id') mock_deployment_resource_id, self.deployments = deployment_data mock_deployment_resource_id.side_effect = self._get_deployment_id @patch('tripleo_common.utils.config.Config.get_deployment_resource_id') self, mock_deployment_data, mock_config_dict, mock_deployment_resource_id, mock_git_init): heat.resources.get.return_value = mock.MagicMock() self.deployments = deployment_data mock_deployment_resource_id.side_effect = self._get_deployment_id @patch('tripleo_common.utils.config.Config.get_deployment_resource_id') def test_config_download_no_deployment_name( self, mock_deployment_data, mock_deployment_resource_id, mock_git_init): heat.resources.get.return_value = mock.MagicMock() self.deployments = deployment_data mock_deployment_resource_id.side_effect = self._get_deployment_id @patch('tripleo_common.utils.config.Config.get_deployment_resource_id') mock_deployment_resource_id, heat.resources.get.return_value = mock.MagicMock() # Set the physical_resource_id as '' for the second deployment deployment_data[1].attributes['value']['deployment'] = '' self.deployments = deployment_data mock_deployment_resource_id.side_effect = self._get_deployment_id assert ""Skipping deployment"" in str(w[-2].message) self.deployments = deployment_data"," def _get_config_dict(self, deployment): self, mock_deployment_data, mock_config_dict, mock_git_init): def test_config_download_no_deployment_name(self, mock_deployment_data, mock_git_init):",48,13
openstack%2Fneutron~stable%2Frocky~Icc555050283420fddfb90bb67e02bc303e989e27,openstack/neutron,stable/rocky,Icc555050283420fddfb90bb67e02bc303e989e27,protect DHCP agent cache out of sync,MERGED,2019-01-09 23:04:41.000000000,2019-01-24 02:09:43.000000000,2019-01-24 02:09:43.000000000,"[{'_account_id': 4694}, {'_account_id': 10385}, {'_account_id': 17685}, {'_account_id': 19307}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28329}, {'_account_id': 29344}]","[{'number': 1, 'created': '2019-01-09 23:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30ac744e45501c225d358da1c4b6db04b171aa8d', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCo-Authored-By: doreilly@suse.com\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\n""}, {'number': 2, 'created': '2019-01-20 03:03:07.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8294bcf92e7a27f92173379afd39cac3c42864f6', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCo-Authored-By: doreilly@suse.com\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\n(cherry picked from commit ffbf65126fcd25ca242e5512b6e30cb7a1b4ef37)\n""}]",0,629676,8294bcf92e7a27f92173379afd39cac3c42864f6,19,9,2,19307,,,0,"protect DHCP agent cache out of sync

If DHCP agent port cache is out of sync with neutron server, dnsmasq
entries are wrong and VMs may not acquire an IP because of duplicate
entries.

When DHCP agent executes port_create_end method, port's
IP should be checked before being used, if there are duplicate IP
addresses in the same network in the cache we should resync.

Co-Authored-By: doreilly@suse.com
Closes-Bug: #1645835

Change-Id: Icc555050283420fddfb90bb67e02bc303e989e27
(cherry picked from commit ffbf65126fcd25ca242e5512b6e30cb7a1b4ef37)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/629676/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,30ac744e45501c225d358da1c4b6db04b171aa8d,bug/1645835-stable/rocky," self.reload_allocations_p = mock.patch.object(self.dhcp, 'reload_allocations') self.reload_allocations = self.reload_allocations_p.start() payload = dict(port=copy.deepcopy(fake_port2)) self.dhcp.port_update_end(None, payload) self.reload_allocations.assert_called_once_with(fake_port2, fake_network) def test_reload_allocations(self): self.dhcp.reload_allocations(fake_port2, fake_network) self.cache.assert_has_calls([mock.call.put_port(mock.ANY)]) def test_port_create_end(self): self.reload_allocations_p = mock.patch.object(self.dhcp, 'reload_allocations') self.reload_allocations = self.reload_allocations_p.start() payload = dict(port=copy.deepcopy(fake_port2)) self.cache.get_network_by_id.return_value = fake_network self.dhcp.port_create_end(None, payload) self.reload_allocations.assert_called_once_with(fake_port2, fake_network) def test_port_create_duplicate_ip_on_dhcp_agents_same_network(self): self.cache.get_network_by_id.return_value = fake_network payload = dict(port=copy.deepcopy(fake_port2)) duplicate_ip = fake_port1['fixed_ips'][0]['ip_address'] payload['port']['fixed_ips'][0]['ip_address'] = duplicate_ip self.dhcp.port_create_end(None, payload) self.schedule_resync.assert_called_once_with(mock.ANY, fake_port2.network_id) "," payload = dict(port=fake_port2) self.dhcp.port_update_end(None, payload) self.cache.assert_has_calls( [mock.call.get_network_by_id(fake_port2.network_id), mock.call.put_port(mock.ANY)])",80,35
openstack%2Fwatcher~master~If1860c3fe287852e87704b511567c65d8d4d0c1c,openstack/watcher,master,If1860c3fe287852e87704b511567c65d8d4d0c1c,Update hacking version,MERGED,2019-01-04 15:59:37.000000000,2019-01-24 02:05:00.000000000,2019-01-24 02:04:59.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-04 15:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/b27a3340b477b4f1c7c1fba641cce8c9d07b7503', 'message': 'Update hacking version to latest\n\nChange-Id: If1860c3fe287852e87704b511567c65d8d4d0c1c\n'}, {'number': 2, 'created': '2019-01-09 15:55:15.000000000', 'files': ['test-requirements.txt', 'watcher/decision_engine/strategy/strategies/zone_migration.py', 'watcher/decision_engine/goal/efficacy/specs.py', 'watcher/tests/api/v1/test_actions_plans.py', 'watcher/tests/api/v1/test_audits.py', 'watcher/api/controllers/v1/service.py', 'watcher/api/scheduling.py', 'tox.ini', 'watcher/tests/api/test_hooks.py', 'watcher/api/controllers/v1/audit.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/a4d31eac421bc778291f5a97befbf77f92a95f35', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: If1860c3fe287852e87704b511567c65d8d4d0c1c\n'}]",0,628519,a4d31eac421bc778291f5a97befbf77f92a95f35,9,2,2,27781,,,0,"Update hacking version

Use latest release 1.1.0 and compatible changes w.r.t pep8

Change-Id: If1860c3fe287852e87704b511567c65d8d4d0c1c
",git fetch https://review.opendev.org/openstack/watcher refs/changes/19/628519/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b27a3340b477b4f1c7c1fba641cce8c9d07b7503,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",1,1
openstack%2Fwatcher-tempest-plugin~master~Ib3a577456fdbe25939322289c8d427cf982d5fd3,openstack/watcher-tempest-plugin,master,Ib3a577456fdbe25939322289c8d427cf982d5fd3,update host maintenance tempest,MERGED,2019-01-18 02:30:51.000000000,2019-01-24 02:04:59.000000000,2019-01-24 02:04:59.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-18 02:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/7477e60ab73a1cdc40c77fbed570965f0fa5d40e', 'message': 'update host maintenance tempest\n\nChange-Id: Ib3a577456fdbe25939322289c8d427cf982d5fd3\n'}, {'number': 2, 'created': '2019-01-21 01:48:50.000000000', 'files': ['watcher_tempest_plugin/tests/scenario/test_execute_host_maintenance.py'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/6adaff2d88aed672917984eedd0b56752d028511', 'message': 'update host maintenance tempest\n\nChange-Id: Ib3a577456fdbe25939322289c8d427cf982d5fd3\n'}]",0,631693,6adaff2d88aed672917984eedd0b56752d028511,8,2,2,21692,,,0,"update host maintenance tempest

Change-Id: Ib3a577456fdbe25939322289c8d427cf982d5fd3
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/93/631693/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher_tempest_plugin/tests/scenario/test_execute_host_maintenance.py'],1,7477e60ab73a1cdc40c77fbed570965f0fa5d40e,update_host_maintenance," if action_plan['state'] in ('SUPERSEDED', 'SUCCEEDED'): # This means the action plan is superseded so we cannot trigger it, # or it is empty. return for action in action_list['actions']: self.assertEqual('PENDING', action.get('state')) # Execute the action by changing its state to PENDING _, updated_ap = self.client.start_action_plan(action_plan['uuid']) self.assertTrue(test_utils.call_until_true( func=functools.partial( self.has_action_plan_finished, action_plan['uuid']), duration=600, sleep_for=2 )) _, finished_ap = self.client.show_action_plan(action_plan['uuid']) _, action_list = self.client.list_actions( action_plan_uuid=finished_ap[""uuid""]) self.assertIn(updated_ap['state'], ('PENDING', 'ONGOING')) self.assertIn(finished_ap['state'], ('SUCCEEDED', 'SUPERSEDED')) for action in action_list['actions']: self.assertEqual('SUCCEEDED', action.get('state'))",,25,0
openstack%2Fwatcher-tempest-plugin~master~I6fcbadc211416cc2c7b15bb15678cfed09e52008,openstack/watcher-tempest-plugin,master,I6fcbadc211416cc2c7b15bb15678cfed09e52008,Add create_volume for volume test,MERGED,2019-01-23 07:27:45.000000000,2019-01-24 02:04:58.000000000,2019-01-24 02:04:58.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 07:27:45.000000000', 'files': ['watcher_tempest_plugin/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/ce0853d099bfdb6d5a54baeecc34d10933f3e87e', 'message': 'Add create_volume for volume test\n\nChange-Id: I6fcbadc211416cc2c7b15bb15678cfed09e52008\n'}]",0,632626,ce0853d099bfdb6d5a54baeecc34d10933f3e87e,6,2,1,21692,,,0,"Add create_volume for volume test

Change-Id: I6fcbadc211416cc2c7b15bb15678cfed09e52008
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/26/632626/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher_tempest_plugin/tests/scenario/manager.py'],1,ce0853d099bfdb6d5a54baeecc34d10933f3e87e,create_volume," def create_volume(self, name=None, image_id=None, size=None, volume_type=None, clients=None): if clients is None: clients = self.os_primary if name is None: name = data_utils.rand_name(self.__class__.__name__ + ""-volume"") volumes_client = clients.volumes_client_latest params = {'name': name, 'imageRef': image_id, 'volume_type': volume_type, 'size': size or CONF.volume.volume_size} volume = volumes_client.create_volume(**params)['volume'] self.addCleanup(volumes_client.wait_for_resource_deletion, volume['id']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, volumes_client.delete_volume, volume['id']) self.assertEqual(name, volume['name']) waiters.wait_for_volume_resource_status(volumes_client, volume['id'], 'available') volume = volumes_client.show_volume(volume['id'])['volume'] return volume",,24,0
openstack%2Frequirements~master~Iaaa688ed8587b2a80a7d43f7d6999ff9ec075325,openstack/requirements,master,Iaaa688ed8587b2a80a7d43f7d6999ff9ec075325,Updated from generate-constraints,MERGED,2019-01-23 06:13:28.000000000,2019-01-24 01:57:04.000000000,2019-01-24 01:57:04.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 06:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fe77254f5998b55f9a8ffd4727c5c9921d1d61a8', 'message': 'Updated from generate-constraints\n\nChange-Id: Iaaa688ed8587b2a80a7d43f7d6999ff9ec075325\n'}, {'number': 2, 'created': '2019-01-23 16:03:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c3a7df83fa4b88a6846d6f9b7de19f7aa0c85e11', 'message': 'Updated from generate-constraints\n\nChange-Id: Iaaa688ed8587b2a80a7d43f7d6999ff9ec075325\n'}]",0,632618,c3a7df83fa4b88a6846d6f9b7de19f7aa0c85e11,9,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Iaaa688ed8587b2a80a7d43f7d6999ff9ec075325
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/632618/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fe77254f5998b55f9a8ffd4727c5c9921d1d61a8,openstack/requirements/constraints/noclob,os-resource-classes===0.2.0oslo.service===1.36.0psycopg2===2.7.7pyOpenSSL===19.0.0kazoo===2.6.1tornado===4.5.3;python_version=='3.4' tornado===4.5.3;python_version=='3.5' tornado===4.5.3;python_version=='3.6' tornado===5.1.1;python_version=='2.7'cryptography===2.5libvirt-python===5.0.0ruamel.yaml===0.15.87os-service-types===1.5.0opentracing===2.0.0Faker===1.0.2dogpile.cache===0.7.1salt===2018.3.3botocore===1.12.83,os-resource-classes===0.1.0oslo.service===1.34.0psycopg2===2.7.6.1pyOpenSSL===18.0.0kazoo===2.6.0tornado===4.5.3cryptography===2.4.2libvirt-python===4.10.0ruamel.yaml===0.15.86os-service-types===1.4.0opentracing===1.3.0Faker===1.0.1dogpile.cache===0.6.8salt===2018.3.2botocore===1.12.82,18,15
openstack%2Fdevstack~master~I4a46b6460596e9a445bd90de2d52dbb71fb963df,openstack/devstack,master,I4a46b6460596e9a445bd90de2d52dbb71fb963df,Configure nova's use of placement more correctly,MERGED,2019-01-14 17:30:09.000000000,2019-01-24 01:54:52.000000000,2019-01-24 01:54:52.000000000,"[{'_account_id': 1653}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-14 17:30:09.000000000', 'files': ['lib/placement', 'lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/16a10d7435be54c97982b93bbc07686ebeb536ac', 'message': ""Configure nova's use of placement more correctly\n\nThis change addresses a few inconsistencies in how nova processes\nare configured to speak to the placement service.\n\nThe initial inspiration was that region_name was not being set in the\n[placement] section, despite $REGION_NAME being used when setting\nthe endpoint in the catalog. That's fixed.\n\nWhile fixing that two other issues became clear:\n\n* Configuring nova process to use placement should happen in lib/nova\n  not lib/placement so the function has been moved.\n* auth_strategy is not relevant in the [placement] section of a\n  nova process\n\nThe name of the function is maintained, in case there are plugins which\ncall it, but a comment is added to indicate that other services besides\nnova compute (such as the cell conductor) may use the function.\n\nChange-Id: I4a46b6460596e9a445bd90de2d52dbb71fb963df\n""}]",5,630746,16a10d7435be54c97982b93bbc07686ebeb536ac,24,9,1,11564,,,0,"Configure nova's use of placement more correctly

This change addresses a few inconsistencies in how nova processes
are configured to speak to the placement service.

The initial inspiration was that region_name was not being set in the
[placement] section, despite $REGION_NAME being used when setting
the endpoint in the catalog. That's fixed.

While fixing that two other issues became clear:

* Configuring nova process to use placement should happen in lib/nova
  not lib/placement so the function has been moved.
* auth_strategy is not relevant in the [placement] section of a
  nova process

The name of the function is maintained, in case there are plugins which
call it, but a comment is added to indicate that other services besides
nova compute (such as the cell conductor) may use the function.

Change-Id: I4a46b6460596e9a445bd90de2d52dbb71fb963df
",git fetch https://review.opendev.org/openstack/devstack refs/changes/46/630746/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/placement', 'lib/nova']",2,16a10d7435be54c97982b93bbc07686ebeb536ac,nova-compute-placement-region,"# Configure access to placement from a nova service, usually # compute, but sometimes conductor. function configure_placement_nova_compute { # Use the provided config file path or default to $NOVA_CONF. local conf=${1:-$NOVA_CONF} iniset $conf placement auth_type ""password"" iniset $conf placement auth_url ""$KEYSTONE_SERVICE_URI"" iniset $conf placement username placement iniset $conf placement password ""$SERVICE_PASSWORD"" iniset $conf placement user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $conf placement project_name ""$SERVICE_TENANT_NAME"" iniset $conf placement project_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $conf placement region_name ""$REGION_NAME"" } ",,15,13
openstack%2Fwatcher-specs~master~Id635b095f60ba5765a8508c868ee84b0971d13c9,openstack/watcher-specs,master,Id635b095f60ba5765a8508c868ee84b0971d13c9,"Fix the misspelling of ""available""",MERGED,2019-01-22 05:44:30.000000000,2019-01-24 01:36:06.000000000,2019-01-24 01:36:06.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 05:44:30.000000000', 'files': ['specs/ocata/implemented/define-the-audit-scope.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/52719641a52e85568b74b3cef321899c4837b713', 'message': 'Fix the misspelling of ""available""\n\nChange-Id: Id635b095f60ba5765a8508c868ee84b0971d13c9\n'}]",0,632225,52719641a52e85568b74b3cef321899c4837b713,6,2,1,29721,,,0,"Fix the misspelling of ""available""

Change-Id: Id635b095f60ba5765a8508c868ee84b0971d13c9
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/25/632225/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/implemented/define-the-audit-scope.rst'],1,52719641a52e85568b74b3cef321899c4837b713,,Warning message should be sent when resources are not available. The message,Warning message should be sent when resources are not avaliable. The message,1,1
openstack%2Fmagnum~master~I9090c6dc4b38e1a1466c4c3a6a827d95c089fb41,openstack/magnum,master,I9090c6dc4b38e1a1466c4c3a6a827d95c089fb41,Fix prometheus monitoring,MERGED,2018-12-12 03:02:20.000000000,2019-01-24 01:27:29.000000000,2019-01-23 00:00:28.000000000,"[{'_account_id': 6484}, {'_account_id': 9995}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 29425}]","[{'number': 1, 'created': '2018-12-12 03:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/06aea175cd2fd25713f0760c9f4089531af78098', 'message': 'Fix grafana port access in prometeus monitoring\n\nTask: 28468\nStory: 2004590\n\nChange-Id: I9090c6dc4b38e1a1466c4c3a6a827d95c089fb41\n'}, {'number': 2, 'created': '2019-01-14 04:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/acde7bec653abdc04e8801bb0fd5d3e27ea1f4a6', 'message': 'Fix grafana port access in prometeus monitoring\n\nUsing cluster ip instead of fixed ip for grafana service to\nmake sure the address is reachable.\n\nTask: 28468\nStory: 2004590\n\nChange-Id: I9090c6dc4b38e1a1466c4c3a6a827d95c089fb41\n'}, {'number': 3, 'created': '2019-01-16 21:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d99ab8bb054ba3efe79286968470c5adc9114af6', 'message': 'Fix grafana port access in prometeus monitoring\n\nUsing cluster ip instead of fixed ip for grafana service to\nmake sure the address is reachable.\n\nTask: 28468\nStory: 2004590\n\nChange-Id: I9090c6dc4b38e1a1466c4c3a6a827d95c089fb41\n'}, {'number': 4, 'created': '2019-01-16 22:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/42fde571e00e58b22b6606b31a5a119286781348', 'message': 'Fix grafana port access in prometeus monitoring\n\nUsing cluster ip instead of fixed ip for grafana service to\nmake sure the address is reachable.\n\nTask: 28468\nStory: 2004590\n\nChange-Id: I9090c6dc4b38e1a1466c4c3a6a827d95c089fb41\n'}, {'number': 5, 'created': '2019-01-16 22:13:07.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-node-exporter.sh', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubeminion_software_configs.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b6936894c427af2a7e8aa0e5fba79327bfb1469e', 'message': 'Fix prometheus monitoring\n\nThere are 2 changes included in this patch:\n\n1. Using cluster ip instead of fixed ip for grafana service to\nmake sure the address is reachable.\n\n2. Move node exporter to prometheus-monitoring namespace and\nmake it as a DaemonSet to collect metrics from master node.\n\nTask: 28468\nStory: 2004590\n\nChange-Id: I9090c6dc4b38e1a1466c4c3a6a827d95c089fb41\n'}]",0,624558,b6936894c427af2a7e8aa0e5fba79327bfb1469e,21,6,5,6484,,,0,"Fix prometheus monitoring

There are 2 changes included in this patch:

1. Using cluster ip instead of fixed ip for grafana service to
make sure the address is reachable.

2. Move node exporter to prometheus-monitoring namespace and
make it as a DaemonSet to collect metrics from master node.

Task: 28468
Story: 2004590

Change-Id: I9090c6dc4b38e1a1466c4c3a6a827d95c089fb41
",git fetch https://review.opendev.org/openstack/magnum refs/changes/58/624558/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh'],1,06aea175cd2fd25713f0760c9f4089531af78098,story/2004590,"GRAFANA_SERVICE_IP=`kubectl get svc grafana --namespace prometheus-monitoring -o jsonpath={..clusterIP}`curl --user admin:$ADMIN_PASSWD -X GET http://$GRAFANA_SERVICE_IP:3000/api/datasources/1 curl --user admin:$ADMIN_PASSWD -X GET http://$GRAFANA_SERVICE_IP:3000/api/datasources/1 ""type"":""prometheus"",""url"":""http://'''""'""'''$GRAFANA_SERVICE_IP'''""'""''':9090"",""access"":""proxy""}'''""'""'''\ ""http://$GRAFANA_SERVICE_IP:3000/api/datasources/""`","curl --user admin:$ADMIN_PASSWD -X GET http://$NODE_IP:3000/api/datasources/1 curl --user admin:$ADMIN_PASSWD -X GET http://$NODE_IP:3000/api/datasources/1 ""type"":""prometheus"",""url"":""http://'''""'""'''$PROM_SERVICE_IP'''""'""''':9090"",""access"":""proxy""}'''""'""'''\ ""http://$NODE_IP:3000/api/datasources/""`",5,4
openstack%2Ftacker~master~I2a5933ed21e478e860cb12b378a4368f9402291d,openstack/tacker,master,I2a5933ed21e478e860cb12b378a4368f9402291d,Fix random failing of test_init_monitoring test,MERGED,2019-01-17 07:35:00.000000000,2019-01-24 01:15:34.000000000,2019-01-23 13:43:21.000000000,"[{'_account_id': 18955}, {'_account_id': 19316}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26463}]","[{'number': 1, 'created': '2019-01-17 07:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3a01711262b0095e565f8a770da17d9fae2164f5', 'message': 'Fix random failing of test_init_monitoring test\n\nThe existing unit test case [1] is failing randomly [2]\nwhen both test modules `test_plugin` and `test_monitoring`\nruns in a single worker.\n\nReason: VNFMonitor class is using singleton pattern.\nIn above test modules same object of VNFMonitor class\nis returned from __new__ method but internally it makes\na call __init__ explicitly.\nSince we are not initializing `_hosting_vnfs` attribute in\nthe __init__ method, when we try to access __hosting_vnf in\nthe second test `test_plugin`, it finds two vnf objects.\n\nThis issue is fixed in this patch by reinitializing the\n`_hosting_vnfs` class level attribute as empty dict in the\ntest_init_monitoring unit test.\n\n[1]: https://github.com/openstack/tacker/blob/master/tacker/tests/unit/vnfm/test_plugin.py#L75\n[2]: http://logs.openstack.org/10/609610/9/check/openstack-tox-py35/b99de12/testr_results.html.gz\n\nChange-Id: I2a5933ed21e478e860cb12b378a4368f9402291d\n'}, {'number': 2, 'created': '2019-01-22 08:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b3f92f85aa3cab4bb9443a62506491796b2d50d2', 'message': 'Fix random failing of test_init_monitoring test\n\nThe existing unit test case [1] is failing randomly [2]\nwhen both test modules `test_plugin` and `test_monitoring`\nruns in a single worker.\n\nReason: VNFMonitor class is using singleton pattern.\nIn above test modules same object of VNFMonitor class\nis returned from __new__ method but internally it makes\na call __init__ explicitly.\nSince we are not initializing `_hosting_vnfs` attribute in\nthe __init__ method, when we try to access __hosting_vnf in\nthe second test `test_plugin`, it finds two vnf objects.\n\nThis issue is fixed in this patch by reinitializing the\n`_hosting_vnfs` class level attribute as empty dict in the\ntest_init_monitoring unit test.\n\n[1]: https://github.com/openstack/tacker/blob/master/tacker/tests/unit/vnfm/test_plugin.py#L75\n[2]: http://logs.openstack.org/10/609610/9/check/openstack-tox-py35/b99de12/testr_results.html.gz\n\nChange-Id: I2a5933ed21e478e860cb12b378a4368f9402291d\n'}, {'number': 3, 'created': '2019-01-23 04:52:24.000000000', 'files': ['tacker/vnfm/monitor.py', 'tox.ini', 'tacker/tests/unit/vnfm/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/4b9bcfeeef53bf6bdf230d2f9d21c90eebd9c9cd', 'message': 'Fix random failing of test_init_monitoring test\n\nThe existing unit test case [1] is failing randomly [2]\nwhen both test modules `test_plugin` and `test_monitoring`\nruns in a single worker.\n\nReason: VNFMonitor class is using singleton pattern.\nIn above test modules same object of VNFMonitor class\nis returned from __new__ method but internally it makes\na call __init__ explicitly.\nSince we are not initializing `_hosting_vnfs` attribute in\nthe __init__ method, when we try to access __hosting_vnf in\nthe second test `test_plugin`, it finds two vnf objects.\n\nThis issue is fixed in this patch by reinitializing the\n`_hosting_vnfs` class level attribute as empty dict in the\ntest_init_monitoring unit test.\n\n[1]: https://github.com/openstack/tacker/blob/master/tacker/tests/unit/vnfm/test_plugin.py#L75\n[2]: http://logs.openstack.org/10/609610/9/check/openstack-tox-py35/b99de12/testr_results.html.gz\n\nChange-Id: I2a5933ed21e478e860cb12b378a4368f9402291d\n'}]",0,631439,4b9bcfeeef53bf6bdf230d2f9d21c90eebd9c9cd,25,6,3,20182,,,0,"Fix random failing of test_init_monitoring test

The existing unit test case [1] is failing randomly [2]
when both test modules `test_plugin` and `test_monitoring`
runs in a single worker.

Reason: VNFMonitor class is using singleton pattern.
In above test modules same object of VNFMonitor class
is returned from __new__ method but internally it makes
a call __init__ explicitly.
Since we are not initializing `_hosting_vnfs` attribute in
the __init__ method, when we try to access __hosting_vnf in
the second test `test_plugin`, it finds two vnf objects.

This issue is fixed in this patch by reinitializing the
`_hosting_vnfs` class level attribute as empty dict in the
test_init_monitoring unit test.

[1]: https://github.com/openstack/tacker/blob/master/tacker/tests/unit/vnfm/test_plugin.py#L75
[2]: http://logs.openstack.org/10/609610/9/check/openstack-tox-py35/b99de12/testr_results.html.gz

Change-Id: I2a5933ed21e478e860cb12b378a4368f9402291d
",git fetch https://review.opendev.org/openstack/tacker refs/changes/39/631439/2 && git format-patch -1 --stdout FETCH_HEAD,['tacker/tests/unit/vnfm/test_plugin.py'],1,3a01711262b0095e565f8a770da17d9fae2164f5,bp/reservation-vnfm,"from tacker.vnfm import monitor # NOTE(bhagyashris): VNFMonitor class is using a singleton pattern # and '_hosting_vnfs' is defined as a class level attribute. # If one of the unit test adds a VNF to monitor it will show up here # provided both the unit tests runs in the same process. # Hence, you must reinitialize '_hosting_vnfs' to empty dict. monitor.VNFMonitor._hosting_vnfs = dict()",,7,0
openstack%2Fneutron~stable%2Fqueens~I4944041df81e24683bc612560808bcdcc2db6bf2,openstack/neutron,stable/queens,I4944041df81e24683bc612560808bcdcc2db6bf2,Check port VNIC type when associating a floating IP,MERGED,2019-01-18 17:28:56.000000000,2019-01-24 01:09:05.000000000,2019-01-24 01:09:05.000000000,"[{'_account_id': 1131}, {'_account_id': 10385}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-18 17:28:56.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c573bb8b949baf591d8e0744537be4c0d1faa72', 'message': 'Check port VNIC type when associating a floating IP\n\nWhen associating a floating IP to a port and the router is distributed,\nthe VNIC type of this port must be ""normal"" only. In any other case,\nthe floating IP can\'t be assigned. For example, a SR-IOV can have a\nfloating IP if the router is distributed (the router is in the same\nhost of the port).\n\nThis patch adds also function can_port_be_bound_to_virtual_bridge to\nneutron/db/l3_db.py module.\nOriginally this function was introduced in neutron-lib with [1] but\nin stable branch there is older neutron-lib used so this isn\'t available\nfrom neutron-lib.\n\n[1] https://review.openstack.org/#/c/615126/\n\nCloses-Bug: #1566951\n\nChange-Id: I4944041df81e24683bc612560808bcdcc2db6bf2\n(cherry picked from commit 1966ad3945a7a44beeefc603f9d6da54ac67f9a3)\n(cherry picked from commit 0f14e30fa4618d0f3041f9f4bfb066ad248f19ed)\n'}]",0,631842,1c573bb8b949baf591d8e0744537be4c0d1faa72,10,6,1,11975,,,0,"Check port VNIC type when associating a floating IP

When associating a floating IP to a port and the router is distributed,
the VNIC type of this port must be ""normal"" only. In any other case,
the floating IP can't be assigned. For example, a SR-IOV can have a
floating IP if the router is distributed (the router is in the same
host of the port).

This patch adds also function can_port_be_bound_to_virtual_bridge to
neutron/db/l3_db.py module.
Originally this function was introduced in neutron-lib with [1] but
in stable branch there is older neutron-lib used so this isn't available
from neutron-lib.

[1] https://review.openstack.org/#/c/615126/

Closes-Bug: #1566951

Change-Id: I4944041df81e24683bc612560808bcdcc2db6bf2
(cherry picked from commit 1966ad3945a7a44beeefc603f9d6da54ac67f9a3)
(cherry picked from commit 0f14e30fa4618d0f3041f9f4bfb066ad248f19ed)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/631842/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/l3_db.py']",3,1c573bb8b949baf591d8e0744537be4c0d1faa72,bug/1566951,"from neutron_lib.api.definitions import portbindings as pbdef can_port_be_bound_to_virtual_bridge(port): """"""Returns if port can be bound to a virtual bridge (e.g.: LB, OVS) :param port: (dict) A port dictionary. :returns: True if the port VNIC type is 'normal'; False in any other case. """""" return port[pb.VNIC_TYPE] == pb.VNIC_NORMAL if self.is_router_distributed(context, router_id): if not can_port_be_bound_to_virtual_bridge(internal_port): msg = _('Port VNIC type is not valid to associate a FIP in ' 'DVR mode') raise n_exc.BadRequest(resource='floatingip', msg=msg) def is_router_distributed(self, context, router_id): """"""Returns if a router is distributed or not If DVR extension is not enabled, no router will be distributed. This function is overridden in L3_NAT_with_dvr_db_mixin in case the DVR extension is loaded. """""" return False ",,74,0
openstack%2Fneutron~stable%2Frocky~I4944041df81e24683bc612560808bcdcc2db6bf2,openstack/neutron,stable/rocky,I4944041df81e24683bc612560808bcdcc2db6bf2,Check port VNIC type when associating a floating IP,MERGED,2019-01-18 17:18:25.000000000,2019-01-24 01:09:03.000000000,2019-01-24 01:09:03.000000000,"[{'_account_id': 1131}, {'_account_id': 10385}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-18 17:18:25.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f14e30fa4618d0f3041f9f4bfb066ad248f19ed', 'message': 'Check port VNIC type when associating a floating IP\n\nWhen associating a floating IP to a port and the router is distributed,\nthe VNIC type of this port must be ""normal"" only. In any other case,\nthe floating IP can\'t be assigned. For example, a SR-IOV can have a\nfloating IP if the router is distributed (the router is in the same\nhost of the port).\n\nThis patch adds also function can_port_be_bound_to_virtual_bridge to\nneutron/db/l3_db.py module.\nOriginally this function was introduced in neutron-lib with [1] but\nin stable branch there is older neutron-lib used so this isn\'t available\nfrom neutron-lib.\n\n[1] https://review.openstack.org/#/c/615126/\n\nCloses-Bug: #1566951\n\nChange-Id: I4944041df81e24683bc612560808bcdcc2db6bf2\n(cherry picked from commit 1966ad3945a7a44beeefc603f9d6da54ac67f9a3)\n'}]",0,631837,0f14e30fa4618d0f3041f9f4bfb066ad248f19ed,13,6,1,11975,,,0,"Check port VNIC type when associating a floating IP

When associating a floating IP to a port and the router is distributed,
the VNIC type of this port must be ""normal"" only. In any other case,
the floating IP can't be assigned. For example, a SR-IOV can have a
floating IP if the router is distributed (the router is in the same
host of the port).

This patch adds also function can_port_be_bound_to_virtual_bridge to
neutron/db/l3_db.py module.
Originally this function was introduced in neutron-lib with [1] but
in stable branch there is older neutron-lib used so this isn't available
from neutron-lib.

[1] https://review.openstack.org/#/c/615126/

Closes-Bug: #1566951

Change-Id: I4944041df81e24683bc612560808bcdcc2db6bf2
(cherry picked from commit 1966ad3945a7a44beeefc603f9d6da54ac67f9a3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/631837/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/l3_db.py']",3,0f14e30fa4618d0f3041f9f4bfb066ad248f19ed,bug/1566951,"from neutron_lib.api.definitions import portbindings as pbdef can_port_be_bound_to_virtual_bridge(port): """"""Returns if port can be bound to a virtual bridge (e.g.: LB, OVS) :param port: (dict) A port dictionary. :returns: True if the port VNIC type is 'normal'; False in any other case. """""" return port[pb.VNIC_TYPE] == pb.VNIC_NORMAL if self.is_router_distributed(context, router_id): if not can_port_be_bound_to_virtual_bridge(internal_port): msg = _('Port VNIC type is not valid to associate a FIP in ' 'DVR mode') raise n_exc.BadRequest(resource='floatingip', msg=msg) def is_router_distributed(self, context, router_id): """"""Returns if a router is distributed or not If DVR extension is not enabled, no router will be distributed. This function is overridden in L3_NAT_with_dvr_db_mixin in case the DVR extension is loaded. """""" return False ",,74,0
openstack%2Ffreezer~master~I94e9144a77acea1cc5f374071d96d4be0b9c8189,openstack/freezer,master,I94e9144a77acea1cc5f374071d96d4be0b9c8189,Add rsync get_fs_meta_struct not file test,MERGED,2019-01-23 07:39:33.000000000,2019-01-24 01:00:24.000000000,2019-01-24 01:00:24.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-01-23 07:39:33.000000000', 'files': ['freezer/tests/unit/engines/rsync/test_rsync.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/71c8115098c9684b2762b6de58b7c6e732bd5cf2', 'message': 'Add rsync get_fs_meta_struct not file test\n\nThe patch add rsync get_fs_meta_struct not file test\n\nChange-Id: I94e9144a77acea1cc5f374071d96d4be0b9c8189\n'}]",4,632631,71c8115098c9684b2762b6de58b7c6e732bd5cf2,12,4,1,21387,,,0,"Add rsync get_fs_meta_struct not file test

The patch add rsync get_fs_meta_struct not file test

Change-Id: I94e9144a77acea1cc5f374071d96d4be0b9c8189
",git fetch https://review.opendev.org/openstack/freezer refs/changes/31/632631/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/tests/unit/engines/rsync/test_rsync.py'],1,71c8115098c9684b2762b6de58b7c6e732bd5cf2,addrsyncmetastructtest," @patch('os.path.isfile') def test_get_fs_meta_struct_isnot_file(self, mock_os_path_isfile): fs_meta_path = '/home/tecs' fs_meta_struct = {} fake_rsync = self.mock_rsync mock_os_path_isfile.return_value = False ret = fake_rsync.get_fs_meta_struct(fs_meta_path=fs_meta_path) self.assertEqual(ret, fs_meta_struct)",,9,0
openstack%2Fmanila~stable%2Focata~Ib5e59faaf9667b9cb5e7d4072531b7d6c3d4da39,openstack/manila,stable/ocata,Ib5e59faaf9667b9cb5e7d4072531b7d6c3d4da39,Adjust ssh timeouts,MERGED,2019-01-15 12:57:42.000000000,2019-01-24 00:52:47.000000000,2019-01-24 00:52:47.000000000,"[{'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-01-15 12:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8737e0b39f56a4500d2a0c27872c6779fec178b9', 'message': 'Adjust ssh timeouts\n\nGeneric driver jobs are failing because of timeouts when\nestablishing the initial ssh connection from manila-share\nto the service VM.\n\nBump up the default value of the connection timeout for paramiko\nclient and also set the banner timeout since the failure occurred\nduring banner exchange.  Set the two timeouts to the same value\nfor now.  This ensures that the connection timeout is at least as\nlong as the banner timeout and there is no current need in manila\nto control these independently.\n\nThis is more of a workaround than a real fix since a real fix\nwould remove the delay during banner exchange.  I suspect that\nthe real fix will need to be in neutron/ovs though.\n\nChange-Id: Ib5e59faaf9667b9cb5e7d4072531b7d6c3d4da39\nPartial-bug: #1807216\n(cherry picked from commit 7548706b0928f2c23bf27e10d116ceca585660e4)\n(cherry picked from commit 8919db0186f8da9f2f492d80c8a3700c3d9367d1)\n(cherry picked from commit 2abde73d1e4a91569b2c844632acc10676b11e26)\n(cherry picked from commit 2793bd5e8315e807e2395e53c5fbfc6f205cca8b)\n'}, {'number': 2, 'created': '2019-01-16 14:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b75b6fd7d0f344cf69a0e330725c67f07e775585', 'message': 'Adjust ssh timeouts\n\nGeneric driver jobs are failing because of timeouts when\nestablishing the initial ssh connection from manila-share\nto the service VM.\n\nBump up the default value of the connection timeout for paramiko\nclient and also set the banner timeout since the failure occurred\nduring banner exchange.  Set the two timeouts to the same value\nfor now.  This ensures that the connection timeout is at least as\nlong as the banner timeout and there is no current need in manila\nto control these independently.\n\nThis is more of a workaround than a real fix since a real fix\nwould remove the delay during banner exchange.  I suspect that\nthe real fix will need to be in neutron/ovs though.\n\nChange-Id: Ib5e59faaf9667b9cb5e7d4072531b7d6c3d4da39\nPartial-bug: #1807216\n(cherry picked from commit 7548706b0928f2c23bf27e10d116ceca585660e4)\n(cherry picked from commit 8919db0186f8da9f2f492d80c8a3700c3d9367d1)\n(cherry picked from commit 2abde73d1e4a91569b2c844632acc10676b11e26)\n(cherry picked from commit 2793bd5e8315e807e2395e53c5fbfc6f205cca8b)\n'}, {'number': 3, 'created': '2019-01-16 21:48:46.000000000', 'files': ['manila/tests/test_utils.py', 'manila/tests/share/drivers/hitachi/hnas/test_ssh.py', 'devstack/plugin.sh', 'manila/utils.py', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/manila/commit/0f061ac34b8ce63de7e6dd6bd617ddb70b88cc46', 'message': 'Adjust ssh timeouts\n\nGeneric driver jobs are failing because of timeouts when\nestablishing the initial ssh connection from manila-share\nto the service VM.\n\nBump up the default value of the connection timeout for paramiko\nclient and also set the banner timeout since the failure occurred\nduring banner exchange.  Set the two timeouts to the same value\nfor now.  This ensures that the connection timeout is at least as\nlong as the banner timeout and there is no current need in manila\nto control these independently.\n\nThis is more of a workaround than a real fix since a real fix\nwould remove the delay during banner exchange.  I suspect that\nthe real fix will need to be in neutron/ovs though.\n\nChange-Id: Ib5e59faaf9667b9cb5e7d4072531b7d6c3d4da39\nPartial-bug: #1807216\n(cherry picked from commit 7548706b0928f2c23bf27e10d116ceca585660e4)\n(cherry picked from commit 8919db0186f8da9f2f492d80c8a3700c3d9367d1)\n(cherry picked from commit 2abde73d1e4a91569b2c844632acc10676b11e26)\n(cherry picked from commit 2793bd5e8315e807e2395e53c5fbfc6f205cca8b)\n'}]",0,630965,0f061ac34b8ce63de7e6dd6bd617ddb70b88cc46,22,9,3,9003,,,0,"Adjust ssh timeouts

Generic driver jobs are failing because of timeouts when
establishing the initial ssh connection from manila-share
to the service VM.

Bump up the default value of the connection timeout for paramiko
client and also set the banner timeout since the failure occurred
during banner exchange.  Set the two timeouts to the same value
for now.  This ensures that the connection timeout is at least as
long as the banner timeout and there is no current need in manila
to control these independently.

This is more of a workaround than a real fix since a real fix
would remove the delay during banner exchange.  I suspect that
the real fix will need to be in neutron/ovs though.

Change-Id: Ib5e59faaf9667b9cb5e7d4072531b7d6c3d4da39
Partial-bug: #1807216
(cherry picked from commit 7548706b0928f2c23bf27e10d116ceca585660e4)
(cherry picked from commit 8919db0186f8da9f2f492d80c8a3700c3d9367d1)
(cherry picked from commit 2abde73d1e4a91569b2c844632acc10676b11e26)
(cherry picked from commit 2793bd5e8315e807e2395e53c5fbfc6f205cca8b)
",git fetch https://review.opendev.org/openstack/manila refs/changes/65/630965/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/test_utils.py', 'manila/tests/share/drivers/hitachi/hnas/test_ssh.py', 'devstack/plugin.sh', 'manila/utils.py', 'devstack/settings']",5,8737e0b39f56a4500d2a0c27872c6779fec178b9,bug/1807216,# SSH TIMEOUT MANILA_SSH_TIMEOUT=${MANILA_SSH_TIMEOUT:-180} ,,28,7
openstack%2Fmanila~master~If276a1bac32f5273c433805263d507e2fc3b2f26,openstack/manila,master,If276a1bac32f5273c433805263d507e2fc3b2f26,Drop [DEFAULT]root_helper config option,MERGED,2019-01-23 06:10:13.000000000,2019-01-24 00:52:45.000000000,2019-01-24 00:52:45.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-01-23 06:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f0901a13bab23372a897496b762787de822242af', 'message': 'Drop [DEFAULT]root_helper config option\n\nThe option is not used anywhere in the codebase. Manila uses ""sudo""\ntogether with ""rootwrap"".\n\nChange-Id: If276a1bac32f5273c433805263d507e2fc3b2f26\n'}, {'number': 2, 'created': '2019-01-23 06:11:07.000000000', 'files': ['manila/common/config.py', 'doc/source/configuration/tables/manila-share.inc', 'releasenotes/notes/remove-root-helper-config-option-fd517b0603031afa.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/5ce6f3843efb05eb8ee64c53a2e3776e478e6237', 'message': 'Drop [DEFAULT]root_helper config option\n\nThe option is not used anywhere in the codebase. Manila uses ""sudo""\ntogether with ""rootwrap"".\n\nChange-Id: If276a1bac32f5273c433805263d507e2fc3b2f26\n'}]",0,632617,5ce6f3843efb05eb8ee64c53a2e3776e478e6237,20,12,2,7102,,,0,"Drop [DEFAULT]root_helper config option

The option is not used anywhere in the codebase. Manila uses ""sudo""
together with ""rootwrap"".

Change-Id: If276a1bac32f5273c433805263d507e2fc3b2f26
",git fetch https://review.opendev.org/openstack/manila refs/changes/17/632617/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/common/config.py', 'releasenotes/notes/remove-root-helper-config-option-fd517b0603031afa.yaml']",2,f0901a13bab23372a897496b762787de822242af,,"--- other: - | The ""root_helper"" configuration option from the [DEFAULT] section got removed. This option was not used anywhere in the codebase. Manila uses ""sudo"" together with ""rootwrap"" to allow unprivileged users running actions as root. ",,7,4
openstack%2Fneutron~stable%2Fpike~Icc555050283420fddfb90bb67e02bc303e989e27,openstack/neutron,stable/pike,Icc555050283420fddfb90bb67e02bc303e989e27,protect DHCP agent cache out of sync,MERGED,2019-01-09 23:04:55.000000000,2019-01-24 00:43:17.000000000,2019-01-24 00:43:17.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-09 23:04:55.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5a1214ca656ea872406a35d40763c69d93e37b9', 'message': ""protect DHCP agent cache out of sync\n\nIf DHCP agent port cache is out of sync with neutron server, dnsmasq\nentries are wrong and VMs may not acquire an IP because of duplicate\nentries.\n\nWhen DHCP agent executes port_create_end method, port's\nIP should be checked before being used, if there are duplicate IP\naddresses in the same network in the cache we should resync.\n\nCo-Authored-By: doreilly@suse.com\nCloses-Bug: #1645835\n\nChange-Id: Icc555050283420fddfb90bb67e02bc303e989e27\n""}]",0,629677,c5a1214ca656ea872406a35d40763c69d93e37b9,8,4,1,19307,,,0,"protect DHCP agent cache out of sync

If DHCP agent port cache is out of sync with neutron server, dnsmasq
entries are wrong and VMs may not acquire an IP because of duplicate
entries.

When DHCP agent executes port_create_end method, port's
IP should be checked before being used, if there are duplicate IP
addresses in the same network in the cache we should resync.

Co-Authored-By: doreilly@suse.com
Closes-Bug: #1645835

Change-Id: Icc555050283420fddfb90bb67e02bc303e989e27
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/629677/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,c5a1214ca656ea872406a35d40763c69d93e37b9,bug/1645835-stable/pike," self.reload_allocations_p = mock.patch.object(self.dhcp, 'reload_allocations') self.reload_allocations = self.reload_allocations_p.start() payload = dict(port=copy.deepcopy(fake_port2)) self.dhcp.port_update_end(None, payload) self.reload_allocations.assert_called_once_with(fake_port2, fake_network) def test_reload_allocations(self): self.dhcp.reload_allocations(fake_port2, fake_network) self.cache.assert_has_calls([mock.call.put_port(mock.ANY)]) def test_port_create_end(self): self.reload_allocations_p = mock.patch.object(self.dhcp, 'reload_allocations') self.reload_allocations = self.reload_allocations_p.start() payload = dict(port=copy.deepcopy(fake_port2)) self.cache.get_network_by_id.return_value = fake_network self.dhcp.port_create_end(None, payload) self.reload_allocations.assert_called_once_with(fake_port2, fake_network) def test_port_create_duplicate_ip_on_dhcp_agents_same_network(self): self.cache.get_network_by_id.return_value = fake_network payload = dict(port=copy.deepcopy(fake_port2)) duplicate_ip = fake_port1['fixed_ips'][0]['ip_address'] payload['port']['fixed_ips'][0]['ip_address'] = duplicate_ip self.dhcp.port_create_end(None, payload) self.schedule_resync.assert_called_once_with(mock.ANY, fake_port2.network_id) "," payload = dict(port=fake_port2) self.dhcp.port_update_end(None, payload) self.cache.assert_has_calls( [mock.call.get_network_by_id(fake_port2.network_id), mock.call.put_port(mock.ANY)])",80,35
openstack%2Ftripleo-quickstart~master~Ie19d84c6bf4dad27947f3eebb96361d5a096a5c7,openstack/tripleo-quickstart,master,Ie19d84c6bf4dad27947f3eebb96361d5a096a5c7,Spell openstack properly in featureset 57,MERGED,2019-01-23 15:44:38.000000000,2019-01-24 00:36:42.000000000,2019-01-24 00:36:41.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10112}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 15:44:38.000000000', 'files': ['config/general_config/featureset057.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/85c0af83912ab4a327d0df5419f4fa9b594b0d00', 'message': 'Spell openstack properly in featureset 57\n\nChange-Id: Ie19d84c6bf4dad27947f3eebb96361d5a096a5c7\n'}]",0,632764,85c0af83912ab4a327d0df5419f4fa9b594b0d00,10,10,1,20970,,,0,"Spell openstack properly in featureset 57

Change-Id: Ie19d84c6bf4dad27947f3eebb96361d5a096a5c7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/64/632764/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset057.yml'],1,85c0af83912ab4a327d0df5419f4fa9b594b0d00,tempest-tripleo-ui-typo, - https://git.openstack.org/openstack/tempest-tripleo-ui.git, - https://git.opentack.org/openstack/tempest-tripleo-ui.git,1,1
openstack%2Ftripleo-heat-templates~master~Ic7904c4f3027cc5e7e05d52757e36dbc05f3d487,openstack/tripleo-heat-templates,master,Ic7904c4f3027cc5e7e05d52757e36dbc05f3d487,Fix nova_cell_v2_discover_host.py with python3,MERGED,2019-01-23 13:13:30.000000000,2019-01-24 00:36:40.000000000,2019-01-24 00:36:40.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 13:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d7230d4bdaded1be5ad2e1ad2c459d52d7bde808', 'message': 'Fix nova_cell_v2_discover_host.py with python3\n\nWhen this script runs via python3 it fails with:\n\n  ""stdout: "",\n  ""stderr: + command -v python3"",\n  ""+ python3 /docker-config-scripts/nova_cell_v2_discover_host.py"",\n  ""Traceback (most recent call last):"",\n  "" File \\""/docker-config-scripts/nova_cell_v2_discover_host.py\\"", line 75, in <module>"",\n  "" TypeError: a bytes-like object is required, not \'str\'""\n\nThis is because in python3 subprocess.check_output() will return bytes\nand trying to split it using a string \'\\n\' will break with the error\nabove. Let\'s just convert the outputs to strings when they are returned\nas bytes (in python3).\n\nTested with a python3 deployment and got a successful deployment (rhel8\nos + f28 based-containers)\n\nChange-Id: Ic7904c4f3027cc5e7e05d52757e36dbc05f3d487\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCloses-Bug: #1813014\n'}, {'number': 2, 'created': '2019-01-23 13:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c6c6b4fa772daa927e138bfab0ea247ef7dd4bb', 'message': 'Fix nova_cell_v2_discover_host.py with python3\n\nWhen this script runs via python3 it fails with:\n\n  ""stdout: "",\n  ""stderr: + command -v python3"",\n  ""+ python3 /docker-config-scripts/nova_cell_v2_discover_host.py"",\n  ""Traceback (most recent call last):"",\n  "" File \\""/docker-config-scripts/nova_cell_v2_discover_host.py\\"", line 75, in <module>"",\n  "" TypeError: a bytes-like object is required, not \'str\'""\n\nThis is because in python3 subprocess.check_output() will return bytes\nand trying to split it using a string \'\\n\' will break with the error\nabove. Let\'s just convert the outputs to strings when they are returned\nas bytes (in python3) and also skip any empty lines that might show up\nin the output which would give the error:\n\n  ValueError: not enough values to unpack (expected 2, got 0)\n\nTested with a python3 deployment and got a successful deployment (rhel8\nos + f28 based-containers).\n\nChange-Id: Ic7904c4f3027cc5e7e05d52757e36dbc05f3d487\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCloses-Bug: #1813014\n'}, {'number': 3, 'created': '2019-01-23 15:27:51.000000000', 'files': ['docker_config_scripts/nova_cell_v2_discover_host.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87a869a408b9732e9ff46e8fecfa1487b3699ffa', 'message': 'Fix nova_cell_v2_discover_host.py with python3\n\nWhen this script runs via python3 it fails with:\n\n  ""stdout: "",\n  ""stderr: + command -v python3"",\n  ""+ python3 /docker-config-scripts/nova_cell_v2_discover_host.py"",\n  ""Traceback (most recent call last):"",\n  "" File \\""/docker-config-scripts/nova_cell_v2_discover_host.py\\"", line 75, in <module>"",\n  "" TypeError: a bytes-like object is required, not \'str\'""\n\nThis is because in python3 subprocess.check_output() will return bytes\nand trying to split it using a string \'\\n\' will break with the error\nabove. Let\'s just use the universal_newlines=True parameter which we\nhave been using everywhere in tripleo so far.\nAlso skip any empty lines that might show up in the output which would\ngive the error:\n\n  ValueError: not enough values to unpack (expected 2, got 0)\n\nTested with a python3 deployment and got a successful deployment (rhel8\nos + f28 based-containers).\n\nChange-Id: Ic7904c4f3027cc5e7e05d52757e36dbc05f3d487\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCloses-Bug: #1813014\n'}]",2,632717,87a869a408b9732e9ff46e8fecfa1487b3699ffa,14,6,3,20172,,,0,"Fix nova_cell_v2_discover_host.py with python3

When this script runs via python3 it fails with:

  ""stdout: "",
  ""stderr: + command -v python3"",
  ""+ python3 /docker-config-scripts/nova_cell_v2_discover_host.py"",
  ""Traceback (most recent call last):"",
  "" File \""/docker-config-scripts/nova_cell_v2_discover_host.py\"", line 75, in <module>"",
  "" TypeError: a bytes-like object is required, not 'str'""

This is because in python3 subprocess.check_output() will return bytes
and trying to split it using a string '\n' will break with the error
above. Let's just use the universal_newlines=True parameter which we
have been using everywhere in tripleo so far.
Also skip any empty lines that might show up in the output which would
give the error:

  ValueError: not enough values to unpack (expected 2, got 0)

Tested with a python3 deployment and got a successful deployment (rhel8
os + f28 based-containers).

Change-Id: Ic7904c4f3027cc5e7e05d52757e36dbc05f3d487
Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>
Closes-Bug: #1813014
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/632717/3 && git format-patch -1 --stdout FETCH_HEAD,['docker_config_scripts/nova_cell_v2_discover_host.py'],1,d7230d4bdaded1be5ad2e1ad2c459d52d7bde808,bug/1813014,"if isinstance(my_host, bytes): my_host = my_host.decode() service_output = subprocess.check_output([ ]) if isinstance(service_output, bytes): service_output = service_output.decode() service_list = service_output.split('\n')", service_list = subprocess.check_output([ ]).split('\n'),8,2
openstack%2Ftripleo-heat-templates~master~I1a82c14d8c894cb6ea6c0c322c3fe5b71b34a11e,openstack/tripleo-heat-templates,master,I1a82c14d8c894cb6ea6c0c322c3fe5b71b34a11e,Address python3 string issues with subprocess,MERGED,2019-01-23 15:09:57.000000000,2019-01-24 00:36:38.000000000,2019-01-24 00:36:38.000000000,"[{'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 15:09:57.000000000', 'files': ['tools/merge-new-params-nic-config-script.py', 'docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a619d990c019d59b0a694b4cecd3d03b136357be', 'message': 'Address python3 string issues with subprocess\n\nFollows up Id0060a3abbcda8edb6124eb096cb824aaea48396.\nThis patch updates our Popen calls to enable universal newlines for\ncalls that we parse or consume the output for. Without\nuniveral_newlines=True, the output is treated as bytes under python3\nwhich leads to issues later where we are using it as strings.\n\nSee https://docs.python.org/3/glossary.html#term-universal-newlines\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n\nChange-Id: I1a82c14d8c894cb6ea6c0c322c3fe5b71b34a11e\n'}]",0,632747,a619d990c019d59b0a694b4cecd3d03b136357be,10,6,1,6926,,,0,"Address python3 string issues with subprocess

Follows up Id0060a3abbcda8edb6124eb096cb824aaea48396.
This patch updates our Popen calls to enable universal newlines for
calls that we parse or consume the output for. Without
univeral_newlines=True, the output is treated as bytes under python3
which leads to issues later where we are using it as strings.

See https://docs.python.org/3/glossary.html#term-universal-newlines
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>

Change-Id: I1a82c14d8c894cb6ea6c0c322c3fe5b71b34a11e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/632747/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/merge-new-params-nic-config-script.py', 'docker/docker-puppet.py']",2,a619d990c019d59b0a694b4cecd3d03b136357be,python3," stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True) stderr=subprocess.PIPE, universal_newlines=True) stderr=subprocess.PIPE, universal_newlines=True) stderr=subprocess.PIPE, universal_newlines=True) stderr=subprocess.PIPE, env=env, universal_newlines=True)"," stdout=subprocess.PIPE, stderr=subprocess.PIPE) stderr=subprocess.PIPE) stderr=subprocess.PIPE) stderr=subprocess.PIPE) stderr=subprocess.PIPE, env=env)",20,15
openstack%2Fpython-tripleoclient~master~I5d8c5c03c5428d7af9a28cabfe4c9363ce435d1a,openstack/python-tripleoclient,master,I5d8c5c03c5428d7af9a28cabfe4c9363ce435d1a,Address python3 string issues with subprocess,MERGED,2019-01-23 15:14:15.000000000,2019-01-24 00:36:37.000000000,2019-01-24 00:36:37.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 15:14:15.000000000', 'files': ['tripleoclient/heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9c61b5aa36bc782013357a6496473dfb1ed239f8', 'message': 'Address python3 string issues with subprocess\n\nFollows up Id0060a3abbcda8edb6124eb096cb824aaea48396.\nThis patch updates our Popen calls to enable universal newlines for\ncalls that we parse or consume the output for. Without\nuniveral_newlines=True, the output is treated as bytes under python3\nwhich leads to issues later where we are using it as strings.\n\nSee https://docs.python.org/3/glossary.html#term-universal-newlines\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n\nChange-Id: I5d8c5c03c5428d7af9a28cabfe4c9363ce435d1a\n'}]",0,632748,9c61b5aa36bc782013357a6496473dfb1ed239f8,10,6,1,6926,,,0,"Address python3 string issues with subprocess

Follows up Id0060a3abbcda8edb6124eb096cb824aaea48396.
This patch updates our Popen calls to enable universal newlines for
calls that we parse or consume the output for. Without
univeral_newlines=True, the output is treated as bytes under python3
which leads to issues later where we are using it as strings.

See https://docs.python.org/3/glossary.html#term-universal-newlines
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>

Change-Id: I5d8c5c03c5428d7af9a28cabfe4c9363ce435d1a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/48/632748/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/heat_launcher.py'],1,9c61b5aa36bc782013357a6496473dfb1ed239f8,python3," stderr=subprocess.PIPE, universal_newlines=True)", stderr=subprocess.PIPE),2,1
openstack%2Fworkload-ref-archs~master~I548f18db08434b5be5609cec266a53cb07eb3ca5,openstack/workload-ref-archs,master,I548f18db08434b5be5609cec266a53cb07eb3ca5,Removed older version of python added 3.5,MERGED,2018-09-30 01:57:13.000000000,2019-01-24 00:13:44.000000000,2019-01-24 00:13:44.000000000,"[{'_account_id': 14091}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-09-30 01:57:13.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/0fef4746307fab474747009110450eba6caaedb9', 'message': 'Removed older version of python added 3.5\n\nIn setup.cfg file the python 3.5 is added\n\nChange-Id: I548f18db08434b5be5609cec266a53cb07eb3ca5\n'}]",0,606750,0fef4746307fab474747009110450eba6caaedb9,10,6,1,17499,,,0,"Removed older version of python added 3.5

In setup.cfg file the python 3.5 is added

Change-Id: I548f18db08434b5be5609cec266a53cb07eb3ca5
",git fetch https://review.opendev.org/openstack/workload-ref-archs refs/changes/50/606750/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0fef4746307fab474747009110450eba6caaedb9,, Programming Language :: Python :: 3.5, Programming Language :: Python :: 3.4,1,1
openstack%2Fworkload-ref-archs~master~Ic0f2d1fa62652f1d8b7f607ba1e631c4c82b2966,openstack/workload-ref-archs,master,Ic0f2d1fa62652f1d8b7f607ba1e631c4c82b2966,change default python 3 env in tox to 3.5,MERGED,2018-06-12 06:05:59.000000000,2019-01-24 00:09:57.000000000,2019-01-24 00:09:57.000000000,"[{'_account_id': 14091}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-06-12 06:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/0e502bd17561e808b8010458a87b32cae0542b57', 'message': 'change default python 3 env in tox to 3.5\n\nChange-Id: Ic0f2d1fa62652f1d8b7f607ba1e631c4c82b2966\n'}, {'number': 2, 'created': '2019-01-23 03:32:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/80c1b8dc38e24231a6d76d4757a5603ee456bc21', 'message': 'change default python 3 env in tox to 3.5\n\nChange-Id: Ic0f2d1fa62652f1d8b7f607ba1e631c4c82b2966\n'}]",0,574569,80c1b8dc38e24231a6d76d4757a5603ee456bc21,10,4,2,17499,,,0,"change default python 3 env in tox to 3.5

Change-Id: Ic0f2d1fa62652f1d8b7f607ba1e631c4c82b2966
",git fetch https://review.opendev.org/openstack/workload-ref-archs refs/changes/69/574569/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0e502bd17561e808b8010458a87b32cae0542b57,,"envlist = py35,py27,pypy,pep8","envlist = py34,py27,pypy,pep8",1,1
openstack%2Fpython-manilaclient~stable%2Frocky~I07676362e3b83cf2e50e177c1f37d926bb86c4ac,openstack/python-manilaclient,stable/rocky,I07676362e3b83cf2e50e177c1f37d926bb86c4ac,[CI] Fix logs for the functional test job,MERGED,2019-01-19 22:17:29.000000000,2019-01-24 00:02:51.000000000,2019-01-22 06:32:31.000000000,"[{'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-19 22:17:29.000000000', 'files': ['playbooks/legacy/manilaclient-dsvm-neutron-functional/post.yaml', 'contrib/ci/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/52760a69e2831e80ebf55b24c1f00f078207b341', 'message': '[CI] Fix logs for the functional test job\n\n- Use roles from the openstack-infra/zuul-jobs\n  repository to gather appropriate files after\n  each job run.\n- Gather the etc/ folder to gather test\n  configuration.\n\nChange-Id: I07676362e3b83cf2e50e177c1f37d926bb86c4ac\n(cherry picked from commit dfd18798eb0e5bc152bc2761ebe323b2a8bca405)\n'}]",0,631943,52760a69e2831e80ebf55b24c1f00f078207b341,9,4,1,16643,,,0,"[CI] Fix logs for the functional test job

- Use roles from the openstack-infra/zuul-jobs
  repository to gather appropriate files after
  each job run.
- Gather the etc/ folder to gather test
  configuration.

Change-Id: I07676362e3b83cf2e50e177c1f37d926bb86c4ac
(cherry picked from commit dfd18798eb0e5bc152bc2761ebe323b2a8bca405)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/43/631943/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manilaclient-dsvm-neutron-functional/post.yaml', 'contrib/ci/post_test_hook.sh']",2,52760a69e2831e80ebf55b24c1f00f078207b341,CI,# Copy artifacts into ZUUL's workspace sudo -H -u $USER cp -r $MANILACLIENT_DIR $WORKSPACE return $EXIT_CODE,"if [ -d "".testrepository"" ] ; then if [ -f "".testrepository/0.2"" ] ; then cp .testrepository/0.2 ./subunit_log.txt elif [ -f "".testrepository/0"" ] ; then .tox/functional/bin/subunit-1to2 < .testrepository/0 > ./subunit_log.txt fi /usr/os-testr-env/bin/subunit2html ./subunit_log.txt testr_results.html SUBUNIT_SIZE=$(du -k ./subunit_log.txt | awk '{print $1}') gzip -9 ./subunit_log.txt gzip -9 ./testr_results.html sudo mv testr_results.html.gz $WORKSPACE/logs sudo mv subunit_log.txt.gz $WORKSPACE/logs sudo cp -R .tox $WORKSPACE sudo cp -R .testrepository $WORKSPACE if [[ ""$SUBUNIT_SIZE"" -gt 50000 ]]; then echo echo ""sub_unit.log was greater than 50 MB of uncompressed data!"" echo ""Something is causing tests for this project to log significant amounts of data."" echo ""This may be writers to python logging, stdout, or stderr."" echo ""Failing this test as a result."" echo exit 1 fi rancount=$(.tox/functional/bin/testr last | sed -ne 's/Ran \([0-9]\+\).*tests in.*/\1/p') if [ -z ""$rancount"" ] || [ ""$rancount"" -eq ""0"" ] ; then echo echo ""Zero tests were run. At least one test should have been run."" echo ""Failing this test as a result."" echo exit 1 fi fi return $EXIT_CODE ",16,99
openstack%2Ftripleo-heat-templates~master~I548816e3f2d8b9deed8a6f0ba3e203f84ad3d9ca,openstack/tripleo-heat-templates,master,I548816e3f2d8b9deed8a6f0ba3e203f84ad3d9ca,Remove all glance-registry related changes,MERGED,2018-12-18 05:35:25.000000000,2019-01-24 00:00:44.000000000,2019-01-24 00:00:43.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 14985}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-18 05:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c38f6349226d5e9f72ddb6c6ca9eda85c6a4585e', 'message': 'Remove all glance-registry related changes\n\nRemoved all glance-registry related changes from THT, since\nGlance Registry has become redundant & been deprecated from\nglance due to support of Glance V2. The registry code base is\nalso going to be removed from Glance project once all the\ndependencies removed from other projects.\n\nChange-Id: I548816e3f2d8b9deed8a6f0ba3e203f84ad3d9ca\nCloses-Bug: #1808911\n'}, {'number': 2, 'created': '2018-12-21 07:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64560f008b09daae91aeab6501059c73a4aef7a7', 'message': 'Remove all glance-registry related changes\n\nRemoved all glance-registry related changes from THT, since\nGlance Registry has become redundant & been deprecated from\nglance due to support of Glance V2. The registry code base is\nalso going to be removed from Glance project once all the\ndependencies removed from other projects.\n\nChange-Id: I548816e3f2d8b9deed8a6f0ba3e203f84ad3d9ca\nCloses-Bug: #1808911\n'}, {'number': 3, 'created': '2019-01-22 22:07:33.000000000', 'files': ['deployment/glance/glance-registry-disabled-puppet.yaml', 'roles/Standalone.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles_data.yaml', 'roles/Controller.yaml', 'releasenotes/notes/remove-disabled-glance-registry-2738b41a2e200d95.yaml', 'roles/ControllerOpenstack.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2dcd56041cc49772403645be484ee4850df5c211', 'message': 'Remove all glance-registry related changes\n\nRemoved all glance-registry related changes from THT, since\nGlance Registry has become redundant & been deprecated from\nglance due to support of Glance V2. The registry code base is\nalso going to be removed from Glance project once all the\ndependencies removed from other projects.\n\nChange-Id: I548816e3f2d8b9deed8a6f0ba3e203f84ad3d9ca\nCloses-Bug: #1808911\n'}]",0,625789,2dcd56041cc49772403645be484ee4850df5c211,31,7,3,19138,,,0,"Remove all glance-registry related changes

Removed all glance-registry related changes from THT, since
Glance Registry has become redundant & been deprecated from
glance due to support of Glance V2. The registry code base is
also going to be removed from Glance project once all the
dependencies removed from other projects.

Change-Id: I548816e3f2d8b9deed8a6f0ba3e203f84ad3d9ca
Closes-Bug: #1808911
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/625789/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/glance/glance-registry-disabled-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/remove-disabled-glance-registry-2738b41a2e200d95.yaml']",3,c38f6349226d5e9f72ddb6c6ca9eda85c6a4585e,bug/1808911,--- deprecations: - | Removed 'glance-registry' related changes since it's been deprecated from glance & no longer been used. ,,5,58
openstack%2Ftripleo-heat-templates~master~Iaf9403b5f60f06769d94317d261de8cad94274ab,openstack/tripleo-heat-templates,master,Iaf9403b5f60f06769d94317d261de8cad94274ab,Apply changes to cluster using updated inventory,MERGED,2019-01-23 08:25:46.000000000,2019-01-24 00:00:41.000000000,2019-01-24 00:00:41.000000000,"[{'_account_id': 3153}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 08:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbdbd8a1618896646020240d2443df4b4cdd8539', 'message': 'Apply changes to cluster using updated inventory\n\nIt could cause issue when being on inventory containing nodes marked as\nnew.\n\nSpecifically, it caused an undefined ansible variable error when\nre-running the deploy playbook on an inventory that contained nodes in\nthe new_masters group.\n\nCloses-Bug: #1812962\nChange-Id: Iaf9403b5f60f06769d94317d261de8cad94274ab\n'}, {'number': 2, 'created': '2019-01-23 10:46:27.000000000', 'files': ['extraconfig/services/openshift-master.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a818ab22618321fa78a9414f458b3029ac75be6', 'message': 'Apply changes to cluster using updated inventory\n\nIt could cause issue when being on inventory containing nodes marked as\nnew.\n\nSpecifically, it caused an undefined ansible variable error when\nre-running the deploy playbook on an inventory that contained nodes in\nthe new_masters group.\n\nCloses-Bug: #1812962\nChange-Id: Iaf9403b5f60f06769d94317d261de8cad94274ab\n'}]",0,632640,8a818ab22618321fa78a9414f458b3029ac75be6,10,4,2,13039,,,0,"Apply changes to cluster using updated inventory

It could cause issue when being on inventory containing nodes marked as
new.

Specifically, it caused an undefined ansible variable error when
re-running the deploy playbook on an inventory that contained nodes in
the new_masters group.

Closes-Bug: #1812962
Change-Id: Iaf9403b5f60f06769d94317d261de8cad94274ab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/632640/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/openshift-master.yaml'],1,bbdbd8a1618896646020240d2443df4b4cdd8539,openshift-scaleup," - when: tripleo_stack_action == 'UPDATE' block: - name: generate openshift playbook copy: dest: ""{{playbook_dir}}/openshift/playbook.yml"" content: | # Re-run the deploy playbook to apply potential change # changes to existing nodes - include_tasks: ""{{openshift_ansible_playbook_path}}"" - name: Restart masters hosts: masters serial: 1 tasks: - import_role: name: /usr/share/ansible/openshift-ansible/roles/openshift_control_plane tasks_from: restart.yml - name: print openshift command debug: var: openshift_command - name: run openshift (immediate log at {{playbook_dir}}/openshift/playbook.log) shell: | {{openshift_command}} 2>&1 | tee {{playbook_dir}}/openshift/playbook.log exit ${PIPESTATUS[0]} "," # Re-run the deploy playbook to apply potential change # changes to existing nodes - include_tasks: ""{{openshift_ansible_playbook_path}}"" - name: Restart masters hosts: masters serial: 1 tasks: - import_role: name: /usr/share/ansible/openshift-ansible/roles/openshift_control_plane tasks_from: restart.yml",25,11
openstack%2Ftripleo-heat-templates~master~I94b6ae04a3e31fe0b7951df2446cc91b5842cd77,openstack/tripleo-heat-templates,master,I94b6ae04a3e31fe0b7951df2446cc91b5842cd77,Generate post-deployment openshift-ansible inventory,MERGED,2019-01-23 08:25:46.000000000,2019-01-23 23:54:43.000000000,2019-01-23 23:54:42.000000000,"[{'_account_id': 3153}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 08:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0cb09788a71ae139e1871efceb3fa6980ba8e233', 'message': 'Generate post-deployment openshift-ansible inventory\n\nThis allows to run custom openshift-ansible playbooks with an inventory\nthat reflects the deployment status.\n\nRelated-Bug: #1812962\nChange-Id: I94b6ae04a3e31fe0b7951df2446cc91b5842cd77\n'}, {'number': 2, 'created': '2019-01-23 10:46:27.000000000', 'files': ['extraconfig/services/openshift-master.yaml', 'extraconfig/services/openshift-node.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff36d44af5a42945ac1b76a798af90a87347975c', 'message': 'Generate post-deployment openshift-ansible inventory\n\nThis allows to run custom openshift-ansible playbooks with an inventory\nthat reflects the deployment status.\n\nRelated-Bug: #1812962\nChange-Id: I94b6ae04a3e31fe0b7951df2446cc91b5842cd77\n'}]",0,632639,ff36d44af5a42945ac1b76a798af90a87347975c,9,4,2,13039,,,0,"Generate post-deployment openshift-ansible inventory

This allows to run custom openshift-ansible playbooks with an inventory
that reflects the deployment status.

Related-Bug: #1812962
Change-Id: I94b6ae04a3e31fe0b7951df2446cc91b5842cd77
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/632639/2 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/services/openshift-master.yaml', 'extraconfig/services/openshift-node.yaml']",2,0cb09788a71ae139e1871efceb3fa6980ba8e233,openshift-scaleup," - name: openshift_node step 4 when: step == '4' tags: openshift block: - name: set role facts for generating inventory set_fact: tripleo_role_name: {get_param: RoleName} - name: generate post-deployment inventory for {{tripleo_role_name}} role groups copy: dest: ""{{playbook_dir}}/openshift/inventory/{{tripleo_role_name}}_groups.yml"" content: | {% if (role_nodes[tripleo_role_name] + new_role_nodes[tripleo_role_name]) | count > 0%} all: children: nodes: hosts: {% for host in (role_nodes[tripleo_role_name] + new_role_nodes[tripleo_role_name]) -%} {{host.hostname}}: {% endfor %} {% endif %}",,39,1
openstack%2Ftripleo-heat-templates~master~I3d8cda1c327d2f0bf41f754fa9b7d5ec67e8019c,openstack/tripleo-heat-templates,master,I3d8cda1c327d2f0bf41f754fa9b7d5ec67e8019c,Include file in puppet tags for api services,ABANDONED,2019-01-23 22:30:50.000000000,2019-01-23 23:47:45.000000000,,"[{'_account_id': 14985}, {'_account_id': 20172}]","[{'number': 1, 'created': '2019-01-23 22:30:50.000000000', 'files': ['docker/services/gnocchi-api.yaml', 'docker/services/panko-api.yaml', 'docker/services/octavia-api.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'docker/services/barbican-api.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'docker/services/nova-api.yaml', 'docker/services/designate-api.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'docker/services/mistral-api.yaml', 'docker/services/ec2-api.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'docker/services/manila-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f59f200b394c30bcb9609c2d2c4f3487e7cce31f', 'message': ""Include file in puppet tags for api services\n\nWe've previously not be running some of the apache configurations for\nthe containers because we are excluding file configurations from being\nrun. This change adds file, concat and file_line into the puppet runs\nfor the api services to ensure the apache configs are properly reflected\nat config time.\n\nChange-Id: I3d8cda1c327d2f0bf41f754fa9b7d5ec67e8019c\nCloses-Bug: #1813084\n""}]",0,632819,f59f200b394c30bcb9609c2d2c4f3487e7cce31f,3,2,1,14985,,,0,"Include file in puppet tags for api services

We've previously not be running some of the apache configurations for
the containers because we are excluding file configurations from being
run. This change adds file, concat and file_line into the puppet runs
for the api services to ensure the apache configs are properly reflected
at config time.

Change-Id: I3d8cda1c327d2f0bf41f754fa9b7d5ec67e8019c
Closes-Bug: #1813084
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/632819/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/gnocchi-api.yaml', 'docker/services/panko-api.yaml', 'docker/services/octavia-api.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'docker/services/barbican-api.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'docker/services/nova-api.yaml', 'docker/services/designate-api.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'docker/services/mistral-api.yaml', 'docker/services/ec2-api.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'docker/services/manila-api.yaml']",13,f59f200b394c30bcb9609c2d2c4f3487e7cce31f,bug/1813084," puppet_tags: manila_config,manila_api_paste_ini,file,concat,file_line"," puppet_tags: manila_config,manila_api_paste_ini",13,13
openstack%2Ftripleo-heat-templates~master~I21ed56a1c4d43a3e0945c8b74dd94ccf89dc05b0,openstack/tripleo-heat-templates,master,I21ed56a1c4d43a3e0945c8b74dd94ccf89dc05b0,Store nodes information in a dict,MERGED,2019-01-23 08:25:46.000000000,2019-01-23 23:46:55.000000000,2019-01-23 23:46:55.000000000,"[{'_account_id': 3153}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 08:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdd81599cbee2fdc3dfcf05159525e37f50944c7', 'message': 'Store nodes information in a dict\n\nRe-using the same variable for each role was not very clean and forced\nus to re-check which master nodes were new in the deployment. Instead,\nuse a dict for `role_nodes` and `new_role_nodes` with keys being the\nrole name.\n\nThis will allow us to re-generate updated inventory in later step\nwithout needing to set the facts once again.\n\nRelated-Bug: #1812962\nChange-Id: I21ed56a1c4d43a3e0945c8b74dd94ccf89dc05b0\n'}, {'number': 2, 'created': '2019-01-23 10:46:27.000000000', 'files': ['extraconfig/services/openshift-master.yaml', 'extraconfig/services/openshift-node.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1febc8b7b307cb5be59ca69bd1890f4817b8421f', 'message': 'Store nodes information in a dict\n\nRe-using the same variable for each role was not very clean and forced\nus to re-check which master nodes were new in the deployment. Instead,\nuse a dict for `role_nodes` and `new_role_nodes` with keys being the\nrole name.\n\nThis will allow us to re-generate updated inventory in later step\nwithout needing to set the facts once again.\n\nRelated-Bug: #1812962\nChange-Id: I21ed56a1c4d43a3e0945c8b74dd94ccf89dc05b0\n'}]",0,632638,1febc8b7b307cb5be59ca69bd1890f4817b8421f,10,4,2,13039,,,0,"Store nodes information in a dict

Re-using the same variable for each role was not very clean and forced
us to re-check which master nodes were new in the deployment. Instead,
use a dict for `role_nodes` and `new_role_nodes` with keys being the
role name.

This will allow us to re-generate updated inventory in later step
without needing to set the facts once again.

Related-Bug: #1812962
Change-Id: I21ed56a1c4d43a3e0945c8b74dd94ccf89dc05b0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/632638/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/services/openshift-master.yaml', 'extraconfig/services/openshift-node.yaml']",2,bdd81599cbee2fdc3dfcf05159525e37f50944c7,openshift-scaleup," role_nodes: ""{{ role_nodes|default({}) | combine( {tripleo_role_name: all_role_nodes.results | map(attribute='ansible_facts') | map(attribute='nodes') | flatten | selectattr('new_node', 'equalto', False) | list}) }}"" new_role_nodes: ""{{ new_role_nodes|default({}) | combine( {tripleo_role_name: all_role_nodes.results | map(attribute='ansible_facts') | map(attribute='nodes') | flatten | selectattr('new_node', 'equalto', True) | list}) }}"" has_new_nodes: ""{{ (has_new_nodes | default(False)) or new_role_nodes[tripleo_role_name] | count > 0 }}"" {% if role_nodes[tripleo_role_name] | count > 0%} {% for host in (role_nodes[tripleo_role_name] + new_role_nodes[tripleo_role_name]) -%} {% if role_nodes[tripleo_role_name] | count > 0%} {% if role_nodes[tripleo_role_name] | count > 0 -%} {% for host in role_nodes[tripleo_role_name] -%} {% if new_role_nodes[tripleo_role_name] | count > 0 -%} {% for host in new_role_nodes[tripleo_role_name] -%}"," role_nodes: ""{{all_role_nodes.results | map(attribute='ansible_facts') | map(attribute='nodes') | flatten | selectattr('new_node', 'equalto', False) | list}}"" new_role_nodes: ""{{all_role_nodes.results | map(attribute='ansible_facts') | map(attribute='nodes') | flatten | selectattr('new_node', 'equalto', True) | list}}"" has_new_nodes: ""{{ (has_new_nodes | default(False)) or new_role_nodes | count > 0 }}"" {% if role_nodes | count > 0%} {% for host in (role_nodes + new_role_nodes) -%} {% if role_nodes | count > 0%} {% if role_nodes | count > 0 -%} {% for host in role_nodes -%} {% if new_role_nodes | count > 0 -%} {% for host in new_role_nodes -%}",22,46
openstack%2Fpaunch~master~If851604d25b6c7982d950bb9e13dceada3bfc161,openstack/paunch,master,If851604d25b6c7982d950bb9e13dceada3bfc161,Implement podman rename via re-apply of containers,MERGED,2018-12-03 15:28:36.000000000,2019-01-23 23:46:54.000000000,2019-01-23 23:46:53.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-12-03 15:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/22a5a22988541ca238a25198aa907253d6d3b8c3', 'message': ""Implement podman rename via re-apply of containers\n\nTo w/a the missing a container rename feature of podman, implement\nrenaming via removing of the original container and re-applying it from\nthe same configs but using the new name.\n\nThis fixes idempotency issues when service containers are executed\nunder ephemeral names created via the paunch's unique containers names\ngenerator, while it is expected to have them executed under its wanted\nconfig names.\n\nChange-Id: If851604d25b6c7982d950bb9e13dceada3bfc161\nCloses-Bug: #1805410\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2018-12-03 15:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/980d85e38ae436668532da357e6157eb2817e52c', 'message': ""Implement podman rename via re-apply of containers\n\nTo w/a the missing a container rename feature of podman, implement\nrenaming via removing of the original container and re-applying it from\nthe same configs but using the new name.\n\nThis fixes idempotency issues when service containers are executed\nunder ephemeral names created via the paunch's unique containers names\ngenerator, while it is expected to have them executed under its wanted\nconfig names.\n\nChange-Id: If851604d25b6c7982d950bb9e13dceada3bfc161\nCloses-Bug: #1805410\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2018-12-04 10:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/4165100137957137b83d1b090060bb6a17f685a6', 'message': ""Implement podman rename via re-apply of containers\n\nTo w/a the missing a container rename feature of podman, implement\nrenaming via removing of the original container and re-applying it from\nthe same configs but using the new name.\n\nThis fixes idempotency issues when service containers are executed\nunder ephemeral names created via the paunch's unique containers names\ngenerator, while it is expected to have them executed under its wanted\nconfig names.\n\nChange-Id: If851604d25b6c7982d950bb9e13dceada3bfc161\nCloses-Bug: #1805410\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2018-12-04 10:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/18e31f958114e565243db933581dc2f080360251', 'message': ""Implement podman rename via re-apply of containers\n\nTo w/a the missing a container rename feature of podman, implement\nrenaming via removing of the original container and re-applying it from\nthe same configs but using the new name.\n\nThis fixes idempotency issues when service containers are executed\nunder ephemeral names created via the paunch's unique containers names\ngenerator, while it is expected to have them executed under its wanted\nconfig names.\n\nChange-Id: If851604d25b6c7982d950bb9e13dceada3bfc161\nCloses-Bug: #1805410\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2018-12-04 10:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/fa6e5e730a1a200c9575335ad7260b3f9492da59', 'message': ""Implement podman rename via re-apply of containers\n\nTo w/a the missing a container rename feature of podman, implement\nrenaming via removing of the original container and re-applying it from\nthe same configs but using the new name.\n\nThis fixes idempotency issues when service containers are executed\nunder ephemeral names created via the paunch's unique containers names\ngenerator, while it is expected to have them executed under its wanted\nconfig names.\n\nChange-Id: If851604d25b6c7982d950bb9e13dceada3bfc161\nCloses-Bug: #1805410\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 6, 'created': '2018-12-04 14:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/cb51f3be6d55dc99591c7a29e736f3b44f80bc84', 'message': ""Implement podman rename via re-apply of containers\n\nTo w/a the missing a container rename feature of podman, implement\nrenaming via removing of the original container and re-applying it from\nthe same configs but using the new name.\n\nThis fixes idempotency issues when service containers are executed\nunder ephemeral names created via the paunch's unique containers names\ngenerator, while it is expected to have them executed under its wanted\nconfig names.\n\nChange-Id: If851604d25b6c7982d950bb9e13dceada3bfc161\nCloses-Bug: #1805410\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 7, 'created': '2019-01-03 12:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/ac9b15cd65c6e67fa5a566f8399205a642601ee7', 'message': ""Implement podman rename via re-apply of containers\n\nTo w/a the missing a container rename feature of podman, implement\nrenaming via removing of the original container and re-applying it from\nthe same configs but using the new name.\n\nThis fixes idempotency issues when service containers are executed\nunder ephemeral names created via the paunch's unique containers names\ngenerator, while it is expected to have them executed under its wanted\nconfig names.\n\nChange-Id: If851604d25b6c7982d950bb9e13dceada3bfc161\nCloses-Bug: #1805410\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 8, 'created': '2019-01-09 11:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/a05f69f1cb0d801499be994ff6de63013a7b1b0b', 'message': ""Implement podman rename via re-apply of containers\n\nTo w/a the missing a container rename feature of podman, implement\nrenaming via removing of the original container and re-applying it from\nthe same configs but using the new name.\n\nThis fixes idempotency issues when service containers are executed\nunder ephemeral names created via the paunch's unique containers names\ngenerator, while it is expected to have them executed under its wanted\nconfig names.\n\nChange-Id: If851604d25b6c7982d950bb9e13dceada3bfc161\nCloses-Bug: #1805410\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 9, 'created': '2019-01-11 13:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/be1905d85aeae3c2226ccc12ac15729be0293333', 'message': ""Implement podman rename via re-apply of containers\n\nTo w/a the missing a container rename feature of podman, implement\nrenaming via removing of the original container and re-applying it from\nthe same configs but using the new name.\n\nThis fixes idempotency issues when service containers are executed\nunder ephemeral names created via the paunch's unique containers names\ngenerator, while it is expected to have them executed under its wanted\nconfig names.\n\nChange-Id: If851604d25b6c7982d950bb9e13dceada3bfc161\nCloses-Bug: #1805410\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 10, 'created': '2019-01-17 11:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/e21d8506dfe68c5474fa34488d371ba118671417', 'message': ""Implement podman rename via re-apply of containers\n\nTo w/a the missing a container rename feature of podman, implement\nrenaming via removing of the original container and re-applying it from\nthe same configs but using the new name.\n\nThis fixes idempotency issues when service containers are executed\nunder ephemeral names created via the paunch's unique containers names\ngenerator, while it is expected to have them executed under its wanted\nconfig names.\n\nChange-Id: If851604d25b6c7982d950bb9e13dceada3bfc161\nCloses-Bug: #1805410\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 11, 'created': '2019-01-21 14:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/15ba4608acbbdc4a689ca6aa7c8c3773662f5aa4', 'message': ""Implement podman rename via re-apply of containers\n\nTo w/a the missing a container rename feature of podman, implement\nrenaming via removing of the original container and re-applying it from\nthe same configs but using the new name.\n\nThis fixes idempotency issues when service containers are executed\nunder ephemeral names created via the paunch's unique containers names\ngenerator, while it is expected to have them executed under its wanted\nconfig names.\n\nChange-Id: If851604d25b6c7982d950bb9e13dceada3bfc161\nCloses-Bug: #1805410\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 12, 'created': '2019-01-22 15:43:43.000000000', 'files': ['requirements.txt', 'paunch/runner.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/510f0913539e92d2e874ae97efe0606fd277ad4b', 'message': ""Implement podman rename via re-apply of containers\n\nTo w/a the missing a container rename feature of podman, implement\nrenaming via removing of the original container and re-applying it from\nthe same configs but using the new name.\n\nThis fixes idempotency issues when service containers are executed\nunder ephemeral names created via the paunch's unique containers names\ngenerator, while it is expected to have them executed under its wanted\nconfig names.\n\nChange-Id: If851604d25b6c7982d950bb9e13dceada3bfc161\nCloses-Bug: #1805410\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",18,621607,510f0913539e92d2e874ae97efe0606fd277ad4b,59,9,12,6926,,,0,"Implement podman rename via re-apply of containers

To w/a the missing a container rename feature of podman, implement
renaming via removing of the original container and re-applying it from
the same configs but using the new name.

This fixes idempotency issues when service containers are executed
under ephemeral names created via the paunch's unique containers names
generator, while it is expected to have them executed under its wanted
config names.

Change-Id: If851604d25b6c7982d950bb9e13dceada3bfc161
Closes-Bug: #1805410
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/paunch refs/changes/07/621607/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'paunch/runner.py']",2,22a5a22988541ca238a25198aa907253d6d3b8c3,bug/1805410,"import jmespathfrom paunch.builder import podman def discover_container_config(self, configs, container): '''Find the paunch and runtime configs of a container by name.''' for conf_id in self.current_config_ids(): jquerry = (""[] | [?(Name=='%s' && "" ""Config.Labels.container_name=='%s' && "" ""Config.Labels.config_id=='%s')]"" % (container, container, conf_id)) try: runtime_conf = jmespath.search(jquerry, configs[conf_id])[0] result = (conf_id, runtime_conf) except Exception: self.log.error(""Failed searching container %s "" ""for config %"" % (container, conf_id)) result = (None, None) if runtime_conf: self.log.debug(""Found container %s "" ""for config %"" % (container, conf_id)) break return result # in paunch itself for now # Get the paunch config from the known containers' configs configs = self.list_configs() config_id, config = self.discover_container_config(configs, container) # Fetch the config_data from runtime labels of the original container config_data = {} try: config_data['name'] = json.loads( config.get('Config').get('Labels').get('config_data')) except Exception: self.log.error(""Failed to rename a container %s into %s: "" ""no config_data was found"" % (container, name)) return # Re-apply a container under its amended name using the fetched configs self.stop_container(container) self.remove_container(container) self.log.debug(""Renaming a container known %s into %s via re-apply"" % (container, name)) builder = podman.PodmanBuilder( config_id=config_id, config=config_data, runner=self, labels=None, log=self.log ) builder.apply()"," # in paunch itself, probably. self.log.warning(""container renaming isn't supported by podman"") pass",50,3
openstack%2Ftripleo-heat-templates~master~Ibaaaab9d4169829c0f71cf7acea25971b4526695,openstack/tripleo-heat-templates,master,Ibaaaab9d4169829c0f71cf7acea25971b4526695,Add missing entries for Pure Storage Cinder Backend and fix typos,MERGED,2018-11-22 16:30:14.000000000,2019-01-23 23:46:52.000000000,2019-01-23 23:46:52.000000000,"[{'_account_id': 10873}, {'_account_id': 13425}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-22 16:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8a70acde274fb2e4f6c60a1680b023b1ea58972', 'message': 'Add missing entries for Pure Storage Cinder Backend\n\nChange-Id: Ibaaaab9d4169829c0f71cf7acea25971b4526695\n'}, {'number': 2, 'created': '2018-12-06 15:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f76440308995760f77ac5b1c2749771c96bab05d', 'message': 'Add missing entries for Pure Storage Cinder Backend and fix typos\n\nCloses-bug: 1807195\nChange-Id: Ibaaaab9d4169829c0f71cf7acea25971b4526695\n'}, {'number': 3, 'created': '2019-01-15 17:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd6991416f974cba0699c811b65a6c6ff32810ff', 'message': 'Add missing entries for Pure Storage Cinder Backend and fix typos\n\nCloses-bug: 1807195\nChange-Id: Ibaaaab9d4169829c0f71cf7acea25971b4526695\n'}, {'number': 4, 'created': '2019-01-15 17:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fcb6b7a3e05f6a8bfc8adf8ee40de8ec522e51f7', 'message': 'Add missing entries for Pure Storage Cinder Backend and fix typos\n\nCloses-bug: 1807195\nChange-Id: Ibaaaab9d4169829c0f71cf7acea25971b4526695\n'}, {'number': 5, 'created': '2019-01-15 17:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f9436006825780b325e367182e943e12a8bb793', 'message': 'Add missing entries for Pure Storage Cinder Backend and fix typos\n\nCloses-bug: 1807195\nChange-Id: Ibaaaab9d4169829c0f71cf7acea25971b4526695\n'}, {'number': 6, 'created': '2019-01-23 14:34:24.000000000', 'files': ['roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'roles/ControllerNoCeph.yaml', 'deployment/cinder/cinder-backend-pure-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles_data.yaml', 'roles/Controller.yaml', 'environments/cinder-pure-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f77d8e79098fd0689c5df3bbaf5eb5b81ad58264', 'message': 'Add missing entries for Pure Storage Cinder Backend and fix typos\n\nCloses-bug: 1807195\nChange-Id: Ibaaaab9d4169829c0f71cf7acea25971b4526695\n'}]",0,619608,f77d8e79098fd0689c5df3bbaf5eb5b81ad58264,29,6,6,13425,,,0,"Add missing entries for Pure Storage Cinder Backend and fix typos

Closes-bug: 1807195
Change-Id: Ibaaaab9d4169829c0f71cf7acea25971b4526695
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/619608/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'roles_data.yaml']",8,a8a70acde274fb2e4f6c60a1680b023b1ea58972,bug/1807195, - OS::TripleO::Services::CinderBackendPure,,8,0
openstack%2Ftripleo-puppet-elements~master~Ia547422b2b0e46652dd6c6543e83b518f8742cda,openstack/tripleo-puppet-elements,master,Ia547422b2b0e46652dd6c6543e83b518f8742cda,Remove additional containered software,MERGED,2018-12-14 20:47:55.000000000,2019-01-23 23:46:51.000000000,2019-01-23 23:46:51.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-14 20:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/372338d5b39e1a1430884313af1bd66d795a38c2', 'message': 'Remove additional containered software\n\nWe are now running things like haproxy/mysql/redis in containers so we\nno longer need to install them in the overcloud images.\n\nChange-Id: Ia547422b2b0e46652dd6c6543e83b518f8742cda\nRelated-Blueprint: cleanup-overcloud-images\n'}, {'number': 2, 'created': '2019-01-03 18:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/857c592af640bef7b0dd4b316d877e364c1e2060', 'message': 'Remove additional containered software\n\nWe are now running things like haproxy/mysql/redis in containers so we\nno longer need to install them in the overcloud images.\n\nChange-Id: Ia547422b2b0e46652dd6c6543e83b518f8742cda\nRelated-Blueprint: cleanup-overcloud-images\n'}, {'number': 3, 'created': '2019-01-22 22:01:10.000000000', 'files': ['elements/overcloud-controller/pkg-map', 'elements/overcloud-controller/install.d/package-installs-overcloud-controller'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/c08e3a4f7e5ace9929ba51bec04ee82e0cd8c42c', 'message': 'Remove additional containered software\n\nWe are now running things like haproxy/mysql/redis in containers so we\nno longer need to install them in the overcloud images.\n\nChange-Id: Ia547422b2b0e46652dd6c6543e83b518f8742cda\nRelated-Blueprint: cleanup-overcloud-images\n'}]",3,625345,c08e3a4f7e5ace9929ba51bec04ee82e0cd8c42c,28,6,3,14985,,,0,"Remove additional containered software

We are now running things like haproxy/mysql/redis in containers so we
no longer need to install them in the overcloud images.

Change-Id: Ia547422b2b0e46652dd6c6543e83b518f8742cda
Related-Blueprint: cleanup-overcloud-images
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/45/625345/3 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-controller/pkg-map', 'elements/overcloud-controller/install.d/package-installs-overcloud-controller']",2,372338d5b39e1a1430884313af1bd66d795a38c2,bp/cleanup-overcloud-images,,cyrus_sasl_plain_packageetcd_packagehaproxy_packagekeepalived_package mariadb_package mariadb_server_package mod_auth_mellon_package mod_ssl_package mongodb_client_package mongodb_server_packagepython_cradox_packageredis_client_package redis_server_package stunnel_package,0,33
openstack%2Fneutron-lib~master~Ied4c2a0a75ff8bee04c1a98deed9ed401c2f86f9,openstack/neutron-lib,master,Ied4c2a0a75ff8bee04c1a98deed9ed401c2f86f9,Update external_fixed_ips parameter in neutron,ABANDONED,2018-02-08 09:32:09.000000000,2019-01-23 23:13:01.000000000,,"[{'_account_id': 5367}, {'_account_id': 7715}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 24438}]","[{'number': 1, 'created': '2018-02-08 09:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/bab4ad1af23e9d72ed9a959c6ae35e12d7f55812', 'message': 'Update external_fixed_ips parameter in neutron\n\nAdd a description for the empty list of external_fixed_ips parameters.\n\nDepends-On: I317e13b09b423910f3d17a209c992f00eb918725\nChange-Id: Ied4c2a0a75ff8bee04c1a98deed9ed401c2f86f9\nRelated-Bug: #1748132\n'}, {'number': 2, 'created': '2018-02-09 02:21:10.000000000', 'files': ['api-ref/source/v2/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b94b9ebcc5c1e882f8c79582bafef28874e73663', 'message': 'Update external_fixed_ips parameter in neutron\n\nAdd a description for the empty list of external_fixed_ips parameters.\n\nDepends-On: I317e13b09b423910f3d17a209c992f00eb918725\nChange-Id: Ied4c2a0a75ff8bee04c1a98deed9ed401c2f86f9\nRelated-Bug: #1748132\n'}]",5,542106,b94b9ebcc5c1e882f8c79582bafef28874e73663,13,5,2,24438,,,0,"Update external_fixed_ips parameter in neutron

Add a description for the empty list of external_fixed_ips parameters.

Depends-On: I317e13b09b423910f3d17a209c992f00eb918725
Change-Id: Ied4c2a0a75ff8bee04c1a98deed9ed401c2f86f9
Related-Bug: #1748132
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/06/542106/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/parameters.yaml'],1,bab4ad1af23e9d72ed9a959c6ae35e12d7f55812,bug/1748132," If empty, it means there is no IP on the router gateway port.",,1,0
openstack%2Freleases~master~Ifda841ddd7a7cc2d9922f2e84a769f7423ef3f35,openstack/releases,master,Ifda841ddd7a7cc2d9922f2e84a769f7423ef3f35,Release kuryr-kubernetes 0.4.6 (Queens),MERGED,2019-01-23 09:12:37.000000000,2019-01-23 23:06:37.000000000,2019-01-23 23:06:37.000000000,"[{'_account_id': 11904}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 09:12:37.000000000', 'files': ['deliverables/queens/kuryr-kubernetes.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/97b373dc9c89188ae82d56715a52d8b323db832a', 'message': 'Release kuryr-kubernetes 0.4.6 (Queens)\n\nChange-Id: Ifda841ddd7a7cc2d9922f2e84a769f7423ef3f35\n'}]",0,632661,97b373dc9c89188ae82d56715a52d8b323db832a,7,3,1,11600,,,0,"Release kuryr-kubernetes 0.4.6 (Queens)

Change-Id: Ifda841ddd7a7cc2d9922f2e84a769f7423ef3f35
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/632661/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/kuryr-kubernetes.yaml'],1,97b373dc9c89188ae82d56715a52d8b323db832a,release-kuryr-kubernetes-0.4.6, - version: 0.4.6 projects: - repo: openstack/kuryr-kubernetes hash: 06e88c90996d2b53d97900117fea4b53ea60cf59,,4,0
openstack%2Freleases~master~Ibcc6e2a103ec5282a42073bc2d56b57896e992dd,openstack/releases,master,Ibcc6e2a103ec5282a42073bc2d56b57896e992dd,Release python-barbicanclient 4.6.1 for queens,MERGED,2019-01-18 19:08:59.000000000,2019-01-23 23:06:36.000000000,2019-01-23 23:06:35.000000000,"[{'_account_id': 9914}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-01-18 19:08:59.000000000', 'files': ['deliverables/queens/python-barbicanclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b80de4ce99792ada3136b602930cd93ba114b3e6', 'message': 'Release python-barbicanclient 4.6.1 for queens\n\nChange-Id: Ibcc6e2a103ec5282a42073bc2d56b57896e992dd\n'}]",0,631867,b80de4ce99792ada3136b602930cd93ba114b3e6,13,5,1,9914,,,0,"Release python-barbicanclient 4.6.1 for queens

Change-Id: Ibcc6e2a103ec5282a42073bc2d56b57896e992dd
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/631867/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/python-barbicanclient.yaml'],1,b80de4ce99792ada3136b602930cd93ba114b3e6,release_barbicanclient_for_queens, - projects: - hash: e12aa561572d32e643c6dc46a1fa7576370e2f00 repo: openstack/python-barbicanclient version: 4.6.1,,4,0
openstack%2Freleases~master~I1f05caab6737d4fd406ac4c7474aadecb5716e10,openstack/releases,master,I1f05caab6737d4fd406ac4c7474aadecb5716e10,Release python-barbicanclient 4.7.2 for rocky,MERGED,2019-01-18 19:06:32.000000000,2019-01-23 23:06:35.000000000,2019-01-23 23:06:34.000000000,"[{'_account_id': 9914}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-18 19:06:32.000000000', 'files': ['deliverables/rocky/python-barbicanclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/57cfff38c9531b447179b12f83817b7d77d738d3', 'message': 'Release python-barbicanclient 4.7.2 for rocky\n\nChange-Id: I1f05caab6737d4fd406ac4c7474aadecb5716e10\n'}]",0,631866,57cfff38c9531b447179b12f83817b7d77d738d3,9,4,1,9914,,,0,"Release python-barbicanclient 4.7.2 for rocky

Change-Id: I1f05caab6737d4fd406ac4c7474aadecb5716e10
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/631866/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/python-barbicanclient.yaml'],1,57cfff38c9531b447179b12f83817b7d77d738d3,release_barbicanclient_for_rocky, - projects: - hash: f14511dd9d8806d777f81f33f34ef522245af6a0 repo: openstack/python-barbicanclient version: 4.7.2,,4,0
openstack%2Freleases~master~I7e67e0b46102c9b643e12f149f0abb6fcd60e42f,openstack/releases,master,I7e67e0b46102c9b643e12f149f0abb6fcd60e42f,Release Kuryr-Kubernetes 0.5.3,MERGED,2019-01-23 10:16:48.000000000,2019-01-23 22:59:39.000000000,2019-01-23 22:59:39.000000000,"[{'_account_id': 11904}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 10:16:48.000000000', 'files': ['deliverables/rocky/kuryr-kubernetes.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/81c08196065d52c56690790610717979d17a04cf', 'message': 'Release Kuryr-Kubernetes 0.5.3\n\nChange-Id: I7e67e0b46102c9b643e12f149f0abb6fcd60e42f\n'}]",0,632686,81c08196065d52c56690790610717979d17a04cf,7,3,1,11600,,,0,"Release Kuryr-Kubernetes 0.5.3

Change-Id: I7e67e0b46102c9b643e12f149f0abb6fcd60e42f
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/632686/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/kuryr-kubernetes.yaml'],1,81c08196065d52c56690790610717979d17a04cf,release-kuryr-kubernetes-0.5.3, - version: 0.5.3 projects: - repo: openstack/kuryr-kubernetes hash: 1d56b5b26dee769a55de3c677bde2ed63992c4ed,,4,0
openstack%2Fmagnum~master~I2b65faa7df43a1d58205e8ff106ff62f73d78198,openstack/magnum,master,I2b65faa7df43a1d58205e8ff106ff62f73d78198,Use oslo_serialization instead of the json module directly,MERGED,2019-01-16 20:39:05.000000000,2019-01-23 22:53:24.000000000,2019-01-23 22:53:23.000000000,"[{'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-01-16 20:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/af20d7a1cfc72c4b85ecf3c9bc2549afcf30b576', 'message': 'Use oslo_serialization instead of the json module directly\n\nChange-Id: I2b65faa7df43a1d58205e8ff106ff62f73d78198\n'}, {'number': 2, 'created': '2019-01-16 21:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/aebe588d68b90574a130fda8568ee248d9c9cc2a', 'message': 'Use oslo_serialization instead of the json module directly\n\nChange-Id: I2b65faa7df43a1d58205e8ff106ff62f73d78198\n'}, {'number': 3, 'created': '2019-01-17 00:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/493137f8446cfd18f2585b5259ddc28330c70fb0', 'message': 'Use oslo_serialization instead of the json module directly\n\nChange-Id: I2b65faa7df43a1d58205e8ff106ff62f73d78198\n'}, {'number': 4, 'created': '2019-01-17 21:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/19b547cab459192a2e7de7cf709301d97ced59b9', 'message': 'Use oslo_serialization instead of the json module directly\n\nChange-Id: I2b65faa7df43a1d58205e8ff106ff62f73d78198\n'}, {'number': 5, 'created': '2019-01-18 21:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/75d641ec44aaf1c7f68d82623987333fc003d4bb', 'message': 'Use oslo_serialization instead of the json module directly\n\n* Always use oslo jsonutils.\n* Consistently import jsonutils as-is.\n* Use dump_as_bytes instead of dumps.\nhttps://wiki.openstack.org/wiki/Python3#Serialization:_base64.2C_JSON.2C_etc.\n\nChange-Id: I2b65faa7df43a1d58205e8ff106ff62f73d78198\n'}, {'number': 6, 'created': '2019-01-18 22:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b4b7ba0fc7939ef3db50a23a3265535ef19e45f8', 'message': 'Use oslo_serialization instead of the json module directly\n\n* Always use oslo jsonutils.\n* Consistently import jsonutils as-is.\n* Use dump_as_bytes instead of dumps.\nhttps://wiki.openstack.org/wiki/Python3#Serialization:_base64.2C_JSON.2C_etc.\n\nChange-Id: I2b65faa7df43a1d58205e8ff106ff62f73d78198\n'}, {'number': 7, 'created': '2019-01-18 22:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e4a030f3d4feedbc467ea51de27dada58d6b620d', 'message': 'Use oslo_serialization instead of the json module directly\n\n* Always use oslo jsonutils.\n* Consistently import jsonutils as-is.\n* Use dump_as_bytes instead of dumps.\nhttps://wiki.openstack.org/wiki/Python3#Serialization:_base64.2C_JSON.2C_etc.\n\nChange-Id: I2b65faa7df43a1d58205e8ff106ff62f73d78198\n'}, {'number': 8, 'created': '2019-01-20 20:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b8809f38f47c9d82788789367f0124423c3229e8', 'message': 'Use oslo_serialization instead of the json module directly\n\n* Always use oslo jsonutils.\n* Consistently import jsonutils as-is.\n* Use dump_as_bytes instead of dumps.\nhttps://wiki.openstack.org/wiki/Python3#Serialization:_base64.2C_JSON.2C_etc.\n\nChange-Id: I2b65faa7df43a1d58205e8ff106ff62f73d78198\n'}, {'number': 9, 'created': '2019-01-20 22:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fd6207381def09797712a3ad16100ddc5defdf49', 'message': 'Use oslo_serialization instead of the json module directly\n\n* Always use oslo jsonutils.\n* Consistently import jsonutils as-is.\n* Use dump_as_bytes instead of dumps.\nhttps://wiki.openstack.org/wiki/Python3#Serialization:_base64.2C_JSON.2C_etc.\n\nChange-Id: I2b65faa7df43a1d58205e8ff106ff62f73d78198\n'}, {'number': 10, 'created': '2019-01-22 00:28:28.000000000', 'files': ['magnum/drivers/common/templates/swarm/fragments/make-cert.py', 'magnum/api/middleware/parsable_error.py', 'magnum/tests/functional/common/models.py', 'magnum/tests/functional/api/v1/models/cluster_templatepatch_model.py', 'magnum/api/http_error.py', 'magnum/tests/functional/api/v1/models/baymodelpatch_model.py', 'magnum/tests/functional/api/v1/models/baypatch_model.py', 'magnum/api/attr_validator.py', 'magnum/db/sqlalchemy/models.py', 'magnum/tests/functional/api/v1/models/clusterpatch_model.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/daf34d9df804d592fd4aa7b5473f166cc8876a81', 'message': 'Use oslo_serialization instead of the json module directly\n\n* Always use oslo jsonutils.\n* Consistently import jsonutils as-is.\n* Use dump_as_bytes instead of dumps.\nhttps://wiki.openstack.org/wiki/Python3#Serialization:_base64.2C_JSON.2C_etc.\n\nChange-Id: I2b65faa7df43a1d58205e8ff106ff62f73d78198\n'}]",13,631331,daf34d9df804d592fd4aa7b5473f166cc8876a81,28,5,10,22623,,,0,"Use oslo_serialization instead of the json module directly

* Always use oslo jsonutils.
* Consistently import jsonutils as-is.
* Use dump_as_bytes instead of dumps.
https://wiki.openstack.org/wiki/Python3#Serialization:_base64.2C_JSON.2C_etc.

Change-Id: I2b65faa7df43a1d58205e8ff106ff62f73d78198
",git fetch https://review.opendev.org/openstack/magnum refs/changes/31/631331/6 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/swarm/fragments/make-cert.py', 'magnum/api/middleware/parsable_error.py', 'magnum/tests/functional/common/models.py', 'magnum/api/http_error.py', 'magnum/tests/functional/api/v1/models/cluster_templatepatch_model.py', 'magnum/tests/functional/api/v1/models/baymodelpatch_model.py', 'magnum/tests/functional/api/v1/models/baypatch_model.py', 'magnum/db/sqlalchemy/models.py', 'magnum/tests/functional/api/v1/models/clusterpatch_model.py']",9,af20d7a1cfc72c4b85ecf3c9bc2549afcf30b576,631331,from oslo_serialization import jsonutils as json,import json,11,11
openstack%2Fopenstack-helm-images~master~Iec150f67664bd7c5a750ddee0c1f45f75184af36,openstack/openstack-helm-images,master,Iec150f67664bd7c5a750ddee0c1f45f75184af36,[CEPH UTILITY] Add missing support binaries,MERGED,2019-01-23 13:28:41.000000000,2019-01-23 22:51:19.000000000,2019-01-23 22:51:19.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29268}]","[{'number': 1, 'created': '2019-01-23 13:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/edfc254fa4d54a87cd66be1d2029917ed338d02b', 'message': '[CEPH UTILITY] Add kubectl support\n\nChange-Id: Iec150f67664bd7c5a750ddee0c1f45f75184af36\n'}, {'number': 2, 'created': '2019-01-23 15:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f6c97f1a7238620e725689d3327aa796085535ec', 'message': '[CEPH UTILITY] Add missing support binaries\n\nAdd missing support binaries needed for performing backups from the\nutility container.\n\nChange-Id: Iec150f67664bd7c5a750ddee0c1f45f75184af36\n'}, {'number': 3, 'created': '2019-01-23 16:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e8fcafc1aeda3bc56d430947b905eb438e4885e3', 'message': '[CEPH UTILITY] Add missing support binaries\n\nAdd missing support binaries needed for performing backups from the\nutility container.\n\nChange-Id: Iec150f67664bd7c5a750ddee0c1f45f75184af36\n'}, {'number': 4, 'created': '2019-01-23 16:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e55a6fff325d778eb966b1f2616edb25744742f8', 'message': '[CEPH UTILITY] Add missing support binaries\n\nAdd missing support binaries needed for performing backups from the\nutility container.\n\nChange-Id: Iec150f67664bd7c5a750ddee0c1f45f75184af36\n'}, {'number': 5, 'created': '2019-01-23 16:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/db48d486c4e470bbde351093304147e2ae555b29', 'message': '[CEPH UTILITY] Add missing support binaries\n\nAdd missing support binaries needed for performing backups from the\nutility container.\n\nChange-Id: Iec150f67664bd7c5a750ddee0c1f45f75184af36\n'}, {'number': 6, 'created': '2019-01-23 16:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/36fb9ba6db9158baefaece1b9561b6c446f18446', 'message': '[CEPH UTILITY] Add missing support binaries\n\nAdd missing support binaries needed for performing backups from the\nutility container.\n\nChange-Id: Iec150f67664bd7c5a750ddee0c1f45f75184af36\n'}, {'number': 7, 'created': '2019-01-23 17:52:39.000000000', 'files': ['ceph-utility/Dockerfile.ubuntu_xenial'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c9cffd6979c49e503255ec98f89ffc8f39e3f2e8', 'message': '[CEPH UTILITY] Add missing support binaries\n\nAdd missing support binaries needed for performing backups from the\nutility container.\n\nChange-Id: Iec150f67664bd7c5a750ddee0c1f45f75184af36\n'}]",8,632719,c9cffd6979c49e503255ec98f89ffc8f39e3f2e8,25,4,7,29268,,,0,"[CEPH UTILITY] Add missing support binaries

Add missing support binaries needed for performing backups from the
utility container.

Change-Id: Iec150f67664bd7c5a750ddee0c1f45f75184af36
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/19/632719/7 && git format-patch -1 --stdout FETCH_HEAD,['ceph-utility/Dockerfile.ubuntu_xenial'],1,edfc254fa4d54a87cd66be1d2029917ed338d02b,ceph-utility-kubectl,ARG KUBE_VERSION=1.12.2 && apt-get update && apt-get install -y bash python-oslo.rootwrap moreutils vim sudo screen ceph-common python-rbd radosgw rsyslog x11-apps jq s3cmd ceph rsync xz \ && TMP_DIR=$(mktemp --directory) \ && cd ${TMP_DIR} \ && curl -sSL https://dl.k8s.io/${KUBE_VERSION}/kubernetes-client-linux-amd64.tar.gz | tar -zxv --strip-components=1 \ && mv ${TMP_DIR}/client/bin/kubectl /usr/bin/kubectl \ && chmod +x /usr/bin/kubectl \ && rm -rf ${TMP_DIR}, && apt-get update && apt-get install -y bash python-oslo.rootwrap moreutils vim sudo screen ceph-common python-rbd radosgw rsyslog x11-apps jq \ && pip --no-cache-dir install --upgrade rgwadmin crush ,8,3
openstack%2Freleases~master~Iaf3932365eafeaaec9d480c43ceef7d3a60d52d5,openstack/releases,master,Iaf3932365eafeaaec9d480c43ceef7d3a60d52d5,Release openstackdocstheme 1.29.0,MERGED,2019-01-17 16:15:22.000000000,2019-01-23 22:38:01.000000000,2019-01-23 22:38:01.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 17765}, {'_account_id': 20156}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-01-17 16:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b056e828f713aa0c7caafc20841262c02d3c3f9f', 'message': 'Release openstackdocstheme 1.28.2\n\n- better handling when git client is not present\n- set options for translation build script\n\nChange-Id: Iaf3932365eafeaaec9d480c43ceef7d3a60d52d5\n'}, {'number': 2, 'created': '2019-01-17 16:57:55.000000000', 'files': ['deliverables/_independent/openstackdocstheme.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/15e1fee2152786de25d2f5b7eb780784af164bd7', 'message': 'Release openstackdocstheme 1.29.0\n\n- better handling when git client is not present\n- set options for translation build script\n\nChange-Id: Iaf3932365eafeaaec9d480c43ceef7d3a60d52d5\n'}]",2,631550,15e1fee2152786de25d2f5b7eb780784af164bd7,15,7,2,17765,,,0,"Release openstackdocstheme 1.29.0

- better handling when git client is not present
- set options for translation build script

Change-Id: Iaf3932365eafeaaec9d480c43ceef7d3a60d52d5
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/631550/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/openstackdocstheme.yaml'],1,b056e828f713aa0c7caafc20841262c02d3c3f9f,, - projects: - hash: e6576b1eeac5d224c6e86d3e1c724f883bbbd636 repo: openstack/openstackdocstheme version: 1.28.2,,4,0
openstack%2Fkuryr-kubernetes~master~Idaf70ea8cb7677296d6bea59b4d551bbb87e0422,openstack/kuryr-kubernetes,master,Idaf70ea8cb7677296d6bea59b4d551bbb87e0422,Fix CRD update when NP has namespaceSelectors,MERGED,2019-01-16 14:28:56.000000000,2019-01-23 22:36:48.000000000,2019-01-23 22:36:48.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-01-16 14:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2a8b2e3df5e783b9dfe99f5e64cc2bcf75186124', 'message': ""Fix CRD update when NP has namespaceSelectors\n\nWhen using the correct Network Policy drivers and handlers the CRD\nis not update on events applied over namespaces that matches a NP.\nThis commit fixes the issue by moving the support of this functionality from\n'NamespacePodSecurityGroupsDriver' to NetworkPolicySecurityGroupsDriver.\n\nCloses-bug: 1811995\n\nChange-Id: Idaf70ea8cb7677296d6bea59b4d551bbb87e0422\n""}, {'number': 2, 'created': '2019-01-18 11:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/447478d8edb578cbfdf463f847cb77271b56f1b2', 'message': ""Fix CRD update when NP has namespaceSelectors\n\nWhen using the correct Network Policy drivers and handlers the CRD\nis not update on events applied over namespaces that matches a NP.\nThis commit fixes the issue by moving the support of this functionality from\n'NamespacePodSecurityGroupsDriver' to NetworkPolicySecurityGroupsDriver.\n\nCloses-bug: 1811995\n\nChange-Id: Idaf70ea8cb7677296d6bea59b4d551bbb87e0422\n""}, {'number': 3, 'created': '2019-01-22 08:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4229bd7d62b1db868aa25e7c88e9a7e17cea0cc0', 'message': ""Fix CRD update when NP has namespaceSelectors\n\nWhen using the correct Network Policy drivers and handlers the CRD\nis not update on events applied over namespaces that matches a NP.\nThis commit fixes the issue by moving the support of this functionality from\n'NamespacePodSecurityGroupsDriver' to NetworkPolicySecurityGroupsDriver.\n\nCloses-bug: 1811995\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Idaf70ea8cb7677296d6bea59b4d551bbb87e0422\n""}, {'number': 4, 'created': '2019-01-23 16:07:28.000000000', 'files': ['kuryr_kubernetes/controller/drivers/namespace_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy_security_groups.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_security_groups.py', 'kuryr_kubernetes/controller/handlers/namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bf848c5b2230d0edef5fd758a81767b620f5f07c', 'message': ""Fix CRD update when NP has namespaceSelectors\n\nTo enforce the network policy isolation, the network policy\nsecurity group driver must be used. Thus the code needs to be\nthere instead of in the namespace security group driver (which\nis used for namespace isolation)\n\nCurrently, when using the correct Network Policy drivers and\nhandlers the CRD is not updated on events applied over namespaces\nthat matches a NP.\nThis commit fixes the issue by moving the support of this\nfunctionality from 'NamespacePodSecurityGroupsDriver' to\nNetworkPolicySecurityGroupsDriver.\n\nCloses-bug: 1811995\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Idaf70ea8cb7677296d6bea59b4d551bbb87e0422\n""}]",5,631230,bf848c5b2230d0edef5fd758a81767b620f5f07c,38,5,4,27032,,,0,"Fix CRD update when NP has namespaceSelectors

To enforce the network policy isolation, the network policy
security group driver must be used. Thus the code needs to be
there instead of in the namespace security group driver (which
is used for namespace isolation)

Currently, when using the correct Network Policy drivers and
handlers the CRD is not updated on events applied over namespaces
that matches a NP.
This commit fixes the issue by moving the support of this
functionality from 'NamespacePodSecurityGroupsDriver' to
NetworkPolicySecurityGroupsDriver.

Closes-bug: 1811995
Partially Implements: blueprint k8s-network-policies
Change-Id: Idaf70ea8cb7677296d6bea59b4d551bbb87e0422
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/30/631230/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/namespace_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy_security_groups.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_security_groups.py']",4,2a8b2e3df5e783b9dfe99f5e64cc2bcf75186124,bug/1811995,," @mock.patch('kuryr_kubernetes.controller.drivers.utils.' 'patch_kuryr_crd') @mock.patch('kuryr_kubernetes.controller.drivers.utils.' 'delete_security_group_rule') @mock.patch('kuryr_kubernetes.controller.drivers.utils.' 'get_kuryrnetpolicy_crds') def test_delete_namespace_sg_rule(self, m_get_knp_crd, m_delete_sg_rule, m_patch_kuryr_crd): cls = namespace_security_groups.NamespacePodSecurityGroupsDriver m_driver = mock.MagicMock(spec=cls) i_rule = get_matched_crd_obj()['spec']['ingressSgRules'][0] sg_rule_id = i_rule.get('security_group_rule')['id'] m_get_knp_crd.return_value = {""items"": [get_matched_crd_obj()]} cls.delete_namespace_sg_rules(m_driver, get_match_crd_namespace_obj()) m_get_knp_crd.assert_called_once() m_delete_sg_rule.assert_called_once_with(sg_rule_id) m_patch_kuryr_crd.assert_called_once() @mock.patch('kuryr_kubernetes.controller.drivers.utils.' 'patch_kuryr_crd') @mock.patch('kuryr_kubernetes.controller.drivers.utils.' 'delete_security_group_rule') @mock.patch('kuryr_kubernetes.controller.drivers.utils.' 'get_kuryrnetpolicy_crds') def test_delete_namespace_sg_rule_no_match(self, m_get_knp_crd, m_delete_sg_rule, m_patch_kuryr_crd): cls = namespace_security_groups.NamespacePodSecurityGroupsDriver m_driver = mock.MagicMock(spec=cls) m_get_knp_crd.return_value = {""items"": [get_matched_crd_obj()]} cls.delete_namespace_sg_rules(m_driver, get_no_match_crd_namespace_obj()) m_get_knp_crd.assert_called_once() m_delete_sg_rule.assert_not_called() m_patch_kuryr_crd.assert_not_called() @mock.patch('kuryr_kubernetes.controller.drivers.' 'namespace_security_groups._create_sg_rule') @mock.patch('kuryr_kubernetes.controller.drivers.utils.' 'match_selector') @mock.patch('kuryr_kubernetes.controller.drivers.utils.' 'get_namespace_subnet_cidr') def test__parse_rules(self, m_get_ns_subnet_cidr, m_match_selector, m_create_sg_rule): crd = get_crd_obj_no_match() policy = crd['spec']['networkpolicy_spec'] i_rule = policy.get('ingress')[0] ns_selector = i_rule['from'][0].get('namespaceSelector') ns = get_match_crd_namespace_obj() m_get_ns_subnet_cidr.return_value = '10.0.2.0/26' m_match_selector.return_value = True m_create_sg_rule.return_value = get_sg_rule() matched, rules = namespace_security_groups._parse_rules('ingress', crd, ns) m_get_ns_subnet_cidr.assert_called_once_with(ns) m_match_selector.assert_called_once_with(ns_selector, ns['metadata']['labels']) m_create_sg_rule.assert_called_once() self.assertEqual(matched, True) self.assertEqual(rules, [get_sg_rule()]) @mock.patch('kuryr_kubernetes.controller.drivers.' 'namespace_security_groups._create_sg_rule') @mock.patch('kuryr_kubernetes.controller.drivers.utils.' 'match_selector') @mock.patch('kuryr_kubernetes.controller.drivers.utils.' 'get_namespace_subnet_cidr') def test__parse_rules_no_match(self, m_get_ns_subnet_cidr, m_match_selector, m_create_sg_rule): crd = get_crd_obj_no_match() policy = crd['spec']['networkpolicy_spec'] i_rule = policy.get('ingress')[0] ns_selector = i_rule['from'][0].get('namespaceSelector') ns = get_no_match_crd_namespace_obj() m_get_ns_subnet_cidr.return_value = '10.0.2.0/26' m_match_selector.return_value = False matched, rules = namespace_security_groups._parse_rules('ingress', crd, ns) m_get_ns_subnet_cidr.assert_called_once_with(ns) m_match_selector.assert_called_once_with(ns_selector, ns['metadata']['labels']) m_create_sg_rule.assert_not_called() self.assertEqual(matched, False) self.assertEqual(rules, []) @mock.patch('kuryr_kubernetes.controller.drivers.' 'namespace_security_groups._create_sg_rule') @mock.patch('kuryr_kubernetes.controller.drivers.utils.' 'get_pod_ip') @mock.patch('kuryr_kubernetes.controller.drivers.utils.' 'get_pods') @mock.patch('kuryr_kubernetes.controller.drivers.utils.' 'match_selector') @mock.patch('kuryr_kubernetes.controller.drivers.utils.' 'get_namespace_subnet_cidr') def test__parse_rules_all_selectors(self, m_get_ns_subnet_cidr, m_match_selector, m_get_pods, m_get_pod_ip, m_create_sg_rule): crd = get_crd_obj_with_all_selectors() policy = crd['spec']['networkpolicy_spec'] i_rule = policy.get('ingress')[0] ns_selector = i_rule['from'][0].get('namespaceSelector') pod_selector = i_rule['from'][0].get('podSelector') ns = get_match_crd_namespace_obj() pod = get_match_crd_pod_obj() m_get_ns_subnet_cidr.return_value = '10.0.2.0/26' m_match_selector.return_value = True m_get_pods.return_value = {""items"": [pod]} m_get_pod_ip.return_value = pod['status']['podIP'] m_create_sg_rule.return_value = get_sg_rule() matched, rules = namespace_security_groups._parse_rules('ingress', crd, ns) m_get_ns_subnet_cidr.assert_called_once_with(ns) m_match_selector.assert_called_once_with(ns_selector, ns['metadata']['labels']) m_get_pods.assert_called_once_with(pod_selector, ns['metadata']['name']) m_get_pod_ip.assert_called_once_with(pod) m_create_sg_rule.assert_called_once() self.assertEqual(matched, True) self.assertEqual(rules, [get_sg_rule()])",431,352
openstack%2Fopenstack-ansible-ops~master~I201ed221941df93ed61eac3f256e8a60a0534c9b,openstack/openstack-ansible-ops,master,I201ed221941df93ed61eac3f256e8a60a0534c9b,"Fix the misspelling of ""container""",MERGED,2019-01-23 08:26:59.000000000,2019-01-23 22:34:34.000000000,2019-01-23 22:34:34.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 08:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/1bbfc497d3f054ca6868ec90a7add5e982ac66b3', 'message': 'Fix the misspelling of ""container""\n\nChange-Id: I201ed221941df93ed61eac3f256e8a60a0534c9b\n'}, {'number': 2, 'created': '2019-01-23 15:53:46.000000000', 'files': ['osquery/tests/functional.yml', 'osquery/tests/run-setup.yml', 'elk_metrics_6x/tests/run-setup.yml', 'elk_metrics_6x/tests/functional.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/defe320d864996045e281e2f97765fa687cc7ef8', 'message': 'Fix the misspelling of ""container""\n\nChange-Id: I201ed221941df93ed61eac3f256e8a60a0534c9b\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,632642,defe320d864996045e281e2f97765fa687cc7ef8,8,2,2,29721,,,0,"Fix the misspelling of ""container""

Change-Id: I201ed221941df93ed61eac3f256e8a60a0534c9b
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/42/632642/1 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_6x/tests/functional.yml'],1,1bbfc497d3f054ca6868ec90a7add5e982ac66b3,," inventory_file: ""inventory/test-{{ (container_inventory | bool) | ternary('container', 'metal') }}-inventory.yml"" not (container_inventory | bool) - container_inventory | bool"," inventory_file: ""inventory/test-{{ (contianer_inventory | bool) | ternary('container', 'metal') }}-inventory.yml"" not (contianer_inventory | bool) - contianer_inventory | bool",3,3
openstack%2Freleases~master~Ic3cb5184d5cc65982e90430b94fbd13beaa4c921,openstack/releases,master,Ic3cb5184d5cc65982e90430b94fbd13beaa4c921,Release sqlalchemy-migrate 0.12.0,MERGED,2019-01-21 22:21:27.000000000,2019-01-23 22:32:11.000000000,2019-01-23 22:32:11.000000000,"[{'_account_id': 6873}, {'_account_id': 11816}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-21 22:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/26c6937bb9ec8accf31b4d4cc269af1e0499040b', 'message': 'Release sqlalchemy-migrate 0.12.0\n\nThis is a minor version release because some dependent\npackages are updated and support for python 2.6 is\nofficially dropped.\n\nChange-Id: Ic3cb5184d5cc65982e90430b94fbd13beaa4c921\n'}, {'number': 2, 'created': '2019-01-22 16:38:10.000000000', 'files': ['deliverables/_independent/sqlalchemy-migrate.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/27dd5ff72d720a10ab25ffcc171e544958401102', 'message': 'Release sqlalchemy-migrate 0.12.0\n\nThis is a minor version release because some dependent\npackages are updated and support for python 2.6 is\nofficially dropped.\n\nChange-Id: Ic3cb5184d5cc65982e90430b94fbd13beaa4c921\n'}]",0,632180,27dd5ff72d720a10ab25ffcc171e544958401102,15,5,2,6873,,,0,"Release sqlalchemy-migrate 0.12.0

This is a minor version release because some dependent
packages are updated and support for python 2.6 is
officially dropped.

Change-Id: Ic3cb5184d5cc65982e90430b94fbd13beaa4c921
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/632180/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/sqlalchemy-migrate.yaml'],1,26c6937bb9ec8accf31b4d4cc269af1e0499040b,sqlalchemy-migrate-0.12.0, - version: 0.12.0 projects: - repo: openstack/sqlalchemy-migrate hash: f0664995a1aa0a533520f7787a453a429cc95b4a,,4,0
openstack%2Freleases~master~I990d5284392f7c66ccda61adaef6a6489d150826,openstack/releases,master,I990d5284392f7c66ccda61adaef6a6489d150826,Release karbor-dashboard 1.2.0,MERGED,2019-01-18 02:28:38.000000000,2019-01-23 22:32:10.000000000,2019-01-23 22:32:10.000000000,"[{'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-01-18 02:28:38.000000000', 'files': ['deliverables/stein/karbor-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b0b3ce6af032e680d75fbbb976c26e2d42f86938', 'message': 'Release karbor-dashboard 1.2.0\n\nChange-Id: I990d5284392f7c66ccda61adaef6a6489d150826\n'}]",0,631692,b0b3ce6af032e680d75fbbb976c26e2d42f86938,9,4,1,21224,,,0,"Release karbor-dashboard 1.2.0

Change-Id: I990d5284392f7c66ccda61adaef6a6489d150826
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/631692/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/karbor-dashboard.yaml'],1,b0b3ce6af032e680d75fbbb976c26e2d42f86938,master-karbor-dashboard-release,releases: - projects: - hash: d862d4e6d80ee871206782648fb2ea2fe48db80c repo: openstack/karbor-dashboard version: 1.2.0,,5,0
openstack%2Freleases~master~I2c144f84263fd1587846c9f7ca72b8a018e65fd8,openstack/releases,master,I2c144f84263fd1587846c9f7ca72b8a018e65fd8,Release metalsmith 0.10.0 for Stein,MERGED,2019-01-22 09:41:11.000000000,2019-01-23 22:32:09.000000000,2019-01-23 22:32:09.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 09:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d838ce2288dfd21fa3644a467df808da1bfca50d', 'message': 'Release metalsmith 0.10.0 for Stein\n\nRe-releasing because of an issue found in RDO builders when packaging.\n\nChange-Id: I2c144f84263fd1587846c9f7ca72b8a018e65fd8\n'}, {'number': 2, 'created': '2019-01-23 09:23:28.000000000', 'files': ['deliverables/stein/metalsmith.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5282d6e02032045110710be8a326e58d11356626', 'message': 'Release metalsmith 0.10.0 for Stein\n\nRe-releasing because of a regression in the previous release and\nan issue found in RDO builders when packaging.\n\nChange-Id: I2c144f84263fd1587846c9f7ca72b8a018e65fd8\n'}]",0,632356,5282d6e02032045110710be8a326e58d11356626,10,4,2,10239,,,0,"Release metalsmith 0.10.0 for Stein

Re-releasing because of a regression in the previous release and
an issue found in RDO builders when packaging.

Change-Id: I2c144f84263fd1587846c9f7ca72b8a018e65fd8
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/632356/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/metalsmith.yaml'],1,d838ce2288dfd21fa3644a467df808da1bfca50d,metalsmith, - projects: - hash: 6c55e2f3e2ac39e540d162e6dfb20d8586d68ff3 repo: openstack/metalsmith version: 0.10.0,,4,0
openstack%2Freleases~master~Ib4a72800badd7fa2fc944c23748249572bf7a8b1,openstack/releases,master,Ib4a72800badd7fa2fc944c23748249572bf7a8b1,ec2-api: release stein 8.0.0,MERGED,2019-01-22 13:17:38.000000000,2019-01-23 22:30:47.000000000,2019-01-23 22:30:47.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 13:17:38.000000000', 'files': ['deliverables/stein/ec2-api.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f32270469a5756214d87151b952a34cb1eecd35d', 'message': 'ec2-api: release stein 8.0.0\n\nChange-Id: Ib4a72800badd7fa2fc944c23748249572bf7a8b1\n'}]",0,632462,f32270469a5756214d87151b952a34cb1eecd35d,7,2,1,10234,,,0,"ec2-api: release stein 8.0.0

Change-Id: Ib4a72800badd7fa2fc944c23748249572bf7a8b1
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/632462/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/ec2-api.yaml'],1,f32270469a5756214d87151b952a34cb1eecd35d,,releases: - version: 8.0.0 projects: - repo: openstack/ec2-api hash: 46af2c326f413fb993e6dbe7d14cdc4b7e3f4ace,,5,0
openstack%2Ftripleo-heat-templates~master~I1a74611018ad3025e8a6e0441db973a80585d7f4,openstack/tripleo-heat-templates,master,I1a74611018ad3025e8a6e0441db973a80585d7f4,Move login-defs to deployment directory,MERGED,2019-01-22 20:49:17.000000000,2019-01-23 22:17:17.000000000,2019-01-23 22:17:17.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-22 20:49:17.000000000', 'files': ['environments/login-defs.yaml', 'deployment/login-defs/login-defs-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c4f57e28cba26992da0ab0f7f9252df55488155b', 'message': 'Move login-defs to deployment directory\n\nChange-Id: I1a74611018ad3025e8a6e0441db973a80585d7f4\nRelated-Blueprint: services-yaml-flattening\n'}]",0,632554,c4f57e28cba26992da0ab0f7f9252df55488155b,8,4,1,14985,,,0,"Move login-defs to deployment directory

Change-Id: I1a74611018ad3025e8a6e0441db973a80585d7f4
Related-Blueprint: services-yaml-flattening
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/632554/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/login-defs.yaml', 'deployment/login-defs/login-defs-baremetal-puppet.yaml']",2,c4f57e28cba26992da0ab0f7f9252df55488155b,bp/services-yaml-flattening,,,1,1
openstack%2Ftripleo-common~stable%2Frocky~Idcee177b21e85cff9e0bf10f4c43c71eff9364ec,openstack/tripleo-common,stable/rocky,Idcee177b21e85cff9e0bf10f4c43c71eff9364ec,Add AllNodesConfig to config-download group vars,MERGED,2019-01-23 12:53:34.000000000,2019-01-23 22:17:14.000000000,2019-01-23 22:17:14.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 12:53:34.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5defaf300fb0f59231062066ae1f0360748ab156', 'message': 'Add AllNodesConfig to config-download group vars\n\nSince I7b865bf82520006eef3ac2f36df34b1f3c34e642 added an AllNodesConfig\noutput to the overcloud, we can consume that in the group_vars\nand add it to the main overcloud group which means the data will be\navailable to all overcloud nodes.\n\nThis may be helpful to solve issues resolving per-service bootstrap\nnodes, and also the data there may be more generally useful in\nansible tasks.\n\nPartial-Bug: #1792613\nDepends-On: I7b865bf82520006eef3ac2f36df34b1f3c34e642\nChange-Id: Idcee177b21e85cff9e0bf10f4c43c71eff9364ec\n'}]",0,632711,5defaf300fb0f59231062066ae1f0360748ab156,7,3,1,4328,,,0,"Add AllNodesConfig to config-download group vars

Since I7b865bf82520006eef3ac2f36df34b1f3c34e642 added an AllNodesConfig
output to the overcloud, we can consume that in the group_vars
and add it to the main overcloud group which means the data will be
available to all overcloud nodes.

This may be helpful to solve issues resolving per-service bootstrap
nodes, and also the data there may be more generally useful in
ansible tasks.

Partial-Bug: #1792613
Depends-On: I7b865bf82520006eef3ac2f36df34b1f3c34e642
Change-Id: Idcee177b21e85cff9e0bf10f4c43c71eff9364ec
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/11/632711/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,5defaf300fb0f59231062066ae1f0360748ab156,bug/1792613," allnodes_vars = self.stack_outputs.get('AllNodesConfig', {}) # Write allnodes_vars to 'overcloud' group as it doesn't apply # to the undercloud, and 'overcloud' is the inventory group # for all overcloud nodes, regardless of the --stack name. filepath = os.path.join(group_vars_dir, 'overcloud.yaml') with self._open_file(filepath) as vars_file: yaml.safe_dump(allnodes_vars, vars_file, default_flow_style=False) ",,8,0
openstack%2Ftripleo-common~stable%2Frocky~I6792bccbd090b04d63bcef07bdb936a9685864c5,openstack/tripleo-common,stable/rocky,I6792bccbd090b04d63bcef07bdb936a9685864c5,Enable Ansible error handling per role,MERGED,2019-01-23 12:53:34.000000000,2019-01-23 22:17:13.000000000,2019-01-23 22:17:13.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 12:53:34.000000000', 'files': ['tripleo_common/templates/group_var_role.j2', 'tripleo_common/tests/utils/data/Controller', 'tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py', 'tripleo_common/tests/utils/data/Compute'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d434b88d291ace5de3957bbd42b6b75f07ea6e36', 'message': 'Enable Ansible error handling per role\n\nEnable Ansible group_yar options to be set per TripleO role.\nInitially supporting any_errors_fatal and max_fail_percentage\nthis change provides a structure by which future per-role Ansible\noptions can readily be added to group_vars.\n\nChange-Id: I6792bccbd090b04d63bcef07bdb936a9685864c5\nCloses-Bug: 1760989\nDepends-On: I47954717f42f14bae8d9fd2bd17cd8ea1fd787b3\n(cherry picked from commit 1be8eb8588587ece7a9a7e45c34bb1c74f406432)\n'}]",2,632710,d434b88d291ace5de3957bbd42b6b75f07ea6e36,10,6,1,4328,,,0,"Enable Ansible error handling per role

Enable Ansible group_yar options to be set per TripleO role.
Initially supporting any_errors_fatal and max_fail_percentage
this change provides a structure by which future per-role Ansible
options can readily be added to group_vars.

Change-Id: I6792bccbd090b04d63bcef07bdb936a9685864c5
Closes-Bug: 1760989
Depends-On: I47954717f42f14bae8d9fd2bd17cd8ea1fd787b3
(cherry picked from commit 1be8eb8588587ece7a9a7e45c34bb1c74f406432)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/10/632710/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/templates/group_var_role.j2', 'tripleo_common/tests/utils/data/Controller', 'tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py', 'tripleo_common/tests/utils/data/Compute']",5,d434b88d291ace5de3957bbd42b6b75f07ea6e36,bug/1792613, max_fail_percentage: 15 any_errors_fatal: yes,,43,4
openstack%2Ftripleo-heat-templates~master~I84a7b354ede46d6ec88964e5dcbd5678d89c8c0f,openstack/tripleo-heat-templates,master,I84a7b354ede46d6ec88964e5dcbd5678d89c8c0f,Remove deprecated TLS-related environment files,MERGED,2018-10-03 12:53:48.000000000,2019-01-23 22:17:10.000000000,2019-01-23 22:17:10.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-10-03 12:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/699c5949b1d0e760aa3cea27daa08c974a844590', 'message': 'Remove deprecated TLS-related environment files\n\nThe ones in environments/ssl/ are preferred instead. These have been\navailable since pike.\n\nChange-Id: I84a7b354ede46d6ec88964e5dcbd5678d89c8c0f\n'}, {'number': 2, 'created': '2018-10-03 13:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be1fa513d7c7d74b4ed04fe5b7ccff766d1c5be8', 'message': 'Remove deprecated TLS-related environment files\n\nThe ones in environments/ssl/ are preferred instead. These have been\navailable since pike.\n\nDepends-On: I1bfdb6d064f3b10b269dedafd36ca367139fe1df\nChange-Id: I84a7b354ede46d6ec88964e5dcbd5678d89c8c0f\n'}, {'number': 3, 'created': '2018-10-04 06:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/271d29c0f4f7b06c9add14ee14b2d2be49bb708a', 'message': 'Remove deprecated TLS-related environment files\n\nThe ones in environments/ssl/ are preferred instead. These have been\navailable since pike.\n\nDepends-On: I1bfdb6d064f3b10b269dedafd36ca367139fe1df\nDepends-On: I785ef253d1b6c53e6487917f77818b3bfeb9735e\nChange-Id: I84a7b354ede46d6ec88964e5dcbd5678d89c8c0f\n'}, {'number': 4, 'created': '2018-10-04 08:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9fea82361f2f72dc14a8a5afd38fa50bced7299', 'message': 'Remove deprecated TLS-related environment files\n\nThe ones in environments/ssl/ are preferred instead. These have been\navailable since pike.\n\nChange-Id: I84a7b354ede46d6ec88964e5dcbd5678d89c8c0f\n'}, {'number': 5, 'created': '2018-10-08 10:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4504eb282acc3247e5945316ad77180778da7b7d', 'message': 'Remove deprecated TLS-related environment files\n\nThe ones in environments/ssl/ are preferred instead. These have been\navailable since pike.\n\nChange-Id: I84a7b354ede46d6ec88964e5dcbd5678d89c8c0f\n'}, {'number': 6, 'created': '2018-10-11 12:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/082dd84415fc4b8f215feb5792af3cdba1e9e846', 'message': 'Remove deprecated TLS-related environment files\n\nThe ones in environments/ssl/ are preferred instead. These have been\navailable since pike.\n\nChange-Id: I84a7b354ede46d6ec88964e5dcbd5678d89c8c0f\n'}, {'number': 7, 'created': '2018-10-11 12:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c01532da0ae22f3d6bae74a5be714e17146568ba', 'message': 'Remove deprecated TLS-related environment files\n\nThe ones in environments/ssl/ are preferred instead. These have been\navailable since pike.\n\nChange-Id: I84a7b354ede46d6ec88964e5dcbd5678d89c8c0f\n'}, {'number': 8, 'created': '2018-10-12 08:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0db2fce37d68031d45cb48de44de8827ab1cdcbc', 'message': 'Remove deprecated TLS-related environment files\n\nThe ones in environments/ssl/ are preferred instead. These have been\navailable since pike.\n\nChange-Id: I84a7b354ede46d6ec88964e5dcbd5678d89c8c0f\n'}, {'number': 9, 'created': '2018-11-02 12:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4916fe21826df8eff71cf9daff3037e10edc591', 'message': 'Remove deprecated TLS-related environment files\n\nThe ones in environments/ssl/ are preferred instead. These have been\navailable since pike.\n\nChange-Id: I84a7b354ede46d6ec88964e5dcbd5678d89c8c0f\n'}, {'number': 10, 'created': '2018-12-01 09:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3d4f33a18957be4e94b788294d7db8617f6194c', 'message': 'Remove deprecated TLS-related environment files\n\nThe ones in environments/ssl/ are preferred instead. These have been\navailable since pike.\n\nChange-Id: I84a7b354ede46d6ec88964e5dcbd5678d89c8c0f\n'}, {'number': 11, 'created': '2019-01-09 13:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7318acd4283f5bb843a9d272aa06bc3176f74acf', 'message': 'Remove deprecated TLS-related environment files\n\nThe ones in environments/ssl/ are preferred instead. These have been\navailable since pike.\n\nChange-Id: I84a7b354ede46d6ec88964e5dcbd5678d89c8c0f\n'}, {'number': 12, 'created': '2019-01-18 09:57:51.000000000', 'files': ['environments/no-tls-endpoints-public-ip.yaml', 'environments/tls-everywhere-endpoints-dns.yaml', 'environments/inject-trust-anchor-hiera.yaml', 'environments/enable-internal-tls.yaml', 'environments/tls-endpoints-public-ip.yaml', 'environments/tls-endpoints-public-dns.yaml', 'environments/inject-trust-anchor.yaml', 'tools/yaml-validate.py', 'environments/enable-tls.yaml', 'releasenotes/notes/remove-old-tls-envs-137cf19b55526a81.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a72f8d4ae99e17cffe52cb94a90e33e1e4ea16fe', 'message': 'Remove deprecated TLS-related environment files\n\nThe ones in environments/ssl/ are preferred instead. These have been\navailable since pike.\n\nChange-Id: I84a7b354ede46d6ec88964e5dcbd5678d89c8c0f\nDepends-On: I5a905ec7499a6faa08cbcacfccb19a6e424e4a80\n'}]",0,607555,a72f8d4ae99e17cffe52cb94a90e33e1e4ea16fe,73,10,12,10873,,,0,"Remove deprecated TLS-related environment files

The ones in environments/ssl/ are preferred instead. These have been
available since pike.

Change-Id: I84a7b354ede46d6ec88964e5dcbd5678d89c8c0f
Depends-On: I5a905ec7499a6faa08cbcacfccb19a6e424e4a80
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/607555/12 && git format-patch -1 --stdout FETCH_HEAD,"['environments/no-tls-endpoints-public-ip.yaml', 'environments/tls-everywhere-endpoints-dns.yaml', 'environments/inject-trust-anchor-hiera.yaml', 'environments/enable-internal-tls.yaml', 'environments/tls-endpoints-public-ip.yaml', 'environments/tls-endpoints-public-dns.yaml', 'environments/inject-trust-anchor.yaml', 'environments/enable-tls.yaml', 'releasenotes/notes/remove-old-tls-envs-137cf19b55526a81.yaml']",9,699c5949b1d0e760aa3cea27daa08c974a844590,no-tls-fixes,"--- deprecations: - | The TLS-related environment files in the environments/ directory were deleted. The ones in the environments/ssl/ are preferred instead. Namely, the following files:: enable-internal-tls.yaml, enable-tls.yaml, inject-trust-anchor-hiera.yaml, inject-trust-anchor.yaml, no-tls-endpoints-public-ip.yaml, tls-endpoints-public-dns.yaml tls-endpoints-public-ip.yaml, tls-everywhere-endpoints-dns.yaml. ",,9,499
openstack%2Fcastellan~master~I59dfe31adb72712c53d49f66d9ac894e43e8bbad,openstack/castellan,master,I59dfe31adb72712c53d49f66d9ac894e43e8bbad,vault: add AppRole support,MERGED,2018-10-10 09:08:29.000000000,2019-01-23 22:16:17.000000000,2019-01-23 22:16:17.000000000,"[{'_account_id': 935}, {'_account_id': 7973}, {'_account_id': 10873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-10 09:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/de0cddb1104a3d36b08cc2b038022290c61841d8', 'message': ""Add AppRole support for Vault backend\n\nAdd support for use of AppRole's for authentication to Vault; this\nfeature provides a more application centric approach to managing\nlong term access to Vault.\n\nTODO: functional tests (need to create test roles).\n\nChange-Id: I59dfe31adb72712c53d49f66d9ac894e43e8bbad\nCloses-Bug: 1796851\n""}, {'number': 2, 'created': '2018-10-10 12:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/289475328f8343ce2263308eb47c8778a7500779', 'message': ""Add AppRole support for Vault backend\n\nAdd support for use of AppRole's for authentication to Vault; this\nfeature provides a more application centric approach to managing\nlong term access to Vault.\n\nThe functional tests exercise this integration with a restricted\npolicy which only allows access to the default 'secret' backend.\n\nChange-Id: I59dfe31adb72712c53d49f66d9ac894e43e8bbad\nCloses-Bug: 1796851\n""}, {'number': 3, 'created': '2018-10-10 12:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/a2e5656574c69180f8cc4e629c2884cd5f6b1573', 'message': ""Add AppRole support for Vault backend\n\nAdd support for use of AppRole's for authentication to Vault; this\nfeature provides a more application centric approach to managing\nlong term access to Vault.\n\nThe functional tests exercise this integration with a restricted\npolicy which only allows access to the default 'secret' backend.\n\nChange-Id: I59dfe31adb72712c53d49f66d9ac894e43e8bbad\nCloses-Bug: 1796851\n""}, {'number': 4, 'created': '2018-10-10 13:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/a4c3e284747f7f1587d5faa1e5934788fe019ed5', 'message': ""Add AppRole support for Vault backend\n\nAdd support for use of AppRole's for authentication to Vault; this\nfeature provides a more application centric approach to managing\nlong term access to Vault.\n\nThe functional tests exercise this integration with a restricted\npolicy which only allows access to the default 'secret' backend.\n\nChange-Id: I59dfe31adb72712c53d49f66d9ac894e43e8bbad\nCloses-Bug: 1796851\n""}, {'number': 5, 'created': '2018-10-10 14:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/601d17ad67d4efe3453a80f5584165eb4bec80e6', 'message': ""Add AppRole support for Vault backend\n\nAdd support for use of AppRole's for authentication to Vault; this\nfeature provides a more application centric approach to managing\nlong term access to Vault.\n\nThe functional tests exercise this integration with a restricted\npolicy which only allows access to the default 'secret' backend.\n\nChange-Id: I59dfe31adb72712c53d49f66d9ac894e43e8bbad\nCloses-Bug: 1796851\n""}, {'number': 6, 'created': '2018-10-10 14:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/83235ac829fdec653f22633c54273caf12fe1d93', 'message': ""Add AppRole support for Vault backend\n\nAdd support for use of AppRole's for authentication to Vault; this\nfeature provides a more application centric approach to managing\nlong term access to Vault.\n\nThe functional tests exercise this integration with a restricted\npolicy which only allows access to the default 'secret' backend.\n\nChange-Id: I59dfe31adb72712c53d49f66d9ac894e43e8bbad\nCloses-Bug: 1796851\n""}, {'number': 7, 'created': '2018-10-10 16:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/25f93f7ead527484068536204ed5b1fd05eb56ce', 'message': ""vault: add AppRole support\n\nAdd support for use of AppRole's for authentication to Vault; this\nfeature provides a more application centric approach to managing\nlong term access to Vault.\n\nThe functional tests exercise this integration with a restricted\npolicy which only allows access to the default 'secret' backend.\n\nChange-Id: I59dfe31adb72712c53d49f66d9ac894e43e8bbad\nCloses-Bug: 1796851\n""}, {'number': 8, 'created': '2018-10-12 09:06:31.000000000', 'files': ['castellan/key_manager/vault_key_manager.py', 'castellan/tests/functional/key_manager/test_vault_key_manager.py', 'castellan/options.py', 'releasenotes/notes/vault-approle-support-5ea04daea07a152f.yaml'], 'web_link': 'https://opendev.org/openstack/castellan/commit/bc7f7a4c361791727e23dab82a8abe7351483ef8', 'message': ""vault: add AppRole support\n\nAdd support for use of AppRole's for authentication to Vault; this\nfeature provides a more application centric approach to managing\nlong term access to Vault.\n\nThe functional tests exercise this integration with a restricted\npolicy which only allows access to the default 'secret' backend.\n\nChange-Id: I59dfe31adb72712c53d49f66d9ac894e43e8bbad\nCloses-Bug: 1796851\n""}]",8,609332,bc7f7a4c361791727e23dab82a8abe7351483ef8,31,4,8,935,,,0,"vault: add AppRole support

Add support for use of AppRole's for authentication to Vault; this
feature provides a more application centric approach to managing
long term access to Vault.

The functional tests exercise this integration with a restricted
policy which only allows access to the default 'secret' backend.

Change-Id: I59dfe31adb72712c53d49f66d9ac894e43e8bbad
Closes-Bug: 1796851
",git fetch https://review.opendev.org/openstack/castellan refs/changes/32/609332/8 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/key_manager/vault_key_manager.py', 'castellan/tests/functional/key_manager/test_vault_key_manager.py']",2,de0cddb1104a3d36b08cc2b038022290c61841d8,bug/1797148, class VaultKeyManagerAppRoleTestCase(VaultKeyManagerOSLOContextTestCase): def _create_key_manager(self): key_mgr = vault_key_manager.VaultKeyManager(cfg.CONF) if ('VAULT_TEST_URL' not in os.environ or 'VAULT_TEST_APPROLE_ROLE_ID' not in os.environ or 'VAULT_TEST_APPROLE_SECRET_ID' not in os.environ): raise testcase.TestSkipped('Missing Vault setup information') key_mgr._approle_role_id = os.environ['VAULT_TEST_APPROLE_ROLE_ID'] key_mgr._approle_secret_id = os.environ['VAULT_TEST_APPROLE_SECRET_ID'] key_mgr._vault_url = os.environ['VAULT_TEST_URL'] return key_mgr,,44,1
openstack%2Fpython-magnumclient~master~Ifb6c673da24276b0528e5975f63ac326d558936d,openstack/python-magnumclient,master,Ifb6c673da24276b0528e5975f63ac326d558936d,Use oslo_serialization instead of the json module directly,MERGED,2019-01-15 22:33:50.000000000,2019-01-23 22:13:47.000000000,2019-01-23 22:13:47.000000000,"[{'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-15 22:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/c07ab1d6ae5b49cfd51ab847d7ca5278def06a53', 'message': 'Use olso_serialization for json\n\nDepends-On: https://review.openstack.org/#/c/629126/\nChange-Id: Ifb6c673da24276b0528e5975f63ac326d558936d\n'}, {'number': 2, 'created': '2019-01-15 23:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/77f7297d3e7f43c20c47bb408cd2bacb78815594', 'message': 'Use olso_serialization for json\n\nChange-Id: Ifb6c673da24276b0528e5975f63ac326d558936d\n'}, {'number': 3, 'created': '2019-01-18 21:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/0d3ef0c47eb42648a150ec46193d3a4be5a81ef2', 'message': 'Use oslo_serialization instead of the json module directly\n\n* Always use oslo jsonutils.\n* Consistently import jsonutils as-is.\n* Use dump_as_bytes instead of dumps.\nhttps://wiki.openstack.org/wiki/Python3#Serialization:_base64.2C_JSON.2C_etc.\n\nChange-Id: Ifb6c673da24276b0528e5975f63ac326d558936d\n'}, {'number': 4, 'created': '2019-01-18 22:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/9be41c56e8e8eb519036b6d651d116553c6c2c0d', 'message': 'Use oslo_serialization instead of the json module directly\n\n* Always use oslo jsonutils.\n* Consistently import jsonutils as-is.\n* Use dump_as_bytes instead of dumps.\nhttps://wiki.openstack.org/wiki/Python3#Serialization:_base64.2C_JSON.2C_etc.\n\nChange-Id: Ifb6c673da24276b0528e5975f63ac326d558936d\n'}, {'number': 5, 'created': '2019-01-18 22:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/d607e05d330c6052b3f4f05fb69dc18490950a67', 'message': 'Use oslo_serialization instead of the json module directly\n\n* Always use oslo jsonutils.\n* Consistently import jsonutils as-is.\n* Use dump_as_bytes instead of dumps.\nhttps://wiki.openstack.org/wiki/Python3#Serialization:_base64.2C_JSON.2C_etc.\n\nChange-Id: Ifb6c673da24276b0528e5975f63ac326d558936d\n'}, {'number': 6, 'created': '2019-01-22 00:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/151983213e7cb87cacbba794d9415f9086925bdf', 'message': 'Use oslo_serialization instead of the json module directly\n\n* Always use oslo jsonutils.\n* Consistently import jsonutils as-is.\n* Use dump_as_bytes instead of dumps.\nhttps://wiki.openstack.org/wiki/Python3#Serialization:_base64.2C_JSON.2C_etc.\n\nChange-Id: Ifb6c673da24276b0528e5975f63ac326d558936d\n'}, {'number': 7, 'created': '2019-01-22 00:32:35.000000000', 'files': ['magnumclient/tests/test_utils.py', 'magnumclient/common/httpclient.py', 'magnumclient/tests/test_httpclient.py', 'magnumclient/common/utils.py', 'magnumclient/tests/utils.py', 'magnumclient/tests/osc/unit/osc_fakes.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/b4120a1352c57c529e7a51737512a73acedec6a2', 'message': 'Use oslo_serialization instead of the json module directly\n\n* Always use oslo jsonutils.\n* Consistently import jsonutils as-is.\n* Use dump_as_bytes instead of dumps.\nhttps://wiki.openstack.org/wiki/Python3#Serialization:_base64.2C_JSON.2C_etc.\n\nChange-Id: Ifb6c673da24276b0528e5975f63ac326d558936d\n'}]",0,631083,b4120a1352c57c529e7a51737512a73acedec6a2,19,3,7,22623,,,0,"Use oslo_serialization instead of the json module directly

* Always use oslo jsonutils.
* Consistently import jsonutils as-is.
* Use dump_as_bytes instead of dumps.
https://wiki.openstack.org/wiki/Python3#Serialization:_base64.2C_JSON.2C_etc.

Change-Id: Ifb6c673da24276b0528e5975f63ac326d558936d
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/83/631083/6 && git format-patch -1 --stdout FETCH_HEAD,"['magnumclient/common/httpclient.py', 'magnumclient/common/utils.py']",2,c07ab1d6ae5b49cfd51ab847d7ca5278def06a53,631083,from oslo_serialization import jsonutils as json,import json,2,2
openstack%2Fneutron-lib~master~I2090eb1ca5f3c09500069309d147880081b8213e,openstack/neutron-lib,master,I2090eb1ca5f3c09500069309d147880081b8213e,Use oslo.db jitter in our db retries,MERGED,2019-01-18 02:40:03.000000000,2019-01-23 22:11:10.000000000,2019-01-23 22:11:10.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-18 02:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/884727e42f23213bfe68e2ef110571f32502711f', 'message': ""DNM - Test out with jitter in our db retries\n\nIn theory, two parallel threads that need backoff, with the same\nbackoff timers, can synchronize and just repeatedly hose themselves.\noslo.db already has a way to put some randomness into the retry\nlogic, so let's try that out.\n\nChange-Id: I2090eb1ca5f3c09500069309d147880081b8213e\n""}, {'number': 2, 'created': '2019-01-20 03:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/fb41f462c111369990462e5c831ad32af1133102', 'message': ""Use oslo.db jitter in our db retries\n\nIn theory, two parallel threads that need backoff, with the same\nbackoff timers, can synchronize and just repeatedly hose themselves.\noslo.db already has a way to put some randomness into the retry\nlogic, so let's try that out.\n\nChange-Id: I2090eb1ca5f3c09500069309d147880081b8213e\n""}, {'number': 3, 'created': '2019-01-22 23:09:47.000000000', 'files': ['neutron_lib/tests/unit/db/test_api.py', 'neutron_lib/db/api.py', 'releasenotes/notes/oslo-db-jitter-c4d13cc81755203e.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/fada2b8d725376750dba2d3f0818daf8efb8d80e', 'message': ""Use oslo.db jitter in our db retries\n\nIn theory, two parallel threads that need backoff, with the same\nbackoff timers, can synchronize and just repeatedly hose themselves.\noslo.db already has a way to put some randomness into the retry\nlogic, so let's try that out.\n\nChange-Id: I2090eb1ca5f3c09500069309d147880081b8213e\n""}]",7,631694,fada2b8d725376750dba2d3f0818daf8efb8d80e,23,5,3,10980,,,0,"Use oslo.db jitter in our db retries

In theory, two parallel threads that need backoff, with the same
backoff timers, can synchronize and just repeatedly hose themselves.
oslo.db already has a way to put some randomness into the retry
logic, so let's try that out.

Change-Id: I2090eb1ca5f3c09500069309d147880081b8213e
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/94/631694/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/db/test_api.py', 'neutron_lib/db/api.py']",2,884727e42f23213bfe68e2ef110571f32502711f,test-jitter," exception_checker=is_retriable, jitter=True", exception_checker=is_retriable,3,2
openstack%2Fopenstack-ansible-ops~master~Ia20b8514144f0b0bf925d405f06ef2ddc28f1003,openstack/openstack-ansible-ops,master,Ia20b8514144f0b0bf925d405f06ef2ddc28f1003,Update conditionals and namespaced options,MERGED,2019-01-23 05:30:48.000000000,2019-01-23 22:09:36.000000000,2019-01-23 22:09:36.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 05:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/a1e95ee150576a528957bde456c54ff5d49c2fc3', 'message': 'Update conditionals and namespaced options\n\nThis change implements namespaced variables and conditionals in needed\nservices. This will ensure systems running these playbooks are able to\nbe deployed in isolation without making osa specific assumptions.\n\nChange-Id: Ia20b8514144f0b0bf925d405f06ef2ddc28f1003\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2019-01-23 05:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/81e7ddadf51d7ccde9bd858b8acabbbb4d44f911', 'message': 'Update conditionals and namespaced options\n\nThis change implements namespaced variables and conditionals in needed\nservices. This will ensure systems running these playbooks are able to\nbe deployed in isolation without making osa specific assumptions.\n\nChange-Id: Ia20b8514144f0b0bf925d405f06ef2ddc28f1003\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2019-01-23 05:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/807fa8f5799950e5709dc8383185b045cf758a76', 'message': 'Update conditionals and namespaced options\n\nThis change implements namespaced variables and conditionals in needed\nservices. This will ensure systems running these playbooks are able to\nbe deployed in isolation without making osa specific assumptions.\n\nChange-Id: Ia20b8514144f0b0bf925d405f06ef2ddc28f1003\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2019-01-23 14:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/60f0b325f6c872f4d43f1c145a30a7868181c3bb', 'message': 'Update conditionals and namespaced options\n\nThis change implements namespaced variables and conditionals in needed\nservices. This will ensure systems running these playbooks are able to\nbe deployed in isolation without making osa specific assumptions.\n\nChange-Id: Ia20b8514144f0b0bf925d405f06ef2ddc28f1003\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2019-01-23 14:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/0d2f636184d423f284d881c04e986c1fc62d0b07', 'message': 'Update conditionals and namespaced options\n\nThis change implements namespaced variables and conditionals in needed\nservices. This will ensure systems running these playbooks are able to\nbe deployed in isolation without making osa specific assumptions.\n\nChange-Id: Ia20b8514144f0b0bf925d405f06ef2ddc28f1003\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2019-01-23 15:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7942b532b0e8f6793aa7b779d55251f40f506acd', 'message': 'Update conditionals and namespaced options\n\nThis change implements namespaced variables and conditionals in needed\nservices. This will ensure systems running these playbooks are able to\nbe deployed in isolation without making osa specific assumptions.\n\nChange-Id: Ia20b8514144f0b0bf925d405f06ef2ddc28f1003\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2019-01-23 15:38:45.000000000', 'files': ['osquery/README.rst', 'elk_metrics_6x/roles/elastic_curator/tasks/curator_systemd.yml', 'osquery/tests/test-vars.yml', 'elk_metrics_6x/roles/elastic_dependencies/tasks/main.yml', 'osquery/roles/fleet/tasks/createFleetDB.yml', 'osquery/installDB.yml', 'overlay-inventories/osa-integration-inventory.yml', 'skydive/roles/skydive_common/tasks/skydive_keystone.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/abd6661b4ebd6d5fd417dddd27ea1ae3d3606869', 'message': 'Update conditionals and namespaced options\n\nThis change implements namespaced variables and conditionals in needed\nservices. This will ensure systems running these playbooks are able to\nbe deployed in isolation without making osa specific assumptions.\n\nChange-Id: Ia20b8514144f0b0bf925d405f06ef2ddc28f1003\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,632613,abd6661b4ebd6d5fd417dddd27ea1ae3d3606869,19,2,7,7353,,,0,"Update conditionals and namespaced options

This change implements namespaced variables and conditionals in needed
services. This will ensure systems running these playbooks are able to
be deployed in isolation without making osa specific assumptions.

Change-Id: Ia20b8514144f0b0bf925d405f06ef2ddc28f1003
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/13/632613/6 && git format-patch -1 --stdout FETCH_HEAD,"['osquery/README.rst', 'osquery/tests/test-vars.yml', 'osquery/roles/fleet/tasks/createFleetDB.yml', 'osquery/installDB.yml', 'overlay-inventories/osa-integration-inventory.yml', 'skydive/roles/skydive_common/tasks/skydive_keystone.yml']",6,a1e95ee150576a528957bde456c54ff5d49c2fc3,," command: ""virtualenv --no-site-packages --no-setuptools /opt/skydive"" extra_args: ""-U --isolated"""," command: ""/usr/bin/virtualenv --no-site-packages --no-setuptools /opt/skydive"" extra_args: ""-U""",82,46
openstack%2Fdesignate-dashboard~stable%2Frocky~I92bed9da84f4a9162a99662a98e5ec24d7bbe72c,openstack/designate-dashboard,stable/rocky,I92bed9da84f4a9162a99662a98e5ec24d7bbe72c,Imported Translations from Zanata,MERGED,2019-01-14 07:41:04.000000000,2019-01-23 22:08:17.000000000,2019-01-23 22:08:17.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-01-14 07:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/0d75428c2b92a1adc85b24a4502339510d6fcf0d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I92bed9da84f4a9162a99662a98e5ec24d7bbe72c\n'}, {'number': 2, 'created': '2019-01-23 19:51:09.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/cs/LC_MESSAGES/releasenotes.po', 'designatedashboard/locale/eo/LC_MESSAGES/django.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ru/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/5403832c7e763ce5693ea9c3d2a8e609198954e2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I92bed9da84f4a9162a99662a98e5ec24d7bbe72c\n'}]",0,630610,5403832c7e763ce5693ea9c3d2a8e609198954e2,24,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I92bed9da84f4a9162a99662a98e5ec24d7bbe72c
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/10/630610/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/cs/LC_MESSAGES/releasenotes.po', 'designatedashboard/locale/eo/LC_MESSAGES/django.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ru/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po']",11,0d75428c2b92a1adc85b24a4502339510d6fcf0d,zanata/translations,,"# TigerFang <tigerfun@126.com>, 2017. #zanata msgid """" msgstr """" ""Project-Id-Version: Designate dashboard Client Release Notes\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2018-02-20 06:10+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2017-05-15 09:55+0000\n"" ""Last-Translator: TigerFang <tigerfun@126.com>\n"" ""Language-Team: Chinese (China)\n"" ""Language: zh_CN\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=1; plural=0\n"" msgid "":ref:`genindex`"" msgstr "":ref:`genindex`"" msgid "":ref:`search`"" msgstr "":ref:`search`"" msgid ""Contents"" msgstr ""内容"" msgid ""Current Series Release Notes"" msgstr ""当前版本发布说明"" msgid ""Indices and tables"" msgstr ""索引和表格"" msgid ""Mitaka Series Release Notes"" msgstr ""Mitaka 版本发布说明"" msgid ""Newton Series Release Notes"" msgstr ""Newton版本发布说明"" msgid ""Ocata Series Release Notes"" msgstr ""Ocata版本发布说明"" msgid ""Welcome to Designate dashboard Agent Release Notes documentation!"" msgstr ""欢迎使用Designate控制台代理发布说明文档！"" ",333,469
openstack%2Ftripleo-ci~master~Ifcbf232b123b4b03856bab448d87dba5a8c7fd43,openstack/tripleo-ci,master,Ifcbf232b123b4b03856bab448d87dba5a8c7fd43,Add tqe files: roles/standalone into standalone scenario template,MERGED,2019-01-23 12:51:24.000000000,2019-01-23 21:47:06.000000000,2019-01-23 21:47:06.000000000,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-01-23 12:51:24.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/50ab91c959617bebf4195f98bcb8d398afcf7646', 'message': 'Add tqe files: roles/standalone into standalone scenario template\n\nLets run the scenario standalones in tqe standalone role as wired\nup in [1]. This makes it so the jobs run only on changes to the\nstandalone role files. Tracked by ci squad in [2]\n\n[1] I9f05d42f84830e4ce7371f2bf284eabef6658acb\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/625\nChange-Id: Ifcbf232b123b4b03856bab448d87dba5a8c7fd43\n'}]",0,632707,50ab91c959617bebf4195f98bcb8d398afcf7646,12,9,1,8449,,,0,"Add tqe files: roles/standalone into standalone scenario template

Lets run the scenario standalones in tqe standalone role as wired
up in [1]. This makes it so the jobs run only on changes to the
standalone role files. Tracked by ci squad in [2]

[1] I9f05d42f84830e4ce7371f2bf284eabef6658acb
[2] https://tree.taiga.io/project/tripleo-ci-board/task/625
Change-Id: Ifcbf232b123b4b03856bab448d87dba5a8c7fd43
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/07/632707/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,50ab91c959617bebf4195f98bcb8d398afcf7646,standalone_scenario_tqe, # tripleo-quickstart-extras - roles/standalone/.* # tripleo-quickstart-extras - roles/standalone/.* # tripleo-quickstart-extras - roles/standalone/.* # tripleo-quickstart-extras - roles/standalone/.* # tripleo-quickstart-extras - roles/standalone/.* # tripleo-quickstart-extras - roles/standalone/.* # tripleo-quickstart-extras - roles/standalone/.* # tripleo-quickstart-extras - roles/standalone/.*,,16,0
openstack%2Ftripleo-quickstart-extras~master~I9f05d42f84830e4ce7371f2bf284eabef6658acb,openstack/tripleo-quickstart-extras,master,I9f05d42f84830e4ce7371f2bf284eabef6658acb,Add tripleo-standalone-scenarios-full to tripleo-quickstart,MERGED,2019-01-23 12:51:30.000000000,2019-01-23 21:34:55.000000000,2019-01-23 21:34:55.000000000,"[{'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-01-23 12:51:30.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e54341beff4673d92b085d78c9f63fe986606e98', 'message': 'Add tripleo-standalone-scenarios-full to tripleo-quickstart\n\nWill invoke the standalone scenario jobs - Related change in the\ntemplate is in [1] so that we get these jobs on changes to the\nstandalone role. Tracked by CI team in [2]\n\n[1] Ifcbf232b123b4b03856bab448d87dba5a8c7fd43 # tripleo-ci\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/625\nChange-Id: I9f05d42f84830e4ce7371f2bf284eabef6658acb\n'}]",0,632708,e54341beff4673d92b085d78c9f63fe986606e98,13,9,1,8449,,,0,"Add tripleo-standalone-scenarios-full to tripleo-quickstart

Will invoke the standalone scenario jobs - Related change in the
template is in [1] so that we get these jobs on changes to the
standalone role. Tracked by CI team in [2]

[1] Ifcbf232b123b4b03856bab448d87dba5a8c7fd43 # tripleo-ci
[2] https://tree.taiga.io/project/tripleo-ci-board/task/625
Change-Id: I9f05d42f84830e4ce7371f2bf284eabef6658acb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/08/632708/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,e54341beff4673d92b085d78c9f63fe986606e98,standalone_scenario_tqe, - tripleo-standalone-scenarios-full,,1,0
openstack%2Ftripleo-heat-templates~master~I0bb9bfabeb06dc9d602ad173ce2d12d1771b6b1f,openstack/tripleo-heat-templates,master,I0bb9bfabeb06dc9d602ad173ce2d12d1771b6b1f,Fix openshift playbook import,MERGED,2019-01-23 10:46:27.000000000,2019-01-23 21:34:53.000000000,2019-01-23 21:34:53.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 10:46:27.000000000', 'files': ['extraconfig/services/kubernetes-master.yaml', 'extraconfig/services/openshift-master.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb675a91a7268fcdf6f260150e0a9b99a2a7baa9', 'message': ""Fix openshift playbook import\n\nI4aa8055fe800723b3e140f8232c9e41e769e11f3 wrongly replaced 'include'\nwith 'include_tasks' in openshift and kubernetes templates and broke\ntheir deployment, resulting in an ansible error:\n\n  ERROR! 'include_tasks' is not a valid attribute for a Play\n\nUse import_playbook instead.\n\nChange-Id: I0bb9bfabeb06dc9d602ad173ce2d12d1771b6b1f\nCloses-Bug: #1812983\n""}]",0,632694,cb675a91a7268fcdf6f260150e0a9b99a2a7baa9,10,5,1,13039,,,0,"Fix openshift playbook import

I4aa8055fe800723b3e140f8232c9e41e769e11f3 wrongly replaced 'include'
with 'include_tasks' in openshift and kubernetes templates and broke
their deployment, resulting in an ansible error:

  ERROR! 'include_tasks' is not a valid attribute for a Play

Use import_playbook instead.

Change-Id: I0bb9bfabeb06dc9d602ad173ce2d12d1771b6b1f
Closes-Bug: #1812983
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/632694/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/services/kubernetes-master.yaml', 'extraconfig/services/openshift-master.yaml']",2,cb675a91a7268fcdf6f260150e0a9b99a2a7baa9,openshift-scaleup," - import_playbook: ""{{openshift_prerequisites_playbook_path}}"" - import_playbook: ""{{openshift_ansible_playbook_path}}"" - import_playbook: ""{{openshift_master_scaleup_playbook_path}}"" - import_playbook: ""{{openshift_worker_scaleup_playbook_path}}"" - import_playbook: ""{{openshift_ansible_playbook_path}}"" - import_playbook: ""{{openshift_etcd_scaleup_playbook_path}}"""," - include_tasks: ""{{openshift_prerequisites_playbook_path}}"" - include_tasks: ""{{openshift_ansible_playbook_path}}"" - include_tasks: ""{{openshift_master_scaleup_playbook_path}}"" - include_tasks: ""{{openshift_worker_scaleup_playbook_path}}"" - include_tasks: ""{{openshift_ansible_playbook_path}}"" - include_tasks: ""{{openshift_etcd_scaleup_playbook_path}}""",7,7
openstack%2Fcinder~master~Ia4dc63d75960935e770a7fef352b51a7c75be4d6,openstack/cinder,master,Ia4dc63d75960935e770a7fef352b51a7c75be4d6,Switch ietadm to use olso.privsep,MERGED,2018-10-18 18:53:30.000000000,2019-01-23 20:59:14.000000000,2019-01-23 20:59:14.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29344}, {'_account_id': 29716}]","[{'number': 1, 'created': '2018-10-18 18:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ed73526238aca33e26809dcecf57c97a1fa1b94', 'message': 'Switch ietadm to use olso.privsep\n\nSwitch ietadm to use oslo.privsep rather than olso.rootwrap.\nThis is mostly a straight copy of the the methods used to\ncreate targets.\n\nChange-Id: Ia4dc63d75960935e770a7fef352b51a7c75be4d6\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-12-20 13:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/46fedff36de426f30279390af3f7b177ba02b4b9', 'message': 'Switch ietadm to use olso.privsep\n\nSwitch ietadm to use oslo.privsep rather than olso.rootwrap.\nThis is mostly a straight copy of the the methods used to\ncreate targets.\n\nChange-Id: Ia4dc63d75960935e770a7fef352b51a7c75be4d6\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 3, 'created': '2019-01-11 13:30:55.000000000', 'files': ['cinder/privsep/targets/iet.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/volume/targets/iet.py', 'cinder/tests/unit/targets/test_iet_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/89e1b0258a13d693d0ff28c28715fc906b626c70', 'message': 'Switch ietadm to use olso.privsep\n\nSwitch ietadm to use oslo.privsep rather than olso.rootwrap.\nThis is mostly a straight copy of the the methods used to\ncreate targets.\n\nChange-Id: Ia4dc63d75960935e770a7fef352b51a7c75be4d6\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}]",0,611697,89e1b0258a13d693d0ff28c28715fc906b626c70,115,44,3,24,,,0,"Switch ietadm to use olso.privsep

Switch ietadm to use oslo.privsep rather than olso.rootwrap.
This is mostly a straight copy of the the methods used to
create targets.

Change-Id: Ia4dc63d75960935e770a7fef352b51a7c75be4d6
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/611697/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/privsep/targets/iet.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/privsep/targets/__init__.py', 'cinder/volume/targets/iet.py', 'cinder/tests/unit/targets/test_iet_driver.py']",5,9ed73526238aca33e26809dcecf57c97a1fa1b94,," @mock.patch('cinder.privsep.targets.iet.new_target') @mock.patch('cinder.privsep.targets.iet.new_logicalunit') mock_new_logical_unit, mock_new_target, mock_get_targ): self.assertTrue(mock_new_target.called) self.assertTrue(mock_new_logical_unit.called) mock_new_target.side_effect = putils.ProcessExecutionError @mock.patch('cinder.privsep.targets.iet.new_target') @mock.patch('cinder.privsep.targets.iet.new_logicalunit') def test_create_iscsi_target_already_exists( self, mock_new_logical_unit, mock_new_target, mock_get_targ): self.assertTrue(mock_new_target.called) self.assertTrue(mock_new_logical_unit.called) @mock.patch('cinder.privsep.targets.iet.delete_logicalunit') @mock.patch('cinder.privsep.targets.iet.delete_target') def test_remove_iscsi_target( self, mock_delete_target, mock_delete_logicalunit, mock_exists, mock_find): mock_delete_logicalunit.assert_called_once_with(1, 0) mock_delete_target.assert_called_once_with(1) mock_delete_logicalunit.side_effect = putils.ProcessExecutionError @mock.patch('cinder.privsep.targets.iet.delete_target') def test_find_sid_cid_for_target(self, mock_delete_target): @mock.patch('cinder.privsep.targets.iet.new_target') @mock.patch('cinder.privsep.targets.iet.new_logicalunit') @mock.patch('cinder.privsep.targets.iet.new_auth') def test_create_export( self, mock_get_chap, mock_new_auth, mock_new_logicalunit, mock_new_target, mock_get_targ): self.assertTrue(mock_new_logicalunit.called) self.assertTrue(mock_new_target.called)"," @mock.patch('cinder.utils.execute') mock_execute, mock_get_targ): mock_execute.return_value = ('', '') self.assertTrue(mock_execute.called) mock_execute.side_effect = putils.ProcessExecutionError @mock.patch('cinder.utils.execute') def test_create_iscsi_target_already_exists(self, mock_execute, mock_get_targ): mock_execute.return_value = ('fake out', 'fake err') self.assertTrue(mock_execute.called) @mock.patch('cinder.utils.execute') def test_remove_iscsi_target(self, mock_execute, mock_exists, mock_find): mock_execute.assert_any_call('ietadm', '--op', 'delete', '--tid=1', run_as_root=True) mock_execute.side_effect = putils.ProcessExecutionError def test_find_sid_cid_for_target(self): @mock.patch('cinder.utils.execute') def test_create_export(self, mock_get_chap, mock_execute, mock_get_targ): mock_execute.return_value = ('', '') self.assertTrue(mock_execute.called)",125,90
openstack%2Fcinder~master~I3ffb544ef3ee65276cee8b1e870d524fd0e57085,openstack/cinder,master,I3ffb544ef3ee65276cee8b1e870d524fd0e57085,Add user_id in backup list and show API,MERGED,2018-11-02 10:36:24.000000000,2019-01-23 20:45:15.000000000,2018-12-19 01:14:12.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22378}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 28637}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-11-02 10:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee2157cd22071ba1afb3519aef72cf3d5f303813', 'message': 'Add user_id in backup list and show API\n\nLack of the ``user_id`` in backup list or show response, if the user\nwants to specify the project and the user creates the volume is\ndifficult because of the lack of ``user_id``.\n\nCloses-Bug: #1801328\nBlueprint: add-user-id-attribute-to-backup-response\nChange-Id: I3ffb544ef3ee65276cee8b1e870d524fd0e57085\n'}, {'number': 2, 'created': '2018-11-06 07:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/352eb531d574a29ef9a9e9edfdd15887e2fabe6d', 'message': 'Add user_id in backup list and show API\n\nAdd ``os-backup-user-attr:user_id`` to response body of list backup\nwith detail and show backup detail APIs. In this way, you can get the\n``user_id`` in backup list or show response, make the admin/user easy\nto manage backup file.\n\nCloses-Bug: #1801328\nBlueprint: add-user-id-attribute-to-backup-response\nChange-Id: I3ffb544ef3ee65276cee8b1e870d524fd0e57085\n'}, {'number': 3, 'created': '2018-11-07 11:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1397726fd95920ff2f996353c31ac94583ee8ea9', 'message': 'Add user_id in backup list and show API\n\nAdd ``os-backup-user-attr:user_id`` to response body of list backup\nwith detail and show backup detail APIs. In this way, you can get the\n``user_id`` in backup list or show response, make the admin/user easy\nto manage backup file.\n\nBlueprint: add-user-id-attribute-to-backup-response\nChange-Id: I3ffb544ef3ee65276cee8b1e870d524fd0e57085\n'}, {'number': 4, 'created': '2018-11-19 00:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac07822548b8a347773a0987933fcbc608cd21a0', 'message': 'Add user_id in backup list and show API\n\nAdd ``os-backup-user-attr:user_id`` to response body of list backup\nwith detail and show backup detail APIs. In this way, you can get the\n``user_id`` in backup list or show response, make the admin/user easy\nto manage backup file.\n\nBlueprint: add-user-id-attribute-to-backup-response\nChange-Id: I3ffb544ef3ee65276cee8b1e870d524fd0e57085\n'}, {'number': 5, 'created': '2018-12-03 02:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/11d7ee953afec925539fe6f8ba86bf67e3bc946a', 'message': 'Add user_id in backup list and show API\n\nAdd ``user_id`` to response body of list backup with detail and show\nbackup detail APIs. In this way, you can get the ``user_id`` in backup\nlist or show response, make the admin/user easy to manage backup file.\n\nBlueprint: add-user-id-attribute-to-backup-response\nChange-Id: I3ffb544ef3ee65276cee8b1e870d524fd0e57085\n'}, {'number': 6, 'created': '2018-12-03 06:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce575397cdd8c474bb0c197ede15acf5bccb35bd', 'message': 'Add user_id in backup list and show API\n\nAdd ``user_id`` to response body of list backup with detail and show\nbackup detail APIs. In this way, you can get the ``user_id`` in backup\nlist or show response, make the admin/user easy to manage backup file.\n\nBlueprint: add-user-id-attribute-to-backup-response\nChange-Id: I3ffb544ef3ee65276cee8b1e870d524fd0e57085\n'}, {'number': 7, 'created': '2018-12-12 05:52:45.000000000', 'files': ['cinder/tests/unit/backup/fake_backup.py', 'api-ref/source/v3/samples/backups-list-detailed-response.json', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/api/v3/backups.py', 'cinder/tests/unit/api/contrib/test_backup_project_attribute.py', 'releasenotes/notes/add-user-id-attribute-to-backup-response-ce27364680c895f7.yaml', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/samples/backup-show-response.json', 'api-ref/source/v3/parameters.yaml', 'cinder/api/microversions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/03867e3e89c1a1e181ba41befa7c6b6847eec0c8', 'message': 'Add user_id in backup list and show API\n\nAdd ``user_id`` to response body of list backup with detail and show\nbackup detail APIs. In this way, you can get the ``user_id`` in backup\nlist or show response, make the admin/user easy to manage backup file.\n\nBlueprint: add-user-id-attribute-to-backup-response\nChange-Id: I3ffb544ef3ee65276cee8b1e870d524fd0e57085\n'}]",14,615129,03867e3e89c1a1e181ba41befa7c6b6847eec0c8,200,45,7,26458,,,0,"Add user_id in backup list and show API

Add ``user_id`` to response body of list backup with detail and show
backup detail APIs. In this way, you can get the ``user_id`` in backup
list or show response, make the admin/user easy to manage backup file.

Blueprint: add-user-id-attribute-to-backup-response
Change-Id: I3ffb544ef3ee65276cee8b1e870d524fd0e57085
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/615129/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v3/backups.py', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/parameters.yaml']",3,ee2157cd22071ba1afb3519aef72cf3d5f303813,bp/add-user-id-attribute-to-backup-response,os-backup-user-attr:user_id: description: | The UUID of the project owner. in: body required: true type: string. in: body required: true type: string min_version: 3.56,,19,0
openstack%2Fpython-barbicanclient~stable%2Fqueens~I5c270d74cb09e90b8a98fd8febf587b98db2306f,openstack/python-barbicanclient,stable/queens,I5c270d74cb09e90b8a98fd8febf587b98db2306f,Supress client debug messages,MERGED,2019-01-23 15:47:55.000000000,2019-01-23 20:45:11.000000000,2019-01-23 20:45:11.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 21797}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 15:47:55.000000000', 'files': ['barbicanclient/barbican.py'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/e0e209e4d3f3d5c137ab6535256ec6efd845670e', 'message': 'Supress client debug messages\n\ncliff sets log level to DEBUG in `run` function [1], need to overwrite\nthis configuration to depress DEBUG messages. This patch adds such\nconfiguration in `prepare_to_run_command` function which will be called\nby cliff after it sets log level to DEBUG [2][3].\n\n[1] https://github.com/openstack/cliff/blob/master/cliff/app.py#L248\n[2] https://github.com/openstack/cliff/blob/master/cliff/app.py#L279\n[3] https://github.com/openstack/cliff/blob/master/cliff/app.py#L393\n\nChange-Id: I5c270d74cb09e90b8a98fd8febf587b98db2306f\nCloses-bug: #1681966\n(cherry picked from commit a6ac975f7786052c73fb970c0420d956b2852e6e)\n'}]",0,632765,e0e209e4d3f3d5c137ab6535256ec6efd845670e,7,5,1,11589,,,0,"Supress client debug messages

cliff sets log level to DEBUG in `run` function [1], need to overwrite
this configuration to depress DEBUG messages. This patch adds such
configuration in `prepare_to_run_command` function which will be called
by cliff after it sets log level to DEBUG [2][3].

[1] https://github.com/openstack/cliff/blob/master/cliff/app.py#L248
[2] https://github.com/openstack/cliff/blob/master/cliff/app.py#L279
[3] https://github.com/openstack/cliff/blob/master/cliff/app.py#L393

Change-Id: I5c270d74cb09e90b8a98fd8febf587b98db2306f
Closes-bug: #1681966
(cherry picked from commit a6ac975f7786052c73fb970c0420d956b2852e6e)
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/65/632765/1 && git format-patch -1 --stdout FETCH_HEAD,['barbicanclient/barbican.py'],1,e0e209e4d3f3d5c137ab6535256ec6efd845670e,bug/1681966-stable/queens," # verbose logging levels WARNING_LEVEL = 0 INFO_LEVEL = 1 DEBUG_LEVEL = 2 CONSOLE_MESSAGE_FORMAT = '%(message)s' DEBUG_MESSAGE_FORMAT = '%(levelname)s: %(name)s %(message)s' # NOTE(liujiong): cliff sets log level to DEBUG in run function, # need to overwrite this configuration to depress DEBUG messages. self.configure_logging() def configure_logging(self): """"""Create logging handlers for any log output."""""" root_logger = logging.getLogger('') # Set log level to INFO root_logger.setLevel(logging.INFO) # Send higher-level messages to the console via stderr console = logging.StreamHandler(self.stderr) console_level = {self.WARNING_LEVEL: logging.WARNING, self.INFO_LEVEL: logging.INFO, self.DEBUG_LEVEL: logging.DEBUG, }.get(self.options.verbose_level, logging.INFO) if logging.DEBUG == console_level: formatter = logging.Formatter(self.DEBUG_MESSAGE_FORMAT) else: formatter = logging.Formatter(self.CONSOLE_MESSAGE_FORMAT) console.setFormatter(formatter) root_logger.addHandler(console) return ",,30,0
openstack%2Fneutron~master~Ifbdc8f984a4663fcaa27c263ca8108900b01c643,openstack/neutron,master,Ifbdc8f984a4663fcaa27c263ca8108900b01c643,Cap oslo.utils at 3.39.0 to fix periodic worker unit test,ABANDONED,2019-01-22 21:44:26.000000000,2019-01-23 20:41:16.000000000,,"[{'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-01-22 21:44:26.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b24e525fa704279083a688810fceee3d59848f7', 'message': 'Cap oslo.utils at 3.39.0 to fix periodic worker unit test\n\nThe periodic worker unit test fails with oslo.utils at 3.39.1 or above\n(latest is 3.42.1).  This caps oslo.utils at the latest working version,\n3.39.0.\n\nChange-Id: Ifbdc8f984a4663fcaa27c263ca8108900b01c643\nRelated-Bug: #1812922\n'}]",0,632562,8b24e525fa704279083a688810fceee3d59848f7,7,6,1,13995,,,0,"Cap oslo.utils at 3.39.0 to fix periodic worker unit test

The periodic worker unit test fails with oslo.utils at 3.39.1 or above
(latest is 3.42.1).  This caps oslo.utils at the latest working version,
3.39.0.

Change-Id: Ifbdc8f984a4663fcaa27c263ca8108900b01c643
Related-Bug: #1812922
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/632562/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,8b24e525fa704279083a688810fceee3d59848f7,bug/1812922,"oslo.utils>=3.33.0,<=3.39.0 # Apache-2.0",oslo.utils>=3.33.0 # Apache-2.0,1,1
openstack%2Fdesignate-dashboard~stable%2Frocky~If922249d0e4d5d5853e180e712e30ec06aa8095f,openstack/designate-dashboard,stable/rocky,If922249d0e4d5d5853e180e712e30ec06aa8095f,Set lower-requirements to use stable horizon,MERGED,2019-01-15 08:42:39.000000000,2019-01-23 19:41:11.000000000,2019-01-23 19:41:11.000000000,"[{'_account_id': 1736}, {'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-01-15 08:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/7c17cdc7e27b0a50579e9b4d55e794f487a799ff', 'message': 'Set lower-requirements to use stable horizon\n\nChange-Id: If922249d0e4d5d5853e180e712e30ec06aa8095f\n(cherry picked from commit a6564a3b77442c7d34c390919ab0610230c2b665)\n'}, {'number': 2, 'created': '2019-01-15 17:28:23.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/fa0c51dc422b042c0b5654887dff61e171649c92', 'message': 'Set lower-requirements to use stable horizon\n\nChange-Id: If922249d0e4d5d5853e180e712e30ec06aa8095f\n(cherry picked from commit a6564a3b77442c7d34c390919ab0610230c2b665)\n'}]",0,630906,fa0c51dc422b042c0b5654887dff61e171649c92,28,4,2,22623,,,0,"Set lower-requirements to use stable horizon

Change-Id: If922249d0e4d5d5853e180e712e30ec06aa8095f
(cherry picked from commit a6564a3b77442c7d34c390919ab0610230c2b665)
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/06/630906/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,7c17cdc7e27b0a50579e9b4d55e794f487a799ff,630906,horizon==14.0.0,horizon==13.0.0,1,1
openstack%2Fos-net-config~stable%2Fqueens~Ia212ed153f4feb1e3a7fb48be95c1db63ee4b6f7,openstack/os-net-config,stable/queens,Ia212ed153f4feb1e3a7fb48be95c1db63ee4b6f7,Add sriov_vf type as member of ovs_dpdk_port,MERGED,2019-01-10 09:52:51.000000000,2019-01-23 19:38:14.000000000,2019-01-23 19:38:14.000000000,"[{'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-10 09:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/846dd3bd9a3b5fc08c81c4131e188990c921a4ca', 'message': 'Add sriov_vf type as member of ovs_dpdk_port\n\nSR-IOV VF shall be bound to DPDK driver and added to\novs_user_bridge\n\nImplements: blueprint sriov-vfs-as-network-interface\nChange-Id: Ia212ed153f4feb1e3a7fb48be95c1db63ee4b6f7\n'}, {'number': 2, 'created': '2019-01-14 09:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/44b8643f911ee3cb6a69d09a9a3ba32b8c92b59c', 'message': 'Add sriov_vf type as member of ovs_dpdk_port\n\nSR-IOV VF shall be bound to DPDK driver and added to\novs_user_bridge\n\nImplements: blueprint sriov-vfs-as-network-interface\nChange-Id: Ia212ed153f4feb1e3a7fb48be95c1db63ee4b6f7\n(cherry picked from commit d7436493aa328c5a383a9a97dbeb783cb3fecee6)\n'}, {'number': 3, 'created': '2019-01-23 11:46:41.000000000', 'files': ['os_net_config/tests/test_cli.py', 'os_net_config/schema.yaml', 'os_net_config/utils.py', 'os_net_config/tests/test_utils.py', 'etc/os-net-config/samples/sriov_pf_ovs_dpdk.json', 'etc/os-net-config/samples/sriov_pf_ovs_dpdk.yaml', 'os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/a3d44b94e058a0db6349e1571bcf194a7125bc6d', 'message': 'Add sriov_vf type as member of ovs_dpdk_port\n\nSR-IOV VF shall be bound to DPDK driver and added to\novs_user_bridge\n\nImplements: blueprint sriov-vfs-as-network-interface\nChange-Id: Ia212ed153f4feb1e3a7fb48be95c1db63ee4b6f7\n(cherry picked from commit d7436493aa328c5a383a9a97dbeb783cb3fecee6)\n'}]",0,629817,a3d44b94e058a0db6349e1571bcf194a7125bc6d,15,4,3,18904,,,0,"Add sriov_vf type as member of ovs_dpdk_port

SR-IOV VF shall be bound to DPDK driver and added to
ovs_user_bridge

Implements: blueprint sriov-vfs-as-network-interface
Change-Id: Ia212ed153f4feb1e3a7fb48be95c1db63ee4b6f7
(cherry picked from commit d7436493aa328c5a383a9a97dbeb783cb3fecee6)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/17/629817/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_cli.py', 'os_net_config/schema.yaml', 'os_net_config/utils.py', 'os_net_config/tests/test_utils.py', 'etc/os-net-config/samples/sriov_pf_ovs_dpdk.json', 'etc/os-net-config/samples/sriov_pf_ovs_dpdk.yaml', 'os_net_config/objects.py']",7,846dd3bd9a3b5fc08c81c4131e188990c921a4ca,bp/sriov-vfs-as-network-interface," if (isinstance(iface, Interface) or isinstance(iface, SriovVF)):"," if isinstance(iface, Interface):",210,6
openstack%2Fpuppet-tripleo~master~I9963b2ac5aa46568e31df0fce58c90c797876d79,openstack/puppet-tripleo,master,I9963b2ac5aa46568e31df0fce58c90c797876d79,Allow disabling nova::cache,MERGED,2019-01-23 09:25:50.000000000,2019-01-23 19:26:27.000000000,2019-01-23 19:26:27.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 09:25:50.000000000', 'files': ['manifests/profile/base/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a63ce4aef816cd1cad898571cc0396f4409ee51e', 'message': ""Allow disabling nova::cache\n\nThis is useful for test/debugging purposes only.\nIt is quite useful to skip the memcache layer in certain situations,\nso let's allow to override it via a hiera key, while we clearly\nstate it as a not support configuration.\n\nChange-Id: I9963b2ac5aa46568e31df0fce58c90c797876d79\n""}]",0,632666,a63ce4aef816cd1cad898571cc0396f4409ee51e,11,7,1,20172,,,0,"Allow disabling nova::cache

This is useful for test/debugging purposes only.
It is quite useful to skip the memcache layer in certain situations,
so let's allow to override it via a hiera key, while we clearly
state it as a not support configuration.

Change-Id: I9963b2ac5aa46568e31df0fce58c90c797876d79
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/66/632666/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova.pp'],1,a63ce4aef816cd1cad898571cc0396f4409ee51e,allow-cache-override,"# # [*enable_cache*] # (Optional) Enable the use of cache. Note that it is unsupported # to disable this key. It is only useful for debugging purposes. # Defaults to true $enable_cache = true, enabled => $enable_cache,"," enabled => true,",7,1
openstack%2Ftripleo-ci~master~Ic52b6a3661c215baad4bffba8e87033b29baf614,openstack/tripleo-ci,master,Ic52b6a3661c215baad4bffba8e87033b29baf614,Standalone scenario templates - fix order of env files in job,MERGED,2019-01-23 13:44:14.000000000,2019-01-23 19:22:36.000000000,2019-01-23 19:22:36.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-01-23 13:44:14.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4a52502d6683d929fdabfc8e2b691c59a14695ef', 'message': 'Standalone scenario templates - fix order of env files in job\n\nThe scenario 1 and 4 had the low memory env before the scenario\nenv and order matters as usual last one wins. This makes the\nscenario env be the last thing passed in the jobs. Tracked by\nci squad in [1]\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/625\n\nChange-Id: Ic52b6a3661c215baad4bffba8e87033b29baf614\n'}]",1,632723,4a52502d6683d929fdabfc8e2b691c59a14695ef,11,9,1,8449,,,0,"Standalone scenario templates - fix order of env files in job

The scenario 1 and 4 had the low memory env before the scenario
env and order matters as usual last one wins. This makes the
scenario env be the last thing passed in the jobs. Tracked by
ci squad in [1]

[1] https://tree.taiga.io/project/tripleo-ci-board/task/625

Change-Id: Ic52b6a3661c215baad4bffba8e87033b29baf614
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/23/632723/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,4a52502d6683d929fdabfc8e2b691c59a14695ef,, - 'ci/environments/scenario001-standalone.yaml' - 'ci/environments/scenario004-standalone.yaml', - 'ci/environments/scenario001-standalone.yaml' - 'ci/environments/scenario004-standalone.yaml',2,2
openstack%2Ftripleo-heat-templates~master~I56940fe9947b11811b38db95c900d13a09fb78da,openstack/tripleo-heat-templates,master,I56940fe9947b11811b38db95c900d13a09fb78da,Improve bootstrap node logic -- per-role rather than global,ABANDONED,2019-01-23 15:06:01.000000000,2019-01-23 19:18:05.000000000,,"[{'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 15:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/21b202c02ede37af9167646a0e38f40cca31f9b0', 'message': ""Improve bootstrap node logic -- per-role rather than global\n\nThe bootstrap_server_id logic was global -- one bootstrap node per\ndeployment. This breaks keystone endpoints initialization with custom\nroles. The tasks would be performed on Controller role but we needed\nthem performed on ServiceApi role for them to have access to the\nnecessary hiera data.\n\nInstead of using global bootstrap_server_id for the bootstrap tasks,\nwe'll use per-role boostrap node name.\n\nChange-Id: I56940fe9947b11811b38db95c900d13a09fb78da\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nCo-Authored-By: Yurii Prokulevych <yprokule@redhat.com>\n""}, {'number': 2, 'created': '2019-01-23 15:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/413f34e6d65b05a818b9043dddb3b95e93974d9a', 'message': ""Improve bootstrap node logic -- per-role rather than global\n\nThe bootstrap_server_id logic was global -- one bootstrap node per\ndeployment. This breaks keystone endpoints initialization with custom\nroles. The tasks would be performed on Controller role but we needed\nthem performed on ServiceApi role for them to have access to the\nnecessary hiera data.\n\nInstead of using global bootstrap_server_id for the bootstrap tasks,\nwe'll use per-role boostrap node name. In some environments this can\nresult in running the bootstrap tasks more times than necessary\n(per-role rather than per-service). However, they must be idempotent,\nand due to the way framework includes them into the deployment (role\nafter role), they should never run at the same time on different\nroles.\n\nIt would be better to use the per-service boostrap logic we have in\nupgrade_tasks, but it is unclear if that's possible while keeping\nbackwards compatibility of the docker_puppet_tasks interface in\ncomposable services. This might be something to investigate as a\nfollow-up, but first we need a fix which we can easily backport to\nRocky and Queens.\n\nChange-Id: I56940fe9947b11811b38db95c900d13a09fb78da\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nCo-Authored-By: Yurii Prokulevych <yprokule@redhat.com>\n""}, {'number': 3, 'created': '2019-01-23 15:21:05.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d000c7dc9fad38cd5ffe9188d63ebcbbcca1435d', 'message': ""Improve bootstrap node logic -- per-role rather than global\n\nThe bootstrap_server_id logic was global -- one bootstrap node per\ndeployment. This breaks keystone endpoints initialization with custom\nroles. The tasks would be performed on Controller role but we needed\nthem performed on ServiceApi role for them to have access to the\nnecessary hiera data.\n\nInstead of using global bootstrap_server_id for the bootstrap tasks,\nwe'll use per-role boostrap node name. In some environments this can\nresult in running the bootstrap tasks more times than necessary\n(per-role rather than per-service). However, they must be idempotent,\nand due to the way framework includes them into the deployment (role\nafter role), they should never run at the same time on different\nroles.\n\nIt would be better to use the per-service boostrap logic we have in\nupgrade_tasks, but it is unclear if that's possible while keeping\nbackwards compatibility of the docker_puppet_tasks interface in\ncomposable services. This might be something to investigate as a\nfollow-up, but first we need a fix which we can easily backport to\nRocky and Queens.\n\nChange-Id: I56940fe9947b11811b38db95c900d13a09fb78da\nCo-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>\nCo-Authored-By: Yurii Prokulevych <yprokule@redhat.com>\nCloses-Bug: #1813032\n""}]",4,632745,d000c7dc9fad38cd5ffe9188d63ebcbbcca1435d,9,3,3,8042,,,0,"Improve bootstrap node logic -- per-role rather than global

The bootstrap_server_id logic was global -- one bootstrap node per
deployment. This breaks keystone endpoints initialization with custom
roles. The tasks would be performed on Controller role but we needed
them performed on ServiceApi role for them to have access to the
necessary hiera data.

Instead of using global bootstrap_server_id for the bootstrap tasks,
we'll use per-role boostrap node name. In some environments this can
result in running the bootstrap tasks more times than necessary
(per-role rather than per-service). However, they must be idempotent,
and due to the way framework includes them into the deployment (role
after role), they should never run at the same time on different
roles.

It would be better to use the per-service boostrap logic we have in
upgrade_tasks, but it is unclear if that's possible while keeping
backwards compatibility of the docker_puppet_tasks interface in
composable services. This might be something to investigate as a
follow-up, but first we need a fix which we can easily backport to
Rocky and Queens.

Change-Id: I56940fe9947b11811b38db95c900d13a09fb78da
Co-Authored-By: Lukas Bezdicka <lbezdick@redhat.com>
Co-Authored-By: Yurii Prokulevych <yprokule@redhat.com>
Closes-Bug: #1813032
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/632745/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,21b202c02ede37af9167646a0e38f40cca31f9b0,bug/1813032," - name: get role-specific hiera bootstrap_nodeid command: /bin/hiera -c /etc/puppet/hiera.yaml bootstrap_nodeid register: role_bootstrap_node_result - name: set role_bootstrap_node fact set_fact: role_bootstrap_node: ""{{role_bootstrap_node_result.stdout}}"" ########################################################### # Bootstrap tasks, only performed on per-role bootsrap node ########################################################### when: role_bootstrap_node|lower == ansible_hostname|lower when: role_bootstrap_node|lower == ansible_hostname|lower ############################################################ # Bootstrap tasks, only performed on per-role bootstrap node ############################################################ - role_bootstrap_node|lower == ansible_hostname|lower"," ######################################################## # Bootstrap tasks, only performed on bootstrap_server_id ######################################################## when: deploy_server_id == bootstrap_server_id when: deploy_server_id == bootstrap_server_id ######################################################## # Bootstrap tasks, only performed on bootstrap_server_id ######################################################## - deploy_server_id == bootstrap_server_id",17,9
openstack%2Fopenstack-ansible~stable%2Frocky~If8d00b71ffca9ae1c8c29c28970a035f529417c6,openstack/openstack-ansible,stable/rocky,If8d00b71ffca9ae1c8c29c28970a035f529417c6,Update roles for policy-in-code fixes,MERGED,2019-01-22 15:23:22.000000000,2019-01-23 19:15:09.000000000,2019-01-23 19:15:08.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-01-22 15:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8e9d50f88c8d1f2c6a92b5c2bf672756edf11d23', 'message': 'Update os_cinder role for policy-in-code fix\n\nThere have been reports of issues in horizon due to\nthe policy mismatch. To fix this we bump the os_cinder\nrole SHA to bring https://review.openstack.org/630282\nin to the next release.\n\nChange-Id: If8d00b71ffca9ae1c8c29c28970a035f529417c6\n'}, {'number': 2, 'created': '2019-01-22 15:28:56.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2ddabe0ece86a4da2824aeac8d68abb0cd4ddea4', 'message': 'Update roles for policy-in-code fixes\n\nThere have been reports of issues in horizon due to\nthe policy mismatches in some roles. To fix this we\nbump the role SHA to bring the following patches in\nto the next release.\n\n- https://review.openstack.org/630282\n- https://review.openstack.org/630283\n- https://review.openstack.org/630199\n- https://review.openstack.org/629409\n- https://review.openstack.org/630289\n\nChange-Id: If8d00b71ffca9ae1c8c29c28970a035f529417c6\n'}]",0,632485,2ddabe0ece86a4da2824aeac8d68abb0cd4ddea4,9,3,2,6816,,,0,"Update roles for policy-in-code fixes

There have been reports of issues in horizon due to
the policy mismatches in some roles. To fix this we
bump the role SHA to bring the following patches in
to the next release.

- https://review.openstack.org/630282
- https://review.openstack.org/630283
- https://review.openstack.org/630199
- https://review.openstack.org/629409
- https://review.openstack.org/630289

Change-Id: If8d00b71ffca9ae1c8c29c28970a035f529417c6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/632485/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,8e9d50f88c8d1f2c6a92b5c2bf672756edf11d23,smart-sources-stable/rocky, version: 7c90daa9097f816aac797a0d93cabff23bdd7edd, version: a824d8d4dc6de6563f186449838e94c69a869e02,1,1
openstack%2Fgovernance-sigs~master~Ide040ace3e957aecd4443db548d9bd54ae6fa633,openstack/governance-sigs,master,Ide040ace3e957aecd4443db548d9bd54ae6fa633,Create Auto-scaling SIG,MERGED,2019-01-22 07:29:18.000000000,2019-01-23 19:15:06.000000000,2019-01-23 19:15:06.000000000,"[{'_account_id': 308}, {'_account_id': 2394}, {'_account_id': 4257}, {'_account_id': 10311}, {'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 16222}, {'_account_id': 17068}, {'_account_id': 17556}, {'_account_id': 19159}, {'_account_id': 22348}, {'_account_id': 27224}, {'_account_id': 27488}]","[{'number': 1, 'created': '2019-01-22 07:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/376600e1ece3915f17126083abdaf1430b62b052', 'message': 'Create AutoScaling SIG\n\nChange-Id: Ide040ace3e957aecd4443db548d9bd54ae6fa633\n'}, {'number': 2, 'created': '2019-01-22 07:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/0ac4566e762080b37905d917d6fa2104c5360980', 'message': 'Create AutoScaling SIG\n\nML discussions:\n* http://lists.openstack.org/pipermail/openstack-discuss/2019-January/001656.html\n* http://lists.openstack.org/pipermail/openstack-discuss/2018-November/000284.html\nEtherpad form Berlin Forum\n* https://etherpad.openstack.org/p/autoscaling-integration-and-feedback\nChange-Id: Ide040ace3e957aecd4443db548d9bd54ae6fa633\n'}, {'number': 3, 'created': '2019-01-22 17:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/f11ed1ea7ae85fbd094cb4c157772d306fb9b99b', 'message': 'Create Auto-scaling SIG\n\nML discussions:\n* http://lists.openstack.org/pipermail/openstack-discuss/2019-January/001656.html\n* http://lists.openstack.org/pipermail/openstack-discuss/2018-November/000284.html\nEtherpad form Berlin Forum\n* https://etherpad.openstack.org/p/autoscaling-integration-and-feedback\nChange-Id: Ide040ace3e957aecd4443db548d9bd54ae6fa633\n'}, {'number': 4, 'created': '2019-01-22 17:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/eea1ea08c0bed2a2a0fe0f26215272f27a500432', 'message': 'Create Auto-scaling SIG\n\nML discussions:\n* http://lists.openstack.org/pipermail/openstack-discuss/2019-January/001656.html\n* http://lists.openstack.org/pipermail/openstack-discuss/2018-November/000284.html\nEtherpad form Berlin Forum\n* https://etherpad.openstack.org/p/autoscaling-integration-and-feedback\nChange-Id: Ide040ace3e957aecd4443db548d9bd54ae6fa633\n'}, {'number': 5, 'created': '2019-01-23 03:42:48.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/b78ecf7f483a00939bcf4e6276af6da737ff1bdc', 'message': 'Create Auto-scaling SIG\n\nML discussions:\n* http://lists.openstack.org/pipermail/openstack-discuss/2019-January/001656.html\n* http://lists.openstack.org/pipermail/openstack-discuss/2018-November/000284.html\nEtherpad form Berlin Forum\n* https://etherpad.openstack.org/p/autoscaling-integration-and-feedback\nChange-Id: Ide040ace3e957aecd4443db548d9bd54ae6fa633\n'}]",15,632252,b78ecf7f483a00939bcf4e6276af6da737ff1bdc,39,13,5,12404,,,0,"Create Auto-scaling SIG

ML discussions:
* http://lists.openstack.org/pipermail/openstack-discuss/2019-January/001656.html
* http://lists.openstack.org/pipermail/openstack-discuss/2018-November/000284.html
Etherpad form Berlin Forum
* https://etherpad.openstack.org/p/autoscaling-integration-and-feedback
Change-Id: Ide040ace3e957aecd4443db548d9bd54ae6fa633
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/52/632252/1 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,376600e1ece3915f17126083abdaf1430b62b052,create-AutoScaling-SIG,"AutoScaling: chairs: - name: Rico Lin irc: ricolin email: rico.lin.guanyu@gmail.com - name: Duc Truong irc: dtruong email: duc.openstack@gmail.com - name: Zane Bitter irc: zaneb email: zbitter@redhat.com scope: > AutoScaling SIG scope is to improve experience on develop, operate, and use autoscaling and it's related features (like metering, cluster schedule, life cycle management) and to coordinate across projects and communities (like k8s cluster autoscaling on OpenStack). Also provide a central place to put tests, documentations, and even common libraries for Autoscaling features. status: active url: https://wiki.openstack.org/wiki/AutoScaling_SIG ",,21,0
openstack%2Foslo.privsep~master~I1ef30cb14d365f4bbfa580e75afc3580910d6fcf,openstack/oslo.privsep,master,I1ef30cb14d365f4bbfa580e75afc3580910d6fcf,Expose privsep options for config-generator,MERGED,2019-01-10 17:45:21.000000000,2019-01-23 19:07:07.000000000,2019-01-23 19:07:07.000000000,"[{'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-10 17:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/ee4c60b6494eb2cee5acbb2108e50dfbb4600ad8', 'message': ""Expose privsep options for config-generator\n\nWe were missing the oslo-config-generator entrypoint in this library,\nwhich meant there was no way to include the privsep opts in a\nservice's sample config file.\n\nOne complication is that it is possible to override the group name\nfor the opts. I assume this was done to allow services to run\nmultiple privsep daemons with different levels of permission, but\nit means that the service will have to document any additional or\ndifferent group names that it may use.\n\nChange-Id: I1ef30cb14d365f4bbfa580e75afc3580910d6fcf\n""}, {'number': 2, 'created': '2019-01-10 19:56:48.000000000', 'files': ['oslo_privsep/priv_context.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/c913b972b71fcd3d987b1d28473eb1075af31e43', 'message': ""Expose privsep options for config-generator\n\nWe were missing the oslo-config-generator entrypoint in this library,\nwhich meant there was no way to include the privsep opts in a\nservice's sample config file.\n\nOne complication is that it is possible to override the group name\nfor the opts. I assume this was done to allow services to run\nmultiple privsep daemons with different levels of permission, but\nit means that the service will have to document any additional or\ndifferent group names that it may use.\n\nChange-Id: I1ef30cb14d365f4bbfa580e75afc3580910d6fcf\n""}]",2,629906,c913b972b71fcd3d987b1d28473eb1075af31e43,13,4,2,6928,,,0,"Expose privsep options for config-generator

We were missing the oslo-config-generator entrypoint in this library,
which meant there was no way to include the privsep opts in a
service's sample config file.

One complication is that it is possible to override the group name
for the opts. I assume this was done to allow services to run
multiple privsep daemons with different levels of permission, but
it means that the service will have to document any additional or
different group names that it may use.

Change-Id: I1ef30cb14d365f4bbfa580e75afc3580910d6fcf
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/06/629906/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_privsep/priv_context.py', 'setup.cfg', 'tox.ini', '.stestr.conf']",4,ee4c60b6494eb2cee5acbb2108e50dfbb4600ad8,privsep-list-opts,test_path=${OS_TEST_PATH:-./oslo_privsep/tests},test_path=./oslo_privsep/tests,38,2
openstack%2Fgovernance~master~Ia6981a5a52a4eaec46b9bf398a063ef6f0ab6cd4,openstack/governance,master,Ia6981a5a52a4eaec46b9bf398a063ef6f0ab6cd4,Do not expect releases of heat-cfnclient,MERGED,2019-01-17 15:04:47.000000000,2019-01-23 19:02:38.000000000,2019-01-23 19:02:38.000000000,"[{'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 5263}, {'_account_id': 11564}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 15:04:47.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/310b666daa5cb0bbcb186b6ac0065494c353b792', 'message': 'Do not expect releases of heat-cfnclient\n\nAccording to zaneb on IRC:\n\n""I\'m not sure what heat-cfnclient is still used for...\nI suspect just testing. It\'s in the openstack-dev namespace.\nIf it\'s never been released I wouldn\'t start now...""\n\nChange-Id: Ia6981a5a52a4eaec46b9bf398a063ef6f0ab6cd4\n'}]",0,631528,310b666daa5cb0bbcb186b6ac0065494c353b792,14,10,1,308,,,0,"Do not expect releases of heat-cfnclient

According to zaneb on IRC:

""I'm not sure what heat-cfnclient is still used for...
I suspect just testing. It's in the openstack-dev namespace.
If it's never been released I wouldn't start now...""

Change-Id: Ia6981a5a52a4eaec46b9bf398a063ef6f0ab6cd4
",git fetch https://review.opendev.org/openstack/governance refs/changes/28/631528/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,310b666daa5cb0bbcb186b6ac0065494c353b792,release-management, release-management: none,,1,0
openstack%2Fsenlin~master~Ic5fa51dcb3b04a1b835c4b157bf4f8ebb92ff769,openstack/senlin,master,Ic5fa51dcb3b04a1b835c4b157bf4f8ebb92ff769,"Fix the misspelling of ""required""",MERGED,2019-01-16 09:52:17.000000000,2019-01-23 19:00:09.000000000,2019-01-23 19:00:09.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 25674}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-01-16 09:52:17.000000000', 'files': ['doc/source/scenarios/autoscaling_heat.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/20e40cb4fe03dea19e28e365e2599e7833aa38c0', 'message': 'Fix the misspelling of ""required""\n\nChange-Id: Ic5fa51dcb3b04a1b835c4b157bf4f8ebb92ff769\n'}]",0,631176,20e40cb4fe03dea19e28e365e2599e7833aa38c0,8,4,1,29721,,,0,"Fix the misspelling of ""required""

Change-Id: Ic5fa51dcb3b04a1b835c4b157bf4f8ebb92ff769
",git fetch https://review.opendev.org/openstack/senlin refs/changes/76/631176/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/scenarios/autoscaling_heat.rst'],1,20e40cb4fe03dea19e28e365e2599e7833aa38c0,,It is often required by real deployment practices to make the cluster load-balanced,It is often requried by real deployment practices to make the cluster load-balanced,1,1
openstack%2Foslo.config~master~I74a24f19268d39dbce42963c95a9f06ca9b3f014,openstack/oslo.config,master,I74a24f19268d39dbce42963c95a9f06ca9b3f014,Cleaning testrepository occurrences.,MERGED,2019-01-15 16:15:51.000000000,2019-01-23 18:57:24.000000000,2019-01-23 18:57:24.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-01-15 16:15:51.000000000', 'files': ['.gitignore', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/915cec378401f0e17025ee484617751db3ea427f', 'message': 'Cleaning testrepository occurrences.\n\nSince we have migrate test to stestr we can remove testrepository\nfrom imports and stop to ignore him.\n\nChange-Id: I74a24f19268d39dbce42963c95a9f06ca9b3f014\n'}]",0,631015,915cec378401f0e17025ee484617751db3ea427f,17,4,1,28522,,,0,"Cleaning testrepository occurrences.

Since we have migrate test to stestr we can remove testrepository
from imports and stop to ignore him.

Change-Id: I74a24f19268d39dbce42963c95a9f06ca9b3f014
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/15/631015/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', 'lower-constraints.txt']",3,915cec378401f0e17025ee484617751db3ea427f,remove-testr,,testrepository==0.0.18,0,3
openstack%2Fplacement~master~Id88fb2eaefaeb95208de524a827a469be749b3db,openstack/placement,master,Id88fb2eaefaeb95208de524a827a469be749b3db,Adjust database connection pool config in perfload tests,MERGED,2019-01-23 11:01:26.000000000,2019-01-23 18:54:16.000000000,2019-01-23 18:54:16.000000000,"[{'_account_id': 1063}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 11:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ebdb5e8f93d950fc33062a5bd20e110dc93a1899', 'message': ""Adjust database connection pool config in perfload tests\n\nThe perfload tests can run out of connections in the sqlalchemy\nconnection pool when using the default configuration. This can\nlead to distracting noise in the results [1] and potentially\nfailures. Since it is easy to adjust the settings for the job,\nlet's do that.\n\nThe perfload web service is set up for enabling quite wide\nconcurrency, so the database connections need to be as well.\n\n[1] http://logs.openstack.org/99/632599/1/check/placement-perfload/8c2a0ad/logs/\n\nChange-Id: Id88fb2eaefaeb95208de524a827a469be749b3db\n""}, {'number': 2, 'created': '2019-01-23 13:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/a8775507a22210c2d9682e1a1652117eb6df5095', 'message': ""Adjust database connection pool config in perfload tests\n\nThe perfload tests can run out of connections in the sqlalchemy\nconnection pool when using the default configuration. This can\nlead to distracting noise in the results [1] and potentially\nfailures. Since it is easy to adjust the settings for the job,\nlet's do that.\n\nThe perfload web service is set up for enabling quite wide\nconcurrency, so the database connections need to be as well.\n\n[1] http://logs.openstack.org/99/632599/1/check/placement-perfload/8c2a0ad/logs/\n\nChange-Id: Id88fb2eaefaeb95208de524a827a469be749b3db\n""}, {'number': 3, 'created': '2019-01-23 13:56:55.000000000', 'files': ['playbooks/perfload.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/f0caa12ff03d5c8c4e712cf1f03ce902dd843a67', 'message': ""Adjust database connection pool config in perfload tests\n\nThe perfload tests can run out of connections in the sqlalchemy\nconnection pool when using the default configuration. This can\nlead to distracting noise in the results [1] and potentially\nfailures. Since it is easy to adjust the settings for the job,\nlet's do that.\n\nThe perfload web service is set up for enabling quite wide\nconcurrency, so the database connections need to be as well.\n\n[1] http://logs.openstack.org/99/632599/1/check/placement-perfload/8c2a0ad/logs/\n\nChange-Id: Id88fb2eaefaeb95208de524a827a469be749b3db\n""}]",0,632698,f0caa12ff03d5c8c4e712cf1f03ce902dd843a67,12,4,3,11564,,,0,"Adjust database connection pool config in perfload tests

The perfload tests can run out of connections in the sqlalchemy
connection pool when using the default configuration. This can
lead to distracting noise in the results [1] and potentially
failures. Since it is easy to adjust the settings for the job,
let's do that.

The perfload web service is set up for enabling quite wide
concurrency, so the database connections need to be as well.

[1] http://logs.openstack.org/99/632599/1/check/placement-perfload/8c2a0ad/logs/

Change-Id: Id88fb2eaefaeb95208de524a827a469be749b3db
",git fetch https://review.opendev.org/openstack/placement refs/changes/98/632698/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/perfload.yaml'],1,ebdb5e8f93d950fc33062a5bd20e110dc93a1899,cd/fixups, export OS_PLACEMENT_DATABASE__MAX_POOL_SIZE=25 export OS_PLACEMENT_DATABASE__MAX_OVERFLOW=100,,2,0
openstack%2Fplacement~master~I288fc07df30adb044e0ce1614519b3391cf9bb54,openstack/placement,master,I288fc07df30adb044e0ce1614519b3391cf9bb54,Increase loop size on _ensure_aggregate,MERGED,2019-01-23 11:01:26.000000000,2019-01-23 18:54:16.000000000,2019-01-23 18:54:16.000000000,"[{'_account_id': 1063}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 11:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/86281d28fb79f75f7d050588bc1ab2ddbf6933a1', 'message': ""Increase loop size on _ensure_aggregate\n\nThe loop is used to cover when more than one different thread of\nactivity is trying to add the same aggregate. Initially set at\nten, perfload results [1] are showing that this is not high\nenough. While it is true that perfload exercises writing to\nplacement in ways that are unusually concurrent, we want to\nbe robust and enlarging the loop size doesn't impact the common\ncase.\n\n[1] http://logs.openstack.org/99/632599/1/check/placement-perfload/8c2a0ad/logs/\n\nChange-Id: I288fc07df30adb044e0ce1614519b3391cf9bb54\n""}, {'number': 2, 'created': '2019-01-23 13:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2d211178984f1284cd79ee6b6270080c43dcacd2', 'message': ""Increase loop size on _ensure_aggregate\n\nThe loop is used to cover when more than one different thread of\nactivity is trying to add the same aggregate. Initially set at\nten, perfload results [1] are showing that this is not high\nenough. While it is true that perfload exercises writing to\nplacement in ways that are unusually concurrent, we want to\nbe robust and enlarging the loop size doesn't impact the common\ncase.\n\n[1] http://logs.openstack.org/99/632599/1/check/placement-perfload/8c2a0ad/logs/\n\nChange-Id: I288fc07df30adb044e0ce1614519b3391cf9bb54\n""}, {'number': 3, 'created': '2019-01-23 13:56:35.000000000', 'files': ['placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/046b600c5c1ddc3fad552a54bd7c25f9cbdbe708', 'message': ""Increase loop size on _ensure_aggregate\n\nThe loop is used to cover when more than one different thread of\nactivity is trying to add the same aggregate. Initially set at\nfive, perfload results [1] are showing that this is not high\nenough. While it is true that perfload exercises writing to\nplacement in ways that are unusually concurrent, we want to\nbe robust and enlarging the loop size doesn't impact the common\ncase, so it has been raised to ten.\n\n[1] http://logs.openstack.org/99/632599/1/check/placement-perfload/8c2a0ad/logs/\n\nChange-Id: I288fc07df30adb044e0ce1614519b3391cf9bb54\n""}]",1,632697,046b600c5c1ddc3fad552a54bd7c25f9cbdbe708,13,4,3,11564,,,0,"Increase loop size on _ensure_aggregate

The loop is used to cover when more than one different thread of
activity is trying to add the same aggregate. Initially set at
five, perfload results [1] are showing that this is not high
enough. While it is true that perfload exercises writing to
placement in ways that are unusually concurrent, we want to
be robust and enlarging the loop size doesn't impact the common
case, so it has been raised to ten.

[1] http://logs.openstack.org/99/632599/1/check/placement-perfload/8c2a0ad/logs/

Change-Id: I288fc07df30adb044e0ce1614519b3391cf9bb54
",git fetch https://review.opendev.org/openstack/placement refs/changes/97/632697/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py']",2,86281d28fb79f75f7d050588bc1ab2ddbf6933a1,cd/fixups," max_retries=10, jitter=True, high load conditions), retry up to 10 times."," max_retries=5, jitter=True, high load conditions), retry up to 5 times.",4,4
openstack%2Fgovernance~master~I70df74bc0fb78d0acddbd434995bb4bae8b65d35,openstack/governance,master,I70df74bc0fb78d0acddbd434995bb4bae8b65d35,Add openstack-virtual-baremetal to tripleo,MERGED,2019-01-15 17:23:18.000000000,2019-01-23 18:51:54.000000000,2019-01-23 18:51:54.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 10873}, {'_account_id': 11564}, {'_account_id': 11655}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-01-15 17:23:18.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/04943f96271155432c806066c1d6560855f46627', 'message': 'Add openstack-virtual-baremetal to tripleo\n\nThis was the intent when the repo was imported in\nI96f3600b32ca87ffbcac45f44238ba515ed0bccb but the governance change\nwas not proposed.\n\nChange-Id: I70df74bc0fb78d0acddbd434995bb4bae8b65d35\n'}]",0,631028,04943f96271155432c806066c1d6560855f46627,17,11,1,6928,,,0,"Add openstack-virtual-baremetal to tripleo

This was the intent when the repo was imported in
I96f3600b32ca87ffbcac45f44238ba515ed0bccb but the governance change
was not proposed.

Change-Id: I70df74bc0fb78d0acddbd434995bb4bae8b65d35
",git fetch https://review.opendev.org/openstack/governance refs/changes/28/631028/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,04943f96271155432c806066c1d6560855f46627,project-update, openstack-virtual-baremetal: repos: - openstack/openstack-virtual-baremetal,,3,0
openstack%2Fneutron-fwaas~stable%2Frocky~Idc7ce0cc03773c6190ba0af9abda6aba7a580e4d,openstack/neutron-fwaas,stable/rocky,Idc7ce0cc03773c6190ba0af9abda6aba7a580e4d,Upper-constrain neutron to stable/rocky,MERGED,2019-01-15 14:37:33.000000000,2019-01-23 18:35:34.000000000,2019-01-23 18:35:34.000000000,"[{'_account_id': 1131}, {'_account_id': 11904}, {'_account_id': 13702}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-15 14:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/cfc571f5d1f162a8021baec8c80f05640cb3ba9f', 'message': 'Do not allow pre-release install of neutron\n\nIn stable/rocky if the requirements.txt contain 13.0.0.0b2, then it\nallows to pick up pre-releases of neutron (now, 14.0.0.0b1) instead\nof latest stable (13.0.0).\n\nHowever this might come up again when there will be a 14.0.0 stable\nversion.\n\nChange-Id: Idc7ce0cc03773c6190ba0af9abda6aba7a580e4d\n'}, {'number': 2, 'created': '2019-01-15 15:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9268be3152157d58cd1256b27d0c7a922dcb54f5', 'message': 'Do not allow pre-release install of neutron\n\nIn stable/rocky if the requirements.txt contain 13.0.0.0b2, then it\nallows to pick up pre-releases of neutron (now, 14.0.0.0b1) instead\nof latest stable (13.0.0).\n\nHowever this might come up again when there will be a 14.0.0 stable\nversion.\n\nChange-Id: Idc7ce0cc03773c6190ba0af9abda6aba7a580e4d\n'}, {'number': 3, 'created': '2019-01-15 16:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/09a1fc21bef802fb2c87f520b415c815d847f193', 'message': 'Do not allow pre-release install of neutron\n\nIn stable/rocky if the requirements.txt contain 13.0.0.0b2, then it\nallows to pick up pre-releases of neutron (now, 14.0.0.0b1) instead\nof latest stable (13.0.0).\n\nHowever this might come up again when there will be a 14.0.0 stable\nversion.\n\nAlso adapt lower constraints to match with newer neutron requiremtns\n\nChange-Id: Idc7ce0cc03773c6190ba0af9abda6aba7a580e4d\n'}, {'number': 4, 'created': '2019-01-15 17:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d8f8c3f2b192500346adc60efbe3407a0689417c', 'message': 'Do not allow pre-release install of neutron\n\nIn stable/rocky if the requirements.txt contain 13.0.0.0b2, then it\nallows to pick up pre-releases of neutron (now, 14.0.0.0b1) instead\nof latest stable (13.0.0).\n\nHowever this might come up again when there will be a 14.0.0 stable\nversion.\n\nAlso adapt lower constraints to match with newer neutron requirements\n\nChange-Id: Idc7ce0cc03773c6190ba0af9abda6aba7a580e4d\n'}, {'number': 5, 'created': '2019-01-16 09:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b084d40f853b590afdea54df1426c2e84ffd3219', 'message': 'Do not allow pre-release version of neutron\n\nIn stable/rocky if the requirements.txt contains 13.0.0.0b2, then it\nallows to pick up pre-releases of neutron (now, 14.0.0.0b1) instead\nof latest stable on rocky (13.0.2).\n\nHowever this might come up again when there will be a 14.0.0 stable\nversion.\n\nAlso adapt lower constraints to match with newer neutron requirements\n\nChange-Id: Idc7ce0cc03773c6190ba0af9abda6aba7a580e4d\n'}, {'number': 6, 'created': '2019-01-17 16:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9c7759adac09a7cf223b7044c6db062c3fb79b56', 'message': 'Upper-constrain neutron to stable/rocky\n\nIf neutron version is not restricted to stable/rocky then pip would\ninstall latest master, which causes conflicts in test runs [1].\n\nOne thing that could mitigate this problem would be to import neutron_lib\ninstead of neutron (as service). neutron_lib is introduced exactly to\nsolve this kind of problems. See details [2] from Requirements team.\n\n[1] http://logs.openstack.org/periodic-stable/git.openstack.org/openstack/neutron-fwaas/stable/rocky/openstack-tox-py27/21e6727/job-output.txt.gz#_2019-01-17_06_09_25_936063\n[2] https://etherpad.openstack.org/p/requirements-libs\n\nChange-Id: Idc7ce0cc03773c6190ba0af9abda6aba7a580e4d\n'}, {'number': 7, 'created': '2019-01-17 16:41:47.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/90951a5ec32ec26c894af970a09d04ae91374f77', 'message': 'Upper-constrain neutron to stable/rocky\n\nIf neutron version is not restricted to stable/rocky then pip would\ninstall latest master, which causes conflicts in test runs [1].\n\nOne thing that could mitigate this problem would be to import neutron_lib\ninstead of neutron (as service). neutron_lib is introduced exactly to\nsolve this kind of problems. See details [2] from Requirements team.\n\nLower constraints also updated.\n\n[1] http://logs.openstack.org/periodic-stable/git.openstack.org/openstack/neutron-fwaas/stable/rocky/openstack-tox-py27/21e6727/job-output.txt.gz#_2019-01-17_06_09_25_936063\n[2] https://etherpad.openstack.org/p/requirements-libs\n\nChange-Id: Idc7ce0cc03773c6190ba0af9abda6aba7a580e4d\n'}]",0,630995,90951a5ec32ec26c894af970a09d04ae91374f77,21,5,7,17685,,,0,"Upper-constrain neutron to stable/rocky

If neutron version is not restricted to stable/rocky then pip would
install latest master, which causes conflicts in test runs [1].

One thing that could mitigate this problem would be to import neutron_lib
instead of neutron (as service). neutron_lib is introduced exactly to
solve this kind of problems. See details [2] from Requirements team.

Lower constraints also updated.

[1] http://logs.openstack.org/periodic-stable/git.openstack.org/openstack/neutron-fwaas/stable/rocky/openstack-tox-py27/21e6727/job-output.txt.gz#_2019-01-17_06_09_25_936063
[2] https://etherpad.openstack.org/p/requirements-libs

Change-Id: Idc7ce0cc03773c6190ba0af9abda6aba7a580e4d
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/95/630995/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,cfc571f5d1f162a8021baec8c80f05640cb3ba9f,fix-stable-use-neutron-from-stable-rocky,neutron>=13.0.0 # Apache-2.0,neutron>=13.0.0.0b1 # Apache-2.0,1,1
openstack%2Fopenstack-helm-infra~master~If2b76249eeacec519a6a76605607ba6f3f81ac7d,openstack/openstack-helm-infra,master,If2b76249eeacec519a6a76605607ba6f3f81ac7d,Pin pip to 18.1 to allow build of docker images,MERGED,2019-01-23 09:56:12.000000000,2019-01-23 18:24:43.000000000,2019-01-23 18:22:41.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-01-23 09:56:12.000000000', 'files': ['tools/images/kubeadm-aio/Dockerfile', 'tools/images/mariadb/Dockerfile'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/032740957e29bae4cb6e9dcf4044b3422d57b5ee', 'message': 'Pin pip to 18.1 to allow build of docker images\n\nTask: 29045\nStory: 2004843\n\nThis patch pins pip to 18.1 as the latest pip 19.0 has a problem with\n--no-cache-dir option. This problem is causing the build of docker\nimages of mariadb and kubeadm-aio to fail when they upgrade the\nsetuptools package.\n\nChange-Id: If2b76249eeacec519a6a76605607ba6f3f81ac7d\nSigned-off-by: Stamatis Katsaounis <mokats@intracom-telecom.com>\n'}]",0,632675,032740957e29bae4cb6e9dcf4044b3422d57b5ee,19,6,1,28014,,,0,"Pin pip to 18.1 to allow build of docker images

Task: 29045
Story: 2004843

This patch pins pip to 18.1 as the latest pip 19.0 has a problem with
--no-cache-dir option. This problem is causing the build of docker
images of mariadb and kubeadm-aio to fail when they upgrade the
setuptools package.

Change-Id: If2b76249eeacec519a6a76605607ba6f3f81ac7d
Signed-off-by: Stamatis Katsaounis <mokats@intracom-telecom.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/75/632675/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/kubeadm-aio/Dockerfile', 'tools/images/mariadb/Dockerfile']",2,032740957e29bae4cb6e9dcf4044b3422d57b5ee,, pip --no-cache-dir install --upgrade pip==18.1 ;\, pip --no-cache-dir install --upgrade pip ;\,2,2
openstack%2Fironic~master~I6c950bc4f49aa03026bc7925f8c699d10cedc310,openstack/ironic,master,I6c950bc4f49aa03026bc7925f8c699d10cedc310,Allocation API: allow picking random conductor for RPC topic,MERGED,2019-01-08 16:12:17.000000000,2019-01-23 17:46:13.000000000,2019-01-23 16:33:14.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10379}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 26340}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-01-08 16:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6de0aae4ee1818b43029392ef97487b594c62d06', 'message': 'Allocation API: allow picking random conductor for RPC topic\n\nAllocations are not initially tied to nodes, so to process them we need\nto pick a random alive conductor. This change enables that.\n\nChange-Id: I6c950bc4f49aa03026bc7925f8c699d10cedc310\nStory: #2004341\n'}, {'number': 2, 'created': '2019-01-09 12:23:17.000000000', 'files': ['ironic/tests/unit/db/test_conductor.py', 'ironic/tests/unit/conductor/test_rpcapi.py', 'ironic/db/sqlalchemy/api.py', 'ironic/conductor/rpcapi.py', 'ironic/db/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1b019ddf84586fd2012f29b473b38ec271b928f2', 'message': 'Allocation API: allow picking random conductor for RPC topic\n\nAllocations are not initially tied to nodes, so to process them we need\nto pick a random alive conductor. This change enables that.\n\nChange-Id: I6c950bc4f49aa03026bc7925f8c699d10cedc310\nStory: #2004341\n'}]",14,629250,1b019ddf84586fd2012f29b473b38ec271b928f2,44,15,2,10239,,,0,"Allocation API: allow picking random conductor for RPC topic

Allocations are not initially tied to nodes, so to process them we need
to pick a random alive conductor. This change enables that.

Change-Id: I6c950bc4f49aa03026bc7925f8c699d10cedc310
Story: #2004341
",git fetch https://review.opendev.org/openstack/ironic refs/changes/50/629250/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/db/test_conductor.py', 'ironic/tests/unit/conductor/test_rpcapi.py', 'ironic/db/sqlalchemy/api.py', 'ironic/conductor/rpcapi.py', 'ironic/db/api.py']",5,6de0aae4ee1818b43029392ef97487b594c62d06,story/2004341," def get_online_conductors(self): """"""Get a list conductor hostnames that are online and active. :returns: A list of conductor hostnames. """""" @abc.abstractmethod",,57,4
openstack%2Ftripleo-quickstart~master~I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c,openstack/tripleo-quickstart,master,I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c,Make libvirt role usable by zuul reproducer,MERGED,2019-01-10 12:07:54.000000000,2019-01-23 17:26:45.000000000,2019-01-23 09:30:02.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9196}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-01-10 12:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0fe5f2193ebbe0050e804f2f58e797f634abd1d5', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 2, 'created': '2019-01-10 13:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fc62fe3678f569e5c9bfcc49434ac438e7d05676', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 3, 'created': '2019-01-10 13:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0d4f3a04846d9b043defaa9895bc6ec054f5ff3e', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 4, 'created': '2019-01-10 13:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b0014848dbe63d9856527924cc0a1099951cdea3', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 5, 'created': '2019-01-10 13:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/66563a2777dedc295760598309d0d661ced2d587', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 6, 'created': '2019-01-14 14:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/556c4eba0077454cdd11b3e54feda1725c4138c3', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 7, 'created': '2019-01-14 14:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0dd1fd4fe4ac90b0336cd00faf0b0b8e2920fcdd', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 8, 'created': '2019-01-14 14:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/14c9aa315ebc554b68f104b6560b854b7c9d26f7', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 9, 'created': '2019-01-14 14:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f6ea7d84ea9ae34542ce275744be5a2666f4ab6a', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 10, 'created': '2019-01-14 14:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e92efb56b601d2d63fd28eb495f855202cbdc590', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 11, 'created': '2019-01-14 15:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d1fd26a7d1203066a9bee25e14840ba46e3ed223', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 12, 'created': '2019-01-14 15:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7c778ee22c20b8fc7591f396ed0525bb27004ade', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 13, 'created': '2019-01-14 15:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/92091b4389c1045ba5764404053ec62b60b2794b', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 14, 'created': '2019-01-14 15:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/813446d87ef1c1f8d2621b04ae36f41ce8b6aaa9', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 15, 'created': '2019-01-14 15:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2c25a669b8c86b6ee12b729b9a37ebaa5565e2ed', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 16, 'created': '2019-01-14 15:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/675c61228e96bfe3656935de7f971b781c733356', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 17, 'created': '2019-01-15 11:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/57c42899ac537cfd999e50a4caf0c444bb03339b', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 18, 'created': '2019-01-15 11:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1f1a4c9a380d5b5cd7bce58c53f0e820e077480d', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 19, 'created': '2019-01-15 11:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a5d6ec84b3106b9d6b866b0935e0d6b5f0ab30d8', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 20, 'created': '2019-01-15 12:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/25b2d4e75b9bfc2ccf27ca2663c8e2b235c2d16f', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n- Get the latest centos7 image\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 21, 'created': '2019-01-15 12:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2eb12d4a3037ccc89ad4294fbb5d5283f0258256', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n- Get the latest centos7 image\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 22, 'created': '2019-01-15 13:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b3138609cf630078c5b9f3aa64350d363554fb8b', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n- Get the latest centos7 image\n\nTo check libvirt results https://review.rdoproject.org/r/#/c/18121/ look\nfor the -libvirt job\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 23, 'created': '2019-01-15 15:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/324a654cf3e9bf14d61159ccee439c2097871040', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n- Get the latest centos7 image\n\nTo check libvirt results https://review.rdoproject.org/r/#/c/18121/ look\nfor the -libvirt job\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 24, 'created': '2019-01-16 10:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2d46f134026a15caca524935e4846046bc4b7166', 'message': 'Add some fixes for libvirt\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Do virt-resize inside a script, there are some issues with ansible\n- Remove delgetate_to at password copy\n- Get the latest centos7 image\n\nTo check libvirt results https://review.rdoproject.org/r/#/c/18121/ look\nfor the -libvirt job\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 25, 'created': '2019-01-16 10:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9f33ff6434c76e63c859d20457328513f7fc2f50', 'message': 'Make libvirt role usable by zuul reproducer\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Remove delgetate_to at password copy\n\nTo check libvirt results https://review.rdoproject.org/r/#/c/18121/ look\nfor the -libvirt job\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/470?kanban-status=1447276\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 26, 'created': '2019-01-16 10:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dd80e936c23f1946b9fef58caaf990af0b7de7ed', 'message': 'Make libvirt role usable by zuul reproducer\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Remove delgetate_to at password copy\n\nTo check libvirt results https://review.rdoproject.org/r/#/c/18121/ look\nfor the -libvirt job\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/470?kanban-status=1447276\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 27, 'created': '2019-01-16 10:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b153e2a010ee15c16ae8e18ebeb3e8c7e0089737', 'message': 'Make libvirt role usable by zuul reproducer\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Remove delgetate_to at password copy\n\nTo check libvirt results https://review.rdoproject.org/r/#/c/18121/ look\nfor the -libvirt job\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/470?kanban-status=1447276\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 28, 'created': '2019-01-21 07:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/623a50d49d28843aab0e6d49d1fe4b29cdc02a1a', 'message': 'Make libvirt role usable by zuul reproducer\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Remove delgetate_to at password copy\n\nTo check libvirt results https://review.rdoproject.org/r/#/c/18121/ look\nfor the -libvirt job\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/470?kanban-status=1447276\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 29, 'created': '2019-01-21 11:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4dcd725416fbdc0316baac02c8845c1b97e93009', 'message': 'Make libvirt role usable by zuul reproducer\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Remove delgetate_to at password copy\n\nTo check libvirt results https://review.rdoproject.org/r/#/c/18121/ look\nfor the -libvirt job\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/470?kanban-status=1447276\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}, {'number': 30, 'created': '2019-01-22 12:53:49.000000000', 'files': ['roles/libvirt/setup/common/tasks/main.yml', 'roles/libvirt/setup/overcloud/tasks/vars/libvirt_nodepool_vars.yml', 'roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml', 'roles/libvirt/teardown/nodes/tasks/main.yml', 'roles/parts/libvirt/tasks/main.yml', 'roles/tripleo-inventory/templates/ssh_config_no_undercloud.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4a6cacaeee87bcf64ca5dad71159067563b1964a', 'message': 'Make libvirt role usable by zuul reproducer\n\n- Add become true to create /opt/vm_imaves\n- Install libvirt packages without with_items\n- Remove delgetate_to at password copy\n\nTo check libvirt results https://review.rdoproject.org/r/#/c/18121/ look\nfor the -libvirt job\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/470?kanban-status=1447276\n\nChange-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c\n'}]",16,629839,4a6cacaeee87bcf64ca5dad71159067563b1964a,102,13,30,27898,,,0,"Make libvirt role usable by zuul reproducer

- Add become true to create /opt/vm_imaves
- Install libvirt packages without with_items
- Remove delgetate_to at password copy

To check libvirt results https://review.rdoproject.org/r/#/c/18121/ look
for the -libvirt job

Story: https://tree.taiga.io/project/tripleo-ci-board/task/470?kanban-status=1447276

Change-Id: I7fb6a5e153691262ac404d5ab17f4baa2f7ffb3c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/39/629839/28 && git format-patch -1 --stdout FETCH_HEAD,"['roles/libvirt/setup/common/tasks/main.yml', 'roles/parts/libvirt/tasks/main.yml']",2,0fe5f2193ebbe0050e804f2f58e797f634abd1d5,," name: ""{{ libvirt_packages }}"""," name: ""{{ item }}"" with_items: ""{{ libvirt_packages }}""",2,2
openstack%2Ftripleo-ansible~master~Ib8a16d857c4c49dcecba95cff06c3334045e805a,openstack/tripleo-ansible,master,Ib8a16d857c4c49dcecba95cff06c3334045e805a,Address python3 string issues with subprocess,MERGED,2019-01-23 15:29:46.000000000,2019-01-23 17:14:18.000000000,2019-01-23 17:14:18.000000000,"[{'_account_id': 14985}, {'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-01-23 15:29:46.000000000', 'files': ['tripleo_ansible/library/podman_container.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1e00f63e32b2856a347f42f2238372a0c25cc59e', 'message': 'Address python3 string issues with subprocess\n\nFollows up Id0060a3abbcda8edb6124eb096cb824aaea48396.\nThis patch updates our Popen calls to enable universal newlines for\ncalls that we parse or consume the output for. Without\nuniveral_newlines=True, the output is treated as bytes under python3\nwhich leads to issues later where we are using it as strings.\n\nSee https://docs.python.org/3/glossary.html#term-universal-newlines\n\nChange-Id: Ib8a16d857c4c49dcecba95cff06c3334045e805a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,632760,1e00f63e32b2856a347f42f2238372a0c25cc59e,7,4,1,6926,,,0,"Address python3 string issues with subprocess

Follows up Id0060a3abbcda8edb6124eb096cb824aaea48396.
This patch updates our Popen calls to enable universal newlines for
calls that we parse or consume the output for. Without
univeral_newlines=True, the output is treated as bytes under python3
which leads to issues later where we are using it as strings.

See https://docs.python.org/3/glossary.html#term-universal-newlines

Change-Id: Ib8a16d857c4c49dcecba95cff06c3334045e805a
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/632760/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/library/podman_container.py'],1,1e00f63e32b2856a347f42f2238372a0c25cc59e,python3," ['podman', 'container', 'inspect', self.name], universal_newlines=True )"," ['podman', 'container', 'inspect', self.name])",3,1
openstack%2Ftripleo-quickstart-extras~master~I5eb7fb64411220bc198ebae15f866693eadc3a4d,openstack/tripleo-quickstart-extras,master,I5eb7fb64411220bc198ebae15f866693eadc3a4d,Use os_tempest for running tempest on standalone,MERGED,2019-01-04 12:09:06.000000000,2019-01-23 16:37:07.000000000,2019-01-23 16:37:07.000000000,"[{'_account_id': 6816}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-01-04 12:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/396e1fcac8a4490ae2657510ddd6410f27fa0c47', 'message': '[WIP] running os_tempest with standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 2, 'created': '2019-01-07 05:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ffc2134a1ef49fd915404e3205b173c1eb82e7ce', 'message': '[WIP] running os_tempest with standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 3, 'created': '2019-01-07 08:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2d6c0e85b3dda3a5bf724a7f27cc43469652a7d8', 'message': '[WIP] running os_tempest with standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 4, 'created': '2019-01-07 08:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2baacdd6f04db988c2efe3e2dac8acfb0b7787e1', 'message': '[WIP] running os_tempest with standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 5, 'created': '2019-01-08 10:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bcd28e271bd352b8655e6197b75dbb63bf46aaa3', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 6, 'created': '2019-01-08 10:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/19ca845dcde553cd0b18a668dc2ebfbba4541548', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 7, 'created': '2019-01-08 11:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/13f4b3d6eb9799989068459a0d5953f114b16379', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 8, 'created': '2019-01-08 11:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b6b59cf2c2f2c2afe02d756aad7f5b62dfae5cab', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 9, 'created': '2019-01-09 08:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a5ad82af587cd72870ea5932242ad5941bab9e88', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 10, 'created': '2019-01-09 09:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/af866866f1705ed3da186a27c114dbe7d9773843', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 11, 'created': '2019-01-09 17:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fd85b620dce69522497d88decc6b1b710db4125a', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 12, 'created': '2019-01-11 06:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/434a87ad84df6738964e88390c9c299acfb19dcd', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 13, 'created': '2019-01-11 06:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e2f39613d25671cf81b3c65eed2be0031dcd0022', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 14, 'created': '2019-01-11 11:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/89b4a71c6808cd21ee3b08b56006fc9930524e96', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 15, 'created': '2019-01-12 10:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1bbd5486a5e7d0eeb83bc4b61ea272f379ffb31d', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 16, 'created': '2019-01-14 07:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bea302415a308b668753617af067cf5cea5e7f63', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 17, 'created': '2019-01-14 08:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0cfce5dc4f4ec5e6968917570069722be6c0d285', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 18, 'created': '2019-01-14 08:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7f2ef582c301039cdad6f50b2196d6cc1263944a', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 19, 'created': '2019-01-15 07:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5e6e2ddb6ef90f48c228f9d9b1a144ca83afb407', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 20, 'created': '2019-01-16 10:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/88d1d1c3b184f7cf93f54cef2eea0581cd758446', 'message': 'Use os_tempest for running tempest on standalone\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 21, 'created': '2019-01-16 17:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d79293bf8fa11ad11b0e25b0d78daa744bd95090', 'message': 'Use os_tempest for running tempest on standalone\n\nos_tempest depends on ansible-config_template\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 22, 'created': '2019-01-18 06:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/872b89692aff2d22f1b307edd643b34365bb79f1', 'message': 'Use os_tempest for running tempest on standalone\n\nos_tempest depends on ansible-config_template\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 23, 'created': '2019-01-18 11:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b1ba4164ffded21f864ba02a274a1437225cddc9', 'message': 'Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 24, 'created': '2019-01-18 14:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/37c1643469459d57f479ad6a289f71751388d094', 'message': 'Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 25, 'created': '2019-01-20 10:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8cd4533004e0b14eada9f396771340c4cfc83617', 'message': 'Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 26, 'created': '2019-01-21 04:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d2bf2b3d2913a729b4d243eaf4d557746031f60e', 'message': 'Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 27, 'created': '2019-01-21 08:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/66ba1f857ffb7789cc7a6474600bd71b7e11eb7b', 'message': 'Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.[1.]\n\n[1.] https://tree.taiga.io/project/tripleo-ci-board/us/234\n\nhttps://tree.taiga.io/project/tripleo-ci-board/us/554\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 28, 'created': '2019-01-21 09:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fc7e6f2e816fd8da8befdd7d998e695226357b8c', 'message': 'Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.[1.]\n\n[1.] https://tree.taiga.io/project/tripleo-ci-board/us/234\n\nhttps://tree.taiga.io/project/tripleo-ci-board/us/554\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 29, 'created': '2019-01-21 10:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d54db334652f8897abfdc8902d6e08072111c4b0', 'message': '[WIP]Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.[1.]\n\n[1.] https://tree.taiga.io/project/tripleo-ci-board/us/234\n\nhttps://tree.taiga.io/project/tripleo-ci-board/us/554\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 30, 'created': '2019-01-21 12:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/abdaa6b3c52ee3c168ad2eb6fe745cbc5d0e7f62', 'message': '[WIP]Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.[1.]\n\n[1.] https://tree.taiga.io/project/tripleo-ci-board/us/234\n\nhttps://tree.taiga.io/project/tripleo-ci-board/us/554\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 31, 'created': '2019-01-21 15:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2f8668737016718afb854a5d17b11fcfdb50ae74', 'message': '[WIP]Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.[1.]\n\n[1.] https://tree.taiga.io/project/tripleo-ci-board/us/234\n\nhttps://tree.taiga.io/project/tripleo-ci-board/us/554\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 32, 'created': '2019-01-22 02:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/525ae964f49cfed65929ec0deead3356392dd56b', 'message': '[WIP]Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.[1.]\n\n[1.] https://tree.taiga.io/project/tripleo-ci-board/us/234\n\nhttps://tree.taiga.io/project/tripleo-ci-board/us/554\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 33, 'created': '2019-01-22 03:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4f953fa64836d339be5f90751e6518239c13501d', 'message': '[WIP]Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.[1.]\n\n[1.] https://tree.taiga.io/project/tripleo-ci-board/us/234\n\nhttps://tree.taiga.io/project/tripleo-ci-board/us/554\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 34, 'created': '2019-01-22 11:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/68024f0f1d2a12e179a801c964a0fd5d66c6ac08', 'message': 'Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.[1.]\n\nMake tempest_cidr cacheable so that it will be consumed in\nos_tempest role as it does not depends on extra-commons so\nadded an extra tasks to mkake the variable useable.\n\n[1.] https://tree.taiga.io/project/tripleo-ci-board/us/234\n\nhttps://tree.taiga.io/project/tripleo-ci-board/us/554\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 35, 'created': '2019-01-22 14:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d9e049ff4c4e36771cbe85b34e77758010118a4c', 'message': 'Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.[1.]\n\nMake tempest_cidr cacheable so that it will be consumed in\nos_tempest role as it does not depends on extra-commons so\nadded an extra tasks to mkake the variable useable.\n\n[1.] https://tree.taiga.io/project/tripleo-ci-board/us/234\n\nhttps://tree.taiga.io/project/tripleo-ci-board/us/554\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 36, 'created': '2019-01-22 18:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/07546a3b8330ad41414f4756cce6e76084837863', 'message': 'Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.[1.]\n\nMake tempest_cidr cacheable so that it will be consumed in\nos_tempest role as it does not depends on extra-commons so\nadded an extra tasks to mkake the variable useable.\n\n[1.] https://tree.taiga.io/project/tripleo-ci-board/us/234\n\nhttps://tree.taiga.io/project/tripleo-ci-board/us/554\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 37, 'created': '2019-01-23 09:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4ae38debd077d85989dae8095bd700a53f91b8de', 'message': 'Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.[1.]\n\nMake tempest_cidr cacheable so that it will be consumed in\nos_tempest role as it does not depends on extra-commons so\nadded an extra tasks to mkake the variable useable.\n\n[1.] https://tree.taiga.io/project/tripleo-ci-board/us/234\n\nhttps://tree.taiga.io/project/tripleo-ci-board/us/554\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}, {'number': 38, 'created': '2019-01-23 11:01:15.000000000', 'files': ['playbooks/multinode-standalone.yml', 'roles/collect-logs/tasks/publish.yml', 'roles/standalone/tasks/main.yml', 'roles/build-test-packages/defaults/main.yml', 'roles/nodepool-setup/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/df2401d7668a97ae41d565b6d61284c38bb2c731', 'message': 'Use os_tempest for running tempest on standalone\n\nIt depends on ansible-config_template and python_venv_build\nrole.[1.]\n\nMake tempest_cidr cacheable so that it will be consumed in\nos_tempest role as it does not depends on extra-commons so\nadded an extra tasks to mkake the variable useable.\n\n[1.] https://tree.taiga.io/project/tripleo-ci-board/us/234\n\nhttps://tree.taiga.io/project/tripleo-ci-board/us/554\n\nChange-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d\n'}]",20,628415,df2401d7668a97ae41d565b6d61284c38bb2c731,152,13,38,12393,,,0,"Use os_tempest for running tempest on standalone

It depends on ansible-config_template and python_venv_build
role.[1.]

Make tempest_cidr cacheable so that it will be consumed in
os_tempest role as it does not depends on extra-commons so
added an extra tasks to mkake the variable useable.

[1.] https://tree.taiga.io/project/tripleo-ci-board/us/234

https://tree.taiga.io/project/tripleo-ci-board/us/554

Change-Id: I5eb7fb64411220bc198ebae15f866693eadc3a4d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/15/628415/37 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-tempest.yml'],1,396e1fcac8a4490ae2657510ddd6410f27fa0c47,tripleo_ostempest,--- - name: os_tempest role hosts: undercloud gather_facts: true tasks: - name: Include os_tempest role as a task vars: ansible_become: true tempest_run: yes tempest_install_method: distro tempest_use_tempestconf: true tempest_service_setup_host: 'undercloud' tempest_image_dir_owner: root keystone_service_internaluri_insecure: false include_role: name: 'os_tempest' ,,16,0
openstack%2Fopenstack-ansible~master~I58732dc181ee985364e97aa890987a98544ed06c,openstack/openstack-ansible,master,I58732dc181ee985364e97aa890987a98544ed06c,Clean-up and simplify the major upgrade,MERGED,2018-12-12 17:51:12.000000000,2019-01-23 16:36:25.000000000,2019-01-23 16:36:25.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-12-12 17:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5a20f19512bd0f3394c60f8f2429d01913aa15a8', 'message': '[WIP] Clean-up and simplify the major upgrade\n\nThe major upgrade procedure has been collecting new bits over time,\nbut has not really had bits cleaned out of it when unnecessary. Some\nparts have also never been used.\n\nThis patch does the following:\n\n1. Consolidates the basic deploy node changes into a single playbook\n   which is tagged, and therefore easy to run stand alone and use\n   with skip-tags if necessary.\n2. Removes the ceph-galaxy-removal playbook which was for the P->Q\n   upgrade only.\n3. Removes the galera-cluster-rolling-restart playbook which is not\n   necessary any more, because the galera-install playbook already\n   does a serialised rolling restart.\n4. Removes the ansible_fact_cleanup playbook and script - the first\n   ran the second which was a bit pointless, given it could be done\n   in a playbook task instead. This has been rolled into the\n   deploy-config-changes playbook.\n5. Removes the memcached-flush playbook which was only actually\n   required for the N->O upgrade. The functionality to enable the\n   flush more surgically was enabled via a var in the keystone role\n   in [a], so that can be used in the future if need be.\n6. Consolidates user-secrets-adjustment into the\n   deploy-config-changes playbook, and also removes the var renames\n   which were only appropriate for the Q->R upgrade.\n7. Removes the make_rst_table, migrate_openstack_vars and\n   test_migrate_openstack_vars scripts which do not ever appear to\n   have been used.\n\nTODO:\n- verify the upgrade with this\n- consider getting rid of run-upgrade.sh, given that this is so\n  much simpler\n- update the documentation to match, perhaps consolidate the\n  minor/major upgrade docs into one now that a major upgrade\n  only has one other step (run the deploy-config-changes playbook)\n\n[a] https://review.openstack.org/#/q/topic:bug/1793389\n\nChange-Id: I58732dc181ee985364e97aa890987a98544ed06c\n'}, {'number': 2, 'created': '2018-12-17 17:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1078ae94c2c0a403deed6e9528d3a632a1de0813', 'message': '[WIP] Clean-up and simplify the major upgrade\n\nThe major upgrade procedure has been collecting new bits over time,\nbut has not really had bits cleaned out of it when unnecessary. Some\nparts have also never been used.\n\nThis patch does the following:\n\n1. Consolidates the basic deploy node changes into a single playbook\n   which is tagged, and therefore easy to run stand alone and use\n   with skip-tags if necessary.\n2. Removes the ceph-galaxy-removal playbook which was for the P->Q\n   upgrade only.\n3. Removes the ansible_fact_cleanup playbook and script - the first\n   ran the second which was a bit pointless, given it could be done\n   in a playbook task instead. This has been rolled into the\n   deploy-config-changes playbook.\n4. Removes the memcached-flush playbook which was only actually\n   required for the N->O upgrade. The functionality to enable the\n   flush more surgically was enabled via a var in the keystone role\n   in [a], so that can be used in the future if need be.\n5. Consolidates user-secrets-adjustment into the\n   deploy-config-changes playbook, and also removes the var renames\n   which were only appropriate for the Q->R upgrade.\n6. Removes the make_rst_table, migrate_openstack_vars and\n   test_migrate_openstack_vars scripts which do not ever appear to\n   have been used.\n\nTODO:\n- verify the upgrade with this\n- update the documentation to match\n\n[a] https://review.openstack.org/#/q/topic:bug/1793389\n\nChange-Id: I58732dc181ee985364e97aa890987a98544ed06c\n'}, {'number': 3, 'created': '2018-12-17 17:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/044f67ebd5a3a44176eaa1e77b98fc18074a34b7', 'message': '[WIP] Clean-up and simplify the major upgrade\n\nThe major upgrade procedure has been collecting new bits over time,\nbut has not really had bits cleaned out of it when unnecessary. Some\nparts have also never been used.\n\nThis patch does the following:\n\n1. Consolidates the basic deploy node changes into a single playbook\n   which is tagged, and therefore easy to run stand alone and use\n   with skip-tags if necessary.\n2. Removes the ceph-galaxy-removal playbook which was for the P->Q\n   upgrade only.\n3. Removes the ansible_fact_cleanup playbook and script - the first\n   ran the second which was a bit pointless, given it could be done\n   in a playbook task instead. This has been rolled into the\n   deploy-config-changes playbook.\n4. Removes the memcached-flush playbook which was only actually\n   required for the N->O upgrade. The functionality to enable the\n   flush more surgically was enabled via a var in the keystone role\n   in [a], so that can be used in the future if need be.\n5. Consolidates user-secrets-adjustment into the\n   deploy-config-changes playbook, and also removes the var renames\n   which were only appropriate for the Q->R upgrade.\n6. Removes the make_rst_table, migrate_openstack_vars and\n   test_migrate_openstack_vars scripts which do not ever appear to\n   have been used.\n7. Changes the limited playbook run for galera_all/rabbitmq_all from\n   only doing lxc-containers-create.yml to all of setup_hosts to\n   ensure that any hosts missed out in the previous step is handled\n   in that step. This is useful if rabbitmq/galera are installed on\n   hosts instead of in containers.\n\nTODO:\n- verify the upgrade with this\n- update the documentation to match\n\n[a] https://review.openstack.org/#/q/topic:bug/1793389\n\nChange-Id: I58732dc181ee985364e97aa890987a98544ed06c\n'}, {'number': 4, 'created': '2018-12-17 17:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c6c2e3aee9a342b2b9ec912529f793535c8eb95b', 'message': '[WIP] Clean-up and simplify the major upgrade\n\nThe major upgrade procedure has been collecting new bits over time,\nbut has not really had bits cleaned out of it when unnecessary. Some\nparts have also never been used.\n\nThis patch does the following:\n\n1. Consolidates the basic deploy node changes into a single playbook\n   which is tagged, and therefore easy to run stand alone and use\n   with skip-tags if necessary.\n2. Removes the ceph-galaxy-removal playbook which was for the P->Q\n   upgrade only.\n3. Removes the ansible_fact_cleanup playbook and script - the first\n   ran the second which was a bit pointless, given it could be done\n   in a playbook task instead. This has been rolled into the\n   deploy-config-changes playbook.\n4. Removes the memcached-flush playbook which was only actually\n   required for the N->O upgrade. The functionality to enable the\n   flush more surgically was enabled via a var in the keystone role\n   in [a], so that can be used in the future if need be.\n5. Consolidates user-secrets-adjustment into the\n   deploy-config-changes playbook, and also removes the var renames\n   which were only appropriate for the Q->R upgrade.\n6. Removes the make_rst_table, migrate_openstack_vars and\n   test_migrate_openstack_vars scripts which do not ever appear to\n   have been used.\n7. Changes the limited playbook run for galera_all/rabbitmq_all from\n   only doing lxc-containers-create.yml to all of setup_hosts to\n   ensure that any hosts missed out in the previous step is handled\n   in that step. This is useful if rabbitmq/galera are installed on\n   hosts instead of in containers.\n8. Removed the extra backup of the /etc/openstack_deploy directory\n   given that it is already archived by the run-upgrade script.\n9. Made the backup of the OSA configuration done in run-upgrade\n   idempotent.\n\nTODO:\n- verify the upgrade with this\n- update the documentation to match\n\n[a] https://review.openstack.org/#/q/topic:bug/1793389\n\nChange-Id: I58732dc181ee985364e97aa890987a98544ed06c\n'}, {'number': 5, 'created': '2018-12-20 13:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/de60b2fe36b388f88c0225e5d91b4a752cdd4eb4', 'message': 'Clean-up and simplify the major upgrade\n\nThe major upgrade procedure has been collecting new bits over time,\nbut has not really had bits cleaned out of it when unnecessary. Some\nparts have also never been used.\n\nThis patch does the following:\n\n1.  Consolidates the basic deploy node changes into a single playbook\n    which is tagged, and therefore easy to run stand alone and use\n    with skip-tags if necessary.\n2.  Removes the ceph-galaxy-removal playbook which was for the P->Q\n    upgrade only.\n3.  Removes the ansible_fact_cleanup playbook and script - the first\n    ran the second which was a bit pointless, given it could be done\n    in a playbook task instead. This has been rolled into the\n    deploy-config-changes playbook.\n4.  Removes the memcached-flush playbook which was only actually\n    required for the N->O upgrade. The functionality to enable the\n    flush more surgically was enabled via a var in the keystone role\n    in [a], so that can be used in the future if need be.\n5.  Consolidates user-secrets-adjustment into the\n    deploy-config-changes playbook, and also removes the var renames\n    which were only appropriate for the Q->R upgrade.\n6.  Removes the make_rst_table, migrate_openstack_vars and\n    test_migrate_openstack_vars scripts which do not ever appear to\n    have been used.\n7.  Changes the limited playbook run for galera_all/rabbitmq_all from\n    only doing lxc-containers-create.yml to all of setup_hosts to\n    ensure that any hosts missed out in the previous step is handled\n    in that step. This is useful if rabbitmq/galera are installed on\n    hosts instead of in containers.\n8.  Removed the extra backup of the /etc/openstack_deploy directory\n    given that it is already archived by the run-upgrade script.\n9.  Made the backup of the OSA configuration done in run-upgrade\n    idempotent.\n10. Removes the reference content for upgrades, given that most of\n    it is duplicated and the simplified structure negates the need\n    for a reference guide.\n11. Change the infrastructure part of the upgrade to be simpler,\n    and use the setup-infrastructure playbook.\n\n[a] https://review.openstack.org/#/q/topic:bug/1793389\nRelated-Bug: #1808041\nChange-Id: I58732dc181ee985364e97aa890987a98544ed06c\n'}, {'number': 6, 'created': '2018-12-20 13:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/180d1953eb1d4148b84261fbd1a5c6801a7a5134', 'message': 'Clean-up and simplify the major upgrade\n\nThe major upgrade procedure has been collecting new bits over time,\nbut has not really had bits cleaned out of it when unnecessary. Some\nparts have also never been used.\n\nThis patch does the following:\n\n1.  Consolidates the basic deploy node changes into a single playbook\n    which is tagged, and therefore easy to run stand alone and use\n    with skip-tags if necessary.\n2.  Removes the ceph-galaxy-removal playbook which was for the P->Q\n    upgrade only.\n3.  Removes the ansible_fact_cleanup playbook and script - the first\n    ran the second which was a bit pointless, given it could be done\n    in a playbook task instead. This has been rolled into the\n    deploy-config-changes playbook.\n4.  Removes the memcached-flush playbook which was only actually\n    required for the N->O upgrade. The functionality to enable the\n    flush more surgically was enabled via a var in the keystone role\n    in [a], so that can be used in the future if need be.\n5.  Consolidates user-secrets-adjustment into the\n    deploy-config-changes playbook, and also removes the var renames\n    which were only appropriate for the Q->R upgrade.\n6.  Removes the make_rst_table, migrate_openstack_vars and\n    test_migrate_openstack_vars scripts which do not ever appear to\n    have been used.\n7.  Changes the limited playbook run for galera_all/rabbitmq_all from\n    only doing lxc-containers-create.yml to all of setup_hosts to\n    ensure that any hosts missed out in the previous step is handled\n    in that step. This is useful if rabbitmq/galera are installed on\n    hosts instead of in containers.\n8.  Removed the extra backup of the /etc/openstack_deploy directory\n    given that it is already archived by the run-upgrade script.\n9.  Made the backup of the OSA configuration done in run-upgrade\n    idempotent.\n10. Removes the reference content for upgrades, given that most of\n    it is duplicated and the simplified structure negates the need\n    for a reference guide.\n11. Change the infrastructure part of the upgrade to be simpler,\n    and use the setup-infrastructure playbook.\n\n[a] https://review.openstack.org/#/q/topic:bug/1793389\nRelated-Bug: #1808041\nChange-Id: I58732dc181ee985364e97aa890987a98544ed06c\n'}, {'number': 7, 'created': '2018-12-20 14:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/938380bb42c444ba1422d65d849d3e30cf46587d', 'message': 'Clean-up and simplify the major upgrade\n\nThe major upgrade procedure has been collecting new bits over time,\nbut has not really had bits cleaned out of it when unnecessary. Some\nparts have also never been used.\n\nThis patch does the following:\n\n1.  Consolidates the basic deploy node changes into a single playbook\n    which is tagged, and therefore easy to run stand alone and use\n    with skip-tags if necessary.\n2.  Removes the ceph-galaxy-removal playbook which was for the P->Q\n    upgrade only.\n3.  Removes the ansible_fact_cleanup playbook and script - the first\n    ran the second which was a bit pointless, given it could be done\n    in a playbook task instead. This has been rolled into the\n    deploy-config-changes playbook.\n4.  Removes the memcached-flush playbook which was only actually\n    required for the N->O upgrade. The functionality to enable the\n    flush more surgically was enabled via a var in the keystone role\n    in [a], so that can be used in the future if need be.\n5.  Consolidates user-secrets-adjustment into the\n    deploy-config-changes playbook, and also removes the var renames\n    which were only appropriate for the Q->R upgrade.\n6.  Removes the make_rst_table, migrate_openstack_vars and\n    test_migrate_openstack_vars scripts which do not ever appear to\n    have been used.\n7.  Changes the limited playbook run for galera_all/rabbitmq_all from\n    only doing lxc-containers-create.yml to all of setup_hosts to\n    ensure that any hosts missed out in the previous step is handled\n    in that step. This is useful if rabbitmq/galera are installed on\n    hosts instead of in containers.\n8.  Removed the extra backup of the /etc/openstack_deploy directory\n    given that it is already archived by the run-upgrade script.\n9.  Made the backup of the OSA configuration done in run-upgrade\n    idempotent.\n10. Removes the reference content for upgrades, given that most of\n    it is duplicated and the simplified structure negates the need\n    for a reference guide.\n11. Change the infrastructure part of the upgrade to be simpler,\n    and use the setup-infrastructure playbook.\n\n[a] https://review.openstack.org/#/q/topic:bug/1793389\nRelated-Bug: #1808041\nChange-Id: I58732dc181ee985364e97aa890987a98544ed06c\n'}, {'number': 8, 'created': '2019-01-23 10:45:17.000000000', 'files': ['scripts/upgrade-utilities/playbooks/deploy-config-changes.yml', 'doc/source/admin/index.rst', 'doc/source/reference/index.rst', 'doc/source/admin/upgrades/major-upgrades-with-script.rst', 'scripts/upgrade-utilities/deploy-config-changes.yml', 'doc/source/conf.py', 'scripts/upgrade-utilities/playbooks/ceph-galaxy-removal.yml', 'scripts/upgrade-utilities/playbooks/pip-conf-removal.yml', 'scripts/upgrade-utilities/scripts/migrate_openstack_vars.py', 'scripts/upgrade-utilities/scripts/test_migrate_openstack_vars.py', 'doc/source/reference/upgrades/reference.rst', 'doc/source/admin/upgrades/major-upgrades-manual-upgrade.rst', 'scripts/upgrade-utilities/scripts/ansible_fact_cleanup.sh', 'scripts/upgrade-utilities/galera-cluster-rolling-restart.yml', 'scripts/upgrade-utilities/scripts/make_rst_table.py', 'doc/source/admin/upgrades/major-upgrades.rst', 'doc/source/reference/upgrades/reference-scripts.rst', 'doc/source/reference/upgrades/reference-upgrade-playbooks.rst', 'doc/source/admin/upgrades/minor-upgrades.rst', 'scripts/run-upgrade.sh', 'scripts/upgrade-utilities/playbooks/ansible_fact_cleanup.yml', 'scripts/upgrade-utilities/playbooks/memcached-flush.yml', 'scripts/upgrade-utilities/playbooks/user-secrets-adjustment.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3fb15ad780c769c1991affff3b7ccb75ae138169', 'message': 'Clean-up and simplify the major upgrade\n\nThe major upgrade procedure has been collecting new bits over time,\nbut has not really had bits cleaned out of it when unnecessary. Some\nparts have also never been used.\n\nThis patch does the following:\n\n1.  Consolidates the basic deploy node changes into a single playbook\n    which is tagged, and therefore easy to run stand alone and use\n    with skip-tags if necessary.\n2.  Removes the ceph-galaxy-removal playbook which was for the P->Q\n    upgrade only.\n3.  Removes the ansible_fact_cleanup playbook and script - the first\n    ran the second which was a bit pointless, given it could be done\n    in a playbook task instead. This has been rolled into the\n    deploy-config-changes playbook.\n4.  Removes the memcached-flush playbook which was only actually\n    required for the N->O upgrade. The functionality to enable the\n    flush more surgically was enabled via a var in the keystone role\n    in [a], so that can be used in the future if need be.\n5.  Consolidates user-secrets-adjustment into the\n    deploy-config-changes playbook, and also removes the var renames\n    which were only appropriate for the Q->R upgrade.\n6.  Removes the make_rst_table, migrate_openstack_vars and\n    test_migrate_openstack_vars scripts which do not ever appear to\n    have been used.\n7.  Changes the limited playbook run for galera_all/rabbitmq_all from\n    only doing lxc-containers-create.yml to all of setup_hosts to\n    ensure that any hosts missed out in the previous step is handled\n    in that step. This is useful if rabbitmq/galera are installed on\n    hosts instead of in containers.\n8.  Removed the extra backup of the /etc/openstack_deploy directory\n    given that it is already archived by the run-upgrade script.\n9.  Made the backup of the OSA configuration done in run-upgrade\n    idempotent.\n10. Removes the reference content for upgrades, given that most of\n    it is duplicated and the simplified structure negates the need\n    for a reference guide.\n11. Change the infrastructure part of the upgrade to be simpler,\n    and use the setup-infrastructure playbook.\n\n[a] https://review.openstack.org/#/q/topic:bug/1793389\nRelated-Bug: #1808041\nChange-Id: I58732dc181ee985364e97aa890987a98544ed06c\n'}]",3,624773,3fb15ad780c769c1991affff3b7ccb75ae138169,24,4,8,6816,,,0,"Clean-up and simplify the major upgrade

The major upgrade procedure has been collecting new bits over time,
but has not really had bits cleaned out of it when unnecessary. Some
parts have also never been used.

This patch does the following:

1.  Consolidates the basic deploy node changes into a single playbook
    which is tagged, and therefore easy to run stand alone and use
    with skip-tags if necessary.
2.  Removes the ceph-galaxy-removal playbook which was for the P->Q
    upgrade only.
3.  Removes the ansible_fact_cleanup playbook and script - the first
    ran the second which was a bit pointless, given it could be done
    in a playbook task instead. This has been rolled into the
    deploy-config-changes playbook.
4.  Removes the memcached-flush playbook which was only actually
    required for the N->O upgrade. The functionality to enable the
    flush more surgically was enabled via a var in the keystone role
    in [a], so that can be used in the future if need be.
5.  Consolidates user-secrets-adjustment into the
    deploy-config-changes playbook, and also removes the var renames
    which were only appropriate for the Q->R upgrade.
6.  Removes the make_rst_table, migrate_openstack_vars and
    test_migrate_openstack_vars scripts which do not ever appear to
    have been used.
7.  Changes the limited playbook run for galera_all/rabbitmq_all from
    only doing lxc-containers-create.yml to all of setup_hosts to
    ensure that any hosts missed out in the previous step is handled
    in that step. This is useful if rabbitmq/galera are installed on
    hosts instead of in containers.
8.  Removed the extra backup of the /etc/openstack_deploy directory
    given that it is already archived by the run-upgrade script.
9.  Made the backup of the OSA configuration done in run-upgrade
    idempotent.
10. Removes the reference content for upgrades, given that most of
    it is duplicated and the simplified structure negates the need
    for a reference guide.
11. Change the infrastructure part of the upgrade to be simpler,
    and use the setup-infrastructure playbook.

[a] https://review.openstack.org/#/q/topic:bug/1793389
Related-Bug: #1808041
Change-Id: I58732dc181ee985364e97aa890987a98544ed06c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/73/624773/3 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/upgrade-utilities/playbooks/deploy-config-changes.yml', 'scripts/upgrade-utilities/deploy-config-changes.yml', 'scripts/upgrade-utilities/playbooks/ceph-galaxy-removal.yml', 'scripts/upgrade-utilities/playbooks/pip-conf-removal.yml', 'scripts/upgrade-utilities/scripts/migrate_openstack_vars.py', 'scripts/upgrade-utilities/scripts/test_migrate_openstack_vars.py', 'scripts/upgrade-utilities/scripts/ansible_fact_cleanup.sh', 'scripts/upgrade-utilities/scripts/make_rst_table.py', 'scripts/run-upgrade.sh', 'scripts/upgrade-utilities/playbooks/ansible_fact_cleanup.yml', 'scripts/upgrade-utilities/playbooks/galera-cluster-rolling-restart.yml', 'scripts/upgrade-utilities/playbooks/memcached-flush.yml', 'scripts/upgrade-utilities/playbooks/user-secrets-adjustment.yml']",13,5a20f19512bd0f3394c60f8f2429d01913aa15a8,upgrade-cleanup,,"--- # Copyright 2015, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: User secrets adjustments hosts: localhost connection: local gather_facts: false user: root tasks: - name: Read example user secrets file shell: ""grep '^[a-zA-Z]' {{ playbook_dir }}/../../../etc/openstack_deploy/user_secrets.yml"" register: secrets - name: Rename changed secrets lineinfile: dest: ""/etc/openstack_deploy/{{ _osa_secrets_file_name }}"" regexp: ""^{{ item.old_name }}: (.*)$"" line: ""{{ item.new_name }}: \\1"" backrefs: yes with_items: - old_name: ""keystone_rabbitmq_password"" new_name: ""keystone_oslomsg_rpc_password"" - old_name: ""ceilometer_rabbitmq_password"" new_name: ""ceilometer_oslomsg_rpc_password"" - old_name: ""aodh_rabbitmq_password"" new_name: ""aodh_oslomsg_rpc_password"" - old_name: ""cinder_rabbitmq_password"" new_name: ""cinder_oslomsg_rpc_password"" - old_name: ""glance_rabbitmq_password"" new_name: ""glance_oslomsg_rpc_password"" - old_name: ""heat_rabbitmq_password"" new_name: ""heat_oslomsg_rpc_password"" - old_name: ""ironic_rabbitmq_password"" new_name: ""ironic_oslomsg_rpc_password"" - old_name: ""neutron_rabbitmq_password"" new_name: ""neutron_oslomsg_rpc_password"" - old_name: ""nova_rabbitmq_password"" new_name: ""nova_oslomsg_rpc_password"" - old_name: ""octavia_rabbitmq_password"" new_name: ""octavia_oslomsg_rpc_password"" - old_name: ""sahara_rabbitmq_password"" new_name: ""sahara_oslomsg_rpc_password"" - old_name: ""swift_rabbitmq_telemetry_password"" new_name: ""swift_oslomsg_notify_password"" - old_name: ""magnum_rabbitmq_password"" new_name: ""magnum_oslomsg_rpc_password"" - old_name: ""trove_rabbitmq_password"" new_name: ""trove_oslomsg_rpc_password"" - old_name: ""barbican_rabbitmq_password"" new_name: ""barbican_oslomsg_rpc_password"" - old_name: ""designate_rabbitmq_password"" new_name: ""designate_oslomsg_rpc_password"" - old_name: ""tacker_rabbitmq_password"" new_name: ""tacker_oslomsg_rpc_password"" - name: Read user secrets file shell: ""grep '^[a-zA-Z]' /etc/openstack_deploy/{{ _osa_secrets_file_name }}"" register: user_secrets - name: Add missing secrets lineinfile: dest: ""/etc/openstack_deploy/{{ _osa_secrets_file_name }}"" line: ""{{ item }}"" with_items: ""{{ secrets.stdout_lines }}"" when: - ""user_secrets.stdout.find(item) == -1"" - name: Generate new secrets shell: ""/opt/ansible-runtime/bin/python {{ playbook_dir }}/../../../scripts/pw-token-gen.py --file /etc/openstack_deploy/{{ _osa_secrets_file_name }}"" vars: _osa_secrets_file_name: ""{{ osa_secrets_file_name | default('user_secrets.yml') }}"" ansible_python_interpreter: ""/usr/bin/python"" ",107,593
openstack%2Fironic-lib~stable%2Fqueens~I9db48a3462422749290bbb887c14816734ab0478,openstack/ironic-lib,stable/queens,I9db48a3462422749290bbb887c14816734ab0478,Run sync and partprobe after adding a configdrive partition,MERGED,2019-01-11 12:01:07.000000000,2019-01-23 16:33:17.000000000,2019-01-23 16:33:17.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-11 12:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/9355117b97fe2cbb1e41ed7aaba8fcc888a76bfe', 'message': ""Run sync and partprobe after adding a configdrive partition\n\nWe're hitting a problem in the CI where /dev/sda2 does not exist after\nbeing created. The logs suggest running partprobe may fix the problem,\nso let's try it.\n\nWith this, we can also encounter a case where there refresh will fail\nbecause the partition was created using fsync calls to force the write\nof the partition table. However, filesystem VFS layer does impact this\nbehavior, and fsync on files in a ramdisk is a noop, so we must force\neverything to be flushed to disk before attempting to execute partprobe.\n\nAlso run 'sgdisk -v' after partitioning to leave some traces in the logs\nfor debugging when something goes wrong.\n\nStory: #2004744\nTask: #28815\nChange-Id: I9db48a3462422749290bbb887c14816734ab0478\nDepends-On: I8d6f8c99e1ab5f26e3537630d0f6086e02a2b1ec\n(cherry picked from commit 653b59a09d93af736ac02733de05045097bb2b3d)\n""}, {'number': 2, 'created': '2019-01-18 12:27:26.000000000', 'files': ['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/f19eb25f019bdfdd3233ab13dd9b0abc1a5fce52', 'message': ""Run sync and partprobe after adding a configdrive partition\n\nWe're hitting a problem in the CI where /dev/sda2 does not exist after\nbeing created. The logs suggest running partprobe may fix the problem,\nso let's try it.\n\nWith this, we can also encounter a case where there refresh will fail\nbecause the partition was created using fsync calls to force the write\nof the partition table. However, filesystem VFS layer does impact this\nbehavior, and fsync on files in a ramdisk is a noop, so we must force\neverything to be flushed to disk before attempting to execute partprobe.\n\nAlso run 'sgdisk -v' after partitioning to leave some traces in the logs\nfor debugging when something goes wrong.\n\nStory: #2004744\nTask: #28815\nChange-Id: I9db48a3462422749290bbb887c14816734ab0478\nDepends-On: I8d6f8c99e1ab5f26e3537630d0f6086e02a2b1ec\n(cherry picked from commit 653b59a09d93af736ac02733de05045097bb2b3d)\n""}]",0,630181,f19eb25f019bdfdd3233ab13dd9b0abc1a5fce52,12,5,2,10239,,,0,"Run sync and partprobe after adding a configdrive partition

We're hitting a problem in the CI where /dev/sda2 does not exist after
being created. The logs suggest running partprobe may fix the problem,
so let's try it.

With this, we can also encounter a case where there refresh will fail
because the partition was created using fsync calls to force the write
of the partition table. However, filesystem VFS layer does impact this
behavior, and fsync on files in a ramdisk is a noop, so we must force
everything to be flushed to disk before attempting to execute partprobe.

Also run 'sgdisk -v' after partitioning to leave some traces in the logs
for debugging when something goes wrong.

Story: #2004744
Task: #28815
Change-Id: I9db48a3462422749290bbb887c14816734ab0478
Depends-On: I8d6f8c99e1ab5f26e3537630d0f6086e02a2b1ec
(cherry picked from commit 653b59a09d93af736ac02733de05045097bb2b3d)
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/81/630181/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",2,9355117b97fe2cbb1e41ed7aaba8fcc888a76bfe,story/2004744," # Parted uses fsync to tell the kernel to sync file io # however on ramdisks in ramfs, this is an explicit no-op. # Explicitly call sync so when the the kernel attempts to read # the partition table from disk, it is less likely that the write # is still in buffer cache pending write to disk. LOG.debug('Explicitly calling sync to force buffer/cache flush.') utils.execute('sync') # Make sure any additions to the partitioning are reflected in the # kernel. LOG.debug('Waiting until udev event queue is empty') utils.execute('udevadm', 'settle') try: utils.execute('partprobe', device, run_as_root=True, attempts=CONF.disk_utils.partprobe_attempts) # Also verify that the partitioning is correct now. utils.execute('sgdisk', '-v', device, run_as_root=True) except processutils.ProcessExecutionError as exc: LOG.warning('Failed to verify GPT partitioning after creating ' 'the configdrive partition: %s', exc)",,39,4
openstack%2Fironic-lib~stable%2Fqueens~Ic888e7b6c93e83511a76bf8000619531b1eec9e1,openstack/ironic-lib,stable/queens,Ic888e7b6c93e83511a76bf8000619531b1eec9e1,Add retry attempts for the partprobe command,MERGED,2019-01-18 12:26:33.000000000,2019-01-23 16:33:16.000000000,2019-01-23 16:33:15.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-18 12:26:33.000000000', 'files': ['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/87ea79ba97ed70bd43b60be0c828c942b45417ba', 'message': 'Add retry attempts for the partprobe command\n\nThe partprobe command may fail because the device is busy some\ntimes. Add retry attempts to resolve this problem.\n\nCloses-Bug: #1756760\nChange-Id: Ic888e7b6c93e83511a76bf8000619531b1eec9e1\n(cherry picked from commit d2ade05278b25e020c5dd929e14133a14dc393f1)\n'}]",0,631787,87ea79ba97ed70bd43b60be0c828c942b45417ba,10,3,1,10239,,,0,"Add retry attempts for the partprobe command

The partprobe command may fail because the device is busy some
times. Add retry attempts to resolve this problem.

Closes-Bug: #1756760
Change-Id: Ic888e7b6c93e83511a76bf8000619531b1eec9e1
(cherry picked from commit d2ade05278b25e020c5dd929e14133a14dc393f1)
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/87/631787/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",2,87ea79ba97ed70bd43b60be0c828c942b45417ba,bug/1756760," cfg.IntOpt('partprobe_attempts', default=10, help='Maximum number of attempts to try to read the ' 'partition.'), utils.execute('partprobe', device_path, run_as_root=True, attempts=CONF.disk_utils.partprobe_attempts)"," utils.execute('partprobe', device_path, run_as_root=True)",12,7
openstack%2Fopenstack-ansible-tests~master~I4accc9ab8c52a6bdda986c9b222710832e6814eb,openstack/openstack-ansible-tests,master,I4accc9ab8c52a6bdda986c9b222710832e6814eb,Gather all facts while preparing hosts,MERGED,2019-01-23 04:31:24.000000000,2019-01-23 16:32:34.000000000,2019-01-23 16:32:34.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 04:31:24.000000000', 'files': ['test-prepare-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b493f6cf00804f1a757f5591ecb46f13bd6d4ca6', 'message': 'Gather all facts while preparing hosts\n\nIf we collect selective facts then on centos ansible_br_mgmt leads\nto undefined error. It fixes the same.\n\nChange-Id: I4accc9ab8c52a6bdda986c9b222710832e6814eb\n'}]",0,632609,b493f6cf00804f1a757f5591ecb46f13bd6d4ca6,7,4,1,12393,,,0,"Gather all facts while preparing hosts

If we collect selective facts then on centos ansible_br_mgmt leads
to undefined error. It fixes the same.

Change-Id: I4accc9ab8c52a6bdda986c9b222710832e6814eb
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/09/632609/1 && git format-patch -1 --stdout FETCH_HEAD,['test-prepare-host.yml'],1,b493f6cf00804f1a757f5591ecb46f13bd6d4ca6,fix_centos," gather_subset: ""all"""," gather_subset: ""network,hardware,virtual""",1,1
openstack%2Fplacement~master~I4a189aca59485d65ad8a7c9bfbeca7ac995ed336,openstack/placement,master,I4a189aca59485d65ad8a7c9bfbeca7ac995ed336,Update standard resource class counts in tests,MERGED,2019-01-23 11:01:26.000000000,2019-01-23 16:27:40.000000000,2019-01-23 16:27:40.000000000,"[{'_account_id': 7}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 11:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/86c461a0cd743f54ba929192d67364ac13b7642b', 'message': ""Update standard resource class counts in tests\n\nThe 0.2.0 release of os-resource-classes has happened, adding the\n'PCPU' class. It's already updated in global upper-constraints,\nso update it in requirements.txt and change the gabbi tests which\ncount resource classes.\n\nChange-Id: I4a189aca59485d65ad8a7c9bfbeca7ac995ed336\n""}, {'number': 2, 'created': '2019-01-23 13:26:31.000000000', 'files': ['requirements.txt', 'placement/tests/functional/gabbits/resource-classes.yaml', 'lower-constraints.txt', 'placement/tests/functional/gabbits/resource-classes-policy.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/4acab4605fccac1e558eca1aa09ef0e034dc7321', 'message': ""Update standard resource class counts in tests\n\nThe 0.2.0 release of os-resource-classes has happened, adding the\n'PCPU' class. It's already updated in global upper-constraints,\nso update it in requirements.txt and lower-constraints and change\nthe gabbi tests which count resource classes.\n\nChange-Id: I4a189aca59485d65ad8a7c9bfbeca7ac995ed336\n""}]",0,632696,4acab4605fccac1e558eca1aa09ef0e034dc7321,12,4,2,11564,,,0,"Update standard resource class counts in tests

The 0.2.0 release of os-resource-classes has happened, adding the
'PCPU' class. It's already updated in global upper-constraints,
so update it in requirements.txt and lower-constraints and change
the gabbi tests which count resource classes.

Change-Id: I4a189aca59485d65ad8a7c9bfbeca7ac995ed336
",git fetch https://review.opendev.org/openstack/placement refs/changes/96/632696/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'placement/tests/functional/gabbits/resource-classes.yaml', 'placement/tests/functional/gabbits/resource-classes-policy.yaml']",3,86c461a0cd743f54ba929192d67364ac13b7642b,cd/fixups, $.resource_classes.`len`: 15 # Number of standard resource classes, $.resource_classes.`len`: 14 # Number of standard resource classes,6,6
openstack%2Fopenstack-helm-addons~master~I69aeaaedf1fb7672f7167c83b220cf6abb890cb5,openstack/openstack-helm-addons,master,I69aeaaedf1fb7672f7167c83b220cf6abb890cb5,Add readonly ServiceAccount in Sonobuoy chart,MERGED,2018-10-22 13:35:10.000000000,2019-01-23 16:23:40.000000000,2019-01-23 16:23:40.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 17887}, {'_account_id': 20378}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26815}, {'_account_id': 28701}, {'_account_id': 29441}, {'_account_id': 29585}]","[{'number': 1, 'created': '2018-10-22 13:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/ac829a8cb20575c56272978d442322d56c4bfb57', 'message': 'Add readonly serviceaccount in Sonobuoy chart\n\nChange-Id: I69aeaaedf1fb7672f7167c83b220cf6abb890cb5\n'}, {'number': 2, 'created': '2018-10-22 13:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/9a8ea386476f072124f8603031577f3d3681ff07', 'message': 'Add readonly ServiceAccount in Sonobuoy chart\n\nUsing this readonly ServiceAccount enables plugins\nto use a Kubernetes client with different permissions\nthan the Sonobuoy ServiceAccount, which has full\npermissions on the cluster.\n\nChange-Id: I69aeaaedf1fb7672f7167c83b220cf6abb890cb5\n'}, {'number': 3, 'created': '2019-01-02 14:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/cd32796ff2d0c06a44472322a711038efcb2dc97', 'message': 'Add readonly ServiceAccount in Sonobuoy chart\n\nUsing this readonly ServiceAccount enables plugins\nto use a Kubernetes client with different permissions\nthan the Sonobuoy ServiceAccount, which has full\npermissions on the cluster.\n\nChange-Id: I69aeaaedf1fb7672f7167c83b220cf6abb890cb5\n'}, {'number': 4, 'created': '2019-01-02 18:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/a27a76454f59dd9da3b007426850b1a3a5c3ce55', 'message': 'Add readonly ServiceAccount in Sonobuoy chart\n\nUsing this readonly ServiceAccount enables plugins\nto use a Kubernetes client with different permissions\nthan the Sonobuoy ServiceAccount, which has full\npermissions on the cluster.\n\nThis ServiceAccount enables get/list/watch on all resource types in all\nAPI groups.\n\nChange-Id: I69aeaaedf1fb7672f7167c83b220cf6abb890cb5\n'}, {'number': 5, 'created': '2019-01-03 19:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/822fa19ef0718a50e9a05dd85380975429e26fef', 'message': 'Add readonly ServiceAccount in Sonobuoy chart\n\nUsing this readonly ServiceAccount enables plugins\nto use a Kubernetes client with different permissions\nthan the Sonobuoy ServiceAccount, which has full\npermissions on the cluster.\n\nThis ServiceAccount enables get/list/watch on all resource types in all\nAPI groups.\n\nChange-Id: I69aeaaedf1fb7672f7167c83b220cf6abb890cb5\n'}, {'number': 6, 'created': '2019-01-21 17:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/7278aebdd3a5cfa97ccd43315b4920aaafb0172e', 'message': 'Add readonly ServiceAccount in Sonobuoy chart\n\nUsing this readonly ServiceAccount enables plugins\nto use a Kubernetes client with different permissions\nthan the Sonobuoy ServiceAccount, which has full\npermissions on the cluster.\n\nThis ServiceAccount enables get/list/watch on all resource types in all\nAPI groups.\n\nChange-Id: I69aeaaedf1fb7672f7167c83b220cf6abb890cb5\n'}, {'number': 7, 'created': '2019-01-21 17:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/61051cd8f58e4b767a7fa24488679aa112b1dc48', 'message': ""Add readonly ServiceAccount in Sonobuoy chart\n\nUsing this readonly ServiceAccount enables plugins\nto use a Kubernetes client with different permissions\nthan the Sonobuoy ServiceAccount, which has full\npermissions on the cluster.\n\nThis ServiceAccount enables get/list/watch on all resource types in all\nAPI groups.\n\nThe reason the secret is used to mount the service account token because\nthere is not a way to specify a service account from just a container\nspec [1]. Sonobuoy doesn't provide access to the pod spec for plugins, so\nwe are limited to the container spec.\n\n[1] https://github.com/kubernetes/kubernetes/issues/66020\n\nChange-Id: I69aeaaedf1fb7672f7167c83b220cf6abb890cb5\n""}, {'number': 8, 'created': '2019-01-22 14:26:18.000000000', 'files': ['sonobuoy/values.yaml', 'sonobuoy/templates/serviceaccount-readonly.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/1765e62acb73b542be42d345e11ce71bcb559405', 'message': ""Add readonly ServiceAccount in Sonobuoy chart\n\nUsing this readonly ServiceAccount enables plugins\nto use a Kubernetes client with different permissions\nthan the Sonobuoy ServiceAccount, which has full\npermissions on the cluster.\n\nThis ServiceAccount enables get/list/watch on all resource types in all\nAPI groups.\n\nThe reason the secret is used to mount the service account token because\nthere is not a way to specify a service account from just a container\nspec [1]. Sonobuoy doesn't provide access to the pod spec for plugins,\nso we are limited to the container spec.\n\n[1] https://github.com/kubernetes/kubernetes/issues/66020\n\nChange-Id: I69aeaaedf1fb7672f7167c83b220cf6abb890cb5\n""}]",7,612392,1765e62acb73b542be42d345e11ce71bcb559405,38,13,8,28701,,,0,"Add readonly ServiceAccount in Sonobuoy chart

Using this readonly ServiceAccount enables plugins
to use a Kubernetes client with different permissions
than the Sonobuoy ServiceAccount, which has full
permissions on the cluster.

This ServiceAccount enables get/list/watch on all resource types in all
API groups.

The reason the secret is used to mount the service account token because
there is not a way to specify a service account from just a container
spec [1]. Sonobuoy doesn't provide access to the pod spec for plugins,
so we are limited to the container spec.

[1] https://github.com/kubernetes/kubernetes/issues/66020

Change-Id: I69aeaaedf1fb7672f7167c83b220cf6abb890cb5
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/92/612392/8 && git format-patch -1 --stdout FETCH_HEAD,"['sonobuoy/values.yaml', 'sonobuoy/templates/serviceaccount-readonly.yaml']",2,ac829a8cb20575c56272978d442322d56c4bfb57,,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{/* Enabling this manifest enables the usage of a ServiceAccount with readonly permissions for Sonobuoy plugins that mount the created token. To use this readonly ServiceAccount mount the ServiceAccountToken in `values.yaml` like: ``` conf: plugins: - name: plugin-needing-readonly.yaml data: | sonobuoy-config: driver: Job plugin-name: plugin-needing-readonly result-type: plugin-needing-readonly spec: name: plugin-needing-readonly image: ""plugin-needing-readonly:latest"" imagePullPolicy: ""IfNotPresent"" volumeMounts: - mountPath: /tmp/results name: results readOnly: false - name: readonly-token # It's recommended to use this mountPath to overwrite the # Sonobuoy service account credentials that are mounted # by default in the plugin containers to prevent plugins # from accidentally using credentials with full permissions. mountPath: /var/run/secrets/kubernetes.io/serviceaccount extra-volumes: - name: readonly-token secret: secretName: sonobuoy-readonly-serviceaccount-token-secret ``` After mounting the readonly token, the example at https://github.com/kubernetes-client/python/tree/3fb2be14e18d84edef094bbd908b6bb3e39aafe6#example may be referenced to list pods, etc. */}} {{- if .Values.manifests.serviceaccount_readonly }} {{- $envAll := . }} {{- $serviceAccountName := ""sonobuoy-readonly-serviceaccount"" }} {{ tuple $envAll ""sonobuoy"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRole metadata: name: sonobuoy-readonly-clusterrole rules: - apiGroups: - """" resources: - ""pods"" verbs: - ""get"" - ""list"" --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRoleBinding metadata: name: sonobuoy-readonly-clusterrolebinding roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: sonobuoy-readonly-clusterrole subjects: - kind: ServiceAccount name: {{ $serviceAccountName }} namespace: {{ .Release.Namespace }} --- apiVersion: v1 kind: Secret type: kubernetes.io/service-account-token metadata: name: {{ $serviceAccountName }}-token-secret namespace: {{ .Release.Namespace }} annotations: kubernetes.io/service-account.name: {{ $serviceAccountName }} {{/* post-install hook is required to cause ServiceAccount to be deployed before creating a secret token for it. By default helm deploys secrets before ServiceAccounts which causes this secret to not exist since the ServiceAccount is missing. */}} ""helm.sh/hook"": ""post-install"" --- {{- end }} ",,108,0
openstack%2Fnetworking-ovn~master~If063cd71e6f807a3a16974d04f0a0a0163078b9a,openstack/networking-ovn,master,If063cd71e6f807a3a16974d04f0a0a0163078b9a,Add missing ws seperator between words,MERGED,2019-01-23 09:30:24.000000000,2019-01-23 16:13:39.000000000,2019-01-23 16:13:39.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-01-23 09:30:24.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5970a9b65b9b4606271f9afd43b60ec9a247f3f7', 'message': 'Add missing ws seperator between words\n\nThis is to add missing ws seperator between words.\n\nChange-Id: If063cd71e6f807a3a16974d04f0a0a0163078b9a\n'}]",0,632670,5970a9b65b9b4606271f9afd43b60ec9a247f3f7,7,3,1,20190,,,0,"Add missing ws seperator between words

This is to add missing ws seperator between words.

Change-Id: If063cd71e6f807a3a16974d04f0a0a0163078b9a
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/70/632670/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/ml2/mech_driver.py']",2,5970a9b65b9b4606271f9afd43b60ec9a247f3f7,missing_ws," LOG.debug(""Refusing to bind port due to unsupported vnic_type: %s """," LOG.debug(""Refusing to bind port due to unsupported vnic_type: %s""",2,2
openstack%2Fopenstackdocstheme~master~Ia1aebbe1d2f6dfeab4d16fd7f040609ac5c6a1d4,openstack/openstackdocstheme,master,Ia1aebbe1d2f6dfeab4d16fd7f040609ac5c6a1d4,show other versions by default,ABANDONED,2017-07-31 15:20:41.000000000,2019-01-23 16:10:31.000000000,,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 10607}]","[{'number': 1, 'created': '2017-07-31 15:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/240ecfc11833b09569d8d90aefd6d4890bb69c90', 'message': 'show other versions by default\n\nChange the default for the flag controlling whether or not to show\nother versions so that we do by default.\n\nChange-Id: Ia1aebbe1d2f6dfeab4d16fd7f040609ac5c6a1d4\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 15:32:31.000000000', 'files': ['openstackdocstheme/__init__.py', 'doc/source/index.rst', 'openstackdocstheme/theme/openstackdocs/theme.conf'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/fbe3c0c6da9c99d9eec50dd4748f55ced52aa27c', 'message': 'show other versions by default\n\nChange the default for the flag controlling whether or not to show\nother versions so that we do by default.\n\nChange-Id: Ia1aebbe1d2f6dfeab4d16fd7f040609ac5c6a1d4\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",2,489253,fbe3c0c6da9c99d9eec50dd4748f55ced52aa27c,9,4,2,2472,,,0,"show other versions by default

Change the default for the flag controlling whether or not to show
other versions so that we do by default.

Change-Id: Ia1aebbe1d2f6dfeab4d16fd7f040609ac5c6a1d4
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/53/489253/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackdocstheme/__init__.py', 'doc/source/index.rst', 'openstackdocstheme/theme/openstackdocs/theme.conf']",3,240ecfc11833b09569d8d90aefd6d4890bb69c90,link-to-series,show_other_versions = True,show_other_versions = False,7,7
openstack%2Fansible-role-systemd_service~stable%2Frocky~I504a8270be1ddf2f24ab3ad3b4f2f4ca9c990470,openstack/ansible-role-systemd_service,stable/rocky,I504a8270be1ddf2f24ab3ad3b4f2f4ca9c990470,Add an option to configure a service environment,MERGED,2019-01-23 15:26:04.000000000,2019-01-23 16:10:09.000000000,2019-01-23 16:10:09.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 28331}]","[{'number': 1, 'created': '2019-01-23 15:26:04.000000000', 'files': ['templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/58940f5fdd50d17666ca569c53056cef305acb87', 'message': ""Add an option to configure a service environment\n\nUsecase:\n\nneutron-l3-agent ships a helper script within it's\ndeployment [1]. neutron-l3-agent expects the script\nin it's current path, which may be not always the case [2].\nThis addition provides OSA the possibility to customize the\npath.\n\n[1] https://github.com/openstack/neutron/blob/a388701ddfe628e9a5bd16a78422164799b11ef8/neutron/agent/l3/ha.py#L68\n[2] https://bugs.launchpad.net/openstack-ansible/+bug/1782195\n\nChange-Id: I504a8270be1ddf2f24ab3ad3b4f2f4ca9c990470\n(cherry picked from commit b2063bb703e9957c29991adce15dbfdaccd6fd9a)\n""}]",0,632754,58940f5fdd50d17666ca569c53056cef305acb87,6,3,1,6816,,,0,"Add an option to configure a service environment

Usecase:

neutron-l3-agent ships a helper script within it's
deployment [1]. neutron-l3-agent expects the script
in it's current path, which may be not always the case [2].
This addition provides OSA the possibility to customize the
path.

[1] https://github.com/openstack/neutron/blob/a388701ddfe628e9a5bd16a78422164799b11ef8/neutron/agent/l3/ha.py#L68
[2] https://bugs.launchpad.net/openstack-ansible/+bug/1782195

Change-Id: I504a8270be1ddf2f24ab3ad3b4f2f4ca9c990470
(cherry picked from commit b2063bb703e9957c29991adce15dbfdaccd6fd9a)
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/54/632754/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/systemd-service.j2'],1,58940f5fdd50d17666ca569c53056cef305acb87,add-environment-option-stable/rocky,"{% if item.environment is defined %} {% for key, value in item.environment.items() | default({}) %} Environment=""{{ key }}={{ value }}"" {% endfor %} {% endif %} ",,6,0
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Frocky~I1cc33a7647445cd2302e6ea6b9d78005262ebfa3,openstack/openstack-ansible-lxc_hosts,stable/rocky,I1cc33a7647445cd2302e6ea6b9d78005262ebfa3,Use libeatmydata during LXC cache prep,MERGED,2019-01-21 15:56:23.000000000,2019-01-23 16:05:01.000000000,2019-01-23 16:05:01.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-21 15:56:23.000000000', 'files': ['templates/prep-scripts/ubuntu_18_prep.sh.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ed7072da96ee21f0263f0b81aaf7c6ec7c9905c0', 'message': 'Use libeatmydata during LXC cache prep\n\nThe LXC cache prep is timing out regularly so use eatmydata to minimise\npressure on the filesystem during package installation.\n\ndpkg calls fsync for each file installed from each package which can\nresult in very poor performance on some filesystems. This patch gives\naround a 4x improvement in ""slow"" gate runs, and 2x on esxi hdd storage.\n\nChange-Id: I1cc33a7647445cd2302e6ea6b9d78005262ebfa3\n(cherry picked from commit 4d9491b83ad49ef84a3ff4719aca37b44cf54b08)\n'}]",0,632118,ed7072da96ee21f0263f0b81aaf7c6ec7c9905c0,7,3,1,25023,,,0,"Use libeatmydata during LXC cache prep

The LXC cache prep is timing out regularly so use eatmydata to minimise
pressure on the filesystem during package installation.

dpkg calls fsync for each file installed from each package which can
result in very poor performance on some filesystems. This patch gives
around a 4x improvement in ""slow"" gate runs, and 2x on esxi hdd storage.

Change-Id: I1cc33a7647445cd2302e6ea6b9d78005262ebfa3
(cherry picked from commit 4d9491b83ad49ef84a3ff4719aca37b44cf54b08)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/18/632118/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/prep-scripts/ubuntu_18_prep.sh.j2'],1,ed7072da96ee21f0263f0b81aaf7c6ec7c9905c0,," apt-get install -y -o Dpkg::Options::=""--force-confdef"" -o Dpkg::Options::=""--force-confold"" --force-yes eatmydata export LD_PRELOAD=/usr/lib/{{ ansible_architecture }}-linux-gnu/libeatmydata.so apt-get install -y -o Dpkg::Options::=""--force-confdef"" -o Dpkg::Options::=""--force-confold"" --force-yes gnupg","apt-get install -y -o Dpkg::Options::=""--force-confdef"" -o Dpkg::Options::=""--force-confold"" --force-yes gnupg ",4,1
openstack%2Fkeystone~master~Ifc100a7a235140fbd07cbafe80983d3c2f17a7dc,openstack/keystone,master,Ifc100a7a235140fbd07cbafe80983d3c2f17a7dc,Allow project users to retrieve domains,MERGED,2018-09-27 22:06:27.000000000,2019-01-23 15:59:50.000000000,2019-01-23 15:59:50.000000000,"[{'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 7725}, {'_account_id': 8482}, {'_account_id': 8871}, {'_account_id': 11022}, {'_account_id': 11589}, {'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-27 22:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a291c240aa91048a177018a1c4a5ea714372efb1', 'message': ""Allow project users to retrieve domains\n\nThis commit adds thorough testing to make sure users who have a role\non a project can use project-scoped tokens to call GET\n/v3/domain/{domain_id} for the domain own their project. These users\nare not allowed to access domains that they don't have any\nauthorization via project role assignments.\n\nThis ensures the domains API is tested with these cases and makes the\ndomains API more self-serviceable for users that are not\nadministrators.\n\nChange-Id: Ifc100a7a235140fbd07cbafe80983d3c2f17a7dc\nCloses-Bug: 1794376\nCloses-Bug: 1794864\nRelated-Bug: 968696\n""}, {'number': 2, 'created': '2018-09-28 19:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d7b6dcedde717ff6ef74aaf7b4318e7958a800d5', 'message': ""Allow project users to retrieve domains\n\nThis commit adds thorough testing to make sure users who have a role\non a project can use project-scoped tokens to call GET\n/v3/domain/{domain_id} for the domain own their project. These users\nare not allowed to access domains that they don't have any\nauthorization via project role assignments.\n\nThis ensures the domains API is tested with these cases and makes the\ndomains API more self-serviceable for users that are not\nadministrators.\n\nChange-Id: Ifc100a7a235140fbd07cbafe80983d3c2f17a7dc\nCloses-Bug: 1794376\nCloses-Bug: 1794864\nRelated-Bug: 968696\n""}, {'number': 3, 'created': '2018-10-12 19:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cbd2ad7c1d7c5f61dae897450633a65c00e670a8', 'message': ""Allow project users to retrieve domains\n\nThis commit adds thorough testing to make sure users who have a role\non a project can use project-scoped tokens to call GET\n/v3/domain/{domain_id} for the domain own their project. These users\nare not allowed to access domains that they don't have any\nauthorization via project role assignments.\n\nThis ensures the domains API is tested with these cases and makes the\ndomains API more self-serviceable for users that are not\nadministrators.\n\nChange-Id: Ifc100a7a235140fbd07cbafe80983d3c2f17a7dc\nCloses-Bug: 1794376\nCloses-Bug: 1794864\nRelated-Bug: 968696\n""}, {'number': 4, 'created': '2018-11-20 18:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/99ce50f6d806be73bdf38ad6b15e1ef0cb6ceb08', 'message': ""Allow project users to retrieve domains\n\nThis commit adds thorough testing to make sure users who have a role\non a project can use project-scoped tokens to call GET\n/v3/domain/{domain_id} for the domain own their project. These users\nare not allowed to access domains that they don't have any\nauthorization via project role assignments.\n\nThis ensures the domains API is tested with these cases and makes the\ndomains API more self-serviceable for users that are not\nadministrators.\n\nChange-Id: Ifc100a7a235140fbd07cbafe80983d3c2f17a7dc\nCloses-Bug: 1794376\nCloses-Bug: 1794864\nRelated-Bug: 968696\n""}, {'number': 5, 'created': '2018-11-28 15:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2ec8b6dae6499c7af343c5de16cca4e27cdbd962', 'message': ""Allow project users to retrieve domains\n\nThis commit adds thorough testing to make sure users who have a role\non a project can use project-scoped tokens to call GET\n/v3/domain/{domain_id} for the domain own their project. These users\nare not allowed to access domains that they don't have any\nauthorization via project role assignments.\n\nThis ensures the domains API is tested with these cases and makes the\ndomains API more self-serviceable for users that are not\nadministrators.\n\nChange-Id: Ifc100a7a235140fbd07cbafe80983d3c2f17a7dc\nCloses-Bug: 1794376\nCloses-Bug: 1794864\nRelated-Bug: 968696\n""}, {'number': 6, 'created': '2018-12-05 22:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ff2a9d97d3b40832d04067b85133ef0db8010b84', 'message': ""Allow project users to retrieve domains\n\nThis commit adds thorough testing to make sure users who have a role\non a project can use project-scoped tokens to call GET\n/v3/domain/{domain_id} for the domain own their project. These users\nare not allowed to access domains that they don't have any\nauthorization via project role assignments.\n\nThis ensures the domains API is tested with these cases and makes the\ndomains API more self-serviceable for users that are not\nadministrators.\n\nChange-Id: Ifc100a7a235140fbd07cbafe80983d3c2f17a7dc\nCloses-Bug: 1794864\nRelated-Bug: 968696\n""}, {'number': 7, 'created': '2018-12-06 21:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ba341ea560711dca9489cf49c19ff32a054edb32', 'message': ""Allow project users to retrieve domains\n\nThis commit adds thorough testing to make sure users who have a role\non a project can use project-scoped tokens to call GET\n/v3/domain/{domain_id} for the domain own their project. These users\nare not allowed to access domains that they don't have any\nauthorization via project role assignments.\n\nThis ensures the domains API is tested with these cases and makes the\ndomains API more self-serviceable for users that are not\nadministrators.\n\nChange-Id: Ifc100a7a235140fbd07cbafe80983d3c2f17a7dc\nCloses-Bug: 1794864\nRelated-Bug: 968696\n""}, {'number': 8, 'created': '2018-12-10 22:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/90e2041aca821310bdec6363197ffcb76f290030', 'message': ""Allow project users to retrieve domains\n\nThis commit adds thorough testing to make sure users who have a role\non a project can use project-scoped tokens to call GET\n/v3/domain/{domain_id} for the domain own their project. These users\nare not allowed to access domains that they don't have any\nauthorization via project role assignments.\n\nThis ensures the domains API is tested with these cases and makes the\ndomains API more self-serviceable for users that are not\nadministrators.\n\nChange-Id: Ifc100a7a235140fbd07cbafe80983d3c2f17a7dc\nCloses-Bug: 1794864\nRelated-Bug: 968696\n""}, {'number': 9, 'created': '2019-01-11 20:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/64fb2dbd9b1e679622e6a7a344d2d095d8c91998', 'message': ""Allow project users to retrieve domains\n\nThis commit adds thorough testing to make sure users who have a role\non a project can use project-scoped tokens to call GET\n/v3/domain/{domain_id} for the domain own their project. These users\nare not allowed to access domains that they don't have any\nauthorization via project role assignments.\n\nThis ensures the domains API is tested with these cases and makes the\ndomains API more self-serviceable for users that are not\nadministrators.\n\nChange-Id: Ifc100a7a235140fbd07cbafe80983d3c2f17a7dc\nCloses-Bug: 1794864\nRelated-Bug: 968696\n""}, {'number': 10, 'created': '2019-01-21 20:50:02.000000000', 'files': ['keystone/common/policies/domain.py', 'keystone/tests/unit/protection/v3/test_domains.py', 'releasenotes/notes/bug-1794864-3116bf165a146be6.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2c8f81af62cd03601fca259647991d5dd7f8d560', 'message': ""Allow project users to retrieve domains\n\nThis commit adds thorough testing to make sure users who have a role\non a project can use project-scoped tokens to call GET\n/v3/domain/{domain_id} for the domain own their project. These users\nare not allowed to access domains that they don't have any\nauthorization via project role assignments.\n\nThis ensures the domains API is tested with these cases and makes the\ndomains API more self-serviceable for users that are not\nadministrators.\n\nChange-Id: Ifc100a7a235140fbd07cbafe80983d3c2f17a7dc\nCloses-Bug: 1794864\nRelated-Bug: 968696\n""}]",4,605871,2c8f81af62cd03601fca259647991d5dd7f8d560,46,14,10,5046,,,0,"Allow project users to retrieve domains

This commit adds thorough testing to make sure users who have a role
on a project can use project-scoped tokens to call GET
/v3/domain/{domain_id} for the domain own their project. These users
are not allowed to access domains that they don't have any
authorization via project role assignments.

This ensures the domains API is tested with these cases and makes the
domains API more self-serviceable for users that are not
administrators.

Change-Id: Ifc100a7a235140fbd07cbafe80983d3c2f17a7dc
Closes-Bug: 1794864
Related-Bug: 968696
",git fetch https://review.opendev.org/openstack/keystone refs/changes/71/605871/8 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/policies/domain.py', 'keystone/tests/unit/protection/v3/test_domains.py', 'releasenotes/notes/bug-1794864-3116bf165a146be6.yaml']",3,a291c240aa91048a177018a1c4a5ea714372efb1,bug/1806762,"--- upgrade: - | [`bug 1794864 <https://bugs.launchpad.net/keystone/+bug/1794864>`_] [`bug 1794376 <https://bugs.launchpad.net/keystone/+bug/1794376>`_] The default policies that protect the domains API have been deprecated in favor of ones that are more secure and self-serviceable. If you're maintaining custom policies, please make sure you resolve your domain policies to work with the new default by adding the proper role assignments, or continue maintaining custom overrides. The new defaults allow for better protection of the domains API when giving the `admin` role to users on domains and projects. deprecations: - | [`bug 1794864 <https://bugs.launchpad.net/keystone/+bug/1794864>`_] [`bug 1794376 <https://bugs.launchpad.net/keystone/+bug/1794376>`_] The default policies that protect the domains API have been deprecated in favor of ones that are more secure and self-serviceable. If you're maintaining custom policies, please make sure you resolve your domain policies to work with the new default by adding the proper role assignments, or continue maintaining custom overrides. The new defaults allow for better protection of the domains API when giving the `admin` role to users on domains and projects. security: - | [`bug 1794864 <https://bugs.launchpad.net/keystone/+bug/1794864>`_] [`bug 1794376 <https://bugs.launchpad.net/keystone/+bug/1794376>`_] The default policies that protect the domains API have been deprecated in favor of ones that are more secure and self-serviceable. fixes: - | [`bug 1794864 <https://bugs.launchpad.net/keystone/+bug/1794864>`_] [`bug 1794376 <https://bugs.launchpad.net/keystone/+bug/1794376>`_] The default policies that protect the domains API have been deprecated in favor of ones that are more secure and self-serviceable. Users with roles on domains and projects are now able to call the ``GET /v3/domains/{domain_id}`` API if they use a token scoped to that domain or a token scoped to a project within that domain. System users are allowed to access the domain APIs in the same way legacy `admin` users were able to. This allows for better protection of the domain API when giving the `admin` role to users on domains and projects. ",,298,5
openstack%2Fneutron-vpnaas~stable%2Frocky~I6fa2ee73c87252c4e9bf519db72b491d2eef6ee0,openstack/neutron-vpnaas,stable/rocky,I6fa2ee73c87252c4e9bf519db72b491d2eef6ee0,Upper-constrain neutron to stable/rocky,MERGED,2019-01-15 17:51:18.000000000,2019-01-23 15:57:25.000000000,2019-01-23 15:57:25.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-15 17:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/4cad00419b101ea96eb48fd8bea45dbd0381da4f', 'message': 'Do not allow pre-release version of neutron\n\nIn stable/rocky if the requirements.txt contains 13.0.0.0b2, then it\nallows to pick up pre-releases of neutron (now, 14.0.0.0b1) instead\nof latest stable on rocky (13.0.2).\n\nHowever this might come up again when there will be a 14.0.0 stable\nversion.\n\nAlso adapt lower constraints to match with newer neutron requirements.\n\nChange-Id: I6fa2ee73c87252c4e9bf519db72b491d2eef6ee0\n'}, {'number': 2, 'created': '2019-01-17 14:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/7a1a6ffa310e69518d793973a9423065e17f5286', 'message': 'Upper-constrain neutron to stable/rocky\n\nIf neutron version is not restricted to stable/rocky then pip would\ninstall latest master, which causes conflicts in test runs [1].\n\nOne thing that could mitigate this problem would be to import neutron_lib\ninstead of neutron (as service). neutron_lib is introduced exactly to\nsolve this kind of problems. See details [2] from Requirements team.\n\n[1] http://logs.openstack.org/periodic-stable/git.openstack.org/openstack/neutron-vpnaas/stable/rocky/openstack-tox-py27/9dfad8d/job-output.txt.gz#_2019-01-17_06_09_59_013454\n[2] https://etherpad.openstack.org/p/requirements-libs\n\nChange-Id: I6fa2ee73c87252c4e9bf519db72b491d2eef6ee0\n'}, {'number': 3, 'created': '2019-01-17 15:20:13.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/b72e0f127047b991cd6b20801ebba7a0f99729a8', 'message': 'Upper-constrain neutron to stable/rocky\n\nIf neutron version is not restricted to stable/rocky then pip would\ninstall latest master, which causes conflicts in test runs [1].\n\nOne thing that could mitigate this problem would be to import neutron_lib\ninstead of neutron (as service). neutron_lib is introduced exactly to\nsolve this kind of problems. See details [2] from Requirements team.\n\nLower constraints also updated.\n\n[1] http://logs.openstack.org/periodic-stable/git.openstack.org/openstack/neutron-vpnaas/stable/rocky/openstack-tox-py27/9dfad8d/job-output.txt.gz#_2019-01-17_06_09_59_013454\n[2] https://etherpad.openstack.org/p/requirements-libs\n\nChange-Id: I6fa2ee73c87252c4e9bf519db72b491d2eef6ee0\n'}]",0,631036,b72e0f127047b991cd6b20801ebba7a0f99729a8,15,8,3,17685,,,0,"Upper-constrain neutron to stable/rocky

If neutron version is not restricted to stable/rocky then pip would
install latest master, which causes conflicts in test runs [1].

One thing that could mitigate this problem would be to import neutron_lib
instead of neutron (as service). neutron_lib is introduced exactly to
solve this kind of problems. See details [2] from Requirements team.

Lower constraints also updated.

[1] http://logs.openstack.org/periodic-stable/git.openstack.org/openstack/neutron-vpnaas/stable/rocky/openstack-tox-py27/9dfad8d/job-output.txt.gz#_2019-01-17_06_09_59_013454
[2] https://etherpad.openstack.org/p/requirements-libs

Change-Id: I6fa2ee73c87252c4e9bf519db72b491d2eef6ee0
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/36/631036/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,4cad00419b101ea96eb48fd8bea45dbd0381da4f,fix-stable-use-neutron-from-stable-rocky,neutron==13.0.0pecan==1.1.1ryu==4.24,neutron==13.0.0.0b2pecan==1.0.0ryu==4.14,4,4
openstack%2Fopenstack-helm-infra~master~I24c6e1a82b80a52f235124c448800f332d544fff,openstack/openstack-helm-infra,master,I24c6e1a82b80a52f235124c448800f332d544fff,[CEPH]Implement Liveness and Readiness Probe for ceph-rbd-privisioner,ABANDONED,2019-01-10 23:20:57.000000000,2019-01-23 15:57:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 22713}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29268}]","[{'number': 1, 'created': '2019-01-10 23:20:57.000000000', 'files': ['ceph-provisioners/templates/bin/provisioner/rbd/_rbd-check.sh.tpl', 'ceph-provisioners/templates/configmap-bin.yaml', 'ceph-provisioners/templates/deployment-rbd-provisioner.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/735790809b4193eb010aa574940ed4cf9d31c251', 'message': '[CEPH]Implement Liveness and Readiness Probe for ceph-rbd-privisioner\n\nChange-Id: I24c6e1a82b80a52f235124c448800f332d544fff\n'}]",0,629948,735790809b4193eb010aa574940ed4cf9d31c251,4,5,1,29132,,,0,"[CEPH]Implement Liveness and Readiness Probe for ceph-rbd-privisioner

Change-Id: I24c6e1a82b80a52f235124c448800f332d544fff
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/48/629948/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-provisioners/templates/bin/provisioner/rbd/_rbd-check.sh.tpl', 'ceph-provisioners/templates/configmap-bin.yaml', 'ceph-provisioners/templates/deployment-rbd-provisioner.yaml']",3,735790809b4193eb010aa574940ed4cf9d31c251,, livenessProbe: exec: command: - /tmp/rbd-check.sh - liveness initialDelaySeconds: 360 periodSeconds: 180 readinessProbe: exec: command: - /tmp/rbd-check.sh - readiness initialDelaySeconds: 60 periodSeconds: 60 - name: ceph-provisioners-bin mountPath: /tmp/rbd-check.sh subPath: rbd-check.sh readOnly: true,,62,0
openstack%2Fhorizon~master~Ida79b5064c2457afc15db6e63a45478d711e02b5,openstack/horizon,master,Ida79b5064c2457afc15db6e63a45478d711e02b5,Add non-voting integration tests job,MERGED,2018-07-05 18:55:22.000000000,2019-01-23 15:52:36.000000000,2019-01-23 15:52:36.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 27336}]","[{'number': 1, 'created': '2018-07-05 18:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c2c545313163d3c44e19a26c21beaf837affc065', 'message': 'WIP. Integration tests job\n\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 2, 'created': '2018-07-05 18:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dca3ae9e1622d4aefdf3f0124c5a42745222fbe7', 'message': 'WIP. Integration tests job\n\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 3, 'created': '2018-07-05 18:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/52457c8f7b3c33c624fc9c2207e5ec1aad69560d', 'message': 'WIP. Integration tests job\n\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 4, 'created': '2018-07-07 09:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/93a424906182238e4fa6e296f5d9c1794bb8b8bf', 'message': 'WIP. Integration tests job\n\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 5, 'created': '2018-07-07 11:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/00b8363dd043b2ca4626505b446e227f8c0c031f', 'message': 'WIP. Integration tests job\n\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 6, 'created': '2018-07-08 09:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/512e28bb6a0e8694a61029a55dd291a6ef05c673', 'message': 'WIP. Integration tests job\n\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 7, 'created': '2018-07-08 09:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0f34e3e240e7388defb503935bcac930e3c9d4ba', 'message': 'WIP. Integration tests job\n\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 8, 'created': '2018-07-08 13:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e92bb2f826428369fbcb13bc92cd32dd61c19fb8', 'message': 'WIP. Integration tests job\n\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 9, 'created': '2018-09-10 21:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/efe8c07d7b0ecbff6bec859541ecd4ee8ad5a939', 'message': 'WIP. Integration tests job\n\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 10, 'created': '2018-09-11 20:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/24083ee38c8083c2826374861da2831f5fb3128b', 'message': 'WIP. Integration tests job\n\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 11, 'created': '2018-09-11 20:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/69dbc2d3f9f582c1952a69d12db7a7f1aecc33d3', 'message': 'Add non-voting integration tests job\n\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 12, 'created': '2018-12-03 10:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/da4201072e8572fd5103970bdefacdb0f7f9e682', 'message': 'Add non-voting integration tests job\n\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 13, 'created': '2018-12-03 11:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1f9aa467c222a202d356f184b992fa6d64bafc2f', 'message': 'Add non-voting integration tests job\n\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 14, 'created': '2018-12-04 14:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4635871865dcd719cebb5bec4244df8b8ebbfe37', 'message': 'Add non-voting integration tests job\n\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 15, 'created': '2019-01-18 14:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4a12c7dfa5266e165cf2f01f4bf7e4039686efb9', 'message': 'Add non-voting integration tests job\n\nThi patch skip integration tests which fails on gates until specified\nbug will be resolved.\n\nRelated-Bug: #1792028\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 16, 'created': '2019-01-18 16:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/01734a4cf0f86d4114e4bae8176026ac212dddea', 'message': 'Add non-voting integration tests job\n\nThi patch skip integration tests which fails on gates until specified\nbug will be resolved.\n\nRelated-Bug: #1792028\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n'}, {'number': 17, 'created': '2019-01-18 19:50:56.000000000', 'files': ['playbooks/horizon-devstack-integration/pre.yaml', 'playbooks/horizon-devstack-integration/run.yaml', 'playbooks/horizon-devstack-integration/post.yaml', '.zuul.yaml', 'openstack_dashboard/test/integration_tests/tests/test_credentials.py', 'openstack_dashboard/test/integration_tests/tests/test_security_groups.py', 'openstack_dashboard/test/integration_tests/tests/test_volume_snapshots.py', 'openstack_dashboard/test/integration_tests/tests/test_volumes.py', 'openstack_dashboard/test/integration_tests/tests/test_router.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0c8de3eb4c2b9bd1828c1e052f4f28e9f4dcd09f', 'message': ""Add non-voting integration tests job\n\nThi patch skip integration tests which fails on gates until specified\nbug will be resolved.\n\n@decorators.skip_because doesn't work somewhy so I used unittest.skip\ninstead of it. I'll fix skip_because decorator in a follow up patch.\n\nRelated-Bug: #1792028\nChange-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5\n""}]",3,580469,0c8de3eb4c2b9bd1828c1e052f4f28e9f4dcd09f,59,5,17,1736,,,0,"Add non-voting integration tests job

Thi patch skip integration tests which fails on gates until specified
bug will be resolved.

@decorators.skip_because doesn't work somewhy so I used unittest.skip
instead of it. I'll fix skip_because decorator in a follow up patch.

Related-Bug: #1792028
Change-Id: Ida79b5064c2457afc15db6e63a45478d711e02b5
",git fetch https://review.opendev.org/openstack/horizon refs/changes/69/580469/17 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c2c545313163d3c44e19a26c21beaf837affc065,bug/1792028, name: horizon-integration-tests parent: horizon-selenium-headless var: tox_envlist: py27integration - job:# - horizon-openstack-tox-python3-django111 # - horizon-selenium-headless: # voting: false - horizon-integration-tests:# - horizon-dsvm-tempest-plugin # - openstack-tox-lower-constraints, - horizon-openstack-tox-python3-django111 - horizon-selenium-headless: - horizon-dsvm-tempest-plugin - openstack-tox-lower-constraints,11,4
openstack%2Fpython-barbicanclient~master~I5c270d74cb09e90b8a98fd8febf587b98db2306f,openstack/python-barbicanclient,master,I5c270d74cb09e90b8a98fd8febf587b98db2306f,Supress client debug messages,MERGED,2018-03-16 09:15:24.000000000,2019-01-23 15:47:55.000000000,2018-04-10 17:15:14.000000000,"[{'_account_id': 1091}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 21797}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 09:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/88c61298fddde8b787d6952e7c3d66fe88ace247', 'message': 'Supress client debug messages\n\nChange-Id: I5c270d74cb09e90b8a98fd8febf587b98db2306f\nCloses-bug: #1681966\n'}, {'number': 2, 'created': '2018-03-19 02:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/f40361c381c09f095685b2676fe4a2657648a6d8', 'message': 'Supress client debug messages\n\ncliff sets log level to DEBUG in `run` function [1], need to overwrite\nthis configuration to depress DEBUG messages. This patch adds such\nconfiguration in `prepare_to_run_command` function which will be called\nby cliff after it sets log level to DEBUG [2][3].\n\n[1] https://github.com/openstack/cliff/blob/master/cliff/app.py#L248\n[2] https://github.com/openstack/cliff/blob/master/cliff/app.py#L279\n[3] https://github.com/openstack/cliff/blob/master/cliff/app.py#L393\n\nChange-Id: I5c270d74cb09e90b8a98fd8febf587b98db2306f\nCloses-bug: #1681966\n'}, {'number': 3, 'created': '2018-03-19 08:20:44.000000000', 'files': ['barbicanclient/barbican.py'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/a6ac975f7786052c73fb970c0420d956b2852e6e', 'message': 'Supress client debug messages\n\ncliff sets log level to DEBUG in `run` function [1], need to overwrite\nthis configuration to depress DEBUG messages. This patch adds such\nconfiguration in `prepare_to_run_command` function which will be called\nby cliff after it sets log level to DEBUG [2][3].\n\n[1] https://github.com/openstack/cliff/blob/master/cliff/app.py#L248\n[2] https://github.com/openstack/cliff/blob/master/cliff/app.py#L279\n[3] https://github.com/openstack/cliff/blob/master/cliff/app.py#L393\n\nChange-Id: I5c270d74cb09e90b8a98fd8febf587b98db2306f\nCloses-bug: #1681966\n'}]",3,553722,a6ac975f7786052c73fb970c0420d956b2852e6e,19,6,3,21797,,,0,"Supress client debug messages

cliff sets log level to DEBUG in `run` function [1], need to overwrite
this configuration to depress DEBUG messages. This patch adds such
configuration in `prepare_to_run_command` function which will be called
by cliff after it sets log level to DEBUG [2][3].

[1] https://github.com/openstack/cliff/blob/master/cliff/app.py#L248
[2] https://github.com/openstack/cliff/blob/master/cliff/app.py#L279
[3] https://github.com/openstack/cliff/blob/master/cliff/app.py#L393

Change-Id: I5c270d74cb09e90b8a98fd8febf587b98db2306f
Closes-bug: #1681966
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/22/553722/2 && git format-patch -1 --stdout FETCH_HEAD,['barbicanclient/barbican.py'],1,88c61298fddde8b787d6952e7c3d66fe88ace247,bug/1681966," print(_LW(""This Barbican CLI interface has been deprecated and "" ""will be removed in the O release. Please use the "" ""openstack unified client instead.""))","import loggingLOG = logging.getLogger(__name__) logging.basicConfig() LOG.warning(_LW(""This Barbican CLI interface has been deprecated and "" ""will be removed in the O release. Please use the "" ""openstack unified client instead.""))",3,8
openstack%2Freleases~master~I1b82857e0c2eb6dfc2aecd6765fc4729bf77ef61,openstack/releases,master,I1b82857e0c2eb6dfc2aecd6765fc4729bf77ef61,release os-vif 1.14.0,MERGED,2019-01-18 18:19:10.000000000,2019-01-23 15:47:35.000000000,2019-01-23 15:47:35.000000000,"[{'_account_id': 4690}, {'_account_id': 6773}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 11082}, {'_account_id': 11604}, {'_account_id': 11904}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 25733}]","[{'number': 1, 'created': '2019-01-18 18:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0c9c83c32184c6c8f96f7971227350cba561c118', 'message': 'release os-vif 1.14.0\n\n - os-vif 1.13.0 intoduced a regression where\n   both os-vif and libvirt plugged the vif into\n   ovs in an attempt to fix bug #1734320.\n - This release revert that behavior and\n   include some other minor fixes.\n - This change include extentions to enable\n   generic-os-vif-offloads for vrouter. As\n   such the version is increased to 1.14.0\n   instead of 1.13.2\n\nChange-Id: I1b82857e0c2eb6dfc2aecd6765fc4729bf77ef61\n'}, {'number': 2, 'created': '2019-01-18 20:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9b448cdbdc1d5e28301fb8740da905641199ecb9', 'message': 'release os-vif 1.14.0\n\n - os-vif 1.13.0 intoduced a regression where\n   both os-vif and libvirt plugged the vif into\n   ovs in an attempt to fix bug #1734320.\n - This release revert that behavior and\n   include some other minor fixes.\n - This change include extentions to enable\n   generic-os-vif-offloads for vrouter. As\n   such the version is increased to 1.14.0\n   instead of 1.13.2\n\nChange-Id: I1b82857e0c2eb6dfc2aecd6765fc4729bf77ef61\nDepends-On: https://review.openstack.org/#/c/629025\n'}, {'number': 3, 'created': '2019-01-23 00:37:49.000000000', 'files': ['deliverables/stein/os-vif.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c99265cbc357cc92f94ab0c9bf0a087f23822a0c', 'message': 'release os-vif 1.14.0\n\n - os-vif 1.13.0 intoduced a regression where\n   both os-vif and libvirt plugged the vif into\n   ovs in an attempt to fix bug #1734320.\n - This release revert that behavior and\n   include some other minor fixes.\n - This change include extentions to enable\n   generic-os-vif-offloads for vrouter. As\n   such the version is increased to 1.14.0\n   instead of 1.13.2\n\nChange-Id: I1b82857e0c2eb6dfc2aecd6765fc4729bf77ef61\nDepends-On: https://review.openstack.org/#/c/629025\n'}]",2,631860,c99265cbc357cc92f94ab0c9bf0a087f23822a0c,24,11,3,11604,,,0,"release os-vif 1.14.0

 - os-vif 1.13.0 intoduced a regression where
   both os-vif and libvirt plugged the vif into
   ovs in an attempt to fix bug #1734320.
 - This release revert that behavior and
   include some other minor fixes.
 - This change include extentions to enable
   generic-os-vif-offloads for vrouter. As
   such the version is increased to 1.14.0
   instead of 1.13.2

Change-Id: I1b82857e0c2eb6dfc2aecd6765fc4729bf77ef61
Depends-On: https://review.openstack.org/#/c/629025
",git fetch https://review.opendev.org/openstack/releases refs/changes/60/631860/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/os-vif.yaml'],1,0c9c83c32184c6c8f96f7971227350cba561c118,bug/1734320, - projects: - hash: b86435aaa7d57eff8580fa1ac3ed528ea7f837ee repo: openstack/os-vif version: 1.14.0,,4,0
openstack%2Fansible-role-systemd_service~master~Ia8d97fe1d0689fe93f79025d28db3b6811e80bc7,openstack/ansible-role-systemd_service,master,Ia8d97fe1d0689fe93f79025d28db3b6811e80bc7,Update home-page,MERGED,2019-01-12 09:50:33.000000000,2019-01-23 15:46:37.000000000,2019-01-23 15:46:37.000000000,"[{'_account_id': 7353}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-12 09:50:33.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/90297c139f9f882633e5a9e538e65cd4bed37744', 'message': 'Update home-page\n\nChange-Id: Ia8d97fe1d0689fe93f79025d28db3b6811e80bc7\n'}]",0,630437,90297c139f9f882633e5a9e538e65cd4bed37744,9,5,1,26297,,,0,"Update home-page

Change-Id: Ia8d97fe1d0689fe93f79025d28db3b6811e80bc7
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/37/630437/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,90297c139f9f882633e5a9e538e65cd4bed37744,,home-page = https://docs.openstack.org/ansible-role-systemd_service/latest/,home-page = http://docs.openstack.org/developer/ansible-systemd_service/,1,1
openstack%2Fansible-role-systemd_service~master~I51f133931a73d648604b5166a7c09da6ffd4c178,openstack/ansible-role-systemd_service,master,I51f133931a73d648604b5166a7c09da6ffd4c178,Add options to set DynamicUser and StateDirectory,MERGED,2019-01-14 13:08:13.000000000,2019-01-23 15:46:36.000000000,2019-01-23 15:46:36.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-14 13:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/38809036ef23494f80d9f74e1811ba551c8170a7', 'message': 'Add options to set DynamicUser and StateDirectory\n\nMake sure those options are only set if systemd >= 235, since they were\nintroduced in that version.\n\nChange-Id: I51f133931a73d648604b5166a7c09da6ffd4c178\nRelated-Bug: 1805847\n'}, {'number': 2, 'created': '2019-01-14 13:14:05.000000000', 'files': ['templates/systemd-service.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/d11744b1efd098366792e39f0bc7314a485abb33', 'message': 'Add options to set DynamicUser and StateDirectory\n\nMake sure those options are only set if systemd >= 235, since they were\nintroduced in that version.\n\nChange-Id: I51f133931a73d648604b5166a7c09da6ffd4c178\nRelated-Bug: 1805847\n'}]",0,630664,d11744b1efd098366792e39f0bc7314a485abb33,7,2,2,18152,,,0,"Add options to set DynamicUser and StateDirectory

Make sure those options are only set if systemd >= 235, since they were
introduced in that version.

Change-Id: I51f133931a73d648604b5166a7c09da6ffd4c178
Related-Bug: 1805847
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/64/630664/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/systemd-service.j2'],1,38809036ef23494f80d9f74e1811ba551c8170a7,bug/1805847,{% if systemd_version|int >= 235 and item.dynamic_user is defined %} DynamicUser={{ item.dynamic_user|bool }} {% endif %} {% if systemd_version|int >= 235 and item.state_directory is defined %} StateDirectory={{ item.state_directory }} {% endif %},,7,0
openstack%2Fpython-tripleoclient~stable%2Frocky~Icf672cc0db50ea6daa57d3c5abe131c82553fc5a,openstack/python-tripleoclient,stable/rocky,Icf672cc0db50ea6daa57d3c5abe131c82553fc5a,Support '--tags' for 'overcloud upgrade run',ABANDONED,2019-01-23 15:35:34.000000000,2019-01-23 15:43:45.000000000,,"[{'_account_id': 8042}, {'_account_id': 8297}]","[{'number': 1, 'created': '2019-01-23 15:35:34.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cd56e2e2723d994cfeccde7c0b2be78e69846b86', 'message': ""Support '--tags' for 'overcloud upgrade run'\n\nThis will allow more specialized usage of upgrade run command, similar\nto patterns used with 'external-upgrade run', e.g. during\nreprovisioning of nodes.\n\nAlso, validation on '--skip-tags' is removed because we should no\nlonger assume what tags are defined by the upgrade tasks, and we\nshould allow more free-form usage.\n\nChange-Id: Icf672cc0db50ea6daa57d3c5abe131c82553fc5a\nImplements: blueprint upgrades-with-os\n""}]",0,632762,cd56e2e2723d994cfeccde7c0b2be78e69846b86,3,2,1,8297,,,0,"Support '--tags' for 'overcloud upgrade run'

This will allow more specialized usage of upgrade run command, similar
to patterns used with 'external-upgrade run', e.g. during
reprovisioning of nodes.

Also, validation on '--skip-tags' is removed because we should no
longer assume what tags are defined by the upgrade tasks, and we
should allow more free-form usage.

Change-Id: Icf672cc0db50ea6daa57d3c5abe131c82553fc5a
Implements: blueprint upgrades-with-os
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/62/632762/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py']",3,cd56e2e2723d994cfeccde7c0b2be78e69846b86,bp/upgrades-with-os-stable/rocky," def test_upgrade_role_all_playbooks_only_validation( self, mock_open, mock_execute, mock_expanduser, upgrade_ansible): mock_expanduser.return_value = '/home/fake/' argslist = ['--roles', 'Compute', '--playbook', 'all', '--tags', 'validation'] verifylist = [ ('roles', 'Compute'), ('static_inventory', None), ('playbook', 'all'), ('tags', 'validation') ] parsed_args = self.check_parser(self.cmd, argslist, verifylist) with mock.patch('os.path.exists') as mock_exists: mock_exists.return_value = True self.cmd.take_action(parsed_args) for book in constants.MAJOR_UPGRADE_PLAYBOOKS: upgrade_ansible.assert_any_call( self.app.client_manager, nodes='Compute', inventory_file=mock_open().read(), playbook=book, node_user='tripleo-admin', tags='validation', skip_tags='', ) @mock.patch('tripleoclient.workflows.package_update.update_ansible', autospec=True) @mock.patch('os.path.expanduser') @mock.patch('oslo_concurrency.processutils.execute') @mock.patch('six.moves.builtins.open')"," @mock.patch('tripleoclient.workflows.package_update.update_ansible', autospec=True) @mock.patch('os.path.expanduser') @mock.patch('oslo_concurrency.processutils.execute') @mock.patch('six.moves.builtins.open') # it is 'validation' not 'validations' def test_upgrade_skip_tags_validations(self, mock_open, mock_execute, mock_expanduser, upgrade_ansible): mock_expanduser.return_value = '/home/fake/' argslist = ['--nodes', 'overcloud-compute-1', '--skip-tags', 'validations'] verifylist = [ ('nodes', 'overcloud-compute-1'), ('static_inventory', None), ('playbook', 'all'), ('skip_tags', 'validations'), ] parsed_args = self.check_parser(self.cmd, argslist, verifylist) with mock.patch('os.path.exists') as mock_exists: mock_exists.return_value = True self.assertRaises(exceptions.InvalidConfiguration, lambda: self.cmd.take_action(parsed_args)) @mock.patch('tripleoclient.workflows.package_update.update_ansible', autospec=True) @mock.patch('os.path.expanduser') @mock.patch('oslo_concurrency.processutils.execute') @mock.patch('six.moves.builtins.open') # should only support the constants.MAJOR_UPGRADE_SKIP_TAGS def test_upgrade_skip_tags_unsupported_validation_anything_else( self, mock_open, mock_execute, mock_expanduser, upgrade_ansible): mock_expanduser.return_value = '/home/fake/' argslist = ['--nodes', 'overcloud-compute-1', '--skip-tags', 'validation,anything-else'] verifylist = [ ('nodes', 'overcloud-compute-1'), ('static_inventory', None), ('playbook', 'all'), ('skip_tags', 'validation,anything-else'), ] parsed_args = self.check_parser(self.cmd, argslist, verifylist) with mock.patch('os.path.exists') as mock_exists: mock_exists.return_value = True self.assertRaises(exceptions.InvalidConfiguration, lambda: self.cmd.take_action(parsed_args)) @mock.patch('tripleoclient.workflows.package_update.update_ansible', autospec=True) @mock.patch('os.path.expanduser') @mock.patch('oslo_concurrency.processutils.execute') @mock.patch('six.moves.builtins.open') # should only support the constants.MAJOR_UPGRADE_SKIP_TAGS def test_upgrade_skip_tags_unsupported_pre_upgrade_anything_else( self, mock_open, mock_execute, mock_expanduser, upgrade_ansible): mock_expanduser.return_value = '/home/fake/' argslist = ['--nodes', 'overcloud-compute-1', '--skip-tags', 'pre-upgrade,anything-else'] verifylist = [ ('nodes', 'overcloud-compute-1'), ('static_inventory', None), ('playbook', 'all'), ('skip_tags', 'pre-upgrade,anything-else'), ] parsed_args = self.check_parser(self.cmd, argslist, verifylist) with mock.patch('os.path.exists') as mock_exists: mock_exists.return_value = True self.assertRaises(exceptions.InvalidConfiguration, lambda: self.cmd.take_action(parsed_args))",43,90
openstack%2Fansible-role-systemd_service~master~I504a8270be1ddf2f24ab3ad3b4f2f4ca9c990470,openstack/ansible-role-systemd_service,master,I504a8270be1ddf2f24ab3ad3b4f2f4ca9c990470,Add an option to configure a service environment,MERGED,2019-01-11 18:28:43.000000000,2019-01-23 15:26:04.000000000,2019-01-11 21:02:11.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-11 18:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/10d57ba3d3a6b9fb744154e20a752f1add867cb2', 'message': ""Add an option to configure a service environment\n\nUsecase:\n\nneutron-l3-agent ships a helper script within it's\ndeployment [1]. neutron-l3-agent expects the script\nin it's current path, which may be not always the case [2].\nThis addition provides OSA the possibility to customize the\npath.\n\n[1] https://github.com/openstack/neutron/blob/a388701ddfe628e9a5bd16a78422164799b11ef8/neutron/agent/l3/ha.py#L68\n[2] https://bugs.launchpad.net/openstack-ansible/+bug/1782195\n\nChange-Id: I504a8270be1ddf2f24ab3ad3b4f2f4ca9c990470\n""}, {'number': 2, 'created': '2019-01-11 18:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/93f55a8cb3437f47e92ca2320fd49396beb46fb7', 'message': ""Add an option to configure a service environment\n\nUsecase:\n\nneutron-l3-agent ships a helper script within it's\ndeployment [1]. neutron-l3-agent expects the script\nin it's current path, which may be not always the case [2].\nThis addition provides OSA the possibility to customize the\npath.\n\n[1] https://github.com/openstack/neutron/blob/a388701ddfe628e9a5bd16a78422164799b11ef8/neutron/agent/l3/ha.py#L68\n[2] https://bugs.launchpad.net/openstack-ansible/+bug/1782195\n\nChange-Id: I504a8270be1ddf2f24ab3ad3b4f2f4ca9c990470\n""}, {'number': 3, 'created': '2019-01-11 18:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/5456a2da6c78d0795ece505bc1e50fe1e41a7b63', 'message': ""Add an option to configure a service environment\n\nUsecase:\n\nneutron-l3-agent ships a helper script within it's\ndeployment [1]. neutron-l3-agent expects the script\nin it's current path, which may be not always the case [2].\nThis addition provides OSA the possibility to customize the\npath.\n\n[1] https://github.com/openstack/neutron/blob/a388701ddfe628e9a5bd16a78422164799b11ef8/neutron/agent/l3/ha.py#L68\n[2] https://bugs.launchpad.net/openstack-ansible/+bug/1782195\n\nChange-Id: I504a8270be1ddf2f24ab3ad3b4f2f4ca9c990470\n""}, {'number': 4, 'created': '2019-01-11 19:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/57d4d3298fa57c1d6faa610c0b49f458983abf3b', 'message': ""Add an option to configure a service environment\n\nUsecase:\n\nneutron-l3-agent ships a helper script within it's\ndeployment [1]. neutron-l3-agent expects the script\nin it's current path, which may be not always the case [2].\nThis addition provides OSA the possibility to customize the\npath.\n\n[1] https://github.com/openstack/neutron/blob/a388701ddfe628e9a5bd16a78422164799b11ef8/neutron/agent/l3/ha.py#L68\n[2] https://bugs.launchpad.net/openstack-ansible/+bug/1782195\n\nChange-Id: I504a8270be1ddf2f24ab3ad3b4f2f4ca9c990470\n""}, {'number': 5, 'created': '2019-01-11 19:04:31.000000000', 'files': ['templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/b2063bb703e9957c29991adce15dbfdaccd6fd9a', 'message': ""Add an option to configure a service environment\n\nUsecase:\n\nneutron-l3-agent ships a helper script within it's\ndeployment [1]. neutron-l3-agent expects the script\nin it's current path, which may be not always the case [2].\nThis addition provides OSA the possibility to customize the\npath.\n\n[1] https://github.com/openstack/neutron/blob/a388701ddfe628e9a5bd16a78422164799b11ef8/neutron/agent/l3/ha.py#L68\n[2] https://bugs.launchpad.net/openstack-ansible/+bug/1782195\n\nChange-Id: I504a8270be1ddf2f24ab3ad3b4f2f4ca9c990470\n""}]",0,630370,b2063bb703e9957c29991adce15dbfdaccd6fd9a,13,2,5,28331,,,0,"Add an option to configure a service environment

Usecase:

neutron-l3-agent ships a helper script within it's
deployment [1]. neutron-l3-agent expects the script
in it's current path, which may be not always the case [2].
This addition provides OSA the possibility to customize the
path.

[1] https://github.com/openstack/neutron/blob/a388701ddfe628e9a5bd16a78422164799b11ef8/neutron/agent/l3/ha.py#L68
[2] https://bugs.launchpad.net/openstack-ansible/+bug/1782195

Change-Id: I504a8270be1ddf2f24ab3ad3b4f2f4ca9c990470
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/70/630370/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/systemd-service.j2'],1,10d57ba3d3a6b9fb744154e20a752f1add867cb2,add-environment-option,"{% for key, value in item.systemd_user_name.items() | default({}) %} Environment=""{{ key }}={{ value }}"" {% endfor %} ",,5,0
openstack%2Fopenstack-helm~master~I46780a94e25dc79cb103689120e46ee7994e3b84,openstack/openstack-helm,master,I46780a94e25dc79cb103689120e46ee7994e3b84,Foundation for docs for LMA services,ABANDONED,2017-12-16 16:38:08.000000000,2019-01-23 15:09:57.000000000,,"[{'_account_id': 8181}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-12-16 16:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8be5c712430a4ea9fabb01dff556785700f71764', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 2, 'created': '2017-12-18 14:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c2332e0f8bf16af1775e26c33bd0b945f658fb58', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 3, 'created': '2017-12-19 20:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/042f51d91c9f3d307210e00353690205483aa7be', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 4, 'created': '2017-12-19 22:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d9afb06aaec84ed4d5f9f2fe3c4b72c6e846c547', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 5, 'created': '2017-12-20 15:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec4a020868901f3287d85292ee5753c40abca0ed', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 6, 'created': '2017-12-20 17:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6800ee6852dd0a6f45bc40e6ed6fea5e764f6c7b', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 7, 'created': '2017-12-20 22:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4fc73e79e4bff86fd4fc98f886afcd59f3ccdd85', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 8, 'created': '2017-12-22 15:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6d2c08704efe3293c7feaa0ebfd4594e15e1c7ae', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 9, 'created': '2017-12-22 16:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/acf7fc3a29b38d392d4a74cedf60aa53e80feaf0', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 10, 'created': '2017-12-28 16:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/39da3d1e2bdac3a8fc0bc8f4fd3961712ebb7204', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 11, 'created': '2017-12-28 17:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/687f13b64bb29bc216553b47520a46e29ab0a5d8', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 12, 'created': '2017-12-28 19:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2718ed1b5265620797b7747e80ee12683292c211', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 13, 'created': '2018-01-03 22:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/28e3b2f658d719814eddf1a077bd05b70483fedc', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 14, 'created': '2018-01-11 18:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b1eb41cf55f2ec61ec958887bf532fb55a72e8c0', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 15, 'created': '2018-01-11 19:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ebeda0f5447e0fee7f2d59cd8b4611a244bbaa91', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 16, 'created': '2018-01-11 19:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e739cc171cb391e29c864df4e0de73e606be1cdb', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 17, 'created': '2018-01-13 14:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/68f0597926e9960f4a443fa975f6d9f6a888bab8', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 18, 'created': '2018-01-15 14:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1a5b94ecaa939ae86f3da7d5808b02c6fbccd76c', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 19, 'created': '2018-01-15 16:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5ea2c51717b756d2c7aae37246a4ebe261bb0eb3', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 20, 'created': '2018-01-16 17:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/967b25304cf0693a1815e35deaf3b05b48fc8db4', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 21, 'created': '2018-02-01 18:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c44f4835bd537b5a3bbc4c1bfd4176d86fb9f098', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 22, 'created': '2018-02-01 18:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e8710cd3bbb23d7e78043f6355a1a653c18db971', 'message': 'WIP - Add docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 23, 'created': '2018-02-12 17:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8d5d5ff01f07fdb8cee0fcf5fdf95bc50a847e52', 'message': 'Foundation for docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment. This\nprovides a baseline for basic documentation for the LMA services\navailable in openstack-helm\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 24, 'created': '2018-02-13 15:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/90fd23b709d881386cc62499b4b0c2eef2db2bef', 'message': 'Foundation for docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment. This\nprovides a baseline for basic documentation for the LMA services\navailable in openstack-helm\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}, {'number': 25, 'created': '2019-01-22 05:09:46.000000000', 'files': ['doc/source/logging/elasticsearch.rst', 'doc/source/logging/kibana.rst', 'doc/source/index.rst', 'doc/source/monitoring/grafana.rst', 'doc/source/logging/index.rst', 'doc/source/monitoring/index.rst', 'doc/source/logging/fluent-logging.rst', 'doc/source/monitoring/prometheus.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2d46703b6c4aff34a0880547911d0b712b445f2f', 'message': 'Foundation for docs for LMA services\n\nAdds documentation for the LMA services in OSH-infra to help\nprovide insight into the performance of an OSH deployment. This\nprovides a baseline for basic documentation for the LMA services\navailable in openstack-helm\n\nChange-Id: I46780a94e25dc79cb103689120e46ee7994e3b84\n'}]",3,528488,2d46703b6c4aff34a0880547911d0b712b445f2f,79,6,25,17591,,,0,"Foundation for docs for LMA services

Adds documentation for the LMA services in OSH-infra to help
provide insight into the performance of an OSH deployment. This
provides a baseline for basic documentation for the LMA services
available in openstack-helm

Change-Id: I46780a94e25dc79cb103689120e46ee7994e3b84
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/88/528488/23 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/infra/index.rst', 'doc/source/infra/prometheus.rst']",3,8be5c712430a4ea9fabb01dff556785700f71764,monitoring-docs,"Prometheus ---------- The Prometheus chart in openstack-helm-infra provides a time series database and a strong querying language for monitoring various components of OpenStack-Helm. Prometheus gathers metrics by scraping defined service endpoints or pods at specified intervals and indexing them in the underlying time series database. Prometheus Service configuration -------------------------------- The Prometheus service is configured via command line flags set during runtime. These flags include: setting the configuration file, setting log levels, setting characteristics of the time series database, and enabling the web admin API for snapshot support. These settings can be configured via the values tree at: :: conf: prometheus: storage: log: query: web_admin_api: The Prometheus configuration file contains the definitions for scrape targets and the location of the rules files for triggering alerts on scraped metrics. The configuration file is defined in the values file, and can be found at: :: conf: prometheus: scrape_configs: | By defining the configuration via the values file, an operator can override all configuration components of the Prometheus deployment at runtime. Kubernetes Endpoint Configuration --------------------------------- The Prometheus chart in openstack-helm-infra uses the built-in service discovery mechanisms for Kubernetes endpoints to configure scrape targets. A function added to helm-toolkit allows configuration of these targets via annotations that can be applied to any service that exposes metrics for Prometheus, whether a service for an application-specific exporter or an application that provides a metrics endpoint via its service. This helm-toolkit function uses keys in a chart's endpoints section to add these annotations. The helm-toolkit function contains the following: :: {{- define ""helm-toolkit.snippets.prometheus_service_annotations"" -}} {{- $endpoint := index . 0 -}} {{- $context := index . 1 -}} prometheus.io/scrape: {{ $endpoint.scrape | quote }} prometheus.io/scheme: {{ $endpoint.scheme.default | quote }} prometheus.io/path: {{ $endpoint.path.default | quote }} prometheus.io/port: {{ $endpoint.scrape_port | quote }} {{- end -}} The values in this function correspond to entries in a chart's endpoints section and tell Prometheus how to configure the scrape target. The values correspond to the following: - prometheus.io/scrape: Must be set to true for Prometheus to scrape target - prometheus.io/scheme: Defines the scheme used for the scrape endpoint - prometheus.io/path: Defines the metrics endpoint path (if not /metrics) - prometheus.io/port: Defines the endpoint port metrics are exposed over Example values for the required entries can be found in the following endpoint configuration for kube-state-metrics: :: kube_metrics: namespace: null hosts: default: kube-metrics host_fqdn_override: default: null path: default: null scheme: default: 'http' port: http: default: 8080 scrape: true scrape_port: 8080 Kubelet, API Server, and cAdvisor --------------------------------- The Prometheus chart includes scrape target configurations for the kubelet, the Kubernetes API servers, and cAdvisor. These targets are configured based on a kubeadm deployed Kubernetes cluster, as OpenStack-Helm uses kubeadm to deploy Kubernetes in the gates. These configurations may need to change based on your chosen method of deployment. Please note the cAdvisor metrics will not be captured if the kubelet was started with the following flag: :: --cadvisor-port=0 To enable the gathering of the kubelet's custom metrics, the following flag must be set: :: --enable-custom-metrics Rules Configuration ------------------- Prometheus provides a querying language that can operate on defined rules which allow for the generation of alerts on specific metrics. The Prometheus chart in openstack-helm-infra defines these rules via the values.yaml file. By defining these in the values file, it allows operators flexibility to provide specific rules via overrides at installation. The following rules keys are provided: :: values: conf: rules: alertmanager: |- etcd3: |- kube_apiserver: |- kube_controller_manager: |- kubelet: |- kubernetes: |- rabbitmq: |- mysql: |- ceph: |- openstack: |- custom: |- These provided keys provide rules for all infrastructure components of an OpenStack-Helm deployment. If you wish to exclude rules for a component, simply leave the tree empty in an overrides file. Any custom rules that do not fall within these keys can be inserted into the custom tree. Note: Prometheus releases prior to 2.0 used gotpl to define rules. Prometheus 2.0 changed the rules format to YAML, making them much easier to read. The Prometheus chart in openstack-helm-infra is meant to support Prometheus 2.0 and beyond. Installation ------------ The Prometheus chart can be installed with the following command: :: helm install --namespace=openstack local/prometheus --name=prometheus The above command results in a Prometheus deployment configured to automatically discover services with the necessary annotations for scraping, configured to gather metrics on the kubelet, the Kubernetes API servers, and cAdvisor. Extending Prometheus -------------------- Prometheus can target various exporters to gather metrics related to specific applications to extend visibility into an OpenStack-Helm deployment. Currently, openstack-helm-infra contains charts for: - kube-state-metrics: Provides additional Kubernetes metrics - node-exporter: Provides metrics for nodes and linux kernels These exporters can be installed with: :: helm install --namespace=kube-system local/<chart-name> --name=<chart-name> Prometheus will automatically detect the services for these releases due to the previously mentioned annotations added via the helm-toolkit function. Additional exporters will be added for: - RabbitMQ - MySQL - Elasticsearch - OpenStack These exporters are currently works-in-progress and will use the same service discovery mechanisms the other exporters use. Prometheus Dashboard -------------------- ",,208,0
openstack%2Fcharms.ceph~master~Iec5932a4d819ad87e54c2af391abe1befe84f164,openstack/charms.ceph,master,Iec5932a4d819ad87e54c2af391abe1befe84f164,Add standalone udevadm_settle function,MERGED,2019-01-23 14:41:28.000000000,2019-01-23 15:08:20.000000000,2019-01-23 15:08:19.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 14:41:28.000000000', 'files': ['unit_tests/test_general_utils.py', 'ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/76709c3a98710278bbeb801c2d7627e9d432d0d9', 'message': 'Add standalone udevadm_settle function\n\nAdd a standalone udevadm_settle that can be called alone. This is\nto enable it to be called by the ceph-osd charm. I think the\nsubprocess calls should be switched to check_call in the longer\nterm but that may be a disruptive change if udevadm does not\nalways return 0 so I propose to leave them as they are for the\nmoment.\n\nChange-Id: Iec5932a4d819ad87e54c2af391abe1befe84f164\nPartial-Bug: #1812925\n'}]",0,632734,76709c3a98710278bbeb801c2d7627e9d432d0d9,6,2,1,12549,,,0,"Add standalone udevadm_settle function

Add a standalone udevadm_settle that can be called alone. This is
to enable it to be called by the ceph-osd charm. I think the
subprocess calls should be switched to check_call in the longer
term but that may be a disruptive change if udevadm does not
always return 0 so I propose to leave them as they are for the
moment.

Change-Id: Iec5932a4d819ad87e54c2af391abe1befe84f164
Partial-Bug: #1812925
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/34/632734/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_general_utils.py', 'ceph/utils.py']",2,76709c3a98710278bbeb801c2d7627e9d432d0d9,bug/1812925,"def udevadm_settle(): cmd = ['udevadm', 'settle'] subprocess.call(cmd) udevadm_settle()"," cmd = ['udevadm', 'settle'] subprocess.call(cmd)",46,2
openstack%2Fhorizon~master~I1ef6899f4d14c660eba50f16e813c280657475fc,openstack/horizon,master,I1ef6899f4d14c660eba50f16e813c280657475fc,Allow to specify custom templates for clouds.yaml and openrc,MERGED,2018-12-22 21:01:14.000000000,2019-01-23 14:32:58.000000000,2019-01-23 14:32:58.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-22 21:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a007ebd811baa1bb28f843943854f17c11128b40', 'message': 'Allow to specify custom templates for clouds.yaml and openrc\n\nChange-Id: I1ef6899f4d14c660eba50f16e813c280657475fc\nCloses-Bug: #1795851\n'}, {'number': 2, 'created': '2018-12-22 21:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/44e68b4b1935710af97c7302d8ddab630b1c2165', 'message': 'Allow to specify custom templates for clouds.yaml and openrc\n\nChange-Id: I1ef6899f4d14c660eba50f16e813c280657475fc\nCloses-Bug: #1795851\n'}, {'number': 3, 'created': '2018-12-22 21:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/534798764f503e44b7f59238e6c73dfbafcadb7a', 'message': 'Allow to specify custom templates for clouds.yaml and openrc\n\nChange-Id: I1ef6899f4d14c660eba50f16e813c280657475fc\nCloses-Bug: #1795851\n'}, {'number': 4, 'created': '2018-12-22 22:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f41565be0b58ad7adc9619fd8f3767bc8f12f1ae', 'message': 'Allow to specify custom templates for clouds.yaml and openrc\n\nChange-Id: I1ef6899f4d14c660eba50f16e813c280657475fc\nCloses-Bug: #1795851\n'}, {'number': 5, 'created': '2019-01-12 16:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e5eb0cfe924246002e36913fd9aa668096a4e90e', 'message': 'Allow to specify custom templates for clouds.yaml and openrc\n\nChange-Id: I1ef6899f4d14c660eba50f16e813c280657475fc\nCloses-Bug: #1795851\n'}, {'number': 6, 'created': '2019-01-12 17:44:41.000000000', 'files': ['releasenotes/notes/openrc-clouds-yaml-link-f1642b77e25f08ba.yaml', 'doc/source/configuration/settings.rst', 'openstack_dashboard/dashboards/project/api_access/views.py', 'openstack_dashboard/settings.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e832c8549b3cb7c0f4671668a5b404374eb8a64b', 'message': 'Allow to specify custom templates for clouds.yaml and openrc\n\nChange-Id: I1ef6899f4d14c660eba50f16e813c280657475fc\nCloses-Bug: #1795851\n'}]",3,627051,e832c8549b3cb7c0f4671668a5b404374eb8a64b,17,4,6,841,,,0,"Allow to specify custom templates for clouds.yaml and openrc

Change-Id: I1ef6899f4d14c660eba50f16e813c280657475fc
Closes-Bug: #1795851
",git fetch https://review.opendev.org/openstack/horizon refs/changes/51/627051/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/openrc-clouds-yaml-link-f1642b77e25f08ba.yaml', 'doc/source/configuration/settings.rst', 'openstack_dashboard/dashboards/project/api_access/views.py', 'openstack_dashboard/settings.py']",4,a007ebd811baa1bb28f843943854f17c11128b40,bug/1795851," 'DIRS': [os.path.join(ROOT_PATH, 'templates'), '/opt/stack/horizon/openstack_dashboard/conf/templates'],OPENSTACK_CLOUDS_YAML_CUSTOM_TEMPLATE = None OPENRC_CUSTOM_TEMPLATE = None"," 'DIRS': [os.path.join(ROOT_PATH, 'templates')],",96,10
openstack%2Fhorizon~master~Ib91c29d8de7f75744f38bd624234e6f2416673e1,openstack/horizon,master,Ib91c29d8de7f75744f38bd624234e6f2416673e1,Modify the error message when creating subnet,MERGED,2019-01-17 06:25:32.000000000,2019-01-23 14:32:56.000000000,2019-01-23 14:32:56.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 5623}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 06:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c3054be313be6e8fdedd611dffdf7203c12870b9', 'message': 'Modify the error message when creating subnet\n\nThe error message is incorrect:\n\'Specify ""Network Address"" or clear ""Create Subnet"" checkbox in previous step\'\non create subnet page, It has no previous step\n\nChange-Id: Ib91c29d8de7f75744f38bd624234e6f2416673e1\nCloses-Bug: #1812157\n'}, {'number': 2, 'created': '2019-01-18 02:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a3fa2d81782995060fef953a1899df8ef2a33ce1', 'message': 'Modify the error message when creating subnet\n\nThe error message is incorrect:\n\'Specify ""Network Address"" or clear ""Create Subnet"" checkbox in previous step\'\non create subnet page, It has no previous step\n\nChange-Id: Ib91c29d8de7f75744f38bd624234e6f2416673e1\nCloses-Bug: #1812157\n'}, {'number': 3, 'created': '2019-01-18 05:48:54.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/subnets/workflows.py', 'openstack_dashboard/dashboards/project/networks/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4624438f17a1b2e122233aae1b907260d942784f', 'message': 'Modify the error message when creating subnet\n\nThe error message is incorrect:\n\'Specify ""Network Address"" or clear ""Create Subnet"" checkbox in previous step\'\non create subnet page, It has no previous step\n\nChange-Id: Ib91c29d8de7f75744f38bd624234e6f2416673e1\nCloses-Bug: #1812157\n'}]",3,631423,4624438f17a1b2e122233aae1b907260d942784f,13,5,3,27822,,,0,"Modify the error message when creating subnet

The error message is incorrect:
'Specify ""Network Address"" or clear ""Create Subnet"" checkbox in previous step'
on create subnet page, It has no previous step

Change-Id: Ib91c29d8de7f75744f38bd624234e6f2416673e1
Closes-Bug: #1812157
",git fetch https://review.opendev.org/openstack/horizon refs/changes/23/631423/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/networks/subnets/workflows.py', 'openstack_dashboard/dashboards/project/networks/workflows.py']",2,c3054be313be6e8fdedd611dffdf7203c12870b9,bug/1812157," def _check_subnet_data(self, cleaned_data, is_create=True, is_subnet=False): if is_subnet: msg = _(""Please specify network address"") else: msg = _('Specify ""Network Address"" or ' 'clear ""Create Subnet"" checkbox in previous step.')"," def _check_subnet_data(self, cleaned_data, is_create=True): msg = _('Specify ""Network Address"" or ' 'clear ""Create Subnet"" checkbox in previous step.')",9,5
openstack%2Fcinder~master~I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5,openstack/cinder,master,I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5,Update FusionStorage Cinder Driver by using REST API,MERGED,2018-11-26 03:32:13.000000000,2019-01-23 14:31:24.000000000,2019-01-23 07:07:24.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26387}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29217}, {'_account_id': 29637}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2018-11-26 03:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c2fde4a800e12809cb07823d5f30285de65de85', 'message': 'The change of fusionstorage openstack cinder driver\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the industry-wide RESTful method to reconstruct the origin\ncode so that the storage can be accessed quickly and easily.Moreover, the\n""manage_existing/unmanage"" and ""manage_existing_snapshot/unmanage_snapshot""\nhave been added to the original interface.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 2, 'created': '2018-11-26 07:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dce9d88384c4002c309258f3c2c8fc7bff94a7b3', 'message': 'The change of fusionstorage openstack cinder driver\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the industry-wide RESTful method to reconstruct the origin\ncode so that the storage can be accessed quickly and easily.Moreover, the\n""manage_existing/unmanage"" and ""manage_existing_snapshot/unmanage_snapshot""\nhave been added to the original interface.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 3, 'created': '2018-11-27 12:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99a772a41bd21f1d69915a56ea9a6fd112c882f1', 'message': 'Update FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the industry-wide RESTful method to reconstruct the origin\ncode so that the storage can be accessed quickly and easily.Moreover, the\n""manage_existing/unmanage"" and ""manage_existing_snapshot/unmanage_snapshot""\nhave been added to the original interface.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 4, 'created': '2018-11-30 02:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ffb3d23bd50333ca5b90a0598e68cb9a4e3d707d', 'message': 'Update FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the industry-wide RESTful method to reconstruct the origin\ncode so that the storage can be accessed quickly and easily.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 5, 'created': '2018-12-11 02:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b28524abe5e08605ab03d3253f839ecd82e00a76', 'message': 'Update FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the industry-wide RESTful method to reconstruct the origin\ncode so that the storage can be accessed quickly, convenient and professionally.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 6, 'created': '2018-12-18 02:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/75515ec6b705932e5404a575784838d825ccc3e4', 'message': 'Update FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the industry-wide RESTful method to reconstruct the origin\ncode so that the storage can be accessed quickly, convenient and professionally.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 7, 'created': '2018-12-24 10:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/501560c964d3ecff5e3fd87ec56847115b50cf00', 'message': 'Update FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the industry-wide RESTful method to reconstruct the origin\ncode so that the storage can be accessed quickly, convenient and professionally.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 8, 'created': '2018-12-25 02:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/318ff6a7968b221690725618b98a59ca8d7362fb', 'message': 'Update FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the industry-wide RESTful method to reconstruct the origin\ncode so that the storage can be accessed quickly, convenient and professionally.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 9, 'created': '2018-12-25 04:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4724aafb2391ca0a8225bdddc40cda3fc7737da', 'message': 'Update FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the industry-wide RESTful method to reconstruct the origin\ncode so that the storage can be accessed quickly, convenient and professionally.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 10, 'created': '2018-12-25 10:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/35b8305033bb3a9b211a21c0d82c7c9e250ce778', 'message': 'XUpdate FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the industry-wide RESTful method to reconstruct the origin\ncode so that the storage can be accessed quickly, convenient and professionally.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 11, 'created': '2018-12-25 11:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/68f60937212d6a6bb49b532f0deff54c4b4d309d', 'message': 'Update FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the RESTful method to reconstruct the origin code so\nthat the storage can be accessed quickly, convenient and professionally.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 12, 'created': '2018-12-25 11:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/98a1feb479de45dc8ed0d68e6a46c7fc32f73b5d', 'message': 'Update FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the RESTful method to reconstruct the origin code so\nthat the storage can be accessed quickly, convenient and professionally.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 13, 'created': '2018-12-27 08:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b56bf7e9fa751c9b9b83762163c399989f63b5c', 'message': 'Update FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the RESTful method to reconstruct the origin code so\nthat the storage can be accessed quickly, convenient and professionally.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 14, 'created': '2019-01-11 06:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c69608cac21d60612a0119e3b88c4eabf7999b97', 'message': 'XUpdate FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the RESTful method to reconstruct the origin code so\nthat the storage can be accessed quickly, convenient and professionally.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 15, 'created': '2019-01-11 13:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d7a2b697b0db04350c7b277343caf0b384a3f07c', 'message': 'XUpdate FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the RESTful method to reconstruct the origin code so\nthat the storage can be accessed quickly, convenient and professionally.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 16, 'created': '2019-01-14 08:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1ce3297402d2a574b8ad719f0ce4e180f9f94789', 'message': 'XUpdate FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the RESTful method to reconstruct the origin code so\nthat the storage can be accessed quickly, convenient and professionally.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 17, 'created': '2019-01-15 02:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/35aa80a37c4a738eeec8816b81dcc899be4e10c7', 'message': 'Update FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the RESTful method to reconstruct the origin code so\nthat the storage can be accessed quickly, convenient and professionally.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 18, 'created': '2019-01-17 06:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fbcc430fe98d30e1132509e408fc17cdaef29b21', 'message': 'Update FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the RESTful method to reconstruct the origin code so\nthat the storage can be accessed quickly, convenient and professionally.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}, {'number': 19, 'created': '2019-01-17 06:41:23.000000000', 'files': ['cinder/tests/unit/volume/drivers/fusionstorage/test_fs_client.py', 'cinder/tests/unit/volume/drivers/fusionstorage/test_fs_conf.py', 'doc/source/configuration/tables/cinder-fusionio.inc', 'cinder/volume/drivers/fusionstorage/dsware.py', 'cinder/opts.py', 'cinder/tests/unit/volume/drivers/fusionstorage/test_dsware.py', 'cinder/volume/drivers/fusionstorage/fs_client.py', 'cinder/volume/drivers/fusionstorage/constants.py', 'cinder/tests/unit/volume/drivers/fusionstorage/test_utils.py', 'cinder/tests/unit/volume/drivers/fusionstorage/test_fspythonapi.py', 'cinder/volume/drivers/fusionstorage/fspythonapi.py', 'cinder/volume/drivers/fusionstorage/fs_conf.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/73372c279e4b2d389b410c92885e65758ec7c2fd', 'message': 'Update FusionStorage Cinder Driver by using REST API\n\nThe FusionStorage OpenStack Cinder Driver no longer used the CLI method.\nInstead, it uses the RESTful method to reconstruct the origin code so\nthat the storage can be accessed quickly, convenient and professionally.\n\nChange-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5\n'}]",54,619952,73372c279e4b2d389b410c92885e65758ec7c2fd,649,49,19,29217,,,0,"Update FusionStorage Cinder Driver by using REST API

The FusionStorage OpenStack Cinder Driver no longer used the CLI method.
Instead, it uses the RESTful method to reconstruct the origin code so
that the storage can be accessed quickly, convenient and professionally.

Change-Id: I2c5da50d5465b6d34ac7e9b8023a1b12eaa7d1c5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/619952/17 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/fusionstorage/test_fs_client.py', 'cinder/tests/unit/volume/drivers/fusionstorage/test_dsware.py', 'cinder/tests/unit/volume/drivers/fusionstorage/test_fs_conf.py', 'cinder/volume/drivers/fusionstorage/fs_client.py', 'cinder/volume/drivers/fusionstorage/constants.py', 'cinder/tests/unit/volume/drivers/fusionstorage/test_utils.py', 'cinder/tests/unit/volume/drivers/fusionstorage/test_fspythonapi.py', 'cinder/volume/drivers/fusionstorage/fspythonapi.py', 'cinder/volume/drivers/fusionstorage/fs_conf.py', 'cinder/volume/drivers/fusionstorage/dsware.py']",10,0c2fde4a800e12809cb07823d5f30285de65de85,fusionstorage,"# Copyright (c) 2018 Huawei Technologies Co., Ltd. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import json from oslo_config import cfg from oslo_log import log as logging from cinder import exception from cinder.i18n import _ from cinder import interface from cinder.volume import driver from cinder.volume.drivers.fusionstorage import constants from cinder.volume.drivers.fusionstorage import fs_client from cinder.volume.drivers.fusionstorage import fs_conf from cinder.volume import utils as volume_utils LOG = logging.getLogger(__name__) fusionstorage_opts = [ cfg.StrOpt('cinder_fusionstorage_conf_file', default='/etc/cinder/cinder_fusionstorage_conf.xml', help='The configuration file for ' 'the Cinder fusion storage driver.'), cfg.DictOpt('hosts', default={}, help='The manager ip for different hosts.'), ] CONF = cfg.CONF CONF.register_opts(fusionstorage_opts) @interface.volumedriver class DSWAREDriver(driver.VolumeDriver): def __init__(self, *args, **kwargs): super(DSWAREDriver, self).__init__(*args, **kwargs) if not self.configuration: msg = _('Configuration is not found.') LOG.error(msg) raise exception.InvalidInput(reason=msg) self.configuration.append_config_values(fusionstorage_opts) self.conf = fs_conf.FusionStorageConf(self.configuration) self.count = constants.ZERO self.client = None def do_setup(self, context): self.conf.update_config_value() url_str = self.configuration.san_address url_user = self.configuration.san_user url_password = self.configuration.san_password self.client = fs_client.RestCommon( fs_address=url_str, fs_user=url_user, fs_password=url_password) self.client.login() def check_for_setup_error(self): all_pools = self.client.query_pool_info() all_pools_name = [p['poolName'] for p in all_pools if p.get('poolName')] for pool in self.configuration.pools_name: if pool not in all_pools_name: msg = _('Storage pool %(pool)s does not exist ' 'in the FusionStorage.') % {'pool': pool} LOG.error(msg) raise exception.InvalidInput(reason=msg) def _update_pool_stats(self): backend_name = self.configuration.safe_get( 'volume_backend_name') or self.__class__.__name__ data = {""volume_backend_name"": backend_name, ""driver_version"": ""2.0.9"", ""QoS_support"": False, ""thin_provisioning_support"": False, ""pools"": [] } all_pools = self.client.query_pool_info() for pool in all_pools: if pool['poolName'] in self.configuration.pools_name: single_pool_info = self._update_single_pool_info_status(pool) data['pools'].append(single_pool_info) return data def _get_capacity(self, pool_info): pool_capacity = {} total = float(pool_info['totalCapacity']) / constants.CAPACITY_UNIT free = (float(pool_info['totalCapacity']) - float(pool_info['usedCapacity'])) / constants.CAPACITY_UNIT pool_capacity['total_capacity_gb'] = total pool_capacity['free_capacity_gb'] = free return pool_capacity def _update_single_pool_info_status(self, pool_info): status = {} capacity = self._get_capacity(pool_info=pool_info) status.update({ ""pool_name"": pool_info['poolName'], ""total_capacity_gb"": capacity['total_capacity_gb'], ""free_capacity_gb"": capacity['free_capacity_gb'], }) return status def get_volume_stats(self, refresh=False): self.client.keep_alive() stats = self._update_pool_stats() return stats def _check_volume_exist(self, volume): vol_name = self._get_vol_name(volume) result = self.client.query_volume_by_name(vol_name=vol_name) if result: return True else: return False def _assert_check_result(self, msg): LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def _get_pool_id(self, volume): pool_id = None pool_name = volume_utils.extract_host(volume.host, level='pool') all_pools = self.client.query_pool_info() for pool in all_pools: if pool_name == pool['poolName']: pool_id = pool['poolId'] if pool_id is None: msg = _('Storage pool %(pool)s does not exist and may be manually ' 'deleted. Please check.') % {""pool"": pool_id} LOG.error(msg) raise exception.InvalidInput(reason=msg) return pool_id def _get_vol_name(self, volume): provider_location = volume.get(""provider_location"", None) if provider_location: vol_name = json.loads(provider_location).get(""name"") else: vol_name = volume.name return vol_name def create_volume(self, volume): pool_id = self._get_pool_id(volume) vol_name = volume.name vol_size = volume.size vol_size *= constants.CONVERSION self.client.create_volume( pool_id=pool_id, vol_name=vol_name, vol_size=vol_size) def delete_volume(self, volume): vol_name = self._get_vol_name(volume) if self._check_volume_exist(volume): self.client.delete_volume(vol_name=vol_name) def extend_volume(self, volume, new_size): vol_name = self._get_vol_name(volume) if not self._check_volume_exist(volume): msg = _(""Volume: %(vol_name)s does not exist!"" ) % {""vol_name"": vol_name} self._assert_check_result(msg) elif volume.size >= new_size: msg = _(""Extend volume failed! New size %(size)s "" ""should be greater than old size %(vol_size)s!"" ) % {""size"": new_size, ""vol_size"": volume.size} raise exception.VolumeBackendAPIException(data=msg) else: new_size *= constants.CONVERSION self.client.expand_volume(vol_name, new_size) def _check_snapshot_exist(self, volume, snapshot): pool_id = self._get_pool_id(volume) snapshot_name = self._get_snapshot_name(snapshot) result = self.client.query_snapshot_list( pool_id=pool_id, snapshot_name=snapshot_name) if result.get('totalNum'): return True else: return False def _get_snapshot_name(self, snapshot): provider_location = snapshot.get(""provider_location"", None) if provider_location: snapshot_name = json.loads(provider_location).get(""name"") else: snapshot_name = snapshot.name return snapshot_name def create_volume_from_snapshot(self, volume, snapshot): vol_name = self._get_vol_name(volume) snapshot_name = self._get_snapshot_name(snapshot) vol_size = volume.size if not self._check_snapshot_exist(snapshot.volume, snapshot): msg = _(""Snapshot: %(name)s does not exist!"" ) % {""name"": snapshot_name} self._assert_check_result(msg) elif self._check_volume_exist(volume): msg = _(""Volume: %(vol_name)s already exists!"" ) % {'vol_name': vol_name} self._assert_check_result(msg) else: vol_size *= constants.CONVERSION self.client.create_volume_from_snapshot( snapshot_name=snapshot_name, vol_name=vol_name, vol_size=vol_size) def create_cloned_volume(self, volume, src_volume): vol_name = self._get_vol_name(volume) src_vol_name = self._get_vol_name(src_volume) vol_size = volume.size vol_size *= constants.CONVERSION if not self._check_volume_exist(src_volume): msg = _(""Volume: %(vol_name)s does not exist!"" ) % {""vol_name"": src_vol_name} self._assert_check_result(msg) else: self.client.create_volume_from_volume( vol_name=vol_name, vol_size=vol_size, src_vol_name=src_vol_name) def create_snapshot(self, snapshot): snapshot_name = self._get_snapshot_name(snapshot) vol_name = self._get_vol_name(snapshot.volume) self.client.create_snapshot( snapshot_name=snapshot_name, vol_name=vol_name) def delete_snapshot(self, snapshot): snapshot_name = self._get_snapshot_name(snapshot) if self._check_snapshot_exist(snapshot.volume, snapshot): self.client.delete_snapshot(snapshot_name=snapshot_name) def _query_volume_by_id(self, pool_id, vol_id): vols_info = self.client.query_all_volumes(pool_id) for info in vols_info: if int(info.get('volId')) == int(vol_id): return info return None def _get_volume_info(self, pool_id, existing_ref): vol_name = existing_ref.get('source-name') vol_id = existing_ref.get('source-id') if not (vol_name or vol_id): msg = _('Must specify source-name or source-id.') raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=msg) vol_info = None if vol_name: vol_info = self.client.query_volume_by_name(vol_name) if vol_id: try: vol_info = self.client.query_volume_by_id(vol_id) except Exception: LOG.warning(""Query volume info through id failed!"") vol_info = self._query_volume_by_id(pool_id, vol_id) if not vol_info: msg = _(""Can't find volume on the array, please check the "" ""source-name or source-id."") raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=msg) return vol_info def manage_existing(self, volume, existing_ref): pool = self._get_pool_id(volume) vol_info = self._get_volume_info(pool, existing_ref) vol_pool_id = vol_info.get('poolId') if pool != vol_pool_id: msg = (_(""The specified LUN does not belong to the given "" ""pool: %s."") % pool) raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=msg) provider_location = {} provider_location['name'] = vol_info.get('volName') return {'provider_location': json.dumps(provider_location)} def manage_existing_get_size(self, volume, existing_ref): pool = self._get_pool_id(volume) vol_info = self._get_volume_info(pool, existing_ref) remainder = float(vol_info.get(""volSize"")) % constants.CONVERSION if remainder != 0: msg = _(""The volume size must be an integer multiple of 1 GB."") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) size = float(vol_info.get(""volSize"")) / constants.CONVERSION return int(size) def unmanage(self, volume): return def _get_snapshot_info(self, volume, existing_ref): snapshot_name = existing_ref.get('source-name') if not snapshot_name: msg = _(""Can't find volume on the array, please check the "" ""source-name."") raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=msg) pool_id = self._get_pool_id(volume) snapshot_info = self.client.query_snapshot_list( pool_id, snapshot_name=snapshot_name) if snapshot_info.get('totalNum'): snapshot_info = snapshot_info.get('snapshotList')[0] else: msg = _(""Can't find snapshot on the array."") raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=msg) return snapshot_info def _check_snapshot_match_volume(self, vol_name, snapshot_name): snapshot_info = self.client.query_snapshot_by_volume( vol_name, snapshot_name=snapshot_name) if snapshot_info: return True else: return False def manage_existing_snapshot(self, snapshot, existing_ref): volume = snapshot.volume snapshot_info = self._get_snapshot_info(volume, existing_ref) vol_name = self._get_vol_name(volume) if not self._check_snapshot_match_volume( vol_name, snapshot_info.get(""snapName"")): msg = (_(""The specified snapshot does not belong to the given "" ""volume: %s."") % vol_name) raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=msg) provider_location = {} provider_location['name'] = snapshot_info.get('snapName') return {'provider_location': json.dumps(provider_location)} def manage_existing_snapshot_get_size(self, snapshot, existing_ref): snapshot_info = self._get_snapshot_info(snapshot.volume, existing_ref) remainder = float(snapshot_info.get(""snapSize"")) % constants.CONVERSION if remainder != 0: msg = _(""The snapshot size must be an integer multiple of 1 GB."") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) size = float(snapshot_info.get(""snapSize"")) / constants.CONVERSION return int(size) def unmanage_snapshot(self, snapshot): return def _get_manager_ip(self, context): if self.configuration.safe_get(constants.HOSTS) is None: msg = _(""The configuration file does not contain the hosts."") LOG.error(msg) raise exception.VolumeBackendAPIException(msg) if self.configuration.safe_get(constants.HOSTS).get(context['host']): return self.configuration.safe_get(constants.HOSTS).get( context['host']) else: msg = _(""The required host: %(host)s and its manager ip are not "" ""included in the configuration file."" ) % {""host"": context['host']} LOG.error(msg) raise exception.VolumeBackendAPIException(msg) def _attach_volume(self, context, volume, properties, remote=False): vol_name = self._get_vol_name(volume) if not self._check_volume_exist(volume): msg = _(""Volume: %(vol_name)s does not exist!"" ) % {""vol_name"": vol_name} self._assert_check_result(msg) manager_ip = self._get_manager_ip(properties) result = self.client.attach_volume(vol_name, manager_ip) attach_path = result[vol_name][0]['devName'].encode('unicode-escape') attach_info = dict() attach_info['device'] = dict() attach_info['device']['path'] = attach_path if attach_path == '': msg = _(""Host attach volume failed!"") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) return attach_info, volume def _detach_volume(self, context, attach_info, volume, properties, force=False, remote=False, ignore_errors=False): vol_name = self._get_vol_name(volume) if self._check_volume_exist(volume): manager_ip = self._get_manager_ip(properties) self.client.detach_volume(vol_name, manager_ip) def initialize_connection(self, volume, connector): vol_name = self._get_vol_name(volume) manager_ip = self._get_manager_ip(connector) if not self._check_volume_exist(volume): msg = _(""Volume: %(vol_name)s does not exist!"" ) % {""vol_name"": vol_name} self._assert_check_result(msg) self.client.attach_volume(vol_name, manager_ip) volume_info = self.client.query_volume_by_name(vol_name=vol_name) vol_wwn = volume_info.get('wwn') by_id_path = ""/dev/disk/by-id/"" + ""wwn-0x%s"" % vol_wwn properties = {'device_path': by_id_path} return {'driver_volume_type': 'local', 'data': properties} def terminate_connection(self, volume, connector, **kwargs): if self._check_volume_exist(volume): manager_ip = self._get_manager_ip(connector) vol_name = self._get_vol_name(volume) self.client.detach_volume(vol_name, manager_ip) def create_export(self, context, volume, connector): pass def ensure_export(self, context, volume): pass def remove_export(self, context, volume): pass ","# Copyright (c) 2013 - 2016 Huawei Technologies Co., Ltd. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Driver for Huawei FusionStorage. """""" import os import re from oslo_config import cfg from oslo_log import log as logging from oslo_service import loopingcall from cinder import exception from cinder.i18n import _ from cinder.image import image_utils from cinder import interface from cinder.volume import configuration from cinder.volume import driver from cinder.volume.drivers.fusionstorage import fspythonapi LOG = logging.getLogger(__name__) volume_opts = [ cfg.BoolOpt('dsware_isthin', default=False, help='The flag of thin storage allocation.'), cfg.StrOpt('dsware_manager', default='', help='Fusionstorage manager ip addr for cinder-volume.'), cfg.StrOpt('fusionstorageagent', default='', help='Fusionstorage agent ip addr range.'), cfg.StrOpt('pool_type', default='default', help='Pool type, like sata-2copy.'), cfg.ListOpt('pool_id_filter', default=[], help='Pool id permit to use.'), cfg.IntOpt('clone_volume_timeout', default=680, help='Create clone volume timeout.'), ] CONF = cfg.CONF CONF.register_opts(volume_opts, group=configuration.SHARED_CONF_GROUP) OLD_VERSION = 1 NEW_VERSION = 0 VOLUME_ALREADY_ATTACHED = 50151401 VOLUME_NOT_EXIST = '50150005\n' VOLUME_BEING_DELETED = '50151002\n' SNAP_NOT_EXIST = '50150006\n' @interface.volumedriver class DSWAREDriver(driver.VolumeDriver): """"""Huawei FusionStorage Driver."""""" VERSION = '1.0' # ThirdPartySystems wiki page CI_WIKI_NAME = ""Huawei_FusionStorage_CI"" DSWARE_VOLUME_CREATE_SUCCESS_STATUS = 0 DSWARE_VOLUME_DUPLICATE_VOLUME = 6 DSWARE_VOLUME_CREATING_STATUS = 7 def __init__(self, *args, **kwargs): super(DSWAREDriver, self).__init__(*args, **kwargs) self.dsware_client = fspythonapi.FSPythonApi() self.check_cloned_interval = 2 self.configuration.append_config_values(volume_opts) def check_for_setup_error(self): # lrk: check config file here. if not os.path.exists(fspythonapi.fsc_conf_file): msg = _(""Dsware config file not exists!"") LOG.error(""Dsware config file: %s not exists!"", fspythonapi.fsc_conf_file) raise exception.VolumeBackendAPIException(data=msg) def do_setup(self, context): # lrk: create fsc_conf_file here. conf_info = [""manage_ip=%s"" % self.configuration.dsware_manager, ""\n"", ""vbs_url=%s"" % self.configuration.fusionstorageagent] fsc_dir = os.path.dirname(fspythonapi.fsc_conf_file) if not os.path.exists(fsc_dir): os.makedirs(fsc_dir) with open(fspythonapi.fsc_conf_file, 'w') as f: f.writelines(conf_info) # Get pool type. self.pool_type = self.configuration.pool_type LOG.debug(""Dsware Driver do_setup finish."") def _get_dsware_manage_ip(self, volume): dsw_manager_ip = volume.provider_id if dsw_manager_ip is not None: return dsw_manager_ip else: msg = _(""Dsware get manager ip failed, "" ""volume provider_id is None!"") raise exception.VolumeBackendAPIException(data=msg) def _get_poolid_from_host(self, host): # Host format: 'hostid@backend#poolid'. # Other formats: return 'default', and the pool id would be zero. if host: if len(host.split('#', 1)) == 2: return host.split('#')[1] return self.pool_type def _create_volume(self, volume_id, volume_size, is_thin, volume_host): pool_id = 0 result = 1 # Query Dsware version. retcode = self.dsware_client.query_dsware_version() # Old version. if retcode == OLD_VERSION: pool_id = 0 # New version. elif retcode == NEW_VERSION: pool_info = self._get_poolid_from_host(volume_host) if pool_info != self.pool_type: pool_id = int(pool_info) # Query Dsware version failed! else: LOG.error(""Query Dsware version fail!"") msg = (_(""Query Dsware version failed! Retcode is %s."") % retcode) raise exception.VolumeBackendAPIException(data=msg) try: result = self.dsware_client.create_volume( volume_id, pool_id, volume_size, int(is_thin)) except Exception as e: LOG.exception(""Create volume error, details is: %s."", e) raise if result != 0: msg = _(""Dsware create volume failed! Result is: %s."") % result raise exception.VolumeBackendAPIException(data=msg) def create_volume(self, volume): # Creates a volume in Dsware. LOG.debug(""Begin to create volume %s in Dsware."", volume.name) volume_id = volume.name volume_size = volume.size volume_host = volume.host is_thin = self.configuration.dsware_isthin # Change GB to MB. volume_size *= 1024 self._create_volume(volume_id, volume_size, is_thin, volume_host) dsw_manager_ip = self.dsware_client.get_manage_ip() return {""provider_id"": dsw_manager_ip} def _create_volume_from_snap(self, volume_id, volume_size, snapshot_name): result = self.dsware_client.create_volume_from_snap( volume_id, volume_size, snapshot_name) if result != 0: msg = (_(""Dsware: create volume from snap failed. Result: %s."") % result) raise exception.VolumeBackendAPIException(data=msg) def create_volume_from_snapshot(self, volume, snapshot): # Creates a volume from snapshot. volume_id = volume.name volume_size = volume.size snapshot_name = snapshot.name if volume_size < int(snapshot.volume_size): msg = _(""Dsware: volume size can not be less than snapshot size."") raise exception.VolumeBackendAPIException(data=msg) # Change GB to MB. volume_size *= 1024 self._create_volume_from_snap(volume_id, volume_size, snapshot_name) dsw_manager_ip = self.dsware_client.get_manage_ip() return {""provider_id"": dsw_manager_ip} def create_cloned_volume(self, volume, src_volume): """"""Dispatcher to Dsware client to create volume from volume. Wait volume create finished. """""" volume_name = volume.name volume_size = volume.size src_volume_name = src_volume.name # Change GB to MB. volume_size *= 1024 result = self.dsware_client.create_volume_from_volume( volume_name, volume_size, src_volume_name) if result: msg = _('Dsware fails to start cloning volume %s.') % volume_name raise exception.VolumeBackendAPIException(data=msg) LOG.debug('Dsware create volume %(volume_name)s of size ' '%(volume_size)s from src volume %(src_volume_name)s start.', {""volume_name"": volume_name, ""volume_size"": volume_size, ""src_volume_name"": src_volume_name}) ret = self._wait_for_create_cloned_volume_finish_timer(volume_name) if not ret: msg = (_('Clone volume %s failed while waiting for success.') % volume_name) raise exception.VolumeBackendAPIException(data=msg) LOG.debug('Dsware create volume from volume ends.') dsw_manager_ip = self.dsware_client.get_manage_ip() return {""provider_id"": dsw_manager_ip} def _check_create_cloned_volume_finish(self, new_volume_name): LOG.debug('Loopcall: _check_create_cloned_volume_finish(), ' 'volume-name: %s.', new_volume_name) current_volume = self.dsware_client.query_volume(new_volume_name) if current_volume: status = current_volume['status'] LOG.debug('Wait clone volume %(volume_name)s, status: %(status)s.', {""volume_name"": new_volume_name, ""status"": status}) if int(status) == self.DSWARE_VOLUME_CREATING_STATUS or int( status) == self.DSWARE_VOLUME_DUPLICATE_VOLUME: self.count += 1 elif int(status) == self.DSWARE_VOLUME_CREATE_SUCCESS_STATUS: raise loopingcall.LoopingCallDone(retvalue=True) else: msg = _('Clone volume %(new_volume_name)s failed, ' 'volume status is: %(status)s.') LOG.error(msg, {'new_volume_name': new_volume_name, 'status': status}) raise loopingcall.LoopingCallDone(retvalue=False) if self.count > self.configuration.clone_volume_timeout: msg = _('Dsware clone volume time out. ' 'Volume: %(new_volume_name)s, status: %(status)s') LOG.error(msg, {'new_volume_name': new_volume_name, 'status': current_volume['status']}) raise loopingcall.LoopingCallDone(retvalue=False) else: LOG.warning('Can not find volume %s from Dsware.', new_volume_name) self.count += 1 if self.count > 10: msg = _(""Dsware clone volume failed: volume "" ""can not be found from Dsware."") LOG.error(msg) raise loopingcall.LoopingCallDone(retvalue=False) def _wait_for_create_cloned_volume_finish_timer(self, new_volume_name): timer = loopingcall.FixedIntervalLoopingCall( self._check_create_cloned_volume_finish, new_volume_name) LOG.debug('Call _check_create_cloned_volume_finish: volume-name %s.', new_volume_name) self.count = 0 ret = timer.start(interval=self.check_cloned_interval).wait() timer.stop() return ret def _analyse_output(self, out): if out is not None: analyse_result = {} out_temp = out.split('\n') for line in out_temp: if re.search('^ret_code=', line): analyse_result['ret_code'] = line[9:] elif re.search('^ret_desc=', line): analyse_result['ret_desc'] = line[9:] elif re.search('^dev_addr=', line): analyse_result['dev_addr'] = line[9:] return analyse_result else: return None def _attach_volume(self, volume_name, dsw_manager_ip): cmd = ['vbs_cli', '-c', 'attachwithip', '-v', volume_name, '-i', dsw_manager_ip.replace('\n', ''), '-p', 0] out, err = self._execute(*cmd, run_as_root=True) analyse_result = self._analyse_output(out) LOG.debug(""Attach volume result is %s."", analyse_result) return analyse_result def _detach_volume(self, volume_name, dsw_manager_ip): cmd = ['vbs_cli', '-c', 'detachwithip', '-v', volume_name, '-i', dsw_manager_ip.replace('\n', ''), '-p', 0] out, err = self._execute(*cmd, run_as_root=True) analyse_result = self._analyse_output(out) LOG.debug(""Detach volume result is %s."", analyse_result) return analyse_result def _query_volume_attach(self, volume_name, dsw_manager_ip): cmd = ['vbs_cli', '-c', 'querydevwithip', '-v', volume_name, '-i', dsw_manager_ip.replace('\n', ''), '-p', 0] out, err = self._execute(*cmd, run_as_root=True) analyse_result = self._analyse_output(out) LOG.debug(""Query volume attach result is %s."", analyse_result) return analyse_result def copy_image_to_volume(self, context, volume, image_service, image_id): # Copy image to volume. # Step1: attach volume to host. LOG.debug(""Begin to copy image to volume."") dsw_manager_ip = self._get_dsware_manage_ip(volume) volume_attach_result = self._attach_volume(volume.name, dsw_manager_ip) volume_attach_path = '' if volume_attach_result is not None and int( volume_attach_result['ret_code']) == 0: volume_attach_path = volume_attach_result['dev_addr'] LOG.debug(""Volume attach path is %s."", volume_attach_path) if volume_attach_path == '': msg = _(""Host attach volume failed!"") raise exception.VolumeBackendAPIException(data=msg) # Step2: fetch the image from image_service and write it to the # volume. try: image_utils.fetch_to_raw(context, image_service, image_id, volume_attach_path, self.configuration.volume_dd_blocksize) finally: # Step3: detach volume from host. dsw_manager_ip = self._get_dsware_manage_ip(volume) volume_detach_result = self._detach_volume(volume.name, dsw_manager_ip) if volume_detach_result is not None and int( volume_detach_result['ret_code']) != 0: msg = (_(""Dsware detach volume from host failed: %s!"") % volume_detach_result) raise exception.VolumeBackendAPIException(data=msg) def copy_volume_to_image(self, context, volume, image_service, image_meta): # Copy volume to image. # If volume was not attached, then attach it. dsw_manager_ip = self._get_dsware_manage_ip(volume) already_attached = False _attach_result = self._attach_volume(volume.name, dsw_manager_ip) if _attach_result: retcode = _attach_result['ret_code'] if int(retcode) == VOLUME_ALREADY_ATTACHED: already_attached = True result = self._query_volume_attach(volume.name, dsw_manager_ip) if not result or int(result['ret_code']) != 0: msg = (_(""Query volume attach failed, result=%s."") % result) raise exception.VolumeBackendAPIException(data=msg) elif int(retcode) == 0: result = _attach_result else: msg = (_(""Attach volume to host failed "" ""in copy volume to image, retcode: %s."") % retcode) raise exception.VolumeBackendAPIException(data=msg) volume_attach_path = result['dev_addr'] else: msg = _(""Attach_volume failed."") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) try: image_utils.upload_volume(context, image_service, image_meta, volume_attach_path) except Exception as e: LOG.error(""Upload volume error, details: %s."", e) raise finally: if not already_attached: self._detach_volume(volume.name, dsw_manager_ip) def _get_volume(self, volume_name): result = self.dsware_client.query_volume(volume_name) LOG.debug(""Dsware query volume result is %s."", result['result']) if result['result'] == VOLUME_NOT_EXIST: LOG.debug(""Dsware volume %s does not exist."", volume_name) return False elif result['result'] == 0: return True else: msg = _(""Dsware query volume %s failed!"") % volume_name raise exception.VolumeBackendAPIException(data=msg) def _delete_volume(self, volume_name): # Delete volume in Dsware. result = self.dsware_client.delete_volume(volume_name) LOG.debug(""Dsware delete volume, result is %s."", result) if result == VOLUME_NOT_EXIST: LOG.debug(""Dsware delete volume, volume does not exist."") return True elif result == VOLUME_BEING_DELETED: LOG.debug(""Dsware delete volume, volume is being deleted."") return True elif result == 0: return True else: msg = _(""Dsware delete volume failed: %s!"") % result raise exception.VolumeBackendAPIException(data=msg) def delete_volume(self, volume): # Delete volume. # If volume does not exist, then return. LOG.debug(""Begin to delete volume in Dsware: %s."", volume.name) if not self._get_volume(volume.name): return True return self._delete_volume(volume.name) def _get_snapshot(self, snapshot_name): snapshot_info = self.dsware_client.query_snap(snapshot_name) LOG.debug(""Get snapshot, snapshot_info is : %s."", snapshot_info) if snapshot_info['result'] == SNAP_NOT_EXIST: LOG.error('Snapshot: %s not found!', snapshot_name) return False elif snapshot_info['result'] == 0: return True else: msg = _(""Dsware get snapshot failed!"") raise exception.VolumeBackendAPIException(data=msg) def _create_snapshot(self, snapshot_id, volume_id): LOG.debug(""Create snapshot %s to Dsware."", snapshot_id) smart_flag = 0 res = self.dsware_client.create_snapshot(snapshot_id, volume_id, smart_flag) if res != 0: msg = _(""Dsware Create Snapshot failed! Result: %s."") % res raise exception.VolumeBackendAPIException(data=msg) def _delete_snapshot(self, snapshot_id): LOG.debug(""Delete snapshot %s to Dsware."", snapshot_id) res = self.dsware_client.delete_snapshot(snapshot_id) LOG.debug(""Ddelete snapshot result is: %s."", res) if res != 0: raise exception.SnapshotIsBusy(snapshot_name=snapshot_id) def create_snapshot(self, snapshot): vol_id = 'volume-%s' % snapshot.volume_id snapshot_id = snapshot.name if not self._get_volume(vol_id): LOG.error('Create Snapshot, but volume: %s not found!', vol_id) raise exception.VolumeNotFound(volume_id=vol_id) else: self._create_snapshot(snapshot_id, vol_id) def delete_snapshot(self, snapshot): LOG.debug(""Delete snapshot %s."", snapshot.name) snapshot_id = snapshot.name if self._get_snapshot(snapshot_id): self._delete_snapshot(snapshot_id) def _calculate_pool_info(self, pool_sets): filter = False pools_status = [] reserved_percentage = self.configuration.reserved_percentage pool_id_filter = self.configuration.pool_id_filter LOG.debug(""Filtered pool id is %s."", pool_id_filter) if pool_id_filter == []: for pool_info in pool_sets: pool = {} pool['pool_name'] = pool_info['pool_id'] pool['total_capacity_gb'] = float( pool_info['total_capacity']) / 1024 pool['allocated_capacity_gb'] = float( pool_info['used_capacity']) / 1024 pool['free_capacity_gb'] = pool['total_capacity_gb'] - pool[ 'allocated_capacity_gb'] pool['QoS_support'] = False pool['reserved_percentage'] = reserved_percentage pools_status.append(pool) else: for pool_info in pool_sets: for pool_id in pool_id_filter: if pool_id == pool_info['pool_id']: filter = True break if filter: pool = {} pool['pool_name'] = pool_info['pool_id'] pool['total_capacity_gb'] = float( pool_info['total_capacity']) / 1024 pool['allocated_capacity_gb'] = float( pool_info['used_capacity']) / 1024 pool['free_capacity_gb'] = float( pool['total_capacity_gb'] - pool[ 'allocated_capacity_gb']) pool['QoS_support'] = False pool['reserved_percentage'] = reserved_percentage pools_status.append(pool) filter = False return pools_status def _update_single_pool_info_status(self): """"""Query pool info when Dsware is single-pool version."""""" status = {} status['volume_backend_name'] = self.configuration.volume_backend_name status['vendor_name'] = 'Open Source' status['driver_version'] = self.VERSION status['storage_protocol'] = 'dsware' status['total_capacity_gb'] = 0 status['free_capacity_gb'] = 0 status['reserved_percentage'] = self.configuration.reserved_percentage status['QoS_support'] = False pool_id = 0 pool_info = self.dsware_client.query_pool_info(pool_id) result = pool_info['result'] if result == 0: status['total_capacity_gb'] = float( pool_info['total_capacity']) / 1024 status['free_capacity_gb'] = (float( pool_info['total_capacity']) - float( pool_info['used_capacity'])) / 1024 LOG.debug(""total_capacity_gb is %s, free_capacity_gb is %s."", status['total_capacity_gb'], status['free_capacity_gb']) self._stats = status else: self._stats = None def _update_multi_pool_of_same_type_status(self): """"""Query info of multiple pools when Dsware is multi-pool version. These pools have the same pool type. """""" status = {} status['volume_backend_name'] = self.configuration.volume_backend_name status['vendor_name'] = 'Open Source' status['driver_version'] = self.VERSION status['storage_protocol'] = 'dsware' (result, pool_sets) = self.dsware_client.query_pool_type( self.pool_type) if pool_sets == []: self._stats = None else: pools_status = self._calculate_pool_info(pool_sets) status['pools'] = pools_status self._stats = status def get_volume_stats(self, refresh=False): if refresh: dsware_version = self.dsware_client.query_dsware_version() # Old version. if dsware_version == OLD_VERSION: self._update_single_pool_info_status() # New version. elif dsware_version == NEW_VERSION: self._update_multi_pool_of_same_type_status() else: msg = _(""Dsware query Dsware version failed!"") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) return self._stats def extend_volume(self, volume, new_size): # Extend volume in Dsware. LOG.debug(""Begin to extend volume in Dsware: %s."", volume.name) volume_id = volume.name if volume.size > new_size: msg = (_(""Dsware extend Volume failed! "" ""New size %(new_size)s should be greater than "" ""old size %(old_size)s!"") % {'new_size': new_size, 'old_size': volume.size}) raise exception.VolumeBackendAPIException(data=msg) # Change GB to MB. volume_size = new_size * 1024 result = self.dsware_client.extend_volume(volume_id, volume_size) if result != 0: msg = _(""Dsware extend Volume failed! Result:%s."") % result raise exception.VolumeBackendAPIException(data=msg) def initialize_connection(self, volume, connector): """"""Initializes the connection and returns connection info."""""" LOG.debug(""Begin initialize connection."") properties = {} properties['volume_name'] = volume.name properties['volume'] = volume properties['dsw_manager_ip'] = self._get_dsware_manage_ip(volume) LOG.debug(""End initialize connection with properties:%s."", properties) return {'driver_volume_type': 'dsware', 'data': properties} def terminate_connection(self, volume, connector, force=False, **kwargs): pass def create_export(self, context, volume, connector): pass def ensure_export(self, context, volume): pass def remove_export(self, context, volume): pass",2024,2354
openstack%2Fpuppet-tripleo~master~Ie6a5f57b3f0d4b00192b0760942d07ee59b32fbb,openstack/puppet-tripleo,master,Ie6a5f57b3f0d4b00192b0760942d07ee59b32fbb,Configure the Metadata Agent only when enable_metadata_agent is set,MERGED,2018-10-04 18:00:21.000000000,2019-01-23 14:27:58.000000000,2019-01-22 22:04:05.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 21451}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27069}]","[{'number': 1, 'created': '2018-10-04 18:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6006274f23071369a16ca6f335184863f67d99fb', 'message': 'Configure the Metadata Agent only when enable_metadata_agent is set\n\nWe should only configure the Nuage Metadata Agent only\nwhen enable_metadata_agent is true. With this change\nwe seperate installation of nuage vrs with configuring\nmetadata agent.\n\nChange-Id: Ie6a5f57b3f0d4b00192b0760942d07ee59b32fbb\n'}, {'number': 2, 'created': '2018-10-04 21:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a11cbcdd3212aef686c3b19e74fc129d5d2afbc0', 'message': 'Configure the Metadata Agent only when enable_metadata_agent is set\n\nWe should only configure the Nuage Metadata Agent only\nwhen enable_metadata_agent is true. With this change\nwe seperate installation of nuage vrs with configuring\nmetadata agent.\n\nChange-Id: Ie6a5f57b3f0d4b00192b0760942d07ee59b32fbb\n'}, {'number': 3, 'created': '2018-10-08 20:51:13.000000000', 'files': ['manifests/profile/base/neutron/agents/nuage.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0f86972455a6e472205e4d1cfc1bbd2d484e1f51', 'message': 'Configure the Metadata Agent only when enable_metadata_agent is set\n\nWe should only configure the Nuage Metadata Agent only\nwhen enable_metadata_agent is true. With this change\nwe seperate installation of nuage vrs with configuring\nmetadata agent.\n\nChange-Id: Ie6a5f57b3f0d4b00192b0760942d07ee59b32fbb\n'}]",1,608048,0f86972455a6e472205e4d1cfc1bbd2d484e1f51,32,8,3,21451,,,0,"Configure the Metadata Agent only when enable_metadata_agent is set

We should only configure the Nuage Metadata Agent only
when enable_metadata_agent is true. With this change
we seperate installation of nuage vrs with configuring
metadata agent.

Change-Id: Ie6a5f57b3f0d4b00192b0760942d07ee59b32fbb
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/48/608048/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/neutron/agents/nuage.pp'],1,6006274f23071369a16ca6f335184863f67d99fb,," if $enable_metadata_agent { class { '::nuage::metadataagent': nova_os_tenant_name => $nova_os_tenant_name, nova_os_password => $nova_os_password, nova_metadata_ip => $nova_metadata_ip, nova_auth_ip => $nova_auth_ip, }"," class { '::nuage::metadataagent': nova_os_tenant_name => $nova_os_tenant_name, nova_os_password => $nova_os_password, nova_metadata_ip => $nova_metadata_ip, nova_auth_ip => $nova_auth_ip,",7,5
openstack%2Fpython-ironic-inspector-client~stable%2Fqueens~I671560358d8ea0f6c878df2595c26f15e9f8b514,openstack/python-ironic-inspector-client,stable/queens,I671560358d8ea0f6c878df2595c26f15e9f8b514,Fix errors in package metadata,MERGED,2019-01-23 10:35:06.000000000,2019-01-23 14:26:37.000000000,2019-01-23 14:26:37.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 29209}]","[{'number': 1, 'created': '2019-01-23 10:35:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/4d06c1246b3705147e1ba2bac527d06b7adf7055', 'message': 'Fix errors in package metadata\n\nPackage metadata was missing author or maintainer information that is\nnow required due to package checks run by pypi in order to upload. These\nchecks can be performed locally by running the command:\n\npython setup.py check -s -r\n\nThis adds author information to match what is commonly used in other\nOpenStack package metadata.\n\nChange-Id: I671560358d8ea0f6c878df2595c26f15e9f8b514\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 53bf4e8a211f09e8caf3e4633393f47f51af3600)\n'}]",1,632691,4d06c1246b3705147e1ba2bac527d06b7adf7055,8,3,1,10239,,,0,"Fix errors in package metadata

Package metadata was missing author or maintainer information that is
now required due to package checks run by pypi in order to upload. These
checks can be performed locally by running the command:

python setup.py check -s -r

This adds author information to match what is commonly used in other
OpenStack package metadata.

Change-Id: I671560358d8ea0f6c878df2595c26f15e9f8b514
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 53bf4e8a211f09e8caf3e4633393f47f51af3600)
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/91/632691/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4d06c1246b3705147e1ba2bac527d06b7adf7055,,author = OpenStack author-email = openstack-dev@lists.openstack.org,,2,0
openstack%2Fhorizon~master~Idf89e59d11786dcddb24114f81f6ff406b7d07de,openstack/horizon,master,Idf89e59d11786dcddb24114f81f6ff406b7d07de,Modify the prompt of update volume,MERGED,2019-01-07 07:25:56.000000000,2019-01-23 14:26:33.000000000,2019-01-23 14:26:33.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 5623}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-01-07 07:25:56.000000000', 'files': ['openstack_dashboard/dashboards/project/volumes/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6be52c4018cbd9b92f5dde7e7e8a872e3d07a520', 'message': 'Modify the prompt of update volume\n\nOn the update volume page, when the name is empty,\nthere is a problem with the prompt information.\n\nChange-Id: Idf89e59d11786dcddb24114f81f6ff406b7d07de\nCloses-Bug: #1810726\n'}]",2,628889,6be52c4018cbd9b92f5dde7e7e8a872e3d07a520,12,7,1,27822,,,0,"Modify the prompt of update volume

On the update volume page, when the name is empty,
there is a problem with the prompt information.

Change-Id: Idf89e59d11786dcddb24114f81f6ff406b7d07de
Closes-Bug: #1810726
",git fetch https://review.opendev.org/openstack/horizon refs/changes/89/628889/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/volumes/forms.py'],1,6be52c4018cbd9b92f5dde7e7e8a872e3d07a520,bug/1810726," volume = cinder.volume_update(request, volume_id, data['name'], data['description']) name_or_id = volume[""volume""][""name""] or volume[""volume""][""id""] message = _('Updating volume ""%s""') % name_or_id"," cinder.volume_update(request, volume_id, data['name'], data['description']) message = _('Updating volume ""%s""') % data['name']",4,3
openstack%2Fpython-ironic-inspector-client~stable%2Fqueens~I71659caaaded6894f8337d3a19694a73b396c4c3,openstack/python-ironic-inspector-client,stable/queens,I71659caaaded6894f8337d3a19694a73b396c4c3,Update the home-page link,MERGED,2019-01-23 10:35:06.000000000,2019-01-23 14:25:18.000000000,2019-01-23 14:25:18.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 29209}]","[{'number': 1, 'created': '2019-01-23 10:35:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/8ddf370ef747385ef110098d9710226db1b7e33b', 'message': 'Update the home-page link\n\nChange-Id: I71659caaaded6894f8337d3a19694a73b396c4c3\n(cherry picked from commit 426c6cb13e971a21338e06649871c84f69278766)\n'}]",0,632690,8ddf370ef747385ef110098d9710226db1b7e33b,7,3,1,10239,,,0,"Update the home-page link

Change-Id: I71659caaaded6894f8337d3a19694a73b396c4c3
(cherry picked from commit 426c6cb13e971a21338e06649871c84f69278766)
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/90/632690/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8ddf370ef747385ef110098d9710226db1b7e33b,,home-page = https://docs.openstack.org/python-ironic-inspector-client/latest/,home-page = https://launchpad.net/python-ironic-inspector-client,1,1
openstack%2Fhorizon~master~I4ace7bd57e431be399c3e17ebfca8e802015706e,openstack/horizon,master,I4ace7bd57e431be399c3e17ebfca8e802015706e,Pop up the error message of creating a snapshot,MERGED,2019-01-15 11:14:46.000000000,2019-01-23 14:24:16.000000000,2019-01-23 14:24:16.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-01-15 11:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4326559074385e44b185ac01cda94f8f98f4a283', 'message': 'Change the handling of failure in the create snapshot operation\n\n1. Pop up the detailed error message\n2. The url will be redirected to Project->Instances, both the\noperation under Admin and Project.\n\nChange-Id: I4ace7bd57e431be399c3e17ebfca8e802015706e\n'}, {'number': 2, 'created': '2019-01-15 11:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e2f41bf9ccff5094830d3a11da6b0e0b1c48fd3d', 'message': 'Change the handling of failure in the create snapshot operation\n\n1. Pop up the detailed error message\n2. The url will be redirected to Project->Snapshots, both the\noperation under Admin and Project.\n\nChange-Id: I4ace7bd57e431be399c3e17ebfca8e802015706e\n'}, {'number': 3, 'created': '2019-01-15 11:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fb840bcf688deb2bbe92b0eca088a05e84daccc5', 'message': 'Pop up the error message of creating a snapshot\n\nDisplay the detailed error message when creating a snapshot fails.\n\nChange-Id: I4ace7bd57e431be399c3e17ebfca8e802015706e\n'}, {'number': 4, 'created': '2019-01-16 07:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7f9f03298429c01a469cb57460653e6ae88d2e7a', 'message': 'Pop up the error message of creating a snapshot\n\nDisplay the detailed error message when creating a snapshot fails.\n\nChange-Id: I4ace7bd57e431be399c3e17ebfca8e802015706e\n'}, {'number': 5, 'created': '2019-01-16 07:29:40.000000000', 'files': ['openstack_dashboard/dashboards/project/images/snapshots/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a152754494022cbb86771a65e3fad3acb6ad9607', 'message': 'Pop up the error message of creating a snapshot\n\nDisplay the detailed error message when creating a snapshot fails.\n\nChange-Id: I4ace7bd57e431be399c3e17ebfca8e802015706e\n'}]",1,630935,a152754494022cbb86771a65e3fad3acb6ad9607,15,5,5,27738,,,0,"Pop up the error message of creating a snapshot

Display the detailed error message when creating a snapshot fails.

Change-Id: I4ace7bd57e431be399c3e17ebfca8e802015706e
",git fetch https://review.opendev.org/openstack/horizon refs/changes/35/630935/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/snapshots/forms.py'],1,4326559074385e44b185ac01cda94f8f98f4a283,fix_bugs," except Exception as e: exceptions.handle(request, e.message)"," except Exception: redirect = reverse(""horizon:project:snapshots:index"") exceptions.handle(request, _('Unable to update volume snapshot.'), redirect=redirect)",2,5
openstack%2Fheat~stable%2Fpike~Ia77e0462bf732224b491591d22584cbcfa779956,openstack/heat,stable/pike,Ia77e0462bf732224b491591d22584cbcfa779956,Check for server in attachements when checking for detach complete,MERGED,2018-10-09 09:16:23.000000000,2019-01-23 14:17:07.000000000,2019-01-23 14:17:07.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-09 09:16:23.000000000', 'files': ['heat/engine/clients/os/cinder.py', 'heat/engine/resources/openstack/cinder/volume.py', 'heat/tests/openstack/cinder/test_volume_utils.py', 'heat/engine/resources/volume_base.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/646289df1c64ab2bf08f1439abf1669c224cebf9', 'message': ""Check for server in attachements when checking for detach complete\n\nIt's possible that the volume is already attached to another\nserver, which can happen by marking a  VolumeAttachment resource\nunhealthy after removing the volume from the server.\n\nChange-Id: Ia77e0462bf732224b491591d22584cbcfa779956\nStory: #2003850\nTask: 26643\n(cherry picked from commit 3b59f9ad98427ea152e0d55397d102998883d429)\n""}]",0,608892,646289df1c64ab2bf08f1439abf1669c224cebf9,23,4,1,8833,,,0,"Check for server in attachements when checking for detach complete

It's possible that the volume is already attached to another
server, which can happen by marking a  VolumeAttachment resource
unhealthy after removing the volume from the server.

Change-Id: Ia77e0462bf732224b491591d22584cbcfa779956
Story: #2003850
Task: 26643
(cherry picked from commit 3b59f9ad98427ea152e0d55397d102998883d429)
",git fetch https://review.opendev.org/openstack/heat refs/changes/92/608892/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/clients/os/cinder.py', 'heat/engine/resources/openstack/cinder/volume.py', 'heat/tests/openstack/cinder/test_volume_utils.py', 'heat/engine/resources/volume_base.py']",4,646289df1c64ab2bf08f1439abf1669c224cebf9,story/2003850-stable/pike," ).check_detach_volume_complete(prg.vol_id, prg.srv_id)", ).check_detach_volume_complete(prg.vol_id),14,6
openstack%2Ftripleo-ci~master~I2ca8f32e215b36d9468b0414015292c7f0490187,openstack/tripleo-ci,master,I2ca8f32e215b36d9468b0414015292c7f0490187,Collect OVB templates,MERGED,2019-01-22 16:06:06.000000000,2019-01-23 14:15:56.000000000,2019-01-23 14:15:56.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-01-22 16:06:06.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/28858a8f2d45adc72d807dfbd4383e9738a4620d', 'message': 'Collect OVB templates\n\nChange-Id: I2ca8f32e215b36d9468b0414015292c7f0490187\n'}]",0,632495,28858a8f2d45adc72d807dfbd4383e9738a4620d,10,5,1,10969,,,0,"Collect OVB templates

Change-Id: I2ca8f32e215b36d9468b0414015292c7f0490187
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/95/632495/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,28858a8f2d45adc72d807dfbd4383e9738a4620d,logsovb, - /home/{{ undercloud_user }}/workspace/ovb/*.y*ml, - /home/{{ undercloud_user }}/ovb/,1,1
openstack%2Fpuppet-tripleo~master~I1f413cd281743eaf05c468646d71a743f6e24d06,openstack/puppet-tripleo,master,I1f413cd281743eaf05c468646d71a743f6e24d06,Fix stdlib version in metadata,MERGED,2018-11-09 06:56:45.000000000,2019-01-23 14:15:56.000000000,2019-01-23 14:15:56.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 19138}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-11-09 06:56:45.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ff918903d00e836ad9cd8033f56a4465313c327f', 'message': 'Fix stdlib version in metadata\n\npuppetlabs-stdlib is now using the 5.1 version, so we should fix the\nstdlib version in metadata.\n\nChange-Id: I1f413cd281743eaf05c468646d71a743f6e24d06\n'}]",0,616809,ff918903d00e836ad9cd8033f56a4465313c327f,10,7,1,9414,,,0,"Fix stdlib version in metadata

puppetlabs-stdlib is now using the 5.1 version, so we should fix the
stdlib version in metadata.

Change-Id: I1f413cd281743eaf05c468646d71a743f6e24d06
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/09/616809/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,ff918903d00e836ad9cd8033f56a4465313c327f,update-stdlib-version," { ""name"": ""puppetlabs/stdlib"", ""version_requirement"": "">= 5.0.0 < 6.0.0"" },"," { ""name"": ""puppetlabs/stdlib"", ""version_requirement"": "">= 4.12.0 < 5.0.0"" },",1,1
openstack%2Fdevstack~stable%2Fqueens~I81301eeecc7669a169deeb1e2c5d298a595aab94,openstack/devstack,stable/queens,I81301eeecc7669a169deeb1e2c5d298a595aab94,Restrict database access to nova-compute in singleconductor mode,MERGED,2019-01-21 14:28:08.000000000,2019-01-23 14:06:39.000000000,2019-01-23 14:06:38.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-21 14:28:08.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c7114582c0b88f379cae795c8bc88bf840d0965a', 'message': 'Restrict database access to nova-compute in singleconductor mode\n\nChange I4820abe57a023050dd8d067c77e26028801ff288 removed access\nto the database for the nova-compute process but only in\nsuperconductor mode. Grenade runs in singleconductor mode though\nso we are getting tracebacks in nova-compute logs during grenade\nruns because nova-compute is running with nova.conf which is\nconfigured with access to the nova API database.\n\nThis change handles removing database access for nova-compute\ngenerically to cover both the singleconductor and superconductor\ncases.\n\nConflicts:\n      lib/nova\n\nNOTE(mriedem): Conflict is due to not having change\nI2a98795674183e2c05c29e15a3a3bad1a22c0891 in stable/queens.\n\nChange-Id: I81301eeecc7669a169deeb1e2c5d298a595aab94\nCloses-Bug: #1812398\n(cherry picked from commit 82537871376afe98a286e1ba424cf192ae60869a)\n(cherry picked from commit 1b2408b4f33710d404c4da4dde6bc096d6e691f4)\n'}]",0,632100,c7114582c0b88f379cae795c8bc88bf840d0965a,14,5,1,6873,,,0,"Restrict database access to nova-compute in singleconductor mode

Change I4820abe57a023050dd8d067c77e26028801ff288 removed access
to the database for the nova-compute process but only in
superconductor mode. Grenade runs in singleconductor mode though
so we are getting tracebacks in nova-compute logs during grenade
runs because nova-compute is running with nova.conf which is
configured with access to the nova API database.

This change handles removing database access for nova-compute
generically to cover both the singleconductor and superconductor
cases.

Conflicts:
      lib/nova

NOTE(mriedem): Conflict is due to not having change
I2a98795674183e2c05c29e15a3a3bad1a22c0891 in stable/queens.

Change-Id: I81301eeecc7669a169deeb1e2c5d298a595aab94
Closes-Bug: #1812398
(cherry picked from commit 82537871376afe98a286e1ba424cf192ae60869a)
(cherry picked from commit 1b2408b4f33710d404c4da4dde6bc096d6e691f4)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/00/632100/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,c7114582c0b88f379cae795c8bc88bf840d0965a,bug/1812398, cp $compute_cell_conf $NOVA_CPU_CONF # Make sure we nuke any database config inidelete $NOVA_CPU_CONF database connection inidelete $NOVA_CPU_CONF api_database connection , NOVA_CPU_CONF=$compute_cell_conf cp $compute_cell_conf $NOVA_CPU_CONF # Make sure we nuke any database config inidelete $NOVA_CPU_CONF database connection inidelete $NOVA_CPU_CONF api_database connection,6,5
openstack%2Fcinder~master~I1107aba8283cca216b5df8d4b3e5fbd81dbf0b33,openstack/cinder,master,I1107aba8283cca216b5df8d4b3e5fbd81dbf0b33,QNAP: Support QES FW on TDS series NAS,MERGED,2018-12-31 09:26:22.000000000,2019-01-23 14:06:37.000000000,2019-01-23 14:06:37.000000000,"[{'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18058}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26077}, {'_account_id': 26134}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2018-12-31 09:26:22.000000000', 'files': ['cinder/volume/drivers/qnap.py', 'releasenotes/notes/qnap-tds-support-qes-5e5d766cded3a26d.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/306d55f7d345720396bf42ce3b28a0acca8b5dfd', 'message': 'QNAP: Support QES FW on TDS series NAS\n\nSupport both QTS and QES FW on TDS series NAS models.\n\nChange-Id: I1107aba8283cca216b5df8d4b3e5fbd81dbf0b33\n'}]",0,627866,306d55f7d345720396bf42ce3b28a0acca8b5dfd,75,32,1,26134,,,0,"QNAP: Support QES FW on TDS series NAS

Support both QTS and QES FW on TDS series NAS models.

Change-Id: I1107aba8283cca216b5df8d4b3e5fbd81dbf0b33
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/627866/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/qnap.py', 'releasenotes/notes/qnap-tds-support-qes-5e5d766cded3a26d.yaml']",2,306d55f7d345720396bf42ce3b28a0acca8b5dfd,qnap-tds-support-qes,--- features: - | QNAP Cinder driver supports QES FW on TDS series NAS. ,,9,3
openstack%2Fneutron~master~I5ed10482efa197bf9ff2154e98e031d931399e79,openstack/neutron,master,I5ed10482efa197bf9ff2154e98e031d931399e79,bump neutron-lib to 1.22.0,ABANDONED,2019-01-22 21:25:40.000000000,2019-01-23 14:06:10.000000000,,"[{'_account_id': 1131}, {'_account_id': 10385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 21:25:40.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd29e528fb7afcb9b5e96c15c23c44a1978ab258', 'message': 'bump neutron-lib to 1.22.0\n\nThis patch bumps up the requirements and lower-constraints to use\nneutron-lib 1.22.0\n\nChange-Id: I5ed10482efa197bf9ff2154e98e031d931399e79\n'}]",0,632559,dd29e528fb7afcb9b5e96c15c23c44a1978ab258,5,3,1,5367,,,0,"bump neutron-lib to 1.22.0

This patch bumps up the requirements and lower-constraints to use
neutron-lib 1.22.0

Change-Id: I5ed10482efa197bf9ff2154e98e031d931399e79
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/632559/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,dd29e528fb7afcb9b5e96c15c23c44a1978ab258,bump-lib-to-1.22.0,neutron-lib==1.22.0,neutron-lib==1.21.0,2,2
openstack%2Fpython-tripleoclient~master~Id12fb55e5e43849fda8547fce230dc610f71fa62,openstack/python-tripleoclient,master,Id12fb55e5e43849fda8547fce230dc610f71fa62,Prevent upgrading to incompatible mechanism driver,ABANDONED,2018-12-13 16:35:17.000000000,2019-01-23 13:56:12.000000000,,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 8871}, {'_account_id': 9712}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-12-13 16:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/722c49f97c2e4053af60f1041dad7e58295a582f', 'message': 'WIP: prevent upgrading to incompatible mechanism driver\n\nPrevent upgrading a stack to version of tripleo templates or with\nenvironment files with neutron mechanism driver values that are\nincompatible with the existing stack.\n\nChange-Id: Id12fb55e5e43849fda8547fce230dc610f71fa62\n'}, {'number': 2, 'created': '2018-12-14 20:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5583724434d16f03ba29ba8a10516b96d51957bb', 'message': 'WIP: prevent upgrading to incompatible mechanism driver\n\nPrevent upgrading a stack to version of tripleo templates or with\nenvironment files with neutron mechanism driver values that are\nincompatible with the existing stack.\n\nDepends-On: I33fafe07326dcff4e4abb856a219d57a4c9699a1\nChange-Id: Id12fb55e5e43849fda8547fce230dc610f71fa62\n'}, {'number': 3, 'created': '2019-01-21 13:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/039bf1c2caeb32a61d6fc9dc69375ba1bd7f2652', 'message': 'WIP: prevent upgrading to incompatible mechanism driver\n\nPrevent upgrading a stack to version of tripleo templates or with\nenvironment files with neutron mechanism driver values that are\nincompatible with the existing stack.\n\nDepends-On: I33fafe07326dcff4e4abb856a219d57a4c9699a1\nChange-Id: Id12fb55e5e43849fda8547fce230dc610f71fa62\n'}, {'number': 4, 'created': '2019-01-22 10:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6623db3b294895b63caf689a2283e0c2ad05f683', 'message': 'Prevent upgrading to incompatible mechanism driver\n\nPrevent upgrading a stack to version of tripleo templates or with\nenvironment files with neutron mechanism driver values that are\nincompatible with the existing stack.\n\nDepends-On: I33fafe07326dcff4e4abb856a219d57a4c9699a1\nChange-Id: Id12fb55e5e43849fda8547fce230dc610f71fa62\n'}, {'number': 5, 'created': '2019-01-23 07:29:17.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c95e16226ee91feef9008bd8a6edfa62f943ffc1', 'message': 'Prevent upgrading to incompatible mechanism driver\n\nPrevent upgrading a stack to version of tripleo templates or with\nenvironment files with neutron mechanism driver values that are\nincompatible with the existing stack.\n\nDepends-On: I33fafe07326dcff4e4abb856a219d57a4c9699a1\nChange-Id: Id12fb55e5e43849fda8547fce230dc610f71fa62\n'}]",0,625049,c95e16226ee91feef9008bd8a6edfa62f943ffc1,21,9,5,6681,,,0,"Prevent upgrading to incompatible mechanism driver

Prevent upgrading a stack to version of tripleo templates or with
environment files with neutron mechanism driver values that are
incompatible with the existing stack.

Depends-On: I33fafe07326dcff4e4abb856a219d57a4c9699a1
Change-Id: Id12fb55e5e43849fda8547fce230dc610f71fa62
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/49/625049/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,722c49f97c2e4053af60f1041dad7e58295a582f,feature/prevent_ovs_to_ovn_upgrade,"def search_stack(stack_data, key_name): if isinstance(stack_data, list): for item in stack_data: result = search_stack(item, key_name) if result: return result elif isinstance(stack_data, dict): for k, v in stack_data.iteritems(): if k == key_name: return v else: result = search_stack(v, key_name) if result: return result def get_exclusive_neutron_driver(drivers): if not drivers: return mutually_exclusive_drivers = ['ovn', 'openvswitch'] if isinstance(drivers, str): drivers = [drivers] for d in mutually_exclusive_drivers: if d in drivers: return d def update_check_neutron_mechanism_drivers(env, stack, object_client): force_update = env.get('parameter_defaults').get( 'ForceNeutronDriverUpdate', False) # Forcing an update and skip checks is need to support migrating from one # driver to another if force_update: return driver_key = 'NeutronMechanismDrivers' current_drivers = search_stack(stack._info, driver_key) current_driver = get_exclusive_neutron_driver(current_drivers) configured_drivers = env.get('parameter_defaults').get(driver_key) new_driver = None if configured_drivers: new_driver = get_exclusive_neutron_driver(configured_drivers) else: # TODO(beagles): we need to look for a better way to # get the current template default value. This is fragile # with respect to changing filenames, etc. ml2_plugin_tmpl = object_client.get_object( stack.stack_name, 'puppet/services/neutron-plugin-ml2.yaml') ml2_def = yaml.safe_load(ml2_plugin_tmpl[1]) default_drivers = ml2_def.get('parameters', {}).get(driver_key, {}).get('default') new_driver = get_exclusive_neutron_driver(default_drivers) if current_driver != new_driver: msg = (""Unable to migrate from {} to {} on upgrade. Please consult "" + ""the documentation!"") raise exceptions.InvalidConfiguration(msg.format(current_driver, new_driver)) update_check_neutron_mechanism_drivers(env, stack, self.object_client)",,108,0
openstack%2Ftraining-labs~master~I8d5cbac36299a34d2a91a103b0d64b0316ad7fbb,openstack/training-labs,master,I8d5cbac36299a34d2a91a103b0d64b0316ad7fbb,"Fix the misspelling of ""directory""",MERGED,2019-01-23 09:27:07.000000000,2019-01-23 13:49:41.000000000,2019-01-23 13:49:41.000000000,"[{'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 09:27:07.000000000', 'files': ['labs/osbash/lib/functions-common-devstack'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/c58dd43f0b9a1af400bb462b0300063847be9b6f', 'message': 'Fix the misspelling of ""directory""\n\nChange-Id: I8d5cbac36299a34d2a91a103b0d64b0316ad7fbb\n'}]",0,632667,c58dd43f0b9a1af400bb462b0300063847be9b6f,6,2,1,29721,,,0,"Fix the misspelling of ""directory""

Change-Id: I8d5cbac36299a34d2a91a103b0d64b0316ad7fbb
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/67/632667/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/osbash/lib/functions-common-devstack'],1,c58dd43f0b9a1af400bb462b0300063847be9b6f,,# Get the path to the directory where python executables are installed.,# Get the path to the direcotry where python executables are installed.,1,1
openstack%2Fnova~master~If5f3dc725c5836e67d09deeefb3bce2249f71a69,openstack/nova,master,If5f3dc725c5836e67d09deeefb3bce2249f71a69,Convert port to str when validate console port,MERGED,2018-12-21 08:35:16.000000000,2019-01-23 13:29:14.000000000,2019-01-23 00:21:58.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 19930}, {'_account_id': 20733}, {'_account_id': 21479}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-21 08:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbca3573df9ddd967c06d7c93898b1d98a59abb7', 'message': 'Convert port to str when validate console port\n\nThe port type must be str in nova-serialproxy side as we convert to str\nforcefully before rpc validate_console to compute. But on the compute side,\nthe drive may be return int type like ironic serial console[2].\nSo the validate_console_port may always return False[3] as type\ninconsistence.\n\n[1] https://github.com/openstack/nova/blob/master/nova/console/websocketproxy.py#L123-L125\n[2] https://github.com/openstack/nova/blob/master/nova/virt/ironic/driver.py#L1819\n[3] https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5369\n\nCloses-Bug: 1809418\n\nChange-Id: If5f3dc725c5836e67d09deeefb3bce2249f71a69\n'}, {'number': 2, 'created': '2018-12-21 08:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d5e805009a7f773eac9b696ea8162a04ff73b0e', 'message': 'Convert port to str when validate console port\n\nThe port type must be str type in nova-serialproxy side as we convert to str\nforcefully before rpc validate_console to compute service[1]. But on the\ncompute side, the drive may be return int type like ironic serial console[2].\nSo the validate_console_port may always return False as type inconsistence[3].\n\n[1] https://github.com/openstack/nova/blob/master/nova/console/websocketproxy.py#L123-L125\n[2] https://github.com/openstack/nova/blob/master/nova/virt/ironic/driver.py#L1819\n[3] https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5369\n\nCloses-Bug: 1809418\n\nChange-Id: If5f3dc725c5836e67d09deeefb3bce2249f71a69\n'}, {'number': 3, 'created': '2019-01-22 15:53:41.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/47937b6113dfe34202926536a2c43d3f85676026', 'message': 'Convert port to str when validate console port\n\nThe port type must be str type in nova-serialproxy side as we convert to str\nforcefully before rpc validate_console to compute service[1]. But on the\ncompute side, the driver may be return int type like ironic serial console[2].\nSo the validate_console_port may always return False as type inconsistence[3].\n\n[1] https://github.com/openstack/nova/blob/18.0.0/nova/console/websocketproxy.py#L144\n[2] https://github.com/openstack/nova/blob/18.0.0/nova/virt/ironic/driver.py#L1830\n[3] https://github.com/openstack/nova/blob/18.0.0/nova/compute/manager.py#L5417\n\nCloses-Bug: 1809418\n\nChange-Id: If5f3dc725c5836e67d09deeefb3bce2249f71a69\n'}]",9,626853,47937b6113dfe34202926536a2c43d3f85676026,62,22,3,21479,,,0,"Convert port to str when validate console port

The port type must be str type in nova-serialproxy side as we convert to str
forcefully before rpc validate_console to compute service[1]. But on the
compute side, the driver may be return int type like ironic serial console[2].
So the validate_console_port may always return False as type inconsistence[3].

[1] https://github.com/openstack/nova/blob/18.0.0/nova/console/websocketproxy.py#L144
[2] https://github.com/openstack/nova/blob/18.0.0/nova/virt/ironic/driver.py#L1830
[3] https://github.com/openstack/nova/blob/18.0.0/nova/compute/manager.py#L5417

Closes-Bug: 1809418

Change-Id: If5f3dc725c5836e67d09deeefb3bce2249f71a69
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/626853/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",2,dbca3573df9ddd967c06d7c93898b1d98a59abb7,bug/1809418, return str(console_info.port) == port, return console_info.port == port,19,5
openstack%2Fironic~stable%2Frocky~I2890bf16110b713e269d4a4fe410f57273dc8e83,openstack/ironic,stable/rocky,I2890bf16110b713e269d4a4fe410f57273dc8e83,Fix OOB introspection to use pxe_enabled flag in idrac driver,MERGED,2018-12-11 05:04:43.000000000,2019-01-23 12:18:33.000000000,2019-01-23 12:18:32.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 28429}]","[{'number': 1, 'created': '2018-12-11 05:04:43.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/utils.py', 'ironic/drivers/modules/drac/inspect.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py', 'releasenotes/notes/update-port-pxe-enabled-f954f934209cbf5b.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/828ec3ee397eb96427927ecd5f57d6f1c23a4af2', 'message': ""Fix OOB introspection to use pxe_enabled flag in idrac driver\n\nBaremetal nodes fail to pxe boot during OpenStack deployment.\nReason of this failure is because we are not checking the\nactual pxe device interface and updating the port pxe_enabled field.\n\nThis patch make sure that everytime when port is created, it checks the\nthe BIOS and UEFI boot modes of node and fetch the pxe device interfaces\nvalues matching to nic id and then update the port's pxe_enabled field.\n\nChange-Id: I2890bf16110b713e269d4a4fe410f57273dc8e83\nStory: 2004340\n(cherry picked from commit 2b74d940c932c1bb4498f47372c0545e4480799f)\n""}]",0,624272,828ec3ee397eb96427927ecd5f57d6f1c23a4af2,22,12,1,8580,,,0,"Fix OOB introspection to use pxe_enabled flag in idrac driver

Baremetal nodes fail to pxe boot during OpenStack deployment.
Reason of this failure is because we are not checking the
actual pxe device interface and updating the port pxe_enabled field.

This patch make sure that everytime when port is created, it checks the
the BIOS and UEFI boot modes of node and fetch the pxe device interfaces
values matching to nic id and then update the port's pxe_enabled field.

Change-Id: I2890bf16110b713e269d4a4fe410f57273dc8e83
Story: 2004340
(cherry picked from commit 2b74d940c932c1bb4498f47372c0545e4480799f)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/624272/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/utils.py', 'ironic/drivers/modules/drac/inspect.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py', 'releasenotes/notes/update-port-pxe-enabled-f954f934209cbf5b.yaml']",4,828ec3ee397eb96427927ecd5f57d6f1c23a4af2,,--- fixes: - | Fixes a bug where ironic port is not updated in node introspection as per PXE enabled setting for ``idrac`` hardware type. See bug `2004340 <https://storyboard.openstack.org/#!/story/2004340>`_ for details. ,,178,1
openstack%2Fheat-tempest-plugin~master~Ibe080d08a854db1a3e7246ef60a3a14efdc2f40f,openstack/heat-tempest-plugin,master,Ibe080d08a854db1a3e7246ef60a3a14efdc2f40f,Fix heat service availability config option name,MERGED,2018-11-26 09:36:05.000000000,2019-01-23 12:14:06.000000000,2019-01-23 12:14:06.000000000,"[{'_account_id': 4257}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 09:36:05.000000000', 'files': ['heat_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/a8b5911e35d4b596aedc98eae2ce8edd90ac9040', 'message': ""Fix heat service availability config option name\n\nheat service config option name registered in\nTempest's service_available group is 'heat_plugin' which\nis not consistent with all other service_available config\noption.\n\nThis config option is used by other tempest plugin to test the heat.\nOne good example is congress-tempest-plugin which has heat tests[1]\nand those test are being skipped based on this config option.\n\nBut setting of this config option in congress devstack plugin\nis done based on service name (heat not heat_plugin)[2]. and same name\nis used on devstack side also[3].\n\nWe had same issue on aodh side also which is being fixed in\n- https://review.openstack.org/#/c/536741/\n\nThis patch fixes this issue in heat-tempest-plugin also by\nrenaming the config option to 'heat' and keep the old name support also\nwith deprecation warning.\nRelated-Bug: #1743688\n\n[1] http://git.openstack.org/cgit/openstack/congress-tempest-plugin/tree/congress_tempest_plugin/tests/scenario/congress_datasources/test_heat.py#n32\n[2] https://github.com/openstack/congress/blob/df0f555f3166344b726fbfd2356e3a7d897cf228/devstack/plugin.sh#L87\n[3] https://github.com/openstack-dev/devstack/blob/0c6208c6a07b0616b5982b6e9e7c8216397d49e3/lib/tempest#L550\n\nChange-Id: Ibe080d08a854db1a3e7246ef60a3a14efdc2f40f\n""}]",0,619990,a8b5911e35d4b596aedc98eae2ce8edd90ac9040,15,4,1,8556,,,0,"Fix heat service availability config option name

heat service config option name registered in
Tempest's service_available group is 'heat_plugin' which
is not consistent with all other service_available config
option.

This config option is used by other tempest plugin to test the heat.
One good example is congress-tempest-plugin which has heat tests[1]
and those test are being skipped based on this config option.

But setting of this config option in congress devstack plugin
is done based on service name (heat not heat_plugin)[2]. and same name
is used on devstack side also[3].

We had same issue on aodh side also which is being fixed in
- https://review.openstack.org/#/c/536741/

This patch fixes this issue in heat-tempest-plugin also by
renaming the config option to 'heat' and keep the old name support also
with deprecation warning.
Related-Bug: #1743688

[1] http://git.openstack.org/cgit/openstack/congress-tempest-plugin/tree/congress_tempest_plugin/tests/scenario/congress_datasources/test_heat.py#n32
[2] https://github.com/openstack/congress/blob/df0f555f3166344b726fbfd2356e3a7d897cf228/devstack/plugin.sh#L87
[3] https://github.com/openstack-dev/devstack/blob/0c6208c6a07b0616b5982b6e9e7c8216397d49e3/lib/tempest#L550

Change-Id: Ibe080d08a854db1a3e7246ef60a3a14efdc2f40f
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/90/619990/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_tempest_plugin/config.py'],1,a8b5911e35d4b596aedc98eae2ce8edd90ac9040,bug/1743688," cfg.BoolOpt(""heat"", help=""Whether or not heat is expected to be available"", deprecated_opts=[cfg.DeprecatedOpt( 'heat_plugin', group='service_available')]),"," cfg.BoolOpt(""heat_plugin"", help=""Whether or not heat is expected to be available""),",5,2
openstack%2Fkeystone~master~Ie3dc315c8b7ff7faa2a6c24d9c074a6fc42a54a8,openstack/keystone,master,Ie3dc315c8b7ff7faa2a6c24d9c074a6fc42a54a8,Fix wrong urls,MERGED,2019-01-18 11:28:32.000000000,2019-01-23 12:10:42.000000000,2019-01-23 12:10:41.000000000,"[{'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 29344}]","[{'number': 1, 'created': '2019-01-18 11:28:32.000000000', 'files': ['api-ref/source/v3/index.rst', 'api-ref/source/v3/domains-config-v3.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/def21c69914d78aae599eab4af71cc5ab0b94f23', 'message': 'Fix wrong urls\n\nThese urls in the docs are invalid probably because of the renaming\nthat happened with commit ccb3d340e49da88bb01ad2d2bb40f00280932aec\n\nChange-Id: Ie3dc315c8b7ff7faa2a6c24d9c074a6fc42a54a8\n'}]",0,631779,def21c69914d78aae599eab4af71cc5ab0b94f23,9,5,1,25562,,,0,"Fix wrong urls

These urls in the docs are invalid probably because of the renaming
that happened with commit ccb3d340e49da88bb01ad2d2bb40f00280932aec

Change-Id: Ie3dc315c8b7ff7faa2a6c24d9c074a6fc42a54a8
",git fetch https://review.opendev.org/openstack/keystone refs/changes/79/631779/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/index.rst', 'api-ref/source/v3/domains-config-v3.inc']",2,def21c69914d78aae599eab4af71cc5ab0b94f23,trivial,<https://docs.openstack.org/keystone/latest/admin/integrate-with-ldap.html>`_.,<https://docs.openstack.org/keystone/latest/admin/identity-integrate-with-ldap.html>`_.,2,2
openstack%2Fkeystone~master~I65a8a291e87a29f7ae819ba1ec177e955708db51,openstack/keystone,master,I65a8a291e87a29f7ae819ba1ec177e955708db51,Add region protection tests for system readers,MERGED,2018-11-20 20:02:52.000000000,2019-01-23 12:10:40.000000000,2019-01-23 12:10:40.000000000,"[{'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-20 20:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e76bea5715ff6994f5b434f6ec01f388dba0313e', 'message': 'Add region protection tests for system readers\n\nThis commit ensures we test the default roles provided with keystone\nagainst the scope types used in default region policies. Subsequent\npatches will include testing for:\n\n - system member\n - system admin\n - domain users\n - project users\n\nChange-Id: I65a8a291e87a29f7ae819ba1ec177e955708db51\nRelated-Bug: 1804292\n'}, {'number': 2, 'created': '2018-11-21 13:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e8bde3d6e81bf036fdb8dfe23fd832899f2b17c1', 'message': 'Add region protection tests for system readers\n\nThis commit ensures we test the default roles provided with keystone\nagainst the scope types used in default region policies. Subsequent\npatches will include testing for:\n\n - system member\n - system admin\n - domain users\n - project users\n\nChange-Id: I65a8a291e87a29f7ae819ba1ec177e955708db51\nRelated-Bug: 1804292\nRelated-Bug: 1804446\n'}, {'number': 3, 'created': '2018-11-28 15:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/389373859d5f4c4547448456364777102f448e08', 'message': 'Add region protection tests for system readers\n\nThis commit ensures we test the default roles provided with keystone\nagainst the scope types used in default region policies. Subsequent\npatches will include testing for:\n\n - system member\n - system admin\n - domain users\n - project users\n\nChange-Id: I65a8a291e87a29f7ae819ba1ec177e955708db51\nRelated-Bug: 1804292\nRelated-Bug: 1804446\n'}, {'number': 4, 'created': '2018-11-30 21:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/77c76b6b15cd7fd004c30cbbb116719fc03d5750', 'message': 'Add region protection tests for system readers\n\nThis commit ensures we test the default roles provided with keystone\nagainst the scope types used in default region policies. Subsequent\npatches will include testing for:\n\n - system member test coverage\n - system admin functionality\n - domain users test coverage\n - project users test coverage\n\nChange-Id: I65a8a291e87a29f7ae819ba1ec177e955708db51\nRelated-Bug: 1804292\nRelated-Bug: 1804446\n'}, {'number': 5, 'created': '2018-12-07 18:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ce60fcc1def83e5407608c3ec1447b078877fc03', 'message': 'Add region protection tests for system readers\n\nThis commit ensures we test the default roles provided with keystone\nagainst the scope types used in default region policies. Subsequent\npatches will include testing for:\n\n - system member test coverage\n - system admin functionality\n - domain users test coverage\n - project users test coverage\n\nChange-Id: I65a8a291e87a29f7ae819ba1ec177e955708db51\nRelated-Bug: 1804292\nRelated-Bug: 1804446\n'}, {'number': 6, 'created': '2018-12-18 22:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5bce545c166eb6274261f352d6db3d304f63bdd3', 'message': 'Add region protection tests for system readers\n\nThis commit ensures we test the default roles provided with keystone\nagainst the scope types used in default region policies. Subsequent\npatches will include testing for:\n\n - system member test coverage\n - system admin functionality\n - domain users test coverage\n - project users test coverage\n\nChange-Id: I65a8a291e87a29f7ae819ba1ec177e955708db51\nRelated-Bug: 1804292\nRelated-Bug: 1804446\n'}, {'number': 7, 'created': '2019-01-08 20:55:42.000000000', 'files': ['keystone/tests/unit/protection/v3/test_regions.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/fdf8cb1f0420eef27592d32f2e10066482304314', 'message': 'Add region protection tests for system readers\n\nThis commit ensures we test the default roles provided with keystone\nagainst the scope types used in default region policies. Subsequent\npatches will include testing for:\n\n - system member test coverage\n - system admin functionality\n - domain users test coverage\n - project users test coverage\n\nChange-Id: I65a8a291e87a29f7ae819ba1ec177e955708db51\nRelated-Bug: 1804292\nRelated-Bug: 1804446\n'}]",0,619085,fdf8cb1f0420eef27592d32f2e10066482304314,22,3,7,5046,,,0,"Add region protection tests for system readers

This commit ensures we test the default roles provided with keystone
against the scope types used in default region policies. Subsequent
patches will include testing for:

 - system member test coverage
 - system admin functionality
 - domain users test coverage
 - project users test coverage

Change-Id: I65a8a291e87a29f7ae819ba1ec177e955708db51
Related-Bug: 1804292
Related-Bug: 1804446
",git fetch https://review.opendev.org/openstack/keystone refs/changes/85/619085/4 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/protection/v3/test_regions.py'],1,e76bea5715ff6994f5b434f6ec01f388dba0313e,implement-default-roles,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from six.moves import http_client from keystone.common import provider_api import keystone.conf from keystone.tests.common import auth as common_auth from keystone.tests import unit from keystone.tests.unit import base_classes from keystone.tests.unit import ksfixtures CONF = keystone.conf.CONF PROVIDERS = provider_api.ProviderAPIs class _UserRegionTests(object): def test_user_can_get_a_region(self): region = PROVIDERS.catalog_api.create_region(unit.new_region_ref()) with self.test_client() as c: c.get('/v3/regions/%s' % region['id'], headers=self.headers) def test_user_can_list_regions(self): expected_regions = [] for _ in range(2): region = PROVIDERS.catalog_api.create_region(unit.new_region_ref()) expected_regions.append(region['id']) with self.test_client() as c: r = c.get('/v3/regions', headers=self.headers) for region in r.json['regions']: self.assertIn(region['id'], expected_regions) class SystemReaderTests(base_classes.TestCaseWithBootstrap, common_auth.AuthTestMixin, _UserRegionTests): def setUp(self): super(SystemReaderTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) system_reader = unit.new_user_ref( domain_id=CONF.identity.default_domain_id ) self.user_id = PROVIDERS.identity_api.create_user( system_reader )['id'] PROVIDERS.assignment_api.create_system_grant_for_user( self.user_id, self.bootstrapper.reader_role_id ) auth = self.build_authentication_request( user_id=self.user_id, password=system_reader['password'], system=True ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id} def test_user_cannot_create_regions(self): create = {'region': {'description': uuid.uuid4().hex}} with self.test_client() as c: c.post( '/v3/regions', json=create, headers=self.headers, expected_status_code=http_client.FORBIDDEN ) def test_user_cannot_update_regions(self): region = PROVIDERS.catalog_api.create_region(unit.new_region_ref()) with self.test_client() as c: update = {'region': {'description': uuid.uuid4().hex}} c.patch( '/v3/regions/%s' % region['id'], json=update, headers=self.headers, expected_status_code=http_client.FORBIDDEN ) def test_user_cannot_delete_regions(self): region = PROVIDERS.catalog_api.create_region(unit.new_region_ref()) with self.test_client() as c: c.delete( '/v3/regions/%s' % region['id'], headers=self.headers, expected_status_code=http_client.FORBIDDEN ) ",,108,0
openstack%2Ftripleo-heat-templates~master~I33017682e878d0542669aa8fbaba1968047aac24,openstack/tripleo-heat-templates,master,I33017682e878d0542669aa8fbaba1968047aac24,Ensure /var/lib/config-data exists before setting selinux context,MERGED,2019-01-21 16:02:38.000000000,2019-01-23 11:48:08.000000000,2019-01-23 11:48:07.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-01-21 16:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0928db72c83344b5dbde115bb70888965779b9b9', 'message': 'Ensure /var/lib/config-data exists before setting selinux context\n\nOtherwise the follow up task would fail on newly provisioned nodes.\n\nChange-Id: I33017682e878d0542669aa8fbaba1968047aac24\n'}, {'number': 2, 'created': '2019-01-22 08:21:34.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2e2b6297442b487408ba35b0b477c61ee66c550', 'message': 'Ensure /var/lib/config-data exists before setting selinux context\n\nOtherwise the follow up task would fail on newly provisioned nodes.\n\nChange-Id: I33017682e878d0542669aa8fbaba1968047aac24\n'}]",2,632120,c2e2b6297442b487408ba35b0b477c61ee66c550,16,10,2,8042,,,0,"Ensure /var/lib/config-data exists before setting selinux context

Otherwise the follow up task would fail on newly provisioned nodes.

Change-Id: I33017682e878d0542669aa8fbaba1968047aac24
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/632120/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,0928db72c83344b5dbde115bb70888965779b9b9,bp/upgrades-with-os, - name: ensure /var/lib/config-data exists file: path: /var/lib/config-data state: directory,,4,0
openstack%2Faodh~master~I37df2f7b1859727bd15b97ee28b0a11c65c54c85,openstack/aodh,master,I37df2f7b1859727bd15b97ee28b0a11c65c54c85,Replace tripleo-scenario002-multinode with scenario002-standalone,MERGED,2019-01-03 13:38:10.000000000,2019-01-23 11:03:41.000000000,2019-01-23 11:03:41.000000000,"[{'_account_id': 1669}, {'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 29360}]","[{'number': 1, 'created': '2019-01-03 13:38:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/65849538e392d00a85322d212a94abedefd80abd', 'message': 'Replace tripleo-scenario002-multinode with scenario002-standalone\n\nChange-Id: I37df2f7b1859727bd15b97ee28b0a11c65c54c85\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/532\n'}]",0,628179,65849538e392d00a85322d212a94abedefd80abd,12,7,1,8175,,,0,"Replace tripleo-scenario002-multinode with scenario002-standalone

Change-Id: I37df2f7b1859727bd15b97ee28b0a11c65c54c85
Story: https://tree.taiga.io/project/tripleo-ci-board/us/532
",git fetch https://review.opendev.org/openstack/aodh refs/changes/79/628179/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,65849538e392d00a85322d212a94abedefd80abd,replace-scen2, - tripleo-ci-centos-7-scenario002-standalone, - tripleo-ci-centos-7-scenario002-multinode-oooq-container,1,1
openstack%2Ftripleo-heat-templates~master~I4aa8055fe800723b3e140f8232c9e41e769e11f3,openstack/tripleo-heat-templates,master,I4aa8055fe800723b3e140f8232c9e41e769e11f3,use include_tasks instead of include,MERGED,2018-10-23 04:41:00.000000000,2019-01-23 10:48:46.000000000,2019-01-22 22:04:07.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29068}]","[{'number': 1, 'created': '2018-10-23 04:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16f0964a969e359cfb2e1a44b87df5d488f76fad', 'message': 'use include_tasks instead of include\n\nChange-Id: I4aa8055fe800723b3e140f8232c9e41e769e11f3\n'}, {'number': 2, 'created': '2019-01-16 20:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/111d6a43673592752749b47f9765f35695930bce', 'message': 'use include_tasks instead of include\n\nChange-Id: I4aa8055fe800723b3e140f8232c9e41e769e11f3\n'}, {'number': 3, 'created': '2019-01-22 04:54:34.000000000', 'files': ['extraconfig/services/kubernetes-master.yaml', 'common/deploy-steps.j2', 'extraconfig/services/openshift-master.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a6479d0b51873ae57055293fb5481979398f9e96', 'message': 'use include_tasks instead of include\n\nChange-Id: I4aa8055fe800723b3e140f8232c9e41e769e11f3\n'}]",0,612592,a6479d0b51873ae57055293fb5481979398f9e96,17,6,3,27781,,,0,"use include_tasks instead of include

Change-Id: I4aa8055fe800723b3e140f8232c9e41e769e11f3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/612592/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/services/kubernetes-master.yaml', 'common/deploy-steps.j2', 'extraconfig/services/openshift-master.yaml']",3,16f0964a969e359cfb2e1a44b87df5d488f76fad,612592," - include_tasks: ""{{openshift_prerequisites_playbook_path}}"" - include_tasks: ""{{openshift_master_scaleup_playbook_path}}"" - include_tasks: ""{{openshift_worker_scaleup_playbook_path}}"" - include_tasks: ""{{openshift_upgrade_playbook_path}}"" - include_tasks: ""{{openshift_ansible_playbook_path}}"""," - include: ""{{openshift_prerequisites_playbook_path}}"" - include: ""{{openshift_master_scaleup_playbook_path}}"" - include: ""{{openshift_worker_scaleup_playbook_path}}"" - include: ""{{openshift_upgrade_playbook_path}}"" - include: ""{{openshift_ansible_playbook_path}}""",10,10
openstack%2Fmagnum~master~I13d86b0dc7c232a51149107f0412219388d8c2cd,openstack/magnum,master,I13d86b0dc7c232a51149107f0412219388d8c2cd,support http/https proxy for discovery url,MERGED,2019-01-02 19:01:22.000000000,2019-01-23 10:42:03.000000000,2019-01-23 10:42:03.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 9178}, {'_account_id': 14892}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-02 19:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5624406f7eed784933c4e988b770b7be6333d16d', 'message': 'support http/https proxy for discovery url\n\nHTTP(S) proxy can be specified when creating the template.\n\nhttps://docs.openstack.org/magnum/latest/admin/magnum-proxy.html\n\nHowever, it is not being utilized when talking to a public etcd discovery\nservice, which result in failed cluster creation. We need to be able to\nuse HTTP(S) proxy when services are running behind a firewall.\n\nChange-Id: I13d86b0dc7c232a51149107f0412219388d8c2cd\nstory: 2004664\n'}, {'number': 2, 'created': '2019-01-02 21:17:18.000000000', 'files': ['magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ffc61816c8cf7d6d3f1129b0d520a661b3b8cddf', 'message': 'support http/https proxy for discovery url\n\nHTTP(S) proxy can be specified when creating the template.\n\nhttps://docs.openstack.org/magnum/latest/admin/magnum-proxy.html\n\nHowever, it is not being utilized when talking to a public etcd discovery\nservice, which result in failed cluster creation. We need to be able to\nuse HTTP(S) proxy when services are running behind a firewall.\n\nChange-Id: I13d86b0dc7c232a51149107f0412219388d8c2cd\nstory: 2004664\n'}]",0,628026,ffc61816c8cf7d6d3f1129b0d520a661b3b8cddf,12,6,2,1916,,,0,"support http/https proxy for discovery url

HTTP(S) proxy can be specified when creating the template.

https://docs.openstack.org/magnum/latest/admin/magnum-proxy.html

However, it is not being utilized when talking to a public etcd discovery
service, which result in failed cluster creation. We need to be able to
use HTTP(S) proxy when services are running behind a firewall.

Change-Id: I13d86b0dc7c232a51149107f0412219388d8c2cd
story: 2004664
",git fetch https://review.opendev.org/openstack/magnum refs/changes/26/628026/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh']",6,5624406f7eed784933c4e988b770b7be6333d16d,story-2004664,"if [ -n ""$HTTP_PROXY"" -o ""$HTTPS_PROXY"" ]; then ETCD_DISCOVERY_PROTOCOL=$(python -c ""import urlparse; print urlparse.urlparse('${ETCD_DISCOVERY_URL}').scheme"") ETCD_DISCOVERY_HOSTNAME=$(python -c ""import urlparse; print urlparse.urlparse('${ETCD_DISCOVERY_URL}').netloc.partition(':')[0]"") # prints 1 if $ETCD_DISCOVERY_HOSTNAME is listed explicitly in $NO_PROXY, or $NO_PROXY is set to ""*"" ETCD_DISCOVERY_PROXY_BYPASS=$(NO_PROXY=""${NO_PROXY}"" python -c ""import requests; print requests.utils.proxy_bypass('${ETCD_DISCOVERY_HOSTNAME}')"") if [ $ETCD_DISCOVERY_PROXY_BYPASS == ""0"" ]; then if [ -n ""$HTTP_PROXY"" -a ""$ETCD_DISCOVERY_PROTOCOL"" == ""http"" ]; then echo ""ETCD_DISCOVERY_PROXY=$HTTP_PROXY"" >> /etc/etcd/etcd.conf elif [ -n ""$HTTPS_PROXY"" -a ""$ETCD_DISCOVERY_PROTOCOL"" == ""https"" ]; then echo ""ETCD_DISCOVERY_PROXY=$HTTPS_PROXY"" >> /etc/etcd/etcd.conf fi fi","if [ -n ""$HTTP_PROXY"" ]; then echo ""ETCD_DISCOVERY_PROXY=$HTTP_PROXY"" >> /etc/etcd/etcd.conf",208,9
openstack%2Ftripleo-quickstart-extras~master~I5a905ec7499a6faa08cbcacfccb19a6e424e4a80,openstack/tripleo-quickstart-extras,master,I5a905ec7499a6faa08cbcacfccb19a6e424e4a80,Use environments/ssl directory for getting CA environment,MERGED,2019-01-18 09:57:20.000000000,2019-01-23 10:21:29.000000000,2019-01-23 10:21:28.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-01-18 09:57:20.000000000', 'files': ['roles/overcloud-ssl/library/tls_tht.py'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2f6d455dded58bd74c573adda3e39abe8a0b92b2', 'message': 'Use environments/ssl directory for getting CA environment\n\nEven if we changed to using that directory [1], we had missed this\nenvironment.\n\n[1] I53851edbb8bb562dc4194fb99d6ade259227d2f9\n\nChange-Id: I5a905ec7499a6faa08cbcacfccb19a6e424e4a80\n'}]",0,631758,2f6d455dded58bd74c573adda3e39abe8a0b92b2,32,10,1,10873,,,0,"Use environments/ssl directory for getting CA environment

Even if we changed to using that directory [1], we had missed this
environment.

[1] I53851edbb8bb562dc4194fb99d6ade259227d2f9

Change-Id: I5a905ec7499a6faa08cbcacfccb19a6e424e4a80
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/58/631758/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-ssl/library/tls_tht.py'],1,2f6d455dded58bd74c573adda3e39abe8a0b92b2,," ""{}environments/ssl/inject-trust-anchor.yaml"".format(source_dir)"," ""{}environments/inject-trust-anchor.yaml"".format(source_dir)",1,1
openstack%2Ftripleo-quickstart~master~I365e5feced83a905a0b3bc0a6deb03ebce3c0d8b,openstack/tripleo-quickstart,master,I365e5feced83a905a0b3bc0a6deb03ebce3c0d8b,Added requirements for integrating os_tempest role,MERGED,2019-01-04 12:25:35.000000000,2019-01-23 10:14:42.000000000,2019-01-23 10:14:42.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-04 12:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9677da4036d75d90314311344861eecff2b899eb', 'message': '[WIP] add os_tempest role as a TQE extras\n\nChange-Id: I365e5feced83a905a0b3bc0a6deb03ebce3c0d8b\n'}, {'number': 2, 'created': '2019-01-04 16:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a502047132c76e2531b631b036b90f215eb0b5e2', 'message': '[WIP] add os_tempest role as a TQE extras\n\nChange-Id: I365e5feced83a905a0b3bc0a6deb03ebce3c0d8b\n'}, {'number': 3, 'created': '2019-01-08 10:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/818b309694e8228963add21796d76238558a36d9', 'message': 'Add os_tempest role as a TQE extras\n\nChange-Id: I365e5feced83a905a0b3bc0a6deb03ebce3c0d8b\n'}, {'number': 4, 'created': '2019-01-09 08:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f10c28750625724e2f1f41a26a0a4103a83058a5', 'message': 'Add os_tempest role as a TQE extras\n\nChange-Id: I365e5feced83a905a0b3bc0a6deb03ebce3c0d8b\n'}, {'number': 5, 'created': '2019-01-14 14:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6256ddc9b89204f4cdfed1026f17248b064aef81', 'message': 'Add os_tempest role as a TQE extras\n\nIt fixed the role_path for os_tempest so that it will be\ndiscovered by TQ.\n\nChange-Id: I365e5feced83a905a0b3bc0a6deb03ebce3c0d8b\n'}, {'number': 6, 'created': '2019-01-15 09:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b70008df955ecf5ffd03eefe9209984ebf715079', 'message': 'Add os_tempest role as a TQE extras\n\nChange-Id: I365e5feced83a905a0b3bc0a6deb03ebce3c0d8b\n'}, {'number': 7, 'created': '2019-01-16 13:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d7d56919c70afdc2d3e17c440356282ffee9c296', 'message': 'Add os_tempest role as a TQE extras\n\n* os_tempest depends on ansible-config_template role\n\nChange-Id: I365e5feced83a905a0b3bc0a6deb03ebce3c0d8b\n'}, {'number': 8, 'created': '2019-01-17 12:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fa0d618201e666b07295e4a1bf38de4792254dbe', 'message': 'Add os_tempest role as a TQE extras\n\n* os_tempest depends on ansible-config_template role\n* Added action_plugin and library path so that it will be\n  discovered by ansible.\n\nChange-Id: I365e5feced83a905a0b3bc0a6deb03ebce3c0d8b\n'}, {'number': 9, 'created': '2019-01-17 13:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/923f91e3a0f584b8d9b9ae95c7611762be947b20', 'message': 'Add os_tempest role as a TQE extras\n\n* os_tempest depends on ansible-config_template role\n* Added action_plugin and library path so that it will be\n  discovered by ansible.\n\nChange-Id: I365e5feced83a905a0b3bc0a6deb03ebce3c0d8b\n'}, {'number': 10, 'created': '2019-01-18 11:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3192a7a53ff6d8fc31cdc2353cf24e84874eaf84', 'message': 'Added requirements for integrating os_tempest role\n\n* os_tempest depends on ansible-config_template and\n  python_venv_build role\n* Added action_plugin in ansible.cfg so that it will be\n  discovered by ansible.\n\nChange-Id: I365e5feced83a905a0b3bc0a6deb03ebce3c0d8b\n'}, {'number': 11, 'created': '2019-01-18 11:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1e4a976600d1a61448b2df6169741a1a27bc0799', 'message': 'Added requirements for integrating os_tempest role\n\n* os_tempest depends on ansible-config_template and\n  python_venv_build role\n* Added action_plugin in ansible.cfg so that it will be\n  discovered by ansible.\n\nChange-Id: I365e5feced83a905a0b3bc0a6deb03ebce3c0d8b\n'}, {'number': 12, 'created': '2019-01-21 08:31:45.000000000', 'files': ['quickstart-extras-requirements.txt', 'ansible.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/990df7d4bbca04fdd43785288920b36fa6525690', 'message': 'Added requirements for integrating os_tempest role\n\n* os_tempest depends on ansible-config_template and\n  python_venv_build role\n* Added action_plugin in ansible.cfg so that it will be\n  discovered by ansible.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/us/554\n\nChange-Id: I365e5feced83a905a0b3bc0a6deb03ebce3c0d8b\n'}]",5,628421,990df7d4bbca04fdd43785288920b36fa6525690,61,10,12,12393,,,0,"Added requirements for integrating os_tempest role

* os_tempest depends on ansible-config_template and
  python_venv_build role
* Added action_plugin in ansible.cfg so that it will be
  discovered by ansible.

https://tree.taiga.io/project/tripleo-ci-board/us/554

Change-Id: I365e5feced83a905a0b3bc0a6deb03ebce3c0d8b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/21/628421/3 && git format-patch -1 --stdout FETCH_HEAD,['quickstart-extras-requirements.txt'],1,9677da4036d75d90314311344861eecff2b899eb,ostempest_tripleo,git+https://git.openstack.org/openstack/openstack-ansible-os_tempest/#egg=os_tempest,,1,0
openstack%2Fkuryr-kubernetes~stable%2Frocky~If4760625728539adb336e44ce881e04454c09d40,openstack/kuryr-kubernetes,stable/rocky,If4760625728539adb336e44ce881e04454c09d40,Avoid octavia default sg rules collision with kuryr ones,MERGED,2019-01-22 13:21:24.000000000,2019-01-23 10:08:14.000000000,2019-01-23 10:08:14.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-01-22 13:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/81255642875badfd7eb1d5ea361563ba47fd6c38', 'message': 'Avoid octavia default sg rules collision with kuryr ones\n\nKuryr is adding sg rules to the loadbalancer to ensure namespace\nisolation. Octavia is also adding sg rules when creating listeners.\nOctavia is checking if a rule in the same protocol, direction and\nport is already created before adding its own. However, if by any\nchance kuryr is delayed adding its own rules (as it is already\nhappening in some gates), octavia will add its own first, and then\nkuryr-controller will do it two. Thus having extra rules that will\nbreak the isolation enforcement.\n\nCloses-Bug: 1810395\nChange-Id: If4760625728539adb336e44ce881e04454c09d40\n'}, {'number': 2, 'created': '2019-01-22 13:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c4c57343d70a7e8d20c6faab383868e22b4780a9', 'message': 'Avoid octavia default sg rules collision with kuryr ones\n\nKuryr is adding sg rules to the loadbalancer to ensure namespace\nisolation. Octavia is also adding sg rules when creating listeners.\nOctavia is checking if a rule in the same protocol, direction and\nport is already created before adding its own. However, if by any\nchance kuryr is delayed adding its own rules (as it is already\nhappening in some gates), octavia will add its own first, and then\nkuryr-controller will do it two. Thus having extra rules that will\nbreak the isolation enforcement.\n\nCloses-Bug: 1810395\n(cherry picked from commit 60a1e19d49e8aad4f02de12838076b0d094ab526)\nChange-Id: If4760625728539adb336e44ce881e04454c09d40\n'}, {'number': 3, 'created': '2019-01-22 15:34:37.000000000', 'files': ['kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1d56b5b26dee769a55de3c677bde2ed63992c4ed', 'message': 'Avoid octavia default sg rules collision with kuryr ones\n\nKuryr is adding sg rules to the loadbalancer to ensure namespace\nisolation. Octavia is also adding sg rules when creating listeners.\nOctavia is checking if a rule in the same protocol, direction and\nport is already created before adding its own. However, if by any\nchance kuryr is delayed adding its own rules (as it is already\nhappening in some gates), octavia will add its own first, and then\nkuryr-controller will do it two. Thus having extra rules that will\nbreak the isolation enforcement.\n\nCloses-Bug: 1810395\n(cherry picked from commit 60a1e19d49e8aad4f02de12838076b0d094ab526)\nChange-Id: If4760625728539adb336e44ce881e04454c09d40\n'}]",4,632464,1d56b5b26dee769a55de3c677bde2ed63992c4ed,16,5,3,23567,,,0,"Avoid octavia default sg rules collision with kuryr ones

Kuryr is adding sg rules to the loadbalancer to ensure namespace
isolation. Octavia is also adding sg rules when creating listeners.
Octavia is checking if a rule in the same protocol, direction and
port is already created before adding its own. However, if by any
chance kuryr is delayed adding its own rules (as it is already
happening in some gates), octavia will add its own first, and then
kuryr-controller will do it two. Thus having extra rules that will
break the isolation enforcement.

Closes-Bug: 1810395
(cherry picked from commit 60a1e19d49e8aad4f02de12838076b0d094ab526)
Change-Id: If4760625728539adb336e44ce881e04454c09d40
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/64/632464/3 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/lbaasv2.py'],1,81255642875badfd7eb1d5ea361563ba47fd6c38,bug/1810395," def _remove_default_octavia_rules(self, sg_id, listener): neutron = clients.get_neutron_client() for remaining in self._provisioning_timer( _ACTIVATION_TIMEOUT, _LB_STS_POLL_SLOW_INTERVAL): listener_rules = neutron.list_security_group_rules( security_group_id=sg_id, protocol=listener.protocol, port_range_min=listener.port, port_range_max=listener.port, direction='ingress') for rule in listener_rules['security_group_rules']: if not (rule.get('remote_group_id') or rule.get('remote_ip_prefix')): # remove default sg rules neutron.delete_security_group_rule(rule['id']) return # wait until octavia adds default sg rules self._remove_default_octavia_rules(sg_id, listener) ",,21,0
openstack%2Fceilometermiddleware~master~Ia94744cd428183d30688ff3731dfddc0c68c1130,openstack/ceilometermiddleware,master,Ia94744cd428183d30688ff3731dfddc0c68c1130,Change openstack-dev to openstack-discuss in setup.cfg,NEW,2019-01-22 08:13:42.000000000,2019-01-23 09:58:34.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-01-22 08:13:42.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/d21a2c38ea00bb6fce343c74d6c9c4eb2a7274d5', 'message': 'Change openstack-dev to openstack-discuss in setup.cfg\n\nChange-Id: Ia94744cd428183d30688ff3731dfddc0c68c1130\n'}]",0,632289,d21a2c38ea00bb6fce343c74d6c9c4eb2a7274d5,4,3,1,29423,,,0,"Change openstack-dev to openstack-discuss in setup.cfg

Change-Id: Ia94744cd428183d30688ff3731dfddc0c68c1130
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/89/632289/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d21a2c38ea00bb6fce343c74d6c9c4eb2a7274d5,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstackclient~master~I66407ea8c03f222cb4d03b72f73031ca13bdfc52,openstack/openstackclient,master,I66407ea8c03f222cb4d03b72f73031ca13bdfc52,Change openstack-dev to openstack-discuss in setup.cfg,NEW,2019-01-22 11:52:56.000000000,2019-01-23 09:50:39.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-01-22 11:52:56.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/2412f144d232311509de08211d47960248beb29d', 'message': 'Change openstack-dev to openstack-discuss in setup.cfg\n\nChange-Id: I66407ea8c03f222cb4d03b72f73031ca13bdfc52\n'}]",0,632439,2412f144d232311509de08211d47960248beb29d,4,3,1,29423,,,0,"Change openstack-dev to openstack-discuss in setup.cfg

Change-Id: I66407ea8c03f222cb4d03b72f73031ca13bdfc52
",git fetch https://review.opendev.org/openstack/openstackclient refs/changes/39/632439/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2412f144d232311509de08211d47960248beb29d,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fsahara-plugin-spark~master~I423ffb24679895570e26e620a72749d91fdab77d,openstack/sahara-plugin-spark,master,I423ffb24679895570e26e620a72749d91fdab77d,Update mailinglist from dev to discuss,MERGED,2019-01-23 07:24:32.000000000,2019-01-23 09:48:07.000000000,2019-01-23 09:48:07.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 07:24:32.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/84c8877c113be699281fd18e7d24c65a3aafeea6', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: I423ffb24679895570e26e620a72749d91fdab77d\n'}]",0,632625,84c8877c113be699281fd18e7d24c65a3aafeea6,6,2,1,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: I423ffb24679895570e26e620a72749d91fdab77d
",git fetch https://review.opendev.org/openstack/sahara-plugin-spark refs/changes/25/632625/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,84c8877c113be699281fd18e7d24c65a3aafeea6,change-email,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fsahara-plugin-vanilla~master~Id3fb3340174f424d2e614bf76fd853a4ba24fa8e,openstack/sahara-plugin-vanilla,master,Id3fb3340174f424d2e614bf76fd853a4ba24fa8e,Update mailinglist from dev to discuss,MERGED,2019-01-23 07:28:47.000000000,2019-01-23 09:48:00.000000000,2019-01-23 09:47:59.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 07:28:47.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-vanilla/commit/7a20d8a12ad0ed6247dfaff06b9fc17837f931c8', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: Id3fb3340174f424d2e614bf76fd853a4ba24fa8e\n'}]",0,632628,7a20d8a12ad0ed6247dfaff06b9fc17837f931c8,6,2,1,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: Id3fb3340174f424d2e614bf76fd853a4ba24fa8e
",git fetch https://review.opendev.org/openstack/sahara-plugin-vanilla refs/changes/28/632628/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7a20d8a12ad0ed6247dfaff06b9fc17837f931c8,change-email,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fsahara-plugin-storm~master~Ic508810189ad3529bca17075f93cc41f8fb77b5e,openstack/sahara-plugin-storm,master,Ic508810189ad3529bca17075f93cc41f8fb77b5e,Update mailinglist from dev to discuss,MERGED,2019-01-23 07:28:01.000000000,2019-01-23 09:48:00.000000000,2019-01-23 09:48:00.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 07:28:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-storm/commit/bfe0884acebc77e8fb003b4ef5026620d264493e', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: Ic508810189ad3529bca17075f93cc41f8fb77b5e\n'}]",0,632627,bfe0884acebc77e8fb003b4ef5026620d264493e,6,2,1,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: Ic508810189ad3529bca17075f93cc41f8fb77b5e
",git fetch https://review.opendev.org/openstack/sahara-plugin-storm refs/changes/27/632627/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bfe0884acebc77e8fb003b4ef5026620d264493e,change-email,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Frenderspec~master~I9738d30bc2089533dfc6623ba934ba6d5569acb8,openstack/renderspec,master,I9738d30bc2089533dfc6623ba934ba6d5569acb8,Update home-page,MERGED,2019-01-12 09:53:20.000000000,2019-01-23 09:30:41.000000000,2019-01-23 09:30:40.000000000,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-12 09:53:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/dcc565f85830122bfb919efdb941576ba58f8ceb', 'message': 'Update home-page\n\nChange-Id: I9738d30bc2089533dfc6623ba934ba6d5569acb8\n'}]",0,630438,dcc565f85830122bfb919efdb941576ba58f8ceb,10,6,1,26297,,,0,"Update home-page

Change-Id: I9738d30bc2089533dfc6623ba934ba6d5569acb8
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/38/630438/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,dcc565f85830122bfb919efdb941576ba58f8ceb,,home-page = https://docs.openstack.org/renderspec/latest/,home-page = http://docs.openstack.org/developer/renderspec/,1,1
openstack%2Frpm-packaging~stable%2Fpike~Ic28b814b27a0586e1b4c127fd6ab76659da127e0,openstack/rpm-packaging,stable/pike,Ic28b814b27a0586e1b4c127fd6ab76659da127e0,January bugfix releases for Pike,MERGED,2019-01-23 02:26:12.000000000,2019-01-23 09:23:48.000000000,2019-01-23 09:23:48.000000000,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 02:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8a587571214c958f88543fdfe4dedb6bb4f6bea2', 'message': 'January bugfix releases for Pike\n\nChange-Id: Ic28b814b27a0586e1b4c127fd6ab76659da127e0\n'}, {'number': 2, 'created': '2019-01-23 08:30:48.000000000', 'files': ['openstack/os-vif/os-vif.spec.j2', 'openstack/oslo.db/oslo.db.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/oslo.messaging/0001-Do-not-access-the-connection-s-socket-during-error-c.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/93414d9be01b07c68ff96d4f3bfa87ab958bfc66', 'message': 'January bugfix releases for Pike\n\nChange-Id: Ic28b814b27a0586e1b4c127fd6ab76659da127e0\n'}]",0,632595,93414d9be01b07c68ff96d4f3bfa87ab958bfc66,13,6,2,6593,,,0,"January bugfix releases for Pike

Change-Id: Ic28b814b27a0586e1b4c127fd6ab76659da127e0
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/95/632595/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/os-vif/os-vif.spec.j2', 'openstack/oslo.db/oslo.db.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2']",3,8a587571214c958f88543fdfe4dedb6bb4f6bea2,632595,Version: 5.30.7,Version: 5.30.6,3,3
openstack%2Fheat~stable%2Fpike~I199afcbaa5050226a333779ac22aea3451f94b04,openstack/heat,stable/pike,I199afcbaa5050226a333779ac22aea3451f94b04,Use fedora 29 image from nodepool mirror,MERGED,2018-12-05 06:04:13.000000000,2019-01-23 09:21:25.000000000,2019-01-23 09:21:24.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 06:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9db7778389db8ff9f8b25200359610ad485f694e', 'message': 'Use fedora 29 image from nodepool mirror\n\nIt seems fedora 27 cloud images are not available.\n\nChange-Id: I199afcbaa5050226a333779ac22aea3451f94b04\n(cherry picked from commit b5333aea94237fe8388ef5bdf2f758d5fedfc887)\n'}, {'number': 2, 'created': '2019-01-07 07:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e03dbcfdf792ec9cc6540bc0844adaef22781bd2', 'message': 'Use fedora 29 image from nodepool mirror\n\nIt seems fedora 27 cloud images are not available.\n\nAlso includes:\n\nAdd heat-agents as required project\n\nWe removed[1] these scripts from heat-templates.\n\n[1] https://review.openstack.org/#/c/584777/\n\nChange-Id: I199afcbaa5050226a333779ac22aea3451f94b04\n(cherry picked from commit b5333aea94237fe8388ef5bdf2f758d5fedfc887\n                       and a2f74772e19ea5b3a1ffc7f2fb7ecfabe41e4450)\n'}, {'number': 3, 'created': '2019-01-14 09:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5bb62124f15dbcfe429e709525338bb07aeefff3', 'message': ""Use fedora 28 image from nodepool mirror\n\nIt seems fedora 27 cloud images are not available.\n\nAlso includes:\n\nAdd heat-agents as required project\n\nWe removed[1] these scripts from heat-templates.\n\nNote: Though this a backport, the image has been changed to f28 we're\nseeing some networking issues specifically on pike branch.\n\n[1] https://review.openstack.org/#/c/584777/\n\nChange-Id: I199afcbaa5050226a333779ac22aea3451f94b04\n(cherry picked from commit b5333aea94237fe8388ef5bdf2f758d5fedfc887\n                       and a2f74772e19ea5b3a1ffc7f2fb7ecfabe41e4450)\n""}, {'number': 4, 'created': '2019-01-23 04:18:21.000000000', 'files': ['heat_integrationtests/pre_test_hook.sh', 'playbooks/devstack/functional/run.yaml', '.zuul.yaml', 'heat_integrationtests/scenario/test_server_signal.py', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/2c868e89397b59c6f4c9abe60802959992fb80ca', 'message': 'Use fedora 29 image from nodepool mirror\n\nIt seems fedora 27 cloud images are not available.\n\nAlso includes a few more changes to fix the gate:\n\n- Bumps flavor for\ntest_server_signal_userdata_format_software_config\n\n- Add heat-agents as required project\n\nWe removed[1] these scripts from heat-templates.\n\n[1] https://review.openstack.org/#/c/584777/\n\nChange-Id: I199afcbaa5050226a333779ac22aea3451f94b04\n(cherry picked from commit b5333aea94237fe8388ef5bdf2f758d5fedfc887\n                       and a2f74772e19ea5b3a1ffc7f2fb7ecfabe41e4450)\n'}]",0,622853,2c868e89397b59c6f4c9abe60802959992fb80ca,23,3,4,8833,,,0,"Use fedora 29 image from nodepool mirror

It seems fedora 27 cloud images are not available.

Also includes a few more changes to fix the gate:

- Bumps flavor for
test_server_signal_userdata_format_software_config

- Add heat-agents as required project

We removed[1] these scripts from heat-templates.

[1] https://review.openstack.org/#/c/584777/

Change-Id: I199afcbaa5050226a333779ac22aea3451f94b04
(cherry picked from commit b5333aea94237fe8388ef5bdf2f758d5fedfc887
                       and a2f74772e19ea5b3a1ffc7f2fb7ecfabe41e4450)
",git fetch https://review.opendev.org/openstack/heat refs/changes/53/622853/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat_integrationtests/pre_test_hook.sh', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh']",3,9db7778389db8ff9f8b25200359610ad485f694e,fix_stable_pike_gate,iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-29-1.2.x86_64,iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-27-1.6.x86_64,4,4
openstack%2Fironic~master~If7828f72724cc7532f97cab758a29a9e8345850e,openstack/ironic,master,If7828f72724cc7532f97cab758a29a9e8345850e,Build UEFI-only ISO for UEFI boot,MERGED,2018-12-10 13:47:43.000000000,2019-01-23 09:18:56.000000000,2019-01-23 04:08:48.000000000,"[{'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 25547}, {'_account_id': 26340}, {'_account_id': 28429}]","[{'number': 1, 'created': '2018-12-10 13:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bceb820254922d7827b427d4d168d61bd5daae40', 'message': 'Build UEFI-only ISO for UEFI boot\n\nThis change makes ironic building UEFI-only bootable\nISO image (when being asked to build a UEFI-bootable image)\nrather than building a hybrid BIOS/UEFI-bootable ISO.\n\nThe motivation behind this change is to make node boot more\npredicable in the sense that if the user asks for UEFI boot,\nthe node would either boot over UEFI or fail.\n\nOn top of that, the ISO image slims down a tad bit and syslinux\nboot loader presence on the conductor machine is not a\nrequirement any more.\n\nChange-Id: If7828f72724cc7532f97cab758a29a9e8345850e\nStory: 1526753\nTask: 28368\n'}, {'number': 2, 'created': '2019-01-23 00:27:11.000000000', 'files': ['ironic/tests/unit/common/test_images.py', 'releasenotes/notes/build-uefi-only-iso-ce6bcb0da578d1d6.yaml', 'ironic/common/images.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4008c9bfa4175a5eb15b2e49cfacb02db1b3c8d9', 'message': 'Build UEFI-only ISO for UEFI boot\n\nThis change makes ironic building UEFI-only bootable\nISO image (when being asked to build a UEFI-bootable image)\nrather than building a hybrid BIOS/UEFI-bootable ISO.\n\nThe motivation behind this change is to make node boot more\npredicable in the sense that if the user asks for UEFI boot,\nthe node would either boot over UEFI or fail.\n\nOn top of that, the ISO image slims down a tad bit and syslinux\nboot loader presence on the conductor machine is not a\nrequirement any more.\n\nChange-Id: If7828f72724cc7532f97cab758a29a9e8345850e\nStory: 1526753\nTask: 28368\n'}]",0,624084,4008c9bfa4175a5eb15b2e49cfacb02db1b3c8d9,34,12,2,26340,,,0,"Build UEFI-only ISO for UEFI boot

This change makes ironic building UEFI-only bootable
ISO image (when being asked to build a UEFI-bootable image)
rather than building a hybrid BIOS/UEFI-bootable ISO.

The motivation behind this change is to make node boot more
predicable in the sense that if the user asks for UEFI boot,
the node would either boot over UEFI or fail.

On top of that, the ISO image slims down a tad bit and syslinux
boot loader presence on the conductor machine is not a
requirement any more.

Change-Id: If7828f72724cc7532f97cab758a29a9e8345850e
Story: 1526753
Task: 28368
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/624084/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_images.py', 'releasenotes/notes/build-uefi-only-iso-ce6bcb0da578d1d6.yaml', 'ironic/common/images.py']",3,bceb820254922d7827b427d4d168d61bd5daae40,build-uefi-only-iso," utils.execute('mkisofs', '-r', '-V', ""VMEDIA_BOOT_ISO"", '-l',"," ISOLINUX_BIN = 'isolinux/isolinux.bin' ISOLINUX_CFG = 'isolinux/isolinux.cfg' isolinux_options = {'kernel': '/vmlinuz', 'ramdisk': '/initrd'} CONF.isolinux_bin: ISOLINUX_BIN, cfg = _generate_cfg(kernel_params, CONF.isolinux_config_template, isolinux_options) isolinux_cfg = os.path.join(tmpdir, ISOLINUX_CFG) utils.write_to_file(isolinux_cfg, cfg) utils.execute('mkisofs', '-r', '-V', ""VMEDIA_BOOT_ISO"", '-cache-inodes', '-J', '-l', '-no-emul-boot', '-boot-load-size', '4', '-boot-info-table', '-b', ISOLINUX_BIN, '-eltorito-alt-boot',",12,29
openstack%2Frpm-packaging~master~I2dccd5afc11c20bf0d521b0c5dbc01e975b178f4,openstack/rpm-packaging,master,I2dccd5afc11c20bf0d521b0c5dbc01e975b178f4,openstacksdk: Update to 0.23.0,MERGED,2018-12-13 21:12:10.000000000,2019-01-23 09:10:50.000000000,2019-01-23 09:10:50.000000000,"[{'_account_id': 1916}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-13 21:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/880e1016d0f4d73cddf8a8245703d5c012fc5bca', 'message': 'openstacksdk: Update to 0.20.0\n\nChange-Id: I2dccd5afc11c20bf0d521b0c5dbc01e975b178f4\n'}, {'number': 2, 'created': '2018-12-17 18:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e2c01ac04225627448ab0fa32d0c9c32de499477', 'message': 'openstacksdk: Update to 0.20.0\n\nChange-Id: I2dccd5afc11c20bf0d521b0c5dbc01e975b178f4\n'}, {'number': 3, 'created': '2019-01-02 09:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/14ce1b6cffd89771c72cbe17c032a1ab82a83ce5', 'message': 'openstacksdk: Update to 0.20.0\n\nDepends-On: Ibcc22ce971f3b7398ccefafc07dcfabd505abfaa\nChange-Id: I2dccd5afc11c20bf0d521b0c5dbc01e975b178f4\n'}, {'number': 4, 'created': '2019-01-03 11:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7c9cbb1d9d7a97949e568ef06d16eaf2c39c2e22', 'message': 'openstacksdk: Update to 0.20.0\n\nDepends-On: Ibcc22ce971f3b7398ccefafc07dcfabd505abfaa\nChange-Id: I2dccd5afc11c20bf0d521b0c5dbc01e975b178f4\n'}, {'number': 5, 'created': '2019-01-03 14:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/411c55d7241f94cb10b1bfb0d9852db7acbc31d8', 'message': 'openstacksdk: Update to 0.20.0\n\nDepends-On: Ibcc22ce971f3b7398ccefafc07dcfabd505abfaa\nChange-Id: I2dccd5afc11c20bf0d521b0c5dbc01e975b178f4\n'}, {'number': 6, 'created': '2019-01-04 10:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2bb51cfa09f2a8c1479d32291b797cdd4bf63fec', 'message': 'openstacksdk: Update to 0.22.0\n\nChange-Id: I2dccd5afc11c20bf0d521b0c5dbc01e975b178f4\n'}, {'number': 7, 'created': '2019-01-04 12:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/91a0b989b9b69f2b20aaa606fc758388b06a69c2', 'message': 'openstacksdk: Update to 0.22.0\n\nChange-Id: I2dccd5afc11c20bf0d521b0c5dbc01e975b178f4\n'}, {'number': 8, 'created': '2019-01-11 05:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6a667da3d6f01e34509e542a199e65d8eec447ee', 'message': 'openstacksdk: Update to 0.22.0\n\nChange-Id: I2dccd5afc11c20bf0d521b0c5dbc01e975b178f4\n'}, {'number': 9, 'created': '2019-01-22 09:15:34.000000000', 'files': ['openstack/openstacksdk/openstacksdk.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1d510fdf48514fde5e28f2a51dd57df86fad099e', 'message': 'openstacksdk: Update to 0.23.0\n\nChange-Id: I2dccd5afc11c20bf0d521b0c5dbc01e975b178f4\n'}]",2,625117,1d510fdf48514fde5e28f2a51dd57df86fad099e,81,8,9,7102,,,0,"openstacksdk: Update to 0.23.0

Change-Id: I2dccd5afc11c20bf0d521b0c5dbc01e975b178f4
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/17/625117/8 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstacksdk/openstacksdk.spec.j2'],1,880e1016d0f4d73cddf8a8245703d5c012fc5bca,625117,{% set upstream_version = upstream_version('0.20.0') %}Requires: {{ py2pkg('cryptography') }},{% set upstream_version = upstream_version('0.17.2') %}Requires: {{ py2pkg('deprecation') }},2,2
openstack%2Fproject-config~master~If045a9188c365efb96db6e53e6dfe9083965ad1c,openstack/project-config,master,If045a9188c365efb96db6e53e6dfe9083965ad1c,allow local.d to preexist,MERGED,2019-01-23 06:50:17.000000000,2019-01-23 08:58:48.000000000,2019-01-23 08:58:48.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 06:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c1286fc838f70c158280396206a9b6b93335d6d2', 'message': 'allow local.d to pre:exist\n\nChange-Id: If045a9188c365efb96db6e53e6dfe9083965ad1c\n'}, {'number': 2, 'created': '2019-01-23 06:50:39.000000000', 'files': ['nodepool/elements/nodepool-base/finalise.d/89-unbound'], 'web_link': 'https://opendev.org/openstack/project-config/commit/77535ddcecb25329a213acf5e7061f44e03eeaf2', 'message': 'allow local.d to preexist\n\nChange-Id: If045a9188c365efb96db6e53e6dfe9083965ad1c\n'}]",0,632624,77535ddcecb25329a213acf5e7061f44e03eeaf2,8,3,2,14288,,,0,"allow local.d to preexist

Change-Id: If045a9188c365efb96db6e53e6dfe9083965ad1c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/24/632624/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/nodepool-base/finalise.d/89-unbound'],1,c1286fc838f70c158280396206a9b6b93335d6d2,gentoo-mkdir-existing-dirs, mkdir -p /etc/local.d, mkdir /etc/local.d,1,1
openstack%2Fneutron-lbaas-dashboard~master~Ia38ddff4a67ca483ebeb1998ec06903effa3d58c,openstack/neutron-lbaas-dashboard,master,Ia38ddff4a67ca483ebeb1998ec06903effa3d58c,Imported Translations from Zanata,MERGED,2019-01-22 06:41:19.000000000,2019-01-23 08:39:42.000000000,2019-01-23 08:39:42.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 06:41:19.000000000', 'files': ['neutron_lbaas_dashboard/locale/id/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas-dashboard/commit/ba14bbae9e2c3271d30e0bb99051126afb68984e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia38ddff4a67ca483ebeb1998ec06903effa3d58c\n'}]",0,632244,ba14bbae9e2c3271d30e0bb99051126afb68984e,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia38ddff4a67ca483ebeb1998ec06903effa3d58c
",git fetch https://review.opendev.org/openstack/neutron-lbaas-dashboard refs/changes/44/632244/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas_dashboard/locale/id/LC_MESSAGES/djangojs.po'],1,ba14bbae9e2c3271d30e0bb99051126afb68984e,zanata/translations,"# suhartono <cloudsuhartono@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-01-08 11:42+0000\n""""PO-Revision-Date: 2019-01-21 04:56+0000\n""msgid ""Floating IP address or pool"" msgstr ""Alamat IP mengambang atau pool"" ","""POT-Creation-Date: 2018-08-25 00:47+0000\n""""PO-Revision-Date: 2018-08-21 03:43+0000\n""",6,2
openstack%2Fkolla-ansible~master~Iee80cce87982fe8af21138f3baca5d160353cbb8,openstack/kolla-ansible,master,Iee80cce87982fe8af21138f3baca5d160353cbb8,DNM: Test iscsi role changes,ABANDONED,2019-01-17 12:24:50.000000000,2019-01-23 08:35:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-17 12:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aa572472ea1a093cbde4e8be0142b7987e74c4ee', 'message': 'DNM: Test iscsi role changes\n\nDo not merge!\n\nChange-Id: Iee80cce87982fe8af21138f3baca5d160353cbb8\n'}, {'number': 2, 'created': '2019-01-17 14:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f09da98cff570e566103209fcd90f6c916f9bbe', 'message': 'DNM: Test iscsi role changes\n\nDo not merge!\n\nChange-Id: Iee80cce87982fe8af21138f3baca5d160353cbb8\n'}, {'number': 3, 'created': '2019-01-17 16:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f586b13a107f845802f66e407dbbb9fd34d7f4d', 'message': 'DNM: Test iscsi role changes\n\nDo not merge!\n\nChange-Id: Iee80cce87982fe8af21138f3baca5d160353cbb8\n'}, {'number': 4, 'created': '2019-01-17 21:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f50a31a5865be95b63367723eca0b2b99e86c923', 'message': 'DNM: Test iscsi role changes\n\nDo not merge!\n\nChange-Id: Iee80cce87982fe8af21138f3baca5d160353cbb8\n'}, {'number': 5, 'created': '2019-01-18 10:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c86956442dc09df07dd019d3b4f590b013cf144d', 'message': 'DNM: Test iscsi role changes\n\nDo not merge!\n\nChange-Id: Iee80cce87982fe8af21138f3baca5d160353cbb8\n'}, {'number': 6, 'created': '2019-01-18 12:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9970851eab24ce39c3f9047626bbc75806ea72a2', 'message': 'DNM: Test iscsi role changes\n\nDo not merge!\n\nChange-Id: Iee80cce87982fe8af21138f3baca5d160353cbb8\n'}, {'number': 7, 'created': '2019-01-18 13:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c0b2e06ba8ade62bd3335cb18a036cfbc9cd8d28', 'message': 'DNM: Test iscsi role changes\n\nDo not merge!\n\nChange-Id: Iee80cce87982fe8af21138f3baca5d160353cbb8\n'}, {'number': 8, 'created': '2019-01-18 15:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e3648bbf5e5c26a8d8e2a474a2be26e29c833c91', 'message': 'DNM: Test iscsi role changes\n\nDo not merge!\n\nChange-Id: Iee80cce87982fe8af21138f3baca5d160353cbb8\n'}, {'number': 9, 'created': '2019-01-19 08:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bdbf3657c99c52c179790c6afd216e1a2f48aa4d', 'message': 'DNM: Test iscsi role changes\n\nDo not merge!\n\nChange-Id: Iee80cce87982fe8af21138f3baca5d160353cbb8\n'}, {'number': 10, 'created': '2019-01-21 10:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d742a16853f83551c720459ad75cacfbc4c3179b', 'message': 'DNM: Test iscsi role changes\n\nDo not merge!\n\nChange-Id: Iee80cce87982fe8af21138f3baca5d160353cbb8\n'}, {'number': 11, 'created': '2019-01-21 10:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4277d6b1615c1482282e67d7b38bdca3c67abc45', 'message': 'DNM: Test iscsi role changes\n\nDo not merge!\n\nChange-Id: Iee80cce87982fe8af21138f3baca5d160353cbb8\n'}, {'number': 12, 'created': '2019-01-21 11:58:08.000000000', 'files': ['tests/test-openstack.sh', 'tests/templates/globals-default.j2', 'tests/setup_ceph_disks.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a552d1e119bae4e5fe798660bed0e334999ded79', 'message': 'DNM: Test iscsi role changes\n\nDo not merge!\n\nChange-Id: Iee80cce87982fe8af21138f3baca5d160353cbb8\n'}]",0,631480,a552d1e119bae4e5fe798660bed0e334999ded79,24,1,12,14826,,,0,"DNM: Test iscsi role changes

Do not merge!

Change-Id: Iee80cce87982fe8af21138f3baca5d160353cbb8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/80/631480/9 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,aa572472ea1a093cbde4e8be0142b7987e74c4ee,,"# NOTE: Just for testing iscsid changes.. enable_ceph: ""no""enable_cinder_backend_lvm: ""yes"" enable_ironic: yes","enable_ceph: ""yes""",4,1
openstack%2Ftripleo-docs~master~Iefb3ab8e7fc0f2e9daabb03fb83621af0c5975c5,openstack/tripleo-docs,master,Iefb3ab8e7fc0f2e9daabb03fb83621af0c5975c5,Add ci jobs primer check vs gate vs promote & where they live,MERGED,2019-01-15 17:09:37.000000000,2019-01-23 07:56:16.000000000,2019-01-23 07:56:16.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-01-15 17:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d54c49863ab18561057c6094908fabf8e79ea4cc', 'message': 'WIP: Add high level overview of ci jobs/check vs gate and promote\n\nChange-Id: Iefb3ab8e7fc0f2e9daabb03fb83621af0c5975c5\nTODO: add taiga task\n'}, {'number': 2, 'created': '2019-01-17 16:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/20562945b091b4938a6b90ac39f5adef15292c0f', 'message': 'WIP: Add high level overview of ci jobs/check vs gate and promote\n\nAdds some words to show where the ci jobs are defined and how they\nrun in gate vs check. Also pointer to where promotion jobs live\nTracked by tripleo ci squad in [1]\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/623\nChange-Id: Iefb3ab8e7fc0f2e9daabb03fb83621af0c5975c5\n'}, {'number': 3, 'created': '2019-01-18 16:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/31be61833b2ae50ec3255e73ad862ee0fc52eede', 'message': 'Add high level overview of ci jobs/check vs gate and promote\n\nAdds some words to show where the ci jobs are defined and how they\nrun in gate vs check. Also pointer to where promotion jobs live\nTracked by tripleo ci squad in [1]\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/623\nChange-Id: Iefb3ab8e7fc0f2e9daabb03fb83621af0c5975c5\n'}, {'number': 4, 'created': '2019-01-22 16:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/fb7ff3ef72dbeb0f6a41b9fbd36dcedb94a1bb47', 'message': 'Add ci jobs primer check vs gate vs promote & where they live\n\nAdds some words to show where the ci jobs are defined and how they\nrun in gate vs check. Also pointer to where promotion jobs live\nTracked by tripleo ci squad in [1]\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/623\nChange-Id: Iefb3ab8e7fc0f2e9daabb03fb83621af0c5975c5\n'}, {'number': 5, 'created': '2019-01-23 07:27:41.000000000', 'files': ['doc/source/contributor/index.rst', 'doc/source/contributor/ci_primer.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/786dc8cd86524cf092c04fdf8b81ef846e8b7a4e', 'message': 'Add ci jobs primer check vs gate vs promote & where they live\n\nAdds some words to show where the ci jobs are defined and how they\nrun in gate vs check. Also pointer to where promotion jobs live\nTracked by tripleo ci squad in [1]\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/623\nChange-Id: Iefb3ab8e7fc0f2e9daabb03fb83621af0c5975c5\n'}]",14,631024,786dc8cd86524cf092c04fdf8b81ef846e8b7a4e,25,12,5,8449,,,0,"Add ci jobs primer check vs gate vs promote & where they live

Adds some words to show where the ci jobs are defined and how they
run in gate vs check. Also pointer to where promotion jobs live
Tracked by tripleo ci squad in [1]

[1] https://tree.taiga.io/project/tripleo-ci-board/task/623
Change-Id: Iefb3ab8e7fc0f2e9daabb03fb83621af0c5975c5
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/24/631024/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'doc/source/contributor/add_new_ci_job.rst']",2,d54c49863ab18561057c6094908fabf8e79ea4cc,gate_vs_check,"Where and how TripleO ci jobs are defined - check, gate and promotions ============================================================================ This high level primer will use an example to demonstrate where the TripleO ci jobs are defined and illustrate the difference between check and gate jobs (and by implication between voting and non voting jobs). The general rules are: * new jobs are non voting so only in the check queue * once you want to gate on a job then you'll add it to the gate queue. This \ implies it becomes voting in both check and gate queues. * once a job is voting (i.e. gating) you should also consider adding it to the promotion jobs so that tripleo promotions (i.e. from tripleo-testing to current-tripleo) will depend on successful execution of that job. Where do tripleo-ci jobs live ----------------------------- The tripleo ci jobs live in the tripleo-ci repo and specifically in various files defined under the zuul.d_ directory. As an example we can examine one of the scenario-standalone-jobs_:: - job: name: tripleo-ci-centos-7-scenario001-standalone voting: true parent: tripleo-ci-base-standalone nodeset: single-centos-7-node branches: ^(?!stable/(newton|ocata|pike|queens|rocky)).*$ vars: featureset: '052' standalone_ceph: true featureset_override: standalone_container_cli: docker standalone_environment_files: - 'ci/environments/scenario001-standalone.yaml' - 'environments/low-memory-usage.yaml' tempest_plugins: - python-telemetry-tests-tempest - python-heat-tests-tempest test_white_regex: '' tempest_workers: 1 tempest_extra_config: {'telemetry.alarm_granularity': '60'} tempest_whitelist: - 'tempest.api.identity.v3' - 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern' - 'telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration' As you can see the job definition consists of the unique job name followed by the rest of the zuul variables, including whether the job is voting and which node layout (nodeset) should be used for that job. .. _zuul.d: https://github.com/openstack-infra/tripleo-ci/tree/master/zuul.d .. _scenario-standalone-jobs: https://github.com/openstack-infra/tripleo-ci/blob/101074b2e804f97880440a3e62351844f390b2f2/zuul.d/standalone-jobs.yaml#L86-L88 Zuul queues - gate vs check --------------------------- As with all OpenStack projects there are two zuul queues to which jobs are scheduled - the check jobs which are run each time a change is submitted and then the check jobs which are run before a change is merged. Pointer to zuul layout.yaml Where do tripleo/rdo promotion jobs live ---------------------------------------- Pointer to where they are defined and brief note on the promotion criteria ini. ",,72,0
openstack%2Fos-net-config~stable%2Fqueens~I078a202b1f5769d8b18db2618914edb5ad836919,openstack/os-net-config,stable/queens,I078a202b1f5769d8b18db2618914edb5ad836919,Adding VLAN support and other configs for sriov_vf,MERGED,2019-01-10 09:23:23.000000000,2019-01-23 07:30:10.000000000,2019-01-23 07:30:10.000000000,"[{'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-10 09:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3c5af643431d96f8f0d62f313adaab24e205fe2d', 'message': 'Adding VLAN support and other configs for sriov_vf\n\nAllow additional settings for configuring sriov_vf types\nsuch as vlan, qos, spoofcheck, trust mode, state control,\nmac address, promisc.\n\nImplements: blueprint sriov-vfs-as-network-interface\nChange-Id: I078a202b1f5769d8b18db2618914edb5ad836919\nSigned-off-by: Karthik S <ksundara@redhat.com>\n'}, {'number': 2, 'created': '2019-01-14 09:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/690a751fd3b164f85fd756ebdefb05c6c86ef20d', 'message': 'Adding VLAN support and other configs for sriov_vf\n\nAllow additional settings for configuring sriov_vf types\nsuch as vlan, qos, spoofcheck, trust mode, state control,\nmac address, promisc.\n\nImplements: blueprint sriov-vfs-as-network-interface\nChange-Id: I078a202b1f5769d8b18db2618914edb5ad836919\nSigned-off-by: Karthik S <ksundara@redhat.com>\n(cherry picked from commit dbeb6fe87bdd7c4e8429b458aedb102070e455f1)\n'}, {'number': 3, 'created': '2019-01-22 13:00:44.000000000', 'files': ['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/tests/test_cli.py', 'os_net_config/utils.py', 'os_net_config/tests/test_objects.py', 'os_net_config/impl_ifcfg.py', 'os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_utils.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py', 'etc/os-net-config/samples/sriov_pf.yaml', 'os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/267b03309200cb6104b717386ba487b2816a04ef', 'message': 'Adding VLAN support and other configs for sriov_vf\n\nAllow additional settings for configuring sriov_vf types\nsuch as vlan, qos, spoofcheck, trust mode, state control,\nmac address, promisc.\n\nImplements: blueprint sriov-vfs-as-network-interface\nChange-Id: I078a202b1f5769d8b18db2618914edb5ad836919\nSigned-off-by: Karthik S <ksundara@redhat.com>\n(cherry picked from commit dbeb6fe87bdd7c4e8429b458aedb102070e455f1)\n'}]",0,629804,267b03309200cb6104b717386ba487b2816a04ef,17,5,3,18904,,,0,"Adding VLAN support and other configs for sriov_vf

Allow additional settings for configuring sriov_vf types
such as vlan, qos, spoofcheck, trust mode, state control,
mac address, promisc.

Implements: blueprint sriov-vfs-as-network-interface
Change-Id: I078a202b1f5769d8b18db2618914edb5ad836919
Signed-off-by: Karthik S <ksundara@redhat.com>
(cherry picked from commit dbeb6fe87bdd7c4e8429b458aedb102070e455f1)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/04/629804/3 && git format-patch -1 --stdout FETCH_HEAD,"['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/tests/test_cli.py', 'os_net_config/utils.py', 'os_net_config/tests/test_objects.py', 'os_net_config/impl_ifcfg.py', 'requirements.txt', 'os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_utils.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py', 'etc/os-net-config/samples/sriov_pf.yaml', 'os_net_config/cli.py']",13,3c5af643431d96f8f0d62f313adaab24e205fe2d,mox3-stable/queens, # The VFs will not be available now and an exception # SriovVfNotFoundException will be raised while fetching the device name. # After the first parse the SR-IOV PF devices would be configured and the # VF devices would be created. try: obj = objects.object_from_json(iface_json) except utils.SriovVfNotFoundException: continue try: obj = objects.object_from_json(iface_json) except utils.SriovVfNotFoundException: if not opts.noop: raise if configure_sriov and not opts.noop: utils.configure_sriov_vfs() , obj = objects.object_from_json(iface_json) obj = objects.object_from_json(iface_json),833,118
openstack%2Fkolla-ansible~master~Id23d114cf8a2b40f8f0784cbfb84e9fa0829adc0,openstack/kolla-ansible,master,Id23d114cf8a2b40f8f0784cbfb84e9fa0829adc0,Wait for volume attachment in CI before detach,MERGED,2019-01-18 13:54:00.000000000,2019-01-23 07:21:54.000000000,2019-01-23 07:21:54.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}]","[{'number': 1, 'created': '2019-01-18 13:54:00.000000000', 'files': ['tests/test-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c906a175b34e67ad76690cbd3f361225bc897b9', 'message': ""Wait for volume attachment in CI before detach\n\nIn some cases the volume attachment is not finished by the time we\nattempt to detach it, causing the following error:\n\nVolume status must be 'in-use' and attach_status must be 'attached' to detach.\n\nThis change waits for the volume to be attached before detaching.\n\nChange-Id: Id23d114cf8a2b40f8f0784cbfb84e9fa0829adc0\n""}]",0,631796,9c906a175b34e67ad76690cbd3f361225bc897b9,11,6,1,14826,,,0,"Wait for volume attachment in CI before detach

In some cases the volume attachment is not finished by the time we
attempt to detach it, causing the following error:

Volume status must be 'in-use' and attach_status must be 'attached' to detach.

This change waits for the volume to be attached before detaching.

Change-Id: Id23d114cf8a2b40f8f0784cbfb84e9fa0829adc0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/631796/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-openstack.sh'],1,9c906a175b34e67ad76690cbd3f361225bc897b9,fix-ci-volume-detach-race," attempt=1 while [[ $(openstack volume show test_volume -f value -c status) != ""in-use"" ]]; do echo ""Volume not attached yet"" attempt=$((attempt+1)) if [[ $attempt -eq 10 ]]; then echo ""Volume failed to attach"" openstack volume show test_volume return 1 fi sleep 10 done",,11,0
openstack%2Fkolla-ansible~master~I43cc9be3df6ae99942f1862171512a300fcf926f,openstack/kolla-ansible,master,I43cc9be3df6ae99942f1862171512a300fcf926f,oslo.config>=5.2.0 which is a dependency of kolla-ansible requires rfc3986>=1.2.0,MERGED,2019-01-22 07:47:16.000000000,2019-01-23 07:15:57.000000000,2019-01-23 07:15:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 28637}]","[{'number': 1, 'created': '2019-01-22 07:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d6c9cdb41c842d1d99d28327fd24ecf0220c9a71', 'message': 'it requires rfc3986>=1.2.0 when pip install python-openstackclient\n\nChange-Id: I43cc9be3df6ae99942f1862171512a300fcf926f\n'}, {'number': 2, 'created': '2019-01-22 09:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4f0777b772769b9a47bf7d4d17f5f317e6144245', 'message': 'ososlo.config>=5.2.0 which is a dependency of kolla-ansible requires rfc3986>=1.2.0\n\nChange-Id: I43cc9be3df6ae99942f1862171512a300fcf926f\n'}, {'number': 3, 'created': '2019-01-22 09:34:06.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f839d7258b77fa32f2ef2a5d54e56b403480127', 'message': 'oslo.config>=5.2.0 which is a dependency of kolla-ansible requires rfc3986>=1.2.0\n\nChange-Id: I43cc9be3df6ae99942f1862171512a300fcf926f\n'}]",0,632266,7f839d7258b77fa32f2ef2a5d54e56b403480127,12,4,3,28637,,,0,"oslo.config>=5.2.0 which is a dependency of kolla-ansible requires rfc3986>=1.2.0

Change-Id: I43cc9be3df6ae99942f1862171512a300fcf926f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/632266/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,d6c9cdb41c842d1d99d28327fd24ecf0220c9a71,,rfc3986==1.2.0,rfc3986==1.1.0,1,1
openstack%2Fkeystone~master~I2c3aa095f0ceb28a97a61db27e595bc504b75bd0,openstack/keystone,master,I2c3aa095f0ceb28a97a61db27e595bc504b75bd0,bump Keystone version for Stein,MERGED,2019-01-17 01:43:03.000000000,2019-01-23 07:14:44.000000000,2019-01-23 07:14:44.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 10420}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 01:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a1b03d2c97436e42631b8c70fda991b7be5ace7f', 'message': 'bump Keystone version for Stein\n\nChange-Id: I2c3aa095f0ceb28a97a61db27e595bc504b75bd0\n'}, {'number': 2, 'created': '2019-01-18 02:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fc36f1214af13f34636336ac859850553607f740', 'message': 'bump Keystone version for Stein\n\nChange-Id: I2c3aa095f0ceb28a97a61db27e595bc504b75bd0\n'}, {'number': 3, 'created': '2019-01-21 22:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4d6778a6d02db4494fd2281ec6bd8ebc83ea3cd1', 'message': 'bump Keystone version for Stein\n\nChange-Id: I2c3aa095f0ceb28a97a61db27e595bc504b75bd0\n'}, {'number': 4, 'created': '2019-01-22 02:34:22.000000000', 'files': ['api-ref/source/v3/index.rst', 'keystone/tests/unit/test_versions.py', 'keystone/version.py', 'keystone/api/discovery.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a011fb6789583e1cc50439362b4bb51cacd4b725', 'message': 'bump Keystone version for Stein\n\nChange-Id: I2c3aa095f0ceb28a97a61db27e595bc504b75bd0\n'}]",7,631369,a011fb6789583e1cc50439362b4bb51cacd4b725,26,5,4,10420,,,0,"bump Keystone version for Stein

Change-Id: I2c3aa095f0ceb28a97a61db27e595bc504b75bd0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/69/631369/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/version.py', 'keystone/api/discovery.py']",2,a1b03d2c97436e42631b8c70fda991b7be5ace7f,new/version," 'id': 'v3.12',"," 'id': 'v3.11',",2,2
openstack%2Frequirements~master~I5356ae2e706aca3ddebb3cd085b3ef8ab507155c,openstack/requirements,master,I5356ae2e706aca3ddebb3cd085b3ef8ab507155c,update constraint for os-resource-classes to new release 0.2.0,MERGED,2019-01-22 20:18:44.000000000,2019-01-23 07:14:43.000000000,2019-01-23 07:14:43.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 20:18:44.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7070acd613cc9e54388353b7f778e78779fdd983', 'message': 'update constraint for os-resource-classes to new release 0.2.0\n\nChange-Id: I5356ae2e706aca3ddebb3cd085b3ef8ab507155c\nmeta:version: 0.2.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Chris Dent <cdent@anticdent.org>\nmeta:release:Commit: Chris Dent <cdent@anticdent.org>\nmeta:release:Change-Id: I6f7e534ada21d10dc5b8b6dd7251186479ff94ab\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: melanie witt <melwittt@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,632546,7070acd613cc9e54388353b7f778e78779fdd983,9,2,1,11131,,,0,"update constraint for os-resource-classes to new release 0.2.0

Change-Id: I5356ae2e706aca3ddebb3cd085b3ef8ab507155c
meta:version: 0.2.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Chris Dent <cdent@anticdent.org>
meta:release:Commit: Chris Dent <cdent@anticdent.org>
meta:release:Change-Id: I6f7e534ada21d10dc5b8b6dd7251186479ff94ab
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: melanie witt <melwittt@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/46/632546/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7070acd613cc9e54388353b7f778e78779fdd983,new-release,os-resource-classes===0.2.0,os-resource-classes===0.1.0,1,1
openstack%2Fneutron~stable%2Frocky~I174ff62cb6599e4c7bdc86cb2d0786f9f2499b00,openstack/neutron,stable/rocky,I174ff62cb6599e4c7bdc86cb2d0786f9f2499b00,Use status_code instead of status in requests,MERGED,2019-01-21 11:58:47.000000000,2019-01-23 07:14:41.000000000,2019-01-23 07:14:41.000000000,"[{'_account_id': 935}, {'_account_id': 1131}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13692}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-21 11:58:47.000000000', 'files': ['neutron/agent/metadata/agent.py', 'neutron/tests/unit/agent/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f003cf497fd4f4ffcdd5c633824531b465aa69c', 'message': 'Use status_code instead of status in requests\n\nIt fixes raising exception for response with not recognized\nstatus code.\n\nCo-Authored-By: Brian Haley <haleyb.dev@gmail.com>\nChange-Id: I174ff62cb6599e4c7bdc86cb2d0786f9f2499b00\nRelated-Bug: 1790598\n(cherry picked from commit 1685982a97f1bc82698724eb9a47e92416dc0aac)\n'}]",0,632072,9f003cf497fd4f4ffcdd5c633824531b465aa69c,17,8,1,25618,,,0,"Use status_code instead of status in requests

It fixes raising exception for response with not recognized
status code.

Co-Authored-By: Brian Haley <haleyb.dev@gmail.com>
Change-Id: I174ff62cb6599e4c7bdc86cb2d0786f9f2499b00
Related-Bug: 1790598
(cherry picked from commit 1685982a97f1bc82698724eb9a47e92416dc0aac)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/632072/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/metadata/agent.py', 'neutron/tests/unit/agent/metadata/test_agent.py']",2,9f003cf497fd4f4ffcdd5c633824531b465aa69c,bug/1790598, resp.status.__str__.side_effect = AttributeError,,3,1
openstack%2Fheat~master~I89d10776162d28cdc8a11c9df9ce7f1e4b7ef4d6,openstack/heat,master,I89d10776162d28cdc8a11c9df9ce7f1e4b7ef4d6,WIP Don't try loading resources in INIT_COMPLETE during cleanup,ABANDONED,2018-10-12 09:04:05.000000000,2019-01-23 07:13:14.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-12 09:04:05.000000000', 'files': ['heat/tests/engine/test_check_resource.py', 'heat/engine/check_resource.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/bdfd2ab34627428749f080a5f24055913a014e27', 'message': ""WIP Don't try loading resources in INIT_COMPLETE during cleanup\n\nIt seems when migrating to convergence we update the current_template_id\nof resources to stack template id and delete the prev_raw_template_id. if\nthere are resources not in that template (most possibly in INIT_COMPLETE\nstate)\n\nChange-Id: I89d10776162d28cdc8a11c9df9ce7f1e4b7ef4d6\n""}]",0,609974,bdfd2ab34627428749f080a5f24055913a014e27,4,2,1,8833,,,0,"WIP Don't try loading resources in INIT_COMPLETE during cleanup

It seems when migrating to convergence we update the current_template_id
of resources to stack template id and delete the prev_raw_template_id. if
there are resources not in that template (most possibly in INIT_COMPLETE
state)

Change-Id: I89d10776162d28cdc8a11c9df9ce7f1e4b7ef4d6
",git fetch https://review.opendev.org/openstack/heat refs/changes/74/609974/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/engine/test_check_resource.py', 'heat/engine/check_resource.py', 'heat/engine/resource.py']",3,bdfd2ab34627428749f080a5f24055913a014e27,skip_init_complete," def load(cls, context, resource_id, current_traversal, is_update, data, db_res=None): if not db_res: db_res = resource_objects.Resource.get_obj(context, resource_id)"," def load(cls, context, resource_id, current_traversal, is_update, data): db_res = resource_objects.Resource.get_obj(context, resource_id)",17,4
openstack%2Fironic~master~I2425d46c84f72de36789e671785c587ede68e5e8,openstack/ironic,master,I2425d46c84f72de36789e671785c587ede68e5e8,Follow-up logging change,MERGED,2019-01-11 00:21:37.000000000,2019-01-23 07:07:00.000000000,2019-01-23 07:07:00.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 11929}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26340}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-01-11 00:21:37.000000000', 'files': ['ironic/drivers/modules/redfish/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0d943c635b8713943f3b285538c3d809c3e9b0ac', 'message': 'Follow-up logging change\n\nReviewer consensus on change 628097 was that one of the\nmessages should be a warning. As such, changing.\n\nChange-Id: I2425d46c84f72de36789e671785c587ede68e5e8\n'}]",0,629954,0d943c635b8713943f3b285538c3d809c3e9b0ac,41,13,1,11655,,,0,"Follow-up logging change

Reviewer consensus on change 628097 was that one of the
messages should be a warning. As such, changing.

Change-Id: I2425d46c84f72de36789e671785c587ede68e5e8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/54/629954/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/redfish/inspect.py'],1,0d943c635b8713943f3b285538c3d809c3e9b0ac,fix-port-creation," LOG.warning(""Not attempting to create any port as no NICs "" ""were discovered in 'enabled' state for node "" ""%(node)s: %(mac_data)s"", {'mac_data': macs, 'node': task.node.uuid})"," LOG.info(""Not attempted to create any port as no NICs being "" ""discovered in 'enabled' state for node %(node)s: "" ""%(mac_data)s"", {'mac_data': macs, 'node': task.node.uuid})",4,4
openstack%2Fheat~master~Ie24d71ada1ea28e65f7e06c5d060428d0902afb0,openstack/heat,master,Ie24d71ada1ea28e65f7e06c5d060428d0902afb0,dd missing ws seperator between words,ABANDONED,2019-01-23 03:51:31.000000000,2019-01-23 06:49:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-23 03:51:31.000000000', 'files': ['heat/engine/resources/openstack/heat/software_deployment.py', 'heat/engine/notification/__init__.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ef5051b5cdf48766b52f232d5bde4b4b86b7425d', 'message': 'dd missing ws seperator between words\n\nThis is to add missing ws seperator between words.\n\nChange-Id: Ie24d71ada1ea28e65f7e06c5d060428d0902afb0\n'}]",0,632607,ef5051b5cdf48766b52f232d5bde4b4b86b7425d,3,1,1,20190,,,0,"dd missing ws seperator between words

This is to add missing ws seperator between words.

Change-Id: Ie24d71ada1ea28e65f7e06c5d060428d0902afb0
",git fetch https://review.opendev.org/openstack/heat refs/changes/07/632607/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/heat/software_deployment.py', 'heat/engine/notification/__init__.py']",2,ef5051b5cdf48766b52f232d5bde4b4b86b7425d,missing_ws, help=_('Default notification level for outgoing ', help=_('Default notification level for outgoing',3,3
openstack%2Fmurano~master~Ib673128be860f548195181a465a9dff784cdef1a,openstack/murano,master,Ib673128be860f548195181a465a9dff784cdef1a,Using trustor's session to delete the trust,MERGED,2019-01-17 07:46:15.000000000,2019-01-23 06:48:08.000000000,2019-01-23 06:48:07.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 07:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/e8c2d1274a9f59791519b8b5b9f91ed81849cd8b', 'message': '[DNM]TEST\n\nChange-Id: Ib673128be860f548195181a465a9dff784cdef1a\n'}, {'number': 2, 'created': '2019-01-17 08:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/b48ab84991cea484542d17949549d00b95bd7578', 'message': '[DNM]TEST\n\nChange-Id: Ib673128be860f548195181a465a9dff784cdef1a\n'}, {'number': 3, 'created': '2019-01-21 06:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/375b3e117f35b41bbc4162061259fc3948be0e65', 'message': '[DNM]TEST\n\nChange-Id: Ib673128be860f548195181a465a9dff784cdef1a\n'}, {'number': 4, 'created': '2019-01-21 08:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/e951b2d2d47e3658284c875eefc958eded117fe9', 'message': '[DNM]TEST\n\nChange-Id: Ib673128be860f548195181a465a9dff784cdef1a\n'}, {'number': 5, 'created': '2019-01-22 01:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/1b43f0b04250f812a817d3ff28287af26268b8fe', 'message': '[DNM]TEST\n\nChange-Id: Ib673128be860f548195181a465a9dff784cdef1a\n'}, {'number': 6, 'created': '2019-01-22 08:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/22798ed0c0de8bf3e86c4e723d79de714c120018', 'message': 'Using trustor\'s session to delete the trust\n\nNow use admin client to delete the trust gives the error:\n""You are not authorized to perform the requested action:\nOnly admin or trustor can delete a trust.: ForbiddenAction:\nYou are not authorized to perform the requested action:\nOnly admin or trustor can delete a trust.""\n\nThis patch use trustor\'s session to delete the trust.\n\nChange-Id: Ib673128be860f548195181a465a9dff784cdef1a\n'}, {'number': 7, 'created': '2019-01-23 02:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/ec592f2887ba9c25abeb033f2c77a0b3fc8cc2c6', 'message': 'Using trustor\'s session to delete the trust\n\nNow use admin client to delete the trust gives the error:\n""You are not authorized to perform the requested action:\nOnly admin or trustor can delete a trust.: ForbiddenAction:\nYou are not authorized to perform the requested action:\nOnly admin or trustor can delete a trust.""\n\nThis patch use trustor\'s session to delete the trust.\n\nChange-Id: Ib673128be860f548195181a465a9dff784cdef1a\n'}, {'number': 8, 'created': '2019-01-23 02:57:12.000000000', 'files': ['murano/common/engine.py', 'murano/tests/unit/common/test_auth_utils.py', 'murano/common/auth_utils.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/ea03ab3e7c80762f2064d616a824066fd3f26255', 'message': 'Using trustor\'s session to delete the trust\n\nNow use admin client to delete the trust gives the error:\n""You are not authorized to perform the requested action:\nOnly admin or trustor can delete a trust.: ForbiddenAction:\nYou are not authorized to perform the requested action:\nOnly admin or trustor can delete a trust.""\n\nThis patch use trustor\'s session to delete the trust.\n\nChange-Id: Ib673128be860f548195181a465a9dff784cdef1a\n'}]",0,631445,ea03ab3e7c80762f2064d616a824066fd3f26255,23,2,8,14107,,,0,"Using trustor's session to delete the trust

Now use admin client to delete the trust gives the error:
""You are not authorized to perform the requested action:
Only admin or trustor can delete a trust.: ForbiddenAction:
You are not authorized to perform the requested action:
Only admin or trustor can delete a trust.""

This patch use trustor's session to delete the trust.

Change-Id: Ib673128be860f548195181a465a9dff784cdef1a
",git fetch https://review.opendev.org/openstack/murano refs/changes/45/631445/5 && git format-patch -1 --stdout FETCH_HEAD,"['murano/common/auth_utils.py', 'devstack/plugin.sh']",2,e8c2d1274a9f59791519b8b5b9f91ed81849cd8b,, iniset $MURANO_CONF_FILE murano_auth domain_id default,,6,0
openstack%2Fmurano~master~I54b191faf9c2ddedfd574121f59bf7cc45faa90f,openstack/murano,master,I54b191faf9c2ddedfd574121f59bf7cc45faa90f,Add grenade job,MERGED,2019-01-22 05:52:05.000000000,2019-01-23 06:41:23.000000000,2019-01-23 06:41:23.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 05:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/297683b388708b212b24f48f84b9fbd65de00e00', 'message': 'Add grenade job\n\nChange-Id: I54b191faf9c2ddedfd574121f59bf7cc45faa90f\n'}, {'number': 2, 'created': '2019-01-22 05:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/2d8f8324a28550027318ef787159e4606d7ae6ff', 'message': 'Add grenade job\n\nChange-Id: I54b191faf9c2ddedfd574121f59bf7cc45faa90f\n'}, {'number': 3, 'created': '2019-01-22 07:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/ce7454d9dc3e99fd3c32152eeb0fa27edf03ef9b', 'message': 'Add grenade job\n\nChange-Id: I54b191faf9c2ddedfd574121f59bf7cc45faa90f\n'}, {'number': 4, 'created': '2019-01-22 07:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/4a33eb53bdab141b3258051e4796da476b683587', 'message': 'Add grenade job\n\nChange-Id: I54b191faf9c2ddedfd574121f59bf7cc45faa90f\n'}, {'number': 5, 'created': '2019-01-22 08:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/1cceb6d9f055ee9f01031f4f124f78ea484fe48e', 'message': 'Add grenade job\n\nChange-Id: I54b191faf9c2ddedfd574121f59bf7cc45faa90f\n'}, {'number': 6, 'created': '2019-01-22 09:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/d195163abefb1f38a30e62e2b322f87ad26bbb1e', 'message': 'Add grenade job\n\nChange-Id: I54b191faf9c2ddedfd574121f59bf7cc45faa90f\n'}, {'number': 7, 'created': '2019-01-22 10:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/c33a90cadb749e9733deef95f5d4a5b6f1b63beb', 'message': 'Add grenade job\n\nDepends-On: https://review.openstack.org/632404\nChange-Id: I54b191faf9c2ddedfd574121f59bf7cc45faa90f\n'}, {'number': 8, 'created': '2019-01-23 01:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/0e086439eda1524db6c67d011a2a64a64628b117', 'message': 'Add grenade job\n\nDepends-On: https://review.openstack.org/632404\nChange-Id: I54b191faf9c2ddedfd574121f59bf7cc45faa90f\n'}, {'number': 9, 'created': '2019-01-23 02:27:46.000000000', 'files': ['devstack/upgrade/shutdown.sh', 'playbooks/legacy/grenade-devstack-murano/post.yaml', '.zuul.yaml', 'devstack/upgrade/upgrade.sh', 'devstack/upgrade/settings', 'playbooks/legacy/grenade-devstack-murano/run.yaml', 'devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/murano/commit/f2ade017d4c6412d66ff04c918504ee4a2bfa7e9', 'message': 'Add grenade job\n\nDepends-On: https://review.openstack.org/632404\nChange-Id: I54b191faf9c2ddedfd574121f59bf7cc45faa90f\n'}]",2,632229,f2ade017d4c6412d66ff04c918504ee4a2bfa7e9,21,2,9,14107,,,0,"Add grenade job

Depends-On: https://review.openstack.org/632404
Change-Id: I54b191faf9c2ddedfd574121f59bf7cc45faa90f
",git fetch https://review.opendev.org/openstack/murano refs/changes/29/632229/8 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/upgrade/shutdown.sh', '.zuul.yaml', 'devstack/upgrade/upgrade.sh', 'devstack/upgrade/settings', 'devstack/upgrade/resources.sh']",5,297683b388708b212b24f48f84b9fbd65de00e00,,"#!/bin/bash set -o errexit source $GRENADE_DIR/grenaderc source $GRENADE_DIR/functions source $TOP_DIR/openrc admin demo set -o xtrace function create { # add later : } function verify_noapi { # currently no good way : } function verify { # add later : } function destroy { # add later : } # Dispatcher case $1 in ""create"") create ;; ""verify_noapi"") verify_noapi ;; ""verify"") verify ;; ""destroy"") destroy ;; ""force_destroy"") set +o errexit destroy ;; esac ",,170,0
openstack%2Fblazar~master~I4702f38eebde7b58bbe1048d22d7335979085f1b,openstack/blazar,master,I4702f38eebde7b58bbe1048d22d7335979085f1b,Add a release note for the List and Get Allocation APIs,MERGED,2018-07-25 09:55:12.000000000,2019-01-23 06:30:52.000000000,2019-01-23 06:30:52.000000000,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-07-25 09:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/e4ef8c73f34a088a33bce535f1d522054ce479b8', 'message': 'Add a releasenote for the List Allocation API and the Get Allocation API\n\nChange-Id: I4702f38eebde7b58bbe1048d22d7335979085f1b\nImplements: blueprint resource-allocation-api\n'}, {'number': 2, 'created': '2018-07-25 09:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/fb76c7898b98977d83ffb175f32d1145835e24ec', 'message': 'Add a releasenote for the List and Get Allocation API\n\nChange-Id: I4702f38eebde7b58bbe1048d22d7335979085f1b\nImplements: blueprint resource-allocation-api\n'}, {'number': 3, 'created': '2018-08-06 01:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/19147a8d1b4a1d994021dca8566cb2ae246d4bef', 'message': 'Add a release note for the List and Get Allocation APIs\n\nChange-Id: I4702f38eebde7b58bbe1048d22d7335979085f1b\nImplements: blueprint resource-allocation-api\n'}, {'number': 4, 'created': '2018-09-27 14:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/67c394a6b1c26522884c6d7942ea3d4e1434159a', 'message': 'Add a release note for the List and Get Allocation APIs\n\nChange-Id: I4702f38eebde7b58bbe1048d22d7335979085f1b\nImplements: blueprint resource-allocation-api\n'}, {'number': 5, 'created': '2018-11-06 05:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/3b3a3ee0b421ff83a17faf8a543eac0bc86a4936', 'message': 'Add a release note for the List and Get Allocation APIs\n\nChange-Id: I4702f38eebde7b58bbe1048d22d7335979085f1b\nImplements: blueprint resource-allocation-api\n'}, {'number': 6, 'created': '2018-12-07 08:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/b791ff2446ff6c249b815c49db632e439dc923dc', 'message': 'Add a release note for the List and Get Allocation APIs\n\nChange-Id: I4702f38eebde7b58bbe1048d22d7335979085f1b\nImplements: blueprint resource-allocation-api\n'}, {'number': 7, 'created': '2018-12-18 02:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/ac8170d99ec6e97524721cfbaf2dbbfdf2980eb3', 'message': 'Add a release note for the List and Get Allocation APIs\n\nChange-Id: I4702f38eebde7b58bbe1048d22d7335979085f1b\nImplements: blueprint resource-allocation-api\n'}, {'number': 8, 'created': '2019-01-08 12:33:48.000000000', 'files': ['releasenotes/notes/resource-allocation-api-f2fff51fc4556cd4.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/9a22d11d3c4195ebc0a5e5315e1aedf6b1599b03', 'message': 'Add a release note for the List and Get Allocation APIs\n\nChange-Id: I4702f38eebde7b58bbe1048d22d7335979085f1b\nImplements: blueprint resource-allocation-api\n'}]",3,585697,9a22d11d3c4195ebc0a5e5315e1aedf6b1599b03,25,5,8,8878,,,0,"Add a release note for the List and Get Allocation APIs

Change-Id: I4702f38eebde7b58bbe1048d22d7335979085f1b
Implements: blueprint resource-allocation-api
",git fetch https://review.opendev.org/openstack/blazar refs/changes/97/585697/8 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/resource-allocation-api-f2fff51fc4556cd4.yaml'],1,e4ef8c73f34a088a33bce535f1d522054ce479b8,bp/resource-allocation-api,--- features: - | The List Allocation API and the Get Allocation API are newly implemented. The two APIs return list of mappings between a reservable resource and reservations. Blazar now supports compute resource reservation so the APIs return mappings a host to reservation id. See details of the API in `API reference`_ . .. _`API reference`: https://developer.openstack.org/api-ref/reservation/v1/index.html#resource-allocations ,,10,0
openstack%2Fblazar~master~I87ed410c23f04a17f6c1deeb9ad1e4ab0756a549,openstack/blazar,master,I87ed410c23f04a17f6c1deeb9ad1e4ab0756a549,Support reservation_id parameter in List and Get Allocation API,MERGED,2018-07-25 09:55:12.000000000,2019-01-23 06:30:51.000000000,2019-01-23 06:30:51.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-07-25 09:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/597933fcd5fc50e0a3d523de3a4042460d8e0c08', 'message': 'Support reservation_id parameter in List and Get Allocation API\n\nThe List and Get Allocation API allows cloud admin to add query\nreservation_id in its request. When the parameter is specified in\nAPI request, the API returns allocations related to the reservation.\n\nPartially Implements: blueprint resource-allocation-api\n\nChange-Id: I87ed410c23f04a17f6c1deeb9ad1e4ab0756a549\n'}, {'number': 2, 'created': '2018-08-06 01:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/f6ac37133cefd5b80d7028baf408079c42d19ba6', 'message': 'Support reservation_id parameter in List and Get Allocation API\n\nThe List and Get Allocation API allows cloud admin to add query\nreservation_id in its request. When the parameter is specified in\nAPI request, the API returns allocations related to the reservation.\n\nPartially Implements: blueprint resource-allocation-api\n\nChange-Id: I87ed410c23f04a17f6c1deeb9ad1e4ab0756a549\n'}, {'number': 3, 'created': '2018-09-27 14:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/6cbf6805f2611bb0f44a9703c72a24813e7b7030', 'message': 'Support reservation_id parameter in List and Get Allocation API\n\nThe List and Get Allocation API allows cloud admin to add query\nreservation_id in its request. When the parameter is specified in\nAPI request, the API returns allocations related to the reservation.\n\nPartially Implements: blueprint resource-allocation-api\n\nChange-Id: I87ed410c23f04a17f6c1deeb9ad1e4ab0756a549\n'}, {'number': 4, 'created': '2018-11-06 05:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/68034509a716ee7754d698786195eff089a3d7a9', 'message': 'Support reservation_id parameter in List and Get Allocation API\n\nThe List and Get Allocation API allows cloud admin to add query\nreservation_id in its request. When the parameter is specified in\nAPI request, the API returns allocations related to the reservation.\n\nPartially Implements: blueprint resource-allocation-api\n\nChange-Id: I87ed410c23f04a17f6c1deeb9ad1e4ab0756a549\n'}, {'number': 5, 'created': '2018-12-07 08:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/2cd7dbdd611a7975fbadbeb9ffa7994d78ebcd07', 'message': 'Support reservation_id parameter in List and Get Allocation API\n\nThe List and Get Allocation API allows cloud admin to add query\nreservation_id in its request. When the parameter is specified in\nAPI request, the API returns allocations related to the reservation.\n\nPartially Implements: blueprint resource-allocation-api\n\nChange-Id: I87ed410c23f04a17f6c1deeb9ad1e4ab0756a549\n'}, {'number': 6, 'created': '2018-12-18 02:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/a680384de6b5042f1f6b8631b2ac0a2f9ad05c02', 'message': 'Support reservation_id parameter in List and Get Allocation API\n\nThe List and Get Allocation API allows cloud admin to add query\nreservation_id in its request. When the parameter is specified in\nAPI request, the API returns allocations related to the reservation.\n\nPartially Implements: blueprint resource-allocation-api\n\nChange-Id: I87ed410c23f04a17f6c1deeb9ad1e4ab0756a549\n'}, {'number': 7, 'created': '2019-01-08 12:33:48.000000000', 'files': ['blazar/plugins/oshosts/host_plugin.py', 'blazar/tests/plugins/oshosts/test_physical_host_plugin.py', 'blazar/tests/db/sqlalchemy/test_utils.py', 'api-ref/source/v1/parameters.yaml', 'api-ref/source/v1/hosts.inc', 'blazar/db/utils.py', 'blazar/db/sqlalchemy/utils.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/a3aff12f3e863c5a00ffeb14c1d94aeb7471da28', 'message': 'Support reservation_id parameter in List and Get Allocation API\n\nThe List and Get Allocation API allows cloud admin to query with\nreservation_id in their request. When the parameter is specified in API\nrequests, the API returns allocations related to the reservation.\n\nPartially Implements: blueprint resource-allocation-api\nChange-Id: I87ed410c23f04a17f6c1deeb9ad1e4ab0756a549\n'}]",0,585696,a3aff12f3e863c5a00ffeb14c1d94aeb7471da28,21,3,7,8878,,,0,"Support reservation_id parameter in List and Get Allocation API

The List and Get Allocation API allows cloud admin to query with
reservation_id in their request. When the parameter is specified in API
requests, the API returns allocations related to the reservation.

Partially Implements: blueprint resource-allocation-api
Change-Id: I87ed410c23f04a17f6c1deeb9ad1e4ab0756a549
",git fetch https://review.opendev.org/openstack/blazar refs/changes/96/585696/6 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/plugins/oshosts/host_plugin.py', 'blazar/tests/db/sqlalchemy/test_utils.py', 'blazar/tests/plugins/oshosts/test_physical_host_plugin.py', 'api-ref/source/v1/parameters.yaml', 'api-ref/source/v1/hosts.inc', 'blazar/db/utils.py', 'blazar/db/sqlalchemy/utils.py']",7,597933fcd5fc50e0a3d523de3a4042460d8e0c08,bp/resource-allocation-api," lease_id=None, reservation_id=None): if reservation_id: query = query.filter(models.Reservation.id == reservation_id)", lease_id=None):,105,7
openstack%2Fblazar~master~Ibf2c92d42dbe3fb055a78028967e202327cfee34,openstack/blazar,master,Ibf2c92d42dbe3fb055a78028967e202327cfee34,Support lease_id parameter in List and Get Allocations API,MERGED,2018-07-24 09:27:41.000000000,2019-01-23 06:30:50.000000000,2019-01-23 06:30:50.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-07-24 09:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/6f353976be583e01d71581c009a16c3bf45d9dbf', 'message': 'Support lease_id parameter in List and Get Allocations API\n\nThe List and Get Allocations API allows admins to add query\nwith lease_id. When the query key is specified in API request\nthe two APIs only returns allocations related to the lease id.\n\nPartially Implements: blueprint resource-allocation-api\nChange-Id: Ibf2c92d42dbe3fb055a78028967e202327cfee34\n'}, {'number': 2, 'created': '2018-07-25 09:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/cec8b6c4fd5c7b4765e42989b14ce26be8bb59c2', 'message': 'Support lease_id parameter in List and Get Allocations API\n\nThe List and Get Allocations API allows admins to add query\nwith lease_id. When the query key is specified in API request\nthe two APIs only returns allocations related to the lease id.\n\nPartially Implements: blueprint resource-allocation-api\nChange-Id: Ibf2c92d42dbe3fb055a78028967e202327cfee34\n'}, {'number': 3, 'created': '2018-08-06 01:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/85380781b91eab59835e700129a42dc6eeeb805c', 'message': 'Support lease_id parameter in List and Get Allocations API\n\nThe List and Get Allocations API allows admins to add query\nwith lease_id. When the query key is specified in API request\nthe two APIs only returns allocations related to the lease id.\n\nPartially Implements: blueprint resource-allocation-api\nChange-Id: Ibf2c92d42dbe3fb055a78028967e202327cfee34\n'}, {'number': 4, 'created': '2018-09-27 14:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/624306126b4956a1cd587c439b6f60e8a2b071f8', 'message': 'Support lease_id parameter in List and Get Allocations API\n\nThe List and Get Allocations API allows admins to add query\nwith lease_id. When the query key is specified in API request\nthe two APIs only returns allocations related to the lease id.\n\nPartially Implements: blueprint resource-allocation-api\nChange-Id: Ibf2c92d42dbe3fb055a78028967e202327cfee34\n'}, {'number': 5, 'created': '2018-11-06 05:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/801dd5b0c1a92b367158ca66119a43f07cd01015', 'message': 'Support lease_id parameter in List and Get Allocations API\n\nThe List and Get Allocations API allows admins to add query\nwith lease_id. When the query key is specified in API request\nthe two APIs only returns allocations related to the lease id.\n\nPartially Implements: blueprint resource-allocation-api\nChange-Id: Ibf2c92d42dbe3fb055a78028967e202327cfee34\n'}, {'number': 6, 'created': '2018-12-07 08:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/0d32556506fb07647988531cff0b78a4da06959c', 'message': 'Support lease_id parameter in List and Get Allocations API\n\nThe List and Get Allocations API allows admins to add query\nwith lease_id. When the query key is specified in API request\nthe two APIs only returns allocations related to the lease id.\n\nPartially Implements: blueprint resource-allocation-api\nChange-Id: Ibf2c92d42dbe3fb055a78028967e202327cfee34\n'}, {'number': 7, 'created': '2018-12-18 02:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/6da9fcbfc975d80c550e95791f05fbb29d4be992', 'message': 'Support lease_id parameter in List and Get Allocations API\n\nThe List and Get Allocations API allows admins to add query\nwith lease_id. When the query key is specified in API request\nthe two APIs only returns allocations related to the lease id.\n\nPartially Implements: blueprint resource-allocation-api\nChange-Id: Ibf2c92d42dbe3fb055a78028967e202327cfee34\n'}, {'number': 8, 'created': '2019-01-08 12:33:48.000000000', 'files': ['blazar/plugins/oshosts/host_plugin.py', 'blazar/tests/plugins/oshosts/test_physical_host_plugin.py', 'blazar/tests/db/sqlalchemy/test_utils.py', 'api-ref/source/v1/parameters.yaml', 'blazar/plugins/base.py', 'api-ref/source/v1/hosts.inc', 'blazar/db/utils.py', 'blazar/db/sqlalchemy/utils.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/7a491b8a799620c6ae969b582c6fd5d8df4171e4', 'message': 'Support lease_id parameter in List and Get Allocations API\n\nThe List and Get Allocations API allows admins to query with lease_id.\nWhen the query key is specified in API requests, the two APIs only\nreturns allocations related to the lease ID.\n\nPartially Implements: blueprint resource-allocation-api\nChange-Id: Ibf2c92d42dbe3fb055a78028967e202327cfee34\n'}]",1,585187,7a491b8a799620c6ae969b582c6fd5d8df4171e4,23,3,8,8878,,,0,"Support lease_id parameter in List and Get Allocations API

The List and Get Allocations API allows admins to query with lease_id.
When the query key is specified in API requests, the two APIs only
returns allocations related to the lease ID.

Partially Implements: blueprint resource-allocation-api
Change-Id: Ibf2c92d42dbe3fb055a78028967e202327cfee34
",git fetch https://review.opendev.org/openstack/blazar refs/changes/87/585187/8 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/plugins/oshosts/host_plugin.py', 'blazar/tests/db/sqlalchemy/test_utils.py', 'blazar/tests/plugins/oshosts/test_physical_host_plugin.py', 'api-ref/source/v1/parameters.yaml', 'blazar/plugins/base.py', 'api-ref/source/v1/hosts.inc', 'blazar/db/utils.py', 'blazar/db/sqlalchemy/utils.py']",8,6f353976be583e01d71581c009a16c3bf45d9dbf,bp/resource-allocation-api,"def get_reservation_allocations_by_host_ids(host_ids, start_date, end_date, lease_id=None): if lease_id: query = query.filter(models.Reservation.lease_id == lease_id)","def get_reservation_allocations_by_host_ids(host_ids, start_date, end_date):",146,12
openstack%2Fcinder~master~Ic94c3ff88b2f487c3f016c50fa152e2141b6cad3,openstack/cinder,master,Ic94c3ff88b2f487c3f016c50fa152e2141b6cad3,PowerMax driver - backup snapshots,ABANDONED,2019-01-18 14:30:37.000000000,2019-01-23 06:19:30.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-18 14:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3180fbbc465238a6080288d4c5a2ef6d9ca066d', 'message': 'PowerMax Driver - Backup snapshots\n\xa0\nProvides PowerMax users a way to create a backup of volume\nusing volume snapshots by attaching the snapshot during the\nbackup process.\n\xa0\nImplements: blueprint powermax-backup-snapshots\n\nChange-Id: Ic94c3ff88b2f487c3f016c50fa152e2141b6cad3\n'}, {'number': 2, 'created': '2019-01-18 15:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6e82c33cb5661beb478aef62ca71d7373a66458f', 'message': 'PowerMax driver - backup snapshots\n\nProvides PowerMax users a way to create a backup of volume\nusing volume snapshots by attaching the snapshot during the\nbackup process.\n\nImplements: blueprint powermax-backup-snapshots\nChange-Id: Ic94c3ff88b2f487c3f016c50fa152e2141b6cad3\n'}, {'number': 3, 'created': '2019-01-18 15:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9d47193b7a86124721602af265d197096af5c86', 'message': 'PowerMax driver - backup snapshots\n\nProvides PowerMax users a way to create a backup of volume\nusing volume snapshots by attaching the snapshot during the\nbackup process.\n\nImplements: blueprint powermax-backup-snapshots\nChange-Id: Ic94c3ff88b2f487c3f016c50fa152e2141b6cad3\n'}, {'number': 4, 'created': '2019-01-20 19:58:10.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'releasenotes/notes/powermax-backup-snapshots-55bb0dc412bf5115.yaml', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/37bc39fc6054c75c1c8a69f795d2d24b161caa30', 'message': 'PowerMax driver - backup snapshots\n\nProvides PowerMax users a way to create a backup of volume\nusing volume snapshots by attaching the snapshot during the\nbackup process.\n\nImplements: blueprint powermax-backup-snapshots\nChange-Id: Ic94c3ff88b2f487c3f016c50fa152e2141b6cad3\n'}]",2,631800,37bc39fc6054c75c1c8a69f795d2d24b161caa30,79,34,4,26402,,,0,"PowerMax driver - backup snapshots

Provides PowerMax users a way to create a backup of volume
using volume snapshots by attaching the snapshot during the
backup process.

Implements: blueprint powermax-backup-snapshots
Change-Id: Ic94c3ff88b2f487c3f016c50fa152e2141b6cad3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/631800/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'releasenotes/notes/powermax-backup-snapshots-55bb0dc412bf5115.yaml', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py']",6,f3180fbbc465238a6080288d4c5a2ef6d9ca066d,bp/vmax-powermax-rebrand,"import sixfrom cinder.volume.drivers.dell_emc.powermax import utils - Support for backup snapshots def backup_use_temp_snapshot(self): return True def create_export_snapshot(self, context, snapshot, connector): """"""Driver entry point to get the export info for an existing snapshot :param context: the context :param snapshot: the cinder snapshot object :param connector: the connector object :returns: snapshot_model_update dict """""" src_volume = snapshot.volume return self.common.create_export_snapshot( src_volume, snapshot) def remove_export_snapshot(self, context, snapshot): """"""Driver entry point to remove the export for a snapshot :param context: the context :param snapshot: the cinder snapshot object """""" src_volume = snapshot.volume return self.common.remove_export_snapshot(src_volume, snapshot) def initialize_connection_snapshot(self, snapshot, connector): """"""Initialize connection snapshot :param snapshot: the cinder volume object :param connector: the connector object :returns: dict -- the target_wwns and initiator_target_map """""" volume = snapshot.volume dev_info, prov_location = self.common.initialize_connection_snapshot( snapshot, volume, connector) if dev_info: vol = utils.PowermaxTempVolume( snapshot.name, snapshot.id, snapshot.volume_type_id, 'backup-snapshot', prov_location) conn_info = self.populate_data(dev_info, vol, connector) fczm_utils.add_fc_zone(conn_info) return conn_info else: return {} def terminate_connection_snapshot(self, snapshot, connector, **kwargs): """"""Disallow connection from connector. :param volume: the snapshot object :param connector: the connector object :returns: dict -- the target_wwns and initiator_target_map if the zone is to be removed, otherwise empty """""" volume = snapshot.volume vol = self._get_tempvolobj(volume, snapshot) data = {'driver_volume_type': 'fibre_channel', 'data': {}} zoning_mappings = {} if connector: zoning_mappings = self._get_zoning_mappings(vol, connector) if zoning_mappings: self.common.terminate_connection_snapshot( snapshot, volume, connector) data = self._cleanup_zones(zoning_mappings) fczm_utils.remove_fc_zone(data) return data def _get_tempvolobj(self, volume, snapshot): """"""Get the internal temp volume object :param volume: the cinder volume object :param snapshot: the cinder snapshot object :returns: PowermaxTempVolume object """""" snap_loc = snapshot.provider_location name = ast.literal_eval(snap_loc) # It is safe to assume that export_id is present while terminate conn export_id = name['export_id'] vol_loc = volume.provider_location name = ast.literal_eval(vol_loc) # It is safe to assume that array is present as attach snapshot # is not supported for legacy devices array = name['array'] volume_dict = {'array': array, 'device_id': export_id} provider_location = six.text_type(volume_dict) vol = utils.PowermaxTempVolume( snapshot.name, snapshot.id, snapshot.volume_type_id, 'backup-snapshot', provider_location) return vol ",,485,15
openstack%2Fansible-role-tripleo-modify-image~master~Ia98d2ecaf718d6cb9d6f859bfadbbcb07acfd775,openstack/ansible-role-tripleo-modify-image,master,Ia98d2ecaf718d6cb9d6f859bfadbbcb07acfd775,Append to the tag on buildah commit,MERGED,2019-01-21 21:21:29.000000000,2019-01-23 06:18:58.000000000,2019-01-23 06:18:58.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-21 21:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/0e63be531aada250a57d5795ef2d4370c954de25', 'message': 'Append to the tag on buildah commit\n\nThis is consistent with the tagging done at the end of\nmodify_image.yml, and fixes an issue with the tagged image being\nmissing.\n\nChange-Id: Ia98d2ecaf718d6cb9d6f859bfadbbcb07acfd775\n'}, {'number': 2, 'created': '2019-01-21 21:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/51e51d0c78c3a97045e3d1a441063ff0b3a4f9f3', 'message': 'Append to the tag on buildah commit\n\nThis is consistent with the tagging done at the end of\nmodify_image.yml, and fixes an issue with the tagged image being\nmissing.\n\nChange-Id: Ia98d2ecaf718d6cb9d6f859bfadbbcb07acfd775\n'}, {'number': 3, 'created': '2019-01-22 02:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/10470c4c16915fa85578def2ce089d14f226bc40', 'message': 'Append to the tag on buildah commit\n\nThis is consistent with the tagging done at the end of\nmodify_image.yml, and fixes an issue with the tagged image being\nmissing.\n\nChange-Id: Ia98d2ecaf718d6cb9d6f859bfadbbcb07acfd775\n'}, {'number': 4, 'created': '2019-01-22 17:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/f5cf3d0be9eb89292e497a75bcd3903dd923dc7b', 'message': 'Append to the tag on buildah commit\n\nThis is consistent with the tagging done at the end of\nmodify_image.yml, and fixes an issue with the tagged image being\nmissing.\n\nChange-Id: Ia98d2ecaf718d6cb9d6f859bfadbbcb07acfd775\n'}, {'number': 5, 'created': '2019-01-22 19:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/8554f421d648412d2bd5cfb4dd027dae3de2700f', 'message': 'Append to the tag on buildah commit\n\nThis is consistent with the tagging done at the end of\nmodify_image.yml, and fixes an issue with the tagged image being\nmissing.\n\nChange-Id: Ia98d2ecaf718d6cb9d6f859bfadbbcb07acfd775\n'}, {'number': 6, 'created': '2019-01-22 20:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/3a5aac093170460a4fcfd30be1b31319f823d702', 'message': 'Append to the tag on buildah commit\n\nThis is consistent with the tagging done at the end of\nmodify_image.yml, and fixes an issue with the tagged image being\nmissing.\n\nChange-Id: Ia98d2ecaf718d6cb9d6f859bfadbbcb07acfd775\n'}, {'number': 7, 'created': '2019-01-23 01:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/a352daa2e5553c39736e7586758d564a9ad19c35', 'message': 'Append to the tag on buildah commit\n\nThis is consistent with the tagging done at the end of\nmodify_image.yml, and fixes an issue with the tagged image being\nmissing.\n\nChange-Id: Ia98d2ecaf718d6cb9d6f859bfadbbcb07acfd775\n'}, {'number': 8, 'created': '2019-01-23 01:19:46.000000000', 'files': ['tasks/yum_update_buildah.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/8dba05a3c0b7ea72b98181374e2916c16b6a0671', 'message': 'Append to the tag on buildah commit\n\nThis is consistent with the tagging done at the end of\nmodify_image.yml, and fixes an issue with the tagged image being\nmissing.\n\nChange-Id: Ia98d2ecaf718d6cb9d6f859bfadbbcb07acfd775\n'}]",0,632164,8dba05a3c0b7ea72b98181374e2916c16b6a0671,22,4,8,4571,,,0,"Append to the tag on buildah commit

This is consistent with the tagging done at the end of
modify_image.yml, and fixes an issue with the tagged image being
missing.

Change-Id: Ia98d2ecaf718d6cb9d6f859bfadbbcb07acfd775
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/64/632164/8 && git format-patch -1 --stdout FETCH_HEAD,['tasks/yum_update_buildah.yml'],1,0e63be531aada250a57d5795ef2d4370c954de25,buildah-tag,- name: Commit changes to image {{ target_image | default(source_image) }}{{ modified_append_tag }} {{ target_image | default(source_image) }}{{ modified_append_tag }},- name: Commit changes to image {{ target_image | default(source_image) }} {{ target_image | default(source_image) }},2,2
openstack%2Fansible-role-tripleo-modify-image~master~I6da0850386c0e3ca51f5f42dbd97c26bf5364a24,openstack/ansible-role-tripleo-modify-image,master,I6da0850386c0e3ca51f5f42dbd97c26bf5364a24,yum_update: cp the script in /tmp before buildah cp,MERGED,2019-01-21 14:24:54.000000000,2019-01-23 06:18:58.000000000,2019-01-23 06:18:58.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-21 14:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/6405fd917839af8328fcf335667503ed636f9f69', 'message': 'yum_update: use role_path to find the script\n\nIn I8a3769c0b55572ba05cc29ecd28a131cc94e8c4d, we switched the playbook\nto use buildah CLI and run the yum_update.sh from a directory that\nwasn\'t found by the playbook:\n\n  no files found matching ""files/yum_update.sh"":\n  no such file or directory\n\nThis patch makes sure we use {{ role_path }} to find it.\n\nChange-Id: I6da0850386c0e3ca51f5f42dbd97c26bf5364a24\n'}, {'number': 2, 'created': '2019-01-22 02:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/209a8a1eddb88a9ef725169a127b27a66a067cea', 'message': 'yum_update: use role_path to find the script\n\nIn I8a3769c0b55572ba05cc29ecd28a131cc94e8c4d, we switched the playbook\nto use buildah CLI and run the yum_update.sh from a directory that\nwasn\'t found by the playbook:\n\n  no files found matching ""files/yum_update.sh"":\n  no such file or directory\n\nThis patch makes sure we use {{ role_path }} to find it.\n\nChange-Id: I6da0850386c0e3ca51f5f42dbd97c26bf5364a24\n'}, {'number': 3, 'created': '2019-01-22 17:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/be6e45d591bc0e23b10e3047a245aa12ae62cf09', 'message': 'yum_update: cp the script in /tmp before buildah cp\n\nIn I8a3769c0b55572ba05cc29ecd28a131cc94e8c4d, we switched the playbook\nto use buildah CLI and run the yum_update.sh from a directory that\nwasn\'t found by the playbook:\n\n  no files found matching ""files/yum_update.sh"":\n  no such file or directory\n\nThis patch first copies the script in /tmp, so it can be copied from the\nhost afterward.\n\nChange-Id: I6da0850386c0e3ca51f5f42dbd97c26bf5364a24\n'}, {'number': 4, 'created': '2019-01-22 19:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/ab135d056d5930c87b670718249c2c7433c5ae7c', 'message': 'yum_update: cp the script in /tmp before buildah cp\n\nIn I8a3769c0b55572ba05cc29ecd28a131cc94e8c4d, we switched the playbook\nto use buildah CLI and run the yum_update.sh from a directory that\nwasn\'t found by the playbook:\n\n  no files found matching ""files/yum_update.sh"":\n  no such file or directory\n\nThis patch first copies the script in /tmp, so it can be copied from the\nhost afterward.\n\nChange-Id: I6da0850386c0e3ca51f5f42dbd97c26bf5364a24\n'}, {'number': 5, 'created': '2019-01-22 20:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/5a5bd4934ff4f9fa4f7a77cd077d3595717b275a', 'message': 'yum_update: cp the script in /tmp before buildah cp\n\nIn I8a3769c0b55572ba05cc29ecd28a131cc94e8c4d, we switched the playbook\nto use buildah CLI and run the yum_update.sh from a directory that\nwasn\'t found by the playbook:\n\n  no files found matching ""files/yum_update.sh"":\n  no such file or directory\n\nThis patch first copies the script in /tmp, so it can be copied from the\nhost afterward.\n\nChange-Id: I6da0850386c0e3ca51f5f42dbd97c26bf5364a24\n'}, {'number': 6, 'created': '2019-01-22 20:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/bf02e573254e2945172890a86ace49e2482ceefe', 'message': 'yum_update: cp the script in /tmp before buildah cp\n\nIn I8a3769c0b55572ba05cc29ecd28a131cc94e8c4d, we switched the playbook\nto use buildah CLI and run the yum_update.sh from a directory that\nwasn\'t found by the playbook:\n\n  no files found matching ""files/yum_update.sh"":\n  no such file or directory\n\nThis patch first copies the script in /tmp, so it can be copied from the\nhost afterward.\n\nChange-Id: I6da0850386c0e3ca51f5f42dbd97c26bf5364a24\n'}, {'number': 7, 'created': '2019-01-23 01:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/338a459262866fdb983897306ba713330277d554', 'message': 'yum_update: cp the script in /tmp before buildah cp\n\nIn I8a3769c0b55572ba05cc29ecd28a131cc94e8c4d, we switched the playbook\nto use buildah CLI and run the yum_update.sh from a directory that\nwasn\'t found by the playbook:\n\n  no files found matching ""files/yum_update.sh"":\n  no such file or directory\n\nThis patch first copies the script in /tmp, so it can be copied from the\nhost afterward.\n\nChange-Id: I6da0850386c0e3ca51f5f42dbd97c26bf5364a24\n'}, {'number': 8, 'created': '2019-01-23 01:19:41.000000000', 'files': ['tasks/yum_update_buildah.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/f77b9a22e9b5e46e238b5688ce192014607b1549', 'message': 'yum_update: cp the script in /tmp before buildah cp\n\nIn I8a3769c0b55572ba05cc29ecd28a131cc94e8c4d, we switched the playbook\nto use buildah CLI and run the yum_update.sh from a directory that\nwasn\'t found by the playbook:\n\n  no files found matching ""files/yum_update.sh"":\n  no such file or directory\n\nThis patch first copies the script in /tmp, so it can be copied from the\nhost afterward.\n\nChange-Id: I6da0850386c0e3ca51f5f42dbd97c26bf5364a24\n'}]",4,632099,f77b9a22e9b5e46e238b5688ce192014607b1549,41,5,8,3153,,,0,"yum_update: cp the script in /tmp before buildah cp

In I8a3769c0b55572ba05cc29ecd28a131cc94e8c4d, we switched the playbook
to use buildah CLI and run the yum_update.sh from a directory that
wasn't found by the playbook:

  no files found matching ""files/yum_update.sh"":
  no such file or directory

This patch first copies the script in /tmp, so it can be copied from the
host afterward.

Change-Id: I6da0850386c0e3ca51f5f42dbd97c26bf5364a24
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/99/632099/8 && git format-patch -1 --stdout FETCH_HEAD,['tasks/yum_update_buildah.yml'],1,6405fd917839af8328fcf335667503ed636f9f69,role_path, {{ role_path }}/files/yum_update.sh /tmp/yum_update.sh, files/yum_update.sh /tmp/yum_update.sh,1,1
openstack%2Foctavia~master~Ie3edd0b861646c501f29fe2eee323d8ab9ccd335,openstack/octavia,master,Ie3edd0b861646c501f29fe2eee323d8ab9ccd335,Update the method of amphora gets LB topology,ABANDONED,2019-01-22 06:33:41.000000000,2019-01-23 05:48:57.000000000,,"[{'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28329}]","[{'number': 1, 'created': '2019-01-22 06:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f6850b58be84d833c2657387590a94255c57e118', 'message': ""Update the method of amphora gets LB topology\n\nThis patch is an improvement to the patch: https://review.openstack.org/#/c/589292/\n\nCurrently, The load balancer topology pass to amphora via nova\nconfig driver at boot the amphora, and the value is obtained from\noctavia.conf. But, we will support to set the load balancer topology\nvia a flavor. This will result in two problems.\n\n1. If we use flavor to set a value different from the one in the\noctavia.conf. The amphora will get a invalid topology.\n2. The spares should be able to be used to any topology. If we\nspecified the topology at boot time. The updates of the topology's\nvalue will be difficult.\n\nSo, I think the value of LB topology should be passed to amphora via\nOctavia HAProxy Amphora API at using the amphora.\n\nChange-Id: Ie3edd0b861646c501f29fe2eee323d8ab9ccd335\nStory: 2003451\nTask: 29022\n""}, {'number': 2, 'created': '2019-01-22 07:33:00.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/amphorae/backends/agent/templates/amphora_agent_conf.template', 'doc/source/contributor/api/haproxy-amphora-api.rst', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver.py', 'octavia/amphorae/backends/agent/agent_jinja_cfg.py', 'octavia/tests/unit/controller/worker/tasks/test_amphora_driver_tasks.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/backends/agent/test_agent_jinja_cfg.py', 'octavia/controller/worker/tasks/amphora_driver_tasks.py', 'octavia/amphorae/backends/agent/api_server/osutils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/12bd3c8d16c7611da58122d949ad8cc40f86af90', 'message': ""Update the method of amphora gets LB topology\n\nThis patch is an improvement to the patch: https://review.openstack.org/#/c/589292/\n\nCurrently, The load balancer topology pass to amphora via nova\nconfig driver at boot the amphora, and the value is obtained from\noctavia.conf. But, we will support to set the load balancer topology\nvia a flavor. This will result in two problems.\n\n1. If we use flavor to set a value different from the one in the\noctavia.conf. The amphora will get a invalid topology.\n2. The spares should be able to be used to any topology. If we\nspecified the topology at boot time. The updates of the topology's\nvalue will be difficult.\n\nSo, I think the value of LB topology should be passed to amphora via\nOctavia HAProxy Amphora API at using the amphora.\n\nChange-Id: Ie3edd0b861646c501f29fe2eee323d8ab9ccd335\nStory: 2003451\nTask: 29022\n""}]",2,632242,12bd3c8d16c7611da58122d949ad8cc40f86af90,6,5,2,28329,,,0,"Update the method of amphora gets LB topology

This patch is an improvement to the patch: https://review.openstack.org/#/c/589292/

Currently, The load balancer topology pass to amphora via nova
config driver at boot the amphora, and the value is obtained from
octavia.conf. But, we will support to set the load balancer topology
via a flavor. This will result in two problems.

1. If we use flavor to set a value different from the one in the
octavia.conf. The amphora will get a invalid topology.
2. The spares should be able to be used to any topology. If we
specified the topology at boot time. The updates of the topology's
value will be difficult.

So, I think the value of LB topology should be passed to amphora via
Octavia HAProxy Amphora API at using the amphora.

Change-Id: Ie3edd0b861646c501f29fe2eee323d8ab9ccd335
Story: 2003451
Task: 29022
",git fetch https://review.opendev.org/openstack/octavia refs/changes/42/632242/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/amphorae/backends/agent/templates/amphora_agent_conf.template', 'doc/source/contributor/api/haproxy-amphora-api.rst', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver.py', 'octavia/amphorae/backends/agent/agent_jinja_cfg.py', 'octavia/tests/unit/controller/worker/tasks/test_amphora_driver_tasks.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/backends/agent/test_agent_jinja_cfg.py', 'octavia/controller/worker/tasks/amphora_driver_tasks.py', 'octavia/amphorae/backends/agent/api_server/osutils.py']",12,f6850b58be84d833c2657387590a94255c57e118,amphora/topology," def write_vip_interface_file(self, topology, interface_file_path, topology=topology, def write_vip_interface_file(self, topology, interface_file_path, topology, interface_file_path, primary_interface, vip, ip, broadcast, netmask, gateway, mtu, vrrp_ip, vrrp_version, render_host_routes, template_vip) def write_port_interface_file(self, topology, netns_interface, fixed_ips, mtu, interface_file_path=None, def write_vip_interface_file(self, topology, interface_file_path, topology, interface_file_path, primary_interface, vip, ip, broadcast, netmask, gateway, mtu, vrrp_ip, vrrp_version, render_host_routes, template_vip) if (ip.version == 4 and topology == consts.TOPOLOGY_SINGLE): topology, alias_interface_file_path, primary_interface, vip, ip, broadcast, netmask, gateway, mtu, vrrp_ip, vrrp_version, topology, routes_interface_file_path, primary_interface, if topology == consts.TOPOLOGY_SINGLE: topology, route_rules_interface_file_path, primary_interface, def write_static_routes_interface_file(self, topology, interface_file_path, topology=topology, def write_port_interface_file(self, topology, netns_interface, fixed_ips, mtu, interface_file_path=None, topology, routes_interface_file_path, netns_interface,"," def write_vip_interface_file(self, interface_file_path, topology=CONF.controller_worker.loadbalancer_topology, def write_vip_interface_file(self, interface_file_path, interface_file_path, primary_interface, vip, ip, broadcast, netmask, gateway, mtu, vrrp_ip, vrrp_version, render_host_routes, template_vip) def write_port_interface_file(self, netns_interface, fixed_ips, mtu, interface_file_path=None, def write_vip_interface_file(self, interface_file_path, interface_file_path, primary_interface, vip, ip, broadcast, netmask, gateway, mtu, vrrp_ip, vrrp_version, render_host_routes, template_vip) if (ip.version == 4 and CONF.controller_worker.loadbalancer_topology == consts.TOPOLOGY_SINGLE): alias_interface_file_path, primary_interface, vip, ip, broadcast, netmask, gateway, mtu, vrrp_ip, vrrp_version, routes_interface_file_path, primary_interface, if (CONF.controller_worker.loadbalancer_topology == consts.TOPOLOGY_SINGLE): route_rules_interface_file_path, primary_interface, def write_static_routes_interface_file(self, interface_file_path, topology=CONF.controller_worker.loadbalancer_topology, def write_port_interface_file(self, netns_interface, fixed_ips, mtu, interface_file_path=None, routes_interface_file_path, netns_interface,",104,95
openstack%2Fos-net-config~stable%2Fqueens~I24af14c4896d38d398505a4c7566622e41d5226c,openstack/os-net-config,stable/queens,I24af14c4896d38d398505a4c7566622e41d5226c,WIP: Syncing the requirements,ABANDONED,2019-01-14 14:10:10.000000000,2019-01-23 05:33:50.000000000,,"[{'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-14 14:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/526b4f1095d5a0d2cef7cfb77248362a8907e89a', 'message': 'WIP: Syncing the requirements\n\nChange-Id: I24af14c4896d38d398505a4c7566622e41d5226c\n(cherry picked from commit 609a19c85cbe5c09d7e131a08159814035bcc7ec)\n'}, {'number': 2, 'created': '2019-01-14 14:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/20b4f0af1e9afe978c8d341e03e901d411c0e665', 'message': 'WIP: Syncing the requirements\n\nChange-Id: I24af14c4896d38d398505a4c7566622e41d5226c\n(cherry picked from commit 609a19c85cbe5c09d7e131a08159814035bcc7ec)\n'}, {'number': 3, 'created': '2019-01-14 15:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/09f677a743e9d9890992f4b1a17762abc821901a', 'message': 'WIP: Syncing the requirements\n\nChange-Id: I24af14c4896d38d398505a4c7566622e41d5226c\n(cherry picked from commit 609a19c85cbe5c09d7e131a08159814035bcc7ec)\n'}, {'number': 4, 'created': '2019-01-16 02:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f41d3824f91ae54526e505c29479afbefbe4814a', 'message': 'WIP: Syncing the requirements\n\nChange-Id: I24af14c4896d38d398505a4c7566622e41d5226c\n(cherry picked from commit 609a19c85cbe5c09d7e131a08159814035bcc7ec)\n'}, {'number': 5, 'created': '2019-01-16 02:20:51.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/0728c65a4a1979be600866ee67465caa4d5f21e7', 'message': 'WIP: Syncing the requirements\n\nChange-Id: I24af14c4896d38d398505a4c7566622e41d5226c\n(cherry picked from commit 609a19c85cbe5c09d7e131a08159814035bcc7ec)\n'}]",0,630685,0728c65a4a1979be600866ee67465caa4d5f21e7,11,2,5,18904,,,0,"WIP: Syncing the requirements

Change-Id: I24af14c4896d38d398505a4c7566622e41d5226c
(cherry picked from commit 609a19c85cbe5c09d7e131a08159814035bcc7ec)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/85/630685/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,526b4f1095d5a0d2cef7cfb77248362a8907e89a,,"netaddr>=0.7.13 #BSDjsonschema>=2.0.0,<3.0.0 # MIT","netaddr!=0.7.16,>=0.7.13 # BSDjsonschema>=2.0.0,<3.0.0,!=2.5.0 # MIT",2,2
openstack%2Ftripleo-heat-templates~master~Ibad6ff84b33ae3d6011c87028fe02695eea69482,openstack/tripleo-heat-templates,master,Ibad6ff84b33ae3d6011c87028fe02695eea69482,"Revert ""post_deploy: support python3 for undercloud scripts.""",MERGED,2019-01-23 00:23:02.000000000,2019-01-23 05:14:18.000000000,2019-01-23 05:14:18.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 00:23:02.000000000', 'files': ['extraconfig/post_deploy/undercloud_post.yaml', 'extraconfig/post_deploy/clouds_yaml.py', 'extraconfig/post_deploy/undercloud_post.py', 'extraconfig/post_deploy/standalone_post.yaml', 'extraconfig/post_deploy/undercloud_ctlplane_network.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85d9cf4956e51902509bdc2ac31cf213f5489d76', 'message': 'Revert ""post_deploy: support python3 for undercloud scripts.""\n\nThis reverts commit 1143714b340cc5a3c9ed422af54fc12993067005.\n\nSo we\'re actually changing this out in packaging. It\'ll fail\nif you deploy from code, but the fedora version of the \npackage should end up with /usr/bin/python3. This is why\nwe didn\'t hit this in CI.\n\nhttps://review.rdoproject.org/r/#/c/18465/\n\nChange-Id: Ibad6ff84b33ae3d6011c87028fe02695eea69482\n'}]",0,632588,85d9cf4956e51902509bdc2ac31cf213f5489d76,7,5,1,14985,,,0,"Revert ""post_deploy: support python3 for undercloud scripts.""

This reverts commit 1143714b340cc5a3c9ed422af54fc12993067005.

So we're actually changing this out in packaging. It'll fail
if you deploy from code, but the fedora version of the 
package should end up with /usr/bin/python3. This is why
we didn't hit this in CI.

https://review.rdoproject.org/r/#/c/18465/

Change-Id: Ibad6ff84b33ae3d6011c87028fe02695eea69482
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/632588/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/post_deploy/undercloud_post.yaml', 'extraconfig/post_deploy/clouds_yaml.py', 'extraconfig/post_deploy/undercloud_post.py', 'extraconfig/post_deploy/standalone_post.yaml', 'extraconfig/post_deploy/undercloud_ctlplane_network.py']",5,85d9cf4956e51902509bdc2ac31cf213f5489d76,py3,#!/usr/bin/env python,#!/usr/bin/env $PYTHON,7,31
openstack%2Fheat-templates~master~I9de98df8a629227ba83e50382ccba660621fcbd5,openstack/heat-templates,master,I9de98df8a629227ba83e50382ccba660621fcbd5,Add an example of OS::Mistral::ExternalResource,MERGED,2018-11-21 10:17:23.000000000,2019-01-23 04:55:25.000000000,2019-01-23 04:55:25.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-21 10:17:23.000000000', 'files': ['hot/mistral_external.yaml'], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/e78f9df974099dd1616bf1c8eca287ecf7173512', 'message': ""Add an example of OS::Mistral::ExternalResource\n\nI couldn't find a simple example of that resource, so here's a real\nsimplified one creating a workflow in the same template.\n\nChange-Id: I9de98df8a629227ba83e50382ccba660621fcbd5\n""}]",0,619195,e78f9df974099dd1616bf1c8eca287ecf7173512,6,3,1,7385,,,0,"Add an example of OS::Mistral::ExternalResource

I couldn't find a simple example of that resource, so here's a real
simplified one creating a workflow in the same template.

Change-Id: I9de98df8a629227ba83e50382ccba660621fcbd5
",git fetch https://review.opendev.org/openstack/heat-templates refs/changes/95/619195/1 && git format-patch -1 --stdout FETCH_HEAD,['hot/mistral_external.yaml'],1,e78f9df974099dd1616bf1c8eca287ecf7173512,mistral-external,heat_template_version: rocky resources: workflow: type: OS::Mistral::Workflow properties: type: direct tasks: - name: hello action: std.echo output='Good morning!' publish: result: 'Bye' external_resource: type: OS::Mistral::ExternalResource properties: actions: CREATE: workflow: {get_resource: workflow} ,,20,0
openstack%2Fopenstack-ansible-os_tempest~master~I36b5ae26d0c6962438fceda664f8fc99a3d119bc,openstack/openstack-ansible-os_tempest,master,I36b5ae26d0c6962438fceda664f8fc99a3d119bc,[DNM] public subnet allocation pool,ABANDONED,2019-01-22 16:45:21.000000000,2019-01-23 04:37:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-22 16:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/01a247f4a397b66d6437675662385301127d8527', 'message': '[DNM] public subnet allocation pool\n\nChange-Id: I36b5ae26d0c6962438fceda664f8fc99a3d119bc\n'}, {'number': 2, 'created': '2019-01-22 18:05:11.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ab0060c021e1a259f80359a3e6f6a9b247132bd3', 'message': '[DNM] public subnet allocation pool\n\nChange-Id: I36b5ae26d0c6962438fceda664f8fc99a3d119bc\n'}]",0,632508,ab0060c021e1a259f80359a3e6f6a9b247132bd3,5,1,2,12393,,,0,"[DNM] public subnet allocation pool

Change-Id: I36b5ae26d0c6962438fceda664f8fc99a3d119bc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/08/632508/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,01a247f4a397b66d6437675662385301127d8527,dnm_subnet,"tempest_public_subnet_allocation_pools: ""10.1.13.150-10.1.13.200"" #tempest_public_subnet_allocation_pools: """"","# tempest_public_subnet_allocation_pools: ""10.1.13.150-10.1.13.200"" tempest_public_subnet_allocation_pools: """"",2,2
openstack%2Fheat-specs~master~I5cf190311d2c5a4a597c99c041217ca37a506785,openstack/heat-specs,master,I5cf190311d2c5a4a597c99c041217ca37a506785,Add Train specs directory,NEW,2018-11-14 09:04:50.000000000,2019-01-23 04:23:08.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-14 09:04:50.000000000', 'files': ['train/.placeholder'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/e4fbfbf5352a911cf21c3eef46626a575380c93c', 'message': 'Add Train specs directory\n\nThe ""T"" release of OpenStack is officially ""Train"".\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-November/136464.html\n\nChange-Id: I5cf190311d2c5a4a597c99c041217ca37a506785\n'}]",0,617912,e4fbfbf5352a911cf21c3eef46626a575380c93c,3,2,1,26490,,,0,"Add Train specs directory

The ""T"" release of OpenStack is officially ""Train"".

http://lists.openstack.org/pipermail/openstack-dev/2018-November/136464.html

Change-Id: I5cf190311d2c5a4a597c99c041217ca37a506785
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/12/617912/1 && git format-patch -1 --stdout FETCH_HEAD,['train/.placeholder'],1,e4fbfbf5352a911cf21c3eef46626a575380c93c,,,,0,0
openstack%2Fnova~master~I69a708180a59b2ddd45c0aa0d3f8abcb6525874d,openstack/nova,master,I69a708180a59b2ddd45c0aa0d3f8abcb6525874d,Move simple execute call to processutils.,MERGED,2018-12-03 09:40:21.000000000,2019-01-23 04:18:01.000000000,2019-01-23 02:09:13.000000000,"[{'_account_id': 2271}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29344}]","[{'number': 1, 'created': '2018-12-03 09:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97262477d104bb4866d490a062ea710a55e2d8a4', 'message': 'Move simple execute call to processutils.\n\nChange-Id: I69a708180a59b2ddd45c0aa0d3f8abcb6525874d\n'}, {'number': 2, 'created': '2018-12-04 09:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ef7a2ee878d1fa86b5af9fd35b718936e43bdf7', 'message': 'Move simple execute call to processutils.\n\nChange-Id: I69a708180a59b2ddd45c0aa0d3f8abcb6525874d\n'}, {'number': 3, 'created': '2018-12-10 22:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8279ea45a1036e254dd545cae4d27a0b78d7b6a4', 'message': 'Move simple execute call to processutils.\n\nChange-Id: I69a708180a59b2ddd45c0aa0d3f8abcb6525874d\n'}, {'number': 4, 'created': '2018-12-12 07:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b88074fcc5d840de962845f09d5c206406838c8e', 'message': 'Move simple execute call to processutils.\n\nChange-Id: I69a708180a59b2ddd45c0aa0d3f8abcb6525874d\n'}, {'number': 5, 'created': '2018-12-18 04:49:13.000000000', 'files': ['nova/network/manager.py', 'nova/network/linux_net.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/571355d40f78b6dacbaf8fd3401f96a50708febb', 'message': 'Move simple execute call to processutils.\n\nChange-Id: I69a708180a59b2ddd45c0aa0d3f8abcb6525874d\n'}]",5,621527,571355d40f78b6dacbaf8fd3401f96a50708febb,119,21,5,2271,,,0,"Move simple execute call to processutils.

Change-Id: I69a708180a59b2ddd45c0aa0d3f8abcb6525874d
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/621527/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/network/manager.py']",2,97262477d104bb4866d490a062ea710a55e2d8a4,my-own-personal-alternative-universe,from oslo_concurrency import processutils if_str = processutils.execute(, if_str = utils.execute(,3,1
openstack%2Fmurano~master~I68e0a98108df918dd5e1bcf81b2d54ac33d5538b,openstack/murano,master,I68e0a98108df918dd5e1bcf81b2d54ac33d5538b,stop murano-api process,MERGED,2019-01-22 10:44:56.000000000,2019-01-23 04:15:14.000000000,2019-01-23 04:15:14.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 10:44:56.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/murano/commit/5fbd61d03cbb28ae3460fca89d5259f92e4c50eb', 'message': 'stop murano-api process\n\nChange-Id: I68e0a98108df918dd5e1bcf81b2d54ac33d5538b\n'}]",0,632404,5fbd61d03cbb28ae3460fca89d5259f92e4c50eb,6,2,1,14107,,,0,"stop murano-api process

Change-Id: I68e0a98108df918dd5e1bcf81b2d54ac33d5538b
",git fetch https://review.opendev.org/openstack/murano refs/changes/04/632404/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,5fbd61d03cbb28ae3460fca89d5259f92e4c50eb,, stop_process murano-api, else stop_process murano-api,1,2
openstack%2Fwatcher~master~Ib4e5b27e237122e519bdf84d2af1e8c0ea5f1dda,openstack/watcher,master,Ib4e5b27e237122e519bdf84d2af1e8c0ea5f1dda,[Trivial fix] Do not use self in classmethod,MERGED,2019-01-15 03:19:30.000000000,2019-01-23 04:08:35.000000000,2019-01-23 04:08:35.000000000,"[{'_account_id': 20190}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-15 03:19:30.000000000', 'files': ['watcher/decision_engine/scoring/dummy_scoring_container.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/1e49203cc77efbf51962d3481bad1fabf560c2a2', 'message': '[Trivial fix] Do not use self in classmethod\n\nDo not use self in classmethod, cls should be used instead.\n\nChange-Id: Ib4e5b27e237122e519bdf84d2af1e8c0ea5f1dda\n'}]",0,630872,1e49203cc77efbf51962d3481bad1fabf560c2a2,8,3,1,20190,,,0,"[Trivial fix] Do not use self in classmethod

Do not use self in classmethod, cls should be used instead.

Change-Id: Ib4e5b27e237122e519bdf84d2af1e8c0ea5f1dda
",git fetch https://review.opendev.org/openstack/watcher refs/changes/72/630872/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/scoring/dummy_scoring_container.py'],1,1e49203cc77efbf51962d3481bad1fabf560c2a2,classmethod_self, def get_scoring_engine_list(cls):, def get_scoring_engine_list(self):,1,1
openstack%2Ftrove-dashboard~master~I67106a1d8f02f94188eaaa53914352a0a40b7614,openstack/trove-dashboard,master,I67106a1d8f02f94188eaaa53914352a0a40b7614,Removed older version of python added 3.5,ABANDONED,2018-09-29 13:20:17.000000000,2019-01-23 03:34:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-09-29 13:20:17.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/414563564abc3c4b59fcbb9c6abfa15a1b1baf51', 'message': 'Removed older version of python added 3.5\n\nIn setup.cfg file the python 3.5 is added\nIn tox.ini the python 3.5 is added\n\nChange-Id: I67106a1d8f02f94188eaaa53914352a0a40b7614\n'}]",0,606429,414563564abc3c4b59fcbb9c6abfa15a1b1baf51,4,2,1,17499,,,0,"Removed older version of python added 3.5

In setup.cfg file the python 3.5 is added
In tox.ini the python 3.5 is added

Change-Id: I67106a1d8f02f94188eaaa53914352a0a40b7614
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/29/606429/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,414563564abc3c4b59fcbb9c6abfa15a1b1baf51,,"envlist = py27,py35,pep8basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3","envlist = py27,pep8",8,2
openstack%2Fironic-inspector~stable%2Fqueens~I1aa11c8095c4557107223e352424e3b718e2ab35,openstack/ironic-inspector,stable/queens,I1aa11c8095c4557107223e352424e3b718e2ab35,Accept None value for set-attribute,MERGED,2018-12-12 15:28:34.000000000,2019-01-23 03:29:21.000000000,2019-01-23 03:29:21.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-12-12 15:28:34.000000000', 'files': ['releasenotes/notes/unset_property_instrospectionrules-78d64b8b7643e40d.yaml', 'ironic_inspector/test/unit/test_rules.py', 'ironic_inspector/test/unit/test_plugins_rules.py', 'ironic_inspector/plugins/rules.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/5bcf7aa8cbe91a45d0e650cc831b2eca3bc4d0b7', 'message': 'Accept None value for set-attribute\n\nAllows the ``set-attribute`` introspection rule action\nto use ``None`` as a valid value.\n\nCo-Authored-By: Riccardo Pittau <elfosardo@gmail.com>\n\nChange-Id: I1aa11c8095c4557107223e352424e3b718e2ab35\nStory: #2004546\nTask: #28299\n(cherry picked from commit 22294abac6fdaa6e0c959cd2757497abae232cb7)\n'}]",0,624738,5bcf7aa8cbe91a45d0e650cc831b2eca3bc4d0b7,8,5,1,15519,,,0,"Accept None value for set-attribute

Allows the ``set-attribute`` introspection rule action
to use ``None`` as a valid value.

Co-Authored-By: Riccardo Pittau <elfosardo@gmail.com>

Change-Id: I1aa11c8095c4557107223e352424e3b718e2ab35
Story: #2004546
Task: #28299
(cherry picked from commit 22294abac6fdaa6e0c959cd2757497abae232cb7)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/38/624738/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_rules.py', 'releasenotes/notes/unset_property_instrospectionrules-78d64b8b7643e40d.yaml', 'ironic_inspector/test/unit/test_plugins_rules.py', 'ironic_inspector/plugins/rules.py']",4,5bcf7aa8cbe91a45d0e650cc831b2eca3bc4d0b7,allow_none_set_attribute-stable/queens," # NOTE(iurygregory): set as optional to accept None as value, check # that the key 'value' is present, otherwise will raise ValueError. OPTIONAL_PARAMS = {'value'} REQUIRED_PARAMS = {'path'} def validate(self, params, **kwargs): if 'value' in params: super(base.RuleActionPlugin, self).validate(params, **kwargs) else: msg = _('missing required parameter(s): value') raise ValueError(msg) "," REQUIRED_PARAMS = {'path', 'value'}",29,1
openstack%2Fironic-inspector~stable%2Fqueens~Ie3ad29a4abb9ac58c41b776042f80dff6a9c72d2,openstack/ironic-inspector,stable/queens,Ie3ad29a4abb9ac58c41b776042f80dff6a9c72d2,Prevent abnormal timeout values from breaking sync with ironic,MERGED,2019-01-18 09:56:41.000000000,2019-01-23 03:29:19.000000000,2019-01-23 03:29:19.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-01-18 09:56:41.000000000', 'files': ['ironic_inspector/conf/default.py', 'ironic_inspector/wsgi_service.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/89c083aa302ba963c822b4fc1eaff8506469032b', 'message': 'Prevent abnormal timeout values from breaking sync with ironic\n\nI had a case when an operator set the timeout too a abnormally large\nvalue, which caused OverflowError in the timeout clean_up task, which,\nin turn, prevented ironic-inspector from ever running node list sync\nwith ironic.\n\nThis change makes two corrections:\n* The timeout configuration is limited to 10 years (0 can still be used\n  to disable the timeout completely).\n* Errors in the clean_up task do not prevent the node list sync from\n  running.\n\nChange-Id: Ie3ad29a4abb9ac58c41b776042f80dff6a9c72d2\nStory: #2004807\nTask: #28963\n(cherry picked from commit ab4a3bd867423b9131c8db251fecd5618930a6a5)\n'}]",0,631756,89c083aa302ba963c822b4fc1eaff8506469032b,13,6,1,10239,,,0,"Prevent abnormal timeout values from breaking sync with ironic

I had a case when an operator set the timeout too a abnormally large
value, which caused OverflowError in the timeout clean_up task, which,
in turn, prevented ironic-inspector from ever running node list sync
with ironic.

This change makes two corrections:
* The timeout configuration is limited to 10 years (0 can still be used
  to disable the timeout completely).
* Errors in the clean_up task do not prevent the node list sync from
  running.

Change-Id: Ie3ad29a4abb9ac58c41b776042f80dff6a9c72d2
Story: #2004807
Task: #28963
(cherry picked from commit ab4a3bd867423b9131c8db251fecd5618930a6a5)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/56/631756/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/conf/default.py', 'ironic_inspector/wsgi_service.py']",2,89c083aa302ba963c822b4fc1eaff8506469032b,story/2004807, try: sync_with_ironic() except Exception: LOG.exception('Periodic sync of node list with ironic failed') , sync_with_ironic(),8,1
openstack%2Fironic-inspector~stable%2Frocky~Ie3ad29a4abb9ac58c41b776042f80dff6a9c72d2,openstack/ironic-inspector,stable/rocky,Ie3ad29a4abb9ac58c41b776042f80dff6a9c72d2,Prevent abnormal timeout values from breaking sync with ironic,MERGED,2019-01-18 09:53:13.000000000,2019-01-23 03:29:17.000000000,2019-01-23 03:29:17.000000000,"[{'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-01-18 09:53:13.000000000', 'files': ['ironic_inspector/conf/default.py', 'ironic_inspector/wsgi_service.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/216e40f90383effa727aee8970bcbc3c0f830d55', 'message': 'Prevent abnormal timeout values from breaking sync with ironic\n\nI had a case when an operator set the timeout too a abnormally large\nvalue, which caused OverflowError in the timeout clean_up task, which,\nin turn, prevented ironic-inspector from ever running node list sync\nwith ironic.\n\nThis change makes two corrections:\n* The timeout configuration is limited to 10 years (0 can still be used\n  to disable the timeout completely).\n* Errors in the clean_up task do not prevent the node list sync from\n  running.\n\nChange-Id: Ie3ad29a4abb9ac58c41b776042f80dff6a9c72d2\nStory: #2004807\nTask: #28963\n(cherry picked from commit ab4a3bd867423b9131c8db251fecd5618930a6a5)\n'}]",0,631753,216e40f90383effa727aee8970bcbc3c0f830d55,8,4,1,10239,,,0,"Prevent abnormal timeout values from breaking sync with ironic

I had a case when an operator set the timeout too a abnormally large
value, which caused OverflowError in the timeout clean_up task, which,
in turn, prevented ironic-inspector from ever running node list sync
with ironic.

This change makes two corrections:
* The timeout configuration is limited to 10 years (0 can still be used
  to disable the timeout completely).
* Errors in the clean_up task do not prevent the node list sync from
  running.

Change-Id: Ie3ad29a4abb9ac58c41b776042f80dff6a9c72d2
Story: #2004807
Task: #28963
(cherry picked from commit ab4a3bd867423b9131c8db251fecd5618930a6a5)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/53/631753/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/conf/default.py', 'ironic_inspector/wsgi_service.py']",2,216e40f90383effa727aee8970bcbc3c0f830d55,story/2004807, try: sync_with_ironic() except Exception: LOG.exception('Periodic sync of node list with ironic failed') , sync_with_ironic(),8,1
openstack%2Fironic-inspector~master~Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954,openstack/ironic-inspector,master,Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954,introspection data backend: plugin layer,MERGED,2017-10-24 07:49:41.000000000,2019-01-23 03:29:15.000000000,2019-01-23 03:29:15.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 17814}, {'_account_id': 18653}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2017-10-24 07:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7d2448eb0489e47535c4dca5dee736dce1aec4e2', 'message': 'Use database to store introspection_data\n\nThis patch add support for databse to store introspection_data.\n\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nPartial-Bug: #1726713\n'}, {'number': 2, 'created': '2017-10-24 07:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/37db14ecabc313cb9fc6fee406be11574453315a', 'message': 'Use database to store introspection_data\n\nThis patch add support for databse to store introspection_data.\n\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nPartial-Bug: #1726713\n'}, {'number': 3, 'created': '2017-10-25 03:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/e3318d3ef9cb1c04157fa40fb1fa71b3e0582770', 'message': 'Use database to store introspection_data\n\nThis patch add support for databse to store introspection_data.\n\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nPartial-Bug: #1726713\n'}, {'number': 4, 'created': '2017-10-25 11:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0e3d39a0d71d44dbc7ab0101332f20a54e0d20d7', 'message': 'Use database to store introspection_data\n\nThis patch add support for databse to store the introspection_data.\n\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nPartial-Bug: #1726713\n'}, {'number': 5, 'created': '2017-10-27 07:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c566ca393a87739a13184605a45091d3a6cca7bf', 'message': 'Use database to store introspection_data\n\nThis patch add support for databse to store the introspection_data.\n\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nPartial-Bug: #1726713\n'}, {'number': 6, 'created': '2017-10-27 11:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/10666c577c363f30705430a9bb5f694efed21e5d', 'message': 'Use database to store introspection_data\n\nThis patch add support for databse to store the introspection_data.\n\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nPartial-Bug: #1726713\n'}, {'number': 7, 'created': '2017-10-27 11:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6800a384835bfe1fbb65b7527f08a28f25665359', 'message': 'Use database to store introspection_data\n\nThis patch add support for databse to store the introspection_data.\n\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nPartial-Bug: #1726713\n'}, {'number': 8, 'created': '2017-10-27 14:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f71ac296f2886d1cfc69c29341becc028b57519c', 'message': 'Use database to store introspection_data\n\nThis patch add support for databse to store the introspection_data.\n\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nPartial-Bug: #1726713\n'}, {'number': 9, 'created': '2018-04-12 09:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6f8dc85e53fde78fb86b0ca9fe47680dfb29a9cf', 'message': 'Use database to store introspection_data\n\nThis patch add support for databse to store the introspection_data.\n\nStory: #1726713\nTask: #11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nPartial-Bug: #1726713\n'}, {'number': 10, 'created': '2018-04-13 02:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c99b2354ee5737d8788f743d1652791bbd6ffee8', 'message': 'Use database to store introspection_data\n\nThis patch add support for databse to store the introspection_data.\n\nStory: #1726713\nTask: #11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nPartial-Bug: #1726713\n'}, {'number': 11, 'created': '2018-04-13 05:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4ccbd5ae0af00ec20706f3eea82613d16367f79b', 'message': 'Use database to store introspection_data\n\nThis patch add support for databse to store the introspection_data.\n\nStory: #1726713\nTask: #11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nPartial-Bug: #1726713\n'}, {'number': 12, 'created': '2018-04-17 09:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a2ad91db40aae28f92f63efddd6582da08b416a8', 'message': 'Use database to store introspection_data\n\nThis patch add support for databse to store the introspection_data.\n\nStory: #1726713\nTask: #11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nPartial-Bug: #1726713\n'}, {'number': 13, 'created': '2018-04-18 07:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c5bc4d2fc17b06318f16e9fa1494c8fcb2ed4548', 'message': 'Use database to store introspection_data\n\nThis patch add support for databse to store the introspection_data.\n\nStory: #1726713\nTask: #11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nPartial-Bug: #1726713\n'}, {'number': 14, 'created': '2018-04-18 09:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ad527ee436f8822db6e5ee824c503a4695f8a1e9', 'message': 'Use database to store introspection_data\n\nThis patch add support for databse to store the introspection_data.\n\nStory: #1726713\nTask: #11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nPartial-Bug: #1726713\n'}, {'number': 15, 'created': '2018-04-19 02:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/594dbe9ea46b3947aae4be06d254da56b2c35403', 'message': 'Supports database as an introspection data storage\n\nThis patch adds the support to store introspection data on ironic-inspector\ndatabase. Besides ``none`` and ``swift``, a value of ``database`` is\nintroduced to ``[processing]store_data``.\n\nA TEXT field ``introspection_data`` is added to the node table to serve as\nthe storage.\n\nWhen ``[processing]store_data`` is set to ``database``, the introspection\ndata received during hardware introspection will be save to the database,\nintrospection data on request will be read from database as well.\n\nStory: #1726713\nTask: #11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nPartial-Bug: #1726713\n'}, {'number': 16, 'created': '2018-04-28 08:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6d6feba61d5d6c7deacd6c92ef26507866145545', 'message': 'Supports database as an introspection data storage\n\nThis patch adds the support to store introspection data on ironic-inspector\ndatabase. Besides ``none`` and ``swift``, a value of ``database`` is\nintroduced to ``[processing]store_data``.\n\nAdds a table named ``introspection_data`` to serve as the storage for\nintrospected data.\n\nWhen ``[processing]store_data`` is set to ``database``, the introspection\ndata received during hardware introspection will be save to the database,\nintrospection data on request will be read from database as well.\n\nStory: #1726713\nTask: #11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nCloses-Bug: #1726713\n'}, {'number': 17, 'created': '2018-04-28 08:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/79c53c7ef4402cb042ff663f15743a18ec99505f', 'message': 'Supports database as an introspection data storage\n\nThis patch adds the support to store introspection data on ironic-inspector\ndatabase. Besides ``none`` and ``swift``, a value of ``database`` is\nintroduced to ``[processing]store_data``.\n\nAdds a table named ``introspection_data`` to serve as the storage for\nintrospected data.\n\nWhen ``[processing]store_data`` is set to ``database``, the introspection\ndata received during hardware introspection will be save to the database,\nintrospection data on request will be read from database as well.\n\nStory: #1726713\nTask: #11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nCloses-Bug: #1726713\n'}, {'number': 18, 'created': '2018-05-06 06:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/9f619422a973aa7d5eebb05a4670cb8d159bd9c9', 'message': 'Supports database as an introspection data storage\n\nThis patch adds the support to store introspection data on ironic-inspector\ndatabase. Besides ``none`` and ``swift``, a value of ``database`` is\nintroduced to ``[processing]store_data``.\n\nAdds a table named ``introspection_data`` to serve as the storage for\nintrospected data.\n\nWhen ``[processing]store_data`` is set to ``database``, the introspection\ndata received during hardware introspection will be save to the database,\nintrospection data on request will be read from database as well.\n\nStory: #1726713\nTask: #11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nCloses-Bug: #1726713\n'}, {'number': 19, 'created': '2018-05-06 06:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8509c0ba8514912bc37516a337c0478c45a1bb0c', 'message': 'Supports database as an introspection data storage\n\nThis patch adds the support to store introspection data on ironic-inspector\ndatabase. Besides ``none`` and ``swift``, a value of ``database`` is\nintroduced to ``[processing]store_data``.\n\nAdds a table named ``introspection_data`` to serve as the storage for\nintrospected data.\n\nWhen ``[processing]store_data`` is set to ``database``, the introspection\ndata received during hardware introspection will be save to the database,\nintrospection data on request will be read from database as well.\n\nStory: #1726713\nTask: #11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nCloses-Bug: #1726713\n'}, {'number': 20, 'created': '2018-07-20 05:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/5b9dacafb0de7d938d9d761064831801a36c66dd', 'message': 'Supports database as introspection data storage: processing\n\nThis patch adds processing and api support for the feature described below.\n\nThe feature adds the support to store introspection data on ironic-inspector\ndatabase. Besides ``none`` and ``swift``, a value of ``database`` is\nintroduced to ``[processing]store_data``.\n\nAdds a table named ``introspection_data`` to serve as the storage for\nintrospected data.\n\nWhen ``[processing]store_data`` is set to ``database``, the introspection\ndata received during hardware introspection will be save to the database,\nintrospection data on request will be read from database as well.\n\nStory: #1726713\nTask: #11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nCloses-Bug: #1726713\n'}, {'number': 21, 'created': '2018-07-20 09:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/023ff00fcfe6564ac899c86a4966faf194b33933', 'message': 'Supports database as introspection data storage: processing\n\nThis patch adds processing and api support for the feature described below.\n\nThe feature adds the support to store introspection data on ironic-inspector\ndatabase. Besides ``none`` and ``swift``, a value of ``database`` is\nintroduced to ``[processing]store_data``.\n\nAdds a table named ``introspection_data`` to serve as the storage for\nintrospected data.\n\nWhen ``[processing]store_data`` is set to ``database``, the introspection\ndata received during hardware introspection will be save to the database,\nintrospection data on request will be read from database as well.\n\nStory: #1726713\nTask: #11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nCloses-Bug: #1726713\n'}, {'number': 22, 'created': '2018-08-06 05:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6862ccc44f7af3f4e07d9a4ce79c9ae8f98dc6c8', 'message': 'Supports database as introspection data storage: processing\n\nThis patch adds processing and api support for the feature described below.\n\nThe feature adds the support to store introspection data on ironic-inspector\ndatabase. Besides ``none`` and ``swift``, a value of ``database`` is\nintroduced to ``[processing]store_data``.\n\nAdds a table named ``introspection_data`` to serve as the storage for\nintrospected data.\n\nWhen ``[processing]store_data`` is set to ``database``, the introspection\ndata received during hardware introspection will be save to the database,\nintrospection data on request will be read from database as well.\n\nStory: #1726713\nTask: #11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\nCloses-Bug: #1726713\n'}, {'number': 23, 'created': '2018-08-14 06:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/33fd8c276f7977fb9844a083ded7a884a3cbf11b', 'message': 'Multiple backends for introspection data: processing\n\nConfigurable introspection data storage backend [1] is\nproposed to provide flexible extension of introspection\ndata storage instead of solely Swift storage backend.\n\nThis patch adds plugin mechanism for loading introspection\nstorage, creates database backend and moves Swift storage\ninto a plugin.\n\n[1] https://review.openstack.org/#/c/587698/\n\nStory: #1726713\nTask: #11373\nCloses-Bug: #1726713\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\n'}, {'number': 24, 'created': '2018-12-03 03:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a1617c967502769adfceecd836637a8fa17595bd', 'message': 'introspection data backend: plugin layer\n\nConfigurable introspection data storage backend [1] is proposed\nto provide flexible extension of introspection data storage\ninstead of the single support of Swift storage backend.\n\nThis patch adds plugin mechanism for loading introspection\nstorage, creates database backend and moves Swift storage\ninto a plugin.\n\n[1] http://specs.openstack.org/openstack/ironic-inspector-specs/specs/configurable-introspection-data-backends.html\n\nStory: 1726713\nTask: 11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\n'}, {'number': 25, 'created': '2018-12-03 06:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4643ff1c161b77b9436794d1f119d191712cb410', 'message': 'introspection data backend: plugin layer\n\nConfigurable introspection data storage backend [1] is proposed\nto provide flexible extension of introspection data storage\ninstead of the single support of Swift storage backend.\n\nThis patch adds plugin mechanism for loading introspection\nstorage, creates database backend and moves Swift storage\ninto a plugin.\n\n[1] http://specs.openstack.org/openstack/ironic-inspector-specs/specs/configurable-introspection-data-backends.html\n\nStory: 1726713\nTask: 11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\n'}, {'number': 26, 'created': '2018-12-18 02:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/9d6cf9934ec2936ec25a5165cac58a2b7d771022', 'message': 'introspection data backend: plugin layer\n\nConfigurable introspection data storage backend [1] is proposed\nto provide flexible extension of introspection data storage\ninstead of the single support of Swift storage backend.\n\nThis patch adds plugin mechanism for loading introspection\nstorage, creates database backend and moves Swift storage\ninto a plugin.\n\n[1] http://specs.openstack.org/openstack/ironic-inspector-specs/specs/configurable-introspection-data-backends.html\n\nStory: 1726713\nTask: 11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\n'}, {'number': 27, 'created': '2019-01-02 03:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/13e8f4225ef7de829ec3fbd871b92062c1ebcad7', 'message': 'introspection data backend: plugin layer\n\nConfigurable introspection data storage backend [1] is proposed\nto provide flexible extension of introspection data storage\ninstead of the single support of Swift storage backend.\n\nThis patch adds plugin mechanism for loading introspection\nstorage, creates database backend and moves Swift storage\ninto a plugin.\n\n[1] http://specs.openstack.org/openstack/ironic-inspector-specs/specs/configurable-introspection-data-backends.html\n\nStory: 1726713\nTask: 11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\n'}, {'number': 28, 'created': '2019-01-07 09:35:29.000000000', 'files': ['ironic_inspector/test/unit/test_manager.py', 'ironic_inspector/process.py', 'releasenotes/notes/introspection-data-db-store-0586292de05cbfd7.yaml', 'ironic_inspector/plugins/introspection_data.py', 'ironic_inspector/conf/processing.py', 'ironic_inspector/test/unit/test_process.py', 'ironic_inspector/conductor/manager.py', 'ironic_inspector/main.py', 'ironic_inspector/test/unit/test_plugins_introspection_data.py', 'ironic_inspector/plugins/base.py', 'ironic_inspector/utils.py', 'setup.cfg', 'ironic_inspector/test/unit/test_main.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d278bb6f779eb8941754b29dbb6083a732330783', 'message': 'introspection data backend: plugin layer\n\nConfigurable introspection data storage backend [1] is proposed\nto provide flexible extension of introspection data storage\ninstead of the single support of Swift storage backend.\n\nThis patch adds plugin mechanism for loading introspection\nstorage, creates database backend and moves Swift storage\ninto a plugin.\n\n[1] http://specs.openstack.org/openstack/ironic-inspector-specs/specs/configurable-introspection-data-backends.html\n\nStory: 1726713\nTask: 11373\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954\n'}]",57,514552,d278bb6f779eb8941754b29dbb6083a732330783,88,8,28,17814,,,0,"introspection data backend: plugin layer

Configurable introspection data storage backend [1] is proposed
to provide flexible extension of introspection data storage
instead of the single support of Swift storage backend.

This patch adds plugin mechanism for loading introspection
storage, creates database backend and moves Swift storage
into a plugin.

[1] http://specs.openstack.org/openstack/ironic-inspector-specs/specs/configurable-introspection-data-backends.html

Story: 1726713
Task: 11373

Co-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>
Change-Id: Ie4d09dc0afc441b20a1e5e3bd8e742b1df918954
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/52/514552/15 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/node_cache.py', 'ironic_inspector/process.py', 'ironic_inspector/main.py', 'ironic_inspector/conf.py', 'ironic_inspector/db.py', 'example.conf', 'ironic_inspector/migrations/versions/f66022a5a1d8_add_introspection_data_field_to_nodes.py']",7,7d2448eb0489e47535c4dca5dee736dce1aec4e2,1726713,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""add_inspector_data_to_nodes Revision ID: f66022a5a1d8 Revises: 882b2d84cb1b Create Date: 2017-10-24 09:59:25.283805 """""" # revision identifiers, used by Alembic. revision = 'f66022a5a1d8' down_revision = '882b2d84cb1b' branch_labels = None depends_on = None from alembic import op import sqlalchemy as sa def upgrade(): op.add_column('nodes', sa.Column('inspector_data', sa.Text, nullable=True)) def downgrade(): op.drop_column('nodes', 'inspector_data') ",,81,21
openstack%2Frally-openstack~master~I7fd9840311493257152c3f78b587876413cfdc92,openstack/rally-openstack,master,I7fd9840311493257152c3f78b587876413cfdc92,fix tox python3 overrides,ABANDONED,2018-09-29 12:27:09.000000000,2019-01-23 03:29:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-09-29 12:27:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/461082422d8535a6077e3b74fa24a528c1ddf897', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I7fd9840311493257152c3f78b587876413cfdc92\n'}]",0,606407,461082422d8535a6077e3b74fa24a528c1ddf897,3,1,1,17499,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I7fd9840311493257152c3f78b587876413cfdc92
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/07/606407/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,461082422d8535a6077e3b74fa24a528c1ddf897,,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,basepython = python2.7,8,1
openstack%2Fzun~master~I55d438552da90e0c0e60d895c45bd546215cf2b0,openstack/zun,master,I55d438552da90e0c0e60d895c45bd546215cf2b0,"Fix the misspelling of ""available""",MERGED,2019-01-22 06:05:59.000000000,2019-01-23 03:24:17.000000000,2019-01-23 03:24:17.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 06:05:59.000000000', 'files': ['zun/compute/claims.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/38335064194163779cc3e29b1b91f49a1e69e154', 'message': 'Fix the misspelling of ""available""\n\nChange-Id: I55d438552da90e0c0e60d895c45bd546215cf2b0\n'}]",0,632237,38335064194163779cc3e29b1b91f49a1e69e154,6,2,1,29721,,,0,"Fix the misspelling of ""available""

Change-Id: I55d438552da90e0c0e60d895c45bd546215cf2b0
",git fetch https://review.opendev.org/openstack/zun refs/changes/37/632237/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/compute/claims.py'],1,38335064194163779cc3e29b1b91f49a1e69e154,," available_cpu = list(set(limits['cpuset']['cpuset_cpu']) - cpuset_cpu_usage = random.sample(available_cpu, int(self.cpu))"," avaliable_cpu = list(set(limits['cpuset']['cpuset_cpu']) - cpuset_cpu_usage = random.sample(avaliable_cpu, int(self.cpu))",2,2
openstack%2Ftripleo-common~master~I8d0ac27752e6e8446770ea3265f985c18f1c152b,openstack/tripleo-common,master,I8d0ac27752e6e8446770ea3265f985c18f1c152b,"don't install ""yum-plugin-priorities"" as it part of DNF",MERGED,2018-11-04 08:59:58.000000000,2019-01-23 03:23:32.000000000,2019-01-23 03:23:32.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 16690}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-11-04 08:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/26442d684b6e748e83e2ad77e518f6250ce87479', 'message': 'don\'t install ""yum-plugin-priorities"" as it part of DNF\n\n\nSource:\nhttps://fedoraproject.org/wiki/Yum_to_DNF_Cheatsheet#Plugins\n\nChange-Id: I8d0ac27752e6e8446770ea3265f985c18f1c152b\n'}, {'number': 2, 'created': '2018-11-04 09:00:39.000000000', 'files': ['image-yaml/overcloud-images-fedora.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6d47c2e0a465ca8977272eb0537536f5bc8bc2b2', 'message': 'don\'t install ""yum-plugin-priorities"" as it part of DNF\n\n\nSource:\nhttps://fedoraproject.org/wiki/Yum_to_DNF_Cheatsheet#Plugins\n\nChange-Id: I8d0ac27752e6e8446770ea3265f985c18f1c152b\n'}]",0,615414,6d47c2e0a465ca8977272eb0537536f5bc8bc2b2,27,7,2,16690,,,0,"don't install ""yum-plugin-priorities"" as it part of DNF


Source:
https://fedoraproject.org/wiki/Yum_to_DNF_Cheatsheet#Plugins

Change-Id: I8d0ac27752e6e8446770ea3265f985c18f1c152b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/14/615414/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,26442d684b6e748e83e2ad77e518f6250ce87479,fedora,,,0,0
openstack%2Fplacement~master~Icf0be55ef9aa8f858eb386a9b69cbb7e2bf81b07,openstack/placement,master,Icf0be55ef9aa8f858eb386a9b69cbb7e2bf81b07,Configure database api in upgrade check,MERGED,2019-01-22 09:51:24.000000000,2019-01-23 03:18:38.000000000,2019-01-22 14:01:02.000000000,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-01-22 09:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/64c7ad9b93f427f00c16ad59747df8784b5fb4b3', 'message': 'Configure database api in upgrade check\n\nhttps://review.openstack.org/#/c/631604/ added a new CLI command:\n\n   `placement-status upgrade check`\n\nHowever, it fails logging that it finds no database connection info.\nThis patch fixes it calling the placement.db_api.configure() before\nconnecting the database.\n\nChange-Id: Icf0be55ef9aa8f858eb386a9b69cbb7e2bf81b07\nCloses-Bug: #1812829\n'}, {'number': 2, 'created': '2019-01-22 10:32:21.000000000', 'files': ['placement/cmd/status.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/271727adafc8077ec6229b0b624e3636082be07d', 'message': 'Configure database api in upgrade check\n\nhttps://review.openstack.org/#/c/631671/ added a new CLI command:\n\n   `placement-status upgrade check`\n\nHowever, it fails logging that it finds no database connection info.\nThis patch fixes it calling the placement.db_api.configure() before\nconnecting the database.\n\nChange-Id: Icf0be55ef9aa8f858eb386a9b69cbb7e2bf81b07\nCloses-Bug: #1812829\n'}]",3,632365,271727adafc8077ec6229b0b624e3636082be07d,14,4,2,25625,,,0,"Configure database api in upgrade check

https://review.openstack.org/#/c/631671/ added a new CLI command:

   `placement-status upgrade check`

However, it fails logging that it finds no database connection info.
This patch fixes it calling the placement.db_api.configure() before
connecting the database.

Change-Id: Icf0be55ef9aa8f858eb386a9b69cbb7e2bf81b07
Closes-Bug: #1812829
",git fetch https://review.opendev.org/openstack/placement refs/changes/65/632365/2 && git format-patch -1 --stdout FETCH_HEAD,['placement/cmd/status.py'],1,64c7ad9b93f427f00c16ad59747df8784b5fb4b3,bug/1812829,from placement import conf db_api.configure(cfg.CONF) conf.register_opts(cfg.CONF),,3,0
openstack%2Fmurano-dashboard~master~I4e025290d1b9bbbe4009c177ce2f2de3b6ef530e,openstack/murano-dashboard,master,I4e025290d1b9bbbe4009c177ce2f2de3b6ef530e,Imported Translations from Zanata,MERGED,2019-01-22 07:54:58.000000000,2019-01-23 03:09:01.000000000,2019-01-23 03:09:01.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 07:54:58.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/d6d3d0d81ab1f4fcf754710eeb515edf77428475', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4e025290d1b9bbbe4009c177ce2f2de3b6ef530e\n'}]",0,632275,d6d3d0d81ab1f4fcf754710eeb515edf77428475,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4e025290d1b9bbbe4009c177ce2f2de3b6ef530e
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/75/632275/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'],1,d6d3d0d81ab1f4fcf754710eeb515edf77428475,zanata/translations,"# suhartono <cloudsuhartono@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-01-05 08:21+0000\n""""PO-Revision-Date: 2019-01-21 04:53+0000\n""msgid ""Rocky Series Release Notes"" msgstr ""Rocky Series Release Notes"" ","""POT-Creation-Date: 2018-05-15 15:52+0000\n""""PO-Revision-Date: 2018-05-09 04:49+0000\n""",6,2
openstack%2Fadjutant~master~I078a56bb9647ccc7caa0485f0fa2a55d2da08048,openstack/adjutant,master,I078a56bb9647ccc7caa0485f0fa2a55d2da08048,Fix an issue with tasks being approved when not yet valid,MERGED,2019-01-23 02:31:25.000000000,2019-01-23 02:54:10.000000000,2019-01-23 02:54:10.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 02:31:25.000000000', 'files': ['adjutant/api/v1/tasks.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/6a849eec3e4382a29a900a0a93b78cf16552f449', 'message': ""Fix an issue with tasks being approved when not yet valid\n\nOur internal auto-approval logic would approve a task before\nit was even actually valid. While it would still exit and not\nrun, the fact that it was 'approved' still caused some minor\nedge cases we want to avoid.\n\nChange-Id: I078a56bb9647ccc7caa0485f0fa2a55d2da08048\n""}]",0,632596,6a849eec3e4382a29a900a0a93b78cf16552f449,6,2,1,10420,,,0,"Fix an issue with tasks being approved when not yet valid

Our internal auto-approval logic would approve a task before
it was even actually valid. While it would still exit and not
run, the fact that it was 'approved' still caused some minor
edge cases we want to avoid.

Change-Id: I078a56bb9647ccc7caa0485f0fa2a55d2da08048
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/96/632596/1 && git format-patch -1 --stdout FETCH_HEAD,['adjutant/api/v1/tasks.py'],1,6a849eec3e4382a29a900a0a93b78cf16552f449,bug/valid_before_approve," approve_list = [act.auto_approve for act in action_instances] # cannot approve an invalid task action_models = task.actions actions = [act.get_action() for act in action_models] valid = all([act.valid for act in actions]) if not valid: return {'errors': ['actions invalid']}, 400 # TODO(amelia): get action invalidation reasons"," action_models = task.actions approve_list = [act.get_action().auto_approve for act in action_models] action_models = task.actions actions = [act.get_action() for act in action_models] valid = all([act.valid for act in actions]) if not valid: return {'errors': ['actions invalid']}, 400 # TODO(amelia): get action invalidation reasons ",8,9
openstack%2Fmurano~master~Ie5141d1538c8a06377595542487636087e31451c,openstack/murano,master,Ie5141d1538c8a06377595542487636087e31451c,logging test,ABANDONED,2019-01-22 09:03:59.000000000,2019-01-23 02:40:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-22 09:03:59.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/murano/commit/e7ec776e435a5d54ba2cceab5855bf0a6c5e3274', 'message': 'logging test\n\nChange-Id: Ie5141d1538c8a06377595542487636087e31451c\n'}]",0,632329,e7ec776e435a5d54ba2cceab5855bf0a6c5e3274,3,1,1,14107,,,0,"logging test

Change-Id: Ie5141d1538c8a06377595542487636087e31451c
",git fetch https://review.opendev.org/openstack/murano refs/changes/29/632329/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,e7ec776e435a5d54ba2cceab5855bf0a6c5e3274,," # Set up logging if [ ""$SYSLOG"" != ""False"" ]; then iniset $MURANO_CONF_FILE DEFAULT use_syslog ""True"" # Format logging setup_logging $MURANO_CONF_FILE "," iniset $MURANO_CONF_FILE DEFAULT use_syslog $SYSLOG # Format logging if [ ""$LOG_COLOR"" == ""True"" ] && [ ""$SYSLOG"" == ""False"" ] && [ ""$MURANO_USE_UWSGI"" == ""False"" ] ; then setup_colorized_logging $MURANO_CONF_FILE DEFAULT else # Show user_name and project_name instead of user_id and project_id iniset $MURANO_CONF_FILE DEFAULT logging_context_format_string ""%(asctime)s.%(msecs)03d %(levelname)s %(name)s [%(request_id)s %(user_name)s %(project_name)s] %(instance)s%(message)s""",7,7
openstack%2Fglance~stable%2Frocky~Ie98c4287c8bd1c364655adb99c7a88d1d451496e,openstack/glance,stable/rocky,Ie98c4287c8bd1c364655adb99c7a88d1d451496e,py3: fix recursion issue under py37,MERGED,2018-11-08 17:37:41.000000000,2019-01-23 02:36:45.000000000,2019-01-23 02:36:45.000000000,"[{'_account_id': 935}, {'_account_id': 5314}, {'_account_id': 11805}, {'_account_id': 11904}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-11-08 17:37:41.000000000', 'files': ['glance/domain/__init__.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/2bcd6c66629a06afdfcd32ff7892c5571bbe0573', 'message': 'py3: fix recursion issue under py37\n\nAdd tox target and resolve issue with infinite recursion in\nExtraProperties class by directly using methods on the dict\nclass.\n\nCloses-Bug: 1800601\n\nChange-Id: Ie98c4287c8bd1c364655adb99c7a88d1d451496e\n(cherry picked from commit 43587fb93d8d949d9a9895153ac06ea4e7e6d150)\n'}]",0,616639,2bcd6c66629a06afdfcd32ff7892c5571bbe0573,11,7,1,11805,,,0,"py3: fix recursion issue under py37

Add tox target and resolve issue with infinite recursion in
ExtraProperties class by directly using methods on the dict
class.

Closes-Bug: 1800601

Change-Id: Ie98c4287c8bd1c364655adb99c7a88d1d451496e
(cherry picked from commit 43587fb93d8d949d9a9895153ac06ea4e7e6d150)
",git fetch https://review.opendev.org/openstack/glance refs/changes/39/616639/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/domain/__init__.py', 'tox.ini']",2,2bcd6c66629a06afdfcd32ff7892c5571bbe0573,bug/1800601-stable/rocky,[testenv:py37] basepython = python3.7 commands = ostestr --slowest {posargs} [testenv:functional-py37] basepython = python3.7 setenv = TEST_PATH = ./glance/tests/functional ignore_errors = True whitelist_externals = bash commands = stestr run --blacklist-file ./broken-functional-py35-ssl-tests.txt {posargs} ,,18,4
openstack%2Fcinder~master~Id1da16f5036bf20c3bbe48696f84242fdb20e677,openstack/cinder,master,Id1da16f5036bf20c3bbe48696f84242fdb20e677,Enable some tests in the cinder.tests.unit.test_cmd module for MacOS,MERGED,2019-01-11 13:27:58.000000000,2019-01-23 02:36:43.000000000,2019-01-23 02:36:42.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 16834}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-11 13:27:58.000000000', 'files': ['cinder/tests/unit/test_cmd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9fc2a82584de8144d7b5d8539472578bba4eb556', 'message': 'Enable some tests in the cinder.tests.unit.test_cmd module for MacOS\n\nMost of the tests pass witout any issues on MacOS.\n\nChange-Id: Id1da16f5036bf20c3bbe48696f84242fdb20e677\n'}]",0,630223,9fc2a82584de8144d7b5d8539472578bba4eb556,33,26,1,1736,,,0,"Enable some tests in the cinder.tests.unit.test_cmd module for MacOS

Most of the tests pass witout any issues on MacOS.

Change-Id: Id1da16f5036bf20c3bbe48696f84242fdb20e677
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/630223/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/test_cmd.py'],1,9fc2a82584de8144d7b5d8539472578bba4eb556,macos-cmd-tests,,"@test.testtools.skipIf(sys.platform == 'darwin', 'Not supported on macOS')@test.testtools.skipIf(sys.platform == 'darwin', 'Not supported on macOS')@test.testtools.skipIf(sys.platform == 'darwin', 'Not supported on macOS')@test.testtools.skipIf(sys.platform == 'darwin', 'Not supported on macOS')@test.testtools.skipIf(sys.platform == 'darwin', 'Not supported on macOS')@test.testtools.skipIf(sys.platform == 'darwin', 'Not supported on macOS')@test.testtools.skipIf(sys.platform == 'darwin', 'Not supported on macOS')",0,7
openstack%2Fcinder~master~Icf40762f5c894bdbeb559b1d63752d48a73068f4,openstack/cinder,master,Icf40762f5c894bdbeb559b1d63752d48a73068f4,Fix and Optimize : retype tests,MERGED,2018-10-23 16:41:32.000000000,2019-01-23 02:36:40.000000000,2019-01-23 02:36:40.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-23 16:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/992b0c370e766466f11619c62b346a755f6511c6', 'message': 'Fix and Optimize : retype tests\n\nAll the rules regarding writing a test case like different\nmethods for different tests etc as suggested here\nI869bc0c9b18887da1ea83f855d255557f0f3cba0 are fixed in this\nfollow-up patch.\n\nChange-Id: Icf40762f5c894bdbeb559b1d63752d48a73068f4\n'}, {'number': 2, 'created': '2018-10-24 05:44:56.000000000', 'files': ['cinder/tests/unit/volume/test_volume_retype.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3f0c1fc248feeaec25cc7bd2570766b4eb3a841', 'message': 'Fix and Optimize : retype tests\n\nAll the rules regarding writing a test case like different\nmethods for different tests etc as suggested here\nI869bc0c9b18887da1ea83f855d255557f0f3cba0 are fixed in this\nfollow-up patch.\n\nChange-Id: Icf40762f5c894bdbeb559b1d63752d48a73068f4\n'}]",0,612749,c3f0c1fc248feeaec25cc7bd2570766b4eb3a841,50,32,2,27615,,,0,"Fix and Optimize : retype tests

All the rules regarding writing a test case like different
methods for different tests etc as suggested here
I869bc0c9b18887da1ea83f855d255557f0f3cba0 are fixed in this
follow-up patch.

Change-Id: Icf40762f5c894bdbeb559b1d63752d48a73068f4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/612749/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/test_volume_retype.py'],1,992b0c370e766466f11619c62b346a755f6511c6,," """"""Verify multiattach retype restrictions."""""" def test_non_multi_to_multi_retype(self, mock_authorize): """"""Test going from non-multiattach type to multiattach"""""" vol = tests_utils.create_volume(self.context, volume_type_id= self.default_vol_type.id) self.assertFalse(vol.multiattach) vol.refresh() mock_authorize.assert_has_calls( [mock.call(vol_action_policies.RETYPE_POLICY, target_obj=mock.ANY) ]) @mock.patch('cinder.context.RequestContext.authorize') def test_multi_to_non_multi_retype(self, mock_authorize): """"""Test going from multiattach to a non-multiattach type"""""" vol = tests_utils.create_volume(self.context, multiattach=True, volume_type_id= self.multiattach_type.id) self.assertTrue(vol.multiattach) vol.refresh() mock_authorize.assert_has_calls( [mock.call(vol_action_policies.RETYPE_POLICY, target_obj=mock.ANY) ]) @mock.patch('cinder.context.RequestContext.authorize') def test_in_use_volume_retype(self, mock_authorize): """"""Test trying to retype an in-use volume"""""" vol = tests_utils.create_volume(self.context, volume_type_id= self.multiattach_type.id) [mock.call(vol_action_policies.RETYPE_POLICY, target_obj=mock.ANY), """"""Test going from multiattach to multiattach"""""""," @mock.patch.object(volume_types, 'get_by_name_or_id') def test_retype_multiattach(self, _mock_get_types, mock_authorize): """"""Verify multiattach retype restrictions."""""" _mock_get_types.side_effect = self.fake_get_vtype # Test going from default type to multiattach vol = self.volume_api.create(self.context, 1, 'test-vol', '') vol.update({'status': 'available'}) vol.save() vol = objects.Volume.get_by_id(self.context, vol.id) # Test going from multiattach to a non-multiattach type vol = self.volume_api.create( self.context, 1, 'test-multiattachvol', '', volume_type=self.multiattach_type) vol.update({'status': 'available'}) vol.save() vol = objects.Volume.get_by_id(self.context, vol.id) # Test trying to retype an in-use volume [mock.call(volume_policies.CREATE_POLICY), mock.call(volume_policies.CREATE_POLICY), mock.call(vol_action_policies.RETYPE_POLICY, target_obj=mock.ANY), mock.call(volume_policies.MULTIATTACH_POLICY, target_obj=mock.ANY), mock.call(volume_policies.CREATE_POLICY), mock.call(volume_policies.CREATE_POLICY), mock.call(vol_action_policies.RETYPE_POLICY, target_obj=mock.ANY), mock.call(vol_action_policies.RETYPE_POLICY, target_obj=mock.ANY), # Test going from multiattach to multiattach",36,34
openstack%2Ftempest~master~Id83ed377a0259bf5001674b286e5ec4623bcfbe4,openstack/tempest,master,Id83ed377a0259bf5001674b286e5ec4623bcfbe4,Update v3 oauth consumers tests to work w/ pre-prov,MERGED,2019-01-04 18:50:53.000000000,2019-01-23 02:36:37.000000000,2019-01-23 02:36:37.000000000,"[{'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 20378}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2019-01-04 18:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a647f96f34e9ec030c2ca13a21aae3e3f665456f', 'message': ""Move v3 oauth consumers tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned\ncredentials for these tests:\n\n* test_create_and_show_consumer\n* test_delete_consumer\n* test_update_consumer\n* test_list_consumers\n\nNote that these tests aren't interop tests [0] so can\nbe safely moved.\n\n[0] http://codesearch.openstack.org/?q=admin.v3.test_oauth_consumers&i=nope&files=&repos=interop\n\nChange-Id: Id83ed377a0259bf5001674b286e5ec4623bcfbe4\n""}, {'number': 2, 'created': '2019-01-17 14:22:11.000000000', 'files': ['tempest/api/identity/admin/v3/test_oauth_consumers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/29fc259cf3009a3c8303c1fc2d051c820a00128e', 'message': ""Update v3 oauth consumers tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned\ncredentials for these tests:\n\n* test_create_and_show_consumer\n* test_delete_consumer\n* test_update_consumer\n* test_list_consumers\n\nChange-Id: Id83ed377a0259bf5001674b286e5ec4623bcfbe4\n""}]",1,628659,29fc259cf3009a3c8303c1fc2d051c820a00128e,32,8,2,20378,,,0,"Update v3 oauth consumers tests to work w/ pre-prov

I don't see any limitations by using pre-provisioned
credentials for these tests:

* test_create_and_show_consumer
* test_delete_consumer
* test_update_consumer
* test_list_consumers

Change-Id: Id83ed377a0259bf5001674b286e5ec4623bcfbe4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/59/628659/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_oauth_consumers.py'],1,a647f96f34e9ec030c2ca13a21aae3e3f665456f,bug/1714277, # NOTE: force_tenant_isolation is true in the base class by default but # overridden to false here to allow test execution for clouds using the # pre-provisioned credentials provider. force_tenant_isolation = False,,4,0
openstack%2Fpython-tripleoclient~master~Ib1fc8f6aab9a0b1a26945d441185b5c8ccb6e7dd,openstack/python-tripleoclient,master,Ib1fc8f6aab9a0b1a26945d441185b5c8ccb6e7dd,Add verbosity level to the ansible update/upgrade run,MERGED,2019-01-17 17:00:10.000000000,2019-01-23 02:28:33.000000000,2019-01-23 02:28:33.000000000,"[{'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22895}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-01-17 17:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c1cc2a11dfc027081f41fc53500e69f826f8c003', 'message': 'Add verbosity level to the ansible update/upgrade run\n\nThe tripleo-common allow us to provide a verbosity level\nbut its not possible to pass it with the cli.\nThis review catch the --debug option passed to the cli\nand provide it to package_update workflow\n\nChange-Id: Ib1fc8f6aab9a0b1a26945d441185b5c8ccb6e7dd\n'}, {'number': 2, 'created': '2019-01-17 20:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e8acc6753a2ce0d59ac7a01ed5037b439e42e2bb', 'message': 'Add verbosity level to the ansible update/upgrade run\n\nThe tripleo-common allow us to provide a verbosity level\nbut its not possible to pass it with the cli.\nThis review catch the --debug option passed to the cli\nand provide it to package_update workflow\n\nChange-Id: Ib1fc8f6aab9a0b1a26945d441185b5c8ccb6e7dd\n'}, {'number': 3, 'created': '2019-01-18 08:47:32.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_external_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/252219cc37ce1a13ba282c273df16ee0e4f7c57a', 'message': 'Add verbosity level to the ansible update/upgrade run\n\nThe tripleo-common allow us to provide a verbosity level\nbut its not possible to pass it with the cli.\nThis review catch the --debug option passed to the cli\nand provide it to package_update workflow\n\nChange-Id: Ib1fc8f6aab9a0b1a26945d441185b5c8ccb6e7dd\n'}]",1,631562,252219cc37ce1a13ba282c273df16ee0e4f7c57a,25,9,3,16515,,,0,"Add verbosity level to the ansible update/upgrade run

The tripleo-common allow us to provide a verbosity level
but its not possible to pass it with the cli.
This review catch the --debug option passed to the cli
and provide it to package_update workflow

Change-Id: Ib1fc8f6aab9a0b1a26945d441185b5c8ccb6e7dd
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/62/631562/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_external_upgrade.py']",6,c1cc2a11dfc027081f41fc53500e69f826f8c003,debug/ansible/update," verbosity = self.app_args.verbose_level tags=parsed_args.tags, skip_tags=parsed_args.skip_tags, verbosity=verbosity)"," tags=parsed_args.tags, skip_tags=parsed_args.skip_tags)",16,8
openstack%2Fcinder~stable%2Frocky~I6d8dedfd056add3414f8f4bf7f7279eae4763286,openstack/cinder,stable/rocky,I6d8dedfd056add3414f8f4bf7f7279eae4763286,Pass image_id to ImageDownloadFailed,MERGED,2019-01-20 21:36:08.000000000,2019-01-23 02:28:16.000000000,2019-01-22 15:41:49.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-20 21:36:08.000000000', 'files': ['cinder/tests/unit/image/test_glance.py', 'cinder/image/glance.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/844b627c38bb810abd3ef0b464577191f193ad7d', 'message': ""Pass image_id to ImageDownloadFailed\n\nWhen an ImageDownloadFailed exception is created in the\nGlanceImageService, it's being passed the context whereas what\nmakes sense for the error message is the image_id.  This patch\nmakes the change and adds a unit test for a previous fix for\nBug #1798147 (which was the real point of this patch).\n\nChange-Id: I6d8dedfd056add3414f8f4bf7f7279eae4763286\nCloses-bug: #1811184\n(cherry picked from commit 16b4346171d2027bb3c2630d5f28f6f002878870)\n""}]",0,631997,844b627c38bb810abd3ef0b464577191f193ad7d,24,19,1,5314,,,0,"Pass image_id to ImageDownloadFailed

When an ImageDownloadFailed exception is created in the
GlanceImageService, it's being passed the context whereas what
makes sense for the error message is the image_id.  This patch
makes the change and adds a unit test for a previous fix for
Bug #1798147 (which was the real point of this patch).

Change-Id: I6d8dedfd056add3414f8f4bf7f7279eae4763286
Closes-bug: #1811184
(cherry picked from commit 16b4346171d2027bb3c2630d5f28f6f002878870)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/631997/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/image/test_glance.py', 'cinder/image/glance.py']",2,844b627c38bb810abd3ef0b464577191f193ad7d,bug/1798147-stable/rocky," image_href=image_id, reason=_('image contains no data.'))"," image_href=context, reason=_('image contains no data.'))",16,1
openstack%2Fneutron-lbaas~master~I44d4de0918f0ffc8f6192132cf8003b3a24bd404,openstack/neutron-lbaas,master,I44d4de0918f0ffc8f6192132cf8003b3a24bd404,Add the missing required API dict keys,ABANDONED,2019-01-18 13:09:57.000000000,2019-01-23 02:18:41.000000000,,"[{'_account_id': 6469}, {'_account_id': 9008}, {'_account_id': 11628}, {'_account_id': 12860}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-18 13:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/62a9af9399e96846c969ce40eb5ce3047cd29f1d', 'message': 'Add the missing required API dict keys\n\nIn the commit 397a6fe39c72ac091d53da610682ec4f95ade2ed, the\ndatabase model converts to required api dictionary format.\nBut it removes some keys may useful for the user.\n\nThis patch fixes it.\n\nChange-Id: I44d4de0918f0ffc8f6192132cf8003b3a24bd404\n'}, {'number': 2, 'created': '2019-01-22 02:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/b09f94be8321ada4de88b1a8a4da7c99f2999d12', 'message': 'Add the missing required API dict keys\n\nIn the commit 397a6fe39c72ac091d53da610682ec4f95ade2ed, the\ndatabase model converts to required api dictionary format.\nBut it removes some keys may useful for the user.\n\nThis patch fixes it.\n\nStory: 2004830\nTask: 29020\n\nChange-Id: I44d4de0918f0ffc8f6192132cf8003b3a24bd404\n'}, {'number': 3, 'created': '2019-01-23 01:06:42.000000000', 'files': ['releasenotes/notes/add_missing_api_dict_keys-33475ed6774c84fd.yaml', 'neutron_lbaas/db/loadbalancer/models.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/793c253bc000c5e383a03f27265c140fc09a2354', 'message': 'Add the missing required API dict keys\n\nIn the commit 397a6fe39c72ac091d53da610682ec4f95ade2ed, the\ndatabase model converts to required api dictionary format.\nBut it removes some keys may useful for the user.\n\nThis patch fixes it.\n\nStory: 2004830\nTask: 29020\n\nChange-Id: I44d4de0918f0ffc8f6192132cf8003b3a24bd404\n'}]",0,631791,793c253bc000c5e383a03f27265c140fc09a2354,15,5,3,12860,,,0,"Add the missing required API dict keys

In the commit 397a6fe39c72ac091d53da610682ec4f95ade2ed, the
database model converts to required api dictionary format.
But it removes some keys may useful for the user.

This patch fixes it.

Story: 2004830
Task: 29020

Change-Id: I44d4de0918f0ffc8f6192132cf8003b3a24bd404
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/91/631791/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/db/loadbalancer/models.py'],1,62a9af9399e96846c969ce40eb5ce3047cd29f1d,add_missing_api_keys," 'admin_state_up', 'subnet_id', 'provisioning_status', 'operating_status', 'name']) 'http_method', 'url_path', 'expected_codes', 'provisioning_status', 'admin_state_up', 'healthmonitor_id', 'protocol', 'lb_algorithm', 'admin_state_up', 'provisioning_status', 'operating_status']) 'value', 'provisioning_status', 'admin_state_up']) 'redirect_pool_id', 'redirect_url', 'position', 'provisioning_status', 'admin_state_up']) 'connection_limit', 'admin_state_up', 'provisioning_status', 'operating_status'])"," 'admin_state_up', 'subnet_id', 'name']) 'http_method', 'url_path', 'expected_codes', 'admin_state_up', 'healthmonitor_id', 'protocol', 'lb_algorithm', 'admin_state_up']) 'value', 'admin_state_up']) 'redirect_pool_id', 'redirect_url', 'position', 'admin_state_up']) 'connection_limit', 'admin_state_up'])",11,6
openstack%2Fopenstack-doc-tools~master~I2db09c9b010b03a1906060b40de0bea9b89a130c,openstack/openstack-doc-tools,master,I2db09c9b010b03a1906060b40de0bea9b89a130c,Remove support for py34,MERGED,2018-12-19 16:22:06.000000000,2019-01-23 01:57:27.000000000,2019-01-23 01:57:27.000000000,"[{'_account_id': 15334}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-19 16:22:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/528d97a9e9724e9043fc2179714c3aed1261bdca', 'message': 'Remove support for py34\n\nChange-Id: I2db09c9b010b03a1906060b40de0bea9b89a130c\n'}]",0,626298,528d97a9e9724e9043fc2179714c3aed1261bdca,7,3,1,28614,,,0,"Remove support for py34

Change-Id: I2db09c9b010b03a1906060b40de0bea9b89a130c
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/98/626298/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,528d97a9e9724e9043fc2179714c3aed1261bdca,,, Programming Language :: Python :: 3.4,0,1
openstack%2Fbarbican~stable%2Frocky~Id338f8b71a56b0d6ea651b7c6ab8d56e3b02b5cc,openstack/barbican,stable/rocky,Id338f8b71a56b0d6ea651b7c6ab8d56e3b02b5cc,Add missing mechanism for GENERIC_SECRETS,MERGED,2019-01-17 20:10:03.000000000,2019-01-23 01:47:34.000000000,2019-01-23 01:47:34.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 20:10:03.000000000', 'files': ['barbican/plugin/crypto/pkcs11.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/30f868dbbc8cd675e87033579a4fed64272654a7', 'message': 'Add missing mechanism for GENERIC_SECRETS\n\nWe missed one mechanism needed for ATOS HSM.\n\nChange-Id: Id338f8b71a56b0d6ea651b7c6ab8d56e3b02b5cc\n(cherry picked from commit 530164a2313a4283fad1e0061488233a71f26cfd)\n'}]",0,631615,30f868dbbc8cd675e87033579a4fed64272654a7,11,5,1,7973,,,0,"Add missing mechanism for GENERIC_SECRETS

We missed one mechanism needed for ATOS HSM.

Change-Id: Id338f8b71a56b0d6ea651b7c6ab8d56e3b02b5cc
(cherry picked from commit 530164a2313a4283fad1e0061488233a71f26cfd)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/15/631615/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/plugin/crypto/pkcs11.py'],1,30f868dbbc8cd675e87033579a4fed64272654a7,fix_pkcs11-stable/rocky," 'CKM_NC_SHA256_HMAC_KEY_GEN': CKM_NC_SHA256_HMAC_KEY_GEN, 'CKM_GENERIC_SECRET_KEY_GEN': CKM_GENERIC_SECRET_KEY_GEN,", 'CKM_NC_SHA256_HMAC_KEY_GEN': CKM_NC_SHA256_HMAC_KEY_GEN,2,1
openstack%2Fdevstack~stable%2Frocky~I81301eeecc7669a169deeb1e2c5d298a595aab94,openstack/devstack,stable/rocky,I81301eeecc7669a169deeb1e2c5d298a595aab94,Restrict database access to nova-compute in singleconductor mode,MERGED,2019-01-21 14:14:21.000000000,2019-01-23 01:45:58.000000000,2019-01-23 01:45:58.000000000,"[{'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-21 14:14:21.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1b2408b4f33710d404c4da4dde6bc096d6e691f4', 'message': 'Restrict database access to nova-compute in singleconductor mode\n\nChange I4820abe57a023050dd8d067c77e26028801ff288 removed access\nto the database for the nova-compute process but only in\nsuperconductor mode. Grenade runs in singleconductor mode though\nso we are getting tracebacks in nova-compute logs during grenade\nruns because nova-compute is running with nova.conf which is\nconfigured with access to the nova API database.\n\nThis change handles removing database access for nova-compute\ngenerically to cover both the singleconductor and superconductor\ncases.\n\nChange-Id: I81301eeecc7669a169deeb1e2c5d298a595aab94\nCloses-Bug: #1812398\n(cherry picked from commit 82537871376afe98a286e1ba424cf192ae60869a)\n'}]",0,632095,1b2408b4f33710d404c4da4dde6bc096d6e691f4,12,6,1,6873,,,0,"Restrict database access to nova-compute in singleconductor mode

Change I4820abe57a023050dd8d067c77e26028801ff288 removed access
to the database for the nova-compute process but only in
superconductor mode. Grenade runs in singleconductor mode though
so we are getting tracebacks in nova-compute logs during grenade
runs because nova-compute is running with nova.conf which is
configured with access to the nova API database.

This change handles removing database access for nova-compute
generically to cover both the singleconductor and superconductor
cases.

Change-Id: I81301eeecc7669a169deeb1e2c5d298a595aab94
Closes-Bug: #1812398
(cherry picked from commit 82537871376afe98a286e1ba424cf192ae60869a)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/95/632095/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,1b2408b4f33710d404c4da4dde6bc096d6e691f4,bug/1812398, cp $compute_cell_conf $NOVA_CPU_CONF # Make sure we nuke any database config inidelete $NOVA_CPU_CONF database connection inidelete $NOVA_CPU_CONF api_database connection , NOVA_CPU_CONF=$compute_cell_conf cp $compute_cell_conf $NOVA_CPU_CONF # Make sure we nuke any database config inidelete $NOVA_CPU_CONF database connection inidelete $NOVA_CPU_CONF api_database connection,6,5
openstack%2Foslo.policy~master~Iad9740bd8a5e4fdf1d1e64d61bc93f2483c531f3,openstack/oslo.policy,master,Iad9740bd8a5e4fdf1d1e64d61bc93f2483c531f3,Add policy-upgrade tool,MERGED,2018-10-29 12:04:17.000000000,2019-01-23 01:02:20.000000000,2019-01-23 01:02:20.000000000,"[{'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-29 12:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/f6afa656ce9f8510acaa1f33103ceb59845925e3', 'message': '[WIP] Add policy-upgrade tool\n\nAdd a new ""oslopolicy-policy-upgrade"" commnd. Using this command,\noperator can upgrade their self-defined police files to follow\nthe new format in the new release when upgraing OpenStack services.\n\nChange-Id: Iad9740bd8a5e4fdf1d1e64d61bc93f2483c531f3\n'}, {'number': 2, 'created': '2018-10-31 09:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/9655d54c5a3a1024b7a64ab8f2994e259612f8fe', 'message': 'Add policy-upgrade tool\n\nAdd a new ""oslopolicy-policy-upgrade"" commnd. Using this command,\noperator can upgrade their self-defined police files to follow\nthe new format in the new release when upgraing OpenStack services.\n\nChange-Id: Iad9740bd8a5e4fdf1d1e64d61bc93f2483c531f3\n'}, {'number': 3, 'created': '2018-11-02 01:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/ebfa538d7f7afdd623ff0ace51fbfb1093c6a958', 'message': 'Add policy-upgrade tool\n\nAdd a new ""oslopolicy-policy-upgrade"" commnd. Using this command,\noperator can upgrade their self-defined police files to follow\nthe new format in the new release when upgraing OpenStack services.\n\nChange-Id: Iad9740bd8a5e4fdf1d1e64d61bc93f2483c531f3\n'}, {'number': 4, 'created': '2018-11-02 01:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/5230314b1b5030ec5f00d63503d728ebae8c8d84', 'message': 'Add policy-upgrade tool\n\nAdd a new ""oslopolicy-policy-upgrade"" commnd. Using this command,\noperator can upgrade their self-defined police files to follow\nthe new format in the new release when upgraing OpenStack services.\n\nChange-Id: Iad9740bd8a5e4fdf1d1e64d61bc93f2483c531f3\n'}, {'number': 5, 'created': '2018-11-02 08:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/43b7d96797f8d29b62e82a0d455db135d302899a', 'message': 'Add policy-upgrade tool\n\nAdd a new ""oslopolicy-policy-upgrade"" commnd. Using this command,\noperator can upgrade their self-defined police files to follow\nthe new format in the new release when upgraing OpenStack services.\n\nChange-Id: Iad9740bd8a5e4fdf1d1e64d61bc93f2483c531f3\n'}, {'number': 6, 'created': '2018-11-05 03:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/30a18dc9b3b3d1323b1083d7f2ea457feb2de520', 'message': 'Add policy-upgrade tool\n\nAdd a new ""oslopolicy-policy-upgrade"" commnd. Using this command,\noperator can upgrade their self-defined police files to follow\nthe new format in the new release when upgraing OpenStack services.\n\nChange-Id: Iad9740bd8a5e4fdf1d1e64d61bc93f2483c531f3\n'}, {'number': 7, 'created': '2018-12-11 02:34:18.000000000', 'files': ['oslo_policy/tests/test_generator.py', 'oslo_policy/generator.py', 'setup.cfg', 'releasenotes/notes/add-policy-upgrade-command-a65bc4f760e5d8b1.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/ab28b32ee9a0b7c08d2f4273dd523670ffbec9a2', 'message': 'Add policy-upgrade tool\n\nAdd a new ""oslopolicy-policy-upgrade"" commnd. Using this command,\noperator can upgrade their self-defined policy files to follow\nthe new format in the new release when upgrading OpenStack services.\n\nChange-Id: Iad9740bd8a5e4fdf1d1e64d61bc93f2483c531f3\n'}]",10,613906,ab28b32ee9a0b7c08d2f4273dd523670ffbec9a2,24,5,7,15054,,,0,"Add policy-upgrade tool

Add a new ""oslopolicy-policy-upgrade"" commnd. Using this command,
operator can upgrade their self-defined policy files to follow
the new format in the new release when upgrading OpenStack services.

Change-Id: Iad9740bd8a5e4fdf1d1e64d61bc93f2483c531f3
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/06/613906/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/generator.py', 'setup.cfg']",2,f6afa656ce9f8510acaa1f33103ceb59845925e3,add_upgrade_policy_tool, oslopolicy-policy-upgrade = oslo_policy.generator:upgrade_policy,,45,0
openstack%2Ftripleo-heat-templates~master~I48d779c0b142d885214ca4c2158f61f7f886ebf7,openstack/tripleo-heat-templates,master,I48d779c0b142d885214ca4c2158f61f7f886ebf7,post_deploy: support python3 for undercloud scripts.,MERGED,2019-01-22 16:01:26.000000000,2019-01-23 00:23:02.000000000,2019-01-22 23:24:42.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-22 16:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/099eabb3e65e1bacdc2d0796f7edd0e903b8e31f', 'message': 'post_deploy: support python3 in cloud_yaml.py\n\nUse str_replace to use Python3 interpreter when needed in cloud_yaml.py\ncalled by undercloud_post and standalone_post.\n\nChange-Id: I48d779c0b142d885214ca4c2158f61f7f886ebf7\n'}, {'number': 2, 'created': '2019-01-22 17:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69bd755b38e13d952ecb60237e2945c2014205e1', 'message': 'post_deploy: support python3 in cloud_yaml and undercloud_post\n\nUse str_replace to use Python3 interpreter when needed in cloud_yaml.py\ncalled by undercloud_post and standalone_post.\n\nAlso for undercloud_post.py.\n\nChange-Id: I48d779c0b142d885214ca4c2158f61f7f886ebf7\n'}, {'number': 3, 'created': '2019-01-22 17:59:15.000000000', 'files': ['extraconfig/post_deploy/undercloud_post.yaml', 'extraconfig/post_deploy/clouds_yaml.py', 'extraconfig/post_deploy/undercloud_post.py', 'extraconfig/post_deploy/standalone_post.yaml', 'extraconfig/post_deploy/undercloud_ctlplane_network.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1143714b340cc5a3c9ed422af54fc12993067005', 'message': 'post_deploy: support python3 for undercloud scripts.\n\nUse str_replace to use Python3 interpreter when needed in cloud_yaml.py\ncalled by undercloud_post and standalone_post.\n\nAlso for undercloud_post.py and undercloud_ctlplane_network.py.\n\nChange-Id: I48d779c0b142d885214ca4c2158f61f7f886ebf7\n'}]",2,632493,1143714b340cc5a3c9ed422af54fc12993067005,12,6,3,3153,,,0,"post_deploy: support python3 for undercloud scripts.

Use str_replace to use Python3 interpreter when needed in cloud_yaml.py
called by undercloud_post and standalone_post.

Also for undercloud_post.py and undercloud_ctlplane_network.py.

Change-Id: I48d779c0b142d885214ca4c2158f61f7f886ebf7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/632493/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/post_deploy/undercloud_post.yaml', 'extraconfig/post_deploy/clouds_yaml.py', 'extraconfig/post_deploy/standalone_post.yaml']",3,099eabb3e65e1bacdc2d0796f7edd0e903b8e31f,py3, config: str_replace: template: {get_file: ./clouds_yaml.py} params: $PYTHON: {get_param: PythonInterpreter}, config: {get_file: ./clouds_yaml.py},17,3
openstack%2Fkeystone~master~I186251e77bf1b6459e0660da72f57bcdf799f319,openstack/keystone,master,I186251e77bf1b6459e0660da72f57bcdf799f319,Add limit tests for system member role,MERGED,2018-11-29 21:34:28.000000000,2019-01-23 00:22:04.000000000,2019-01-23 00:22:04.000000000,"[{'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-11-29 21:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/76487b9fa5b65123a157e9e0221620919b607455', 'message': 'Update limit policies for system member\n\nThe limit policies were not taking into account the default\nroles work we did last release. This commit changes the default\npolicies to rely on the ``member`` role to update limits.\nSubsequent patches will incorporate:\n\n - system admin\n - domain users\n - project users\n\nChange-Id: I186251e77bf1b6459e0660da72f57bcdf799f319\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n'}, {'number': 2, 'created': '2018-11-30 23:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b1c72a929c2aa8bd50e632c843f5e5280905bd2d', 'message': ""Add limit tests for system member role\n\nFrom keystone's perspective, the ``member`` and ``reader`` roles are\neffectively the same, isolating writeable limit operations to the\n``admin`` role.\n\nThis commit adds explicit testing to make sure the ``member`` role\nis allowed to perform readable and not writable limit operations.\nSubsequent patches will incorporate:\n\n - system admin functionality\n - testing for domain users\n - testing for project users\n\nChange-Id: I186251e77bf1b6459e0660da72f57bcdf799f319\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n""}, {'number': 3, 'created': '2018-12-07 17:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d294ca45795189655b48c3f182337b691ba66e53', 'message': ""Add limit tests for system member role\n\nFrom keystone's perspective, the ``member`` and ``reader`` roles are\neffectively the same, isolating writeable limit operations to the\n``admin`` role.\n\nThis commit adds explicit testing to make sure the ``member`` role\nis allowed to perform readable and not writable limit operations.\nSubsequent patches will incorporate:\n\n - system admin functionality\n - testing for domain users\n - testing for project users\n\nChange-Id: I186251e77bf1b6459e0660da72f57bcdf799f319\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n""}, {'number': 4, 'created': '2018-12-11 09:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/39e6f939d21549ed1c2d6f0052b4719ca6edde4d', 'message': ""Add limit tests for system member role\n\nFrom keystone's perspective, the ``member`` and ``reader`` roles are\neffectively the same, isolating writeable limit operations to the\n``admin`` role.\n\nThis commit adds explicit testing to make sure the ``member`` role\nis allowed to perform readable and not writable limit operations.\nSubsequent patches will incorporate:\n\n - system admin functionality\n - testing for domain users\n - testing for project users\n\nChange-Id: I186251e77bf1b6459e0660da72f57bcdf799f319\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n""}, {'number': 5, 'created': '2018-12-18 22:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3b9e3e4d117736e64eb7d404f15e0d9afe064ca5', 'message': ""Add limit tests for system member role\n\nFrom keystone's perspective, the ``member`` and ``reader`` roles are\neffectively the same, isolating writeable limit operations to the\n``admin`` role.\n\nThis commit adds explicit testing to make sure the ``member`` role\nis allowed to perform readable and not writable limit operations.\nSubsequent patches will incorporate:\n\n - system admin functionality\n - testing for domain users\n - testing for project users\n\nChange-Id: I186251e77bf1b6459e0660da72f57bcdf799f319\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n""}, {'number': 6, 'created': '2018-12-19 23:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/37aba90e61a1a880e7e448901e27e87ccbda1937', 'message': ""Add limit tests for system member role\n\nFrom keystone's perspective, the ``member`` and ``reader`` roles are\neffectively the same, isolating writeable limit operations to the\n``admin`` role.\n\nThis commit adds explicit testing to make sure the ``member`` role\nis allowed to perform readable and not writable limit operations.\nSubsequent patches will incorporate:\n\n - system admin functionality\n - testing for domain users\n - testing for project users\n\nChange-Id: I186251e77bf1b6459e0660da72f57bcdf799f319\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n""}, {'number': 7, 'created': '2019-01-08 18:24:13.000000000', 'files': ['keystone/tests/unit/protection/v3/test_limits.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4cf85fcd5de2f903c085ee3a6edefd3091017880', 'message': ""Add limit tests for system member role\n\nFrom keystone's perspective, the ``member`` and ``reader`` roles are\neffectively the same, isolating writeable limit operations to the\n``admin`` role.\n\nThis commit adds explicit testing to make sure the ``member`` role\nis allowed to perform readable and not writable limit operations.\nSubsequent patches will incorporate:\n\n - system admin functionality\n - testing for domain users\n - testing for project users\n\nChange-Id: I186251e77bf1b6459e0660da72f57bcdf799f319\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n""}]",0,621021,4cf85fcd5de2f903c085ee3a6edefd3091017880,26,5,7,5046,,,0,"Add limit tests for system member role

From keystone's perspective, the ``member`` and ``reader`` roles are
effectively the same, isolating writeable limit operations to the
``admin`` role.

This commit adds explicit testing to make sure the ``member`` role
is allowed to perform readable and not writable limit operations.
Subsequent patches will incorporate:

 - system admin functionality
 - testing for domain users
 - testing for project users

Change-Id: I186251e77bf1b6459e0660da72f57bcdf799f319
Related-Bug: 1805372
Related-Bug: 1805880
",git fetch https://review.opendev.org/openstack/keystone refs/changes/21/621021/7 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/protection/v3/test_limits.py', 'keystone/common/policies/limit.py']",2,76487b9fa5b65123a157e9e0221620919b607455,implement-default-roles,"from oslo_log import versionutilsdeprecated_update_limit = policy.DeprecatedRule( name=base.IDENTITY % 'update_limit', check_str=base.RULE_ADMIN_REQUIRED ) DEPRECATED_REASON = """""" As of the Stein release, the limit API now understands default roles and system-scoped tokens, making the API more granular by default without compromising security. The new policy defaults account for these changes automatically. Be sure to take these new defaults into consideration if you are relying on overrides in your deployment for the limit API. """""" check_str='role:member', 'method': 'PATCH'}], deprecated_rule=deprecated_update_limit, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN),"," check_str=base.RULE_ADMIN_REQUIRED, 'method': 'PATCH'}]),",111,2
openstack%2Fglance~feature%2Fmetadata-caching~I909e45ff894c667e618fb543d76820e98b2d3376,openstack/glance,feature/metadata-caching,I909e45ff894c667e618fb543d76820e98b2d3376,Update .gitreview for feature/metadata-caching,MERGED,2019-01-22 18:21:52.000000000,2019-01-23 00:22:02.000000000,2019-01-23 00:22:02.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 18:21:52.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/glance/commit/1f859467442778d47d04f012fef302ac06496f9b', 'message': 'Update .gitreview for feature/metadata-caching\n\nChange-Id: I909e45ff894c667e618fb543d76820e98b2d3376\n'}]",0,632524,1f859467442778d47d04f012fef302ac06496f9b,6,2,1,22816,,,0,"Update .gitreview for feature/metadata-caching

Change-Id: I909e45ff894c667e618fb543d76820e98b2d3376
",git fetch https://review.opendev.org/openstack/glance refs/changes/24/632524/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,1f859467442778d47d04f012fef302ac06496f9b,create-metadata-caching,defaultbranch=feature/metadata-caching,,1,0
openstack%2Fkuryr-kubernetes~master~I601a62640838557697887aea1a778e67449f68a5,openstack/kuryr-kubernetes,master,I601a62640838557697887aea1a778e67449f68a5,Removing lbaasv2 related code,MERGED,2019-01-16 15:41:19.000000000,2019-01-23 00:13:24.000000000,2019-01-23 00:13:24.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 26287}]","[{'number': 1, 'created': '2019-01-16 15:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f0ba7487e605888d7bb165bf21baa5ba1aedd893', 'message': 'Removing lbaasv2 related code\n\nLBaaSv2 was deprecated in favor of Octavia. We already moved our\ngates from lbaasv2 to octavia and now this patch removes lbaasV2\nspecific code for handling the services\n\nChange-Id: I601a62640838557697887aea1a778e67449f68a5\n'}, {'number': 2, 'created': '2019-01-16 15:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ee4e619f5a693bf83357381a44997ec2273a8739', 'message': 'Removing lbaasv2 related code\n\nLBaaSv2 was deprecated in favor of Octavia. This patch is removing\nthe remaining gates for lbaasv2 and the specific code for handling\nthe services when haproxy was used\n\nChange-Id: I601a62640838557697887aea1a778e67449f68a5\n'}, {'number': 3, 'created': '2019-01-16 15:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/88d5c2920125d35bd041325ac33a4db9be580def', 'message': 'Removing lbaasv2 related code\n\nLBaaSv2 was deprecated in favor of Octavia. This patch is removing\nthe remaining gates for lbaasv2 and the specific code for handling\nthe services when haproxy was used\n\nChange-Id: I601a62640838557697887aea1a778e67449f68a5\n'}, {'number': 4, 'created': '2019-01-17 09:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/43c308f5aaa5feeae17ede762df53f4305df267a', 'message': 'Removing lbaasv2 related code\n\nLBaaSv2 was deprecated in favor of Octavia. This patch is removing\nthe remaining gates for lbaasv2 and the specific code for handling\nthe services when haproxy was used\n\nChange-Id: I601a62640838557697887aea1a778e67449f68a5\n'}, {'number': 5, 'created': '2019-01-22 08:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cacdd0435c5a38300437d66d68c8693ef4deebc7', 'message': 'Removing lbaasv2 related code\n\nLBaaSv2 was deprecated in favor of Octavia. This patch is removing\nthe remaining gates for lbaasv2 and the specific code for handling\nthe services when haproxy was used\n\nImplements: remove-lbaasv2\n\nChange-Id: I601a62640838557697887aea1a778e67449f68a5\n'}, {'number': 6, 'created': '2019-01-22 10:14:14.000000000', 'files': ['.zuul.d/lbaasv2.yaml', 'devstack/local.conf.ovn.sample', 'devstack/local.conf.openshift.sample', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'devstack/plugin.sh', 'devstack/local.conf.df.sample', 'devstack/settings', 'devstack/local.conf.pod-in-vm.undercloud.ovn.sample', 'devstack/local.conf.sample', '.zuul.d/project.yaml', 'kuryr_kubernetes/config.py', 'devstack/lib/kuryr_kubernetes', 'devstack/local.conf.pod-in-vm.undercloud.df.sample', 'devstack/local.conf.pod-in-vm.undercloud.sample'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/176b8600832c54601dc50dd6853234267b42cf6e', 'message': 'Removing lbaasv2 related code\n\nLBaaSv2 was deprecated in favor of Octavia. This patch is removing\nthe remaining gates for lbaasv2 and the specific code for handling\nthe services when haproxy was used\n\nImplements: blueprint remove-lbaasv2\n\nChange-Id: I601a62640838557697887aea1a778e67449f68a5\n'}]",2,631261,176b8600832c54601dc50dd6853234267b42cf6e,34,7,6,23567,,,0,"Removing lbaasv2 related code

LBaaSv2 was deprecated in favor of Octavia. This patch is removing
the remaining gates for lbaasv2 and the specific code for handling
the services when haproxy was used

Implements: blueprint remove-lbaasv2

Change-Id: I601a62640838557697887aea1a778e67449f68a5
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/61/631261/4 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/local.conf.ovn.sample', 'devstack/local.conf.openshift.sample', 'devstack/local.conf.pod-in-vm.undercloud.ovn.sample', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'devstack/local.conf.sample', 'devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes', 'devstack/local.conf.df.sample', 'devstack/local.conf.pod-in-vm.undercloud.df.sample', 'devstack/local.conf.pod-in-vm.undercloud.sample', 'devstack/settings']",11,f0ba7487e605888d7bb165bf21baa5ba1aedd893,delete-lbaasv2,,KURYR_K8S_LBAAS_USE_OCTAVIA=${KURYR_K8S_LBAAS_USE_OCTAVIA:-True},237,342
openstack%2Fkeystone~master~I085578e715939c9b472df65bb3a50c0acf62f37e,openstack/keystone,master,I085578e715939c9b472df65bb3a50c0acf62f37e,Add limit protection tests,MERGED,2018-11-29 21:34:28.000000000,2019-01-23 00:12:12.000000000,2019-01-23 00:12:12.000000000,"[{'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 21:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/81b1fffa3cab8a0869e782f30b229cc0ecc7c655', 'message': 'Add limit protection tests\n\nThis commit creates a set of sets that we can reuse across different\ndefault roles and scopes to ensure everyone has access to limit\ninformation. Subsequent patches will make sure we build on this\nby incorporating default roles for:\n\n - system member\n - system admin\n - domain users\n - project users\n\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n\nChange-Id: I085578e715939c9b472df65bb3a50c0acf62f37e\n'}, {'number': 2, 'created': '2018-11-30 23:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e808dd02e7019e20989781994bd0c286fc2b0eba', 'message': 'Add limit protection tests\n\nThis commit creates a set of sets that we can reuse across different\ndefault roles and scopes to ensure everyone has access to limit\ninformation. Subsequent patches will make sure we build on this\nby incorporating default roles for:\n\n - system member test coverage\n - system admin functionality\n - domain user test coverage\n - project user test coverage\n\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n\nChange-Id: I085578e715939c9b472df65bb3a50c0acf62f37e\n'}, {'number': 3, 'created': '2018-12-07 17:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a05ba242b5e5c957f8cc3443d5205bf73464e3a8', 'message': 'Add limit protection tests\n\nThis commit creates a set of sets that we can reuse across different\ndefault roles and scopes to ensure everyone has access to limit\ninformation. Subsequent patches will make sure we build on this\nby incorporating default roles for:\n\n - system member test coverage\n - system admin functionality\n - domain user test coverage\n - project user test coverage\n\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n\nChange-Id: I085578e715939c9b472df65bb3a50c0acf62f37e\n'}, {'number': 4, 'created': '2018-12-11 09:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3b08fcf6d58f6f7e9988d3026b23e48c86be8703', 'message': 'Add limit protection tests\n\nThis commit creates a set of sets that we can reuse across different\ndefault roles and scopes to ensure everyone has access to limit\ninformation. Subsequent patches will make sure we build on this\nby incorporating default roles for:\n\n - system member test coverage\n - system admin functionality\n - domain user test coverage\n - project user test coverage\n\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n\nChange-Id: I085578e715939c9b472df65bb3a50c0acf62f37e\n'}, {'number': 5, 'created': '2018-12-18 22:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d563c538f24636936396c1982e1982f15f1ecb40', 'message': 'Add limit protection tests\n\nThis commit creates a set of sets that we can reuse across different\ndefault roles and scopes to ensure everyone has access to limit\ninformation. Subsequent patches will make sure we build on this\nby incorporating default roles for:\n\n - system member test coverage\n - system admin functionality\n - domain user test coverage\n - project user test coverage\n\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n\nChange-Id: I085578e715939c9b472df65bb3a50c0acf62f37e\n'}, {'number': 6, 'created': '2018-12-19 23:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/de381ee340ee3a9403d29dc16e0581615b2d1a5f', 'message': 'Add limit protection tests\n\nThis commit creates a set of sets that we can reuse across different\ndefault roles and scopes to ensure everyone has access to limit\ninformation. Subsequent patches will make sure we build on this\nby incorporating default roles for:\n\n - system member test coverage\n - system admin functionality\n - domain user test coverage\n - project user test coverage\n\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n\nChange-Id: I085578e715939c9b472df65bb3a50c0acf62f37e\n'}, {'number': 7, 'created': '2019-01-08 18:24:13.000000000', 'files': ['keystone/tests/unit/protection/v3/test_limits.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3fee2399901bfc91b5eb5dfc71d17b008dd4b7fb', 'message': 'Add limit protection tests\n\nThis commit creates a set of sets that we can reuse across different\ndefault roles and scopes to ensure everyone has access to limit\ninformation. Subsequent patches will make sure we build on this\nby incorporating default roles for:\n\n - system member test coverage\n - system admin functionality\n - domain user test coverage\n - project user test coverage\n\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n\nChange-Id: I085578e715939c9b472df65bb3a50c0acf62f37e\n'}]",1,621020,3fee2399901bfc91b5eb5dfc71d17b008dd4b7fb,25,3,7,5046,,,0,"Add limit protection tests

This commit creates a set of sets that we can reuse across different
default roles and scopes to ensure everyone has access to limit
information. Subsequent patches will make sure we build on this
by incorporating default roles for:

 - system member test coverage
 - system admin functionality
 - domain user test coverage
 - project user test coverage

Related-Bug: 1805372
Related-Bug: 1805880

Change-Id: I085578e715939c9b472df65bb3a50c0acf62f37e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/20/621020/5 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/protection/v3/test_limits.py'],1,81b1fffa3cab8a0869e782f30b229cc0ecc7c655,implement-default-roles,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from six.moves import http_client from keystone.common import provider_api import keystone.conf from keystone.tests.common import auth as common_auth from keystone.tests import unit from keystone.tests.unit import base_classes from keystone.tests.unit import ksfixtures CONF = keystone.conf.CONF PROVIDERS = provider_api.ProviderAPIs def _create_limit_and_dependencies(): """"""Create a limit and its dependencies to test with."""""" service = PROVIDERS.catalog_api.create_service( uuid.uuid4().hex, unit.new_service_ref() ) registered_limit = unit.new_registered_limit_ref( service_id=service['id'], id=uuid.uuid4().hex ) registered_limits = ( PROVIDERS.unified_limit_api.create_registered_limits( [registered_limit] ) ) registered_limit = registered_limits[0] project = PROVIDERS.resource_api.create_project( uuid.uuid4().hex, unit.new_project_ref(domain_id=CONF.identity.default_domain_id) ) limit = unit.new_limit_ref( project_id=project['id'], service_id=service['id'], resource_name=registered_limit['resource_name'], resource_limit=5, id=uuid.uuid4().hex ) limits = PROVIDERS.unified_limit_api.create_limits([limit]) return limits class _UserLimitTests(object): def test_user_can_get_limit_model(self): with self.test_client() as c: c.get('/v3/limits/model', headers=self.headers) def test_user_can_get_a_limit(self): limits = _create_limit_and_dependencies() limit = limits[0] with self.test_client() as c: r = c.get('/v3/limits/%s' % limit['id'], headers=self.headers) self.assertEqual(limit['id'], r.json['limit']['id']) def test_user_can_list_limits(self): limits = _create_limit_and_dependencies() limit = limits[0] with self.test_client() as c: r = c.get('/v3/limits', headers=self.headers) self.assertTrue(len(r.json['limits']) == 1) self.assertEqual(limit['id'], r.json['limits'][0]['id']) class SystemReaderTests(base_classes.TestCaseWithBootstrap, common_auth.AuthTestMixin, _UserLimitTests): def setUp(self): super(SystemReaderTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) system_reader = unit.new_user_ref( domain_id=CONF.identity.default_domain_id ) self.user_id = PROVIDERS.identity_api.create_user( system_reader )['id'] PROVIDERS.assignment_api.create_system_grant_for_user( self.user_id, self.bootstrapper.reader_role_id ) auth = self.build_authentication_request( user_id=self.user_id, password=system_reader['password'], system=True ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id} def test_user_cannot_create_limits(self): service = PROVIDERS.catalog_api.create_service( uuid.uuid4().hex, unit.new_service_ref() ) registered_limit = unit.new_registered_limit_ref( service_id=service['id'], id=uuid.uuid4().hex ) registered_limits = ( PROVIDERS.unified_limit_api.create_registered_limits( [registered_limit] ) ) registered_limit = registered_limits[0] project = PROVIDERS.resource_api.create_project( uuid.uuid4().hex, unit.new_project_ref(domain_id=CONF.identity.default_domain_id) ) create = { 'limits': [ unit.new_limit_ref( project_id=project['id'], service_id=service['id'], resource_name=registered_limit['resource_name'], resource_limit=5 ) ] } with self.test_client() as c: c.post( '/v3/limits', json=create, headers=self.headers, expected_status_code=http_client.FORBIDDEN ) def test_user_cannot_update_limits(self): limits = _create_limit_and_dependencies() limit = limits[0] update = {'limits': {'description': uuid.uuid4().hex}} with self.test_client() as c: c.patch( '/v3/limits/%s' % limit['id'], json=update, headers=self.headers, expected_status_code=http_client.FORBIDDEN ) def test_user_cannot_delete_limits(self): limits = _create_limit_and_dependencies() limit = limits[0] with self.test_client() as c: c.delete( '/v3/limits/%s' % limit['id'], headers=self.headers, expected_status_code=http_client.FORBIDDEN ) ",,172,0
openstack%2Frequirements~master~I9ae5a229a237528f8e0729cb5d395f5ca3a6e3fc,openstack/requirements,master,I9ae5a229a237528f8e0729cb5d395f5ca3a6e3fc,Updated from generate-constraints,MERGED,2019-01-21 06:35:25.000000000,2019-01-23 00:12:10.000000000,2019-01-23 00:12:10.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-21 06:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/352e6d19a24db1e2c2b6579911cd98c28c9fdf08', 'message': 'Updated from generate-constraints\n\nChange-Id: I9ae5a229a237528f8e0729cb5d395f5ca3a6e3fc\n'}, {'number': 2, 'created': '2019-01-21 08:43:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a3ae4671311dba29e2ebbc662d9d3ced781a4403', 'message': 'Updated from generate-constraints\n\nChange-Id: I9ae5a229a237528f8e0729cb5d395f5ca3a6e3fc\n'}]",0,632026,a3ae4671311dba29e2ebbc662d9d3ced781a4403,23,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I9ae5a229a237528f8e0729cb5d395f5ca3a6e3fc
",git fetch https://review.opendev.org/openstack/requirements refs/changes/26/632026/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,352e6d19a24db1e2c2b6579911cd98c28c9fdf08,openstack/requirements/constraints/noclob,oslo.service===1.35.0tornado===4.5.3;python_version=='3.4' tornado===4.5.3;python_version=='3.5' tornado===4.5.3;python_version=='3.6' tornado===5.1.1;python_version=='2.7'pycryptodomex===3.7.3hiredis===1.0.0packaging===19.0opentracing===2.0.0dogpile.cache===0.7.1salt===2018.3.3python-daemon===2.2.3,oslo.service===1.34.0tornado===4.5.3pycryptodomex===3.7.2hiredis===0.3.1packaging===18.0opentracing===1.3.0dogpile.cache===0.6.8salt===2018.3.2python-daemon===2.2.2,12,9
openstack%2Frequirements~master~If32156044ca1f9707a90c64070db59febfdc5a45,openstack/requirements,master,If32156044ca1f9707a90c64070db59febfdc5a45,update constraint for neutron-lib to new release 1.22.0,MERGED,2019-01-21 20:30:33.000000000,2019-01-23 00:12:09.000000000,2019-01-23 00:12:09.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-21 20:30:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2e7f016e8aba221453980c13411335a35d5bb2a3', 'message': 'update constraint for neutron-lib to new release 1.22.0\n\nChange-Id: If32156044ca1f9707a90c64070db59febfdc5a45\nmeta:version: 1.22.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Boden R <bodenvmw@gmail.com>\nmeta:release:Commit: Boden R <bodenvmw@gmail.com>\nmeta:release:Change-Id: I023a0eeedf698f7447dbbc67e86a5ecc8b223d1a\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Miguel Lavalle <miguel.lavalle@huawei.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,632159,2e7f016e8aba221453980c13411335a35d5bb2a3,16,2,1,11131,,,0,"update constraint for neutron-lib to new release 1.22.0

Change-Id: If32156044ca1f9707a90c64070db59febfdc5a45
meta:version: 1.22.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Boden R <bodenvmw@gmail.com>
meta:release:Commit: Boden R <bodenvmw@gmail.com>
meta:release:Change-Id: I023a0eeedf698f7447dbbc67e86a5ecc8b223d1a
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Miguel Lavalle <miguel.lavalle@huawei.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/632159/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2e7f016e8aba221453980c13411335a35d5bb2a3,new-release,neutron-lib===1.22.0,neutron-lib===1.21.0,1,1
openstack%2Ftripleo-heat-templates~master~I1b4e23b602cf9c41ce6f9a1b602359d7aa7224c0,openstack/tripleo-heat-templates,master,I1b4e23b602cf9c41ce6f9a1b602359d7aa7224c0,Avoid dangling firewall rule for ssh access,MERGED,2019-01-22 13:49:55.000000000,2019-01-23 00:12:07.000000000,2019-01-23 00:12:07.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-22 13:49:55.000000000', 'files': ['deployment/sshd/sshd-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/13ec67a3aa9978d0f3926848a321bd31574bf0e9', 'message': 'Avoid dangling firewall rule for ssh access\n\nChange Ie548f7216610e15af24c96f65a58cc8de603235c introduced a new\nparameter, SshFirewallAllowAll, set to True by default.\nThis parameter allows to add a generic firewall rule allowing, as\nits name states, world access to the SSH service.\n\nUntil now, if someone changes his mind and decides to deactivate\nthis opening, the rule will not be removed, although the operator\nsets the variable to False.\n\nThis patch intends to reflect the operator will regarding ssh access.\n\nChange-Id: I1b4e23b602cf9c41ce6f9a1b602359d7aa7224c0\n'}]",0,632468,13ec67a3aa9978d0f3926848a321bd31574bf0e9,15,6,1,28223,,,0,"Avoid dangling firewall rule for ssh access

Change Ie548f7216610e15af24c96f65a58cc8de603235c introduced a new
parameter, SshFirewallAllowAll, set to True by default.
This parameter allows to add a generic firewall rule allowing, as
its name states, world access to the SSH service.

Until now, if someone changes his mind and decides to deactivate
this opening, the rule will not be removed, although the operator
sets the variable to False.

This patch intends to reflect the operator will regarding ssh access.

Change-Id: I1b4e23b602cf9c41ce6f9a1b602359d7aa7224c0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/632468/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/sshd/sshd-baremetal-puppet.yaml'],1,13ec67a3aa9978d0f3926848a321bd31574bf0e9,firewall/no-ssh-dangling, - tripleo::sshd::firewall_rules: '003 accept ssh from all': proto: 'tcp' dport: 22 extras: ensure: 'absent', - null,6,1
openstack%2Fironic-python-agent~master~I30c39d309ff065ed51726d0360086b0e740a2c2c,openstack/ironic-python-agent,master,I30c39d309ff065ed51726d0360086b0e740a2c2c,Moving publish jobs to zuulv3,MERGED,2019-01-14 16:10:42.000000000,2019-01-23 00:06:28.000000000,2019-01-23 00:06:27.000000000,"[{'_account_id': 1926}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-01-14 16:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c6ecea5dd0ec17f5115206c02f0a6e4e52f1946e', 'message': 'Moving publish jobs to zuulv3\n\nMoving IPA coreos and tinyipa publish jobs to zuulv3\n\nChange-Id: I30c39d309ff065ed51726d0360086b0e740a2c2c\n'}, {'number': 2, 'created': '2019-01-18 10:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/15c6944e7b2ace8ebc4c6bb369ee26b45b38c38c', 'message': 'Moving publish jobs to zuulv3\n\nMoving IPA coreos and tinyipa publish jobs to zuulv3\n\nChange-Id: I30c39d309ff065ed51726d0360086b0e740a2c2c\n'}, {'number': 3, 'created': '2019-01-18 14:08:23.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'playbooks/ironic-python-agent-buildimage/post.yaml', 'playbooks/legacy/ironic-python-agent-buildimage-tinyipa/post.yaml', 'playbooks/legacy/ironic-python-agent-buildimage-coreos/post.yaml', 'zuul.d/legacy-ironic-jobs.yaml', 'playbooks/legacy/ironic-python-agent-buildimage-coreos/run.yaml', 'playbooks/legacy/ironic-python-agent-buildimage-tinyipa/run.yaml', 'playbooks/ironic-python-agent-buildimage/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cf1127e03c6069ca3b117ff0d05b9e083656fb99', 'message': 'Moving publish jobs to zuulv3\n\nMoving IPA coreos and tinyipa publish jobs to zuulv3\n\nChange-Id: I30c39d309ff065ed51726d0360086b0e740a2c2c\n'}]",8,630713,cf1127e03c6069ca3b117ff0d05b9e083656fb99,17,6,3,15519,,,0,"Moving publish jobs to zuulv3

Moving IPA coreos and tinyipa publish jobs to zuulv3

Change-Id: I30c39d309ff065ed51726d0360086b0e740a2c2c
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/13/630713/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'playbooks/ironic-python-agent-buildimage-tinyipa/run.yaml', 'playbooks/ironic-python-agent-buildimage-coreos/run.yaml', 'zuul.d/legacy-ironic-jobs.yaml', 'playbooks/ironic-python-agent-buildimage-tinyipa/post.yaml', 'playbooks/legacy/ironic-python-agent-buildimage-coreos/run.yaml', 'playbooks/legacy/ironic-python-agent-buildimage-tinyipa/run.yaml', 'playbooks/ironic-python-agent-buildimage-coreos/post.yaml']",8,c6ecea5dd0ec17f5115206c02f0a6e4e52f1946e,zuulv3_publish_job, - name: Copy files from {{ ansible_user_dir }}/src/{{ zuul.project.canonical_name }} on node synchronize: src: '{{ ansible_user_dir }}/src/{{ zuul.project.canonical_name }}/UPLOAD_RAW/' - name: Copy files from {{ ansible_user_dir }}/src/{{ zuul.project.canonical_name }} on node synchronize: src: '{{ ansible_user_dir }}/src/{{ zuul.project.canonical_name }}/UPLOAD_TAR/' - name: Copy files from {{ ansible_user_dir }}/src/{{ zuul.project.canonical_name }} on node synchronize: src: '{{ ansible_user_dir }}/src/{{ zuul.project.canonical_name }}/', - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/UPLOAD_RAW/' - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/UPLOAD_TAR/' - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/',143,221
openstack%2Fzaqar-ui~master~I8cdefb4af92cf72faac4cc3edbe7cd67ce0a8d03,openstack/zaqar-ui,master,I8cdefb4af92cf72faac4cc3edbe7cd67ce0a8d03,Imported Translations from Zanata,MERGED,2019-01-22 08:15:05.000000000,2019-01-23 00:05:53.000000000,2019-01-23 00:05:52.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 08:15:05.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/9d785297c9e19710fbb476ee783d167336bf563d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8cdefb4af92cf72faac4cc3edbe7cd67ce0a8d03\n'}]",0,632291,9d785297c9e19710fbb476ee783d167336bf563d,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8cdefb4af92cf72faac4cc3edbe7cd67ce0a8d03
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/91/632291/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'],1,9d785297c9e19710fbb476ee783d167336bf563d,zanata/translations,"# suhartono <cloudsuhartono@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-01-09 09:35+0000\n""""PO-Revision-Date: 2019-01-21 04:51+0000\n""msgid ""Rocky Series Release Notes"" msgstr ""Rocky Series Release Notes"" ","""POT-Creation-Date: 2018-04-09 07:11+0000\n""""PO-Revision-Date: 2018-05-13 04:12+0000\n""",6,2
openstack%2Fsenlin-dashboard~stable%2Fqueens~I9df053bf5310a184087832171a5b4e66dd35772e,openstack/senlin-dashboard,stable/queens,I9df053bf5310a184087832171a5b4e66dd35772e,Imported Translations from Zanata,MERGED,2019-01-22 08:29:56.000000000,2019-01-23 00:05:35.000000000,2019-01-23 00:05:35.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 08:29:56.000000000', 'files': ['senlin_dashboard/locale/id/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/5a8d2a4563cab4d12231d0f9ec1e5312e3653dd3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9df053bf5310a184087832171a5b4e66dd35772e\n'}]",0,632298,5a8d2a4563cab4d12231d0f9ec1e5312e3653dd3,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9df053bf5310a184087832171a5b4e66dd35772e
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/98/632298/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin_dashboard/locale/id/LC_MESSAGES/django.po'],1,5a8d2a4563cab4d12231d0f9ec1e5312e3653dd3,zanata/translations,"# suhartono <cloudsuhartono@gmail.com>, 2019. #zanata""POT-Creation-Date: 2018-12-05 10:13+0000\n""""PO-Revision-Date: 2019-01-21 04:58+0000\n""msgid ""The specified inpu is not a valid YAML format: %s"" msgstr ""Input yang ditentukan bukan format YAML yang valid: %s"" #, python-format","""POT-Creation-Date: 2018-10-23 01:08+0000\n""""PO-Revision-Date: 2018-05-11 03:07+0000\n""",7,2
openstack%2Fkeystone~master~I18c041846010cd985a4bd40aaac011354345fcfa,openstack/keystone,master,I18c041846010cd985a4bd40aaac011354345fcfa,Update idp policies for system reader,MERGED,2018-11-21 22:30:23.000000000,2019-01-23 00:04:49.000000000,2019-01-23 00:04:49.000000000,"[{'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-11-21 22:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4eeda3d4d0f9752fdb35fed22673ef804d70e681', 'message': 'Update idp policies for system reader\n\nThe idp policies were not taking the default roles work we did\nlast release into account. This commit changes the default policies\nto rely on the ``reader`` role for get and list idps. Subsequent\npatches will incorporate:\n\n - system member\n - system admin\n - domain users\n - project users\n\n Related-Bug: 1804517\n Related-Bug: 1804516\n\nChange-Id: I18c041846010cd985a4bd40aaac011354345fcfa\n'}, {'number': 2, 'created': '2018-11-28 15:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/519afba91830c07b8c05b6c439a1e721091314ac', 'message': 'Update idp policies for system reader\n\nThe idp policies were not taking the default roles work we did\nlast release into account. This commit changes the default policies\nto rely on the ``reader`` role for get and list idps. Subsequent\npatches will incorporate:\n\n - system member\n - system admin\n - domain users\n - project users\n\n Related-Bug: 1804517\n Related-Bug: 1804516\n\nChange-Id: I18c041846010cd985a4bd40aaac011354345fcfa\n'}, {'number': 3, 'created': '2018-11-30 20:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ca466b4b416c221958586ea6965e42dab9f2d4af', 'message': 'Update idp policies for system reader\n\nThe idp policies were not taking the default roles work we did\nlast release into account. This commit changes the default policies\nto rely on the ``reader`` role for get and list idps. Subsequent\npatches will incorporate:\n\n - system member test coverage\n - system admin functionality\n - domain users test coverage\n - project users test coverage\n\n Related-Bug: 1804517\n Related-Bug: 1804516\n\nChange-Id: I18c041846010cd985a4bd40aaac011354345fcfa\n'}, {'number': 4, 'created': '2018-12-18 23:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/16154ced0152ec29a2e7899e678148848c487ea6', 'message': 'Update idp policies for system reader\n\nThe idp policies were not taking the default roles work we did\nlast release into account. This commit changes the default policies\nto rely on the ``reader`` role for get and list idps. Subsequent\npatches will incorporate:\n\n - system member test coverage\n - system admin functionality\n - domain users test coverage\n - project users test coverage\n\n Related-Bug: 1804517\n Related-Bug: 1804516\n\nChange-Id: I18c041846010cd985a4bd40aaac011354345fcfa\n'}, {'number': 5, 'created': '2019-01-08 22:16:06.000000000', 'files': ['keystone/tests/unit/protection/v3/test_identity_providers.py', 'keystone/common/policies/identity_provider.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/27bf50d127e0f194a839ccfd02ba510656811c84', 'message': 'Update idp policies for system reader\n\nThe idp policies were not taking the default roles work we did\nlast release into account. This commit changes the default policies\nto rely on the ``reader`` role for get and list idps. Subsequent\npatches will incorporate:\n\n - system member test coverage\n - system admin functionality\n - domain users test coverage\n - project users test coverage\n\n Related-Bug: 1804517\n Related-Bug: 1804516\n\nChange-Id: I18c041846010cd985a4bd40aaac011354345fcfa\n'}]",0,619371,27bf50d127e0f194a839ccfd02ba510656811c84,20,5,5,5046,,,0,"Update idp policies for system reader

The idp policies were not taking the default roles work we did
last release into account. This commit changes the default policies
to rely on the ``reader`` role for get and list idps. Subsequent
patches will incorporate:

 - system member test coverage
 - system admin functionality
 - domain users test coverage
 - project users test coverage

 Related-Bug: 1804517
 Related-Bug: 1804516

Change-Id: I18c041846010cd985a4bd40aaac011354345fcfa
",git fetch https://review.opendev.org/openstack/keystone refs/changes/71/619371/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/protection/v3/test_identity_providers.py', 'keystone/common/policies/identity_provider.py']",2,4eeda3d4d0f9752fdb35fed22673ef804d70e681,implement-default-roles,"from oslo_log import versionutilsdeprecated_get_idp = policy.DeprecatedRule( name=base.IDENTITY % 'get_identity_providers', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_list_idp = policy.DeprecatedRule( name=base.IDENTITY % 'list_identity_providers', check_str=base.RULE_ADMIN_REQUIRED ) DEPRECATED_REASON = """""" As of the Stein release, the identity provider API now understands default roles and system-scoped tokens, making the API more granular by default without compromising security. The new policy defaults account for these changes automatically. Be sure to take these new defaults into consideration if you are relying on overrides in your deployment for the identity provider API. """""" check_str='role:reader', ], deprecated_rule=deprecated_list_idp, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN check_str='role:reader', ], deprecated_rule=deprecated_get_idp, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN"," check_str=base.RULE_ADMIN_REQUIRED, ] check_str=base.RULE_ADMIN_REQUIRED, ]",151,4
openstack%2Fzun-ui~master~I154ecee498413429681746898baa8ff80350fc7f,openstack/zun-ui,master,I154ecee498413429681746898baa8ff80350fc7f,Imported Translations from Zanata,MERGED,2019-01-22 07:54:50.000000000,2019-01-23 00:03:41.000000000,2019-01-23 00:03:41.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 07:54:50.000000000', 'files': ['zun_ui/locale/id/LC_MESSAGES/djangojs.po', 'zun_ui/locale/id/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/56b1e61b78787cc636b7ffa5e0b939363adf33d7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I154ecee498413429681746898baa8ff80350fc7f\n'}]",0,632274,56b1e61b78787cc636b7ffa5e0b939363adf33d7,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I154ecee498413429681746898baa8ff80350fc7f
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/74/632274/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun_ui/locale/id/LC_MESSAGES/djangojs.po', 'zun_ui/locale/id/LC_MESSAGES/django.po']",2,56b1e61b78787cc636b7ffa5e0b939363adf33d7,zanata/translations,"# suhartono <cloudsuhartono@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-01-15 07:10+0000\n""""PO-Revision-Date: 2019-01-21 04:49+0000\n""msgid ""Hosts"" msgstr ""Hosts"" ","""POT-Creation-Date: 2018-08-21 00:14+0000\n""""PO-Revision-Date: 2018-08-21 04:13+0000\n""",112,6
openstack%2Fmagnum-ui~master~I8a2643716278d8340270f3dc9484f0134ae58977,openstack/magnum-ui,master,I8a2643716278d8340270f3dc9484f0134ae58977,Imported Translations from Zanata,MERGED,2019-01-22 07:30:58.000000000,2019-01-23 00:02:16.000000000,2019-01-23 00:02:16.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-01-22 07:30:58.000000000', 'files': ['magnum_ui/locale/id/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/95520c044720a310bf3cd3b0d8bd72cef8b4db06', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8a2643716278d8340270f3dc9484f0134ae58977\n'}]",0,632254,95520c044720a310bf3cd3b0d8bd72cef8b4db06,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8a2643716278d8340270f3dc9484f0134ae58977
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/54/632254/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_ui/locale/id/LC_MESSAGES/djangojs.po'],1,95520c044720a310bf3cd3b0d8bd72cef8b4db06,zanata/translations,"# suhartono <cloudsuhartono@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-01-15 07:12+0000\n""""PO-Revision-Date: 2019-01-21 04:54+0000\n""msgid ""Calico"" msgstr ""Calico"" ","""POT-Creation-Date: 2018-09-06 02:27+0000\n""""PO-Revision-Date: 2018-09-08 02:10+0000\n""",6,2
openstack%2Fpython-tripleoclient~master~I34ca723ae982e543ed473d0cc53403a289e61cd3,openstack/python-tripleoclient,master,I34ca723ae982e543ed473d0cc53403a289e61cd3,undercloud: wire PythonInterpreter to sys.executable,MERGED,2019-01-22 17:15:52.000000000,2019-01-22 23:57:23.000000000,2019-01-22 23:57:23.000000000,"[{'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-22 17:15:52.000000000', 'files': ['tripleoclient/v1/undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3bfd9f985c84708e99a106ca5a2ce5550a960a70', 'message': 'undercloud: wire PythonInterpreter to sys.executable\n\nUse sys.executable to wire PythonInterpreter for Undercloud.\n\nChange-Id: I34ca723ae982e543ed473d0cc53403a289e61cd3\n'}]",0,632513,3bfd9f985c84708e99a106ca5a2ce5550a960a70,8,4,1,3153,,,0,"undercloud: wire PythonInterpreter to sys.executable

Use sys.executable to wire PythonInterpreter for Undercloud.

Change-Id: I34ca723ae982e543ed473d0cc53403a289e61cd3
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/13/632513/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_config.py'],1,3bfd9f985c84708e99a106ca5a2ce5550a960a70,python3,import sys env_data['PythonInterpreter'] = sys.executable ,,3,0
openstack%2Fopenstacksdk~master~I628fa334f424c5f703c2e4941d5b4cb71ca089e3,openstack/openstacksdk,master,I628fa334f424c5f703c2e4941d5b4cb71ca089e3,Fixed incorrect exception raising in configdrive generation,MERGED,2019-01-22 09:00:14.000000000,2019-01-22 23:47:28.000000000,2019-01-22 23:47:28.000000000,"[{'_account_id': 10239}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 09:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bb03093e7e5124aca22f526f626d3b4235119a7c', 'message': 'Fixed incorrect exception raising in configdrive generation\n\nWhen genisoimage is missing, we raise an exception with incorrect\nformatting. This patch fixes it.\n\nChange-Id: I628fa334f424c5f703c2e4941d5b4cb71ca089e3\n'}, {'number': 2, 'created': '2019-01-22 09:20:00.000000000', 'files': ['openstack/baremetal/configdrive.py', 'openstack/tests/unit/baremetal/test_configdrive.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ce4d1d4da1e46842c1fe68cc00231cbd846fa643', 'message': 'Fixed incorrect exception raising in configdrive generation\n\nWhen genisoimage is missing, we raise an exception with incorrect\nformatting. This patch fixes it and adds relevant unit tests.\n\nChange-Id: I628fa334f424c5f703c2e4941d5b4cb71ca089e3\n'}]",0,632326,ce4d1d4da1e46842c1fe68cc00231cbd846fa643,10,4,2,10239,,,0,"Fixed incorrect exception raising in configdrive generation

When genisoimage is missing, we raise an exception with incorrect
formatting. This patch fixes it and adds relevant unit tests.

Change-Id: I628fa334f424c5f703c2e4941d5b4cb71ca089e3
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/26/632326/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/baremetal/configdrive.py'],1,bb03093e7e5124aca22f526f626d3b4235119a7c,error," '""genisoimage"" tool is installed. Error: %s' % e)"," '""genisoimage"" tool is installed. Error: %s') % e",1,1
openstack%2Fironic-specs~master~I68c7334e1e377a85694a9791295683ff4fcbee35,openstack/ironic-specs,master,I68c7334e1e377a85694a9791295683ff4fcbee35,Add Support for Smart NIC,MERGED,2018-07-15 13:19:18.000000000,2019-01-22 23:39:23.000000000,2019-01-22 23:39:23.000000000,"[{'_account_id': 333}, {'_account_id': 4491}, {'_account_id': 4694}, {'_account_id': 5792}, {'_account_id': 6637}, {'_account_id': 10202}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 12171}, {'_account_id': 12356}, {'_account_id': 14807}, {'_account_id': 14826}, {'_account_id': 19593}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 24245}, {'_account_id': 25733}, {'_account_id': 26340}, {'_account_id': 28375}, {'_account_id': 28692}, {'_account_id': 28714}, {'_account_id': 29271}]","[{'number': 1, 'created': '2018-07-15 13:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b29cda6d9d693f363d458dc3d456f7dcee0e6b77', 'message': 'Add Support for SmartNIC\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 2, 'created': '2018-07-17 08:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/eb1f72e84a744557edbdda0289c1f8d50a5110f8', 'message': 'Add Support for SmartNIC\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 3, 'created': '2018-08-06 11:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2f7d5d1f2efd40232d6427004286b01225a7320b', 'message': 'Add Support for SmartNIC\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 4, 'created': '2018-08-07 08:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f8092b4081733164ec8de2b84ba51f76f4f3f2b4', 'message': 'Add Support for SmartNIC\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 5, 'created': '2018-08-08 12:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/74b3e5f67f79806c35f0fbec86376efff456b18d', 'message': 'Add Support for Smart NIC\n\nStory: #2003346\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 6, 'created': '2018-08-16 13:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/77d49b9f7f8c85bdc7011e8ed6588010e1e1ca1a', 'message': 'Add Support for Smart NIC\n\nStory: #2003346\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 7, 'created': '2018-08-16 13:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a0d36ff07f71edc43ce717b7489bae3582382752', 'message': 'Add Support for Smart NIC\n\nStory: #2003346\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 8, 'created': '2018-10-04 17:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b555e2db80f06d4d11b1f2f3d0725e9bc21acd3a', 'message': 'Add Support for Smart NIC\n\nStory: #2003346\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 9, 'created': '2018-10-07 09:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/fbcb558042b786fe1b1a14e0ca6e9a5f1a25c4ea', 'message': 'Add Support for Smart NIC\n\nStory: #2003346\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 10, 'created': '2018-10-08 08:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/609e0a27483188d1e660c3f06821742ed788a8e1', 'message': 'Add Support for Smart NIC\n\nStory: #2003346\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 11, 'created': '2018-10-18 15:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/48bbf6a5a86c9d97aaefd405b1dc187ab7d9c8cc', 'message': 'Add Support for Smart NIC\n\nStory: #2003346\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 12, 'created': '2018-11-18 12:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/53dd53de8f8e92c17539fbcc9e713d3b17708615', 'message': 'Add Support for Smart NIC\n\nStory: #2003346\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 13, 'created': '2018-11-25 09:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/029c6c33aa3fdada42d5411dafe83f68c47f0269', 'message': 'Add Support for Smart NIC\n\nStory: #2003346\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 14, 'created': '2018-12-16 13:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0cc4fa7683539b43c15c977d77e20f80ee73b115', 'message': 'Add Support for Smart NIC\n\nStory: #2003346\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 15, 'created': '2018-12-31 12:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5fd6de779f258462946dd7b5e365ac5b14c275cc', 'message': 'Add Support for Smart NIC\n\nStory: #2003346\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 16, 'created': '2019-01-06 11:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f1df5411e0c1f39188000f5ade312141a5a3e3e1', 'message': 'Add Support for Smart NIC\n\nStory: #2003346\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}, {'number': 17, 'created': '2019-01-08 11:31:01.000000000', 'files': ['specs/not-implemented/support-smart-nic.rst', 'specs/approved/support-smart-nic.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f358fbdde9a1cadc838327b8bf34ee54a7e7f43a', 'message': 'Add Support for Smart NIC\n\nStory: #2003346\n\nChange-Id: I68c7334e1e377a85694a9791295683ff4fcbee35\n'}]",262,582767,f358fbdde9a1cadc838327b8bf34ee54a7e7f43a,101,26,17,12171,,,0,"Add Support for Smart NIC

Story: #2003346

Change-Id: I68c7334e1e377a85694a9791295683ff4fcbee35
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/67/582767/16 && git format-patch -1 --stdout FETCH_HEAD,"['specs/not-implemented/support-smart-nic.rst', 'specs/approved/support-smart-nic.rst']",2,b29cda6d9d693f363d458dc3d456f7dcee0e6b77,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================== Smart NIC Networking ==================== https://storyboard.openstack.org/#!/story/XXXXXXX This spec describes proposed changes to Ironic to enable a generic, vendor-agnostic, bare metal networking service running on smart NICs, enabling bare metal networking with feature parity to the virtualization use-case. Problem description =================== While Ironic today supports Neutron provisioned network connectivity for Bare-Metal servers through ML2 mechanism driver, the existing support is based largely on configuration of TORs through vendor-specific mechanism drivers, with limited capabilities. Proposed change =============== There is a wide range of smart/intelligent NICs emerging on the market. These NICs generally incorporate one or more general purpose CPU cores along with data-plane packet processing accelerations, and can efficiently run virtual switches such as OVS, while maintaining the existing interfaces to the SDN layer. The proposal is to extend Ironic to enable use of Smart NICs to implement generic networking services for Bare Metal servers. The goal is to enable running the standard Neutron Open vSwitch L2 agent running on Smart NIC, providing a generic, vendor-agnostic bare metal networking service with feature parity compared to the virtualization use-case. * Detection of SmartNIC: SmartNIC vendor can detect their card useing the IPA generic hardware manager. Extend the ironic inspecor to add {'smartNIC': True} flag to the ironic port extra dict once a SmartNIC was detected. * Update the neutron host_id to be the smartNIC hostname The neutron ml2 ovs requires the host_id to be the hostname of the server to allow binding of neutron port. * Update the iscsi and direct deployment flows for SmartNIC: The current deployment flow assumes the neutron port can be bounded before the baremetal server is up and running. With the Smart NICs usecase there is a need to bind the neutron port when the baremetal server and neutron ovs agent on the Smart NIC is up and running. When a smartNIC flag set to True in the port extra, the flow will change to first reboot the baremetal server and wait for the neutron agent to be alive. (using the neuton client.list_agents with filter of host_id). Once the neutron ovs agent is alive we will update the neutron port to bind the neutron port (basicly it means to update the neutron port host_id to the smartNIC hostname. * Update the iscsi and direct deploy methods to plug tenant port for SmartNIC: After deployment is done the neutron tenant port should be bouned to the tenant network. For this we should first unbind the provision port and bind the tenant port. After that a reboot should be initiated. This is compared to the TOR case were we first poweroff the baremetal unbind the provision port and bind the tenant port and power on the baremetal. * Neutron ml2 ovs changes: Update the neuton ml2 ovs to bind baremetal port with smartNIC flag in the binding profile. * Neutron ovs agent changes: Example of SmartNIC model:: +---------------+ | Server | | | | +A | +------|--------+ | | +------|--------+ | SmartNIC | | +-+B-+ | | |OVS | | | +-+C-+ | +------|--------+ | A - port on the baremetal B - port that represent the baremetal port in the SmartNIC C - port to the wire Add/Remove Port B to the ovs br-int with external-ids This part is mimc the nova-compute that plug the port to the ovs bridge. The external-ids information is: 'external-ids:iface-id=%s' % port_id 'external-ids:iface-status=active' 'external-ids:attached-mac=%s' % ironic_port.address 'external-ids:vm-uuid=%s' % node_uuid Alternatives ------------ The Networking-generic-switch Neutron ML2 driver includes an Open vSwitch device plugin, capable of configuring TORs through OVS commands via ssh. While providing a generic OVS interface, the existing implementation is limited. This proposal aims at complete re-use of the existing Neutron Open vSwitch L2 agent, providing complete functionality without duplication of implementation. Data model impact ----------------- None State Machine Impact -------------------- None REST API impact --------------- None Client (CLI) impact ------------------- None ""ironic"" CLI ~~~~~~~~~~~~ None ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ None RPC API impact -------------- None Driver API impact ----------------- None Nova driver impact ------------------ None Ramdisk impact -------------- * Extend the Mellanox hardware manager to discover Mellanox SmartNIC Bluefield * Adds smart-nic boolean flag to the hardware.NetworkInterface * Update the ironic-inspecor to create/update the port.extra with the smartNIC flag Security impact --------------- This will allow to use neutron ovs agent pipline. One of the features in the pipeline is security groups which will enhance the security model when using baremetal in a cloud. Other end user impact --------------------- * User can update the smart-nic boolean flag manauly by update the port exta dict. Scalability impact ------------------ None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: moshele Work Items ---------- * all changes will effect if the port.extra has smartNIC flag. * update add_ports_to_network to validate neutron ovs agent is up. * update add_ports_to_network to put the hostname of the smartNIC. The hostname will be take for the local_link_information switch_id. * (ISCSIDeploy/AgentDeploy).prepare method do a reboot instead of power off. * (ISCSIDeploy/AgentDeploy).tear_down method we move the power_off to the end. * AgentDeployMixin.reboot_and_finish_deploy move remove_provisioning_network/ configure_tenant_networks to the start and after that trigger server power-off/on. * Documentation updates Dependencies ============ * Require changes in ovs ml2 driver to allow to bind baremetal port with smartNIC flag. * Require chagens in ovs neutron agent to add/remove representor port on bind/unbind of neuton port. Testing ======= * Mellanox CI to test with Bluefiled SmartNIC Upgrades and Backwards Compatibility ==================================== None Documentation Impact ==================== * Update the multitenancy.rst with the new flow of SmartNIC References ========== None ",,262,0
openstack%2Foctavia-tempest-plugin~master~Ia29541d1c89f3559a3ce22b1a27c6bcf079ce2cc,openstack/octavia-tempest-plugin,master,Ia29541d1c89f3559a3ce22b1a27c6bcf079ce2cc,Retry subnet/network deletes on 409 Conflict,MERGED,2019-01-20 19:05:28.000000000,2019-01-22 23:21:10.000000000,2019-01-22 23:21:10.000000000,"[{'_account_id': 6469}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-20 19:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6e677eff5ab52e61cfc54a926cb2a82b9c43cda8', 'message': 'Fix cleanup calls in scenario tests\n\nThere were cases where addClassResourceCleanup was being used inside\ntest cases instead of addCleanup. This patch corrects those to use\naddCleanup.\n\nChange-Id: Ia29541d1c89f3559a3ce22b1a27c6bcf079ce2cc\n'}, {'number': 2, 'created': '2019-01-20 20:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/92058ab202218f836d54be7699d13ff3130e5623', 'message': 'Fix cleanup calls in scenario tests\n\nThere were cases where addClassResourceCleanup was being used inside\ntest cases instead of addCleanup. This patch corrects those to use\naddCleanup.\n\nChange-Id: Ia29541d1c89f3559a3ce22b1a27c6bcf079ce2cc\n'}, {'number': 3, 'created': '2019-01-20 20:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c355c6a7afca67caf646e25535a18be9bef8b18f', 'message': 'Fix cleanup calls in scenario tests\n\nThere were cases where addClassResourceCleanup was being used inside\ntest cases instead of addCleanup. This patch corrects those to use\naddCleanup.\n\nChange-Id: Ia29541d1c89f3559a3ce22b1a27c6bcf079ce2cc\n'}, {'number': 4, 'created': '2019-01-20 23:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bd0ce8bcb1ea76d4a528b08d2f07503eb9a8d52a', 'message': 'Fix cleanup calls in scenario tests\n\nThere were cases where addClassResourceCleanup was being used inside\ntest cases instead of addCleanup. This patch corrects those to use\naddCleanup.\n\nChange-Id: Ia29541d1c89f3559a3ce22b1a27c6bcf079ce2cc\n'}, {'number': 5, 'created': '2019-01-21 00:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/dd20362187bead4b67212460be39dff21fbbf420', 'message': 'Fix cleanup calls in scenario tests\n\nThere were cases where addClassResourceCleanup was being used inside\ntest cases instead of addCleanup. This patch corrects those to use\naddCleanup.\n\nChange-Id: Ia29541d1c89f3559a3ce22b1a27c6bcf079ce2cc\n'}, {'number': 6, 'created': '2019-01-21 20:49:06.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_healthmonitor.py', 'octavia_tempest_plugin/tests/scenario/v2/test_pool.py', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/tests/scenario/v2/test_l7rule.py', 'octavia_tempest_plugin/tests/scenario/v2/test_listener.py', 'octavia_tempest_plugin/tests/scenario/v2/test_member.py', 'octavia_tempest_plugin/tests/scenario/v2/test_load_balancer.py', 'octavia_tempest_plugin/tests/scenario/v2/test_l7policy.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/04dc5cb4a06c83ed40b90687ee9f24b26c5cf7c8', 'message': 'Retry subnet/network deletes on 409 Conflict\n\nNeutron can be slow to cleanup ports from subnets/networks.\nThis patch adds retries when deleting subnets and networks in the\ntempest teardown/clean up phase after tests.\n\nAlso, there were cases where addClassResourceCleanup was being used\ninside test cases instead of addCleanup. This patch corrects those to\nuse addCleanup.\n\nStory: 2004826\nTask: 29000\n\nChange-Id: Ia29541d1c89f3559a3ce22b1a27c6bcf079ce2cc\n'}]",0,631991,04dc5cb4a06c83ed40b90687ee9f24b26c5cf7c8,23,4,6,11628,,,0,"Retry subnet/network deletes on 409 Conflict

Neutron can be slow to cleanup ports from subnets/networks.
This patch adds retries when deleting subnets and networks in the
tempest teardown/clean up phase after tests.

Also, there were cases where addClassResourceCleanup was being used
inside test cases instead of addCleanup. This patch corrects those to
use addCleanup.

Story: 2004826
Task: 29000

Change-Id: Ia29541d1c89f3559a3ce22b1a27c6bcf079ce2cc
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/91/631991/3 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/scenario/v2/test_healthmonitor.py', 'octavia_tempest_plugin/tests/scenario/v2/test_pool.py', 'octavia_tempest_plugin/tests/scenario/v2/test_l7rule.py', 'octavia_tempest_plugin/tests/scenario/v2/test_listener.py', 'octavia_tempest_plugin/tests/scenario/v2/test_member.py', 'octavia_tempest_plugin/tests/scenario/v2/test_load_balancer.py', 'octavia_tempest_plugin/tests/scenario/v2/test_l7policy.py']",7,6e677eff5ab52e61cfc54a926cb2a82b9c43cda8,, self.addCleanup(, self.addClassResourceCleanup(,7,7
openstack%2Fswift~master~I249a1d5c0c025d571587e225e833a865ed6409e0,openstack/swift,master,I249a1d5c0c025d571587e225e833a865ed6409e0,Remove duplicate statement,MERGED,2019-01-22 15:24:50.000000000,2019-01-22 23:12:20.000000000,2019-01-22 23:12:19.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 15:24:50.000000000', 'files': ['test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/700fcc735336a904d19554da053fb77209f7073e', 'message': 'Remove duplicate statement\n\nChange-Id: I249a1d5c0c025d571587e225e833a865ed6409e0\n'}]",0,632486,700fcc735336a904d19554da053fb77209f7073e,6,2,1,9625,,,0,"Remove duplicate statement

Change-Id: I249a1d5c0c025d571587e225e833a865ed6409e0
",git fetch https://review.opendev.org/openstack/swift refs/changes/86/632486/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/test_utils.py'],1,700fcc735336a904d19554da053fb77209f7073e,fix,, lfo_stderr = utils.LoggerFileObject(logger),0,1
openstack%2Fnova~master~I6b65cd89f5483a75a74b33f8014c157370549235,openstack/nova,master,I6b65cd89f5483a75a74b33f8014c157370549235,Extend NeutronFixture to return port with resource request,MERGED,2019-01-14 16:29:33.000000000,2019-01-22 23:12:14.000000000,2019-01-22 23:12:14.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2019-01-14 16:29:33.000000000', 'files': ['nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dcdfec70f5e87913f09fa9afd89c7188d3dbbb37', 'message': 'Extend NeutronFixture to return port with resource request\n\nIn the coming patches we need to simulate that neturon returns port with\nnon empty resource_request field.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: I6b65cd89f5483a75a74b33f8014c157370549235\n'}]",1,630719,dcdfec70f5e87913f09fa9afd89c7188d3dbbb37,14,10,1,9708,,,0,"Extend NeutronFixture to return port with resource request

In the coming patches we need to simulate that neturon returns port with
non empty resource_request field.

blueprint bandwidth-resource-provider

Change-Id: I6b65cd89f5483a75a74b33f8014c157370549235
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/630719/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,dcdfec70f5e87913f09fa9afd89c7188d3dbbb37,bp/bandwidth-resource-provider,"from nova import rc_fields port_with_resource_request = { 'id': '2f2613ce-95a9-490a-b3c4-5f1c28c1f886', 'network_id': network_1['id'], 'admin_state_up': True, 'status': 'ACTIVE', 'mac_address': '52:54:00:1e:59:c3', 'fixed_ips': [ { 'ip_address': '192.168.1.42', 'subnet_id': subnet_1['id'] } ], 'tenant_id': tenant_id, 'resource_request': { ""resources"": { rc_fields.ResourceClass.NET_BW_IGR_KILOBIT_PER_SEC: 1000, rc_fields.ResourceClass.NET_BW_EGR_KILOBIT_PER_SEC: 1000}, ""required"": [""CUSTOM_PHYSNET_2"", ""CUSTOM_VNIC_TYPE_NORMAL""] } } NeutronFixture.port_1['id']: copy.deepcopy(NeutronFixture.port_1), NeutronFixture.port_with_resource_request['id']: copy.deepcopy(NeutronFixture.port_with_resource_request)", NeutronFixture.port_1['id']: copy.deepcopy(NeutronFixture.port_1),25,1
openstack%2Ftripleo-heat-templates~master~I4b9714d525129252e06a605690cf9b4b0cd793aa,openstack/tripleo-heat-templates,master,I4b9714d525129252e06a605690cf9b4b0cd793aa,nova-metadata: use keystone internal endpoint instead of admin,MERGED,2019-01-22 16:29:49.000000000,2019-01-22 23:08:45.000000000,2019-01-22 23:08:45.000000000,"[{'_account_id': 3153}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-22 16:29:49.000000000', 'files': ['puppet/services/nova-metadata.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38ddc4c493a3ee344fd64891f57c526fe8c99d0d', 'message': ""nova-metadata: use keystone internal endpoint instead of admin\n\nWe're trying to avoid the usage of the admin endpoint in order to\ndeprecate it eventually.\n\nChange-Id: I4b9714d525129252e06a605690cf9b4b0cd793aa\n""}]",0,632502,38ddc4c493a3ee344fd64891f57c526fe8c99d0d,8,5,1,10873,,,0,"nova-metadata: use keystone internal endpoint instead of admin

We're trying to avoid the usage of the admin endpoint in order to
deprecate it eventually.

Change-Id: I4b9714d525129252e06a605690cf9b4b0cd793aa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/632502/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/nova-metadata.yaml'],1,38ddc4c493a3ee344fd64891f57c526fe8c99d0d,," nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]}"," nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneAdmin, uri_no_suffix]}",1,1
openstack%2Fironic-python-agent~master~Ifa6ba643b7da6653c48c6928f7ff60c2372e1c05,openstack/ironic-python-agent,master,Ifa6ba643b7da6653c48c6928f7ff60c2372e1c05,"Revert ""Recover CI run detection in imagebuild""",ABANDONED,2019-01-17 21:56:26.000000000,2019-01-22 23:04:16.000000000,,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-01-17 21:56:26.000000000', 'files': ['imagebuild/common/generate_upper_constraints.sh', 'imagebuild/tinyipa/build-tinyipa.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f108f2dd19f02b47cb5e2ec8c6b93a35d71bd90f', 'message': 'Revert ""Recover CI run detection in imagebuild""\n\nThis change apparently broke diskimage-builder CI,\nand the fix this was put in for seems broken at this point.\n\nUntil we can pin down exactly what is broken in the IO\nconfiguration, we should revert it.\n\nThis reverts commit 041c1795db9249b423622b21191cb88d22594451.\n\nChange-Id: Ifa6ba643b7da6653c48c6928f7ff60c2372e1c05\n'}]",0,631661,f108f2dd19f02b47cb5e2ec8c6b93a35d71bd90f,7,6,1,11655,,,0,"Revert ""Recover CI run detection in imagebuild""

This change apparently broke diskimage-builder CI,
and the fix this was put in for seems broken at this point.

Until we can pin down exactly what is broken in the IO
configuration, we should revert it.

This reverts commit 041c1795db9249b423622b21191cb88d22594451.

Change-Id: Ifa6ba643b7da6653c48c6928f7ff60c2372e1c05
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/61/631661/1 && git format-patch -1 --stdout FETCH_HEAD,"['imagebuild/common/generate_upper_constraints.sh', 'imagebuild/tinyipa/build-tinyipa.sh']",2,f108f2dd19f02b47cb5e2ec8c6b93a35d71bd90f,gate," $CHROOT_CMD mkdir -p /opt/stack/new for project in $(ls /opt/stack/new); do [ -d ""/opt/stack/new/$project/.git"" ]; then sudo cp -R ""/opt/stack/new/$project"" $BUILDDIR/opt/stack/new/"," CI_DIR=/opt/stack/new elif [ -d /opt/stack ]; then CI_DIR=/opt/stack else CI_DIR= fi if [ -n ""$CI_DIR"" ]; then $CHROOT_CMD mkdir -p $CI_DIR for project in $(ls $CI_DIR); do [ -d ""$CI_DIR/$project/.git"" ]; then sudo cp -R ""$CI_DIR/$project"" $BUILDDIR/$CI_DIR/",5,17
openstack%2Ftripleo-heat-templates~master~I0c2e8779e4280185f647d01026ea7d38363e634e,openstack/tripleo-heat-templates,master,I0c2e8779e4280185f647d01026ea7d38363e634e,Designate: Use keystone v3 internal endpoint instead of admin,MERGED,2019-01-22 16:27:58.000000000,2019-01-22 22:56:23.000000000,2019-01-22 22:56:23.000000000,"[{'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-22 16:27:58.000000000', 'files': ['puppet/services/designate-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c980a40e553faba8c21ed36ed816b53d02260477', 'message': ""Designate: Use keystone v3 internal endpoint instead of admin\n\nwe're trying to avoid the usage of the admin endpoint in order to\ndeprecate it eventually.\n\nChange-Id: I0c2e8779e4280185f647d01026ea7d38363e634e\n""}]",0,632500,c980a40e553faba8c21ed36ed816b53d02260477,9,6,1,10873,,,0,"Designate: Use keystone v3 internal endpoint instead of admin

we're trying to avoid the usage of the admin endpoint in order to
deprecate it eventually.

Change-Id: I0c2e8779e4280185f647d01026ea7d38363e634e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/632500/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/designate-api.yaml'],1,c980a40e553faba8c21ed36ed816b53d02260477,designate-keystone," neutron::designate::auth_url: {get_param: [EndpointMap, KeystoneV3Internal, uri]}"," neutron::designate::auth_url: {get_param: [EndpointMap, KeystoneV3Admin, uri]}",1,1
openstack%2Fopenstack-manuals~master~I115d68b578c2f6c3bc846f39bdeceb8a3af1cd40,openstack/openstack-manuals,master,I115d68b578c2f6c3bc846f39bdeceb8a3af1cd40,Address copyright and license header,MERGED,2018-08-20 15:09:23.000000000,2019-01-22 22:34:18.000000000,2019-01-22 22:34:18.000000000,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 14482}, {'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-20 15:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/139fdbf4834acf970ee497236b8362c2cd8ad568', 'message': 'address copyright and license header\n\nChange-Id: I115d68b578c2f6c3bc846f39bdeceb8a3af1cd40\nCloses-Bug: #1709690\n'}, {'number': 2, 'created': '2018-08-24 04:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a4d28c39e4339e61a8976ff33089f2c1bfb7ac49', 'message': 'address copyright and license header\n\nChange-Id: I115d68b578c2f6c3bc846f39bdeceb8a3af1cd40\nCloses-Bug: #1709690\n'}, {'number': 3, 'created': '2018-08-24 06:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/280d283ea119eb3e2e88b90c55cda730413bac29', 'message': 'address copyright and license header\n\nChange-Id: I115d68b578c2f6c3bc846f39bdeceb8a3af1cd40\nCloses-Bug: #1709690\n'}, {'number': 4, 'created': '2019-01-17 10:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/eb38a63e85f89022fa71bcc34073e36f08f3af67', 'message': 'Address copyright and license header\n\nContext:\n\n- http://lists.openstack.org/pipermail/legal-discuss/2015-March/date.html\n- http://lists.openstack.org/pipermail/openstack-docs/2014-January/subject.html#3644\n\nCo-author: Alexandra Settle ""asettle@suse.com""\n\nChange-Id: I115d68b578c2f6c3bc846f39bdeceb8a3af1cd40\nCloses-Bug: #1709690\n'}, {'number': 5, 'created': '2019-01-17 15:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6f28a30af4287275f5c895949e1ef1983b293702', 'message': 'Address copyright and license header\n\nContext:\n\n- http://lists.openstack.org/pipermail/legal-discuss/2015-March/date.html\n- http://lists.openstack.org/pipermail/openstack-docs/2014-January/subject.html#3644\n\nCo-author: Alexandra Settle ""asettle@suse.com""\n\nChange-Id: I115d68b578c2f6c3bc846f39bdeceb8a3af1cd40\nCloses-Bug: #1709690\n'}, {'number': 6, 'created': '2019-01-18 09:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2132f4308006d2d83547e2d13529dd9ed21b7486', 'message': 'Address copyright and license header\n\nContext:\n\n- http://lists.openstack.org/pipermail/legal-discuss/2015-March/date.html\n- http://lists.openstack.org/pipermail/openstack-docs/2014-January/subject.html#3644\n\nCo-author: Alexandra Settle ""asettle@suse.com""\n\nChange-Id: I115d68b578c2f6c3bc846f39bdeceb8a3af1cd40\nCloses-Bug: #1709690\n'}, {'number': 7, 'created': '2019-01-18 11:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/db514bf63a4220b7113fa984e2d7d717c968884c', 'message': 'Address copyright and license header\n\nContext:\n\n- http://lists.openstack.org/pipermail/legal-discuss/2015-March/date.html\n- http://lists.openstack.org/pipermail/openstack-docs/2014-January/subject.html#3644\n\nCo-author: Alexandra Settle ""asettle@suse.com""\n\nChange-Id: I115d68b578c2f6c3bc846f39bdeceb8a3af1cd40\nCloses-Bug: #1709690\n'}, {'number': 8, 'created': '2019-01-22 22:06:14.000000000', 'files': ['doc/doc-contrib-guide/source/writing-style/general-writing-guidelines.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/dffd1c8469364d3aa7ded55f501c41d01c5a2b42', 'message': 'Address copyright and license header\n\nContext:\n\n- http://lists.openstack.org/pipermail/legal-discuss/2015-March/date.html\n- http://lists.openstack.org/pipermail/openstack-docs/2014-January/subject.html#3644\n\nChange-Id: I115d68b578c2f6c3bc846f39bdeceb8a3af1cd40\nCloses-Bug: #1709690\nCo-Authored-By: Alexandra Settle <asettle@suse.com>\n'}]",12,593662,dffd1c8469364d3aa7ded55f501c41d01c5a2b42,43,8,8,19779,,,0,"Address copyright and license header

Context:

- http://lists.openstack.org/pipermail/legal-discuss/2015-March/date.html
- http://lists.openstack.org/pipermail/openstack-docs/2014-January/subject.html#3644

Change-Id: I115d68b578c2f6c3bc846f39bdeceb8a3af1cd40
Closes-Bug: #1709690
Co-Authored-By: Alexandra Settle <asettle@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/62/593662/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/doc-contrib-guide/source/writing-style/general-writing-guidelines.rst'],1,139fdbf4834acf970ee497236b8362c2cd8ad568,bug/1709690,"Add copyright and license to the header of documentation -------------------------------------------------------- Add the following content to the header of the ``*.rst`` file: .. code-block:: rst .. Copyright 2011-2012 OpenStack Foundation All Rights Reserved. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. .. end ",,25,0
openstack%2Ftempest~master~I60c4ee661eb3589c5d2b149a0d8423ee5a1ed38b,openstack/tempest,master,I60c4ee661eb3589c5d2b149a0d8423ee5a1ed38b,update v3 identity group tests to work w/ pre-prov,ABANDONED,2017-12-01 22:39:43.000000000,2019-01-22 22:29:54.000000000,,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 20378}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 23625}, {'_account_id': 27078}]","[{'number': 1, 'created': '2017-12-01 22:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3caced05d6cf3a4887c1328bb97a4af448c78084', 'message': ""Move test_group_create_update_get to static\n\nI don't see any limitations by using pre-provisioned\ncredentials on this test.\n\nBy setting force_tenant_isolation=False this test can now be\nexecuted with backends that enforce immutable user sources.\n\nNOTE this patch is based on:\nI136b28f90280857ae8e9b0e968e67445e2cce44d\nas domain_specific_drivers is a factor when listing domains\nin a pre-provisioned environment with a v2 auth_version.\n\nChange-Id: I60c4ee661eb3589c5d2b149a0d8423ee5a1ed38b\n""}, {'number': 2, 'created': '2018-07-03 22:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/db74f4c6b228e33badab85f8f145009ad86a96f7', 'message': ""Move a few v3 identity group tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned\ncredentials for these tests:\n\n* test_group_create_update_get\n* test_group_update_with_few_fields\n* test_list_groups\n\nBy setting force_tenant_isolation=False this test can now be\nexecuted with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nNote that these tests aren't interop tests [0] so can\nbe safely moved.\n\n[0] http://codesearch.openstack.org/?q=test_group&i=nope&files=&repos=interop\n\nCo-Authored-By: Felipe Monteiro <felipe.monteiro@att.com>\nChange-Id: I60c4ee661eb3589c5d2b149a0d8423ee5a1ed38b\n""}, {'number': 3, 'created': '2018-07-05 15:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2067d1fbf4fc48b4de8d42dae8e0686fa00c0a49', 'message': ""Move a few v3 identity group tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned\ncredentials for these tests:\n\n* test_group_create_update_get\n* test_group_update_with_few_fields\n* test_list_groups\n\nBy setting force_tenant_isolation=False this test can now be\nexecuted with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nNote that these tests aren't interop tests [0] so can\nbe safely moved.\n\n[0] http://codesearch.openstack.org/?q=test_group&i=nope&files=&repos=interop\n\nCo-Authored-By: Felipe Monteiro <felipe.monteiro@att.com>\nChange-Id: I60c4ee661eb3589c5d2b149a0d8423ee5a1ed38b\n""}, {'number': 4, 'created': '2018-07-13 13:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/19d59cb2500bcd0fd4178a259f175687940ee4d7', 'message': ""Move a few v3 identity group tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned\ncredentials for these tests:\n\n* test_group_create_update_get\n* test_group_update_with_few_fields\n* test_list_groups\n\nBy setting force_tenant_isolation=False this test can now be\nexecuted with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nNote that these tests aren't interop tests [0] so can\nbe safely moved.\n\n[0] http://codesearch.openstack.org/?q=test_group&i=nope&files=&repos=interop\n\nCo-Authored-By: Felipe Monteiro <felipe.monteiro@att.com>\nChange-Id: I60c4ee661eb3589c5d2b149a0d8423ee5a1ed38b\n""}, {'number': 5, 'created': '2018-07-16 13:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f52824d90da2bac0696bece5f2b229a136555f4e', 'message': ""Move a few v3 identity group tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned\ncredentials for these tests:\n\n* test_group_create_update_get\n* test_group_update_with_few_fields\n* test_list_groups\n\nBy setting force_tenant_isolation=False this test can now be\nexecuted with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nNote that these tests aren't interop tests [0] so can\nbe safely moved.\n\n[0] http://codesearch.openstack.org/?q=test_group&i=nope&files=&repos=interop\n\nCo-Authored-By: Felipe Monteiro <felipe.monteiro@att.com>\nChange-Id: I60c4ee661eb3589c5d2b149a0d8423ee5a1ed38b\n""}, {'number': 6, 'created': '2019-01-02 20:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a702f0c25bc61040567a8d6ed2bb3d5b0a3390a8', 'message': ""Move a few v3 identity group tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned\ncredentials for these tests:\n\n* test_group_create_update_get\n* test_list_groups\n\nNote that these tests aren't interop tests [0] so can\nbe safely moved.\n\nBy setting force_tenant_isolation=False these tests now be\ncan executed with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nThe following tests create users and will need to be skipped as\nrefactoing these will result in a forbidden error:\n\n* test_group_users_add_list_delete\n* test_list_user_groups\n\ntempest.lib.exceptions.Forbidden: Forbidden\nDetails: {u'message': u'Group membership across backend boundaries\n is not allowed. Group in question is e3d46cae1e844cc085496c32452ec59a,\n user is admin.', u'code': 403, u'title': u'Forbidden'}\n\n[0] http://codesearch.openstack.org/?q=test_group&i=nope&files=&repos=interop\n\nCo-Authored-By: Felipe Monteiro <felipe.monteiro@att.com>\nChange-Id: I60c4ee661eb3589c5d2b149a0d8423ee5a1ed38b\n""}, {'number': 7, 'created': '2019-01-17 17:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/705532a63494176c918d3b98b3bc3b733535325c', 'message': ""update v3 identity group tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned\ncredentials for these tests:\n\n* test_group_create_update_get\n* test_list_groups\n* test_group_users_add_list_delete\n* test_list_user_groups\n\nCo-Authored-By: Felipe Monteiro <felipe.monteiro@att.com>\nChange-Id: I60c4ee661eb3589c5d2b149a0d8423ee5a1ed38b\n""}, {'number': 8, 'created': '2019-01-17 17:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d883d5206e8527ff9f3ef00a48c94a3669ca7f68', 'message': ""update v3 identity group tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned\ncredentials for these tests:\n\n* test_group_create_update_get\n* test_list_groups\n* test_group_users_add_list_delete\n* test_list_user_groups\n\nBy setting force_tenant_isolation=False these tests now be\ncan executed with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nCo-Authored-By: Felipe Monteiro <felipe.monteiro@att.com>\nChange-Id: I60c4ee661eb3589c5d2b149a0d8423ee5a1ed38b\n""}, {'number': 9, 'created': '2019-01-17 21:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f58ee7690f3a5bbf2b76030e153bb3c37d82ddda', 'message': ""update v3 identity group tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned\ncredentials for these tests:\n\n* test_group_create_update_get\n* test_list_groups\n* test_group_users_add_list_delete\n* test_list_user_groups\n\nBy setting force_tenant_isolation=False these tests now be\ncan executed with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nParital-Bug: #1714277\n\nCo-Authored-By: Felipe Monteiro <felipe.monteiro@att.com>\nChange-Id: I60c4ee661eb3589c5d2b149a0d8423ee5a1ed38b\n""}, {'number': 10, 'created': '2019-01-17 21:30:12.000000000', 'files': ['tempest/api/identity/admin/v3/test_groups.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/13daaf85cdfd0618e0390d6b20c4e8e7090c9fc0', 'message': ""update v3 identity group tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned\ncredentials for these tests:\n\n* test_group_create_update_get\n* test_list_groups\n* test_group_users_add_list_delete\n* test_list_user_groups\n\nBy setting force_tenant_isolation=False these tests now be\ncan executed with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nParital-Bug: #1714277\n\nCo-Authored-By: Felipe Monteiro <felipe.monteiro@att.com>\nChange-Id: I60c4ee661eb3589c5d2b149a0d8423ee5a1ed38b\n""}]",10,524746,13daaf85cdfd0618e0390d6b20c4e8e7090c9fc0,74,13,10,20378,,,0,"update v3 identity group tests to work w/ pre-prov

I don't see any limitations by using pre-provisioned
credentials for these tests:

* test_group_create_update_get
* test_list_groups
* test_group_users_add_list_delete
* test_list_user_groups

By setting force_tenant_isolation=False these tests now be
can executed with backends that don't allow user creation
(immutable user source) like LDAP.

Parital-Bug: #1714277

Co-Authored-By: Felipe Monteiro <felipe.monteiro@att.com>
Change-Id: I60c4ee661eb3589c5d2b149a0d8423ee5a1ed38b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/46/524746/10 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_groups.py'],1,3caced05d6cf3a4887c1328bb97a4af448c78084,bug/1714277,"class BaseGroupsV3TestJSON(base.BaseIdentityV3AdminTest): super(BaseGroupsV3TestJSON, cls).resource_setup() class GroupsV3TestJSON(BaseGroupsV3TestJSON): class GroupsV3StaticTestJSON(BaseGroupsV3TestJSON): # NOTE: force_tenant_isolation is false to allow test execution for # clouds using the pre-provisioned credentials provider force_tenant_isolation = False @decorators.idempotent_id('2e80343b-6c81-4ac3-88c7-452f3e9d5129') def test_group_create_update_get(self): name = data_utils.rand_name('Group') description = data_utils.rand_name('Description') group = self.groups_client.create_group( name=name, domain_id=self.domain['id'], description=description)['group'] self.addCleanup(self.groups_client.delete_group, group['id']) self.assertEqual(group['name'], name) self.assertEqual(group['description'], description) new_name = data_utils.rand_name('UpdateGroup') new_desc = data_utils.rand_name('UpdateDescription') updated_group = self.groups_client.update_group( group['id'], name=new_name, description=new_desc)['group'] self.assertEqual(updated_group['name'], new_name) self.assertEqual(updated_group['description'], new_desc) new_group = self.groups_client.show_group(group['id'])['group'] self.assertEqual(group['id'], new_group['id']) self.assertEqual(new_name, new_group['name']) self.assertEqual(new_desc, new_group['description'])","class GroupsV3TestJSON(base.BaseIdentityV3AdminTest): super(GroupsV3TestJSON, cls).resource_setup() @decorators.idempotent_id('2e80343b-6c81-4ac3-88c7-452f3e9d5129') def test_group_create_update_get(self): name = data_utils.rand_name('Group') description = data_utils.rand_name('Description') group = self.groups_client.create_group( name=name, domain_id=self.domain['id'], description=description)['group'] self.addCleanup(self.groups_client.delete_group, group['id']) self.assertEqual(group['name'], name) self.assertEqual(group['description'], description) new_name = data_utils.rand_name('UpdateGroup') new_desc = data_utils.rand_name('UpdateDescription') updated_group = self.groups_client.update_group( group['id'], name=new_name, description=new_desc)['group'] self.assertEqual(updated_group['name'], new_name) self.assertEqual(updated_group['description'], new_desc) new_group = self.groups_client.show_group(group['id'])['group'] self.assertEqual(group['id'], new_group['id']) self.assertEqual(new_name, new_group['name']) self.assertEqual(new_desc, new_group['description'])",32,23
openstack%2Ftripleo-heat-templates~master~Ifeb2d2d1acb43c16a5bf29e95965776494d61fef,openstack/tripleo-heat-templates,master,Ifeb2d2d1acb43c16a5bf29e95965776494d61fef,Skip templating disabled networks,MERGED,2018-12-26 20:56:25.000000000,2019-01-22 22:27:54.000000000,2019-01-22 22:27:54.000000000,"[{'_account_id': 8833}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-12-26 20:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30145065cc4f2ac65ac928f3d20a8091af52d2dd', 'message': ""WIP - Skip templating disabled networks\n\nIgnore disabled networks when rendering templates.\n\nAdd's the ctlplane network to maps such as net_ip_map\nand net_vip_map_external.\n\nRender the service_net_map to fall back to the ctlplane\nnetwork when networks are disabled (or not defined) in\nnetwork_data.yaml.\n\nCloses-Bug: #1809313\nDepends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a\nChange-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef\n""}, {'number': 2, 'created': '2019-01-02 11:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f69cc250014ec028039bb24e50fa2be6817387d5', 'message': ""WIP - Skip templating disabled networks\n\nIgnore disabled networks when rendering templates.\n\nAdd's the ctlplane network to maps such as net_ip_map\nand net_vip_map_external.\n\nRender the service_net_map to fall back to the ctlplane\nnetwork when networks are disabled (or not defined) in\nnetwork_data.yaml.\n\nCloses-Bug: #1809313\nDepends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a\nChange-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef\n""}, {'number': 3, 'created': '2019-01-02 12:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f631ab072096341bb3322a280301147a18f0a768', 'message': ""WIP - Skip templating disabled networks\n\nIgnore disabled networks when rendering templates.\n\nAdd's the ctlplane network to maps such as net_ip_map\nand net_vip_map_external.\n\nRender the service_net_map to fall back to the ctlplane\nnetwork when networks are disabled (or not defined) in\nnetwork_data.yaml.\n\nCloses-Bug: #1809313\nDepends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a\nChange-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef\n""}, {'number': 4, 'created': '2019-01-02 12:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d92726d4ee0c331134ca2f2c5315bdf85d75b407', 'message': ""WIP - Skip templating disabled networks\n\nIgnore disabled networks when rendering templates.\n\nAdd's the ctlplane network to maps to ensure we don't\nend up with no keys/values in map_replace functions.\n\nAlso some Jinja cleanup:\n - Reduce the number of times we iterate over networks\n   where we can.\n - Add's indentation to make the code easier to read.\n\nCloses-Bug: #1809313\nDepends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a\nChange-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef\n""}, {'number': 5, 'created': '2019-01-03 11:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c05ac341370dc36bfc431a9cdd85febf7252eee0', 'message': ""WIP - Skip templating disabled networks\n\nIgnore disabled networks when rendering templates.\n\nAdd's the ctlplane network to maps to ensure we don't\nend up with no keys/values in map_replace functions.\n\nAlso some Jinja cleanup:\n - Reduce the number of times we iterate over networks\n   where we can.\n - Add's indentation to make the code easier to read.\n\nRelated-Bug: #1809313\nDepends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a\nChange-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef\n""}, {'number': 6, 'created': '2019-01-03 18:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8baef24e5ea7bd7276336650a297204271159cec', 'message': ""WIP - Skip templating disabled networks\n\nIgnore disabled networks when rendering templates.\n\nAdd's the ctlplane network to maps to ensure we don't\nend up with no keys/values in map_replace functions.\n\nAlso some Jinja cleanup:\n - Reduce the number of times we iterate over networks\n   where we can.\n - Add's indentation to make the code easier to read.\n\nRelated-Bug: #1809313\nDepends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a\nChange-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef\n""}, {'number': 7, 'created': '2019-01-03 20:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea6e4c82b403f32e6e84ba2baebd66e359a67b0f', 'message': ""Skip templating disabled networks\n\nIgnore disabled networks when rendering templates.\n\nAdd's the ctlplane network to maps to ensure we don't\nend up with no keys/values in map_replace functions.\n\nAlso some Jinja cleanup:\n - Reduce the number of times we iterate over networks\n   where we can.\n - Add's indentation to make the code easier to read.\n\nRelated-Bug: #1809313\nDepends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a\nChange-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef\n""}, {'number': 8, 'created': '2019-01-04 14:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3bbfe83aa86ecfd9bcca5ca83fe88f55ca0086fb', 'message': ""Skip templating disabled networks\n\nIgnore disabled networks when rendering templates.\n\nAdd's the ctlplane network to maps to ensure we don't\nend up with no keys/values in map_replace functions.\n\nAlso some Jinja cleanup:\n - Reduce the number of times we iterate over networks\n   where we can.\n - Add's indentation to make the code easier to read.\n\nRelated-Bug: #1809313\nDepends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a\nChange-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef\n""}, {'number': 9, 'created': '2019-01-06 17:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92742988d2aa9fa9d716f7fc44d35d12282d2896', 'message': ""Skip templating disabled networks\n\nIgnore disabled networks when rendering templates.\n\nAdd's the ctlplane network to maps to ensure we don't\nend up with no keys/values in map_replace functions.\n\nAlso some Jinja cleanup:\n - Reduce the number of times we iterate over networks\n   where we can.\n - Add's indentation to make the code easier to read.\n\nRelated-Bug: #1809313\nDepends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a\nChange-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef\n""}, {'number': 10, 'created': '2019-01-07 08:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c14fc081125a1604d587760ec74e5a9cb26a5bf', 'message': ""Skip templating disabled networks\n\nIgnore disabled networks when rendering templates.\n\nAdd's the ctlplane network to maps to ensure we don't\nend up with no keys/values in map_replace functions.\n\nAlso some Jinja cleanup:\n - Reduce the number of times we iterate over networks\n   where we can.\n - Add's indentation to make the code easier to read.\n\nRelated-Bug: #1809313\nDepends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a\nChange-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef\n""}, {'number': 11, 'created': '2019-01-09 10:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d09c752294d58698603500c02de0dcb740107ec2', 'message': ""Skip templating disabled networks\n\nIgnore disabled networks when rendering templates.\n\nAdd's the ctlplane network to maps to ensure we don't\nend up with no keys/values in map_replace functions.\n\nAlso some Jinja cleanup:\n - Reduce the number of times we iterate over networks\n   where we can.\n - Add's indentation to make the code easier to read.\n\nRelated-Bug: #1809313\nDepends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a\nChange-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef\n""}, {'number': 12, 'created': '2019-01-11 02:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/997e7f806a680442595631286024c7ef9ddbdf59', 'message': ""Skip templating disabled networks\n\nIgnore disabled networks when rendering templates.\n\nAdd's the ctlplane network to maps to ensure we don't\nend up with no keys/values in map_replace functions.\n\nAlso some Jinja cleanup:\n - Reduce the number of times we iterate over networks\n   where we can.\n - Add's indentation to make the code easier to read.\n\nRelated-Bug: #1809313\nDepends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a\nChange-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef\n""}, {'number': 13, 'created': '2019-01-11 07:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32ee8142d1f0cf604cabdac126e2c79bb5f92c16', 'message': ""Skip templating disabled networks\n\nIgnore disabled networks when rendering templates.\n\nAdd's the ctlplane network to maps to ensure we don't\nend up with no keys/values in map_replace functions.\n\nAlso some Jinja cleanup:\n - Reduce the number of times we iterate over networks\n   where we can.\n - Add's indentation to make the code easier to read.\n\nRelated-Bug: #1809313\nDepends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a\nChange-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef\n""}, {'number': 14, 'created': '2019-01-20 02:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebe446803fd2b06b026231c9c81401d6e1d8f6d3', 'message': ""Skip templating disabled networks\n\nIgnore disabled networks when rendering templates.\n\nAdd's the ctlplane network to maps to ensure we don't\nend up with no keys/values in map_replace functions.\n\nAlso some Jinja cleanup:\n - Reduce the number of times we iterate over networks\n   where we can.\n - Add's indentation to make the code easier to read.\n\nRelated-Bug: #1809313\nDepends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a\nChange-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef\n""}, {'number': 15, 'created': '2019-01-21 18:36:48.000000000', 'files': ['network/ports/net_vip_map_external_v6.j2.yaml', 'network/networks.j2.yaml', 'network/ports/net_vip_map_external.j2.yaml', 'tools/process-templates.py', 'puppet/all-nodes-config.j2.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'puppet/services/apache.j2.yaml', 'network/ports/net_ip_list_map.j2.yaml', 'overcloud.j2.yaml', 'network/service_net_map.j2.yaml', 'network/ports/net_ip_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53027484ae7cb5b34837ff1f0f49243f805eaa32', 'message': ""Skip templating disabled networks\n\nIgnore disabled networks when rendering templates.\n\nAdd's the ctlplane network to maps to ensure we don't\nend up with no keys/values in map_replace functions.\n\nAlso some Jinja cleanup:\n - Reduce the number of times we iterate over networks\n   where we can.\n - Add's indentation to make the code easier to read.\n\nRelated-Bug: #1809313\nDepends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a\nChange-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef\n""}]",2,627420,53027484ae7cb5b34837ff1f0f49243f805eaa32,62,7,15,24245,,,0,"Skip templating disabled networks

Ignore disabled networks when rendering templates.

Add's the ctlplane network to maps to ensure we don't
end up with no keys/values in map_replace functions.

Also some Jinja cleanup:
 - Reduce the number of times we iterate over networks
   where we can.
 - Add's indentation to make the code easier to read.

Related-Bug: #1809313
Depends-On: I2e8135bc9389d3bf1a6ef01e273515af5c488a9a
Change-Id: Ifeb2d2d1acb43c16a5bf29e95965776494d61fef
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/627420/6 && git format-patch -1 --stdout FETCH_HEAD,"['network/networks.j2.yaml', 'network/ports/net_vip_map_external_v6.j2.yaml', 'network/ports/net_vip_map_external.j2.yaml', 'tools/process-templates.py', 'overcloud-resource-registry-puppet.j2.yaml', 'network/ports/net_ip_list_map.j2.yaml', 'overcloud.j2.yaml', 'network/service_net_map.j2.yaml', 'network/ports/net_ip_map.j2.yaml']",9,30145065cc4f2ac65ac928f3d20a8091af52d2dd,1809313,{%- for network in networks if network.enabled|default(true) %}{%- for network in networks if network.enabled|default(true) %} {{network.name_lower}}: {get_param: {{network.name}}Ip} {{network.name_lower}}_subnet: {get_param: {{network.name}}IpSubnet} ctlplane: ctlplane ctlplane_subnet: ctlplane_subnet ctlplane_uri: ctlplane_uri {%- for network in networks if network.enabled|default(true) %},{%- for network in networks %}{%- endfor %} {%- for network in networks %}{%- for network in networks %} {{network.name_lower}}: {get_param: {{network.name}}Ip} {%- endfor %}{%- for network in networks %} {{network.name_lower}}_subnet: {get_param: {{network.name}}IpSubnet} {%- endfor %}{%- for network in networks %}{%- for network in networks %}{%- endfor %} {%- for network in networks %}{%- endfor %} {%- for network in networks %},263,242
openstack%2Fpuppet-ceph~master~I25fde72d444e66c82de54f1ee288c10824ade4bd,openstack/puppet-ceph,master,I25fde72d444e66c82de54f1ee288c10824ade4bd,"Fix the misspelling of ""required""",MERGED,2019-01-16 06:00:31.000000000,2019-01-22 22:25:20.000000000,2019-01-22 22:25:19.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-16 06:00:31.000000000', 'files': ['releasenotes/notes/add-ceph-mgr-support-d2a5e9104021f81a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/e0069da9728ed02c24d4e57f28d04ce67cba8bfa', 'message': 'Fix the misspelling of ""required""\n\nChange-Id: I25fde72d444e66c82de54f1ee288c10824ade4bd\n'}]",0,631140,e0069da9728ed02c24d4e57f28d04ce67cba8bfa,6,2,1,29721,,,0,"Fix the misspelling of ""required""

Change-Id: I25fde72d444e66c82de54f1ee288c10824ade4bd
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/40/631140/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add-ceph-mgr-support-d2a5e9104021f81a.yaml'],1,e0069da9728ed02c24d4e57f28d04ce67cba8bfa,, - Introduced the ability to setup ceph-mgr instances which are required in, - Introduced the ability to setup ceph-mgr instances which are requried in,1,1
openstack%2Ftripleo-heat-templates~master~Iba440d1d829a5c35eb70ea6df75b71587d3ca63b,openstack/tripleo-heat-templates,master,Iba440d1d829a5c35eb70ea6df75b71587d3ca63b,Remove unused params from ci/environments/network/* templates,MERGED,2018-12-12 00:40:50.000000000,2019-01-22 22:04:09.000000000,2019-01-22 22:04:09.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-12-12 00:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/167c6793db8c1f265def883ee0efd2d6885086f1', 'message': 'Remove unused params from ci/environments/network/* templates\n\nSince change I07822ec0cba7eed352c0010eb893b5e5a522e95c removed\nthe noop resources only parameters for networks used by the\nrole is passed to the network config templates.\n\nRemove redundant parameters for networks not used by the roles.\n\nChange-Id: Iba440d1d829a5c35eb70ea6df75b71587d3ca63b\n'}, {'number': 2, 'created': '2018-12-30 19:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce3c0d92e76777a47eb22d8f1c715b55167cf47b', 'message': 'Remove unused params from ci/environments/network/* templates\n\nSince change I07822ec0cba7eed352c0010eb893b5e5a522e95c removed\nthe noop resources only parameters for networks used by the\nrole is passed to the network config templates.\n\nRemove redundant parameters for networks not used by the roles.\n\nChange-Id: Iba440d1d829a5c35eb70ea6df75b71587d3ca63b\n'}, {'number': 3, 'created': '2019-01-09 11:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60b9023237641826dcc66dc53650986bdf1a9e6a', 'message': 'Remove unused params from ci/environments/network/* templates\n\nSince change I07822ec0cba7eed352c0010eb893b5e5a522e95c removed\nthe noop resources only parameters for networks used by the\nrole is passed to the network config templates.\n\nRemove redundant parameters for networks not used by the roles.\n\nChange-Id: Iba440d1d829a5c35eb70ea6df75b71587d3ca63b\n'}, {'number': 4, 'created': '2019-01-12 13:14:44.000000000', 'files': ['ci/environments/network/public-bond/nic-configs/cinder-storage.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/controller.yaml', 'ci/environments/network/multiple-nics/nic-configs/cinder-storage.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/ceph-storage.yaml', 'ci/environments/network/multiple-nics/nic-configs/controller.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/compute.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/cinder-storage.yaml', 'ci/environments/network/multiple-nics/nic-configs/swift-storage.yaml', 'ci/environments/network/public-bond/nic-configs/ceph-storage.yaml', 'ci/environments/network/public-bond/nic-configs/swift-storage.yaml', 'ci/environments/network/multiple-nics/nic-configs/compute.yaml', 'ci/environments/network/multiple-nics/nic-configs/ceph-storage.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/swift-storage.yaml', 'ci/environments/network/public-bond/nic-configs/controller.yaml', 'ci/environments/network/public-bond/nic-configs/compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b6375d692436bef1cd7340b931683fa50577034', 'message': 'Remove unused params from ci/environments/network/* templates\n\nSince change I07822ec0cba7eed352c0010eb893b5e5a522e95c removed\nthe noop resources only parameters for networks used by the\nrole is passed to the network config templates.\n\nRemove redundant parameters for networks not used by the roles.\n\nChange-Id: Iba440d1d829a5c35eb70ea6df75b71587d3ca63b\n'}]",0,624538,0b6375d692436bef1cd7340b931683fa50577034,20,8,4,24245,,,0,"Remove unused params from ci/environments/network/* templates

Since change I07822ec0cba7eed352c0010eb893b5e5a522e95c removed
the noop resources only parameters for networks used by the
role is passed to the network config templates.

Remove redundant parameters for networks not used by the roles.

Change-Id: Iba440d1d829a5c35eb70ea6df75b71587d3ca63b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/624538/4 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/network/public-bond/nic-configs/cinder-storage.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/controller.yaml', 'ci/environments/network/multiple-nics/nic-configs/cinder-storage.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/ceph-storage.yaml', 'ci/environments/network/multiple-nics/nic-configs/controller.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/compute.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/cinder-storage.yaml', 'ci/environments/network/multiple-nics/nic-configs/swift-storage.yaml', 'ci/environments/network/public-bond/nic-configs/ceph-storage.yaml', 'ci/environments/network/public-bond/nic-configs/swift-storage.yaml', 'ci/environments/network/multiple-nics/nic-configs/compute.yaml', 'ci/environments/network/multiple-nics/nic-configs/ceph-storage.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/swift-storage.yaml', 'ci/environments/network/public-bond/nic-configs/controller.yaml', 'ci/environments/network/public-bond/nic-configs/compute.yaml']",15,167c6793db8c1f265def883ee0efd2d6885086f1,ci_environments_network_cleanup,," ExternalIpSubnet: default: '' description: IP address/subnet on the external network type: string ExternalInterfaceRoutes: default: [] description: > Routes for the external network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json StorageMgmtIpSubnet: default: '' description: IP address/subnet on the storage_mgmt network type: string StorageMgmtInterfaceRoutes: default: [] description: > Routes for the storage_mgmt network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json ManagementIpSubnet: # Only populated when including environments/network-management.yaml default: '' description: IP address/subnet on the management network type: string ManagementInterfaceRoutes: default: [] description: > Routes for the management network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json ExternalNetworkVlanID: default: 10 description: Vlan ID for the external network traffic. type: number StorageMgmtNetworkVlanID: default: 40 description: Vlan ID for the storage_mgmt network traffic. type: number ManagementNetworkVlanID: default: 60 description: Vlan ID for the management network traffic. type: number ExternalInterfaceDefaultRoute: default: '10.0.0.1' description: default route for the external network type: string",0,736
openstack%2Fpuppet-tripleo~master~I8115d9835828fbdb0ace9d83230d295e875a080e,openstack/puppet-tripleo,master,I8115d9835828fbdb0ace9d83230d295e875a080e,Modify puppet version 4 to 5,MERGED,2019-01-15 02:13:00.000000000,2019-01-22 22:04:04.000000000,2019-01-22 22:04:04.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-15 02:13:00.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2eacff99f02c886aeea53d04c0c679b372d2a715', 'message': 'Modify puppet version 4 to 5\n\nThe puppet version has been upgraded from 4 to 5 in the main branch.\n\nChange-Id: I8115d9835828fbdb0ace9d83230d295e875a080e\n'}]",0,630858,2eacff99f02c886aeea53d04c0c679b372d2a715,8,4,1,9414,,,0,"Modify puppet version 4 to 5

The puppet version has been upgraded from 4 to 5 in the main branch.

Change-Id: I8115d9835828fbdb0ace9d83230d295e875a080e
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/58/630858/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,2eacff99f02c886aeea53d04c0c679b372d2a715,upgrade-puppet-5," { ""name"": ""puppet"",""version_requirement"": ""5.x"" }"," { ""name"": ""puppet"",""version_requirement"": ""4.x"" }",1,1
openstack%2Ftripleo-common~master~Ic85782a4942eca09f92b4212930881878638fac6,openstack/tripleo-common,master,Ic85782a4942eca09f92b4212930881878638fac6,Fix stack_status YAQL expression for non existent stacks,MERGED,2019-01-22 08:04:49.000000000,2019-01-22 22:04:02.000000000,2019-01-22 22:04:02.000000000,"[{'_account_id': 3153}, {'_account_id': 9712}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-22 08:04:49.000000000', 'files': ['workbooks/stack.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dc0b4dd7d24221c510a8fe6cc757b5257fa65190', 'message': ""Fix stack_status YAQL expression for non existent stacks\n\nWe retry few times in 'wait_for_stack_does_not_exist' workflow.\nHowever, it's possible that the stack has dissapeared by the time\nwe list stacks after the delay.\n\nChange-Id: Ic85782a4942eca09f92b4212930881878638fac6\nCloses-Bug: #1812810\n""}]",0,632283,dc0b4dd7d24221c510a8fe6cc757b5257fa65190,8,5,1,8833,,,0,"Fix stack_status YAQL expression for non existent stacks

We retry few times in 'wait_for_stack_does_not_exist' workflow.
However, it's possible that the stack has dissapeared by the time
we list stacks after the delay.

Change-Id: Ic85782a4942eca09f92b4212930881878638fac6
Closes-Bug: #1812810
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/83/632283/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/stack.yaml'],1,dc0b4dd7d24221c510a8fe6cc757b5257fa65190,bug/1812810, stack_status: <% let(stack => $.stack) -> task().result.stacks.where($.stack_name = $stack).first({}).get(stack_status) %>, stack_status: <% let(stack => $.stack) -> task().result.stacks.where($.stack_name = $stack).first().stack_status %>,1,1
openstack%2Ftripleo-puppet-elements~master~I22e9a2d5e527e6af7cbaa0e7c69fecd4756de476,openstack/tripleo-puppet-elements,master,I22e9a2d5e527e6af7cbaa0e7c69fecd4756de476,[Configuration] Add missing py37 and corrected default envlist.,MERGED,2018-12-27 10:45:16.000000000,2019-01-22 22:04:01.000000000,2019-01-22 22:04:01.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-12-27 10:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/afe1ce49efc7bf763efa77da91fb29ad8608c74e', 'message': '[Configuration] Add missing py37 and corrected default envlist.\n\nAdd py37, py36 and py35.\n\nChange-Id: I22e9a2d5e527e6af7cbaa0e7c69fecd4756de476\n'}, {'number': 2, 'created': '2018-12-27 10:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/c14702e2fbeb7484d01857d12afe7c848ccc7ad7', 'message': '[Configuration] Add missing py37 and corrected default envlist.\n\nAdd py37, py36 and py35.\n\nChange-Id: I22e9a2d5e527e6af7cbaa0e7c69fecd4756de476\n'}, {'number': 3, 'created': '2019-01-08 16:23:46.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/54f7e4bd156fcfd7f065d14b27b120f8d1bac421', 'message': '[Configuration] Add missing py37 and corrected default envlist.\n\nAdd py37, py36 and py35.\n\nChange-Id: I22e9a2d5e527e6af7cbaa0e7c69fecd4756de476\n'}]",0,627510,54f7e4bd156fcfd7f065d14b27b120f8d1bac421,45,7,3,29222,,,0,"[Configuration] Add missing py37 and corrected default envlist.

Add py37, py36 and py35.

Change-Id: I22e9a2d5e527e6af7cbaa0e7c69fecd4756de476
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/10/627510/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'tox.ini']",2,afe1ce49efc7bf763efa77da91fb29ad8608c74e,add_py37_tox,"minversion = 2.0envlist = pep8,py37,py36,py35,py27 python setup.py test --slowest --testr-args='{posargs}'","minversion = 1.6envlist = py27,pep8 python setup.py testr --slowest --testr-args='{posargs}'",4,3
openstack%2Ftripleo-common~stable%2Fqueens~I45c54e6591690625c5160517bbbdfec2eb5e5e26,openstack/tripleo-common,stable/queens,I45c54e6591690625c5160517bbbdfec2eb5e5e26,Set heatclient exceptions to verbose,MERGED,2019-01-21 14:49:43.000000000,2019-01-22 22:04:00.000000000,2019-01-22 22:04:00.000000000,"[{'_account_id': 7385}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-21 14:49:43.000000000', 'files': ['tripleo_common/tests/actions/test_deployment.py', 'tripleo_common/actions/__init__.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/85722e0410094de1a8053ad95e36faf304d081c2', 'message': 'Set heatclient exceptions to verbose\n\nBy setting the verbose flag on the heatclient exception module, we allow\nthe traceback to be included in the error message, which in turns is\nreturned to tripleoclient for the user.\n\nChange-Id: I45c54e6591690625c5160517bbbdfec2eb5e5e26\nCloses-Bug: #1804268\n(cherry picked from commit e22f143cecd02620cbf9efe93f946bbf4c894386)\n'}]",0,632104,85722e0410094de1a8053ad95e36faf304d081c2,8,5,1,3153,,,0,"Set heatclient exceptions to verbose

By setting the verbose flag on the heatclient exception module, we allow
the traceback to be included in the error message, which in turns is
returned to tripleoclient for the user.

Change-Id: I45c54e6591690625c5160517bbbdfec2eb5e5e26
Closes-Bug: #1804268
(cherry picked from commit e22f143cecd02620cbf9efe93f946bbf4c894386)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/04/632104/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/actions/test_deployment.py', 'tripleo_common/actions/__init__.py']",2,85722e0410094de1a8053ad95e36faf304d081c2,bug/1804268-stable/queens,from heatclient import exc as heat_exc # Setup Heat to give us tracebacks on errors. heat_exc.verbose = 1 ,,6,2
openstack%2Ftripleo-upgrade~stable%2Frocky~I901f90174ed974efd90c99e43a378150a1c5e7f8,openstack/tripleo-upgrade,stable/rocky,I901f90174ed974efd90c99e43a378150a1c5e7f8,Fix condition for setting workload_memory fact.,MERGED,2018-12-17 12:59:14.000000000,2019-01-22 22:04:00.000000000,2019-01-22 22:03:59.000000000,"[{'_account_id': 3153}, {'_account_id': 11166}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-12-17 12:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c6c622ce4316c3f00c1ece999b64f1f4e0d9a319', 'message': ""Fix condition for setting workload_memory fact.\n\nworkload_memory has default set so no need for extra condition.\nOption 'workload_launch_post_composable_upgrade' in not valid\nstarting from Q hence no need to keep it.\n\nChange-Id: I901f90174ed974efd90c99e43a378150a1c5e7f8\n(cherry picked from commit 82b0ad633d429f342e77e3d940e76933fa7b9193)\n""}, {'number': 2, 'created': '2018-12-24 12:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/eb98d185b050b54631ac2629a4fcb631f392385b', 'message': ""Fix condition for setting workload_memory fact.\n\nworkload_memory has default set so no need for extra condition.\nOption 'workload_launch_post_composable_upgrade' in not valid\nstarting from Q hence no need to keep it.\n\nChange-Id: I901f90174ed974efd90c99e43a378150a1c5e7f8\n(cherry picked from commit 82b0ad633d429f342e77e3d940e76933fa7b9193)\n""}, {'number': 3, 'created': '2019-01-17 10:24:56.000000000', 'files': ['infrared_plugin/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a6d3936de4fd74d458af4e9853ec9ef9253d3ce8', 'message': ""Fix condition for setting workload_memory fact.\n\nworkload_memory has default set so no need for extra condition.\nOption 'workload_launch_post_composable_upgrade' in not valid\nstarting from Q hence no need to keep it.\n\nChange-Id: I901f90174ed974efd90c99e43a378150a1c5e7f8\n(cherry picked from commit 82b0ad633d429f342e77e3d940e76933fa7b9193)\n""}]",0,625585,a6d3936de4fd74d458af4e9853ec9ef9253d3ce8,20,6,3,21537,,,0,"Fix condition for setting workload_memory fact.

workload_memory has default set so no need for extra condition.
Option 'workload_launch_post_composable_upgrade' in not valid
starting from Q hence no need to keep it.

Change-Id: I901f90174ed974efd90c99e43a378150a1c5e7f8
(cherry picked from commit 82b0ad633d429f342e77e3d940e76933fa7b9193)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/85/625585/1 && git format-patch -1 --stdout FETCH_HEAD,"['infrared_plugin/main.yml', 'defaults/main.yml']",2,c6c622ce4316c3f00c1ece999b64f1f4e0d9a319,fix-option-name-stable/rocky,,workload_launch_post_composable_upgrade: false,0,7
openstack%2Fpython-tripleoclient~stable%2Frocky~Iec51bf33bdca7fb0d3026512abd9360ef3cecb70,openstack/python-tripleoclient,stable/rocky,Iec51bf33bdca7fb0d3026512abd9360ef3cecb70,Use --preserve-env to keep proxy settings,MERGED,2019-01-21 14:38:14.000000000,2019-01-22 21:47:02.000000000,2019-01-22 21:47:02.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-21 14:38:14.000000000', 'files': ['tripleoclient/tests/v1/undercloud/test_undercloud.py', 'tripleoclient/v1/undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/45ba219e81aec0bf7259c53b283f6776ae179252', 'message': ""Use --preserve-env to keep proxy settings\n\nUser may set http_proxy/no_proxy and then run the install.\nWe don't preserve the env when doing undercloud install.\n\nChange-Id: Iec51bf33bdca7fb0d3026512abd9360ef3cecb70\nCloses-Bug: #1811376\n(cherry picked from commit 0e5a10e2972fec3ee0ba02aac5bc468bb3696055)\n""}]",0,632102,45ba219e81aec0bf7259c53b283f6776ae179252,9,4,1,8833,,,0,"Use --preserve-env to keep proxy settings

User may set http_proxy/no_proxy and then run the install.
We don't preserve the env when doing undercloud install.

Change-Id: Iec51bf33bdca7fb0d3026512abd9360ef3cecb70
Closes-Bug: #1811376
(cherry picked from commit 0e5a10e2972fec3ee0ba02aac5bc468bb3696055)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/02/632102/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/undercloud/test_undercloud.py', 'tripleoclient/v1/undercloud_config.py']",2,45ba219e81aec0bf7259c53b283f6776ae179252,bug/1811376," cmd = [""sudo"", ""--preserve-env"", ""openstack"", ""tripleo"", ""deploy"", ""--standalone"", ""--standalone-role"", ""Undercloud"", ""--stack"", ""undercloud""]"," cmd = [""sudo"", ""openstack"", ""tripleo"", ""deploy"", ""--standalone"", ""--standalone-role"", ""Undercloud"", ""--stack"", ""undercloud""]",36,35
openstack%2Freleases~master~I410ea0b6e1d052b792728f85fcf12207c38d7b8b,openstack/releases,master,I410ea0b6e1d052b792728f85fcf12207c38d7b8b,Import release history for heat-cfntools,MERGED,2019-01-17 15:13:56.000000000,2019-01-22 21:44:21.000000000,2019-01-22 21:44:21.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-01-17 15:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/414040ad301d825715665f7c7046c859d89f0fc7', 'message': 'Import release history for heat-cfntools\n\nheat-cfntools has not been released recently, but still expects\na release soon. Import release history so that it starts showing\non our trackers.\n\nChange-Id: I410ea0b6e1d052b792728f85fcf12207c38d7b8b\n'}, {'number': 2, 'created': '2019-01-18 09:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a1b977b78833f461d2a1b29bd8b3da1418f9a723', 'message': 'Import release history for heat-cfntools\n\nheat-cfntools has not been released recently, but still expects\na release soon. Import release history so that it starts showing\non our trackers.\n\nChange-Id: I410ea0b6e1d052b792728f85fcf12207c38d7b8b\n'}, {'number': 3, 'created': '2019-01-18 15:33:51.000000000', 'files': ['deliverables/_independent/heat-cfntools.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/df06f6867213a82fa0b2c88059f86ba88fa4ac0c', 'message': 'Import release history for heat-cfntools\n\nheat-cfntools has not been released recently, but still expects\na release soon. Import release history so that it starts showing\non our trackers.\n\nChange-Id: I410ea0b6e1d052b792728f85fcf12207c38d7b8b\n'}]",2,631529,df06f6867213a82fa0b2c88059f86ba88fa4ac0c,14,3,3,308,,,0,"Import release history for heat-cfntools

heat-cfntools has not been released recently, but still expects
a release soon. Import release history so that it starts showing
on our trackers.

Change-Id: I410ea0b6e1d052b792728f85fcf12207c38d7b8b
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/631529/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/heat-cfntools.yaml'],1,414040ad301d825715665f7c7046c859d89f0fc7,heat-relmgt,--- launchpad: heat team: heat release-type: library releases: - version: 1.2.1 projects: - repo: openstack/heat-cfntools hash: 1cbd58fc00974033fad96c8da2adf3959fd8a1ea - version: 1.2.2 projects: - repo: openstack/heat-cfntools hash: 97f016304e397dee7fa2ca10c5b37f72d799f078 - version: 1.2.3 projects: - repo: openstack/heat-cfntools hash: dfd24046c8d1cccd22b3095009d8fc4e23a1a4f0 - version: 1.2.4 projects: - repo: openstack/heat-cfntools hash: 026146ae4e76f1884681278ec6db336f972e7219 - version: 1.2.5 projects: - repo: openstack/heat-cfntools hash: 01705b8b33ce944276e85969e769fa293c8689e3 - version: 1.2.6 projects: - repo: openstack/heat-cfntools hash: e8d2522397ea6b4384607017c9cafb6f3130f5a2 - version: 1.2.7 projects: - repo: openstack/heat-cfntools hash: cd39c89a80eed1bbb2515cca5b088ca686daab3e - version: 1.2.8 projects: - repo: openstack/heat-cfntools hash: 8ef88a6e864fa49cdc6dda9b1c701a29e0557253 - version: 1.3.0 projects: - repo: openstack/heat-cfntools hash: 02acffbe2a271118f17639035b40c1a92848686f - version: 1.4.0 projects: - repo: openstack/heat-cfntools hash: e424af2236ed1d6e6d0e11768f873ffe4e696221 - version: 1.4.1 projects: - repo: openstack/heat-cfntools hash: 5d5a2c1f221002586212299e3ba8799759d36af6 - version: 1.4.2 projects: - repo: openstack/heat-cfntools hash: 43c79ad94ca9c564c406b772819fa3adf145c0dd repository-settings: openstack/heat-cfntools: {} ,,55,0
openstack%2Freleases~master~I40f2391fed19e3bdfb64e5a9e963efd9f1cd8c42,openstack/releases,master,I40f2391fed19e3bdfb64e5a9e963efd9f1cd8c42,release ec2api-tempest-plugin version 0.2.0,MERGED,2019-01-22 13:12:10.000000000,2019-01-22 21:42:42.000000000,2019-01-22 21:42:42.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 13:12:10.000000000', 'files': ['deliverables/stein/ec2api-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/eb36491ebfcf825be9e76b50f83efdf58bf0dbeb', 'message': 'release ec2api-tempest-plugin version 0.2.0\n\nChange-Id: I40f2391fed19e3bdfb64e5a9e963efd9f1cd8c42\n'}]",0,632461,eb36491ebfcf825be9e76b50f83efdf58bf0dbeb,6,2,1,10234,,,0,"release ec2api-tempest-plugin version 0.2.0

Change-Id: I40f2391fed19e3bdfb64e5a9e963efd9f1cd8c42
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/632461/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/ec2api-tempest-plugin.yaml'],1,eb36491ebfcf825be9e76b50f83efdf58bf0dbeb,master-gerrit,releases: - projects: - hash: 2757fdac7355e9bd355b0e472ed928d7b88b933e repo: openstack/ec2api-tempest-plugin version: 0.2.0,,5,0
openstack%2Ftripleo-common~stable%2Frocky~I45c54e6591690625c5160517bbbdfec2eb5e5e26,openstack/tripleo-common,stable/rocky,I45c54e6591690625c5160517bbbdfec2eb5e5e26,Set heatclient exceptions to verbose,MERGED,2019-01-21 14:49:32.000000000,2019-01-22 21:31:38.000000000,2019-01-22 21:31:38.000000000,"[{'_account_id': 7385}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-21 14:49:32.000000000', 'files': ['tripleo_common/tests/actions/test_deployment.py', 'tripleo_common/actions/__init__.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/985cb0ffd47af85df1e16728b5732c1dfb99a32c', 'message': 'Set heatclient exceptions to verbose\n\nBy setting the verbose flag on the heatclient exception module, we allow\nthe traceback to be included in the error message, which in turns is\nreturned to tripleoclient for the user.\n\nChange-Id: I45c54e6591690625c5160517bbbdfec2eb5e5e26\nCloses-Bug: #1804268\n(cherry picked from commit e22f143cecd02620cbf9efe93f946bbf4c894386)\n'}]",0,632103,985cb0ffd47af85df1e16728b5732c1dfb99a32c,8,5,1,3153,,,0,"Set heatclient exceptions to verbose

By setting the verbose flag on the heatclient exception module, we allow
the traceback to be included in the error message, which in turns is
returned to tripleoclient for the user.

Change-Id: I45c54e6591690625c5160517bbbdfec2eb5e5e26
Closes-Bug: #1804268
(cherry picked from commit e22f143cecd02620cbf9efe93f946bbf4c894386)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/632103/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/actions/test_deployment.py', 'tripleo_common/actions/__init__.py']",2,985cb0ffd47af85df1e16728b5732c1dfb99a32c,bug/1804268-stable/rocky,from heatclient import exc as heat_exc # Setup Heat to give us tracebacks on errors. heat_exc.verbose = 1 ,,6,2
openstack%2Ftripleo-heat-templates~stable%2Frocky~I0eedca7d53f7d3801f163ab9dd901bfb8651dd2c,openstack/tripleo-heat-templates,stable/rocky,I0eedca7d53f7d3801f163ab9dd901bfb8651dd2c,Remove gluster settings from previous deployments on re-deploy,MERGED,2019-01-22 06:40:01.000000000,2019-01-22 21:31:37.000000000,2019-01-22 21:31:37.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-22 06:40:01.000000000', 'files': ['extraconfig/services/openshift-master.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de03b1ca142d6715f7b8765276adb9f432e84323', 'message': 'Remove gluster settings from previous deployments on re-deploy\n\nThe openshift/global_gluster_vars.yml file was not removed on re-deploy\nand caused issue when reploying openshift without CNS after deploying\nopenshift a first time with CNS.\n\nChange-Id: I0eedca7d53f7d3801f163ab9dd901bfb8651dd2c\nCloses-Bug: #1811664\n(cherry picked from commit dfe4f2ddb0925e0174070c76b92183239b40d259)\n'}]",0,632243,de03b1ca142d6715f7b8765276adb9f432e84323,7,3,1,13039,,,0,"Remove gluster settings from previous deployments on re-deploy

The openshift/global_gluster_vars.yml file was not removed on re-deploy
and caused issue when reploying openshift without CNS after deploying
openshift a first time with CNS.

Change-Id: I0eedca7d53f7d3801f163ab9dd901bfb8651dd2c
Closes-Bug: #1811664
(cherry picked from commit dfe4f2ddb0925e0174070c76b92183239b40d259)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/632243/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/openshift-master.yaml'],1,de03b1ca142d6715f7b8765276adb9f432e84323,bug/1811664-stable/rocky," - name: remove global_gluster_vars file: path: ""{{playbook_dir}}/openshift/global_gluster_vars.yml"" state: absent",,4,0
openstack%2Freleases~master~I932d92ae2c6e20c80952db2bbb5baf3674b2cd49,openstack/releases,master,I932d92ae2c6e20c80952db2bbb5baf3674b2cd49,Release os-service-types 0.5.0,MERGED,2019-01-22 20:02:37.000000000,2019-01-22 21:29:01.000000000,2019-01-22 21:29:01.000000000,"[{'_account_id': 2}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 20:02:37.000000000', 'files': ['deliverables/_independent/os-service-types.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/22a11063978d0f34e80084a4bc55eed09a082c0c', 'message': 'Release os-service-types 0.5.0\n\n...to pick up the cyborg project added via [1] (sta) and [2] (ost).\n\n[1] https://review.openstack.org/631718\n[2] https://review.openstack.org/631850\n\nChange-Id: I932d92ae2c6e20c80952db2bbb5baf3674b2cd49\n'}]",0,632543,22a11063978d0f34e80084a4bc55eed09a082c0c,7,3,1,14070,,,0,"Release os-service-types 0.5.0

...to pick up the cyborg project added via [1] (sta) and [2] (ost).

[1] https://review.openstack.org/631718
[2] https://review.openstack.org/631850

Change-Id: I932d92ae2c6e20c80952db2bbb5baf3674b2cd49
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/632543/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/os-service-types.yaml'],1,22a11063978d0f34e80084a4bc55eed09a082c0c,os-service-types_1.5.0, - version: 1.5.0 projects: - repo: openstack/os-service-types hash: 4170f2e584cc6e1669f204d8dcb32479ca9b7e00,,4,0
openstack%2Fpython-manilaclient~stable%2Frocky~I4df0afdb9188043150fc505d55fd26a1bcb4654e,openstack/python-manilaclient,stable/rocky,I4df0afdb9188043150fc505d55fd26a1bcb4654e,Return is_default as a value instead of a function object,MERGED,2019-01-10 20:52:21.000000000,2019-01-22 21:11:24.000000000,2019-01-22 21:11:24.000000000,"[{'_account_id': 7102}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29717}]","[{'number': 1, 'created': '2019-01-10 20:52:21.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'releasenotes/notes/bug-1802059-fix-is_default-a8d3d95ffa0aede9.yaml', 'manilaclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a61f36cafe3f7d9bf188f7e12b426fdba29bb927', 'message': 'Return is_default as a value instead of a function object\n\nCloses-Bug: #1802059\n\nChange-Id: I4df0afdb9188043150fc505d55fd26a1bcb4654e\n(cherry picked from commit 53da67c4190a1a14069173c3f795d7c05cb176f5)\n'}]",0,629932,a61f36cafe3f7d9bf188f7e12b426fdba29bb927,11,5,1,16643,,,0,"Return is_default as a value instead of a function object

Closes-Bug: #1802059

Change-Id: I4df0afdb9188043150fc505d55fd26a1bcb4654e
(cherry picked from commit 53da67c4190a1a14069173c3f795d7c05cb176f5)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/32/629932/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/v2/test_shell.py', 'releasenotes/notes/bug-1802059-fix-is_default-a8d3d95ffa0aede9.yaml', 'manilaclient/v2/shell.py']",3,a61f36cafe3f7d9bf188f7e12b426fdba29bb927,bug/1802059-stable/rocky, 'is_default': _is_default(share_group_type), 'is_default': _is_default,5,2
openstack%2Fpbr~master~Ie8eca8c19e955d52722feaa71d5843ccd74b0da0,openstack/pbr,master,Ie8eca8c19e955d52722feaa71d5843ccd74b0da0,Ignore --find-links in requirements file,MERGED,2018-08-28 21:42:00.000000000,2019-01-22 21:04:45.000000000,2019-01-22 21:04:45.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2018-08-28 21:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/f61c8801a5d957ee93d77b5ac57271f798869e29', 'message': ""Ignore --find-links in requirements file\n\nWe already skip things like --index-url, but --find-links can also\nbe present and also shouldn't be included in install_requires.\n\nThis also fixes some issues with the existing unit test for this\nfiltering.\n\nChange-Id: Ie8eca8c19e955d52722feaa71d5843ccd74b0da0\nCloses-Bug: 1716808\n""}, {'number': 2, 'created': '2018-12-10 21:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/25258856d029cad8d1d135430791ca5b9f97eb18', 'message': ""Ignore --find-links in requirements file\n\nWe already skip things like --index-url, but --find-links can also\nbe present and also shouldn't be included in install_requires.\n\nThis also fixes some issues with the existing unit test for this\nfiltering.\n\nChange-Id: Ie8eca8c19e955d52722feaa71d5843ccd74b0da0\nCloses-Bug: 1716808\n""}, {'number': 3, 'created': '2018-12-10 21:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/61deeda629fb3f9dbc6538edcd73a749d2daf5ec', 'message': ""Ignore --find-links in requirements file\n\nWe already skip things like --index-url, but --find-links can also\nbe present and also shouldn't be included in install_requires.\n\nThis also fixes some issues with the existing unit test for this\nfiltering.\n\nChange-Id: Ie8eca8c19e955d52722feaa71d5843ccd74b0da0\nCloses-Bug: 1716808\n""}, {'number': 4, 'created': '2019-01-22 17:19:27.000000000', 'files': ['pbr/packaging.py', 'pbr/tests/test_packaging.py', 'releasenotes/notes/ignore-find-links-07cf54f465aa33a6.yaml'], 'web_link': 'https://opendev.org/openstack/pbr/commit/bc4193b183bb58c56cb3b46c04b763aebba09c54', 'message': ""Ignore --find-links in requirements file\n\nWe already skip things like --index-url, but --find-links can also\nbe present and also shouldn't be included in install_requires.\n\nThis also fixes some issues with the existing unit test for this\nfiltering.\n\nChange-Id: Ie8eca8c19e955d52722feaa71d5843ccd74b0da0\nCloses-Bug: 1716808\n""}]",2,597290,bc4193b183bb58c56cb3b46c04b763aebba09c54,24,6,4,6928,,,0,"Ignore --find-links in requirements file

We already skip things like --index-url, but --find-links can also
be present and also shouldn't be included in install_requires.

This also fixes some issues with the existing unit test for this
filtering.

Change-Id: Ie8eca8c19e955d52722feaa71d5843ccd74b0da0
Closes-Bug: 1716808
",git fetch https://review.opendev.org/openstack/pbr refs/changes/90/597290/3 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/packaging.py', 'pbr/tests/test_packaging.py']",2,f61c8801a5d957ee93d77b5ac57271f798869e29,bug/1716808," f.write('-i https://myindex.local\n') f.write(' --index-url https://myindex.local\n') f.write(' --extra-index-url https://myindex.local\n') f.write('--find-links https://myindex.local\n') f.write('arequirement>=1.0\n') self.assertEqual(['arequirement>=1.0'], result)"," f.write('-i https://myindex.local') f.write(' --index-url https://myindex.local') f.write(' --extra-index-url https://myindex.local') self.assertEqual([], result)",8,5
openstack%2Ftripleo-common~master~I7c7aeb83691865d37ebed4d6cad7524339fdb799,openstack/tripleo-common,master,I7c7aeb83691865d37ebed4d6cad7524339fdb799,nova-less-deploy: deploy_instances and undeploy_instances workflows,MERGED,2018-06-20 13:31:11.000000000,2019-01-22 20:57:22.000000000,2019-01-22 20:57:21.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 9712}, {'_account_id': 10239}, {'_account_id': 10873}, {'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24245}, {'_account_id': 26340}]","[{'number': 1, 'created': '2018-06-20 13:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8d798c00aa58b1c98edbccba406efd2fd02dc35f', 'message': '[WIP] Support provisioning bare metals without Nova\n\nThis is early WIP, nothing to review yet.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 2, 'created': '2018-06-20 15:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ae4a424aff322b7443db5930a04263912f905064', 'message': '[WIP] Support provisioning bare metals without Nova\n\nThis is early WIP, nothing to review yet.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 3, 'created': '2018-07-18 12:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9d9cb9392ae13a35c07a55d97ad30ec3c124cc1b', 'message': '[WIP] Support provisioning bare metals without Nova\n\nThis is early WIP, nothing to review yet.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 4, 'created': '2018-07-25 10:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9cc86cde5dcca7e55192cdf9c2e5aaab58a367be', 'message': '[WIP] Actions for provisioning bare metals without Nova\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 5, 'created': '2018-07-25 14:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0f9deb88136073870fd799f6604ea5c1347f7966', 'message': '[WIP] Actions for provisioning bare metals without Nova\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 6, 'created': '2018-07-25 14:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/efa240e7562cf06a6498879fe48484d1112445f0', 'message': '[WIP] Actions for provisioning bare metals without Nova\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 7, 'created': '2018-07-25 16:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6ff9004d2edc0ea0c2c49a254d073c78b07a14ef', 'message': '[WIP] Actions for provisioning bare metals without Nova\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 8, 'created': '2018-07-25 16:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1b5ca0266e8f00f069f0809e5df7d3b96bbc5a23', 'message': '[WIP] Actions for provisioning bare metals without Nova\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 9, 'created': '2018-07-26 08:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fd668f49304529e13a0bff78e7d568c4ab8d4e31', 'message': '[WIP] Actions for provisioning bare metals without Nova\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 10, 'created': '2018-07-26 15:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0b96b2c876179c20e3a8ab6ef9f289308de9912e', 'message': '[WIP] Workflow for provisioning bare metals without Nova\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 11, 'created': '2018-07-26 15:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/468f42a9be192da62c2593ed4d7f7c56089c9346', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nThe SSH key to access the node is derived from the existing validations\nSSH key actions.\n\nThis is the first step towards supporting deployment without Nova.\nThe next step will be collecting the required information from\nthe Heat stack and feeding it into this workflow between creating\nthe stack and calling config-download.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 12, 'created': '2018-08-02 13:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a37a91ade523bf711c3300d2b76c70b23ff8c136', 'message': '[WIP] Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nThe SSH key to access the node is derived from the existing validations\nSSH key actions.\n\nThis is the first step towards supporting deployment without Nova.\nThe next step will be collecting the required information from\nthe Heat stack and feeding it into this workflow between creating\nthe stack and calling config-download.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 13, 'created': '2018-08-02 14:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b6b62d61f83426bcd55076f686a968a1e3b2eff9', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nThe SSH key to access the node is derived from the existing validations\nSSH key actions.\n\nThis is the first step towards supporting deployment without Nova.\nThe next step will be collecting the required information from\nthe Heat stack and feeding it into this workflow between creating\nthe stack and calling config-download.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 14, 'created': '2018-08-02 15:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/984c827d68e9b3d197b363d9f25f2e7ce06502cf', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nThe SSH key to access the node is derived from the existing validations\nSSH key actions.\n\nThis is the first step towards supporting deployment without Nova.\nThe next step will be collecting the required information from\nthe Heat stack and feeding it into this workflow between creating\nthe stack and calling config-download.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 15, 'created': '2018-08-03 09:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d2f1f430359bf4cd690773c2caaa68c6ee505f06', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nThe SSH key to access the node is derived from the existing validations\nSSH key actions.\n\nThis is the first step towards supporting deployment without Nova.\nThe next step will be collecting the required information from\nthe Heat stack and feeding it into this workflow between creating\nthe stack and calling config-download.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 16, 'created': '2018-08-03 09:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/544acd4da9eb60629e39553facde34cddec77bfe', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nThe SSH key to access the node is derived from the existing validations\nSSH key actions.\n\nThis is the first step towards supporting deployment without Nova.\nThe next step will be collecting the required information from\nthe Heat stack and feeding it into this workflow between creating\nthe stack and calling config-download.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 17, 'created': '2018-08-03 11:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c8c4554474f7b5c492992ae428e20c27201e33d7', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nThe SSH key to access the node is derived from the existing validations\nSSH key actions.\n\nThis is the first step towards supporting deployment without Nova.\nThe next step will be collecting the required information from\nthe Heat stack and feeding it into this workflow between creating\nthe stack and calling config-download.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nDepends-On: https://review.rdoproject.org/r/15163\nImplements: blueprint nova-less-deploy\n'}, {'number': 18, 'created': '2018-08-03 20:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5df79941f879f89095b4fdef2b2d85b642744f82', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nThe SSH key to access the node is derived from the existing validations\nSSH key actions. A simple workflow to unprovision nodes is included as well.\n\nThis is the first step towards supporting deployment without Nova.\nThe next step will be collecting the required information from\nthe Heat stack and feeding it into this workflow between creating\nthe stack and calling config-download.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nDepends-On: https://review.rdoproject.org/r/15163\nImplements: blueprint nova-less-deploy\n'}, {'number': 19, 'created': '2018-08-09 10:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/af98a44df4e246a0b7063ed3ededcb658c5a3f2b', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nThe SSH key to access the node is derived from the existing validations\nSSH key actions. A simple workflow to unprovision nodes is included as well.\n\nThis is the first step towards supporting deployment without Nova.\nThe next step will be collecting the required information from\nthe Heat stack and feeding it into this workflow between creating\nthe stack and calling config-download.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nDepends-On: https://review.rdoproject.org/r/15163\nImplements: blueprint nova-less-deploy\n'}, {'number': 20, 'created': '2018-08-30 09:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/84706bb47ed4f72546497d9a3655711c078b74e3', 'message': '[WIP] Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nThe SSH key to access the node is derived from the existing validations\nSSH key actions. A simple workflow to unprovision nodes is included as well.\n\nThis is the first step towards supporting deployment without Nova.\nThe next step will be collecting the required information from\nthe Heat stack and feeding it into this workflow between creating\nthe stack and calling config-download.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 21, 'created': '2018-08-30 14:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3887baea616c0d63f9ca67818f29acbbad1b9638', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nThe SSH key to access the node is derived from the existing validations\nSSH key actions. A simple workflow to unprovision nodes is included as well.\n\nThis is the first step towards supporting deployment without Nova.\nThe next step will be collecting the required information from\nthe Heat stack and feeding it into this workflow between creating\nthe stack and calling config-download.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 22, 'created': '2018-08-31 14:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/18335a081c38ac6feae341b654a08611d5617ba1', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nThe SSH key to access the node is derived from the existing validations\nSSH key actions. A simple workflow to unprovision nodes is included as well.\n\nThis is the first step towards supporting deployment without Nova.\nThe next step will be collecting the required information from\nthe Heat stack and feeding it into this workflow between creating\nthe stack and calling config-download.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 23, 'created': '2018-09-18 12:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/750eb5c402f2a9129e922288ed206a0f47bf795a', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nThe SSH key to access the node is derived from the existing validations\nSSH key actions. A simple workflow to unprovision nodes is included as well.\n\nThis is the first step towards supporting deployment without Nova.\nThe next step will be collecting the required information from\nthe Heat stack and feeding it into this workflow between creating\nthe stack and calling config-download.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 24, 'created': '2018-09-20 12:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/01d5e7cf769453813f7e6c6efe2e97ee086be7eb', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nThe SSH key to access the node is derived from the existing validations\nSSH key actions. A simple workflow to unprovision nodes is included as well.\n\nThis is the first step towards supporting deployment without Nova.\nThe next step will be collecting the required information from\nthe Heat stack and feeding it into this workflow between creating\nthe stack and calling config-download.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 25, 'created': '2018-09-20 14:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/36ab89a01ea01213bbb591ea5c4a4e01dd938125', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nThe SSH key to access the node is derived from the existing validations\nSSH key actions. A simple workflow to unprovision nodes is included as well.\n\nThis is the first step towards supporting deployment without Nova.\nThe next step will be collecting the required information from\nthe Heat stack and feeding it into this workflow between creating\nthe stack and calling config-download.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 26, 'created': '2018-09-24 08:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/127b2fec46da9cf61ed7cae902d7fc27eeec2178', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nA simple workflow to unprovision nodes is included as well.\n\nThis is the first step towards supporting deployment without Nova.\nThe current plan is for this workflow to be called from a higher level\nworkflow, which, in turn, will be driven by CLI/GUI. Then, the regular\ndeployed-server workflow will be used for software deployment.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 27, 'created': '2019-01-10 14:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/154e160db8550cd590bd767140cc8b532becb9b7', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nA simple workflow to unprovision nodes is included as well.\n\nThis is the first step towards supporting deployment without Nova.\nThe current plan is for this workflow to be called from a higher level\nworkflow, which, in turn, will be driven by CLI/GUI. Then, the regular\ndeployed-server workflow will be used for software deployment.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 28, 'created': '2019-01-15 12:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d592f49879005c57f0e24f38b5aeb2453de60514', 'message': 'Workflow for provisioning bare metals without Nova\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nA simple workflow to unprovision nodes is included as well.\n\nThis is the first step towards supporting deployment without Nova.\nThe current plan is for this workflow to be called from a higher level\nworkflow, which, in turn, will be driven by CLI/GUI. Then, the regular\ndeployed-server workflow will be used for software deployment.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 29, 'created': '2019-01-15 14:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dc2acf02691e6c7bf6731d68354c1e109ba67312', 'message': 'nova-less-deploy: deploy_instances and undeploy_instances workflows\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nA simple workflow to unprovision nodes is included as well.\n\nThis is the first step towards supporting deployment without Nova.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 30, 'created': '2019-01-15 17:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/88f4f54ea60a95681ded0ae01dab2f861e08ec50', 'message': 'nova-less-deploy: deploy_instances and undeploy_instances workflows\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nA simple workflow to unprovision nodes is included as well.\n\nThis is the first step towards supporting deployment without Nova.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}, {'number': 31, 'created': '2019-01-16 11:42:01.000000000', 'files': ['tripleo_common/actions/baremetal_deploy.py', 'requirements.txt', 'workbooks/baremetal_deploy.yaml', 'tripleo_common/tests/actions/test_baremetal_deploy.py', 'setup.cfg', 'tripleo_common/utils/keystone.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1ca666b2df5c9667fafdbac0a6abbfb6e89b4fff', 'message': 'nova-less-deploy: deploy_instances and undeploy_instances workflows\n\nThis change adds a workflow to provision bare metal machines using\nIronic API without Nova (through the metalsmith library for convenience).\nA simple workflow to unprovision nodes is included as well.\n\nThis is the first step towards supporting deployment without Nova.\n\nChange-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799\nImplements: blueprint nova-less-deploy\n'}]",35,576856,1ca666b2df5c9667fafdbac0a6abbfb6e89b4fff,131,15,31,10239,,,0,"nova-less-deploy: deploy_instances and undeploy_instances workflows

This change adds a workflow to provision bare metal machines using
Ironic API without Nova (through the metalsmith library for convenience).
A simple workflow to unprovision nodes is included as well.

This is the first step towards supporting deployment without Nova.

Change-Id: I7c7aeb83691865d37ebed4d6cad7524339fdb799
Implements: blueprint nova-less-deploy
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/56/576856/14 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tripleo_common/actions/deployment.py', 'container-images/tripleo_kolla_template_overrides.j2', 'setup.cfg']",4,8d798c00aa58b1c98edbccba406efd2fd02dc35f,bp/nova-less-deploy, tripleo.deployment.baremetal_deploy = tripleo_common.actions.deployment:BaremetalDeploymentAction,,43,1
openstack%2Ftripleo-common~master~I33fafe07326dcff4e4abb856a219d57a4c9699a1,openstack/tripleo-common,master,I33fafe07326dcff4e4abb856a219d57a4c9699a1,Prevent upgrading to incompatible mechanism driver,MERGED,2018-12-14 20:24:34.000000000,2019-01-22 20:57:06.000000000,2019-01-22 20:57:06.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 24245}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-12-14 20:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/442cb70570feb80acbcf55cc94e7781fd0aa6011', 'message': 'WIP: prevent upgrading to incompatible mechanism driver\n\nPrevent upgrading a stack to a version of tripleo templates or\nenvironment that specifies neutron mechanism drivers that are\nincompatible with the existing stack.\n\nChange-Id: I33fafe07326dcff4e4abb856a219d57a4c9699a1\n'}, {'number': 2, 'created': '2018-12-19 10:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/93cb7203c9792d126d84312e1f270ed2245bd9d0', 'message': 'WIP: prevent upgrading to incompatible mechanism driver\n\nPrevent upgrading a stack to a version of tripleo templates or\nenvironment that specifies neutron mechanism drivers that are\nincompatible with the existing stack.\n\nChange-Id: I33fafe07326dcff4e4abb856a219d57a4c9699a1\n'}, {'number': 3, 'created': '2019-01-14 11:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6b004de25a9ecfc2977fdc56ac510616f83dd86b', 'message': 'Prevent upgrading to incompatible mechanism driver\n\nPrevent upgrading a stack to a version of tripleo templates or\nenvironment that specifies neutron mechanism drivers that are\nincompatible with the existing stack.\n\nChange-Id: I33fafe07326dcff4e4abb856a219d57a4c9699a1\n'}, {'number': 4, 'created': '2019-01-14 13:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4bf9af983a8353317892ea25e39718db48e71108', 'message': 'Prevent upgrading to incompatible mechanism driver\n\nPrevent upgrading a stack to a version of tripleo templates or\nenvironment that specifies neutron mechanism drivers that are\nincompatible with the existing stack.\n\nChange-Id: I33fafe07326dcff4e4abb856a219d57a4c9699a1\n'}, {'number': 5, 'created': '2019-01-16 09:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7c79abce998128fd88edc61c350d5264fc706948', 'message': 'Prevent upgrading to incompatible mechanism driver\n\nPrevent upgrading a stack to a version of tripleo templates or\nenvironment that specifies neutron mechanism drivers that are\nincompatible with the existing stack.\n\nChange-Id: I33fafe07326dcff4e4abb856a219d57a4c9699a1\n'}, {'number': 6, 'created': '2019-01-18 12:52:35.000000000', 'files': ['tripleo_common/tests/actions/test_deployment.py', 'tripleo_common/actions/deployment.py', 'tripleo_common/constants.py', 'releasenotes/notes/check_ovs_upgrade-99cecd6b7bfdcf83.yaml', 'tripleo_common/tests/test_update.py', 'tripleo_common/update.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/379f886119727fe440e384234db53f48730e27ad', 'message': 'Prevent upgrading to incompatible mechanism driver\n\nPrevent upgrading a stack to a version of tripleo templates or\nenvironment that specifies neutron mechanism drivers that are\nincompatible with the existing stack.\n\nChange-Id: I33fafe07326dcff4e4abb856a219d57a4c9699a1\n'}]",4,625341,379f886119727fe440e384234db53f48730e27ad,28,13,6,6681,,,0,"Prevent upgrading to incompatible mechanism driver

Prevent upgrading a stack to a version of tripleo templates or
environment that specifies neutron mechanism drivers that are
incompatible with the existing stack.

Change-Id: I33fafe07326dcff4e4abb856a219d57a4c9699a1
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/625341/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/actions/test_deployment.py', 'tripleo_common/actions/deployment.py', 'tripleo_common/tests/test_update.py', 'tripleo_common/update.py']",4,442cb70570feb80acbcf55cc94e7781fd0aa6011,feature/check_ovs,"import yaml def search_stack(stack_data, key_name): if isinstance(stack_data, list): for item in stack_data: result = search_stack(item, key_name) if result: return result elif isinstance(stack_data, dict): for k, v in stack_data.iteritems(): if k == key_name: return v else: result = search_stack(v, key_name) if result: return result def get_exclusive_neutron_driver(drivers): if not drivers: return mutually_exclusive_drivers = ['ovn', 'openvswitch'] if isinstance(drivers, str): drivers = [drivers] for d in mutually_exclusive_drivers: if d in drivers: return d def check_neutron_mechanism_drivers(env, stack, plan_client, container): force_update = env.get('parameter_defaults').get( 'ForceNeutronDriverUpdate', False) # Forcing an update and skip checks is need to support migrating from one # driver to another if force_update: return driver_key = 'NeutronMechanismDrivers' current_drivers = search_stack(stack._info, driver_key) # TODO(beagles): We may need to move or copy this check earlier # to automagically pull in an openvswitch ML2 compatibility driver. current_driver = get_exclusive_neutron_driver(current_drivers) configured_drivers = env.get('parameter_defaults').get(driver_key) new_driver = None if configured_drivers: new_driver = get_exclusive_neutron_driver(configured_drivers) else: # TODO(beagles): we need to look for a better way to # get the current template default value. This is fragile # with respect to changing filenames, etc. ml2_tmpl = plan_client.get_object( container, 'puppet/services/neutron-plugin-ml2.yaml') ml2_def = yaml.safe_load(ml2_tmpl[1]) default_drivers = ml2_def.get('parameters', {}).get(driver_key, {}).get('default') new_driver = get_exclusive_neutron_driver(default_drivers) if current_driver != new_driver: msg = (""Unable to switch from {} to {} neutron "" ""mechanism drivers on upgrade. Please consult the "" ""documentation."").format(current_driver, new_driver) return msg",,177,1
openstack%2Fnova~master~I1157ef299cfb09161bdd55f2c8529ae636bfd8f9,openstack/nova,master,I1157ef299cfb09161bdd55f2c8529ae636bfd8f9,Fix ovo compatibility code unit tests,MERGED,2019-01-16 14:52:55.000000000,2019-01-22 20:53:05.000000000,2019-01-22 20:53:05.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-16 14:52:55.000000000', 'files': ['nova/tests/unit/objects/test_migrate_data.py', 'nova/tests/unit/objects/test_security_group.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/objects/test_network.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f78440d5287662ebb7efcda7024d5386032cf467', 'message': 'Fix ovo compatibility code unit tests\n\nThe unit tests for various obj_make_compatible() implementations\nmade two mistakes:\n* they asserted that a field is not in the primitives, but primitives\n  is a dict where the top level keys are nova.object_data,\n  nova.object_version, ... etc. So the assertNotIn call was succeded\n  false positively.\n* they did not always initialized the tested field in the ComputeNode\n  object if a field is not initialized then it is never in the\n  primitives.\n\nThis patch fixed these unit test.\n\nChange-Id: I1157ef299cfb09161bdd55f2c8529ae636bfd8f9\n'}]",2,631239,f78440d5287662ebb7efcda7024d5386032cf467,16,12,1,9708,,,0,"Fix ovo compatibility code unit tests

The unit tests for various obj_make_compatible() implementations
made two mistakes:
* they asserted that a field is not in the primitives, but primitives
  is a dict where the top level keys are nova.object_data,
  nova.object_version, ... etc. So the assertNotIn call was succeded
  false positively.
* they did not always initialized the tested field in the ComputeNode
  object if a field is not initialized then it is never in the
  primitives.

This patch fixed these unit test.

Change-Id: I1157ef299cfb09161bdd55f2c8529ae636bfd8f9
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/631239/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_migrate_data.py', 'nova/tests/unit/objects/test_security_group.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/objects/test_network.py']",4,f78440d5287662ebb7efcda7024d5386032cf467,fix_ovo_compat_tests," self.assertNotIn('mtu', primitive['nova_object.data']) self.assertNotIn('enable_dhcp', primitive['nova_object.data']) self.assertNotIn('dhcp_server', primitive['nova_object.data']) self.assertNotIn('share_address', primitive['nova_object.data']) primitive = network.obj_to_primitive(target_version='1.2') self.assertIn('mtu', primitive['nova_object.data']) self.assertIn('enable_dhcp', primitive['nova_object.data']) self.assertIn('dhcp_server', primitive['nova_object.data']) self.assertIn('share_address', primitive['nova_object.data'])"," self.assertNotIn('mtu', primitive) self.assertNotIn('enable_dhcp', primitive) self.assertNotIn('dhcp_server', primitive) self.assertNotIn('share_address', primitive)",32,9
openstack%2Foslo.config~master~I2e0c41656384ddef603717224e9e146bc31be59b,openstack/oslo.config,master,I2e0c41656384ddef603717224e9e146bc31be59b,Update hacking version,MERGED,2018-12-28 14:48:23.000000000,2019-01-22 20:40:41.000000000,2019-01-22 20:40:41.000000000,"[{'_account_id': 15334}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-28 14:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/184d1b92a5d008f865001c9ead2cc0d5d8c08b24', 'message': 'Update hacking version\n\nChange-Id: I2e0c41656384ddef603717224e9e146bc31be59b\n'}, {'number': 2, 'created': '2019-01-04 09:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/8fded6a0a7a92d3440ae07d487e3374264fc74de', 'message': 'Update hacking version\n\n1. update hacking version to latest\n2. fix pep8 failed\n\nChange-Id: I2e0c41656384ddef603717224e9e146bc31be59b\n'}, {'number': 3, 'created': '2019-01-06 11:17:42.000000000', 'files': ['test-requirements.txt', 'oslo_config/tests/test_generator.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/bdeb19d07903d618a6c3d5c98f423a9c736f8785', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: I2e0c41656384ddef603717224e9e146bc31be59b\n'}]",0,627644,bdeb19d07903d618a6c3d5c98f423a9c736f8785,11,3,3,21691,,,0,"Update hacking version

Use latest release 1.1.0 and compatible changes w.r.t pep8

Change-Id: I2e0c41656384ddef603717224e9e146bc31be59b
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/44/627644/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,184d1b92a5d008f865001c9ead2cc0d5d8c08b24,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",1,1
openstack%2Fcinder~master~I3d79f9a67a9aed7272871969e7c0942a1f396ea5,openstack/cinder,master,I3d79f9a67a9aed7272871969e7c0942a1f396ea5,Improve volume transfer records,MERGED,2018-11-06 03:36:26.000000000,2019-01-22 20:23:06.000000000,2019-01-22 13:25:45.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25648}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29344}, {'_account_id': 29716}]","[{'number': 1, 'created': '2018-11-06 03:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d847d87bb6f8c5893e2b055eb89e2219d139f1c9', 'message': 'Microversion 3.56 - Improve volume transfer records\n\nAdd a new microverion API to add original_project_id,\ncurrent_project_id, accepted fields to the response of follow APIs:\n\n- Create a volume transfer\n- Show volume transfer detail\n- List volume transfer and detail\n\nAnd the original_project_id will be recorded when a transfer is\ncreated, the current_project_id and accepted will be recorded when a\ntransfer is accepted.\n\nPart of blueprint: improve-volume-transfer-records\n\nChange-Id: I3d79f9a67a9aed7272871969e7c0942a1f396ea5\n'}, {'number': 2, 'created': '2018-11-06 07:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a84671269f0dba6830d9a292349d53a8de7dbcba', 'message': 'Improve volume transfer records\n\nAdd a new microverion API to add original_project_id,\ncurrent_project_id, accepted fields to the response of follow APIs:\n\n- Create a volume transfer\n- Show volume transfer detail\n- List volume transfer and detail\n\nAnd the original_project_id will be recorded when a transfer is\ncreated, the current_project_id and accepted will be recorded when a\ntransfer is accepted.\n\nPart of blueprint: improve-volume-transfer-records\n\nChange-Id: I3d79f9a67a9aed7272871969e7c0942a1f396ea5\n'}, {'number': 3, 'created': '2018-11-06 12:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e7e9ec68029b35fd112e52243aa7c545fb4ffcb', 'message': 'Improve volume transfer records\n\nAdd a new microverion API to add original_project_id,\ncurrent_project_id, accepted fields to the response of follow APIs:\n\n- Create a volume transfer\n- Show volume transfer detail\n- List volume transfer and detail\n\nAnd the original_project_id will be recorded when a transfer is\ncreated, the current_project_id and accepted will be recorded when a\ntransfer is accepted.\n\nPart of blueprint: improve-volume-transfer-records\n\nChange-Id: I3d79f9a67a9aed7272871969e7c0942a1f396ea5\n'}, {'number': 4, 'created': '2018-11-06 13:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9ffc2e1662839a3948dd0b48ad9bced3390bbe9', 'message': 'Improve volume transfer records\n\nAdd a new microverion API to add original_project_id,\ncurrent_project_id, accepted fields to the response of follow APIs:\n\n- Create a volume transfer\n- Show volume transfer detail\n- List volume transfer and detail\n\nAnd the original_project_id will be recorded when a transfer is\ncreated, the current_project_id and accepted will be recorded when a\ntransfer is accepted.\n\nPart of blueprint: improve-volume-transfer-records\n\nChange-Id: I3d79f9a67a9aed7272871969e7c0942a1f396ea5\n'}, {'number': 5, 'created': '2018-12-10 08:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1921c8beee749b5f1a657e9ec923dad9f2652b43', 'message': 'Improve volume transfer records\n\nAdd a new microversion API to add source_project_id,\ndestination_project_id, accepted fields to the response of follow\nAPIs:\n\n- Create a volume transfer\n- Show volume transfer detail\n- List volume transfer and detail\n\nAnd the source_project_id will be recorded when a transfer is\ncreated, the destination_project_id and accepted will be recorded\nwhen a transfer is accepted.\n\nPart of blueprint: improve-volume-transfer-records\n\nChange-Id: I3d79f9a67a9aed7272871969e7c0942a1f396ea5\n'}, {'number': 6, 'created': '2018-12-12 03:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9dfe4192a3b4a7d86c24d38f5c3f87c23f926bcd', 'message': 'Improve volume transfer records\n\nAdd a new microversion API to add source_project_id,\ndestination_project_id, accepted fields to the response of follow\nAPIs:\n\n- Create a volume transfer\n- Show volume transfer detail\n- List volume transfer and detail\n\nAnd the source_project_id will be recorded when a transfer is\ncreated, the destination_project_id and accepted will be recorded\nwhen a transfer is accepted.\n\nPart of blueprint: improve-volume-transfer-records\n\nChange-Id: I3d79f9a67a9aed7272871969e7c0942a1f396ea5\n'}, {'number': 7, 'created': '2018-12-12 06:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d642804258039f06a8e24d9f0d5b5e3c13193dd', 'message': 'Improve volume transfer records\n\nAdd a new microversion API to add source_project_id,\ndestination_project_id, accepted fields to the response of follow\nAPIs:\n\n- Create a volume transfer\n- Show volume transfer detail\n- List volume transfer and detail\n\nAnd the source_project_id will be recorded when a transfer is\ncreated, the destination_project_id and accepted will be recorded\nwhen a transfer is accepted.\n\nPart of blueprint: improve-volume-transfer-records\n\nChange-Id: I3d79f9a67a9aed7272871969e7c0942a1f396ea5\n'}, {'number': 8, 'created': '2018-12-12 07:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9bdbe577eeb87180e9dafa83aa9088463f5f922', 'message': 'Improve volume transfer records\n\nAdd a new microversion API to add source_project_id,\ndestination_project_id, accepted fields to the response of follow\nAPIs:\n\n- Create a volume transfer\n- Show volume transfer detail\n- List volume transfer and detail\n\nAnd the source_project_id will be recorded when a transfer is\ncreated, the destination_project_id and accepted will be recorded\nwhen a transfer is accepted.\n\nPart of blueprint: improve-volume-transfer-records\n\nChange-Id: I3d79f9a67a9aed7272871969e7c0942a1f396ea5\n'}, {'number': 9, 'created': '2018-12-20 08:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa2b9a01cced93230f0b809f1c38a1033bb399ed', 'message': 'Improve volume transfer records\n\nAdd a new microversion API to add source_project_id,\ndestination_project_id, accepted fields to the response of follow\nAPIs:\n\n- Create a volume transfer\n- Show volume transfer detail\n- List volume transfer and detail\n\nAnd the source_project_id will be recorded when a transfer is\ncreated, the destination_project_id and accepted will be recorded\nwhen a transfer is accepted.\n\nPart of blueprint: improve-volume-transfer-records\n\nChange-Id: I3d79f9a67a9aed7272871969e7c0942a1f396ea5\n'}, {'number': 10, 'created': '2018-12-21 01:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/55cfc1c14505e4534a2a23db3a5ce469d732920d', 'message': 'Improve volume transfer records\n\nAdd a new microversion API to add source_project_id,\ndestination_project_id, accepted fields to the response of follow\nAPIs:\n\n- Create a volume transfer\n- Show volume transfer detail\n- List volume transfer and detail\n\nAnd the source_project_id will be recorded when a transfer is\ncreated, the destination_project_id and accepted will be recorded\nwhen a transfer is accepted.\n\nPart of blueprint: improve-volume-transfer-records\n\nChange-Id: I3d79f9a67a9aed7272871969e7c0942a1f396ea5\n'}, {'number': 11, 'created': '2019-01-14 03:52:42.000000000', 'files': ['api-ref/source/v3/samples/volume-transfer-show-response.json', 'api-ref/source/v3/samples/versions/versions-response.json', 'cinder/tests/unit/api/v3/test_volume_transfer.py', 'api-ref/source/v3/samples/volume-transfer-create-response.json', 'cinder/api/openstack/api_version_request.py', 'cinder/transfer/api.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/db/sqlalchemy/api.py', 'api-ref/source/v3/parameters.yaml', 'cinder/api/views/transfers.py', 'api-ref/source/v3/samples/versions/version-show-response.json', 'api-ref/source/v3/vol-transfer-v3.inc', 'cinder/tests/unit/test_volume_transfer.py', 'api-ref/source/v3/samples/volume-transfers-list-detailed-response.json', 'cinder/tests/unit/db/test_transfers.py', 'releasenotes/notes/improve-volume-transfer-records-5599e82ade4d302c.yaml', 'cinder/api/microversions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3e16dfff8e351a63e19ea73951909fd9438cc191', 'message': 'Improve volume transfer records\n\nAdd a new microversion API to add source_project_id,\ndestination_project_id, accepted fields to the response of follow\nAPIs:\n\n- Create a volume transfer\n- Show volume transfer detail\n- List volume transfer and detail\n\nAnd the source_project_id will be recorded when a transfer is\ncreated, the destination_project_id and accepted will be recorded\nwhen a transfer is accepted.\n\nPart of blueprint: improve-volume-transfer-records\n\nChange-Id: I3d79f9a67a9aed7272871969e7c0942a1f396ea5\n'}]",22,615716,3e16dfff8e351a63e19ea73951909fd9438cc191,297,48,11,20722,,,0,"Improve volume transfer records

Add a new microversion API to add source_project_id,
destination_project_id, accepted fields to the response of follow
APIs:

- Create a volume transfer
- Show volume transfer detail
- List volume transfer and detail

And the source_project_id will be recorded when a transfer is
created, the destination_project_id and accepted will be recorded
when a transfer is accepted.

Part of blueprint: improve-volume-transfer-records

Change-Id: I3d79f9a67a9aed7272871969e7c0942a1f396ea5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/615716/8 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/volume-transfer-show-response.json', 'cinder/tests/unit/api/v3/test_volume_transfer.py', 'api-ref/source/v3/samples/volume-transfer-create-response.json', 'cinder/api/openstack/api_version_request.py', 'cinder/transfer/api.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/db/sqlalchemy/api.py', 'api-ref/source/v3/parameters.yaml', 'cinder/api/views/transfers.py', 'api-ref/source/v3/vol-transfer-v3.inc', 'cinder/tests/unit/test_volume_transfer.py', 'api-ref/source/v3/samples/volume-transfers-list-detailed-response.json', 'cinder/tests/unit/db/test_transfers.py', 'releasenotes/notes/improve-volume-transfer-records-5599e82ade4d302c.yaml', 'cinder/api/microversions.py']",15,d847d87bb6f8c5893e2b055eb89e2219d139f1c9,bp/improve-volume-transfer-records,TRANSFER_WITH_HISTORY = '3.56' ,,186,20
openstack%2Fdiskimage-builder~master~I9d21561991c1d956a62de72c906cf91305ce5328,openstack/diskimage-builder,master,I9d21561991c1d956a62de72c906cf91305ce5328,[Configuration] Add missing py37 and corrected default envlist.,MERGED,2018-12-12 11:25:04.000000000,2019-01-22 20:22:38.000000000,2019-01-22 20:22:38.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-12-12 11:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e0c1d887ba2dfc524b5c28446adfc398c239efd2', 'message': '[Configuration] Add missing py37 and corrected default envlist.\n\nChange order of default tox envlist in order of likeliness to fail on a\nnew change and add py37 and py36.\n\nChange-Id: I9d21561991c1d956a62de72c906cf91305ce5328\n'}, {'number': 2, 'created': '2019-01-09 10:41:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/07657a73e9f6d03aa73864fd35d85dfea5435fee', 'message': '[Configuration] Add missing py37 and corrected default envlist.\n\nChange order of default tox envlist in order of likeliness to fail on a\nnew change and add py37 and py36.\n\nChange-Id: I9d21561991c1d956a62de72c906cf91305ce5328\n'}]",0,624670,07657a73e9f6d03aa73864fd35d85dfea5435fee,23,5,2,29222,,,0,"[Configuration] Add missing py37 and corrected default envlist.

Change order of default tox envlist in order of likeliness to fail on a
new change and add py37 and py36.

Change-Id: I9d21561991c1d956a62de72c906cf91305ce5328
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/70/624670/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e0c1d887ba2dfc524b5c28446adfc398c239efd2,add_py37_tox,"envlist = pep8,pylint,py37,py36,py35,py27","envlist = py35,py27,pep8,pylint",1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ibc0a266bdc6630eaf34bfadeff21f7bd72fa75ad,openstack/tripleo-heat-templates,stable/queens,Ibc0a266bdc6630eaf34bfadeff21f7bd72fa75ad,Ensure logs folder is created in prep hosts tasks.,MERGED,2019-01-21 16:50:33.000000000,2019-01-22 20:17:29.000000000,2019-01-22 20:17:29.000000000,"[{'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-01-21 16:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5dc3451a3a4eff90c1551b54421f5ea1957999df', 'message': 'Ensure logs folder is created in prep hosts tasks.\n\nWe have non fatal errors in the upgrade\njobs execution if the logs folder is not\ncreated when adding the readme.txt file\nto clarify the possible locations of\nthe logs.\n\nCloses-Bug: 1811708\nChange-Id: Ibc0a266bdc6630eaf34bfadeff21f7bd72fa75ad\n(cherry picked from commit 1e318b569e522da0e200e53a92469baf97d3c9ab)\n(cherry picked from commit 93285264e7a3cd1f5244adb8a4d14b78e053b226)\n'}, {'number': 2, 'created': '2019-01-22 10:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5225aaa288ffdf0842527a3dec05ea181f2cd4c7', 'message': 'Ensure logs folder is created in prep hosts tasks.\n\nWe have non fatal errors in the upgrade\njobs execution if the logs folder is not\ncreated when adding the readme.txt file\nto clarify the possible locations of\nthe logs.\n\nCloses-Bug: 1811708\nChange-Id: Ibc0a266bdc6630eaf34bfadeff21f7bd72fa75ad\n(cherry picked from commit 1e318b569e522da0e200e53a92469baf97d3c9ab)\n(cherry picked from commit 93285264e7a3cd1f5244adb8a4d14b78e053b226)\n'}, {'number': 3, 'created': '2019-01-22 12:59:41.000000000', 'files': ['docker/services/gnocchi-metricd.yaml', 'docker/services/horizon.yaml', 'docker/services/logging/files/neutron-common.yaml', 'docker/services/octavia-api.yaml', 'docker/services/qdrouterd.yaml', 'docker/services/aodh-api.yaml', 'docker/services/ironic-inspector.yaml', 'docker/services/database/mongodb.yaml', 'docker/services/memcached.yaml', 'docker/services/octavia-housekeeping.yaml', 'docker/services/pacemaker/ovn-dbs.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/ironic-conductor.yaml', 'docker/services/ironic-pxe.yaml', 'docker/services/mistral-api.yaml', 'docker/services/logging/files/panko-api.yaml', 'docker/services/ec2-api.yaml', 'docker/services/cinder-scheduler.yaml', 'docker/services/tacker.yaml', 'docker/services/gnocchi-api.yaml', 'docker/services/ovn-dbs.yaml', 'docker/services/sensu-client.yaml', 'docker/services/ovn-controller.yaml', 'docker/services/logging/files/heat-api-cfn.yaml', 'docker/services/logging/files/nova-placement.yaml', 'docker/services/sahara-api.yaml', 'docker/services/logging/files/keystone.yaml', 'docker/services/pacemaker/rabbitmq.yaml', 'docker/services/logging/files/glance-api.yaml', 'docker/services/database/mysql.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/congress.yaml', 'docker/services/manila-share.yaml', 'docker/services/manila-scheduler.yaml', 'docker/services/cinder-api.yaml', 'docker/services/collectd.yaml', 'docker/services/octavia-health-manager.yaml', 'docker/services/haproxy.yaml', 'docker/services/nova-ironic.yaml', 'docker/services/opendaylight-api.yaml', 'docker/services/cinder-common.yaml', 'docker/services/gnocchi-statsd.yaml', 'docker/services/ceilometer-agent-central.yaml', 'docker/services/logging/files/nova-common.yaml', 'docker/services/mistral-event-engine.yaml', 'docker/services/database/redis.yaml', 'docker/services/logging/files/heat-api.yaml', 'docker/services/pacemaker/manila-share.yaml', 'docker/services/logging/files/neutron-api.yaml', 'docker/services/manila-api.yaml', 'docker/services/logging/files/heat-engine.yaml', 'docker/services/ceilometer-agent-compute.yaml', 'docker/services/mistral-executor.yaml', 'docker/services/aodh-listener.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/cinder-backup.yaml', 'docker/services/aodh-notifier.yaml', 'docker/services/ironic-api.yaml', 'docker/services/logging/files/barbican-api.yaml', 'docker/services/zaqar.yaml', 'docker/services/aodh-evaluator.yaml', 'docker/services/ceilometer-agent-ipmi.yaml', 'docker/services/keepalived.yaml', 'docker/services/fluentd.yaml', 'docker/services/logging/files/nova-api.yaml', 'docker/services/sahara-engine.yaml', 'docker/services/mistral-engine.yaml', 'docker/services/rabbitmq.yaml', 'docker/services/ceilometer-agent-notification.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7a00ac2234c03be1baad7da3558c1d5c58e00f4', 'message': 'Ensure logs folder is created in prep hosts tasks.\n\nWe have non fatal errors in the upgrade\njobs execution if the logs folder is not\ncreated when adding the readme.txt file\nto clarify the possible locations of\nthe logs.\n\nCloses-Bug: 1811708\nChange-Id: Ibc0a266bdc6630eaf34bfadeff21f7bd72fa75ad\n(cherry picked from commit 1e318b569e522da0e200e53a92469baf97d3c9ab)\n(cherry picked from commit 93285264e7a3cd1f5244adb8a4d14b78e053b226)\n'}]",2,632133,f7a00ac2234c03be1baad7da3558c1d5c58e00f4,17,4,3,20775,,,0,"Ensure logs folder is created in prep hosts tasks.

We have non fatal errors in the upgrade
jobs execution if the logs folder is not
created when adding the readme.txt file
to clarify the possible locations of
the logs.

Closes-Bug: 1811708
Change-Id: Ibc0a266bdc6630eaf34bfadeff21f7bd72fa75ad
(cherry picked from commit 1e318b569e522da0e200e53a92469baf97d3c9ab)
(cherry picked from commit 93285264e7a3cd1f5244adb8a4d14b78e053b226)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/632133/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/gnocchi-metricd.yaml', 'docker/services/horizon.yaml', 'docker/services/logging/files/neutron-common.yaml', 'docker/services/octavia-api.yaml', 'docker/services/qdrouterd.yaml', 'docker/services/aodh-api.yaml', 'docker/services/ironic-inspector.yaml', 'docker/services/database/mongodb.yaml', 'docker/services/memcached.yaml', 'docker/services/octavia-housekeeping.yaml', 'docker/services/pacemaker/ovn-dbs.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/ironic-conductor.yaml', 'docker/services/ironic-pxe.yaml', 'docker/services/mistral-api.yaml', 'docker/services/logging/files/panko-api.yaml', 'docker/services/ec2-api.yaml', 'docker/services/cinder-scheduler.yaml', 'docker/services/tacker.yaml', 'docker/services/gnocchi-api.yaml', 'docker/services/ovn-dbs.yaml', 'docker/services/sensu-client.yaml', 'docker/services/ovn-controller.yaml', 'docker/services/logging/files/heat-api-cfn.yaml', 'docker/services/logging/files/nova-placement.yaml', 'docker/services/sahara-api.yaml', 'docker/services/logging/files/keystone.yaml', 'docker/services/pacemaker/rabbitmq.yaml', 'docker/services/logging/files/glance-api.yaml', 'docker/services/database/mysql.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/congress.yaml', 'docker/services/manila-share.yaml', 'docker/services/manila-scheduler.yaml', 'docker/services/cinder-api.yaml', 'docker/services/collectd.yaml', 'docker/services/octavia-health-manager.yaml', 'docker/services/haproxy.yaml', 'docker/services/nova-ironic.yaml', 'docker/services/cinder-common.yaml', 'docker/services/gnocchi-statsd.yaml', 'docker/services/ceilometer-agent-central.yaml', 'docker/services/logging/files/nova-common.yaml', 'docker/services/mistral-event-engine.yaml', 'docker/services/database/redis.yaml', 'docker/services/logging/files/heat-api.yaml', 'docker/services/pacemaker/manila-share.yaml', 'docker/services/logging/files/neutron-api.yaml', 'docker/services/manila-api.yaml', 'docker/services/logging/files/heat-engine.yaml', 'docker/services/ceilometer-agent-compute.yaml', 'docker/services/mistral-executor.yaml', 'docker/services/aodh-listener.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/cinder-backup.yaml', 'docker/services/aodh-notifier.yaml', 'docker/services/ironic-api.yaml', 'docker/services/logging/files/barbican-api.yaml', 'docker/services/zaqar.yaml', 'docker/services/aodh-evaluator.yaml', 'docker/services/ceilometer-agent-ipmi.yaml', 'docker/services/keepalived.yaml', 'docker/services/fluentd.yaml', 'docker/services/logging/files/nova-api.yaml', 'docker/services/sahara-engine.yaml', 'docker/services/mistral-engine.yaml', 'docker/services/rabbitmq.yaml', 'docker/services/ceilometer-agent-notification.yaml']",69,5dc3451a3a4eff90c1551b54421f5ea1957999df,bug/1811708," - name: create persistent directories file: path: ""{{ item.path }}"" setype: ""{{ item.setype }}"" with_items: - { 'path': /var/log/containers/ceilometer, 'setype': svirt_sandbox_file_t } - { 'path': /var/log/ceilometer, 'setype': svirt_sandbox_file_t }", - name: create persistent logs directory file: path: /var/log/containers/ceilometer,396,200
openstack%2Fdiskimage-builder~master~Ie8c827d8217d885c3031c4f45aa2556951b01e83,openstack/diskimage-builder,master,Ie8c827d8217d885c3031c4f45aa2556951b01e83,Add python3-setuptools to bindep.txt for Fedora,MERGED,2019-01-22 12:04:25.000000000,2019-01-22 20:12:40.000000000,2019-01-22 20:12:39.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-22 12:04:25.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/54d6cd0823b43b24d60d7e6975233bdc5e8df5d2', 'message': 'Add python3-setuptools to bindep.txt for Fedora\n\nsetuptools is required by python3-setools (a dependency of\npolicycoreutils-python) but is not in setools RPM dependency list in\nFedora 28. See [1] for DIB output.\n\nThis is a temporary workaround. It was fixed in Fedora rawhide and\nFedora 29 [2], but Fedora 28 is still unresolved.\n\n[1] http://logs.openstack.org/81/600381/10/check/octavia-v2-dsvm-scenario-\\\n    fedora-latest/4ac1e5c/controller/logs/dib-build/amphora-x64-haproxy.\\\n    qcow2_log.txt.gz#_2019-01-21_10_15_49_816\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1623371\n\nChange-Id: Ie8c827d8217d885c3031c4f45aa2556951b01e83\n'}]",0,632445,54d6cd0823b43b24d60d7e6975233bdc5e8df5d2,8,6,1,6469,,,0,"Add python3-setuptools to bindep.txt for Fedora

setuptools is required by python3-setools (a dependency of
policycoreutils-python) but is not in setools RPM dependency list in
Fedora 28. See [1] for DIB output.

This is a temporary workaround. It was fixed in Fedora rawhide and
Fedora 29 [2], but Fedora 28 is still unresolved.

[1] http://logs.openstack.org/81/600381/10/check/octavia-v2-dsvm-scenario-\
    fedora-latest/4ac1e5c/controller/logs/dib-build/amphora-x64-haproxy.\
    qcow2_log.txt.gz#_2019-01-21_10_15_49_816
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1623371

Change-Id: Ie8c827d8217d885c3031c4f45aa2556951b01e83
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/45/632445/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,54d6cd0823b43b24d60d7e6975233bdc5e8df5d2,octavia-fedora28,# NOTE(cgoncalves): setuptools is required by python3-setools (a dependency of # policycoreutils-python) but is not in its RPM dependency list in Fedora 28. python3-setuptools [platform:fedora],,3,0
openstack%2Fpuppet-placement~master~I6b408245c8f6139e3d01ab25dfe749724e2c53f5,openstack/puppet-placement,master,I6b408245c8f6139e3d01ab25dfe749724e2c53f5,Use oslo::db to placement::db class,MERGED,2019-01-18 10:50:34.000000000,2019-01-22 19:58:32.000000000,2019-01-22 19:58:32.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 10135}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 29344}]","[{'number': 1, 'created': '2019-01-18 10:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/9d3f10844d597cf308ccd9783bb50b3a6770f705', 'message': 'Use oslo::db to placement::db class\n\nThis patch changes so the placement::db class uses the\noslo::db and adds the parameters that placement supports\nbased on [1].\n\nPatch utilizes the fix in [2] to puppet-oslo that allows\nsetting different config groups for database configuration\nthat we need because placement uses the placement_database\nsection [3].\n\n[1] https://github.com/openstack/placement/blob/master/placement/conf/database.py#L58\n[2] https://review.openstack.org/#/c/631772/\n[3] https://github.com/openstack/placement/blob/master/placement/conf/database.py#L50\n\nDepends-On: https://review.openstack.org/#/c/631772/\nChange-Id: I6b408245c8f6139e3d01ab25dfe749724e2c53f5\n'}, {'number': 2, 'created': '2019-01-18 13:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/4f21aea7a0729cf0ba8373e22174b267ab977375', 'message': 'Use oslo::db to placement::db class\n\nThis patch changes so the placement::db class uses the\noslo::db and adds the parameters that placement supports\nbased on [1].\n\nPatch utilizes the fix in [2] to puppet-oslo that allows\nsetting different config groups for database configuration\nthat we need because placement uses the placement_database\nsection [3].\n\n[1] https://github.com/openstack/placement/blob/master/placement/conf/database.py#L58\n[2] https://review.openstack.org/#/c/631772/\n[3] https://github.com/openstack/placement/blob/master/placement/conf/database.py#L50\n\nDepends-On: https://review.openstack.org/#/c/631772/\nChange-Id: I6b408245c8f6139e3d01ab25dfe749724e2c53f5\n'}, {'number': 3, 'created': '2019-01-18 15:37:37.000000000', 'files': ['manifests/db.pp', 'spec/classes/placement_db_spec.rb', 'releasenotes/notes/placement-use-oslo-db-d896185a903f449a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/6e8f9863622f05360658010ac67ed1e416525e47', 'message': 'Use oslo::db to placement::db class\n\nThis patch changes so the placement::db class uses the\noslo::db and adds the parameters that placement supports\nbased on [1].\n\nPatch utilizes the fix in [2] to puppet-oslo that allows\nsetting different config groups for database configuration\nthat we need because placement uses the placement_database\nsection [3].\n\n[1] https://github.com/openstack/placement/blob/master/placement/conf/database.py#L58\n[2] https://review.openstack.org/#/c/631772/\n[3] https://github.com/openstack/placement/blob/master/placement/conf/database.py#L50\n\nDepends-On: https://review.openstack.org/#/c/631772/\nChange-Id: I6b408245c8f6139e3d01ab25dfe749724e2c53f5\n'}]",1,631774,6e8f9863622f05360658010ac67ed1e416525e47,17,6,3,16137,,,0,"Use oslo::db to placement::db class

This patch changes so the placement::db class uses the
oslo::db and adds the parameters that placement supports
based on [1].

Patch utilizes the fix in [2] to puppet-oslo that allows
setting different config groups for database configuration
that we need because placement uses the placement_database
section [3].

[1] https://github.com/openstack/placement/blob/master/placement/conf/database.py#L58
[2] https://review.openstack.org/#/c/631772/
[3] https://github.com/openstack/placement/blob/master/placement/conf/database.py#L50

Depends-On: https://review.openstack.org/#/c/631772/
Change-Id: I6b408245c8f6139e3d01ab25dfe749724e2c53f5
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/74/631774/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'spec/classes/placement_db_spec.rb', 'releasenotes/notes/placement-use-oslo-db-d896185a903f449a.yaml']",3,9d3f10844d597cf308ccd9783bb50b3a6770f705,oslo-db-config-group,"--- features: - | Added the following parameters to placement::db, it now also uses the oslo::db resource to create the databaes configuration: - ``database_sqlite_synchronous`` - ``database_slave_connection`` - ``database_mysql_sql_mode`` - ``database_max_pool_size`` - ``database_max_retries`` - ``database_retry_interval`` - ``database_max_overflow`` - ``database_connection_debug`` - ``database_connection_trace`` - ``database_pool_timeout`` ",,130,49
openstack%2Freleases~master~I6f7e534ada21d10dc5b8b6dd7251186479ff94ab,openstack/releases,master,I6f7e534ada21d10dc5b8b6dd7251186479ff94ab,Release 0.2.0 of os-resource-classes,MERGED,2019-01-21 16:08:02.000000000,2019-01-22 19:56:25.000000000,2019-01-22 19:56:25.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-21 16:08:02.000000000', 'files': ['deliverables/stein/os-resource-classes.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4691f13f01febe74d02a4568e06ff4f7ba14b0df', 'message': ""Release 0.2.0 of os-resource-classes\n\nThis release adds the 'PCPU' resource class to the library.\n\nIt is used to count the number physical processors which have\nbeen marked to be used by a single guest only. This is relevant\nto some high performance workloads. A nova blueprint is under\nway to use the new class, but it is also considered relevant\ngenerally.\n\nChange-Id: I6f7e534ada21d10dc5b8b6dd7251186479ff94ab\n""}]",0,632123,4691f13f01febe74d02a4568e06ff4f7ba14b0df,8,5,1,11564,,,0,"Release 0.2.0 of os-resource-classes

This release adds the 'PCPU' resource class to the library.

It is used to count the number physical processors which have
been marked to be used by a single guest only. This is relevant
to some high performance workloads. A nova blueprint is under
way to use the new class, but it is also considered relevant
generally.

Change-Id: I6f7e534ada21d10dc5b8b6dd7251186479ff94ab
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/632123/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/os-resource-classes.yaml'],1,4691f13f01febe74d02a4568e06ff4f7ba14b0df,bp/is, - projects: - hash: b0c27a7d62d6a1e7331de0e8d2a7c708b5f8a3ba repo: openstack/os-resource-classes version: 0.2.0,,4,0
openstack%2Fmetalsmith~master~I2c85cf0adb02061b3dd85f19dd10c8a5af1118da,openstack/metalsmith,master,I2c85cf0adb02061b3dd85f19dd10c8a5af1118da,Make sure to not try reserving a reserved node,MERGED,2019-01-22 13:34:55.000000000,2019-01-22 19:55:14.000000000,2019-01-22 19:55:14.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 13:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/30ae1cdfacc67a2c0bb366fce6baa595939e5738', 'message': ""Make sure to not try reserving a reserved node\n\nAfter the switch to openstacksdk we no longer have a sufficient check\non node's availability or maintenance. This patch restores it.\n\nChange-Id: I2c85cf0adb02061b3dd85f19dd10c8a5af1118da\n""}, {'number': 2, 'created': '2019-01-22 14:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/a33f88e23185125e80597c991eb21b0a58f27df2', 'message': ""Make sure to not try reserving a reserved node\n\nAfter the switch to openstacksdk we no longer have a sufficient check\non node's availability or maintenance. This patch restores it.\n\nChange-Id: I2c85cf0adb02061b3dd85f19dd10c8a5af1118da\n""}, {'number': 3, 'created': '2019-01-22 17:09:20.000000000', 'files': ['metalsmith/test/test_provisioner.py', 'metalsmith/_provisioner.py', 'metalsmith/exceptions.py', 'releasenotes/notes/associated-993c26ac5dc0cfc0.yaml', 'metalsmith/_scheduler.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/e795f6c841096356fbd1c5c8a3769bfc4eb1d4d4', 'message': ""Make sure to not try reserving a reserved node\n\nAfter the switch to openstacksdk we no longer have a sufficient check\non node's availability or maintenance. This patch restores it.\n\nChange-Id: I2c85cf0adb02061b3dd85f19dd10c8a5af1118da\n""}]",0,632465,e795f6c841096356fbd1c5c8a3769bfc4eb1d4d4,13,2,3,10239,,,0,"Make sure to not try reserving a reserved node

After the switch to openstacksdk we no longer have a sufficient check
on node's availability or maintenance. This patch restores it.

Change-Id: I2c85cf0adb02061b3dd85f19dd10c8a5af1118da
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/65/632465/1 && git format-patch -1 --stdout FETCH_HEAD,"['metalsmith/test/test_provisioner.py', 'metalsmith/_provisioner.py', 'metalsmith/exceptions.py', 'metalsmith/_scheduler.py']",4,30ae1cdfacc67a2c0bb366fce6baa595939e5738,reservation," if node.instance_id: LOG.debug('Node %s is already reserved', _utils.log_res(node)) return False if node.is_maintenance: LOG.debug('Node %s is in maintenance', _utils.log_res(node)) return False if (self.resource_class is not None and node.resource_class != self.resource_class): LOG.debug('Resource class %(real)s does not match the expected ' 'value of %(exp)s for node %(node)s', {'node': _utils.log_res(node), 'exp': self.resource_class, 'real': node.resource_class}) return False if (self.conductor_group is not None and node.conductor_group != self.conductor_group): LOG.debug('Conductor group %(real)s does not match the expected ' 'value of %(exp)s for node %(node)s', {'node': _utils.log_res(node), 'exp': self.conductor_group, 'real': node.conductor_group}) return False return True", return ( (self.resource_class is None or node.resource_class == self.resource_class) and (self.conductor_group is None or node.conductor_group == self.conductor_group) ),51,20
openstack%2Fos-vif~master~Ifc828307bca96850af490f54bf4dc41b02555284,openstack/os-vif,master,Ifc828307bca96850af490f54bf4dc41b02555284,Add test to check os_vif.internal.command.ip.exists,MERGED,2019-01-21 12:38:53.000000000,2019-01-22 19:36:14.000000000,2019-01-22 19:36:14.000000000,"[{'_account_id': 7}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25733}]","[{'number': 1, 'created': '2019-01-21 12:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/e7f96fe3fcb8c2a11fc90e6eded77bb873f89e26', 'message': 'Add test to check os_vif.internal.command.ip.exists\n\nRelated-Bug: #1812090\n\nChange-Id: Ifc828307bca96850af490f54bf4dc41b02555284\n'}, {'number': 2, 'created': '2019-01-22 09:19:09.000000000', 'files': ['os_vif/tests/functional/internal/command/ip/test_impl_pyroute2.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/9340e59fa0e93c354d570acb03ba21daf39c4825', 'message': 'Add test to check os_vif.internal.command.ip.exists\n\nRelated-Bug: #1812090\n\nChange-Id: Ifc828307bca96850af490f54bf4dc41b02555284\n'}]",0,632077,9340e59fa0e93c354d570acb03ba21daf39c4825,18,6,2,16688,,,0,"Add test to check os_vif.internal.command.ip.exists

Related-Bug: #1812090

Change-Id: Ifc828307bca96850af490f54bf4dc41b02555284
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/77/632077/1 && git format-patch -1 --stdout FETCH_HEAD,['os_vif/tests/functional/internal/command/ip/test_impl_pyroute2.py'],1,e7f96fe3fcb8c2a11fc90e6eded77bb873f89e26,bug/1812090,"@privsep.os_vif_pctxt.entrypoint def _ip_cmd_exists(*args, **kwargs): return ip_lib.exists(*args, **kwargs) def test_exists(self): device = ""test_dev_10"" self.addCleanup(self.del_device, device) self.add_device(device, 'dummy') self.assertTrue(_ip_cmd_exists(device)) self.del_device(device) self.assertFalse(_ip_cmd_exists(device))",,13,0
openstack%2Fpbr~master~I0aab845315dab0aaccd5f67725d2ebcf0fd08aef,openstack/pbr,master,I0aab845315dab0aaccd5f67725d2ebcf0fd08aef,Do not globally replace path prefix,MERGED,2019-01-07 15:56:32.000000000,2019-01-22 19:33:30.000000000,2019-01-22 19:33:30.000000000,"[{'_account_id': 6928}, {'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-01-07 15:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/2bf879ab433a43622b95d3c5a823d8ad39eb6e93', 'message': ""Do not globally replace path prefix\n\nIf a subdirectory contained the source prefix in it's name,\nthis was replaced globally e.g using etc/pbr = etc, with the following\ndirectory structure:\n\netc/test\netc/sub-etc/test2\n\nwould result in the files being installed as follows:\n\netc/pbr/test\netc/pbr/sub-pbr/test2\n\nChange-Id: I0aab845315dab0aaccd5f67725d2ebcf0fd08aef\nFixes-Bug: 1810804\n""}, {'number': 2, 'created': '2019-01-07 16:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/75f341a5c03b55239df82ef68a6830716083d3b1', 'message': ""Do not globally replace path prefix\n\nIf a subdirectory contained the source prefix in it's name,\nthis was replaced globally e.g using etc/pbr = etc, with the following\ndirectory structure:\n\netc/test\netc/sub-etc/test2\n\nwould result in the files being installed as follows:\n\netc/pbr/test\netc/pbr/sub-pbr/test2\n\nChange-Id: I0aab845315dab0aaccd5f67725d2ebcf0fd08aef\nFixes-Bug: 1810804\n""}, {'number': 3, 'created': '2019-01-07 16:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/e6610826eb96af6829044a7866da33d0c958ac70', 'message': ""Do not globally replace path prefix\n\nIf a subdirectory contained the source prefix in it's name, this was\nreplaced globally e.g using share/ansible = ansible/*, with the following\ndirectory structure:\n\nansible/roles/kolla-ansible/test\n\nwould result in the files being installed as follows:\n\nshare/ansible/roles/kolla-share/test\n\nChange-Id: I0aab845315dab0aaccd5f67725d2ebcf0fd08aef\nFixes-Bug: 1810804\n""}, {'number': 4, 'created': '2019-01-08 09:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/0f8aa9d0c8bf39c27bec9c7bed732237b27f7935', 'message': ""Do not globally replace path prefix\n\nIf a subdirectory contained the source prefix in it's name, this was\nreplaced globally e.g using share/ansible = ansible/*, with the following\ndirectory structure:\n\nansible/roles/kolla-ansible/test\n\nwould result in the files being installed as follows:\n\nshare/ansible/roles/kolla-share/test\n\nChange-Id: I0aab845315dab0aaccd5f67725d2ebcf0fd08aef\nFixes-Bug: 1810804\n""}, {'number': 5, 'created': '2019-01-09 11:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/c39d26dc28732d3f9c6a8682630d11bce3979474', 'message': ""Do not globally replace path prefix\n\nIf a subdirectory contained the source prefix in it's name, this was\nreplaced globally e.g using share/ansible = ansible/*, with the following\ndirectory structure:\n\nansible/roles/kolla-ansible/test\n\nwould result in the files being installed as follows:\n\nshare/ansible/roles/kolla-share/test\n\nThis patch changes the behavior so that only the first occurance is\nreplaced.\n\nChange-Id: I0aab845315dab0aaccd5f67725d2ebcf0fd08aef\nFixes-Bug: 1810804\n""}, {'number': 6, 'created': '2019-01-11 13:54:47.000000000', 'files': ['releasenotes/notes/fix-global-replace-of-src-prefix-in-glob-eb850b94ca96993e.yaml', 'pbr/hooks/files.py', 'pbr/tests/test_files.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/a9b31113b76bde3debc696c1ce71aa7dd594faa3', 'message': ""Do not globally replace path prefix\n\nIf a subdirectory contained the source prefix in it's name, this was\nreplaced globally e.g using share/ansible = ansible/*, with the following\ndirectory structure:\n\n  ansible/roles/kolla-ansible/test\n\nwould result in the files being installed as follows:\n\n  share/ansible/roles/kolla-share/test\n\nwhereas we expected:\n\n  share/ansible/roles/kolla-ansible/test\n\nThis patch changes the behavior so that only the first occurance is\nreplaced.\n\nChange-Id: I0aab845315dab0aaccd5f67725d2ebcf0fd08aef\nFixes-Bug: 1810804\n""}]",6,629006,a9b31113b76bde3debc696c1ce71aa7dd594faa3,24,5,6,28048,,,0,"Do not globally replace path prefix

If a subdirectory contained the source prefix in it's name, this was
replaced globally e.g using share/ansible = ansible/*, with the following
directory structure:

  ansible/roles/kolla-ansible/test

would result in the files being installed as follows:

  share/ansible/roles/kolla-share/test

whereas we expected:

  share/ansible/roles/kolla-ansible/test

This patch changes the behavior so that only the first occurance is
replaced.

Change-Id: I0aab845315dab0aaccd5f67725d2ebcf0fd08aef
Fixes-Bug: 1810804
",git fetch https://review.opendev.org/openstack/pbr refs/changes/06/629006/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/tests/test_files.py'],1,2bf879ab433a43622b95d3c5a823d8ad39eb6e93,bug/1810804," pkg_docs = os.path.join(pkg_fixture.base, 'docs', 'sub-docs') os.makedirs(pkg_docs) with open(os.path.join(pkg_docs, ""baz""), 'w') as baz_file: baz_file.write(""Baz Data"") def test_data_files_globbing_source_prefix_in_directory_name(self): # We want to test that the string, ""docs"", is not replaced in a # subdirectory name, ""sub-docs"" config = dict( files=dict( data_files=""\n docs = docs/*"" ) ) files.FilesConfig(config, 'fake_package').run() self.assertIn( '\ndocs/ = \ndocs/sub-docs = \n docs/sub-docs/baz', config['files']['data_files'])",,17,0
openstack%2Fbarbican-specs~master~I726b1691b70645bab1e4d96c1f0a1cab666754f9,openstack/barbican-specs,master,I726b1691b70645bab1e4d96c1f0a1cab666754f9,Fix author-email in setup.cfg,MERGED,2019-01-22 07:35:38.000000000,2019-01-22 19:28:55.000000000,2019-01-22 19:28:55.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 07:35:38.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/42221b1db263a91bfc66e57e1960d7b37f2575f6', 'message': 'Fix author-email in setup.cfg\n\nChange-Id: I726b1691b70645bab1e4d96c1f0a1cab666754f9\n'}]",0,632258,42221b1db263a91bfc66e57e1960d7b37f2575f6,6,2,1,29423,,,0,"Fix author-email in setup.cfg

Change-Id: I726b1691b70645bab1e4d96c1f0a1cab666754f9
",git fetch https://review.opendev.org/openstack/barbican-specs refs/changes/58/632258/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,42221b1db263a91bfc66e57e1960d7b37f2575f6,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Foslo.policy~master~If2e697f9ac0317046f5a872ad668b42c1b32eb1e,openstack/oslo.policy,master,If2e697f9ac0317046f5a872ad668b42c1b32eb1e,Add ability for policy-checker to read configuration,MERGED,2018-11-08 18:27:16.000000000,2019-01-22 19:28:19.000000000,2019-01-22 19:28:19.000000000,"[{'_account_id': 1297}, {'_account_id': 2271}, {'_account_id': 2472}, {'_account_id': 4190}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 9107}, {'_account_id': 9796}, {'_account_id': 10873}, {'_account_id': 14250}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2018-11-08 18:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/f099b8d4975603440eb6c2aa04fa08a02eb505c1', 'message': 'Add ability for policy-checker to read configuration\n\nReading configurations will enable us to be able to use the\noslopolicy-checker to do external checks (which require the\nconfiguration in the enforcer).\n\nChange-Id: If2e697f9ac0317046f5a872ad668b42c1b32eb1e\n'}, {'number': 2, 'created': '2018-11-08 18:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/ba9aa28c903880ea3c0ee9e8777650342a67a4bc', 'message': 'Add ability for policy-checker to read configuration\n\nReading configurations will enable us to be able to use the\noslopolicy-checker to do external checks (which require the\nconfiguration in the enforcer).\n\nChange-Id: If2e697f9ac0317046f5a872ad668b42c1b32eb1e\n'}, {'number': 3, 'created': '2018-11-27 09:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/f885a582ca2611c816099cb9e7abc140ca9757b0', 'message': 'Add ability for policy-checker to read configuration\n\nReading configurations will enable us to be able to use the\noslopolicy-checker to do external checks (which require the\nconfiguration in the enforcer).\n\nChange-Id: If2e697f9ac0317046f5a872ad668b42c1b32eb1e\n'}, {'number': 4, 'created': '2018-12-12 12:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/43b9e69dc147c375abf3ad4aa36b1fa6c3ae7f88', 'message': 'Add ability for policy-checker to read configuration\n\nReading configurations will enable us to be able to use the\noslopolicy-checker to do external checks (which require the\nconfiguration in the enforcer).\n\nChange-Id: If2e697f9ac0317046f5a872ad668b42c1b32eb1e\n'}, {'number': 5, 'created': '2018-12-14 11:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/b68c9db3d2af9fa050ed48603bac41ec4f82b00e', 'message': 'Add ability for policy-checker to read configuration\n\nReading configurations will enable us to be able to use the\noslopolicy-checker to do external checks (which require the\nconfiguration in the enforcer).\n\nChange-Id: If2e697f9ac0317046f5a872ad668b42c1b32eb1e\n'}, {'number': 6, 'created': '2018-12-14 11:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/2941f51c9bcca393c20979575c94a05f640642a3', 'message': 'Add ability for policy-checker to read configuration\n\nReading configurations will enable us to be able to use the\noslopolicy-checker to do external checks (which require the\nconfiguration in the enforcer).\n\nChange-Id: If2e697f9ac0317046f5a872ad668b42c1b32eb1e\n'}, {'number': 7, 'created': '2018-12-17 13:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/1e3636f894538914947f3d517593571bc24d429a', 'message': 'Add ability for policy-checker to read configuration\n\nReading configurations will enable us to be able to use the\noslopolicy-checker to do external checks (which require the\nconfiguration in the enforcer).\n\nChange-Id: If2e697f9ac0317046f5a872ad668b42c1b32eb1e\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 8, 'created': '2019-01-03 12:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/3fe99854619d5344a1bfc01cb9baec0ba44109a5', 'message': 'Add ability for policy-checker to read configuration\n\nReading configurations will enable us to be able to use the\noslopolicy-checker to do external checks (which require the\nconfiguration in the enforcer).\n\nChange-Id: If2e697f9ac0317046f5a872ad668b42c1b32eb1e\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 9, 'created': '2019-01-16 14:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/aea236c2c62b995e645113b93c2428f580f18e5d', 'message': 'Add ability for policy-checker to read configuration\n\nReading configurations will enable us to be able to use the\noslopolicy-checker to do external checks (which require the\nconfiguration in the enforcer).\n\nChange-Id: If2e697f9ac0317046f5a872ad668b42c1b32eb1e\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 10, 'created': '2019-01-21 15:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/072f38cfcc36c2e4996c63e01707180aab2b7708', 'message': 'Add ability for policy-checker to read configuration\n\nReading configurations will enable us to be able to use the\noslopolicy-checker to do external checks (which require the\nconfiguration in the enforcer).\n\nChange-Id: If2e697f9ac0317046f5a872ad668b42c1b32eb1e\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 11, 'created': '2019-01-21 15:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/970ace4cdcc8e441833f5b60743b8fdd6a5293c0', 'message': 'Add ability for policy-checker to read configuration\n\nReading configurations will enable us to be able to use the\noslopolicy-checker to do external checks (which require the\nconfiguration in the enforcer).\n\nChange-Id: If2e697f9ac0317046f5a872ad668b42c1b32eb1e\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 12, 'created': '2019-01-21 15:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/a517a91a62af20ca13d497008878a88b7c56e5ec', 'message': 'Add ability for policy-checker to read configuration\n\nReading configurations will enable us to be able to use the\noslopolicy-checker to do external checks (which require the\nconfiguration in the enforcer).\n\nChange-Id: If2e697f9ac0317046f5a872ad668b42c1b32eb1e\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 13, 'created': '2019-01-21 15:35:28.000000000', 'files': ['oslo_policy/shell.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/87c045199a70d51651c5fd7d95266d16b9e4384a', 'message': 'Add ability for policy-checker to read configuration\n\nReading configurations will enable us to be able to use the\noslopolicy-checker to do external checks (which require the\nconfiguration in the enforcer).\n\nChange-Id: If2e697f9ac0317046f5a872ad668b42c1b32eb1e\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",10,616659,87c045199a70d51651c5fd7d95266d16b9e4384a,56,16,13,10873,,,0,"Add ability for policy-checker to read configuration

Reading configurations will enable us to be able to use the
oslopolicy-checker to do external checks (which require the
configuration in the enforcer).

Change-Id: If2e697f9ac0317046f5a872ad668b42c1b32eb1e
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/59/616659/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/shell.py'],1,f099b8d4975603440eb6c2aa04fa08a02eb505c1,Iec4dab763b973b70c98077cb29708acd9cbbcec4,"from six.moves import configparserclass Config(object): def __init__(self, conf): self.conf = conf def __getattr__(self, attr): if isinstance(self.conf, configparser.SectionProxy): return self.conf[attr] return Config(self.conf[attr]) class FakeEnforcer(object): def __init__(self, rules, conf): self.rules = rules self.conf = conf target_file=None, config=None): conf = None if config: confparser = configparser.ConfigParser() confparser.read([config]) conf = Config(confparser) o = FakeEnforcer(rules, conf) parser.add_argument( '--config', help='path to a configuration file in ini format.') tool(args.policy, args.access, args.rule, is_admin, args.target, args.config)"," target_file=None): class Object(object): pass o = Object() o.rules = rules tool(args.policy, args.access, args.rule, is_admin, args.target)",31,6
openstack%2Fos-vif~master~Idabea9ee8f796f9b455f3d56580e5473e5464fc0,openstack/os-vif,master,Idabea9ee8f796f9b455f3d56580e5473e5464fc0,make kuryr-kubernetes-tempest-daemon-octavia non voting,MERGED,2019-01-22 15:19:26.000000000,2019-01-22 19:24:51.000000000,2019-01-22 19:24:50.000000000,"[{'_account_id': 7}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 15:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/9665e589093270680dc58ac204feeb06cf2c8c3c', 'message': 'make kuryr-kubernetes-tempest-daemon-octavia non voting\n\nThe kuryr-kubernetes-tempest-daemon-octavia job frequently fails\ndue to unrelated kubernetes issues. we have seen this over\nseveral relases as such this change makes it non voting\nuntil such a time as it becomes stable.\n\nChange-Id: Idabea9ee8f796f9b455f3d56580e5473e5464fc0\n'}, {'number': 2, 'created': '2019-01-22 15:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/eae5f4aaf45692807cf68808c355083f7071b927', 'message': 'make kuryr-kubernetes-tempest-daemon-octavia non voting\n\nThe kuryr-kubernetes-tempest-daemon-octavia job frequently fails\ndue to unrelated kubernetes issues. we have seen this over\nseveral relases as such this change makes it non voting\nuntil such a time as it becomes stable.\n\nChange-Id: Idabea9ee8f796f9b455f3d56580e5473e5464fc0\n'}, {'number': 3, 'created': '2019-01-22 15:23:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/cef1ae6a4a44497727fa7f88b94c45a2aba5cfbe', 'message': 'make kuryr-kubernetes-tempest-daemon-octavia non voting\n\nThe kuryr-kubernetes-tempest-daemon-octavia job frequently fails\ndue to unrelated kubernetes issues. we have seen this over\nseveral relases as such this change makes it non voting\nuntil such a time as it becomes stable.\n\nChange-Id: Idabea9ee8f796f9b455f3d56580e5473e5464fc0\n'}]",1,632484,cef1ae6a4a44497727fa7f88b94c45a2aba5cfbe,14,5,3,11604,,,0,"make kuryr-kubernetes-tempest-daemon-octavia non voting

The kuryr-kubernetes-tempest-daemon-octavia job frequently fails
due to unrelated kubernetes issues. we have seen this over
several relases as such this change makes it non voting
until such a time as it becomes stable.

Change-Id: Idabea9ee8f796f9b455f3d56580e5473e5464fc0
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/84/632484/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9665e589093270680dc58ac204feeb06cf2c8c3c,gate-jobs, voting: false, - kuryr-kubernetes-tempest-daemon-octavia,1,1
openstack%2Fos-vif~master~I1852038b8d40d4aa52c4f8e661bc78e54e0fc966,openstack/os-vif,master,I1852038b8d40d4aa52c4f8e661bc78e54e0fc966,Import IP implementation modules outside privsep context,MERGED,2019-01-07 18:24:24.000000000,2019-01-22 19:17:45.000000000,2019-01-22 19:17:45.000000000,"[{'_account_id': 7}, {'_account_id': 1131}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25733}]","[{'number': 1, 'created': '2019-01-07 18:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/928ff0a91defbe764917c03378559a69fee36904', 'message': 'Import IP implementation modules outside privsep context\n\nIf the IP module is loaded inside the privsep context, the following\nerror will occur:\n  return getattr(sys.modules[mod_str], class_str)\n  ""AttributeError: \'module\' object has no attribute \'PyRoute2\'\n\nChange-Id: I1852038b8d40d4aa52c4f8e661bc78e54e0fc966\nCloses-Bug: #1810325\n'}, {'number': 2, 'created': '2019-01-08 09:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/6220930f0d7c1e72bc962766eba979bb485bce3f', 'message': 'Import IP implementation modules outside privsep context\n\nIf the IP module is loaded inside the privsep context, the following\nerror will occur:\n  return getattr(sys.modules[mod_str], class_str)\n  ""AttributeError: \'module\' object has no attribute \'PyRoute2\'\n\nChange-Id: I1852038b8d40d4aa52c4f8e661bc78e54e0fc966\nCloses-Bug: #1810325\n'}, {'number': 3, 'created': '2019-01-16 18:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/ad6e6493e4926ea87e00464ff551e581e7942e67', 'message': 'Import IP implementation modules outside privsep context\n\nIf the IP module is loaded inside the privsep context, the following\nerror will occur:\n  return getattr(sys.modules[mod_str], class_str)\n  ""AttributeError: \'module\' object has no attribute \'PyRoute2\'\n\nChange-Id: I1852038b8d40d4aa52c4f8e661bc78e54e0fc966\nCloses-Bug: #1812090\n'}, {'number': 4, 'created': '2019-01-17 18:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/8361220a2372285308e34b0d7013bba1583cc523', 'message': 'Import IP implementation modules outside privsep context\n\nIf the IP module is loaded inside the privsep context, the following\nerror will occur:\n  return getattr(sys.modules[mod_str], class_str)\n  ""AttributeError: \'module\' object has no attribute \'PyRoute2\'\n\nChange-Id: I1852038b8d40d4aa52c4f8e661bc78e54e0fc966\nCloses-Bug: #1812090\n'}, {'number': 5, 'created': '2019-01-18 11:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/f1e4d122bc6bc69950a62443caf538276337852d', 'message': 'Import IP implementation modules outside privsep context\n\nIf the IP module is loaded inside the privsep context, the following\nerror will occur:\n  return getattr(sys.modules[mod_str], class_str)\n  ""AttributeError: \'module\' object has no attribute \'PyRoute2\'\n\nChange-Id: I1852038b8d40d4aa52c4f8e661bc78e54e0fc966\nCloses-Bug: #1812090\n'}, {'number': 6, 'created': '2019-01-18 16:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/4c82d271c9b96ffd9976c199bb13f0b3afeeec4e', 'message': 'Import IP implementation modules outside privsep context\n\nIf the IP module is loaded inside the privsep context, the following\nerror will occur:\n  return getattr(sys.modules[mod_str], class_str)\n  ""AttributeError: \'module\' object has no attribute \'PyRoute2\'\n\nChange-Id: I1852038b8d40d4aa52c4f8e661bc78e54e0fc966\nCloses-Bug: #1812090\n'}, {'number': 7, 'created': '2019-01-18 16:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/85ffbd1754690abf126cf73766c0567c1071b997', 'message': 'Import IP implementation modules outside privsep context\n\nIf the IP module is loaded inside the privsep context, the following\nerror will occur:\n  return getattr(sys.modules[mod_str], class_str)\n  ""AttributeError: \'module\' object has no attribute \'PyRoute2\'\n\nChange-Id: I1852038b8d40d4aa52c4f8e661bc78e54e0fc966\nCloses-Bug: #1812090\n'}, {'number': 8, 'created': '2019-01-18 17:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/b86435aaa7d57eff8580fa1ac3ed528ea7f837ee', 'message': 'Import IP implementation modules outside privsep context\n\nIf the IP module is loaded inside the privsep context, the following\nerror will occur:\n  return getattr(sys.modules[mod_str], class_str)\n  ""AttributeError: \'module\' object has no attribute \'PyRoute2\'\n\nChange-Id: I1852038b8d40d4aa52c4f8e661bc78e54e0fc966\nCloses-Bug: #1812090\n'}, {'number': 9, 'created': '2019-01-18 20:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/39e5ad56cf426795d1b4ccff6cbc0c4b2d818aea', 'message': 'Import IP implementation modules outside privsep context\n\nIf the IP module is loaded inside the privsep context, the following\nerror will occur:\n  return getattr(sys.modules[mod_str], class_str)\n  ""AttributeError: \'module\' object has no attribute \'PyRoute2\'\n\nChange-Id: I1852038b8d40d4aa52c4f8e661bc78e54e0fc966\nCloses-Bug: #1812090\n'}, {'number': 10, 'created': '2019-01-22 09:18:13.000000000', 'files': ['os_vif/internal/command/ip/api.py', 'os_vif/internal/command/ip/__init__.py', 'os_vif/tests/unit/internal/command/ip/test_api.py', 'os_vif/tests/functional/internal/command/ip/test_impl_pyroute2.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/843d84c819022621fb6609609d00dc4e02c37780', 'message': 'Import IP implementation modules outside privsep context\n\nIf the IP module is loaded inside the privsep context, the following\nerror will occur:\n  return getattr(sys.modules[mod_str], class_str)\n  ""AttributeError: \'module\' object has no attribute \'PyRoute2\'\n\nChange-Id: I1852038b8d40d4aa52c4f8e661bc78e54e0fc966\nCloses-Bug: #1812090\n'}]",16,629025,843d84c819022621fb6609609d00dc4e02c37780,65,11,10,16688,,,0,"Import IP implementation modules outside privsep context

If the IP module is loaded inside the privsep context, the following
error will occur:
  return getattr(sys.modules[mod_str], class_str)
  ""AttributeError: 'module' object has no attribute 'PyRoute2'

Change-Id: I1852038b8d40d4aa52c4f8e661bc78e54e0fc966
Closes-Bug: #1812090
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/25/629025/10 && git format-patch -1 --stdout FETCH_HEAD,"['os_vif/internal/command/ip/api.py', 'os_vif/internal/command/ip/__init__.py', 'os_vif/tests/unit/internal/command/ip/test_api.py', 'os_vif/tests/functional/internal/command/ip/test_impl_pyroute2.py']",4,928ff0a91defbe764917c03378559a69fee36904,bug/1812090,"from os_vif.internal.command.ip import api api.ip_lib_class().set(*args, **kwargs) api.ip_lib_class().add(*args, **kwargs) api.ip_lib_class().delete(*args, **kwargs)","from os_vif.internal.command.ip.linux import impl_pyroute2 impl_pyroute2.PyRoute2().set(*args, **kwargs) impl_pyroute2.PyRoute2().add(*args, **kwargs) impl_pyroute2.PyRoute2().delete(*args, **kwargs)",30,29
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I90d7bc73000352ad2c4b3f08f00d2a115f075a5e,openstack/tripleo-heat-templates,stable/queens,I90d7bc73000352ad2c4b3f08f00d2a115f075a5e,Spliting compact services in multiples lines,MERGED,2018-12-17 19:14:38.000000000,2019-01-22 19:17:11.000000000,2019-01-18 10:27:04.000000000,"[{'_account_id': 3153}, {'_account_id': 7973}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-17 19:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1dbe4216eeb7dd4051a55337be7003d91e5e6041', 'message': 'Spliting compact services in multiples lines\n\nWhen we generate metadata for compact services, all of the compact\nservices where joining in one single blob and we hit the size limit\nfor it. Splitting compact services each one with per line with the\ncompact service name and a list of their networks, so we will not hit\nthis size limit anymore.\n\nChange-Id: I90d7bc73000352ad2c4b3f08f00d2a115f075a5e\nDepends-On: Ida39f5768c67f982b2fe316f6fae4988a74c8534\n(cherry picked from commit 12468acb11edf1715b54b3ab6839d98b94899c2c)\n'}, {'number': 2, 'created': '2018-12-20 22:52:31.000000000', 'files': ['extraconfig/nova_metadata/krb-service-principals.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cbbf43b6181235eddc83f6c03b9565fa086866ac', 'message': 'Spliting compact services in multiples lines\n\nWhen we generate metadata for compact services, all of the compact\nservices where joining in one single blob and we hit the size limit\nfor it. Splitting compact services each one with per line with the\ncompact service name and a list of their networks, so we will not hit\nthis size limit anymore.\n\nChange-Id: I90d7bc73000352ad2c4b3f08f00d2a115f075a5e\nDepends-On: Ida39f5768c67f982b2fe316f6fae4988a74c8534\n(cherry picked from commit 12468acb11edf1715b54b3ab6839d98b94899c2c)\n'}]",0,625693,cbbf43b6181235eddc83f6c03b9565fa086866ac,12,5,2,8866,,,0,"Spliting compact services in multiples lines

When we generate metadata for compact services, all of the compact
services where joining in one single blob and we hit the size limit
for it. Splitting compact services each one with per line with the
compact service name and a list of their networks, so we will not hit
this size limit anymore.

Change-Id: I90d7bc73000352ad2c4b3f08f00d2a115f075a5e
Depends-On: Ida39f5768c67f982b2fe316f6fae4988a74c8534
(cherry picked from commit 12468acb11edf1715b54b3ab6839d98b94899c2c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/625693/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/nova_metadata/krb-service-principals.j2.yaml'],1,1dbe4216eeb7dd4051a55337be7003d91e5e6041,compact_services-stable/rocky-stable/queens," expression: dict(coalesce($.data, []).where($ != null and $.type = 'node').groupBy(concat('compact_service_', $.service), $.network.replace('_', ''))) - {get_attr: [CompactServices, value]}"," expression: dict(coalesce($.data, []).where($ != null and $.type = 'node').select([$.service, $.network.replace('_', '')]).groupBy($[0], $[1])) - compact_services: {get_attr: [CompactServices, value]}",2,2
openstack%2Ftripleo-common~master~Id55a4ea7f0e8a8d95a49ba93853cf7844d938f43,openstack/tripleo-common,master,Id55a4ea7f0e8a8d95a49ba93853cf7844d938f43,New role to create/update/delete hiera value during upgrade.,MERGED,2019-01-16 17:13:34.000000000,2019-01-22 19:08:50.000000000,2019-01-22 19:08:50.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-16 17:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/210e4e9c14e466152c746472f08fc6d8f97a0e8f', 'message': '[WIP] New role to create/update/delete hiera value during upgrade.\n\nWe need to override the cluster definition during upgrade, so that we\ncan build a one node cluster followed by a two and three nodes\ncluster.\n\nChange-Id: Id55a4ea7f0e8a8d95a49ba93853cf7844d938f43\nImplements: blueprint upgrades-with-os\n'}, {'number': 2, 'created': '2019-01-17 11:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6d5490044705d91e567b713797ca8138de6e1262', 'message': '[WIP] New role to create/update/delete hiera value during upgrade.\n\nWe need to override the cluster definition during upgrade, so that we\ncan build a one node cluster followed by a two and three nodes\ncluster.\n\nChange-Id: Id55a4ea7f0e8a8d95a49ba93853cf7844d938f43\nImplements: blueprint upgrades-with-os\n'}, {'number': 3, 'created': '2019-01-17 13:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2e0f7ce517346eba4d66034640591986e698bb88', 'message': 'New role to create/update/delete hiera value during upgrade.\n\nWe need to override the cluster definition during upgrade, so that we\ncan build a one node cluster followed by a two and three nodes\ncluster.\n\nChange-Id: Id55a4ea7f0e8a8d95a49ba93853cf7844d938f43\nImplements: blueprint upgrades-with-os\n'}, {'number': 4, 'created': '2019-01-22 10:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/35eeb7b3830afedf3aed6c0fde7f1c03356d7a98', 'message': 'New role to create/update/delete hiera value during upgrade.\n\nWe need to override the cluster definition during upgrade, so that we\ncan build a one node cluster followed by a two and three nodes\ncluster.\n\nChange-Id: Id55a4ea7f0e8a8d95a49ba93853cf7844d938f43\nImplements: blueprint upgrades-with-os\n'}, {'number': 5, 'created': '2019-01-22 11:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/887b7e1ee2d1c3a2e21f4a579ba6903057528981', 'message': 'New role to create/update/delete hiera value during upgrade.\n\nWe need to override the cluster definition during upgrade, so that we\ncan build a one node cluster followed by a two and three nodes\ncluster.\n\nChange-Id: Id55a4ea7f0e8a8d95a49ba93853cf7844d938f43\nImplements: blueprint upgrades-with-os\n'}, {'number': 6, 'created': '2019-01-22 12:54:20.000000000', 'files': ['roles/tripleo-upgrade-hiera/tasks/set.yml', 'roles/tripleo-upgrade-hiera/tasks/remove-all.yml', 'roles/tripleo-upgrade-hiera/defaults/main.yml', 'roles/tripleo-upgrade-hiera/tasks/create-tripleo-upgrade-file.yml', 'roles/tripleo-upgrade-hiera/README.md', 'roles/tripleo-upgrade-hiera/test-playbook.yml', 'roles/tripleo-upgrade-hiera/tasks/remove.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/de7df308e0ca3a80551525fe59cb14d62d5b026d', 'message': 'New role to create/update/delete hiera value during upgrade.\n\nWe need to override the cluster definition during upgrade, so that we\ncan build a one node cluster followed by a two and three nodes\ncluster.\n\nChange-Id: Id55a4ea7f0e8a8d95a49ba93853cf7844d938f43\nImplements: blueprint upgrades-with-os\n'}]",12,631282,de7df308e0ca3a80551525fe59cb14d62d5b026d,27,5,6,8297,,,0,"New role to create/update/delete hiera value during upgrade.

We need to override the cluster definition during upgrade, so that we
can build a one node cluster followed by a two and three nodes
cluster.

Change-Id: Id55a4ea7f0e8a8d95a49ba93853cf7844d938f43
Implements: blueprint upgrades-with-os
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/82/631282/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-upgrade-hiera/tasks/set.yml', 'roles/tripleo-upgrade-hiera/tasks/remove-all.yml', 'roles/tripleo-upgrade-hiera/defaults/main.yml', 'roles/tripleo-upgrade-hiera/README.md', 'roles/tripleo-upgrade-hiera/test-playbook.yml', 'roles/tripleo-upgrade-hiera/tasks/remove.yml']",6,210e4e9c14e466152c746472f08fc6d8f97a0e8f,bp/upgrades-with-os,"--- - name: load tripleo-upgrade hiera file include_tasks: load-tripleo-upgrade-hiera-file.yml - debug: msg=""{{ tripleo_upgrade_hiera_data | to_nice_json }}"" - name: remove a tripleo-upgrade key set_fact: tripleo_upgrade_hiera_data_del: ""{{ tripleo_upgrade_hiera_data_del|default({})|combine({item.key: item.value}) }}"" cacheable: no when: item.key.find(tripleo_upgrade_key) with_dict: ""{{ tripleo_upgrade_hiera_command.stdout | from_json | default({}) }}"" - debug: msg=""{{ tripleo_upgrade_hiera_data_del | to_nice_json }}"" - name: write the updated tripleo-upgrade hiera data copy: content: ""{{ tripleo_upgrade_hiera_data_del | to_nice_json }}"" dest: ""{{tripleo_upgrade_hiera_file}}"" become: yes ",,129,0
openstack%2Ftripleo-common~master~I4afbfb5094c43aa4bca21968dca7b4d3cd56aef0,openstack/tripleo-common,master,I4afbfb5094c43aa4bca21968dca7b4d3cd56aef0,Ansible role to transfer data from an overcloud node to another,MERGED,2019-01-16 16:01:50.000000000,2019-01-22 19:08:49.000000000,2019-01-22 19:08:49.000000000,"[{'_account_id': 8297}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-01-16 16:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3b678e76123c369c4efa207344818bbeaff403ad', 'message': ""Ansible role to transfer data from an overcloud node to another\n\nThis will be used when doing canary-like controller upgrade with\nreprovisioning. We'll transfer DB data from a recently stopped old\nnode to a new reprovisioned node to bootstrap a new controller\ncluster.\n\nChange-Id: I4afbfb5094c43aa4bca21968dca7b4d3cd56aef0\nImplements: blueprint upgrades-with-os\n""}, {'number': 2, 'created': '2019-01-17 13:06:34.000000000', 'files': ['roles/tripleo-transfer/tasks/main.yml', 'roles/tripleo-transfer/test-playbook.yml', 'roles/tripleo-transfer/README.md', 'roles/tripleo-transfer/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/75af95b78d4cb7a0c429a3cf6b00e0944152d485', 'message': ""Ansible role to transfer data from an overcloud node to another\n\nThis will be used when doing canary-like controller upgrade with\nreprovisioning. We'll transfer DB data from a recently stopped old\nnode to a new reprovisioned node to bootstrap a new controller\ncluster.\n\nChange-Id: I4afbfb5094c43aa4bca21968dca7b4d3cd56aef0\nImplements: blueprint upgrades-with-os\n""}]",0,631268,75af95b78d4cb7a0c429a3cf6b00e0944152d485,12,5,2,8042,,,0,"Ansible role to transfer data from an overcloud node to another

This will be used when doing canary-like controller upgrade with
reprovisioning. We'll transfer DB data from a recently stopped old
node to a new reprovisioned node to bootstrap a new controller
cluster.

Change-Id: I4afbfb5094c43aa4bca21968dca7b4d3cd56aef0
Implements: blueprint upgrades-with-os
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/68/631268/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-transfer/tasks/main.yml', 'roles/tripleo-transfer/test-playbook.yml', 'roles/tripleo-transfer/README.md', 'roles/tripleo-transfer/defaults/main.yml']",4,3b678e76123c369c4efa207344818bbeaff403ad,bp/upgrades-with-os,tripleo_transfer_storage_root_dir: /var/lib/mistral/tripleo-transfer tripleo_transfer_storage_root_become: false tripleo_transfer_src_become: true tripleo_transfer_dest_become: true tripleo_transfer_dest_wipe: true ,,140,0
openstack%2Ftripleo-common~master~If059c477cb2d344fa4c00ce4ea89269c4ef747bd,openstack/tripleo-common,master,If059c477cb2d344fa4c00ce4ea89269c4ef747bd,Ansible role for data presistence and restoration,MERGED,2019-01-15 10:22:19.000000000,2019-01-22 19:08:48.000000000,2019-01-22 19:08:48.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-01-15 10:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/59f7737e2fb5f88b2a43b149be1cbb9aa3896433', 'message': 'Add a role for data presistence and restoration\n\nThis can be used for temporary persisting data on undercloud if we\nwant to reprovision the overcloud nodes.\n\nChange-Id: If059c477cb2d344fa4c00ce4ea89269c4ef747bd\nImplements: blueprint upgrades-with-os\n'}, {'number': 2, 'created': '2019-01-15 13:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6e91acd90419a7f6c71ce301cdd4b148431a0290', 'message': 'Add a role for data presistence and restoration\n\nThis can be used for temporary persisting data on undercloud if we\nwant to reprovision the overcloud nodes.\n\nChange-Id: If059c477cb2d344fa4c00ce4ea89269c4ef747bd\nImplements: blueprint upgrades-with-os\n'}, {'number': 3, 'created': '2019-01-15 14:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c64cde2982ae4b635f1abb921accdb342349d575', 'message': 'Add a role for data presistence and restoration\n\nThis can be used for temporary persisting data on undercloud if we\nwant to reprovision the overcloud nodes.\n\nChange-Id: If059c477cb2d344fa4c00ce4ea89269c4ef747bd\nImplements: blueprint upgrades-with-os\n'}, {'number': 4, 'created': '2019-01-15 14:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8a7dbc2981afbf553aeae02cde865d2bf70dd6a5', 'message': 'Add a role for data presistence and restoration\n\nThis can be used for temporary persisting data on undercloud if we\nwant to reprovision the overcloud nodes.\n\nChange-Id: If059c477cb2d344fa4c00ce4ea89269c4ef747bd\nImplements: blueprint upgrades-with-os\n'}, {'number': 5, 'created': '2019-01-16 14:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d717bd15a41e74a3f7e5e145c48f536d75cfd4ba', 'message': 'Add a role for data presistence and restoration\n\nThis can be used for temporary persisting data on undercloud if we\nwant to reprovision the overcloud nodes.\n\nChange-Id: If059c477cb2d344fa4c00ce4ea89269c4ef747bd\nImplements: blueprint upgrades-with-os\n'}, {'number': 6, 'created': '2019-01-16 16:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/383844f2fb4c4d047361b814710aee100b940ad6', 'message': 'Ansible role for data presistence and restoration\n\nThis can be used for temporary persisting data on undercloud if we\nwant to reprovision the overcloud nodes.\n\nChange-Id: If059c477cb2d344fa4c00ce4ea89269c4ef747bd\nImplements: blueprint upgrades-with-os\n'}, {'number': 7, 'created': '2019-01-17 13:06:34.000000000', 'files': ['roles/tripleo-persist/test-playbook.yml', 'roles/tripleo-persist/README.md', 'roles/tripleo-persist/tasks/persist.yml', 'roles/tripleo-persist/defaults/main.yml', 'roles/tripleo-persist/tasks/restore.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6bcdb4fddfa4fce9d9145b57ed7ac04e6ef1bed1', 'message': 'Ansible role for data presistence and restoration\n\nThis can be used for temporary persisting data on undercloud if we\nwant to reprovision the overcloud nodes.\n\nChange-Id: If059c477cb2d344fa4c00ce4ea89269c4ef747bd\nImplements: blueprint upgrades-with-os\n'}]",5,630921,6bcdb4fddfa4fce9d9145b57ed7ac04e6ef1bed1,28,7,7,8042,,,0,"Ansible role for data presistence and restoration

This can be used for temporary persisting data on undercloud if we
want to reprovision the overcloud nodes.

Change-Id: If059c477cb2d344fa4c00ce4ea89269c4ef747bd
Implements: blueprint upgrades-with-os
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/21/630921/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-persist/test-playbook.yml', 'roles/tripleo-persist/README.md', 'roles/tripleo-persist/tasks/persist.yml', 'roles/tripleo-persist/defaults/main.yml', 'roles/tripleo-persist/tasks/restore.yml']",5,59f7737e2fb5f88b2a43b149be1cbb9aa3896433,bp/upgrades-with-os,"- name: make sure the parent directory is present file: path: ""{{tripleo_persist_dir|dirname}}"" state: directory become: true delegate_to: ""{{tripleo_persist_target}}"" - name: push and extract the archive unarchive: src: ""{{tripleo_persist_storage_root_dir}}/{{tripleo_persist_target}}{{tripleo_persist_dir}}.tar.gz"" dest: ""{{tripleo_persist_dir|dirname}}"" become: true delegate_to: ""{{tripleo_persist_target}}"" ",,105,0
openstack%2Foslo.db~master~I04147f3cbcb9c89a9a1afc1bcb299be8bdf06718,openstack/oslo.db,master,I04147f3cbcb9c89a9a1afc1bcb299be8bdf06718,Update hacking version,MERGED,2018-12-28 14:52:24.000000000,2019-01-22 19:07:49.000000000,2019-01-22 19:07:49.000000000,"[{'_account_id': 15334}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-12-28 14:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/d72b1570fea507dd27486cf13c73705904647eb1', 'message': 'Update hacking version\n\nChange-Id: I04147f3cbcb9c89a9a1afc1bcb299be8bdf06718\n'}, {'number': 2, 'created': '2018-12-30 13:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/12d4ebdee30ccaf6988e4b4cbb3c01dd4323168a', 'message': 'Update hacking version\n\nupdate the hacking to latest, due to [1]\n\n[1]: https://github.com/openstack/oslo.db/blob/master/HACKING.rst\n\nChange-Id: I04147f3cbcb9c89a9a1afc1bcb299be8bdf06718\n'}, {'number': 3, 'created': '2019-01-02 16:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/03a6112ca7c0b52fb2d30a0cf7dd58472cfa26dd', 'message': 'Update hacking version\n\nupdate the hacking to latest, due to [1]\n\n[1]: https://github.com/openstack/oslo.db/blob/master/HACKING.rst\n\nChange-Id: I04147f3cbcb9c89a9a1afc1bcb299be8bdf06718\n'}, {'number': 4, 'created': '2019-01-02 16:53:26.000000000', 'files': ['oslo_db/sqlalchemy/update_match.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/0d75776ae5c0fb78863b7c93b54c58b5600da93d', 'message': 'Update hacking version\n\nupdate the hacking to latest, due to [1]\n\n[1]: https://github.com/openstack/oslo.db/blob/master/HACKING.rst\n\nChange-Id: I04147f3cbcb9c89a9a1afc1bcb299be8bdf06718\n'}]",0,627654,0d75776ae5c0fb78863b7c93b54c58b5600da93d,15,4,4,21691,,,0,"Update hacking version

update the hacking to latest, due to [1]

[1]: https://github.com/openstack/oslo.db/blob/master/HACKING.rst

Change-Id: I04147f3cbcb9c89a9a1afc1bcb299be8bdf06718
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/54/627654/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d72b1570fea507dd27486cf13c73705904647eb1,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",1,1
openstack%2Fironic-lib~stable%2Frocky~I9db48a3462422749290bbb887c14816734ab0478,openstack/ironic-lib,stable/rocky,I9db48a3462422749290bbb887c14816734ab0478,Run sync and partprobe after adding a configdrive partition,MERGED,2019-01-11 12:00:52.000000000,2019-01-22 18:59:15.000000000,2019-01-22 18:59:15.000000000,"[{'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-11 12:00:52.000000000', 'files': ['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/95c6a2a32f060453465b6e56af325c1c6a25937f', 'message': ""Run sync and partprobe after adding a configdrive partition\n\nWe're hitting a problem in the CI where /dev/sda2 does not exist after\nbeing created. The logs suggest running partprobe may fix the problem,\nso let's try it.\n\nWith this, we can also encounter a case where there refresh will fail\nbecause the partition was created using fsync calls to force the write\nof the partition table. However, filesystem VFS layer does impact this\nbehavior, and fsync on files in a ramdisk is a noop, so we must force\neverything to be flushed to disk before attempting to execute partprobe.\n\nAlso run 'sgdisk -v' after partitioning to leave some traces in the logs\nfor debugging when something goes wrong.\n\nStory: #2004744\nTask: #28815\nChange-Id: I9db48a3462422749290bbb887c14816734ab0478\nDepends-On: I8d6f8c99e1ab5f26e3537630d0f6086e02a2b1ec\n(cherry picked from commit 653b59a09d93af736ac02733de05045097bb2b3d)\n""}]",0,630180,95c6a2a32f060453465b6e56af325c1c6a25937f,8,4,1,10239,,,0,"Run sync and partprobe after adding a configdrive partition

We're hitting a problem in the CI where /dev/sda2 does not exist after
being created. The logs suggest running partprobe may fix the problem,
so let's try it.

With this, we can also encounter a case where there refresh will fail
because the partition was created using fsync calls to force the write
of the partition table. However, filesystem VFS layer does impact this
behavior, and fsync on files in a ramdisk is a noop, so we must force
everything to be flushed to disk before attempting to execute partprobe.

Also run 'sgdisk -v' after partitioning to leave some traces in the logs
for debugging when something goes wrong.

Story: #2004744
Task: #28815
Change-Id: I9db48a3462422749290bbb887c14816734ab0478
Depends-On: I8d6f8c99e1ab5f26e3537630d0f6086e02a2b1ec
(cherry picked from commit 653b59a09d93af736ac02733de05045097bb2b3d)
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/80/630180/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",2,95c6a2a32f060453465b6e56af325c1c6a25937f,story/2004744-stable/rocky," # Parted uses fsync to tell the kernel to sync file io # however on ramdisks in ramfs, this is an explicit no-op. # Explicitly call sync so when the the kernel attempts to read # the partition table from disk, it is less likely that the write # is still in buffer cache pending write to disk. LOG.debug('Explicitly calling sync to force buffer/cache flush.') utils.execute('sync') # Make sure any additions to the partitioning are reflected in the # kernel. LOG.debug('Waiting until udev event queue is empty') utils.execute('udevadm', 'settle') try: utils.execute('partprobe', device, run_as_root=True, attempts=CONF.disk_utils.partprobe_attempts) # Also verify that the partitioning is correct now. utils.execute('sgdisk', '-v', device, run_as_root=True) except processutils.ProcessExecutionError as exc: LOG.warning('Failed to verify GPT partitioning after creating ' 'the configdrive partition: %s', exc)",,39,4
openstack%2Fpuppet-openstack_spec_helper~master~Ifd9c6cff2fe4b7682c4d1349019333bc9fee9d04,openstack/puppet-openstack_spec_helper,master,Ifd9c6cff2fe4b7682c4d1349019333bc9fee9d04,Default puppet version to >= 5.5,MERGED,2018-11-20 01:02:40.000000000,2019-01-22 18:47:36.000000000,2019-01-22 18:47:36.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-20 01:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/df5f04d532617eeb85f32f7a1b8fc6e4cea75ae4', 'message': 'Default puppet version to >= 5.5\n\nThe current one default to 5.5.x however when\nwe set puppet_gem_version to latest this actually\nbreaks the notion that ""latest"" should pull in\npuppet 6.0.4\n\nChanging this to >= 5.5 will cause it to select\nlatest version above or equal to 5.5 which should\nbe 6.0.4\n\nSince we specify puppet_gem_version for all jobs\nthat should use puppet 4, puppet 5 etc this should\nbe safe.\n\nChange-Id: Ifd9c6cff2fe4b7682c4d1349019333bc9fee9d04\n'}, {'number': 2, 'created': '2019-01-05 21:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/aa01d18d46575ede3abf9ccea79005d32368b621', 'message': 'Default puppet version to >= 5.5\n\nThe current one default to 5.5.x however when\nwe set puppet_gem_version to latest this actually\nbreaks the notion that ""latest"" should pull in\npuppet 6.0.4\n\nChanging this to >= 5.5 will cause it to select\nlatest version above or equal to 5.5 which should\nbe 6.0.4\n\nSince we specify puppet_gem_version for all jobs\nthat should use puppet 4, puppet 5 etc this should\nbe safe.\n\nChange-Id: Ifd9c6cff2fe4b7682c4d1349019333bc9fee9d04\n'}, {'number': 3, 'created': '2019-01-16 16:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/1a52d0bd4d4878405f17d6e062e1db0c967015a6', 'message': 'Default puppet version to >= 5.5\n\nThe current one default to 5.5.x however when\nwe set puppet_gem_version to latest this actually\nbreaks the notion that ""latest"" should pull in\npuppet 6.0.4\n\nChanging this to >= 5.5 will cause it to select\nlatest version above or equal to 5.5 which should\nbe 6.0.4\n\nSince we specify puppet_gem_version for all jobs\nthat should use puppet 4, puppet 5 etc this should\nbe safe.\n\nChange-Id: Ifd9c6cff2fe4b7682c4d1349019333bc9fee9d04\n'}, {'number': 4, 'created': '2019-01-17 09:28:08.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/c10cc3fe6db65787ca9dee375d6d19c9e97787d2', 'message': 'Default puppet version to >= 5.5\n\nThe current one default to 5.5.x however when\nwe set puppet_gem_version to latest this actually\nbreaks the notion that ""latest"" should pull in\npuppet 6.0.4\n\nChanging this to >= 5.5 will cause it to select\nlatest version above or equal to 5.5 which should\nbe 6.0.4\n\nSince we specify puppet_gem_version for all jobs\nthat should use puppet 4, puppet 5 etc this should\nbe safe.\n\nDepends-On: https://review.openstack.org/#/c/631284/\nChange-Id: Ifd9c6cff2fe4b7682c4d1349019333bc9fee9d04\n'}]",0,618920,c10cc3fe6db65787ca9dee375d6d19c9e97787d2,16,4,4,16137,,,0,"Default puppet version to >= 5.5

The current one default to 5.5.x however when
we set puppet_gem_version to latest this actually
breaks the notion that ""latest"" should pull in
puppet 6.0.4

Changing this to >= 5.5 will cause it to select
latest version above or equal to 5.5 which should
be 6.0.4

Since we specify puppet_gem_version for all jobs
that should use puppet 4, puppet 5 etc this should
be safe.

Depends-On: https://review.openstack.org/#/c/631284/
Change-Id: Ifd9c6cff2fe4b7682c4d1349019333bc9fee9d04
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/20/618920/4 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,df5f04d532617eeb85f32f7a1b8fc6e4cea75ae4,default-puppet-version, puppetversion = ENV.key?('PUPPET_GEM_VERSION') ? ENV['PUPPET_GEM_VERSION'] : ['>= 5.5'], puppetversion = ENV.key?('PUPPET_GEM_VERSION') ? ENV['PUPPET_GEM_VERSION'] : ['~> 5.5'],1,1
openstack%2Fopenstacksdk~master~Ibfbb796b57df9e6046b07485fccde9b8c6984a35,openstack/openstacksdk,master,Ibfbb796b57df9e6046b07485fccde9b8c6984a35,[DNM] Testing metalsmith CI,ABANDONED,2019-01-22 16:08:57.000000000,2019-01-22 18:25:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-22 16:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6f4be8526bf4034b4e333ee6b617cf5f1383296b', 'message': '[DNM] Testing metalsmith CI\n\nChange-Id: Ibfbb796b57df9e6046b07485fccde9b8c6984a35\n'}, {'number': 2, 'created': '2019-01-22 16:10:43.000000000', 'files': ['openstack/baremetal/configdrive.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2b592111644f96ae5385f8e88456d2b763666f07', 'message': '[DNM] Testing metalsmith CI\n\nChange-Id: Ibfbb796b57df9e6046b07485fccde9b8c6984a35\n'}]",0,632497,2b592111644f96ae5385f8e88456d2b763666f07,5,1,2,10239,,,0,"[DNM] Testing metalsmith CI

Change-Id: Ibfbb796b57df9e6046b07485fccde9b8c6984a35
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/97/632497/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/baremetal/configdrive.py'],1,6f4be8526bf4034b4e333ee6b617cf5f1383296b,metalsmith, assert False,,1,0
openstack%2Fnova~master~I79e191010adbc0ec0ed02c9d589106debbf90ea8,openstack/nova,master,I79e191010adbc0ec0ed02c9d589106debbf90ea8,Cleanup soft (anti)affinity weight multiplier options,MERGED,2019-01-03 15:35:58.000000000,2019-01-22 18:25:15.000000000,2019-01-22 18:25:15.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27190}]","[{'number': 1, 'created': '2019-01-03 15:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee55b84b5e059500b58be4cd22e09fe690a936fc', 'message': 'Cleanup soft (anti)affinity weight multiplier options\n\nThis resolves the TODO from Ocata change:\n\n  I8871b628f0ab892830ceeede68db16948cb293c8\n\nBy adding a min=0.0 value to the soft affinity\nweight multiplier configuration options.\n\nIt also removes the deprecated [DEFAULT] group\nalias from Ocata change:\n\n  I3f48e52815e80c99612bcd10cb53331a8c995fc3\n\nChange-Id: I79e191010adbc0ec0ed02c9d589106debbf90ea8\n'}, {'number': 2, 'created': '2019-01-19 23:03:31.000000000', 'files': ['releasenotes/notes/stein-affinity-weight-multiplier-cleanup-fed9ec25660befd3.yaml', 'doc/source/user/filter-scheduler.rst', 'nova/tests/unit/scheduler/weights/test_weights_affinity.py', 'doc/source/admin/configuration/schedulers.rst', 'nova/conf/scheduler.py', 'nova/scheduler/weights/affinity.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/313becd5ffac3fd7c9a41d34134ee66d9a145228', 'message': 'Cleanup soft (anti)affinity weight multiplier options\n\nThis resolves the TODO from Ocata change:\n\n  I8871b628f0ab892830ceeede68db16948cb293c8\n\nBy adding a min=0.0 value to the soft affinity\nweight multiplier configuration options.\n\nIt also removes the deprecated [DEFAULT] group\nalias from Ocata change:\n\n  I3f48e52815e80c99612bcd10cb53331a8c995fc3\n\nChange-Id: I79e191010adbc0ec0ed02c9d589106debbf90ea8\n'}]",0,628205,313becd5ffac3fd7c9a41d34134ee66d9a145228,37,19,2,6873,,,0,"Cleanup soft (anti)affinity weight multiplier options

This resolves the TODO from Ocata change:

  I8871b628f0ab892830ceeede68db16948cb293c8

By adding a min=0.0 value to the soft affinity
weight multiplier configuration options.

It also removes the deprecated [DEFAULT] group
alias from Ocata change:

  I3f48e52815e80c99612bcd10cb53331a8c995fc3

Change-Id: I79e191010adbc0ec0ed02c9d589106debbf90ea8
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/628205/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/stein-affinity-weight-multiplier-cleanup-fed9ec25660befd3.yaml', 'nova/tests/unit/scheduler/weights/test_weights_affinity.py', 'nova/conf/scheduler.py', 'nova/scheduler/weights/affinity.py']",4,ee55b84b5e059500b58be4cd22e09fe690a936fc,scheduler-opts-cleanup,, warning_sent = False if (CONF.filter_scheduler.soft_affinity_weight_multiplier < 0 and not self.warning_sent): LOG.warning('For the soft_affinity_weight_multiplier only a ' 'positive value is meaningful as a negative value ' 'would mean that the affinity weigher would ' 'prefer non-collocating placement. Future ' 'versions of nova will restrict the config ' 'option to values >=0. Update your configuration ' 'file to mitigate future upgrade issues.') self.warning_sent = True warning_sent = False if (CONF.filter_scheduler.soft_anti_affinity_weight_multiplier < 0 and not self.warning_sent): LOG.warning('For the soft_anti_affinity_weight_multiplier ' 'only a positive value is meaningful as a ' 'negative value would mean that the anti-affinity ' 'weigher would prefer collocating placement. ' 'Future versions of nova will restrict the ' 'config option to values >=0. Update your ' 'configuration file to mitigate future upgrade ' 'issues.') self.warning_sent = True ,10,55
openstack%2Fglance~feature%2Fmetadata-caching~I14a0ce3da41db4cf2f7a3dd3b9be152881501a75,openstack/glance,feature/metadata-caching,I14a0ce3da41db4cf2f7a3dd3b9be152881501a75,Update UPPER_CONSTRAINTS_FILE for feature/metadata-caching,ABANDONED,2019-01-22 18:21:55.000000000,2019-01-22 18:24:09.000000000,,[],"[{'number': 1, 'created': '2019-01-22 18:21:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/cdda17ebd8d737b626c355b29dae86cc2bd12df3', 'message': ""Update UPPER_CONSTRAINTS_FILE for feature/metadata-caching\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I14a0ce3da41db4cf2f7a3dd3b9be152881501a75\n""}]",0,632525,cdda17ebd8d737b626c355b29dae86cc2bd12df3,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for feature/metadata-caching

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I14a0ce3da41db4cf2f7a3dd3b9be152881501a75
",git fetch https://review.opendev.org/openstack/glance refs/changes/25/632525/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cdda17ebd8d737b626c355b29dae86cc2bd12df3,create-metadata-caching,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=feature/metadata-caching} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=feature/metadata-caching} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=feature/metadata-caching} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=feature/metadata-caching},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},4,4
openstack%2Freleases~master~Ia665c9d1ebaf5c5f1fc1670dabb25332e14a4861,openstack/releases,master,Ia665c9d1ebaf5c5f1fc1670dabb25332e14a4861,Add feature branch to glance repo,MERGED,2019-01-22 17:27:43.000000000,2019-01-22 18:16:31.000000000,2019-01-22 18:16:31.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 17:27:43.000000000', 'files': ['deliverables/stein/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/93a13abba5632092c7c0201f380b785963b08439', 'message': 'Add feature branch to glance repo\n\nThis change adds feature branch into glance repo for metadata\ncaching work experiments.\n\nChange-Id: Ia665c9d1ebaf5c5f1fc1670dabb25332e14a4861\n'}]",0,632518,93a13abba5632092c7c0201f380b785963b08439,6,2,1,5202,,,0,"Add feature branch to glance repo

This change adds feature branch into glance repo for metadata
caching work experiments.

Change-Id: Ia665c9d1ebaf5c5f1fc1670dabb25332e14a4861
",git fetch https://review.opendev.org/openstack/releases refs/changes/18/632518/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/glance.yaml'],1,93a13abba5632092c7c0201f380b785963b08439,glance/feature/metadatacaching,branches: - name: feature/metadata-caching location: openstack/glance: 437ba3ee9b361b33e8918b804bd35f25a722457c,,4,0
openstack%2Fpuppet-pacemaker~master~I94b22ebac65920d0cb07356c5788a46e446038bb,openstack/puppet-pacemaker,master,I94b22ebac65920d0cb07356c5788a46e446038bb,Modify puppet version 4 to 5,MERGED,2019-01-15 02:19:30.000000000,2019-01-22 18:12:28.000000000,2019-01-22 18:12:28.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-15 02:19:30.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/002b848d4c406e4c26cad3bf9c730b6c9f86b7aa', 'message': 'Modify puppet version 4 to 5\n\nThe puppet version has been upgraded from 4 to 5 in the main branch.\n\nChange-Id: I94b22ebac65920d0cb07356c5788a46e446038bb\n'}]",0,630864,002b848d4c406e4c26cad3bf9c730b6c9f86b7aa,8,4,1,9414,,,0,"Modify puppet version 4 to 5

The puppet version has been upgraded from 4 to 5 in the main branch.

Change-Id: I94b22ebac65920d0cb07356c5788a46e446038bb
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/64/630864/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,002b848d4c406e4c26cad3bf9c730b6c9f86b7aa,upgrade-puppet-5," ""version_requirement"": ""5.x"""," ""version_requirement"": "">= 3.0.0""",1,1
openstack%2Fpuppet-pacemaker~master~I1fcd2aa3a115cb3da770ee84c64e2411fefd8579,openstack/puppet-pacemaker,master,I1fcd2aa3a115cb3da770ee84c64e2411fefd8579,Deprecate include_class,MERGED,2018-11-27 06:22:48.000000000,2019-01-22 18:12:28.000000000,2019-01-22 18:12:28.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 06:22:48.000000000', 'files': ['spec/defines/pacemaker_contain_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/c2aa846f02f227d7adef31e5e1de067efe558d5d', 'message': 'Deprecate include_class\n\ninclude_class is deprecated. Use contain_class instead.\n\nChange-Id: I1fcd2aa3a115cb3da770ee84c64e2411fefd8579\nCloses-Bug: #1805336\n'}]",0,620219,c2aa846f02f227d7adef31e5e1de067efe558d5d,9,4,1,9414,,,0,"Deprecate include_class

include_class is deprecated. Use contain_class instead.

Change-Id: I1fcd2aa3a115cb3da770ee84c64e2411fefd8579
Closes-Bug: #1805336
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/19/620219/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/defines/pacemaker_contain_spec.rb'],1,c2aa846f02f227d7adef31e5e1de067efe558d5d,bug/1805336,, it { is_expected.to include_class('my_dummy_class') } it { is_expected.to include_class('my_dummy_class') },0,2
openstack%2Fos-service-types~master~Id96ceb90f74908de377ec81d253454e12a59aab4,openstack/os-service-types,master,Id96ceb90f74908de377ec81d253454e12a59aab4,Updated from OpenStack Service Type Authority,MERGED,2019-01-18 17:53:05.000000000,2019-01-22 18:02:24.000000000,2019-01-22 18:02:24.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 21672}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-18 17:53:05.000000000', 'files': ['os_service_types/data/service-types.json'], 'web_link': 'https://opendev.org/openstack/os-service-types/commit/4170f2e584cc6e1669f204d8dcb32479ca9b7e00', 'message': 'Updated from OpenStack Service Type Authority\n\nChange-Id: Id96ceb90f74908de377ec81d253454e12a59aab4\n'}]",0,631850,4170f2e584cc6e1669f204d8dcb32479ca9b7e00,7,4,1,11131,,,0,"Updated from OpenStack Service Type Authority

Change-Id: Id96ceb90f74908de377ec81d253454e12a59aab4
",git fetch https://review.opendev.org/openstack/os-service-types refs/changes/50/631850/1 && git format-patch -1 --stdout FETCH_HEAD,['os_service_types/data/service-types.json'],1,4170f2e584cc6e1669f204d8dcb32479ca9b7e00,openstack/os-service-types/sync-service-types-authority," ""accelerator"": [ ""accelerator"" ], ""cyborg"": { ""api_reference"": ""https://docs.openstack.org/cyborg/latest/admin/api.html"", ""project"": ""cyborg"", ""service_type"": ""accelerator"" }, ""cyborg"": [ ""accelerator"" ], }, { ""api_reference"": ""https://docs.openstack.org/cyborg/latest/admin/api.html"", ""project"": ""cyborg"", ""service_type"": ""accelerator"" ""sha"": ""60d8d4c899b96fb48eb60040660936dfa6322382"", ""version"": ""2019-01-18T17:43:16.231226"""," ""sha"": ""74453588480febee6cfedc88bc99bf9aa72c1cff"", ""version"": ""2018-11-01T14:56:36.742286""",18,2
openstack%2Fopenstack-ansible~stable%2Fpike~I552ebcaf41f101703f52ca9149b90db458190ddc,openstack/openstack-ansible,stable/pike,I552ebcaf41f101703f52ca9149b90db458190ddc,Update ceph galaxy cleanup for monolithic repo,MERGED,2019-01-22 13:04:22.000000000,2019-01-22 18:00:21.000000000,2019-01-22 18:00:21.000000000,"[{'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-01-22 13:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/819ffd9ac31883a4cdde924d8cea27b43a1b5d25', 'message': 'Update ceph galaxy cleanup for monolithic repo\n\nIn queens we began using the monolithic ceph-ansible repo to source the ceph roles\ninstead of the broken out galaxy repos[1]. However, in doing this change, we must\nalso address the situation where upgrades from Pike already have the galaxy style\nroles in place in /etc/ansible/roles. Since the ceph-ansible monolithic roles are\nlater in the roles search path, we continue using the older Pike-installed roles\nfor ceph, which breaks things with newer ansible versions in Queens.\n\nWe should address this by deleting the older Pike roles during the upgrade so\nthe ceph-ansible monolithic roles will be used going forward.\n\n[1] https://review.openstack.org/#/c/527929/\n\nCloses-Bug: #1784066\nChange-Id: I552ebcaf41f101703f52ca9149b90db458190ddc\n(cherry picked from commit 97acfc5ea6cd50c46e5ab0139c6a00c00a5bb3f4)\n'}, {'number': 2, 'created': '2019-01-22 13:05:20.000000000', 'files': ['scripts/upgrade-utilities/playbooks/ceph-galaxy-removal.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dcd6f2b031e3680f9381dad005a97c5eee91731d', 'message': 'Update ceph galaxy cleanup for monolithic repo\n\nIn pike we began using the monolithic ceph-ansible repo to source the ceph roles\ninstead of the broken out galaxy repos[1]. However, in doing this change, we must\nalso address the situation where upgrades from Pike already have the galaxy style\nroles in place in /etc/ansible/roles. Since the ceph-ansible monolithic roles are\nlater in the roles search path, we continue using the older Pike-installed roles\nfor ceph, which breaks things with newer ansible versions in Queens.\n\nWe should address this by deleting the older Pike roles during the upgrade so\nthe ceph-ansible monolithic roles will be used going forward.\n\n[1] https://review.openstack.org/632142\n\nCloses-Bug: #1784066\nChange-Id: I552ebcaf41f101703f52ca9149b90db458190ddc\n(cherry picked from commit 97acfc5ea6cd50c46e5ab0139c6a00c00a5bb3f4)\n'}]",0,632460,dcd6f2b031e3680f9381dad005a97c5eee91731d,8,4,2,6816,,,0,"Update ceph galaxy cleanup for monolithic repo

In pike we began using the monolithic ceph-ansible repo to source the ceph roles
instead of the broken out galaxy repos[1]. However, in doing this change, we must
also address the situation where upgrades from Pike already have the galaxy style
roles in place in /etc/ansible/roles. Since the ceph-ansible monolithic roles are
later in the roles search path, we continue using the older Pike-installed roles
for ceph, which breaks things with newer ansible versions in Queens.

We should address this by deleting the older Pike roles during the upgrade so
the ceph-ansible monolithic roles will be used going forward.

[1] https://review.openstack.org/632142

Closes-Bug: #1784066
Change-Id: I552ebcaf41f101703f52ca9149b90db458190ddc
(cherry picked from commit 97acfc5ea6cd50c46e5ab0139c6a00c00a5bb3f4)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/60/632460/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upgrade-utilities/playbooks/ceph-galaxy-removal.yml'],1,819ffd9ac31883a4cdde924d8cea27b43a1b5d25,bug/1784066-stable/pike, - ceph-common - ceph-config - ceph-defaults - ceph-mgr - ceph-mon - ceph-osd,,6,0
openstack%2Ftripleo-heat-templates~master~If8eaac2faff91570f9fa6dbf47679ffeedf78fe0,openstack/tripleo-heat-templates,master,If8eaac2faff91570f9fa6dbf47679ffeedf78fe0,WIP: flatten nova service configuration,ABANDONED,2018-12-19 19:21:36.000000000,2019-01-22 17:52:26.000000000,,"[{'_account_id': 360}, {'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-19 19:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf0b1213e2d049537785d6eb6703da884f1aa66d', 'message': 'WIP: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8eaac2faff91570f9fa6dbf47679ffeedf78fe0\n'}, {'number': 2, 'created': '2018-12-19 20:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4a6b1958e54395f74b17db9f937d828a39de386', 'message': 'WIP: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8eaac2faff91570f9fa6dbf47679ffeedf78fe0\nRelated-Blueprint: services-yaml-flattening\nDepends-On: Ic958d9982caef9f0ef19aab6046499875acd6ccc\n'}, {'number': 3, 'created': '2018-12-19 21:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/20b53378d60b38959eb7b987c4df1a0119c43b29', 'message': 'WIP: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8eaac2faff91570f9fa6dbf47679ffeedf78fe0\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 4, 'created': '2019-01-02 21:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80ddc5fb0a1122e2406d8f551affa3fc314f2dce', 'message': 'WIP: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8eaac2faff91570f9fa6dbf47679ffeedf78fe0\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 5, 'created': '2019-01-02 21:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/912156477b4f3527628dbd36e6d9e83444a3b369', 'message': 'WIP: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8eaac2faff91570f9fa6dbf47679ffeedf78fe0\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 6, 'created': '2019-01-18 22:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aab7c11fe7398e95738719a5fe2f900134925ccd', 'message': 'WIP: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8eaac2faff91570f9fa6dbf47679ffeedf78fe0\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 7, 'created': '2019-01-19 00:36:27.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'puppet/services/nova-metadata.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-compute-common.yaml', 'environments/baremetal-services.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/nova/nova-consoleauth-container-puppet.yaml', 'puppet/services/nova-conductor.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'sample-env-generator/storage.yaml', 'puppet/services/nova-ironic.yaml', 'deployment/nova/nova-libvirt-guests-container.yaml', 'puppet/services/nova-placement.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'puppet/services/nova-scheduler.yaml', 'ci/environments/scenario012-multinode-containers.yaml', 'puppet/services/nova-libvirt.yaml', 'environments/services/novajoin.yaml', 'puppet/services/nova-vnc-proxy.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'docker/services/nova-metadata.yaml', 'deployment/nova/nova-base.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'puppet/services/nova-migration-target.yaml', 'sample-env-generator/ssl.yaml', 'puppet/services/nova-consoleauth.yaml', 'ci/environments/scenario006-multinode-containers.yaml', 'deployment/nova/nova-placement-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/computealt.yaml', 'puppet/services/nova-compute.yaml', 'environments/services/ironic.yaml', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/280c7e72533e64304e08f8e6174acce4ea090804', 'message': 'WIP: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8eaac2faff91570f9fa6dbf47679ffeedf78fe0\nRelated-Blueprint: services-yaml-flattening\n'}]",3,626375,280c7e72533e64304e08f8e6174acce4ea090804,23,4,7,20868,,,0,"WIP: flatten nova service configuration

This change combines the previous puppet and docker files
into a single file that performs the docker service installation
and configuration. With this patch the baremetal version of
nova has been removed.

Change-Id: If8eaac2faff91570f9fa6dbf47679ffeedf78fe0
Related-Blueprint: services-yaml-flattening
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/626375/5 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'puppet/services/nova-metadata.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-compute-common.yaml', 'environments/baremetal-services.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/nova/nova-consoleauth-container-puppet.yaml', 'puppet/services/nova-conductor.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'sample-env-generator/storage.yaml', 'puppet/services/nova-ironic.yaml', 'deployment/nova/nova-libvirt-guests-container.yaml', 'puppet/services/nova-placement.yaml', 'puppet/services/nova-api.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'puppet/services/nova-scheduler.yaml', 'ci/environments/scenario012-multinode-containers.yaml', 'puppet/services/nova-libvirt.yaml', 'environments/services/novajoin.yaml', 'puppet/services/nova-vnc-proxy.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'docker/services/nova-metadata.yaml', 'deployment/nova/nova-base.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'puppet/services/nova-migration-target.yaml', 'sample-env-generator/ssl.yaml', 'puppet/services/nova-consoleauth.yaml', 'ci/environments/scenario006-multinode-containers.yaml', 'deployment/nova/nova-placement-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/computealt.yaml', 'puppet/services/nova-compute.yaml', 'environments/services/ironic.yaml', 'docker/services/nova-compute.yaml']",37,bf0b1213e2d049537785d6eb6703da884f1aa66d,bp/services-yaml-flattening,,"heat_template_version: rocky description: > OpenStack containerized Nova Compute service parameters: DockerNovaComputeImage: description: image type: string DockerNovaLibvirtConfigImage: description: The container image to use for the nova_libvirt config_volume type: string DockerNovaComputeUlimit: default: ['nofile=1024'] description: ulimit for Nova Compute Container type: comma_delimited_list NovaComputeLoggingSource: type: json default: tag: openstack.nova.compute path: /var/log/containers/nova/nova-compute.log ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json DockerNovaMigrationSshdPort: default: 2022 description: Port that dockerized nova migration target sshd service binds to. type: number UpgradeRemoveUnusedPackages: default: false description: Remove package if the service is being disabled during upgrade type: boolean CephClientUserName: default: openstack type: string CephClusterName: type: string default: ceph description: The Ceph cluster name. constraints: - allowed_pattern: ""[a-zA-Z0-9]+"" description: > The Ceph cluster name must be at least 1 character and contain only letters and numbers. NovaComputeOptVolumes: default: [] description: list of optional vo type: comma_delimited_list NovaComputeOptEnvVars: default: [] description: list of optional en type: comma_delimited_list EnableInstanceHA: default: false description: Whether to enable an Instance Ha configurarion or not. This setup requires the Compute role to have the PacemakerRemote service added to it. type: boolean resources: ContainersCommon: type: ./containers-common.yaml MySQLClient: type: ../../puppet/services/database/mysql-client.yaml NovaComputeCommon: type: ./nova-compute-common.yaml properties: EndpointMap: {get_param: EndpointMap} ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} NovaComputeBase: type: ../../puppet/services/nova-compute.yaml properties: EndpointMap: {get_param: EndpointMap} ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} NovaLogging: type: OS::TripleO::Services::Logging::NovaCommon properties: DockerNovaImage: {get_param: DockerNovaComputeImage} NovaServiceName: 'compute' conditions: enable_instance_ha: {equals: [{get_param: EnableInstanceHA}, true]} outputs: role_data: description: Role data for the Nova Compute service. value: service_name: {get_attr: [NovaComputeBase, role_data, service_name]} cellv2_discovery: true config_settings: map_merge: - get_attr: [NovaComputeBase, role_data, config_settings] - get_attr: [NovaLogging, config_settings] service_config_settings: map_merge: - get_attr: [NovaComputeBase, role_data, service_config_settings] - fluentd: tripleo_fluentd_groups_nova_compute: - nova tripleo_fluentd_sources_nova_compute: - {get_param: NovaComputeLoggingSource} puppet_config: config_volume: nova_libvirt puppet_tags: nova_config,nova_paste_api_ini step_config: list_join: - ""\n"" - - {get_attr: [NovaComputeBase, role_data, step_config]} - {get_attr: [MySQLClient, role_data, step_config]} config_image: {get_param: DockerNovaLibvirtConfigImage} kolla_config: /var/lib/kolla/config_files/nova_compute.json: command: list_join: - ' ' - - if: - enable_instance_ha - /var/lib/nova/instanceha/check-run-nova-compute - /usr/bin/nova-compute - get_attr: [NovaLogging, cmd_extra_args] config_files: - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true - source: ""/var/lib/kolla/config_files/src-iscsid/*"" dest: ""/etc/iscsi/"" merge: true preserve_properties: true - source: ""/var/lib/kolla/config_files/src-ceph/"" dest: ""/etc/ceph/"" merge: true preserve_properties: true permissions: - path: /var/log/nova owner: nova:nova recurse: true - path: str_replace: template: /etc/ceph/CLUSTER.client.USER.keyring params: CLUSTER: {get_param: CephClusterName} USER: {get_param: CephClientUserName} owner: nova:nova perm: '0600' docker_config_scripts: map_merge: - {get_attr: [ContainersCommon, docker_config_scripts]} - {get_attr: [NovaComputeCommon, docker_config_scripts]} docker_config: step_3: nova_statedir_owner: image: &nova_compute_image {get_param: DockerNovaComputeImage} user: root privileged: false detach: false volumes: - /var/lib/nova:/var/lib/nova:shared,z - /var/lib/docker-config-scripts/:/docker-config-scripts/:z command: ""/docker-config-scripts/pyshim.sh /docker-config-scripts/nova_statedir_ownership.py"" step_4: nova_wait_for_placement_service: start_order: 2 image: *nova_compute_image user: root net: host privileged: false detach: false volumes: - /var/lib/docker-config-scripts/:/docker-config-scripts/:z - /var/lib/config-data/puppet-generated/nova_libvirt/etc/nova:/etc/nova:ro command: ""/docker-config-scripts/pyshim.sh /docker-config-scripts/nova_wait_for_placement_service.py"" nova_compute: start_order: 3 image: *nova_compute_image ulimit: {get_param: DockerNovaComputeUlimit} ipc: host net: host privileged: true user: nova restart: always healthcheck: test: list_join: - ' ' - - '/openstack/healthcheck' - yaql: expression: str($.data.port) data: port: {get_attr: [NovaComputeBase, role_data, config_settings, 'nova::rabbit_port']} volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [NovaLogging, volumes]} - {get_param: NovaComputeOptVolumes} - - /var/lib/kolla/config_files/nova_compute.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/nova_libvirt/:/var/lib/kolla/config_files/src:ro - /etc/iscsi:/var/lib/kolla/config_files/src-iscsid:ro - /etc/ceph:/var/lib/kolla/config_files/src-ceph:ro - /dev:/dev - /lib/modules:/lib/modules:ro - /run:/run - /var/lib/nova:/var/lib/nova:shared,z - /var/lib/libvirt:/var/lib/libvirt:shared,z - /sys/class/net:/sys/class/net - /sys/bus/pci:/sys/bus/pci environment: list_concat: - {get_param: NovaComputeOptEnvVars} - - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS host_prep_tasks: list_concat: - {get_attr: [NovaLogging, host_prep_tasks]} - {get_attr: [NovaComputeBase, role_data, host_prep_tasks]} - - name: create persistent directories file: path: ""{{ item.path }}"" state: directory setype: ""{{ item.setype }}"" with_items: - { 'path': /var/lib/nova, 'setype': svirt_sandbox_file_t } - { 'path': /var/lib/nova/instances, 'setype': svirt_sandbox_file_t } - { 'path': /var/lib/libvirt, 'setype': svirt_sandbox_file_t } - name: ensure ceph configurations exist file: path: /etc/ceph state: directory - name: is Instance HA enabled set_fact: instance_ha_enabled: {get_param: EnableInstanceHA} - name: install Instance HA recovery script when: instance_ha_enabled|bool block: - name: prepare Instance HA script directory file: path: /var/lib/nova/instanceha state: directory - name: install Instance HA script that runs nova-compute copy: content: {get_file: ../../extraconfig/tasks/instanceha/check-run-nova-compute} dest: /var/lib/nova/instanceha/check-run-nova-compute mode: 0755 - name: Get list of instance HA compute nodes command: hiera -c /etc/puppet/hiera.yaml compute_instanceha_short_node_names register: iha_nodes - name: If instance HA is enabled on the node activate the evacuation completed check file: path=/var/lib/nova/instanceha/enabled state=touch when: iha_nodes.stdout|lower | search('""'+ansible_hostname|lower+'""') upgrade_tasks: - when: step|int == 2 block: - name: Set fact for removal of openstack-nova-compute package set_fact: remove_nova_compute_package: {get_param: UpgradeRemoveUnusedPackages} - name: Remove openstack-nova-compute package if operator requests it package: name=openstack-nova-compute state=removed ignore_errors: True when: remove_nova_compute_package|bool post_upgrade_tasks: - when: step|int == 1 import_role: name: tripleo-docker-rm vars: containers_to_rm: - nova_compute fast_forward_upgrade_tasks: - when: - step|int == 0 - release == 'ocata' block: - name: Check if nova-compute is deployed command: systemctl is-enabled --quiet openstack-nova-compute ignore_errors: True register: nova_compute_enabled_result - name: Set fact nova_compute_enabled set_fact: nova_compute_enabled: ""{{ nova_compute_enabled_result.rc == 0 }}"" - when: - step|int == 1 - release == 'ocata' block: - name: Stop and disable nova-compute service service: name=openstack-nova-compute state=stopped when: - nova_compute_enabled|bool - name: Set upgrade marker in nova statedir file: path=/var/lib/nova/upgrade_marker state=touch owner=nova group=nova when: - nova_compute_enabled|bool ",1666,2768
openstack%2Fopenstack-ansible~stable%2Focata~I73141e9b4ef4cfa83b9ad3c434be91a270ecc99a,openstack/openstack-ansible,stable/ocata,I73141e9b4ef4cfa83b9ad3c434be91a270ecc99a,Fix ceph-ansible role-requirements,MERGED,2019-01-21 22:48:53.000000000,2019-01-22 17:46:21.000000000,2019-01-22 17:46:21.000000000,"[{'_account_id': 290}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-01-21 22:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cce0573fd94f24d8f82ecae2f837e3a56b6df945', 'message': 'Fix ceph-ansible role-requirements\n\nCeph has removed the individual repos of common, osds, mons, defaults...\nthis uses the new combined ceph-ansible role.\n\nChange-Id: I73141e9b4ef4cfa83b9ad3c434be91a270ecc99a\n'}, {'number': 2, 'created': '2019-01-22 07:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2e91bd3a199392e221198cd275f4013a8e3ae891', 'message': 'Fix ceph-ansible role-requirements\n\nCeph has removed the individual repos of common, osds, mons, defaults...\nthis uses the new combined ceph-ansible role.\n\nChange-Id: I73141e9b4ef4cfa83b9ad3c434be91a270ecc99a\n'}, {'number': 3, 'created': '2019-01-22 07:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/11a469ff89ec0e2c6c74efd4917b740e2791779a', 'message': 'Fix ceph-ansible role-requirements\n\nCeph has removed the individual repos of common, osds, mons, defaults...\nthis uses the new combined ceph-ansible role.\n\nChange-Id: I73141e9b4ef4cfa83b9ad3c434be91a270ecc99a\n'}, {'number': 4, 'created': '2019-01-22 08:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0a22a6436b547cba7b6b337190d864494f61206b', 'message': 'Fix ceph-ansible role-requirements\n\nCeph has removed the individual repos of common, osds, mons, defaults...\nthis uses the new combined ceph-ansible role.\n\nChange-Id: I73141e9b4ef4cfa83b9ad3c434be91a270ecc99a\n'}, {'number': 5, 'created': '2019-01-22 10:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/41bbf33f5a8a7a64c3143fb7c91c0dafc8fc8d48', 'message': 'Fix ceph-ansible role-requirements\n\nCeph has removed the individual repos of common, osds, mons, defaults...\nthis uses the new combined ceph-ansible repo.\n\nUsing the combined ceph-ansible repo breaks ansible-galaxy (because\nceph-ansible is not a role), so we also need to switch the default for\nthe ansible bootstrap to use git instead, and we need to adjust the lint\ntest to use git instead of ansible-galaxy.\n\nChange-Id: I73141e9b4ef4cfa83b9ad3c434be91a270ecc99a\n'}, {'number': 6, 'created': '2019-01-22 11:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c20ce23aa4566ff9049001dd16e63e92dd72a98e', 'message': 'Fix ceph-ansible role-requirements\n\nCeph has removed the individual repos of common, osds, mons, defaults...\nthis uses the new combined ceph-ansible repo.\n\nUsing the combined ceph-ansible repo breaks ansible-galaxy (because\nceph-ansible is not a role), so we also need to switch the default for\nthe ansible bootstrap to use git instead, and we need to adjust the lint\ntest to use git instead of ansible-galaxy.\n\nChange-Id: I73141e9b4ef4cfa83b9ad3c434be91a270ecc99a\n'}, {'number': 7, 'created': '2019-01-22 12:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/67406762693ab6fbde2a98aee3b5fe3461cfaceb', 'message': 'Fix ceph-ansible role-requirements\n\nCeph has removed the individual repos of common, osds, mons, defaults...\nthis uses the new combined ceph-ansible repo.\n\nUsing the combined ceph-ansible repo breaks ansible-galaxy (because\nceph-ansible is not a role), so we also need to switch the default for\nthe ansible bootstrap to use git instead, and we need to adjust the lint\ntest to use git instead of ansible-galaxy.\n\nChange-Id: I73141e9b4ef4cfa83b9ad3c434be91a270ecc99a\n'}, {'number': 8, 'created': '2019-01-22 12:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6f42fe17e49784edbb9f6720322bfcc4cdda3a6a', 'message': 'Fix ceph-ansible role-requirements\n\nCeph has removed the individual repos of common, osds, mons, defaults...\nthis uses the new combined ceph-ansible repo.\n\nUsing the combined ceph-ansible repo breaks ansible-galaxy (because\nceph-ansible is not a role), so we also need to switch the default for\nthe ansible bootstrap to use git instead, and we need to adjust the lint\ntest to use git instead of ansible-galaxy.\n\nChange-Id: I73141e9b4ef4cfa83b9ad3c434be91a270ecc99a\n'}, {'number': 9, 'created': '2019-01-22 12:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/82fbb884cd9075913f1982cb8f5640a6683562f2', 'message': 'Fix ceph-ansible role-requirements\n\nCeph has removed the individual repos of common, osds, mons, defaults...\nthis uses the new combined ceph-ansible repo.\n\nUsing the combined ceph-ansible repo breaks ansible-galaxy (because\nceph-ansible is not a role), so we also need to switch the default for\nthe ansible bootstrap to use git instead, and we need to adjust the lint\ntest to use git instead of ansible-galaxy.\n\nChange-Id: I73141e9b4ef4cfa83b9ad3c434be91a270ecc99a\n'}, {'number': 10, 'created': '2019-01-22 12:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/af82ff56619a880a6d803a72239e9f06c7a661f1', 'message': 'Fix ceph-ansible role-requirements\n\nCeph has removed the individual repos of common, osds, mons, defaults...\nthis uses the new combined ceph-ansible repo.\n\nUsing the combined ceph-ansible repo breaks ansible-galaxy (because\nceph-ansible is not a role), so we also need to switch the default for\nthe ansible bootstrap to use git instead, and we need to adjust the lint\ntest to use git instead of ansible-galaxy.\n\nChange-Id: I73141e9b4ef4cfa83b9ad3c434be91a270ecc99a\n'}, {'number': 11, 'created': '2019-01-22 13:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e640480d0f550c53d43e495ee60af1379516d0b9', 'message': 'Fix ceph-ansible role-requirements\n\nCeph has removed the individual repos of common, osds, mons, defaults...\nthis uses the new combined ceph-ansible repo.\n\nUsing the combined ceph-ansible repo breaks ansible-galaxy (because\nceph-ansible is not a role), so we also need to switch the default for\nthe ansible bootstrap to use git instead, and we need to adjust the lint\ntest to use git instead of ansible-galaxy.\n\nChange-Id: I73141e9b4ef4cfa83b9ad3c434be91a270ecc99a\n'}, {'number': 12, 'created': '2019-01-22 13:09:38.000000000', 'files': ['scripts/gate-check-commit.sh', 'scripts/bootstrap-ansible.sh', 'scripts/openstack-ansible.rc', 'tox.ini', 'ansible-role-requirements.yml', 'releasenotes/notes/role-git-clone-5e3c11a3005f55eb.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d528daf069559c3686f05a26f9b4d68c84a34b77', 'message': 'Fix ceph-ansible role-requirements\n\nCeph has removed the individual repos of common, osds, mons, defaults...\nthis uses the new combined ceph-ansible repo.\n\nUsing the combined ceph-ansible repo breaks ansible-galaxy (because\nceph-ansible is not a role), so we also need to switch the default for\nthe ansible bootstrap to use git instead, and we need to adjust the lint\ntest to use git instead of ansible-galaxy.\n\nChange-Id: I73141e9b4ef4cfa83b9ad3c434be91a270ecc99a\n'}]",0,632182,d528daf069559c3686f05a26f9b4d68c84a34b77,30,6,12,21314,,,0,"Fix ceph-ansible role-requirements

Ceph has removed the individual repos of common, osds, mons, defaults...
this uses the new combined ceph-ansible repo.

Using the combined ceph-ansible repo breaks ansible-galaxy (because
ceph-ansible is not a role), so we also need to switch the default for
the ansible bootstrap to use git instead, and we need to adjust the lint
test to use git instead of ansible-galaxy.

Change-Id: I73141e9b4ef4cfa83b9ad3c434be91a270ecc99a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/82/632182/10 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/openstack-ansible.rc', 'tox.ini', 'ansible-role-requirements.yml']",3,cce0573fd94f24d8f82ecae2f837e3a56b6df945,ocata-ceph-fix,- name: ceph-ansible src: https://github.com/ceph/ceph-ansible,- name: ceph-mon src: https://github.com/ceph/ansible-ceph-mon version: v2.2.9 - name: ceph-osd scm: git src: https://github.com/ceph/ansible-ceph-osd,4,8
openstack%2Foslo.log~master~I205aa24579be95462b1ab663404fde67aa84a31f,openstack/oslo.log,master,I205aa24579be95462b1ab663404fde67aa84a31f,Expand docstring for OSSysLogHandler,ABANDONED,2018-07-12 14:51:10.000000000,2019-01-22 17:21:50.000000000,,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 9542}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-12 14:51:10.000000000', 'files': ['oslo_log/handlers.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/0a560ec5e9351a40e18ad0bb9bb33ed60aad155c', 'message': ""Expand docstring for OSSysLogHandler\n\nthere is a quirk in the configuration of this handler when doing it\nvia separate logging configuration file (log-config-append option).\n\nThe `OSSysLogHandler` is not based on Python's native\n`logging.handlers.SysLogHandler`, and uses the `syslog` module directly.\nBoth `syslog` and `SysLogHandler` provide set of `LOG_*` constants for\nsyslog's facility, but those in the 'syslog' module are already\nmultiplied by 8 (`SysLogHandler` does it implicitly in its\n`encodePriority` method).\n\nWhen separate logging configuration file is parsed by `logging.config`,\nthe `args` are `eval()`uated in the context of the\n`logging` module itself, where there is no access to `syslog` constants.\nThus and if one want to use less 'magical' integers in args, the\nconstants from SysLogHandler must be explicitly multiplied by 8 as in:\n\n[handler_ossyslog]\nclass = oslo_log.handlers.OSSyslogHandler\nargs = (8 * handlers.SysLogHandler.LOG_LOCAL1, )\n\nChange-Id: I205aa24579be95462b1ab663404fde67aa84a31f\n""}]",5,582203,0a560ec5e9351a40e18ad0bb9bb33ed60aad155c,10,5,1,9542,,,0,"Expand docstring for OSSysLogHandler

there is a quirk in the configuration of this handler when doing it
via separate logging configuration file (log-config-append option).

The `OSSysLogHandler` is not based on Python's native
`logging.handlers.SysLogHandler`, and uses the `syslog` module directly.
Both `syslog` and `SysLogHandler` provide set of `LOG_*` constants for
syslog's facility, but those in the 'syslog' module are already
multiplied by 8 (`SysLogHandler` does it implicitly in its
`encodePriority` method).

When separate logging configuration file is parsed by `logging.config`,
the `args` are `eval()`uated in the context of the
`logging` module itself, where there is no access to `syslog` constants.
Thus and if one want to use less 'magical' integers in args, the
constants from SysLogHandler must be explicitly multiplied by 8 as in:

[handler_ossyslog]
class = oslo_log.handlers.OSSyslogHandler
args = (8 * handlers.SysLogHandler.LOG_LOCAL1, )

Change-Id: I205aa24579be95462b1ab663404fde67aa84a31f
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/03/582203/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/handlers.py'],1,0a560ec5e9351a40e18ad0bb9bb33ed60aad155c,syslog-help," """"""Syslog based handler. Only available on UNIX-like platforms. Note on configuration: the 'facility' argument is an integer as defined in 'syslog' module's LOG_* constants. However these constants are different from ones defined in Python's native logging.handlers.SysLogHandler class as they are already multiplied by 8. Thus in order to configure OSSysLogHandler via a separate logging configuration file (``log-config-append`` option), the following format should be used: [handler_ossyslog] class = oslo_log.handlers.OSSysLogHandler args = (8 * handlers.SysLogHandler.LOG_USER, ) """""""," """"""Syslog based handler. Only available on UNIX-like platforms.""""""",16,1
openstack%2Fopenstack-helm-infra~master~I16cd3a61ffce2e5fdc39bd7731cc068b8a6ec41f,openstack/openstack-helm-infra,master,I16cd3a61ffce2e5fdc39bd7731cc068b8a6ec41f,Add exception handling to Kibana Selenium test,MERGED,2019-01-21 15:48:01.000000000,2019-01-22 17:18:30.000000000,2019-01-22 17:18:30.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 28237}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-01-21 15:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/529bb9b7561781c45267651d4250e6cd6b9cba83', 'message': 'WIP/DNM: Add exception handling to Kibana Selenium test\n\nChange-Id: I16cd3a61ffce2e5fdc39bd7731cc068b8a6ec41f\n'}, {'number': 2, 'created': '2019-01-21 16:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f0414c54d1fb21b01d23e137a9591ccd5b1bc4ab', 'message': 'WIP/DNM: Add exception handling to Kibana Selenium test\n\nChange-Id: I16cd3a61ffce2e5fdc39bd7731cc068b8a6ec41f\n'}, {'number': 3, 'created': '2019-01-21 16:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/39347e9af65b4d3c2bb2a82c8dd4b8370053d11d', 'message': 'WIP/DNM: Add exception handling to Kibana Selenium test\n\nChange-Id: I16cd3a61ffce2e5fdc39bd7731cc068b8a6ec41f\n'}, {'number': 4, 'created': '2019-01-21 19:29:45.000000000', 'files': ['tools/gate/selenium/kibanaSelenium.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1bf24051c5e56756eecf3cd110f8769e16970250', 'message': 'Add exception handling to Kibana Selenium test\n\nThis adds exception handling to the Kibana Selenium tests\nto address the test failures due to TimeoutExceptions when\nthe dashboard loads slowly. Only TimeoutExceptions are handled\nso if there is an issue with the page itself an error will still\ncause the gate to fail as intended. When a TimeoutException\noccurs an error message is logged and a screenshot is taken\nof the current page.\n\nChange-Id: I16cd3a61ffce2e5fdc39bd7731cc068b8a6ec41f\n'}]",2,632114,1bf24051c5e56756eecf3cd110f8769e16970250,26,5,4,28849,,,0,"Add exception handling to Kibana Selenium test

This adds exception handling to the Kibana Selenium tests
to address the test failures due to TimeoutExceptions when
the dashboard loads slowly. Only TimeoutExceptions are handled
so if there is an issue with the page itself an error will still
cause the gate to fail as intended. When a TimeoutException
occurs an error message is logged and a screenshot is taken
of the current page.

Change-Id: I16cd3a61ffce2e5fdc39bd7731cc068b8a6ec41f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/14/632114/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/selenium/kibanaSelenium.py'],1,529bb9b7561781c45267651d4250e6cd6b9cba83,osh-infra/selenium,"errNO = 1 try: WebDriverWait(browser, 60).until( EC.presence_of_element_located((By.XPATH, '//*[@id=""kibana-body""]/div[1]/div/div/div[3]/discover-app/div/div[2]/div[2]/div/div[2]/div[2]/doc-table/div/table/tbody/tr[1]/td[2]')) ) browser.save_screenshot('/tmp/artifacts/Kibana_JournalIndex.png') except Exception, e: browser.save_screenshot('../screenshots/Error_{}'.format(errNO)) logger.error('Error occured loading Journal index') errNO += 1try: WebDriverWait(browser, 60).until( EC.presence_of_element_located((By.XPATH, '//*[@id=""kibana-body""]/div[1]/div/div/div[3]/discover-app/div/div[2]/div[2]/div/div[2]/div[2]/doc-table/div/table/tbody/tr[1]/td[2]')) ) browser.save_screenshot('/tmp/artifacts/Kibana_KernelIndex.png') except Exception, e: browser.save_screenshot('../screenshots/Error_{}'.format(errNO)) logger.error('Error occured loading Kernel index') errNO += 1try: WebDriverWait(browser, 60).until( EC.presence_of_element_located((By.XPATH, '//*[@id=""kibana-body""]/div[1]/div/div/div[3]/discover-app/div/div[2]/div[2]/div/div[2]/div[2]/doc-table/div/table/tbody/tr[1]/td[2]')) ) browser.save_screenshot('/tmp/artifacts/Kibana_LogstashIndex.png') except Exception, e: browser.save_screenshot('../screenshots/Error_{}'.format(errNO)) logger.error('Error occured loading Logstash index') errNO += 1","WebDriverWait(browser, 60).until( EC.presence_of_element_located((By.XPATH, '//*[@id=""kibana-body""]/div[1]/div/div/div[3]/discover-app/div/div[2]/div[2]/div/div[2]/div[2]/doc-table/div/table/tbody/tr[1]/td[2]')) ) browser.save_screenshot('/tmp/artifacts/Kibana_JournalIndex.png')WebDriverWait(browser, 60).until( EC.presence_of_element_located((By.XPATH, '//*[@id=""kibana-body""]/div[1]/div/div/div[3]/discover-app/div/div[2]/div[2]/div/div[2]/div[2]/doc-table/div/table/tbody/tr[1]/td[2]')) ) browser.save_screenshot('/tmp/artifacts/Kibana_KernelIndex.png')WebDriverWait(browser, 60).until( EC.presence_of_element_located((By.XPATH, '//*[@id=""kibana-body""]/div[1]/div/div/div[3]/discover-app/div/div[2]/div[2]/div/div[2]/div[2]/doc-table/div/table/tbody/tr[1]/td[2]')) ) browser.save_screenshot('/tmp/artifacts/Kibana_LogstashIndex.png')",29,13
openstack%2Fnova~master~I831de512e51490a09b098e9395f3e0cce4f378d3,openstack/nova,master,I831de512e51490a09b098e9395f3e0cce4f378d3,libvirt: Drop MIN_LIBVIRT_PARALLELS_SET_ADMIN_PASSWD,ABANDONED,2018-04-18 15:25:29.000000000,2019-01-22 17:06:02.000000000,,"[{'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-18 15:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be27826c6a0a13cdebfc5943ae9b3687f0c0e0d6', 'message': 'libvirt: Drop MIN_LIBVIRT_PARALLELS_SET_ADMIN_PASSWD\n\nThe updated minimum required libvirt (3.8.0) and QEMU (2.8.0) for\n""Rocky"" matches this now, so we can drop the compatibility code.\n\nAlso remove / fix relevant unit tests.\n\nChange-Id: I831de512e51490a09b098e9395f3e0cce4f378d3\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2018-04-19 10:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b9c9d0d708d9b043b64d1451916e4be71c86c20', 'message': 'libvirt: Drop MIN_LIBVIRT_PARALLELS_SET_ADMIN_PASSWD\n\nThe updated minimum required libvirt (3.8.0) and QEMU (2.8.0) for\n""Rocky"" matches this now, so we can drop the compatibility code.\n\nAlso remove / fix relevant unit tests.\n\nChange-Id: I831de512e51490a09b098e9395f3e0cce4f378d3\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 3, 'created': '2018-09-18 09:54:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/85e167548534b5d8a3ac9445cbda81973bc870d7', 'message': 'libvirt: Drop MIN_LIBVIRT_PARALLELS_SET_ADMIN_PASSWD\n\nThe updated minimum required libvirt (3.0.0) and QEMU (2.8.0) for\n""Stein"" matches this now, so we can drop the compatibility code.\n\nAlso remove / fix relevant unit tests.\n\nChange-Id: I831de512e51490a09b098e9395f3e0cce4f378d3\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",5,562313,85e167548534b5d8a3ac9445cbda81973bc870d7,52,16,3,6962,,,0,"libvirt: Drop MIN_LIBVIRT_PARALLELS_SET_ADMIN_PASSWD

The updated minimum required libvirt (3.0.0) and QEMU (2.8.0) for
""Stein"" matches this now, so we can drop the compatibility code.

Also remove / fix relevant unit tests.

Change-Id: I831de512e51490a09b098e9395f3e0cce4f378d3
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/562313/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,be27826c6a0a13cdebfc5943ae9b3687f0c0e0d6,bump_min_libvirt_and_qemu,," @mock.patch.object(host.Host, 'has_min_version', return_value=True) @mock.patch('nova.virt.libvirt.host.Host.get_guest') def test_set_admin_password_parallels(self, mock_get_guest, ver): self.flags(virt_type='parallels', group='libvirt') instance = objects.Instance(**self.test_instance) mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_get_guest.return_value = mock_guest drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) drvr.set_admin_password(instance, ""123"") mock_guest.set_user_password.assert_called_once_with(""root"", ""123"")",1,21
openstack%2Fproject-team-guide~master~I4b33648ff9b4244b9d61548ca0e395f222ce0488,openstack/project-team-guide,master,I4b33648ff9b4244b9d61548ca0e395f222ce0488,[Documentation] Change openstack-dev to openstack-discuss.,MERGED,2019-01-22 15:43:51.000000000,2019-01-22 17:01:44.000000000,2019-01-22 17:01:44.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-01-22 15:43:51.000000000', 'files': ['doc/source/stable-branches.rst', 'doc/source/open-source.rst', 'doc/source/release-management.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/52d0666934966dd50608ad456104ec21460b29b7', 'message': '[Documentation] Change openstack-dev to openstack-discuss.\n\nThe openstack-dev address is replaces by openstack-discuss.\n\nChange-Id: I4b33648ff9b4244b9d61548ca0e395f222ce0488\n'}]",0,632488,52d0666934966dd50608ad456104ec21460b29b7,7,3,1,29222,,,0,"[Documentation] Change openstack-dev to openstack-discuss.

The openstack-dev address is replaces by openstack-discuss.

Change-Id: I4b33648ff9b4244b9d61548ca0e395f222ce0488
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/88/632488/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/stable-branches.rst', 'doc/source/open-source.rst', 'doc/source/release-management.rst']",3,52d0666934966dd50608ad456104ec21460b29b7,change_mail, team and other project teams is the openstack-discuss mailing an email to the openstack-discuss mailing list with the following tags, team and other project teams is the openstack-dev mailing an email to the openstack-dev mailing list with the following tags,7,7
openstack%2Ftripleo-heat-templates~master~I5e6473949423fe57119073605248572da1f3e916,openstack/tripleo-heat-templates,master,I5e6473949423fe57119073605248572da1f3e916,[DNM] Test workaround for resource agent,ABANDONED,2018-12-06 13:52:19.000000000,2019-01-22 16:55:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-06 13:52:19.000000000', 'files': ['docker/services/pacemaker/rpc-rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e0afe327859c8c66fabde998e55d06beb356db9', 'message': '[DNM] Test workaround for resource agent\n\nDepends-On: https://review.openstack.org/623210\n\nChange-Id: I5e6473949423fe57119073605248572da1f3e916\n'}]",0,623212,3e0afe327859c8c66fabde998e55d06beb356db9,4,2,1,21537,,,0,"[DNM] Test workaround for resource agent

Depends-On: https://review.openstack.org/623210

Change-Id: I5e6473949423fe57119073605248572da1f3e916
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/623212/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/pacemaker/rpc-rabbitmq.yaml'],1,3e0afe327859c8c66fabde998e55d06beb356db9,mount-old-ra," - name: use older resource agent when: - step|int == 1 - rabbit_containerized|bool - is_bootstrap_node block: - name: Check rabbitmq ocf configuration in pacemaker command: cibadmin --query --xpath ""//storage-mapping[@id='rabbitmq-ocf']"" ignore_errors: true register: rabbitmq_old_ocf - name: Add a bind mount for old ocf in the rabbitmq bundle # rc == 6 means the configuration doesn't exist in the CIB when: rabbitmq_old_ocf.rc == 6 command: pcs resource bundle update rabbitmq-bundle storage-map add id=rabbitmq-ocf source-dir=/usr/lib/ocf target-dir=/usr/lib/ocf options=rw",,14,0
