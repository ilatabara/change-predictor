id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpuppet-rally~master~I9ef4d3c1d0333ad2863970354767ab15c15c6e43,openstack/puppet-rally,master,I9ef4d3c1d0333ad2863970354767ab15c15c6e43,Move other-requirements.txt to bindep.txt,MERGED,2016-08-12 19:11:49.000000000,2016-08-12 23:27:10.000000000,2016-08-12 23:27:10.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-08-12 19:11:49.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/594cb5b1e3eef437f59016b6342ef776e5d3dd8a', 'message': 'Move other-requirements.txt to bindep.txt\n\nThe default filename for documenting binary dependencies has been\nchanged from ""other-requirements.txt"" to ""bindep.txt"" with the release\nof bindep 2.1.0. While the previous name is still supported, it will\nbe deprecated.\n\nMove the file around to follow this change.\n\nNote that this change is self-testing, the OpenStack CI infrastructure\nwill use a ""bindep.txt"" file to setup nodes for testing.\n\nFor more information about bindep, see also:\nhttp://docs.openstack.org/infra/manual/drivers.html#package-requirements\nhttp://docs.openstack.org/infra/bindep/\n\nAs well as this announcement:\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-August/101590.html\n\nChange-Id: I9ef4d3c1d0333ad2863970354767ab15c15c6e43\n'}]",0,355002,594cb5b1e3eef437f59016b6342ef776e5d3dd8a,7,3,1,6547,,,0,"Move other-requirements.txt to bindep.txt

The default filename for documenting binary dependencies has been
changed from ""other-requirements.txt"" to ""bindep.txt"" with the release
of bindep 2.1.0. While the previous name is still supported, it will
be deprecated.

Move the file around to follow this change.

Note that this change is self-testing, the OpenStack CI infrastructure
will use a ""bindep.txt"" file to setup nodes for testing.

For more information about bindep, see also:
http://docs.openstack.org/infra/manual/drivers.html#package-requirements
http://docs.openstack.org/infra/bindep/

As well as this announcement:
http://lists.openstack.org/pipermail/openstack-dev/2016-August/101590.html

Change-Id: I9ef4d3c1d0333ad2863970354767ab15c15c6e43
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/02/355002/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,594cb5b1e3eef437f59016b6342ef776e5d3dd8a,bindep-mv,,,0,0
openstack%2Fpuppet-magnum~master~I699f7dee81c8a3049714a57d2fc8c0308c67dead,openstack/puppet-magnum,master,I699f7dee81c8a3049714a57d2fc8c0308c67dead,Move other-requirements.txt to bindep.txt,MERGED,2016-08-12 19:08:10.000000000,2016-08-12 23:26:59.000000000,2016-08-12 23:26:59.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-08-12 19:08:10.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/d82f1a4da798dd6da32f3695c3501c4d5621e6b2', 'message': 'Move other-requirements.txt to bindep.txt\n\nThe default filename for documenting binary dependencies has been\nchanged from ""other-requirements.txt"" to ""bindep.txt"" with the release\nof bindep 2.1.0. While the previous name is still supported, it will\nbe deprecated.\n\nMove the file around to follow this change.\n\nNote that this change is self-testing, the OpenStack CI infrastructure\nwill use a ""bindep.txt"" file to setup nodes for testing.\n\nFor more information about bindep, see also:\nhttp://docs.openstack.org/infra/manual/drivers.html#package-requirements\nhttp://docs.openstack.org/infra/bindep/\n\nAs well as this announcement:\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-August/101590.html\n\nChange-Id: I699f7dee81c8a3049714a57d2fc8c0308c67dead\n'}]",0,354987,d82f1a4da798dd6da32f3695c3501c4d5621e6b2,7,3,1,6547,,,0,"Move other-requirements.txt to bindep.txt

The default filename for documenting binary dependencies has been
changed from ""other-requirements.txt"" to ""bindep.txt"" with the release
of bindep 2.1.0. While the previous name is still supported, it will
be deprecated.

Move the file around to follow this change.

Note that this change is self-testing, the OpenStack CI infrastructure
will use a ""bindep.txt"" file to setup nodes for testing.

For more information about bindep, see also:
http://docs.openstack.org/infra/manual/drivers.html#package-requirements
http://docs.openstack.org/infra/bindep/

As well as this announcement:
http://lists.openstack.org/pipermail/openstack-dev/2016-August/101590.html

Change-Id: I699f7dee81c8a3049714a57d2fc8c0308c67dead
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/87/354987/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,d82f1a4da798dd6da32f3695c3501c4d5621e6b2,bindep-mv,,,0,0
openstack%2Fvitrage~master~I2e7b37e9f3467d687d0bd947e411e9839961b826,openstack/vitrage,master,I2e7b37e9f3467d687d0bd947e411e9839961b826,Support transformers update_method,MERGED,2016-08-09 10:18:05.000000000,2016-08-12 23:24:58.000000000,2016-08-12 23:24:58.000000000,"[{'_account_id': 3}, {'_account_id': 19122}, {'_account_id': 19134}, {'_account_id': 19209}, {'_account_id': 20667}]","[{'number': 1, 'created': '2016-08-09 10:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/17f742a6d1f745d12df8c6297ef69d006bb5f59a', 'message': 'Support transformers update_method\n\nMake transformer_base to navigate to the correct transformer method depending on the value in update_method\n\nChange-Id: I2e7b37e9f3467d687d0bd947e411e9839961b826\n'}, {'number': 2, 'created': '2016-08-10 08:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/03b9ca5b0bd20299ea09e03ec53f6e254aed976c', 'message': 'Support transformers update_method\n\nMake transformer_base to navigate to the correct transformer method depending on the value in update_method\n\nChange-Id: I2e7b37e9f3467d687d0bd947e411e9839961b826\n'}, {'number': 3, 'created': '2016-08-11 08:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/e8201f16c8e60d19cb0de8719b947d04c5f627a2', 'message': 'Support transformers update_method\n\nMake transformer_base to navigate to the correct transformer method depending on the value in update_method\n\nChange-Id: I2e7b37e9f3467d687d0bd947e411e9839961b826\n'}, {'number': 4, 'created': '2016-08-11 12:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/85a795293cec91864c1583e9d2bffb20c720a442', 'message': 'Support transformers update_method\n\nMake transformer_base to navigate to the correct transformer method depending on the value in update_method\n\nChange-Id: I2e7b37e9f3467d687d0bd947e411e9839961b826\n'}, {'number': 5, 'created': '2016-08-11 14:45:27.000000000', 'files': ['vitrage/tests/functional/entity_graph/states/test_datasource_info_mapper.py', 'vitrage/datasources/nova/host/transformer.py', 'vitrage/datasources/neutron/network/transformer.py', 'vitrage/datasources/nova/instance/transformer.py', 'vitrage/tests/unit/datasources/nova/test_nova_instance_transformers.py', 'vitrage/datasources/static_physical/transformer.py', 'vitrage/datasources/neutron/port/transformer.py', 'vitrage/tests/unit/datasources/zabbix/test_zabbix_transformer.py', 'vitrage/datasources/nagios/transformer.py', 'vitrage/datasources/aodh/transformer.py', 'vitrage/datasources/nova/zone/transformer.py', 'vitrage/tests/unit/datasources/nova/test_nova_host_transformer.py', 'vitrage/tests/unit/datasources/consistency/test_consistency_transformer.py', 'vitrage/datasources/consistency/transformer.py', 'vitrage/datasources/resource_transformer_base.py', 'vitrage/datasources/zabbix/transformer.py', 'vitrage/evaluator/actions/evaluator_event_transformer.py', 'vitrage/tests/unit/datasources/static_physical/test_static_physical_transformer.py', 'vitrage/datasources/alarm_transformer_base.py', 'vitrage/tests/unit/datasources/nagios/test_nagios_transformer.py', 'vitrage/datasources/transformer_base.py', 'vitrage/datasources/cinder/volume/transformer.py', 'vitrage/tests/unit/datasources/nova/test_nova_zone_transformer.py', 'vitrage/entity_graph/transformer_manager.py', 'vitrage/tests/unit/datasources/zabbix/test_zabbix_driver.py', 'vitrage/tests/unit/datasources/cinder/test_cinder_volume_transformer.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/66c8ad70fe7a8e0e9dc791d516d96fe22c9dab09', 'message': 'Support transformers update_method\n\nMake transformer_base to navigate to the correct transformer method depending on the value in update_method\n\nChange-Id: I2e7b37e9f3467d687d0bd947e411e9839961b826\n'}]",3,352828,66c8ad70fe7a8e0e9dc791d516d96fe22c9dab09,28,5,5,19122,,,0,"Support transformers update_method

Make transformer_base to navigate to the correct transformer method depending on the value in update_method

Change-Id: I2e7b37e9f3467d687d0bd947e411e9839961b826
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/28/352828/4 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/datasources/consistency/transformer.py', 'vitrage/datasources/nova/host/transformer.py', 'vitrage/datasources/neutron/network/transformer.py', 'vitrage/datasources/resource_transformer_base.py', 'vitrage/datasources/zabbix/transformer.py', 'vitrage/evaluator/actions/evaluator_event_transformer.py', 'vitrage/datasources/nova/instance/transformer.py', 'vitrage/datasources/alarm_transformer_base.py', 'vitrage/datasources/transformer_base.py', 'vitrage/datasources/cinder/volume/transformer.py', 'vitrage/datasources/static_physical/transformer.py', 'vitrage/datasources/neutron/port/transformer.py', 'vitrage/datasources/nagios/transformer.py', 'vitrage/entity_graph/transformer_manager.py', 'vitrage/datasources/aodh/transformer.py', 'vitrage/datasources/nova/zone/transformer.py']",16,17f742a6d1f745d12df8c6297ef69d006bb5f59a,tempests," def __init__(self, transformers, conf): super(ZoneTransformer, self).__init__(transformers, conf) def get_type(self): return NOVA_ZONE_DATASOURCE"," def __init__(self, transformers): super(ZoneTransformer, self).__init__(transformers)",96,33
openstack%2Ftripleo-quickstart~master~Id51a19ebcd28c16f138e7bf2fddbd343b5b0eb46,openstack/tripleo-quickstart,master,Id51a19ebcd28c16f138e7bf2fddbd343b5b0eb46,Only set $LOCATION if it is not already defined,MERGED,2016-08-11 20:23:02.000000000,2016-08-12 23:22:07.000000000,2016-08-12 23:22:07.000000000,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 8745}, {'_account_id': 10022}, {'_account_id': 11491}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-08-11 20:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7660245561bab9464c905de6f2a4525f283f536b', 'message': 'Only set  if it is not already defined\n\nThis comes into play in the promotion at ci.centos\nFor master we will have two pipelines that need to save\nimages to two different locations\n\nChange-Id: Id51a19ebcd28c16f138e7bf2fddbd343b5b0eb46\n'}, {'number': 2, 'created': '2016-08-11 20:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/18398758912faf1d1767ab08d80163aeb938e86a', 'message': 'Only set  if it is not already defined\n\nThis comes into play in the promotion at ci.centos\nFor master we will have two pipelines that need to save\nimages to two different locations\n\nChange-Id: Id51a19ebcd28c16f138e7bf2fddbd343b5b0eb46\n'}, {'number': 3, 'created': '2016-08-11 20:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/deb2a21dde055915b64c9ff535ff0423c8546d82', 'message': 'Only set  if it is not already defined\n\nThis comes into play in the promotion at ci.centos\nFor master we will have two pipelines that need to save\nimages to two different locations\n\nChange-Id: Id51a19ebcd28c16f138e7bf2fddbd343b5b0eb46\n'}, {'number': 4, 'created': '2016-08-12 11:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a818edeec1dc1694bce750ba0d6ce2f8a8c8e2a5', 'message': 'Only set  if it is not already defined\n\nThis comes into play in the promotion at ci.centos\nFor master we will have two pipelines that need to save\nimages to two different locations\n\nRelated Changes:\nhttps://review.gerrithub.io/#/c/287153/\nhttps://review.gerrithub.io/#/c/287144/\n\nChange-Id: Id51a19ebcd28c16f138e7bf2fddbd343b5b0eb46\n'}, {'number': 5, 'created': '2016-08-12 15:08:33.000000000', 'files': ['ci-scripts/images.sh', 'ci-scripts/full-deploy.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9aee428d24617647a4b3f33d81638682dd7fb2ff', 'message': 'Only set $LOCATION if it is not already defined\n\nThis comes into play in the promotion at ci.centos\nFor master we will have two pipelines that need to save\nimages to two different locations\n\nRelated Changes:\nhttps://review.gerrithub.io/#/c/287153/\nhttps://review.gerrithub.io/#/c/287144/\n\nChange-Id: Id51a19ebcd28c16f138e7bf2fddbd343b5b0eb46\n'}]",3,354365,9aee428d24617647a4b3f33d81638682dd7fb2ff,26,6,5,9592,,,0,"Only set $LOCATION if it is not already defined

This comes into play in the promotion at ci.centos
For master we will have two pipelines that need to save
images to two different locations

Related Changes:
https://review.gerrithub.io/#/c/287153/
https://review.gerrithub.io/#/c/287144/

Change-Id: Id51a19ebcd28c16f138e7bf2fddbd343b5b0eb46
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/65/354365/2 && git format-patch -1 --stdout FETCH_HEAD,['ci-scripts/full-deploy.sh'],1,7660245561bab9464c905de6f2a4525f283f536b,full-deploy-release-pipeline," LOCATION=""${LOCATION:-'testing'}""", LOCATION='testing',1,1
openstack%2Fmanila~master~Ief3b15eefc0fc325a2a5418fc7ac2724c315cc21,openstack/manila,master,Ief3b15eefc0fc325a2a5418fc7ac2724c315cc21,Fix concurrent usage of update_access method for share instances,MERGED,2016-08-03 15:25:01.000000000,2016-08-12 23:21:42.000000000,2016-08-12 02:07:35.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 8851}, {'_account_id': 10621}, {'_account_id': 11047}, {'_account_id': 11865}, {'_account_id': 12017}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15942}, {'_account_id': 16643}, {'_account_id': 16657}, {'_account_id': 17097}, {'_account_id': 17565}, {'_account_id': 17623}, {'_account_id': 18128}, {'_account_id': 18402}, {'_account_id': 20695}, {'_account_id': 21884}, {'_account_id': 22236}, {'_account_id': 22248}]","[{'number': 1, 'created': '2016-08-03 15:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/21d93a1b462084ec6b7b5ff2e5e38db7e60c181a', 'message': 'Fix concurrency issue updating access having 2+ share instances\n\nIn case we update access rules for replicated share we can face\nconcurrency removing access rules.\nSo, add lock on ""update_access"" method used by share manager and\nstop pulling already deleted rules from DB.\n\nChange-Id: Ief3b15eefc0fc325a2a5418fc7ac2724c315cc21\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri2010@gmail.com>\nCo-Authored-By: Goutham Pacha Ravi <gouthamr@netapp.com>\nCloses-Bug: #1566815\n'}, {'number': 2, 'created': '2016-08-03 15:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b30d5471035415692ef19391baefb0b6890ae21c', 'message': 'Fix concurrency issue updating access having 2+ share instances\n\nIn case we update access rules for replicated share we can face\nconcurrency removing access rules.\nSo, add lock on ""update_access"" method used by share manager and\nstop pulling already deleted rules from DB.\n\nChange-Id: Ief3b15eefc0fc325a2a5418fc7ac2724c315cc21\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri2010@gmail.com>\nCo-Authored-By: Goutham Pacha Ravi <gouthamr@netapp.com>\nCloses-Bug: #1566815\n'}, {'number': 3, 'created': '2016-08-03 15:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f5740a63935516b5ea72530065879655558e798a', 'message': 'Fix concurrency issue updating access having 2+ share instances\n\nIn case we update access rules for replicated share we can face\nconcurrency removing access rules.\nSo, add lock on ""update_access"" method used by share manager and\nstop pulling already deleted rules from DB.\n\nChange-Id: Ief3b15eefc0fc325a2a5418fc7ac2724c315cc21\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri2010@gmail.com>\nCo-Authored-By: Goutham Pacha Ravi <gouthamr@netapp.com>\nCloses-Bug: #1566815\n'}, {'number': 4, 'created': '2016-08-03 15:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a4ac5f5077d73fe3c4f09eb21d15b6526b85e5a5', 'message': 'Fix concurrent usage of update_access method for share intances\n\nIn mitaka, update_access merged with a known concurrency issue.\nThis concurrency has been randomly failing in our CIs. This change\nadds a lock mechanism to prevent that, while rules are being removed\nby a thread, a parallel thread adds back or handle the same rules\nthat are being removed.\n\nAlso, a late mitaka update_access patch [1] broke share migration access rules\nconsistency, thus leaving stale access rule data on share server that hosted\nthe share prior to its migration. This patch addresses this by preventing the\nrefresh mechanism from adding back rules that are removed.\n\n[1] I0f863cbae4d8af0660114161deda7bf7aa60d71d\n\nChange-Id: Ief3b15eefc0fc325a2a5418fc7ac2724c315cc21\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri2010@gmail.com>\nCo-Authored-By: Goutham Pacha Ravi <gouthamr@netapp.com>\nCloses-Bug: #1566815\nCloses-Bug: #1609414\n'}, {'number': 5, 'created': '2016-08-03 15:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3d4b586b4497bb9550161ee4cee4bb0bf1716637', 'message': 'Fix concurrent usage of update_access method for share intances\n\nIn mitaka, update_access merged with a known concurrency issue.\nThis concurrency has been randomly failing in our CIs. This change\nadds a lock mechanism to prevent that, while rules are being removed\nby a thread, a parallel thread adds back or handle the same rules\nthat are being removed.\n\nAlso, a late mitaka update_access patch [1] broke share migration access\nrules consistency, thus leaving stale access rule data on share server\nthat hosted the share prior to its migration. This patch addresses this\nby preventing the refresh mechanism from adding back rules\nthat are removed.\n\n[1] I0f863cbae4d8af0660114161deda7bf7aa60d71d\n\nChange-Id: Ief3b15eefc0fc325a2a5418fc7ac2724c315cc21\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri2010@gmail.com>\nCo-Authored-By: Goutham Pacha Ravi <gouthamr@netapp.com>\nCloses-Bug: #1566815\nCloses-Bug: #1609414\n'}, {'number': 6, 'created': '2016-08-04 06:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/471aee03827c0bec2a6ba81a68508e946e3ffc61', 'message': 'Fix concurrent usage of update_access method for share instances\n\nIn mitaka, update_access merged with a known concurrency issue.\nThis concurrency has been randomly failing in our CIs. This change\nadds a lock mechanism to prevent that, while rules are being removed\nby a thread, a parallel thread adds back or handle the same rules\nthat are being removed.\n\nAlso, a late mitaka update_access patch [1] broke share migration access\nrules consistency, thus leaving stale access rule data on share server\nthat hosted the share prior to its migration. This patch addresses this\nby preventing the refresh mechanism from adding back rules\nthat are removed.\n\n[1] I0f863cbae4d8af0660114161deda7bf7aa60d71d\n\nChange-Id: Ief3b15eefc0fc325a2a5418fc7ac2724c315cc21\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri2010@gmail.com>\nCo-Authored-By: Goutham Pacha Ravi <gouthamr@netapp.com>\nCloses-Bug: #1566815\nCloses-Bug: #1609414\n'}, {'number': 7, 'created': '2016-08-09 00:34:49.000000000', 'files': ['manila/tests/share/test_access.py', 'manila/db/sqlalchemy/api.py', 'manila/share/manager.py', 'manila/share/access.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/d878826cf3524e9e2f1d972072c7844934509616', 'message': 'Fix concurrent usage of update_access method for share instances\n\nIn mitaka, update_access merged with a known concurrency issue.\nThis concurrency has been randomly failing in our CIs. This change\nadds a lock mechanism to prevent that, while rules are being removed\nby a thread, a parallel thread adds back or handle the same rules\nthat are being removed.\n\nAlso, a late mitaka update_access patch [1] broke share migration access\nrules consistency, thus leaving stale access rule data on share server\nthat hosted the share prior to its migration. This patch addresses this\nby preventing the refresh mechanism from adding back rules\nthat are removed.\n\n[1] I0f863cbae4d8af0660114161deda7bf7aa60d71d\n\nChange-Id: Ief3b15eefc0fc325a2a5418fc7ac2724c315cc21\nCo-Authored-By: Rodrigo Barbieri <rodrigo.barbieri2010@gmail.com>\nCo-Authored-By: Goutham Pacha Ravi <gouthamr@netapp.com>\nCloses-Bug: #1566815\nCloses-Bug: #1609414\n'}]",4,350647,d878826cf3524e9e2f1d972072c7844934509616,102,24,7,8851,,,0,"Fix concurrent usage of update_access method for share instances

In mitaka, update_access merged with a known concurrency issue.
This concurrency has been randomly failing in our CIs. This change
adds a lock mechanism to prevent that, while rules are being removed
by a thread, a parallel thread adds back or handle the same rules
that are being removed.

Also, a late mitaka update_access patch [1] broke share migration access
rules consistency, thus leaving stale access rule data on share server
that hosted the share prior to its migration. This patch addresses this
by preventing the refresh mechanism from adding back rules
that are removed.

[1] I0f863cbae4d8af0660114161deda7bf7aa60d71d

Change-Id: Ief3b15eefc0fc325a2a5418fc7ac2724c315cc21
Co-Authored-By: Rodrigo Barbieri <rodrigo.barbieri2010@gmail.com>
Co-Authored-By: Goutham Pacha Ravi <gouthamr@netapp.com>
Closes-Bug: #1566815
Closes-Bug: #1609414
",git fetch https://review.opendev.org/openstack/manila refs/changes/47/350647/5 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_access.py', 'manila/db/sqlalchemy/api.py', 'manila/share/access.py']",3,21d93a1b462084ec6b7b5ff2e5e38db7e60c181a,migration,"from manila import utils share_id = share_instance[""share_id""] def _update_access_rules(context, share_instance_id, add_rules=None, delete_rules=None, share_server=None): # Reget share instance share_instance = self.db.share_instance_get( context, share_instance_id, with_share_data=True) # NOTE (rraja): preserve error state to trigger maintenance mode if share_instance['access_rules_status'] != constants.STATUS_ERROR: self.db.share_instance_update_access_status( share_instance_id, constants.STATUS_UPDATING) add_rules = add_rules or [] delete_rules = delete_rules or [] remove_rules = None if six.text_type(delete_rules).lower() == ""all"": # NOTE(ganso): if we are deleting an instance or clearing all # the rules, we want to remove only the ones related # to this instance. delete_rules = self.db.share_access_get_all_for_instance( context, share_instance['id']) rules = [] else: _rules = self.db.share_access_get_all_for_instance( context, share_instance['id']) rules = _rules if delete_rules: delete_ids = [rule['id'] for rule in delete_rules] rules = list(filter(lambda r: r['id'] not in delete_ids, rules)) # NOTE(ganso): trigger maintenance mode if share_instance['access_rules_status'] == ( constants.STATUS_ERROR): remove_rules = [ rule for rule in _rules if rule[""id""] in delete_ids] delete_rules = [] try: try: self.driver.update_access( context, share_instance, rules, add_rules=add_rules, delete_rules=delete_rules, share_server=share_server ) except NotImplementedError: # NOTE(u_glide): Fallback to legacy allow_access/deny_access # for drivers without update_access() method support self._update_access_fallback( add_rules, context, delete_rules, remove_rules, share_instance, share_server) except Exception: self.db.share_instance_update_access_status( context, share_instance['id'], constants.STATUS_ERROR) raise # NOTE(ganso): remove rules after maintenance is complete if remove_rules: delete_rules = remove_rules self._remove_access_rules( context, delete_rules, share_instance['id']) share_instance = self.db.share_instance_get( context, share_instance_id, with_share_data=True) if self._check_needs_refresh(context, rules, share_instance): _update_access_rules(context, share_instance_id, else: self.db.share_instance_update_access_status( context, share_instance['id'], constants.STATUS_ACTIVE ) LOG.info(_LI(""Access rules were successfully applied for "" ""share instance: %s""), share_instance['id']) @utils.synchronized(""%s"" % share_id, external=True) def _update_access_rules_locked(*args, **kwargs): return _update_access_rules(*args, **kwargs) _update_access_rules_locked( context=context, share_instance_id=share_instance_id, add_rules=add_rules, delete_rules=delete_rules, share_server=share_server, )"," # NOTE (rraja): preserve error state to trigger maintenance mode if share_instance['access_rules_status'] != constants.STATUS_ERROR: self.db.share_instance_update_access_status( context, share_instance_id, constants.STATUS_UPDATING) add_rules = add_rules or [] delete_rules = delete_rules or [] remove_rules = None if six.text_type(delete_rules).lower() == ""all"": # NOTE(ganso): if we are deleting an instance or clearing all # the rules, we want to remove only the ones related # to this instance. delete_rules = self.db.share_access_get_all_for_instance( context, share_instance['id']) rules = [] else: rules = self.db.share_access_get_all_for_instance( context, share_instance['id']) if delete_rules: delete_ids = [rule['id'] for rule in delete_rules] rules = list(filter(lambda r: r['id'] not in delete_ids, rules)) # NOTE(ganso): trigger maintenance mode if share_instance['access_rules_status'] == ( constants.STATUS_ERROR): remove_rules = delete_rules delete_rules = [] try: try: self.driver.update_access( share_instance, rules, add_rules=add_rules, delete_rules=delete_rules, share_server=share_server ) except NotImplementedError: # NOTE(u_glide): Fallback to legacy allow_access/deny_access # for drivers without update_access() method support self._update_access_fallback(add_rules, context, delete_rules, remove_rules, share_instance, share_server) except Exception: self.db.share_instance_update_access_status( context, share_instance['id'], constants.STATUS_ERROR) raise # NOTE(ganso): remove rules after maintenance is complete if remove_rules: delete_rules = remove_rules self._remove_access_rules(context, delete_rules, share_instance['id']) share_instance = self.db.share_instance_get(context, share_instance_id, with_share_data=True) if self._check_needs_refresh(context, rules, share_instance): self.update_access_rules(context, share_instance_id, else: self.db.share_instance_update_access_status( context, share_instance['id'], constants.STATUS_ACTIVE ) LOG.info(_LI(""Access rules were successfully applied for "" ""share instance: %s""), share_instance['id'])",99,76
openstack%2Fnova~master~Ib2cdf994c37d4c5d2e095741cc579a7dc12be9e0,openstack/nova,master,Ib2cdf994c37d4c5d2e095741cc579a7dc12be9e0,VMware: Enable disk.EnableUUID=True in vmx,MERGED,2015-07-23 20:05:42.000000000,2016-08-12 23:09:47.000000000,2016-08-12 23:09:47.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 2067}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6498}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9172}, {'_account_id': 9297}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10210}, {'_account_id': 10385}, {'_account_id': 10487}, {'_account_id': 10618}, {'_account_id': 12350}, {'_account_id': 12860}, {'_account_id': 13314}, {'_account_id': 13498}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15424}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16419}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18695}, {'_account_id': 20327}]","[{'number': 1, 'created': '2015-07-23 20:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/177e47948741ac4e99b70955784ed1c236bc45c1', 'message': ""Provide an option to set disk.EnableUUID in vmx\n\nCurrently there is no link in /dev/disk/by-id for SCSI (sdx) devices\nbecauyse by default VMWare doesn't provide information needed by udev\nto generate /dev/disk/by-id. When this specific parameter disk.EnableUUID\nis set to True in vmx file inside the guest vm /dev/disk/by-id shows a\nlink to UUID of the attached SCSI device\n\nDocImpact\nCloses-Bug: #1475740\n\nChange-Id: Ib2cdf994c37d4c5d2e095741cc579a7dc12be9e0\n""}, {'number': 2, 'created': '2015-07-24 06:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/928cc511a0ce2045f39671881aacc55587c7d5f5', 'message': ""Provide an option to set disk.EnableUUID in vmx\n\nCurrently there is no link in /dev/disk/by-id for SCSI (sdx) devices\nbecauyse by default VMWare doesn't provide information needed by udev\nto generate /dev/disk/by-id. When this specific parameter disk.EnableUUID\nis set to True in vmx file inside the guest vm /dev/disk/by-id shows a\nlink to UUID of the attached SCSI device\n\nDocImpact\nCloses-Bug: #1475740\n\nChange-Id: Ib2cdf994c37d4c5d2e095741cc579a7dc12be9e0\n""}, {'number': 3, 'created': '2015-08-06 17:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0ef89b6de14ef7b3849c950fe970bb386e2e4a0', 'message': ""Provide an option to set disk.EnableUUID in vmx\n\nCurrently there is no link in /dev/disk/by-id for SCSI (sdx) devices\nbecauyse by default VMWare doesn't provide information needed by udev\nto generate /dev/disk/by-id. When this specific parameter disk.EnableUUID\nis set to True in vmx file inside the guest vm /dev/disk/by-id shows a\nlink to UUID of the attached SCSI device\n\nDocImpact\nCloses-Bug: #1475740\n\nChange-Id: Ib2cdf994c37d4c5d2e095741cc579a7dc12be9e0\n""}, {'number': 4, 'created': '2015-08-07 05:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27761de2ae99ca1bc71a3975c88eebb66b09e83c', 'message': ""Provide an option to set disk.EnableUUID in vmx\n\nCurrently there is no link in /dev/disk/by-id for SCSI (sdx) devices\nbecause by default VMWare doesn't provide information needed by udev\nto generate /dev/disk/by-id. When this specific parameter disk.EnableUUID\nis set to True in vmx file inside the guest vm /dev/disk/by-id shows a\nlink to UUID of the attached SCSI device\n\nDocImpact\nCloses-Bug: #1475740\n\nChange-Id: Ib2cdf994c37d4c5d2e095741cc579a7dc12be9e0\n""}, {'number': 5, 'created': '2015-11-13 13:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/394da63505a7740591507af6a00baf21456c1d29', 'message': ""VMware: Enable disk.EnableUUID=True in vmx\n\nCurrently there is no link in /dev/disk/by-id for SCSI (sdx) devices\nbecauyse by default VMWare doesn't provide information needed by udev\nto generate /dev/disk/by-id. When this specific parameter disk.EnableUUID\nis set to True in vmx file inside the guest vm /dev/disk/by-id shows a\nlink to UUID of the attached SCSI device\n\nUpgradeDoc\nCloses-Bug: #1475740\n\nChange-Id: Ib2cdf994c37d4c5d2e095741cc579a7dc12be9e0\n""}, {'number': 6, 'created': '2015-11-13 18:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f7d0bf904f25f2a18beedcab6cfe01b1718630e', 'message': ""VMware: Enable disk.EnableUUID=True in vmx\n\nCurrently there is no link in /dev/disk/by-id for SCSI (sdx) devices\nbecause by default VMWare doesn't provide information needed by udev\nto generate /dev/disk/by-id. When this specific parameter disk.EnableUUID\nis set to True in vmx file inside the guest vm /dev/disk/by-id shows a\nlink to UUID of the attached SCSI device\n\nUpgradeDoc\nCloses-Bug: #1475740\n\nChange-Id: Ib2cdf994c37d4c5d2e095741cc579a7dc12be9e0\n""}, {'number': 7, 'created': '2016-02-05 18:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed3998a08380ed7ec9a6ff0b824650d61b7c4d7d', 'message': ""VMware: Enable disk.EnableUUID=True in vmx\n\nCurrently there is no link in /dev/disk/by-id for SCSI (sdx) devices\nbecauyse by default VMWare doesn't provide information needed by udev\nto generate /dev/disk/by-id. When this specific parameter disk.EnableUUID\nis set to True in vmx file inside the guest vm /dev/disk/by-id shows a\nlink to UUID of the attached SCSI device\n\nUpgradeDoc\nCloses-Bug: #1475740\n\nChange-Id: Ib2cdf994c37d4c5d2e095741cc579a7dc12be9e0\n""}, {'number': 8, 'created': '2016-02-05 19:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a73142375c1a5b3df2835c737f6487159f6a81f4', 'message': ""VMware: Enable disk.EnableUUID=True in vmx\n\nCurrently there is no link in /dev/disk/by-id for SCSI (sdx) devices\nbecause by default VMWare doesn't provide information needed by udev\nto generate /dev/disk/by-id. When this specific parameter disk.EnableUUID\nis set to True in vmx file inside the guest vm /dev/disk/by-id shows a\nlink to UUID of the attached SCSI device\n\nCloses-Bug: #1475740\n\nChange-Id: Ib2cdf994c37d4c5d2e095741cc579a7dc12be9e0\n""}, {'number': 9, 'created': '2016-07-13 21:11:16.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/virt/vmwareapi/vm_util.py', 'releasenotes/notes/vmware_disk_enableuuid_true-99b88e00fc168dd3.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/2a6bdf8f0e0e22fc7703faa9669ace7380dc73c3', 'message': ""VMware: Enable disk.EnableUUID=True in vmx\n\nCurrently there is no link in /dev/disk/by-id for SCSI (sdx) devices\nbecause by default VMWare doesn't provide information needed by udev\nto generate /dev/disk/by-id. When this specific parameter disk.EnableUUID\nis set to True in vmx file inside the guest vm /dev/disk/by-id shows a\nlink to UUID of the attached SCSI device\n\nCloses-Bug: #1475740\n\nChange-Id: Ib2cdf994c37d4c5d2e095741cc579a7dc12be9e0\n""}]",7,205269,2a6bdf8f0e0e22fc7703faa9669ace7380dc73c3,145,34,9,9297,,,0,"VMware: Enable disk.EnableUUID=True in vmx

Currently there is no link in /dev/disk/by-id for SCSI (sdx) devices
because by default VMWare doesn't provide information needed by udev
to generate /dev/disk/by-id. When this specific parameter disk.EnableUUID
is set to True in vmx file inside the guest vm /dev/disk/by-id shows a
link to UUID of the attached SCSI device

Closes-Bug: #1475740

Change-Id: Ib2cdf994c37d4c5d2e095741cc579a7dc12be9e0
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/205269/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/virt/vmwareapi/vm_util.py']",2,177e47948741ac4e99b70955784ed1c236bc45c1,bug/1475740," 'a remote console.'), cfg.BoolOpt('enable_disk_uuid', default=False, help='If set to True in vmx file, VMWare will provide information' 'needed by udev to generate /dev/disk/by-id') # enable to provide info needed by udev to generate /dev/disk/by-id if CONF.vmware.enable_disk_uuid: opt = client_factory.create('ns0:OptionValue') opt.key = ""disk.EnableUUID"" opt.value = True extra_config.append(opt) ", 'a remote console.'),56,1
openstack%2Fos-brick~master~I1f0e01c4c2e928022080cfc0475fb5190066df23,openstack/os-brick,master,I1f0e01c4c2e928022080cfc0475fb5190066df23,Fix iSCSI discovery with ISER transport,MERGED,2016-08-08 17:16:23.000000000,2016-08-12 23:07:05.000000000,2016-08-12 23:07:05.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 11904}]","[{'number': 1, 'created': '2016-08-08 17:16:23.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/cef2880afea3c754a48f0286f42abd98ce9c2772', 'message': ""Fix iSCSI discovery with ISER transport\n\nThe iSCSI discovery is not working with the ISER transport type. By default,\niscsiadm will use the tcp transport type. This patch changes the iscsiadm\ninvocation to provide the '-I' option with a value of iser where\nISER is in use, and a value of default otherwise.\n\nCloses-Bug: #1594892\nChange-Id: I1f0e01c4c2e928022080cfc0475fb5190066df23\n""}]",0,352528,cef2880afea3c754a48f0286f42abd98ce9c2772,25,3,1,16821,,,0,"Fix iSCSI discovery with ISER transport

The iSCSI discovery is not working with the ISER transport type. By default,
iscsiadm will use the tcp transport type. This patch changes the iscsiadm
invocation to provide the '-I' option with a value of iser where
ISER is in use, and a value of default otherwise.

Closes-Bug: #1594892
Change-Id: I1f0e01c4c2e928022080cfc0475fb5190066df23
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/28/352528/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py']",2,cef2880afea3c754a48f0286f42abd98ce9c2772,bug/1594892," iscsi_transport = ('iser' if self._get_transport() == 'iser' else 'default') self._run_iscsiadm_update_discoverydb(connection_properties, iscsi_transport) '-I', iscsi_transport, '-I', iscsi_transport, '-I', iscsi_transport, def _run_iscsiadm_update_discoverydb(self, connection_properties, iscsi_transport='default'): '-I', iscsi_transport, # At this point the host_devices may be an empty list # We need to refresh the paths as the devices may be empty host_devices, target_props = ( self._get_potential_volume_paths(connection_properties))"," self._run_iscsiadm_update_discoverydb(connection_properties) def _run_iscsiadm_update_discoverydb(self, connection_properties):",61,6
openstack%2Fos-brick~master~I624427a3d18007121f04e53e7382140c6f29cefa,openstack/os-brick,master,I624427a3d18007121f04e53e7382140c6f29cefa,Update the home-page info with the developer documentation,MERGED,2016-08-03 01:41:07.000000000,2016-08-12 23:06:59.000000000,2016-08-12 23:06:59.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 11904}]","[{'number': 1, 'created': '2016-08-03 01:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b8a6b01789702d6c352e687596a4d58aa1ed1b5f', 'message': 'Update the home-page info with the developer documentation\n\nSince there are so many components in openstack,\nby describing the URL info in the configuration file,\nit is more convenient to find the developer documentation\nthan from the unified portal\n\nChange-Id: I624427a3d18007121f04e53e7382140c6f29cefa\n'}, {'number': 2, 'created': '2016-08-03 01:41:45.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7a75b47f7b009a4a1e44658d81781caeafb8ebc6', 'message': 'Update the home-page info with the developer documentation\n\nSince there are so many components in openstack,\nby describing the URL info in the configuration file,\nit is more convenient to find the developer documentation\nthan from the unified portal\n\nChange-Id: I624427a3d18007121f04e53e7382140c6f29cefa\n'}]",0,350337,7a75b47f7b009a4a1e44658d81781caeafb8ebc6,19,3,2,22104,,,0,"Update the home-page info with the developer documentation

Since there are so many components in openstack,
by describing the URL info in the configuration file,
it is more convenient to find the developer documentation
than from the unified portal

Change-Id: I624427a3d18007121f04e53e7382140c6f29cefa
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/37/350337/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,b8a6b01789702d6c352e687596a4d58aa1ed1b5f,,,,0,0
openstack%2Fnetworking-generic-switch~master~I58a1d1ad58a6892a367cd3a13c68d6caa243d247,openstack/networking-generic-switch,master,I58a1d1ad58a6892a367cd3a13c68d6caa243d247,Don't move port to ACTIVE state immediately,MERGED,2016-08-11 11:32:22.000000000,2016-08-12 23:03:36.000000000,2016-08-12 23:03:36.000000000,"[{'_account_id': 3}, {'_account_id': 12356}, {'_account_id': 14525}, {'_account_id': 14760}]","[{'number': 1, 'created': '2016-08-11 11:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/be8bfbe9c91909cb6fd42e2a42137e36ba91d600', 'message': ""Don't move port to ACTIVE state immediately\n\nStarting with [0] new mechanism of setting port to ACTIVE state was introduced.\nThe port will be moved to ACTIVE state when all required agents (L2/DHCP etc)\nfinished theirs operations.\nThis patch update set_binding logic to avoid setting port to ACTIVE state,\nbefore other agents finished theirs work.\n\nReference:\n[0] https://review.openstack.org/#/c/181674/\n\nChange-Id: I58a1d1ad58a6892a367cd3a13c68d6caa243d247\n""}, {'number': 2, 'created': '2016-08-11 12:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/cad68bac83bbc667d8dc9e07a5360466a888306c', 'message': ""Don't move port to ACTIVE state immediately\n\nStarting with [0] new mechanism of setting port to ACTIVE state was introduced.\nThe port will be moved to ACTIVE state when all required agents (L2/DHCP etc)\nfinished theirs operations.\nThis patch update set_binding logic to avoid setting port to ACTIVE state,\nbefore other agents finished theirs work.\n\nReference:\n[0] https://review.openstack.org/#/c/181674/\n\nChange-Id: I58a1d1ad58a6892a367cd3a13c68d6caa243d247\n""}, {'number': 3, 'created': '2016-08-12 17:14:45.000000000', 'files': ['networking_generic_switch/tests/unit/test_generic_switch_mech.py', 'networking_generic_switch/generic_switch_mech.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/319127b9703c8ca94530c3aa521b210222d36b1e', 'message': ""Don't move port to ACTIVE state immediately\n\nStarting with [0] new mechanism of setting port to ACTIVE state was\nintroduced. The port will be moved to ACTIVE state when all required\nagents (L2/DHCP etc) finish their operations.\nThis patch updates set_binding logic to avoid setting port to ACTIVE\nstate before other agents finish their work.\n\nReference:\n[0] openstack/neutron commit: b672c26cb42ad3d9a17ed049b506b5622601e891\n\nChange-Id: I58a1d1ad58a6892a367cd3a13c68d6caa243d247\n""}]",3,353997,319127b9703c8ca94530c3aa521b210222d36b1e,22,4,3,14525,,,0,"Don't move port to ACTIVE state immediately

Starting with [0] new mechanism of setting port to ACTIVE state was
introduced. The port will be moved to ACTIVE state when all required
agents (L2/DHCP etc) finish their operations.
This patch updates set_binding logic to avoid setting port to ACTIVE
state before other agents finish their work.

Reference:
[0] openstack/neutron commit: b672c26cb42ad3d9a17ed049b506b5622601e891

Change-Id: I58a1d1ad58a6892a367cd3a13c68d6caa243d247
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/97/353997/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_generic_switch/tests/unit/test_generic_switch_mech.py', 'networking_generic_switch/generic_switch_mech.py']",2,be8bfbe9c91909cb6fd42e2a42137e36ba91d600,," portbindings.VIF_TYPE_OTHER, {})"," portbindings.VIF_TYPE_OTHER, {}, status=const.PORT_STATUS_ACTIVE)",2,4
openstack%2Fopenstack-ansible-os_nova~master~I5d8e3d2bb6a5e08308606888e1f34daa5e66e10f,openstack/openstack-ansible-os_nova,master,I5d8e3d2bb6a5e08308606888e1f34daa5e66e10f,Update PowerVM compute driver path,MERGED,2016-07-29 03:58:35.000000000,2016-08-12 23:00:50.000000000,2016-08-12 23:00:50.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 8190}, {'_account_id': 13883}, {'_account_id': 22030}, {'_account_id': 22042}]","[{'number': 1, 'created': '2016-07-29 03:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/cade92f24b91931067d3645ec82a2de43efb4930', 'message': 'Update PowerVM compute driver location\n\nThis change updates the PowerVM compute driver location and removes\nthe shim linking in the PowerVM install task, now that the package\nconfiguration has been fixed in nova-powervm with [1].\n\n[1] https://review.openstack.org/#/c/348544/\n\nChange-Id: I5d8e3d2bb6a5e08308606888e1f34daa5e66e10f\n'}, {'number': 2, 'created': '2016-07-29 04:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/90864f1c8c25a692fb245b7eabf5cffecdabdc02', 'message': 'Update PowerVM compute driver path\n\nThis change updates the PowerVM compute driver path and removes\nthe shim linking in the PowerVM install task, now that the package\nconfiguration has been fixed in nova-powervm with [1].\n\n[1] https://review.openstack.org/#/c/348544/\n\nPartially Implements: bp/powervm-virt-driver\n\nChange-Id: I5d8e3d2bb6a5e08308606888e1f34daa5e66e10f\n'}, {'number': 3, 'created': '2016-08-03 01:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/d14a063d5f8c893b2844d6c2d85d3c20482f5215', 'message': 'Update PowerVM compute driver path\n\nThis change updates the PowerVM compute driver path and removes\nthe shim linking in the PowerVM install task, now that the package\nconfiguration has been fixed in nova-powervm with [1].\n\n[1] https://review.openstack.org/#/c/348544/\n\nPartially Implements: bp/powervm-virt-driver\n\nChange-Id: I5d8e3d2bb6a5e08308606888e1f34daa5e66e10f\n'}, {'number': 4, 'created': '2016-08-05 12:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/a39b25b512096cb0e99f20a9a440b28535ba7b4c', 'message': 'Update PowerVM compute driver path\n\nThis change updates the PowerVM compute driver path and removes\nthe shim linking in the PowerVM install task, now that the package\nconfiguration has been fixed in nova-powervm with [1].\n\n[1] https://review.openstack.org/#/c/348544/\n\nPartially Implements: bp/powervm-virt-driver\n\nChange-Id: I5d8e3d2bb6a5e08308606888e1f34daa5e66e10f\n'}, {'number': 5, 'created': '2016-08-09 17:40:23.000000000', 'files': ['tasks/nova_compute_powervm_install.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/d0b3daccbd5781fac8016c1f0acf8b6d1a05a0e6', 'message': 'Update PowerVM compute driver path\n\nThis change updates the PowerVM compute driver path and removes\nthe shim linking in the PowerVM install task, now that the package\nconfiguration has been fixed in nova-powervm with [1].\n\n[1] https://review.openstack.org/#/c/348544/\n\nPartially Implements: bp/powervm-virt-driver\n\nChange-Id: I5d8e3d2bb6a5e08308606888e1f34daa5e66e10f\n'}]",0,348720,d0b3daccbd5781fac8016c1f0acf8b6d1a05a0e6,27,7,5,13883,,,0,"Update PowerVM compute driver path

This change updates the PowerVM compute driver path and removes
the shim linking in the PowerVM install task, now that the package
configuration has been fixed in nova-powervm with [1].

[1] https://review.openstack.org/#/c/348544/

Partially Implements: bp/powervm-virt-driver

Change-Id: I5d8e3d2bb6a5e08308606888e1f34daa5e66e10f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/20/348720/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/nova_compute_powervm_install.yml', 'defaults/main.yml']",2,cade92f24b91931067d3645ec82a2de43efb4930,powervm-virt-driver, nova_compute_driver: powervm.driver.PowerVMDriver, nova_compute_driver: nova_powervm.virt.powervm.driver.PowerVMDriver,1,10
openstack%2Fos-brick~master~Iac1215e8e81d83440fbe0b4d383fc0a27e02def7,openstack/os-brick,master,Iac1215e8e81d83440fbe0b4d383fc0a27e02def7,Fix weak test_vzstorage_with_mds_list,MERGED,2016-08-03 10:59:08.000000000,2016-08-12 22:56:31.000000000,2016-08-12 22:56:31.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 14384}, {'_account_id': 16595}, {'_account_id': 22796}]","[{'number': 1, 'created': '2016-08-03 10:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e95323d30b2248351d9621eaa1ba0d509ec3b09d', 'message': ""Fix weak test_vzstorage_with_mds_list\n\nExisting test_vzstorage_with_mds_list in\nos_brick.tests.remotefs.test_remotefs.RemoteFsClientTestCase is not\nmocking the path exists method and this creates problems in some patches\nin gate-os-brick-python27-ubuntu-xenial since we end up getting this\ncall\n\n call('cp', '-rf', '/tmp/fake_dir/', '/etc/pstorage/clusters/qwe',\n root_helper='true', run_as_root=True),\n\ninstead of the one we were expecting\n\n call('cp', '-f', '/tmp/fake_dir/bs_list',\n '/etc/pstorage/clusters/qwe/bs_list', root_helper='true',\n run_as_root=True),\n\nThis patch just mocks the exists method to make sure we always go\nthrough the same execution path.\n\nChange-Id: Iac1215e8e81d83440fbe0b4d383fc0a27e02def7\n""}, {'number': 2, 'created': '2016-08-03 16:50:54.000000000', 'files': ['os_brick/tests/remotefs/test_remotefs.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8900ce1958e2d2c51e9b4622c75edc17f068f73c', 'message': ""Fix weak test_vzstorage_with_mds_list\n\nExisting test_vzstorage_with_mds_list in\nos_brick.tests.remotefs.test_remotefs.RemoteFsClientTestCase is not\nmocking the path exists method and this creates problems in some patches\nin gate-os-brick-python27-ubuntu-xenial since we end up getting this\ncall\n\n call('cp', '-rf', '/tmp/fake_dir/', '/etc/pstorage/clusters/qwe',\n root_helper='true', run_as_root=True),\n\ninstead of the one we were expecting\n\n call('cp', '-f', '/tmp/fake_dir/bs_list',\n '/etc/pstorage/clusters/qwe/bs_list', root_helper='true',\n run_as_root=True),\n\nThis patch just mocks the exists method to make sure we always go\nthrough the same execution path.\n\nChange-Id: Iac1215e8e81d83440fbe0b4d383fc0a27e02def7\n""}]",0,350517,8900ce1958e2d2c51e9b4622c75edc17f068f73c,26,9,2,9535,,,0,"Fix weak test_vzstorage_with_mds_list

Existing test_vzstorage_with_mds_list in
os_brick.tests.remotefs.test_remotefs.RemoteFsClientTestCase is not
mocking the path exists method and this creates problems in some patches
in gate-os-brick-python27-ubuntu-xenial since we end up getting this
call

 call('cp', '-rf', '/tmp/fake_dir/', '/etc/pstorage/clusters/qwe',
 root_helper='true', run_as_root=True),

instead of the one we were expecting

 call('cp', '-f', '/tmp/fake_dir/bs_list',
 '/etc/pstorage/clusters/qwe/bs_list', root_helper='true',
 run_as_root=True),

This patch just mocks the exists method to make sure we always go
through the same execution path.

Change-Id: Iac1215e8e81d83440fbe0b4d383fc0a27e02def7
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/17/350517/2 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/tests/remotefs/test_remotefs.py'],1,e95323d30b2248351d9621eaa1ba0d509ec3b09d,bug/1502979," @mock.patch('os.path.exists', return_value=False) def test_vzstorage_with_mds_list(self, mock_read_mounts, mock_exists):"," def test_vzstorage_with_mds_list(self, mock_read_mounts):",2,1
openstack%2Fpuppet-ironic~master~Ie6b4c87e84da24fc73250ee49a6d391adba9208f,openstack/puppet-ironic,master,Ie6b4c87e84da24fc73250ee49a6d391adba9208f,Add CORS settings,MERGED,2016-08-12 08:10:34.000000000,2016-08-12 22:50:41.000000000,2016-08-12 22:50:41.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7745}, {'_account_id': 10239}]","[{'number': 1, 'created': '2016-08-12 08:10:34.000000000', 'files': ['spec/classes/ironic_cors_spec.rb', 'releasenotes/notes/ironic_cors-8b2f2bdaaa4b51f4.yaml', 'manifests/cors.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/4b243d49923b95a4cce010b7f4a4af9dcca93131', 'message': 'Add CORS settings\n\nAllow configuring CORS settings.\n\nChange-Id: Ie6b4c87e84da24fc73250ee49a6d391adba9208f\n'}]",1,354571,4b243d49923b95a4cce010b7f4a4af9dcca93131,16,4,1,13039,,,0,"Add CORS settings

Allow configuring CORS settings.

Change-Id: Ie6b4c87e84da24fc73250ee49a6d391adba9208f
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/71/354571/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_cors_spec.rb', 'releasenotes/notes/ironic_cors-8b2f2bdaaa4b51f4.yaml', 'manifests/cors.pp']",3,4b243d49923b95a4cce010b7f4a4af9dcca93131,cors,"# == Class: ironic::cors # # Configure the ironic cors # # === Parameters # # [*allowed_origin*] # (Optional) Indicate whether this resource may be shared with the domain # received in the requests ""origin"" header. # (string value) # Defaults to $::os_service_default. # # [*allow_credentials*] # (Optional) Indicate that the actual request can include user credentials. # (boolean value) # Defaults to $::os_service_default. # # [*expose_headers*] # (Optional) Indicate which headers are safe to expose to the API. # (list value) # Defaults to $::os_service_default. # # [*max_age*] # (Optional) Maximum cache age of CORS preflight requests. # (integer value) # Defaults to $::os_service_default. # # [*allow_methods*] # (Optional) Indicate which methods can be used during the actual request. # (list value) # Defaults to $::os_service_default. # # [*allow_headers*] # (Optional) Indicate which header field names may be used during the actual # request. # (list value) # Defaults to $::os_service_default. # class ironic::cors ( $allowed_origin = $::os_service_default, $allow_credentials = $::os_service_default, $expose_headers = $::os_service_default, $max_age = $::os_service_default, $allow_methods = $::os_service_default, $allow_headers = $::os_service_default, ) { oslo::cors { 'ironic_config': allowed_origin => $allowed_origin, allow_credentials => $allow_credentials, expose_headers => $expose_headers, max_age => $max_age, allow_methods => $allow_methods, allow_headers => $allow_headers, } } ",,108,0
openstack%2Fdevstack-gate~master~Ibbf4b8332d59fe80d254f8df04bf737b9dda427c,openstack/devstack-gate,master,Ibbf4b8332d59fe80d254f8df04bf737b9dda427c,Ironic needs fewer services on the subnode,ABANDONED,2016-08-09 23:59:15.000000000,2016-08-12 22:49:23.000000000,,"[{'_account_id': 3}, {'_account_id': 10342}, {'_account_id': 14760}]","[{'number': 1, 'created': '2016-08-09 23:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/fb2c0702755a5b43ad9c7a8a6778c8a4536bafde', 'message': 'Ironic needs fewer services on the subnode\n\nIronic needs to run fewer services on the subnode as it does not run\nas many on the base node as other multi-node jobs.\n\nChange-Id: Ibbf4b8332d59fe80d254f8df04bf737b9dda427c\nCloses-Bug: #1611381\n'}, {'number': 2, 'created': '2016-08-10 03:27:09.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/93b5a07eb519a1da52b192de8fad89dc85504b4c', 'message': 'Ironic needs fewer services on the subnode\n\nIronic needs to run fewer services on the subnode as it does not run\nas many on the base node as other multi-node jobs.\n\nChange-Id: Ibbf4b8332d59fe80d254f8df04bf737b9dda427c\nCloses-Bug: #1611381\n'}]",0,353191,93b5a07eb519a1da52b192de8fad89dc85504b4c,8,3,2,14760,,,0,"Ironic needs fewer services on the subnode

Ironic needs to run fewer services on the subnode as it does not run
as many on the base node as other multi-node jobs.

Change-Id: Ibbf4b8332d59fe80d254f8df04bf737b9dda427c
Closes-Bug: #1611381
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/91/353191/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,fb2c0702755a5b43ad9c7a8a6778c8a4536bafde,," if [ ""${DEVSTACK_GATE_IRONIC}"" = ""1"" ]; MY_ENABLED_SERVICES=""ir-api,n-cpu"" else MY_ENABLED_SERVICES=""n-cpu,ceilometer-acompute,dstat,c-vol,c-bak"" fi"," MY_ENABLED_SERVICES=""n-cpu,ceilometer-acompute,dstat,c-vol,c-bak""",5,1
openstack%2Fkeystone~master~Idab0290d77aca5cfefc9e3c206fb72fee40f35c6,openstack/keystone,master,Idab0290d77aca5cfefc9e3c206fb72fee40f35c6,Add the migration phase status table,ABANDONED,2016-08-01 21:06:59.000000000,2016-08-12 22:47:27.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 5707}, {'_account_id': 6460}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 8482}, {'_account_id': 13063}, {'_account_id': 18338}]","[{'number': 1, 'created': '2016-08-01 21:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dcf23cc63ef498354fd5c1046f23ffdf42d607f0', 'message': 'Add the migration phase status table\n\nThe first patch in a series that adds rolling upgrade support.\nThe migration process will be controlled by set of status\nflags stroed in their own table. Before we actually add the\nmigration code, we create the table.\n\nPartially implements: blueprint manage-migration\n\nChange-Id: Idab0290d77aca5cfefc9e3c206fb72fee40f35c6\n'}, {'number': 2, 'created': '2016-08-02 08:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dc28076a3d9e25155c04ee3f42bd699b54a97063', 'message': 'Add the migration phase status table\n\nThe first patch in a series that adds rolling upgrade support.\nThe migration process will be controlled by set of status\nflags stored in their own table. Before we actually add the\nmigration code, we create the table.\n\nPartially implements: blueprint manage-migration\n\nChange-Id: Idab0290d77aca5cfefc9e3c206fb72fee40f35c6\n'}, {'number': 3, 'created': '2016-08-04 06:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c418e825d333a33641bc5e7853893095a2ac250f', 'message': 'Add the migration phase status table\n\nThe first patch in a series that adds rolling upgrade support.\nThe migration process will be controlled by set of status\nflags stored in their own table. Before we actually add the\nmigration code, we create the table.\n\nPartially implements: blueprint manage-migration\n\nChange-Id: Idab0290d77aca5cfefc9e3c206fb72fee40f35c6\n'}, {'number': 4, 'created': '2016-08-05 13:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/51e0e3bfd1f7f76f39ca7dbe209cfa88a10b96bd', 'message': 'Add the migration phase status table\n\nThe first patch in a series that adds rolling upgrade support.\nThe migration process will be controlled by set of status\nflags stored in their own table. Before we actually add the\nmigration code, we create the table.\n\nPartially implements: blueprint manage-migration\n\nChange-Id: Idab0290d77aca5cfefc9e3c206fb72fee40f35c6\n'}, {'number': 5, 'created': '2016-08-08 12:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e30c57c480330c980fb19649f7fcb24b68da894f', 'message': 'Add the migration phase status table\n\nThe first patch in a series that adds rolling upgrade support.\nThe migration process will be controlled by set of status\nflags stored in their own table. Before we actually add the\nmigration code, we create the table.\n\nPartially implements: blueprint manage-migration\n\nChange-Id: Idab0290d77aca5cfefc9e3c206fb72fee40f35c6\n'}, {'number': 6, 'created': '2016-08-10 12:28:53.000000000', 'files': ['keystone/common/sql/migrate_repo/versions/109_add_migration_phase_table.py', 'keystone/common/sql/migration_phase_sql.py', 'keystone/tests/unit/common/test_migration_phase_sql.py', 'keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/18069850c016078c55f2cc9229aa50a192c34c69', 'message': 'Add the migration phase status table\n\nThe first patch in a series that adds rolling upgrade support.\nThe migration process will be controlled by set of status\nflags stored in their own table. Before we actually add the\nmigration code, we create the table.\n\nPartially implements: blueprint manage-migration\n\nChange-Id: Idab0290d77aca5cfefc9e3c206fb72fee40f35c6\n'}]",50,349703,18069850c016078c55f2cc9229aa50a192c34c69,31,9,6,5707,,,0,"Add the migration phase status table

The first patch in a series that adds rolling upgrade support.
The migration process will be controlled by set of status
flags stored in their own table. Before we actually add the
migration code, we create the table.

Partially implements: blueprint manage-migration

Change-Id: Idab0290d77aca5cfefc9e3c206fb72fee40f35c6
",git fetch https://review.opendev.org/openstack/keystone refs/changes/03/349703/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/migrate_repo/versions/108_add_migration_phase_table.py', 'keystone/common/sql/migration_phase_sql.py', 'keystone/tests/unit/common/test_migration_phase_sql.py', 'keystone/tests/unit/test_sql_upgrade.py']",4,dcf23cc63ef498354fd5c1046f23ffdf42d607f0,bp/manage-migration," def test_migration_108_add_migration_phase_table(self): migration_phase_table = 'migration_phase' self.upgrade(107) self.assertTableDoesNotExist(migration_phase_table) self.upgrade(108) self.assertTableExists(migration_phase_table) self.assertTableColumns(migration_phase_table, ['status', 'current_version', 'migrating_to_version', 'current_phase']) ",,174,0
openstack%2Fneutron~master~I401b242cc86ba1de7a20943d8b0340e0f0005ba3,openstack/neutron,master,I401b242cc86ba1de7a20943d8b0340e0f0005ba3,Add flush command to iproute in ip_lib,MERGED,2016-08-01 16:22:56.000000000,2016-08-12 22:47:19.000000000,2016-08-12 22:47:19.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 5170}, {'_account_id': 7016}, {'_account_id': 8873}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 23061}]","[{'number': 1, 'created': '2016-08-01 16:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a81472b69142b33408b584af46d93a2499625eb3', 'message': 'Add flush command to iproute in ip_lib\n\nIP route flush command to support flush the route\nentries.\n\nChange-Id: I401b242cc86ba1de7a20943d8b0340e0f0005ba3\n'}, {'number': 2, 'created': '2016-08-01 18:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e784d81b60b6738744faf6bb707679003cf8d4c2', 'message': 'Add flush command to iproute in ip_lib\n\nIP route flush command to support flush the route\nentries.\n\nChange-Id: I401b242cc86ba1de7a20943d8b0340e0f0005ba3\n'}, {'number': 3, 'created': '2016-08-01 18:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da7621736299a1c2e4ede747b5232d6fed836ecc', 'message': 'Add flush command to iproute in ip_lib\n\nIP route flush command to support flush the route\nentries.\n\nChange-Id: I401b242cc86ba1de7a20943d8b0340e0f0005ba3\n'}, {'number': 4, 'created': '2016-08-08 18:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc428369d8271a6067217db791fd3c8cef02491e', 'message': 'Add flush command to iproute in ip_lib\n\nIP route flush command to support flush the route\nentries.\n\nChange-Id: I401b242cc86ba1de7a20943d8b0340e0f0005ba3\n'}, {'number': 5, 'created': '2016-08-09 17:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f6316988fbfb1cc89dc4e14a49970fad3e6e9bc', 'message': 'Add flush command to iproute in ip_lib\n\nIP route flush command to support flush the route\nentries.\n\nChange-Id: I401b242cc86ba1de7a20943d8b0340e0f0005ba3\n'}, {'number': 6, 'created': '2016-08-09 20:51:48.000000000', 'files': ['neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/87488f345c47d587e432206b2f7289a727e7e528', 'message': 'Add flush command to iproute in ip_lib\n\nIP route flush command to support flush the route\nentries.\n\nCloses-Bug: #1611513\nChange-Id: I401b242cc86ba1de7a20943d8b0340e0f0005ba3\n'}]",4,349587,87488f345c47d587e432206b2f7289a727e7e528,57,13,6,7016,,,0,"Add flush command to iproute in ip_lib

IP route flush command to support flush the route
entries.

Closes-Bug: #1611513
Change-Id: I401b242cc86ba1de7a20943d8b0340e0f0005ba3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/349587/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py']",2,a81472b69142b33408b584af46d93a2499625eb3,add-flush-support-iproute," def test_route_flush(self): self.route_cmd.flush(4, self.table) self._assert_sudo([4], ('flush', 'table', self.table)) ",,15,0
openstack%2Fneutron~master~I30e8e40073117e63bf9a99f13000d83a87e64f29,openstack/neutron,master,I30e8e40073117e63bf9a99f13000d83a87e64f29,Avoid allocating ports from ip_local_port_range,MERGED,2016-05-23 09:43:57.000000000,2016-08-12 22:41:55.000000000,2016-08-10 14:16:16.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 8873}, {'_account_id': 9200}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 14208}, {'_account_id': 14323}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 19726}]","[{'number': 1, 'created': '2016-05-23 09:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f5be7c29ca9d39a9898f9ee866a9b44a32927ac', 'message': 'Avoid allocating ports from ip_local_port_range\n\nPorts within ip_local_port_range can be used by the local side\nof connections.  Avoid using them as we have ExclusiveResource\nallocators in place.\n\nChange-Id: I30e8e40073117e63bf9a99f13000d83a87e64f29\nCloses-Bug: #1551288\n'}, {'number': 2, 'created': '2016-06-14 03:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc12f5e2b28a4852cab27b3498dc558f83510754', 'message': 'Avoid allocating ports from ip_local_port_range\n\nPorts within ip_local_port_range can be used by the local side\nof connections.  Avoid using them as there should be no downside\nfrom using narrower port range thanks to ExclusiveResource\nallocators.\n\nChange-Id: I30e8e40073117e63bf9a99f13000d83a87e64f29\nCloses-Bug: #1551288\n'}, {'number': 3, 'created': '2016-07-14 08:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d41f8a4e3756154d81fab94cb187ac3d239b179', 'message': 'Avoid allocating ports from ip_local_port_range\n\nPorts within ip_local_port_range can be used by the local side\nof connections.  Avoid using them as there should be no downside\nfrom using narrower port range thanks to ExclusiveResource\nallocators.\n\nChange-Id: I30e8e40073117e63bf9a99f13000d83a87e64f29\nCloses-Bug: #1551288\n'}, {'number': 4, 'created': '2016-08-10 06:20:52.000000000', 'files': ['neutron/tests/unit/tests/common/test_net_helpers.py', 'neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/91a983f40ad4448235272e24f678a230f32385d7', 'message': 'Avoid allocating ports from ip_local_port_range\n\nPorts within ip_local_port_range can be used by the local side\nof connections.  Avoid using them as there should be no downside\nfrom using narrower port range thanks to ExclusiveResource\nallocators.\n\nChange-Id: I30e8e40073117e63bf9a99f13000d83a87e64f29\nCloses-Bug: #1551288\n'}]",6,319807,91a983f40ad4448235272e24f678a230f32385d7,49,15,4,9200,,,0,"Avoid allocating ports from ip_local_port_range

Ports within ip_local_port_range can be used by the local side
of connections.  Avoid using them as there should be no downside
from using narrower port range thanks to ExclusiveResource
allocators.

Change-Id: I30e8e40073117e63bf9a99f13000d83a87e64f29
Closes-Bug: #1551288
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/319807/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,6f5be7c29ca9d39a9898f9ee866a9b44a32927ac,limit-port-allocation-range,"def get_unused_port(used, start=1024, end=32767):","def get_unused_port(used, start=1024, end=65535):",1,1
openstack%2Fmonasca-agent~master~Ic4a41335c88c21ace0395bf6b1b1640557c23977,openstack/monasca-agent,master,Ic4a41335c88c21ace0395bf6b1b1640557c23977,Fix cert_check to use global collect_period,MERGED,2016-08-09 18:28:39.000000000,2016-08-12 22:38:46.000000000,2016-08-12 22:38:46.000000000,"[{'_account_id': 3}, {'_account_id': 11809}, {'_account_id': 14517}, {'_account_id': 15027}, {'_account_id': 18179}, {'_account_id': 22044}]","[{'number': 1, 'created': '2016-08-09 18:28:39.000000000', 'files': ['monasca_agent/collector/checks_d/cert_check.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/63619348a3757b99617c321b0de847d7a27f7321', 'message': ""Fix cert_check to use global collect_period\n\nWith the new addition of collect_period, cert_check needed to be\nreconfigured so the two features don't interfere with each other.\n\nDepends-On: I423b1f14d4b0580e625e5f57c729c4a6c9923a93\nChange-Id: Ic4a41335c88c21ace0395bf6b1b1640557c23977\n""}]",0,353058,63619348a3757b99617c321b0de847d7a27f7321,10,6,1,22157,,,0,"Fix cert_check to use global collect_period

With the new addition of collect_period, cert_check needed to be
reconfigured so the two features don't interfere with each other.

Depends-On: I423b1f14d4b0580e625e5f57c729c4a6c9923a93
Change-Id: Ic4a41335c88c21ace0395bf6b1b1640557c23977
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/58/353058/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/collector/checks_d/cert_check.py'],1,63619348a3757b99617c321b0de847d7a27f7321,certConfig,# (C) Copyright 2016 Hewlett Packard Enterprise Development LP,"# (C) Copyright 2016 Hewlett Packard Enterprise Development Company LPimport time self._collection_period = init_config.get('collect_period') self._last_collect_time = datetime.fromordinal(1) self._skip_collection = False self.log.debug('collection_period is %d' % self._collection_period) def prepare_run(self): """"""Check if it is time for the measurements to be collected"""""" time_since_last = datetime.now() - self._last_collect_time if time_since_last.seconds < self._collection_period: self.log.debug('Skipping collection for %d seconds' % (self._collection_period - time_since_last.seconds)) self._skip_collection = True return self._skip_collection = False if self._skip_collection: return self._last_collect_time = datetime.now()",1,19
openstack%2Fopenstack-ansible-os_tempest~master~I8bdc2891080630a4039f0abc310df378f0482a30,openstack/openstack-ansible-os_tempest,master,I8bdc2891080630a4039f0abc310df378f0482a30,Include ansible commands for ansible linting,MERGED,2016-08-11 17:10:42.000000000,2016-08-12 22:36:11.000000000,2016-08-12 22:36:11.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 17:10:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ca5cda7214a650f0202acab070b45e12bd34a245', 'message': 'Include ansible commands for ansible linting\n\nThe plugin repo needs to be cloned for ansible-lint to\nunderstand ansible plugins. The commands currently\nreside in tox.ini under the ansible section and are not\ncurrently included. This commit fixes that error.\n\nChange-Id: I8bdc2891080630a4039f0abc310df378f0482a30\n'}]",0,354252,ca5cda7214a650f0202acab070b45e12bd34a245,10,3,1,17068,,,0,"Include ansible commands for ansible linting

The plugin repo needs to be cloned for ansible-lint to
understand ansible plugins. The commands currently
reside in tox.ini under the ansible section and are not
currently included. This commit fixes that error.

Change-Id: I8bdc2891080630a4039f0abc310df378f0482a30
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/52/354252/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ca5cda7214a650f0202acab070b45e12bd34a245,bp/ansible-2-1-support, {[testenv:ansible]commands},,1,0
openstack%2Fkeystone~master~I5a37c781b83967b12cda60b054c612df3c3cb697,openstack/keystone,master,I5a37c781b83967b12cda60b054c612df3c3cb697,Add basic upgrade documentation,MERGED,2016-08-03 02:12:09.000000000,2016-08-12 22:35:28.000000000,2016-08-12 22:35:28.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 7725}, {'_account_id': 8119}, {'_account_id': 8482}, {'_account_id': 13063}, {'_account_id': 13478}, {'_account_id': 18338}, {'_account_id': 19985}, {'_account_id': 20466}, {'_account_id': 21420}]","[{'number': 1, 'created': '2016-08-03 02:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/aae0571b8011bb50ce2c946d838f0955794d1337', 'message': ""Add basic upgrade documentation\n\nRolling upgrades are being introduced in the Newton release, which will\nsubstantially impact the process that deployers will have to follow to\nupgrade keystone.\n\nThis will provide us a basis for documenting rolling upgrades (also,\nit's about time we documented our current process).\n\nbp manage-migration\n\nChange-Id: I5a37c781b83967b12cda60b054c612df3c3cb697\n""}, {'number': 2, 'created': '2016-08-08 21:12:34.000000000', 'files': ['doc/source/index.rst', 'doc/source/upgrading.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ff00d33e9b9252520c824f63176e9f15e1ef0332', 'message': ""Add basic upgrade documentation\n\nRolling upgrades are being introduced in the Newton release, which will\nsubstantially impact the process that deployers will have to follow to\nupgrade keystone.\n\nThis will provide us a basis for documenting rolling upgrades (also,\nit's about time we documented our current process).\n\nbp manage-migration\n\nChange-Id: I5a37c781b83967b12cda60b054c612df3c3cb697\n""}]",7,350341,ff00d33e9b9252520c824f63176e9f15e1ef0332,22,13,2,4,,,0,"Add basic upgrade documentation

Rolling upgrades are being introduced in the Newton release, which will
substantially impact the process that deployers will have to follow to
upgrade keystone.

This will provide us a basis for documenting rolling upgrades (also,
it's about time we documented our current process).

bp manage-migration

Change-Id: I5a37c781b83967b12cda60b054c612df3c3cb697
",git fetch https://review.opendev.org/openstack/keystone refs/changes/41/350341/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/upgrading.rst']",2,aae0571b8011bb50ce2c946d838f0955794d1337,bp/manage-migration,".. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. ================== Upgrading Keystone ================== This is a high-level description of our upgrade strategy built around ``keystone-manage db_sync``. It assumes that you are willing to have downtime of your control plane during the upgrade process. With keystone unavailable, no other OpenStack services will be able to authenticate requests, effectively preventing the rest of the control plane from functioning normally. .. NOTE:: The details of these steps are entirely dependent on the details of your specific deployment, such as your chosen application server and database management system. Use it only as a guide when implementing your own upgrade process! 1. Plan! * Read and ensure you understand the `release notes http://docs.openstack.org/releasenotes/keystone/`_ for the next release. * Resolve any outstanding deprecation warnings in your logs. Some deprecation cycles are as short as a single release, so it's possible to break a deployment if you leave *any* outstanding warnings. It might be a good idea to re-read the release notes for the previous release (or two!). * Prepare your new configuration files, including ``keystone.conf``, ``logging.conf``, ``policy.json``, ``keystone-paste.ini``, and anything else in ``/etc/keystone/``, by customizing the corresponding files from the next release. 2. Stop all keystone processes. If you only upgrade one node at a time, then you'll risk multiple releases of keystone trying to write to the database at the same time. 3. Make a backup of your database. Keystone does not support downgrading the database, so restoring from a full backup is your only option for recovery in the event of an upgrade failure. 4. Upgrade all keystone nodes to the next release. 5. Update your configuration files (``/etc/keystone/``) with those corresponding from the latest release. 6. Run ``keystone-manage db_sync`` from any one node to upgrade both the database schema and run any corresponding database migrations. 7. Run ``keystone-manage doctor`` to diagnose symptoms of common deployment issues and receive instructions for resolving them. 8. Start all keystone processes. ",,67,0
openstack%2Fopenstack-ansible-os_nova~master~Ifadfc1904a5bbfca73eaf9742169d389c04d93ba,openstack/openstack-ansible-os_nova,master,Ifadfc1904a5bbfca73eaf9742169d389c04d93ba,Include ansible commands for ansible linting,MERGED,2016-08-11 17:09:58.000000000,2016-08-12 22:33:58.000000000,2016-08-12 22:33:58.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 17:09:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/443f1b0a033e4630e38e627ba5ff1a324a5d1f14', 'message': 'Include ansible commands for ansible linting\n\nThe plugin repo needs to be cloned for ansible-lint to\nunderstand ansible plugins. The commands currently\nreside in tox.ini under the ansible section and are not\ncurrently included. This commit fixes that error.\n\nChange-Id: Ifadfc1904a5bbfca73eaf9742169d389c04d93ba\n'}]",0,354247,443f1b0a033e4630e38e627ba5ff1a324a5d1f14,11,3,1,17068,,,0,"Include ansible commands for ansible linting

The plugin repo needs to be cloned for ansible-lint to
understand ansible plugins. The commands currently
reside in tox.ini under the ansible section and are not
currently included. This commit fixes that error.

Change-Id: Ifadfc1904a5bbfca73eaf9742169d389c04d93ba
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/47/354247/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,443f1b0a033e4630e38e627ba5ff1a324a5d1f14,bp/ansible-2-1-support, {[testenv:ansible]commands},,1,0
openstack%2Fmagnum~master~If229a8e60557e4f7c955ef4869230fbdf248fae0,openstack/magnum,master,If229a8e60557e4f7c955ef4869230fbdf248fae0,Add test for update baymodel public,MERGED,2016-08-12 04:33:03.000000000,2016-08-12 22:32:55.000000000,2016-08-12 22:32:55.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 11536}, {'_account_id': 12175}, {'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 22487}]","[{'number': 1, 'created': '2016-08-12 04:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f6ffef9d209df4fb35c17729d4e684bd4a4f0e89', 'message': 'Add test for update baymodel public\n\nupdate baymodel public=True,and check the result.\n\nChange-Id: If229a8e60557e4f7c955ef4869230fbdf248fae0\n'}, {'number': 2, 'created': '2016-08-12 06:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b201f77dbdbdb77266eff49377c16ae8b494d2a8', 'message': 'Add test for update baymodel public\n\nupdate baymodel public=True,and check the result.\n\nChange-Id: If229a8e60557e4f7c955ef4869230fbdf248fae0\n'}, {'number': 3, 'created': '2016-08-12 08:07:32.000000000', 'files': ['magnum/tests/functional/common/datagen.py', 'magnum/tests/functional/api/v1/test_baymodel.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/848666753819b67bcafe9421b217afc42e91ac04', 'message': 'Add test for update baymodel public\n\nupdate baymodel public=True,and check the result.\n\nChange-Id: If229a8e60557e4f7c955ef4869230fbdf248fae0\n'}]",10,354511,848666753819b67bcafe9421b217afc42e91ac04,17,7,3,22487,,,0,"Add test for update baymodel public

update baymodel public=True,and check the result.

Change-Id: If229a8e60557e4f7c955ef4869230fbdf248fae0
",git fetch https://review.opendev.org/openstack/magnum refs/changes/11/354511/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/functional/common/datagen.py', 'magnum/tests/functional/api/v1/test_baymodel.py']",2,f6ffef9d209df4fb35c17729d4e684bd4a4f0e89,add_update_baymodel_public_test," def test_update_baymodel_public_by_uuid(self): gen_model = datagen.baymodel_data_with_valid_keypair_image_flavor() resp, old_model = self._create_baymodel(gen_model) patch_model = datagen.baymodel_public_patch_data(public=True) resp, new_model = self.baymodel_client.patch_baymodel( old_model.uuid, patch_model) self.assertEqual(200, resp.status) resp, model = self.baymodel_client.get_baymodel(new_model.uuid) self.assertEqual(200, resp.status) self.assertTrue(new_model.public) @testtools.testcase.attr('positive')",,29,0
openstack%2Fnova~master~Id72b013ebf4847662cdb434a040b290001483606,openstack/nova,master,Id72b013ebf4847662cdb434a040b290001483606,Allow authorization by user_id for server suspend action,MERGED,2016-08-10 09:38:37.000000000,2016-08-12 22:32:28.000000000,2016-08-11 20:34:42.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-08-10 09:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07cc703f5d77e795ea6b35d6e203948478c8f535', 'message': 'Allow authorization by user_id for server suspend action\n\nCurrent policy enforcement does not allow authorization by user_id.\nBut there are some destructive actions which needs to be\nisolated at user level also.\n\nThis patch allow authorization by user_id for server suspend action.\nCloud provider can override default policy rule for suspend action with\n""user_id:%(user_id)s"" and user level isolation will be enabled.\n\nPartially implements blueprint user_id_based_policy_enforcement\n\nChange-Id: Id72b013ebf4847662cdb434a040b290001483606\n'}, {'number': 2, 'created': '2016-08-11 14:43:59.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_suspend_server.py', 'nova/api/openstack/compute/suspend_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/90f0e3d4abecb44e24654c1912893a4492feb1a9', 'message': 'Allow authorization by user_id for server suspend action\n\nCurrent policy enforcement does not allow authorization by user_id.\nBut there are some destructive actions which needs to be\nisolated at user level also.\n\nThis patch allow authorization by user_id for server suspend action.\nCloud provider can override default policy rule for suspend action with\n""user_id:%(user_id)s"" and user level isolation will be enabled.\n\nPartially implements blueprint user_id_based_policy_enforcement\n\nChange-Id: Id72b013ebf4847662cdb434a040b290001483606\n'}]",4,353344,90f0e3d4abecb44e24654c1912893a4492feb1a9,33,15,2,8556,,,0,"Allow authorization by user_id for server suspend action

Current policy enforcement does not allow authorization by user_id.
But there are some destructive actions which needs to be
isolated at user level also.

This patch allow authorization by user_id for server suspend action.
Cloud provider can override default policy rule for suspend action with
""user_id:%(user_id)s"" and user level isolation will be enabled.

Partially implements blueprint user_id_based_policy_enforcement

Change-Id: Id72b013ebf4847662cdb434a040b290001483606
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/353344/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/suspend_server.py', 'nova/tests/unit/api/openstack/compute/test_suspend_server.py']",2,07cc703f5d77e795ea6b35d6e203948478c8f535,bp/user_id_based_policy_enforcement,"import mock from nova.tests.unit import fake_instance @mock.patch('nova.api.openstack.common.get_instance') def test_suspend_policy_failed(self, get_instance_mock): get_instance_mock.return_value = ( fake_instance.fake_instance_obj(self.req.environ['nova.context'])) @mock.patch('nova.api.openstack.common.get_instance') def test_suspend_overridden_policy_failed_with_other_user_in_same_project( self, get_instance_mock): get_instance_mock.return_value = ( fake_instance.fake_instance_obj(self.req.environ['nova.context'])) rule_name = ""os_compute_api:os-suspend-server:suspend"" self.policy.set_rules({rule_name: ""user_id:%(user_id)s""}) # Change the user_id in request context. self.req.environ['nova.context'].user_id = 'other-user' exc = self.assertRaises(exception.PolicyNotAuthorized, self.controller._suspend, self.req, fakes.FAKE_UUID, body={'suspend': {}}) self.assertEqual( ""Policy doesn't allow %s to be performed."" % rule_name, exc.format_message()) @mock.patch('nova.compute.api.API.suspend') @mock.patch('nova.api.openstack.common.get_instance') def test_suspend_overridden_policy_pass_with_same_user(self, get_instance_mock, suspend_mock): instance = fake_instance.fake_instance_obj( self.req.environ['nova.context'], user_id=self.req.environ['nova.context'].user_id) get_instance_mock.return_value = instance rule_name = ""os_compute_api:os-suspend-server:suspend"" self.policy.set_rules({rule_name: ""user_id:%(user_id)s""}) self.controller._suspend(self.req, fakes.FAKE_UUID, body={'suspend': {}}) suspend_mock.assert_called_once_with(self.req.environ['nova.context'], instance) ", def test_suspend_policy_failed(self):,42,2
openstack%2Fnova~master~I4365843507d33b2b6f340eb9f1a57b2a48955ab3,openstack/nova,master,I4365843507d33b2b6f340eb9f1a57b2a48955ab3,Allow authorization by user_id for server rebuild,MERGED,2016-08-09 08:10:40.000000000,2016-08-12 22:32:14.000000000,2016-08-11 20:36:16.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-08-09 08:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1168b2907fd860258dc2d1c142bcd6faf5724832', 'message': 'Allow authorization by user_id for server rebuild\n\nCurrent policy enforcement does not allow authorization by user_id.\nBut there are some destructive actions which needs to be\nisolated at user level also.\n\nThis patch allow authorization by user_id for server rebuild.\nCloud provider can override default policy rule for rebuild with\n""user_id:%(user_id)s"" and user level isolation will be enabled.\n\nPartially implements blueprint user_id_based_policy_enforcement\n\nChange-Id: I4365843507d33b2b6f340eb9f1a57b2a48955ab3\n'}, {'number': 2, 'created': '2016-08-10 08:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5dc0bab3f9761c4a259e419c3069ef9696449d3a', 'message': 'Allow authorization by user_id for server rebuild\n\nCurrent policy enforcement does not allow authorization by user_id.\nBut there are some destructive actions which needs to be\nisolated at user level also.\n\nThis patch allow authorization by user_id for server rebuild.\nCloud provider can override default policy rule for rebuild with\n""user_id:%(user_id)s"" and user level isolation will be enabled.\n\nPartially implements blueprint user_id_based_policy_enforcement\n\nChange-Id: I4365843507d33b2b6f340eb9f1a57b2a48955ab3\n'}, {'number': 3, 'created': '2016-08-10 14:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11b237430b7b9648b4b29ad81ff07734a6dd0601', 'message': 'Allow authorization by user_id for server rebuild\n\nCurrent policy enforcement does not allow authorization by user_id.\nBut there are some destructive actions which needs to be\nisolated at user level also.\n\nThis patch allow authorization by user_id for server rebuild.\nCloud provider can override default policy rule for rebuild with\n""user_id:%(user_id)s"" and user level isolation will be enabled.\n\nPartially implements blueprint user_id_based_policy_enforcement\n\nChange-Id: I4365843507d33b2b6f340eb9f1a57b2a48955ab3\n'}, {'number': 4, 'created': '2016-08-11 14:47:24.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7878588b404aa8bcbc3721abe2b36b078c6cfbd6', 'message': 'Allow authorization by user_id for server rebuild\n\nCurrent policy enforcement does not allow authorization by user_id.\nBut there are some destructive actions which needs to be\nisolated at user level also.\n\nThis patch allow authorization by user_id for server rebuild.\nCloud provider can override default policy rule for rebuild with\n""user_id:%(user_id)s"" and user level isolation will be enabled.\n\nPartially implements blueprint user_id_based_policy_enforcement\n\nChange-Id: I4365843507d33b2b6f340eb9f1a57b2a48955ab3\n'}]",6,352767,7878588b404aa8bcbc3721abe2b36b078c6cfbd6,59,17,4,8556,,,0,"Allow authorization by user_id for server rebuild

Current policy enforcement does not allow authorization by user_id.
But there are some destructive actions which needs to be
isolated at user level also.

This patch allow authorization by user_id for server rebuild.
Cloud provider can override default policy rule for rebuild with
""user_id:%(user_id)s"" and user level isolation will be enabled.

Partially implements blueprint user_id_based_policy_enforcement

Change-Id: I4365843507d33b2b6f340eb9f1a57b2a48955ab3
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/352767/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py']",2,1168b2907fd860258dc2d1c142bcd6faf5724832,bp/user_id_based_policy_enforcement,"from nova import policy context.can(server_policies.SERVERS % 'rebuild', target=policy.prepare_target_from_resource(instance))", context.can(server_policies.SERVERS % 'rebuild'),62,8
openstack%2Fosc-lib~master~Ibe1c36e72c96eb2b3746645f7e6b433307ce8021,openstack/osc-lib,master,Ibe1c36e72c96eb2b3746645f7e6b433307ce8021,More hacks to fix broken o-c-c precedence,MERGED,2016-08-11 23:30:55.000000000,2016-08-12 22:29:06.000000000,2016-08-12 22:29:06.000000000,"[{'_account_id': 3}, {'_account_id': 6482}]","[{'number': 1, 'created': '2016-08-11 23:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/b59cccc5e63e1d323d7d378096cb9dde2edd32e4', 'message': ""More hacks to fix broken o-c-c precedence\n\nWe needed a bit more to work around os-client-config 1.18.0's broken\nprecedence; this can't all be fixed in OSC.\n\nChange-Id: Ibe1c36e72c96eb2b3746645f7e6b433307ce8021\n""}, {'number': 2, 'created': '2016-08-12 17:37:12.000000000', 'files': ['osc_lib/cli/client_config.py', 'releasenotes/notes/arg-precedence-1ba9fd6929650830.yaml'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/ea65b90d63050a331bc039589c8bb6fc308067fa', 'message': ""More hacks to fix broken o-c-c precedence\n\nWe needed a bit more to work around os-client-config 1.18.0's broken\nprecedence; this can't all be fixed in OSC.\n\nChange-Id: Ibe1c36e72c96eb2b3746645f7e6b433307ce8021\n""}]",0,354442,ea65b90d63050a331bc039589c8bb6fc308067fa,9,2,2,970,,,0,"More hacks to fix broken o-c-c precedence

We needed a bit more to work around os-client-config 1.18.0's broken
precedence; this can't all be fixed in OSC.

Change-Id: Ibe1c36e72c96eb2b3746645f7e6b433307ce8021
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/42/354442/1 && git format-patch -1 --stdout FETCH_HEAD,['osc_lib/cli/client_config.py'],1,b59cccc5e63e1d323d7d378096cb9dde2edd32e4,more-occ-hacks," # TODO(dtroyer): un-hackify all of the below when o-c-c 1.19.x is # the munimum in global-requirements def get_one_cloud(self, cloud=None, validate=True, argparse=None, **kwargs): # First, save this off for later self._save_argparse = self._fix_args(kwargs, argparse=argparse) return super(OSC_Config, self).get_one_cloud( cloud=cloud, validate=validate, argparse=argparse, **kwargs ) if fixed_argparse is None: # This is o-c-c 1.18.x or older, fix up the original options fixed_argparse = self._fix_args(None, argparse=self._save_argparse) ",,20,0
openstack%2Fcharm-heat~stable%2F16.07~I811f0a91e1ff9a6d95e80a4a40be063d7d047c7e,openstack/charm-heat,stable/16.07,I811f0a91e1ff9a6d95e80a4a40be063d7d047c7e,modified the heat charm to accomodate the workers-mutiplier option,MERGED,2016-08-12 17:34:26.000000000,2016-08-12 22:28:06.000000000,2016-08-12 22:28:06.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-08-12 17:34:26.000000000', 'files': ['templates/icehouse/heat.conf', 'hooks/heat_utils.py', 'config.yaml', 'templates/liberty/heat.conf', 'templates/kilo/heat.conf', 'templates/mitaka/heat.conf'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/db8f236c82e24b96949127d3aa553d88403957c6', 'message': 'modified the heat charm to accomodate the workers-mutiplier option\n\nHeat charm was missing this functionality and this patch is to add\nthis feature. We were trying to deploy this charm in a lxc\ncontainer on a host machine with 72 cores. In end up creating 144\nprocess with heat-engine and heat-api.\n\nThis patch will provide the option to limit the number of worker\nprocess in case of high number of cores in a host.\n\nEnable it for icehouse, kilo, liberty and mitaka.\n\nChange-Id: I811f0a91e1ff9a6d95e80a4a40be063d7d047c7e\n(cherry picked from commit 93045f31241997d6fddc466d854626b030e72336)\n'}]",0,354871,db8f236c82e24b96949127d3aa553d88403957c6,7,3,1,20828,,,0,"modified the heat charm to accomodate the workers-mutiplier option

Heat charm was missing this functionality and this patch is to add
this feature. We were trying to deploy this charm in a lxc
container on a host machine with 72 cores. In end up creating 144
process with heat-engine and heat-api.

This patch will provide the option to limit the number of worker
process in case of high number of cores in a host.

Enable it for icehouse, kilo, liberty and mitaka.

Change-Id: I811f0a91e1ff9a6d95e80a4a40be063d7d047c7e
(cherry picked from commit 93045f31241997d6fddc466d854626b030e72336)
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/71/354871/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/icehouse/heat.conf', 'hooks/heat_utils.py', 'config.yaml', 'templates/liberty/heat.conf', 'templates/kilo/heat.conf', 'templates/mitaka/heat.conf']",6,db8f236c82e24b96949127d3aa553d88403957c6,stable/bug/lp1600482,num_engine_workers = {{ workers }}workers = {{ workers }}workers = {{ workers }},,20,0
openstack%2Fkeystone~master~I7f0ab81e3f8c0799bbcbbcd5a849603d7c2bde3a,openstack/keystone,master,I7f0ab81e3f8c0799bbcbbcd5a849603d7c2bde3a,api-ref: Renaming parameters of V3-ext APIs,MERGED,2016-08-11 06:37:31.000000000,2016-08-12 22:23:23.000000000,2016-08-12 22:23:23.000000000,"[{'_account_id': 3}, {'_account_id': 6482}]","[{'number': 1, 'created': '2016-08-11 06:37:31.000000000', 'files': ['api-ref/source/v3-ext/revoke.inc', 'api-ref/source/v3-ext/oauth.inc', 'api-ref/source/v3-ext/trust.inc', 'api-ref/source/v3-ext/parameters.yaml', 'api-ref/source/v3-ext/endpoint-policy.inc', 'api-ref/source/v3-ext/ep-filter.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e4a82b3da1be6ddc44a162a27f615089f2e30567', 'message': 'api-ref: Renaming parameters of V3-ext APIs\n\nChange-Id: I7f0ab81e3f8c0799bbcbbcd5a849603d7c2bde3a\nPartial-Bug: #1610777\n'}]",0,353855,e4a82b3da1be6ddc44a162a27f615089f2e30567,6,2,1,19935,,,0,"api-ref: Renaming parameters of V3-ext APIs

Change-Id: I7f0ab81e3f8c0799bbcbbcd5a849603d7c2bde3a
Partial-Bug: #1610777
",git fetch https://review.opendev.org/openstack/keystone refs/changes/55/353855/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3-ext/revoke.inc', 'api-ref/source/v3-ext/oauth.inc', 'api-ref/source/v3-ext/trust.inc', 'api-ref/source/v3-ext/endpoint-policy.inc', 'api-ref/source/v3-ext/parameters.yaml', 'api-ref/source/v3-ext/ep-filter.inc']",6,e4a82b3da1be6ddc44a162a27f615089f2e30567,api-ref/V3-ext, - project_id: project_id_path - endpoint_id: endpoint_id_path - project_id: project_id_path - endpoint_id: endpoint_id_path - project_id: project_id_path - endpoint_id: endpoint_id_path - project_id: project_id_path - endpoint_id: endpoint_id_path - endpoint_id: endpoint_id_path - endpoint_group_id: endpoint_group_id_path - endpoint_group_id: endpoint_group_id_path - endpoint_group_id: endpoint_group_id_path - endpoint_group_id: endpoint_group_id_path - endpoint_group_id: endpoint_group_id_path - project_id: project_id_path - endpoint_group_id: endpoint_group_id_path - project_id: project_id_path - endpoint_group_id: endpoint_group_id_path - project_id: project_id_path - endpoint_group_id: endpoint_group_id_path - project_id: project_id_path - endpoint_group_id: endpoint_group_id_path - endpoint_group_id: endpoint_group_id_path - project_id: project_id_path, - project_id: project_id - endpoint_id: endpoint_id - project_id: project_id - endpoint_id: endpoint_id - project_id: project_id - endpoint_id: endpoint_id - project_id: project_id - endpoint_id: endpoint_id - endpoint_id: endpoint_id - endpoint_group_id: endpoint_group_id - endpoint_group_id: endpoint_group_id - endpoint_group_id: endpoint_group_id - endpoint_group_id: endpoint_group_id - endpoint_group_id: endpoint_group_id - project_id: project_id - endpoint_group_id: endpoint_group_id - project_id: project_id - endpoint_group_id: endpoint_group_id - project_id: project_id - endpoint_group_id: endpoint_group_id - project_id: project_id - endpoint_group_id: endpoint_group_id - endpoint_group_id: endpoint_group_id - project_id: project_id,154,148
openstack%2Fironic~master~I110008b3d738de0b5d2add68c9d54a4a147fc007,openstack/ironic,master,I110008b3d738de0b5d2add68c9d54a4a147fc007,"Add ""erase_devices_metadata_priority"" config option",MERGED,2016-07-19 11:37:22.000000000,2016-08-12 22:16:21.000000000,2016-08-12 16:47:54.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11076}, {'_account_id': 12356}, {'_account_id': 14525}, {'_account_id': 14943}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19072}, {'_account_id': 19339}, {'_account_id': 20311}]","[{'number': 1, 'created': '2016-07-19 11:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/71c193055f9d7bbda95c5bcee0f7b5439b76929b', 'message': 'Add ""erase_devices_metadata_priority"" config option\n\nWIP (testing it at the moment)\n\nCloses-Bug: #1603411\nDepends-On: I3d7b39d5ee3e03ce63185e4168b1ac954a896c93\nChange-Id: I110008b3d738de0b5d2add68c9d54a4a147fc007\n'}, {'number': 2, 'created': '2016-07-19 13:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3c11ef8fa6aba3dfaf5d3c3163a362e8315e4104', 'message': 'Add ""erase_devices_metadata_priority"" config option\n\nThis patch is adding a new configuration option called\n""erase_devices_metadata_priority"" to allow users to configure the priority\n(and enabling/disabling) of the ""erase_devices_metadata"" cleaning step.\n\nThe documentation will be done in a subsequent patch.\n\nCloses-Bug: #1603411\nDepends-On: I3d7b39d5ee3e03ce63185e4168b1ac954a896c93\nChange-Id: I110008b3d738de0b5d2add68c9d54a4a147fc007\n'}, {'number': 3, 'created': '2016-07-22 11:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/61d41d10ea5ab34ea2904f67aea578a4483f585c', 'message': 'Add ""erase_devices_metadata_priority"" config option\n\nThis patch is adding a new configuration option called\n""erase_devices_metadata_priority"" to allow users to configure the priority\n(and enabling/disabling) of the ""erase_devices_metadata"" cleaning step.\n\nThe documentation will be done in a subsequent patch.\n\nCloses-Bug: #1603411\nDepends-On: I3d7b39d5ee3e03ce63185e4168b1ac954a896c93\nChange-Id: I110008b3d738de0b5d2add68c9d54a4a147fc007\n'}, {'number': 4, 'created': '2016-07-25 14:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/79a39f4e3765abcd0279c82d7db4390dc0aa6b58', 'message': 'Add ""erase_devices_metadata_priority"" config option\n\nThis patch is adding a new configuration option called\n""erase_devices_metadata_priority"" to allow users to configure the priority\n(and enabling/disabling) of the ""erase_devices_metadata"" cleaning step.\n\nThe documentation will be done in a subsequent patch.\n\nCloses-Bug: #1603411\nDepends-On: I3d7b39d5ee3e03ce63185e4168b1ac954a896c93\nChange-Id: I110008b3d738de0b5d2add68c9d54a4a147fc007\n'}, {'number': 5, 'created': '2016-08-02 10:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/11edac5325f9b0ed5f862e85b276c4bfaea76b85', 'message': 'Add ""erase_devices_metadata_priority"" config option\n\nThis patch is adding a new configuration option called\n""erase_devices_metadata_priority"" to allow users to configure the priority\n(and enabling/disabling) of the ""erase_devices_metadata"" cleaning step.\n\nThe documentation will be done in a subsequent patch.\n\nCloses-Bug: #1603411\nDepends-On: I3d7b39d5ee3e03ce63185e4168b1ac954a896c93\nChange-Id: I110008b3d738de0b5d2add68c9d54a4a147fc007\n'}, {'number': 6, 'created': '2016-08-10 14:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e582f6d0970c9f908722a01aca75ce568e940f67', 'message': 'Add ""erase_devices_metadata_priority"" config option\n\nThis patch is adding a new configuration option called\n""erase_devices_metadata_priority"" to allow users to configure the priority\n(and enabling/disabling) of the ""erase_devices_metadata"" cleaning step.\n\nThe documentation will be done in a subsequent patch.\n\nCloses-Bug: #1603411\nDepends-On: I3d7b39d5ee3e03ce63185e4168b1ac954a896c93\nChange-Id: I110008b3d738de0b5d2add68c9d54a4a147fc007\n'}, {'number': 7, 'created': '2016-08-11 15:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/326226ab9515e421ec2662595317b2d9d2246b53', 'message': 'Add ""erase_devices_metadata_priority"" config option\n\nThis patch is adding a new configuration option called\n""erase_devices_metadata_priority"" to allow users to configure the priority\n(and enabling/disabling) of the ""erase_devices_metadata"" cleaning step.\n\nThe documentation will be done in a subsequent patch.\n\nCloses-Bug: #1603411\nDepends-On: I3d7b39d5ee3e03ce63185e4168b1ac954a896c93\nChange-Id: I110008b3d738de0b5d2add68c9d54a4a147fc007\n'}, {'number': 8, 'created': '2016-08-12 09:04:12.000000000', 'files': ['ironic/drivers/modules/agent.py', 'releasenotes/notes/erase-devices-metadata-config-f39b6ca415a87757.yaml', 'etc/ironic/ironic.conf.sample', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/drivers/modules/ilo/deploy.py', 'ironic/conf/deploy.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/tests/unit/drivers/modules/ilo/test_deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/79c2d134b15b2d682466d8390d38e70a47fe1f22', 'message': 'Add ""erase_devices_metadata_priority"" config option\n\nThis patch is adding a new configuration option called\n""erase_devices_metadata_priority"" to allow users to configure the priority\n(and enabling/disabling) of the ""erase_devices_metadata"" cleaning step.\n\nThe documentation will be done in a subsequent patch.\n\nPartial-Bug: #1603411\nChange-Id: I110008b3d738de0b5d2add68c9d54a4a147fc007\n'}]",19,344179,79c2d134b15b2d682466d8390d38e70a47fe1f22,63,15,8,6773,,,0,"Add ""erase_devices_metadata_priority"" config option

This patch is adding a new configuration option called
""erase_devices_metadata_priority"" to allow users to configure the priority
(and enabling/disabling) of the ""erase_devices_metadata"" cleaning step.

The documentation will be done in a subsequent patch.

Partial-Bug: #1603411
Change-Id: I110008b3d738de0b5d2add68c9d54a4a147fc007
",git fetch https://review.opendev.org/openstack/ironic refs/changes/79/344179/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/drivers/modules/ilo/deploy.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/tests/unit/drivers/modules/ilo/test_deploy.py']",7,71c193055f9d7bbda95c5bcee0f7b5439b76929b,bug/1603411," self.config(erase_devices_metadata_priority=10, group='deploy') override_priorities={'erase_devices': 20, 'erase_devices_metadata': 10}) self.config(erase_devices_metadata_priority=0, group='deploy') override_priorities={'erase_devices': 0, 'erase_devices_metadata': 0}) override_priorities={'erase_devices': None, 'erase_devices_metadata': None})", override_priorities={'erase_devices': 20}) override_priorities={'erase_devices': 0}) override_priorities={'erase_devices': None}),30,7
openstack%2Fnova~master~I59986dea56bdd23467a8ba2eb091145ffa25e1a5,openstack/nova,master,I59986dea56bdd23467a8ba2eb091145ffa25e1a5,Allow authorization by user_id for server lock action,MERGED,2016-08-04 10:11:34.000000000,2016-08-12 22:14:35.000000000,2016-08-11 20:13:08.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-08-04 10:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/314aaa26ddd6016b71d983092e49274505a22d9a', 'message': 'Allow authorization by user_id for server lock action\n\nCurrent policy enforcement does not allow authorization by user_id.\nBut there are some destructive actions which needs to be\nisolated at user level also.\n\nThis patch allow authorization by user_id for server lock action.\nCloud provider can override default policy rule for lock action with\n""user_id:%(user_id)s"" and user level isolation will be enabled.\n\nPartially implements blueprint user_id_based_policy_enforcement\n\nChange-Id: I59986dea56bdd23467a8ba2eb091145ffa25e1a5\n'}, {'number': 2, 'created': '2016-08-04 10:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03324c288d260f4566d15f15413629c4e4810e77', 'message': 'Allow authorization by user_id for server lock action\n\nCurrent policy enforcement does not allow authorization by user_id.\nBut there are some destructive actions which needs to be\nisolated at user level also.\n\nThis patch allow authorization by user_id for server lock action.\nCloud provider can override default policy rule for lock action with\n""user_id:%(user_id)s"" and user level isolation will be enabled.\n\nPartially implements blueprint user_id_based_policy_enforcement\n\nDepends-On: I70a8c8e76f234611f4b2972b3adae86ca09da012\n\nChange-Id: I59986dea56bdd23467a8ba2eb091145ffa25e1a5\n'}, {'number': 3, 'created': '2016-08-05 04:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d6882ec18a0b6b231319e3e59050a8f970e69dd', 'message': 'Allow authorization by user_id for server lock action\n\nCurrent policy enforcement does not allow authorization by user_id.\nBut there are some destructive actions which needs to be\nisolated at user level also.\n\nThis patch allow authorization by user_id for server lock action.\nCloud provider can override default policy rule for lock action with\n""user_id:%(user_id)s"" and user level isolation will be enabled.\n\nPartially implements blueprint user_id_based_policy_enforcement\n\nDepends-On: I70a8c8e76f234611f4b2972b3adae86ca09da012\n\nChange-Id: I59986dea56bdd23467a8ba2eb091145ffa25e1a5\n'}, {'number': 4, 'created': '2016-08-05 04:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0620526877513651ae033fac1b8e321ce0fd061', 'message': 'Allow authorization by user_id for server lock action\n\nCurrent policy enforcement does not allow authorization by user_id.\nBut there are some destructive actions which needs to be\nisolated at user level also.\n\nThis patch allow authorization by user_id for server lock action.\nCloud provider can override default policy rule for lock action with\n""user_id:%(user_id)s"" and user level isolation will be enabled.\n\nPartially implements blueprint user_id_based_policy_enforcement\n\nDepends-On: I70a8c8e76f234611f4b2972b3adae86ca09da012\n\nChange-Id: I59986dea56bdd23467a8ba2eb091145ffa25e1a5\n'}, {'number': 5, 'created': '2016-08-08 00:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f6fce94ba9b7e6c05a4ad98441bffd8a29ad256', 'message': 'Allow authorization by user_id for server lock action\n\nCurrent policy enforcement does not allow authorization by user_id.\nBut there are some destructive actions which needs to be\nisolated at user level also.\n\nThis patch allow authorization by user_id for server lock action.\nCloud provider can override default policy rule for lock action with\n""user_id:%(user_id)s"" and user level isolation will be enabled.\n\nPartially implements blueprint user_id_based_policy_enforcement\n\nDepends-On: I70a8c8e76f234611f4b2972b3adae86ca09da012\n\nChange-Id: I59986dea56bdd23467a8ba2eb091145ffa25e1a5\n'}, {'number': 6, 'created': '2016-08-11 14:43:59.000000000', 'files': ['nova/api/openstack/compute/lock_server.py', 'nova/tests/unit/api/openstack/compute/test_lock_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/19edf6854ad2dd5ec5275a1f77a422d67140c338', 'message': 'Allow authorization by user_id for server lock action\n\nCurrent policy enforcement does not allow authorization by user_id.\nBut there are some destructive actions which needs to be\nisolated at user level also.\n\nThis patch allow authorization by user_id for server lock action.\nCloud provider can override default policy rule for lock action with\n""user_id:%(user_id)s"" and user level isolation will be enabled.\n\nPartially implements blueprint user_id_based_policy_enforcement\n\nChange-Id: I59986dea56bdd23467a8ba2eb091145ffa25e1a5\n'}]",20,351100,19edf6854ad2dd5ec5275a1f77a422d67140c338,74,18,6,8556,,,0,"Allow authorization by user_id for server lock action

Current policy enforcement does not allow authorization by user_id.
But there are some destructive actions which needs to be
isolated at user level also.

This patch allow authorization by user_id for server lock action.
Cloud provider can override default policy rule for lock action with
""user_id:%(user_id)s"" and user level isolation will be enabled.

Partially implements blueprint user_id_based_policy_enforcement

Change-Id: I59986dea56bdd23467a8ba2eb091145ffa25e1a5
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/351100/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/lock_server.py', 'nova/tests/unit/api/openstack/compute/test_lock_server.py']",2,314aaa26ddd6016b71d983092e49274505a22d9a,bp/user_id_based_policy_enforcement," @mock.patch('nova.api.openstack.common.get_instance') def test_lock_policy_failed(self, get_instance_mock): get_instance_mock.return_value = ( fake_instance.fake_instance_obj(self.req.environ['nova.context'])) @mock.patch('nova.api.openstack.common.get_instance') def test_lock_overridden_policy_failed_with_other_user_in_same_project( self, get_instance_mock): get_instance_mock.return_value = ( fake_instance.fake_instance_obj(self.req.environ['nova.context'])) rule_name = ""os_compute_api:os-lock-server:lock"" self.policy.set_rules({rule_name: ""user_id:%(user_id)s""}) # Change the user_id in request context. self.req.environ['nova.context'].user_id = 'other-user' exc = self.assertRaises(exception.PolicyNotAuthorized, self.controller._lock, self.req, fakes.FAKE_UUID, body={'lock': {}}) self.assertEqual( ""Policy doesn't allow %s to be performed."" % rule_name, exc.format_message()) @mock.patch('nova.compute.api.API.lock') @mock.patch('nova.api.openstack.common.get_instance') def test_lock_overridden_policy_pass_with_same_user(self, get_instance_mock, lock_mock): get_instance_mock.return_value = ( fake_instance.fake_instance_obj( self.req.environ['nova.context'], user_id=self.req.environ['nova.context'].user_id)) rule_name = ""os_compute_api:os-lock-server:lock"" self.policy.set_rules({rule_name: ""user_id:%(user_id)s""}) self.controller._lock(self.req, fakes.FAKE_UUID, body={'lock': {}}) ", def test_lock_policy_failed(self):,34,2
openstack%2Fneutron~master~Ia9a6b5fc49e239769e850e9486454e81e3a4b96f,openstack/neutron,master,Ia9a6b5fc49e239769e850e9486454e81e3a4b96f,lb-agent: handle exception when bridge slave already removed,MERGED,2016-08-10 06:06:30.000000000,2016-08-12 22:12:54.000000000,2016-08-11 01:54:24.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}]","[{'number': 1, 'created': '2016-08-10 06:06:30.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/72720f9aa30169809e41e6dfbafc4e3561716ea5', 'message': 'lb-agent: handle exception when bridge slave already removed\n\nAn exception can happen when a network is deleted because the\nlb-agent tries to removes the dhcp tap from the bridge at about\nthe same time as the dhcp-agent is deleting the tap. The unhandled\nexception means the bridge does not get deleted and a log error.\n\nCloses-Bug: #1611612\nChange-Id: Ia9a6b5fc49e239769e850e9486454e81e3a4b96f\n'}]",0,353264,72720f9aa30169809e41e6dfbafc4e3561716ea5,16,7,1,2733,,,0,"lb-agent: handle exception when bridge slave already removed

An exception can happen when a network is deleted because the
lb-agent tries to removes the dhcp tap from the bridge at about
the same time as the dhcp-agent is deleting the tap. The unhandled
exception means the bridge does not get deleted and a log error.

Closes-Bug: #1611612
Change-Id: Ia9a6b5fc49e239769e850e9486454e81e3a4b96f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/353264/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py']",2,72720f9aa30169809e41e6dfbafc4e3561716ea5,bug/1611612," mock.patch.object(bridge_lib.BridgeDevice, 'owns_interface') as owns_fn,\ self.assertFalse(owns_fn.called) owns_fn.return_value = False def test_remove_interface_not_on_bridge(self): bridge_device = mock.Mock() with mock.patch.object(bridge_lib, ""BridgeDevice"", return_value=bridge_device): bridge_device.exists.return_value = True bridge_device.delif.side_effect = RuntimeError bridge_device.owns_interface.side_effect = [True, False] self.lbm.remove_interface(""br0"", 'tap0') self.assertEqual(2, bridge_device.owns_interface.call_count) bridge_device.owns_interface.side_effect = [True, True] self.assertRaises(RuntimeError, self.lbm.remove_interface, ""br0"", 'tap0') "," mock.patch.object(bridge_lib, 'is_bridged_interface') as isdev_fn,\ self.assertFalse(isdev_fn.called) isdev_fn.return_value = False isdev_fn.return_value = True delif_fn.return_value = True self.assertFalse(self.lbm.remove_interface(""br0"", ""eth0"")) ",38,16
openstack%2Fopenstack-ansible-lxc_container_create~master~I68048ae10cdd52fc3b5c43542686e056237a9305,openstack/openstack-ansible-lxc_container_create,master,I68048ae10cdd52fc3b5c43542686e056237a9305,Modify container network create for seamless additions,MERGED,2016-08-06 00:48:28.000000000,2016-08-12 22:09:08.000000000,2016-08-12 22:09:08.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 21314}]","[{'number': 1, 'created': '2016-08-06 00:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/c9380122ab7a4ca31654ffe765b648f6ba97476f', 'message': 'Modify container network create for seamless additions\n\nThis change adds the ability for a container to have network interfaces\nadded without needing to restart to get the interfaces online. Adding\nthe interface with the container online will be faster and allow for\nrolling changes in an environment that may effect critical services that\nrun from within a container.\n\nChange-Id: I68048ae10cdd52fc3b5c43542686e056237a9305\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2016-08-09 21:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/8881cf95ec478c1e3bf6501354b7d7b0043576f0', 'message': 'Modify container network create for seamless additions\n\nThis change adds the ability for a container to have network interfaces\nadded without needing to restart to get the interfaces online. Adding\nthe interface with the container online will be faster and allow for\nrolling changes in an environment that may effect critical services that\nrun from within a container.\n\nChange-Id: I68048ae10cdd52fc3b5c43542686e056237a9305\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2016-08-10 20:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/403dee65c91ef09efc668d534b8c0dca5e0977f8', 'message': 'Modify container network create for seamless additions\n\nThis change adds the ability for a container to have network interfaces\nadded without needing to restart to get the interfaces online. Adding\nthe interface with the container online will be faster and allow for\nrolling changes in an environment that may effect critical services that\nrun from within a container.\n\nChange-Id: I68048ae10cdd52fc3b5c43542686e056237a9305\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2016-08-11 14:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/d6d0396d07ce628dda676821d930b141d24689a6', 'message': 'Modify container network create for seamless additions\n\nThis change adds the ability for a container to have network interfaces\nadded without needing to restart to get the interfaces online. Adding\nthe interface with the container online will be faster and allow for\nrolling changes in an environment that may effect critical services that\nrun from within a container.\n\nChange-Id: I68048ae10cdd52fc3b5c43542686e056237a9305\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2016-08-11 15:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/ed7c03a817260bc64f6d92d653472854bf20be55', 'message': 'Modify container network create for seamless additions\n\nThis change adds the ability for a container to have network interfaces\nadded without needing to restart to get the interfaces online. Adding\nthe interface with the container online will be faster and allow for\nrolling changes in an environment that may effect critical services that\nrun from within a container.\n\nChange-Id: I68048ae10cdd52fc3b5c43542686e056237a9305\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2016-08-11 18:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/99fba719399dba81076d3ee7884c4417ee46d8a1', 'message': 'Modify container network create for seamless additions\n\nThis change adds the ability for a container to have network interfaces\nadded without needing to restart to get the interfaces online. Adding\nthe interface with the container online will be faster and allow for\nrolling changes in an environment that may effect critical services that\nrun from within a container.\n\nChange-Id: I68048ae10cdd52fc3b5c43542686e056237a9305\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2016-08-11 21:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/613237aa31d131026b6a5555f94d62bf1037bf36', 'message': 'Modify container network create for seamless additions\n\nThis change adds the ability for a container to have network interfaces\nadded without needing to restart to get the interfaces online. Adding\nthe interface with the container online will be faster and allow for\nrolling changes in an environment that may effect critical services that\nrun from within a container.\n\nChange-Id: I68048ae10cdd52fc3b5c43542686e056237a9305\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 8, 'created': '2016-08-12 14:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/9ed5e879ea3679c203411e53762b70c8ed4eb056', 'message': 'Modify container network create for seamless additions\n\nThis change adds the ability for a container to have network interfaces\nadded without needing to restart to get the interfaces online. Adding\nthe interface with the container online will be faster and allow for\nrolling changes in an environment that may effect critical services that\nrun from within a container.\n\nChange-Id: I68048ae10cdd52fc3b5c43542686e056237a9305\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 9, 'created': '2016-08-12 17:03:06.000000000', 'files': ['files/lxc-veth-wiring.sh', 'tasks/container_create.yml', 'releasenotes/notes/online-lxc-network-add-3cfc84ea28e5eab0.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/e48e4fe2048f728ce90b538b0d5374d553b9302a', 'message': 'Modify container network create for seamless additions\n\nThis change adds the ability for a container to have network interfaces\nadded without needing to restart to get the interfaces online. Adding\nthe interface with the container online will be faster and allow for\nrolling changes in an environment that may effect critical services that\nrun from within a container.\n\nChange-Id: I68048ae10cdd52fc3b5c43542686e056237a9305\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",2,351965,e48e4fe2048f728ce90b538b0d5374d553b9302a,33,6,9,7353,,,0,"Modify container network create for seamless additions

This change adds the ability for a container to have network interfaces
added without needing to restart to get the interfaces online. Adding
the interface with the container online will be faster and allow for
rolling changes in an environment that may effect critical services that
run from within a container.

Change-Id: I68048ae10cdd52fc3b5c43542686e056237a9305
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/65/351965/8 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/container_create.yml', 'releasenotes/notes/online-lxc-network-add-3cfc84ea28e5eab0.yaml']",2,c9380122ab7a4ca31654ffe765b648f6ba97476f,container-create-optimise,--- features: - The LXC container creation and modification process now supports online network additions. This ensures a container remains online when additional networks are added to a system. ,,28,6
openstack%2Fmagnum~master~I717529294134ea81c2ce32546e087ddec278a986,openstack/magnum,master,I717529294134ea81c2ce32546e087ddec278a986,Updated from global requirements,MERGED,2016-08-11 18:11:57.000000000,2016-08-12 21:55:43.000000000,2016-08-12 21:55:43.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 11536}, {'_account_id': 20498}]","[{'number': 1, 'created': '2016-08-11 18:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/94b583672906de00b532ed1024d21fe05583d704', 'message': 'Updated from global requirements\n\nChange-Id: I717529294134ea81c2ce32546e087ddec278a986\n'}, {'number': 2, 'created': '2016-08-12 00:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/bfb573c0478f6ed66cf03b4400f3445a9039cf82', 'message': 'Updated from global requirements\n\nChange-Id: I717529294134ea81c2ce32546e087ddec278a986\n'}, {'number': 3, 'created': '2016-08-12 04:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8528542004780e461ab56f438509cba1ad0ed861', 'message': 'Updated from global requirements\n\nChange-Id: I717529294134ea81c2ce32546e087ddec278a986\n'}, {'number': 4, 'created': '2016-08-12 04:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5993b180a79a02ad281186c2ecd7a659c8ea286d', 'message': 'Updated from global requirements\n\nChange-Id: I717529294134ea81c2ce32546e087ddec278a986\n'}, {'number': 5, 'created': '2016-08-12 09:46:01.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ca1f9e61d537020497c76bfe90220c4a723e64c6', 'message': 'Updated from global requirements\n\nChange-Id: I717529294134ea81c2ce32546e087ddec278a986\n'}]",0,354304,ca1f9e61d537020497c76bfe90220c4a723e64c6,15,4,5,11131,,,0,"Updated from global requirements

Change-Id: I717529294134ea81c2ce32546e087ddec278a986
",git fetch https://review.opendev.org/openstack/magnum refs/changes/04/354304/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,94b583672906de00b532ed1024d21fe05583d704,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Fproject-config~master~I30d3a4f0e332185484b82e39ffc46344cf2d69db,openstack/project-config,master,I30d3a4f0e332185484b82e39ffc46344cf2d69db,Add experimental grenade job with neutronclient from source,MERGED,2016-08-12 11:34:47.000000000,2016-08-12 21:54:02.000000000,2016-08-12 21:54:02.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6316}, {'_account_id': 6547}]","[{'number': 1, 'created': '2016-08-12 11:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c2fd9d646749e22a6147a8b70d93d957afc3ab9a', 'message': ""Add experimental grenade job with neutronclient from source\n\nThere is a bug in the interaction between the latest neutronclient and\nthe latest os-client-config. It's not a hard fix, but we have no jobs\nin the gate that will verify the fix.\n\nChange-Id: I30d3a4f0e332185484b82e39ffc46344cf2d69db\n""}, {'number': 2, 'created': '2016-08-12 12:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3e081b5adfa79aea2af36bbea5544b5d7b65bf4b', 'message': ""Add experimental grenade job with neutronclient from source\n\nThere is a bug in the interaction between the latest neutronclient and\nthe latest os-client-config. It's not a hard fix, but we have no jobs\nin the gate that will verify the fix.\n\nChange-Id: I30d3a4f0e332185484b82e39ffc46344cf2d69db\n""}, {'number': 3, 'created': '2016-08-12 16:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a2e9ee083726fd67ae632cfb0dbdd1d77e424457', 'message': ""Add experimental grenade job with neutronclient from source\n\nThere is a bug in the interaction between the latest neutronclient and\nthe latest os-client-config. It's not a hard fix, but we have no jobs\nin the gate that will verify the fix.\n\nChange-Id: I30d3a4f0e332185484b82e39ffc46344cf2d69db\n""}, {'number': 4, 'created': '2016-08-12 16:28:45.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml', 'jenkins/jobs/devstack-gate.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f97c7e667ab63aaa97bd18e538de541ad08a2f4d', 'message': ""Add experimental grenade job with neutronclient from source\n\nThere is a bug in the interaction between the latest neutronclient and\nthe latest os-client-config. It's not a hard fix, but we have no jobs\nin the gate that will verify the fix.\n\nChange-Id: I30d3a4f0e332185484b82e39ffc46344cf2d69db\n""}]",1,354664,f97c7e667ab63aaa97bd18e538de541ad08a2f4d,15,4,4,2,,,0,"Add experimental grenade job with neutronclient from source

There is a bug in the interaction between the latest neutronclient and
the latest os-client-config. It's not a hard fix, but we have no jobs
in the gate that will verify the fix.

Change-Id: I30d3a4f0e332185484b82e39ffc46344cf2d69db
",git fetch https://review.opendev.org/openstack/project-config refs/changes/64/354664/4 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml', 'jenkins/jobs/devstack-gate.yaml']",3,c2fd9d646749e22a6147a8b70d93d957afc3ab9a,354664," name: '{pipeline}-grenade-dsvm-neutron-libs-{node}{job-suffix}' node: '{node}' wrappers: - build-timeout: timeout: 180 - timestamps builders: - print-template-name: template-name: ""{template-name}"" - link-logs - net-info - devstack-checkout - shell: | #!/bin/bash -xe export PROJECTS=""openstack-dev/grenade $PROJECTS"" export PROJECTS=""openstack/os-client-config $PROJECTS"" export PROJECTS=""openstack/keystoneauth $PROJECTS"" export PROJECTS=""openstack/python-novaclient $PROJECTS"" export PROJECTS=""openstack/python-keystoneclient $PROJECTS"" export PROJECTS=""openstack/python-glanceclient $PROJECTS"" export PROJECTS=""openstack/python-cinderclient $PROJECTS"" export PROJECTS=""openstack/python-neutronclient $PROJECTS"" export PROJECTS=""openstack/python-ironicclient $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""LIBS_FROM_GIT=os-client-config,keystoneauth,python-novaclient,python-keystoneclient,python-glanceclient,python-cinderclient,python-neutronclient,python-ironicclient"" export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_GRENADE=pullup export DEVSTACK_GATE_NEUTRON=1 export BRANCH_OVERRIDE={branch-override} if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh publishers: - devstack-logs - console-log - job-template:",,49,0
openstack%2Ftrove~master~Ia4387f45e80aa7bbd24e4aa920038259269877ac,openstack/trove,master,Ia4387f45e80aa7bbd24e4aa920038259269877ac,About update setup.cfg homepage,MERGED,2016-08-10 11:20:46.000000000,2016-08-12 21:49:21.000000000,2016-08-12 21:49:21.000000000,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 22694}]","[{'number': 1, 'created': '2016-08-10 11:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/66a78adce3970ec5d04955ff5d6ef98a0242960c', 'message': 'About update setup.cfg homepage\n\nhttp://www.openstack.org/ is openstack homepage, trove homepage is\nhttp://docs.openstack.org/developer/trove/, so I commit the\nchanges to update it.\n\nChange-Id: Ia4387f45e80aa7bbd24e4aa920038259269877ac\n'}, {'number': 2, 'created': '2016-08-12 12:30:28.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/trove/commit/11e5175773287b8bf0f92d95b1f5e368cafeed61', 'message': 'About update setup.cfg homepage\n\nhttp://www.openstack.org/ is openstack homepage, trove homepage is\nhttps://wiki.openstack.org/wiki/Trove, so I commit the\nchanges to update it.\n\nChange-Id: Ia4387f45e80aa7bbd24e4aa920038259269877ac\n'}]",1,353388,11e5175773287b8bf0f92d95b1f5e368cafeed61,17,4,2,22694,,,0,"About update setup.cfg homepage

http://www.openstack.org/ is openstack homepage, trove homepage is
https://wiki.openstack.org/wiki/Trove, so I commit the
changes to update it.

Change-Id: Ia4387f45e80aa7bbd24e4aa920038259269877ac
",git fetch https://review.opendev.org/openstack/trove refs/changes/88/353388/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,66a78adce3970ec5d04955ff5d6ef98a0242960c,homepage-update,home-page = http://docs.openstack.org/developer/trove/,home-page = http://www.openstack.org/,1,1
openstack%2Foslo.config~master~I492b026c16981be50231fb70d702fa27ac794a39,openstack/oslo.config,master,I492b026c16981be50231fb70d702fa27ac794a39,Add set_override method test with ListOpt,MERGED,2016-07-29 11:01:52.000000000,2016-08-12 21:49:06.000000000,2016-08-12 21:49:06.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 8688}, {'_account_id': 9459}, {'_account_id': 9796}, {'_account_id': 13290}]","[{'number': 1, 'created': '2016-07-29 11:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/3364fe9ddf2b95c7b17f9f2f6d524b1041b36c83', 'message': ""Add set_override method test with ListOpt\n\nWe use method set_override to override ListOpt type option in Nova,\nso we'd better include test with this type.\n\nChange-Id: I492b026c16981be50231fb70d702fa27ac794a39\n""}, {'number': 2, 'created': '2016-07-29 14:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/19618a1a34b4fdc30b900bfd51cb23382fcccf70', 'message': ""Add set_override method test with ListOpt\n\nWe use method set_override to override ListOpt type option in Nova,\nso we'd better include test with this type.\n\nChange-Id: I492b026c16981be50231fb70d702fa27ac794a39\n""}, {'number': 3, 'created': '2016-07-31 12:10:41.000000000', 'files': ['oslo_config/tests/test_cfg.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/ae8e56ba4b27030c603af9b813fc71e7a2924142', 'message': ""Add set_override method test with ListOpt\n\nWe use method set_override to override ListOpt type option in Nova,\nso we'd better include test with this type.\n\nChange-Id: I492b026c16981be50231fb70d702fa27ac794a39\n""}]",3,348841,ae8e56ba4b27030c603af9b813fc71e7a2924142,17,6,3,9796,,,0,"Add set_override method test with ListOpt

We use method set_override to override ListOpt type option in Nova,
so we'd better include test with this type.

Change-Id: I492b026c16981be50231fb70d702fa27ac794a39
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/41/348841/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/tests/test_cfg.py'],1,3364fe9ddf2b95c7b17f9f2f6d524b1041b36c83,," def test_enforce_type_List_override(self): self.conf.register_opt(cfg.ListOpt('foo')) self.conf.set_override('foo', ['aa', 'bb'], enforce_type=True) self.conf([]) self.assertEqual(['aa', 'bb'],self.conf.foo) self.conf.clear_override('foo') ",,7,0
openstack%2Fcinder~master~I3473dda7aa9242f8fac5251ac8d8fbf3a6b03280,openstack/cinder,master,I3473dda7aa9242f8fac5251ac8d8fbf3a6b03280,Imported Translations from Zanata,MERGED,2016-08-11 06:15:08.000000000,2016-08-12 21:48:56.000000000,2016-08-11 14:06:06.000000000,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 11904}, {'_account_id': 14797}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 16880}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 19146}, {'_account_id': 21863}, {'_account_id': 22510}]","[{'number': 1, 'created': '2016-08-11 06:15:08.000000000', 'files': ['cinder/locale/it/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e7afd33e9592d27ef884567b3332fb7464cde16b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I3473dda7aa9242f8fac5251ac8d8fbf3a6b03280\n'}]",0,353847,e7afd33e9592d27ef884567b3332fb7464cde16b,31,13,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I3473dda7aa9242f8fac5251ac8d8fbf3a6b03280
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/353847/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/locale/it/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po']",14,e7afd33e9592d27ef884567b3332fb7464cde16b,zanata/translations,"""Project-Id-Version: cinder 9.0.0.0b3.dev267\n""""POT-Creation-Date: 2016-08-11 03:13+0000\n""msgid ""Unexpected response from Tegile IntelliFlash API"" msgstr ""Neoekvan odpov od Tegile IntelliFlash API"" ","""Project-Id-Version: cinder 9.0.0.0b3.dev241\n""""POT-Creation-Date: 2016-08-10 04:08+0000\n""msgid ""volume_type cannot be None"" msgstr ""Typ svazku neme bt None"" ",156,121
openstack%2Fos-brick~master~Ib18ec5751f74ae2d34c002b191785d51c285e16a,openstack/os-brick,master,Ib18ec5751f74ae2d34c002b191785d51c285e16a,Add tracing unit tests,MERGED,2016-08-11 20:21:45.000000000,2016-08-12 21:47:35.000000000,2016-08-12 21:47:35.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 11904}]","[{'number': 1, 'created': '2016-08-11 20:21:45.000000000', 'files': ['os_brick/tests/base.py', 'os_brick/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/552bcb25f3f0d70cbf31b6a41509c16e1e2ae2bf', 'message': 'Add tracing unit tests\n\nThis patch adds some unit tests for the tracing facility.\n\nChange-Id: Ib18ec5751f74ae2d34c002b191785d51c285e16a\n'}]",0,354364,552bcb25f3f0d70cbf31b6a41509c16e1e2ae2bf,22,3,1,5997,,,0,"Add tracing unit tests

This patch adds some unit tests for the tracing facility.

Change-Id: Ib18ec5751f74ae2d34c002b191785d51c285e16a
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/64/354364/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/base.py', 'os_brick/tests/test_utils.py']",2,552bcb25f3f0d70cbf31b6a41509c16e1e2ae2bf,trace_unit_tests,"import functools class LogTracingTestCase(base.TestCase): """"""Test out the log tracing."""""" def test_utils_trace_method_default_logger(self): mock_log = self.mock_object(utils, 'LOG') @utils.trace def _trace_test_method_custom_logger(*args, **kwargs): return 'OK' result = _trace_test_method_custom_logger() self.assertEqual('OK', result) self.assertEqual(2, mock_log.debug.call_count) def test_utils_trace_method_inner_decorator(self): mock_logging = self.mock_object(utils, 'logging') mock_log = mock.Mock() mock_log.isEnabledFor = lambda x: True mock_logging.getLogger = mock.Mock(return_value=mock_log) def _test_decorator(f): def blah(*args, **kwargs): return f(*args, **kwargs) return blah @_test_decorator @utils.trace def _trace_test_method(*args, **kwargs): return 'OK' result = _trace_test_method(self) self.assertEqual('OK', result) self.assertEqual(2, mock_log.debug.call_count) # Ensure the correct function name was logged for call in mock_log.debug.call_args_list: self.assertIn('_trace_test_method', str(call)) self.assertNotIn('blah', str(call)) def test_utils_trace_method_outer_decorator(self): mock_logging = self.mock_object(utils, 'logging') mock_log = mock.Mock() mock_log.isEnabledFor = lambda x: True mock_logging.getLogger = mock.Mock(return_value=mock_log) def _test_decorator(f): def blah(*args, **kwargs): return f(*args, **kwargs) return blah @utils.trace @_test_decorator def _trace_test_method(*args, **kwargs): return 'OK' result = _trace_test_method(self) self.assertEqual('OK', result) self.assertEqual(2, mock_log.debug.call_count) # Ensure the incorrect function name was logged for call in mock_log.debug.call_args_list: self.assertNotIn('_trace_test_method', str(call)) self.assertIn('blah', str(call)) def test_utils_trace_method_outer_decorator_with_functools(self): mock_log = mock.Mock() mock_log.isEnabledFor = lambda x: True self.mock_object(utils.logging, 'getLogger', mock_log) mock_log = self.mock_object(utils, 'LOG') def _test_decorator(f): @functools.wraps(f) def wraps(*args, **kwargs): return f(*args, **kwargs) return wraps @utils.trace @_test_decorator def _trace_test_method(*args, **kwargs): return 'OK' result = _trace_test_method() self.assertEqual('OK', result) self.assertEqual(2, mock_log.debug.call_count) # Ensure the incorrect function name was logged for call in mock_log.debug.call_args_list: self.assertIn('_trace_test_method', str(call)) self.assertNotIn('wraps', str(call)) def test_utils_trace_method_with_exception(self): self.LOG = self.mock_object(utils, 'LOG') @utils.trace def _trace_test_method(*args, **kwargs): raise exception.VolumeDeviceNotFound('test message') self.assertRaises(exception.VolumeDeviceNotFound, _trace_test_method) exception_log = self.LOG.debug.call_args_list[1] self.assertIn('exception', str(exception_log)) self.assertIn('test message', str(exception_log)) def test_utils_trace_method_with_time(self): mock_logging = self.mock_object(utils, 'logging') mock_log = mock.Mock() mock_log.isEnabledFor = lambda x: True mock_logging.getLogger = mock.Mock(return_value=mock_log) mock_time = mock.Mock(side_effect=[3.1, 6]) self.mock_object(time, 'time', mock_time) @utils.trace def _trace_test_method(*args, **kwargs): return 'OK' result = _trace_test_method(self) self.assertEqual('OK', result) return_log = mock_log.debug.call_args_list[1] self.assertIn('2900', str(return_log))",,132,0
openstack%2Fneutron~master~I5f473fff4f8372852d563c79dac2991089eb0b77,openstack/neutron,master,I5f473fff4f8372852d563c79dac2991089eb0b77,Fix duplicate routerport handling,MERGED,2016-08-10 06:05:39.000000000,2016-08-12 21:43:00.000000000,2016-08-11 03:45:15.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7448}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}]","[{'number': 1, 'created': '2016-08-10 06:05:39.000000000', 'files': ['neutron/db/l3_dvr_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/247128b6c3c03f3c096af9c27a97badbae11e666', 'message': ""Fix duplicate routerport handling\n\nChange 6281fdd introduced a try: except to catch\na DuplicateError introduced by it's new constraint.\nHowever, the try moved it outside of the context manager\nso it broke the port cleanup logic.\n\nThis patch completely eliminates the catch for the\nduplicate entry since we retry those anyway which\nwould let the regular check see the duplication.\n\nThis also adds a test to prevent another regression of\nbeing moved outside of the context manager.\n\nRelated-Bug: #1535551\nRelated-Bug: #1600344\n\nChange-Id: I5f473fff4f8372852d563c79dac2991089eb0b77\n""}]",0,353263,247128b6c3c03f3c096af9c27a97badbae11e666,25,9,1,7787,,,0,"Fix duplicate routerport handling

Change 6281fdd introduced a try: except to catch
a DuplicateError introduced by it's new constraint.
However, the try moved it outside of the context manager
so it broke the port cleanup logic.

This patch completely eliminates the catch for the
duplicate entry since we retry those anyway which
would let the regular check see the duplication.

This also adds a test to prevent another regression of
being moved outside of the context manager.

Related-Bug: #1535551
Related-Bug: #1600344

Change-Id: I5f473fff4f8372852d563c79dac2991089eb0b77
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/353263/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvr_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py']",3,247128b6c3c03f3c096af9c27a97badbae11e666,bug/1535551, # Update owner after actual process again in order to # make sure the records in routerports table and ports # table are consistent.,"from oslo_db import exception as db_exc try: except db_exc.DBDuplicateEntry: qry = context.session.query(RouterPort).filter_by( port_id=port['id']).one() existing_router_id = qry['router_id'] raise n_exc.PortInUse(net_id=port['network_id'], port_id=port['id'], device_id=existing_router_id) # Update owner after actual process again in order to # make sure the records in routerports table and ports # table are consistent. else:",34,36
openstack%2Fopenstack-ansible-tests~master~I2c20fec9f6b7c00a79dd04d699ede3aa4642cde6,openstack/openstack-ansible-tests,master,I2c20fec9f6b7c00a79dd04d699ede3aa4642cde6,Add tasks and vars to create nova_api database,MERGED,2016-08-12 16:27:57.000000000,2016-08-12 21:42:07.000000000,2016-08-12 21:42:07.000000000,"[{'_account_id': 3}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-12 16:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/14f668ea8f8c978f5016f8643d20732d4e42bd81', 'message': 'Add tasks and vars to create nova_api database\n\nChange-Id: I2c20fec9f6b7c00a79dd04d699ede3aa4642cde6\n'}, {'number': 2, 'created': '2016-08-12 16:41:30.000000000', 'files': ['test-install-nova.yml', 'test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/fd8bf215c329cedd1422b74ac1ec21d1789d05aa', 'message': 'Add tasks and vars to create nova_api database\n\nChange-Id: I2c20fec9f6b7c00a79dd04d699ede3aa4642cde6\n'}]",4,354828,fd8bf215c329cedd1422b74ac1ec21d1789d05aa,10,4,2,14805,,,0,"Add tasks and vars to create nova_api database

Change-Id: I2c20fec9f6b7c00a79dd04d699ede3aa4642cde6
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/28/354828/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-install-nova.yml', 'test-vars.yml']",2,14f668ea8f8c978f5016f8643d20732d4e42bd81,nova_api_db_create,"nova_api_galera_address: ""{{ hostvars[groups['galera_all'][0]]['ansible_ssh_host'] }}"" nova_api_galera_database: nova_api nova_api_galera_user: nova_api",,25,0
openstack%2Fopenstack-ansible-os_nova~master~Ib49312dcb8fb5bd553369819cfd551137ff1c19e,openstack/openstack-ansible-os_nova,master,Ib49312dcb8fb5bd553369819cfd551137ff1c19e,Implement tests for nova-lxd hypervisor,MERGED,2016-08-02 18:48:58.000000000,2016-08-12 21:37:58.000000000,2016-08-12 21:37:58.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 13883}, {'_account_id': 19814}, {'_account_id': 20038}]","[{'number': 1, 'created': '2016-08-02 18:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/e15ed722c5038dd84479794c583f0f1b247c6165', 'message': 'WIP: Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 2, 'created': '2016-08-02 19:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/8bbc1587b66713c2a7b69838a9a58584cf52e5a5', 'message': 'WIP: Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 3, 'created': '2016-08-02 21:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/7cb95cc50b3926fde99ace77b11339d228654382', 'message': 'WIP: Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 4, 'created': '2016-08-02 23:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/53e2dd208e83fcf1994fd5bae0f48f53dfc82f67', 'message': 'WIP: Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 5, 'created': '2016-08-03 14:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/8256fef59b1ea8c322f9507baf15e4627bf92b42', 'message': 'WIP: Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 6, 'created': '2016-08-03 16:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/fdf0a2a9ffc8720e7fbd5212219a47e28c052847', 'message': 'WIP: Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 7, 'created': '2016-08-03 19:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2faaabf1e405127ee9f8c99629b7ad17436ca818', 'message': 'WIP: Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 8, 'created': '2016-08-04 18:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5f2d72ae763d71e083f5ce29e7b2d7a0535d1828', 'message': 'WIP: Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 9, 'created': '2016-08-04 20:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/97bebe9cb2e18b2b3eaecf343345c47e31ceb76b', 'message': 'WIP: Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 10, 'created': '2016-08-05 01:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/8394741a6603bef2bf102aafdac90c0073bcd172', 'message': 'WIP: Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 11, 'created': '2016-08-05 03:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/bdb4806b07f1e844aaaac9142a6dd1a1ed4e30c0', 'message': 'WIP: Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 12, 'created': '2016-08-05 04:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/048178a08733fcbc2eda566e4eb6b2a606b42e4a', 'message': 'WIP: Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 13, 'created': '2016-08-05 15:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f3ea479e4b4b3c7146c1185b54f15179cd807d1e', 'message': 'WIP: Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 14, 'created': '2016-08-05 16:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/22850bf0be3648c31a1376443b1a5a28140e78e0', 'message': 'WIP: Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 15, 'created': '2016-08-05 19:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/4262541b9336f5708ab07e7e1d7770fa2f67693a', 'message': 'WIP: Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 16, 'created': '2016-08-05 20:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/9f8744b90ed43fc703b21d2e9f8ff231bce6754a', 'message': 'Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 17, 'created': '2016-08-08 22:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f79dfdf5edad518ed5623e85731f8fe88fd5466e', 'message': 'Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 18, 'created': '2016-08-10 14:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2c8ee0c249b31f960588c6396ca02d8d81871902', 'message': 'Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 19, 'created': '2016-08-10 16:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/b8c676f20f233c2fb9272c58e664f09f32feec39', 'message': 'Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}, {'number': 20, 'created': '2016-08-10 16:07:34.000000000', 'files': ['run_tests.sh', 'tests/test-vars-lxd.yml', 'tox.ini', 'tests/test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/ec0670b27a0700a3bcf5dda1a9d968e426c4ee9f', 'message': 'Implement tests for nova-lxd hypervisor\n\nThis commit implements automated testing for the\nnova-lxd hypervisor.\n\nChange-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e\n'}]",3,350226,ec0670b27a0700a3bcf5dda1a9d968e426c4ee9f,64,6,20,20038,,,0,"Implement tests for nova-lxd hypervisor

This commit implements automated testing for the
nova-lxd hypervisor.

Change-Id: Ib49312dcb8fb5bd553369819cfd551137ff1c19e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/26/350226/20 && git format-patch -1 --stdout FETCH_HEAD,"['tests/lxd_inventory', 'tox.ini']",2,e15ed722c5038dd84479794c583f0f1b247c6165,nova-lxd-tests,"[testenv:func_base] [testenv:functional_kvm] # NOTE(odyssey4me): this target does not use constraints because # it doesn't work in OpenStack-CI yet. Once that's fixed, we can # drop the install_command. install_command = {[testenv:func_base]install_command}[testenv:functional] # NOTE(michaelgugino): this target tests nova with lxd install_command = {[testenv:func_base]install_command} deps = {[testenv:ansible]deps} setenv = {[testenv:ansible]setenv} commands = {[testenv:ansible]commands} ansible-playbook -i {toxinidir}/tests/lxd_inventory \ -e ""rolename={toxinidir}"" \ -e ""install_test_packages=True"" \ {toxinidir}/tests/test.yml -vvvv ",[testenv:functional],124,1
openstack%2Fglance~stable%2Fliberty~I4018af408fa45f3ac0ad6e9c8229428a9f87089f,openstack/glance,stable/liberty,I4018af408fa45f3ac0ad6e9c8229428a9f87089f,Version negotiation api middleware to include v2.3,MERGED,2016-08-04 16:08:33.000000000,2016-08-12 21:30:39.000000000,2016-08-12 21:30:39.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 12000}]","[{'number': 1, 'created': '2016-08-04 16:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/34df721562f05c249f3eeebefa18ea226020d4b0', 'message': 'Version negotiation api middleware to include v2.3\n\nGlance API is at v2.3 listed to be CURRENT version but the version\nnegotiation middleware lists only v2, v2.0, v2.1, v2.2.\n\nVersion negotiation middleware and related tests must include v2.3\n\nChange-Id: I4018af408fa45f3ac0ad6e9c8229428a9f87089f\nCloses-Bug: 1609571\n'}, {'number': 2, 'created': '2016-08-04 16:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8456bb743b11ea465ad11ef0108d9a7455b385b0', 'message': 'Version negotiation api middleware to include v2.3\n\nGlance API is at v2.3 listed to be CURRENT version but the version\nnegotiation middleware lists only v2, v2.0, v2.1, v2.2.\n\nVersion negotiation middleware and related tests must include v2.3\n\nChange-Id: I4018af408fa45f3ac0ad6e9c8229428a9f87089f\nCloses-Bug: 1609571\n(Cherry-picked from commit 0d1daf44efed10526f582c16ebab56ffa53bc1da)'}, {'number': 3, 'created': '2016-08-05 20:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9d90a7d17da4247987633ea4136bcd1c4e1ea852', 'message': 'Version negotiation api middleware to include v2.3\n\nGlance API is at v2.3 listed to be CURRENT version but the version\nnegotiation middleware lists only v2, v2.0, v2.1, v2.2.\n\nVersion negotiation middleware and related tests must include v2.3\n\nChange-Id: I4018af408fa45f3ac0ad6e9c8229428a9f87089f\nCloses-Bug: 1609571\n(Cherry-picked from commit 0d1daf44efed10526f582c16ebab56ffa53bc1da)'}, {'number': 4, 'created': '2016-08-11 17:01:44.000000000', 'files': ['glance/tests/unit/test_versions.py', 'glance/api/middleware/version_negotiation.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/75a74b350f235e92521528cf886a48e9d4d0ea09', 'message': ""Version negotiation api middleware to include v2.3\n\nGlance API is at v2.3 listed to be CURRENT version but the version\nnegotiation middleware lists only v2, v2.0, v2.1, v2.2.\n\nAlso, adds test class to versions tests.\n\nThe current versions tests contain a class to test the versions\nresponse, and a class to test version negotiation, but this put us\nin a situation where the 'versions' response was correctly updated\nfor v2.3, but the negotiation to map v2.3 -> v2 was not, thereby\nmaking calls to /v2.3/whatever fail even though all tests in both\nclasses passed.\n\nThis patch adds a new test class that inherits from both of the\ncurrent test classes.  It contains tests to verify that all the\nversions mentioned in the versions response are mapped correctly\nso this kind of partial update situation won't happen again.\n\nCloses-Bug: 1609571\n\nCo-Authored-By: Nikhil Komawar <nik.komawar@gmail.com>\nCo-Authored-By: Brian Rosmaita <brian.rosmaita@rackspace.com>\n\nChange-Id: I4018af408fa45f3ac0ad6e9c8229428a9f87089f\n(Cherry-picked from commit 0d1daf44efed10526f582c16ebab56ffa53bc1da and\ncommit 8c3560bbf6fe9f5267d7cf3f087201540a1ebff0)\n""}]",0,351268,75a74b350f235e92521528cf886a48e9d4d0ea09,18,5,4,2537,,,0,"Version negotiation api middleware to include v2.3

Glance API is at v2.3 listed to be CURRENT version but the version
negotiation middleware lists only v2, v2.0, v2.1, v2.2.

Also, adds test class to versions tests.

The current versions tests contain a class to test the versions
response, and a class to test version negotiation, but this put us
in a situation where the 'versions' response was correctly updated
for v2.3, but the negotiation to map v2.3 -> v2 was not, thereby
making calls to /v2.3/whatever fail even though all tests in both
classes passed.

This patch adds a new test class that inherits from both of the
current test classes.  It contains tests to verify that all the
versions mentioned in the versions response are mapped correctly
so this kind of partial update situation won't happen again.

Closes-Bug: 1609571

Co-Authored-By: Nikhil Komawar <nik.komawar@gmail.com>
Co-Authored-By: Brian Rosmaita <brian.rosmaita@rackspace.com>

Change-Id: I4018af408fa45f3ac0ad6e9c8229428a9f87089f
(Cherry-picked from commit 0d1daf44efed10526f582c16ebab56ffa53bc1da and
commit 8c3560bbf6fe9f5267d7cf3f087201540a1ebff0)
",git fetch https://review.opendev.org/openstack/glance refs/changes/68/351268/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_versions.py', 'glance/api/middleware/version_negotiation.py']",2,34df721562f05c249f3eeebefa18ea226020d4b0,bug/1609571," elif (subject in ('v2', 'v2.0', 'v2.1', 'v2.2', 'v2.3') and CONF.enable_v2_api):"," elif subject in ('v2', 'v2.0', 'v2.1', 'v2.2') and CONF.enable_v2_api:",8,12
openstack%2Foslo.context~master~I47456ac65911d4cc4a5acbacfd1d0dae8429684a,openstack/oslo.context,master,I47456ac65911d4cc4a5acbacfd1d0dae8429684a,Emit deprecation warnings when positional args passed,MERGED,2016-07-08 02:47:31.000000000,2016-08-12 21:26:44.000000000,2016-08-12 21:26:44.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 9459}, {'_account_id': 16051}]","[{'number': 1, 'created': '2016-07-08 02:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/ee47d50fde5a9eed821103830aa6372191a9cae7', 'message': ""Emit deprecation warnings when positional args passed\n\nWe should try and enforce that all arguments passed to an oslo_context\nare passed as keyword arguments. positional is a library maintained by\nthe openstack community for exactly this.\n\nWe can't simply switch over to raising an error, so by setting\nenforcement to warn we will issue a deprecation warning whenever\narguments are being passed positionally.\n\nChange-Id: I47456ac65911d4cc4a5acbacfd1d0dae8429684a\n""}, {'number': 2, 'created': '2016-07-11 22:07:48.000000000', 'files': ['oslo_context/tests/test_context.py', 'requirements.txt', 'test-requirements.txt', 'oslo_context/context.py'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/9e6c9240404e9db8269538c2dc7b8f5f231eb15d', 'message': ""Emit deprecation warnings when positional args passed\n\nWe should try and enforce that all arguments passed to an oslo_context\nare passed as keyword arguments. positional is a library maintained by\nthe openstack community for exactly this.\n\nWe can't simply switch over to raising an error, so by setting\nenforcement to warn we will issue a deprecation warning whenever\narguments are being passed positionally.\n\nChange-Id: I47456ac65911d4cc4a5acbacfd1d0dae8429684a\n""}]",2,339320,9e6c9240404e9db8269538c2dc7b8f5f231eb15d,13,5,2,7191,,,0,"Emit deprecation warnings when positional args passed

We should try and enforce that all arguments passed to an oslo_context
are passed as keyword arguments. positional is a library maintained by
the openstack community for exactly this.

We can't simply switch over to raising an error, so by setting
enforcement to warn we will issue a deprecation warning whenever
arguments are being passed positionally.

Change-Id: I47456ac65911d4cc4a5acbacfd1d0dae8429684a
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/20/339320/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'oslo_context/context.py']",2,ee47d50fde5a9eed821103830aa6372191a9cae7,positional,from positional import positional @positional(enforcement=positional.WARN),,5,0
openstack%2Fdevstack~master~I747480b6063a62e82ca2b030f274d3e87bf28b3b,openstack/devstack,master,I747480b6063a62e82ca2b030f274d3e87bf28b3b,Add os-client-config and osc-lib from source,MERGED,2016-08-12 13:19:57.000000000,2016-08-12 21:25:14.000000000,2016-08-12 21:25:14.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 10118}]","[{'number': 1, 'created': '2016-08-12 13:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9432f988ffa6f7d04298d18cf507653bd94a1495', 'message': 'Add os-client-config from source as a possibility\n\nThere is currently a hole in our testing that lets os-client-config,\nwhich sits at the bottom of the dependency chain for some key pieces\nlike neutronclient and python-openstackclient, introduce gate breakages.\nStep one in fixing this is allowing os-client-config to be optionally\ninstalled from source so that jobs can be put into its gate to exercise\nits master vs devstack installs.\n\nChange-Id: I747480b6063a62e82ca2b030f274d3e87bf28b3b\n'}, {'number': 2, 'created': '2016-08-12 14:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/281acc163eccbcc991f1d0d308d6aa654b2836e2', 'message': 'Add os-client-config from source as a possibility\n\nThere is currently a hole in our testing that lets os-client-config,\nwhich sits at the bottom of the dependency chain for some key pieces\nlike neutronclient and python-openstackclient, introduce gate breakages.\nStep one in fixing this is allowing os-client-config to be optionally\ninstalled from source so that jobs can be put into its gate to exercise\nits master vs devstack installs.\n\nChange-Id: I747480b6063a62e82ca2b030f274d3e87bf28b3b\n'}, {'number': 3, 'created': '2016-08-12 14:47:21.000000000', 'files': ['lib/oslo', 'tests/test_libs_from_pypi.sh', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/06f3639a70dc5884107a4045bef5a9de1fb725a5', 'message': ""Add os-client-config and osc-lib from source\n\nThere is currently a hole in our testing that lets os-client-config,\nwhich sits at the bottom of the dependency chain for some key pieces\nlike neutronclient and python-openstackclient, introduce gate breakages.\nStep one in fixing this is allowing os-client-config to be optionally\ninstalled from source so that jobs can be put into its gate to exercise\nits master vs devstack installs.\n\nAdditionally, osc-lib is a new and lovely library that's going to need\nthe same things.\n\nWe're putting both in install_oslo, even though they're not oslo\nlibraries, because that'll make grenade work properly.\n\nCo-Authored-By: Monty Taylor <mordred@inaugust.com>\nChange-Id: I747480b6063a62e82ca2b030f274d3e87bf28b3b\n""}]",0,354717,06f3639a70dc5884107a4045bef5a9de1fb725a5,16,5,3,2,,,0,"Add os-client-config and osc-lib from source

There is currently a hole in our testing that lets os-client-config,
which sits at the bottom of the dependency chain for some key pieces
like neutronclient and python-openstackclient, introduce gate breakages.
Step one in fixing this is allowing os-client-config to be optionally
installed from source so that jobs can be put into its gate to exercise
its master vs devstack installs.

Additionally, osc-lib is a new and lovely library that's going to need
the same things.

We're putting both in install_oslo, even though they're not oslo
libraries, because that'll make grenade work properly.

Co-Authored-By: Monty Taylor <mordred@inaugust.com>
Change-Id: I747480b6063a62e82ca2b030f274d3e87bf28b3b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/17/354717/3 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,9432f988ffa6f7d04298d18cf507653bd94a1495,add-osc-lib,"# Install os-client-config - needed by openstackclient and neutronclient if use_library_from_git ""os-client-config""; then git_clone_by_name ""os-client-config"" setup_dev_lib ""os-client-config"" else pip_install_gr os-client-config fi ",,8,0
openstack%2Fproject-config~master~I5ae08a8cf76fe0fbc2e992f3d4ea82377e30ae55,openstack/project-config,master,I5ae08a8cf76fe0fbc2e992f3d4ea82377e30ae55,Switch osic-cloud1 to IPv6,MERGED,2016-08-12 16:25:34.000000000,2016-08-12 21:19:52.000000000,2016-08-12 18:48:34.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 7353}]","[{'number': 1, 'created': '2016-08-12 16:25:34.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e75569d3a5ac82d0bb3c30c34cce069bdf70ddae', 'message': 'Switch osic-cloud1 to IPv6\n\nWith the help of cloudnull, osic-cloud1 has been upgraded to IPv6\nsupport.  Lets configure nodepool to use it.\n\nChange-Id: I5ae08a8cf76fe0fbc2e992f3d4ea82377e30ae55\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,354827,e75569d3a5ac82d0bb3c30c34cce069bdf70ddae,8,4,1,4162,,,0,"Switch osic-cloud1 to IPv6

With the help of cloudnull, osic-cloud1 has been upgraded to IPv6
support.  Lets configure nodepool to use it.

Change-Id: I5ae08a8cf76fe0fbc2e992f3d4ea82377e30ae55
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/354827/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,e75569d3a5ac82d0bb3c30c34cce069bdf70ddae,, ipv6-preferred: true networks: - name: 'GATEWAY_NET_V6', networks: - name: 'GATEWAY_NET',2,1
openstack%2Foslo.concurrency~master~I9839b9033c814280f6d1b53c5ed2643fd2bf8bf8,openstack/oslo.concurrency,master,I9839b9033c814280f6d1b53c5ed2643fd2bf8bf8,Fix external lock tests on Windows,MERGED,2016-08-08 14:17:54.000000000,2016-08-12 21:18:50.000000000,2016-08-12 21:18:50.000000000,"[{'_account_id': 3}, {'_account_id': 708}, {'_account_id': 2271}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 8213}, {'_account_id': 8543}]","[{'number': 1, 'created': '2016-08-08 14:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/19d9dcf82ef82a06ae43d1fe09d7e280174da2ff', 'message': ""Fix external lock tests on Windows\n\nAt the moment, those tests use fcntl to acquire file locks, which\nwill fail on Windows.\n\nThis change addresses this issue by adding some platform checks,\nusing the appropriate functions when handling file locks. Note that\nwe've avoided running private methods from fasteners.\n\nAlso, we now avoid using os.fork, which won't work on Windows.\nInstead, we spawn new processes using multiprocessing.Process, using\nqueues for communication between processes.\n\nChange-Id: I9839b9033c814280f6d1b53c5ed2643fd2bf8bf8\n""}, {'number': 2, 'created': '2016-08-08 16:14:02.000000000', 'files': ['oslo_concurrency/tests/unit/test_lockutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/3c46e8f776f0e593a7c4515e3471d3b146ba0068', 'message': ""Fix external lock tests on Windows\n\nAt the moment, those tests use fcntl to acquire file locks, which\nwill fail on Windows.\n\nThis change addresses this issue by adding some platform checks,\nusing the appropriate functions when handling file locks. Note that\nwe've avoided running private methods from fasteners.\n\nAlso, we now avoid using os.fork, which won't work on Windows.\nInstead, we spawn new processes using multiprocessing.Process, using\nqueues for communication between processes.\n\nChange-Id: I9839b9033c814280f6d1b53c5ed2643fd2bf8bf8\n""}]",0,352443,3c46e8f776f0e593a7c4515e3471d3b146ba0068,8,7,2,17599,,,0,"Fix external lock tests on Windows

At the moment, those tests use fcntl to acquire file locks, which
will fail on Windows.

This change addresses this issue by adding some platform checks,
using the appropriate functions when handling file locks. Note that
we've avoided running private methods from fasteners.

Also, we now avoid using os.fork, which won't work on Windows.
Instead, we spawn new processes using multiprocessing.Process, using
queues for communication between processes.

Change-Id: I9839b9033c814280f6d1b53c5ed2643fd2bf8bf8
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/43/352443/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_concurrency/tests/unit/test_lockutils.py'],1,19d9dcf82ef82a06ae43d1fe09d7e280174da2ff,windows_tests,"import multiprocessingif sys.platform == 'win32': import msvcrt else: import fcntl def lock_file(handle): if sys.platform == 'win32': msvcrt.locking(handle.fileno(), msvcrt.LK_NBLCK, 1) else: fcntl.flock(handle, fcntl.LOCK_EX | fcntl.LOCK_NB) def unlock_file(handle): if sys.platform == 'win32': msvcrt.locking(handle.fileno(), msvcrt.LK_UNLCK, 1) else: fcntl.flock(handle, fcntl.LOCK_UN) def lock_files(handles_dir, out_queue): with lockutils.lock('external', 'test-', external=True): # Open some files we can use for locking handles = [] for n in range(50): path = os.path.join(handles_dir, ('file-%s' % n)) handles.append(open(path, 'w')) # Loop over all the handles and try locking the file # without blocking, keep a count of how many files we # were able to lock and then unlock. If the lock fails # we get an IOError and bail out with bad exit code count = 0 for handle in handles: try: lock_file(handle) count += 1 unlock_file(handle) except IOError as ex: os._exit(2) finally: handle.close() return out_queue.put(count) queue = multiprocessing.Queue() proc = multiprocessing.Process( target=lock_files, args=(handles_dir, queue)) proc.start() children.append((proc, queue)) for child, queue in children: child.join() count = queue.get(block=False) self.assertEqual(50, count)","import fcntl def lock_files(handles_dir): with lockutils.lock('external', 'test-', external=True): # Open some files we can use for locking handles = [] for n in range(50): path = os.path.join(handles_dir, ('file-%s' % n)) handles.append(open(path, 'w')) # Loop over all the handles and try locking the file # without blocking, keep a count of how many files we # were able to lock and then unlock. If the lock fails # we get an IOError and bail out with bad exit code count = 0 for handle in handles: try: fcntl.flock(handle, fcntl.LOCK_EX | fcntl.LOCK_NB) count += 1 fcntl.flock(handle, fcntl.LOCK_UN) except IOError: os._exit(2) finally: handle.close() # Check if we were able to open all files self.assertEqual(50, count) pid = os.fork() if pid: children.append(pid) else: try: lock_files(handles_dir) finally: os._exit(0) for child in children: (pid, status) = os.waitpid(child, 0) if pid: self.assertEqual(0, status)",53,42
openstack%2Fopenstack-ansible-os_aodh~master~I424f16260339581b6ea612c9f7fd4b855bf62676,openstack/openstack-ansible-os_aodh,master,I424f16260339581b6ea612c9f7fd4b855bf62676,[DOCS] Move aodh configs from developer docs,MERGED,2016-08-11 18:25:05.000000000,2016-08-12 21:13:22.000000000,2016-08-12 21:13:22.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 18:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/b7f5b845cf18f1d328abf72d739af31310582ab1', 'message': '[DOCS] Move aodh configs from developer docs\n\nThis commit moves the aodh configs in the developer docs\nover to the role. It also cleans up README.rst and index.rst to\nsupport the new tree structure for role docs.\n\nChange-Id: I424f16260339581b6ea612c9f7fd4b855bf62676\n'}, {'number': 2, 'created': '2016-08-11 19:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/fadacb56ba0f531b253f7458ad78b5178759a8b5', 'message': '[DOCS] Move aodh configs from developer docs\n\nThis commit moves the aodh configs in the developer docs\nover to the role. It also cleans up README.rst and index.rst to\nsupport the new tree structure for role docs.\n\nChange-Id: I424f16260339581b6ea612c9f7fd4b855bf62676\n'}, {'number': 3, 'created': '2016-08-12 14:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/dc7d61ebb05814fca5100ee22c75ff0beb3602dd', 'message': '[DOCS] Move aodh configs from developer docs\n\nThis commit moves the aodh configs in the developer docs\nover to the role. It also cleans up README.rst and index.rst to\nsupport the new tree structure for role docs.\n\nChange-Id: I424f16260339581b6ea612c9f7fd4b855bf62676\n'}, {'number': 4, 'created': '2016-08-12 14:41:13.000000000', 'files': ['doc/source/index.rst', 'examples/playbook.yml', 'README.rst', 'doc/source/configure-aodh.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/fd4346e7fc4cc4508dc7524aa576637bbd82280c', 'message': '[DOCS] Move aodh configs from developer docs\n\nThis commit moves the aodh configs in the developer docs\nover to the role. It also cleans up README.rst and index.rst to\nsupport the new tree structure for role docs.\n\nChange-Id: I424f16260339581b6ea612c9f7fd4b855bf62676\nSigned-off-by: alextricity25 <miguel.cantu@rackspace.com>\n'}]",0,354331,fd4346e7fc4cc4508dc7524aa576637bbd82280c,16,5,4,11268,,,0,"[DOCS] Move aodh configs from developer docs

This commit moves the aodh configs in the developer docs
over to the role. It also cleans up README.rst and index.rst to
support the new tree structure for role docs.

Change-Id: I424f16260339581b6ea612c9f7fd4b855bf62676
Signed-off-by: alextricity25 <miguel.cantu@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/31/354331/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/overview.rst', 'examples/playbook.yml', 'README.rst', 'doc/source/configure-aodh.rst']",5,b7f5b845cf18f1d328abf72d739af31310582ab1,bp/osa-install-guide-overhaul,"`Home <index.html>`_ OpenStack-Ansible Installation Guide Configuring the Aodh service (optional) ======================================= The Telemetry alarming services perform the following functions: - Creates an API endpoint for controlling alarms. - Allows you to set alarms based on threshold evaluation for a collection of samples. Configuring the hosts ~~~~~~~~~~~~~~~~~~~~~ Configure Aodh by specifying the ``metering-alarm_hosts`` directive in the ``/etc/openstack_deploy/conf.d/aodh.yml`` file. The following shows the example included in the ``etc/openstack_deploy/conf.d/aodh.yml.example`` file: .. code-block:: yaml # The infra nodes that the Aodh services run on. metering-alarm_hosts: infra1: ip: 172.20.236.111 infra2: ip: 172.20.236.112 infra3: ip: 172.20.236.113 The ``metering-alarm_hosts`` provides several services: - An API server (``aodh-api``): Runs on one or more central management servers to provide access to the alarm information in the data store. - An alarm evaluator (``aodh-evaluator``): Runs on one or more central management servers to determine alarm fire due to the associated statistic trend crossing a threshold over a sliding time window. - A notification listener (``aodh-listener``): Runs on a central management server and fire alarms based on defined rules against event captured by ceilometer's module's notification agents. - An alarm notifier (``aodh-notifier``). Runs on one or more central management servers to allow the setting of alarms to base on the threshold evaluation for a collection of samples. These services communicate by using the OpenStack messaging bus. Only the API server has access to the data store. Run the ``os-aodh-install.yml`` playbook. If deploying a new OpenStack (instead of only Aodh), run ``setup-openstack.yml``. The Aodh playbooks run as part of this playbook. -------------- .. include:: navigation.txt",,123,44
openstack%2Foslo.i18n~master~I6d203e451ec3dc43f908314b091b9d7887077914,openstack/oslo.i18n,master,I6d203e451ec3dc43f908314b091b9d7887077914,Updated from global requirements,MERGED,2016-08-04 02:40:42.000000000,2016-08-12 21:12:34.000000000,2016-08-12 21:12:34.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2016-08-04 02:40:42.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/757a65401c8370bd234f5a3443be523af4b034d0', 'message': 'Updated from global requirements\n\nChange-Id: I6d203e451ec3dc43f908314b091b9d7887077914\n'}]",0,350909,757a65401c8370bd234f5a3443be523af4b034d0,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I6d203e451ec3dc43f908314b091b9d7887077914
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/09/350909/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,757a65401c8370bd234f5a3443be523af4b034d0,openstack/requirements,oslo.config>=3.14.0 # Apache-2.0,oslo.config>=3.12.0 # Apache-2.0,1,1
openstack%2Fcinder~master~Iea460a64e3da740c4367d1bc5f98840e5cc01cfb,openstack/cinder,master,Iea460a64e3da740c4367d1bc5f98840e5cc01cfb,Remove debug logger translations,MERGED,2016-08-10 13:38:23.000000000,2016-08-12 21:02:49.000000000,2016-08-11 14:05:47.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10621}, {'_account_id': 11904}, {'_account_id': 12924}, {'_account_id': 13394}, {'_account_id': 14305}, {'_account_id': 14797}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17852}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22510}]","[{'number': 1, 'created': '2016-08-10 13:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eca6e7bcba19a93e3b17c5ee255a26d383781a2b', 'message': 'Remove debug logger translations\n\nChange-Id: Iea460a64e3da740c4367d1bc5f98840e5cc01cfb\n'}, {'number': 2, 'created': '2016-08-10 23:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/094d0f8bb2677350fbaf611295a5615b953629b7', 'message': 'Remove debug logger translations\n\nChange-Id: Iea460a64e3da740c4367d1bc5f98840e5cc01cfb\n'}, {'number': 3, 'created': '2016-08-11 06:28:42.000000000', 'files': ['cinder/volume/drivers/hitachi/hnas_utils.py', 'cinder/volume/drivers/synology/synology_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/169f79a177a476239f0692021feb0dad73b29511', 'message': 'Remove debug logger translations\n\nChange-Id: Iea460a64e3da740c4367d1bc5f98840e5cc01cfb\n'}]",0,353477,169f79a177a476239f0692021feb0dad73b29511,53,28,3,21797,,,0,"Remove debug logger translations

Change-Id: Iea460a64e3da740c4367d1bc5f98840e5cc01cfb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/353477/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hitachi/hnas_utils.py', 'cinder/volume/drivers/synology/synology_common.py']",2,eca6e7bcba19a93e3b17c5ee255a26d383781a2b,remove-debug-logger-translations," LOG.debug('Lun [%(vol)s], status [%(status)s].', LOG.debug('Lun [%(snapshot)s], status [%(status)s].',"," LOG.debug(_LE('Lun [%(vol)s], status [%(status)s].'), LOG.debug(_LE('Lun [%(snapshot)s], status [%(status)s].'),",3,3
openstack%2Foslo.context~master~I806c893fd46242b021ce90037609ee47e015e1f3,openstack/oslo.context,master,I806c893fd46242b021ce90037609ee47e015e1f3,Fix parameters of assertEqual are misplaced,MERGED,2016-07-23 09:01:40.000000000,2016-08-12 21:01:52.000000000,2016-08-12 21:01:52.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 7191}, {'_account_id': 9796}]","[{'number': 1, 'created': '2016-07-23 09:01:40.000000000', 'files': ['oslo_context/tests/test_context.py'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/10fd6fd30a6ed7ab3b98c7ef318fe93f1f144243', 'message': ""Fix parameters of assertEqual are misplaced\n\nMany assertEqual sentences don't follow assertEqual(expected, actual),\nThese misplaces have 2 impacts:\n1, giving confusing messages when some tests failed.\n2, mislead other developers, new test modules may follow these wrong pattern.\n\nThis patch fix all of them.\n\nChange-Id: I806c893fd46242b021ce90037609ee47e015e1f3\nCloses-Bug: #1604213\n""}]",0,346337,10fd6fd30a6ed7ab3b98c7ef318fe93f1f144243,8,4,1,9459,,,0,"Fix parameters of assertEqual are misplaced

Many assertEqual sentences don't follow assertEqual(expected, actual),
These misplaces have 2 impacts:
1, giving confusing messages when some tests failed.
2, mislead other developers, new test modules may follow these wrong pattern.

This patch fix all of them.

Change-Id: I806c893fd46242b021ce90037609ee47e015e1f3
Closes-Bug: #1604213
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/37/346337/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_context/tests/test_context.py'],1,10fd6fd30a6ed7ab3b98c7ef318fe93f1f144243,bug/1604213," self.assertEqual(new, ctx.user) self.assertEqual(override, ctx.user) self.assertEqual(new, ctx.tenant) self.assertEqual(override, ctx.tenant) self.assertEqual(new, ctx.project_name)"," self.assertEqual(ctx.user, new) self.assertEqual(ctx.user, override) self.assertEqual(ctx.tenant, new) self.assertEqual(ctx.tenant, override) self.assertEqual(ctx.project_name, new)",5,5
openstack%2Foslo.middleware~master~I901e87c52aac317c5cd9942aa1cd35a067aaa94d,openstack/oslo.middleware,master,I901e87c52aac317c5cd9942aa1cd35a067aaa94d,Fix parameters of assertEqual are misplaced,MERGED,2016-07-22 16:45:20.000000000,2016-08-12 20:56:59.000000000,2016-08-12 20:56:59.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6537}, {'_account_id': 8119}]","[{'number': 1, 'created': '2016-07-22 16:45:20.000000000', 'files': ['oslo_middleware/tests/test_request_id.py', 'oslo_middleware/tests/test_correlation_id.py', 'oslo_middleware/tests/test_base.py', 'oslo_middleware/tests/test_cors.py', 'oslo_middleware/tests/test_sizelimit.py'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/736270cf76ace70644252ca95c7adb760bee7a86', 'message': ""Fix parameters of assertEqual are misplaced\n\nMany assertEqual sentences don't follow assertEqual(expected, actual),\nThese misplaces have 2 impacts:\n1, giving confusing messages when some tests failed.\n2, mislead other developers, new test modules may follow these wrong pattern.\n\nThis patch fix all of them.\n\nChange-Id: I901e87c52aac317c5cd9942aa1cd35a067aaa94d\nCloses-Bug: #1604213\n""}]",0,346125,736270cf76ace70644252ca95c7adb760bee7a86,8,4,1,9459,,,0,"Fix parameters of assertEqual are misplaced

Many assertEqual sentences don't follow assertEqual(expected, actual),
These misplaces have 2 impacts:
1, giving confusing messages when some tests failed.
2, mislead other developers, new test modules may follow these wrong pattern.

This patch fix all of them.

Change-Id: I901e87c52aac317c5cd9942aa1cd35a067aaa94d
Closes-Bug: #1604213
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/25/346125/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_middleware/tests/test_request_id.py', 'oslo_middleware/tests/test_correlation_id.py', 'oslo_middleware/tests/test_base.py', 'oslo_middleware/tests/test_cors.py', 'oslo_middleware/tests/test_sizelimit.py']",5,736270cf76ace70644252ca95c7adb760bee7a86,bug/1604213," self.assertEqual(BYTES, bytes_read) self.assertEqual(BYTES, bytes_read) self.assertEqual(200, response.status_int) self.assertEqual(413, response.status_int) self.assertEqual(413, response.status_int)"," self.assertEqual(bytes_read, BYTES) self.assertEqual(bytes_read, BYTES) self.assertEqual(response.status_int, 200) self.assertEqual(response.status_int, 413) self.assertEqual(response.status_int, 413)",129,128
openstack%2Fnetworking-bagpipe~master~Iba01fe12c6bff19ed308c1f1aa274f8405d0e6b1,openstack/networking-bagpipe,master,Iba01fe12c6bff19ed308c1f1aa274f8405d0e6b1,Updated from global requirements,MERGED,2016-08-12 04:50:34.000000000,2016-08-12 20:54:42.000000000,2016-08-12 20:54:42.000000000,"[{'_account_id': 3}, {'_account_id': 12021}]","[{'number': 1, 'created': '2016-08-12 04:50:34.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/0de951f4d35018c83412f6967f64e6f104d05fc1', 'message': 'Updated from global requirements\n\nChange-Id: Iba01fe12c6bff19ed308c1f1aa274f8405d0e6b1\n'}]",0,354522,0de951f4d35018c83412f6967f64e6f104d05fc1,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Iba01fe12c6bff19ed308c1f1aa274f8405d0e6b1
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/22/354522/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0de951f4d35018c83412f6967f64e6f104d05fc1,openstack/requirements,oslo.db>=4.10.0 # Apache-2.0,oslo.db>=4.1.0 # Apache-2.0,1,1
openstack%2Fkolla-kubernetes~master~I389cbfa1128afe7cb30146c7e240153ca044e3dc,openstack/kolla-kubernetes,master,I389cbfa1128afe7cb30146c7e240153ca044e3dc,3/4 of the Neutron Compute services start correctly,MERGED,2016-08-02 22:05:24.000000000,2016-08-12 20:52:05.000000000,2016-08-08 19:35:44.000000000,"[{'_account_id': 3}, {'_account_id': 10419}, {'_account_id': 10787}, {'_account_id': 22143}]","[{'number': 1, 'created': '2016-08-02 22:05:24.000000000', 'files': ['services/neutron/neutron-compute-pod.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/40277197069dc010070d78a00cb0347093f413eb', 'message': ""3/4 of the Neutron Compute services start correctly\n\nI think there's some major topology changes necessary; I\nfigured that ought to be a separate patch before all of the\nservices are set up right.\n\n* Still bare pods; that's a separate task to turn them into\n  PetSets and/or RC's and/or DaemonSets.\n* Configmap fixed with underscores\n* Environment variables added that the containers were expecting.\n\nChange-Id: I389cbfa1128afe7cb30146c7e240153ca044e3dc\nPartially-implements: blueprint neutron-kubernetes\n""}]",0,350285,40277197069dc010070d78a00cb0347093f413eb,8,4,1,21996,,,0,"3/4 of the Neutron Compute services start correctly

I think there's some major topology changes necessary; I
figured that ought to be a separate patch before all of the
services are set up right.

* Still bare pods; that's a separate task to turn them into
  PetSets and/or RC's and/or DaemonSets.
* Configmap fixed with underscores
* Environment variables added that the containers were expecting.

Change-Id: I389cbfa1128afe7cb30146c7e240153ca044e3dc
Partially-implements: blueprint neutron-kubernetes
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/85/350285/1 && git format-patch -1 --stdout FETCH_HEAD,['services/neutron/neutron-compute-pod.yml.j2'],1,40277197069dc010070d78a00cb0347093f413eb,bp/neutron-kubernetes, env: - name: KOLLA_CONFIG_STRATEGY value: {{ config_strategy }} env: - name: KOLLA_CONFIG_STRATEGY value: {{ config_strategy }} env: - name: KOLLA_CONFIG_STRATEGY value: {{ config_strategy }} items: - key: neutron.conf path: neutron.conf - key: config.json path: config.json - key: ml2-conf.ini path: ml2_conf.ini items: - key: neutron.conf path: neutron.conf - key: config.json path: config.json - key: ml2-conf.ini path: ml2_conf.ini,,23,3
openstack%2Fpuppet-vswitch~master~I91feedd48949aac520c719ab589a1542462ff887,openstack/puppet-vswitch,master,I91feedd48949aac520c719ab589a1542462ff887,Modify the OVS DPDK package name to openvswitch,MERGED,2016-08-05 07:01:16.000000000,2016-08-12 20:51:55.000000000,2016-08-12 20:51:54.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20171}, {'_account_id': 21082}]","[{'number': 1, 'created': '2016-08-05 07:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/1aa1ca60a083ecac6eb060fbdd68ce6c04a52ee9', 'message': 'Modify the OVS DPDK package name to openvswitch\n\nFor Red Hat family, the OVS with DPDK will be provided\nin the same package as OVS, named as openvswitch. This\nis applicable for OVS2.5 version onwards, targeted for\nnewton. As of now, Ubuntu is packaging DPDK separately.\nAfter getting clarity on Ubuntu DPDK packaging, the\nrequired changes will be done for Ubuntu also, if any.\n\nChange-Id: I91feedd48949aac520c719ab589a1542462ff887\n'}, {'number': 2, 'created': '2016-08-05 11:17:03.000000000', 'files': ['spec/classes/vswitch_dpdk_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/56b2aaa9310be1abd4b311ceac12e02e2b51f0d5', 'message': 'Modify the OVS DPDK package name to openvswitch\n\nFor Red Hat family, the OVS with DPDK will be provided\nin the same package as OVS, named as openvswitch. This\nis applicable for OVS2.5 version onwards, targeted for\nnewton. As of now, Ubuntu is packaging DPDK separately.\nAfter getting clarity on Ubuntu DPDK packaging, the\nrequired changes will be done for Ubuntu also, if any.\n\nChange-Id: I91feedd48949aac520c719ab589a1542462ff887\n'}]",0,351522,56b2aaa9310be1abd4b311ceac12e02e2b51f0d5,12,5,2,18575,,,0,"Modify the OVS DPDK package name to openvswitch

For Red Hat family, the OVS with DPDK will be provided
in the same package as OVS, named as openvswitch. This
is applicable for OVS2.5 version onwards, targeted for
newton. As of now, Ubuntu is packaging DPDK separately.
After getting clarity on Ubuntu DPDK packaging, the
required changes will be done for Ubuntu also, if any.

Change-Id: I91feedd48949aac520c719ab589a1542462ff887
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/22/351522/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,1aa1ca60a083ecac6eb060fbdd68ce6c04a52ee9,bp/tripleo-ovs-dpdk, # OVS2.5 in Red Hat family is unified package which will support plain # OVS and also DPDK (if enabled at runtime). $ovs_dpdk_package_name = 'openvswitch', $ovs_dpdk_package_name = 'openvswitch-dpdk',3,1
openstack%2Fbarbican~master~I3d85951930be83417c8f459da21962eb77189e43,openstack/barbican,master,I3d85951930be83417c8f459da21962eb77189e43,Use international logging message,MERGED,2016-08-08 07:17:15.000000000,2016-08-12 20:34:52.000000000,2016-08-12 20:34:51.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7764}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 16046}]","[{'number': 1, 'created': '2016-08-08 07:17:15.000000000', 'files': ['barbican/api/controllers/orders.py', 'barbican/api/middleware/simple.py', 'barbican/common/validators.py', 'barbican/cmd/db_manage.py', 'barbican/api/controllers/consumers.py', 'barbican/api/controllers/cas.py', 'barbican/queue/client.py', 'barbican/tasks/resources.py', 'barbican/plugin/crypto/p11_crypto.py', 'barbican/model/migration/commands.py', 'barbican/common/resources.py', 'barbican/plugin/dogtag.py', 'barbican/api/controllers/transportkeys.py', 'barbican/queue/retry_scheduler.py', 'barbican/api/controllers/secretmeta.py', 'barbican/cmd/retry_scheduler.py', 'barbican/tasks/certificate_resources.py', 'barbican/cmd/keystone_listener.py', 'barbican/api/controllers/containers.py', 'barbican/model/repositories.py', 'barbican/api/controllers/secrets.py', 'barbican/model/clean.py', 'barbican/plugin/snakeoil_ca.py', 'barbican/cmd/worker.py', 'barbican/plugin/kmip_secret_store.py', 'barbican/tasks/keystone_consumer.py', 'barbican/queue/keystone_listener.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/20b790beb25185341d848cfc32ef9119d682174c', 'message': 'Use international logging message\n\nChange-Id: I3d85951930be83417c8f459da21962eb77189e43\n'}]",0,352249,20b790beb25185341d848cfc32ef9119d682174c,12,11,1,21797,,,0,"Use international logging message

Change-Id: I3d85951930be83417c8f459da21962eb77189e43
",git fetch https://review.opendev.org/openstack/barbican refs/changes/49/352249/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/api/controllers/orders.py', 'barbican/api/middleware/simple.py', 'barbican/common/validators.py', 'barbican/cmd/db_manage.py', 'barbican/api/controllers/consumers.py', 'barbican/api/controllers/cas.py', 'barbican/queue/client.py', 'barbican/tasks/resources.py', 'barbican/plugin/crypto/p11_crypto.py', 'barbican/model/migration/commands.py', 'barbican/common/resources.py', 'barbican/plugin/dogtag.py', 'barbican/api/controllers/transportkeys.py', 'barbican/queue/retry_scheduler.py', 'barbican/api/controllers/secretmeta.py', 'barbican/cmd/retry_scheduler.py', 'barbican/tasks/certificate_resources.py', 'barbican/cmd/keystone_listener.py', 'barbican/api/controllers/containers.py', 'barbican/model/repositories.py', 'barbican/api/controllers/secrets.py', 'barbican/model/clean.py', 'barbican/plugin/snakeoil_ca.py', 'barbican/cmd/worker.py', 'barbican/plugin/kmip_secret_store.py', 'barbican/tasks/keystone_consumer.py', 'barbican/queue/keystone_listener.py']",27,20b790beb25185341d848cfc32ef9119d682174c,use-international-logger,"from barbican import i18n as u LOG.debug(u._(""Input keystone event publisher_id = %s""), publisher_id) LOG.debug(u._(""Input keystone event payload = %s""), payload) LOG.debug(u._(""Input keystone event type = %s""), event_type) LOG.debug(u._(""Input keystone event metadata = %s""), metadata)"," LOG.debug(""Input keystone event publisher_id = %s"", publisher_id) LOG.debug(""Input keystone event payload = %s"", payload) LOG.debug(""Input keystone event type = %s"", event_type) LOG.debug(""Input keystone event metadata = %s"", metadata)",145,115
openstack%2Fos-brick~master~I77aad9f8ddd1b7175ee1521a43d16511059a9ad0,openstack/os-brick,master,I77aad9f8ddd1b7175ee1521a43d16511059a9ad0,Fix linuxrbd to work with Python 3,MERGED,2016-08-11 15:18:43.000000000,2016-08-12 20:34:16.000000000,2016-08-12 19:23:44.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 7173}, {'_account_id': 9008}, {'_account_id': 9236}, {'_account_id': 9732}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15374}, {'_account_id': 16269}, {'_account_id': 19852}, {'_account_id': 22248}]","[{'number': 1, 'created': '2016-08-11 15:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ce5d75d184b94ac59df2b95a2946d33a3638d11c', 'message': 'Fix linuxrbd to work with Python 3\n\nAll string args used with librbd must be None or utf-8 otherwise\nlibrbd will break. This patch uses convert_str instead of\noslo_utils.encodeutils.\n\nChange-Id: I77aad9f8ddd1b7175ee1521a43d16511059a9ad0\nCloses-Bug: #1612290\n'}, {'number': 2, 'created': '2016-08-11 20:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/53ab0a11e92e76a50468e46a776a50866abce0d2', 'message': 'Fix linuxrbd to work with Python 3\n\nAll string args used with librbd must be None or utf-8 otherwise\nlibrbd will break. This patch uses convert_str instead of\noslo_utils.encodeutils.\n\nChange-Id: I77aad9f8ddd1b7175ee1521a43d16511059a9ad0\nCloses-Bug: #1612290\n'}, {'number': 3, 'created': '2016-08-11 20:26:06.000000000', 'files': ['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/linuxrbd.py', 'os_brick/utils.py', 'os_brick/tests/initiator/test_linuxrbd.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/91ac58fe773d42df8d8a7aaacfb6fe952943b80d', 'message': 'Fix linuxrbd to work with Python 3\n\nAll string args used with librbd must be None or utf-8 otherwise\nlibrbd will break. This patch uses convert_str instead of\noslo_utils.encodeutils.\n\nChange-Id: I77aad9f8ddd1b7175ee1521a43d16511059a9ad0\nCloses-Bug: #1612290\n'}]",5,354152,91ac58fe773d42df8d8a7aaacfb6fe952943b80d,41,14,3,1736,,,0,"Fix linuxrbd to work with Python 3

All string args used with librbd must be None or utf-8 otherwise
librbd will break. This patch uses convert_str instead of
oslo_utils.encodeutils.

Change-Id: I77aad9f8ddd1b7175ee1521a43d16511059a9ad0
Closes-Bug: #1612290
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/52/354152/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/linuxrbd.py', 'os_brick/utils.py', 'os_brick/tests/initiator/test_linuxrbd.py']",4,ce5d75d184b94ac59df2b95a2946d33a3638d11c,bug/1612290," self.assertEqual('test_user', client.rbd_user) self.assertEqual('test_pool', client.rbd_pool) rados_id='test_user', 'test_pool')","from oslo_utils import encodeutils self.assertEqual(encodeutils.safe_encode('test_user'), client.rbd_user) self.assertEqual(encodeutils.safe_encode('test_pool'), client.rbd_pool) rados_id=encodeutils.safe_encode('test_user'), encodeutils.safe_encode('test_pool'))",33,19
openstack%2Ftripleo-common~master~Ie2d1109d4ca6c04a5e06246e753006a7331041ea,openstack/tripleo-common,master,Ie2d1109d4ca6c04a5e06246e753006a7331041ea,Adds Plan List Action,MERGED,2016-03-31 21:26:44.000000000,2016-08-12 20:33:48.000000000,2016-08-12 20:33:48.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3098}, {'_account_id': 4328}, {'_account_id': 4978}, {'_account_id': 7471}, {'_account_id': 7509}, {'_account_id': 8532}, {'_account_id': 9317}, {'_account_id': 9712}, {'_account_id': 11105}, {'_account_id': 17888}]","[{'number': 1, 'created': '2016-03-31 21:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8a7209321c8588f953bad4d97685ae40c7222713', 'message': 'Adds Plan List Action\n\nThis patch adds a mistral action for retrieving a list of tripleo\ndeployment plans.  A tripleo deployment plan consists of a container\nand a mistral environment with the same name.\n\nChange-Id: Ie2d1109d4ca6c04a5e06246e753006a7331041ea\n'}, {'number': 2, 'created': '2016-04-29 17:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f67a4c94bcb5a41aedff85a267c46b2cfa1945eb', 'message': 'Adds Plan List Action\n\nThis patch adds a mistral action for retrieving a list of tripleo\ndeployment plans.  A tripleo deployment plan consists of a container\nand a mistral environment with the same name.\n\nChange-Id: Ie2d1109d4ca6c04a5e06246e753006a7331041ea\n'}, {'number': 3, 'created': '2016-04-29 17:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/758d2dcbae15b64543d788a4c17437b6766abcca', 'message': 'Adds Plan List Action\n\nThis patch adds a mistral action for retrieving a list of tripleo\ndeployment plans.  A tripleo deployment plan consists of a container\nand a mistral environment with the same name.\n\nChange-Id: Ie2d1109d4ca6c04a5e06246e753006a7331041ea\n'}, {'number': 4, 'created': '2016-05-16 23:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f0fabf9a2ac5c8d46ca0babed1bd7bcf6cd180e0', 'message': 'Adds Plan List Action\n\nThis patch adds a mistral action for retrieving a list of tripleo\ndeployment plans.  A tripleo deployment plan consists of a container\nand a mistral environment with the same name.\n\nChange-Id: Ie2d1109d4ca6c04a5e06246e753006a7331041ea\n'}, {'number': 5, 'created': '2016-05-19 18:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5e526709849848b522b3634b4ef3108c932caff6', 'message': 'Adds Plan List Action\n\nThis patch adds a mistral action for retrieving a list of tripleo\ndeployment plans.  A tripleo deployment plan consists of a container\nand a mistral environment with the same name.\n\nChange-Id: Ie2d1109d4ca6c04a5e06246e753006a7331041ea\n'}, {'number': 6, 'created': '2016-06-22 12:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f26780a5f20e451473bbc855941c959d50ecd74f', 'message': 'Adds Plan List Action\n\nThis patch adds a mistral action for retrieving a list of tripleo\ndeployment plans.  A tripleo deployment plan consists of a container\nand a mistral environment with the same name.\n\nChange-Id: Ie2d1109d4ca6c04a5e06246e753006a7331041ea\n'}, {'number': 7, 'created': '2016-07-08 09:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/17c7a050212952e631e606f988024370927cc2ac', 'message': 'Adds Plan List Action\n\nThis patch adds a mistral action for retrieving a list of tripleo\ndeployment plans.  A tripleo deployment plan consists of a container\nand a mistral environment with the same name.\n\nChange-Id: Ie2d1109d4ca6c04a5e06246e753006a7331041ea\n'}, {'number': 8, 'created': '2016-07-13 12:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b33d349c43f80c08779906a4cfa1c3bbc86488c3', 'message': 'Adds Plan List Action\n\nThis patch adds a mistral action for retrieving a list of tripleo\ndeployment plans.  A tripleo deployment plan consists of a container\nand a mistral environment with the same name.\n\nChange-Id: Ie2d1109d4ca6c04a5e06246e753006a7331041ea\n'}, {'number': 9, 'created': '2016-07-14 09:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/59af0fac2254b3e2db820631d36c1d54fef3be3d', 'message': 'Adds Plan List Action\n\nThis patch adds a mistral action for retrieving a list of tripleo\ndeployment plans.  A tripleo deployment plan consists of a container\nand a mistral environment with the same name.\n\nChange-Id: Ie2d1109d4ca6c04a5e06246e753006a7331041ea\n'}, {'number': 10, 'created': '2016-07-27 16:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4a695a6e5055897cf56a4a9ad1fa7cfb1b2a1efe', 'message': 'Adds Plan List Action\n\nThis patch adds a mistral action for retrieving a list of tripleo\ndeployment plans.  A tripleo deployment plan consists of a container\nand a mistral environment with the same name.\n\nChange-Id: Ie2d1109d4ca6c04a5e06246e753006a7331041ea\n'}, {'number': 11, 'created': '2016-08-03 15:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4d7e12819514cb2526b31f424f62242f4d8a58a1', 'message': 'Adds Plan List Action\n\nThis patch adds a mistral action for retrieving a list of tripleo\ndeployment plans.  A tripleo deployment plan consists of a container\nand a mistral environment with the same name.\n\nChange-Id: Ie2d1109d4ca6c04a5e06246e753006a7331041ea\n'}, {'number': 12, 'created': '2016-08-03 16:00:22.000000000', 'files': ['tripleo_common/tests/actions/test_plan.py', 'setup.cfg', 'tripleo_common/actions/plan.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1e963236c2b3088fa349c1e824a549fac45c914c', 'message': 'Adds Plan List Action\n\nThis patch adds a mistral action for retrieving a list of tripleo\ndeployment plans.  A tripleo deployment plan consists of a container\nand a mistral environment with the same name.\n\nChange-Id: Ie2d1109d4ca6c04a5e06246e753006a7331041ea\nImplements: blueprint plan-list-action\n'}]",14,300221,1e963236c2b3088fa349c1e824a549fac45c914c,79,12,12,8532,,,0,"Adds Plan List Action

This patch adds a mistral action for retrieving a list of tripleo
deployment plans.  A tripleo deployment plan consists of a container
and a mistral environment with the same name.

Change-Id: Ie2d1109d4ca6c04a5e06246e753006a7331041ea
Implements: blueprint plan-list-action
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/21/300221/9 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tripleo_common/actions/plan.py']",2,8a7209321c8588f953bad4d97685ae40c7222713,add-plan-list-messaging," class PlanListAction(base.TripleOAction): def __init__(self, auth_token, auth_uri, tenant_id, username): super(PlanListAction, self).__init__(auth_token, auth_uri, tenant_id, username) def run(self): # plans consist of a container object and mistral environment # with the same name oc = self._get_object_client() mc = self._get_workflow_client() containers = [container['name'] for container in oc.get_account()[1]] return set(containers).intersection( [env.name for env in mc.environments.list()])",,17,0
openstack%2Fkeystone~master~If519692a5b48e563719e8cde5c694edad6e01ef8,openstack/keystone,master,If519692a5b48e563719e8cde5c694edad6e01ef8,[api] add relationship links to v3,MERGED,2016-08-11 19:39:49.000000000,2016-08-12 20:26:54.000000000,2016-08-12 20:26:53.000000000,"[{'_account_id': 3}, {'_account_id': 6482}]","[{'number': 1, 'created': '2016-08-11 19:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f56c7ee1af8ee3a6a901a70f89af0bc8498c9080', 'message': '[api] add relationship links to all routes\n\nNearly all the ""relationship"" links are missing in v3 APIs.\n\nAdded relationship links to v3 API pages.\n\nChange-Id: If519692a5b48e563719e8cde5c694edad6e01ef8\nPartial-Fix: #1609159\n'}, {'number': 2, 'created': '2016-08-11 19:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7adab56f77c9f7f6c827f4cc195b6153c98356df', 'message': '[api] add relationship links to all routes\n\nNearly all the ""relationship"" links are missing in v3 APIs.\n\nAdded relationship links to v3 API pages.\n\nChange-Id: If519692a5b48e563719e8cde5c694edad6e01ef8\nPartial-Bug: #1609159\n'}, {'number': 3, 'created': '2016-08-11 20:18:31.000000000', 'files': ['api-ref/source/v3/groups.inc', 'api-ref/source/v3/regions-v3.inc', 'api-ref/source/v3/domains-config-v3.inc', 'api-ref/source/v3/credentials.inc', 'api-ref/source/v3/policies.inc', 'api-ref/source/v3/users.inc', 'api-ref/source/v3/authenticate-v3.inc', 'api-ref/source/v3/roles.inc', 'api-ref/source/v3/projects.inc', 'api-ref/source/v3/domains.inc', 'api-ref/source/v3/service-catalog.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d36e55578807ca68fbc94d364954f5c73b30c492', 'message': '[api] add relationship links to v3\n\nNearly all the ""relationship"" links are missing in v3 APIs.\n\nAdded relationship links to v3 API pages.\n\nChange-Id: If519692a5b48e563719e8cde5c694edad6e01ef8\nPartial-Bug: #1609159\n'}]",0,354353,d36e55578807ca68fbc94d364954f5c73b30c492,8,2,3,21420,,,0,"[api] add relationship links to v3

Nearly all the ""relationship"" links are missing in v3 APIs.

Added relationship links to v3 API pages.

Change-Id: If519692a5b48e563719e8cde5c694edad6e01ef8
Partial-Bug: #1609159
",git fetch https://review.opendev.org/openstack/keystone refs/changes/53/354353/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/groups.inc', 'api-ref/source/v3/regions-v3.inc', 'api-ref/source/v3/domains-config-v3.inc', 'api-ref/source/v3/credentials.inc', 'api-ref/source/v3/policies.inc', 'api-ref/source/v3/users.inc', 'api-ref/source/v3/authenticate-v3.inc', 'api-ref/source/v3/roles.inc', 'api-ref/source/v3/projects.inc', 'api-ref/source/v3/domains.inc', 'api-ref/source/v3/service-catalog.inc']",11,f56c7ee1af8ee3a6a901a70f89af0bc8498c9080,bug/1609159,Relationship: ``http://docs.openstack.org/api/openstack-identity/3/rel/services`` Relationship: ``http://docs.openstack.org/api/openstack-identity/3/rel/services`` Relationship: ``http://docs.openstack.org/api/openstack-identity/3/rel/endpoints`` Relationship: ``http://docs.openstack.org/api/openstack-identity/3/rel/endpoint`` Relationship: ``http://docs.openstack.org/api/openstack-identity/3/rel/endpoint`` Relationship: ``http://docs.openstack.org/api/openstack-identity/3/rel/endpoints`` Relationship: ``http://docs.openstack.org/api/openstack-identity/3/rel/endpoints`` Relationship: ``http://docs.openstack.org/api/openstack-identity/3/rel/service`` Relationship: ``http://docs.openstack.org/api/openstack-identity/3/rel/services`` Relationship: ``http://docs.openstack.org/api/openstack-identity/3/rel/service`` ,,194,0
openstack%2Fnova~master~I7b74c4bb4a3edc335523c62ec63e57fdd5c51f39,openstack/nova,master,I7b74c4bb4a3edc335523c62ec63e57fdd5c51f39,config options: improve help text of database (related) options (2/2),MERGED,2016-05-23 16:30:46.000000000,2016-08-12 20:26:39.000000000,2016-08-11 17:25:59.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11303}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19590}]","[{'number': 1, 'created': '2016-05-23 16:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c4c1d5f56df53c204a6fdfe9f907cf5913a1b7f', 'message': 'config options: improve help text of database (related) options (2/3)\n\nThis change introduces a group for the api database section and changes\nthe code format of the single config options to have an easy diff for the\nnext patch in this series which improves the help texts of the options.\n\nbp centralize-config-options-newton\n\nChange-Id: I7b74c4bb4a3edc335523c62ec63e57fdd5c51f39\n'}, {'number': 2, 'created': '2016-08-08 15:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72eaee4cc76942e5efb385126300db9f46376ab3', 'message': 'config options: improve help text of database (related) options (2/2)\n\nThis change introduces a group for the api database section and reuses\nthe help texts of the generic DB config opts. Appending API DB specific\nhelp texts is also possible. As we copy the help texts, the pep8 check\nwhich detects too short help texts has to be deactivated for that.\n\nAn alternative would have been to deepclone the generic DB config opts,\nbut that would make our lives harder when we need to deprecate those\ncloned API DB opts.\n\nbp centralize-config-options-newton\n\nChange-Id: I7b74c4bb4a3edc335523c62ec63e57fdd5c51f39\n'}, {'number': 3, 'created': '2016-08-10 08:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59254e87581746b858f6cbd9ecc0ad9e9bfc342a', 'message': 'config options: improve help text of database (related) options (2/2)\n\nThis change introduces a group for the api database section and reuses\nthe help texts of the generic DB config opts. Appending API DB specific\nhelp texts is also possible. As we copy the help texts, the pep8 check\nwhich detects too short help texts has to be deactivated for that.\n\nAn alternative would have been to deepclone the generic DB config opts,\nbut that would make our lives harder when we need to deprecate those\ncloned API DB opts.\n\nbp centralize-config-options-newton\n\nChange-Id: I7b74c4bb4a3edc335523c62ec63e57fdd5c51f39\n'}, {'number': 4, 'created': '2016-08-11 12:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a79a4fa172d99b63cf959981b4a2606e474286a1', 'message': 'config options: improve help text of database (related) options (2/2)\n\nThis change introduces a group for the api database section and reuses\nthe help texts of the generic DB config opts. Appending API DB specific\nhelp texts is also possible. As we copy the help texts, the pep8 check\nwhich detects too short help texts has to be deactivated for that.\n\nAn alternative would have been to deepclone the generic DB config opts,\nbut that would make our lives harder when we need to deprecate those\ncloned API DB opts.\n\nbp centralize-config-options-newton\n\nChange-Id: I7b74c4bb4a3edc335523c62ec63e57fdd5c51f39\n'}, {'number': 5, 'created': '2016-08-11 12:23:49.000000000', 'files': ['nova/conf/database.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c5b02421a6015d266f56a1dc817f007e37b6ebff', 'message': 'config options: improve help text of database (related) options (2/2)\n\nThis change introduces a group for the api database section and reuses\nthe help texts of the generic DB config opts. Appending API DB specific\nhelp texts is also possible. As we copy the help texts, the pep8 check\nwhich detects too short help texts has to be deactivated for that.\n\nAn alternative would have been to deepclone the generic DB config opts,\nbut that would make our lives harder when we need to deprecate those\ncloned API DB opts.\n\nbp centralize-config-options-newton\n\nChange-Id: I7b74c4bb4a3edc335523c62ec63e57fdd5c51f39\n'}]",18,320043,c5b02421a6015d266f56a1dc817f007e37b6ebff,71,21,5,11303,,,0,"config options: improve help text of database (related) options (2/2)

This change introduces a group for the api database section and reuses
the help texts of the generic DB config opts. Appending API DB specific
help texts is also possible. As we copy the help texts, the pep8 check
which detects too short help texts has to be deactivated for that.

An alternative would have been to deepclone the generic DB config opts,
but that would make our lives harder when we need to deprecate those
cloned API DB opts.

bp centralize-config-options-newton

Change-Id: I7b74c4bb4a3edc335523c62ec63e57fdd5c51f39
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/320043/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/database.py'],1,7c4c1d5f56df53c204a6fdfe9f907cf5913a1b7f,bp/centralize-config-options-newton,"api_db_group = cfg.OptGroup('api_database', title='API Database Options', help="""""" The *Nova API Database* is a separate database which is used for information which is used across *cells*. This database is mandatory since the Mitaka release (13.0.0). """""") connection_opt = cfg.StrOpt('connection', secret=True, help='The SQLAlchemy connection string to use to connect to ' 'the Nova API database.') sqlite_synchronous_opt = cfg.BoolOpt('sqlite_synchronous', default=True, help='If True, SQLite uses synchronous mode.') slave_conn_opt = cfg.StrOpt('slave_connection', secret=True, help='The SQLAlchemy connection string to use to connect to the' ' slave database.') mysql_sql_mode_opt = cfg.StrOpt('mysql_sql_mode', default='TRADITIONAL', help='The SQL mode to be used for MySQL sessions. ' 'This option, including the default, overrides any ' 'server-set SQL mode. To use whatever SQL mode ' 'is set by the server configuration, ' 'set this to no value. Example: mysql_sql_mode=') idle_timeout_opt = cfg.IntOpt('idle_timeout', default=3600, help='Timeout before idle SQL connections are reaped.') max_pool_size_opt = cfg.IntOpt('max_pool_size', help='Maximum number of SQL connections to keep open in a ' 'pool.') max_retries_opt = cfg.IntOpt('max_retries', default=10, help='Maximum number of database connection retries ' 'during startup. Set to -1 to specify an infinite ' 'retry count.') retry_interval_opt = cfg.IntOpt('retry_interval', default=10, help='Interval between retries of opening a SQL connection.') max_overflow_opt = cfg.IntOpt('max_overflow', help='If set, use this value for max_overflow with ' 'SQLAlchemy.') connection_debug_opt = cfg.IntOpt('connection_debug', default=0, help='Verbosity of SQL debugging information: 0=None, ' '100=Everything.') connection_trace_opt = cfg.BoolOpt('connection_trace', default=False, help='Add Python stack traces to SQL as comment strings.') pool_timeout_opt = cfg.IntOpt('pool_timeout', help='If set, use this value for pool_timeout with ' 'SQLAlchemy.') api_db_opts = [connection_opt, sqlite_synchronous_opt, slave_conn_opt, mysql_sql_mode_opt, idle_timeout_opt, max_pool_size_opt, max_retries_opt, retry_interval_opt, max_overflow_opt, connection_debug_opt, connection_trace_opt, pool_timeout_opt, ] conf.register_opts(api_db_opts, group=api_db_group) api_db_group: api_db_opts,","api_db_opts = [ cfg.StrOpt('connection', help='The SQLAlchemy connection string to use to connect to ' 'the Nova API database.', secret=True), cfg.BoolOpt('sqlite_synchronous', default=True, help='If True, SQLite uses synchronous mode.'), cfg.StrOpt('slave_connection', secret=True, help='The SQLAlchemy connection string to use to connect to the' ' slave database.'), cfg.StrOpt('mysql_sql_mode', default='TRADITIONAL', help='The SQL mode to be used for MySQL sessions. ' 'This option, including the default, overrides any ' 'server-set SQL mode. To use whatever SQL mode ' 'is set by the server configuration, ' 'set this to no value. Example: mysql_sql_mode='), cfg.IntOpt('idle_timeout', default=3600, help='Timeout before idle SQL connections are reaped.'), cfg.IntOpt('max_pool_size', help='Maximum number of SQL connections to keep open in a ' 'pool.'), cfg.IntOpt('max_retries', default=10, help='Maximum number of database connection retries ' 'during startup. Set to -1 to specify an infinite ' 'retry count.'), cfg.IntOpt('retry_interval', default=10, help='Interval between retries of opening a SQL connection.'), cfg.IntOpt('max_overflow', help='If set, use this value for max_overflow with ' 'SQLAlchemy.'), cfg.IntOpt('connection_debug', default=0, help='Verbosity of SQL debugging information: 0=None, ' '100=Everything.'), cfg.BoolOpt('connection_trace', default=False, help='Add Python stack traces to SQL as comment strings.'), cfg.IntOpt('pool_timeout', help='If set, use this value for pool_timeout with ' 'SQLAlchemy.'), ] conf.register_opts(api_db_opts, group='api_database') 'api_database': api_db_opts,",80,49
openstack%2Fkeystone~master~I2f5471e80cddc205242450a21d3ff1b2b9f51d3d,openstack/keystone,master,I2f5471e80cddc205242450a21d3ff1b2b9f51d3d,Implement encryptin of credentials at rest,ABANDONED,2016-08-12 20:05:54.000000000,2016-08-12 20:26:00.000000000,,[{'_account_id': 5046}],"[{'number': 1, 'created': '2016-08-12 20:05:54.000000000', 'files': ['keystone/cmd/cli.py', 'keystone/tests/unit/test_v3_credential.py', 'keystone/conf/credential.py', 'keystone/server/backends.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c75f91c8c3375e41af72dae9d002e29bbd5d8537', 'message': 'Implement encryptin of credentials at rest\n\nChange-Id: I2f5471e80cddc205242450a21d3ff1b2b9f51d3d\nCo-Authored-By: Werner Mendizabal <nonameentername@gmail.com>\n'}]",0,355057,c75f91c8c3375e41af72dae9d002e29bbd5d8537,3,1,1,5046,,,0,"Implement encryptin of credentials at rest

Change-Id: I2f5471e80cddc205242450a21d3ff1b2b9f51d3d
Co-Authored-By: Werner Mendizabal <nonameentername@gmail.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/57/355057/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/cmd/cli.py', 'keystone/tests/unit/test_v3_credential.py', 'keystone/conf/credential.py', 'keystone/server/backends.py', 'setup.cfg']",5,c75f91c8c3375e41af72dae9d002e29bbd5d8537,bp/credential-encryption,keystone.credential.provider = fernet = keystone.credential.providers.fernet:Provider ,,199,8
openstack%2Fcinder~master~I267d2de63e9eca293e4165467f456ed51661cc3f,openstack/cinder,master,I267d2de63e9eca293e4165467f456ed51661cc3f,Do not use utils.convert_str in API,ABANDONED,2016-08-11 15:26:25.000000000,2016-08-12 20:22:14.000000000,,"[{'_account_id': 7173}, {'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13394}, {'_account_id': 15296}, {'_account_id': 19852}, {'_account_id': 22126}]","[{'number': 1, 'created': '2016-08-11 15:26:25.000000000', 'files': ['cinder/api/openstack/wsgi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f97627780d1a3416214d511e446b62e1721cafd6', 'message': ""Do not use utils.convert_str in API\n\nutils.convert_str is supposed to be used only in RBD drivers. Path\nI77aad9f8ddd1b7175ee1521a43d16511059a9ad0 moves it to os-brick because\nit's needed there too.\n\nIt's logically wrong to use driver-only method in API. We could move it\nto the oslo.utils if more projects will require it to avoid copy-paste\nissues.\n\nRelated-Bug: #1612290\nChange-Id: I267d2de63e9eca293e4165467f456ed51661cc3f\n""}]",1,354156,f97627780d1a3416214d511e446b62e1721cafd6,9,8,1,1736,,,0,"Do not use utils.convert_str in API

utils.convert_str is supposed to be used only in RBD drivers. Path
I77aad9f8ddd1b7175ee1521a43d16511059a9ad0 moves it to os-brick because
it's needed there too.

It's logically wrong to use driver-only method in API. We could move it
to the oslo.utils if more projects will require it to avoid copy-paste
issues.

Related-Bug: #1612290
Change-Id: I267d2de63e9eca293e4165467f456ed51661cc3f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/354156/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/openstack/wsgi.py'],1,f97627780d1a3416214d511e446b62e1721cafd6,bug/1612290," if six.PY2: val = encodeutils.to_utf8(val) else: if isinstance(val, bytes): val = val.decode('utf-8')", val = utils.convert_str(val),5,1
openstack%2Fnova~master~I5caeff8bcb5f0b63f5ec4e79ab5f6cde16ae018f,openstack/nova,master,I5caeff8bcb5f0b63f5ec4e79ab5f6cde16ae018f,config options: improve help text of database (related) options (1/2),MERGED,2016-04-04 16:54:01.000000000,2016-08-12 20:19:36.000000000,2016-08-11 15:48:59.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11303}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18337}, {'_account_id': 19590}]","[{'number': 1, 'created': '2016-04-04 16:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78b50ddfdc6f3d9d346010c88a573663b6e05d67', 'message': 'config options: Enhance (api_)database options help texts (1/3)\n\nThis change enhances the help texts of config options related\nto ""api_database"" and ""database"". The enhancement of the help texts\nhappens in 3 changes. This is change 1 of 3.\n\nbp centralize-config-options-newton\n\nChange-Id: I5caeff8bcb5f0b63f5ec4e79ab5f6cde16ae018f\n'}, {'number': 2, 'created': '2016-04-05 14:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd53612990e149c6c52707239ebb3fa41b3a3313', 'message': 'config options: Enhance (api_)database options help texts (1/3)\n\nThis change enhances the help texts of config options related\nto ""api_database"" and ""database"". The enhancement of the help texts\nhappens in 3 changes. This is change 1 of 3.\n\nbp centralize-config-options-newton\n\nChange-Id: I5caeff8bcb5f0b63f5ec4e79ab5f6cde16ae018f\n'}, {'number': 3, 'created': '2016-05-03 16:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18d9192a007d63cf316df5535cd1e7485366d5fd', 'message': 'config options: improve help text of database (related) options (1/3)\n\nThis change enhances the help texts of the database related config\noptions. They are in the ""DEFAULT"" section of the ""nova.conf"" and\nget used on the DB layer but describe a usage on the ""compute"" level.\nThey should probably live in another section than ""DEFAULT"".\n\nbp centralize-config-options-newton\n\nChange-Id: I5caeff8bcb5f0b63f5ec4e79ab5f6cde16ae018f'}, {'number': 4, 'created': '2016-05-06 15:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/450163b247e710e77da05bb96f66321933e89d5c', 'message': 'config options: improve help text of database (related) options (1/3)\n\nThis change enhances the help texts of the database related config\noptions. They are in the ""DEFAULT"" section of the ""nova.conf"" and\nget used on the DB layer but describe a usage on the ""compute"" level.\nThey should probably live in another section than ""DEFAULT"".\n\nbp centralize-config-options-newton\n\nChange-Id: I5caeff8bcb5f0b63f5ec4e79ab5f6cde16ae018f'}, {'number': 5, 'created': '2016-05-10 17:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e77d0d31c88a157c0342b73c69beeb9297c7b4c', 'message': 'config options: improve help text of database (related) options (1/3)\n\nThis change enhances the help texts of the database related config\noptions. They are in the ""DEFAULT"" section of the ""nova.conf"" and\nget used on the DB layer but describe a usage on the ""compute"" level.\nThey should probably live in another section than ""DEFAULT"".\n\nbp centralize-config-options-newton\n\nChange-Id: I5caeff8bcb5f0b63f5ec4e79ab5f6cde16ae018f'}, {'number': 6, 'created': '2016-05-17 17:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0413c2452e283bdd17b3b3968faba60b310922e', 'message': 'config options: improve help text of database (related) options (1/3)\n\nThis change enhances the help texts of the database related config\noptions. They are in the ""DEFAULT"" section of the ""nova.conf"" and\nget used on the DB layer but describe a usage on the ""compute"" level.\nThey should probably live in another section than ""DEFAULT"".\n\nbp centralize-config-options-newton\n\nChange-Id: I5caeff8bcb5f0b63f5ec4e79ab5f6cde16ae018f\n'}, {'number': 7, 'created': '2016-05-23 16:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e204e0646f584a99054ab4bba13767be50d199b', 'message': 'config options: improve help text of database (related) options (1/3)\n\nThis change enhances the help texts of the database related config\noptions. They are in the ""DEFAULT"" section of the ""nova.conf"" and\nget used on the DB layer but describe a usage on the ""compute"" level.\nThey should probably live in another section than ""DEFAULT"".\n\nbp centralize-config-options-newton\n\nChange-Id: I5caeff8bcb5f0b63f5ec4e79ab5f6cde16ae018f\n'}, {'number': 8, 'created': '2016-08-08 15:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d600f495d8ce256fbfd8c1632e7a783280963e1', 'message': 'config options: improve help text of database (related) options (1/2)\n\nThis change enhances the help texts of the database related config\noptions. They are in the ""DEFAULT"" section of the ""nova.conf"" and\nget used on the DB layer but describe a usage on the ""compute"" level.\nThey should probably live in another section than ""DEFAULT"".\n\nbp centralize-config-options-newton\n\nChange-Id: I5caeff8bcb5f0b63f5ec4e79ab5f6cde16ae018f\n'}, {'number': 9, 'created': '2016-08-10 08:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aec47d3cc5b9c5ed6b8c12ea8e5d21537bcf6350', 'message': 'config options: improve help text of database (related) options (1/2)\n\nThis change enhances the help texts of the database related config\noptions. They are in the ""DEFAULT"" section of the ""nova.conf"" and\nget used on the DB layer but describe a usage on the ""compute"" level.\nThey should probably live in another section than ""DEFAULT"".\n\nbp centralize-config-options-newton\n\nChange-Id: I5caeff8bcb5f0b63f5ec4e79ab5f6cde16ae018f\n'}, {'number': 10, 'created': '2016-08-11 12:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2edd4d526c6d35755452480d6eb26891544db957', 'message': 'config options: improve help text of database (related) options (1/2)\n\nThis change enhances the help texts of the database related config\noptions. They are in the ""DEFAULT"" section of the ""nova.conf"" and\nget used on the DB layer but describe a usage on the ""compute"" level.\nThey should probably live in another section than ""DEFAULT"".\n\nbp centralize-config-options-newton\n\nChange-Id: I5caeff8bcb5f0b63f5ec4e79ab5f6cde16ae018f\n'}, {'number': 11, 'created': '2016-08-11 12:23:49.000000000', 'files': ['nova/conf/compute.py', 'releasenotes/notes/deprecate-snapshot-name-template-46966b0f5e6cabeb.yaml', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aeee4547b80013564e634cb7c1bde63f3c55d1f1', 'message': 'config options: improve help text of database (related) options (1/2)\n\nThis change enhances the help texts of the database related config\noptions. They are in the ""DEFAULT"" section of the ""nova.conf"" and\nget used on the DB layer but describe a usage on the ""compute"" level.\nThey should probably live in another section than ""DEFAULT"".\n\nbp centralize-config-options-newton\n\nChange-Id: I5caeff8bcb5f0b63f5ec4e79ab5f6cde16ae018f\n'}]",50,301238,aeee4547b80013564e634cb7c1bde63f3c55d1f1,154,23,11,11303,,,0,"config options: improve help text of database (related) options (1/2)

This change enhances the help texts of the database related config
options. They are in the ""DEFAULT"" section of the ""nova.conf"" and
get used on the DB layer but describe a usage on the ""compute"" level.
They should probably live in another section than ""DEFAULT"".

bp centralize-config-options-newton

Change-Id: I5caeff8bcb5f0b63f5ec4e79ab5f6cde16ae018f
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/301238/10 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/api_database.py'],1,78b50ddfdc6f3d9d346010c88a573663b6e05d67,bp/centralize-config-options-newton," enable_new_services_opt = cfg.BoolOpt('enable_new_services', default=True, help=""""""Enable new services on this host automatically. When a new service (for example ""nova-compute"") gets started, it gets registered in the database as an enabled service. Sometimes it can be useful to register new services in an disabled state to enabled them in a later point in time. This option can set this behavior for all services per host. Possible values: * ``True``: Each new service is enabled as soon as it registers itself. * ``False``: Services must be enabled via a REST API call or with the CLI with ``nova service-enable <hostname> <binary>``, otherwise they are not ready to use. Services which consume this: * All on this host. Related options: * None """""") # TODO(markus_z): 2016-04-04: This got introduced with commit 48fc6611d1 # without any specified use-case. Maybe we can deprecate and # drop it after we asked the ops how important it is for them. instance_name_template_opt = cfg.StrOpt('instance_name_template', default='instance-%08x', help=""""""Template string to be used to generate instance names. This template controls the creation of the database name of an instance. This is *not* the display name you enter when creating an instance (via Horizon or CLI). It is very unlikely that you have to change this option. Possible values: * It is a string which either used the instance database ID (like the default) * or a string with a list of named database columns, for example ``%(id)d`` or ``%(uuid)s`` or ``%(hostname)s``. Services which consume this: * nova-compute Related options: * ``multi_instance_display_name_template``: That option controls the creation of the ""display name"" of simultaneously launched instances and shouldn't be confused with this one here. """""") # TODO(markus_z): 2016-04-04: This is not used anymore. The class # ""models.Snapshot"" uses it but this class is not used anymore. # This class got introduced with commit 0ba0859 but all calls # to it got removed with commit 5d197cb. This cleanup must # have missed the class ""models.Snapshot"" and a new change # should remove it completely. snapshot_name_template_opt = cfg.StrOpt('snapshot_name_template', default='snapshot-%s', help=""""""DEPRECATED: Template string to be used to generate snapshot names"""""", deprecated_for_removal=True, deprecated_reason=""""""This is not used anymore and will be removed in the O release."""""" ) # TODO(markus_z): 2016-04-04: A new patch set should make use of the ""choices"" # attribute of ""oslo.config"". A reno file is then necessary # too. Example: ``choices = ['', 'project', 'global']`` unique_server_name_scope_opt = \ default='', help="""""" Sets the scope of the check for unique instance names. The default doesn't check for unique names. If a scope for the name check is set, a launch of a new instance or an update of an existing instance with a duplicate name will result in an ''InstanceExists'' error. The uniqueness is case-insensitive. Setting this option can increase the usability for end users as they don't have to distinguish among instances with the same name by their IDs. Possible values: * '': An empty value means that no uniqueness check is done and duplicate names are possible. * ""project"": The instance name check is done only for instances within the same project. * ""global"": The instance name check is done for all instances regardless of the project. Services which consume this: * nova-compute * nova-cells Related options: * None """""") DEFAULT_OPTS = [enable_new_services_opt, instance_name_template_opt, snapshot_name_template_opt, unique_server_name_scope_opt, ]","db_api_opts = [ cfg.BoolOpt('enable_new_services', default=True, help='Services to be added to the available pool on create'), cfg.StrOpt('instance_name_template', default='instance-%08x', help='Template string to be used to generate instance names'), cfg.StrOpt('snapshot_name_template', default='snapshot-%s', help='Template string to be used to generate snapshot names'), ] db_opts = [ default='', help='When set, compute API will consider duplicate hostnames ' 'invalid within the specified scope, regardless of case. ' 'Should be empty, ""project"" or ""global"".'), ] DEFAULT_OPTS = db_api_opts + db_opts",108,18
openstack%2Fcookiecutter~master~I742a2ac1140cdc69feb1f61aef89c7f03b4ed3c7,openstack/cookiecutter,master,I742a2ac1140cdc69feb1f61aef89c7f03b4ed3c7,don't need to omit this as oslo libs are now used,MERGED,2016-08-02 20:02:25.000000000,2016-08-12 20:17:55.000000000,2016-08-12 20:17:55.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 9796}]","[{'number': 1, 'created': '2016-08-02 20:02:25.000000000', 'files': ['{{cookiecutter.repo_name}}/.coveragerc'], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/3ff0a503960fb04b05fd5aaaf8b1400a325f2224', 'message': ""don't need to omit this as oslo libs are now used\n\nChange-Id: I742a2ac1140cdc69feb1f61aef89c7f03b4ed3c7\n""}]",0,350251,3ff0a503960fb04b05fd5aaaf8b1400a325f2224,7,3,1,4395,,,0,"don't need to omit this as oslo libs are now used

Change-Id: I742a2ac1140cdc69feb1f61aef89c7f03b4ed3c7
",git fetch https://review.opendev.org/openstack/cookiecutter refs/changes/51/350251/1 && git format-patch -1 --stdout FETCH_HEAD,['{{cookiecutter.repo_name}}/.coveragerc'],1,3ff0a503960fb04b05fd5aaaf8b1400a325f2224,,,omit = {{cookiecutter.module_name}}/openstack/*,0,1
openstack%2Fnova~master~I0861c94f764d559be8f188d3e4b54b2b8ad39ea5,openstack/nova,master,I0861c94f764d559be8f188d3e4b54b2b8ad39ea5,Remove hacking check [N347] for config options.,MERGED,2016-08-08 15:07:37.000000000,2016-08-12 20:14:30.000000000,2016-08-11 14:06:21.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 679}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11303}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-08-08 15:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9e26d331aa9c2afbbacd95ab9b7dd1ae0da6b2e', 'message': 'pep8: allow skipping of help text length check with #noqa\n\nChange-Id: I0861c94f764d559be8f188d3e4b54b2b8ad39ea5\n'}, {'number': 2, 'created': '2016-08-10 08:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6cbff73f017e8b7440181dc548e49b7d9f420407', 'message': 'pep8: allow skipping of help text length check with #noqa\n\nChange-Id: I0861c94f764d559be8f188d3e4b54b2b8ad39ea5\n'}, {'number': 3, 'created': '2016-08-11 12:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fd7151d8b1bb7437718b0de1564fa1baee45eab', 'message': 'Remove hacking checks [N342] + [N347] for config options.\n\nThese hacking checks seemed like a good idea back then but it turned\nout they don\'t help a lot. The config options are now all moved to\n""nova/conf/"" (N342) and the check for help texts (N347) can be better\ndone by humans.\n\nChange-Id: I0861c94f764d559be8f188d3e4b54b2b8ad39ea5\n'}, {'number': 4, 'created': '2016-08-11 12:23:49.000000000', 'files': ['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b0e7dacf5e5a6f79cacef72fd26e55a30b5ae04', 'message': 'Remove hacking check [N347] for config options.\n\nThe check for help texts (N347) can be better done by humans.\nThis change removes it.\n\nChange-Id: I0861c94f764d559be8f188d3e4b54b2b8ad39ea5\n'}]",4,352473,0b0e7dacf5e5a6f79cacef72fd26e55a30b5ae04,52,18,4,11303,,,0,"Remove hacking check [N347] for config options.

The check for help texts (N347) can be better done by humans.
This change removes it.

Change-Id: I0861c94f764d559be8f188d3e4b54b2b8ad39ea5
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/352473/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py']",2,d9e26d331aa9c2afbbacd95ab9b7dd1ae0da6b2e,," # Doesn't have help text at all but pep8 noqa flag code10 = """""" opt = cfg.StrOpt(""opt1"") # noqa """""" self._assert_has_no_errors(code10, checks.cfg_help_with_enough_text) ",,10,1
openstack%2Fneutron~master~I3d0d28f4a468345f6cd45f36437d90e76b3f1a8c,openstack/neutron,master,I3d0d28f4a468345f6cd45f36437d90e76b3f1a8c,py35: Change error message,ABANDONED,2016-03-18 03:16:23.000000000,2016-08-12 20:11:20.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7037}, {'_account_id': 8124}, {'_account_id': 9681}, {'_account_id': 13252}, {'_account_id': 14208}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 15752}, {'_account_id': 19726}, {'_account_id': 20991}]","[{'number': 1, 'created': '2016-03-18 03:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9019d43a3225782d21bc8aaa85e933f73190c42a', 'message': 'py35: Change error message\n\nPython 3.5 has changed the message error what affects a single unit\ntest.  This change fixes this particular escenario.\n\nChange-Id: I3d0d28f4a468345f6cd45f36437d90e76b3f1a8c\n'}, {'number': 2, 'created': '2016-03-18 15:48:57.000000000', 'files': ['neutron/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6daaeac60bdcff4d704074120585d5287cb3907', 'message': 'py35: Change error message\n\nPython 3.5 has changed the message error what affects a single unit\ntest.  This change fixes this particular escenario.\n\nChange-Id: I3d0d28f4a468345f6cd45f36437d90e76b3f1a8c\nCloses-Bug: #1559191\n'}]",3,294377,f6daaeac60bdcff4d704074120585d5287cb3907,23,13,2,8726,,,0,"py35: Change error message

Python 3.5 has changed the message error what affects a single unit
test.  This change fixes this particular escenario.

Change-Id: I3d0d28f4a468345f6cd45f36437d90e76b3f1a8c
Closes-Bug: #1559191
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/294377/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/common/test_utils.py'],1,9019d43a3225782d21bc8aaa85e933f73190c42a,bug/1559191,"import sys if sys.version[:3] == '3.5': _err_too_few = ""' - 'not enough values to unpack (expected 3, got 2)'.""",,3,0
openstack%2Fpython-mistralclient~master~I22c5671be714c0e0ca31a779b093e8d8fab448c5,openstack/python-mistralclient,master,I22c5671be714c0e0ca31a779b093e8d8fab448c5,Updated from global requirements,MERGED,2016-08-11 18:17:59.000000000,2016-08-12 20:08:58.000000000,2016-08-12 20:08:58.000000000,"[{'_account_id': 3}, {'_account_id': 8731}]","[{'number': 1, 'created': '2016-08-11 18:17:59.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/775c730204b014358eeb2f66e9bd8682e3e3b367', 'message': 'Updated from global requirements\n\nChange-Id: I22c5671be714c0e0ca31a779b093e8d8fab448c5\n'}]",0,354312,775c730204b014358eeb2f66e9bd8682e3e3b367,16,2,1,11131,,,0,"Updated from global requirements

Change-Id: I22c5671be714c0e0ca31a779b093e8d8fab448c5
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/12/354312/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,775c730204b014358eeb2f66e9bd8682e3e3b367,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Fswift~master~I625c25a8a5698d98174603c6fa2b42391471c03d,openstack/swift,master,I625c25a8a5698d98174603c6fa2b42391471c03d,modify the home-page info with the developer documentation,MERGED,2016-07-29 03:34:28.000000000,2016-08-12 20:08:48.000000000,2016-08-12 20:08:48.000000000,"[{'_account_id': 3}, {'_account_id': 9625}]","[{'number': 1, 'created': '2016-07-29 03:34:28.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/eb535904bac7c9f8a73b672471dd01f5971716a1', 'message': 'modify the home-page info with the developer documentation\n\nupdate home-page info\n\nChange-Id: I625c25a8a5698d98174603c6fa2b42391471c03d\n'}]",0,348711,eb535904bac7c9f8a73b672471dd01f5971716a1,6,2,1,22484,,,0,"modify the home-page info with the developer documentation

update home-page info

Change-Id: I625c25a8a5698d98174603c6fa2b42391471c03d
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/348711/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,eb535904bac7c9f8a73b672471dd01f5971716a1,bug/10010024,home-page = http://docs.openstack.org/developer/swift/,home-page = http://www.openstack.org/,1,1
openstack%2Fproject-config~master~Id564d56329f4d352edba6ccedb99b687f5f52c6a,openstack/project-config,master,Id564d56329f4d352edba6ccedb99b687f5f52c6a,Remove grenade from designate stable branches,MERGED,2016-08-12 18:20:13.000000000,2016-08-12 20:03:07.000000000,2016-08-12 20:03:07.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6316}]","[{'number': 1, 'created': '2016-08-12 18:20:13.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b87de45042c0434e26a337565b71938c1fb286e7', 'message': 'Remove grenade from designate stable branches\n\nChange-Id: Id564d56329f4d352edba6ccedb99b687f5f52c6a\n'}]",0,354888,b87de45042c0434e26a337565b71938c1fb286e7,8,3,1,8099,,,0,"Remove grenade from designate stable branches

Change-Id: Id564d56329f4d352edba6ccedb99b687f5f52c6a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/88/354888/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,b87de45042c0434e26a337565b71938c1fb286e7,skip-grenade-stable-branches, - name: ^gate-grenade-dsvm-designate-.*$ branch: ^(?!stable/(liberty|mitaka)).*$ ,,3,0
openstack%2Foslotest~master~I051138f73e0416f78f2f0be909e1b570fb9c9786,openstack/oslotest,master,I051138f73e0416f78f2f0be909e1b570fb9c9786,Updated from global requirements,MERGED,2016-08-04 02:41:04.000000000,2016-08-12 19:56:52.000000000,2016-08-12 19:56:52.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2016-08-04 02:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslotest/commit/4f699da3f4629bae1fccbadc85f3a3a4e055e5f4', 'message': 'Updated from global requirements\n\nChange-Id: I051138f73e0416f78f2f0be909e1b570fb9c9786\n'}, {'number': 2, 'created': '2016-08-05 20:27:21.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/619ee741612549c2313c98414a4656b1187a1a6d', 'message': 'Updated from global requirements\n\nChange-Id: I051138f73e0416f78f2f0be909e1b570fb9c9786\n'}]",0,350920,619ee741612549c2313c98414a4656b1187a1a6d,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: I051138f73e0416f78f2f0be909e1b570fb9c9786
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/20/350920/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4f699da3f4629bae1fccbadc85f3a3a4e055e5f4,openstack/requirements,oslo.config>=3.14.0 # Apache-2.0,oslo.config>=3.12.0 # Apache-2.0,1,1
openstack%2Fpuppet-openstack-cookiecutter~master~I1e2fe66e22eb37ed19e037ad572622b81ccd379f,openstack/puppet-openstack-cookiecutter,master,I1e2fe66e22eb37ed19e037ad572622b81ccd379f,Move other-requirements.txt to bindep.txt,MERGED,2016-08-12 19:09:50.000000000,2016-08-12 19:55:57.000000000,2016-08-12 19:55:56.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-08-12 19:09:50.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/a3606e45a3eca1d6c8762b4e2b571e364f1ece34', 'message': 'Move other-requirements.txt to bindep.txt\n\nThe default filename for documenting binary dependencies has been\nchanged from ""other-requirements.txt"" to ""bindep.txt"" with the release\nof bindep 2.1.0. While the previous name is still supported, it will\nbe deprecated.\n\nMove the file around to follow this change.\n\nNote that this change is self-testing, the OpenStack CI infrastructure\nwill use a ""bindep.txt"" file to setup nodes for testing.\n\nFor more information about bindep, see also:\nhttp://docs.openstack.org/infra/manual/drivers.html#package-requirements\nhttp://docs.openstack.org/infra/bindep/\n\nAs well as this announcement:\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-August/101590.html\n\nChange-Id: I1e2fe66e22eb37ed19e037ad572622b81ccd379f\n'}]",0,354994,a3606e45a3eca1d6c8762b4e2b571e364f1ece34,7,3,1,6547,,,0,"Move other-requirements.txt to bindep.txt

The default filename for documenting binary dependencies has been
changed from ""other-requirements.txt"" to ""bindep.txt"" with the release
of bindep 2.1.0. While the previous name is still supported, it will
be deprecated.

Move the file around to follow this change.

Note that this change is self-testing, the OpenStack CI infrastructure
will use a ""bindep.txt"" file to setup nodes for testing.

For more information about bindep, see also:
http://docs.openstack.org/infra/manual/drivers.html#package-requirements
http://docs.openstack.org/infra/bindep/

As well as this announcement:
http://lists.openstack.org/pipermail/openstack-dev/2016-August/101590.html

Change-Id: I1e2fe66e22eb37ed19e037ad572622b81ccd379f
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/94/354994/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,a3606e45a3eca1d6c8762b4e2b571e364f1ece34,bindep-mv,,,0,0
openstack%2Fopenstack-ansible-security~master~I0848e8f4e8bdbacf5bf8a2dda0615c0faba736d4,openstack/openstack-ansible-security,master,I0848e8f4e8bdbacf5bf8a2dda0615c0faba736d4,Add python-apt for check mode,MERGED,2016-08-11 21:04:00.000000000,2016-08-12 19:55:29.000000000,2016-08-12 19:55:29.000000000,"[{'_account_id': 3}, {'_account_id': 7414}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 21:04:00.000000000', 'files': ['run_tests.sh', 'other-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-security/commit/8d2cde75af1b299a6d5fc550899edd89723c504d', 'message': 'Add python-apt for check mode\n\nAnsible 2.x requires the python-apt package for check mode to work\nproperly. This patch ensures that the package is installed for the\ngate as well as individual testers.\n\nChange-Id: I0848e8f4e8bdbacf5bf8a2dda0615c0faba736d4\n'}]",0,354398,8d2cde75af1b299a6d5fc550899edd89723c504d,10,3,1,538,,,0,"Add python-apt for check mode

Ansible 2.x requires the python-apt package for check mode to work
properly. This patch ensures that the package is installed for the
gate as well as individual testers.

Change-Id: I0848e8f4e8bdbacf5bf8a2dda0615c0faba736d4
",git fetch https://review.opendev.org/openstack/openstack-ansible-security refs/changes/98/354398/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'other-requirements.txt']",2,8d2cde75af1b299a6d5fc550899edd89723c504d,, # For check mode on Ubuntu python-apt [platform:dpkg],,4,1
openstack%2Fironic~master~I97ecd4f8e1e48f6a8309bfd9f414624a80e75571,openstack/ironic,master,I97ecd4f8e1e48f6a8309bfd9f414624a80e75571,Updated from global requirements,MERGED,2016-08-12 00:19:15.000000000,2016-08-12 19:54:01.000000000,2016-08-12 15:46:18.000000000,"[{'_account_id': 3}, {'_account_id': 6610}, {'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 14525}, {'_account_id': 17998}]","[{'number': 1, 'created': '2016-08-12 00:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1c2387d3f6bc3d0344b8cc1867ec73865119c9d5', 'message': 'Updated from global requirements\n\nChange-Id: I97ecd4f8e1e48f6a8309bfd9f414624a80e75571\n'}, {'number': 2, 'created': '2016-08-12 04:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/11343b8187e2d19c53ce116569360845aacf0998', 'message': 'Updated from global requirements\n\nChange-Id: I97ecd4f8e1e48f6a8309bfd9f414624a80e75571\n'}, {'number': 3, 'created': '2016-08-12 04:49:32.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d41941c76353b1f10d65b7fa0c57b27d7171cae1', 'message': 'Updated from global requirements\n\nChange-Id: I97ecd4f8e1e48f6a8309bfd9f414624a80e75571\n'}]",0,354453,d41941c76353b1f10d65b7fa0c57b27d7171cae1,16,6,3,11131,,,0,"Updated from global requirements

Change-Id: I97ecd4f8e1e48f6a8309bfd9f414624a80e75571
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/354453/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1c2387d3f6bc3d0344b8cc1867ec73865119c9d5,openstack/requirements,oslo.context>=2.6.0 # Apache-2.0,oslo.context>=2.4.0 # Apache-2.0,1,1
openstack%2Fcookiecutter~master~Ib55006eda96eda2d7d3e347de1337653083e5c5a,openstack/cookiecutter,master,Ib55006eda96eda2d7d3e347de1337653083e5c5a,sync latest requirements.txt,MERGED,2016-08-04 22:26:58.000000000,2016-08-12 19:52:04.000000000,2016-08-12 19:52:04.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2016-08-04 22:26:58.000000000', 'files': ['{{cookiecutter.repo_name}}/test-requirements.txt', '{{cookiecutter.repo_name}}/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/03d1b4f141435de8071ba78026dfe62af280fc48', 'message': 'sync latest requirements.txt\n\nTook me a while to fight getting these things updated. Hopefully this should\nsave someone a little time before they fall out of date again.\n\nChange-Id: Ib55006eda96eda2d7d3e347de1337653083e5c5a\n'}]",0,351417,03d1b4f141435de8071ba78026dfe62af280fc48,6,2,1,4395,,,0,"sync latest requirements.txt

Took me a while to fight getting these things updated. Hopefully this should
save someone a little time before they fall out of date again.

Change-Id: Ib55006eda96eda2d7d3e347de1337653083e5c5a
",git fetch https://review.opendev.org/openstack/cookiecutter refs/changes/17/351417/1 && git format-patch -1 --stdout FETCH_HEAD,"['{{cookiecutter.repo_name}}/test-requirements.txt', '{{cookiecutter.repo_name}}/requirements.txt']",2,03d1b4f141435de8071ba78026dfe62af280fc48,,pbr>=1.6 # Apache-2.0,pbr>=1.6,10,10
openstack%2Fpuppet-ec2api~master~I607a1652468b105543aa3a36dc66b1ec2276ca57,openstack/puppet-ec2api,master,I607a1652468b105543aa3a36dc66b1ec2276ca57,beaker: test more classes,MERGED,2016-08-08 18:33:04.000000000,2016-08-12 19:47:35.000000000,2016-08-12 19:47:35.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7745}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 19173}]","[{'number': 1, 'created': '2016-08-08 18:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/7afe54595734bd438f750d17d335a2fe669fbff3', 'message': 'beaker: test more classes\n\nThis patch aims to improve coverage of Beaker tests and test more\nclasses.\nIt will help us to determine if we can at least start ec2api services\nwith the current state of puppet-ec2api.\n\nChange-Id: I607a1652468b105543aa3a36dc66b1ec2276ca57\n'}, {'number': 2, 'created': '2016-08-08 19:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/bb4204e00a621b51f977f6ebdc3f3940dee7f3ea', 'message': 'beaker: test more classes\n\nThis patch aims to improve coverage of Beaker tests and test more\nclasses.\nIt will help us to determine if we can at least start ec2api services\nwith the current state of puppet-ec2api.\n\nChange-Id: I607a1652468b105543aa3a36dc66b1ec2276ca57\n'}, {'number': 3, 'created': '2016-08-08 22:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/26c34eae13aa66a5c295b8ec848d0f0834b0c9e9', 'message': 'beaker: test more classes\n\nThis patch aims to improve coverage of Beaker tests and test more\nclasses.\nIt will help us to determine if we can at least start ec2api services\nwith the current state of puppet-ec2api.\n\nAlso fix debug duplicated option.\n\nChange-Id: I607a1652468b105543aa3a36dc66b1ec2276ca57\n'}, {'number': 4, 'created': '2016-08-12 13:30:59.000000000', 'files': ['spec/classes/ec2api_api_spec.rb', 'manifests/api.pp', 'spec/acceptance/basic_ec2api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/8274047f52ccd518e1027943423ae61f94944c2d', 'message': 'beaker: test more classes\n\nThis patch aims to improve coverage of Beaker tests and test more\nclasses.\nIt will help us to determine if we can at least start ec2api services\nwith the current state of puppet-ec2api.\n\nAlso fix debug duplicated option.\n\nChange-Id: I607a1652468b105543aa3a36dc66b1ec2276ca57\n'}]",0,352552,8274047f52ccd518e1027943423ae61f94944c2d,17,6,4,3153,,,0,"beaker: test more classes

This patch aims to improve coverage of Beaker tests and test more
classes.
It will help us to determine if we can at least start ec2api services
with the current state of puppet-ec2api.

Also fix debug duplicated option.

Change-Id: I607a1652468b105543aa3a36dc66b1ec2276ca57
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/52/352552/4 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_ec2api_spec.rb'],1,7afe54595734bd438f750d17d335a2fe669fbff3,conventions," class { '::ec2api::db': database_connection => 'mysql://ec2api:a_big_secret@127.0.0.1/ec2api?charset=utf8', } class { '::ec2api::keystone::authtoken': password => 'a_big_secret', } class { '::ec2api::api': keystone_url => 'http://127.0.0.1:5000/v2', } include ::ec2api::metadata include ::ec2api::s3",,11,0
openstack%2Foctavia~master~I0252cf856924c7546ae76fffd9550e85cffe32a7,openstack/octavia,master,I0252cf856924c7546ae76fffd9550e85cffe32a7,Fix some typos in the haproxy-amphora-api.rst,MERGED,2016-08-05 07:26:01.000000000,2016-08-12 19:45:24.000000000,2016-08-12 19:41:15.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 7293}, {'_account_id': 10273}, {'_account_id': 11685}, {'_account_id': 12040}, {'_account_id': 14591}, {'_account_id': 16923}, {'_account_id': 22104}]","[{'number': 1, 'created': '2016-08-05 07:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7b02b0bef9a93dc1a259982efcf70efc70ef86ce', 'message': 'Fix some typos in the haproxy-amphora-api.rst\n\nChange-Id: I0252cf856924c7546ae76fffd9550e85cffe32a7\n'}, {'number': 2, 'created': '2016-08-05 07:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0cf4551458e71c0b6cef87713e610b2012fb4921', 'message': 'Fix some typos in the haproxy-amphora-api.rst\n\nChange-Id: I0252cf856924c7546ae76fffd9550e85cffe32a7\n'}, {'number': 3, 'created': '2016-08-05 07:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bd91f32578bf4d1781b5e4695d1704716955ffdf', 'message': 'Fix some typos in the haproxy-amphora-api.rst\n\nChange-Id: I0252cf856924c7546ae76fffd9550e85cffe32a7\n'}, {'number': 4, 'created': '2016-08-08 01:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/41f25dc71c385ea703b6470ed816d0035c3c26fc', 'message': 'Fix some typos in the haproxy-amphora-api.rst\n\nChange-Id: I0252cf856924c7546ae76fffd9550e85cffe32a7\n'}, {'number': 5, 'created': '2016-08-08 01:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f65a14cd8ed47856c17a1e9fd1bae4742fb4ad7c', 'message': 'Fix some typos in the haproxy-amphora-api.rst\n\nChange-Id: I0252cf856924c7546ae76fffd9550e85cffe32a7\n'}, {'number': 6, 'created': '2016-08-08 01:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a5873aef534b7d0137c5f1bb23e34ca5eaf8a36a', 'message': 'Fix some typos in the haproxy-amphora-api.rst\n\nChange-Id: I0252cf856924c7546ae76fffd9550e85cffe32a7\n'}, {'number': 7, 'created': '2016-08-08 07:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3cdbde73819abd125194bb68ae35cd0eedce54d4', 'message': 'Fix some typos in the haproxy-amphora-api.rst\n\nChange-Id: I0252cf856924c7546ae76fffd9550e85cffe32a7\n'}, {'number': 8, 'created': '2016-08-08 09:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2b2b11e87222e865a53ad6fcbb31bcb2ec3039fe', 'message': 'Fix some typos in the haproxy-amphora-api.rst\n\nChange-Id: I0252cf856924c7546ae76fffd9550e85cffe32a7\n'}, {'number': 9, 'created': '2016-08-09 00:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b0e31bded3a887fb64d493e10ad6d560e86d79fe', 'message': 'Fix some typos in the haproxy-amphora-api.rst\n\nChange-Id: I0252cf856924c7546ae76fffd9550e85cffe32a7\n'}, {'number': 10, 'created': '2016-08-09 06:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/82f338bca355d8368d4dc43beb0b07b5af7b5c02', 'message': 'Fix some typos in the haproxy-amphora-api.rst\n\nChange-Id: I0252cf856924c7546ae76fffd9550e85cffe32a7\n'}, {'number': 11, 'created': '2016-08-09 07:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e2cd133e9b46cb9bdbfd23ffc49992b17b84fb0c', 'message': 'Fix some typos in the haproxy-amphora-api.rst\n\nChange-Id: I0252cf856924c7546ae76fffd9550e85cffe32a7\n'}, {'number': 12, 'created': '2016-08-09 08:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/51b57aa80f82b4a41083587b5ab8bfe3ee4e42f7', 'message': 'Fix some typos in the haproxy-amphora-api.rst\n\nChange-Id: I0252cf856924c7546ae76fffd9550e85cffe32a7\n'}, {'number': 13, 'created': '2016-08-10 01:02:49.000000000', 'files': ['doc/source/api/haproxy-amphora-api.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/cb6be8e2c33e794f39b852a4b193d436e017b451', 'message': 'Fix some typos in the haproxy-amphora-api.rst\n\nChange-Id: I0252cf856924c7546ae76fffd9550e85cffe32a7\n'}]",17,351537,cb6be8e2c33e794f39b852a4b193d436e017b451,68,9,13,22104,,,0,"Fix some typos in the haproxy-amphora-api.rst

Change-Id: I0252cf856924c7546ae76fffd9550e85cffe32a7
",git fetch https://review.opendev.org/openstack/octavia refs/changes/37/351537/12 && git format-patch -1 --stdout FETCH_HEAD,[],0,7b02b0bef9a93dc1a259982efcf70efc70ef86ce,,,,0,0
openstack%2Fcongress~master~I9520ecafff844fbc09bdc80d564f40e3d59dee60,openstack/congress,master,I9520ecafff844fbc09bdc80d564f40e3d59dee60,Replaced e.message with str(e),MERGED,2016-08-11 15:38:18.000000000,2016-08-12 19:38:27.000000000,2016-08-12 19:38:27.000000000,"[{'_account_id': 3}, {'_account_id': 11278}, {'_account_id': 18591}]","[{'number': 1, 'created': '2016-08-11 15:38:18.000000000', 'files': ['congress_dashboard/policies/views.py', 'congress/api/webservice.py', 'congress/datasources/datasource_driver.py', 'congress_dashboard/policies/tables.py', 'congress_dashboard/datasources/views.py', 'congress/exception.py', 'congress/api/datasource_model.py', 'congress_dashboard/datasources/utils.py', 'congress/datasources/murano_driver.py', 'congress_dashboard/policies/rules/workflows.py', 'congress_dashboard/policies/forms.py', 'congress_dashboard/policies/rules/tables.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/6f60b0f8c91db7e2663ff560e5a0d58c4c09ca54', 'message': 'Replaced e.message with str(e)\n\nFor logging the exception message: e.message has been\ndeprecated. The preferred way is to call str(e).\n\nChange-Id: I9520ecafff844fbc09bdc80d564f40e3d59dee60\nCloses-Bug: #1607142\n'}]",0,354167,6f60b0f8c91db7e2663ff560e5a0d58c4c09ca54,7,3,1,20541,,,0,"Replaced e.message with str(e)

For logging the exception message: e.message has been
deprecated. The preferred way is to call str(e).

Change-Id: I9520ecafff844fbc09bdc80d564f40e3d59dee60
Closes-Bug: #1607142
",git fetch https://review.opendev.org/openstack/congress refs/changes/67/354167/1 && git format-patch -1 --stdout FETCH_HEAD,"['congress_dashboard/policies/views.py', 'congress/api/webservice.py', 'congress/datasources/datasource_driver.py', 'congress_dashboard/policies/tables.py', 'congress_dashboard/datasources/views.py', 'congress/exception.py', 'congress/api/datasource_model.py', 'congress_dashboard/datasources/utils.py', 'congress/datasources/murano_driver.py', 'congress_dashboard/policies/rules/workflows.py', 'congress_dashboard/policies/forms.py', 'congress_dashboard/policies/rules/tables.py']",12,6f60b0f8c91db7e2663ff560e5a0d58c4c09ca54,bug/1607142," msg_args = {'rule_id': obj_id, 'error': str(e)}"," msg_args = {'rule_id': obj_id, 'error': e.message}",34,39
openstack%2Fopenstack-ansible~liberty~Iadac8e2d24cdad5f7519d85d35aec0d4022450fb,openstack/openstack-ansible,liberty,Iadac8e2d24cdad5f7519d85d35aec0d4022450fb,Update manual upgrade docs with new galera steps,MERGED,2016-08-05 10:07:50.000000000,2016-08-12 19:34:10.000000000,2016-08-12 19:34:10.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-05 10:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0392befb8c2c5cc137dbc22e550256b833e73ace', 'message': 'Update manual upgrade docs with new galera steps\n\nThe run-upgrade playbook was updated to incorporate better control over\nwhen the galera containers are restarted during an upgrade.\nThis is the companion commit where the manual upgrade steps are updated\nto match the steps in run-upgrade, and also to update the version of\nOSA that must be used to perform these new steps.\n\nChange-Id: Iadac8e2d24cdad5f7519d85d35aec0d4022450fb\n'}, {'number': 2, 'created': '2016-08-12 10:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5c6092b87e33464b79c37cfe08748d72fd58b7a4', 'message': 'Update manual upgrade docs with new galera steps\n\nThe run-upgrade playbook was updated to incorporate better control over\nwhen the galera containers are restarted during an upgrade.\nThis is the companion commit where the manual upgrade steps are updated\nto match the steps in run-upgrade, and also to update the version of\nOSA that must be used to perform these new steps.\n\nChange-Id: Iadac8e2d24cdad5f7519d85d35aec0d4022450fb\n'}, {'number': 3, 'created': '2016-08-12 15:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/972edfd96b0a317d98b0fa9fa24a2d7c275c159c', 'message': 'Update manual upgrade docs with new galera steps\n\nThe run-upgrade playbook was updated to incorporate better control over\nwhen the galera containers are restarted during an upgrade.\nThis is the companion commit where the manual upgrade steps are updated\nto match the steps in run-upgrade, and also to update the version of\nOSA that must be used to perform these new steps.\n\nChange-Id: Iadac8e2d24cdad5f7519d85d35aec0d4022450fb\n'}, {'number': 4, 'created': '2016-08-12 15:13:05.000000000', 'files': ['doc/source/upgrade-guide/manual-upgrade.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f08d7f139c3c823f238c6ba584fc2518313b4f8c', 'message': 'Update manual upgrade docs with new galera steps\n\nThe run-upgrade playbook was updated to incorporate better control over\nwhen the galera containers are restarted during an upgrade.\nThis is the companion commit where the manual upgrade steps are updated\nto match the steps in run-upgrade, and also to update the version of\nOSA that must be used to perform these new steps.\n\nChange-Id: Iadac8e2d24cdad5f7519d85d35aec0d4022450fb\n'}]",14,351627,f08d7f139c3c823f238c6ba584fc2518313b4f8c,19,7,4,425,,,0,"Update manual upgrade docs with new galera steps

The run-upgrade playbook was updated to incorporate better control over
when the galera containers are restarted during an upgrade.
This is the companion commit where the manual upgrade steps are updated
to match the steps in run-upgrade, and also to update the version of
OSA that must be used to perform these new steps.

Change-Id: Iadac8e2d24cdad5f7519d85d35aec0d4022450fb
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/27/351627/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/upgrade-guide/manual-upgrade.rst'],1,0392befb8c2c5cc137dbc22e550256b833e73ace,galera-upgrade-docs," # openstack-ansible setup-hosts.yml --limit '!galera_all' This command is the same as doing host setups on a new install. The ``galera_all`` host group is excluded to prevent restarts of any Galera containers - we will handle these separately. Update Galera LXC container configuration without restarting containers ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Update the configuration for the Galera containers but don't allow them to restart. # openstack-ansible lxc-containers-create.yml -e 'lxc_container_allow_restarts=false' --limit galera_all This command is a subset of the host setup playbook and adds the necessary new lxc config to these containers, but does not trigger a restart of the containers. Perform a mariadb version upgrade ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Update the version of mariadb across the cluster from 5.5 to 10.0 .. code-block:: console # openstack-ansible galera-install.yml -e 'galera_upgrade=true' Perform a controlled rolling restart of the galera containers ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Restart containers 1 at a time, ensuring that each is up, responding and synced with the other nodes in the cluster, before moving on to the next. This step allows the lxc container config applied earlier to take effect, ensuring that the containers are restarted in a controlled fashion. .. code-block:: console # openstack-ansible ""${UPGRADE_PLAYBOOKS}/galera-cluster-rolling-restart.yml""The following commands perform all steps from the setup-infrastructure playbook, except for galera-install.yml which we ran earlier. Running these playbooks applies the relevant Liberty settings and packages. # openstack-ansible haproxy-install.yml # openstack-ansible memcached-install.yml # openstack-ansible rabbitmq-install.yml-e 'rabbitmq_upgrade=true' # openstack-ansible utility-install.yml # openstack-ansible rsyslog-install.yml"," # openstack-ansible setup-hosts.yml --limit '!galera_all[0]' This command is the same as doing host setups on a new install. The first member of the ``galera_all`` host group is excluded to prevent simultaneous restarts of all Galera containers. Update Galera LXC container configuration and re-create the repo containers ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Update the configuration for the first Galera container and all of the repo containers. # openstack-ansible lxc-containers-create.yml --limit galera_all[0]:repo_all This command is a subset of the host setup playbook, limited to the first member of the ``galera_all`` and ``repo_all`` host groups so these are the only containers restarted only after other Galera containers have been restarted.Running the standard OpenStack-Ansible infrastructure playbook applies the relevant Liberty settings and packages. However, MariaDB and Galera require an extra option to specify an upgrade from the 5.5 series to 10.0. This upgrade is required for the Liberty release of OpenStack-Ansible. # openstack-ansible setup-infrastructure.yml -e 'galera_upgrade=true' \ -e 'rabbitmq_upgrade=true' ",41,19
openstack%2Ftripleo-ci~master~I6781af7629b4c870e735e42e0b7c576b25b13f83,openstack/tripleo-ci,master,I6781af7629b4c870e735e42e0b7c576b25b13f83,Bump baremetal vm memory to 5.5 GB,MERGED,2016-08-10 17:13:43.000000000,2016-08-12 19:32:30.000000000,2016-08-12 19:32:30.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 10873}]","[{'number': 1, 'created': '2016-08-10 17:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0aab5d6eb4e47981f4031d97e62b23eacbf758a4', 'message': ""Bump baremetal vm memory to 5.5 GB\n\nWe're seeing OOM issues on overcloud nodes on a pretty regular\nbasis now, so it appears we need to increase the amount available.\nHopefully increasing from 5 to 5.5 GB will be sufficient to\neliminate the problem without allowing us to bloat our memory usage\naccidentally.\n\nChange-Id: I6781af7629b4c870e735e42e0b7c576b25b13f83\n""}, {'number': 2, 'created': '2016-08-10 17:14:42.000000000', 'files': ['scripts/prepare-ovb-cloud.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5b239209c0cd85a55e4b79793a6b3e399794bea9', 'message': ""Bump baremetal vm memory to 5.5 GB\n\nWe're seeing OOM issues on overcloud nodes on a pretty regular\nbasis now, so it appears we need to increase the amount available.\nHopefully increasing from 5 to 5.5 GB will be sufficient to\neliminate the problem without allowing us to bloat our memory usage\naccidentally.\n\nChange-Id: I6781af7629b4c870e735e42e0b7c576b25b13f83\nCloses-Bug: 1611842\n""}]",3,353655,5b239209c0cd85a55e4b79793a6b3e399794bea9,35,3,2,6928,,,0,"Bump baremetal vm memory to 5.5 GB

We're seeing OOM issues on overcloud nodes on a pretty regular
basis now, so it appears we need to increase the amount available.
Hopefully increasing from 5 to 5.5 GB will be sufficient to
eliminate the problem without allowing us to bloat our memory usage
accidentally.

Change-Id: I6781af7629b4c870e735e42e0b7c576b25b13f83
Closes-Bug: 1611842
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/55/353655/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/prepare-ovb-cloud.sh'],1,0aab5d6eb4e47981f4031d97e62b23eacbf758a4,bug/1611842,"nova flavor-show baremetal || nova flavor-create baremetal auto 5632 41 1 nova boot --flavor bmc --image ""CentOS-7-x86_64-GenericCloud"" --key-name undercloud --user-data scripts/deploy-server.sh bmc-template","nova flavor-show baremetal || nova flavor-create baremetal auto 5120 41 1 nova boot --flavor bmc --image ""CentOS-7-x86_64-GenericCloud"" --key-name undercloud --user-data scripts/deploy-server.sh bmc-template ",2,2
openstack%2Fcinder~master~I7cb8435af379099c60f0f84d7bad4a6660d2d636,openstack/cinder,master,I7cb8435af379099c60f0f84d7bad4a6660d2d636,Fix volume creation with no volume type,MERGED,2016-08-10 17:44:31.000000000,2016-08-12 19:30:08.000000000,2016-08-11 03:11:36.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7173}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10621}, {'_account_id': 11904}, {'_account_id': 14797}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 16422}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16897}, {'_account_id': 16941}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 19146}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22510}]","[{'number': 1, 'created': '2016-08-10 17:44:31.000000000', 'files': ['cinder/scheduler/filter_scheduler.py', 'cinder/tests/unit/scheduler/test_filter_scheduler.py', 'cinder/scheduler/filters/capabilities_filter.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9abeca399e3e006e1ac6e8df2ba89b007cd93eac', 'message': 'Fix volume creation with no volume type\n\nAllow creation of volumes with no volume type.  This\nhas always been supported but was accidentally broken\nwith recent changes.\n\nIf a type is not specified, the capabilities filter can\nskip processing type-related checks.\n\nThis reverts most of 8a594c8 ""Fix NoneType Attribute Error""\n\nCloses-Bug: #1610073\nCo-Author: Tom Barron <tbarron@redhat.com>\nChange-Id: I7cb8435af379099c60f0f84d7bad4a6660d2d636\n'}]",0,353665,9abeca399e3e006e1ac6e8df2ba89b007cd93eac,35,21,1,4523,,,0,"Fix volume creation with no volume type

Allow creation of volumes with no volume type.  This
has always been supported but was accidentally broken
with recent changes.

If a type is not specified, the capabilities filter can
skip processing type-related checks.

This reverts most of 8a594c8 ""Fix NoneType Attribute Error""

Closes-Bug: #1610073
Co-Author: Tom Barron <tbarron@redhat.com>
Change-Id: I7cb8435af379099c60f0f84d7bad4a6660d2d636
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/353665/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/filter_scheduler.py', 'cinder/tests/unit/scheduler/test_filter_scheduler.py', 'cinder/scheduler/filters/capabilities_filter.py']",3,9abeca399e3e006e1ac6e8df2ba89b007cd93eac,bug/1610073, if not resource_type: return True ,,6,6
openstack%2Fproject-config~master~Ie9ef49c3acbfe284ad90b1ff02db53e66535dc92,openstack/project-config,master,Ie9ef49c3acbfe284ad90b1ff02db53e66535dc92,puppet/tripleo: restore ovb stable jobs,MERGED,2016-08-11 15:46:55.000000000,2016-08-12 19:28:46.000000000,2016-08-12 19:28:46.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6547}]","[{'number': 1, 'created': '2016-08-11 15:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a3b9a79ccc755909ce68c3be9504a1443b415755', 'message': ""puppet/tripleo: restore ovb stable jobs\n\ngate-tripleo-ci-centos-7-nonha-multinode is a recent job that only works\nin master (and future stable/newton), but not on stable/mitaka.\n\nWe recently switched some Puppet modules from ovb-nonha to\nnonha-multinode but since nonha-multinode is not run in stable branches,\nwe don't have TripleO jobs anymore for Puppet module stable CI.\n\nThis patch creates 2 jobs for ovb-nonha with -liberty and -mitaka\nsuffix, that will allow to run them in the appropriate branch where\nneeded.\n\nChange-Id: Ie9ef49c3acbfe284ad90b1ff02db53e66535dc92\n""}, {'number': 2, 'created': '2016-08-11 15:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0c45dec84258fe190fbf6eba4c4926ed18f5a9b5', 'message': ""puppet/tripleo: restore ovb stable jobs\n\ngate-tripleo-ci-centos-7-nonha-multinode is a recent job that only works\nin master (and future stable/newton), but not on stable/mitaka.\n\nWe recently switched some Puppet modules from ovb-nonha to\nnonha-multinode but since nonha-multinode is not run in stable branches,\nwe don't have TripleO jobs anymore for Puppet module stable CI.\n\nThis patch creates 2 jobs for ovb-nonha with -liberty and -mitaka\nsuffix, that will allow to run them in the appropriate branch where\nneeded.\n\nChange-Id: Ie9ef49c3acbfe284ad90b1ff02db53e66535dc92\n""}, {'number': 3, 'created': '2016-08-11 19:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4b5aef318aca9bb65b9f755173a176afc88988d2', 'message': ""puppet/tripleo: restore ovb stable jobs\n\ngate-tripleo-ci-centos-7-nonha-multinode is a recent job that only works\nin master (and future stable/newton), but not on stable/mitaka.\n\nWe recently switched some Puppet modules from ovb-nonha to\nnonha-multinode but since nonha-multinode is not run in stable branches,\nwe don't have TripleO jobs anymore for Puppet module stable CI.\n\nThis patch creates 2 jobs for ovb-nonha with -liberty and -mitaka\nsuffix, that will allow to run them in the appropriate branch where\nneeded.\n\nChange-Id: Ie9ef49c3acbfe284ad90b1ff02db53e66535dc92\n""}, {'number': 4, 'created': '2016-08-11 19:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/34455279fccc7c4d6fd6ba609ef599c73d340ab9', 'message': ""puppet/tripleo: restore ovb stable jobs\n\ngate-tripleo-ci-centos-7-nonha-multinode is a recent job that only works\nin master (and future stable/newton), but not on stable/mitaka.\n\nWe recently switched some Puppet modules from ovb-nonha to\nnonha-multinode but since nonha-multinode is not run in stable branches,\nwe don't have TripleO jobs anymore for Puppet module stable CI.\n\nThis patch adds the tripleo-ovb-non ha jobs for mitaka and liberty on\nthe zuul layout for puppet modules that have multijob running.\n\nChange-Id: Ie9ef49c3acbfe284ad90b1ff02db53e66535dc92\n""}, {'number': 5, 'created': '2016-08-12 02:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5f6543440518210394ef697644ce5e2a18cb657f', 'message': ""puppet/tripleo: restore ovb stable jobs\n\ngate-tripleo-ci-centos-7-nonha-multinode is a recent job that only works\nin master (and future stable/newton), but not on stable/mitaka.\n\nWe recently switched some Puppet modules from ovb-nonha to\nnonha-multinode but since nonha-multinode is not run in stable branches,\nwe don't have TripleO jobs anymore for Puppet module stable CI.\n\nThis patch adds the tripleo-ovb-non ha jobs for mitaka and liberty on\nthe zuul layout for puppet modules that have multijob running.\n\nChange-Id: Ie9ef49c3acbfe284ad90b1ff02db53e66535dc92\n""}, {'number': 6, 'created': '2016-08-12 12:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b07c49214279f2d9701aaa4979d41cda40d3d807', 'message': ""puppet/tripleo: restore ovb stable jobs\n\ngate-tripleo-ci-centos-7-nonha-multinode is a recent job that only works\nin master (and future stable/newton), but not on stable/mitaka.\n\nWe recently switched some Puppet modules from ovb-nonha to\nnonha-multinode but since nonha-multinode is not run in stable branches,\nwe don't have TripleO jobs anymore for Puppet module stable CI.\n\nThis patch adds the tripleo-ovb-non ha jobs for mitaka and liberty on\nthe zuul layout for puppet modules that have multijob running.\n\nChange-Id: Ie9ef49c3acbfe284ad90b1ff02db53e66535dc92\n""}, {'number': 7, 'created': '2016-08-12 14:27:06.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/db190934ab7c92bcf810874189c93b963bf657d3', 'message': ""puppet/tripleo: restore ovb stable jobs\n\ngate-tripleo-ci-centos-7-nonha-multinode is a recent job that only works\nin master (and future stable/newton), but not on stable/mitaka.\n\nWe recently switched some Puppet modules from ovb-nonha to\nnonha-multinode but since nonha-multinode is not run in stable branches,\nwe don't have TripleO jobs anymore for Puppet module stable CI.\n\nThis patch adds the tripleo-ovb-non ha jobs for mitaka and liberty on\nthe zuul layout for puppet modules that have multijob running.\n\nChange-Id: Ie9ef49c3acbfe284ad90b1ff02db53e66535dc92\n""}]",0,354172,db190934ab7c92bcf810874189c93b963bf657d3,19,4,7,3153,,,0,"puppet/tripleo: restore ovb stable jobs

gate-tripleo-ci-centos-7-nonha-multinode is a recent job that only works
in master (and future stable/newton), but not on stable/mitaka.

We recently switched some Puppet modules from ovb-nonha to
nonha-multinode but since nonha-multinode is not run in stable branches,
we don't have TripleO jobs anymore for Puppet module stable CI.

This patch adds the tripleo-ovb-non ha jobs for mitaka and liberty on
the zuul layout for puppet modules that have multijob running.

Change-Id: Ie9ef49c3acbfe284ad90b1ff02db53e66535dc92
",git fetch https://review.opendev.org/openstack/project-config refs/changes/72/354172/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,a3b9a79ccc755909ce68c3be9504a1443b415755,tripleo/puppet, - name: ^gate-tripleo-ci-centos-7-ovb-nonha-liberty$ branch: ^(?stable/liberty).*$ - name: ^gate-tripleo-ci-centos-7-ovb-nonha-mitaka$ branch: ^(?stable/mitaka).*$ check-tripleo: - gate-tripleo-ci-centos-7-ovb-nonha-liberty - gate-tripleo-ci-centos-7-ovb-nonha-mitaka check-tripleo: - gate-tripleo-ci-centos-7-ovb-nonha-liberty - gate-tripleo-ci-centos-7-ovb-nonha-mitaka check-tripleo: - gate-tripleo-ci-centos-7-ovb-nonha-liberty - gate-tripleo-ci-centos-7-ovb-nonha-mitaka check-tripleo: - gate-tripleo-ci-centos-7-ovb-nonha-liberty - gate-tripleo-ci-centos-7-ovb-nonha-mitaka check-tripleo: - gate-tripleo-ci-centos-7-ovb-nonha-liberty - gate-tripleo-ci-centos-7-ovb-nonha-mitaka check-tripleo: - gate-tripleo-ci-centos-7-ovb-nonha-liberty - gate-tripleo-ci-centos-7-ovb-nonha-mitaka check-tripleo: - gate-tripleo-ci-centos-7-ovb-nonha-liberty - gate-tripleo-ci-centos-7-ovb-nonha-mitaka check-tripleo: - gate-tripleo-ci-centos-7-ovb-nonha-liberty - gate-tripleo-ci-centos-7-ovb-nonha-mitaka check-tripleo: - gate-tripleo-ci-centos-7-ovb-nonha-liberty - gate-tripleo-ci-centos-7-ovb-nonha-mitaka check-tripleo: - gate-tripleo-ci-centos-7-ovb-nonha-liberty - gate-tripleo-ci-centos-7-ovb-nonha-mitaka,,57,0
openstack%2Fopenstack-ansible-specs~master~I16fe339254c287b038d8b040903f369ec5cf10a1,openstack/openstack-ansible-specs,master,I16fe339254c287b038d8b040903f369ec5cf10a1,Spec: Add RHEL 7 STIG configurations,MERGED,2016-08-11 20:49:38.000000000,2016-08-12 19:28:04.000000000,2016-08-12 19:28:04.000000000,"[{'_account_id': 3}, {'_account_id': 7414}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 20:49:38.000000000', 'files': ['specs/newton/security-rhel7-stig.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/61c1dc2f604fddbb26d48bda583188f40d749de8', 'message': 'Spec: Add RHEL 7 STIG configurations\n\nThis spec outlines the work required to update the security role\nso that the RHEL 7 STIG configurations are applied to newer\nsystemd-based distributions.\n\nChange-Id: I16fe339254c287b038d8b040903f369ec5cf10a1\n'}]",0,354389,61c1dc2f604fddbb26d48bda583188f40d749de8,7,3,1,538,,,0,"Spec: Add RHEL 7 STIG configurations

This spec outlines the work required to update the security role
so that the RHEL 7 STIG configurations are applied to newer
systemd-based distributions.

Change-Id: I16fe339254c287b038d8b040903f369ec5cf10a1
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/89/354389/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/security-rhel7-stig.rst'],1,61c1dc2f604fddbb26d48bda583188f40d749de8,security-rhel7-stig,"Apply RHEL 7 STIG hardening standard #################################### :date: 2016-08-11 00:00 :tags: security The Security Technical Implementation Guide (STIG) for Red Hat Enterprise Linux (RHEL) 7 is in the final stages of release. The security hardening role needs to be updated to apply these new requirements to Ubuntu 16.04, CentOS 7 and RHEL 7. * https://blueprints.launchpad.net/openstack-ansible/+spec/security-rhel7-stig Problem description =================== Today, the openstack-ansible-security role uses the RHEL 6 STIG as the basis for all of the security configurations applied to Ubuntu 14.04, Ubuntu 16.04, CentOS 7, and RHEL 7. However, the new RHEL 7 STIG is in the final stages of its release and the new security configurations provide a stronger security posture for all systemd-based distributions, including: * Ubuntu 16.04 * CentOS 7 * RHEL 7 There are some challenges with a wholesale change to the RHEL 7 STIG: * It doesn't apply well to Ubuntu 14.04 * It uses a new numbering scheme which doesn't match with the RHEL 6 STIG * Many tasks have no overlap with the RHEL 6 STIG Proposed change =============== The current role structure is flat and the differences between the distributions are handled within each task YAML file. The proposed new layout would look something like this: .. code-block:: text /main.yml /rhel6stig/main.yml /rhel6stig/auth.yml /rhel6stig/boot.yml /rhel6stig/... /rhel7stig/main.yml /rhel7stig/auth.yml /rhel7stig/boot.yml /rhel7stig/... The root ``main.yml`` would have a ``when:`` that would include the correct ``main.yml`` from the STIG version subdirectories. This comes with some nice benefits: #. This would ensure that the functionality for Ubuntu 14.04 is unchanged. #. When support for Ubuntu 14.04 is no longer needed, it could easily be removed later by simply removing the ``rheli6stig`` directory and the corresponding ``include:`` from the root ``main.yml`` file. #. Some of the existing clutter in the role could be removed since Ubuntu 16.04, CentOS 7 and RHEL 7 are closely aligned (because they all use systemd). Alternatives ------------ Switch the entire role to the RHEL 7 and drop Ubuntu 14.04 support. This could be upsetting for existing users of the role on 14.04. Interleave the RHEL6/RHEL7 STIG configurations in the existing role This could lead to lots of clutter and could add difficulty when Ubuntu 14.04 support needs to be removed. Create a new role Deployers could be confused by a new role and it would require changes to OpenStack-Ansible's integrated build. Playbook/Role impact -------------------- See the **Proposed change** section above for details. Upgrade impact -------------- If a deployer is running the Newton release of the role on Ubuntu 16.04, CentOS 7, or RHEL 7, they will notice lots of additional security configurations being applied by the role per the requirements of the RHEL 7 STIG. Backing out security configurations from the previous versions of the role shouldn't be necessary. Security impact --------------- This change will improve the role's capability to secure new systemd-based distributions, such as Ubuntu 16.04, CentOS 7, and RHEL 7. Performance impact ------------------ As with the previous versions of the role, the updates to the role from the RHEL 7 STIG should not cause performance impacts or downtime on the system. End user impact --------------- End users should not notice a difference when these changes are made. Deployer impact --------------- Deployers will apply the role using the same commands as they do now. However, they will see some new changes: * New configurations being applied that weren't being applied previously * New variables for controlling the security configurations in the RHEL 7 STIG Developer impact ---------------- Developers must ensure that RHEL 7 STIG content is kept separate from RHEL 6 content. This will be documented within the tasks themselves as well as in the formal role documentation. Dependencies ------------ This change has no dependencies. Implementation ============== Assignee(s) ----------- Primary assignee: Major Hayden (LP: rackerhacker, IRC: mhayden) Work items ---------- #. Create a directory for the RHEL 7 STIG content and begin adding tasks there to apply security configurations. #. Update documentation to reflect the new configurations and any new variables which exist to configure the role's actions. #. When the RHEL 7 STIG content is working well on Ubuntu 16.04, CentOS 7, and RHEL 7, the root ``main.yml`` should include the tasks from the RHEL 7 STIG directory. #. At a later date, Ubuntu 14.04 support could be removed by deleting the RHEL 6 directory, removing unneeded variables, and removing unneeded documentation. Testing ======= The OpenStack CI environment would test the security role in the same way that it does now. Testing could be adjusted during the first phase of RHEL 7 STIG development so that both pathways (RHEL 6 STIG and RHEL 7 STIG) are tested on Ubuntu 16.04 and CentOS 7. RHEL 7 testing will need to be manual since OpenStack CI has no RHEL image. Documentation impact ==================== New documentation will be needed for the RHEL 7 STIG security configurations as well as any new variables that are introduced. This will need to be done carefully (perhaps in a draft directory) until the RHEL 7 STIG content is ready to be applied to Ubuntu 16.04 and CentOS 7. References ========== * DISA STIGs: http://iase.disa.mil/stigs/os/unix-linux/Pages/index.aspx * openstack-dev mail: http://lists.openstack.org/pipermail/openstack-dev/2016-August/100883.html ",,180,0
openstack%2Fpython-dracclient~master~Idd485fd11ab9d784bc8c24a9b8279bcce76f0f68,openstack/python-dracclient,master,Idd485fd11ab9d784bc8c24a9b8279bcce76f0f68,Allow missing flags on inventory.CPU,MERGED,2016-07-12 09:56:33.000000000,2016-08-12 19:18:00.000000000,2016-08-12 19:18:00.000000000,"[{'_account_id': 3}, {'_account_id': 7419}, {'_account_id': 10239}, {'_account_id': 10250}]","[{'number': 1, 'created': '2016-07-12 09:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/0558350cf80e4969fffabf18be08bb0af749aa47', 'message': 'Allow missing flags on inventory.CPU\n\nChange-Id: Idd485fd11ab9d784bc8c24a9b8279bcce76f0f68\nCloses-Bug: #1602173\n'}, {'number': 2, 'created': '2016-07-13 12:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/bbefe03529d92ca8853296718de0f10d4f2f5214', 'message': 'Allow missing flags on inventory.CPU\n\nChange-Id: Idd485fd11ab9d784bc8c24a9b8279bcce76f0f68\nCloses-Bug: #1602173\n'}, {'number': 3, 'created': '2016-07-19 12:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/41a073146a8f81e1f5529397d59fe7bc72811211', 'message': 'Allow missing flags on inventory.CPU\n\nChange-Id: Idd485fd11ab9d784bc8c24a9b8279bcce76f0f68\nCloses-Bug: #1602173\n'}, {'number': 4, 'created': '2016-07-21 10:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/13ad505310041da82bc866e79418c17ea76fa10e', 'message': 'Allow missing flags on inventory.CPU\n\nChange-Id: Idd485fd11ab9d784bc8c24a9b8279bcce76f0f68\nCloses-Bug: #1602173\n'}, {'number': 5, 'created': '2016-08-09 14:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/0f9d4b1f0fd45e652a81366f3446f21e5ebc704e', 'message': 'Allow missing flags on inventory.CPU\n\nChange-Id: Idd485fd11ab9d784bc8c24a9b8279bcce76f0f68\nCloses-Bug: #1602173\n'}, {'number': 6, 'created': '2016-08-09 14:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/b0498b541f1f01340db2b8751893aecf6b57c07c', 'message': 'Allow missing flags on inventory.CPU\n\nChange-Id: Idd485fd11ab9d784bc8c24a9b8279bcce76f0f68\nCloses-Bug: #1602173\n'}, {'number': 7, 'created': '2016-08-10 08:49:47.000000000', 'files': ['dracclient/tests/test_utils.py', 'dracclient/tests/wsman_mocks/cpu_view-enum-ok.xml', 'dracclient/tests/test_client.py', 'dracclient/resources/inventory.py', 'dracclient/tests/utils.py', 'dracclient/tests/wsman_mocks/cpu_view-enum-missing_flags.xml', 'dracclient/utils.py', 'dracclient/tests/wsman_mocks/memory_view-enum-ok.xml'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/f96744daf3f29ecd34918cd7626d4fb0969eeb34', 'message': 'Allow missing flags on inventory.CPU\n\nChange-Id: Idd485fd11ab9d784bc8c24a9b8279bcce76f0f68\nCloses-Bug: #1602173\n'}]",2,340830,f96744daf3f29ecd34918cd7626d4fb0969eeb34,24,4,7,7419,,,0,"Allow missing flags on inventory.CPU

Change-Id: Idd485fd11ab9d784bc8c24a9b8279bcce76f0f68
Closes-Bug: #1602173
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/30/340830/6 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/tests/wsman_mocks/cpu_view-enum-ok.xml', 'dracclient/tests/test_client.py', 'dracclient/resources/inventory.py', 'dracclient/tests/utils.py', 'dracclient/tests/wsman_mocks/cpu_view-enum-missing_flags.xml', 'dracclient/tests/wsman_mocks/memory_view-enum-ok.xml', 'dracclient/utils.py']",7,0558350cf80e4969fffabf18be08bb0af749aa47,oob-inspection,"def get_wsman_resource_attr(doc, resource_uri, attr_name, nullable=False, allow_missing=False): :param allow_missing: if set to True, attributes missing from the XML document will return None instead of raising AttributeError. :raises: AttributeError if the attribute is missing from the XML doc and allow_missing is False. if item is None and allow_missing: return ","def get_wsman_resource_attr(doc, resource_uri, attr_name, nullable=False):",106,9
openstack%2Fpython-dracclient~master~I84b66ab9a55683cc0c0f03efaab90e77131c1c33,openstack/python-dracclient,master,I84b66ab9a55683cc0c0f03efaab90e77131c1c33,Add flag to indicate 64bit support in inventory.CPU,MERGED,2016-07-12 08:45:45.000000000,2016-08-12 19:12:47.000000000,2016-08-12 19:12:47.000000000,"[{'_account_id': 3}, {'_account_id': 7419}, {'_account_id': 10239}, {'_account_id': 10250}]","[{'number': 1, 'created': '2016-07-12 08:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/e074cf670af4073136023cb4e2f2b12b524aace2', 'message': 'Add flag to indicate 64bit support in inventory.CPU\n\nChange-Id: I84b66ab9a55683cc0c0f03efaab90e77131c1c33\n'}, {'number': 2, 'created': '2016-07-13 12:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/6a244fc5db3e1e56d8532ddeff09118f3042463b', 'message': 'Add flag to indicate 64bit support in inventory.CPU\n\nChange-Id: I84b66ab9a55683cc0c0f03efaab90e77131c1c33\n'}, {'number': 3, 'created': '2016-07-21 10:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/ef0694711f6032066c12bb55b8522ce19ffa1e6e', 'message': 'Add flag to indicate 64bit support in inventory.CPU\n\nChange-Id: I84b66ab9a55683cc0c0f03efaab90e77131c1c33\n'}, {'number': 4, 'created': '2016-08-09 14:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/fbbe24ea6b569da9bdbe31919e7adbf499410a7e', 'message': 'Add flag to indicate 64bit support in inventory.CPU\n\nChange-Id: I84b66ab9a55683cc0c0f03efaab90e77131c1c33\n'}, {'number': 5, 'created': '2016-08-09 14:53:44.000000000', 'files': ['dracclient/tests/test_client.py', 'dracclient/resources/inventory.py'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/5a617b9e8d24ee1f08528b9532d098e7231d2f12', 'message': 'Add flag to indicate 64bit support in inventory.CPU\n\nChange-Id: I84b66ab9a55683cc0c0f03efaab90e77131c1c33\n'}]",5,340780,5a617b9e8d24ee1f08528b9532d098e7231d2f12,21,4,5,7419,,,0,"Add flag to indicate 64bit support in inventory.CPU

Change-Id: I84b66ab9a55683cc0c0f03efaab90e77131c1c33
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/80/340780/5 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/tests/test_client.py', 'dracclient/resources/inventory.py']",2,e074cf670af4073136023cb4e2f2b12b524aace2,oob-inspection,"CPU_CHARACTERISTICS = { '2': 'unkown', '4': '64-bit Capable' } ['id', 'cores', 'speed', 'model', 'status', 'ht_enabled', 'turbo_enabled', 'vt_enabled', 'sixtyfourbit_capable']) drac_characteristics = self._get_cpu_attr(cpu, 'Characteristics') sixtyfourbit_capable = ( CPU_CHARACTERISTICS[drac_characteristics] == '64-bit Capable') ht_enabled=bool(self._get_cpu_attr(cpu, 'HyperThreadingEnabled')), 'VirtualizationTechnologyEnabled')), sixtyfourbit_capable=sixtyfourbit_capable)"," ['id', 'cores', 'speed', 'ht_enabled', 'model', 'status', 'turbo_enabled', 'vt_enabled']) ht_enabled=bool(self._get_cpu_attr(cpu, 'HyperThreadingEnabled')), 'VirtualizationTechnologyEnabled')) )",17,8
openstack%2Fneutron~master~I4403bfcfb7ee60bc23fe011bb9bb874a53e262ac,openstack/neutron,master,I4403bfcfb7ee60bc23fe011bb9bb874a53e262ac,Bump minimum for oslo.db to 4.10.0,ABANDONED,2016-08-10 04:41:57.000000000,2016-08-12 19:11:43.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7787}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-08-10 04:41:57.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d34a2ce6daab7c8d86fb07385400d79a4c7803d4', 'message': 'Bump minimum for oslo.db to 4.10.0\n\nThe 4.10.0 release contains a fix to correctly identify\ndeadlocks that have been observed in the Neutron\ngate jobs.\n\nDepends-On: I238aa2c7a2429c3bd753d5b9d5273818f84e9118\n\nCloses-Bug: #1608691\nChange-Id: I4403bfcfb7ee60bc23fe011bb9bb874a53e262ac\n'}]",0,353247,d34a2ce6daab7c8d86fb07385400d79a4c7803d4,12,10,1,7787,,,0,"Bump minimum for oslo.db to 4.10.0

The 4.10.0 release contains a fix to correctly identify
deadlocks that have been observed in the Neutron
gate jobs.

Depends-On: I238aa2c7a2429c3bd753d5b9d5273818f84e9118

Closes-Bug: #1608691
Change-Id: I4403bfcfb7ee60bc23fe011bb9bb874a53e262ac
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/353247/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d34a2ce6daab7c8d86fb07385400d79a4c7803d4,bug/1608691,oslo.db>=4.10.0 # Apache-2.0,oslo.db>=4.1.0 # Apache-2.0,1,1
openstack%2Fshade~master~I8e4dec2cf993a47c8a0d5cb55bbf80b0fdc4dd46,openstack/shade,master,I8e4dec2cf993a47c8a0d5cb55bbf80b0fdc4dd46,Infer nova-net security groups better,MERGED,2016-08-08 16:11:11.000000000,2016-08-12 19:01:02.000000000,2016-08-12 19:01:02.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}]","[{'number': 1, 'created': '2016-08-08 16:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/ca3fabaa80315a298b1d15838ed4a627a44b5f95', 'message': ""Infer nova-net security groups better\n\nIf a cloud does not have neutron, it's entirely possible to infer that\nsecurity groups should go through nova. While it's currently possible to\nset secgroup_source: nova in clouds.yaml or in a vendor file, it's a\nlittle overkill for folks who otherwise do not need to express that\nlevel of complexity.\n\nChange-Id: I8e4dec2cf993a47c8a0d5cb55bbf80b0fdc4dd46\n""}, {'number': 2, 'created': '2016-08-11 15:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/b4dbd2e69b85e1efe223e29b808d0d0604c8c41c', 'message': ""Infer nova-net security groups better\n\nIf a cloud does not have neutron, it's entirely possible to infer that\nsecurity groups should go through nova. While it's currently possible to\nset secgroup_source: nova in clouds.yaml or in a vendor file, it's a\nlittle overkill for folks who otherwise do not need to express that\nlevel of complexity.\n\nChange-Id: I8e4dec2cf993a47c8a0d5cb55bbf80b0fdc4dd46\n""}, {'number': 3, 'created': '2016-08-12 14:38:01.000000000', 'files': ['shade/tests/unit/test_security_groups.py', 'releasenotes/notes/infer-secgroup-source-58d840aaf1a1f485.yaml', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/bd3f07140d4ebfa62f63d8ad170da5e43d7bbb74', 'message': ""Infer nova-net security groups better\n\nIf a cloud does not have neutron, it's entirely possible to infer that\nsecurity groups should go through nova. While it's currently possible to\nset secgroup_source: nova in clouds.yaml or in a vendor file, it's a\nlittle overkill for folks who otherwise do not need to express that\nlevel of complexity.\n\nChange-Id: I8e4dec2cf993a47c8a0d5cb55bbf80b0fdc4dd46\n""}]",0,352498,bd3f07140d4ebfa62f63d8ad170da5e43d7bbb74,11,3,3,2,,,0,"Infer nova-net security groups better

If a cloud does not have neutron, it's entirely possible to infer that
security groups should go through nova. While it's currently possible to
set secgroup_source: nova in clouds.yaml or in a vendor file, it's a
little overkill for folks who otherwise do not need to express that
level of complexity.

Change-Id: I8e4dec2cf993a47c8a0d5cb55bbf80b0fdc4dd46
",git fetch https://review.opendev.org/openstack/shade refs/changes/98/352498/2 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,ca3fabaa80315a298b1d15838ed4a627a44b5f95,infer-secgroup-source," if not self._has_secgroups(): # Security groups not supported if not self._has_secgroups(): raise OpenStackCloudUnavailableFeature( ""Unavailable feature: security groups"" ) if self._use_neutron_secgroups(): else: def _has_secgroups(self): return self._secgroup_source.lower() in ('nova', 'neutron') def _use_neutron_secgroups(self): return (self.has_service('network') and self._secgroup_source == 'neutron') # Security groups not supported if not self._has_secgroups(): raise OpenStackCloudUnavailableFeature( ""Unavailable feature: security groups"" ) if self._use_neutron_secgroups(): else: # Security groups not supported if not self._has_secgroups(): raise OpenStackCloudUnavailableFeature( ""Unavailable feature: security groups"" ) if self._use_neutron_secgroups(): else: # Security groups not supported if not self._has_secgroups(): raise OpenStackCloudUnavailableFeature( ""Unavailable feature: security groups"" ) if self._use_neutron_secgroups(): else: # Security groups not supported if not self._has_secgroups(): raise OpenStackCloudUnavailableFeature( ""Unavailable feature: security groups"" ) if self._use_neutron_secgroups(): else: # Security groups not supported if not self._has_secgroups(): raise OpenStackCloudUnavailableFeature( ""Unavailable feature: security groups"" ) if self._use_neutron_secgroups(): else:"," if self.secgroup_source not in ('nova', 'neutron'): if self.secgroup_source == 'neutron': elif self.secgroup_source == 'nova': # Security groups not supported else: raise OpenStackCloudUnavailableFeature( ""Unavailable feature: security groups"" ) if self.secgroup_source == 'neutron': elif self.secgroup_source == 'nova': # Security groups not supported else: raise OpenStackCloudUnavailableFeature( ""Unavailable feature: security groups"" ) if self.secgroup_source == 'neutron': elif self.secgroup_source == 'nova': # Security groups not supported else: raise OpenStackCloudUnavailableFeature( ""Unavailable feature: security groups"" ) if self.secgroup_source == 'neutron': elif self.secgroup_source == 'nova': # Security groups not supported else: raise OpenStackCloudUnavailableFeature( ""Unavailable feature: security groups"" ) if self.secgroup_source == 'neutron': elif self.secgroup_source == 'nova': # Security groups not supported else: raise OpenStackCloudUnavailableFeature( ""Unavailable feature: security groups"" ) if self.secgroup_source == 'neutron': elif self.secgroup_source == 'nova': # Security groups not supported else: raise OpenStackCloudUnavailableFeature( ""Unavailable feature: security groups"" ) ",55,49
openstack%2Foctavia~master~I5bd4063446e81a24a86d7c9e6c7e0c32cf7170ee,openstack/octavia,master,I5bd4063446e81a24a86d7c9e6c7e0c32cf7170ee,Updated from global requirements,MERGED,2016-08-12 00:22:59.000000000,2016-08-12 18:57:17.000000000,2016-08-12 18:53:34.000000000,"[{'_account_id': 3}, {'_account_id': 11628}, {'_account_id': 11685}, {'_account_id': 12040}, {'_account_id': 16923}]","[{'number': 1, 'created': '2016-08-12 00:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9e237faa387b2dba1855557e7bd868a938b6b7f3', 'message': 'Updated from global requirements\n\nChange-Id: I5bd4063446e81a24a86d7c9e6c7e0c32cf7170ee\n'}, {'number': 2, 'created': '2016-08-12 04:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f278cc953f9c91b09909806c9bfd835a42069c5c', 'message': 'Updated from global requirements\n\nChange-Id: I5bd4063446e81a24a86d7c9e6c7e0c32cf7170ee\n'}, {'number': 3, 'created': '2016-08-12 04:53:23.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6b8fe6020ccb339cf6239c569ff03f9108494f29', 'message': 'Updated from global requirements\n\nChange-Id: I5bd4063446e81a24a86d7c9e6c7e0c32cf7170ee\n'}]",0,354460,6b8fe6020ccb339cf6239c569ff03f9108494f29,16,5,3,11131,,,0,"Updated from global requirements

Change-Id: I5bd4063446e81a24a86d7c9e6c7e0c32cf7170ee
",git fetch https://review.opendev.org/openstack/octavia refs/changes/60/354460/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9e237faa387b2dba1855557e7bd868a938b6b7f3,openstack/requirements,oslo.context>=2.6.0 # Apache-2.0,oslo.context>=2.4.0 # Apache-2.0,1,1
openstack%2Fshade~master~Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4,openstack/shade,master,Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4,Add update_endpoint(),MERGED,2016-03-06 17:18:52.000000000,2016-08-12 18:50:48.000000000,2016-08-12 18:50:48.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 14119}]","[{'number': 1, 'created': '2016-03-06 17:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/5119c3fb3e3f470900d5404f2de59a76142180f0', 'message': '[WIP] Add update_endpoint()\n\nv3 allows us ot update the endpoints, we should do that.\n\nChange-Id: Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4\n'}, {'number': 2, 'created': '2016-03-14 22:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/00b9cac15da15e5537edfb73a81940bbefc97692', 'message': '[WIP] Add update_endpoint()\n\nv3 allows us ot update the endpoints, we should do that.\n\nChange-Id: Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4\n'}, {'number': 3, 'created': '2016-08-05 15:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/c0536a7aaf6711d61424e7a7a763a392f918e848', 'message': '[WIP] Add update_endpoint()\n\nv3 allows us to update the endpoints, we should do that.\n\nChange-Id: Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4\n'}, {'number': 4, 'created': '2016-08-08 18:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/5927dbf10cab371f52eee873dc9edc72c01f3f31', 'message': 'Add update_endpoint()\n\nv3 allows us to update the endpoints, we should do that.\n\nThe other endpoint calls have been validated against v3 api to do what\nwe want them to do. All comments regarding implementing v3 keystone\nhave been removed.\n\nChange-Id: Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4\n'}, {'number': 5, 'created': '2016-08-08 18:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/50271c94a775d924cbc685c12724f0fda13dcbf7', 'message': 'Add update_endpoint()\n\nv3 allows us to update the endpoints, we should do that.\n\nThe other endpoint calls have been validated against v3 api to do what\nwe want them to do. All comments regarding implementing v3 keystone\nhave been removed.\n\nChange-Id: Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4\n'}, {'number': 6, 'created': '2016-08-08 18:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/53c8915e37ac5a1facca381dbc31745df649514a', 'message': 'Add update_endpoint()\n\nv3 allows us to update the endpoints, we should do that.\n\nThe other endpoint calls have been validated against v3 api to do what\nwe want them to do. All comments regarding implementing v3 keystone\nhave been removed.\n\nChange-Id: Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4\n'}, {'number': 7, 'created': '2016-08-09 13:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/8699fab9af3f590c9f55020ff81d8807b0a59cb8', 'message': 'Add update_endpoint()\n\nv3 allows us to update the endpoints, we should do that.\n\nThe other endpoint calls have been validated against v3 api to do what\nwe want them to do. All comments regarding implementing v3 keystone\nhave been removed.\n\nChange-Id: Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4\n'}, {'number': 8, 'created': '2016-08-09 19:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/1209543976b6228f32d2318d1f4f79787aeb8231', 'message': 'Add update_endpoint()\n\nv3 allows us to update the endpoints, we should do that.\n\nThe other endpoint calls have been validated against v3 api to do what\nwe want them to do. All comments regarding implementing v3 keystone\nhave been removed.\n\nChange-Id: Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4\n'}, {'number': 9, 'created': '2016-08-10 14:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/69db670cebeca3a4f4fef92a37f0bcb5be59854b', 'message': 'Add update_endpoint()\n\nv3 allows us to update the endpoints, we should do that.\n\nThe other endpoint calls have been validated against v3 api to do what\nwe want them to do. All comments regarding implementing v3 keystone\nhave been removed.\n\nChange-Id: Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4\n'}, {'number': 10, 'created': '2016-08-11 15:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/ee1aeab56bb77af86dfd0e897b722ec6353e60b6', 'message': 'Add update_endpoint()\n\nv3 allows us to update the endpoints, we should do that.\n\nThe other endpoint calls have been validated against v3 api to do what\nwe want them to do. All comments regarding implementing v3 keystone\nhave been removed.\n\nChange-Id: Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4\n'}, {'number': 11, 'created': '2016-08-11 18:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/c47b09f1a63cabba13dbfa16d7ac591170e80b08', 'message': 'Add update_endpoint()\n\nv3 allows us to update the endpoints, we should do that.\n\nThe other endpoint calls have been validated against v3 api to do what\nwe want them to do. All comments regarding implementing v3 keystone\nhave been removed.\n\nChange-Id: Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4\n'}, {'number': 12, 'created': '2016-08-11 21:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/d3d1ba722a4abc5985110f38dfdc9d84cc94f730', 'message': 'Add update_endpoint()\n\nv3 allows us to update the endpoints, we should do that.\n\nThe other endpoint calls have been validated against v3 api to do what\nwe want them to do. All comments regarding implementing v3 keystone\nhave been removed.\n\nChange-Id: Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4\n'}, {'number': 13, 'created': '2016-08-12 14:32:56.000000000', 'files': ['shade/operatorcloud.py', 'shade/tests/unit/test_endpoints.py', 'shade/tests/functional/test_endpoints.py', 'releasenotes/notes/update_endpoint-f87c1f42d0c0d1ef.yaml', 'shade/_tasks.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/3326bb7706e45de2c00937a0e478012faf555ca3', 'message': 'Add update_endpoint()\n\nv3 allows us to update the endpoints, we should do that.\n\nThe other endpoint calls have been validated against v3 api to do what\nwe want them to do. All comments regarding implementing v3 keystone\nhave been removed.\n\nChange-Id: Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4\n'}]",0,289052,3326bb7706e45de2c00937a0e478012faf555ca3,31,4,13,14119,,,0,"Add update_endpoint()

v3 allows us to update the endpoints, we should do that.

The other endpoint calls have been validated against v3 api to do what
we want them to do. All comments regarding implementing v3 keystone
have been removed.

Change-Id: Icae8a02815b1416a60bc8c6d57ee892fbfd7ccc4
",git fetch https://review.opendev.org/openstack/shade refs/changes/52/289052/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/operatorcloud.py', 'shade/_tasks.py']",2,5119c3fb3e3f470900d5404f2de59a76142180f0,update_endpoint,"class EndpointUpdate(task_manager.Task): def main(self, client): return client.keystone_client.endpoints.update(**self.args) ",,66,0
openstack%2Ffuel-ui~stable%2Fmitaka~Id91fa3f4dfd78c0adf2d38a5d0434f48ed809df4,openstack/fuel-ui,stable/mitaka,Id91fa3f4dfd78c0adf2d38a5d0434f48ed809df4,Memoize calls to moment.js,MERGED,2016-08-12 14:46:08.000000000,2016-08-12 18:44:44.000000000,2016-08-12 18:39:23.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 14:46:08.000000000', 'files': ['static/views/cluster_page_tabs/deployment_history_component.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/f84ad7e38090a2ec133895d122b239f2fc153c02', 'message': 'Memoize calls to moment.js\n\nThis will allow to speed up timeline rendering\n\nImplements blueprint ui-deployment-history\n\nChange-Id: Id91fa3f4dfd78c0adf2d38a5d0434f48ed809df4\n'}]",0,354759,f84ad7e38090a2ec133895d122b239f2fc153c02,13,5,1,8766,,,0,"Memoize calls to moment.js

This will allow to speed up timeline rendering

Implements blueprint ui-deployment-history

Change-Id: Id91fa3f4dfd78c0adf2d38a5d0434f48ed809df4
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/59/354759/1 && git format-patch -1 --stdout FETCH_HEAD,['static/views/cluster_page_tabs/deployment_history_component.js'],1,f84ad7e38090a2ec133895d122b239f2fc153c02,bp/ui-deployment-history,var parseTime = _.memoize((time) => Number(moment.utc(time).unix())); (task) => task.get('time_start') ? parseTime(task.get('time_start')) : 0 (task) => task.get('time_end') ? parseTime(task.get('time_end')) : 0 parseTime(task.get('time_start')) : 0; parseTime(task.get('time_end')) : timeEnd;, (task) => task.get('time_start') ? moment.utc(task.get('time_start')).unix() : 0 (task) => task.get('time_end') ? moment.utc(task.get('time_end')).unix() : 0 moment.utc(task.get('time_start')).unix() : 0; moment.utc(task.get('time_end')).unix() : timeEnd;,6,4
openstack%2Ftempest~master~I01fcfa2ad270321107a11e50ed36e7d7cc0d3de2,openstack/tempest,master,I01fcfa2ad270321107a11e50ed36e7d7cc0d3de2,Remove v1 volume_types_client,ABANDONED,2016-08-10 23:49:31.000000000,2016-08-12 18:42:23.000000000,,"[{'_account_id': 3}, {'_account_id': 10385}]","[{'number': 1, 'created': '2016-08-10 23:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9a244112ba3217f536d361922342b7d38c1353e7', 'message': 'DNM: Remove v1 volume_types_client\n\nCurrent Tempest doesn\'t contain volume types tests at all, but\nthe corresponding client is contained.\nAccording to Cinder implementation[1], ""list volume types"" API and\n""show a volume type"" API only are implemented. So maybe we will be\nable to implement tests for them, but the corresponding API site[2]\ncontains ""create a volume type"" and ""update a volume type"" also.\nSo the API seems unclear now.\nBefore defining the client as a stable interface, it is nice to\nremove the client to avoid a confusion.\n\n[1]: https://github.com/openstack/cinder/blob/master/cinder/api/v1/types.py\n[2]: http://developer.openstack.org/api-ref-blockstorage-v1.html#volumes-v1-types\n\nChange-Id: I01fcfa2ad270321107a11e50ed36e7d7cc0d3de2\n'}, {'number': 2, 'created': '2016-08-10 23:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d12bce8933402e7b46e3e4d9f6019e5246302eea', 'message': 'Remove v1 volume_types_client\n\nCurrent Tempest doesn\'t contain volume types tests at all, but\nthe corresponding client is contained.\nAccording to Cinder implementation[1], ""list volume types"" API and\n""show a volume type"" API only are implemented. So maybe we will be\nable to implement tests for them, but the corresponding API site[2]\ncontains ""create a volume type"" and ""update a volume type"" also.\nSo the API seems unclear now.\nBefore defining the client as a stable interface, it is nice to\nremove the client to avoid a confusion.\n\n[1]: https://github.com/openstack/cinder/blob/master/cinder/api/v1/types.py\n[2]: http://developer.openstack.org/api-ref-blockstorage-v1.html#volumes-v1-types\n\nChange-Id: I01fcfa2ad270321107a11e50ed36e7d7cc0d3de2\n'}, {'number': 3, 'created': '2016-08-11 18:13:44.000000000', 'files': ['tempest/services/volume/v1/__init__.py', 'tempest/clients.py', 'tempest/services/volume/v1/json/admin/types_client.py', 'tempest/services/volume/v1/json/admin/__init__.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7312633ed43b7e628ccc1418360fcc74440ca598', 'message': 'Remove v1 volume_types_client\n\nCurrent Tempest doesn\'t contain volume types tests at all, but\nthe corresponding client is contained.\nAccording to Cinder implementation[1], ""list volume types"" API and\n""show a volume type"" API only are implemented. So maybe we will be\nable to implement tests for them, but the corresponding API site[2]\ncontains ""create a volume type"" and ""update a volume type"" also.\nSo the API seems unclear now.\nBefore defining the client as a stable interface, it is nice to\nremove the client to avoid a confusion.\n\n[1]: https://github.com/openstack/cinder/blob/master/cinder/api/v1/types.py\n[2]: http://developer.openstack.org/api-ref-blockstorage-v1.html#volumes-v1-types\n\nChange-Id: I01fcfa2ad270321107a11e50ed36e7d7cc0d3de2\n'}]",0,353785,7312633ed43b7e628ccc1418360fcc74440ca598,8,2,3,6167,,,0,"Remove v1 volume_types_client

Current Tempest doesn't contain volume types tests at all, but
the corresponding client is contained.
According to Cinder implementation[1], ""list volume types"" API and
""show a volume type"" API only are implemented. So maybe we will be
able to implement tests for them, but the corresponding API site[2]
contains ""create a volume type"" and ""update a volume type"" also.
So the API seems unclear now.
Before defining the client as a stable interface, it is nice to
remove the client to avoid a confusion.

[1]: https://github.com/openstack/cinder/blob/master/cinder/api/v1/types.py
[2]: http://developer.openstack.org/api-ref-blockstorage-v1.html#volumes-v1-types

Change-Id: I01fcfa2ad270321107a11e50ed36e7d7cc0d3de2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/85/353785/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/volume/v1/__init__.py', 'tempest/clients.py', 'tempest/services/volume/v1/json/admin/types_client.py', 'tempest/services/volume/v1/json/admin/__init__.py']",4,9a244112ba3217f536d361922342b7d38c1353e7,volumes,,,1,24
openstack%2Fneutron~master~I9aa792dc5711724ec40d7142570562a816112712,openstack/neutron,master,I9aa792dc5711724ec40d7142570562a816112712,Cleanup DB retry logic in ML2,MERGED,2016-06-21 23:59:03.000000000,2016-08-12 18:40:10.000000000,2016-08-10 18:09:07.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6558}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 10386}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-06-21 23:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f20e3873462b372865c60c905d072f320a955c4a', 'message': ""Don't convert DBDuplicate to RetryRequest in ML2\n\nDBDuplicate exceptions are now handled by the retry logic\ndirectly as of I828f529db8c389ba0ab1eaa5f93ca2f5563048a8\nso converting them is unnecessary.\n\nChange-Id: I9aa792dc5711724ec40d7142570562a816112712\n""}, {'number': 2, 'created': '2016-07-29 08:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/50c9daa0823a4c9103e88c1a8fbd876ae43944bd', 'message': ""Cleanup DB retry logic in ML2\n\nThe retry wrapper in db_api now catches DBDuplicate\nerrors so the conversion to RetryRequest isn't necessary.\nIt also catches StaleData errors so the separate use\nof the oslo_db_api.wrap_db_retry around update_port_status\nisn't necessary.\n\nSee neutron.db.api.retry_db_errors for details.\n\nChange-Id: I9aa792dc5711724ec40d7142570562a816112712\n""}, {'number': 3, 'created': '2016-08-10 04:38:30.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/32c470d03cf62332998829dcd60cc7fcec679fa7', 'message': ""Cleanup DB retry logic in ML2\n\nThe retry wrapper in db_api now catches DBDuplicate\nerrors so the conversion to RetryRequest isn't necessary.\nIt also catches StaleData errors so the separate use\nof the oslo_db_api.wrap_db_retry around update_port_status\nisn't necessary.\n\nSee neutron.db.api.retry_db_errors for details.\n\nChange-Id: I9aa792dc5711724ec40d7142570562a816112712\n""}]",0,332586,32c470d03cf62332998829dcd60cc7fcec679fa7,39,16,3,7787,,,0,"Cleanup DB retry logic in ML2

The retry wrapper in db_api now catches DBDuplicate
errors so the conversion to RetryRequest isn't necessary.
It also catches StaleData errors so the separate use
of the oslo_db_api.wrap_db_retry around update_port_status
isn't necessary.

See neutron.db.api.retry_db_errors for details.

Change-Id: I9aa792dc5711724ec40d7142570562a816112712
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/332586/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,f20e3873462b372865c60c905d072f320a955c4a,, with session.begin(subtransactions=True): with session.begin(subtransactions=True):," with db_api.exc_to_retry(os_db_exception.DBDuplicateEntry),\ session.begin(subtransactions=True): with db_api.exc_to_retry(os_db_exception.DBDuplicateEntry),\ session.begin(subtransactions=True):",2,4
openstack%2Ffuel-library~master~Ic8efcd4f67791ad9eb35b3cb7bd21b08cbce6241,openstack/fuel-library,master,Ic8efcd4f67791ad9eb35b3cb7bd21b08cbce6241,libvirt service name for xenial,MERGED,2016-08-03 09:45:14.000000000,2016-08-12 18:38:46.000000000,2016-08-12 18:32:38.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 7468}, {'_account_id': 7562}, {'_account_id': 7604}, {'_account_id': 7613}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 12841}, {'_account_id': 14200}, {'_account_id': 14985}, {'_account_id': 16771}, {'_account_id': 20517}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-03 09:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f69cf006af0603615691baa2bc53d915ff9a3b0a', 'message': 'libvirt service name for xenial\n\nIn Ubuntu 16.04 upstream libvirt would\nbe used.\n\nblueprint: mos-xenial\n\nChange-Id: Ic8efcd4f67791ad9eb35b3cb7bd21b08cbce6241\n'}, {'number': 2, 'created': '2016-08-08 09:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8b40ed34b8bfce14dc1c9e5c2afe2f625948068b', 'message': 'libvirt service name for xenial\n\nIn Ubuntu 16.04 upstream libvirt would\nbe used.\n\nblueprint: mos-xenial\n\nChange-Id: Ic8efcd4f67791ad9eb35b3cb7bd21b08cbce6241\n'}, {'number': 3, 'created': '2016-08-11 16:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/0201ac3321a926d7db88ea9a4d75ddc251928eac', 'message': 'libvirt service name for xenial\n\nIn Ubuntu 16.04 upstream libvirt would\nbe used.\n\nblueprint: mos-xenial\n\nChange-Id: Ic8efcd4f67791ad9eb35b3cb7bd21b08cbce6241\n'}, {'number': 4, 'created': '2016-08-12 14:15:49.000000000', 'files': ['deployment/puppet/osnailyfacter/manifests/generate_vms/generate_vms.pp', 'tests/noop/spec/hosts/generate_vms/generate_vms_spec.rb', 'deployment/puppet/osnailyfacter/manifests/ceph_nova_compute.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d9911e4ef7a7acea0edd149f835b29f55df0e9e9', 'message': 'libvirt service name for xenial\n\nIn Ubuntu 16.04 upstream libvirt would\nbe used.\n\nblueprint: mos-xenial\n\nChange-Id: Ic8efcd4f67791ad9eb35b3cb7bd21b08cbce6241\n'}]",3,350483,d9911e4ef7a7acea0edd149f835b29f55df0e9e9,118,22,4,20517,,,0,"libvirt service name for xenial

In Ubuntu 16.04 upstream libvirt would
be used.

blueprint: mos-xenial

Change-Id: Ic8efcd4f67791ad9eb35b3cb7bd21b08cbce6241
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/83/350483/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/osnailyfacter/manifests/generate_vms/generate_vms.pp', 'deployment/puppet/osnailyfacter/manifests/ceph_nova_compute.pp']",2,f69cf006af0603615691baa2bc53d915ff9a3b0a,bp/mos-xenial," if $::operatingsystemrelease =~ /^14/ { $libvirt_service_name = $::nova::params::libvirt_service_name } else { # This override is required only for 16.04 Ubuntu because we are using UCA libvirt package. $libvirt_service_name = 'libvirt-bin' } name => $libvirt_service_name,"," name => $::nova::params::libvirt_service_name,",16,2
openstack%2Fopenstack-ansible-lxc_container_create~master~I9551748692140100ede69fa5fa0ad61609743109,openstack/openstack-ansible-lxc_container_create,master,I9551748692140100ede69fa5fa0ad61609743109,[DOCS] Move playbook example to separate file,MERGED,2016-08-11 20:27:39.000000000,2016-08-12 18:38:39.000000000,2016-08-12 18:38:39.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 10607}, {'_account_id': 11268}, {'_account_id': 12402}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 20:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/9a6e29a755cb19c290f33619456baa1a802b80aa', 'message': '[DOCS] Move playbook example to separate file.\n\nChange-Id: I9551748692140100ede69fa5fa0ad61609743109\n'}, {'number': 2, 'created': '2016-08-11 20:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/9bfb99b8f112e38d9a5ed0d0dec565a2999fd21b', 'message': '[DOCS] Move playbook example to separate file\n\nChange-Id: I9551748692140100ede69fa5fa0ad61609743109\n'}, {'number': 3, 'created': '2016-08-12 01:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/c00ef85a4feff49bf53f87c8aed6264402ef91f2', 'message': '[DOCS] Move playbook example to separate file\n\nChange-Id: I9551748692140100ede69fa5fa0ad61609743109\n'}, {'number': 4, 'created': '2016-08-12 14:29:18.000000000', 'files': ['doc/source/index.rst', 'examples/playbook.yml', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/b06ca2f2abf05a5dc7d68133c4216fe9b22d8273', 'message': '[DOCS] Move playbook example to separate file\n\nChange-Id: I9551748692140100ede69fa5fa0ad61609743109\n'}]",2,354369,b06ca2f2abf05a5dc7d68133c4216fe9b22d8273,19,7,4,12402,,,0,"[DOCS] Move playbook example to separate file

Change-Id: I9551748692140100ede69fa5fa0ad61609743109
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/69/354369/1 && git format-patch -1 --stdout FETCH_HEAD,"['examples/playbook.yml', 'README.rst']",2,9a6e29a755cb19c290f33619456baa1a802b80aa,bp/osa-install-guide-overhaul,============================================================================ Ansible role for creating LXC containers. This role creates several directories on the LXC host for use in bind-mounted storage within theDefault variablesRequired variables,"###################################### Ansible role for creating LXC containers. This role will create several directories on the LXC host for use in bind mounted storage within theDefault VariablesRequired Variables Example Playbook ================ .. code-block:: yaml - name: Create container(s) hosts: all_containers gather_facts: false user: root roles: - { role: ""lxc_container_create"" } ",12,19
openstack%2Ftripleo-ci~master~I6dd6676ae9a53a31afeaec43d242a33e072b4a94,openstack/tripleo-ci,master,I6dd6676ae9a53a31afeaec43d242a33e072b4a94,Reinstall python-requests in bootstrap script,MERGED,2016-08-03 11:11:27.000000000,2016-08-12 18:37:46.000000000,2016-08-12 17:57:32.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 10873}]","[{'number': 1, 'created': '2016-08-03 11:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bb62c2711abb8339ba9cf941721c4ddfc2134d1b', 'message': ""Reinstall python-requests in bootstrap script\n\npython-requests needs to be reinstalled in bootstrap-overcloud-full.sh\nif it was already installed in order to make this script idempotent.\nOtherwise, yum sees the package as already installed and does not\nreinstall it again after we have rm'd the files (which we do to clean up\nthe previous pip install).\n\nChange-Id: I6dd6676ae9a53a31afeaec43d242a33e072b4a94\n""}, {'number': 2, 'created': '2016-08-05 20:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cfa4f0e95704239818c7098c847eccb74bc7dc65', 'message': ""Reinstall python-requests in bootstrap script\n\npython-requests needs to be reinstalled in bootstrap-overcloud-full.sh\nif it was already installed in order to make this script idempotent.\nOtherwise, yum sees the package as already installed and does not\nreinstall it again after we have rm'd the files (which we do to clean up\nthe previous pip install).\n\nChange-Id: I6dd6676ae9a53a31afeaec43d242a33e072b4a94\n""}, {'number': 3, 'created': '2016-08-10 11:48:55.000000000', 'files': ['scripts/bootstrap-overcloud-full.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/55299128542fe01d556ff3bae6030858a8460c24', 'message': ""Reinstall python-requests in bootstrap script\n\npython-requests needs to be reinstalled in bootstrap-overcloud-full.sh\nif it was already installed in order to make this script idempotent.\nOtherwise, yum sees the package as already installed and does not\nreinstall it again after we have rm'd the files (which we do to clean up\nthe previous pip install).\n\nChange-Id: I6dd6676ae9a53a31afeaec43d242a33e072b4a94\n""}]",0,350521,55299128542fe01d556ff3bae6030858a8460c24,31,4,3,7144,,,0,"Reinstall python-requests in bootstrap script

python-requests needs to be reinstalled in bootstrap-overcloud-full.sh
if it was already installed in order to make this script idempotent.
Otherwise, yum sees the package as already installed and does not
reinstall it again after we have rm'd the files (which we do to clean up
the previous pip install).

Change-Id: I6dd6676ae9a53a31afeaec43d242a33e072b4a94
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/21/350521/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-overcloud-full.sh'],1,bb62c2711abb8339ba9cf941721c4ddfc2134d1b,multinode,"# Reinstall python-requests if it was already installed, otherwise it will be # installed later when other packages are installed. if rpm -q python-requests; then sudo yum reinstall -y python-requests fi",,5,0
openstack%2Fopenstack-ansible-tests~master~Iaf78c8fd3c2138e1d7d4384fb83c90cb7ddd6d10,openstack/openstack-ansible-tests,master,Iaf78c8fd3c2138e1d7d4384fb83c90cb7ddd6d10,Introduced all the scaffolding for test repo,MERGED,2016-08-11 20:34:11.000000000,2016-08-12 18:36:29.000000000,2016-08-12 18:36:29.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 20:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c60ebe0b20d70b8a5b6da7e85a4d6ec02012c258', 'message': 'Introduced all the scaffolding for test repo\n\n- gitignore to avoid bad files\n- git review to enable git review/gerrit integration\n- Vagrantfile like the other repos, but not useful (yet!)\n- dummy inventory file\n- setup.* files because docs use pbr\n- requirements files\n- tox.ini for test launcher to match openstack standards\n\nChange-Id: Iaf78c8fd3c2138e1d7d4384fb83c90cb7ddd6d10\n'}, {'number': 2, 'created': '2016-08-11 20:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/06c6ed3beb497aa7a047e3f59a21c1b661fb0f72', 'message': 'Introduced all the scaffolding for test repo\n\n- gitignore to avoid bad files\n- git review to enable git review/gerrit integration\n- Vagrantfile like the other repos, but not useful (yet!)\n- dummy inventory file\n- setup.* files because docs use pbr\n- requirements files\n- tox.ini for test launcher to match openstack standards\n\nChange-Id: Iaf78c8fd3c2138e1d7d4384fb83c90cb7ddd6d10\n'}, {'number': 3, 'created': '2016-08-12 14:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/89aef94b031045bb07c1e70d7b8c83a44498832f', 'message': 'Introduced all the scaffolding for test repo\n\n- gitignore to avoid bad files\n- git review to enable git review/gerrit integration\n- Vagrantfile like the other repos, but not useful (yet!)\n- dummy inventory file\n- setup.* files because docs use pbr\n- requirements files\n- tox.ini for test launcher to match openstack standards\n- scaffolded docs and release notes for gates to pass\n\nChange-Id: Iaf78c8fd3c2138e1d7d4384fb83c90cb7ddd6d10\n'}, {'number': 4, 'created': '2016-08-12 14:50:07.000000000', 'files': ['.gitignore', '.gitreview', 'test-requirements.txt', 'test.yml', 'setup.py', 'doc/source/conf.py', 'releasenotes/source/_templates/.placeholder', 'releasenotes/source/index.rst', 'inventory', 'doc/Makefile', 'releasenotes/notes/.placeholder', 'releasenotes/source/unreleased.rst', 'run_tests.sh', 'doc/source/index.rst', 'Vagrantfile', 'releasenotes/source/_static/.placeholder', 'other-requirements.txt', 'setup.cfg', 'LICENSE', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/64e65750cd25e81ddb903993c70a0887bc295ea8', 'message': 'Introduced all the scaffolding for test repo\n\n- gitignore to avoid bad files\n- git review to enable git review/gerrit integration\n- Vagrantfile like the other repos, but not useful (yet!)\n- dummy inventory file\n- setup.* files because docs use pbr\n- requirements files\n- tox.ini for test launcher to match openstack standards\n- scaffolded docs and release notes for gates to pass\n\nChange-Id: Iaf78c8fd3c2138e1d7d4384fb83c90cb7ddd6d10\n'}]",0,354374,64e65750cd25e81ddb903993c70a0887bc295ea8,15,5,4,17068,,,0,"Introduced all the scaffolding for test repo

- gitignore to avoid bad files
- git review to enable git review/gerrit integration
- Vagrantfile like the other repos, but not useful (yet!)
- dummy inventory file
- setup.* files because docs use pbr
- requirements files
- tox.ini for test launcher to match openstack standards
- scaffolded docs and release notes for gates to pass

Change-Id: Iaf78c8fd3c2138e1d7d4384fb83c90cb7ddd6d10
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/74/354374/4 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', '.gitignore', '.gitreview', 'test-requirements.txt', 'Vagrantfile', 'other-requirements.txt', 'setup.py', 'inventory', 'setup.cfg', 'LICENSE', 'tox.ini']",11,c60ebe0b20d70b8a5b6da7e85a4d6ec02012c258,bp/ansible-2-1-support,"[tox] minversion = 2.0 skipsdist = True envlist = docs,linters,functional [testenv] usedevelop = True install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} deps = -r{toxinidir}/test-requirements.txt commands = /usr/bin/find . -type f -name ""*.pyc"" -delete passenv = HOME http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY whitelist_externals = bash git rm wget setenv = VIRTUAL_ENV={envdir} [testenv:docs] commands= bash -c ""rm -rf doc/build"" doc8 doc python setup.py build_sphinx [doc8] # Settings for doc8: extensions = .rst [testenv:releasenotes] # NOTE(sdague): this target does not use constraints because # upstream infra does not yet support it. Once that's fixed, we can # drop the install_command. install_command = pip install -U --force-reinstall {opts} {packages} commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html # environment used by the -infra templated docs job [testenv:venv] # NOTE(jaegerandi): this target does not use constraints because # upstream infra does not yet support it. Once that's fixed, we can # drop the install_command. install_command = pip install -U --force-reinstall {opts} {packages} commands = {posargs} [testenv:pep8] commands = # Run hacking/flake8 check for all python files bash -c ""grep --recursive --binary-files=without-match \ --files-with-match '^.!.*python$' \ --exclude-dir .eggs \ --exclude-dir .git \ --exclude-dir .tox \ --exclude-dir *.egg-info \ --exclude-dir doc \ {toxinidir} | xargs flake8 --verbose"" [flake8] # Ignores the following rules due to how ansible modules work in general # F403 'from ansible.module_utils.basic import *' used; # unable to detect undefined names # H303 No wildcard (*) import. ignore=F403,H303 [testenv:bashate] commands = # Run bashate check for all bash scripts # Ignores the following rules: # E003: Indent not multiple of 4 (we prefer to use multiples of 2) # E006: Line longer than 79 columns (as many scripts use jinja # templating, this is very difficult) # E040: Syntax error determined using `bash -n` (as many scripts # use jinja templating, this will often fail and the syntax # error will be discovered in execution anyway) bash -c ""grep --recursive --binary-files=without-match \ --files-with-match '^.!.*\(ba\)\?sh$' \ --exclude-dir .tox \ --exclude-dir .git \ {toxinidir} | xargs bashate --error . --verbose --ignore=E003,E006,E040"" [testenv:ansible] deps = {[testenv]deps} ansible==1.9.4 ansible-lint>=2.7.0,<3.0.0 setenv = {[testenv]setenv} ANSIBLE_HOST_KEY_CHECKING = False ANSIBLE_SSH_CONTROL_PATH = /tmp/%%h-%%r # TODO (odyssey4me) These are only here as they are non-standard folder # names for Ansible 1.9.x. We are using the standard folder names for # Ansible v2.x. We can remove this when we move to Ansible 2.x. ANSIBLE_ACTION_PLUGINS = {homedir}/.ansible/plugins/action ANSIBLE_CALLBACK_PLUGINS = {homedir}/.ansible/plugins/callback ANSIBLE_FILTER_PLUGINS = {homedir}/.ansible/plugins/filter ANSIBLE_LOOKUP_PLUGINS = {homedir}/.ansible/plugins/lookup # This is required as the default is the current path or a path specified # in ansible.cfg ANSIBLE_LIBRARY = {homedir}/.ansible/plugins/library # This is required as the default is '/etc/ansible/roles' or a path # specified in ansible.cfg ANSIBLE_ROLES_PATH = {homedir}/.ansible/roles:{toxinidir}/.. commands = rm -rf {homedir}/.ansible/plugins git clone https://git.openstack.org/openstack/openstack-ansible-plugins \ {homedir}/.ansible/plugins rm -rf {homedir}/.ansible/roles #ansible-galaxy install \ # --role-file={toxinidir}/tests/ansible-role-requirements.yml \ # --force [testenv:ansible-syntax] deps = {[testenv:ansible]deps} setenv = {[testenv:ansible]setenv} commands = {[testenv:ansible]commands} ansible-playbook -i {toxinidir}/inventory \ --syntax-check \ --list-tasks \ {toxinidir}/test.yml [testenv:ansible-lint] deps = {[testenv:ansible]deps} commands = {[testenv:ansible]commands} ansible-lint {toxinidir} [testenv:functional] # NOTE(odyssey4me): this target does not use constraints because # it doesn't work in OpenStack-CI yet. Once that's fixed, we can # drop the install_command. install_command = pip install -U --force-reinstall {opts} {packages} deps = {[testenv:ansible]deps} setenv = {[testenv:ansible]setenv} commands = {[testenv:ansible]commands} #NOTE(evrardjp): currently there is no functional test of the #test repository. Only syntax checks are done. #ansible-playbook -i {toxinidir}/inventory \ # {toxinidir}/test.yml -vvvv [testenv:linters] deps = {[testenv:ansible]deps} setenv = {[testenv:ansible]setenv} commands = {[testenv:pep8]commands} {[testenv:bashate]commands} {[testenv:ansible-lint]commands} {[testenv:ansible-syntax]commands} {[testenv:docs]commands} ",,593,0
openstack%2Fglance_store~master~Ida8c040a68c1e08a285cf0dac1a71f621b8cde9e,openstack/glance_store,master,Ida8c040a68c1e08a285cf0dac1a71f621b8cde9e,Updated from global requirements,MERGED,2016-08-11 18:10:37.000000000,2016-08-12 18:27:18.000000000,2016-08-12 18:27:18.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5202}]","[{'number': 1, 'created': '2016-08-11 18:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/4dd9676e61d58383b293e511892cd8242a991dcc', 'message': 'Updated from global requirements\n\nChange-Id: Ida8c040a68c1e08a285cf0dac1a71f621b8cde9e\n'}, {'number': 2, 'created': '2016-08-11 23:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/51ccb26d4f38fb622067f3376ea055057eec407f', 'message': 'Updated from global requirements\n\nChange-Id: Ida8c040a68c1e08a285cf0dac1a71f621b8cde9e\n'}, {'number': 3, 'created': '2016-08-12 04:33:47.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ec5ec71bbf0512da20bc7b11628736d273f86c8d', 'message': 'Updated from global requirements\n\nChange-Id: Ida8c040a68c1e08a285cf0dac1a71f621b8cde9e\n'}]",0,354297,ec5ec71bbf0512da20bc7b11628736d273f86c8d,17,3,3,11131,,,0,"Updated from global requirements

Change-Id: Ida8c040a68c1e08a285cf0dac1a71f621b8cde9e
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/97/354297/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4dd9676e61d58383b293e511892cd8242a991dcc,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Ftripleo-heat-templates~stable%2Fmitaka~Ibdee2381e9d7d4ee0821e3a013aa8488290f3c41,openstack/tripleo-heat-templates,stable/mitaka,Ibdee2381e9d7d4ee0821e3a013aa8488290f3c41,Update pacemaker_resource_restart.sh for new HA arch,ABANDONED,2016-08-12 14:03:50.000000000,2016-08-12 18:26:35.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 20172}]","[{'number': 1, 'created': '2016-08-12 14:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07dff7b0411731de3bcbae42272d3a82b9767ccf', 'message': 'Remove httpd from pacemaker_resource_restart.sh\n\nhttpd is no longer a pacemaker managed resource, we should not attempt\nto stop/start it in pacemaker_resource_restart.sh as this will cause\nstack updates to fail.\n\nChange-Id: Ibdee2381e9d7d4ee0821e3a013aa8488290f3c41\nCloses-Bug: #1612667\n'}, {'number': 2, 'created': '2016-08-12 14:22:23.000000000', 'files': ['extraconfig/tasks/pacemaker_resource_restart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5cbe550317678d6a9002f2206ae2246643d5f067', 'message': 'Update pacemaker_resource_restart.sh for new HA arch\n\nGiven the new HA architecture with less pacemaker managed resources, we\nneed to update this script to reflect those changes. Without these\nchanges, stack-updates using the exact same templates will fail since\nthis script is always executed on update.\n\nChange-Id: Ibdee2381e9d7d4ee0821e3a013aa8488290f3c41\nCloses-Bug: #1612667\n'}]",8,354740,5cbe550317678d6a9002f2206ae2246643d5f067,8,4,2,7144,,,0,"Update pacemaker_resource_restart.sh for new HA arch

Given the new HA architecture with less pacemaker managed resources, we
need to update this script to reflect those changes. Without these
changes, stack-updates using the exact same templates will fail since
this script is always executed on update.

Change-Id: Ibdee2381e9d7d4ee0821e3a013aa8488290f3c41
Closes-Bug: #1612667
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/354740/2 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/tasks/pacemaker_resource_restart.sh'],1,07dff7b0411731de3bcbae42272d3a82b9767ccf,bug/1612667,, pcs resource disable httpd check_resource httpd stopped 300 pcs resource enable httpd check_resource httpd started 800,0,4
openstack%2Fopenstack-ansible-security~master~Iad561d67eb3ad821fc41fc315126cb277bc8de59,openstack/openstack-ansible-security,master,Iad561d67eb3ad821fc41fc315126cb277bc8de59,Display idempotency test output,ABANDONED,2016-08-12 14:49:06.000000000,2016-08-12 18:21:47.000000000,,[],"[{'number': 1, 'created': '2016-08-12 14:49:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-security/commit/9db67bb6266dd4c9b06cad640fe246aa4ee067c4', 'message': 'Display idempotency test output\n\nThis patch shows the idempotency test output so that failures are\neasier to find in the gate jobs.\n\nChange-Id: Iad561d67eb3ad821fc41fc315126cb277bc8de59\n'}]",0,354761,9db67bb6266dd4c9b06cad640fe246aa4ee067c4,2,0,1,538,,,0,"Display idempotency test output

This patch shows the idempotency test output so that failures are
easier to find in the gate jobs.

Change-Id: Iad561d67eb3ad821fc41fc315126cb277bc8de59
",git fetch https://review.opendev.org/openstack/openstack-ansible-security refs/changes/61/354761/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9db67bb6266dd4c9b06cad640fe246aa4ee067c4,show-idempotency-check-output," | tee /dev/tty | grep -q ""changed=0.*failed=0"" \"," | grep -q ""changed=0.*failed=0"" \",1,1
openstack%2Fneutron~master~Ibcbea64a3906857d0dc5e71c1303896e0b2486b7,openstack/neutron,master,Ibcbea64a3906857d0dc5e71c1303896e0b2486b7,Add functional tests for radvd,ABANDONED,2014-07-28 01:21:58.000000000,2016-08-12 18:21:25.000000000,,"[{'_account_id': 3}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 8873}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10692}]","[{'number': 1, 'created': '2014-07-28 01:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9604a6ff5124065474e068f8faef2b6d31f1db37', 'message': 'Add functional tests for radvd\n\nCloses-bug: #1345341\n\nChange-Id: Ibcbea64a3906857d0dc5e71c1303896e0b2486b7\n'}, {'number': 2, 'created': '2014-08-08 03:57:15.000000000', 'files': ['neutron/tests/functional/agent/linux/test_radvd.py', 'neutron/tests/functional/agent/linux/base.py', 'neutron/tests/functional/base.py', 'neutron/tests/unit/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb8511f3e4137b7a2d82928991b141b97f524df0', 'message': 'Add functional tests for radvd\n\nCloses-bug: #1345341\n\nChange-Id: Ibcbea64a3906857d0dc5e71c1303896e0b2486b7\n'}]",16,109889,cb8511f3e4137b7a2d82928991b141b97f524df0,47,21,2,6524,,,0,"Add functional tests for radvd

Closes-bug: #1345341

Change-Id: Ibcbea64a3906857d0dc5e71c1303896e0b2486b7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/109889/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_radvd.py', 'neutron/tests/functional/agent/linux/base.py', 'neutron/tests/functional/base.py', 'neutron/tests/unit/test_l3_agent.py']",4,9604a6ff5124065474e068f8faef2b6d31f1db37,bug/1345341,"def prepare_router_data(ip_version=4, enable_snat=None, num_internal_ports=1, ra_mode=None, addr_mode=None): ip_version=ip_version, ra_mode=ra_mode, addr_mode=addr_mode)","def prepare_router_data(ip_version=4, enable_snat=None, num_internal_ports=1): ip_version=ip_version)",157,2
openstack%2Fpython-fuelclient~stable%2Fmitaka~I59542eba922d793406c50b864b1cd0c416c7c891,openstack/python-fuelclient,stable/mitaka,I59542eba922d793406c50b864b1cd0c416c7c891,Add fuel2 diagnostic snapshot commands,ABANDONED,2016-08-12 15:25:06.000000000,2016-08-12 18:20:33.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 15:25:06.000000000', 'files': ['fuelclient/v1/snapshot.py', 'fuelclient/tests/unit/v2/lib/test_snapshot.py', 'fuelclient/v1/__init__.py', 'fuelclient/tests/unit/v2/cli/test_snapshot.py', 'setup.cfg', 'fuelclient/commands/snapshot.py', 'fuelclient/__init__.py'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/d6d0c7e1082c94a24e9bbdf3697727a714a9e857', 'message': 'Add fuel2 diagnostic snapshot commands\n\nThis patch adds commands that allow to manipulate\nwith diagnostic snapshot process creation:\n\n   fuel2 snapshot get-default-config\n   fuel2 snapshot create\n   fuel2 snapshot get-link\n\nDocImpact\n\nChange-Id: I59542eba922d793406c50b864b1cd0c416c7c891\n'}]",0,354790,d6d0c7e1082c94a24e9bbdf3697727a714a9e857,9,4,1,18446,,,0,"Add fuel2 diagnostic snapshot commands

This patch adds commands that allow to manipulate
with diagnostic snapshot process creation:

   fuel2 snapshot get-default-config
   fuel2 snapshot create
   fuel2 snapshot get-link

DocImpact

Change-Id: I59542eba922d793406c50b864b1cd0c416c7c891
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/90/354790/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/v1/snapshot.py', 'fuelclient/tests/unit/v2/lib/test_snapshot.py', 'fuelclient/v1/__init__.py', 'fuelclient/tests/unit/v2/cli/test_snapshot.py', 'setup.cfg', 'fuelclient/commands/snapshot.py', 'fuelclient/__init__.py']",7,d6d0c7e1082c94a24e9bbdf3697727a714a9e857,deprecate_old_cli," 'snapshot': v1.snapshot,",,363,0
openstack%2Ftripleo-quickstart~master~I0da5e0f73a918d514492f09a17189b4b01d10c96,openstack/tripleo-quickstart,master,I0da5e0f73a918d514492f09a17189b4b01d10c96,use overcloud_templates_path for all template references,MERGED,2016-08-12 13:28:01.000000000,2016-08-12 18:19:33.000000000,2016-08-12 18:19:33.000000000,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 10022}, {'_account_id': 11491}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-08-12 13:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/baf52e87f0d3bdf1c890243be46caded461b5329', 'message': 'use overcloud_templates_path for all template references\n\nquickstart was explicitly referencing files in\n`/usr/share/openstack-tripleo-heat-templates` even when\n`overcloud_templates_path` was defined, leading to conflicts if the\nlocal repository diverged from what was in /usr/share.\n\nThis patch uses `overcloud_templates_path` for all template\nreferences.\n\nChange-Id: I0da5e0f73a918d514492f09a17189b4b01d10c96\n'}, {'number': 2, 'created': '2016-08-12 14:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/104bcb3e23f0e6e00021b78a8b571a586961ea1e', 'message': 'use overcloud_templates_path for all template references\n\nquickstart was explicitly referencing files in\n`/usr/share/openstack-tripleo-heat-templates` even when\n`overcloud_templates_path` was defined, leading to conflicts if the\nlocal repository diverged from what was in /usr/share.\n\nThis patch uses `overcloud_templates_path` for all template\nreferences.\n\nCloses-bug: 1612651\nChange-Id: I0da5e0f73a918d514492f09a17189b4b01d10c96\n'}, {'number': 3, 'created': '2016-08-12 14:38:31.000000000', 'files': ['config/general_config/ceph.yml', 'roles/tripleo/overcloud/defaults/main.yml', 'roles/tripleo/overcloud/templates/overcloud-deploy.sh.j2', 'roles/tripleo/overcloud/tasks/pre-deploy.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a95cbc7824a9a084b48462e36b71c3a03d87ff54', 'message': 'use overcloud_templates_path for all template references\n\nquickstart was explicitly referencing files in\n`/usr/share/openstack-tripleo-heat-templates` even when\n`overcloud_templates_path` was defined, leading to conflicts if the\nlocal repository diverged from what was in /usr/share.\n\nThis patch uses `overcloud_templates_path` for all template\nreferences.\n\nCloses-bug: 1612651\nChange-Id: I0da5e0f73a918d514492f09a17189b4b01d10c96\n'}]",0,354722,a95cbc7824a9a084b48462e36b71c3a03d87ff54,16,5,3,8745,,,0,"use overcloud_templates_path for all template references

quickstart was explicitly referencing files in
`/usr/share/openstack-tripleo-heat-templates` even when
`overcloud_templates_path` was defined, leading to conflicts if the
local repository diverged from what was in /usr/share.

This patch uses `overcloud_templates_path` for all template
references.

Closes-bug: 1612651
Change-Id: I0da5e0f73a918d514492f09a17189b4b01d10c96
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/22/354722/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo/overcloud/defaults/main.yml', 'roles/tripleo/overcloud/templates/overcloud-deploy.sh.j2', 'roles/tripleo/overcloud/tasks/pre-deploy.yml']",3,baf52e87f0d3bdf1c890243be46caded461b5329,bug/1612651, -e {{overcloud_templates_path}}/environments/network-isolation.yaml -e {{overcloud_templates_path}}/environments/net-single-nic-with-vlans.yaml -e {{overcloud_templates_path}}/environments/puppet-pacemaker.yaml, -e /usr/share/openstack-tripleo-heat-templates/environments/network-isolation.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/net-single-nic-with-vlans.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/puppet-pacemaker.yaml,9,5
openstack%2Fmagnum~master~I7c0bf86c549116fb250f33fe7ee4429553febb6f,openstack/magnum,master,I7c0bf86c549116fb250f33fe7ee4429553febb6f,Use kubelet-wrapper provided by CoreOS,MERGED,2016-08-06 11:42:10.000000000,2016-08-12 18:16:07.000000000,2016-08-12 18:16:07.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 7770}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 20498}]","[{'number': 1, 'created': '2016-08-06 11:42:10.000000000', 'files': ['magnum/drivers/k8s_coreos_v1/templates/fragments/enable-kubelet-master.yaml', 'magnum/drivers/k8s_coreos_v1/templates/fragments/enable-kubelet-minion.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/8cd71a690500e5f82be75ab975089ecc01cc31e3', 'message': 'Use kubelet-wrapper provided by CoreOS\n\nThe kubelet binary and service file from the CoreOS image\nhas been removed.\nAs of CoreOS release v962.0.0 following executable script:\n/usr/lib/coreos/kubelet-wrapper is included in CoreOS image.\nOnly need to set KUBELET_VERSION environment variable to\nuse this script\n\nChange-Id: I7c0bf86c549116fb250f33fe7ee4429553febb6f\nCloses-Bug: #1605554\n'}]",0,352017,8cd71a690500e5f82be75ab975089ecc01cc31e3,19,6,1,13861,,,0,"Use kubelet-wrapper provided by CoreOS

The kubelet binary and service file from the CoreOS image
has been removed.
As of CoreOS release v962.0.0 following executable script:
/usr/lib/coreos/kubelet-wrapper is included in CoreOS image.
Only need to set KUBELET_VERSION environment variable to
use this script

Change-Id: I7c0bf86c549116fb250f33fe7ee4429553febb6f
Closes-Bug: #1605554
",git fetch https://review.opendev.org/openstack/magnum refs/changes/17/352017/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_coreos_v1/templates/fragments/enable-kubelet-master.yaml', 'magnum/drivers/k8s_coreos_v1/templates/fragments/enable-kubelet-minion.yaml']",2,8cd71a690500e5f82be75ab975089ecc01cc31e3,bug/1605554, Environment=KUBELET_VERSION=${KUBE_VERSION}_coreos.0 ExecStart=/usr/lib/coreos/kubelet-wrapper \, ExecStart=/usr/bin/kubelet \,4,2
openstack%2Ftripleo-ci~master~Ib5f5b3f98f7ab0f9137d73232fcd3ff7e9ed3528,openstack/tripleo-ci,master,Ib5f5b3f98f7ab0f9137d73232fcd3ff7e9ed3528,Fix resetting /etc/hosts,MERGED,2016-08-05 20:50:36.000000000,2016-08-12 18:14:37.000000000,2016-08-12 18:14:37.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 10969}]","[{'number': 1, 'created': '2016-08-05 20:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9d8f5b8504f0e4d98e71302cea7711be05288f61', 'message': 'Fix resetting /etc/hosts\n\nThe resetting of /etc/hosts was not working as expected (quoting issue).\nThis corrects the issue.\n\nChange-Id: Ib5f5b3f98f7ab0f9137d73232fcd3ff7e9ed3528\n'}, {'number': 2, 'created': '2016-08-10 11:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5dd66e26206ee57a9c301be74abba58c74968fd0', 'message': 'Fix resetting /etc/hosts\n\nThe resetting of /etc/hosts was not working as expected (quoting issue).\nThis corrects the issue.\n\nChange-Id: Ib5f5b3f98f7ab0f9137d73232fcd3ff7e9ed3528\n'}, {'number': 3, 'created': '2016-08-10 16:05:34.000000000', 'files': ['toci_instack_osinfra.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/faa9e066c0633660821ca365d97d01930ad9c6c2', 'message': 'Fix resetting /etc/hosts\n\nThe resetting of /etc/hosts was not working as expected (quoting issue).\nThis corrects the issue.\n\nChange-Id: Ib5f5b3f98f7ab0f9137d73232fcd3ff7e9ed3528\n'}]",1,351917,faa9e066c0633660821ca365d97d01930ad9c6c2,25,4,3,7144,,,0,"Fix resetting /etc/hosts

The resetting of /etc/hosts was not working as expected (quoting issue).
This corrects the issue.

Change-Id: Ib5f5b3f98f7ab0f9137d73232fcd3ff7e9ed3528
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/17/351917/1 && git format-patch -1 --stdout FETCH_HEAD,['toci_instack_osinfra.sh'],1,9d8f5b8504f0e4d98e71302cea7711be05288f61,multinode, hosts=$(mktemp) cat >$hosts<<EOF 127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain6 EOF scp $SSH_OPTIONS -i /etc/nodepool/id_rsa $hosts $ip:hosts," hosts='127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain6' ssh $SSH_OPTIONS -tt -i /etc/nodepool/id_rsa $ip \ /bin/bash -c ""echo \""$hosts\"" > hosts""",6,4
openstack%2Ftrove~master~I0bb92b0442a56a97e6d1bb9441057be2c4426abe,openstack/trove,master,I0bb92b0442a56a97e6d1bb9441057be2c4426abe,DO NOT MERGE - test for new check jobs,ABANDONED,2016-08-12 18:12:15.000000000,2016-08-12 18:14:20.000000000,,[],"[{'number': 1, 'created': '2016-08-12 18:12:15.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/361fe0f0d6db8a2037110c067958941927d51c01', 'message': 'DO NOT MERGE - test for new check jobs\n\nChange-Id: I0bb92b0442a56a97e6d1bb9441057be2c4426abe\nDepends-On: I51d23d396294c7ce4f584143f349ee52a2883c0e\n'}]",0,354884,361fe0f0d6db8a2037110c067958941927d51c01,2,0,1,10215,,,0,"DO NOT MERGE - test for new check jobs

Change-Id: I0bb92b0442a56a97e6d1bb9441057be2c4426abe
Depends-On: I51d23d396294c7ce4f584143f349ee52a2883c0e
",git fetch https://review.opendev.org/openstack/trove refs/changes/84/354884/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,361fe0f0d6db8a2037110c067958941927d51c01,,# check job only - do not merge,,1,0
openstack%2Fdesignate~master~I890fd4c6e329ad1875bac00e98156f90f52c78f5,openstack/designate,master,I890fd4c6e329ad1875bac00e98156f90f52c78f5,Grenade Plugin,MERGED,2016-07-01 17:38:45.000000000,2016-08-12 18:09:32.000000000,2016-07-14 17:01:18.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}, {'_account_id': 8174}, {'_account_id': 11662}]","[{'number': 1, 'created': '2016-07-01 17:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c6aa3f08c10ef3272fc016f53af69c5d718d372a', 'message': '!!WIP!! - Grenade Plugin\n\nChange-Id: I890fd4c6e329ad1875bac00e98156f90f52c78f5\n'}, {'number': 2, 'created': '2016-07-11 16:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1d1b0e85fd2dfea6b6d3230e35e9a9feb2bde9c1', 'message': '!!WIP!! - Grenade Plugin\n\nChange-Id: I890fd4c6e329ad1875bac00e98156f90f52c78f5\n'}, {'number': 3, 'created': '2016-07-11 18:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/76fdf2a05bd0832be13f90623cdc34f753598fbe', 'message': 'Grenade Plugin\n\nChange-Id: I890fd4c6e329ad1875bac00e98156f90f52c78f5\n'}, {'number': 4, 'created': '2016-07-12 16:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/115562ba540cedab6d8ff91b2c5e5b51dbfd43fb', 'message': 'Grenade Plugin\n\nChange-Id: I890fd4c6e329ad1875bac00e98156f90f52c78f5\n'}, {'number': 5, 'created': '2016-07-13 13:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c01f58855d4988e7bef413d817f3bc9c2c5a7ef0', 'message': 'Grenade Plugin\n\nChange-Id: I890fd4c6e329ad1875bac00e98156f90f52c78f5\n'}, {'number': 6, 'created': '2016-07-14 14:06:57.000000000', 'files': ['devstack/upgrade/shutdown.sh', 'devstack/upgrade/upgrade.sh', 'contrib/vagrant/Vagrantfile', 'devstack/upgrade/settings', 'devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/designate/commit/f374b5fe2c656400303f70a47c9f31bb6537ba0d', 'message': 'Grenade Plugin\n\nChange-Id: I890fd4c6e329ad1875bac00e98156f90f52c78f5\n'}]",13,336686,f374b5fe2c656400303f70a47c9f31bb6537ba0d,31,5,6,8099,,,0,"Grenade Plugin

Change-Id: I890fd4c6e329ad1875bac00e98156f90f52c78f5
",git fetch https://review.opendev.org/openstack/designate refs/changes/86/336686/6 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/upgrade/shutdown.sh', 'devstack/upgrade/upgrade.sh', 'contrib/vagrant/Vagrantfile', 'devstack/upgrade/settings', 'devstack/upgrade/resources.sh']",5,c6aa3f08c10ef3272fc016f53af69c5d718d372a,add-grenade-plugin,"#!/bin/bash set -o errexit source $GRENADE_DIR/grenaderc source $GRENADE_DIR/functions source $TOP_DIR/openrc admin admin set -o xtrace DESIGNATE_PROJECT=designate_grenade DESIGNATE_USER=designate_grenade DESIGNATE_PASS=designate_grenade DESIGNATE_ZONE_NAME=example.com. DESIGNATE_ZONE_EMAIL=hostmaster@example.com DESIGNATE_RRSET_NAME=www.example.com. DESIGNATE_RRSET_TYPE=A DESIGNATE_RRSET_RECORD=10.0.0.1 function _set_designate_user { OS_TENANT_NAME=$DESIGNATE_PROJECT OS_PROJECT_NAME=$DESIGNATE_PROJECT OS_USERNAME=$DESIGNATE_USER OS_PASSWORD=$DESIGNATE_PASS } function create { # create a tenant for the server eval $(openstack project create -f shell -c id $DESIGNATE_PROJECT) if [[ -z ""$id"" ]]; then die $LINENO ""Didn't create $DESIGNATE_PROJECT project"" fi resource_save designate project_id $id # create the user, and set $id locally eval $(openstack user create $DESIGNATE_USER \ --project $id \ --password $DESIGNATE_PASS \ -f shell -c id) if [[ -z ""$id"" ]]; then die $LINENO ""Didn't create $DESIGNATE_USER user"" fi resource_save designate user_id $id # Create a zone, and save the id eval $(openstack zone create --email $DESIGNATE_ZONE_EMAIL \ $DESIGNATE_ZONE_NAME \ -f shell -c id) resource_save designate zone_id $id eval $(openstack recordset create --records $DESIGNATE_RRSET_RECORD \ --type $DESIGNATE_RRSET_TYPE \ $DESIGNATE_ZONE_NAME \ $DESIGNATE_RRSET_NAME \ -f shell -c id) resource_save designate rrset_id $id # wait until rrset moves to active state local timeleft=1000 while [[ $timeleft -gt 0 ]]; do local status eval $(openstack recordset show $DESIGNATE_ZONE_NAME \ $DESIGNATE_RRSET_NAME \ -f shell -c status) if [[ ""$status"" != ""ACTIVE"" ]]; then if [[ ""$cluster_state"" == ""Error"" ]]; then die $LINENO ""Cluster is in Error state"" fi echo ""Cluster is still not in Active state"" sleep 10 timeleft=$((timeleft - 10)) if [[ $timeleft == 0 ]]; then die $LINENO ""Cluster hasn't moved to Active state \ during 1000 seconds"" fi else break fi done } function verify { _set_designate_user # check that cluster is in Active state local zone_id zone_id=$(resource_get designate zone_id) local rrset_id rrset_id=$(resource_get designate recordset_id) eval $(openstack zone show $zone_id -f shell -c status) echo -n $status if [[ ""$status"" != ""ACTIVE"" ]]; then die $LINENO ""Zone is not in Active state anymore"" fi eval $(openstack recordset show $zone_id $rrset_id -f shell -c status) echo -n $status if [[ ""$status"" != ""ACTIVE"" ]]; then die $LINENO ""Recordset is not in Active state anymore"" fi echo ""Designate verification: SUCCESS"" } function verify_noapi { : } function destroy { _set_designate_user set +o errexit # delete cluster local cluster_id zone_id=$(resource_get designate zone_id) openstack zone delete $zone_id > /dev/null # wait for cluster deletion local timeleft=500 while [[ $timeleft -gt 0 ]]; do openstack zone show $zone_id > /dev/null local rc=$? if [[ ""$rc"" != 1 ]]; then echo ""Zone still exists"" sleep 5 timeleft=$((timeleft - 5)) if [[ $timeleft == 0 ]]; then die $LINENO ""Zone hasn't been deleted during 500 seconds"" fi else break fi done set -o errexit local user_id user_id=$(resource_get designate user_id) local project_id project_id=$(resource_get designate project_id) openstack user delete $user_id openstack project delete $project_id } # Dispatcher case $1 in ""create"") create ;; ""verify_noapi"") verify_noapi ;; ""verify"") verify ;; ""destroy"") destroy ;; ""force_destroy"") set +o errexit destroy ;; esac ",,271,0
openstack%2Ftripleo-ci~master~Ifdfbb7beb02ba62087441df002f70aaba42aed6c,openstack/tripleo-ci,master,Ifdfbb7beb02ba62087441df002f70aaba42aed6c,Raise ping test count after multinode setup,MERGED,2016-08-05 20:50:36.000000000,2016-08-12 18:08:14.000000000,2016-08-12 18:08:14.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 10873}, {'_account_id': 10969}]","[{'number': 1, 'created': '2016-08-05 20:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bb090c730c909f3469cd571ace66c7d634cfb5b1', 'message': ""Raise ping test count after multinode setup\n\nI've seen a few instances where 3 packets does not allow enough time for\nthe networking to be established. This raises the count to 6 which has\nbeen sufficient in my testing.\n\nAlso adds a few more log messages.\n\nChange-Id: Ifdfbb7beb02ba62087441df002f70aaba42aed6c\n""}, {'number': 2, 'created': '2016-08-10 11:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a91211664263baecc77a5a8514544dd966f70c4e', 'message': ""Raise ping test count after multinode setup\n\nI've seen a few instances where 3 packets does not allow enough time for\nthe networking to be established. This raises the count to 6 which has\nbeen sufficient in my testing.\n\nAlso adds a few more log messages.\n\nChange-Id: Ifdfbb7beb02ba62087441df002f70aaba42aed6c\n""}, {'number': 3, 'created': '2016-08-10 16:05:34.000000000', 'files': ['scripts/tripleo.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/369e8c09edb416162bf735e60cb5f9873bdcfefc', 'message': ""Raise ping test count after multinode setup\n\nI've seen a few instances where 3 packets does not allow enough time for\nthe networking to be established. This raises the count to 6 which has\nbeen sufficient in my testing.\n\nAlso adds a few more log messages.\n\nChange-Id: Ifdfbb7beb02ba62087441df002f70aaba42aed6c\n""}]",0,351916,369e8c09edb416162bf735e60cb5f9873bdcfefc,29,5,3,7144,,,0,"Raise ping test count after multinode setup

I've seen a few instances where 3 packets does not allow enough time for
the networking to be established. This raises the count to 6 which has
been sufficient in my testing.

Also adds a few more log messages.

Change-Id: Ifdfbb7beb02ba62087441df002f70aaba42aed6c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/16/351916/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo.sh'],1,bb090c730c909f3469cd571ace66c7d634cfb5b1,multinode," log ""Running --repo-setup on $ip"" log ""Running ovs_vxlan_bridge"" local ping_command=""ping -c 6 -W 3 192.0.2.2"" log ""Pinging from $ip"""," local ping_command=""ping -c 3 -W 3 192.0.2.2""",4,1
openstack%2Ftripleo-ci~master~Iac212866fc343f3f3f930fad57b3a52236513d34,openstack/tripleo-ci,master,Iac212866fc343f3f3f930fad57b3a52236513d34,Make $TRIPLEO_ROOT overrideable,MERGED,2016-08-03 12:03:45.000000000,2016-08-12 18:08:08.000000000,2016-08-12 18:08:08.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 10969}]","[{'number': 1, 'created': '2016-08-03 12:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cea73e1089144d523dc3f12c9bf797f057171f7e', 'message': 'Make $TRIPLEO_ROOT overrideable\n\nBeing able to set a different $TRIPLEO_ROOT other than /opt/stack/new\nmakes the toci scripts more useful when running locally. There are also\nlots of places where /opt/stack/new was used directly, when we\ncould/should be using $TRIPLEO_ROOT.\n\nChange-Id: Iac212866fc343f3f3f930fad57b3a52236513d34\n'}, {'number': 2, 'created': '2016-08-05 20:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/26939681d8538cbd3abb90c8cef5ca49fe6767c6', 'message': 'Make $TRIPLEO_ROOT overrideable\n\nBeing able to set a different $TRIPLEO_ROOT other than /opt/stack/new\nmakes the toci scripts more useful when running locally. There are also\nlots of places where /opt/stack/new was used directly, when we\ncould/should be using $TRIPLEO_ROOT.\n\nChange-Id: Iac212866fc343f3f3f930fad57b3a52236513d34\n'}, {'number': 3, 'created': '2016-08-10 11:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/946511dfd11d059e9237ad7548eec531b645704a', 'message': 'Make $TRIPLEO_ROOT overrideable\n\nBeing able to set a different $TRIPLEO_ROOT other than /opt/stack/new\nmakes the toci scripts more useful when running locally. There are also\nlots of places where /opt/stack/new was used directly, when we\ncould/should be using $TRIPLEO_ROOT.\n\nChange-Id: Iac212866fc343f3f3f930fad57b3a52236513d34\n'}, {'number': 4, 'created': '2016-08-10 16:05:34.000000000', 'files': ['scripts/get_host_info.sh', 'scripts/common_vars.bash', 'toci_instack.sh', 'scripts/common_functions.sh', 'scripts/deploy.sh', 'toci_gate_test.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1bd0b32e2a0d5fc8ff31bd677a46a6e0dad76a1e', 'message': 'Make $TRIPLEO_ROOT overrideable\n\nBeing able to set a different $TRIPLEO_ROOT other than /opt/stack/new\nmakes the toci scripts more useful when running locally. There are also\nlots of places where /opt/stack/new was used directly, when we\ncould/should be using $TRIPLEO_ROOT.\n\nChange-Id: Iac212866fc343f3f3f930fad57b3a52236513d34\n'}]",2,350539,1bd0b32e2a0d5fc8ff31bd677a46a6e0dad76a1e,40,6,4,7144,,,0,"Make $TRIPLEO_ROOT overrideable

Being able to set a different $TRIPLEO_ROOT other than /opt/stack/new
makes the toci scripts more useful when running locally. There are also
lots of places where /opt/stack/new was used directly, when we
could/should be using $TRIPLEO_ROOT.

Change-Id: Iac212866fc343f3f3f930fad57b3a52236513d34
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/39/350539/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/get_host_info.sh', 'scripts/common_vars.bash', 'toci_instack.sh', 'scripts/common_functions.sh', 'scripts/deploy.sh', 'toci_gate_test.sh']",6,cea73e1089144d523dc3f12c9bf797f057171f7e,multinode,"source $(dirname $0)/scripts/common_vars.bashrm -rf $TRIPLEO_ROOT/puppet-ceph# CI the ones we are interested in have been cloned to /opt/stack/new (or # $TRIPLEO_ROOT if running toci scripts manually). We can also remove some # distro images cached on the images. OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS -e /usr/share/openstack-tripleo-heat-templates/environments/puppet-pacemaker.yaml --ceph-storage-scale 1 -e /usr/share/openstack-tripleo-heat-templates/environments/network-isolation-v6.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/net-multiple-nics-v6.yaml -e $TRIPLEO_ROOT/tripleo-ci/test-environments/net-iso.yaml"" OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS --control-scale 3 --ntp-server 0.centos.pool.ntp.org -e /usr/share/openstack-tripleo-heat-templates/environments/puppet-pacemaker.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/network-isolation.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/net-multiple-nics.yaml -e $TRIPLEO_ROOT/tripleo-ci/test-environments/net-iso.yaml"" OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS -e $TRIPLEO_ROOT/tripleo-ci/test-environments/enable-tls.yaml -e $TRIPLEO_ROOT/tripleo-ci/test-environments/inject-trust-anchor.yaml --ceph-storage-scale 1 -e /usr/share/openstack-tripleo-heat-templates/environments/puppet-ceph-devel.yaml"" OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS -e /usr/share/openstack-tripleo-heat-templates/environments/deployed-server-environment.yaml -e $TRIPLEO_ROOT/tripleo-ci/test-environments/multinode.yaml --compute-scale 0 --overcloud-ssh-user $OVERCLOUD_SSH_USER""source $TRIPLEO_ROOT/tripleo-ci/scripts/metrics.bash","rm -rf /opt/stack/new/puppet-ceph# CI the ones we are interested in have been cloned to /opt/stack/new. We # can also remove some distro images cached on the images. OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS -e /usr/share/openstack-tripleo-heat-templates/environments/puppet-pacemaker.yaml --ceph-storage-scale 1 -e /usr/share/openstack-tripleo-heat-templates/environments/network-isolation-v6.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/net-multiple-nics-v6.yaml -e /opt/stack/new/tripleo-ci/test-environments/net-iso.yaml"" OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS --control-scale 3 --ntp-server 0.centos.pool.ntp.org -e /usr/share/openstack-tripleo-heat-templates/environments/puppet-pacemaker.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/network-isolation.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/net-multiple-nics.yaml -e /opt/stack/new/tripleo-ci/test-environments/net-iso.yaml"" OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS -e /opt/stack/new/tripleo-ci/test-environments/enable-tls.yaml -e /opt/stack/new/tripleo-ci/test-environments/inject-trust-anchor.yaml --ceph-storage-scale 1 -e /usr/share/openstack-tripleo-heat-templates/environments/puppet-ceph-devel.yaml"" OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS -e /usr/share/openstack-tripleo-heat-templates/environments/deployed-server-environment.yaml -e /opt/stack/new/tripleo-ci/test-environments/multinode.yaml --compute-scale 0 --overcloud-ssh-user $OVERCLOUD_SSH_USER""source /opt/stack/new/tripleo-ci/scripts/metrics.bash",25,24
openstack%2Fopenstack-ansible~master~Iec9b94e1d711e82d331ea14c4b9e2bbdc7a0b608,openstack/openstack-ansible,master,Iec9b94e1d711e82d331ea14c4b9e2bbdc7a0b608,[Docs] Remove and move cinder config docs,MERGED,2016-08-11 16:34:49.000000000,2016-08-12 18:08:00.000000000,2016-08-12 18:08:00.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 16:34:49.000000000', 'files': ['doc/source/developer-docs/configure-cinder.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b19f783f0ee0e792ef9c1782bf011302c443853e', 'message': '[Docs] Remove and move cinder config docs\n\nChange-Id: Iec9b94e1d711e82d331ea14c4b9e2bbdc7a0b608\n'}]",0,354210,b19f783f0ee0e792ef9c1782bf011302c443853e,9,3,1,10607,,,0,"[Docs] Remove and move cinder config docs

Change-Id: Iec9b94e1d711e82d331ea14c4b9e2bbdc7a0b608
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/10/354210/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/developer-docs/configure-cinder.rst'],1,b19f783f0ee0e792ef9c1782bf011302c443853e,bp/osa-install-guide-overhaul,,"`Home <index.html>`_ OpenStack-Ansible Installation Guide Configuring the Block (cinder) storage service (optional) ========================================================= By default, the Block (cinder) storage service installs on the host itself using the LVM backend. .. note:: While this is the default for cinder, using the LVM backend results in a Single Point of Failure. As a result of the volume service being deployed directly to the host, ``is_metal`` is ``true`` when using LVM. NFS backend ~~~~~~~~~~~~ Edit ``/etc/openstack_deploy/openstack_user_config.yml`` and configure the NFS client on each storage node if the NetApp backend is configured to use an NFS storage protocol. #. Add the ``cinder_backends`` stanza (which includes ``cinder_nfs_client``) under the ``container_vars`` stanza for each storage node: .. code-block:: yaml container_vars: cinder_backends: cinder_nfs_client: #. Configure the location of the file that lists shares available to the block storage service. This configuration file must include ``nfs_shares_config``: .. code-block:: yaml nfs_shares_config: SHARE_CONFIG Replace ``SHARE_CONFIG`` with the location of the share configuration file. For example, ``/etc/cinder/nfs_shares``. #. Configure one or more NFS shares: .. code-block:: yaml shares: - { ip: ""NFS_HOST"", share: ""NFS_SHARE"" } Replace ``NFS_HOST`` with the IP address or hostname of the NFS server, and the ``NFS_SHARE`` with the absolute path to an existing and accessible NFS share. Backup ~~~~~~ You can configure cinder to backup volumes to Object Storage (swift). Enable the default configuration to back up volumes to a swift installation accessible within your environment. Alternatively, you can set ``cinder_service_backup_swift_url`` and other variables to back up to an external swift installation. #. Add or edit the following line in the ``/etc/openstack_deploy/user_variables.yml`` file and set the value to ``True``: .. code-block:: yaml cinder_service_backup_program_enabled: True #. By default, cinder uses the access credentials of the user initiating the backup. Default values are set in the ``/opt/openstack-ansible/playbooks/roles/os_cinder/defaults/main.yml`` file. You can override those defaults by setting variables in ``/etc/openstack_deploy/user_variables.yml`` to change how cinder performs backups. Add and edit any of the following variables to the ``/etc/openstack_deploy/user_variables.yml`` file: .. code-block:: yaml ... cinder_service_backup_swift_auth: per_user # Options include 'per_user' or 'single_user'. We default to # 'per_user' so that backups are saved to a user's swift # account. cinder_service_backup_swift_url: # This is your swift storage url when using 'per_user', or keystone # endpoint when using 'single_user'. When using 'per_user', you # can leave this as empty or as None to allow cinder-backup to # obtain a storage url from environment. cinder_service_backup_swift_url: cinder_service_backup_swift_auth_version: 2 cinder_service_backup_swift_user: cinder_service_backup_swift_tenant: cinder_service_backup_swift_key: cinder_service_backup_swift_container: volumebackups cinder_service_backup_swift_object_size: 52428800 cinder_service_backup_swift_retry_attempts: 3 cinder_service_backup_swift_retry_backoff: 2 cinder_service_backup_compression_algorithm: zlib cinder_service_backup_metadata_version: 2 During installation of cinder, the backup service is configured. Using Ceph for cinder backups ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ You can deploy Ceph to hold cinder volume backups. To get started, set the ``cinder_service_backup_driver`` Ansible variable: .. code-block:: yaml cinder_service_backup_driver: cinder.backup.drivers.ceph Configure the Ceph user and the pool to use for backups. The defaults are shown here: .. code-block:: yaml cinder_service_backup_ceph_user: cinder-backup cinder_service_backup_ceph_pool: backups Availability zones ~~~~~~~~~~~~~~~~~~ Create multiple availability zones to manage cinder storage hosts. Edit the ``/etc/openstack_deploy/openstack_user_config.yml`` and ``/etc/openstack_deploy/user_variables.yml`` files to set up availability zones. #. For each cinder storage host, configure the availability zone under the ``container_vars`` stanza: .. code-block:: yaml cinder_storage_availability_zone: CINDERAZ Replace ``CINDERAZ`` with a suitable name. For example ``cinderAZ_2``. #. If more than one availability zone is created, configure the default availability zone for all the hosts by creating a ``cinder_default_availability_zone`` in your ``/etc/openstack_deploy/user_variables.yml`` .. code-block:: yaml cinder_default_availability_zone: CINDERAZ_DEFAULT Replace ``CINDERAZ_DEFAULT`` with a suitable name. For example, ``cinderAZ_1``. The default availability zone should be the same for all cinder hosts. OpenStack Dashboard (horizon) configuration for cinder ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ You can configure variables to set the behavior for cinder volume management in OpenStack Dashboard (horizon). By default, no horizon configuration is set. #. The default destination availability zone is ``nova`` if you use multiple availability zones and ``cinder_default_availability_zone`` has no definition. Volume creation with horizon might fail if there is no availability zone named ``nova``. Set ``cinder_default_availability_zone`` to an appropriate availability zone name so that :guilabel:`Any availability zone` works in horizon. #. horizon does not populate the volume type by default. On the new volume page, a request for the creation of a volume with the default parameters fails. Set ``cinder_default_volume_type`` so that a volume creation request without an explicit volume type succeeds. Configuring cinder to use LVM ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #. List the ``container_vars`` that contain the storage options for the target host. .. note:: The vars related to the cinder availability zone and the ``limit_container_types`` are optional. To configure an LVM, utilize the following example: .. code-block:: yaml storage_hosts: Infra01: ip: 172.29.236.16 container_vars: cinder_storage_availability_zone: cinderAZ_1 cinder_default_availability_zone: cinderAZ_1 cinder_backends: lvm: volume_backend_name: LVM_iSCSI volume_driver: cinder.volume.drivers.lvm.LVMVolumeDriver volume_group: cinder-volumes iscsi_ip_address: ""{{ storage_address }}"" limit_container_types: cinder_volume To use another backend in a container instead of bare metal, edit the ``/etc/openstack_deploy/env.d/cinder.yml`` and remove the ``is_metal: true`` stanza under the ``cinder_volumes_container`` properties. Configuring cinder to use Ceph ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ In order for cinder to use Ceph, it is necessary to configure for both the API and backend. When using any forms of network storage (iSCSI, NFS, Ceph) for cinder, the API containers can be considered as backend servers. A separate storage host is not required. In ``env.d/cinder.yml`` remove ``is_metal: true`` #. List of target hosts on which to deploy the cinder API. We recommend that a minimum of three target hosts are used for this service. .. code-block:: yaml storage-infra_hosts: infra1: ip: 172.29.236.101 infra2: ip: 172.29.236.102 infra3: ip: 172.29.236.103 To configure an RBD backend, utilize the following example: .. code-block:: yaml container_vars: cinder_storage_availability_zone: cinderAZ_3 cinder_default_availability_zone: cinderAZ_1 cinder_backends: limit_container_types: cinder_volume volumes_hdd: volume_driver: cinder.volume.drivers.rbd.RBDDriver rbd_pool: volumes_hdd rbd_ceph_conf: /etc/ceph/ceph.conf rbd_flatten_volume_from_snapshot: 'false' rbd_max_clone_depth: 5 rbd_store_chunk_size: 4 rados_connect_timeout: -1 volume_backend_name: volumes_hdd rbd_user: ""{{ cinder_ceph_client }}"" rbd_secret_uuid: ""{{ cinder_ceph_client_uuid }}"" The following example sets cinder to use the ``cinder_volumes`` pool. The example uses cephx authentication and requires existing ``cinder`` account for ``cinder_volumes`` pool. In ``user_variables.yml``: .. code-block:: yaml ceph_mons: - 172.29.244.151 - 172.29.244.152 - 172.29.244.153 In ``openstack_user_config.yml``: .. code-block:: yaml storage_hosts: infra1: ip: 172.29.236.101 container_vars: cinder_backends: limit_container_types: cinder_volume rbd: volume_group: cinder-volumes volume_driver: cinder.volume.drivers.rbd.RBDDriver volume_backend_name: rbd rbd_pool: cinder-volumes rbd_ceph_conf: /etc/ceph/ceph.conf rbd_user: cinder infra2: ip: 172.29.236.102 container_vars: cinder_backends: limit_container_types: cinder_volume rbd: volume_group: cinder-volumes volume_driver: cinder.volume.drivers.rbd.RBDDriver volume_backend_name: rbd rbd_pool: cinder-volumes rbd_ceph_conf: /etc/ceph/ceph.conf rbd_user: cinder infra3: ip: 172.29.236.103 container_vars: cinder_backends: limit_container_types: cinder_volume rbd: volume_group: cinder-volumes volume_driver: cinder.volume.drivers.rbd.RBDDriver volume_backend_name: rbd rbd_pool: cinder-volumes rbd_ceph_conf: /etc/ceph/ceph.conf rbd_user: cinder This link provides a complete working example of Ceph setup and integration with cinder (nova and glance included): * `OpenStack-Ansible and Ceph Working Example`_ .. _OpenStack-Ansible and Ceph Working Example: https://www.openstackfaq.com/openstack-ansible-ceph/ Configuring cinder to use a NetApp appliance ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ To use a NetApp storage appliance back end, edit the ``/etc/openstack_deploy/openstack_user_config.yml`` file and configure each storage node that will use it. .. note:: Ensure that the NAS Team enables ``httpd.admin.access``. #. Add the ``netapp`` stanza under the ``cinder_backends`` stanza for each storage node: .. code-block:: yaml cinder_backends: netapp: The options in subsequent steps fit under the ``netapp`` stanza. The backend name is arbitrary and becomes a volume type within cinder. #. Configure the storage family: .. code-block:: yaml netapp_storage_family: STORAGE_FAMILY Replace ``STORAGE_FAMILY`` with ``ontap_7mode`` for Data ONTAP operating in 7-mode or ``ontap_cluster`` for Data ONTAP operating as a cluster. #. Configure the storage protocol: .. code-block:: yaml netapp_storage_protocol: STORAGE_PROTOCOL Replace ``STORAGE_PROTOCOL`` with ``iscsi`` for iSCSI or ``nfs`` for NFS. For the NFS protocol, specify the location of the configuration file that lists the shares available to cinder: .. code-block:: yaml nfs_shares_config: SHARE_CONFIG Replace ``SHARE_CONFIG`` with the location of the share configuration file. For example, ``/etc/cinder/nfs_shares``. #. Configure the server: .. code-block:: yaml netapp_server_hostname: SERVER_HOSTNAME Replace ``SERVER_HOSTNAME`` with the hostnames for both netapp controllers. #. Configure the server API port: .. code-block:: yaml netapp_server_port: PORT_NUMBER Replace ``PORT_NUMBER`` with 80 for HTTP or 443 for HTTPS. #. Configure the server credentials: .. code-block:: yaml netapp_login: USER_NAME netapp_password: PASSWORD Replace ``USER_NAME`` and ``PASSWORD`` with the appropriate values. #. Select the NetApp driver: .. code-block:: yaml volume_driver: cinder.volume.drivers.netapp.common.NetAppDriver #. Configure the volume back end name: .. code-block:: yaml volume_backend_name: BACKEND_NAME Replace ``BACKEND_NAME`` with a value that provides a hint for the cinder scheduler. For example, ``NETAPP_iSCSI``. #. Ensure the ``openstack_user_config.yml`` configuration is accurate: .. code-block:: yaml storage_hosts: Infra01: ip: 172.29.236.16 container_vars: cinder_backends: limit_container_types: cinder_volume netapp: netapp_storage_family: ontap_7mode netapp_storage_protocol: nfs netapp_server_hostname: 111.222.333.444 netapp_server_port: 80 netapp_login: openstack_cinder netapp_password: password volume_driver: cinder.volume.drivers.netapp.common.NetAppDriver volume_backend_name: NETAPP_NFS For ``netapp_server_hostname``, specify the IP address of the Data ONTAP server. Include iSCSI or NFS for the ``netapp_storage_family`` depending on the configuration. Add 80 if using HTTP or 443 if using HTTPS for ``netapp_server_port``. The ``cinder-volume.yml`` playbook will automatically install the ``nfs-common`` file across the hosts, transitioning from an LVM to a NetApp back end. -------------- .. include:: navigation.txt ",0,459
openstack%2Fopenstack-ansible~master~Ie5824185b2dc112de0906e4ab0ab593a616a5955,openstack/openstack-ansible,master,Ie5824185b2dc112de0906e4ab0ab593a616a5955,[DOCS] Remove and move keystone federation documentation,MERGED,2016-08-11 15:12:37.000000000,2016-08-12 18:07:54.000000000,2016-08-12 18:07:54.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 19814}, {'_account_id': 22217}]","[{'number': 1, 'created': '2016-08-11 15:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e3911ba2be406a820e984fba44d0301189825d93', 'message': '[DOCS] Edits to keystone federation documentation\n\nChange-Id: Ie5824185b2dc112de0906e4ab0ab593a616a5955\n'}, {'number': 2, 'created': '2016-08-11 15:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/04700b0b3e241b05926350f377bd0f10283bd1e8', 'message': '[DOCS] Edits to keystone federation documentation\n\nChange-Id: Ie5824185b2dc112de0906e4ab0ab593a616a5955\n'}, {'number': 3, 'created': '2016-08-11 15:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8ac87465d507a53df526d94102b06890537da5b7', 'message': '[DOCS] Remove and move keystone federation documentation\n\nMove key fed docs to role docs (delete in this repo)\n\nChange-Id: Ie5824185b2dc112de0906e4ab0ab593a616a5955\n'}, {'number': 4, 'created': '2016-08-11 18:34:50.000000000', 'files': ['doc/source/developer-docs/configure-federation-sp.rst', 'doc/source/developer-docs/configure-federation-sp-overview.rst', 'doc/source/developer-docs/configure-keystone.rst', 'doc/source/developer-docs/configure-federation.rst', 'doc/source/developer-docs/configure-federation-idp-adfs.rst', 'doc/source/developer-docs/configure-federation-idp.rst', 'doc/source/developer-docs/configure-federation-use-case.rst', 'doc/source/developer-docs/configure-federation-mapping.rst', 'doc/source/developer-docs/configure-federation-wrapper.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/343d9d68a2c63a6cd51d18a3f1fe7653386953f0', 'message': '[DOCS] Remove and move keystone federation documentation\n\nMove key fed docs to role docs (delete in this repo)\n\nChange-Id: Ie5824185b2dc112de0906e4ab0ab593a616a5955\n'}]",0,354145,343d9d68a2c63a6cd51d18a3f1fe7653386953f0,15,4,4,10607,,,0,"[DOCS] Remove and move keystone federation documentation

Move key fed docs to role docs (delete in this repo)

Change-Id: Ie5824185b2dc112de0906e4ab0ab593a616a5955
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/45/354145/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/developer-docs/configure-federation-sp.rst', 'doc/source/developer-docs/configure-federation-sp-overview.rst', 'doc/source/developer-docs/configure-federation.rst', 'doc/source/developer-docs/configure-federation-idp-adfs.rst', 'doc/source/developer-docs/configure-federation-idp.rst', 'doc/source/developer-docs/configure-federation-mapping.rst', 'doc/source/developer-docs/configure-federation-use-case.rst', 'doc/source/developer-docs/configure-federation-wrapper.rst']",8,e3911ba2be406a820e984fba44d0301189825d93,bp/osa-install-guide-overhaul,"=========================================== Configuring keystone-to-keystone federation =========================================== In keystone-to-keystone federation (k2k), the IdP and SPThe k2k authentication flow involves the following steps: #. Log in to the IdP with your credentials. #. Send a request to the IdP to generate an assertion for a given SP. #. Submit the assertion to the SP on the configured ``sp_url``#. Connect to the SP on the configured ``auth_url`` endpoint,#. With your token, you can now make API requests to the endpoints in the catalog. Keystone-to-keystone federation authentication wrapper ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~","Using Identity service to Identity service federation ===================================================== In Identity service (keystone) to Identity service (keystone) federation (K2K) the identity provider (IdP) and service provider (SP).. note:: For the Kilo release of OpenStack, K2K is only partially supported. It is possible to perform a federated login using command line clients and scripting. However, horizon does not support this functionality. The K2K authentication flow involves the following steps: #. You log in to the IdP with your credentials. #. You sends a request to the IdP to generate an assertion for a given SP. An assertion is a cryptographically signed XML document that identifies the user to the SP. #. You submit the assertion to the SP on the configured ``sp_url``#. You now connect to the SP on the configured ``auth_url`` endpoint,#. You, now in possession of a token, can make API requests to the endpoints in the catalog. Identity service to Identity service federation authentication wrapper ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~",139,501
openstack%2Fopenstack-ansible~master~I54979061013de14847e8fa2ccece951e470e6fa4,openstack/openstack-ansible,master,I54979061013de14847e8fa2ccece951e470e6fa4,[DOCS] Remove and move glance documentation,MERGED,2016-08-11 16:01:15.000000000,2016-08-12 18:07:52.000000000,2016-08-12 18:07:52.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 15993}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 16:01:15.000000000', 'files': ['doc/source/developer-docs/configure-glance.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/90884cd95856fbc1ba5f19998b7573a8252339f2', 'message': '[DOCS] Remove and move glance documentation\n\nChange-Id: I54979061013de14847e8fa2ccece951e470e6fa4\n'}]",0,354184,90884cd95856fbc1ba5f19998b7573a8252339f2,9,4,1,10607,,,0,"[DOCS] Remove and move glance documentation

Change-Id: I54979061013de14847e8fa2ccece951e470e6fa4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/84/354184/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/developer-docs/configure-glance.rst'],1,90884cd95856fbc1ba5f19998b7573a8252339f2,bp/osa-install-guide-overhaul,,"`Home <index.html>`_ OpenStack-Ansible Installation Guide Configuring the Image (glance) service ====================================== In an all-in-one deployment with a single infrastructure node, the Image (glance) service uses the local file system on the target host to store images. When deploying production clouds, we recommend backing glance with a swift backend or some form of shared storage. Configuring default and additional stores ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible provides two configurations for controlling where glance stores files: the default store and additional stores. glance stores images in file-based storage by default. Two additional stores, ``http`` and ``cinder`` (Block Storage), are also enabled by default. You can choose alternative default stores and alternative additional stores. For example, a deployer that uses Ceph may configure the following Ansible variables: .. code-block:: yaml glance_default_store = rbd glance_additional_stores: - swift - http - cinder The configuration above configures glance to use ``rbd`` (Ceph) by default, but ``glance_additional_stores`` list enables ``swift``, ``http`` and ``cinder`` stores in the glance configuration files. The following example sets glance to use the ``images`` pool. This example uses cephx authentication and requires an existing ``glance`` account for the ``images`` pool. In ``user_variables.yml``: .. code-block:: yaml glance_default_store: rbd ceph_mons: - 172.29.244.151 - 172.29.244.152 - 172.29.244.153 You can use the following variables if you are not using the defaults: .. code-block:: yaml glance_ceph_client: <glance-username> glance_rbd_store_pool: <glance-pool-name> glance_rbd_store_chunk_size: <chunk-size> Storing images in Cloud Files ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following procedure describes how to modify the ``/etc/openstack_deploy/user_variables.yml`` file to enable Cloud Files usage. #. Change the default store to use Object Storage (swift), the underlying architecture of Cloud Files: .. code-block:: yaml glance_default_store: swift #. Set the appropriate authentication URL and version: .. code-block:: yaml glance_swift_store_auth_version: 2 glance_swift_store_auth_address: https://127.0.0.1/v2.0 #. Set the swift account credentials: .. code-block:: yaml # Replace this capitalized variables with actual data. glance_swift_store_user: GLANCE_SWIFT_TENANT:GLANCE_SWIFT_USER glance_swift_store_key: SWIFT_PASSWORD_OR_KEY #. Change the ``glance_swift_store_endpoint_type`` from the default ``internalURL`` settings to ``publicURL`` if needed. .. code-block:: yaml glance_swift_store_endpoint_type: publicURL #. Define the store name: .. code-block:: yaml glance_swift_store_container: STORE_NAME Replace ``STORE_NAME`` with the container name in swift to be used for storing images. If the container does not exist, it is automatically created. #. Define the store region: .. code-block:: yaml glance_swift_store_region: STORE_REGION Replace ``STORE_REGION`` if needed. #. (Optional) Set the paste deploy flavor: .. code-block:: yaml glance_flavor: GLANCE_FLAVOR By default, glance uses caching and authenticates with the Identity (keystone) service. The default maximum size of the image cache is 10GB. The default glance container size is 12GB. In some configurations, glance attempts to cache an image which exceeds the available disk space. If necessary, you can disable caching. For example, to use Identity without caching, replace ``GLANCE_FLAVOR`` with ``keystone``: .. code-block:: yaml glance_flavor: keystone Or, to disable both authentication and caching, set ``GLANCE_FLAVOR`` to no value: .. code-block:: yaml glance_flavor: This option is set by default to use authentication and cache management in the ``playbooks/roles/os_glance/defaults/main.yml`` file. To override the default behavior, set ``glance_flavor`` to a different value in ``/etc/openstack_deploy/user_variables.yml``. The possible values for ``GLANCE_FLAVOR`` are: - (Nothing) - ``caching`` - ``cachemanagement`` - ``keystone`` - ``keystone+caching`` - ``keystone+cachemanagement`` (default) - ``trusted-auth`` - ``trusted-auth+cachemanagement`` Special considerations ~~~~~~~~~~~~~~~~~~~~~~ If the swift password or key contains a dollar sign (``$``), it must be escaped with an additional dollar sign (``$$``). For example, a password of ``super$ecure`` would need to be entered as ``super$$ecure``. This is necessary due to the way `oslo.config formats strings`_. .. _oslo.config formats strings: https://bugs.launchpad.net/oslo-incubator/+bug/1259729 -------------- .. include:: navigation.txt ",0,175
openstack%2Fopenstack-ansible~master~I1c36ccd91a1c4ecdf166a3403e091edf11d26e76,openstack/openstack-ansible,master,I1c36ccd91a1c4ecdf166a3403e091edf11d26e76,[DOCS] Remove and move ironic role docs,MERGED,2016-08-11 16:22:49.000000000,2016-08-12 18:07:46.000000000,2016-08-12 18:07:46.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 16:22:49.000000000', 'files': ['doc/source/developer-docs/configure-ironic.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/783ad416f0ec864fd17d8542dd714b586391d28f', 'message': '[DOCS] Remove and move ironic role docs\n\nChange-Id: I1c36ccd91a1c4ecdf166a3403e091edf11d26e76\n'}]",0,354200,783ad416f0ec864fd17d8542dd714b586391d28f,8,3,1,10607,,,0,"[DOCS] Remove and move ironic role docs

Change-Id: I1c36ccd91a1c4ecdf166a3403e091edf11d26e76
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/00/354200/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/developer-docs/configure-ironic.rst'],1,783ad416f0ec864fd17d8542dd714b586391d28f,bp/osa-install-guide-overhaul,,"`Home <index.html>`_ OpenStack-Ansible Installation Guide Configuring the Bare Metal (ironic) service (optional) ====================================================== .. note:: This feature is experimental at this time and it has not been fully production tested yet. These implementation instructions assume that ironic is being deployed as the sole hypervisor for the region. Ironic is an OpenStack project which provisions bare metal (as opposed to virtual) machines by leveraging common technologies such as PXE boot and IPMI to cover a wide range of hardware, while supporting pluggable drivers to allow vendor-specific functionality to be added. OpenStack's ironic project makes physical servers as easy to provision as virtual machines in a cloud. OpenStack-Ansible deployment ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #. Modify the environment files and force ``nova-compute`` to run from within a container: .. code-block:: bash sed -i '/is_metal.*/d' /etc/openstack_deploy/env.d/nova.yml Setup a neutron network for use by ironic ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ In a general case, neutron networking can be a simple flat network. However, in a complex case, this can be whatever you need and want. Ensure you adjust the deployment accordingly. The following is an example: .. code-block:: bash neutron net-create cleaning-net --shared \ --provider:network_type flat \ --provider:physical_network ironic-net neutron subnet-create ironic-net 172.19.0.0/22 --name ironic-subnet --ip-version=4 \ --allocation-pool start=172.19.1.100,end=172.19.1.200 \ --enable-dhcp \ --dns-nameservers list=true 8.8.4.4 8.8.8.8 Building ironic images ~~~~~~~~~~~~~~~~~~~~~~ Images using the ``diskimage-builder`` must be built outside of a container. For this process, use one of the physical hosts within the environment. #. Install the necessary packages: .. code-block:: bash apt-get install -y qemu uuid-runtime curl #. Install the ``disk-imagebuilder`` package: .. code-block:: bash pip install diskimage-builder --isolated .. important:: Only use the ``--isolated`` flag if you are building on a node deployed by OpenStack-Ansible, otherwise pip will not resolve the external package. #. Optional: Force the ubuntu ``image-create`` process to use a modern kernel: .. code-block:: bash echo 'linux-image-generic-lts-xenial:' > \ /usr/local/share/diskimage-builder/elements/ubuntu/package-installs.yaml #. Create Ubuntu ``initramfs``: .. code-block:: bash disk-image-create ironic-agent ubuntu -o ${IMAGE_NAME} #. Upload the created deploy images into the Image (glance) Service: .. code-block:: bash # Upload the deploy image kernel glance image-create --name ${IMAGE_NAME}.kernel --visibility public \ --disk-format aki --container-format aki < ${IMAGE_NAME}.kernel # Upload the user image initramfs glance image-create --name ${IMAGE_NAME}.initramfs --visibility public \ --disk-format ari --container-format ari < ${IMAGE_NAME}.initramfs #. Create Ubuntu user image: .. code-block:: bash disk-image-create ubuntu baremetal localboot local-config dhcp-all-interfaces grub2 -o ${IMAGE_NAME} #. Upload the created user images into the Image (glance) Service: .. code-block:: bash # Upload the user image vmlinuz and store uuid VMLINUZ_UUID=""$(glance image-create --name ${IMAGE_NAME}.vmlinuz --visibility public --disk-format aki --container-format aki < ${IMAGE_NAME}.vmlinuz | awk '/\| id/ {print $4}')"" # Upload the user image initrd and store uuid INITRD_UUID=""$(glance image-create --name ${IMAGE_NAME}.initrd --visibility public --disk-format ari --container-format ari < ${IMAGE_NAME}.initrd | awk '/\| id/ {print $4}')"" # Create image glance image-create --name ${IMAGE_NAME} --visibility public --disk-format qcow2 --container-format bare --property kernel_id=${VMLINUZ_UUID} --property ramdisk_id=${INITRD_UUID} < ${IMAGE_NAME}.qcow2 Creating an ironic flavor ~~~~~~~~~~~~~~~~~~~~~~~~~ #. Create a new flavor called ``my-baremetal-flavor``. .. note:: The following example sets the CPU architecture for the newly created flavor to be `x86_64`. .. code-block:: bash nova flavor-create ${FLAVOR_NAME} ${FLAVOR_ID} ${FLAVOR_RAM} ${FLAVOR_DISK} ${FLAVOR_CPU} nova flavor-key ${FLAVOR_NAME} set cpu_arch=x86_64 nova flavor-key ${FLAVOR_NAME} set capabilities:boot_option=""local"" .. note:: Ensure the flavor and nodes match when enrolling into ironic. See the documentation on flavors for more information: http://docs.openstack.org/openstack-ops/content/flavors.html After successfully deploying the ironic node on subsequent boots, the instance boots from your local disk as first preference. This speeds up the deployed node's boot time. Alternatively, if this is not set, the ironic node PXE boots first and allows for operator-initiated image updates and other operations. .. note:: The operational reasoning and building an environment to support this use case is not covered here. Enroll ironic nodes ------------------- #. From the utility container, enroll a new baremetal node by executing the following: .. code-block:: bash # Source credentials . ~/openrc # Create the node NODE_HOSTNAME=""myfirstnodename"" IPMI_ADDRESS=""10.1.2.3"" IPMI_USER=""my-ipmi-user"" IPMI_PASSWORD=""my-ipmi-password"" KERNEL_IMAGE=$(glance image-list | awk ""/${IMAGE_NAME}.kernel/ {print \$2}"") INITRAMFS_IMAGE=$(glance image-list | awk ""/${IMAGE_NAME}.initramfs/ {print \$2}"") ironic node-create \ -d agent_ipmitool \ -i ipmi_address=""${IPMI_ADDRESS}"" \ -i ipmi_username=""${IPMI_USER}"" \ -i ipmi_password=""${IPMI_PASSWORD}"" \ -i deploy_ramdisk=""${INITRAMFS_IMAGE}"" \ -i deploy_kernel=""${KERNEL_IMAGE}"" \ -n ${NODE_HOSTNAME} # Create a port for the node NODE_MACADDRESS=""aa:bb:cc:dd:ee:ff"" ironic port-create \ -n $(ironic node-list | awk ""/${NODE_HOSTNAME}/ {print \$2}"") \ -a ${NODE_MACADDRESS} # Associate an image to the node ROOT_DISK_SIZE_GB=40 ironic node-update $(ironic node-list | awk ""/${IMAGE_NAME}/ {print \$2}"") add \ driver_info/deploy_kernel=$KERNEL_IMAGE \ driver_info/deploy_ramdisk=$INITRAMFS_IMAGE \ instance_info/deploy_kernel=$KERNEL_IMAGE \ instance_info/deploy_ramdisk=$INITRAMFS_IMAGE \ instance_info/root_gb=${ROOT_DISK_SIZE_GB} # Add node properties # The property values used here should match the hardware used ironic node-update $(ironic node-list | awk ""/${NODE_HOSTNAME}/ {print \$2}"") add \ properties/cpus=48 \ properties/memory_mb=254802 \ properties/local_gb=80 \ properties/size=3600 \ properties/cpu_arch=x86_64 \ properties/capabilities=memory_mb:254802,local_gb:80,cpu_arch:x86_64,cpus:48,boot_option:local Deploy a baremetal node kicked with ironic ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. important:: You will not have access unless you have a key set within nova before your ironic deployment. If you do not have an ssh key readily available, set one up with ``ssh-keygen``. .. code-block:: bash nova keypair-add --pub-key ~/.ssh/id_rsa.pub admin Now boot a node: .. code-block:: bash nova boot --flavor ${FLAVOR_NAME} --image ${IMAGE_NAME} --key-name admin ${NODE_NAME} ",0,221
openstack%2Fopenstack-ansible~master~I3eb3d5d15ba12d7d45a6b688a5b5df12d4d99ef1,openstack/openstack-ansible,master,I3eb3d5d15ba12d7d45a6b688a5b5df12d4d99ef1,[DOCS] Move RabbitMQ configuration info,MERGED,2016-08-11 18:06:34.000000000,2016-08-12 18:07:37.000000000,2016-08-12 18:07:37.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 18:06:34.000000000', 'files': ['doc/source/developer-docs/deploy-config.rst', 'doc/source/developer-docs/configure-rabbitmq.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bc7b0a796993c7a3784946009e6c9a0c17ed904a', 'message': '[DOCS] Move RabbitMQ configuration info\n\nMoved to rabbitmq repo. See https://review.openstack.org/#/c/354287/\n\nChange-Id: I3eb3d5d15ba12d7d45a6b688a5b5df12d4d99ef1\n'}]",0,354290,bc7b0a796993c7a3784946009e6c9a0c17ed904a,8,3,1,12402,,,0,"[DOCS] Move RabbitMQ configuration info

Moved to rabbitmq repo. See https://review.openstack.org/#/c/354287/

Change-Id: I3eb3d5d15ba12d7d45a6b688a5b5df12d4d99ef1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/90/354290/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/developer-docs/deploy-config.rst', 'doc/source/developer-docs/configure-rabbitmq.rst']",2,bc7b0a796993c7a3784946009e6c9a0c17ed904a,bp/osa-install-guide-overhaul,,"`Home <index.html>`_ OpenStack-Ansible Installation Guide Configuring RabbitMQ (optional) =============================== RabbitMQ provides the messaging broker for various OpenStack services. The OpenStack-Ansible project configures a plaintext listener on port 5672 and a SSL/TLS encrypted listener on port 5671. Customize your RabbitMQ deployment in ``/etc/openstack_deploy/user_variables.yml``. Add a TLS encrypted listener to RabbitMQ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The OpenStack-Ansible project provides the ability to secure RabbitMQ communications with self-signed or user-provided SSL certificates. Refer to `Securing services with SSL certificates`_ for available configuration options. .. _Securing services with SSL certificates: configure-sslcertificates.html Enable encrypted connections to RabbitMQ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The control of SSL communication between various OpenStack services and RabbitMQ is via the Ansible variable ``rabbitmq_use_ssl``: .. code-block:: yaml rabbitmq_use_ssl: true Setting this variable to ``true`` adjusts the RabbitMQ port to 5671 (the default SSL/TLS listener port) and enables SSL connectivity between each OpenStack service and RabbitMQ. Setting this variable to ``false`` disables SSL encryption between OpenStack services and RabbitMQ. Use the plaintext port for RabbitMQ, 5672, for all services. -------------- .. include:: navigation.txt ",0,44
openstack%2Fopenstack-ansible~master~I80c46c536dcfbb3ee1a0572aa25fb21b651799fe,openstack/openstack-ansible,master,I80c46c536dcfbb3ee1a0572aa25fb21b651799fe,Ensure that the LXC container log is also destroyed,MERGED,2016-08-07 22:35:37.000000000,2016-08-12 18:07:31.000000000,2016-08-12 18:07:31.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 19814}, {'_account_id': 22525}, {'_account_id': 22777}]","[{'number': 1, 'created': '2016-08-07 22:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a0a2835dc00b872c67a8798f238082a54a4d9330', 'message': ""Ensure that the LXC container log is also destroyed\n\nWhen a container's data is destroyed, this patch ensures that\nthe LXC log file for the container is also destroyed.\n\nChange-Id: I80c46c536dcfbb3ee1a0572aa25fb21b651799fe\n""}, {'number': 2, 'created': '2016-08-11 16:52:46.000000000', 'files': ['playbooks/lxc-containers-destroy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/656543d5f282825ceeedcf100df19840d45ae85d', 'message': ""Ensure that the LXC container log is also destroyed\n\nWhen a container's data is destroyed, this patch ensures that\nthe LXC log file for the container is also destroyed.\n\nChange-Id: I80c46c536dcfbb3ee1a0572aa25fb21b651799fe\n""}]",0,352147,656543d5f282825ceeedcf100df19840d45ae85d,11,5,2,6816,,,0,"Ensure that the LXC container log is also destroyed

When a container's data is destroyed, this patch ensures that
the LXC log file for the container is also destroyed.

Change-Id: I80c46c536dcfbb3ee1a0572aa25fb21b651799fe
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/47/352147/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/lxc-containers-destroy.yml'],1,a0a2835dc00b872c67a8798f238082a54a4d9330,," - name: Destroy container data - ""/var/log/lxc/lxc-{{ container_name }}.log""", - name: Destroy container data directories,2,1
openstack%2Fpython-manilaclient~master~I55dac599d4dadc273eacab14746bf449d3495f2b,openstack/python-manilaclient,master,I55dac599d4dadc273eacab14746bf449d3495f2b,Add validation for token and bypass_url,MERGED,2016-07-25 09:50:10.000000000,2016-08-12 18:06:12.000000000,2016-08-12 18:06:12.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7872}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16203}, {'_account_id': 16643}]","[{'number': 1, 'created': '2016-07-25 09:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/4b07cc8394d5090346ba99b5227550b0856685ee', 'message': 'Add validation for token and bypass_url\n\nSpecifying only token or only bypass_url leads to an client error.\nBetter to have a corresponding sanity check on shell level to\ninclude the needed parameters/env variables.\n\nChange-Id: I55dac599d4dadc273eacab14746bf449d3495f2b\nCloses-bug: #1606168\n'}, {'number': 2, 'created': '2016-07-27 12:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/af96f95506d34c5022cc58612adfdb4724207c69', 'message': 'Add validation for token and bypass_url\n\nSpecifying only token or only bypass_url leads to an client error.\nBetter to have a corresponding sanity check on shell level to\ninclude the needed parameters/env variables.\n\nChange-Id: I55dac599d4dadc273eacab14746bf449d3495f2b\nCloses-bug: #1604820\n'}, {'number': 3, 'created': '2016-07-29 13:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7d1bc47b51988bea73f12a756c487a135eed7745', 'message': 'Add validation for token and bypass_url\n\nSpecifying only token or only bypass_url leads to a client error.\nBetter to have a corresponding sanity check on shell level to\ninclude the needed parameters/env variables.\n\nChange-Id: I55dac599d4dadc273eacab14746bf449d3495f2b\nCloses-bug: #1604820\n'}, {'number': 4, 'created': '2016-08-12 13:48:56.000000000', 'files': ['manilaclient/tests/unit/test_shell.py', 'releasenotes/notes/bug_1606168_fix-54d3c3bb78389f01.yaml', 'manilaclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f387243e367cbe11a9b79aae3459db4b7762d1aa', 'message': 'Add validation for token and bypass_url\n\nSpecifying only token or only bypass_url leads to a client error.\nBetter to have a corresponding sanity check on shell level to\ninclude the needed parameters/env variables.\n\nChange-Id: I55dac599d4dadc273eacab14746bf449d3495f2b\nCloses-bug: #1604820\n'}]",5,346680,f387243e367cbe11a9b79aae3459db4b7762d1aa,23,8,4,7872,,,0,"Add validation for token and bypass_url

Specifying only token or only bypass_url leads to a client error.
Better to have a corresponding sanity check on shell level to
include the needed parameters/env variables.

Change-Id: I55dac599d4dadc273eacab14746bf449d3495f2b
Closes-bug: #1604820
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/80/346680/4 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/test_shell.py', 'releasenotes/notes/bug_1606168_fix-54d3c3bb78389f01.yaml', 'manilaclient/shell.py']",3,4b07cc8394d5090346ba99b5227550b0856685ee,bug/1604820," if token and not service_catalog_url: raise exc.CommandError( ""bypass_url missing: When specifying a token the bypass_url "" ""must be set via "" ""--bypass-url (env[OS_MANILA_BYPASS_URL])"") if service_catalog_url and not token: raise exc.CommandError( ""Token missing: When specifying a bypass_url a token must be "" ""set via "" ""--os-token (env[OS_TOKEN])"")",,16,0
openstack%2Fneutron-lbaas~master~I7db3c7f9dd5c2f8b0ff4da65eefaf6cd95a5c671,openstack/neutron-lbaas,master,I7db3c7f9dd5c2f8b0ff4da65eefaf6cd95a5c671,"Allow setting ""insecure"" in neutron_lbaas.conf",MERGED,2016-08-09 21:25:55.000000000,2016-08-12 18:04:58.000000000,2016-08-12 02:25:25.000000000,"[{'_account_id': 3}, {'_account_id': 7770}, {'_account_id': 8831}, {'_account_id': 9008}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 11685}, {'_account_id': 12040}, {'_account_id': 20465}, {'_account_id': 21691}]","[{'number': 1, 'created': '2016-08-09 21:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/135117182ebcdf46846a3b97926c41d3a9a04881', 'message': 'Allow setting ""insecure"" in neutron_lbaas.conf\n\nKeystone deployments can be on self signed certs, which will fail\non verifying the cert on client side. This patch allows an user\nto turn off cert verification.\n\nChange-Id: I7db3c7f9dd5c2f8b0ff4da65eefaf6cd95a5c671\nPartially-Closes: #1611509\n'}, {'number': 2, 'created': '2016-08-11 22:29:31.000000000', 'files': ['neutron_lbaas/common/keystone.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/56c7669dcfbd5e209d4bcd8233117f6cf1bd28f2', 'message': 'Allow setting ""insecure"" in neutron_lbaas.conf\n\nKeystone deployments can be on self signed certs, which will fail\non verifying the cert on client side. This patch allows an user\nto turn off cert verification.\n\nChange-Id: I7db3c7f9dd5c2f8b0ff4da65eefaf6cd95a5c671\nPartially-Closes: #1611509\n'}]",2,353114,56c7669dcfbd5e209d4bcd8233117f6cf1bd28f2,20,11,2,13201,,,0,"Allow setting ""insecure"" in neutron_lbaas.conf

Keystone deployments can be on self signed certs, which will fail
on verifying the cert on client side. This patch allows an user
to turn off cert verification.

Change-Id: I7db3c7f9dd5c2f8b0ff4da65eefaf6cd95a5c671
Partially-Closes: #1611509
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/14/353114/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/common/keystone.py'],1,135117182ebcdf46846a3b97926c41d3a9a04881,bugfix-keystone-https-endpoint-support," ), cfg.BoolOpt( 'insecure', default=False, help=_(""If set, then the server's certificate will not "" ""be verified."") insecure = cfg.CONF.service_auth.insecure _SESSION = session.Session(auth=kc, verify=not insecure)", _SESSION = session.Session(auth=kc),8,1
openstack%2Fkeystone~master~I326f00a4876a26b1a53285dfbcee4add54dcd7ff,openstack/keystone,master,I326f00a4876a26b1a53285dfbcee4add54dcd7ff,Updated from global requirements,MERGED,2016-08-11 18:11:40.000000000,2016-08-12 17:55:59.000000000,2016-08-12 17:55:59.000000000,"[{'_account_id': 3}, {'_account_id': 6482}]","[{'number': 1, 'created': '2016-08-11 18:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9c89196f0face6ed70758896f5659924f012467a', 'message': 'Updated from global requirements\n\nChange-Id: I326f00a4876a26b1a53285dfbcee4add54dcd7ff\n'}, {'number': 2, 'created': '2016-08-11 23:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4e1c393b3f5342671ecaed1eeced07fe81ddb3bb', 'message': 'Updated from global requirements\n\nChange-Id: I326f00a4876a26b1a53285dfbcee4add54dcd7ff\n'}, {'number': 3, 'created': '2016-08-12 00:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/02ec42d00a7c8099ec82841201a51ca8434e0b32', 'message': 'Updated from global requirements\n\nChange-Id: I326f00a4876a26b1a53285dfbcee4add54dcd7ff\n'}, {'number': 4, 'created': '2016-08-12 04:49:45.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0c782932168800acf676c2c16aed1fb44b4a6368', 'message': 'Updated from global requirements\n\nChange-Id: I326f00a4876a26b1a53285dfbcee4add54dcd7ff\n'}]",0,354300,0c782932168800acf676c2c16aed1fb44b4a6368,11,2,4,11131,,,0,"Updated from global requirements

Change-Id: I326f00a4876a26b1a53285dfbcee4add54dcd7ff
",git fetch https://review.opendev.org/openstack/keystone refs/changes/00/354300/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9c89196f0face6ed70758896f5659924f012467a,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Fnova~master~Iae337410492879a7964bcbb4711b057b920bdf79,openstack/nova,master,Iae337410492879a7964bcbb4711b057b920bdf79,Fix incorrect cellid numbering for NUMA memnode,MERGED,2016-07-11 22:22:08.000000000,2016-08-12 17:55:00.000000000,2016-08-12 17:55:00.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}]","[{'number': 1, 'created': '2016-07-11 22:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4d68825673ff039284716f2a0e2fd6fd5cbb498', 'message': ""Fix incorrect cellid numbering for NUMA memnode\n\ncellid should contain node index, but it actually has the cell nodeset.\nFor the given node topology cells: 0 1 16 17\nWrong cellid:\n    <memnode cellid='0' mode='strict' nodeset='0'/>\n    <memnode cellid='1' mode='strict' nodeset='1'/>\n    <memnode cellid='16' mode='strict' nodeset='16'/>\n    <memnode cellid='17' mode='strict' nodeset='17'/>\nCorrect cellid:\n    <memnode cellid='0' mode='strict' nodeset='0'/>\n    <memnode cellid='1' mode='strict' nodeset='1'/>\n    <memnode cellid='2' mode='strict' nodeset='16'/>\n    <memnode cellid='3' mode='strict' nodeset='17'/>\n\nChange-Id: Iae337410492879a7964bcbb4711b057b920bdf79\nCloses-Bug: #1602023\n""}, {'number': 2, 'created': '2016-07-15 20:56:31.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b327006e8cd335c75e97aeebec48940f3f960962', 'message': ""Fix incorrect cellid numbering for NUMA memnode\n\ncellid should contain node index, but it actually has the cell nodeset.\nFor the given node topology cells: 0 1 16 17\nWrong cellid:\n    <memnode cellid='0' mode='strict' nodeset='0'/>\n    <memnode cellid='1' mode='strict' nodeset='1'/>\n    <memnode cellid='16' mode='strict' nodeset='16'/>\n    <memnode cellid='17' mode='strict' nodeset='17'/>\nCorrect cellid:\n    <memnode cellid='0' mode='strict' nodeset='0'/>\n    <memnode cellid='1' mode='strict' nodeset='1'/>\n    <memnode cellid='2' mode='strict' nodeset='16'/>\n    <memnode cellid='3' mode='strict' nodeset='17'/>\n\nChange-Id: Iae337410492879a7964bcbb4711b057b920bdf79\nCloses-Bug: #1602023\n""}]",1,340599,b327006e8cd335c75e97aeebec48940f3f960962,32,16,2,8175,,,0,"Fix incorrect cellid numbering for NUMA memnode

cellid should contain node index, but it actually has the cell nodeset.
For the given node topology cells: 0 1 16 17
Wrong cellid:
    <memnode cellid='0' mode='strict' nodeset='0'/>
    <memnode cellid='1' mode='strict' nodeset='1'/>
    <memnode cellid='16' mode='strict' nodeset='16'/>
    <memnode cellid='17' mode='strict' nodeset='17'/>
Correct cellid:
    <memnode cellid='0' mode='strict' nodeset='0'/>
    <memnode cellid='1' mode='strict' nodeset='1'/>
    <memnode cellid='2' mode='strict' nodeset='16'/>
    <memnode cellid='3' mode='strict' nodeset='17'/>

Change-Id: Iae337410492879a7964bcbb4711b057b920bdf79
Closes-Bug: #1602023
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/340599/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,b4d68825673ff039284716f2a0e2fd6fd5cbb498,numa, node.cellid = guest_node_id, node.cellid = guest_config_cell.id,1,1
openstack%2Fopenstack-manuals~master~I0792f16de23dd4628c1aca33cf89fdeef36940a9,openstack/openstack-manuals,master,I0792f16de23dd4628c1aca33cf89fdeef36940a9,[network] Rework the SR-IOV guide,MERGED,2016-06-15 12:05:44.000000000,2016-08-12 17:54:43.000000000,2016-08-12 17:54:43.000000000,"[{'_account_id': 3}, {'_account_id': 9515}, {'_account_id': 10607}, {'_account_id': 10897}, {'_account_id': 12171}, {'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 17973}, {'_account_id': 22165}]","[{'number': 1, 'created': '2016-06-15 12:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3665547f865c88cf950bfe76bf4a608bb4ba2f83', 'message': ""[network] Rework the SR-IOV guide\n\nRework the SR-IOV guide to provide some additional clarity:\n\n* Rework sections to emphasise some content\n* Rewrap lines\n* Correct some grammar nits\n* Don't reference older versions of OpenStack: the docs are already\n  versioned\n\nChange-Id: I0792f16de23dd4628c1aca33cf89fdeef36940a9\n""}, {'number': 2, 'created': '2016-06-15 12:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6f76d378b694221a78a3e1637d389f21915aa99d', 'message': ""[network] Rework the SR-IOV guide\n\nRework the SR-IOV guide to provide some additional clarity:\n\n* Rework sections to emphasise some content\n* Rewrap lines\n* Correct some grammar nits\n* Don't reference older versions of OpenStack: the docs are already\n  versioned\n\nChange-Id: I0792f16de23dd4628c1aca33cf89fdeef36940a9\n""}, {'number': 3, 'created': '2016-06-15 12:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7044201b218fccff572c1861a048a2e66db555f1', 'message': ""[network] Rework the SR-IOV guide\n\nRework the SR-IOV guide to provide some additional clarity:\n\n* Rework sections to emphasise some content\n* Rewrap lines\n* Correct some grammar nits\n* Don't reference older versions of OpenStack: the docs are already\n  versioned\n\nChange-Id: I0792f16de23dd4628c1aca33cf89fdeef36940a9\n""}, {'number': 4, 'created': '2016-06-15 13:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e2e9a77ea1f12179b0eb9319877ccfde603e09e5', 'message': '[network] Rework the SR-IOV guide\n\nRework the SR-IOV guide to provide some additional clarity:\n\n* Rework sections to emphasise some content\n* Rewrap lines\n* Correct some grammar nits\n* Don\'t reference older versions of OpenStack: the docs are already\n  versioned\n* Rename the document to be consistent with other sections in the\n  ""Advanced"" section\n\nChange-Id: I0792f16de23dd4628c1aca33cf89fdeef36940a9\n'}, {'number': 5, 'created': '2016-06-20 08:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b7350a67b338a6872fd9f80ca78d49f02b21b3a1', 'message': '[network] Rework the SR-IOV guide\n\nRework the SR-IOV guide to provide some additional clarity:\n\n* Rework sections to emphasise some content\n* Rewrap lines\n* Correct some grammar nits\n* Don\'t reference older versions of OpenStack: the docs are already\n  versioned\n* Rename the document to be consistent with other sections in the\n  ""Advanced"" section\n\nChange-Id: I0792f16de23dd4628c1aca33cf89fdeef36940a9\n'}, {'number': 6, 'created': '2016-07-04 09:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0688b76d6a1e70bc409568333a47edb2d5a426f1', 'message': '[network] Rework the SR-IOV guide\n\nRework the SR-IOV guide to provide some additional clarity:\n\n* Rework sections to emphasise some content\n* Rewrap lines\n* Correct some grammar nits\n* Don\'t reference older versions of OpenStack: the docs are already\n  versioned\n* Rename the document to be consistent with other sections in the\n  ""Advanced"" section\n\nChange-Id: I0792f16de23dd4628c1aca33cf89fdeef36940a9\n'}, {'number': 7, 'created': '2016-07-05 16:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/00f85839009f61139e85fe1920b86b29073bcb82', 'message': '[network] Rework the SR-IOV guide\n\nRework the SR-IOV guide to provide some additional clarity:\n\n* Rework sections to emphasise some content\n* Rewrap lines\n* Correct some grammar nits\n* Don\'t reference older versions of OpenStack: the docs are already\n  versioned\n* Rename the document to be consistent with other sections in the\n  ""Advanced"" section\n\nChange-Id: I0792f16de23dd4628c1aca33cf89fdeef36940a9\n'}, {'number': 8, 'created': '2016-07-07 08:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/701b358b991710d27f636b2bcaf5a23e94a03273', 'message': '[network] Rework the SR-IOV guide\n\nRework the SR-IOV guide to provide some additional clarity:\n\n* Rework sections to emphasise some content\n* Rewrap lines\n* Correct some grammar nits\n* Don\'t reference older versions of OpenStack: the docs are already\n  versioned\n* Rename the document to be consistent with other sections in the\n  ""Advanced"" section\n* Clarify the expectation that an init-system script be used to start\n  the sriov-nic-agent automatically\n\nChange-Id: I0792f16de23dd4628c1aca33cf89fdeef36940a9\nRelated-bug: #1508557\n'}, {'number': 9, 'created': '2016-07-07 10:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4caefd54865940d3d6481509f5d21fc5133f3888', 'message': '[network] Rework the SR-IOV guide\n\nRework the SR-IOV guide to provide some additional clarity:\n\n* Rework sections to emphasise some content\n* Rewrap lines\n* Correct some grammar nits\n* Don\'t reference older versions of OpenStack: the docs are already\n  versioned\n* Rename the document to be consistent with other sections in the\n  ""Advanced"" section\n* Clarify the expectation that an init-system script be used to start\n  the sriov-nic-agent automatically\n\nChange-Id: I0792f16de23dd4628c1aca33cf89fdeef36940a9\nRelated-bug: #1508557\n'}, {'number': 10, 'created': '2016-07-07 14:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9d27497da47630eb666106fff5adee078d6b7778', 'message': '[network] Rework the SR-IOV guide\n\nRework the SR-IOV guide to provide some additional clarity:\n\n* Rework sections to emphasise some content\n* Rewrap lines\n* Correct some grammar nits\n* Don\'t reference older versions of OpenStack: the docs are already\n  versioned\n* Rename the document to be consistent with other sections in the\n  ""Advanced"" section\n* Clarify the expectation that an init-system script be used to start\n  the sriov-nic-agent automatically\n\nChange-Id: I0792f16de23dd4628c1aca33cf89fdeef36940a9\nRelated-bug: #1508557\n'}, {'number': 11, 'created': '2016-07-13 12:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d5889bc008f66a20845a21cbb7f04c61d1e31f12', 'message': '[network] Rework the SR-IOV guide\n\nRework the SR-IOV guide to provide some additional clarity:\n\n* Rework sections to emphasise some content\n* Rewrap lines\n* Correct some grammar nits\n* Don\'t reference older versions of OpenStack: the docs are already\n  versioned\n* Rename the document to be consistent with other sections in the\n  ""Advanced"" section\n* Clarify the expectation that an init-system script be used to start\n  the sriov-nic-agent automatically\n\nChange-Id: I0792f16de23dd4628c1aca33cf89fdeef36940a9\nRelated-bug: #1508557\n'}, {'number': 12, 'created': '2016-07-14 10:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/831e5c2ea7bf45322ead11c8e325ae75af580dfa', 'message': '[network] Rework the SR-IOV guide\n\nRework the SR-IOV guide to provide some additional clarity:\n\n* Rework sections to emphasise some content\n* Rewrap lines\n* Correct some grammar nits\n* Don\'t reference older versions of OpenStack: the docs are already\n  versioned\n* Rename the document to be consistent with other sections in the\n  ""Advanced"" section\n* Clarify the expectation that an init-system script be used to start\n  the sriov-nic-agent automatically\n\nChange-Id: I0792f16de23dd4628c1aca33cf89fdeef36940a9\nRelated-bug: #1508557\n'}, {'number': 13, 'created': '2016-08-09 11:16:18.000000000', 'files': ['doc/networking-guide/source/config-sriov.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a5191ca4b44aa61b66537a6daee9d6442f985553', 'message': '[network] Rework the SR-IOV guide\n\nRework the SR-IOV guide to provide some additional clarity:\n\n* Rework sections to emphasise some content\n* Rewrap lines\n* Correct some grammar nits\n* Don\'t reference older versions of OpenStack: the docs are already\n  versioned\n* Rename the document to be consistent with other sections in the\n  ""Advanced"" section\n* Clarify the expectation that an init-system script be used to start\n  the sriov-nic-agent automatically\n\nChange-Id: I0792f16de23dd4628c1aca33cf89fdeef36940a9\nRelated-bug: #1508557\n'}]",99,329896,a5191ca4b44aa61b66537a6daee9d6442f985553,63,9,13,15334,,,0,"[network] Rework the SR-IOV guide

Rework the SR-IOV guide to provide some additional clarity:

* Rework sections to emphasise some content
* Rewrap lines
* Correct some grammar nits
* Don't reference older versions of OpenStack: the docs are already
  versioned
* Rename the document to be consistent with other sections in the
  ""Advanced"" section
* Clarify the expectation that an init-system script be used to start
  the sriov-nic-agent automatically

Change-Id: I0792f16de23dd4628c1aca33cf89fdeef36940a9
Related-bug: #1508557
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/96/329896/12 && git format-patch -1 --stdout FETCH_HEAD,['doc/networking-guide/source/adv-config-sriov.rst'],1,3665547f865c88cf950bfe76bf4a608bb4ba2f83,adv-config-sriov,"PCI-SIG Single Root I/O Virtualization and Sharing (SR-IOV) functionality is available in OpenStack since the Juno release. The SR-IOV specification defines a standardized mechanism to virtualize PCIe devices. This mechanism can virtualize a single PCIe Ethernet controller to appear as multiple PCIe devices. Each device can be directly assigned to a VM, bypassing the hypervisor and virtual switch layer. As a result, users are able to achieve low latency and near-line wire speed. The following terms are used throughout this document: - Physical Function. This is the physical Ethernet controller that supports SR-IOV. - Virtual Function. This is a virtual PCIe device created from a physical Ethernet controller. neutron sriov-agent ------------------- The neutron sriov-agent allows you to set the admin state of ports, configure port security (enable and disable spoof checking) and configure QoS rate limiting. neutron sriov-agent is required on each compute node where SR-IOV ports will be used. .. note:: neutron sriov-agent was optional before Mitaka, and was not enabled by default before Liberty. .. note:: The ability to control port security and QoS rate limit settings was added in Liberty. Supported Ethernet controllers ------------------------------ The following manufacturers are known to work: - Intel - Mellanox - QLogic For information on **Mellanox SR-IOV Ethernet cards** see: `Mellanox: How To Configure SR-IOV VFs <https://community.mellanox.com/docs/DOC-1484>`_ For information on **QLogic SR-IOV Ethernet cards** see: `User's Guide OpenStack Deployment with SR-IOV Configuration <http://www.qlogic.com/solutions/Documents/UsersGuide_OpenStack_SR-IOV.pdf>`_ Using SR-IOV interfaces ~~~~~~~~~~~~~~~~~~~~~~~We recommend using Open vSwitch with VLAN as segregation. This way you can combine normal VMs without SR-IOV ports and instances with SR-IOV ports on a single neutron network. Throughout this guide, ``eth3`` is used as the PF and ``physnet2`` is used as the provider network configured as a VLAN range. These ports may vary in different environments. Create the VFs for the network interface that will be used for SR-IOV. We use ``eth3`` as PF, which is also used as the interface for Open vSwitch VLAN and has access to the private networks of all machines. .. note:: The steps detail how too create VFs on Ubuntu using **Intel SR-IOV Ethernet cards**. Steps may differ for different Ethernet controllers and/or different environment. #. Ensure SR-IOV and VT-d are enabled in BIOS. #. Enable IOMMU in Linux by adding ``intel_iommu=on`` to the kernel parameters. For example, edit ``/etc/default/grub``: If changes were necessary, propagate these changes and reboot the system.#. Verify that the VFs have been created (should see Virtual Function device): The suggested way of making PCI SYS settings persistent is through :file:`sysfs.conf` but for unknown reason changing :file:`sysfs.conf` does not have any effect on Ubuntu 14.04.#. Configure which PCI devices ``nova-compute`` may use. Edit :file:``nova.conf``: .. code-block:: ini [default] pci_passthrough_whitelist = { ""devname"": ""eth3"", ""physical_network"": ""physnet2""} This tells nova that all VFs belonging to ``eth3`` are allowed to be passed through to VMs and belong to the neutron provider network ``physnet2``. #. Restart the ``nova-compute`` service for the changes to go into effect.all VFs under the PF will match the entry. Multiple ``pci_passthrough_whitelist`` entries per host are supported.#. Add ``sriovnicswitch`` as mechanism driver. Edit :file:``ml2_conf.ini`` on each controller:#. Identify the ``vendor_id`` and ``product_id`` of the VFs on each compute node:#. Add the VF as a supported device. Edit :file:``ml2_conf_sriov.ini`` on each controller.#. Add the newly configured ``ml2_conf_sriov.ini`` as parameter to the ``neutron-server`` daemon. Edit the appropriate initialization script to configure the ``neutron-server`` service to load the SRIOV configuration file: --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugin.ini#. Restart the ``neutron-server`` service. ``PciPassthroughFilter`` to the ``scheduler_default_filters`` parameter. Add a new line for ``scheduler_available_filters`` parameter under the ``[DEFAULT]`` section in ``nova.conf``:#. Restart the ``nova-scheduler`` service.#. Edit :file:``sriov_agent.ini`` on each compute node: The ``exclude_devices`` parameter is empty, therefore, all the VFs associated with eth3 may be configured by the agent. To exclude specific VFs, add them to the ``exclude_devices`` parameter as follows: exclude_devices = eth1:0000:07:00.2;0000:07:00.3,eth2:0000:05:00.1;0000:05:00.2 #. Ensure the neutron sriov-agent runs successfully: Once configuration is completed, you can launch instances with neutron SR-IOV ports. #. Get the ``id`` of the neutron network where you want the SR-IOV port to be There are two ways to attach VFs to an instance. You can create a neutron SR-IOV port or use the ``pci_alias`` in nova. For more information about using ``pci_alias``, refer to `nova-api configuration`_.Known limitations ~~~~~~~~~~~~~~~~~ * When using Quality of Service (QoS), ``max_burst_kbps`` (burst over ``max_kbps``) is not supported. In addition, ``max_kbps`` is rounded to Mbps. * Security Groups are not supported when using SR-IOV, thus, the firewall driver must be disabled. This can be done in ``nova.conf``. .. code-block:: firewall_driver = neutron.agent.firewall.NoopFirewallDriver * SR-IOV is not integrated into the OpenStack Dashboard (Horizon). Users must use the CLI or API to configure SR-IOV interfaces. * Live migration is not supported for instances with SR-IOV ports. ","The purpose of this page is to describe how to enable SR-IOV functionality available in OpenStack (using OpenStack Networking) as of the Juno release. This page serves as a how-to guide on configuring OpenStack Networking and OpenStack Compute to create neutron SR-IOV ports. The basics ~~~~~~~~~~ PCI-SIG Single Root I/O Virtualization and Sharing (SR-IOV) specification defines a standardized mechanism to virtualize PCIe devices. The mechanism can virtualize a single PCIe Ethernet controller to appear as multiple PCIe devices. You can directly assign each virtual PCIe device to a VM, bypassing the hypervisor and virtual switch layer. As a result, users are able to achieve low latency and near-line wire speed. SR-IOV with ethernet ~~~~~~~~~~~~~~~~~~~~ The following terms are used over the document: - Physical Function. This is the physical Ethernet controller that supports SR-IOV. - Virtual Function. This is a virtual PCIe device created from a physical Ethernet controller. **Neutron sriov-agent** Neutron sriov-agent is required in the lastest version. Neutron sriov-agent allows you to set the admin state of ports and starting from Liberty allows you to control port security (enable and disable spoof checking) and QoS rate limit settings. Neutron sriov-agent was optional before Mitaka, and was not enabled by default before Liberty. Known limitations ----------------- * QoS is supported since Liberty, while it has limitations. ``max_burst_kbps`` (burst over ``max_kbps``) is not supported. ``max_kbps`` is rounded to Mbps. * Security Group is not supported. the agent is only working with ``firewall_driver = neutron.agent.firewall.NoopFirewallDriver``. * No OpenStack Dashboard integration. Users need to use CLI or API to create neutron SR-IOV ports. * Live migration is not supported for instances with SR-IOV ports. .. note:: ARP spoofing filtering was not supported before Mitaka when using neutron sriov-agent. Environment example ------------------- We recommend using Open vSwitch with VLAN as segregation. This way you can combine normal VMs without SR-IOV ports and instances with SR-IOV ports on a single neutron network. .. note:: Throughout this guide, eth3 is used as the PF and physnet2 is used as the provider network configured as a VLAN range. You are expected to change this according to your actual environment. In this step, create the VFs for the network interface that will be used for SR-IOV. Use eth3 as PF, which is also used as the interface for Open vSwitch VLAN and has access to the private networks of all machines. The step to create VFs differ between SR-IOV card Ethernet controller manufacturers. Currently the following manufacturers are known to work: - Intel - Mellanox - QLogic For **Mellanox SR-IOV Ethernet cards** see: `Mellanox: HowTo Configure SR-IOV VFs <https://community.mellanox.com/docs/DOC-1484>`_ To create the VFs on Ubuntu for **Intel SR-IOV Ethernet cards**, do the following: #. Make sure SR-IOV is enabled in BIOS, check for VT-d and make sure it is enabled. After enabling VT-d, enable IOMMU on Linux by adding ``intel_iommu=on`` to kernel parameters. Edit the file ``/etc/default/grub``:#. Run the following if you have added new parameters:#. Now verify that the VFs have been created (should see Virtual Function device): The suggested way of making PCI SYS settings persistent is through :file:`sysfs.conf` but for unknown reason changing :file:`sysfs.conf` does not have any effect on Ubuntu 14.04. For **QLogic SR-IOV Ethernet cards** see: `User's Guide OpenStack Deployment with SR-IOV Configuration <http://www.qlogic.com/solutions/Documents/UsersGuide_OpenStack_SR-IOV.pdf>`_ Tell ``nova-compute`` which pci devices are allowed to be passed through. Edit the file ``nova.conf``: .. code-block:: ini [default] pci_passthrough_whitelist = { ""devname"": ""eth3"", ""physical_network"": ""physnet2""} This tells nova that all VFs belonging to eth3 are allowed to be passed through to VMs and belong to the neutron provider network physnet2. Restart the ``nova-compute`` service for the changes to go into effect.all VFs under the PF will match the entry. Multiple pci_passthrough_whitelist entries per host are supported.#. Add ``sriovnicswitch`` as mechanism driver, edit the file ``ml2_conf.ini``:#. Find out the ``vendor_id`` and ``product_id`` of your **VFs** by logging in to your compute node with VFs previously created:#. Update the ``ml2_conf_sriov.ini`` on each controller. In our case the ``vendor_id`` is ``8086`` and the ``product_id`` is ``10ed``. Tell neutron the ``vendor_id`` and ``product_id`` of the VFs that are supported. #. Add the newly configured ``ml2_conf_sriov.ini`` as parameter to the ``neutron-server`` daemon. Edit the appropriate initialization script to configure the ``neutron-server`` service to load the SRIOV configuration file: --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugin.ini#. For the changes to go into effect, restart the ``neutron-server`` service. ``PciPassthroughFilter`` to the ``scheduler_default_filters`` parameter and add a new line for ``scheduler_available_filters`` parameter under the ``[DEFAULT]`` section in ``nova.conf``: #. Restart the nova-scheduler service. #. On each compute node, edit the file ``sriov_agent.ini``: The ``exclude_devices`` parameter is empty, therefore, all the VFs associated with eth3 may be configured by the agent. To exclude specific VFs, add them to the ``exclude_devices`` parameter as follows: exclude_devices = eth1:0000:07:00.2; 0000:07:00.3, eth2:0000:05:00.1; 0000:05:00.2 #. Test whether the neutron sriov-agent runs successfully:After the configuration is done, you can now launch Instances with neutron SR-IOV ports. #. Get the id of the neutron network where you want the SR-IOV port to be There are two ways to attach VFs to an instance. You can create a neutron SR-IOV port or use the ``pci_alias`` in nova. For more information about using ``pci_alias``, refer to `nova-api configuration`_. ",128,142
openstack%2Ffuel-qa~master~I2ea67d9a610bf3bfa3e52aea6e04df0fe7bd5c52,openstack/fuel-qa,master,I2ea67d9a610bf3bfa3e52aea6e04df0fe7bd5c52,Leaves default settings for networks if bonding is enabled,ABANDONED,2016-07-06 01:03:16.000000000,2016-08-12 17:53:39.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 11969}, {'_account_id': 12867}, {'_account_id': 14057}, {'_account_id': 14708}, {'_account_id': 15984}, {'_account_id': 19119}]","[{'number': 1, 'created': '2016-07-06 01:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/20147d30d2b4dc0b00d4635f3db24efe3882b4b1', 'message': 'Leaves default settings for networks if bonding is enabled\n\nLeaves default network settings for management, storage\nand private networks if bonding is enabled.\n\nChange-Id: I2ea67d9a610bf3bfa3e52aea6e04df0fe7bd5c52\nCloses-bug: #1598315\n'}, {'number': 2, 'created': '2016-07-06 01:05:58.000000000', 'files': ['fuelweb_test/models/fuel_web_client.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/b25bbcf79dceb81d7cd8f6ffb16ee736edfaff9b', 'message': 'Leaves default settings for networks if bonding is enabled\n\nLeaves default network settings for management, storage\nand private networks if bonding is enabled for\ndevops 3.0 compatible fuelweb client.\n\nChange-Id: I2ea67d9a610bf3bfa3e52aea6e04df0fe7bd5c52\nCloses-bug: #1598315\n'}]",0,337942,b25bbcf79dceb81d7cd8f6ffb16ee736edfaff9b,13,8,2,8863,,,0,"Leaves default settings for networks if bonding is enabled

Leaves default network settings for management, storage
and private networks if bonding is enabled for
devops 3.0 compatible fuelweb client.

Change-Id: I2ea67d9a610bf3bfa3e52aea6e04df0fe7bd5c52
Closes-bug: #1598315
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/42/337942/2 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/models/fuel_web_client.py'],1,20147d30d2b4dc0b00d4635f3db24efe3882b4b1,," if BONDING: # leave defaults for mgmt, storage and private if # BONDING is enabled continue",,4,0
openstack%2Fceilometer~master~I8683eea8fe39d3aedde2766d4381ed6e1bff8e17,openstack/ceilometer,master,I8683eea8fe39d3aedde2766d4381ed6e1bff8e17,Use tempest.lib's images_client,ABANDONED,2016-06-14 03:42:37.000000000,2016-08-12 17:48:33.000000000,,"[{'_account_id': 3}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 15843}]","[{'number': 1, 'created': '2016-06-14 03:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/70e874962b5fe0f46b4de54d3fea9e520ef5c661', 'message': ""Use tempest.lib's v2 images_client\n\nThe latest tempest.lib contains v2 images_client now.\nSo this patch removes the copy&paste images_client and make the test\nuse tempest.lib's one.\n\nNOTE: The v1 images_client is still under the development.\n      So we need more time to switch using tempest.lib's one.\n\nChange-Id: I8683eea8fe39d3aedde2766d4381ed6e1bff8e17\n""}, {'number': 2, 'created': '2016-06-14 17:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d47d1be7ea44dae82cfa25d3e3c2b5dc88a76c97', 'message': ""Use tempest.lib's v2 images_client\n\nThe latest tempest.lib contains v2 images_client now.\nSo this patch removes the copy&paste images_client and make the test\nuse tempest.lib's one.\n\nNOTE: The v1 images_client is still under the development.\n      So we need more time to switch using tempest.lib's one.\n\nChange-Id: I8683eea8fe39d3aedde2766d4381ed6e1bff8e17\n""}, {'number': 3, 'created': '2016-06-29 23:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c76976a66da7dcb8d77c4a4c90c1d1126673c542', 'message': ""Use tempest.lib's v2 images_client\n\nThe latest tempest.lib contains v2 images_client now.\nSo this patch removes the copy&paste images_client and make the test\nuse tempest.lib's one.\n\nNOTE: The v1 images_client is still under the development.\n      So we need more time to switch using tempest.lib's one.\n\nDepends-On: I3af7b29607b3ccd917fae49ba4d01397dfca7dc1\nChange-Id: I8683eea8fe39d3aedde2766d4381ed6e1bff8e17\n""}, {'number': 4, 'created': '2016-06-30 19:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/fdbebde0130cc4da4dd33b249a43039bf4ad33e2', 'message': ""Use tempest.lib's v2 images_client\n\nThe latest tempest.lib contains v2 images_client now.\nSo this patch removes the copy&paste images_client and make the test\nuse tempest.lib's one.\n\nNOTE: The v1 images_client is still under the development.\n      So we need more time to switch using tempest.lib's one.\n\nDepends-On: I3af7b29607b3ccd917fae49ba4d01397dfca7dc1\nChange-Id: I8683eea8fe39d3aedde2766d4381ed6e1bff8e17\n""}, {'number': 5, 'created': '2016-06-30 21:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1bf1034504f3bdc92ae72adb53753147e8e1a77e', 'message': ""Use tempest.lib's v2 images_client\n\nThe latest tempest.lib contains v2 images_client now.\nSo this patch removes the copy&paste images_client and make the test\nuse tempest.lib's one.\n\nNOTE: The v1 images_client is still under the development.\n      So we need more time to switch using tempest.lib's one.\n\nDepends-On: I3af7b29607b3ccd917fae49ba4d01397dfca7dc1\nChange-Id: I8683eea8fe39d3aedde2766d4381ed6e1bff8e17\n""}, {'number': 6, 'created': '2016-07-28 22:11:34.000000000', 'files': ['ceilometer/tests/tempest/service/images/v2/images_client.py', 'test-requirements.txt', 'ceilometer/tests/tempest/service/images/v1/images_client.py', 'ceilometer/tests/tempest/service/images/v2/__init__.py', 'ceilometer/tests/tempest/service/client.py', 'ceilometer/tests/tempest/service/images/v1/__init__.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/52e15f97df13c4d310dfdb9af3e581b2b495f037', 'message': ""Use tempest.lib's images_client\n\nThe latest tempest.lib contains images_clients for v1 and v2 now.\nSo this patch removes the copy&paste images_client and make the test\nuse tempest.lib's one.\n\nChange-Id: I8683eea8fe39d3aedde2766d4381ed6e1bff8e17\n""}]",4,329259,52e15f97df13c4d310dfdb9af3e581b2b495f037,30,4,6,6167,,,0,"Use tempest.lib's images_client

The latest tempest.lib contains images_clients for v1 and v2 now.
So this patch removes the copy&paste images_client and make the test
use tempest.lib's one.

Change-Id: I8683eea8fe39d3aedde2766d4381ed6e1bff8e17
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/59/329259/5 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/tempest/service/images/v2/images_client.py', 'ceilometer/tests/tempest/service/images/v2/__init__.py', 'ceilometer/tests/tempest/service/client.py']",3,70e874962b5fe0f46b4de54d3fea9e520ef5c661,use-tempest-lib,from tempest.lib.service.images.v2.images_client import ImagesClient as \ ImagesClientV2,from ceilometer.tests.tempest.service.images.v2.images_client import \ ImagesClient as ImagesClientV2,2,247
openstack%2Fdevstack~master~I55765d9282e6b37b278f56d491dd9e75cbd8d889,openstack/devstack,master,I55765d9282e6b37b278f56d491dd9e75cbd8d889,DNM: try me,ABANDONED,2016-08-05 18:30:44.000000000,2016-08-12 17:47:58.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4656}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-08-05 18:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6c6e827a0a9b142dd88c344fed0761f4b540af7c', 'message': 'DNM: try me\n\nChange-Id: I55765d9282e6b37b278f56d491dd9e75cbd8d889\n'}, {'number': 2, 'created': '2016-08-05 20:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ed41f5c4700c071c35ca02ff4f3ea4dbb25105b0', 'message': 'DNM: try me\n\nChange-Id: I55765d9282e6b37b278f56d491dd9e75cbd8d889\n'}, {'number': 3, 'created': '2016-08-08 13:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4666215b3d4f8e454795871d01d6e25ca346039e', 'message': 'DNM: try me\n\nChange-Id: I55765d9282e6b37b278f56d491dd9e75cbd8d889\n'}, {'number': 5, 'created': '2016-08-09 03:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/42550f674d48824ad70b935467bbaad16a53bd87', 'message': 'DNM: try me\n\nfoo\n\nChange-Id: I55765d9282e6b37b278f56d491dd9e75cbd8d889\n'}, {'number': 6, 'created': '2016-08-09 13:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/640a5b3fe286149fea2a3df641d8eda2746426fb', 'message': 'DNM: try me\n\nfoo\n\nChange-Id: I55765d9282e6b37b278f56d491dd9e75cbd8d889\n'}, {'number': 7, 'created': '2016-08-09 20:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cad7027a485c881c4303f91e99e4a14099038e54', 'message': 'DNM: try me\n\nfoo\n\nChange-Id: I55765d9282e6b37b278f56d491dd9e75cbd8d889\n'}, {'number': 8, 'created': '2016-08-09 20:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9b937d4d737cd7816688b2cfb4ea2df8e69b3a2c', 'message': 'DNM: try me\n\nfoo\n\nChange-Id: I55765d9282e6b37b278f56d491dd9e75cbd8d889\n'}, {'number': 9, 'created': '2016-08-09 21:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/63da0cd53d4b4190df91602b516d677d86b9e971', 'message': 'DNM: try me\n\nfoo\n\nChange-Id: I55765d9282e6b37b278f56d491dd9e75cbd8d889\n'}, {'number': 10, 'created': '2016-08-09 21:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/eee1b1b4602686b3ff087f8f2d0b81475eaec255', 'message': 'DNM: try me\n\nfoo\n\nDepends-On: I95e750f26595139d63e464e352d14184d3339426\nChange-Id: I55765d9282e6b37b278f56d491dd9e75cbd8d889\n'}, {'number': 11, 'created': '2016-08-09 21:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7b56ed96ff2ab1b41bddb496f0275ada29eaa8f7', 'message': 'DNM: try me\n\nDepends-On: I95e750f26595139d63e464e352d14184d3339426\nChange-Id: I55765d9282e6b37b278f56d491dd9e75cbd8d889\n'}, {'number': 12, 'created': '2016-08-10 14:29:27.000000000', 'files': ['lib/neutron_plugins/services/l3', 'lib/tempest', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d03e9f85ee41b61536ba9020fe4c01964d666c33', 'message': 'DNM: try me\n\nChange-Id: I55765d9282e6b37b278f56d491dd9e75cbd8d889\n'}]",0,351876,d03e9f85ee41b61536ba9020fe4c01964d666c33,67,9,11,748,,,0,"DNM: try me

Change-Id: I55765d9282e6b37b278f56d491dd9e75cbd8d889
",git fetch https://review.opendev.org/openstack/devstack refs/changes/76/351876/12 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/services/l3'],1,6c6e827a0a9b142dd88c344fed0761f4b540af7c,single_interface,," else local default_dev="""" default_dev=$(ip route | grep ^default | awk '{print $5}') sudo iptables -t nat -A POSTROUTING -o $default_dev -s $FLOATING_RANGE -j MASQUERADE",0,4
openstack%2Fnova~master~I026ce2e524a3fe61256c552c89a2efb90cdde9b6,openstack/nova,master,I026ce2e524a3fe61256c552c89a2efb90cdde9b6,Refactors nova.cmd utils,MERGED,2016-05-30 17:45:29.000000000,2016-08-12 17:46:55.000000000,2016-08-12 17:46:54.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 8213}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12712}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-05-30 17:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/818d1c15bafc430edcf0e1c2672058e8aafaa220', 'message': 'Refactors nova.cmd utils\n\nSome of functions used in the nova.cmd modules are duplicated\nor they can be reused in future modules.\n\nAdds docstrings to the refactored functions.\n\nAdds unit tests to the refactored functions.\n\nChange-Id: I026ce2e524a3fe61256c552c89a2efb90cdde9b6\nPartially-Implements: blueprint get-policy-settings-cli\n'}, {'number': 2, 'created': '2016-06-13 05:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6a486b779cee888082c4128b5fc72684a5fa297', 'message': 'Refactors nova.cmd utils\n\nSome of functions used in the nova.cmd modules are duplicated\nor they can be reused in future modules.\n\nAdds docstrings to the refactored functions.\n\nAdds unit tests to the refactored functions.\n\nChange-Id: I026ce2e524a3fe61256c552c89a2efb90cdde9b6\nPartially-Implements: blueprint get-policy-settings-cli\n'}, {'number': 3, 'created': '2016-07-05 09:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75774a92c049d828178c3fe3789c4170123390b3', 'message': 'Refactors nova.cmd utils\n\nSome of functions used in the nova.cmd modules are duplicated\nor they can be reused in future modules.\n\nAdds docstrings to the refactored functions.\n\nAdds unit tests to the refactored functions.\n\nChange-Id: I026ce2e524a3fe61256c552c89a2efb90cdde9b6\nPartially-Implements: blueprint get-policy-settings-cli\n'}, {'number': 4, 'created': '2016-07-08 15:42:04.000000000', 'files': ['nova/cmd/dhcpbridge.py', 'nova/tests/unit/cmd/test_common.py', 'nova/cmd/common.py', 'nova/cmd/manage.py', 'nova/cmd/compute.py', 'nova/cmd/network.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a049967e7d6815ebb0962e0328a6f02088186339', 'message': 'Refactors nova.cmd utils\n\nSome of functions used in the nova.cmd modules are duplicated\nor they can be reused in future modules.\n\nAdds docstrings to the refactored functions.\n\nAdds unit tests to the refactored functions.\n\nChange-Id: I026ce2e524a3fe61256c552c89a2efb90cdde9b6\nPartially-Implements: blueprint discoverable-policy-cli\n'}]",4,322943,a049967e7d6815ebb0962e0328a6f02088186339,56,16,4,8213,,,0,"Refactors nova.cmd utils

Some of functions used in the nova.cmd modules are duplicated
or they can be reused in future modules.

Adds docstrings to the refactored functions.

Adds unit tests to the refactored functions.

Change-Id: I026ce2e524a3fe61256c552c89a2efb90cdde9b6
Partially-Implements: blueprint discoverable-policy-cli
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/322943/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/cmd/dhcpbridge.py', 'nova/tests/unit/cmd/test_common.py', 'nova/cmd/common.py', 'nova/cmd/manage.py', 'nova/cmd/compute.py', 'nova/cmd/network.py']",6,818d1c15bafc430edcf0e1c2672058e8aafaa220,bp/discoverable-policy-cli,from nova.cmd import common as cmd_common cmd_common.block_db_access('nova-network'),"import tracebackimport nova.db.api from nova import exceptiondef block_db_access(): class NoDB(object): def __getattr__(self, attr): return self def __call__(self, *args, **kwargs): stacktrace = """".join(traceback.format_stack()) LOG.error(_LE('No db access allowed in nova-network: %s'), stacktrace) raise exception.DBNotAllowed('nova-network') nova.db.api.IMPL = NoDB() block_db_access()",232,138
openstack%2Fnova~master~I3024edc7b56e652637c31b209160c72347c1f50d,openstack/nova,master,I3024edc7b56e652637c31b209160c72347c1f50d,rt: New unit test for rebuild_claim(),MERGED,2016-08-08 19:50:02.000000000,2016-08-12 17:45:59.000000000,2016-08-12 17:45:59.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 14819}, {'_account_id': 15751}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-08-08 19:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25411bfa9f5baecdff0ddad666b9db820ebbed48', 'message': ""rt: New unit test for rebuild_claim()\n\nThere was a unit test in test_resource_tracker.py called\ntest_existing_migration() in the _MoveClaimTest class. Ostensibly, this\nunit test was supposed to be testing when the _move_claim() method of\nthe resource tracker was being called with an explicit migration object\nthat had been passed in from the compute manager. Unfortunately, either\ndue to the passing of time and corrosion of the unit tests in\ntest_resource_tracker.py or simply an oversight by the original test\nauthor, the resource tracker's _move_claim() method is never called\ndirectly and the only method that calls _move_claim() with an explicit\nmigration parameter is the rebuild_claim() method. This method wasn't\nbeing tested at all, in either test_resource_tracker.py or\ntest_tracker.py.\n\nThis patch adds that missing unit test of rebuild_claim() by extracting\nthe original test_existing_migration() unit test from\ntest_resource_tracker.py that wasn't really testing anything that could\nbe called directly from the compute manager and changing it to conform\nto the test fixtures in test_tracker.py.\n\nChange-Id: I3024edc7b56e652637c31b209160c72347c1f50d\n""}, {'number': 2, 'created': '2016-08-08 19:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1cb16b49f671fd2d2797b01417a763d7d785d17', 'message': ""rt: New unit test for rebuild_claim()\n\nThere was a unit test in test_resource_tracker.py called\ntest_existing_migration() in the _MoveClaimTest class. Ostensibly, this\nunit test was supposed to be testing when the _move_claim() method of\nthe resource tracker was being called with an explicit migration object\nthat had been passed in from the compute manager. Unfortunately, either\ndue to the passing of time and corrosion of the unit tests in\ntest_resource_tracker.py or simply an oversight by the original test\nauthor, the resource tracker's _move_claim() method is never called\ndirectly and the only method that calls _move_claim() with an explicit\nmigration parameter is the rebuild_claim() method. This method wasn't\nbeing tested at all, in either test_resource_tracker.py or\ntest_tracker.py.\n\nThis patch adds that missing unit test of rebuild_claim() by extracting\nthe original test_existing_migration() unit test from\ntest_resource_tracker.py that wasn't really testing anything that could\nbe called directly from the compute manager and changing it to conform\nto the test fixtures in test_tracker.py.\n\nChange-Id: I3024edc7b56e652637c31b209160c72347c1f50d\n""}, {'number': 3, 'created': '2016-08-09 15:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ffb377c0a543df3a153e6cc40081a8abcaf3061', 'message': ""rt: New unit test for rebuild_claim()\n\nThere was a unit test in test_resource_tracker.py called\ntest_existing_migration() in the _MoveClaimTest class. Ostensibly, this\nunit test was supposed to be testing when the _move_claim() method of\nthe resource tracker was being called with an explicit migration object\nthat had been passed in from the compute manager. Unfortunately, either\ndue to the passing of time and corrosion of the unit tests in\ntest_resource_tracker.py or simply an oversight by the original test\nauthor, the resource tracker's _move_claim() method is never called\ndirectly and the only method that calls _move_claim() with an explicit\nmigration parameter is the rebuild_claim() method. This method wasn't\nbeing tested at all, in either test_resource_tracker.py or\ntest_tracker.py.\n\nThis patch adds that missing unit test of rebuild_claim() by extracting\nthe original test_existing_migration() unit test from\ntest_resource_tracker.py that wasn't really testing anything that could\nbe called directly from the compute manager and changing it to conform\nto the test fixtures in test_tracker.py.\n\nChange-Id: I3024edc7b56e652637c31b209160c72347c1f50d\n""}, {'number': 4, 'created': '2016-08-11 01:13:03.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9fff82896870be9c581abd6f556b80db371cda68', 'message': ""rt: New unit test for rebuild_claim()\n\nThere was a unit test in test_resource_tracker.py called\ntest_existing_migration() in the _MoveClaimTest class. Ostensibly, this\nunit test was supposed to be testing when the _move_claim() method of\nthe resource tracker was being called with an explicit migration object\nthat had been passed in from the compute manager. Unfortunately, either\ndue to the passing of time and corrosion of the unit tests in\ntest_resource_tracker.py or simply an oversight by the original test\nauthor, the resource tracker's _move_claim() method is never called\ndirectly and the only method that calls _move_claim() with an explicit\nmigration parameter is the rebuild_claim() method. This method wasn't\nbeing tested at all, in either test_resource_tracker.py or\ntest_tracker.py.\n\nThis patch adds that missing unit test of rebuild_claim() by extracting\nthe original test_existing_migration() unit test from\ntest_resource_tracker.py that wasn't really testing anything that could\nbe called directly from the compute manager and changing it to conform\nto the test fixtures in test_tracker.py.\n\nChange-Id: I3024edc7b56e652637c31b209160c72347c1f50d\n""}]",4,352578,9fff82896870be9c581abd6f556b80db371cda68,28,9,4,7,,,0,"rt: New unit test for rebuild_claim()

There was a unit test in test_resource_tracker.py called
test_existing_migration() in the _MoveClaimTest class. Ostensibly, this
unit test was supposed to be testing when the _move_claim() method of
the resource tracker was being called with an explicit migration object
that had been passed in from the compute manager. Unfortunately, either
due to the passing of time and corrosion of the unit tests in
test_resource_tracker.py or simply an oversight by the original test
author, the resource tracker's _move_claim() method is never called
directly and the only method that calls _move_claim() with an explicit
migration parameter is the rebuild_claim() method. This method wasn't
being tested at all, in either test_resource_tracker.py or
test_tracker.py.

This patch adds that missing unit test of rebuild_claim() by extracting
the original test_existing_migration() unit test from
test_resource_tracker.py that wasn't really testing anything that could
be called directly from the compute manager and changing it to conform
to the test fixtures in test_tracker.py.

Change-Id: I3024edc7b56e652637c31b209160c72347c1f50d
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/352578/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_tracker.py']",2,25411bfa9f5baecdff0ddad666b9db820ebbed48,bp/generic-resource-pools,"class TestRebuild(BaseTestCase): @mock.patch('nova.objects.InstancePCIRequests.get_by_instance', return_value=objects.InstancePCIRequests(requests=[])) @mock.patch('nova.objects.PciDeviceList.get_by_compute_node', return_value=objects.PciDeviceList()) @mock.patch('nova.objects.ComputeNode.get_by_host_and_nodename') @mock.patch('nova.objects.MigrationList.get_in_progress_by_host_and_node') @mock.patch('nova.objects.InstanceList.get_by_host_and_node') def test_rebuild_claim(self, get_mock, migr_mock, get_cn_mock, pci_mock, instance_pci_mock): # Rebuild an instance, emulating an evacuate command issued against the # original instance. The rebuild operation uses the resource tracker's # _move_claim() method, but unlike with resize_claim(), rebuild_claim() # passes in a pre-created Migration object from the destination compute # manager. self.flags(reserved_host_disk_mb=0, reserved_host_memory_mb=0) # Starting state for the destination node of the rebuild claim is the # normal compute node fixture containing a single active running VM # having instance type #1. virt_resources = copy.deepcopy(_VIRT_DRIVER_AVAIL_RESOURCES) virt_resources.update(vcpus_used=1, memory_mb_used=128, local_gb_used=1) self._setup_rt(virt_resources=virt_resources) get_mock.return_value = _INSTANCE_FIXTURES migr_mock.return_value = [] get_cn_mock.return_value = _COMPUTE_NODE_FIXTURES[0].obj_clone() self.rt.update_available_resource(mock.sentinel.ctx) # Now emulate the evacuate command by calling rebuild_claim() on the # resource tracker as the compute manager does, supplying a Migration # object that corresponds to the evacuation. migration = objects.Migration( mock.sentinel.ctx, id=1, instance_uuid=uuids.rebuilding_instance, source_compute='fake-other-compute', source_node='fake-other-node', status='accepted', migration_type='evacuation' ) instance = objects.Instance( id=1, host=None, node=None, uuid='abef5b54-dea6-47b8-acb2-22aeb1b57919', memory_mb=_INSTANCE_TYPE_FIXTURES[2]['memory_mb'], vcpus=_INSTANCE_TYPE_FIXTURES[2]['vcpus'], root_gb=_INSTANCE_TYPE_FIXTURES[2]['root_gb'], ephemeral_gb=_INSTANCE_TYPE_FIXTURES[2]['ephemeral_gb'], numa_topology=None, pci_requests=None, pci_devices=None, instance_type_id=2, vm_state=vm_states.ACTIVE, power_state=power_state.RUNNING, task_state=task_states.REBUILDING, os_type='fake-os', project_id='fake-project', flavor = _INSTANCE_TYPE_OBJ_FIXTURES[2], old_flavor = _INSTANCE_TYPE_OBJ_FIXTURES[2], new_flavor = _INSTANCE_TYPE_OBJ_FIXTURES[2], ) # not using mock.sentinel.ctx because resize_claim calls #elevated ctx = mock.MagicMock() with test.nested( mock.patch('nova.objects.Migration.save'), mock.patch('nova.objects.Instance.save'), ) as (mig_save_mock, inst_save_mock): self.rt.rebuild_claim(ctx, instance, migration=migration) self.assertEqual(_HOSTNAME, migration.dest_compute) self.assertEqual(_NODENAME, migration.dest_node) self.assertEqual(""pre-migrating"", migration.status) self.assertEqual(1, len(self.rt.tracked_migrations)) mig_save_mock.assert_called_once_with() inst_save_mock.assert_called_once_with() ",,85,18
openstack%2Fglance~stable%2Fmitaka~I4018af408fa45f3ac0ad6e9c8229428a9f87089f,openstack/glance,stable/mitaka,I4018af408fa45f3ac0ad6e9c8229428a9f87089f,Version negotiation api middleware to include v2.3,MERGED,2016-08-04 16:02:01.000000000,2016-08-12 17:45:15.000000000,2016-08-12 17:45:15.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 12000}]","[{'number': 1, 'created': '2016-08-04 16:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7190495daa4592baaccec0eb19fe4a4f92134cb9', 'message': 'Version negotiation api middleware to include v2.3\n\nGlance API is at v2.3 listed to be CURRENT version but the version\nnegotiation middleware lists only v2, v2.0, v2.1, v2.2.\n\nVersion negotiation middleware and related tests must include v2.3\n\nChange-Id: I4018af408fa45f3ac0ad6e9c8229428a9f87089f\nCloses-Bug: 1609571\n'}, {'number': 2, 'created': '2016-08-04 16:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1c494154ffdf47f51e9982ddc155c71354fc5922', 'message': 'Version negotiation api middleware to include v2.3\n\nGlance API is at v2.3 listed to be CURRENT version but the version\nnegotiation middleware lists only v2, v2.0, v2.1, v2.2.\n\nVersion negotiation middleware and related tests must include v2.3\n\nChange-Id: I4018af408fa45f3ac0ad6e9c8229428a9f87089f\nCloses-Bug: 1609571\n(Cherry-picked from 0d1daf44efed10526f582c16ebab56ffa53bc1da)\n'}, {'number': 3, 'created': '2016-08-04 16:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a9107d95530c0b6fdd374c5102488d7fe2854b78', 'message': 'Version negotiation api middleware to include v2.3\n\nGlance API is at v2.3 listed to be CURRENT version but the version\nnegotiation middleware lists only v2, v2.0, v2.1, v2.2.\n\nVersion negotiation middleware and related tests must include v2.3\n\nChange-Id: I4018af408fa45f3ac0ad6e9c8229428a9f87089f\nCloses-Bug: 1609571\n(Cherry-picked from commit 0d1daf44efed10526f582c16ebab56ffa53bc1da)\n'}, {'number': 4, 'created': '2016-08-11 16:58:12.000000000', 'files': ['glance/tests/unit/test_versions.py', 'glance/api/middleware/version_negotiation.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ab4519f9bc9a093ba0ac3b1d8c6d77a9312f6319', 'message': ""Version negotiation api middleware to include v2.3\n\nGlance API is at v2.3 listed to be CURRENT version but the version\nnegotiation middleware lists only v2, v2.0, v2.1, v2.2.\n\nAlso, adds test class to versions tests.\n\nThe current versions tests contain a class to test the versions\nresponse, and a class to test version negotiation, but this put us\nin a situation where the 'versions' response was correctly updated\nfor v2.3, but the negotiation to map v2.3 -> v2 was not, thereby\nmaking calls to /v2.3/whatever fail even though all tests in both\nclasses passed.\n\nThis patch adds a new test class that inherits from both of the\ncurrent test classes.  It contains tests to verify that all the\nversions mentioned in the versions response are mapped correctly\nso this kind of partial update situation won't happen again.\n\nCloses-Bug: 1609571\n\nCo-Authored-By: Nikhil Komawar <nik.komawar@gmail.com>\nCo-Authored-By: Brian Rosmaita <brian.rosmaita@rackspace.com>\n\nChange-Id: I4018af408fa45f3ac0ad6e9c8229428a9f87089f\n(Cherry-picked from commit 0d1daf44efed10526f582c16ebab56ffa53bc1da and\ncommit 8c3560bbf6fe9f5267d7cf3f087201540a1ebff0)\n""}]",0,351266,ab4519f9bc9a093ba0ac3b1d8c6d77a9312f6319,25,5,4,2537,,,0,"Version negotiation api middleware to include v2.3

Glance API is at v2.3 listed to be CURRENT version but the version
negotiation middleware lists only v2, v2.0, v2.1, v2.2.

Also, adds test class to versions tests.

The current versions tests contain a class to test the versions
response, and a class to test version negotiation, but this put us
in a situation where the 'versions' response was correctly updated
for v2.3, but the negotiation to map v2.3 -> v2 was not, thereby
making calls to /v2.3/whatever fail even though all tests in both
classes passed.

This patch adds a new test class that inherits from both of the
current test classes.  It contains tests to verify that all the
versions mentioned in the versions response are mapped correctly
so this kind of partial update situation won't happen again.

Closes-Bug: 1609571

Co-Authored-By: Nikhil Komawar <nik.komawar@gmail.com>
Co-Authored-By: Brian Rosmaita <brian.rosmaita@rackspace.com>

Change-Id: I4018af408fa45f3ac0ad6e9c8229428a9f87089f
(Cherry-picked from commit 0d1daf44efed10526f582c16ebab56ffa53bc1da and
commit 8c3560bbf6fe9f5267d7cf3f087201540a1ebff0)
",git fetch https://review.opendev.org/openstack/glance refs/changes/66/351266/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_versions.py', 'glance/api/middleware/version_negotiation.py']",2,7190495daa4592baaccec0eb19fe4a4f92134cb9,bug/1609571, allowed_versions['v2.3'] = 2,,7,1
openstack%2Fnova~master~Ic2ca8aa42ce67a95bcdae946289179f98e6103e8,openstack/nova,master,Ic2ca8aa42ce67a95bcdae946289179f98e6103e8,libvirt: Remove duplicated logic in check_can_live_migrate_source,ABANDONED,2016-06-29 14:57:28.000000000,2016-08-12 17:45:00.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9555}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10385}, {'_account_id': 12299}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-06-29 14:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7539de60056fb2cda332e969c8fd6df220506cec', 'message': 'libvirt: Remove duplicated logic in check_can_live_migrate_source\n\ncheck_can_live_migrate_source has implicitly duplicated checks for an\ninstance booted from volume with no local disks.\n\nThe first check is performed by _is_shared_block_storage method, the\nsecond one is performed inside check_can_live_migrate_source.\n\nThe second check was added in https://review.openstack.org/#/c/195885\nThere were no sufficient details why that change helps in both commit\nmessage and related bug. Also that change does not set\ndest_check_data.is_shared_block_storage flag, which looks inconsistent.\n\nRelated-Bug: 1469006\nChange-Id: Ic2ca8aa42ce67a95bcdae946289179f98e6103e8\n'}, {'number': 2, 'created': '2016-08-11 18:26:15.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/12149fd830af1815548bb39daee2132fd1a42011', 'message': 'libvirt: Remove duplicated logic in check_can_live_migrate_source\n\ncheck_can_live_migrate_source has implicitly duplicated checks for an\ninstance booted from volume with no local disks.\n\nThe first check is performed by _is_shared_block_storage method, the\nsecond one is performed inside check_can_live_migrate_source.\n\nThe second check was added in https://review.openstack.org/#/c/195885\nThere were no sufficient details why that change helps in both commit\nmessage and related bug. Also that change does not set\ndest_check_data.is_shared_block_storage flag, which looks inconsistent.\n\nRelated-Bug: 1469006\nChange-Id: Ic2ca8aa42ce67a95bcdae946289179f98e6103e8\n'}]",4,335542,12149fd830af1815548bb39daee2132fd1a42011,28,14,2,10224,,,0,"libvirt: Remove duplicated logic in check_can_live_migrate_source

check_can_live_migrate_source has implicitly duplicated checks for an
instance booted from volume with no local disks.

The first check is performed by _is_shared_block_storage method, the
second one is performed inside check_can_live_migrate_source.

The second check was added in https://review.openstack.org/#/c/195885
There were no sufficient details why that change helps in both commit
message and related bug. Also that change does not set
dest_check_data.is_shared_block_storage flag, which looks inconsistent.

Related-Bug: 1469006
Change-Id: Ic2ca8aa42ce67a95bcdae946289179f98e6103e8
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/335542/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,7539de60056fb2cda332e969c8fd6df220506cec,get_instance_disk_info," block_device_info=None): self.assertFalse(ret.is_shared_block_storage) self.assertFalse(ret.is_shared_instance_path) ret = drvr.check_can_live_migrate_source(self.context, instance, dest_check_data) self.assertTrue(ret.is_shared_block_storage) ret = drvr.check_can_live_migrate_source(self.context, instance, dest_check_data) self.assertTrue(ret.is_shared_instance_path) self.mox.StubOutWithMock(drvr, ""_get_instance_disk_info"")"," block_device_info=None, disk_info=None): if not disk_info: disk_info = [] self.mox.StubOutWithMock(drvr, ""_get_instance_disk_info"") drvr._get_instance_disk_info(instance, block_device_info).\ AndReturn(disk_info) drvr.check_can_live_migrate_source(self.context, instance, dest_check_data) drvr.check_can_live_migrate_source(self.context, instance, dest_check_data) def test_check_can_live_migrate_source_booted_from_volume(self): block_device_info = {'block_device_mapping': [{'boot_index': 0}]} instance, dest_check_data, drvr = self._mock_can_live_migrate_source( block_device_info=block_device_info) self.mox.ReplayAll() drvr.check_can_live_migrate_source(self.context, instance, dest_check_data, block_device_info=block_device_info) def test_check_can_live_migrate_source_booted_from_volume_with_swap(self): block_device_info = {'block_device_mapping': [{'boot_index': 0}]} instance, dest_check_data, drvr = self._mock_can_live_migrate_source( block_device_info=block_device_info, disk_info=[{""path"": ""disk.swap""}]) self.mox.ReplayAll() self.assertRaises(exception.InvalidSharedStorage, drvr.check_can_live_migrate_source, self.context, instance, dest_check_data, block_device_info=block_device_info) ",16,43
openstack%2Fneutron~master~I5aa099c2264636336ab0b76c0826b506e2dc44b6,openstack/neutron,master,I5aa099c2264636336ab0b76c0826b506e2dc44b6,Ensure ML2's create/update_port methods not in transaction,MERGED,2016-02-02 10:40:25.000000000,2016-08-12 17:41:14.000000000,2016-08-10 13:04:45.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7018}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 8124}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 10386}, {'_account_id': 10692}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-02-02 10:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87f3d9c557f8003ec0a3a8d1e85060d9067909e5', 'message': ""Ensure ML2's core methods not called in transaction\n\nThis adds a check to each of the core methods that other callers\n(e.g. service plugins) may use to manipulate core resources. This\ncheck prevents them from passing in a context that is already part\nof an ongoing DB session because we do not want DB rollbacks to be\nallowed after the ML2 plugin calls postcommit methods on drivers.\n\nChange-Id: I5aa099c2264636336ab0b76c0826b506e2dc44b6\nCloses-Bug: #1540844\n""}, {'number': 2, 'created': '2016-02-03 12:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af022c3f2c91057a1b0d835caca73d8d36908463', 'message': ""Ensure ML2's core methods not called in transaction\n\nThis adds a check to each of the core methods that other callers\n(e.g. service plugins) may use to manipulate core resources. This\ncheck prevents them from passing in a context that is already part\nof an ongoing DB session because we do not want DB rollbacks to be\nallowed after the ML2 plugin calls postcommit methods on drivers.\n\nChange-Id: I5aa099c2264636336ab0b76c0826b506e2dc44b6\nCloses-Bug: #1540844\n""}, {'number': 3, 'created': '2016-04-14 12:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/161554bee69d97de2f6b8d64b9f309091f8fe3b1', 'message': ""Ensure ML2's core methods not called in transaction\n\nThis adds a check to each of the core methods that other callers\n(e.g. service plugins) may use to manipulate core resources. This\ncheck prevents them from passing in a context that is already part\nof an ongoing DB session because we do not want DB rollbacks to be\nallowed after the ML2 plugin calls postcommit methods on drivers.\n\nChange-Id: I5aa099c2264636336ab0b76c0826b506e2dc44b6\nCloses-Bug: #1540844\n""}, {'number': 4, 'created': '2016-04-14 12:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/97b2163a8b05f557835d4249787e1de74cedb614', 'message': ""Ensure ML2's core methods not called in transaction\n\nThis adds a check to each of the core methods that other callers\n(e.g. service plugins) may use to manipulate core resources. This\ncheck prevents them from passing in a context that is already part\nof an ongoing DB session because we do not want DB rollbacks to be\nallowed after the ML2 plugin calls postcommit methods on drivers.\n\nChange-Id: I5aa099c2264636336ab0b76c0826b506e2dc44b6\nCloses-Bug: #1540844\n""}, {'number': 5, 'created': '2016-04-15 09:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/58f23c87ccde0d4bed27fe004031915762046b30', 'message': ""Ensure ML2's core methods not called in transaction\n\nThis adds a check to each of the core methods that other callers\n(e.g. service plugins) may use to manipulate core resources. This\ncheck prevents them from passing in a context that is already part\nof an ongoing DB session because we do not want DB rollbacks to be\nallowed after the ML2 plugin calls postcommit methods on drivers.\n\nChange-Id: I5aa099c2264636336ab0b76c0826b506e2dc44b6\nCloses-Bug: #1540844\n""}, {'number': 6, 'created': '2016-04-19 12:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d49cbf5fc58d58b32c32803714b2a7d5822003e', 'message': ""Ensure ML2's core methods not called in transaction\n\nThis adds a check to each of the core methods that other callers\n(e.g. service plugins) may use to manipulate core resources. This\ncheck prevents them from passing in a context that is already part\nof an ongoing DB session because we do not want DB rollbacks to be\nallowed after the ML2 plugin calls postcommit methods on drivers.\n\nChange-Id: I5aa099c2264636336ab0b76c0826b506e2dc44b6\nCloses-Bug: #1540844\n""}, {'number': 7, 'created': '2016-04-20 06:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c76e8b733ea855ccc63a528d44f58e4b26b92a5b', 'message': ""Ensure ML2's core methods not called in transaction\n\nThis adds a check to each of the core methods that other callers\n(e.g. service plugins) may use to manipulate core resources. This\ncheck prevents them from passing in a context that is already part\nof an ongoing DB session because we do not want DB rollbacks to be\nallowed after the ML2 plugin calls postcommit methods on drivers.\n\nChange-Id: I5aa099c2264636336ab0b76c0826b506e2dc44b6\nCloses-Bug: #1540844\n""}, {'number': 8, 'created': '2016-05-17 09:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14063297aa2d07f6175bd2247d89c7eee31039e3', 'message': ""Ensure ML2's core methods not called in transaction\n\nThis adds a check to each of the core methods that other callers\n(e.g. service plugins) may use to manipulate core resources. This\ncheck prevents them from passing in a context that is already part\nof an ongoing DB session because we do not want DB rollbacks to be\nallowed after the ML2 plugin calls postcommit methods on drivers.\n\nThis also adds a temporary hack to set an attribute on the context\nto skip this check to accomadate two L3 code-paths that are entangled\nin transactions. This attribute will ultimately be removed once these\ntwo paths are refactored.\n\nCloses-Bug: #1540844\nChange-Id: I5aa099c2264636336ab0b76c0826b506e2dc44b6\n""}, {'number': 9, 'created': '2016-08-02 18:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff44f9fdb40cef7c707a8f96987560297d99e605', 'message': ""Ensure ML2's create/update_port methods not in transaction\n\nThis adds a check to the ML2 create and update port methods which\nare called by other services to manipulate ports. This check prevents\nthem from passing in a context that is already part of an ongoing DB\nsession because we do not want DB rollbacks to be allowed after the\nML2 plugin calls postcommit methods on drivers.\n\nThis also adds a temporary hack to set an attribute on the context\nto skip this check to accomadate two L3 code-paths and a subnet\ncode-path that have port manipulations entangled in transactions.\nThis attribute will ultimately be removed once these paths are\nrefactored.\n\nCloses-Bug: #1540844\nChange-Id: I5aa099c2264636336ab0b76c0826b506e2dc44b6\n""}, {'number': 10, 'created': '2016-08-02 20:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21f77ad8e1c91654fffd3625a8fcafe422e2fa21', 'message': ""Ensure ML2's create/update_port methods not in transaction\n\nThis adds a check to the ML2 create and update port methods which\nare called by other services to manipulate ports. This check prevents\nthem from passing in a context that is already part of an ongoing DB\nsession because we do not want DB rollbacks to be allowed after the\nML2 plugin calls postcommit methods on drivers.\n\nThis also adds a temporary hack to set an attribute on the context\nto skip this check to accomadate two L3 code-paths and a subnet\ncode-path that have port manipulations entangled in transactions.\nThis attribute will ultimately be removed once these paths are\nrefactored.\n\nCloses-Bug: #1540844\nChange-Id: I5aa099c2264636336ab0b76c0826b506e2dc44b6\n""}, {'number': 11, 'created': '2016-08-04 05:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f3fc4cd9cff9dd83566aefa5a0d1e9fec9d6dcb', 'message': ""Ensure ML2's create/update_port methods not in transaction\n\nThis adds a check to the ML2 create and update port methods which\nare called by other services to manipulate ports. This check prevents\nthem from passing in a context that is already part of an ongoing DB\nsession because we do not want DB rollbacks to be allowed after the\nML2 plugin calls postcommit methods on drivers.\n\nThis also adds a temporary hack to set an attribute on the context\nto skip this check to accomadate two L3 code-paths and a subnet\ncode-path that have port manipulations entangled in transactions.\nThis attribute will ultimately be removed once these paths are\nrefactored.\n\nCloses-Bug: #1540844\nChange-Id: I5aa099c2264636336ab0b76c0826b506e2dc44b6\n""}, {'number': 12, 'created': '2016-08-04 07:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a43aa39eac18b0079a49b5a92439440a013713a', 'message': ""Ensure ML2's create/update_port methods not in transaction\n\nThis adds a check to the ML2 create and update port methods which\nare called by other services to manipulate ports. This check prevents\nthem from passing in a context that is already part of an ongoing DB\nsession because we do not want DB rollbacks to be allowed after the\nML2 plugin calls postcommit methods on drivers.\n\nThis also adds a temporary hack to set an attribute on the context\nto skip this check to accomadate two L3 code-paths and a subnet\ncode-path that have port manipulations entangled in transactions.\nThis attribute will ultimately be removed once these paths are\nrefactored.\n\nCloses-Bug: #1540844\nChange-Id: I5aa099c2264636336ab0b76c0826b506e2dc44b6\n""}, {'number': 13, 'created': '2016-08-10 04:03:27.000000000', 'files': ['neutron/db/l3_dvr_db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/common/utils.py', 'neutron/db/l3_db.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b25f6448d530b51eea4a36b3d087515e8495f53f', 'message': ""Ensure ML2's create/update_port methods not in transaction\n\nThis adds a check to the ML2 create and update port methods which\nare called by other services to manipulate ports. This check prevents\nthem from passing in a context that is already part of an ongoing DB\nsession because we do not want DB rollbacks to be allowed after the\nML2 plugin calls postcommit methods on drivers.\n\nThis also adds a temporary hack to set an attribute on the context\nto skip this check to accomadate two L3 code-paths and a subnet\ncode-path that have port manipulations entangled in transactions.\nThis attribute will ultimately be removed once these paths are\nrefactored.\n\nCloses-Bug: #1540844\nChange-Id: I5aa099c2264636336ab0b76c0826b506e2dc44b6\n""}]",25,275110,b25f6448d530b51eea4a36b3d087515e8495f53f,153,25,13,7787,,,0,"Ensure ML2's create/update_port methods not in transaction

This adds a check to the ML2 create and update port methods which
are called by other services to manipulate ports. This check prevents
them from passing in a context that is already part of an ongoing DB
session because we do not want DB rollbacks to be allowed after the
ML2 plugin calls postcommit methods on drivers.

This also adds a temporary hack to set an attribute on the context
to skip this check to accomadate two L3 code-paths and a subnet
code-path that have port manipulations entangled in transactions.
This attribute will ultimately be removed once these paths are
refactored.

Closes-Bug: #1540844
Change-Id: I5aa099c2264636336ab0b76c0826b506e2dc44b6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/275110/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,87f3d9c557f8003ec0a3a8d1e85060d9067909e5,bug/1540844," _ensure_no_transaction(context) _ensure_no_transaction(context) _ensure_no_transaction(context) _ensure_no_transaction(context) _ensure_no_transaction(context) _ensure_no_transaction(context) _ensure_no_transaction(context) _ensure_no_transaction(context) _ensure_no_transaction(context) _ensure_no_transaction(context) _ensure_no_transaction(context) _ensure_no_transaction(context) _ensure_no_transaction(context) def _ensure_no_transaction(context): # NOTE(kevinbenton): active sessions are blocked because we do not want # any DB-level rollbacks to occur after we have called postcommit methods # on drivers if context.session.is_active: raise RuntimeError(_(""Method called within an active db session.""))",,21,0
openstack%2Fpuppet-keystone~stable%2Fmitaka~I768c5130a6fc23ec0a0bc7686f76cc859b4c8022,openstack/puppet-keystone,stable/mitaka,I768c5130a6fc23ec0a0bc7686f76cc859b4c8022,domain backend drivers set in domain config,MERGED,2016-08-10 17:24:53.000000000,2016-08-12 17:28:02.000000000,2016-08-12 17:28:02.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7745}, {'_account_id': 8971}, {'_account_id': 14007}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2016-08-10 17:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/7acf3928d56a04268e3adb5dc38729d706dd0187', 'message': 'domain backend drivers set in domain config\n\nWhen using the ldap_backend define, it will set the global\nkeystone configuration to use that driver too. This causes\nan issue where default domain might be sql for openstack\nservice accounts and ldap for user accounts. The class\nkeystone::ldap handles setting the drivers in the global\nkeystone config file.\n\nChange-Id: I768c5130a6fc23ec0a0bc7686f76cc859b4c8022\nCloses-Bug: 1563261\n(cherry picked from commit 8594336d74c6326e93d789116a5525b9d75c4a0e)\n'}, {'number': 2, 'created': '2016-08-11 22:32:04.000000000', 'files': ['manifests/ldap_backend.pp', 'spec/defines/keystone_ldap_backend_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/1a4091bfde946a5a8274b9f950e68f541ecf9bcf', 'message': 'domain backend drivers set in domain config\n\nWhen using the ldap_backend define, it will set the global\nkeystone configuration to use that driver too. This causes\nan issue where default domain might be sql for openstack\nservice accounts and ldap for user accounts. The class\nkeystone::ldap handles setting the drivers in the global\nkeystone config file.\n\nChange-Id: I768c5130a6fc23ec0a0bc7686f76cc859b4c8022\nCloses-Bug: 1563261\n(cherry picked from commit 8594336d74c6326e93d789116a5525b9d75c4a0e)\n'}]",0,353657,1a4091bfde946a5a8274b9f950e68f541ecf9bcf,24,7,2,8318,,,0,"domain backend drivers set in domain config

When using the ldap_backend define, it will set the global
keystone configuration to use that driver too. This causes
an issue where default domain might be sql for openstack
service accounts and ldap for user accounts. The class
keystone::ldap handles setting the drivers in the global
keystone config file.

Change-Id: I768c5130a6fc23ec0a0bc7686f76cc859b4c8022
Closes-Bug: 1563261
(cherry picked from commit 8594336d74c6326e93d789116a5525b9d75c4a0e)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/57/353657/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ldap_backend.pp', 'spec/defines/keystone_ldap_backend_spec.rb']",2,7acf3928d56a04268e3adb5dc38729d706dd0187,bug/1563261, is_expected.to contain_keystone_domain_config('Default::identity/driver').with_value('ldap'), is_expected.to contain_keystone_config('identity/driver').with_value('ldap'),6,7
openstack%2Ffuel-ui~master~Id91fa3f4dfd78c0adf2d38a5d0434f48ed809df4,openstack/fuel-ui,master,Id91fa3f4dfd78c0adf2d38a5d0434f48ed809df4,Memoize calls to moment.js,MERGED,2016-08-12 13:58:21.000000000,2016-08-12 17:19:26.000000000,2016-08-12 17:14:04.000000000,"[{'_account_id': 3}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 13:58:21.000000000', 'files': ['static/views/cluster_page_tabs/deployment_history_component.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/4a0cc64cfd5b4f1d426bdf0c6f95e2a972fa188f', 'message': 'Memoize calls to moment.js\n\nThis will allow to speed up timeline rendering\n\nImplements blueprint ui-deployment-history\n\nChange-Id: Id91fa3f4dfd78c0adf2d38a5d0434f48ed809df4\n'}]",0,354738,4a0cc64cfd5b4f1d426bdf0c6f95e2a972fa188f,22,4,1,8735,,,0,"Memoize calls to moment.js

This will allow to speed up timeline rendering

Implements blueprint ui-deployment-history

Change-Id: Id91fa3f4dfd78c0adf2d38a5d0434f48ed809df4
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/38/354738/1 && git format-patch -1 --stdout FETCH_HEAD,['static/views/cluster_page_tabs/deployment_history_component.js'],1,4a0cc64cfd5b4f1d426bdf0c6f95e2a972fa188f,bp/ui-deployment-history,var parseTime = _.memoize((time) => Number(moment.utc(time).unix())); (task) => task.get('time_start') ? parseTime(task.get('time_start')) : 0 (task) => task.get('time_end') ? parseTime(task.get('time_end')) : 0 parseTime(task.get('time_start')) : 0; parseTime(task.get('time_end')) : timeEnd;, (task) => task.get('time_start') ? moment.utc(task.get('time_start')).unix() : 0 (task) => task.get('time_end') ? moment.utc(task.get('time_end')).unix() : 0 moment.utc(task.get('time_start')).unix() : 0; moment.utc(task.get('time_end')).unix() : timeEnd;,6,4
openstack%2Fcinder~master~I9dd4123064459de3096ef4166fd67262a10346b1,openstack/cinder,master,I9dd4123064459de3096ef4166fd67262a10346b1,Imported Translations from Zanata,MERGED,2016-08-06 06:21:35.000000000,2016-08-12 17:19:09.000000000,2016-08-06 15:26:20.000000000,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12778}, {'_account_id': 14797}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16862}, {'_account_id': 17852}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 19146}, {'_account_id': 19933}]","[{'number': 1, 'created': '2016-08-06 06:21:35.000000000', 'files': ['cinder/locale/tr_TR/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/cs/LC_MESSAGES/cinder-log-warning.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/tr_TR/LC_MESSAGES/cinder-log-warning.po', 'cinder/locale/it/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/it/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/cs/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/tr_TR/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/tr_TR/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8931f0c1d2818b829821d06b97ec8853e24b1fc0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I9dd4123064459de3096ef4166fd67262a10346b1\n'}]",0,351995,8931f0c1d2818b829821d06b97ec8853e24b1fc0,33,18,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I9dd4123064459de3096ef4166fd67262a10346b1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/351995/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/locale/tr_TR/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/cs/LC_MESSAGES/cinder-log-warning.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/tr_TR/LC_MESSAGES/cinder-log-warning.po', 'cinder/locale/it/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/it/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/cs/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/tr_TR/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/tr_TR/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po']",22,8931f0c1d2818b829821d06b97ec8853e24b1fc0,zanata/translations,"""Project-Id-Version: cinder 9.0.0.0b3.dev216\n""""POT-Creation-Date: 2016-08-06 02:58+0000\n""","""Project-Id-Version: cinder 9.0.0.0b3.dev182\n""""POT-Creation-Date: 2016-08-04 04:43+0000\n""""Cannot create clone of size %(vol_size)s from volume of size %(src_vol_size)s"" msgstr """" ""Nelze vytvoit klon s velikost %(vol_size)s ze svazku s velikost "" ""%(src_vol_size)s"" #, python-format msgid """"msgid """" ""Cannot create volume of size %(vol_size)s from snapshot of size %(snap_size)s"" msgstr """" ""Nelze vytvoit svazek o velikosti %(vol_size)s ze snmku s velikost "" ""%(snap_size)s"" #, python-formatmsgid ""Error attaching volume %s. Target limit might be reached!"" msgstr """" ""Chyba pi pipojovn svazku %s. Mon bylo dosaeno limitu v clovm "" ""zazen!"" #, python-format",95,870
openstack%2Fkeystonemiddleware~master~I3a80f56a7ebf068124d6972aa4085b6b8b1da464,openstack/keystonemiddleware,master,I3a80f56a7ebf068124d6972aa4085b6b8b1da464,Updated from global requirements,MERGED,2016-08-11 18:11:43.000000000,2016-08-12 16:59:07.000000000,2016-08-12 16:59:07.000000000,"[{'_account_id': 3}, {'_account_id': 6482}]","[{'number': 1, 'created': '2016-08-11 18:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/34e4c43621453749adc90d9b788bc7d00a97c0a1', 'message': 'Updated from global requirements\n\nChange-Id: I3a80f56a7ebf068124d6972aa4085b6b8b1da464\n'}, {'number': 2, 'created': '2016-08-12 00:19:33.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/1686c4f5a41e7a9f0b15acfaa2dfb5244c3f04b7', 'message': 'Updated from global requirements\n\nChange-Id: I3a80f56a7ebf068124d6972aa4085b6b8b1da464\n'}]",0,354301,1686c4f5a41e7a9f0b15acfaa2dfb5244c3f04b7,10,2,2,11131,,,0,"Updated from global requirements

Change-Id: I3a80f56a7ebf068124d6972aa4085b6b8b1da464
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/01/354301/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,34e4c43621453749adc90d9b788bc7d00a97c0a1,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Fpuppet-neutron~master~I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6,openstack/puppet-neutron,master,I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6,Add ml2_conf_sriov.ini  to neutron server daemon,MERGED,2016-06-24 12:22:05.000000000,2016-08-12 16:58:15.000000000,2016-08-12 16:58:15.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 7604}, {'_account_id': 7745}, {'_account_id': 8971}, {'_account_id': 10034}, {'_account_id': 14985}, {'_account_id': 15335}, {'_account_id': 16771}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 20171}]","[{'number': 1, 'created': '2016-06-24 12:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/19fc7ae51816a2d80464c005d9d39446659f5bbf', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 2, 'created': '2016-06-27 05:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7edd4282f5dc732fe989076aa796aa50061da383', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 3, 'created': '2016-06-27 08:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/60549ed6c6ffd2420bb72cf0faf2f3928c1a7b0a', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 4, 'created': '2016-06-29 08:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/65441f5958ba536b8d01acb82fd51684afcc9c8f', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 5, 'created': '2016-07-05 07:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a7c9c83151123ac0a8440310e5667afebfe6766b', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 6, 'created': '2016-07-08 10:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3d949abafd98aa7795e9f3e8bc3f66b33136c74d', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 7, 'created': '2016-07-08 13:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/0e34fc5b84e666026ee00b168784d7cb58499a81', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 8, 'created': '2016-07-10 22:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3472ab535b7f1378b3a34a5b77cdcb999144fa0a', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 9, 'created': '2016-07-11 08:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5f7ebf26fb7de97f42c81520912efc91cf8678fd', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 10, 'created': '2016-07-20 08:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f3c7a9e1364b8d2bad5b9b070404b9a5089cd07d', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 11, 'created': '2016-07-20 09:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8dbcbf9910c7ae359421da24e884010ad6f566f6', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 12, 'created': '2016-07-20 11:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4a0e9a24ce17cffdd8c1059fba8c8772ede43d93', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 13, 'created': '2016-07-21 10:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f0f1b87a4f1aba850f1e1f67c1d82a6ee73c119d', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 14, 'created': '2016-07-29 06:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c5042e7ecae92ab9141795df29e77b128f3f7d09', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 15, 'created': '2016-08-01 09:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/cc4a9e3446832b6272ddc506f640929a78214384', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 16, 'created': '2016-08-01 11:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8f5993c020691d0446481fbff5f97ae3b88181c5', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 17, 'created': '2016-08-09 06:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b993ccaa8cb78c7bf7b7db8eaf672f975a14aefd', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 18, 'created': '2016-08-10 09:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/6d62f2a3f69848fe29c5d3c2c91951a90123327e', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}, {'number': 19, 'created': '2016-08-10 09:31:25.000000000', 'files': ['manifests/plugins/ml2/mech_driver.pp', 'spec/defines/neutron_plugins_ml2_mechdriver_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/6b00f0eb1961a13d9670c511f73b1001da466e0a', 'message': 'Add ml2_conf_sriov.ini  to neutron server daemon\n\nReferring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in\n/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we\nneed to pass it as --config value. However, there is a easier way\nof creating a symlink at /etc/neutron/conf.d/neutron-server/\n\nChange-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6\nimplements: blueprint tripleo-sriov\n'}]",42,333882,6b00f0eb1961a13d9670c511f73b1001da466e0a,128,13,19,10034,,,0,"Add ml2_conf_sriov.ini  to neutron server daemon

Referring http://goo.gl/GAJ1d4 the ml2_conf_sriov.ini resides in
/etc/neutron/plugins/ml2. For Neutron-server to pick it up, we
need to pass it as --config value. However, there is a easier way
of creating a symlink at /etc/neutron/conf.d/neutron-server/

Change-Id: I4857736bcf9af448ee15bdcefa0d57ee6f2c8ed6
implements: blueprint tripleo-sriov
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/82/333882/16 && git format-patch -1 --stdout FETCH_HEAD,['manifests/plugins/ml2.pp'],1,19fc7ae51816a2d80464c005d9d39446659f5bbf,bp/tripleo-sriov," if 'sriovnicswitch' in $mechanism_drivers { file { '/etc/neutron/plugins/ml2/ml2_conf.ini': ensure => link, target => '/etc/neutron/conf.d/neutron-server/ml2_conf.ini', } } ",,7,0
openstack%2Fpuppet-mistral~master~I5c3474ebbe0a0296ee24ee66c4d29845ff951cd4,openstack/puppet-mistral,master,I5c3474ebbe0a0296ee24ee66c4d29845ff951cd4,Add api_workers to puppet-mistral,MERGED,2016-08-11 08:59:37.000000000,2016-08-12 16:58:09.000000000,2016-08-12 16:58:09.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 20775}]","[{'number': 1, 'created': '2016-08-11 08:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/98b502af05934fdeea0cf475618c13d40871641e', 'message': 'Add api_workers to puppet-mistral\n\nCurrently composable mistral is suffering OOM issues\nThis param will be used in composable mistral and CI\nhopefully reducing OOM issues.\n\nNumber of workers for Mistral API service\ndefault is equal to the number of CPUs available if that can\nbe determined, else a default worker count of 1 is returned.\n\nChange-Id: I5c3474ebbe0a0296ee24ee66c4d29845ff951cd4\n'}, {'number': 2, 'created': '2016-08-11 11:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/81d306052ab7bcee966850a040da1bbcd0d5ec40', 'message': 'Add api_workers to puppet-mistral\n\nCurrently composable mistral is suffering OOM issues\nThis param will be used in composable mistral and CI\nhopefully reducing OOM issues.\n\nNumber of workers for Mistral API service\ndefault is equal to the number of CPUs available if that can\nbe determined, else a default worker count of 1 is returned.\n\nChange-Id: I5c3474ebbe0a0296ee24ee66c4d29845ff951cd4\n'}, {'number': 3, 'created': '2016-08-11 11:43:26.000000000', 'files': ['spec/classes/mistral_api_spec.rb', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/ccc911a29bd68417e4b896dcf00d50ffbe034d8f', 'message': 'Add api_workers to puppet-mistral\n\nCurrently composable mistral is suffering OOM issues\nThis param will be used in composable mistral and CI\nhopefully reducing OOM issues.\n\nNumber of workers for Mistral API service\ndefault is equal to the number of CPUs available if that can\nbe determined, else a default worker count of 1 is returned.\n\nAlso sorted alphabetically this api manifest parameters\n\nChange-Id: I5c3474ebbe0a0296ee24ee66c4d29845ff951cd4\n'}]",4,353912,ccc911a29bd68417e4b896dcf00d50ffbe034d8f,25,7,3,20775,,,0,"Add api_workers to puppet-mistral

Currently composable mistral is suffering OOM issues
This param will be used in composable mistral and CI
hopefully reducing OOM issues.

Number of workers for Mistral API service
default is equal to the number of CPUs available if that can
be determined, else a default worker count of 1 is returned.

Also sorted alphabetically this api manifest parameters

Change-Id: I5c3474ebbe0a0296ee24ee66c4d29845ff951cd4
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/12/353912/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,98b502af05934fdeea0cf475618c13d40871641e,,"# [*api_workers*] # (Optional) Number of workers for Mistral API service # default is equal to the number of CPUs available if that can # be determined, else a default worker count of 1 is returned. # Defaults to $::os_service_default # $api_workers = $::os_service_default,",,7,0
openstack%2Fopenstack-health~master~I48659140314a2d8737611dd0a86097f10c1f3ac8,openstack/openstack-health,master,I48659140314a2d8737611dd0a86097f10c1f3ac8,Fix RSS feed unavailable when no failure,MERGED,2016-05-31 08:56:56.000000000,2016-08-12 16:56:38.000000000,2016-08-12 16:56:38.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 17001}]","[{'number': 1, 'created': '2016-05-31 08:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/c73a7902785aa00ad3c58a15bc9ab33876ce2bb7', 'message': '[WIP] Fix RSS feed unavailable when no failures\n\nThis commit fixes RSS feed unavailable error when there is no failures.\n\nDepends-On: I792829aa703db29b2049d4895dd93e4efe352de4\nCloses-Bug: #1573630\nChange-Id: I48659140314a2d8737611dd0a86097f10c1f3ac8\n'}, {'number': 2, 'created': '2016-06-01 09:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/ad5674f66c79efff29dbe42bc884be8376a57fa8', 'message': '[WIP] Fix RSS feed unavailable when no failures\n\nThis commit fixes RSS feed unavailable error when there is no failures.\n\nDepends-On: I792829aa703db29b2049d4895dd93e4efe352de4\nCloses-Bug: #1573630\nChange-Id: I48659140314a2d8737611dd0a86097f10c1f3ac8\n'}, {'number': 3, 'created': '2016-06-02 06:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/2169535bdc8eb1f79a83f01ab97d56729fa66750', 'message': 'Fix RSS feed unavailable when no failure\n\nThis commit fixes RSS feed unavailable error to return zero length entry\nlist when there is specified run_metadata_key and value with no failure.\n\nDepends-On: I792829aa703db29b2049d4895dd93e4efe352de4\nCloses-Bug: #1573630\nChange-Id: I48659140314a2d8737611dd0a86097f10c1f3ac8\n'}, {'number': 4, 'created': '2016-08-11 19:11:30.000000000', 'files': ['openstack_health/tests/test_api.py', 'requirements.txt', 'openstack_health/api.py'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/8d9eb1da5dc333d7a93d68857aa72dbdf120ac98', 'message': 'Fix RSS feed unavailable when no failure\n\nThis commit fixes RSS feed unavailable error to return zero length entry\nlist when there is specified run_metadata_key and value with no failure.\n\nCloses-Bug: #1573630\nChange-Id: I48659140314a2d8737611dd0a86097f10c1f3ac8\n'}]",0,323233,8d9eb1da5dc333d7a93d68857aa72dbdf120ac98,17,4,4,5689,,,0,"Fix RSS feed unavailable when no failure

This commit fixes RSS feed unavailable error to return zero length entry
list when there is specified run_metadata_key and value with no failure.

Closes-Bug: #1573630
Change-Id: I48659140314a2d8737611dd0a86097f10c1f3ac8
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/33/323233/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack_health/api.py'],1,c73a7902785aa00ad3c58a15bc9ab33876ce2bb7,bug/1573630," count = api.get_runs_counts_by_run_metadata( run_metadata_key, value, session=session) if count == 0: msg = 'No Failed Runs for run metadata %s: %s' % ( run_metadata_key, value) return abort(make_response(msg, 400))"," msg = 'No Failed Runs for run metadata %s: %s' % ( run_metadata_key, value) return abort(make_response(msg, 400))",7,3
openstack%2Ftripleo-heat-templates~master~I32732dc2ed7a7b3187e8727592cb4add0c6b9cf6,openstack/tripleo-heat-templates,master,I32732dc2ed7a7b3187e8727592cb4add0c6b9cf6,Add parameter for enabling purging configuration files,MERGED,2016-08-10 14:46:51.000000000,2016-08-12 16:50:48.000000000,2016-08-12 16:50:48.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 10873}]","[{'number': 1, 'created': '2016-08-10 14:46:51.000000000', 'files': ['puppet/services/nova-base.yaml', 'puppet/services/neutron-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7f514cf67274b40f0f079d5349d7e9fda9d1790', 'message': 'Add parameter for enabling purging configuration files\n\nThis patch adds a parameter, EnableConfigPurge, to the base nova and\nneutron service files. The value is passed to their respective puppet\nmodules to control whether resources not managed by puppet are purged\nfrom the config files. The default value is set to true.\n\nChange-Id: I32732dc2ed7a7b3187e8727592cb4add0c6b9cf6\nCloses-Bug:  #1611800\n'}]",0,353543,f7f514cf67274b40f0f079d5349d7e9fda9d1790,12,4,1,6681,,,0,"Add parameter for enabling purging configuration files

This patch adds a parameter, EnableConfigPurge, to the base nova and
neutron service files. The value is passed to their respective puppet
modules to control whether resources not managed by puppet are purged
from the config files. The default value is set to true.

Change-Id: I32732dc2ed7a7b3187e8727592cb4add0c6b9cf6
Closes-Bug:  #1611800
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/353543/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/nova-base.yaml', 'puppet/services/neutron-base.yaml']",2,f7f514cf67274b40f0f079d5349d7e9fda9d1790,bug/1611800, EnableConfigPurge: type: boolean default: true description: > Remove configuration that is not generated by TripleO. Setting to false may result in configuration remnants after updates/upgrades. neutron::purge_config: {get_param: EnableConfigPurge},,14,0
openstack%2Fpuppet-heat~master~I17c6298d051a25ce1917f4c4b32bfafe76c6e367,openstack/puppet-heat,master,I17c6298d051a25ce1917f4c4b32bfafe76c6e367,Add CORS settings,MERGED,2016-08-12 08:20:56.000000000,2016-08-12 16:45:47.000000000,2016-08-12 16:45:47.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7745}]","[{'number': 1, 'created': '2016-08-12 08:20:56.000000000', 'files': ['releasenotes/notes/heat_cors-10be802ba4227f07.yaml', 'spec/classes/heat_cors_spec.rb', 'manifests/cors.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/d13fa69cea28740529475fb903039962476c3c25', 'message': 'Add CORS settings\n\nAllow configuring CORS settings.\n\nChange-Id: I17c6298d051a25ce1917f4c4b32bfafe76c6e367\n'}]",0,354578,d13fa69cea28740529475fb903039962476c3c25,8,3,1,13039,,,0,"Add CORS settings

Allow configuring CORS settings.

Change-Id: I17c6298d051a25ce1917f4c4b32bfafe76c6e367
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/78/354578/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/heat_cors-10be802ba4227f07.yaml', 'spec/classes/heat_cors_spec.rb', 'manifests/cors.pp']",3,d13fa69cea28740529475fb903039962476c3c25,cors,"# == Class: heat::cors # # Configure the heat cors # # === Parameters # # [*allowed_origin*] # (Optional) Indicate whether this resource may be shared with the domain # received in the requests ""origin"" header. # (string value) # Defaults to $::os_service_default. # # [*allow_credentials*] # (Optional) Indicate that the actual request can include user credentials. # (boolean value) # Defaults to $::os_service_default. # # [*expose_headers*] # (Optional) Indicate which headers are safe to expose to the API. # (list value) # Defaults to $::os_service_default. # # [*max_age*] # (Optional) Maximum cache age of CORS preflight requests. # (integer value) # Defaults to $::os_service_default. # # [*allow_methods*] # (Optional) Indicate which methods can be used during the actual request. # (list value) # Defaults to $::os_service_default. # # [*allow_headers*] # (Optional) Indicate which header field names may be used during the actual # request. # (list value) # Defaults to $::os_service_default. # class heat::cors ( $allowed_origin = $::os_service_default, $allow_credentials = $::os_service_default, $expose_headers = $::os_service_default, $max_age = $::os_service_default, $allow_methods = $::os_service_default, $allow_headers = $::os_service_default, ) { include ::heat::deps oslo::cors { 'heat_config': allowed_origin => $allowed_origin, allow_credentials => $allow_credentials, expose_headers => $expose_headers, max_age => $max_age, allow_methods => $allow_methods, allow_headers => $allow_headers, } } ",,110,0
openstack%2Fdragonflow~master~I2b7eeef8eb7b8f746328551f2c3463ad00fe947a,openstack/dragonflow,master,I2b7eeef8eb7b8f746328551f2c3463ad00fe947a,Fix library imports in core/l3 plugins,MERGED,2016-08-10 08:57:24.000000000,2016-08-12 16:42:58.000000000,2016-08-12 16:42:58.000000000,"[{'_account_id': 3}, {'_account_id': 9044}, {'_account_id': 20229}]","[{'number': 1, 'created': '2016-08-10 08:57:24.000000000', 'files': ['dragonflow/neutron/plugin.py', 'dragonflow/neutron/services/l3_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/d8ad6c17bbd8762ff00bc8701f0fd28a2990fb98', 'message': 'Fix library imports in core/l3 plugins\n\n1. DeviceNotFoundError is in neutron.common.\n2. Use neutron-lib in l3 plugin\n\nChange-Id: I2b7eeef8eb7b8f746328551f2c3463ad00fe947a\nCloses-Bug: #1611666\n'}]",0,353328,d8ad6c17bbd8762ff00bc8701f0fd28a2990fb98,8,3,1,7805,,,0,"Fix library imports in core/l3 plugins

1. DeviceNotFoundError is in neutron.common.
2. Use neutron-lib in l3 plugin

Change-Id: I2b7eeef8eb7b8f746328551f2c3463ad00fe947a
Closes-Bug: #1611666
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/28/353328/1 && git format-patch -1 --stdout FETCH_HEAD,"['dragonflow/neutron/plugin.py', 'dragonflow/neutron/services/l3_router_plugin.py']",2,d8ad6c17bbd8762ff00bc8701f0fd28a2990fb98,bug/1611666,from neutron.common import exceptions as n_common_excfrom neutron_lib import constants as const from neutron_lib import exceptions as n_exc raise n_common_exc.DeviceNotFoundError(,from neutron.common import constants as const from neutron.common import exceptions as n_exc raise n_exc.DeviceNotFoundError(,6,4
openstack%2Fproject-config~master~I4f7870e8132e24fde007fd3effbb38cbec8970d9,openstack/project-config,master,I4f7870e8132e24fde007fd3effbb38cbec8970d9,"Revert ""Temporarily reduce bluebox-sjc1 to 34 max-servers""",MERGED,2016-08-11 18:56:47.000000000,2016-08-12 16:41:46.000000000,2016-08-12 16:41:46.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 6547}]","[{'number': 1, 'created': '2016-08-11 18:56:47.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0e68e283f0c265eac7d47b92a702441c3493cd30', 'message': 'Revert ""Temporarily reduce bluebox-sjc1 to 34 max-servers""\n\nThis reverts commit bdf68f0a87181676264955af166055aa40bc6863.\n\nChange-Id: I4f7870e8132e24fde007fd3effbb38cbec8970d9\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,354338,0e68e283f0c265eac7d47b92a702441c3493cd30,9,4,1,4162,,,0,"Revert ""Temporarily reduce bluebox-sjc1 to 34 max-servers""

This reverts commit bdf68f0a87181676264955af166055aa40bc6863.

Change-Id: I4f7870e8132e24fde007fd3effbb38cbec8970d9
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/38/354338/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,0e68e283f0c265eac7d47b92a702441c3493cd30,, max-servers: 39, max-servers: 34,1,1
openstack%2Ftrove~master~I44441144a74e01d3c816ca72b2da4aa351dbd46c,openstack/trove,master,I44441144a74e01d3c816ca72b2da4aa351dbd46c,Define safe pid-file and socket paths in config,MERGED,2016-07-21 20:18:32.000000000,2016-08-12 16:27:00.000000000,2016-08-12 16:27:00.000000000,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 10295}, {'_account_id': 12758}]","[{'number': 1, 'created': '2016-07-21 20:18:32.000000000', 'files': ['trove/templates/mysql/config.template', 'apidocs/src/samples/db-get-default-instance-configuration-response.json', 'trove/templates/percona/config.template', 'apidocs/src/samples/db-get-default-instance-configuration-response-json.txt', 'trove/templates/pxc/config.template'], 'web_link': 'https://opendev.org/openstack/trove/commit/6f6a3f2af93ec0a1afc0a4ecebe5f7d79534c277', 'message': ""Define safe pid-file and socket paths in config\n\nService manager cannot properly manage the MySQL\nprocess if the pid file / socket are not defined\nfor the mysql_safe process.\n\nAlso rename 'pid_file' to 'pid-file', default for\nboth 5.6 and 5.7 and the only name accepted in the\n'mysql_safe' section.\n\nUpdate MySQL derivatives: MySQL, Percona and PXC.\n\nChange-Id: I44441144a74e01d3c816ca72b2da4aa351dbd46c\nCloses-Bug: 1605385\n""}]",0,345651,6f6a3f2af93ec0a1afc0a4ecebe5f7d79534c277,16,4,1,14576,,,0,"Define safe pid-file and socket paths in config

Service manager cannot properly manage the MySQL
process if the pid file / socket are not defined
for the mysql_safe process.

Also rename 'pid_file' to 'pid-file', default for
both 5.6 and 5.7 and the only name accepted in the
'mysql_safe' section.

Update MySQL derivatives: MySQL, Percona and PXC.

Change-Id: I44441144a74e01d3c816ca72b2da4aa351dbd46c
Closes-Bug: 1605385
",git fetch https://review.opendev.org/openstack/trove refs/changes/51/345651/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/templates/mysql/config.template', 'apidocs/src/samples/db-get-default-instance-configuration-response.json', 'trove/templates/percona/config.template', 'apidocs/src/samples/db-get-default-instance-configuration-response-json.txt', 'trove/templates/pxc/config.template']",5,6f6a3f2af93ec0a1afc0a4ecebe5f7d79534c277,bug/1605385,socket = /var/run/mysqld/mysqld.sockpid-file = /var/run/mysqld/mysqld.pid socket = /var/run/mysqld/mysqld.sockpid-file = /var/run/mysqld/mysqld.pid socket = /var/run/mysqld/mysqld.sock,pid_file = /var/run/mysqld/mysqld.pid,18,5
openstack%2Fglance~master~I1a086e345be3a7d53761b318dab470cb8428b5a1,openstack/glance,master,I1a086e345be3a7d53761b318dab470cb8428b5a1,Add CPU Thread Pinning in metadata definitions,ABANDONED,2016-08-12 16:18:59.000000000,2016-08-12 16:21:14.000000000,,[{'_account_id': 2537}],"[{'number': 1, 'created': '2016-08-12 16:18:59.000000000', 'files': ['etc/metadefs/compute-cpu-thread-pinning.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/2255fd18a599e5a776a3565a8a5a2248b9732c6a', 'message': 'Add CPU Thread Pinning in metadata definitions\n\nThis metadef adds CPU thread pinning namespace and property to Nova::Flavor,\nGlance::Image, Cinder::Volume(image) resource types metadata.\n\nChange-Id: I1a086e345be3a7d53761b318dab470cb8428b5a1\nCloses-Bug: #1612341\n'}]",0,354825,2255fd18a599e5a776a3565a8a5a2248b9732c6a,3,1,1,8122,,,0,"Add CPU Thread Pinning in metadata definitions

This metadef adds CPU thread pinning namespace and property to Nova::Flavor,
Glance::Image, Cinder::Volume(image) resource types metadata.

Change-Id: I1a086e345be3a7d53761b318dab470cb8428b5a1
Closes-Bug: #1612341
",git fetch https://review.opendev.org/openstack/glance refs/changes/25/354825/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/metadefs/compute-cpu-thread-pinning.json'],1,2255fd18a599e5a776a3565a8a5a2248b9732c6a,bug/1612341,"{ ""namespace"": ""OS::Compute::CPUThreadPinning"", ""display_name"": ""CPU Thread Pinning"", ""description"": ""This provides the preferred CPU Thread Pinning policy when pinning vCPU of the guest to pCPU of the host, with regards to the latter's threads. See also https://wiki.openstack.org/wiki/VirtDriverGuestCPUMemoryPlacement"", ""visibility"": ""public"", ""protected"": true, ""resource_type_associations"": [ { ""name"": ""OS::Glance::Image"", ""prefix"": ""hw_"" }, { ""name"": ""OS::Cinder::Volume"", ""prefix"": ""hw_"", ""properties_target"": ""image"" }, { ""name"": ""OS::Nova::Flavor"", ""prefix"": ""hw:"" } ], ""properties"": { ""cpu_threads_policy"": { ""title"": ""CPU Thread Pinning policy"", ""description"": ""Type of CPU Thread Pinning policy."", ""type"": ""string"", ""enum"": [ ""avoid"", ""separate"", ""isolate"", ""prefer"" ] } } } ",,35,0
openstack%2Fneutron~stable%2Fmitaka~Ia233aa162746845f6ae08a8157dcd242dcd58eab,openstack/neutron,stable/mitaka,Ia233aa162746845f6ae08a8157dcd242dcd58eab,Use tempest plugin interface,ABANDONED,2016-07-18 08:33:47.000000000,2016-08-12 16:15:51.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 12444}, {'_account_id': 14208}, {'_account_id': 14885}, {'_account_id': 16376}, {'_account_id': 16615}, {'_account_id': 17920}]","[{'number': 1, 'created': '2016-07-18 08:33:47.000000000', 'files': ['neutron/tests/tempest/api/test_dhcp_ipv6.py', 'neutron/tests/tempest/api/test_ports.py', 'neutron/tests/tempest/api/admin/test_quotas.py', 'neutron/tests/tempest/api/test_floating_ips_negative.py', 'neutron/tests/tempest/scenario/__init__.py', 'neutron/tests/tempest/api/base_routers.py', 'neutron/tests/tempest/api/test_bgp_speaker_extensions.py', 'neutron/tests/tempest/api/test_subnetpools_negative.py', 'neutron/tests/tempest/api/test_bgp_speaker_extensions_negative.py', 'neutron/tests/tempest/api/test_network_ip_availability.py', 'neutron/tests/tempest/api/admin/test_floating_ips_admin_actions.py', 'neutron/tests/tempest/api/admin/test_agent_management.py', 'neutron/tests/tempest/api/admin/test_external_network_extension.py', 'neutron/tests/tempest/api/test_floating_ips.py', 'neutron/tests/tempest/plugin.py', 'neutron/tests/tempest/api/test_security_groups_negative.py', 'neutron/tests/tempest/api/test_qos.py', 'neutron/tests/tempest/api/test_routers_negative.py', 'neutron/tests/tempest/api/test_service_type_management.py', 'neutron/tests/tempest/api/base_security_groups.py', 'neutron/tests/tempest/api/clients.py', 'neutron/tests/tempest/api/test_address_scopes_negative.py', 'neutron/tests/tempest/api/test_auto_allocated_topology.py', 'neutron/tests/tempest/api/test_timestamp.py', 'neutron/tests/tempest/api/test_allowed_address_pair.py', 'neutron/tests/tempest/api/admin/test_routers_dvr.py', 'neutron/tests/tempest/api/test_metering_extensions.py', 'neutron/tests/tempest/api/__init__.py', 'neutron/tests/tempest/api/admin/test_l3_agent_scheduler.py', 'neutron/tests/tempest/README.rst', 'neutron/tests/tempest/api/test_flavors_extensions.py', 'neutron/tests/tempest/api/test_security_groups.py', 'neutron/tests/tempest/api/test_routers.py', 'neutron/tests/tempest/api/admin/test_dhcp_agent_scheduler.py', 'neutron/tests/tempest/api/test_extension_driver_port_security.py', 'neutron/tests/tempest/api/admin/test_shared_network_extension.py', 'neutron/tests/tempest/api/test_subnetpools.py', 'neutron/tests/tempest/api/test_address_scopes.py', 'neutron/tests/tempest/api/test_extra_dhcp_options.py', 'doc/source/devref/quality_of_service.rst', 'neutron/tests/tempest/api/test_networks.py', 'neutron/tests/tempest/api/admin/test_extension_driver_port_security_admin.py', 'setup.cfg', 'TESTING.rst', 'neutron/tests/tempest/api/base.py', 'tox.ini', 'neutron/tests/tempest/api/admin/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/77784d496b67a5d32735c7fb93b404f94584eca2', 'message': 'Use tempest plugin interface\n\nMake use of the Tempest plugin interface instead of copying Neutron\nfiles into Tempest. This will remove the burden to port Neutron\ntests onto Tempest master recurrently.\n\nIt uses neutron/tests/tempest/ as new top folder for all Tempest\ntests. It follows the model of Heat [1].\n\n[1]: https://github.com/openstack/heat/tree/master/heat_integrationtests\n\nPartially implements bp external-plugin-interface\n\nChange-Id: Ia233aa162746845f6ae08a8157dcd242dcd58eab\n(cherry picked from commit c56918027afe72095353b94cab39f411c274d650)\n'}]",0,343495,77784d496b67a5d32735c7fb93b404f94584eca2,14,11,1,16615,,,0,"Use tempest plugin interface

Make use of the Tempest plugin interface instead of copying Neutron
files into Tempest. This will remove the burden to port Neutron
tests onto Tempest master recurrently.

It uses neutron/tests/tempest/ as new top folder for all Tempest
tests. It follows the model of Heat [1].

[1]: https://github.com/openstack/heat/tree/master/heat_integrationtests

Partially implements bp external-plugin-interface

Change-Id: Ia233aa162746845f6ae08a8157dcd242dcd58eab
(cherry picked from commit c56918027afe72095353b94cab39f411c274d650)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/343495/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/tempest/api/test_dhcp_ipv6.py', 'neutron/tests/tempest/api/test_ports.py', 'neutron/tests/tempest/api/admin/test_quotas.py', 'neutron/tests/tempest/api/test_floating_ips_negative.py', 'neutron/tests/tempest/scenario/__init__.py', 'neutron/tests/tempest/api/base_routers.py', 'neutron/tests/tempest/api/test_bgp_speaker_extensions.py', 'neutron/tests/tempest/api/test_subnetpools_negative.py', 'neutron/tests/tempest/api/test_bgp_speaker_extensions_negative.py', 'neutron/tests/tempest/api/test_network_ip_availability.py', 'neutron/tests/tempest/api/admin/test_floating_ips_admin_actions.py', 'neutron/tests/tempest/api/admin/test_agent_management.py', 'neutron/tests/tempest/api/admin/test_external_network_extension.py', 'neutron/tests/tempest/api/test_floating_ips.py', 'neutron/tests/tempest/plugin.py', 'neutron/tests/tempest/api/test_security_groups_negative.py', 'neutron/tests/tempest/api/test_qos.py', 'neutron/tests/tempest/api/test_routers_negative.py', 'neutron/tests/tempest/api/test_service_type_management.py', 'neutron/tests/tempest/api/base_security_groups.py', 'neutron/tests/tempest/api/clients.py', 'neutron/tests/tempest/api/test_address_scopes_negative.py', 'neutron/tests/tempest/api/test_auto_allocated_topology.py', 'neutron/tests/tempest/api/test_timestamp.py', 'neutron/tests/tempest/api/test_allowed_address_pair.py', 'neutron/tests/tempest/api/admin/test_routers_dvr.py', 'neutron/tests/tempest/api/test_metering_extensions.py', 'neutron/tests/tempest/api/__init__.py', 'neutron/tests/tempest/api/admin/test_l3_agent_scheduler.py', 'neutron/tests/tempest/README.rst', 'neutron/tests/tempest/api/test_flavors_extensions.py', 'neutron/tests/tempest/api/test_security_groups.py', 'neutron/tests/tempest/api/test_routers.py', 'neutron/tests/tempest/api/admin/test_dhcp_agent_scheduler.py', 'neutron/tests/tempest/api/test_extension_driver_port_security.py', 'neutron/tests/tempest/api/admin/test_shared_network_extension.py', 'neutron/tests/tempest/api/test_subnetpools.py', 'neutron/tests/tempest/api/test_address_scopes.py', 'neutron/tests/tempest/api/test_extra_dhcp_options.py', 'doc/source/devref/quality_of_service.rst', 'neutron/tests/tempest/api/test_networks.py', 'neutron/tests/tempest/api/admin/test_extension_driver_port_security_admin.py', 'setup.cfg', 'TESTING.rst', 'neutron/tests/tempest/api/base.py', 'tox.ini', 'neutron/tests/tempest/api/admin/__init__.py']",47,77784d496b67a5d32735c7fb93b404f94584eca2,bp/external-plugin-interface,,,89,46
openstack%2Ffuel-qa~master~I2955bcb47675aabd5cdd2d71e2f601d31a436670,openstack/fuel-qa,master,I2955bcb47675aabd5cdd2d71e2f601d31a436670,"Revert ""Add retry to the start of VM""",ABANDONED,2016-08-12 15:31:11.000000000,2016-08-12 16:10:49.000000000,,"[{'_account_id': 8971}, {'_account_id': 12867}, {'_account_id': 14057}, {'_account_id': 14708}, {'_account_id': 15984}, {'_account_id': 16106}, {'_account_id': 19119}]","[{'number': 1, 'created': '2016-08-12 15:31:11.000000000', 'files': ['fuelweb_test/models/environment.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/be12a9a83abafd9aa3b42b167f4b6bcd09566016', 'message': 'Revert ""Add retry to the start of VM""\n\nThis reverts commit df51f7a04014f7d4243c151caa1d3bf8904c41e4.\n\nThe retry added as part of of the previous commit is causing tests\nto fail and the environment to be stuck at a grub interface and the\nsubsequent deployment never completes.\n\nChange-Id: I2955bcb47675aabd5cdd2d71e2f601d31a436670\nCloses-Bug: #1606049\n'}]",0,354793,be12a9a83abafd9aa3b42b167f4b6bcd09566016,6,7,1,14985,,,0,"Revert ""Add retry to the start of VM""

This reverts commit df51f7a04014f7d4243c151caa1d3bf8904c41e4.

The retry added as part of of the previous commit is causing tests
to fail and the environment to be stuck at a grub interface and the
subsequent deployment never completes.

Change-Id: I2955bcb47675aabd5cdd2d71e2f601d31a436670
Closes-Bug: #1606049
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/93/354793/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/models/environment.py'],1,be12a9a83abafd9aa3b42b167f4b6bcd09566016,bug/1587411,,"from fuelweb_test.helpers.decorators import retry # NOTE(akostrikov) Due to fact that virtual machine in libvirt 1.x hangs # with probability less than 0,3%, we need to restart virtual machine to # reinitialize its resources. # TODO(akostrikov) Replace when possible, with exact Exception type. @retry(count=2, delay=0) self.d_env.destroy()",0,7
openstack%2Fneutron-lib~master~I91d3444dc948d5fddde4d94d2f58d56f82903b95,openstack/neutron-lib,master,I91d3444dc948d5fddde4d94d2f58d56f82903b95,Updated from global requirements,MERGED,2016-08-12 00:21:30.000000000,2016-08-12 16:05:05.000000000,2016-08-12 16:05:05.000000000,"[{'_account_id': 3}, {'_account_id': 5367}, {'_account_id': 6524}, {'_account_id': 6659}]","[{'number': 1, 'created': '2016-08-12 00:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9a31c6ef827f737ed06d4ac9ac42b29372ef54c2', 'message': 'Updated from global requirements\n\nChange-Id: I91d3444dc948d5fddde4d94d2f58d56f82903b95\n'}, {'number': 2, 'created': '2016-08-12 04:51:51.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b00c3c50c69e84a30c44b5de284348b63a54e0e0', 'message': 'Updated from global requirements\n\nChange-Id: I91d3444dc948d5fddde4d94d2f58d56f82903b95\n'}]",0,354458,b00c3c50c69e84a30c44b5de284348b63a54e0e0,10,4,2,11131,,,0,"Updated from global requirements

Change-Id: I91d3444dc948d5fddde4d94d2f58d56f82903b95
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/58/354458/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9a31c6ef827f737ed06d4ac9ac42b29372ef54c2,openstack/requirements,oslo.context>=2.6.0 # Apache-2.0,oslo.context>=2.4.0 # Apache-2.0,1,1
openstack%2Fpython-neutronclient~master~Ie92c22862d2b8ace32a2cf4cb642a6d0bac7932d,openstack/python-neutronclient,master,Ie92c22862d2b8ace32a2cf4cb642a6d0bac7932d,Add support to expose default quotas for tenants,MERGED,2016-05-05 19:56:40.000000000,2016-08-12 15:57:20.000000000,2016-08-12 15:57:20.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7018}, {'_account_id': 7448}, {'_account_id': 9656}, {'_account_id': 14605}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-05-05 19:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/1052e53d4fcf258529fc52db112095c07f14c9c3', 'message': 'Add support to expose default quotas for tenants\n\nNeutron client should be able to show the default quotas\nset for tenants. This patch adds support for the same and\nintroduces a new CLI to retrieve default quotas.\n\nSample usage:\n\nneutron quota-defaults\n+-----------------------+-------+\n| Field                 | Value |\n+-----------------------+-------+\n| floatingip            | 50    |\n| l2-gateway-connection | -1    |\n| network               | 10    |\n| port                  | 50    |\n| rbac_policy           | 10    |\n| router                | 10    |\n| security_group        | 10    |\n| security_group_rule   | 100   |\n| subnet                | 10    |\n| subnetpool            | -1    |\n+-----------------------+-------+\n\nDepends-On: If40a44348e305da444acd6196d2e0c04202b8f7a\nChange-Id: Ie92c22862d2b8ace32a2cf4cb642a6d0bac7932d\nCloses-Bug: #1204956\n'}, {'number': 2, 'created': '2016-05-05 20:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/4170beb4c2a9f5c8f9820a068ad46110575bdfca', 'message': 'Add support to expose default quotas for tenants\n\nNeutron client should be able to show the default quotas\nset for tenants. This patch adds support for the same and\nintroduces a new CLI to retrieve default quotas.\n\nSample usage:\n\nneutron quota-defaults\n+-----------------------+-------+\n| Field                 | Value |\n+-----------------------+-------+\n| floatingip            | 50    |\n| l2-gateway-connection | -1    |\n| network               | 10    |\n| port                  | 50    |\n| rbac_policy           | 10    |\n| router                | 10    |\n| security_group        | 10    |\n| security_group_rule   | 100   |\n| subnet                | 10    |\n| subnetpool            | -1    |\n+-----------------------+-------+\n\nDepends-On: If40a44348e305da444acd6196d2e0c04202b8f7a\nChange-Id: Ie92c22862d2b8ace32a2cf4cb642a6d0bac7932d\nCloses-Bug: #1204956\n'}, {'number': 3, 'created': '2016-05-20 22:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/b6f45abbe77dea89ab85d1247e09d2cf9985c45d', 'message': 'Add support to expose default quotas for tenants\n\nNeutron client should be able to show the default quotas\nset for tenants. This patch adds support for the same and\nintroduces a new CLI to retrieve default quotas.\n\nSample usage:\n\nneutron quota-defaults\n+-----------------------+-------+\n| Field                 | Value |\n+-----------------------+-------+\n| floatingip            | 50    |\n| l2-gateway-connection | -1    |\n| network               | 10    |\n| port                  | 50    |\n| rbac_policy           | 10    |\n| router                | 10    |\n| security_group        | 10    |\n| security_group_rule   | 100   |\n| subnet                | 10    |\n| subnetpool            | -1    |\n+-----------------------+-------+\n\nDepends-On: If40a44348e305da444acd6196d2e0c04202b8f7a\nChange-Id: Ie92c22862d2b8ace32a2cf4cb642a6d0bac7932d\nCloses-Bug: #1204956\n'}, {'number': 4, 'created': '2016-05-20 22:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/6ab36352b61fece80bd260c37ff982317d9e7331', 'message': 'Add support to expose default quotas for tenants\n\nNeutron client should be able to show the default quotas\nset for tenants. This patch adds support for the same and\nintroduces a new CLI to retrieve default quotas.\n\nSample usage:\n\nneutron quota-defaults\n+-----------------------+-------+\n| Field                 | Value |\n+-----------------------+-------+\n| floatingip            | 50    |\n| l2-gateway-connection | -1    |\n| network               | 10    |\n| port                  | 50    |\n| rbac_policy           | 10    |\n| router                | 10    |\n| security_group        | 10    |\n| security_group_rule   | 100   |\n| subnet                | 10    |\n| subnetpool            | -1    |\n+-----------------------+-------+\n\nChange-Id: Ie92c22862d2b8ace32a2cf4cb642a6d0bac7932d\nCloses-Bug: #1204956\n'}, {'number': 5, 'created': '2016-05-25 00:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/11695ca502390705df5c9b6d7c9d86c0222dabf2', 'message': 'Add support to expose default quotas for tenants\n\nNeutron client should be able to show the default quotas\nset for tenants. This patch adds support for the same and\nintroduces a new CLI to retrieve default quotas.\n\nSample usage:\n\nneutron quota-defaults\n+-----------------------+-------+\n| Field                 | Value |\n+-----------------------+-------+\n| floatingip            | 50    |\n| l2-gateway-connection | -1    |\n| network               | 10    |\n| port                  | 50    |\n| rbac_policy           | 10    |\n| router                | 10    |\n| security_group        | 10    |\n| security_group_rule   | 100   |\n| subnet                | 10    |\n| subnetpool            | -1    |\n+-----------------------+-------+\n\nChange-Id: Ie92c22862d2b8ace32a2cf4cb642a6d0bac7932d\nCloses-Bug: #1204956\n'}, {'number': 6, 'created': '2016-05-25 23:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/d0f6fc3d1ab949485ed2e7389cdf9b0c54d84985', 'message': 'Add support to expose default quotas for tenants\n\nNeutron client should be able to show the default quotas\nset for tenants. This patch adds support for the same and\nintroduces a new CLI to retrieve default quotas.\n\nSample usage:\n\nneutron quota-defaults\n+-----------------------+-------+\n| Field                 | Value |\n+-----------------------+-------+\n| floatingip            | 50    |\n| l2-gateway-connection | -1    |\n| network               | 10    |\n| port                  | 50    |\n| rbac_policy           | 10    |\n| router                | 10    |\n| security_group        | 10    |\n| security_group_rule   | 100   |\n| subnet                | 10    |\n| subnetpool            | -1    |\n+-----------------------+-------+\n\nChange-Id: Ie92c22862d2b8ace32a2cf4cb642a6d0bac7932d\nCloses-Bug: #1204956\n'}, {'number': 7, 'created': '2016-05-25 23:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/f6cc7d40ec5d085e53aa8fbc8d40961aba3b535a', 'message': 'Add support to expose default quotas for tenants\n\nNeutron client should be able to show the default quotas\nset for tenants. This patch adds support for the same and\nintroduces a new CLI to retrieve default quotas.\n\nSample usage:\n\nneutron quota-defaults\n+-----------------------+-------+\n| Field                 | Value |\n+-----------------------+-------+\n| floatingip            | 50    |\n| l2-gateway-connection | -1    |\n| network               | 10    |\n| port                  | 50    |\n| rbac_policy           | 10    |\n| router                | 10    |\n| security_group        | 10    |\n| security_group_rule   | 100   |\n| subnet                | 10    |\n| subnetpool            | -1    |\n+-----------------------+-------+\n\nChange-Id: Ie92c22862d2b8ace32a2cf4cb642a6d0bac7932d\nCloses-Bug: #1204956\n'}, {'number': 8, 'created': '2016-05-31 21:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/8ba6319157cb711013ccdfa76aaf579cc9d054b4', 'message': 'Add support to expose default quotas for tenants\n\nNeutron client should be able to show the default quotas\nset for tenants. This patch adds support for the same and\nintroduces a new CLI to retrieve default quotas.\n\nSample usage:\n\nneutron quota-defaults\n+-----------------------+-------+\n| Field                 | Value |\n+-----------------------+-------+\n| floatingip            | 50    |\n| l2-gateway-connection | -1    |\n| network               | 10    |\n| port                  | 50    |\n| rbac_policy           | 10    |\n| router                | 10    |\n| security_group        | 10    |\n| security_group_rule   | 100   |\n| subnet                | 10    |\n| subnetpool            | -1    |\n+-----------------------+-------+\n\nChange-Id: Ie92c22862d2b8ace32a2cf4cb642a6d0bac7932d\nCloses-Bug: #1204956\n'}, {'number': 9, 'created': '2016-07-07 00:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/f6b9eb94d8ffe6e5940efc8d89d09ab4b824a65e', 'message': 'Add support to expose default quotas for tenants\n\nNeutron client should be able to show the default quotas\nset for tenants. This patch adds support for the same and\nintroduces a new CLI to retrieve default quotas.\n\nSample usage:\n\nneutron quota-default-show\n+-----------------------+-------+\n| Field                 | Value |\n+-----------------------+-------+\n| floatingip            | 50    |\n| l2-gateway-connection | -1    |\n| network               | 10    |\n| port                  | 50    |\n| rbac_policy           | 10    |\n| router                | 10    |\n| security_group        | 10    |\n| security_group_rule   | 100   |\n| subnet                | 10    |\n| subnetpool            | -1    |\n+-----------------------+-------+\n\nChange-Id: Ie92c22862d2b8ace32a2cf4cb642a6d0bac7932d\nCloses-Bug: #1204956\n'}, {'number': 10, 'created': '2016-07-14 22:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/b3529d0932baa11c29821af41ce9c7758072a44d', 'message': 'Add support to expose default quotas for tenants\n\nNeutron client should be able to show the default quotas\nset for tenants. This patch adds support for the same and\nintroduces a new CLI to retrieve default quotas.\n\nSample usage:\n\nneutron quota-default-show\n+-----------------------+-------+\n| Field                 | Value |\n+-----------------------+-------+\n| floatingip            | 50    |\n| l2-gateway-connection | -1    |\n| network               | 10    |\n| port                  | 50    |\n| rbac_policy           | 10    |\n| router                | 10    |\n| security_group        | 10    |\n| security_group_rule   | 100   |\n| subnet                | 10    |\n| subnetpool            | -1    |\n+-----------------------+-------+\n\nChange-Id: Ie92c22862d2b8ace32a2cf4cb642a6d0bac7932d\nCloses-Bug: #1204956\n'}, {'number': 11, 'created': '2016-07-15 20:47:51.000000000', 'files': ['neutronclient/tests/unit/test_quota.py', 'neutronclient/v2_0/client.py', 'releasenotes/notes/add-quota-default-show-c2ab35b791dcdcbc.yaml', 'neutronclient/shell.py', 'neutronclient/neutron/v2_0/quota.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/d45442b3d46b26d928a5634874530168f961bb2b', 'message': 'Add support to expose default quotas for tenants\n\nNeutron client should be able to show the default quotas\nset for tenants. This patch adds support for the same and\nintroduces a new CLI to retrieve default quotas.\n\nSample usage:\n\nneutron quota-default-show\n+-----------------------+-------+\n| Field                 | Value |\n+-----------------------+-------+\n| floatingip            | 50    |\n| l2-gateway-connection | -1    |\n| network               | 10    |\n| port                  | 50    |\n| rbac_policy           | 10    |\n| router                | 10    |\n| security_group        | 10    |\n| security_group_rule   | 100   |\n| subnet                | 10    |\n| subnetpool            | -1    |\n+-----------------------+-------+\n\nChange-Id: Ie92c22862d2b8ace32a2cf4cb642a6d0bac7932d\nCloses-Bug: #1204956\n'}]",39,313134,d45442b3d46b26d928a5634874530168f961bb2b,53,11,11,7018,,,0,"Add support to expose default quotas for tenants

Neutron client should be able to show the default quotas
set for tenants. This patch adds support for the same and
introduces a new CLI to retrieve default quotas.

Sample usage:

neutron quota-default-show
+-----------------------+-------+
| Field                 | Value |
+-----------------------+-------+
| floatingip            | 50    |
| l2-gateway-connection | -1    |
| network               | 10    |
| port                  | 50    |
| rbac_policy           | 10    |
| router                | 10    |
| security_group        | 10    |
| security_group_rule   | 100   |
| subnet                | 10    |
| subnetpool            | -1    |
+-----------------------+-------+

Change-Id: Ie92c22862d2b8ace32a2cf4cb642a6d0bac7932d
Closes-Bug: #1204956
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/34/313134/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/tests/unit/test_quota.py', 'neutronclient/v2_0/client.py', 'neutronclient/shell.py', 'neutronclient/neutron/v2_0/quota.py']",4,1052e53d4fcf258529fc52db112095c07f14c9c3,bug/1204956,"class ShowQuotaDefault(neutronV20.NeutronCommand, show.ShowOne): """"""Show default quotas for a given tenant. """""" resource = ""quota"" def get_parser(self, prog_name): parser = super(ShowQuotaDefault, self).get_parser(prog_name) parser.add_argument( '--tenant-id', metavar='tenant-id', help=_('The owner tenant ID.')) parser.add_argument( '--tenant_id', help=argparse.SUPPRESS) parser.add_argument( 'pos_tenant_id', help=argparse.SUPPRESS, nargs='?') return parser def take_action(self, parsed_args): neutron_client = self.get_client() tenant_id = get_tenant_id(parsed_args, neutron_client) params = {} data = neutron_client.show_quota_default(tenant_id, **params) if self.resource in data: for k, v in six.iteritems(data[self.resource]): if isinstance(v, list): value = """" for _item in v: if value: value += ""\n"" if isinstance(_item, dict): value += jsonutils.dumps(_item) else: value += str(_item) data[self.resource][k] = value elif v is None: data[self.resource][k] = '' return zip(*sorted(six.iteritems(data[self.resource]))) else: return None ",,84,0
openstack%2Ftripleo-heat-templates~master~I7febf28bf409e25e8e5961ab551b6d56bb11e0c6,openstack/tripleo-heat-templates,master,I7febf28bf409e25e8e5961ab551b6d56bb11e0c6,Align node_ips hiera keys with the service name.,MERGED,2016-08-10 16:52:57.000000000,2016-08-12 15:57:12.000000000,2016-08-12 15:57:12.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 11444}]","[{'number': 1, 'created': '2016-08-10 16:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b03dc380ffb7e3e6e5a1f39d1c10f743e454c4d3', 'message': 'Align node_ips hiera keys with the service name.\n\nTo enable composable generation of this switch the key names\nto align with the service_name of each service.\n\nChange-Id: I7febf28bf409e25e8e5961ab551b6d56bb11e0c6\nPartially-Implements: blueprint custom-roles\nDepends-On: I423b544df174254ac511b906b0c570e701678022\n'}, {'number': 2, 'created': '2016-08-10 17:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1fafbaafa1cbee120cc77e3088649b99f03e6467', 'message': 'Align node_ips hiera keys with the service name.\n\nTo enable composable generation of this switch the key names\nto align with the service_name of each service.\n\nChange-Id: I7febf28bf409e25e8e5961ab551b6d56bb11e0c6\nPartially-Implements: blueprint custom-roles\nDepends-On: I423b544df174254ac511b906b0c570e701678022\n'}, {'number': 3, 'created': '2016-08-11 10:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0926445552b3b9a1388ba95d415e89ff97bfa3c0', 'message': ""Align node_ips hiera keys with the service name.\n\nTo enable composable generation of this switch the key names\nto align with the service_name of each service.\n\nNote that this should depend on I423b544df174254ac511b906b0c570e701678022\nand previously passed CI with that defined, but because we now run\ngate validation jobs on puppet-tripleo it's impossible to land, so\nthis now contains both old and new hiera keys temporarily, which will\nbe removed when the puppet-tripleo patch lands.\n\nChange-Id: I7febf28bf409e25e8e5961ab551b6d56bb11e0c6\nPartially-Implements: blueprint custom-roles\n""}, {'number': 4, 'created': '2016-08-11 10:53:46.000000000', 'files': ['puppet/all-nodes-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e8683a863d8389d7f89f8841a9695aed7d65ee87', 'message': ""Align node_ips hiera keys with the service name.\n\nTo enable composable generation of this switch the key names\nto align with the service_name of each service.\n\nNote that this should depend on I423b544df174254ac511b906b0c570e701678022\nand previously passed CI with that defined, but because we now run\ngate validation jobs on puppet-tripleo it's impossible to land, so\nthis now contains both old and new hiera keys temporarily, which will\nbe removed when the puppet-tripleo patch lands.\n\nChange-Id: I7febf28bf409e25e8e5961ab551b6d56bb11e0c6\nPartially-Implements: blueprint custom-roles\n""}]",0,353637,e8683a863d8389d7f89f8841a9695aed7d65ee87,35,6,4,4328,,,0,"Align node_ips hiera keys with the service name.

To enable composable generation of this switch the key names
to align with the service_name of each service.

Note that this should depend on I423b544df174254ac511b906b0c570e701678022
and previously passed CI with that defined, but because we now run
gate validation jobs on puppet-tripleo it's impossible to land, so
this now contains both old and new hiera keys temporarily, which will
be removed when the puppet-tripleo patch lands.

Change-Id: I7febf28bf409e25e8e5961ab551b6d56bb11e0c6
Partially-Implements: blueprint custom-roles
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/353637/4 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.yaml', 'puppet/all-nodes-config.yaml']",2,b03dc380ffb7e3e6e5a1f39d1c10f743e454c4d3,bp/custom-roles, rabbitmq_node_ips: memcached_node_ips: rabbitmq_node_ips: &rabbit_nodes_array mongodb_node_ips: memcached_node_ips: - {get_param: memcached_node_ips} memcached_node_ips_v6: - {get_param: memcached_node_ips}, rabbit_node_ips: memcache_node_ips: rabbit_node_ips: &rabbit_nodes_array mongo_node_ips: memcache_node_ips: - {get_param: memcache_node_ips} memcache_node_ips_v6: - {get_param: memcache_node_ips},11,11
openstack%2Fcinder~master~Id86260fffed488ee316f83c179cd948378cfbb73,openstack/cinder,master,Id86260fffed488ee316f83c179cd948378cfbb73,Use object instead of string when reset backup,MERGED,2016-07-27 07:22:53.000000000,2016-08-12 15:56:47.000000000,2016-08-10 17:47:05.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13203}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 15054}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 17852}, {'_account_id': 18120}, {'_account_id': 18402}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22495}, {'_account_id': 22510}, {'_account_id': 22804}]","[{'number': 1, 'created': '2016-07-27 07:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a239af87d88a5c584b9b369800bea799480d0628', 'message': 'Use object instead of string when reset backup\n\nNow in reset backup status api, the ""backup service"" is a string,\nit should be an object.\n\nChange-Id: Id86260fffed488ee316f83c179cd948378cfbb73\n'}, {'number': 2, 'created': '2016-07-28 03:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f76fc2fecd6ab1a0ba2833c9c70685d4e31cfe69', 'message': 'Use object instead of string when reset backup\n\nNow in reset backup status api, the ""backup service"" is a string,\nit should be an object.\n\nCloses-bug: #1607157\n\nChange-Id: Id86260fffed488ee316f83c179cd948378cfbb73\n'}, {'number': 3, 'created': '2016-08-08 03:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ff5cd84dafccfed6156fe2ef62c41e989bf809f', 'message': 'Use object instead of string when reset backup\n\nNow in reset backup status api, the ""backup service"" is a string,\nit should be an object.\n\nCloses-bug: #1607157\n\nChange-Id: Id86260fffed488ee316f83c179cd948378cfbb73\n'}, {'number': 4, 'created': '2016-08-08 03:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3dc9dfcfa0d797af2951a1fd64c7e7bd652028bf', 'message': 'Use object instead of string when reset backup\n\nNow in reset backup status api, the ""backup service"" is a string,\nit should be an object.\n\nCloses-bug: #1607157\n\nChange-Id: Id86260fffed488ee316f83c179cd948378cfbb73\n'}, {'number': 5, 'created': '2016-08-08 10:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/baf527c0f29dc550006bc3b71905ce64baaa6b8d', 'message': 'Use object instead of string when reset backup\n\nNow in reset backup status api, the ""backup service"" is a string,\nit should be an object.\n\nCloses-bug: #1607157\n\nChange-Id: Id86260fffed488ee316f83c179cd948378cfbb73\n'}, {'number': 6, 'created': '2016-08-10 01:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9009f8b04536b8d74c6c5d91ae6477dcfefa03b7', 'message': 'Use object instead of string when reset backup\n\nNow in reset backup status api, the ""backup service"" is a string,\nit should be an object.\n\nCloses-bug: #1607157\n\nChange-Id: Id86260fffed488ee316f83c179cd948378cfbb73\n'}, {'number': 7, 'created': '2016-08-10 06:25:35.000000000', 'files': ['cinder/backup/manager.py', 'cinder/tests/unit/backup/test_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/855a0c334c845e53d7d54a0042baabcd1fc95143', 'message': 'Use object instead of string when reset backup\n\nNow in reset backup status api, the ""backup service"" is a string,\nit should be an object.\n\nCloses-bug: #1607157\n\nChange-Id: Id86260fffed488ee316f83c179cd948378cfbb73\n'}]",6,347665,855a0c334c845e53d7d54a0042baabcd1fc95143,148,49,7,15054,,,0,"Use object instead of string when reset backup

Now in reset backup status api, the ""backup service"" is a string,
it should be an object.

Closes-bug: #1607157

Change-Id: Id86260fffed488ee316f83c179cd948378cfbb73
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/347665/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/manager.py'],1,a239af87d88a5c584b9b369800bea799480d0628,bug/1607157, backup_service = self.service.get_backup_driver(context),,1,0
openstack%2Fpuppet-keystone~master~I69993a465a2da63b597bcb95ae2ba8af4da21785,openstack/puppet-keystone,master,I69993a465a2da63b597bcb95ae2ba8af4da21785,CI test - never merge,ABANDONED,2016-08-12 13:31:01.000000000,2016-08-12 15:56:41.000000000,,[{'_account_id': 8971}],"[{'number': 1, 'created': '2016-08-12 13:31:01.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/fc0ab302f8772aa3b63455652af399aa29c6a0df', 'message': 'CI test - never merge\n\nChange-Id: I69993a465a2da63b597bcb95ae2ba8af4da21785\n'}]",0,354724,fc0ab302f8772aa3b63455652af399aa29c6a0df,3,1,1,3153,,,0,"CI test - never merge

Change-Id: I69993a465a2da63b597bcb95ae2ba8af4da21785
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/24/354724/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,fc0ab302f8772aa3b63455652af399aa29c6a0df,ci-test,test ,,1,0
openstack%2Fopenstack-manuals~master~I410c18658589df803880dab8bc0d41bae185c6a2,openstack/openstack-manuals,master,I410c18658589df803880dab8bc0d41bae185c6a2,Rename other-requirements.txt -> bindep.txt,MERGED,2016-08-11 09:10:25.000000000,2016-08-12 15:55:52.000000000,2016-08-12 15:55:52.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2016-08-11 09:10:25.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/98c89d2d163ffdcb814076728d48c2e93474c190', 'message': 'Rename other-requirements.txt -> bindep.txt\n\nOpenStack CI has changed the default name for bindep, follow the rename.\n\nChange-Id: I410c18658589df803880dab8bc0d41bae185c6a2\n'}]",0,353918,98c89d2d163ffdcb814076728d48c2e93474c190,11,2,1,6547,,,0,"Rename other-requirements.txt -> bindep.txt

OpenStack CI has changed the default name for bindep, follow the rename.

Change-Id: I410c18658589df803880dab8bc0d41bae185c6a2
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/18/353918/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,98c89d2d163ffdcb814076728d48c2e93474c190,bindep-mv,,,0,0
openstack%2Frpm-packaging~master~I309764ed0da47908d9ac31d7b7d6b459ccd48285,openstack/rpm-packaging,master,I309764ed0da47908d9ac31d7b7d6b459ccd48285,Add pycrypto as build requirement for troveclient,MERGED,2016-08-11 10:54:16.000000000,2016-08-12 15:55:13.000000000,2016-08-12 15:52:17.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-11 10:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/50ae103cf864390bf69274d09b365e702fe01124', 'message': 'Add crypto as build requirement for troveclient\n\nNot seen in CI as it was installed as a transitive dependency.\n\nChange-Id: I309764ed0da47908d9ac31d7b7d6b459ccd48285\n'}, {'number': 2, 'created': '2016-08-11 11:10:49.000000000', 'files': ['openstack/python-troveclient/python-troveclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7c9023d199dbb3d8e9ef4923b0608593371c05c4', 'message': 'Add pycrypto as build requirement for troveclient\n\nNot seen in CI as it was installed as a transitive dependency.\n\nChange-Id: I309764ed0da47908d9ac31d7b7d6b459ccd48285\n'}]",2,353980,7c9023d199dbb3d8e9ef4923b0608593371c05c4,19,6,2,13294,,,0,"Add pycrypto as build requirement for troveclient

Not seen in CI as it was installed as a transitive dependency.

Change-Id: I309764ed0da47908d9ac31d7b7d6b459ccd48285
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/80/353980/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-troveclient/python-troveclient.spec.j2'],1,50ae103cf864390bf69274d09b365e702fe01124,,BuildRequires: {{ py2pkg('crypto') }},,1,0
openstack%2Fneutron-lib~master~Icdbc951af6d01e300a7e020547f90e6948990c0a,openstack/neutron-lib,master,Icdbc951af6d01e300a7e020547f90e6948990c0a,Add DeviceNotFoundError to neutron_lib exceptions,MERGED,2016-08-11 09:28:58.000000000,2016-08-12 15:53:53.000000000,2016-08-12 15:53:53.000000000,"[{'_account_id': 3}, {'_account_id': 5367}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 20336}]","[{'number': 1, 'created': '2016-08-11 09:28:58.000000000', 'files': ['neutron_lib/exceptions.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/72c9448ccca9d112b3e19ac87226fd7651fb4d8a', 'message': 'Add DeviceNotFoundError to neutron_lib exceptions\n\nDeviceNotFoundError is used in dragonflow. In an effort to move away\nfrom requiring neutron.common, DeviceNotFoundError should be in\nneutron_lib.\n\nChange-Id: Icdbc951af6d01e300a7e020547f90e6948990c0a\n'}]",1,353930,72c9448ccca9d112b3e19ac87226fd7651fb4d8a,12,5,1,20229,,,0,"Add DeviceNotFoundError to neutron_lib exceptions

DeviceNotFoundError is used in dragonflow. In an effort to move away
from requiring neutron.common, DeviceNotFoundError should be in
neutron_lib.

Change-Id: Icdbc951af6d01e300a7e020547f90e6948990c0a
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/30/353930/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/exceptions.py'],1,72c9448ccca9d112b3e19ac87226fd7651fb4d8a,DeviceNotFoundError,"class DeviceNotFoundError(NotFound): message = _(""Device '%(device_name)s' does not exist."") ",,4,0
openstack%2Fmanila~master~Iecfd32b8265ce9f7cdfcba6d89397f269024b75d,openstack/manila,master,Iecfd32b8265ce9f7cdfcba6d89397f269024b75d,Delete Snapshot: status wrongly set when busy,MERGED,2016-05-03 09:04:57.000000000,2016-08-12 15:52:15.000000000,2016-05-12 11:50:51.000000000,"[{'_account_id': 3}, {'_account_id': 8851}, {'_account_id': 9003}, {'_account_id': 9366}, {'_account_id': 10621}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 15942}, {'_account_id': 16305}, {'_account_id': 16643}, {'_account_id': 16657}, {'_account_id': 17097}, {'_account_id': 17565}, {'_account_id': 17623}, {'_account_id': 18128}, {'_account_id': 18402}, {'_account_id': 18752}, {'_account_id': 20695}]","[{'number': 1, 'created': '2016-05-03 09:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c69573b211b4667a7c71295f395aba6220462e96', 'message': ""Delete Snapshot: status wrongly set when busy\n\nThis fix sets the snapshot status correctly to 'error_deleting',\nwhen snapshot reportd to be busy by backend driver.\n\nChange-Id: Iecfd32b8265ce9f7cdfcba6d89397f269024b75d\nCloses-Bug: #1564623\n""}, {'number': 2, 'created': '2016-05-04 07:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bce1519795e42e5dd800081f35ff152c7ebebef1', 'message': ""Delete Snapshot: status wrongly set when busy\n\nThis fix sets the snapshot status correctly to 'error_deleting',\nwhen snapshot reported to be busy by backend driver.\n\nChange-Id: Iecfd32b8265ce9f7cdfcba6d89397f269024b75d\nCloses-Bug: #1564623\n""}, {'number': 3, 'created': '2016-05-05 08:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/95bf35f25ae7854609333cc1421aa1dd1de1f13f', 'message': ""Delete Snapshot: status wrongly set when busy\n\nThis fix sets the snapshot status correctly to 'error_deleting',\nwhen snapshot reported to be busy by backend driver.\n\nChange-Id: Iecfd32b8265ce9f7cdfcba6d89397f269024b75d\nCloses-Bug: #1564623\n""}, {'number': 4, 'created': '2016-05-06 07:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/290fdf4283b4f9cf716bb4b16ad2ddc651cccf75', 'message': ""Delete Snapshot: status wrongly set when busy\n\nThis fix sets the snapshot status correctly to 'error_deleting',\nwhen snapshot reported to be busy by backend driver.\n\nChange-Id: Iecfd32b8265ce9f7cdfcba6d89397f269024b75d\nCloses-Bug: #1564623\n""}, {'number': 5, 'created': '2016-05-09 06:26:38.000000000', 'files': ['releasenotes/notes/bug_1564623_change-e286060a27b02f64.yaml', 'manila/share/manager.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/69eaebc774c4f2132f6dc123ec296df7d3bd0cb0', 'message': ""Delete Snapshot: status wrongly set when busy\n\nThis fix sets the snapshot status correctly to 'error_deleting',\nwhen snapshot reported to be busy by backend driver.\n\nChange-Id: Iecfd32b8265ce9f7cdfcba6d89397f269024b75d\nCloses-Bug: #1564623\n""}]",17,311996,69eaebc774c4f2132f6dc123ec296df7d3bd0cb0,102,20,5,16305,,,0,"Delete Snapshot: status wrongly set when busy

This fix sets the snapshot status correctly to 'error_deleting',
when snapshot reported to be busy by backend driver.

Change-Id: Iecfd32b8265ce9f7cdfcba6d89397f269024b75d
Closes-Bug: #1564623
",git fetch https://review.opendev.org/openstack/manila refs/changes/96/311996/3 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/manager.py', 'manila/tests/share/test_manager.py']",2,c69573b211b4667a7c71295f395aba6220462e96,bug/1564623, {'status': constants.STATUS_ERROR_DELETING}), {'status': constants.STATUS_AVAILABLE}),2,2
openstack%2Fsahara-tests~master~I5428b814eba17153d045c34fe3852704be0cc104,openstack/sahara-tests,master,I5428b814eba17153d045c34fe3852704be0cc104,embedded jars: replace spark-example.jar,MERGED,2016-08-05 20:58:11.000000000,2016-08-12 15:51:51.000000000,2016-08-12 15:51:51.000000000,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 8932}, {'_account_id': 9740}, {'_account_id': 10459}, {'_account_id': 12038}, {'_account_id': 19372}]","[{'number': 1, 'created': '2016-08-05 20:58:11.000000000', 'files': ['sahara_tests/scenario/defaults/edp-examples/edp-spark/spark-example.jar', 'sahara_tests/scenario/defaults/edp-examples/edp-spark/spark-pi.py', 'sahara_tests/scenario/defaults/edp.yaml.mako'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/57a66164d834208c3628caab8895ef8bdab3976b', 'message': 'embedded jars: replace spark-example.jar\n\nwe can use python implementation of spark pi job.\n\nChange-Id: I5428b814eba17153d045c34fe3852704be0cc104\n'}]",0,351920,57a66164d834208c3628caab8895ef8bdab3976b,17,7,1,12038,,,0,"embedded jars: replace spark-example.jar

we can use python implementation of spark pi job.

Change-Id: I5428b814eba17153d045c34fe3852704be0cc104
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/20/351920/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_tests/scenario/defaults/edp-examples/edp-spark/spark-example.jar', 'sahara_tests/scenario/defaults/edp-examples/edp-spark/spark-pi.py', 'sahara_tests/scenario/defaults/edp.yaml.mako']",3,57a66164d834208c3628caab8895ef8bdab3976b,, source: edp-examples/edp-spark/spark-pi.py configs: edp.java.main_class: main, source: edp-examples/edp-spark/spark-example.jar configs: edp.java.main_class: org.apache.spark.examples.SparkPi,41,2
openstack%2Fpython-ironicclient~master~Ieedb2639b7c155733dc3d3a1194f4d889e2c7e52,openstack/python-ironicclient,master,Ieedb2639b7c155733dc3d3a1194f4d889e2c7e52,Add baremetal port unset command to OSC plugin,MERGED,2016-07-26 13:54:06.000000000,2016-08-12 15:49:22.000000000,2016-08-12 15:49:22.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 14614}]","[{'number': 1, 'created': '2016-07-26 13:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/491ab539984d5fc9134baf1efce61ae229944f80', 'message': 'Add baremetal port unset command to OSC plugin\n\nChange-Id: Ieedb2639b7c155733dc3d3a1194f4d889e2c7e52\n'}, {'number': 2, 'created': '2016-07-26 15:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/d1f2c42329201101c49acdd193b81a81d15a3dd0', 'message': 'Add baremetal port unset command to OSC plugin\n\nChange-Id: Ieedb2639b7c155733dc3d3a1194f4d889e2c7e52\nPartial-Bug: #1526479\n'}, {'number': 3, 'created': '2016-07-28 15:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/b2161105cbd706dbe82f3e67d86b7b1e5a99a7d2', 'message': 'Add baremetal port unset command to OSC plugin\n\nChange-Id: Ieedb2639b7c155733dc3d3a1194f4d889e2c7e52\nPartial-Bug: #1526479\n'}, {'number': 4, 'created': '2016-07-29 12:52:20.000000000', 'files': ['ironicclient/osc/v1/baremetal_port.py', 'ironicclient/tests/unit/osc/v1/test_baremetal_port.py', 'releasenotes/notes/osc-plugin-90817a683fbea3ae.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/4fdaccd638ef887d075c681344f4fad9c294e525', 'message': 'Add baremetal port unset command to OSC plugin\n\nChange-Id: Ieedb2639b7c155733dc3d3a1194f4d889e2c7e52\nPartial-Bug: #1526479\n'}]",3,347402,4fdaccd638ef887d075c681344f4fad9c294e525,19,5,4,14614,,,0,"Add baremetal port unset command to OSC plugin

Change-Id: Ieedb2639b7c155733dc3d3a1194f4d889e2c7e52
Partial-Bug: #1526479
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/02/347402/3 && git format-patch -1 --stdout FETCH_HEAD,[],0,491ab539984d5fc9134baf1efce61ae229944f80,bug/1526479,,,0,0
openstack%2Fpython-ironicclient~master~Ic35a1cd26ad0bc9bd79b54f1276e0903f69912a7,openstack/python-ironicclient,master,Ic35a1cd26ad0bc9bd79b54f1276e0903f69912a7,Trivial: remove redundant parentheses,MERGED,2016-08-10 15:43:58.000000000,2016-08-12 15:49:15.000000000,2016-08-12 15:49:15.000000000,"[{'_account_id': 3}, {'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 13636}]","[{'number': 1, 'created': '2016-08-10 15:43:58.000000000', 'files': ['ironicclient/osc/v1/baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/144d676b92435420ac9674e2460b0913f32edeb9', 'message': 'Trivial: remove redundant parentheses\n\nChange-Id: Ic35a1cd26ad0bc9bd79b54f1276e0903f69912a7\n'}]",0,353592,144d676b92435420ac9674e2460b0913f32edeb9,8,4,1,14614,,,0,"Trivial: remove redundant parentheses

Change-Id: Ic35a1cd26ad0bc9bd79b54f1276e0903f69912a7
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/92/353592/1 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/osc/v1/baremetal_node.py'],1,144d676b92435420ac9674e2460b0913f32edeb9,," help=""Reason for setting maintenance mode."")"," help=(""Reason for setting maintenance mode.""))",1,1
openstack%2Fpython-ironicclient~master~Ie000564ed1ad82a7cdbf064fb9c951038457a8c4,openstack/python-ironicclient,master,Ie000564ed1ad82a7cdbf064fb9c951038457a8c4,Deprecate -l option for port creation in OSC plugin,MERGED,2016-08-05 16:33:51.000000000,2016-08-12 15:49:09.000000000,2016-08-12 15:49:09.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 12356}, {'_account_id': 14614}]","[{'number': 1, 'created': '2016-08-05 16:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/fa2b3f6183a6953d5221ed970189aa188b50734a', 'message': 'Remove -l option for port creation in OSC plugin\n\nThe openstack client guideline says that options should be full\nenglish words.\n\nCloses-bug: #1610316\nChange-Id: Ie000564ed1ad82a7cdbf064fb9c951038457a8c4\n'}, {'number': 2, 'created': '2016-08-10 11:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/0b0314db59ac42a2ac8ca517ea02cb8155a2927e', 'message': 'Deprecate -l option for port creation in OSC plugin\n\nThe openstack client guideline says that options should be full\nenglish words.\n\nCloses-bug: #1610316\nChange-Id: Ie000564ed1ad82a7cdbf064fb9c951038457a8c4\n'}, {'number': 3, 'created': '2016-08-10 16:03:24.000000000', 'files': ['releasenotes/notes/remove-llc-short-arg-89c7443acc6c54a4.yaml', 'ironicclient/osc/v1/baremetal_port.py', 'ironicclient/tests/unit/osc/v1/test_baremetal_port.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/7bf8ac8d7f37eadfbe9967b798d04ca8466321c4', 'message': 'Deprecate -l option for port creation in OSC plugin\n\nThe openstack client guideline says that options should be full\nenglish words.\n\nCloses-bug: #1610316\nChange-Id: Ie000564ed1ad82a7cdbf064fb9c951038457a8c4\n'}]",4,351836,7bf8ac8d7f37eadfbe9967b798d04ca8466321c4,20,6,3,12356,,,0,"Deprecate -l option for port creation in OSC plugin

The openstack client guideline says that options should be full
english words.

Closes-bug: #1610316
Change-Id: Ie000564ed1ad82a7cdbf064fb9c951038457a8c4
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/36/351836/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-llc-short-arg-89c7443acc6c54a4.yaml', 'ironicclient/osc/v1/baremetal_port.py']",2,fa2b3f6183a6953d5221ed970189aa188b50734a,bug/1610316," '--local-link-connection',"," '-l', '--local-link-connection',",5,1
openstack%2Fpython-ironicclient~master~I7c6424a5dbdd0d8b5307f79fa1667c762c4a8837,openstack/python-ironicclient,master,I7c6424a5dbdd0d8b5307f79fa1667c762c4a8837,Remove unused variables assignments in OSC plugin unit tests,MERGED,2016-08-10 15:08:49.000000000,2016-08-12 15:48:49.000000000,2016-08-12 15:48:49.000000000,"[{'_account_id': 3}, {'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 13636}]","[{'number': 1, 'created': '2016-08-10 15:08:49.000000000', 'files': ['ironicclient/tests/unit/osc/v1/test_baremetal_port.py', 'ironicclient/tests/unit/osc/v1/test_baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/8a718298f3ea090f080192da9a15b40f09a6cc12', 'message': 'Remove unused variables assignments in OSC plugin unit tests\n\nChange-Id: I7c6424a5dbdd0d8b5307f79fa1667c762c4a8837\n'}]",0,353558,8a718298f3ea090f080192da9a15b40f09a6cc12,8,4,1,14614,,,0,"Remove unused variables assignments in OSC plugin unit tests

Change-Id: I7c6424a5dbdd0d8b5307f79fa1667c762c4a8837
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/58/353558/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/tests/unit/osc/v1/test_baremetal_port.py', 'ironicclient/tests/unit/osc/v1/test_baremetal_node.py']",2,8a718298f3ea090f080192da9a15b40f09a6cc12,, self.cmd.take_action(parsed_args) self.cmd.take_action(parsed_args) self.cmd.take_action(parsed_args) self.cmd.take_action(parsed_args) self.cmd.take_action(parsed_args) self.cmd.take_action(parsed_args) self.cmd.take_action(parsed_args) self.cmd.take_action(parsed_args) self.cmd.take_action(parsed_args)," columns, data = self.cmd.take_action(parsed_args) columns, data = self.cmd.take_action(parsed_args) columns, data = self.cmd.take_action(parsed_args) columns, data = self.cmd.take_action(parsed_args) columns, data = self.cmd.take_action(parsed_args) columns, data = self.cmd.take_action(parsed_args) columns, data = self.cmd.take_action(parsed_args) columns, data = self.cmd.take_action(parsed_args) columns, data = self.cmd.take_action(parsed_args)",11,11
openstack%2Fpuppet-ceph~master~Ic2c376999315c89ae05e45a2aab31cacf3369b6a,openstack/puppet-ceph,master,Ic2c376999315c89ae05e45a2aab31cacf3369b6a,Ensure SELinux file context is applied on data directories,MERGED,2016-08-10 18:22:52.000000000,2016-08-12 15:48:42.000000000,2016-08-12 15:48:42.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 8971}, {'_account_id': 10873}, {'_account_id': 13344}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-08-10 18:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/24da82b48f30f25c19df66dc0cb1a8692e321dcc', 'message': ""Ensure SELinux file context is applied on data directories\n\nWhen SELinux is in 'enforcing' mode, we need to label the data\ndirectories.\n\nChange-Id: Ic2c376999315c89ae05e45a2aab31cacf3369b6a\nCloses-Bug: 1611893\n""}, {'number': 2, 'created': '2016-08-11 08:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/ef219b392eaf9835fb222a8245384bf729233880', 'message': ""Ensure SELinux file context is applied on data directories\n\nWhen SELinux is in 'enforcing' mode, we need to label the data\ndirectories.\n\nChange-Id: Ic2c376999315c89ae05e45a2aab31cacf3369b6a\nCloses-Bug: 1611893\n""}, {'number': 3, 'created': '2016-08-11 18:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/da3937e0b299da5baa68ce5a8012143281187d03', 'message': ""Ensure SELinux file context is applied on data directories\n\nWhen SELinux is in 'enforcing' mode, we need to label the data\ndirectories.\n\nChange-Id: Ic2c376999315c89ae05e45a2aab31cacf3369b6a\nCloses-Bug: 1611893\n""}, {'number': 4, 'created': '2016-08-11 18:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/0c4a4a182becc53cc8f6aa2fdaaf0dda80223e56', 'message': ""Ensure SELinux file context is applied on data directories\n\nWhen SELinux is in 'enforcing' mode, we need to label the data\ndirectories.\n\nChange-Id: Ic2c376999315c89ae05e45a2aab31cacf3369b6a\nCloses-Bug: 1611893\n""}, {'number': 5, 'created': '2016-08-11 23:55:17.000000000', 'files': ['manifests/params.pp', 'manifests/osd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/f13493abc38cb13eec94bf203f15ec1d26d7ad28', 'message': ""Ensure SELinux file context is applied on data directories\n\nWhen SELinux is in 'enforcing' mode, we need to label the data\ndirectories.\n\nChange-Id: Ic2c376999315c89ae05e45a2aab31cacf3369b6a\nCloses-Bug: 1611893\n""}]",15,353673,f13493abc38cb13eec94bf203f15ec1d26d7ad28,39,7,5,6796,,,0,"Ensure SELinux file context is applied on data directories

When SELinux is in 'enforcing' mode, we need to label the data
directories.

Change-Id: Ic2c376999315c89ae05e45a2aab31cacf3369b6a
Closes-Bug: 1611893
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/73/353673/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/osd.pp'],1,24da82b48f30f25c19df66dc0cb1a8692e321dcc,bug/1611893,"# [*selinux_file_context*] The SELinux file context to apply # on the directory backing the OSD service. # Optional. Defaults to 'ceph_var_lib_t' # $selinux_type = 'ceph_var_lib_t', if (str2bool($::selinux) == true) { exec { ""fcontext_${name}"": command => ""semanage fcontext -a -t ${selinux_file_context} '${data}(/.*)?' && restorecon -R $data"", path => ['/usr/sbin', '/sbin', '/usr/bin', '/bin'], require => Exec[$ceph_prepare], before => Exec[$ceph_activate], unless => ""test ! -b ${data} && (semanage fcontext -l | grep ${data})"", } } ",,15,0
openstack%2Fos-cloud-config~master~I61ec430355037d146dd0c12790d31e7a135b9b50,openstack/os-cloud-config,master,I61ec430355037d146dd0c12790d31e7a135b9b50,Adding the congress service,MERGED,2016-06-09 03:17:00.000000000,2016-08-12 15:48:36.000000000,2016-08-12 15:48:36.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 7065}, {'_account_id': 10873}, {'_account_id': 18893}]","[{'number': 1, 'created': '2016-06-09 03:17:00.000000000', 'files': ['os_cloud_config/keystone.py'], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/b8a9dcbfe331a4d63c45e19f06cc14977f5fa250', 'message': 'Adding the congress service\n\nChange-Id: I61ec430355037d146dd0c12790d31e7a135b9b50\nSigned-off-by: Dan Radez <dradez@redhat.com>\n'}]",0,327449,b8a9dcbfe331a4d63c45e19f06cc14977f5fa250,10,7,1,5792,,,0,"Adding the congress service

Change-Id: I61ec430355037d146dd0c12790d31e7a135b9b50
Signed-off-by: Dan Radez <dradez@redhat.com>
",git fetch https://review.opendev.org/openstack/os-cloud-config refs/changes/49/327449/1 && git format-patch -1 --stdout FETCH_HEAD,['os_cloud_config/keystone.py'],1,b8a9dcbfe331a4d63c45e19f06cc14977f5fa250,add_congress_service," }, 'congress': { 'description': 'Congress Service', 'type': 'policy', 'path': '/', 'port': 1789",,6,0
openstack%2Ftripleo-heat-templates~master~Iab3ab05e16872d94d3b3ab4827e2f87f4970aee3,openstack/tripleo-heat-templates,master,Iab3ab05e16872d94d3b3ab4827e2f87f4970aee3,Move gnocchi's kestone::auth parameters to API profile,MERGED,2016-08-08 10:41:12.000000000,2016-08-12 15:48:26.000000000,2016-08-12 15:48:26.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 6924}]","[{'number': 1, 'created': '2016-08-08 10:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97d98f4b23da517ce150fbc01d8a15e516ff1f05', 'message': ""Move gnocchi's kestone::auth parameters to API profile\n\nIn the move to composable services, these parameters are not\nnecessary in the controller, but in the profile itself. They are not\nyet in use but will be used to populate the keystone endpoint.\n\nChange-Id: Iab3ab05e16872d94d3b3ab4827e2f87f4970aee3\n""}, {'number': 2, 'created': '2016-08-08 10:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/897e01b765681457faf69dd0aa52a8e3decc8e30', 'message': ""Move gnocchi's kestone::auth parameters to API profile\n\nIn the move to composable services, these parameters are not\nnecessary in the controller, but in the profile itself. They are not\nyet in use but will be used to populate the keystone endpoint.\n\nChange-Id: Iab3ab05e16872d94d3b3ab4827e2f87f4970aee3\n""}, {'number': 3, 'created': '2016-08-08 11:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2705872de40d28580dc0803f2b4695331e61091b', 'message': ""Move gnocchi's kestone::auth parameters to API profile\n\nIn the move to composable services, these parameters are not\nnecessary in the controller, but in the profile itself. They are not\nyet in use but will be used to populate the keystone endpoint.\n\nChange-Id: Iab3ab05e16872d94d3b3ab4827e2f87f4970aee3\n""}, {'number': 4, 'created': '2016-08-08 11:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0bddb36af8d3f6bf64f5abd7fdacf272a388aeed', 'message': ""Move gnocchi's kestone::auth parameters to API profile\n\nIn the move to composable services, these parameters are not\nnecessary in the controller, but in the profile itself. They are not\nyet in use but will be used to populate the keystone endpoint.\n\nChange-Id: Iab3ab05e16872d94d3b3ab4827e2f87f4970aee3\n""}, {'number': 5, 'created': '2016-08-08 12:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88fecec5036493c2b78620b77fa3443f5448d990', 'message': ""Move gnocchi's kestone::auth parameters to API profile\n\nIn the move to composable services, these parameters are not\nnecessary in the controller, but in the profile itself. They are not\nyet in use but will be used to populate the keystone endpoint.\n\nChange-Id: Iab3ab05e16872d94d3b3ab4827e2f87f4970aee3\n""}, {'number': 6, 'created': '2016-08-08 12:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bcab1774c07c9fcc8630a42a7d3b83cdca2388a5', 'message': ""Move gnocchi's kestone::auth parameters to API profile\n\nIn the move to composable services, these parameters are not\nnecessary in the controller, but in the profile itself. They are not\nyet in use but will be used to populate the keystone endpoint.\n\nChange-Id: Iab3ab05e16872d94d3b3ab4827e2f87f4970aee3\n""}, {'number': 7, 'created': '2016-08-08 13:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5304049a9d561ea764b1468ace449116c6eca7f8', 'message': ""Move gnocchi's kestone::auth parameters to API profile\n\nIn the move to composable services, these parameters are not\nnecessary in the controller, but in the profile itself. They are not\nyet in use but will be used to populate the keystone endpoint.\n\nChange-Id: Iab3ab05e16872d94d3b3ab4827e2f87f4970aee3\n""}, {'number': 8, 'created': '2016-08-09 05:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0645be8119feda72ae4ab96938245e638c8b9d38', 'message': ""Move gnocchi's kestone::auth parameters to API profile\n\nIn the move to composable services, these parameters are not\nnecessary in the controller, but in the profile itself. They are not\nyet in use but will be used to populate the keystone endpoint.\n\nChange-Id: Iab3ab05e16872d94d3b3ab4827e2f87f4970aee3\n""}, {'number': 9, 'created': '2016-08-09 12:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca891cef1f6942a33432aae9c382c4e56fdd1a29', 'message': ""Move gnocchi's kestone::auth parameters to API profile\n\nIn the move to composable services, these parameters are not\nnecessary in the controller, but in the profile itself. They are not\nyet in use but will be used to populate the keystone endpoint.\n\nChange-Id: Iab3ab05e16872d94d3b3ab4827e2f87f4970aee3\n""}, {'number': 10, 'created': '2016-08-09 13:29:28.000000000', 'files': ['puppet/controller.yaml', 'puppet/services/gnocchi-base.yaml', 'puppet/services/gnocchi-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba1fb563d10ae527d19663b94c76216fbf7e8591', 'message': ""Move gnocchi's kestone::auth parameters to API profile\n\nIn the move to composable services, these parameters are not\nnecessary in the controller, but in the profile itself. They are not\nyet in use but will be used to populate the keystone endpoint.\n\nChange-Id: Iab3ab05e16872d94d3b3ab4827e2f87f4970aee3\n""}]",3,352319,ba1fb563d10ae527d19663b94c76216fbf7e8591,47,5,10,10873,,,0,"Move gnocchi's kestone::auth parameters to API profile

In the move to composable services, these parameters are not
necessary in the controller, but in the profile itself. They are not
yet in use but will be used to populate the keystone endpoint.

Change-Id: Iab3ab05e16872d94d3b3ab4827e2f87f4970aee3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/352319/4 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/controller.yaml', 'puppet/services/gnocchi-api.yaml', 'puppet/services/gnocchi-base.yaml']",3,97d98f4b23da517ce150fbc01d8a15e516ff1f05,fix_neutron_auth,, GnocchiPassword: description: The password for the gnocchi service and db account. type: string hidden: true KeystoneRegion: type: string default: 'regionOne' description: Keystone region for endpoint gnocchi::keystone::auth::region: {get_param: KeystoneRegion} gnocchi::keystone::auth::tenant: 'service' gnocchi::keystone::auth::password: {get_param: GnocchiPassword} gnocchi::api::keystone_tenant: 'service',11,19
openstack%2Fkolla~master~Ia2bb696a1277e05d9be96987b229b43ca8b7c9cf,openstack/kolla,master,Ia2bb696a1277e05d9be96987b229b43ca8b7c9cf,Fernet Key Implementation [WIP],ABANDONED,2016-03-11 03:50:29.000000000,2016-08-12 15:47:49.000000000,,"[{'_account_id': 3}, {'_account_id': 7488}, {'_account_id': 11561}, {'_account_id': 13642}, {'_account_id': 16233}, {'_account_id': 18009}]","[{'number': 1, 'created': '2016-03-11 03:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/68164e375b8b60a064e8280a17ab188b7bb58541', 'message': 'Fernet Key Implementation [WIP]\n\nFernet keys are the basis of a keystone token provider that\nprovides better performance characteristics compared with\nthe database UUID provider.\n\nTo deploy a cloud with Fernet the steps requieds are:\n1) Configure fernet as the token provider\n2) Create fernet key repository\n3) Create initial set of of keys\n4) Distribute the keys to all keystone containers\n\nTo operate a cloud securely, periodically perform these steps:\n5) Rotate the fernet keys\n6) Distribute the keys to all keystone containers\n\nThis patch includes:\nSteps 1 through 4 as part of deploy.\nSteps 5 and 6 as a separate playbook. This will need to be added\nas a cron job.\n\nThis patch does not include:\nModifications for update/upgrade/add node/remove node/etc.\n\nChange-Id: Ia2bb696a1277e05d9be96987b229b43ca8b7c9cf\nPartially-implements: blueprint keystone-fernet-token\n'}, {'number': 2, 'created': '2016-06-21 15:44:51.000000000', 'files': ['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/keystone/tasks/deploy.yml', 'ansible/roles/keystone/tasks/init_fernet.yml', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/defaults/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/keystone/tasks/rotate_fernet.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/524b401bd1e71dcbceb9561e4c089aa866e6bb35', 'message': 'Fernet Key Implementation [WIP]\n\nFernet keys are the basis of a keystone token provider that\nprovides better performance characteristics compared with\nthe database UUID provider.\n\nTo deploy a cloud with Fernet the steps requieds are:\n1) Configure fernet as the token provider\n2) Create fernet key repository\n3) Create initial set of of keys\n4) Distribute the keys to all keystone containers\n\nTo operate a cloud securely, periodically perform these steps:\n5) Rotate the fernet keys\n6) Distribute the keys to all keystone containers\n\nThis patch includes:\nSteps 1 through 4 as part of deploy.\nSteps 5 and 6 as a separate playbook. This will need to be added\nas a cron job.\n\nThis patch does not include:\nModifications for update/upgrade/add node/remove node/etc.\n\nChange-Id: Ia2bb696a1277e05d9be96987b229b43ca8b7c9cf\nPartially-implements: blueprint keystone-fernet-token\n'}]",13,291539,524b401bd1e71dcbceb9561e4c089aa866e6bb35,13,6,2,11561,,,0,"Fernet Key Implementation [WIP]

Fernet keys are the basis of a keystone token provider that
provides better performance characteristics compared with
the database UUID provider.

To deploy a cloud with Fernet the steps requieds are:
1) Configure fernet as the token provider
2) Create fernet key repository
3) Create initial set of of keys
4) Distribute the keys to all keystone containers

To operate a cloud securely, periodically perform these steps:
5) Rotate the fernet keys
6) Distribute the keys to all keystone containers

This patch includes:
Steps 1 through 4 as part of deploy.
Steps 5 and 6 as a separate playbook. This will need to be added
as a cron job.

This patch does not include:
Modifications for update/upgrade/add node/remove node/etc.

Change-Id: Ia2bb696a1277e05d9be96987b229b43ca8b7c9cf
Partially-implements: blueprint keystone-fernet-token
",git fetch https://review.opendev.org/openstack/kolla refs/changes/39/291539/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/keystone/tasks/deploy.yml', 'ansible/roles/keystone/tasks/init_fernet.yml', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/defaults/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/keystone/tasks/rotate_fernet.yml']",7,68164e375b8b60a064e8280a17ab188b7bb58541,bp/keystone-fernet-token,"--- # # Key Rotation is not a cloud deployment step. # It should be done periodicly, by cron job, while keystone is # operational. # - name: Check if fernet keys exist stat: path: ""{{ keystone_fernet_keys_repository }}/0"" when: inventory_hostname == groups['keystone'][0] - name: Rotate Fernet Keys command: docker exec keystone keystone-manage fernet_rotate \ --keystone-user keystone --keystone-group keystone run_once: True when: - inventory_hostname == groups['keystone'][0] - name: Get list of keys command: ""docker exec keystone ls /etc/keystone/fernet-keys"" register: key_list run_once: True when: - inventory_hostname == groups['keystone'][0] - name: Pull in generated keys command: ""docker exec keystone cat /etc/keystone/fernet-keys/{{ item }}"" register: ""key-{{ item }}"" when: - inventory_hostname == groups['keystone'][0] with_items: - ""{{ key_list.stdout.split() }}"" - name: Distribute the keys copy: content: ""key-{{ item }}.stdout"" dest: ""{{ keystone_fernet_keys_repository }}/{{ item }}"" mode: ""600"" with_items: - ""{{ key_list.stdout.split() }}"" ",,113,0
openstack%2Fkolla~master~I3ba6e0d2dca1ecf72cf9f1b00e05e6955611c361,openstack/kolla,master,I3ba6e0d2dca1ecf72cf9f1b00e05e6955611c361,Customizations for Glance,MERGED,2016-08-09 15:38:12.000000000,2016-08-12 15:46:09.000000000,2016-08-12 15:46:09.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 11869}, {'_account_id': 12632}, {'_account_id': 16233}, {'_account_id': 16993}, {'_account_id': 19316}]","[{'number': 1, 'created': '2016-08-09 15:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0345dc9b6dd649ef8c039295230800e05f936d77', 'message': 'Customizations for Glance\n\nThis patchset contains customization of Dockerfile of Glance\ncontainers\n\nChange-Id: I3ba6e0d2dca1ecf72cf9f1b00e05e6955611c361\nPartially-implements: blueprint third-party-plugin-support\n'}, {'number': 2, 'created': '2016-08-09 16:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e34b41fa95b8c93ef26915d3e0c34f1a1b995bf6', 'message': 'Customizations for Glance\n\nThis patchset contains customization of Dockerfile of Glance\ncontainers\n\nChange-Id: I3ba6e0d2dca1ecf72cf9f1b00e05e6955611c361\nPartially-implements: blueprint third-party-plugin-support\n'}, {'number': 3, 'created': '2016-08-10 09:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cceb8baad064c2e2c02e6d332d1a3313e62b8748', 'message': 'Customizations for Glance\n\nThis patchset contains customization of Dockerfile of Glance\ncontainers\n\nChange-Id: I3ba6e0d2dca1ecf72cf9f1b00e05e6955611c361\nPartially-implements: blueprint third-party-plugin-support\n'}, {'number': 4, 'created': '2016-08-10 10:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c3582ef92bc085a5aa98d5d231631cd7da1d5878', 'message': 'Customizations for Glance\n\nThis patchset contains customization of Dockerfile of Glance\ncontainers\n\nChange-Id: I3ba6e0d2dca1ecf72cf9f1b00e05e6955611c361\nPartially-implements: blueprint third-party-plugin-support\n'}, {'number': 5, 'created': '2016-08-10 14:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f1bcacf2bc1e793cd874bad67643036bdf1d073f', 'message': 'Customizations for Glance\n\nThis patchset contains customization of Dockerfile of Glance\ncontainers\n\nChange-Id: I3ba6e0d2dca1ecf72cf9f1b00e05e6955611c361\nPartially-implements: blueprint third-party-plugin-support\n'}, {'number': 6, 'created': '2016-08-11 10:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1acff2763cef76d3ee63a8a7a9e994df25daccf8', 'message': 'Customizations for Glance\n\nThis patchset contains customization of Dockerfile of Glance\ncontainers\n\nAlso removed mkdir /etc/ceph as obsolete.\n\nChange-Id: I3ba6e0d2dca1ecf72cf9f1b00e05e6955611c361\nPartially-implements: blueprint third-party-plugin-support\n'}, {'number': 7, 'created': '2016-08-11 11:05:04.000000000', 'files': ['docker/glance/glance-api/Dockerfile.j2', 'docker/glance/glance-base/Dockerfile.j2', 'docker/glance/glance-registry/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8306864e2857d7292a3b1a0166f07b32ffa3ba4f', 'message': 'Customizations for Glance\n\nThis patchset contains customization of Dockerfile of Glance\ncontainers\n\nAlso removed mkdir /etc/ceph as obsolete.\n\nChange-Id: I3ba6e0d2dca1ecf72cf9f1b00e05e6955611c361\nPartially-implements: blueprint third-party-plugin-support\n'}]",27,352977,8306864e2857d7292a3b1a0166f07b32ffa3ba4f,33,9,7,12632,,,0,"Customizations for Glance

This patchset contains customization of Dockerfile of Glance
containers

Also removed mkdir /etc/ceph as obsolete.

Change-Id: I3ba6e0d2dca1ecf72cf9f1b00e05e6955611c361
Partially-implements: blueprint third-party-plugin-support
",git fetch https://review.opendev.org/openstack/kolla refs/changes/77/352977/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/glance/glance-api/Dockerfile.j2', 'docker/glance/glance-base/Dockerfile.j2', 'docker/glance/glance-registry/Dockerfile.j2']",3,0345dc9b6dd649ef8c039295230800e05f936d77,bp/third-party-plugin-support,{% block glance_registry_footer %}{% endblock %} {% block footer %}{% endblock %},,22,35
openstack%2Fkolla~master~I5126f81da7b4d48001b87f73d58bbbfad658209c,openstack/kolla,master,I5126f81da7b4d48001b87f73d58bbbfad658209c,Keystone interface address and memcached override,MERGED,2016-06-10 23:55:12.000000000,2016-08-12 15:45:35.000000000,2016-08-12 15:45:35.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 7488}, {'_account_id': 9237}, {'_account_id': 10419}, {'_account_id': 14027}, {'_account_id': 14103}, {'_account_id': 16233}, {'_account_id': 18009}, {'_account_id': 18737}, {'_account_id': 22143}]","[{'number': 1, 'created': '2016-06-10 23:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c6b9cf23aa26b167805eb9ca6f6b63ff57a472e4', 'message': 'Keystone interface address and memcached override\n\nAllows override of interface address and memcached pools, so that\nKubernetes can do the right thing.\n\nThere are some significant architectural issues involved in\nmemcached pooling in the Kolla-kubernetes world.  Avoiding them right\nnow.\n\nCurrent working globals.yml file:\n\napi_interface_address: ""0.0.0.0""\n\nmemcache_servers: ""memcached""\n\nkeystone_database_address: ""mariadb""\nkeystone_admin_url: ""{{ admin_protocol }}://keystone-admin:{{ keystone_admin_port }}/v3""\nkeystone_internal_url: ""{{ internal_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\nkeystone_public_url: ""{{ public_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\n\nChange-Id: I5126f81da7b4d48001b87f73d58bbbfad658209c\nPartially-implements: blueprint api-interface-bind-address-override\n'}, {'number': 2, 'created': '2016-06-13 19:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a4e363a565fd1eb96cb8976c2ac0efd07efa9c47', 'message': 'Keystone interface address and memcached override\n\nNote: This should not result in any behavior changes in regular Kolla,\njust Kolla-Kubernetes and only when you\'ve overridden stuff in globals.yml\n\nAllows override of interface address and memcached pools, so that\nKubernetes can do the right thing.\n\nThere are some significant architectural issues involved in\nmemcached pooling in the Kolla-kubernetes world.  Avoiding them right\nnow.\n\nCurrent working Kolla-Kubernetes globals.yml file, assuming that your\nmemcached servers are available under the DNS alias ""memcached"":\n\napi_interface_address: ""0.0.0.0""\n\nmemcache_servers: ""memcached""\n\nkeystone_database_address: ""mariadb""\nkeystone_admin_url: ""{{ admin_protocol }}://keystone-admin:{{ keystone_admin_port }}/v3""\nkeystone_internal_url: ""{{ internal_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\nkeystone_public_url: ""{{ public_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\n\nChange-Id: I5126f81da7b4d48001b87f73d58bbbfad658209c\nPartially-implements: blueprint api-interface-bind-address-override\n'}, {'number': 3, 'created': '2016-06-14 17:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e68e025013d814c91173611630f871e3dfc27efc', 'message': 'Keystone interface address and memcached override\n\nNote: This should not result in any behavior changes in regular Kolla,\njust Kolla-Kubernetes and only when you\'ve overridden stuff in globals.yml\n\nAllows override of interface address and memcached pools, so that\nKubernetes can do the right thing.\n\nThere are some significant architectural issues involved in\nmemcached pooling in the Kolla-kubernetes world.  Avoiding them right\nnow.\n\nCurrent working Kolla-Kubernetes globals.yml file, assuming that your\nmemcached servers are available under the DNS alias ""memcached"":\n\napi_interface_address: ""0.0.0.0""\n\nmemcache_servers: ""memcached""\n\nkeystone_database_address: ""mariadb""\nkeystone_admin_url: ""{{ admin_protocol }}://keystone-admin:{{ keystone_admin_port }}/v3""\nkeystone_internal_url: ""{{ internal_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\nkeystone_public_url: ""{{ public_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\n\nChange-Id: I5126f81da7b4d48001b87f73d58bbbfad658209c\nPartially-implements: blueprint api-interface-bind-address-override\n'}, {'number': 4, 'created': '2016-06-14 19:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/04f84df13a1d44957079750c035e0ab268b94edb', 'message': 'Keystone interface address and memcached override\n\nNote: This should not result in any behavior changes in regular Kolla,\njust Kolla-Kubernetes and only when you\'ve overridden stuff in globals.yml\n\nAllows override of interface address and memcached pools, so that\nKubernetes can do the right thing.\n\nThere are some significant architectural issues involved in\nmemcached pooling in the Kolla-kubernetes world.  Avoiding them right\nnow.\n\nCurrent working Kolla-Kubernetes globals.yml file, assuming that your\nmemcached servers are available under the DNS alias ""memcached"":\n\napi_interface_address: ""0.0.0.0""\n\nmemcached_servers: ""memcached""\n\nkeystone_database_address: ""mariadb""\nkeystone_admin_url: ""{{ admin_protocol }}://keystone-admin:{{ keystone_admin_port }}/v3""\nkeystone_internal_url: ""{{ internal_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\nkeystone_public_url: ""{{ public_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\n\nChange-Id: I5126f81da7b4d48001b87f73d58bbbfad658209c\nPartially-implements: blueprint api-interface-bind-address-override\n'}, {'number': 5, 'created': '2016-07-27 19:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/222eb5ddf78b13e19ab9d41dbbe3ab954ca5718f', 'message': 'Keystone interface address and memcached override\n\nNote: This should not result in any behavior changes in regular Kolla,\njust Kolla-Kubernetes and only when you\'ve overridden stuff in globals.yml\n\nAllows override of interface address and memcached pools, so that\nKubernetes can do the right thing.\n\nThere are some significant architectural issues involved in\nmemcached pooling in the Kolla-kubernetes world.  Avoiding them right\nnow.\n\nCurrent working Kolla-Kubernetes globals.yml file, assuming that your\nmemcached servers are available under the DNS alias ""memcached"":\n\napi_interface_address: ""0.0.0.0""\n\nmemcached_servers: ""memcached""\n\nkeystone_database_address: ""mariadb""\nkeystone_admin_url: ""{{ admin_protocol }}://keystone-admin:{{ keystone_admin_port }}/v3""\nkeystone_internal_url: ""{{ internal_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\nkeystone_public_url: ""{{ public_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\n\nChange-Id: I5126f81da7b4d48001b87f73d58bbbfad658209c\nPartially-implements: blueprint api-interface-bind-address-override\n'}, {'number': 6, 'created': '2016-07-29 13:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/10f1475b7a019ee903a75e9074aa14f9975e75fd', 'message': 'Keystone interface address and memcached override\n\nNote: This should not result in any behavior changes in regular Kolla,\njust Kolla-Kubernetes and only when you\'ve overridden stuff in globals.yml\n\nAllows override of interface address and memcached pools, so that\nKubernetes can do the right thing.\n\nThere are some significant architectural issues involved in\nmemcached pooling in the Kolla-kubernetes world.  Avoiding them right\nnow.\n\nCurrent working Kolla-Kubernetes globals.yml file, assuming that your\nmemcached servers are available under the DNS alias ""memcached"":\n\napi_interface_address: ""0.0.0.0""\n\nmemcached_servers: ""memcached""\n\nkeystone_database_address: ""mariadb""\nkeystone_admin_url: ""{{ admin_protocol }}://keystone-admin:{{ keystone_admin_port }}/v3""\nkeystone_internal_url: ""{{ internal_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\nkeystone_public_url: ""{{ public_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\n\nCo-authored-by: Ryan Hallisey <rhallise@redhat.com>\nChange-Id: I5126f81da7b4d48001b87f73d58bbbfad658209c\nPartially-implements: blueprint api-interface-bind-address-override\n'}, {'number': 7, 'created': '2016-07-29 15:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/55e5b5bbfdbd07666ad7e87b7a5994912881d95f', 'message': 'Keystone interface address and memcached override\n\nNote: This should not result in any behavior changes in regular Kolla,\njust Kolla-Kubernetes and only when you\'ve overridden stuff in globals.yml\n\nAllows override of interface address and memcached pools, so that\nKubernetes can do the right thing.\n\nThere are some significant architectural issues involved in\nmemcached pooling in the Kolla-kubernetes world.  Avoiding them right\nnow.\n\nCurrent working Kolla-Kubernetes globals.yml file, assuming that your\nmemcached servers are available under the DNS alias ""memcached"":\n\napi_interface_address: ""0.0.0.0""\n\nmemcached_servers: ""memcached""\n\nkeystone_database_address: ""mariadb""\nkeystone_admin_url: ""{{ admin_protocol }}://keystone-admin:{{ keystone_admin_port }}/v3""\nkeystone_internal_url: ""{{ internal_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\nkeystone_public_url: ""{{ public_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\n\nCo-authored-by: Ryan Hallisey <rhallise@redhat.com>\nChange-Id: I5126f81da7b4d48001b87f73d58bbbfad658209c\nPartially-implements: blueprint api-interface-bind-address-override\n'}, {'number': 8, 'created': '2016-08-11 13:55:37.000000000', 'files': ['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/37b3c8c35454a1076b3fbe32502264be71fd6e0d', 'message': 'Keystone interface address and memcached override\n\nNote: This should not result in any behavior changes in regular Kolla,\njust Kolla-Kubernetes and only when you\'ve overridden stuff in globals.yml\n\nAllows override of interface address and memcached pools, so that\nKubernetes can do the right thing.\n\nThere are some significant architectural issues involved in\nmemcached pooling in the Kolla-kubernetes world.  Avoiding them right\nnow.\n\nCurrent working Kolla-Kubernetes globals.yml file, assuming that your\nmemcached servers are available under the DNS alias ""memcached"":\n\napi_interface_address: ""0.0.0.0""\n\nmemcached_servers: ""memcached""\n\nkeystone_database_address: ""mariadb""\nkeystone_admin_url: ""{{ admin_protocol }}://keystone-admin:{{ keystone_admin_port }}/v3""\nkeystone_internal_url: ""{{ internal_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\nkeystone_public_url: ""{{ public_protocol }}://keystone-public:{{ keystone_public_port }}/v3""\n\nCo-authored-by: Ryan Hallisey <rhallise@redhat.com>\nChange-Id: I5126f81da7b4d48001b87f73d58bbbfad658209c\nPartially-implements: blueprint api-interface-bind-address-override\n'}]",11,328569,37b3c8c35454a1076b3fbe32502264be71fd6e0d,45,11,8,21996,,,0,"Keystone interface address and memcached override

Note: This should not result in any behavior changes in regular Kolla,
just Kolla-Kubernetes and only when you've overridden stuff in globals.yml

Allows override of interface address and memcached pools, so that
Kubernetes can do the right thing.

There are some significant architectural issues involved in
memcached pooling in the Kolla-kubernetes world.  Avoiding them right
now.

Current working Kolla-Kubernetes globals.yml file, assuming that your
memcached servers are available under the DNS alias ""memcached"":

api_interface_address: ""0.0.0.0""

memcached_servers: ""memcached""

keystone_database_address: ""mariadb""
keystone_admin_url: ""{{ admin_protocol }}://keystone-admin:{{ keystone_admin_port }}/v3""
keystone_internal_url: ""{{ internal_protocol }}://keystone-public:{{ keystone_public_port }}/v3""
keystone_public_url: ""{{ public_protocol }}://keystone-public:{{ keystone_public_port }}/v3""

Co-authored-by: Ryan Hallisey <rhallise@redhat.com>
Change-Id: I5126f81da7b4d48001b87f73d58bbbfad658209c
Partially-implements: blueprint api-interface-bind-address-override
",git fetch https://review.opendev.org/openstack/kolla refs/changes/69/328569/7 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2']",2,c6b9cf23aa26b167805eb9ca6f6b63ff57a472e4,bp/api-interface-bind-address-override,Listen {{ api_interface_address }}:{{ keystone_public_port }} Listen {{ api_interface_address }}:{{ keystone_admin_port }},Listen {{ hostvars[inventory_hostname]['ansible_' + api_interface]['ipv4']['address'] }}:{{ keystone_public_port }} Listen {{ hostvars[inventory_hostname]['ansible_' + api_interface]['ipv4']['address'] }}:{{ keystone_admin_port }},7,2
openstack%2Fpython-novaclient~master~I4adc965fd95b6e79a3ec26614d1c9f98262593b9,openstack/python-novaclient,master,I4adc965fd95b6e79a3ec26614d1c9f98262593b9,Make novaclient functional tests use pretty tox,MERGED,2016-08-12 10:34:22.000000000,2016-08-12 15:44:16.000000000,2016-08-12 15:44:16.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 9545}]","[{'number': 1, 'created': '2016-08-12 10:34:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/04613efbcf37d9c2d3b99bc83acb9fc806d1895b', 'message': 'Make novaclient functional tests use pretty tox\n\nThis makes local running of the tests much nicer as we can see the\nprogress of successful tests working around the testr issue of showing\nno output until the end of the run.\n\nChange-Id: I4adc965fd95b6e79a3ec26614d1c9f98262593b9\n'}]",0,354638,04613efbcf37d9c2d3b99bc83acb9fc806d1895b,7,3,1,2750,,,0,"Make novaclient functional tests use pretty tox

This makes local running of the tests much nicer as we can see the
progress of successful tests working around the testr issue of showing
no output until the end of the run.

Change-Id: I4adc965fd95b6e79a3ec26614d1c9f98262593b9
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/38/354638/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,04613efbcf37d9c2d3b99bc83acb9fc806d1895b,pretty_tox,commands = bash tools/pretty_tox.sh '--concurrency=1 {posargs}'commands = bash tools/pretty_tox.sh '--concurrency=1 {posargs}',commands = python setup.py testr --testr-args='--concurrency=1 {posargs}'commands = python setup.py testr --testr-args='--concurrency=1 {posargs}',2,2
openstack%2Fmanila~stable%2Fmitaka~Ic2494e1f9eb9104f96ef3a50f12d0f304735ee4f,openstack/manila,stable/mitaka,Ic2494e1f9eb9104f96ef3a50f12d0f304735ee4f,Fix force-delete on snapshot resource,MERGED,2016-08-02 01:47:07.000000000,2016-08-12 15:44:05.000000000,2016-08-12 15:44:05.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 11637}, {'_account_id': 16203}]","[{'number': 1, 'created': '2016-08-02 01:47:07.000000000', 'files': ['manila/tests/share/test_api.py', 'releasenotes/notes/snapshot-force-delete-4432bebfb5a0bbc9.yaml', 'manila/share/api.py', 'manila/share/manager.py', 'manila/tests/share/test_rpcapi.py', 'manila/tests/fake_share.py', 'manila/share/rpcapi.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/eba4586ef3db648bdda9cf0ffeb76398f0a761ea', 'message': ""Fix force-delete on snapshot resource\n\nWhen using snapshot-delete API, if the share driver\nlogs an exception, the status of the snapshot is set\nto 'error_deleting'. If an administrator wants to remove\nthis snapshot, he/she would expect to use the\nsnapshot-force-delete API. However, if the share\ndriver still cannot delete the resource, it will remain\nin 'error_deleting' state; leaving the administrator\nwith no choice but to resort to making changes to\nthe snapshot record in Manila's database.\n\nPropagate the force flag to the share manager and log\ndriver exceptions, while ignoring them to obliterate\nthe snapshot on Manila's database if the delete\noperation is forced.\n\nAlso fix data being sent in create/delete snapshot\ndriver interfaces and refactor corresponding unit tests.\n\nChange-Id: Ic2494e1f9eb9104f96ef3a50f12d0f304735ee4f\nCloses-Bug: #1560119\n(cherry picked from commit 35648819aa00afe2cdd7ebba63f42def8c43e971)\n""}]",6,349750,eba4586ef3db648bdda9cf0ffeb76398f0a761ea,21,6,1,16643,,,0,"Fix force-delete on snapshot resource

When using snapshot-delete API, if the share driver
logs an exception, the status of the snapshot is set
to 'error_deleting'. If an administrator wants to remove
this snapshot, he/she would expect to use the
snapshot-force-delete API. However, if the share
driver still cannot delete the resource, it will remain
in 'error_deleting' state; leaving the administrator
with no choice but to resort to making changes to
the snapshot record in Manila's database.

Propagate the force flag to the share manager and log
driver exceptions, while ignoring them to obliterate
the snapshot on Manila's database if the delete
operation is forced.

Also fix data being sent in create/delete snapshot
driver interfaces and refactor corresponding unit tests.

Change-Id: Ic2494e1f9eb9104f96ef3a50f12d0f304735ee4f
Closes-Bug: #1560119
(cherry picked from commit 35648819aa00afe2cdd7ebba63f42def8c43e971)
",git fetch https://review.opendev.org/openstack/manila refs/changes/50/349750/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_api.py', 'manila/share/api.py', 'releasenotes/notes/snapshot-force-delete-4432bebfb5a0bbc9.yaml', 'manila/share/manager.py', 'manila/tests/share/test_rpcapi.py', 'manila/tests/fake_share.py', 'manila/share/rpcapi.py', 'manila/tests/share/test_manager.py']",8,eba4586ef3db648bdda9cf0ffeb76398f0a761ea,bug/1560119," def _get_snapshot_instance_dict(self, snapshot_instance, share): expected_snapshot_instance_dict = { 'status': constants.STATUS_CREATING, 'share_id': share['id'], 'share_name': snapshot_instance['share_name'], 'deleted': snapshot_instance['deleted'], 'share': share, 'updated_at': snapshot_instance['updated_at'], 'snapshot_id': snapshot_instance['snapshot_id'], 'id': snapshot_instance['id'], 'name': snapshot_instance['name'], 'created_at': snapshot_instance['created_at'], 'share_instance_id': snapshot_instance['share_instance_id'], 'progress': snapshot_instance['progress'], 'deleted_at': snapshot_instance['deleted_at'], 'provider_location': snapshot_instance['provider_location'], } return expected_snapshot_instance_dict def test_create_snapshot_driver_exception(self): share_id = 'FAKE_SHARE_ID' share = fakes.fake_share(id=share_id, instance={'id': 'fake_id'}) snapshot_instance = fakes.fake_snapshot_instance( share_id=share_id, share=share, name='fake_snapshot') snapshot = fakes.fake_snapshot( share_id=share_id, share=share, instance=snapshot_instance, project_id=self.context.project_id) snapshot_id = snapshot['id'] self.mock_object(self.share_manager, '_get_share_server', mock.Mock(return_value=None)) self.mock_object(self.share_manager.db, 'share_snapshot_instance_get', mock.Mock(return_value=snapshot_instance)) self.mock_object(self.share_manager.db, 'share_snapshot_get', mock.Mock(return_value=snapshot)) db_update = self.mock_object( self.share_manager.db, 'share_snapshot_instance_update') expected_snapshot_instance_dict = self._get_snapshot_instance_dict( snapshot_instance, share) db_update.assert_called_once_with(self.context, snapshot_instance['id'], {'status': constants.STATUS_ERROR}) self.share_manager.driver.create_snapshot.assert_called_once_with( self.context, expected_snapshot_instance_dict, share_server=None) def test_create_snapshot(self): share_id = 'FAKE_SHARE_ID' share = fakes.fake_share(id=share_id, instance={'id': 'fake_id'}) snapshot_instance = fakes.fake_snapshot_instance( share_id=share_id, share=share, name='fake_snapshot') snapshot = fakes.fake_snapshot( share_id=share_id, share=share, instance=snapshot_instance) snapshot_id = snapshot['id'] self.mock_object(self.share_manager.db, 'share_snapshot_get', mock.Mock(return_value=snapshot)) self.mock_object(self.share_manager.db, 'share_snapshot_instance_get', mock.Mock(return_value=snapshot_instance)) self.mock_object(self.share_manager, '_get_share_server', mock.Mock(return_value=None)) expected_update_calls = [ mock.call(self.context, snapshot_instance['id'], {'status': constants.STATUS_AVAILABLE, 'progress': '100%'}) ] expected_snapshot_instance_dict = self._get_snapshot_instance_dict( snapshot_instance, share) self.mock_object(self.share_manager.driver, 'create_snapshot', mock.Mock(return_value=None)) db_update = self.mock_object( self.share_manager.db, 'share_snapshot_instance_update') return_value = self.share_manager.create_snapshot( self.context, share_id, snapshot_id) self.assertEqual(None, return_value) self.share_manager.driver.create_snapshot.assert_called_once_with( self.context, expected_snapshot_instance_dict, share_server=None) db_update.assert_has_calls(expected_update_calls, any_order=True) def test_delete_snapshot_driver_other_exception(self): def _raise_not_found(self, *args, **kwargs): raise exception.NotFound() share_id = 'FAKE_SHARE_ID' share = fakes.fake_share(id=share_id, instance={'id': 'fake_id'}) snapshot_instance = fakes.fake_snapshot_instance( share_id=share_id, share=share, name='fake_snapshot') snapshot = fakes.fake_snapshot( share_id=share_id, share=share, instance=snapshot_instance, project_id=self.context.project_id) snapshot_id = snapshot['id'] self.mock_object(self.share_manager.driver, ""delete_snapshot"", mock.Mock(side_effect=_raise_not_found)) self.mock_object(self.share_manager, '_get_share_server', mock.Mock(return_value=None)) self.mock_object(self.share_manager.db, 'share_snapshot_instance_get', mock.Mock(return_value=snapshot_instance)) self.mock_object(self.share_manager.db, 'share_snapshot_get', mock.Mock(return_value=snapshot)) self.mock_object( self.share_manager.db, 'share_get', mock.Mock(return_value=share)) db_update = self.mock_object( self.share_manager.db, 'share_snapshot_instance_update') db_destroy_call = self.mock_object( self.share_manager.db, 'share_snapshot_instance_delete') expected_snapshot_instance_dict = self._get_snapshot_instance_dict( snapshot_instance, share) mock_exception_log = self.mock_object(manager.LOG, 'exception') db_update.assert_called_once_with( mock.ANY, snapshot_instance['id'], {'status': constants.STATUS_ERROR_DELETING}) mock.ANY, expected_snapshot_instance_dict, self.assertFalse(db_destroy_call.called) self.assertFalse(mock_exception_log.called) def test_delete_snapshot_exception_snapshot_is_busy(self): """"""Test snapshot should not be deleted if busy."""""" share_id = 'FAKE_SHARE_ID' share = fakes.fake_share( id=share_id, has_replicas=True, instance={'id': 'fake_id'}) snapshot_instance = fakes.fake_snapshot_instance( share_id=share_id, share=share, name='fake_snapshot') snapshot = fakes.fake_snapshot( share_id=share_id, share=share, instance=snapshot_instance, project_id=self.context.project_id) snapshot_id = snapshot['id'] self.mock_object(self.share_manager, '_get_share_server', mock.Mock(return_value=None)) self.mock_object(self.share_manager.db, 'share_snapshot_instance_get', mock.Mock(return_value=snapshot_instance)) self.mock_object(self.share_manager.db, 'share_snapshot_get', mock.Mock(return_value=snapshot)) snapshot_update_call = self.mock_object( self.share_manager.db, 'share_snapshot_instance_update') self.mock_object( self.share_manager.db, 'share_get', mock.Mock(return_value=share)) self.assertRaises(exception.ShareSnapshotIsBusy, self.share_manager.delete_snapshot, self.context, snapshot_id) snapshot_update_call.assert_called_once_with( mock.ANY, snapshot_instance['id'], {'status': constants.STATUS_AVAILABLE}) @ddt.data(True, False) def test_delete_snapshot_with_quota_error(self, quota_error): share_id = 'FAKE_SHARE_ID' share = fakes.fake_share(id=share_id, instance={'id': 'fake_id'}) snapshot_instance = fakes.fake_snapshot_instance( share_id=share_id, share=share, name='fake_snapshot') snapshot = fakes.fake_snapshot( share_id=share_id, share=share, instance=snapshot_instance, project_id=self.context.project_id, size=1) self.mock_object(self.share_manager.db, 'share_snapshot_get', mock.Mock(return_value=snapshot)) self.mock_object(self.share_manager.db, 'share_snapshot_instance_get', mock.Mock(return_value=snapshot_instance)) self.mock_object(self.share_manager.db, 'share_get', mock.Mock(return_value=share)) self.mock_object(self.share_manager, '_get_share_server', mock.Mock(return_value=None)) mock_exception_log = self.mock_object(manager.LOG, 'exception') expected_exc_count = 1 if quota_error else 0 expected_snapshot_instance_dict = self._get_snapshot_instance_dict( snapshot_instance, share) self.mock_object(self.share_manager.driver, 'delete_snapshot') db_update_call = self.mock_object( self.share_manager.db, 'share_snapshot_instance_update') snapshot_destroy_call = self.mock_object( self.share_manager.db, 'share_snapshot_instance_delete') side_effect = exception.QuotaError(code=500) if quota_error else None self.mock_object(quota.QUOTAS, 'reserve', mock.Mock(side_effect=side_effect)) quota_commit_call = self.mock_object(quota.QUOTAS, 'commit') retval = self.share_manager.delete_snapshot( self.context, snapshot_id) self.assertIsNone(retval) mock.ANY, expected_snapshot_instance_dict, share_server=None) self.assertFalse(db_update_call.called) self.assertTrue(snapshot_destroy_call.called) self.assertTrue(manager.QUOTAS.reserve.called) quota.QUOTAS.reserve.assert_called_once_with( mock.ANY, project_id=self.context.project_id, snapshots=-1, snapshot_gigabytes=-snapshot['size'], user_id=snapshot['user_id']) self.assertEqual(not quota_error, quota_commit_call.called) self.assertEqual(quota_error, mock_exception_log.called) self.assertEqual(expected_exc_count, mock_exception_log.call_count) @ddt.data(exception.ShareSnapshotIsBusy, exception.ManilaException) def test_delete_snapshot_ignore_exceptions_with_the_force(self, exc): def _raise_quota_error(): raise exception.QuotaError(code='500') share_id = 'FAKE_SHARE_ID' share = fakes.fake_share(id=share_id, instance={'id': 'fake_id'}) snapshot_instance = fakes.fake_snapshot_instance( share_id=share_id, share=share, name='fake_snapshot') snapshot = fakes.fake_snapshot( share_id=share_id, share=share, instance=snapshot_instance, project_id=self.context.project_id, size=1) snapshot_id = snapshot['id'] self.mock_object(self.share_manager.db, 'share_snapshot_get', mock.Mock(return_value=snapshot)) self.mock_object(self.share_manager.db, 'share_snapshot_instance_get', mock.Mock(return_value=snapshot_instance)) self.mock_object(self.share_manager.db, 'share_get', mock.Mock(return_value=share)) self.mock_object(self.share_manager, '_get_share_server', mock.Mock(return_value=None)) mock_exception_log = self.mock_object(manager.LOG, 'exception') self.mock_object(self.share_manager.driver, 'delete_snapshot', mock.Mock(side_effect=exc)) db_update_call = self.mock_object( self.share_manager.db, 'share_snapshot_instance_update') snapshot_destroy_call = self.mock_object( self.share_manager.db, 'share_snapshot_instance_delete') self.mock_object(quota.QUOTAS, 'reserve', mock.Mock(side_effect=_raise_quota_error)) quota_commit_call = self.mock_object(quota.QUOTAS, 'commit') retval = self.share_manager.delete_snapshot( self.context, snapshot_id, force=True) self.assertIsNone(retval) self.assertEqual(2, mock_exception_log.call_count) snapshot_destroy_call.assert_called_once_with( mock.ANY, snapshot_instance['id']) self.assertFalse(quota_commit_call.called) self.assertFalse(db_update_call.called)"," def test_create_delete_share_snapshot(self): """"""Test share's snapshot can be created and deleted."""""" def _fake_create_snapshot(self, snapshot, **kwargs): snapshot['progress'] = '99%' return snapshot.to_dict() self.mock_object(self.share_manager.driver, ""create_snapshot"", _fake_create_snapshot) share = db_utils.create_share() share_id = share['id'] snapshot = db_utils.create_snapshot(share_id=share_id) snapshot_id = snapshot['id'] self.share_manager.create_snapshot(self.context, share_id, snapshot_id) self.assertEqual(share_id, db.share_snapshot_get(context.get_admin_context(), snapshot_id).share_id) snap = db.share_snapshot_get(self.context, snapshot_id) self.assertEqual(constants.STATUS_AVAILABLE, snap['status']) self.share_manager.delete_snapshot(self.context, snapshot_id) self.assertRaises(exception.NotFound, db.share_snapshot_get, self.context, snapshot_id) def test_create_delete_share_snapshot_error(self): """"""Test snapshot can be created and deleted with error."""""" self.mock_object(self.share_manager.driver, ""delete_snapshot"", mock.Mock(side_effect=_raise_not_found)) share = db_utils.create_share() share_id = share['id'] snapshot = db_utils.create_snapshot(share_id=share_id) snapshot_id = snapshot['id'] snap = db.share_snapshot_get(self.context, snapshot_id) self.assertEqual(constants.STATUS_ERROR, snap['status']) self.assertEqual( constants.STATUS_ERROR_DELETING, db.share_snapshot_get(self.context, snapshot_id).status) self.share_manager.driver.create_snapshot.assert_called_once_with( self.context, utils.IsAMatcher(models.ShareSnapshotInstance), share_server=None) utils.IsAMatcher(context.RequestContext), utils.IsAMatcher(models.ShareSnapshotInstance), def test_delete_snapshot_quota_error(self): share = db_utils.create_share() share_id = share['id'] snapshot = db_utils.create_snapshot(share_id=share_id) snapshot_id = snapshot['id'] snapshot = db_utils.create_snapshot( with_share=True, status=constants.STATUS_AVAILABLE) self.mock_object(quota.QUOTAS, 'reserve', mock.Mock(side_effect=exception.QuotaError('fake'))) self.mock_object(quota.QUOTAS, 'commit') self.share_manager.delete_snapshot(self.context, snapshot_id) quota.QUOTAS.reserve.assert_called_once_with( mock.ANY, project_id=six.text_type(snapshot['project_id']), snapshots=-1, snapshot_gigabytes=-snapshot['size'], user_id=six.text_type(snapshot['user_id']) ) self.assertFalse(quota.QUOTAS.commit.called) def test_delete_share_instance_if_busy(self): """"""Test snapshot could not be deleted if busy."""""" share = db_utils.create_share(status=constants.STATUS_ACTIVE) snapshot = db_utils.create_snapshot(share_id=share['id']) self.share_manager.delete_snapshot(self.context, snapshot_id) snap = db.share_snapshot_get(self.context, snapshot_id) self.assertEqual(constants.STATUS_AVAILABLE, snap['status']) utils.IsAMatcher(context.RequestContext), utils.IsAMatcher(models.ShareSnapshotInstance), share_server=None)",342,127
openstack%2Frally~master~Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc,openstack/rally,master,Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc,Fix ExistingCloud properties,MERGED,2016-05-23 16:57:23.000000000,2016-08-12 15:43:09.000000000,2016-08-12 15:43:09.000000000,"[{'_account_id': 3}, {'_account_id': 8491}, {'_account_id': 9545}, {'_account_id': 10475}, {'_account_id': 11748}, {'_account_id': 13995}, {'_account_id': 14817}, {'_account_id': 21928}]","[{'number': 1, 'created': '2016-05-23 16:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/11fc2361405e0ce453d188701d51cbc7d43052b3', 'message': 'Tie endpoint_type to interface\n\nKeystoneClient changed the name of variable (from endpoint_type to interface).\nOld name is ignored without warning.\nIt processes endpoint_type variable as an extra argument.\nAlso changes unit test to account for this update\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 2, 'created': '2016-06-10 13:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c9dc3a02156b2d74c922c1f61214139f313525b6', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmit ""endpoint_type"" which\nis silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be hardcoded\nto ""public"" by default(keystoneclient fails in gates with such type), so\nthis patch removes default value of endpoint_type and transmit it to kc only\nwhen it is specified.\nPossibly, it can break most of old deployments(deployments which were creted\nbefore this commit), since endpoint_type already in rally database for them.\n\nCo-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 3, 'created': '2016-06-10 13:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6497d0d4511cb69973ce88d04060d87879d41c86', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmit ""endpoint_type"" which\nis silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be hardcoded\nto ""public"" by default(keystoneclient fails in gates with such type), so\nthis patch removes default value of endpoint_type and transmit it to kc only\nwhen it is specified.\nPossibly, it can break most of old deployments(deployments which were creted\nbefore this commit), since endpoint_type already in rally database for them.\n\nCo-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 4, 'created': '2016-06-10 13:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/565112c2efee3993591c1842c1732b43de18911b', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmit ""endpoint_type"" which\nis silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be hardcoded\nto ""public"" by default(keystoneclient fails in gates with such type), so\nthis patch removes default value of endpoint_type and transmit it to kc only\nwhen it is specified.\nPossibly, it can break most of old deployments(deployments which were creted\nbefore this commit), since endpoint_type already in rally database for them.\n\nCo-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 5, 'created': '2016-06-23 16:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ae067f3b176d51a280b7ca8aa696b624873ddac0', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmit ""endpoint_type"" which\nis silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be hardcoded\nto ""public"" by default(keystoneclient fails in gates with such type), so\nthis patch removes default value of endpoint_type and transmit it to kc only\nwhen it is specified.\nPossibly, it can break most of old deployments(deployments which were creted\nbefore this commit), since endpoint_type already in rally database for them.\n\nCo-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 6, 'created': '2016-06-23 16:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d60a2f139237a53e61397da3b6fb35698fcb7a03', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmit ""endpoint_type"" which\nis silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be hardcoded\nto ""public"" by default(keystoneclient fails in gates with such type), so\nthis patch removes default value of endpoint_type and transmit it to kc only\nwhen it is specified.\nPossibly, it can break most of old deployments(deployments which were creted\nbefore this commit), since endpoint_type already in rally database for them.\n\nCo-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 7, 'created': '2016-06-23 16:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c52ef7f0f6d4936908925f287eee0b2dd3798850', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmit ""endpoint_type"" which\nis silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be hardcoded\nto ""public"" by default(keystoneclient fails in gates with such type), so\nthis patch removes default value of endpoint_type and transmit it to kc only\nwhen it is specified.\nPossibly, it can break most of old deployments(deployments which were creted\nbefore this commit), since endpoint_type already in rally database for them.\n\nCo-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 8, 'created': '2016-06-23 16:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f042ad28d84b840c696742048623f5787fcef5bf', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type\nand transmits it to kc only when it is specified.\n\nPossibly, it can break most of the old deployments (deployments\nwhich were creted before this commit), since endpoint_type is already\nin the rally database for them.\n\nCo-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 9, 'created': '2016-06-27 09:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/79097124dbf36a440b257d2c0803a6156fb3dfbe', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type\nand transmits it to kc only when it is specified.\n\nPossibly, it can break most of the old deployments (deployments\nwhich were creted before this commit), since endpoint_type is already\nin the rally database for them.\n\nCo-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 10, 'created': '2016-06-27 10:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ea40c1ca8c938df97c342eb492780f09905bbfbd', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type\nand transmits it to kc only when it is specified.\n\nPossibly, it can break most of the old deployments (deployments\nwhich were creted before this commit), since endpoint_type is already\nin the rally database for them.\n\nCo-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 11, 'created': '2016-06-29 14:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/08fbfa1f2727dc27a05c28fc9638cad3c9db054f', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type\nand transmits it to kc only when it is specified.\n\nPossibly, it can break most of the old deployments (deployments\nwhich were creted before this commit), since endpoint_type is already\nin the rally database for them.\n\nCo-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 12, 'created': '2016-07-24 12:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/769c52b0d39e0ffa392be8d61bae6f02d4bf9b7b', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 13, 'created': '2016-07-24 22:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e01ac8728f2039b8f0cff899899b84e7aa770122', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 14, 'created': '2016-07-26 15:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/591f676dd3d08633cfa0eefe21d0a26d8491cafc', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 15, 'created': '2016-08-03 15:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ea92c93e875cd589ab5d2536020e57498413b906', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 16, 'created': '2016-08-03 15:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/555491a35acf53d89ea6535ec54cd39a71909564', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 17, 'created': '2016-08-03 17:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4b237f8601e1cad38bce7ccad273dc7f177ced79', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 18, 'created': '2016-08-04 14:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/64eea498965b16e217e45bbf9f57e75f2c2fe362', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 19, 'created': '2016-08-09 15:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5dce9b1aabdf4185389213f1ec1cad435c5d12de', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 20, 'created': '2016-08-09 16:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/94e199ccadf2a270dca2ab5a1ece5d04f0e2a3bb', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 21, 'created': '2016-08-09 18:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6ebf596250338d20b0fe03c1a2fc033c9fee9781', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nAlso, this patch fixes existing deployment validation.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 22, 'created': '2016-08-09 18:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b4070855ce9229c06b9187ad07b00c670d5734c9', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nAlso, this patch fixes existing deployment validation.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 23, 'created': '2016-08-09 18:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/83bd307c2a6cd1d6482b02a716d117c8e32dcc3f', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nAlso, this patch fixes existing deployment validation.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 24, 'created': '2016-08-09 18:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/fc48e01415f03f3933437a241e7cce3427ed408c', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nAlso, this patch fixes existing deployment validation.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 25, 'created': '2016-08-09 18:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/142d019430e27fac0e8d762c95aa0a4805b60fc7', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nAlso, this patch fixes existing deployment validation.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 26, 'created': '2016-08-10 06:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a3dcc8299dce87249be84b60eabce40185ef4618', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nAlso, this patch fixes existing deployment validation.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 27, 'created': '2016-08-10 10:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/732b8a4d70394915ab647847ce07f2a61a6c033f', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nAlso, this patch fixes existing deployment validation.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 28, 'created': '2016-08-10 14:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/76a06945897ff9020293c04ba362ec8ebb3c0cfc', 'message': 'Tie endpoint_type to interface for keystone\n\nDifferent OpenStack clients have different names of endpoint_type.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter and should not be\nhardcoded to ""public"" by default (keystoneclient fails in gates with\nsuch type), so this patch removes the default value of endpoint_type and\ntransmits it to kc only when it is specified.\n\nPossibly, it can break some deployments, since behaviour of discovering\nendpoints will changed.\n\nAlso, this patch fixes existing deployment validation.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 29, 'created': '2016-08-10 14:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ef657874383b218a2f454ee3ba6b7be7ce273425', 'message': 'Fix ExistingCloud properties\n\nJSONSchema was written with mistakes and allows additional properties. It\nmeans that users were able to put what ever they want and expect that Rally\nwill work. This patch fixes config schema and adds a migration to fix known\n""wrong"" configurations.\n\nAnother part of this patch fixes usage of very important property -\nendpoint_type.\n\nDifferent OpenStack clients have different names for endpoint_type variable.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter(all clients have default\nvalue for it) and should not behardcoded to ""public"" by default\n(keystoneclient fails in gates with such type), so this patch removes the\ndefault value of endpoint_type and transmits it to kc only when\nit is specified.\n\nPossibly, this patch can break some deployments, since behaviour of discovering\nendpoints will changed, but it should not affect most of Rally users.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 30, 'created': '2016-08-10 22:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3d68b2f1899ef99d6e4da2e33b55c4a1e94e88cb', 'message': 'Fix ExistingCloud properties\n\nJSONSchema was written with mistakes and allows additional properties. It\nmeans that users were able to put what ever they want and expect that Rally\nwill work. This patch fixes config schema and adds a migration to fix known\n""wrong"" configurations.\n\nAnother part of this patch fixes usage of very important property -\nendpoint_type.\n\nDifferent OpenStack clients have different names for endpoint_type variable.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter(all clients have default\nvalue for it) and should not behardcoded to ""public"" by default\n(keystoneclient fails in gates with such type), so this patch removes the\ndefault value of endpoint_type and transmits it to kc only when\nit is specified.\n\nPossibly, this patch can break some deployments, since behaviour of discovering\nendpoints will changed, but it should not affect most of Rally users.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 31, 'created': '2016-08-11 15:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9b53bae5081b7f77c7a958987f2bcc9bedd75acc', 'message': 'Fix ExistingCloud properties\n\nJSONSchema was written with mistakes and allows additional properties. It\nmeans that users were able to put what ever they want and expect that Rally\nwill work. This patch fixes config schema and adds a migration to fix known\n""wrong"" configurations.\n\nAnother part of this patch fixes usage of very important property -\nendpoint_type.\n\nDifferent OpenStack clients have different names for endpoint_type variable.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter(all clients have default\nvalue for it) and should not behardcoded to ""public"" by default\n(keystoneclient fails in gates with such type), so this patch removes the\ndefault value of endpoint_type and transmits it to kc only when\nit is specified.\n\nPossibly, this patch can break some deployments, since behaviour of discovering\nendpoints will changed, but it should not affect most of Rally users.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 32, 'created': '2016-08-12 07:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c7907421e1c9c4668e062d7c39913719baa0d8db', 'message': 'Fix ExistingCloud properties\n\nJSONSchema was written with mistakes and allows additional properties. It\nmeans that users were able to put what ever they want and expect that Rally\nwill work. This patch fixes config schema and adds a migration to fix known\n""wrong"" configurations.\n\nAnother part of this patch fixes usage of very important property -\nendpoint_type.\n\nDifferent OpenStack clients have different names for endpoint_type variable.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter(all clients have default\nvalue for it) and should not behardcoded to ""public"" by default\n(keystoneclient fails in gates with such type), so this patch removes the\ndefault value of endpoint_type and transmits it to kc only when\nit is specified.\n\nPossibly, this patch can break some deployments, since behaviour of discovering\nendpoints will changed, but it should not affect most of Rally users.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}, {'number': 33, 'created': '2016-08-12 11:26:16.000000000', 'files': ['tests/unit/cli/commands/test_deployment.py', 'tests/unit/cli/test_envutils.py', 'tests/unit/common/db/test_migrations_base.py', 'rally/cli/envutils.py', 'rally/common/db/sqlalchemy/migrations/versions/54e844ebfbc3_update_deployment_configs.py', 'tests/unit/common/objects/test_credential.py', 'tests/unit/test_osclients.py', 'tests/unit/common/db/test_migrations.py', 'rally/deployment/engines/existing.py', 'rally/osclients.py', 'rally/common/objects/credential.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/3c6dab1571f91174437eaf8641ce87d38b9f9cc3', 'message': 'Fix ExistingCloud properties\n\nJSONSchema was written with mistakes and allows additional properties. It\nmeans that users were able to put what ever they want and expect that Rally\nwill work. This patch fixes config schema and adds a migration to fix known\n""wrong"" configurations.\n\nAnother part of this patch fixes usage of very important property -\nendpoint_type.\n\nDifferent OpenStack clients have different names for endpoint_type variable.\nKeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""\nwhich is silently ignored by kc.\n\nActually, endpoint_type is an optional parameter(all clients have default\nvalue for it) and should not behardcoded to ""public"" by default\n(keystoneclient fails in gates with such type), so this patch removes the\ndefault value of endpoint_type and transmits it to kc only when\nit is specified.\n\nPossibly, this patch can break some deployments, since behaviour of discovering\nendpoints will changed, but it should not affect most of Rally users.\n\nCo-Authored-By: Kevin Esensoy <kesensoy@cisco.com>\nCo-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>\n\nChange-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc\n'}]",1,320056,3c6dab1571f91174437eaf8641ce87d38b9f9cc3,102,8,33,21928,,,0,"Fix ExistingCloud properties

JSONSchema was written with mistakes and allows additional properties. It
means that users were able to put what ever they want and expect that Rally
will work. This patch fixes config schema and adds a migration to fix known
""wrong"" configurations.

Another part of this patch fixes usage of very important property -
endpoint_type.

Different OpenStack clients have different names for endpoint_type variable.
KeystoneClient uses ""interface"", but Rally transmits ""endpoint_type""
which is silently ignored by kc.

Actually, endpoint_type is an optional parameter(all clients have default
value for it) and should not behardcoded to ""public"" by default
(keystoneclient fails in gates with such type), so this patch removes the
default value of endpoint_type and transmits it to kc only when
it is specified.

Possibly, this patch can break some deployments, since behaviour of discovering
endpoints will changed, but it should not affect most of Rally users.

Co-Authored-By: Kevin Esensoy <kesensoy@cisco.com>
Co-Authored-By: Illia Khudoshyn <ikhudoshyn@mirantis.com>

Change-Id: Ifafff0ea8ccec7402e9882b983e5a55c1817c8cc
",git fetch https://review.opendev.org/openstack/rally refs/changes/56/320056/9 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_osclients.py', 'rally/osclients.py']",2,11fc2361405e0ce453d188701d51cbc7d43052b3,endpoint_type," kw[""interface""] = kw[""endpoint_type""]",,2,0
openstack%2Fopenstack-ansible-os_swift~master~Ic0d5c1776d8f3ac5f3b7d0fec257556ab0452bc9,openstack/openstack-ansible-os_swift,master,Ic0d5c1776d8f3ac5f3b7d0fec257556ab0452bc9,Include ansible commands for ansible linting,MERGED,2016-08-11 17:10:25.000000000,2016-08-12 15:41:14.000000000,2016-08-12 15:41:14.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2016-08-11 17:10:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/0b5919e07c88b24535dc20d69ada8362644cd8c8', 'message': 'Include ansible commands for ansible linting\n\nThe plugin repo needs to be cloned for ansible-lint to\nunderstand ansible plugins. The commands currently\nreside in tox.ini under the ansible section and are not\ncurrently included. This commit fixes that error.\n\nChange-Id: Ic0d5c1776d8f3ac5f3b7d0fec257556ab0452bc9\n'}]",0,354250,0b5919e07c88b24535dc20d69ada8362644cd8c8,11,3,1,17068,,,0,"Include ansible commands for ansible linting

The plugin repo needs to be cloned for ansible-lint to
understand ansible plugins. The commands currently
reside in tox.ini under the ansible section and are not
currently included. This commit fixes that error.

Change-Id: Ic0d5c1776d8f3ac5f3b7d0fec257556ab0452bc9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/50/354250/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0b5919e07c88b24535dc20d69ada8362644cd8c8,bp/ansible-2-1-support, {[testenv:ansible]commands},,1,0
openstack%2Fkolla~stable%2Fliberty~I0b752f179d20f82e3d6331047ee0bd802ab99a4b,openstack/kolla,stable/liberty,I0b752f179d20f82e3d6331047ee0bd802ab99a4b,Fix prechecks of a vip address,MERGED,2016-08-10 02:22:34.000000000,2016-08-12 15:38:47.000000000,2016-08-12 15:38:47.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 16233}, {'_account_id': 22582}]","[{'number': 1, 'created': '2016-08-10 02:22:34.000000000', 'files': ['ansible/roles/prechecks/tasks/port_checks.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c4d2067d2833c2db04c7f5f125c43bdf86706aee', 'message': 'Fix prechecks of a vip address\n\nIn the case of a single node environment without haproxy, the var\n""kolla_internal_vip_adress"" in global.yml should be the ip address\nof the host. However, the prechecks will fail, because this ip\naddress is used by the host node and is pingable.\n\nThis commit fixes the prechecks of a vip address properly.\nWhen the var ""enable_haproxy"" is ""no"", this fix will skip prechecks\nfor a vip address.\n\nChange-Id: I0b752f179d20f82e3d6331047ee0bd802ab99a4b\nCloses-Bug: #1570935\n(cherry picked from commit 9c69d4b2e0a8a22c3b56697b7252f17e8be84614)\n'}]",0,353221,c4d2067d2833c2db04c7f5f125c43bdf86706aee,8,4,1,22687,,,0,"Fix prechecks of a vip address

In the case of a single node environment without haproxy, the var
""kolla_internal_vip_adress"" in global.yml should be the ip address
of the host. However, the prechecks will fail, because this ip
address is used by the host node and is pingable.

This commit fixes the prechecks of a vip address properly.
When the var ""enable_haproxy"" is ""no"", this fix will skip prechecks
for a vip address.

Change-Id: I0b752f179d20f82e3d6331047ee0bd802ab99a4b
Closes-Bug: #1570935
(cherry picked from commit 9c69d4b2e0a8a22c3b56697b7252f17e8be84614)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/21/353221/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prechecks/tasks/port_checks.yml'],1,c4d2067d2833c2db04c7f5f125c43bdf86706aee,bug/1570935, when: enable_haproxy | bool when: enable_haproxy | bool,,2,0
openstack%2Fkolla~stable%2Fmitaka~I0b752f179d20f82e3d6331047ee0bd802ab99a4b,openstack/kolla,stable/mitaka,I0b752f179d20f82e3d6331047ee0bd802ab99a4b,Fix prechecks of a vip address,MERGED,2016-08-10 02:13:26.000000000,2016-08-12 15:38:39.000000000,2016-08-12 15:38:39.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 16233}]","[{'number': 1, 'created': '2016-08-10 02:13:26.000000000', 'files': ['ansible/roles/prechecks/tasks/port_checks.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/68ca8942cb1828e801540088e7de9d3dce34f23e', 'message': 'Fix prechecks of a vip address\n\nIn the case of a single node environment without haproxy, the var\n""kolla_internal_vip_adress"" in global.yml should be the ip address\nof the host. However, the prechecks will fail, because this ip\naddress is used by the host node and is pingable.\n\nThis commit fixes the prechecks of a vip address properly.\nWhen the var ""enable_haproxy"" is ""no"", this fix will skip prechecks\nfor a vip address.\n\nChange-Id: I0b752f179d20f82e3d6331047ee0bd802ab99a4b\nCloses-Bug: #1570935\n(cherry picked from commit 9c69d4b2e0a8a22c3b56697b7252f17e8be84614)\n'}]",0,353214,68ca8942cb1828e801540088e7de9d3dce34f23e,7,3,1,22687,,,0,"Fix prechecks of a vip address

In the case of a single node environment without haproxy, the var
""kolla_internal_vip_adress"" in global.yml should be the ip address
of the host. However, the prechecks will fail, because this ip
address is used by the host node and is pingable.

This commit fixes the prechecks of a vip address properly.
When the var ""enable_haproxy"" is ""no"", this fix will skip prechecks
for a vip address.

Change-Id: I0b752f179d20f82e3d6331047ee0bd802ab99a4b
Closes-Bug: #1570935
(cherry picked from commit 9c69d4b2e0a8a22c3b56697b7252f17e8be84614)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/14/353214/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prechecks/tasks/port_checks.yml'],1,68ca8942cb1828e801540088e7de9d3dce34f23e,bug/1570935, when: enable_haproxy | bool when: enable_haproxy | bool,,2,0
openstack%2Fkolla~master~I254befb427530949284f645c9d61c54331aba53a,openstack/kolla,master,I254befb427530949284f645c9d61c54331aba53a,Customizations for Kuryr,MERGED,2016-08-11 22:05:19.000000000,2016-08-12 15:38:31.000000000,2016-08-12 15:38:31.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 16233}, {'_account_id': 19316}]","[{'number': 1, 'created': '2016-08-11 22:05:19.000000000', 'files': ['docker/kuryr/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c2f6cb157350f0cf5318b27c8277783249037967', 'message': 'Customizations for Kuryr\n\nThis patchset contains customization of Dockerfile of the Kuryr\ncontainer.\n\nChange-Id: I254befb427530949284f645c9d61c54331aba53a\nPartially-implements: blueprint third-party-plugin-support\n'}]",0,354424,c2f6cb157350f0cf5318b27c8277783249037967,9,4,1,16482,,,0,"Customizations for Kuryr

This patchset contains customization of Dockerfile of the Kuryr
container.

Change-Id: I254befb427530949284f645c9d61c54331aba53a
Partially-implements: blueprint third-party-plugin-support
",git fetch https://review.opendev.org/openstack/kolla refs/changes/24/354424/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/kuryr/Dockerfile.j2'],1,c2f6cb157350f0cf5318b27c8277783249037967,bp/third-party-plugin-support,{% block kuryr_footer %}{% endblock %} {% block footer %}{% endblock %},,2,0
openstack%2Fkolla~master~I846437df7c3c417846f1c771883e5eb266b78a37,openstack/kolla,master,I846437df7c3c417846f1c771883e5eb266b78a37,Customizations for Designate,MERGED,2016-08-02 17:25:47.000000000,2016-08-12 15:37:59.000000000,2016-08-12 15:37:59.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 10419}, {'_account_id': 16233}, {'_account_id': 16482}, {'_account_id': 19316}]","[{'number': 1, 'created': '2016-08-02 17:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/50dbe3980fcc47dc791477a8e7ff271f88b4a324', 'message': 'Customizations for Designate\n\nThis patchset contains customization of Dockerfile of designate\ncontainers\n\nChange-Id: I846437df7c3c417846f1c771883e5eb266b78a37\nPartially-implements: blueprint third-party-plugin-support\nSigned-off-by: Eduardo Gonzalez <dabarren@gmail.com>\n'}, {'number': 2, 'created': '2016-08-02 17:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a22e0f9ffe30947a871709baac0cde876e4fa84e', 'message': 'Customizations for Designate\n\nThis patchset contains customization of Dockerfile of designate\ncontainers\n\nChange-Id: I846437df7c3c417846f1c771883e5eb266b78a37\nPartially-implements: blueprint third-party-plugin-support\nSigned-off-by: Eduardo Gonzalez <dabarren@gmail.com>\n'}, {'number': 3, 'created': '2016-08-11 13:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f654e2afeac2446b31362fffd19fc185bea489a7', 'message': 'Customizations for Designate\n\nThis patchset contains customization of Dockerfile of designate\ncontainers\n\nChange-Id: I846437df7c3c417846f1c771883e5eb266b78a37\nPartially-implements: blueprint third-party-plugin-support\nSigned-off-by: Eduardo Gonzalez <dabarren@gmail.com>\n'}, {'number': 4, 'created': '2016-08-11 17:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/525ecc4154bffce1cec573d58563b805f39d1732', 'message': 'Customizations for Designate\n\nThis patchset contains customization of Dockerfile of designate\ncontainers\n\nChange-Id: I846437df7c3c417846f1c771883e5eb266b78a37\nPartially-implements: blueprint third-party-plugin-support\nSigned-off-by: Eduardo Gonzalez <dabarren@gmail.com>\n'}, {'number': 5, 'created': '2016-08-12 00:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/855a8570a56489c9772d6069ebda8b116750e574', 'message': 'Customizations for Designate\n\nThis patchset contains customization of Dockerfile of designate\ncontainers\n\nChange-Id: I846437df7c3c417846f1c771883e5eb266b78a37\nPartially-implements: blueprint third-party-plugin-support\nSigned-off-by: Eduardo Gonzalez <dabarren@gmail.com>\n'}, {'number': 6, 'created': '2016-08-12 09:30:23.000000000', 'files': ['docker/designate/designate-poolmanager/Dockerfile.j2', 'docker/designate/designate-api/Dockerfile.j2', 'docker/designate/designate-mdns/Dockerfile.j2', 'docker/designate/designate-pool-manager/Dockerfile.j2', 'docker/designate/designate-backend-bind9/Dockerfile.j2', 'docker/designate/designate-central/Dockerfile.j2', 'docker/designate/designate-sink/Dockerfile.j2', 'docker/designate/designate-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d2215eab04b918dcb8f9fd80670c11540ace55ef', 'message': 'Customizations for Designate\n\nThis patchset contains customization of Dockerfile of designate\ncontainers\n\nChange-Id: I846437df7c3c417846f1c771883e5eb266b78a37\nPartially-implements: blueprint third-party-plugin-support\nSigned-off-by: Eduardo Gonzalez <dabarren@gmail.com>\n'}]",9,350172,d2215eab04b918dcb8f9fd80670c11540ace55ef,29,8,6,19316,,,0,"Customizations for Designate

This patchset contains customization of Dockerfile of designate
containers

Change-Id: I846437df7c3c417846f1c771883e5eb266b78a37
Partially-implements: blueprint third-party-plugin-support
Signed-off-by: Eduardo Gonzalez <dabarren@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/72/350172/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/designate/designate-poolmanager/Dockerfile.j2', 'docker/designate/designate-api/Dockerfile.j2', 'docker/designate/designate-mdns/Dockerfile.j2', 'docker/designate/designate-backend-bind9/Dockerfile.j2', 'docker/designate/designate-central/Dockerfile.j2', 'docker/designate/designate-base/Dockerfile.j2', 'docker/designate/designate-sink/Dockerfile.j2']",7,50dbe3980fcc47dc791477a8e7ff271f88b4a324,bp/third-party-plugin-support,"{% import ""macros.j2"" as macros with context %} {% set designate_sink_packages = [ 'openstack-designate-sink', 'python-designateclient' ] %} {% set designate_sink_packages = [ 'designate-sink', 'designateclient' ] %}RUN {{ macros.install_packages(designate_sink_packages | customizable(""packages"")) }}{% block designate_sink_footer %}{% endblock %} {% block footer %}{% endblock %}", RUN yum -y install \ openstack-designate-sink \ python-designateclient \ && yum clean all RUN apt-get -y install --no-install-recommends \ designate-sink \ designateclient \ && apt-get clean ,67,71
openstack%2Fkolla~master~I8df90dd8cd626ee01456be104ed01c4a0fe624b2,openstack/kolla,master,I8df90dd8cd626ee01456be104ed01c4a0fe624b2,Fix LVM2 in Ubuntu section in Cinder guide,MERGED,2016-08-11 10:46:15.000000000,2016-08-12 15:32:55.000000000,2016-08-12 15:32:55.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 11604}, {'_account_id': 16233}, {'_account_id': 19741}, {'_account_id': 22582}]","[{'number': 1, 'created': '2016-08-11 10:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e0b99413e249ae1712fcdca6a50747209ed9aa58', 'message': 'Fix LVM2 in Ubuntu section in Cinder guide\n\n- Fix mount option for configfs\n- Add note about open-iscsi service in Ubuntu\n\nChange-Id: I8df90dd8cd626ee01456be104ed01c4a0fe624b2\nCloses-Bug: #1612170\n'}, {'number': 2, 'created': '2016-08-12 10:15:48.000000000', 'files': ['doc/cinder-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0faf91c6eb45fa38c38fd9f7ec1515e5f8dae3dc', 'message': 'Fix LVM2 in Ubuntu section in Cinder guide\n\n- Fix mount option for configfs\n- Add note about open-iscsi service in Ubuntu\n\nChange-Id: I8df90dd8cd626ee01456be104ed01c4a0fe624b2\nCloses-Bug: #1612170\n'}]",4,353975,0faf91c6eb45fa38c38fd9f7ec1515e5f8dae3dc,14,7,2,22582,,,0,"Fix LVM2 in Ubuntu section in Cinder guide

- Fix mount option for configfs
- Add note about open-iscsi service in Ubuntu

Change-Id: I8df90dd8cd626ee01456be104ed01c4a0fe624b2
Closes-Bug: #1612170
",git fetch https://review.opendev.org/openstack/kolla refs/changes/75/353975/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/cinder-guide.rst'],1,e0b99413e249ae1712fcdca6a50747209ed9aa58,bug/1612170," - Stop ``open-iscsi`` system service due to its conflicts with iscsid container multiple ways to accomplish it, one example is using this command :: mount -t configfs /etc/rc.local /sys/kernel/config"," multiple ways to accomplish it, one example is adding this command ""mount -t configfs configfs ``/sys/kernel/config``"" to ``/etc/rc.local``",4,2
openstack%2Ffuel-octane~master~I1df0c8b28953c428e90b885c0ec63a1acb1a7476,openstack/fuel-octane,master,I1df0c8b28953c428e90b885c0ec63a1acb1a7476,Graph-based upgrade approach. Added puppet module.,MERGED,2016-07-29 15:48:00.000000000,2016-08-12 15:32:50.000000000,2016-08-12 15:29:49.000000000,"[{'_account_id': 3}, {'_account_id': 708}, {'_account_id': 1464}, {'_account_id': 1531}, {'_account_id': 6677}, {'_account_id': 7613}, {'_account_id': 8786}, {'_account_id': 12559}, {'_account_id': 12841}, {'_account_id': 13895}, {'_account_id': 14318}, {'_account_id': 14981}, {'_account_id': 16574}, {'_account_id': 18808}, {'_account_id': 19157}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-07-29 15:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/04b58692347b88f6b4b77671f593caf78c24f365', 'message': 'Alternative approach for upgrade-db step.\n\n  TBD\n\nChange-Id: I1df0c8b28953c428e90b885c0ec63a1acb1a7476\n'}, {'number': 2, 'created': '2016-08-02 15:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/f47258ce2afded57b88d60fc6fe758f3cbf9d58a', 'message': 'Alternative approach for upgrade-db step.\n\nTo use: ""octane upgrade-db --with-graph <ORIG_ID> <SEED_ID>""\n\n  - Added puppet module ""octane_tasks"".\n  - Graph files located in octane_tasks/examples.\n  - Added new function ""upgrade_db_with_graph"".\n  - PEP8 and PY27 passed\n  - TODO: Unit tests\n  - TODO: Change requires /var/www/nailgun/octane under rsyncd\n  - TODO: deployment/puppet should be in /var/www/nailgun/octane\n\nChange-Id: I1df0c8b28953c428e90b885c0ec63a1acb1a7476\n'}, {'number': 3, 'created': '2016-08-03 11:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/ec54932f912155e11f9caf2393f22749251d865c', 'message': 'Alternative approach for upgrade-db step.\n\nTo use: ""octane upgrade-db --with-graph <ORIG_ID> <SEED_ID>""\n\n  - Added puppet module ""octane_tasks"".\n  - Graph files located in octane_tasks/examples.\n  - Added new function ""upgrade_db_with_graph"".\n  - PEP8 and PY27 passed\n  - puppet-lint passed, added rspec stuff w/o tests\n  - TODO: Unit tests\n  - TODO: Change requires /var/www/nailgun/octane under rsyncd\n  - TODO: deployment/puppet should be in /var/www/nailgun/octane\n\nChange-Id: I1df0c8b28953c428e90b885c0ec63a1acb1a7476\n'}, {'number': 4, 'created': '2016-08-05 11:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/17300ca31afc832a615c413bd907fd388f109c50', 'message': 'Alternative approach for upgrade-db step.\n\nTo use: ""octane upgrade-db --with-graph <ORIG_ID> <SEED_ID>""\n\n  - Added puppet module ""octane_tasks"".\n  - Graph files located in octane_tasks/graphs.\n  - Added new function ""upgrade_db_with_graph"".\n  - PEP8 and PY27 passed\n  - puppet-lint passed, added rspec stuff w/o tests\n  - TODO: Unit tests\n  - TODO: Change requires /var/www/nailgun/octane under rsyncd\n  - TODO: deployment/puppet should be in /var/www/nailgun/octane\n\nChange-Id: I1df0c8b28953c428e90b885c0ec63a1acb1a7476\n'}, {'number': 5, 'created': '2016-08-09 14:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/93c02d647f53262345018e08bf15ab8aad1a1a92', 'message': 'Alternative approach for upgrade-db step.\n\nTo use: ""octane upgrade-db --with-graph <ORIG_ID> <SEED_ID>""\n\n  - Added puppet module ""octane_tasks"".\n  - Graph files located in octane_tasks/graphs.\n  - Added new function ""upgrade_db_with_graph"".\n  - puppet-lint passed, added rspec stuff w/o tests\n  - TODO: Unit tests\n  - TODO: Change requires /var/www/nailgun/octane under rsyncd\n  - TODO: deployment/puppet should be in /var/www/nailgun/octane\n\nChange-Id: I1df0c8b28953c428e90b885c0ec63a1acb1a7476\n'}, {'number': 6, 'created': '2016-08-10 07:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/c8dbe03d2918ec7c23638b273a8ae47b8035ba4b', 'message': 'Alternative approach for upgrade-db step.\n\nTo use: ""octane upgrade-db --with-graph <ORIG_ID> <SEED_ID>""\n\n  - Added puppet module ""octane_tasks"".\n  - Graph files located in octane_tasks/graphs.\n  - Added new function ""upgrade_db_with_graph"".\n  - puppet-lint passed, added rspec stuff w/o tests\n  - TODO: Unit tests\n  - TODO: Change requires /var/www/nailgun/octane under rsyncd\n  - TODO: deployment/puppet should be in /var/www/nailgun/octane\n\nChange-Id: I1df0c8b28953c428e90b885c0ec63a1acb1a7476\n'}, {'number': 7, 'created': '2016-08-10 12:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/a4f9020751a3583d05a251c1289879c2647be216', 'message': 'Alternative approach for upgrade-db step.\n\nTo use: ""octane upgrade-db --with-graph <ORIG_ID> <SEED_ID>""\n\n  - Added puppet module ""octane_tasks"".\n  - Graph files located in octane_tasks/graphs.\n  - Added new function ""upgrade_db_with_graph"".\n  - puppet-lint passed, added rspec stuff w/o tests\n  - TODO: Unit tests\n  - TODO: Change requires /var/www/nailgun/octane under rsyncd\n  - TODO: deployment/puppet should be in /var/www/nailgun/octane\n\nChange-Id: I1df0c8b28953c428e90b885c0ec63a1acb1a7476\n'}, {'number': 8, 'created': '2016-08-11 13:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/4957c865a28480c418ced9a8daaf25d8a90c42a5', 'message': 'Graph-based upgrade approach. Added puppet module.\n\nPart 1. Change implements upgrade-db with Fuel graphs.\n\n  - Added puppet module ""octane_tasks"".\n  - Graph files located in octane_tasks/graphs.\n  - Changed rpm spec\n\nCo-Authored-By: Pavel Chechetin <pchechetin@mirantis.com>\nChange-Id: I1df0c8b28953c428e90b885c0ec63a1acb1a7476\n'}, {'number': 9, 'created': '2016-08-12 13:21:32.000000000', 'files': ['specs/octane.spec', 'deployment/puppet/octane_tasks/Rakefile', 'deployment/puppet/octane_tasks/manifests/params.pp', 'deployment/puppet/octane_tasks/spec/fixtures/manifests/site.pp', 'deployment/puppet/octane_tasks/Gemfile', 'deployment/puppet/octane_tasks/modular/stop_controller_services.pp', 'deployment/puppet/octane_tasks/spec/fixtures/modules/octane_tasks/manifests', 'deployment/puppet/octane_tasks/graphs/orig/upgrade-db-orig.yaml', 'deployment/puppet/octane_tasks/graphs/seed/upgrade-db-seed.yaml', 'deployment/puppet/octane_tasks/modular/db_sync.pp', 'MAINTAINERS', 'deployment/puppet/octane_tasks/misc/delete_fuel_resources.py', 'deployment/puppet/octane_tasks/graphs/orig/upgrade-db-orig-rollback.yaml', 'deployment/puppet/octane_tasks/spec/spec_helper.rb', 'deployment/puppet/octane_tasks/manifests/maintenance.pp', 'deployment/puppet/octane_tasks/manifests/dbsync.pp'], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/58871626aae5312fe889badff199e828bacea963', 'message': 'Graph-based upgrade approach. Added puppet module.\n\nPart 1. Change implements upgrade-db with Fuel graphs.\n\n  - Added puppet module ""octane_tasks"".\n  - Graph files located in octane_tasks/graphs.\n  - Changed rpm spec\n\nCo-Authored-By: Pavel Chechetin <pchechetin@mirantis.com>\nChange-Id: I1df0c8b28953c428e90b885c0ec63a1acb1a7476\n'}]",47,348942,58871626aae5312fe889badff199e828bacea963,58,16,9,1464,,,0,"Graph-based upgrade approach. Added puppet module.

Part 1. Change implements upgrade-db with Fuel graphs.

  - Added puppet module ""octane_tasks"".
  - Graph files located in octane_tasks/graphs.
  - Changed rpm spec

Co-Authored-By: Pavel Chechetin <pchechetin@mirantis.com>
Change-Id: I1df0c8b28953c428e90b885c0ec63a1acb1a7476
",git fetch https://review.opendev.org/openstack/fuel-octane refs/changes/42/348942/8 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/octane_tasks/examples/start_controller_services.pp', 'deployment/puppet/octane_tasks/examples/upgrade-db-seed-rollback.yaml', 'deployment/puppet/octane_tasks/manifests/params.pp', 'deployment/puppet/octane_tasks/examples/stop_controller_services.pp', 'deployment/puppet/octane_tasks/examples/delete_fuel_resources.py', 'deployment/puppet/octane_tasks/manifests/maintenance.pp', 'deployment/puppet/octane_tasks/examples/upgrade-db-orig.yaml', 'deployment/puppet/octane_tasks/examples/upgrade-db-seed.yaml', 'deployment/puppet/octane_tasks/manifests/dbsync.pp', 'deployment/puppet/octane_tasks/examples/upgrade-db-orig-rollback.yaml', 'deployment/puppet/octane_tasks/examples/db_sync.pp']",11,04b58692347b88f6b4b77671f593caf78c24f365,alternative_upgrade_db,include ::octane_tasks::dbsync ,,333,0
openstack%2Fkolla~master~I20ce24a296ace45169131463c992f6f0e9b4d131,openstack/kolla,master,I20ce24a296ace45169131463c992f6f0e9b4d131,Customizations for OpenStack Base,MERGED,2016-08-11 21:46:51.000000000,2016-08-12 15:32:46.000000000,2016-08-12 15:32:46.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 16233}]","[{'number': 1, 'created': '2016-08-11 21:46:51.000000000', 'files': ['docker/openstack-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9b265dd1128f738bdabae5939a58295d38d1d40b', 'message': 'Customizations for OpenStack Base\n\nThis patchset contains customization of Dockerfile of the\nOpenStack Base container.\n\nChange-Id: I20ce24a296ace45169131463c992f6f0e9b4d131\nPartially-implements: blueprint third-party-plugin-support\n'}]",1,354416,9b265dd1128f738bdabae5939a58295d38d1d40b,9,3,1,16482,,,0,"Customizations for OpenStack Base

This patchset contains customization of Dockerfile of the
OpenStack Base container.

Change-Id: I20ce24a296ace45169131463c992f6f0e9b4d131
Partially-implements: blueprint third-party-plugin-support
",git fetch https://review.opendev.org/openstack/kolla refs/changes/16/354416/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,9b265dd1128f738bdabae5939a58295d38d1d40b,bp/third-party-plugin-support,"{% import ""macros.j2"" as macros with context %} {% set openstack_base_packages = [ 'git', 'iproute', 'openssl' ] %} RUN {{ macros.install_packages(openstack_base_packages) }} {% set openstack_base_packages = [ 'avahi-libs', 'cups-libs', 'fontconfig', 'fontpackages-filesystem', 'freetype', 'initscripts', 'libjpeg-turbo', 'libpng', 'libtomcrypt', 'libtommath', 'libX11', 'libX11-common', 'libXau', 'libxcb', 'libXext', 'libXi', 'libxslt', 'libyaml', 'MySQL-python', 'Percona-Server-shared-56', 'pyOpenSSL', 'pyparsing', 'python2-cffi', 'python2-crypto', 'python2-cryptography', 'python2-debtcollector', 'python2-eventlet', 'python2-fasteners', 'python2-funcsigs', 'python2-futurist', 'python2-greenlet', 'python2-iso8601', 'python2-msgpack', 'python2-oslo-concurrency', 'python2-oslo-config', 'python2-oslo-context', 'python2-oslo-db', 'python2-oslo-i18n', 'python2-oslo-log', 'python2-oslo-messaging', 'python2-oslo-middleware', 'python2-oslo-policy', 'python2-oslo-serialization', 'python2-oslo-service', 'python2-oslo-utils', 'python2-pika', 'python2-pika_pool', 'python2-positional', 'python2-pyasn1', 'python2-PyMySQL', 'python-alembic', 'python-amqp', 'python-anyjson', 'python-barbicanclient', 'python-beaker', 'python-cachetools', 'python-ceilometerclient', 'python-cliff', 'python-cmd2', 'python-congressclient', 'python-contextlib2', 'python-dateutil', 'python-decorator', 'python-designateclient', 'python-dogpile-cache', 'python-editor', 'python-enum34', 'python-extras', 'python-fixtures', 'python-futures', 'python-glanceclient', 'python-heatclient', 'python-httplib2', 'python-idna', 'python-inotify', 'python-ipaddress', 'python-ironicclient', 'python-jsonpatch', 'python-jsonpointer', 'python-jsonschema', 'python-keyring', 'python-keystoneauth1', 'python-keystoneclient', 'python-keystonemiddleware', 'python-kombu', 'python-linecache2', 'python-lxml', 'python-magnumclient', 'python-mako', 'python-manilaclient', 'python-memcached', 'python-migrate', 'python-mimeparse', 'python-mistralclient', 'python-monotonic', 'python-muranoclient', 'python-netaddr', 'python-netifaces', 'python-neutronclient', 'python-novaclient', 'python-openstackclient', 'python-paste', 'python-paste-deploy', 'python-pbr', 'python-pip', 'python-ply', 'python-posix_ipc', 'python-prettytable', 'python-pycparser', 'python-PyMySQL', 'python-repoze-lru', 'python-requests', 'python-retrying', 'python-routes', 'python-saharaclient', 'python-simplejson', 'python-sqlalchemy', 'python-sqlparse', 'python-stevedore', 'python-swiftclient', 'python-tempita', 'python-testtools', 'python-traceback2', 'python-troveclient', 'python-unicodecsv', 'python-unittest2', 'python-urllib3', 'python-warlock', 'python-webob', 'python-wrapt', 'python-zaqarclient', 'PyYAML', 'systemd-sysv', 'sysvinit-tools', 'tcp_wrappers-libs' ] %} {% set openstack_base_packages = [ 'python-barbicanclient', 'python-ceilometerclient', 'python-congressclient', 'python-designateclient', 'python-heatclient', 'python-ironicclient', 'python-magnumclient', 'python-manilaclient', 'python-memcache', 'python-mistralclient', 'python-muranoclient', 'python-pip', 'python-saharaclient', 'python-swiftclient', 'python-troveclient', 'python-zaqarclient', 'python-openstackclient', 'python-pymysql', 'python-keystoneclient', 'python-oslo.log', 'openssl', 'patch' ] %} RUN {{ macros.install_packages(openstack_base_packages | customizable(""packages"")) }} {% set openstack_base_packages = [ 'gcc', 'gcc-c++', 'libffi-devel', 'libxml2-devel', 'libxslt-devel', 'MariaDB-devel', 'openldap-devel', 'openssl-devel', 'postgresql', 'postgresql-devel', 'python-devel', 'sqlite-devel' ] %} {% set openstack_base_packages = [ 'ca-certificates', 'build-essential', 'python-dev', 'libssl-dev', 'libmariadbclient-dev', 'libxslt1-dev', 'libffi-dev', 'libyaml-dev', 'pkg-config', 'git' ] %}RUN {{ macros.install_packages(openstack_base_packages | customizable(""packages"")) }} {% block openstack_base_footer %}{% endblock %} {% block footer %}{% endblock %}",RUN yum -y install \ git \ iproute \ openssl \ && yum clean allRUN yum -y install \ avahi-libs \ cups-libs \ fontconfig \ fontpackages-filesystem \ freetype \ initscripts \ libjpeg-turbo \ libpng \ libtomcrypt \ libtommath \ libX11 \ libX11-common \ libXau \ libxcb \ libXext \ libXi \ libxslt \ libyaml \ MySQL-python \ Percona-Server-shared-56 \ pyOpenSSL \ pyparsing \ python2-cffi \ python2-crypto \ python2-cryptography \ python2-debtcollector \ python2-eventlet \ python2-fasteners \ python2-funcsigs \ python2-futurist \ python2-greenlet \ python2-iso8601 \ python2-msgpack \ python2-oslo-concurrency \ python2-oslo-config \ python2-oslo-context \ python2-oslo-db \ python2-oslo-i18n \ python2-oslo-log \ python2-oslo-messaging \ python2-oslo-middleware \ python2-oslo-policy \ python2-oslo-serialization \ python2-oslo-service \ python2-oslo-utils \ python2-pika \ python2-pika_pool \ python2-positional \ python2-pyasn1 \ python2-PyMySQL \ python-alembic \ python-amqp \ python-anyjson \ python-barbicanclient \ python-beaker \ python-cachetools \ python-ceilometerclient \ python-cliff \ python-cmd2 \ python-congressclient \ python-contextlib2 \ python-dateutil \ python-decorator \ python-designateclient \ python-dogpile-cache \ python-editor \ python-enum34 \ python-extras \ python-fixtures \ python-futures \ python-glanceclient \ python-heatclient \ python-httplib2 \ python-idna \ python-inotify \ python-ipaddress \ python-ironicclient \ python-jsonpatch \ python-jsonpointer \ python-jsonschema \ python-keyring \ python-keystoneauth1 \ python-keystoneclient \ python-keystonemiddleware \ python-kombu \ python-linecache2 \ python-lxml \ python-magnumclient \ python-mako \ python-manilaclient \ python-memcached \ python-migrate \ python-mimeparse \ python-mistralclient \ python-monotonic \ python-muranoclient \ python-netaddr \ python-netifaces \ python-neutronclient \ python-novaclient \ python-openstackclient \ python-paste \ python-paste-deploy \ python-pbr \ python-pip \ python-ply \ python-posix_ipc \ python-prettytable \ python-pycparser \ python-PyMySQL \ python-repoze-lru \ python-requests \ python-retrying \ python-routes \ python-saharaclient \ python-simplejson \ python-sqlalchemy \ python-sqlparse \ python-stevedore \ python-swiftclient \ python-tempita \ python-testtools \ python-traceback2 \ python-troveclient \ python-unicodecsv \ python-unittest2 \ python-urllib3 \ python-warlock \ python-webob \ python-wrapt \ python-zaqarclient \ PyYAML \ systemd-sysv \ sysvinit-tools \ tcp_wrappers-libs \ && yum clean all RUN apt-get -y install --no-install-recommends \ python-barbicanclient \ python-ceilometerclient \ python-congressclient \ python-designateclient \ python-heatclient \ python-ironicclient \ python-magnumclient \ python-manilaclient \ python-memcache \ python-mistralclient \ python-muranoclient \ python-pip \ python-saharaclient \ python-swiftclient \ python-troveclient \ python-zaqarclient \ python-openstackclient \ python-pymysql \ python-keystoneclient \ python-oslo.log \ openssl \ patch \ && apt-get clean RUN yum -y install \ gcc \ gcc-c++ \ libffi-devel \ libxml2-devel \ libxslt-devel \ MariaDB-devel \ openldap-devel \ openssl-devel \ postgresql \ postgresql-devel \ python-devel \ sqlite-devel \ && yum clean all RUN apt-get -y install --no-install-recommends \ ca-certificates \ build-essential \ python-dev \ libssl-dev \ libmariadbclient-dev \ libxslt1-dev \ libffi-dev \ libyaml-dev \ pkg-config \ git \ && apt-get clean ,203,198
openstack%2Fopenstack-ansible-os_aodh~master~I7136f6274a77ab83230066a69cf20c7056a490f3,openstack/openstack-ansible-os_aodh,master,I7136f6274a77ab83230066a69cf20c7056a490f3,Update required system packages for Xenial,MERGED,2016-08-11 20:49:37.000000000,2016-08-12 15:31:53.000000000,2016-08-12 15:31:53.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2016-08-11 20:49:37.000000000', 'files': ['vars/debian.yml', 'other-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/54919fe3e356b05c182999ad52e9977ce8800563', 'message': 'Update required system packages for Xenial\n\nThese system packages are required for service operation with Xenial.\n\nChange-Id: I7136f6274a77ab83230066a69cf20c7056a490f3\n'}]",0,354388,54919fe3e356b05c182999ad52e9977ce8800563,8,3,1,12807,,,0,"Update required system packages for Xenial

These system packages are required for service operation with Xenial.

Change-Id: I7136f6274a77ab83230066a69cf20c7056a490f3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/88/354388/1 && git format-patch -1 --stdout FETCH_HEAD,"['other-requirements.txt', 'vars/debian.yml']",2,54919fe3e356b05c182999ad52e9977ce8800563,add-other-requirements, - libffi-dev - libssl-dev - libxml2-dev - libxslt1-dev,,5,1
openstack%2Ffuel-qa~master~I3967c9be8aaeccf3a292a295ce180cf2b5fd64cc,openstack/fuel-qa,master,I3967c9be8aaeccf3a292a295ce180cf2b5fd64cc,Add retry to the start of VM,MERGED,2016-08-10 10:31:31.000000000,2016-08-12 15:31:11.000000000,2016-08-10 13:49:39.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 12867}, {'_account_id': 14057}, {'_account_id': 14708}, {'_account_id': 15984}, {'_account_id': 16106}, {'_account_id': 16414}, {'_account_id': 19119}]","[{'number': 1, 'created': '2016-08-10 10:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/b0f09e961812334dc0488bca34904f5f66b2c300', 'message': 'Add retry to the start of VM\n\nThe whole setup should be restarted\nto reinitialize VM resoruces.\n\nChange-Id: I3967c9be8aaeccf3a292a295ce180cf2b5fd64cc\nCloses-bug: 1587411\n'}, {'number': 2, 'created': '2016-08-10 11:09:36.000000000', 'files': ['fuelweb_test/models/environment.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/df51f7a04014f7d4243c151caa1d3bf8904c41e4', 'message': 'Add retry to the start of VM\n\nThe whole setup should be restarted\nto reinitialize VM resoruces.\n\nChange-Id: I3967c9be8aaeccf3a292a295ce180cf2b5fd64cc\nCloses-bug: 1587411\n'}]",2,353372,df51f7a04014f7d4243c151caa1d3bf8904c41e4,24,9,2,16106,,,0,"Add retry to the start of VM

The whole setup should be restarted
to reinitialize VM resoruces.

Change-Id: I3967c9be8aaeccf3a292a295ce180cf2b5fd64cc
Closes-bug: 1587411
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/72/353372/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/models/environment.py'],1,b0f09e961812334dc0488bca34904f5f66b2c300,bug/1587411,"from fuelweb_test.helpers.decorators import retry # NOTE(akostrikov) Due to fact that virtual machine in libvirt 1.x hangs # with probability less than 0,3%, we need to restart virtual machine to # reinitialize its resources. @retry(count=2, delay=0) self.d_env.destroy()",,6,0
openstack%2Fnova~master~Ie0f1e7b04cefc0d4656dce7ade81b5148f528dc5,openstack/nova,master,Ie0f1e7b04cefc0d4656dce7ade81b5148f528dc5,Ironic: report node.resource_class,MERGED,2016-07-20 22:41:43.000000000,2016-08-12 15:30:45.000000000,2016-08-12 15:30:45.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10342}, {'_account_id': 10343}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-07-20 22:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d862c3b00f45390a7096995772fd696bd4e265f0', 'message': 'Ironic: report node.resource_class\n\nBump API microversion and expose this up to the resource tracker.\n\nChange-Id: Ie0f1e7b04cefc0d4656dce7ade81b5148f528dc5\nDepends-On: Id494a8b735a3532db84d90ba21da173f7e33ed1d\nPartial-Bug: #1604916\n'}, {'number': 2, 'created': '2016-07-23 19:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f773a56561b0873d6b70b3f8f95503aeb58bc433', 'message': 'Ironic: report node.resource_class\n\nBump API microversion and expose this up to the resource tracker.\n\nChange-Id: Ie0f1e7b04cefc0d4656dce7ade81b5148f528dc5\nDepends-On: Id494a8b735a3532db84d90ba21da173f7e33ed1d\nPartial-Bug: #1604916\n'}, {'number': 3, 'created': '2016-07-29 11:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0882f8f862831350d14be702330b554d9a403243', 'message': 'Ironic: report node.resource_class\n\nBump API microversion and expose this up to the resource tracker.\n\nChange-Id: Ie0f1e7b04cefc0d4656dce7ade81b5148f528dc5\nDepends-On: Id494a8b735a3532db84d90ba21da173f7e33ed1d\nPartial-Bug: #1604916\n'}, {'number': 4, 'created': '2016-07-29 11:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b24a71a84d12dd85a20f9c3a1f922d2de4a0c6e', 'message': 'Ironic: report node.resource_class\n\nBump API microversion and expose this up to the resource tracker.\n\nChange-Id: Ie0f1e7b04cefc0d4656dce7ade81b5148f528dc5\nDepends-On: I50bcf123eecb940bb497dbff4f7aa1353feeefdf\nPartial-Bug: #1604916\n'}, {'number': 5, 'created': '2016-08-01 15:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6a7c25d29970b2e359e8b134a9b522a776b67f1', 'message': 'Ironic: report node.resource_class\n\nBump API microversion and expose this up to the resource tracker.\n\nChange-Id: Ie0f1e7b04cefc0d4656dce7ade81b5148f528dc5\nPartial-Bug: #1604916\n'}, {'number': 6, 'created': '2016-08-04 19:33:14.000000000', 'files': ['nova/virt/ironic/driver.py', 'releasenotes/notes/ironic-resource-class-6496fed067df629f.yaml', 'nova/virt/ironic/client_wrapper.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/ironic/utils.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7b8195a8a8f2ca61b97a1c4329525bed1848b09d', 'message': 'Ironic: report node.resource_class\n\nBump API microversion and expose this up to the resource tracker.\n\nChange-Id: Ie0f1e7b04cefc0d4656dce7ade81b5148f528dc5\nPartial-Bug: #1604916\n'}]",2,345082,7b8195a8a8f2ca61b97a1c4329525bed1848b09d,74,16,6,10343,,,0,"Ironic: report node.resource_class

Bump API microversion and expose this up to the resource tracker.

Change-Id: Ie0f1e7b04cefc0d4656dce7ade81b5148f528dc5
Partial-Bug: #1604916
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/345082/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/virt/ironic/client_wrapper.py', 'nova/tests/unit/virt/ironic/utils.py']",4,d862c3b00f45390a7096995772fd696bd4e265f0,bug/1604916," 'resource_class': kw.get('resource_class', '')",,7,3
openstack%2Fcharm-ceph~stable%2F16.07~Ief3fd6352b440b7740965746cd0d1d846c647f84,openstack/charm-ceph,stable/16.07,Ief3fd6352b440b7740965746cd0d1d846c647f84,Fix directory ownership as part of upgrade and restart OSD's,MERGED,2016-08-10 10:26:02.000000000,2016-08-12 15:26:20.000000000,2016-08-12 15:26:20.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20812}]","[{'number': 1, 'created': '2016-08-10 10:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph/commit/3c64ea928e7047e653f5837be30d0a0e8a132ce0', 'message': 'Fix directory ownership as part of upgrade\n\nThis change ensures that when ceph is upgraded from an\nolder version that uses root to a newer version that\nuses ceph as the process owner that all directories\nare chowned.\n\nChange-Id: Ief3fd6352b440b7740965746cd0d1d846c647f84\nCloses-Bug: 1600338\n(cherry picked from commit e1974924933a383ad35230c44fbdd4d61c7830c2)\n'}, {'number': 2, 'created': '2016-08-11 09:34:48.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_upgrade_roll.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph/commit/7f073d19b5f1f89318dc7267cf237bb3376ae6db', 'message': ""Fix directory ownership as part of upgrade and restart OSD's\n\nThis change ensures that when ceph is upgraded from an\nolder version that uses root to a newer version that\nuses ceph as the process owner that all directories\nare chowned.\n\nAs the ceph charm can also host OSD processes, ensure that\nany ceph-osd daemons are stopped and started during the\nupgrade process.\n\nChange-Id: Ief3fd6352b440b7740965746cd0d1d846c647f84\nCloses-Bug: 1600338\n(cherry picked from commit 001d890d426e86d15f7138eb243126d05b0bfa91)\n""}]",0,353370,7f073d19b5f1f89318dc7267cf237bb3376ae6db,12,3,2,935,,,0,"Fix directory ownership as part of upgrade and restart OSD's

This change ensures that when ceph is upgraded from an
older version that uses root to a newer version that
uses ceph as the process owner that all directories
are chowned.

As the ceph charm can also host OSD processes, ensure that
any ceph-osd daemons are stopped and started during the
upgrade process.

Change-Id: Ief3fd6352b440b7740965746cd0d1d846c647f84
Closes-Bug: 1600338
(cherry picked from commit 001d890d426e86d15f7138eb243126d05b0bfa91)
",git fetch https://review.opendev.org/openstack/charm-ceph refs/changes/70/353370/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_upgrade_roll.py']",2,3c64ea928e7047e653f5837be30d0a0e8a132ce0,bug/1600338," 'chownr', self.ceph.ceph_user.return_value = ""ceph"" self.chownr.assert_has_calls( [ call(group='ceph', owner='ceph', path='/var/lib/ceph') ] )",,15,1
openstack%2Fcharm-ceph~master~Ief3fd6352b440b7740965746cd0d1d846c647f84,openstack/charm-ceph,master,Ief3fd6352b440b7740965746cd0d1d846c647f84,Fix directory ownership as part of upgrade and restart OSD's,MERGED,2016-08-10 10:25:07.000000000,2016-08-12 15:25:41.000000000,2016-08-12 15:25:41.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20812}]","[{'number': 1, 'created': '2016-08-10 10:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph/commit/e1974924933a383ad35230c44fbdd4d61c7830c2', 'message': 'Fix directory ownership as part of upgrade\n\nThis change ensures that when ceph is upgraded from an\nolder version that uses root to a newer version that\nuses ceph as the process owner that all directories\nare chowned.\n\nChange-Id: Ief3fd6352b440b7740965746cd0d1d846c647f84\nCloses-Bug: 1600338\n'}, {'number': 2, 'created': '2016-08-11 09:33:21.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_upgrade_roll.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph/commit/001d890d426e86d15f7138eb243126d05b0bfa91', 'message': ""Fix directory ownership as part of upgrade and restart OSD's\n\nThis change ensures that when ceph is upgraded from an\nolder version that uses root to a newer version that\nuses ceph as the process owner that all directories\nare chowned.\n\nAs the ceph charm can also host OSD processes, ensure that\nany ceph-osd daemons are stopped and started during the\nupgrade process.\n\nChange-Id: Ief3fd6352b440b7740965746cd0d1d846c647f84\nCloses-Bug: 1600338\n""}]",0,353368,001d890d426e86d15f7138eb243126d05b0bfa91,11,3,2,935,,,0,"Fix directory ownership as part of upgrade and restart OSD's

This change ensures that when ceph is upgraded from an
older version that uses root to a newer version that
uses ceph as the process owner that all directories
are chowned.

As the ceph charm can also host OSD processes, ensure that
any ceph-osd daemons are stopped and started during the
upgrade process.

Change-Id: Ief3fd6352b440b7740965746cd0d1d846c647f84
Closes-Bug: 1600338
",git fetch https://review.opendev.org/openstack/charm-ceph refs/changes/68/353368/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_upgrade_roll.py']",2,e1974924933a383ad35230c44fbdd4d61c7830c2,bug/1600338," 'chownr', self.ceph.ceph_user.return_value = ""ceph"" self.chownr.assert_has_calls( [ call(group='ceph', owner='ceph', path='/var/lib/ceph') ] )",,15,1
openstack%2Fopenstack-ansible-os_magnum~master~I8e579d9bf450b072ed06934076c3039f26378717,openstack/openstack-ansible-os_magnum,master,I8e579d9bf450b072ed06934076c3039f26378717,Ansible 2.1.1.0 role testing,MERGED,2016-08-10 15:52:14.000000000,2016-08-12 15:21:52.000000000,2016-08-12 15:21:52.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2016-08-10 15:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/6c83e762e84b2e697bd165327d3f76ba9e2a81fe', 'message': 'Ansible 2.1.0 role testing\n\nChange-Id: I8e579d9bf450b072ed06934076c3039f26378717\n'}, {'number': 2, 'created': '2016-08-10 18:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/6dfe98cb6484caa874c1044ac70e779fe0b1de88', 'message': 'Ansible 2.1.1.0 role testing\n\nChange-Id: I8e579d9bf450b072ed06934076c3039f26378717\n'}, {'number': 3, 'created': '2016-08-11 23:28:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/f9bc8fac6dfb61ddf1849b67e873a21eb6cebab7', 'message': 'Ansible 2.1.1.0 role testing\n\nChange-Id: I8e579d9bf450b072ed06934076c3039f26378717\n'}]",0,353607,f9bc8fac6dfb61ddf1849b67e873a21eb6cebab7,12,3,3,19814,,,0,"Ansible 2.1.1.0 role testing

Change-Id: I8e579d9bf450b072ed06934076c3039f26378717
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/07/353607/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6c83e762e84b2e697bd165327d3f76ba9e2a81fe,bp/ansible-2-1-support, ansible==2.1.0, ansible==1.9.4,1,1
openstack%2Fopenstack-ansible-ops~master~I8f4c0bf3ea4366bd84b671f796cedc07e5d4db80,openstack/openstack-ansible-ops,master,I8f4c0bf3ea4366bd84b671f796cedc07e5d4db80,Add generate_requirements tool,MERGED,2016-08-01 15:46:42.000000000,2016-08-12 15:21:10.000000000,2016-08-12 15:21:10.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-01 15:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/bbd1c1bf8bb10a4d4b8d22a0cd8ad9c0a6a35496', 'message': 'Add generate_requirements tool\n\nAdding a tool for generating requirements.yml\nfiles for each Openstack-Ansible role.  This\ntool is intended to be used by maintainers of\nOpenStack-Ansible.  The goal of the generated\nrequirements.yml files to allow end users the\nability to consume roles without needing to\nuse all of OpenStack-Ansible.\n\nChange-Id: I8f4c0bf3ea4366bd84b671f796cedc07e5d4db80\n'}, {'number': 2, 'created': '2016-08-02 17:54:14.000000000', 'files': ['generate_requirements/README.rst', 'generate_requirements/generate_requirements.py', 'generate_requirements/run.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7bf237926cb13c769b6f4357cb554b7bcf6fa0f8', 'message': 'Add generate_requirements tool\n\nAdding a tool for generating requirements.yml\nfiles for each Openstack-Ansible role.  This\ntool is intended to be used by maintainers of\nOpenStack-Ansible.  The goal of the generated\nrequirements.yml files to allow end users the\nability to consume roles without needing to\nuse all of OpenStack-Ansible.\n\nChange-Id: I8f4c0bf3ea4366bd84b671f796cedc07e5d4db80\n'}]",2,349571,7bf237926cb13c769b6f4357cb554b7bcf6fa0f8,11,4,2,20038,,,0,"Add generate_requirements tool

Adding a tool for generating requirements.yml
files for each Openstack-Ansible role.  This
tool is intended to be used by maintainers of
OpenStack-Ansible.  The goal of the generated
requirements.yml files to allow end users the
ability to consume roles without needing to
use all of OpenStack-Ansible.

Change-Id: I8f4c0bf3ea4366bd84b671f796cedc07e5d4db80
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/71/349571/2 && git format-patch -1 --stdout FETCH_HEAD,"['generate_requirements/README.rst', 'generate_requirements/generate_requirements.py', 'generate_requirements/run.sh']",3,bbd1c1bf8bb10a4d4b8d22a0cd8ad9c0a6a35496,generate_requirements,"#!/bin/bash MYWD=$(pwd) if [ ! -d ""openstack-ansible"" ]; then git clone https://git.openstack.org/openstack/openstack-ansible fi cd openstack-ansible git checkout master git pull cd $MYWD python generate_requirements.py ",,153,0
openstack%2Fopenstack-ansible-apt_package_pinning~master~I877272980cadfe2c3d8eafb65df65d149e570d01,openstack/openstack-ansible-apt_package_pinning,master,I877272980cadfe2c3d8eafb65df65d149e570d01,Ansible 2.1.1 role testing,MERGED,2016-08-11 20:35:02.000000000,2016-08-12 15:20:52.000000000,2016-08-12 15:20:52.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2016-08-11 20:35:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/f4be29612e5434ec4851817de644a4bb1f922577', 'message': 'Ansible 2.1.1 role testing\n\nChange-Id: I877272980cadfe2c3d8eafb65df65d149e570d01\n'}]",0,354375,f4be29612e5434ec4851817de644a4bb1f922577,7,3,1,19814,,,0,"Ansible 2.1.1 role testing

Change-Id: I877272980cadfe2c3d8eafb65df65d149e570d01
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/75/354375/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f4be29612e5434ec4851817de644a4bb1f922577,bp/ansible-2-1-support, ansible==2.1.1 {[testenv:ansible]commands}, ansible==1.9.4,2,1
openstack%2Fopenstack-ansible-galera_client~master~Ic66e4c7d3d0cce1a1176deb31d1bb031d6e475cb,openstack/openstack-ansible-galera_client,master,Ic66e4c7d3d0cce1a1176deb31d1bb031d6e475cb,Ansible 2.1.1 role testing,MERGED,2016-08-11 20:38:53.000000000,2016-08-12 15:20:36.000000000,2016-08-12 15:20:36.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2016-08-11 20:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/7b3edc50c4217e564fe4e37faf311c70806b7deb', 'message': 'Ansible 2.1.1 role testing\n\nChange-Id: Ic66e4c7d3d0cce1a1176deb31d1bb031d6e475cb\n'}, {'number': 2, 'created': '2016-08-11 20:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/6e15d3389ccf57c168c9bf14d8d0008b83e1c570', 'message': 'Ansible 2.1.1 role testing\n\nChange-Id: Ic66e4c7d3d0cce1a1176deb31d1bb031d6e475cb\n'}, {'number': 3, 'created': '2016-08-12 01:11:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/f57f38e527bbaed67df4dc34e01a512cd5c4f4e7', 'message': 'Ansible 2.1.1 role testing\n\nChange-Id: Ic66e4c7d3d0cce1a1176deb31d1bb031d6e475cb\n'}]",0,354379,f57f38e527bbaed67df4dc34e01a512cd5c4f4e7,12,3,3,19814,,,0,"Ansible 2.1.1 role testing

Change-Id: Ic66e4c7d3d0cce1a1176deb31d1bb031d6e475cb
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/79/354379/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7b3edc50c4217e564fe4e37faf311c70806b7deb,bp/ansible-2-1-support, ansible==2.1.1, ansible==1.9.4,1,1
openstack%2Fopenstack-ansible~master~I51850148ddc0452a7c2c7923ccc09da021cb6f72,openstack/openstack-ansible,master,I51850148ddc0452a7c2c7923ccc09da021cb6f72,[DOCS] Remove ops-logging Doc,MERGED,2016-08-11 21:07:01.000000000,2016-08-12 15:20:12.000000000,2016-08-12 15:20:12.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 19814}, {'_account_id': 22778}]","[{'number': 1, 'created': '2016-08-11 21:07:01.000000000', 'files': ['doc/source/developer-docs/ops-logging.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/32b0b54be38dc7fa504e92433ea121dcdef2d15d', 'message': '[DOCS] Remove ops-logging Doc\n\nThis commit removes ops-logging.rst since the doc has been moved\nto the rsyslog roles.\nHere: https://review.openstack.org/#/c/354204/\nHere: https://review.openstack.org/#/c/354350/\n\nChange-Id: I51850148ddc0452a7c2c7923ccc09da021cb6f72\n'}]",0,354400,32b0b54be38dc7fa504e92433ea121dcdef2d15d,9,4,1,22010,,,0,"[DOCS] Remove ops-logging Doc

This commit removes ops-logging.rst since the doc has been moved
to the rsyslog roles.
Here: https://review.openstack.org/#/c/354204/
Here: https://review.openstack.org/#/c/354350/

Change-Id: I51850148ddc0452a7c2c7923ccc09da021cb6f72
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/00/354400/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/developer-docs/ops-logging.rst'],1,32b0b54be38dc7fa504e92433ea121dcdef2d15d,,,`Home <index.html>`_ OpenStack-Ansible Installation Guide =================== Centralized logging =================== OpenStack-Ansible configures all instances to send syslog data to a container (or group of containers) running rsyslog. The rsyslog server containers are specified in the ``log_hosts`` section of the ``openstack_user_config.yml`` file. The rsyslog server container(s) have logrotate installed and configured with a 14 day retention. All rotated logs are compressed by default. Finding logs ~~~~~~~~~~~~ Logs are accessible in multiple locations within an OpenStack-Ansible deployment: * The rsyslog server container collects logs in ``/var/log/log-storage`` within directories named after the container or physical host. * Each physical host has the logs from its service containers mounted at ``/openstack/log/``. * Each service container has its own logs stored at ``/var/log/<service_name>``. -------------- .. include:: navigation.txt ,0,30
openstack%2Fopenstack-ansible~stable%2Fmitaka~I9c5e13b95ea4323ae2c7ab8c8323c0c770f11d50,openstack/openstack-ansible,stable/mitaka,I9c5e13b95ea4323ae2c7ab8c8323c0c770f11d50,Fix cinder container playbook conditional,MERGED,2016-08-12 12:10:30.000000000,2016-08-12 15:20:06.000000000,2016-08-12 15:20:06.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 19814}, {'_account_id': 20038}]","[{'number': 1, 'created': '2016-08-12 12:10:30.000000000', 'files': ['playbooks/os-cinder-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/052be5f88924d43775f975664bf3b342acda960c', 'message': 'Fix cinder container playbook conditional\n\nPrevent options to be set for the container when not using lvm as a\nbackend.\n\nChange-Id: I9c5e13b95ea4323ae2c7ab8c8323c0c770f11d50\n'}]",0,354689,052be5f88924d43775f975664bf3b342acda960c,8,4,1,13095,,,0,"Fix cinder container playbook conditional

Prevent options to be set for the container when not using lvm as a
backend.

Change-Id: I9c5e13b95ea4323ae2c7ab8c8323c0c770f11d50
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/354689/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-cinder-install.yml'],1,052be5f88924d43775f975664bf3b342acda960c,fix-cinder-when-not-metal, cinder_backend_lvm_inuse | bool, cinder_backend_lvm_inuse,1,1
openstack%2Fopenstack-ansible-lxc_hosts~master~Ic78d44f209d75dd4483ccb68fa6de44b6c63e66e,openstack/openstack-ansible-lxc_hosts,master,Ic78d44f209d75dd4483ccb68fa6de44b6c63e66e,[DOCS] Create separate example playbook file,MERGED,2016-08-11 20:35:51.000000000,2016-08-12 15:19:49.000000000,2016-08-12 15:19:49.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 10607}]","[{'number': 1, 'created': '2016-08-11 20:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/8acc0d1df0810f1009bad139acdd9933be59333e', 'message': '[DOCS] Create separate example playbook file\n\nChange-Id: Ic78d44f209d75dd4483ccb68fa6de44b6c63e66e\n'}, {'number': 2, 'created': '2016-08-12 01:21:35.000000000', 'files': ['doc/source/index.rst', 'examples/playbook.yml', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/887ea608fa55f034098566f5f18049535ee8e788', 'message': '[DOCS] Create separate example playbook file\n\nChange-Id: Ic78d44f209d75dd4483ccb68fa6de44b6c63e66e\n'}]",1,354376,887ea608fa55f034098566f5f18049535ee8e788,11,4,2,12402,,,0,"[DOCS] Create separate example playbook file

Change-Id: Ic78d44f209d75dd4483ccb68fa6de44b6c63e66e
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/76/354376/1 && git format-patch -1 --stdout FETCH_HEAD,"['examples/playbook.yml', 'README.rst']",2,8acc0d1df0810f1009bad139acdd9933be59333e,bp/osa-install-guide-overhaul,======================================================Required variables,"###########################Required Variables Example Playbook ================ .. code-block:: yaml - name: Basic lxc host setup hosts: ""hosts"" user: root roles: - { role: ""lxc_hosts"" } ",8,14
openstack%2Fopenstack-ansible-openstack_openrc~master~I5cd81128951ee5694a3c438c70e60253c4cb0795,openstack/openstack-ansible-openstack_openrc,master,I5cd81128951ee5694a3c438c70e60253c4cb0795,[DOCS] Move example playbook to separate file,MERGED,2016-08-11 20:59:56.000000000,2016-08-12 15:17:37.000000000,2016-08-12 15:17:37.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 10607}]","[{'number': 1, 'created': '2016-08-11 20:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/842c8735742994b22f283a5be697268e9b308fae', 'message': '[DOCS] Move example playbook to separate file\n\nChange-Id: I5cd81128951ee5694a3c438c70e60253c4cb0795\n'}, {'number': 2, 'created': '2016-08-12 01:39:41.000000000', 'files': ['doc/source/index.rst', 'examples/playbook.yml', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/364048fec036223612431c7de1f84dddb64f88a6', 'message': '[DOCS] Move example playbook to separate file\n\nChange-Id: I5cd81128951ee5694a3c438c70e60253c4cb0795\n'}]",0,354394,364048fec036223612431c7de1f84dddb64f88a6,11,4,2,12402,,,0,"[DOCS] Move example playbook to separate file

Change-Id: I5cd81128951ee5694a3c438c70e60253c4cb0795
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/94/354394/1 && git format-patch -1 --stdout FETCH_HEAD,"['examples/playbook.yml', 'README.rst']",2,842c8735742994b22f283a5be697268e9b308fae,bp/osa-install-guide-overhaul,"========================================================== This Ansible role creates the configuration files used by various OpenStack CLI tools. For more information about these tools, see the `OpenStack CLI Reference`_.Required variablesThis role supports two tags: ``openrc-install`` and ``openrc-config``.","#############################This Ansible role creates the configuration files used by various OpenStack CLI tools. For more information about these tools, see the `OpenStack CLI Reference`_.Required VariablesExample Playbook ================ .. code-block:: yaml - name: Install openrc hosts: all user: root roles: - { role: ""openstack-ansible-openstack_openrc"", tags: [ ""openstack_openrc"" ] } vars: keystone_service_adminuri_insecure: false keystone_service_internaluri_insecure: false openrc_os_password: secrete openrc_os_domain_name: Default This role supports two tags: ``openrc-install`` and ``openrc-config``",20,25
openstack%2Fopenstack-ansible-openstack_hosts~master~Ie37cbb4917307743ab97f001c1d1d092b3b0051b,openstack/openstack-ansible-openstack_hosts,master,Ie37cbb4917307743ab97f001c1d1d092b3b0051b,[DOCS] Move playbook example to separate file,MERGED,2016-08-11 20:51:31.000000000,2016-08-12 15:17:30.000000000,2016-08-12 15:17:30.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 10607}]","[{'number': 1, 'created': '2016-08-11 20:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/af190b25010bf16e1b60b0255608be35da833f3d', 'message': '[DOCS] Move playbook example to separate file\n\nChange-Id: Ie37cbb4917307743ab97f001c1d1d092b3b0051b\n'}, {'number': 2, 'created': '2016-08-12 01:34:10.000000000', 'files': ['doc/source/index.rst', 'examples/playbook.yml', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/c6ddab4f31f012aede0f195a6bb0254c4440250d', 'message': '[DOCS] Move playbook example to separate file\n\nChange-Id: Ie37cbb4917307743ab97f001c1d1d092b3b0051b\n'}]",0,354390,c6ddab4f31f012aede0f195a6bb0254c4440250d,11,4,2,12402,,,0,"[DOCS] Move playbook example to separate file

Change-Id: Ie37cbb4917307743ab97f001c1d1d092b3b0051b
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/90/354390/1 && git format-patch -1 --stdout FETCH_HEAD,"['examples/playbook.yml', 'README.rst']",2,af190b25010bf16e1b60b0255608be35da833f3d,bp/osa-install-guide-overhaul,"================================================================== Role for basic setup and configuration of a host machine for use within OpenStack. This role tunes a host to receive OpenStack. The basic operations within the role allow it to install, setup, and tune specific kernel options that all OpenStack-powered hosts need to perform nominally. Default variablesRequired variables","################################# Role for basic setup and configuration of a host machine for the intended purpose of use within OpenStack. This role was created to tune a host to receive OpenStack. The basic operations within the role allow it to install, setup, and tune specific kernel options that all OpenStack powered hosts will need to perform nominally. Default VariablesRequired Variables Example Playbook ================ .. code-block:: yaml - name: Basic host setup hosts: ""hosts"" user: root roles: - { role: ""openstack_hosts"" } ",14,20
openstack%2Fopenstack-ansible-memcached_server~master~I70b520be283fd1dfc48708d6a00b0c3b556f0b78,openstack/openstack-ansible-memcached_server,master,I70b520be283fd1dfc48708d6a00b0c3b556f0b78,[DOCS] Move example playbook to separate file,MERGED,2016-08-11 20:42:30.000000000,2016-08-12 15:17:20.000000000,2016-08-12 15:17:20.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 10607}, {'_account_id': 12402}]","[{'number': 1, 'created': '2016-08-11 20:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/e67fcfd73fe3ddb4afe2fee9d055fd0bb13cfa35', 'message': '[DOCS] Move example playbook to separate file\n\nChange-Id: I70b520be283fd1dfc48708d6a00b0c3b556f0b78\n'}, {'number': 2, 'created': '2016-08-12 01:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/0dc82839c5318cc71c173d736807f9032951a175', 'message': '[DOCS] Move example playbook to separate file\n\nChange-Id: I70b520be283fd1dfc48708d6a00b0c3b556f0b78\n'}, {'number': 3, 'created': '2016-08-12 01:29:16.000000000', 'files': ['doc/source/index.rst', 'examples/playbook.yml', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/23cfc19a4cdb93dfccb0941a762a960502021490', 'message': '[DOCS] Move example playbook to separate file\n\nChange-Id: I70b520be283fd1dfc48708d6a00b0c3b556f0b78\n'}]",1,354382,23cfc19a4cdb93dfccb0941a762a960502021490,14,5,3,12402,,,0,"[DOCS] Move example playbook to separate file

Change-Id: I70b520be283fd1dfc48708d6a00b0c3b556f0b78
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/82/354382/2 && git format-patch -1 --stdout FETCH_HEAD,"['examples/playbook.yml', 'README.rst']",2,e67fcfd73fe3ddb4afe2fee9d055fd0bb13cfa35,bp/osa-install-guide-overhaul,================================== OpenStack-Ansible Memcached server ================================== Ansible role to install and configure Memcached. Default variablesRequired variables,"OpenStack-Ansible Memcached Server ################################## Ansible role to install and configure Memcached Default VariablesRequired Variables Example Playbook ================ .. code-block:: yaml - name: Install memcached hosts: memcached user: root roles: - { role: ""memcached_server"" } ",11,17
openstack%2Fpython-glanceclient~master~Ic7821f4fdb1b752e0c7ed2bc486299a06bf485c1,openstack/python-glanceclient,master,Ic7821f4fdb1b752e0c7ed2bc486299a06bf485c1,Fix warlock model creation,MERGED,2016-07-07 01:25:05.000000000,2016-08-12 15:15:46.000000000,2016-08-12 15:15:46.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 11356}, {'_account_id': 11391}, {'_account_id': 14676}]","[{'number': 1, 'created': '2016-07-07 01:25:05.000000000', 'files': ['glanceclient/v2/image_tags.py', 'glanceclient/tests/unit/v2/test_schemas.py', 'glanceclient/v2/images.py', 'glanceclient/v2/metadefs.py', 'glanceclient/v2/tasks.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/d7db97c92605a11e312d17cdcdd8ac363bc10924', 'message': ""Fix warlock model creation\n\nCommands like glance md-namespace-show <namespace> fail because\nof a breaking change in warlock 1.3.0's model creation factory\nmethod.\n\nWarlock introduced a new kwarg 'resolver' in model_factory method\nbut changed its position with the 'base_class' kwarg. Since we\nwere calling the model_factory method with positional arg, this\nbroke the model creation.\n\nCloses-Bug: #1596573\n\nChange-Id: Ic7821f4fdb1b752e0c7ed2bc486299a06bf485c1\n""}]",0,338630,d7db97c92605a11e312d17cdcdd8ac363bc10924,8,5,1,7575,,,0,"Fix warlock model creation

Commands like glance md-namespace-show <namespace> fail because
of a breaking change in warlock 1.3.0's model creation factory
method.

Warlock introduced a new kwarg 'resolver' in model_factory method
but changed its position with the 'base_class' kwarg. Since we
were calling the model_factory method with positional arg, this
broke the model creation.

Closes-Bug: #1596573

Change-Id: Ic7821f4fdb1b752e0c7ed2bc486299a06bf485c1
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/30/338630/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/v2/image_tags.py', 'glanceclient/tests/unit/v2/test_schemas.py', 'glanceclient/v2/images.py', 'glanceclient/v2/metadefs.py', 'glanceclient/v2/tasks.py']",5,d7db97c92605a11e312d17cdcdd8ac363bc10924,," return warlock.model_factory(schema.raw(), base_class=schemas.SchemaBasedModel)"," return warlock.model_factory(schema.raw(), schemas.SchemaBasedModel)",19,12
openstack%2Fsenlin~master~I0de590ae68a50c4c70a8736b8995f9d018f7b878,openstack/senlin,master,I0de590ae68a50c4c70a8736b8995f9d018f7b878,Throw and handle EResourceCreation properly,MERGED,2016-08-12 09:55:20.000000000,2016-08-12 15:13:23.000000000,2016-08-12 15:13:23.000000000,"[{'_account_id': 3}, {'_account_id': 8246}]","[{'number': 1, 'created': '2016-08-12 09:55:20.000000000', 'files': ['senlin/profiles/os/heat/stack.py', 'senlin/profiles/os/nova/server.py', 'senlin/tests/unit/engine/test_node.py', 'senlin/common/exception.py', 'senlin/engine/node.py', 'senlin/tests/unit/profiles/test_heat_stack.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/51a8ba12875c49146aa1a117a48ca20b690edffd', 'message': 'Throw and handle EResourceCreation properly\n\nThis patch fixes the exception handling logic when resource creation\nfails at the profile (eventually driver) layer.\n\nChange-Id: I0de590ae68a50c4c70a8736b8995f9d018f7b878\n'}]",0,354625,51a8ba12875c49146aa1a117a48ca20b690edffd,6,2,1,8246,,,0,"Throw and handle EResourceCreation properly

This patch fixes the exception handling logic when resource creation
fails at the profile (eventually driver) layer.

Change-Id: I0de590ae68a50c4c70a8736b8995f9d018f7b878
",git fetch https://review.opendev.org/openstack/senlin refs/changes/25/354625/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/os/heat/stack.py', 'senlin/profiles/os/nova/server.py', 'senlin/tests/unit/engine/test_node.py', 'senlin/common/exception.py', 'senlin/engine/node.py', 'senlin/tests/unit/profiles/test_heat_stack.py']",6,51a8ba12875c49146aa1a117a48ca20b690edffd,rework-exception-5," stack_node = mock.Mock() stack_node.name = 'test_stack' ex = self.assertRaises(exception.EResourceCreation, profile.do_create, stack_node) self.assertEqual('Failed in creating stack: Too Bad.', six.text_type(ex)) stack_node = mock.Mock() stack_node.name = 'test_stack' ex = self.assertRaises(exception.EResourceCreation, profile.do_create, stack_node) self.assertEqual('Failed in creating stack: Timeout.', six.text_type(ex))", test_stack = mock.Mock() test_stack.name = 'test_stack' res = profile.do_create(test_stack) self.assertIsNone(res) test_stack = mock.Mock() test_stack.name = 'test_stack' res = profile.do_create(test_stack) self.assertIsNone(res),65,77
openstack%2Fcharm-heat~master~I811f0a91e1ff9a6d95e80a4a40be063d7d047c7e,openstack/charm-heat,master,I811f0a91e1ff9a6d95e80a4a40be063d7d047c7e,modified the heat charm to accomodate the workers-mutiplier option,MERGED,2016-08-11 17:11:05.000000000,2016-08-12 15:07:47.000000000,2016-08-12 15:07:47.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2016-08-11 17:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/39771656830b312f5ba3fabc3ac37a0671ef6a3c', 'message': 'modified the heat charm to accomodate the workers-mutiplier option\n\nChange-Id: I811f0a91e1ff9a6d95e80a4a40be063d7d047c7e\n'}, {'number': 2, 'created': '2016-08-11 22:58:00.000000000', 'files': ['templates/icehouse/heat.conf', 'hooks/heat_utils.py', 'config.yaml', 'templates/liberty/heat.conf', 'templates/kilo/heat.conf', 'templates/mitaka/heat.conf'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/93045f31241997d6fddc466d854626b030e72336', 'message': 'modified the heat charm to accomodate the workers-mutiplier option\n\nHeat charm was missing this functionality and this patch is to add\nthis feature. We were trying to deploy this charm in a lxc\ncontainer on a host machine with 72 cores. In end up creating 144\nprocess with heat-engine and heat-api.\n\nThis patch will provide the option to limit the number of worker\nprocess in case of high number of cores in a host.\n\nEnable it for icehouse, kilo, liberty and mitaka.\n\nChange-Id: I811f0a91e1ff9a6d95e80a4a40be063d7d047c7e\n'}]",0,354255,93045f31241997d6fddc466d854626b030e72336,13,3,2,20828,,,0,"modified the heat charm to accomodate the workers-mutiplier option

Heat charm was missing this functionality and this patch is to add
this feature. We were trying to deploy this charm in a lxc
container on a host machine with 72 cores. In end up creating 144
process with heat-engine and heat-api.

This patch will provide the option to limit the number of worker
process in case of high number of cores in a host.

Enable it for icehouse, kilo, liberty and mitaka.

Change-Id: I811f0a91e1ff9a6d95e80a4a40be063d7d047c7e
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/55/354255/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/heat_utils.py', 'config.yaml', 'templates/mitaka/heat.conf']",3,39771656830b312f5ba3fabc3ac37a0671ef6a3c,,num_engine_workers = {{ workers }}workers = {{ workers }}workers = {{ workers }},,11,0
openstack%2Fopenstack-ansible-os_tempest~master~I0f850b7e835bc3e93adb5b0e6e22b6e3e6ba0ac0,openstack/openstack-ansible-os_tempest,master,I0f850b7e835bc3e93adb5b0e6e22b6e3e6ba0ac0,Remove duplicate line from tempest.conf.j2,MERGED,2016-08-12 02:27:05.000000000,2016-08-12 15:06:52.000000000,2016-08-12 15:06:52.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 12402}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-12 02:27:05.000000000', 'files': ['templates/tempest.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/118b467eb8cce73217e62f6314732557cd109c7c', 'message': ""Remove duplicate line from tempest.conf.j2\n\nThe line 'use_stderr = False' appeared twice in the\ntempest.conf.j2 config file template.\n\nThis change removes the second entry.\n\nChange-Id: I0f850b7e835bc3e93adb5b0e6e22b6e3e6ba0ac0\n""}]",0,354484,118b467eb8cce73217e62f6314732557cd109c7c,10,4,1,20038,,,0,"Remove duplicate line from tempest.conf.j2

The line 'use_stderr = False' appeared twice in the
tempest.conf.j2 config file template.

This change removes the second entry.

Change-Id: I0f850b7e835bc3e93adb5b0e6e22b6e3e6ba0ac0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/84/354484/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/tempest.conf.j2'],1,118b467eb8cce73217e62f6314732557cd109c7c,config-file-fix,,use_stderr = false,0,1
openstack%2Fsenlin~master~I9c483ab4d2f48ccce23ffdeba86168ed7a93b42b,openstack/senlin,master,I9c483ab4d2f48ccce23ffdeba86168ed7a93b42b,Rework constructor of InternalError exception,MERGED,2016-08-12 09:07:35.000000000,2016-08-12 15:05:29.000000000,2016-08-12 15:05:28.000000000,"[{'_account_id': 3}, {'_account_id': 8246}]","[{'number': 1, 'created': '2016-08-12 09:07:35.000000000', 'files': ['senlin/profiles/os/heat/stack.py', 'senlin/common/exception.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/fec6955dea2121ea882b39dd34f0e3a962711d66', 'message': 'Rework constructor of InternalError exception\n\nChange-Id: I9c483ab4d2f48ccce23ffdeba86168ed7a93b42b\n'}]",0,354601,fec6955dea2121ea882b39dd34f0e3a962711d66,6,2,1,8246,,,0,"Rework constructor of InternalError exception

Change-Id: I9c483ab4d2f48ccce23ffdeba86168ed7a93b42b
",git fetch https://review.opendev.org/openstack/senlin refs/changes/01/354601/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/os/heat/stack.py', 'senlin/common/exception.py']",2,fec6955dea2121ea882b39dd34f0e3a962711d66,rework-exception-4," """"""Base Senlin Exception. To correctly use this class, inherit from it and define a 'msg_fmt' property. That msg_fmt will get printed with the keyword arguments provided to the constructor. """""" """"""A base class for internal exceptions in senlin. """""" msg_fmt = _(""%(message)s"") message = _('Internal error happened') self.code = kwargs.pop('code', 500) self.message = kwargs.pop('message', self.message) super(InternalError, self).__init__( code=self.code, message=self.message, **kwargs)"," '''Base Senlin Exception. To correctly use this class, inherit from it and define a 'msg_fmt' property. That msg_fmt will get printf'd with the keyword arguments provided to the constructor. ''' '''A base class for internal exceptions in senlin. ''' msg_fmt = _('ERROR %(code)s happens for %(message)s.') message = _('Internal error happens') super(InternalError, self).__init__(**kwargs) if 'code' in kwargs: self.code = kwargs.get('code', 500) self.message = kwargs.get('message', self.message)",20,21
openstack%2Ftripleo-quickstart~master~Ib50837db5f85cca117684949299069843242873f,openstack/tripleo-quickstart,master,Ib50837db5f85cca117684949299069843242873f,"rst format, rather than markdown. Change-Id: Ib50837db5f85cca117684949299069843242873f",ABANDONED,2016-08-12 13:41:05.000000000,2016-08-12 15:04:36.000000000,,"[{'_account_id': 7338}, {'_account_id': 10022}, {'_account_id': 11491}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-08-12 13:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/48b088ec50c74d818688d5f43ae3d048829e8916', 'message': 'rst format, rather than markdown.\n\nChange-Id: Ib50837db5f85cca117684949299069843242873f\n'}, {'number': 2, 'created': '2016-08-12 14:22:15.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6711b82159e36fdb3cf48b7c4c568482e557f57d', 'message': 'rst format, rather than markdown.\nChange-Id: Ib50837db5f85cca117684949299069843242873f\n'}]",1,354728,6711b82159e36fdb3cf48b7c4c568482e557f57d,8,4,2,7338,,,0,"rst format, rather than markdown.
Change-Id: Ib50837db5f85cca117684949299069843242873f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/28/354728/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,48b088ec50c74d818688d5f43ae3d048829e8916,,Additional documentation is available in the ``docs/`` directory.,Additional documentation is available in the [docs/](docs/) directory.,1,1
openstack%2Fmanila~stable%2Fmitaka~Ic56c49c6ca0066a97dcffc6b068dba7320728984,openstack/manila,stable/mitaka,Ic56c49c6ca0066a97dcffc6b068dba7320728984,TrivialFix: Fix a wrong order bug in resource_cleanup(),MERGED,2016-08-08 01:50:50.000000000,2016-08-12 14:57:04.000000000,2016-08-12 14:57:04.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 8851}, {'_account_id': 9003}, {'_account_id': 13998}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 21309}]","[{'number': 1, 'created': '2016-08-08 01:50:50.000000000', 'files': ['manila_tempest_tests/tests/api/base.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/1dfebf0c4e80b35881e93aa3f50012460e7a9cfc', 'message': 'TrivialFix: Fix a wrong order bug in resource_cleanup()\n\nSuper class resource_cleanup method should be called\nafter class resource cleanup method(s).\n\nChange-Id: Ic56c49c6ca0066a97dcffc6b068dba7320728984\n(cherry picked from commit 26de94a0e09e77bf008b9333a38264270a92742c)\n'}]",0,352183,1dfebf0c4e80b35881e93aa3f50012460e7a9cfc,20,8,1,16643,,,0,"TrivialFix: Fix a wrong order bug in resource_cleanup()

Super class resource_cleanup method should be called
after class resource cleanup method(s).

Change-Id: Ic56c49c6ca0066a97dcffc6b068dba7320728984
(cherry picked from commit 26de94a0e09e77bf008b9333a38264270a92742c)
",git fetch https://review.opendev.org/openstack/manila refs/changes/83/352183/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/base.py'],1,1dfebf0c4e80b35881e93aa3f50012460e7a9cfc,TrivialFix," super(BaseSharesTest, cls).resource_cleanup()"," super(BaseSharesTest, cls).resource_cleanup()",1,1
openstack%2Fmanila~master~I702460a4535eab6ee6719a06f60c6f47daa3b199,openstack/manila,master,I702460a4535eab6ee6719a06f60c6f47daa3b199,TrivialFix: Change LOG.warn to LOG.warning,MERGED,2016-08-11 15:31:32.000000000,2016-08-12 14:56:58.000000000,2016-08-12 14:56:58.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 11047}, {'_account_id': 11865}, {'_account_id': 14232}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 16917}]","[{'number': 1, 'created': '2016-08-11 15:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bcacafb4850c76ff254f359f48ac4644b0e5e06b', 'message': 'Change LOG.warn to LOG.warning\n\nlogging.warn is deprecated in Python 3.\nhttps://docs.python.org/3/library/logging.html#logging.warning\n\nChange-Id: I702460a4535eab6ee6719a06f60c6f47daa3b199\n'}, {'number': 2, 'created': '2016-08-11 16:05:49.000000000', 'files': ['manila/common/client_auth.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/c2bf4615c77ddc47c023f4674af3678e4339df64', 'message': 'TrivialFix: Change LOG.warn to LOG.warning\n\nlogging.warn is deprecated in Python 3.\nhttps://docs.python.org/3/library/logging.html#logging.warning\n\nChange-Id: I702460a4535eab6ee6719a06f60c6f47daa3b199\n'}]",1,354161,c2bf4615c77ddc47c023f4674af3678e4339df64,27,11,2,21797,,,0,"TrivialFix: Change LOG.warn to LOG.warning

logging.warn is deprecated in Python 3.
https://docs.python.org/3/library/logging.html#logging.warning

Change-Id: I702460a4535eab6ee6719a06f60c6f47daa3b199
",git fetch https://review.opendev.org/openstack/manila refs/changes/61/354161/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/common/client_auth.py'],1,bcacafb4850c76ff254f359f48ac4644b0e5e06b,LOG.warning," LOG.warning(_LW(""Not specifying auth options is deprecated""))"," LOG.warn(_LW(""Not specifying auth options is deprecated""))",1,1
openstack%2Fshade~master~I86f090e8f3bbd3ac57e221df6629c6e008c99aa8,openstack/shade,master,I86f090e8f3bbd3ac57e221df6629c6e008c99aa8,Protect cinderclient import,MERGED,2016-08-12 12:29:38.000000000,2016-08-12 14:56:39.000000000,2016-08-12 14:56:39.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}]","[{'number': 1, 'created': '2016-08-12 12:29:38.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/71a7058a2d9764eb5fe33ae1400a18c8d1581bce', 'message': 'Protect cinderclient import\n\nImporting cinderclient breaks logging setups. Luckily, we only need it\nin one function, so late-import it.\n\nChange-Id: I86f090e8f3bbd3ac57e221df6629c6e008c99aa8\n'}]",0,354697,71a7058a2d9764eb5fe33ae1400a18c8d1581bce,7,3,1,2,,,0,"Protect cinderclient import

Importing cinderclient breaks logging setups. Luckily, we only need it
in one function, so late-import it.

Change-Id: I86f090e8f3bbd3ac57e221df6629c6e008c99aa8
",git fetch https://review.opendev.org/openstack/shade refs/changes/97/354697/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,71a7058a2d9764eb5fe33ae1400a18c8d1581bce,cleanup-logging, # Import cinderclient late because importing it at the top level # breaks logging for users of shade import cinderclient.client,import cinderclient.client,3,1
openstack%2Fshade~master~Ibc751703b1aa37cfbd6f95adbafb97ff12b7d5e6,openstack/shade,master,Ibc751703b1aa37cfbd6f95adbafb97ff12b7d5e6,Do not instantiate logging on import,MERGED,2016-08-12 11:51:46.000000000,2016-08-12 14:56:33.000000000,2016-08-12 14:56:33.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}]","[{'number': 1, 'created': '2016-08-12 11:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/8c80fd56432395fd9d7786637e104dfc576f7a5b', 'message': 'Do not instantiate logging on import\n\nIf we run setup_logging in the file context, it runs setup things for\nloggers. That can cause unintended consequences in consuming programs.\n\nChange-Id: Ibc751703b1aa37cfbd6f95adbafb97ff12b7d5e6\n'}, {'number': 2, 'created': '2016-08-12 12:24:49.000000000', 'files': ['shade/_utils.py', 'shade/meta.py', 'shade/exc.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/cca0fb3e0a1e28cef819505870f8609759b17698', 'message': 'Do not instantiate logging on import\n\nIf we run setup_logging in the file context, it runs setup things for\nloggers. That can cause unintended consequences in consuming programs.\n\nChange-Id: Ibc751703b1aa37cfbd6f95adbafb97ff12b7d5e6\n'}]",0,354674,cca0fb3e0a1e28cef819505870f8609759b17698,8,3,2,2,,,0,"Do not instantiate logging on import

If we run setup_logging in the file context, it runs setup things for
loggers. That can cause unintended consequences in consuming programs.

Change-Id: Ibc751703b1aa37cfbd6f95adbafb97ff12b7d5e6
",git fetch https://review.opendev.org/openstack/shade refs/changes/74/354674/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/meta.py', 'shade/exc.py']",2,8c80fd56432395fd9d7786637e104dfc576f7a5b,cleanup-logging," def log_error(self, logger=None): if not logger: logger = _log.setup_logging(__name__)","log = _log.setup_logging(__name__) def log_error(self, logger=log):",3,6
openstack%2Ftrove~master~I084c841472183893a63ca7b70d560f44a2f08901,openstack/trove,master,I084c841472183893a63ca7b70d560f44a2f08901,"guest_id missing err, switch config_drive default",MERGED,2016-08-06 00:20:35.000000000,2016-08-12 14:55:06.000000000,2016-08-12 14:55:06.000000000,"[{'_account_id': 3}, {'_account_id': 4240}, {'_account_id': 5293}, {'_account_id': 9664}, {'_account_id': 9750}, {'_account_id': 10215}, {'_account_id': 10295}, {'_account_id': 18225}, {'_account_id': 23062}]","[{'number': 1, 'created': '2016-08-06 00:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f3480359d8cdce31047bc42cdd131eea84b27278', 'message': 'guest_id missing err, switch config_drive default\n\nThis changes the default setting for use_nova_server_config_drive\nfrom False to True. By default, nova does not use a config\ndrive for launched instances. Therefore trove must implicitly\nrequest the config drive be used so that it can inject\nguest_info.conf into the guest VM.\n\nThis commit also adds an error to guestagent when guest_id\nis missing. If the guest_id configuration parameter is not\nset at guestagent startup it will throw a RuntimeError. This\ncase typically occurs because guest_info.conf was\nnot injected into the guest, or was not included in the set\nof configs that guestagent reads at startup.\n\nChange-Id: I084c841472183893a63ca7b70d560f44a2f08901\nPartial-Bug: 1609915\n'}, {'number': 2, 'created': '2016-08-06 18:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c07cc9aae2beab4d3401ef20ae19f68a983df316', 'message': ""guest_id missing err, switch config_drive default\n\nThis changes the default setting for use_nova_server_config_drive\nfrom False to True. By default, nova does not use a config\ndrive for launched instances. Therefore trove must implicitly\nrequest the config drive be used so that it can inject\nguest_info.conf into the guest VM.\n\nThis commit also adds an error to guestagent when guest_id\nis missing. If the guest_id configuration parameter is not\nset at guestagent startup it will throw a RuntimeError. This\ncase typically occurs because guest_info.conf was\nnot injected into the guest, or was not included in the set\nof configs that guestagent reads at startup.\n\nAnd finally, this commit adds a section in the 'building guest\nimages' documentation describing how configuration is injected\ninto the guest agent.\n\nChange-Id: I084c841472183893a63ca7b70d560f44a2f08901\nPartial-Bug: 1609915\n""}, {'number': 3, 'created': '2016-08-06 21:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b5cda422b5c2121ec6c1b341aaabe4ed9fb85bf0', 'message': ""guest_id missing err, switch config_drive default\n\nThis changes the default setting for use_nova_server_config_drive\nfrom False to True. By default, nova does not use a config\ndrive for launched instances. Therefore trove must implicitly\nrequest the config drive be used so that it can inject\nguest_info.conf into the guest VM.\n\nThis commit also adds an error to guestagent when guest_id\nis missing. If the guest_id configuration parameter is not\nset at guestagent startup it will throw a RuntimeError. This\ncase typically occurs because guest_info.conf was\nnot injected into the guest, or was not included in the set\nof configs that guestagent reads at startup.\n\nAnd finally, this commit adds a section in the 'building guest\nimages' documentation describing how configuration is injected\ninto the guest agent.\n\nChange-Id: I084c841472183893a63ca7b70d560f44a2f08901\nPartial-Bug: 1609915\n""}, {'number': 4, 'created': '2016-08-06 22:16:33.000000000', 'files': ['trove/common/cfg.py', 'etc/trove/trove-taskmanager.conf.sample', 'doc/source/dev/building_guest_images.rst', 'trove/cmd/guest.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/f7b8805c3aed5b5cef01176cc1d9136bd31125fb', 'message': ""guest_id missing err, switch config_drive default\n\nThis changes the default setting for use_nova_server_config_drive\nfrom False to True. By default, nova does not use a config\ndrive for launched instances. Therefore trove must implicitly\nrequest the config drive be used so that it can inject\nguest_info.conf into the guest VM.\n\nThis commit also adds an error to guestagent when guest_id\nis missing. If the guest_id configuration parameter is not\nset at guestagent startup it will throw a RuntimeError. This\ncase typically occurs because guest_info.conf was\nnot injected into the guest, or was not included in the set\nof configs that guestagent reads at startup.\n\nAnd finally, this commit adds a section in the 'building guest\nimages' documentation describing how configuration is injected\ninto the guest agent.\n\nChange-Id: I084c841472183893a63ca7b70d560f44a2f08901\nPartial-Bug: 1609915\n""}]",3,351958,f7b8805c3aed5b5cef01176cc1d9136bd31125fb,22,9,4,23062,,,0,"guest_id missing err, switch config_drive default

This changes the default setting for use_nova_server_config_drive
from False to True. By default, nova does not use a config
drive for launched instances. Therefore trove must implicitly
request the config drive be used so that it can inject
guest_info.conf into the guest VM.

This commit also adds an error to guestagent when guest_id
is missing. If the guest_id configuration parameter is not
set at guestagent startup it will throw a RuntimeError. This
case typically occurs because guest_info.conf was
not injected into the guest, or was not included in the set
of configs that guestagent reads at startup.

And finally, this commit adds a section in the 'building guest
images' documentation describing how configuration is injected
into the guest agent.

Change-Id: I084c841472183893a63ca7b70d560f44a2f08901
Partial-Bug: 1609915
",git fetch https://review.opendev.org/openstack/trove refs/changes/58/351958/4 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/cfg.py', 'trove/cmd/guest.py']",2,f3480359d8cdce31047bc42cdd131eea84b27278,bug/1609915," if not CONF.guest_id: msg = (""The guest_id parameter is not set. guest_info.conf "" ""was not injected into the guest or not read by guestagent"") raise RuntimeError(msg) ",,6,1
openstack%2Fopenstack-ansible-os_magnum~master~I104ee25bd12f25eb3c88f1e1cb6860058e2154e4,openstack/openstack-ansible-os_magnum,master,I104ee25bd12f25eb3c88f1e1cb6860058e2154e4,[DOCS] Move example playbook to separate file,MERGED,2016-08-12 02:00:04.000000000,2016-08-12 14:49:17.000000000,2016-08-12 14:49:17.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 14805}]","[{'number': 1, 'created': '2016-08-12 02:00:04.000000000', 'files': ['doc/source/index.rst', 'examples/playbook.yml', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/faf032a896be0c85a1628d494106421b2be2a898', 'message': '[DOCS] Move example playbook to separate file\n\nChange-Id: I104ee25bd12f25eb3c88f1e1cb6860058e2154e4\n'}]",0,354480,faf032a896be0c85a1628d494106421b2be2a898,8,3,1,12402,,,0,"[DOCS] Move example playbook to separate file

Change-Id: I104ee25bd12f25eb3c88f1e1cb6860058e2154e4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/80/354480/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'examples/playbook.yml', 'README.rst']",3,faf032a896be0c85a1628d494106421b2be2a898,bp/osa-install-guide-overhaul,================================================ Ansible role that installs and configures OpenStack Magnum.,"######################## Ansible role that installs and configures OpenStack Magnum. Magnum is installed behind the Apache webserver listening on port 9511 by default. .. literalinclude:: ../../defaults/main.yml :language: yaml :start-after: under the License. Required Variables ================== This list is not exhaustive at present. See role internals for further details. .. code-block:: yaml # Magnum TCP listening port magnum_service_port: 9511 # Magnum service protocol http or https magnum_service_proto: http # Magnum Galera address of internal load balancer magnum_galera_address: ""{{ internal_lb_vip_address }}"" # Magnum Galera database name magnum_galera_database_name: magnum_service # Magnum Galera username magnum_galera_user: magnum # Magnum rabbit userid magnum_rabbitmq_userid: magnum # Magnum rabbit vhost magnum_rabbitmq_vhost: /magnum Example Playbook ================ .. code-block:: yaml - name: Install magnum server hosts: magnum_all user: root roles: - { role: ""os_magnum"", tags: [ ""os-magnum"" ] } vars: magnum_galera_address: ""{{ internal_lb_vip_address }}"" magnum_galera_database_name: magnum_service magnum_galera_user: magnum magnum_rabbitmq_userid: magnum magnum_rabbitmq_vhost: /magnum ansible_hostname: ""{{ container_name }}"" is_metal: ""{{ properties.is_metal|default(false) }}"" Tags ==== This role supports two tags: ``magnum-install`` and ``magnum-config``. The ``magnum-install`` tag can be used to install and upgrade. The ``magnum-config`` tag can be used to maintain configuration of the service.",68,66
openstack%2Fdevstack~master~I565ed6e20c553612b831e0ece04134751b87e11e,openstack/devstack,master,I565ed6e20c553612b831e0ece04134751b87e11e,Add osc-lib and os-client-config to stackrc,ABANDONED,2016-08-12 14:38:25.000000000,2016-08-12 14:45:34.000000000,,[],"[{'number': 1, 'created': '2016-08-12 14:38:25.000000000', 'files': ['tests/test_libs_from_pypi.sh', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3f9a990e734fedd71a7d1df098c0f1115d336fa5', 'message': 'Add osc-lib and os-client-config to stackrc\n\nChange-Id: I565ed6e20c553612b831e0ece04134751b87e11e\n'}]",0,354754,3f9a990e734fedd71a7d1df098c0f1115d336fa5,2,0,1,970,,,0,"Add osc-lib and os-client-config to stackrc

Change-Id: I565ed6e20c553612b831e0ece04134751b87e11e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/54/354754/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_libs_from_pypi.sh', 'stackrc']",2,3f9a990e734fedd71a7d1df098c0f1115d336fa5,add-osc-lib,"# os-client-config to manage clouds.yaml and friends GITREPO[""os-client-config""]=${OS_CLIENT_CONFIG_REPO:-${GIT_BASE}/openstack/os-client-config.git} GITBRANCH[""os-client-config""]=${OS_CLIENT_CONFIG_BRANCH:-master} # osc-lib OpenStackClient common lib GITREPO[""osc-lib""]=${OSC_LIB_REPO:-${GIT_BASE}/openstack/osc-lib.git} GITBRANCH[""osc-lib""]=${OSC_LIB_BRANCH:-master} ",,10,2
openstack%2Fopenstack-ansible-os_aodh~master~I94e7d461376a8032a76ea34b57190077a60a0fb5,openstack/openstack-ansible-os_aodh,master,I94e7d461376a8032a76ea34b57190077a60a0fb5,Allow Aodh to use Gnocchi as a source for alarms,MERGED,2016-08-12 05:22:18.000000000,2016-08-12 14:45:23.000000000,2016-08-12 14:45:23.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-12 05:22:18.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/3fe0992aca0159bb235dd4f26b952d1759956e0a', 'message': 'Allow Aodh to use Gnocchi as a source for alarms\n\nChange-Id: I94e7d461376a8032a76ea34b57190077a60a0fb5\n'}]",0,354533,3fe0992aca0159bb235dd4f26b952d1759956e0a,7,3,1,12807,,,0,"Allow Aodh to use Gnocchi as a source for alarms

Change-Id: I94e7d461376a8032a76ea34b57190077a60a0fb5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/33/354533/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,3fe0992aca0159bb235dd4f26b952d1759956e0a,use-gnocchi, - gnocchiclient,,1,0
openstack%2Fhorizon~master~I38536cba76185ee4f4cfcbfc4eb513c0c3ace623,openstack/horizon,master,I38536cba76185ee4f4cfcbfc4eb513c0c3ace623,Imported Translations from Zanata,MERGED,2016-08-10 11:16:57.000000000,2016-08-12 14:42:46.000000000,2016-08-12 14:42:46.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 6914}]","[{'number': 1, 'created': '2016-08-10 11:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7e7ea77c833d500e3f2f1b3c3af1e866c46dbbaa', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I38536cba76185ee4f4cfcbfc4eb513c0c3ace623\n'}, {'number': 2, 'created': '2016-08-11 08:33:03.000000000', 'files': ['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/fr/LC_MESSAGES/djangojs.po', 'horizon/locale/fr/LC_MESSAGES/django.po', 'horizon/locale/fr/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'horizon/locale/ja/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9814461c871412ce771b7cd2cc8642a7c9f9b7f6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I38536cba76185ee4f4cfcbfc4eb513c0c3ace623\n'}]",0,353387,9814461c871412ce771b7cd2cc8642a7c9f9b7f6,9,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I38536cba76185ee4f4cfcbfc4eb513c0c3ace623
",git fetch https://review.opendev.org/openstack/horizon refs/changes/87/353387/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/fr/LC_MESSAGES/djangojs.po', 'horizon/locale/fr/LC_MESSAGES/django.po', 'horizon/locale/fr/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po']",5,7e7ea77c833d500e3f2f1b3c3af1e866c46dbbaa,zanata/translations,"""PO-Revision-Date: 2016-08-09 12:06+0000\n""msgctxt ""Current status of an IPSec Site Connection and VPN Service"" msgid ""Active"" msgstr """" msgid ""Admin State is UP (True) by default."" msgstr ""UP"" msgid ""All fields are optional."" msgstr """" msgid ""At least one volume type must be assigned to a consistency group."" msgstr """" msgid ""Attach Volume to Running Instance."" msgstr """" msgid ""Attach a Volume"" msgstr """" msgid ""Auth algorithm limited to SHA1 only."" msgstr ""SHA1"" msgid """" ""Change the volume type of a volume after its creation. This is equivalent to "" ""the <tt>cinder retype</tt> command."" msgstr ""<tt>cinder retype</tt>"" msgid """" ""Choose \""Disk Format\"" for the image. The volume images are created with the "" ""QEMU disk image utility."" msgstr ""QEMU"" msgid ""Clone Consistency Group"" msgstr """" msgid ""Consistency Group"" msgstr """" msgid ""Consistency Group Snapshots"" msgstr """" msgid ""Consistency Groups"" msgstr """" msgid ""Console is currently unavailable."" msgstr """" msgid ""Create Consistency Group Snapshot"" msgstr """" msgid ""Create IKE Policy for current project."" msgstr ""IKE"" msgid ""Create IPSec Policy for current project."" msgstr ""IPSec"" msgid ""Create VPN service for current project."" msgstr ""VPN"" msgid ""Create a Volume Consistency Group from Snapshot"" msgstr """" msgid ""Create a snapshot for each volume contained in the Consistency Group."" msgstr """" msgctxt ""Current status of an IPSec Site Connection and VPN Service"" msgid ""Created"" msgstr """" #, python-format msgid ""Creating consistency group snapshot \""%s\""."" msgstr ""\""%s\"""" msgid ""Delete Volumes"" msgstr """" msgid ""Deleted volume backups are not recoverable."" msgstr """" msgid ""Deleted volume snapshots are not recoverable."" msgstr """" msgid """" ""Deleted volumes are not recoverable. All data stored in the volume will be "" ""removed."" msgstr """" #, python-format msgid ""Deleting volume consistency group \""%s\"""" msgstr ""\""%s\"""" msgid ""Detach Volume from Running Instance."" msgstr """" msgid ""Detach a Volume"" msgstr """" #, python-format msgid ""Detaching volume %(vol)s from instance %(inst)s."" msgstr "" %(inst)s%(vol)s"" msgctxt ""Current status of an IPSec Site Connection and VPN Service"" msgid ""Down"" msgstr """" msgctxt ""Current status of an IPSec Site Connection and VPN Service"" msgid ""Error"" msgstr """" msgid ""Errors occurred in deleting consistency group."" msgstr """" msgid ""Errors occurred in removing volumes from consistency group."" msgstr """" msgid ""Horizon"" msgstr """" msgid ""IKE Phase 1 negotiation mode"" msgstr ""IKE Phase1"" msgctxt ""Current status of an IPSec Site Connection and VPN Service"" msgid ""Inactive"" msgstr """" msgid ""Limited to 'main' mode only."" msgstr ""'main'"" msgid ""Modify the name and description of a volume consistency group snapshot."" msgstr """" msgid ""No server groups available"" msgstr """" msgid ""No volumes attached"" msgstr """" msgctxt ""Current status of an IPSec Site Connection and VPN Service"" msgid ""Pending Create"" msgstr """" msgctxt ""Current status of an IPSec Site Connection and VPN Service"" msgid ""Pending Delete"" msgstr """" msgctxt ""Current status of an IPSec Site Connection and VPN Service"" msgid ""Pending Update"" msgstr """" msgid ""Remove Volumes from Consistency Group"" msgstr """" #, python-format msgid ""Removing volumes from volume consistency group \""%s\"""" msgstr ""\""%s\"""" msgid ""Select Server Group"" msgstr """" msgid ""Server Group"" msgstr """" msgid ""Snapshot Volume Types"" msgstr """" msgid ""Snapshot Volumes"" msgstr """" msgid """" ""Snapshots can only be created for Consistency Groups that contain volumes."" msgstr """" msgid ""Specify a name, description, router, and subnet for the VPN Service."" msgstr ""VPN"" msgid """" ""The \""Volume Type\"" selected must be different from the current volume type."" msgstr ""\""\"""" msgid """" ""The router, subnet and admin state fields are required. All others are "" ""optional."" msgstr ""admin"" msgid """" ""The type of algorithm (3des, aes-128, aes-192, aes-256) used in the IKE "" ""Policy."" msgstr ""IKE (3des, aes-128, aes-192, aes-256) "" msgid """" ""The type of algorithm (3des, aes-128, aes-192, aes-256) used in the IPSec "" ""Policy."" msgstr ""IPSec (3des, aes-128, aes-192, aes-256)"" msgid ""The type of version (v1/v2) that needs to be filtered."" msgstr "" (v1/v2)"" msgid """" ""This action will unassign all volumes that are currently contained in this "" ""consistency group."" msgstr """" msgid ""Unable to clone consistency group."" msgstr """" msgid ""Unable to clone empty consistency group."" msgstr """" msgid ""Unable to create consistency group due to exceeding volume quota limit."" msgstr """" msgid ""Unable to create consistency group snapshot."" msgstr """" msgid ""Unable to create snapshot. Consistency group must contain volumes."" msgstr """" msgid ""Unable to create snapshots due to exceeding snapshot quota limit."" msgstr """" msgid ""Unable to detach volume."" msgstr """" msgid ""Unable to display consistency group."" msgstr """" msgid ""Unable to load console. Please reload page to try again."" msgstr """" msgid ""Unable to load the specified consistency group."" msgstr """" msgid ""Unable to retrieve Nova server groups."" msgstr ""Nova"" msgid ""Unable to retrieve consistency group information."" msgstr """" msgid ""Unable to retrieve consistency group snapshot details."" msgstr """" msgid ""Unable to retrieve template versions."" msgstr """" msgid ""Unable to retrieve volume consistency group snapshots."" msgstr """" msgid ""Unable to update volumes for consistency group"" msgstr """" #, python-format msgid ""Updated volumes for consistency group \""%s\""."" msgstr ""\""%s\"""" msgid """" ""Upload the volume to the Image Service as an image. This is equivalent to "" ""the <tt>cinder upload-to-image</tt> command."" msgstr """" ""glance<tt>cinder upload-to-image</tt>"" msgid ""Use a consistency group as source"" msgstr """" msgid ""Volume consistency groups can not be deleted if they contain volumes."" msgstr """" msgid ""Warning: "" msgstr """" ""When the volume status is \""in-use\"", you can use \""Force\"" to upload the "" ""volume to an image."" msgstr ""\""in-use\""\""Force\"""" msgid """"msgid ""You have selected:"" msgstr """" ","""PO-Revision-Date: 2016-08-09 08:28+0000\n""#, fuzzy",453,38
openstack%2Fsolum~master~I8e662923438d302ff5fa51011a451d1a1d156355,openstack/solum,master,I8e662923438d302ff5fa51011a451d1a1d156355,Updated from global requirements,MERGED,2016-07-29 02:35:45.000000000,2016-08-12 14:39:55.000000000,2016-08-12 14:39:55.000000000,"[{'_account_id': 3}, {'_account_id': 2506}, {'_account_id': 7230}, {'_account_id': 20663}]","[{'number': 1, 'created': '2016-07-29 02:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/e8d2860142f5e243fd5c70faf103aa7aaeec0482', 'message': 'Updated from global requirements\n\nChange-Id: I8e662923438d302ff5fa51011a451d1a1d156355\n'}, {'number': 2, 'created': '2016-08-04 02:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/2ecc512eb9d74a225e4b7bbe292be1c887c0b2f4', 'message': 'Updated from global requirements\n\nChange-Id: I8e662923438d302ff5fa51011a451d1a1d156355\n'}, {'number': 3, 'created': '2016-08-08 10:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/e87fde567e023a8f3a7a11f6c6bf208f9f1bef32', 'message': 'Updated from global requirements\n\nChange-Id: I8e662923438d302ff5fa51011a451d1a1d156355\n'}, {'number': 4, 'created': '2016-08-11 17:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/3a4a68a3248e9dab72efa2fef94c71903a5be75b', 'message': 'Updated from global requirements\n\nChange-Id: I8e662923438d302ff5fa51011a451d1a1d156355\n'}, {'number': 5, 'created': '2016-08-11 18:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/066878b4c50a065a01cfbd6e872c56dcb13a88e4', 'message': 'Updated from global requirements\n\nChange-Id: I8e662923438d302ff5fa51011a451d1a1d156355\n'}, {'number': 6, 'created': '2016-08-12 00:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/ea0d7711d6cc63bf7561e2c04714d08ea730fa2d', 'message': 'Updated from global requirements\n\nChange-Id: I8e662923438d302ff5fa51011a451d1a1d156355\n'}, {'number': 7, 'created': '2016-08-12 04:56:19.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/solum/commit/4c4b984e9da398a7c20ec05dabde49834e66d9e4', 'message': 'Updated from global requirements\n\nChange-Id: I8e662923438d302ff5fa51011a451d1a1d156355\n'}]",0,348690,4c4b984e9da398a7c20ec05dabde49834e66d9e4,24,4,7,11131,,,0,"Updated from global requirements

Change-Id: I8e662923438d302ff5fa51011a451d1a1d156355
",git fetch https://review.opendev.org/openstack/solum refs/changes/90/348690/5 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e8d2860142f5e243fd5c70faf103aa7aaeec0482,openstack/requirements,oslo.utils>=3.16.0 # Apache-2.0,oslo.utils>=3.15.0 # Apache-2.0,1,1
openstack%2Fneutron-vpnaas~master~I4c1918c518618493a514e2019689b368cca91a23,openstack/neutron-vpnaas,master,I4c1918c518618493a514e2019689b368cca91a23,Fix DeprecationWarnings part I,MERGED,2016-08-10 03:48:03.000000000,2016-08-12 14:39:22.000000000,2016-08-12 14:39:22.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 6659}]","[{'number': 1, 'created': '2016-08-10 03:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/21c6924d01d6d09a8cd2a26256917a82b3487c52', 'message': 'Fix DeprecationWarnings part I\n\nWhile gate tests are currently passing, the console indicates\nthat there are multiple deprecation warnings that will break\nin Ocata.  This patch starts the process of fixing them.\n\nChange-Id: I4c1918c518618493a514e2019689b368cca91a23\n'}, {'number': 2, 'created': '2016-08-10 03:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/94bd9f5194e036914de29121a714089febfc5aec', 'message': 'Fix DeprecationWarnings part I\n\nWhile gate tests are currently passing, the console indicates\nthat there are multiple deprecation warnings that will break\nin Ocata.  This patch starts the process of fixing them.\n\nChange-Id: I4c1918c518618493a514e2019689b368cca91a23\n'}, {'number': 3, 'created': '2016-08-10 04:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/1a107f84eb9884cb3309322386770c13a25dddbf', 'message': 'Fix DeprecationWarnings part I\n\nWhile gate tests are currently passing, the console indicates\nthat there are multiple deprecation warnings that will break\nin Ocata.  This patch starts the process of fixing them.\n\nChange-Id: I4c1918c518618493a514e2019689b368cca91a23\n'}, {'number': 4, 'created': '2016-08-10 04:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/5fc6378d822bf50c2aca48c777e17890e0648fc7', 'message': 'Fix DeprecationWarnings part I\n\nWhile gate tests are currently passing, the console indicates\nthat there are multiple deprecation warnings that will break\nin Ocata.  This patch starts the process of fixing them.\n\nChange-Id: I4c1918c518618493a514e2019689b368cca91a23\n'}, {'number': 5, 'created': '2016-08-10 04:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/8cd4f91283dcc3dd3059cf0971e78057c7e7a590', 'message': 'Fix DeprecationWarnings part I\n\nWhile gate tests are currently passing, the console indicates\nthat there are multiple deprecation warnings that will break\nin Ocata.  This patch starts the process of fixing them.\n\nChange-Id: I4c1918c518618493a514e2019689b368cca91a23\n'}, {'number': 6, 'created': '2016-08-10 04:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f5e0b5c55136da204c24b3900414b294909bd097', 'message': 'Fix DeprecationWarnings part I\n\nWhile gate tests are currently passing, the console indicates\nthat there are multiple deprecation warnings that will break\nin Ocata.  This patch starts the process of fixing them.\n\nChange-Id: I4c1918c518618493a514e2019689b368cca91a23\n'}, {'number': 7, 'created': '2016-08-10 04:34:31.000000000', 'files': ['neutron_vpnaas/extensions/vpn_endpoint_groups.py', 'neutron_vpnaas/db/vpn/vpn_validator.py', 'neutron_vpnaas/tests/unit/db/vpn/test_vpn_db.py', 'neutron_vpnaas/tests/unit/services/vpn/test_plugin.py', 'neutron_vpnaas/extensions/vpnaas.py', 'neutron_vpnaas/services/vpn/device_drivers/ipsec.py', 'neutron_vpnaas/db/vpn/vpn_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/482785e8e30539673d86daef64b7fe06c02c1ca7', 'message': 'Fix DeprecationWarnings part I\n\nWhile gate tests are currently passing, the console indicates\nthat there are multiple deprecation warnings that will break\nin Ocata.  This patch starts the process of fixing them.\n\nChange-Id: I4c1918c518618493a514e2019689b368cca91a23\n'}]",2,353238,482785e8e30539673d86daef64b7fe06c02c1ca7,15,3,7,11682,,,0,"Fix DeprecationWarnings part I

While gate tests are currently passing, the console indicates
that there are multiple deprecation warnings that will break
in Ocata.  This patch starts the process of fixing them.

Change-Id: I4c1918c518618493a514e2019689b368cca91a23
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/38/353238/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/extensions/vpn_endpoint_groups.py', 'neutron_vpnaas/db/vpn/vpn_validator.py', 'neutron_vpnaas/extensions/vpnaas.py', 'neutron_vpnaas/services/vpn/device_drivers/ipsec.py']",4,21c6924d01d6d09a8cd2a26256917a82b3487c52,fix_deprecations_1,from neutron_lib.api import validators invalid_ip_address = validators.validate_ip_address(address), invalid_ip_address = attributes._validate_ip_address(address),17,12
openstack%2Ftrove~master~I0d5e7f37b2c376a81ed1d3c09e760fa9e6ffac8c,openstack/trove,master,I0d5e7f37b2c376a81ed1d3c09e760fa9e6ffac8c,Fix MySql replication start from incr backup,MERGED,2016-07-28 00:06:44.000000000,2016-08-12 14:38:30.000000000,2016-08-12 14:38:30.000000000,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 9746}, {'_account_id': 10215}, {'_account_id': 10295}, {'_account_id': 12758}, {'_account_id': 14576}, {'_account_id': 22484}]","[{'number': 1, 'created': '2016-07-28 00:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/57c520d59f57c1109c496e0e90db3f92cac927a2', 'message': ""Fix MySql replication start from incr backup\n\nThe MySql incremental restore strategy was placing a temporary\ndirectory containing the incremental backup payload on the\ninstance under the MySql datadir. With Percona XtraBackup 2.2,\nthis was working but with the upgrade to XB 2.3, the incr.\nrestore from that sub-directory no longer copies over the\nxtrabackup_binlog file required to configure replication. While\nthis is likely a bug in XB, it was thought that storing things\nas sub-directories of the MySql datadir wasn't a good idea\nanyway. This commit moves the incremental backup temporary\nstorage up one directory level (basically to the mount_point).\nThis fixes the issue and continues to locate the incremental\nbackup payload on the volume storage.\n\nAlso, augmented the replication scenario tests to test the case\nwhere a full backup exists before replicas are configured, which\ncauses an incremental backup to be used for replica\nprovisioning.\n\nChange-Id: I0d5e7f37b2c376a81ed1d3c09e760fa9e6ffac8c\nCloses-bug: 1606374\n""}, {'number': 2, 'created': '2016-07-28 11:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/58f62cd3c0ae9dfed33fca9b9dc7db7fb11ee388', 'message': ""Fix MySql replication start from incr backup\n\nThe MySql incremental restore strategy was placing a temporary\ndirectory containing the incremental backup payload on the\ninstance under the MySql datadir. With Percona XtraBackup 2.2,\nthis was working but with the upgrade to XB 2.3, the incr.\nrestore from that sub-directory no longer copies over the\nxtrabackup_binlog file required to configure replication. While\nthis is likely a bug in XB, it was thought that storing things\nas sub-directories of the MySql datadir wasn't a good idea\nanyway. This commit moves the incremental backup temporary\nstorage up one directory level (basically to the mount_point).\nThis fixes the issue and continues to locate the incremental\nbackup payload on the volume storage.\n\nAlso, augmented the replication scenario tests to test the case\nwhere a full backup exists before replicas are configured, which\ncauses an incremental backup to be used for replica\nprovisioning.\n\nChange-Id: I0d5e7f37b2c376a81ed1d3c09e760fa9e6ffac8c\nCloses-bug: 1606374\n""}, {'number': 3, 'created': '2016-07-28 15:53:29.000000000', 'files': ['trove/tests/scenario/runners/backup_runners.py', 'trove/tests/scenario/groups/replication_group.py', 'trove/guestagent/strategies/restore/mysql_impl.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/8e8dc7df08f99bca0d4fb2fdeced6de7cab02aa8', 'message': ""Fix MySql replication start from incr backup\n\nThe MySql incremental restore strategy was placing a temporary\ndirectory containing the incremental backup payload on the\ninstance under the MySql datadir. With Percona XtraBackup 2.2,\nthis was working but with the upgrade to XB 2.3, the incr.\nrestore from that sub-directory no longer copies over the\nxtrabackup_binlog file required to configure replication. While\nthis is likely a bug in XB, it was thought that storing things\nas sub-directories of the MySql datadir wasn't a good idea\nanyway. This commit moves the incremental backup temporary\nstorage up one directory level (basically to the mount_point).\nThis fixes the issue and continues to locate the incremental\nbackup payload on the volume storage.\n\nAlso, augmented the replication scenario tests to test the case\nwhere a full backup exists before replicas are configured, which\ncauses an incremental backup to be used for replica\nprovisioning.\n\nChange-Id: I0d5e7f37b2c376a81ed1d3c09e760fa9e6ffac8c\nCloses-bug: 1606374\n""}]",13,348087,8e8dc7df08f99bca0d4fb2fdeced6de7cab02aa8,19,8,3,9746,,,0,"Fix MySql replication start from incr backup

The MySql incremental restore strategy was placing a temporary
directory containing the incremental backup payload on the
instance under the MySql datadir. With Percona XtraBackup 2.2,
this was working but with the upgrade to XB 2.3, the incr.
restore from that sub-directory no longer copies over the
xtrabackup_binlog file required to configure replication. While
this is likely a bug in XB, it was thought that storing things
as sub-directories of the MySql datadir wasn't a good idea
anyway. This commit moves the incremental backup temporary
storage up one directory level (basically to the mount_point).
This fixes the issue and continues to locate the incremental
backup payload on the volume storage.

Also, augmented the replication scenario tests to test the case
where a full backup exists before replicas are configured, which
causes an incremental backup to be used for replica
provisioning.

Change-Id: I0d5e7f37b2c376a81ed1d3c09e760fa9e6ffac8c
Closes-bug: 1606374
",git fetch https://review.opendev.org/openstack/trove refs/changes/87/348087/3 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/scenario/runners/backup_runners.py', 'trove/tests/scenario/groups/replication_group.py', 'trove/guestagent/strategies/restore/mysql_impl.py']",3,57c520d59f57c1109c496e0e90db3f92cac927a2,bug/1606374,"from trove.common import cfg # sufficiently unique /var/lib/mysql/<checksum> incremental_dir = os.path.join( cfg.get_configuration_property('mount_point'), checksum)"," # sufficiently unique /var/lib/mysql/data/<checksum> incremental_dir = os.path.join(self.restore_location, checksum)",36,4
openstack%2Ftripleo-ci~master~Ic808fa837dca544963ed2e2806b67906a23c31b3,openstack/tripleo-ci,master,Ic808fa837dca544963ed2e2806b67906a23c31b3,tripleo-jobs-gerrit.py: update undercloud & multinode job names,MERGED,2016-08-12 11:56:07.000000000,2016-08-12 14:36:20.000000000,2016-08-12 14:22:01.000000000,"[{'_account_id': 3}, {'_account_id': 7144}]","[{'number': 1, 'created': '2016-08-12 11:56:07.000000000', 'files': ['scripts/tripleo-jobs-gerrit.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/087657b6118cde40b2375cdb6a08e152d0da9503', 'message': 'tripleo-jobs-gerrit.py: update undercloud & multinode job names\n\n-nv is not here anymore, they are in gate now.\n\nChange-Id: Ic808fa837dca544963ed2e2806b67906a23c31b3\n'}]",0,354679,087657b6118cde40b2375cdb6a08e152d0da9503,8,2,1,3153,,,0,"tripleo-jobs-gerrit.py: update undercloud & multinode job names

-nv is not here anymore, they are in gate now.

Change-Id: Ic808fa837dca544963ed2e2806b67906a23c31b3
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/79/354679/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-jobs-gerrit.py'],1,087657b6118cde40b2375cdb6a08e152d0da9503,dashboard," 'gate-tripleo-ci-centos-7-nonha-multinode', 'gate-tripleo-ci-centos-7-undercloud',"," 'gate-tripleo-ci-centos-7-nonha-multinode-nv', 'gate-tripleo-ci-centos-7-undercloud-nv',",2,2
openstack%2Fsahara~master~I5692f8412eae87dcab979a84a64d787bd41e0217,openstack/sahara,master,I5692f8412eae87dcab979a84a64d787bd41e0217,testcommit,ABANDONED,2016-08-12 12:53:05.000000000,2016-08-12 14:34:58.000000000,,"[{'_account_id': 3}, {'_account_id': 7213}]","[{'number': 1, 'created': '2016-08-12 12:53:05.000000000', 'files': ['devstack/upgrade/settings'], 'web_link': 'https://opendev.org/openstack/sahara/commit/82720b94c784d3a6b02853a2c126f8b1099e0d97', 'message': 'testcommit\n\nChange-Id: I5692f8412eae87dcab979a84a64d787bd41e0217\n'}]",0,354707,82720b94c784d3a6b02853a2c126f8b1099e0d97,4,2,1,12038,,,0,"testcommit

Change-Id: I5692f8412eae87dcab979a84a64d787bd41e0217
",git fetch https://review.opendev.org/openstack/sahara refs/changes/07/354707/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/settings'],1,82720b94c784d3a6b02853a2c126f8b1099e0d97,,BASE_RUN_SMOKE=False TARGET_RUN_SMOKE=False,,2,0
openstack%2Fopenstack-ansible-os_ironic~master~I1ddbf229f4a3665c2c6fc798b39882d137c536d1,openstack/openstack-ansible-os_ironic,master,I1ddbf229f4a3665c2c6fc798b39882d137c536d1,Cleanup/standardize usage of tags,MERGED,2016-08-11 14:22:06.000000000,2016-08-12 14:31:53.000000000,2016-08-12 14:31:53.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 14:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/ada39660e1ac33ec80fe6021f3ae73f9c259e83c', 'message': 'Cleanup/standardize usage of tags\n\nThe numerous tags within the role have been condensed\nto two tags: nova-install and nova-config\n\nThese tags have been chosen as they are namespaced\nand cover the two major functions of the role.\n\nChange-Id: I1ddbf229f4a3665c2c6fc798b39882d137c536d1\n'}, {'number': 2, 'created': '2016-08-11 14:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/4a7178fd6d99afc6a2559d2e8d82d836fd40a547', 'message': 'Cleanup/standardize usage of tags\n\nThe numerous tags within the role have been condensed\nto two tags: ironic-install and ironic-config\n\nThese tags have been chosen as they are namespaced\nand cover the two major functions of the role.\n\nChange-Id: I1ddbf229f4a3665c2c6fc798b39882d137c536d1\n'}, {'number': 3, 'created': '2016-08-11 16:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/e586da5a4be5203ec7c4edc81bec1422f527373a', 'message': 'Cleanup/standardize usage of tags\n\nThe numerous tags within the role have been condensed\nto two tags: ironic-install and ironic-config\n\nThese tags have been chosen as they are namespaced\nand cover the two major functions of the role.\n\nChange-Id: I1ddbf229f4a3665c2c6fc798b39882d137c536d1\n'}, {'number': 4, 'created': '2016-08-11 22:23:26.000000000', 'files': ['tasks/main.yml', 'README.rst', 'tasks/ironic_db_setup.yml', 'tasks/ironic_install.yml', 'tasks/ironic_service_setup.yml', 'tasks/ironic_conductor_install.yml', 'tasks/ironic_post_install.yml', 'tasks/ironic_pre_install.yml', 'tasks/ironic_api_install.yml', 'tasks/ironic_init_common.yml', 'tasks/ironic_install_apt.yml', 'tasks/ironic_api_post_install.yml', 'tasks/ironic_conductor_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/92aacee8e5d9159c94db9cf6c2fbe7d1ec1d754d', 'message': 'Cleanup/standardize usage of tags\n\nThe numerous tags within the role have been condensed\nto two tags: ironic-install and ironic-config\n\nThese tags have been chosen as they are namespaced\nand cover the two major functions of the role.\n\nChange-Id: I1ddbf229f4a3665c2c6fc798b39882d137c536d1\n'}]",1,354107,92aacee8e5d9159c94db9cf6c2fbe7d1ec1d754d,15,3,4,11268,,,0,"Cleanup/standardize usage of tags

The numerous tags within the role have been condensed
to two tags: ironic-install and ironic-config

These tags have been chosen as they are namespaced
and cover the two major functions of the role.

Change-Id: I1ddbf229f4a3665c2c6fc798b39882d137c536d1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/07/354107/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'README.rst', 'tasks/ironic_db_setup.yml', 'tasks/ironic_install.yml', 'tasks/ironic_service_setup.yml', 'tasks/ironic_conductor_install.yml', 'tasks/ironic_post_install.yml', 'tasks/ironic_pre_install.yml', 'tasks/ironic_api_install.yml', 'tasks/ironic_init_common.yml', 'tasks/ironic_install_apt.yml', 'tasks/ironic_api_post_install.yml', 'tasks/ironic_conductor_post_install.yml']",13,ada39660e1ac33ec80fe6021f3ae73f9c259e83c,bp/osa-install-guide-overhaul,, tags: - isc-dhcp-server tags: - tftpd-hpa tags: - tftpd-hpa tags: - tftpd-hpa tags: - tftpd-hpa tags: - tftpd-hpa,33,130
openstack%2Fopenstack-ansible-plugins~master~Ie78e1d7fd78e7235c12693b013b12e14caf01eef,openstack/openstack-ansible-plugins,master,Ie78e1d7fd78e7235c12693b013b12e14caf01eef,[DOCS] Updating plugin role docs,MERGED,2016-08-11 20:48:36.000000000,2016-08-12 14:28:07.000000000,2016-08-12 14:28:07.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 12402}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 20:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/7f6d86d891d83bcd12198d12e26f4d51151e65e1', 'message': '[DOCS] Updating plugin role docs\n\nChange-Id: Ie78e1d7fd78e7235c12693b013b12e14caf01eef\n'}, {'number': 2, 'created': '2016-08-12 13:03:51.000000000', 'files': ['doc/source/index.rst', 'examples/example.ini', 'examples/playbook.yml', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/388dfe10e4e04b83438d8703d8d69fadd7a76f0c', 'message': '[DOCS] Updating plugin role docs\n\nChange-Id: Ie78e1d7fd78e7235c12693b013b12e14caf01eef\n'}]",2,354386,388dfe10e4e04b83438d8703d8d69fadd7a76f0c,13,4,2,10607,,,0,"[DOCS] Updating plugin role docs

Change-Id: Ie78e1d7fd78e7235c12693b013b12e14caf01eef
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/86/354386/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'examples/example.ini', 'examples/playbook.yml', 'README.rst']",4,7f6d86d891d83bcd12198d12e26f4d51151e65e1,bp/osa-install-guide-overhaul,========================= OpenStack-Ansible plugins,OpenStack-Ansible Plugins Actions ------- This project provides the Ansible modules: * config_template * dist_sort * glance * keystone * memcached * name2int * neutron * provider_networks Filters ------- This project provides the Ansible Jinja2 filters: * bit_length_power_of_2 * netloc * netloc_no_port * netorigin * string_2_int * pip_requirement_names * pip_constraint_update * splitlines * filtered_list * git_link_parse * git_link_parse_name * deprecated Lookups ------- This project provides the lookup: * with_py_pkgs Callbacks --------- This project provides an Ansible callback that will report task profiling timings Example ansible.cfg file ------------------------ .. code-block:: ini [defaults] lookup_plugins = /etc/ansible/plugins/lookups filter_plugins = /etc/ansible/plugins/filters action_plugins = /etc/ansible/plugins/actions library = /etc/ansible/plugins/library Example role requirement overload for automatic plugin download --------------------------------------------------------------- The Ansible role requirement file can be used to overload the ``ansible- galaxy`` command to automatically fetch the plugins for you in a given project. To do this add the following lines to your ``ansible-role- requirements.yml`` file. .. code-block:: yaml - name: plugins src: https://github.com/openstack/openstack-ansible-plugins path: /etc/ansible scm: git version: master,81,76
openstack%2Fopenstack-ansible~stable%2Fmitaka~I2d079c56486f3aeccdddc2fd57f9412902c5783d,openstack/openstack-ansible,stable/mitaka,I2d079c56486f3aeccdddc2fd57f9412902c5783d,Fix ceph client keyrings override.,ABANDONED,2016-08-10 12:09:50.000000000,2016-08-12 14:28:07.000000000,,"[{'_account_id': 3}, {'_account_id': 20038}]","[{'number': 1, 'created': '2016-08-10 12:09:50.000000000', 'files': ['playbooks/roles/ceph_client/defaults/main.yml', 'playbooks/roles/ceph_client/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/83b09ae724e5c1c9b24c4b036fb1e348eef175bd', 'message': ""Fix ceph client keyrings override.\n\nvars in vars/main.yml aren't overriden by user_variables.yml\n\nIt is only a problem the way precedence works with Ansible 1.9\n\nCloses-Bug: 1605302\nChange-Id: I2d079c56486f3aeccdddc2fd57f9412902c5783d\n""}]",0,353420,83b09ae724e5c1c9b24c4b036fb1e348eef175bd,4,2,1,13095,,,0,"Fix ceph client keyrings override.

vars in vars/main.yml aren't overriden by user_variables.yml

It is only a problem the way precedence works with Ansible 1.9

Closes-Bug: 1605302
Change-Id: I2d079c56486f3aeccdddc2fd57f9412902c5783d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/353420/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/ceph_client/defaults/main.yml', 'playbooks/roles/ceph_client/vars/main.yml']",2,83b09ae724e5c1c9b24c4b036fb1e348eef175bd,ceph-keyring-fix,,"--- # Copyright 2015, Serge van Ginderachter <serge@vanginderachter.be> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # http://ceph.com/docs/master/rbd/rbd-openstack/ ceph_components: - component: glance_api package: - python-ceph client: - '{{ glance_ceph_client }}' service: '{{ ceph_glance_service_names }}' - component: cinder_volume package: - ceph # TODO: remove this once http://tracker.ceph.com/issues/11388 is resolved - ceph-common - python-ceph client: - '{{ cinder_ceph_client }}' service: '{{ ceph_cinder_service_names }}' - component: cinder_backup package: - ceph # TODO: remove this once http://tracker.ceph.com/issues/11388 is resolved - ceph-common - python-ceph client: - '{{ cinder_backup_ceph_client }}' service: '{{ ceph_cinder_service_names }}' - component: nova_compute package: - libvirt-bin - ceph # TODO: remove this once http://tracker.ceph.com/issues/11388 is resolved - ceph-common - python-ceph client: - '{{ nova_ceph_client }}' service: '{{ ceph_nova_service_names }}' ",35,51
openstack%2Foslo.messaging~master~I83919382262b9f169becd09f5db465a01a0ccb78,openstack/oslo.messaging,master,I83919382262b9f169becd09f5db465a01a0ccb78,[zmq] Implement retries for unacknowledged CASTs,MERGED,2016-06-16 12:07:32.000000000,2016-08-12 14:27:47.000000000,2016-08-12 14:27:47.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 13290}, {'_account_id': 20864}]","[{'number': 1, 'created': '2016-06-16 12:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b52bcb2e86344334bfe45aed66c5027aaf1df573', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 2, 'created': '2016-06-16 16:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f77020d6e7abfe18f8b0c16f562d0410e183277b', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 3, 'created': '2016-06-16 20:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b9cbcd0b4ee1dc94befe011c17f1e8513e3b5325', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 4, 'created': '2016-06-17 05:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/5b25698490c60a9749da48f0445f14039f3eaadb', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 5, 'created': '2016-06-18 08:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b4b8fbb7700e1e141f709c56766b8c816bc2511e', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 6, 'created': '2016-06-18 09:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a6d57e6a5591be2cb4b68b34f16fc60aa13f429f', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 7, 'created': '2016-06-18 12:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ebc424254fcd8d146fdfcf618079761988aa0b0b', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 8, 'created': '2016-06-19 10:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/800173a3252e3af6f76cf02bda958e844c7673a9', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 9, 'created': '2016-06-19 14:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/79ff94a82c25c0103f86a4d4b2dbad08dba9e89a', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 10, 'created': '2016-06-19 16:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/87cde8c9ef25b6de6f199b11aa68d5cdded18c4c', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 11, 'created': '2016-06-20 11:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1c3582e2bf5819a505c56550674864c216079a99', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 12, 'created': '2016-06-22 10:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/54aff90b60ab55dbfa542339087db2eec59f3fe3', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 13, 'created': '2016-07-08 11:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/aa511729b62690af4bfa6a12d9ba2bdaa3a21cfe', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 14, 'created': '2016-07-08 16:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/cad3929a544af54e420fef25a3b2c58a7628c330', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 15, 'created': '2016-07-09 12:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/884a3af20754ed503d92c711d653aa28eef4adc2', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 16, 'created': '2016-07-11 10:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/dbb88ba1a970d9d8f5b01504ff8f1451483f6505', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements\nvia proxy.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 17, 'created': '2016-07-15 15:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/91f61292c4e13ac46633051b5bad21dbb10235b0', 'message': '[zmq] Implement retries for unacknowledged messages\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nCloses-Bug: #1497306\n'}, {'number': 18, 'created': '2016-07-18 15:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d2ba516f5891ea6d695c097d89d92443e371268f', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\n'}, {'number': 19, 'created': '2016-07-19 16:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/22a610768b1fba5c830b57b4dca4873282ad1fee', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\n'}, {'number': 20, 'created': '2016-07-21 10:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8589d095eaf8ac3f2a8d45b8209201aea680cba9', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\n'}, {'number': 21, 'created': '2016-07-22 11:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3b606cf38efa8f21791ce324d5784836e28d5431', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\n'}, {'number': 22, 'created': '2016-07-22 16:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/edebf0abef73b4caae95e6cf2c93febf215b8e5f', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\n'}, {'number': 23, 'created': '2016-07-23 11:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ba22cb401ca38b88b743a85c2f29cb2e3e1f6df0', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\n'}, {'number': 24, 'created': '2016-07-25 15:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/57af6be2bb3c7911fb49b2be8c90ca9c6aa02c3f', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\n'}, {'number': 25, 'created': '2016-07-26 17:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/313d7097a391b6ced5f3557d140e3adf83ad92d3', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\n'}, {'number': 26, 'created': '2016-07-27 10:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/45cd1b4d40f0c3387198486ca21ad7a77a16f7d2', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\n'}, {'number': 27, 'created': '2016-08-01 17:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7691442bef0d7a1c33b6f7e536760fb25df85692', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\nCloses-Bug: #1515269\n'}, {'number': 28, 'created': '2016-08-02 13:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/341eb7d4739f4c88ea271f5786f37730ebc9563c', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\nCloses-Bug: #1515269\n'}, {'number': 29, 'created': '2016-08-03 09:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8a02b3b6980288f4b06d074424254265dc089dd9', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\nCloses-Bug: #1515269\n'}, {'number': 30, 'created': '2016-08-04 13:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/654e9a368008aac73a1f5377f3fb961ca8193223', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\nCloses-Bug: #1515269\n'}, {'number': 31, 'created': '2016-08-05 10:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ef010d541c8129ffdc0c4c640650e2b46062df90', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\nCloses-Bug: #1515269\n'}, {'number': 32, 'created': '2016-08-05 12:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a5731407a400c5671856bdc8205f54db4e6357c2', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\nCloses-Bug: #1515269\n'}, {'number': 33, 'created': '2016-08-05 19:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ed21fd655303c7fbaee2f95eeb35130257fba76e', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\nCloses-Bug: #1515269\n'}, {'number': 34, 'created': '2016-08-06 14:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0155fae27ca4d6d76345fd4558d9a9c23d806659', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\nCloses-Bug: #1515269\n'}, {'number': 35, 'created': '2016-08-09 09:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8fd8ac0acf37f52788a8bc7745990c315acca510', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\nCloses-Bug: #1515269\n'}, {'number': 36, 'created': '2016-08-09 09:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/fdfae418d753e7ae71a2e1881a81abbc5bb912e8', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\nCloses-Bug: #1515269\n'}, {'number': 37, 'created': '2016-08-09 10:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/df1927f6ccc73e1a84674b4b4b4cf2f9963d78b3', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\nCloses-Bug: #1515269\n'}, {'number': 38, 'created': '2016-08-09 14:24:13.000000000', 'files': ['oslo_messaging/_drivers/zmq_driver/client/zmq_senders.py', 'oslo_messaging/tests/drivers/zmq/test_zmq_ttl_cache.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_response.py', 'oslo_messaging/_drivers/zmq_driver/client/publishers/zmq_publisher_base.py', 'oslo_messaging/_drivers/zmq_driver/poller/threading_poller.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_dealer_consumer.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_ack_manager.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_routing_table.py', 'oslo_messaging/_drivers/zmq_driver/zmq_poller.py', 'oslo_messaging/_drivers/zmq_driver/client/publishers/dealer/zmq_dealer_publisher_base.py', 'oslo_messaging/_drivers/zmq_driver/server/zmq_ttl_cache.py', 'oslo_messaging/tests/drivers/zmq/test_zmq_ack_manager.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_client_base.py', 'oslo_messaging/_drivers/zmq_driver/matchmaker/base.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_router_consumer.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_sub_consumer.py', 'oslo_messaging/tests/drivers/zmq/test_zmq_async.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_client.py', 'oslo_messaging/tests/drivers/zmq/zmq_common.py', 'oslo_messaging/_drivers/zmq_driver/poller/green_poller.py', 'oslo_messaging/_drivers/zmq_driver/client/publishers/dealer/zmq_dealer_publisher_direct.py', 'oslo_messaging/_drivers/zmq_driver/client/publishers/dealer/zmq_dealer_publisher_proxy.py', 'oslo_messaging/_drivers/zmq_driver/zmq_options.py', 'oslo_messaging/tests/drivers/zmq/test_pub_sub.py', 'oslo_messaging/_drivers/zmq_driver/zmq_names.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_receivers.py', 'oslo_messaging/_drivers/zmq_driver/zmq_async.py', 'oslo_messaging/_drivers/zmq_driver/server/zmq_incoming_message.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/20a07e7f480ec434cb06cf13156d7c785f70b414', 'message': '[zmq] Implement retries for unacknowledged CASTs\n\nThis patch tries to implement a mechanism of acknowledgements and\nretries via proxy for CAST messages.\n\nChange-Id: I83919382262b9f169becd09f5db465a01a0ccb78\nPartial-Bug: #1497306\nCloses-Bug: #1515269\n'}]",19,330495,20a07e7f480ec434cb06cf13156d7c785f70b414,131,4,38,20864,,,0,"[zmq] Implement retries for unacknowledged CASTs

This patch tries to implement a mechanism of acknowledgements and
retries via proxy for CAST messages.

Change-Id: I83919382262b9f169becd09f5db465a01a0ccb78
Partial-Bug: #1497306
Closes-Bug: #1515269
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/95/330495/37 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/zmq_driver/client/publishers/dealer/zmq_dealer_publisher_proxy.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_dealer_consumer.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_router_consumer.py', 'oslo_messaging/_drivers/zmq_driver/zmq_async.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_client.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_ack_and_reply_waiter.py']",6,b52bcb2e86344334bfe45aed66c5027aaf1df573,bug/1497306,"# Copyright 2016 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging import threading from oslo_utils import timeutils from oslo_messaging._drivers.zmq_driver import zmq_async from oslo_messaging._drivers.zmq_driver import zmq_names from oslo_messaging._i18n import _LW LOG = logging.getLogger(__name__) class AckAndReplyWaiter(object): """"""Tracks requests and waits for corresponding acks/replies, trying to resend requests if there are no acks/replies from receivers. """""" def __init__(self, conf): self.conf = conf self._lock = threading.Lock() self._futures, _ = zmq_async.get_queue() self._requests = {} self._poller = zmq_async.get_poller() self._recv_executor = zmq_async.get_executor(self._run_recv_loop) self._recv_executor.execute() self._sleep = zmq_async.get_sleep_function() self._resend_executor = zmq_async.get_executor(self._run_resend_loop) self._resend_executor.execute() def register_socket(self, socket, recv_ack_or_reply_method): """"""Register a socket for receiving acks/replies using recv_ack_or_reply_method which should return a triple of the form (message_type, message_id, reply). """""" self._poller.register(socket, recv_method=recv_ack_or_reply_method) def track_request(self, request, socket, send_method): """"""Track a request via a socket (already registered!) using send_method for resending the request if there are no acks/replies from receivers. """""" future = self._add_future(request, socket, send_method, 1, False) if self._wait_for_reply(request): future = self._add_future(request, socket, send_method, request.timeout, True) return future def cleanup(self): self._resend_executor.stop() self._recv_executor.stop() self._poller.close() def _add_future(self, request, socket, resend_method, timeout, for_reply): future = zmq_async.get_future() future.request = request future.socket = socket future.resend_method = resend_method future.stopwatch = timeutils.StopWatch(duration=timeout).start() self._set_future(request.message_id, for_reply, future) self._futures.put(future) return future def _wait_for_reply(self, request): return request.msg_type == zmq_names.CALL_TYPE def _get_future(self, message_id, for_reply): with self._lock: return self._requests.get((message_id, for_reply)) def _set_future(self, message_id, for_reply, future): with self._lock: self._requests[(message_id, for_reply)] = future def _pop_future(self, message_id, for_reply): with self._lock: return self._requests.pop((message_id, for_reply), None) def _run_recv_loop(self): (message_type, message_id, reply), socket = self._poller.poll() assert message_type in (zmq_names.ACK_TYPE, zmq_names.REPLY_TYPE), \ ""Ack or reply expected!"" for_reply = message_type == zmq_names.REPLY_TYPE message_type_str = 'reply' if for_reply else 'ack' future = self._get_future(message_id, for_reply) if future is None or future.stopwatch.expired(): LOG.warning(_LW(""Received timed out %s for %s""), message_type_str, message_id) else: LOG.debug(""Received %s for %s"", message_type_str, message_id) if future is not None: assert future.socket is socket, ""Requesting socket expected!"" future.set_result(reply) def _run_resend_loop(self): future = self._futures.get() if future.done(): request = future.request self._pop_future(request.message_id, self._wait_for_reply(request)) else: # NOTE(gdavoian): the smaller the queue of pending futures is, # the longer the resend-loop sleep, allowing the recv-loop to # work more, and vice versa. self._sleep(1.0 / (1.0 + self._futures.qsize())) if future.stopwatch.expired(): resend_method, socket, request = \ future.resend_method, future.socket, future.request if request.retry is None or request.retry != 0: if request.retry is not None and request.retry > 0: request.retry -= 1 LOG.debug(""Resending %s"", request.message_id) resend_method(socket, request) future.stopwatch.restart() self._futures.put(future) else: LOG.warning(_LW(""Exhausted number of retries for %s""), request.message_id) self._pop_future(request.message_id, self._wait_for_reply(request)) else: self._futures.put(future) ",,254,91
openstack%2Fcinder~master~I2a93852bbd5fc528f6f73d99212ac6040eaa004a,openstack/cinder,master,I2a93852bbd5fc528f6f73d99212ac6040eaa004a,IBM Flashsystem: Add missing items to common,MERGED,2016-05-19 15:17:43.000000000,2016-08-12 14:27:07.000000000,2016-08-09 23:14:37.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 11215}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12778}, {'_account_id': 14907}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16880}, {'_account_id': 18444}, {'_account_id': 21144}]","[{'number': 1, 'created': '2016-05-19 15:17:43.000000000', 'files': ['cinder/volume/drivers/ibm/flashsystem_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a0300df74e158824564083ad8243e163cd126a8e', 'message': ""IBM Flashsystem: Add missing items to common\n\nThere are a handful of methods that are\nintended to be inherited from this base class\nthat aren't defined, and some member variables\nwhich are not guaranteed to be defined before use.\n\nAdd missing items to the base common class\nto clean things up.\n\nThis removes seven issues from our pylint run.\n\nChange-Id: I2a93852bbd5fc528f6f73d99212ac6040eaa004a\n""}]",0,318737,a0300df74e158824564083ad8243e163cd126a8e,84,14,1,4523,,,0,"IBM Flashsystem: Add missing items to common

There are a handful of methods that are
intended to be inherited from this base class
that aren't defined, and some member variables
which are not guaranteed to be defined before use.

Add missing items to the base common class
to clean things up.

This removes seven issues from our pylint run.

Change-Id: I2a93852bbd5fc528f6f73d99212ac6040eaa004a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/318737/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/flashsystem_common.py'],1,a0300df74e158824564083ad8243e163cd126a8e,," self._check_lock_interval = 5 self._vdisk_copy_in_progress = set() self._vdisk_copy_lock = None def _check_vdisk_params(self, params): raise NotImplementedError() def _create_host(self, connector): raise NotImplementedError() def _find_host_exhaustive(self, connector, hosts): raise NotImplementedError() def _get_vdisk_map_properties( self, connector, lun_id, vdisk_name, vdisk_id, vdisk_params): raise NotImplementedError() ",,16,0
openstack%2Fcinder~master~I1e6ed90e6e8b81e824814f263bf11de8e4fc4b77,openstack/cinder,master,I1e6ed90e6e8b81e824814f263bf11de8e4fc4b77,HPE XP add entry point debug tracing,MERGED,2016-07-07 16:50:43.000000000,2016-08-12 14:19:11.000000000,2016-08-10 04:03:50.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2759}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10058}, {'_account_id': 10621}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 14305}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 18120}, {'_account_id': 18402}, {'_account_id': 18444}, {'_account_id': 22126}]","[{'number': 1, 'created': '2016-07-07 16:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ac9c9cec808d9b33b07eb0b0703b47ac89674e9', 'message': 'HPE XP add entry point debug tracing\n\nThis patch adds cinder.utils.trace decorator to the\ndriver entry points for debug log tracing.\n\nChange-Id: I1e6ed90e6e8b81e824814f263bf11de8e4fc4b77\n'}, {'number': 2, 'created': '2016-08-08 17:56:44.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_xp_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fcb73e479096dd24862d2854814be7f06cd9a7eb', 'message': 'HPE XP add entry point debug tracing\n\nThis patch adds cinder.utils.trace decorator to the\ndriver entry points for debug log tracing.\n\nChange-Id: I1e6ed90e6e8b81e824814f263bf11de8e4fc4b77\n'}]",0,339132,fcb73e479096dd24862d2854814be7f06cd9a7eb,101,34,2,5997,,,0,"HPE XP add entry point debug tracing

This patch adds cinder.utils.trace decorator to the
driver entry points for debug log tracing.

Change-Id: I1e6ed90e6e8b81e824814f263bf11de8e4fc4b77
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/339132/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hpe/hpe_xp_fc.py'],1,0ac9c9cec808d9b33b07eb0b0703b47ac89674e9,hpe-xp-trace,from cinder import utils @utils.trace @utils.trace @utils.trace @utils.trace @utils.trace @utils.trace @utils.trace @utils.trace @utils.trace @utils.trace @utils.trace @utils.trace @utils.trace @utils.trace @utils.trace,,16,0
openstack%2Fshade~master~Ib4965ab53f4142811313481cb4e7a70aeeea5b48,openstack/shade,master,Ib4965ab53f4142811313481cb4e7a70aeeea5b48,Don't supplement floating ip list on clouds without,MERGED,2016-08-12 12:06:41.000000000,2016-08-12 14:15:14.000000000,2016-08-12 14:15:14.000000000,"[{'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 3099}, {'_account_id': 4162}]","[{'number': 1, 'created': '2016-08-12 12:06:41.000000000', 'files': ['shade/tests/unit/test_meta.py', 'shade/meta.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/acf010f463cb583d073113f17d88864c94ef7503', 'message': ""Don't supplement floating ip list on clouds without\n\nSome clouds don't have floating ips at all. We know who they are. Don't\ntry to supplement them.\n\nChange-Id: Ib4965ab53f4142811313481cb4e7a70aeeea5b48\n""}]",0,354687,acf010f463cb583d073113f17d88864c94ef7503,8,4,1,2,,,0,"Don't supplement floating ip list on clouds without

Some clouds don't have floating ips at all. We know who they are. Don't
try to supplement them.

Change-Id: Ib4965ab53f4142811313481cb4e7a70aeeea5b48
",git fetch https://review.opendev.org/openstack/shade refs/changes/87/354687/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/unit/test_meta.py', 'shade/meta.py', 'shade/openstackcloud.py']",3,acf010f463cb583d073113f17d88864c94ef7503,," def _has_floating_ips(self): if not self._floating_ip_source: return False else: return self._floating_ip_source.lower() in ('nova', 'neutron') ",,71,4
openstack%2Fopenstack-ansible-apt_package_pinning~master~Idb995e689045df4244239300d66491e47780fd0a,openstack/openstack-ansible-apt_package_pinning,master,Idb995e689045df4244239300d66491e47780fd0a,[DOCS] Refactor apt package pinning Docs,MERGED,2016-08-11 20:42:58.000000000,2016-08-12 14:14:09.000000000,2016-08-12 14:14:09.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 15993}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 20:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/1bbd49cfb95d0e04952f55aa4ed2958da63bb7ec', 'message': '[DOCS] Refactor rsyslog_server Docs\n\nThis commit refactors the current docs in the apt_package_pinning\nrole. Moving forward, specific project configurations are\nmaintained in the appropriate role book.\n\nChange-Id: Idb995e689045df4244239300d66491e47780fd0a\n'}, {'number': 2, 'created': '2016-08-11 21:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/0f503be994e399c2af5b786e94a20f01cb8620eb', 'message': '[DOCS] Refactor rsyslog_server Docs\n\nThis commit refactors the current docs in the apt_package_pinning\nrole. Moving forward, specific project configurations are\nmaintained in the appropriate role book.\n\nChange-Id: Idb995e689045df4244239300d66491e47780fd0a\n'}, {'number': 3, 'created': '2016-08-11 21:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/b8a202e6fc3659025470d4c82c1dcd32fa833637', 'message': '[DOCS] Refactor apt package pinning Docs\n\nThis commit refactors the current docs in the apt_package_pinning\nrole. Moving forward, specific project configurations are\nmaintained in the appropriate role book.\n\nChange-Id: Idb995e689045df4244239300d66491e47780fd0a\n'}, {'number': 4, 'created': '2016-08-11 21:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/869771c0f1e8ae7e3e86b2b49e73f440fab5e595', 'message': '[DOCS] Refactor apt package pinning Docs\n\nThis commit refactors the current docs in the apt_package_pinning\nrole. Moving forward, specific project configurations are\nmaintained in the appropriate role book.\n\nChange-Id: Idb995e689045df4244239300d66491e47780fd0a\n'}, {'number': 5, 'created': '2016-08-11 21:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/b42ada50c48b96cbdfe1439d64a83cc91ac313f0', 'message': '[DOCS] Refactor apt package pinning Docs\n\nThis commit refactors the current docs in the apt_package_pinning\nrole. Moving forward, specific project configurations are\nmaintained in the appropriate role book.\n\nChange-Id: Idb995e689045df4244239300d66491e47780fd0a\n'}, {'number': 6, 'created': '2016-08-12 12:58:53.000000000', 'files': ['doc/source/index.rst', 'examples/playbook.yml', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/fe2bd57ec294e48ec72fbadbbcb13c7e6a34c183', 'message': '[DOCS] Refactor apt package pinning Docs\n\nThis commit refactors the current docs in the apt_package_pinning\nrole. Moving forward, specific project configurations are\nmaintained in the appropriate role book.\n\nChange-Id: Idb995e689045df4244239300d66491e47780fd0a\n'}]",0,354383,fe2bd57ec294e48ec72fbadbbcb13c7e6a34c183,18,6,6,22010,,,0,"[DOCS] Refactor apt package pinning Docs

This commit refactors the current docs in the apt_package_pinning
role. Moving forward, specific project configurations are
maintained in the appropriate role book.

Change-Id: Idb995e689045df4244239300d66491e47780fd0a
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/83/354383/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'examples/playbook.yml', 'README.rst']",3,1bbd49cfb95d0e04952f55aa4ed2958da63bb7ec,rr-apt-package-pinning,"APT Package pinning for openstack-ansible ========================================= This role will set package pinning for APT packages. The role will create a preference file used to pin packages to a *release*, *origin*, or *version*. The pinning syntax is a simple data driven format which is a list of dictionaries. The items must contain a *package* entry and pinning type. Pinning types are *release*, *origin*, or *version*.","Pin apt packages ################ :tags: openstack, apt, pinning, cloud, ansible :category: \*nix Ansible role for pinning apt packages. Example Ansible play .. code-block:: yaml - name: Pin packages on all ""hosts"" hosts: hosts user: root roles: - role: ""apt_package_pinning"" apt_package_pinning_file_name: ""test.pref"" apt_pinned_packages: - { package: ""test-package-version"", version: ""9.9.9-version"" } - { package: ""test-package-origin"", origin: ""test-origin.org"" } - { package: ""test-package-release.*"", release: ""TestRelease"" } ",39,36
openstack%2Ftripleo-ci~master~Ifd000ebca998256abe8426c63eb95e2247b88cab,openstack/tripleo-ci,master,Ifd000ebca998256abe8426c63eb95e2247b88cab,[NO MERGY] Test a fake periodic job,ABANDONED,2015-10-01 09:24:52.000000000,2016-08-12 14:12:03.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1926}, {'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 12715}]","[{'number': 1, 'created': '2015-10-01 09:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c4426a8baaa849d6294a464d204f81f4adb17810', 'message': 'Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 2, 'created': '2015-10-01 11:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c0badf8a195f03cf18f73df55de61252578ba1e8', 'message': 'Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 3, 'created': '2015-10-02 11:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f8f9bda5bae1fa48e9d2919b469063640b802894', 'message': 'Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\nDepends-On: If8989d4f2397b5d29cfc2ce50f02e85d83002a6a\nDepends-On: Ia8cfc923cce749a69d5108e588db2360238d866c\n'}, {'number': 4, 'created': '2015-10-02 14:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3f4c4e54fb14a1048992ada9ac2c032a749126c4', 'message': 'Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\nDepends-On: Iad5d62f373b73789118f23db4c932ea6e9a784c3\n'}, {'number': 5, 'created': '2015-10-06 12:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/18ed6c4bf48b27e317b4da5ed02857407215b945', 'message': 'Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\nDepends-On: Iad5d62f373b73789118f23db4c932ea6e9a784c3\n'}, {'number': 6, 'created': '2015-10-08 13:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1b38a8e60d9aa70aaf3ed18576916648aa7bcc68', 'message': 'Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\nDepends-On: Iad5d62f373b73789118f23db4c932ea6e9a784c3\n'}, {'number': 7, 'created': '2015-11-03 17:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2d9d9ca2cc79a45dc9a627b0ce31ace443e76de8', 'message': 'Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 8, 'created': '2015-11-05 12:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9916a85eb3644d1ad7a851c76c4aae600690eb52', 'message': 'Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 9, 'created': '2015-11-05 16:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/902545c6a9df9b8568f13fb637386cc5bec5b2d7', 'message': 'Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-on: I1d37a0dadd4c9055ba545906535bb3e40e70a0f0\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 10, 'created': '2015-11-14 15:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/00beb4c74352bc43d21fd0e5ec1ddab170b24a64', 'message': 'Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 11, 'created': '2015-11-17 11:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3264650e81ca2c5c34ca4669f5532d7d3c20755d', 'message': 'Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-On: I880c9a159a46d9a288cb1f8bf79af30e5045d5ab\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 12, 'created': '2015-11-17 12:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/25cdf44a8a85ad460768f73a4e1977cb8b68baf2', 'message': 'Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-On: I880c9a159a46d9a288cb1f8bf79af30e5045d5ab\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 13, 'created': '2015-12-10 14:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f95ea979c05367836140eba935c81adf2e7277df', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-On: I880c9a159a46d9a288cb1f8bf79af30e5045d5ab\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 14, 'created': '2015-12-10 17:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e0af31cf48ed3119bf3668c0cbfb2698d027b9f9', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-On: I0713b08319fca8de6e7cc5f24cbfaa9d3f819640\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 15, 'created': '2015-12-10 23:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b21da3e8efd96b8a7942b62819fe7949757bef8c', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-On: I0713b08319fca8de6e7cc5f24cbfaa9d3f819640\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab'}, {'number': 16, 'created': '2015-12-13 00:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9ad1f8b7d25480618ba3e803aad285c051d1b1d4', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-On: I0713b08319fca8de6e7cc5f24cbfaa9d3f819640\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 17, 'created': '2016-01-11 10:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ee3a737763f759cbab92dbd527b27ad952adb7ed', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 18, 'created': '2016-01-25 11:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9394c2429006a600f6fd7e865ee060e8a3f30279', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 19, 'created': '2016-01-25 14:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/21c4175b58e14dc626f93d8248f28bedea6eb42e', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 20, 'created': '2016-01-25 15:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/39fd20e39a5178436a91c2c919aeac3982f0c291', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-On: Id0fdd7725ac1d133d93b03e5a0ad7a7afd0da60b\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 21, 'created': '2016-01-25 16:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/531dfa5663f2b79ec3efee5d0e0efbd01c543897', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-On: Id0fdd7725ac1d133d93b03e5a0ad7a7afd0da60b\nDepends-On: I9e07efe1650831e81e9a783428554578874aa765\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 22, 'created': '2016-01-26 09:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2aa9575ae28be514d08b419619903ae4fe200553', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-On: Id0fdd7725ac1d133d93b03e5a0ad7a7afd0da60b\nDepends-On: I9e07efe1650831e81e9a783428554578874aa765\nDepends-On: I25e46a3d7ea10cd1748a9c602661f4d42f2b478a\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 23, 'created': '2016-01-26 11:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5240ddca25f6c8706b05dc4e7fe386bdef61b4f3', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-On: Id0fdd7725ac1d133d93b03e5a0ad7a7afd0da60b\nDepends-On: I9e07efe1650831e81e9a783428554578874aa765\nDepends-On: I25e46a3d7ea10cd1748a9c602661f4d42f2b478a\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 24, 'created': '2016-01-26 15:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f9a48971fa4ba04a00fb520f0f4439a148fdb4ac', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a more recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-On: Id0fdd7725ac1d133d93b03e5a0ad7a7afd0da60b\nDepends-On: I9e07efe1650831e81e9a783428554578874aa765\nDepends-On: I25e46a3d7ea10cd1748a9c602661f4d42f2b478a\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 25, 'created': '2016-01-26 17:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8b563143ba9c4ec5ef867938e599398966ed5461', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-On: Id0fdd7725ac1d133d93b03e5a0ad7a7afd0da60b\nDepends-On: I9e07efe1650831e81e9a783428554578874aa765\nDepends-On: I25e46a3d7ea10cd1748a9c602661f4d42f2b478a\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 26, 'created': '2016-01-27 00:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7f3dee17c535c7df50723d44b071abdb5ed8778e', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-On: Id0fdd7725ac1d133d93b03e5a0ad7a7afd0da60b\nDepends-On: I9e07efe1650831e81e9a783428554578874aa765\nDepends-On: I25e46a3d7ea10cd1748a9c602661f4d42f2b478a\nDepends-On: I4cb44d48efb6916f5ce95fcf67a2507d2c61fdac\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 27, 'created': '2016-01-27 07:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a0ac4e4b848410dd4dafc62a15e8d66e9e760a17', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-On: Id0fdd7725ac1d133d93b03e5a0ad7a7afd0da60b\nDepends-On: I9e07efe1650831e81e9a783428554578874aa765\nDepends-On: I25e46a3d7ea10cd1748a9c602661f4d42f2b478a\nDepends-On: I4cb44d48efb6916f5ce95fcf67a2507d2c61fdac\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 28, 'created': '2016-01-27 07:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a641f54058ee8c31f534f29b839cbf5323ec025f', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nDepends-On: Iecc08593833b435eca2df3665aa4963f7ac4464f\nDepends-On: I9e07efe1650831e81e9a783428554578874aa765\nDepends-On: I25e46a3d7ea10cd1748a9c602661f4d42f2b478a\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 29, 'created': '2016-02-19 12:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1b5b6519d7c4100d150fc08b18f0e9913123a667', 'message': '[NO MERGY] Test a update in trunk repository version\n\nTest a recent version of trunk repository, if this passes\nwe can manually change the centos7/current-tripleo link used\nby tripleo as a base for openstack non tripleo packages.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 30, 'created': '2016-02-26 12:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/141158054756e6b9dba1df85d29013fa906a416a', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 31, 'created': '2016-02-26 16:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4e1167174b451631f8b157d9a15b7eb5733c91c4', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 32, 'created': '2016-02-26 17:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1030317820f289a71671dedf1ecef9418ac31864', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 33, 'created': '2016-02-26 17:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/85d78e80d72403059998e8c3a204d509540d5133', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 34, 'created': '2016-02-29 10:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d8347ad5fc33ec99b80b6cd3bef6d7832b63ee6b', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 35, 'created': '2016-03-02 13:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/390aa4e762a2f1c474cc29c856d2f64cc17f9235', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 36, 'created': '2016-03-21 11:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/64bed46b4c6c13fb8c2844b2f0c240aa0b2123e2', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 37, 'created': '2016-03-21 16:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/07b0f82550041a5cb7bdb82346f61732f5954cbd', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 38, 'created': '2016-03-22 01:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/24ced1a8e7d4a581d91cfbf8975269525b378c07', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 39, 'created': '2016-03-25 21:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/160ed1b0f5792d56c774823af1c0afc329330d97', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 40, 'created': '2016-04-14 10:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/732b383cf9cf887ee350c76f0ad1b5d40ca89581', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 41, 'created': '2016-04-18 11:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ee2123528192fa6be98246888aacdef33f8fdca7', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 42, 'created': '2016-05-03 14:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/be933d7c5d41051c3b5864e657737392425cb8ef', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 43, 'created': '2016-05-03 23:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0a2b254e1f009aaa3c362a3880f67ad335348af1', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 44, 'created': '2016-05-31 19:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/aae93ab7eef4ee3d8cef07d8290467b2d54adc31', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 45, 'created': '2016-05-31 20:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/97d02db04ac7dc0f46b026be18d6d2ab83407d18', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 46, 'created': '2016-06-01 08:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6df5887c130b21abfd6d4acbed0009ff91ef1d75', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 47, 'created': '2016-06-01 10:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/89e679ca9e12bb1449a55786f2376fe59a842039', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 48, 'created': '2016-06-01 13:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2a6341f7fa82144e3ba6ff5f9a63392521b88c74', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 49, 'created': '2016-06-03 11:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a93b13d8fdf4fa3d6a7eaa471dd2791cdd97c716', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 50, 'created': '2016-06-09 11:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b1acb1cfb3af4e9c7298f860a4daade547f3ef69', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 51, 'created': '2016-06-13 19:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/638e3cab9e21fe0eb660f61298ec2a0e39bf5353', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 52, 'created': '2016-06-14 14:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c12244202637afb661a5b82a4047d50588b79f7b', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 53, 'created': '2016-06-15 11:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b94400dacba880a700f59efdfa437bf9de0ad62d', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 54, 'created': '2016-06-23 01:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4a72c2ddd2f033cdccb8416efe3f0fd6b5fce691', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 55, 'created': '2016-06-30 08:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c8759f27ba5bea3429fd960f42307b6edf3b50c8', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job to test a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 56, 'created': '2016-06-30 10:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7c8b0c824d9bbc2664450bc2674f010bbce402d6', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job on a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 57, 'created': '2016-07-07 08:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/76ec5c3ec8ab7088c12e299f14abc0204832ed9b', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job on a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 58, 'created': '2016-07-07 15:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9960a4c3f4f16554d5e2f946d9cf4cb8e10209b5', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job on a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 59, 'created': '2016-07-26 11:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9e75a7e728bb4b376ebe14ef7e8f9decb362f0fc', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job on a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}, {'number': 60, 'created': '2016-08-12 14:06:49.000000000', 'files': ['toci_gate_test.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8ce75274191396f9bd4e6311cfe0779bd995442b', 'message': '[NO MERGY] Test a fake periodic job\n\nRun a fake periodic job on a recent version of trunk.\n\nChange-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab\n'}]",0,229789,8ce75274191396f9bd4e6311cfe0779bd995442b,333,6,60,1926,,,0,"[NO MERGY] Test a fake periodic job

Run a fake periodic job on a recent version of trunk.

Change-Id: Ifd000ebca998256abe8426c63eb95e2247b88cab
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/89/229789/31 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test.sh'],1,c4426a8baaa849d6294a464d204f81f4adb17810,fake-periodic,# Test a new version of a current repository From 2015-10-01 09:04 export DELOREAN_REPO_URL=http://trunk.rdoproject.org/centos7/14/19/14193ec99b483674dae9b0a1d00760e40b6cfe7e_74f1e734/ ,,3,0
openstack%2Fneutron-vpnaas~master~Ifb9881d88b3a575886e8d76b880330f2de1580bb,openstack/neutron-vpnaas,master,Ifb9881d88b3a575886e8d76b880330f2de1580bb,Remove temporary local HasProject,MERGED,2016-08-12 04:39:23.000000000,2016-08-12 14:10:27.000000000,2016-08-12 14:10:27.000000000,"[{'_account_id': 3}, {'_account_id': 6659}, {'_account_id': 11682}]","[{'number': 1, 'created': '2016-08-12 04:39:23.000000000', 'files': ['neutron_vpnaas/db/vpn/vpn_models.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/a70f163f75ead3565e67451d8bfeb30c3e62e296', 'message': 'Remove temporary local HasProject\n\nNow that the tenant_id rename has merged in Neutron we can\nremove the temporary work-around.\n\nAlso switch from the deprecated models_v2.HasId to the relocated\nmodel_base.HasId\n\nRelated Blueprint: keystone-v3\n\nChange-Id: Ifb9881d88b3a575886e8d76b880330f2de1580bb\n'}]",0,354513,a70f163f75ead3565e67451d8bfeb30c3e62e296,7,3,1,6524,,,0,"Remove temporary local HasProject

Now that the tenant_id rename has merged in Neutron we can
remove the temporary work-around.

Also switch from the deprecated models_v2.HasId to the relocated
model_base.HasId

Related Blueprint: keystone-v3

Change-Id: Ifb9881d88b3a575886e8d76b880330f2de1580bb
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/13/354513/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/db/vpn/vpn_models.py'],1,a70f163f75ead3565e67451d8bfeb30c3e62e296,bp/keystone-v3,"class IPsecPolicy(model_base.BASEV2, model_base.HasId, model_base.HasProject):class IKEPolicy(model_base.BASEV2, model_base.HasId, model_base.HasProject):class IPsecSiteConnection(model_base.BASEV2, model_base.HasId, model_base.HasProject):class VPNService(model_base.BASEV2, model_base.HasId, model_base.HasProject):class VPNEndpointGroup(model_base.BASEV2, model_base.HasId, model_base.HasProject):","from sqlalchemy.ext import declarativeclass HasProject(object): # NOTE(dasm): Temporary solution! # Remove when I87a8ef342ccea004731ba0192b23a8e79bc382dc is merged. project_id = sa.Column(sa.String(attr.TENANT_ID_MAX_LEN), index=True) def __init__(self, *args, **kwargs): # NOTE(dasm): debtcollector requires init in class super(HasProject, self).__init__(*args, **kwargs) def get_tenant_id(self): return self.project_id def set_tenant_id(self, value): self.project_id = value @declarative.declared_attr def tenant_id(cls): return orm.synonym( 'project_id', descriptor=property(cls.get_tenant_id, cls.set_tenant_id)) class IPsecPolicy(model_base.BASEV2, models_v2.HasId, HasProject):class IKEPolicy(model_base.BASEV2, models_v2.HasId, HasProject):class IPsecSiteConnection(model_base.BASEV2, models_v2.HasId, HasProject):class VPNService(model_base.BASEV2, models_v2.HasId, HasProject):class VPNEndpointGroup(model_base.BASEV2, models_v2.HasId, HasProject):",7,31
openstack%2Fneutron-vpnaas~master~I2436052fd68b30abf81f0e999a7832d69c4d3616,openstack/neutron-vpnaas,master,I2436052fd68b30abf81f0e999a7832d69c4d3616,Updated from global requirements,MERGED,2016-08-12 04:52:01.000000000,2016-08-12 14:10:22.000000000,2016-08-12 14:10:21.000000000,"[{'_account_id': 3}, {'_account_id': 6659}, {'_account_id': 11682}]","[{'number': 1, 'created': '2016-08-12 04:52:01.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/3ca00bd971d89b9aae97fa2cd817c97bb2bb6e1d', 'message': 'Updated from global requirements\n\nChange-Id: I2436052fd68b30abf81f0e999a7832d69c4d3616\n'}]",0,354526,3ca00bd971d89b9aae97fa2cd817c97bb2bb6e1d,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I2436052fd68b30abf81f0e999a7832d69c4d3616
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/26/354526/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,3ca00bd971d89b9aae97fa2cd817c97bb2bb6e1d,openstack/requirements,oslo.db>=4.10.0 # Apache-2.0,oslo.db>=4.1.0 # Apache-2.0,1,1
openstack%2Fzun~master~I5319dcfccdfb6ca9f5b88e8e723af09276211a93,openstack/zun,master,I5319dcfccdfb6ca9f5b88e8e723af09276211a93,Updated from global requirements,MERGED,2016-08-12 04:48:55.000000000,2016-08-12 14:09:36.000000000,2016-08-12 14:09:36.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 11536}]","[{'number': 1, 'created': '2016-08-12 04:48:55.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/zun/commit/629cafab3e1f60e19b2f24c16fcd08cb39454884', 'message': 'Updated from global requirements\n\nChange-Id: I5319dcfccdfb6ca9f5b88e8e723af09276211a93\n'}]",0,354518,629cafab3e1f60e19b2f24c16fcd08cb39454884,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I5319dcfccdfb6ca9f5b88e8e723af09276211a93
",git fetch https://review.opendev.org/openstack/zun refs/changes/18/354518/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,629cafab3e1f60e19b2f24c16fcd08cb39454884,openstack/requirements,oslo.db>=4.10.0 # Apache-2.0,oslo.db>=4.1.0 # Apache-2.0,1,1
openstack%2Fpuppet-swift~master~Ie291bc49d56b98f826dd9ef47f9dca3979206f36,openstack/puppet-swift,master,Ie291bc49d56b98f826dd9ef47f9dca3979206f36,unit: improve output description for swift ring builder,MERGED,2016-08-12 11:40:57.000000000,2016-08-12 14:06:05.000000000,2016-08-12 14:06:05.000000000,"[{'_account_id': 3}, {'_account_id': 7732}, {'_account_id': 7745}]","[{'number': 1, 'created': '2016-08-12 11:40:57.000000000', 'files': ['spec/unit/puppet/provider/swift_ring_builder_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/0725547767ef8120d72545cb20f82690c7e1d6cb', 'message': 'unit: improve output description for swift ring builder\n\nChange-Id: Ie291bc49d56b98f826dd9ef47f9dca3979206f36\n'}]",0,354668,0725547767ef8120d72545cb20f82690c7e1d6cb,8,3,1,3153,,,0,"unit: improve output description for swift ring builder

Change-Id: Ie291bc49d56b98f826dd9ef47f9dca3979206f36
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/68/354668/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/unit/puppet/provider/swift_ring_builder_spec.rb'],1,0725547767ef8120d72545cb20f82690c7e1d6cb,comment/test,Devices: id region zone ip address:port replic_ip:replic_port name weight partitions balance meta,Devices: id region zone ip address port replication ip replication port name weight partitions balance meta,1,1
openstack%2Fsalt-formula-kubernetes~master~I2ac39aa38fb637a324c6ba56cca9f0e481f6dbd3,openstack/salt-formula-kubernetes,master,I2ac39aa38fb637a324c6ba56cca9f0e481f6dbd3,Raise version and mention copyright,MERGED,2016-08-12 12:53:42.000000000,2016-08-12 14:03:13.000000000,2016-08-12 14:03:13.000000000,"[{'_account_id': 3}, {'_account_id': 20194}]","[{'number': 1, 'created': '2016-08-12 12:53:42.000000000', 'files': ['README.rst', 'VERSION', 'metadata.yml', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/salt-formula-kubernetes/commit/06a55402a42e2707a65df40cb2c772e1da8ff8da', 'message': 'Raise version and mention copyright\n\nChange-Id: I2ac39aa38fb637a324c6ba56cca9f0e481f6dbd3\n'}]",0,354709,06a55402a42e2707a65df40cb2c772e1da8ff8da,6,2,1,18092,,,0,"Raise version and mention copyright

Change-Id: I2ac39aa38fb637a324c6ba56cca9f0e481f6dbd3
",git fetch https://review.opendev.org/openstack/salt-formula-kubernetes refs/changes/09/354709/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'VERSION', 'metadata.yml', 'CHANGELOG.rst']",4,06a55402a42e2707a65df40cb2c772e1da8ff8da,,2016.8.3 (2016-08-12) - remove obsolete kube-addons scripts 2016.8.2 (2016-08-10) - minor fixes ,Kubernetes formula ================== ,17,6
openstack%2Fsearchlight-ui~master~Ic7d0b4c53369df7a9e6c9b5a729c197676341781,openstack/searchlight-ui,master,Ic7d0b4c53369df7a9e6c9b5a729c197676341781,Fix test errors,MERGED,2016-08-11 14:05:57.000000000,2016-08-12 14:00:17.000000000,2016-08-12 14:00:17.000000000,"[{'_account_id': 3}, {'_account_id': 8040}, {'_account_id': 9576}, {'_account_id': 12826}]","[{'number': 1, 'created': '2016-08-11 14:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/e6c4e2808649e354bf4f676d77b996145ec8be8a', 'message': ""Fix error with horizon settings\n\nThe horizon setting is out of date. It isn't clear if\nwe need it or not, so removing it first.\n\nChange-Id: Ic7d0b4c53369df7a9e6c9b5a729c197676341781\nCloses-Bug: 1612268\n""}, {'number': 2, 'created': '2016-08-11 14:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/01a020cf4b4a6378b68fac51a7e2eb0b6d7a13a1', 'message': ""Fix error with horizon settings\n\nThe horizon settings.py is out of date.\n\nFollowing Rob's advice and just importing like sahara.\n\nChange-Id: Ic7d0b4c53369df7a9e6c9b5a729c197676341781\nCloses-Bug: 1612268\n""}, {'number': 3, 'created': '2016-08-11 17:33:09.000000000', 'files': ['searchlight_ui/tests/settings.py', 'searchlight_ui/karma.conf.js', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/68b9558e0a65380f40094a1ca879b305ef6852ea', 'message': ""Fix test errors\n\nThe horizon settings.py is out of date.\n\nFollowing Rob's advice and just importing like sahara.\n\nIn addition, This updates the javascript test env to match horizon\n\nSee also:\n\nhttps://github.com/openstack/horizon/blob/master/openstack_dashboard/karma.conf.js\n\nChange-Id: Ic7d0b4c53369df7a9e6c9b5a729c197676341781\nCloses-Bug: 1612268\n""}]",0,354095,68b9558e0a65380f40094a1ca879b305ef6852ea,13,4,3,7665,,,0,"Fix test errors

The horizon settings.py is out of date.

Following Rob's advice and just importing like sahara.

In addition, This updates the javascript test env to match horizon

See also:

https://github.com/openstack/horizon/blob/master/openstack_dashboard/karma.conf.js

Change-Id: Ic7d0b4c53369df7a9e6c9b5a729c197676341781
Closes-Bug: 1612268
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/95/354095/1 && git format-patch -1 --stdout FETCH_HEAD,['searchlight_ui/tests/settings.py'],1,e6c4e2808649e354bf4f676d77b996145ec8be8a,bug/1612268,,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import importlib import os import six from horizon.test.settings import * # noqa from horizon.utils import secret_key from openstack_dashboard import exceptions DEBUG = True TEMPLATE_DEBUG = DEBUG TEST_DIR = os.path.dirname(os.path.abspath(__file__)) ROOT_PATH = os.path.abspath(os.path.join(TEST_DIR, "".."")) MEDIA_ROOT = os.path.abspath(os.path.join(ROOT_PATH, '..', 'media')) MEDIA_URL = '/media/' STATIC_ROOT = os.path.abspath(os.path.join(ROOT_PATH, '..', 'static')) STATIC_URL = '/static/' SECRET_KEY = secret_key.generate_or_read_from_file( os.path.join(TEST_DIR, '.secret_key_store')) ROOT_URLCONF = 'searchlight_ui.tests.urls' TEMPLATE_DIRS = ( os.path.join(TEST_DIR, 'templates'), ) TEMPLATE_CONTEXT_PROCESSORS += ( 'openstack_dashboard.context_processors.openstack', ) INSTALLED_APPS = ( 'django.contrib.contenttypes', 'django.contrib.auth', 'django.contrib.sessions', 'django.contrib.staticfiles', 'django.contrib.messages', 'django.contrib.humanize', 'django_nose', 'openstack_auth', 'compressor', 'horizon', 'openstack_dashboard', 'openstack_dashboard.dashboards', ) AUTHENTICATION_BACKENDS = ('openstack_auth.backend.KeystoneBackend',) SITE_BRANDING = 'OpenStack' HORIZON_CONFIG = { ""password_validator"": { ""regex"": '^.{8,18}$', ""help_text"": ""Password must be between 8 and 18 characters."" }, 'user_home': None, 'help_url': ""http://docs.openstack.org"", 'exceptions': {'recoverable': exceptions.RECOVERABLE, 'not_found': exceptions.NOT_FOUND, 'unauthorized': exceptions.UNAUTHORIZED}, 'angular_modules': [], 'js_files': [], } # Load the pluggable dashboard settings from openstack_dashboard.utils import settings dashboard_module_names = [ 'openstack_dashboard.enabled', 'openstack_dashboard.local.enabled', 'searchlight_ui.enabled', ] dashboard_modules = [] # All dashboards must be enabled for the namespace to get registered, which is # needed by the unit tests. for module_name in dashboard_module_names: module = importlib.import_module(module_name) dashboard_modules.append(module) for submodule in six.itervalues(settings.import_submodules(module)): if getattr(submodule, 'DISABLED', None): delattr(submodule, 'DISABLED') INSTALLED_APPS = list(INSTALLED_APPS) # Make sure it's mutable settings.update_dashboards(dashboard_modules, HORIZON_CONFIG, INSTALLED_APPS) # Set to True to allow users to upload images to glance via Horizon server. # When enabled, a file form field will appear on the create image form. # See documentation for deployment considerations. HORIZON_IMAGES_ALLOW_UPLOAD = True AVAILABLE_REGIONS = [ ('http://localhost:5000/v2.0', 'local'), ('http://remote:5000/v2.0', 'remote'), ] OPENSTACK_API_VERSIONS = { ""identity"": 3 } OPENSTACK_KEYSTONE_URL = ""http://localhost:5000/v2.0"" OPENSTACK_KEYSTONE_DEFAULT_ROLE = ""_member_"" OPENSTACK_KEYSTONE_MULTIDOMAIN_SUPPORT = True OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = 'test_domain' OPENSTACK_KEYSTONE_BACKEND = { 'name': 'native', 'can_edit_user': True, 'can_edit_group': True, 'can_edit_project': True, 'can_edit_domain': True, 'can_edit_role': True } OPENSTACK_CINDER_FEATURES = { 'enable_backup': True, } OPENSTACK_NEUTRON_NETWORK = { 'enable_lb': False, 'enable_firewall': False, 'enable_vpn': False } OPENSTACK_HYPERVISOR_FEATURES = { 'can_set_mount_point': True, # NOTE: as of Grizzly this is not yet supported in Nova so enabling this # setting will not do anything useful 'can_encrypt_volumes': False } LOGGING['loggers']['openstack_dashboard'] = { 'handlers': ['test'], 'propagate': False, } LOGGING['loggers']['selenium'] = { 'handlers': ['test'], 'propagate': False, } LOGGING['loggers']['searchlight_ui'] = { 'handlers': ['test'], 'propagate': False, } SECURITY_GROUP_RULES = { 'all_tcp': { 'name': 'ALL TCP', 'ip_protocol': 'tcp', 'from_port': '1', 'to_port': '65535', }, 'http': { 'name': 'HTTP', 'ip_protocol': 'tcp', 'from_port': '80', 'to_port': '80', }, } NOSE_ARGS = ['--nocapture', '--nologcapture', '--cover-package=openstack_dashboard', '--cover-inclusive', '--all-modules'] POLICY_FILES_PATH = os.path.join(ROOT_PATH, ""conf"") POLICY_FILES = { 'identity': 'keystone_policy.json', 'compute': 'nova_policy.json' } # The openstack_auth.user.Token object isn't JSON-serializable ATM SESSION_SERIALIZER = 'django.contrib.sessions.serializers.PickleSerializer' ",0,188
openstack%2Ftrove~master~I1922dbea014b6b3b2bb0ac17ae46af13eb475930,openstack/trove,master,I1922dbea014b6b3b2bb0ac17ae46af13eb475930,Updated from global requirements,MERGED,2016-08-11 18:19:40.000000000,2016-08-12 13:51:35.000000000,2016-08-12 13:51:35.000000000,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 14576}]","[{'number': 1, 'created': '2016-08-11 18:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/07c886898a3c61f0d4c39188a5ffc05a21352c89', 'message': 'Updated from global requirements\n\nChange-Id: I1922dbea014b6b3b2bb0ac17ae46af13eb475930\n'}, {'number': 2, 'created': '2016-08-12 00:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8453b130fd7bdc276ae09dc81ad7e926c697633c', 'message': 'Updated from global requirements\n\nChange-Id: I1922dbea014b6b3b2bb0ac17ae46af13eb475930\n'}, {'number': 3, 'created': '2016-08-12 04:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/eb685d86d7bfefbbe4699449481f11a44eda64a9', 'message': 'Updated from global requirements\n\nChange-Id: I1922dbea014b6b3b2bb0ac17ae46af13eb475930\n'}, {'number': 4, 'created': '2016-08-12 04:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2ab1a223e58fd2e421bc505129730606f719b1b9', 'message': 'Updated from global requirements\n\nChange-Id: I1922dbea014b6b3b2bb0ac17ae46af13eb475930\n'}, {'number': 5, 'created': '2016-08-12 08:58:28.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/trove/commit/614927e5517c76984404ce3fc32e6e335ff56afc', 'message': 'Updated from global requirements\n\nChange-Id: I1922dbea014b6b3b2bb0ac17ae46af13eb475930\n'}]",0,354327,614927e5517c76984404ce3fc32e6e335ff56afc,13,3,5,11131,,,0,"Updated from global requirements

Change-Id: I1922dbea014b6b3b2bb0ac17ae46af13eb475930
",git fetch https://review.opendev.org/openstack/trove refs/changes/27/354327/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,07c886898a3c61f0d4c39188a5ffc05a21352c89,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Fdevstack~stable%2Fmitaka~Ic275887e97221d9ce5ce6f12cdcfb5ac94e300b0,openstack/devstack,stable/mitaka,Ic275887e97221d9ce5ce6f12cdcfb5ac94e300b0,Create default flavors in nova,ABANDONED,2016-08-12 13:00:06.000000000,2016-08-12 13:47:35.000000000,,"[{'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 6873}]","[{'number': 1, 'created': '2016-08-12 13:00:06.000000000', 'files': ['lib/nova', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/17ddfa688d9a2ab33e59aa928eed34ef8c1e3923', 'message': 'Create default flavors in nova\n\nThis makes devstack create default flavors in nova, like cinder, now\nthat nova no longer hard-codes them into its database.\n\nThe flavors created here match the legacy default flavors that nova\nkept for so long, and also creates a new devstack-namespaces set of\nflavors which are likely more useful for people.\n\nChange-Id: Ic275887e97221d9ce5ce6f12cdcfb5ac94e300b0\n(cherry picked from commit 4b205db45b34e698734740b50752e11b75035e72)\n'}]",0,354710,17ddfa688d9a2ab33e59aa928eed34ef8c1e3923,4,3,1,2750,,,0,"Create default flavors in nova

This makes devstack create default flavors in nova, like cinder, now
that nova no longer hard-codes them into its database.

The flavors created here match the legacy default flavors that nova
kept for so long, and also creates a new devstack-namespaces set of
flavors which are likely more useful for people.

Change-Id: Ic275887e97221d9ce5ce6f12cdcfb5ac94e300b0
(cherry picked from commit 4b205db45b34e698734740b50752e11b75035e72)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/10/354710/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', 'stack.sh']",2,17ddfa688d9a2ab33e59aa928eed34ef8c1e3923,nova-default-flavors, create_flavors,,20,0
openstack%2Fironic~master~I356fc0eb3702eb16b7f8e675ea416473c65af7e3,openstack/ironic,master,I356fc0eb3702eb16b7f8e675ea416473c65af7e3,Fix updating port MAC address for active nodes,MERGED,2016-08-10 12:47:52.000000000,2016-08-12 13:44:50.000000000,2016-08-12 13:33:47.000000000,"[{'_account_id': 3}, {'_account_id': 6637}, {'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 14525}, {'_account_id': 17998}, {'_account_id': 20311}]","[{'number': 1, 'created': '2016-08-10 12:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e53226b94493fb5c5d7f5089ab5a0a63851e21b8', 'message': '[WIP] Fix updating port MAC address for active nodes\n\nCurrent update fails with HTTP 500 when trying to update a bound Neutron\nport. Remove the binding before update and restore it during update.\n\nChange-Id: I356fc0eb3702eb16b7f8e675ea416473c65af7e3\nCloses-Bug: #1611744\n'}, {'number': 2, 'created': '2016-08-10 13:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/39121e151fb4f49024fcb9a5a66ea34c514d83aa', 'message': 'Fix updating port MAC address for active nodes\n\nCurrent update fails with HTTP 500 when trying to update a bound Neutron\nport. Remove the binding before update and restore it during update.\n\nFor nodes in ""active"" state (or with instance_uuid assigned) only allow\nsuch update in maintenance mode. This is not a breaking change, as previously\nit did not work at all.\n\nChange-Id: I356fc0eb3702eb16b7f8e675ea416473c65af7e3\nCloses-Bug: #1611744\n'}, {'number': 3, 'created': '2016-08-11 10:56:58.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/dhcp/neutron.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/dhcp/test_neutron.py', 'releasenotes/notes/update-live-port-ee3fa9b77f5d0cf7.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f4ff926ab161297d2281394689ea25a7ef10cbb1', 'message': 'Fix updating port MAC address for active nodes\n\nCurrent update fails with HTTP 500 when trying to update a bound Neutron\nport. Remove the binding before update and restore it during update.\n\nFor nodes in ""active"" state (or with instance_uuid assigned) only allow\nsuch update in maintenance mode. This is not a breaking change, as previously\nit did not work at all.\n\nChange-Id: I356fc0eb3702eb16b7f8e675ea416473c65af7e3\nCloses-Bug: #1611744\n'}]",3,353450,f4ff926ab161297d2281394689ea25a7ef10cbb1,21,7,3,10239,,,0,"Fix updating port MAC address for active nodes

Current update fails with HTTP 500 when trying to update a bound Neutron
port. Remove the binding before update and restore it during update.

For nodes in ""active"" state (or with instance_uuid assigned) only allow
such update in maintenance mode. This is not a breaking change, as previously
it did not work at all.

Change-Id: I356fc0eb3702eb16b7f8e675ea416473c65af7e3
Closes-Bug: #1611744
",git fetch https://review.opendev.org/openstack/ironic refs/changes/50/353450/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/dhcp/neutron.py'],1,e53226b94493fb5c5d7f5089ab5a0a63851e21b8,bug/1611744," def _get_binding(self, client, port_id): """"""Get binding:host_id property from Neutron."""""" try: return client.show_port(port_id).get('binding:host_id') except neutron_client_exc.NeutronClientException: LOG.exception(_LE('Failed to get the current binding on Neutron ' 'port %s.'), port_id) raise exception.FailedToUpdateMacOnPort(port_id=port_id) client = neutron.get_client(token) current_binding = self._get_binding(client, port_id) if current_binding: binding_clean_body = {'port': {'binding:host_id': ''}} try: client.update_port(port_id, binding_clean_body) except neutron_client_exc.NeutronClientException: LOG.exception(_LE(""Failed to remove the current binding from "" ""Neutron port %s.""), port_id) raise exception.FailedToUpdateMacOnPort(port_id=port_id) port_req_body['port']['binding:host_id'] = current_binding ",,23,0
openstack%2Frequirements~master~Iee6d2ca610c33b5c10989eeaa3efd283745b0f9b,openstack/requirements,master,Iee6d2ca610c33b5c10989eeaa3efd283745b0f9b,"Revert ""Remove botocore""",ABANDONED,2016-08-12 13:41:23.000000000,2016-08-12 13:41:44.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-08-12 13:41:23.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5ccc788fe11452df131e212f15f26034be94b021', 'message': 'Revert ""Remove botocore""\n\nThis reverts commit f158972681d16eed0ac797cfe891a8733747345c.\n\nChange-Id: Iee6d2ca610c33b5c10989eeaa3efd283745b0f9b\n'}]",0,354731,5ccc788fe11452df131e212f15f26034be94b021,2,1,1,10234,,,0,"Revert ""Remove botocore""

This reverts commit f158972681d16eed0ac797cfe891a8733747345c.

Change-Id: Iee6d2ca610c33b5c10989eeaa3efd283745b0f9b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/31/354731/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,5ccc788fe11452df131e212f15f26034be94b021,remove-crufts,botocore>=1.0.0 # Apache-2.0,,1,0
openstack%2Frequirements~master~I1b9438da124593062bd6403ce11d945400f149d2,openstack/requirements,master,I1b9438da124593062bd6403ce11d945400f149d2,Remove botocore,MERGED,2016-05-27 05:16:30.000000000,2016-08-12 13:41:23.000000000,2016-05-29 23:07:06.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 14288}]","[{'number': 1, 'created': '2016-05-27 05:16:30.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f158972681d16eed0ac797cfe891a8733747345c', 'message': 'Remove botocore\n\nThis is not consumed by any projects managed by requirements.\nOnly ec2-api[1] is using it.\n\n[1] https://github.com/openstack/ec2-api/blob/master/requirements.txt#L3\n\nChange-Id: I1b9438da124593062bd6403ce11d945400f149d2\n'}]",0,321955,f158972681d16eed0ac797cfe891a8733747345c,10,3,1,11105,,,0,"Remove botocore

This is not consumed by any projects managed by requirements.
Only ec2-api[1] is using it.

[1] https://github.com/openstack/ec2-api/blob/master/requirements.txt#L3

Change-Id: I1b9438da124593062bd6403ce11d945400f149d2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/55/321955/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,f158972681d16eed0ac797cfe891a8733747345c,remove-crufts,,botocore>=1.0.0 # Apache-2.0,0,1
openstack%2Fsenlin-dashboard~master~Id0372305d71063b0ef029c1c7fb1dac516ef088f,openstack/senlin-dashboard,master,Id0372305d71063b0ef029c1c7fb1dac516ef088f,Add unit test for senlin-dashboard rest api,MERGED,2016-08-08 13:24:36.000000000,2016-08-12 13:39:48.000000000,2016-08-12 13:39:48.000000000,"[{'_account_id': 3}, {'_account_id': 6763}]","[{'number': 1, 'created': '2016-08-08 13:24:36.000000000', 'files': ['senlin_dashboard/test/api_tests/senlin_rest_tests.py'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/efcd7e49718867362d43eb651c233f6f0dd183cf', 'message': 'Add unit test for senlin-dashboard rest api\n\nChange-Id: Id0372305d71063b0ef029c1c7fb1dac516ef088f\n'}]",0,352411,efcd7e49718867362d43eb651c233f6f0dd183cf,6,2,1,6763,,,0,"Add unit test for senlin-dashboard rest api

Change-Id: Id0372305d71063b0ef029c1c7fb1dac516ef088f
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/11/352411/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin_dashboard/test/api_tests/senlin_rest_tests.py'],1,efcd7e49718867362d43eb651c233f6f0dd183cf,,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import mock from openstack_dashboard.test import helpers as test from senlin_dashboard.api.rest import senlin class SenlinRestTestCase(test.TestCase): # # Receiver # @mock.patch.object(senlin, 'senlin') def test_receivers_get(self, client): request = self.mock_rest_request(**{'GET': {}}) client.receiver_list.return_value = ([ mock.Mock(**{'to_dict.return_value': {'id': 'one'}}), mock.Mock(**{'to_dict.return_value': {'id': 'two'}}), ], False, True) response = senlin.Receivers().get(request) self.assertStatusCode(response, 200) self.assertEqual(len(response.json['items']), 2) self.assertEqual(response.json['has_more_data'], False) self.assertEqual(response.json['has_prev_data'], True) @mock.patch.object(senlin, 'senlin') def test_receiver_get_single(self, client): request = self.mock_rest_request() client.receiver_get.return_value.to_dict.return_value = { 'name': 'test-receiver'} response = senlin.Receiver().get(request, '1') self.assertStatusCode(response, 200) self.assertEqual(response.json['name'], 'test-receiver') @mock.patch.object(senlin, 'senlin') def test_receiver_delete(self, client): request = self.mock_rest_request() senlin.Receiver().delete(request, ""1"") client.receiver_delete.assert_called_once_with(request, ""1"") ",,53,0
openstack%2Fopenstack-manuals~master~I4341b97ac53a453423bbb079305b8e83ee985fab,openstack/openstack-manuals,master,I4341b97ac53a453423bbb079305b8e83ee985fab,[user-guide] [cli-ref] Update user-guide links,ABANDONED,2016-08-12 09:01:35.000000000,2016-08-12 13:37:50.000000000,,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 10497}, {'_account_id': 14962}]","[{'number': 1, 'created': '2016-08-12 09:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c03bf839ba567f3eaf18540c5e3ca9c771c8fe54', 'message': '[user-guide] [cli-ref] Update user-guide links (underscore->hyphen)\n\nChange-Id: I4341b97ac53a453423bbb079305b8e83ee985fab\nImplements: blueprint consistency-file-rename\n'}, {'number': 2, 'created': '2016-08-12 09:04:20.000000000', 'files': ['doc/cli-reference/source/glance.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bcfd7fd18050b6abda072be6e56bc8acc0308376', 'message': '[user-guide] [cli-ref] Update user-guide links\n\nUnderscores -> hyphens\n\nChange-Id: I4341b97ac53a453423bbb079305b8e83ee985fab\nImplements: blueprint consistency-file-rename\n'}]",2,354597,bcfd7fd18050b6abda072be6e56bc8acc0308376,7,4,2,14962,,,0,"[user-guide] [cli-ref] Update user-guide links

Underscores -> hyphens

Change-Id: I4341b97ac53a453423bbb079305b8e83ee985fab
Implements: blueprint consistency-file-rename
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/97/354597/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/cli-reference/source/glance.rst'],1,c03bf839ba567f3eaf18540c5e3ca9c771c8fe54,bp/consistency-file-rename, http://docs.openstack.org/user-guide/common/cli-manage-images.html http://docs.openstack.org/user-guide/common/cli-manage-images.html http://docs.openstack.org/user-guide/common/cli-manage-images.html http://docs.openstack.org/user-guide/common/cli-manage-images.html, http://docs.openstack.org/user-guide/common/cli_manage_images.html http://docs.openstack.org/user-guide/common/cli_manage_images.html http://docs.openstack.org/user-guide/common/cli_manage_images.html http://docs.openstack.org/user-guide/common/cli_manage_images.html,4,4
openstack%2Fpuppet-openstack-integration~master~I0fa36304cac7fadb27a006b72efd8d9e409e8f97,openstack/puppet-openstack-integration,master,I0fa36304cac7fadb27a006b72efd8d9e409e8f97,Promote RDO to latest trunk,MERGED,2016-08-11 19:48:28.000000000,2016-08-12 13:33:02.000000000,2016-08-12 13:33:02.000000000,"[{'_account_id': 3}, {'_account_id': 3153}]","[{'number': 1, 'created': '2016-08-11 19:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/57eb2c3c46b95a3835c2993a5100cceb205aeeb8', 'message': 'Promote RDO to latest trunk\n\nChange-Id: I0fa36304cac7fadb27a006b72efd8d9e409e8f97\n'}, {'number': 2, 'created': '2016-08-12 01:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/72b345deb11fb19a8c631c474adff3feb6585177', 'message': 'Promote RDO to latest trunk\n\nDepends-On: Id9f1a478670e7b618ce9d222c5bc9739e3dd6286\nChange-Id: I0fa36304cac7fadb27a006b72efd8d9e409e8f97\n'}, {'number': 3, 'created': '2016-08-12 01:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ede68449a240fa08eea71d9a02953cba860cffff', 'message': 'Promote RDO to latest trunk\n\nAlign the stars to promote CI.\n\nDepends-On: Id9f1a478670e7b618ce9d222c5bc9739e3dd6286\nChange-Id: I0fa36304cac7fadb27a006b72efd8d9e409e8f97\n'}, {'number': 4, 'created': '2016-08-12 11:53:08.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/67304625faf72203b0437e843dab5975091263cb', 'message': 'Promote RDO to latest trunk\n\nChange-Id: I0fa36304cac7fadb27a006b72efd8d9e409e8f97\n'}]",0,354355,67304625faf72203b0437e843dab5975091263cb,13,2,4,3153,,,0,"Promote RDO to latest trunk

Change-Id: I0fa36304cac7fadb27a006b72efd8d9e409e8f97
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/55/354355/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,57eb2c3c46b95a3835c2993a5100cceb205aeeb8,rdo/promote," 'baseurl' => 'https://trunk.rdoproject.org/centos7-master/95/c7/95c70a9b6bbd3075f369fd1e3faa20a2d1df818b_586add66/',"," 'baseurl' => 'https://trunk.rdoproject.org/centos7-master/43/42/434269a0e82c654f5b303e3cf9689ed1fd9623d8_78921014/',",1,1
openstack%2Finstack-undercloud~master~I227df7b35db000169dba167773d1f0f7e29b1527,openstack/instack-undercloud,master,I227df7b35db000169dba167773d1f0f7e29b1527,Add constraints needed for ironic and inspector,MERGED,2016-08-11 07:04:45.000000000,2016-08-12 13:32:54.000000000,2016-08-12 13:32:54.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 10873}]","[{'number': 1, 'created': '2016-08-11 07:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/a27834f9cdf92f2efc169a88b54f4983b1ff5472', 'message': 'HAProxy should start before ironic and inspector\n\nwhen trying to initiate ironic-inspector it immediately tries to\naccess the endpoint. This endpoint might be unavailable, depending if\nironic-inspector started before HAProxy. So we need to arrange the\nordering so HAProxy starts before that.\n\nChange-Id: I227df7b35db000169dba167773d1f0f7e29b1527\n'}, {'number': 2, 'created': '2016-08-11 09:34:18.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/7566c7c79ccd86924f1dbf15905b1ff3da114fd4', 'message': 'Add constraints needed for ironic and inspector\n\nWhen trying to initiate ironic-inspector it immediately tries to\naccess the endpoint. This endpoint might be unavailable, depending if\nironic-inspector started before HAProxy. So we need to arrange the\nordering so HAProxy starts before that.\n\nOn the other hand, mistral-db-populate needs inspector to be running,\nelse it will provision the baremetal.introspection actions without\ninputs.\n\nChange-Id: I227df7b35db000169dba167773d1f0f7e29b1527\n'}]",2,353865,7566c7c79ccd86924f1dbf15905b1ff3da114fd4,17,6,2,10873,,,0,"Add constraints needed for ironic and inspector

When trying to initiate ironic-inspector it immediately tries to
access the endpoint. This endpoint might be unavailable, depending if
ironic-inspector started before HAProxy. So we need to arrange the
ordering so HAProxy starts before that.

On the other hand, mistral-db-populate needs inspector to be running,
else it will provision the baremetal.introspection actions without
inputs.

Change-Id: I227df7b35db000169dba167773d1f0f7e29b1527
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/65/353865/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.pp'],1,a27834f9cdf92f2efc169a88b54f4983b1ff5472,, # started yet. The same is the case for ironic and ironic-inspector. Class['::tripleo::haproxy'] -> Class['::ironic::api'] Class['::tripleo::haproxy'] -> Class['::ironic::inspector'], # started yet.,3,1
openstack%2Fneutron-vpnaas~master~I02b28d3b354c3b175147c5be36eea4dc7e05f2a3,openstack/neutron-vpnaas,master,I02b28d3b354c3b175147c5be36eea4dc7e05f2a3,Constrain remaining tox targets,MERGED,2016-08-12 09:43:38.000000000,2016-08-12 13:26:04.000000000,2016-08-12 13:26:04.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 6659}]","[{'number': 1, 'created': '2016-08-12 09:43:38.000000000', 'files': ['tools/tox_install.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/2941611807489135e6718306f3ae6905f0e7d39f', 'message': 'Constrain remaining tox targets\n\nAs per [1], we now can constrain targets that are executed in post\nqueue too.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2016-August/101474.html\n\nChange-Id: I02b28d3b354c3b175147c5be36eea4dc7e05f2a3\n'}]",0,354618,2941611807489135e6718306f3ae6905f0e7d39f,7,3,1,9656,,,0,"Constrain remaining tox targets

As per [1], we now can constrain targets that are executed in post
queue too.

[1] http://lists.openstack.org/pipermail/openstack-dev/2016-August/101474.html

Change-Id: I02b28d3b354c3b175147c5be36eea4dc7e05f2a3
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/18/354618/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tox_install.sh', 'tox.ini']",2,2941611807489135e6718306f3ae6905f0e7d39f,,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},"install_command = {toxinidir}/tools/tox_install.sh constrained -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages}# TODO(pc_m): Remove install_command, once infra supports constraints for # this target. install_command = {toxinidir}/tools/tox_install.sh unconstrained {opts} {packages}# TODO(pc_m): Remove install_command, once infra supports constraints for # this target. install_command = {toxinidir}/tools/tox_install.sh unconstrained {opts} {packages}# TODO(pc_m): Remove install_command, once infra supports constraints for # this target. install_command = pip install -U {opts} {packages}",2,15
openstack%2Ftripleo-heat-templates~master~Ib522e89c36eed2115a6586dd5a6770907d9b33db,openstack/tripleo-heat-templates,master,Ib522e89c36eed2115a6586dd5a6770907d9b33db,Convert EndpointMap to not require per-service VIP parameters,MERGED,2016-07-15 14:47:57.000000000,2016-08-12 13:24:20.000000000,2016-08-12 13:24:20.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 10873}]","[{'number': 1, 'created': '2016-07-15 14:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c7fe324dc41a8aee6e3e65a33e2e71788ea159d', 'message': 'Convert EndpointMap to not require per-service VIP parameters\n\nCurrently we have a hard-coded set of per-service parameters, which\nwill cause problems for custom roles and full composability.\n\nAs a first step towards making this more configurable, remove the\nhard-coded per-service parameters from overcloud.yaml, and adjust\nthe EndpointMap generation to instead accept two mappings, the\nServiceNetMap and a mapping of networks to IPs (effectively this\njust moves the map lookup inside the endpoint map instead of\ninside overcloud.yaml)\n\nChange-Id: Ib522e89c36eed2115a6586dd5a6770907d9b33db\nPartially-Implements: blueprint custom-roles\n'}, {'number': 2, 'created': '2016-08-05 17:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/814b581e542dc8831571a785f3a7598e4359a0f2', 'message': 'Convert EndpointMap to not require per-service VIP parameters\n\nCurrently we have a hard-coded set of per-service parameters, which\nwill cause problems for custom roles and full composability.\n\nAs a first step towards making this more configurable, remove the\nhard-coded per-service parameters from overcloud.yaml, and adjust\nthe EndpointMap generation to instead accept two mappings, the\nServiceNetMap and a mapping of networks to IPs (effectively this\njust moves the map lookup inside the endpoint map instead of\ninside overcloud.yaml)\n\nChange-Id: Ib522e89c36eed2115a6586dd5a6770907d9b33db\nPartially-Implements: blueprint custom-roles\n'}, {'number': 3, 'created': '2016-08-05 20:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2458b80ccba7cfc2871574900d3285d534d1d348', 'message': 'Convert EndpointMap to not require per-service VIP parameters\n\nCurrently we have a hard-coded set of per-service parameters, which\nwill cause problems for custom roles and full composability.\n\nAs a first step towards making this more configurable, remove the\nhard-coded per-service parameters from overcloud.yaml, and adjust\nthe EndpointMap generation to instead accept two mappings, the\nServiceNetMap and a mapping of networks to IPs (effectively this\njust moves the map lookup inside the endpoint map instead of\ninside overcloud.yaml)\n\nChange-Id: Ib522e89c36eed2115a6586dd5a6770907d9b33db\nPartially-Implements: blueprint custom-roles\n'}, {'number': 4, 'created': '2016-08-09 13:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/197f0242ce21c2fe05864b7dcd4c6a94b8f5bccf', 'message': 'Convert EndpointMap to not require per-service VIP parameters\n\nCurrently we have a hard-coded set of per-service parameters, which\nwill cause problems for custom roles and full composability.\n\nAs a first step towards making this more configurable, remove the\nhard-coded per-service parameters from overcloud.yaml, and adjust\nthe EndpointMap generation to instead accept two mappings, the\nServiceNetMap and a mapping of networks to IPs (effectively this\njust moves the map lookup inside the endpoint map instead of\ninside overcloud.yaml)\n\nChange-Id: Ib522e89c36eed2115a6586dd5a6770907d9b33db\nPartially-Implements: blueprint custom-roles\n'}, {'number': 5, 'created': '2016-08-09 13:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67fa73ceb6d692c3159048060c21be1f327c6dd5', 'message': 'Convert EndpointMap to not require per-service VIP parameters\n\nCurrently we have a hard-coded set of per-service parameters, which\nwill cause problems for custom roles and full composability.\n\nAs a first step towards making this more configurable, remove the\nhard-coded per-service parameters from overcloud.yaml, and adjust\nthe EndpointMap generation to instead accept two mappings, the\nServiceNetMap and a mapping of networks to IPs (effectively this\njust moves the map lookup inside the endpoint map instead of\ninside overcloud.yaml)\n\nChange-Id: Ib522e89c36eed2115a6586dd5a6770907d9b33db\nPartially-Implements: blueprint custom-roles\n'}, {'number': 6, 'created': '2016-08-11 06:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6e358122d1b5c04674e6dbb81f6653afc15344e8', 'message': 'Convert EndpointMap to not require per-service VIP parameters\n\nCurrently we have a hard-coded set of per-service parameters, which\nwill cause problems for custom roles and full composability.\n\nAs a first step towards making this more configurable, remove the\nhard-coded per-service parameters from overcloud.yaml, and adjust\nthe EndpointMap generation to instead accept two mappings, the\nServiceNetMap and a mapping of networks to IPs (effectively this\njust moves the map lookup inside the endpoint map instead of\ninside overcloud.yaml)\n\nChange-Id: Ib522e89c36eed2115a6586dd5a6770907d9b33db\nPartially-Implements: blueprint custom-roles\n'}, {'number': 7, 'created': '2016-08-11 11:36:50.000000000', 'files': ['puppet/services/aodh-base.yaml', 'puppet/services/sahara-base.yaml', 'network/endpoints/build_endpoint_map.py', 'puppet/services/ironic-base.yaml', 'puppet/services/nova-base.yaml', 'puppet/services/neutron-server.yaml', 'puppet/services/gnocchi-base.yaml', 'puppet/services/manila-base.yaml', 'environments/enable-tls.yaml', 'network/endpoints/endpoint_map.yaml', 'overcloud.yaml', 'network/endpoints/endpoint_data.yaml', 'puppet/services/glance-registry.yaml', 'puppet/services/ceilometer-base.yaml', 'puppet/services/cinder-base.yaml', 'puppet/services/heat-engine.yaml', 'puppet/services/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/450be229c3df3c3d54a90bc715c859eb89c9810b', 'message': 'Convert EndpointMap to not require per-service VIP parameters\n\nCurrently we have a hard-coded set of per-service parameters, which\nwill cause problems for custom roles and full composability.\n\nAs a first step towards making this more configurable, remove the\nhard-coded per-service parameters from overcloud.yaml, and adjust\nthe EndpointMap generation to instead accept two mappings, the\nServiceNetMap and a mapping of networks to IPs (effectively this\njust moves the map lookup inside the endpoint map instead of\ninside overcloud.yaml)\n\nChange-Id: Ib522e89c36eed2115a6586dd5a6770907d9b33db\nPartially-Implements: blueprint custom-roles\n'}]",2,342900,450be229c3df3c3d54a90bc715c859eb89c9810b,56,4,7,4328,,,0,"Convert EndpointMap to not require per-service VIP parameters

Currently we have a hard-coded set of per-service parameters, which
will cause problems for custom roles and full composability.

As a first step towards making this more configurable, remove the
hard-coded per-service parameters from overcloud.yaml, and adjust
the EndpointMap generation to instead accept two mappings, the
ServiceNetMap and a mapping of networks to IPs (effectively this
just moves the map lookup inside the endpoint map instead of
inside overcloud.yaml)

Change-Id: Ib522e89c36eed2115a6586dd5a6770907d9b33db
Partially-Implements: blueprint custom-roles
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/342900/2 && git format-patch -1 --stdout FETCH_HEAD,"['network/endpoints/endpoint_map.yaml', 'network/endpoints/build_endpoint_map.py', 'overcloud.yaml', 'network/endpoints/endpoint_data.yaml']",4,1c7fe324dc41a8aee6e3e65a33e2e71788ea159d,bp/custom-roles, net_param: AodhApi Public: net_param: Public Admin: net_param: AodhApi net_param: CeilometerApi Public: net_param: Public Admin: net_param: CeilometerApi net_param: GnocchiApi Public: net_param: Public Admin: net_param: GnocchiApi net_param: CinderApi net_param: Public net_param: CinderApi net_param: GlanceApi Public: net_param: Public Admin: net_param: GlanceApi net_param: GlanceRegistry net_param: Mysql net_param: MysqlNoBrackets net_param: HeatApi net_param: Public net_param: HeatApi net_param: HeatApi net_param: Public net_param: HeatApi net_param: Public net_param: KeystonePublicApi net_param: Public net_param: KeystoneAdminApi net_param: NeutronApi Public: net_param: Public Admin: net_param: NeutronApi net_param: NovaApi net_param: Public net_param: NovaApi net_param: NovaApi Public: net_param: Public Admin: net_param: NovaApi net_param: SwiftProxy net_param: Public net_param: SwiftProxy net_param: SaharaApi net_param: Public net_param: SaharaApi net_param: IronicApi net_param: Public net_param: IronicApi, vip_param: AodhApi Public: vip_param: Public Admin: vip_param: AodhApi vip_param: CeilometerApi Public: vip_param: Public Admin: vip_param: CeilometerApi vip_param: GnocchiApi Public: vip_param: Public Admin: vip_param: GnocchiApi vip_param: CinderApi vip_param: Public vip_param: CinderApi vip_param: GlanceApi Public: vip_param: Public Admin: vip_param: GlanceApi vip_param: GlanceRegistry vip_param: Mysql vip_param: MysqlNoBrackets vip_param: HeatApi vip_param: Public vip_param: HeatApi vip_param: HeatApi vip_param: Public vip_param: HeatApi vip_param: Public vip_param: KeystonePublicApi vip_param: Public vip_param: KeystoneAdminApi vip_param: NeutronApi Public: vip_param: Public Admin: vip_param: NeutronApi vip_param: NovaApi vip_param: Public vip_param: NovaApi vip_param: NovaApi Public: vip_param: Public Admin: vip_param: NovaApi vip_param: SwiftProxy vip_param: Public vip_param: SwiftProxy vip_param: SaharaApi vip_param: Public vip_param: SaharaApi vip_param: IronicApi vip_param: Public vip_param: IronicApi,743,265
openstack%2Ffuel-plugin-murano-tests~master~Ia65237badc35746a56f60f3e84f9f2f47c92d4bb,openstack/fuel-plugin-murano-tests,master,Ia65237badc35746a56f60f3e84f9f2f47c92d4bb,Version bump for 'fuel-devops',MERGED,2016-08-12 13:19:49.000000000,2016-08-12 13:22:31.000000000,2016-08-12 13:22:31.000000000,"[{'_account_id': 3}, {'_account_id': 10288}, {'_account_id': 13962}]","[{'number': 1, 'created': '2016-08-12 13:19:49.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/fuel-plugin-murano-tests/commit/9ad9b913e01f6515dc171b058887c598fe680b3a', 'message': ""Version bump for 'fuel-devops'\n\nChange-Id: Ia65237badc35746a56f60f3e84f9f2f47c92d4bb\n""}]",0,354716,9ad9b913e01f6515dc171b058887c598fe680b3a,7,3,1,13124,,,0,"Version bump for 'fuel-devops'

Change-Id: Ia65237badc35746a56f60f3e84f9f2f47c92d4bb
",git fetch https://review.opendev.org/openstack/fuel-plugin-murano-tests refs/changes/16/354716/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9ad9b913e01f6515dc171b058887c598fe680b3a,,git+git://github.com/openstack/fuel-devops.git@2.9.23tox ,git+git://github.com/openstack/fuel-devops.git@2.9.21tox,2,2
openstack%2Fglance-specs~master~I82262092d7c955472b2a4e69d9c78c312b6ab5e2,openstack/glance-specs,master,I82262092d7c955472b2a4e69d9c78c312b6ab5e2,Return 409 if setting location to saving image,MERGED,2016-06-02 19:43:33.000000000,2016-08-12 13:21:17.000000000,2016-08-12 13:21:17.000000000,"[{'_account_id': 3}, {'_account_id': 455}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 7575}, {'_account_id': 8158}]","[{'number': 1, 'created': '2016-06-02 19:43:33.000000000', 'files': ['specs/newton/approved/glance/lite-specs.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/348213d971f397012950929ce283b98b6c0b74a4', 'message': ""Return 409 if setting location to saving image\n\nThis lite-spec describes the necesserity of returning Conflict\nerror if user want to add location when image is not in 'queued'\nor 'active' state.\n\nChange-Id: I82262092d7c955472b2a4e69d9c78c312b6ab5e2\n""}]",1,324780,348213d971f397012950929ce283b98b6c0b74a4,11,7,1,11391,,,0,"Return 409 if setting location to saving image

This lite-spec describes the necesserity of returning Conflict
error if user want to add location when image is not in 'queued'
or 'active' state.

Change-Id: I82262092d7c955472b2a4e69d9c78c312b6ab5e2
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/80/324780/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/approved/glance/lite-specs.rst'],1,348213d971f397012950929ce283b98b6c0b74a4,bug/1587985,"Return 409 if setting location to saving or deactivated image ------------------------------------------------------------- :problem: Currently, if 'show_multiple_locations' is activated, user can set custom location to an image, even if it has 'saving' or 'deactivated' status. Example: http://paste.openstack.org/show/506998/ :solution: Add a check, that looks at the image status and if it's different from 'queued' or 'active' then returns Conflict error (409 response code). :impacts: users will get Conflict error, when they try to set location to image in 'saving' or 'deactivated' state. :timeline: Expected to be merged within the N-2 time frame. :link: https://review.openstack.org/#/c/324012/ :assignee: Mike Fedosin Return 409 if setting location to saving or deactivated image +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ ",,24,0
openstack%2Fglance-specs~master~Ib69c5661aee9b8bc0032e3f1a58849d9f49e9aab,openstack/glance-specs,master,Ib69c5661aee9b8bc0032e3f1a58849d9f49e9aab,Add distinction layer,MERGED,2016-06-17 09:50:40.000000000,2016-08-12 13:19:55.000000000,2016-08-12 13:19:55.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5314}, {'_account_id': 6159}, {'_account_id': 11391}, {'_account_id': 14676}]","[{'number': 1, 'created': '2016-06-17 09:50:40.000000000', 'files': ['specs/newton/approved/glance/add-distinction-layer.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/967e8bb403c4c3d01462d01b54923e345ab00480', 'message': 'Add distinction layer\n\nAdd distinction layer which will store all changes of the object and\npass to DB only modified attributes.\n\nImplements spec-bp: add-distinction-layer\n\nChange-Id: Ib69c5661aee9b8bc0032e3f1a58849d9f49e9aab\n'}]",4,331000,967e8bb403c4c3d01462d01b54923e345ab00480,14,6,1,16658,,,0,"Add distinction layer

Add distinction layer which will store all changes of the object and
pass to DB only modified attributes.

Implements spec-bp: add-distinction-layer

Change-Id: Ib69c5661aee9b8bc0032e3f1a58849d9f49e9aab
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/00/331000/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/approved/glance/add-distinction-layer.rst'],1,967e8bb403c4c3d01462d01b54923e345ab00480,bp/add-distinction-layer,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================== Add distinction layer in domain model ===================================== https://blueprints.launchpad.net/glance/+spec/add-distinction-layer To improve the stability and performance it is suggested to make changes in the domain by adding distinction layer, which will store all changes of the object and pass to DB only modified attributes. Problem description =================== Current Glance Images v2 architectures have a defect associated with risks of race conditions arising under heavy load on the system. Here is an example of the race condition: Suppose an image has properties ``{""foo"": ""bar"", ""goo"": ""far""}``. User1 wants to change ``{""foo"": ""baz""}``. User2 wants to change ``{""goo"": ""yuck""}``. If user1 and user2 make concurrent requests, they both get the same data to work with. Suppose user1's change gets written first, resulting in: ``{""foo"": ""baz"", ""goo"": ""far""}``. Then user2's change is written, resulting in: ``{""foo"": ""bar"", ""goo"": ""yuck""}``. User1's change has been reverted, which is not desired behavior. Besides this, there is an issue of unreasonably increased load on the database when updating. This problem occurs because all image fields are being updated each time whether they've been modified or not, so there is lots of unnecessary traffic on the database. Also there is an issue an issue with changing the status of the image. These issues do not appear at low load, but in the future, with wider use, it can lead to serious problems, such as loss of information and unstable behaviour. A more detailed description of the problems can be found on references [7]_ and [8]_. Proposed change =============== When updating of image the original image is retrieved from the database. Distinction layer creates dict representation of modified image and compares it with the original one. Then it passes to DB layer dict of modified attributes. Continuing the example from the previous section, consider the situation after user1's update has been processed and ``{""foo"": ""baz""}`` in the database. User2's distinction layer image record contains ``{""foo"": ""bar""}``, since that was the state of the image when the fetch occurred. However, since user2's change request doesn't touch ``foo``, only ``{""goo"": ""yuck""}`` will be written to the database. Thus the final image record will have ``{""foo"": ""baz"", ""goo"": ""yuck""}`` as both users intend. Of course, if user2 does actually change the value of ``foo``, then user2's change will be persisted in the database, but this is expected behavior. Alternatives ------------ There have been attempts to solve the problem using inheritance. References on commits [1]_, [2]_. But commits were abandoned, because inheritance is contrary to the Glance design strategy of favoring flat hierarchies and preferring aggregation over inheritance. Alternatively, it was suggested to forbid updates while an image is in ""saving"" state. But this idea was rejected, because images tend to be in status 'saving' for a relatively long period, and users expect to be able to modify the image record during this time. Also it fixes only a special case, when status is 'saving', but the whole problem with race conditions and unreasonably increased load on the database is still here. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ Performance tests were conducted. We used the database: MySQL Ver 14.14 Distrib 5.5.47 We determined the time spent in update one parameter of image. Tests showed the dependence of the execution time of the number of requests. Test code is presented in [3]_. We tested two versions of the code: 1) ""master"" branch; 2) commit ""Add distinction layer"" [6]_. The results are presented in table [4]_ and graph [5]_. Graph showed the dependence of the execution time of the number of requests: * Blue line - ""master"" branch; * Red line - commit ""Add distinction layer"" [6]_. The testing concluded that the use of distinction layer accelerates update average of 34.54%. Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- dshakhray Reviewers --------- mfedosin nikhil rosmaita Work Items ---------- 1) Implement distinction layer: a. Create a distinction layer and add it to 'gateway.py' b. Add classes ImageProxy, ImageRepoProxy, ImageFactoryProxy. c. Add to ImageRepoProxy class methods get, add, save. d. Add the class ImageRepoProxy additional methods to implement the logic. e. Make the appropriate changes in the 'db/simple/api.py', 'db/simple/api.py', 'db/__init__.py'. 2) Add related functional and unit tests. 3) Write a documentation about this layer. Dependencies ============ None Testing ======= Unit and functional tests will be added as appropriate. Documentation Impact ==================== All changes have to be described in detail in the related documentation section. References ========== .. [1] `Fix incorrect status update during upload in v2 <https://review.openstack.org/#/c/123799/>`_ .. [2] `v2 update image persists only modified attributes <https://review.openstack.org/#/c/123722/>`_ .. [3] `Script for performance tests <http://paste.openstack.org/show/497360/>`_ .. [4] `Table of performance test results <http://paste.openstack.org/show/497353/>`_ .. [5] `Graph of performance test results <https://drive.google.com/file/d/0B0Tzc8_HuQodS1VMbGpUZHhEYUE/view?usp=sharing>`_ .. [6] `Commit ""Add distinction layer"" <https://review.openstack.org/#/c/315483/>`_ .. [7] `Concurrency Update issue in v2 <https://bugs.launchpad.net/glance/+bug/1371728>`_ .. [8] `Incorrect status change after image uploading in v2 <https://bugs.launchpad.net/glance/+bug/1372564>`_ ",,228,0
openstack%2Fglance-specs~master~Iab63f4dc5d1bebfb89d8792335b4da8634266d5c,openstack/glance-specs,master,Iab63f4dc5d1bebfb89d8792335b4da8634266d5c,Community image visibility,MERGED,2016-01-21 20:13:49.000000000,2016-08-12 13:19:46.000000000,2016-08-12 13:19:46.000000000,"[{'_account_id': 3}, {'_account_id': 136}, {'_account_id': 455}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 6484}, {'_account_id': 7179}, {'_account_id': 7665}, {'_account_id': 8040}, {'_account_id': 8759}, {'_account_id': 9303}, {'_account_id': 12826}, {'_account_id': 15054}, {'_account_id': 16183}, {'_account_id': 17043}, {'_account_id': 17116}]","[{'number': 1, 'created': '2016-01-21 20:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/6ad3824e2f03e425344e2f4f7b966c5bf57337dd', 'message': 'community image visibility BP\n\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 2, 'created': '2016-01-22 02:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/0a36ba9ada411a9a0fee71450218f0cad398f2a3', 'message': 'community image visibility BP\n\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 3, 'created': '2016-01-22 02:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/888c6e13ebe8bbd73e44491a97117cb7ec1657df', 'message': 'community image visibility BP\n\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 4, 'created': '2016-01-22 22:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/4db9c9007b3cfdf411bb68d43c5848bd2a6cc8a4', 'message': 'community image visibility BP\n\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 5, 'created': '2016-01-22 22:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/eb46c0e96dbd37beb989584b2e4ce958eebe66b8', 'message': 'Community image visibility BP\n\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 6, 'created': '2016-01-23 00:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/b739b833fa77c9cbb790af8c489bb5ff27a4d041', 'message': 'Community image visibility BP\n\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 7, 'created': '2016-01-23 01:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/83cb2622d73e860dc181c74858af67e2e2515c25', 'message': 'Community image visibility BP\n\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 8, 'created': '2016-01-23 01:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/07fd7d9c06afe73a0b2b18508defdc7bfc6594da', 'message': 'Community image visibility BP\n\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 9, 'created': '2016-01-25 18:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/f6d9af250021c5e691106fe8f90e7ec5e1513143', 'message': 'Community image visibility BP\n\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 10, 'created': '2016-04-01 23:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/d97c27a59290f0dd925a60dc510178a7037ef1d6', 'message': 'Community image visibility BP\n\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 11, 'created': '2016-05-03 22:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/50a46651c879332c6bd628de846ccebaa6fcbf97', 'message': 'Community image visibility BP\n\nCo-Authored-By: Timothy Symanczyk <timothy_symanczyk@symantec.com>\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 12, 'created': '2016-05-05 20:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/60170260548db31e98e379791d2044e38301a11a', 'message': 'Community image visibility BP\n\nCo-Authored-By: Timothy Symanczyk <timothy_symanczyk@symantec.com>\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 13, 'created': '2016-05-05 20:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/e200eedf0f51b53b8589ea533467f48f0164dc98', 'message': 'Community image visibility BP\n\nCo-Authored-By: Timothy Symanczyk <timothy_symanczyk@symantec.com>\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 14, 'created': '2016-05-05 22:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/60baad4de582806f0c934b0ab9ec88bd2fd274e3', 'message': 'Community image visibility BP\n\nCo-Authored-By: Timothy Symanczyk <timothy_symanczyk@symantec.com>\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 15, 'created': '2016-05-09 18:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/358fa7bf2a9eca8454ccd6ff0c265dcd703aaa40', 'message': 'Community image visibility BP\n\nCo-Authored-By: Timothy Symanczyk <timothy_symanczyk@symantec.com>\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 16, 'created': '2016-05-09 21:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/a9557bc180f8ecff31b72477439dc95bd185e34b', 'message': 'Community image visibility BP\n\nCo-Authored-By: Timothy Symanczyk <timothy_symanczyk@symantec.com>\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n'}, {'number': 17, 'created': '2016-05-10 17:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/c542527352debd3fa560871c56a46ac58b25e944', 'message': ""Community image visibility\n\nSpec introducing a new 'visiblity' core property for images. Adds\nin an explicit 'shared' value to encompass and integrate the\nexisting concepts for image sharing, as well as introduces the\nentirely new 'community' value to help address some desirable use\ncases not currently covered by private / public / shared.\n\nCo-Authored-By: Timothy Symanczyk <timothy_symanczyk@symantec.com>\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n""}, {'number': 18, 'created': '2016-05-24 22:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/9c50d9c988b77e43ac699998b4bbd188c5e06ff9', 'message': ""Community image visibility\n\nSpec expanding the 'visibility' core property for images. Adds\nan explicit visibility field within the database. Adds an explicit\n'shared' value for same to encompass and integrate the existing\nconcepts for image sharing, as well as introduces the\nentirely new 'community' value to help address some desirable use\ncases not currently covered by private / public / shared.\n\nCo-Authored-By: Timothy Symanczyk <timothy_symanczyk@symantec.com>\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n""}, {'number': 19, 'created': '2016-06-07 16:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/4d17447f9ee286a2e77318f15b5de840dfbf5a69', 'message': ""Community image visibility\n\nSpec expanding the 'visibility' core property for images. Adds\nan explicit visibility field within the database. Adds an explicit\n'shared' value for same to encompass and integrate the existing\nconcepts for image sharing, as well as introduces the\nentirely new 'community' value to help address some desirable use\ncases not currently covered by private / public / shared.\n\nCo-Authored-By: Timothy Symanczyk <timothy_symanczyk@symantec.com>\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n""}, {'number': 20, 'created': '2016-06-21 22:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/6e994ab39f82d78162a51c9f542ce56b9be16bad', 'message': ""Community image visibility\n\nSpec expanding the 'visibility' core property for images. Adds\nan explicit visibility field within the database. Adds an explicit\n'shared' value for same to encompass and integrate the existing\nconcepts for image sharing, as well as introduces the\nentirely new 'community' value to help address some desirable use\ncases not currently covered by private / public / shared.\n\nCo-Authored-By: Timothy Symanczyk <timothy_symanczyk@symantec.com>\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n""}, {'number': 21, 'created': '2016-06-29 21:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/db8be3b10398f0fb4196db77d7862b415fcafb7d', 'message': ""Community image visibility\n\nSpec expanding the 'visibility' core property for images. Adds\nan explicit visibility field within the database. Adds an explicit\n'shared' value for same to encompass and integrate the existing\nconcepts for image sharing, as well as introduces the\nentirely new 'community' value to help address some desirable use\ncases not currently covered by private / public / shared.\n\nCo-Authored-By: Timothy Symanczyk <timothy_symanczyk@symantec.com>\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n""}, {'number': 22, 'created': '2016-07-14 21:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/2eaeff60a51590f4af79b67243ce57735e05361d', 'message': ""Community image visibility\n\nSpec expanding the 'visibility' core property for images. Adds\nan explicit visibility field within the database. Adds an explicit\n'shared' value for same to encompass and integrate the existing\nconcepts for image sharing, as well as introduces the\nentirely new 'community' value to help address some desirable use\ncases not currently covered by private / public / shared.\n\nCo-Authored-By: Timothy Symanczyk <timothy_symanczyk@symantec.com>\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n""}, {'number': 23, 'created': '2016-07-27 19:14:25.000000000', 'files': ['specs/newton/approved/glance/community_visibility.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/25d15962a4e5ff2d5ba257345e7c92b1e3ea72e0', 'message': ""Community image visibility\n\nSpec expanding the 'visibility' core property for images. Adds\nan explicit visibility field within the database. Adds an explicit\n'shared' value for same to encompass and integrate the existing\nconcepts for image sharing, as well as introduces the\nentirely new 'community' value to help address some desirable use\ncases not currently covered by private / public / shared.\n\nCo-Authored-By: Timothy Symanczyk <timothy_symanczyk@symantec.com>\nChange-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c\n""}]",139,271019,25d15962a4e5ff2d5ba257345e7c92b1e3ea72e0,128,17,23,16183,,,0,"Community image visibility

Spec expanding the 'visibility' core property for images. Adds
an explicit visibility field within the database. Adds an explicit
'shared' value for same to encompass and integrate the existing
concepts for image sharing, as well as introduces the
entirely new 'community' value to help address some desirable use
cases not currently covered by private / public / shared.

Co-Authored-By: Timothy Symanczyk <timothy_symanczyk@symantec.com>
Change-Id: Iab63f4dc5d1bebfb89d8792335b4da8634266d5c
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/19/271019/11 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/community_visitility.rst'],1,6ad3824e2f03e425344e2f4f7b966c5bf57337dd,bp/community-images,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================= Add community-level image sharing ================================= This blueprint is mostly based on an earlier version blueprint created by Louis Taylor. We at Symantec has already implemented a similar function within our local environment. We want to re-target this feature to Newton release. The earlier BP can be found at: https://blueprints.launchpad.net/glance/+spec/community-level-v2-image-sharing This feature will allow image owners to share images across multiple tenants/projects without explicitly creating members individually through glance API V2. ""Community images"" will not appear in image listings unless they are ""bookmarked"" by users. Therefore, this new feature will prevent image listing being spammed by community images for users do not need any such ""bookmarked"" images. This new feature adds a new value for the visibility of an image to the underlying data model, named ``community``. Problem description =================== Currently, there is no provision for an image to be available for use by users other than the owner of the image, unless the image is either made public or explicitly shared by the owner of the image with other users. If the number of users who require access to the image is large, the overhead of explicit sharing can become a burden on the owner of the image. Also, if such images are not needed by majority of the users, then the image listing results will be spammed if they are all made public. Public images appear in ``image-list`` for all users. This can be undesirable because: 1. An open source project wants to make a prepared VM image available so users simply boot an instance from that image to use the project's software. The developers of the project are too busy writing software to worry about the hassle of maintaining a list of ""customers"" as they'd have to do with current v2 image sharing. At the same time, the cloud provider hosting the prepared image doesn't want to make this image public, as that would imply a support relation that doesn't exist between image consumers and the cloud provider. Moreover, if there are too many such images get publicized, then image listing will be spammed as community images should not be seen by most of the users. 2. A cloud provider wants to discourage users from using a public image that is getting old. For example, an image which is missing some security patches or is no longer supported by the vendor. The cloud provider doesn't want to delete the image because some users still require it. Users could need the old image to rebuild a server, or because they have custom patches for that particular image. In both cases, the vendor can make the image a ""community"" image and alleviate the challenges presented above. This means that: a) The community image won't appear in users' default image lists. This means they won't know about it unless they are motivated to seek it out, for example by asking other users for the UUID. b) Since the image is no longer ""public,"" it doesn't imply the same level of support from the vendor as a provider-supplied public image. Proposed change =============== An additional value for the ``visibility`` enum will be added in the JSON schema, named ``'community'``. This makes the possible values of ``visibility``: .. code:: python ['public', 'private', 'shared', 'community'] An image with with a certain value for ``visibility`` has the following properties: Images with these ``visibility`` values have the following properties: * **public**: - Who: all users: + have this image in the default ``image-list`` + can see ``image-detail`` for this image + can boot from this image * **private**: - Who: users with ``tenant_id == owner_tenant_id`` only: + have this image in the default ``image-list`` + see ``image-detail`` for this image + can boot from this image * **shared**: - Who: users with ``tenant_id owner_tenant_id``: + have this image in the default ``image-list`` + see ``image-detail`` for this image + can boot from this image - Who: users with ``tenant_id`` in the ``member-list`` of the image + can see ``image-detail`` for this image + can boot from this image - Who: users with ``tenantId`` in the ``member-list`` with ``member_status == 'accepted'`` + have this image in their default ``image-list`` * **community**: - Who: all users: + can see ``image-detail`` for this image + can boot from this image - Who: users with ``tenantId`` in the ``member-list`` of the image with ``member_status == 'accepted'`` + have this image in their default ``image-list`` TODO Alternatives ------------ Adding image aliases ~~~~~~~~~~~~~~~~~~~~ A completely different way of solving the usecase for cloud providers (discouraging users from using an older version of a public image) could be to create a mechanism to make an image alias, which could point at the newest version of the public image. There is a abandoned blueprint for this feature [#]_. This, however, is much harder to implement and does not fit with the other use cases. .. [#] https://blueprints.launchpad.net/glance/+spec/glance-image-aliases Adding a special case of image sharing ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Another method of implementing this functionality is to add a membership record for an image that has a target of ``""community""`` (i.e. it is shared with all tenants) with ``membership_status = ""community""``. This marks it as a community image very simply and requires few modifications to existing code. This respects the current anti-spam provisions in the glance v2 API. When an image owner makes an image a ""community"" image, any other tenant should be able to boot an instance from that image. The image will not show up in any tenant's default image-list. This method can cause a few corner cases which result in surprising API calls and some less than desirable mappings between data model level and API level values of visibility. Data model impact ----------------- Schema changes ~~~~~~~~~~~~~~ The visibility of the image will be stored in the database within the images table inside a new column named ``visibility``. The visibility will be in the set of ``['public', 'private', 'shared', 'community']``. The default value for ``visibility`` is ``'private'``. This change makes the ``is_public`` column redundant, so it will be removed. Database migrations ~~~~~~~~~~~~~~~~~~~ 1. All rows with ``is_public == 1``: - ``visibility = 'public'`` 2. For all unique ``image_id`` in ``image_members`` where ``deleted != 1``: - ``visibility = 'shared'`` 3. For all rows with ``visibility == null``: - ``visibility = 'private'`` REST API impact --------------- Image discovery ~~~~~~~~~~~~~~~ If you want to see a whole list of community images, then you will use GET /v2/images?show_community_images=True Community images will be displayed in an image listing when the visibility filter is set to ``community``. :: GET /v2/images?visibility=community All other appropriate filters will be respected. Of note is the use of an ``owner`` parameter. This, when supplied together with the ``visibility=community`` filter, allows a user to request only those community images owned by that particular tenant: :: GET /v2/images?visibility=community&owner={owner_tenant_id} Accepting a community Image ~~~~~~~~~~~~~~~~~~~~~~~~~~~ Users are allowed to ""bookmark"" a particular community image in order to see it through image listing. This functionality operates in the same way that v2 image sharing works, but the owner of the image does not have to explicitly create memberships for each of the new image consumers. If a consumer of a community image would like to bookmark it, they must accept the image so it will appear in their image-list For this, the existing image-sharing API calls will be used: Accept the image: :: PUT /v2/images/{image_id}/members/{consumer_tenant_id} Request body: .. code:: json {""status"": ""accepted""} The response and other behaviour remains the same as was previously defined for this call. Making an image a ""community image"" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ An admin or owner of an image (depending on policy settings) can use the existing image-update call, changing the image's visibility to ``'community'``: :: PATCH /v2/images/{image_id} Request body: :: [{ ""op"": ""replace"", ""path"": ""/visibility"", ""value"": ""community"" }] The response and other behaviour remains the same as was previously defined for this call. Removing community level access from an image ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ An admin or owner of an image can remove community-level access from an image by using the image-update call. Instead of setting it to ``'community'`` as before, we set it to ``'private'``: :: PATCH /v2/images/{image_id} Request body: :: [{ ""op"": ""replace"", ""path"": ""/visibility"", ""value"": ""private"" }] As in all the above cases, the response and other behaviour remains the same as was previously defined for this call. Security impact --------------- See ""other deployer impact"". Notifications impact -------------------- None Other end user impact --------------------- Client changes ~~~~~~~~~~~~~~ Python-glanceclient will be updated to expose this feature. Users will be able to see all community images by using glance image-list --show_community_images True. An option to ``glance image-update`` will be added named ``--visibility <VISIBILITY_STATUS>``, where ``VISIBILITY_STATUS`` may be one of ``{public, private, community}``. For example, to make an image a community image: .. code:: bash $ glance image-update --visibility community <IMAGE> To make the image private again: .. code:: bash $ glance image-update --visibility private <IMAGE> Membership behaviour ~~~~~~~~~~~~~~~~~~~~ Moving from community to public retains the list of members the image currently contains. This maintains constancy with the current membership behaviour. Performance Impact ------------------ None Other deployer impact --------------------- The ability to provide images to other users has the potential for abuse. A user could provide a malicious image to a large audience. For this reason, the ability to create community images is moderated using policy.json. A new rule will be created, which has a default configuration of ``[role:admin]``: - ``publicize_community_image`` - Share image with all tenants + ``PATCH /v2/images/{image_id}`` with request body:: [{ ""op"": ""replace"", ""path"": ""/visibility"", ""value"": ""private"" }] Also users from Horizon will be able to see community images through a separate tab. Details regarding the Horizon change regarding this feature can be found at: https://blueprints.launchpad.net/horizon/+spec/glance-community-images Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: kragniz Reviewers --------- Core reviewer(s): brian-rosmaita stuart-mclaren Work Items ---------- - Refactor db API to use ``visibility`` rather than ``is_public`` - Add functionality for storing the community state in the interfaces to both db backends: + sqlalchemy + simple - Add functionality to enable this and accept the image using the API - Add unit tests to test various inputs to the API - Add functional tests for the lifecycle of community images - Update glanceclient to use the new API functionality Dependencies ============ None Testing ======= A tempest test must be added to cover creating a community image and it transitioning between public and private states. Documentation Impact ==================== New features must be documented in both glance and python-glanceclient. References ========== None ",,419,0
openstack%2Fironic~master~I26aaf3a7252a8e693dc13d71c24776ff8bb42642,openstack/ironic,master,I26aaf3a7252a8e693dc13d71c24776ff8bb42642,Remove unused [pxe]disk_devices option,MERGED,2016-08-11 18:13:41.000000000,2016-08-12 13:14:58.000000000,2016-08-12 00:51:03.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10343}, {'_account_id': 17998}, {'_account_id': 19339}]","[{'number': 1, 'created': '2016-08-11 18:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bacb99bdd8d74e5b3af432aa8828aa5bc79fb639', 'message': 'Remove unused [pxe]disk_devices option\n\nIt became unused with the deprecation of the bash ramdisk.\n\nChange-Id: I26aaf3a7252a8e693dc13d71c24776ff8bb42642\n'}, {'number': 2, 'created': '2016-08-11 18:17:49.000000000', 'files': ['etc/ironic/ironic.conf.sample', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_pxe.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d23b9c0515301b9ab6e743106d494e703e35ecd7', 'message': 'Remove unused [pxe]disk_devices option\n\nIt became unused with the deprecation of the bash ramdisk.\n\nChange-Id: I26aaf3a7252a8e693dc13d71c24776ff8bb42642\n'}]",1,354308,d23b9c0515301b9ab6e743106d494e703e35ecd7,13,6,2,12356,,,0,"Remove unused [pxe]disk_devices option

It became unused with the deprecation of the bash ramdisk.

Change-Id: I26aaf3a7252a8e693dc13d71c24776ff8bb42642
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/354308/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_pxe.py']",2,bacb99bdd8d74e5b3af432aa8828aa5bc79fb639,rm-disk-devices,," self.config(disk_devices='sda', group='pxe') self.config(disk_devices='sda', group='pxe')",0,5
openstack%2Fpython-novaclient~master~Iac75141a3d65b26a3093188ead1b7ed7c65514ad,openstack/python-novaclient,master,Iac75141a3d65b26a3093188ead1b7ed7c65514ad,Added smaller flavors for novaclient functional tests to use,MERGED,2016-08-11 15:14:39.000000000,2016-08-12 13:08:39.000000000,2016-08-12 13:08:39.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 6873}, {'_account_id': 9545}, {'_account_id': 10068}]","[{'number': 1, 'created': '2016-08-11 15:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/86b646f11d089bff8f46104ef1f2e9219e0eb7f6', 'message': 'Added smaller flavors for novaclient functional tests to use\n\nPriority is added to pick smaller flavors, m1.nano and m1.micro, for novaclient\nfunctional tests. Functional tests rely on devstack, which should use smaller\nflavors when available.\n\nChange-Id: Iac75141a3d65b26a3093188ead1b7ed7c65514ad\n'}, {'number': 2, 'created': '2016-08-11 15:55:03.000000000', 'files': ['novaclient/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/232711c0ef98baf79bcf4c8bdbae4b84003c9ab9', 'message': 'Added smaller flavors for novaclient functional tests to use\n\nPriority is added to pick smaller flavors, m1.nano and m1.micro`, for\nnovaclient functional tests. Functional tests rely on devstack, which\nshould use smaller flavors when available.\n\nCloses-Bug: #1611985\n\nChange-Id: Iac75141a3d65b26a3093188ead1b7ed7c65514ad\n'}]",3,354150,232711c0ef98baf79bcf4c8bdbae4b84003c9ab9,17,5,2,23137,,,0,"Added smaller flavors for novaclient functional tests to use

Priority is added to pick smaller flavors, m1.nano and m1.micro`, for
novaclient functional tests. Functional tests rely on devstack, which
should use smaller flavors when available.

Closes-Bug: #1611985

Change-Id: Iac75141a3d65b26a3093188ead1b7ed7c65514ad
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/50/354150/2 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/tests/functional/base.py'],1,86b646f11d089bff8f46104ef1f2e9219e0eb7f6,bug/1611985, if flavor.name == 'm1.nano': return flavor for flavor in flavors: if flavor.name == 'm1.micro': return flavor for flavor in flavors:,,6,0
openstack%2Fdevstack~master~Ic275887e97221d9ce5ce6f12cdcfb5ac94e300b0,openstack/devstack,master,Ic275887e97221d9ce5ce6f12cdcfb5ac94e300b0,Create default flavors in nova,MERGED,2016-04-04 17:40:30.000000000,2016-08-12 13:00:06.000000000,2016-04-06 17:53:35.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6802}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13770}, {'_account_id': 20084}, {'_account_id': 20996}]","[{'number': 1, 'created': '2016-04-04 17:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/98ba1cf0d78c596270fa6685fa9eb0cf6c504a59', 'message': 'Create default flavors in nova\n\nThis makes devstack create default flavors in nova, like cinder, now\nthat nova no longer hard-codes them into its database.\n\nThe flavors created here match the legacy default flavors that nova\nkept for so long.\n\nChange-Id: Ic275887e97221d9ce5ce6f12cdcfb5ac94e300b0\n'}, {'number': 2, 'created': '2016-04-04 17:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9e77737bc2e905f38e78c20ff65b1c51e11d0d09', 'message': 'Create default flavors in nova\n\nThis makes devstack create default flavors in nova, like cinder, now\nthat nova no longer hard-codes them into its database.\n\nThe flavors created here match the legacy default flavors that nova\nkept for so long, and also creates a new devstack-namespaces set of\nflavors which are likely more useful for people.\n\nChange-Id: Ic275887e97221d9ce5ce6f12cdcfb5ac94e300b0\n'}, {'number': 3, 'created': '2016-04-04 17:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f572d37f6b7df2f2e4b8f1ea55d8092d5541a2f4', 'message': 'Create default flavors in nova\n\nThis makes devstack create default flavors in nova, like cinder, now\nthat nova no longer hard-codes them into its database.\n\nThe flavors created here match the legacy default flavors that nova\nkept for so long, and also creates a new devstack-namespaces set of\nflavors which are likely more useful for people.\n\nChange-Id: Ic275887e97221d9ce5ce6f12cdcfb5ac94e300b0\n'}, {'number': 4, 'created': '2016-04-04 19:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0fcd1564ba16b2152d3a5a7a5481dc8b4bba0620', 'message': 'Create default flavors in nova\n\nThis makes devstack create default flavors in nova, like cinder, now\nthat nova no longer hard-codes them into its database.\n\nThe flavors created here match the legacy default flavors that nova\nkept for so long, and also creates a new devstack-namespaces set of\nflavors which are likely more useful for people.\n\nChange-Id: Ic275887e97221d9ce5ce6f12cdcfb5ac94e300b0\n'}, {'number': 5, 'created': '2016-04-04 19:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2179afae8a1f5d751c61ca4f4158095cd94a9519', 'message': 'Create default flavors in nova\n\nThis makes devstack create default flavors in nova, like cinder, now\nthat nova no longer hard-codes them into its database.\n\nThe flavors created here match the legacy default flavors that nova\nkept for so long, and also creates a new devstack-namespaces set of\nflavors which are likely more useful for people.\n\nChange-Id: Ic275887e97221d9ce5ce6f12cdcfb5ac94e300b0\n'}, {'number': 6, 'created': '2016-04-05 12:50:12.000000000', 'files': ['lib/nova', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4b205db45b34e698734740b50752e11b75035e72', 'message': 'Create default flavors in nova\n\nThis makes devstack create default flavors in nova, like cinder, now\nthat nova no longer hard-codes them into its database.\n\nThe flavors created here match the legacy default flavors that nova\nkept for so long, and also creates a new devstack-namespaces set of\nflavors which are likely more useful for people.\n\nChange-Id: Ic275887e97221d9ce5ce6f12cdcfb5ac94e300b0\n'}]",8,301257,4b205db45b34e698734740b50752e11b75035e72,41,14,6,4393,,,0,"Create default flavors in nova

This makes devstack create default flavors in nova, like cinder, now
that nova no longer hard-codes them into its database.

The flavors created here match the legacy default flavors that nova
kept for so long, and also creates a new devstack-namespaces set of
flavors which are likely more useful for people.

Change-Id: Ic275887e97221d9ce5ce6f12cdcfb5ac94e300b0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/57/301257/5 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', 'stack.sh']",2,98ba1cf0d78c596270fa6685fa9eb0cf6c504a59,nova-default-flavors, create_instance_types,,16,0
openstack%2Fopenstack-ansible~master~Ib80899be923f63e1060a9685b0d396c2a4fcac8b,openstack/openstack-ansible,master,Ib80899be923f63e1060a9685b0d396c2a4fcac8b,[DOCS] Fix the appendix order,MERGED,2016-08-10 18:41:15.000000000,2016-08-12 12:56:52.000000000,2016-08-12 12:56:52.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 8190}, {'_account_id': 10607}, {'_account_id': 10705}, {'_account_id': 12402}, {'_account_id': 15993}]","[{'number': 1, 'created': '2016-08-10 18:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/26a53ca684e293d450bed095a7cb8991ec3c7b88', 'message': 'Fix the appendix order\n\nThis change fixes the appendix order in the install-guide-revised-draft.\nMakes sure that each appendix has a letter.\n\nChange-Id: Ib80899be923f63e1060a9685b0d396c2a4fcac8b\nCloses-Bug: 1611906\n'}, {'number': 2, 'created': '2016-08-10 20:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2e9df6440530b1139994bfa920081ba56b0fdf41', 'message': '[DOCS] Fix the appendix order\n\nThis change fixes the appendix order in the install-guide-revised-draft.\nMakes sure that each appendix has a letter.\n\nChange-Id: Ib80899be923f63e1060a9685b0d396c2a4fcac8b\nCloses-Bug: 1611906\n'}, {'number': 3, 'created': '2016-08-10 20:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e1dbddb2ada878c8c1a7817d3c712a6629d0d116', 'message': 'Fix the appendix order\n\nThis change fixes the appendix order in the install-guide-revised-draft.\nMakes sure that each appendix has a letter.\n\nThis also removes the Nuage and PlumGrid documentation out.  These are\nbeing moved directly to the Neutron role project.  The intention is that\neach role project maintains the various configurations that it supports.\n\nChange-Id: Ib80899be923f63e1060a9685b0d396c2a4fcac8b\nCloses-Bug: 1611906\n'}, {'number': 4, 'created': '2016-08-10 20:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/11c9c0d53bf9f9ebce1f6b050dd724fd2802e4f2', 'message': '[DOCS] Fix the appendix order\n\nThis change fixes the appendix order in the install-guide-revised-draft.\nMakes sure that each appendix has a letter.\n\nThis also removes the Nuage and PlumGrid documentation out.  These are\nbeing moved directly to the Neutron role project.  The intention is that\neach role project maintains the various configurations that it supports.\n\nChange-Id: Ib80899be923f63e1060a9685b0d396c2a4fcac8b\nCloses-Bug: 1611906\n'}, {'number': 5, 'created': '2016-08-10 20:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f9eec5d6a7769896195a0b06bb2d5a2f43f5b463', 'message': '[DOCS] Fix the appendix order\n\nThis change fixes the appendix order in the install-guide-revised-draft.\nMakes sure that each appendix has a letter.\n\nThis also removes the Nuage and PlumGrid documentation out.  These are\nbeing moved directly to the Neutron role project.  The intention is that\neach role project maintains the various configurations that it supports.\n\nChange-Id: Ib80899be923f63e1060a9685b0d396c2a4fcac8b\nCloses-Bug: 1611906\n'}, {'number': 6, 'created': '2016-08-11 17:04:28.000000000', 'files': ['doc/source/install-guide-revised-draft/app-nuage.rst', 'doc/source/install-guide-revised-draft/app-custom-layouts.rst', 'doc/source/install-guide-revised-draft/app.rst', 'doc/source/install-guide-revised-draft/app-advanced-config-options.rst', 'doc/source/install-guide-revised-draft/app-plumgrid.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2e5301932289304299d53ba7e3429c229bf64b19', 'message': '[DOCS] Fix the appendix order\n\nThis change fixes the appendix order in the install-guide-revised-draft.\nMakes sure that each appendix has a letter.\n\nThis also removes the Nuage and PlumGrid documentation out.  These are\nbeing moved directly to the Neutron role project.  The intention is that\neach role project maintains the various configurations that it supports.\n\nChange-Id: Ib80899be923f63e1060a9685b0d396c2a4fcac8b\nCloses-Bug: 1611906\n'}]",3,353683,2e5301932289304299d53ba7e3429c229bf64b19,26,8,6,8190,,,0,"[DOCS] Fix the appendix order

This change fixes the appendix order in the install-guide-revised-draft.
Makes sure that each appendix has a letter.

This also removes the Nuage and PlumGrid documentation out.  These are
being moved directly to the Neutron role project.  The intention is that
each role project maintains the various configurations that it supports.

Change-Id: Ib80899be923f63e1060a9685b0d396c2a4fcac8b
Closes-Bug: 1611906
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/83/353683/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install-guide-revised-draft/app.rst', 'doc/source/install-guide-revised-draft/app-advanced-config-options.rst']",2,26a53ca684e293d450bed095a7cb8991ec3c7b88,bp/osa-install-guide-overhaul,=================================== Appendix F: Advanced configuration ===================================,====================== Advanced configuration ======================,5,5
openstack%2Ftrove~master~I6e9c054db002fae32d06f27775869db3fa5d31f4,openstack/trove,master,I6e9c054db002fae32d06f27775869db3fa5d31f4,modify the home-page info with the developer documentation,ABANDONED,2016-07-29 00:34:33.000000000,2016-08-12 12:47:46.000000000,,"[{'_account_id': 3}, {'_account_id': 9664}]","[{'number': 1, 'created': '2016-07-29 00:34:33.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/trove/commit/385836445ce6a986c0831d26c9cd8405f6ab8bd0', 'message': 'modify the home-page info with the developer documentation\n\nupdate home-page info\n\nChange-Id: I6e9c054db002fae32d06f27775869db3fa5d31f4\n'}]",1,348594,385836445ce6a986c0831d26c9cd8405f6ab8bd0,5,2,1,21387,,,0,"modify the home-page info with the developer documentation

update home-page info

Change-Id: I6e9c054db002fae32d06f27775869db3fa5d31f4
",git fetch https://review.opendev.org/openstack/trove refs/changes/94/348594/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,385836445ce6a986c0831d26c9cd8405f6ab8bd0,bugFix,home-page = http://docs.openstack.org/developer/trove/,home-page = http://www.openstack.org/,1,1
openstack%2Ffuel-ui~stable%2Fmitaka~I50d3823dca65a89463ba289f69c1fa4d364e20ce,openstack/fuel-ui,stable/mitaka,I50d3823dca65a89463ba289f69c1fa4d364e20ce,Add popovers with deployment task info to deployment history,MERGED,2016-08-12 11:50:58.000000000,2016-08-12 12:42:11.000000000,2016-08-12 12:36:42.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 11:50:58.000000000', 'files': ['static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js', 'static/views/controls.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/18fecbc090d67c425267d508bff286994ab13230', 'message': 'Add popovers with deployment task info to deployment history\n\nThese popovers are mounted directly to body to avoid cutting\nas they are contained inside a div with overflow.\n\nImplements blueprint ui-deployment-history\n\nChange-Id: I50d3823dca65a89463ba289f69c1fa4d364e20ce\n'}]",0,354673,18fecbc090d67c425267d508bff286994ab13230,13,5,1,8766,,,0,"Add popovers with deployment task info to deployment history

These popovers are mounted directly to body to avoid cutting
as they are contained inside a div with overflow.

Implements blueprint ui-deployment-history

Change-Id: I50d3823dca65a89463ba289f69c1fa4d364e20ce
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/73/354673/1 && git format-patch -1 --stdout FETCH_HEAD,"['static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js', 'static/views/controls.js']",3,18fecbc090d67c425267d508bff286994ab13230,bp/ui-deployment-history," container: React.PropTypes.node, placement: React.PropTypes.node, trigger: React.PropTypes.node return { placement: 'bottom', trigger: 'manual' }; componentDidMount() { if (this.props.container) { var popoverContentId = _.uniqueId('popover'); this.popoverMountNode = ReactDOM.findDOMNode(this).parentNode; $(this.popoverMountNode).popover({ container: this.props.container, placement: this.props.placement, trigger: this.props.trigger, html: true, content: '<span id=' + popoverContentId + '></span>' }) .on('inserted.bs.popover', () => { this.popoverContentMountNode = $('#' + popoverContentId)[0].parentNode; if (this.props.className) { $(this.popoverContentMountNode.parentNode).addClass(this.props.className); } ReactDOM.render( React.cloneElement(React.Children.only(this.props.children)), this.popoverContentMountNode ); }) .on('hidden.bs.popover', () => { ReactDOM.unmountComponentAtNode(this.popoverContentMountNode); }) .popover('show'); } }, componentWillUnmount() { if (this.props.container) { $(this.popoverMountNode).popover('destroy'); } }, renderPopover() { if (this.props.className) classes[this.props.className] = true; }, render() { return this.props.container ? <noscript /> : this.renderPopover();", placement: React.PropTypes.node return {placement: 'bottom'}; render() { classes[this.props.className] = true;,103,15
openstack%2Ffuel-ui~stable%2Fmitaka~If021d255e2e917155ff6549b9678f2045f168fe0,openstack/fuel-ui,stable/mitaka,If021d255e2e917155ff6549b9678f2045f168fe0,Fix background stripes for deployment timeline,MERGED,2016-08-12 11:56:55.000000000,2016-08-12 12:42:05.000000000,2016-08-12 12:36:48.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 11:56:55.000000000', 'files': ['static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/c9ceeffc6c7d92b9566df07cf84956ca891ef27e', 'message': 'Fix background stripes for deployment timeline\n\nStripes now scroll with the timeline and its tasks\n\nImplements blueprint ui-deployment-history\n\nChange-Id: If021d255e2e917155ff6549b9678f2045f168fe0\n'}]",0,354681,c9ceeffc6c7d92b9566df07cf84956ca891ef27e,13,5,1,8766,,,0,"Fix background stripes for deployment timeline

Stripes now scroll with the timeline and its tasks

Implements blueprint ui-deployment-history

Change-Id: If021d255e2e917155ff6549b9678f2045f168fe0
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/81/354681/1 && git format-patch -1 --stdout FETCH_HEAD,"['static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js']",2,c9ceeffc6c7d92b9566df07cf84956ca891ef27e,bp/ui-deployment-history," className='timelines' height: nodeIds.length * timelineRowHeight {isRunning && <div key='current-time-marker' className='current-time-marker' style={{ height: nodeIds.length * timelineRowHeight, left: this.getTimeIntervalWidth(timeStart, timeEnd) }} /> }"," className={utils.classNames({ timelines: true, 'current-time-marker': isRunning })} height: nodeIds.length * timelineRowHeight, backgroundPosition: this.getTimeIntervalWidth(timeStart, timeEnd)",20,14
openstack%2Ftrove~master~I17d21c6de2626f407999a53f022c43d33c7386b9,openstack/trove,master,I17d21c6de2626f407999a53f022c43d33c7386b9,Switch from keystoneclient to keystoneauth,ABANDONED,2016-07-25 10:58:59.000000000,2016-08-12 12:40:50.000000000,,"[{'_account_id': 3}, {'_account_id': 9796}, {'_account_id': 22694}]","[{'number': 1, 'created': '2016-07-25 10:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/1558bc6b48b58d7bb4dadfdc5ae55449b015c979', 'message': ""switch from keystoneclient to keystoneauth\n\nmove trove to keystoneauth as keystoneclient's auth session,\nplugins and adapter code has been deprecated.\n\nrefer to [1] for more information.\n\nChange-Id: I17d21c6de2626f407999a53f022c43d33c7386b9\n1: https://github.com/openstack/python-keystoneclient/commit/1a84e24fa4ce6d3169b59e385f35b2a63f2257f0\n""}, {'number': 2, 'created': '2016-07-26 12:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/26762dec5dc8be406fd151bc0dd9f83e587a8225', 'message': ""switch from keystoneclient to keystoneauth\n\nmove trove to keystoneauth as keystoneclient's auth session,\nplugins and adapter code has been deprecated.\n\nrefer to [1] for more information.\n\nChange-Id: I17d21c6de2626f407999a53f022c43d33c7386b9\n[1]: https://github.com/openstack/python-keystoneclient/commit/1a84e24fa4ce6d3169b59e385f35b2a63f2257f0\n""}, {'number': 3, 'created': '2016-07-27 09:33:51.000000000', 'files': ['requirements.txt', 'debug-21298-NQA/tests_to_run', 'trove/common/remote.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/27adeed93dccd2d5068d8d9cca6091199c732e43', 'message': ""Switch from keystoneclient to keystoneauth\n\nmove trove to keystoneauth as keystoneclient's auth session,\nplugins and adapter code has been deprecated.\n\nrefer to [1] for more information.\n\nChange-Id: I17d21c6de2626f407999a53f022c43d33c7386b9\n[1]: https://github.com/openstack/python-keystoneclient/commit/1a84e24fa4ce6d3169b59e385f35b2a63f2257f0\n""}]",0,346699,27adeed93dccd2d5068d8d9cca6091199c732e43,13,3,3,22694,,,0,"Switch from keystoneclient to keystoneauth

move trove to keystoneauth as keystoneclient's auth session,
plugins and adapter code has been deprecated.

refer to [1] for more information.

Change-Id: I17d21c6de2626f407999a53f022c43d33c7386b9
[1]: https://github.com/openstack/python-keystoneclient/commit/1a84e24fa4ce6d3169b59e385f35b2a63f2257f0
",git fetch https://review.opendev.org/openstack/trove refs/changes/99/346699/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'trove/common/remote.py']",2,1558bc6b48b58d7bb4dadfdc5ae55449b015c979,keystoneclient_requirment,from keystoneauth1.service_catalog import ServiceCatalog,from keystoneclient.service_catalog import ServiceCatalog,2,2
openstack%2Ffuel-qa~stable%2Fmitaka~I5061052fea775f4c6702d3d89befebd84b0fd9ca,openstack/fuel-qa,stable/mitaka,I5061052fea775f4c6702d3d89befebd84b0fd9ca,"Revert ""Add retry to the start of VM""",MERGED,2016-08-12 11:55:50.000000000,2016-08-12 12:38:31.000000000,2016-08-12 12:38:31.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 15984}]","[{'number': 1, 'created': '2016-08-12 11:55:50.000000000', 'files': ['fuelweb_test/models/environment.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/7df2ad3c865524ef3b4d67408a7dc4456d331a72', 'message': 'Revert ""Add retry to the start of VM""\n\nThis reverts commit d030b3daaf335c3918d2341ebf1fef52a6e520d8.\n\nChange-Id: I5061052fea775f4c6702d3d89befebd84b0fd9ca\n'}]",0,354677,7df2ad3c865524ef3b4d67408a7dc4456d331a72,9,4,1,16106,,,0,"Revert ""Add retry to the start of VM""

This reverts commit d030b3daaf335c3918d2341ebf1fef52a6e520d8.

Change-Id: I5061052fea775f4c6702d3d89befebd84b0fd9ca
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/77/354677/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/models/environment.py'],1,7df2ad3c865524ef3b4d67408a7dc4456d331a72,bug/1587411,,"from fuelweb_test.helpers.decorators import retry # NOTE(akostrikov) Due to fact that virtual machine in libvirt 1.x hangs # with probability less than 0,3%, we need to restart virtual machine to # reinitialize its resources. # TODO(akostrikov) Replace when possible, with exact Exception type. @retry(count=2, delay=0) self.d_env.destroy()",0,7
openstack%2Ffuel-qa~master~I55f8d31bcf3e08eb00a821b6a2bf2713c1982d5b,openstack/fuel-qa,master,I55f8d31bcf3e08eb00a821b6a2bf2713c1982d5b,"Revert ""Add retry to the start of VM""",MERGED,2016-08-12 11:55:54.000000000,2016-08-12 12:38:25.000000000,2016-08-12 12:38:25.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10288}, {'_account_id': 15984}]","[{'number': 1, 'created': '2016-08-12 11:55:54.000000000', 'files': ['fuelweb_test/models/environment.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/f6f62004d6fff306b6489abd57e798a271971b9c', 'message': 'Revert ""Add retry to the start of VM""\n\nThis reverts commit df51f7a04014f7d4243c151caa1d3bf8904c41e4.\n\nChange-Id: I55f8d31bcf3e08eb00a821b6a2bf2713c1982d5b\n'}]",0,354678,f6f62004d6fff306b6489abd57e798a271971b9c,10,5,1,16106,,,0,"Revert ""Add retry to the start of VM""

This reverts commit df51f7a04014f7d4243c151caa1d3bf8904c41e4.

Change-Id: I55f8d31bcf3e08eb00a821b6a2bf2713c1982d5b
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/78/354678/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/models/environment.py'],1,f6f62004d6fff306b6489abd57e798a271971b9c,bug/1587411,,"from fuelweb_test.helpers.decorators import retry # NOTE(akostrikov) Due to fact that virtual machine in libvirt 1.x hangs # with probability less than 0,3%, we need to restart virtual machine to # reinitialize its resources. # TODO(akostrikov) Replace when possible, with exact Exception type. @retry(count=2, delay=0) self.d_env.destroy()",0,7
openstack%2Ffuel-astute~stable%2Fmitaka~I6f583347e2f039a470410900c38d7a1d70151b56,openstack/fuel-astute,stable/mitaka,I6f583347e2f039a470410900c38d7a1d70151b56,Add Simulator class and command,MERGED,2016-06-07 06:06:14.000000000,2016-08-12 12:34:31.000000000,2016-08-10 15:40:16.000000000,"[{'_account_id': 3}, {'_account_id': 8776}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9977}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-06-07 06:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/d97a0c8bf96aed176f9ed54385ad2a4b82e3224b', 'message': 'Add Simulator class and command\n\nChange-Id: I6f583347e2f039a470410900c38d7a1d70151b56\n'}, {'number': 2, 'created': '2016-06-07 06:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/84febb5c89dadaabf1c8c7a2c49cc4cecad78fd6', 'message': 'Add Simulator class and command\n\nChange-Id: I6f583347e2f039a470410900c38d7a1d70151b56\n'}, {'number': 3, 'created': '2016-06-07 06:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/238ff84dd82e6ba9ffe7197e4d9210f917f103f9', 'message': 'Add Simulator class and command\n\nChange-Id: I6f583347e2f039a470410900c38d7a1d70151b56\n'}, {'number': 4, 'created': '2016-06-07 06:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/8eab4141e033dec0d0d91d2a38fb072dab488f54', 'message': 'Add Simulator class and command\n\nChange-Id: I6f583347e2f039a470410900c38d7a1d70151b56\n'}, {'number': 5, 'created': '2016-06-07 06:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/047949d42e92d5f0a63d493967ce2e91d7da69af', 'message': 'Add Simulator class and command\n\ncherry picked from commit 53521edcbc858303e4cb3ed6881c9e1f8f167834\nChange-Id: I6f583347e2f039a470410900c38d7a1d70151b56\n'}, {'number': 6, 'created': '2016-06-07 13:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/227910c67f1b1558d062be0a2d8090a5d6c30554', 'message': 'Add Simulator class and command\n\ncherry picked from commit 53521edcbc858303e4cb3ed6881c9e1f8f167834\nChange-Id: I6f583347e2f039a470410900c38d7a1d70151b56\n'}, {'number': 7, 'created': '2016-06-07 13:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/a3cdd4386f67cee219f07932a8d536e1b2dd1905', 'message': 'Add Simulator class and command\n\ncherry picked from commit 53521edcbc858303e4cb3ed6881c9e1f8f167834\nChange-Id: I6f583347e2f039a470410900c38d7a1d70151b56\n'}, {'number': 8, 'created': '2016-06-07 14:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/e3ce98600725126733cf1b84420cd881c477b21f', 'message': 'Add Simulator class and command\n\ncherry picked from commit 53521edcbc858303e4cb3ed6881c9e1f8f167834\nChange-Id: I6f583347e2f039a470410900c38d7a1d70151b56\n'}, {'number': 9, 'created': '2016-06-07 18:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/f1f5b0dd4b2b84b12a9077b5adb2ee980911a4de', 'message': 'Add Simulator class and command\n\ncherry picked from commit 53521edcbc858303e4cb3ed6881c9e1f8f167834\nChange-Id: I6f583347e2f039a470410900c38d7a1d70151b56\n'}, {'number': 15, 'created': '2016-07-03 20:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/c97b815964b8cf2a350e5c5a3e672ee9d1326c00', 'message': ""Add Simulator class and command\n\nThe simulatir tool can be used either to virtually\nrun the deployment to find out the task run order\nor to plot the entire graph or its subset.\n\n> Run deployment from the YAML dumped by Astute\nastute-simulator -y /path/to/yaml/file.yaml\n\n> Run deployments with task failure emulation\nastute-simulator -y /path/to/yaml/file.yaml -f ntp-client/2,heat-db/1 -P\n\n> Using node and task name filters\nastute-simulator -y /path/to/yaml/file.yaml -g openstack -G '^2$' -p\n\nRelated-bug: #1569839\n\nChange-Id: I6f583347e2f039a470410900c38d7a1d70151b56\n""}, {'number': 16, 'created': '2016-07-13 15:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/12e64316cb0e35643fb7ed5d735843bc7d7003c5', 'message': ""Add Simulator class and command\n\nThe simulatir tool can be used either to virtually\nrun the deployment to find out the task run order\nor to plot the entire graph or its subset.\n\n> Run deployment from the YAML dumped by Astute\nastute-simulator -y /path/to/yaml/file.yaml\n\n> Run deployments with task failure emulation\nastute-simulator -y /path/to/yaml/file.yaml -f ntp-client/2,heat-db/1 -P\n\n> Using node and task name filters\nastute-simulator -y /path/to/yaml/file.yaml -g openstack -G '^2$' -p\n\nRelated-bug: #1569839\n\nChange-Id: I6f583347e2f039a470410900c38d7a1d70151b56\n""}, {'number': 17, 'created': '2016-08-04 09:55:05.000000000', 'files': ['lib/fuel_deployment/simulator.rb', 'tests/node_concurrency.rb', '.gitignore', 'lib/fuel_deployment.rb', 'specs/astute.spec', 'tests/loop.rb', 'tests/scale.rb', 'lib/fuel_deployment/cluster.rb', 'tests/concurrency.rb', 'tests/fuel.rb', 'tests/task_concurrency.rb', 'spec/unit/orchestrator_spec.rb', 'tests/simulator.rb', 'tests/test_node.rb', 'spec/unit/fuel_deployment/task_spec.rb', 'tests/deployment.rb', 'bin/astute-simulator', 'lib/astute/task_deployment.rb', 'lib/fuel_deployment/task.rb', 'astute.gemspec', 'tests/mini.rb', 'lib/astute/orchestrator.rb'], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/5e70b9fd8a976e10bb83dc30720ea78e883e5788', 'message': ""Add Simulator class and command\n\nThe simulatir tool can be used either to virtually\nrun the deployment to find out the task run order\nor to plot the entire graph or its subset.\n\n> Run deployment from the YAML dumped by Astute\nastute-simulator -y /path/to/yaml/file.yaml\n\n> Run deployments with task failure emulation\nastute-simulator -y /path/to/yaml/file.yaml -f ntp-client/2,heat-db/1 -P\n\n> Using node and task name filters\nastute-simulator -y /path/to/yaml/file.yaml -g openstack -G '^2$' -p\n\nRelated-bug: #1569839\n\nChange-Id: I6f583347e2f039a470410900c38d7a1d70151b56\n(cherry picked from commit b106c0557d3fc0b21e20c74cc2fb99482ccf3b5d)\n""}]",0,326241,5e70b9fd8a976e10bb83dc30720ea78e883e5788,94,6,12,9037,,,0,"Add Simulator class and command

The simulatir tool can be used either to virtually
run the deployment to find out the task run order
or to plot the entire graph or its subset.

> Run deployment from the YAML dumped by Astute
astute-simulator -y /path/to/yaml/file.yaml

> Run deployments with task failure emulation
astute-simulator -y /path/to/yaml/file.yaml -f ntp-client/2,heat-db/1 -P

> Using node and task name filters
astute-simulator -y /path/to/yaml/file.yaml -g openstack -G '^2$' -p

Related-bug: #1569839

Change-Id: I6f583347e2f039a470410900c38d7a1d70151b56
(cherry picked from commit b106c0557d3fc0b21e20c74cc2fb99482ccf3b5d)
",git fetch https://review.opendev.org/openstack/fuel-astute refs/changes/41/326241/8 && git format-patch -1 --stdout FETCH_HEAD,"['lib/fuel_deployment/simulator.rb', 'tests/node_concurrency.rb', '.gitignore', 'lib/fuel_deployment.rb', 'specs/astute.spec', 'tests/loop.rb', 'tests/scale.rb', 'lib/fuel_deployment/cluster.rb', 'tests/concurrency.rb', 'tests/fuel.rb', 'tests/task_concurrency.rb', 'spec/unit/orchestrator_spec.rb', 'tests/simulator.rb', 'tests/test_node.rb', 'spec/unit/fuel_deployment/task_spec.rb', 'spec/unit/nailgun_hooks_spec.rb', 'tests/deployment.rb', 'bin/astute-simulator', 'lib/astute/task_deployment.rb', 'lib/fuel_deployment/task.rb', 'astute.gemspec', 'tests/mini.rb', 'lib/astute/orchestrator.rb']",23,d97a0c8bf96aed176f9ed54385ad2a4b82e3224b,astute-simulator-mitaka," write_input_data_to_file(context, deployment_options) deployment_engine.deploy(deployment_options) def write_input_data_to_file(context, data={}) return unless Astute.config.enable_graph_file yaml_file = File.join( Astute.config.graph_dot_dir, ""graph-#{context.task_id}.yaml"" ) filter_sensitive_data(data) File.open(yaml_file, 'w') { |f| f.write(YAML.dump(data)) } Astute.logger.info(""Check inpute data file #{yaml_file}"") end def filter_sensitive_data(data) data[:tasks_graph].each do |_node_id, tasks| tasks.each { |task| task.delete('parameters') } end end "," deployment_engine.deploy( deployment_info: deployment_options[:deployment_info], tasks_graph: deployment_options[:tasks_graph], tasks_directory: deployment_options[:tasks_directory], dry_run: deployment_options.fetch(:dry_run, false) )",620,370
openstack%2Fproject-config~master~Ifcbc8e1ba557a8bea914e742fae69254ebdda213,openstack/project-config,master,Ifcbc8e1ba557a8bea914e742fae69254ebdda213,Disable Heat integration tests,ABANDONED,2016-08-10 15:49:24.000000000,2016-08-12 12:34:05.000000000,,"[{'_account_id': 3}, {'_account_id': 19372}]","[{'number': 1, 'created': '2016-08-10 15:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b78ad506e3c2b0f18caef4df69ea3f4b8b260617', 'message': ""Disable Heat integration tests\n\nDisable Heat integration tests in grenade-dsvm-sahara job because\nits launching leads to 'Resource CREATE failed: OverQuotaClient:\nresources.net: Quota exceeded for resources: ['network']' exception\n\nChange-Id: Ifcbc8e1ba557a8bea914e742fae69254ebdda213\n""}, {'number': 2, 'created': '2016-08-10 15:51:50.000000000', 'files': ['jenkins/jobs/sahara.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/71fdceea379f791f755e67d17e77f92e261bceed', 'message': ""Disable Heat integration tests\n\nDisable Heat integration tests in grenade-dsvm-sahara job because\nits launching leads to 'Resource CREATE failed: OverQuotaClient:\nresources.net: Quota exceeded for resources: ['network']' exception\n\ndepends-on: Ie600dfc09db0ffa91609f92be4b9ef27259b5314\nChange-Id: Ifcbc8e1ba557a8bea914e742fae69254ebdda213\n""}]",0,353603,71fdceea379f791f755e67d17e77f92e261bceed,5,2,2,19372,,,0,"Disable Heat integration tests

Disable Heat integration tests in grenade-dsvm-sahara job because
its launching leads to 'Resource CREATE failed: OverQuotaClient:
resources.net: Quota exceeded for resources: ['network']' exception

depends-on: Ie600dfc09db0ffa91609f92be4b9ef27259b5314
Change-Id: Ifcbc8e1ba557a8bea914e742fae69254ebdda213
",git fetch https://review.opendev.org/openstack/project-config refs/changes/03/353603/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/sahara.yaml'],1,b78ad506e3c2b0f18caef4df69ea3f4b8b260617,, export HEAT_INTEGRATION_TESTS_ENABLED=false,,1,0
openstack%2Ffuel-ui~stable%2Fmitaka~Idba56ca3ea8f81760e0dbb4b3dab4dacc07f22ba,openstack/fuel-ui,stable/mitaka,Idba56ca3ea8f81760e0dbb4b3dab4dacc07f22ba,Use absolute positioning for deployment history tasks,MERGED,2016-08-12 11:44:40.000000000,2016-08-12 12:33:26.000000000,2016-08-12 12:28:15.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 11:44:40.000000000', 'files': ['static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/4382383a70e98f8dc17107a8668a25bae09b7b61', 'message': ""Use absolute positioning for deployment history tasks\n\nIt's required to adopt react-virtualized and allows to get rid\nof extra divs.\n\nImplements blueprint ui-deployment-history\n\nChange-Id: Idba56ca3ea8f81760e0dbb4b3dab4dacc07f22ba\n""}]",0,354670,4382383a70e98f8dc17107a8668a25bae09b7b61,13,5,1,8766,,,0,"Use absolute positioning for deployment history tasks

It's required to adopt react-virtualized and allows to get rid
of extra divs.

Implements blueprint ui-deployment-history

Change-Id: Idba56ca3ea8f81760e0dbb4b3dab4dacc07f22ba
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/70/354670/1 && git format-patch -1 --stdout FETCH_HEAD,"['static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js']",2,4382383a70e98f8dc17107a8668a25bae09b7b61,bp/ui-deployment-history," timelineRowHeight: 28, 'deploymentHistory', 'timelineWidth', 'timelineIntervalWidth', 'timelineRowHeight' var {task, top, left, width} = this.props; style={{background: this.getColorFromString(taskName), top, left, width}} timelineWidth, timelineIntervalWidth, timelineRowHeight, secondsPerPixel var nodeIds = []; var nodeOffsets = {}; deploymentHistory.each((task) => { var nodeId = task.get('node_id'); if (_.has(nodeOffsets, nodeId)) return; nodeOffsets[nodeId] = nodeIds.length; nodeIds.push(nodeId); }); height: nodeIds.length * timelineRowHeight, {deploymentHistory.map((task) => { if (!_.includes(['ready', 'error', 'running'], task.get('status'))) return null; var taskTimeStart = task.get('time_start') ? moment.utc(task.get('time_start')).unix() : 0; var taskTimeEnd = task.get('time_end') ? moment.utc(task.get('time_end')).unix() : timeEnd; var top = timelineRowHeight * nodeOffsets[task.get('node_id')]; var left = this.getTimeIntervalWidth(timeStart, taskTimeStart); var width = this.getTimeIntervalWidth(taskTimeStart, taskTimeEnd); return <DeploymentHistoryTask key={task.get('node_id') + ' ' + task.get('task_name')} task={task} top={top} left={left} width={width} />; })}"," 'deploymentHistory', 'timelineWidth', 'timelineIntervalWidth' var {task, left, width} = this.props; style={{background: this.getColorFromString(taskName), left, width}} timelineWidth, timelineIntervalWidth, secondsPerPixel var nodeIds = _.uniq(deploymentHistory.pluck('node_id')); {_.map(nodeIds, (nodeId) => <div key={nodeId} className='clearfix'> {deploymentHistory.map((task) => { if ( task.get('node_id') !== nodeId || !_.includes(['ready', 'error', 'running'], task.get('status')) ) return null; var taskTimeStart = task.get('time_start') ? moment.utc(task.get('time_start')).unix() : 0; var taskTimeEnd = task.get('time_end') ? moment.utc(task.get('time_end')).unix() : timeEnd; var left = this.getTimeIntervalWidth(timeStart, taskTimeStart); var width = this.getTimeIntervalWidth(taskTimeStart, taskTimeEnd); return <DeploymentHistoryTask key={task.get('task_name')} task={task} left={left} width={width} />; })} </div> )}",58,54
openstack%2Fpython-brick-cinderclient-ext~master~Ib281cc28e8abdcb824166dab484f252fc49619e3,openstack/python-brick-cinderclient-ext,master,Ib281cc28e8abdcb824166dab484f252fc49619e3,Drop useless directory openstack/common,ABANDONED,2016-08-10 12:15:35.000000000,2016-08-12 12:32:38.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 23006}]","[{'number': 1, 'created': '2016-08-10 12:15:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/a5b07332a6e5b860cd0ae32b60118d18541a7889', 'message': 'Drop useless directory openstack/common\n\nMake a general survey of this project,we have not found the directory\nopenstack/common,for the sake of the performance,we need drop it!\n\nChange-Id: Ib281cc28e8abdcb824166dab484f252fc49619e3\n'}]",0,353432,a5b07332a6e5b860cd0ae32b60118d18541a7889,8,3,1,23006,,,0,"Drop useless directory openstack/common

Make a general survey of this project,we have not found the directory
openstack/common,for the sake of the performance,we need drop it!

Change-Id: Ib281cc28e8abdcb824166dab484f252fc49619e3
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/32/353432/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a5b07332a6e5b860cd0ae32b60118d18541a7889,h8,"exclude=.venv,.git,.tox,dist,doc,*lib/python*,*egg,build","exclude=.venv,.git,.tox,dist,doc,*openstack/common*,*lib/python*,*egg,build",1,1
openstack%2Ftrove~master~Icbb602e34156ddc35c93a90b6860901f44e93d7c,openstack/trove,master,Icbb602e34156ddc35c93a90b6860901f44e93d7c,Create default datastore options,ABANDONED,2016-04-20 03:39:01.000000000,2016-08-12 12:30:00.000000000,,"[{'_account_id': 3}, {'_account_id': 14576}]","[{'number': 1, 'created': '2016-04-20 03:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ac4b5a0b9fdf9ecd6ef0a8b1b9e492e5a764fa3c', 'message': 'Create default datastore options\n\nWIP\n\nChange-Id: Icbb602e34156ddc35c93a90b6860901f44e93d7c\n'}, {'number': 2, 'created': '2016-04-20 17:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8d46c80ba93a0563138c428b8ad35c1e3f809ddc', 'message': ""Create default datastore options\n\nDefine and register default datastore options inherited\nby all datastores.\nAllow each datastore to easily override and extend the default\ngroup with its own options.\nCleanup datastore-group options to only include datastore-specific\noptions (added by the datastore) and any overrides to the defaults.\n\nEvery datastore group now includes a full copy of all default options\n(potentially with overriden values) plus any datastore-specific options.\n\nAs the result all datastore options also included on the default list can now\nhave defaults defined in the DEFAULT section of the config file.\nDatastore specific options can be defined in the datastore section only.\nAll datastore options are now hence guaranteed to exist in the CONF.datastore\ngroup from where they can be safely referenced by the code without need for\na programatic fallback to the 'common' group\n(we should be able to get rid of 'cfg.get_configuration_option',\n'cfg.get_ignore_users' and 'cfg.get_ignore_dbs' methods).\n\nAnother positive side-effect is that the deprecation flags on any default\noption are now automatically propagated on all datastores.\nThe current codebase sometimes 'forgets' to properly deprecate\ncommon options in all datastore groups...\n\nYet another positive impact is that the help strings on default options\nare now inherited as well so datastore groups do not need to re-define them\nand can focus on override the values (default + any type information\nlike min, max, bounds, choices, required, secret etc).\n* Datastores can define a new help string on an inherited option if they\n  absolutely need to.\n* Datastores are required (see below) to define help strings on any\n  datastore-specific options (any extra options added by a particular\n  datastore).\n\nWe also perform validation of datastore options.\n\n - All datastore options are now require to define help strings.\n\nChange-Id: Icbb602e34156ddc35c93a90b6860901f44e93d7c\n""}, {'number': 3, 'created': '2016-04-20 18:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3ef6e83b57adffc85a66ee2d1c033151c3a9fbbe', 'message': ""Create default datastore options\n\nDefine and register default datastore options inherited\nby all datastores.\nAllow each datastore to easily override and extend the default\ngroup with its own options.\nCleanup datastore-group options to only include datastore-specific\noptions (added by the datastore) and any overrides to the defaults.\n\nEvery datastore group now includes a full copy of all default options\n(potentially with overriden values) plus any datastore-specific options.\n\nAs the result all datastore options also included on the default list can now\nhave defaults defined in the DEFAULT section of the config file.\nDatastore specific options can be defined in the datastore section only.\nAll datastore options are now hence guaranteed to exist in the CONF.datastore\ngroup from where they can be safely referenced by the code without need for\na programatic fallback to the 'common' group\n(we should be able to get rid of 'cfg.get_configuration_option',\n'cfg.get_ignore_users' and 'cfg.get_ignore_dbs' methods).\n\nAnother positive side-effect is that the deprecation flags on any default\noption are now automatically propagated on all datastores.\nThe current codebase sometimes 'forgets' to properly deprecate\ncommon options in all datastore groups...\n\nYet another positive impact is that the help strings on default options\nare now inherited as well so datastore groups do not need to re-define them\nand can focus on override the values (default + any type information\nlike min, max, bounds, choices, required, secret etc).\n* Datastores are required (see below) to define help strings on any\n  datastore-specific options (any extra options added by a particular\n  datastore).\n\nWe also perform validation of datastore options.\n\n - All datastore options are now require to define help strings.\n\nChange-Id: Icbb602e34156ddc35c93a90b6860901f44e93d7c\n""}, {'number': 4, 'created': '2016-04-20 18:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/540fdd029bd09dba150f3b5cf4aefac934f926d9', 'message': ""Create default datastore options\n\nDefine and register default datastore options inherited\nby all datastores.\nAllow each datastore to easily override and extend the default\ngroup with its own options.\nCleanup datastore-group options to only include datastore-specific\noptions (added by the datastore) and any overrides to the defaults.\n\nEvery datastore group now includes a full copy of all default options\n(potentially with overriden values) plus any datastore-specific options.\n\nAs the result all datastore options also included on the default list can now\nhave defaults defined in the DEFAULT section of the config file.\nDatastore specific options can be defined in the datastore section only.\nAll datastore options are now hence guaranteed to exist in the CONF.datastore\ngroup from where they can be safely referenced by the code without need for\na programatic fallback to the 'common' group\n(we should be able to get rid of 'cfg.get_configuration_option',\n'cfg.get_ignore_users' and 'cfg.get_ignore_dbs' methods).\n\nAnother positive side-effect is that the deprecation flags on any default\noption are now automatically propagated on all datastores.\nThe current codebase sometimes 'forgets' to properly deprecate\ncommon options in all datastore groups...\n\nYet another positive impact is that the help strings on default options\nare now inherited as well so datastore groups do not need to re-define them\nand can focus on override the values (default + any type information\nlike min, max, bounds, choices, required, secret etc).\n* Datastores are required (see below) to define help strings on any\n  datastore-specific options (any extra options added by a particular\n  datastore).\n\nWe also perform validation of datastore options.\n\n - All datastore options are now require to define help strings.\n\nChange-Id: Icbb602e34156ddc35c93a90b6860901f44e93d7c\n""}, {'number': 5, 'created': '2016-04-20 18:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2800355a058542a163e0b726aec388bd0c03ba1d', 'message': ""Create default datastore options\n\nDefine and register default datastore options inherited\nby all datastores.\nAllow each datastore to easily override and extend the default\ngroup with its own options.\nCleanup datastore-group options to only include datastore-specific\noptions (added by the datastore) and any overrides to the defaults.\n\nEvery datastore group now includes a full copy of all default options\n(potentially with overriden values) plus any datastore-specific options.\n\nAs the result all datastore options also included on the default list can now\nhave defaults defined in the DEFAULT section of the config file.\nDatastore specific options can be defined in the datastore section only.\nAll datastore options are now hence guaranteed to exist in the CONF.datastore\ngroup from where they can be safely referenced by the code without need for\na programatic fallback to the 'common' group\n(we should be able to get rid of 'cfg.get_configuration_option',\n'cfg.get_ignore_users' and 'cfg.get_ignore_dbs' methods).\n\nAnother positive side-effect is that the deprecation flags on any default\noption are now automatically propagated on all datastores.\nThe current codebase sometimes 'forgets' to properly deprecate\ncommon options in all datastore groups...\n\nYet another positive impact is that the help strings on default options\nare now inherited as well so datastore groups do not need to re-define them\nand can focus on override the values (default + any type information\nlike min, max, bounds, choices, required, secret etc).\n* Datastores are required (see below) to define help strings on any\n  datastore-specific options (any extra options added by a particular\n  datastore).\n\nWe also perform validation of datastore options.\n\n - All datastore options are now require to define help strings.\n\nChange-Id: Icbb602e34156ddc35c93a90b6860901f44e93d7c\n""}, {'number': 6, 'created': '2016-04-21 14:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7c72ba3fe475e9af0e16452ae2d53a79ae927247', 'message': ""Create default datastore options\n\nDefine and register default datastore options inherited\nby all datastores.\nAllow each datastore to easily override and extend the default\ngroup with its own options.\nCleanup datastore-group options to only include datastore-specific\noptions (added by the datastore) and any overrides to the defaults.\n\nEvery datastore group now includes a full copy of all default options\n(potentially with overriden values) plus any datastore-specific options.\n\nAs the result all datastore options also included on the default list can now\nhave defaults defined in the DEFAULT section of the config file.\nDatastore specific options can be defined in the datastore section only.\nAll datastore options are now hence guaranteed to exist in the CONF.datastore\ngroup from where they can be safely referenced by the code without need for\na programatic fallback to the 'common' group\n(we should be able to get rid of 'cfg.get_configuration_option',\n'cfg.get_ignore_users' and 'cfg.get_ignore_dbs' methods).\n\nAnother positive side-effect is that the deprecation flags on any default\noption are now automatically propagated on all datastores.\nThe current codebase sometimes 'forgets' to properly deprecate\ncommon options in all datastore groups...\n\nYet another positive impact is that the help strings on default options\nare now inherited as well so datastore groups do not need to re-define them\nand can focus on override the values (default + any type information\nlike min, max, bounds, choices, required, secret etc).\n* Datastores are required (see below) to define help strings on any\n  datastore-specific options (any extra options added by a particular\n  datastore).\n\nWe also perform validation of datastore options.\n\n - All datastore options are now require to define help strings.\n\nChange-Id: Icbb602e34156ddc35c93a90b6860901f44e93d7c\n""}, {'number': 7, 'created': '2016-04-21 23:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/90a0f54ac1d32e83ed4daae9f57e6778577f602d', 'message': ""Create default datastore options\n\nDefine and register default datastore options inherited\nby all datastores.\nAllow each datastore to easily override and extend the default\ngroup with its own options.\nCleanup datastore-group options to only include datastore-specific\noptions (added by the datastore) and any overrides to the defaults.\n\nEvery datastore group now includes a full copy of all default options\n(potentially with overriden values) plus any datastore-specific options.\n\nAs the result all datastore options also included on the default list can now\nhave defaults defined in the DEFAULT section of the config file.\nDatastore specific options can be defined in the datastore section only.\nAll datastore options are now hence guaranteed to exist in the CONF.datastore\ngroup from where they can be safely referenced by the code without need for\na programatic fallback to the 'common' group\n(we should be able to get rid of 'cfg.get_configuration_option',\n'cfg.get_ignore_users' and 'cfg.get_ignore_dbs' methods).\n\nAnother positive side-effect is that the deprecation flags on any default\noption are now automatically propagated on all datastores.\nThe current codebase sometimes 'forgets' to properly deprecate\ncommon options in all datastore groups...\n\nYet another positive impact is that the help strings on default options\nare now inherited as well so datastore groups do not need to re-define them\nand can focus on override the values (default + any type information\nlike min, max, bounds, choices, required, secret etc).\n* Datastores are required (see below) to define help strings on any\n  datastore-specific options (any extra options added by a particular\n  datastore).\n\nWe also perform validation of datastore options.\n\n - All datastore options are now require to define help strings.\n\nChange-Id: Icbb602e34156ddc35c93a90b6860901f44e93d7c\n""}, {'number': 8, 'created': '2016-04-22 16:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/908fe0b793d26d03beeb5d01ce0637d0e1abeab3', 'message': ""Create default datastore options\n\nDefine and register default datastore options inherited\nby all datastores.\nAllow each datastore to easily override and extend the default\ngroup with its own options.\nCleanup datastore-group options to only include datastore-specific\noptions (added by the datastore) and any overrides to the defaults.\n\nEvery datastore group now includes a full copy of all default options\n(potentially with overriden values) plus any datastore-specific options.\n\nAs the result all datastore options also included on the default list can now\nhave defaults defined in the DEFAULT section of the config file.\nDatastore specific options can be defined in the datastore section only.\nAll datastore options are now hence guaranteed to exist in the CONF.datastore\ngroup from where they can be safely referenced by the code without need for\na programatic fallback to the 'common' group\n(we should be able to get rid of 'cfg.get_configuration_option',\n'cfg.get_ignore_users' and 'cfg.get_ignore_dbs' methods).\n\nAnother positive side-effect is that the deprecation flags on any default\noption are now automatically propagated on all datastores.\nThe current codebase sometimes 'forgets' to properly deprecate\ncommon options in all datastore groups...\n\nYet another positive impact is that the help strings on default options\nare now inherited as well so datastore groups do not need to re-define them\nand can focus on override the values (default + any type information\nlike min, max, bounds, choices, required, secret etc).\n* Datastores are required (see below) to define help strings on any\n  datastore-specific options (any extra options added by a particular\n  datastore).\n\nWe also perform validation of datastore options.\n\n - All datastore options are now require to define help strings.\n\nChange-Id: Icbb602e34156ddc35c93a90b6860901f44e93d7c\n""}, {'number': 9, 'created': '2016-04-25 18:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fa4d1d24347cc5b961979d374e5a22119f75ec5d', 'message': ""Create default datastore options\n\nDefine and register default datastore options inherited\nby all datastores.\nAllow each datastore to easily override and extend the default\ngroup with its own options.\nCleanup datastore-group options to only include datastore-specific\noptions (added by the datastore) and any overrides to the defaults.\n\nEvery datastore group now includes a full copy of all default options\n(potentially with overriden values) plus any datastore-specific options.\n\nAs the result all datastore options also included on the default list can now\nhave defaults defined in the DEFAULT section of the config file.\nDatastore specific options can be defined in the datastore section only.\nAll datastore options are now hence guaranteed to exist in the CONF.datastore\ngroup from where they can be safely referenced by the code without need for\na programatic fallback to the 'common' group.\n(we should be able to get rid of 'cfg.get_ignore_users' and\n'cfg.get_ignore_dbs' methods).\nThe 'get_configuration_property' has now become just a convenience method\nwhich merely encapsulates the datastore_manager accessor.\nIt was renamed to just 'get' to shorten calls.\n\nAnother positive side-effect is that the deprecation flags on any default\noption are now automatically propagated on all datastores.\nThe current codebase sometimes 'forgets' to properly deprecate\ncommon options in all datastore groups...\n\nYet another positive impact is that the help strings on default options\nare now inherited as well so datastore groups do not need to re-define them\nand can focus on override the values (default + any type information\nlike min, max, bounds, choices, required, secret etc).\n* Datastores are required (see below) to define help strings on any\n  datastore-specific options (any extra options added by a particular\n  datastore).\n\nWe also perform validation of datastore options.\n\n - All datastore options are now require to define help strings.\n\nChange-Id: Icbb602e34156ddc35c93a90b6860901f44e93d7c\n""}, {'number': 10, 'created': '2016-04-25 18:23:49.000000000', 'files': ['trove/guestagent/db/models.py', 'trove/guestagent/datastore/experimental/cassandra/service.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/experimental/postgresql/service/users.py', 'trove/guestagent/datastore/experimental/couchdb/service.py', 'trove/extensions/mysql/models.py', 'trove/tests/unittests/guestagent/test_dbaas.py', 'trove/common/cfg.py', 'trove/guestagent/datastore/experimental/db2/service.py', 'trove/guestagent/datastore/experimental/postgresql/service/database.py', 'trove/tests/unittests/common/test_cfg.py', 'trove/guestagent/datastore/experimental/mongodb/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/3c6162bbcb5f0d3d480c80f878e09232aa4b8756', 'message': ""Create default datastore options\n\nDefine and register default datastore options inherited\nby all datastores.\nAllow each datastore to easily override and extend the default\ngroup with its own options.\nCleanup datastore-group options to only include datastore-specific\noptions (added by the datastore) and any overrides to the defaults.\n\nEvery datastore group now includes a full copy of all default options\n(potentially with overriden values) plus any datastore-specific options.\n\nAs the result all datastore options also included on the default list can now\nhave defaults defined in the DEFAULT section of the config file.\nDatastore specific options can be defined in the datastore section only.\nAll datastore options are now hence guaranteed to exist in the CONF.datastore\ngroup from where they can be safely referenced by the code without need for\na programatic fallback to the 'common' group.\n(we should be able to get rid of 'cfg.get_ignore_users' and\n'cfg.get_ignore_dbs' methods).\nThe 'get_configuration_property' has now become just a convenience method\nwhich merely encapsulates the datastore_manager accessor.\nIt was renamed to just 'get' to shorten calls.\n\nAnother positive side-effect is that the deprecation flags on any default\noption are now automatically propagated on all datastores.\nThe current codebase sometimes 'forgets' to properly deprecate\ncommon options in all datastore groups...\n\nYet another positive impact is that the help strings on default options\nare now inherited as well so datastore groups do not need to re-define them\nand can focus on override the values (default + any type information\nlike min, max, bounds, choices, required, secret etc).\n* Datastores are required (see below) to define help strings on any\n  datastore-specific options (any extra options added by a particular\n  datastore).\n\nWe also perform validation of datastore options.\n\n - All datastore options are now require to define help strings.\n\nChange-Id: Icbb602e34156ddc35c93a90b6860901f44e93d7c\n""}]",0,308126,3c6162bbcb5f0d3d480c80f878e09232aa4b8756,21,2,10,14576,,,0,"Create default datastore options

Define and register default datastore options inherited
by all datastores.
Allow each datastore to easily override and extend the default
group with its own options.
Cleanup datastore-group options to only include datastore-specific
options (added by the datastore) and any overrides to the defaults.

Every datastore group now includes a full copy of all default options
(potentially with overriden values) plus any datastore-specific options.

As the result all datastore options also included on the default list can now
have defaults defined in the DEFAULT section of the config file.
Datastore specific options can be defined in the datastore section only.
All datastore options are now hence guaranteed to exist in the CONF.datastore
group from where they can be safely referenced by the code without need for
a programatic fallback to the 'common' group.
(we should be able to get rid of 'cfg.get_ignore_users' and
'cfg.get_ignore_dbs' methods).
The 'get_configuration_property' has now become just a convenience method
which merely encapsulates the datastore_manager accessor.
It was renamed to just 'get' to shorten calls.

Another positive side-effect is that the deprecation flags on any default
option are now automatically propagated on all datastores.
The current codebase sometimes 'forgets' to properly deprecate
common options in all datastore groups...

Yet another positive impact is that the help strings on default options
are now inherited as well so datastore groups do not need to re-define them
and can focus on override the values (default + any type information
like min, max, bounds, choices, required, secret etc).
* Datastores are required (see below) to define help strings on any
  datastore-specific options (any extra options added by a particular
  datastore).

We also perform validation of datastore options.

 - All datastore options are now require to define help strings.

Change-Id: Icbb602e34156ddc35c93a90b6860901f44e93d7c
",git fetch https://review.opendev.org/openstack/trove refs/changes/26/308126/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/common/cfg.py'],1,ac4b5a0b9fdf9ecd6ef0a8b1b9e492e5a764fa3c,308126,"import copyfrom trove.common import exceptiondef find_first(iterable, matcher): """"""Find and return the first element that matches the filter condition or None if not found. :param matcher Filter expression. :type matcher callable """""" return next((v for v in iterable if matcher(v)), None) def _override_options(default_options, *overrides): """"""Override properties of options in a given list of defaults. Return a new list combining the default and overriden items. If an override name matches an option that already exists in the default list the default value, type information (min, max, choices etc.) and help* string are replaced by the overriding properties. If the override does not match an existing option it's appended to the returned list. * The help string is updated only when explicitly specified by the override. The default help string is used otherwise. Options that do not match any of the existing defaults must always define their respective help strings. """""" updated_options = copy.deepcopy(default_options) for value in overrides: match = find_first(updated_options, lambda opt: opt.name == value.name) if match is not None: if not isinstance(value, type(match)): raise exception.TroveError( _(""Default option '%s' cannot be overriden by a "" ""different type."") % value.name) # Override the default value and type information. match.default = value.default match.type = value.type # Update the help only when explicitly specified in the override. if value.help: match.help = value.help else: if not value.help: raise exception.TroveError( _(""Configuration option '%s' does not define a help "" ""string."") % value.name) updated_options.append(value) return updated_options # Datastore defaults. datastore_defaults = [ cfg.ListOpt('tcp_ports', default=[], help='List of TCP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.ListOpt('udp_ports', default=[], help='List of UDP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.StrOpt('mount_point', default=None, help=""Filesystem path for mounting "" ""volumes if volume support is enabled.""), cfg.StrOpt('backup_strategy', default=None, help='Default strategy to perform backups.', deprecated_name='backup_strategy', deprecated_group='DEFAULT'), cfg.StrOpt('replication_strategy', default=None, help='Default strategy for replication.'), cfg.StrOpt('replication_namespace', default=None, help='Namespace to load replication strategies from.'), cfg.StrOpt('backup_namespace', default=None, help='Namespace to load backup strategies from.', deprecated_name='backup_namespace', deprecated_group='DEFAULT'), cfg.StrOpt('restore_namespace', default=None, help='Namespace to load restore strategies from.', deprecated_name='restore_namespace', deprecated_group='DEFAULT'), cfg.DictOpt('backup_incremental_strategy', default={}, help='Incremental Backup Runner based on the default ' 'strategy. For strategies that do not implement an ' 'incremental backup, the runner will use the default full ' 'backup.', deprecated_name='backup_incremental_strategy', deprecated_group='DEFAULT'), cfg.BoolOpt('cluster_support', default=False, help='Enable clusters to be created and managed.'), cfg.IntOpt('min_cluster_member_count', default=1, help='Minimum number of members in a cluster.'), cfg.StrOpt('api_strategy', default=None, help='Class that implements datastore-specific API logic.'), cfg.StrOpt('taskmanager_strategy', default=None, help='Class that implements datastore-specific task manager ' 'logic.'), cfg.StrOpt('guestagent_strategy', default=None, help='Class that implements datastore-specific Guest Agent API ' 'logic.'), cfg.BoolOpt('root_on_create', default=False, help='Enable the automatic creation of the root user for the ' 'service during instance-create. The generated password for ' 'the root user is immediately returned in the response of ' ""instance-create as the 'password' field.""), cfg.BoolOpt('volume_support', default=True, help='Whether to provision a Cinder volume for datadir.'), cfg.StrOpt('device_path', default='/dev/vdb', help='Device path for volume if volume support is enabled.'), cfg.IntOpt('usage_timeout', default=1800, help='Maximum time (in seconds) to wait for a Guest to become ' 'active.'), cfg.StrOpt('root_controller', default='trove.extensions.common.service.DefaultRootController', help='Root controller implementation.'), cfg.ListOpt('ignore_users', default=[], help='Users to exclude when listing users.', deprecated_name='ignore_users', deprecated_group='DEFAULT'), cfg.ListOpt('ignore_dbs', default=[], help='Databases to exclude when listing databases.', deprecated_name='ignore_dbs', deprecated_group='DEFAULT'), cfg.StrOpt('guest_log_exposed_logs', default='', help='List of Guest Logs to expose for publishing.'), cfg.IntOpt('guest_log_long_query_time', default=1000, help='The time in milliseconds that a statement must take in ' 'in order to be logged in the slow_query log.'), ] mysql_opts = _override_options( datastore_defaults, cfg.ListOpt('tcp_ports', default=[""3306""]), cfg.StrOpt('mount_point', default='/var/lib/mysql'), cfg.StrOpt('backup_strategy', default='InnoBackupEx'), cfg.StrOpt('replication_strategy', default='MysqlGTIDReplication'), default='trove.guestagent.strategies.replication.mysql_gtid'), default='trove.guestagent.strategies.backup.mysql_impl'), default='trove.guestagent.strategies.restore.mysql_impl'), default={'InnoBackupEx': 'InnoBackupExIncremental'}), cfg.IntOpt('usage_timeout', default=400), default='trove.extensions.mysql.service.MySQLRootController'), cfg.ListOpt('ignore_users', default=['os_admin', 'root']), default=['mysql', 'information_schema', 'performance_schema']), cfg.StrOpt('guest_log_exposed_logs', default='general,slow_query'), )percona_opts = _override_options( mysql_opts, cfg.IntOpt('usage_timeout', default=450), cfg.StrOpt('root_controller', default='trove.extensions.common.service.' 'DefaultRootController'),)pxc_opts = _override_options( datastore_defaults, cfg.ListOpt('tcp_ports', default=[""3306"", ""4444"", ""4567"", ""4568""]), cfg.IntOpt('usage_timeout', default=450), cfg.StrOpt('root_controller', default='trove.extensions.pxc.service.PxcRootController'), cfg.ListOpt('ignore_users', default=['os_admin', 'root', 'clusterrepuser']), cfg.BoolOpt('cluster_support', default=True), cfg.IntOpt('min_cluster_member_count', default=3), 'galera_common.api.GaleraCommonAPIStrategy'), 'galera_common.taskmanager.GaleraCommonTaskManagerStrategy'), 'galera_common.guestagent.GaleraCommonGuestAgentStrategy'), )redis_opts = _override_options( datastore_defaults, cfg.ListOpt('tcp_ports', default=[""6379"", ""16379""]), cfg.StrOpt('backup_strategy', default='RedisBackup'), cfg.StrOpt('replication_strategy', default='RedisSyncReplication'), 'redis_sync'), cfg.StrOpt('mount_point', default='/var/lib/redis'), ""redis_impl""), ""redis_impl""), cfg.BoolOpt('cluster_support', default=True), 'redis.api.RedisAPIStrategy'), 'taskmanager.RedisTaskManagerStrategy'), 'redis.guestagent.RedisGuestAgentStrategy'), )cassandra_opts = _override_options( datastore_defaults, cfg.ListOpt('tcp_ports', default=[""7000"", ""7001"", ""7199"", ""9042"", ""9160""]), cfg.StrOpt('backup_strategy', default=""NodetoolSnapshot""), cfg.StrOpt('mount_point', default='/var/lib/cassandra'), ""cassandra_impl""), ""cassandra_impl""), '.CassandraRootController'), cfg.ListOpt('ignore_users', default=['os_admin']), 'system_traces']), cfg.BoolOpt('cluster_support', default=True), 'cassandra.api.CassandraAPIStrategy'), '.cassandra.taskmanager.CassandraTaskManagerStrategy'), '.cassandra.guestagent.CassandraGuestAgentStrategy'), )couchbase_opts = _override_options( datastore_defaults, ""21100-21199""]), cfg.StrOpt('backup_strategy', default='CbBackup'), cfg.StrOpt('mount_point', default='/var/lib/couchbase'), 'couchbase_impl'), 'couchbase_impl'), )mongodb_opts = _override_options( datastore_defaults, cfg.ListOpt('tcp_ports', default=[""2500"", ""27017"", ""27019""]), cfg.StrOpt('backup_strategy', default='MongoDump'), cfg.StrOpt('mount_point', default='/var/lib/mongodb'), cfg.BoolOpt('cluster_support', default=True), 'mongodb.api.MongoDbAPIStrategy'), 'taskmanager.MongoDbTaskManagerStrategy'), 'mongodb.guestagent.MongoDbGuestAgentStrategy'), 'mongo_impl'), 'mongo_impl'), cfg.ListOpt('ignore_dbs', default=['admin', 'local', 'config']), cfg.ListOpt('ignore_users', default=['admin.os_admin', 'admin.root']), 'MongoDBRootController'), )postgresql_opts = _override_options( datastore_defaults, cfg.ListOpt('tcp_ports', default=[""5432""]), cfg.StrOpt('backup_strategy', default='PgDump'), cfg.StrOpt('mount_point', default='/var/lib/postgresql'), 'postgresql_impl'), 'postgresql_impl'), cfg.StrOpt('guest_log_exposed_logs', default='general'), cfg.IntOpt('guest_log_long_query_time', default=0), )couchdb_opts = _override_options( datastore_defaults, cfg.ListOpt('tcp_ports', default=[""5984""]), cfg.StrOpt('mount_point', default='/var/lib/couchdb'), cfg.StrOpt('backup_strategy', default='CouchDBBackup'), '.backup.experimental.couchdb_impl'), '.restore.experimental.couchdb_impl'), cfg.ListOpt('ignore_users', default=['os_admin', 'root']), cfg.ListOpt('ignore_dbs', default=['_users', '_replicator']), )vertica_opts = _override_options( datastore_defaults, default=[""5433"", ""5434"", ""22"", ""5444"", ""5450"", ""4803""]), default=[""5433"", ""4803"", ""4804"", ""6453""]), cfg.StrOpt('mount_point', default='/var/lib/vertica'), cfg.BoolOpt('cluster_support', default=True), 'api.VerticaAPIStrategy'), 'taskmanager.VerticaTaskManagerStrategy'), 'guestagent.VerticaGuestAgentStrategy'), 'VerticaRootController'),)db2_opts = _override_options( datastore_defaults, cfg.ListOpt('tcp_ports', default=[""50000""]), cfg.StrOpt('mount_point', default=""/home/db2inst1/db2inst1""), cfg.StrOpt('backup_strategy', default='DB2Backup'), 'db2_impl'), 'db2_impl'),)mariadb_opts = _override_options( pxc_opts, cfg.ListOpt('tcp_ports', default=[""3306"", ""4444"", ""4567"", ""4568""]), cfg.StrOpt('backup_strategy', default='InnoBackupEx'), cfg.StrOpt('replication_strategy', default='MariaDBGTIDReplication'), '.mariadb_gtid'), )CONF.register_opts(datastore_defaults)"," cfg.IntOpt('usage_timeout', default=900, help='Maximum time (in seconds) to wait for a Guest to become ' 'active.'),mysql_opts = [ cfg.ListOpt('tcp_ports', default=[""3306""], help='List of TCP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.ListOpt('udp_ports', default=[], help='List of UDP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.StrOpt('backup_strategy', default='InnoBackupEx', help='Default strategy to perform backups.', deprecated_name='backup_strategy', deprecated_group='DEFAULT'), cfg.StrOpt('replication_strategy', default='MysqlGTIDReplication', help='Default strategy for replication.'), default='trove.guestagent.strategies.replication.mysql_gtid', help='Namespace to load replication strategies from.'), cfg.StrOpt('mount_point', default='/var/lib/mysql', help=""Filesystem path for mounting "" ""volumes if volume support is enabled.""), cfg.BoolOpt('root_on_create', default=False, help='Enable the automatic creation of the root user for the ' 'service during instance-create. The generated password for ' 'the root user is immediately returned in the response of ' ""instance-create as the 'password' field.""), cfg.IntOpt('usage_timeout', default=400, help='Maximum time (in seconds) to wait for a Guest to become ' 'active.'), default='trove.guestagent.strategies.backup.mysql_impl', help='Namespace to load backup strategies from.', deprecated_name='backup_namespace', deprecated_group='DEFAULT'), default='trove.guestagent.strategies.restore.mysql_impl', help='Namespace to load restore strategies from.', deprecated_name='restore_namespace', deprecated_group='DEFAULT'), cfg.BoolOpt('volume_support', default=True, help='Whether to provision a Cinder volume for datadir.'), cfg.StrOpt('device_path', default='/dev/vdb', help='Device path for volume if volume support is enabled.'), default={'InnoBackupEx': 'InnoBackupExIncremental'}, help='Incremental Backup Runner based on the default ' 'strategy. For strategies that do not implement an ' 'incremental backup, the runner will use the default full ' 'backup.', deprecated_name='backup_incremental_strategy', deprecated_group='DEFAULT'), default='trove.extensions.mysql.service.MySQLRootController', help='Root controller implementation for mysql.'), cfg.ListOpt('ignore_users', default=['os_admin', 'root'], help='Users to exclude when listing users.', deprecated_name='ignore_users', deprecated_group='DEFAULT'), default=['mysql', 'information_schema', 'performance_schema'], help='Databases to exclude when listing databases.', deprecated_name='ignore_dbs', deprecated_group='DEFAULT'), cfg.StrOpt('guest_log_exposed_logs', default='general,slow_query', help='List of Guest Logs to expose for publishing.'), cfg.IntOpt('guest_log_long_query_time', default=1000, help='The time in milliseconds that a statement must take in ' 'in order to be logged in the slow_query log.'), ]percona_opts = [ cfg.ListOpt('tcp_ports', default=[""3306""], help='List of TCP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.ListOpt('udp_ports', default=[], help='List of UDP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.StrOpt('backup_strategy', default='InnoBackupEx', help='Default strategy to perform backups.', deprecated_name='backup_strategy', deprecated_group='DEFAULT'), cfg.StrOpt('replication_strategy', default='MysqlGTIDReplication', help='Default strategy for replication.'), cfg.StrOpt('replication_namespace', default='trove.guestagent.strategies.replication.mysql_gtid', help='Namespace to load replication strategies from.'), cfg.StrOpt('mount_point', default='/var/lib/mysql', help=""Filesystem path for mounting "" ""volumes if volume support is enabled.""), cfg.BoolOpt('root_on_create', default=False, help='Enable the automatic creation of the root user for the ' 'service during instance-create. The generated password for ' 'the root user is immediately returned in the response of ' ""instance-create as the 'password' field.""), cfg.IntOpt('usage_timeout', default=450, help='Maximum time (in seconds) to wait for a Guest to become ' 'active.'), cfg.StrOpt('backup_namespace', default='trove.guestagent.strategies.backup.mysql_impl', help='Namespace to load backup strategies from.', deprecated_name='backup_namespace', deprecated_group='DEFAULT'), cfg.StrOpt('restore_namespace', default='trove.guestagent.strategies.restore.mysql_impl', help='Namespace to load restore strategies from.', deprecated_name='restore_namespace', deprecated_group='DEFAULT'), cfg.BoolOpt('volume_support', default=True, help='Whether to provision a Cinder volume for datadir.'), cfg.StrOpt('device_path', default='/dev/vdb', help='Device path for volume if volume support is enabled.'), cfg.DictOpt('backup_incremental_strategy', default={'InnoBackupEx': 'InnoBackupExIncremental'}, help='Incremental Backup Runner based on the default ' 'strategy. For strategies that do not implement an ' 'incremental backup, the runner will use the default full ' 'backup.', deprecated_name='backup_incremental_strategy', deprecated_group='DEFAULT'), cfg.StrOpt('root_controller', default='trove.extensions.common.service.DefaultRootController', help='Root controller implementation for percona.'), cfg.ListOpt('ignore_users', default=['os_admin', 'root'], help='Users to exclude when listing users.', deprecated_name='ignore_users', deprecated_group='DEFAULT'), cfg.ListOpt('ignore_dbs', default=['mysql', 'information_schema', 'performance_schema'], help='Databases to exclude when listing databases.', deprecated_name='ignore_dbs', deprecated_group='DEFAULT'), cfg.StrOpt('guest_log_exposed_logs', default='general,slow_query', help='List of Guest Logs to expose for publishing.'), cfg.IntOpt('guest_log_long_query_time', default=1000, help='The time in milliseconds that a statement must take in ' 'in order to be logged in the slow_query log.'), ]pxc_opts = [ cfg.ListOpt('tcp_ports', default=[""3306"", ""4444"", ""4567"", ""4568""], help='List of TCP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.ListOpt('udp_ports', default=[], help='List of UDP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.StrOpt('backup_strategy', default='InnoBackupEx', help='Default strategy to perform backups.'), cfg.StrOpt('replication_strategy', default='MysqlGTIDReplication', help='Default strategy for replication.'), cfg.StrOpt('replication_namespace', default='trove.guestagent.strategies.replication.mysql_gtid', help='Namespace to load replication strategies from.'), cfg.StrOpt('mount_point', default='/var/lib/mysql', help=""Filesystem path for mounting "" ""volumes if volume support is enabled.""), cfg.BoolOpt('root_on_create', default=False, help='Enable the automatic creation of the root user for the ' 'service during instance-create. The generated password for ' 'the root user is immediately returned in the response of ' ""instance-create as the 'password' field.""), cfg.IntOpt('usage_timeout', default=450, help='Maximum time (in seconds) to wait for a Guest to become ' 'active.'), cfg.StrOpt('backup_namespace', default='trove.guestagent.strategies.backup.mysql_impl', help='Namespace to load backup strategies from.'), cfg.StrOpt('restore_namespace', default='trove.guestagent.strategies.restore.mysql_impl', help='Namespace to load restore strategies from.'), cfg.BoolOpt('volume_support', default=True, help='Whether to provision a Cinder volume for datadir.'), cfg.StrOpt('device_path', default='/dev/vdb', help='Device path for volume if volume support is enabled.'), cfg.DictOpt('backup_incremental_strategy', default={'InnoBackupEx': 'InnoBackupExIncremental'}, help='Incremental Backup Runner based on the default ' 'strategy. For strategies that do not implement an ' 'incremental backup, the runner will use the default full ' 'backup.'), cfg.ListOpt('ignore_users', default=['os_admin', 'root', 'clusterrepuser'], help='Users to exclude when listing users.'), cfg.ListOpt('ignore_dbs', default=['mysql', 'information_schema', 'performance_schema'], help='Databases to exclude when listing databases.'), cfg.BoolOpt('cluster_support', default=True, help='Enable clusters to be created and managed.'), cfg.IntOpt('min_cluster_member_count', default=3, help='Minimum number of members in PXC cluster.'), 'galera_common.api.GaleraCommonAPIStrategy', help='Class that implements datastore-specific API logic.'), 'galera_common.taskmanager.GaleraCommonTaskManagerStrategy', help='Class that implements datastore-specific task manager ' 'logic.'), 'galera_common.guestagent.GaleraCommonGuestAgentStrategy', help='Class that implements datastore-specific Guest Agent API ' 'logic.'), cfg.StrOpt('root_controller', default='trove.extensions.pxc.service.PxcRootController', help='Root controller implementation for pxc.'), cfg.StrOpt('guest_log_exposed_logs', default='general,slow_query', help='List of Guest Logs to expose for publishing.'), cfg.IntOpt('guest_log_long_query_time', default=1000, help='The time in milliseconds that a statement must take in ' 'in order to be logged in the slow_query log.'), ] redis_opts = [ cfg.ListOpt('tcp_ports', default=[""6379"", ""16379""], help='List of TCP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.ListOpt('udp_ports', default=[], help='List of UDP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.StrOpt('backup_strategy', default='RedisBackup', help='Default strategy to perform backups.', deprecated_name='backup_strategy', deprecated_group='DEFAULT'), cfg.DictOpt('backup_incremental_strategy', default={}, help='Incremental Backup Runner based on the default ' 'strategy. For strategies that do not implement an ' 'incremental, the runner will use the default full backup.', deprecated_name='backup_incremental_strategy', deprecated_group='DEFAULT'), cfg.StrOpt('replication_strategy', default='RedisSyncReplication', help='Default strategy for replication.'), 'redis_sync', help='Namespace to load replication strategies from.'), cfg.StrOpt('mount_point', default='/var/lib/redis', help=""Filesystem path for mounting "" ""volumes if volume support is enabled.""), cfg.BoolOpt('volume_support', default=True, help='Whether to provision a Cinder volume for datadir.'), cfg.StrOpt('device_path', default='/dev/vdb', help='Device path for volume if volume support is enabled.'), ""redis_impl"", help='Namespace to load backup strategies from.', deprecated_name='backup_namespace', deprecated_group='DEFAULT'), ""redis_impl"", help='Namespace to load restore strategies from.', deprecated_name='restore_namespace', deprecated_group='DEFAULT'), cfg.BoolOpt('cluster_support', default=True, help='Enable clusters to be created and managed.'), 'redis.api.RedisAPIStrategy', help='Class that implements datastore-specific API logic.'), 'taskmanager.RedisTaskManagerStrategy', help='Class that implements datastore-specific task manager ' 'logic.'), 'redis.guestagent.RedisGuestAgentStrategy', help='Class that implements datastore-specific Guest Agent API ' 'logic.'), cfg.StrOpt('root_controller', default='trove.extensions.common.service.DefaultRootController', help='Root controller implementation for redis.'), cfg.StrOpt('guest_log_exposed_logs', default='', help='List of Guest Logs to expose for publishing.'), ]cassandra_opts = [ cfg.ListOpt('tcp_ports', default=[""7000"", ""7001"", ""7199"", ""9042"", ""9160""], help='List of TCP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.ListOpt('udp_ports', default=[], help='List of UDP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.DictOpt('backup_incremental_strategy', default={}, help='Incremental strategy based on the default backup ' 'strategy. For strategies that do not implement incremental ' 'backups, the runner performs full backup instead.', deprecated_name='backup_incremental_strategy', deprecated_group='DEFAULT'), cfg.StrOpt('backup_strategy', default=""NodetoolSnapshot"", help='Default strategy to perform backups.', deprecated_name='backup_strategy', deprecated_group='DEFAULT'), cfg.StrOpt('replication_strategy', default=None, help='Default strategy for replication.'), cfg.StrOpt('mount_point', default='/var/lib/cassandra', help=""Filesystem path for mounting "" ""volumes if volume support is enabled.""), cfg.BoolOpt('volume_support', default=True, help='Whether to provision a Cinder volume for datadir.'), cfg.StrOpt('device_path', default='/dev/vdb', help='Device path for volume if volume support is enabled.'), ""cassandra_impl"", help='Namespace to load backup strategies from.', deprecated_name='backup_namespace', deprecated_group='DEFAULT'), ""cassandra_impl"", help='Namespace to load restore strategies from.', deprecated_name='restore_namespace', deprecated_group='DEFAULT'), '.CassandraRootController', help='Root controller implementation for Cassandra.'), cfg.ListOpt('ignore_users', default=['os_admin'], help='Users to exclude when listing users.'), 'system_traces'], help='Databases to exclude when listing databases.'), cfg.StrOpt('guest_log_exposed_logs', default='', help='List of Guest Logs to expose for publishing.'), cfg.BoolOpt('cluster_support', default=True, help='Enable clusters to be created and managed.'), 'cassandra.api.CassandraAPIStrategy', help='Class that implements datastore-specific API logic.'), '.cassandra.taskmanager.CassandraTaskManagerStrategy', help='Class that implements datastore-specific task manager ' 'logic.'), '.cassandra.guestagent.CassandraGuestAgentStrategy', help='Class that implements datastore-specific Guest Agent API ' 'logic.'), ]couchbase_opts = [ ""21100-21199""], help='List of TCP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.ListOpt('udp_ports', default=[], help='List of UDP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.StrOpt('backup_strategy', default='CbBackup', help='Default strategy to perform backups.', deprecated_name='backup_strategy', deprecated_group='DEFAULT'), cfg.DictOpt('backup_incremental_strategy', default={}, help='Incremental Backup Runner based on the default ' 'strategy. For strategies that do not implement an ' 'incremental, the runner will use the default full backup.', deprecated_name='backup_incremental_strategy', deprecated_group='DEFAULT'), cfg.StrOpt('replication_strategy', default=None, help='Default strategy for replication.'), cfg.StrOpt('mount_point', default='/var/lib/couchbase', help=""Filesystem path for mounting "" ""volumes if volume support is enabled.""), cfg.BoolOpt('root_on_create', default=False, help='Enable the automatic creation of the root user for the ' 'service during instance-create. The generated password for ' 'the root user is immediately returned in the response of ' ""instance-create as the 'password' field.""), 'couchbase_impl', help='Namespace to load backup strategies from.', deprecated_name='backup_namespace', deprecated_group='DEFAULT'), 'couchbase_impl', help='Namespace to load restore strategies from.', deprecated_name='restore_namespace', deprecated_group='DEFAULT'), cfg.BoolOpt('volume_support', default=True, help='Whether to provision a Cinder volume for datadir.'), cfg.StrOpt('device_path', default='/dev/vdb', help='Device path for volume if volume support is enabled.'), cfg.StrOpt('root_controller', default='trove.extensions.common.service.DefaultRootController', help='Root controller implementation for couchbase.'), cfg.StrOpt('guest_log_exposed_logs', default='', help='List of Guest Logs to expose for publishing.'), ]mongodb_opts = [ cfg.ListOpt('tcp_ports', default=[""2500"", ""27017"", ""27019""], help='List of TCP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.ListOpt('udp_ports', default=[], help='List of UDP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.StrOpt('backup_strategy', default='MongoDump', help='Default strategy to perform backups.', deprecated_name='backup_strategy', deprecated_group='DEFAULT'), cfg.DictOpt('backup_incremental_strategy', default={}, help='Incremental Backup Runner based on the default ' 'strategy. For strategies that do not implement an ' 'incremental, the runner will use the default full backup.', deprecated_name='backup_incremental_strategy', deprecated_group='DEFAULT'), cfg.StrOpt('replication_strategy', default=None, help='Default strategy for replication.'), cfg.StrOpt('mount_point', default='/var/lib/mongodb', help=""Filesystem path for mounting "" ""volumes if volume support is enabled.""), cfg.BoolOpt('volume_support', default=True, help='Whether to provision a Cinder volume for datadir.'), cfg.StrOpt('device_path', default='/dev/vdb', help='Device path for volume if volume support is enabled.'), cfg.BoolOpt('cluster_support', default=True, help='Enable clusters to be created and managed.'), 'mongodb.api.MongoDbAPIStrategy', help='Class that implements datastore-specific API logic.'), 'taskmanager.MongoDbTaskManagerStrategy', help='Class that implements datastore-specific task manager ' 'logic.'), 'mongodb.guestagent.MongoDbGuestAgentStrategy', help='Class that implements datastore-specific Guest Agent API ' 'logic.'), 'mongo_impl', help='Namespace to load backup strategies from.', deprecated_name='backup_namespace', deprecated_group='DEFAULT'), 'mongo_impl', help='Namespace to load restore strategies from.', deprecated_name='restore_namespace', deprecated_group='DEFAULT'), cfg.ListOpt('ignore_dbs', default=['admin', 'local', 'config'], help='Databases to exclude when listing databases.'), cfg.ListOpt('ignore_users', default=['admin.os_admin', 'admin.root'], help='Users to exclude when listing users.'), 'MongoDBRootController', help='Root controller implementation for mongodb.'), cfg.StrOpt('guest_log_exposed_logs', default='', help='List of Guest Logs to expose for publishing.'), ]postgresql_opts = [ cfg.ListOpt('tcp_ports', default=[""5432""], help='List of TCP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.ListOpt('udp_ports', default=[], help='List of UDP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.StrOpt('backup_strategy', default='PgDump', help='Default strategy to perform backups.'), cfg.DictOpt('backup_incremental_strategy', default={}, help='Incremental Backup Runner based on the default ' 'strategy. For strategies that do not implement an ' 'incremental, the runner will use the default full backup.'), cfg.StrOpt('mount_point', default='/var/lib/postgresql', help=""Filesystem path for mounting "" ""volumes if volume support is enabled.""), cfg.BoolOpt('root_on_create', default=False, help='Enable the automatic creation of the root user for the ' 'service during instance-create. The generated password for ' 'the root user is immediately returned in the response of ' ""instance-create as the 'password' field.""), 'postgresql_impl', help='Namespace to load backup strategies from.'), 'postgresql_impl', help='Namespace to load restore strategies from.'), cfg.BoolOpt('volume_support', default=True, help='Whether to provision a Cinder volume for datadir.'), cfg.StrOpt('device_path', default='/dev/vdb'), cfg.StrOpt('root_controller', default='trove.extensions.common.service.DefaultRootController', help='Root controller implementation for postgresql.'), cfg.StrOpt('guest_log_exposed_logs', default='general', help='List of Guest Logs to expose for publishing.'), cfg.IntOpt('guest_log_long_query_time', default=0, help=""The time in milliseconds that a statement must take in "" ""in order to be logged in the 'general' log. A value of "" ""'0' logs all statements, while '-1' turns off "" ""statement logging.""), ]couchdb_opts = [ cfg.ListOpt('tcp_ports', default=[""5984""], help='List of TCP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.ListOpt('udp_ports', default=[], help='List of UDP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.StrOpt('mount_point', default='/var/lib/couchdb', help=""Filesystem path for mounting "" ""volumes if volume support is enabled.""), cfg.BoolOpt('volume_support', default=True, help='Whether to provision a Cinder volume for datadir.'), cfg.StrOpt('device_path', default='/dev/vdb', help='Device path for volume if volume support is enabled.'), cfg.StrOpt('backup_strategy', default='CouchDBBackup', help='Default strategy to perform backups.'), cfg.StrOpt('replication_strategy', default=None, help='Default strategy for replication.'), '.backup.experimental.couchdb_impl', help='Namespace to load backup strategies from.'), '.restore.experimental.couchdb_impl', help='Namespace to load restore strategies from.'), cfg.DictOpt('backup_incremental_strategy', default={}, help='Incremental Backup Runner based on the default ' 'strategy. For strategies that do not implement an ' 'incremental, the runner will use the default full backup.'), cfg.BoolOpt('root_on_create', default=False, help='Enable the automatic creation of the root user for the ' 'service during instance-create. The generated password for ' 'the root user is immediately returned in the response of ' 'instance-create as the ""password"" field.'), cfg.StrOpt('root_controller', default='trove.extensions.common.service.DefaultRootController', help='Root controller implementation for couchdb.'), cfg.StrOpt('guest_log_exposed_logs', default='', help='List of Guest Logs to expose for publishing.'), cfg.ListOpt('ignore_users', default=['os_admin', 'root'], help='Users to exclude when listing users.', deprecated_name='ignore_users', deprecated_group='DEFAULT'), cfg.ListOpt('ignore_dbs', default=['_users', '_replicator'], help='Databases to exclude when listing databases.', deprecated_name='ignore_dbs', deprecated_group='DEFAULT'), ]vertica_opts = [ default=[""5433"", ""5434"", ""22"", ""5444"", ""5450"", ""4803""], help='List of TCP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), default=[""5433"", ""4803"", ""4804"", ""6453""], help='List of UDP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.StrOpt('backup_strategy', default=None, help='Default strategy to perform backups.'), cfg.DictOpt('backup_incremental_strategy', default={}, help='Incremental Backup Runner based on the default ' 'strategy. For strategies that do not implement an ' 'incremental, the runner will use the default full backup.'), cfg.StrOpt('replication_strategy', default=None, help='Default strategy for replication.'), cfg.StrOpt('mount_point', default='/var/lib/vertica', help=""Filesystem path for mounting "" ""volumes if volume support is enabled.""), cfg.BoolOpt('volume_support', default=True, help='Whether to provision a Cinder volume for datadir.'), cfg.StrOpt('device_path', default='/dev/vdb', help='Device path for volume if volume support is enabled.'), cfg.StrOpt('backup_namespace', default=None, help='Namespace to load backup strategies from.'), cfg.StrOpt('restore_namespace', default=None, help='Namespace to load restore strategies from.'), cfg.BoolOpt('cluster_support', default=True, help='Enable clusters to be created and managed.'), 'api.VerticaAPIStrategy', help='Class that implements datastore-specific API logic.'), 'taskmanager.VerticaTaskManagerStrategy', help='Class that implements datastore-specific task manager ' 'logic.'), 'guestagent.VerticaGuestAgentStrategy', help='Class that implements datastore-specific Guest Agent API ' 'logic.'), 'VerticaRootController', help='Root controller implementation for Vertica.'), cfg.StrOpt('guest_log_exposed_logs', default='', help='List of Guest Logs to expose for publishing.'),]db2_opts = [ cfg.ListOpt('tcp_ports', default=[""50000""], help='List of TCP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.ListOpt('udp_ports', default=[], help='List of UDP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.StrOpt('mount_point', default=""/home/db2inst1/db2inst1"", help=""Filesystem path for mounting "" ""volumes if volume support is enabled.""), cfg.BoolOpt('volume_support', default=True, help='Whether to provision a Cinder volume for datadir.'), cfg.StrOpt('device_path', default='/dev/vdb', help='Device path for volume if volume support is enabled.'), cfg.StrOpt('backup_strategy', default='DB2Backup', help='Default strategy to perform backups.'), cfg.StrOpt('replication_strategy', default=None, help='Default strategy for replication.'), cfg.BoolOpt('root_on_create', default=False, help='Enable the automatic creation of the root user for the ' 'service during instance-create. The generated password for ' 'the root user is immediately returned in the response of ' ""instance-create as the 'password' field.""), 'db2_impl', help='Namespace to load backup strategies from.', deprecated_name='backup_namespace', deprecated_group='DEFAULT'), 'db2_impl', help='Namespace to load restore strategies from.', deprecated_name='restore_namespace', deprecated_group='DEFAULT'), cfg.DictOpt('backup_incremental_strategy', default={}, help='Incremental Backup Runner based on the default ' 'strategy. For strategies that do not implement an ' 'incremental, the runner will use the default full backup.'), cfg.StrOpt('root_controller', default='trove.extensions.common.service.DefaultRootController', help='Root controller implementation for db2.'), cfg.StrOpt('guest_log_exposed_logs', default='', help='List of Guest Logs to expose for publishing.'), ]mariadb_opts = [ cfg.ListOpt('tcp_ports', default=[""3306"", ""4444"", ""4567"", ""4568""], help='List of TCP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.ListOpt('udp_ports', default=[], help='List of UDP ports and/or port ranges to open ' 'in the security group (only applicable ' 'if trove_security_groups_support is True).'), cfg.StrOpt('backup_strategy', default='InnoBackupEx', help='Default strategy to perform backups.', deprecated_name='backup_strategy', deprecated_group='DEFAULT'), cfg.StrOpt('replication_strategy', default='MariaDBGTIDReplication', help='Default strategy for replication.'), '.mariadb_gtid', help='Namespace to load replication strategies from.'), cfg.StrOpt('mount_point', default='/var/lib/mysql', help=""Filesystem path for mounting "" ""volumes if volume support is enabled.""), cfg.BoolOpt('root_on_create', default=False, help='Enable the automatic creation of the root user for the ' 'service during instance-create. The generated password for ' 'the root user is immediately returned in the response of ' ""instance-create as the 'password' field.""), cfg.IntOpt('usage_timeout', default=400, help='Maximum time (in seconds) to wait for a Guest to become ' 'active.'), cfg.StrOpt('backup_namespace', default='trove.guestagent.strategies.backup.mysql_impl', help='Namespace to load backup strategies from.', deprecated_name='backup_namespace', deprecated_group='DEFAULT'), cfg.StrOpt('restore_namespace', default='trove.guestagent.strategies.restore.mysql_impl', help='Namespace to load restore strategies from.', deprecated_name='restore_namespace', deprecated_group='DEFAULT'), cfg.BoolOpt('volume_support', default=True, help='Whether to provision a Cinder volume for datadir.'), cfg.StrOpt('device_path', default='/dev/vdb', help='Device path for volume if volume support is enabled.'), cfg.DictOpt('backup_incremental_strategy', default={'InnoBackupEx': 'InnoBackupExIncremental'}, help='Incremental Backup Runner based on the default ' 'strategy. For strategies that do not implement an ' 'incremental backup, the runner will use the default full ' 'backup.', deprecated_name='backup_incremental_strategy', deprecated_group='DEFAULT'), cfg.StrOpt('root_controller', default='trove.extensions.common.service.DefaultRootController', help='Root controller implementation for mysql.'), cfg.ListOpt('ignore_users', default=['os_admin', 'root'], help='Users to exclude when listing users.', deprecated_name='ignore_users', deprecated_group='DEFAULT'), cfg.ListOpt('ignore_dbs', default=['mysql', 'information_schema', 'performance_schema'], help='Databases to exclude when listing databases.', deprecated_name='ignore_dbs', deprecated_group='DEFAULT'), cfg.StrOpt('guest_log_exposed_logs', default='general,slow_query', help='List of Guest Logs to expose for publishing.'), cfg.IntOpt('guest_log_long_query_time', default=1000, help='The time in milliseconds that a statement must take in ' 'in order to be logged in the slow_query log.'), cfg.BoolOpt('cluster_support', default=True, help='Enable clusters to be created and managed.'), cfg.IntOpt('min_cluster_member_count', default=3, help='Minimum number of members in MariaDB cluster.'), cfg.StrOpt('api_strategy', default='trove.common.strategies.cluster.experimental.' 'galera_common.api.GaleraCommonAPIStrategy', help='Class that implements datastore-specific API logic.'), cfg.StrOpt('taskmanager_strategy', default='trove.common.strategies.cluster.experimental.' 'galera_common.taskmanager.GaleraCommonTaskManagerStrategy', help='Class that implements datastore-specific task manager ' 'logic.'), cfg.StrOpt('guestagent_strategy', default='trove.common.strategies.cluster.experimental.' 'galera_common.guestagent.GaleraCommonGuestAgentStrategy', help='Class that implements datastore-specific Guest Agent API ' 'logic.'), ]",279,680
openstack%2Fpython-troveclient~master~I68543d47f787fb471ca404633affd1f1f96f8282,openstack/python-troveclient,master,I68543d47f787fb471ca404633affd1f1f96f8282,Add support for extended_properties on cluster-create,ABANDONED,2015-08-21 20:41:57.000000000,2016-08-12 12:29:47.000000000,,"[{'_account_id': 3}, {'_account_id': 8932}, {'_account_id': 9664}, {'_account_id': 15321}, {'_account_id': 16132}]","[{'number': 1, 'created': '2015-08-21 20:41:57.000000000', 'files': ['troveclient/v1/shell.py', 'troveclient/v1/clusters.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/19fed945803692897d14f6eee5309a72e08da14e', 'message': 'Add support for extended_properties on cluster-create\n\nChange-Id: I68543d47f787fb471ca404633affd1f1f96f8282\n'}]",0,215775,19fed945803692897d14f6eee5309a72e08da14e,10,5,1,1976,,,0,"Add support for extended_properties on cluster-create

Change-Id: I68543d47f787fb471ca404633affd1f1f96f8282
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/75/215775/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/v1/shell.py', 'troveclient/v1/clusters.py']",2,19fed945803692897d14f6eee5309a72e08da14e,root," def create(self, name, datastore, datastore_version, instances=None, extended_properties=None): if extended_properties: body[""cluster""][""extended_properties""] = extended_properties"," def create(self, name, datastore, datastore_version, instances=None):",19,2
openstack%2Ftrove~master~I087ce474d555d2a78bbaaa720d455fc66cacefb2,openstack/trove,master,I087ce474d555d2a78bbaaa720d455fc66cacefb2,Update Management Console user and password,ABANDONED,2015-08-03 22:27:01.000000000,2016-08-12 12:29:37.000000000,,"[{'_account_id': 3}, {'_account_id': 4240}, {'_account_id': 6160}, {'_account_id': 7806}, {'_account_id': 9664}, {'_account_id': 9782}, {'_account_id': 10215}, {'_account_id': 14991}, {'_account_id': 16132}]","[{'number': 1, 'created': '2015-08-03 22:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/56b78e2086700e3877c166ad849d7e68db8f1494', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\n""}, {'number': 2, 'created': '2015-08-11 23:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5bc3ad78976b573185acf8d7545ec3529c319c6f', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\n""}, {'number': 3, 'created': '2015-08-11 23:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2dbc05d92677030df5011e036b0b4ea052b5aadd', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\n""}, {'number': 4, 'created': '2015-08-26 22:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ae4cef3c62a44db53fd7ba816197974ddd0feb22', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nCloses-bug: #1489167\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\n""}, {'number': 5, 'created': '2015-08-27 04:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d9fdb3aff77b6e80913edf9570838e93f7a9b7b7', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nCloses-bug: #1489167\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\n""}, {'number': 6, 'created': '2015-08-31 00:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9eb0cbffb51fda1ed52432260261c6da0a151a96', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nCloses-bug: #1489167\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\n""}, {'number': 7, 'created': '2015-08-31 21:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2ed68aeec1fd93679c0283a9b6533411e5c13307', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nCloses-bug: #1489167\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\n""}, {'number': 8, 'created': '2015-09-06 06:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a3093be25e6001a58697283b6182801ddf888735', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 9, 'created': '2015-09-06 08:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b49f94d6095a5601a7c10beeb547b6964e11ac08', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 10, 'created': '2015-09-09 22:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d3eb41231ef1d629ff175c05e09e5b93daf4aee9', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 11, 'created': '2015-09-09 23:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/202df88496457b62c379802546e5f9247d2c46c2', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 12, 'created': '2015-09-12 01:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f1e836b69291c3930d8785d1eca71b2bb667bf6a', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 13, 'created': '2015-09-14 04:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f5ba5c2323a65151f48d554b3194d767f2e21fa5', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 14, 'created': '2015-09-14 20:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/61d98f7562330bb2620155884fae4ada73f57282', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 15, 'created': '2015-09-15 23:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6e171c8850b795a0745d4a757308b4be8090873e', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 16, 'created': '2015-10-30 19:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a0e9d3f3f4372cb1c2b0066aba6f5260a2ad333d', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 17, 'created': '2015-10-30 20:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7e5eb0a1009abe75336251c7eadb6ead68f0800d', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 18, 'created': '2015-11-23 23:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/41b63c9704ebdd0a617cdd2dfcf044ff2c866014', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 19, 'created': '2015-11-25 00:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e498c72064d4309914b1d8205e812f5b773bebb4', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 20, 'created': '2015-12-01 18:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3b4b5359247621391ccf7ac1af3ccfa7f6781f79', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 21, 'created': '2015-12-03 00:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d3250f24bb4ce8dde714d4b8dcc39906b8108be1', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 22, 'created': '2015-12-11 00:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7467c0dbc5da327e97de5160c6ac0d3b2dc2d117', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 23, 'created': '2016-01-04 20:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/af3509e2c0510532457c9af4344f2eef0817b4dc', 'message': ""WIP:Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 24, 'created': '2016-01-05 19:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6dd224860fab4b2e9f32da4c33611acd4b5befbe', 'message': ""WIP:Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 25, 'created': '2016-01-06 22:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/936ee71b74ba5557f02f20d9994b145f8c18124b', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 26, 'created': '2016-01-08 23:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/bc449cd515d5d586d5ba4299cd3d1bca4b3a386c', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 27, 'created': '2016-02-04 23:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/728e6009984caa5a9a7b767126a3a0215b84d2ab', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 28, 'created': '2016-02-05 18:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7a9a7a45c096dde92cb8e89877d8ae6e144deaba', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 29, 'created': '2016-02-09 20:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a048cfa120ddc06c0bef653d2700e165d9eb4250', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 30, 'created': '2016-02-09 23:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/39d2bb374a56f96fe40a8f33733c4ef57eee780a', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 31, 'created': '2016-02-11 00:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3740df7463c8005aa1e1490f98b1b5d1cd3f595e', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 32, 'created': '2016-02-13 18:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ae07c97c7a59b153d1590a86e04d897d8bc3b25a', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 34, 'created': '2016-02-15 16:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2ec34f29e6041644006232036b0f668fb9f6f1bc', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 35, 'created': '2016-04-05 15:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a0e37f1449d6f1b597a36cab8ac12e61fb9659c6', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}, {'number': 36, 'created': '2016-05-15 02:36:07.000000000', 'files': ['trove/guestagent/datastore/experimental/vertica/system.py', 'trove/tests/unittests/guestagent/test_dbaas.py', 'trove/common/cfg.py', 'releasenotes/notes/expose-secure-vertica-mgmt-console-b75b8703d8bcc2c7.yaml', 'trove/tests/unittests/guestagent/test_vertica_manager.py', 'trove/guestagent/datastore/experimental/vertica/service.py', 'trove/guestagent/datastore/experimental/vertica/manager.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/c52ef405f4059768e4f1d251579bcfc655f781e1', 'message': ""Update Management Console user and password\n\nIn this patch, the code have been updated to satisfy two use cases:\n1. The Management console have a dbadmin user and a bultin password.\nThe first time when the db is created, the MC dbadmin user's password\ngets changed to the vertica dbadmin password and the db is imported.\n2. The first time root is enabled on an instance, a root user is\ncreated in the MC with the user supplied password or the auto-generate\npassword. From the next time, whenever the root password is changed,\nthe root user password for the MC also gets changed.\nThe MCClient.jar file is used to perform the above tasks which is\nbuilt in the vertica image.\n\nChange-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2\nCloses-bug: #1489167\n""}]",40,208670,c52ef405f4059768e4f1d251579bcfc655f781e1,96,9,35,14991,,,0,"Update Management Console user and password

In this patch, the code have been updated to satisfy two use cases:
1. The Management console have a dbadmin user and a bultin password.
The first time when the db is created, the MC dbadmin user's password
gets changed to the vertica dbadmin password and the db is imported.
2. The first time root is enabled on an instance, a root user is
created in the MC with the user supplied password or the auto-generate
password. From the next time, whenever the root password is changed,
the root user password for the MC also gets changed.
The MCClient.jar file is used to perform the above tasks which is
built in the vertica image.

Change-Id: I087ce474d555d2a78bbaaa720d455fc66cacefb2
Closes-bug: #1489167
",git fetch https://review.opendev.org/openstack/trove refs/changes/70/208670/36 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/experimental/vertica/system.py', 'trove/common/cfg.py', 'trove/guestagent/datastore/experimental/vertica/service.py']",3,56b78e2086700e3877c166ad849d7e68db8f1494,bug/1489167,"MCCLIENT_PATH = CONF.vertica.mc_client_jar USEREMAIL = ""fake_root@hp.com"" DB_SERVER = ""db_srvr"" URL = ""https://localhost:5450/webui"" NODEIP = ""localhost"" self.mc_password = ""vertica123"" self._import_db_management_console(""dbadmin"", self.mc_password, db_password) self._change_user_password_management_console(""dbadmin"", self.mc_password, db_password) self.mc_password = self._get_database_password() command = ((""install -o root -g root -m 644 %(source)s "" ""%(target)s"") % {'source': tempfile.name, 'target': system.VERTICA_CONF}) db_password = self._get_database_password() LOG.info(_(""Adding root user to the MC."")) self._add_user_to_management_console('root', db_password, user.password) else: db_password, self._change_user_password_management_console('root', db_password, user.password) LOG.info(_(""Updated root password in MC."")) copy_key_cmd = ((""install -o %(user)s -m 600 "" ""%(source)s %(target)s"") % {'user': user, 'source': tempkeyfile.name, 'target': authorized_file_name}) def _get_api_key(self): """"""Gets the api key needed for the Management console"""""" try: LOG.debug(_(""Trying to get the API key"")) out, err = system.shell_execute(system.MC_API_KEY, command_executor=""dbadmin"") LOG.debug(_(""OUT : %s"") % out) api_key = out.split(""Key"")[1].split("":"")[1].split(""Synchronizing"")[ 0].strip() return api_key except exception.ProcessExecutionError: LOG.exception(_(""Could not fetch the API key"")) raise def _import_db_management_console(self, username, mc_pwd, db_pwd): """"""Adds user to Management console."""""" usecase = ""import_db"" try: api_key = self._get_api_key() jar_cmd = (system.MC_JAR_EXECUTION % (usecase, URL, mc_pwd, mc_pwd, NODEIP, USEREMAIL, username, db_pwd, db_pwd, api_key, DB_SERVER)) out, err = system.shell_execute(jar_cmd) LOG.debug(_(""OUT: %s"") % out) LOG.info(_(""Import db to MC succesfull."")) except exception.ProcessExecutionError: LOG.debug(""Cannot import db to MC."") def _change_user_password_management_console(self, username, mc_pwd, new_pwd): """"""Changes the password in the /management Console."""""" LOG.debug(_(""Trying to change the password in MC.."")) usecase = ""change_password"" try: api_key = self._get_api_key() jar_cmd = (system.MC_JAR_EXECUTION % (usecase, URL, mc_pwd, mc_pwd, NODEIP, USEREMAIL, username, new_pwd, new_pwd, api_key, DB_SERVER)) out, err = system.shell_execute(jar_cmd) LOG.debug(_(""OUT: %s"") % out) LOG.info(_(""Changed user password in MC."")) except exception.ProcessExecutionError: LOG.exception(_(""Cannot change MC password."")) def _add_user_to_management_console(self, username, mc_pwd, user_pwd): LOG.debug(_(""Trying to add root user to MC.."")) usecase = ""add_user"" try: api_key = self._get_api_key() jar_cmd = (system.MC_JAR_EXECUTION % (usecase, URL, mc_pwd, mc_pwd, NODEIP, USEREMAIL, username, user_pwd, user_pwd, api_key, DB_SERVER)) out, err = system.shell_execute(jar_cmd) LOG.debug(_(""OUT: %s"") % out) LOG.info(_(""Added user to MC."")) except exception.ProcessExecutionError: LOG.exception(_(""Cannot create new user.""))"," command = ((""install -o root -g root -m 644 %(source)s %(target)s"" ) % {'source': tempfile.name, 'target': system.VERTICA_CONF}) else: LOG.debug(""Updating root password."") self._get_database_password(), copy_key_cmd = ((""install -o %(user)s -m 600 %(source)s %(target)s"" ) % {'user': user, 'source': tempkeyfile.name, 'target': authorized_file_name})",101,9
openstack%2Ftrove-dashboard~master~I85c86267d7582e83a4a1bedee3a9d4684aa0867e,openstack/trove-dashboard,master,I85c86267d7582e83a4a1bedee3a9d4684aa0867e,Imported Translations from Zanata,MERGED,2016-08-06 06:58:40.000000000,2016-08-12 12:29:32.000000000,2016-08-12 12:29:32.000000000,"[{'_account_id': 3}, {'_account_id': 9664}]","[{'number': 1, 'created': '2016-08-06 06:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/7af3ec40d00db741d5fadc4af4eebaf76a6f99f0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I85c86267d7582e83a4a1bedee3a9d4684aa0867e\n'}, {'number': 2, 'created': '2016-08-10 09:32:38.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'trove_dashboard/locale/zh_CN/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/4d556525436739c5d22b0c145419a317f9ba2fdc', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I85c86267d7582e83a4a1bedee3a9d4684aa0867e\n'}]",0,351998,4d556525436739c5d22b0c145419a317f9ba2fdc,8,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I85c86267d7582e83a4a1bedee3a9d4684aa0867e
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/98/351998/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'trove_dashboard/locale/zh_CN/LC_MESSAGES/django.po']",2,7af3ec40d00db741d5fadc4af4eebaf76a6f99f0,zanata/translations,"# Yu Long <yulongxn@163.com>, 2016. #zanata""Project-Id-Version: trove-dashboard 7.0.0.0b3.dev5\n""""POT-Creation-Date: 2016-08-01 17:45+0000\n""""PO-Revision-Date: 2016-08-06 02:05+0000\n"" ""Last-Translator: Yu Long <yulongxn@163.com>\n""msgctxt ""Current status of a Database Instance"" msgid ""Building"" msgstr """" #, python-format msgid ""Cannot disable root access: %s"" msgstr ""root%s"" msgid ""Disable Root"" msgstr ""root"" msgid ""Logs"" msgstr """" msgctxt ""Current status of a Database Instance"" msgid ""Rebooting"" msgstr """" msgctxt ""Current status of a Database Instance"" msgid ""Resizing"" msgstr """" msgid ""Successfully disabled root access."" msgstr ""root"" #, python-format msgid """" ""Unable to retrieve list of logs.\n"" ""%s"" msgstr """" ""\n"" ""%s"" ","""Project-Id-Version: trove-dashboard 6.0.0.0rc2.dev33\n""""POT-Creation-Date: 2016-05-18 19:26+0000\n""""PO-Revision-Date: 2016-03-21 02:54+0000\n"" ""Last-Translator: Gaoxiao Zhu <zhu.gaoxiao@h3c.com>\n""",41,10
openstack%2Ftrove-specs~master~Ibd25392bfe972171f0dd048f57e0cb62b62bd0ce,openstack/trove-specs,master,Ibd25392bfe972171f0dd048f57e0cb62b62bd0ce,Separate trove image build project based on libguestfs tools,ABANDONED,2016-03-21 13:18:50.000000000,2016-08-12 12:29:19.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 6413}, {'_account_id': 8932}, {'_account_id': 9664}, {'_account_id': 10035}, {'_account_id': 10215}, {'_account_id': 10459}, {'_account_id': 14823}]","[{'number': 1, 'created': '2016-03-21 13:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/484682f3dbeea8ddb61330a62868bcab5042ce45', 'message': 'Separate trove image build project based on libguestfs tools\n\nThis specification proposes to create a new Trove repository\nthat will contain source code artifacts for a Trove guest database\nimage generation tool based on libguestfs. A libguestfs approach\nhas many advantages over DIB but one of the most important is\nsecurity.\n\nChange-Id: Ibd25392bfe972171f0dd048f57e0cb62b62bd0ce\nImplements: blueprint trove-image-builder\n'}, {'number': 2, 'created': '2016-03-21 14:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/b11493e897ae50e65b916dd53c2e0ea941f3dfac', 'message': 'Separate trove image build project based on libguestfs tools\n\nThis specification proposes to create a new Trove repository\nthat will contain source code artifacts for a Trove guest database\nimage generation tool based on libguestfs. A libguestfs approach\nhas many advantages over DIB but one of the most important is\nsecurity.\n\nChange-Id: Ibd25392bfe972171f0dd048f57e0cb62b62bd0ce\nImplements: blueprint trove-image-builder\n'}, {'number': 3, 'created': '2016-03-23 18:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/95d3a691a2a10d2665b67f742055c443e671b8dd', 'message': 'Separate trove image build project based on libguestfs tools\n\nThis specification proposes to create a new Trove repository\nthat will contain source code artifacts for a Trove guest database\nimage generation tool based on libguestfs. A libguestfs approach\nhas many advantages over DIB but one of the most important is\nsecurity.\n\nChange-Id: Ibd25392bfe972171f0dd048f57e0cb62b62bd0ce\nImplements: blueprint trove-image-builder\n'}, {'number': 4, 'created': '2016-03-23 18:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/adda0bd8dc81d5e8264fe0dd88171db470a4d46e', 'message': 'Separate trove image build project based on libguestfs tools\n\nThis specification proposes to create a new Trove repository\nthat will contain source code artifacts for a Trove guest database\nimage generation tool based on libguestfs. A libguestfs approach\nhas many advantages over DIB but one of the most important is\nsecurity.\n\nChange-Id: Ibd25392bfe972171f0dd048f57e0cb62b62bd0ce\nImplements: blueprint trove-image-builder\n'}, {'number': 5, 'created': '2016-03-31 22:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/09c8a84b7bc778f7c63e5fb0ed9e5ce975ecf580', 'message': 'Separate trove image build project based on libguestfs tools\n\nThis specification proposes to create a new Trove repository\nthat will contain source code artifacts for a Trove guest database\nimage generation tool based on libguestfs. A libguestfs approach\nhas many advantages over DIB but one of the most important is\nsecurity.\n\nChange-Id: Ibd25392bfe972171f0dd048f57e0cb62b62bd0ce\nImplements: blueprint trove-image-builder\n'}, {'number': 6, 'created': '2016-04-08 19:18:31.000000000', 'files': ['doc/source/index.rst', 'specs/newton/trove-image-builder.rst'], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/2fed85736457b017d9c130a335b711d47ae2b68e', 'message': 'Separate trove image build project based on libguestfs tools\n\nThis specification proposes to create a new Trove repository\nthat will contain source code artifacts for a Trove guest database\nimage generation tool based on libguestfs. A libguestfs approach\nhas many advantages over DIB but one of the most important is\nsecurity.\n\nChange-Id: Ibd25392bfe972171f0dd048f57e0cb62b62bd0ce\nImplements: blueprint trove-image-builder\n'}]",90,295274,2fed85736457b017d9c130a335b711d47ae2b68e,49,9,6,14823,,,0,"Separate trove image build project based on libguestfs tools

This specification proposes to create a new Trove repository
that will contain source code artifacts for a Trove guest database
image generation tool based on libguestfs. A libguestfs approach
has many advantages over DIB but one of the most important is
security.

Change-Id: Ibd25392bfe972171f0dd048f57e0cb62b62bd0ce
Implements: blueprint trove-image-builder
",git fetch https://review.opendev.org/openstack/trove-specs refs/changes/74/295274/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/trove-image-builder.rst'],1,484682f3dbeea8ddb61330a62868bcab5042ce45,bp/trove-image-builder,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode Sections of this template were taken directly from the Nova spec template at: https://github.com/openstack/nova-specs/blob/master/specs/juno-template.rst .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/trove/+spec/awesome-thing should be named awesome-thing.rst. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None Note: This comment may be removed if desired, however the license notice above should remain. =================== Trove Image Builder =================== .. contents:: The development and user community needs a consistent and automated means of generating Trove guest database images (simply ""images"") for different platforms and databases using an open source tool. Launchpad Blueprint: https://blueprints.launchpad.net/trove-integration/+spec/trove-image-builder Problem Description =================== Trove users (new and experienced) typically run into problems in the last leg of a datastore setup, that is the generation and loading of a compatible image including the database and the Trove guestagent. There are significant variations among the GNU/Linux distros, their native database packages, vendor packages and assumptions built into the current Trove codebase. These differences can together conspire to provide unusable Trove guest database instances. An instance launched from an incorrectly assembled Trove image will not properly prepare and register with the Trove control plane, potentially remaining in BUILD state indefinitely, and the novice user will have little information to go on. Also, the current means of image creation involves the usage of diskimage-builder (DIB) project [0]_. The DIB approach has several deficiencies: - base images must be uncompressed to a temp directory with enough space to install all the required elements - DIB elements are fragile shell scripts that also can execute arbitrary and potentially harmful code unchecked - requires root to build images - if something goes wrong in any of the element phases, the image build must be completely repeated - the bootloader must be reinstalled with each build - the DIB build is dependent on a multiplicity of environment variables Proposed Change =============== This specification proposes to create a new Trove repository that will contain source code artifacts for an image generation tool based on libguestfs [1]_. A libguestfs approach has many advantages over DIB but one of the most important is security. libguestfs runs a Linux kernel inside a QEMU virtual machine, usually running as a non-root user. An attacker would need to write a filesystem which first exploited the kernel, and then exploited either QEMU virtualization (e.g., a faulty QEMU driver) or the libguestfs protocol. Finally a host kernel exploit would need to escalate its privileges to root. [2]_ The new tool will support image generation for the same set of distros currently available from ""redstack build-image"" at the version necessary for inclusion of virt-customize [3]_ in libguestfs-tools (see `Dependencies`_). The artifacts will essentially be a BASH script main driver which potentially loads distro-specific argument parsing, settings, and functions. The driver script will ultimately invoke virt-customize with arguments to: - install database packages - install Trove guestagent code from one of several sources: Github tip of master or stable release, distribution packages if applicable, community packages such as RDO, or local file system. - apply any required database configuration path changes - systemd or init.d service enablement - set SELinux labels - perform RHEL subscription registration and attachment - optionally install SSH keys for debugging development and test images Another configurable option should be whether the script gets a base cloud image from the Internet, uses a cached version (like redstack), or is simply pointed at an existing image on the local filesystem. Other artifacts in the repository will include: - external repository files for loading packages - systemd scripts or other init files - cloud-init datasource specification This change proposes to initially start with support for MySQL 5.6 community packages as well as MariaDB 5.5 and 10. Other datastores (MongoDB, PostgreSQL, Cassandra, etc.) will be added over time by community contributions. Configuration ------------- None, this tool doesn't make use of the configuration options used by the Trove controller. Database -------- None, images created from this tool will be loaded into Glance and registered in the Trove datastore the same as today. Public API ---------- None, image generation is not part of the Trove API. Public API Security ------------------- None, see above Python API ---------- None, image generation is not part of the Python API. CLI (python-troveclient) ------------------------ None Internal API ------------ None Guest Agent ----------- None Alternatives ------------ - Rely on the limited image options provided by the trove-integration project via the redstack tool. However, these images are specifically generated for development testing and not appropriate for other environments. - Manually follow the DIB-based procedure described in the existing ""Building Guest Images"" document [4]_. - Use downstream providers which likely incurs a business relationship for access and use of their proprietary tested images. Dashboard Impact (UX) ===================== None Implementation ============== Assignee(s) ----------- ============================= ============== ======== =================== Name Launchpad Id IRC Email ----------------------------- -------------- -------- ------------------- Victoria Martinez de la Cruz vkmc vkmc vimartin@redhat.com Peter MacKinnon pmackinn pmackinn pmackinn@redhat.com ============================= ============== ======== =================== Milestones ---------- Newton-1 Work Items ---------- - Have PTL create new project repository for image creation tool and supporting data files. - Add project to OpenStack gerrit and LaunchPad sites. - Develop and install artifacts into repository. - Update existing docs to guide users to new image creation tool. Upgrade Implications ==================== None Dependencies ============ For this tool to execute, the image generation platform must have a version of libguestfs-tools at 1.26.9 or higher. Thus, the minimum required platforms will be: - RHEL 7.1 - Centos 7.1 - Fedora 21 - Ubuntu 15.04 (Vivid Vervet) - openSUSE 13.2 - Debian 8 (Jessie) Testing ======= Autonomous testing of the image builder likely involves inventory of installed packages, file paths, etc. This could be done using other libguestfs tools such as guestfish, virt-ls, and virt-cat. For integration testing, we could investigate configurable changes in redstack where instead of generating an image, redstack loads a virt-customized (really, an arbitrary) image to Glance. Documentation Impact ==================== References to the new project should be added to the existing ""Building Guest Images"" document [4]_. References ========== .. [0] https://github.com/openstack/diskimage-builder .. [1] http://libguestfs.org/ .. [2] http://libguestfs.org/guestfs-security.1.html#general-issues .. [3] http://libguestfs.org/virt-customize.1.html .. [4] https://github.com/openstack/trove/blob/master/doc/source/dev/building_guest_images.rst Appendix ======== None ",,201,0
openstack%2Ftrove~master~I5928198f63abaff720d97b03a6283a00bf662975,openstack/trove,master,I5928198f63abaff720d97b03a6283a00bf662975,Fixes the detection of user with extra access,ABANDONED,2015-07-08 16:10:30.000000000,2016-08-12 12:29:12.000000000,,"[{'_account_id': 3}, {'_account_id': 4240}, {'_account_id': 7806}, {'_account_id': 8932}, {'_account_id': 9664}]","[{'number': 1, 'created': '2015-07-08 16:10:30.000000000', 'files': ['trove/guestagent/common/sql_query.py', 'trove/tests/unittests/guestagent/test_dbaas.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/dd60981e6c18cb976185a96905672e5cec289edd', 'message': 'Fixes the detection of user with extra access\n\nSince trove grants only usage access to users via API,\nso any non-localhost user which has any other access\nmust have been created manually.\n\nSo, updated the ROOT_ENABLED query to\nfind the users with more than USAGE access.\n\nChange-Id: I5928198f63abaff720d97b03a6283a00bf662975\nCloses-Bug: #1472655\n'}]",2,199635,dd60981e6c18cb976185a96905672e5cec289edd,15,5,1,7806,,,0,"Fixes the detection of user with extra access

Since trove grants only usage access to users via API,
so any non-localhost user which has any other access
must have been created manually.

So, updated the ROOT_ENABLED query to
find the users with more than USAGE access.

Change-Id: I5928198f63abaff720d97b03a6283a00bf662975
Closes-Bug: #1472655
",git fetch https://review.opendev.org/openstack/trove refs/changes/35/199635/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/common/sql_query.py', 'trove/tests/unittests/guestagent/test_dbaas.py']",2,dd60981e6c18cb976185a96905672e5cec289edd,bug/1472655," expected = (""SELECT DISTINCT Grantee as root_access "" ""from information_schema.USER_PRIVILEGES "" ""where PRIVILEGE_TYPE != 'USAGE' and "" """"""grantee not like ""%@'localhost'""; """""")"," expected = (""SELECT User FROM mysql.user WHERE "" ""User = 'root' AND Host != 'localhost';"")",8,4
openstack%2Ftrove~master~I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a,openstack/trove,master,I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a,Implement Couchdb Configuration Groups Implements : blueprint couchdb-configuration-groups Change-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a,ABANDONED,2016-01-24 17:30:36.000000000,2016-08-12 12:29:01.000000000,,"[{'_account_id': 3}, {'_account_id': 4240}, {'_account_id': 6413}, {'_account_id': 8932}, {'_account_id': 9664}, {'_account_id': 10295}, {'_account_id': 14576}, {'_account_id': 15125}]","[{'number': 1, 'created': '2016-01-24 17:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e0870493ad1d47287feab8833a57369831b4d1bb', 'message': 'Implement Couchdb Configuration Groups\n\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 2, 'created': '2016-01-26 19:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d920500f05fac31cee41b0e50df5f5240a721a88', 'message': 'Implement Couchdb Configuration Groups\n\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 3, 'created': '2016-02-17 13:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/473d57a09111813b0e9483797a010773a1172712', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 4, 'created': '2016-02-17 16:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9dbe6b2f860597db815e3a37c6ae9b68f34f58d2', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 5, 'created': '2016-02-19 12:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b0651a436824dd382bd4d67a307fdedfffdef035', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 6, 'created': '2016-02-19 13:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c73660efff5cd05def502ddb6c934f71537bd338', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 7, 'created': '2016-02-22 12:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/586022722412b9093c32027e1d747a7270eb1d31', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 8, 'created': '2016-02-22 12:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/070c9ad8e410bf936595c7c1bd8c35124421851f', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 9, 'created': '2016-02-23 13:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/73c939ce81f0281c0003e2abeff7b93d27eafb0c', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 10, 'created': '2016-02-24 05:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c7a843a3f04f30e6a710a91543a52f4b8d8882dc', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 11, 'created': '2016-02-24 12:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/dba0a3bcf36cb88f00e336050a90b5f167ead72a', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 12, 'created': '2016-02-24 13:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ae65293fb450034f7748af7d175b45a4a1f71f96', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 13, 'created': '2016-02-29 16:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a47d45c472340fe659bc8119d9d5ca7ed38b5a1d', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 14, 'created': '2016-03-01 12:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e7f7eee2bf6567f14bc1081112a867d581639e14', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 15, 'created': '2016-03-01 13:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/67b62653bef0a01d93ce791b943b7443a2fe0863', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 16, 'created': '2016-03-02 04:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5e03c08876661b3bffe8f248b7cda1c2d7d94da5', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 17, 'created': '2016-03-02 06:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/1401b90c4960f2f4c29519a794345529375dfb32', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}, {'number': 18, 'created': '2016-03-05 05:46:05.000000000', 'files': ['trove/tests/int_tests.py', 'trove/common/utils.py', 'trove/templates/couchdb/config.template', 'trove/tests/unittests/guestagent/test_guestagent_utils.py', 'trove/guestagent/datastore/experimental/couchdb/manager.py', 'trove/guestagent/datastore/experimental/couchdb/service.py', 'trove/tests/unittests/guestagent/test_dbaas.py', 'trove/guestagent/common/guestagent_utils.py', 'trove/common/configurations.py', 'trove/common/template.py', 'trove/tests/scenario/helpers/couchdb_helper.py', 'trove/tests/unittests/common/test_utils.py', 'trove/tests/unittests/guestagent/test_couchdb_manager.py', 'trove/guestagent/datastore/experimental/couchdb/system.py', 'trove/guestagent/datastore/experimental/mongodb/service.py', 'trove/templates/couchdb/validation-rules.json'], 'web_link': 'https://opendev.org/openstack/trove/commit/b39373151acf1cac5bd98eb13508480d770febaf', 'message': 'Implement Couchdb Configuration Groups\nImplements : blueprint couchdb-configuration-groups\nChange-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a\n'}]",27,271781,b39373151acf1cac5bd98eb13508480d770febaf,71,8,18,15125,,,0,"Implement Couchdb Configuration Groups
Implements : blueprint couchdb-configuration-groups
Change-Id: I61b451e566f4f4bacdb7d6f0b17e1df458f8a94a
",git fetch https://review.opendev.org/openstack/trove refs/changes/81/271781/18 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/experimental/couchdb/manager.py', 'trove/guestagent/datastore/experimental/couchdb/service.py', 'trove/tests/unittests/guestagent/test_dbaas.py', 'trove/common/configurations.py', 'trove/common/template.py', 'trove/tests/unittests/guestagent/test_couchdb_manager.py', 'trove/templates/couchdb/config.template', 'trove/templates/couchdb/validation-rules.json']",8,e0870493ad1d47287feab8833a57369831b4d1bb,bp/couchdb-configuration-groups,"{ ""configuration-parameters"": [ { ""name"": ""compressible_types"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""compression_level"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""delayed_commits"", ""restart_required"": true, ""type"": ""bool"" }, { ""name"": ""max_attachment_chunk_size"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""attachment_stream_buffer_size"", ""restart_required"": true, ""type"": ""int"" }, { ""name"": "" max_dbs_open"", ""restart_required"": true, ""type"": ""int"" }, { ""name"": ""max_document_size"", ""restart_required"": true, ""type"": ""integer"" }, { ""name"": ""os_process_timeout"", ""restart_required"": true, ""type"": ""integer"" }, { ""name"": ""auth_cache"", ""restart_required"": true, ""min"": 0, ""type"": ""integer"" }, { ""name"": ""db_update_notifier"", ""restart_required"": true, ""min"": 0, ""type"": ""integer"" }, { ""name"": ""external_manager"", ""restart_required"": true, ""min"": 0, ""type"": ""integer"" }, { ""name"": ""httpd"", ""restart_required"": true, ""type"": ""integer"" }, { ""name"": ""httpsd"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""query_servers"", ""restart_required"": true, ""min"": 0, ""type"": ""integer"" }, { ""name"": ""stats_aggregator"", ""restart_required"": true, ""min"": 0, ""type"": ""integer"" }, { ""name"": ""stats_collector"", ""restart_required"": true, ""type"": ""boolean"" }, { ""name"": ""uuids"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""view_manager"", ""restart_required"": true, ""min"": 0, ""type"": ""integer"" }, { ""name"": ""allow_jsonp"", ""restart_required"": true, ""type"": ""boolean"" }, { ""name"": ""authentication_handlers"", ""restart_required"": true, ""type"": ""list"" }, { ""name"": ""changes_timeout"", ""restart_required"": true, ""type"": ""int"" }, { ""name"": ""config_whitelist"", ""restart_required"": true, ""type"": ""list"" }, { ""name"": ""default_handler"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""enable_cors"", ""restart_required"": true, ""type"": ""boolean"" }, { ""name"": ""log_max_chunk_size"", ""restart_required"": true, ""type"": ""integer"" }, { ""name"": ""redirect_vhost_handler"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""secure_rewrites"", ""restart_required"": true, ""type"": ""boolean"" }, { ""name"": ""server_options"", ""restart_required"": true, ""type"": ""list"" }, { ""name"": ""socket_options"", ""restart_required"": true, ""type"": ""list"" }, { ""name"": ""vhost_global_handlers"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""x_forwarded_host"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""x_forwarded_proto"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""x_forwarded_ssl"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""checkpoint_interval"", ""restart_required"": true, ""type"": ""integer"" }, { ""name"": ""connection_timeout"", ""restart_required"": true, ""type"": ""int"" }, { ""name"": ""db"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""http_connections"", ""restart_required"": true, ""type"": ""int"" }, { ""name"": ""max_replication_retry_count"", ""restart_required"": true, ""type"": ""integer"" }, { ""name"": ""retries_per_request"", ""restart_required"": true, ""type"": ""int"" }, { ""name"": ""ssl_certificate_max_depth"", ""restart_required"": true, ""type"": ""int"" }, { ""name"": ""ssl_trusted_certificates_file"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""use_checkpoints"", ""restart_required"": true, ""type"": ""boolean"" }, { ""name"": ""verify_ssl_certificates"", ""restart_required"": true, ""type"": ""boolean"" }, { ""name"": ""worker_batch_size"", ""restart_required"": true, ""type"": ""integer"" }, { ""name"": ""worker_processes"", ""restart_required"": true, ""type"": ""integer"" }, { ""name"": ""commit_freq"", ""restart_required"": true, ""min"": 0, ""type"": ""integer"" }, { ""name"": ""os_process_limit"", ""restart_required"": true, ""min"": 0, ""type"": ""integer"" }, { ""name"": ""reduce_limit"", ""restart_required"": true, ""min"": 0, ""type"": ""integer"" }, { ""name"": ""max_retries"", ""restart_required"": true, ""min"": 0, ""type"": ""integer"" }, { ""name"": ""retry_time"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""allow_persistent_cookies"", ""restart_required"": true, ""type"": ""boolean"" }, { ""name"": ""auth_cache_size"", ""restart_required"": true, ""type"": ""integer"" }, { ""name"": ""authentication_db"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""authentication_redirect"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""iterations"", ""restart_required"": true, ""type"": ""integer"" }, { ""name"": ""max_iterations"", ""restart_required"": true, ""type"": ""integer"" }, { ""name"": ""min_iterations"", ""restart_required"": true, ""type"": ""integer"" }, { ""name"": ""proxy_use_secret"", ""restart_required"": true, ""type"": ""boolean"" }, { ""name"": ""public_fields"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""require_valid_user"", ""restart_required"": true, ""type"": ""boolean"" }, { ""name"": ""secret"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""timeout"", ""restart_required"": true, ""type"": ""integer"" }, { ""name"": ""users_db_public"", ""restart_required"": true, ""type"": ""boolean"" }, { ""name"": ""x_auth_roles"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""x_auth_token"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""x_auth_username"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""check_interval"", ""restart_required"": true, ""type"": ""int"" }, { ""name"": ""min_file_size"", ""restart_required"": true, ""type"": ""int"" } { ""name"": ""use_users_db"", ""restart_required"": true, ""type"": ""boolean"" }, { ""name"": ""doc_buffer_size"", ""restart_required"": true, ""type"": ""integer"" }, { ""name"": ""checkpoint_after"", ""restart_required"": true, ""type"": ""integer"" }, { ""name"": ""include_sasl"", ""restart_required"": true, ""type"": ""boolean"" }, { ""name"": ""level"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""vhosts"", ""restart_required"": true, ""type"": ""string"" }, { ""name"": ""keyvalue_buffer_size"", ""restart_required"": true, ""type"": ""int"" } ] } ",,530,35
openstack%2Ftrove~master~Ie3684d85c9822037eeaf9b787c75063bcc921650,openstack/trove,master,Ie3684d85c9822037eeaf9b787c75063bcc921650,Fixes the cluster issues,ABANDONED,2015-10-19 20:04:15.000000000,2016-08-12 12:28:50.000000000,,"[{'_account_id': 3}, {'_account_id': 4240}, {'_account_id': 8932}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 15321}]","[{'number': 1, 'created': '2015-10-19 20:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/537555515bca81696a027c2c6b648a6cd584224d', 'message': ""Fixes the cluster issues\n\nProblems:\n - if cluster cannot come active within the cluster_usage_timeout the cluster was left in building state while the instances were getting in error state.\n - the instances which were updated to have a task status of ERROR had their service status still as NEW.\n - the status checking method was only checking for the service status and kept running even after the instances were sent to ERROR task status.\n\nUpdates:\n  - updated the cluster method to use reset_task in finally block\n  - updated update_statuses_on_failure to update service status, too.\n  - updated _all_instances_ready to look for instance status too, instead of just the instance's service status\n  - Updated the unit-tests to accommodate the changes.\n\n  Closes-Bug: #1507051\n  Closes-Bug: #1507053\n\nChange-Id: Ie3684d85c9822037eeaf9b787c75063bcc921650\n""}, {'number': 2, 'created': '2015-10-19 20:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/72d07242a17a848ea552fd9f295fd776d2ea082e', 'message': ""Fixes the cluster issues\n\nProblems:\n - if cluster cannot come active within the cluster_usage_timeout\n   the cluster was left in building state while the instances\n   were getting in error state.\n - the instances which were updated to have a task status of ERROR\n   had their service status still as NEW.\n - the status checking method was only checking for the service status\n   and kept running even after the instances were sent to ERROR task status.\n\nUpdates:\n - updated the cluster method to use reset_task in finally block\n - updated update_statuses_on_failure to update service status, too.\n - updated _all_instances_ready to look for instance status too,\n   instead of just the instance's service status\n - Updated the unit-tests to accommodate the changes.\n\nCloses-Bug: #1507051\nCloses-Bug: #1507053\n\nChange-Id: Ie3684d85c9822037eeaf9b787c75063bcc921650\n""}, {'number': 3, 'created': '2016-03-23 20:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d9961704c8ec6bcdbd24906856746228840616e7', 'message': ""Fixes the cluster issues\n\nProblems:\n - if cluster cannot come active within the cluster_usage_timeout\n   the cluster was left in building state while the instances\n   were getting in error state.\n - the instances which were updated to have a task status of ERROR\n   had their service status still as NEW.\n - the status checking method was only checking for the service status\n   and kept running even after the instances were sent to ERROR task status.\n\nUpdates:\n - updated the cluster method to use reset_task in finally block\n - updated update_statuses_on_failure to update service status, too.\n - updated _all_instances_ready to look for instance status too,\n   instead of just the instance's service status\n - Updated the unit-tests to accommodate the changes.\n\nAuthor: Sushil Kumar <skm.net@gmail.com>\nCo-Authored-By: Craig Vyvial <cp16net@gmail.com>\n\nCloses-Bug: #1507051\nCloses-Bug: #1507053\n\nChange-Id: Ie3684d85c9822037eeaf9b787c75063bcc921650\n""}, {'number': 4, 'created': '2016-03-25 02:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/25d2666b0e48e2a5b49cb02bb000024bb97ffe0e', 'message': ""Fixes the cluster issues\n\nProblems:\n - if cluster cannot come active within the cluster_usage_timeout\n   the cluster was left in building state while the instances\n   were getting in error state.\n - the instances which were updated to have a task status of ERROR\n   had their service status still as NEW.\n - the status checking method was only checking for the service status\n   and kept running even after the instances were sent to ERROR task status.\n\nUpdates:\n - updated the cluster method to use reset_task in finally block\n - updated update_statuses_on_failure to update service status, too.\n - updated _all_instances_ready to look for instance status too,\n   instead of just the instance's service status\n - Updated the unit-tests to accommodate the changes.\n\nAuthor: Sushil Kumar <skm.net@gmail.com>\nCo-Authored-By: Craig Vyvial <cp16net@gmail.com>\n\nCloses-Bug: #1507051\nCloses-Bug: #1507053\n\nChange-Id: Ie3684d85c9822037eeaf9b787c75063bcc921650\n""}, {'number': 5, 'created': '2016-04-05 15:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/44b8be8784f23a3aac09feb282864420b3b6c911', 'message': ""Fixes the cluster issues\n\nProblems:\n - if cluster cannot come active within the cluster_usage_timeout\n   the cluster was left in building state while the instances\n   were getting in error state.\n - the instances which were updated to have a task status of ERROR\n   had their service status still as NEW.\n - the status checking method was only checking for the service status\n   and kept running even after the instances were sent to ERROR task status.\n\nUpdates:\n - updated the cluster method to use reset_task in finally block\n - updated update_statuses_on_failure to update service status, too.\n - updated _all_instances_ready to look for instance status too,\n   instead of just the instance's service status\n - Updated the unit-tests to accommodate the changes.\n\nAuthor: Sushil Kumar <skm.net@gmail.com>\nCo-Authored-By: Craig Vyvial <cp16net@gmail.com>\n\nCloses-Bug: #1507051\nCloses-Bug: #1507053\n\nChange-Id: Ie3684d85c9822037eeaf9b787c75063bcc921650\n""}, {'number': 6, 'created': '2016-04-16 14:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/85f45a23733fb396b321c29d4b7eaf2c10865adf', 'message': ""Fixes the cluster issues\n\nProblems:\n - if cluster cannot come active within the cluster_usage_timeout\n   the cluster was left in building state while the instances\n   were getting in error state.\n - the instances which were updated to have a task status of ERROR\n   had their service status still as NEW.\n - the status checking method was only checking for the service status\n   and kept running even after the instances were sent to ERROR task status.\n\nUpdates:\n - updated the cluster method to use reset_task in finally block\n - updated update_statuses_on_failure to update service status, too.\n - updated _all_instances_ready to look for instance status too,\n   instead of just the instance's service status\n - Updated the unit-tests to accommodate the changes.\n\nAuthor: Sushil Kumar <skm.net@gmail.com>\nCo-Authored-By: Craig Vyvial <cp16net@gmail.com>\n\nCloses-Bug: #1507051\nCloses-Bug: #1507053\n\nChange-Id: Ie3684d85c9822037eeaf9b787c75063bcc921650\n""}, {'number': 7, 'created': '2016-05-15 02:26:24.000000000', 'files': ['trove/tests/unittests/taskmanager/test_clusters.py', 'trove/tests/unittests/taskmanager/test_vertica_clusters.py', 'trove/common/strategies/cluster/experimental/redis/taskmanager.py', 'trove/common/strategies/cluster/experimental/cassandra/taskmanager.py', 'releasenotes/notes/fix-cluster-issues-2651eaf31a85b11f.yaml', 'trove/common/strategies/cluster/experimental/vertica/taskmanager.py', 'trove/common/strategies/cluster/experimental/mongodb/taskmanager.py', 'trove/tests/unittests/taskmanager/test_galera_clusters.py', 'trove/common/strategies/cluster/experimental/galera_common/taskmanager.py', 'trove/taskmanager/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/794c1654c714f2c437ff6bd144e6ccc2c0c1a20f', 'message': ""Fixes the cluster issues\n\nProblems:\n - if cluster cannot come active within the cluster_usage_timeout\n   the cluster was left in building state while the instances\n   were getting in error state.\n - the instances which were updated to have a task status of ERROR\n   had their service status still as NEW.\n - the status checking method was only checking for the service status\n   and kept running even after the instances were sent to ERROR task status.\n\nUpdates:\n - updated the cluster method to use reset_task in finally block\n - updated update_statuses_on_failure to update service status, too.\n - updated _all_instances_ready to look for instance status too,\n   instead of just the instance's service status\n - Updated the unit-tests to accommodate the changes.\n\nAuthor: Sushil Kumar <skm.net@gmail.com>\nCo-Authored-By: Craig Vyvial <cp16net@gmail.com>\n\nCloses-Bug: #1507051\nCloses-Bug: #1507053\n\nChange-Id: Ie3684d85c9822037eeaf9b787c75063bcc921650\n""}]",2,237184,794c1654c714f2c437ff6bd144e6ccc2c0c1a20f,26,6,7,7806,,,0,"Fixes the cluster issues

Problems:
 - if cluster cannot come active within the cluster_usage_timeout
   the cluster was left in building state while the instances
   were getting in error state.
 - the instances which were updated to have a task status of ERROR
   had their service status still as NEW.
 - the status checking method was only checking for the service status
   and kept running even after the instances were sent to ERROR task status.

Updates:
 - updated the cluster method to use reset_task in finally block
 - updated update_statuses_on_failure to update service status, too.
 - updated _all_instances_ready to look for instance status too,
   instead of just the instance's service status
 - Updated the unit-tests to accommodate the changes.

Author: Sushil Kumar <skm.net@gmail.com>
Co-Authored-By: Craig Vyvial <cp16net@gmail.com>

Closes-Bug: #1507051
Closes-Bug: #1507053

Change-Id: Ie3684d85c9822037eeaf9b787c75063bcc921650
",git fetch https://review.opendev.org/openstack/trove refs/changes/84/237184/7 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/unittests/taskmanager/test_clusters.py', 'trove/tests/unittests/taskmanager/test_vertica_clusters.py', 'trove/common/strategies/cluster/experimental/redis/taskmanager.py', 'trove/common/strategies/cluster/experimental/vertica/taskmanager.py', 'trove/common/strategies/cluster/experimental/mongodb/taskmanager.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/taskmanager/test_pxc_clusters.py', 'trove/common/strategies/cluster/experimental/pxc/taskmanager.py']",8,537555515bca81696a027c2c6b648a6cd584224d,bug/1507051, self.reset_task(), self.reset_task(),33,15
openstack%2Ftripleo-common~stable%2Fmitaka~I16b87d34070221d2f37df9ddf99922c44a9f0364,openstack/tripleo-common,stable/mitaka,I16b87d34070221d2f37df9ddf99922c44a9f0364,Minor update to the upgrade-non-controller.sh,ABANDONED,2016-08-12 11:56:41.000000000,2016-08-12 12:28:34.000000000,,"[{'_account_id': 3}, {'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 9712}]","[{'number': 1, 'created': '2016-08-12 11:56:41.000000000', 'files': ['scripts/upgrade-non-controller.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2b6d047535c118734dfcc12ecfcf9775c2a0df82', 'message': 'Minor update to the upgrade-non-controller.sh\n\nMinor fixup for the --query function which was intended to provide\nsome insight into whether the node was upgraded or not. Since there\nis no easy way to tell, just check if the upgrade script is on the\nnode yet and check what packages if any were recently updated. This\nshould at least set expectations wrt what --query can do. Also adds\nshort opts on request -u -s -q\n\nPart of updating the upgrades workflow for M..N\n\nImplements: overcloud-upgrades-workflow-mitaka-to-newton\nChange-Id: I16b87d34070221d2f37df9ddf99922c44a9f0364\n(cherry picked from commit 58b8482c3617665db9832f85ec41fc18dfa09be4)\n'}]",0,354680,2b6d047535c118734dfcc12ecfcf9775c2a0df82,3,4,1,8449,,,0,"Minor update to the upgrade-non-controller.sh

Minor fixup for the --query function which was intended to provide
some insight into whether the node was upgraded or not. Since there
is no easy way to tell, just check if the upgrade script is on the
node yet and check what packages if any were recently updated. This
should at least set expectations wrt what --query can do. Also adds
short opts on request -u -s -q

Part of updating the upgrades workflow for M..N

Implements: overcloud-upgrades-workflow-mitaka-to-newton
Change-Id: I16b87d34070221d2f37df9ddf99922c44a9f0364
(cherry picked from commit 58b8482c3617665db9832f85ec41fc18dfa09be4)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/80/354680/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upgrade-non-controller.sh'],1,2b6d047535c118734dfcc12ecfcf9775c2a0df82,improve_upgrade_script," echo "" -h|--help -- print this help."" echo "" -u|--upgrade <nova node> -- nova node name or id to upgrade"" echo "" -s|--script <absolute_path> -- absolute path to the script you wish"" echo "" to use for the upgrade"" echo "" -q|--query <nova node> -- determine if the node is ACTIVE and"" echo "" has the upgrade script. Also, tail"" echo "" yum.log for any package update info""TEMP=`getopt -o h,u:,q:,s: -l help,upgrade:,query:,script: -n $SCRIPT_NAME -- ""$@""` -h | --help ) show_options 0 >&2;; -u | --upgrade ) UPGRADE_NODE=""$2"" ; shift 2 ;; -s | --script ) SCRIPT=""$2""; shift 2 ;; -q | --query ) QUERY_NODE=""$2"" ; shift 2 ;; -- ) shift ; break ;; * ) echo ""Error: unsupported option $1."" ; exit 1 ;; # check node exists, check for upgrade script confirm_script_on_node $QUERY_NODE log ""We can't remotely tell if the upgrade has run on $QUERY_NODE."" log ""We can check for package updates... trying to tail yum.log on $QUERY_NODE:"" ssh $UPGRADE_NODE_USER@$node_ip ""sudo tail /var/log/yum.log"""," echo "" -h, --help -- print this help."" echo "" --upgrade <nova node> -- nova node name or id to upgrade"" echo "" --script <absolute_path> -- absolute path to the script you wish"" echo "" to use for the upgrade"" echo "" --query <nova node> -- determine upgrade status on node""TEMP=`getopt -o h -l help,upgrade:,query:,script: -n $SCRIPT_NAME -- ""$@""` --help) show_options 0 >&2;; --upgrade) UPGRADE_NODE=""$2"" ; shift 2 ;; --script) SCRIPT=""$2""; shift 2 ;; --query) QUERY_NODE=""$2"" ; shift 2 ;; --) shift ; break ;; *) echo ""Error: unsupported option $1."" ; exit 1 ;; # query for status, can remove this for simplicity ssh $UPGRADE_NODE_USER@$node_ip ""sudo journalctl -n 1000 | grep tripleo-upgrade""",20,14
openstack%2Ftrove-specs~master~I3222854f94490170cda7f903a5083eb28cd5e4dd,openstack/trove-specs,master,I3222854f94490170cda7f903a5083eb28cd5e4dd,RPC API Versioning,ABANDONED,2016-05-11 14:25:31.000000000,2016-08-12 12:28:32.000000000,,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6413}, {'_account_id': 8932}, {'_account_id': 9237}, {'_account_id': 9500}, {'_account_id': 9664}, {'_account_id': 9782}, {'_account_id': 10295}, {'_account_id': 13953}]","[{'number': 1, 'created': '2016-05-11 14:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/5304e3a584b67e49fb5225112255622b52e5e4bd', 'message': 'RPC API Versioning\n\nProposal for enabling RPC API Versioning on Trove\n\nChange-Id: I3222854f94490170cda7f903a5083eb28cd5e4dd\nPartially-Implements: blueprint rpc-api-versioning\n'}, {'number': 2, 'created': '2016-05-12 21:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/b3ddc4e69644b688b163ea77efeae32b11eacf71', 'message': 'RPC API Versioning\n\nProposal for enabling RPC API Versioning on Trove\n\nChange-Id: I3222854f94490170cda7f903a5083eb28cd5e4dd\nPartially-Implements: blueprint rpc-api-versioning\n'}, {'number': 3, 'created': '2016-05-23 21:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/c9fc151dca34f1e3fe0daa4a2d333ec78ab40271', 'message': 'RPC API Versioning\n\nProposal for enabling RPC API Versioning on Trove\n\nChange-Id: I3222854f94490170cda7f903a5083eb28cd5e4dd\nPartially-Implements: blueprint rpc-api-versioning\n'}, {'number': 4, 'created': '2016-05-24 15:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/c5b1325aaf0f88deb0b31236420ec9f8bbd0beea', 'message': 'RPC API Versioning\n\nProposal for enabling RPC API Versioning on Trove\n\nChange-Id: I3222854f94490170cda7f903a5083eb28cd5e4dd\nPartially-Implements: blueprint rpc-api-versioning\n'}, {'number': 5, 'created': '2016-05-26 21:21:08.000000000', 'files': ['specs/newton/rpc-api-versioning.rst'], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/c40b79797ce0a1442f66a0f64972c0f3d0b3c503', 'message': 'RPC API Versioning\n\nProposal for enabling RPC API Versioning on Trove\n\nChange-Id: I3222854f94490170cda7f903a5083eb28cd5e4dd\nPartially-Implements: blueprint rpc-api-versioning\n'}]",117,315079,c40b79797ce0a1442f66a0f64972c0f3d0b3c503,59,10,5,6413,,,0,"RPC API Versioning

Proposal for enabling RPC API Versioning on Trove

Change-Id: I3222854f94490170cda7f903a5083eb28cd5e4dd
Partially-Implements: blueprint rpc-api-versioning
",git fetch https://review.opendev.org/openstack/trove-specs refs/changes/79/315079/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/newton/rpc-api-versioning.rst']",2,5304e3a584b67e49fb5225112255622b52e5e4bd,bp/rpc-api-versioning,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode Sections of this template were taken directly from the Nova spec template at: https://github.com/openstack/nova-specs/blob/master/specs/juno-template.rst .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/trove/+spec/awesome-thing should be named awesome-thing.rst. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None Note: This comment may be removed if desired, however the license notice above should remain. ========================= Trove RPC APIs Versioning ========================= .. If section numbers are desired, unindent this .. sectnum:: .. If a TOC is desired, unindent this .. contents:: At the time of writing, Trove's internal RPC API uses a unified versioned model for every internal component. If we consider a distributed deployment in which you normally have several instances for each of the Trove components running in different nodes, an operator should be able to gradually upgrade those instances without requiring to stop all services and while having the guarantee that the communication between components will continue. All communication, both in the simplest and more complex scenario, happens over RPC. That means, we need to make sure that if something changes in the API for the different versions the nodes are able to handle those cases decently. In order to make updating Trove a simpler and safer process, it's advisable that we enforce a proper RPC APIs versioning. This feature proposal aims to cover this. Launchpad Blueprint: https://blueprints.launchpad.net/trove/+spec/rpc-api-versioning Problem Description =================== Upgrades are a neccesary and unavoidable step in every deployment lifecycle. Trove is composed by four components: trove-api, trove-taskmanager, trove-conductor and trove-guestagent. So when planning an upgrade, we should be able to: - Upgrade the different components progressively - Avoid downtime when upgrading components - Guarantee interoperability for the different versions for the different components This is even more important in multi-node environments in which you may have several instances for each of the Trove components running concurrently. Having a proper versioning and handling compatibility in the RPC APIs is a base requirement to support environments with different versions. Proposed Change =============== Configuration ------------- A configuration option pinned_version will be added for all the Trove components. This option will expect operators to specify the version they want to pin to during an upgrade. In case of not defining this option, the version specified in the code will be used. Database -------- None Public API ---------- We need to modify the way the version_cap is being calculated in the apy.py files for each of the components, allowing operators to pin to a determined version and hence define which operations can be performed (in case of non-backwards compatible changes in the future). For this, we are going to add a pinned_version configuration option and define aliases for the different versions -as we have in https://github.com/openstack/trove/blob/master/trove/common/rpc/version.py-. That way, the version cap will be the base version (the one we defined in the code) or the version that the operator specifies in the configuration option. Public API Security ------------------- None Python API ---------- None CLI (python-troveclient) ------------------------ None Internal API ------------ Define proper version in manager.py for each of the components. At the moment of writing we are taking the version from a common module [0]_, after this change we will handle versioning independently. We will start from 1.0 and update that value for every change of the corresponding API. Non-breaking (minor upgrades) and breaking (major upgrades) are being considered. We can use the upgrades criteria that is being used for Nova RPC APIs [1]_. Every change on the APIs should be reflected by doing a version bump and every API upgrade is independent between each of the components. Guest Agent ----------- None Alternatives ------------ Don't have versioning in Trove. Dashboard Impact (UX) ===================== None Implementation ============== Assignee(s) ----------- Primary assignee: vkmc Milestones ---------- Target Milestone for completion: Newton-1 Work Items ---------- Upgrade Implications ==================== None Dependencies ============ None Testing ======= Documentation Impact ==================== References ========== _[0] https://github.com/openstack/trove/blob/master/trove/common/rpc/version.py _[1] https://wiki.openstack.org/wiki/BootstrappingHour/Nova_RPC_Layer Appendix ======== ",,199,0
openstack%2Ftrove~master~I1aa81f6ce9e121c2a145d3ea0ac5f43939e27e41,openstack/trove,master,I1aa81f6ce9e121c2a145d3ea0ac5f43939e27e41,Remove unused LOG to keep code clean,ABANDONED,2016-07-09 06:47:36.000000000,2016-08-12 12:28:26.000000000,,"[{'_account_id': 3}, {'_account_id': 10215}, {'_account_id': 14576}]","[{'number': 1, 'created': '2016-07-09 06:47:36.000000000', 'files': ['trove/guestagent/datastore/experimental/postgresql/manager.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/061bb8e51abf33f469b7087cb4fc51a40c8c9f5c', 'message': 'Remove unused LOG to keep code clean\n\nTrivialFix\n\nChange-Id: I1aa81f6ce9e121c2a145d3ea0ac5f43939e27e41\n'}]",0,339969,061bb8e51abf33f469b7087cb4fc51a40c8c9f5c,6,3,1,20006,,,0,"Remove unused LOG to keep code clean

TrivialFix

Change-Id: I1aa81f6ce9e121c2a145d3ea0ac5f43939e27e41
",git fetch https://review.opendev.org/openstack/trove refs/changes/69/339969/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/guestagent/datastore/experimental/postgresql/manager.py'],1,061bb8e51abf33f469b7087cb4fc51a40c8c9f5c,remove_unused_LOG,,from oslo_log import log as logging LOG = logging.getLogger(__name__),0,3
openstack%2Ftrove-specs~master~Id1a74c0e2f2f4a750db6bca6ed186c46895b7a10,openstack/trove-specs,master,Id1a74c0e2f2f4a750db6bca6ed186c46895b7a10,Extend Trove to allow for other compute backends,ABANDONED,2016-04-19 15:36:09.000000000,2016-08-12 12:28:04.000000000,,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 9003}, {'_account_id': 9237}, {'_account_id': 9664}, {'_account_id': 10849}]","[{'number': 1, 'created': '2016-04-19 15:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/4226e760d711f323fd830b3bf356be852c71abba', 'message': ""Extend Trove to allow for other compute backends\n\nThis specs addresses the improvement on the compute layer in Trove.\nTrove currently sits on top of Nova and it doesn't allow for other\ncompute technologies to be used.\n\nThis specification addresses code structure changes, the specific case\nof containers it addresses and a high level information about the\ntechnologies that will be used to allow for that.\n\nPushing this up now to hopefuly gather some early feedback before the\nsummit. Some details are certainly missing.\n\nChange-Id: Id1a74c0e2f2f4a750db6bca6ed186c46895b7a10\nblueprint: compute-layer-abstraction\n""}, {'number': 2, 'created': '2016-04-20 14:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/93bf379260d98919fb5df33a9d9c94742f690e56', 'message': ""Extend Trove to allow for other compute backends\n\nThis specs addresses the improvement on the compute layer in Trove.\nTrove currently sits on top of Nova and it doesn't allow for other\ncompute technologies to be used.\n\nThis specification addresses code structure changes, the specific case\nof containers it addresses and a high level information about the\ntechnologies that will be used to allow for that.\n\nPushing this up now to hopefuly gather some early feedback before the\nsummit. Some details are certainly missing, i.e:\n\n- Network management\n- Volumes management\n\nChange-Id: Id1a74c0e2f2f4a750db6bca6ed186c46895b7a10\nblueprint: compute-layer-abstraction\n""}, {'number': 3, 'created': '2016-04-22 10:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/6827ec329a1ef04a2d4322171675a69519eaa37f', 'message': ""Extend Trove to allow for other compute backends\n\nThis specs addresses the improvement on the compute layer in Trove.\nTrove currently sits on top of Nova and it doesn't allow for other\ncompute technologies to be used.\n\nThis specification addresses code structure changes, the specific case\nof containers it addresses and a high level information about the\ntechnologies that will be used to allow for that.\n\nPushing this up now to hopefuly gather some early feedback before the\nsummit. Some details are certainly missing, i.e:\n\n- Network management\n- Volumes management\n\nChange-Id: Id1a74c0e2f2f4a750db6bca6ed186c46895b7a10\nblueprint: compute-layer-abstraction\n""}, {'number': 4, 'created': '2016-04-22 10:32:37.000000000', 'files': ['doc/source/index.rst', 'specs/newton/compute-abstraction.rst'], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/6524e11913638cce328ed149e3e3a37a962045d3', 'message': ""Extend Trove to allow for other compute backends\n\nThis specs addresses the improvement on the compute layer in Trove.\nTrove currently sits on top of Nova and it doesn't allow for other\ncompute technologies to be used.\n\nThis specification addresses code structure changes, the specific case\nof containers it addresses and a high level information about the\ntechnologies that will be used to allow for that.\n\nPushing this up now to hopefuly gather some early feedback before the\nsummit. Some details are certainly missing, i.e:\n\n- Network management\n- Volumes management\n\nChange-Id: Id1a74c0e2f2f4a750db6bca6ed186c46895b7a10\nblueprint: compute-layer-abstraction\n""}]",7,307883,6524e11913638cce328ed149e3e3a37a962045d3,20,6,4,6159,,,0,"Extend Trove to allow for other compute backends

This specs addresses the improvement on the compute layer in Trove.
Trove currently sits on top of Nova and it doesn't allow for other
compute technologies to be used.

This specification addresses code structure changes, the specific case
of containers it addresses and a high level information about the
technologies that will be used to allow for that.

Pushing this up now to hopefuly gather some early feedback before the
summit. Some details are certainly missing, i.e:

- Network management
- Volumes management

Change-Id: Id1a74c0e2f2f4a750db6bca6ed186c46895b7a10
blueprint: compute-layer-abstraction
",git fetch https://review.opendev.org/openstack/trove-specs refs/changes/83/307883/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/newton/compute-abstraction.rst']",2,4226e760d711f323fd830b3bf356be852c71abba,bp/compute-layer-abstraction,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode Sections of this template were taken directly from the Nova spec template at: https://github.com/openstack/nova-specs/blob/master/specs/template.rst .. ========================= Compute Layer Abstraction ========================= This spec proposes to abstract the virtual machine creation code so that it'd be possible to deploy database instances on services other than Nova. This spec focuses specifically on containers, although the proposed abstraction would work for other technologies as well. Launchpad Blueprint: https://blueprints.launchpad.net/trove/+spec/compute-layer-abstraction Problem Description =================== Trove is opinionated as far as the service that handles the compute instances goes. Trove uses Nova which is hard-coded in the taskmanager package, the instances package and few other places. Deploying on virtual machines works well enough for some use cases. There are, however, some benefits on architectures that aren't based on virtual machines. Deploying a database on bare metal gives the database process dedicate resources, whereas deploying a database on containers allows for sharing compute resources differently as it's done with a virtual machine. The limitations currently imposed by Trove on this area have been highlighted on some threads and they've also been brought up on other mediums. It's currently possible to deploy database instances on bare metal using [ironic]_ and on containers (docker specifically) using [nova-docker]_ but these two drivers are not enough. Please, find some extra info below about these 2 drivers. * [nova-docker]_: This driver can be used to deploy a database instance on docker. Unfortunately, this is not a good enough solution. The exposed API is limiting, the driver itself is in support mode only and it does not support [docker swarm]_, which is ideal for deploying database clusters. * [nova-ironic]_: This is the most common way to deploy bare metal nodes in OpenStack. It's also possible to use [ironic]_ in standalone mode but it's less common. Taking advantage of different deployment models is a key aspect of scaling services like Nova and providing a better cloud service. Improving database boot time and upgrades would be a nice side-effect of this work in addition to providing support for a more flexible deployment model and making the compute layer modular. Proposed Change =============== Abstract the tasks in the task manager's manager module so that database instances can be launched on technologies other than Nova. The following classes interact with Nova directly in either one more methods: * FreshInstanceTask * BuiltInstanceTask * ResizeVolumeAction * ResizeActionBase * ResizeAction * MigrateAction * ClusterTasks These classes (and most of the task manager's manager code) will be moved under a `nova` package under the same task manager package. New packages will be added for other implementations. This change will leave us with a directory structure like the one shown below: .. code-block:: bash trove/taskmanager/{...} trove/taskmanager/nova/ trove/taskmanager/mesos/ trove/taskmanager/docker/ trove/taskmanager/kubernetes/ Some of the classes mentioned above have base classes already. New implementations of these classes will be create for each new package and they will keep the same naming convention. The example below will be under `trove/taskmanager/{docker,kubernetes,mesos}/manager.py`: .. code-block:: python class FreshInstanceTask(...): # {docker,kubernetes,mesos} specific implementation The proposed packages will support specific technologies (i.e [docker]_, [kubernetes]_, [mesos]_ ) rather than a service with a common API. Magnum is a container orchestration service rather than a container's lifecycle manager. Therefore, [Magnum]_ will be used to create container's bays and then the native driver will be used to talk to the bay. This proposal will focus on adding a [kubernetes]_ driver to begin with. The `trove.instance` package will also need to be refactored so that it can support containers as well. The Nova implementation will remain the same and it'll be the default plugin. Deployers will have to explicitly enable other drivers. These drivers will be mutually exclusive to begin with and they would be enabled through a configuration option. Future enhancements to this work may allow for multiple drivers to be used in parallel. This spec tries to keep the required changes to the minimum, hence the choice of not allowing for multiple drivers to be used at once. To allow for that changes to the API, the database and the API being defined would be required. Configuration ------------- Add a configuration option to select the remote compute back-end. Magnum's endpoint will be obtained through Keystone. Future releases could support multiple back-ends in parallel. This spec focuses on enabling users to use either of the available options. Database -------- No database changes are planned. Public API ---------- No API changes are planned. Public API Security ------------------- There are no envisioned security implications. Python API ---------- Changes to the package structure are planned, as mentioned in the Proposed Changes section. However, changes to the Python API are not planned. CLI (python-troveclient) ------------------------ No changes to troveclient are planned. Internal API ------------ No changes to the internal API are planned. Guest Agent ----------- No changes to the guest agent are planned. Alternatives ------------ * As an alternative to the proposed package structure, this work could add a single package for [Magnum]_ and introduce an abstraction in that package for each container technology. This structure would make it easier to migrate to a common containers library in the future, if there would ever be one. However, using native drivers will always give us more flexibility and control over what can be done. * Isolate all these changes in the `trove.instance` package by creating a common API that wraps the many compute services (nova, docker, kubernetes, mesos, etc). This will require a refactor to the `trove.taskmanager` code to make it agnostic as far as the compute services go. * Do nothing and wait for a service with a common API to be created. This is very unlike to happen any time soon. Given some of the other proposals for the Newton cycle, it could be argued this is the right moment to implement this spec and use future cycles to stabilize the code. Dashboard Impact (UX) ===================== No changes to the dashboard are required. Implementation ============== Assignee(s) ----------- Primary assignee: flaper87 Milestones ---------- Target Milestone for completion: Newton Work Items ---------- * Move nova code under its own package: `trove/taskmanager/nova/` * Create a package for kubernetes: `trove/taskmanager/kubernetes` * Add a configuration option to pick the remote compute backend * Add tests for kubernetes * Write documentation Upgrade Implications ==================== No upgrade implications as the current behavior will be kept. Dependencies ============ n/a Testing ======= Unit tests will be added as appropriate. A functional gate job could be added and triggered just for changes to this package. Documentation Impact ==================== Documentation will be added as appropriate. References ========== .. [nova-docker] https://git.openstack.org/cgit/openstack/nova-docker .. [docker swarm] https://docs.docker.com/swarm/ .. [ironic] https://git.openstack.org/cgit/openstack/ironic .. [nova-ironic] http://git.openstack.org/cgit/openstack/nova/tree/nova/virt/ironic .. [Magnum] https://git.openstack.org/cgit/openstack/nova-docker .. [docker] https://www.docker.com/ .. [kubernetes] http://kubernetes.io/ .. [mesos] https://mesosphere.com/ Appendix ======== n/a ",,267,0
openstack%2Fsalt-formula-kubernetes~master~Idec7ef7f7142164b4615d656dea144770d73df54,openstack/salt-formula-kubernetes,master,Idec7ef7f7142164b4615d656dea144770d73df54,delete unused addon scripts,MERGED,2016-08-12 12:14:13.000000000,2016-08-12 12:24:23.000000000,2016-08-12 12:24:23.000000000,"[{'_account_id': 3}, {'_account_id': 20194}]","[{'number': 1, 'created': '2016-08-12 12:14:13.000000000', 'files': ['kubernetes/files/kube-addons/kube-addons.service', 'kubernetes/files/kube-addons/kube-addons.sh', 'kubernetes/files/kube-addons/kube-addon-update.sh', 'kubernetes/master/kube-addons.sls'], 'web_link': 'https://opendev.org/openstack/salt-formula-kubernetes/commit/489221b2a923fc1705367a2e48c0c42db35c065c', 'message': 'delete unused addon scripts\n\nChange-Id: Idec7ef7f7142164b4615d656dea144770d73df54\n'}]",0,354691,489221b2a923fc1705367a2e48c0c42db35c065c,6,2,1,20426,,,0,"delete unused addon scripts

Change-Id: Idec7ef7f7142164b4615d656dea144770d73df54
",git fetch https://review.opendev.org/openstack/salt-formula-kubernetes refs/changes/91/354691/1 && git format-patch -1 --stdout FETCH_HEAD,"['kubernetes/files/kube-addons/kube-addons.service', 'kubernetes/files/kube-addons/kube-addons.sh', 'kubernetes/files/kube-addons/kube-addon-update.sh', 'kubernetes/master/kube-addons.sls']",4,489221b2a923fc1705367a2e48c0c42db35c065c,,,/etc/kubernetes/kube-addons.sh: file.managed: - source: salt://kubernetes/files/kube-addons/kube-addons.sh - user: root - group: root - mode: 755 /etc/kubernetes/kube-addon-update.sh: file.managed: - source: salt://kubernetes/files/kube-addons/kube-addon-update.sh - user: root - group: root - mode: 755 ,0,756
openstack%2Ffuel-ui~stable%2Fmitaka~I1c7ff4991a549fb635399004a9b8aa220d613c6f,openstack/fuel-ui,stable/mitaka,I1c7ff4991a549fb635399004a9b8aa220d613c6f,Move deployment history task rendering to a separate component,MERGED,2016-08-12 11:34:25.000000000,2016-08-12 12:21:25.000000000,2016-08-12 12:15:41.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 11:34:25.000000000', 'files': ['static/views/cluster_page_tabs/deployment_history_component.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/c27a9c5a484c2cd1b5fb88ce2c4e29891f47e53f', 'message': 'Move deployment history task rendering to a separate component\n\nThis will help with refactoring\n\nImplements blueprint ui-deployment-history\n\nChange-Id: I1c7ff4991a549fb635399004a9b8aa220d613c6f\n'}]",0,354663,c27a9c5a484c2cd1b5fb88ce2c4e29891f47e53f,13,5,1,8766,,,0,"Move deployment history task rendering to a separate component

This will help with refactoring

Implements blueprint ui-deployment-history

Change-Id: I1c7ff4991a549fb635399004a9b8aa220d613c6f
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/63/354663/1 && git format-patch -1 --stdout FETCH_HEAD,['static/views/cluster_page_tabs/deployment_history_component.js'],1,c27a9c5a484c2cd1b5fb88ce2c4e29891f47e53f,bp/ui-deployment-history,"var DeploymentHistoryTask = React.createClass({ getColorFromString(str) { var color = (utils.getStringHashCode(str) & 0x00FFFFFF).toString(16).toUpperCase(); return '#' + ('00000' + color).substr(-6); }, render() { var {task, left, width} = this.props; var taskName = task.get('task_name'); return <Tooltip text={taskName}> <div className='node-task' style={{background: this.getColorFromString(taskName), left, width}} > {task.get('status') === 'error' && <div className='error-marker' style={{left: Math.floor(width / 2)}} /> } </div> </Tooltip>; } }); getTimeIntervalWidth(timeStart, timeEnd) { backgroundPosition: this.getTimeIntervalWidth(timeStart, timeEnd) var taskTimeStart = utils.dateToSeconds(task.get('time_start')); var taskTimeEnd = task.get('time_end') ? utils.dateToSeconds(task.get('time_end')) : timeEnd; var left = this.getTimeIntervalWidth(timeStart, taskTimeStart); var width = this.getTimeIntervalWidth(taskTimeStart, taskTimeEnd); return <DeploymentHistoryTask key={task.get('task_name')} task={task} left={left} width={width} />;"," getTaskWidth(timeStart, timeEnd) { getColorFromString(str) { var color = (utils.getStringHashCode(str) & 0x00FFFFFF).toString(16).toUpperCase(); return '#' + ('00000' + color).substr(-6); }, var currentTimePixels = isRunning ? this.getTaskWidth(timeStart, timeEnd) : 0; backgroundPosition: this.getTaskWidth(timeStart, timeEnd) {isRunning && <div className='current-time-marker' style={{left: currentTimePixels}} /> } var taskName = task.get('task_name'); var left = this.getTaskWidth( timeStart, utils.dateToSeconds(task.get('time_start')) ); var width = this.getTaskWidth( utils.dateToSeconds(task.get('time_start')), task.get('time_end') ? utils.dateToSeconds(task.get('time_end')) : timeEnd ); return <Tooltip key={taskName} text={taskName}> <div className='node-task' style={{background: this.getColorFromString(taskName), left, width}} > {task.get('status') === 'error' && <div className='error-marker' style={{left: Math.floor(width / 2)}} /> } </div> </Tooltip>;",35,29
openstack%2Ffuel-ui~stable%2Fmitaka~I81675e4d23b0926b92f63f10f3f97f3d2ae7ff80,openstack/fuel-ui,stable/mitaka,I81675e4d23b0926b92f63f10f3f97f3d2ae7ff80,Timeline fix for firefox browzer using momentjs lib,MERGED,2016-08-12 11:40:18.000000000,2016-08-12 12:21:16.000000000,2016-08-12 12:15:47.000000000,"[{'_account_id': 3}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 11:40:18.000000000', 'files': ['static/views/cluster_page_tabs/deployment_history_component.js', 'static/utils.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/aec1e3768f1611f6cd959813ba426e598ddc1f51', 'message': 'Timeline fix for firefox browzer using momentjs lib\n\nRelated blueprint ui-deployment-history\n\nChange-Id: I81675e4d23b0926b92f63f10f3f97f3d2ae7ff80\n'}]",0,354666,aec1e3768f1611f6cd959813ba426e598ddc1f51,13,4,1,8766,,,0,"Timeline fix for firefox browzer using momentjs lib

Related blueprint ui-deployment-history

Change-Id: I81675e4d23b0926b92f63f10f3f97f3d2ae7ff80
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/66/354666/1 && git format-patch -1 --stdout FETCH_HEAD,"['static/views/cluster_page_tabs/deployment_history_component.js', 'static/utils.js']",2,aec1e3768f1611f6cd959813ba426e598ddc1f51,bp/ui-deployment-history,," dateToSeconds(date) { if (!date) return 0; return new Date(date).getTime() / 1000; },",9,11
openstack%2Ffuel-ui~stable%2Fmitaka~Ic62ceb51bdcb01b00b2f4e30e4b645c7d447f8ea,openstack/fuel-ui,stable/mitaka,Ic62ceb51bdcb01b00b2f4e30e4b645c7d447f8ea,Run custom workflow from Dashboard,MERGED,2016-08-12 11:16:22.000000000,2016-08-12 12:17:49.000000000,2016-08-12 12:12:45.000000000,"[{'_account_id': 3}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 11:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/763dabaed72345cbc474f750a44683665fb6bfd8', 'message': 'Run custom workflow from Dashboard\n\nImplements blueprint ui-custom-graph\n\nChange-Id: Ic62ceb51bdcb01b00b2f4e30e4b645c7d447f8ea\n'}, {'number': 2, 'created': '2016-08-12 11:32:46.000000000', 'files': ['static/translations/core.json', 'static/styles/main.less', 'static/views/cluster_page_tabs/dashboard_tab.js', 'static/views/dialogs.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/53953d6a6ff26017904b1e5023b465920aabac72', 'message': 'Run custom workflow from Dashboard\n\nImplements blueprint ui-custom-graph\n\nChange-Id: Ic62ceb51bdcb01b00b2f4e30e4b645c7d447f8ea\n'}]",0,354655,53953d6a6ff26017904b1e5023b465920aabac72,19,4,2,8766,,,0,"Run custom workflow from Dashboard

Implements blueprint ui-custom-graph

Change-Id: Ic62ceb51bdcb01b00b2f4e30e4b645c7d447f8ea
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/55/354655/2 && git format-patch -1 --stdout FETCH_HEAD,"['static/translations/core.json', 'static/styles/main.less', 'static/views/cluster_page_tabs/dashboard_tab.js', 'static/views/dialogs.js']",4,763dabaed72345cbc474f750a44683665fb6bfd8,bp/ui-custom-graph,"export var RunCustomGraphDialog = React.createClass({ mixins: [dialogMixin], getDefaultProps() { return {title: i18n('dialog.run_custom_graph.title')}; }, ns: 'dialog.run_custom_graph.', runGraph() { this.setState({actionInProgress: true}); dispatcher.trigger('deploymentTasksUpdated'); var {cluster, nodeIds, graphType} = this.props; var data = {graph_type: graphType}; if (nodeIds.length < cluster.get('nodes').length) data.nodes = nodeIds; (new models.Task()) .save(data, {url: _.result(cluster, 'url') + '/deploy', type: 'PUT'}) .then( () => { this.close(); dispatcher.trigger('deploymentTaskStarted'); }, this.showError ); }, renderBody() { return ( <div className='run-graph-dialog'> <div className='confirmation-question'> {i18n(this.ns + 'are_you_sure_run_graph')} </div> </div> ); }, renderFooter() { var {actionInProgress} = this.state; return ([ <button key='cancel' className='btn btn-default' onClick={this.close} disabled={actionInProgress} > {i18n('common.cancel_button')} </button>, <button key='run-graph' className='btn run-graph-btn btn-success' disabled={actionInProgress} onClick={this.runGraph} > {i18n(this.ns + 'run_graph', {count: this.props.nodeIds.length})} </button> ]); } }); ",,251,145
openstack%2Ffuel-ui~master~I9ec34e090e03a58b0b14e0c97de6f576fe90ae41,openstack/fuel-ui,master,I9ec34e090e03a58b0b14e0c97de6f576fe90ae41,Fix cluster transactions url,MERGED,2016-08-01 09:24:42.000000000,2016-08-12 12:17:23.000000000,2016-08-02 10:00:50.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9730}, {'_account_id': 15315}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-01 09:24:42.000000000', 'files': ['static/models.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/c85087f023481650d108207b0c763273e1c890b9', 'message': 'Fix cluster transactions url\n\nUpdated according to #1593751 fix.\n\nRelated blueprint ui-deployment-history\n\nChange-Id: I9ec34e090e03a58b0b14e0c97de6f576fe90ae41\n'}]",0,349433,c85087f023481650d108207b0c763273e1c890b9,18,7,1,8766,,,0,"Fix cluster transactions url

Updated according to #1593751 fix.

Related blueprint ui-deployment-history

Change-Id: I9ec34e090e03a58b0b14e0c97de6f576fe90ae41
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/33/349433/1 && git format-patch -1 --stdout FETCH_HEAD,['static/models.js'],1,c85087f023481650d108207b0c763273e1c890b9,bp/ui-deployment-history, if (key === 'transactions') fetchOptions.transaction_types = 'deployment'; url: '/api/transactions'," if (key === 'transactions') fetchOptions.task_names = 'deployment'; url: '/api/transactions', parse(response) { // FIXME(jaranovich): to be removed after #1593751 fix return _.filter(response, (transaction) => transaction.name === 'deployment'); }",2,6
openstack%2Ftrove-dashboard~stable%2Fmitaka~I27006404703ce1b07f7fe4215a0e127b530f689c,openstack/trove-dashboard,stable/mitaka,I27006404703ce1b07f7fe4215a0e127b530f689c,Imported Translations from Zanata,MERGED,2016-08-10 09:34:03.000000000,2016-08-12 12:15:18.000000000,2016-08-12 12:15:18.000000000,"[{'_account_id': 3}, {'_account_id': 9664}]","[{'number': 1, 'created': '2016-08-10 09:34:03.000000000', 'files': ['trove_dashboard/locale/zh_CN/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/99fbea0a2ba7d3fcc0aa406aae775be9d62fa697', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I27006404703ce1b07f7fe4215a0e127b530f689c\n'}]",0,353343,99fbea0a2ba7d3fcc0aa406aae775be9d62fa697,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I27006404703ce1b07f7fe4215a0e127b530f689c
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/43/353343/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/locale/zh_CN/LC_MESSAGES/django.po'],1,99fbea0a2ba7d3fcc0aa406aae775be9d62fa697,zanata/translations,"# Shengjing Zhu <zsj950618@gmail.com>, 2016. #zanata""Project-Id-Version: trove-dashboard 6.0.2.dev9\n""""POT-Creation-Date: 2016-08-05 20:09+0000\n""""PO-Revision-Date: 2016-08-10 09:27+0000\n"" ""Last-Translator: Shengjing Zhu <zsj950618@gmail.com>\n""""[=%(flavor)s, =%(volume)s, =%(name)s, =%(type)s, ="" ""%(related_to)s]""","""Project-Id-Version: trove-dashboard 6.0.2.dev3\n""""POT-Creation-Date: 2016-06-08 09:13+0000\n""""PO-Revision-Date: 2016-03-21 02:54+0000\n"" ""Last-Translator: Gaoxiao Zhu <zhu.gaoxiao@h3c.com>\n""""[flavor=%(flavor)s, volume=%(volume)s, name=%(name)s, type=%(type)s, "" ""related_to=%(related_to)s]""",7,6
openstack%2Fmanila~stable%2Fmitaka~I5bf27282a716d62863ba6abafcf2ca6988fdc0b0,openstack/manila,stable/mitaka,I5bf27282a716d62863ba6abafcf2ca6988fdc0b0,Do Not Merge,ABANDONED,2016-07-11 18:52:53.000000000,2016-08-12 11:58:47.000000000,,"[{'_account_id': 3}, {'_account_id': 9003}, {'_account_id': 13144}, {'_account_id': 16643}, {'_account_id': 17623}, {'_account_id': 17780}, {'_account_id': 18128}, {'_account_id': 22236}]","[{'number': 1, 'created': '2016-07-11 18:52:53.000000000', 'files': ['dustin.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/8a115e5aae1829d33c2209218994d9e4825450c9', 'message': 'Do Not Merge\n\nChange-Id: I5bf27282a716d62863ba6abafcf2ca6988fdc0b0\n'}]",1,340519,8a115e5aae1829d33c2209218994d9e4825450c9,24,8,1,9003,,,0,"Do Not Merge

Change-Id: I5bf27282a716d62863ba6abafcf2ca6988fdc0b0
",git fetch https://review.opendev.org/openstack/manila refs/changes/19/340519/1 && git format-patch -1 --stdout FETCH_HEAD,['dustin.txt'],1,8a115e5aae1829d33c2209218994d9e4825450c9,,hi dusting ,,1,0
openstack%2Ftripleo-common~master~I16b87d34070221d2f37df9ddf99922c44a9f0364,openstack/tripleo-common,master,I16b87d34070221d2f37df9ddf99922c44a9f0364,Minor update to the upgrade-non-controller.sh,MERGED,2016-06-02 14:04:19.000000000,2016-08-12 11:56:41.000000000,2016-07-15 08:57:06.000000000,"[{'_account_id': 3}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 9712}, {'_account_id': 10873}, {'_account_id': 11105}, {'_account_id': 16046}, {'_account_id': 16515}]","[{'number': 1, 'created': '2016-06-02 14:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7232bf77652e468008dce29bf19a39e4ff829e13', 'message': 'Minor update to the upgrade-non-controller.sh\n\nMinor fixup for the --query function which was intended to provide\nsome insight into whether the node was upgraded or not. Since there\nis no easy way to tell, just check if the upgrade script is on the\nnode yet and check what packages if any were recently updated. This\nshould at least set expectations wrt what --query can do.\n\nPart of updating the upgrades workflow for M..N\n\nImplements: overcloud-upgrades-workflow-mitaka-to-newton\nChange-Id: I16b87d34070221d2f37df9ddf99922c44a9f0364\n'}, {'number': 2, 'created': '2016-06-08 11:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3f2a1aff0652e476d20c136179d4fd1415effebb', 'message': 'Minor update to the upgrade-non-controller.sh\n\nMinor fixup for the --query function which was intended to provide\nsome insight into whether the node was upgraded or not. Since there\nis no easy way to tell, just check if the upgrade script is on the\nnode yet and check what packages if any were recently updated. This\nshould at least set expectations wrt what --query can do. Also adds\nshort opts on request -u -s -q\n\nPart of updating the upgrades workflow for M..N\n\nImplements: overcloud-upgrades-workflow-mitaka-to-newton\nChange-Id: I16b87d34070221d2f37df9ddf99922c44a9f0364\n'}, {'number': 3, 'created': '2016-07-14 15:40:01.000000000', 'files': ['scripts/upgrade-non-controller.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/58b8482c3617665db9832f85ec41fc18dfa09be4', 'message': 'Minor update to the upgrade-non-controller.sh\n\nMinor fixup for the --query function which was intended to provide\nsome insight into whether the node was upgraded or not. Since there\nis no easy way to tell, just check if the upgrade script is on the\nnode yet and check what packages if any were recently updated. This\nshould at least set expectations wrt what --query can do. Also adds\nshort opts on request -u -s -q\n\nPart of updating the upgrades workflow for M..N\n\nImplements: overcloud-upgrades-workflow-mitaka-to-newton\nChange-Id: I16b87d34070221d2f37df9ddf99922c44a9f0364\n'}]",7,324546,58b8482c3617665db9832f85ec41fc18dfa09be4,28,8,3,8449,,,0,"Minor update to the upgrade-non-controller.sh

Minor fixup for the --query function which was intended to provide
some insight into whether the node was upgraded or not. Since there
is no easy way to tell, just check if the upgrade script is on the
node yet and check what packages if any were recently updated. This
should at least set expectations wrt what --query can do. Also adds
short opts on request -u -s -q

Part of updating the upgrades workflow for M..N

Implements: overcloud-upgrades-workflow-mitaka-to-newton
Change-Id: I16b87d34070221d2f37df9ddf99922c44a9f0364
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/46/324546/3 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upgrade-non-controller.sh'],1,7232bf77652e468008dce29bf19a39e4ff829e13,improve_upgrade_script," echo "" --query <nova node> -- determine if the node has the"" echo "" upgrade script and check the"" echo "" yum.log on that node for latest"" echo "" package updates"" --help|-h) show_options 0 >&2;; # check node exists, check for upgrade script confirm_script_on_node $QUERY_NODE log ""We can't remotely tell if the upgrade has run on $QUERY_NODE. Latest packages updated on $QUERY_NODE are:"" ssh $UPGRADE_NODE_USER@$node_ip ""sudo tail /var/log/yum.log"""," echo "" --query <nova node> -- determine upgrade status on node"" --help) show_options 0 >&2;; # query for status, can remove this for simplicity ssh $UPGRADE_NODE_USER@$node_ip ""sudo journalctl -n 1000 | grep tripleo-upgrade""",9,4
openstack%2Fmurano~master~I2a09a7de46a627653ebc661922a53c4daa4f9812,openstack/murano,master,I2a09a7de46a627653ebc661922a53c4daa4f9812,Updated from global requirements,MERGED,2016-08-11 18:12:29.000000000,2016-08-12 11:56:25.000000000,2016-08-12 11:56:25.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 15168}]","[{'number': 1, 'created': '2016-08-11 18:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/30523c077d4d7ff17ebc855d08254d6521738461', 'message': 'Updated from global requirements\n\nChange-Id: I2a09a7de46a627653ebc661922a53c4daa4f9812\n'}, {'number': 2, 'created': '2016-08-12 00:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/3fc28ec2b46539210cc181237a2e195cb96fd706', 'message': 'Updated from global requirements\n\nChange-Id: I2a09a7de46a627653ebc661922a53c4daa4f9812\n'}, {'number': 3, 'created': '2016-08-12 04:50:29.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/murano/commit/5475ac13ad3b05fde6369dd646f8ff9ea55c4cd2', 'message': 'Updated from global requirements\n\nChange-Id: I2a09a7de46a627653ebc661922a53c4daa4f9812\n'}]",0,354307,5475ac13ad3b05fde6369dd646f8ff9ea55c4cd2,21,4,3,11131,,,0,"Updated from global requirements

Change-Id: I2a09a7de46a627653ebc661922a53c4daa4f9812
",git fetch https://review.opendev.org/openstack/murano refs/changes/07/354307/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,30523c077d4d7ff17ebc855d08254d6521738461,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Ffuel-qa~stable%2Fmitaka~I3967c9be8aaeccf3a292a295ce180cf2b5fd64cc,openstack/fuel-qa,stable/mitaka,I3967c9be8aaeccf3a292a295ce180cf2b5fd64cc,Add retry to the start of VM,MERGED,2016-08-10 14:35:12.000000000,2016-08-12 11:55:50.000000000,2016-08-11 09:08:35.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 16414}, {'_account_id': 19119}]","[{'number': 1, 'created': '2016-08-10 14:35:12.000000000', 'files': ['fuelweb_test/models/environment.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/d030b3daaf335c3918d2341ebf1fef52a6e520d8', 'message': 'Add retry to the start of VM\n\nThe whole setup should be restarted\nto reinitialize VM resoruces.\n\nChange-Id: I3967c9be8aaeccf3a292a295ce180cf2b5fd64cc\nCloses-bug: 1587411\n(cherry picked from commit df51f7a04014f7d4243c151caa1d3bf8904c41e4)\n'}]",0,353532,d030b3daaf335c3918d2341ebf1fef52a6e520d8,21,5,1,16106,,,0,"Add retry to the start of VM

The whole setup should be restarted
to reinitialize VM resoruces.

Change-Id: I3967c9be8aaeccf3a292a295ce180cf2b5fd64cc
Closes-bug: 1587411
(cherry picked from commit df51f7a04014f7d4243c151caa1d3bf8904c41e4)
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/32/353532/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/models/environment.py'],1,d030b3daaf335c3918d2341ebf1fef52a6e520d8,bug/1587411,"from fuelweb_test.helpers.decorators import retry # NOTE(akostrikov) Due to fact that virtual machine in libvirt 1.x hangs # with probability less than 0,3%, we need to restart virtual machine to # reinitialize its resources. # TODO(akostrikov) Replace when possible, with exact Exception type. @retry(count=2, delay=0) self.d_env.destroy()",,7,0
openstack%2Ffuel-ui~stable%2Fmitaka~Ic243b30bb647baa831e156bbe2f20d6511d80987,openstack/fuel-ui,stable/mitaka,Ic243b30bb647baa831e156bbe2f20d6511d80987,Add Export CSV button to deployment history component,MERGED,2016-08-12 10:56:47.000000000,2016-08-12 11:49:15.000000000,2016-08-12 11:43:44.000000000,"[{'_account_id': 3}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 10:56:47.000000000', 'files': ['static/translations/core.json', 'static/views/cluster_page_tabs/deployment_history_component.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/4f181539092464cc2f610ac217ab4d1d61e050e5', 'message': 'Add Export CSV button to deployment history component\n\nUser is able to download a full deployment history\nin CS format from table view of the history component.\n\nImplements blueprint ui-deployment-history\n\nChange-Id: Ic243b30bb647baa831e156bbe2f20d6511d80987\n'}]",0,354645,4f181539092464cc2f610ac217ab4d1d61e050e5,17,4,1,8766,,,0,"Add Export CSV button to deployment history component

User is able to download a full deployment history
in CS format from table view of the history component.

Implements blueprint ui-deployment-history

Change-Id: Ic243b30bb647baa831e156bbe2f20d6511d80987
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/45/354645/1 && git format-patch -1 --stdout FETCH_HEAD,"['static/translations/core.json', 'static/views/cluster_page_tabs/deployment_history_component.js']",2,4f181539092464cc2f610ac217ab4d1d61e050e5,bp/ui-deployment-history,"import {Table, Tooltip, MultiSelectControl, DownloadFileButton} from 'views/controls'; <div> <Tooltip wrap text={i18n(ns + 'filter_tooltip')}> <button onClick={this.toggleFilters} className={utils.classNames({ 'btn btn-default pull-left btn-filters': true, active: areFiltersVisible })} > <i className='glyphicon glyphicon-filter' /> </button> </Tooltip> <DownloadFileButton label={i18n(ns + 'export_csv')} fileName={'deployment#' + transaction.id + '.csv'} url={deploymentHistory.url} headers={{Accept: 'text/csv'}} className='btn btn-default pull-right btn-export-history-csv' showProgressBar='inline' /> </div>","import {Table, Tooltip, MultiSelectControl} from 'views/controls'; <Tooltip wrap text={i18n(ns + 'filter_tooltip')}> <button onClick={this.toggleFilters} className={utils.classNames({ 'btn btn-default pull-left btn-filters': true, active: areFiltersVisible })} > <i className='glyphicon glyphicon-filter' /> </button> </Tooltip>",24,13
openstack%2Fpuppet-swift~master~Id9f1a478670e7b618ce9d222c5bc9739e3dd6286,openstack/puppet-swift,master,Id9f1a478670e7b618ce9d222c5bc9739e3dd6286,Add support for Swift Ring Builder 2.9.1+,MERGED,2016-08-12 01:36:55.000000000,2016-08-12 11:41:49.000000000,2016-08-12 09:32:27.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8971}, {'_account_id': 9061}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-08-12 01:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/6bb9acda2a1d2f073d57d5a7a8d4e24a8a9d95a4', 'message': 'Add support for Swift Ring Builder 2.9.1+\n\nThis patch: https://review.openstack.org/#/c/319387\nmodified the output of rings, so we need to add the case where this\nregex is found and how to use it.\n\nChange-Id: Id9f1a478670e7b618ce9d222c5bc9739e3dd6286\n'}, {'number': 2, 'created': '2016-08-12 01:57:42.000000000', 'files': ['lib/puppet/provider/swift_ring_builder.rb', 'spec/unit/puppet/provider/swift_ring_builder_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/dcc8ca54ee1d0a19d68eff5cfacc14f40a46f2ab', 'message': 'Add support for Swift Ring Builder 2.9.1+\n\nThis patch: https://review.openstack.org/#/c/319387\nmodified the output of rings, so we need to add the case where this\nregex is found and how to use it.\n\nChange-Id: Id9f1a478670e7b618ce9d222c5bc9739e3dd6286\n'}]",2,354476,dcc8ca54ee1d0a19d68eff5cfacc14f40a46f2ab,14,7,2,3153,,,0,"Add support for Swift Ring Builder 2.9.1+

This patch: https://review.openstack.org/#/c/319387
modified the output of rings, so we need to add the case where this
regex is found and how to use it.

Change-Id: Id9f1a478670e7b618ce9d222c5bc9739e3dd6286
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/76/354476/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/swift_ring_builder.rb'],1,6bb9acda2a1d2f073d57d5a7a8d4e24a8a9d95a4,regex_swift2.9.1," # Swift 2.9.1+ output example: # /etc/swift/object.builder, build version 1 # 262144 partitions, 1.000000 replicas, 1 regions, 1 zones, 1 devices, 0.00 balance, 0.00 dispersion # The minimum number of hours before a partition can be reassigned is 1 # The overload factor is 0.00% (0.000000) # Devices: id region zone ip address:port replication ip:replication port name weight partitions balance meta # 0 1 2 127.0.0.1:6021 127.0.0.1:6021 2 1.00 262144 0.00 # Swift 2.9.1+ output example: if row =~ /^\s*(\d+)\s+(\d+)\s+(\d+)\s+(\S+):(\d+)\s+(\S+):(\d+)\s+(\S+)\s+(\d+\.\d+)\s+(\d+)\s*((-|\s-?)?\d+\.\d+)\s*(\S*)/ address = address_string(""#{$4}"") object_hash[""#{address}:#{$5}/#{$6}""] = { :id => $1, :region => $2, :zone => $3, :weight => $7, :partitions => $8, :balance => $9, :meta => $11 } # Swift 1.8+ output example: elsif row =~ /^\s*(\d+)\s+(\d+)\s+(\d+)\s+(\S+)\s+(\d+)\s+\S+\s+\d+\s+(\S+)\s+(\d+\.\d+)\s+(\d+)\s*((-|\s-?)?\d+\.\d+)\s*(\S*)/", # Swift 1.8+ output example: if row =~ /^\s*(\d+)\s+(\d+)\s+(\d+)\s+(\S+)\s+(\d+)\s+\S+\s+\d+\s+(\S+)\s+(\d+\.\d+)\s+(\d+)\s*((-|\s-?)?\d+\.\d+)\s*(\S*)/,21,1
openstack%2Ffuel-ui~stable%2Fmitaka~I5e1648845cad7738a00b0a3a1e10cd8058a60ccc,openstack/fuel-ui,stable/mitaka,I5e1648845cad7738a00b0a3a1e10cd8058a60ccc,Stick timeline header and titles column upon scrolling,MERGED,2016-08-12 10:55:28.000000000,2016-08-12 11:41:13.000000000,2016-08-12 11:36:12.000000000,"[{'_account_id': 3}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 10:55:28.000000000', 'files': ['static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/99567e54fe26880a2b9498d91884656e60830672', 'message': 'Stick timeline header and titles column upon scrolling\n\nRelated blueprint ui-deployment-history\n\nChange-Id: I5e1648845cad7738a00b0a3a1e10cd8058a60ccc\n'}]",0,354643,99567e54fe26880a2b9498d91884656e60830672,17,4,1,8766,,,0,"Stick timeline header and titles column upon scrolling

Related blueprint ui-deployment-history

Change-Id: I5e1648845cad7738a00b0a3a1e10cd8058a60ccc
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/43/354643/1 && git format-patch -1 --stdout FETCH_HEAD,"['static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js']",2,99567e54fe26880a2b9498d91884656e60830672,bp/ui-deployment-history," adjustOffsets(e) { this.refs.scale.style.left = -e.target.scrollLeft + 'px'; this.refs.names.style.top = -e.target.scrollTop + 'px'; }, <div className='node-names-column'> <div className='node-names-container'> <div className='node-names' ref='names'> {_.map(nodeIds, (nodeId) => <div key={nodeId}>{nodeId === 'master' ? nodeId : '#' + nodeId}</div> )} </div> </div> <div className='timelines-column'> <div className='header'> <div className='scale' ref='scale' style={{width: intervals * timelineIntervalWidth}}> </div> <div className='timelines-container' onScroll={this.adjustOffsets}> <div className={utils.classNames({ timelines: true, 'current-time-marker': isRunning })} style={{ width: intervals * timelineIntervalWidth, backgroundPosition: this.getTaskWidth(timeStart, timeEnd) }} >"," <div className='node-names'> {_.map(nodeIds, (nodeId) => <div key={nodeId}>{nodeId === 'master' ? nodeId : '#' + nodeId}</div> )} <div className='node-timelines'> <div className='node-timelines-inner'> <div className='header clearfix' style={{width: intervals * timelineIntervalWidth}}> <div className='timelines' style={{width: intervals * timelineIntervalWidth}}>",112,74
openstack%2Fnetworking-midonet~master~I7afcad9acafbe7333f5bdbec8827d87d508f14da,openstack/networking-midonet,master,I7afcad9acafbe7333f5bdbec8827d87d508f14da,Specify GUARD_TRANSACTION=False where necessary,MERGED,2016-08-10 03:43:18.000000000,2016-08-12 11:32:04.000000000,2016-08-12 11:23:58.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 8837}, {'_account_id': 9925}]","[{'number': 1, 'created': '2016-08-10 03:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/e75dc04fcb63c4d81a43730ce794c5a3700dd295', 'message': 'Specify GUARD_TRANSACTION=False where necessary\n\nCloses-Bug: #1611533\nDepends-On: I5aa099c2264636336ab0b76c0826b506e2dc44b6\nChange-Id: I7afcad9acafbe7333f5bdbec8827d87d508f14da\n'}, {'number': 2, 'created': '2016-08-10 04:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/8c9c2ceff050abf72bbc4feec517117aed444514', 'message': 'Specify GUARD_TRANSACTION=False where necessary\n\nNeutron change: I5aa099c2264636336ab0b76c0826b506e2dc44b6\n\nPartial-Bug: #1611533\nChange-Id: I7afcad9acafbe7333f5bdbec8827d87d508f14da\n'}, {'number': 3, 'created': '2016-08-10 07:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/a483fd4fadc0bd6f3526f3651bd78a95ce267f03', 'message': 'Specify GUARD_TRANSACTION=False where necessary\n\nCloses-Bug: #1611533\nDepends-On: I5aa099c2264636336ab0b76c0826b506e2dc44b6\nChange-Id: I7afcad9acafbe7333f5bdbec8827d87d508f14da\n'}, {'number': 4, 'created': '2016-08-10 09:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b89c2e99488920f2a24553e972aa070b3213a837', 'message': 'Specify GUARD_TRANSACTION=False where necessary\n\nCloses-Bug: #1611533\nDepends-On: I5aa099c2264636336ab0b76c0826b506e2dc44b6\nChange-Id: I7afcad9acafbe7333f5bdbec8827d87d508f14da\n'}, {'number': 5, 'created': '2016-08-10 13:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/20c1ecdd44d3a467fd3141d4be0b75928a4558da', 'message': 'Specify GUARD_TRANSACTION=False where necessary\n\nCloses-Bug: #1611533\nDepends-On: I5aa099c2264636336ab0b76c0826b506e2dc44b6\nChange-Id: I7afcad9acafbe7333f5bdbec8827d87d508f14da\n'}, {'number': 6, 'created': '2016-08-10 22:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/a020976ee05589e7e7ddbd3042bcdd84baa265aa', 'message': 'Specify GUARD_TRANSACTION=False where necessary\n\nCloses-Bug: #1611533\nDepends-On: I5aa099c2264636336ab0b76c0826b506e2dc44b6\nChange-Id: I7afcad9acafbe7333f5bdbec8827d87d508f14da\n'}, {'number': 7, 'created': '2016-08-11 12:08:20.000000000', 'files': ['midonet/neutron/services/l3/l3_midonet.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/616aff852c03a8bdf13c9c3af62dcafaec3a52fa', 'message': 'Specify GUARD_TRANSACTION=False where necessary\n\nCloses-Bug: #1611533\nDepends-On: I5aa099c2264636336ab0b76c0826b506e2dc44b6\nChange-Id: I7afcad9acafbe7333f5bdbec8827d87d508f14da\n'}]",1,353236,616aff852c03a8bdf13c9c3af62dcafaec3a52fa,30,6,7,6854,,,0,"Specify GUARD_TRANSACTION=False where necessary

Closes-Bug: #1611533
Depends-On: I5aa099c2264636336ab0b76c0826b506e2dc44b6
Change-Id: I7afcad9acafbe7333f5bdbec8827d87d508f14da
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/36/353236/5 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/services/l3/l3_midonet.py'],1,e75dc04fcb63c4d81a43730ce794c5a3700dd295,bug/1611533," # REVISIT(yamamoto): This should not call delete_port inside # of a transaction. setattr(context, 'GUARD_TRANSACTION', False) # REVISIT(yamamoto): This should not call delete_port inside # of a transaction. setattr(context, 'GUARD_TRANSACTION', False)",,6,0
openstack%2Ffuel-ui~stable%2Fmitaka~Id35adfd3c722059b902c03d15ee57f9327b36ac9,openstack/fuel-ui,stable/mitaka,Id35adfd3c722059b902c03d15ee57f9327b36ac9,Deployment history of running deployment,MERGED,2016-08-12 10:38:11.000000000,2016-08-12 11:28:41.000000000,2016-08-12 11:23:37.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 10:38:11.000000000', 'files': ['static/translations/core.json', 'static/styles/main.less', 'static/views/cluster_page.js', 'static/views/cluster_page_tabs/deployment_history_component.js', 'static/views/cluster_page_tabs/dashboard_tab.js', 'static/views/cluster_page_tabs/history_tab.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/e5844fa4c77decff2e6b2fbdc71001c4267cd6c1', 'message': 'Deployment history of running deployment\n\nImplements blueprint ui-deployment-history\n\nChange-Id: Id35adfd3c722059b902c03d15ee57f9327b36ac9\n'}]",0,354639,e5844fa4c77decff2e6b2fbdc71001c4267cd6c1,13,4,1,8766,,,0,"Deployment history of running deployment

Implements blueprint ui-deployment-history

Change-Id: Id35adfd3c722059b902c03d15ee57f9327b36ac9
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/39/354639/1 && git format-patch -1 --stdout FETCH_HEAD,"['static/translations/core.json', 'static/styles/main.less', 'static/views/cluster_page.js', 'static/views/cluster_page_tabs/deployment_history_component.js', 'static/views/cluster_page_tabs/dashboard_tab.js', 'static/views/cluster_page_tabs/history_tab.js']",6,e5844fa4c77decff2e6b2fbdc71001c4267cd6c1,bp/ui-deployment-history,, {...this.props},252,134
openstack%2Ffuel-ui~master~If021d255e2e917155ff6549b9678f2045f168fe0,openstack/fuel-ui,master,If021d255e2e917155ff6549b9678f2045f168fe0,Fix background stripes for deployment timeline,MERGED,2016-08-12 10:24:31.000000000,2016-08-12 11:27:52.000000000,2016-08-12 11:22:16.000000000,"[{'_account_id': 3}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 10:24:31.000000000', 'files': ['static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/c736c821b1b4ff25b0c84f6299120d500ca5d279', 'message': 'Fix background stripes for deployment timeline\n\nStripes now scroll with the timeline and its tasks\n\nImplements blueprint ui-deployment-history\n\nChange-Id: If021d255e2e917155ff6549b9678f2045f168fe0\n'}]",0,354634,c736c821b1b4ff25b0c84f6299120d500ca5d279,13,4,1,8735,,,0,"Fix background stripes for deployment timeline

Stripes now scroll with the timeline and its tasks

Implements blueprint ui-deployment-history

Change-Id: If021d255e2e917155ff6549b9678f2045f168fe0
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/34/354634/1 && git format-patch -1 --stdout FETCH_HEAD,"['static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js']",2,c736c821b1b4ff25b0c84f6299120d500ca5d279,bp/ui-deployment-history," className='timelines' height: nodeIds.length * timelineRowHeight {isRunning && <div key='current-time-marker' className='current-time-marker' style={{ height: nodeIds.length * timelineRowHeight, left: this.getTimeIntervalWidth(timeStart, timeEnd) }} /> }"," className={utils.classNames({ timelines: true, 'current-time-marker': isRunning })} height: nodeIds.length * timelineRowHeight, backgroundPosition: this.getTimeIntervalWidth(timeStart, timeEnd)",20,14
openstack%2Ffuel-ui~stable%2Fmitaka~I87e46e4221f4384cf06a96ed44e48d589fbdda55,openstack/fuel-ui,stable/mitaka,I87e46e4221f4384cf06a96ed44e48d589fbdda55,cluster.fetchRelated method removed,MERGED,2016-08-12 10:18:29.000000000,2016-08-12 11:26:37.000000000,2016-08-12 11:21:29.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 10:18:29.000000000', 'files': ['static/views/cluster_page_tabs/nodes_tab_screens/edit_nodes_screen.js', 'static/views/cluster_page.js', 'static/views/cluster_page_tabs/nodes_tab_screens/node.js', 'static/models.js', 'static/views/cluster_page_tabs/dashboard_tab.js', 'static/views/cluster_page_tabs/nodes_tab_screens/node_list_screen.js', 'static/views/cluster_page_tabs/network_tab.js', 'static/views/cluster_page_tabs/nodes_tab_screens/add_nodes_screen.js', 'static/views/dialogs.js', 'static/utils.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/3d1606169dfc1b3474a0e9faa94691fa5f090814', 'message': 'cluster.fetchRelated method removed\n\nRecently cluster-related collections were fetched via\ncluster.fetchRelated(<collection_name>, ...) method. But when separated from cluster\nor create cluster-related collection without cluster additional fetch method wrappers\nwere needed.\n\nThis patch makes it possible to specify additional fetch options to the Collection\nto be sent upon each data fetch. Thus passing data: {cluster_id: <id>} as an\nfetching option will cause fetching only cluster-related subset of data.\n\nChange-Id: I87e46e4221f4384cf06a96ed44e48d589fbdda55\n'}]",0,354631,3d1606169dfc1b3474a0e9faa94691fa5f090814,13,4,1,8766,,,0,"cluster.fetchRelated method removed

Recently cluster-related collections were fetched via
cluster.fetchRelated(<collection_name>, ...) method. But when separated from cluster
or create cluster-related collection without cluster additional fetch method wrappers
were needed.

This patch makes it possible to specify additional fetch options to the Collection
to be sent upon each data fetch. Thus passing data: {cluster_id: <id>} as an
fetching option will cause fetching only cluster-related subset of data.

Change-Id: I87e46e4221f4384cf06a96ed44e48d589fbdda55
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/31/354631/1 && git format-patch -1 --stdout FETCH_HEAD,"['static/views/cluster_page_tabs/nodes_tab_screens/edit_nodes_screen.js', 'static/views/cluster_page.js', 'static/views/cluster_page_tabs/nodes_tab_screens/node.js', 'static/models.js', 'static/views/cluster_page_tabs/dashboard_tab.js', 'static/views/cluster_page_tabs/nodes_tab_screens/node_list_screen.js', 'static/views/cluster_page_tabs/network_tab.js', 'static/views/cluster_page_tabs/nodes_tab_screens/add_nodes_screen.js', 'static/views/dialogs.js', 'static/utils.js']",10,3d1606169dfc1b3474a0e9faa94691fa5f090814,mitaka-fetch-related," var nodes = new models.Nodes( options.cluster.get('nodes').getByIds(ids), {fetchOptions: {cluster_id: options.cluster.id}} );", var nodes = new models.Nodes(options.cluster.get('nodes').getByIds(ids));,49,49
openstack%2Ffuel-qa~stable%2Fmitaka~I39c8b5a5deaab94d7cb32cab8d1abd81ab025f08,openstack/fuel-qa,stable/mitaka,I39c8b5a5deaab94d7cb32cab8d1abd81ab025f08,Update method of verifying tasks ensurability,MERGED,2016-07-22 08:04:48.000000000,2016-08-12 11:23:52.000000000,2016-08-12 11:23:52.000000000,"[{'_account_id': 3}, {'_account_id': 7935}, {'_account_id': 8971}, {'_account_id': 15984}, {'_account_id': 19119}]","[{'number': 1, 'created': '2016-07-22 08:04:48.000000000', 'files': ['fuelweb_test/tests/tests_lcm/test_ensurability.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/aa1fa38661c7635a9a855c3c576de16d18abcde3', 'message': 'Update method of verifying tasks ensurability\n\n- Take into account skipped resources\n- Omit comparing actual IP addresses in resources\n(which differ from deployment to deployment).\n\nChange-Id: I39c8b5a5deaab94d7cb32cab8d1abd81ab025f08\nPartial-Bug: #1586974\n'}]",0,345891,aa1fa38661c7635a9a855c3c576de16d18abcde3,11,5,1,16819,,,0,"Update method of verifying tasks ensurability

- Take into account skipped resources
- Omit comparing actual IP addresses in resources
(which differ from deployment to deployment).

Change-Id: I39c8b5a5deaab94d7cb32cab8d1abd81ab025f08
Partial-Bug: #1586974
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/91/345891/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/tests_lcm/test_ensurability.py'],1,aa1fa38661c7635a9a855c3c576de16d18abcde3,,"import re ip_pattern = re.compile(r""(?:\d{1,3}\.){3}\d{1,3}:\d{1,4}/\d"") skip = task_data.get('skip') for res_name, res_stats in report['resource_statuses'].items(): if res_stats['changed'] and res_name not in skip: expected_resources = [ip_pattern.sub(""addr"", r) for r in task_data[""resources""]] actual_resources = [ip_pattern.sub(""addr"", r) for r in task_resources] if sorted(actual_resources) != sorted(expected_resources): ""expected"": task_data[""resources""]"," for res_name, res_stats in report['resource_statuses'].items(): if res_stats['changed']: expected_resources = task_data[""resources""] if sorted(task_resources) != sorted(expected_resources): ""expected"": expected_resources",11,4
openstack%2Fkolla~master~Ibbb49c8964aa0af663ad15874dea7959dd5cabcb,openstack/kolla,master,Ibbb49c8964aa0af663ad15874dea7959dd5cabcb,Updated from global requirements,MERGED,2016-08-11 18:11:48.000000000,2016-08-12 11:14:33.000000000,2016-08-12 11:14:32.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1390}, {'_account_id': 11105}]","[{'number': 1, 'created': '2016-08-11 18:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c468051dc3afd97ea944f3932dbbe72fde25eac1', 'message': 'Updated from global requirements\n\nChange-Id: Ibbb49c8964aa0af663ad15874dea7959dd5cabcb\n'}, {'number': 2, 'created': '2016-08-11 23:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4a56627a3dddf2878b50dfb350038431dba9fd02', 'message': 'Updated from global requirements\n\nChange-Id: Ibbb49c8964aa0af663ad15874dea7959dd5cabcb\n'}, {'number': 3, 'created': '2016-08-12 09:56:31.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla/commit/de7e8bc00b8f430d37df86857877b94f96c23fe3', 'message': 'Updated from global requirements\n\nChange-Id: Ibbb49c8964aa0af663ad15874dea7959dd5cabcb\n'}]",0,354303,de7e8bc00b8f430d37df86857877b94f96c23fe3,12,4,3,11131,,,0,"Updated from global requirements

Change-Id: Ibbb49c8964aa0af663ad15874dea7959dd5cabcb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/03/354303/3 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c468051dc3afd97ea944f3932dbbe72fde25eac1,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Ftempest~master~I68310cfae3f36aa08b990753105ffb643edb723e,openstack/tempest,master,I68310cfae3f36aa08b990753105ffb643edb723e,Generic CLI method for python-client,ABANDONED,2016-07-17 20:49:30.000000000,2016-08-12 11:13:29.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8205}, {'_account_id': 9732}, {'_account_id': 10385}]","[{'number': 1, 'created': '2016-07-17 20:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/20942e15390058d208953cfd7f2d4dccdea72727', 'message': 'Generic CLI method for python-client\nAs per current architecture, we need to add a CLI wrapper each time\nin order to encounter existance of that python client CLI.\n\nAs we can see that there is a large number of copy paste of code.\n\nThis patch adds a generic method \'command\' which will be called same\nas other CLI wrappers. In this method we will pass\n""CLI command as a first argument"" and thus this will eliminate copy\npaster operations.\n\nOther existing CLI wrappers (nova/neutron/cinder etc.) in same file\nwill continue to exist until functional CLI tests in python client repo\nis modified accordingly.\n\nOnce individual client functional tests will be modified, these cli\nwrappers will be treated as dead code and will be removed.\n\n Change-Id: I9457f1b0405f8e13fab8deebf769f4d4af3a3bdc\n\nChange-Id: I68310cfae3f36aa08b990753105ffb643edb723e\n'}, {'number': 2, 'created': '2016-07-17 20:53:27.000000000', 'files': ['tempest/lib/cli/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/43d26689c9478aa8a9df43282ef03c5d4856ab62', 'message': 'Generic CLI method for python-client\n\nAs per current architecture, we need to add a CLI wrapper each time\nin order to encounter existance of that python client CLI.\n\nAs we can see that there is a large number of copy paste of code.\n\nThis patch adds a generic method \'command\' which will be called same\nas other CLI wrappers. In this method we will pass\n""CLI command as a first argument"" and thus this will eliminate copy\npaster operations.\n\nOther existing CLI wrappers (nova/neutron/cinder etc.) in same file\nwill continue to exist until functional CLI tests in python client repo\nis modified accordingly.\n\nOnce individual client functional tests will be modified, these cli\nwrappers will be treated as dead code and will be removed.\n\nChange-Id: I68310cfae3f36aa08b990753105ffb643edb723e\n'}]",3,343345,43d26689c9478aa8a9df43282ef03c5d4856ab62,12,8,2,8205,,,0,"Generic CLI method for python-client

As per current architecture, we need to add a CLI wrapper each time
in order to encounter existance of that python client CLI.

As we can see that there is a large number of copy paste of code.

This patch adds a generic method 'command' which will be called same
as other CLI wrappers. In this method we will pass
""CLI command as a first argument"" and thus this will eliminate copy
paster operations.

Other existing CLI wrappers (nova/neutron/cinder etc.) in same file
will continue to exist until functional CLI tests in python client repo
is modified accordingly.

Once individual client functional tests will be modified, these cli
wrappers will be treated as dead code and will be removed.

Change-Id: I68310cfae3f36aa08b990753105ffb643edb723e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/45/343345/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/cli/base.py'],1,20942e15390058d208953cfd7f2d4dccdea72727,generic_cli_method," def command(self, cli, action, flags='', params='', fail_ok=False, endpoint_type='publicURL', merge_stderr=False): """"""Executes given cli command for the given action. :param cli: the cli method i.e nova, neutron, glance etc :type action: string :param action: the cli command to run using cli method :type action: string :param flags: any optional cli flags to use :type flags: string :param params: any optional positional args to use :type params: string :param fail_ok: if True an exception is not raised when the cli return code is non-zero :type fail_ok: boolean :param endpoint_type: the type of endpoint for the service :type endpoint_type: string :param merge_stderr: if True the stderr buffer is merged into stdout :type merge_stderr: boolean """""" if cli not in ['keystone', 'openstack']: if cli in ['cinder', 'neutron', 'sahara', 'trove']: flags += ' --endpoint-type %s' % endpoint_type else: flags += ' --os-endpoint-type %s' % endpoint_type return self.cmd_with_auth( cli, action, flags, params, fail_ok, merge_stderr) ",,29,0
openstack%2Fmagnum~master~I0c65ee9bc161046bcbd2b0ef5a8faf2f50a0f43e,openstack/magnum,master,I0c65ee9bc161046bcbd2b0ef5a8faf2f50a0f43e,Improve unit test coverage for cmd/conductor.py,MERGED,2016-08-11 06:19:02.000000000,2016-08-12 11:08:05.000000000,2016-08-12 11:08:05.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 20498}]","[{'number': 1, 'created': '2016-08-11 06:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9c4e32b9983b1b23202b44c92a173142c3dddf02', 'message': 'Improve unit test coverage for cmd/conductor.py\n\nAdd new unit tests for cmd/conductor.py.\nIncrease the coverage for cmd/conductor.py from 0 to 100%.\n\nChange-Id: I0c65ee9bc161046bcbd2b0ef5a8faf2f50a0f43e\nPartial-Bug: #1511667\n'}, {'number': 2, 'created': '2016-08-11 06:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a8fc61f99585d5e66cb38ddb6fdf748ddce135f2', 'message': 'Improve unit test coverage for cmd/conductor.py\n\nAdd new unit tests for cmd/conductor.py.\nIncrease the coverage for cmd/conductor.py from 0 to 100%.\n\nChange-Id: I0c65ee9bc161046bcbd2b0ef5a8faf2f50a0f43e\nPartial-Bug: #1511667\n'}, {'number': 3, 'created': '2016-08-12 01:41:48.000000000', 'files': ['magnum/tests/unit/cmd/test_conductor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/81771f60b00d605dfe1bc07f1af6660cd3c1e0f2', 'message': 'Improve unit test coverage for cmd/conductor.py\n\nAdd new unit tests for cmd/conductor.py.\nIncrease the coverage for cmd/conductor.py from 0 to 100%.\n\nChange-Id: I0c65ee9bc161046bcbd2b0ef5a8faf2f50a0f43e\nPartial-Bug: #1511667\n'}]",0,353848,81771f60b00d605dfe1bc07f1af6660cd3c1e0f2,11,3,3,19741,,,0,"Improve unit test coverage for cmd/conductor.py

Add new unit tests for cmd/conductor.py.
Increase the coverage for cmd/conductor.py from 0 to 100%.

Change-Id: I0c65ee9bc161046bcbd2b0ef5a8faf2f50a0f43e
Partial-Bug: #1511667
",git fetch https://review.opendev.org/openstack/magnum refs/changes/48/353848/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/tests/unit/cmd/test_conductor.py'],1,9c4e32b9983b1b23202b44c92a173142c3dddf02,bug/1511667,"# Copyright 2016 - Fujitsu, Ltd. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import mock from magnum.cmd import conductor from magnum.tests import base class TestMagnumConductor(base.TestCase): @mock.patch('oslo_service.service.launch') @mock.patch.object(conductor, 'rpc_service') @mock.patch('magnum.common.service.prepare_service') def test_api(self, mock_prep, mock_rpc, mock_launch): conductor.main() server = mock_rpc.Service.create.return_value launcher = mock_launch.return_value mock_prep.assert_called_once_with(mock.ANY) mock_rpc.Service.create.assert_called_once_with( base.CONF.conductor.topic, mock.ANY, mock.ANY, binary='magnum-conductor') mock_launch.assert_called_once_with(base.CONF, server) launcher.wait.assert_called_once_with() ",,36,0
openstack%2Fpython-novaclient~master~I7ca9067b948e3fda61f77cadc041fea4b6be932e,openstack/python-novaclient,master,I7ca9067b948e3fda61f77cadc041fea4b6be932e,Updated from global requirements,MERGED,2016-08-11 18:18:08.000000000,2016-08-12 11:02:29.000000000,2016-08-12 11:02:29.000000000,"[{'_account_id': 3}, {'_account_id': 9545}]","[{'number': 1, 'created': '2016-08-11 18:18:08.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/1d2a20d8943de375be9b3382fb29a8e1f4beb327', 'message': 'Updated from global requirements\n\nChange-Id: I7ca9067b948e3fda61f77cadc041fea4b6be932e\n'}]",0,354314,1d2a20d8943de375be9b3382fb29a8e1f4beb327,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I7ca9067b948e3fda61f77cadc041fea4b6be932e
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/14/354314/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1d2a20d8943de375be9b3382fb29a8e1f4beb327,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Ffreezer-web-ui~master~Ia5fcfa0a3afb8d75c9beb497204ef9b4934a723f,openstack/freezer-web-ui,master,Ia5fcfa0a3afb8d75c9beb497204ef9b4934a723f,Adds help text and fixes dropdown displays,MERGED,2016-08-11 14:52:27.000000000,2016-08-12 11:02:23.000000000,2016-08-12 09:42:42.000000000,"[{'_account_id': 3}, {'_account_id': 14340}]","[{'number': 1, 'created': '2016-08-11 14:52:27.000000000', 'files': ['disaster_recovery/actions/templates/actions/_action.html', 'disaster_recovery/static/freezer/js/freezer.actions.action.js'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/ddc6321e6d49025bea560b24a3d4043a1af0ef26', 'message': 'Adds help text and fixes dropdown displays\n\nAdds help text for users creating a Restore Action item.\nAlso fixes the fields that get displayed when selecting options\nin the Action, Mode, and Storage dropdowns.\n\nChange-Id: Ia5fcfa0a3afb8d75c9beb497204ef9b4934a723f\n'}]",0,354137,ddc6321e6d49025bea560b24a3d4043a1af0ef26,7,2,1,9048,,,0,"Adds help text and fixes dropdown displays

Adds help text for users creating a Restore Action item.
Also fixes the fields that get displayed when selecting options
in the Action, Mode, and Storage dropdowns.

Change-Id: Ia5fcfa0a3afb8d75c9beb497204ef9b4934a723f
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/37/354137/1 && git format-patch -1 --stdout FETCH_HEAD,"['disaster_recovery/actions/templates/actions/_action.html', 'disaster_recovery/static/freezer/js/freezer.actions.action.js']",2,ddc6321e6d49025bea560b24a3d4043a1af0ef26,," $(""#restore-warning"").hide(); $(""#restore-warning"").show();function setActionOptions() { var $id_action = $(""#id_action"").val(); if ($id_action === 'backup') { } else if ($id_action === 'restore') { } else if ($id_action === 'admin') { } } function setStorageOptions() { var $id_action = $(""#id_action"").val(); if ($id_action === 'backup' || $id_action === 'restore') { if ($(""#id_storage"").val() === 'ssh') { showSSHOptions(); } } } function setModeOptions() { var $id_mode = $(""#id_mode"").val(); if ($id_mode === 'mysql') { } else if ($id_mode === 'mssql') { } else if ($id_mode === 'cinder') { } else if ($id_mode === 'nova') {} $(""#id_action, #id_storage, #id_mode"").change(function () { hideEverything(); setActionOptions(); setStorageOptions(); setModeOptions(); }); setActionOptions(); setStorageOptions(); setModeOptions();","function triggerChanges() { $(""#id_action"").trigger('change'); $(""#id_mode"").trigger('change'); $(""#id_storage"").trigger('change'); } function hideModeOptions() { $(""#id_cinder_vol_id"").closest("".form-group"").hide(); $(""#id_nova_inst_id"").closest("".form-group"").hide(); $(""#id_mysql_conf"").closest("".form-group"").hide(); $(""#id_sql_server_conf"").closest("".form-group"").hide(); } function hideSSHOptions() { $(""#id_ssh_key"").closest("".form-group"").hide(); $(""#id_ssh_username"").closest("".form-group"").hide(); $(""#id_ssh_host"").closest("".form-group"").hide(); } $(""#id_action"").change(function () { if ($(""#id_action"").val() === 'backup') { hideEverything(); } else if ($(""#id_action"").val() === 'restore') { hideEverything(); } else if ($(""#id_action"").val() === 'admin') { hideEverything(); } else { hideEverything(); } }); $(""#id_storage"").change(function () { if ($(""#id_storage"").val() === 'swift') { //hideEverything(); showBackupOptions(); hideSSHOptions(); } else if ($(""#id_storage"").val() === 'ssh') { //hideEverything(); showBackupOptions(); showSSHOptions(); } else if ($(""#id_storage"").val() === 'local') { //hideEverything(); showBackupOptions(); hideSSHOptions(); } }); $(""#id_mode"").change(function () { if ($(""#id_mode"").val() === 'fs') { hideModeOptions(); } else if ($(""#id_mode"").val() === 'mysql') { hideModeOptions(); } else if ($(""#id_mode"").val() === 'mssql') { hideModeOptions(); } else if ($(""#id_mode"").val() === 'mongo') { hideModeOptions(); } else if ($(""#id_mode"").val() === 'cinder') { hideModeOptions(); } else if ($(""#id_mode"").val() === 'nova') { hideModeOptions();}); triggerChanges();",35,60
openstack%2Ftripleo-heat-templates~master~I0ea4190a23488986a3ee9e887328e0e7a03fe3aa,openstack/tripleo-heat-templates,master,I0ea4190a23488986a3ee9e887328e0e7a03fe3aa,Reinstate CloudDomain properties for Controller/Compute roles,MERGED,2016-08-11 13:25:36.000000000,2016-08-12 11:00:48.000000000,2016-08-12 11:00:48.000000000,"[{'_account_id': 3}, {'_account_id': 6796}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 10873}]","[{'number': 1, 'created': '2016-08-11 13:25:36.000000000', 'files': ['puppet/controller.yaml', 'overcloud.yaml', 'puppet/swift-storage.yaml', 'puppet/compute.yaml', 'puppet/ceph-storage.yaml', 'puppet/cinder-storage.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/44b67ebdeb179af66dad78c2c54eb07723f46d4d', 'message': 'Reinstate CloudDomain properties for Controller/Compute roles\n\nThese were removed in https://review.openstack.org/#/c/347050\nbut it turns out the defaults in the role templates is bad, as\nan empty string results in a malformed hosts file fqdn.\n\nSo, partially revert that patch so we always pass the global\nCloudDomain from overcloud.yaml, accepting the default configured\nthere, and remove the empty-string defaults in the role templates.\n\nChange-Id: I0ea4190a23488986a3ee9e887328e0e7a03fe3aa\n'}]",0,354069,44b67ebdeb179af66dad78c2c54eb07723f46d4d,20,5,1,4328,,,0,"Reinstate CloudDomain properties for Controller/Compute roles

These were removed in https://review.openstack.org/#/c/347050
but it turns out the defaults in the role templates is bad, as
an empty string results in a malformed hosts file fqdn.

So, partially revert that patch so we always pass the global
CloudDomain from overcloud.yaml, accepting the default configured
there, and remove the empty-string defaults in the role templates.

Change-Id: I0ea4190a23488986a3ee9e887328e0e7a03fe3aa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/354069/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/controller.yaml', 'overcloud.yaml', 'puppet/swift-storage.yaml', 'puppet/compute.yaml', 'puppet/ceph-storage.yaml', 'puppet/cinder-storage.yaml']",6,44b67ebdeb179af66dad78c2c54eb07723f46d4d,cloud_domain_fix,, default: '',2,5
openstack%2Ffuel-octane~master~I82088a81545b2cdd36663e6a64612b2a186e00e1,openstack/fuel-octane,master,I82088a81545b2cdd36663e6a64612b2a186e00e1,A set of fixes for using octane with deployment graphs,ABANDONED,2016-07-04 16:35:43.000000000,2016-08-12 10:57:51.000000000,,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-07-04 16:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/b9bc4746e906beb5dc271423ebcd45d22d74c63c', 'message': 'A set of fixes for using octane with deployment graphs\n\nChange-Id: I82088a81545b2cdd36663e6a64612b2a186e00e1\n'}, {'number': 2, 'created': '2016-07-05 19:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/668e3cf3481288736e6441bf2773996dfa36a6db', 'message': 'A set of fixes for using octane with deployment graphs\n\nChange-Id: I82088a81545b2cdd36663e6a64612b2a186e00e1\n'}, {'number': 3, 'created': '2016-07-15 16:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/f0caad41272797f9234433595fe8a25888afbcf4', 'message': 'A set of fixes for using octane with deployment graphs\n\nChange-Id: I82088a81545b2cdd36663e6a64612b2a186e00e1\n'}, {'number': 4, 'created': '2016-07-20 11:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/5eb4509bb4c1f63de0bfb0655095c1fb9e83d67f', 'message': 'A set of fixes for using octane with deployment graphs\n\nChange-Id: I82088a81545b2cdd36663e6a64612b2a186e00e1\n'}, {'number': 5, 'created': '2016-07-29 09:15:10.000000000', 'files': ['octane/deployment_graphs/upgrade/controller/puppet_manifests/manifests/add_compute_upgrade_levels.pp', 'octane/deployment_graphs/upgrade/db/puppet_manifests/disable_apis.pp', 'octane/deployment_graphs/upgrade/controller/postdeploy.yaml', '.gitignore', 'octane/util/disk.py', 'octane/commands/upgrade_node.py', 'octane/magic_consts.py', 'octane/commands/upgrade_env.py', 'octane/util/__init__.py', 'octane/util/env.py', 'octane/deployment_graphs/upgrade/db/db.yaml', 'octane/deployment_graphs/upgrade/controller/predeploy.yaml', 'octane/handlers/upgrade/controller.py'], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/731459c3d0c79f1007756975a43d76b66cfb1e75', 'message': 'A set of fixes for using octane with deployment graphs\n\nChange-Id: I82088a81545b2cdd36663e6a64612b2a186e00e1\n'}]",0,337317,731459c3d0c79f1007756975a43d76b66cfb1e75,22,3,5,8786,,,0,"A set of fixes for using octane with deployment graphs

Change-Id: I82088a81545b2cdd36663e6a64612b2a186e00e1
",git fetch https://review.opendev.org/openstack/fuel-octane refs/changes/17/337317/5 && git format-patch -1 --stdout FETCH_HEAD,"['octane/deployment_graphs/upgrade/controller/puppet_manifests/manifests/add_compute_upgrade_levels.pp', 'octane/deployment_graphs/upgrade/db/puppet_manifests/disable_apis.pp', 'octane/deployment_graphs/upgrade/controller/postdeploy.yaml', '.gitignore', 'octane/deployment_graphs/upgrade/controller/predeploy.yaml', 'octane/commands/upgrade_env.py', 'octane/util/__init__.py', 'octane/util/env.py', 'octane/deployment_graphs/upgrade/db/db.yaml']",9,b9bc4746e906beb5dc271423ebcd45d22d74c63c,octane_needs,- id: delete_fuel_resources type: puppet parameters: puppet_manifest: delete_fuel_resources - id: disable_apis type: puppet parameters: puppet_manifest: disable_apis.pp - id: disable_corosync_services node_id: old_controllers - id: db_backup type: puppet node_id: - id: db_restore - id: db_sync ,,74,35
openstack%2Fpython-fuelclient~master~I14e24351927b85e0537d58d6755496d2ca410c20,openstack/python-fuelclient,master,I14e24351927b85e0537d58d6755496d2ca410c20,A set of fixes for octane support,ABANDONED,2016-07-04 16:34:20.000000000,2016-08-12 10:57:42.000000000,,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-07-04 16:34:20.000000000', 'files': ['fuelclient/objects/environment.py', 'fuelclient/objects/release.py', 'fuelclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/7e6115df8b55033939e7af7fffd83a0685db8879', 'message': 'A set of fixes for octane support\n\nChange-Id: I14e24351927b85e0537d58d6755496d2ca410c20\n'}]",2,337316,7e6115df8b55033939e7af7fffd83a0685db8879,11,5,1,8786,,,0,"A set of fixes for octane support

Change-Id: I14e24351927b85e0537d58d6755496d2ca410c20
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/16/337316/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/objects/environment.py', 'fuelclient/objects/release.py', 'fuelclient/client.py']",3,7e6115df8b55033939e7af7fffd83a0685db8879,octane_needs," def patch_request(self, api, data, **params): """"""Make PATCH request to specific API with some data. :param api: API endpoint (path) :param data: Data send in request, will be serialized to JSON :param params: Params of query string """""" url = self.api_root + api data_json = json.dumps(data) resp = self.session.patch(url, data=data_json, params=params) self.print_debug('PUT {0} data={1}'.format(resp.url, data_json)) self._raise_for_status_with_info(resp) return resp.json() ",,37,0
openstack%2Fpython-fuelclient~stable%2Fmitaka~Iedf0a502b010123047e556f1d46f77e1daa5bdbe,openstack/python-fuelclient,stable/mitaka,Iedf0a502b010123047e556f1d46f77e1daa5bdbe,Add new CLI commands for managing cluster facts,MERGED,2016-08-11 14:31:37.000000000,2016-08-12 10:55:19.000000000,2016-08-12 10:47:16.000000000,"[{'_account_id': 3}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 17877}, {'_account_id': 18446}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-11 14:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/35d8b4d0412d17654f9e0a54f53f03884cedfe89', 'message': 'Add new CLI commands for managing cluster facts\n\nThis patch introduces the following commands to the new fuel2\nCLI:\n\n  - fuel2 env deployment-facts delete\n  - fuel2 env deployment-facts download\n  - fuel2 env deployment-facts get-default\n  - fuel2 env deployment-facts upload\n  - fuel2 env provisioning-facts delete\n  - fuel2 env provisioning-facts download\n  - fuel2 env provisioning-facts get-default\n  - fuel2 env provisioning-facts upload\n\nDocImpact\n\nChange-Id: Iedf0a502b010123047e556f1d46f77e1daa5bdbe\n'}, {'number': 2, 'created': '2016-08-11 15:56:36.000000000', 'files': ['fuelclient/tests/unit/v2/cli/test_env.py', 'fuelclient/commands/environment.py', 'fuelclient/tests/unit/v2/lib/test_environment.py', 'fuelclient/common/data_utils.py', 'setup.cfg', 'fuelclient/v1/environment.py'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/b5cfe0ddfcf3769a6600e29d69d4f78c76c848a6', 'message': 'Add new CLI commands for managing cluster facts\n\nThis patch introduces the following commands to the new fuel2\nCLI:\n\n  - fuel2 env deployment-facts delete\n  - fuel2 env deployment-facts download\n  - fuel2 env deployment-facts get-default\n  - fuel2 env deployment-facts upload\n  - fuel2 env provisioning-facts delete\n  - fuel2 env provisioning-facts download\n  - fuel2 env provisioning-facts get-default\n  - fuel2 env provisioning-facts upload\n\nDocImpact\n\nChange-Id: Iedf0a502b010123047e556f1d46f77e1daa5bdbe\n'}]",0,354118,b5cfe0ddfcf3769a6600e29d69d4f78c76c848a6,26,7,2,6623,,,0,"Add new CLI commands for managing cluster facts

This patch introduces the following commands to the new fuel2
CLI:

  - fuel2 env deployment-facts delete
  - fuel2 env deployment-facts download
  - fuel2 env deployment-facts get-default
  - fuel2 env deployment-facts upload
  - fuel2 env provisioning-facts delete
  - fuel2 env provisioning-facts download
  - fuel2 env provisioning-facts get-default
  - fuel2 env provisioning-facts upload

DocImpact

Change-Id: Iedf0a502b010123047e556f1d46f77e1daa5bdbe
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/18/354118/2 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/tests/unit/v2/cli/test_env.py', 'fuelclient/commands/environment.py', 'fuelclient/tests/unit/v2/lib/test_environment.py', 'fuelclient/common/data_utils.py', 'setup.cfg', 'fuelclient/v1/environment.py']",6,35d8b4d0412d17654f9e0a54f53f03884cedfe89,deprecate_old_cli," @staticmethod def _get_fact_url(env_id, fact_type, nodes=None, default=False): return ""clusters/{id}/orchestrator/{fact_type}{default}{nodes}"".format( id=env_id, fact_type=fact_type, default=""/defaults"" if default else '', nodes=""/?nodes={}"".format( "","".join(map(str, nodes))) if nodes else '' ) def delete_facts(self, env_id, fact_type): return self.connection.delete_request( self._get_fact_url(env_id, fact_type)) def download_facts(self, env_id, fact_type, nodes=None, default=False): return self.connection.get_request(self._get_fact_url( env_id, fact_type, nodes=nodes, default=default)) def upload_facts(self, env_id, fact_type, facts): return self.connection.put_request( self._get_fact_url(env_id, fact_type), facts) ",,613,6
openstack%2Fpython-fuelclient~stable%2Fmitaka~I8f84761c0f114d78d2c67d40e8c4b24bfd3fc273,openstack/python-fuelclient,stable/mitaka,I8f84761c0f114d78d2c67d40e8c4b24bfd3fc273,Add fuel2 commands for node interfaces and disks,MERGED,2016-08-11 14:31:37.000000000,2016-08-12 10:54:47.000000000,2016-08-12 10:47:00.000000000,"[{'_account_id': 3}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 18446}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-11 14:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/df5cb98bc53079b9887f5e583527ee10d68736a3', 'message': 'Add fuel2 commands for node interfaces and disks\n\nThis patch adds commands that allow to download and upload\nconfiguration of interfaces and disks for a node:\n\n - fuel2 node interfaces download\n - fuel2 node interfaces upload\n - fuel2 node interfaces get-default\n - fuel2 node disk upload\n - fuel2 node disk download\n - fuel2 node disk get-default\n\nDocImpact\n\nChange-Id: I8f84761c0f114d78d2c67d40e8c4b24bfd3fc273\n'}, {'number': 2, 'created': '2016-08-11 15:56:36.000000000', 'files': ['fuelclient/tests/unit/v2/lib/test_node.py', 'fuelclient/tests/unit/v2/cli/test_node.py', 'fuelclient/commands/node.py', 'setup.cfg', 'fuelclient/v1/node.py'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/038273b6acb812461abe47dc818ad27ec17bfeec', 'message': 'Add fuel2 commands for node interfaces and disks\n\nThis patch adds commands that allow to download and upload\nconfiguration of interfaces and disks for a node:\n\n - fuel2 node interfaces download\n - fuel2 node interfaces upload\n - fuel2 node interfaces get-default\n - fuel2 node disk upload\n - fuel2 node disk download\n - fuel2 node disk get-default\n\nDocImpact\n\nChange-Id: I8f84761c0f114d78d2c67d40e8c4b24bfd3fc273\n'}]",0,354116,038273b6acb812461abe47dc818ad27ec17bfeec,29,6,2,6623,,,0,"Add fuel2 commands for node interfaces and disks

This patch adds commands that allow to download and upload
configuration of interfaces and disks for a node:

 - fuel2 node interfaces download
 - fuel2 node interfaces upload
 - fuel2 node interfaces get-default
 - fuel2 node disk upload
 - fuel2 node disk download
 - fuel2 node disk get-default

DocImpact

Change-Id: I8f84761c0f114d78d2c67d40e8c4b24bfd3fc273
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/16/354116/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/tests/unit/v2/lib/test_node.py', 'fuelclient/tests/unit/v2/cli/test_node.py', 'fuelclient/commands/node.py', 'setup.cfg', 'fuelclient/v1/node.py']",5,df5cb98bc53079b9887f5e583527ee10d68736a3,deprecate_old_cli," def get_disks(self, node_id): """"""Download configuration of disks for a node :param node_id: Id of a node. :return: dict with the configuration of disks for the node. """""" node = self._entity_wrapper(node_id) return node.get_attribute('disks') def get_default_disks(self, node_id): """"""Download default configuration of disks for a node :param node_id: Id of a node. :return: dict with the default configuration of disks for the node. """""" node = self._entity_wrapper(node_id) return node.get_default_attribute('disks') def set_disks(self, node_id, disks): """"""Upload and set configuration of disks for a node :param node_id: Id of a node. :param interfaces: dict that contains valid configuration for disks """""" node = self._entity_wrapper(node_id) return node.upload_node_attribute('disks', disks) def get_interfaces(self, node_id): """"""Download configuration of interfaces for a node :param node_id: Id of a node. :return: dict with the configuration of interfaces for the node. """""" node = self._entity_wrapper(node_id) return node.get_attribute('interfaces') def get_default_interfaces(self, node_id): """"""Download default configuration of interfaces for a node :param node_id: Id of a node. :return: dict with the configuration of interfaces for the node. """""" node = self._entity_wrapper(node_id) return node.get_default_attribute('interfaces') def set_interfaces(self, node_id, interfaces): """"""Upload and set configuration of interfaces for a node :param node_id: Id of a node. :param interfaces: dict that contains valid configuration for interfaces """""" node = self._entity_wrapper(node_id) return node.upload_node_attribute('interfaces', interfaces) ",,553,0
openstack%2Fpython-fuelclient~stable%2Fmitaka~I06e5fb881ef1984d0aeeba9be8236c8fa8717a8a,openstack/python-fuelclient,stable/mitaka,I06e5fb881ef1984d0aeeba9be8236c8fa8717a8a,Allow provisioning and deployment of nodes in fuel2,MERGED,2016-08-11 14:31:37.000000000,2016-08-12 10:54:30.000000000,2016-08-12 10:46:48.000000000,"[{'_account_id': 3}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 18446}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-11 14:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/9dc87c9ca8b5e653a00f8afd7346275e96217eba', 'message': 'Allow provisioning and deployment of nodes in fuel2\n\nThis patch allows to start provisioning or deployment tasks\nfor specified nodes within an environment using the following\ncommands:\n\n - fuel2 environment nodes deploy\n - fuel2 environment nodes provision\n\nDocImpact\n\nChange-Id: I06e5fb881ef1984d0aeeba9be8236c8fa8717a8a\n'}, {'number': 2, 'created': '2016-08-11 15:56:36.000000000', 'files': ['fuelclient/tests/unit/v2/cli/test_env.py', 'fuelclient/commands/environment.py', 'fuelclient/tests/unit/v2/lib/test_environment.py', 'setup.cfg', 'fuelclient/v1/environment.py'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/9d7d0f697d709c37aa6e499edabbf5a8943295d9', 'message': 'Allow provisioning and deployment of nodes in fuel2\n\nThis patch allows to start provisioning or deployment tasks\nfor specified nodes within an environment using the following\ncommands:\n\n - fuel2 environment nodes deploy\n - fuel2 environment nodes provision\n\nDocImpact\n\nChange-Id: I06e5fb881ef1984d0aeeba9be8236c8fa8717a8a\n'}]",0,354114,9d7d0f697d709c37aa6e499edabbf5a8943295d9,25,6,2,6623,,,0,"Allow provisioning and deployment of nodes in fuel2

This patch allows to start provisioning or deployment tasks
for specified nodes within an environment using the following
commands:

 - fuel2 environment nodes deploy
 - fuel2 environment nodes provision

DocImpact

Change-Id: I06e5fb881ef1984d0aeeba9be8236c8fa8717a8a
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/14/354114/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/tests/unit/v2/cli/test_env.py', 'fuelclient/commands/environment.py', 'fuelclient/tests/unit/v2/lib/test_environment.py', 'setup.cfg', 'fuelclient/v1/environment.py']",5,9dc87c9ca8b5e653a00f8afd7346275e96217eba,deprecate_old_cli," provision_nodes_url = 'clusters/{env_id}/provision/?nodes={nodes}' deploy_nodes_url = 'clusters/{env_id}/deploy/?nodes={nodes}' def provision_nodes(self, environment_id, node_ids): """"""Provision specified nodes for the specified environment."""""" nodes = ','.join(str(i) for i in node_ids) uri = self.provision_nodes_url.format(env_id=environment_id, nodes=nodes) return self.connection.put_request(uri, {}) def deploy_nodes(self, environment_id, node_ids): """"""Deploy specified nodes for the specified environment."""""" nodes = ','.join(str(i) for i in node_ids) uri = self.deploy_nodes_url.format(env_id=environment_id, nodes=nodes) return self.connection.put_request(uri, {}) ",,139,0
openstack%2Fpython-mistralclient~master~I3369c3314a46fc8a888799d9c1b4d369bff00046,openstack/python-mistralclient,master,I3369c3314a46fc8a888799d9c1b4d369bff00046,Add target-* parameters to python-mistralclient,MERGED,2016-08-05 07:25:40.000000000,2016-08-12 10:53:41.000000000,2016-08-12 10:53:41.000000000,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 18238}]","[{'number': 1, 'created': '2016-08-05 07:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/6007d63b0372ac2a8055983d5a323c6c60da371a', 'message': 'Add target-* parameters to python-mistralclient\n\nChange-Id: I3369c3314a46fc8a888799d9c1b4d369bff00046\nImplements: blueprint mistral-multi-vim-support\nSigned-off-by: Andras Kovi <akovi@nokia.com>\n'}, {'number': 2, 'created': '2016-08-05 09:01:41.000000000', 'files': ['mistralclient/tests/unit/test_client.py', 'mistralclient/api/client.py', 'mistralclient/shell.py', 'mistralclient/tests/unit/test_httpclient.py', 'mistralclient/api/httpclient.py', 'mistralclient/api/v2/client.py'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/fa778e9ff5316c0615afec8ab35b4ccdc4e86ac7', 'message': 'Add target-* parameters to python-mistralclient\n\nChange-Id: I3369c3314a46fc8a888799d9c1b4d369bff00046\nImplements: blueprint mistral-multi-vim-support\nSigned-off-by: Andras Kovi <akovi@nokia.com>\n'}]",0,351536,fa778e9ff5316c0615afec8ab35b4ccdc4e86ac7,17,3,2,21970,,,0,"Add target-* parameters to python-mistralclient

Change-Id: I3369c3314a46fc8a888799d9c1b4d369bff00046
Implements: blueprint mistral-multi-vim-support
Signed-off-by: Andras Kovi <akovi@nokia.com>
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/36/351536/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistralclient/api/client.py', 'mistralclient/shell.py', 'mistralclient/tests/unit/test_httpclient.py', 'mistralclient/api/httpclient.py', 'mistralclient/api/v2/client.py']",5,6007d63b0372ac2a8055983d5a323c6c60da371a,bp/mistral-multi-vim-support," client_secret=None, target_username=None, target_api_key=None, target_project_name=None, target_auth_url=None, target_project_id=None, target_auth_token=None, target_user_id=None, target_cacert=None, target_insecure=False, **kwargs): if target_auth_url: (target_mistral_url, target_auth_token, target_project_id, target_user_id) = ( self.authenticate( mistral_url, target_username, target_api_key, target_project_name, target_auth_url, target_project_id, endpoint_type, service_type, target_auth_token, target_user_id, target_cacert, target_insecure ) ) target_token=target_auth_token, target_auth_uri=target_auth_url,"," client_secret=None, **kwargs):",153,3
openstack%2Fpython-fuelclient~stable%2Fmitaka~I886c3e342576fb8f9493ecfc879c08473288e25b,openstack/python-fuelclient,stable/mitaka,I886c3e342576fb8f9493ecfc879c08473288e25b,Add new CLI commands for managing cluster networks and settings,MERGED,2016-08-11 14:31:37.000000000,2016-08-12 10:52:25.000000000,2016-08-12 10:46:53.000000000,"[{'_account_id': 3}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 18446}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-11 14:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/27663c04b985b7b9bae9d632a0de5cdf6a82a043', 'message': 'Add new CLI commands for managing cluster networks and settings\n\nThis patch introduces the following commands to the new fuel2\nCLI:\n\n  - fuel2 env network download\n  - fuel2 env network upload\n  - fuel2 env network verify\n  - fuel2 env settings download\n  - fuel2 env settings upload\n\nDocImpact\n\nChange-Id: I886c3e342576fb8f9493ecfc879c08473288e25b\n'}, {'number': 2, 'created': '2016-08-11 15:56:36.000000000', 'files': ['fuelclient/tests/unit/v2/cli/test_env.py', 'fuelclient/tests/unit/v2/cli/test_engine.py', 'fuelclient/commands/environment.py', 'fuelclient/tests/unit/v2/cli/test_node.py', 'fuelclient/tests/unit/v2/lib/test_environment.py', 'fuelclient/commands/node.py', 'fuelclient/tests/utils/__init__.py', 'setup.cfg', 'fuelclient/commands/base.py', 'fuelclient/tests/utils/fake_additional_info.py', 'fuelclient/v1/environment.py'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/bcb735a3ab9808cc1bf5f23e378847f0fed1d887', 'message': 'Add new CLI commands for managing cluster networks and settings\n\nThis patch introduces the following commands to the new fuel2\nCLI:\n\n  - fuel2 env network download\n  - fuel2 env network upload\n  - fuel2 env network verify\n  - fuel2 env settings download\n  - fuel2 env settings upload\n\nDocImpact\n\nChange-Id: I886c3e342576fb8f9493ecfc879c08473288e25b\n'}]",0,354115,bcb735a3ab9808cc1bf5f23e378847f0fed1d887,30,6,2,6623,,,0,"Add new CLI commands for managing cluster networks and settings

This patch introduces the following commands to the new fuel2
CLI:

  - fuel2 env network download
  - fuel2 env network upload
  - fuel2 env network verify
  - fuel2 env settings download
  - fuel2 env settings upload

DocImpact

Change-Id: I886c3e342576fb8f9493ecfc879c08473288e25b
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/15/354115/2 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/tests/unit/v2/cli/test_engine.py', 'fuelclient/tests/unit/v2/cli/test_env.py', 'fuelclient/commands/environment.py', 'fuelclient/tests/unit/v2/cli/test_node.py', 'fuelclient/tests/unit/v2/lib/test_environment.py', 'fuelclient/commands/node.py', 'fuelclient/tests/utils/__init__.py', 'setup.cfg', 'fuelclient/commands/base.py', 'fuelclient/tests/utils/fake_additional_info.py', 'fuelclient/v1/environment.py']",11,27663c04b985b7b9bae9d632a0de5cdf6a82a043,deprecate_old_cli," def get_network_configuration(self, environment_id): env = self._entity_wrapper(environment_id) return env.get_network_data() def set_network_configuration(self, environment_id, new_configuration): env = self._entity_wrapper(environment_id) env.set_network_data(new_configuration) def verify_network(self, environment_id): """"""Start network verification for an environment."""""" env = self._entity_wrapper(environment_id) return env.verify_network() def get_settings(self, environment_id): env = self._entity_wrapper(environment_id) return env.get_settings_data() def set_settings(self, environment_id, new_configuration, force=False): env = self._entity_wrapper(environment_id) env.set_settings_data(new_configuration, force=force) ",,579,68
openstack%2Fpython-fuelclient~stable%2Fmitaka~I4c89a0ca2c606228b9dd35d8c1524bd005f320e7,openstack/python-fuelclient,stable/mitaka,I4c89a0ca2c606228b9dd35d8c1524bd005f320e7,Add 'fuel2 release component list' command,MERGED,2016-08-11 14:31:37.000000000,2016-08-12 10:50:51.000000000,2016-08-12 10:45:19.000000000,"[{'_account_id': 3}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 18446}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-11 14:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/470e78a6414f628d6effbc2b45be23e2979878e9', 'message': ""Add 'fuel2 release component list' command\n\nIn Nailgun there is an API call for getting JSON data\nof compatible components for release and all plugins\nreleated with it (GET /api/v1/releases/<:id>/components/).\nThis patch adds new fuel2 command, e.g.:\n\n       fuel2 release component list 1\n\nThis command prints list of components for given Fuel release\nwith respective cross-dependencies\n\nAlso contains the following required changes:\n - Ic78845dbde5cef7ba0463a4f8adaca85069bcf61\n\nDocImpact\nCloses-Bug: 1600501\nCloses-Bug: 1600672\n\nChange-Id: I4c89a0ca2c606228b9dd35d8c1524bd005f320e7\n""}, {'number': 2, 'created': '2016-08-11 15:56:36.000000000', 'files': ['fuelclient/tests/unit/common/test_release.py', 'fuelclient/objects/release.py', 'fuelclient/tests/unit/v2/lib/test_release.py', 'fuelclient/tests/utils/fake_release.py', 'fuelclient/tests/utils/__init__.py', 'fuelclient/commands/release.py', 'setup.cfg', 'fuelclient/v1/release.py', 'fuelclient/tests/unit/v2/cli/test_release.py'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/02b666940b361d9dd0747d4c44907d407232d022', 'message': ""Add 'fuel2 release component list' command\n\nIn Nailgun there is an API call for getting JSON data\nof compatible components for release and all plugins\nreleated with it (GET /api/v1/releases/<:id>/components/).\nThis patch adds new fuel2 command, e.g.:\n\n       fuel2 release component list 1\n\nThis command prints list of components for given Fuel release\nwith respective cross-dependencies\n\nAlso contains the following required changes:\n - Ic78845dbde5cef7ba0463a4f8adaca85069bcf61\n\nDocImpact\nCloses-Bug: 1600501\nCloses-Bug: 1600672\n\nChange-Id: I4c89a0ca2c606228b9dd35d8c1524bd005f320e7\n""}]",0,354113,02b666940b361d9dd0747d4c44907d407232d022,24,6,2,6623,,,0,"Add 'fuel2 release component list' command

In Nailgun there is an API call for getting JSON data
of compatible components for release and all plugins
releated with it (GET /api/v1/releases/<:id>/components/).
This patch adds new fuel2 command, e.g.:

       fuel2 release component list 1

This command prints list of components for given Fuel release
with respective cross-dependencies

Also contains the following required changes:
 - Ic78845dbde5cef7ba0463a4f8adaca85069bcf61

DocImpact
Closes-Bug: 1600501
Closes-Bug: 1600672

Change-Id: I4c89a0ca2c606228b9dd35d8c1524bd005f320e7
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/13/354113/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/objects/release.py', 'fuelclient/tests/unit/common/test_release.py', 'fuelclient/tests/unit/v2/lib/test_release.py', 'fuelclient/tests/utils/fake_release.py', 'fuelclient/tests/utils/__init__.py', 'fuelclient/commands/release.py', 'setup.cfg', 'fuelclient/v1/release.py', 'fuelclient/tests/unit/v2/cli/test_release.py']",9,470e78a6414f628d6effbc2b45be23e2979878e9,deprecate_old_cli," self.m_client.get_components_by_id.return_value = \ fake_release.get_fake_release_components(10) def test_release_component_list(self): release_id = 42 args = 'release component list {0}'.format(release_id) self.exec_command(args) self.m_client.get_components_by_id.assert_called_once_with(release_id) self.m_get_client.assert_called_once_with('release', mock.ANY)",,310,0
openstack%2Fpython-fuelclient~stable%2Fmitaka~I61d0b635f72d4c68c10aced58c6823857c6c0eea,openstack/python-fuelclient,stable/mitaka,I61d0b635f72d4c68c10aced58c6823857c6c0eea,Add fuel2 commands to undiscover nodes,MERGED,2016-08-11 14:31:37.000000000,2016-08-12 10:50:13.000000000,2016-08-12 10:47:11.000000000,"[{'_account_id': 3}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 18446}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-11 14:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/fb73e479e0266308d38002b552f46cd1bcd49878', 'message': 'Add fuel2 commands to undiscover nodes\n\nRelease new fuel2 commands that allow to undiscover\n(delete from database) nodes regardless of their\nstate (-f/--force flag), e.g.:\n\n   fuel2 node undiscover [-h] (-e ENV | -n NODE) [-f]\n\nDocImpact\n\nChange-Id: I61d0b635f72d4c68c10aced58c6823857c6c0eea\n'}, {'number': 2, 'created': '2016-08-11 15:56:36.000000000', 'files': ['fuelclient/tests/unit/v2/lib/test_node.py', 'fuelclient/tests/unit/v2/cli/test_node.py', 'fuelclient/commands/node.py', 'setup.cfg', 'fuelclient/objects/node.py', 'fuelclient/v1/node.py'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/5353de7848e6f67fd30f374ea7604cb867b34d9e', 'message': 'Add fuel2 commands to undiscover nodes\n\nRelease new fuel2 commands that allow to undiscover\n(delete from database) nodes regardless of their\nstate (-f/--force flag), e.g.:\n\n   fuel2 node undiscover [-h] (-e ENV | -n NODE) [-f]\n\nDocImpact\n\nChange-Id: I61d0b635f72d4c68c10aced58c6823857c6c0eea\n'}]",0,354117,5353de7848e6f67fd30f374ea7604cb867b34d9e,25,6,2,6623,,,0,"Add fuel2 commands to undiscover nodes

Release new fuel2 commands that allow to undiscover
(delete from database) nodes regardless of their
state (-f/--force flag), e.g.:

   fuel2 node undiscover [-h] (-e ENV | -n NODE) [-f]

DocImpact

Change-Id: I61d0b635f72d4c68c10aced58c6823857c6c0eea
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/17/354117/2 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/tests/unit/v2/lib/test_node.py', 'fuelclient/tests/unit/v2/cli/test_node.py', 'fuelclient/commands/node.py', 'setup.cfg', 'fuelclient/objects/node.py', 'fuelclient/v1/node.py']",6,fb73e479e0266308d38002b552f46cd1bcd49878,deprecate_old_cli," if environment_id is not None: result = self._entity_wrapper.get_by_env_id( cluster_id=environment_id) else: result = self._entity_wrapper.get_all_data() def undiscover_nodes(self, env_id=None, node_id=None, force=False): """"""Delete nodes from database. If node_id is None then all nodes from specified environment will be deleted. :param env_id: Id of env to delete nodes from database :type env_id: int :param node_id: Id of node to delete from database :type node_id: int :param force: Forces deletion of nodes regardless of their state :type force: bool :returns: list -- ids of nodes that were deleted from database """""" nodes = [] if node_id is not None: nodes.append(self._entity_wrapper(obj_id=node_id).data) elif env_id is not None: nodes.extend(self.get_all(environment_id=env_id)) if not nodes: raise error.ActionException( ""Cluster with id {0} does not exist or "" ""does not contain any nodes"".format(env_id) ) else: raise ValueError('Expected either env_id or node_id args') # If 'force' flag is not specified then check nodes status if not force: online_nodes = [node for node in nodes if node['online']] if online_nodes: raise error.ActionException( ""Nodes with ids {0} cannot be deleted from database "" ""because they are online. You might want to use the "" ""--force option."".format( [node['id'] for node in online_nodes])) node_ids = [node['id'] for node in nodes] objects.NodeCollection.delete_by_ids(node_ids) return node_ids ", result = self._entity_wrapper.get_all_data() if environment_id is not None: result = [item for item in result if item['cluster'] == environment_id],188,4
openstack%2Ffuel-qa~stable%2Fmitaka~Iecceeeca4d7156b1143711ae9210ceb0d497b4c8,openstack/fuel-qa,stable/mitaka,Iecceeeca4d7156b1143711ae9210ceb0d497b4c8,Update expected exception in set_custom_hostname_for_provisioned_node,MERGED,2016-08-12 10:01:43.000000000,2016-08-12 10:48:19.000000000,2016-08-12 10:48:19.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 19119}]","[{'number': 1, 'created': '2016-08-12 10:01:43.000000000', 'files': ['fuelweb_test/tests/test_custom_hostname.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/c5d37e9f0332d43d8253b236d8aab9c132159f4c', 'message': 'Update expected exception in set_custom_hostname_for_provisioned_node\n\nChange-Id: Iecceeeca4d7156b1143711ae9210ceb0d497b4c8\nCloses-Bug: #1611005\nDepends-On: I755ca0e1c404b0adc35282d4d69639a7ba80db92\n(cherry picked from commit 059b947a7bb664b57847e70db746fa20cd96508b)\n'}]",0,354628,c5d37e9f0332d43d8253b236d8aab9c132159f4c,11,4,1,15692,,,0,"Update expected exception in set_custom_hostname_for_provisioned_node

Change-Id: Iecceeeca4d7156b1143711ae9210ceb0d497b4c8
Closes-Bug: #1611005
Depends-On: I755ca0e1c404b0adc35282d4d69639a7ba80db92
(cherry picked from commit 059b947a7bb664b57847e70db746fa20cd96508b)
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/28/354628/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_custom_hostname.py'],1,c5d37e9f0332d43d8253b236d8aab9c132159f4c,bug/1611005,"from keystoneauth1 import exceptions as http_exceptions http_exceptions.BadRequest, http_exceptions.Conflict, http_exceptions.Forbidden,","from keystoneauth1.exceptions import BadRequest, Conflict BadRequest, Conflict, # TODO(dkruglov): LP#1476722 BadRequest,",4,5
openstack%2Ffuel-qa~stable%2F8.0~I558e864240c9d8bed7e9acd4dd1406c33d066800,openstack/fuel-qa,stable/8.0,I558e864240c9d8bed7e9acd4dd1406c33d066800,Replace deprecated methods by it's successors,MERGED,2016-07-30 18:38:18.000000000,2016-08-12 10:42:32.000000000,2016-08-12 10:42:32.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9977}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 13505}, {'_account_id': 19119}]","[{'number': 1, 'created': '2016-07-30 18:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/b3fe13490c862032f4843edfaae6f46f498739ae', 'message': ""Replace deprecated methods by it's successors\n\nReplace deprecated methods by it's successors\nDrop stdout_len and stderr_len as useless and unused\n\nChange-Id: I558e864240c9d8bed7e9acd4dd1406c33d066800\nCloses-bug: #1604688\n(cherry picked from commit fadd06d)\n""}, {'number': 2, 'created': '2016-07-31 09:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/fd5e1bf0359f5c942ca193ee566605feddf53732', 'message': ""Replace deprecated methods by it's successors\n\nReplace deprecated methods by it's successors\nDrop stdout_len and stderr_len as useless and unused\n\nChange-Id: I558e864240c9d8bed7e9acd4dd1406c33d066800\nCloses-bug: #1604688\n(cherry picked from commit fadd06d)\n""}, {'number': 3, 'created': '2016-08-03 12:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/16bfd852e77b7164b203022e03868701cf425689', 'message': ""Replace deprecated methods by it's successors\n\nReplace deprecated methods by it's successors\nDrop stdout_len and stderr_len as useless and unused\n\nChange-Id: I558e864240c9d8bed7e9acd4dd1406c33d066800\nCloses-bug: #1604688\n(cherry picked from commit fadd06d)\n""}, {'number': 4, 'created': '2016-08-05 11:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/51998c77df7a2e1dca3019cb8d4cf1e34193fd55', 'message': ""Replace deprecated methods by it's successors\n\nReplace deprecated methods by it's successors\nDrop stdout_len and stderr_len as useless and unused\n\nChange-Id: I558e864240c9d8bed7e9acd4dd1406c33d066800\nCloses-bug: #1604688\n(cherry picked from commit fadd06d)\n""}, {'number': 5, 'created': '2016-08-12 06:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/ce75b96cca592ca360a6d9b255df742df0dbd678', 'message': ""Replace deprecated methods by it's successors\n\nReplace deprecated methods by it's successors\nDrop stdout_len and stderr_len as useless and unused\n\nChange-Id: I558e864240c9d8bed7e9acd4dd1406c33d066800\nCloses-bug: #1604688\n(cherry picked from commit fadd06d)\n""}, {'number': 6, 'created': '2016-08-12 06:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/e431d145cdc2e22615ab139e2d1f2f9c935e41fa', 'message': ""Replace deprecated methods by it's successors\n\nReplace deprecated methods by it's successors\nDrop stdout_len and stderr_len as useless and unused\n\nChange-Id: I558e864240c9d8bed7e9acd4dd1406c33d066800\nCloses-bug: #1604688\n(cherry picked from commit fadd06d)\n""}, {'number': 7, 'created': '2016-08-12 09:34:30.000000000', 'files': ['fuelweb_test/tests/tests_strength/test_cic_maintenance_mode.py', 'fuelweb_test/tests/test_rh_compute.py', 'fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/models/environment.py', 'fuelweb_test/helpers/ssh_manager.py', 'fuelweb_test/tests/tests_strength/test_failover_base.py', 'system_test/tests/plugins/plugin_example/test_plugin_example_v3.py', 'fuelweb_test/helpers/utils.py', 'gates_tests/helpers/utils.py', 'fuelweb_test/helpers/checkers.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/2820a0965e7da2376ea50d6a19e9cf096a54e055', 'message': ""Replace deprecated methods by it's successors\n\nReplace deprecated methods by it's successors\nDrop stdout_len and stderr_len as useless and unused\n\nChange-Id: I558e864240c9d8bed7e9acd4dd1406c33d066800\nCloses-bug: #1604688\n(cherry picked from commit fadd06d)\n""}]",0,349209,2820a0965e7da2376ea50d6a19e9cf096a54e055,46,10,7,19119,,,0,"Replace deprecated methods by it's successors

Replace deprecated methods by it's successors
Drop stdout_len and stderr_len as useless and unused

Change-Id: I558e864240c9d8bed7e9acd4dd1406c33d066800
Closes-bug: #1604688
(cherry picked from commit fadd06d)
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/09/349209/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/tests/tests_strength/test_cic_maintenance_mode.py', 'fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/models/environment.py', 'fuelweb_test/tests/tests_strength/test_failover_base.py', 'system_test/tests/plugins/plugin_example/test_plugin_example_v3.py', 'gates_tests/helpers/utils.py', 'fuelweb_test/helpers/checkers.py']",7,b3fe13490c862032f4843edfaae6f46f498739ae,cluster_up,"from devops.helpers.helpers import wait_pass wait_pass(lambda: assert_equal( remote.execute(check_crm_cmd)['exit_code'], 0, 'MySQL resource is NOT running on {0}'.format( node_name)), timeout=60)","from devops.helpers.helpers import _wait _wait(lambda: assert_equal(remote.execute(check_crm_cmd)['exit_code'], 0, 'MySQL resource is NOT running on {0}'.format( node_name)), timeout=60)",59,58
openstack%2Fheat~master~I46c3e5a9fe367907305dde27a2f47fb9ea787b4f,openstack/heat,master,I46c3e5a9fe367907305dde27a2f47fb9ea787b4f,Updated from global requirements,MERGED,2016-08-12 04:48:52.000000000,2016-08-12 10:35:20.000000000,2016-08-12 10:35:20.000000000,"[{'_account_id': 3}, {'_account_id': 8289}, {'_account_id': 12404}]","[{'number': 1, 'created': '2016-08-12 04:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bde61370021fc3b0e2ad30344e1799c9f4c29062', 'message': 'Updated from global requirements\n\nChange-Id: I46c3e5a9fe367907305dde27a2f47fb9ea787b4f\n'}, {'number': 2, 'created': '2016-08-12 05:56:41.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/6f3b9b7fcaad1f5d5545ee0323217643f8088e80', 'message': 'Updated from global requirements\n\nChange-Id: I46c3e5a9fe367907305dde27a2f47fb9ea787b4f\n'}]",0,354517,6f3b9b7fcaad1f5d5545ee0323217643f8088e80,12,3,2,11131,,,0,"Updated from global requirements

Change-Id: I46c3e5a9fe367907305dde27a2f47fb9ea787b4f
",git fetch https://review.opendev.org/openstack/heat refs/changes/17/354517/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,bde61370021fc3b0e2ad30344e1799c9f4c29062,openstack/requirements,oslo.db>=4.10.0 # Apache-2.0,oslo.db>=4.1.0 # Apache-2.0,1,1
openstack%2Ftricircle~master~I9281914bad482573c6540bf2a14e51e7ca4d744c,openstack/tricircle,master,I9281914bad482573c6540bf2a14e51e7ca4d744c,Fix az parameter handling in Nova API-GW and External Network,MERGED,2016-08-07 13:20:36.000000000,2016-08-12 10:34:58.000000000,2016-08-12 10:34:58.000000000,"[{'_account_id': 3}, {'_account_id': 11819}, {'_account_id': 12076}, {'_account_id': 17446}, {'_account_id': 18452}, {'_account_id': 19060}, {'_account_id': 19960}, {'_account_id': 21033}]","[{'number': 1, 'created': '2016-08-07 13:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/4782419f2be1ca36c3fbcd9e9c824039791ef83e', 'message': ""Fix az parameter handling in Nova API-GW\n\n1.What is the problem:\nIf availability zone (az in short) does not exit in the server creation\nrequest, 400 bad request was given in current handling, this handling is\nincorrect. In Nova, az is one optional parameter, i.e, even the az is\nnot speficied in the request, a scheduled az should be used for the\ncreation, but not return 400 bad request.\n\n2.What's need to be fixed:\nTo fix the issue, server creation should allow no az parameter in\nthe request, and select one default bottom pod to continue the server\ncreation.\n\n3.What is the purpose of this patch set:\nTo make the az handling behavior is consistent with that in Nova.\n\nChange-Id: I9281914bad482573c6540bf2a14e51e7ca4d744c\nSigned-off-by: joehuang <joehuang@huawei.com>\n""}, {'number': 2, 'created': '2016-08-08 08:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/bcc59355e1197e950c5fd08378d943147f5959ed', 'message': ""Fix az parameter handling in Nova API-GW and External Network\n\n1.What is the problem:\nIf availability zone (az in short) does not exit in the server creation\nrequest or extenal network, 400 bad request was given in current handling,\nthis handling is inconsistent with Nova and Neutron.In Nova and Neutron,\naz is one optional parameter, i.e, even the az is not speficied in the\nrequest, a scheduled az should be used for the creation, but not\nreturn 400 bad request.\n\n2.What's need to be fixed:\nTo fix the issue, server creation should allow no az parameter in\nthe request, and select one default bottom pod to continue the server\ncreation.\n\n3.What is the purpose of this patch set:\nTo make the az handling behavior is consistent with that in Nova and\nNeutron.\n\nChange-Id: I9281914bad482573c6540bf2a14e51e7ca4d744c\nSigned-off-by: joehuang <joehuang@huawei.com>\n""}, {'number': 3, 'created': '2016-08-08 09:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/ba1000e8c43f5ba030ea3feedaffd1e1f191f05a', 'message': ""Fix az parameter handling in Nova API-GW and External Network\n\n1.What is the problem:\nIf availability zone (az in short) does not exit in the server creation\nrequest or extenal network, 400 bad request was given in current handling,\nthis handling is inconsistent with Nova and Neutron.In Nova and Neutron,\naz is one optional parameter, i.e, even the az is not speficied in the\nrequest, a scheduled az should be used for the creation, but not\nreturn 400 bad request.\n\n2.What's need to be fixed:\nTo fix the issue, server creation should allow no az parameter in\nthe request, and select one default bottom pod to continue the server\ncreation.\n\n3.What is the purpose of this patch set:\nTo make the az handling behavior is consistent with that in Nova and\nNeutron.\n\nChange-Id: I9281914bad482573c6540bf2a14e51e7ca4d744c\nSigned-off-by: joehuang <joehuang@huawei.com>\n""}, {'number': 4, 'created': '2016-08-12 01:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/c66a05fe0f59bcdf2aabe91ec6cfc4319316e929', 'message': ""Fix az parameter handling in Nova API-GW and External Network\n\n1.What is the problem:\nIf availability zone (az in short) does not exit in the server creation\nrequest or extenal network, 400 bad request was given in current handling,\nthis handling is inconsistent with Nova and Neutron.In Nova and Neutron,\naz is one optional parameter, i.e, even the az is not speficied in the\nrequest, a scheduled az should be used for the creation, but not\nreturn 400 bad request.\n\n2.What's need to be fixed:\nTo fix the issue, server creation should allow no az parameter in\nthe request, and select one default bottom pod to continue the server\ncreation.\n\n3.What is the purpose of this patch set:\nTo make the az handling behavior is consistent with that in Nova and\nNeutron.\n\nChange-Id: I9281914bad482573c6540bf2a14e51e7ca4d744c\nSigned-off-by: joehuang <joehuang@huawei.com>\n""}, {'number': 5, 'created': '2016-08-12 06:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/8a275a6ee48dfdcf5c2b1d1aa9e3546288a53473', 'message': ""Fix az parameter handling in Nova API-GW and External Network\n\n1.What is the problem:\nIf availability zone (az in short) does not exit in the server creation\nrequest or extenal network, 400 bad request was given in current handling,\nthis handling is inconsistent with Nova and Neutron.In Nova and Neutron,\naz is one optional parameter, i.e, even the az is not speficied in the\nrequest, a scheduled az should be used for the creation, but not\nreturn 400 bad request.\n\n2.What's need to be fixed:\nTo fix the issue, server creation should allow no az parameter in\nthe request, and select one default bottom pod to continue the server\ncreation.\n\n3.What is the purpose of this patch set:\nTo make the az handling behavior is consistent with that in Nova and\nNeutron.\n\nChange-Id: I9281914bad482573c6540bf2a14e51e7ca4d744c\nSigned-off-by: joehuang <joehuang@huawei.com>\n""}, {'number': 6, 'created': '2016-08-12 09:10:59.000000000', 'files': ['tricircle/tests/unit/network/test_plugin.py', 'tricircle/nova_apigw/controllers/server.py', 'tricircle/network/plugin.py'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/419e02e786dead73d28b604d5a1a213d7c53ad04', 'message': ""Fix az parameter handling in Nova API-GW and External Network\n\n1.What is the problem:\nIf availability zone (az in short) does not exit in the server creation\nrequest or extenal network, 400 bad request was given in current handling,\nthis handling is inconsistent with Nova and Neutron.In Nova and Neutron,\naz is one optional parameter, i.e, even the az is not speficied in the\nrequest, a scheduled az should be used for the creation, but not\nreturn 400 bad request.\n\n2.What's need to be fixed:\nTo fix the issue, server creation should allow no az parameter in\nthe request, and select one default bottom pod to continue the server\ncreation.\n\n3.What is the purpose of this patch set:\nTo make the az handling behavior is consistent with that in Nova and\nNeutron.\n\nChange-Id: I9281914bad482573c6540bf2a14e51e7ca4d744c\nSigned-off-by: joehuang <joehuang@huawei.com>\n""}]",4,352080,419e02e786dead73d28b604d5a1a213d7c53ad04,23,8,6,11819,,,0,"Fix az parameter handling in Nova API-GW and External Network

1.What is the problem:
If availability zone (az in short) does not exit in the server creation
request or extenal network, 400 bad request was given in current handling,
this handling is inconsistent with Nova and Neutron.In Nova and Neutron,
az is one optional parameter, i.e, even the az is not speficied in the
request, a scheduled az should be used for the creation, but not
return 400 bad request.

2.What's need to be fixed:
To fix the issue, server creation should allow no az parameter in
the request, and select one default bottom pod to continue the server
creation.

3.What is the purpose of this patch set:
To make the az handling behavior is consistent with that in Nova and
Neutron.

Change-Id: I9281914bad482573c6540bf2a14e51e7ca4d744c
Signed-off-by: joehuang <joehuang@huawei.com>
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/80/352080/2 && git format-patch -1 --stdout FETCH_HEAD,['tricircle/nova_apigw/controllers/server.py'],1,4782419f2be1ca36c3fbcd9e9c824039791ef83e,nova_az," az = kw['server'].get('availability_zone', '') context, az, self.project_id)"," if 'availability_zone' not in kw['server']: return utils.format_nova_error( 400, _('availability zone is not set')) context, kw['server']['availability_zone'], self.project_id)",2,4
openstack%2Fcongress~master~I07339fff2a9d83fea78ad5d5d5758b14819bfe7a,openstack/congress,master,I07339fff2a9d83fea78ad5d5d5758b14819bfe7a,Updated from global requirements,MERGED,2016-08-12 04:48:08.000000000,2016-08-12 10:33:56.000000000,2016-08-12 10:33:56.000000000,"[{'_account_id': 3}, {'_account_id': 11278}]","[{'number': 1, 'created': '2016-08-12 04:48:08.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/congress/commit/551d59cd1f4aebc475c6602208045f0318b64123', 'message': 'Updated from global requirements\n\nChange-Id: I07339fff2a9d83fea78ad5d5d5758b14819bfe7a\n'}]",0,354514,551d59cd1f4aebc475c6602208045f0318b64123,10,2,1,11131,,,0,"Updated from global requirements

Change-Id: I07339fff2a9d83fea78ad5d5d5758b14819bfe7a
",git fetch https://review.opendev.org/openstack/congress refs/changes/14/354514/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,551d59cd1f4aebc475c6602208045f0318b64123,openstack/requirements,oslo.db>=4.10.0 # Apache-2.0,oslo.db>=4.1.0 # Apache-2.0,1,1
openstack%2Fgovernance~master~Ibd5f7903354ed070914635dce64fde68b2d3e814,openstack/governance,master,Ibd5f7903354ed070914635dce64fde68b2d3e814,Change tacker-horizon to type horizon-plugin,MERGED,2016-08-04 23:52:24.000000000,2016-08-12 10:33:39.000000000,2016-08-12 10:33:39.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 6159}, {'_account_id': 22132}]","[{'number': 1, 'created': '2016-08-04 23:52:24.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/312bea02cd9185db36e4f84ef6795dcf5d984d3b', 'message': 'Change tacker-horizon to type horizon-plugin\n\ntacker-horizon repo brings in horizon dashboard functionality\nfor tacker project. This patchset now correctly marks that of\ntype:horizon-plugin.\n\nChange-Id: Ibd5f7903354ed070914635dce64fde68b2d3e814\n'}]",0,351433,312bea02cd9185db36e4f84ef6795dcf5d984d3b,10,5,1,13380,,,0,"Change tacker-horizon to type horizon-plugin

tacker-horizon repo brings in horizon dashboard functionality
for tacker project. This patchset now correctly marks that of
type:horizon-plugin.

Change-Id: Ibd5f7903354ed070914635dce64fde68b2d3e814
",git fetch https://review.opendev.org/openstack/governance refs/changes/33/351433/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,312bea02cd9185db36e4f84ef6795dcf5d984d3b,tacker-horizon-type, tacker-horizon: repos: - openstack/tacker-horizon tags: - release:cycle-with-intermediary - type:horizon-plugin, - openstack/tacker-horizon,6,1
openstack%2Fgovernance~master~Ib075e76a202ec931a0d0b57c81270d3b3634cad9,openstack/governance,master,Ib075e76a202ec931a0d0b57c81270d3b3634cad9,Add common testing repo to OpenStack-Ansible,MERGED,2016-08-03 10:14:18.000000000,2016-08-12 10:33:33.000000000,2016-08-12 10:33:33.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 6816}]","[{'number': 1, 'created': '2016-08-03 10:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/59200b65914e8aa245f7796968bd12be2e421466', 'message': 'Add common testing repo to OpenStack-Ansible\n\nIn order to facilitate a common testing implementation across\nall roles instead of maintaining copies of the basic scaffolding\nacross multiple repositories, OpenStack-Ansible is implementing\na new repository to store the common scaffolding.\n\nDepends-On: Ib9a3fc36bc5cd8ff946dbe7fea77bc0df2b92b53\nChange-Id: Ib075e76a202ec931a0d0b57c81270d3b3634cad9\n'}, {'number': 2, 'created': '2016-08-05 14:59:31.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/21f33b2bc2e6e3fbf7d274fb42bf09ce1bcf826d', 'message': 'Add common testing repo to OpenStack-Ansible\n\nIn order to facilitate a common testing implementation across\nall roles instead of maintaining copies of the basic scaffolding\nacross multiple repositories, OpenStack-Ansible is implementing\na new repository to store the common scaffolding.\n\nDepends-On: Ib9a3fc36bc5cd8ff946dbe7fea77bc0df2b92b53\nChange-Id: Ib075e76a202ec931a0d0b57c81270d3b3634cad9\n'}]",4,350504,21f33b2bc2e6e3fbf7d274fb42bf09ce1bcf826d,13,5,2,6816,,,0,"Add common testing repo to OpenStack-Ansible

In order to facilitate a common testing implementation across
all roles instead of maintaining copies of the basic scaffolding
across multiple repositories, OpenStack-Ansible is implementing
a new repository to store the common scaffolding.

Depends-On: Ib9a3fc36bc5cd8ff946dbe7fea77bc0df2b92b53
Change-Id: Ib075e76a202ec931a0d0b57c81270d3b3634cad9
",git fetch https://review.opendev.org/openstack/governance refs/changes/04/350504/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,59200b65914e8aa245f7796968bd12be2e421466,openstack-ansible, openstack-ansible-tests: repos: - openstack/openstack-ansible-tests tags: - release:cycle-trailing,,5,0
openstack%2Fgovernance~master~Ic352e3af35ebc55a5ffb2ece50eae475c1171533,openstack/governance,master,Ic352e3af35ebc55a5ffb2ece50eae475c1171533,Add missing docs links for QA projects,MERGED,2016-08-02 21:03:35.000000000,2016-08-12 10:33:27.000000000,2016-08-12 10:33:27.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 964}, {'_account_id': 2472}, {'_account_id': 6159}, {'_account_id': 22165}]","[{'number': 1, 'created': '2016-08-02 21:03:35.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/a39e48176dcf84208d0df88f4f7881b53cff01c8', 'message': 'Add missing docs links for QA projects\n\nThis commit adds a few missing links for some QA projects which were\nmissed in the big patch to add them all.\n\nChange-Id: Ic352e3af35ebc55a5ffb2ece50eae475c1171533\n'}]",0,350270,a39e48176dcf84208d0df88f4f7881b53cff01c8,17,6,1,5196,,,0,"Add missing docs links for QA projects

This commit adds a few missing links for some QA projects which were
missed in the big patch to add them all.

Change-Id: Ic352e3af35ebc55a5ffb2ece50eae475c1171533
",git fetch https://review.opendev.org/openstack/governance refs/changes/70/350270/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,a39e48176dcf84208d0df88f4f7881b53cff01c8,, docs: contributor: http://docs.openstack.org/developer/bashate docs: contributor: http://docs.openstack.org/developer/grenade docs: contributor: http://docs.openstack.org/developer/os-testr docs: contributor: http://docs.openstack.org/developer/stackviz docs: contributor: http://docs.openstack.org/developer/tempest-lib,,10,0
openstack%2Fgovernance~master~I89531642053bd86c7b4102e5e8ed126c7878908c,openstack/governance,master,I89531642053bd86c7b4102e5e8ed126c7878908c,Add new errbot plugins/features/bots to openstack-infra,MERGED,2016-07-29 19:32:21.000000000,2016-08-12 10:33:19.000000000,2016-08-12 10:33:19.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 5263}, {'_account_id': 6159}]","[{'number': 1, 'created': '2016-07-29 19:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/1761e6bb0e8d0d6d89953fcf9835e19cadaad5cd', 'message': 'Add new errbot plugins/features/bots to openstack-infra\n\nThis deliverable will be composed of a central way to\nuse openstack bots and the plugins that compose them,\nmaking it so that we can have less variety of bots and\nmore common framework (and more!)\n\nThis is needed-by: https://review.openstack.org/#/c/348998/\n\nChange-Id: I89531642053bd86c7b4102e5e8ed126c7878908c\n'}, {'number': 2, 'created': '2016-07-29 21:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7fc173b728501dbfacd6d013a086a33197015f38', 'message': 'Add new errbot plugins/features/bots to openstack-infra\n\nThis deliverable will be composed of a central way to\nuse openstack bots and the plugins that compose them,\nmaking it so that we can have less variety of bots and\nmore common framework (and more!)\n\nThis is needed-by: https://review.openstack.org/#/c/348998/\n\nDepends-On: Ie078255c672e6e6dbb2c9f8373bdf79039c115e5\n\nChange-Id: I89531642053bd86c7b4102e5e8ed126c7878908c\n'}, {'number': 3, 'created': '2016-07-29 21:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/936437d5bcaa2dceccc28008ca2bffedaf1364b3', 'message': 'Add new errbot plugins/features/bots to openstack-infra\n\nThis deliverable will be composed of a central way to\nuse openstack bots and the plugins that compose them,\nmaking it so that we can have less variety of bots and\nmore common framework (and more!)\n\nDepends-On: Ie078255c672e6e6dbb2c9f8373bdf79039c115e5\n\nChange-Id: I89531642053bd86c7b4102e5e8ed126c7878908c\n'}, {'number': 4, 'created': '2016-08-01 20:53:06.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/e50527aa5d1ffe0933eed34b7ece87e4ebae186b', 'message': 'Add new errbot plugins/features/bots to openstack-infra\n\nThis deliverable will be composed of a central way to\nuse openstack bots and the plugins that compose them,\nmaking it so that we can have less variety of bots and\nmore common framework (and more!)\n\nDepends-On: Ie078255c672e6e6dbb2c9f8373bdf79039c115e5\n\nChange-Id: I89531642053bd86c7b4102e5e8ed126c7878908c\n'}]",2,349046,e50527aa5d1ffe0933eed34b7ece87e4ebae186b,20,6,4,1297,,,0,"Add new errbot plugins/features/bots to openstack-infra

This deliverable will be composed of a central way to
use openstack bots and the plugins that compose them,
making it so that we can have less variety of bots and
more common framework (and more!)

Depends-On: Ie078255c672e6e6dbb2c9f8373bdf79039c115e5

Change-Id: I89531642053bd86c7b4102e5e8ed126c7878908c
",git fetch https://review.opendev.org/openstack/governance refs/changes/46/349046/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,1761e6bb0e8d0d6d89953fcf9835e19cadaad5cd,, err2d2: repos: - openstack-infra/err2d2 tags: - release:none,,5,0
openstack%2Fpython-fuelclient~stable%2Fmitaka~I7f8ec1d8d75f323153153f09c489aef901046f57,openstack/python-fuelclient,stable/mitaka,I7f8ec1d8d75f323153153f09c489aef901046f57,Add common code for node attributes,MERGED,2016-08-11 14:31:37.000000000,2016-08-12 10:28:35.000000000,2016-08-12 10:20:41.000000000,"[{'_account_id': 3}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 18446}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-11 14:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/dc83d696a070760176bc41c7b3857e78747971da', 'message': 'Add common code for node attributes\n\nIn order to facilitace adding different CLI commands for\nmanaging different attributes of nodes there is a need to\nadd some common code that will allow to store and load\nattributes along with the code that allow to find proper\nfile path to them.\n\nChange-Id: I7f8ec1d8d75f323153153f09c489aef901046f57\n'}, {'number': 2, 'created': '2016-08-11 15:56:36.000000000', 'files': ['fuelclient/tests/unit/v2/cli/test_node.py', 'requirements.txt', 'fuelclient/commands/node.py', 'fuelclient/common/data_utils.py', 'fuelclient/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/f2b10c5002b373f2fd8dfa597a162484df3b67a4', 'message': 'Add common code for node attributes\n\nIn order to facilitace adding different CLI commands for\nmanaging different attributes of nodes there is a need to\nadd some common code that will allow to store and load\nattributes along with the code that allow to find proper\nfile path to them.\n\nChange-Id: I7f8ec1d8d75f323153153f09c489aef901046f57\n'}]",0,354112,f2b10c5002b373f2fd8dfa597a162484df3b67a4,26,6,2,6623,,,0,"Add common code for node attributes

In order to facilitace adding different CLI commands for
managing different attributes of nodes there is a need to
add some common code that will allow to store and load
attributes along with the code that allow to find proper
file path to them.

Change-Id: I7f8ec1d8d75f323153153f09c489aef901046f57
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/12/354112/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/tests/unit/v2/cli/test_node.py', 'requirements.txt', 'fuelclient/commands/node.py', 'fuelclient/common/data_utils.py', 'fuelclient/tests/unit/common/test_utils.py']",5,dc83d696a070760176bc41c7b3857e78747971da,deprecate_old_cli,"import yaml def test_safe_load_json(self): test_data = {'test_key': 'test_val'} m_open = mock.mock_open(read_data=json.dumps(test_data)) with mock.patch('fuelclient.tests.unit.common.test_utils.open', m_open): stream = open('/a/random/file', 'r') loaded = data_utils.safe_load('json', stream) self.assertEqual(test_data, loaded) def test_safe_load_yaml(self): test_data = {'test_key': 'test_val'} m_open = mock.mock_open(read_data=yaml.dump(test_data)) with mock.patch('fuelclient.tests.unit.common.test_utils.open', m_open): stream = open('/a/random/file', 'r') loaded = data_utils.safe_load('yaml', stream) self.assertEqual(test_data, loaded) @mock.patch('json.dump') def test_safe_dump_json(self, m_dump): test_data = {'test_key': 'test_val'} m_open = mock.mock_open() with mock.patch('fuelclient.tests.unit.common.test_utils.open', m_open): stream = open('/a/random/file', 'w') data_utils.safe_dump('json', stream, test_data) m_dump.assert_called_once_with(test_data, stream, indent=4) @mock.patch('yaml.safe_dump') def test_safe_dump_yaml(self, m_dump): test_data = {'test_key': 'test_val'} m_open = mock.mock_open() with mock.patch('fuelclient.tests.unit.common.test_utils.open', m_open): stream = open('/a/random/file', 'w') data_utils.safe_dump('yaml', stream, test_data) m_dump.assert_called_once_with(test_data, stream, default_flow_style=False) def test_safe_dump_wrong_format(self): test_data = {'test_key': 'test_val'} m_open = mock.mock_open() with mock.patch('fuelclient.tests.unit.common.test_utils.open', m_open): stream = open('/a/random/file', 'w') self.assertRaises(ValueError, data_utils.safe_dump, 'bad', stream, test_data) def test_safe_load_wrong_format(self): m_open = mock.mock_open() with mock.patch('fuelclient.tests.unit.common.test_utils.open', m_open): stream = open('/a/random/file', 'w') self.assertRaises(ValueError, data_utils.safe_load, 'bad', stream)",,182,0
openstack%2Fpython-fuelclient~stable%2Fmitaka~Ied9d69b98345318d7a92ca4c7093ac0424599cc3,openstack/python-fuelclient,stable/mitaka,Ied9d69b98345318d7a92ca4c7093ac0424599cc3,Release repos list/update,MERGED,2016-08-11 14:20:54.000000000,2016-08-12 10:27:54.000000000,2016-08-12 10:20:14.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 18446}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-11 14:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/39b94c95913b39eb887dc76223c061965af69e00', 'message': 'Release repos list/update\n\nFuel releases contain metadata including default\nset of rpm/deb repositories that are to be used\nduring cluster deployment. This change introduces\ncouple new subcommands that allow to view and change\nthe list of release repositories.\n\nDocImpact\nChange-Id: Ied9d69b98345318d7a92ca4c7093ac0424599cc3\nImplements: blueprint fuelclient-modify-release-repos\n'}, {'number': 2, 'created': '2016-08-11 15:56:36.000000000', 'files': ['fuelclient/v1/__init__.py', 'fuelclient/objects/release.py', 'fuelclient/tests/utils/fake_release.py', 'fuelclient/tests/utils/__init__.py', 'fuelclient/commands/release.py', 'setup.cfg', 'fuelclient/v1/release.py', 'fuelclient/tests/unit/v2/cli/test_release.py', 'fuelclient/__init__.py'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/5b2b85d93df98fb2649cb49030d2047059b011b2', 'message': 'Release repos list/update\n\nFuel releases contain metadata including default\nset of rpm/deb repositories that are to be used\nduring cluster deployment. This change introduces\ncouple new subcommands that allow to view and change\nthe list of release repositories.\n\nDocImpact\nChange-Id: Ied9d69b98345318d7a92ca4c7093ac0424599cc3\nImplements: blueprint fuelclient-modify-release-repos\n'}]",0,354105,5b2b85d93df98fb2649cb49030d2047059b011b2,26,7,2,6623,,,0,"Release repos list/update

Fuel releases contain metadata including default
set of rpm/deb repositories that are to be used
during cluster deployment. This change introduces
couple new subcommands that allow to view and change
the list of release repositories.

DocImpact
Change-Id: Ied9d69b98345318d7a92ca4c7093ac0424599cc3
Implements: blueprint fuelclient-modify-release-repos
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/05/354105/2 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/v1/__init__.py', 'fuelclient/objects/release.py', 'fuelclient/tests/utils/fake_release.py', 'fuelclient/tests/utils/__init__.py', 'fuelclient/commands/release.py', 'setup.cfg', 'fuelclient/v1/release.py', 'fuelclient/__init__.py', 'fuelclient/tests/unit/v2/cli/test_release.py']",9,39b94c95913b39eb887dc76223c061965af69e00,deprecate_old_cli,"# -*- coding: utf-8 -*- # # Copyright 2016 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from fuelclient.tests.unit.v2.cli import test_engine from fuelclient.tests.utils import fake_release class TestReleaseCommand(test_engine.BaseCLITest): """"""Tests for fuel2 release * commands."""""" def setUp(self): super(TestReleaseCommand, self).setUp() self.m_client.get_by_id.return_value = fake_release.get_fake_release() self.m_client.get_attributes_metadata_by_id.return_value = \ fake_release.get_fake_attributes_metadata() def test_release_list(self): args = 'release list' self.exec_command(args) self.m_client.get_all.assert_called_once_with() self.m_get_client.assert_called_once_with('release', mock.ANY) def test_release_repos_list(self): args = 'release repos list 1' self.exec_command(args) self.m_client.get_attributes_metadata_by_id.assert_called_once_with(1) self.m_get_client.assert_called_once_with('release', mock.ANY) @mock.patch('fuelclient.commands.release.utils.parse_yaml_file') def test_release_repos_update(self, mock_parse_yaml): args = 'release repos update 1 -f repos.yaml' new_repos = [ { ""name"": ""fake"", ""type"": ""deb"", ""uri"": ""some_uri"", ""priority"": 1050, ""section"": ""main"", ""suite"": ""trusty"" } ] mock_parse_yaml.return_value = new_repos data = fake_release.get_fake_attributes_metadata() data[""editable""][""repo_setup""][""repos""][""value""] = new_repos self.exec_command(args) mock_parse_yaml.assert_called_once_with('repos.yaml') self.m_client.get_attributes_metadata_by_id.assert_called_once_with(1) self.m_client.update_attributes_metadata_by_id \ .assert_called_once_with(1, data) self.m_get_client.assert_called_once_with('release', mock.ANY) ",,258,0
openstack%2Ffuel-docs~master~Ia29bef7f94431171c9168675509ecb6b2a8a7958,openstack/fuel-docs,master,Ia29bef7f94431171c9168675509ecb6b2a8a7958,[doctheme] Fixes the bug link,MERGED,2016-08-12 07:30:57.000000000,2016-08-12 10:26:24.000000000,2016-08-12 08:29:54.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 8971}, {'_account_id': 14643}, {'_account_id': 14947}, {'_account_id': 14962}]","[{'number': 1, 'created': '2016-08-12 07:30:57.000000000', 'files': ['_templates/openstackdocs/script_footer.html'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/f8e3e9ba4d6b1ff452f670c2d0f596e053954121', 'message': '[doctheme] Fixes the bug link\n\nChanges the bug link frpm openstack-manuals to fuel\n\nChange-Id: Ia29bef7f94431171c9168675509ecb6b2a8a7958\nCloses-Bug: #1612282\n'}]",0,354559,f8e3e9ba4d6b1ff452f670c2d0f596e053954121,18,6,1,14643,,,0,"[doctheme] Fixes the bug link

Changes the bug link frpm openstack-manuals to fuel

Change-Id: Ia29bef7f94431171c9168675509ecb6b2a8a7958
Closes-Bug: #1612282
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/59/354559/1 && git format-patch -1 --stdout FETCH_HEAD,['_templates/openstackdocs/script_footer.html'],1,f8e3e9ba4d6b1ff452f670c2d0f596e053954121,bug/1612282," var bugProject = ""fuel"";"," var bugProject = ""openstack-manuals"";",1,1
openstack%2Fpython-fuelclient~stable%2Fmitaka~I958ab15f0e91f18af82ad3054c2a1e29d1698526,openstack/python-fuelclient,stable/mitaka,I958ab15f0e91f18af82ad3054c2a1e29d1698526,Add task delete command to fuel2,MERGED,2016-08-11 14:31:37.000000000,2016-08-12 10:25:58.000000000,2016-08-12 10:20:19.000000000,"[{'_account_id': 3}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 18446}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-11 14:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/243fbd9e9b90ca94dbe5c1b5c7bd9079d9bf6584', 'message': ""Add task delete command to fuel2\n\nIn order to be able to deprecate the old task command\nit's necessary to implement task deletion in fuel2.\n\nChange-Id: I958ab15f0e91f18af82ad3054c2a1e29d1698526\nPartial-bug: #1592452\n""}, {'number': 2, 'created': '2016-08-11 15:56:36.000000000', 'files': ['fuelclient/v1/task.py', 'fuelclient/tests/unit/v2/cli/test_task.py', 'fuelclient/commands/task.py', 'fuelclient/tests/unit/v2/lib/test_task.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/67df6897d666cdd933b8812637161b1f4cffacbc', 'message': ""Add task delete command to fuel2\n\nIn order to be able to deprecate the old task command\nit's necessary to implement task deletion in fuel2.\n\nChange-Id: I958ab15f0e91f18af82ad3054c2a1e29d1698526\nPartial-bug: #1592452\n""}]",0,354110,67df6897d666cdd933b8812637161b1f4cffacbc,25,6,2,6623,,,0,"Add task delete command to fuel2

In order to be able to deprecate the old task command
it's necessary to implement task deletion in fuel2.

Change-Id: I958ab15f0e91f18af82ad3054c2a1e29d1698526
Partial-bug: #1592452
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/10/354110/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/v1/task.py', 'fuelclient/tests/unit/v2/cli/test_task.py', 'fuelclient/commands/task.py', 'fuelclient/tests/unit/v2/lib/test_task.py', 'setup.cfg']",5,243fbd9e9b90ca94dbe5c1b5c7bd9079d9bf6584,deprecate_old_cli, node_ansible-inventory=fuelclient.commands.node:NodeAnsibleInventory plugins_list=fuelclient.commands.plugins:PluginsList plugins_sync=fuelclient.commands.plugins:PluginsSync release_list=fuelclient.commands.release:ReleaseList release_repos_list=fuelclient.commands.release:ReleaseReposList release_repos_update=fuelclient.commands.release:ReleaseReposUpdate task_delete=fuelclient.commands.task:TaskDelete task_deployment-info_download=fuelclient.commands.task:TaskDeploymentInfoDownload task_history_show=fuelclient.commands.task:TaskHistoryShow task_list=fuelclient.commands.task:TaskList task_network-configuration_download=fuelclient.commands.task:TaskNetworkConfigurationDownload task_settings_download=fuelclient.commands.task:TaskClusterSettingsDownload task_show=fuelclient.commands.task:TaskShow, node_ansible-inventory=fuelclient.commands.node:NodeAnsibleInventory plugins_list=fuelclient.commands.plugins:PluginsList plugins_sync=fuelclient.commands.plugins:PluginsSync release_list=fuelclient.commands.release:ReleaseList release_repos_list=fuelclient.commands.release:ReleaseReposList release_repos_update=fuelclient.commands.release:ReleaseReposUpdate task_list=fuelclient.commands.task:TaskList task_show=fuelclient.commands.task:TaskShow task_history_show=fuelclient.commands.task:TaskHistoryShow task_settings_download=fuelclient.commands.task:TaskClusterSettingsDownload task_deployment-info_download=fuelclient.commands.task:TaskDeploymentInfoDownload task_network-configuration_download=fuelclient.commands.task:TaskNetworkConfigurationDownload,85,12
openstack%2Fpython-fuelclient~stable%2Fmitaka~I81f630a2bd8464e9cbeac0543c3a7125d97c1152,openstack/python-fuelclient,stable/mitaka,I81f630a2bd8464e9cbeac0543c3a7125d97c1152,Remove APIClient singleton from fuelclient library,MERGED,2016-08-11 15:56:36.000000000,2016-08-12 10:22:45.000000000,2016-08-12 10:17:08.000000000,"[{'_account_id': 3}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 18446}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-11 15:56:36.000000000', 'files': ['fuelclient/v1/network_configuration.py', 'fuelclient/v1/base_v1.py', 'fuelclient/v1/vip.py', 'fuelclient/v1/plugins.py', 'fuelclient/v1/openstack_config.py', 'fuelclient/v1/network_group.py', 'fuelclient/tests/unit/v2/lib/test_client.py', 'fuelclient/tests/unit/common/test_utils.py', 'fuelclient/v1/cluster_settings.py', 'fuelclient/v1/node.py', 'fuelclient/v1/task.py', 'fuelclient/v1/fuelversion.py', 'fuelclient/client.py', 'fuelclient/v1/graph.py', 'fuelclient/v1/deployment_history.py', 'fuelclient/v1/deployment_info.py', 'fuelclient/v1/environment.py', 'fuelclient/__init__.py'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/fd6e2dc601a77cfcb9422ab87ade49065d108cc3', 'message': 'Remove APIClient singleton from fuelclient library\n\nFuelclient connection configuration was hardcoded\nand it was impossible to create clients for\nmultiple fuel servers.\n\nUser should be able to use multiple connections.\nThis patches introduces fuelclient.connect()\nfunction which returns conneciton object that\ncan be used as a parameter to fuelclient.get_client()\nfunction.\n\nCloses-Bug: #1454347\nChange-Id: I81f630a2bd8464e9cbeac0543c3a7125d97c1152\n'}]",0,354177,fd6e2dc601a77cfcb9422ab87ade49065d108cc3,19,6,1,6623,,,0,"Remove APIClient singleton from fuelclient library

Fuelclient connection configuration was hardcoded
and it was impossible to create clients for
multiple fuel servers.

User should be able to use multiple connections.
This patches introduces fuelclient.connect()
function which returns conneciton object that
can be used as a parameter to fuelclient.get_client()
function.

Closes-Bug: #1454347
Change-Id: I81f630a2bd8464e9cbeac0543c3a7125d97c1152
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/77/354177/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/v1/network_configuration.py', 'fuelclient/v1/base_v1.py', 'fuelclient/v1/vip.py', 'fuelclient/v1/plugins.py', 'fuelclient/v1/openstack_config.py', 'fuelclient/v1/network_group.py', 'fuelclient/tests/unit/v2/lib/test_client.py', 'fuelclient/tests/unit/common/test_utils.py', 'fuelclient/v1/cluster_settings.py', 'fuelclient/v1/node.py', 'fuelclient/v1/task.py', 'fuelclient/v1/fuelversion.py', 'fuelclient/client.py', 'fuelclient/v1/graph.py', 'fuelclient/v1/deployment_history.py', 'fuelclient/v1/deployment_info.py', 'fuelclient/v1/environment.py', 'fuelclient/__init__.py']",18,fd6e2dc601a77cfcb9422ab87ade49065d108cc3,deprecate_old_cli,"def connect(host, port, http_proxy=None, os_username=None, os_password=None, os_tenant_name=None, debug=False): """"""Creates API connection."""""" from fuelclient import client return client.Client( host, port, http_proxy=http_proxy, os_username=os_username, os_password=os_password, os_tenant_name=os_tenant_name, debug=debug) def get_client(resource, version='v1', connection=None): :param connection: API connection :type connection: fuelclient.client.Client return version_map[version][resource].get_client(connection)","def get_client(resource, version='v1'): return version_map[version][resource].get_client()",171,89
openstack%2Fpython-fuelclient~stable%2Fmitaka~I1253fe0443ab33a212bed86535e4ff326270b30e,openstack/python-fuelclient,stable/mitaka,I1253fe0443ab33a212bed86535e4ff326270b30e,Add 'fuel2 plugins list' command support,MERGED,2016-08-11 14:20:24.000000000,2016-08-12 10:21:49.000000000,2016-08-12 10:18:55.000000000,"[{'_account_id': 3}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 18446}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-11 14:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/0f4cf36c47e94e81523c0e2de8a3c7c4498e396a', 'message': ""Add 'fuel2 plugins list' command support\n\n* Add ability to get list of all plugins using\n  new CLI, e.g.:\n           'fuel2 plugins list'.\n* Allow to show additional information about\n  openstack releases that plugins support\n\nChange-Id: I1253fe0443ab33a212bed86535e4ff326270b30e\nPartial-Bug: 1562466\nRelated-Bug: 1499742\n""}, {'number': 2, 'created': '2016-08-11 15:56:36.000000000', 'files': ['fuelclient/tests/unit/v2/lib/test_plugins.py', 'fuelclient/v1/plugins.py', 'fuelclient/tests/utils/__init__.py', 'setup.cfg', 'fuelclient/tests/utils/fake_plugin.py', 'fuelclient/tests/unit/v2/cli/test_plugins.py', 'fuelclient/commands/plugins.py'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/34b745f54ae6d84587257ceb1f512dec2b8e0632', 'message': ""Add 'fuel2 plugins list' command support\n\n* Add ability to get list of all plugins using\n  new CLI, e.g.:\n           'fuel2 plugins list'.\n* Allow to show additional information about\n  openstack releases that plugins support\n\nChange-Id: I1253fe0443ab33a212bed86535e4ff326270b30e\nPartial-Bug: 1562466\nRelated-Bug: 1499742\n""}]",0,354104,34b745f54ae6d84587257ceb1f512dec2b8e0632,38,6,2,6623,,,0,"Add 'fuel2 plugins list' command support

* Add ability to get list of all plugins using
  new CLI, e.g.:
           'fuel2 plugins list'.
* Allow to show additional information about
  openstack releases that plugins support

Change-Id: I1253fe0443ab33a212bed86535e4ff326270b30e
Partial-Bug: 1562466
Related-Bug: 1499742
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/04/354104/2 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/tests/unit/v2/lib/test_plugins.py', 'fuelclient/v1/plugins.py', 'fuelclient/tests/utils/__init__.py', 'setup.cfg', 'fuelclient/tests/utils/fake_plugin.py', 'fuelclient/tests/unit/v2/cli/test_plugins.py', 'fuelclient/commands/plugins.py']",7,0f4cf36c47e94e81523c0e2de8a3c7c4498e396a,deprecate_old_cli,"from fuelclient.common import data_utilsclass PluginsList(PluginsMixIn, base.BaseListCommand): """"""Show list of all available plugins."""""" columns = ('id', 'name', 'version', 'package_version', 'releases') def take_action(self, parsed_args): data = self.client.get_all() data = data_utils.get_display_data_multi(self.columns, data) return self.columns, data ",,118,1
openstack%2Fneutron~master~I4c655d69ad45a46c5363727767396dabadc861c8,openstack/neutron,master,I4c655d69ad45a46c5363727767396dabadc861c8,Add linux bridge trunk server side driver,MERGED,2016-07-31 15:14:57.000000000,2016-08-12 10:18:25.000000000,2016-08-12 06:29:10.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 4187}, {'_account_id': 5170}, {'_account_id': 6788}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16800}, {'_account_id': 23061}]","[{'number': 1, 'created': '2016-07-31 15:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6e80de6af6d53a2f17fbe9d73e00d77783e5af3', 'message': 'Add linux bridge trunk server side driver\n\nThis adds the server side trunk driver for the linux bridge\nagent.\n\nChange-Id: I4c655d69ad45a46c5363727767396dabadc861c8\nPartially-Implements: blueprint vlan-aware-vms\n'}, {'number': 2, 'created': '2016-07-31 15:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c4afbc085f64ecedaac2bcbfbc6d24809889b2b', 'message': 'Add linux bridge trunk server side driver\n\nThis adds the server side trunk driver for the linux bridge\nagent.\n\nChange-Id: I4c655d69ad45a46c5363727767396dabadc861c8\nPartially-Implements: blueprint vlan-aware-vms\n'}, {'number': 3, 'created': '2016-08-04 11:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33264e6a8ec2ba0d165d0a1302c197c0becd19f9', 'message': 'Add linux bridge trunk server side driver\n\nThis adds the server side trunk driver for the linux bridge\nagent.\n\nChange-Id: I4c655d69ad45a46c5363727767396dabadc861c8\nPartially-Implements: blueprint vlan-aware-vms\n'}, {'number': 4, 'created': '2016-08-10 12:41:38.000000000', 'files': ['neutron/services/trunk/drivers/__init__.py', 'neutron/tests/unit/services/trunk/drivers/linuxbridge/__init__.py', 'neutron/services/trunk/drivers/linuxbridge/__init__.py', 'neutron/services/trunk/drivers/linuxbridge/driver.py', 'neutron/tests/unit/services/trunk/drivers/linuxbridge/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce1c16f527973a077390e39a80bd8c19a3866dca', 'message': 'Add linux bridge trunk server side driver\n\nThis adds the server side trunk driver for the linux bridge\nagent.\n\nPartially-Implements: blueprint vlan-aware-vms\nChange-Id: I4c655d69ad45a46c5363727767396dabadc861c8\n'}]",8,349274,ce1c16f527973a077390e39a80bd8c19a3866dca,48,13,4,7787,,,0,"Add linux bridge trunk server side driver

This adds the server side trunk driver for the linux bridge
agent.

Partially-Implements: blueprint vlan-aware-vms
Change-Id: I4c655d69ad45a46c5363727767396dabadc861c8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/349274/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/trunk/drivers/__init__.py', 'neutron/services/trunk/drivers/linuxbridge/__init__.py', 'neutron/services/trunk/drivers/linuxbridge/driver.py']",3,d6e80de6af6d53a2f17fbe9d73e00d77783e5af3,bp/vlan-aware-vms,"# Copyright 2016 Hewlett Packard Enterprise Development LP # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_config import cfg from oslo_log import log as logging from neutron_lib import constants from neutron.callbacks import events from neutron.callbacks import registry from neutron.extensions import portbindings from neutron.services.trunk import constants as trunk_consts from neutron.services.trunk.rpc import backend LOG = logging.getLogger(__name__) SUPPORTED_INTERFACES = ( portbindings.VIF_TYPE_BRIDGE, ) is_loaded = lambda: 'linuxbridge' in cfg.CONF.ml2.mechanism_drivers def register(): """"""Initialize the driver to process registry events."""""" # To advertise the driver capabilities. registry.subscribe(driver_setup, trunk_consts.TRUNK_PLUGIN, events.AFTER_INIT) if is_loaded(): # To set up the server-side RPC backend as this driver needs it. registry.subscribe(backend.setup_rpc, trunk_consts.TRUNK_PLUGIN, events.AFTER_INIT) LOG.debug('Open vSwitch trunk driver registered') def driver_setup(resource, event, trigger, **kwargs): """"""Advertise interface and agent supported."""""" driver = {'linuxbridge': is_loaded()} trigger.add_driver_support( driver, constants.AGENT_TYPE_LINUXBRIDGE, SUPPORTED_INTERFACES) ",,54,0
openstack%2Fgovernance~master~I7778e1461618c589f8a5bb24d003bcaa414b0bf4,openstack/governance,master,I7778e1461618c589f8a5bb24d003bcaa414b0bf4,Specifies a by-election will fill a vacated TC seat,ABANDONED,2016-08-04 22:59:02.000000000,2016-08-12 10:15:00.000000000,,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 964}, {'_account_id': 2284}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 6316}]","[{'number': 1, 'created': '2016-08-04 22:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8ef031b4aa3e43f8fbc075de206fb8063c01f684', 'message': 'Specifies a by-election will fill a vacated TC seat\n\nCurrently we have no documentation about the process to fill a\nTC seat that is vacated prior to end of term. This patch adds a\nsentence to the charter specifying a by-election will be the\nprocess to select a candidate to fulfill the remaining term.\n\nChange-Id: I7778e1461618c589f8a5bb24d003bcaa414b0bf4\n'}, {'number': 2, 'created': '2016-08-09 18:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/bf2e19852fe217e1a8b25a4427a848446ec08aff', 'message': 'Specifies a by-election will fill a vacated TC seat\n\nCurrently we have no documentation about the process to fill a\nTC seat that is vacated prior to end of term. This patch adds a\nsentence to the charter specifying a by-election will be the\nprocess to select a candidate to fulfill the remaining term.\n\nChange-Id: I7778e1461618c589f8a5bb24d003bcaa414b0bf4\n'}, {'number': 3, 'created': '2016-08-09 18:25:52.000000000', 'files': ['reference/charter.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/f1aee05d1749ebc000cb7827457bdbb97848ddcd', 'message': 'Specifies a by-election will fill a vacated TC seat\n\nCurrently we have no documentation about the process to fill a\nTC seat that is vacated prior to end of term. This patch adds a\nsentence to the charter specifying a by-election will be the\nprocess to select a candidate to fulfill the remaining term.\n\nChange-Id: I7778e1461618c589f8a5bb24d003bcaa414b0bf4\n'}]",3,351427,f1aee05d1749ebc000cb7827457bdbb97848ddcd,17,7,3,6316,,,0,"Specifies a by-election will fill a vacated TC seat

Currently we have no documentation about the process to fill a
TC seat that is vacated prior to end of term. This patch adds a
sentence to the charter specifying a by-election will be the
process to select a candidate to fulfill the remaining term.

Change-Id: I7778e1461618c589f8a5bb24d003bcaa414b0bf4
",git fetch https://review.opendev.org/openstack/governance refs/changes/27/351427/3 && git format-patch -1 --stdout FETCH_HEAD,['reference/charter.rst'],1,8ef031b4aa3e43f8fbc075de206fb8063c01f684,formal-vote,"elections held open for no less than five business days. Should a holder of a TC seat be unable to fulfill their term, a by-election will be held.",elections held open for no less than five business days.,2,1
openstack%2Fbarbican~master~Ie1e7e37406f353047a64ed2c779918e27d085d7b,openstack/barbican,master,Ie1e7e37406f353047a64ed2c779918e27d085d7b,"Remove ""KEYSTONE_"" URI settings for devsatck",MERGED,2016-07-18 09:32:01.000000000,2016-08-12 10:14:26.000000000,2016-08-12 10:14:26.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 16046}, {'_account_id': 21797}]","[{'number': 1, 'created': '2016-07-18 09:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/035dcc7294909778b994215032710477316c3c48', 'message': 'Remove ""KEYSTONE_"" from URI for devsatck\n\nKEYSTONE_AUTH_URI and KEYSTONE_SERVICE_URI are not only used by barbican\nbut also other services, and they set the version tail by hand instead of\ninsert into the KEYSTONE_*_URI variable. The inconsistent usage cause\nmistake uris in configuration files.\n\nChange-Id: Ie1e7e37406f353047a64ed2c779918e27d085d7b\n'}, {'number': 2, 'created': '2016-07-18 09:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/19d1f077a65a238b3e406c5b28cb2385ef0b58e7', 'message': 'Remove ""KEYSTONE_"" from URI for devsatck\n\nKEYSTONE_AUTH_URI and KEYSTONE_SERVICE_URI are not only used by barbican\nbut also other services, and they set the version tail by hand instead of\ninsert into the KEYSTONE_*_URI variable. The inconsistent usage cause\nmistake uris in configuration files.\n\nChange-Id: Ie1e7e37406f353047a64ed2c779918e27d085d7b\n'}, {'number': 3, 'created': '2016-08-05 01:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a47f05d17b2e39dea213602ce7aaeaf375a2d09d', 'message': 'Remove ""KEYSTONE_"" from URI for devsatck\n\nKEYSTONE_AUTH_URI and KEYSTONE_SERVICE_URI are not only used by barbican\nbut also other services, and they set the version tail by hand instead of\ninsert into the KEYSTONE_*_URI variable. The inconsistent usage cause\nmistake uris in configuration files.\n\nChange-Id: Ie1e7e37406f353047a64ed2c779918e27d085d7b\n'}, {'number': 4, 'created': '2016-08-08 01:11:37.000000000', 'files': ['devstack/lib/barbican'], 'web_link': 'https://opendev.org/openstack/barbican/commit/876e603265c2471bf69e7f0b2185372afd62ec81', 'message': 'Remove ""KEYSTONE_"" URI settings for devsatck\n\nKEYSTONE_AUTH_URI and KEYSTONE_SERVICE_URI are not only used by barbican\nbut around all openstack services during the devstack installation.\nBarbican should use these shared variables in an consistent manner as other\nservices, we should use KEYSTONE_*_V3 directly.\n\nChange-Id: Ie1e7e37406f353047a64ed2c779918e27d085d7b\n'}]",2,343532,876e603265c2471bf69e7f0b2185372afd62ec81,22,8,4,6116,,,0,"Remove ""KEYSTONE_"" URI settings for devsatck

KEYSTONE_AUTH_URI and KEYSTONE_SERVICE_URI are not only used by barbican
but around all openstack services during the devstack installation.
Barbican should use these shared variables in an consistent manner as other
services, we should use KEYSTONE_*_V3 directly.

Change-Id: Ie1e7e37406f353047a64ed2c779918e27d085d7b
",git fetch https://review.opendev.org/openstack/barbican refs/changes/32/343532/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/barbican'],1,035dcc7294909778b994215032710477316c3c48,remove_KEYSTONE_AUTH_URI, AUTH_URI=${KEYSTONE_AUTH_PROTOCOL}://${KEYSTONE_AUTH_HOST}:${KEYSTONE_AUTH_PORT}/v3 SERVICE_URI=${KEYSTONE_SERVICE_PROTOCOL}://${KEYSTONE_SERVICE_HOST}:${KEYSTONE_SERVICE_PORT}/v3 iniset $BARBICAN_PASTE_CONF 'filter:authtoken' auth_url $_AUTH_URI iniset $BARBICAN_PASTE_CONF 'filter:authtoken' auth_uri $SERVICE_URI, KEYSTONE_AUTH_URI=${KEYSTONE_AUTH_PROTOCOL}://${KEYSTONE_AUTH_HOST}:${KEYSTONE_AUTH_PORT}/v3 KEYSTONE_SERVICE_URI=${KEYSTONE_SERVICE_PROTOCOL}://${KEYSTONE_SERVICE_HOST}:${KEYSTONE_SERVICE_PORT}/v3 iniset $BARBICAN_PASTE_CONF 'filter:authtoken' auth_url $KEYSTONE_AUTH_URI iniset $BARBICAN_PASTE_CONF 'filter:authtoken' auth_uri $KEYSTONE_SERVICE_URI,4,4
openstack%2Fmistral~master~I13015f1d97807a77f8459bafd2f2d4efaba5489e,openstack/mistral,master,I13015f1d97807a77f8459bafd2f2d4efaba5489e,Updated from global requirements,MERGED,2016-08-12 04:50:14.000000000,2016-08-12 10:09:48.000000000,2016-08-12 10:09:48.000000000,"[{'_account_id': 3}, {'_account_id': 18238}]","[{'number': 1, 'created': '2016-08-12 04:50:14.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/mistral/commit/00626992e78156033dea787b96c7f3655c5c56e6', 'message': 'Updated from global requirements\n\nChange-Id: I13015f1d97807a77f8459bafd2f2d4efaba5489e\n'}]",0,354521,00626992e78156033dea787b96c7f3655c5c56e6,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I13015f1d97807a77f8459bafd2f2d4efaba5489e
",git fetch https://review.opendev.org/openstack/mistral refs/changes/21/354521/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,00626992e78156033dea787b96c7f3655c5c56e6,openstack/requirements,oslo.db>=4.10.0 # Apache-2.0,oslo.db>=4.1.0 # Apache-2.0,1,1
openstack%2Fkolla~master~I89042e5883f19fddbae11d75b788f87ad5d871a1,openstack/kolla,master,I89042e5883f19fddbae11d75b788f87ad5d871a1,"Revert ""Remove files from /var/lib/apt/lists when cleaning up on Ubuntu/Debian""",MERGED,2016-08-10 11:47:07.000000000,2016-08-12 10:08:28.000000000,2016-08-12 10:08:28.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 11105}, {'_account_id': 14103}, {'_account_id': 16233}, {'_account_id': 16482}, {'_account_id': 18009}, {'_account_id': 19316}]","[{'number': 1, 'created': '2016-08-10 11:47:07.000000000', 'files': ['docker/macros.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/495a905b8032b4d3c68246be204384da2b0f3c3d', 'message': 'Revert ""Remove files from /var/lib/apt/lists when cleaning up on Ubuntu/Debian""\n\nThis reverts commit 4e8bf3f90da2b1b36575528a30926a575bfc4095.\n\nIt seems removing /var/lib/apt/lists is having some unintended side\neffects causing apt to not find packages [0]\n\n[0] http://logs.openstack.org/87/350587/10/check/gate-kolla-dsvm-build-ubuntu-source/c0a22a3/console.html#_2016-08-09_13_41_14_477480\n\nChange-Id: I89042e5883f19fddbae11d75b788f87ad5d871a1\n'}]",0,353408,495a905b8032b4d3c68246be204384da2b0f3c3d,13,8,1,1390,,,0,"Revert ""Remove files from /var/lib/apt/lists when cleaning up on Ubuntu/Debian""

This reverts commit 4e8bf3f90da2b1b36575528a30926a575bfc4095.

It seems removing /var/lib/apt/lists is having some unintended side
effects causing apt to not find packages [0]

[0] http://logs.openstack.org/87/350587/10/check/gate-kolla-dsvm-build-ubuntu-source/c0a22a3/console.html#_2016-08-09_13_41_14_477480

Change-Id: I89042e5883f19fddbae11d75b788f87ad5d871a1
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/353408/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/macros.j2'],1,495a905b8032b4d3c68246be204384da2b0f3c3d,bp/third-party-plugin-support, apt-get -y install --no-install-recommends {{ packages | join(' ') }} && apt-get clean, apt-get -y install --no-install-recommends {{ packages | join(' ') }} && apt-get clean && rm -rf /var/lib/apt/lists/*,1,1
openstack%2Fkolla~master~I8610f4adaa557a21fedd05601e10f5c308fd7ce3,openstack/kolla,master,I8610f4adaa557a21fedd05601e10f5c308fd7ce3,Fix interface address for Neutron-server,MERGED,2016-07-16 00:17:59.000000000,2016-08-12 10:02:44.000000000,2016-08-12 10:02:44.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 10419}, {'_account_id': 12796}, {'_account_id': 14103}, {'_account_id': 16233}]","[{'number': 1, 'created': '2016-07-16 00:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0849306614eb9871dee4c2507afbbad9d45aff6d', 'message': ""Fix interface address for Neutron-server\n\nNote: This should not result in any behavior changes in regular Kolla, just Kolla-Kubernetes and only when you've overridden stuff in globals.yml\n\nBinds to the api_interface_address variable and uses the keystone and memcached facts we defined in earlier patches.\n\nChange-Id: I8610f4adaa557a21fedd05601e10f5c308fd7ce3\nDepends-On: I87492b554836bcd2be09b972450c3964c526d91b\nPartially-implements: blueprint api-interface-bind-address-override\n""}, {'number': 2, 'created': '2016-07-23 14:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a77a92054e3eec52e66b984790396c0df00b569c', 'message': ""Fix interface address for Neutron-server\n\nNote: This should not result in any behavior changes in regular Kolla, just Kolla-Kubernetes and only when you've overridden stuff in globals.yml\n\nBinds to the api_interface_address variable and uses the keystone and memcached facts we defined in earlier patches.\n\nChange-Id: I8610f4adaa557a21fedd05601e10f5c308fd7ce3\nDepends-On: Ia0e4951c327be01b717aebb86ef4c3a4e7ed170e\nPartially-implements: blueprint api-interface-bind-address-override\n""}, {'number': 3, 'created': '2016-07-29 13:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f087eb31ddc4a3a56cd6b46d262a6007dc8b4833', 'message': ""Fix interface address for Neutron-server\n\nNote: This should not result in any behavior changes in regular Kolla, just Kolla-Kubernetes and only when you've overridden stuff in globals.yml\n\nBinds to the api_interface_address variable and uses the keystone and memcached facts we defined in earlier patches.\n\nCo-authored-by: Ryan Hallisey <rhallise@redhat.com>\nChange-Id: I8610f4adaa557a21fedd05601e10f5c308fd7ce3\nPartially-implements: blueprint api-interface-bind-address-override\n""}, {'number': 4, 'created': '2016-07-29 15:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b69f046843f6f3f577946a95fb23abb2f07e8e91', 'message': ""Fix interface address for Neutron-server\n\nNote: This should not result in any behavior changes in regular Kolla, just Kolla-Kubernetes and only when you've overridden stuff in globals.yml\n\nBinds to the api_interface_address variable and uses the keystone and memcached facts we defined in earlier patches.\n\nCo-authored-by: Ryan Hallisey <rhallise@redhat.com>\nChange-Id: I8610f4adaa557a21fedd05601e10f5c308fd7ce3\nPartially-implements: blueprint api-interface-bind-address-override\n""}, {'number': 5, 'created': '2016-08-11 13:55:37.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/99a1662f61867b2698c5a18743b421d930e0b046', 'message': ""Fix interface address for Neutron-server\n\nNote: This should not result in any behavior changes in regular Kolla, just Kolla-Kubernetes and only when you've overridden stuff in globals.yml\n\nBinds to the api_interface_address variable and uses the keystone and memcached facts we defined in earlier patches.\n\nCo-authored-by: Ryan Hallisey <rhallise@redhat.com>\nChange-Id: I8610f4adaa557a21fedd05601e10f5c308fd7ce3\nPartially-implements: blueprint api-interface-bind-address-override\n""}]",3,343117,99a1662f61867b2698c5a18743b421d930e0b046,24,8,5,21996,,,0,"Fix interface address for Neutron-server

Note: This should not result in any behavior changes in regular Kolla, just Kolla-Kubernetes and only when you've overridden stuff in globals.yml

Binds to the api_interface_address variable and uses the keystone and memcached facts we defined in earlier patches.

Co-authored-by: Ryan Hallisey <rhallise@redhat.com>
Change-Id: I8610f4adaa557a21fedd05601e10f5c308fd7ce3
Partially-implements: blueprint api-interface-bind-address-override
",git fetch https://review.opendev.org/openstack/kolla refs/changes/17/343117/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/neutron.conf.j2'],1,0849306614eb9871dee4c2507afbbad9d45aff6d,bp/api-interface-bind-address-override,bind_host = {{ api_interface_address }}auth_url = {{ keystone_admin_url }}auth_uri = {{ keystone_public_url }} auth_url = {{ keystone_admin_url }}{% if memcached_servers is defined %} memcache_servers = {{ memcached_servers }} {% else %}{%- endif %},bind_host = {{ hostvars[inventory_hostname]['ansible_' + api_interface]['ipv4']['address'] }}auth_url = {{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_admin_port }}auth_uri = {{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_public_port }} auth_url = {{ admin_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_admin_port }},8,5
openstack%2Ffuel-qa~master~Iecceeeca4d7156b1143711ae9210ceb0d497b4c8,openstack/fuel-qa,master,Iecceeeca4d7156b1143711ae9210ceb0d497b4c8,Update expected exception in set_custom_hostname_for_provisioned_node,MERGED,2016-08-11 13:42:42.000000000,2016-08-12 10:01:43.000000000,2016-08-11 15:16:58.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 12867}, {'_account_id': 14057}, {'_account_id': 14708}, {'_account_id': 15692}, {'_account_id': 15984}, {'_account_id': 16819}, {'_account_id': 19119}]","[{'number': 1, 'created': '2016-08-11 13:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/63b225256b8afeea01fd19b4fb714f20fbd0fac8', 'message': 'Update expected exception in set_custom_hostname_for_provisioned_node\n\nChange-Id: Iecceeeca4d7156b1143711ae9210ceb0d497b4c8\nCloses-Bug: #1611005\n'}, {'number': 2, 'created': '2016-08-11 13:44:21.000000000', 'files': ['fuelweb_test/tests/test_custom_hostname.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/059b947a7bb664b57847e70db746fa20cd96508b', 'message': 'Update expected exception in set_custom_hostname_for_provisioned_node\n\nChange-Id: Iecceeeca4d7156b1143711ae9210ceb0d497b4c8\nCloses-Bug: #1611005\nDepends-On: I755ca0e1c404b0adc35282d4d69639a7ba80db92\n'}]",0,354082,059b947a7bb664b57847e70db746fa20cd96508b,17,10,2,15692,,,0,"Update expected exception in set_custom_hostname_for_provisioned_node

Change-Id: Iecceeeca4d7156b1143711ae9210ceb0d497b4c8
Closes-Bug: #1611005
Depends-On: I755ca0e1c404b0adc35282d4d69639a7ba80db92
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/82/354082/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_custom_hostname.py'],1,63b225256b8afeea01fd19b4fb714f20fbd0fac8,bug/1611005,"from keystoneauth1 import exceptions as http_exceptions http_exceptions.BadRequest, http_exceptions.Conflict, http_exceptions.Forbidden,","from keystoneauth1.exceptions import BadRequest, Conflict BadRequest, Conflict, # TODO(dkruglov): LP#1476722 BadRequest,",4,5
openstack%2Ffuel-qa~stable%2Fmitaka~I755ca0e1c404b0adc35282d4d69639a7ba80db92,openstack/fuel-qa,stable/mitaka,I755ca0e1c404b0adc35282d4d69639a7ba80db92,Fix wrong setting of custom hostname by whole node struct,MERGED,2016-08-11 15:29:34.000000000,2016-08-12 09:59:55.000000000,2016-08-12 09:59:55.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 15984}, {'_account_id': 16819}, {'_account_id': 19119}]","[{'number': 1, 'created': '2016-08-11 15:29:34.000000000', 'files': ['fuelweb_test/tests/test_custom_hostname.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/6669d4625fff232071c1fbcb5f6f7e42fcceb1fd', 'message': 'Fix wrong setting of custom hostname by whole node struct\n\nUse another node to validate duplacate hostname case\n\nChange-Id: I755ca0e1c404b0adc35282d4d69639a7ba80db92\nCloses-bug: #1610978\n(cherry picked from commit f63a1ac4f0b894e7a5ceaf45e2a5ec770f47b32a)\n'}]",0,354160,6669d4625fff232071c1fbcb5f6f7e42fcceb1fd,11,6,1,15692,,,0,"Fix wrong setting of custom hostname by whole node struct

Use another node to validate duplacate hostname case

Change-Id: I755ca0e1c404b0adc35282d4d69639a7ba80db92
Closes-bug: #1610978
(cherry picked from commit f63a1ac4f0b894e7a5ceaf45e2a5ec770f47b32a)
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/60/354160/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_custom_hostname.py'],1,6669d4625fff232071c1fbcb5f6f7e42fcceb1fd,bug/1611005,"from keystoneauth1.exceptions import BadRequest, Conflict # Try to set duplicate hostname for another node node = self.fuel_web.client.list_nodes()[1] Conflict, node[""id""], custom_hostname )","from keystoneauth1.exceptions import BadRequest # Try to change the hostname of the provisioned node BadRequest, node, custom_hostname)",7,5
openstack%2Foslo.messaging~master~Ibef43ee38fc395b3d9d55f5e0f820e5c0d0308b1,openstack/oslo.messaging,master,Ibef43ee38fc395b3d9d55f5e0f820e5c0d0308b1,Updated from global requirements,MERGED,2016-08-08 10:47:06.000000000,2016-08-12 09:58:22.000000000,2016-08-12 09:58:21.000000000,"[{'_account_id': 3}, {'_account_id': 9796}]","[{'number': 1, 'created': '2016-08-08 10:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/417d4e1964006cd3ce1340871b3a2312d2dc91c6', 'message': 'Updated from global requirements\n\nChange-Id: Ibef43ee38fc395b3d9d55f5e0f820e5c0d0308b1\n'}, {'number': 2, 'created': '2016-08-12 00:24:14.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ee8fff03d989e1a73068262d072f483b8c779163', 'message': 'Updated from global requirements\n\nChange-Id: Ibef43ee38fc395b3d9d55f5e0f820e5c0d0308b1\n'}]",0,352332,ee8fff03d989e1a73068262d072f483b8c779163,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: Ibef43ee38fc395b3d9d55f5e0f820e5c0d0308b1
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/32/352332/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,417d4e1964006cd3ce1340871b3a2312d2dc91c6,openstack/requirements,oslo.context>=2.4.0 # Apache-2.0,"oslo.context!=2.6.0,>=2.4.0 # Apache-2.0",1,1
openstack%2Fjs-openstack-lib~master~Ifc541aeff20e1a6b0e9815a91e93fc78989199de,openstack/js-openstack-lib,master,Ifc541aeff20e1a6b0e9815a91e93fc78989199de,Keystone constructor accepts only one cloud config,MERGED,2016-08-09 21:58:00.000000000,2016-08-12 09:57:31.000000000,2016-08-12 09:57:31.000000000,"[{'_account_id': 3}, {'_account_id': 8735}]","[{'number': 1, 'created': '2016-08-09 21:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/0616b396075257e74850380be3aa11bceddc37f9', 'message': 'Keystone constructor accepts only one cloud config\n\nThis patch modifies the keystone API constructor to accept only\none cloud config, rather than the entire cloud config object.\n\nChange-Id: Ifc541aeff20e1a6b0e9815a91e93fc78989199de\n'}, {'number': 2, 'created': '2016-08-11 22:01:14.000000000', 'files': ['src/keystone.js', 'test/unit/keystoneTest.js'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/cee5a21bf2bac30c4d2fb202a4f267a1add344a8', 'message': 'Keystone constructor accepts only one cloud config\n\nThis patch modifies the keystone API constructor to accept only\none cloud config, rather than the entire cloud config object.\n\nChange-Id: Ifc541aeff20e1a6b0e9815a91e93fc78989199de\n'}]",0,353122,cee5a21bf2bac30c4d2fb202a4f267a1add344a8,8,2,2,9717,,,0,"Keystone constructor accepts only one cloud config

This patch modifies the keystone API constructor to accept only
one cloud config, rather than the entire cloud config object.

Change-Id: Ifc541aeff20e1a6b0e9815a91e93fc78989199de
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/22/353122/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/keystone.js', 'test/unit/keystoneTest.js']",2,0616b396075257e74850380be3aa11bceddc37f9,keystone," it('should throw an error for an empty config', () => { try { const keystone = new Keystone(); expect(e.message).toEqual('A configuration is required.'); const keystone = new Keystone(cloudsConfig.clouds.cloud1);"," it('should throw an error for an unknown cloud', () => { const cloudsConfig = aCloudsConfig('cloud1'); const cloudName = 'cloud2'; try { const keystone = new Keystone(cloudsConfig, cloudName); expect(e.message).toEqual('Config for this cloud not found'); const cloudName = 'cloud1'; const keystone = new Keystone(cloudsConfig, cloudName);",11,15
openstack%2Fgovernance~master~I510dd44c2683159b0d3ddb0f07370d919d843904,openstack/governance,master,I510dd44c2683159b0d3ddb0f07370d919d843904,describe a process for filling a vacancy on the TC,MERGED,2016-08-04 17:23:52.000000000,2016-08-12 09:56:55.000000000,2016-08-12 09:56:55.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 105}, {'_account_id': 170}, {'_account_id': 308}, {'_account_id': 782}, {'_account_id': 964}, {'_account_id': 1063}, {'_account_id': 1561}, {'_account_id': 2243}, {'_account_id': 2284}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6316}, {'_account_id': 9664}, {'_account_id': 17860}]","[{'number': 1, 'created': '2016-08-04 17:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/4a9d4ef05b14492dde88a3820cdd851b8f373da1', 'message': 'describe a process for replacing a TC member who steps down\n\nSee the discussion in the openstack-tc mailing list thread\nhttp://lists.openstack.org/pipermail/openstack-tc/2016-August/thread.html#1232\n\nChange-Id: I510dd44c2683159b0d3ddb0f07370d919d843904\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2016-08-04 20:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/42d138a9c80a6f78035116783fdef46e3dcb2942', 'message': 'describe a process for replacing a TC member who steps down\n\nSee the discussion in the openstack-tc mailing list thread\nhttp://lists.openstack.org/pipermail/openstack-tc/2016-August/thread.html#1232\n\nChange-Id: I510dd44c2683159b0d3ddb0f07370d919d843904\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2016-08-04 21:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/bb51ce404bfc35b6a3c1f9da3854a4f87d437d8f', 'message': 'describe a process for replacing a TC member who steps down\n\nSee the discussion in the openstack-tc mailing list thread\nhttp://lists.openstack.org/pipermail/openstack-tc/2016-August/thread.html#1232\n\nChange-Id: I510dd44c2683159b0d3ddb0f07370d919d843904\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2016-08-08 14:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/f54f5cbe2d3a6c8af0a724f390c5f589acd142ed', 'message': 'describe a process for replacing a TC member who steps down\n\nSee the discussion in the openstack-tc mailing list thread\nhttp://lists.openstack.org/pipermail/openstack-tc/2016-August/thread.html#1232\n\nChange-Id: I510dd44c2683159b0d3ddb0f07370d919d843904\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 5, 'created': '2016-08-08 14:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/99d5947afba7ae7afdc8fad2c8fbaf195b860ae2', 'message': 'describe a process for filling a vacancy on the TC\n\nSee the discussion in the openstack-tc mailing list thread\nhttp://lists.openstack.org/pipermail/openstack-tc/2016-August/thread.html#1232\n\nChange-Id: I510dd44c2683159b0d3ddb0f07370d919d843904\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 6, 'created': '2016-08-08 15:11:40.000000000', 'files': ['reference/charter.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/ae4d5ceaf8531c152300ce2cf76a6ce73ace36e7', 'message': 'describe a process for filling a vacancy on the TC\n\nSee the discussion in the openstack-tc mailing list thread\nhttp://lists.openstack.org/pipermail/openstack-tc/2016-August/thread.html#1232\n\nChange-Id: I510dd44c2683159b0d3ddb0f07370d919d843904\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",35,351295,ae4d5ceaf8531c152300ce2cf76a6ce73ace36e7,60,19,6,2472,,,0,"describe a process for filling a vacancy on the TC

See the discussion in the openstack-tc mailing list thread
http://lists.openstack.org/pipermail/openstack-tc/2016-August/thread.html#1232

Change-Id: I510dd44c2683159b0d3ddb0f07370d919d843904
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/95/351295/5 && git format-patch -1 --stdout FETCH_HEAD,['reference/charter.rst'],1,4a9d4ef05b14492dde88a3820cdd851b8f373da1,formal-vote,"If a member leaves the TC before the end of their term, the TC will select a replacement to serve out the remainder of the term. If the member leaves with more than one month until the next TC election, the candidates who did not win seats in the previous election will be consulted in the order they appear in the results until one agrees to serve. If the member leaves with less than one month until the next election, the same process will be applied to the new election results. ",,9,0
openstack%2Fkolla~master~I3f0873f425f49514e6f086a6baa25dc3a3ee1dd5,openstack/kolla,master,I3f0873f425f49514e6f086a6baa25dc3a3ee1dd5,Document the use of external Ceph journal drives,MERGED,2016-06-02 13:49:46.000000000,2016-08-12 09:54:03.000000000,2016-08-12 09:54:03.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 10787}, {'_account_id': 11105}, {'_account_id': 11869}, {'_account_id': 14103}, {'_account_id': 15492}, {'_account_id': 16233}, {'_account_id': 18009}]","[{'number': 1, 'created': '2016-06-02 13:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/134f8ccdb655e225e7899e668da4fa3749b3e045', 'message': 'Document the use of external Ceph journal drives\n\nChange-Id: I3f0873f425f49514e6f086a6baa25dc3a3ee1dd5\n'}, {'number': 2, 'created': '2016-06-03 14:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aaec0243fef8f2c5a7e990f86b946e662b3c5564', 'message': 'Document the use of external Ceph journal drives\n\nChange-Id: I3f0873f425f49514e6f086a6baa25dc3a3ee1dd5\nCloses-bug: #1560049'}, {'number': 3, 'created': '2016-06-08 18:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a7fd8ee4900dc7d38331da56bd06690d67cd2746', 'message': 'Document the use of external Ceph journal drives\n\nChange-Id: I3f0873f425f49514e6f086a6baa25dc3a3ee1dd5\nCloses-bug: #1560049'}, {'number': 4, 'created': '2016-08-03 21:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/761ec43f280793bb49776cbdfa2608b66baa5739', 'message': 'Document the use of external Ceph journal drives\n\nChange-Id: I3f0873f425f49514e6f086a6baa25dc3a3ee1dd5\nCloses-bug: #1560049\n'}, {'number': 5, 'created': '2016-08-09 14:37:08.000000000', 'files': ['doc/ceph-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/057c92fe066c2debec7aa568113922a433b56a26', 'message': 'Document the use of external Ceph journal drives\n\nChange-Id: I3f0873f425f49514e6f086a6baa25dc3a3ee1dd5\nCloses-bug: #1560049\n'}]",16,324539,057c92fe066c2debec7aa568113922a433b56a26,34,11,5,167,,,0,"Document the use of external Ceph journal drives

Change-Id: I3f0873f425f49514e6f086a6baa25dc3a3ee1dd5
Closes-bug: #1560049
",git fetch https://review.opendev.org/openstack/kolla refs/changes/39/324539/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/ceph-guide.rst'],1,134f8ccdb655e225e7899e668da4fa3749b3e045,doc-ceph-journal,Preparation ===========Use an external journal drive ----------------------------- The steps documented above will create a journal partition of 5 GByte and a data partition with the remaining storage capacity on the same tagged drive. It is a common practice to place the journal of an OSD on a separate journal drive. Prepare the storage drive as documented above: :: # <WARNING ALL DATA ON $DISK will be LOST!> # where $DISK is /dev/sdb or something similar parted $DISK -s -- mklabel gpt mkpart KOLLA_CEPH_OSD_BOOTSTRAP_FIRST 1 -1 To prepare the journal drive execute the following operations: :: # <WARNING ALL DATA ON $DISK will be LOST!> # where $DISK is /dev/sdc or something similar parted $DISK -s -- mklabel gpt mkpart KOLLA_CEPH_OSD_BOOTSTRAP_FIRST_J 1 -1 .. note:: The labels ``KOLLA_CEPH_OSD_BOOTSTRAP`` and ``KOLLA_CEPH_OSD_BOOTSTRAP_J`` are not working. You have to use a postfix like ``FIRST``. By using different postfixs it is possible to use different journal drives for different storage drives. Configuration ============= Deployment ========== ,Preparation and Deployment ==========================,40,2
openstack%2Fopenstack-manuals~master~I0e0699d4aa479c181a79ad71472be87b4c1136e7,openstack/openstack-manuals,master,I0e0699d4aa479c181a79ad71472be87b4c1136e7,Clean up remaining references to underscore files of user-guide,MERGED,2016-08-12 04:48:56.000000000,2016-08-12 09:53:39.000000000,2016-08-12 08:34:41.000000000,"[{'_account_id': 3}, {'_account_id': 10497}, {'_account_id': 14947}, {'_account_id': 14962}]","[{'number': 1, 'created': '2016-08-12 04:48:56.000000000', 'files': ['doc/admin-guide/source/dashboard-manage-images.rst', 'doc/admin-guide/source/dashboard-admin-manage-stacks.rst', 'doc/admin-guide/source/dashboard-manage-volumes.rst', 'doc/install-guide/source/launch-instance.rst', 'doc/admin-guide/source/blockstorage-boot-from-volume.rst', 'doc/image-guide/source/openstack-images.rst', 'doc/install-guide/source/launch-instance-manila-dhss-false-option1.rst', 'doc/admin-guide/source/dashboard-manage-instances.rst', 'doc/image-guide/source/obtain-images.rst', 'doc/admin-guide/source/dashboard-manage-shares.rst', 'doc/admin-guide/source/objectstorage-large-objects.rst', 'doc/install-guide/source/launch-instance-manila-dhss-true-option2.rst', 'doc/admin-guide/source/compute-configuring-migrations.rst', 'doc/admin-guide/source/dashboard.rst', 'doc/admin-guide/source/cli-admin-manage-ip-addresses.rst', 'doc/admin-guide/source/cli-admin-manage-stacks.rst', 'doc/ops-guide/source/ops-user-facing-operations.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/afa18f4f3753f0875a6a1304881d32d16597d6ef', 'message': 'Clean up remaining references to underscore files of user-guide\n\nChange-Id: I0e0699d4aa479c181a79ad71472be87b4c1136e7\nImplements: blueprint consistency-file-rename\n'}]",0,354519,afa18f4f3753f0875a6a1304881d32d16597d6ef,9,4,1,841,,,0,"Clean up remaining references to underscore files of user-guide

Change-Id: I0e0699d4aa479c181a79ad71472be87b4c1136e7
Implements: blueprint consistency-file-rename
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/19/354519/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/admin-guide/source/dashboard-manage-images.rst', 'doc/admin-guide/source/dashboard-admin-manage-stacks.rst', 'doc/admin-guide/source/dashboard-manage-volumes.rst', 'doc/install-guide/source/launch-instance.rst', 'doc/admin-guide/source/blockstorage-boot-from-volume.rst', 'doc/image-guide/source/openstack-images.rst', 'doc/install-guide/source/launch-instance-manila-dhss-false-option1.rst', 'doc/admin-guide/source/dashboard-manage-instances.rst', 'doc/image-guide/source/obtain-images.rst', 'doc/admin-guide/source/dashboard-manage-shares.rst', 'doc/admin-guide/source/objectstorage-large-objects.rst', 'doc/install-guide/source/launch-instance-manila-dhss-true-option2.rst', 'doc/admin-guide/source/compute-configuring-migrations.rst', 'doc/admin-guide/source/dashboard.rst', 'doc/admin-guide/source/cli-admin-manage-ip-addresses.rst', 'doc/admin-guide/source/cli-admin-manage-stacks.rst', 'doc/ops-guide/source/ops-user-facing-operations.rst']",17,afa18f4f3753f0875a6a1304881d32d16597d6ef,bp/consistency-file-rename,Guide <http://docs.openstack.org/user-guide/cli-nova-launch-instance-from-volume.html>`__.Guide <http://docs.openstack.org/user-guide/dashboard-launch-instances.html>`__.,Guide <http://docs.openstack.org/user-guide/cli_nova_launch_instance_from_volume.html>`__.Guide <http://docs.openstack.org/user-guide/dashboard_launch_instances.html>`__.,22,22
openstack%2Fpuppet-neutron~master~I01bdda6df995f3b09fc55e6b1a016246b68eea26,openstack/puppet-neutron,master,I01bdda6df995f3b09fc55e6b1a016246b68eea26,Cleanup for sriov-agent sriov-agent-required,MERGED,2016-06-16 13:25:10.000000000,2016-08-12 09:53:19.000000000,2016-08-12 09:53:19.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 7604}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8971}, {'_account_id': 9500}, {'_account_id': 10034}, {'_account_id': 11968}, {'_account_id': 18904}]","[{'number': 1, 'created': '2016-06-16 13:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3ef5f3ee3497eb4dcb32a274394dd846c67b04de', 'message': 'Cleanup for sriov-agent sriov-agent-required\n\nAs per mitaka release sriov-agent is enabled by default\nHence removing this option for sriov-agent. If mech driver\nhas sriovnicswitch, then sriov-agent is enabled by default.\n\nImplements: blueprint tripleo-sriov\nChange-Id: I01bdda6df995f3b09fc55e6b1a016246b68eea26\n'}, {'number': 2, 'created': '2016-06-21 09:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/1906408f1ba3ef2e4cd230ec9c84666d1d22ea90', 'message': 'Cleanup for sriov-agent sriov-agent-required\n\nAs per mitaka release sriov-agent is enabled by default\nHence removing this option for sriov-agent. If mech driver\nhas sriovnicswitch, then sriov-agent is enabled by default.\n\nImplements: blueprint tripleo-sriov\nChange-Id: I01bdda6df995f3b09fc55e6b1a016246b68eea26\n'}, {'number': 3, 'created': '2016-06-21 11:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/35bc00a940d0200298bd8f6b8f4a9b028c259044', 'message': 'Cleanup for sriov-agent sriov-agent-required\n\nAs per mitaka release sriov-agent is enabled by default\nHence removing this option for sriov-agent. If mech driver\nhas sriovnicswitch, then sriov-agent is enabled by default.\n\nImplements: blueprint tripleo-sriov\nChange-Id: I01bdda6df995f3b09fc55e6b1a016246b68eea26\n'}, {'number': 4, 'created': '2016-06-23 08:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7e6836c3ab8de99b9f6074e41d62496171e2f1f3', 'message': 'Cleanup for sriov-agent sriov-agent-required\n\nAs per mitaka release sriov-agent is enabled by default\nHence removing this option for sriov-agent. If mech driver\nhas sriovnicswitch, then sriov-agent is enabled by default.\n\nImplements: blueprint tripleo-sriov\nChange-Id: I01bdda6df995f3b09fc55e6b1a016246b68eea26\n'}, {'number': 5, 'created': '2016-07-21 10:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/aa7f31942647a9e2f54d90cdc76d1eb4ba830a8e', 'message': 'Cleanup for sriov-agent sriov-agent-required\n\nAs per mitaka release sriov-agent is enabled by default\nHence removing this option for sriov-agent. If mech driver\nhas sriovnicswitch, then sriov-agent is enabled by default.\n\nImplements: blueprint tripleo-sriov\nChange-Id: I01bdda6df995f3b09fc55e6b1a016246b68eea26\n'}, {'number': 6, 'created': '2016-07-21 15:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2e7831e8ebfdb53a4902f403dbfb59e004f912f6', 'message': 'Cleanup for sriov-agent sriov-agent-required\n\nAs per mitaka release sriov-agent is enabled by default\nHence removing this option for sriov-agent. If mech driver\nhas sriovnicswitch, then sriov-agent is enabled by default.\n\nImplements: blueprint tripleo-sriov\nChange-Id: I01bdda6df995f3b09fc55e6b1a016246b68eea26\n'}, {'number': 7, 'created': '2016-07-22 07:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/51166c1be29036e146e43c695d3681d5c86df4a6', 'message': 'Cleanup for sriov-agent sriov-agent-required\n\nAs per mitaka release sriov-agent is enabled by default\nHence removing this option for sriov-agent. If mech driver\nhas sriovnicswitch, then sriov-agent is enabled by default.\n\nImplements: blueprint tripleo-sriov\nChange-Id: I01bdda6df995f3b09fc55e6b1a016246b68eea26\n'}, {'number': 8, 'created': '2016-08-02 15:39:52.000000000', 'files': ['spec/classes/neutron_plugins_ml2_spec.rb', 'manifests/plugins/ml2/mech_driver.pp', 'manifests/plugins/ml2.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/fb2b74d6d9ff3d36005b4220d479b9dcefaafa7a', 'message': 'Cleanup for sriov-agent sriov-agent-required\n\nAs per mitaka release sriov-agent is enabled by default\nHence removing this option for sriov-agent. If mech driver\nhas sriovnicswitch, then sriov-agent is enabled by default.\n\nImplements: blueprint tripleo-sriov\nChange-Id: I01bdda6df995f3b09fc55e6b1a016246b68eea26\n'}]",14,330544,fb2b74d6d9ff3d36005b4220d479b9dcefaafa7a,76,11,8,10034,,,0,"Cleanup for sriov-agent sriov-agent-required

As per mitaka release sriov-agent is enabled by default
Hence removing this option for sriov-agent. If mech driver
has sriovnicswitch, then sriov-agent is enabled by default.

Implements: blueprint tripleo-sriov
Change-Id: I01bdda6df995f3b09fc55e6b1a016246b68eea26
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/44/330544/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/plugins/ml2/mech_driver.pp', 'manifests/plugins/ml2.pp']",2,3ef5f3ee3497eb4dcb32a274394dd846c67b04de,bp/tripleo-sriov,,"# [*sriov_agent_required*] # (optional) SRIOV neutron agent is required for port binding. # Only set to true if SRIOV network adapters support VF link state setting # and if admin state management is desired. # Defaults to false. # $sriov_agent_required = false, sriov_agent_required => $sriov_agent_required,",0,13
openstack%2Fgovernance~master~I5191fa162c43de8622d761fc59434627767f9102,openstack/governance,master,I5191fa162c43de8622d761fc59434627767f9102,clarify that cycle-trailing projects follow the milestone deadlines,MERGED,2016-07-28 18:20:46.000000000,2016-08-12 09:51:27.000000000,2016-08-12 09:51:27.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 170}, {'_account_id': 308}, {'_account_id': 782}, {'_account_id': 964}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 2834}, {'_account_id': 5196}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6816}, {'_account_id': 12898}]","[{'number': 1, 'created': '2016-07-28 18:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/eba74cf3f19c7028858add6d86595a90acf642fd', 'message': 'clarify that cycle-trailing projects follow the milestone deadlines\n\nClarify that the release team expects deliverables using the\ncycle-trailing release model to follow normal milestone deadlines,\nexcept for the final release at the end of the cycle.\n\nChange-Id: I5191fa162c43de8622d761fc59434627767f9102\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2016-07-29 13:51:02.000000000', 'files': ['reference/tags/release_cycle-trailing.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/a80648389c912c655eb6d2fa0c77cbb09c99fbec', 'message': 'clarify that cycle-trailing projects follow the milestone deadlines\n\nClarify that the release team expects deliverables using the\ncycle-trailing release model to follow normal milestone deadlines,\nexcept for the final release at the end of the cycle.\n\nChange-Id: I5191fa162c43de8622d761fc59434627767f9102\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",2,348501,a80648389c912c655eb6d2fa0c77cbb09c99fbec,24,14,2,2472,,,0,"clarify that cycle-trailing projects follow the milestone deadlines

Clarify that the release team expects deliverables using the
cycle-trailing release model to follow normal milestone deadlines,
except for the final release at the end of the cycle.

Change-Id: I5191fa162c43de8622d761fc59434627767f9102
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/01/348501/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/tags/release_cycle-trailing.rst'],1,eba74cf3f19c7028858add6d86595a90acf642fd,formal-vote, intermediate or milestone releases (following the regular deadlines) leading up to their final release., intermediate or milestone releases leading up to their final release.,2,2
openstack%2Fheat~master~I3150e48c2e305c584601ce237ddf0ceb69cb3ed5,openstack/heat,master,I3150e48c2e305c584601ce237ddf0ceb69cb3ed5,Cache stack_id -> root_id,ABANDONED,2016-08-06 05:24:05.000000000,2016-08-12 09:51:11.000000000,,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 13564}, {'_account_id': 20559}]","[{'number': 1, 'created': '2016-08-06 05:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/85a507c6dba7a2af27a706bf903896ea30b10c9d', 'message': ""Cache stack_id -> root_id\n\nBefore this patch, calls to Stack.get_root_id() relied on the db layer\nto look up the root_id: a recursive operation with as many calls as\nthe depth of the stack. This is only invoked when resources are\ncreated, but if there are 100 resources at an average stack depth of\n20, that's about 2000 more db calls than we really should need. With\nthis patch, we would expect at most 20 db calls.\n\nUse a global dict for the cache since this is a string->string mapping\nthat should not get too large compared to other things heat.\n\nChange-Id: I3150e48c2e305c584601ce237ddf0ceb69cb3ed5\n""}, {'number': 2, 'created': '2016-08-09 08:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/86119a91f82acd0c70dac1216e750e7a1b5ff8ed', 'message': ""Cache stack_id -> root_id\n\nBefore this patch, calls to Stack.get_root_id() relied on the db layer\nto look up the root_id: a recursive operation with as many calls as\nthe depth of the stack. This is only invoked when resources are\ncreated, but if there are 100 resources at an average stack depth of\n20, that's about 2000 more db calls than we really should need. With\nthis patch, we would expect at most 20 db calls.\n\nUse a global dict for the cache since this is a string->string mapping\nthat should not get too large compared to other things heat.\n\nChange-Id: I3150e48c2e305c584601ce237ddf0ceb69cb3ed5\n""}, {'number': 3, 'created': '2016-08-09 19:41:44.000000000', 'files': ['heat/tests/test_stack.py', 'heat/engine/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/4dcf6b84a4da6af7095de60a5ca4cc8fabf35041', 'message': ""Cache stack_id -> root_id\n\nBefore this patch, calls to Stack.get_root_id() relied on the db layer\nto look up the root_id: a recursive operation with as many calls as\nthe depth of the stack. This is only invoked when resources are\ncreated, but if there are 100 resources at an average stack depth of\n20, that's about 2000 more db calls than we really should need. With\nthis patch, we would expect at most 20 db calls.\n\nUse a global dict for the cache since this is a string->string mapping\nthat should not get too large compared to other things heat.\n\nChange-Id: I3150e48c2e305c584601ce237ddf0ceb69cb3ed5\n""}]",3,351982,4dcf6b84a4da6af7095de60a5ca4cc8fabf35041,17,4,3,13564,,,0,"Cache stack_id -> root_id

Before this patch, calls to Stack.get_root_id() relied on the db layer
to look up the root_id: a recursive operation with as many calls as
the depth of the stack. This is only invoked when resources are
created, but if there are 100 resources at an average stack depth of
20, that's about 2000 more db calls than we really should need. With
this patch, we would expect at most 20 db calls.

Use a global dict for the cache since this is a string->string mapping
that should not get too large compared to other things heat.

Change-Id: I3150e48c2e305c584601ce237ddf0ceb69cb3ed5
",git fetch https://review.opendev.org/openstack/heat refs/changes/82/351982/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_stack.py', 'heat/engine/stack.py']",2,85a507c6dba7a2af27a706bf903896ea30b10c9d,cache_stack_id_to_root_id,"_root_ids = {} if self.owner_id is None: _root_ids[self.id] = self.id elif self.id in _root_ids: _root_ids[self.owner_id] = _root_ids[self.id] return _root_ids[self.id] elif self.owner_id in _root_ids: _root_ids[self.id] = _root_ids[self.owner_id] return _root_ids[self.id] root_id = stack_object.Stack.get_root_id(self.context, self.owner_id) if root_id is None: return None _root_ids[self.id] = root_id if self.owner_id is not None: _root_ids[self.owner_id] = root_id return root_id if self.id in _root_ids: del _root_ids[self.id]"," if not self.owner_id: return stack_object.Stack.get_root_id(self.context, self.owner_id)",65,2
openstack%2Fgovernance~master~I4e533201afa3d5815672d203ed296c3db2722d17,openstack/governance,master,I4e533201afa3d5815672d203ed296c3db2722d17,Refresh I18n ATC list,MERGED,2016-08-05 03:48:27.000000000,2016-08-12 09:50:00.000000000,2016-08-12 09:50:00.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 170}, {'_account_id': 308}, {'_account_id': 782}, {'_account_id': 964}, {'_account_id': 1561}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 10497}]","[{'number': 1, 'created': '2016-08-05 03:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/f13daef037a8fa400464c79dafa9857ef3789e27', 'message': ""Refresh I18n ATC list\n\nThose people are active translators from 2016-02-01 to 2016-07-31.\nThe name list was made by querying Zanata translators statistic API.\n\nIt's necessary to grant those people ATC in order to make them voters\nfor PTL and give them the discount codes for Barcelona summit.\n\nChange-Id: I4e533201afa3d5815672d203ed296c3db2722d17\n""}, {'number': 2, 'created': '2016-08-08 23:50:13.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/3aa6cb3e52944f8bed250e0714c7373605b2ebc5', 'message': ""Refresh I18n ATC list\n\nThose people are active translators from 2016-02-01 to 2016-07-31.\nThe name list was made by querying Zanata translators statistic API.\n\nIt's necessary to grant those people ATC in order to make them voters\nfor PTL and give them the discount codes for Barcelona summit.\n\nChange-Id: I4e533201afa3d5815672d203ed296c3db2722d17\n""}]",2,351480,3aa6cb3e52944f8bed250e0714c7373605b2ebc5,25,13,2,10497,,,0,"Refresh I18n ATC list

Those people are active translators from 2016-02-01 to 2016-07-31.
The name list was made by querying Zanata translators statistic API.

It's necessary to grant those people ATC in order to make them voters
for PTL and give them the discount codes for Barcelona summit.

Change-Id: I4e533201afa3d5815672d203ed296c3db2722d17
",git fetch https://review.opendev.org/openstack/governance refs/changes/80/351480/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,f13daef037a8fa400464c79dafa9857ef3789e27,formal-vote, - name: Lenka Husakova email: lenka.husakova@ultimum.io expires-in: July 2017 comment: lenkahusakova - name: Stanislav Ulrych email: stanislav.ulrych@ultimum.io expires-in: July 2017 comment: stanislavulrych - name: Zbyn?k Schwarz email: zbynek.schwarz@gmail.com expires-in: July 2017 comment: tsbook - name: Alex Loew email: alex.loew.al@gmail.com expires-in: July 2017 comment: loewal expires-in: July 2017 expires-in: July 2017 expires-in: July 2017 expires-in: July 2017 expires-in: July 2017 - name: Dirk Wallerstorfer email: dirk.wallerstorfer@ruxit.com expires-in: July 2017 comment: wall_dirk - name: Lisa Stemmler email: lstemmle@redhat.com expires-in: July 2017 comment: lstemmle - name: Monika Wolf email: vcomas3@de.ibm.com expires-in: July 2017 comment: vcomas3 - name: Andi Chandler email: andi@gowling.com expires-in: July 2017 comment: andibing - name: Bokai Tseng email: robert.cresswell@outlook.com expires-in: July 2017 comment: robcresswell expires-in: July 2017 expires-in: July 2017 expires-in: July 2017 expires-in: July 2017 - name: Jose Porrua email: jose.porrua@netapp.com expires-in: July 2017 comment: porrua - name: Pablo Caruana email: pcaruana@redhat.com expires-in: July 2017 comment: pcaruana - name: Pablo Iranzo Gomez email: Pablo.Iranzo@gmail.com expires-in: July 2017 comment: iranzo - name: Angelique Pillal email: pillal@fr.ibm.com expires-in: July 2017 comment: angelique_pillal16 - name: Cedric Savignan email: liced@liced.fr expires-in: July 2017 comment: liced expires-in: July 2017 email: gael_rehault@dell.com expires-in: July 2017 comment: gael__ - name: Gerald LONLAS email: g.lonlas@gmail.com expires-in: July 2017 comment: g.lonlas@gmail.com expires-in: July 2017 expires-in: July 2017 expires-in: July 2017 expires-in: July 2017 expires-in: July 2017 - name: Marcellin Fom Tchassem email: mf6510@att.com expires-in: July 2017 comment: ciello89 - name: Martine Marin email: mmarin@fr.ibm.com expires-in: July 2017 comment: mmarin - name: Nicolas Fournier email: nicolas.fournier3@gmail.com expires-in: July 2017 comment: nikoul - name: Romain Chantereau email: rchanter@redhat.com expires-in: July 2017 comment: romainsc - name: Sylvie Chesneau email: sissicdf@fr.ibm.com expires-in: July 2017 comment: sylvie_chesneau - name: suhartono email: cloudsuhartono@gmail.com expires-in: July 2017 comment: suhartono expires-in: July 2017 - name: Doraly Navarro email: doralynavarro@gmail.com expires-in: July 2017 comment: dynarro - name: Remo Mattei email: remo@rm.ht expires-in: July 2017 comment: itlinux expires-in: July 2017 expires-in: July 2017 - name: Eguchi Yoshiki email: yoshiki.eguchi@gmail.com expires-in: July 2017 comment: yeguchi - name: Haruki Yamanashi email: h.yamanashi@jp.fujitsu.com expires-in: July 2017 comment: haruki - name: Kyohei MORIYAMA email: flogofrein@gmail.com expires-in: July 2017 comment: sasukeh - name: Masami Sasahara email: ebb0de1@jp.ibm.com expires-in: July 2017 comment: masami_sasahara - name: Mie Yamamoto email: myamamot@redhat.com expires-in: July 2017 comment: myamamot - name: otsuka email: otsuka@ap-com.co.jp expires-in: July 2017 comment: otsuka expires-in: July 2017 - name: Tsutomu Kimura email: ebb0de2@jp.ibm.com expires-in: July 2017 comment: tsutomu_kimura expires-in: July 2017 expires-in: July 2017 expires-in: July 2017 expires-in: July 2017 expires-in: July 2017 - name: jtjang email: jang.jitae@gmail.com expires-in: July 2017 comment: jitaejang - name: SeYeon Lee email: sy_lee@kr.ibm.com expires-in: July 2017 comment: seyeon - name: skywalker54 email: shpark@rockplace.co.kr expires-in: July 2017 comment: seonhopark - name: Taekho Nam email: career.thnam@gmail.com expires-in: July 2017 comment: thnam - name: Andre email: andrecbezerra@gmail.com expires-in: July 2017 comment: andrecampos - name: Carlos Marques email: marquesc@br.ibm.com expires-in: July 2017 comment: marquesc - name: Eric Baum email: ecbaum@gmail.com expires-in: July 2017 comment: ericbaum expires-in: July 2017 expires-in: July 2017 - name: sandro email: sandro@conacloud.com.br expires-in: July 2017 comment: sanporci expires-in: July 2017 - name: Grigory Mokhin email: mokhin@gmail.com expires-in: July 2017 comment: mokhin2 expires-in: July 2017 - name: Kirill Zaitsev email: k.zaitsev@me.com expires-in: July 2017 comment: kzaitsev - name: Nikita Burtsev email: nikita.burtsev@gmail.com expires-in: July 2017 comment: nburtsev - name: komatineni email: komatineni@gmail.com expires-in: July 2017 comment: komatineni expires-in: July 2017 expires-in: July 2017 - name: BillXiang email: m13250816269@163.com expires-in: July 2017 comment: billxiang - name: Carl email: cai.hui@zte.com.cn expires-in: July 2017 comment: caihui - name: Chancy Chou email: sixloop@hotmail.com expires-in: July 2017 comment: zhouchangxun - name: gecong email: ge.cong@zte.com.cn expires-in: July 2017 comment: gecong - name: hanchao email: han.chaoB@h3c.com expires-in: July 2017 comment: openstackhc - name: Huiyuan email: changhuiyuan@gmail.com expires-in: July 2017 comment: changhuiyuan - name: Jiong Liu email: liujiong@gohighsec.com expires-in: July 2017 comment: liujiong - name: Junpeng Liu email: liujunpeng@inspur.com expires-in: July 2017 comment: liujunpeng - name: lindayang email: duleish@cn.ibm.com expires-in: July 2017 comment: lindayang - name: LinLin email: 469923498@qq.com expires-in: July 2017 comment: linlin - name: Lucas Palm email: lapalm@us.ibm.com expires-in: July 2017 comment: lapalm - name: mimisheep email: 157815086@qq.com expires-in: July 2017 comment: mimisheep - name: Petro email: wang-junjie@outlook.com expires-in: July 2017 comment: petro - name: Shengjing Zhu email: zsj950618@gmail.com expires-in: July 2017 comment: zhsj - name: Shuai Mao email: fwsakura@163.com expires-in: July 2017 comment: maoshuai - name: Sun Jing email: sun.jing22@zte.com.cn expires-in: July 2017 comment: sunjing - name: SunAnChen email: KF.sunanchen@h3c.com expires-in: July 2017 comment: sunanchen - name: vuuv email: froms2008@gmail.com expires-in: July 2017 comment: vuuv - name: Yu Long email: yulongxn@163.com expires-in: July 2017 comment: lony - name: zenglulu email: zengluul@gmail.com expires-in: July 2017 comment: zenglulu - name: zhengjie email: zhengjie7800@126.com expires-in: July 2017 comment: zhengjie7800 expires-in: July 2017 - name: zzxwill email: zzxwill@gmail.com expires-in: July 2017 comment: zzxwill expires-in: July 2017 expires-in: July 2017 - name: Cristina Xu email: cristxu@tw.ibm.com expires-in: July 2017 comment: jenniferkuo - name: Danny Ho email: danny.h@inwinstack.com expires-in: July 2017 comment: danny - name: Gene Kuo email: igene@igene.tw expires-in: July 2017 comment: igene - name: Terry Tai email: terry@cloudcube.com.tw expires-in: July 2017 comment: terrytai820 expires-in: July 2017 expires-in: July 2017 expires-in: July 2017 expires-in: July 2017, expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 email: gael01@gmail.com expires-in: January 2017 comment: gael_rehault expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017 expires-in: January 2017,312,40
openstack%2Fjs-openstack-lib~master~If0b8184b083f7defa04a568aa6e49cbf5ddb6a88,openstack/js-openstack-lib,master,If0b8184b083f7defa04a568aa6e49cbf5ddb6a88,Added clouds.yaml to excludes.,MERGED,2016-08-11 18:23:33.000000000,2016-08-12 09:49:10.000000000,2016-08-12 09:49:10.000000000,"[{'_account_id': 3}, {'_account_id': 8735}]","[{'number': 1, 'created': '2016-08-11 18:23:33.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/6b9dde7b0394252c7aae1167425668a3b8c5b040', 'message': ""Added clouds.yaml to excludes.\n\nIndividual developers would probably like to be able to run their\ntests against devstack. Since we can't predict which devstack they'll\nrun against, this patch makes sure that each can configure their\nown cloud as they see fit.\n\nChange-Id: If0b8184b083f7defa04a568aa6e49cbf5ddb6a88\n""}]",0,354330,6b9dde7b0394252c7aae1167425668a3b8c5b040,6,2,1,9717,,,0,"Added clouds.yaml to excludes.

Individual developers would probably like to be able to run their
tests against devstack. Since we can't predict which devstack they'll
run against, this patch makes sure that each can configure their
own cloud as they see fit.

Change-Id: If0b8184b083f7defa04a568aa6e49cbf5ddb6a88
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/30/354330/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,6b9dde7b0394252c7aae1167425668a3b8c5b040,vagrant,# Dev Environment Excludesclouds.yaml,# IDE files,2,1
openstack%2Fjs-openstack-lib~master~Ife15221d86c764e97fd02951db6410261827ca1b,openstack/js-openstack-lib,master,Ife15221d86c764e97fd02951db6410261827ca1b,Added local IP to vagrant.sh,MERGED,2016-08-11 16:53:56.000000000,2016-08-12 09:49:05.000000000,2016-08-12 09:49:05.000000000,"[{'_account_id': 3}, {'_account_id': 8735}]","[{'number': 1, 'created': '2016-08-11 16:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/d7144cec45fced1be80e9ab8090d9859e887e8a3', 'message': 'Added local IP to vagrant.sh\n\nExplicitly included the IP address to the generated localrc.\nVariable substitution actually occurs in the script and is not output\nto the config file. I could escape it, but this was faster.\n\nChange-Id: Ife15221d86c764e97fd02951db6410261827ca1b\n'}, {'number': 2, 'created': '2016-08-11 18:23:33.000000000', 'files': ['vagrant.sh'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/62cf2d2f6aa9a706cfae74d6ddbbf1f9fb838e96', 'message': 'Added local IP to vagrant.sh\n\nExplicitly included the IP address to the generated localrc.\nVariable substitution actually occurs in the script and is not output\nto the config file. I could escape it, but this was faster.\n\nChange-Id: Ife15221d86c764e97fd02951db6410261827ca1b\n'}]",0,354220,62cf2d2f6aa9a706cfae74d6ddbbf1f9fb838e96,7,2,2,9717,,,0,"Added local IP to vagrant.sh

Explicitly included the IP address to the generated localrc.
Variable substitution actually occurs in the script and is not output
to the config file. I could escape it, but this was faster.

Change-Id: Ife15221d86c764e97fd02951db6410261827ca1b
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/20/354220/1 && git format-patch -1 --stdout FETCH_HEAD,['vagrant.sh'],1,d7144cec45fced1be80e9ab8090d9859e887e8a3,vagrant,SERVICE_HOST=192.168.99.99 RECLONE=True,SERVICE_HOST=$HOST_IP,2,1
openstack%2Fswift~master~Id1081363610075f306eff7cf003c3355f283f1d1,openstack/swift,master,Id1081363610075f306eff7cf003c3355f283f1d1,Reduce code duplication,MERGED,2016-01-14 18:36:20.000000000,2016-08-12 09:47:55.000000000,2016-08-12 09:47:55.000000000,"[{'_account_id': 3}, {'_account_id': 7847}, {'_account_id': 8542}, {'_account_id': 9562}, {'_account_id': 9625}, {'_account_id': 9708}, {'_account_id': 13052}, {'_account_id': 18015}, {'_account_id': 18334}, {'_account_id': 18603}, {'_account_id': 20508}]","[{'number': 1, 'created': '2016-01-14 18:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/19126fd60fd1f1cbf1f21b81b10c94211069fdc5', 'message': 'Reduce code duplication\n\nReduced source code by extracting duplicated code\n(swift/cli/ringbuilder.py)\nhttp://10.6.13.31:9000/dashboard/index/5?did=1 , in 137~CloneClass\n\nChange-Id: Id1081363610075f306eff7cf003c3355f283f1d1\n'}, {'number': 2, 'created': '2016-01-20 11:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1beeaaef476455d3626119c63f8377eb468f111a', 'message': 'Reduce code duplication\n\nReduced source code by extracting duplicated code\n(swift/cli/ringbuilder.py)\nhttp://openqa.sed.hu/dashboard/index?did=1&id=OpenStack%3Aswift,\nin 137~CloneClass\n\nChange-Id: Id1081363610075f306eff7cf003c3355f283f1d1\nCloses-Bug: 1536127\n'}, {'number': 3, 'created': '2016-02-19 14:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6f5f2c22ecc67193355c4194925c93f0197fccbf', 'message': 'Reduce code duplication\n\nReduced source code by extracting duplicated code\n(swift/cli/ringbuilder.py)\nhttp://openqa.sed.hu/dashboard/index?did=1&id=OpenStack%3Aswift,\nin 137~CloneClass\n\nChange-Id: Id1081363610075f306eff7cf003c3355f283f1d1\nCloses-Bug: 1536127\n'}, {'number': 4, 'created': '2016-07-15 10:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ca932040b97686a182dbf6acca4b0483de02e91c', 'message': 'Reduce code duplication\n\nReduced source code by extracting duplicated code\n(swift/cli/ringbuilder.py)\nhttp://openqa.sed.hu/dashboard/index?did=1&id=OpenStack%3Aswift,\nin 127~CloneClass\n\nChange-Id: Id1081363610075f306eff7cf003c3355f283f1d1\nCloses-Bug: 1536127\n'}, {'number': 5, 'created': '2016-07-18 07:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cf961de005782d4a2ed35f53c030f5d927569ecb', 'message': 'Reduce code duplication\n\nReduced source code by extracting duplicated code\n(swift/cli/ringbuilder.py)\nhttp://openqa.sed.hu/dashboard/index?did=1&id=OpenStack%3Aswift,\nin 127~CloneClass\n\nChange-Id: Id1081363610075f306eff7cf003c3355f283f1d1\nCloses-Bug: 1536127\n'}, {'number': 6, 'created': '2016-07-29 10:56:46.000000000', 'files': ['swift/cli/ringbuilder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1533eb3f3fb358eea92a9f23c4558dd8a0577d1a', 'message': 'Reduce code duplication\n\nReduced source code by extracting duplicated code\n(swift/cli/ringbuilder.py)\nhttp://openqa.sed.hu/dashboard/index?did=1&id=OpenStack%3Aswift,\nin 127~CloneClass\n\nChange-Id: Id1081363610075f306eff7cf003c3355f283f1d1\nCloses-Bug: 1536127\n'}]",3,267767,1533eb3f3fb358eea92a9f23c4558dd8a0577d1a,38,11,6,18603,,,0,"Reduce code duplication

Reduced source code by extracting duplicated code
(swift/cli/ringbuilder.py)
http://openqa.sed.hu/dashboard/index?did=1&id=OpenStack%3Aswift,
in 127~CloneClass

Change-Id: Id1081363610075f306eff7cf003c3355f283f1d1
Closes-Bug: 1536127
",git fetch https://review.opendev.org/openstack/swift refs/changes/67/267767/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/cli/ringbuilder.py'],1,19126fd60fd1f1cbf1f21b81b10c94211069fdc5,bug/1536127,"def check_devs(devs, input_msg, print_msg): if input('Are you sure you want to ' + input_msg + ' these %s devices? (y/N) ' % len(devs)) != 'y': print('Aborting device ' + print_msg) def _set_weight_values(devs, weight): check_devs(devs, 'update the weight for', 'modifications') check_devs(devs, 'update the info for', 'modifications')def calculate_change_value(change_value, change, v_name, v_name_port): ip = '' if change_value and change_value[0].isdigit(): i = 1 while (i < len(change_value) and change_value[i] in '0123456789.'): i += 1 ip = change_value[:i] change_value = change_value[i:] elif change_value and change_value.startswith('['): i = 1 while i < len(change_value) and change_value[i] != ']': i += 1 i += 1 ip = change_value[:i].lstrip('[').rstrip(']') change_value = change_value[i:] if ip: change[v_name] = validate_and_normalize_ip(ip) if change_value.startswith(':'): i = 1 while i < len(change_value) and change_value[i].isdigit(): i += 1 change[v_name_port] = int(change_value[1:i]) change_value = change_value[i:] return change_value change_value = calculate_change_value( change_value, change, 'ip', 'port') change_value = calculate_change_value( change_value, change, 'replication_ip', 'replication_port') check_devs(devs, 'remove', 'removals')","def _set_weight_values(devs, weight): if input('Are you sure you want to update the weight for ' 'these %s devices? (y/N) ' % len(devs)) != 'y': print('Aborting device modifications') if not devs: print(""Search value matched 0 devices.\n"" ""The on-disk ring builder is unchanged."") exit(EXIT_ERROR) if len(devs) > 1: print('Matched more than one device:') for dev in devs: print(' %s' % format_device(dev)) if input('Are you sure you want to update the info for ' 'these %s devices? (y/N) ' % len(devs)) != 'y': print('Aborting device modifications') exit(EXIT_ERROR) ip = '' if change_value and change_value[0].isdigit(): i = 1 while (i < len(change_value) and change_value[i] in '0123456789.'): i += 1 ip = change_value[:i] change_value = change_value[i:] elif change_value and change_value.startswith('['): i = 1 while i < len(change_value) and change_value[i] != ']': i += 1 i += 1 ip = change_value[:i].lstrip('[').rstrip(']') change_value = change_value[i:] if ip: change['ip'] = validate_and_normalize_ip(ip) if change_value.startswith(':'): i = 1 while i < len(change_value) and change_value[i].isdigit(): i += 1 change['port'] = int(change_value[1:i]) change_value = change_value[i:] replication_ip = '' if change_value and change_value[0].isdigit(): i = 1 while (i < len(change_value) and change_value[i] in '0123456789.'): i += 1 replication_ip = change_value[:i] change_value = change_value[i:] elif change_value and change_value.startswith('['): i = 1 while i < len(change_value) and change_value[i] != ']': i += 1 i += 1 replication_ip = \ change_value[:i].lstrip('[').rstrip(']') change_value = change_value[i:] if replication_ip: change['replication_ip'] = \ validate_and_normalize_ip(replication_ip) if change_value.startswith(':'): i = 1 while i < len(change_value) and change_value[i].isdigit(): i += 1 change['replication_port'] = int(change_value[1:i]) change_value = change_value[i:] if not devs: print('Search value matched 0 devices.\n' 'The on-disk ring builder is unchanged.') exit(EXIT_ERROR) if len(devs) > 1: print('Matched more than one device:') for dev in devs: print(' %s' % format_device(dev)) if input('Are you sure you want to remove these %s ' 'devices? (y/N) ' % len(devs)) != 'y': print('Aborting device removals') exit(EXIT_ERROR)",43,78
openstack%2Fnova~master~I7869a974e00666a3e6cc0a909b65a5267259a238,openstack/nova,master,I7869a974e00666a3e6cc0a909b65a5267259a238,revert quota's behaviour,ABANDONED,2016-08-11 18:58:54.000000000,2016-08-12 09:46:27.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-08-11 18:58:54.000000000', 'files': ['nova/conf/quota.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2279ed81db4146272eb93043c5bff5fc213f0718', 'message': ""revert quota's behaviour\n\nthis patchset I7e1986c5f11356060cc9db12605b1322c39e79c0\nbroke behaviour of unlimited values.\nDevstack set -1 for most values in case of fake virt driver.\nAlso if some clouds have -1 for these parameters then nova\nwill not start after upgrade to Newton.\n\nChange-Id: I7869a974e00666a3e6cc0a909b65a5267259a238\n""}]",0,354340,2279ed81db4146272eb93043c5bff5fc213f0718,12,11,1,10234,,,0,"revert quota's behaviour

this patchset I7e1986c5f11356060cc9db12605b1322c39e79c0
broke behaviour of unlimited values.
Devstack set -1 for most values in case of fake virt driver.
Also if some clouds have -1 for these parameters then nova
will not start after upgrade to Newton.

Change-Id: I7869a974e00666a3e6cc0a909b65a5267259a238
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/354340/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/quota.py'],1,2279ed81db4146272eb93043c5bff5fc213f0718,," min=-1, * -1 : treated as unlimited. min=-1, * -1 : treated as unlimited. min=-1, * -1 : treated as unlimited. * -1 : treated as unlimited. min=-1, * -1 : treated as unlimited. min=-1, * -1 : treated as unlimited. min=-1, * -1 : treated as unlimited."," min=0, min=0, min=0, min=0, min=0, min=0,",13,6
openstack%2Fglance~master~I070878514e692a86dc61cb85478e9c784ad48933,openstack/glance,master,I070878514e692a86dc61cb85478e9c784ad48933,Updated from global requirements,MERGED,2016-08-11 18:10:35.000000000,2016-08-12 09:46:18.000000000,2016-08-12 09:46:18.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5202}]","[{'number': 1, 'created': '2016-08-11 18:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/605cb67a74f99f7e5c603c51eb7db51b1516db46', 'message': 'Updated from global requirements\n\nChange-Id: I070878514e692a86dc61cb85478e9c784ad48933\n'}, {'number': 2, 'created': '2016-08-12 00:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6a2067ca787f7accb856c686a42877eb5ea5795c', 'message': 'Updated from global requirements\n\nChange-Id: I070878514e692a86dc61cb85478e9c784ad48933\n'}, {'number': 3, 'created': '2016-08-12 04:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/da8a768c31bb82b5839265101ad4f7b6f9170526', 'message': 'Updated from global requirements\n\nChange-Id: I070878514e692a86dc61cb85478e9c784ad48933\n'}, {'number': 4, 'created': '2016-08-12 04:48:38.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance/commit/d0f4316752d313bffeafd2be0283201813e1e9a2', 'message': 'Updated from global requirements\n\nChange-Id: I070878514e692a86dc61cb85478e9c784ad48933\n'}]",0,354296,d0f4316752d313bffeafd2be0283201813e1e9a2,12,3,4,11131,,,0,"Updated from global requirements

Change-Id: I070878514e692a86dc61cb85478e9c784ad48933
",git fetch https://review.opendev.org/openstack/glance refs/changes/96/354296/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,605cb67a74f99f7e5c603c51eb7db51b1516db46,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Fsenlin~master~Idf61c44da1b90fd806934172baf831e3b6427245,openstack/senlin,master,Idf61c44da1b90fd806934172baf831e3b6427245,Fix api-ref for version related samples,MERGED,2016-08-12 07:49:45.000000000,2016-08-12 09:43:21.000000000,2016-08-12 09:43:21.000000000,"[{'_account_id': 3}, {'_account_id': 8246}]","[{'number': 1, 'created': '2016-08-12 07:49:45.000000000', 'files': ['api-ref/source/samples/version-show-response.json', 'api-ref/source/samples/versions-list-response.json'], 'web_link': 'https://opendev.org/openstack/senlin/commit/1b51b85759bcc0d163235edc06b9175f3f60bad8', 'message': ""Fix api-ref for version related samples\n\nWe have added a 'help' link the version list and show calls. This patch\nfixes the api-ref documentation for this.\n\nChange-Id: Idf61c44da1b90fd806934172baf831e3b6427245\n""}]",0,354565,1b51b85759bcc0d163235edc06b9175f3f60bad8,6,2,1,8246,,,0,"Fix api-ref for version related samples

We have added a 'help' link the version list and show calls. This patch
fixes the api-ref documentation for this.

Change-Id: Idf61c44da1b90fd806934172baf831e3b6427245
",git fetch https://review.opendev.org/openstack/senlin refs/changes/65/354565/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/samples/version-show-response.json', 'api-ref/source/samples/versions-list-response.json']",2,1b51b85759bcc0d163235edc06b9175f3f60bad8,api-ref-sample," }, { ""href"": ""http://developer.openstack.org/api-ref/clustering"", ""rel"": ""help""",,8,0
openstack%2Foslo.config~master~I573469c9896929f14936e440e53174b56e988943,openstack/oslo.config,master,I573469c9896929f14936e440e53174b56e988943,Fix: default value of prog should remove extension,MERGED,2016-08-02 03:56:11.000000000,2016-08-12 09:43:11.000000000,2016-08-12 09:43:10.000000000,"[{'_account_id': 3}, {'_account_id': 8688}, {'_account_id': 9459}, {'_account_id': 9796}, {'_account_id': 13290}]","[{'number': 1, 'created': '2016-08-02 03:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/b11898ab095f3a3f3572f3b43fcb9b3b7a69133b', 'message': 'Fix: default value of prog should remove extension\n\nWhen setting the default value of prog in ConfigOpts._pre_setup,\nfind_config_files, the argv[0] is used directly. In general, the argv[0]\nshould be like app_file.py, this patch remove the .py extension for prog.\n\nChange-Id: I573469c9896929f14936e440e53174b56e988943\nCloses-Bug: #1418025\n'}, {'number': 2, 'created': '2016-08-09 15:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/9c40d41835fd1d84e634830825990d364514af06', 'message': 'Fix: default value of prog should remove extension\n\nWhen setting the default value of prog in ConfigOpts._pre_setup,\nfind_config_files, the argv[0] is used directly. In general, the argv[0]\nshould be like app_file.py, this patch remove the .py extension for prog.\n\nChange-Id: I573469c9896929f14936e440e53174b56e988943\nCloses-Bug: #1418025\n'}, {'number': 3, 'created': '2016-08-11 10:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/d3acc5ec1f0af59f737dd15077d2199f97965cc5', 'message': 'Fix: default value of prog should remove extension\n\nWhen setting the default value of prog in ConfigOpts._pre_setup,\nfind_config_files, the argv[0] is used directly. In general, the argv[0]\nshould be like app_file.py, this patch remove the .py extension for prog.\n\nChange-Id: I573469c9896929f14936e440e53174b56e988943\nCloses-Bug: #1418025\n'}, {'number': 4, 'created': '2016-08-11 10:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/d9076972ce435c7f6286613759232d97b68351f3', 'message': 'Fix: default value of prog should remove extension\n\nWhen setting the default value of prog in ConfigOpts._pre_setup,\nfind_config_files, the argv[0] is used directly. In general, the argv[0]\nshould be like app_file.py, this patch remove the .py extension for prog.\n\nChange-Id: I573469c9896929f14936e440e53174b56e988943\nCloses-Bug: #1418025\n'}, {'number': 5, 'created': '2016-08-11 10:37:35.000000000', 'files': ['oslo_config/cfg.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/8f1c7502d38b1b10efc46f3408a852274387befc', 'message': 'Fix: default value of prog should remove extension\n\nWhen setting the default value of prog in ConfigOpts._pre_setup,\nfind_config_files, the argv[0] is used directly. In general, the argv[0]\nshould be like app_file.py, this patch remove the .py extension for prog.\n\nChange-Id: I573469c9896929f14936e440e53174b56e988943\nCloses-Bug: #1418025\n'}]",3,349778,8f1c7502d38b1b10efc46f3408a852274387befc,18,5,5,9459,,,0,"Fix: default value of prog should remove extension

When setting the default value of prog in ConfigOpts._pre_setup,
find_config_files, the argv[0] is used directly. In general, the argv[0]
should be like app_file.py, this patch remove the .py extension for prog.

Change-Id: I573469c9896929f14936e440e53174b56e988943
Closes-Bug: #1418025
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/78/349778/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/cfg.py'],1,b11898ab095f3a3f3572f3b43fcb9b3b7a69133b,bug/1418025," :param prog: the program name, defaulting to the basename of sys.argv[0], without extension .py prog = os.path.splitext(prog)[0] prog = os.path.splitext(prog)[0] :param prog: the name of the program (defaults to sys.argv[0] basename, without extension .py)"," :param prog: the program name, defaulting to the basename of sys.argv[0] :param prog: the name of the program (defaults to sys.argv[0] basename)",6,2
openstack%2Fjs-openstack-lib~master~Ice6305d38ef5c1bf155b559c2425fdf59c0d94bb,openstack/js-openstack-lib,master,Ice6305d38ef5c1bf155b559c2425fdf59c0d94bb,Added python-sphinx to dependencies,MERGED,2016-08-09 19:38:35.000000000,2016-08-12 09:43:05.000000000,2016-08-12 09:43:05.000000000,"[{'_account_id': 3}, {'_account_id': 8735}]","[{'number': 1, 'created': '2016-08-09 19:38:35.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/a6fc905eb73dced043c56e7361e49d0ddeeeab22', 'message': 'Added python-sphinx to dependencies\n\nThis makes sure that python-sphinx, required to build our documentation,\nis installed.\n\nChange-Id: Ice6305d38ef5c1bf155b559c2425fdf59c0d94bb\n'}]",0,353083,a6fc905eb73dced043c56e7361e49d0ddeeeab22,6,2,1,9717,,,0,"Added python-sphinx to dependencies

This makes sure that python-sphinx, required to build our documentation,
is installed.

Change-Id: Ice6305d38ef5c1bf155b559c2425fdf59c0d94bb
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/83/353083/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,a6fc905eb73dced043c56e7361e49d0ddeeeab22,bindep,python-sphinx [platform:dpkg],,1,0
openstack%2Fjs-openstack-lib~master~I50eebc67896e5ba1965ab3b987ca44dd1225702f,openstack/js-openstack-lib,master,I50eebc67896e5ba1965ab3b987ca44dd1225702f,List system dependencies for running common tests,MERGED,2016-08-09 19:34:16.000000000,2016-08-12 09:42:59.000000000,2016-08-12 09:42:59.000000000,"[{'_account_id': 3}, {'_account_id': 8735}]","[{'number': 1, 'created': '2016-08-09 19:34:16.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/c55a52ceb953c23b7028a22dad46a7cbae7050bc', 'message': 'List system dependencies for running common tests\n\nAdd a bindep.txt file containing a cross-platform list\nof dependencies needed for running included non-devstack tests.\n\nThis change is needed since the infra team will not install standard\npackages in jobs anymore, projects should use other-requirements.txt\ninstead. The macros xvfb-install, firefox-install, chrome-install\nwhich are used to run some jobs for this repository will be removed\nsoon.\n\nThis change is self-testing.\n\nFor bindep.txt see also\nhttp://docs.openstack.org/infra/manual/drivers.html#package-requirements\n\n[*] http://docs.openstack.org/infra/bindep/\n\nChange-Id: I50eebc67896e5ba1965ab3b987ca44dd1225702f\nDepends-On: I6d3491c1ee18c579c768ae931a5edb2b783a19a3\n'}]",2,353080,c55a52ceb953c23b7028a22dad46a7cbae7050bc,8,2,1,9717,,,0,"List system dependencies for running common tests

Add a bindep.txt file containing a cross-platform list
of dependencies needed for running included non-devstack tests.

This change is needed since the infra team will not install standard
packages in jobs anymore, projects should use other-requirements.txt
instead. The macros xvfb-install, firefox-install, chrome-install
which are used to run some jobs for this repository will be removed
soon.

This change is self-testing.

For bindep.txt see also
http://docs.openstack.org/infra/manual/drivers.html#package-requirements

[*] http://docs.openstack.org/infra/bindep/

Change-Id: I50eebc67896e5ba1965ab3b987ca44dd1225702f
Depends-On: I6d3491c1ee18c579c768ae931a5edb2b783a19a3
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/80/353080/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,c55a52ceb953c23b7028a22dad46a7cbae7050bc,bindep,# This is a cross-platform list tracking distribution packages needed by tests; # see http://docs.openstack.org/infra/bindep/ for additional information. apt-transport-https lsb-release ant build-essential [platform:dpkg] curl cyrus-sasl-devel [platform:rpm] dbus firefox [!platform:debian] gawk iceweasel [platform:debian] language-pack-en [platform:ubuntu] libcurl-devel [platform:rpm] libcurl4-gnutls-dev [platform:dpkg] libffi-dev [platform:dpkg] libffi-devel [platform:rpm] libjpeg-dev [platform:dpkg] libjpeg-turbo-devel [platform:rpm] libldap2-dev [platform:dpkg] libsasl2-dev [platform:dpkg] libselinux-python [platform:rpm] libuuid-devel [platform:rpm] locales [platform:debian] pkg-config [platform:dpkg] pkgconfig [platform:rpm] python-dev [platform:dpkg] python-devel [platform:rpm] python-libvirt [platform:dpkg] python-lxml python3-all-dev [platform:ubuntu-trusty] python3-dev [platform:dpkg] python3-devel [platform:fedora] python3.4 [platform:ubuntu-trusty] python34-devel [platform:centos] unzip uuid-dev [platform:dpkg] xorg-x11-server-Xvfb [platform:rpm] xvfb [platform:dpkg] ,,40,0
openstack%2Ffuel-ui~stable%2Fmitaka~Ia35cad04cfe940f682af17d81bebb46a67c5b593,openstack/fuel-ui,stable/mitaka,Ia35cad04cfe940f682af17d81bebb46a67c5b593,Fix multi-line label of filter and sorter checkbox,MERGED,2016-08-12 08:53:25.000000000,2016-08-12 09:37:58.000000000,2016-08-12 09:31:07.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 08:53:25.000000000', 'files': ['static/styles/main.less', 'static/views/controls.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/d922df020d0e6a47b1950f8aee8299bf72110a83', 'message': 'Fix multi-line label of filter and sorter checkbox\n\nChange-Id: Ia35cad04cfe940f682af17d81bebb46a67c5b593\n(cherry picked from commit 3c3cc9d9762f5e447bc8d9f2ccff54db116fa862)\n'}]",0,354595,d922df020d0e6a47b1950f8aee8299bf72110a83,13,4,1,8766,,,0,"Fix multi-line label of filter and sorter checkbox

Change-Id: Ia35cad04cfe940f682af17d81bebb46a67c5b593
(cherry picked from commit 3c3cc9d9762f5e447bc8d9f2ccff54db116fa862)
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/95/354595/1 && git format-patch -1 --stdout FETCH_HEAD,"['static/styles/main.less', 'static/views/controls.js']",2,d922df020d0e6a47b1950f8aee8299bf72110a83,fix-labels, <span>{label}</span>, {label},4,2
openstack%2Ffuel-ui~stable%2Fmitaka~Ie7a7b7d2aa9d4bb52dd020d6d2d74cdd9de9590d,openstack/fuel-ui,stable/mitaka,Ie7a7b7d2aa9d4bb52dd020d6d2d74cdd9de9590d,Fix translation of running task name,MERGED,2016-08-12 08:49:30.000000000,2016-08-12 09:37:49.000000000,2016-08-12 09:30:51.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 08:49:30.000000000', 'files': ['static/views/cluster_page_tabs/dashboard_tab.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/4f80aff8530cc808119a6c3b0b2d9571bb7eb219', 'message': 'Fix translation of running task name\n\nOriginal task name should be displayed on Dashboard\nif the task has no transalation specified.\n\nChange-Id: Ie7a7b7d2aa9d4bb52dd020d6d2d74cdd9de9590d\n(cherry picked from commit 25f4b204bfcfa2ebc0e2aff41f8b8443c88294eb)\n'}]",0,354594,4f80aff8530cc808119a6c3b0b2d9571bb7eb219,13,4,1,8766,,,0,"Fix translation of running task name

Original task name should be displayed on Dashboard
if the task has no transalation specified.

Change-Id: Ie7a7b7d2aa9d4bb52dd020d6d2d74cdd9de9590d
(cherry picked from commit 25f4b204bfcfa2ebc0e2aff41f8b8443c88294eb)
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/94/354594/1 && git format-patch -1 --stdout FETCH_HEAD,['static/views/cluster_page_tabs/dashboard_tab.js'],1,4f80aff8530cc808119a6c3b0b2d9571bb7eb219,fix-task-name," {i18n('cluster_page.' + taskName, {defaultValue: taskName}) + '...'}", {i18n('cluster_page.' + taskName) + '...'},1,1
openstack%2Fneutron~stable%2Fmitaka~Ib601235b56c553c29618a4dfdf0608a7b2784c6f,openstack/neutron,stable/mitaka,Ib601235b56c553c29618a4dfdf0608a7b2784c6f,Fix code that's trying to read from a stale DB object,MERGED,2016-08-11 23:35:53.000000000,2016-08-12 09:36:11.000000000,2016-08-12 09:36:11.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 5196}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9732}]","[{'number': 1, 'created': '2016-08-11 23:35:53.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1845a1ed020b52af01c9b5ea7af4c74d0ea72df6', 'message': ""Fix code that's trying to read from a stale DB object\n\nChange-Id: Ib601235b56c553c29618a4dfdf0608a7b2784c6f\nCloses-Bug: #1594376\n(cherry picked from commit dfbe1fb7c510d556095a926fec6bfe6f4c153b47)\n""}]",0,354444,1845a1ed020b52af01c9b5ea7af4c74d0ea72df6,20,7,1,6167,,,0,"Fix code that's trying to read from a stale DB object

Change-Id: Ib601235b56c553c29618a4dfdf0608a7b2784c6f
Closes-Bug: #1594376
(cherry picked from commit dfbe1fb7c510d556095a926fec6bfe6f4c153b47)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/354444/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,1845a1ed020b52af01c9b5ea7af4c74d0ea72df6,bug/1594376," # NOTE Don't inline port_id; needed for PortNotFound. port_id = a.port_id self.update_port(context, port_id, data) except exc.PortNotFound: # NOTE Attempting to access a.port_id here is an error. LOG.debug(""Port %s deleted concurrently"", port_id) ""from port %s""), port_id)"," self.update_port(context, a.port_id, data) except exc.PortNotFound: LOG.debug(""Port %s deleted concurrently"", a.port_id) ""from port %s""), a.port_id)",6,3
openstack%2Fmagnum~master~I2409ed9ff11b55ae761d4f0b5768f65ca1bec9e3,openstack/magnum,master,I2409ed9ff11b55ae761d4f0b5768f65ca1bec9e3,Improve unit test coverage for cmd/api.py,MERGED,2016-08-11 05:40:54.000000000,2016-08-12 09:34:38.000000000,2016-08-12 09:34:38.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 12175}]","[{'number': 1, 'created': '2016-08-11 05:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/39b8b0400d98eb6607c8a0ab2b37b06f8655317e', 'message': 'Improve unit test coverage for cmd/api.py\n\nAdd new unit tests for cmd/api.py.\nIncrease the coverage for cmd/api.py from 0 to 100%.\n\nChange-Id: I2409ed9ff11b55ae761d4f0b5768f65ca1bec9e3\nPartial-Bug: #1511667\n'}, {'number': 2, 'created': '2016-08-12 01:41:43.000000000', 'files': ['magnum/tests/unit/cmd/__init__.py', 'magnum/tests/unit/cmd/test_api.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1f18d9e17b203ee3c6bf3cb47321c81f6466e18c', 'message': 'Improve unit test coverage for cmd/api.py\n\nAdd new unit tests for cmd/api.py.\nIncrease the coverage for cmd/api.py from 0 to 100%.\n\nChange-Id: I2409ed9ff11b55ae761d4f0b5768f65ca1bec9e3\nPartial-Bug: #1511667\n'}]",0,353839,1f18d9e17b203ee3c6bf3cb47321c81f6466e18c,9,3,2,19741,,,0,"Improve unit test coverage for cmd/api.py

Add new unit tests for cmd/api.py.
Increase the coverage for cmd/api.py from 0 to 100%.

Change-Id: I2409ed9ff11b55ae761d4f0b5768f65ca1bec9e3
Partial-Bug: #1511667
",git fetch https://review.opendev.org/openstack/magnum refs/changes/39/353839/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/unit/cmd/__init__.py', 'magnum/tests/unit/cmd/test_api.py']",2,39b8b0400d98eb6607c8a0ab2b37b06f8655317e,bug/1511667,"# Copyright 2016 - Fujitsu, Ltd. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import mock from magnum.cmd import api from magnum.tests import base class TestMagnumAPI(base.TestCase): # NOTE(hieulq): need to mock MagnumObject, otherwise other test cases # will be failed because of setting wrong ovo indirection api @mock.patch('magnum.objects.base.MagnumObject') @mock.patch('wsgiref.simple_server.make_server') @mock.patch.object(api, 'api_app') @mock.patch('magnum.common.service.prepare_service') def test_api(self, mock_prep, mock_app, mock_make, mock_base): api.main() app = mock_app.load_app.return_value server = mock_make.return_value mock_prep.assert_called_once_with(mock.ANY) mock_app.load_app.assert_called_once_with() mock_make.assert_called_once_with(base.CONF.api.host, base.CONF.api.port, app) server.serve_forever.assert_called_once_with() ",,38,0
openstack%2Ffuel-ui~stable%2Fmitaka~I0aa67016b4828d7eca16ef1a7a3f5746f9720dc5,openstack/fuel-ui,stable/mitaka,I0aa67016b4828d7eca16ef1a7a3f5746f9720dc5,Fix render of deployment history filters,MERGED,2016-08-12 08:47:50.000000000,2016-08-12 09:34:22.000000000,2016-08-12 09:28:58.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 08:47:50.000000000', 'files': ['static/views/cluster_page_tabs/deployment_history_component.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/fa21c7401f9cb3c9172b23968f5394c211b4954e', 'message': 'Fix render of deployment history filters\n\nHide filters controls when switching to\ndeployment history timeline representation.\n\nRelated blueprint ui-deployment-history\n\nChange-Id: I0aa67016b4828d7eca16ef1a7a3f5746f9720dc5\n'}]",0,354590,fa21c7401f9cb3c9172b23968f5394c211b4954e,13,4,1,8766,,,0,"Fix render of deployment history filters

Hide filters controls when switching to
deployment history timeline representation.

Related blueprint ui-deployment-history

Change-Id: I0aa67016b4828d7eca16ef1a7a3f5746f9720dc5
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/90/354590/1 && git format-patch -1 --stdout FETCH_HEAD,['static/views/cluster_page_tabs/deployment_history_component.js'],1,fa21c7401f9cb3c9172b23968f5394c211b4954e,bp/ui-deployment-history," this.setState({ viewMode, //close filters panel areFiltersVisible: false, openFilter: null }); {viewMode === 'table' && areFiltersVisible && ( {viewMode === 'table' && !areFiltersVisible && areFiltersApplied &&", this.setState({viewMode}); {areFiltersVisible && ( {!areFiltersVisible && areFiltersApplied &&,8,3
openstack%2Ftap-as-a-service~master~I6f3fcca1c7e2e3bdb4fb195a058e526324b6f717,openstack/tap-as-a-service,master,I6f3fcca1c7e2e3bdb4fb195a058e526324b6f717,Fix a few db vs migration mismatch,MERGED,2016-07-29 18:33:51.000000000,2016-08-12 09:34:21.000000000,2016-08-12 09:34:21.000000000,"[{'_account_id': 3}, {'_account_id': 6854}, {'_account_id': 7018}, {'_account_id': 19388}]","[{'number': 1, 'created': '2016-07-29 18:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/179fb13cb143fbbaeb5c12a0a4df94cfbcd1ba5b', 'message': 'Fix a few db vs migration mismatch\n\nCloses-Bug: #1607909\nChange-Id: I6f3fcca1c7e2e3bdb4fb195a058e526324b6f717\n'}, {'number': 2, 'created': '2016-07-31 23:08:13.000000000', 'files': ['neutron_taas/db/taas_db.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/0b33b4e35a850bb8563d329f908a3ec5da94bf4e', 'message': 'Fix a few db vs migration mismatch\n\nCloses-Bug: #1607909\nChange-Id: I6f3fcca1c7e2e3bdb4fb195a058e526324b6f717\n'}]",2,349012,0b33b4e35a850bb8563d329f908a3ec5da94bf4e,16,4,2,6854,,,0,"Fix a few db vs migration mismatch

Closes-Bug: #1607909
Change-Id: I6f3fcca1c7e2e3bdb4fb195a058e526324b6f717
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/12/349012/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_taas/db/taas_db.py'],1,179fb13cb143fbbaeb5c12a0a4df94cfbcd1ba5b,bug/1607909,"from neutron.api.v2 import attributes as attrclass TapService(model_base.BASEV2, models_v2.HasId): tenant_id = sa.Column(sa.String(attr.TENANT_ID_MAX_LEN))class TapFlow(model_base.BASEV2, models_v2.HasId): tenant_id = sa.Column(sa.String(attr.TENANT_ID_MAX_LEN)) name='tapflows_direction'), nullable=False)","class TapService(model_base.BASEV2, models_v2.HasId, models_v2.HasTenant):class TapFlow(model_base.BASEV2, models_v2.HasId, models_v2.HasTenant): name='tapflows_direction'))",7,3
openstack%2Fcharm-neutron-gateway~master~I0b8ea17c5b06ef8ab6cf6c4cfd0a2f4721615b91,openstack/charm-neutron-gateway,master,I0b8ea17c5b06ef8ab6cf6c4cfd0a2f4721615b91,Use os_release() and blacklist python-pymysql for DFS,MERGED,2016-08-10 13:49:15.000000000,2016-08-12 09:32:15.000000000,2016-08-12 09:32:15.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20648}]","[{'number': 1, 'created': '2016-08-10 13:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/1f4a7b2c6301581c3f41f277a62c8a5cb4dc31b4', 'message': ""Use os_release() and blacklist python-pymysql for DFS\n\nUse os_release() instead of get_os_codename_install_source() to\ndetermine the OpenStack release where possible.  Make this change\nin all paths that deploy from source uses because it checks both\nopenstack-origin and openstack-origin-git when determining the\nrelease.\n\nAlso don't install python-pymysql deb when deploying from source.\n\nChange-Id: I0b8ea17c5b06ef8ab6cf6c4cfd0a2f4721615b91\n""}, {'number': 2, 'created': '2016-08-10 14:12:48.000000000', 'files': ['unit_tests/test_neutron_utils.py', 'hooks/neutron_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/843705205bce7df6032375b4b50f977273bc3bda', 'message': ""Use os_release() and blacklist python-pymysql for DFS\n\nUse os_release() instead of get_os_codename_install_source() to\ndetermine the OpenStack release where possible.  Make this change\nin all paths that deploy from source uses because it checks both\nopenstack-origin and openstack-origin-git when determining the\nrelease.\n\nAlso don't install python-pymysql deb when deploying from source.\n\nChange-Id: I0b8ea17c5b06ef8ab6cf6c4cfd0a2f4721615b91\n""}]",0,353490,843705205bce7df6032375b4b50f977273bc3bda,10,3,2,11805,,,0,"Use os_release() and blacklist python-pymysql for DFS

Use os_release() instead of get_os_codename_install_source() to
determine the OpenStack release where possible.  Make this change
in all paths that deploy from source uses because it checks both
openstack-origin and openstack-origin-git when determining the
release.

Also don't install python-pymysql deb when deploying from source.

Change-Id: I0b8ea17c5b06ef8ab6cf6c4cfd0a2f4721615b91
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/90/353490/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/neutron_utils.py'],1,1f4a7b2c6301581c3f41f277a62c8a5cb4dc31b4,os_release," 'python-pymysql', source = os_release('neutron-common') source = os_release('neutron-common') release = os_release('neutron-common') release = os_release('neutron-common') release = os_release('neutron-common')", source = get_os_codename_install_source(config('openstack-origin')) source = get_os_codename_install_source(config('openstack-origin')) release = get_os_codename_install_source(config('openstack-origin')) release = get_os_codename_install_source(config('openstack-origin')) release = get_os_codename_install_source(config('openstack-origin')),6,5
openstack%2Fcharm-nova-cloud-controller~master~I39a61fc4394967bd70af493f6a69fe9d428274b1,openstack/charm-nova-cloud-controller,master,I39a61fc4394967bd70af493f6a69fe9d428274b1,Use os_release() to determine OpenStack release,MERGED,2016-08-10 13:54:07.000000000,2016-08-12 09:32:05.000000000,2016-08-12 09:32:05.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20648}]","[{'number': 1, 'created': '2016-08-10 13:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/c96889c7692934b2b4a8bba278b2dcf70ca7cbd8', 'message': 'Use os_release() to determine OpenStack release\n\nUse os_release() instead of get_os_codename_install_source() to\ndetermine the OpenStack release in resolve_services(). This is\nneeded when deploying from source because it checks both\nopenstack-origin and openstack-origin-git when determining the\nrelease.\n\nChange-Id: I39a61fc4394967bd70af493f6a69fe9d428274b1\n'}, {'number': 2, 'created': '2016-08-10 14:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/c51653e8bdf5ca61e26933e078b1b6b366ff7286', 'message': 'Use os_release() to determine OpenStack release\n\nUse os_release() instead of get_os_codename_install_source() to\ndetermine the OpenStack release in resolve_services(). This is\nneeded when deploying from source because it checks both\nopenstack-origin and openstack-origin-git when determining the\nrelease.\n\nChange-Id: I39a61fc4394967bd70af493f6a69fe9d428274b1\n'}, {'number': 3, 'created': '2016-08-10 15:31:24.000000000', 'files': ['unit_tests/test_actions_git_reinstall.py', 'unit_tests/test_nova_cc_hooks.py', 'unit_tests/test_actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_nova_cc_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/a946731d24f09fee9042fe1c6c85ca3d3b3ffa51', 'message': 'Use os_release() to determine OpenStack release\n\nUse os_release() instead of get_os_codename_install_source() to\ndetermine the OpenStack release in resolve_services(). This is\nneeded when deploying from source because it checks both\nopenstack-origin and openstack-origin-git when determining the\nrelease.\n\nChange-Id: I39a61fc4394967bd70af493f6a69fe9d428274b1\n'}]",0,353493,a946731d24f09fee9042fe1c6c85ca3d3b3ffa51,12,3,3,11805,,,0,"Use os_release() to determine OpenStack release

Use os_release() instead of get_os_codename_install_source() to
determine the OpenStack release in resolve_services(). This is
needed when deploying from source because it checks both
openstack-origin and openstack-origin-git when determining the
release.

Change-Id: I39a61fc4394967bd70af493f6a69fe9d428274b1
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/93/353493/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/nova_cc_utils.py'],1,c96889c7692934b2b4a8bba278b2dcf70ca7cbd8,os_release, os_rel = os_release('nova-common'), os_rel = get_os_codename_install_source(config('openstack-origin')),1,1
openstack%2Ffuel-ui~stable%2Fmitaka~I738d10361dbf49dea79bbeb6f546aad55a6f882e,openstack/fuel-ui,stable/mitaka,I738d10361dbf49dea79bbeb6f546aad55a6f882e,Fix timeline of pending transaction,MERGED,2016-08-12 08:46:04.000000000,2016-08-12 09:29:35.000000000,2016-08-12 09:24:21.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 08:46:04.000000000', 'files': ['static/views/cluster_page_tabs/deployment_history_component.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/f102cb40812c8440481596959e3f62aa3a487732', 'message': ""Fix timeline of pending transaction\n\nIf transaction has 'pending' status, its deployment tasks\nhave time_start and time_end attributes that are equal to Null.\nIn this case timeline should have default 60 minutes size.\n\nRelated blueprint ui-deployment-history\n\nChange-Id: I738d10361dbf49dea79bbeb6f546aad55a6f882e\n""}]",0,354589,f102cb40812c8440481596959e3f62aa3a487732,13,4,1,8766,,,0,"Fix timeline of pending transaction

If transaction has 'pending' status, its deployment tasks
have time_start and time_end attributes that are equal to Null.
In this case timeline should have default 60 minutes size.

Related blueprint ui-deployment-history

Change-Id: I738d10361dbf49dea79bbeb6f546aad55a6f882e
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/89/354589/1 && git format-patch -1 --stdout FETCH_HEAD,['static/views/cluster_page_tabs/deployment_history_component.js'],1,f102cb40812c8440481596959e3f62aa3a487732,bp/ui-deployment-history, return _.min(_.compact(deploymentHistory.map( (task) => utils.dateToSeconds(task.get('time_start')) ))) || // make current time a default time in case of transaction has 'pending' status _.now() / 1000; if (transaction.match({status: 'running'})) return _.now() / 1000; return _.max(_.compact(deploymentHistory.map( (task) => utils.dateToSeconds(task.get('time_end')) ))) || // make 60min default timeline in case of transaction has 'pending' status _.now() / 1000 + 60 * 60;, return _.min( _.compact(deploymentHistory.map((task) => utils.dateToSeconds(task.get('time_start')))) ); return transaction.match({status: 'running'}) ? (_.now() / 1000) : _.max(deploymentHistory.map((task) => utils.dateToSeconds(task.get('time_end'))));,11,5
openstack%2Ffuel-ui~stable%2Fmitaka~Ibbeb405f9b378e64ca7857cfceb6ec3903620903,openstack/fuel-ui,stable/mitaka,Ibbeb405f9b378e64ca7857cfceb6ec3903620903,Increase functional tests timeouts for deployment checks,MERGED,2016-08-12 08:40:49.000000000,2016-08-12 09:29:32.000000000,2016-08-12 09:24:13.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 08:40:49.000000000', 'files': ['static/tests/functional/test_cluster_deployment.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/16e5c62635e69e63537f42af19f6cfb5a9559b66', 'message': 'Increase functional tests timeouts for deployment checks\n\nExtending fake Nailgun tasks with support of deployment history\n(https://review.openstack.org/#/c/354168/) leads to increased\ntime of fake tasks execution.\nSo that timeouts in functional UI tests should be increased\n(20sec chosen as a default deployment task timeout).\n\nRelated blueprint ui-deployment-history\n\nChange-Id: Ibbeb405f9b378e64ca7857cfceb6ec3903620903\n'}]",0,354587,16e5c62635e69e63537f42af19f6cfb5a9559b66,13,4,1,8766,,,0,"Increase functional tests timeouts for deployment checks

Extending fake Nailgun tasks with support of deployment history
(https://review.openstack.org/#/c/354168/) leads to increased
time of fake tasks execution.
So that timeouts in functional UI tests should be increased
(20sec chosen as a default deployment task timeout).

Related blueprint ui-deployment-history

Change-Id: Ibbeb405f9b378e64ca7857cfceb6ec3903620903
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/87/354587/1 && git format-patch -1 --stdout FETCH_HEAD,['static/tests/functional/test_cluster_deployment.js'],1,16e5c62635e69e63537f42af19f6cfb5a9559b66,bp/ui-deployment-history," .assertElementDisappears( 'div.deploy-process div.progress', 20000, 'Provisioning finished' ) .assertElementDisappears( 'div.deploy-process div.progress', 20000, 'Provisioning finished' ) .assertElementDisappears( 'div.deploy-process div.progress', 20000, 'Provisioning finished' ) .assertElementDisappears('div.deploy-process div.progress', 20000, 'Deployment finished') .assertElementAppears('.links-block', 20000, 'Deployment completed')"," .assertElementDisappears('div.deploy-process div.progress', 5000, 'Provisioning finished') .assertElementDisappears('div.deploy-process div.progress', 5000, 'Provisioning finished') .assertElementDisappears('div.deploy-process div.progress', 5000, 'Provisioning finished') .assertElementDisappears('div.deploy-process div.progress', 10000, 'Deployment finished') .assertElementAppears('.links-block', 5000, 'Deployment completed')",11,5
openstack%2Fdeb-openstack-pkg-tools~debian%2Fnewton~Id28d3d66397286526a1bfc558ada5cc6b006200e,openstack/deb-openstack-pkg-tools,debian/newton,Id28d3d66397286526a1bfc558ada5cc6b006200e,Bring openstack-pkg-tools to latest changes.,MERGED,2016-08-12 08:25:16.000000000,2016-08-12 09:20:45.000000000,2016-08-12 09:20:45.000000000,"[{'_account_id': 3}, {'_account_id': 6476}]","[{'number': 1, 'created': '2016-08-12 08:25:16.000000000', 'files': ['init-template/pkgos-gen-systemd-unit', 'init-template/pkgos-gen-upstart-job', 'pkgos_func', 'debian/changelog', 'init-template/init-script-template', 'misc/pkgos-alioth-new-git'], 'web_link': 'https://opendev.org/openstack/deb-openstack-pkg-tools/commit/dc6f1fc4e17ecc95e7931a9f1df19a438830895c', 'message': 'Bring openstack-pkg-tools to latest changes.\n\nThis commits changes that were not pushed to Gerrit previously,\nbut were in the Alioth git. This includes:\n\n- Fix for the adm group and startup scrpts.\n- Addition of postrm / prerm templates.\n- Backquotes when altering db to use utf-8.\n- pkgos-alioth-new-git using rsync instead of scp to allow resume.\n\nChange-Id: Id28d3d66397286526a1bfc558ada5cc6b006200e\n'}]",0,354582,dc6f1fc4e17ecc95e7931a9f1df19a438830895c,6,2,1,6476,,,0,"Bring openstack-pkg-tools to latest changes.

This commits changes that were not pushed to Gerrit previously,
but were in the Alioth git. This includes:

- Fix for the adm group and startup scrpts.
- Addition of postrm / prerm templates.
- Backquotes when altering db to use utf-8.
- pkgos-alioth-new-git using rsync instead of scp to allow resume.

Change-Id: Id28d3d66397286526a1bfc558ada5cc6b006200e
",git fetch https://review.opendev.org/openstack/deb-openstack-pkg-tools refs/changes/82/354582/1 && git format-patch -1 --stdout FETCH_HEAD,"['init-template/pkgos-gen-systemd-unit', 'init-template/pkgos-gen-upstart-job', 'pkgos_func', 'debian/changelog', 'init-template/init-script-template', 'misc/pkgos-alioth-new-git']",6,dc6f1fc4e17ecc95e7931a9f1df19a438830895c,,if ! [ -e ${PKG_NAME}.git ] ; then git clone --bare ${PKG_NAME} ${PKG_NAME}.git fiif ! [ -e ${PKG_NAME}.git.tar.gz ] ; then tar -czf ${PKG_NAME}.git.tar.gz ${PKG_NAME}.git firsync --partial --progress --rsh=ssh ${PKG_NAME}.git.tar.gz ${ALIOTH_USERNAME}git.debian.org:,git clone --bare ${PKG_NAME} ${PKG_NAME}.gittar -czf ${PKG_NAME}.git.tar.gz ${PKG_NAME}.gitscp ${PKG_NAME}.git.tar.gz ${ALIOTH_USERNAME}git.debian.org:,118,11
openstack%2Fcinder~master~I8aee74c341e8d83a5f1d1d2e7a0707277ec0e1a9,openstack/cinder,master,I8aee74c341e8d83a5f1d1d2e7a0707277ec0e1a9,Add tracing to remotefs entry points,MERGED,2016-08-05 23:21:49.000000000,2016-08-12 09:19:37.000000000,2016-08-10 12:17:58.000000000,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 16708}, {'_account_id': 18462}]","[{'number': 1, 'created': '2016-08-05 23:21:49.000000000', 'files': ['cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/07ccd84d5b27ec51a522738a10aa6f3a48bd604c', 'message': 'Add tracing to remotefs entry points\n\nThis patch adds some @utils.trace decorators to the\nremotefs driver for debugging.\n\nChange-Id: I8aee74c341e8d83a5f1d1d2e7a0707277ec0e1a9\n'}]",0,351948,07ccd84d5b27ec51a522738a10aa6f3a48bd604c,39,7,1,5997,,,0,"Add tracing to remotefs entry points

This patch adds some @utils.trace decorators to the
remotefs driver for debugging.

Change-Id: I8aee74c341e8d83a5f1d1d2e7a0707277ec0e1a9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/351948/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/remotefs.py'],1,07ccd84d5b27ec51a522738a10aa6f3a48bd604c,, @utils.trace @utils.trace @utils.trace,,3,0
openstack%2Fsenlin~master~Ic55617904646857a766003370c3d509171a21cdc,openstack/senlin,master,Ic55617904646857a766003370c3d509171a21cdc,Replication version info into v1,MERGED,2016-08-12 07:40:40.000000000,2016-08-12 09:12:41.000000000,2016-08-12 09:12:41.000000000,"[{'_account_id': 3}, {'_account_id': 8246}]","[{'number': 1, 'created': '2016-08-12 07:40:40.000000000', 'files': ['senlin/api/openstack/v1/version.py', 'senlin/tests/unit/api/openstack/v1/test_version.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/290d60b1e5a2622e21b4357048edf420808300aa', 'message': 'Replication version info into v1\n\nThe version request data and routines are all supposed to be located\nin a specific version controller instead of the root. This patch\nreplicates them to the v1 version module.\n\nChange-Id: Ic55617904646857a766003370c3d509171a21cdc\n'}]",0,354561,290d60b1e5a2622e21b4357048edf420808300aa,6,2,1,8246,,,0,"Replication version info into v1

The version request data and routines are all supposed to be located
in a specific version controller instead of the root. This patch
replicates them to the v1 version module.

Change-Id: Ic55617904646857a766003370c3d509171a21cdc
",git fetch https://review.opendev.org/openstack/senlin refs/changes/61/354561/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/api/openstack/v1/version.py', 'senlin/tests/unit/api/openstack/v1/test_version.py']",2,290d60b1e5a2622e21b4357048edf420808300aa,version-info,"import mock from senlin.api.common import version_request as vr class APIVersionTest(base.SenlinTestCase): def test_min_api_version(self): res = version.min_api_version() expected = vr.APIVersionRequest(version._MIN_API_VERSION) self.assertEqual(expected, res) def test_max_api_version(self): res = version.max_api_version() expected = vr.APIVersionRequest(version._MAX_API_VERSION) self.assertEqual(expected, res) def test_is_supported(self): req = mock.Mock() req.version_request = vr.APIVersionRequest(version._MIN_API_VERSION) res = version.is_supported(req) self.assertTrue(res)",,64,4
openstack%2Ffuel-ui~stable%2Fmitaka~Iec81d68edd647b8a97de1b260ee9736a0ff4586f,openstack/fuel-ui,stable/mitaka,Iec81d68edd647b8a97de1b260ee9736a0ff4586f,Add timeline view of deployment history,MERGED,2016-08-12 08:36:44.000000000,2016-08-12 09:10:54.000000000,2016-08-12 09:06:03.000000000,"[{'_account_id': 3}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-12 08:36:44.000000000', 'files': ['static/translations/core.json', 'static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js', 'static/consts.js', 'static/views/cluster_page_tabs/history_tab.js', 'static/utils.js', 'static/img/icons/icons-sprite.svg'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/6012dd8638dadde682c1b2acbcf36f1e979afdd0', 'message': 'Add timeline view of deployment history\n\nDeployment history now supports a timeline representation.\n\nImplements blueprint ui-deployment-history\n\nChange-Id: Iec81d68edd647b8a97de1b260ee9736a0ff4586f\n'}]",0,354586,6012dd8638dadde682c1b2acbcf36f1e979afdd0,13,4,1,8766,,,0,"Add timeline view of deployment history

Deployment history now supports a timeline representation.

Implements blueprint ui-deployment-history

Change-Id: Iec81d68edd647b8a97de1b260ee9736a0ff4586f
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/86/354586/1 && git format-patch -1 --stdout FETCH_HEAD,"['static/translations/core.json', 'static/styles/main.less', 'static/views/cluster_page_tabs/deployment_history_component.js', 'static/consts.js', 'static/views/cluster_page_tabs/history_tab.js', 'static/utils.js', 'static/img/icons/icons-sprite.svg']",7,6012dd8638dadde682c1b2acbcf36f1e979afdd0,bp/ui-deployment-history," width=""80px"" height=""2000px"" viewBox=""0 0 80 2000"" enable-background=""new 0 0 80 2000"" xml:space=""preserve""> <path fill=""#8C8C8C"" d=""M27.018,1540.619h1.836c0.096-0.524,0.146-1.068,0.146-1.619c0-0.552-0.051-1.095-0.147-1.619h-1.835 c-0.183-0.791-0.495-1.529-0.911-2.197l1.3-1.297c-0.619-0.896-1.395-1.672-2.292-2.293l-1.298,1.3 c-0.666-0.418-1.407-0.73-2.198-0.91v-1.838C21.095,1530.05,20.553,1530,20,1530s-1.095,0.05-1.62,0.146v1.838 c-0.789,0.183-1.529,0.494-2.196,0.911l-1.298-1.3c-0.895,0.62-1.671,1.396-2.292,2.292l1.299,1.299 c-0.417,0.666-0.729,1.404-0.911,2.195h-1.836C11.051,1537.906,11,1538.448,11,1539c0,0.551,0.05,1.095,0.146,1.619h1.837 c0.182,0.791,0.494,1.529,0.911,2.198l-1.299,1.3c0.619,0.896,1.396,1.671,2.292,2.291l1.298-1.301 c0.667,0.42,1.407,0.732,2.196,0.911v1.835c0.525,0.095,1.067,0.146,1.619,0.146s1.095-0.051,1.619-0.146v-1.837 c0.791-0.183,1.529-0.495,2.199-0.911l1.298,1.3c0.896-0.618,1.672-1.396,2.292-2.29l-1.301-1.299 C26.525,1542.15,26.835,1541.409,27.018,1540.619 M20,1543.318c-2.386,0-4.32-1.933-4.32-4.318s1.934-4.321,4.32-4.321 s4.32,1.937,4.32,4.321C24.32,1541.386,22.387,1543.318,20,1543.318""/> <path fill=""#5988A5"" d=""M67.018,1540.619h1.836c0.096-0.524,0.146-1.068,0.146-1.619c0-0.552-0.051-1.095-0.147-1.619h-1.835 c-0.184-0.791-0.495-1.529-0.912-2.197l1.301-1.297c-0.619-0.896-1.396-1.672-2.292-2.293l-1.298,1.3 c-0.666-0.418-1.407-0.73-2.198-0.91v-1.838C61.095,1530.05,60.553,1530,60,1530s-1.095,0.05-1.62,0.146v1.838 c-0.789,0.183-1.529,0.494-2.196,0.911l-1.297-1.3c-0.896,0.62-1.672,1.396-2.292,2.292l1.3,1.299 c-0.418,0.666-0.729,1.404-0.912,2.195h-1.836C51.051,1537.906,51,1538.448,51,1539c0,0.551,0.05,1.095,0.146,1.619h1.836 c0.183,0.791,0.494,1.529,0.912,2.198l-1.3,1.3c0.619,0.896,1.396,1.671,2.292,2.291l1.298-1.301 c0.667,0.42,1.407,0.732,2.196,0.911v1.835c0.525,0.095,1.066,0.146,1.619,0.146s1.095-0.051,1.619-0.146v-1.837 c0.791-0.183,1.529-0.495,2.199-0.911l1.298,1.3c0.896-0.618,1.673-1.396,2.292-2.29l-1.301-1.299 C66.525,1542.15,66.835,1541.409,67.018,1540.619 M60,1543.318c-2.386,0-4.32-1.933-4.32-4.318s1.935-4.321,4.32-4.321 s4.32,1.937,4.32,4.321C64.32,1541.386,62.387,1543.318,60,1543.318""/> <path fill=""#8C8C8C"" d=""M20.5,612c-4.142,0-7.5,3.357-7.5,7.5s3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5S24.642,612,20.5,612 <path fill=""#8C8C8C"" d=""M26.167,662.951L26.167,662.951l0.084-1.979c0.008,0,0.024-0.122,0.024-0.281 <path fill=""#8C8C8C"" d=""M18.341,665.148c0.23,1.033,1.105,1.805,2.159,1.805c1.052,0,1.928-0.771,2.158-1.805 "," width=""80px"" height=""1120px"" viewBox=""0 0 80 1120"" enable-background=""new 0 0 80 1120"" xml:space=""preserve""> <path fill=""#525960"" d=""M20.5,612c-4.142,0-7.5,3.357-7.5,7.5s3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5S24.642,612,20.5,612 <path fill=""#525960"" d=""M26.167,662.951L26.167,662.951l0.084-1.979c0.008,0,0.024-0.122,0.024-0.281 <path fill=""#525960"" d=""M18.341,665.148c0.23,1.033,1.105,1.805,2.159,1.805c1.052,0,1.928-0.771,2.158-1.805 ",424,63
openstack%2Ffuel-qa~master~I0b364ace4e9e198cda6a961b31a16097c70d07a0,openstack/fuel-qa,master,I0b364ace4e9e198cda6a961b31a16097c70d07a0,Upgrade tests will use modern SSHClient API,MERGED,2016-08-12 08:12:03.000000000,2016-08-12 09:08:05.000000000,2016-08-12 09:08:05.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 12867}, {'_account_id': 14057}, {'_account_id': 14708}, {'_account_id': 15984}, {'_account_id': 19119}]","[{'number': 1, 'created': '2016-08-12 08:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/da0d06bd2d8cbdaf27c3808dfc26e71a05a27ed1', 'message': 'Upgrade tests will use modern SSHClient API\n\nrun_on_remote and run_on_remote_get_results eliminated\nSSHClient is memorized, so cache is not required\n\nChange-Id: I0b364ace4e9e198cda6a961b31a16097c70d07a0\n'}, {'number': 2, 'created': '2016-08-12 08:43:13.000000000', 'files': ['fuelweb_test/tests/tests_upgrade/test_data_driven_upgrade_base.py', 'fuelweb_test/tests/tests_upgrade/upgrader_tool.py', 'fuelweb_test/tests/tests_upgrade/__init__.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/ceee4237bf0c9c936800e347721aa042c6feff30', 'message': 'Upgrade tests will use modern SSHClient API\n\nrun_on_remote and run_on_remote_get_results eliminated\nSSHClient is memorized, so cache is not required\n\nChange-Id: I0b364ace4e9e198cda6a961b31a16097c70d07a0\n'}]",0,354573,ceee4237bf0c9c936800e347721aa042c6feff30,15,7,2,19119,,,0,"Upgrade tests will use modern SSHClient API

run_on_remote and run_on_remote_get_results eliminated
SSHClient is memorized, so cache is not required

Change-Id: I0b364ace4e9e198cda6a961b31a16097c70d07a0
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/73/354573/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/tests/tests_upgrade/test_data_driven_upgrade_base.py', 'fuelweb_test/tests/tests_upgrade/upgrader_tool.py', 'fuelweb_test/tests/tests_upgrade/__init__.py']",3,da0d06bd2d8cbdaf27c3808dfc26e71a05a27ed1,," __all__ = [ 'test_data_driven_upgrade', 'test_data_driven_upgrade_net_tmpl', 'test_data_driven_upgrade_plugin', 'upgrader_tool' ]",,38,36
openstack%2Ffuel-qa~stable%2F8.0~I0b364ace4e9e198cda6a961b31a16097c70d07a0,openstack/fuel-qa,stable/8.0,I0b364ace4e9e198cda6a961b31a16097c70d07a0,Upgrade tests will use modern SSHClient API,MERGED,2016-08-12 08:12:11.000000000,2016-08-12 09:06:37.000000000,2016-08-12 09:06:37.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 15984}, {'_account_id': 19119}]","[{'number': 1, 'created': '2016-08-12 08:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/d0fb1392837fc9409af56a122090eb68270b00e2', 'message': 'Upgrade tests will use modern SSHClient API\n\nrun_on_remote and run_on_remote_get_results eliminated\nSSHClient is memorized, so cache is not required\n\nChange-Id: I0b364ace4e9e198cda6a961b31a16097c70d07a0\n'}, {'number': 2, 'created': '2016-08-12 08:43:22.000000000', 'files': ['fuelweb_test/tests/tests_upgrade/test_data_driven_upgrade_base.py', 'fuelweb_test/tests/tests_upgrade/upgrader_tool.py', 'fuelweb_test/tests/tests_upgrade/__init__.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/3c12547353fb1fbcc450c906f1b0f7d199cae87f', 'message': 'Upgrade tests will use modern SSHClient API\n\nrun_on_remote and run_on_remote_get_results eliminated\nSSHClient is memorized, so cache is not required\n\nChange-Id: I0b364ace4e9e198cda6a961b31a16097c70d07a0\n'}]",0,354574,3c12547353fb1fbcc450c906f1b0f7d199cae87f,16,4,2,19119,,,0,"Upgrade tests will use modern SSHClient API

run_on_remote and run_on_remote_get_results eliminated
SSHClient is memorized, so cache is not required

Change-Id: I0b364ace4e9e198cda6a961b31a16097c70d07a0
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/74/354574/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/tests/tests_upgrade/test_data_driven_upgrade_base.py', 'fuelweb_test/tests/tests_upgrade/upgrader_tool.py', 'fuelweb_test/tests/tests_upgrade/__init__.py']",3,d0fb1392837fc9409af56a122090eb68270b00e2,," __all__ = [ 'test_data_driven_upgrade', 'test_data_driven_upgrade_net_tmpl', 'test_data_driven_upgrade_plugin', 'upgrader_tool' ]",,38,36
openstack%2Ffuel-qa~stable%2Fmitaka~I0b364ace4e9e198cda6a961b31a16097c70d07a0,openstack/fuel-qa,stable/mitaka,I0b364ace4e9e198cda6a961b31a16097c70d07a0,Upgrade tests will use modern SSHClient API,MERGED,2016-08-12 08:11:23.000000000,2016-08-12 09:06:31.000000000,2016-08-12 09:06:31.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 15984}, {'_account_id': 19119}]","[{'number': 1, 'created': '2016-08-12 08:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/d7e77bd129e834c23d2f8c4ef8747df7c5b88db5', 'message': 'Upgrade tests will use modern SSHClient API\n\nrun_on_remote and run_on_remote_get_results eliminated\nSSHClient is memorized, so cache is not required\n\nChange-Id: I0b364ace4e9e198cda6a961b31a16097c70d07a0\n'}, {'number': 2, 'created': '2016-08-12 08:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/038730f564462a16524a54496b317c910ad5eab9', 'message': 'Upgrade tests will use modern SSHClient API\n\nrun_on_remote and run_on_remote_get_results eliminated\nSSHClient is memorized, so cache is not required\n\nChange-Id: I0b364ace4e9e198cda6a961b31a16097c70d07a0\n'}, {'number': 3, 'created': '2016-08-12 08:39:10.000000000', 'files': ['fuelweb_test/tests/tests_upgrade/test_data_driven_upgrade_base.py', 'fuelweb_test/tests/tests_upgrade/upgrader_tool.py', 'fuelweb_test/tests/tests_upgrade/__init__.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/2a9f324d1432ad8d084c04ad53b82414923d58cd', 'message': 'Upgrade tests will use modern SSHClient API\n\nrun_on_remote and run_on_remote_get_results eliminated\nSSHClient is memorized, so cache is not required\n\nChange-Id: I0b364ace4e9e198cda6a961b31a16097c70d07a0\n'}]",4,354572,2a9f324d1432ad8d084c04ad53b82414923d58cd,24,4,3,19119,,,0,"Upgrade tests will use modern SSHClient API

run_on_remote and run_on_remote_get_results eliminated
SSHClient is memorized, so cache is not required

Change-Id: I0b364ace4e9e198cda6a961b31a16097c70d07a0
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/72/354572/3 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/tests/tests_upgrade/test_data_driven_upgrade_base.py', 'fuelweb_test/tests/tests_upgrade/upgrader_tool.py', 'fuelweb_test/tests/tests_upgrade/__init__.py']",3,d7e77bd129e834c23d2f8c4ef8747df7c5b88db5,," __all__ = [ 'test_data_driven_upgrade', 'test_data_driven_upgrade_net_tmpl', 'test_data_driven_upgrade_plugin', 'upgrader_tool' ]",,38,36
openstack%2Fnetworking-odl~master~I2970e6400f218fa4c25b7333ce2315dbec9a635e,openstack/networking-odl,master,I2970e6400f218fa4c25b7333ce2315dbec9a635e,add the synchronization between neutron and ODL in driver_v1,MERGED,2016-07-05 03:23:55.000000000,2016-08-12 09:03:14.000000000,2016-08-12 07:13:49.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 10068}, {'_account_id': 10386}, {'_account_id': 16376}, {'_account_id': 21598}, {'_account_id': 21647}, {'_account_id': 22620}]","[{'number': 1, 'created': '2016-07-05 03:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/491a0c0c496532c536ab980bf02576880defaf2f', 'message': 'add the synchronization between neutron and ODL in driver_v1\n\nadd the synchronization between neutron and ODL in driver_v1\n\nChange-Id: I2970e6400f218fa4c25b7333ce2315dbec9a635e\nCloses-Bug: #1598728\n'}, {'number': 2, 'created': '2016-08-03 02:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b94f4642981057badaf006548906eb0201d974fe', 'message': 'add the synchronization between neutron and ODL in driver_v1\n\nadd the synchronization between neutron and ODL in driver_v1\n\nCloses-Bug: #1598728\n\nChange-Id: I2970e6400f218fa4c25b7333ce2315dbec9a635e\n'}, {'number': 3, 'created': '2016-08-10 07:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/25a8a203684f1ebc30ca948dc803c75fb98116e8', 'message': 'add the synchronization between neutron and ODL in driver_v1\n\nadd the synchronization between neutron and ODL in driver_v1\n\nCloses-Bug: #1598728\n\nChange-Id: I2970e6400f218fa4c25b7333ce2315dbec9a635e\n'}, {'number': 4, 'created': '2016-08-11 10:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/76ada264a6f2cd5a38ce4d7c7e11cfdd26741e1b', 'message': 'add the synchronization between neutron and ODL in driver_v1\n\nadd the synchronization between neutron and ODL in driver_v1\n\nCloses-Bug: #1598728\n\nChange-Id: I2970e6400f218fa4c25b7333ce2315dbec9a635e\n'}, {'number': 5, 'created': '2016-08-12 02:02:27.000000000', 'files': ['networking_odl/lbaas/driver_v1.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/df084e1994bada4ce1ba30c8feffb4b2ebe2077d', 'message': 'add the synchronization between neutron and ODL in driver_v1\n\nadd the synchronization between neutron and ODL in driver_v1\n\nCloses-Bug: #1598728\n\nChange-Id: I2970e6400f218fa4c25b7333ce2315dbec9a635e\n'}]",8,337409,df084e1994bada4ce1ba30c8feffb4b2ebe2077d,36,8,5,21598,,,0,"add the synchronization between neutron and ODL in driver_v1

add the synchronization between neutron and ODL in driver_v1

Closes-Bug: #1598728

Change-Id: I2970e6400f218fa4c25b7333ce2315dbec9a635e
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/09/337409/5 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/lbaas/driver_v1.py'],1,491a0c0c496532c536ab980bf02576880defaf2f,bug/1598728,"from networking_odl.common import constants as odl_constLBAAS = ""lbaas"" pools_url_path = LBAAS + '/' + odl_const.ODL_POOLS LBaaS V1 driver for Openstack Neutron. url = pools_url_path self.client.sendjson('post', url, {odl_const.ODL_POOLS[:-1]: pool}) url = pools_url_path + ""/"" + pool['id'] self.client.sendjson('put', url, {odl_const.ODL_POOLS[:-1]: pool}) url = pools_url_path + ""/"" + pool['id'] self.client.sendjson('delete', url, None) url = pools_url_path + '/' + member['pool_id'] + '/' + odl_const.ODL_MEMBERS self.client.sendjson('post', url, {odl_const.ODL_MEMBERS[:-1]: member}) url = pools_url_path + '/' + member['pool_id'] + '/' + odl_const.ODL_MEMBERS + ""/"" + member['id'] self.client.sendjson('put', url, None) url = pools_url_path + '/' + member['pool_id'] + '/' + odl_const.ODL_MEMBERS + ""/"" + member['id'] self.client.sendjson('delete', url, None)", LBaaS V1 driver for OpenStack Neutron. pass pass pass pass pass pass,17,9
openstack%2Ffuel-qa~stable%2F7.0~I0b364ace4e9e198cda6a961b31a16097c70d07a0,openstack/fuel-qa,stable/7.0,I0b364ace4e9e198cda6a961b31a16097c70d07a0,Upgrade tests will use modern SSHClient API,MERGED,2016-08-12 08:12:20.000000000,2016-08-12 08:58:30.000000000,2016-08-12 08:58:30.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 15984}, {'_account_id': 19119}]","[{'number': 1, 'created': '2016-08-12 08:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/ad4ce3eb81067d0e824011bca0a3b1a853aa679e', 'message': 'Upgrade tests will use modern SSHClient API\n\nrun_on_remote and run_on_remote_get_results eliminated\nSSHClient is memorized, so cache is not required\n\nChange-Id: I0b364ace4e9e198cda6a961b31a16097c70d07a0\n'}, {'number': 2, 'created': '2016-08-12 08:43:31.000000000', 'files': ['fuelweb_test/tests/tests_upgrade/test_data_driven_upgrade_base.py', 'fuelweb_test/tests/tests_upgrade/upgrader_tool.py', 'fuelweb_test/tests/tests_upgrade/__init__.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/b31e1dde365f254a0dda5440972828b7de7a49e6', 'message': 'Upgrade tests will use modern SSHClient API\n\nrun_on_remote and run_on_remote_get_results eliminated\nSSHClient is memorized, so cache is not required\n\nChange-Id: I0b364ace4e9e198cda6a961b31a16097c70d07a0\n'}]",0,354575,b31e1dde365f254a0dda5440972828b7de7a49e6,15,4,2,19119,,,0,"Upgrade tests will use modern SSHClient API

run_on_remote and run_on_remote_get_results eliminated
SSHClient is memorized, so cache is not required

Change-Id: I0b364ace4e9e198cda6a961b31a16097c70d07a0
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/75/354575/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/tests/tests_upgrade/test_data_driven_upgrade_base.py', 'fuelweb_test/tests/tests_upgrade/upgrader_tool.py', 'fuelweb_test/tests/tests_upgrade/__init__.py']",3,ad4ce3eb81067d0e824011bca0a3b1a853aa679e,," __all__ = [ 'test_data_driven_upgrade', 'test_data_driven_upgrade_net_tmpl', 'test_data_driven_upgrade_plugin', 'upgrader_tool' ]",,38,36
openstack%2Fdevstack~master~I2a32b4dee3f27efc78bd1e546a96cfbc1225b8b5,openstack/devstack,master,I2a32b4dee3f27efc78bd1e546a96cfbc1225b8b5,fix nova's fake virt driver plugin,MERGED,2016-08-10 09:50:09.000000000,2016-08-12 08:56:01.000000000,2016-08-12 08:56:01.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4656}, {'_account_id': 5196}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-08-10 09:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b01f4e32667461b2521b62ee3d57300a1cafd10d', 'message': ""fix nova's fake virt driver plugin\n\nnova's config was changed:\n1) now virt driver has another format\n2) some quotas can't be below 0 - and instead of\nsetting -1 to all quotas devstack can configure nova\nwith Noop quota driver.\n\nChange-Id: I2a32b4dee3f27efc78bd1e546a96cfbc1225b8b5\n""}, {'number': 2, 'created': '2016-08-11 16:11:59.000000000', 'files': ['lib/nova_plugins/hypervisor-fake'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3d5f03abe515009aea34599c0e5b0d541afcac0a', 'message': ""fix nova's fake virt driver plugin\n\nnova's config was changed -\nnow virt driver parameter needs not full path for virt driver\n\nChange-Id: I2a32b4dee3f27efc78bd1e546a96cfbc1225b8b5\n""}]",0,353356,3d5f03abe515009aea34599c0e5b0d541afcac0a,20,7,2,10234,,,0,"fix nova's fake virt driver plugin

nova's config was changed -
now virt driver parameter needs not full path for virt driver

Change-Id: I2a32b4dee3f27efc78bd1e546a96cfbc1225b8b5
",git fetch https://review.opendev.org/openstack/devstack refs/changes/56/353356/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/hypervisor-fake'],1,b01f4e32667461b2521b62ee3d57300a1cafd10d,," iniset $NOVA_CONF DEFAULT compute_driver ""fake.FakeDriver"" iniset $NOVA_CONF DEFAULT quota_driver ""nova.quota.NoopQuotaDriver"""," iniset $NOVA_CONF DEFAULT compute_driver ""nova.virt.fake.FakeDriver"" iniset $NOVA_CONF DEFAULT quota_instances -1 iniset $NOVA_CONF DEFAULT quota_cores -1 iniset $NOVA_CONF DEFAULT quota_ram -1 iniset $NOVA_CONF DEFAULT quota_floating_ips -1 iniset $NOVA_CONF DEFAULT quota_fixed_ips -1 iniset $NOVA_CONF DEFAULT quota_metadata_items -1 iniset $NOVA_CONF DEFAULT quota_injected_files -1 iniset $NOVA_CONF DEFAULT quota_injected_file_path_bytes -1 iniset $NOVA_CONF DEFAULT quota_security_groups -1 iniset $NOVA_CONF DEFAULT quota_security_group_rules -1 iniset $NOVA_CONF DEFAULT quota_key_pairs -1",2,12
openstack%2Fneutron~stable%2Fliberty~Ib601235b56c553c29618a4dfdf0608a7b2784c6f,openstack/neutron,stable/liberty,Ib601235b56c553c29618a4dfdf0608a7b2784c6f,Fix code that's trying to read from a stale DB object,MERGED,2016-08-11 23:36:29.000000000,2016-08-12 08:55:39.000000000,2016-08-12 08:55:39.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 5196}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9732}]","[{'number': 1, 'created': '2016-08-11 23:36:29.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a587dec08cefb88c448d8cdbe741f363430c01b5', 'message': ""Fix code that's trying to read from a stale DB object\n\nChange-Id: Ib601235b56c553c29618a4dfdf0608a7b2784c6f\nCloses-Bug: #1594376\n(cherry picked from commit dfbe1fb7c510d556095a926fec6bfe6f4c153b47)\n""}]",0,354445,a587dec08cefb88c448d8cdbe741f363430c01b5,18,7,1,6167,,,0,"Fix code that's trying to read from a stale DB object

Change-Id: Ib601235b56c553c29618a4dfdf0608a7b2784c6f
Closes-Bug: #1594376
(cherry picked from commit dfbe1fb7c510d556095a926fec6bfe6f4c153b47)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/354445/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,a587dec08cefb88c448d8cdbe741f363430c01b5,bug/1594376," # NOTE Don't inline port_id; needed for PortNotFound. port_id = a.port_id self.update_port(context, port_id, data) except exc.PortNotFound: # NOTE Attempting to access a.port_id here is an error. LOG.debug(""Port %s deleted concurrently"", port_id) ""from port %s""), port_id)"," self.update_port(context, a.port_id, data) except exc.PortNotFound: LOG.debug(""Port %s deleted concurrently"", a.port_id) ""from port %s""), a.port_id)",6,3
openstack%2Ffuel-ui~master~Ia35cad04cfe940f682af17d81bebb46a67c5b593,openstack/fuel-ui,master,Ia35cad04cfe940f682af17d81bebb46a67c5b593,Fix multi-line label of filter and sorter checkbox,MERGED,2016-07-06 14:15:39.000000000,2016-08-12 08:53:25.000000000,2016-07-07 13:15:12.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8970}, {'_account_id': 8971}, {'_account_id': 9730}, {'_account_id': 15315}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-07-06 14:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/b8c1614e4b0318a13b609981bbd21bd9da12a632', 'message': 'Fixes for two-line labels on filters and sorters blocks\n\nChange-Id: Ia35cad04cfe940f682af17d81bebb46a67c5b593\n'}, {'number': 2, 'created': '2016-07-07 07:02:45.000000000', 'files': ['static/styles/main.less', 'static/views/controls.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/3c3cc9d9762f5e447bc8d9f2ccff54db116fa862', 'message': 'Fix multi-line label of filter and sorter checkbox\n\nChange-Id: Ia35cad04cfe940f682af17d81bebb46a67c5b593\n'}]",0,338281,3c3cc9d9762f5e447bc8d9f2ccff54db116fa862,21,8,2,8970,,,0,"Fix multi-line label of filter and sorter checkbox

Change-Id: Ia35cad04cfe940f682af17d81bebb46a67c5b593
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/81/338281/2 && git format-patch -1 --stdout FETCH_HEAD,"['static/styles/main.less', 'static/views/controls.js']",2,b8c1614e4b0318a13b609981bbd21bd9da12a632,fix-labels, <span>{label}</span>, {label},6,1
openstack%2Fmagnum~master~I4ca1f9f386b6417726154c466e7a9104b6e6e5e1,openstack/magnum,master,I4ca1f9f386b6417726154c466e7a9104b6e6e5e1,Support for async bay operations,MERGED,2016-06-16 20:21:26.000000000,2016-08-12 08:52:43.000000000,2016-08-12 08:52:43.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 6159}, {'_account_id': 7230}, {'_account_id': 9095}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 11650}, {'_account_id': 12175}, {'_account_id': 13248}, {'_account_id': 13962}, {'_account_id': 20498}, {'_account_id': 21469}, {'_account_id': 21660}]","[{'number': 1, 'created': '2016-06-16 20:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/47a653730eb612b551c3e54df85db8ed03068f65', 'message': 'Support for async bay operations\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 2, 'created': '2016-06-17 15:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b33b702f1057d68f2903181964997b9936db5883', 'message': 'Support for async bay operations\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 3, 'created': '2016-06-17 15:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c3000e99d3688588598f4f86e20042f65de12528', 'message': 'Support for async bay operations(WIP)\n\nThis changes bay-create api behavior little bit. Current bay create\nreturn bay object, but with this change we return just bay uuid.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 4, 'created': '2016-06-17 15:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fe795a749192778ef11f25eadfe7bab9f054c1a5', 'message': 'Support for async bay operations(WIP)\n\nThis changes bay-create api behavior little bit. Current bay create\nreturn bay object, but with this change we return just bay uuid.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 5, 'created': '2016-06-21 16:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9b7f266604cf20235f99189188fc2133120df4f5', 'message': 'Support for async bay operations(WIP)\n\nThis changes bay-create api behavior little bit. Current bay create\nreturn bay object, but with this change we return just bay uuid.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 6, 'created': '2016-06-23 19:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/df29bc0a49fedc34705c6c91f529fc849779602d', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\n\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 7, 'created': '2016-06-27 15:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/eacdf0241b69f2f9ec73aa15cde9e5f2bbb0d757', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\n\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 8, 'created': '2016-06-27 17:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a74f399c9a4bc91921dbdc7978b4d15da2065080', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\n\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 9, 'created': '2016-06-27 19:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6edf1a1b2bd70835cd07de2b50c30be4db5ebf6d', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\n\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 10, 'created': '2016-06-27 20:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/285850c3c6ca7bb4587bd24f039331834657b766', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\n\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 11, 'created': '2016-06-29 23:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/45b6070b9188d7eddbf306273e53ddaabf172bfa', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\n\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 12, 'created': '2016-06-30 03:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f0a5adce07b3e48e5bf011ca17282f7b02326a52', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\n\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 13, 'created': '2016-06-30 13:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/672cda785cd8a98c3711b2a6c54cd9a2602856c2', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\n\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 14, 'created': '2016-07-18 21:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0c07fa8047503ec55b3968cd0411f15117d51029', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\n\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 15, 'created': '2016-07-19 17:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/737516ffa165bc1ee54ff805234583f99aafb84d', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object and also microversion\n1.2 is added for new behavior.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 16, 'created': '2016-07-19 19:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/04d6d83c73d6a5da23f3c58fdac09d5bb00b7970', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object and also microversion\n1.2 is added for new behavior.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 17, 'created': '2016-07-19 23:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9265c8ddf46dcceb43c88f069162b04f3819b5fe', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object and also microversion\n1.2 is added for new behavior.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 18, 'created': '2016-07-20 00:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/64b2bf942afb083914ea06cde6ad7722d756ca24', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object and also microversion\n1.2 is added for new behavior.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 19, 'created': '2016-07-20 16:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/866134a125d1fb1310bfa93184d664d9725548e5', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object and also microversion\n1.2 is added for new behavior.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 20, 'created': '2016-07-20 19:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5074db7fabf1449b3e27c1eb45a9cc17682951b2', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object and also microversion\n1.2 is added for new behavior.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 21, 'created': '2016-07-21 00:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c9e3ab18a09aa44ae25e3bbbc72b78acfa419a05', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object and also microversion\n1.2 is added for new behavior.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 22, 'created': '2016-07-21 18:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8a8991e9aea2953dea1de1a880cc7935a164f4d3', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object and also microversion\n1.2 is added for new behavior.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 23, 'created': '2016-07-21 18:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f12d2b1287e274dbf0c64e146b678f178fa8c890', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object and also microversion\n1.2 is added for new behavior.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nPartial-Bug: #1588425\n'}, {'number': 24, 'created': '2016-08-04 16:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ab0aeecb6829b8cd357e8cab6740954fe7aaa676', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object and also microversion\n1.2 is added for new behavior.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nCloses-Bug: #1588425\n'}, {'number': 25, 'created': '2016-08-08 17:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ae720426bfcf0277d9bc0e5430fbc358706cd900', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object and also microversion\n1.2 is added for new behavior.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nCloses-Bug: #1588425\n'}, {'number': 26, 'created': '2016-08-10 15:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f0f230fafbfb24ed126449cd1b948821c4ff5252', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object and also microversion\n1.2 is added for new behavior.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nCloses-Bug: #1588425\n'}, {'number': 27, 'created': '2016-08-11 14:28:42.000000000', 'files': ['releasenotes/notes/async-bay-operations-support-9819bd06122ea9e5.yaml', 'magnum/api/controllers/versions.py', 'magnum/conductor/api.py', 'magnum/tests/unit/api/controllers/v1/test_bay.py', 'magnum/tests/unit/conductor/handlers/test_bay_conductor.py', 'magnum/tests/functional/api/v1/test_bay.py', 'magnum/api/controllers/v1/bay.py', 'magnum/tests/unit/api/controllers/test_root.py', 'magnum/conductor/handlers/bay_conductor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/bf30b9b4cb51fb4c09cfc1b1c099f3773a5ace33', 'message': 'Support for async bay operations\n\nCurrent implementation of magnum bay operations are synchronous\nand as a result API requests are blocked until response from HEAT\nservice is received. With this change bay-create, bay-update and\nbay-delete calls will be asynchronous.\nPlease note that with this change bay-create/bay-update api calls\nwill return bay uuid instead of bay object and also microversion\n1.2 is added for new behavior.\n\nChange-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1\nCloses-Bug: #1588425\n'}]",28,330771,bf30b9b4cb51fb4c09cfc1b1c099f3773a5ace33,117,14,27,7230,,,0,"Support for async bay operations

Current implementation of magnum bay operations are synchronous
and as a result API requests are blocked until response from HEAT
service is received. With this change bay-create, bay-update and
bay-delete calls will be asynchronous.
Please note that with this change bay-create/bay-update api calls
will return bay uuid instead of bay object and also microversion
1.2 is added for new behavior.

Change-Id: I4ca1f9f386b6417726154c466e7a9104b6e6e5e1
Closes-Bug: #1588425
",git fetch https://review.opendev.org/openstack/magnum refs/changes/71/330771/21 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/conductor/api.py', 'magnum/api/controllers/v1/bay.py', 'magnum/conductor/handlers/bay_conductor.py']",3,47a653730eb612b551c3e54df85db8ed03068f65,bug/1588425," try: getattr(bay, 'uuid') except NotImplementedError: # In case of async bay_create, uuid will not be available, so # assign a new uuid bay.uuid = uuid.uuid4() ", bay.uuid = uuid.uuid4(),43,7
openstack%2Ffuel-ui~master~Ie7a7b7d2aa9d4bb52dd020d6d2d74cdd9de9590d,openstack/fuel-ui,master,Ie7a7b7d2aa9d4bb52dd020d6d2d74cdd9de9590d,Fix translation of running task name,MERGED,2016-07-29 07:30:53.000000000,2016-08-12 08:49:30.000000000,2016-07-29 09:26:27.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-07-29 07:30:53.000000000', 'files': ['static/views/cluster_page_tabs/dashboard_tab.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/25f4b204bfcfa2ebc0e2aff41f8b8443c88294eb', 'message': 'Fix translation of running task name\n\nOriginal task name should be displayed on Dashboard\nif the task has no transalation specified.\n\nChange-Id: Ie7a7b7d2aa9d4bb52dd020d6d2d74cdd9de9590d\n'}]",0,348765,25f4b204bfcfa2ebc0e2aff41f8b8443c88294eb,14,4,1,8766,,,0,"Fix translation of running task name

Original task name should be displayed on Dashboard
if the task has no transalation specified.

Change-Id: Ie7a7b7d2aa9d4bb52dd020d6d2d74cdd9de9590d
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/65/348765/1 && git format-patch -1 --stdout FETCH_HEAD,['static/views/cluster_page_tabs/dashboard_tab.js'],1,25f4b204bfcfa2ebc0e2aff41f8b8443c88294eb,fix-task-name," {i18n('cluster_page.' + taskName, {defaultValue: taskName}) + '...'}", {i18n('cluster_page.' + taskName) + '...'},1,1
openstack%2Fproject-config~master~Idf47fc5c03f457b47917760c5e6d19b6fad92d5f,openstack/project-config,master,Idf47fc5c03f457b47917760c5e6d19b6fad92d5f,Switch ironic-multinode job to use multitenant,MERGED,2016-08-11 09:14:47.000000000,2016-08-12 08:47:48.000000000,2016-08-12 08:20:49.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 10343}, {'_account_id': 14525}]","[{'number': 1, 'created': '2016-08-11 09:14:47.000000000', 'files': ['jenkins/jobs/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c717715448f10ffaa5ab2207b607493765828cde', 'message': 'Switch ironic-multinode job to use multitenant\n\nThis patch configures ironic-multinode job to use multitenant setup.\nIt also increase number of VMs to 3.\n\nChange-Id: Idf47fc5c03f457b47917760c5e6d19b6fad92d5f\n'}]",0,353921,c717715448f10ffaa5ab2207b607493765828cde,9,5,1,14525,,,0,"Switch ironic-multinode job to use multitenant

This patch configures ironic-multinode job to use multitenant setup.
It also increase number of VMs to 3.

Change-Id: Idf47fc5c03f457b47917760c5e6d19b6fad92d5f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/21/353921/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/ironic.yaml'],1,c717715448f10ffaa5ab2207b607493765828cde,ir_multinode, - ironic-multitenant bm-vm-count: 3, bm-vm-count: 1,2,1
openstack%2Fhorizon~master~I8789212a66e4c7e3b5e6bee0e224dda544b7a4dd,openstack/horizon,master,I8789212a66e4c7e3b5e6bee0e224dda544b7a4dd,Updated from global requirements,MERGED,2016-08-11 18:11:19.000000000,2016-08-12 08:46:36.000000000,2016-08-12 08:46:36.000000000,"[{'_account_id': 3}, {'_account_id': 6610}, {'_account_id': 6914}]","[{'number': 1, 'created': '2016-08-11 18:11:19.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d21fd866c46f5cbe3cc49948b14e63a5a9dd73b2', 'message': 'Updated from global requirements\n\nChange-Id: I8789212a66e4c7e3b5e6bee0e224dda544b7a4dd\n'}]",0,354299,d21fd866c46f5cbe3cc49948b14e63a5a9dd73b2,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I8789212a66e4c7e3b5e6bee0e224dda544b7a4dd
",git fetch https://review.opendev.org/openstack/horizon refs/changes/99/354299/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d21fd866c46f5cbe3cc49948b14e63a5a9dd73b2,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Fpython-senlinclient~master~Ia79a069bde4fd94bc1bd00f719b4e6b4a56770f8,openstack/python-senlinclient,master,Ia79a069bde4fd94bc1bd00f719b4e6b4a56770f8,Remove 'ProfileAction' and related arguments,MERGED,2016-08-10 07:44:20.000000000,2016-08-12 08:41:35.000000000,2016-08-12 08:41:35.000000000,"[{'_account_id': 3}, {'_account_id': 8246}]","[{'number': 1, 'created': '2016-08-10 07:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/22bc9f4e5ced350224491fd4b1881184993f37e8', 'message': ""Remove 'ProfileAction' and related arguments\n\nThe 'ProfileAction' class and the related user_preferences are\npre-history relics. Keeping them in senlinclient is only causing\nconfusion considering that 1) senlin shell will be deprecated someday;\n2) SDK has some tweaks to the design that we cannot follow up; 3) these\narguments are rarely used.\n\nChange-Id: Ia79a069bde4fd94bc1bd00f719b4e6b4a56770f8\n""}, {'number': 2, 'created': '2016-08-10 07:48:59.000000000', 'files': ['senlinclient/tests/unit/test_cliargs.py', 'senlinclient/common/sdk.py', 'senlinclient/shell.py', 'senlinclient/tests/unit/test_sdk.py', 'senlinclient/tests/unit/test_shell.py', 'senlinclient/cliargs.py'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/92f52735cbf3db33e3877b0bfd9854a33b632e59', 'message': ""Remove 'ProfileAction' and related arguments\n\nThe 'ProfileAction' class and the related user_preferences are\npre-history relics. Keeping them in senlinclient is only causing\nconfusion considering that 1) senlin shell will be deprecated someday;\n2) SDK has some tweaks to the design that we cannot follow up; 3) these\narguments are rarely used.\n\nChange-Id: Ia79a069bde4fd94bc1bd00f719b4e6b4a56770f8\n""}]",0,353291,92f52735cbf3db33e3877b0bfd9854a33b632e59,7,2,2,8246,,,0,"Remove 'ProfileAction' and related arguments

The 'ProfileAction' class and the related user_preferences are
pre-history relics. Keeping them in senlinclient is only causing
confusion considering that 1) senlin shell will be deprecated someday;
2) SDK has some tweaks to the design that we cannot follow up; 3) these
arguments are rarely used.

Change-Id: Ia79a069bde4fd94bc1bd00f719b4e6b4a56770f8
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/91/353291/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlinclient/tests/unit/test_cliargs.py', 'senlinclient/common/sdk.py', 'senlinclient/shell.py', 'senlinclient/tests/unit/test_sdk.py', 'senlinclient/tests/unit/test_shell.py', 'senlinclient/cliargs.py']",6,22bc9f4e5ced350224491fd4b1881184993f37e8,remove-useless-args,,"from senlinclient.common import sdk parser.add_argument( '--os-api-name', dest='user_preferences', metavar='<service>=<name>', action=sdk.ProfileAction, default=sdk.ProfileAction.env('OS_API_NAME'), help=_('Desired API names, defaults to env[OS_API_NAME]')) parser.add_argument( '--os-api-region', dest='user_preferences', metavar='<service>=<region>', action=sdk.ProfileAction, default=sdk.ProfileAction.env('OS_API_REGION', 'OS_REGION_NAME'), help=_('Desired API region, defaults to env[OS_API_REGION]')) parser.add_argument( '--os-api-version', dest='user_preferences', metavar='<service>=<version>', action=sdk.ProfileAction, default=sdk.ProfileAction.env('OS_API_VERSION'), help=_('Desired API versions, defaults to env[OS_API_VERSION]')) parser.add_argument( '--os-api-interface', dest='user_preferences', metavar='<service>=<interface>', action=sdk.ProfileAction, default=sdk.ProfileAction.env('OS_INTERFACE'), help=_('Desired API interface, defaults to env[OS_INTERFACE]')) ",3,132
openstack%2Fpython-senlinclient~master~Ie4f09e29f584813bf354002aee0f8680c7688c59,openstack/python-senlinclient,master,Ie4f09e29f584813bf354002aee0f8680c7688c59,Remove local cached version of Resource class,MERGED,2016-08-10 06:59:34.000000000,2016-08-12 08:41:29.000000000,2016-08-12 08:41:29.000000000,"[{'_account_id': 3}, {'_account_id': 8246}]","[{'number': 1, 'created': '2016-08-10 06:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/a55e6695f166f5aca42659d7f10d7c61164a1f5e', 'message': ""Remove local cached version of Resource class\n\nWe used to have a local version of Resource class due to insufficient\nsupport in SDK back in the old days. Now I believe all those barriers\nare removed. So the local cached version doesn't make much senses. This\npatch proposes to remove them forever.\n\nChange-Id: Ie4f09e29f584813bf354002aee0f8680c7688c59\n""}, {'number': 2, 'created': '2016-08-10 07:45:44.000000000', 'files': ['senlinclient/common/sdk.py'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/1c6496caebf440985dd35f8b416acdef32bc82f0', 'message': ""Remove local cached version of Resource class\n\nWe used to have a local version of Resource class due to insufficient\nsupport in SDK back in the old days. Now I believe all those barriers\nare removed. So the local cached version doesn't make much senses. This\npatch proposes to remove them forever.\n\nChange-Id: Ie4f09e29f584813bf354002aee0f8680c7688c59\n""}]",0,353275,1c6496caebf440985dd35f8b416acdef32bc82f0,8,2,2,8246,,,0,"Remove local cached version of Resource class

We used to have a local version of Resource class due to insufficient
support in SDK back in the old days. Now I believe all those barriers
are removed. So the local cached version doesn't make much senses. This
patch proposes to remove them forever.

Change-Id: Ie4f09e29f584813bf354002aee0f8680c7688c59
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/75/353275/1 && git format-patch -1 --stdout FETCH_HEAD,['senlinclient/common/sdk.py'],1,a55e6695f166f5aca42659d7f10d7c61164a1f5e,tidy-sdk-resource,,"class Resource(base.Resource): """"""Senlin version of resource. These classes are here because the OpenStack SDK base version is making some assumptions about operations that cannot be satisfied in Senlin. """""" def create(self, session, extra_attrs=False): """"""Create a remote resource from this instance. :param extra_attrs: If true, all attributions that included in response will be collected and returned to user after resource creation """""" resp = self.create_by_id(session, self._attrs, self.id, path_args=self) self._attrs[self.id_attribute] = resp[self.id_attribute] if extra_attrs: for attr in resp: self._attrs[attr] = resp[attr] self._reset_dirty() return self @classmethod def get_data_with_args(cls, session, resource_id, args=None): if not cls.allow_retrieve: raise exceptions.MethodNotSupported('list') url = utils.urljoin(cls.base_path, resource_id) if args: args.pop('id') url = '%s?%s' % (url, url_parse.urlencode(args)) resp = session.get(url, endpoint_filter=cls.service) body = resp.json() if cls.resource_key: body = body[cls.resource_key] return body def get_with_args(self, session, args=None): body = self.get_data_with_args(session, self.id, args=args) self._attrs.update(body) self._loaded = True return self ",0,49
openstack%2Fcloudkitty~master~Iade5801b392326bf98205b2d0b1d36af666d4a7c,openstack/cloudkitty,master,Iade5801b392326bf98205b2d0b1d36af666d4a7c,DO NOT MERGE testing the new cloudkitty experimental job check experimental,ABANDONED,2016-08-11 15:40:22.000000000,2016-08-12 08:36:25.000000000,,"[{'_account_id': 3}, {'_account_id': 9642}]","[{'number': 1, 'created': '2016-08-11 15:40:22.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/253c43d7c6f07b5335685ecc24d146ba7f85358f', 'message': 'DO NOT MERGE testing the new cloudkitty experimental job\ncheck experimental\n\nChange-Id: Iade5801b392326bf98205b2d0b1d36af666d4a7c\n'}]",0,354169,253c43d7c6f07b5335685ecc24d146ba7f85358f,5,2,1,23060,,,0,"DO NOT MERGE testing the new cloudkitty experimental job
check experimental

Change-Id: Iade5801b392326bf98205b2d0b1d36af666d4a7c
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/69/354169/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,253c43d7c6f07b5335685ecc24d146ba7f85358f,test-experimental-job, ,,2,0
openstack%2Fneutron-lib~master~I3d499d60b1687208a2b5882e9f655836c906a297,openstack/neutron-lib,master,I3d499d60b1687208a2b5882e9f655836c906a297,api-ref: Merge v2 and v2-ext into one directory,MERGED,2016-08-04 01:31:50.000000000,2016-08-12 08:34:20.000000000,2016-08-10 23:47:13.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 5367}, {'_account_id': 6524}, {'_account_id': 6854}]","[{'number': 1, 'created': '2016-08-04 01:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9f51d5e67cbfacffc61d252e35de24977f6f2371', 'message': 'Merge v2 and v2-ext into one directory\n\nPart of blueprint neutron-in-tree-api-ref\n\nChange-Id: I3d499d60b1687208a2b5882e9f655836c906a297\n'}, {'number': 2, 'created': '2016-08-04 01:44:28.000000000', 'files': ['api-ref/source/v2-ext/index.rst', 'api-ref/source/v2/networks-vlan-transparency-ext.inc', 'api-ref/source/v2/security_group_rules.inc', 'api-ref/source/v2/vpnaas.inc', 'api-ref/source/v2/extensions.inc', 'api-ref/source/v2/lbaas-v1.inc', 'api-ref/source/v2/layer3-ext.inc', 'api-ref/source/v2/flavors.inc', 'api-ref/source/v2/networks-multi-provider-ext.inc', 'api-ref/source/v2/network-provider.inc', 'api-ref/source/v2/networking-ip-availability-ext.inc', 'api-ref/source/v2/quotas.inc', 'api-ref/source/v2/fwaas-v2.0.inc', 'api-ref/source/v2/lbaas-v2.inc', 'api-ref/source/index.rst', 'api-ref/source/v2/versions.inc', 'api-ref/source/v2/port-binding.inc', 'api-ref/source/v2/extraroute.inc', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/metering-labels-ext.inc', 'api-ref/source/v2/qos-ext.inc', 'api-ref/source/v2-ext/parameters.yaml', 'api-ref/source/v2/subnetpools-ext.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/security-groups.inc', 'api-ref/source/v2/tag-ext.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d6d91b666a590a68112e41ab1075b35543b042cd', 'message': 'api-ref: Merge v2 and v2-ext into one directory\n\nPreparation of API-ref cleanup.\n\nPart of blueprint neutron-in-tree-api-ref\n\nChange-Id: I3d499d60b1687208a2b5882e9f655836c906a297\n'}]",4,350854,d6d91b666a590a68112e41ab1075b35543b042cd,14,6,2,841,,,0,"api-ref: Merge v2 and v2-ext into one directory

Preparation of API-ref cleanup.

Part of blueprint neutron-in-tree-api-ref

Change-Id: I3d499d60b1687208a2b5882e9f655836c906a297
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/54/350854/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2-ext/index.rst', 'api-ref/source/v2/networks-vlan-transparency-ext.inc', 'api-ref/source/v2/security_group_rules.inc', 'api-ref/source/v2/vpnaas.inc', 'api-ref/source/v2/extensions.inc', 'api-ref/source/v2/lbaas-v1.inc', 'api-ref/source/v2/layer3-ext.inc', 'api-ref/source/v2/flavors.inc', 'api-ref/source/v2/networks-multi-provider-ext.inc', 'api-ref/source/v2/network-provider.inc', 'api-ref/source/v2/networking-ip-availability-ext.inc', 'api-ref/source/v2/quotas.inc', 'api-ref/source/v2/fwaas-v2.0.inc', 'api-ref/source/v2/lbaas-v2.inc', 'api-ref/source/index.rst', 'api-ref/source/v2/versions.inc', 'api-ref/source/v2/port-binding.inc', 'api-ref/source/v2/extraroute.inc', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/metering-labels-ext.inc', 'api-ref/source/v2/qos-ext.inc', 'api-ref/source/v2-ext/parameters.yaml', 'api-ref/source/v2/subnetpools-ext.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/security-groups.inc', 'api-ref/source/v2/tag-ext.inc']",26,9f51d5e67cbfacffc61d252e35de24977f6f2371,bp/neutron-in-tree-api-ref,,,3845,3898
openstack%2Ffuel-ui~stable%2Fmitaka~I998a9ec4807bf98a3a996feaacb0e8256ffc7c55,openstack/fuel-ui,stable/mitaka,I998a9ec4807bf98a3a996feaacb0e8256ffc7c55,Add History tab to Cluster page,MERGED,2016-08-11 13:57:37.000000000,2016-08-12 08:31:35.000000000,2016-08-12 08:26:31.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9730}, {'_account_id': 15315}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-11 13:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/d7bee705dc83e1dbe582346c97df6103b84f616f', 'message': 'Add History tab to Cluster page\n\nShow history of finished cluster deployments on the new History tab.\nIntroduced a table view of a deployment history.\n\nImplements blueprint ui-deployment-history\n\nChange-Id: I998a9ec4807bf98a3a996feaacb0e8256ffc7c55\n'}, {'number': 2, 'created': '2016-08-11 14:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/5b69acb69e02cf23ab1269b5cdadeb183b150112', 'message': 'Add History tab to Cluster page\n\nShow history of finished cluster deployments on the new History tab.\nIntroduced a table view of a deployment history.\n\nImplements blueprint ui-deployment-history\n\nChange-Id: I998a9ec4807bf98a3a996feaacb0e8256ffc7c55\n'}, {'number': 3, 'created': '2016-08-11 15:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/82712e2339904998db40c32dbbe728c6a955b84d', 'message': 'Add History tab to Cluster page\n\nShow history of finished cluster deployments on the new History tab.\nIntroduced a table view of a deployment history.\n\nImplements blueprint ui-deployment-history\n\nChange-Id: I998a9ec4807bf98a3a996feaacb0e8256ffc7c55\n'}, {'number': 4, 'created': '2016-08-11 16:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/b9bcf6b3d894c28501ce192e24000fa2a255e146', 'message': 'Add History tab to Cluster page\n\nShow history of finished cluster deployments on the new History tab.\nIntroduced a table view of a deployment history.\n\nImplements blueprint ui-deployment-history\n\nChange-Id: I998a9ec4807bf98a3a996feaacb0e8256ffc7c55\n'}, {'number': 5, 'created': '2016-08-12 08:03:41.000000000', 'files': ['static/img/tabs/tabs-icons-sprite.svg', 'static/consts.js', 'static/views/wizard.js', 'static/views/cluster_page_tabs/nodes_tab.js', 'static/utils.js', 'static/img/icons/icons-sprite.svg', 'static/translations/core.json', 'static/styles/main.less', 'static/views/cluster_page.js', 'static/views/cluster_page_tabs/deployment_history_component.js', 'static/models.js', 'static/views/controls.js', 'static/views/cluster_page_tabs/history_tab.js', 'static/views/dialogs.js'], 'web_link': 'https://opendev.org/openstack/fuel-ui/commit/97d605c0f06e97ddbaaa133a7f629cac8b2ba428', 'message': 'Add History tab to Cluster page\n\nShow history of finished cluster deployments on the new History tab.\nIntroduced a table view of a deployment history.\n\nImplements blueprint ui-deployment-history\n\nChange-Id: I998a9ec4807bf98a3a996feaacb0e8256ffc7c55\n'}]",4,354092,97d605c0f06e97ddbaaa133a7f629cac8b2ba428,40,7,5,9730,,,0,"Add History tab to Cluster page

Show history of finished cluster deployments on the new History tab.
Introduced a table view of a deployment history.

Implements blueprint ui-deployment-history

Change-Id: I998a9ec4807bf98a3a996feaacb0e8256ffc7c55
",git fetch https://review.opendev.org/openstack/fuel-ui refs/changes/92/354092/3 && git format-patch -1 --stdout FETCH_HEAD,"['static/img/tabs/tabs-icons-sprite.svg', 'static/consts.js', 'static/views/wizard.js', 'static/views/cluster_page_tabs/nodes_tab.js', 'static/utils.js', 'static/img/icons/icons-sprite.svg', 'static/translations/core.json', 'static/styles/main.less', 'static/views/cluster_page.js', 'static/views/cluster_page_tabs/deployment_history_component.js', 'static/models.js', 'static/views/controls.js', 'static/views/cluster_page_tabs/history_tab.js', 'static/views/dialogs.js']",14,d7bee705dc83e1dbe582346c97df6103b84f616f,bp/ui-deployment-history,"import {DEPLOYMENT_TASK_ATTRIBUTES} from 'consts'; export var DeploymentTaskDetailsDialog = React.createClass({ mixins: [dialogMixin], getDefaultProps() { return { title: i18n('dialog.deployment_task_details.title'), modalClass: 'deployment-task-details-dialog' }; }, renderTaskAttribute(value) { if (_.isArray(value)) return _.map(value, this.renderTaskAttribute).join(', '); if (_.isPlainObject(value)) return JSON.stringify(value); return value; }, renderBody() { var {task} = this.props; var attributes = DEPLOYMENT_TASK_ATTRIBUTES .concat(_.difference(_.keys(task.attributes), DEPLOYMENT_TASK_ATTRIBUTES)); return ( <div> {_.map(attributes, (attr) => ( <div key={attr} className={utils.classNames({ row: true, 'main-attribute': _.includes(DEPLOYMENT_TASK_ATTRIBUTES, attr) })} > <strong className='col-xs-3'> {i18n('dialog.deployment_task_details.task.' + attr, {defaultValue: attr})} </strong> <span className='col-xs-9'> {this.renderTaskAttribute( _.startsWith(attr, 'time') ? utils.formatTimestamp(task.get(attr)) : task.get(attr) )} </span> </div> ))} </div> ); } });",,2755,1244
openstack%2Frequirements~master~I14cd2447f87a2b1b34d7d21fe26c25d1da1f0ee4,openstack/requirements,master,I14cd2447f87a2b1b34d7d21fe26c25d1da1f0ee4,update constraint for oslo.messaging to new release 5.7.0,MERGED,2016-08-10 12:11:51.000000000,2016-08-12 08:30:51.000000000,2016-08-12 08:30:51.000000000,"[{'_account_id': 3}, {'_account_id': 11105}, {'_account_id': 14288}]","[{'number': 1, 'created': '2016-08-10 12:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f3357f1545852610f4f64f95dcd31cff8b571b1a', 'message': 'update constraint for oslo.messaging to new release 5.7.0\n\noslo.messaging 5.7.0 release\n\nChange-Id: I14cd2447f87a2b1b34d7d21fe26c25d1da1f0ee4\nmeta:version: 5.7.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2016-08-11 16:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e1292306b3144f1770f112e068311d8149106ef0', 'message': 'update constraint for oslo.messaging to new release 5.7.0\n\noslo.messaging 5.7.0 release\n\nChange-Id: I14cd2447f87a2b1b34d7d21fe26c25d1da1f0ee4\nmeta:version: 5.7.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2016-08-12 05:03:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b9bf797eb3e419d367385589802c95b3c2bae8f2', 'message': 'update constraint for oslo.messaging to new release 5.7.0\n\noslo.messaging 5.7.0 release\n\nChange-Id: I14cd2447f87a2b1b34d7d21fe26c25d1da1f0ee4\nmeta:version: 5.7.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,353426,b9bf797eb3e419d367385589802c95b3c2bae8f2,16,3,3,2472,,,0,"update constraint for oslo.messaging to new release 5.7.0

oslo.messaging 5.7.0 release

Change-Id: I14cd2447f87a2b1b34d7d21fe26c25d1da1f0ee4
meta:version: 5.7.0
meta:diff-start: -
meta:series: newton
meta:release-type: release
meta:announce: openstack-dev@lists.openstack.org
meta:pypi: yes
meta:first: no
meta:release:Author: Joshua Harlow <jxharlow@godaddy.com>
meta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393
meta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/26/353426/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f3357f1545852610f4f64f95dcd31cff8b571b1a,new-release,oslo.messaging===5.7.0,oslo.messaging===5.6.0,1,1
openstack%2Frequirements~master~Iefc520dabe3690c49124cfe45c08dcc4a074e57d,openstack/requirements,master,Iefc520dabe3690c49124cfe45c08dcc4a074e57d,update constraint for taskflow to new release 2.5.0,MERGED,2016-08-10 12:17:03.000000000,2016-08-12 08:30:40.000000000,2016-08-12 08:30:40.000000000,"[{'_account_id': 3}, {'_account_id': 11105}, {'_account_id': 14288}]","[{'number': 1, 'created': '2016-08-10 12:17:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7ee4e6103ed0632b59c71131f8b184656b4e6872', 'message': 'update constraint for taskflow to new release 2.5.0\n\ntaskflow 2.5.0 release\n\nChange-Id: Iefc520dabe3690c49124cfe45c08dcc4a074e57d\nmeta:version: 2.5.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,353437,7ee4e6103ed0632b59c71131f8b184656b4e6872,10,3,1,2472,,,0,"update constraint for taskflow to new release 2.5.0

taskflow 2.5.0 release

Change-Id: Iefc520dabe3690c49124cfe45c08dcc4a074e57d
meta:version: 2.5.0
meta:diff-start: -
meta:series: newton
meta:release-type: release
meta:announce: openstack-dev@lists.openstack.org
meta:pypi: yes
meta:first: no
meta:release:Author: Joshua Harlow <jxharlow@godaddy.com>
meta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393
meta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/353437/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7ee4e6103ed0632b59c71131f8b184656b4e6872,new-release,taskflow===2.5.0,taskflow===2.4.0,1,1
openstack%2Ftrove-integration~master~I06406051c849c924371f22b9fe1b03ab99e300f2,openstack/trove-integration,master,I06406051c849c924371f22b9fe1b03ab99e300f2,upper-constraints.txt handling in trove-integration,MERGED,2016-08-08 11:12:50.000000000,2016-08-12 08:29:21.000000000,2016-08-12 08:29:20.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 9664}, {'_account_id': 9746}, {'_account_id': 9750}, {'_account_id': 10215}, {'_account_id': 10295}, {'_account_id': 12898}, {'_account_id': 14576}, {'_account_id': 22694}]","[{'number': 1, 'created': '2016-08-08 11:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/3ed44d68de1b7075914d18c210ebfe1796999f89', 'message': 'Allow trove CI jobs to be chained with jobs specifying constraints\n\nCurrently, trove-integration attempts to get an upper-constraints file\ninto the guest by looking at the tip of the appropriate branch. This\nis fine for developer side testing but not ideal for the CI.\n\nThis change looks to see whether the CI setting\n(UPPER_CONSTRAINTS_FILE) is set, has a file, and if yes to both uses\nthat. If not, it attempts to guess based on the branch name.\n\nThis therefore covers both cases, the CI and the developer environment\nand should allow for chaining with jobs that attempt to change u-c.\n\nChange-Id: I06406051c849c924371f22b9fe1b03ab99e300f2\nCloses-Bug: #1610938\n'}, {'number': 2, 'created': '2016-08-08 22:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/7d39ea1cbf59b32316dfdba6ad552808284dd72f', 'message': 'Allow trove CI jobs to be chained with jobs specifying constraints\n\nCurrently, trove-integration attempts to get an upper-constraints file\ninto the guest by looking at the tip of the appropriate branch. This\nis fine for developer side testing but not ideal for the CI.\n\nThis change looks to see whether the CI setting (REQUIREMENTS_DIR) is\nset, has a file, and if yes to both uses that. If not, it attempts to\nguess based on the branch name.\n\nThis therefore covers both cases, the CI and the developer environment\nand should allow for chaining with jobs that attempt to change u-c.\n\nChange-Id: I06406051c849c924371f22b9fe1b03ab99e300f2\nCloses-Bug: #1610938\n'}, {'number': 3, 'created': '2016-08-08 22:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/db08ba1c904d2fbbb961009b0af52e9576c3b52e', 'message': '[WIP][DNM] upper-constraints.txt handling\n\nCurrently, trove-integration attempts to get an upper-constraints file\ninto the guest by looking at the tip of the appropriate branch. This\nis fine for developer side testing but not ideal for the CI.\n\nThis change looks to see whether the CI setting (REQUIREMENTS_DIR) is\nset, has a file, and if yes to both uses that. If not, it attempts to\nguess based on the branch name.\n\nThis therefore covers both cases, the CI and the developer environment\nand should allow for chaining with jobs that attempt to change u-c.\n\nChange-Id: I06406051c849c924371f22b9fe1b03ab99e300f2\nCloses-Bug: #1610938\n'}, {'number': 4, 'created': '2016-08-09 00:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/4174f0c3b521203555fc8f841376602d82814280', 'message': '[WIP][DNM] upper-constraints.txt handling\n\nCurrently, trove-integration attempts to get an upper-constraints file\ninto the guest by looking at the tip of the appropriate branch. This\nis fine for developer side testing but not ideal for the CI.\n\nThis change looks to see whether the CI setting (REQUIREMENTS_DIR) is\nset, has a file, and if yes to both uses that. If not, it attempts to\nguess based on the branch name.\n\nThis therefore covers both cases, the CI and the developer environment\nand should allow for chaining with jobs that attempt to change u-c.\n\nChange-Id: I06406051c849c924371f22b9fe1b03ab99e300f2\nCloses-Bug: #1610938\n'}, {'number': 5, 'created': '2016-08-09 01:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/99cfb80063b6e54e64b6fbdf8e6cda2bb3474307', 'message': '[WIP][DNM] upper-constraints.txt handling\n\nCurrently, trove-integration attempts to get an upper-constraints file\ninto the guest by looking at the tip of the appropriate branch. This\nis fine for developer side testing but not ideal for the CI.\n\nThis change looks to see whether the CI setting (REQUIREMENTS_DIR) is\nset, has a file, and if yes to both uses that. If not, it attempts to\nguess based on the branch name.\n\nThis therefore covers both cases, the CI and the developer environment\nand should allow for chaining with jobs that attempt to change u-c.\n\nChange-Id: I06406051c849c924371f22b9fe1b03ab99e300f2\nCloses-Bug: #1610938\n'}, {'number': 6, 'created': '2016-08-09 03:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/b20305b0dfff0c88ff99e3cedfbf46028d42957c', 'message': '[WIP][DNM] upper-constraints.txt handling\n\nCurrently, trove-integration attempts to get an upper-constraints file\ninto the guest by looking at the tip of the appropriate branch. This\nis fine for developer side testing but not ideal for the CI.\n\nThis change looks to see whether the CI setting (REQUIREMENTS_DIR) is\nset, has a file, and if yes to both uses that. If not, it attempts to\nguess based on the branch name.\n\nThis therefore covers both cases, the CI and the developer environment\nand should allow for chaining with jobs that attempt to change u-c.\n\nChange-Id: I06406051c849c924371f22b9fe1b03ab99e300f2\nCloses-Bug: #1610938\n'}, {'number': 7, 'created': '2016-08-09 06:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/bc82ccc22a5c3c2ca39cc82496ac4184569ec5d2', 'message': '[WIP][DNM] upper-constraints.txt handling\n\nCurrently, trove-integration attempts to get an upper-constraints file\ninto the guest by looking at the tip of the appropriate branch. This\nis fine for developer side testing but not ideal for the CI.\n\nThis change looks to see whether the CI setting (REQUIREMENTS_DIR) is\nset, has a file, and if yes to both uses that. If not, it attempts to\nguess based on the branch name.\n\nThis therefore covers both cases, the CI and the developer environment\nand should allow for chaining with jobs that attempt to change u-c.\n\nChange-Id: I06406051c849c924371f22b9fe1b03ab99e300f2\nCloses-Bug: #1610938\n'}, {'number': 8, 'created': '2016-08-09 10:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/7698b9a8df57f60ac26847ed912fb4b96e404bce', 'message': '[WIP][DNM] upper-constraints.txt handling\n\nCurrently, trove-integration attempts to get an upper-constraints file\ninto the guest by looking at the tip of the appropriate branch. This\nis fine for developer side testing but not ideal for the CI.\n\nThis change looks to see whether the CI setting (DEST) is set, and use\nthat to see whether $DEST/requirements/upper-constraints.txt is a\nfile, and if yes to both uses that. If not, it attempts to guess based\non the branch name.\n\nThis therefore covers both cases, the CI and the developer environment\nand should allow for chaining with jobs that attempt to change u-c.\n\nCo-Authored-By: Tony Breeds <tony@bakeyournoodle.com>\nCo-Authored-By: Amrith Kumar <amrith@tesora.com>\nCloses-Bug: #1610938\nChange-Id: I06406051c849c924371f22b9fe1b03ab99e300f2\n'}, {'number': 9, 'created': '2016-08-09 14:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/f704b19aaba7a7eaf99225a5727821394c956e7a', 'message': '[WIP][DNM] upper-constraints.txt handling\n\nCurrently, trove-integration attempts to get an upper-constraints file\ninto the guest by looking at the tip of the appropriate branch. This\nis fine for developer side testing but not ideal for the CI.\n\nThis change looks to see whether the CI setting (DEST) is set, and use\nthat to see whether $DEST/requirements/upper-constraints.txt is a\nfile, and if yes to both uses that. If not, it attempts to guess based\non the branch name.\n\nThis therefore covers both cases, the CI and the developer environment\nand should allow for chaining with jobs that attempt to change u-c.\n\nCo-Authored-By: Tony Breeds <tony@bakeyournoodle.com>\nCo-Authored-By: Amrith Kumar <amrith@tesora.com>\nCloses-Bug: #1610938\nChange-Id: I06406051c849c924371f22b9fe1b03ab99e300f2\n'}, {'number': 10, 'created': '2016-08-10 02:06:33.000000000', 'files': ['scripts/files/elements/fedora-guest/install.d/15-reddwarf-dep', 'scripts/files/elements/ubuntu-guest/extra-data.d/15-reddwarf-dep', 'scripts/files/elements/ubuntu-guest/install.d/15-reddwarf-dep', 'scripts/files/elements/fedora-guest/extra-data.d/15-reddwarf-dep'], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/9e36222ff5c2f2e244584a823099840e06ca0d2a', 'message': 'upper-constraints.txt handling in trove-integration\n\nCurrently, trove-integration attempts to get an upper-constraints file\ninto the guest by looking at the tip of the appropriate branch. This\nis fine for developer side testing but not ideal for the CI.\n\nThis change looks to see whether the CI setting (DEST) is set, and use\nthat to see whether $DEST/requirements/upper-constraints.txt is a\nfile, and if yes to both uses that. If not, it attempts to guess based\non the branch name.\n\nThis therefore covers both cases, the CI and the developer environment\nand should allow for chaining with jobs that attempt to change u-c.\n\nCo-Authored-By: Tony Breeds <tony@bakeyournoodle.com>\nCo-Authored-By: Amrith Kumar <amrith@tesora.com>\nCloses-Bug: #1610938\nChange-Id: I06406051c849c924371f22b9fe1b03ab99e300f2\n'}]",0,352355,9e36222ff5c2f2e244584a823099840e06ca0d2a,38,10,10,9664,,,0,"upper-constraints.txt handling in trove-integration

Currently, trove-integration attempts to get an upper-constraints file
into the guest by looking at the tip of the appropriate branch. This
is fine for developer side testing but not ideal for the CI.

This change looks to see whether the CI setting (DEST) is set, and use
that to see whether $DEST/requirements/upper-constraints.txt is a
file, and if yes to both uses that. If not, it attempts to guess based
on the branch name.

This therefore covers both cases, the CI and the developer environment
and should allow for chaining with jobs that attempt to change u-c.

Co-Authored-By: Tony Breeds <tony@bakeyournoodle.com>
Co-Authored-By: Amrith Kumar <amrith@tesora.com>
Closes-Bug: #1610938
Change-Id: I06406051c849c924371f22b9fe1b03ab99e300f2
",git fetch https://review.opendev.org/openstack/trove-integration refs/changes/55/352355/7 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/files/elements/ubuntu-guest/extra-data.d/15-reddwarf-dep', 'scripts/files/elements/fedora-guest/extra-data.d/15-reddwarf-dep']",2,3ed44d68de1b7075914d18c210ebfe1796999f89,uc-image-build,"# If we are running in the CI environment, UPPER_CONSTRAINTS_FILE may be set. # Use that as it will help us chain a job with something that is changing UC. if [ -n ""$UPPER_CONSTRAINTS_FILE"" ]; then if [ -e ${UPPER_CONSTRAINTS_FILE} ]; then echo ""Found ${UPPER_CONSTRAINTS_FILE}, using that."" sudo -Hiu ${HOST_USERNAME} dd if=""${UPPER_CONSTRAINTS_FILE}"" of=${TMP_HOOKS_PATH}/${UC_FILE} fi else UC_DIR=$(pwd) UC_BRANCH=${BRANCH_OVERRIDE} if [ ""${ADD_BRANCH}"" == ""default"" ]; then UC_BRANCH=master fi set +e curl -o ""${UC_DIR}/${UC_FILE}"" \ https://git.openstack.org/cgit/openstack/requirements/plain/${UC_FILE}?h=${UC_BRANCH} set -e if [ -f ""${UC_DIR}/${UC_FILE}"" ]; then sudo -Hiu ${HOST_USERNAME} dd if=""${UC_DIR}/${UC_FILE}"" of=${TMP_HOOKS_PATH}/${UC_FILE} rm -f ""${UC_DIR}/${UC_FILE}"" fi","UC_DIR=$(pwd)UC_BRANCH=${BRANCH_OVERRIDE} if [ ""${ADD_BRANCH}"" == ""default"" ]; then UC_BRANCH=master fi set +e; curl -o ""${UC_DIR}/${UC_FILE}"" https://git.openstack.org/cgit/openstack/requirements/plain/${UC_FILE}?h=${UC_BRANCH}; set -e if [ -f ""${UC_DIR}/${UC_FILE}"" ]; then sudo -Hiu ${HOST_USERNAME} dd if=""${UC_DIR}/${UC_FILE}"" of=${TMP_HOOKS_PATH}/${UC_FILE} rm -f ""${UC_DIR}/${UC_FILE}""",51,19
openstack%2Ftrove~master~I10852475f498698557074d432999720c21cb5799,openstack/trove,master,I10852475f498698557074d432999720c21cb5799,MySQL do not retrieve Password in get user,MERGED,2016-07-21 20:27:10.000000000,2016-08-12 08:29:01.000000000,2016-08-12 08:29:01.000000000,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 10295}, {'_account_id': 22694}]","[{'number': 1, 'created': '2016-07-21 20:27:10.000000000', 'files': ['trove/guestagent/datastore/mysql_common/service.py', 'trove/tests/unittests/guestagent/test_dbaas.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/8a70d2b63d4dd4eed5df14b9bbcb6d7295f0186f', 'message': ""MySQL do not retrieve Password in get user\n\nMySQL Manager also retrieves the hashed password when getting a user.\nAside from not being used or returned anywhere the value would be useless\nanyways as it is only a hash of the real password.\n\nLoading it from the user table only introduces compatibility issues with\nmore recent versions of MySQL that remove the Password 'column'.\n\nThis patch set removes the column from the retrieving query and leaves the\npassword on the returned user object unassigned.\n\nChange-Id: I10852475f498698557074d432999720c21cb5799\n""}]",0,345655,8a70d2b63d4dd4eed5df14b9bbcb6d7295f0186f,16,5,1,14576,,,0,"MySQL do not retrieve Password in get user

MySQL Manager also retrieves the hashed password when getting a user.
Aside from not being used or returned anywhere the value would be useless
anyways as it is only a hash of the real password.

Loading it from the user table only introduces compatibility issues with
more recent versions of MySQL that remove the Password 'column'.

This patch set removes the column from the retrieving query and leaves the
password on the returned user object unassigned.

Change-Id: I10852475f498698557074d432999720c21cb5799
",git fetch https://review.opendev.org/openstack/trove refs/changes/55/345655/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql_common/service.py', 'trove/tests/unittests/guestagent/test_dbaas.py']",2,8a70d2b63d4dd4eed5df14b9bbcb6d7295f0186f,," expected = (""SELECT User, Host FROM mysql.user """," expected = (""SELECT User, Host, Password FROM mysql.user """,2,3
openstack%2Fsenlin~master~Ie6c8497b4e164dc5d75627cb91b953197e5bb2ea,openstack/senlin,master,Ie6c8497b4e164dc5d75627cb91b953197e5bb2ea,Rename ResourceUpdateFailure and ResourceDeletion Failure,MERGED,2016-08-12 06:52:26.000000000,2016-08-12 08:27:07.000000000,2016-08-12 08:27:07.000000000,"[{'_account_id': 3}, {'_account_id': 8246}]","[{'number': 1, 'created': '2016-08-12 06:52:26.000000000', 'files': ['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py', 'senlin/common/exception.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/d92830cd0dbcef811f8ff693301685a5c5dd391d', 'message': 'Rename ResourceUpdateFailure and ResourceDeletion Failure\n\nChange-Id: Ie6c8497b4e164dc5d75627cb91b953197e5bb2ea\n'}]",0,354550,d92830cd0dbcef811f8ff693301685a5c5dd391d,6,2,1,8246,,,0,"Rename ResourceUpdateFailure and ResourceDeletion Failure

Change-Id: Ie6c8497b4e164dc5d75627cb91b953197e5bb2ea
",git fetch https://review.opendev.org/openstack/senlin refs/changes/50/354550/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py', 'senlin/common/exception.py']",3,d92830cd0dbcef811f8ff693301685a5c5dd391d,rework-exception-3,"class EResourceUpdate(InternalError): msg_fmt = _(""Failed in updating %(type)s %(id)s."") class EResourceDeletion(InternalError): msg_fmt = _(""Failed in deleting %(type)s %(id)s."")","class ResourceUpdateFailure(InternalError): msg_fmt = _(""Failed in updating %(resource)s."") class ResourceDeletionFailure(InternalError): msg_fmt = _(""Failed in deleting %(resource)s."")",11,12
openstack%2Fsenlin~master~Ifd4d237a80ca342d21e7336610cd9a2826be03c5,openstack/senlin,master,Ifd4d237a80ca342d21e7336610cd9a2826be03c5,Rename ResourceCreationFailure,MERGED,2016-08-12 06:38:18.000000000,2016-08-12 08:26:42.000000000,2016-08-12 08:26:42.000000000,"[{'_account_id': 3}, {'_account_id': 8246}]","[{'number': 1, 'created': '2016-08-12 06:38:18.000000000', 'files': ['senlin/tests/unit/engine/test_node.py', 'senlin/common/exception.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/8ae82d045c6da87736889464bf0d048519961033', 'message': 'Rename ResourceCreationFailure\n\nThis renames another exception type.\n\nChange-Id: Ifd4d237a80ca342d21e7336610cd9a2826be03c5\n'}]",0,354548,8ae82d045c6da87736889464bf0d048519961033,6,2,1,8246,,,0,"Rename ResourceCreationFailure

This renames another exception type.

Change-Id: Ifd4d237a80ca342d21e7336610cd9a2826be03c5
",git fetch https://review.opendev.org/openstack/senlin refs/changes/48/354548/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/tests/unit/engine/test_node.py', 'senlin/common/exception.py']",2,8ae82d045c6da87736889464bf0d048519961033,rework-exception-2,"class EResourceCreation(InternalError): msg_fmt = _(""Failed in creating %(type)s."")","class ResourceCreationFailure(InternalError): msg_fmt = _(""Failed in creating %(rtype)s."")",3,5
openstack%2Fcharm-ceph-osd~master~I4eabbd313de2e9420667dc4acca177b2dbbf9581,openstack/charm-ceph-osd,master,I4eabbd313de2e9420667dc4acca177b2dbbf9581,Clean up dependency chain,MERGED,2016-08-11 12:23:16.000000000,2016-08-12 08:23:48.000000000,2016-08-12 08:23:48.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20648}]","[{'number': 1, 'created': '2016-08-11 12:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/d2e4c5f89d0a3fb90301ad7d056a5d65ea3daceb', 'message': ""Clean up dependency chain\n\nThis includes a resync of charms_ceph to raise the directory one level\nThe charms_ceph change that we're syncing in changes the\nname of the ceph.py file into the __init__.py file to remove the\nsecond level of namespacing\n\nChange-Id: I4eabbd313de2e9420667dc4acca177b2dbbf9581\n""}, {'number': 2, 'created': '2016-08-11 15:01:30.000000000', 'files': ['unit_tests/test_replace_osd.py', 'unit_tests/test_upgrade_roll.py', '.gitignore', 'Makefile', 'unit_tests/test_tuning.py', 'lib/ceph/ceph/ceph.py', 'hooks/ceph_hooks.py', 'actions/pause_resume.py', 'lib/ceph/ceph_broker.py', 'lib/ceph/__init__.py', 'lib/__init__.py', 'lib/ceph/ceph/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/69b821d34450df56200ea79b0e272f11eb3b1782', 'message': ""Clean up dependency chain\n\nThis includes a resync of charms_ceph to raise the directory one level\nThe charms_ceph change that we're syncing in changes the\nname of the ceph.py file into the __init__.py file to remove the\nsecond level of namespacing\n\nChange-Id: I4eabbd313de2e9420667dc4acca177b2dbbf9581\n""}]",0,354021,69b821d34450df56200ea79b0e272f11eb3b1782,14,4,2,20634,,,0,"Clean up dependency chain

This includes a resync of charms_ceph to raise the directory one level
The charms_ceph change that we're syncing in changes the
name of the ceph.py file into the __init__.py file to remove the
second level of namespacing

Change-Id: I4eabbd313de2e9420667dc4acca177b2dbbf9581
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/21/354021/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_replace_osd.py', 'hooks/ceph_hooks.py', 'actions/pause_resume.py', 'unit_tests/test_upgrade_roll.py', 'lib/ceph/ceph_broker.py', 'Makefile', 'lib/ceph/__init__.py', 'lib/__init__.py', 'unit_tests/test_tuning.py', 'lib/ceph/ceph/__init__.py', 'lib/ceph/ceph/ceph.py']",11,d2e4c5f89d0a3fb90301ad7d056a5d65ea3daceb,dep-cleanup,,"# Copyright 2016 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import ctypes import json import subprocess import time import os import re import sys import errno import shutil from charmhelpers.core import hookenv from charmhelpers.core.host import ( mkdir, chownr, service_restart, lsb_release, cmp_pkgrevno, service_stop, mounts) from charmhelpers.core.hookenv import ( log, ERROR, cached, status_set, WARNING, DEBUG) from charmhelpers.core.services import render_template from charmhelpers.fetch import ( apt_cache ) from charmhelpers.contrib.storage.linux.utils import ( is_block_device, zap_disk, is_device_mounted) from utils import ( get_unit_hostname, ) LEADER = 'leader' PEON = 'peon' QUORUM = [LEADER, PEON] PACKAGES = ['ceph', 'gdisk', 'ntp', 'btrfs-tools', 'python-ceph', 'xfsprogs'] LinkSpeed = { ""BASE_10"": 10, ""BASE_100"": 100, ""BASE_1000"": 1000, ""GBASE_10"": 10000, ""GBASE_40"": 40000, ""GBASE_100"": 100000, ""UNKNOWN"": None } # Mapping of adapter speed to sysctl settings NETWORK_ADAPTER_SYSCTLS = { # 10Gb LinkSpeed[""GBASE_10""]: { 'net.core.rmem_default': 524287, 'net.core.wmem_default': 524287, 'net.core.rmem_max': 524287, 'net.core.wmem_max': 524287, 'net.core.optmem_max': 524287, 'net.core.netdev_max_backlog': 300000, 'net.ipv4.tcp_rmem': '10000000 10000000 10000000', 'net.ipv4.tcp_wmem': '10000000 10000000 10000000', 'net.ipv4.tcp_mem': '10000000 10000000 10000000' }, # Mellanox 10/40Gb LinkSpeed[""GBASE_40""]: { 'net.ipv4.tcp_timestamps': 0, 'net.ipv4.tcp_sack': 1, 'net.core.netdev_max_backlog': 250000, 'net.core.rmem_max': 4194304, 'net.core.wmem_max': 4194304, 'net.core.rmem_default': 4194304, 'net.core.wmem_default': 4194304, 'net.core.optmem_max': 4194304, 'net.ipv4.tcp_rmem': '4096 87380 4194304', 'net.ipv4.tcp_wmem': '4096 65536 4194304', 'net.ipv4.tcp_low_latency': 1, 'net.ipv4.tcp_adv_win_scale': 1 } } def save_sysctls(sysctl_dict, save_location): """""" Persist the sysctls to the hard drive. :param sysctl_dict: dict :param save_location: path to save the settings to :raise: IOError if anything goes wrong with writing. """""" try: # Persist the settings for reboots with open(save_location, ""w"") as fd: for key, value in sysctl_dict.items(): fd.write(""{}={}\n"".format(key, value)) except IOError as e: log(""Unable to persist sysctl settings to {}. Error {}"".format( save_location, e.message), level=ERROR) raise def tune_nic(network_interface): """""" This will set optimal sysctls for the particular network adapter. :param network_interface: string The network adapter name. """""" speed = get_link_speed(network_interface) if speed in NETWORK_ADAPTER_SYSCTLS: status_set('maintenance', 'Tuning device {}'.format( network_interface)) sysctl_file = os.path.join( os.sep, 'etc', 'sysctl.d', '51-ceph-osd-charm-{}.conf'.format(network_interface)) try: log(""Saving sysctl_file: {} values: {}"".format( sysctl_file, NETWORK_ADAPTER_SYSCTLS[speed]), level=DEBUG) save_sysctls(sysctl_dict=NETWORK_ADAPTER_SYSCTLS[speed], save_location=sysctl_file) except IOError as e: log(""Write to /etc/sysctl.d/51-ceph-osd-charm-{} "" ""failed. {}"".format(network_interface, e.message), level=ERROR) try: # Apply the settings log(""Applying sysctl settings"", level=DEBUG) subprocess.check_output([""sysctl"", ""-p"", sysctl_file]) except subprocess.CalledProcessError as err: log('sysctl -p {} failed with error {}'.format(sysctl_file, err.output), level=ERROR) else: log(""No settings found for network adapter: {}"".format( network_interface), level=DEBUG) def get_link_speed(network_interface): """""" This will find the link speed for a given network device. Returns None if an error occurs. :param network_interface: string The network adapter interface. :return: LinkSpeed """""" speed_path = os.path.join(os.sep, 'sys', 'class', 'net', network_interface, 'speed') # I'm not sure where else we'd check if this doesn't exist if not os.path.exists(speed_path): return LinkSpeed[""UNKNOWN""] try: with open(speed_path, 'r') as sysfs: nic_speed = sysfs.readlines() # Did we actually read anything? if not nic_speed: return LinkSpeed[""UNKNOWN""] # Try to find a sysctl match for this particular speed for name, speed in LinkSpeed.items(): if speed == int(nic_speed[0].strip()): return speed # Default to UNKNOWN if we can't find a match return LinkSpeed[""UNKNOWN""] except IOError as e: log(""Unable to open {path} because of error: {error}"".format( path=speed_path, error=e.message), level='error') return LinkSpeed[""UNKNOWN""] def persist_settings(settings_dict): # Write all settings to /etc/hdparm.conf """""" This will persist the hard drive settings to the /etc/hdparm.conf file The settings_dict should be in the form of {""uuid"": {""key"":""value""}} :param settings_dict: dict of settings to save """""" hdparm_path = os.path.join(os.sep, 'etc', 'hdparm.conf') try: with open(hdparm_path, 'w') as hdparm: hdparm.write(render_template('hdparm.conf', settings_dict)) except IOError as err: log(""Unable to open {path} because of error: {error}"".format( path=hdparm_path, error=err.message), level=ERROR) def set_max_sectors_kb(dev_name, max_sectors_size): """""" This function sets the max_sectors_kb size of a given block device. :param dev_name: Name of the block device to query :param max_sectors_size: int of the max_sectors_size to save """""" max_sectors_kb_path = os.path.join('sys', 'block', dev_name, 'queue', 'max_sectors_kb') try: with open(max_sectors_kb_path, 'w') as f: f.write(max_sectors_size) except IOError as e: log('Failed to write max_sectors_kb to {}. Error: {}'.format( max_sectors_kb_path, e.message), level=ERROR) def get_max_sectors_kb(dev_name): """""" This function gets the max_sectors_kb size of a given block device. :param dev_name: Name of the block device to query :return: int which is either the max_sectors_kb or 0 on error. """""" max_sectors_kb_path = os.path.join('sys', 'block', dev_name, 'queue', 'max_sectors_kb') # Read in what Linux has set by default if os.path.exists(max_sectors_kb_path): try: with open(max_sectors_kb_path, 'r') as f: max_sectors_kb = f.read().strip() return int(max_sectors_kb) except IOError as e: log('Failed to read max_sectors_kb to {}. Error: {}'.format( max_sectors_kb_path, e.message), level=ERROR) # Bail. return 0 return 0 def get_max_hw_sectors_kb(dev_name): """""" This function gets the max_hw_sectors_kb for a given block device. :param dev_name: Name of the block device to query :return: int which is either the max_hw_sectors_kb or 0 on error. """""" max_hw_sectors_kb_path = os.path.join('sys', 'block', dev_name, 'queue', 'max_hw_sectors_kb') # Read in what the hardware supports if os.path.exists(max_hw_sectors_kb_path): try: with open(max_hw_sectors_kb_path, 'r') as f: max_hw_sectors_kb = f.read().strip() return int(max_hw_sectors_kb) except IOError as e: log('Failed to read max_hw_sectors_kb to {}. Error: {}'.format( max_hw_sectors_kb_path, e.message), level=ERROR) return 0 return 0 def set_hdd_read_ahead(dev_name, read_ahead_sectors=256): """""" This function sets the hard drive read ahead. :param dev_name: Name of the block device to set read ahead on. :param read_ahead_sectors: int How many sectors to read ahead. """""" try: # Set the read ahead sectors to 256 log('Setting read ahead to {} for device {}'.format( read_ahead_sectors, dev_name)) subprocess.check_output(['hdparm', '-a{}'.format(read_ahead_sectors), dev_name]) except subprocess.CalledProcessError as e: log('hdparm failed with error: {}'.format(e.output), level=ERROR) def get_block_uuid(block_dev): """""" This queries blkid to get the uuid for a block device. :param block_dev: Name of the block device to query. :return: The UUID of the device or None on Error. """""" try: block_info = subprocess.check_output( ['blkid', '-o', 'export', block_dev]) for tag in block_info.split('\n'): parts = tag.split('=') if parts[0] == 'UUID': return parts[1] return None except subprocess.CalledProcessError as err: log('get_block_uuid failed with error: {}'.format(err.output), level=ERROR) return None def check_max_sectors(save_settings_dict, block_dev, uuid): """""" Tune the max_hw_sectors if needed. make sure that /sys/.../max_sectors_kb matches max_hw_sectors_kb or at least 1MB for spinning disks If the box has a RAID card with cache this could go much bigger. :param save_settings_dict: The dict used to persist settings :param block_dev: A block device name: Example: /dev/sda :param uuid: The uuid of the block device """""" dev_name = None path_parts = os.path.split(block_dev) if len(path_parts) == 2: dev_name = path_parts[1] else: log('Unable to determine the block device name from path: {}'.format( block_dev)) # Play it safe and bail return max_sectors_kb = get_max_sectors_kb(dev_name=dev_name) max_hw_sectors_kb = get_max_hw_sectors_kb(dev_name=dev_name) if max_sectors_kb < max_hw_sectors_kb: # OK we have a situation where the hardware supports more than Linux is # currently requesting config_max_sectors_kb = hookenv.config('max-sectors-kb') if config_max_sectors_kb < max_hw_sectors_kb: # Set the max_sectors_kb to the config.yaml value if it is less # than the max_hw_sectors_kb log('Setting max_sectors_kb for device {} to {}'.format( dev_name, config_max_sectors_kb)) save_settings_dict[ ""drive_settings""][uuid][ ""read_ahead_sect""] = config_max_sectors_kb set_max_sectors_kb(dev_name=dev_name, max_sectors_size=config_max_sectors_kb) else: # Set to the max_hw_sectors_kb log('Setting max_sectors_kb for device {} to {}'.format( dev_name, max_hw_sectors_kb)) save_settings_dict[ ""drive_settings""][uuid]['read_ahead_sect'] = max_hw_sectors_kb set_max_sectors_kb(dev_name=dev_name, max_sectors_size=max_hw_sectors_kb) else: log('max_sectors_kb match max_hw_sectors_kb. No change needed for ' 'device: {}'.format(block_dev)) def tune_dev(block_dev): """""" Try to make some intelligent decisions with HDD tuning. Future work will include optimizing SSDs. This function will change the read ahead sectors and the max write sectors for each block device. :param block_dev: A block device name: Example: /dev/sda """""" uuid = get_block_uuid(block_dev) if uuid is None: log('block device {} uuid is None. Unable to save to ' 'hdparm.conf'.format(block_dev), level=DEBUG) save_settings_dict = {} log('Tuning device {}'.format(block_dev)) status_set('maintenance', 'Tuning device {}'.format(block_dev)) set_hdd_read_ahead(block_dev) save_settings_dict[""drive_settings""] = {} save_settings_dict[""drive_settings""][uuid] = {} save_settings_dict[""drive_settings""][uuid]['read_ahead_sect'] = 256 check_max_sectors(block_dev=block_dev, save_settings_dict=save_settings_dict, uuid=uuid) persist_settings(settings_dict=save_settings_dict) status_set('maintenance', 'Finished tuning device {}'.format(block_dev)) def ceph_user(): if get_version() > 1: return 'ceph' else: return ""root"" class CrushLocation(object): def __init__(self, name, identifier, host, rack, row, datacenter, chassis, root): self.name = name self.identifier = identifier self.host = host self.rack = rack self.row = row self.datacenter = datacenter self.chassis = chassis self.root = root def __str__(self): return ""name: {} id: {} host: {} rack: {} row: {} datacenter: {} "" \ ""chassis :{} root: {}"".format(self.name, self.identifier, self.host, self.rack, self.row, self.datacenter, self.chassis, self.root) def __eq__(self, other): return not self.name < other.name and not other.name < self.name def __ne__(self, other): return self.name < other.name or other.name < self.name def __gt__(self, other): return self.name > other.name def __ge__(self, other): return not self.name < other.name def __le__(self, other): return self.name < other.name def get_osd_tree(service): """""" Returns the current osd map in JSON. :return: List. :raise: ValueError if the monmap fails to parse. Also raises CalledProcessError if our ceph command fails """""" try: tree = subprocess.check_output( ['ceph', '--id', service, 'osd', 'tree', '--format=json']) try: json_tree = json.loads(tree) crush_list = [] # Make sure children are present in the json if not json_tree['nodes']: return None child_ids = json_tree['nodes'][0]['children'] for child in json_tree['nodes']: if child['id'] in child_ids: crush_list.append( CrushLocation( name=child.get('name'), identifier=child['id'], host=child.get('host'), rack=child.get('rack'), row=child.get('row'), datacenter=child.get('datacenter'), chassis=child.get('chassis'), root=child.get('root') ) ) return crush_list except ValueError as v: log(""Unable to parse ceph tree json: {}. Error: {}"".format( tree, v.message)) raise except subprocess.CalledProcessError as e: log(""ceph osd tree command failed with message: {}"".format( e.message)) raise def get_local_osd_ids(): """""" This will list the /var/lib/ceph/osd/* directories and try to split the ID off of the directory name and return it in a list :return: list. A list of osd identifiers :raise: OSError if something goes wrong with listing the directory. """""" osd_ids = [] osd_path = os.path.join(os.sep, 'var', 'lib', 'ceph', 'osd') if os.path.exists(osd_path): try: dirs = os.listdir(osd_path) for osd_dir in dirs: osd_id = osd_dir.split('-')[1] if _is_int(osd_id): osd_ids.append(osd_id) except OSError: raise return osd_ids def get_local_mon_ids(): """""" This will list the /var/lib/ceph/mon/* directories and try to split the ID off of the directory name and return it in a list :return: list. A list of monitor identifiers :raise: OSError if something goes wrong with listing the directory. """""" mon_ids = [] mon_path = os.path.join(os.sep, 'var', 'lib', 'ceph', 'mon') if os.path.exists(mon_path): try: dirs = os.listdir(mon_path) for mon_dir in dirs: # Basically this takes everything after ceph- as the monitor ID match = re.search('ceph-(?P<mon_id>.*)', mon_dir) if match: mon_ids.append(match.group('mon_id')) except OSError: raise return mon_ids def _is_int(v): """"""Return True if the object v can be turned into an integer."""""" try: int(v) return True except ValueError: return False def get_version(): """"""Derive Ceph release from an installed package."""""" import apt_pkg as apt cache = apt_cache() package = ""ceph"" try: pkg = cache[package] except: # the package is unknown to the current apt cache. e = 'Could not determine version of package with no installation ' \ 'candidate: %s' % package error_out(e) if not pkg.current_ver: # package is known, but no version is currently installed. e = 'Could not determine version of uninstalled package: %s' % package error_out(e) vers = apt.upstream_version(pkg.current_ver.ver_str) # x.y match only for 20XX.X # and ignore patch level for other packages match = re.match('^(\d+)\.(\d+)', vers) if match: vers = match.group(0) return float(vers) def error_out(msg): log(""FATAL ERROR: %s"" % msg, level=ERROR) sys.exit(1) def is_quorum(): asok = ""/var/run/ceph/ceph-mon.{}.asok"".format(get_unit_hostname()) cmd = [ ""sudo"", ""-u"", ceph_user(), ""ceph"", ""--admin-daemon"", asok, ""mon_status"" ] if os.path.exists(asok): try: result = json.loads(subprocess.check_output(cmd)) except subprocess.CalledProcessError: return False except ValueError: # Non JSON response from mon_status return False if result['state'] in QUORUM: return True else: return False else: return False def is_leader(): asok = ""/var/run/ceph/ceph-mon.{}.asok"".format(get_unit_hostname()) cmd = [ ""sudo"", ""-u"", ceph_user(), ""ceph"", ""--admin-daemon"", asok, ""mon_status"" ] if os.path.exists(asok): try: result = json.loads(subprocess.check_output(cmd)) except subprocess.CalledProcessError: return False except ValueError: # Non JSON response from mon_status return False if result['state'] == LEADER: return True else: return False else: return False def wait_for_quorum(): while not is_quorum(): log(""Waiting for quorum to be reached"") time.sleep(3) def add_bootstrap_hint(peer): asok = ""/var/run/ceph/ceph-mon.{}.asok"".format(get_unit_hostname()) cmd = [ ""sudo"", ""-u"", ceph_user(), ""ceph"", ""--admin-daemon"", asok, ""add_bootstrap_peer_hint"", peer ] if os.path.exists(asok): # Ignore any errors for this call subprocess.call(cmd) DISK_FORMATS = [ 'xfs', 'ext4', 'btrfs' ] CEPH_PARTITIONS = [ '4FBD7E29-9D25-41B8-AFD0-5EC00CEFF05D', # ceph encrypted osd data '4FBD7E29-9D25-41B8-AFD0-062C0CEFF05D', # ceph osd data '45B0969E-9B03-4F30-B4C6-B4B80CEFF106', # ceph osd journal ] def umount(mount_point): """""" This function unmounts a mounted directory forcibly. This will be used for unmounting broken hard drive mounts which may hang. If umount returns EBUSY this will lazy unmount. :param mount_point: str. A String representing the filesystem mount point :return: int. Returns 0 on success. errno otherwise. """""" libc_path = ctypes.util.find_library(""c"") libc = ctypes.CDLL(libc_path, use_errno=True) # First try to umount with MNT_FORCE ret = libc.umount(mount_point, 1) if ret < 0: err = ctypes.get_errno() if err == errno.EBUSY: # Detach from try. IE lazy umount ret = libc.umount(mount_point, 2) if ret < 0: err = ctypes.get_errno() return err return 0 else: return err return 0 def replace_osd(dead_osd_number, dead_osd_device, new_osd_device, osd_format, osd_journal, reformat_osd=False, ignore_errors=False): """""" This function will automate the replacement of a failed osd disk as much as possible. It will revoke the keys for the old osd, remove it from the crush map and then add a new osd into the cluster. :param dead_osd_number: The osd number found in ceph osd tree. Example: 99 :param dead_osd_device: The physical device. Example: /dev/sda :param osd_format: :param osd_journal: :param reformat_osd: :param ignore_errors: """""" host_mounts = mounts() mount_point = None for mount in host_mounts: if mount[1] == dead_osd_device: mount_point = mount[0] # need to convert dev to osd number # also need to get the mounted drive so we can tell the admin to # replace it try: # Drop this osd out of the cluster. This will begin a # rebalance operation status_set('maintenance', 'Removing osd {}'.format(dead_osd_number)) subprocess.check_output([ 'ceph', '--id', 'osd-upgrade', 'osd', 'out', 'osd.{}'.format(dead_osd_number)]) # Kill the osd process if it's not already dead if systemd(): service_stop('ceph-osd@{}'.format(dead_osd_number)) else: subprocess.check_output(['stop', 'ceph-osd', 'id={}'.format( dead_osd_number)]), # umount if still mounted ret = umount(mount_point) if ret < 0: raise RuntimeError('umount {} failed with error: {}'.format( mount_point, os.strerror(ret))) # Clean up the old mount point shutil.rmtree(mount_point) subprocess.check_output([ 'ceph', '--id', 'osd-upgrade', 'osd', 'crush', 'remove', 'osd.{}'.format(dead_osd_number)]) # Revoke the OSDs access keys subprocess.check_output([ 'ceph', '--id', 'osd-upgrade', 'auth', 'del', 'osd.{}'.format(dead_osd_number)]) subprocess.check_output([ 'ceph', '--id', 'osd-upgrade', 'osd', 'rm', 'osd.{}'.format(dead_osd_number)]) status_set('maintenance', 'Setting up replacement osd {}'.format( new_osd_device)) osdize(new_osd_device, osd_format, osd_journal, reformat_osd, ignore_errors) except subprocess.CalledProcessError as e: log('replace_osd failed with error: ' + e.output) def is_osd_disk(dev): try: info = subprocess.check_output(['sgdisk', '-i', '1', dev]) info = info.split(""\n"") # IGNORE:E1103 for line in info: for ptype in CEPH_PARTITIONS: sig = 'Partition GUID code: {}'.format(ptype) if line.startswith(sig): return True except subprocess.CalledProcessError: pass return False def start_osds(devices): # Scan for ceph block devices rescan_osd_devices() if cmp_pkgrevno('ceph', ""0.56.6"") >= 0: # Use ceph-disk activate for directory based OSD's for dev_or_path in devices: if os.path.exists(dev_or_path) and os.path.isdir(dev_or_path): subprocess.check_call(['ceph-disk', 'activate', dev_or_path]) def rescan_osd_devices(): cmd = [ 'udevadm', 'trigger', '--subsystem-match=block', '--action=add' ] subprocess.call(cmd) _bootstrap_keyring = ""/var/lib/ceph/bootstrap-osd/ceph.keyring"" _upgrade_keyring = ""/var/lib/ceph/osd/ceph.client.osd-upgrade.keyring"" def is_bootstrapped(): return os.path.exists(_bootstrap_keyring) def wait_for_bootstrap(): while not is_bootstrapped(): time.sleep(3) def import_osd_bootstrap_key(key): if not os.path.exists(_bootstrap_keyring): cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph-authtool', _bootstrap_keyring, '--create-keyring', '--name=client.bootstrap-osd', '--add-key={}'.format(key) ] subprocess.check_call(cmd) def import_osd_upgrade_key(key): if not os.path.exists(_upgrade_keyring): cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph-authtool', _upgrade_keyring, '--create-keyring', '--name=client.osd-upgrade', '--add-key={}'.format(key) ] subprocess.check_call(cmd) def generate_monitor_secret(): cmd = [ 'ceph-authtool', '/dev/stdout', '--name=mon.', '--gen-key' ] res = subprocess.check_output(cmd) return ""{}=="".format(res.split('=')[1].strip()) # OSD caps taken from ceph-create-keys _osd_bootstrap_caps = { 'mon': [ 'allow command osd create ...', 'allow command osd crush set ...', r'allow command auth add * osd allow\ * mon allow\ rwx', 'allow command mon getmap' ] } _osd_bootstrap_caps_profile = { 'mon': [ 'allow profile bootstrap-osd' ] } def parse_key(raw_key): # get-or-create appears to have different output depending # on whether its 'get' or 'create' # 'create' just returns the key, 'get' is more verbose and # needs parsing key = None if len(raw_key.splitlines()) == 1: key = raw_key else: for element in raw_key.splitlines(): if 'key' in element: key = element.split(' = ')[1].strip() # IGNORE:E1103 return key def get_osd_bootstrap_key(): try: # Attempt to get/create a key using the OSD bootstrap profile first key = get_named_key('bootstrap-osd', _osd_bootstrap_caps_profile) except: # If that fails try with the older style permissions key = get_named_key('bootstrap-osd', _osd_bootstrap_caps) return key _radosgw_keyring = ""/etc/ceph/keyring.rados.gateway"" def import_radosgw_key(key): if not os.path.exists(_radosgw_keyring): cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph-authtool', _radosgw_keyring, '--create-keyring', '--name=client.radosgw.gateway', '--add-key={}'.format(key) ] subprocess.check_call(cmd) # OSD caps taken from ceph-create-keys _radosgw_caps = { 'mon': ['allow rw'], 'osd': ['allow rwx'] } _upgrade_caps = { 'mon': ['allow rwx'] } def get_radosgw_key(): return get_named_key('radosgw.gateway', _radosgw_caps) _default_caps = { 'mon': ['allow rw'], 'osd': ['allow rwx'] } admin_caps = { 'mds': ['allow'], 'mon': ['allow *'], 'osd': ['allow *'] } osd_upgrade_caps = { 'mon': ['allow command ""config-key""', 'allow command ""osd tree""', 'allow command ""config-key list""', 'allow command ""config-key put""', 'allow command ""config-key get""', 'allow command ""config-key exists""', 'allow command ""osd out""', 'allow command ""osd in""', 'allow command ""osd rm""', 'allow command ""auth del""', ] } def get_upgrade_key(): return get_named_key('upgrade-osd', _upgrade_caps) def get_named_key(name, caps=None): caps = caps or _default_caps cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph', '--name', 'mon.', '--keyring', '/var/lib/ceph/mon/ceph-{}/keyring'.format( get_unit_hostname() ), 'auth', 'get-or-create', 'client.{}'.format(name), ] # Add capabilities for subsystem, subcaps in caps.iteritems(): cmd.extend([ subsystem, '; '.join(subcaps), ]) return parse_key(subprocess.check_output(cmd).strip()) # IGNORE:E1103 def upgrade_key_caps(key, caps): """""" Upgrade key to have capabilities caps """""" if not is_leader(): # Not the MON leader OR not clustered return cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph', 'auth', 'caps', key ] for subsystem, subcaps in caps.iteritems(): cmd.extend([subsystem, '; '.join(subcaps)]) subprocess.check_call(cmd) @cached def systemd(): return (lsb_release()['DISTRIB_CODENAME'] >= 'vivid') def bootstrap_monitor_cluster(secret): hostname = get_unit_hostname() path = '/var/lib/ceph/mon/ceph-{}'.format(hostname) done = '{}/done'.format(path) if systemd(): init_marker = '{}/systemd'.format(path) else: init_marker = '{}/upstart'.format(path) keyring = '/var/lib/ceph/tmp/{}.mon.keyring'.format(hostname) if os.path.exists(done): log('bootstrap_monitor_cluster: mon already initialized.') else: # Ceph >= 0.61.3 needs this for ceph-mon fs creation mkdir('/var/run/ceph', owner=ceph_user(), group=ceph_user(), perms=0o755) mkdir(path, owner=ceph_user(), group=ceph_user()) # end changes for Ceph >= 0.61.3 try: subprocess.check_call(['ceph-authtool', keyring, '--create-keyring', '--name=mon.', '--add-key={}'.format(secret), '--cap', 'mon', 'allow *']) subprocess.check_call(['ceph-mon', '--mkfs', '-i', hostname, '--keyring', keyring]) chownr(path, ceph_user(), ceph_user()) with open(done, 'w'): pass with open(init_marker, 'w'): pass if systemd(): subprocess.check_call(['systemctl', 'enable', 'ceph-mon']) service_restart('ceph-mon') else: service_restart('ceph-mon-all') except: raise finally: os.unlink(keyring) def update_monfs(): hostname = get_unit_hostname() monfs = '/var/lib/ceph/mon/ceph-{}'.format(hostname) if systemd(): init_marker = '{}/systemd'.format(monfs) else: init_marker = '{}/upstart'.format(monfs) if os.path.exists(monfs) and not os.path.exists(init_marker): # Mark mon as managed by upstart so that # it gets start correctly on reboots with open(init_marker, 'w'): pass def maybe_zap_journal(journal_dev): if is_osd_disk(journal_dev): log('Looks like {} is already an OSD data' ' or journal, skipping.'.format(journal_dev)) return zap_disk(journal_dev) log(""Zapped journal device {}"".format(journal_dev)) def get_partitions(dev): cmd = ['partx', '--raw', '--noheadings', dev] try: out = subprocess.check_output(cmd).splitlines() log(""get partitions: {}"".format(out), level=DEBUG) return out except subprocess.CalledProcessError as e: log(""Can't get info for {0}: {1}"".format(dev, e.output)) return [] def find_least_used_journal(journal_devices): usages = map(lambda a: (len(get_partitions(a)), a), journal_devices) least = min(usages, key=lambda t: t[0]) return least[1] def osdize(dev, osd_format, osd_journal, reformat_osd=False, ignore_errors=False, encrypt=False): if dev.startswith('/dev'): osdize_dev(dev, osd_format, osd_journal, reformat_osd, ignore_errors, encrypt) else: osdize_dir(dev, encrypt) def osdize_dev(dev, osd_format, osd_journal, reformat_osd=False, ignore_errors=False, encrypt=False): if not os.path.exists(dev): log('Path {} does not exist - bailing'.format(dev)) return if not is_block_device(dev): log('Path {} is not a block device - bailing'.format(dev)) return if is_osd_disk(dev) and not reformat_osd: log('Looks like {} is already an' ' OSD data or journal, skipping.'.format(dev)) return if is_device_mounted(dev): log('Looks like {} is in use, skipping.'.format(dev)) return status_set('maintenance', 'Initializing device {}'.format(dev)) cmd = ['ceph-disk', 'prepare'] # Later versions of ceph support more options if cmp_pkgrevno('ceph', '0.60') >= 0: if encrypt: cmd.append('--dmcrypt') if cmp_pkgrevno('ceph', '0.48.3') >= 0: if osd_format: cmd.append('--fs-type') cmd.append(osd_format) if reformat_osd: cmd.append('--zap-disk') cmd.append(dev) if osd_journal: least_used = find_least_used_journal(osd_journal) cmd.append(least_used) else: # Just provide the device - no other options # for older versions of ceph cmd.append(dev) if reformat_osd: zap_disk(dev) try: log(""osdize cmd: {}"".format(cmd)) subprocess.check_call(cmd) except subprocess.CalledProcessError as e: if ignore_errors: log('Unable to initialize device: {}'.format(dev), WARNING) else: log('Unable to initialize device: {}'.format(dev), ERROR) raise e def osdize_dir(path, encrypt=False): if os.path.exists(os.path.join(path, 'upstart')): log('Path {} is already configured as an OSD - bailing'.format(path)) return if cmp_pkgrevno('ceph', ""0.56.6"") < 0: log('Unable to use directories for OSDs with ceph < 0.56.6', level=ERROR) raise mkdir(path, owner=ceph_user(), group=ceph_user(), perms=0o755) chownr('/var/lib/ceph', ceph_user(), ceph_user()) cmd = [ 'sudo', '-u', ceph_user(), 'ceph-disk', 'prepare', '--data-dir', path ] if cmp_pkgrevno('ceph', '0.60') >= 0: if encrypt: cmd.append('--dmcrypt') log(""osdize dir cmd: {}"".format(cmd)) subprocess.check_call(cmd) def filesystem_mounted(fs): return subprocess.call(['grep', '-wqs', fs, '/proc/mounts']) == 0 def get_running_osds(): """"""Returns a list of the pids of the current running OSD daemons"""""" cmd = ['pgrep', 'ceph-osd'] try: result = subprocess.check_output(cmd) return result.split() except subprocess.CalledProcessError: return [] ",1212,1213
openstack%2Fcharm-ceph-mon~master~I0122752fa2882d98d47e14ac50bfa6d14a08a50c,openstack/charm-ceph-mon,master,I0122752fa2882d98d47e14ac50bfa6d14a08a50c,Clean up dependency chain,MERGED,2016-08-11 12:31:50.000000000,2016-08-12 08:23:06.000000000,2016-08-12 08:23:06.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20812}]","[{'number': 1, 'created': '2016-08-11 12:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a99caa894b7e88d9767e5fbc25076a3949e3ebc9', 'message': ""Clean up dependency chain\n\n    This includes a resync of charms_ceph to raise the directory one level\n    The charms_ceph change that we're syncing in changes the\n    name of the ceph.py file into the __init__.py file to remove the\n    second level of namespacing\n\nChange-Id: I0122752fa2882d98d47e14ac50bfa6d14a08a50c\n""}, {'number': 2, 'created': '2016-08-11 15:01:18.000000000', 'files': ['hooks/ceph_hooks.py', '.gitignore', 'lib/ceph/ceph_broker.py', 'Makefile', 'unit_tests/test_ceph_ops.py', 'lib/ceph/__init__.py', 'lib/__init__.py', 'lib/ceph/ceph/ceph.py', 'lib/ceph/ceph/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/1287b0c9c6e59ad7c46c176eb3b8893b7e46a49c', 'message': ""Clean up dependency chain\n\n    This includes a resync of charms_ceph to raise the directory one level\n    The charms_ceph change that we're syncing in changes the\n    name of the ceph.py file into the __init__.py file to remove the\n    second level of namespacing\n\nChange-Id: I0122752fa2882d98d47e14ac50bfa6d14a08a50c\n""}]",0,354032,1287b0c9c6e59ad7c46c176eb3b8893b7e46a49c,12,5,2,20634,,,0,"Clean up dependency chain

    This includes a resync of charms_ceph to raise the directory one level
    The charms_ceph change that we're syncing in changes the
    name of the ceph.py file into the __init__.py file to remove the
    second level of namespacing

Change-Id: I0122752fa2882d98d47e14ac50bfa6d14a08a50c
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/32/354032/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'lib/ceph/ceph_broker.py', 'Makefile', 'unit_tests/test_ceph_ops.py', 'lib/ceph/__init__.py', 'lib/__init__.py', 'lib/ceph/ceph/__init__.py', 'lib/ceph/ceph/ceph.py']",8,a99caa894b7e88d9767e5fbc25076a3949e3ebc9,dep-cleanup,,"# Copyright 2016 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import ctypes import json import subprocess import time import os import re import sys import errno import shutil from charmhelpers.core import hookenv from charmhelpers.core.host import ( mkdir, chownr, service_restart, lsb_release, cmp_pkgrevno, service_stop, mounts) from charmhelpers.core.hookenv import ( log, ERROR, cached, status_set, WARNING, DEBUG) from charmhelpers.core.services import render_template from charmhelpers.fetch import ( apt_cache ) from charmhelpers.contrib.storage.linux.utils import ( is_block_device, zap_disk, is_device_mounted) from utils import ( get_unit_hostname, ) LEADER = 'leader' PEON = 'peon' QUORUM = [LEADER, PEON] PACKAGES = ['ceph', 'gdisk', 'ntp', 'btrfs-tools', 'python-ceph', 'xfsprogs'] LinkSpeed = { ""BASE_10"": 10, ""BASE_100"": 100, ""BASE_1000"": 1000, ""GBASE_10"": 10000, ""GBASE_40"": 40000, ""GBASE_100"": 100000, ""UNKNOWN"": None } # Mapping of adapter speed to sysctl settings NETWORK_ADAPTER_SYSCTLS = { # 10Gb LinkSpeed[""GBASE_10""]: { 'net.core.rmem_default': 524287, 'net.core.wmem_default': 524287, 'net.core.rmem_max': 524287, 'net.core.wmem_max': 524287, 'net.core.optmem_max': 524287, 'net.core.netdev_max_backlog': 300000, 'net.ipv4.tcp_rmem': '10000000 10000000 10000000', 'net.ipv4.tcp_wmem': '10000000 10000000 10000000', 'net.ipv4.tcp_mem': '10000000 10000000 10000000' }, # Mellanox 10/40Gb LinkSpeed[""GBASE_40""]: { 'net.ipv4.tcp_timestamps': 0, 'net.ipv4.tcp_sack': 1, 'net.core.netdev_max_backlog': 250000, 'net.core.rmem_max': 4194304, 'net.core.wmem_max': 4194304, 'net.core.rmem_default': 4194304, 'net.core.wmem_default': 4194304, 'net.core.optmem_max': 4194304, 'net.ipv4.tcp_rmem': '4096 87380 4194304', 'net.ipv4.tcp_wmem': '4096 65536 4194304', 'net.ipv4.tcp_low_latency': 1, 'net.ipv4.tcp_adv_win_scale': 1 } } def save_sysctls(sysctl_dict, save_location): """""" Persist the sysctls to the hard drive. :param sysctl_dict: dict :param save_location: path to save the settings to :raise: IOError if anything goes wrong with writing. """""" try: # Persist the settings for reboots with open(save_location, ""w"") as fd: for key, value in sysctl_dict.items(): fd.write(""{}={}\n"".format(key, value)) except IOError as e: log(""Unable to persist sysctl settings to {}. Error {}"".format( save_location, e.message), level=ERROR) raise def tune_nic(network_interface): """""" This will set optimal sysctls for the particular network adapter. :param network_interface: string The network adapter name. """""" speed = get_link_speed(network_interface) if speed in NETWORK_ADAPTER_SYSCTLS: status_set('maintenance', 'Tuning device {}'.format( network_interface)) sysctl_file = os.path.join( os.sep, 'etc', 'sysctl.d', '51-ceph-osd-charm-{}.conf'.format(network_interface)) try: log(""Saving sysctl_file: {} values: {}"".format( sysctl_file, NETWORK_ADAPTER_SYSCTLS[speed]), level=DEBUG) save_sysctls(sysctl_dict=NETWORK_ADAPTER_SYSCTLS[speed], save_location=sysctl_file) except IOError as e: log(""Write to /etc/sysctl.d/51-ceph-osd-charm-{} "" ""failed. {}"".format(network_interface, e.message), level=ERROR) try: # Apply the settings log(""Applying sysctl settings"", level=DEBUG) subprocess.check_output([""sysctl"", ""-p"", sysctl_file]) except subprocess.CalledProcessError as err: log('sysctl -p {} failed with error {}'.format(sysctl_file, err.output), level=ERROR) else: log(""No settings found for network adapter: {}"".format( network_interface), level=DEBUG) def get_link_speed(network_interface): """""" This will find the link speed for a given network device. Returns None if an error occurs. :param network_interface: string The network adapter interface. :return: LinkSpeed """""" speed_path = os.path.join(os.sep, 'sys', 'class', 'net', network_interface, 'speed') # I'm not sure where else we'd check if this doesn't exist if not os.path.exists(speed_path): return LinkSpeed[""UNKNOWN""] try: with open(speed_path, 'r') as sysfs: nic_speed = sysfs.readlines() # Did we actually read anything? if not nic_speed: return LinkSpeed[""UNKNOWN""] # Try to find a sysctl match for this particular speed for name, speed in LinkSpeed.items(): if speed == int(nic_speed[0].strip()): return speed # Default to UNKNOWN if we can't find a match return LinkSpeed[""UNKNOWN""] except IOError as e: log(""Unable to open {path} because of error: {error}"".format( path=speed_path, error=e.message), level='error') return LinkSpeed[""UNKNOWN""] def persist_settings(settings_dict): # Write all settings to /etc/hdparm.conf """""" This will persist the hard drive settings to the /etc/hdparm.conf file The settings_dict should be in the form of {""uuid"": {""key"":""value""}} :param settings_dict: dict of settings to save """""" hdparm_path = os.path.join(os.sep, 'etc', 'hdparm.conf') try: with open(hdparm_path, 'w') as hdparm: hdparm.write(render_template('hdparm.conf', settings_dict)) except IOError as err: log(""Unable to open {path} because of error: {error}"".format( path=hdparm_path, error=err.message), level=ERROR) def set_max_sectors_kb(dev_name, max_sectors_size): """""" This function sets the max_sectors_kb size of a given block device. :param dev_name: Name of the block device to query :param max_sectors_size: int of the max_sectors_size to save """""" max_sectors_kb_path = os.path.join('sys', 'block', dev_name, 'queue', 'max_sectors_kb') try: with open(max_sectors_kb_path, 'w') as f: f.write(max_sectors_size) except IOError as e: log('Failed to write max_sectors_kb to {}. Error: {}'.format( max_sectors_kb_path, e.message), level=ERROR) def get_max_sectors_kb(dev_name): """""" This function gets the max_sectors_kb size of a given block device. :param dev_name: Name of the block device to query :return: int which is either the max_sectors_kb or 0 on error. """""" max_sectors_kb_path = os.path.join('sys', 'block', dev_name, 'queue', 'max_sectors_kb') # Read in what Linux has set by default if os.path.exists(max_sectors_kb_path): try: with open(max_sectors_kb_path, 'r') as f: max_sectors_kb = f.read().strip() return int(max_sectors_kb) except IOError as e: log('Failed to read max_sectors_kb to {}. Error: {}'.format( max_sectors_kb_path, e.message), level=ERROR) # Bail. return 0 return 0 def get_max_hw_sectors_kb(dev_name): """""" This function gets the max_hw_sectors_kb for a given block device. :param dev_name: Name of the block device to query :return: int which is either the max_hw_sectors_kb or 0 on error. """""" max_hw_sectors_kb_path = os.path.join('sys', 'block', dev_name, 'queue', 'max_hw_sectors_kb') # Read in what the hardware supports if os.path.exists(max_hw_sectors_kb_path): try: with open(max_hw_sectors_kb_path, 'r') as f: max_hw_sectors_kb = f.read().strip() return int(max_hw_sectors_kb) except IOError as e: log('Failed to read max_hw_sectors_kb to {}. Error: {}'.format( max_hw_sectors_kb_path, e.message), level=ERROR) return 0 return 0 def set_hdd_read_ahead(dev_name, read_ahead_sectors=256): """""" This function sets the hard drive read ahead. :param dev_name: Name of the block device to set read ahead on. :param read_ahead_sectors: int How many sectors to read ahead. """""" try: # Set the read ahead sectors to 256 log('Setting read ahead to {} for device {}'.format( read_ahead_sectors, dev_name)) subprocess.check_output(['hdparm', '-a{}'.format(read_ahead_sectors), dev_name]) except subprocess.CalledProcessError as e: log('hdparm failed with error: {}'.format(e.output), level=ERROR) def get_block_uuid(block_dev): """""" This queries blkid to get the uuid for a block device. :param block_dev: Name of the block device to query. :return: The UUID of the device or None on Error. """""" try: block_info = subprocess.check_output( ['blkid', '-o', 'export', block_dev]) for tag in block_info.split('\n'): parts = tag.split('=') if parts[0] == 'UUID': return parts[1] return None except subprocess.CalledProcessError as err: log('get_block_uuid failed with error: {}'.format(err.output), level=ERROR) return None def check_max_sectors(save_settings_dict, block_dev, uuid): """""" Tune the max_hw_sectors if needed. make sure that /sys/.../max_sectors_kb matches max_hw_sectors_kb or at least 1MB for spinning disks If the box has a RAID card with cache this could go much bigger. :param save_settings_dict: The dict used to persist settings :param block_dev: A block device name: Example: /dev/sda :param uuid: The uuid of the block device """""" dev_name = None path_parts = os.path.split(block_dev) if len(path_parts) == 2: dev_name = path_parts[1] else: log('Unable to determine the block device name from path: {}'.format( block_dev)) # Play it safe and bail return max_sectors_kb = get_max_sectors_kb(dev_name=dev_name) max_hw_sectors_kb = get_max_hw_sectors_kb(dev_name=dev_name) if max_sectors_kb < max_hw_sectors_kb: # OK we have a situation where the hardware supports more than Linux is # currently requesting config_max_sectors_kb = hookenv.config('max-sectors-kb') if config_max_sectors_kb < max_hw_sectors_kb: # Set the max_sectors_kb to the config.yaml value if it is less # than the max_hw_sectors_kb log('Setting max_sectors_kb for device {} to {}'.format( dev_name, config_max_sectors_kb)) save_settings_dict[ ""drive_settings""][uuid][ ""read_ahead_sect""] = config_max_sectors_kb set_max_sectors_kb(dev_name=dev_name, max_sectors_size=config_max_sectors_kb) else: # Set to the max_hw_sectors_kb log('Setting max_sectors_kb for device {} to {}'.format( dev_name, max_hw_sectors_kb)) save_settings_dict[ ""drive_settings""][uuid]['read_ahead_sect'] = max_hw_sectors_kb set_max_sectors_kb(dev_name=dev_name, max_sectors_size=max_hw_sectors_kb) else: log('max_sectors_kb match max_hw_sectors_kb. No change needed for ' 'device: {}'.format(block_dev)) def tune_dev(block_dev): """""" Try to make some intelligent decisions with HDD tuning. Future work will include optimizing SSDs. This function will change the read ahead sectors and the max write sectors for each block device. :param block_dev: A block device name: Example: /dev/sda """""" uuid = get_block_uuid(block_dev) if uuid is None: log('block device {} uuid is None. Unable to save to ' 'hdparm.conf'.format(block_dev), level=DEBUG) save_settings_dict = {} log('Tuning device {}'.format(block_dev)) status_set('maintenance', 'Tuning device {}'.format(block_dev)) set_hdd_read_ahead(block_dev) save_settings_dict[""drive_settings""] = {} save_settings_dict[""drive_settings""][uuid] = {} save_settings_dict[""drive_settings""][uuid]['read_ahead_sect'] = 256 check_max_sectors(block_dev=block_dev, save_settings_dict=save_settings_dict, uuid=uuid) persist_settings(settings_dict=save_settings_dict) status_set('maintenance', 'Finished tuning device {}'.format(block_dev)) def ceph_user(): if get_version() > 1: return 'ceph' else: return ""root"" class CrushLocation(object): def __init__(self, name, identifier, host, rack, row, datacenter, chassis, root): self.name = name self.identifier = identifier self.host = host self.rack = rack self.row = row self.datacenter = datacenter self.chassis = chassis self.root = root def __str__(self): return ""name: {} id: {} host: {} rack: {} row: {} datacenter: {} "" \ ""chassis :{} root: {}"".format(self.name, self.identifier, self.host, self.rack, self.row, self.datacenter, self.chassis, self.root) def __eq__(self, other): return not self.name < other.name and not other.name < self.name def __ne__(self, other): return self.name < other.name or other.name < self.name def __gt__(self, other): return self.name > other.name def __ge__(self, other): return not self.name < other.name def __le__(self, other): return self.name < other.name def get_osd_tree(service): """""" Returns the current osd map in JSON. :return: List. :raise: ValueError if the monmap fails to parse. Also raises CalledProcessError if our ceph command fails """""" try: tree = subprocess.check_output( ['ceph', '--id', service, 'osd', 'tree', '--format=json']) try: json_tree = json.loads(tree) crush_list = [] # Make sure children are present in the json if not json_tree['nodes']: return None child_ids = json_tree['nodes'][0]['children'] for child in json_tree['nodes']: if child['id'] in child_ids: crush_list.append( CrushLocation( name=child.get('name'), identifier=child['id'], host=child.get('host'), rack=child.get('rack'), row=child.get('row'), datacenter=child.get('datacenter'), chassis=child.get('chassis'), root=child.get('root') ) ) return crush_list except ValueError as v: log(""Unable to parse ceph tree json: {}. Error: {}"".format( tree, v.message)) raise except subprocess.CalledProcessError as e: log(""ceph osd tree command failed with message: {}"".format( e.message)) raise def get_local_osd_ids(): """""" This will list the /var/lib/ceph/osd/* directories and try to split the ID off of the directory name and return it in a list :return: list. A list of osd identifiers :raise: OSError if something goes wrong with listing the directory. """""" osd_ids = [] osd_path = os.path.join(os.sep, 'var', 'lib', 'ceph', 'osd') if os.path.exists(osd_path): try: dirs = os.listdir(osd_path) for osd_dir in dirs: osd_id = osd_dir.split('-')[1] if _is_int(osd_id): osd_ids.append(osd_id) except OSError: raise return osd_ids def get_local_mon_ids(): """""" This will list the /var/lib/ceph/mon/* directories and try to split the ID off of the directory name and return it in a list :return: list. A list of monitor identifiers :raise: OSError if something goes wrong with listing the directory. """""" mon_ids = [] mon_path = os.path.join(os.sep, 'var', 'lib', 'ceph', 'mon') if os.path.exists(mon_path): try: dirs = os.listdir(mon_path) for mon_dir in dirs: # Basically this takes everything after ceph- as the monitor ID match = re.search('ceph-(?P<mon_id>.*)', mon_dir) if match: mon_ids.append(match.group('mon_id')) except OSError: raise return mon_ids def _is_int(v): """"""Return True if the object v can be turned into an integer."""""" try: int(v) return True except ValueError: return False def get_version(): """"""Derive Ceph release from an installed package."""""" import apt_pkg as apt cache = apt_cache() package = ""ceph"" try: pkg = cache[package] except: # the package is unknown to the current apt cache. e = 'Could not determine version of package with no installation ' \ 'candidate: %s' % package error_out(e) if not pkg.current_ver: # package is known, but no version is currently installed. e = 'Could not determine version of uninstalled package: %s' % package error_out(e) vers = apt.upstream_version(pkg.current_ver.ver_str) # x.y match only for 20XX.X # and ignore patch level for other packages match = re.match('^(\d+)\.(\d+)', vers) if match: vers = match.group(0) return float(vers) def error_out(msg): log(""FATAL ERROR: %s"" % msg, level=ERROR) sys.exit(1) def is_quorum(): asok = ""/var/run/ceph/ceph-mon.{}.asok"".format(get_unit_hostname()) cmd = [ ""sudo"", ""-u"", ceph_user(), ""ceph"", ""--admin-daemon"", asok, ""mon_status"" ] if os.path.exists(asok): try: result = json.loads(subprocess.check_output(cmd)) except subprocess.CalledProcessError: return False except ValueError: # Non JSON response from mon_status return False if result['state'] in QUORUM: return True else: return False else: return False def is_leader(): asok = ""/var/run/ceph/ceph-mon.{}.asok"".format(get_unit_hostname()) cmd = [ ""sudo"", ""-u"", ceph_user(), ""ceph"", ""--admin-daemon"", asok, ""mon_status"" ] if os.path.exists(asok): try: result = json.loads(subprocess.check_output(cmd)) except subprocess.CalledProcessError: return False except ValueError: # Non JSON response from mon_status return False if result['state'] == LEADER: return True else: return False else: return False def wait_for_quorum(): while not is_quorum(): log(""Waiting for quorum to be reached"") time.sleep(3) def add_bootstrap_hint(peer): asok = ""/var/run/ceph/ceph-mon.{}.asok"".format(get_unit_hostname()) cmd = [ ""sudo"", ""-u"", ceph_user(), ""ceph"", ""--admin-daemon"", asok, ""add_bootstrap_peer_hint"", peer ] if os.path.exists(asok): # Ignore any errors for this call subprocess.call(cmd) DISK_FORMATS = [ 'xfs', 'ext4', 'btrfs' ] CEPH_PARTITIONS = [ '4FBD7E29-9D25-41B8-AFD0-5EC00CEFF05D', # ceph encrypted osd data '4FBD7E29-9D25-41B8-AFD0-062C0CEFF05D', # ceph osd data '45B0969E-9B03-4F30-B4C6-B4B80CEFF106', # ceph osd journal ] def umount(mount_point): """""" This function unmounts a mounted directory forcibly. This will be used for unmounting broken hard drive mounts which may hang. If umount returns EBUSY this will lazy unmount. :param mount_point: str. A String representing the filesystem mount point :return: int. Returns 0 on success. errno otherwise. """""" libc_path = ctypes.util.find_library(""c"") libc = ctypes.CDLL(libc_path, use_errno=True) # First try to umount with MNT_FORCE ret = libc.umount(mount_point, 1) if ret < 0: err = ctypes.get_errno() if err == errno.EBUSY: # Detach from try. IE lazy umount ret = libc.umount(mount_point, 2) if ret < 0: err = ctypes.get_errno() return err return 0 else: return err return 0 def replace_osd(dead_osd_number, dead_osd_device, new_osd_device, osd_format, osd_journal, reformat_osd=False, ignore_errors=False): """""" This function will automate the replacement of a failed osd disk as much as possible. It will revoke the keys for the old osd, remove it from the crush map and then add a new osd into the cluster. :param dead_osd_number: The osd number found in ceph osd tree. Example: 99 :param dead_osd_device: The physical device. Example: /dev/sda :param osd_format: :param osd_journal: :param reformat_osd: :param ignore_errors: """""" host_mounts = mounts() mount_point = None for mount in host_mounts: if mount[1] == dead_osd_device: mount_point = mount[0] # need to convert dev to osd number # also need to get the mounted drive so we can tell the admin to # replace it try: # Drop this osd out of the cluster. This will begin a # rebalance operation status_set('maintenance', 'Removing osd {}'.format(dead_osd_number)) subprocess.check_output([ 'ceph', '--id', 'osd-upgrade', 'osd', 'out', 'osd.{}'.format(dead_osd_number)]) # Kill the osd process if it's not already dead if systemd(): service_stop('ceph-osd@{}'.format(dead_osd_number)) else: subprocess.check_output(['stop', 'ceph-osd', 'id={}'.format( dead_osd_number)]), # umount if still mounted ret = umount(mount_point) if ret < 0: raise RuntimeError('umount {} failed with error: {}'.format( mount_point, os.strerror(ret))) # Clean up the old mount point shutil.rmtree(mount_point) subprocess.check_output([ 'ceph', '--id', 'osd-upgrade', 'osd', 'crush', 'remove', 'osd.{}'.format(dead_osd_number)]) # Revoke the OSDs access keys subprocess.check_output([ 'ceph', '--id', 'osd-upgrade', 'auth', 'del', 'osd.{}'.format(dead_osd_number)]) subprocess.check_output([ 'ceph', '--id', 'osd-upgrade', 'osd', 'rm', 'osd.{}'.format(dead_osd_number)]) status_set('maintenance', 'Setting up replacement osd {}'.format( new_osd_device)) osdize(new_osd_device, osd_format, osd_journal, reformat_osd, ignore_errors) except subprocess.CalledProcessError as e: log('replace_osd failed with error: ' + e.output) def is_osd_disk(dev): try: info = subprocess.check_output(['sgdisk', '-i', '1', dev]) info = info.split(""\n"") # IGNORE:E1103 for line in info: for ptype in CEPH_PARTITIONS: sig = 'Partition GUID code: {}'.format(ptype) if line.startswith(sig): return True except subprocess.CalledProcessError: pass return False def start_osds(devices): # Scan for ceph block devices rescan_osd_devices() if cmp_pkgrevno('ceph', ""0.56.6"") >= 0: # Use ceph-disk activate for directory based OSD's for dev_or_path in devices: if os.path.exists(dev_or_path) and os.path.isdir(dev_or_path): subprocess.check_call(['ceph-disk', 'activate', dev_or_path]) def rescan_osd_devices(): cmd = [ 'udevadm', 'trigger', '--subsystem-match=block', '--action=add' ] subprocess.call(cmd) _bootstrap_keyring = ""/var/lib/ceph/bootstrap-osd/ceph.keyring"" _upgrade_keyring = ""/var/lib/ceph/osd/ceph.client.osd-upgrade.keyring"" def is_bootstrapped(): return os.path.exists(_bootstrap_keyring) def wait_for_bootstrap(): while not is_bootstrapped(): time.sleep(3) def import_osd_bootstrap_key(key): if not os.path.exists(_bootstrap_keyring): cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph-authtool', _bootstrap_keyring, '--create-keyring', '--name=client.bootstrap-osd', '--add-key={}'.format(key) ] subprocess.check_call(cmd) def import_osd_upgrade_key(key): if not os.path.exists(_upgrade_keyring): cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph-authtool', _upgrade_keyring, '--create-keyring', '--name=client.osd-upgrade', '--add-key={}'.format(key) ] subprocess.check_call(cmd) def generate_monitor_secret(): cmd = [ 'ceph-authtool', '/dev/stdout', '--name=mon.', '--gen-key' ] res = subprocess.check_output(cmd) return ""{}=="".format(res.split('=')[1].strip()) # OSD caps taken from ceph-create-keys _osd_bootstrap_caps = { 'mon': [ 'allow command osd create ...', 'allow command osd crush set ...', r'allow command auth add * osd allow\ * mon allow\ rwx', 'allow command mon getmap' ] } _osd_bootstrap_caps_profile = { 'mon': [ 'allow profile bootstrap-osd' ] } def parse_key(raw_key): # get-or-create appears to have different output depending # on whether its 'get' or 'create' # 'create' just returns the key, 'get' is more verbose and # needs parsing key = None if len(raw_key.splitlines()) == 1: key = raw_key else: for element in raw_key.splitlines(): if 'key' in element: key = element.split(' = ')[1].strip() # IGNORE:E1103 return key def get_osd_bootstrap_key(): try: # Attempt to get/create a key using the OSD bootstrap profile first key = get_named_key('bootstrap-osd', _osd_bootstrap_caps_profile) except: # If that fails try with the older style permissions key = get_named_key('bootstrap-osd', _osd_bootstrap_caps) return key _radosgw_keyring = ""/etc/ceph/keyring.rados.gateway"" def import_radosgw_key(key): if not os.path.exists(_radosgw_keyring): cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph-authtool', _radosgw_keyring, '--create-keyring', '--name=client.radosgw.gateway', '--add-key={}'.format(key) ] subprocess.check_call(cmd) # OSD caps taken from ceph-create-keys _radosgw_caps = { 'mon': ['allow rw'], 'osd': ['allow rwx'] } _upgrade_caps = { 'mon': ['allow rwx'] } def get_radosgw_key(): return get_named_key('radosgw.gateway', _radosgw_caps) _default_caps = { 'mon': ['allow rw'], 'osd': ['allow rwx'] } admin_caps = { 'mds': ['allow'], 'mon': ['allow *'], 'osd': ['allow *'] } osd_upgrade_caps = { 'mon': ['allow command ""config-key""', 'allow command ""osd tree""', 'allow command ""config-key list""', 'allow command ""config-key put""', 'allow command ""config-key get""', 'allow command ""config-key exists""', 'allow command ""osd out""', 'allow command ""osd in""', 'allow command ""osd rm""', 'allow command ""auth del""', ] } def get_upgrade_key(): return get_named_key('upgrade-osd', _upgrade_caps) def get_named_key(name, caps=None): caps = caps or _default_caps cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph', '--name', 'mon.', '--keyring', '/var/lib/ceph/mon/ceph-{}/keyring'.format( get_unit_hostname() ), 'auth', 'get-or-create', 'client.{}'.format(name), ] # Add capabilities for subsystem, subcaps in caps.iteritems(): cmd.extend([ subsystem, '; '.join(subcaps), ]) return parse_key(subprocess.check_output(cmd).strip()) # IGNORE:E1103 def upgrade_key_caps(key, caps): """""" Upgrade key to have capabilities caps """""" if not is_leader(): # Not the MON leader OR not clustered return cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph', 'auth', 'caps', key ] for subsystem, subcaps in caps.iteritems(): cmd.extend([subsystem, '; '.join(subcaps)]) subprocess.check_call(cmd) @cached def systemd(): return (lsb_release()['DISTRIB_CODENAME'] >= 'vivid') def bootstrap_monitor_cluster(secret): hostname = get_unit_hostname() path = '/var/lib/ceph/mon/ceph-{}'.format(hostname) done = '{}/done'.format(path) if systemd(): init_marker = '{}/systemd'.format(path) else: init_marker = '{}/upstart'.format(path) keyring = '/var/lib/ceph/tmp/{}.mon.keyring'.format(hostname) if os.path.exists(done): log('bootstrap_monitor_cluster: mon already initialized.') else: # Ceph >= 0.61.3 needs this for ceph-mon fs creation mkdir('/var/run/ceph', owner=ceph_user(), group=ceph_user(), perms=0o755) mkdir(path, owner=ceph_user(), group=ceph_user()) # end changes for Ceph >= 0.61.3 try: subprocess.check_call(['ceph-authtool', keyring, '--create-keyring', '--name=mon.', '--add-key={}'.format(secret), '--cap', 'mon', 'allow *']) subprocess.check_call(['ceph-mon', '--mkfs', '-i', hostname, '--keyring', keyring]) chownr(path, ceph_user(), ceph_user()) with open(done, 'w'): pass with open(init_marker, 'w'): pass if systemd(): subprocess.check_call(['systemctl', 'enable', 'ceph-mon']) service_restart('ceph-mon') else: service_restart('ceph-mon-all') except: raise finally: os.unlink(keyring) def update_monfs(): hostname = get_unit_hostname() monfs = '/var/lib/ceph/mon/ceph-{}'.format(hostname) if systemd(): init_marker = '{}/systemd'.format(monfs) else: init_marker = '{}/upstart'.format(monfs) if os.path.exists(monfs) and not os.path.exists(init_marker): # Mark mon as managed by upstart so that # it gets start correctly on reboots with open(init_marker, 'w'): pass def maybe_zap_journal(journal_dev): if is_osd_disk(journal_dev): log('Looks like {} is already an OSD data' ' or journal, skipping.'.format(journal_dev)) return zap_disk(journal_dev) log(""Zapped journal device {}"".format(journal_dev)) def get_partitions(dev): cmd = ['partx', '--raw', '--noheadings', dev] try: out = subprocess.check_output(cmd).splitlines() log(""get partitions: {}"".format(out), level=DEBUG) return out except subprocess.CalledProcessError as e: log(""Can't get info for {0}: {1}"".format(dev, e.output)) return [] def find_least_used_journal(journal_devices): usages = map(lambda a: (len(get_partitions(a)), a), journal_devices) least = min(usages, key=lambda t: t[0]) return least[1] def osdize(dev, osd_format, osd_journal, reformat_osd=False, ignore_errors=False, encrypt=False): if dev.startswith('/dev'): osdize_dev(dev, osd_format, osd_journal, reformat_osd, ignore_errors, encrypt) else: osdize_dir(dev, encrypt) def osdize_dev(dev, osd_format, osd_journal, reformat_osd=False, ignore_errors=False, encrypt=False): if not os.path.exists(dev): log('Path {} does not exist - bailing'.format(dev)) return if not is_block_device(dev): log('Path {} is not a block device - bailing'.format(dev)) return if is_osd_disk(dev) and not reformat_osd: log('Looks like {} is already an' ' OSD data or journal, skipping.'.format(dev)) return if is_device_mounted(dev): log('Looks like {} is in use, skipping.'.format(dev)) return status_set('maintenance', 'Initializing device {}'.format(dev)) cmd = ['ceph-disk', 'prepare'] # Later versions of ceph support more options if cmp_pkgrevno('ceph', '0.60') >= 0: if encrypt: cmd.append('--dmcrypt') if cmp_pkgrevno('ceph', '0.48.3') >= 0: if osd_format: cmd.append('--fs-type') cmd.append(osd_format) if reformat_osd: cmd.append('--zap-disk') cmd.append(dev) if osd_journal: least_used = find_least_used_journal(osd_journal) cmd.append(least_used) else: # Just provide the device - no other options # for older versions of ceph cmd.append(dev) if reformat_osd: zap_disk(dev) try: log(""osdize cmd: {}"".format(cmd)) subprocess.check_call(cmd) except subprocess.CalledProcessError as e: if ignore_errors: log('Unable to initialize device: {}'.format(dev), WARNING) else: log('Unable to initialize device: {}'.format(dev), ERROR) raise e def osdize_dir(path, encrypt=False): if os.path.exists(os.path.join(path, 'upstart')): log('Path {} is already configured as an OSD - bailing'.format(path)) return if cmp_pkgrevno('ceph', ""0.56.6"") < 0: log('Unable to use directories for OSDs with ceph < 0.56.6', level=ERROR) raise mkdir(path, owner=ceph_user(), group=ceph_user(), perms=0o755) chownr('/var/lib/ceph', ceph_user(), ceph_user()) cmd = [ 'sudo', '-u', ceph_user(), 'ceph-disk', 'prepare', '--data-dir', path ] if cmp_pkgrevno('ceph', '0.60') >= 0: if encrypt: cmd.append('--dmcrypt') log(""osdize dir cmd: {}"".format(cmd)) subprocess.check_call(cmd) def filesystem_mounted(fs): return subprocess.call(['grep', '-wqs', fs, '/proc/mounts']) == 0 def get_running_osds(): """"""Returns a list of the pids of the current running OSD daemons"""""" cmd = ['pgrep', 'ceph-osd'] try: result = subprocess.check_output(cmd) return result.split() except subprocess.CalledProcessError: return [] ",1196,1189
openstack%2Fcharm-ceph~master~I8773a26266a2a13f92083e89db957a6454df9bb3,openstack/charm-ceph,master,I8773a26266a2a13f92083e89db957a6454df9bb3,Clean up dependency chain,MERGED,2016-08-11 12:22:54.000000000,2016-08-12 08:22:45.000000000,2016-08-12 08:22:45.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20648}]","[{'number': 1, 'created': '2016-08-11 12:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph/commit/0a89daa7e7fd73275224d2b56534caee48c5c606', 'message': ""Clean up dependency chain\n\nThis includes a resync of charms_ceph to raise the directory one level\nThe charms_ceph change that we're syncing in changes the\nname of the ceph.py file into the __init__.py file to remove the\nsecond level of namespacing\n\nChange-Id: I8773a26266a2a13f92083e89db957a6454df9bb3\n""}, {'number': 2, 'created': '2016-08-11 15:01:05.000000000', 'files': ['hooks/ceph_hooks.py', 'actions/pause_resume.py', '.gitignore', 'lib/ceph/ceph_broker.py', 'Makefile', 'unit_tests/test_ceph_ops.py', 'lib/ceph/__init__.py', 'lib/__init__.py', 'lib/ceph/ceph/ceph.py', 'lib/ceph/ceph/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph/commit/811bc04e7ca7166afef12f34f065ef6cfd221250', 'message': ""Clean up dependency chain\n\nThis includes a resync of charms_ceph to raise the directory one level\nThe charms_ceph change that we're syncing in changes the\nname of the ceph.py file into the __init__.py file to remove the\nsecond level of namespacing\n\nChange-Id: I8773a26266a2a13f92083e89db957a6454df9bb3\n""}]",0,354020,811bc04e7ca7166afef12f34f065ef6cfd221250,12,4,2,20634,,,0,"Clean up dependency chain

This includes a resync of charms_ceph to raise the directory one level
The charms_ceph change that we're syncing in changes the
name of the ceph.py file into the __init__.py file to remove the
second level of namespacing

Change-Id: I8773a26266a2a13f92083e89db957a6454df9bb3
",git fetch https://review.opendev.org/openstack/charm-ceph refs/changes/20/354020/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'actions/pause_resume.py', 'lib/ceph/ceph_broker.py', 'Makefile', 'unit_tests/test_ceph_ops.py', 'func-results.json', 'lib/ceph/__init__.py', 'lib/__init__.py', 'lib/ceph/ceph/__init__.py', 'lib/ceph/ceph/ceph.py']",10,0a89daa7e7fd73275224d2b56534caee48c5c606,dep-cleanup,,"# Copyright 2016 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import ctypes import json import subprocess import time import os import re import sys import errno import shutil from charmhelpers.core import hookenv from charmhelpers.core.host import ( mkdir, chownr, service_restart, lsb_release, cmp_pkgrevno, service_stop, mounts) from charmhelpers.core.hookenv import ( log, ERROR, cached, status_set, WARNING, DEBUG) from charmhelpers.core.services import render_template from charmhelpers.fetch import ( apt_cache ) from charmhelpers.contrib.storage.linux.utils import ( is_block_device, zap_disk, is_device_mounted) from utils import ( get_unit_hostname, ) LEADER = 'leader' PEON = 'peon' QUORUM = [LEADER, PEON] PACKAGES = ['ceph', 'gdisk', 'ntp', 'btrfs-tools', 'python-ceph', 'xfsprogs'] LinkSpeed = { ""BASE_10"": 10, ""BASE_100"": 100, ""BASE_1000"": 1000, ""GBASE_10"": 10000, ""GBASE_40"": 40000, ""GBASE_100"": 100000, ""UNKNOWN"": None } # Mapping of adapter speed to sysctl settings NETWORK_ADAPTER_SYSCTLS = { # 10Gb LinkSpeed[""GBASE_10""]: { 'net.core.rmem_default': 524287, 'net.core.wmem_default': 524287, 'net.core.rmem_max': 524287, 'net.core.wmem_max': 524287, 'net.core.optmem_max': 524287, 'net.core.netdev_max_backlog': 300000, 'net.ipv4.tcp_rmem': '10000000 10000000 10000000', 'net.ipv4.tcp_wmem': '10000000 10000000 10000000', 'net.ipv4.tcp_mem': '10000000 10000000 10000000' }, # Mellanox 10/40Gb LinkSpeed[""GBASE_40""]: { 'net.ipv4.tcp_timestamps': 0, 'net.ipv4.tcp_sack': 1, 'net.core.netdev_max_backlog': 250000, 'net.core.rmem_max': 4194304, 'net.core.wmem_max': 4194304, 'net.core.rmem_default': 4194304, 'net.core.wmem_default': 4194304, 'net.core.optmem_max': 4194304, 'net.ipv4.tcp_rmem': '4096 87380 4194304', 'net.ipv4.tcp_wmem': '4096 65536 4194304', 'net.ipv4.tcp_low_latency': 1, 'net.ipv4.tcp_adv_win_scale': 1 } } def save_sysctls(sysctl_dict, save_location): """""" Persist the sysctls to the hard drive. :param sysctl_dict: dict :param save_location: path to save the settings to :raise: IOError if anything goes wrong with writing. """""" try: # Persist the settings for reboots with open(save_location, ""w"") as fd: for key, value in sysctl_dict.items(): fd.write(""{}={}\n"".format(key, value)) except IOError as e: log(""Unable to persist sysctl settings to {}. Error {}"".format( save_location, e.message), level=ERROR) raise def tune_nic(network_interface): """""" This will set optimal sysctls for the particular network adapter. :param network_interface: string The network adapter name. """""" speed = get_link_speed(network_interface) if speed in NETWORK_ADAPTER_SYSCTLS: status_set('maintenance', 'Tuning device {}'.format( network_interface)) sysctl_file = os.path.join( os.sep, 'etc', 'sysctl.d', '51-ceph-osd-charm-{}.conf'.format(network_interface)) try: log(""Saving sysctl_file: {} values: {}"".format( sysctl_file, NETWORK_ADAPTER_SYSCTLS[speed]), level=DEBUG) save_sysctls(sysctl_dict=NETWORK_ADAPTER_SYSCTLS[speed], save_location=sysctl_file) except IOError as e: log(""Write to /etc/sysctl.d/51-ceph-osd-charm-{} "" ""failed. {}"".format(network_interface, e.message), level=ERROR) try: # Apply the settings log(""Applying sysctl settings"", level=DEBUG) subprocess.check_output([""sysctl"", ""-p"", sysctl_file]) except subprocess.CalledProcessError as err: log('sysctl -p {} failed with error {}'.format(sysctl_file, err.output), level=ERROR) else: log(""No settings found for network adapter: {}"".format( network_interface), level=DEBUG) def get_link_speed(network_interface): """""" This will find the link speed for a given network device. Returns None if an error occurs. :param network_interface: string The network adapter interface. :return: LinkSpeed """""" speed_path = os.path.join(os.sep, 'sys', 'class', 'net', network_interface, 'speed') # I'm not sure where else we'd check if this doesn't exist if not os.path.exists(speed_path): return LinkSpeed[""UNKNOWN""] try: with open(speed_path, 'r') as sysfs: nic_speed = sysfs.readlines() # Did we actually read anything? if not nic_speed: return LinkSpeed[""UNKNOWN""] # Try to find a sysctl match for this particular speed for name, speed in LinkSpeed.items(): if speed == int(nic_speed[0].strip()): return speed # Default to UNKNOWN if we can't find a match return LinkSpeed[""UNKNOWN""] except IOError as e: log(""Unable to open {path} because of error: {error}"".format( path=speed_path, error=e.message), level='error') return LinkSpeed[""UNKNOWN""] def persist_settings(settings_dict): # Write all settings to /etc/hdparm.conf """""" This will persist the hard drive settings to the /etc/hdparm.conf file The settings_dict should be in the form of {""uuid"": {""key"":""value""}} :param settings_dict: dict of settings to save """""" hdparm_path = os.path.join(os.sep, 'etc', 'hdparm.conf') try: with open(hdparm_path, 'w') as hdparm: hdparm.write(render_template('hdparm.conf', settings_dict)) except IOError as err: log(""Unable to open {path} because of error: {error}"".format( path=hdparm_path, error=err.message), level=ERROR) def set_max_sectors_kb(dev_name, max_sectors_size): """""" This function sets the max_sectors_kb size of a given block device. :param dev_name: Name of the block device to query :param max_sectors_size: int of the max_sectors_size to save """""" max_sectors_kb_path = os.path.join('sys', 'block', dev_name, 'queue', 'max_sectors_kb') try: with open(max_sectors_kb_path, 'w') as f: f.write(max_sectors_size) except IOError as e: log('Failed to write max_sectors_kb to {}. Error: {}'.format( max_sectors_kb_path, e.message), level=ERROR) def get_max_sectors_kb(dev_name): """""" This function gets the max_sectors_kb size of a given block device. :param dev_name: Name of the block device to query :return: int which is either the max_sectors_kb or 0 on error. """""" max_sectors_kb_path = os.path.join('sys', 'block', dev_name, 'queue', 'max_sectors_kb') # Read in what Linux has set by default if os.path.exists(max_sectors_kb_path): try: with open(max_sectors_kb_path, 'r') as f: max_sectors_kb = f.read().strip() return int(max_sectors_kb) except IOError as e: log('Failed to read max_sectors_kb to {}. Error: {}'.format( max_sectors_kb_path, e.message), level=ERROR) # Bail. return 0 return 0 def get_max_hw_sectors_kb(dev_name): """""" This function gets the max_hw_sectors_kb for a given block device. :param dev_name: Name of the block device to query :return: int which is either the max_hw_sectors_kb or 0 on error. """""" max_hw_sectors_kb_path = os.path.join('sys', 'block', dev_name, 'queue', 'max_hw_sectors_kb') # Read in what the hardware supports if os.path.exists(max_hw_sectors_kb_path): try: with open(max_hw_sectors_kb_path, 'r') as f: max_hw_sectors_kb = f.read().strip() return int(max_hw_sectors_kb) except IOError as e: log('Failed to read max_hw_sectors_kb to {}. Error: {}'.format( max_hw_sectors_kb_path, e.message), level=ERROR) return 0 return 0 def set_hdd_read_ahead(dev_name, read_ahead_sectors=256): """""" This function sets the hard drive read ahead. :param dev_name: Name of the block device to set read ahead on. :param read_ahead_sectors: int How many sectors to read ahead. """""" try: # Set the read ahead sectors to 256 log('Setting read ahead to {} for device {}'.format( read_ahead_sectors, dev_name)) subprocess.check_output(['hdparm', '-a{}'.format(read_ahead_sectors), dev_name]) except subprocess.CalledProcessError as e: log('hdparm failed with error: {}'.format(e.output), level=ERROR) def get_block_uuid(block_dev): """""" This queries blkid to get the uuid for a block device. :param block_dev: Name of the block device to query. :return: The UUID of the device or None on Error. """""" try: block_info = subprocess.check_output( ['blkid', '-o', 'export', block_dev]) for tag in block_info.split('\n'): parts = tag.split('=') if parts[0] == 'UUID': return parts[1] return None except subprocess.CalledProcessError as err: log('get_block_uuid failed with error: {}'.format(err.output), level=ERROR) return None def check_max_sectors(save_settings_dict, block_dev, uuid): """""" Tune the max_hw_sectors if needed. make sure that /sys/.../max_sectors_kb matches max_hw_sectors_kb or at least 1MB for spinning disks If the box has a RAID card with cache this could go much bigger. :param save_settings_dict: The dict used to persist settings :param block_dev: A block device name: Example: /dev/sda :param uuid: The uuid of the block device """""" dev_name = None path_parts = os.path.split(block_dev) if len(path_parts) == 2: dev_name = path_parts[1] else: log('Unable to determine the block device name from path: {}'.format( block_dev)) # Play it safe and bail return max_sectors_kb = get_max_sectors_kb(dev_name=dev_name) max_hw_sectors_kb = get_max_hw_sectors_kb(dev_name=dev_name) if max_sectors_kb < max_hw_sectors_kb: # OK we have a situation where the hardware supports more than Linux is # currently requesting config_max_sectors_kb = hookenv.config('max-sectors-kb') if config_max_sectors_kb < max_hw_sectors_kb: # Set the max_sectors_kb to the config.yaml value if it is less # than the max_hw_sectors_kb log('Setting max_sectors_kb for device {} to {}'.format( dev_name, config_max_sectors_kb)) save_settings_dict[ ""drive_settings""][uuid][ ""read_ahead_sect""] = config_max_sectors_kb set_max_sectors_kb(dev_name=dev_name, max_sectors_size=config_max_sectors_kb) else: # Set to the max_hw_sectors_kb log('Setting max_sectors_kb for device {} to {}'.format( dev_name, max_hw_sectors_kb)) save_settings_dict[ ""drive_settings""][uuid]['read_ahead_sect'] = max_hw_sectors_kb set_max_sectors_kb(dev_name=dev_name, max_sectors_size=max_hw_sectors_kb) else: log('max_sectors_kb match max_hw_sectors_kb. No change needed for ' 'device: {}'.format(block_dev)) def tune_dev(block_dev): """""" Try to make some intelligent decisions with HDD tuning. Future work will include optimizing SSDs. This function will change the read ahead sectors and the max write sectors for each block device. :param block_dev: A block device name: Example: /dev/sda """""" uuid = get_block_uuid(block_dev) if uuid is None: log('block device {} uuid is None. Unable to save to ' 'hdparm.conf'.format(block_dev), level=DEBUG) save_settings_dict = {} log('Tuning device {}'.format(block_dev)) status_set('maintenance', 'Tuning device {}'.format(block_dev)) set_hdd_read_ahead(block_dev) save_settings_dict[""drive_settings""] = {} save_settings_dict[""drive_settings""][uuid] = {} save_settings_dict[""drive_settings""][uuid]['read_ahead_sect'] = 256 check_max_sectors(block_dev=block_dev, save_settings_dict=save_settings_dict, uuid=uuid) persist_settings(settings_dict=save_settings_dict) status_set('maintenance', 'Finished tuning device {}'.format(block_dev)) def ceph_user(): if get_version() > 1: return 'ceph' else: return ""root"" class CrushLocation(object): def __init__(self, name, identifier, host, rack, row, datacenter, chassis, root): self.name = name self.identifier = identifier self.host = host self.rack = rack self.row = row self.datacenter = datacenter self.chassis = chassis self.root = root def __str__(self): return ""name: {} id: {} host: {} rack: {} row: {} datacenter: {} "" \ ""chassis :{} root: {}"".format(self.name, self.identifier, self.host, self.rack, self.row, self.datacenter, self.chassis, self.root) def __eq__(self, other): return not self.name < other.name and not other.name < self.name def __ne__(self, other): return self.name < other.name or other.name < self.name def __gt__(self, other): return self.name > other.name def __ge__(self, other): return not self.name < other.name def __le__(self, other): return self.name < other.name def get_osd_tree(service): """""" Returns the current osd map in JSON. :return: List. :raise: ValueError if the monmap fails to parse. Also raises CalledProcessError if our ceph command fails """""" try: tree = subprocess.check_output( ['ceph', '--id', service, 'osd', 'tree', '--format=json']) try: json_tree = json.loads(tree) crush_list = [] # Make sure children are present in the json if not json_tree['nodes']: return None child_ids = json_tree['nodes'][0]['children'] for child in json_tree['nodes']: if child['id'] in child_ids: crush_list.append( CrushLocation( name=child.get('name'), identifier=child['id'], host=child.get('host'), rack=child.get('rack'), row=child.get('row'), datacenter=child.get('datacenter'), chassis=child.get('chassis'), root=child.get('root') ) ) return crush_list except ValueError as v: log(""Unable to parse ceph tree json: {}. Error: {}"".format( tree, v.message)) raise except subprocess.CalledProcessError as e: log(""ceph osd tree command failed with message: {}"".format( e.message)) raise def get_local_osd_ids(): """""" This will list the /var/lib/ceph/osd/* directories and try to split the ID off of the directory name and return it in a list :return: list. A list of osd identifiers :raise: OSError if something goes wrong with listing the directory. """""" osd_ids = [] osd_path = os.path.join(os.sep, 'var', 'lib', 'ceph', 'osd') if os.path.exists(osd_path): try: dirs = os.listdir(osd_path) for osd_dir in dirs: osd_id = osd_dir.split('-')[1] if _is_int(osd_id): osd_ids.append(osd_id) except OSError: raise return osd_ids def get_local_mon_ids(): """""" This will list the /var/lib/ceph/mon/* directories and try to split the ID off of the directory name and return it in a list :return: list. A list of monitor identifiers :raise: OSError if something goes wrong with listing the directory. """""" mon_ids = [] mon_path = os.path.join(os.sep, 'var', 'lib', 'ceph', 'mon') if os.path.exists(mon_path): try: dirs = os.listdir(mon_path) for mon_dir in dirs: # Basically this takes everything after ceph- as the monitor ID match = re.search('ceph-(?P<mon_id>.*)', mon_dir) if match: mon_ids.append(match.group('mon_id')) except OSError: raise return mon_ids def _is_int(v): """"""Return True if the object v can be turned into an integer."""""" try: int(v) return True except ValueError: return False def get_version(): """"""Derive Ceph release from an installed package."""""" import apt_pkg as apt cache = apt_cache() package = ""ceph"" try: pkg = cache[package] except: # the package is unknown to the current apt cache. e = 'Could not determine version of package with no installation ' \ 'candidate: %s' % package error_out(e) if not pkg.current_ver: # package is known, but no version is currently installed. e = 'Could not determine version of uninstalled package: %s' % package error_out(e) vers = apt.upstream_version(pkg.current_ver.ver_str) # x.y match only for 20XX.X # and ignore patch level for other packages match = re.match('^(\d+)\.(\d+)', vers) if match: vers = match.group(0) return float(vers) def error_out(msg): log(""FATAL ERROR: %s"" % msg, level=ERROR) sys.exit(1) def is_quorum(): asok = ""/var/run/ceph/ceph-mon.{}.asok"".format(get_unit_hostname()) cmd = [ ""sudo"", ""-u"", ceph_user(), ""ceph"", ""--admin-daemon"", asok, ""mon_status"" ] if os.path.exists(asok): try: result = json.loads(subprocess.check_output(cmd)) except subprocess.CalledProcessError: return False except ValueError: # Non JSON response from mon_status return False if result['state'] in QUORUM: return True else: return False else: return False def is_leader(): asok = ""/var/run/ceph/ceph-mon.{}.asok"".format(get_unit_hostname()) cmd = [ ""sudo"", ""-u"", ceph_user(), ""ceph"", ""--admin-daemon"", asok, ""mon_status"" ] if os.path.exists(asok): try: result = json.loads(subprocess.check_output(cmd)) except subprocess.CalledProcessError: return False except ValueError: # Non JSON response from mon_status return False if result['state'] == LEADER: return True else: return False else: return False def wait_for_quorum(): while not is_quorum(): log(""Waiting for quorum to be reached"") time.sleep(3) def add_bootstrap_hint(peer): asok = ""/var/run/ceph/ceph-mon.{}.asok"".format(get_unit_hostname()) cmd = [ ""sudo"", ""-u"", ceph_user(), ""ceph"", ""--admin-daemon"", asok, ""add_bootstrap_peer_hint"", peer ] if os.path.exists(asok): # Ignore any errors for this call subprocess.call(cmd) DISK_FORMATS = [ 'xfs', 'ext4', 'btrfs' ] CEPH_PARTITIONS = [ '4FBD7E29-9D25-41B8-AFD0-5EC00CEFF05D', # ceph encrypted osd data '4FBD7E29-9D25-41B8-AFD0-062C0CEFF05D', # ceph osd data '45B0969E-9B03-4F30-B4C6-B4B80CEFF106', # ceph osd journal ] def umount(mount_point): """""" This function unmounts a mounted directory forcibly. This will be used for unmounting broken hard drive mounts which may hang. If umount returns EBUSY this will lazy unmount. :param mount_point: str. A String representing the filesystem mount point :return: int. Returns 0 on success. errno otherwise. """""" libc_path = ctypes.util.find_library(""c"") libc = ctypes.CDLL(libc_path, use_errno=True) # First try to umount with MNT_FORCE ret = libc.umount(mount_point, 1) if ret < 0: err = ctypes.get_errno() if err == errno.EBUSY: # Detach from try. IE lazy umount ret = libc.umount(mount_point, 2) if ret < 0: err = ctypes.get_errno() return err return 0 else: return err return 0 def replace_osd(dead_osd_number, dead_osd_device, new_osd_device, osd_format, osd_journal, reformat_osd=False, ignore_errors=False): """""" This function will automate the replacement of a failed osd disk as much as possible. It will revoke the keys for the old osd, remove it from the crush map and then add a new osd into the cluster. :param dead_osd_number: The osd number found in ceph osd tree. Example: 99 :param dead_osd_device: The physical device. Example: /dev/sda :param osd_format: :param osd_journal: :param reformat_osd: :param ignore_errors: """""" host_mounts = mounts() mount_point = None for mount in host_mounts: if mount[1] == dead_osd_device: mount_point = mount[0] # need to convert dev to osd number # also need to get the mounted drive so we can tell the admin to # replace it try: # Drop this osd out of the cluster. This will begin a # rebalance operation status_set('maintenance', 'Removing osd {}'.format(dead_osd_number)) subprocess.check_output([ 'ceph', '--id', 'osd-upgrade', 'osd', 'out', 'osd.{}'.format(dead_osd_number)]) # Kill the osd process if it's not already dead if systemd(): service_stop('ceph-osd@{}'.format(dead_osd_number)) else: subprocess.check_output(['stop', 'ceph-osd', 'id={}'.format( dead_osd_number)]), # umount if still mounted ret = umount(mount_point) if ret < 0: raise RuntimeError('umount {} failed with error: {}'.format( mount_point, os.strerror(ret))) # Clean up the old mount point shutil.rmtree(mount_point) subprocess.check_output([ 'ceph', '--id', 'osd-upgrade', 'osd', 'crush', 'remove', 'osd.{}'.format(dead_osd_number)]) # Revoke the OSDs access keys subprocess.check_output([ 'ceph', '--id', 'osd-upgrade', 'auth', 'del', 'osd.{}'.format(dead_osd_number)]) subprocess.check_output([ 'ceph', '--id', 'osd-upgrade', 'osd', 'rm', 'osd.{}'.format(dead_osd_number)]) status_set('maintenance', 'Setting up replacement osd {}'.format( new_osd_device)) osdize(new_osd_device, osd_format, osd_journal, reformat_osd, ignore_errors) except subprocess.CalledProcessError as e: log('replace_osd failed with error: ' + e.output) def is_osd_disk(dev): try: info = subprocess.check_output(['sgdisk', '-i', '1', dev]) info = info.split(""\n"") # IGNORE:E1103 for line in info: for ptype in CEPH_PARTITIONS: sig = 'Partition GUID code: {}'.format(ptype) if line.startswith(sig): return True except subprocess.CalledProcessError: pass return False def start_osds(devices): # Scan for ceph block devices rescan_osd_devices() if cmp_pkgrevno('ceph', ""0.56.6"") >= 0: # Use ceph-disk activate for directory based OSD's for dev_or_path in devices: if os.path.exists(dev_or_path) and os.path.isdir(dev_or_path): subprocess.check_call(['ceph-disk', 'activate', dev_or_path]) def rescan_osd_devices(): cmd = [ 'udevadm', 'trigger', '--subsystem-match=block', '--action=add' ] subprocess.call(cmd) _bootstrap_keyring = ""/var/lib/ceph/bootstrap-osd/ceph.keyring"" _upgrade_keyring = ""/var/lib/ceph/osd/ceph.client.osd-upgrade.keyring"" def is_bootstrapped(): return os.path.exists(_bootstrap_keyring) def wait_for_bootstrap(): while not is_bootstrapped(): time.sleep(3) def import_osd_bootstrap_key(key): if not os.path.exists(_bootstrap_keyring): cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph-authtool', _bootstrap_keyring, '--create-keyring', '--name=client.bootstrap-osd', '--add-key={}'.format(key) ] subprocess.check_call(cmd) def import_osd_upgrade_key(key): if not os.path.exists(_upgrade_keyring): cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph-authtool', _upgrade_keyring, '--create-keyring', '--name=client.osd-upgrade', '--add-key={}'.format(key) ] subprocess.check_call(cmd) def generate_monitor_secret(): cmd = [ 'ceph-authtool', '/dev/stdout', '--name=mon.', '--gen-key' ] res = subprocess.check_output(cmd) return ""{}=="".format(res.split('=')[1].strip()) # OSD caps taken from ceph-create-keys _osd_bootstrap_caps = { 'mon': [ 'allow command osd create ...', 'allow command osd crush set ...', r'allow command auth add * osd allow\ * mon allow\ rwx', 'allow command mon getmap' ] } _osd_bootstrap_caps_profile = { 'mon': [ 'allow profile bootstrap-osd' ] } def parse_key(raw_key): # get-or-create appears to have different output depending # on whether its 'get' or 'create' # 'create' just returns the key, 'get' is more verbose and # needs parsing key = None if len(raw_key.splitlines()) == 1: key = raw_key else: for element in raw_key.splitlines(): if 'key' in element: key = element.split(' = ')[1].strip() # IGNORE:E1103 return key def get_osd_bootstrap_key(): try: # Attempt to get/create a key using the OSD bootstrap profile first key = get_named_key('bootstrap-osd', _osd_bootstrap_caps_profile) except: # If that fails try with the older style permissions key = get_named_key('bootstrap-osd', _osd_bootstrap_caps) return key _radosgw_keyring = ""/etc/ceph/keyring.rados.gateway"" def import_radosgw_key(key): if not os.path.exists(_radosgw_keyring): cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph-authtool', _radosgw_keyring, '--create-keyring', '--name=client.radosgw.gateway', '--add-key={}'.format(key) ] subprocess.check_call(cmd) # OSD caps taken from ceph-create-keys _radosgw_caps = { 'mon': ['allow rw'], 'osd': ['allow rwx'] } _upgrade_caps = { 'mon': ['allow rwx'] } def get_radosgw_key(): return get_named_key('radosgw.gateway', _radosgw_caps) _default_caps = { 'mon': ['allow rw'], 'osd': ['allow rwx'] } admin_caps = { 'mds': ['allow'], 'mon': ['allow *'], 'osd': ['allow *'] } osd_upgrade_caps = { 'mon': ['allow command ""config-key""', 'allow command ""osd tree""', 'allow command ""config-key list""', 'allow command ""config-key put""', 'allow command ""config-key get""', 'allow command ""config-key exists""', 'allow command ""osd out""', 'allow command ""osd in""', 'allow command ""osd rm""', 'allow command ""auth del""', ] } def get_upgrade_key(): return get_named_key('upgrade-osd', _upgrade_caps) def get_named_key(name, caps=None): caps = caps or _default_caps cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph', '--name', 'mon.', '--keyring', '/var/lib/ceph/mon/ceph-{}/keyring'.format( get_unit_hostname() ), 'auth', 'get-or-create', 'client.{}'.format(name), ] # Add capabilities for subsystem, subcaps in caps.iteritems(): cmd.extend([ subsystem, '; '.join(subcaps), ]) return parse_key(subprocess.check_output(cmd).strip()) # IGNORE:E1103 def upgrade_key_caps(key, caps): """""" Upgrade key to have capabilities caps """""" if not is_leader(): # Not the MON leader OR not clustered return cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph', 'auth', 'caps', key ] for subsystem, subcaps in caps.iteritems(): cmd.extend([subsystem, '; '.join(subcaps)]) subprocess.check_call(cmd) @cached def systemd(): return (lsb_release()['DISTRIB_CODENAME'] >= 'vivid') def bootstrap_monitor_cluster(secret): hostname = get_unit_hostname() path = '/var/lib/ceph/mon/ceph-{}'.format(hostname) done = '{}/done'.format(path) if systemd(): init_marker = '{}/systemd'.format(path) else: init_marker = '{}/upstart'.format(path) keyring = '/var/lib/ceph/tmp/{}.mon.keyring'.format(hostname) if os.path.exists(done): log('bootstrap_monitor_cluster: mon already initialized.') else: # Ceph >= 0.61.3 needs this for ceph-mon fs creation mkdir('/var/run/ceph', owner=ceph_user(), group=ceph_user(), perms=0o755) mkdir(path, owner=ceph_user(), group=ceph_user()) # end changes for Ceph >= 0.61.3 try: subprocess.check_call(['ceph-authtool', keyring, '--create-keyring', '--name=mon.', '--add-key={}'.format(secret), '--cap', 'mon', 'allow *']) subprocess.check_call(['ceph-mon', '--mkfs', '-i', hostname, '--keyring', keyring]) chownr(path, ceph_user(), ceph_user()) with open(done, 'w'): pass with open(init_marker, 'w'): pass if systemd(): subprocess.check_call(['systemctl', 'enable', 'ceph-mon']) service_restart('ceph-mon') else: service_restart('ceph-mon-all') except: raise finally: os.unlink(keyring) def update_monfs(): hostname = get_unit_hostname() monfs = '/var/lib/ceph/mon/ceph-{}'.format(hostname) if systemd(): init_marker = '{}/systemd'.format(monfs) else: init_marker = '{}/upstart'.format(monfs) if os.path.exists(monfs) and not os.path.exists(init_marker): # Mark mon as managed by upstart so that # it gets start correctly on reboots with open(init_marker, 'w'): pass def maybe_zap_journal(journal_dev): if is_osd_disk(journal_dev): log('Looks like {} is already an OSD data' ' or journal, skipping.'.format(journal_dev)) return zap_disk(journal_dev) log(""Zapped journal device {}"".format(journal_dev)) def get_partitions(dev): cmd = ['partx', '--raw', '--noheadings', dev] try: out = subprocess.check_output(cmd).splitlines() log(""get partitions: {}"".format(out), level=DEBUG) return out except subprocess.CalledProcessError as e: log(""Can't get info for {0}: {1}"".format(dev, e.output)) return [] def find_least_used_journal(journal_devices): usages = map(lambda a: (len(get_partitions(a)), a), journal_devices) least = min(usages, key=lambda t: t[0]) return least[1] def osdize(dev, osd_format, osd_journal, reformat_osd=False, ignore_errors=False, encrypt=False): if dev.startswith('/dev'): osdize_dev(dev, osd_format, osd_journal, reformat_osd, ignore_errors, encrypt) else: osdize_dir(dev, encrypt) def osdize_dev(dev, osd_format, osd_journal, reformat_osd=False, ignore_errors=False, encrypt=False): if not os.path.exists(dev): log('Path {} does not exist - bailing'.format(dev)) return if not is_block_device(dev): log('Path {} is not a block device - bailing'.format(dev)) return if is_osd_disk(dev) and not reformat_osd: log('Looks like {} is already an' ' OSD data or journal, skipping.'.format(dev)) return if is_device_mounted(dev): log('Looks like {} is in use, skipping.'.format(dev)) return status_set('maintenance', 'Initializing device {}'.format(dev)) cmd = ['ceph-disk', 'prepare'] # Later versions of ceph support more options if cmp_pkgrevno('ceph', '0.60') >= 0: if encrypt: cmd.append('--dmcrypt') if cmp_pkgrevno('ceph', '0.48.3') >= 0: if osd_format: cmd.append('--fs-type') cmd.append(osd_format) if reformat_osd: cmd.append('--zap-disk') cmd.append(dev) if osd_journal: least_used = find_least_used_journal(osd_journal) cmd.append(least_used) else: # Just provide the device - no other options # for older versions of ceph cmd.append(dev) if reformat_osd: zap_disk(dev) try: log(""osdize cmd: {}"".format(cmd)) subprocess.check_call(cmd) except subprocess.CalledProcessError as e: if ignore_errors: log('Unable to initialize device: {}'.format(dev), WARNING) else: log('Unable to initialize device: {}'.format(dev), ERROR) raise e def osdize_dir(path, encrypt=False): if os.path.exists(os.path.join(path, 'upstart')): log('Path {} is already configured as an OSD - bailing'.format(path)) return if cmp_pkgrevno('ceph', ""0.56.6"") < 0: log('Unable to use directories for OSDs with ceph < 0.56.6', level=ERROR) raise mkdir(path, owner=ceph_user(), group=ceph_user(), perms=0o755) chownr('/var/lib/ceph', ceph_user(), ceph_user()) cmd = [ 'sudo', '-u', ceph_user(), 'ceph-disk', 'prepare', '--data-dir', path ] if cmp_pkgrevno('ceph', '0.60') >= 0: if encrypt: cmd.append('--dmcrypt') log(""osdize dir cmd: {}"".format(cmd)) subprocess.check_call(cmd) def filesystem_mounted(fs): return subprocess.call(['grep', '-wqs', fs, '/proc/mounts']) == 0 def get_running_osds(): """"""Returns a list of the pids of the current running OSD daemons"""""" cmd = ['pgrep', 'ceph-osd'] try: result = subprocess.check_output(cmd) return result.split() except subprocess.CalledProcessError: return [] ",1190,1191
openstack%2Fproject-config~master~Id26ed8f40cc659e065c598e2e7af760e8be42419,openstack/project-config,master,Id26ed8f40cc659e065c598e2e7af760e8be42419,Get IPA buildimage POST job into healthcheck,MERGED,2016-08-05 15:42:09.000000000,2016-08-12 08:20:56.000000000,2016-08-12 08:20:56.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 7080}, {'_account_id': 10342}, {'_account_id': 14760}]","[{'number': 1, 'created': '2016-08-05 15:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7e220a2571ce2210b7a41404f903d10ce4bc95c8', 'message': ""Get IPA buildimage POST job into healthcheck\n\nThis patch adds subunit output to the end of the buildimage job so that\nheathcheck will have information on success or failure of the job.\nThis patch implements this using an exit trap, this is a temporary\nsolution until Zuul can report the success/failure of jobs directly to\nhealthcheck. This solution will only catch failures that occur during\nthe actual image build process, any errors that occur inside the scp\npublisher's will not be detected by this change.\n\nChange-Id: Id26ed8f40cc659e065c598e2e7af760e8be42419\n""}, {'number': 2, 'created': '2016-08-10 14:30:09.000000000', 'files': ['jenkins/jobs/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/51d4c78e8e22dd83920e9efa0ef42f539a4b03f5', 'message': ""Get IPA buildimage POST job into healthcheck\n\nThis patch adds subunit output to the end of the buildimage job so that\nheathcheck will have information on success or failure of the job.\nThis patch implements this using an exit trap, this is a temporary\nsolution until Zuul can report the success/failure of jobs directly to\nhealthcheck. This solution will only catch failures that occur during\nthe actual image build process, any errors that occur inside the scp\npublisher's will not be detected by this change.\n\nChange-Id: Id26ed8f40cc659e065c598e2e7af760e8be42419\n""}]",4,351806,51d4c78e8e22dd83920e9efa0ef42f539a4b03f5,17,7,2,6637,,,0,"Get IPA buildimage POST job into healthcheck

This patch adds subunit output to the end of the buildimage job so that
heathcheck will have information on success or failure of the job.
This patch implements this using an exit trap, this is a temporary
solution until Zuul can report the success/failure of jobs directly to
healthcheck. This solution will only catch failures that occur during
the actual image build process, any errors that occur inside the scp
publisher's will not be detected by this change.

Change-Id: Id26ed8f40cc659e065c598e2e7af760e8be42419
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/351806/2 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/ironic-python-agent-jobs.yaml'],1,7e220a2571ce2210b7a41404f903d10ce4bc95c8,ipa_healthcheck," JOBNAME={template-name} TRANS_START_TIME=$(date +%s) SUBUNIT_OUTPUT=testrepository.subunit ERRORS=1 VENV=$(mktemp -d) virtualenv $VENV $VENV/bin/pip install -U os-testr trap ""finish"" EXIT function finish { if [[ '$ERRORS' -eq 1 ]]; then $VENV/bin/generate-subunit $TRANS_START_TIME $SECONDS 'fail' $JOBNAME >> $SUBUNIT_OUTPUT else $VENV/bin/generate-subunit $TRANS_START_TIME $SECONDS 'success' $JOBNAME >> $SUBUNIT_OUTPUT fi gzip -9 $SUBUNIT_OUTPUT if [ ""$VENV"" != """" ] ; then rm -rf $VENV VENV="""" fi } ERRORS=0 - scp: site: 'static.openstack.org' files: - target: 'logs/$LOG_PATH' source: 'testrepository.subunit.gz' keep-hierarchy: false copy-after-failure: true",,31,0
openstack%2Fsenlin~master~I88dafcc320a94c5e550449b1784b38bbe187f307,openstack/senlin,master,I88dafcc320a94c5e550449b1784b38bbe187f307,Add a 'help' link into version list response,MERGED,2016-08-12 05:04:40.000000000,2016-08-12 08:18:46.000000000,2016-08-12 08:18:46.000000000,"[{'_account_id': 3}, {'_account_id': 8246}]","[{'number': 1, 'created': '2016-08-12 05:04:40.000000000', 'files': ['senlin/api/openstack/v1/version.py', 'senlin/api/openstack/versions.py', 'senlin/tests/unit/api/openstack/test_versions.py', 'senlin/tests/unit/api/openstack/v1/test_version.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/d767e75d829ba4b6106646f432aafd45a3ec713e', 'message': ""Add a 'help' link into version list response\n\nThe versions list response should contain a link to the API\ndocumentation so that users can find references about all APIs.\n\nChange-Id: I88dafcc320a94c5e550449b1784b38bbe187f307\n""}]",0,354530,d767e75d829ba4b6106646f432aafd45a3ec713e,6,2,1,8246,,,0,"Add a 'help' link into version list response

The versions list response should contain a link to the API
documentation so that users can find references about all APIs.

Change-Id: I88dafcc320a94c5e550449b1784b38bbe187f307
",git fetch https://review.opendev.org/openstack/senlin refs/changes/30/354530/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/api/openstack/v1/version.py', 'senlin/api/openstack/versions.py', 'senlin/tests/unit/api/openstack/test_versions.py', 'senlin/tests/unit/api/openstack/v1/test_version.py']",4,d767e75d829ba4b6106646f432aafd45a3ec713e,help-in-versions," 'rel': 'self'}, { 'href': 'http://developer.openstack.org/api-ref/clustering', 'rel': 'help',", 'rel': 'self',40,38
openstack%2Fos-brick~master~I8b73a88d4cbc4242be36b87e727dcb3461a1a8e5,openstack/os-brick,master,I8b73a88d4cbc4242be36b87e727dcb3461a1a8e5,Add connector for GPFS volumes,ABANDONED,2016-07-22 07:30:06.000000000,2016-08-12 08:15:06.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9207}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 14384}, {'_account_id': 15374}, {'_account_id': 15941}, {'_account_id': 15961}, {'_account_id': 16269}, {'_account_id': 16660}, {'_account_id': 16862}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18402}, {'_account_id': 19904}, {'_account_id': 22796}]","[{'number': 1, 'created': '2016-07-22 07:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/365946566d6b10e4fe01cf3e9f6eab21a9a8f346', 'message': 'Add connector for GPFS volumes\nThe Cinder backup manager now uses initiator connectors for\ncreating and restoring backups for all volume backends, so\nthis patch adds a connector for GPFS volumes to fix the\nbackup-create & backup-restore for the GPFS driver.\n\nChange-Id: I8b73a88d4cbc4242be36b87e727dcb3461a1a8e5\n'}, {'number': 2, 'created': '2016-07-22 08:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/91cbf63bc82b1e865dc6f59670c11cfec8765e91', 'message': 'Add connector for GPFS volumes\n\nThe Cinder backup manager now uses initiator connectors for\ncreating and restoring backups for all volume backends, so\nthis patch adds a connector for GPFS volumes to fix the\nbackup-create & backup-restore for the GPFS driver.\n\nChange-Id: I8b73a88d4cbc4242be36b87e727dcb3461a1a8e5\n'}, {'number': 3, 'created': '2016-07-28 08:07:00.000000000', 'files': ['os_brick/tests/initiator/test_connector.py', 'os_brick/initiator/connector.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e8582d421a6a700550ba7f606a3ab44bb5eda888', 'message': 'Add connector for GPFS volumes\n\nThe Cinder backup manager now uses initiator connectors for\ncreating and restoring backups for all volume backends, so\nthis patch adds a connector for GPFS volumes to fix the\nbackup-create & backup-restore for the GPFS driver.\n\nChange-Id: I8b73a88d4cbc4242be36b87e727dcb3461a1a8e5\n'}]",3,345875,e8582d421a6a700550ba7f606a3ab44bb5eda888,43,22,3,19904,,,0,"Add connector for GPFS volumes

The Cinder backup manager now uses initiator connectors for
creating and restoring backups for all volume backends, so
this patch adds a connector for GPFS volumes to fix the
backup-create & backup-restore for the GPFS driver.

Change-Id: I8b73a88d4cbc4242be36b87e727dcb3461a1a8e5
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/75/345875/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_connector.py', 'os_brick/initiator/connector.py']",2,365946566d6b10e4fe01cf3e9f6eab21a9a8f346,(detached,"GPFS = ""GPFS"" 'os_brick.initiator.connector.GPFSConnector', elif protocol == GPFS: return GPFSConnector(root_helper=root_helper, driver=driver, device_scan_attempts=device_scan_attempts, *args, **kwargs)class GPFSConnector(LocalConnector): """"""""Connector class to attach/detach File System backed volumes."""""" def __init__(self, root_helper, driver=None, *args, **kwargs): super(GPFSConnector, self).__init__(root_helper, driver=driver, *args, **kwargs) def connect_volume(self, connection_properties): if 'device_path' not in connection_properties: msg = (_(""Invalid connection_properties specified "" ""no device_path attribute"")) raise ValueError(msg) device_info = {'type': 'gpfs', 'path': connection_properties['device_path']} return device_info ",,49,0
openstack%2Ffuel-qa~stable%2Fmitaka~Idc7606f3eea73e78150dcf43755830e556c0ba89,openstack/fuel-qa,stable/mitaka,Idc7606f3eea73e78150dcf43755830e556c0ba89,[BM] Add SR-IOV support test,MERGED,2016-07-28 11:52:00.000000000,2016-08-12 08:13:50.000000000,2016-08-12 08:13:50.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 11081}, {'_account_id': 19119}, {'_account_id': 19120}, {'_account_id': 20519}]","[{'number': 1, 'created': '2016-07-28 11:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/3eab6bf86ba8fffcb04d41d18d51da71898a1e25', 'message': '[BM] Add SR-IOV support test\n\nDeploy cluster with SR-IOV enabled on\ncomputes NICs.\n\nImplements blueprint test-sriov-support\nRelated blueprint run-fuel-qa-on-baremetal\n\nChange-Id: Idc7606f3eea73e78150dcf43755830e556c0ba89\n'}, {'number': 2, 'created': '2016-07-28 14:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/55ab8a1ec9c99ce96d342dacb696e022e0a89613', 'message': '[BM] Add SR-IOV support test\n\nDeploy cluster with SR-IOV enabled on\ncomputes NICs.\n\nImplements blueprint test-sriov-support\nRelated blueprint run-fuel-qa-on-baremetal\n\nChange-Id: Idc7606f3eea73e78150dcf43755830e556c0ba89\n'}, {'number': 3, 'created': '2016-08-04 08:03:10.000000000', 'files': ['doc/base_tests.rst', 'fuelweb_test/tests/test_sriov.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/850dd08368356050a8e9303e8808cbc611932b84', 'message': '[BM] Add SR-IOV support test\n\nDeploy cluster with SR-IOV enabled on computes NICs.\n\nImplements blueprint test-sriov-support\nRelated blueprint run-fuel-qa-on-baremetal\n\nChange-Id: Idc7606f3eea73e78150dcf43755830e556c0ba89\n'}]",1,348263,850dd08368356050a8e9303e8808cbc611932b84,22,6,3,20519,,,0,"[BM] Add SR-IOV support test

Deploy cluster with SR-IOV enabled on computes NICs.

Implements blueprint test-sriov-support
Related blueprint run-fuel-qa-on-baremetal

Change-Id: Idc7606f3eea73e78150dcf43755830e556c0ba89
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/63/348263/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/base_tests.rst', 'fuelweb_test/tests/test_sriov.py']",2,3eab6bf86ba8fffcb04d41d18d51da71898a1e25,bp/test-sriov-support,"# Copyright 2016 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from proboscis import test from proboscis.asserts import assert_true from fuelweb_test import settings from fuelweb_test.helpers.decorators import log_snapshot_after_test from fuelweb_test.tests.base_test_case import TestBasic @test(groups=['sriov']) class TestSRIOV(TestBasic): def check_sriov(self, nailgun_node): nailgun_node_ifaces = self.fuel_web.client.get_node_interfaces( nailgun_node['id']) devops_node = self.fuel_web.get_devops_node_by_nailgun_node( nailgun_node) devops_sriov_macs = [i.mac_address for i in devops_node.interfaces if 'sriov' in i.features] nailgun_sriov_nics = [] devops_sriov_nics = [] for interface in nailgun_node_ifaces: if interface['mac'] in devops_sriov_macs: devops_sriov_nics.append(interface['name']) if interface['assigned_networks']: continue if 'sriov' not in interface['interface_properties']: continue sriov_available = interface['interface_properties']['sriov'][ 'available'] if sriov_available: nailgun_sriov_nics.append(interface['name']) return set(devops_sriov_nics).intersection(nailgun_sriov_nics) def enable_sriov(self, nailgun_node): nics_to_enable_sriov = self.check_sriov(nailgun_node) assert_true(nics_to_enable_sriov, 'There are no NICs with SR-IOV support on ' 'node with ID {0}!'.format(nailgun_node['id'])) node_networks = self.fuel_web.client.get_node_interfaces( nailgun_node['id']) for interface in node_networks: if interface['name'] not in nics_to_enable_sriov: continue interface['interface_properties']['sriov']['enabled'] = True interface['interface_properties']['sriov']['sriov_numvfs'] = \ interface['interface_properties']['sriov']['sriov_totalvfs'] self.fuel_web.client.put_node_interfaces( [{'id': nailgun_node['id'], 'interfaces': node_networks}]) @test(depends_on_groups=['prepare_slaves_all'], groups=['deploy_cluster_with_sriov']) @log_snapshot_after_test def deploy_cluster_with_sriov(self): """"""Deploy cluster with SR-IOV Scenario: 1. Create new environment with VLAN segmentation for Neutron 2. Verify that at least 2 SR-IOV capable nodes are present 3. Add 3 controller, 1 cinder and 3 compute nodes 4. Enable SR-IOV on compatible compute nodes 5. Run network verification 6. Deploy environment 7. Run network verification 8. Run OSTF 9. Reboot computes with SR-IOV on NICs 10. Run OSTF Duration 90m Snapshot: deploy_cluster_with_sriov """""" self.env.revert_snapshot(""ready_with_all_slaves"") assert_true(len(self.env.d_env.nodes().slaves) >= 7, 'At least 7 slaves are required for ' 'this test! But, only {0} nodes are ' 'available!'.format(self.env.d_env.nodes().slaves) ) self.show_step(1) cluster_id = self.fuel_web.create_cluster( name=self.__class__.__name__, mode=settings.DEPLOYMENT_MODE, settings={ ""net_provider"": 'neutron', ""net_segment_type"": ""vlan"" } ) self.show_step(2) nodes = self.fuel_web.client.list_nodes() sriov_nailgun_nodes = [n for n in nodes if self.check_sriov(n)] assert_true(len(sriov_nailgun_nodes) >= 2, 'At least 2 nodes with SR-IOV support are required for ' 'this test! But, only {0} nodes are ' 'available!'.format(sriov_nailgun_nodes) ) sriov_nailgun_nodes = sriov_nailgun_nodes[:2] other_n_nodes = {nodes} - {sriov_nailgun_nodes} sriov_devops_nodes = self.fuel_web.get_devops_nodes_by_nailgun_nodes( sriov_nailgun_nodes) other_devops_nodes = self.fuel_web.get_devops_nodes_by_nailgun_nodes( other_n_nodes) sriov_nodes = [d_node.name for d_node in sriov_devops_nodes] other_nodes = [d_node.name for d_node in other_devops_nodes] assert_true(len(other_nodes) >= 5, 'At least 5 other nodes are required for ' 'this test! But, only {0} nodes are ' 'available!'.format(other_nodes) ) self.show_step(3) self.fuel_web.update_nodes( cluster_id, { other_nodes[0]: ['controller'], other_nodes[1]: ['controller'], other_nodes[2]: ['controller'], other_nodes[3]: ['cinder'], other_nodes[4]: ['compute'], sriov_nodes[0]: ['compute'], sriov_nodes[1]: ['compute'] }) self.show_step(4) computes = self.fuel_web.get_nailgun_cluster_nodes_by_roles( cluster_id, ['compute'], role_status='pending_roles') computes_with_sriov_support = [n for n in computes if self.check_sriov(n)] assert_true(computes_with_sriov_support, 'There is no compute with ' 'SR-IOV support available!') for compute in computes_with_sriov_support: self.enable_sriov(compute) self.show_step(5) self.fuel_web.verify_network(cluster_id) self.show_step(6) self.fuel_web.deploy_cluster_wait(cluster_id) self.show_step(7) self.fuel_web.verify_network(cluster_id) self.show_step(8) self.fuel_web.run_ostf(cluster_id=cluster_id) self.show_step(9) self.fuel_web.warm_restart_nodes( [self.fuel_web.get_devops_node_by_nailgun_node(compute) for compute in computes_with_sriov_support], timeout=10 * 60) # Wait until OpenStack services are UP self.fuel_web.assert_os_services_ready(cluster_id) self.show_step(10) self.fuel_web.run_ostf(cluster_id=cluster_id) self.env.make_snapshot(""deploy_cluster_with_sriov"") ",,178,0
openstack%2Fproject-config~master~Ie8f21916673fd2b68207a6edf649826440d6f739,openstack/project-config,master,Ie8f21916673fd2b68207a6edf649826440d6f739,Create new project Nimble,MERGED,2016-08-10 15:25:02.000000000,2016-08-12 08:13:29.000000000,2016-08-12 08:13:28.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 6610}, {'_account_id': 11809}]","[{'number': 1, 'created': '2016-08-10 15:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7c269a01e0c1c540f9c99eb6e35fa6a5da14fb87', 'message': 'Create new project nimble\n\nNimble is an Baremetal compute nodes management service\nwhich coordinates between Openstack Ironic, Neutron,\nGlance, it focuses on standalone scenario without Nova.\n\nChange-Id: Ie8f21916673fd2b68207a6edf649826440d6f739\n'}, {'number': 2, 'created': '2016-08-10 15:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/37e6f69cbabf14cb30f2c32025ae23bf73ae6e21', 'message': 'Create new project Nimble\n\nNimble is a Baremetal compute nodes management service\nwhich coordinates between Openstack Ironic, Neutron,\nGlance, it focuses on standalone scenario without Nova.\n\nChange-Id: Ie8f21916673fd2b68207a6edf649826440d6f739\n'}, {'number': 3, 'created': '2016-08-10 23:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/04b3bdf8cc05e508dfc7e1707141e0acb97aa1e0', 'message': 'Create new project nimble\n\nNimble is an Baremetal compute nodes management service\nwhich coordinates between Openstack Ironic, Neutron,\nGlance, it focuses on standalone scenario without Nova.\n\nChange-Id: Ie8f21916673fd2b68207a6edf649826440d6f739\n'}, {'number': 4, 'created': '2016-08-10 23:00:59.000000000', 'files': ['jenkins/jobs/projects.yaml', 'gerrit/acls/openstack/nimble.config', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bb0432d379a4565a521831a5a06c423df263aec4', 'message': 'Create new project Nimble\n\nNimble is a Baremetal compute nodes management service\nwhich coordinates between Openstack Ironic, Neutron,\nGlance, it focuses on standalone scenario without Nova.\n\nChange-Id: Ie8f21916673fd2b68207a6edf649826440d6f739\n'}]",2,353575,bb0432d379a4565a521831a5a06c423df263aec4,19,5,4,6610,,,0,"Create new project Nimble

Nimble is a Baremetal compute nodes management service
which coordinates between Openstack Ironic, Neutron,
Glance, it focuses on standalone scenario without Nova.

Change-Id: Ie8f21916673fd2b68207a6edf649826440d6f739
",git fetch https://review.opendev.org/openstack/project-config refs/changes/75/353575/3 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'gerrit/acls/openstack/nimble.config', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,7c269a01e0c1c540f9c99eb6e35fa6a5da14fb87,, - name: openstack/nimble template: - name: merge-check - name: python-jobs - name: check-requirements ,,31,0
openstack%2Fproject-config~master~Ie04fbcb2bf0ea7bf05171e50cc0d79df30b2346a,openstack/project-config,master,Ie04fbcb2bf0ea7bf05171e50cc0d79df30b2346a,Move gate-tripleo-ci-centos-7-ovb-updates to experimental-tripleo,MERGED,2016-08-11 23:55:23.000000000,2016-08-12 08:12:37.000000000,2016-08-12 08:12:37.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2016-08-11 23:55:23.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b1fbb3f3ec0298e4d0fab88a2e677d03845540ba', 'message': 'Move gate-tripleo-ci-centos-7-ovb-updates to experimental-tripleo\n\nOVB jobs should only be run in tripleo pipelines, since\ntripleo-test-cloud-rh1 is the only place they can run.\n\nChange-Id: Ie04fbcb2bf0ea7bf05171e50cc0d79df30b2346a\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,354448,b1fbb3f3ec0298e4d0fab88a2e677d03845540ba,8,4,1,4162,,,0,"Move gate-tripleo-ci-centos-7-ovb-updates to experimental-tripleo

OVB jobs should only be run in tripleo pipelines, since
tripleo-test-cloud-rh1 is the only place they can run.

Change-Id: Ie04fbcb2bf0ea7bf05171e50cc0d79df30b2346a
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/48/354448/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,b1fbb3f3ec0298e4d0fab88a2e677d03845540ba,, - gate-tripleo-ci-centos-7-ovb-updates, - gate-tripleo-ci-centos-7-ovb-updates,1,1
openstack%2Ffuel-docs~master~I16ef1febd540c20e76ca4b882f0c32628a832353,openstack/fuel-docs,master,I16ef1febd540c20e76ca4b882f0c32628a832353,[Fuel Plugin SDK] Actions for existing roles in fuel-docs,MERGED,2016-08-12 07:43:09.000000000,2016-08-12 08:12:26.000000000,2016-08-12 08:06:58.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 14643}, {'_account_id': 14947}, {'_account_id': 14962}]","[{'number': 1, 'created': '2016-08-12 07:43:09.000000000', 'files': ['plugindocs/fuel-plugin-sdk-guide/create-plugin/actions-existing-roles.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/f8ae0fa7de27a6563f24c83a5602e7c2706c48ab', 'message': '[Fuel Plugin SDK] Actions for existing roles in fuel-docs\n\nMissing colon and non-latin char appears in following text\n(last character): ""Then sync the plugin tasks, execute the\nnewly defined one, and verify the results""\n\nChange-Id: I16ef1febd540c20e76ca4b882f0c32628a832353\nCloses-Bug: #1612275\n'}]",0,354562,f8ae0fa7de27a6563f24c83a5602e7c2706c48ab,14,5,1,14396,,,0,"[Fuel Plugin SDK] Actions for existing roles in fuel-docs

Missing colon and non-latin char appears in following text
(last character): ""Then sync the plugin tasks, execute the
newly defined one, and verify the results""

Change-Id: I16ef1febd540c20e76ca4b882f0c32628a832353
Closes-Bug: #1612275
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/62/354562/1 && git format-patch -1 --stdout FETCH_HEAD,['plugindocs/fuel-plugin-sdk-guide/create-plugin/actions-existing-roles.rst'],1,f8ae0fa7de27a6563f24c83a5602e7c2706c48ab,bug/1612275,"Then sync the plugin tasks, execute the newly defined one, and verify the results: actions-existing-roles/skip-core-tasks.rst ","Then sync the plugin tasks, execute the newly defined one, and verify the results actions-existing-roles/skip-core-tasks.rst",2,2
openstack%2Fsahara~master~I99675540177a75b367658ccd8b1f40584ccb15f9,openstack/sahara,master,I99675540177a75b367658ccd8b1f40584ccb15f9,Updated from global requirements,MERGED,2016-08-11 18:18:44.000000000,2016-08-12 08:10:15.000000000,2016-08-12 08:10:15.000000000,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 12038}]","[{'number': 1, 'created': '2016-08-11 18:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/e0bd4338c1dce750d883a1226fd07978021aa85f', 'message': 'Updated from global requirements\n\nChange-Id: I99675540177a75b367658ccd8b1f40584ccb15f9\n'}, {'number': 2, 'created': '2016-08-12 00:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/6d5549cfff96f9fd2b1250d72d259fb6b245cba2', 'message': 'Updated from global requirements\n\nChange-Id: I99675540177a75b367658ccd8b1f40584ccb15f9\n'}, {'number': 3, 'created': '2016-08-12 04:56:03.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara/commit/ca5986db76d46d91ec2409f599d9116ba9be2411', 'message': 'Updated from global requirements\n\nChange-Id: I99675540177a75b367658ccd8b1f40584ccb15f9\n'}]",0,354322,ca5986db76d46d91ec2409f599d9116ba9be2411,14,3,3,11131,,,0,"Updated from global requirements

Change-Id: I99675540177a75b367658ccd8b1f40584ccb15f9
",git fetch https://review.opendev.org/openstack/sahara refs/changes/22/354322/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e0bd4338c1dce750d883a1226fd07978021aa85f,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Ffuel-qa~master~If7bc6fbfd6ef41a71c6cc5c7c35338d268052484,openstack/fuel-qa,master,If7bc6fbfd6ef41a71c6cc5c7c35338d268052484,Fix nailgun nodes without sriov support generation,MERGED,2016-08-04 10:35:02.000000000,2016-08-12 08:09:12.000000000,2016-08-12 08:09:12.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 11081}, {'_account_id': 15984}, {'_account_id': 19119}]","[{'number': 1, 'created': '2016-08-04 10:35:02.000000000', 'files': ['fuelweb_test/tests/test_sriov.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/1a7faf21c68a4aa614bc7653bec8a9f5aea3908d', 'message': 'Fix nailgun nodes without sriov support generation\n\nImplements blueprint test-sriov-support\nRelated blueprint run-fuel-qa-on-baremetal\n\nChange-Id: If7bc6fbfd6ef41a71c6cc5c7c35338d268052484\n'}]",0,351112,1a7faf21c68a4aa614bc7653bec8a9f5aea3908d,10,5,1,20519,,,0,"Fix nailgun nodes without sriov support generation

Implements blueprint test-sriov-support
Related blueprint run-fuel-qa-on-baremetal

Change-Id: If7bc6fbfd6ef41a71c6cc5c7c35338d268052484
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/12/351112/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_sriov.py'],1,1a7faf21c68a4aa614bc7653bec8a9f5aea3908d,bp/test-sriov-support, sriov_n_nodes_ids = [n['id'] for n in sriov_nailgun_nodes] other_n_nodes = [n for n in nodes if n['id'] not in sriov_n_nodes_ids], other_n_nodes = {nodes} - {sriov_nailgun_nodes},2,1
openstack%2Fpython-saharaclient~master~I9c81766f73b08533ad475edb90e0d856fd3ca987,openstack/python-saharaclient,master,I9c81766f73b08533ad475edb90e0d856fd3ca987,Updated from global requirements,MERGED,2016-08-11 18:18:17.000000000,2016-08-12 08:05:33.000000000,2016-08-12 08:05:33.000000000,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 12038}]","[{'number': 1, 'created': '2016-08-11 18:18:17.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/afce6fa2271523667e45f96c7fbb1d0f4ad0b235', 'message': 'Updated from global requirements\n\nChange-Id: I9c81766f73b08533ad475edb90e0d856fd3ca987\n'}]",0,354316,afce6fa2271523667e45f96c7fbb1d0f4ad0b235,8,3,1,11131,,,0,"Updated from global requirements

Change-Id: I9c81766f73b08533ad475edb90e0d856fd3ca987
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/16/354316/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,afce6fa2271523667e45f96c7fbb1d0f4ad0b235,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Fcinder~master~Ic41b45677bc06dc7cd0af61fd0cc3896ba8e1264,openstack/cinder,master,Ic41b45677bc06dc7cd0af61fd0cc3896ba8e1264,Updated from global requirements,MERGED,2016-08-06 05:40:58.000000000,2016-08-12 08:05:17.000000000,2016-08-08 18:05:02.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10621}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 14305}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16862}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17852}, {'_account_id': 18120}, {'_account_id': 18402}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 22126}, {'_account_id': 22495}, {'_account_id': 22510}]","[{'number': 1, 'created': '2016-08-06 05:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9304aee56ad22fce82d9b8495fcd2e96933da43e', 'message': 'Updated from global requirements\n\nChange-Id: Ic41b45677bc06dc7cd0af61fd0cc3896ba8e1264\n'}, {'number': 2, 'created': '2016-08-08 04:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/460f783c0ff5f8349c3d414a77f8d5d7be9c08ce', 'message': 'Updated from global requirements\n\nChange-Id: Ic41b45677bc06dc7cd0af61fd0cc3896ba8e1264\n'}, {'number': 3, 'created': '2016-08-08 10:40:40.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c5e7a05f3db8b053299cc562f11b4fa0a2b6dc5', 'message': 'Updated from global requirements\n\nChange-Id: Ic41b45677bc06dc7cd0af61fd0cc3896ba8e1264\n'}]",0,351983,9c5e7a05f3db8b053299cc562f11b4fa0a2b6dc5,87,36,3,11131,,,0,"Updated from global requirements

Change-Id: Ic41b45677bc06dc7cd0af61fd0cc3896ba8e1264
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/351983/3 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9304aee56ad22fce82d9b8495fcd2e96933da43e,openstack/requirements,os-api-ref>=0.4.0 # Apache-2.0,os-api-ref>=0.1.0 # Apache-2.0,1,1
openstack%2Fopenstack-manuals~master~I727d4a18683356d9657963cd4309fbc58a76f440,openstack/openstack-manuals,master,I727d4a18683356d9657963cd4309fbc58a76f440,Clean up remaining references to underscore files of admin-guide,MERGED,2016-08-12 04:48:24.000000000,2016-08-12 08:03:59.000000000,2016-08-12 08:03:59.000000000,"[{'_account_id': 3}, {'_account_id': 10497}, {'_account_id': 14643}, {'_account_id': 17130}]","[{'number': 1, 'created': '2016-08-12 04:48:24.000000000', 'files': ['doc/arch-design-draft/source/design-storage.rst', 'doc/config-reference/source/common-configurations/cors.rst', 'doc/config-reference/source/block-storage/volume-encryption.rst', 'doc/user-guide/source/cli-create-and-manage-networks.rst', 'doc/ops-guide/source/ops-users.rst', 'doc/networking-guide/source/config-auto-allocation.rst', 'doc/ops-guide/source/arch-storage.rst', 'doc/config-reference/source/block-storage/drivers/emc-vnx-driver.rst', 'doc/networking-guide/source/config-lbaas.rst', 'doc/install-guide/source/horizon-next-steps.rst', 'doc/ops-guide/source/ops-user-facing-operations.rst', 'doc/config-reference/source/block-storage/drivers/dell-equallogic-driver.rst', 'doc/config-reference/source/identity/options.rst', 'doc/ha-guide/source/controller-ha-telemetry.rst', 'doc/networking-guide/source/config-ml2.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b21fcff40ee7c6f3c4876195d122182c6adf5a0a', 'message': ""Clean up remaining references to underscore files of admin-guide\n\nImplements: blueprint consistency-file-rename\n\nThe check is done by the following command:\ngrep -n admin-guide **/*.rst | sed -e 's/`__*//' | sed -e 's/\\.\\. _`//' | grep _\n\nChange-Id: I727d4a18683356d9657963cd4309fbc58a76f440\n""}]",0,354516,b21fcff40ee7c6f3c4876195d122182c6adf5a0a,8,4,1,841,,,0,"Clean up remaining references to underscore files of admin-guide

Implements: blueprint consistency-file-rename

The check is done by the following command:
grep -n admin-guide **/*.rst | sed -e 's/`__*//' | sed -e 's/\.\. _`//' | grep _

Change-Id: I727d4a18683356d9657963cd4309fbc58a76f440
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/16/354516/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/arch-design-draft/source/design-storage.rst', 'doc/config-reference/source/common-configurations/cors.rst', 'doc/config-reference/source/block-storage/volume-encryption.rst', 'doc/user-guide/source/cli-create-and-manage-networks.rst', 'doc/ops-guide/source/ops-users.rst', 'doc/networking-guide/source/config-auto-allocation.rst', 'doc/ops-guide/source/arch-storage.rst', 'doc/config-reference/source/block-storage/drivers/emc-vnx-driver.rst', 'doc/networking-guide/source/config-lbaas.rst', 'doc/install-guide/source/horizon-next-steps.rst', 'doc/ops-guide/source/ops-user-facing-operations.rst', 'doc/config-reference/source/block-storage/drivers/dell-equallogic-driver.rst', 'doc/config-reference/source/identity/options.rst', 'doc/ha-guide/source/controller-ha-telemetry.rst', 'doc/networking-guide/source/config-ml2.rst']",15,b21fcff40ee7c6f3c4876195d122182c6adf5a0a,bp/consistency-file-rename,<http://docs.openstack.org/admin-guide/networking-adv-features.html#provider-networks>`__.<http://docs.openstack.org/admin-guide/networking-adv-features.html#provider-networks>`__.,<http://docs.openstack.org/admin-guide/networking_adv-features.html#provider-networks>`__.<http://docs.openstack.org/admin-guide/networking_adv-features.html#provider-networks>`__.,30,30
openstack%2Ftricircle~master~I50a6ac8e6bba78233e063bcfc24c0a1d4663e9f6,openstack/tricircle,master,I50a6ac8e6bba78233e063bcfc24c0a1d4663e9f6,"Fix exception if no ""networks"" in server creation",MERGED,2016-08-12 07:00:09.000000000,2016-08-12 08:02:35.000000000,2016-08-12 08:02:35.000000000,"[{'_account_id': 3}, {'_account_id': 12076}, {'_account_id': 18452}, {'_account_id': 19060}]","[{'number': 1, 'created': '2016-08-12 07:00:09.000000000', 'files': ['tricircle/nova_apigw/controllers/server.py'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/1e495007ea5afd23f9ea07786fd295262f918c8b', 'message': 'Fix exception if no ""networks"" in server creation\n\n1.What is the problem:\nIf \'networks\' is not carried in the request to Nova API-GW,\nthen in current implementation, server_body[\'networks\'] will\nnot be initialized before it is used in the ""nics = [ {\'port-id\':\n_port[\'port\']} for _port in server_body[\'networks\']]"" clause,\nthen exception will happen, and return error to the API caller.\nIn fact, it should works, no exception should happen.\n\n2.What\'s need to be fixed:\nMove the server_body[\'networks\'] initialization outside\nthe ""if  \'networks\' in kw[\'server\']"" clause will ensure\nserver_body[\'networks\'] being initialized before it is used\nlater, and eliminate the exception happened in ""nics = ...\nfor _port in server_body[\'networks\']]"" clause.\n\n3.What is the purpose of this patch set:\nEliminate the unusual exception happened in server creation\n\nChange-Id: I50a6ac8e6bba78233e063bcfc24c0a1d4663e9f6\nSigned-off-by: joehuang <joehuang@huawei.com>\n'}]",0,354552,1e495007ea5afd23f9ea07786fd295262f918c8b,6,4,1,11819,,,0,"Fix exception if no ""networks"" in server creation

1.What is the problem:
If 'networks' is not carried in the request to Nova API-GW,
then in current implementation, server_body['networks'] will
not be initialized before it is used in the ""nics = [ {'port-id':
_port['port']} for _port in server_body['networks']]"" clause,
then exception will happen, and return error to the API caller.
In fact, it should works, no exception should happen.

2.What's need to be fixed:
Move the server_body['networks'] initialization outside
the ""if  'networks' in kw['server']"" clause will ensure
server_body['networks'] being initialized before it is used
later, and eliminate the exception happened in ""nics = ...
for _port in server_body['networks']]"" clause.

3.What is the purpose of this patch set:
Eliminate the unusual exception happened in server creation

Change-Id: I50a6ac8e6bba78233e063bcfc24c0a1d4663e9f6
Signed-off-by: joehuang <joehuang@huawei.com>
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/52/354552/1 && git format-patch -1 --stdout FETCH_HEAD,['tricircle/nova_apigw/controllers/server.py'],1,1e495007ea5afd23f9ea07786fd295262f918c8b,, server_body['networks'] = [] if 'networks' in kw['server']:, if 'networks' in kw['server']: server_body['networks'] = [],1,1
openstack%2Fsenlin~master~Ie622531e31fd459f0baa69e38f0f3f8390f8b63d,openstack/senlin,master,Ie622531e31fd459f0baa69e38f0f3f8390f8b63d,Rename 'ResourceBusyError' to 'EResourceBusy',MERGED,2016-08-12 06:30:55.000000000,2016-08-12 08:01:40.000000000,2016-08-12 08:01:40.000000000,"[{'_account_id': 3}, {'_account_id': 8246}]","[{'number': 1, 'created': '2016-08-12 06:30:55.000000000', 'files': ['senlin/tests/unit/engine/service/test_actions.py', 'senlin/tests/unit/engine/service/test_policies.py', 'senlin/engine/service.py', 'senlin/tests/unit/db/test_profile_api.py', 'senlin/common/exception.py', 'senlin/tests/unit/db/test_policy_api.py', 'senlin/tests/unit/engine/service/test_profiles.py', 'senlin/tests/unit/profiles/test_profile_base.py', 'senlin/tests/unit/db/test_action_api.py', 'senlin/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/f28f72f78e1228bf56582d0fcc97938b510bda53', 'message': ""Rename 'ResourceBusyError' to 'EResourceBusy'\n\nThis patch renames an exception type.\n\nChange-Id: Ie622531e31fd459f0baa69e38f0f3f8390f8b63d\n""}]",0,354545,f28f72f78e1228bf56582d0fcc97938b510bda53,6,2,1,8246,,,0,"Rename 'ResourceBusyError' to 'EResourceBusy'

This patch renames an exception type.

Change-Id: Ie622531e31fd459f0baa69e38f0f3f8390f8b63d
",git fetch https://review.opendev.org/openstack/senlin refs/changes/45/354545/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/tests/unit/engine/service/test_actions.py', 'senlin/engine/service.py', 'senlin/tests/unit/engine/service/test_policies.py', 'senlin/tests/unit/db/test_profile_api.py', 'senlin/common/exception.py', 'senlin/tests/unit/db/test_policy_api.py', 'senlin/tests/unit/engine/service/test_profiles.py', 'senlin/tests/unit/profiles/test_profile_base.py', 'senlin/tests/unit/db/test_action_api.py', 'senlin/db/sqlalchemy/api.py']",10,f28f72f78e1228bf56582d0fcc97938b510bda53,rework-exception-1," raise exception.EResourceBusy(type='policy', id=policy_id) raise exception.EResourceBusy(type='profile', id=profile_id) raise exception.EResourceBusy(type='profile', id=profile_id) raise exception.EResourceBusy(type='action', id=action_id)"," raise exception.ResourceBusyError(resource_type='policy', resource_id=policy_id) raise exception.ResourceBusyError(resource_type='profile', resource_id=profile_id) raise exception.ResourceBusyError(resource_type='profile', resource_id=profile_id) raise exception.ResourceBusyError(resource_type='action', resource_id=action_id)",19,26
openstack%2Ffuel-devops~master~I3f3732ba407f20d8397dc385e53519d868afb82f,openstack/fuel-devops,master,I3f3732ba407f20d8397dc385e53519d868afb82f,Use exit codes enum,MERGED,2016-08-11 07:22:54.000000000,2016-08-12 07:59:06.000000000,2016-08-12 07:59:06.000000000,"[{'_account_id': 3}, {'_account_id': 11969}, {'_account_id': 12867}, {'_account_id': 19011}, {'_account_id': 19119}]","[{'number': 1, 'created': '2016-08-11 07:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-devops/commit/f5a6f725cd3e985f20023f0323345a9bbf3e0f57', 'message': ""Use exit codes enum\n\nWe have musch more, than 2 possible exit codes ant\nit's difficult to remember all of it's, so switch to IntEnum (int compatible operations)\n\nChange-Id: I3f3732ba407f20d8397dc385e53519d868afb82f\n""}, {'number': 2, 'created': '2016-08-11 14:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-devops/commit/69ee4dd433193edb0e61d91f7a5287739dad382d', 'message': ""Use exit codes enum\n\nWe have musch more, than 2 possible exit codes ant\nit's difficult to remember all of it's, so switch to IntEnum (int compatible operations)\n\nChange-Id: I3f3732ba407f20d8397dc385e53519d868afb82f\n""}, {'number': 3, 'created': '2016-08-12 05:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-devops/commit/8cbe7129e4aae94c236c4e94c90946aa68c5ae3f', 'message': ""Use exit codes enum\n\nWe have much more, than 2 possible exit codes ant\nit's difficult to remember all of it's, so switch to IntEnum (int compatible operations)\n\nChange-Id: I3f3732ba407f20d8397dc385e53519d868afb82f\n""}, {'number': 4, 'created': '2016-08-12 07:24:37.000000000', 'files': ['devops/helpers/ssh_client.py', 'devops/helpers/subprocess_runner.py', 'devops/tests/helpers/test_ssh_client.py', 'devops/helpers/proc_enums.py', 'setup.py', 'devops/tests/helpers/test_subprocess_runner.py', 'devops/tests/helpers/test_exec_result.py', 'devops/helpers/exec_result.py'], 'web_link': 'https://opendev.org/openstack/fuel-devops/commit/6ea70501911d48d395203944cc5a0b85b393ac8d', 'message': ""Use exit codes enum\n\nWe have much more, than 2 possible exit codes ant\nit's difficult to remember all of it's, so switch to IntEnum (int compatible operations)\n\nChange-Id: I3f3732ba407f20d8397dc385e53519d868afb82f\n""}]",4,353872,6ea70501911d48d395203944cc5a0b85b393ac8d,22,5,4,19119,,,0,"Use exit codes enum

We have much more, than 2 possible exit codes ant
it's difficult to remember all of it's, so switch to IntEnum (int compatible operations)

Change-Id: I3f3732ba407f20d8397dc385e53519d868afb82f
",git fetch https://review.opendev.org/openstack/fuel-devops refs/changes/72/353872/2 && git format-patch -1 --stdout FETCH_HEAD,"['devops/helpers/ssh_client.py', 'devops/helpers/subprocess_runner.py', 'devops/helpers/proc_enums.py', 'setup.py', 'devops/helpers/exec_result.py', 'devops/tests/helpers/test_exec_result.py']",6,f5a6f725cd3e985f20023f0323345a9bbf3e0f57,,"from devops.helpers.proc_enums import ExitCodes self.assertEqual(exec_result.exit_code, 78) 'exit_code={exit_code!s})'.format( exit_code=ExitCodes.EX_CONFIG '\n\texit_code={exit_code!s}\n)'.format( exit_code=ExitCodes.EX_CONFIG hash((ExecResult, cmd, '', '', ExitCodes.EX_CONFIG)) self.assertEqual(exec_result.exit_code, 78)"," self.assertEqual(exec_result.exit_code, -1) 'exit_code={exit_code})'.format( exit_code=-1 '\n\texit_code={exit_code}\n)'.format( exit_code=-1 hash((ExecResult, cmd, '', '', -1)) self.assertEqual(exec_result.exit_code, -1)",146,22
openstack%2Fneutron~master~Iae4b682c0774e749eb48cde67cd9748d7dfe053c,openstack/neutron,master,Iae4b682c0774e749eb48cde67cd9748d7dfe053c,Pass timeout in milliseconds to timer_wait,MERGED,2016-07-25 18:10:57.000000000,2016-08-12 07:53:38.000000000,2016-07-28 01:20:34.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 5756}, {'_account_id': 7448}, {'_account_id': 10237}, {'_account_id': 13717}, {'_account_id': 15752}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-07-25 18:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/439021152f3eb798366af02f281835acdb7b1df9', 'message': 'Pass timeout in milliseconds to timer_wait\n\nThe OVS Python library expects milliseconds to be passed to\ntimer_wait and we were passing the value in seconds.\n\nChange-Id: Iae4b682c0774e749eb48cde67cd9748d7dfe053c\n'}, {'number': 2, 'created': '2016-07-25 18:35:21.000000000', 'files': ['neutron/agent/ovsdb/native/connection.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/47fd1bc31560e47e5b4648e879a8cf92dfceeb4e', 'message': ""Pass timeout in milliseconds to timer_wait\n\nThe OVS Python library expects milliseconds to be passed to\ntimer_wait and we were passing the value in seconds. This\njust means that the poll() wakes up more often than it needs\nto. Changing this probably improves performance a little, but\ndoesn't change any user observable behavior.\n\nChange-Id: Iae4b682c0774e749eb48cde67cd9748d7dfe053c\n""}]",8,346973,47fd1bc31560e47e5b4648e879a8cf92dfceeb4e,30,9,2,5756,,,0,"Pass timeout in milliseconds to timer_wait

The OVS Python library expects milliseconds to be passed to
timer_wait and we were passing the value in seconds. This
just means that the poll() wakes up more often than it needs
to. Changing this probably improves performance a little, but
doesn't change any user observable behavior.

Change-Id: Iae4b682c0774e749eb48cde67cd9748d7dfe053c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/346973/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovsdb/native/connection.py'],1,439021152f3eb798366af02f281835acdb7b1df9,fix_timeout_val, self.poller.timer_wait(self.timeout * 1000), self.poller.timer_wait(self.timeout),1,1
openstack%2Fsenlin~master~Iaaacbac9d931a9deb3cfb53afaa4d1c16e84508e,openstack/senlin,master,Iaaacbac9d931a9deb3cfb53afaa4d1c16e84508e,Use constraints in tox.ini,MERGED,2016-08-12 01:27:15.000000000,2016-08-12 07:52:35.000000000,2016-08-12 07:52:35.000000000,"[{'_account_id': 3}, {'_account_id': 7404}, {'_account_id': 8246}]","[{'number': 1, 'created': '2016-08-12 01:27:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin/commit/dce41dd2f5aa20f3e5d89cbb831361ad715128bc', 'message': 'Use constraints in tox.ini\n\nAs per email [1] from Andreas, we can add upper constraints on packages\nused now.\n\n[1] http://openstack.markmail.org/thread/a4l7tokbotwqvuoh\n\nChange-Id: Iaaacbac9d931a9deb3cfb53afaa4d1c16e84508e\n'}]",0,354473,dce41dd2f5aa20f3e5d89cbb831361ad715128bc,7,3,1,8246,,,0,"Use constraints in tox.ini

As per email [1] from Andreas, we can add upper constraints on packages
used now.

[1] http://openstack.markmail.org/thread/a4l7tokbotwqvuoh

Change-Id: Iaaacbac9d931a9deb3cfb53afaa4d1c16e84508e
",git fetch https://review.opendev.org/openstack/senlin refs/changes/73/354473/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dce41dd2f5aa20f3e5d89cbb831361ad715128bc,tox-with-constraints,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} rm -rf doc/build,install_command = pip install {opts} {packages} rm -rf doc/build api-ref/build sphinx-build -W -b html api-ref/source api-ref/build/html# options below are needed by CI scripts for test and publish # the install_command can be dropped when upstream infra supports constraints install_command = pip install -U --force-reinstall {opts} {packages},2,6
openstack%2Fsenlin~master~Ic729d7c50409f7be429da54a0e0ae9220a3b3b15,openstack/senlin,master,Ic729d7c50409f7be429da54a0e0ae9220a3b3b15,Fix stack profile waiting operation,MERGED,2016-08-11 06:20:25.000000000,2016-08-12 07:47:08.000000000,2016-08-12 07:47:08.000000000,"[{'_account_id': 3}, {'_account_id': 8246}]","[{'number': 1, 'created': '2016-08-11 06:20:25.000000000', 'files': ['senlin/profiles/os/heat/stack.py', 'senlin/tests/unit/profiles/test_heat_stack.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/82380ff91c0d5412d38c0381579b6dc443c4c4d0', 'message': 'Fix stack profile waiting operation\n\nThis patch fixes the waiting operation in the heat stack profile, it\nalso fixes the exception catching logic.\n\nChange-Id: Ic729d7c50409f7be429da54a0e0ae9220a3b3b15\n'}]",0,353849,82380ff91c0d5412d38c0381579b6dc443c4c4d0,6,2,1,8246,,,0,"Fix stack profile waiting operation

This patch fixes the waiting operation in the heat stack profile, it
also fixes the exception catching logic.

Change-Id: Ic729d7c50409f7be429da54a0e0ae9220a3b3b15
",git fetch https://review.opendev.org/openstack/senlin refs/changes/49/353849/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/os/heat/stack.py', 'senlin/tests/unit/profiles/test_heat_stack.py']",2,82380ff91c0d5412d38c0381579b6dc443c4c4d0,fix-stack-waiting,"import six from senlin.common import exception node_obj.name = 'stack_node' props = self.spec['properties'] call_args = { 'stack_name': 'stack_node', 'template': props['template'], 'timeout_mins': props['timeout'], 'disable_rollback': props['disable_rollback'], 'parameters': props['parameters'], 'files': props['files'], 'environment': props['environment'], } profile.hc.validate_template.assert_called_once_with(**call_args) def test_do_validate_fails(self): profile.hc = mock.Mock() profile.hc.validate_template = mock.Mock( side_effect=exception.InternalError(code=400, message='Boom')) node_obj = mock.Mock() node_obj.name = 'stack_node' ex = self.assertRaises(exception.InvalidSpec, profile.do_validate, node_obj) props = self.spec['properties'] call_args = { 'stack_name': 'stack_node', 'template': props['template'], 'timeout_mins': props['timeout'], 'disable_rollback': props['disable_rollback'], 'parameters': props['parameters'], 'files': props['files'], 'environment': props['environment'], } profile.hc.validate_template.assert_called_once_with(**call_args) self.assertEqual('Failed in validating template: Boom', six.text_type(ex)) def test_do_create_failed_create(self): profile = stack.StackProfile('t', self.spec) profile.hc = mock.Mock() test_stack = mock.Mock() test_stack.name = 'test_stack' profile.hc.stack_create = mock.Mock( side_effect=exception.InternalError(code=400, message='Too Bad')) # do it res = profile.do_create(test_stack) # assertions call_args = { 'stack_name': mock.ANY, 'template': self.spec['properties']['template'], 'timeout_mins': self.spec['properties']['timeout'], 'disable_rollback': self.spec['properties']['disable_rollback'], 'parameters': self.spec['properties']['parameters'], 'files': self.spec['properties']['files'], 'environment': self.spec['properties']['environment'], } self.assertIsNone(res) profile.hc.stack_create.assert_called_once_with(**call_args) self.assertEqual(0, profile.hc.wait_for_stack.call_count) def test_do_create_failed_wait(self): del self.spec['properties']['timeout'] test_stack.name = 'test_stack' fake_stack = mock.Mock(id='FAKE_ID') profile.hc.stack_create = mock.Mock(return_value=fake_stack) profile.hc.wait_for_stack = mock.Mock( side_effect=exception.InternalError(code=400, message='Timeout')) # do it res = profile.do_create(test_stack) # assertions self.assertIsNone(res) kwargs = { 'stack_name': mock.ANY, 'template': self.spec['properties']['template'], 'timeout_mins': None, 'disable_rollback': self.spec['properties']['disable_rollback'], 'parameters': self.spec['properties']['parameters'], 'files': self.spec['properties']['files'], 'environment': self.spec['properties']['environment'], } profile.hc.stack_create.assert_called_once_with(**kwargs) profile.hc.wait_for_stack.assert_called_once_with( 'FAKE_ID', 'CREATE_COMPLETE', timeout=None) def test_do_delete(self): profile = stack.StackProfile('t', self.spec) test_stack = mock.Mock(physical_id='FAKE_ID') profile.hc = mock.Mock() self.assertTrue(res) profile.hc.stack_delete.assert_called_once_with('FAKE_ID', True) profile.hc.wait_for_stack_delete.assert_called_once_with('FAKE_ID') def test_do_delete_failed_deletion(self): profile = stack.StackProfile('t', self.spec) test_stack = mock.Mock(physical_id='FAKE_ID') profile.hc = mock.Mock() profile.hc.stack_delete = mock.Mock( side_effect=exception.InternalError(code=400, message='Boom')) # do it res = profile.do_delete(test_stack) # assertions self.assertFalse(res) profile.hc.stack_delete.assert_called_once_with('FAKE_ID', True) self.assertEqual(0, profile.hc.wait_for_stack_delete.call_count) def test_do_delete_failed_timeout(self): profile = stack.StackProfile('t', self.spec) test_stack = mock.Mock(physical_id='FAKE_ID') profile.hc = mock.Mock() profile.hc.wait_for_stack_delete = mock.Mock( side_effect=exception.InternalError(code=400, message='Boom')) # do it res = profile.do_delete(test_stack) # assertions self.assertFalse(res) profile.hc = mock.Mock() profile.hc.wait_for_stack.assert_called_once_with( 'FAKE_ID', 'UPDATE_COMPLETE', timeout=3600) self.assertFalse(res) profile.hc.wait_for_stack.assert_called_once_with( 'FAKE_ID', 'UPDATE_COMPLETE', timeout=3600) res = profile.do_update(stack_obj, new_profile) self.assertTrue(res) profile.hc.wait_for_stack.assert_called_once_with( 'FAKE_ID', 'UPDATE_COMPLETE', timeout=3600) def test_do_update_with_timeout_value(self): self.assertTrue(res) profile.hc.wait_for_stack.assert_called_once_with( 'FAKE_ID', 'UPDATE_COMPLETE', timeout=3600) self.assertTrue(res) profile.hc.wait_for_stack.assert_called_once_with( 'FAKE_ID', 'UPDATE_COMPLETE', timeout=3600) self.assertTrue(res) profile.hc.wait_for_stack.assert_called_once_with( 'FAKE_ID', 'UPDATE_COMPLETE', timeout=3600) self.assertTrue(res) profile.hc.wait_for_stack.assert_called_once_with( 'FAKE_ID', 'UPDATE_COMPLETE', timeout=3600) profile.hc.stack_update = mock.Mock( side_effect=exception.InternalError(code=400, message='Failed')) self.assertEqual(0, profile.hc.wait_for_stack.call_count) def test_do_update_timeout(self): profile = stack.StackProfile('t', self.spec) profile.hc = mock.Mock() profile.hc.wait_for_stack = mock.Mock( side_effect=exception.InternalError(code=400, message='Failed')) stack_obj = mock.Mock(physical_id='FAKE_ID') new_spec = copy.deepcopy(self.spec) new_spec['properties']['environment'] = {""new"": ""env1""} new_profile = stack.StackProfile('u', new_spec) res = profile.do_update(stack_obj, new_profile) self.assertEqual(False, res) profile.hc.stack_update.assert_called_once_with( 'FAKE_ID', environment={""new"": ""env1""}) profile.hc.wait_for_stack.assert_called_once_with( 'FAKE_ID', 'UPDATE_COMPLETE', timeout=3600) profile.hc.stack_check.assert_called_once_with('FAKE_ID') profile.hc.wait_for_stack.assert_called_once_with( 'FAKE_ID', 'CHECK_COMPLETE', timeout=3600) def test_do_check_no_physical_id(self): node_obj = mock.Mock(physical_id=None) self.assertFalse(res) def test_do_check_failed_checking(self): node_obj = mock.Mock(physical_id='FAKE_ID') profile = stack.StackProfile('t', self.spec) profile.hc = mock.Mock() profile.hc.stack_check = mock.Mock( side_effect=exception.InternalError(code=400, message='BOOM')) res = profile.do_check(node_obj) self.assertFalse(res) profile.hc.stack_check.assert_called_once_with('FAKE_ID') self.assertEqual(0, profile.hc.wait_for_stack.call_count) profile.hc.wait_for_stack = mock.Mock( side_effect=exception.InternalError(code=400, message='BOOM')) self.assertFalse(res) profile.hc.stack_check.assert_called_once_with('FAKE_ID') profile.hc.wait_for_stack.assert_called_once_with( 'FAKE_ID', 'CHECK_COMPLETE', timeout=3600)"," node_obj.name = 'test_stack' self.assertTrue(profile.hc.stacks.validate.called) def test_check_action_complete(self): # Check 'IN_PROGRESS' Status Path test_stack = mock.Mock() fake_action = 'FAKE' fake_stack = mock.Mock() profile.hc = mock.MagicMock() fake_stack.status = 'FAKE_IN_PROGRESS' profile.hc.stack_get = mock.MagicMock(return_value=fake_stack) self.assertFalse(profile._check_action_complete(test_stack, fake_action)) self.assertTrue(profile.hc.stack_get.called) # Check 'COMPLETE' Status Path fake_stack.status = 'FAKE_COMPLETE' self.assertTrue(profile._check_action_complete(test_stack, fake_action)) self.assertEqual(2, profile.hc.stack_get.call_count) profile._check_action_complete = mock.Mock(return_value=True) self.assertEqual('FAKE_ID', profile.stack_id) profile._check_action_complete = mock.Mock(return_value=True) def test_do_delete(self): test_stack.physical_id = 'FAKE_ID' profile._check_action_complete = mock.Mock(return_value=True) profile.hc.stack_delete = mock.Mock() self.assertEqual(True, res) profile.hc = mock.Mock() mock_check = self.patchobject(profile, '_check_action_complete', return_value=True) profile.hc.stack_update = mock.Mock() mock_check.assert_called_once_with(test_stack, 'UPDATE') self.assertEqual(True, res) profile.hc.stack_update = mock.Mock() mock_check = self.patchobject(profile, '_check_action_complete', return_value=True) mock_check.assert_called_once_with(stack_obj, 'UPDATE') profile.hc.stack_update = mock.Mock() mock_check = self.patchobject(profile, '_check_action_complete', return_value=True) profile.do_update(stack_obj, new_profile) mock_check.assert_called_once_with(stack_obj, 'UPDATE') def test_do_update_timeout(self): profile.hc.stack_update = mock.Mock() mock_check = self.patchobject(profile, '_check_action_complete', return_value=True) self.assertEqual(True, res) mock_check.assert_called_once_with(stack_obj, 'UPDATE') profile.hc.stack_update = mock.Mock() mock_check = self.patchobject(profile, '_check_action_complete', return_value=True) self.assertEqual(True, res) mock_check.assert_called_once_with(stack_obj, 'UPDATE') profile.hc.stack_update = mock.Mock() mock_check = self.patchobject(profile, '_check_action_complete', return_value=True) self.assertEqual(True, res) mock_check.assert_called_once_with(stack_obj, 'UPDATE') profile.hc.stack_update = mock.Mock() mock_check = self.patchobject(profile, '_check_action_complete', return_value=True) self.assertEqual(True, res) mock_check.assert_called_once_with(stack_obj, 'UPDATE') profile.hc.stack_update = mock.Mock() profile.hc.stack_update.side_effect = Exception('Stack update failed.') fake_stack = mock.Mock(status='CHECK_IN_PROGRESS') fake_stack_complete = mock.Mock(status='CHECK_COMPLETE') profile.hc.stack_get = mock.Mock( side_effect=[fake_stack, fake_stack, fake_stack_complete]) self.assertEqual(3, profile.hc.stack_get.call_count) fake_stack.check.assert_called_once_with(profile.hc.session) def test_do_check_failed_get(self): node_obj = mock.Mock(physical_id='FAKE_ID') profile.hc = mock.Mock() profile.hc.stack_get.side_effect = Exception('Stack not found.') res = profile.do_check(node_obj) self.assertEqual(False, res) profile.hc.stack_get.assert_called_once_with('FAKE_ID') def test_do_check_failed_in_check(self): node_obj = mock.Mock(physical_id='FAKE_ID') fake_stack = mock.Mock() fake_stack.check = mock.Mock(side_effect=Exception('Not supported.')) profile = stack.StackProfile('t', self.spec) profile.hc = mock.Mock() profile.hc.stack_get = mock.Mock(return_value=fake_stack) self.assertEqual(False, res) profile.hc.stack_get.assert_called_once_with('FAKE_ID') fake_stack.check.assert_called_once_with(profile.hc.session) fake_stack = mock.Mock() fake_stack.check = mock.Mock(status='CHECK_IN_PROGRESS') fake_stack_failed = mock.Mock(status='CHECK_FAILED') profile.hc.stack_get = mock.Mock( side_effect=[fake_stack, fake_stack_failed]) self.assertEqual(False, res) profile.hc.stack_get.assert_called_once_with('FAKE_ID') fake_stack.check.assert_called_once_with(profile.hc.session)",261,175
openstack%2Fhorizon~master~Iee293d0346349916d07d10388437c0e424de59a8,openstack/horizon,master,Iee293d0346349916d07d10388437c0e424de59a8,Switches to using oslo_log for all logging purposes.,ABANDONED,2016-08-12 07:36:28.000000000,2016-08-12 07:45:27.000000000,,[{'_account_id': 12800}],"[{'number': 1, 'created': '2016-08-12 07:36:28.000000000', 'files': ['horizon/tables/base.py', 'openstack_dashboard/dashboards/admin/networks/tables.py', 'openstack_dashboard/dashboards/project/overview/tests.py', 'openstack_dashboard/dashboards/admin/images/views.py', 'openstack_dashboard/api/keystone.py', 'horizon/base.py', 'horizon/exceptions.py', 'openstack_dashboard/dashboards/admin/networks/subnets/tables.py', 'horizon/tables/actions.py', 'openstack_dashboard/dashboards/admin/defaults/workflows.py', 'horizon/middleware/operation_log.py', 'horizon/tables/formset.py', 'openstack_dashboard/dashboards/project/instances/console.py', 'openstack_dashboard/dashboards/project/instances/views.py', 'openstack_dashboard/wsgi/django.wsgi', 'openstack_dashboard/api/glance.py', 'openstack_dashboard/api/nova.py', 'openstack_dashboard/dashboards/project/stacks/forms.py', 'openstack_dashboard/dashboards/admin/networks/forms.py', 'openstack_dashboard/dashboards/project/stacks/tabs.py', 'openstack_dashboard/dashboards/project/access_and_security/floating_ips/tables.py', 'horizon/notifications.py', 'openstack_dashboard/dashboards/project/routers/extensions/routerrules/forms.py', 'openstack_dashboard/dashboards/project/routers/extensions/extraroutes/tabs.py', 'openstack_dashboard/dashboards/project/routers/extensions/routerrules/rulemanager.py', 'openstack_dashboard/api/neutron.py', 'openstack_dashboard/dashboards/project/instances/tables.py', 'horizon/utils/file_discovery.py', 'openstack_dashboard/dashboards/identity/domains/workflows.py', 'openstack_dashboard/dashboards/identity/users/forms.py', 'openstack_dashboard/local/local_settings.py.example', 'openstack_dashboard/settings.py', 'openstack_dashboard/dashboards/admin/networks/ports/forms.py', 'openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/forms.py', 'openstack_dashboard/dashboards/project/loadbalancers/workflows.py', 'doc/source/topics/deployment.rst', 'openstack_dashboard/dashboards/project/routers/extensions/extraroutes/forms.py', 'openstack_dashboard/django_pyscss_fix/__init__.py', 'openstack_dashboard/usage/quotas.py', 'openstack_dashboard/dashboards/project/networks/forms.py', 'openstack_dashboard/dashboards/project/routers/forms.py', 'openstack_dashboard/dashboards/identity/groups/forms.py', 'openstack_dashboard/dashboards/project/routers/tables.py', 'openstack_dashboard/dashboards/identity/users/views.py', 'openstack_dashboard/dashboards/project/vpn/panel.py', 'openstack_dashboard/dashboards/identity/identity_providers/protocols/forms.py', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/dashboards/project/networks/subnets/workflows.py', 'openstack_dashboard/dashboards/project/networks/tables.py', 'horizon/workflows/base.py', 'openstack_dashboard/dashboards/project/firewalls/forms.py', 'openstack_dashboard/dashboards/project/containers/tables.py', 'openstack_dashboard/dashboards/project/routers/ports/forms.py', 'openstack_dashboard/dashboards/project/access_and_security/api_access/views.py', 'openstack_dashboard/dashboards/project/firewalls/workflows.py', 'openstack_dashboard/dashboards/admin/networks/agents/tables.py', 'requirements.txt', 'openstack_dashboard/dashboards/project/instances/workflows/create_instance.py', 'openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/tables.py', 'horizon/utils/secret_key.py', 'openstack_dashboard/utils/settings.py', 'openstack_dashboard/theme_settings.py', 'openstack_dashboard/dashboards/admin/networks/ports/tables.py', 'openstack_dashboard/dashboards/admin/networks/subnets/workflows.py', 'openstack_dashboard/dashboards/project/networks/subnets/tables.py', 'openstack_dashboard/api/rest/utils.py', 'openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/tabs.py', 'openstack_dashboard/dashboards/identity/groups/tables.py', 'openstack_dashboard/dashboards/admin/aggregates/panel.py', 'openstack_dashboard/dashboards/project/vpn/forms.py', 'openstack_dashboard/utils/metering.py', 'openstack_dashboard/dashboards/project/networks/workflows.py', 'horizon/middleware/base.py', 'openstack_dashboard/dashboards/project/networks/ports/forms.py', 'openstack_dashboard/dashboards/identity/domains/tables.py', 'openstack_dashboard/dashboards/project/firewalls/tables.py', 'openstack_dashboard/dashboards/project/loadbalancers/forms.py', 'openstack_dashboard/dashboards/project/firewalls/panel.py', 'openstack_dashboard/dashboards/project/instances/utils.py', 'openstack_dashboard/dashboards/project/loadbalancers/panel.py', 'openstack_dashboard/dashboards/project/routers/ports/tables.py', 'openstack_dashboard/dashboards/identity/projects/workflows.py', 'openstack_dashboard/dashboards/project/stacks/mappings.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/65d220166fdf6c9e9c517b850fed6d616a967ca0', 'message': 'Switches to using oslo_log for all logging purposes.\n\nThis commit switches all modules to using oslo_log.log for all logging needs,\nalongside the appropriate updates to the documentation and regarding import ordering.\n\nChange-Id: Iee293d0346349916d07d10388437c0e424de59a8\n'}]",0,354560,65d220166fdf6c9e9c517b850fed6d616a967ca0,3,1,1,12800,,,0,"Switches to using oslo_log for all logging purposes.

This commit switches all modules to using oslo_log.log for all logging needs,
alongside the appropriate updates to the documentation and regarding import ordering.

Change-Id: Iee293d0346349916d07d10388437c0e424de59a8
",git fetch https://review.opendev.org/openstack/horizon refs/changes/60/354560/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/tables/base.py', 'openstack_dashboard/dashboards/admin/networks/tables.py', 'openstack_dashboard/dashboards/project/overview/tests.py', 'openstack_dashboard/dashboards/admin/images/views.py', 'openstack_dashboard/api/keystone.py', 'horizon/base.py', 'horizon/exceptions.py', 'openstack_dashboard/dashboards/admin/networks/subnets/tables.py', 'horizon/tables/actions.py', 'openstack_dashboard/dashboards/admin/defaults/workflows.py', 'horizon/middleware/operation_log.py', 'horizon/tables/formset.py', 'openstack_dashboard/dashboards/project/instances/console.py', 'openstack_dashboard/dashboards/project/instances/views.py', 'openstack_dashboard/wsgi/django.wsgi', 'openstack_dashboard/api/glance.py', 'openstack_dashboard/api/nova.py', 'openstack_dashboard/dashboards/project/stacks/forms.py', 'openstack_dashboard/dashboards/admin/networks/forms.py', 'openstack_dashboard/dashboards/project/stacks/tabs.py', 'openstack_dashboard/dashboards/project/access_and_security/floating_ips/tables.py', 'horizon/notifications.py', 'openstack_dashboard/dashboards/project/routers/extensions/routerrules/forms.py', 'openstack_dashboard/dashboards/project/routers/extensions/extraroutes/tabs.py', 'openstack_dashboard/dashboards/project/routers/extensions/routerrules/rulemanager.py', 'openstack_dashboard/api/neutron.py', 'openstack_dashboard/dashboards/project/instances/tables.py', 'horizon/utils/file_discovery.py', 'openstack_dashboard/dashboards/identity/domains/workflows.py', 'openstack_dashboard/dashboards/identity/users/forms.py', 'openstack_dashboard/local/local_settings.py.example', 'openstack_dashboard/settings.py', 'openstack_dashboard/dashboards/admin/networks/ports/forms.py', 'openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/forms.py', 'openstack_dashboard/dashboards/project/loadbalancers/workflows.py', 'doc/source/topics/deployment.rst', 'openstack_dashboard/dashboards/project/routers/extensions/extraroutes/forms.py', 'openstack_dashboard/django_pyscss_fix/__init__.py', 'openstack_dashboard/usage/quotas.py', 'openstack_dashboard/dashboards/project/networks/forms.py', 'openstack_dashboard/dashboards/project/routers/forms.py', 'openstack_dashboard/dashboards/identity/groups/forms.py', 'openstack_dashboard/dashboards/project/routers/tables.py', 'openstack_dashboard/dashboards/identity/users/views.py', 'openstack_dashboard/dashboards/project/vpn/panel.py', 'openstack_dashboard/dashboards/identity/identity_providers/protocols/forms.py', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/dashboards/project/networks/subnets/workflows.py', 'openstack_dashboard/dashboards/project/networks/tables.py', 'horizon/workflows/base.py', 'openstack_dashboard/dashboards/project/firewalls/forms.py', 'openstack_dashboard/dashboards/project/containers/tables.py', 'openstack_dashboard/dashboards/project/routers/ports/forms.py', 'openstack_dashboard/dashboards/project/access_and_security/api_access/views.py', 'openstack_dashboard/dashboards/project/firewalls/workflows.py', 'openstack_dashboard/dashboards/admin/networks/agents/tables.py', 'requirements.txt', 'openstack_dashboard/dashboards/project/instances/workflows/create_instance.py', 'openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/tables.py', 'horizon/utils/secret_key.py', 'openstack_dashboard/utils/settings.py', 'openstack_dashboard/theme_settings.py', 'openstack_dashboard/dashboards/admin/networks/ports/tables.py', 'openstack_dashboard/dashboards/admin/networks/subnets/workflows.py', 'openstack_dashboard/dashboards/project/networks/subnets/tables.py', 'openstack_dashboard/api/rest/utils.py', 'openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/tabs.py', 'openstack_dashboard/dashboards/identity/groups/tables.py', 'openstack_dashboard/dashboards/admin/aggregates/panel.py', 'openstack_dashboard/dashboards/project/vpn/forms.py', 'openstack_dashboard/utils/metering.py', 'openstack_dashboard/dashboards/project/networks/workflows.py', 'horizon/middleware/base.py', 'openstack_dashboard/dashboards/project/networks/ports/forms.py', 'openstack_dashboard/dashboards/identity/domains/tables.py', 'openstack_dashboard/dashboards/project/firewalls/tables.py', 'openstack_dashboard/dashboards/project/loadbalancers/forms.py', 'openstack_dashboard/dashboards/project/firewalls/panel.py', 'openstack_dashboard/dashboards/project/instances/utils.py', 'openstack_dashboard/dashboards/project/loadbalancers/panel.py', 'openstack_dashboard/dashboards/project/routers/ports/tables.py', 'openstack_dashboard/dashboards/identity/projects/workflows.py', 'openstack_dashboard/dashboards/project/stacks/mappings.py']",83,65d220166fdf6c9e9c517b850fed6d616a967ca0,,from oslo_log import log as logging,import logging,179,254
openstack%2Fopenstack-manuals~stable%2Fmitaka~I0f053b61c59f104c3a38520d6c5e9501abe02c1f,openstack/openstack-manuals,stable/mitaka,I0f053b61c59f104c3a38520d6c5e9501abe02c1f,Hyphen file renaming in master guides,MERGED,2016-08-02 04:24:49.000000000,2016-08-12 07:43:19.000000000,2016-08-12 07:43:19.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 10497}, {'_account_id': 10607}, {'_account_id': 14643}, {'_account_id': 17130}]","[{'number': 1, 'created': '2016-08-02 04:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8a82344bb650c6aaee9d32af5c6d6bcb3901eadc', 'message': 'Catch up hyphen file renaming in master guides\n\nChange-Id: I0f053b61c59f104c3a38520d6c5e9501abe02c1f\n'}, {'number': 2, 'created': '2016-08-02 13:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/917b8dbb0be6b9fb4a4786668716ebe9a32f9a38', 'message': 'Catch up hyphen file renaming in master guides\n\nPart of blueprint consistency-file-rename\n\nChange-Id: I0f053b61c59f104c3a38520d6c5e9501abe02c1f\n'}, {'number': 3, 'created': '2016-08-12 04:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/da87f52a454c2be54f113060246aaf19db881ecb', 'message': 'Hyphen file renaming in master guides\n\nImplements: blueprint consistency-file-rename\n\nChange-Id: I0f053b61c59f104c3a38520d6c5e9501abe02c1f\n'}, {'number': 4, 'created': '2016-08-12 04:32:13.000000000', 'files': ['doc/install-guide/source/launch-instance-cinder.rst', 'doc/install-guide/source/launch-instance.rst', 'doc/install-guide/source/glance-verify.rst', 'doc/install-guide/source/keystone-users.rst', 'doc/networking-guide/source/adv-config-lbaas.rst', 'doc/install-guide/source/launch-instance-manila-dhss-false-option1.rst', 'doc/install-guide/source/trove-verify.rst', 'doc/networking-guide/source/adv-config-fwaas.rst', 'doc/networking-guide/source/config-ml2-plug-in.rst', 'doc/install-guide/source/launch-instance-selfservice.rst', 'doc/install-guide/source/launch-instance-manila-dhss-true-option2.rst', 'doc/install-guide/source/horizon-next-steps.rst', 'doc/install-guide/source/launch-instance-provider.rst', 'doc/networking-guide/source/intro-os-networking-features.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/663e6b2572776cd14517094e0cb9c2a27c0ad2b2', 'message': 'Hyphen file renaming in master guides\n\nImplements: blueprint consistency-file-rename\n\nChange-Id: I0f053b61c59f104c3a38520d6c5e9501abe02c1f\n'}]",4,349784,663e6b2572776cd14517094e0cb9c2a27c0ad2b2,19,6,4,841,,,0,"Hyphen file renaming in master guides

Implements: blueprint consistency-file-rename

Change-Id: I0f053b61c59f104c3a38520d6c5e9501abe02c1f
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/84/349784/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/source/launch-instance-cinder.rst', 'doc/install-guide/source/launch-instance.rst', 'doc/install-guide/source/glance-verify.rst', 'doc/install-guide/source/keystone-users.rst', 'doc/networking-guide/source/adv-config-lbaas.rst', 'doc/install-guide/source/launch-instance-manila-dhss-false-option1.rst', 'doc/install-guide/source/trove-verify.rst', 'doc/networking-guide/source/adv-config-fwaas.rst', 'doc/networking-guide/source/config-ml2-plug-in.rst', 'doc/install-guide/source/launch-instance-selfservice.rst', 'doc/install-guide/source/launch-instance-manila-dhss-true-option2.rst', 'doc/install-guide/source/horizon-next-steps.rst', 'doc/install-guide/source/launch-instance-provider.rst', 'doc/networking-guide/source/intro-os-networking-features.rst']",14,8a82344bb650c6aaee9d32af5c6d6bcb3901eadc,bp/consistency-file-rename, <http://docs.openstack.org/admin-guide/networking-adv-features.html>`_., <http://docs.openstack.org/admin-guide/networking_adv-features.html>`_.,17,17
openstack%2Fopenstack-manuals~stable%2Fliberty~Iec3d736a29e121faf2612906f1bb65a7ec4c8659,openstack/openstack-manuals,stable/liberty,Iec3d736a29e121faf2612906f1bb65a7ec4c8659,Hyphen file renaming in master guides,MERGED,2016-08-02 04:27:32.000000000,2016-08-12 07:42:32.000000000,2016-08-12 07:42:32.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 10497}, {'_account_id': 10607}, {'_account_id': 14643}, {'_account_id': 17130}]","[{'number': 1, 'created': '2016-08-02 04:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a600bcd4e4925a7f83a46d121a072ce6e6a215ac', 'message': 'Catch up hyphen file renaming in master guides\n\nNote that links to admin-guide-cloud are not touched\nas it is already redirected to the top page of the admin guide.\n\nChange-Id: Iec3d736a29e121faf2612906f1bb65a7ec4c8659\n'}, {'number': 2, 'created': '2016-08-02 13:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9287362ee779819211196bdc4c2e3c10c3538d37', 'message': 'Catch up hyphen file renaming in master guides\n\nNote that links to admin-guide-cloud are not touched\nas it is already redirected to the top page of the admin guide.\n\nPart of blueprint consistency-file-rename\n\nChange-Id: Iec3d736a29e121faf2612906f1bb65a7ec4c8659\n'}, {'number': 3, 'created': '2016-08-12 04:33:08.000000000', 'files': ['doc/install-guide/source/launch-instance.rst', 'doc/install-guide/source/glance-verify.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/641b133eb21a8e80ae0de87424a55c129eca6010', 'message': 'Hyphen file renaming in master guides\n\nNote that links to admin-guide-cloud are not touched\nas it is already redirected to the top page of the admin guide.\n\nImplements: blueprint consistency-file-rename\n\nChange-Id: Iec3d736a29e121faf2612906f1bb65a7ec4c8659\n'}]",2,349785,641b133eb21a8e80ae0de87424a55c129eca6010,18,6,3,841,,,0,"Hyphen file renaming in master guides

Note that links to admin-guide-cloud are not touched
as it is already redirected to the top page of the admin guide.

Implements: blueprint consistency-file-rename

Change-Id: Iec3d736a29e121faf2612906f1bb65a7ec4c8659
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/85/349785/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/source/launch-instance.rst', 'doc/install-guide/source/glance-verify.rst']",2,a600bcd4e4925a7f83a46d121a072ce6e6a215ac,bp/consistency-file-rename,<http://docs.openstack.org/user-guide/common/cli-manage-images.html>`__.,<http://docs.openstack.org/user-guide/common/cli_manage_images.html>`__.,2,2
openstack%2Fopenstack-manuals~stable%2Fmitaka~I5698fd015522a6cfa0620fe8ee1b68aba5cdc6b3,openstack/openstack-manuals,stable/mitaka,I5698fd015522a6cfa0620fe8ee1b68aba5cdc6b3,Imported Translations from Zanata,MERGED,2016-08-12 07:14:27.000000000,2016-08-12 07:42:28.000000000,2016-08-12 07:42:28.000000000,"[{'_account_id': 3}, {'_account_id': 10497}]","[{'number': 1, 'created': '2016-08-12 07:14:27.000000000', 'files': ['doc/install-guide/source/locale/zh_CN/LC_MESSAGES/install-guide.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/739d8d9e6cb81a10aca0068e5ba1b76541b0398d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I5698fd015522a6cfa0620fe8ee1b68aba5cdc6b3\n'}]",0,354556,739d8d9e6cb81a10aca0068e5ba1b76541b0398d,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I5698fd015522a6cfa0620fe8ee1b68aba5cdc6b3
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/56/354556/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/locale/zh_CN/LC_MESSAGES/install-guide.po'],1,739d8d9e6cb81a10aca0068e5ba1b76541b0398d,zanata/translations,"""POT-Creation-Date: 2016-08-10 12:08+0000\n""""PO-Revision-Date: 2016-08-11 10:44+0000\n"" ""Last-Translator: zzxwill <zzxwill@gmail.com>\n""msgstr """"","""POT-Creation-Date: 2016-08-10 04:11+0000\n""""PO-Revision-Date: 2016-08-10 09:31+0000\n"" ""Last-Translator: Shengjing Zhu <zsj950618@gmail.com>\n""msgstr """"",4,4
openstack%2Fopenstack-manuals~master~I0283579d7f8c4d96db3f44951dcb6c33638798d4,openstack/openstack-manuals,master,I0283579d7f8c4d96db3f44951dcb6c33638798d4,Imported Translations from Zanata,MERGED,2016-08-12 07:11:43.000000000,2016-08-12 07:42:05.000000000,2016-08-12 07:42:05.000000000,"[{'_account_id': 3}, {'_account_id': 10497}]","[{'number': 1, 'created': '2016-08-12 07:11:43.000000000', 'files': ['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po', 'doc/ops-guide/source/locale/ja/LC_MESSAGES/ops-guide.po', 'doc/common/source/locale/zh_CN/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/zh_CN/LC_MESSAGES/install-guide.po', 'doc/install-guide/source/locale/ja/LC_MESSAGES/install-guide.po', 'doc/install-guide/source/locale/fr/LC_MESSAGES/install-guide.po', 'doc/install-guide/source/locale/ko_KR/LC_MESSAGES/install-guide.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c29158ce6cb97b21a8225ec52332b3de0ad4b9f9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I0283579d7f8c4d96db3f44951dcb6c33638798d4\n'}]",0,354554,c29158ce6cb97b21a8225ec52332b3de0ad4b9f9,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I0283579d7f8c4d96db3f44951dcb6c33638798d4
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/54/354554/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po', 'doc/ops-guide/source/locale/ja/LC_MESSAGES/ops-guide.po', 'doc/common/source/locale/zh_CN/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/zh_CN/LC_MESSAGES/install-guide.po', 'doc/install-guide/source/locale/ja/LC_MESSAGES/install-guide.po', 'doc/install-guide/source/locale/fr/LC_MESSAGES/install-guide.po', 'doc/install-guide/source/locale/ko_KR/LC_MESSAGES/install-guide.po']",7,c29158ce6cb97b21a8225ec52332b3de0ad4b9f9,zanata/translations,"""POT-Creation-Date: 2016-08-12 00:46+0000\n""","""POT-Creation-Date: 2016-08-11 05:44+0000\n""msgid """" ""Any roles that you create must map to roles specified in the ``policy.json`` "" ""file in the configuration file directory of each OpenStack service. The "" ""default policy for most services grants administrative access to the "" ""``admin`` role. For more information, see the `OpenStack Operations Guide - "" ""Managing Projects and Users <http://docs.openstack.org/ops-guide/"" ""ops_projects_users.html>`__."" msgstr """" ""    OpenStack        "" ""``policy.json``     .    "" ""  ``admin``      .  "" ""  `OpenStack Operations Guide - Managing Projects and Users <http://"" ""docs.openstack.org/ops-guide/ops_projects_users.html>`__  ."" ",419,346
openstack%2Fsenlin~master~I880154d8d88ed0f2bf3401c296aba9be61f73f90,openstack/senlin,master,I880154d8d88ed0f2bf3401c296aba9be61f73f90,Add 'stack_check' operation to heat driver,MERGED,2016-08-11 03:53:53.000000000,2016-08-12 07:37:54.000000000,2016-08-12 07:37:54.000000000,"[{'_account_id': 3}, {'_account_id': 8246}]","[{'number': 1, 'created': '2016-08-11 03:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/d83ec3074bd6bd9f20250da990eea8a0c8099252', 'message': ""Add 'stack_check' operation to heat driver\n\nThe heat service provides a 'check' operation for a stack resource. This\nis now exposed from SDK as an interface function. We should support this\nin the driver layer.\n\nChange-Id: I880154d8d88ed0f2bf3401c296aba9be61f73f90\n""}, {'number': 2, 'created': '2016-08-11 06:18:47.000000000', 'files': ['senlin/tests/unit/drivers/test_heat_v1.py', 'senlin/drivers/openstack/heat_v1.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/c9a2ec5de113941442e2958c178b3b90bd7ef768', 'message': ""Add 'stack_check' operation to heat driver\n\nThe heat service provides a 'check' operation for a stack resource. This\nis now exposed from SDK as an interface function. We should support this\nin the driver layer.\n\nChange-Id: I880154d8d88ed0f2bf3401c296aba9be61f73f90\n""}]",0,353826,c9a2ec5de113941442e2958c178b3b90bd7ef768,8,2,2,8246,,,0,"Add 'stack_check' operation to heat driver

The heat service provides a 'check' operation for a stack resource. This
is now exposed from SDK as an interface function. We should support this
in the driver layer.

Change-Id: I880154d8d88ed0f2bf3401c296aba9be61f73f90
",git fetch https://review.opendev.org/openstack/senlin refs/changes/26/353826/2 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/tests/unit/drivers/test_heat_v1.py', 'senlin/drivers/openstack/heat_v1.py']",2,d83ec3074bd6bd9f20250da990eea8a0c8099252,stack-check-operation," def stack_check(self, stack_id): return self.conn.orchestration.check_stack(stack_id) @sdk.translate_exception",,8,0
openstack%2Fpython-magnumclient~master~I5bab76bf1fa476394c287ddc781f43bca2e5f035,openstack/python-magnumclient,master,I5bab76bf1fa476394c287ddc781f43bca2e5f035,Enabled magnum client to display detailed information,MERGED,2016-08-02 06:03:52.000000000,2016-08-12 07:32:23.000000000,2016-08-12 07:32:23.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 11650}, {'_account_id': 12175}, {'_account_id': 12385}]","[{'number': 1, 'created': '2016-08-02 06:03:52.000000000', 'files': ['magnumclient/v1/mservices_shell.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/41563dc1620309149945565071de9d159ce58f9b', 'message': 'Enabled magnum client to display detailed information\n\nEnabled magnum client to display following information\n - disabled\n - disabled_reason\n - created_at\n - updated_at\n\ndisabled field is not returned by the magnum server, but magnum\nserver code will be modified for, bug #1607228. Server will be\nreturning this field after fix of mentioned bug.\n\nChange-Id: I5bab76bf1fa476394c287ddc781f43bca2e5f035\nCloses-bug: #1607234\n'}]",0,349811,41563dc1620309149945565071de9d159ce58f9b,11,5,1,13912,,,0,"Enabled magnum client to display detailed information

Enabled magnum client to display following information
 - disabled
 - disabled_reason
 - created_at
 - updated_at

disabled field is not returned by the magnum server, but magnum
server code will be modified for, bug #1607228. Server will be
returning this field after fix of mentioned bug.

Change-Id: I5bab76bf1fa476394c287ddc781f43bca2e5f035
Closes-bug: #1607234
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/11/349811/1 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/v1/mservices_shell.py'],1,41563dc1620309149945565071de9d159ce58f9b,bug/1607228," columns = ('id', 'host', 'binary', 'state', 'disabled', 'disabled_reason', 'created_at', 'updated_at') "," columns = ('id', 'host', 'binary', 'state')",3,1
openstack%2Fsenlin~master~I3929a24801e0069d54160beb80f244a3f3e549f9,openstack/senlin,master,I3929a24801e0069d54160beb80f244a3f3e549f9,Add fencing support into Driver and Profile,MERGED,2016-08-10 16:00:45.000000000,2016-08-12 07:23:11.000000000,2016-08-11 04:17:03.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 11034}, {'_account_id': 15857}]","[{'number': 1, 'created': '2016-08-10 16:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/ffb0071d658d267a04056935695b28d2becc722f', 'message': 'Add fencing support into Driver and Profile\n\nThis patch is to add fencing support into nova driver and profile.\n\nChange-Id: I3929a24801e0069d54160beb80f244a3f3e549f9\n'}, {'number': 2, 'created': '2016-08-10 16:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/ba1fd46ecf555c8308c9b33a4964a2e4f9cb0566', 'message': 'Add fencing support into Driver and Profile\n\nThis patch is to add fencing support into nova driver and profile.\n\nChange-Id: I3929a24801e0069d54160beb80f244a3f3e549f9\n'}, {'number': 3, 'created': '2016-08-11 02:29:15.000000000', 'files': ['senlin/profiles/os/nova/server.py', 'senlin/tests/drivers/openstack/nova_v2.py', 'senlin/tests/unit/profiles/test_nova_server.py', 'senlin/profiles/base.py', 'senlin/tests/unit/drivers/test_nova_v2.py', 'senlin/tests/unit/profiles/test_profile_base.py', 'senlin/drivers/openstack/nova_v2.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/40639c229445cdd943d9fb25d277ad69d5c51537', 'message': 'Add fencing support into Driver and Profile\n\nThis patch is to add fencing support into nova driver and profile.\n\nChange-Id: I3929a24801e0069d54160beb80f244a3f3e549f9\n'}]",2,353613,40639c229445cdd943d9fb25d277ad69d5c51537,14,4,3,15857,,,0,"Add fencing support into Driver and Profile

This patch is to add fencing support into nova driver and profile.

Change-Id: I3929a24801e0069d54160beb80f244a3f3e549f9
",git fetch https://review.opendev.org/openstack/senlin refs/changes/13/353613/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/os/nova/server.py', 'senlin/tests/drivers/openstack/nova_v2.py', 'senlin/tests/unit/profiles/test_nova_server.py', 'senlin/profiles/base.py', 'senlin/tests/unit/drivers/test_nova_v2.py', 'senlin/tests/unit/profiles/test_profile_base.py', 'senlin/drivers/openstack/nova_v2.py']",7,ffb0071d658d267a04056935695b28d2becc722f,fencing," def server_delete(self, server, ignore_missing=True, force=False): return self.conn.compute.delete_server(server, ignore_missing, force) @sdk.translate_exception def service_list(self): return self.conn.compute.services() @sdk.translate_exception def service_force_down(self, service): return self.conn.compute.force_service_down(service, service.host, service.binary) @sdk.translate_exception def service_enable(self, service): return self.conn.compute.enable_service(service, service.host, service.binary) @sdk.translate_exception def service_disable(self, service, disabled_reason=None): return self.conn.compute.disable_service(service, service.host, service.binary, disabled_reason)"," def server_delete(self, server, ignore_missing=True): return self.conn.compute.delete_server(server, ignore_missing)",123,11
openstack%2Fmanila-ui~master~I4c8f298d48afc8bed4817e948e32a73fe0701cf5,openstack/manila-ui,master,I4c8f298d48afc8bed4817e948e32a73fe0701cf5,Updated from global requirements,MERGED,2016-08-11 18:12:05.000000000,2016-08-12 07:19:04.000000000,2016-08-12 07:19:04.000000000,"[{'_account_id': 3}, {'_account_id': 6914}, {'_account_id': 14567}]","[{'number': 1, 'created': '2016-08-11 18:12:05.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/770df8497c7cf7303c296b09a4be75fd81ea3beb', 'message': 'Updated from global requirements\n\nChange-Id: I4c8f298d48afc8bed4817e948e32a73fe0701cf5\n'}]",0,354305,770df8497c7cf7303c296b09a4be75fd81ea3beb,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I4c8f298d48afc8bed4817e948e32a73fe0701cf5
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/05/354305/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,770df8497c7cf7303c296b09a4be75fd81ea3beb,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Fpython-brick-cinderclient-ext~master~Ica1362b0e7e26c175eb897e4603a56ee45efa475,openstack/python-brick-cinderclient-ext,master,Ica1362b0e7e26c175eb897e4603a56ee45efa475,Updated from global requirements,MERGED,2016-08-11 17:54:05.000000000,2016-08-12 07:04:19.000000000,2016-08-12 07:04:19.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 11904}]","[{'number': 1, 'created': '2016-08-11 17:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/2043f9c1610f90b22933a9231af081dd7f89fbea', 'message': 'Updated from global requirements\n\nChange-Id: Ica1362b0e7e26c175eb897e4603a56ee45efa475\n'}, {'number': 2, 'created': '2016-08-11 23:42:50.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/de6d704bf42d4bacdcdbf30b9bfb4878d37dec5a', 'message': 'Updated from global requirements\n\nChange-Id: Ica1362b0e7e26c175eb897e4603a56ee45efa475\n'}]",0,354284,de6d704bf42d4bacdcdbf30b9bfb4878d37dec5a,9,3,2,11131,,,0,"Updated from global requirements

Change-Id: Ica1362b0e7e26c175eb897e4603a56ee45efa475
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/84/354284/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2043f9c1610f90b22933a9231af081dd7f89fbea,openstack/requirements,ddt>=1.0.1 # MITtesttools>=1.4.0 # MIT ,ddt>=1.0.1 # MITtesttools>=1.4.0 # MIT,2,2
openstack%2Fsahara-dashboard~master~I5f2c590bc9815e8ad35b82c18a7b2ae7ed2b6acd,openstack/sahara-dashboard,master,I5f2c590bc9815e8ad35b82c18a7b2ae7ed2b6acd,Updated from global requirements,MERGED,2016-08-11 18:18:46.000000000,2016-08-12 07:03:47.000000000,2016-08-12 07:03:47.000000000,"[{'_account_id': 3}, {'_account_id': 12038}]","[{'number': 1, 'created': '2016-08-11 18:18:46.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/09a053000205bfa8736a2bfdf07c2a2a895c262e', 'message': 'Updated from global requirements\n\nChange-Id: I5f2c590bc9815e8ad35b82c18a7b2ae7ed2b6acd\n'}]",0,354323,09a053000205bfa8736a2bfdf07c2a2a895c262e,7,2,1,11131,,,0,"Updated from global requirements

Change-Id: I5f2c590bc9815e8ad35b82c18a7b2ae7ed2b6acd
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/23/354323/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,09a053000205bfa8736a2bfdf07c2a2a895c262e,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Fopenstacksdk~master~Ic436f8313fc5a5155d77dfb2ebc5e378f5f1613b,openstack/openstacksdk,master,Ic436f8313fc5a5155d77dfb2ebc5e378f5f1613b,Add 'check_stack' operation to proxy,MERGED,2016-08-11 03:46:40.000000000,2016-08-12 07:03:17.000000000,2016-08-12 07:03:17.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 8257}, {'_account_id': 8410}]","[{'number': 1, 'created': '2016-08-11 03:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/90cd81daaacbaede0d71472acbd42bd92381a1c5', 'message': ""Add 'check_stack' operation to proxy\n\nThe Stack resource provides a 'check' method which is not exposed\nthrough the proxy. This patch adds it back.\n\nChange-Id: Ic436f8313fc5a5155d77dfb2ebc5e378f5f1613b\n""}, {'number': 2, 'created': '2016-08-11 05:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/52688a7813db561bd9e9015400afc5506afda67d', 'message': ""Add 'check_stack' operation to proxy\n\nThe Stack resource provides a 'check' method which is not exposed\nthrough the proxy. This patch adds it back.\n\nChange-Id: Ic436f8313fc5a5155d77dfb2ebc5e378f5f1613b\n""}, {'number': 3, 'created': '2016-08-11 12:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9844b6137dce3da413493bc71c624323e5ec5e23', 'message': ""Add 'check_stack' operation to proxy\n\nThe Stack resource provides a 'check' method which is not exposed\nthrough the proxy. This patch adds it back.\n\nChange-Id: Ic436f8313fc5a5155d77dfb2ebc5e378f5f1613b\n""}, {'number': 4, 'created': '2016-08-12 02:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8e7078a549bd7594ad1d086a3d7a03753c07ad98', 'message': ""Add 'check_stack' operation to proxy\n\nThe Stack resource provides a 'check' method which is not exposed\nthrough the proxy. This patch adds it back.\n\nChange-Id: Ic436f8313fc5a5155d77dfb2ebc5e378f5f1613b\n""}, {'number': 5, 'created': '2016-08-12 03:51:11.000000000', 'files': ['openstack/tests/unit/orchestration/v1/test_proxy.py', 'openstack/orchestration/v1/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c030247c24efdabc8fb0409e7d29b4787c8b42b6', 'message': ""Add 'check_stack' operation to proxy\n\nThe Stack resource provides a 'check' method which is not exposed\nthrough the proxy. This patch adds it back.\n\nChange-Id: Ic436f8313fc5a5155d77dfb2ebc5e378f5f1613b\n""}]",6,353825,c030247c24efdabc8fb0409e7d29b4787c8b42b6,22,4,5,8246,,,0,"Add 'check_stack' operation to proxy

The Stack resource provides a 'check' method which is not exposed
through the proxy. This patch adds it back.

Change-Id: Ic436f8313fc5a5155d77dfb2ebc5e378f5f1613b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/25/353825/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/orchestration/v1/test_proxy.py', 'openstack/orchestration/v1/_proxy.py']",2,90cd81daaacbaede0d71472acbd42bd92381a1c5,add-check-stack," def check_stack(self, stack): """"""Check a stack's status :param stack: The value can be either the ID or a stack or an :class:`~openstack.orchestration.v1.stack.Stack` instance. :returns: ``None`` """""" if isinstance(stack, _stack.Stack): stk = stack else: stk = self._find(_stack.Stack, stack, ignore_missing=False) stk.check(self.session) ",,45,7
openstack%2Fvitrage~master~I8fdd6eca07b7bff9ed329c020ff6107635a43358,openstack/vitrage,master,I8fdd6eca07b7bff9ed329c020ff6107635a43358,`mark down` is used for host,MERGED,2016-08-11 00:52:15.000000000,2016-08-12 06:39:07.000000000,2016-08-12 06:39:07.000000000,"[{'_account_id': 3}, {'_account_id': 19122}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 19233}, {'_account_id': 21414}]","[{'number': 1, 'created': '2016-08-11 00:52:15.000000000', 'files': ['doc/source/vitrage-template-format.rst'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/232c2fc6dae9e903176d3189b897d8f385e1b4bc', 'message': '`mark down` is used for host\n\nWhen `action_type` is `mark down`, the target only can be a nova.host,\nnot instance\n\nChange-Id: I8fdd6eca07b7bff9ed329c020ff6107635a43358\nSigned-off-by: dongwenjuan <dong.wenjuan@zte.com.cn>\n'}]",0,353797,232c2fc6dae9e903176d3189b897d8f385e1b4bc,12,6,1,18783,,,0,"`mark down` is used for host

When `action_type` is `mark down`, the target only can be a nova.host,
not instance

Change-Id: I8fdd6eca07b7bff9ed329c020ff6107635a43358
Signed-off-by: dongwenjuan <dong.wenjuan@zte.com.cn>
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/97/353797/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/vitrage-template-format.rst'],1,232c2fc6dae9e903176d3189b897d8f385e1b4bc,," target: host # mandatory. entity (from the definitions section, only host) to be marked as down", target: instance # mandatory. entity (from the definitions section) to be marked as down,1,1
openstack%2Ftripleo-heat-templates~master~Iaf6d08f81683817dd4b145e7640fcf86cb9b4718,openstack/tripleo-heat-templates,master,Iaf6d08f81683817dd4b145e7640fcf86cb9b4718,Add missing deprecated param,ABANDONED,2016-08-11 19:10:57.000000000,2016-08-12 06:29:53.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 20775}]","[{'number': 1, 'created': '2016-08-11 19:10:57.000000000', 'files': ['puppet/services/cinder-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/617bca80c9bccb93e795af39714dd3dbdb98d719', 'message': 'Add missing deprecated param\n\nMaster manual deployment fails with\nMust pass keystone_password to Class[Cinder::Api] at\n/etc/puppet/modules/tripleo/manifests/profile/base/cinder/api.pp\n\nChange-Id: Iaf6d08f81683817dd4b145e7640fcf86cb9b4718\nCloses-Bug: 1612384\n'}]",0,354345,617bca80c9bccb93e795af39714dd3dbdb98d719,6,3,1,20775,,,0,"Add missing deprecated param

Master manual deployment fails with
Must pass keystone_password to Class[Cinder::Api] at
/etc/puppet/modules/tripleo/manifests/profile/base/cinder/api.pp

Change-Id: Iaf6d08f81683817dd4b145e7640fcf86cb9b4718
Closes-Bug: 1612384
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/354345/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/cinder-api.yaml'],1,617bca80c9bccb93e795af39714dd3dbdb98d719,bug/1612384, #Deprecated cinder::api::keystone_password: {get_param: CinderPassword},,2,0
openstack%2Frequirements~master~I4274d13f859fe801ade2b3eff99d1bb64a0d218e,openstack/requirements,master,I4274d13f859fe801ade2b3eff99d1bb64a0d218e,update constraint for python-saharaclient to new release 0.17.0,MERGED,2016-08-12 02:13:19.000000000,2016-08-12 06:10:06.000000000,2016-08-12 06:10:06.000000000,"[{'_account_id': 3}, {'_account_id': 11105}]","[{'number': 1, 'created': '2016-08-12 02:13:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ee7cab671536b37c6061721d47c97f6b58edd5c1', 'message': 'update constraint for python-saharaclient to new release 0.17.0\n\npython-saharaclient 0.17.0 release\n\nChange-Id: I4274d13f859fe801ade2b3eff99d1bb64a0d218e\nmeta:version: 0.17.0\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-announce@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Vitaly Gridnev <vgridnev@mirantis.com>\nmeta:release:Commit: Davanum Srinivas <davanum@gmail.com>\nmeta:release:Change-Id: I284b7d937aad49bab4b12bc9bf2c4a7fb770f5ea\n'}]",0,354483,ee7cab671536b37c6061721d47c97f6b58edd5c1,8,2,1,5638,,,0,"update constraint for python-saharaclient to new release 0.17.0

python-saharaclient 0.17.0 release

Change-Id: I4274d13f859fe801ade2b3eff99d1bb64a0d218e
meta:version: 0.17.0
meta:series: newton
meta:release-type: release
meta:announce: openstack-announce@lists.openstack.org
meta:pypi: yes
meta:first: no
meta:release:Author: Vitaly Gridnev <vgridnev@mirantis.com>
meta:release:Commit: Davanum Srinivas <davanum@gmail.com>
meta:release:Change-Id: I284b7d937aad49bab4b12bc9bf2c4a7fb770f5ea
",git fetch https://review.opendev.org/openstack/requirements refs/changes/83/354483/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ee7cab671536b37c6061721d47c97f6b58edd5c1,new-release,python-saharaclient===0.17.0,python-saharaclient===0.16.0,1,1
openstack%2Fproject-config~master~I1db01e497f0a97f7e0435a99d89dfd04f8375153,openstack/project-config,master,I1db01e497f0a97f7e0435a99d89dfd04f8375153,Add gpg signing job for reprepro,MERGED,2016-07-17 18:09:44.000000000,2016-08-12 06:08:55.000000000,2016-08-12 06:08:54.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6476}, {'_account_id': 6547}, {'_account_id': 7118}]","[{'number': 1, 'created': '2016-07-17 18:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/816333a147e317ad37df96d12914b59197bcad88', 'message': 'Add gpg signing job for reprepro\n\nNow that we have support for GPG keys, add that ability to\ndeb-openstack repository.\n\nChange-Id: I1db01e497f0a97f7e0435a99d89dfd04f8375153\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2016-07-17 18:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/07587526b5f78d662debb70711777617a3bf1db5', 'message': 'Add gpg signing job for reprepro\n\nNow that we have support for GPG keys, add that ability to\ndeb-openstack repository.\n\nChange-Id: I1db01e497f0a97f7e0435a99d89dfd04f8375153\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 3, 'created': '2016-07-18 15:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/acf31108bd38b66abeefb39ed66ec2157842d17c', 'message': 'Add gpg signing job for reprepro\n\nNow that we have support for GPG keys, add that ability to\ndeb-openstack repository.\n\nChange-Id: I1db01e497f0a97f7e0435a99d89dfd04f8375153\nDepends-On: Idc64ac00b41d9a4009036890c8194346a1881350\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 4, 'created': '2016-07-18 16:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a88a908a77e52e418c6b516259385cb993850124', 'message': 'Add gpg signing job for reprepro\n\nNow that we have support for GPG keys, add that ability to\ndeb-openstack repository.\n\nChange-Id: I1db01e497f0a97f7e0435a99d89dfd04f8375153\nDepends-On: Idc64ac00b41d9a4009036890c8194346a1881350\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 5, 'created': '2016-07-18 18:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/930fec7308c91f3e20d821bfe220606f3186f4a5', 'message': 'Add gpg signing job for reprepro\n\nNow that we have support for GPG keys, add that ability to\ndeb-openstack repository.\n\nChange-Id: I1db01e497f0a97f7e0435a99d89dfd04f8375153\nDepends-On: Idc64ac00b41d9a4009036890c8194346a1881350\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 6, 'created': '2016-07-19 15:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b27ed99850cb1873c92588dbc447a2bfc0a6b488', 'message': 'Add gpg signing job for reprepro\n\nNow that we have support for GPG keys, add that ability to\ndeb-openstack repository.\n\nChange-Id: I1db01e497f0a97f7e0435a99d89dfd04f8375153\nDepends-On: Idc64ac00b41d9a4009036890c8194346a1881350\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 7, 'created': '2016-07-19 15:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/763fd3fad4d3b5e7a359f927f88da8754df1d72a', 'message': 'Add gpg signing job for reprepro\n\nNow that we have support for GPG keys, add that ability to\ndeb-openstack repository.\n\nChange-Id: I1db01e497f0a97f7e0435a99d89dfd04f8375153\nDepends-On: Idc64ac00b41d9a4009036890c8194346a1881350\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 8, 'created': '2016-07-19 15:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a98926edd30fe18f00a92796db418e5474b08af0', 'message': 'Add gpg signing job for reprepro\n\nNow that we have support for GPG keys, add that ability to\ndeb-openstack repository.\n\nChange-Id: I1db01e497f0a97f7e0435a99d89dfd04f8375153\nDepends-On: Idc64ac00b41d9a4009036890c8194346a1881350\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 9, 'created': '2016-08-05 13:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4d139affb47c9178154ef296cdc3763a4ae46a19', 'message': 'Add gpg signing job for reprepro\n\nNow that we have support for GPG keys, add that ability to\ndeb-openstack repository.\n\nChange-Id: I1db01e497f0a97f7e0435a99d89dfd04f8375153\nDepends-On: Idc64ac00b41d9a4009036890c8194346a1881350\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 10, 'created': '2016-08-05 13:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6a692c77d328440d87ed6380ab1b653b3d49a9c8', 'message': 'Add gpg signing job for reprepro\n\nNow that we have support for GPG keys, add that ability to\ndeb-openstack repository.\n\nChange-Id: I1db01e497f0a97f7e0435a99d89dfd04f8375153\nDepends-On: Idc64ac00b41d9a4009036890c8194346a1881350\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 11, 'created': '2016-08-05 13:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/60a3b78fe628919a7a58a184c71d37401de36722', 'message': 'Add gpg signing job for reprepro\n\nNow that we have support for GPG keys, add that ability to\ndeb-openstack repository.\n\nChange-Id: I1db01e497f0a97f7e0435a99d89dfd04f8375153\nDepends-On: Idc64ac00b41d9a4009036890c8194346a1881350\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 12, 'created': '2016-08-10 16:31:03.000000000', 'files': ['zuul/openstack_functions.py', 'jenkins/jobs/projects.yaml', 'jenkins/jobs/packaging-mirror.yaml', 'zuul/layout.yaml', 'jenkins/scripts/reprepro-gpg-sign.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3d3c59517b89a5a8a88d6d08b6557105eb0c98dd', 'message': 'Add gpg signing job for reprepro\n\nNow that we have support for GPG keys, add that ability to\ndeb-openstack repository.\n\nChange-Id: I1db01e497f0a97f7e0435a99d89dfd04f8375153\nDepends-On: Idc64ac00b41d9a4009036890c8194346a1881350\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",9,343336,3d3c59517b89a5a8a88d6d08b6557105eb0c98dd,33,6,12,4162,,,0,"Add gpg signing job for reprepro

Now that we have support for GPG keys, add that ability to
deb-openstack repository.

Change-Id: I1db01e497f0a97f7e0435a99d89dfd04f8375153
Depends-On: Idc64ac00b41d9a4009036890c8194346a1881350
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/36/343336/3 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'jenkins/jobs/packaging-mirror.yaml']",2,816333a147e317ad37df96d12914b59197bcad88,341856,"- builder: name: reprepro-gpg-sign builders: - shell: | #!/bin/bash -xe AFS_DIR=/afs/.openstack.org/mirror/deb-openstack BRANCH=$(echo $ZUUL_REFNAME | cut -d/ -f2) cd $AFS_DIR/dists/{codename}-$BRANCH gpg --armor --detach-sign --output Relase.gpg Release name: reprepro-gpg-sign-{codename} node: signing wrappers: - build-timeout: timeout: 90 - timestamps builders: - revoke-sudo - link-logs - net-info - reprepro-gpg-sign: codename: ""{codename}"" publishers: - console-log - job-template:",,34,0
openstack%2Ftripleo-common~master~I1d9fc24fa335c0ee907618667ae88427fd7706f8,openstack/tripleo-common,master,I1d9fc24fa335c0ee907618667ae88427fd7706f8,Fix upload-swift-artifacts with keystone v3,MERGED,2016-03-31 18:33:05.000000000,2016-08-12 06:06:50.000000000,2016-08-12 06:06:50.000000000,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 9317}, {'_account_id': 10873}, {'_account_id': 11105}]","[{'number': 1, 'created': '2016-03-31 18:33:05.000000000', 'files': ['scripts/upload-swift-artifacts'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7078578732357a10b9a9d9a36753397f2b30a831', 'message': ""Fix upload-swift-artifacts with keystone v3\n\nThere is a compatability breakage with openstackclient\nwith switching from keystone v2 to keystone v3. Specifically\nthe 'openstack endpoint show swift' no longer returns correctly\ndue to:\n\n  $ openstack endpoint show swift\n  More than one endpoint exists with the name 'swift'.\n\nThis patch works around the issue by using 'endpoint list' instead.\n\nChange-Id: I1d9fc24fa335c0ee907618667ae88427fd7706f8\nCloses-bug: #1564560\n""}]",0,300139,7078578732357a10b9a9d9a36753397f2b30a831,22,5,1,360,,,0,"Fix upload-swift-artifacts with keystone v3

There is a compatability breakage with openstackclient
with switching from keystone v2 to keystone v3. Specifically
the 'openstack endpoint show swift' no longer returns correctly
due to:

  $ openstack endpoint show swift
  More than one endpoint exists with the name 'swift'.

This patch works around the issue by using 'endpoint list' instead.

Change-Id: I1d9fc24fa335c0ee907618667ae88427fd7706f8
Closes-bug: #1564560
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/39/300139/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upload-swift-artifacts'],1,7078578732357a10b9a9d9a36753397f2b30a831,bug/1564560,"SWIFT_INTERNAL_URL=$(openstack endpoint list | grep swift | grep internal | sed -e ""s|.*\(http.*\)://\([^/]*\)/.*|\1://\2|"")","SWIFT_INTERNAL_URL=$(openstack endpoint show swift | grep internalurl | sed -e ""s|.*\(http.*\)://\([^/]*\)/.*|\1://\2|"")",1,1
openstack%2Frequirements~master~I592c2be982f2bc311d48fbac96a6b951f5f57497,openstack/requirements,master,I592c2be982f2bc311d48fbac96a6b951f5f57497,update constraint for python-muranoclient to new release 0.10.0,MERGED,2016-08-09 13:20:19.000000000,2016-08-12 05:54:23.000000000,2016-08-12 05:54:23.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6593}, {'_account_id': 8731}, {'_account_id': 11105}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 15168}]","[{'number': 1, 'created': '2016-08-09 13:20:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fe4e1d69bd9cb928ce4eb8271660e972ed9d108e', 'message': 'update constraint for python-muranoclient to new release 0.10.0\n\npython-muranoclient 0.10.0 release\n\nChange-Id: I592c2be982f2bc311d48fbac96a6b951f5f57497\nmeta:version: 0.10.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-announce@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Kirill Zaitsev <k.zaitsev@me.com>\nmeta:release:Commit: Kirill Zaitsev <k.zaitsev@me.com>\nmeta:release:Change-Id: I3c52ee82f04b42d2603b3d03714be0d9b668ab77\nmeta:release:Code-Review+1: Swapnil Kulkarni (coolsvap) <me@coolsvap.net>\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,352896,fe4e1d69bd9cb928ce4eb8271660e972ed9d108e,14,8,1,2472,,,0,"update constraint for python-muranoclient to new release 0.10.0

python-muranoclient 0.10.0 release

Change-Id: I592c2be982f2bc311d48fbac96a6b951f5f57497
meta:version: 0.10.0
meta:diff-start: -
meta:series: newton
meta:release-type: release
meta:announce: openstack-announce@lists.openstack.org
meta:pypi: yes
meta:first: no
meta:release:Author: Kirill Zaitsev <k.zaitsev@me.com>
meta:release:Commit: Kirill Zaitsev <k.zaitsev@me.com>
meta:release:Change-Id: I3c52ee82f04b42d2603b3d03714be0d9b668ab77
meta:release:Code-Review+1: Swapnil Kulkarni (coolsvap) <me@coolsvap.net>
meta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/352896/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fe4e1d69bd9cb928ce4eb8271660e972ed9d108e,new-release,python-muranoclient===0.10.0,python-muranoclient===0.9.0,1,1
openstack%2Fvitrage~master~I717a0ae790a2d23f2df21d6d3a8e89be98646d1a,openstack/vitrage,master,I717a0ae790a2d23f2df21d6d3a8e89be98646d1a,use `name` not `id` in template,MERGED,2016-08-11 00:44:16.000000000,2016-08-12 05:46:40.000000000,2016-08-12 05:46:40.000000000,"[{'_account_id': 3}, {'_account_id': 19122}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 19233}, {'_account_id': 21414}]","[{'number': 1, 'created': '2016-08-11 00:44:16.000000000', 'files': ['doc/source/host_high_memory_consumption.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/0cbc5918eda12221e9fdd3e722c79720a24a2a3e', 'message': 'use `name` not `id` in template\n\nuse `name` not `id` in template metadate section\n\nSigned-off-by: dongwenjuan <dong.wenjuan@zte.com.cn>\n\nChange-Id: I717a0ae790a2d23f2df21d6d3a8e89be98646d1a\n'}]",0,353795,0cbc5918eda12221e9fdd3e722c79720a24a2a3e,10,6,1,18783,,,0,"use `name` not `id` in template

use `name` not `id` in template metadate section

Signed-off-by: dongwenjuan <dong.wenjuan@zte.com.cn>

Change-Id: I717a0ae790a2d23f2df21d6d3a8e89be98646d1a
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/95/353795/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/host_high_memory_consumption.yaml'],1,0cbc5918eda12221e9fdd3e722c79720a24a2a3e,, name: host_high_memory_consumption, id: host_high_memory_consumption,1,1
openstack%2Fheat~master~I96ce57d64f0649e309e40e75e573371bde917fbe,openstack/heat,master,I96ce57d64f0649e309e40e75e573371bde917fbe,Put common implementation of HOT/CFN into new class,MERGED,2016-07-22 09:43:33.000000000,2016-08-12 05:39:08.000000000,2016-08-12 05:39:08.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 10487}, {'_account_id': 12363}, {'_account_id': 20559}]","[{'number': 1, 'created': '2016-07-22 09:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/30d80f370e0a660b110996d09bbd763db9e54b10', 'message': 'Refactor resource definition validating\n\nMove resource definition validating to super template class.\n\nChange-Id: I96ce57d64f0649e309e40e75e573371bde917fbe\nBlueprint: support-conditions-function\n'}, {'number': 2, 'created': '2016-07-22 10:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e2d552a4216cbf2f72e1a370a2cf42ac2b26d167', 'message': 'Refactor resource definition validating\n\nMove resource definition validating to super template class.\n\nChange-Id: I96ce57d64f0649e309e40e75e573371bde917fbe\nBlueprint: support-conditions-function\n'}, {'number': 3, 'created': '2016-07-26 02:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3294fc5b6f72c286b8a099da1fb76c90408e20b1', 'message': 'Refactor resource definition validating\n\nMove resource definition validating to super template class.\n\nChange-Id: I96ce57d64f0649e309e40e75e573371bde917fbe\nBlueprint: support-conditions-function\n'}, {'number': 4, 'created': '2016-07-26 05:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b49093138ae5de328b946073f298149811c31639', 'message': 'Refactor resource definition validating\n\nMove resource definition validating to super template class.\n\nChange-Id: I96ce57d64f0649e309e40e75e573371bde917fbe\nBlueprint: support-conditions-function\n'}, {'number': 5, 'created': '2016-07-26 08:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a5fcbd4334349c47d48d8e3f14b7288a921d2d49', 'message': 'Refactor resource definition validating\n\nMove resource definition validating to super template class.\n\nChange-Id: I96ce57d64f0649e309e40e75e573371bde917fbe\nBlueprint: support-conditions-function\n'}, {'number': 6, 'created': '2016-07-27 01:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9c5f894dc31f2a8472928daca7ac3954deb8ad5c', 'message': 'Refactor resource definition validating\n\nMove resource definition validating to super template class.\n\nChange-Id: I96ce57d64f0649e309e40e75e573371bde917fbe\nBlueprint: support-conditions-function\n'}, {'number': 7, 'created': '2016-08-03 07:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c0574a5e1ed4b554f707a3bd4132bd051e63bf4a', 'message': 'Refactor resource definition validating\n\nMove resource definition validating to super template class.\n\nChange-Id: I96ce57d64f0649e309e40e75e573371bde917fbe\nBlueprint: support-conditions-function\n'}, {'number': 8, 'created': '2016-08-04 03:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ca93e8ae9867fd0d992d832d8fd9224dfd18ec33', 'message': 'Refactor resource definition validating\n\nMove resource definition validating to super template class.\n\nChange-Id: I96ce57d64f0649e309e40e75e573371bde917fbe\nBlueprint: support-conditions-function\n'}, {'number': 9, 'created': '2016-08-10 09:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f16bca65e111ac6beb3959f62b6094508ebf2e38', 'message': 'Refactor resource definition validating\n\nResource definition validating of CFN and HOT templates\nhave the same behavior, so put the validating into a\ntemplate utils module.\n\nChange-Id: I96ce57d64f0649e309e40e75e573371bde917fbe\nBlueprint: support-conditions-function\n'}, {'number': 10, 'created': '2016-08-11 03:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/323dee2e18cc820851a5efb69abaddbe9414eea1', 'message': 'Put common implementation of HOT/CFN into new class\n\nNew an intermediate class named CommonTempalte to put the commont\nimplementation of HOT and CFN templates.\nThis patch move the resource definition validating to the\nnew class.\n\nChange-Id: I96ce57d64f0649e309e40e75e573371bde917fbe\nBlueprint: support-conditions-function\n'}, {'number': 11, 'created': '2016-08-11 03:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ba8047f2d107e84572bfdb7379debf599a178cbe', 'message': 'Put common implementation of HOT/CFN into new class\n\nNew an intermediate class named CommonTempalte to put the commont\nimplementation of HOT and CFN templates.\nThis patch move the resource definition validating to the\nnew class.\n\nChange-Id: I96ce57d64f0649e309e40e75e573371bde917fbe\nBlueprint: support-conditions-function\n'}, {'number': 12, 'created': '2016-08-11 04:06:55.000000000', 'files': ['heat/engine/cfn/template.py', 'heat/engine/template_common.py', 'heat/engine/hot/template.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ed08e4f676d4512209937289e2068b62fb8591a0', 'message': 'Put common implementation of HOT/CFN into new class\n\nNew an intermediate class named CommonTempalte to put the commont\nimplementation of HOT and CFN templates.\nThis patch move the resource definition validating to the\nnew class.\n\nChange-Id: I96ce57d64f0649e309e40e75e573371bde917fbe\nBlueprint: support-conditions-function\n'}]",4,345946,ed08e4f676d4512209937289e2068b62fb8591a0,39,10,12,8289,,,0,"Put common implementation of HOT/CFN into new class

New an intermediate class named CommonTempalte to put the commont
implementation of HOT and CFN templates.
This patch move the resource definition validating to the
new class.

Change-Id: I96ce57d64f0649e309e40e75e573371bde917fbe
Blueprint: support-conditions-function
",git fetch https://review.opendev.org/openstack/heat refs/changes/46/345946/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/template.py', 'heat/engine/cfn/template.py', 'heat/engine/hot/template.py']",3,30d80f370e0a660b110996d09bbd763db9e54b10,bp/support-conditions-function," self.validate_resource_definition(allowed_keys, name, data)","import collections self.validate_resource_key_type( self.RES_PROPERTIES, (collections.Mapping, function.Function), 'object', allowed_keys, name, data) self.validate_resource_key_type( self.RES_METADATA, (collections.Mapping, function.Function), 'object', allowed_keys, name, data) self.validate_resource_key_type( self.RES_DEPENDS_ON, collections.Sequence, 'list or string', allowed_keys, name, data) self.validate_resource_key_type( self.RES_DELETION_POLICY, (six.string_types, function.Function), 'string', allowed_keys, name, data) self.validate_resource_key_type( self.RES_UPDATE_POLICY, (collections.Mapping, function.Function), 'object', allowed_keys, name, data)",29,48
openstack%2Fheat~master~I03123e1563fa98352535a55efcd03e8bd5ce92a3,openstack/heat,master,I03123e1563fa98352535a55efcd03e8bd5ce92a3,Move 'validate_section' to hot/template.py,MERGED,2016-08-11 02:51:10.000000000,2016-08-12 05:39:01.000000000,2016-08-12 05:39:01.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 8833}, {'_account_id': 10487}]","[{'number': 1, 'created': '2016-08-11 02:51:10.000000000', 'files': ['heat/engine/template.py', 'heat/engine/hot/template.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d66ea4ce8a435e56e7dd246d55ab1366768fbb2a', 'message': ""Move 'validate_section' to hot/template.py\n\nThe method 'validate_section' is only used for HOT templates,\nso move it to hot/template.py\n\nChange-Id: I03123e1563fa98352535a55efcd03e8bd5ce92a3\n""}]",0,353817,d66ea4ce8a435e56e7dd246d55ab1366768fbb2a,7,5,1,8289,,,0,"Move 'validate_section' to hot/template.py

The method 'validate_section' is only used for HOT templates,
so move it to hot/template.py

Change-Id: I03123e1563fa98352535a55efcd03e8bd5ce92a3
",git fetch https://review.opendev.org/openstack/heat refs/changes/17/353817/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/template.py', 'heat/engine/hot/template.py']",2,d66ea4ce8a435e56e7dd246d55ab1366768fbb2a,bp/cd/p1," def validate_section(self, section, sub_section, data, allowed_keys): obj_name = section[:-1] err_msg = _('""%%s"" is not a valid keyword inside a %s ' 'definition') % obj_name args = {'object_name': obj_name, 'sub_section': sub_section} message = _('Each %(object_name)s must contain a ' '%(sub_section)s key.') % args for name, attrs in sorted(data.items()): if not attrs: raise exception.StackValidationFailed(message=message) try: for attr, attr_value in six.iteritems(attrs): if attr not in allowed_keys: raise KeyError(err_msg % attr) if sub_section not in attrs: raise exception.StackValidationFailed(message=message) except AttributeError: message = _('""%(section)s"" must contain a map of ' '%(obj_name)s maps. Found a [%(_type)s] ' 'instead') % {'section': section, '_type': type(attrs), 'obj_name': obj_name} raise exception.StackValidationFailed(message=message) except KeyError as e: # an invalid keyword was found raise exception.StackValidationFailed(message=e.args[0]) ",,27,27
openstack%2Fpython-troveclient~master~Ib0a7de0b8df359c9ad5a582bbe7afcff56d332f8,openstack/python-troveclient,master,Ib0a7de0b8df359c9ad5a582bbe7afcff56d332f8,Fix module-list failing with AccessInfoV2 error,MERGED,2016-07-28 16:26:39.000000000,2016-08-12 05:38:49.000000000,2016-08-12 05:38:49.000000000,"[{'_account_id': 3}, {'_account_id': 10215}, {'_account_id': 10295}, {'_account_id': 22694}]","[{'number': 1, 'created': '2016-07-28 16:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/46931f96c07a8022f40356579ca4137675ca863a', 'message': 'Fix module-list failing with AccessInfoV2 error\n\nDue to recent changes (not sure what) the trove module-list command\nnow fails while trying to determine if the client is being run as\nan admin user.\n\nThe error looks like the following:\n\n DEBUG (shell:752) \'AccessInfoV2\' object has no attribute \'__getitem__\'\n Traceback (most recent call last):\n   File ""/opt/python-troveclient/python-troveclient/troveclient/shell.py"",\n     line 747, in main sys.argv[1:]))\n   File ""/opt/python-troveclient/python-troveclient/troveclient/shell.py"",\n     line 562, in main args.func(self.cs, args)\n   File ""/opt/python-troveclient/python-troveclient/troveclient/v1/shell.py"",\n     line 1552, in do_module_list\n        roles = cs.client.auth.auth_ref[\'user\'][\'roles\']\n   TypeError: \'AccessInfoV2\' object has no attribute \'__getitem__\'\n   ERROR: \'AccessInfoV2\' object has no attribute \'__getitem__\'\n\nThe code was changed so that it doesn\'t fail even if the structure\nof the access object changes.\n\nChange-Id: Ib0a7de0b8df359c9ad5a582bbe7afcff56d332f8\nCloses-Bug: #1607428\n'}, {'number': 2, 'created': '2016-07-29 02:07:28.000000000', 'files': ['troveclient/v1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/517d32a48ff12274bc738d9fea28ef0265ef5023', 'message': 'Fix module-list failing with AccessInfoV2 error\n\nDue to recent changes (not sure what) the trove module-list command\nnow fails while trying to determine if the client is being run as\nan admin user.\n\nThe error looks like the following:\n\n DEBUG (shell:752) \'AccessInfoV2\' object has no attribute \'__getitem__\'\n Traceback (most recent call last):\n   File ""/opt/python-troveclient/python-troveclient/troveclient/shell.py"",\n     line 747, in main sys.argv[1:]))\n   File ""/opt/python-troveclient/python-troveclient/troveclient/shell.py"",\n     line 562, in main args.func(self.cs, args)\n   File ""/opt/python-troveclient/python-troveclient/troveclient/v1/shell.py"",\n     line 1552, in do_module_list\n        roles = cs.client.auth.auth_ref[\'user\'][\'roles\']\n   TypeError: \'AccessInfoV2\' object has no attribute \'__getitem__\'\n   ERROR: \'AccessInfoV2\' object has no attribute \'__getitem__\'\n\nThe code was changed so that it doesn\'t fail even if the structure\nof the access object changes.\n\nChange-Id: Ib0a7de0b8df359c9ad5a582bbe7afcff56d332f8\nCloses-Bug: #1607428\n'}]",0,348467,517d32a48ff12274bc738d9fea28ef0265ef5023,10,4,2,10215,,,0,"Fix module-list failing with AccessInfoV2 error

Due to recent changes (not sure what) the trove module-list command
now fails while trying to determine if the client is being run as
an admin user.

The error looks like the following:

 DEBUG (shell:752) 'AccessInfoV2' object has no attribute '__getitem__'
 Traceback (most recent call last):
   File ""/opt/python-troveclient/python-troveclient/troveclient/shell.py"",
     line 747, in main sys.argv[1:]))
   File ""/opt/python-troveclient/python-troveclient/troveclient/shell.py"",
     line 562, in main args.func(self.cs, args)
   File ""/opt/python-troveclient/python-troveclient/troveclient/v1/shell.py"",
     line 1552, in do_module_list
        roles = cs.client.auth.auth_ref['user']['roles']
   TypeError: 'AccessInfoV2' object has no attribute '__getitem__'
   ERROR: 'AccessInfoV2' object has no attribute '__getitem__'

The code was changed so that it doesn't fail even if the structure
of the access object changes.

Change-Id: Ib0a7de0b8df359c9ad5a582bbe7afcff56d332f8
Closes-Bug: #1607428
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/67/348467/1 && git format-patch -1 --stdout FETCH_HEAD,['troveclient/v1/shell.py'],1,46931f96c07a8022f40356579ca4137675ca863a,bug/1607428, try: try: roles = cs.client.auth.auth_ref['user']['roles'] except TypeError: roles = cs.client.auth.auth_ref._data['access']['user']['roles'] except TypeError: pass," if hasattr(cs.client, 'auth'): roles = cs.client.auth.auth_ref['user']['roles']",7,2
openstack%2Fneutron~master~I514c7632c1c26d6cfeb706fc5d829a46dcce3782,openstack/neutron,master,I514c7632c1c26d6cfeb706fc5d829a46dcce3782,ovs-agent: Seperate VLAN mapping outside of the agent,MERGED,2016-08-02 13:01:16.000000000,2016-08-12 05:36:53.000000000,2016-08-12 04:50:46.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 6788}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 10386}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16800}]","[{'number': 1, 'created': '2016-08-02 13:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a2481bc62d4b3b8bd0002580ad49a68b93a3184', 'message': 'WIP: ovs-agent: Seperate VLAN mapping outside of the agent\n\nChange-Id: I514c7632c1c26d6cfeb706fc5d829a46dcce3782\n'}, {'number': 2, 'created': '2016-08-02 13:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40af5f753d63f2abe29711682a2d6f24a4941013', 'message': 'WIP: ovs-agent: Seperate VLAN mapping outside of the agent\n\nChange-Id: I514c7632c1c26d6cfeb706fc5d829a46dcce3782\n'}, {'number': 3, 'created': '2016-08-02 17:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93d21d990aa45c8e41d9a74a121132d49ee32ab1', 'message': 'ovs-agent: Seperate VLAN mapping outside of the agent\n\nPreviously, local mapping from tunnel ids or vlan ids to internal vlans\nwas held in ovs agent itself not exposing this mapping outside. This\npatch itroduces a singleton object in memory providing needed interface\nfor handling local vlan mappings.\n\nPartially-implements: blueprint vlan-aware-vms\n\nChange-Id: I514c7632c1c26d6cfeb706fc5d829a46dcce3782\n'}, {'number': 4, 'created': '2016-08-02 20:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/407e97a20a4fed75677bdef1d8783d4eaa036066', 'message': 'ovs-agent: Seperate VLAN mapping outside of the agent\n\nPreviously, local mapping from tunnel ids or vlan ids to internal vlans\nwas held in ovs agent itself not exposing this mapping outside. This\npatch itroduces a singleton object in memory providing needed interface\nfor handling local vlan mappings.\n\nPartially-implements: blueprint vlan-aware-vms\n\nChange-Id: I514c7632c1c26d6cfeb706fc5d829a46dcce3782\n'}, {'number': 5, 'created': '2016-08-04 15:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e0d0f32ae1c1b460e632bae16357949e336cf96', 'message': 'ovs-agent: Seperate VLAN mapping outside of the agent\n\nPreviously, local mapping from tunnel ids or vlan ids to internal vlans\nwas held in ovs agent itself not exposing this mapping outside. This\npatch itroduces a singleton object in memory providing needed interface\nfor handling local vlan mappings.\n\nPartially-implements: blueprint vlan-aware-vms\n\nChange-Id: I514c7632c1c26d6cfeb706fc5d829a46dcce3782\n'}, {'number': 6, 'created': '2016-08-04 15:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/589460653a5709e7804888680f3be28731d7c569', 'message': 'ovs-agent: Seperate VLAN mapping outside of the agent\n\nPreviously, local mapping from tunnel ids or vlan ids to internal vlans\nwas held in ovs agent itself not exposing this mapping outside. This\npatch itroduces a singleton object in memory providing needed interface\nfor handling local vlan mappings.\n\nPartially-implements: blueprint vlan-aware-vms\n\nChange-Id: I514c7632c1c26d6cfeb706fc5d829a46dcce3782\n'}, {'number': 7, 'created': '2016-08-05 14:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e32a7b20bc084c1dc7209ae3011e75bf99303fc8', 'message': 'ovs-agent: Seperate VLAN mapping outside of the agent\n\nPreviously, local mapping from tunnel ids or vlan ids to internal vlans\nwas held in ovs agent itself not exposing this mapping outside. This\npatch itroduces a singleton object in memory providing needed interface\nfor handling local vlan mappings.\n\nPartially-implements: blueprint vlan-aware-vms\n\nChange-Id: I514c7632c1c26d6cfeb706fc5d829a46dcce3782\n'}, {'number': 8, 'created': '2016-08-08 08:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/63126525bbb982e4ef21f1ad6204452fa2e56b3c', 'message': 'ovs-agent: Seperate VLAN mapping outside of the agent\n\nPreviously, local mapping from tunnel ids or vlan ids to internal vlans\nwas held in ovs agent itself not exposing this mapping outside. This\npatch itroduces a singleton object in memory providing needed interface\nfor handling local vlan mappings.\n\nPartially-implements: blueprint vlan-aware-vms\nPartially-implements: blueprint l2-api-extensions\n\nChange-Id: I514c7632c1c26d6cfeb706fc5d829a46dcce3782\n'}, {'number': 9, 'created': '2016-08-09 09:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/79ee035f73a2ae82321d1124531cd4359e50acec', 'message': 'ovs-agent: Seperate VLAN mapping outside of the agent\n\nPreviously, local mapping from tunnel ids or vlan ids to internal vlans\nwas held in ovs agent itself not exposing this mapping outside. This\npatch itroduces a singleton object in memory providing needed interface\nfor handling local vlan mappings.\n\nPartially-implements: blueprint vlan-aware-vms\nPartially-implements: blueprint l2-api-extensions\n\nChange-Id: I514c7632c1c26d6cfeb706fc5d829a46dcce3782\n'}, {'number': 10, 'created': '2016-08-09 12:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f344753fa6f0fa7b96fbbb15be5702cbde8aeb9', 'message': 'ovs-agent: Seperate VLAN mapping outside of the agent\n\nPreviously, local mapping from tunnel ids or vlan ids to internal vlans\nwas held in ovs agent itself not exposing this mapping outside. This\npatch itroduces a singleton object in memory providing needed interface\nfor handling local vlan mappings.\n\nPartially-implements: blueprint vlan-aware-vms\nPartially-implements: blueprint l2-api-extensions\n\nChange-Id: I514c7632c1c26d6cfeb706fc5d829a46dcce3782\n'}, {'number': 11, 'created': '2016-08-09 16:56:29.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_vlanmanager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/vlanmanager.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/agent/securitygroups_rpc.py', 'neutron/plugins/ml2/drivers/l2pop/rpc_manager/l2population_rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/rpc_manager/l2population_rpc_base.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/rpc_manager/test_l2population_rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0543fda17852f3119232cf574277b363a5d7d24', 'message': 'ovs-agent: Seperate VLAN mapping outside of the agent\n\nPreviously, local mapping from tunnel ids or vlan ids to internal vlans\nwas held in ovs agent itself not exposing this mapping outside. This\npatch itroduces a singleton object in memory providing needed interface\nfor handling local vlan mappings.\n\nPartially-implements: blueprint vlan-aware-vms\nPartially-implements: blueprint l2-api-extensions\n\nChange-Id: I514c7632c1c26d6cfeb706fc5d829a46dcce3782\n'}]",57,349990,a0543fda17852f3119232cf574277b363a5d7d24,118,15,11,8655,,,0,"ovs-agent: Seperate VLAN mapping outside of the agent

Previously, local mapping from tunnel ids or vlan ids to internal vlans
was held in ovs agent itself not exposing this mapping outside. This
patch itroduces a singleton object in memory providing needed interface
for handling local vlan mappings.

Partially-implements: blueprint vlan-aware-vms
Partially-implements: blueprint l2-api-extensions

Change-Id: I514c7632c1c26d6cfeb706fc5d829a46dcce3782
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/349990/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/securitygroups_rpc.py', 'neutron/plugins/ml2/drivers/l2pop/rpc_manager/l2population_rpc.py']",3,9a2481bc62d4b3b8bd0002580ad49a68b93a3184,bp/vlan-aware-vms,"from neutron.plugins.ml2.drivers.openvswitch.agent import vlanmanager # TODO(jlibosva): Add deprecation warning def get_agent_ports(self, fdb_entries, local_vlan_map=None): For each known (i.e found in VLAN manager) network in :param local_vlan_map: Deprecated. vlan_manager = vlanmanager.VlanManager() for network_id, values in fdb_entries.items(): lvm = vlan_manager.get(network_id) # TODO(jlibosva): Add deprecation warning local_vlan_map=None): :param local_vlan_map: Deprecated. vlan_manager = vlanmanager.VlanManager() for network_id, agent_ports in fdb_entries.items(): lvm = vlan_manager.get(network_id)"," def get_agent_ports(self, fdb_entries, local_vlan_map): For each known (i.e found in local_vlan_map) network in :param local_vlan_map: A dict to map network_id to the corresponding lvm entry. for network_id, values in fdb_entries.items(): lvm = local_vlan_map.get(network_id) local_vlan_map): :param local_vlan_map: A dict to map network_id to the corresponding lvm entry. for network_id, agent_ports in fdb_entries.items(): lvm = local_vlan_map.get(network_id)",43,60
openstack%2Fcinder~master~Iad4d65da5d9c1d8e95e43b6be5e2eadbbb3c3d98,openstack/cinder,master,Iad4d65da5d9c1d8e95e43b6be5e2eadbbb3c3d98,Temporarily remove Scality volume driver,ABANDONED,2016-08-10 21:10:05.000000000,2016-08-12 05:14:17.000000000,,"[{'_account_id': 11904}, {'_account_id': 15296}, {'_account_id': 19852}, {'_account_id': 22126}]","[{'number': 1, 'created': '2016-08-10 21:10:05.000000000', 'files': ['cinder/opts.py', 'cinder/tests/unit/volume/drivers/test_scality.py', 'cinder/volume/drivers/scality.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a5c7ba9cb72c7a81e53193ab9ac3690a818afa3', 'message': 'Temporarily remove Scality volume driver\n\nThe Scality third-party CI system has been unable to report status for\nseveral weeks (due to technical issues in the testing lab), which\naccording to the community rules requires the driver to be removed from\nthe Cinder distribution.\n\nDespite this, the driver is fully functional. As such we aim to\nintegrate it again once the CI system is reinstated.\n\nChange-Id: Iad4d65da5d9c1d8e95e43b6be5e2eadbbb3c3d98\n'}]",0,353739,5a5c7ba9cb72c7a81e53193ab9ac3690a818afa3,6,4,1,13777,,,0,"Temporarily remove Scality volume driver

The Scality third-party CI system has been unable to report status for
several weeks (due to technical issues in the testing lab), which
according to the community rules requires the driver to be removed from
the Cinder distribution.

Despite this, the driver is fully functional. As such we aim to
integrate it again once the CI system is reinstated.

Change-Id: Iad4d65da5d9c1d8e95e43b6be5e2eadbbb3c3d98
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/353739/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/tests/unit/volume/drivers/test_scality.py', 'cinder/volume/drivers/scality.py']",3,5a5c7ba9cb72c7a81e53193ab9ac3690a818afa3,temporarily-remove-scality-driver,,"# Copyright (c) 2015 Scality # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Scality SOFS Volume Driver. """""" import errno import os from oslo_concurrency import lockutils from oslo_config import cfg from oslo_log import log as logging from oslo_utils import fileutils import six from six.moves import urllib from cinder import exception from cinder.i18n import _, _LI from cinder.image import image_utils from cinder import interface from cinder import utils from cinder.volume.drivers import remotefs as remotefs_drv from cinder.volume import utils as volume_utils LOG = logging.getLogger(__name__) volume_opts = [ cfg.StrOpt('scality_sofs_config', help='Path or URL to Scality SOFS configuration file'), cfg.StrOpt('scality_sofs_mount_point', default='$state_path/scality', help='Base dir where Scality SOFS shall be mounted'), cfg.StrOpt('scality_sofs_volume_dir', default='cinder/volumes', help='Path from Scality SOFS root to volume dir'), ] CONF = cfg.CONF CONF.register_opts(volume_opts) @interface.volumedriver class ScalityDriver(remotefs_drv.RemoteFSSnapDriver): """"""Scality SOFS cinder driver. Creates sparse files on SOFS for hypervisors to use as block devices. """""" driver_volume_type = 'scality' driver_prefix = 'scality_sofs' volume_backend_name = 'Scality_SOFS' VERSION = '2.0.0' # ThirdPartySystems wiki page CI_WIKI_NAME = ""Scality_CI"" def __init__(self, *args, **kwargs): super(ScalityDriver, self).__init__(*args, **kwargs) self.configuration.append_config_values(volume_opts) self.sofs_mount_point = self.configuration.scality_sofs_mount_point self.sofs_config = self.configuration.scality_sofs_config self.sofs_rel_volume_dir = self.configuration.scality_sofs_volume_dir self.sofs_abs_volume_dir = os.path.join(self.sofs_mount_point, self.sofs_rel_volume_dir) # The following config flag is used by RemoteFSDriver._do_create_volume # We want to use sparse file (ftruncated) without exposing this # as a config switch to customers. self.configuration.scality_sofs_sparsed_volumes = True def check_for_setup_error(self): """"""Sanity checks before attempting to mount SOFS."""""" # config is mandatory if not self.sofs_config: msg = _(""Value required for 'scality_sofs_config'"") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # config can be a file path or a URL, check it config = self.sofs_config if urllib.parse.urlparse(self.sofs_config).scheme == '': # turn local path into URL config = 'file://%s' % self.sofs_config try: urllib.request.urlopen(config, timeout=5).close() except (urllib.error.URLError, urllib.error.HTTPError) as e: msg = _(""Can't access 'scality_sofs_config'"" "": %s"") % six.text_type(e) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # mount.sofs must be installed if not os.access('/sbin/mount.sofs', os.X_OK): msg = _(""Cannot execute /sbin/mount.sofs"") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def _load_shares_config(self, share_file=None): self.shares[self.sofs_rel_volume_dir] = None def _get_mount_point_for_share(self, share=None): # The _qemu_img_info_base() method from the RemoteFSSnapDriver class # expects files (volume) to be inside a subdir of the mount point. # So we have to append a dummy subdir. return self.sofs_abs_volume_dir + ""/00"" def _sofs_is_mounted(self): """"""Check if SOFS is already mounted at the expected location."""""" mount_path = self.sofs_mount_point.rstrip('/') for mount in volume_utils.read_proc_mounts(): parts = mount.split() if (parts[0].endswith('fuse') and parts[1].rstrip('/') == mount_path): return True return False @lockutils.synchronized('mount-sofs', 'cinder-sofs', external=True) def _ensure_share_mounted(self, share=None): """"""Mount SOFS if need be."""""" fileutils.ensure_tree(self.sofs_mount_point) if not self._sofs_is_mounted(): self._execute('mount', '-t', 'sofs', self.sofs_config, self.sofs_mount_point, run_as_root=True) # Check whether the mount command succeeded if not self._sofs_is_mounted(): msg = _(""Cannot mount Scality SOFS, check syslog for errors"") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) fileutils.ensure_tree(self.sofs_abs_volume_dir) # We symlink the '00' subdir to its parent dir to maintain # compatibility with previous version of this driver. try: os.symlink(""."", self._get_mount_point_for_share()) except OSError as exc: if exc.errno == errno.EEXIST: if not os.path.islink(self._get_mount_point_for_share()): raise else: raise def _ensure_shares_mounted(self): self._ensure_share_mounted() self._mounted_shares = [self.sofs_rel_volume_dir] def _find_share(self, volume_size_for): try: return self._mounted_shares[0] except IndexError: raise exception.RemoteFSNoSharesMounted() def get_volume_stats(self, refresh=False): """"""Return the current state of the volume service."""""" stats = { 'vendor_name': 'Scality', 'driver_version': self.VERSION, 'storage_protocol': 'scality', 'total_capacity_gb': 'infinite', 'free_capacity_gb': 'infinite', 'reserved_percentage': 0, } backend_name = self.configuration.safe_get('volume_backend_name') stats['volume_backend_name'] = backend_name or self.volume_backend_name return stats @remotefs_drv.locked_volume_id_operation def initialize_connection(self, volume, connector): """"""Allow connection to connector and return connection info."""""" # Find active qcow2 file active_file = self.get_active_image_from_info(volume) path = '%s/%s' % (self._get_mount_point_for_share(), active_file) sofs_rel_path = os.path.join(self.sofs_rel_volume_dir, ""00"", volume.name) data = {'export': volume.provider_location, 'name': active_file, 'sofs_path': sofs_rel_path} # Test file for raw vs. qcow2 format info = self._qemu_img_info(path, volume.name) data['format'] = info.file_format if data['format'] not in ['raw', 'qcow2']: msg = _('%s must be a valid raw or qcow2 image.') % path raise exception.InvalidVolume(msg) return { 'driver_volume_type': self.driver_volume_type, 'data': data, 'mount_point_base': self.sofs_mount_point } def _qemu_img_info(self, path, volume_name): return super(ScalityDriver, self)._qemu_img_info_base( path, volume_name, self.sofs_abs_volume_dir) @remotefs_drv.locked_volume_id_operation def extend_volume(self, volume, size_gb): volume_path = self.local_path(volume) info = self._qemu_img_info(volume_path, volume.name) backing_fmt = info.file_format if backing_fmt not in ['raw', 'qcow2']: msg = _('Unrecognized backing format: %s') raise exception.InvalidVolume(msg % backing_fmt) # qemu-img can resize both raw and qcow2 files image_utils.resize_image(volume_path, size_gb) def _copy_volume_from_snapshot(self, snapshot, volume, volume_size): """"""Copy data from snapshot to destination volume. This is done with a qemu-img convert to raw/qcow2 from the snapshot qcow2. """""" info_path = self._local_path_volume_info(snapshot.volume) # For BC compat' with version < 2 of this driver try: snap_info = self._read_info_file(info_path) except IOError as exc: if exc.errno != errno.ENOENT: raise else: path_to_snap_img = self.local_path(snapshot) else: vol_path = self._local_volume_dir(snapshot.volume) forward_file = snap_info[snapshot.id] forward_path = os.path.join(vol_path, forward_file) # Find the file which backs this file, which represents the point # when this snapshot was created. img_info = self._qemu_img_info(forward_path, snapshot.volume.name) path_to_snap_img = os.path.join(vol_path, img_info.backing_file) LOG.debug(""will copy from snapshot at %s"", path_to_snap_img) path_to_new_vol = self.local_path(volume) out_format = 'raw' image_utils.convert_image(path_to_snap_img, path_to_new_vol, out_format, run_as_root=self._execute_as_root) self._set_rw_permissions_for_all(path_to_new_vol) image_utils.resize_image(path_to_new_vol, volume_size) def backup_volume(self, context, backup, backup_service): """"""Create a new backup from an existing volume."""""" volume = self.db.volume_get(context, backup['volume_id']) volume_local_path = self.local_path(volume) LOG.info(_LI('Begin backup of volume %s.'), volume.name) qemu_img_info = image_utils.qemu_img_info(volume_local_path) if qemu_img_info.file_format != 'raw': msg = _('Backup is only supported for raw-formatted ' 'SOFS volumes.') raise exception.InvalidVolume(msg) if qemu_img_info.backing_file is not None: msg = _('Backup is only supported for SOFS volumes ' 'without backing file.') raise exception.InvalidVolume(msg) with utils.temporary_chown(volume_local_path): with open(volume_local_path) as volume_file: backup_service.backup(backup, volume_file) def restore_backup(self, context, backup, volume, backup_service): """"""Restore an existing backup to a new or existing volume."""""" LOG.info(_LI('Restoring backup %(backup)s to volume %(volume)s.'), {'backup': backup['id'], 'volume': volume.name}) volume_local_path = self.local_path(volume) with utils.temporary_chown(volume_local_path): with open(volume_local_path, 'wb') as volume_file: backup_service.restore(backup, volume.id, volume_file) ",0,696
openstack%2Frequirements~master~Ic3ffb6b318dc2ac6c9d3a60bed5198fd4d40e318,openstack/requirements,master,Ic3ffb6b318dc2ac6c9d3a60bed5198fd4d40e318,Add cursive library,MERGED,2016-08-08 20:45:28.000000000,2016-08-12 05:12:32.000000000,2016-08-10 18:08:31.000000000,"[{'_account_id': 3}, {'_account_id': 2271}, {'_account_id': 2537}, {'_account_id': 6593}, {'_account_id': 6802}, {'_account_id': 6873}, {'_account_id': 7012}, {'_account_id': 7764}, {'_account_id': 8623}, {'_account_id': 10384}, {'_account_id': 11105}, {'_account_id': 11805}, {'_account_id': 12898}, {'_account_id': 14288}]","[{'number': 1, 'created': '2016-08-08 20:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/dd18639ec5054dcd1cc649baa223d0fbcef489dd', 'message': 'Add cursive library\n\nCursive is an OpenStack project which verifies\ndigital signatures. This changes allows Glance\nand Nova to utilize this functionality.\n\nChange-Id: Ic3ffb6b318dc2ac6c9d3a60bed5198fd4d40e318\nPartial-Bug: #1528349\n'}, {'number': 2, 'created': '2016-08-09 02:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8e65778cdf312ae87f3d229140d7353c1b6ef7bb', 'message': 'Add cursive library\n\nCursive is an OpenStack project which verifies\ndigital signatures. This changes allows Glance\nand Nova to utilize this functionality.\n\nNeeded for:\n(glance): I80fcafa528b87a83b90ed7c0e4c0db9228852bc2\n(nova): I8179282a9d19f829aca0b5bd2775d855b3364c86\n\nChange-Id: Ic3ffb6b318dc2ac6c9d3a60bed5198fd4d40e318\nPartial-Bug: #1528349\n'}, {'number': 3, 'created': '2016-08-09 13:17:11.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/87d48e89ac2fe694b2e14da4eaec8b05df105cae', 'message': ""Add cursive library\n\nCursive is an OpenStack project which verifies\ndigital signatures. This changes allows Glance\nand Nova to utilize this functionality.\n\nNeeded for:\n(glance): I80fcafa528b87a83b90ed7c0e4c0db9228852bc2\n(nova): I8179282a9d19f829aca0b5bd2775d855b3364c86\n\nNew library questionnaire:\n\n* Is the the library actively maintained?\n  Yes. See http://git.openstack.org/cgit/openstack/cursive/log/\n* Is the library good code?\n  It's directly copied from Glance and Nova, so it's as good\n  as those projects.\n* Is the library python3 compatible?\n  Yes.\n* Is the library license compatible?\n  Yes. See http://git.openstack.org/cgit/openstack/cursive/tree/README.rst#n12\n* Is the library packaged with targeted Linux distros?\n  No.\n* Is the function of this library covered by other libraries in global-requirements.txt?\n  No.\n* Is the library required for OpenStack project or related dev or infra setup?\n  Needed for code cleanup in Glance and Nova. See the patchsets linked above.\n\nChange-Id: Ic3ffb6b318dc2ac6c9d3a60bed5198fd4d40e318\nPartial-Bug: #1528349\n""}]",1,352597,87d48e89ac2fe694b2e14da4eaec8b05df105cae,33,14,3,15524,,,0,"Add cursive library

Cursive is an OpenStack project which verifies
digital signatures. This changes allows Glance
and Nova to utilize this functionality.

Needed for:
(glance): I80fcafa528b87a83b90ed7c0e4c0db9228852bc2
(nova): I8179282a9d19f829aca0b5bd2775d855b3364c86

New library questionnaire:

* Is the the library actively maintained?
  Yes. See http://git.openstack.org/cgit/openstack/cursive/log/
* Is the library good code?
  It's directly copied from Glance and Nova, so it's as good
  as those projects.
* Is the library python3 compatible?
  Yes.
* Is the library license compatible?
  Yes. See http://git.openstack.org/cgit/openstack/cursive/tree/README.rst#n12
* Is the library packaged with targeted Linux distros?
  No.
* Is the function of this library covered by other libraries in global-requirements.txt?
  No.
* Is the library required for OpenStack project or related dev or infra setup?
  Needed for code cleanup in Glance and Nova. See the patchsets linked above.

Change-Id: Ic3ffb6b318dc2ac6c9d3a60bed5198fd4d40e318
Partial-Bug: #1528349
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/352597/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,dd18639ec5054dcd1cc649baa223d0fbcef489dd,bug/1528349,cursive===0.1.1,,2,0
openstack%2Frequirements~master~I1a6b9714573cae352f17b21c22978b79475bccc5,openstack/requirements,master,I1a6b9714573cae352f17b21c22978b79475bccc5,update constraint for oslo.service to new release 1.15.0,ABANDONED,2016-08-10 12:15:38.000000000,2016-08-12 05:07:57.000000000,,"[{'_account_id': 3}, {'_account_id': 11105}, {'_account_id': 14288}]","[{'number': 1, 'created': '2016-08-10 12:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/07d48cc48118284915030769eb2f58e8a99a9f6b', 'message': 'update constraint for oslo.service to new release 1.15.0\n\noslo.service 1.15.0 release\n\nChange-Id: I1a6b9714573cae352f17b21c22978b79475bccc5\nmeta:version: 1.15.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2016-08-11 16:27:57.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b8e1e24fe93afe74afcb8f4834c571721758a229', 'message': 'update constraint for oslo.service to new release 1.15.0\n\noslo.service 1.15.0 release\n\nChange-Id: I1a6b9714573cae352f17b21c22978b79475bccc5\nmeta:version: 1.15.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,353433,b8e1e24fe93afe74afcb8f4834c571721758a229,7,3,2,2472,,,0,"update constraint for oslo.service to new release 1.15.0

oslo.service 1.15.0 release

Change-Id: I1a6b9714573cae352f17b21c22978b79475bccc5
meta:version: 1.15.0
meta:diff-start: -
meta:series: newton
meta:release-type: release
meta:announce: openstack-dev@lists.openstack.org
meta:pypi: yes
meta:first: no
meta:release:Author: Joshua Harlow <jxharlow@godaddy.com>
meta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393
meta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/33/353433/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,07d48cc48118284915030769eb2f58e8a99a9f6b,new-release,oslo.service===1.15.0,oslo.service===1.14.0,1,1
openstack%2Fcongress~master~If750baca3bb9ca7e5d80cb61d40f6325f68ea4ef,openstack/congress,master,If750baca3bb9ca7e5d80cb61d40f6325f68ea4ef,Updated from global requirements,MERGED,2016-08-11 18:10:06.000000000,2016-08-12 04:41:21.000000000,2016-08-12 04:41:21.000000000,"[{'_account_id': 3}, {'_account_id': 11278}]","[{'number': 1, 'created': '2016-08-11 18:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/9e5e3de0913fa566e553bf958e068b38f797245d', 'message': 'Updated from global requirements\n\nChange-Id: If750baca3bb9ca7e5d80cb61d40f6325f68ea4ef\n'}, {'number': 2, 'created': '2016-08-12 00:17:56.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/congress/commit/cb58abf562828bd996ccebfcca69a2b6de8528b4', 'message': 'Updated from global requirements\n\nChange-Id: If750baca3bb9ca7e5d80cb61d40f6325f68ea4ef\n'}]",0,354294,cb58abf562828bd996ccebfcca69a2b6de8528b4,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: If750baca3bb9ca7e5d80cb61d40f6325f68ea4ef
",git fetch https://review.opendev.org/openstack/congress refs/changes/94/354294/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9e5e3de0913fa566e553bf958e068b38f797245d,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Frequirements~master~I238aa2c7a2429c3bd753d5b9d5273818f84e9118,openstack/requirements,master,I238aa2c7a2429c3bd753d5b9d5273818f84e9118,Bump minimum for oslo.db to 4.10.0,MERGED,2016-08-04 09:27:31.000000000,2016-08-12 04:34:38.000000000,2016-08-12 04:34:38.000000000,"[{'_account_id': 3}, {'_account_id': 6524}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 8871}, {'_account_id': 9656}, {'_account_id': 11105}, {'_account_id': 12898}, {'_account_id': 14288}]","[{'number': 1, 'created': '2016-08-04 09:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/35078d6c49a46ae4e5cf52601229fe8aff6583de', 'message': 'Bump minimum for oslo.db to 4.10.0\n\nThe 4.10.0 release contains a fix to correctly identify\ndeadlocks that have been observed in the Neutron\ngate jobs.\n\nChange-Id: I238aa2c7a2429c3bd753d5b9d5273818f84e9118\nRelated-Bug: #1608691\n'}, {'number': 2, 'created': '2016-08-08 11:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ac0c25fee567f1fd903ef05fa20039370da42d45', 'message': 'Bump minimum for oslo.db to 4.10.0\n\nThe 4.10.0 release contains a fix to correctly identify\ndeadlocks that have been observed in the Neutron\ngate jobs.\n\nChange-Id: I238aa2c7a2429c3bd753d5b9d5273818f84e9118\nRelated-Bug: #1608691\n'}, {'number': 3, 'created': '2016-08-09 07:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/dbcd560d1e12de6275c8543f2c156e205ce108c4', 'message': 'Bump minimum for oslo.db to 4.10.0\n\nThe 4.10.0 release contains a fix to correctly identify\ndeadlocks that have been observed in the Neutron\ngate jobs.\n\nChange-Id: I238aa2c7a2429c3bd753d5b9d5273818f84e9118\nRelated-Bug: #1608691\n'}, {'number': 4, 'created': '2016-08-10 22:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d1c16d81bafc2ad3f7f3caacd2569b9a2d079127', 'message': 'Bump minimum for oslo.db to 4.10.0\n\nThe 4.10.0 release contains a fix to correctly identify\ndeadlocks that have been observed in the Neutron\ngate jobs.\n\nChange-Id: I238aa2c7a2429c3bd753d5b9d5273818f84e9118\nRelated-Bug: #1608691\n'}, {'number': 5, 'created': '2016-08-11 23:57:43.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/705f26659c2db99042fbc6e7c030de380bdbe43c', 'message': 'Bump minimum for oslo.db to 4.10.0\n\nThe 4.10.0 release contains a fix to correctly identify\ndeadlocks that have been observed in the Neutron\ngate jobs.\n\nChange-Id: I238aa2c7a2429c3bd753d5b9d5273818f84e9118\nRelated-Bug: #1608691\n'}]",0,351081,705f26659c2db99042fbc6e7c030de380bdbe43c,28,9,5,7787,,,0,"Bump minimum for oslo.db to 4.10.0

The 4.10.0 release contains a fix to correctly identify
deadlocks that have been observed in the Neutron
gate jobs.

Change-Id: I238aa2c7a2429c3bd753d5b9d5273818f84e9118
Related-Bug: #1608691
",git fetch https://review.opendev.org/openstack/requirements refs/changes/81/351081/5 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,35078d6c49a46ae4e5cf52601229fe8aff6583de,bug/1608691,oslo.db>=4.10.0 # Apache-2.0,oslo.db>=4.1.0 # Apache-2.0,1,1
openstack%2Frequirements~master~Id58ccfe398844e9de7e7146d78bf1aea32ebd131,openstack/requirements,master,Id58ccfe398844e9de7e7146d78bf1aea32ebd131,update constraint for debtcollector to new release 1.8.0,MERGED,2016-08-10 12:10:11.000000000,2016-08-12 04:29:47.000000000,2016-08-12 04:29:47.000000000,"[{'_account_id': 3}, {'_account_id': 14288}]","[{'number': 1, 'created': '2016-08-10 12:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/12ee974239c55899c3f0d92bd4fc1b022b89f024', 'message': 'update constraint for debtcollector to new release 1.8.0\n\ndebtcollector 1.8.0 release\n\nChange-Id: Id58ccfe398844e9de7e7146d78bf1aea32ebd131\nmeta:version: 1.8.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2016-08-11 16:08:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f9866cfddccfcfa524b820bb7db0f9c7d1cac205', 'message': 'update constraint for debtcollector to new release 1.8.0\n\ndebtcollector 1.8.0 release\n\nChange-Id: Id58ccfe398844e9de7e7146d78bf1aea32ebd131\nmeta:version: 1.8.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,353421,f9866cfddccfcfa524b820bb7db0f9c7d1cac205,10,2,2,2472,,,0,"update constraint for debtcollector to new release 1.8.0

debtcollector 1.8.0 release

Change-Id: Id58ccfe398844e9de7e7146d78bf1aea32ebd131
meta:version: 1.8.0
meta:diff-start: -
meta:series: newton
meta:release-type: release
meta:announce: openstack-dev@lists.openstack.org
meta:pypi: yes
meta:first: no
meta:release:Author: Joshua Harlow <jxharlow@godaddy.com>
meta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393
meta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/21/353421/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,12ee974239c55899c3f0d92bd4fc1b022b89f024,new-release,debtcollector===1.8.0,debtcollector===1.7.0,1,1
openstack%2Fheat~master~I14e3a45cf04d7ec3f09a1405b730ea1f6aa1b501,openstack/heat,master,I14e3a45cf04d7ec3f09a1405b730ea1f6aa1b501,Updated from global requirements,MERGED,2016-08-11 18:10:48.000000000,2016-08-12 04:28:31.000000000,2016-08-12 04:28:31.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 12404}]","[{'number': 1, 'created': '2016-08-11 18:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/49e2df582ab7a0031e773b638c19ca37db9665ef', 'message': 'Updated from global requirements\n\nChange-Id: I14e3a45cf04d7ec3f09a1405b730ea1f6aa1b501\n'}, {'number': 2, 'created': '2016-08-11 23:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/522e892783aa11a56c04234d7c1e41246fb4560b', 'message': 'Updated from global requirements\n\nChange-Id: I14e3a45cf04d7ec3f09a1405b730ea1f6aa1b501\n'}, {'number': 3, 'created': '2016-08-12 00:18:38.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/d019947962de56a18815a04d8197abc416478de5', 'message': 'Updated from global requirements\n\nChange-Id: I14e3a45cf04d7ec3f09a1405b730ea1f6aa1b501\n'}]",0,354298,d019947962de56a18815a04d8197abc416478de5,13,3,3,11131,,,0,"Updated from global requirements

Change-Id: I14e3a45cf04d7ec3f09a1405b730ea1f6aa1b501
",git fetch https://review.opendev.org/openstack/heat refs/changes/98/354298/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,49e2df582ab7a0031e773b638c19ca37db9665ef,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Fsenlin~master~Iff7b5c91186fbdde65fe744132554012ec52621e,openstack/senlin,master,Iff7b5c91186fbdde65fe744132554012ec52621e,Fix redundancy api-ref index,MERGED,2016-08-11 00:59:29.000000000,2016-08-12 04:23:35.000000000,2016-08-12 04:23:35.000000000,"[{'_account_id': 3}, {'_account_id': 7404}, {'_account_id': 8246}, {'_account_id': 22998}]","[{'number': 1, 'created': '2016-08-11 00:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/be6a01f21f7ad30790e48590cf963dd342dafb9c', 'message': 'Fix redundancy api-ref index\n\nremove redundancy policy_types\n\nChange-Id: Iff7b5c91186fbdde65fe744132554012ec52621e\n'}, {'number': 2, 'created': '2016-08-11 01:54:24.000000000', 'files': ['api-ref/source/index.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/cdea70bb32a759d7371f9a851be5cb2e1058351e', 'message': 'Fix redundancy api-ref index\n\nremove redundancy policy_types\n\nChange-Id: Iff7b5c91186fbdde65fe744132554012ec52621e\n'}]",4,353798,cdea70bb32a759d7371f9a851be5cb2e1058351e,12,4,2,22998,,,0,"Fix redundancy api-ref index

remove redundancy policy_types

Change-Id: Iff7b5c91186fbdde65fe744132554012ec52621e
",git fetch https://review.opendev.org/openstack/senlin refs/changes/98/353798/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/index.rst'],1,be6a01f21f7ad30790e48590cf963dd342dafb9c,api-ref,,.. include:: policy_types.inc,0,1
openstack%2Fmagnum~master~I251d1541ae8088c47618fd0e11d81f44dc717aba,openstack/magnum,master,I251d1541ae8088c47618fd0e11d81f44dc717aba,Improve unit test coverage for common/service.py,MERGED,2016-08-10 09:59:37.000000000,2016-08-12 04:08:21.000000000,2016-08-12 04:08:21.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 7230}, {'_account_id': 9591}, {'_account_id': 11536}, {'_account_id': 12175}, {'_account_id': 13912}, {'_account_id': 19741}, {'_account_id': 20498}]","[{'number': 1, 'created': '2016-08-10 09:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2da197a51672c8e195c511dc8449a8eaed5fc3ed', 'message': 'Improve unit test coverage for common/service.py\n\nAdd new unit tests for common/service.py.\nIncrease the coverage for common/service.py from 50 to 100%.\n\nChange-Id: I251d1541ae8088c47618fd0e11d81f44dc717aba\nPartial-Bug: #1511667\n'}, {'number': 2, 'created': '2016-08-12 00:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/17055ce3e712b0c083f56266e23d1a4ff23d1365', 'message': 'Improve unit test coverage for common/service.py\n\nAdd new unit tests for common/service.py.\nIncrease the coverage for common/service.py from 50 to 100%.\n\nChange-Id: I251d1541ae8088c47618fd0e11d81f44dc717aba\nPartial-Bug: #1511667\n'}, {'number': 3, 'created': '2016-08-12 00:42:55.000000000', 'files': ['magnum/tests/unit/common/test_service.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c0604fbdca5020f4f6642f2a63299db2aa50c027', 'message': 'Improve unit test coverage for common/service.py\n\nAdd new unit tests for common/service.py.\nIncrease the coverage for common/service.py from 50 to 100%.\n\nChange-Id: I251d1541ae8088c47618fd0e11d81f44dc717aba\nPartial-Bug: #1511667\n'}]",3,353358,c0604fbdca5020f4f6642f2a63299db2aa50c027,17,9,3,19741,,,0,"Improve unit test coverage for common/service.py

Add new unit tests for common/service.py.
Increase the coverage for common/service.py from 50 to 100%.

Change-Id: I251d1541ae8088c47618fd0e11d81f44dc717aba
Partial-Bug: #1511667
",git fetch https://review.opendev.org/openstack/magnum refs/changes/58/353358/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/tests/unit/common/test_service.py'],1,2da197a51672c8e195c511dc8449a8eaed5fc3ed,bug/1511667,"# Copyright 2011 Justin Santa Barbara # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from oslo_log import log as logging from magnum.common import service from magnum.tests import base class TestMagnumService(base.BaseTestCase): @mock.patch.object(logging, 'register_options') @mock.patch.object(logging, 'setup') @mock.patch('magnum.common.config.set_config_defaults') @mock.patch('magnum.common.config.parse_args') def test_prepare_service_with_argv_not_none(self, mock_parse, mock_set, mock_setup, mock_reg): argv = 'foo' mock_parse.side_effect = lambda *args, **kwargs: None service.prepare_service(argv) mock_parse.assert_called_once_with(argv) mock_setup.assert_called_once_with(base.CONF, 'magnum') mock_reg.assert_called_once_with(base.CONF) mock_set.assert_called_once_with() @mock.patch.object(logging, 'register_options') @mock.patch.object(logging, 'setup') @mock.patch('magnum.common.config.set_config_defaults') @mock.patch('magnum.common.config.parse_args') def test_prepare_service_with_argv_none(self, mock_parse, mock_set, mock_setup, mock_reg): argv = None mock_parse.side_effect = lambda *args, **kwargs: None service.prepare_service(argv) mock_parse.assert_called_once_with([]) mock_setup.assert_called_once_with(base.CONF, 'magnum') mock_reg.assert_called_once_with(base.CONF) mock_set.assert_called_once_with() ",,55,0
openstack%2Fmagnum~master~I844baf570eb8fc361afb8781e45a20399aa2c573,openstack/magnum,master,I844baf570eb8fc361afb8781e45a20399aa2c573,Functional: validate OpenStack resources,MERGED,2016-03-10 06:53:47.000000000,2016-08-12 03:59:06.000000000,2016-08-12 03:59:06.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 11536}, {'_account_id': 11650}, {'_account_id': 12175}, {'_account_id': 13861}, {'_account_id': 18386}]","[{'number': 1, 'created': '2016-03-10 06:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/eb93a019f0af8710b0a41a8ed2bd6019d36e515f', 'message': ""Functional: validate keypair and external network\n\nAdd negative functional test cases to validate bay's\nkeypair and external network.\n\nChange-Id: I844baf570eb8fc361afb8781e45a20399aa2c573\nCloses-Bug: #1521495\nCloses-Bug: #1521493\n""}, {'number': 2, 'created': '2016-03-10 06:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9b0ec47133188d7e5ed6e9c43fbcf48add8493d3', 'message': ""Functional: validate keypair and external network\n\nAdd negative functional test cases to validate bay's\nkeypair and external network.\n\nChange-Id: I844baf570eb8fc361afb8781e45a20399aa2c573\nCloses-Bug: #1521495\nCloses-Bug: #1521493\n""}, {'number': 3, 'created': '2016-03-11 03:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8b9275d9377a9106c86070c362dc8ff47a3a74d8', 'message': ""Functional: validate OpenStack resources\n\n1. Add negative functional test cases to validate bay's\nkeypair and external network.\n2. Change the functional test case for flavor validation,\nbacause invalid flavor will be not allowed for baymodel update.\n\nChange-Id: I844baf570eb8fc361afb8781e45a20399aa2c573\nCloses-Bug: #1521495\nCloses-Bug: #1521493\nRelated-Bug: #1520353\n""}, {'number': 4, 'created': '2016-08-10 14:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/88fb567e87a50830d58feb0a5d21bb8cc6520731', 'message': ""Functional: validate OpenStack resources\n\n1. Add negative functional test cases to validate bay's\nkeypair and external network.\n2. Change the functional test case for flavor validation,\nbacause invalid flavor will be not allowed for baymodel update.\n\nChange-Id: I844baf570eb8fc361afb8781e45a20399aa2c573\nCo-Authored-By: yatin karel <yatin.karel@nectechnologies.in>\nCloses-Bug: #1521495\nCloses-Bug: #1521493\nRelated-Bug: #1520353\n""}, {'number': 5, 'created': '2016-08-10 14:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/65fa6b3fdb27de614ee4e61007d09b09226d937c', 'message': ""Functional: validate OpenStack resources\n\n1. Add negative functional test cases to validate bay's\nkeypair and external network.\n2. Change the functional test case for flavor validation,\nbacause invalid flavor will be not allowed for baymodel update.\n\nChange-Id: I844baf570eb8fc361afb8781e45a20399aa2c573\nCo-Authored-By: yatin karel <yatin.karel@nectechnologies.in>\nCloses-Bug: #1521495\nCloses-Bug: #1521493\nRelated-Bug: #1520353\n""}, {'number': 6, 'created': '2016-08-11 05:27:52.000000000', 'files': ['magnum/tests/functional/common/datagen.py', 'magnum/tests/functional/api/v1/test_bay.py', 'magnum/tests/functional/api/v1/test_baymodel.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4e14a3db4e13377e635bc203f9f3d1b193326a2a', 'message': ""Functional: validate OpenStack resources\n\nAdd negative functional test cases to validate bay's\nkeypair and external network.\n\nChange-Id: I844baf570eb8fc361afb8781e45a20399aa2c573\nCo-Authored-By: yatin karel <yatin.karel@nectechnologies.in>\nCloses-Bug: #1521495\nCloses-Bug: #1521493\nRelated-Bug: #1520353\n""}]",6,291028,4e14a3db4e13377e635bc203f9f3d1b193326a2a,27,7,6,10515,,,0,"Functional: validate OpenStack resources

Add negative functional test cases to validate bay's
keypair and external network.

Change-Id: I844baf570eb8fc361afb8781e45a20399aa2c573
Co-Authored-By: yatin karel <yatin.karel@nectechnologies.in>
Closes-Bug: #1521495
Closes-Bug: #1521493
Related-Bug: #1520353
",git fetch https://review.opendev.org/openstack/magnum refs/changes/28/291028/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/functional/common/datagen.py', 'magnum/tests/functional/api/v1/test_bay.py']",2,eb93a019f0af8710b0a41a8ed2bd6019d36e515f,bug/1521495," def test_create_bay_with_nonexisting_keypair(self): gen_model = datagen.baymodel_data_with_valid_keypair_image_flavor() resp, baymodel = self._create_baymodel(gen_model) self.assertEqual(resp.status, 201) self.assertIsNotNone(baymodel.uuid) patch_model = datagen.baymodel_keypair_patch_data() resp, new_model = self.baymodel_client.patch_baymodel( baymodel.uuid, patch_model) self.assertEqual(200, resp.status) resp, model = self.baymodel_client.get_baymodel(new_model.uuid) self.assertEqual(200, resp.status) self.assertEqual(baymodel.uuid, new_model.uuid) self.assertEqual(model.flavor_id, new_model.flavor_id) gen_model = datagen.valid_bay_data(baymodel_id=baymodel.uuid) self.assertRaises( exceptions.BadRequest, self.bay_client.post_bay, gen_model) resp, _ = self._delete_baymodel(baymodel.uuid) self.assertEqual(resp.status, 204) @testtools.testcase.attr('negative') def test_create_bay_with_nonexisting_external_network(self): gen_model = datagen.baymodel_data_with_valid_keypair_image_flavor() resp, baymodel = self._create_baymodel(gen_model) self.assertEqual(resp.status, 201) self.assertIsNotNone(baymodel.uuid) patch_model = datagen.baymodel_ext_net_patch_data() resp, new_model = self.baymodel_client.patch_baymodel( baymodel.uuid, patch_model) self.assertEqual(200, resp.status) resp, model = self.baymodel_client.get_baymodel(new_model.uuid) self.assertEqual(200, resp.status) self.assertEqual(baymodel.uuid, new_model.uuid) self.assertEqual(model.flavor_id, new_model.flavor_id) gen_model = datagen.valid_bay_data(baymodel_id=baymodel.uuid) self.assertRaises( exceptions.BadRequest, self.bay_client.post_bay, gen_model) resp, _ = self._delete_baymodel(baymodel.uuid) self.assertEqual(resp.status, 204) @testtools.testcase.attr('negative')",,80,0
openstack%2Fmistral~master~Iecb8b08597082863c02a1e2ff47e30aaf48d91ae,openstack/mistral,master,Iecb8b08597082863c02a1e2ff47e30aaf48d91ae,Updated from global requirements,MERGED,2016-08-11 18:12:08.000000000,2016-08-12 03:55:21.000000000,2016-08-12 03:55:21.000000000,"[{'_account_id': 3}, {'_account_id': 8731}]","[{'number': 1, 'created': '2016-08-11 18:12:08.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/mistral/commit/b18e5cb08bf8a629944c36127e320317f427f1cf', 'message': 'Updated from global requirements\n\nChange-Id: Iecb8b08597082863c02a1e2ff47e30aaf48d91ae\n'}]",0,354306,b18e5cb08bf8a629944c36127e320317f427f1cf,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Iecb8b08597082863c02a1e2ff47e30aaf48d91ae
",git fetch https://review.opendev.org/openstack/mistral refs/changes/06/354306/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b18e5cb08bf8a629944c36127e320317f427f1cf,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Fnova~master~I8209a4481a6be101aa5719913c3b80a60152d78e,openstack/nova,master,I8209a4481a6be101aa5719913c3b80a60152d78e,"Revert ""libvirt: convert over to use os-vif for Linux Bridge & OVS""",ABANDONED,2016-08-11 16:55:16.000000000,2016-08-12 03:53:36.000000000,,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}]","[{'number': 1, 'created': '2016-08-11 16:55:16.000000000', 'files': ['nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/virt/libvirt/designer.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'releasenotes/notes/libvirt-uses-os-vif-plugins-31a0617de0c248b9.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/23020fdb4cc2f5a59d9a4163a60e05c0ef01fb37', 'message': 'Revert ""libvirt: convert over to use os-vif for Linux Bridge & OVS""\n\nThis reverts commit 745f5fbb3a1b0a42eb54e2be2ecfffca3cbbb872.\n\nThis patch broke Linuxbridge Neutron gate.\n\nChange-Id: I8209a4481a6be101aa5719913c3b80a60152d78e\nCloses-Bug: #1612281\n'}]",0,354221,23020fdb4cc2f5a59d9a4163a60e05c0ef01fb37,11,10,1,9656,,,0,"Revert ""libvirt: convert over to use os-vif for Linux Bridge & OVS""

This reverts commit 745f5fbb3a1b0a42eb54e2be2ecfffca3cbbb872.

This patch broke Linuxbridge Neutron gate.

Change-Id: I8209a4481a6be101aa5719913c3b80a60152d78e
Closes-Bug: #1612281
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/354221/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/virt/libvirt/designer.py', 'releasenotes/notes/libvirt-uses-os-vif-plugins-31a0617de0c248b9.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",6,23020fdb4cc2f5a59d9a4163a60e05c0ef01fb37,bp/os-vif-library," nic_id = vif['address'].replace(':', '')"," nic_id = vif['address'].lower().replace(':', '')",219,385
openstack%2Foctavia~master~I914e1c062b400148565def37ccf618b3d2ea2573,openstack/octavia,master,I914e1c062b400148565def37ccf618b3d2ea2573,Adds a process to generate key flow documentation,MERGED,2016-03-24 22:58:35.000000000,2016-08-12 03:53:04.000000000,2016-08-12 03:49:19.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 11685}, {'_account_id': 12040}, {'_account_id': 13438}, {'_account_id': 14591}, {'_account_id': 15226}, {'_account_id': 16923}]","[{'number': 1, 'created': '2016-03-24 22:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ab2123389390ff6db5b737338adbd05ced5175e6', 'message': 'Adds a process to generate key flow documentation\n\nOctavia extensively uses TaskFlow flows for orchestration.\nTo make it easier for developers to understand these flows,\nthis patch adds a mechanism for generating graphviz representations\nof the key Octavia TaskFlow flows.\nIt also updates our tox docs task to generate this documentation.\n\nThis patch depends on a fix to the TaskFlow export_to_dot method.\n\nChange-Id: I914e1c062b400148565def37ccf618b3d2ea2573\nDepends-On: I99f87af0b2bed959fcb43ef611b3186e23bd9549\n'}, {'number': 2, 'created': '2016-03-25 06:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ba4bc626263bb5b6a5c91934c8146333eb6a5930', 'message': 'Adds a process to generate key flow documentation\n\nOctavia extensively uses TaskFlow flows for orchestration.\nTo make it easier for developers to understand these flows,\nthis patch adds a mechanism for generating graphviz representations\nof the key Octavia TaskFlow flows.\nIt also updates our tox docs task to generate this documentation.\n\nThis patch depends on a fix to the TaskFlow export_to_dot method.\n\nChange-Id: I914e1c062b400148565def37ccf618b3d2ea2573\nDepends-On: I99f87af0b2bed959fcb43ef611b3186e23bd9549\n'}, {'number': 3, 'created': '2016-03-25 13:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3821eb712e6a0d493d97457724d956c736d656eb', 'message': 'Adds a process to generate key flow documentation\n\nOctavia extensively uses TaskFlow flows for orchestration.\nTo make it easier for developers to understand these flows,\nthis patch adds a mechanism for generating graphviz representations\nof the key Octavia TaskFlow flows.\nIt also updates our tox docs task to generate this documentation.\n\nThis patch depends on a fix to the TaskFlow export_to_dot method.\n\nChange-Id: I914e1c062b400148565def37ccf618b3d2ea2573\nDepends-On: I99f87af0b2bed959fcb43ef611b3186e23bd9549\n'}, {'number': 4, 'created': '2016-03-26 00:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/39e62bf79a8abec344e23ec647504ddd820adcdc', 'message': 'Adds a process to generate key flow documentation\n\nOctavia extensively uses TaskFlow flows for orchestration.\nTo make it easier for developers to understand these flows,\nthis patch adds a mechanism for generating graphviz representations\nof the key Octavia TaskFlow flows.\nIt also updates our tox docs task to generate this documentation.\n\nThis patch depends on a fix to the TaskFlow export_to_dot method.\n\nChange-Id: I914e1c062b400148565def37ccf618b3d2ea2573\nDepends-On: I99f87af0b2bed959fcb43ef611b3186e23bd9549\n'}, {'number': 5, 'created': '2016-05-10 19:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1e4a2104f3352802adc2622858a6ccb1ff06edee', 'message': 'Adds a process to generate key flow documentation\n\nOctavia extensively uses TaskFlow flows for orchestration.\nTo make it easier for developers to understand these flows,\nthis patch adds a mechanism for generating graphviz representations\nof the key Octavia TaskFlow flows.\nIt also updates our tox docs task to generate this documentation.\n\nThis patch depends on a fix to the TaskFlow export_to_dot method.\n\nChange-Id: I914e1c062b400148565def37ccf618b3d2ea2573\nDepends-On: I99f87af0b2bed959fcb43ef611b3186e23bd9549\n'}, {'number': 6, 'created': '2016-05-20 00:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7324c56d553b02ac8426229cfd9780d6481137c0', 'message': 'Adds a process to generate key flow documentation\n\nOctavia extensively uses TaskFlow flows for orchestration.\nTo make it easier for developers to understand these flows,\nthis patch adds a mechanism for generating graphviz representations\nof the key Octavia TaskFlow flows.\nIt also updates our tox docs task to generate this documentation.\n\nThis patch depends on a fix to the TaskFlow export_to_dot method.\n\nChange-Id: I914e1c062b400148565def37ccf618b3d2ea2573\nDepends-On: I99f87af0b2bed959fcb43ef611b3186e23bd9549\n'}, {'number': 7, 'created': '2016-07-01 21:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/91741932f6dde84cc0cca4f0d9e21ffca118e582', 'message': 'Adds a process to generate key flow documentation\n\nOctavia extensively uses TaskFlow flows for orchestration.\nTo make it easier for developers to understand these flows,\nthis patch adds a mechanism for generating graphviz representations\nof the key Octavia TaskFlow flows.\nIt also updates our tox docs task to generate this documentation.\n\nThis patch depends on a fix to the TaskFlow export_to_dot method.\n\nChange-Id: I914e1c062b400148565def37ccf618b3d2ea2573\nDepends-On: I99f87af0b2bed959fcb43ef611b3186e23bd9549\n'}, {'number': 8, 'created': '2016-08-03 02:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/80c81b3040c563d0f973718c1916208cc00a752c', 'message': 'Adds a process to generate key flow documentation\n\nOctavia extensively uses TaskFlow flows for orchestration.\nTo make it easier for developers to understand these flows,\nthis patch adds a mechanism for generating graphviz representations\nof the key Octavia TaskFlow flows.\nIt also updates our tox docs task to generate this documentation.\n\nThis patch depends on a fix to the TaskFlow export_to_dot method.\n\nUpdate gates to xenial.\n\nChange-Id: I914e1c062b400148565def37ccf618b3d2ea2573\nDepends-On: I99f87af0b2bed959fcb43ef611b3186e23bd9549\n'}, {'number': 9, 'created': '2016-08-05 21:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9eb3b6c8c1e5d2810bd52ac047f4db52556c825f', 'message': 'Adds a process to generate key flow documentation\n\nOctavia extensively uses TaskFlow flows for orchestration.\nTo make it easier for developers to understand these flows,\nthis patch adds a mechanism for generating graphviz representations\nof the key Octavia TaskFlow flows.\nIt also updates our tox docs task to generate this documentation.\n\nThis patch depends on a fix to the TaskFlow export_to_dot method.\n\nAdded into conf.py as first step of configuration\n\nChange-Id: I914e1c062b400148565def37ccf618b3d2ea2573\nDepends-On: I99f87af0b2bed959fcb43ef611b3186e23bd9549\n'}, {'number': 10, 'created': '2016-08-08 18:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b5b1d72e5d5a92e39123fa2af251916d08ca37bc', 'message': 'Adds a process to generate key flow documentation\n\nOctavia extensively uses TaskFlow flows for orchestration.\nTo make it easier for developers to understand these flows,\nthis patch adds a mechanism for generating graphviz representations\nof the key Octavia TaskFlow flows.\nIt also updates our tox docs task to generate this documentation.\n\nThis patch depends on a fix to the TaskFlow export_to_dot method.\n\nAdded into conf.py as first step of configuration\n\nChange-Id: I914e1c062b400148565def37ccf618b3d2ea2573\nDepends-On: I99f87af0b2bed959fcb43ef611b3186e23bd9549\n'}, {'number': 11, 'created': '2016-08-10 21:39:41.000000000', 'files': ['doc/source/index.rst', '.gitignore', 'octavia/common/constants.py', 'tools/flow-list.txt', 'doc-requirements.txt', 'doc/source/devref/flows.rst', 'doc/source/conf.py', 'tools/__init__.py', 'tox.ini', 'tools/create_flow_docs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bc2e9beb3a8a41b773c1a5f16baabf4cf8ed4e18', 'message': 'Adds a process to generate key flow documentation\n\nOctavia extensively uses TaskFlow flows for orchestration.\nTo make it easier for developers to understand these flows,\nthis patch adds a mechanism for generating graphviz representations\nof the key Octavia TaskFlow flows.\nIt also updates our tox docs task to generate this documentation.\n\nThis patch depends on a fix to the TaskFlow export_to_dot method.\n\nAdded into conf.py as first step of configuration\n\nCloses-Bug: #1561063\nChange-Id: I914e1c062b400148565def37ccf618b3d2ea2573\nDepends-On: I99f87af0b2bed959fcb43ef611b3186e23bd9549\n'}]",6,297423,bc2e9beb3a8a41b773c1a5f16baabf4cf8ed4e18,81,10,11,11628,,,0,"Adds a process to generate key flow documentation

Octavia extensively uses TaskFlow flows for orchestration.
To make it easier for developers to understand these flows,
this patch adds a mechanism for generating graphviz representations
of the key Octavia TaskFlow flows.
It also updates our tox docs task to generate this documentation.

This patch depends on a fix to the TaskFlow export_to_dot method.

Added into conf.py as first step of configuration

Closes-Bug: #1561063
Change-Id: I914e1c062b400148565def37ccf618b3d2ea2573
Depends-On: I99f87af0b2bed959fcb43ef611b3186e23bd9549
",git fetch https://review.opendev.org/openstack/octavia refs/changes/23/297423/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', '.gitignore', 'tools/dump_taskflow_flows.py', 'tools/flow-list.txt', 'doc-requirements.txt', 'doc/source/devref/flows.rst', 'tox.ini']",7,ab2123389390ff6db5b737338adbd05ced5175e6,bug/1561063,commands = python tools/dump_taskflow_flows.py -f tools/flow-list.txt \ -o doc/source/devref/flow_diagrams python setup.py build_sphinx,commands = python setup.py build_sphinx,208,1
openstack%2Fironic~master~I6a7f522ae9c7d58f216a7d5dfedf067da0a0fc32,openstack/ironic,master,I6a7f522ae9c7d58f216a7d5dfedf067da0a0fc32,IPMINative: Check the boot mode when setting the boot device,MERGED,2016-08-11 15:19:33.000000000,2016-08-12 03:49:07.000000000,2016-08-11 19:43:02.000000000,"[{'_account_id': 3}, {'_account_id': 7080}, {'_account_id': 10118}, {'_account_id': 10343}, {'_account_id': 12356}, {'_account_id': 14760}, {'_account_id': 17998}]","[{'number': 1, 'created': '2016-08-11 15:19:33.000000000', 'files': ['releasenotes/notes/ipminative-bootdev-uefi-954a0dd825bcef97.yaml', 'ironic/drivers/modules/ipminative.py', 'ironic/tests/unit/drivers/modules/test_ipminative.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bcfab9f8ba6c1fb8f31c6b1f861620ac98d638b0', 'message': 'IPMINative: Check the boot mode when setting the boot device\n\nThis patch is making the ipminative drive to take in consideration the\nboot mode (UEFI or BIOS) of the node when changing its boot device\norder. Otherwise, nodes in UEFI will switch to legacy BIOS as part of\nthe set_boot_device() call.\n\nCloses-Bug: #1612287\nChange-Id: I6a7f522ae9c7d58f216a7d5dfedf067da0a0fc32\n'}]",3,354153,bcfab9f8ba6c1fb8f31c6b1f861620ac98d638b0,13,7,1,6773,,,0,"IPMINative: Check the boot mode when setting the boot device

This patch is making the ipminative drive to take in consideration the
boot mode (UEFI or BIOS) of the node when changing its boot device
order. Otherwise, nodes in UEFI will switch to legacy BIOS as part of
the set_boot_device() call.

Closes-Bug: #1612287
Change-Id: I6a7f522ae9c7d58f216a7d5dfedf067da0a0fc32
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/354153/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ipminative-bootdev-uefi-954a0dd825bcef97.yaml', 'ironic/drivers/modules/ipminative.py', 'ironic/tests/unit/drivers/modules/test_ipminative.py']",3,bcfab9f8ba6c1fb8f31c6b1f861620ac98d638b0,bug/1612287,"from ironic.drivers.modules import deploy_utils ipmicmd.set_bootdev.assert_called_once_with('network', persist=False, uefiboot=False) ipmicmd.set_bootdev.assert_called_once_with('network', persist=False, uefiboot=False) ipmicmd.set_bootdev.assert_called_once_with('network', persist=False, uefiboot=False) @mock.patch.object(deploy_utils, 'get_boot_mode_for_deploy') @mock.patch('pyghmi.ipmi.command.Command', autospec=True) def test_set_boot_device_uefi(self, ipmi_mock, boot_mode_mock): ipmicmd = ipmi_mock.return_value boot_mode_mock.return_value = 'uefi' with task_manager.acquire(self.context, self.node.uuid) as task: self.driver.management.set_boot_device(task, boot_devices.PXE) # PXE is converted to 'network' internally by ipminative ipmicmd.set_bootdev.assert_called_once_with('network', persist=False, uefiboot=True) @mock.patch.object(deploy_utils, 'get_boot_mode_for_deploy') @mock.patch('pyghmi.ipmi.command.Command', autospec=True) def test_set_boot_device_uefi_and_persistent( self, ipmi_mock, boot_mode_mock): ipmicmd = ipmi_mock.return_value boot_mode_mock.return_value = 'uefi' with task_manager.acquire(self.context, self.node.uuid) as task: self.driver.management.set_boot_device(task, boot_devices.PXE, persistent=True) # PXE is converted to 'network' internally by ipminative ipmicmd.set_bootdev.assert_called_once_with('network', persist=True, uefiboot=True) "," ipmicmd.set_bootdev.assert_called_once_with('network', persist=False) ipmicmd.set_bootdev.assert_called_once_with('network', persist=False) ipmicmd.set_bootdev.assert_called_once_with('network', persist=False)",43,4
openstack%2Ftrove~master~I89b6c576e4d7a2eb19dc92afbc63f00f7c5ff8e9,openstack/trove,master,I89b6c576e4d7a2eb19dc92afbc63f00f7c5ff8e9,Pass 'guest_log_expiry' as a string,MERGED,2016-08-10 16:15:09.000000000,2016-08-12 03:43:03.000000000,2016-08-12 03:43:03.000000000,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 12758}, {'_account_id': 14576}]","[{'number': 1, 'created': '2016-08-10 16:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/72636635568ab60fc891cfd56a6638a7e9092f98', 'message': ""Pass 'guest_log_expiry' as a string\n\nSwift requires this header value be of type 'string'.\nThe actual value must still be an integer though.\n\nChange-Id: I89b6c576e4d7a2eb19dc92afbc63f00f7c5ff8e9\n""}, {'number': 2, 'created': '2016-08-10 21:47:46.000000000', 'files': ['trove/guestagent/guest_log.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/9b48456283de0557ec8e5a19513bf765cdb70eda', 'message': ""Pass 'guest_log_expiry' as a string\n\nSwift requires this header value be of type 'string'.\nThe actual value must still be an integer though.\n\nChange-Id: I89b6c576e4d7a2eb19dc92afbc63f00f7c5ff8e9\n""}]",1,353625,9b48456283de0557ec8e5a19513bf765cdb70eda,16,5,2,14576,,,0,"Pass 'guest_log_expiry' as a string

Swift requires this header value be of type 'string'.
The actual value must still be an integer though.

Change-Id: I89b6c576e4d7a2eb19dc92afbc63f00f7c5ff8e9
",git fetch https://review.opendev.org/openstack/trove refs/changes/25/353625/2 && git format-patch -1 --stdout FETCH_HEAD,['trove/guestagent/guest_log.py'],1,72636635568ab60fc891cfd56a6638a7e9092f98,, return {'X-Delete-After': str(CONF.guest_log_expiry)}, return {'X-Delete-After': CONF.guest_log_expiry},1,1
openstack%2Fzun~master~Ide8a800cebc255548e26dfa6620bcbb07245f35c,openstack/zun,master,Ide8a800cebc255548e26dfa6620bcbb07245f35c,Add Container controller,MERGED,2016-06-10 18:09:25.000000000,2016-08-12 03:23:37.000000000,2016-08-12 03:23:37.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 11034}, {'_account_id': 11536}, {'_account_id': 12175}]","[{'number': 1, 'created': '2016-06-10 18:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/436e40f5688dc25589ec83d8316062e6d6e346ba', 'message': '[WIP] Add Container controller\n\nChange-Id: Ide8a800cebc255548e26dfa6620bcbb07245f35c\n'}, {'number': 2, 'created': '2016-08-01 19:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/854bc9d32cc92ec6306617f9594d85420bdfc854', 'message': '[WIP] Add Container controller\n\nChange-Id: Ide8a800cebc255548e26dfa6620bcbb07245f35c\n'}, {'number': 3, 'created': '2016-08-08 19:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/19819542649cf2aa4a3185437ab5355fcebbe75f', 'message': 'Add Container controller\n\nChange-Id: Ide8a800cebc255548e26dfa6620bcbb07245f35c\n'}, {'number': 4, 'created': '2016-08-08 19:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/db8aeab1c61965be316ac67c06ae00a11e455788', 'message': 'Add Container controller\n\nChange-Id: Ide8a800cebc255548e26dfa6620bcbb07245f35c\n'}, {'number': 5, 'created': '2016-08-10 07:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/d31aa70407648f225ec414c45c0e670addaa16df', 'message': 'Add Container controller\n\nChange-Id: Ide8a800cebc255548e26dfa6620bcbb07245f35c\n'}, {'number': 6, 'created': '2016-08-10 12:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/73466be269664966d191e41baff46d759ec85037', 'message': 'Add Container controller\n\nChange-Id: Ide8a800cebc255548e26dfa6620bcbb07245f35c\n'}, {'number': 7, 'created': '2016-08-10 23:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/b5caaf600af54fa3ca7c4eda03c77feeb565d78f', 'message': 'Add Container controller\n\nChange-Id: Ide8a800cebc255548e26dfa6620bcbb07245f35c\n'}, {'number': 8, 'created': '2016-08-11 21:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/b73ffe35934b4d7cef7023f70b39228aced35234', 'message': 'Add Container controller\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\n\nChange-Id: Ide8a800cebc255548e26dfa6620bcbb07245f35c\n'}, {'number': 9, 'created': '2016-08-11 23:11:21.000000000', 'files': ['zun/tests/unit/db/utils.py', 'zun/compute/api.py', 'zun/api/controllers/v1/zun_services.py', 'zun/common/context.py', 'zun/tests/base.py', 'zun/api/controllers/types.py', 'requirements.txt', 'zun/tests/policy_fixture.py', 'zun/api/config.py', 'zun/api/controllers/v1/__init__.py', 'zun/tests/fake_policy.py', 'zun/tests/unit/objects/utils.py', 'zun/compute/manager.py', 'zun/tests/unit/api/controllers/v1/test_containers.py', 'zun/api/hooks.py', 'zun/objects/container.py', 'zun/api/controllers/base.py', 'zun/common/utils.py', 'zun/common/policy.py', 'zun/api/app.py', 'etc/zun/policy.json', 'zun/db/sqlalchemy/alembic/versions/93fbb05b77b9_add_memory_field_to_container.py', 'zun/tests/unit/api/base.py', 'zun/api/utils.py', 'zun/db/sqlalchemy/models.py', 'zun/common/exception.py', 'zun/tests/unit/objects/test_container.py', 'zun/api/controllers/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/f7a8f49937006da5219641a2f1cf2966fa5f6403', 'message': 'Add Container controller\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\n\nChange-Id: Ide8a800cebc255548e26dfa6620bcbb07245f35c\n'}]",7,328444,f7a8f49937006da5219641a2f1cf2966fa5f6403,28,5,9,10206,,,0,"Add Container controller

Co-Authored-By: Hongbin Lu <hongbin034@gmail.com>

Change-Id: Ide8a800cebc255548e26dfa6620bcbb07245f35c
",git fetch https://review.opendev.org/openstack/zun refs/changes/44/328444/8 && git format-patch -1 --stdout FETCH_HEAD,"['zun/api/utils.py', 'zun/api/controllers/v1/__init__.py', 'zun/common/policy.py', 'zun/objects/fields.py', 'zun/tests/unit/api/controllers/v1/test_containers.py', 'zun/api/controllers/types.py', 'zun/api/controllers/v1/containers.py', 'zun/api/controllers/base.py']",8,436e40f5688dc25589ec83d8316062e6d6e346ba,docker_apis," class APIBase(object): def __init__(self, **kwargs): for field in self.fields: if field in kwargs: value = kwargs[field] setattr(self, field, value) def __setattr__(self, field, value): if field in self.fields: validator = self.fields[field]['validate'] kwargs = self.fields[field].get('validate_args', {}) value = validator(value, **kwargs) super(APIBase, self).__setattr__(field, value) return {f: getattr(self, f) for f in self.fields if hasattr(self, f)} def __json__(self): return self.as_dict()","import datetime import wsme from wsme import types as wtypes class APIBase(wtypes.Base): created_at = wsme.wsattr(datetime.datetime, readonly=True) """"""The time in UTC at which the object is created"""""" updated_at = wsme.wsattr(datetime.datetime, readonly=True) """"""The time in UTC at which the object is updated"""""" return {k: getattr(self, k) for k in self.fields if hasattr(self, k) and getattr(self, k) != wsme.Unset}",1718,33
openstack%2Fmagnum~master~Iea6f3a6124e0c4d29801641aff51e385f0399488,openstack/magnum,master,Iea6f3a6124e0c4d29801641aff51e385f0399488,Change stacks:global_index heat policy to context_is_admin,MERGED,2016-08-06 13:37:09.000000000,2016-08-12 03:19:32.000000000,2016-08-12 03:19:32.000000000,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 12175}, {'_account_id': 13861}, {'_account_id': 20498}]","[{'number': 1, 'created': '2016-08-06 13:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5a0241bc6dcaa672cdbc5f0049140af54fae953a', 'message': 'Change stacks:global_index heat policy to context_is_admin\n\nRule ""context_is_admin"" is defined in heat for admin role\nand heat uses this rule to authorize admin operations.\nSince default admin context can be updated by heat, we\nshould use the rule: context_is_admin.\n\nIn newton, heat updated the admin context to admin role\nwith admin tenant.\n\nChange-Id: Iea6f3a6124e0c4d29801641aff51e385f0399488\nCloses-Bug: #1499302\n'}, {'number': 2, 'created': '2016-08-11 17:07:39.000000000', 'files': ['doc/source/userguide.rst', 'devstack/lib/magnum'], 'web_link': 'https://opendev.org/openstack/magnum/commit/28d8eca8c17f7477d62b22080b20bbedb20dea3c', 'message': 'Change stacks:global_index heat policy to context_is_admin\n\nRule ""context_is_admin"" is defined in heat for admin role\nand heat uses this rule to authorize admin operations.\nSince default admin context can be updated by heat, we\nshould use the rule: context_is_admin.\n\nIn newton, heat updated the admin context to admin role\nwith admin tenant in following patch:-\nhttps://review.openstack.org/#/c/316627/\n\nChange-Id: Iea6f3a6124e0c4d29801641aff51e385f0399488\nCloses-Bug: #1499302\n'}]",2,352020,28d8eca8c17f7477d62b22080b20bbedb20dea3c,12,5,2,13861,,,0,"Change stacks:global_index heat policy to context_is_admin

Rule ""context_is_admin"" is defined in heat for admin role
and heat uses this rule to authorize admin operations.
Since default admin context can be updated by heat, we
should use the rule: context_is_admin.

In newton, heat updated the admin context to admin role
with admin tenant in following patch:-
https://review.openstack.org/#/c/316627/

Change-Id: Iea6f3a6124e0c4d29801641aff51e385f0399488
Closes-Bug: #1499302
",git fetch https://review.opendev.org/openstack/magnum refs/changes/20/352020/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/magnum'],1,5a0241bc6dcaa672cdbc5f0049140af54fae953a,bug/1499302," sed -i 's/\(""stacks:global_index"":\).*$/\1 ""rule:context_is_admin"",/' $HEAT_CONF_DIR/policy.json"," sed -i 's/\(""stacks:global_index"":\).*$/\1 ""role:admin"",/' $HEAT_CONF_DIR/policy.json",1,1
openstack%2Fpython-muranoclient~master~I0ccb92dc20224e5d4e8a4bd5a3f6fe9731097d6a,openstack/python-muranoclient,master,I0ccb92dc20224e5d4e8a4bd5a3f6fe9731097d6a,Updated from global requirements,MERGED,2016-08-11 18:18:03.000000000,2016-08-12 03:07:57.000000000,2016-08-12 03:07:57.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 15168}]","[{'number': 1, 'created': '2016-08-11 18:18:03.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/6d412931db7c2089b95f3589ff801383e6c8f5d8', 'message': 'Updated from global requirements\n\nChange-Id: I0ccb92dc20224e5d4e8a4bd5a3f6fe9731097d6a\n'}]",0,354313,6d412931db7c2089b95f3589ff801383e6c8f5d8,9,4,1,11131,,,0,"Updated from global requirements

Change-Id: I0ccb92dc20224e5d4e8a4bd5a3f6fe9731097d6a
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/13/354313/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6d412931db7c2089b95f3589ff801383e6c8f5d8,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Fpython-neutronclient~master~I520ea471f5ab2681d0890370349433440734ab69,openstack/python-neutronclient,master,I520ea471f5ab2681d0890370349433440734ab69,Add 'shared' option to neutron address-scope-update,MERGED,2016-01-26 03:16:13.000000000,2016-08-12 03:07:48.000000000,2016-08-12 03:07:48.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 6951}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 7812}, {'_account_id': 8410}, {'_account_id': 10765}, {'_account_id': 12999}, {'_account_id': 14605}, {'_account_id': 17211}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-01-26 03:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/fa2329d815dd45c000c164bb8678ea9a70469f76', 'message': ""Add 'shared' option to neutron address-scope-update\n\nWith reference to [1], neutron address-scope-update has 'shared'\noption missing. The following patch fixes this issue.\n\n[1]:https://github.com/openstack/neutron/blob/9b830dde9b1f445b0c96d038af66e43e6d4bf0d7/neutron/extensions/address_scope.py\n\nTrivialFix\n\nChange-Id: I520ea471f5ab2681d0890370349433440734ab69\n""}, {'number': 2, 'created': '2016-01-26 08:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/ba27bbfc4f4191b79c8730897d00e9accda75ddd', 'message': ""Add 'shared' option to neutron address-scope-update\n\nWith reference to [1], neutron address-scope-update has 'shared'\noption missing. The following patch fixes this issue.\n\n[1]:https://github.com/openstack/neutron/blob/9b830dde9b1f445b0c96d038af66e43e6d4bf0d7/neutron/extensions/address_scope.py\n\nTrivialFix\n\nChange-Id: I520ea471f5ab2681d0890370349433440734ab69\n""}, {'number': 3, 'created': '2016-02-04 04:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/a6986b00b7b25f5e791d7fdfe0c936da04b67ece', 'message': ""Add 'shared' option to neutron address-scope-update\n\nWith reference to [1], neutron address-scope-update has 'shared'\noption missing. The following patch fixes this issue.\n\n[1]:https://github.com/openstack/neutron/blob/9b830dde9b1f445b0c96d038af66e43e6d4bf0d7/neutron/extensions/address_scope.py\n\nTrivialFix\n\nChange-Id: I520ea471f5ab2681d0890370349433440734ab69\n""}, {'number': 4, 'created': '2016-02-05 00:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/362ad0820b211bd192d4fc0b3989fc4b2a07c568', 'message': ""Add 'shared' option to neutron address-scope-update\n\nWith reference to [1], neutron address-scope-update has 'shared'\noption missing. The following patch fixes this issue.\n\n[1]:https://github.com/openstack/neutron/blob/9b830dde9b1f445b0c96d038af66e43e6d4bf0d7/neutron/extensions/address_scope.py\n\nTrivialFix\n\nChange-Id: I520ea471f5ab2681d0890370349433440734ab69\n""}, {'number': 5, 'created': '2016-02-12 04:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/5470910158d5b30ab6a466ed4876aaa63fb47bb8', 'message': ""Add 'shared' option to neutron address-scope-update\n\nWith reference to [1], neutron address-scope-update has 'shared'\noption missing. The following patch fixes this issue.\n\n[1]:https://github.com/openstack/neutron/blob/9b830dde9b1f445b0c96d038af66e43e6d4bf0d7/neutron/extensions/address_scope.py\n\nTrivialFix\n\nChange-Id: I520ea471f5ab2681d0890370349433440734ab69\n""}, {'number': 6, 'created': '2016-03-08 08:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/f1989771134d12bc68a31873caccfb3a769742a8', 'message': ""Add 'shared' option to neutron address-scope-update\n\nWith reference to [1], neutron address-scope-update has 'shared'\noption missing. The following patch fixes this issue.\n\n[1]:https://github.com/openstack/neutron/blob/9b830dde9b1f445b0c96d038af66e43e6d4bf0d7/neutron/extensions/address_scope.py\n\nTrivialFix\n\nChange-Id: I520ea471f5ab2681d0890370349433440734ab69\n""}, {'number': 7, 'created': '2016-03-16 22:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/f2775a21525bbc0dc8d98e183ac15da2586ceb40', 'message': ""Add 'shared' option to neutron address-scope-update\n\nWith reference to [1], neutron address-scope-update has 'shared'\noption missing. The following patch fixes this issue.\n\n[1]:https://github.com/openstack/neutron/blob/9b830dde9b1f445b0c96d038af66e43e6d4bf0d7/neutron/extensions/address_scope.py\n\nTrivialFix\n\nChange-Id: I520ea471f5ab2681d0890370349433440734ab69\n""}, {'number': 8, 'created': '2016-04-11 07:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/66b7d41099760b01b095731917bcbbf58b335193', 'message': ""Add 'shared' option to neutron address-scope-update\n\nWith reference to [1], neutron address-scope-update has 'shared'\noption missing. The following patch fixes this issue.\n\n[1]:https://github.com/openstack/neutron/blob/9b830dde9b1f445b0c96d038af66e43e6d4bf0d7/neutron/extensions/address_scope.py\n\nTrivialFix\n\nChange-Id: I520ea471f5ab2681d0890370349433440734ab69\n""}, {'number': 9, 'created': '2016-06-14 06:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/b6b511bdbffa8d73cef219812f10aac4340928e8', 'message': ""Add 'shared' option to neutron address-scope-update\n\nWith reference to [1], neutron address-scope-update has 'shared'\noption missing. The following patch fixes this issue.\n\n[1]:https://github.com/openstack/neutron/blob/9b830dde9b1f445b0c96d038af66e43e6d4bf0d7/neutron/extensions/address_scope.py\n\nTrivialFix\n\nChange-Id: I520ea471f5ab2681d0890370349433440734ab69\n""}, {'number': 10, 'created': '2016-06-27 08:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/f93a6dcbb826172fb6639b68f88ad2783088f19b', 'message': ""Add 'shared' option to neutron address-scope-update\n\nWith reference to [1], neutron address-scope-update has 'shared'\noption missing. The following patch fixes this issue.\n\n[1]:https://github.com/openstack/neutron/blob/9b830dde9b1f445b0c96d038af66e43e6d4bf0d7/neutron/extensions/address_scope.py\n\nTrivialFix\n\nChange-Id: I520ea471f5ab2681d0890370349433440734ab69\n""}, {'number': 11, 'created': '2016-07-01 04:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/5d54a747a5d9fdbed9c1ce97fafed77c2f27f371', 'message': ""Add 'shared' option to neutron address-scope-update\n\nWith reference to [1], neutron address-scope-update has 'shared'\noption missing. The following patch fixes this issue.\n\n[1]:https://github.com/openstack/neutron/blob/9b830dde9b1f445b0c96d038af66e43e6d4bf0d7/neutron/extensions/address_scope.py\n\nTrivialFix\n\nChange-Id: I520ea471f5ab2681d0890370349433440734ab69\n""}, {'number': 12, 'created': '2016-08-10 12:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/366c6998b0f3f8150a0269665e137914df9ba25d', 'message': ""Add 'shared' option to neutron address-scope-update\n\nWith reference to [1], neutron address-scope-update has 'shared'\noption missing. The following patch fixes this issue.\n\n[1]:https://github.com/openstack/neutron/blob/9b830dde9b1f445b0c96d038af66e43e6d4bf0d7/neutron/extensions/address_scope.py\n\nTrivialFix\n\nChange-Id: I520ea471f5ab2681d0890370349433440734ab69\n""}, {'number': 13, 'created': '2016-08-11 18:41:33.000000000', 'files': ['neutronclient/tests/unit/test_cli20_address_scope.py', 'neutronclient/neutron/v2_0/address_scope.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/f9ceed4f4326609f2fbf8263d336dfcae82a5bb6', 'message': ""Add 'shared' option to neutron address-scope-update\n\nWith reference to [1], neutron address-scope-update has 'shared'\noption missing. The following patch fixes this issue.\n\n[1]:https://github.com/openstack/neutron/blob/9b830dde9b1f445b0c96d038af66e43e6d4bf0d7/neutron/extensions/address_scope.py\n\nTrivialFix\n\nChange-Id: I520ea471f5ab2681d0890370349433440734ab69\n""}]",3,272365,f9ceed4f4326609f2fbf8263d336dfcae82a5bb6,50,13,13,17776,,,0,"Add 'shared' option to neutron address-scope-update

With reference to [1], neutron address-scope-update has 'shared'
option missing. The following patch fixes this issue.

[1]:https://github.com/openstack/neutron/blob/9b830dde9b1f445b0c96d038af66e43e6d4bf0d7/neutron/extensions/address_scope.py

TrivialFix

Change-Id: I520ea471f5ab2681d0890370349433440734ab69
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/65/272365/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/tests/unit/test_cli20_address_scope.py', 'neutronclient/neutron/v2_0/address_scope.py']",2,fa2329d815dd45c000c164bb8678ea9a70469f76,address-scope-update,"from neutronclient.common import utils utils.add_boolean_argument( parser, '--shared', help=_('Enable/Disable sharing of address scope.(True means shared)')) neutronV20.update_dict(parsed_args, body, ['name', 'shared'])"," neutronV20.update_dict(parsed_args, body, ['name'])",10,1
openstack%2Fironic~master~I11456fb035fe41fe46f1ff04e4d56c9f85b9e19d,openstack/ironic,master,I11456fb035fe41fe46f1ff04e4d56c9f85b9e19d,IPMITool: Check the boot mode when setting the boot device,MERGED,2016-08-09 10:03:26.000000000,2016-08-12 02:56:25.000000000,2016-08-11 17:50:40.000000000,"[{'_account_id': 3}, {'_account_id': 6637}, {'_account_id': 6773}, {'_account_id': 7080}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 10375}, {'_account_id': 14525}, {'_account_id': 17998}, {'_account_id': 18893}, {'_account_id': 21909}]","[{'number': 1, 'created': '2016-08-09 10:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c876c0283a5d669bb9586d19e92c3a33d1a22697', 'message': 'IPMITool: Check the boot mode when setting the boot device\n\nThis patch is fixing a problem where the ipmitool option ""efiboot""\nwasn\'t passed as part of the command to set the boot device for UEFI\nnodes causing them to switch back to legacy BIOS.\n\nCloses-Bug: #1611306\nChange-Id: I11456fb035fe41fe46f1ff04e4d56c9f85b9e19d\n'}, {'number': 2, 'created': '2016-08-09 16:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ca9c69564919f1752708bdd3c2ddbd439e47a4ab', 'message': 'IPMITool: Check the boot mode when setting the boot device\n\nThis patch is fixing a problem where the ipmitool option ""efiboot""\nwasn\'t passed as part of the command to set the boot device for UEFI\nnodes causing them to switch back to legacy BIOS.\n\nThis patch also does a major refactor on the set_boot_device() method\nfrom IPMITool. The ipmitool command does not seem to allow us to set\nUEFI + persistent (options=efiboot,persiste) as part of the command to\nchange the boot deivce, therefore, this patch is sending raw data to\napply the desired boot device and mode.\n\nCloses-Bug: #1611306\nChange-Id: I11456fb035fe41fe46f1ff04e4d56c9f85b9e19d\n'}, {'number': 3, 'created': '2016-08-09 16:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/96bbe0ea23c1a485045e12966f8d20d0b3016b30', 'message': 'IPMITool: Check the boot mode when setting the boot device\n\nThis patch is fixing a problem where the ipmitool option ""efiboot""\nwasn\'t passed as part of the command to set the boot device for UEFI\nnodes causing them to switch back to legacy BIOS.\n\nThis patch also does a major refactor on the set_boot_device() method\nfrom IPMITool. The ipmitool command does not seem to allow us to set\nUEFI + persistent (options=efiboot,persiste) as part of the command to\nchange the boot deivce, therefore, this patch is sending raw data to\napply the desired boot device and mode.\n\nCloses-Bug: #1611306\nChange-Id: I11456fb035fe41fe46f1ff04e4d56c9f85b9e19d\n'}, {'number': 4, 'created': '2016-08-09 16:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c3f0c73d115da35115c8322a2939957a3a5c0da0', 'message': 'IPMITool: Check the boot mode when setting the boot device\n\nThis patch is fixing a problem where the ipmitool option ""efiboot""\nwasn\'t passed as part of the command to set the boot device for UEFI\nnodes causing them to switch back to legacy BIOS.\n\nThis patch also does a major refactor on the set_boot_device() method\nfrom IPMITool. The ipmitool command does not seem to allow us to set\nUEFI + persistent (options=efiboot,persiste) as part of the command to\nchange the boot deivce, therefore, this patch is sending raw data to\napply the desired boot device and mode.\n\nCloses-Bug: #1611306\nChange-Id: I11456fb035fe41fe46f1ff04e4d56c9f85b9e19d\n'}, {'number': 5, 'created': '2016-08-10 09:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3dc2fee6b23f9df415a422d7a930ba50a75e8e2e', 'message': 'IPMITool: Check the boot mode when setting the boot device\n\nThis patch is fixing a problem where the ipmitool option ""efiboot""\nwasn\'t passed as part of the command to set the boot device for UEFI\nnodes causing them to switch back to legacy BIOS.\n\nA FIXME note was left in the code. It seems that ipmitool has a problem\nsetting the efiboot + persistent at the same time (see the bug\nraw bytes when changing the boot device.\n\nCloses-Bug: #1611306\nChange-Id: I11456fb035fe41fe46f1ff04e4d56c9f85b9e19d\n'}, {'number': 6, 'created': '2016-08-10 10:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3cba61aa830236222cae025e15060f4fe31aee2f', 'message': 'IPMITool: Check the boot mode when setting the boot device\n\nThis patch is fixing a problem where the ipmitool option ""efiboot""\nwasn\'t passed as part of the command to set the boot device for UEFI\nnodes causing them to switch back to legacy BIOS.\n\nA FIXME note was left in the code. It seems that ipmitool has a problem\nsetting the efiboot + persistent at the same time (see the bug\nraw bytes when changing the boot device.\n\nCloses-Bug: #1611306\nChange-Id: I11456fb035fe41fe46f1ff04e4d56c9f85b9e19d\n'}, {'number': 7, 'created': '2016-08-11 13:53:46.000000000', 'files': ['ironic/drivers/modules/ipmitool.py', 'releasenotes/notes/ipmitool-bootdev-persistent-uefi-b1181a3c82343c8f.yaml', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6419cc2118e9d8c613156f6d4aeae5db46aa385d', 'message': 'IPMITool: Check the boot mode when setting the boot device\n\nThis patch is fixing a problem where the ipmitool option ""efiboot""\nwasn\'t passed as part of the command to set the boot device for UEFI\nnodes causing them to switch back to legacy BIOS.\n\nA FIXME note was left in the code. It seems that ipmitool has a problem\nsetting the efiboot + persistent options at the same time\n(see bug #1611306). It seems multiple options ought to be specified\ntogether, and that works, except for efiboot. Therefore this patch is\nusing raw bytes to change the boot device when persistent and uefi are\nspecified, that way it will work for newer and older versions of the\nipmitool utility.\n\nCloses-Bug: #1611306\nChange-Id: I11456fb035fe41fe46f1ff04e4d56c9f85b9e19d\n'}]",25,352820,6419cc2118e9d8c613156f6d4aeae5db46aa385d,48,12,7,6773,,,0,"IPMITool: Check the boot mode when setting the boot device

This patch is fixing a problem where the ipmitool option ""efiboot""
wasn't passed as part of the command to set the boot device for UEFI
nodes causing them to switch back to legacy BIOS.

A FIXME note was left in the code. It seems that ipmitool has a problem
setting the efiboot + persistent options at the same time
(see bug #1611306). It seems multiple options ought to be specified
together, and that works, except for efiboot. Therefore this patch is
using raw bytes to change the boot device when persistent and uefi are
specified, that way it will work for newer and older versions of the
ipmitool utility.

Closes-Bug: #1611306
Change-Id: I11456fb035fe41fe46f1ff04e4d56c9f85b9e19d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/352820/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py']",2,c876c0283a5d669bb9586d19e92c3a33d1a22697,bug/1611306,"from ironic.drivers.modules import deploy_utils @mock.patch.object(deploy_utils, 'get_boot_mode_for_deploy') @mock.patch.object(ipmi, '_exec_ipmitool', autospec=True) def test_management_interface_set_boot_device_uefi(self, mock_exec, mock_boot_mode): mock_boot_mode.return_value = 'uefi' mock_exec.return_value = [None, None] with task_manager.acquire(self.context, self.node.uuid) as task: self.driver.management.set_boot_device(task, boot_devices.PXE) mock_calls = [ mock.call(self.info, ""raw 0x00 0x08 0x03 0x08""), mock.call(self.info, ""chassis bootdev pxe options=efiboot"")] mock_exec.assert_has_calls(mock_calls) @mock.patch.object(deploy_utils, 'get_boot_mode_for_deploy') @mock.patch.object(ipmi, '_exec_ipmitool', autospec=True) def test_management_interface_set_boot_device_uefi_and_persistent( self, mock_exec, mock_boot_mode): mock_boot_mode.return_value = 'uefi' mock_exec.return_value = [None, None] with task_manager.acquire(self.context, self.node.uuid) as task: self.driver.management.set_boot_device(task, boot_devices.PXE, persistent=True) mock_calls = [ mock.call(self.info, ""raw 0x00 0x08 0x03 0x08""), mock.call(self.info, ""chassis bootdev pxe options=efiboot,persistent"")] mock_exec.assert_has_calls(mock_calls) ",,42,2
openstack%2Fmonasca-api~master~Id35458d8af1c7fc21eb19417c7aff1973ef5b771,openstack/monasca-api,master,Id35458d8af1c7fc21eb19417c7aff1973ef5b771,Remove simport from devstack plugin,MERGED,2016-08-10 21:33:18.000000000,2016-08-12 02:48:33.000000000,2016-08-12 02:48:33.000000000,"[{'_account_id': 3}, {'_account_id': 11809}, {'_account_id': 12133}, {'_account_id': 15027}, {'_account_id': 18179}]","[{'number': 1, 'created': '2016-08-10 21:33:18.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/b04a7e115a4adfa54f188750561175bda82976e7', 'message': 'Remove simport from devstack plugin\n\nDuplicate install of simport removed\n\nChange-Id: Id35458d8af1c7fc21eb19417c7aff1973ef5b771\n'}]",0,353746,b04a7e115a4adfa54f188750561175bda82976e7,13,5,1,14273,,,0,"Remove simport from devstack plugin

Duplicate install of simport removed

Change-Id: Id35458d8af1c7fc21eb19417c7aff1973ef5b771
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/46/353746/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,b04a7e115a4adfa54f188750561175bda82976e7,, pip_install $MONASCA_NOTIFICATION_SRC_DIST, PIP_VIRTUAL_ENV=/opt/monasca pip_install --pre --allow-all-external --allow-unverified simport simport unset PIP_VIRTUAL_ENV pip_install --allow-unverified simport $MONASCA_NOTIFICATION_SRC_DIST,1,7
openstack%2Fproject-config~master~I51ed3bca4e27e82d75c063a7c2a6412174216d14,openstack/project-config,master,I51ed3bca4e27e82d75c063a7c2a6412174216d14,Enable file injection in neutron full ssh job,MERGED,2016-07-03 23:48:29.000000000,2016-08-12 02:46:21.000000000,2016-08-09 20:27:29.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 8556}]","[{'number': 1, 'created': '2016-07-03 23:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/063ffbe16e672f8552ccb6d7f40b452acafd69ff', 'message': ""Enable file injection in neutron full ssh job\n\nThis was previously enabled in tempest but was broken\nby default since the libvirt driver disables file\ninjection by default, so this job fails because it\nssh's into the guest to verify the injected files exist,\nwhich they wouldn't by default.\n\nNova is being fixed to fail a server create request if\nit can't inject files, and devstack is being updated to\nconfigure the stack to test this properly.\n\nRelated-Bug: #1598581\n\nChange-Id: I51ed3bca4e27e82d75c063a7c2a6412174216d14\nDepends-On: I34790fadeffd6e3fdc65bd9feed3d6e62316896c\nDepends-On: Ieb0f64847e31622bd86d1c5f4672c37b3a89f197\n""}, {'number': 2, 'created': '2016-07-04 13:09:02.000000000', 'files': ['jenkins/jobs/devstack-gate.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4b9af66e95b7dc099c12fb68e3479ddb9d800526', 'message': ""Enable file injection in neutron full ssh job\n\nThis was previously enabled in tempest but was broken\nby default since the libvirt driver disables file\ninjection by default, so this job fails because it\nssh's into the guest to verify the injected files exist,\nwhich they wouldn't by default.\n\nNova is being fixed to fail a server create request if\nit can't inject files, and devstack is being updated to\nconfigure the stack to test this properly.\n\nRelated-Bug: #1598581\n\nChange-Id: I51ed3bca4e27e82d75c063a7c2a6412174216d14\nDepends-On: I34790fadeffd6e3fdc65bd9feed3d6e62316896c\n""}]",3,336955,4b9af66e95b7dc099c12fb68e3479ddb9d800526,17,6,2,6873,,,0,"Enable file injection in neutron full ssh job

This was previously enabled in tempest but was broken
by default since the libvirt driver disables file
injection by default, so this job fails because it
ssh's into the guest to verify the injected files exist,
which they wouldn't by default.

Nova is being fixed to fail a server create request if
it can't inject files, and devstack is being updated to
configure the stack to test this properly.

Related-Bug: #1598581

Change-Id: I51ed3bca4e27e82d75c063a7c2a6412174216d14
Depends-On: I34790fadeffd6e3fdc65bd9feed3d6e62316896c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/336955/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/devstack-gate.yaml'],1,063ffbe16e672f8552ccb6d7f40b452acafd69ff,bug/1598581," export DEVSTACK_LOCAL_CONFIG+=$'\n'""ENABLE_FILE_INJECTION=True""",,1,0
openstack%2Fpuppet-monasca~master~I431f5f3fcdc934dcb6e65a29fcc43ed94a813095,openstack/puppet-monasca,master,I431f5f3fcdc934dcb6e65a29fcc43ed94a813095,Allow tuning of database connection thread pool settings,MERGED,2016-08-11 19:48:31.000000000,2016-08-12 02:30:14.000000000,2016-08-12 02:30:14.000000000,"[{'_account_id': 3}, {'_account_id': 8126}, {'_account_id': 9500}, {'_account_id': 11155}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 19861}]","[{'number': 1, 'created': '2016-08-11 19:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/73835f5ae74f5fc3de8a2785afbf377c3c3b5102', 'message': 'Allow tuning of database connection thread pool settings\n\nChange-Id: I431f5f3fcdc934dcb6e65a29fcc43ed94a813095\n'}, {'number': 2, 'created': '2016-08-11 19:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/3bda7cec3092af87d47b328ee9154a093e9e795a', 'message': 'Allow tuning of database connection thread pool settings\n\nChange-Id: I431f5f3fcdc934dcb6e65a29fcc43ed94a813095\n'}, {'number': 3, 'created': '2016-08-11 20:41:14.000000000', 'files': ['templates/api-config.yml.erb', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/276d33a725fc77fa49c731ad9ee882dc095b2332', 'message': 'Allow tuning of database connection thread pool settings\n\nChange-Id: I431f5f3fcdc934dcb6e65a29fcc43ed94a813095\n'}]",2,354356,276d33a725fc77fa49c731ad9ee882dc095b2332,17,7,3,8126,,,0,"Allow tuning of database connection thread pool settings

Change-Id: I431f5f3fcdc934dcb6e65a29fcc43ed94a813095
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/56/354356/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/api-config.yml.erb', 'manifests/api.pp']",2,73835f5ae74f5fc3de8a2785afbf377c3c3b5102,allow_vertica_conn_tuning,"# [*api_db_thread_min*] # (Optional) Minimum number of threads for db connection pool. # Defaults to 4. # # [*api_db_wait*] # (Optional) Amount of time to wait for db connection. # Defaults to '5s'. # # [*api_db_thread_max*] # (Optional) Maximum number of threads for db connection pool. # Defaults to 32. # $api_db_thread_min = 4, $api_db_thread_max = 32, $api_db_wait = '5s',",,18,3
openstack%2Foctavia~master~Icdc5c18e7592caa9d3b1d15d5e5c2cc0ecb8e17d,openstack/octavia,master,Icdc5c18e7592caa9d3b1d15d5e5c2cc0ecb8e17d,No need to use getattr func to get a value,MERGED,2016-07-22 02:17:12.000000000,2016-08-12 02:29:20.000000000,2016-08-12 02:25:19.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 7293}, {'_account_id': 10273}, {'_account_id': 11685}, {'_account_id': 12040}, {'_account_id': 14591}, {'_account_id': 16923}]","[{'number': 1, 'created': '2016-07-22 02:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e0f88c5704dcab1c12e9429f129faa3b621f773f', 'message': 'No need to use getattr func to get a value\n\nChange-Id: Icdc5c18e7592caa9d3b1d15d5e5c2cc0ecb8e17d\n'}, {'number': 2, 'created': '2016-07-22 04:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b9166b4d5bd893b1743286b4a2d76307712bb815', 'message': 'No need to use getattr func to get a value\n\nChange-Id: Icdc5c18e7592caa9d3b1d15d5e5c2cc0ecb8e17d\n'}, {'number': 3, 'created': '2016-07-22 06:41:26.000000000', 'files': ['octavia/compute/drivers/nova_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/08570831754d9671fbd1756d668f55f191e47ca4', 'message': 'No need to use getattr func to get a value\n\nChange-Id: Icdc5c18e7592caa9d3b1d15d5e5c2cc0ecb8e17d\n'}]",0,345730,08570831754d9671fbd1756d668f55f191e47ca4,29,8,3,19956,,,0,"No need to use getattr func to get a value

Change-Id: Icdc5c18e7592caa9d3b1d15d5e5c2cc0ecb8e17d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/30/345730/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/compute/drivers/nova_driver.py'],1,e0f88c5704dcab1c12e9429f129faa3b621f773f,getattr," net_id = interface.net_id # TODO(ptoohill) amp_network deprecated, remove amp_network # block when ready.. if net_id in CONF.controller_worker.amp_boot_network_list or\ net_id == CONF.controller_worker.amp_network: lb_network_ip = interface.fixed_ips[0]['ip_address'] compute_id=nova_response.id, status=nova_response.status,"," net_id = getattr(interface, 'net_id') if net_id in CONF.controller_worker.amp_boot_network_list: lb_network_ip = getattr( interface, 'fixed_ips')[0]['ip_address'] break elif net_id == CONF.controller_worker.amp_network: # TODO(ptoohill) deprecated, remove this block when ready.. lb_network_ip = getattr( interface, 'fixed_ips')[0]['ip_address'] compute_id=getattr(nova_response, 'id'), status=getattr(nova_response, 'status'),",8,11
openstack%2Fopenstacksdk~master~I0958ce5d7477da106890dc7770ac013d5b9098f6,openstack/openstacksdk,master,I0958ce5d7477da106890dc7770ac013d5b9098f6,Get endpoints directly from services,MERGED,2016-08-04 20:56:23.000000000,2016-08-12 02:29:05.000000000,2016-08-10 19:08:40.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 8257}, {'_account_id': 8410}]","[{'number': 1, 'created': '2016-08-04 20:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/71ee73b06484881d53a5a3f1d2799e2f6b643c26', 'message': '[WIP] Get endpoints directly from services\n\nWhile investigating an issue with us improperly determining the Identity\nendpoints between v2 and v3, it was mentioned several times that we\nshould really be getting endpoints directly from the services, not from\nthe service catalog. Part of this was a forward looking mention, as\neventually services will be unversioned in the catalog. It\'s also a\ncurrent issue as Identity themselves do not provide a v3 endpoint in the\nservice catalog--only v2.\n\nThis change introduces an implementation of Session.get_endpoint that\nuses the service catalog to get started, taking only the root of a\nservice\'s endpoint, and then making a GET call to that root to find the\nversions and endpoints it is configured for. Once we\'ve received the\nsupported versions, we use somewhat of a fuzzy match to determine the\nexact endpoint.\n\nWhen a profile specifies v2 for a service, we\'ll look for the latest v2\noffered, which could be v2.2 while it also offers v2.0 and v2.1. When a\nuser asks specifically for v2.1, they will get exactly that. The one\nplace we don\'t fuzzily match is across major versions, so if a user asks\nfor a v3 but the service is only providing v2 at the moment, an\nexception will be raised.\n\nThis adds an additional field to the\nServiceFilter--requires_project_id--because there are some services that\nrequire a project id in their URI and some don\'t. We were apparently\ngetting that straight from the service catalog before, but now we need\nservices to tell us when they need it.\n\nNow for the special cases:\n* object_store doesn\'t help us with any of this. It still comes straight\n  out of the service catalog.\n* messaging only provides version fragments, not full URIs, so we need\n  to reconstruct them to prepend the root.\n* identity nests the versions within another dictionary of ""values""\n\nFor any given combination of service_type and interface, a request to\ndetermine the versions is only made once. The endpoints are cached in a\ndictionary that is per-Connection instance.\n\nChange-Id: I0958ce5d7477da106890dc7770ac013d5b9098f6\n'}, {'number': 2, 'created': '2016-08-09 16:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5f448ad1a5321a407b734a1eb9020473fcea5fd8', 'message': 'Get endpoints directly from services\n\nWhile investigating an issue with us improperly determining the Identity\nendpoints between v2 and v3, it was mentioned several times that we\nshould really be getting endpoints directly from the services, not from\nthe service catalog. Part of this was a forward looking mention, as\neventually services will be unversioned in the catalog. It\'s also a\ncurrent issue as Identity themselves do not provide a v3 endpoint in the\nservice catalog--only v2.\n\nThis change introduces an implementation of Session.get_endpoint that\nuses the service catalog to get started, taking only the root of a\nservice\'s endpoint, and then making a GET call to that root to find the\nversions and endpoints it is configured for. Once we\'ve received the\nsupported versions, we use somewhat of a fuzzy match to determine the\nexact endpoint.\n\nWhen a profile specifies v2 for a service, we\'ll look for the latest v2\noffered, which could be v2.2 while it also offers v2.0 and v2.1. When a\nuser asks specifically for v2.1, they will get exactly that. The one\nplace we don\'t fuzzily match is across major versions, so if a user asks\nfor a v3 but the service is only providing v2 at the moment, an\nexception will be raised.\n\nThis adds an additional field to the\nServiceFilter, requires_project_id, because there are some services that\nrequire a project id in their URI and some don\'t. We were apparently\ngetting that straight from the service catalog before, but now we need\nservices to tell us when they need it.\n\nNow for the special cases:\n* object_store doesn\'t help us with any of this. It still comes straight\n  out of the service catalog.\n* some services only provide version fragments, not full URIs, so we need\n  to reconstruct them to prepend the root.\n* identity nests the versions within another dictionary of ""values""\n\nFor any given combination of service_type and interface, a request to\ndetermine the versions is only made once. The endpoints are cached in a\ndictionary that is per-Connection instance.\n\nChange-Id: I0958ce5d7477da106890dc7770ac013d5b9098f6\n'}, {'number': 3, 'created': '2016-08-10 12:02:29.000000000', 'files': ['openstack/exceptions.py', 'openstack/tests/unit/test_profile.py', 'openstack/profile.py', 'openstack/block_store/block_store_service.py', 'openstack/session.py', 'openstack/tests/unit/test_session.py', 'openstack/service_filter.py', 'openstack/tests/unit/test_service_filter.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d5149c9df057758aed9cfb66984856274305a666', 'message': 'Get endpoints directly from services\n\nWhile investigating an issue with us improperly determining the Identity\nendpoints between v2 and v3, it was mentioned several times that we\nshould really be getting endpoints directly from the services, not from\nthe service catalog. Part of this was a forward looking mention, as\neventually services will be unversioned in the catalog. It\'s also a\ncurrent issue as Identity themselves do not provide a v3 endpoint in the\nservice catalog--only v2.\n\nThis change introduces an implementation of Session.get_endpoint that\nuses the service catalog to get started, taking only the root of a\nservice\'s endpoint, and then making a GET call to that root to find the\nversions and endpoints it is configured for. Once we\'ve received the\nsupported versions, we use somewhat of a fuzzy match to determine the\nexact endpoint.\n\nWhen a profile specifies v2 for a service, we\'ll look for the latest v2\noffered, which could be v2.2 while it also offers v2.0 and v2.1. When a\nuser asks specifically for v2.1, they will get exactly that. The one\nplace we don\'t fuzzily match is across major versions, so if a user asks\nfor a v3 but the service is only providing v2 at the moment, an\nexception will be raised.\n\nThis adds an additional field to the\nServiceFilter, requires_project_id, because there are some services that\nrequire a project id in their URI and some don\'t. We were apparently\ngetting that straight from the service catalog before, but now we need\nservices to tell us when they need it.\n\nNow for the special cases:\n* object_store doesn\'t help us with any of this. It still comes straight\n  out of the service catalog.\n* some services only provide version fragments, not full URIs, so we need\n  to reconstruct them to prepend the root.\n* identity nests the versions within another dictionary of ""values""\n\nFor any given combination of service_type and interface, a request to\ndetermine the versions is only made once. The endpoints are cached in a\ndictionary that is per-Connection instance.\n\nChange-Id: I0958ce5d7477da106890dc7770ac013d5b9098f6\n'}]",9,351398,d5149c9df057758aed9cfb66984856274305a666,21,4,3,8257,,,0,"Get endpoints directly from services

While investigating an issue with us improperly determining the Identity
endpoints between v2 and v3, it was mentioned several times that we
should really be getting endpoints directly from the services, not from
the service catalog. Part of this was a forward looking mention, as
eventually services will be unversioned in the catalog. It's also a
current issue as Identity themselves do not provide a v3 endpoint in the
service catalog--only v2.

This change introduces an implementation of Session.get_endpoint that
uses the service catalog to get started, taking only the root of a
service's endpoint, and then making a GET call to that root to find the
versions and endpoints it is configured for. Once we've received the
supported versions, we use somewhat of a fuzzy match to determine the
exact endpoint.

When a profile specifies v2 for a service, we'll look for the latest v2
offered, which could be v2.2 while it also offers v2.0 and v2.1. When a
user asks specifically for v2.1, they will get exactly that. The one
place we don't fuzzily match is across major versions, so if a user asks
for a v3 but the service is only providing v2 at the moment, an
exception will be raised.

This adds an additional field to the
ServiceFilter, requires_project_id, because there are some services that
require a project id in their URI and some don't. We were apparently
getting that straight from the service catalog before, but now we need
services to tell us when they need it.

Now for the special cases:
* object_store doesn't help us with any of this. It still comes straight
  out of the service catalog.
* some services only provide version fragments, not full URIs, so we need
  to reconstruct them to prepend the root.
* identity nests the versions within another dictionary of ""values""

For any given combination of service_type and interface, a request to
determine the versions is only made once. The endpoints are cached in a
dictionary that is per-Connection instance.

Change-Id: I0958ce5d7477da106890dc7770ac013d5b9098f6
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/98/351398/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/test_connection.py', 'openstack/exceptions.py', 'openstack/block_store/block_store_service.py', 'openstack/session.py', 'openstack/tests/unit/test_session.py', 'openstack/service_filter.py']",6,71ee73b06484881d53a5a3f1d2799e2f6b643c26,endpoint_discovery," service_name=None, version=None, api_version=None, requires_project_id=False): :param bool requires_project_id: True if this service's endpoint expects project id to be included. self['requires_project_id'] = requires_project_id def requires_project_id(self): return self['requires_project_id'] @requires_project_id.setter def requires_project_id(self, value): self['requires_project_id'] = value @property"," service_name=None, version=None, api_version=None):",131,42
openstack%2Fpython-muranoclient~master~I4559c86c840b40b9154f80b04b9e1c741e3236e0,openstack/python-muranoclient,master,I4559c86c840b40b9154f80b04b9e1c741e3236e0,Add script for unit test coverage job,MERGED,2016-08-11 06:32:09.000000000,2016-08-12 02:27:13.000000000,2016-08-12 02:27:13.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 13962}, {'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 18795}, {'_account_id': 19290}, {'_account_id': 21649}, {'_account_id': 21877}]","[{'number': 1, 'created': '2016-08-11 06:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/8367365b545be7e6b5d14586775f2ee8fdb29655', 'message': 'Add script for unit test coverage job\n\nThis commit will add script and coverage config file that will allow to run\nnon voting coverage job which will detect any changes in the code coverage\nfor each commit on review.\n\nChange-Id: I4559c86c840b40b9154f80b04b9e1c741e3236e0\n'}, {'number': 2, 'created': '2016-08-11 07:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/c473ebd0ff755c190479b7aef4e5901d5b3cbf5b', 'message': 'Add script for unit test coverage job\n\nThis commit will add script and coverage config file that will allow to run\nnon voting coverage job which will detect any changes in the code coverage\nfor each commit on review.\n\nChange-Id: I4559c86c840b40b9154f80b04b9e1c741e3236e0\n'}, {'number': 3, 'created': '2016-08-11 10:41:44.000000000', 'files': ['tools/cover.sh', '.coveragerc', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/bce18eea17d0896cd52fff66d2091f95b075a4cb', 'message': 'Add script for unit test coverage job\n\nThis commit will add script and coverage config file that will allow to run\nnon voting coverage job which will detect any changes in the code coverage\nfor each commit on review.\n\nChange-Id: I4559c86c840b40b9154f80b04b9e1c741e3236e0\n'}]",4,353853,bce18eea17d0896cd52fff66d2091f95b075a4cb,25,9,3,21877,,,0,"Add script for unit test coverage job

This commit will add script and coverage config file that will allow to run
non voting coverage job which will detect any changes in the code coverage
for each commit on review.

Change-Id: I4559c86c840b40b9154f80b04b9e1c741e3236e0
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/53/353853/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/cover.sh', '.coveragerc', 'tox.ini']",3,8367365b545be7e6b5d14586775f2ee8fdb29655,unit_tests_coverage,commands = {toxinidir}/tools/cover.sh {posargs},commands = python setup.py testr --coverage --testr-args='--concurrency 1 {posargs}',88,1
openstack%2Fpuppet-neutron~stable%2Fmitaka~Ib90ee7858c301e07d1290697c691d9d336c305a9,openstack/puppet-neutron,stable/mitaka,Ib90ee7858c301e07d1290697c691d9d336c305a9,Change MidoNet Plugin package name,MERGED,2016-08-04 15:04:05.000000000,2016-08-12 02:23:24.000000000,2016-08-12 02:23:24.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7505}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-08-04 15:04:05.000000000', 'files': ['spec/unit/type/neutron_plugin_midonet_spec.rb', 'releasenotes/notes/update_midonet_package_name-86a68308aa067cb8.yaml', 'lib/puppet/type/neutron_plugin_midonet.rb', 'manifests/params.pp', 'spec/classes/neutron_plugins_midonet_spec.rb', 'manifests/plugins/midonet.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/dfd4662347bec58644c6f22bf9ba2a433c23b4d9', 'message': 'Change MidoNet Plugin package name\n\nMove the MidoNet package name to the current (and more standard)\n`python-networking-midonet`\n\nCo-Authored-By: Cody Herriges <cody@herriges.org>\n(cherry picked from commit 7f2c802123e63a4bbd33e348b250af2315d7c9b3)\n\nChange-Id: Ib90ee7858c301e07d1290697c691d9d336c305a9\n'}]",0,351235,dfd4662347bec58644c6f22bf9ba2a433c23b4d9,22,4,1,22041,,,0,"Change MidoNet Plugin package name

Move the MidoNet package name to the current (and more standard)
`python-networking-midonet`

Co-Authored-By: Cody Herriges <cody@herriges.org>
(cherry picked from commit 7f2c802123e63a4bbd33e348b250af2315d7c9b3)

Change-Id: Ib90ee7858c301e07d1290697c691d9d336c305a9
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/35/351235/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/type/neutron_plugin_midonet_spec.rb', 'releasenotes/notes/update_midonet_package_name-86a68308aa067cb8.yaml', 'lib/puppet/type/neutron_plugin_midonet.rb', 'manifests/params.pp', 'manifests/plugins/midonet.pp', 'spec/classes/neutron_plugins_midonet_spec.rb']",6,dfd4662347bec58644c6f22bf9ba2a433c23b4d9,," package { 'python-networking-midonet': }"" :require => 'Package[python-networking-midonet]') :require => ['Package[neutron-server]', 'Package[python-networking-midonet]'],"," package { 'python-neutron-plugin-midonet': }"" :require => 'Package[python-neutron-plugin-midonet]') :require => ['Package[neutron-server]', 'Package[python-neutron-plugin-midonet]'],",15,8
openstack%2Freleases~master~I284b7d937aad49bab4b12bc9bf2c4a7fb770f5ea,openstack/releases,master,I284b7d937aad49bab4b12bc9bf2c4a7fb770f5ea,[sahara] python-saharaclient 0.17.0 release,MERGED,2016-08-11 16:57:04.000000000,2016-08-12 02:17:52.000000000,2016-08-12 02:17:52.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2016-08-11 16:57:04.000000000', 'files': ['deliverables/newton/python-saharaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/58333c280298749b3aa3374e3914e1618e33d5c0', 'message': '[sahara] python-saharaclient 0.17.0 release\n\nChange-Id: I284b7d937aad49bab4b12bc9bf2c4a7fb770f5ea\nSigned-off-by: Vitaly Gridnev <vgridnev@mirantis.com>\n'}]",0,354222,58333c280298749b3aa3374e3914e1618e33d5c0,6,2,1,12038,,,0,"[sahara] python-saharaclient 0.17.0 release

Change-Id: I284b7d937aad49bab4b12bc9bf2c4a7fb770f5ea
Signed-off-by: Vitaly Gridnev <vgridnev@mirantis.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/354222/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/newton/python-saharaclient.yaml'],1,58333c280298749b3aa3374e3914e1618e33d5c0,, - version: 0.17.0 projects: - repo: openstack/python-saharaclient hash: 9a440b9f06fb7bd2872170356969df93779c3f29,,4,0
openstack%2Fswift~master~Icbb4c6d461ded4fab2afade09e718b3a74917717,openstack/swift,master,Icbb4c6d461ded4fab2afade09e718b3a74917717,fix swift_oldies on RH based systems,MERGED,2016-08-11 20:25:21.000000000,2016-08-12 02:17:44.000000000,2016-08-12 02:17:44.000000000,"[{'_account_id': 3}, {'_account_id': 597}, {'_account_id': 15343}]","[{'number': 1, 'created': '2016-08-11 20:25:21.000000000', 'files': ['bin/swift-oldies'], 'web_link': 'https://opendev.org/openstack/swift/commit/05b8d9d7fc4e5d1c64385c157431215acda38852', 'message': 'fix swift_oldies on RH based systems\n\nChange-Id: Icbb4c6d461ded4fab2afade09e718b3a74917717\nSigned-off-by: Thiago da Silva <thiago@redhat.com>\n'}]",1,354367,05b8d9d7fc4e5d1c64385c157431215acda38852,6,3,1,9625,,,0,"fix swift_oldies on RH based systems

Change-Id: Icbb4c6d461ded4fab2afade09e718b3a74917717
Signed-off-by: Thiago da Silva <thiago@redhat.com>
",git fetch https://review.opendev.org/openstack/swift refs/changes/67/354367/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/swift-oldies'],1,05b8d9d7fc4e5d1c64385c157431215acda38852,fix_swift_oldies_rhel," '/bin/python /usr/bin/swift-', '/usr/bin/python3 /usr/local/bin/swift-', '/bin/python3 /usr/bin/swift-')):", '/usr/bin/python3 /usr/local/bin/swift-')):,3,1
openstack%2Fzun~master~Ica5e5e55f81741b8ffb0c1f127db9e8b64afdee0,openstack/zun,master,Ica5e5e55f81741b8ffb0c1f127db9e8b64afdee0,Remove conductor from devstack setting,MERGED,2016-08-10 10:41:41.000000000,2016-08-12 02:07:30.000000000,2016-08-12 02:07:30.000000000,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 12175}]","[{'number': 1, 'created': '2016-08-10 10:41:41.000000000', 'files': ['devstack/lib/zun', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/zun/commit/ae83aaeb24c06db7401ea09d0e30e4bf11ff57e8', 'message': ""Remove conductor from devstack setting\n\nNow that we don't have conductor in Zun, let's remove from devstack\nsetting.\n\nChange-Id: Ica5e5e55f81741b8ffb0c1f127db9e8b64afdee0\n""}]",0,353375,ae83aaeb24c06db7401ea09d0e30e4bf11ff57e8,7,3,1,10206,,,0,"Remove conductor from devstack setting

Now that we don't have conductor in Zun, let's remove from devstack
setting.

Change-Id: Ica5e5e55f81741b8ffb0c1f127db9e8b64afdee0
",git fetch https://review.opendev.org/openstack/zun refs/changes/75/353375/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/zun', 'devstack/plugin.sh', 'devstack/settings']",3,ae83aaeb24c06db7401ea09d0e30e4bf11ff57e8,disable_conductor,,enable_service zun-conductor,3,11
openstack%2Fzun~master~Ic843001924bf70b7dab1d1064d7eced48938996d,openstack/zun,master,Ic843001924bf70b7dab1d1064d7eced48938996d,Updated from global requirements,MERGED,2016-08-12 00:18:41.000000000,2016-08-12 02:07:24.000000000,2016-08-12 02:07:24.000000000,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 12175}]","[{'number': 1, 'created': '2016-08-12 00:18:41.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/zun/commit/1e7c22bf373935600ec85868975eff18c53876c1', 'message': 'Updated from global requirements\n\nChange-Id: Ic843001924bf70b7dab1d1064d7eced48938996d\n'}]",0,354452,1e7c22bf373935600ec85868975eff18c53876c1,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ic843001924bf70b7dab1d1064d7eced48938996d
",git fetch https://review.opendev.org/openstack/zun refs/changes/52/354452/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1e7c22bf373935600ec85868975eff18c53876c1,openstack/requirements,oslo.context>=2.6.0 # Apache-2.0,oslo.context>=2.4.0 # Apache-2.0,1,1
openstack%2Fzun~master~I7bc30919506500cf8c566ff130cf684c50fb719e,openstack/zun,master,I7bc30919506500cf8c566ff130cf684c50fb719e,Deal with the comments in compute patch,MERGED,2016-08-10 09:19:29.000000000,2016-08-12 02:04:38.000000000,2016-08-12 02:04:38.000000000,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 12175}, {'_account_id': 13248}]","[{'number': 1, 'created': '2016-08-10 09:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/b912fb7d6a8ff98ffa12c7a48ad0a9431275e8fa', 'message': 'Deal with the comments in compute patch\n\nDeal with the comments in patch [1]\n\n[1]https://review.openstack.org/#/c/349320/13\n\nChange-Id: I7bc30919506500cf8c566ff130cf684c50fb719e\nCloses-Bug: #1611617\n'}, {'number': 2, 'created': '2016-08-11 05:25:20.000000000', 'files': ['zun/container/docker/utils.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/zun/commit/d46abc9877bdd734cbcc86eef6456f3710550fe4', 'message': 'Deal with the comments in compute patch\n\nDeal with the comments in patch [1]\n\n[1]https://review.openstack.org/#/c/349320/13\n\nChange-Id: I7bc30919506500cf8c566ff130cf684c50fb719e\nCloses-Bug: #1611617\n'}]",4,353336,d46abc9877bdd734cbcc86eef6456f3710550fe4,11,4,2,13248,,,0,"Deal with the comments in compute patch

Deal with the comments in patch [1]

[1]https://review.openstack.org/#/c/349320/13

Change-Id: I7bc30919506500cf8c566ff130cf684c50fb719e
Closes-Bug: #1611617
",git fetch https://review.opendev.org/openstack/zun refs/changes/36/353336/2 && git format-patch -1 --stdout FETCH_HEAD,"['zun/container/docker/utils.py', 'requirements.txt']",2,b912fb7d6a8ff98ffa12c7a48ad0a9431275e8fa,bug/1611617,"docker-py<1.8.0,>=1.6.0 # Apache-2.0",,9,10
openstack%2Fpbr~master~Ie9c7b410da434cb31e6ae61b95487bba9a53c0cb,openstack/pbr,master,Ie9c7b410da434cb31e6ae61b95487bba9a53c0cb,Fix typo in the index.rst,MERGED,2016-08-11 07:53:53.000000000,2016-08-12 02:02:36.000000000,2016-08-12 01:42:49.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 12612}]","[{'number': 1, 'created': '2016-08-11 07:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/bb14360106321e5b96e046f890c3637c55f91dc8', 'message': 'Fix typo in the index.rst\n\nChange-Id: Ie9c7b410da434cb31e6ae61b95487bba9a53c0cb\n'}, {'number': 2, 'created': '2016-08-11 07:54:42.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/pbr/commit/3b21e33401a8d985c69d987336f878586476604c', 'message': 'Fix typo in the index.rst\n\nChange-Id: Ie9c7b410da434cb31e6ae61b95487bba9a53c0cb\n'}]",0,353889,3b21e33401a8d985c69d987336f878586476604c,10,3,2,22104,,,0,"Fix typo in the index.rst

Change-Id: Ie9c7b410da434cb31e6ae61b95487bba9a53c0cb
",git fetch https://review.opendev.org/openstack/pbr refs/changes/89/353889/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,bb14360106321e5b96e046f890c3637c55f91dc8,,,,0,0
openstack%2Foctavia~master~Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb,openstack/octavia,master,Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb,Allow IPv6 VIPs,MERGED,2016-07-08 21:31:48.000000000,2016-08-12 01:58:30.000000000,2016-08-12 01:54:22.000000000,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 11685}, {'_account_id': 12040}, {'_account_id': 13438}, {'_account_id': 14591}, {'_account_id': 16923}]","[{'number': 1, 'created': '2016-07-08 21:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/64bcf58cfef5859be6f291a6b5b21927807301d9', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 2, 'created': '2016-07-09 02:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1f46820aac1dac79cff5d807ead8378cae579b30', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 3, 'created': '2016-07-09 06:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4b723b4eddf3b57deb110d4be0664c3dba73d885', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 4, 'created': '2016-07-11 04:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/953a07261ee01e073e1d00c7b85e6d298839d248', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 5, 'created': '2016-07-11 09:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bc7c6748ad1223342a0106e16e45b7bf3098dcca', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 6, 'created': '2016-07-11 10:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3a0ecfd1ba2eb6853019f65dfcb9d729f5deaff1', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 7, 'created': '2016-07-11 12:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bec747fd06d1ac6904723e79a330108926532dfb', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 8, 'created': '2016-07-11 13:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e082fd97ae7fe5682577b06408bf059e289e13cc', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 9, 'created': '2016-07-11 15:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ebd2e15f721f19d44c3c46051f5ad7e886990d75', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 10, 'created': '2016-07-12 02:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a8688b345587d1b7e7db07307f82b28b39474285', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 11, 'created': '2016-07-12 03:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f0b7f695ff3b7f1ec3eecade4c0df41b48d71412', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 12, 'created': '2016-07-12 04:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f18f0786f6b062d667fd58597bb7c02a2a693183', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 13, 'created': '2016-07-12 05:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1d7443b8a5c565218a97abd7004d084a931889c5', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 14, 'created': '2016-07-14 04:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5aad81ff1b4d951f4e7680ae4a0cc7080a716346', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 15, 'created': '2016-07-14 05:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6428559b2559e4beec8d938e53a8ca7af6c20128', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 16, 'created': '2016-07-14 09:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f22f7d3259a68c40243e53161e7ed1e4206091b6', 'message': 'Remove hardcoded IPv4 logic from Amphora API\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 17, 'created': '2016-07-17 05:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/23f69a036754d798e4ed33c10a30d28247ff3f0a', 'message': 'Allow IPv6 VIPs\n\nRemoves hardcoded IPv4 logic from the controller and agent.\nUpdates the VIP address field size in the DB.\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 18, 'created': '2016-07-17 06:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2af77e4b43d7ca117892b91fc5a341b1a880dfab', 'message': 'Allow IPv6 VIPs\n\nRemoves hardcoded IPv4 logic from the controller and agent.\nUpdates the VIP address field size in the DB.\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 19, 'created': '2016-07-19 10:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/178e271dfe23d43b7fada52eaa0faaa710e3565c', 'message': 'Allow IPv6 VIPs\n\nRemoves hardcoded IPv4 logic from the controller and agent.\nUpdates the VIP address field size in the DB.\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 20, 'created': '2016-07-19 12:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3955cdb9a9df8efc852e78afc522aa6df640a44e', 'message': 'Allow IPv6 VIPs\n\nRemoves hardcoded IPv4 logic from the controller and agent.\nUpdates the VIP address field size in the DB.\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 21, 'created': '2016-07-31 07:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1cf92c9915d654ad890f8cee91b5b579f347b491', 'message': 'Allow IPv6 VIPs\n\nRemoves hardcoded IPv4 logic from the controller and agent.\nUpdates the VIP address field size in the DB.\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 22, 'created': '2016-07-31 21:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7a84ae0e4075f357a223569c5395e0df631fb7e5', 'message': 'Allow IPv6 VIPs\n\nRemoves hardcoded IPv4 logic from the controller and agent.\nUpdates the VIP address field size in the DB.\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 23, 'created': '2016-07-31 21:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/56fc68ddae43096dc4161662028db29907e9984d', 'message': 'Allow IPv6 VIPs\n\nRemoves hardcoded IPv4 logic from the controller and agent.\nUpdates the VIP address field size in the DB.\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 24, 'created': '2016-08-01 15:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5cf117f89422eada9f4f8f9635f340eaa24359d0', 'message': 'Allow IPv6 VIPs\n\nRemoves hardcoded IPv4 logic from the controller and agent.\nUpdates the VIP address field size in the DB.\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 25, 'created': '2016-08-04 07:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4e48dcf69429572952ba7c31c840bccae91e548c', 'message': 'Allow IPv6 VIPs\n\nRemoves hardcoded IPv4 logic from the controller and agent.\nUpdates the VIP address field size in the DB.\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 26, 'created': '2016-08-09 00:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0ff69bb1add5f22ef5072dfa4e0733b8a57a7d82', 'message': 'Allow IPv6 VIPs\n\nRemoves hardcoded IPv4 logic from the controller and agent.\nUpdates the VIP address field size in the DB.\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}, {'number': 27, 'created': '2016-08-11 22:30:01.000000000', 'files': ['octavia/db/migration/alembic_migrations/versions/82b9402e71fd_update_vip_address_size.py', 'octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'releasenotes/notes/IPv6-support-953ef81ed8555fce.yaml', 'octavia/db/models.py', 'octavia/network/drivers/neutron/base.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/amphorae/backends/agent/api_server/templates/plug_vip_ethX.conf.j2', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server_sysvinit.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8c50a35850a62b922f3ad7f753df4d1ce53f2815', 'message': 'Allow IPv6 VIPs\n\nRemoves hardcoded IPv4 logic from the controller and agent.\nUpdates the VIP address field size in the DB.\n\nCloses-Bug: #1585803\nCloses-Bug: #1585804\n\nChange-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb\n'}]",30,339826,8c50a35850a62b922f3ad7f753df4d1ce53f2815,144,9,27,10273,,,0,"Allow IPv6 VIPs

Removes hardcoded IPv4 logic from the controller and agent.
Updates the VIP address field size in the DB.

Closes-Bug: #1585803
Closes-Bug: #1585804

Change-Id: Ib5aeef4563e20cc8ffdc607139f28aad9787aaeb
",git fetch https://review.opendev.org/openstack/octavia refs/changes/26/339826/18 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'requirements.txt', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server_sysvinit.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py']",5,64bcf58cfef5859be6f291a6b5b21927807301d9,bug/1577963," def test_plug_vip(self, mock_makedirs, mock_copytree, mock_check_output, subnet_info_ipv4 = { 'subnet_cidr': '203.0.113.0/24', 'gateway': '203.0.113.1', 'mac_address': '123' } subnet_info_ipv6 = { 'subnet_cidr': '2001:db8::/32', 'gateway': '2001:db8::1', 'mac_address': '123' } # malformed ip data=json.dumps(subnet_info_ipv4), data=json.dumps(subnet_info_ipv4)) data=json.dumps(subnet_info_ipv4)) # One Interface down, Happy Path IPv6 mock_interfaces.side_effect = [['blah']] mock_ifaddress.side_effect = [[netifaces.AF_LINK], {netifaces.AF_LINK: [{'addr': '123'}]}] flags = os.O_WRONLY | os.O_CREAT | os.O_TRUNC mode = stat.S_IRUSR | stat.S_IWUSR | stat.S_IRGRP | stat.S_IROTH file_name = '/etc/netns/{}/network/interfaces.d/blah.cfg'.format( consts.AMPHORA_NAMESPACE) m = self.useFixture(test_utils.OpenFixture(file_name)).mock_open with mock.patch('os.open') as mock_open, mock.patch.object( os, 'fdopen', m) as mock_fdopen: mock_open.return_value = 123 rv = self.app.post('/' + api_server.VERSION + ""/plug/vip/2001:db8::2"", content_type='application/json', data=json.dumps(subnet_info_ipv6)) self.assertEqual(202, rv.status_code) mock_open.assert_any_call(file_name, flags, mode) mock_fdopen.assert_any_call(123, 'w') plug_inf_file = '/var/lib/octavia/plugged_interfaces' flags = os.O_RDWR | os.O_CREAT mode = stat.S_IRUSR | stat.S_IWUSR | stat.S_IRGRP | stat.S_IROTH mock_open.assert_any_call(plug_inf_file, flags, mode) mock_fdopen.assert_any_call(123, 'r+') handle = m() handle.write.assert_any_call( '\n# Generated by Octavia agent\n' 'auto blah blah:0\n' 'iface blah inet dhcp\n' 'iface blah:0 inet static\n' 'address 2001:0db8:0000:0000:0000:0000:0000:0002\n' 'broadcast 2001:0db8:ffff:ffff:ffff:ffff:ffff:ffff\n' 'netmask ffff:ffff:0000:0000:0000:0000:0000:0000') mock_check_output.assert_called_with( ['ip', 'netns', 'exec', consts.AMPHORA_NAMESPACE, 'ifup', 'blah:0'], stderr=-2) # One Interface down, Happy Path IPv4 data=json.dumps(subnet_info_ipv4)) data=json.dumps(subnet_info_ipv4))"," def test_plug_VIP(self, mock_makedirs, mock_copytree, mock_check_output, subnet_info = {'subnet_cidr': '10.0.0.0/24', 'gateway': '10.0.0.1', 'mac_address': '123'} # malformated ip data=json.dumps(subnet_info), data=json.dumps(subnet_info)) data=json.dumps(subnet_info)) # One Interface down, Happy Path data=json.dumps(subnet_info)) data=json.dumps(subnet_info))",224,41
openstack%2Fpython-swiftclient~master~I4d19b71b632546fc2e5d5dac2b0d8d43152dabed,openstack/python-swiftclient,master,I4d19b71b632546fc2e5d5dac2b0d8d43152dabed,reenable sidebar links,MERGED,2016-08-11 22:15:39.000000000,2016-08-12 01:56:26.000000000,2016-08-12 01:56:25.000000000,"[{'_account_id': 3}, {'_account_id': 15343}]","[{'number': 1, 'created': '2016-08-11 22:15:39.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/ed4ee7927369cdd5056a3347edad674c3e9ee160', 'message': 'reenable sidebar links\n\nuses new method from https://review.openstack.org/#/c/340509/\n\nChange-Id: I4d19b71b632546fc2e5d5dac2b0d8d43152dabed\n'}]",0,354426,ed4ee7927369cdd5056a3347edad674c3e9ee160,6,2,1,330,,,0,"reenable sidebar links

uses new method from https://review.openstack.org/#/c/340509/

Change-Id: I4d19b71b632546fc2e5d5dac2b0d8d43152dabed
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/26/354426/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,ed4ee7927369cdd5056a3347edad674c3e9ee160,,html_theme_options = {'show_other_versions': True} ,,2,0
openstack%2Fironic~master~I5671f6f312afc142f6a58c68610b620edd3adf44,openstack/ironic,master,I5671f6f312afc142f6a58c68610b620edd3adf44,Fix ssh credential validation message,MERGED,2016-08-11 12:01:39.000000000,2016-08-12 01:44:47.000000000,2016-08-11 15:32:06.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7080}, {'_account_id': 10118}, {'_account_id': 10343}, {'_account_id': 14525}, {'_account_id': 17998}]","[{'number': 1, 'created': '2016-08-11 12:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d4bdec91f3d3609aee58ff507b463fe22b77c573', 'message': ""Fix ssh credential validation message\n\nThis error message specifies 'password' as one of the valid credential\nkeys, but really it should be 'ssh_password'. Fix it.\n\nChange-Id: I5671f6f312afc142f6a58c68610b620edd3adf44\n""}, {'number': 2, 'created': '2016-08-11 12:51:06.000000000', 'files': ['ironic/drivers/modules/ssh.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d73b08db232fb7dd423de4e8bb35e032bd87c6d0', 'message': ""Fix ssh credential validation message\n\nThis error message specifies 'password' as one of the valid credential\nkeys, but really it should be 'ssh_password'. Fix it.\n\nChange-Id: I5671f6f312afc142f6a58c68610b620edd3adf44\n""}]",2,354008,d73b08db232fb7dd423de4e8bb35e032bd87c6d0,15,8,2,10343,,,0,"Fix ssh credential validation message

This error message specifies 'password' as one of the valid credential
keys, but really it should be 'ssh_password'. Fix it.

Change-Id: I5671f6f312afc142f6a58c68610b620edd3adf44
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/354008/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/ssh.py'],1,d4bdec91f3d3609aee58ff507b463fe22b77c573,ssh_password," ""SSHPowerDriver requires one and only one of ssh_password, """," ""SSHPowerDriver requires one and only one of password, """,1,1
openstack%2Fglance~master~I76dca80b6bd8886860fb383ee8d35e16cd99762e,openstack/glance,master,I76dca80b6bd8886860fb383ee8d35e16cd99762e,Use more specific asserts in unit tests,MERGED,2016-08-04 10:35:39.000000000,2016-08-12 01:39:52.000000000,2016-08-12 01:39:52.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 8158}, {'_account_id': 14676}]","[{'number': 1, 'created': '2016-08-04 10:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/00c856d69f87a066053b98a2e41253b36a755130', 'message': 'Use more specific asserts in unit tests\n\nIn many places, there are more specific asserts\nwhich can be used. I replaced the generic assert\nwith more specific ones, where it was possible.\n\nThis change enhances readibility, and on fail, more useful\nmessage is displayed\n\nChange-Id: I76dca80b6bd8886860fb383ee8d35e16cd99762e\n'}, {'number': 2, 'created': '2016-08-04 19:18:04.000000000', 'files': ['glance/tests/unit/common/test_utils.py', 'glance/tests/unit/test_migrations.py', 'glance/tests/unit/test_db.py', 'glance/tests/unit/common/test_timeutils.py', 'glance/tests/unit/test_domain.py', 'glance/tests/unit/api/test_cmd_cache_manage.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/53379a714d77e43f0cd2c510ec9091743e6f1f62', 'message': 'Use more specific asserts in unit tests\n\nIn many places, there are more specific asserts\nwhich can be used. I replaced the generic assert\nwith more specific ones, where it was possible.\n\nThis change enhances readibility, and on fail, more useful\nmessage is displayed\n\nChange-Id: I76dca80b6bd8886860fb383ee8d35e16cd99762e\n'}]",2,351113,53379a714d77e43f0cd2c510ec9091743e6f1f62,18,6,2,18602,,,0,"Use more specific asserts in unit tests

In many places, there are more specific asserts
which can be used. I replaced the generic assert
with more specific ones, where it was possible.

This change enhances readibility, and on fail, more useful
message is displayed

Change-Id: I76dca80b6bd8886860fb383ee8d35e16cd99762e
",git fetch https://review.opendev.org/openstack/glance refs/changes/13/351113/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/common/test_utils.py', 'glance/tests/unit/test_db.py', 'glance/tests/unit/common/test_timeutils.py', 'glance/tests/unit/test_domain.py', 'glance/tests/unit/api/test_cmd_cache_manage.py']",5,00c856d69f87a066053b98a2e41253b36a755130,," self.assertGreater(len(oparser.option_list), 0)", self.assertTrue(len(oparser.option_list) > 0),15,15
openstack%2Fpython-glanceclient~master~I1f342679edc9284fb051ec6e2d012bc6265600d7,openstack/python-glanceclient,master,I1f342679edc9284fb051ec6e2d012bc6265600d7,Updated from global requirements,MERGED,2016-08-11 18:17:45.000000000,2016-08-12 01:10:48.000000000,2016-08-12 01:10:48.000000000,"[{'_account_id': 3}, {'_account_id': 2537}]","[{'number': 1, 'created': '2016-08-11 18:17:45.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/9e84185a6da0bf14f039859814a2ce66247240bf', 'message': 'Updated from global requirements\n\nChange-Id: I1f342679edc9284fb051ec6e2d012bc6265600d7\n'}]",0,354310,9e84185a6da0bf14f039859814a2ce66247240bf,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I1f342679edc9284fb051ec6e2d012bc6265600d7
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/10/354310/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9e84185a6da0bf14f039859814a2ce66247240bf,openstack/requirements,"python-keystoneclient!=2.1.0,>=2.0.0 # Apache-2.0","python-keystoneclient!=1.8.0,!=2.1.0,>=1.7.0 # Apache-2.0",1,1
openstack%2Fglance_store~master~Ia5b7e42108395c593e900accadc447932c51f314,openstack/glance_store,master,Ia5b7e42108395c593e900accadc447932c51f314,Use constraints for all tox environments,MERGED,2016-08-10 11:24:01.000000000,2016-08-12 00:55:00.000000000,2016-08-12 00:55:00.000000000,"[{'_account_id': 3}, {'_account_id': 2537}]","[{'number': 1, 'created': '2016-08-10 11:24:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/521b6e7dffa225957249a01f45d15c5d52658f3d', 'message': 'Use constraints for all tox environments\n\nInfra is now ready to use constraints everywhere, adapt the\nenvironments to use the default install command instead of a specific\nnon-constrainted install command.\n\nWith this change, now all tox environments use constraints.\n\nChange-Id: Ia5b7e42108395c593e900accadc447932c51f314\n'}]",0,353391,521b6e7dffa225957249a01f45d15c5d52658f3d,8,2,1,6547,,,0,"Use constraints for all tox environments

Infra is now ready to use constraints everywhere, adapt the
environments to use the default install command instead of a specific
non-constrainted install command.

With this change, now all tox environments use constraints.

Change-Id: Ia5b7e42108395c593e900accadc447932c51f314
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/91/353391/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,521b6e7dffa225957249a01f45d15c5d52658f3d,constraints,,"# NOTE(nikhil): this target does not use constraints because upstream infra # does not yet support it. Once that's fixed, we can drop the install_command. install_command = pip install --allow-all-external --allow-insecure netaddr -U {opts} {packages}# NOTE(nikhil): this target does not use constraints because upstream infra # does not yet support it. Once that's fixed, we can drop the install_command. install_command = pip install --allow-all-external --allow-insecure netaddr -U {opts} {packages}# NOTE(nikhil): this target does not use constraints because upstream infra # does not yet support it. Once that's fixed, we can drop the install_command. install_command = pip install --allow-all-external --allow-insecure netaddr -U {opts} {packages}",0,9
openstack%2Fopenstack-manuals~master~I74c4434301e75654832f06cd9e74fcffe4e37706,openstack/openstack-manuals,master,I74c4434301e75654832f06cd9e74fcffe4e37706,[api] add redirect for translated quick-starts,MERGED,2016-08-10 15:30:34.000000000,2016-08-12 00:42:03.000000000,2016-08-12 00:42:03.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 10497}, {'_account_id': 14482}, {'_account_id': 22165}]","[{'number': 1, 'created': '2016-08-10 15:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/eb1b040a6481d9834c79b0c87afb9e3f88910dab', 'message': '[api] add redirect for translated quick-starts\n\nThis commit proposes to redirect translated\napi quick-start documents, which is the similar redirection\nfrom docs.o.o/api/quick-start/content/ to\ndeveloper.o.o/api-guide/quick-start/ page.\n\nLanguage names are represented using characters and\nunderscore (not hyphen), so those characters are used to\nmatch language names on URLs.\n\nChange-Id: I74c4434301e75654832f06cd9e74fcffe4e37706\nPartial-Bug: #1608992\n'}, {'number': 2, 'created': '2016-08-11 14:12:02.000000000', 'files': ['www/static/.htaccess'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7be1e397655b6299a3f454963328d8d316584625', 'message': '[api] add redirect for translated quick-starts\n\nThis commit proposes to redirect translated api quick-start\ndocuments, like the similar way as\ndocs.o.o/api/quick-start/content/ is redirected to\ndeveloper.o.o/api-guide/quick-start/ page.\n\nCurrently the following four language versions are applied\n: de (German), ja (Japanese), ko_KR (Korean), zh_CN (Chinese).\n\nChange-Id: I74c4434301e75654832f06cd9e74fcffe4e37706\nPartial-Bug: #1608992\n'}]",2,353579,7be1e397655b6299a3f454963328d8d316584625,12,6,2,14482,,,0,"[api] add redirect for translated quick-starts

This commit proposes to redirect translated api quick-start
documents, like the similar way as
docs.o.o/api/quick-start/content/ is redirected to
developer.o.o/api-guide/quick-start/ page.

Currently the following four language versions are applied
: de (German), ja (Japanese), ko_KR (Korean), zh_CN (Chinese).

Change-Id: I74c4434301e75654832f06cd9e74fcffe4e37706
Partial-Bug: #1608992
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/79/353579/2 && git format-patch -1 --stdout FETCH_HEAD,['www/static/.htaccess'],1,eb1b040a6481d9834c79b0c87afb9e3f88910dab,bug/1608992,redirectmatch 301 /([a-zA-Z_]+)/api/quick-start/content/ http://developer.openstack.org/$1/api-guide/quick-start/,,1,0
openstack%2Foctavia~master~Id2fed212185da48ada96e68e69489d7269d71e4c,openstack/octavia,master,Id2fed212185da48ada96e68e69489d7269d71e4c,Remove datetime_to_str,MERGED,2016-07-27 07:38:23.000000000,2016-08-12 00:41:46.000000000,2016-08-12 00:37:59.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 11685}, {'_account_id': 12040}, {'_account_id': 14591}, {'_account_id': 16923}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-07-27 07:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/dbe65324d1385b3a3f052f4fdf052766193f6971', 'message': 'Fix issue when convert python .isoformat() string back into datetime object\n\nChange-Id: Id2fed212185da48ada96e68e69489d7269d71e4c\nCloses-Bug: 1606798\n'}, {'number': 2, 'created': '2016-07-27 19:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2c4aabcaa8bc7ab55237400472d9cf6656754213', 'message': 'Fix issue when convert python .isoformat() string back into datetime object\n\nChange-Id: Id2fed212185da48ada96e68e69489d7269d71e4c\nCloses-Bug: 1606798\n'}, {'number': 3, 'created': '2016-07-28 00:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7836003cf0f60a9de6bb0d60e2304cee3c14c41c', 'message': 'Fix convert string back to datetime object issue\n\nChange-Id: Id2fed212185da48ada96e68e69489d7269d71e4c\nCloses-Bug: 1606798\n'}, {'number': 4, 'created': '2016-08-08 03:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c5b77220c3e197985e9fe9c91078dec53b196f7e', 'message': 'Convert the datetime object to string in to_dict method\n\nWe should use datetime object directly inside octavia, and only\nconvert them to string when needed.\n\nCloses-Bug: 1606798\n\nChange-Id: Id2fed212185da48ada96e68e69489d7269d71e4c\n'}, {'number': 5, 'created': '2016-08-08 04:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/70217568922f60813efc8b67d27ccb175ccd3aca', 'message': 'Convert the datetime object to string in to_dict method\n\nWe should use datetime object directly inside octavia, and only\nconvert them to string when needed.\n\nCloses-Bug: 1606798\n\nChange-Id: Id2fed212185da48ada96e68e69489d7269d71e4c\n'}, {'number': 6, 'created': '2016-08-10 01:55:56.000000000', 'files': ['octavia/api/v1/types/member.py', 'octavia/db/base_models.py', 'octavia/api/v1/types/load_balancer.py', 'octavia/db/repositories.py', 'octavia/api/v1/types/pool.py', 'octavia/api/v1/types/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a00d60e6f5c42e270bb9f4dc770a4e1c02dcf5a0', 'message': 'Remove datetime_to_str\n\nThere is no need to convert datetime object to string at all.\n\nCloses-Bug: 1606798\n\nChange-Id: Id2fed212185da48ada96e68e69489d7269d71e4c\n'}]",5,347670,a00d60e6f5c42e270bb9f4dc770a4e1c02dcf5a0,49,9,6,6116,,,0,"Remove datetime_to_str

There is no need to convert datetime object to string at all.

Closes-Bug: 1606798

Change-Id: Id2fed212185da48ada96e68e69489d7269d71e4c
",git fetch https://review.opendev.org/openstack/octavia refs/changes/70/347670/5 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'octavia/db/repositories.py']",2,dbe65324d1385b3a3f052f4fdf052766193f6971,bug/1606798,import dateutil.parser last_update = dateutil.parser.parse(last_update)," last_update = datetime.datetime.strptime(last_update, ""%Y-%m-%d %H:%M:%S.%f"")",4,2
openstack%2Fproject-config~master~I0c20550ef062dd4f3ce12b39da5fe5ff9c43dab8,openstack/project-config,master,I0c20550ef062dd4f3ce12b39da5fe5ff9c43dab8,Add libs to project list for shade libs test,MERGED,2016-08-11 20:41:08.000000000,2016-08-12 00:36:16.000000000,2016-08-12 00:36:16.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 6316}]","[{'number': 1, 'created': '2016-08-11 20:41:08.000000000', 'files': ['jenkins/jobs/shade.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3674c2c7b389cbdf0b5553d0696342d0dc2c6c50', 'message': 'Add libs to project list for shade libs test\n\nWe need to add python-*client to PROJECTS so that the repos will be\ncloned.\n\nChange-Id: I0c20550ef062dd4f3ce12b39da5fe5ff9c43dab8\n'}]",0,354380,3674c2c7b389cbdf0b5553d0696342d0dc2c6c50,7,3,1,2,,,0,"Add libs to project list for shade libs test

We need to add python-*client to PROJECTS so that the repos will be
cloned.

Change-Id: I0c20550ef062dd4f3ce12b39da5fe5ff9c43dab8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/80/354380/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/shade.yaml'],1,3674c2c7b389cbdf0b5553d0696342d0dc2c6c50,," export PROJECTS=""openstack/os-client-config $PROJECTS"" export PROJECTS=""openstack/keystoneauth $PROJECTS"" export PROJECTS=""openstack/python-novaclient $PROJECTS"" export PROJECTS=""openstack/python-keystoneclient $PROJECTS"" export PROJECTS=""openstack/python-glanceclient $PROJECTS"" export PROJECTS=""openstack/python-cinderclient $PROJECTS"" export PROJECTS=""openstack/python-neutronclient $PROJECTS"" export PROJECTS=""openstack/python-troveclient $PROJECTS"" export PROJECTS=""openstack/python-ironicclient $PROJECTS"" export PROJECTS=""openstack/python-swiftclient $PROJECTS"" export PROJECTS=""openstack/python-heatclient $PROJECTS"" export PROJECTS=""openstack/python-designateclient $PROJECTS""",,12,0
openstack%2Fapp-catalog~master~Ia9b87d764fadcba20a4ece90fa876acac5a2d933,openstack/app-catalog,master,Ia9b87d764fadcba20a4ece90fa876acac5a2d933,Updated assets.yaml to include cloud_user for the distributions that are documented in the official OpenStack guides.,MERGED,2016-08-11 21:51:28.000000000,2016-08-12 00:34:17.000000000,2016-08-12 00:34:17.000000000,"[{'_account_id': 3}, {'_account_id': 9788}]","[{'number': 1, 'created': '2016-08-11 21:51:28.000000000', 'files': ['openstack_catalog/web/static/assets.yaml'], 'web_link': 'https://opendev.org/openstack/app-catalog/commit/125d114ee89303584edc5d0e8f910cbd0ab8c6dd', 'message': 'Updated assets.yaml to include cloud_user for the distributions that are\ndocumented in the official OpenStack guides.\n\nIncluded distributions: CentOS, CirrOS, Debian, Fedora, and Ubuntu.\n\nChange-Id: Ia9b87d764fadcba20a4ece90fa876acac5a2d933\nImplements: blueprint add-default-login-to-templates\n'}]",0,354420,125d114ee89303584edc5d0e8f910cbd0ab8c6dd,6,2,1,13334,,,0,"Updated assets.yaml to include cloud_user for the distributions that are
documented in the official OpenStack guides.

Included distributions: CentOS, CirrOS, Debian, Fedora, and Ubuntu.

Change-Id: Ia9b87d764fadcba20a4ece90fa876acac5a2d933
Implements: blueprint add-default-login-to-templates
",git fetch https://review.opendev.org/openstack/app-catalog refs/changes/20/354420/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_catalog/web/static/assets.yaml'],1,125d114ee89303584edc5d0e8f910cbd0ab8c6dd,bp/add-default-login-to-templates, cloud_user: ubuntu cloud_user: ubuntu cloud_user: ubuntu cloud_user: centos cloud_user: centos cloud_user: cirros cloud_user: fedora cloud_user: debian cloud_user: debian cloud_user: debian cloud_user: fedora,,11,0
openstack%2Fopenstack-ansible-os_magnum~master~Ie90c02084774be4d93e3b83983f2810caffe5654,openstack/openstack-ansible-os_magnum,master,Ie90c02084774be4d93e3b83983f2810caffe5654,Cleanup/standardize usage of tags,MERGED,2016-08-11 15:29:24.000000000,2016-08-12 00:27:16.000000000,2016-08-12 00:27:16.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 15993}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 15:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/99fd6d43154df3f81946617b8364a73184cacbd0', 'message': 'Cleanup/standardize usage of tags\n\nThe numerous tags within the role have been condensed\nto two tags: ironic-install and ironic-config\n\nThese tags have been chosen as they are namespaced\nand cover the two major functions of the role.\n\nChange-Id: Ie90c02084774be4d93e3b83983f2810caffe5654\n'}, {'number': 2, 'created': '2016-08-11 16:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/2283db9208b4694bb148c484764497dc2f662490', 'message': 'Cleanup/standardize usage of tags\n\nThe numerous tags within the role have been condensed\nto two tags: magnum-install and magnum-config\n\nThese tags have been chosen as they are namespaced\nand cover the two major functions of the role.\n\nChange-Id: Ie90c02084774be4d93e3b83983f2810caffe5654\n'}, {'number': 3, 'created': '2016-08-11 21:30:58.000000000', 'files': ['tasks/main.yml', 'tasks/pre-install.yml', 'tasks/magnum_install_apt.yml', 'README.rst', 'tasks/database-setup.yml', 'tasks/post-install.yml', 'tasks/install.yml', 'tasks/magnum_init_common.yml', 'tasks/service-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/6a01bf9552a9a872420d4a82d2a59a7b6082f6a3', 'message': 'Cleanup/standardize usage of tags\n\nThe numerous tags within the role have been condensed\nto two tags: magnum-install and magnum-config\n\nThese tags have been chosen as they are namespaced\nand cover the two major functions of the role.\n\nChange-Id: Ie90c02084774be4d93e3b83983f2810caffe5654\n'}]",1,354159,6a01bf9552a9a872420d4a82d2a59a7b6082f6a3,13,4,3,11268,,,0,"Cleanup/standardize usage of tags

The numerous tags within the role have been condensed
to two tags: magnum-install and magnum-config

These tags have been chosen as they are namespaced
and cover the two major functions of the role.

Change-Id: Ie90c02084774be4d93e3b83983f2810caffe5654
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/59/354159/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/pre-install.yml', 'tasks/magnum_install_apt.yml', 'README.rst', 'tasks/database-setup.yml', 'tasks/post-install.yml', 'tasks/install.yml', 'tasks/magnum_init_common.yml', 'tasks/service-setup.yml']",9,99fd6d43154df3f81946617b8364a73184cacbd0,standerdize_tags,, tags: - magnum-api-setup - magnum-service-add - magnum-setup tags: - magnum-api-setup - magnum-service-add - magnum-user-add - magnum-setup tags: - magnum-api-setup - magnum-role-setup - magnum-setup tags: - magnum-api-setup - magnum-service-add - magnum-endpoints-add - magnum-setup tags: - magnum-domain-add - magnum-setup tags: - magnum-user-add - magnum-setup tags: - magnum-role-setup - magnum-setup,24,110
openstack%2Fcinder~master~I231c31ff2395f0d12a0570695dcd517c167c4602,openstack/cinder,master,I231c31ff2395f0d12a0570695dcd517c167c4602,QoS support for the Coho Data Cinder driver,MERGED,2016-07-22 21:07:59.000000000,2016-08-12 00:26:56.000000000,2016-08-06 02:54:07.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11215}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12822}, {'_account_id': 13394}, {'_account_id': 14259}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16660}, {'_account_id': 16834}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 17852}, {'_account_id': 18120}, {'_account_id': 18402}, {'_account_id': 18444}, {'_account_id': 18448}, {'_account_id': 18752}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21193}, {'_account_id': 22126}, {'_account_id': 22510}, {'_account_id': 22804}]","[{'number': 1, 'created': '2016-07-22 21:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/463355a3da1e219d80dc6887e10ecb8a2f54935a', 'message': 'QoS support for the Coho Data Cinder driver\n\nImplements: blueprint coho-qos\n\nDocImpact\nDocumentation for using QoS with the Coho Data Cinder driver\n\nChange-Id: I231c31ff2395f0d12a0570695dcd517c167c4602\nSigned-off-by: Bardia Keyoumarsi <bardia.keyoumarsi@cohodata.com>\n'}, {'number': 2, 'created': '2016-07-23 00:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f60413c202e1cf7dfd09b89cb59910cba4c3e59', 'message': 'QoS support for the Coho Data Cinder driver\n\nImplements: blueprint coho-qos\n\nDocImpact\nDocumentation for using QoS with the Coho Data Cinder driver\n\nChange-Id: I231c31ff2395f0d12a0570695dcd517c167c4602\nSigned-off-by: Bardia Keyoumarsi <bardia.keyoumarsi@cohodata.com>\n'}, {'number': 3, 'created': '2016-07-23 01:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d1e7bd7efd3ed3f939f352376d24d0a30cfc2c8', 'message': 'QoS support for the Coho Data Cinder driver\n\nImplements: blueprint coho-qos\n\nDocImpact\nDocumentation for using QoS with the Coho Data Cinder driver\n\nChange-Id: I231c31ff2395f0d12a0570695dcd517c167c4602\nSigned-off-by: Bardia Keyoumarsi <bardia.keyoumarsi@cohodata.com>\n'}, {'number': 4, 'created': '2016-07-26 21:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/31c42d8b549c09ec8e8a28785f8d048660d4e306', 'message': 'QoS support for the Coho Data Cinder driver\n\nImplements: blueprint coho-qos\n\nDocImpact\nDocumentation for using QoS with the Coho Data Cinder driver\n\nChange-Id: I231c31ff2395f0d12a0570695dcd517c167c4602\nSigned-off-by: Bardia Keyoumarsi <bardia.keyoumarsi@cohodata.com>\n'}, {'number': 5, 'created': '2016-07-29 21:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c717a8abb48059d32d2c76295746370e238d1d0c', 'message': 'QoS support for the Coho Data Cinder driver\n\nImplements: blueprint coho-qos\n\nDocImpact\nDocumentation for using QoS with the Coho Data Cinder driver\n\nChange-Id: I231c31ff2395f0d12a0570695dcd517c167c4602\nSigned-off-by: Bardia Keyoumarsi <bardia.keyoumarsi@cohodata.com>\n'}, {'number': 6, 'created': '2016-08-05 00:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d52015849aed8b45877ce1a0375344162f28e2d9', 'message': 'QoS support for the Coho Data Cinder driver\n\nImplements: blueprint coho-qos\n\nDocImpact\nDocumentation for using QoS with the Coho Data Cinder driver\n\nChange-Id: I231c31ff2395f0d12a0570695dcd517c167c4602\nSigned-off-by: Bardia Keyoumarsi <bardia.keyoumarsi@cohodata.com>\n'}, {'number': 7, 'created': '2016-08-05 20:39:13.000000000', 'files': ['cinder/volume/drivers/coho.py', 'cinder/tests/unit/volume/drivers/test_coho.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/272e126ed4e155244cbb1edceea101e82f2f6ad8', 'message': 'QoS support for the Coho Data Cinder driver\n\nImplements: blueprint coho-qos\n\nDocImpact\nDocumentation for using QoS with the Coho Data Cinder driver\n\nChange-Id: I231c31ff2395f0d12a0570695dcd517c167c4602\nSigned-off-by: Bardia Keyoumarsi <bardia.keyoumarsi@cohodata.com>\n'}]",9,346238,272e126ed4e155244cbb1edceea101e82f2f6ad8,175,49,7,18448,,,0,"QoS support for the Coho Data Cinder driver

Implements: blueprint coho-qos

DocImpact
Documentation for using QoS with the Coho Data Cinder driver

Change-Id: I231c31ff2395f0d12a0570695dcd517c167c4602
Signed-off-by: Bardia Keyoumarsi <bardia.keyoumarsi@cohodata.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/346238/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_coho.py', 'cinder/volume/drivers/coho.py']",2,463355a3da1e219d80dc6887e10ecb8a2f54935a,bp/coho-qos,"from cinder import contextfrom cinder.volume import qos_specs from cinder.volume import volume_typesCOHO1_SET_QOS_POLICY = 4 (six.b(dst), self.packer.pack_string), (flags, self.packer.pack_uint)]) (six.b(dst), self.packer.pack_string)]) def set_qos_policy(self, src, qos): self._call(COHO1_SET_QOS_POLICY, [(six.b(src), self.packer.pack_string), (six.b(qos.get('uuid', '')), self.packer.pack_string), (0, self.packer.pack_uhyper), (qos.get('maxIOPS', 0), self.packer.pack_uhyper), (0, self.packer.pack_uhyper), (qos.get('maxMBS', 0), self.packer.pack_uhyper)])VERSION = '1.1.0' 1.1.0 - Added QoS support coho_qos_keys = ['maxIOPS', 'maxMBS'] qos = self._retrieve_qos_setting(volume) if qos: self._do_set_qos_policy(volume, qos) def _do_set_qos_policy(self, volume, qos): addr, path = volume['provider_location'].split(':') volume_path = os.path.join(path, volume['name']) client = self._get_rpcclient(addr, self.configuration.coho_rpc_port) client.set_qos_policy(volume_path, qos) def _get_qos_by_volume_type(self, ctxt, type_id): qos = {} # NOTE(bardia): we only honor qos_specs if type_id: volume_type = volume_types.get_volume_type(ctxt, type_id) qos_specs_id = volume_type.get('qos_specs_id') if qos_specs_id is not None: kvs = qos_specs.get_qos_specs(ctxt, qos_specs_id)['specs'] qos['uuid'] = qos_specs_id else: kvs = {} for key, value in kvs.items(): if key in self.coho_qos_keys: qos[key] = int(value) return qos def _retrieve_qos_setting(self, volume): ctxt = context.get_admin_context() type_id = volume['volume_type_id'] return self._get_qos_by_volume_type(ctxt, type_id) def create_volume(self, volume): resp = super(CohoDriver, self).create_volume(volume) qos = self._retrieve_qos_setting(volume) if qos: self._do_set_qos_policy(volume, qos) return resp addr, _ = self._get_volume_location(snapshot['volume_id']) qos = self._retrieve_qos_setting(volume) if qos: self._do_set_qos_policy(volume, qos) def retype(self, ctxt, volume, new_type, diff, host): """"""Convert the volume to be of the new type. Changes the volume's QoS policy if needed. """""" qos = {} qos = self._get_qos_by_volume_type(ctxt, new_type['id']) if qos: self._do_set_qos_policy(volume, qos) return True, None def get_volume_stats(self, refresh=False): _stats[""QoS_support""] = True"," (six.b(dst), self.packer.pack_string), (flags, self.packer.pack_uint)]) (six.b(dst), self.packer.pack_string)])VERSION = '1.0.0' addr, path = self._get_volume_location(snapshot['volume_id']) def get_volume_stats(self, refresh):",195,8
openstack%2Fpanko~master~I0cc654faf58c16f0753098d0d68ddd20ae41cf04,openstack/panko,master,I0cc654faf58c16f0753098d0d68ddd20ae41cf04,Remove Nadya Privalova from core reviewers,MERGED,2016-07-28 12:57:11.000000000,2016-08-12 00:10:12.000000000,2016-08-12 00:10:12.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}]","[{'number': 1, 'created': '2016-07-28 12:57:11.000000000', 'files': ['MAINTAINERS'], 'web_link': 'https://opendev.org/openstack/panko/commit/c1c3bc059744411d16a192e219bf869156eb0463', 'message': ""Remove Nadya Privalova from core reviewers\n\nUnfortunately, Nadya has moved to other priorities and was not able to\nparticipate for a year now in Ceilometer development. I think it's a\nbetter call to maintain this list up to date and sadly remove her from\nthe list.\n\nChange-Id: I0cc654faf58c16f0753098d0d68ddd20ae41cf04\n""}]",0,348296,c1c3bc059744411d16a192e219bf869156eb0463,16,3,1,1669,,,0,"Remove Nadya Privalova from core reviewers

Unfortunately, Nadya has moved to other priorities and was not able to
participate for a year now in Ceilometer development. I think it's a
better call to maintain this list up to date and sadly remove her from
the list.

Change-Id: I0cc654faf58c16f0753098d0d68ddd20ae41cf04
",git fetch https://review.opendev.org/openstack/panko refs/changes/96/348296/1 && git format-patch -1 --stdout FETCH_HEAD,['MAINTAINERS'],1,c1c3bc059744411d16a192e219bf869156eb0463,,,_nadya_,0,1
openstack%2Ffuel-octane~stable%2F8.0~Ic5294b481f3c60156346ccec6451a17548ea0b7e,openstack/fuel-octane,stable/8.0,Ic5294b481f3c60156346ccec6451a17548ea0b7e,Add cleanup command,MERGED,2016-08-09 14:34:41.000000000,2016-08-11 23:38:29.000000000,2016-08-11 23:35:28.000000000,"[{'_account_id': 3}, {'_account_id': 1531}, {'_account_id': 19157}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-09 14:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/e2416adba3ad852f673a6592738922be6f272a12', 'message': 'Add cleanup command\n\nRemove upgrade_levels for each node running on environment and restart\nall nova running services on each node.\n\nChange-Id: Ic5294b481f3c60156346ccec6451a17548ea0b7e\n'}, {'number': 2, 'created': '2016-08-10 13:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/a3f62e3134943adfbbed3787d329cc84aad84255', 'message': 'Add cleanup command\n\nRemove upgrade_levels for each node running on environment and restart\nall nova running services on each node.\n\nChange-Id: Ic5294b481f3c60156346ccec6451a17548ea0b7e\n'}, {'number': 3, 'created': '2016-08-11 18:58:38.000000000', 'files': ['octane/tests/test_util_node.py', 'octane/util/node.py', 'octane/tests/test_cleanup.py', 'octane/handlers/upgrade/controller.py', 'setup.cfg', 'octane/commands/cleanup.py'], 'web_link': 'https://opendev.org/openstack/fuel-octane/commit/5e7a023d6fe2e888c5a40a835aa7017d525c0fac', 'message': 'Add cleanup command\n\nRemove upgrade_levels for each node running on environment and restart\nall nova running services on each node.\n\nChange-Id: Ic5294b481f3c60156346ccec6451a17548ea0b7e\n(cherry picked from commit 6aff9a9bb719d0fea193011af4fd9fa0090b930b)\n'}]",0,352939,5e7a023d6fe2e888c5a40a835aa7017d525c0fac,20,4,3,19157,,,0,"Add cleanup command

Remove upgrade_levels for each node running on environment and restart
all nova running services on each node.

Change-Id: Ic5294b481f3c60156346ccec6451a17548ea0b7e
(cherry picked from commit 6aff9a9bb719d0fea193011af4fd9fa0090b930b)
",git fetch https://review.opendev.org/openstack/fuel-octane refs/changes/39/352939/1 && git format-patch -1 --stdout FETCH_HEAD,"['octane/util/node.py', 'octane/tests/test_cleanup.py', 'octane/handlers/upgrade/controller.py', 'setup.cfg', 'octane/commands/cleanup.py']",5,e2416adba3ad852f673a6592738922be6f272a12,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging from cliff import command as cmd from fuelclient import objects from octane.util import env as env_util from octane.util import node as node_util LOG = logging.getLogger(__name__) def cleanup_environment(env_id): env = objects.Environment(env_id) nodes = env_util.get_nodes(env, ['controller', 'compute']) for node in nodes: node_util.remove_compute_upgrade_levels(node) node_util.restart_nova_services(node) class CleanupCommand(cmd.Command): """"""Cleanup upgraded environment"""""" def get_parser(self, prog_name): parser = super(CleanupCommand, self).get_parser(prog_name) parser.add_argument( 'env', type=int, metavar='ENV_ID', help=""ID of environment to cleanup"") return parser def take_action(self, parsed_args): cleanup_environment(parsed_args.env) ",,94,9
openstack%2Fneutron~master~Ib601235b56c553c29618a4dfdf0608a7b2784c6f,openstack/neutron,master,Ib601235b56c553c29618a4dfdf0608a7b2784c6f,Fix code that's trying to read from a stale DB object,MERGED,2016-06-23 21:46:23.000000000,2016-08-11 23:36:30.000000000,2016-06-28 20:12:43.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7448}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10386}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}]","[{'number': 1, 'created': '2016-06-23 21:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b24e01089616af350f4fe2607c8cdc0fcfda491f', 'message': ""Fix code that's trying to read from a stale DB object\n\nChange-Id: Ib601235b56c553c29618a4dfdf0608a7b2784c6f\nCloses-Bug: #1594376\n""}, {'number': 2, 'created': '2016-06-28 17:18:18.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfbe1fb7c510d556095a926fec6bfe6f4c153b47', 'message': ""Fix code that's trying to read from a stale DB object\n\nChange-Id: Ib601235b56c553c29618a4dfdf0608a7b2784c6f\nCloses-Bug: #1594376\n""}]",4,333601,dfbe1fb7c510d556095a926fec6bfe6f4c153b47,37,12,2,7448,,,0,"Fix code that's trying to read from a stale DB object

Change-Id: Ib601235b56c553c29618a4dfdf0608a7b2784c6f
Closes-Bug: #1594376
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/333601/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,b24e01089616af350f4fe2607c8cdc0fcfda491f,bug/1594376," port_id = a.port_id self.update_port(context, port_id, data) except exc.PortNotFound: LOG.debug(""Port %s deleted concurrently"", port_id) ""from port %s""), port_id)"," self.update_port(context, a.port_id, data) except exc.PortNotFound: LOG.debug(""Port %s deleted concurrently"", a.port_id) ""from port %s""), a.port_id)",4,3
openstack%2Fkeystone~master~I0804f490e28cedfaea2016e796a773ba50cc821a,openstack/keystone,master,I0804f490e28cedfaea2016e796a773ba50cc821a,Refactor revoke matcher,MERGED,2016-08-10 14:41:02.000000000,2016-08-11 23:29:58.000000000,2016-08-11 23:29:58.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 18338}]","[{'number': 1, 'created': '2016-08-10 14:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/06a247e9b2d797453addd7e99fd186ac22e29736', 'message': 'Refactor revoke matcher\n\nThis makes the code more verbose (and more redundant) in favor of making\nit easier to read.\n\nThere was a pretty consistent pattern to what it was actually doing, but\neach block of code was basically written differently. This makes them\nall the same.\n\nChange-Id: I0804f490e28cedfaea2016e796a773ba50cc821a\n'}, {'number': 2, 'created': '2016-08-11 16:58:17.000000000', 'files': ['keystone/models/revoke_model.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e9b0f2f52e06987ae99df2a9c09f48b416d2d1d1', 'message': 'Refactor revoke matcher\n\nThis makes the code more verbose (and more redundant) in favor of making\nit easier to read.\n\nThere was a pretty consistent pattern to what it was actually doing, but\neach block of code was basically written differently. This makes them\nall the same.\n\nChange-Id: I0804f490e28cedfaea2016e796a773ba50cc821a\n'}]",0,353537,e9b0f2f52e06987ae99df2a9c09f48b416d2d1d1,16,5,2,4,,,0,"Refactor revoke matcher

This makes the code more verbose (and more redundant) in favor of making
it easier to read.

There was a pretty consistent pattern to what it was actually doing, but
each block of code was basically written differently. This makes them
all the same.

Change-Id: I0804f490e28cedfaea2016e796a773ba50cc821a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/37/353537/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/models/revoke_model.py'],1,06a247e9b2d797453addd7e99fd186ac22e29736,353537," # The token has three attributes that can match the user_id. if event.user_id is not None and event.user_id not in ( token_values['user_id'], token_values['trustor_id'], token_values['trustee_id'],): return False # The token has two attributes that can match the domain_id. if event.domain_id is not None and event.domain_id not in( token_values['identity_domain_id'], token_values['assignment_domain_id'],): return False if event.domain_scope_id is not None and event.domain_scope_id not in ( token_values['assignment_domain_id'],): return False # If an event specifies an attribute name, but it does not match, the token # is not revoked. if event.project_id is not None and event.project_id not in ( token_values['project_id'],): return False if event.expires_at is not None and event.expires_at not in ( token_values['expires_at'],): return False if event.trust_id is not None and event.trust_id not in ( token_values['trust_id'],): return False if event.consumer_id is not None and event.consumer_id not in ( token_values['consumer_id'],): return False if event.access_token_id is not None and event.access_token_id not in ( token_values['access_token_id'],): return False if event.audit_id is not None and event.audit_id not in ( token_values['audit_id'],): return False if event.audit_chain_id is not None and event.audit_chain_id not in ( token_values['audit_chain_id'],): return False if event.role_id is not None and event.role_id not in ( token_values['roles']): return False"," # The token has three attributes that can match the user_id if event.user_id is not None: if all(event.user_id != token_values[attribute_name] for attribute_name in ['user_id', 'trustor_id', 'trustee_id']): return False # The token has two attributes that can match the domain_id if event.domain_id is not None: if all(event.domain_id != token_values[attribute_name] for attribute_name in ['identity_domain_id', 'assignment_domain_id']): return False if event.domain_scope_id is not None: if event.domain_scope_id != token_values['assignment_domain_id']: return False # If an event specifies an attribute name, but it does not match, # the token is not revoked. attribute_names = ['project_id', 'expires_at', 'trust_id', 'consumer_id', 'access_token_id', 'audit_id', 'audit_chain_id'] for attribute_name in attribute_names: if getattr(event, attribute_name) is not None: if (getattr(event, attribute_name) != token_values[attribute_name]): return False if event.role_id is not None: roles = token_values['roles'] if all(event.role_id != role for role in roles): return False",47,28
openstack%2Fproject-config~master~I43de84cf0fe2c2dafedaffe26e766d688e50062b,openstack/project-config,master,I43de84cf0fe2c2dafedaffe26e766d688e50062b,Temporarily reduce bluebox-sjc1 to 34 max-servers,MERGED,2016-08-11 18:56:03.000000000,2016-08-11 23:28:13.000000000,2016-08-11 19:15:43.000000000,"[{'_account_id': 3}, {'_account_id': 6316}, {'_account_id': 6547}]","[{'number': 1, 'created': '2016-08-11 18:56:03.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bdf68f0a87181676264955af166055aa40bc6863', 'message': 'Temporarily reduce bluebox-sjc1 to 34 max-servers\n\nUntil we increase our CPU overcommit[1], we can only run 34 nodes in\nbluebox-sjc1. Otherwise, nodepool will fail to launch the nodes which\nis adding extra errors into our logs.\n\n[1] http://lists.openstack.org/pipermail/openstack-infra/2016-August/004628.html\n\nChange-Id: I43de84cf0fe2c2dafedaffe26e766d688e50062b\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,354337,bdf68f0a87181676264955af166055aa40bc6863,8,3,1,4162,,,0,"Temporarily reduce bluebox-sjc1 to 34 max-servers

Until we increase our CPU overcommit[1], we can only run 34 nodes in
bluebox-sjc1. Otherwise, nodepool will fail to launch the nodes which
is adding extra errors into our logs.

[1] http://lists.openstack.org/pipermail/openstack-infra/2016-August/004628.html

Change-Id: I43de84cf0fe2c2dafedaffe26e766d688e50062b
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/37/354337/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,bdf68f0a87181676264955af166055aa40bc6863,, max-servers: 34, max-servers: 39,1,1
openstack%2Fpython-troveclient~master~Idfc1677ca01853993e21f4c8aa50a9be66c32203,openstack/python-troveclient,master,Idfc1677ca01853993e21f4c8aa50a9be66c32203,Remove discover from test-requirements,MERGED,2016-07-21 17:04:31.000000000,2016-08-11 23:27:46.000000000,2016-08-11 23:27:46.000000000,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 10295}, {'_account_id': 14576}, {'_account_id': 19137}, {'_account_id': 22484}]","[{'number': 1, 'created': '2016-07-21 17:04:31.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/419caf0248770f1278342e501f6bbdd1dcfea1e6', 'message': ""Remove discover from test-requirements\n\nIt's only needed for python < 2.7 which is not supported\n\nChange-Id: Idfc1677ca01853993e21f4c8aa50a9be66c32203\n""}]",0,345554,419caf0248770f1278342e501f6bbdd1dcfea1e6,17,7,1,11105,,,0,"Remove discover from test-requirements

It's only needed for python < 2.7 which is not supported

Change-Id: Idfc1677ca01853993e21f4c8aa50a9be66c32203
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/54/345554/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,419caf0248770f1278342e501f6bbdd1dcfea1e6,remove_discover,,discover # BSD,0,1
openstack%2Frequirements~master~Iafe7e59bb817f39e8cd330b2ee1b3f9b33d54dd3,openstack/requirements,master,Iafe7e59bb817f39e8cd330b2ee1b3f9b33d54dd3,update constraint for osprofiler to new release 1.4.0,MERGED,2016-08-11 11:56:56.000000000,2016-08-11 23:27:41.000000000,2016-08-11 23:27:41.000000000,"[{'_account_id': 3}, {'_account_id': 8040}, {'_account_id': 14288}]","[{'number': 1, 'created': '2016-08-11 11:56:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/562110a243502b299f14b80b277668d4e93bb7ef', 'message': 'update constraint for osprofiler to new release 1.4.0\n\nosprofiler 1.4.0 release\n\nChange-Id: Iafe7e59bb817f39e8cd330b2ee1b3f9b33d54dd3\nmeta:version: 1.4.0\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Alexey Yelistratov <ayelistratov@mirantis.com>\nmeta:release:Commit: Davanum Srinivas <davanum@gmail.com>\nmeta:release:Change-Id: Iad65f95b67cd83a392720aa5657fe21116d9bf07\n'}]",0,354007,562110a243502b299f14b80b277668d4e93bb7ef,7,3,1,5638,,,0,"update constraint for osprofiler to new release 1.4.0

osprofiler 1.4.0 release

Change-Id: Iafe7e59bb817f39e8cd330b2ee1b3f9b33d54dd3
meta:version: 1.4.0
meta:series: newton
meta:release-type: release
meta:announce: openstack-dev@lists.openstack.org
meta:pypi: yes
meta:first: no
meta:release:Author: Alexey Yelistratov <ayelistratov@mirantis.com>
meta:release:Commit: Davanum Srinivas <davanum@gmail.com>
meta:release:Change-Id: Iad65f95b67cd83a392720aa5657fe21116d9bf07
",git fetch https://review.opendev.org/openstack/requirements refs/changes/07/354007/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,562110a243502b299f14b80b277668d4e93bb7ef,new-release,osprofiler===1.4.0,osprofiler===1.3.0,1,1
openstack%2Frequirements~master~I0e1bc991c6c8e064cd91643419d3c3ce5e513809,openstack/requirements,master,I0e1bc991c6c8e064cd91643419d3c3ce5e513809,Raise the minimum for oslo.context to 2.6.0,MERGED,2016-08-09 04:51:42.000000000,2016-08-11 23:27:35.000000000,2016-08-11 23:27:35.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7191}, {'_account_id': 11105}, {'_account_id': 12898}, {'_account_id': 14288}]","[{'number': 1, 'created': '2016-08-09 04:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/493f29faff343a043509f24ee48d37c93ac9e8b4', 'message': 'Raise the minimum for olso.context to 2.6.0\n\nRecently olso.context added a new attribute in the 2.6.0 release.  Set\nthat to the minimum acceptable for newton releases.\n\nThis is the final cross-project step outlined in [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2016-July/100266.html\n\nChange-Id: I0e1bc991c6c8e064cd91643419d3c3ce5e513809\n'}, {'number': 2, 'created': '2016-08-10 06:39:31.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2525dcf42ea73b60b0cb15a46536f096cdb27131', 'message': 'Raise the minimum for oslo.context to 2.6.0\n\nRecently oslo.context added a new attribute in the 2.6.0 release.  Set\nthat to the minimum acceptable for newton releases.\n\nThis is the final cross-project step outlined in [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2016-July/100266.html\n\nChange-Id: I0e1bc991c6c8e064cd91643419d3c3ce5e513809\n'}]",2,352702,2525dcf42ea73b60b0cb15a46536f096cdb27131,19,6,2,12898,,,0,"Raise the minimum for oslo.context to 2.6.0

Recently oslo.context added a new attribute in the 2.6.0 release.  Set
that to the minimum acceptable for newton releases.

This is the final cross-project step outlined in [1]

[1] http://lists.openstack.org/pipermail/openstack-dev/2016-July/100266.html

Change-Id: I0e1bc991c6c8e064cd91643419d3c3ce5e513809
",git fetch https://review.opendev.org/openstack/requirements refs/changes/02/352702/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,493f29faff343a043509f24ee48d37c93ac9e8b4,feature/bump-oslo.context,oslo.context>=2.6.0 # Apache-2.0,oslo.context>=2.4.0 # Apache-2.0,1,1
openstack%2Frequirements~master~Idc03ee0b5683a14410e09d740aeabe92ddd5c841,openstack/requirements,master,Idc03ee0b5683a14410e09d740aeabe92ddd5c841,update constraint for oslo.vmware to new release 2.13.0,MERGED,2016-08-10 12:16:18.000000000,2016-08-11 23:27:29.000000000,2016-08-11 23:27:29.000000000,"[{'_account_id': 3}, {'_account_id': 14288}]","[{'number': 1, 'created': '2016-08-10 12:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ff67b8086ed1ed7c08162f296dc63c9fc7a4ca59', 'message': 'update constraint for oslo.vmware to new release 2.13.0\n\noslo.vmware 2.13.0 release\n\nChange-Id: Idc03ee0b5683a14410e09d740aeabe92ddd5c841\nmeta:version: 2.13.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2016-08-11 16:29:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dc8b05a8e772d58d634b0d875ae7b04270bf4aad', 'message': 'update constraint for oslo.vmware to new release 2.13.0\n\noslo.vmware 2.13.0 release\n\nChange-Id: Idc03ee0b5683a14410e09d740aeabe92ddd5c841\nmeta:version: 2.13.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,353436,dc8b05a8e772d58d634b0d875ae7b04270bf4aad,9,2,2,2472,,,0,"update constraint for oslo.vmware to new release 2.13.0

oslo.vmware 2.13.0 release

Change-Id: Idc03ee0b5683a14410e09d740aeabe92ddd5c841
meta:version: 2.13.0
meta:diff-start: -
meta:series: newton
meta:release-type: release
meta:announce: openstack-dev@lists.openstack.org
meta:pypi: yes
meta:first: no
meta:release:Author: Joshua Harlow <jxharlow@godaddy.com>
meta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393
meta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/353436/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ff67b8086ed1ed7c08162f296dc63c9fc7a4ca59,new-release,oslo.vmware===2.13.0,oslo.vmware===2.12.0,1,1
openstack%2Frequirements~master~Ie8f1963bbcc8f361396a2723295185299c9d9f8c,openstack/requirements,master,Ie8f1963bbcc8f361396a2723295185299c9d9f8c,update constraint for oslo.rootwrap to new release 5.1.0,MERGED,2016-08-10 12:14:36.000000000,2016-08-11 23:27:24.000000000,2016-08-11 23:27:24.000000000,"[{'_account_id': 3}, {'_account_id': 14288}]","[{'number': 1, 'created': '2016-08-10 12:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c54e1d796a3247db185114243ba056309f9bc256', 'message': 'update constraint for oslo.rootwrap to new release 5.1.0\n\noslo.rootwrap 5.1.0 release\n\nChange-Id: Ie8f1963bbcc8f361396a2723295185299c9d9f8c\nmeta:version: 5.1.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2016-08-11 16:26:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/813b28f697ef79d1f55b6c5122f5e52016824609', 'message': 'update constraint for oslo.rootwrap to new release 5.1.0\n\noslo.rootwrap 5.1.0 release\n\nChange-Id: Ie8f1963bbcc8f361396a2723295185299c9d9f8c\nmeta:version: 5.1.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,353430,813b28f697ef79d1f55b6c5122f5e52016824609,9,2,2,2472,,,0,"update constraint for oslo.rootwrap to new release 5.1.0

oslo.rootwrap 5.1.0 release

Change-Id: Ie8f1963bbcc8f361396a2723295185299c9d9f8c
meta:version: 5.1.0
meta:diff-start: -
meta:series: newton
meta:release-type: release
meta:announce: openstack-dev@lists.openstack.org
meta:pypi: yes
meta:first: no
meta:release:Author: Joshua Harlow <jxharlow@godaddy.com>
meta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393
meta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/30/353430/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c54e1d796a3247db185114243ba056309f9bc256,new-release,oslo.rootwrap===5.1.0,oslo.rootwrap===5.0.0,1,1
openstack%2Frequirements~master~Iaf313e5117f4843e6a84cacb1195e36dec2b6025,openstack/requirements,master,Iaf313e5117f4843e6a84cacb1195e36dec2b6025,update constraint for oslo.middleware to new release 3.17.0,MERGED,2016-08-10 12:12:37.000000000,2016-08-11 23:27:19.000000000,2016-08-11 23:27:19.000000000,"[{'_account_id': 3}, {'_account_id': 14288}]","[{'number': 1, 'created': '2016-08-10 12:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c51d65ad8fab2af51763d5dec0c76bd63d23d8bf', 'message': 'update constraint for oslo.middleware to new release 3.17.0\n\noslo.middleware 3.17.0 release\n\nChange-Id: Iaf313e5117f4843e6a84cacb1195e36dec2b6025\nmeta:version: 3.17.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2016-08-11 16:24:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/073ac7e0de37a7fbf05c17d9259a27f38a0e43e3', 'message': 'update constraint for oslo.middleware to new release 3.17.0\n\noslo.middleware 3.17.0 release\n\nChange-Id: Iaf313e5117f4843e6a84cacb1195e36dec2b6025\nmeta:version: 3.17.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,353427,073ac7e0de37a7fbf05c17d9259a27f38a0e43e3,8,2,2,2472,,,0,"update constraint for oslo.middleware to new release 3.17.0

oslo.middleware 3.17.0 release

Change-Id: Iaf313e5117f4843e6a84cacb1195e36dec2b6025
meta:version: 3.17.0
meta:diff-start: -
meta:series: newton
meta:release-type: release
meta:announce: openstack-dev@lists.openstack.org
meta:pypi: yes
meta:first: no
meta:release:Author: Joshua Harlow <jxharlow@godaddy.com>
meta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393
meta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/353427/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c51d65ad8fab2af51763d5dec0c76bd63d23d8bf,new-release,oslo.middleware===3.17.0,oslo.middleware===3.16.0,1,1
openstack%2Frequirements~master~I26bc5f8e12bf5453978739fc975a8d910b26a688,openstack/requirements,master,I26bc5f8e12bf5453978739fc975a8d910b26a688,update constraint for oslo.context to new release 2.8.0,MERGED,2016-08-10 12:10:49.000000000,2016-08-11 23:26:52.000000000,2016-08-11 23:26:52.000000000,"[{'_account_id': 3}, {'_account_id': 14288}]","[{'number': 1, 'created': '2016-08-10 12:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d28cf250bd5876066e6d4ead49744e4273b47788', 'message': 'update constraint for oslo.context to new release 2.8.0\n\noslo.context 2.8.0 release\n\nChange-Id: I26bc5f8e12bf5453978739fc975a8d910b26a688\nmeta:version: 2.8.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2016-08-11 16:15:57.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2f4b9f5fb76c0840d9fb212702dfc1fa5bc51510', 'message': 'update constraint for oslo.context to new release 2.8.0\n\noslo.context 2.8.0 release\n\nChange-Id: I26bc5f8e12bf5453978739fc975a8d910b26a688\nmeta:version: 2.8.0\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:announce: openstack-dev@lists.openstack.org\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Joshua Harlow <jxharlow@godaddy.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393\nmeta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,353423,2f4b9f5fb76c0840d9fb212702dfc1fa5bc51510,9,2,2,2472,,,0,"update constraint for oslo.context to new release 2.8.0

oslo.context 2.8.0 release

Change-Id: I26bc5f8e12bf5453978739fc975a8d910b26a688
meta:version: 2.8.0
meta:diff-start: -
meta:series: newton
meta:release-type: release
meta:announce: openstack-dev@lists.openstack.org
meta:pypi: yes
meta:first: no
meta:release:Author: Joshua Harlow <jxharlow@godaddy.com>
meta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Change-Id: Icfe24232fbbcff3a354b1acbd3799bb7cedb9393
meta:release:Code-Review+1: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/353423/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d28cf250bd5876066e6d4ead49744e4273b47788,new-release,oslo.context===2.8.0,oslo.context===2.7.0,1,1
openstack%2Fswift~master~I9776cddd4d045408325342983e285a00c992bfae,openstack/swift,master,I9776cddd4d045408325342983e285a00c992bfae,Add encrypter and decrypter links to middleware.rst,MERGED,2016-07-01 15:23:41.000000000,2016-08-11 23:26:44.000000000,2016-08-11 23:26:44.000000000,"[{'_account_id': 3}, {'_account_id': 4608}, {'_account_id': 7847}, {'_account_id': 9625}, {'_account_id': 12261}, {'_account_id': 12279}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2016-07-01 15:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/67fb37db223a4b9d5aa58ab18ebf29cf5a7951de', 'message': 'Add encrypter and decrypter links to middleware.rst\n\nDrive-by fix for crypto filter_factory test.\n\nAdd note to encryption doc to highlight that root secret\nshould not be changed (follow up on earlier review comment).\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\n\nChange-Id: I9776cddd4d045408325342983e285a00c992bfae\n'}, {'number': 2, 'created': '2016-07-05 11:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a8911a3a8bd2c3c7ab0eeb41dc53167abd5d3059', 'message': 'Add encrypter and decrypter links to middleware.rst\n\nDrive-by fix for crypto filter_factory test.\n\nAdd note to encryption doc to highlight that root secret\nshould not be changed (follow up on earlier review comment).\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\n\nChange-Id: I9776cddd4d045408325342983e285a00c992bfae\n'}, {'number': 3, 'created': '2016-07-08 10:51:57.000000000', 'files': ['doc/source/overview_encryption.rst', 'doc/source/middleware.rst', 'swift/common/middleware/crypto/__init__.py', 'test/unit/common/middleware/crypto/test_crypto.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ffaef489c6d1420ba6f4baf50b8fe84aa3d86319', 'message': 'Add encrypter and decrypter links to middleware.rst\n\nDrive-by fix for crypto filter_factory test.\n\nAdd note to encryption doc to highlight that root secret\nshould not be changed (follow up on earlier review comment).\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\n\nChange-Id: I9776cddd4d045408325342983e285a00c992bfae\n'}]",9,336618,ffaef489c6d1420ba6f4baf50b8fe84aa3d86319,23,8,3,7847,,,0,"Add encrypter and decrypter links to middleware.rst

Drive-by fix for crypto filter_factory test.

Add note to encryption doc to highlight that root secret
should not be changed (follow up on earlier review comment).

Co-Authored-By: Tim Burke <tim.burke@gmail.com>

Change-Id: I9776cddd4d045408325342983e285a00c992bfae
",git fetch https://review.opendev.org/openstack/swift refs/changes/18/336618/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/overview_encryption.rst', 'doc/source/middleware.rst', 'swift/common/middleware/crypto/__init__.py', 'test/unit/common/middleware/crypto/test_crypto.py']",4,67fb37db223a4b9d5aa58ab18ebf29cf5a7951de,p-encryption-doc-rst," def do_test(conf): fake_app = object() factory = crypto.filter_factory(conf) self.assertTrue(callable(factory)) filtered_app = factory(fake_app) self.assertIsInstance(filtered_app, crypto.decrypter.Decrypter) self.assertIsInstance(filtered_app.app, crypto.encrypter.Encrypter) self.assertIs(filtered_app.app.app, fake_app) self.assertIn('encryption', utils._swift_admin_info) self.assertNotIn('encryption', utils._swift_info) do_test({}) self.assertDictEqual({'enabled': True}, utils._swift_admin_info['encryption']) do_test({'disable_encryption': False}) self.assertDictEqual({'enabled': True}, utils._swift_admin_info['encryption']) do_test({'disable_encryption': True}) self.assertDictEqual({'enabled': False}, utils._swift_admin_info['encryption'])"," factory = crypto.filter_factory({}) self.assertTrue(callable(factory)) self.assertIsInstance(factory({}), crypto.decrypter.Decrypter) self.assertIsInstance(factory({}).app, crypto.encrypter.Encrypter) self.assertIn('encryption', utils._swift_admin_info) self.assertDictEqual( {'enabled': True}, utils._swift_admin_info['encryption']) self.assertNotIn('encryption', utils._swift_info) factory = crypto.filter_factory({'disable_encryption': True}) self.assertTrue(callable(factory)) self.assertIsInstance(factory({}), crypto.decrypter.Decrypter) self.assertIsInstance(factory({}).app, crypto.encrypter.Encrypter) self.assertIn('encryption', utils._swift_admin_info) self.assertDictEqual( {'enabled': False}, utils._swift_admin_info['encryption']) self.assertNotIn('encryption', utils._swift_info)",42,17
openstack%2Fswift~master~I0f614a4c53dd31459f1b6297dd32a8c0f609d9ce,openstack/swift,master,I0f614a4c53dd31459f1b6297dd32a8c0f609d9ce,Grammer error : swift/doc/source/overview_ring.rst,MERGED,2016-08-11 16:14:31.000000000,2016-08-11 23:26:36.000000000,2016-08-11 23:26:36.000000000,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 20508}]","[{'number': 1, 'created': '2016-08-11 16:14:31.000000000', 'files': ['doc/source/overview_ring.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/7e2cb23f887cf0092e0bd9f2baa42d3ddbb257ce', 'message': 'Grammer error : swift/doc/source/overview_ring.rst\n\nChanged sentence: ""Regions can be used to describe geo-graphically\nsystems characterized by lower-bandwidth""\nTo: ""Regions can be used to describe geographical\nsystems characterized by lower-bandwidth""\n\nChange-Id: I0f614a4c53dd31459f1b6297dd32a8c0f609d9ce\nCloses-Bug: 1612302\n'}]",0,354192,7e2cb23f887cf0092e0bd9f2baa42d3ddbb257ce,7,3,1,22776,,,0,"Grammer error : swift/doc/source/overview_ring.rst

Changed sentence: ""Regions can be used to describe geo-graphically
systems characterized by lower-bandwidth""
To: ""Regions can be used to describe geographical
systems characterized by lower-bandwidth""

Change-Id: I0f614a4c53dd31459f1b6297dd32a8c0f609d9ce
Closes-Bug: 1612302
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/354192/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/overview_ring.rst'],1,7e2cb23f887cf0092e0bd9f2baa42d3ddbb257ce,bug/1612302,"of region, zone, and server. Regions can be used to describe geographical","of region, zone, and server. Regions can be used to describe geo-graphically",1,1
openstack%2Fswift~master~I365edf77c5bf34e2e51d7f10c9ea1012c1bda8ed,openstack/swift,master,I365edf77c5bf34e2e51d7f10c9ea1012c1bda8ed,add swift-oldies man page,MERGED,2016-07-31 22:31:48.000000000,2016-08-11 23:23:10.000000000,2016-08-11 23:23:10.000000000,"[{'_account_id': 3}, {'_account_id': 7847}, {'_account_id': 9625}, {'_account_id': 17361}, {'_account_id': 20508}, {'_account_id': 22059}]","[{'number': 1, 'created': '2016-07-31 22:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1c2777c3cfb49856286c55ea2accec4d72945489', 'message': 'add swift-oldies man page\n\nChange-Id: I365edf77c5bf34e2e51d7f10c9ea1012c1bda8ed\n'}, {'number': 2, 'created': '2016-07-31 23:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/084d6d720ab1c83a77ad98c6a2da34e964c4c976', 'message': 'add swift-oldies man page\n\nCloses-bug: #1607017\nChange-Id: I365edf77c5bf34e2e51d7f10c9ea1012c1bda8ed\n'}, {'number': 3, 'created': '2016-08-04 14:44:13.000000000', 'files': ['doc/manpages/swift-oldies.1'], 'web_link': 'https://opendev.org/openstack/swift/commit/4f94e71d554f885233da1a055bf7972353f3c6ec', 'message': 'add swift-oldies man page\n\nCloses-bug: #1607017\nChange-Id: I365edf77c5bf34e2e51d7f10c9ea1012c1bda8ed\n'}]",4,349296,4f94e71d554f885233da1a055bf7972353f3c6ec,15,6,3,18838,,,0,"add swift-oldies man page

Closes-bug: #1607017
Change-Id: I365edf77c5bf34e2e51d7f10c9ea1012c1bda8ed
",git fetch https://review.opendev.org/openstack/swift refs/changes/96/349296/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/manpages/swift-oldies.1'],1,1c2777c3cfb49856286c55ea2accec4d72945489,349296,".\"" .\"" Author: Paul Dardeau <paul.dardeau@intel.com> .\"" Copyright (c) 2016 OpenStack Foundation. .\"" .\"" Licensed under the Apache License, Version 2.0 (the ""License""); .\"" you may not use this file except in compliance with the License. .\"" You may obtain a copy of the License at .\"" .\"" http://www.apache.org/licenses/LICENSE-2.0 .\"" .\"" Unless required by applicable law or agreed to in writing, software .\"" distributed under the License is distributed on an ""AS IS"" BASIS, .\"" WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or .\"" implied. .\"" See the License for the specific language governing permissions and .\"" limitations under the License. .\"" .TH swift-oldies 1 ""7/31/2016"" ""Linux"" ""OpenStack Swift"" .SH NAME .LP .B swift-oldies \- Openstack-swift oldies tool .SH SYNOPSIS .LP .B swift-oldies [-h|--help] [-a|--age] .SH DESCRIPTION .PP Lists Swift processes that have been running more than a specific length of time (in hours). This is done by scanning the list of currently executing processes (via ps command) and examining the execution time of those python processes whose program names begin with 'swift-'. Example (see all Swift processes older than two days): swift-oldies \-a 48 The options are as follows: .RS 4 .PD 0 .IP ""-a HOURS"" .IP ""--age=HOURS"" .RS 4 .IP ""Look for processes at least HOURS old; default: 720 (30 days)"" .RE .PD .RE .SH DOCUMENTATION .LP More documentation about Openstack-Swift can be found at .BI http://swift.openstack.org/index.html .SH ""SEE ALSO"" .BR swift-orphans(1) ",,64,0
openstack%2Ftempest~master~I6a4845edb95031243bca12a8d03c60cf18528212,openstack/tempest,master,I6a4845edb95031243bca12a8d03c60cf18528212,Configure stable service clients via the registry,MERGED,2016-07-27 10:51:07.000000000,2016-08-11 23:21:01.000000000,2016-08-11 23:21:01.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 17716}]","[{'number': 1, 'created': '2016-07-27 10:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4041fbc89deb412fb5aafa24edbafd341d02aab9', 'message': 'Configure stable service clients via the registry\n\nPush the configuration for stable service clients into the client\nregistry so that they may be automatically configured in clients.py.\nThis makes the stable service clients available and pre-configured\nto both Tempest and all the plugins, removing the need for the\nextra configuration step.\n\nOnce all tempest service clients will be stable, several pieces of\ncode will become redundant, as noted in the code itself.\n\nChange-Id: I6a4845edb95031243bca12a8d03c60cf18528212\n'}, {'number': 2, 'created': '2016-07-28 17:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/521c27433a14969cb467b9b5efae9219631c5d8e', 'message': 'Configure stable service clients via the registry\n\nPush the configuration for stable service clients into the client\nregistry so that they may be automatically configured in clients.py.\nThis makes the stable service clients available and pre-configured\nto both Tempest and all the plugins, removing the need for the\nextra configuration step.\n\nOnce all tempest service clients will be stable, several pieces of\ncode will become redundant, as noted in the code itself.\n\nChange-Id: I6a4845edb95031243bca12a8d03c60cf18528212\n'}, {'number': 3, 'created': '2016-07-29 12:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0d59272ef7a14a645889b97e536350996e46cb46', 'message': 'Configure stable service clients via the registry\n\nPush the configuration for stable service clients into the client\nregistry so that they may be automatically configured in clients.py.\nThis makes the stable service clients available and pre-configured\nto both Tempest and all the plugins, removing the need for the\nextra configuration step.\n\nOnce all tempest service clients will be stable, several pieces of\ncode will become redundant, as noted in the code itself.\n\nChange-Id: I6a4845edb95031243bca12a8d03c60cf18528212\n'}, {'number': 4, 'created': '2016-07-29 13:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6914252cbb931d66034664aa60a9eb9bc66ef68f', 'message': 'Configure stable service clients via the registry\n\nPush the configuration for stable service clients into the client\nregistry so that they may be automatically configured in clients.py.\nThis makes the stable service clients available and pre-configured\nto both Tempest and all the plugins, removing the need for the\nextra configuration step.\n\nOnce all tempest service clients will be stable, several pieces of\ncode will become redundant, as noted in the code itself.\n\nChange-Id: I6a4845edb95031243bca12a8d03c60cf18528212\n'}, {'number': 5, 'created': '2016-08-02 08:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb62f1245171e5bc738bd38130f370b4d7870bee', 'message': 'Configure stable service clients via the registry\n\nPush the configuration for stable service clients into the client\nregistry so that they may be automatically configured in clients.py.\nThis makes the stable service clients available and pre-configured\nto both Tempest and all the plugins, removing the need for the\nextra configuration step.\n\nOnce all tempest service clients will be stable, several pieces of\ncode will become redundant, as noted in the code itself.\n\nChange-Id: I6a4845edb95031243bca12a8d03c60cf18528212\n'}, {'number': 6, 'created': '2016-08-04 15:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/defd02836d3902605b128aff37da0d024e63261a', 'message': 'Configure stable service clients via the registry\n\nPush the configuration for stable service clients into the client\nregistry so that they may be automatically configured in clients.py.\nThis makes the stable service clients available and pre-configured\nto both Tempest and all the plugins, removing the need for the\nextra configuration step.\n\nOnce all tempest service clients will be stable, several pieces of\ncode will become redundant, as noted in the code itself.\n\nChange-Id: I6a4845edb95031243bca12a8d03c60cf18528212\n'}, {'number': 7, 'created': '2016-08-05 13:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2673383c9a9710013911c8c5558c9a1c107e7316', 'message': 'Configure stable service clients via the registry\n\nPush the configuration for stable service clients into the client\nregistry so that they may be automatically configured in clients.py.\nThis makes the stable service clients available and pre-configured\nto both Tempest and all the plugins, removing the need for the\nextra configuration step.\n\nOnce all tempest service clients will be stable, several pieces of\ncode will become redundant, as noted in the code itself.\n\nChange-Id: I6a4845edb95031243bca12a8d03c60cf18528212\n'}, {'number': 8, 'created': '2016-08-05 15:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/04289d8c9dcf09901e29d3b1fb700f0b553d9371', 'message': 'Configure stable service clients via the registry\n\nPush the configuration for stable service clients into the client\nregistry so that they may be automatically configured in clients.py.\nThis makes the stable service clients available and pre-configured\nto both Tempest and all the plugins, removing the need for the\nextra configuration step.\n\nOnce all tempest service clients will be stable, several pieces of\ncode will become redundant, as noted in the code itself.\n\nChange-Id: I6a4845edb95031243bca12a8d03c60cf18528212\n'}, {'number': 9, 'created': '2016-08-05 20:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/88279903886860dadb393cf550e3b51c35d4436b', 'message': 'Configure stable service clients via the registry\n\nPush the configuration for stable service clients into the client\nregistry so that they may be automatically configured in clients.py.\nThis makes the stable service clients available and pre-configured\nto both Tempest and all the plugins, removing the need for the\nextra configuration step.\n\nOnce all tempest service clients will be stable, several pieces of\ncode will become redundant, as noted in the code itself.\n\nChange-Id: I6a4845edb95031243bca12a8d03c60cf18528212\n'}, {'number': 10, 'created': '2016-08-06 20:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3027a1bc5301a26123eb3a15810e5114251f94d2', 'message': 'Configure stable service clients via the registry\n\nPush the configuration for stable service clients into the client\nregistry so that they may be automatically configured in clients.py.\nThis makes the stable service clients available and pre-configured\nto both Tempest and all the plugins, removing the need for the\nextra configuration step.\n\nOnce all tempest service clients will be stable, several pieces of\ncode will become redundant, as noted in the code itself.\n\nChange-Id: I6a4845edb95031243bca12a8d03c60cf18528212\n'}, {'number': 11, 'created': '2016-08-07 09:18:11.000000000', 'files': ['tempest/clients.py', 'tempest/config.py', 'tempest/lib/services/clients.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8420abea55b1528dc77a585a23b3cbbfbd418b7a', 'message': 'Configure stable service clients via the registry\n\nPush the configuration for stable service clients into the client\nregistry so that they may be automatically configured in clients.py.\nThis makes the stable service clients available and pre-configured\nto both Tempest and all the plugins, removing the need for the\nextra configuration step.\n\nOnce all tempest service clients will be stable, several pieces of\ncode will become redundant, as noted in the code itself.\n\nChange-Id: I6a4845edb95031243bca12a8d03c60cf18528212\n'}]",5,347756,8420abea55b1528dc77a585a23b3cbbfbd418b7a,59,7,11,1921,,,0,"Configure stable service clients via the registry

Push the configuration for stable service clients into the client
registry so that they may be automatically configured in clients.py.
This makes the stable service clients available and pre-configured
to both Tempest and all the plugins, removing the need for the
extra configuration step.

Once all tempest service clients will be stable, several pieces of
code will become redundant, as noted in the code itself.

Change-Id: I6a4845edb95031243bca12a8d03c60cf18528212
",git fetch https://review.opendev.org/openstack/tempest refs/changes/56/347756/11 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/clients.py', 'tempest/config.py', 'tempest/lib/services/clients.py']",3,4041fbc89deb412fb5aafa24edbafd341d02aab9,bp/client-manager-refactor," """"""List of unstable service client modules available in Tempest. Provides a list of service modules available Tempest not yet migrated to tempest.lib. return set(['identity.v2', 'identity.v3', 'object-storage', 'volume.v1', # Register service clients owned by tempest and not yet stable # NOTE(andreaf) Once all service clients in tempest are migrated # to tempest.lib this loop will not be required anymore # Register service clients from the registry (__tempest__ and plugins) _non_migrated_services = tempest_modules()"," """"""List of service client modules available in Tempest. Provides a list of service modules available Tempest. return set(['compute', 'identity.v2', 'identity.v3', 'image.v1', 'image.v2', 'network', 'object-storage', 'volume.v1', # Register service clients owned by tempest # Register service clients from plugins _non_migrated_services = tempest_modules() - set( client_modules_by_service_name)",46,13
openstack%2Fneutron-lbaas~master~I284441a3e361bc5d771f553ed0a94bdc7e90ac6c,openstack/neutron-lbaas,master,I284441a3e361bc5d771f553ed0a94bdc7e90ac6c,Enable DeprecationWarning in test environments,MERGED,2016-08-09 22:57:11.000000000,2016-08-11 23:18:06.000000000,2016-08-11 23:18:06.000000000,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 10273}, {'_account_id': 11685}, {'_account_id': 12040}]","[{'number': 1, 'created': '2016-08-09 22:57:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/cba50ea7c3ae94bda53928e6a27223f0eb47ca97', 'message': 'Enable DeprecationWarning in test environments\n\nMany deprecations are triggered early (on imports, for example)\nbefore the warnings are enabled by the WarningsFixture in the\nbase test class.\n\nTo make sure all DeprecationWarning messages are emitted we enable\nthem via the PYTHONWARNINGS environment variable.\n\nChange-Id: I284441a3e361bc5d771f553ed0a94bdc7e90ac6c\n'}]",0,353149,cba50ea7c3ae94bda53928e6a27223f0eb47ca97,9,5,1,6524,,,0,"Enable DeprecationWarning in test environments

Many deprecations are triggered early (on imports, for example)
before the warnings are enabled by the WarningsFixture in the
base test class.

To make sure all DeprecationWarning messages are emitted we enable
them via the PYTHONWARNINGS environment variable.

Change-Id: I284441a3e361bc5d771f553ed0a94bdc7e90ac6c
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/49/353149/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cba50ea7c3ae94bda53928e6a27223f0eb47ca97,env-deprecation-warnings, PYTHONWARNINGS=default::DeprecationWarning,,1,0
openstack%2Fmagnum~master~If83b8bb3d2efff5f999f8d8ce41022b7b901842b,openstack/magnum,master,If83b8bb3d2efff5f999f8d8ce41022b7b901842b,[WIP] Add support for cluster UUID parameter in addition to bay UUID in Certificate API.,ABANDONED,2016-08-11 21:47:54.000000000,2016-08-11 23:18:01.000000000,,"[{'_account_id': 21469}, {'_account_id': 21660}, {'_account_id': 22448}]","[{'number': 1, 'created': '2016-08-11 21:47:54.000000000', 'files': ['magnum/api/controllers/v1/certificate.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/eebe7be1698f1ae5f1370d73cf7e185b74418ab7', 'message': '[WIP] Add support for cluster UUID parameter in addition to bay UUID\nin Certificate API.\n\nChange-Id: If83b8bb3d2efff5f999f8d8ce41022b7b901842b\nImplements: blueprint rename-bay-to-cluster\n'}]",1,354417,eebe7be1698f1ae5f1370d73cf7e185b74418ab7,3,3,1,22448,,,0,"[WIP] Add support for cluster UUID parameter in addition to bay UUID
in Certificate API.

Change-Id: If83b8bb3d2efff5f999f8d8ce41022b7b901842b
Implements: blueprint rename-bay-to-cluster
",git fetch https://review.opendev.org/openstack/magnum refs/changes/17/354417/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/api/controllers/v1/certificate.py'],1,eebe7be1698f1ae5f1370d73cf7e185b74418ab7,bp/rename-bay-to-cluster," certificate.unset_fields_except(['cluster_uuid', 'bay_uuid', 'csr', 'pem']) # Adding API support for cluster UUID equivalent to bay UUID # If both specified, cluster UUID takes precedence if not certificate.cluster_uuid: certificate.cluster_uuid = certificate.bay_uuid certificate.cluster_uuid), certificate.cluster_uuid, sample = cls(cluster_uuid='7ae81bb3-dec3-4289-8d6c-da80bd8001ae',"," certificate.unset_fields_except(['bay_uuid', 'csr', 'pem']) certificate.bay_uuid), certificate.bay_uuid, sample = cls(bay_uuid='7ae81bb3-dec3-4289-8d6c-da80bd8001ae',",12,4
openstack%2Fneutron-lbaas~master~If1dac2d29ae4e776a534dd1c096b67b5b819daff,openstack/neutron-lbaas,master,If1dac2d29ae4e776a534dd1c096b67b5b819daff,Remove redundant listener existence check in create_l7policy,MERGED,2016-07-25 03:30:58.000000000,2016-08-11 23:18:00.000000000,2016-08-11 23:18:00.000000000,"[{'_account_id': 3}, {'_account_id': 7293}, {'_account_id': 9008}, {'_account_id': 9828}, {'_account_id': 10273}, {'_account_id': 11685}, {'_account_id': 12040}, {'_account_id': 21583}, {'_account_id': 21614}]","[{'number': 1, 'created': '2016-07-25 03:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/c031b375a7c5163e48ea97978867cabdec2f8d88', 'message': ""Delete the checking that listener_db whether is existing\nafter _get_resource called\n\nIt has been checked that resource whether is existing\nin _get_resource,which will raise loadbalancerv2.EntityNotFound\nwhen resource is not existing.\n\nSo it's no need to check again.\n\nChange-Id: If1dac2d29ae4e776a534dd1c096b67b5b819daff\n""}, {'number': 2, 'created': '2016-08-05 00:50:47.000000000', 'files': ['neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/5c0a68821539848228b791663a05ae5092e357d8', 'message': ""Remove redundant listener existence check in create_l7policy\n\n_get_resource method is capable of handling NoResultFound exceptions\nand it returns a result only in case an object with a given id exists.\nThat's why there is no need to validate whether the returned value\nis not None in create_l7policy method.\n\nChange-Id: If1dac2d29ae4e776a534dd1c096b67b5b819daff\n""}]",3,346577,5c0a68821539848228b791663a05ae5092e357d8,20,9,2,21583,,,0,"Remove redundant listener existence check in create_l7policy

_get_resource method is capable of handling NoResultFound exceptions
and it returns a result only in case an object with a given id exists.
That's why there is no need to validate whether the returned value
is not None in create_l7policy method.

Change-Id: If1dac2d29ae4e776a534dd1c096b67b5b819daff
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/77/346577/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py'],1,c031b375a7c5163e48ea97978867cabdec2f8d88,del_checking,," if not listener_db: raise loadbalancerv2.EntityNotFound( name=models.Listener.NAME, id=listener_id)",0,3
openstack%2Foctavia~master~Ia0ad0fea3b8ce160a25b3a22fc4ca68762c4393c,openstack/octavia,master,Ia0ad0fea3b8ce160a25b3a22fc4ca68762c4393c,Remove unnecessary check to get all listener ids,MERGED,2016-07-25 14:09:28.000000000,2016-08-11 23:10:57.000000000,2016-08-11 23:06:56.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 7293}, {'_account_id': 10273}, {'_account_id': 11685}, {'_account_id': 16923}]","[{'number': 1, 'created': '2016-07-25 14:09:28.000000000', 'files': ['octavia/api/v1/controllers/health_monitor.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5e31db95d2a729517fc565ee76d53af8ef1f4269', 'message': ""Remove unnecessary check to get all listener ids\n\npool can have several listeners, but listeners' ids won't\nbe same. so no need to check if id has been already in the list.\n\nChange-Id: Ia0ad0fea3b8ce160a25b3a22fc4ca68762c4393c\n""}]",3,346836,5e31db95d2a729517fc565ee76d53af8ef1f4269,13,6,1,19956,,,0,"Remove unnecessary check to get all listener ids

pool can have several listeners, but listeners' ids won't
be same. so no need to check if id has been already in the list.

Change-Id: Ia0ad0fea3b8ce160a25b3a22fc4ca68762c4393c
",git fetch https://review.opendev.org/openstack/octavia refs/changes/36/346836/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/api/v1/controllers/health_monitor.py'],1,5e31db95d2a729517fc565ee76d53af8ef1f4269,multi_listener, listener_ids = [listener.id for listener in pool.listeners], for listener in pool.listeners: if listener.id not in listener_ids: listener_ids.append(listener.id),1,3
openstack%2Fneutron-lbaas~master~I61f59726ebc52a56499539b1f67612ff6fa30ba6,openstack/neutron-lbaas,master,I61f59726ebc52a56499539b1f67612ff6fa30ba6,Fix typo in the rest_client.py,MERGED,2016-08-09 05:59:01.000000000,2016-08-11 23:07:30.000000000,2016-08-11 23:07:30.000000000,"[{'_account_id': 3}, {'_account_id': 7293}, {'_account_id': 9008}, {'_account_id': 10273}, {'_account_id': 11685}, {'_account_id': 12040}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-08-09 05:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/9b4c935e282de0aff87e5e83fbc03a6dd5e9e8ed', 'message': 'Fix typo in the rest_client.py\n\nChange-Id: I61f59726ebc52a56499539b1f67612ff6fa30ba6\n'}, {'number': 2, 'created': '2016-08-09 06:01:57.000000000', 'files': ['neutron_lbaas/drivers/radware/rest_client.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/78b90b2c7aa164bbc430c94b473f0028f0b07d98', 'message': 'Fix typo in the rest_client.py\n\nChange-Id: I61f59726ebc52a56499539b1f67612ff6fa30ba6\n'}]",1,352719,78b90b2c7aa164bbc430c94b473f0028f0b07d98,18,7,2,22104,,,0,"Fix typo in the rest_client.py

Change-Id: I61f59726ebc52a56499539b1f67612ff6fa30ba6
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/19/352719/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,9b4c935e282de0aff87e5e83fbc03a6dd5e9e8ed,,,,0,0
openstack%2Fproject-config~master~I0a0e534b3358f7580b615307b5856b11065d73a9,openstack/project-config,master,I0a0e534b3358f7580b615307b5856b11065d73a9,Manually run install-distro-packages for tripleoclient job,MERGED,2016-08-11 18:00:40.000000000,2016-08-11 23:05:03.000000000,2016-08-11 23:05:03.000000000,"[{'_account_id': 3}, {'_account_id': 6316}, {'_account_id': 6547}]","[{'number': 1, 'created': '2016-08-11 18:00:40.000000000', 'files': ['jenkins/jobs/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b6addc2a2e0abecc0db8677cb056f688a73def29', 'message': 'Manually run install-distro-packages for tripleoclient job\n\nBecause our project is not cloned directly into $WORKSPACE, we need to\nmake sure we are in the proper directory before running\ninstall-distro-packages script.\n\nChange-Id: I0a0e534b3358f7580b615307b5856b11065d73a9\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,354288,b6addc2a2e0abecc0db8677cb056f688a73def29,7,3,1,4162,,,0,"Manually run install-distro-packages for tripleoclient job

Because our project is not cloned directly into $WORKSPACE, we need to
make sure we are in the proper directory before running
install-distro-packages script.

Change-Id: I0a0e534b3358f7580b615307b5856b11065d73a9
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/88/354288/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/tripleo.yaml'],1,b6addc2a2e0abecc0db8677cb056f688a73def29,, - shell: | #!/bin/bash -xe cd python-tripleoclient /usr/local/jenkins/slave_scripts/install-distro-packages.sh, - install-distro-packages,4,1
openstack%2Fmanila~master~I6a15db0dea09e72e9d1de3c817852e5165eec956,openstack/manila,master,I6a15db0dea09e72e9d1de3c817852e5165eec956,HPE3PAR make share from snapshot writable,MERGED,2016-07-06 00:22:24.000000000,2016-08-11 22:55:03.000000000,2016-08-11 22:55:03.000000000,"[{'_account_id': 3}, {'_account_id': 8851}, {'_account_id': 9003}, {'_account_id': 10621}, {'_account_id': 11047}, {'_account_id': 11865}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 14624}, {'_account_id': 15100}, {'_account_id': 15942}, {'_account_id': 16203}, {'_account_id': 16643}, {'_account_id': 16657}, {'_account_id': 17565}, {'_account_id': 17623}, {'_account_id': 18128}, {'_account_id': 18402}, {'_account_id': 20695}, {'_account_id': 21884}, {'_account_id': 22236}]","[{'number': 1, 'created': '2016-07-06 00:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/babcce5390c44052e0415647bfec91e4313d3e55', 'message': 'HPE3PAR make share from snapshot writable\n\nUse share mounting and copying to allow the\n3PAR to export writable shares created from\nsnapshots. This version works without the\ndata service driver data helper.\n\nChange-Id: I6a15db0dea09e72e9d1de3c817852e5165eec956\n'}, {'number': 2, 'created': '2016-07-22 03:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6940da6db93a46ce613557fa9d8a5397a43185b3', 'message': 'HPE3PAR make share from snapshot writable\n\nUse share mounting and copying to allow the\n3PAR to export writable shares created from\nsnapshots. This version works without the\ndata service driver data helper.\n\nChange-Id: I6a15db0dea09e72e9d1de3c817852e5165eec956\n'}, {'number': 3, 'created': '2016-07-22 04:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9ae88a8b92949d436951d2b91d9e7771694a94e6', 'message': 'HPE3PAR make share from snapshot writable\n\nUse share mounting and copying to allow the\n3PAR to export writable shares created from\nsnapshots. This version works without the\ndata service driver data helper.\n\nImplements: blueprint hpe3par-rw-snapshot-shares\nChange-Id: I6a15db0dea09e72e9d1de3c817852e5165eec956\n'}, {'number': 4, 'created': '2016-07-26 22:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/19484fce2853a5ecc35f52f0906cac67f6a2cc5c', 'message': 'HPE3PAR make share from snapshot writable\n\nUse share mounting and copying to allow the\n3PAR to export writable shares created from\nsnapshots. This version works without the\ndata service driver data helper.\n\nImplements: blueprint hpe3par-rw-snapshot-shares\nChange-Id: I6a15db0dea09e72e9d1de3c817852e5165eec956\n'}, {'number': 5, 'created': '2016-07-26 22:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2d95fd1e2fd0c69c108ed788feb7215a5efd50e9', 'message': 'HPE3PAR make share from snapshot writable\n\nUse share mounting and copying to allow the\n3PAR to export writable shares created from\nsnapshots. This version works without the\ndata service driver data helper.\n\nImplements: blueprint hpe3par-rw-snapshot-shares\nChange-Id: I6a15db0dea09e72e9d1de3c817852e5165eec956\n'}, {'number': 6, 'created': '2016-07-29 00:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/98343a5bdc05a3bf5720a3eb45c2c8661eb9b740', 'message': 'HPE3PAR make share from snapshot writable\n\nUse share mounting and copying to allow the\n3PAR to export writable shares created from\nsnapshots. This version works without the\ndata service driver data helper.\n\nImplements: blueprint hpe3par-rw-snapshot-shares\nChange-Id: I6a15db0dea09e72e9d1de3c817852e5165eec956\n'}, {'number': 7, 'created': '2016-07-31 05:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d9a64dd91dc3009b3aa43d1f0723d75d14d2ad40', 'message': 'HPE3PAR make share from snapshot writable\n\nUse share mounting and copying to allow the\n3PAR to export writable shares created from\nsnapshots. This version works without the\ndata service driver data helper.\n\nImplements: blueprint hpe3par-rw-snapshot-shares\nChange-Id: I6a15db0dea09e72e9d1de3c817852e5165eec956\n'}, {'number': 8, 'created': '2016-08-02 23:53:36.000000000', 'files': ['manila/share/drivers/hpe/hpe_3par_driver.py', 'manila/tests/share/drivers/hpe/test_hpe_3par_constants.py', 'doc/source/devref/hpe_3par_driver.rst', 'releasenotes/notes/hpe3par-rw-snapshot-shares-f7c33b4bf528bf00.yaml', 'manila/tests/share/drivers/hpe/test_hpe_3par_mediator.py', 'manila/tests/share/drivers/hpe/test_hpe_3par_driver.py', 'manila/share/drivers/hpe/hpe_3par_mediator.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/18e3fcda0e66d4f59bf32c3dede44e20ef8e10aa', 'message': 'HPE3PAR make share from snapshot writable\n\nUse share mounting and copying to allow the\n3PAR to export writable shares created from\nsnapshots. This version works without the\ndata service driver data helper.\n\nImplements: blueprint hpe3par-rw-snapshot-shares\nChange-Id: I6a15db0dea09e72e9d1de3c817852e5165eec956\n'}]",40,337926,18e3fcda0e66d4f59bf32c3dede44e20ef8e10aa,83,22,8,11047,,,0,"HPE3PAR make share from snapshot writable

Use share mounting and copying to allow the
3PAR to export writable shares created from
snapshots. This version works without the
data service driver data helper.

Implements: blueprint hpe3par-rw-snapshot-shares
Change-Id: I6a15db0dea09e72e9d1de3c817852e5165eec956
",git fetch https://review.opendev.org/openstack/manila refs/changes/26/337926/7 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/hpe/hpe_3par_driver.py', 'manila/tests/share/drivers/hpe/test_hpe_3par_constants.py', 'manila/tests/share/drivers/hpe/test_hpe_3par_mediator.py', 'manila/tests/share/drivers/hpe/test_hpe_3par_driver.py', 'manila/share/drivers/hpe/hpe_3par_mediator.py']",5,babcce5390c44052e0415647bfec91e4313d3e55,bp/hpe3par-rw-snapshot-shares,"from manila.data import utils as data_utilsTMP_RO_SNAP_EXPORT = ""Temp RO snapshot export as source for creating RW share."" @staticmethod def build_export_location(protocol, ip, path): if not ip: message = _('Failed to build export location due to missing IP.') raise exception.InvalidInput(message) if not path: message = _('Failed to build export location due to missing path.') raise exception.InvalidInput(message) share_proto = HPE3ParMediator.ensure_supported_protocol(protocol) if share_proto == 'nfs': location = ':'.join((ip, path)) else: location = '\\\\%s\%s' % (ip, path) return location sharedir, extra_specs, comment, client_ip=None): if client_ip: createfshare_kwargs['clientip'] = client_ip else: # New NFS shares needs seed IP to prevent ""all"" access. # Readonly and readwrite NFS shares client IPs cannot overlap. if readonly: createfshare_kwargs['clientip'] = LOCAL_IP_RO else: createfshare_kwargs['clientip'] = LOCAL_IP # this to use a seed IP instead of the default (all allowed). if self.hpe3par_require_cifs_ip: if client_ip: createfshare_kwargs['allowip'] = client_ip else: createfshare_kwargs['allowip'] = LOCAL_IP fpg, vfs, fstore, sharedir, readonly, size, comment, client_ip=None): createfshare_kwargs = self._build_createfshare_kwargs( protocol, fpg, fstore, readonly, sharedir, extra_specs, comment, client_ip=client_ip) comment=OPEN_STACK_MANILA, client_ip=None): :param comment: (optional) Comment to set on the share. :param client_ip: (optional) IP address to give access to. comment, client_ip=client_ip) size=None, if protocol == ""smb"" and (not self.hpe3par_cifs_admin_access_username or not self.hpe3par_cifs_admin_access_password): LOG.warning(_LW(""hpe3par_cifs_admin_access_username and "" ""hpe3par_cifs_admin_access_password must be "" ""provided in order for CIFS shares created from "" ""snapshots to be writable."")) return self.create_share( orig_project_id, share_id, protocol, extra_specs, fpg, vfs, fstore=fstore, sharedir=sharedir, readonly=True, comment=comment, ) # Export the snapshot as read-only to copy from. source_path = self.create_share( comment=' '.join((comment, TMP_RO_SNAP_EXPORT)), client_ip=self.my_ip share_name = self.ensure_prefix(share_id) try: dest_path = self.create_share( orig_project_id, share_id, protocol, extra_specs, fpg, vfs, fstore=fstore, readonly=False, size=size, comment=comment, client_ip=','.join((self.my_ip, LOCAL_IP)) ) if protocol == 'smb': self._grant_admin_smb_access( protocol, fpg, vfs, fstore, comment, share=share_name) ip = self.hpe3par_share_ip_address source_location = self.build_export_location( protocol, ip, source_path) dest_location = self.build_export_location(protocol, ip, dest_path) self._copy_share_data( share_id, source_location, dest_location, protocol) # Revoke the admin access that was needed to copy to the dest. if protocol == 'nfs': self._change_access(DENY, orig_project_id, share_id, protocol, 'ip', self.my_ip, 'rw', fpg, vfs) else: self._revoke_admin_smb_access( protocol, fpg, vfs, fstore, comment) except Exception: self._delete_share(share_name, protocol, fpg, vfs, fstore) raise finally: self._delete_ro_share( orig_project_id, share_id, protocol, fpg, vfs, fstore) return dest_path def _copy_share_data(self, dest_id, source_location, dest_location, protocol): mount_location = ""%s%s"" % (self.hpe3par_share_mount_path, dest_id) source_share_dir = '/'.join((mount_location, ""source_snap"")) dest_share_dir = '/'.join((mount_location, ""dest_share"")) dirs_to_remove = [] dirs_to_unmount = [] try: utils.execute('mkdir', '-p', source_share_dir, run_as_root=True) dirs_to_remove.append(source_share_dir) self._mount_share(protocol, source_location, source_share_dir) dirs_to_unmount.append(source_share_dir) utils.execute('mkdir', dest_share_dir, run_as_root=True) dirs_to_remove.append(dest_share_dir) self._mount_share(protocol, dest_location, dest_share_dir) dirs_to_unmount.append(dest_share_dir) self._copy_data(source_share_dir, dest_share_dir) finally: for d in dirs_to_unmount: self._unmount_share(d) if dirs_to_remove: dirs_to_remove.append(mount_location) utils.execute('rmdir', *dirs_to_remove, run_as_root=True) def _copy_data(self, source_share_dir, dest_share_dir): try: copy = data_utils.Copy(source_share_dir, dest_share_dir, '') copy.run() progress = copy.get_progress()['total_progress'] if progress == 100: return True else: err_msg = (_(""Failed to copy data, reason: "" ""Total progress %d != 100."") % progress) LOG.error(err_msg) except Exception as err: err_msg = (_(""Failed to copy data, reason: %s."") % six.text_type(err)) LOG.error(err_msg) return False def _delete_ro_share(self, project_id, share_id, protocol, fpg, vfs, fstore): share_name_ro = self.ensure_prefix(share_id, readonly=True) if not fstore: fstore = self._find_fstore(project_id, share_name_ro, protocol, fpg, vfs, allow_cross_protocol=True) if fstore: self._delete_share(share_name_ro, protocol, fpg, vfs, fstore) return fstore # Try to delete the read-only twin share, too. fstore = self._delete_ro_share( project_id, share_id, protocol, fpg, vfs, fstore) self._unmount_share(mount_location) def _grant_admin_smb_access(self, protocol, fpg, vfs, fstore, comment, share=SUPER_SHARE): user = '+%s:fullcontrol' % self.hpe3par_cifs_admin_access_username setfshare_kwargs = { 'fpg': fpg, 'fstore': fstore, 'comment': comment, 'allowperm': user, } try: self._client.setfshare( protocol, vfs, share, **setfshare_kwargs) except Exception as err: message = (_(""There was an error adding permissions: "" ""%s."") % six.text_type(err)) raise exception.ShareMountException(reason=message) def _revoke_admin_smb_access(self, protocol, fpg, vfs, fstore, comment, share=SUPER_SHARE): user = '-%s:fullcontrol' % self.hpe3par_cifs_admin_access_username setfshare_kwargs = { 'fpg': fpg, 'fstore': fstore, 'comment': comment, 'allowperm': user, } try: self._client.setfshare( protocol, vfs, share, **setfshare_kwargs) except Exception as err: message = (_(""There was an error revoking permissions: "" ""%s."") % six.text_type(err)) raise exception.ShareMountException(reason=message) self._grant_admin_smb_access(protocol, fpg, vfs, fstore, comment) def _mount_share(self, protocol, export_location, mount_dir): if protocol == 'nfs': cmd = ('mount', '-t', 'nfs', export_location, mount_dir) utils.execute(*cmd, run_as_root=True) else: export_location = export_location.replace('\\', '/') cred = ('username=' + self.hpe3par_cifs_admin_access_username + ',password=' + self.hpe3par_cifs_admin_access_password + ',domain=' + self.hpe3par_cifs_admin_access_domain) cmd = ('mount', '-t', 'cifs', export_location, mount_dir, '-o', cred) utils.execute(*cmd, run_as_root=True) def _mount_super_share(self, protocol, mount_dir, fpg, vfs, fstore): try: mount_location = self._generate_mount_path( protocol, fpg, vfs, fstore) self._mount_share(protocol, mount_location, mount_dir) def _unmount_share(self, mount_location): message = (_LW(""There was an error unmounting the share at "" ""%(mount_location)s: %(error)s""),"," sharedir, extra_specs, comment): # New NFS shares needs seed IP to prevent ""all"" access. # Readonly and readwrite NFS shares client IPs cannot overlap. if readonly: createfshare_kwargs['clientip'] = LOCAL_IP_RO else: createfshare_kwargs['clientip'] = LOCAL_IP # this to use a local seed IP instead of the default (all allowed). if self.hpe3par_require_cifs_ip: createfshare_kwargs['allowip'] = LOCAL_IP fpg, vfs, fstore, sharedir, readonly, size, comment): createfshare_kwargs = self._build_createfshare_kwargs(protocol, fpg, fstore, readonly, sharedir, extra_specs, comment) comment=OPEN_STACK_MANILA): comment) return self.create_share( comment=comment, share_name_ro = self.ensure_prefix(share_id, readonly=True) if not fstore: fstore = self._find_fstore(project_id, share_name_ro, protocol, fpg, vfs, allow_cross_protocol=True) if fstore: self._delete_share(share_name_ro, protocol, fpg, vfs, fstore) self._unmount_super_share(mount_location) user = '+%s:fullcontrol' % self.hpe3par_cifs_admin_access_username setfshare_kwargs = { 'fpg': fpg, 'fstore': fstore, 'comment': comment, 'allowperm': user, } try: result = self._client.setfshare( protocol, vfs, SUPER_SHARE, **setfshare_kwargs) except Exception as err: message = (_(""There was an error adding permissions: "" ""%s."") % six.text_type(err)) raise exception.ShareMountException(reason=message) def _mount_super_share(self, protocol, mount_location, fpg, vfs, fstore): try: mount_path = self._generate_mount_path(protocol, fpg, vfs, fstore) if protocol == 'nfs': utils.execute('mount', '-t', 'nfs', mount_path, mount_location, run_as_root=True) LOG.debug(""Execute mount. mount_location: %s"", mount_location) else: user = ('username=' + self.hpe3par_cifs_admin_access_username + ',password=' + self.hpe3par_cifs_admin_access_password + ',domain=' + self.hpe3par_cifs_admin_access_domain) utils.execute('mount', '-t', 'cifs', mount_path, mount_location, '-o', user, run_as_root=True) def _unmount_super_share(self, mount_location): message = (_LW(""There was an error unmounting the super share: "" ""%s. The nested file tree will not be deleted.""),",398,148
openstack%2Fpuppet-ec2api~master~I44ce995be7c7f705734a02a141af9af34f6c001f,openstack/puppet-ec2api,master,I44ce995be7c7f705734a02a141af9af34f6c001f,Add basic structure for ReNo,MERGED,2016-08-05 14:53:09.000000000,2016-08-11 22:42:50.000000000,2016-08-11 22:42:50.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7745}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-08-05 14:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/5d3cb6c714a7ad49e756732eebda4081fb2c9e8b', 'message': 'Add basic structure for ReNo\n\nReNo [1] is the release management tool in OpenStack.\nThis patch adds the basic structure to start using it.\n\n* Update .gitignore\n* Add releasenotes/ dir and basic files\n* Add python files: setup.cfg, setup.py, test-requirements.txt and\n  tox.ini.\n\n[1] http://docs.openstack.org/developer/reno/\n\nChange-Id: I44ce995be7c7f705734a02a141af9af34f6c001f\n'}, {'number': 2, 'created': '2016-08-05 19:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/976a78652fe980b65431e546215353e068f58f54', 'message': 'Add basic structure for ReNo\n\nReNo [1] is the release management tool in OpenStack.\nThis patch adds the basic structure to start using it.\n\n* Update .gitignore\n* Add releasenotes/ dir and basic files\n* Add python files: setup.cfg, setup.py, test-requirements.txt and\n  tox.ini.\n\n[1] http://docs.openstack.org/developer/reno/\n\nChange-Id: I44ce995be7c7f705734a02a141af9af34f6c001f\n'}, {'number': 3, 'created': '2016-08-06 04:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/8db8bb60fee6d38ebf0cdaedb22c237a51857a6b', 'message': 'Add basic structure for ReNo\n\nReNo [1] is the release management tool in OpenStack.\nThis patch adds the basic structure to start using it.\n\n* Update .gitignore\n* Add releasenotes/ dir and basic files\n* Add python files: setup.cfg, setup.py, test-requirements.txt and\n  tox.ini.\n\n[1] http://docs.openstack.org/developer/reno/\n\nChange-Id: I44ce995be7c7f705734a02a141af9af34f6c001f\n'}, {'number': 4, 'created': '2016-08-06 13:24:00.000000000', 'files': ['releasenotes/source/unreleased.rst', '.gitignore', 'test-requirements.txt', 'releasenotes/source/_static/.placeholder', 'setup.py', 'releasenotes/source/index.rst', 'setup.cfg', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/2f7ebe98a6c7821a26596311cd7d9bab3b8ae02a', 'message': 'Add basic structure for ReNo\n\nReNo [1] is the release management tool in OpenStack.\nThis patch adds the basic structure to start using it.\n\n* Update .gitignore\n* Add releasenotes/ dir and basic files\n* Add python files: setup.cfg, setup.py, test-requirements.txt and\n  tox.ini.\n\n[1] http://docs.openstack.org/developer/reno/\n\nChange-Id: I44ce995be7c7f705734a02a141af9af34f6c001f\n'}]",0,351782,2f7ebe98a6c7821a26596311cd7d9bab3b8ae02a,14,4,4,15519,,,0,"Add basic structure for ReNo

ReNo [1] is the release management tool in OpenStack.
This patch adds the basic structure to start using it.

* Update .gitignore
* Add releasenotes/ dir and basic files
* Add python files: setup.cfg, setup.py, test-requirements.txt and
  tox.ini.

[1] http://docs.openstack.org/developer/reno/

Change-Id: I44ce995be7c7f705734a02a141af9af34f6c001f
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/82/351782/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/unreleased.rst', '.gitignore', 'test-requirements.txt', 'releasenotes/source/_static/.placeholder', 'setup.py', 'releasenotes/source/index.rst', 'setup.cfg', 'tox.ini', 'releasenotes/source/conf.py']",9,5d3cb6c714a7ad49e756732eebda4081fb2c9e8b,puppet/reno,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # # If extensions (or modules to document with autodoc) are in another # directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown # here. #sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. #needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'oslosphinx', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. #source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. project = u'puppet-ec2api Release Notes' copyright = u'2016, Puppet OpenStack Developers' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. version = '9.0.0' # The full version, including alpha/beta/rc tags. release = '9.0.0' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. #language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: #today = '' # Else, today_fmt is used as the format for a strftime call. #today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. #default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. #add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). #add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. #show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'sphinx' # A list of ignored prefixes for module index sorting. #modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built # documents. #keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'default' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. #html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. #html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". #html_title = None # A shorter title for the navigation bar. Default is the same as html_title. #html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. #html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. #html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. #html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. #html_last_updated_fmt = '%b %d, %Y' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. #html_use_smartypants = True # Custom sidebar templates, maps document names to template names. #html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. #html_additional_pages = {} # If false, no module index is generated. #html_domain_indices = True # If false, no index is generated. #html_use_index = True # If true, the index is split into individual pages for each letter. #html_split_index = False # If true, links to the reST sources are added to the pages. #html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is # True. #html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. #html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. #html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). #html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'puppet-ec2apiReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). #'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). #'pointsize': '10pt', # Additional stuff for the LaTeX preamble. #'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'puppet-ec2apiReleaseNotes.tex', u'puppet-ec2api Release Notes Documentation', u'2016, Puppet OpenStack Developers', 'manual'), ] # The name of an image file (relative to this directory) to place at the top # of # the title page. #latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. #latex_use_parts = False # If true, show page references after internal links. #latex_show_pagerefs = False # If true, show URL addresses after external links. #latex_show_urls = False # Documents to append as an appendix to all manuals. #latex_appendices = [] # If false, no module index is generated. #latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'puppet-ec2apireleasenotes', u'puppet-ec2api Release Notes Documentation', [u'2016, Puppet OpenStack Developers'], 1) ] # If true, show URL addresses after external links. #man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'puppet-ec2apiReleaseNotes', u'puppet-ec2api Release Notes Documentation', u'2016, Puppet OpenStack Developers', 'puppet-ec2apiReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. #texinfo_appendices = [] # If false, no module index is generated. #texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. #texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. #texinfo_no_detailmenu = False ",,332,0
openstack%2Fhacking~master~Iffbc1d61b0c5facf9ef45a9079a6dce54a936029,openstack/hacking,master,Iffbc1d61b0c5facf9ef45a9079a6dce54a936029,Updated from global requirements,MERGED,2016-06-24 03:09:43.000000000,2016-08-11 22:38:34.000000000,2016-08-11 22:38:34.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 12000}]","[{'number': 1, 'created': '2016-06-24 03:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/f16c269b032ee5bc32c9982bd2aef5da7170e7e2', 'message': 'Updated from global requirements\n\nChange-Id: Iffbc1d61b0c5facf9ef45a9079a6dce54a936029\n'}, {'number': 2, 'created': '2016-06-28 18:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/5c5661ad25f2cfde3ac9be74922092d4099e3a65', 'message': 'Updated from global requirements\n\nChange-Id: Iffbc1d61b0c5facf9ef45a9079a6dce54a936029\n'}, {'number': 3, 'created': '2016-06-30 18:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/d57610c5ea26d104fdba2e129a9dce118ced0b48', 'message': 'Updated from global requirements\n\nChange-Id: Iffbc1d61b0c5facf9ef45a9079a6dce54a936029\n'}, {'number': 4, 'created': '2016-07-13 17:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/b949756009b735aab4b2c2cd0fdd62873297610b', 'message': 'Updated from global requirements\n\nChange-Id: Iffbc1d61b0c5facf9ef45a9079a6dce54a936029\n'}, {'number': 5, 'created': '2016-08-11 17:46:51.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/hacking/commit/2e1da1b5462f6d814b87d11c8eaca1dd0ddbb07f', 'message': 'Updated from global requirements\n\nChange-Id: Iffbc1d61b0c5facf9ef45a9079a6dce54a936029\n'}]",0,333670,2e1da1b5462f6d814b87d11c8eaca1dd0ddbb07f,15,3,5,11131,,,0,"Updated from global requirements

Change-Id: Iffbc1d61b0c5facf9ef45a9079a6dce54a936029
",git fetch https://review.opendev.org/openstack/hacking refs/changes/70/333670/5 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f16c269b032ee5bc32c9982bd2aef5da7170e7e2,openstack/requirements,reno>=1.8.0 # Apache2,reno>=1.6.2 # Apache2,1,1
openstack%2Fopenstack-ansible-os_sahara~master~Ic10fe026a05e53410e94e399175137d129892f3c,openstack/openstack-ansible-os_sahara,master,Ic10fe026a05e53410e94e399175137d129892f3c,Include ansible commands for ansible linting,MERGED,2016-08-11 17:10:16.000000000,2016-08-11 22:37:55.000000000,2016-08-11 22:37:55.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 17:10:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/5d66b0d8b1b66e12b6c1b816844e38c105251aea', 'message': 'Include ansible commands for ansible linting\n\nThe plugin repo needs to be cloned for ansible-lint to\nunderstand ansible plugins. The commands currently\nreside in tox.ini under the ansible section and are not\ncurrently included. This commit fixes that error.\n\nChange-Id: Ic10fe026a05e53410e94e399175137d129892f3c\n'}]",0,354249,5d66b0d8b1b66e12b6c1b816844e38c105251aea,8,3,1,17068,,,0,"Include ansible commands for ansible linting

The plugin repo needs to be cloned for ansible-lint to
understand ansible plugins. The commands currently
reside in tox.ini under the ansible section and are not
currently included. This commit fixes that error.

Change-Id: Ic10fe026a05e53410e94e399175137d129892f3c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/49/354249/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5d66b0d8b1b66e12b6c1b816844e38c105251aea,bp/ansible-2-1-support, {[testenv:ansible]commands},,1,0
openstack%2Fopenstack-ansible-os_ironic~master~I75e24492d91203d9c07a57658aac917c76564994,openstack/openstack-ansible-os_ironic,master,I75e24492d91203d9c07a57658aac917c76564994,Include ansible commands for ansible linting,MERGED,2016-08-11 17:09:25.000000000,2016-08-11 22:37:37.000000000,2016-08-11 22:37:37.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2016-08-11 17:09:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/bc2da2a2de64f3b9a979ed8bc09529924140ce85', 'message': 'Include ansible commands for ansible linting\n\nThe plugin repo needs to be cloned for ansible-lint to\nunderstand ansible plugins. The commands currently\nreside in tox.ini under the ansible section and are not\ncurrently included. This commit fixes that error.\n\nChange-Id: I75e24492d91203d9c07a57658aac917c76564994\n'}]",0,354243,bc2da2a2de64f3b9a979ed8bc09529924140ce85,8,3,1,17068,,,0,"Include ansible commands for ansible linting

The plugin repo needs to be cloned for ansible-lint to
understand ansible plugins. The commands currently
reside in tox.ini under the ansible section and are not
currently included. This commit fixes that error.

Change-Id: I75e24492d91203d9c07a57658aac917c76564994
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/43/354243/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bc2da2a2de64f3b9a979ed8bc09529924140ce85,bp/ansible-2-1-support, {[testenv:ansible]commands},,1,0
openstack%2Fopenstack-ansible-os_zaqar~master~Id969df26aadf4e9a704ebc7bef455a37a63ff677,openstack/openstack-ansible-os_zaqar,master,Id969df26aadf4e9a704ebc7bef455a37a63ff677,Include ansible commands for ansible linting,MERGED,2016-08-11 17:10:51.000000000,2016-08-11 22:35:10.000000000,2016-08-11 22:35:10.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 17:10:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/f01741b93b4d16803ee8ccd184b553edafe0aef4', 'message': 'Include ansible commands for ansible linting\n\nThe plugin repo needs to be cloned for ansible-lint to\nunderstand ansible plugins. The commands currently\nreside in tox.ini under the ansible section and are not\ncurrently included. This commit fixes that error.\n\nChange-Id: Id969df26aadf4e9a704ebc7bef455a37a63ff677\n'}]",0,354253,f01741b93b4d16803ee8ccd184b553edafe0aef4,8,3,1,17068,,,0,"Include ansible commands for ansible linting

The plugin repo needs to be cloned for ansible-lint to
understand ansible plugins. The commands currently
reside in tox.ini under the ansible section and are not
currently included. This commit fixes that error.

Change-Id: Id969df26aadf4e9a704ebc7bef455a37a63ff677
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zaqar refs/changes/53/354253/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f01741b93b4d16803ee8ccd184b553edafe0aef4,bp/ansible-2-1-support, {[testenv:ansible]commands},,1,0
openstack%2Fopenstack-ansible-os_neutron~master~I2e82e114aaa5d905a4dd3e33337dda5f3af87e52,openstack/openstack-ansible-os_neutron,master,I2e82e114aaa5d905a4dd3e33337dda5f3af87e52,Include ansible commands for ansible linting,MERGED,2016-08-11 17:09:49.000000000,2016-08-11 22:34:24.000000000,2016-08-11 22:34:24.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 17:09:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/e604e86b21f042e994bf941f1c95d3a33ce2ebd6', 'message': 'Include ansible commands for ansible linting\n\nThe plugin repo needs to be cloned for ansible-lint to\nunderstand ansible plugins. The commands currently\nreside in tox.ini under the ansible section and are not\ncurrently included. This commit fixes that error.\n\nChange-Id: I2e82e114aaa5d905a4dd3e33337dda5f3af87e52\n'}]",0,354246,e604e86b21f042e994bf941f1c95d3a33ce2ebd6,8,3,1,17068,,,0,"Include ansible commands for ansible linting

The plugin repo needs to be cloned for ansible-lint to
understand ansible plugins. The commands currently
reside in tox.ini under the ansible section and are not
currently included. This commit fixes that error.

Change-Id: I2e82e114aaa5d905a4dd3e33337dda5f3af87e52
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/46/354246/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e604e86b21f042e994bf941f1c95d3a33ce2ebd6,bp/ansible-2-1-support, {[testenv:ansible]commands},,1,0
openstack%2Fopenstack-ansible-os_keystone~master~Ice8c4b558b97cc9aaa3006936925529ecef828fe,openstack/openstack-ansible-os_keystone,master,Ice8c4b558b97cc9aaa3006936925529ecef828fe,Include ansible commands for ansible linting,MERGED,2016-08-11 17:09:30.000000000,2016-08-11 22:34:09.000000000,2016-08-11 22:34:09.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2016-08-11 17:09:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/0a51854ea5f6592cc161b257fea1a9258f3778cf', 'message': 'Include ansible commands for ansible linting\n\nThe plugin repo needs to be cloned for ansible-lint to\nunderstand ansible plugins. The commands currently\nreside in tox.ini under the ansible section and are not\ncurrently included. This commit fixes that error.\n\nChange-Id: Ice8c4b558b97cc9aaa3006936925529ecef828fe\n'}]",0,354244,0a51854ea5f6592cc161b257fea1a9258f3778cf,8,3,1,17068,,,0,"Include ansible commands for ansible linting

The plugin repo needs to be cloned for ansible-lint to
understand ansible plugins. The commands currently
reside in tox.ini under the ansible section and are not
currently included. This commit fixes that error.

Change-Id: Ice8c4b558b97cc9aaa3006936925529ecef828fe
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/44/354244/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0a51854ea5f6592cc161b257fea1a9258f3778cf,bp/ansible-2-1-support, {[testenv:ansible]commands},,1,0
openstack%2Fopenstack-ansible-os_rally~master~I7d209c68ec1bf6760f84048d1f9983476ff82e68,openstack/openstack-ansible-os_rally,master,I7d209c68ec1bf6760f84048d1f9983476ff82e68,Include ansible commands for ansible linting,MERGED,2016-08-11 17:10:07.000000000,2016-08-11 22:33:52.000000000,2016-08-11 22:33:52.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2016-08-11 17:10:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/a431c39a67ab8d8643a61f24f1e23738f9c4b19f', 'message': 'Include ansible commands for ansible linting\n\nThe plugin repo needs to be cloned for ansible-lint to\nunderstand ansible plugins. The commands currently\nreside in tox.ini under the ansible section and are not\ncurrently included. This commit fixes that error.\n\nChange-Id: I7d209c68ec1bf6760f84048d1f9983476ff82e68\n'}]",0,354248,a431c39a67ab8d8643a61f24f1e23738f9c4b19f,8,3,1,17068,,,0,"Include ansible commands for ansible linting

The plugin repo needs to be cloned for ansible-lint to
understand ansible plugins. The commands currently
reside in tox.ini under the ansible section and are not
currently included. This commit fixes that error.

Change-Id: I7d209c68ec1bf6760f84048d1f9983476ff82e68
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/48/354248/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a431c39a67ab8d8643a61f24f1e23738f9c4b19f,bp/ansible-2-1-support, {[testenv:ansible]commands},,1,0
openstack%2Fheat~master~Ie64ae1239fb22617bc691dd8f75279ee40d97444,openstack/heat,master,Ie64ae1239fb22617bc691dd8f75279ee40d97444,Don't load stack when getting files,MERGED,2016-08-05 10:19:09.000000000,2016-08-11 22:32:13.000000000,2016-08-11 22:32:13.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 10487}]","[{'number': 1, 'created': '2016-08-05 10:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bd9582b1545433a0a6f43ace2997e833151279a9', 'message': ""Don't load stack when getting files\n\nWe can avoid loading the stack when doing get_files.\n\nChange-Id: Ie64ae1239fb22617bc691dd8f75279ee40d97444\n""}, {'number': 2, 'created': '2016-08-05 10:32:19.000000000', 'files': ['heat/tests/test_engine_service.py', 'heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/52a3e06f084d9548878bb835da2994ea5a2ff25c', 'message': ""Don't load stack when getting files\n\nWe can avoid loading the stack when doing get_files.\n\nChange-Id: Ie64ae1239fb22617bc691dd8f75279ee40d97444\n""}]",0,351633,52a3e06f084d9548878bb835da2994ea5a2ff25c,8,3,2,8833,,,0,"Don't load stack when getting files

We can avoid loading the stack when doing get_files.

Change-Id: Ie64ae1239fb22617bc691dd8f75279ee40d97444
",git fetch https://review.opendev.org/openstack/heat refs/changes/33/351633/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_engine_service.py', 'heat/engine/service.py']",2,bd9582b1545433a0a6f43ace2997e833151279a9,list_files," template = templatem.Template.load( context, s.raw_template_id, s.raw_template) return dict(template.files)"," stack = parser.Stack.load( cnxt, stack=s, resolve_data=False, show_deleted=True) return dict(stack.t.files)",4,4
openstack%2Fheat~master~I2eab50be92c998aeb1ee98011908a9828a7efe6c,openstack/heat,master,I2eab50be92c998aeb1ee98011908a9828a7efe6c,Adopt tempest plugin config namespace,MERGED,2016-07-28 00:57:27.000000000,2016-08-11 22:32:03.000000000,2016-08-11 22:32:03.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 7404}]","[{'number': 1, 'created': '2016-07-28 00:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1bc16361f7377b744d80f746537d15bf3b67eb35', 'message': 'Adopt tempest plugin config framework\n\nAs a transition strategy to running heat_integrationtests as a\ntempest plugin, this change puts the test config values in the\n""orchestration_plugin"" section. This will allow for either test runner\nto be used during the transition.\n\nblueprint tempest-plugin-support\n\nChange-Id: I2eab50be92c998aeb1ee98011908a9828a7efe6c\n'}, {'number': 2, 'created': '2016-07-28 22:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5c1d7d7e6cb99b868f255736eeb259d58793fd55', 'message': 'Adopt tempest plugin config namespace\n\nAs a transition strategy to running heat_integrationtests as a\ntempest plugin, this change puts the test config values in the\n""orchestration_plugin"" section. This will allow for either test runner\nto be used during the transition.\n\nblueprint tempest-plugin-support\n\nChange-Id: I2eab50be92c998aeb1ee98011908a9828a7efe6c\n'}, {'number': 3, 'created': '2016-07-31 21:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/471a2155f7b528c23f3e86a8ba97ce17b2c7d96d', 'message': 'Adopt tempest plugin config namespace\n\nAs a transition strategy to running heat_integrationtests as a\ntempest plugin, this change puts the test config values in the\n""orchestration_plugin"" section. This will allow for either test runner\nto be used during the transition.\n\nblueprint tempest-plugin-support\n\nChange-Id: I2eab50be92c998aeb1ee98011908a9828a7efe6c\n'}, {'number': 4, 'created': '2016-08-01 01:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/81f934f225e46cfd79ee412cc2219ef2e71c47a7', 'message': 'Adopt tempest plugin config namespace\n\nAs a transition strategy to running heat_integrationtests as a\ntempest plugin, this change puts the test config values in the\n""heat_plugin"" section. This will allow for either test runner\nto be used during the transition.\n\nblueprint tempest-plugin-support\n\nChange-Id: I2eab50be92c998aeb1ee98011908a9828a7efe6c\n'}, {'number': 5, 'created': '2016-08-01 22:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fbbc4658723a11d806a804c62a7a8c0867529b8c', 'message': 'Adopt tempest plugin config namespace\n\nAs a transition strategy to running heat_integrationtests as a\ntempest plugin, this change puts the test config values in the\n""heat_plugin"" section. This will allow for either test runner\nto be used during the transition.\n\nblueprint tempest-plugin-support\n\nChange-Id: I2eab50be92c998aeb1ee98011908a9828a7efe6c\n'}, {'number': 6, 'created': '2016-08-02 04:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a7b290c42644263a005bbb9ba9ae594664fff6de', 'message': 'Adopt tempest plugin config namespace\n\nAs a transition strategy to running heat_integrationtests as a\ntempest plugin, this change puts the test config values in the\n""heat_plugin"" section. This will allow for either test runner\nto be used during the transition.\n\nblueprint tempest-plugin-support\n\nChange-Id: I2eab50be92c998aeb1ee98011908a9828a7efe6c\n'}, {'number': 7, 'created': '2016-08-03 03:01:46.000000000', 'files': ['heat_integrationtests/common/test.py', 'heat_integrationtests/common/config.py', 'heat_integrationtests/heat_integrationtests.conf.sample', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/395cfbd1dd23e044adc727f8ba52cf63dc586b6a', 'message': 'Adopt tempest plugin config namespace\n\nAs a transition strategy to running heat_integrationtests as a\ntempest plugin, this change puts the test config values in the\n""heat_plugin"" section. This will allow for either test runner\nto be used during the transition.\n\nblueprint tempest-plugin-support\n\nChange-Id: I2eab50be92c998aeb1ee98011908a9828a7efe6c\n'}]",0,348094,395cfbd1dd23e044adc727f8ba52cf63dc586b6a,24,4,7,4571,,,0,"Adopt tempest plugin config namespace

As a transition strategy to running heat_integrationtests as a
tempest plugin, this change puts the test config values in the
""heat_plugin"" section. This will allow for either test runner
to be used during the transition.

blueprint tempest-plugin-support

Change-Id: I2eab50be92c998aeb1ee98011908a9828a7efe6c
",git fetch https://review.opendev.org/openstack/heat refs/changes/94/348094/6 && git format-patch -1 --stdout FETCH_HEAD,"['heat_integrationtests/common/test.py', 'heat_integrationtests/common/config.py', 'heat_integrationtests/heat_integrationtests.conf.sample', 'heat_integrationtests/prepare_test_env.sh']",4,1bc16361f7377b744d80f746537d15bf3b67eb35,bp/tempest-plugin-support,"iniset heat_integrationtests.conf orchestration_plugin instance_type m1.heat_int iniset heat_integrationtests.conf orchestration_plugin minimal_instance_type m1.heat_microiniset heat_integrationtests.conf orchestration_plugin image_ref fedora-heat-test-image iniset heat_integrationtests.conf orchestration_plugin boot_config_env $DEST/heat-templates/hot/software-config/boot-config/test_image_env.yaml iniset heat_integrationtests.conf orchestration_plugin heat_config_notify_script $DEST/heat-templates/hot/software-config/elements/heat-config/bin/heat-config-notify iniset heat_integrationtests.conf orchestration_plugin minimal_image_ref cirros-0.3.4-x86_64-ueciniset heat_integrationtests.conf orchestration_plugin admin_username $OS_USERNAME iniset heat_integrationtests.conf orchestration_plugin admin_password $OS_PASSWORDiniset heat_integrationtests.conf orchestration_plugin skip_scenario_test_list 'SoftwareConfigIntegrationTest, VolumeBackupRestoreIntegrationTest'","iniset heat_integrationtests.conf DEFAULT instance_type m1.heat_int iniset heat_integrationtests.conf DEFAULT minimal_instance_type m1.heat_microiniset heat_integrationtests.conf DEFAULT image_ref fedora-heat-test-image iniset heat_integrationtests.conf DEFAULT boot_config_env $DEST/heat-templates/hot/software-config/boot-config/test_image_env.yaml iniset heat_integrationtests.conf DEFAULT heat_config_notify_script $DEST/heat-templates/hot/software-config/elements/heat-config/bin/heat-config-notify iniset heat_integrationtests.conf DEFAULT minimal_image_ref cirros-0.3.4-x86_64-ueciniset heat_integrationtests.conf DEFAULT admin_username $OS_USERNAME iniset heat_integrationtests.conf DEFAULT admin_password $OS_PASSWORDiniset heat_integrationtests.conf DEFAULT skip_scenario_test_list 'SoftwareConfigIntegrationTest, VolumeBackupRestoreIntegrationTest'",26,15
openstack%2Fheat~master~Ie600dfc09db0ffa91609f92be4b9ef27259b5314,openstack/heat,master,Ie600dfc09db0ffa91609f92be4b9ef27259b5314,no need to run integration tests in upgrade,MERGED,2016-08-10 15:39:33.000000000,2016-08-11 22:31:01.000000000,2016-08-11 22:31:01.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 6577}, {'_account_id': 8833}, {'_account_id': 12038}]","[{'number': 1, 'created': '2016-08-10 15:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/92f5a5d48af66654694a455715c307dcc038bb00', 'message': ""Add choice for integration tests launching\n\nAdded boolean variable which allows to choose whether we need to\nlaunch integration tests in devstack or not. This is needed because\nin Sahara's grenade test the launching of heat integration tests leads to\n'Resource CREATE failed: OverQuotaClient: resources.net: Quota\nexceeded for resources: ['network']' exception.\n\nChange-Id: Ie600dfc09db0ffa91609f92be4b9ef27259b5314\n""}, {'number': 2, 'created': '2016-08-11 08:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0a962b7ebbad0021b29a22910addeb2e268ef839', 'message': ""no need to run integration tests in upgrade\n\nthe purpose of upgrade script is to upgrade service,\nand heat shouldn't run any jobs inside of that. moreover\nthere is no benefit in executing these tests after upgrade\nbecause it doesn't test anything related to upgrades:\nif heat is correctly configured after upgrade it will be ready\nto run tests (but this can be covered by usual integration job).\nheat should be testing specific things like\nupdating stacks after migration to the new openstack code,\ndeleting stacks and so on.\n\nChange-Id: Ie600dfc09db0ffa91609f92be4b9ef27259b5314\n""}, {'number': 3, 'created': '2016-08-11 08:01:45.000000000', 'files': ['devstack/upgrade/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/3cf288bc8c416c59e2b3171500d08add8d35424a', 'message': ""no need to run integration tests in upgrade\n\nthe purpose of upgrade script is to upgrade service,\nand heat shouldn't run any jobs inside of that. moreover\nthere is no benefit in executing these tests after upgrade\nbecause it doesn't test anything related to upgrades:\nif heat is correctly configured after upgrade it will be ready\nto run tests (but this can be covered by usual integration job).\nheat should be testing specific things like\nupdating stacks after migration to the new openstack code,\ndeleting stacks and so on.\n\nCo-authored-by: Vitaly Gridnev <vgridnev@mirantis.com>\nChange-Id: Ie600dfc09db0ffa91609f92be4b9ef27259b5314\n""}]",0,353585,3cf288bc8c416c59e2b3171500d08add8d35424a,20,6,3,19372,,,0,"no need to run integration tests in upgrade

the purpose of upgrade script is to upgrade service,
and heat shouldn't run any jobs inside of that. moreover
there is no benefit in executing these tests after upgrade
because it doesn't test anything related to upgrades:
if heat is correctly configured after upgrade it will be ready
to run tests (but this can be covered by usual integration job).
heat should be testing specific things like
updating stacks after migration to the new openstack code,
deleting stacks and so on.

Co-authored-by: Vitaly Gridnev <vgridnev@mirantis.com>
Change-Id: Ie600dfc09db0ffa91609f92be4b9ef27259b5314
",git fetch https://review.opendev.org/openstack/heat refs/changes/85/353585/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/upgrade.sh'],1,92f5a5d48af66654694a455715c307dcc038bb00,integration_tests_launching,HEAT_INTEGRATION_TESTS_ENABLED=${HEAT_INTEGRATION_TESTS_ENABLED:-true} if ${HEAT_INTEGRATION_TESTS_ENABLED} ; then # run heat_integrationtests instead of tempest smoke after upgrade pushd $TARGET_DEVSTACK_DIR/../heat source $TARGET_DEVSTACK_DIR/openrc demo demo tox -eintegration heat_integrationtests.functional.test_create_update popd fi,# run heat_integrationtests instead of tempest smoke after upgrade pushd $TARGET_DEVSTACK_DIR/../heat source $TARGET_DEVSTACK_DIR/openrc demo demo tox -eintegration heat_integrationtests.functional.test_create_update popd,8,5
openstack%2Fos-client-config~master~I6d208e5ec4115d2e72d30b2fedc90a81ea754d5a,openstack/os-client-config,master,I6d208e5ec4115d2e72d30b2fedc90a81ea754d5a,Pop domain-id from the config if we infer values,MERGED,2016-08-11 13:22:01.000000000,2016-08-11 22:28:14.000000000,2016-08-11 22:28:13.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 3099}]","[{'number': 1, 'created': '2016-08-11 13:22:01.000000000', 'files': ['os_client_config/config.py', 'os_client_config/tests/test_config.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/a6840f69ff5644065816309776365adccf017772', 'message': ""Pop domain-id from the config if we infer values\n\nIf the user specifies a project_{name,id}, then we currently infer that\na domain_{name,id} is meant to be shorthand for user_domain_{name,id} and\nproject_domain_{name,id}. However, in other contexts, domain_id is a\nperfectly valid value to pass to the auth plugins - such as when doing\ndomain-scoped activities.\n\nThe problem that was uncovered by the correction of argument precedence\nis that we didn't pop the domain-id out of the root config dict, so if a\nuser set OS_DOMAIN_ID in the environment, we were happily setting the\nuser and project versions, but then leaving domain_id set as well. This\nthen meant that when we do the pass to pull valid arguments from the\nroot dict to the auth dict, we also pulled in domain_id - which led to\nthe error:\n\n  AuthorizationFailure: Authentication cannot be scoped to multiple\n  targets. Pick one of: project, domain, trust or unscoped\n\nPopping the value from the root dict causes the things to work as\ndocumented.\n\nChange-Id: I6d208e5ec4115d2e72d30b2fedc90a81ea754d5a\n""}]",0,354067,a6840f69ff5644065816309776365adccf017772,7,3,1,2,,,0,"Pop domain-id from the config if we infer values

If the user specifies a project_{name,id}, then we currently infer that
a domain_{name,id} is meant to be shorthand for user_domain_{name,id} and
project_domain_{name,id}. However, in other contexts, domain_id is a
perfectly valid value to pass to the auth plugins - such as when doing
domain-scoped activities.

The problem that was uncovered by the correction of argument precedence
is that we didn't pop the domain-id out of the root config dict, so if a
user set OS_DOMAIN_ID in the environment, we were happily setting the
user and project versions, but then leaving domain_id set as well. This
then meant that when we do the pass to pull valid arguments from the
root dict to the auth dict, we also pulled in domain_id - which led to
the error:

  AuthorizationFailure: Authentication cannot be scoped to multiple
  targets. Pick one of: project, domain, trust or unscoped

Popping the value from the root dict causes the things to work as
documented.

Change-Id: I6d208e5ec4115d2e72d30b2fedc90a81ea754d5a
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/67/354067/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_client_config/config.py', 'os_client_config/tests/test_config.py']",2,a6840f69ff5644065816309776365adccf017772,," self.assertNotIn('domain_id', cc) self.assertNotIn('domain_id', cc)",,3,0
openstack%2Fopenstack-ansible-os_magnum~master~I066b80543c6ac5fdd6dc49ae08d4d2c323c12504,openstack/openstack-ansible-os_magnum,master,I066b80543c6ac5fdd6dc49ae08d4d2c323c12504,Include ansible commands for ansible linting,MERGED,2016-08-11 17:09:39.000000000,2016-08-11 22:25:26.000000000,2016-08-11 22:25:26.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2016-08-11 17:09:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/56158d2e30431ef783274e3683ba7eab3b9810de', 'message': 'Include ansible commands for ansible linting\n\nThe plugin repo needs to be cloned for ansible-lint to\nunderstand ansible plugins. The commands currently\nreside in tox.ini under the ansible section and are not\ncurrently included. This commit fixes that error.\n\nChange-Id: I066b80543c6ac5fdd6dc49ae08d4d2c323c12504\n'}]",0,354245,56158d2e30431ef783274e3683ba7eab3b9810de,8,3,1,17068,,,0,"Include ansible commands for ansible linting

The plugin repo needs to be cloned for ansible-lint to
understand ansible plugins. The commands currently
reside in tox.ini under the ansible section and are not
currently included. This commit fixes that error.

Change-Id: I066b80543c6ac5fdd6dc49ae08d4d2c323c12504
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/45/354245/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,56158d2e30431ef783274e3683ba7eab3b9810de,bp/ansible-2-1-support, {[testenv:ansible]commands},,1,0
openstack%2Fopenstack-ansible-security~master~I499f5807afcf3c8e94d571eb7975d7f198b72538,openstack/openstack-ansible-security,master,I499f5807afcf3c8e94d571eb7975d7f198b72538,Include ansible commands for ansible linting,MERGED,2016-08-11 17:12:18.000000000,2016-08-11 22:24:28.000000000,2016-08-11 22:24:28.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 17:12:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-security/commit/c458db68fab45e58366f2ce318d79256658fdaae', 'message': 'Include ansible commands for ansible linting\n\nThe plugin repo needs to be cloned for ansible-lint to\nunderstand ansible plugins. The commands currently\nreside in tox.ini under the ansible section and are not\ncurrently included. This commit fixes that error.\n\nChange-Id: I499f5807afcf3c8e94d571eb7975d7f198b72538\n'}]",0,354263,c458db68fab45e58366f2ce318d79256658fdaae,8,3,1,17068,,,0,"Include ansible commands for ansible linting

The plugin repo needs to be cloned for ansible-lint to
understand ansible plugins. The commands currently
reside in tox.ini under the ansible section and are not
currently included. This commit fixes that error.

Change-Id: I499f5807afcf3c8e94d571eb7975d7f198b72538
",git fetch https://review.opendev.org/openstack/openstack-ansible-security refs/changes/63/354263/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c458db68fab45e58366f2ce318d79256658fdaae,bp/ansible-2-1-support, {[testenv:ansible]commands},,1,0
openstack%2Fopenstack-ansible-pip_install~master~Iab013aba9c42631e49e17f7001aa78b6bfcdd662,openstack/openstack-ansible-pip_install,master,Iab013aba9c42631e49e17f7001aa78b6bfcdd662,Include ansible commands for ansible linting,MERGED,2016-08-11 17:11:00.000000000,2016-08-11 22:22:21.000000000,2016-08-11 22:22:21.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 17:11:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/f703c016b899ccdf021414c88d2089db28a86e55', 'message': 'Include ansible commands for ansible linting\n\nThe plugin repo needs to be cloned for ansible-lint to\nunderstand ansible plugins. The commands currently\nreside in tox.ini under the ansible section and are not\ncurrently included. This commit fixes that error.\n\nChange-Id: Iab013aba9c42631e49e17f7001aa78b6bfcdd662\n'}]",0,354254,f703c016b899ccdf021414c88d2089db28a86e55,8,3,1,17068,,,0,"Include ansible commands for ansible linting

The plugin repo needs to be cloned for ansible-lint to
understand ansible plugins. The commands currently
reside in tox.ini under the ansible section and are not
currently included. This commit fixes that error.

Change-Id: Iab013aba9c42631e49e17f7001aa78b6bfcdd662
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/54/354254/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f703c016b899ccdf021414c88d2089db28a86e55,bp/ansible-2-1-support, {[testenv:ansible]commands},,1,0
openstack%2Fopenstack-ansible-rsyslog_server~master~I5bbd335eae52bfcf55fd915cb0389559a5654307,openstack/openstack-ansible-rsyslog_server,master,I5bbd335eae52bfcf55fd915cb0389559a5654307,Include ansible commands for ansible linting,MERGED,2016-08-11 17:12:09.000000000,2016-08-11 22:22:09.000000000,2016-08-11 22:22:08.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 17:12:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/40cb670117624a2b3bb570c63d364cbc576aed73', 'message': 'Include ansible commands for ansible linting\n\nThe plugin repo needs to be cloned for ansible-lint to\nunderstand ansible plugins. The commands currently\nreside in tox.ini under the ansible section and are not\ncurrently included. This commit fixes that error.\n\nChange-Id: I5bbd335eae52bfcf55fd915cb0389559a5654307\n'}]",0,354262,40cb670117624a2b3bb570c63d364cbc576aed73,8,3,1,17068,,,0,"Include ansible commands for ansible linting

The plugin repo needs to be cloned for ansible-lint to
understand ansible plugins. The commands currently
reside in tox.ini under the ansible section and are not
currently included. This commit fixes that error.

Change-Id: I5bbd335eae52bfcf55fd915cb0389559a5654307
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/62/354262/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,40cb670117624a2b3bb570c63d364cbc576aed73,bp/ansible-2-1-support, {[testenv:ansible]commands},,1,0
openstack%2Fopenstack-ansible-pip_lock_down~master~I8ec97b37e6a50cb88db85afc5c7d0100a6110954,openstack/openstack-ansible-pip_lock_down,master,I8ec97b37e6a50cb88db85afc5c7d0100a6110954,Include ansible commands for ansible linting,MERGED,2016-08-11 17:11:09.000000000,2016-08-11 22:22:03.000000000,2016-08-11 22:22:03.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 19814}]","[{'number': 1, 'created': '2016-08-11 17:11:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_lock_down/commit/1770d43eafbb0781f0fa24dd43c2d68838d29e08', 'message': 'Include ansible commands for ansible linting\n\nThe plugin repo needs to be cloned for ansible-lint to\nunderstand ansible plugins. The commands currently\nreside in tox.ini under the ansible section and are not\ncurrently included. This commit fixes that error.\n\nChange-Id: I8ec97b37e6a50cb88db85afc5c7d0100a6110954\n'}]",0,354256,1770d43eafbb0781f0fa24dd43c2d68838d29e08,8,3,1,17068,,,0,"Include ansible commands for ansible linting

The plugin repo needs to be cloned for ansible-lint to
understand ansible plugins. The commands currently
reside in tox.ini under the ansible section and are not
currently included. This commit fixes that error.

Change-Id: I8ec97b37e6a50cb88db85afc5c7d0100a6110954
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_lock_down refs/changes/56/354256/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1770d43eafbb0781f0fa24dd43c2d68838d29e08,bp/ansible-2-1-support, {[testenv:ansible]commands},,1,0
