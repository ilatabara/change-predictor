id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Foctavia~master~I42e82cdf9dd2fccc3e69689d14a686667431a9a9,openstack/octavia,master,I42e82cdf9dd2fccc3e69689d14a686667431a9a9,Drop Bionic support,MERGED,2021-05-13 03:34:37.000000000,2021-05-21 04:29:57.000000000,2021-05-21 04:27:35.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-13 03:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2eb7cbbd5c6c52a3b396c7ea5c6b2391a9c566c1', 'message': 'Drop Bionic support\n\nSince victoria cycle, we have moved upstream testing to\nUbuntu Focal (20.04) and so does no Bionic distro in\nXena cycle testing runtime[1]. Grenade jobs also started\nrunning on Focal since victoria was released.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022248.html\n\nChange-Id: I42e82cdf9dd2fccc3e69689d14a686667431a9a9\n'}, {'number': 2, 'created': '2021-05-19 07:48:11.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0a5e7ef91a29896793f2b527c5f5d0c6886e3c1b', 'message': 'Drop Bionic support\n\nSince victoria cycle, we have moved upstream testing to\nUbuntu Focal (20.04) and so does no Bionic distro in\nXena cycle testing runtime[1]. Grenade jobs also started\nrunning on Focal since victoria was released.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022248.html\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/788954\n\nChange-Id: I42e82cdf9dd2fccc3e69689d14a686667431a9a9\n'}]",1,791087,0a5e7ef91a29896793f2b527c5f5d0c6886e3c1b,24,6,2,32029,,,0,"Drop Bionic support

Since victoria cycle, we have moved upstream testing to
Ubuntu Focal (20.04) and so does no Bionic distro in
Xena cycle testing runtime[1]. Grenade jobs also started
running on Focal since victoria was released.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022248.html

Depends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/788954

Change-Id: I42e82cdf9dd2fccc3e69689d14a686667431a9a9
",git fetch https://review.opendev.org/openstack/octavia refs/changes/87/791087/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,2eb7cbbd5c6c52a3b396c7ea5c6b2391a9c566c1,update-bionic-jobs, nodeset: octavia-single-node-ubuntu-focal amphora_os_release: focal name: octavia-amphora-image-build-live-focal Builds an Ubuntu Focal amphora image using diskimage-builder from Git, name: publish-openstack-octavia-amphora-image-bionic parent: publish-openstack-octavia-amphora-image nodeset: ubuntu-bionic description: | Publish Ubuntu Bionic (18.04) based amphora image to tarballs.o.o. vars: amphora_os: ubuntu amphora_os_release: bionic - job: nodeset: octavia-single-node-ubuntu-bionic amphora_os_release: bionic name: octavia-amphora-image-build-live-bionic Builds an Ubuntu Bionic amphora image using diskimage-builder from Git,4,16
openstack%2Fpython-cinderclient~master~I667d639a144fcc60fdcde64f7357486423fff19d,openstack/python-cinderclient,master,I667d639a144fcc60fdcde64f7357486423fff19d,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-20 11:38:56.000000000,2021-05-21 04:21:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-20 11:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/1370b6421951340c1eb96293b1b6e06b60c96bf5', 'message': ""setup.cfg: Replace dashes with underscores\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nhttps: //github.com/pypa/setuptools/commit/a2e9ae4cb\nChange-Id: I667d639a144fcc60fdcde64f7357486423fff19d\n""}, {'number': 2, 'created': '2021-05-20 11:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/fc0e5500e88a9d9385a1337965d33c3ca4be5e78', 'message': ""setup.cfg: Replace dashes with underscores\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nhttps: //github.com/pypa/setuptools/commit/a2e9ae4cb\nChange-Id: I667d639a144fcc60fdcde64f7357486423fff19d\n""}, {'number': 3, 'created': '2021-05-20 11:43:54.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/fa334cdae15562cac846f53a1caf99ddfb7a545a', 'message': ""setup.cfg: Replace dashes with underscores\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nhttps://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I667d639a144fcc60fdcde64f7357486423fff19d\n""}]",0,792360,fa334cdae15562cac846f53a1caf99ddfb7a545a,6,1,3,30615,,,0,"setup.cfg: Replace dashes with underscores

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I667d639a144fcc60fdcde64f7357486423fff19d
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/60/792360/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1370b6421951340c1eb96293b1b6e06b60c96bf5,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-cinderclient/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-cinderclient/latest/ python-requires = >=3.6,4,4
openstack%2Fpuppet-openstack-integration~master~I92beff3ecc45fba5c12e49351dc8d9f7576777f1,openstack/puppet-openstack-integration,master,I92beff3ecc45fba5c12e49351dc8d9f7576777f1,Fix redis config location for centos > 8,MERGED,2021-05-20 07:51:19.000000000,2021-05-21 02:37:11.000000000,2021-05-21 02:37:11.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 07:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4a217c10d91f75ac233b581f8ad5c17fc973e9c1', 'message': 'Fix redis config location for centos > 8\n\nThe location of redis configuration has been moved to\n/etc/redis/redis.conf in CentOS9 [1]. This patch is fixing redis_config\nparameter to cover this new case.\n\n[1] https://gitlab.com/redhat/centos-stream/rpms/redis/-/blob/c9s/redis.spec#L332\n\nChange-Id: I92beff3ecc45fba5c12e49351dc8d9f7576777f1\n'}, {'number': 2, 'created': '2021-05-20 12:02:34.000000000', 'files': ['manifests/redis.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bb97772d807925e3cd9153c252edc9a75710bd56', 'message': 'Fix redis config location for centos > 8\n\nThe location of redis configuration has been moved to\n/etc/redis/redis.conf in CentOS9 [1]. This patch is fixing redis_config\nparameter to cover this new case.\n\n[1] https://gitlab.com/redhat/centos-stream/rpms/redis/-/blob/c9s/redis.spec#L332\n\nChange-Id: I92beff3ecc45fba5c12e49351dc8d9f7576777f1\n'}]",1,792325,bb97772d807925e3cd9153c252edc9a75710bd56,17,4,2,16312,,,0,"Fix redis config location for centos > 8

The location of redis configuration has been moved to
/etc/redis/redis.conf in CentOS9 [1]. This patch is fixing redis_config
parameter to cover this new case.

[1] https://gitlab.com/redhat/centos-stream/rpms/redis/-/blob/c9s/redis.spec#L332

Change-Id: I92beff3ecc45fba5c12e49351dc8d9f7576777f1
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/25/792325/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/redis.pp'],1,4a217c10d91f75ac233b581f8ad5c17fc973e9c1,c9, if $::operatingsystemmajrelease == '8' { $redis_config = '/etc/redis.conf' } else { $redis_config = '/etc/redis/redis.conf' }, $redis_config = '/etc/redis.conf',5,1
openstack%2Fdevstack~stable%2Fwallaby~Ie002faf4c96ac7f207207a481c057b8df0289e6c,openstack/devstack,stable/wallaby,Ie002faf4c96ac7f207207a481c057b8df0289e6c,Fix unit test to use python3 command,MERGED,2021-05-20 14:34:00.000000000,2021-05-21 01:01:43.000000000,2021-05-21 01:00:18.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-05-20 14:34:00.000000000', 'files': ['tests/test_write_devstack_local_conf_role.sh', 'tests/unittest.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/12484c4c9f0b4f5631e023aded1ae16e3ee09665', 'message': ""Fix unit test to use python3 command\n\nunit test jobs staretd to run on ubuntu-focal now\nand failing for using 'python' command.\n\nChange-Id: Ie002faf4c96ac7f207207a481c057b8df0289e6c\n""}]",0,792393,12484c4c9f0b4f5631e023aded1ae16e3ee09665,12,3,1,22873,,,0,"Fix unit test to use python3 command

unit test jobs staretd to run on ubuntu-focal now
and failing for using 'python' command.

Change-Id: Ie002faf4c96ac7f207207a481c057b8df0289e6c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/93/792393/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_write_devstack_local_conf_role.sh', 'tests/unittest.sh']",2,12484c4c9f0b4f5631e023aded1ae16e3ee09665,,export PYTHON=$(which python3 2>/dev/null) ,,3,1
openstack%2Fnetworking-ovn~stable%2Ftrain~Ic433e215a68fbb74b7b82a7ba5b543c351b35f92,openstack/networking-ovn,stable/train,Ic433e215a68fbb74b7b82a7ba5b543c351b35f92,"Revert ""Only set ""unknown"" in LSP that makes sense""",MERGED,2021-05-18 17:55:51.000000000,2021-05-21 00:56:40.000000000,2021-05-21 00:54:49.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2021-05-18 17:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/23d478208d7ce190dfc729ef4ee789f1b3199f37', 'message': 'Revert ""Only set ""unknown"" in LSP that makes sense""\n\nThis reverts commit b5ca90feacd467a8991fb42bae7d2b4c0095fa5d.\n\nReason for revert: This commit was not needed. It actually duplicated the existing code.\n\nChange-Id: Ic433e215a68fbb74b7b82a7ba5b543c351b35f92\n'}, {'number': 2, 'created': '2021-05-18 18:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/234b17faa09598c93ad245e3f52614cda8cedde0', 'message': 'Revert ""Only set ""unknown"" in LSP that makes sense""\n\nThis reverts commit b5ca90feacd467a8991fb42bae7d2b4c0095fa5d.\n\nReason for revert: This commit was not needed. It actually duplicated the existing code.\n\nChange-Id: Ic433e215a68fbb74b7b82a7ba5b543c351b35f92\n'}, {'number': 3, 'created': '2021-05-18 18:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/12a7db148c897e29f203b86b3560d56549abb957', 'message': 'Revert ""Only set ""unknown"" in LSP that makes sense""\n\nThis reverts commit b5ca90feacd467a8991fb42bae7d2b4c0095fa5d.\n\nReason for revert: This commit was not needed. It actually duplicated the existing code.\n\nChange-Id: Ic433e215a68fbb74b7b82a7ba5b543c351b35f92\n'}, {'number': 4, 'created': '2021-05-19 20:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ceceb3f467438e4f6f20074029e996ddd6a34a47', 'message': 'Revert ""Only set ""unknown"" in LSP that makes sense""\n\nThis reverts commit b5ca90feacd467a8991fb42bae7d2b4c0095fa5d.\n\nReason for revert: This commit was not needed. It actually duplicated the existing code.\n\nChange-Id: Ic433e215a68fbb74b7b82a7ba5b543c351b35f92\n'}, {'number': 5, 'created': '2021-05-20 17:47:02.000000000', 'files': ['networking_ovn/common/maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/73f8c613692ba90dd1082382cbce81379237aea0', 'message': 'Revert ""Only set ""unknown"" in LSP that makes sense""\n\nThis reverts commit b5ca90feacd467a8991fb42bae7d2b4c0095fa5d.\n\nReason for revert: This commit was not needed. It actually duplicated the existing code.\n\nChange-Id: Ic433e215a68fbb74b7b82a7ba5b543c351b35f92\n'}]",0,791946,73f8c613692ba90dd1082382cbce81379237aea0,21,6,5,11952,,,0,"Revert ""Only set ""unknown"" in LSP that makes sense""

This reverts commit b5ca90feacd467a8991fb42bae7d2b4c0095fa5d.

Reason for revert: This commit was not needed. It actually duplicated the existing code.

Change-Id: Ic433e215a68fbb74b7b82a7ba5b543c351b35f92
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/46/791946/3 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/maintenance.py'],1,23d478208d7ce190dfc729ef4ee789f1b3199f37,bug/1838535-stable/train,, addresses = port.addresses type_ = port.type.strip() if not port.port_security: if not type_ and ovn_const.UNKNOWN_ADDR not in addresses: addresses.append(ovn_const.UNKNOWN_ADDR) elif type_ and ovn_const.UNKNOWN_ADDR in addresses: addresses.remove(ovn_const.UNKNOWN_ADDR) else: if type_ and ovn_const.UNKNOWN_ADDR in addresses: addresses.remove(ovn_const.UNKNOWN_ADDR) elif not type_ and ovn_const.UNKNOWN_ADDR in addresses: addresses.remove(ovn_const.UNKNOWN_ADDR) ,0,13
openstack%2Fdevstack~master~Ica180e00dedb8e7ed60e27e3f4841faa8fef938c,openstack/devstack,master,Ica180e00dedb8e7ed60e27e3f4841faa8fef938c,Add support for ceph_iscsi cinder driver,MERGED,2019-07-02 12:38:24.000000000,2021-05-20 23:27:18.000000000,2021-05-20 23:25:33.000000000,"[{'_account_id': 1736}, {'_account_id': 4146}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7118}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 20813}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22997}, {'_account_id': 29963}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-02 12:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c24995e8d6ed07e073d837f1785a54e188a69bff', 'message': 'Add support for ceph_iscsi cinder driver\n\nThis patch adds support to configure the new ceph iscsi driver.\n\nDepends-On: https://review.opendev.org/#/c/662829/\nChange-Id: Ica180e00dedb8e7ed60e27e3f4841faa8fef938c\n'}, {'number': 2, 'created': '2019-07-02 12:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a1ff315a680b5033ed293f7c0950bbc723552ed9', 'message': 'Add support for ceph_iscsi cinder driver\n\nThis patch adds support to configure the new ceph iscsi driver.\n\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On:https://review.opendev.org/668667\nChange-Id: Ica180e00dedb8e7ed60e27e3f4841faa8fef938c\n'}, {'number': 3, 'created': '2020-07-09 16:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/aade0095c1d0abb66c9c07ab839a17ddf5c01cee', 'message': 'Add support for ceph_iscsi cinder driver\n\nThis patch adds support to configure the new ceph iscsi driver.\n\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On:https://review.opendev.org/668667\nChange-Id: Ica180e00dedb8e7ed60e27e3f4841faa8fef938c\n'}, {'number': 4, 'created': '2020-08-12 15:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/16fae9cb9de2ca59438db30b6294c18f3c9cf7a7', 'message': 'Add support for ceph_iscsi cinder driver\n\nThis patch adds support to configure the new ceph iscsi driver.\n\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On:https://review.opendev.org/668667\nChange-Id: Ica180e00dedb8e7ed60e27e3f4841faa8fef938c\n'}, {'number': 5, 'created': '2020-08-18 18:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1a698d5415b6dd96460fef2f6f3ada153e7f65f8', 'message': 'Add support for ceph_iscsi cinder driver\n\nThis patch adds support to configure the new ceph iscsi driver.\n\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On:https://review.opendev.org/668667\nChange-Id: Ica180e00dedb8e7ed60e27e3f4841faa8fef938c\n'}, {'number': 6, 'created': '2020-08-24 08:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0166b90c53c01e4e3afbda337ccafe11ee40bab9', 'message': 'Add support for ceph_iscsi cinder driver\n\nThis patch adds support to configure the new ceph iscsi driver.\n\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On:https://review.opendev.org/668667\nChange-Id: Ica180e00dedb8e7ed60e27e3f4841faa8fef938c\n'}, {'number': 7, 'created': '2020-08-24 08:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7fc43a9bf266424f17cbe1ed92c59aee9dc7292a', 'message': 'Add support for ceph_iscsi cinder driver\n\nThis patch adds support to configure the new ceph iscsi driver\n\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On:https://review.opendev.org/668667\nChange-Id: Ica180e00dedb8e7ed60e27e3f4841faa8fef938c\n'}, {'number': 8, 'created': '2020-08-24 08:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a03d38e8bae7cb7ad97f328711048fab5a00f937', 'message': 'Add support for ceph_iscsi cinder driver\n\nThis patch adds support to configure the new ceph iscsi driver\n\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On:https://review.opendev.org/668667\nChange-Id: Ica180e00dedb8e7ed60e27e3f4841faa8fef938c\n'}, {'number': 9, 'created': '2020-10-15 22:04:46.000000000', 'files': ['lib/cinder_backends/ceph_iscsi'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b107f9cf18c8112cce3f796995f3a5691be56259', 'message': 'Add support for ceph_iscsi cinder driver\n\nThis patch adds support to configure the new ceph iscsi driver\n\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On:https://review.opendev.org/668667\nChange-Id: Ica180e00dedb8e7ed60e27e3f4841faa8fef938c\n'}]",6,668668,b107f9cf18c8112cce3f796995f3a5691be56259,67,15,9,5997,,,0,"Add support for ceph_iscsi cinder driver

This patch adds support to configure the new ceph iscsi driver

Depends-On: https://review.opendev.org/#/c/662829/
Depends-On:https://review.opendev.org/668667
Change-Id: Ica180e00dedb8e7ed60e27e3f4841faa8fef938c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/68/668668/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder_backends/ceph_iscsi'],1,c24995e8d6ed07e073d837f1785a54e188a69bff,ceph-iscsi,"#!/bin/bash # # lib/cinder_backends/ceph_iscsi # Configure the ceph_iscsi backend # Enable with: # # CINDER_ENABLED_BACKENDS+=,ceph_iscsi:ceph_iscsi # # Optional paramteters: # CEPH_ISCSI_API_URL=<url to the rbd-target-api service> # # Dependencies: # # - ``functions`` file # - ``cinder`` configurations # configure_ceph_backend_ceph_iscsi - called from configure_cinder() # Save trace setting _XTRACE_CINDER_CEPH_ISCSI=$(set +o | grep xtrace) set +o xtrace # Defaults # -------- CEPH_ISCSI_API_URL=${CEPH_ISCSI_API_URL:-http://$CEPH_ISCSI_API_HOST:$CEPH_ISCSI_API_PORT} # Entry Points # ------------ # configure_cinder_backend_ceph_iscsi - Set config files, create data dirs, etc # configure_cinder_backend_ceph_iscsi $name function configure_cinder_backend_ceph_iscsi { local be_name=$1 iniset $CINDER_CONF $be_name volume_backend_name $be_name iniset $CINDER_CONF $be_name volume_driver ""cinder.volume.drivers.ceph.rbd_iscsi.RBDISCSIDriver"" iniset $CINDER_CONF $be_name rbd_ceph_conf ""$CEPH_CONF_FILE"" iniset $CINDER_CONF $be_name rbd_pool ""$CINDER_CEPH_POOL"" iniset $CINDER_CONF $be_name rbd_user ""$CINDER_CEPH_USER"" iniset $CINDER_CONF $be_name rbd_iscsi_api_user ""$CEPH_ISCSI_API_USER"" iniset $CINDER_CONF $be_name rbd_iscsi_api_password ""$CEPH_ISCSI_API_PASSWORD"" iniset $CINDER_CONF $be_name rbd_iscsi_api_url ""$CEPH_ISCSI_API_URL"" iniset $CINDER_CONF $be_name rbd_iscsi_target_iqn ""$CEPH_ISCSI_TARGET_IQN"" iniset $CINDER_CONF $be_name rbd_flatten_volume_from_snapshot False iniset $CINDER_CONF $be_name rbd_max_clone_depth 5 iniset $CINDER_CONF DEFAULT glance_api_version 2 sudo pip install rbd-iscsi-client } # Restore xtrace $_XTRACE_CINDER_CEPH_ISCSI # Local variables: # mode: shell-script # End: ",,59,0
openstack%2Fnova~stable%2Fwallaby~I332ea49184200fcaf8d1480da9658fcbb2f325c5,openstack/nova,stable/wallaby,I332ea49184200fcaf8d1480da9658fcbb2f325c5,Follow up type hints for a634103,MERGED,2021-04-29 12:12:33.000000000,2021-05-20 23:27:08.000000000,2021-05-20 23:25:23.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 12:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a2707918c3f5f77bd44ef266258a32fb588d160', 'message': 'Follow up type hints for a634103\n\nIt is a follow up patch for I86153d31b02e6b74b42d53a6800297cbd0e5cbb4\nto add type hints to the functions that was touched by the original\npatch.\n\nChange-Id: I332ea49184200fcaf8d1480da9658fcbb2f325c5\nRelated-Bug: #1882521\n(cherry picked from commit a7f2b65d17376710a311bd2f30a6524437bb3aa8)\n'}, {'number': 2, 'created': '2021-05-05 08:00:40.000000000', 'files': ['nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9f90c7268cc24e6c8b93858563a3aefa50d0fb56', 'message': 'Follow up type hints for a634103\n\nIt is a follow up patch for I86153d31b02e6b74b42d53a6800297cbd0e5cbb4\nto add type hints to the functions that was touched by the original\npatch.\n\nChange-Id: I332ea49184200fcaf8d1480da9658fcbb2f325c5\nRelated-Bug: #1882521\n(cherry picked from commit a7f2b65d17376710a311bd2f30a6524437bb3aa8)\n'}]",0,788723,9f90c7268cc24e6c8b93858563a3aefa50d0fb56,23,3,2,9708,,,0,"Follow up type hints for a634103

It is a follow up patch for I86153d31b02e6b74b42d53a6800297cbd0e5cbb4
to add type hints to the functions that was touched by the original
patch.

Change-Id: I332ea49184200fcaf8d1480da9658fcbb2f325c5
Related-Bug: #1882521
(cherry picked from commit a7f2b65d17376710a311bd2f30a6524437bb3aa8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/788723/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/guest.py'],1,3a2707918c3f5f77bd44ef266258a32fb588d160,bug/1882521," def get_interface_by_cfg( self, cfg: vconfig.LibvirtConfigGuestDevice, from_persistent_config: bool = False ) -> ty.Optional[vconfig.LibvirtConfigGuestDevice]: return None def get_disk( self, device: str, from_persistent_config: bool = False ) -> ty.Optional[vconfig.LibvirtConfigGuestDisk]: :param device: the name of either the source or the target device :param from_persistent_config: query the device from the persistent domain (i.e. inactive XML configuration that'll be used on next start of the domain) instead of the live domain configuration :returns LibvirtConfigGuestDisk: mounted at device or None return None def get_all_devices( self, devtype: vconfig.LibvirtConfigGuestDevice = None, from_persistent_config: bool = False ) -> ty.List[vconfig.LibvirtConfigGuestDevice]:"," def get_interface_by_cfg(self, cfg, from_persistent_config=False): :type cfg: a subtype of LibvirtConfigGuestDevice object def get_disk(self, device, from_persistent_config=False): :returns LivirtConfigGuestDisk: mounted at device or None def get_all_devices(self, devtype=None, from_persistent_config=False):",23,5
openstack%2Fopenstack-helm~master~Ib94707996441f35e6ffb32a6d63ab6adbd17a87d,openstack/openstack-helm,master,Ib94707996441f35e6ffb32a6d63ab6adbd17a87d,fix(pep8): makes python script pep8 compliant,MERGED,2021-05-17 06:51:22.000000000,2021-05-20 23:22:16.000000000,2021-05-20 23:20:51.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 06:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/be130531d52089b31a39558522125494ee758d40', 'message': 'fix(pep8): makes python script pep8 compliant\n\nFixes keystone python script so it is pep8 compliant.\n\nChange-Id: Ib94707996441f35e6ffb32a6d63ab6adbd17a87d\nSigned-off-by: Tin <tin@irrational.io>\n'}, {'number': 2, 'created': '2021-05-17 07:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2f58e57431004d1ced75d68403cb304c1298892a', 'message': 'fix(pep8): makes python script pep8 compliant\n\nFixes keystone python script so it is pep8 compliant.\n\nChange-Id: Ib94707996441f35e6ffb32a6d63ab6adbd17a87d\nSigned-off-by: Tin <tin@irrational.io>\n'}, {'number': 3, 'created': '2021-05-19 22:55:35.000000000', 'files': ['keystone/templates/bin/_endpoint-update.py.tpl', 'keystone/templates/bin/_domain-manage.py.tpl', 'keystone/templates/bin/_cred-clean.py.tpl', 'releasenotes/notes/keystone.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/26afeb4cb2404434db1660258d99eb454953744f', 'message': 'fix(pep8): makes python script pep8 compliant\n\nFixes keystone python script so it is pep8 compliant.\n\nChange-Id: Ib94707996441f35e6ffb32a6d63ab6adbd17a87d\nSigned-off-by: Tin <tin@irrational.io>\n'}]",0,791640,26afeb4cb2404434db1660258d99eb454953744f,13,4,3,20466,,,0,"fix(pep8): makes python script pep8 compliant

Fixes keystone python script so it is pep8 compliant.

Change-Id: Ib94707996441f35e6ffb32a6d63ab6adbd17a87d
Signed-off-by: Tin <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/40/791640/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/bin/_endpoint-update.py.tpl', 'keystone/templates/bin/_domain-manage.py.tpl', 'keystone/templates/bin/_cred-clean.py.tpl']",3,be130531d52089b31a39558522125494ee758d40,fix/keystone,"formatter = logging.Formatter( '%(asctime)s - %(name)s - %(levelname)s - %(message)s') ssl_args = {'ssl': {'ca': '/etc/mysql/certs/ca.crt', 'key': '/etc/mysql/certs/tls.key', 'cert': '/etc/mysql/certs/tls.crt'}} logger.critical( 'environment variable OPENSTACK_CONFIG_DB_SECTION not set') logger.critical( ""Tried to load config from {0} but failed."".format(os_conf)) logger.critical( 'Could not get db config, either from config file or env var') root_engine_url = ''.join([drivername, '://', root_user, ':', root_password, '@', host, ':', str(port)])","formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s') ssl_args = {'ssl': {'ca': '/etc/mysql/certs/ca.crt', 'key': '/etc/mysql/certs/tls.key', 'cert': '/etc/mysql/certs/tls.crt'}} logger.critical('environment variable OPENSTACK_CONFIG_DB_SECTION not set') logger.critical(""Tried to load config from {0} but failed."".format(os_conf)) logger.critical('Could not get db config, either from config file or env var') root_engine_url = ''.join([drivername, '://', root_user, ':', root_password, '@', host, ':', str (port)])",38,32
openstack%2Fpython-tripleoclient~master~I1305b519a230823be37b7f50c75ce331c16999d6,openstack/python-tripleoclient,master,I1305b519a230823be37b7f50c75ce331c16999d6,BnR Typo missing some spaces between words on the command help,MERGED,2021-05-04 17:14:24.000000000,2021-05-20 23:13:51.000000000,2021-05-20 23:12:31.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 32728}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-05-04 17:14:24.000000000', 'files': ['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/v1/overcloud_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a7f177860c400f08fc73164b071134b07a44d778', 'message': 'BnR Typo missing some spaces between words on the command help\n\nWhen the command print the help there are some spaces missing\n\nChange-Id: I1305b519a230823be37b7f50c75ce331c16999d6\n'}]",0,789612,a7f177860c400f08fc73164b071134b07a44d778,10,6,1,22954,,,0,"BnR Typo missing some spaces between words on the command help

When the command print the help there are some spaces missing

Change-Id: I1305b519a230823be37b7f50c75ce331c16999d6
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/12/789612/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/v1/overcloud_backup.py']",2,a7f177860c400f08fc73164b071134b07a44d778,BnR_typo," help=_(""Initialize environment for backup, "" ""WARNING: This flag will be deprecated "" ""and replaced by '--setup-rear' and """," help=_(""Initialize environment for backup,"" ""WARNING: This flag will be deprecated"" ""and replaced by '--setup-rear' and""",10,10
openstack%2Ftripleo-ansible~master~Ibbf7ba3435da8dc9218403df76f0eb86df4374db,openstack/tripleo-ansible,master,Ibbf7ba3435da8dc9218403df76f0eb86df4374db,BnR Test NFS server conectivity & ubi-minimal container image,MERGED,2021-05-04 17:14:14.000000000,2021-05-20 23:12:35.000000000,2021-05-20 23:12:35.000000000,"[{'_account_id': 8833}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 32728}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-05-04 17:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dd6a25e04dac288c1cf6eb4bd9bd286507260d56', 'message': 'BnR Test NFS server conectivity & ubi-minimal container image\n\nWhen ReaR is configure there is no validation on the NFS server,\nthis patch adds a simple ping test validation to the NFS server.\n\nThis patch also switches from centos-8 to ubi-minimal container.\n\nChange-Id: Ibbf7ba3435da8dc9218403df76f0eb86df4374db\n'}, {'number': 2, 'created': '2021-05-10 16:43:18.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/64932f1bcad982d1e85179149da9f3803b22ea8d', 'message': 'BnR Test NFS server conectivity & ubi-minimal container image\n\nWhen ReaR is configure there is no validation on the NFS server,\nthis patch adds a simple ping test validation to the NFS server.\nThe NFS ping test can be disabled with a variable.\n\nThis patch also switches from centos-8 to ubi-minimal container.\n\nChange-Id: Ibbf7ba3435da8dc9218403df76f0eb86df4374db\n'}]",3,789611,64932f1bcad982d1e85179149da9f3803b22ea8d,16,7,2,22954,,,0,"BnR Test NFS server conectivity & ubi-minimal container image

When ReaR is configure there is no validation on the NFS server,
this patch adds a simple ping test validation to the NFS server.
The NFS ping test can be disabled with a variable.

This patch also switches from centos-8 to ubi-minimal container.

Change-Id: Ibbf7ba3435da8dc9218403df76f0eb86df4374db
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/789611/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml']",3,dd6a25e04dac288c1cf6eb4bd9bd286507260d56,BnR_ping_nfs_test, - registry.access.redhat.com/ubi8/ubi-minimal image: ubi-minimal, - centos:8 image: centos:8,8,3
openstack%2Fnova~stable%2Fwallaby~I42c579531bac61063a381598094720271364ec92,openstack/nova,stable/wallaby,I42c579531bac61063a381598094720271364ec92,Enable mypy on libvirt/guest.py,MERGED,2021-04-29 12:12:33.000000000,2021-05-20 22:55:00.000000000,2021-05-20 22:47:57.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 18511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 12:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a906eb38d54a50b47114d8971e5b6d8236cf8d4', 'message': 'Enable mypy on libvirt/guest.py\n\nThis patch fixes couple of thing that is needed to run mypy\n\n* fixed a wrong type hint in LibvirtDriver._add_vtpm_device,\n  _configure_guest_by_virt_type, and _conf_non_lxc signature\n* fixed a local variable type hint in LibvirtDriver._create_guest_with_network\n* added an assert to _create_guest_with_network as the guest local\n  variable can be None if we get eventlet.timeout.Timeout and\n  CONF.vif_plugging_is_fatal is False.\n\nChange-Id: I42c579531bac61063a381598094720271364ec92\n(cherry picked from commit c17f1e14cfc78340f32102e5c861cf61a087a2a5)\n'}, {'number': 2, 'created': '2021-05-05 08:00:40.000000000', 'files': ['nova/virt/libvirt/driver.py', 'mypy-files.txt', 'nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3fcd11a4034880cee937051235952e5dee8ecdf7', 'message': 'Enable mypy on libvirt/guest.py\n\nThis patch fixes couple of thing that is needed to run mypy\n\n* fixed a wrong type hint in LibvirtDriver._add_vtpm_device,\n  _configure_guest_by_virt_type, and _conf_non_lxc signature\n* fixed a local variable type hint in LibvirtDriver._create_guest_with_network\n* added an assert to _create_guest_with_network as the guest local\n  variable can be None if we get eventlet.timeout.Timeout and\n  CONF.vif_plugging_is_fatal is False.\n\nChange-Id: I42c579531bac61063a381598094720271364ec92\n(cherry picked from commit c17f1e14cfc78340f32102e5c861cf61a087a2a5)\n'}]",0,788722,3fcd11a4034880cee937051235952e5dee8ecdf7,29,4,2,9708,,,0,"Enable mypy on libvirt/guest.py

This patch fixes couple of thing that is needed to run mypy

* fixed a wrong type hint in LibvirtDriver._add_vtpm_device,
  _configure_guest_by_virt_type, and _conf_non_lxc signature
* fixed a local variable type hint in LibvirtDriver._create_guest_with_network
* added an assert to _create_guest_with_network as the guest local
  variable can be None if we get eventlet.timeout.Timeout and
  CONF.vif_plugging_is_fatal is False.

Change-Id: I42c579531bac61063a381598094720271364ec92
(cherry picked from commit c17f1e14cfc78340f32102e5c861cf61a087a2a5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/788722/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'mypy-files.txt', 'nova/virt/libvirt/guest.py']",3,1a906eb38d54a50b47114d8971e5b6d8236cf8d4,bug/1882521,import typing as ty if ty.TYPE_CHECKING: import libvirt else: libvirt = None,libvirt = None,12,5
openstack%2Fdevstack~stable%2Frocky~I0edd4734df8ac7976d3090b75ca4c033b8ff0f2c,openstack/devstack,stable/rocky,I0edd4734df8ac7976d3090b75ca4c033b8ff0f2c,[stable-only] Preinstall pbr for devstack-tools,MERGED,2021-05-13 14:05:59.000000000,2021-05-20 22:48:06.000000000,2021-05-20 22:48:06.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-13 14:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0243220230e60fe0398da262f9d61da54380c47f', 'message': 'WIP: Preinstall pbr from distro repository\n\nChange-Id: I0edd4734df8ac7976d3090b75ca4c033b8ff0f2c\n'}, {'number': 2, 'created': '2021-05-13 14:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9e7998ff5010b42ce39566cabf7397cfeb5c4f02', 'message': 'WIP: Preinstall pbr from distro repository\n\nDepends-On: https://review.opendev.org/791248\nChange-Id: I0edd4734df8ac7976d3090b75ca4c033b8ff0f2c\n'}, {'number': 3, 'created': '2021-05-19 18:57:32.000000000', 'files': ['inc/python'], 'web_link': 'https://opendev.org/openstack/devstack/commit/052d7f24423e34136db94f6e40e31cf1c0697be5', 'message': '[stable-only] Preinstall pbr for devstack-tools\n\nDue to ""Deprecation of non-SNI compatible clients"" [1], when\ndevstack-tools is installed in early phase (in neutron-grenade job for\nexample) and pbr is not yet installed, the pip command fails with the\nfollowing error in xenial based environments:\n\nFile ""/usr/lib/python3/dist-packages/setuptools/command/easy_install.py"", line 657, in easy_install\n  raise DistutilsError(msg)\ndistutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse(\'pbr>=1.8\')\n\nThis is because setuptools\' easy_install is used, which is non-SNI\ncompatible in xenial base image (and python 3.5). With this patch the\nissue can be avoided by preinstalling pbr just before the installation\nof devstack-tools.\n\n[1] https://github.com/pypa/pypi-support/issues/978\n\nChange-Id: I0edd4734df8ac7976d3090b75ca4c033b8ff0f2c\n'}]",0,791246,052d7f24423e34136db94f6e40e31cf1c0697be5,17,3,3,17685,,,0,"[stable-only] Preinstall pbr for devstack-tools

Due to ""Deprecation of non-SNI compatible clients"" [1], when
devstack-tools is installed in early phase (in neutron-grenade job for
example) and pbr is not yet installed, the pip command fails with the
following error in xenial based environments:

File ""/usr/lib/python3/dist-packages/setuptools/command/easy_install.py"", line 657, in easy_install
  raise DistutilsError(msg)
distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr>=1.8')

This is because setuptools' easy_install is used, which is non-SNI
compatible in xenial base image (and python 3.5). With this patch the
issue can be avoided by preinstalling pbr just before the installation
of devstack-tools.

[1] https://github.com/pypa/pypi-support/issues/978

Change-Id: I0edd4734df8ac7976d3090b75ca4c033b8ff0f2c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/46/791246/2 && git format-patch -1 --stdout FETCH_HEAD,['inc/python'],1,0243220230e60fe0398da262f9d61da54380c47f,distutilserror, install_package python3-devel python3-dbm python3-pbr, install_package python3-devel python3-dbm,1,1
openstack%2Fswift~master~I3f7e3ff41c51f5d5df9f95657bd64b1c7b228526,openstack/swift,master,I3f7e3ff41c51f5d5df9f95657bd64b1c7b228526,Remove some getattr usage in s-m-s-r,ABANDONED,2021-05-20 19:16:54.000000000,2021-05-20 22:41:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-20 19:16:54.000000000', 'files': ['swift/cli/manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/807a3b1b1f765479bcd09a2cf2b50c07cacc6077', 'message': 'Remove some getattr usage in s-m-s-r\n\nChange-Id: I3f7e3ff41c51f5d5df9f95657bd64b1c7b228526\n'}]",2,792476,807a3b1b1f765479bcd09a2cf2b50c07cacc6077,4,1,1,15343,,,0,"Remove some getattr usage in s-m-s-r

Change-Id: I3f7e3ff41c51f5d5df9f95657bd64b1c7b228526
",git fetch https://review.opendev.org/openstack/swift refs/changes/76/792476/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/cli/manage_shard_ranges.py'],1,807a3b1b1f765479bcd09a2cf2b50c07cacc6077,p-sharder-unify-conf," includes=args.includes, include_deleted=args.include_deleted) elif args.brief: for k, v in vars(args).items(): if v is USE_SHARDER_DEFAULT: setattr(args, k, getattr(conf_args, k))"," includes=getattr(args, 'includes', None), include_deleted=getattr(args, 'include_deleted', False)) elif getattr(args, 'brief', False): for k in vars(args): if getattr(args, k, USE_SHARDER_DEFAULT) is USE_SHARDER_DEFAULT: setattr(args, k, getattr(conf_args, k, None))",6,6
openstack%2Fdevstack~master~I856d78648d28ac4cad0fb212bef1ae6ad32fca90,openstack/devstack,master,I856d78648d28ac4cad0fb212bef1ae6ad32fca90,Remove Block Storage API v2 support,MERGED,2021-05-17 23:04:27.000000000,2021-05-20 22:27:40.000000000,2021-05-20 22:26:26.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-05-17 23:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7438107d3394fe8951d3d64bf5611111f31e8864', 'message': 'Remove Block Storage API v2 support\n\nThe Block Storage API v2 was deprecated in Pike by change\nI913c44799cddc37c3342729ec0ef34068db5b2d4 and is (finally)\nbeing removed in Xena.  So remove v2 support from devstack.\n\nChange-Id: I856d78648d28ac4cad0fb212bef1ae6ad32fca90\n'}, {'number': 2, 'created': '2021-05-18 17:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/af0352149223b88d4ed663e3452e269be1c3f596', 'message': 'Remove Block Storage API v2 support\n\nThe Block Storage API v2 was deprecated in Pike by change\nI913c44799cddc37c3342729ec0ef34068db5b2d4 and is (finally)\nbeing removed in Xena [0].  So remove v2 support from devstack.\n\n[0] https://wiki.openstack.org/wiki/CinderXenaPTGSummary#Removing_the_Block_Storage_API_v2\n\nChange-Id: I856d78648d28ac4cad0fb212bef1ae6ad32fca90\n'}, {'number': 3, 'created': '2021-05-18 20:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/530ddd4a6d2344e662ca2acad80c6e926a36ddbe', 'message': 'Remove Block Storage API v2 support\n\nThe Block Storage API v2 was deprecated in Pike by change\nI913c44799cddc37c3342729ec0ef34068db5b2d4 and is (finally)\nbeing removed in Xena [0].  So remove v2 support from devstack.\n\n[0] https://wiki.openstack.org/wiki/CinderXenaPTGSummary#Removing_the_Block_Storage_API_v2\n\nChange-Id: I856d78648d28ac4cad0fb212bef1ae6ad32fca90\n'}, {'number': 4, 'created': '2021-05-19 12:44:37.000000000', 'files': ['lib/cinder', 'lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/35cec0d7c0857d76d3ea0b52b97f2a166c04c13e', 'message': 'Remove Block Storage API v2 support\n\nThe Block Storage API v2 was deprecated in Pike by change\nI913c44799cddc37c3342729ec0ef34068db5b2d4 and is (finally)\nbeing removed in Xena [0].  So remove v2 support from devstack.\n\n[0] https://wiki.openstack.org/wiki/CinderXenaPTGSummary#Removing_the_Block_Storage_API_v2\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/792048\nChange-Id: I856d78648d28ac4cad0fb212bef1ae6ad32fca90\n'}]",5,791842,35cec0d7c0857d76d3ea0b52b97f2a166c04c13e,21,3,4,5314,,,0,"Remove Block Storage API v2 support

The Block Storage API v2 was deprecated in Pike by change
I913c44799cddc37c3342729ec0ef34068db5b2d4 and is (finally)
being removed in Xena [0].  So remove v2 support from devstack.

[0] https://wiki.openstack.org/wiki/CinderXenaPTGSummary#Removing_the_Block_Storage_API_v2

Depends-on: https://review.opendev.org/c/openstack/devstack/+/792048
Change-Id: I856d78648d28ac4cad0fb212bef1ae6ad32fca90
",git fetch https://review.opendev.org/openstack/devstack refs/changes/42/791842/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder'],1,7438107d3394fe8951d3d64bf5611111f31e8864,drop-cinder-v2,," get_or_create_service ""cinderv2"" ""volumev2"" ""Cinder Volume Service V2"" get_or_create_endpoint \ ""volumev2"" \ ""$REGION_NAME"" \ ""$CINDER_SERVICE_PROTOCOL://$CINDER_SERVICE_HOST:$CINDER_SERVICE_PORT/v2/\$(project_id)s"" get_or_create_service ""cinderv2"" ""volumev2"" ""Cinder Volume Service V2"" get_or_create_endpoint \ ""volumev2"" \ ""$REGION_NAME"" \ ""$CINDER_SERVICE_PROTOCOL://$CINDER_SERVICE_HOST/volume/v2/\$(project_id)s"" ",0,12
openstack%2Fnova~stable%2Fwallaby~I17bd591ffb96b9b296bea04c87e286a83d40570e,openstack/nova,stable/wallaby,I17bd591ffb96b9b296bea04c87e286a83d40570e,Move the guest.get_disk test to test_guest,MERGED,2021-04-29 12:12:33.000000000,2021-05-20 22:18:25.000000000,2021-05-20 21:29:07.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 12:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df5d3949b76c87cb8e64073006540ee4ae8648fb', 'message': 'Move the guest.get_disk test to test_guest\n\nAs a follow up of I86153d31b02e6b74b42d53a6800297cbd0e5cbb4 the two\nget_disk test that was mistakenly added to test_driver is now moved to\ntest_guest where they belong.\n\nChange-Id: I17bd591ffb96b9b296bea04c87e286a83d40570e\nRelated-Bug: #1882521\n(cherry picked from commit 52d6cd941ce65baadb140551233406ad642e1e70)\n'}, {'number': 2, 'created': '2021-05-05 07:59:22.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5f488d8cd1195ded0b868ce54eea1d13fa37c27c', 'message': 'Move the guest.get_disk test to test_guest\n\nAs a follow up of I86153d31b02e6b74b42d53a6800297cbd0e5cbb4 the two\nget_disk test that was mistakenly added to test_driver is now moved to\ntest_guest where they belong.\n\nChange-Id: I17bd591ffb96b9b296bea04c87e286a83d40570e\nRelated-Bug: #1882521\n(cherry picked from commit 52d6cd941ce65baadb140551233406ad642e1e70)\n'}]",1,788721,5f488d8cd1195ded0b868ce54eea1d13fa37c27c,20,3,2,9708,,,0,"Move the guest.get_disk test to test_guest

As a follow up of I86153d31b02e6b74b42d53a6800297cbd0e5cbb4 the two
get_disk test that was mistakenly added to test_driver is now moved to
test_guest where they belong.

Change-Id: I17bd591ffb96b9b296bea04c87e286a83d40570e
Related-Bug: #1882521
(cherry picked from commit 52d6cd941ce65baadb140551233406ad642e1e70)
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/788721/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,df5d3949b76c87cb8e64073006540ee4ae8648fb,bug/1882521,," def test_get_disk_xml(self): dom_xml = """""" <domain type=""kvm""> <devices> <disk type=""file""> <source file=""disk1_file""/> <target dev=""vda"" bus=""virtio""/> <serial>0e38683e-f0af-418f-a3f1-6b67ea0f919d</serial> </disk> <disk type=""block""> <source dev=""/path/to/dev/1""/> <target dev=""vdb"" bus=""virtio"" serial=""1234""/> </disk> </devices> </domain> """""" diska_xml = """"""<disk type=""file"" device=""disk""> <source file=""disk1_file""/> <target bus=""virtio"" dev=""vda""/> <serial>0e38683e-f0af-418f-a3f1-6b67ea0f919d</serial> </disk>"""""" diskb_xml = """"""<disk type=""block"" device=""disk""> <source dev=""/path/to/dev/1""/> <target bus=""virtio"" dev=""vdb""/> </disk>"""""" dom = mock.MagicMock() dom.XMLDesc.return_value = dom_xml guest = libvirt_guest.Guest(dom) # NOTE(gcb): etree.tostring(node) returns an extra line with # some white spaces, need to strip it. actual_diska_xml = guest.get_disk('vda').to_xml() self.assertXmlEqual(diska_xml, actual_diska_xml) actual_diskb_xml = guest.get_disk('vdb').to_xml() self.assertXmlEqual(diskb_xml, actual_diskb_xml) self.assertIsNone(guest.get_disk('vdc')) dom.XMLDesc.assert_has_calls([mock.call(0)] * 3) def test_get_disk_xml_from_persistent_config(self): dom_xml = """""" <domain type=""kvm""> <devices> <disk type=""file""> <source file=""disk1_file""/> <target dev=""vda"" bus=""virtio""/> <serial>0e38683e-f0af-418f-a3f1-6b67ea0f919d</serial> </disk> <disk type=""block""> <source dev=""/path/to/dev/1""/> <target dev=""vdb"" bus=""virtio"" serial=""1234""/> </disk> </devices> </domain> """""" diska_xml = """"""<disk type=""file"" device=""disk""> <source file=""disk1_file""/> <target bus=""virtio"" dev=""vda""/> <serial>0e38683e-f0af-418f-a3f1-6b67ea0f919d</serial> </disk>"""""" dom = mock.MagicMock() dom.XMLDesc.return_value = dom_xml guest = libvirt_guest.Guest(dom) actual_diska_xml = guest.get_disk( 'vda', from_persistent_config=True).to_xml() self.assertXmlEqual(diska_xml, actual_diska_xml) dom.XMLDesc.assert_called_once_with( fakelibvirt.VIR_DOMAIN_XML_INACTIVE) ",77,77
openstack%2Fpython-octaviaclient~master~I706d24ee35e06a32f79b7e73ea95f088db0c45a4,openstack/python-octaviaclient,master,I706d24ee35e06a32f79b7e73ea95f088db0c45a4,Update master for stable/wallaby,MERGED,2021-03-18 10:26:45.000000000,2021-05-20 22:01:57.000000000,2021-05-20 22:00:33.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 10:26:45.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/777626454e527b4005dcf72037c3a550f4eb5bbd', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I706d24ee35e06a32f79b7e73ea95f088db0c45a4\n'}]",0,781278,777626454e527b4005dcf72037c3a550f4eb5bbd,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I706d24ee35e06a32f79b7e73ea95f088db0c45a4
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/78/781278/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,777626454e527b4005dcf72037c3a550f4eb5bbd,reno-wallaby, wallaby,,7,0
openstack%2Fpuppet-horizon~master~Ia836dcff61bad7fc423278f4a678facc323c76f5,openstack/puppet-horizon,master,Ia836dcff61bad7fc423278f4a678facc323c76f5,Drop trove settings,MERGED,2021-05-17 15:43:56.000000000,2021-05-20 21:42:50.000000000,2021-05-20 21:42:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 15:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/f534584b51b5ac55cb3e262c58aff68525308efb', 'message': 'Drop trove settings\n\nThe trove settings were already removed from horizon repo[1], and\nshould be mainaged by local_settings.d mechanism.\n\n[1] 0659f9a98a2f175847c7acb005ac8126d03059bc\n\nChange-Id: Ia836dcff61bad7fc423278f4a678facc323c76f5\n'}, {'number': 2, 'created': '2021-05-17 15:44:52.000000000', 'files': ['templates/local_settings.py.erb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/4bc6347e59e12d2a0594d3f92653023b6b5dfb84', 'message': 'Drop trove settings\n\nThe trove settings were already removed from horizon repo[1], and\nshould be managed by local_settings.d mechanism.\n\n[1] 0659f9a98a2f175847c7acb005ac8126d03059bc\n\nChange-Id: Ia836dcff61bad7fc423278f4a678facc323c76f5\n'}]",0,791774,4bc6347e59e12d2a0594d3f92653023b6b5dfb84,8,3,2,9816,,,0,"Drop trove settings

The trove settings were already removed from horizon repo[1], and
should be managed by local_settings.d mechanism.

[1] 0659f9a98a2f175847c7acb005ac8126d03059bc

Change-Id: Ia836dcff61bad7fc423278f4a678facc323c76f5
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/74/791774/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/local_settings.py.erb'],1,f534584b51b5ac55cb3e262c58aff68525308efb,remove-trove-opts,,"# TODO: (david-lyle) remove when plugins support adding settings. # Note: Only used when trove-dashboard plugin is configured to be used by # Horizon. # Trove user and database extension support. By default support for # creating users and databases on database instances is turned on. # To disable these extensions set the permission here to something # unusable such as [""!""]. #TROVE_ADD_USER_PERMS = [] #TROVE_ADD_DATABASE_PERMS = [] 'troveclient': { # 'handlers': ['console'], 'handlers': ['<%= @log_handlers.join(""', '"") %>'], # 'level': 'DEBUG', 'level': '<%= @log_level %>', 'propagate': False, },",0,17
openstack%2Fpuppet-openstack_extras~master~I2a943a7759152a37c42281fab8e7046125a42b20,openstack/puppet-openstack_extras,master,I2a943a7759152a37c42281fab8e7046125a42b20,Break extrepo dependency loop,MERGED,2021-05-17 19:38:28.000000000,2021-05-20 21:39:06.000000000,2021-05-20 21:39:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 19:38:28.000000000', 'files': ['spec/classes/openstack_extras_repo_debian_debian_spec.rb', 'manifests/repo/debian/debian.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/600175a4153007cb4167fc0cb707a2740d05fa7c', 'message': 'Break extrepo dependency loop\n\nThis breaks the dependency loop introduced earlier on.\n\nChange-Id: I2a943a7759152a37c42281fab8e7046125a42b20\n'}]",0,791819,600175a4153007cb4167fc0cb707a2740d05fa7c,9,3,1,6476,,,0,"Break extrepo dependency loop

This breaks the dependency loop introduced earlier on.

Change-Id: I2a943a7759152a37c42281fab8e7046125a42b20
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/19/791819/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/openstack_extras_repo_debian_debian_spec.rb', 'manifests/repo/debian/debian.pp']",2,600175a4153007cb4167fc0cb707a2740d05fa7c,fix-dependency-loop," # We cannot use package{} or ensure_packages[] as per below, # because this introduces a dependency loop later on if # $package_require is set to true. # So please leave this commented. #ensure_packages(['extrepo',], {'ensure' => 'present'}) command => ""/bin/true # comment to satisfy puppet syntax requirements apt-get update apt-get install -y extrepo extrepo enable openstack_${lowercase_release} apt-get update "","," ensure_packages(['extrepo',], {'ensure' => 'present'}) command => ""/usr/bin/extrepo enable openstack_${lowercase_release}"", require => Package['extrepo'],",24,13
openstack%2Ftrove-dashboard~master~I65916ed3eac9c3c8ecabf1f276d5cdec571d115d,openstack/trove-dashboard,master,I65916ed3eac9c3c8ecabf1f276d5cdec571d115d,Add default policy files,NEW,2021-05-06 18:21:45.000000000,2021-05-20 21:32:15.000000000,,"[{'_account_id': 841}, {'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 18:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/8d80a100e7b8dbcf44978c2d3fdd13c38c80bfef', 'message': ""Add default policy files\n\nThese are consumed by Horizon and were generated\naccording to these instructions:\n\nhttps://docs.openstack.org/horizon/latest/contributor/topics/policy.html#policy-file-maintenance\n\nThese files need to be copied into Horizon's conf directory\n(e.g. /etc/openstack_dashboard) at install time.\n\nBug: 1926929\nChange-Id: I65916ed3eac9c3c8ecabf1f276d5cdec571d115d\n""}, {'number': 2, 'created': '2021-05-06 18:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/c14de9e21593ff5ec39917ab8a11224f052f7541', 'message': ""Add default policy files\n\nThese are consumed by Horizon and were generated\naccording to these instructions:\n\nhttps://docs.openstack.org/horizon/latest/contributor/topics/policy.html#policy-file-maintenance\n\nThese files need to be copied into Horizon's conf directory\n(e.g. /etc/openstack_dashboard) at install time.\n\nBug: 1926929\nChange-Id: I65916ed3eac9c3c8ecabf1f276d5cdec571d115d\n""}, {'number': 3, 'created': '2021-05-06 18:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/a791f72ff0c8ae24aa5e9230e6cc19e62a49db31', 'message': ""Add default policy files\n\nThese are consumed by Horizon and were generated\naccording to these instructions:\n\nhttps://docs.openstack.org/horizon/latest/contributor/topics/policy.html#policy-file-maintenance\n\nThese files need to be copied into Horizon's conf directory\n(e.g. /etc/openstack_dashboard) at install time.\n\nBug: 1926929\nChange-Id: I65916ed3eac9c3c8ecabf1f276d5cdec571d115d\n""}, {'number': 4, 'created': '2021-05-12 22:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/bcec9f788f8581b7df323e56468d318516a654c0', 'message': ""Add default policy files\n\nThese are consumed by Horizon and were generated\naccording to these instructions:\n\nhttps://docs.openstack.org/horizon/latest/contributor/topics/policy.html#policy-file-maintenance\n\nThese files need to be copied into Horizon's conf directory\n(e.g. /etc/openstack_dashboard) at install time.\n\nStory: 42463\nChange-Id: I65916ed3eac9c3c8ecabf1f276d5cdec571d115d\n""}, {'number': 5, 'created': '2021-05-12 22:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/b8d1f491336029f0b0f0a8d8f9dfd722372ab475', 'message': ""Add default policy files\n\nThese are consumed by Horizon and were generated\naccording to these instructions:\n\nhttps://docs.openstack.org/horizon/latest/contributor/topics/policy.html#policy-file-maintenance\n\nThese files need to be copied into Horizon's conf directory\n(e.g. /etc/openstack_dashboard) at install time.\n\nStory: 2008897\nChange-Id: I65916ed3eac9c3c8ecabf1f276d5cdec571d115d\n""}, {'number': 6, 'created': '2021-05-18 23:42:54.000000000', 'files': ['trove_dashboard/conf/default_policies/README.txt', 'trove_dashboard/conf/trove_policy.yaml', 'trove_dashboard/local/local_settings.d/_1710_database_settings.py', 'trove_dashboard/conf/default_policies/trove.yaml'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/7191269ce8c81b1a5e17d62660df0a856602e9ee', 'message': ""Add default policy files\n\nThese are consumed by Horizon and were generated\naccording to these instructions:\n\nhttps://docs.openstack.org/horizon/latest/contributor/topics/policy.html#policy-file-maintenance\n\nThese files need to be copied into Horizon's conf directory\n(e.g. /etc/openstack_dashboard) at install time.\n\nStory: 2008897\nTask: 42463\nChange-Id: I65916ed3eac9c3c8ecabf1f276d5cdec571d115d\n""}]",3,790137,7191269ce8c81b1a5e17d62660df0a856602e9ee,23,3,6,12932,,,0,"Add default policy files

These are consumed by Horizon and were generated
according to these instructions:

https://docs.openstack.org/horizon/latest/contributor/topics/policy.html#policy-file-maintenance

These files need to be copied into Horizon's conf directory
(e.g. /etc/openstack_dashboard) at install time.

Story: 2008897
Task: 42463
Change-Id: I65916ed3eac9c3c8ecabf1f276d5cdec571d115d
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/37/790137/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/conf/default_policies/README.txt', 'trove_dashboard/conf/trove_policy.yaml', 'trove_dashboard/conf/default_policies/trove.yaml']",3,8d80a100e7b8dbcf44978c2d3fdd13c38c80bfef,bug/1926929,- check_str: role:admin or is_admin:True description: Must be an administrator. name: admin operations: [] scope_types: null - check_str: rule:admin or tenant:%(tenant)s description: Must be an administrator or owner of the object. name: admin_or_owner operations: [] scope_types: null - check_str: rule:admin_or_owner description: Must be an administrator or owner of the object. name: default operations: [] scope_types: null - check_str: rule:admin_or_owner description: Create a database instance. name: instance:create operations: - method: POST path: /v1.0/{account_id}/instances scope_types: null - check_str: rule:admin_or_owner description: Delete a database instance. name: instance:delete operations: - method: DELETE path: /v1.0/{account_id}/instances/{instance_id} scope_types: null - check_str: rule:admin_or_owner description: Forcibly delete a database instance. name: instance:force_delete operations: - method: DELETE path: /v1.0/{account_id}/instances/{instance_id} scope_types: null - check_str: rule:admin_or_owner description: List database instances. name: instance:index operations: - method: GET path: /v1.0/{account_id}/instances scope_types: null - check_str: rule:admin_or_owner description: List database instances with details. name: instance:detail operations: - method: GET path: /v1.0/{account_id}/instances/detail scope_types: null - check_str: rule:admin_or_owner description: Get details of a specific database instance. name: instance:show operations: - method: GET path: /v1.0/{account_id}/instances/{instance_id} scope_types: null - check_str: rule:admin_or_owner description: Update a database instance to attach/detach configuration name: instance:update operations: - method: PUT path: /v1.0/{account_id}/instances/{instance_id} - method: POST path: /v1.0/{account_id}/instances scope_types: null - check_str: rule:admin_or_owner description: Updates the instance to set or unset one or more attributes. name: instance:edit operations: - method: PATCH path: /v1.0/{account_id}/instances/{instance_id} scope_types: null - check_str: rule:admin_or_owner description: Restart a database instance. name: instance:restart operations: - method: POST path: /v1.0/{account_id}/instances/{instance_id}/action (restart) scope_types: null - check_str: rule:admin_or_owner description: Resize a database instance volume. name: instance:resize_volume operations: - method: POST path: /v1.0/{account_id}/instances/{instance_id}/action (resize) scope_types: null - check_str: rule:admin_or_owner description: Resize a database instance flavor. name: instance:resize_flavor operations: - method: POST path: /v1.0/{account_id}/instances/{instance_id}/action (resize) scope_types: null - check_str: rule:admin description: Reset the status of a database instance to ERROR. name: instance:reset_status operations: - method: POST path: /v1.0/{account_id}/instances/{instance_id}/action (reset_status) scope_types: null - check_str: rule:admin_or_owner description: Promote instance to replica source. name: instance:promote_to_replica_source operations: - method: POST path: /v1.0/{account_id}/instances/{instance_id}/action (promote_to_replica_source) scope_types: null - check_str: rule:admin_or_owner description: Eject the replica source from its replica set. name: instance:eject_replica_source operations: - method: POST path: /v1.0/{account_id}/instances/{instance_id}/action (eject_replica_source) scope_types: null - check_str: rule:admin_or_owner description: Get the default configuration template applied to the instance. name: instance:configuration operations: - method: GET path: /v1.0/{account_id}/instances/{instance_id}/configuration scope_types: null - check_str: rule:admin_or_owner description: Get all informations about all logs of a database instance. name: instance:guest_log_list operations: - method: GET path: /v1.0/{account_id}/instances/{instance_id}/log scope_types: null - check_str: rule:admin_or_owner description: Get all backups of a database instance. name: instance:backups operations: - method: GET path: /v1.0/{account_id}/instances/{instance_id}/backups scope_types: null - check_str: rule:admin_or_owner description: Get informations about modules on a database instance. name: instance:module_list operations: - method: GET path: /v1.0/{account_id}/instances/{instance_id}/modules scope_types: null - check_str: rule:admin_or_owner description: Apply modules to a database instance. name: instance:module_apply operations: - method: POST path: /v1.0/{account_id}/instances/{instance_id}/modules - method: POST path: /v1.0/{account_id}/instances scope_types: null - check_str: rule:admin_or_owner description: Remove a module from a database instance. name: instance:module_remove operations: - method: DELETE path: /v1.0/{account_id}/instances/{instance_id}/modules/{module_id} scope_types: null - check_str: rule:admin_or_owner description: Enable the root user of a database instance. name: instance:extension:root:create operations: - method: POST path: /v1.0/{account_id}/instances/{instance_id}/root scope_types: null - check_str: rule:admin_or_owner description: Disable the root user of a database instance. name: instance:extension:root:delete operations: - method: DELETE path: /v1.0/{account_id}/instances/{instance_id}/root scope_types: null - check_str: rule:admin_or_owner description: Show whether the root user of a database instance has been ever enabled. name: instance:extension:root:index operations: - method: GET path: /v1.0/{account_id}/instances/{instance_id}/root scope_types: null - check_str: rule:admin_or_owner description: Enable the root user of the instances in a cluster. name: cluster:extension:root:create operations: - method: POST path: /v1.0/{account_id}/clusters/{cluster}/root scope_types: null - check_str: rule:admin_or_owner description: Enable the root user of the instances in a cluster. name: cluster:extension:root:delete operations: - method: DELETE path: /v1.0/{account_id}/clusters/{cluster}/root scope_types: null - check_str: rule:admin_or_owner description: Disable the root of the instances in a cluster. name: cluster:extension:root:index operations: - method: GET path: /v1.0/{account_id}/clusters/{cluster}/root scope_types: null - check_str: rule:admin_or_owner description: Create users for a database instance. name: instance:extension:user:create operations: - method: POST path: /v1.0/{account_id}/instances/{instance_id}/users - method: POST path: /v1.0/{account_id}/instances scope_types: null - check_str: rule:admin_or_owner description: Delete a user from a database instance. name: instance:extension:user:delete operations: - method: DELETE path: /v1.0/{account_id}/instances/{instance_id}/users/{user} scope_types: null - check_str: rule:admin_or_owner description: Get all users of a database instance. name: instance:extension:user:index operations: - method: GET path: /v1.0/{account_id}/instances/{instance_id}/users scope_types: null - check_str: rule:admin_or_owner description: Get the information of a single user of a database instance. name: instance:extension:user:show operations: - method: GET path: /v1.0/{account_id}/instances/{instance_id}/users/{user} scope_types: null - check_str: rule:admin_or_owner description: Update attributes for a user of a database instance. name: instance:extension:user:update operations: - method: PUT path: /v1.0/{account_id}/instances/{instance_id}/users/{user} scope_types: null - check_str: rule:admin_or_owner description: Update the password for one or more users a database instance. name: instance:extension:user:update_all operations: - method: PUT path: /v1.0/{account_id}/instances/{instance_id}/users scope_types: null - check_str: rule:admin_or_owner description: Grant access for a user to one or more databases. name: instance:extension:user_access:update operations: - method: PUT path: /v1.0/{account_id}/instances/{instance_id}/users/{user}/databases scope_types: null - check_str: rule:admin_or_owner description: Revoke access for a user to a databases. name: instance:extension:user_access:delete operations: - method: DELETE path: /v1.0/{account_id}/instances/{instance_id}/users/{user}/databases/{database} scope_types: null - check_str: rule:admin_or_owner description: Get permissions of a user name: instance:extension:user_access:index operations: - method: GET path: /v1.0/{account_id}/instances/{instance_id}/users/{user}/databases scope_types: null - check_str: rule:admin_or_owner description: Create a set of Schemas name: instance:extension:database:create operations: - method: POST path: /v1.0/{account_id}/instances/{instance_id}/databases - method: POST path: /v1.0/{account_id}/instances scope_types: null - check_str: rule:admin_or_owner description: Delete a schema from a database. name: instance:extension:database:delete operations: - method: DELETE path: /v1.0/{account_id}/instances/{instance_id}/databases/{database} scope_types: null - check_str: rule:admin_or_owner description: List all schemas from a database. name: instance:extension:database:index operations: - method: GET path: /v1.0/{account_id}/instances/{instance_id}/databases scope_types: null - check_str: rule:admin_or_owner description: Get informations of a schema(Currently Not Implemented). name: instance:extension:database:show operations: - method: GET path: /v1.0/{account_id}/instances/{instance_id}/databases/{database} scope_types: null - check_str: rule:admin_or_owner description: Create a cluster. name: cluster:create operations: - method: POST path: /v1.0/{account_id}/clusters scope_types: null - check_str: rule:admin_or_owner description: Delete a cluster. name: cluster:delete operations: - method: DELETE path: /v1.0/{account_id}/clusters/{cluster} scope_types: null - check_str: rule:admin_or_owner description: Forcibly delete a cluster. name: cluster:force_delete operations: - method: POST path: /v1.0/{account_id}/clusters/{cluster} (reset-status) scope_types: null - check_str: rule:admin_or_owner description: List all clusters name: cluster:index operations: - method: GET path: /v1.0/{account_id}/clusters scope_types: null - check_str: rule:admin_or_owner description: Get informations of a cluster. name: cluster:show operations: - method: GET path: /v1.0/{account_id}/clusters/{cluster} scope_types: null - check_str: rule:admin_or_owner description: Get informations of a instance in a cluster. name: cluster:show_instance operations: - method: GET path: /v1.0/{account_id}/clusters/{cluster}/instances/{instance} scope_types: null - check_str: rule:admin_or_owner description: Commit an action against a cluster name: cluster:action operations: - method: POST path: /v1.0/{account_id}/clusters/{cluster} scope_types: null - check_str: rule:admin description: Reset the status of a cluster to NONE. name: cluster:reset-status operations: - method: POST path: /v1.0/{account_id}/clusters/{cluster} (reset-status) scope_types: null - check_str: rule:admin_or_owner description: Create a backup of a database instance. name: backup:create operations: - method: POST path: /v1.0/{account_id}/backups scope_types: null - check_str: rule:admin_or_owner description: Delete a backup of a database instance. name: backup:delete operations: - method: DELETE path: /v1.0/{account_id}/backups/{backup} scope_types: null - check_str: rule:admin_or_owner description: List all backups. name: backup:index operations: - method: GET path: /v1.0/{account_id}/backups scope_types: null - check_str: role:admin description: List backups for all the projects. name: backup:index:all_projects operations: - method: GET path: /v1.0/{account_id}/backups scope_types: null - check_str: rule:admin_or_owner description: Get informations of a backup. name: backup:show operations: - method: GET path: /v1.0/{account_id}/backups/{backup} scope_types: null - check_str: rule:admin_or_owner description: Create a backup strategy. name: backup_strategy:create operations: - method: POST path: /v1.0/{account_id}/backup_strategies scope_types: null - check_str: rule:admin_or_owner description: List all backup strategies. name: backup_strategy:index operations: - method: GET path: /v1.0/{account_id}/backup_strategies scope_types: null - check_str: rule:admin_or_owner description: Delete backup strategies. name: backup_strategy:delete operations: - method: DELETE path: /v1.0/{account_id}/backup_strategies scope_types: null - check_str: rule:admin_or_owner description: Create a configuration group. name: configuration:create operations: - method: POST path: /v1.0/{account_id}/configurations scope_types: null - check_str: rule:admin_or_owner description: Delete a configuration group. name: configuration:delete operations: - method: DELETE path: /v1.0/{account_id}/configurations/{config} scope_types: null - check_str: rule:admin_or_owner description: List all configuration groups. name: configuration:index operations: - method: GET path: /v1.0/{account_id}/configurations scope_types: null - check_str: rule:admin_or_owner description: Get informations of a configuration group. name: configuration:show operations: - method: GET path: /v1.0/{account_id}/configurations/{config} scope_types: null - check_str: rule:admin_or_owner description: List all instances which a configuration group has be assigned to. name: configuration:instances operations: - method: GET path: /v1.0/{account_id}/configurations/{config}/instances scope_types: null - check_str: rule:admin_or_owner description: Update a configuration group(the configuration group will be replaced completely). name: configuration:update operations: - method: PUT path: /v1.0/{account_id}/configurations/{config} scope_types: null - check_str: rule:admin_or_owner description: Patch a configuration group. name: configuration:edit operations: - method: PATCH path: /v1.0/{account_id}/configurations/{config} scope_types: null - check_str: rule:admin_or_owner description: List all parameters bind to a datastore version. name: configuration-parameter:index operations: - method: GET path: /v1.0/{account_id}/datastores/{datastore}/versions/{version}/parameters scope_types: null - check_str: rule:admin_or_owner description: Get a paramter of a datastore version. name: configuration-parameter:show operations: - method: GET path: /v1.0/{account_id}/datastores/{datastore}/versions/{version}/parameters/{param} scope_types: null - check_str: rule:admin_or_owner description: List all paramters bind to a datastore version by the id of the version(datastore is not provided). name: configuration-parameter:index_by_version operations: - method: GET path: /v1.0/{account_id}/datastores/versions/{version}/paramters scope_types: null - check_str: rule:admin_or_owner description: Get a paramter of a datastore version by it names and the id of the version(datastore is not provided). name: configuration-parameter:show_by_version operations: - method: GET path: /v1.0/{account_id}/datastores/versions/{version}/paramters/{param} scope_types: null - check_str: '' description: List all datastores. name: datastore:index operations: - method: GET path: /v1.0/{account_id}/datastores scope_types: null - check_str: '' description: Get informations of a datastore. name: datastore:show operations: - method: GET path: /v1.0/{account_id}/datastores/{datastore} scope_types: null - check_str: rule:admin description: Delete a datastore. name: datastore:delete operations: - method: DELETE path: /v1.0/{account_id}/datastores/{datastore} scope_types: null - check_str: '' description: Get a version of a datastore by the version id. name: datastore:version_show operations: - method: GET path: /v1.0/{account_id}/datastores/{datastore}/versions/{version} scope_types: null - check_str: '' description: Get a version of a datastore by the version id(without providing the datastore id). name: datastore:version_show_by_uuid operations: - method: GET path: /v1.0/{account_id}/datastores/versions/{version} scope_types: null - check_str: '' description: Get all versions of a datastore. name: datastore:version_index operations: - method: GET path: /v1.0/{account_id}/datastores/{datastore}/versions scope_types: null - check_str: '' description: List all flavors associated with a datastore version. name: datastore:list_associated_flavors operations: - method: GET path: /v1.0/{account_id}/datastores/{datastore}/versions/{version}/flavors scope_types: null - check_str: '' description: List all volume-types associated with a datastore version. name: datastore:list_associated_volume_types operations: - method: GET path: /v1.0/{account_id}/datastores/{datastore}/versions/{version}/volume-types scope_types: null - check_str: '' description: List all flavors. name: flavor:index operations: - method: GET path: /v1.0/{account_id}/flavors scope_types: null - check_str: '' description: Get information of a flavor. name: flavor:show operations: - method: GET path: /v1.0/{account_id}/flavors/{flavor} scope_types: null - check_str: rule:admin_or_owner description: List all absolute and rate limit informations. name: limits:index operations: - method: GET path: /v1.0/{account_id}/limits scope_types: null - check_str: rule:admin_or_owner description: Create a module. name: module:create operations: - method: POST path: /v1.0/{account_id}/modules scope_types: null - check_str: rule:admin_or_owner description: Delete a module. name: module:delete operations: - method: DELETE path: /v1.0/{account_id}/modules/{module} scope_types: null - check_str: rule:admin_or_owner description: List all modules. name: module:index operations: - method: GET path: /v1.0/{account_id}/modules scope_types: null - check_str: rule:admin_or_owner description: Get informations of a module. name: module:show operations: - method: GET path: /v1.0/{account_id}/modules/{module} scope_types: null - check_str: rule:admin_or_owner description: List all instances to which a module is applied. name: module:instances operations: - method: GET path: /v1.0/{account_id}/modules/{module}/instances scope_types: null - check_str: rule:admin_or_owner description: Update a module. name: module:update operations: - method: PUT path: /v1.0/{account_id}/modules/{module} scope_types: null - check_str: rule:admin_or_owner description: Reapply a module to all instances. name: module:reapply operations: - method: PUT path: /v1.0/{account_id}/modules/{module}/instances scope_types: null ,,978,0
openstack%2Fcinder-tempest-plugin~master~I222c6ee4de01bdaba9ef5e5b5a92889486d6401b,openstack/cinder-tempest-plugin,master,I222c6ee4de01bdaba9ef5e5b5a92889486d6401b,Add a job for S3 backup driver,MERGED,2021-01-22 18:46:47.000000000,2021-05-20 21:28:45.000000000,2021-05-20 21:28:45.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32329}]","[{'number': 1, 'created': '2021-01-22 18:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/cf335ccb1658a254388662e1adcb0d8ec617327f', 'message': 'WIP: Add a job for S3 backup driver\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/770171\nDdpends-on: https://review.opendev.org/c/openstack/cinder/+/746561\nChange-Id: I222c6ee4de01bdaba9ef5e5b5a92889486d6401b\n'}, {'number': 2, 'created': '2021-01-22 22:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/bbd9061c4f20ae72929bd1e41c89f3e5d0501891', 'message': 'WIP: Add a job for S3 backup driver\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/770171\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/746561\nChange-Id: I222c6ee4de01bdaba9ef5e5b5a92889486d6401b\n'}, {'number': 3, 'created': '2021-01-27 21:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/2c79e1f0580ecf702be13f2000fb3991f39cbe62', 'message': 'WIP: Add a job for S3 backup driver\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/770171\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/772773\nChange-Id: I222c6ee4de01bdaba9ef5e5b5a92889486d6401b\n'}, {'number': 4, 'created': '2021-01-27 22:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/df6e93273460033e4903307b8931a4be08bb7f97', 'message': 'WIP: Add a job for S3 backup driver\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/770171\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/746561\nChange-Id: I222c6ee4de01bdaba9ef5e5b5a92889486d6401b\n'}, {'number': 5, 'created': '2021-01-28 04:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/7319c2bef410025b3c3e0a583fe7d84169db1b66', 'message': 'WIP: Add a job for S3 backup driver\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/770171\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/772773\nChange-Id: I222c6ee4de01bdaba9ef5e5b5a92889486d6401b\n'}, {'number': 6, 'created': '2021-01-28 09:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/10ab5526a822af47169a000a5e8106224d7303e2', 'message': 'WIP: Add a job for S3 backup driver\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/770171\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/746561\nChange-Id: I222c6ee4de01bdaba9ef5e5b5a92889486d6401b\n'}, {'number': 7, 'created': '2021-01-29 23:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b534cac40397289a8beedb3d604423bb9274d804', 'message': 'Add a job for S3 backup driver\n\nThis job tests S3 backup driver with Swift S3 API.\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/770171\nChange-Id: I222c6ee4de01bdaba9ef5e5b5a92889486d6401b\n'}, {'number': 8, 'created': '2021-05-14 19:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/07ec6321fe1a7affd2114f2db66e95824bd99a88', 'message': 'Add a job for S3 backup driver\n\nThis job tests S3 backup driver with Swift S3 API.\n\nChange-Id: I222c6ee4de01bdaba9ef5e5b5a92889486d6401b\n'}, {'number': 9, 'created': '2021-05-18 18:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8a8114aba4184a874a79228198b317f7a0a0aff0', 'message': 'Add a job for S3 backup driver\n\nThis job tests S3 backup driver with Swift S3 API.\n\nChange-Id: I222c6ee4de01bdaba9ef5e5b5a92889486d6401b\n'}, {'number': 10, 'created': '2021-05-20 12:14:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/207d6677a085e0ebbaca15b3ca215477995a50f2', 'message': 'Add a job for S3 backup driver\n\nThis job tests S3 backup driver with Swift S3 API.\n\nChange-Id: I222c6ee4de01bdaba9ef5e5b5a92889486d6401b\n'}]",2,772085,207d6677a085e0ebbaca15b3ca215477995a50f2,74,7,10,13689,,,0,"Add a job for S3 backup driver

This job tests S3 backup driver with Swift S3 API.

Change-Id: I222c6ee4de01bdaba9ef5e5b5a92889486d6401b
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/85/772085/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cf335ccb1658a254388662e1adcb0d8ec617327f,feature/support-s3-backup-driver, - cinder-tempest-plugin-cbak-s3 name: cinder-tempest-plugin-cbak-s3 parent: cinder-tempest-plugin-basic description: | Integration tests that runs with the s3 backup driver with Swift S3 API. vars: devstack_services: c-bak: true s3api: true # workaround: tls causes auth error tls-proxy: false - job:,,14,0
openstack%2Fneutron-tempest-plugin~master~I2b7522e8d7fa9a973b00e59fcf5a0b5116bc5b6c,openstack/neutron-tempest-plugin,master,I2b7522e8d7fa9a973b00e59fcf5a0b5116bc5b6c,Remove train jobs from the project's CI queues,MERGED,2021-05-14 14:26:02.000000000,2021-05-20 21:28:40.000000000,2021-05-20 21:28:40.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 14:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/536001b3f5265b2e8d5fb1519ac49e3974ded441', 'message': ""Remove train jobs from the project's CI queues\n\nAs stable/train just was switched to EM phase, we don't need to run\nit's tests in the neutron-tempest-plugin CI.\nNeutron-tempest-plugin is pinned to the 1.5.0 version in the train\njobs and that will be used in e.g. Neutron stable/train since now.\n\nChange-Id: I2b7522e8d7fa9a973b00e59fcf5a0b5116bc5b6c\n""}, {'number': 2, 'created': '2021-05-15 07:16:19.000000000', 'files': ['zuul.d/train_jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/99d8ae2fb8967e87dd07d17e0b822730824502f2', 'message': ""Remove train jobs from the project's CI queues\n\nAs stable/train just was switched to EM phase, we don't need to run\nit's tests in the neutron-tempest-plugin CI.\nNeutron-tempest-plugin is pinned to the 1.5.0 version in the train\njobs and that will be used in e.g. Neutron stable/train since now.\n\nChange-Id: I2b7522e8d7fa9a973b00e59fcf5a0b5116bc5b6c\n""}]",3,791494,99d8ae2fb8967e87dd07d17e0b822730824502f2,23,4,2,11975,,,0,"Remove train jobs from the project's CI queues

As stable/train just was switched to EM phase, we don't need to run
it's tests in the neutron-tempest-plugin CI.
Neutron-tempest-plugin is pinned to the 1.5.0 version in the train
jobs and that will be used in e.g. Neutron stable/train since now.

Change-Id: I2b7522e8d7fa9a973b00e59fcf5a0b5116bc5b6c
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/94/791494/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/train_jobs.yaml', 'zuul.d/project.yaml']",2,536001b3f5265b2e8d5fb1519ac49e3974ded441,train-em,, - neutron-tempest-plugin-jobs-train - neutron-tempest-plugin-sfc-train - neutron-tempest-plugin-bgpvpn-bagpipe-train - neutron-tempest-plugin-fwaas-train: # TODO(slaweq): switch it to be voting when bug # https://bugs.launchpad.net/neutron/+bug/1858645 will be fixed voting: false,13,7
openstack%2Ftripleo-quickstart-extras~master~Iec4c477bf294514bbf9375fc77f44f5b37334bdb,openstack/tripleo-quickstart-extras,master,Iec4c477bf294514bbf9375fc77f44f5b37334bdb,Collect the old and new path for outputs/passwords first,MERGED,2021-03-31 11:35:35.000000000,2021-05-20 21:11:08.000000000,2021-05-20 21:11:08.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-31 11:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3772aa438e7638f95e5334a016c0ee284884e2e6', 'message': 'Collect only the new path for outputs/passwords\n\nOnce Idded7faba1ff6c811b94503c559029aeeaca6a06 has merged, we can\nsimplify these collection tasks to only consider the new paths for the\ntripleo-undercloud-outputs.yaml and tripleo-undercloud-passwords.yaml\nfiles.\n\nPartial-Bug: #1921975\nDepends-On: Idded7faba1ff6c811b94503c559029aeeaca6a06\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Iec4c477bf294514bbf9375fc77f44f5b37334bdb\n'}, {'number': 2, 'created': '2021-04-23 00:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4f253162b26db564507095872ee4ebe138b0c15f', 'message': 'Collect only the new path for outputs/passwords\n\nOnce Idded7faba1ff6c811b94503c559029aeeaca6a06 has merged, we can\nsimplify these collection tasks to only consider the new paths for the\ntripleo-undercloud-outputs.yaml and tripleo-undercloud-passwords.yaml\nfiles.\n\nPartial-Bug: #1921975\nDepends-On: Idded7faba1ff6c811b94503c559029aeeaca6a06\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Iec4c477bf294514bbf9375fc77f44f5b37334bdb\n'}, {'number': 3, 'created': '2021-05-11 22:19:30.000000000', 'files': ['roles/undercloud-deploy/tasks/gather-outputs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/80032da4f8d1d314c408425b093d8799f5657b0c', 'message': 'Collect the old and new path for outputs/passwords first\n\nNow that Idded7faba1ff6c811b94503c559029aeeaca6a06 has merged, passwords\nfor tripleo deploy are written to the consistent working directory, so\nboth the old and new locations need to be collected in our job logs.\n\nWe collect the new path first with first_found, since it will be the\ndefault path going forward.\n\nPartial-Bug: #1921975\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Iec4c477bf294514bbf9375fc77f44f5b37334bdb\n'}]",4,784077,80032da4f8d1d314c408425b093d8799f5657b0c,23,5,3,7144,,,0,"Collect the old and new path for outputs/passwords first

Now that Idded7faba1ff6c811b94503c559029aeeaca6a06 has merged, passwords
for tripleo deploy are written to the consistent working directory, so
both the old and new locations need to be collected in our job logs.

We collect the new path first with first_found, since it will be the
default path going forward.

Partial-Bug: #1921975
Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: Iec4c477bf294514bbf9375fc77f44f5b37334bdb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/77/784077/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/tasks/gather-outputs.yml'],1,3772aa438e7638f95e5334a016c0ee284884e2e6,," src: ""{{ working_dir }}/tripleo-deploy/undercloud/tripleo-undercloud-outputs.yaml"" src: ""{{ working_dir }}/tripleo-deploy/undercloud/tripleo-undercloud-passwords.yaml"""," src: ""{{ lookup('first_found', output_paths, errors='ignore') }}"" vars: output_paths: - ""{{ working_dir }}/tripleo-undercloud-outputs.yaml"" - ""{{ working_dir }}/tripleo-deploy/undercloud/tripleo-undercloud-outputs.yaml"" src: ""{{ lookup('first_found', password_paths, errors='ignore') }}"" vars: password_paths: - ""{{ working_dir }}/tripleo-undercloud-passwords.yaml"" - ""{{ working_dir }}/tripleo-deploy/undercloud/tripleo-undercloud-passwords.yaml""",2,10
openstack%2Fpython-tripleoclient~master~Ibec901441952ee3336ca3a6b7b4381c97d326d22,openstack/python-tripleoclient,master,Ibec901441952ee3336ca3a6b7b4381c97d326d22,"Revert ""Don't pass the DNSServers param in undercloud env""",ABANDONED,2021-05-20 18:29:43.000000000,2021-05-20 21:04:55.000000000,,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-20 18:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/02810ea4765a75ff21f1893fcb66202f5fc374ba', 'message': 'Revert ""Don\'t pass the DNSServers param in undercloud env""\n\nThis reverts commit f1450b3ae8036cfebdc1852ad11769e5585185d7.\n\nReason for revert: undercloud_nameservers is supposed to configured\n/etc/resolv.conf. The previous patch broke the link between the\nconfiguration and the os-net-config configuration to ensure that\n/etc/resolv.conf was updated at install time.\n\nChange-Id: Ibec901441952ee3336ca3a6b7b4381c97d326d22\n'}, {'number': 2, 'created': '2021-05-20 18:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/22d048f816754510d6c5b6e713b7169230da84ff', 'message': 'Revert ""Don\'t pass the DNSServers param in undercloud env""\n\nThis reverts commit f1450b3ae8036cfebdc1852ad11769e5585185d7.\n\nReason for revert: undercloud_nameservers is supposed to configured\n/etc/resolv.conf. The previous patch broke the link between the\nconfiguration and the os-net-config configuration to ensure that\n/etc/resolv.conf was updated at install time.\n\nCloses-Bug: #1929117\nChange-Id: Ibec901441952ee3336ca3a6b7b4381c97d326d22\n'}, {'number': 3, 'created': '2021-05-20 18:46:07.000000000', 'files': ['releasenotes/notes/per-subnet-nameservers-d53b5cdc6d099a6a.yaml', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/23d6c7eafccc3cf0dec36955fccd23f71578f63c', 'message': 'Revert ""Don\'t pass the DNSServers param in undercloud env""\n\nThis reverts commit f1450b3ae8036cfebdc1852ad11769e5585185d7.\n\nReason for revert: undercloud_nameservers is supposed to configured\n/etc/resolv.conf. The previous patch broke the link between the\nconfiguration and the os-net-config configuration to ensure that\n/etc/resolv.conf was updated at install time.\n\nCloses-Bug: #1929117\nChange-Id: Ibec901441952ee3336ca3a6b7b4381c97d326d22\n'}]",1,792292,23d6c7eafccc3cf0dec36955fccd23f71578f63c,11,7,3,14985,,,0,"Revert ""Don't pass the DNSServers param in undercloud env""

This reverts commit f1450b3ae8036cfebdc1852ad11769e5585185d7.

Reason for revert: undercloud_nameservers is supposed to configured
/etc/resolv.conf. The previous patch broke the link between the
configuration and the os-net-config configuration to ensure that
/etc/resolv.conf was updated at install time.

Closes-Bug: #1929117
Change-Id: Ibec901441952ee3336ca3a6b7b4381c97d326d22
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/92/792292/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/per-subnet-nameservers-d53b5cdc6d099a6a.yaml', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",3,02810ea4765a75ff21f1893fcb66202f5fc374ba,bug/1834306," 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11',",,14,6
openstack%2Foctavia-tempest-plugin~master~I4181a989514389ba18ff7874f8f4332f392d1189,openstack/octavia-tempest-plugin,master,I4181a989514389ba18ff7874f8f4332f392d1189,Move ubuntu jobs to focal,MERGED,2021-04-30 13:50:42.000000000,2021-05-20 21:01:54.000000000,2021-05-20 20:58:49.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-30 13:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b78f7e3a4a540271170bbb0a05f41ea34b2250cd', 'message': 'WIP Move ubuntu jobs to focal\n\nMove master and victoria jobs to ubuntu focal.\nussuri and train jobs still use bionic.\n\nChange-Id: I4181a989514389ba18ff7874f8f4332f392d1189\n'}, {'number': 2, 'created': '2021-04-30 16:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6fa05310f55bb6fe751499e0f1c83cc8f2e07b33', 'message': 'WIP Move ubuntu jobs to focal\n\nMove master and victoria jobs to ubuntu focal.\nussuri and train jobs still use bionic.\n\nChange-Id: I4181a989514389ba18ff7874f8f4332f392d1189\n'}, {'number': 3, 'created': '2021-05-05 06:54:23.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3079d00ee6d5f3b5eed61317e1802aeb97c04d45', 'message': 'Move ubuntu jobs to focal\n\nMove master and victoria jobs to ubuntu focal.\nussuri and train jobs still use bionic.\n\nChange-Id: I4181a989514389ba18ff7874f8f4332f392d1189\n'}]",3,788954,3079d00ee6d5f3b5eed61317e1802aeb97c04d45,29,5,3,29244,,,0,"Move ubuntu jobs to focal

Move master and victoria jobs to ubuntu focal.
ussuri and train jobs still use bionic.

Change-Id: I4181a989514389ba18ff7874f8f4332f392d1189
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/54/788954/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,b78f7e3a4a540271170bbb0a05f41ea34b2250cd,, name: octavia-single-node-ubuntu-focal nodes: - name: controller label: nested-virt-ubuntu-focal groups: - name: tempest nodes: - controller - nodeset: label: nested-virt-ubuntu-focal label: nested-virt-ubuntu-focal nodeset: octavia-single-node-ubuntu-focal nodeset: octavia-single-node-ubuntu-focal name: octavia-v2-dsvm-scenario-ubuntu-focal parent: octavia-v2-dsvm-scenario vars: devstack_localrc: OCTAVIA_AMP_BASE_OS: ubuntu OCTAVIA_AMP_DISTRIBUTION_RELEASE_ID: focal - job: nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic, label: nested-virt-ubuntu-bionic label: nested-virt-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic,28,4
openstack%2Fcharm-magpie~master~Icf0d7043de1f60fcb7dfcda8d12d2b9e8b27389d,openstack/charm-magpie,master,Icf0d7043de1f60fcb7dfcda8d12d2b9e8b27389d,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:09:45.000000000,2021-05-20 20:53:54.000000000,2021-05-20 20:53:54.000000000,"[{'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:09:45.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/d7e3c31e0220090269e5a775741ab6ceb7fef662', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: Icf0d7043de1f60fcb7dfcda8d12d2b9e8b27389d\n'}]",0,791195,d7e3c31e0220090269e5a775741ab6ceb7fef662,6,2,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Icf0d7043de1f60fcb7dfcda8d12d2b9e8b27389d
",git fetch https://review.opendev.org/openstack/charm-magpie refs/changes/95/791195/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,d7e3c31e0220090269e5a775741ab6ceb7fef662,batch-update,fa0649e2-b3eb-11eb-9d2f-5b1a6b010b2c,be9c1a46-64d9-11eb-b4a5-0f12fb17008b,1,1
openstack%2Ftripleo-repos~master~I8ae6215b8cf57049f17c9deea28be7d154ea39ce,openstack/tripleo-repos,master,I8ae6215b8cf57049f17c9deea28be7d154ea39ce,add stein and queens to config,MERGED,2021-05-17 17:38:44.000000000,2021-05-20 20:24:11.000000000,2021-05-20 20:24:11.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 17:38:44.000000000', 'files': ['tripleo-get-hash/config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/6bf179989db05317a02efe83fb18a999d36634f8', 'message': 'add stein and queens to config\n\ntripleo-get-hash --os-version centos7 --release queens\ntripleo-get-hash - INFO - Using config file at /etc/tripleo_get_hash/config.yaml\nos_version: centos7,\nrelease: queens,\ncomponent: None,\ntag: current-tripleo,\ndlrn_url: https://trunk.rdoproject.org/centos7-queens/current-tripleo/commit.yaml,\nfull_hash: e302f1b9617e568a32abfd3b4bb758c5040c3d84_66bf2511,\ncommit_hash: e302f1b9617e568a32abfd3b4bb758c5040c3d84,\ndistro_hash: 66bf251101c9c0080e03af95c25a2df03d13eb67,\nextended_hash: None\n\nChange-Id: I8ae6215b8cf57049f17c9deea28be7d154ea39ce\n'}]",1,791810,6bf179989db05317a02efe83fb18a999d36634f8,7,3,1,9592,,,0,"add stein and queens to config

tripleo-get-hash --os-version centos7 --release queens
tripleo-get-hash - INFO - Using config file at /etc/tripleo_get_hash/config.yaml
os_version: centos7,
release: queens,
component: None,
tag: current-tripleo,
dlrn_url: https://trunk.rdoproject.org/centos7-queens/current-tripleo/commit.yaml,
full_hash: e302f1b9617e568a32abfd3b4bb758c5040c3d84_66bf2511,
commit_hash: e302f1b9617e568a32abfd3b4bb758c5040c3d84,
distro_hash: 66bf251101c9c0080e03af95c25a2df03d13eb67,
extended_hash: None

Change-Id: I8ae6215b8cf57049f17c9deea28be7d154ea39ce
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/10/791810/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo-get-hash/config.yaml'],1,6bf179989db05317a02efe83fb18a999d36634f8,, - stein - queens,,2,0
openstack%2Fpuppet-vswitch~stable%2Ftrain~I53d0fcd7fe1edbd41ff72ddb7181b81ba78ed1c7,openstack/puppet-vswitch,stable/train,I53d0fcd7fe1edbd41ff72ddb7181b81ba78ed1c7,Prepare the final stable/train release,MERGED,2021-05-14 07:07:04.000000000,2021-05-20 20:16:12.000000000,2021-05-20 20:16:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 07:07:04.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/5d96dab6b86890db1a3528047d723aa3f3171d7e', 'message': 'Prepare the final stable/train release\n\nThe stable/train is entering in extended manitenance. Because we have\nseveal changes merged since the last release, a new release should be\ncreated before that.\n\nDepends-on: https://review.opendev.org/791063\nChange-Id: I53d0fcd7fe1edbd41ff72ddb7181b81ba78ed1c7\n'}]",0,791376,5d96dab6b86890db1a3528047d723aa3f3171d7e,7,3,1,9816,,,0,"Prepare the final stable/train release

The stable/train is entering in extended manitenance. Because we have
seveal changes merged since the last release, a new release should be
created before that.

Depends-on: https://review.opendev.org/791063
Change-Id: I53d0fcd7fe1edbd41ff72ddb7181b81ba78ed1c7
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/76/791376/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,5d96dab6b86890db1a3528047d723aa3f3171d7e,t-release," ""version_requirement"": "">=15.5.0 <16.0.0"" ""version"": ""11.5.0"""," ""version_requirement"": "">=15.4.0 <16.0.0"" ""version"": ""11.4.0""",2,2
openstack%2Ftripleo-ci-health-queries~master~I57e4b05e199ded91b5ab26fa4054d6bbf1192fd2,openstack/tripleo-ci-health-queries,master,I57e4b05e199ded91b5ab26fa4054d6bbf1192fd2,Make test_results folder visible in zuul,MERGED,2021-05-06 13:30:22.000000000,2021-05-20 19:42:50.000000000,2021-05-20 19:42:50.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-05-06 13:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/870e578b853b81df7f00b1a206a2aea720c43089', 'message': 'WIP: Adds post run tasks\n\nThis patch adds post run tasks to add\ntest result log files[1] to the node\n\n[1] sova.log, test_results/*\n\nChange-Id: I57e4b05e199ded91b5ab26fa4054d6bbf1192fd2\n'}, {'number': 2, 'created': '2021-05-19 12:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/074e2787f5946aa063c2aaa6db8db6801358818a', 'message': 'WIP: Adds post run tasks\n\nThis patch adds post run tasks to add\ntest result log files[1] to the node\n\n[1] sova.log, test_results/*\n\nChange-Id: I57e4b05e199ded91b5ab26fa4054d6bbf1192fd2\n'}, {'number': 3, 'created': '2021-05-19 12:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/c9c7aee5b49d8b1efd37a5595c3bf3bb829c71d7', 'message': 'WIP: Adds post run tasks\n\nThis patch adds post run tasks to add\ntest result log files[1] to the node\n\n[1] sova.log, test_results/*\n\nChange-Id: I57e4b05e199ded91b5ab26fa4054d6bbf1192fd2\n'}, {'number': 4, 'created': '2021-05-19 12:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/3e60736d4fd65b252df41e62aca603b20e2e0695', 'message': 'WIP: Adds post run tasks\n\nThis patch adds post run tasks to add\ntest result log files[1] to the node\n\n[1] sova.log, test_results/*\n\nChange-Id: I57e4b05e199ded91b5ab26fa4054d6bbf1192fd2\n'}, {'number': 5, 'created': '2021-05-19 13:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/98daef0bc79a182ab0e458e944925b9fe734d1a9', 'message': 'WIP: Adds post run tasks\n\nThis patch adds post run tasks to add\ntest result log files[1] to the node\n\n[1] sova.log, test_results/*\n\nChange-Id: I57e4b05e199ded91b5ab26fa4054d6bbf1192fd2\n'}, {'number': 6, 'created': '2021-05-19 18:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/cbc558e44618b65ef0e73b8a8401b5a9610bc2b1', 'message': 'WIP: Adds post run tasks\n\nThis patch adds post run tasks to add\ntest result log files[1] to the node\n\n[1] sova.log, test_results/*\n\nChange-Id: I57e4b05e199ded91b5ab26fa4054d6bbf1192fd2\n'}, {'number': 7, 'created': '2021-05-19 18:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/4e7ef1bf0145a955b7a718c340b8b688e2e480e9', 'message': 'WIP: Adds post run tasks\n\nThis patch adds post run tasks to add\ntest result log files[1] to the node\n\n[1] sova.log, test_results/*\n\nChange-Id: I57e4b05e199ded91b5ab26fa4054d6bbf1192fd2\n'}, {'number': 8, 'created': '2021-05-19 19:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/c36c8708bfd225916e8ac53ee14fbf3990c1fb86', 'message': 'WIP: Adds post run tasks\n\nThis patch adds post run tasks to add\ntest result log files[1] to the node\n\n[1] sova.log, test_results/*\n\nChange-Id: I57e4b05e199ded91b5ab26fa4054d6bbf1192fd2\n'}, {'number': 9, 'created': '2021-05-20 05:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/710218ae8fa7d5086c6ceba23e6335ced91b9cfb', 'message': 'WIP: Adds post run tasks\n\nThis patch adds post run tasks to add\ntest result log files[1] to the node\n\n[1] sova.log, test_results/*\n\nDepends-On: https://review.opendev.org/c/opendev/elastic-recheck/+/792259\n\nChange-Id: I57e4b05e199ded91b5ab26fa4054d6bbf1192fd2\n'}, {'number': 10, 'created': '2021-05-20 14:38:21.000000000', 'files': ['playbooks/sova.yml', 'playbooks/er.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/b5e608ae8ad2d1768b3cd1a5fe054c05460b48c3', 'message': 'Make test_results folder visible in zuul\n\nThis patch moves test result logs [1] to tox folder [2]\nso that it is automatically added to the list of log files by zuul\n\n[1] sova.log, test_results/*\n[2] .tox/<envname>/log\n\nChange-Id: I57e4b05e199ded91b5ab26fa4054d6bbf1192fd2\n'}]",0,790065,b5e608ae8ad2d1768b3cd1a5fe054c05460b48c3,28,4,10,32458,,,0,"Make test_results folder visible in zuul

This patch moves test result logs [1] to tox folder [2]
so that it is automatically added to the list of log files by zuul

[1] sova.log, test_results/*
[2] .tox/<envname>/log

Change-Id: I57e4b05e199ded91b5ab26fa4054d6bbf1192fd2
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/65/790065/8 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/post.yml'],1,870e578b853b81df7f00b1a206a2aea720c43089,post_tasks,"--- - name: Copy log files to node hosts: localhost connection: local gather_facts: true tasks: - name: Copy log files to node copy: src: ""{ item }}"" dest: '{{ zuul.executor.log_root }}' with_items: - sova.log - ../test_results/ ",,13,0
openstack%2Fdesignate-tempest-plugin~master~Ib3df68a172b938b038932e4b2c85574fe1b0dcaa,openstack/designate-tempest-plugin,master,Ib3df68a172b938b038932e4b2c85574fe1b0dcaa,"New test cases for ""zone transfer accept"" suite.",MERGED,2021-04-20 14:59:07.000000000,2021-05-20 19:33:02.000000000,2021-05-20 19:31:44.000000000,"[{'_account_id': 6994}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29681}]","[{'number': 1, 'created': '2021-04-20 14:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/d4f5cad02224ec4517af8bb24499068e495ce6b6', 'message': 'New tests to accept transfer ownership\n\nChange-Id: Ib3df68a172b938b038932e4b2c85574fe1b0dcaa\n'}, {'number': 2, 'created': '2021-04-20 16:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/a9030d343366256f2e36a89f258904ad8db05345', 'message': 'New tests to accept transfer ownership\n\nChange-Id: Ib3df68a172b938b038932e4b2c85574fe1b0dcaa\n'}, {'number': 3, 'created': '2021-04-22 10:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/dafdf888f20829ca86743876f97e173cd79b6a30', 'message': 'New test cases for ""zone transfer accept"" suite.\n\n1) ""test_create_transfer_accept_using_invalid_key""\n   Try to accept zone transfer using invalid key.\n   Expected: 403 Forbidden\n\n2) ""test_create_transfer_accept_using_deleted_transfer_request_id""\n   Try to use deleted transfer request ID, to accept zone ownership\n   transfer. Expected: 404 NotFound\n\n3) ""test_show_transfer_accept_impersonate_another_project""\n    Use Admin tenant + ""x-auth-sudo-project-id"" HTTP header,\n    to impersonate another project to ""show"" its zone\n    transfer accept.\n\n4) ""test_list_transfer_accepts""\n    This test covers ""List transfer accepts for both tenants:\n    1. Target tenant (Primary client) that is accepted zone transfer.\n       There is an old bug on that:\n       https://bugs.launchpad.net/designate/+bug/1627941\n    2. Admin tenant (Admin client) + ""x-auth-all-project:True""\n       HTTP header in request. New bug is opened on that:\n       https://bugs.launchpad.net/designate/+bug/1925458\n\nChange-Id: Ib3df68a172b938b038932e4b2c85574fe1b0dcaa\n'}, {'number': 4, 'created': '2021-04-29 08:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/d5195ffa4bf8b0c52e1b5d40f5f93de7ba96c5cb', 'message': 'New test cases for ""zone transfer accept"" suite.\n\n1) ""test_create_transfer_accept_using_invalid_key""\n   Try to accept zone transfer using invalid key.\n   Expected: 403 Forbidden\n\n2) ""test_create_transfer_accept_using_deleted_transfer_request_id""\n   Try to use deleted transfer request ID, to accept zone ownership\n   transfer. Expected: 404 NotFound\n\n3) ""test_show_transfer_accept_impersonate_another_project""\n    Use Admin tenant + ""x-auth-sudo-project-id"" HTTP header,\n    to impersonate another project to ""show"" its zone\n    transfer accept.\n\n4) ""test_list_transfer_accepts""\n    This test covers ""List transfer accepts for both tenants:\n    1. Target tenant (Primary client) that is accepted zone transfer.\n       There is an old bug on that:\n       https://bugs.launchpad.net/designate/+bug/1627941\n    2. Admin tenant (Admin client) + ""x-auth-all-project:True""\n       HTTP header in request. New bug is opened on that:\n       https://bugs.launchpad.net/designate/+bug/1925458\n\nChange-Id: Ib3df68a172b938b038932e4b2c85574fe1b0dcaa\n'}, {'number': 5, 'created': '2021-04-29 19:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0eb17fdf43453e9f9a24d66d43eabdefc5044921', 'message': 'New test cases for ""zone transfer accept"" suite.\n\n1) ""test_create_transfer_accept_using_invalid_key""\n   Try to accept zone transfer using invalid key.\n   Expected: 403 Forbidden\n\n2) ""test_create_transfer_accept_using_deleted_transfer_request_id""\n   Try to use deleted transfer request ID, to accept zone ownership\n   transfer. Expected: 404 NotFound\n\n3) ""test_show_transfer_accept_impersonate_another_project""\n    Use Admin tenant + ""x-auth-sudo-project-id"" HTTP header,\n    to impersonate another project to ""show"" its zone\n    transfer accept.\n\n4) ""test_list_transfer_accepts""\n    This test covers ""List transfer accepts for both tenants:\n    1. Target tenant (Primary client) that is accepted zone transfer.\n       There is an old bug on that:\n       https://bugs.launchpad.net/designate/+bug/1627941\n    2. Admin tenant (Admin client) + ""x-auth-all-project:True""\n       HTTP header in request. New bug is opened on that:\n       https://bugs.launchpad.net/designate/+bug/1925458\n\nChange-Id: Ib3df68a172b938b038932e4b2c85574fe1b0dcaa\n'}, {'number': 6, 'created': '2021-05-03 08:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/1ce36248c6b7967bc0805557e9c36f2531ea4f08', 'message': 'New test cases for ""zone transfer accept"" suite.\n\n1) ""test_create_transfer_accept_using_invalid_key""\n   Try to accept zone transfer using invalid key.\n   Expected: 403 Forbidden\n\n2) ""test_create_transfer_accept_using_deleted_transfer_request_id""\n   Try to use deleted transfer request ID, to accept zone ownership\n   transfer. Expected: 404 NotFound\n\n3) ""test_show_transfer_accept_impersonate_another_project""\n    Use Admin tenant + ""x-auth-sudo-project-id"" HTTP header,\n    to impersonate another project to ""show"" its zone\n    transfer accept.\n\n4) ""test_list_transfer_accepts""\n    This test covers ""List transfer accepts for both tenants:\n    1. Target tenant (Primary client) that is accepted zone transfer.\n       There is an old bug on that:\n       https://bugs.launchpad.net/designate/+bug/1627941\n    2. Admin tenant (Admin client) + ""x-auth-all-project:True""\n       HTTP header in request. New bug is opened on that:\n       https://bugs.launchpad.net/designate/+bug/1925458\n\nChange-Id: Ib3df68a172b938b038932e4b2c85574fe1b0dcaa\n'}, {'number': 7, 'created': '2021-05-04 12:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/97d78103917f161b0df7f282a576e4bfe9df17f0', 'message': 'New test cases for ""zone transfer accept"" suite.\n\n1) ""test_create_transfer_accept_using_invalid_key""\n   Try to accept zone transfer using invalid key.\n   Expected: 403 Forbidden\n\n2) ""test_create_transfer_accept_using_deleted_transfer_request_id""\n   Try to use deleted transfer request ID, to accept zone ownership\n   transfer. Expected: 404 NotFound\n\n3) ""test_show_transfer_accept_impersonate_another_project""\n    Use Admin tenant + ""x-auth-sudo-project-id"" HTTP header,\n    to impersonate another project to ""show"" its zone\n    transfer accept.\n\nChange-Id: Ib3df68a172b938b038932e4b2c85574fe1b0dcaa\n'}, {'number': 8, 'created': '2021-05-17 06:27:29.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_transfer_accepts.py', 'designate_tempest_plugin/services/dns/v2/json/zones_client.py', 'designate_tempest_plugin/services/dns/v2/json/transfer_accepts_client.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/474df5c18b1ac40b6bb56618f39ad0b9b140e66a', 'message': 'New test cases for ""zone transfer accept"" suite.\n\n1) ""test_create_transfer_accept_using_invalid_key""\n   Try to accept zone transfer using invalid key.\n   Expected: 403 Forbidden\n\n2) ""test_create_transfer_accept_using_deleted_transfer_request_id""\n   Try to use deleted transfer request ID, to accept zone ownership\n   transfer. Expected: 404 NotFound\n\n3) ""test_show_transfer_accept_impersonate_another_project""\n    Use Admin tenant + ""x-auth-sudo-project-id"" HTTP header,\n    to impersonate another project to ""show"" its zone\n    transfer accept.\n\nChange-Id: Ib3df68a172b938b038932e4b2c85574fe1b0dcaa\n'}]",5,787209,474df5c18b1ac40b6bb56618f39ad0b9b140e66a,39,8,8,28609,,,0,"New test cases for ""zone transfer accept"" suite.

1) ""test_create_transfer_accept_using_invalid_key""
   Try to accept zone transfer using invalid key.
   Expected: 403 Forbidden

2) ""test_create_transfer_accept_using_deleted_transfer_request_id""
   Try to use deleted transfer request ID, to accept zone ownership
   transfer. Expected: 404 NotFound

3) ""test_show_transfer_accept_impersonate_another_project""
    Use Admin tenant + ""x-auth-sudo-project-id"" HTTP header,
    to impersonate another project to ""show"" its zone
    transfer accept.

Change-Id: Ib3df68a172b938b038932e4b2c85574fe1b0dcaa
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/09/787209/8 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/test_transfer_accepts.py', 'designate_tempest_plugin/services/dns/v2/json/transfer_accepts_client.py']",2,d4f5cad02224ec4517af8bb24499068e495ce6b6,ownershipt_accept," params=None, headers=None): :param headers (dict): The headers to use for the request. transfer_accept_uri, transfer_accept_data, params=params, headers=headers) def show_transfer_accept(self, uuid, params=None, headers=None): :param headers (dict): The headers to use for the request. 'zones/tasks/transfer_accepts', uuid, params=params, headers=headers) @base.handle_errors def list_transfer_accepts(self, params=None, headers=None): """"""Gets a list of accepted zone transfers. :param params: A Python dict that represents the query paramaters to include in the accept URI. :param headers (dict): The headers to use for the request. :return: Serialized accepted zone transfers as a dictionary. """""" return self._list_request( resource='zones/tasks/transfer_accepts', headers=headers, params=params)[1]['transfer_accepts']"," params=None): transfer_accept_uri, transfer_accept_data, params=params) def show_transfer_accept(self, uuid, params=None): 'zones/tasks/transfer_accepts', uuid, params=params)",135,4
openstack%2Fxstatic-angular~master~I8238e020df05825f6731499d027c0fd12cc2c00d,openstack/xstatic-angular,master,I8238e020df05825f6731499d027c0fd12cc2c00d,Update XStatic-Angular to 1.8.2,MERGED,2021-05-07 18:48:52.000000000,2021-05-20 19:30:50.000000000,2021-05-20 19:30:50.000000000,"[{'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-07 18:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/xstatic-angular/commit/99aac6fb15010e2f0468fd3f679c33228e916668', 'message': '[WIP] Update XStatic-Angular to 1.8.2\n\nChange-Id: I8238e020df05825f6731499d027c0fd12cc2c00d\n'}, {'number': 2, 'created': '2021-05-10 14:07:41.000000000', 'files': ['xstatic/pkg/angular/data/version.json', 'xstatic/pkg/angular/__init__.py', 'xstatic/pkg/angular/data/angular-scenario.js', 'xstatic/pkg/angular/data/angular-loader.js', 'xstatic/pkg/angular/data/version.txt', 'xstatic/pkg/angular/data/angular-messages.js', 'xstatic/pkg/angular/data/angular-route.js', 'xstatic/pkg/angular/data/angular-aria.js', 'xstatic/pkg/angular/data/angular.js', 'xstatic/pkg/angular/data/errors.json', 'xstatic/pkg/angular/data/angular-mocks.js', 'xstatic/pkg/angular/data/angular-sanitize.js', 'xstatic/pkg/angular/data/angular-animate.js', 'xstatic/pkg/angular/data/angular-resource.js', 'xstatic/pkg/angular/data/angular-cookies.js', 'xstatic/pkg/angular/data/angular-message-format.js', 'xstatic/pkg/angular/data/angular-touch.js', 'xstatic/pkg/angular/data/angular-parse-ext.js'], 'web_link': 'https://opendev.org/openstack/xstatic-angular/commit/030dabe17221db7b760c3cea40740a506369f97d', 'message': 'Update XStatic-Angular to 1.8.2\n\nRelated-Bug: #1927261\n\nChange-Id: I8238e020df05825f6731499d027c0fd12cc2c00d\n'}]",0,790293,030dabe17221db7b760c3cea40740a506369f97d,10,4,2,29313,,,0,"Update XStatic-Angular to 1.8.2

Related-Bug: #1927261

Change-Id: I8238e020df05825f6731499d027c0fd12cc2c00d
",git fetch https://review.opendev.org/openstack/xstatic-angular refs/changes/93/790293/1 && git format-patch -1 --stdout FETCH_HEAD,"['xstatic/pkg/angular/data/version.json', 'xstatic/pkg/angular/__init__.py', 'xstatic/pkg/angular/data/angular-loader.js', 'xstatic/pkg/angular/data/version.txt', 'xstatic/pkg/angular/data/angular-messages.js', 'xstatic/pkg/angular/data/angular-route.js', 'xstatic/pkg/angular/data/angular-aria.js', 'xstatic/pkg/angular/data/angular.js', 'xstatic/pkg/angular/data/errors.json', 'xstatic/pkg/angular/data/angular-mocks.js', 'xstatic/pkg/angular/data/angular-sanitize.js', 'xstatic/pkg/angular/data/angular-animate.js', 'xstatic/pkg/angular/data/angular-resource.js', 'xstatic/pkg/angular/data/angular-cookies.js', 'xstatic/pkg/angular/data/angular-message-format.js', 'xstatic/pkg/angular/data/angular-touch.js', 'xstatic/pkg/angular/data/angular-parse-ext.js']",17,99aac6fb15010e2f0468fd3f679c33228e916668,," * @license AngularJS v1.8.2 * (c) 2010-2020 Google, Inc. http://angularjs.org/* eslint-disable new-cap */ * * identifiers inside AngularJS expressions. * to be used as an identifier in an AngularJS expression. ES6 delegates some of the identifier * <div class=""alert alert-warning""> * You cannot use Unicode characters for variable names in the {@link ngRepeat} or {@link ngOptions} * expressions (e.g. `ng-repeat=""f in поля""`), because even with `ngParseExt` included, these * special expressions are not parsed by the {@link $parse} service. * </div> }]) .info({ angularVersion: '""1.8.2""' });"," * @license AngularJS v1.5.8 * (c) 2010-2016 Google, Inc. http://angularjs.org * # ngParseExt * * identifiers inside Angular expressions. * * * <div doc-module-components=""ngParseExt""></div> * to be used as an identifier in an Angular expression. ES6 delegates some of the identifier }]);",7659,15153
openstack%2Faodh~master~I3677fddb70b4b2b0452e37a2a512997e7e4b5f0c,openstack/aodh,master,I3677fddb70b4b2b0452e37a2a512997e7e4b5f0c,sqlalchemy is used but not declared,MERGED,2021-05-19 09:16:33.000000000,2021-05-20 19:28:38.000000000,2021-05-20 19:27:11.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 09:16:33.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/aodh/commit/95d616dc90207b1179d70fe054047727257bd075', 'message': 'sqlalchemy is used but not declared\n\nin requirements.\n\nIt is used e.g. in\naodh/storage/sqlalchemy/models.py\n\nChange-Id: I3677fddb70b4b2b0452e37a2a512997e7e4b5f0c\n'}]",0,792094,95d616dc90207b1179d70fe054047727257bd075,7,2,1,4264,,,0,"sqlalchemy is used but not declared

in requirements.

It is used e.g. in
aodh/storage/sqlalchemy/models.py

Change-Id: I3677fddb70b4b2b0452e37a2a512997e7e4b5f0c
",git fetch https://review.opendev.org/openstack/aodh refs/changes/94/792094/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,95d616dc90207b1179d70fe054047727257bd075,requirements,sqlalchemy,,1,0
openstack%2Fpython-tripleoclient~master~I6e2e728d9e749867be0a90a4e54dce7b5318994c,openstack/python-tripleoclient,master,I6e2e728d9e749867be0a90a4e54dce7b5318994c,Don't pass the DNSServers param in undercloud env,MERGED,2019-06-25 15:07:23.000000000,2021-05-20 18:29:43.000000000,2019-07-03 12:12:21.000000000,"[{'_account_id': 6926}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-25 15:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/90552231bc141edb896f5ffb708bfc6348409fa7', 'message': ""Don't pass the DNSServers param in undercloud env\n\nChange I4c102d8f728a90cf9eb90f6129738377a8d2503c\nreplaced use of the global DNSServers param, it now\nuses the per-subnet DnsNameServers instead.\n\nThis is a cleanup to remote the now unused parameter.\n\nDepends-On: I4c102d8f728a90cf9eb90f6129738377a8d2503c\nChange-Id: I6e2e728d9e749867be0a90a4e54dce7b5318994c\n""}, {'number': 2, 'created': '2019-06-26 14:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d762a9df6d3825f0319102fd4697b720a2d2dccc', 'message': ""Don't pass the DNSServers param in undercloud env\n\nChange I4c102d8f728a90cf9eb90f6129738377a8d2503c\nreplaced use of the global DNSServers param, it now\nuses the per-subnet DnsNameServers instead.\n\nThis is a cleanup to remote the now unused parameter.\n\nCloses-Bug: #1834306\nDepends-On: I4c102d8f728a90cf9eb90f6129738377a8d2503c\nChange-Id: I6e2e728d9e749867be0a90a4e54dce7b5318994c\n""}, {'number': 3, 'created': '2019-06-27 09:16:36.000000000', 'files': ['releasenotes/notes/per-subnet-nameservers-d53b5cdc6d099a6a.yaml', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f1450b3ae8036cfebdc1852ad11769e5585185d7', 'message': ""Don't pass the DNSServers param in undercloud env\n\nChange I4c102d8f728a90cf9eb90f6129738377a8d2503c\nreplaced use of the global DNSServers param, it now\nuses the per-subnet DnsNameServers instead.\n\nThis is a cleanup to remove the now unused parameter.\n\nCloses-Bug: #1834306\nDepends-On: I4c102d8f728a90cf9eb90f6129738377a8d2503c\nChange-Id: I6e2e728d9e749867be0a90a4e54dce7b5318994c\n""}]",3,667382,f1450b3ae8036cfebdc1852ad11769e5585185d7,26,6,3,24245,,,0,"Don't pass the DNSServers param in undercloud env

Change I4c102d8f728a90cf9eb90f6129738377a8d2503c
replaced use of the global DNSServers param, it now
uses the per-subnet DnsNameServers instead.

This is a cleanup to remove the now unused parameter.

Closes-Bug: #1834306
Depends-On: I4c102d8f728a90cf9eb90f6129738377a8d2503c
Change-Id: I6e2e728d9e749867be0a90a4e54dce7b5318994c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/82/667382/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,90552231bc141edb896f5ffb708bfc6348409fa7,bug/1834306,," 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11',",0,14
openstack%2Fgrenade~master~Ie558d45374f92f79942b80a9c27fd393ad4f4761,openstack/grenade,master,Ie558d45374f92f79942b80a9c27fd393ad4f4761,Use Block Storage API v3,MERGED,2021-05-20 13:50:57.000000000,2021-05-20 18:23:47.000000000,2021-05-20 18:22:29.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-20 13:50:57.000000000', 'files': ['projects/70_cinder/resources.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/e3cf221066f5a9aa9f760e396353cd6686075730', 'message': 'Use Block Storage API v3\n\nThe openstackclient has defaulted to using the v3 API since 4.0.0 [0],\nso there is no reason for grenade to insist on using v2, especially since\nv2 is being removed in Xena [1].\n\n[0] https://opendev.org/openstack/python-openstackclient/commit/a96089ff6d54237a9e058dc1c7e6fc7e25695ecb\n[1] https://review.opendev.org/c/openstack/cinder/+/792299\n\nChange-Id: Ie558d45374f92f79942b80a9c27fd393ad4f4761\n'}]",0,792382,e3cf221066f5a9aa9f760e396353cd6686075730,8,3,1,5314,,,0,"Use Block Storage API v3

The openstackclient has defaulted to using the v3 API since 4.0.0 [0],
so there is no reason for grenade to insist on using v2, especially since
v2 is being removed in Xena [1].

[0] https://opendev.org/openstack/python-openstackclient/commit/a96089ff6d54237a9e058dc1c7e6fc7e25695ecb
[1] https://review.opendev.org/c/openstack/cinder/+/792299

Change-Id: Ie558d45374f92f79942b80a9c27fd393ad4f4761
",git fetch https://review.opendev.org/openstack/grenade refs/changes/82/792382/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/70_cinder/resources.sh'],1,e3cf221066f5a9aa9f760e396353cd6686075730,drop-cinder-v2,# Block Storage API v2 was deprecated in Pike and removed in Xena export OS_VOLUME_API_VERSION=3,# BUG openstack client doesn't work with cinder v3 export OS_VOLUME_API_VERSION=2,2,2
openstack%2Ftripleo-heat-templates~master~I28a1a9f32d010bcdcc8e809530247b8c484c2226,openstack/tripleo-heat-templates,master,I28a1a9f32d010bcdcc8e809530247b8c484c2226,WIP add unbound resolver port to share host with bind,ABANDONED,2021-04-09 17:35:16.000000000,2021-05-20 18:07:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-09 17:35:16.000000000', 'files': ['deployment/unbound/unbound-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3d3fe66249dc6cc031ce445b1cbdafa7c3b9450', 'message': 'WIP add unbound resolver port to share host with bind\n\nIn designate deployments, the unbound resolver and bind might live on\nthe same host. This patch creates an extra port on the network being\nused as the public API network so unbound can be configured to bind to\nit.\n\nChange-Id: I28a1a9f32d010bcdcc8e809530247b8c484c2226\n'}]",0,785687,f3d3fe66249dc6cc031ce445b1cbdafa7c3b9450,4,2,1,6681,,,0,"WIP add unbound resolver port to share host with bind

In designate deployments, the unbound resolver and bind might live on
the same host. This patch creates an extra port on the network being
used as the public API network so unbound can be configured to bind to
it.

Change-Id: I28a1a9f32d010bcdcc8e809530247b8c484c2226
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/785687/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/unbound/unbound-container-ansible.yaml'],1,f3d3fe66249dc6cc031ce445b1cbdafa7c3b9450,designate," RootStackName: description: The name of the stack/plan. type: string PortDeletionPolicy: description: > Whether to retain or delete the neutron port resource on deletion of the stack type: string default: delete constraints: - allowed_values: [delete, retain] conditions: public_net_is_ctlplane: equals: - {get_param: [ServiceData, net_vip_map, {get_param: [ServiceNetMap, UnboundNetwork]}]} - {get_param: [ServiceData, net_vip_map, ctlplane]} UnboundResolverPublicPort: type: OS::Neutron::Port deletion_policy: {get_param: PortDeletionPolicy} properties: network: if: - public_net_is_ctlplane - ctlplane - {get_param: [ServiceNetMap, UnboundNetwork]} tags: - unbound-resolver-port tripleo_unbound_bind_address: {get_attr: [UnboundResolverPublicPort, fixed_ips, 0, ip_address]}",,33,0
openstack%2Fpuppet-cinder~stable%2Frocky~If3f3f230aae7e04a774c967e1786561d70e43e50,openstack/puppet-cinder,stable/rocky,If3f3f230aae7e04a774c967e1786561d70e43e50,Expose vhost_custom_fragment,MERGED,2021-05-11 21:22:16.000000000,2021-05-20 18:04:37.000000000,2021-05-20 18:04:37.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2021-05-11 21:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/d63f0254c4ada088004e79b644a8f67b4efde251', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Cinder service.\n\nChange-Id: If3f3f230aae7e04a774c967e1786561d70e43e50\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 1fa7a69e9b9300c1c228f872ba3e37f0210f17dd)\n(cherry picked from commit 61e773f49c7e5265b0e26290e43ba61b11649404)\n(cherry picked from commit ff571a93c796af5af2f8b6779db7d071d65d4e2f)\n(cherry picked from commit a95a91b4ed026837e1f0b6137a15f1d6b4bc937f)\n""}, {'number': 2, 'created': '2021-05-17 12:51:10.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/classes/cinder_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/a633d3a5b0e18003a89ecd92ab0023732abfdd48', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Cinder service.\n\nChange-Id: If3f3f230aae7e04a774c967e1786561d70e43e50\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 1fa7a69e9b9300c1c228f872ba3e37f0210f17dd)\n(cherry picked from commit 61e773f49c7e5265b0e26290e43ba61b11649404)\n(cherry picked from commit ff571a93c796af5af2f8b6779db7d071d65d4e2f)\n(cherry picked from commit a95a91b4ed026837e1f0b6137a15f1d6b4bc937f)\n""}]",0,790825,a633d3a5b0e18003a89ecd92ab0023732abfdd48,22,6,2,21129,,,0,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Cinder service.

Change-Id: If3f3f230aae7e04a774c967e1786561d70e43e50
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 1fa7a69e9b9300c1c228f872ba3e37f0210f17dd)
(cherry picked from commit 61e773f49c7e5265b0e26290e43ba61b11649404)
(cherry picked from commit ff571a93c796af5af2f8b6779db7d071d65d4e2f)
(cherry picked from commit a95a91b4ed026837e1f0b6137a15f1d6b4bc937f)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/25/790825/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/classes/cinder_wsgi_apache_spec.rb']",2,d63f0254c4ada088004e79b644a8f67b4efde251,vhost_custom," :vhost_custom_fragment => 'Timeout 99', :vhost_custom_fragment => 'Timeout 99',",,9,0
openstack%2Ftripleo-operator-ansible~master~I6c7d5876d7de70b74e202ceb1940eb4324c4e573,openstack/tripleo-operator-ansible,master,I6c7d5876d7de70b74e202ceb1940eb4324c4e573,tripleo_repo: add missing >- to remove trailing \n,MERGED,2021-05-20 15:14:20.000000000,2021-05-20 18:00:10.000000000,2021-05-20 18:00:10.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 15:14:20.000000000', 'files': ['roles/tripleo_repos/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/c1527ca9fcd5d2a50af896e2335b0af992d7a94b', 'message': 'tripleo_repo: add missing >- to remove trailing \\n\n\nI forgot it in my previous commit, we need >- and not > to remove\ntraining characters.\n\nChange-Id: I6c7d5876d7de70b74e202ceb1940eb4324c4e573\n'}]",0,792399,c1527ca9fcd5d2a50af896e2335b0af992d7a94b,7,2,1,3153,,,0,"tripleo_repo: add missing >- to remove trailing \n

I forgot it in my previous commit, we need >- and not > to remove
training characters.

Change-Id: I6c7d5876d7de70b74e202ceb1940eb4324c4e573
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/99/792399/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo_repos/tasks/install.yml'],1,c1527ca9fcd5d2a50af896e2335b0af992d7a94b,fix, _tripleo_repos_repo_url: >-, _tripleo_repos_repo_url: >,1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74,openstack/tripleo-heat-templates,stable/ussuri,I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74,Run update tasks with become,MERGED,2021-04-27 14:11:41.000000000,2021-05-20 17:53:44.000000000,2021-05-20 17:53:44.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-04-27 14:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d71953362a4027ae81519aa81550325c3020ef8', 'message': 'Run update tasks with become\n\nMake it aligned with the upgrade tasks, what uses become as well\n\nChange-Id: I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit dc52f3c9498e4f0fb8dcc685f2ebd14b43d2f992)\n'}, {'number': 2, 'created': '2021-05-05 14:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ffe124458df894620332dbaa3992d77dc6806df', 'message': 'Run update tasks with become\n\nMake it aligned with the upgrade tasks, what uses become as well\n\nChange-Id: I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit dc52f3c9498e4f0fb8dcc685f2ebd14b43d2f992)\n'}, {'number': 3, 'created': '2021-05-19 07:48:07.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/976a5e905ba9787573a668e4f67854c009cc9caf', 'message': 'Run update tasks with become\n\nMake it aligned with the upgrade tasks, what uses become as well\n\nChange-Id: I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit dc52f3c9498e4f0fb8dcc685f2ebd14b43d2f992)\n'}]",0,788262,976a5e905ba9787573a668e4f67854c009cc9caf,25,5,3,6926,,,0,"Run update tasks with become

Make it aligned with the upgrade tasks, what uses become as well

Change-Id: I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit dc52f3c9498e4f0fb8dcc685f2ebd14b43d2f992)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/788262/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,9d71953362a4027ae81519aa81550325c3020ef8,, become: true,,1,0
openstack%2Fcinder~master~Id13d39576fb87020dc0a5a47949ed6d8364fef9b,openstack/cinder,master,Id13d39576fb87020dc0a5a47949ed6d8364fef9b,Add a test case that ensures a quota usage is returned,ABANDONED,2013-03-04 16:09:57.000000000,2021-05-20 17:51:20.000000000,,"[{'_account_id': 6493}, {'_account_id': 6542}]","[{'number': 1, 'created': '2013-03-04 16:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bffa98ca263cfb37cdbea9786a413bc9ec3b5dd5', 'message': 'Add a test case that ensures a quota usage is returned\n\nThis test checks that the correct quota usage is returned to a tenant\nwhen an admin deletes a volume belonging to the tenant.\n\nChange-Id: Id13d39576fb87020dc0a5a47949ed6d8364fef9b\nFixes: bug #1078729\n'}, {'number': 2, 'created': '2013-03-07 17:01:44.000000000', 'files': ['cinder/tests/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2344f8252b08cc38bbbed59a04f4d6ea16773f8a', 'message': 'Add a test case that ensures a quota usage is returned\n\nThis test checks that the correct quota usage is returned to a tenant\nwhen an admin deletes a volume belonging to the tenant.\n\nChange-Id: Id13d39576fb87020dc0a5a47949ed6d8364fef9b\nFixes: bug #1078729\n'}]",0,23428,2344f8252b08cc38bbbed59a04f4d6ea16773f8a,2,2,2,6542,,,0,"Add a test case that ensures a quota usage is returned

This test checks that the correct quota usage is returned to a tenant
when an admin deletes a volume belonging to the tenant.

Change-Id: Id13d39576fb87020dc0a5a47949ed6d8364fef9b
Fixes: bug #1078729
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/23428/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/test_volume.py'],1,bffa98ca263cfb37cdbea9786a413bc9ec3b5dd5,bug/1078729," def test_admin_delete_tenant_volume_returns_quota_usage(self): """"""Test that the appropriate quota usage is applied to a tenant when an admin deletes volume."""""" # Stub out reserve, commit, and rollback and assert that the right reservation is made def fake_reserve(context, expire=None, **deltas): return [""RESERVATION""] def fake_commit(context, reservations): # we should probably test here that the right reservation is being committed pass def fake_rollback(context, reservations): pass self.stubs.Set(QUOTAS, ""reserve"", fake_reserve) self.stubs.Set(QUOTAS, ""commit"", fake_commit) self.stubs.Set(QUOTAS, ""rollback"", fake_rollback) volume_api = cinder.volume.api.API() # we want to create a volume with a test tenant # check that their quota usages are updated # then delete it with an admin # and ensure that the test tenant's quota usages are returned # (the bug is that the usages are returned to the admin) ",,25,0
openstack%2Fkolla~master~I8f5a9b220fc8afd6ef07cb5f2142df8c6ead9bc0,openstack/kolla,master,I8f5a9b220fc8afd6ef07cb5f2142df8c6ead9bc0,Drop monasca-grafana image.,MERGED,2021-04-06 09:20:11.000000000,2021-05-20 17:44:17.000000000,2021-05-20 17:42:41.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-06 09:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/36b16ea9ef060af9f463f9fe633600bb9bac7aac', 'message': 'Drop monasca-grafana image.\n\nAfter months of using deprecated components image finally stopped\nbuilding.\n\nChange-Id: I8f5a9b220fc8afd6ef07cb5f2142df8c6ead9bc0\n'}, {'number': 2, 'created': '2021-04-27 14:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d4b4464004edef5650788b8d1af3c351d628c5e6', 'message': 'Drop monasca-grafana image.\n\nAfter months of using deprecated components image finally stopped\nbuilding.\n\nChange-Id: I8f5a9b220fc8afd6ef07cb5f2142df8c6ead9bc0\n'}, {'number': 3, 'created': '2021-05-17 12:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/78bf549505d2af3f7a045113b91d261eca790183', 'message': 'Drop monasca-grafana image.\n\nAfter months of using deprecated components image finally stopped\nbuilding.\n\nChange-Id: I8f5a9b220fc8afd6ef07cb5f2142df8c6ead9bc0\n'}, {'number': 4, 'created': '2021-05-17 13:48:09.000000000', 'files': ['kolla/image/build.py', 'releasenotes/notes/deprecate-monasca-grafana-d05af2e96cffd82c.yaml', 'docker/monasca/monasca-grafana/Dockerfile.j2', 'docker/monasca/monasca-grafana/grafana_sudoers', 'releasenotes/notes/drop-monasca-grafana-df2c45d6826752f6.yaml', 'docker/monasca/monasca-grafana/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2c49046ae2e27805c3a5fb205e669017cc910d1c', 'message': 'Drop monasca-grafana image.\n\nAfter months of using deprecated components image finally stopped\nbuilding.\n\nChange-Id: I8f5a9b220fc8afd6ef07cb5f2142df8c6ead9bc0\n'}]",0,784902,2c49046ae2e27805c3a5fb205e669017cc910d1c,29,5,4,24072,,,0,"Drop monasca-grafana image.

After months of using deprecated components image finally stopped
building.

Change-Id: I8f5a9b220fc8afd6ef07cb5f2142df8c6ead9bc0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/02/784902/3 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/monasca/monasca-grafana/Dockerfile.j2', 'docker/monasca/monasca-grafana/grafana_sudoers', 'docker/monasca/monasca-grafana/extend_start.sh']",4,36b16ea9ef060af9f463f9fe633600bb9bac7aac,,,"#!/bin/bash if [[ ! -d ""/var/log/kolla/monasca"" ]]; then mkdir -p /var/log/kolla/monasca fi if [[ $(stat -c %a /var/log/kolla/monasca) != ""755"" ]]; then chmod 755 /var/log/kolla/monasca fi ",0,116
openstack%2Fpython-tripleoclient~stable%2Fussuri~I5152ad37c7e47a46eb23c3c792b31b2bf3298368,openstack/python-tripleoclient,stable/ussuri,I5152ad37c7e47a46eb23c3c792b31b2bf3298368,Fix validations listing when filtering by group(s),MERGED,2021-05-12 12:52:11.000000000,2021-05-20 17:43:04.000000000,2021-05-20 17:38:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-12 12:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/86e139ef8a57e54c96e82dbe52a23c04c82c4058', 'message': ""Fix validations listing when filtering by group(s)\n\nWhen running `openstack tripleo validator list --group pre-update`\ncommand, it returns all the validations catalog and the filtering by\ngroup(s) doesn't work.\n\nThis patch fixes this behavior by actually filtering.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I5152ad37c7e47a46eb23c3c792b31b2bf3298368\n""}, {'number': 2, 'created': '2021-05-12 13:51:05.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a2d918337270ed98bb6a5768a4556ae3f56bc3ee', 'message': ""Fix validations listing when filtering by group(s)\n\nWhen running `openstack tripleo validator list --group pre-update`\ncommand, it returns all the validations catalog and the filtering by\ngroup(s) doesn't work.\n\nThis patch fixes this behavior by actually filtering.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I5152ad37c7e47a46eb23c3c792b31b2bf3298368\n""}]",0,790976,a2d918337270ed98bb6a5768a4556ae3f56bc3ee,16,6,2,11491,,,0,"Fix validations listing when filtering by group(s)

When running `openstack tripleo validator list --group pre-update`
command, it returns all the validations catalog and the filtering by
group(s) doesn't work.

This patch fixes this behavior by actually filtering.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I5152ad37c7e47a46eb23c3c792b31b2bf3298368
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/76/790976/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,86e139ef8a57e54c96e82dbe52a23c04c82c4058,rhbz#1959815-stable/wallaby-stable/victoria-stable/ussuri, return actions.list_validations(parsed_args.group), return actions.list_validations(),1,1
openstack%2Ftripleo-quickstart-extras~master~I0728eb116a4b1ef10552178c2cdb3e9c55003207,openstack/tripleo-quickstart-extras,master,I0728eb116a4b1ef10552178c2cdb3e9c55003207,Use collection FQDN when calling podman_container,MERGED,2021-05-11 12:26:42.000000000,2021-05-20 17:39:28.000000000,2021-05-20 17:39:28.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-11 12:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fbf181acce4f0e340e5fd67e01c8e48fa177735e', 'message': 'Use collection FQDN when calling podman_container\n\nChange-Id: I0728eb116a4b1ef10552178c2cdb3e9c55003207\n'}, {'number': 2, 'created': '2021-05-12 08:51:49.000000000', 'files': ['roles/container-build/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3381b5bee79358141f36d7eb7ae4cd13773bd2cc', 'message': 'Use collection FQDN when calling podman_container\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790683\n\nChange-Id: I0728eb116a4b1ef10552178c2cdb3e9c55003207\n'}]",1,790681,3381b5bee79358141f36d7eb7ae4cd13773bd2cc,20,7,2,10969,,,0,"Use collection FQDN when calling podman_container

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790683

Change-Id: I0728eb116a4b1ef10552178c2cdb3e9c55003207
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/81/790681/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/container-build/tasks/main.yaml'],1,fbf181acce4f0e340e5fd67e01c8e48fa177735e,collection-work, containers.podman.podman_container: containers.podman.podman_container:, podman_container: podman_container:,2,2
openstack%2Ftripleo-validations~master~Idbe73257906b607fddc7f39fd81e2ba1a0a6f979,openstack/tripleo-validations,master,Idbe73257906b607fddc7f39fd81e2ba1a0a6f979,Trigger molecule jobs when modifying molecule-requirements.txt file,MERGED,2021-05-19 12:28:17.000000000,2021-05-20 17:38:53.000000000,2021-05-20 17:38:53.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-19 12:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/155c569163ef60aa9af665415334179c89958b94', 'message': 'Use Yaml Anchor for common files and molecule job\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Idbe73257906b607fddc7f39fd81e2ba1a0a6f979\n'}, {'number': 2, 'created': '2021-05-19 13:04:23.000000000', 'files': ['zuul.d/molecule.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ea4b8c36432d37b06cab133eb5511a99c33be36a', 'message': 'Trigger molecule jobs when modifying molecule-requirements.txt file\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Idbe73257906b607fddc7f39fd81e2ba1a0a6f979\n'}]",0,792133,ea4b8c36432d37b06cab133eb5511a99c33be36a,10,5,2,11491,,,0,"Trigger molecule jobs when modifying molecule-requirements.txt file

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Idbe73257906b607fddc7f39fd81e2ba1a0a6f979
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/33/792133/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'zuul.d/base.yaml']",2,155c569163ef60aa9af665415334179c89958b94,molecule_release_bump, files: &common_files - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml - ^molecule-requirements.txt,,89,168
openstack%2Fcinder-tempest-plugin~master~I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254,openstack/cinder-tempest-plugin,master,I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254,Implement basic protection testing jobs,MERGED,2021-01-28 16:31:11.000000000,2021-05-20 17:32:23.000000000,2021-05-20 17:32:23.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-01-28 16:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/736b4639fb1ee6c1d524fefb98c6eb1528544d17', 'message': ""Implement basic protection testing jobs\n\nThis commit lays down a basic structure for protection tests. These are\nuseful for testing various secure RBAC personas, but leveraging all the\ndynamic credential work in tempest's authentication libraries to\nprovision clients for testing.\n\nDepends-On: https://review.opendev.org/c/openstack/cinderlib/+/772770\n\nChange-Id: I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254\n""}, {'number': 2, 'created': '2021-01-28 16:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8f1e6710e6814f45e5a3ebe0fb20146c395a1c70', 'message': ""Implement basic protection testing jobs\n\nThis commit lays down a basic structure for protection tests. These are\nuseful for testing various secure RBAC personas, but leveraging all the\ndynamic credential work in tempest's authentication libraries to\nprovision clients for testing.\n\nDepends-On: https://review.opendev.org/c/openstack/cinderlib/+/772770\n\nChange-Id: I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254\n""}, {'number': 3, 'created': '2021-02-16 16:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/377e99ad161fb5d4c4b54209b813fc85ce7830af', 'message': ""Implement basic protection testing jobs\n\nThis commit lays down a basic structure for protection tests. These are\nuseful for testing various secure RBAC personas, but leveraging all the\ndynamic credential work in tempest's authentication libraries to\nprovision clients for testing.\n\nDepends-On: https://review.opendev.org/c/openstack/cinderlib/+/772770\n\nChange-Id: I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254\n""}, {'number': 4, 'created': '2021-03-03 05:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/d22e4f8e74a914e4d6408989560903eaa9a07da5', 'message': ""Implement basic protection testing jobs\n\nThis commit lays down a basic structure for protection tests. These are\nuseful for testing various secure RBAC personas, but leveraging all the\ndynamic credential work in tempest's authentication libraries to\nprovision clients for testing.\n\nDepends-On: https://review.opendev.org/c/openstack/cinderlib/+/772770\n\nChange-Id: I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254\n""}, {'number': 5, 'created': '2021-03-04 18:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f31b0b7885759021674d997eda6c60fe55f95526', 'message': 'Implement basic protection testing jobs\n\nThis commit lays down a basic structure for protection tests. These are\nuseful for testing various secure RBAC personas, but leveraging all the\ndynamic credential work in tempest\'s authentication libraries to\nprovision clients for testing.\n\nThis commit also adds some basic tests exercising the capabilities\nadmin-only API. These tests ensure that only operators (e.g.,\nsystem-administrators) or formally known as project-administrators, can\naccess the capabilities API. Assertions and functionality in these tests\nmay expand in the future to accomodate system-scope when cinder can\nproperly consume system-scoped tokens from keystone.\n\nFor now, the tests assume project-administrators are deployment\noperators, which is the legacy way of denoting ""admin-ness"" in OpenStack\ndeployments.\n\nChange-Id: I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254\n'}, {'number': 6, 'created': '2021-03-04 18:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/468c37d9197191412f48e68c6fc4e7f918bcbfb7', 'message': 'Implement basic protection testing jobs\n\nThis commit lays down a basic structure for protection tests. These are\nuseful for testing various secure RBAC personas, but leveraging all the\ndynamic credential work in tempest\'s authentication libraries to\nprovision clients for testing.\n\nThis commit also adds some basic tests exercising the capabilities\nadmin-only API. These tests ensure that only operators (e.g.,\nsystem-administrators) or formally known as project-administrators, can\naccess the capabilities API. Assertions and functionality in these tests\nmay expand in the future to accomodate system-scope when cinder can\nproperly consume system-scoped tokens from keystone.\n\nFor now, the tests assume project-administrators are deployment\noperators, which is the legacy way of denoting ""admin-ness"" in OpenStack\ndeployments.\n\nChange-Id: I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254\n'}, {'number': 7, 'created': '2021-03-04 19:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b62597a5f4a827ef6dfb520aa745af1bf604ee19', 'message': 'Implement basic protection testing jobs\n\nThis commit lays down a basic structure for protection tests. These are\nuseful for testing various secure RBAC personas, but leveraging all the\ndynamic credential work in tempest\'s authentication libraries to\nprovision clients for testing. We\'re also adding a non-voting protection\ntest job so that we can integrate protection testing into the cinder\ngate as we work through policy changes.\n\nThis commit also adds some basic tests exercising the capabilities\nadmin-only API. These tests ensure that only operators (e.g.,\nsystem-administrators) or formally known as project-administrators, can\naccess the capabilities API. Assertions and functionality in these tests\nmay expand in the future to accomodate system-scope when cinder can\nproperly consume system-scoped tokens from keystone.\n\nFor now, the tests assume project-administrators are deployment\noperators, which is the legacy way of denoting ""admin-ness"" in OpenStack\ndeployments.\n\nChange-Id: I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254\n'}, {'number': 8, 'created': '2021-03-04 19:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/af57c4c1b37628bd380c19bb37f7684a34e49f46', 'message': 'Implement basic protection testing jobs\n\nThis commit lays down a basic structure for protection tests. These are\nuseful for testing various secure RBAC personas, but leveraging all the\ndynamic credential work in tempest\'s authentication libraries to\nprovision clients for testing. We\'re also adding a non-voting protection\ntest job so that we can integrate protection testing into the cinder\ngate as we work through policy changes.\n\nThis commit also adds some basic tests exercising the capabilities\nadmin-only API. These tests ensure that only operators (e.g.,\nsystem-administrators) or formally known as project-administrators, can\naccess the capabilities API. Assertions and functionality in these tests\nmay expand in the future to accomodate system-scope when cinder can\nproperly consume system-scoped tokens from keystone.\n\nFor now, the tests assume project-administrators are deployment\noperators, which is the legacy way of denoting ""admin-ness"" in OpenStack\ndeployments.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/778753\n\nChange-Id: I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254\n'}, {'number': 9, 'created': '2021-03-04 19:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/2d6569f3d6134bd425dbb6c3c0275cbd7cf7a75b', 'message': 'Implement basic protection testing jobs\n\nThis commit lays down a basic structure for protection tests. These are\nuseful for testing various secure RBAC personas, but leveraging all the\ndynamic credential work in tempest\'s authentication libraries to\nprovision clients for testing. We\'re also adding a non-voting protection\ntest job so that we can integrate protection testing into the cinder\ngate as we work through policy changes.\n\nThis commit also adds some basic tests exercising the capabilities\nadmin-only API. These tests ensure that only operators (e.g.,\nsystem-administrators) or formally known as project-administrators, can\naccess the capabilities API. Assertions and functionality in these tests\nmay expand in the future to accomodate system-scope when cinder can\nproperly consume system-scoped tokens from keystone.\n\nFor now, the tests assume project-administrators are deployment\noperators, which is the legacy way of denoting ""admin-ness"" in OpenStack\ndeployments.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/778753\n\nChange-Id: I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254\n'}, {'number': 10, 'created': '2021-03-05 21:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/2572dfdbc1a96ee68f6a7e311567b92b98e93a0e', 'message': 'Implement basic protection testing jobs\n\nThis commit lays down a basic structure for protection tests. These are\nuseful for testing various secure RBAC personas, but leveraging all the\ndynamic credential work in tempest\'s authentication libraries to\nprovision clients for testing. We\'re also adding a non-voting protection\ntest job so that we can integrate protection testing into the cinder\ngate as we work through policy changes.\n\nThis commit also adds some basic tests exercising the capabilities\nadmin-only API. These tests ensure that only operators (e.g.,\nsystem-administrators) or formally known as project-administrators, can\naccess the capabilities API. Assertions and functionality in these tests\nmay expand in the future to accomodate system-scope when cinder can\nproperly consume system-scoped tokens from keystone.\n\nFor now, the tests assume project-administrators are deployment\noperators, which is the legacy way of denoting ""admin-ness"" in OpenStack\ndeployments.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/778753\n\nChange-Id: I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254\n'}, {'number': 11, 'created': '2021-03-09 19:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/12cdb875c964229f0a443f414c3cb0b4bf041007', 'message': 'Implement basic protection testing jobs\n\nThis commit lays down a basic structure for protection tests. These are\nuseful for testing various secure RBAC personas, but leveraging all the\ndynamic credential work in tempest\'s authentication libraries to\nprovision clients for testing. We\'re also adding a non-voting protection\ntest job so that we can integrate protection testing into the cinder\ngate as we work through policy changes.\n\nThis commit also adds some basic tests exercising the capabilities\nadmin-only API. These tests ensure that only operators (e.g.,\nsystem-administrators) or formally known as project-administrators, can\naccess the capabilities API. Assertions and functionality in these tests\nmay expand in the future to accomodate system-scope when cinder can\nproperly consume system-scoped tokens from keystone.\n\nFor now, the tests assume project-administrators are deployment\noperators, which is the legacy way of denoting ""admin-ness"" in OpenStack\ndeployments.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/778753\n\nChange-Id: I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254\n'}, {'number': 12, 'created': '2021-03-09 21:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/7c9b48df6f46cfbb425db0f9e4fb4699bef9afa7', 'message': 'Implement basic protection testing jobs\n\nThis commit lays down a basic structure for protection tests. These are\nuseful for testing various secure RBAC personas, but leveraging all the\ndynamic credential work in tempest\'s authentication libraries to\nprovision clients for testing. We\'re also adding a non-voting protection\ntest job so that we can integrate protection testing into the cinder\ngate as we work through policy changes.\n\nThis commit also adds some basic tests exercising the capabilities\nadmin-only API. These tests ensure that only operators (e.g.,\nsystem-administrators) or formally known as project-administrators, can\naccess the capabilities API. Assertions and functionality in these tests\nmay expand in the future to accomodate system-scope when cinder can\nproperly consume system-scoped tokens from keystone.\n\nFor now, the tests assume project-administrators are deployment\noperators, which is the legacy way of denoting ""admin-ness"" in OpenStack\ndeployments.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/778753\n\nChange-Id: I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254\n'}, {'number': 13, 'created': '2021-03-15 21:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/e3bd1427e12b4052e4cec726912e5b2a7c51d296', 'message': 'Implement basic protection testing jobs\n\nThis commit lays down a basic structure for protection tests. These are\nuseful for testing various secure RBAC personas, but leveraging all the\ndynamic credential work in tempest\'s authentication libraries to\nprovision clients for testing. We\'re also adding a non-voting protection\ntest job so that we can integrate protection testing into the cinder\ngate as we work through policy changes.\n\nThis commit also adds some basic tests exercising the capabilities\nadmin-only API. These tests ensure that only operators (e.g.,\nsystem-administrators) or formally known as project-administrators, can\naccess the capabilities API. Assertions and functionality in these tests\nmay expand in the future to accomodate system-scope when cinder can\nproperly consume system-scoped tokens from keystone.\n\nFor now, the tests assume project-administrators are deployment\noperators, which is the legacy way of denoting ""admin-ness"" in OpenStack\ndeployments.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/778753\n\nChange-Id: I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254\n'}, {'number': 14, 'created': '2021-04-23 16:12:18.000000000', 'files': ['cinder_tempest_plugin/rbac/__init__.py', 'cinder_tempest_plugin/rbac/v3/base.py', 'cinder_tempest_plugin/rbac/v3/test_capabilities.py', '.zuul.yaml', 'cinder_tempest_plugin/rbac/v3/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/d3fddec498c6cae8d15da72f62c5502dcbf2f4c4', 'message': 'Implement basic protection testing jobs\n\nThis commit lays down a basic structure for protection tests. These are\nuseful for testing various secure RBAC personas, but leveraging all the\ndynamic credential work in tempest\'s authentication libraries to\nprovision clients for testing. We\'re also adding a non-voting protection\ntest job so that we can integrate protection testing into the cinder\ngate as we work through policy changes.\n\nThis commit also adds some basic tests exercising the capabilities\nadmin-only API. These tests ensure that only operators (e.g.,\nsystem-administrators) or formally known as project-administrators, can\naccess the capabilities API. Assertions and functionality in these tests\nmay expand in the future to accomodate system-scope when cinder can\nproperly consume system-scoped tokens from keystone.\n\nFor now, the tests assume project-administrators are deployment\noperators, which is the legacy way of denoting ""admin-ness"" in OpenStack\ndeployments.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/778753\n\nChange-Id: I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254\n'}]",26,772915,d3fddec498c6cae8d15da72f62c5502dcbf2f4c4,81,6,14,5046,,,0,"Implement basic protection testing jobs

This commit lays down a basic structure for protection tests. These are
useful for testing various secure RBAC personas, but leveraging all the
dynamic credential work in tempest's authentication libraries to
provision clients for testing. We're also adding a non-voting protection
test job so that we can integrate protection testing into the cinder
gate as we work through policy changes.

This commit also adds some basic tests exercising the capabilities
admin-only API. These tests ensure that only operators (e.g.,
system-administrators) or formally known as project-administrators, can
access the capabilities API. Assertions and functionality in these tests
may expand in the future to accomodate system-scope when cinder can
properly consume system-scoped tokens from keystone.

For now, the tests assume project-administrators are deployment
operators, which is the legacy way of denoting ""admin-ness"" in OpenStack
deployments.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/778753

Change-Id: I6d4ae6d516f4c2dda4dcb6b974857b34f2ef2254
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/15/772915/14 && git format-patch -1 --stdout FETCH_HEAD,"['cinder_tempest_plugin/rbac/__init__.py', 'cinder_tempest_plugin/rbac/v3/base.py', 'cinder_tempest_plugin/config.py', '.zuul.yaml', 'cinder_tempest_plugin/rbac/v3/test_volume.py', 'cinder_tempest_plugin/rbac/v3/__init__.py']",6,736b4639fb1ee6c1d524fefb98c6eb1528544d17,secure-rbac,,,305,0
openstack%2Fcinder~master~I028d9401a458eb5442682da0e8293e05aa80a4b5,openstack/cinder,master,I028d9401a458eb5442682da0e8293e05aa80a4b5,Tests: test_backup - specify volume_type_id for snapshots,MERGED,2021-02-12 14:42:06.000000000,2021-05-20 17:30:00.000000000,2021-05-20 17:27:35.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 33093}]","[{'number': 1, 'created': '2021-02-12 14:42:06.000000000', 'files': ['cinder/tests/unit/backup/test_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4946c787dccd492531265c60295282dea26b54a5', 'message': 'Tests: test_backup - specify volume_type_id for snapshots\n\nWithout this, __DEFAULT__ is passed into the volume_type_id\nfield on the snapshot object, resulting in Invalid UUID\nwarnings being printed while running unit tests.\n\nChange-Id: I028d9401a458eb5442682da0e8293e05aa80a4b5\n'}]",0,775397,4946c787dccd492531265c60295282dea26b54a5,33,7,1,4523,,,0,"Tests: test_backup - specify volume_type_id for snapshots

Without this, __DEFAULT__ is passed into the volume_type_id
field on the snapshot object, resulting in Invalid UUID
warnings being printed while running unit tests.

Change-Id: I028d9401a458eb5442682da0e8293e05aa80a4b5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/775397/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/backup/test_backup.py'],1,4946c787dccd492531265c60295282dea26b54a5,, kwargs['volume_type_id'] = fake.VOLUME_TYPE_ID,,1,0
openstack%2Fnova~stable%2Fwallaby~I7f2b6330decb92e2838aa7cee47fb228f00f47da,openstack/nova,stable/wallaby,I7f2b6330decb92e2838aa7cee47fb228f00f47da,Replace blind retry with libvirt event waiting in detach,MERGED,2021-04-29 12:12:33.000000000,2021-05-20 17:29:57.000000000,2021-05-20 17:27:26.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 12:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4348bc19d231a04d2db0c7e276edc3487709e2a9', 'message': 'Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device. See bug #1882521 for more information.\n\nAlso if there was both a persistent and a live domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nConflicts:\n      nova/tests/unit/virt/libvirt/test_driver.py\n      nova/tests/unit/virt/libvirt/test_guest.py\n      nova/virt/libvirt/driver.py\n      nova/virt/libvirt/guest.py\n\nThese conflicts are due to two other bugfixes backported earlier from\nmaster to wallaby than the current fix.\n\n* f99f667a96a357adc0070d75b5940e76726f9664 causing only whitespace\n  damage\n* I0e068043d8267ab91535413d950a3e154c2234f7 is a fix that was valid both\n  before and after the current patch but need changes in different\n  places due to the current fix also impacting the same detach path\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n(cherry picked from commit e27f51fdb7873fc39cf93f49838661eed11b1e03)\n'}, {'number': 2, 'created': '2021-05-05 07:58:01.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/conf/libvirt.py', 'releasenotes/notes/libvirt-event-based-device-detach-23ac037004d753b1.yaml', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/30317e6b3f5ee5e7fd1e8c564a1d6f3e3a2fb91b', 'message': 'Replace blind retry with libvirt event waiting in detach\n\nNova so far applied a retry loop that tried to periodically detach the\ndevice from libvirt while the device was visible in the domain xml. This\ncould lead to an issue where an already progressing detach on the\nlibvirt side is interrupted by nova re-sending the detach request for\nthe same device. See bug #1882521 for more information.\n\nAlso if there was both a persistent and a live domain the nova tried the\ndetach from both at the same call. This lead to confusion about the\nresult when such call failed. Was the detach failed partially?\n\nWe can do better, at least for the live detach case. Based on the\nlibvirt developers detaching from the persistent domain always\nsucceeds and it is a synchronous process. Detaching from the live\ndomain can be both synchronous or asynchronous depending on the guest\nOS and the load on the hypervisor. But for live detach libvirt always\nsends an event [1] nova can wait for.\n\nSo this patch does two things.\n\n1) Separates the detach from the persistent domain from the detach from\n   the live domain to make the error cases clearer.\n\n2) Changes the retry mechanism.\n\n   Detaching from the persistent domain is not retried. If libvirt\n   reports device not found, while both persistent and live detach\n   is needed, the error is ignored, and the process continues with\n   the live detach. In any other case the error considered as fatal.\n\n   Detaching from the live domain is changed to always wait for the\n   libvirt event. In case of timeout, the live detach is retried.\n   But a failure event from libvirt considered fatal, based on the\n   information from the libvirt developers, so in this case the\n   detach is not retried.\n\nRelated-Bug: #1882521\n\n[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback\n\nChange-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da\n(cherry picked from commit e56cc4f439846558fc13298c2360d7cdd473cc89)\n'}]",1,788720,30317e6b3f5ee5e7fd1e8c564a1d6f3e3a2fb91b,28,4,2,9708,,,0,"Replace blind retry with libvirt event waiting in detach

Nova so far applied a retry loop that tried to periodically detach the
device from libvirt while the device was visible in the domain xml. This
could lead to an issue where an already progressing detach on the
libvirt side is interrupted by nova re-sending the detach request for
the same device. See bug #1882521 for more information.

Also if there was both a persistent and a live domain the nova tried the
detach from both at the same call. This lead to confusion about the
result when such call failed. Was the detach failed partially?

We can do better, at least for the live detach case. Based on the
libvirt developers detaching from the persistent domain always
succeeds and it is a synchronous process. Detaching from the live
domain can be both synchronous or asynchronous depending on the guest
OS and the load on the hypervisor. But for live detach libvirt always
sends an event [1] nova can wait for.

So this patch does two things.

1) Separates the detach from the persistent domain from the detach from
   the live domain to make the error cases clearer.

2) Changes the retry mechanism.

   Detaching from the persistent domain is not retried. If libvirt
   reports device not found, while both persistent and live detach
   is needed, the error is ignored, and the process continues with
   the live detach. In any other case the error considered as fatal.

   Detaching from the live domain is changed to always wait for the
   libvirt event. In case of timeout, the live detach is retried.
   But a failure event from libvirt considered fatal, based on the
   information from the libvirt developers, so in this case the
   detach is not retried.

Related-Bug: #1882521

[1]https://libvirt.org/html/libvirt-libvirt-domain.html#virConnectDomainEventDeviceRemovedCallback

Change-Id: I7f2b6330decb92e2838aa7cee47fb228f00f47da
(cherry picked from commit e56cc4f439846558fc13298c2360d7cdd473cc89)
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/788720/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",7,4348bc19d231a04d2db0c7e276edc3487709e2a9,bug/1882521," @mock.patch('threading.Event', new=mock.Mock()) return_list = [ mock_xml_with_disk, # presistent domain mock_xml_with_disk, # live domain mock_xml_without_disk, # persistent gone mock_xml_without_disk # live gone ] mock_dom.reset_mock() </disk>"""""" # we expect two separate detach calls self.assertEqual(2, mock_dom.detachDeviceFlags.call_count) # one for the persistent domain call = mock_dom.detachDeviceFlags.mock_calls[0] self.assertEqual( {""flags"": fakelibvirt.VIR_DOMAIN_AFFECT_CONFIG}, call.kwargs) # and one for the live domain call = mock_dom.detachDeviceFlags.mock_calls[1] self.assertXmlEqual(xml, call.args[0]) self.assertEqual( {""flags"": fakelibvirt.VIR_DOMAIN_AFFECT_LIVE}, call.kwargs) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver.' '_detach_with_retry') mock_get_encryptor, mock_get_volume_driver, mock_detach_with_retry ): mock_order.attach_mock(mock_detach_with_retry, mock.call.detach_volume( mock_guest, instance.uuid, # it is functools.partial(mock_guest.get_disk, 'vdc') # see assert below mock.ANY, device_name='vdc', live=True ), get_device_conf_func = mock_detach_with_retry.mock_calls[0][1][2] self.assertEqual(mock_guest.get_disk, get_device_conf_func.func) self.assertEqual(('vdc',), get_device_conf_func.args) @mock.patch.object(libvirt_driver.AsyncDeviceEventsHandler, 'cleanup_waiters') def test_immediate_delete(self, mock_save, mock_get, mock_delete, mock_cleanup_async_detach ): mock_cleanup_async_detach.assert_called_once_with(instance.uuid) @mock.patch('threading.Event.wait', new=mock.Mock) def _test_detach_interface(self, state, device_not_found=False): info=[state, 1, 2, 3, 4]) # This will trigger _detach_with_retry to raise get_interface_calls = [ expected_cfg, # detach_interface() itself gets the config expected_cfg, # _detach_with_retry: persistent config None, # _detach_with_retry: no device in live config ] else: if state in (power_state.RUNNING, power_state.PAUSED): get_interface_calls = [ expected_cfg, # detach_interface() itself gets the config expected_cfg, # _detach_with_retry: persistent config expected_cfg, # _detach_with_retry: live config None, # _detach_with_retry: persistent config gone None # _detach_with_retry: live config gone ] else: get_interface_calls = [ expected_cfg, # detach_interface() itself gets the config expected_cfg, # _detach_with_retry: persistent config None, # _detach_with_retry: persistent config gone ] mock_get_interface.assert_has_calls( [ mock.call(expected_cfg), mock.call(expected_cfg, from_persistent_config=True), mock.call(expected_cfg), ]) else: if state in (power_state.RUNNING, power_state.PAUSED): mock_detach_device_flags.assert_has_calls([ mock.call( expected_cfg.to_xml(), flags=fakelibvirt.VIR_DOMAIN_AFFECT_CONFIG), mock.call( expected_cfg.to_xml(), flags=fakelibvirt.VIR_DOMAIN_AFFECT_LIVE), ]) mock_get_interface.assert_has_calls( [ mock.call(expected_cfg), mock.call(expected_cfg, from_persistent_config=True), mock.call(expected_cfg), mock.call(expected_cfg, from_persistent_config=True), mock.call(expected_cfg), ]) else: mock_detach_device_flags.assert_called_once_with( expected_cfg.to_xml(), flags=fakelibvirt.VIR_DOMAIN_AFFECT_CONFIG) mock_get_interface.assert_has_calls( [ mock.call(expected_cfg), mock.call(expected_cfg, from_persistent_config=True), mock.call(expected_cfg, from_persistent_config=True), ]) self._test_detach_interface(power_state.RUNNING) self._test_detach_interface(power_state.RUNNING, device_not_found=True) self._test_detach_interface(power_state.PAUSED) self._test_detach_interface(power_state.SHUTDOWN) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver.' '_detach_with_retry') def test_detach_interface_guest_not_found_after_detach( self, mock_log, mock_detach_with_retry ): mock_detach_with_retry.side_effect = error @mock.patch('threading.Event.wait', new=mock.Mock()) mock.patch.object( libvirt_guest.Guest, 'get_interface_by_cfg', side_effect=[ expected, # detach_interface gets the config expected, # _detach_with_retry: persistent config expected, # _detach_with_retry: live config None, # _detach_with_retry: persistent gone None # _detach_with_retry: live gone ]), mock_get_interface.assert_has_calls( [ mock.call(expected, ), mock.call(expected, from_persistent_config=True), mock.call(expected), mock.call(expected, from_persistent_config=True), mock.call(expected), ] ) self.assertEqual(5, mock_get_interface.call_count) mock_detach.assert_has_calls( [ mock.call( expected.to_xml(), flags=fakelibvirt.VIR_DOMAIN_AFFECT_CONFIG), mock.call( expected.to_xml(), flags=fakelibvirt.VIR_DOMAIN_AFFECT_LIVE), ]) mock.patch.object(self.drvr, '_detach_with_retry'), mock_detach_with_retry, mock_get_guest_config_meta, mock_detach_with_retry.assert_called_once_with( guest, instance.uuid, mock.ANY, live=False, device_name=None) def test__detach_with_retry_persistent_success(self): """"""Test detach only from the persistent domain"""""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.has_persistent_configuration.return_value = True mock_dev = mock.Mock(spec=vconfig.LibvirtConfigGuestDisk) mock_dev.alias = 'virtio-disk1' mock_get_device_conf_func = mock.Mock( # the first call is to get the device from the persistent domain # the second call is to double check that the dev is gone from the # persistent domain side_effect=[ mock_dev, None, ] ) drvr._detach_with_retry( mock_guest, uuids.instance_uuid, mock_get_device_conf_func, device_name='vdb', live=False, ) mock_guest.has_persistent_configuration.assert_called_once_with() mock_get_device_conf_func.assert_has_calls( [ mock.call(from_persistent_config=True), mock.call(from_persistent_config=True), ]) mock_guest.detach_device.assert_called_once_with( mock_dev, persistent=True, live=False) # check that the internal event handling is cleaned up self.assertEqual(set(), drvr._device_event_handler._waiters) def test__detach_with_retry_live_success(self): """"""Test detach only from the live domain"""""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.has_persistent_configuration.return_value = False mock_dev = mock.Mock(spec=vconfig.LibvirtConfigGuestDisk) mock_dev.alias = 'virtio-disk1' mock_get_device_conf_func = mock.Mock( # the first call is to get the device from the live domain # the second call is to double check that the dev is gone from the # live domain side_effect=[ mock_dev, None, ] ) # simulate that libvirt sends an event mock_guest.detach_device.side_effect = ( lambda dev, persistent, live: drvr.emit_event( libvirtevent.DeviceRemovedEvent(uuids.instance_uuid, dev.alias) )) drvr._detach_with_retry( mock_guest, uuids.instance_uuid, mock_get_device_conf_func, device_name='vdb', live=True, ) mock_guest.has_persistent_configuration.assert_called_once_with() mock_get_device_conf_func.assert_has_calls( [ mock.call(), mock.call(), ]) mock_guest.detach_device.assert_called_once_with( mock_dev, persistent=False, live=True) # check that the internal event handling is cleaned up self.assertEqual(set(), drvr._device_event_handler._waiters) def test__detach_with_retry_persistent_and_live_success(self): """"""Test detach both from the persistent and from the live domains"""""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.has_persistent_configuration.return_value = True mock_dev = mock.Mock(spec=vconfig.LibvirtConfigGuestDisk) mock_dev.alias = 'virtio-disk1' mock_get_device_conf_func = mock.Mock( # the first call is to get the device from the persistent domain # the second call is to get the device from the live domain # the third call is to double check that the dev is gone from the # persistent domain # the fourth call is to double check that the dev is gone from the # live domain side_effect=[ mock_dev, mock_dev, None, None, ] ) # simulate that libvirt sends an event for the live detach call # for the persistent detach call no side effect needs to be simulated def fake_detach(dev, persistent, live): if live: drvr.emit_event(libvirtevent.DeviceRemovedEvent( uuids.instance_uuid, dev.alias)) mock_guest.detach_device.side_effect = fake_detach drvr._detach_with_retry( mock_guest, uuids.instance_uuid, mock_get_device_conf_func, device_name='vdb', live=True, ) mock_guest.has_persistent_configuration.assert_called_once_with() mock_get_device_conf_func.assert_has_calls( [ mock.call(from_persistent_config=True), mock.call(), mock.call(from_persistent_config=True), mock.call(), ]) # we detach from the persistent config first and then from the live mock_guest.detach_device.assert_has_calls( [ mock.call(mock_dev, persistent=True, live=False), mock.call(mock_dev, persistent=False, live=True), ]) # check that the internal event handling is cleaned up self.assertEqual(set(), drvr._device_event_handler._waiters) def test__detach_with_retry_persistent_but_guest_is_not(self): """"""Test that a pesistent only detach is requested but the guest is not persistent. """""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.has_persistent_configuration.return_value = False # we expect that no device query or actual detach happens. mock_get_device_conf_func = mock.NonCallableMock() mock_guest.detach_device = mock.NonCallableMock() drvr._detach_with_retry( mock_guest, uuids.instance_uuid, mock_get_device_conf_func, device_name='vdb', live=False, ) mock_guest.has_persistent_configuration.assert_called_once_with() def test__detach_with_retry_persistent_dev_not_found(self): """"""Tests that expection is raised if a persistent detach is requested, the domain is persistent but the device is not found. """""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.has_persistent_configuration.return_value = True # we simulate that the device does not exists in the domain even # before we try to detach mock_get_device_conf_func = mock.Mock(return_value=None) self.assertRaises( exception.DeviceNotFound, drvr._detach_with_retry, mock_guest, uuids.instance_uuid, mock_get_device_conf_func, device_name='vdb', live=False, ) mock_get_device_conf_func.assert_called_once_with( from_persistent_config=True) mock_guest.detach_device.assert_not_called() def test__detach_with_retry_live_dev_not_found(self): """"""Tests that expection is raised if a live detach is requested, but the device is not found in the live domain. """""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.has_persistent_configuration.return_value = False # we simulate that the device does not exists in the domain even # before we try to detach mock_get_device_conf_func = mock.Mock(return_value=None) self.assertRaises( exception.DeviceNotFound, drvr._detach_with_retry, mock_guest, uuids.instance_uuid, mock_get_device_conf_func, device_name='vdb', live=True, ) mock_get_device_conf_func.assert_called_once_with() mock_guest.detach_device.assert_not_called() def test__detach_with_retry_async_fail(self): """"""Test that libvirt sends error event during detach"""""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_guest = mock.Mock(spec=libvirt_guest.Guest) # for simplycity do a live only detach mock_guest.has_persistent_configuration.return_value = False mock_dev = mock.Mock(spec=vconfig.LibvirtConfigGuestDisk) mock_dev.alias = 'virtio-disk1' mock_get_device_conf_func = mock.Mock(return_value=mock_dev) # simulate that libvirt sends an failed event mock_guest.detach_device.side_effect = ( lambda dev, persistent, live: drvr.emit_event( libvirtevent.DeviceRemovalFailedEvent( uuids.instance_uuid, dev.alias))) self.assertRaises( exception.DeviceDetachFailed, drvr._detach_with_retry, mock_guest, uuids.instance_uuid, mock_get_device_conf_func, device_name='vdb', live=True, ) mock_guest.has_persistent_configuration.assert_called_once_with() self.assertEqual(1, mock_get_device_conf_func.call_count) mock_guest.detach_device.assert_called_once_with( mock_dev, persistent=False, live=True) # check that the internal event handling is cleaned up self.assertEqual(set(), drvr._device_event_handler._waiters) @mock.patch('threading.Event.wait') def test__detach_with_retry_timeout_retry_succeeds(self, mock_event_wait): """"""Test that that a live detach times out while waiting for the libvirt event but then the retry succeeds. """""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_guest = mock.Mock(spec=libvirt_guest.Guest) # for simplycity do a live only detach mock_guest.has_persistent_configuration.return_value = False mock_dev = mock.Mock(spec=vconfig.LibvirtConfigGuestDisk) mock_dev.alias = 'virtio-disk1' mock_get_device_conf_func = mock.Mock( # the first call is to get the device from the live domain # the second call is to double check that the dev is gone from the # live domain after the first detach attempt # the third call is to double check that the dev is gone from the # live domain after the second detach attempt side_effect=[ mock_dev, mock_dev, None, ] ) # By mocking threading.Event.wait we prevent the test to wait until the # timeout happens, and by returning False first we simulate to the # caller that the wait returned not becasuse the event is set but # because timeout happend. Then during the retry we return True # signalling that the event is set, i.e. the libvirt event the caller # is waiting for has been received mock_event_wait.side_effect = [False, True] drvr._detach_with_retry( mock_guest, uuids.instance_uuid, mock_get_device_conf_func, device_name='vdb', live=True, ) mock_guest.has_persistent_configuration.assert_called_once_with() # the 3 calls has explained above where the return value is defined self.assertEqual(3, mock_get_device_conf_func.call_count) mock_guest.detach_device.assert_has_calls( [ mock.call(mock_dev, persistent=False, live=True), mock.call(mock_dev, persistent=False, live=True), ] ) # check that the internal event handling is cleaned up self.assertEqual(set(), drvr._device_event_handler._waiters) @mock.patch('threading.Event.wait') def test__detach_with_retry_timeout_run_out_of_retries( self, mock_event_wait ): """"""Test that that a live detach times out while waiting for the libvirt event at every attempt so the driver runs out of retry attempts. """""" # decreased the number to simplyfy the test self.flags(group='libvirt', device_detach_attempts=2) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_guest = mock.Mock(spec=libvirt_guest.Guest) # for simplycity do a live only detach mock_guest.has_persistent_configuration.return_value = False mock_dev = mock.Mock(spec=vconfig.LibvirtConfigGuestDisk) mock_dev.alias = 'virtio-disk1' mock_get_device_conf_func = mock.Mock(return_value=mock_dev) # By mocking threading.Event.wait we prevent the test to wait until the # timeout happens, and by returning False we simulate to the # caller that the wait returned not becasuse the event is set but # because timeout happend. mock_event_wait.return_value = False self.assertRaises( exception.DeviceDetachFailed, drvr._detach_with_retry, mock_guest, uuids.instance_uuid, mock_get_device_conf_func, device_name='vdb', live=True, ) mock_guest.has_persistent_configuration.assert_called_once_with() # the first call is to get the dev we detach, then there is one call # after each retry attempt to check if the device is gone self.assertEqual(3, mock_get_device_conf_func.call_count) mock_guest.detach_device.assert_has_calls( [ mock.call(mock_dev, persistent=False, live=True), mock.call(mock_dev, persistent=False, live=True), ] ) # check that the internal event handling is cleaned up self.assertEqual(set(), drvr._device_event_handler._waiters) def test__detach_with_retry_libvirt_reports_not_found_live_detach_done( self ): """"""Test that libvirt reports that the device is not found in the persistent domain but as live detach is also requested the original error is just logged and the live detach is attempted. """""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.has_persistent_configuration.return_value = True mock_dev = mock.Mock(spec=vconfig.LibvirtConfigGuestDisk) mock_dev.alias = 'virtio-disk1' mock_get_device_conf_func = mock.Mock( # the first call is to get the device from the persistent domain # the second call is to get the device from the live domain # the third call is to double check that the dev is gone from the # live domain # NOTE(gibi): as the persistent detach fails with exception the # driver does not double check that the device is removed but # simply move to the live detach side_effect=[ mock_dev, mock_dev, None, ] ) # there will be two detach attempts: # 1) with persistent=True: simulate that libvirt fails synchronosuly # signalling that the device is not found. # 2) with persistent=True: simulate that detach succeeds by emitting # the libvirt event def fake_detach_device(dev, persistent, live): if persistent: raise fakelibvirt.make_libvirtError( fakelibvirt.libvirtError, msg='error', error_code=fakelibvirt.VIR_ERR_DEVICE_MISSING) else: drvr.emit_event( libvirtevent.DeviceRemovedEvent( uuids.instance_uuid, dev.alias)) mock_guest.detach_device.side_effect = fake_detach_device drvr._detach_with_retry( mock_guest, uuids.instance_uuid, mock_get_device_conf_func, device_name='vdb', live=True, ) mock_guest.has_persistent_configuration.assert_called_once_with() mock_get_device_conf_func.assert_has_calls( [ mock.call(from_persistent_config=True), mock.call(), mock.call(), ]) mock_guest.detach_device.assert_has_calls( [ mock.call(mock_dev, persistent=True, live=False), mock.call(mock_dev, persistent=False, live=True), ] ) # check that the internal event handling is cleaned up self.assertEqual(set(), drvr._device_event_handler._waiters) def test__detach_with_retry_libvirt_reports_not_found_give_up(self): """"""Test that libvirt reports that the device is not found in the persistent domain and as live detach is not requested the drive simply bubble up the exception. """""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.has_persistent_configuration.return_value = True mock_dev = mock.Mock(spec=vconfig.LibvirtConfigGuestDisk) mock_dev.alias = 'virtio-disk1' mock_get_device_conf_func = mock.Mock( # the first call is to get the device from the persistent domain # NOTE(gibi): as the persistent detach fails with exception the # driver does not double check that the device is removed but # simply gives up side_effect=[ mock_dev, ] ) mock_guest.detach_device.side_effect = fakelibvirt.make_libvirtError( fakelibvirt.libvirtError, msg='error', error_code=fakelibvirt.VIR_ERR_DEVICE_MISSING) self.assertRaises( exception.DeviceNotFound, drvr._detach_with_retry, mock_guest, uuids.instance_uuid, mock_get_device_conf_func, device_name='vdb', live=False, ) mock_guest.has_persistent_configuration.assert_called_once_with() mock_get_device_conf_func.assert_called_once_with( from_persistent_config=True) mock_guest.detach_device.assert_called_once_with( mock_dev, persistent=True, live=False) def test__detach_with_retry_other_sync_libvirt_error(self): """"""Test that libvirt reports non device related error during detach from persistent config which causes that the driver gives up regardless of the fact that live detach also requested. """""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.has_persistent_configuration.return_value = True mock_dev = mock.Mock(spec=vconfig.LibvirtConfigGuestDisk) mock_dev.alias = 'virtio-disk1' mock_get_device_conf_func = mock.Mock( # the first call is to get the device from the persistent domain # the second all is to get the device from the live domain side_effect=[ mock_dev, mock_dev, ] ) mock_guest.detach_device.side_effect = fakelibvirt.make_libvirtError( fakelibvirt.libvirtError, msg='error', error_code=fakelibvirt.VIR_ERR_NO_DOMAIN) self.assertRaises( fakelibvirt.libvirtError, drvr._detach_with_retry, mock_guest, uuids.instance_uuid, mock_get_device_conf_func, device_name='vdb', live=True, ) mock_guest.has_persistent_configuration.assert_called_once_with() mock_get_device_conf_func.assert_has_calls( [ mock.call(from_persistent_config=True), mock.call(), ]) # NOTE(gibi): the drive does not attempt a live detach even though # it was requested mock_guest.detach_device.assert_called_once_with( mock_dev, persistent=True, live=False) self.assertEqual(1, len(mock_debug.mock_calls)) self.assertIn( ""the driver is not waiting for it; ignored."", mock_debug.mock_calls[0][1][0])"," return_list = [mock_xml_with_disk, mock_xml_without_disk, mock_xml_without_disk] flags = (fakelibvirt.VIR_DOMAIN_AFFECT_CONFIG | fakelibvirt.VIR_DOMAIN_AFFECT_LIVE) call = mock_dom.detachDeviceFlags.mock_calls[0] </disk>"""""" self.assertEqual({""flags"": flags}, call.kwargs) mock_get_encryptor, mock_get_volume_driver): mock_order.attach_mock(mock_guest.detach_device_with_retry(), mock.call.detach_volume(), def test_immediate_delete(self, mock_save, mock_get, mock_delete): def _test_detach_interface(self, power_state, expected_flags, device_not_found=False): info=[power_state, 1, 2, 3, 4]) # This will trigger detach_device_with_retry to raise get_interface_calls = [expected_cfg, None] else: get_interface_calls = [expected_cfg, expected_cfg, None, None] mock_get_interface.assert_has_calls( [mock.call(expected_cfg) for x in range(len(get_interface_calls))]) else: mock_detach_device_flags.assert_called_once_with( expected_cfg.to_xml(), flags=expected_flags) mock_warning.assert_not_called() self._test_detach_interface( power_state.RUNNING, expected_flags=(fakelibvirt.VIR_DOMAIN_AFFECT_CONFIG | fakelibvirt.VIR_DOMAIN_AFFECT_LIVE)) self._test_detach_interface( power_state.RUNNING, expected_flags=(fakelibvirt.VIR_DOMAIN_AFFECT_CONFIG | fakelibvirt.VIR_DOMAIN_AFFECT_LIVE), device_not_found=True) self._test_detach_interface( power_state.PAUSED, expected_flags=(fakelibvirt.VIR_DOMAIN_AFFECT_CONFIG | fakelibvirt.VIR_DOMAIN_AFFECT_LIVE)) self._test_detach_interface( power_state.SHUTDOWN, expected_flags=(fakelibvirt.VIR_DOMAIN_AFFECT_CONFIG)) def test_detach_interface_guest_not_found_after_detach(self, mock_log): guest.detach_device_with_retry.side_effect = error expected_flags = (fakelibvirt.VIR_DOMAIN_AFFECT_CONFIG | fakelibvirt.VIR_DOMAIN_AFFECT_LIVE) mock.patch.object(libvirt_guest.Guest, 'get_interface_by_cfg', side_effect=[expected, expected, None, None]), mock_get_interface.assert_has_calls([mock.call(expected)] * 3) self.assertEqual(4, mock_get_interface.call_count) mock_detach.assert_called_once_with(expected.to_xml(), flags=expected_flags) mock_wait_for_detach = mock.Mock() mock.patch.object(guest, 'detach_device_with_retry', return_value=mock_wait_for_detach), mock_detach_device_with_retry, mock_get_guest_config_meta, mock_detach_device_with_retry.assert_called_once_with( guest.get_interface_by_cfg, cfg, live=False, alternative_device_name=None) mock_wait_for_detach.assert_called_once_with() mock_debug.assert_not_called()",1026,383
openstack%2Fpuppet-openstacklib~master~I001d579a1b126fc8254f071ddbecda5cc6de7231,openstack/puppet-openstacklib,master,I001d579a1b126fc8254f071ddbecda5cc6de7231,Replace URI.escape() with ERB::Util.url_encode(),MERGED,2021-05-20 03:36:57.000000000,2021-05-20 17:24:12.000000000,2021-05-20 17:24:12.000000000,"[{'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 03:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/37bae5c29c8541dfea296415f2640a188ca3be44', 'message': 'WIP Replace URI.escape with ERB::Util.url_encode\n\nURI.escape() method has been removed in ruby 3.\n\nChange-Id: I001d579a1b126fc8254f071ddbecda5cc6de7231\n'}, {'number': 2, 'created': '2021-05-20 06:43:49.000000000', 'files': ['lib/puppet/functions/os_transport_url.rb', 'lib/puppet/functions/os_database_connection.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/0699227b3cd02d8eec7f022f97a945313de46ed5', 'message': 'Replace URI.escape() with ERB::Util.url_encode()\n\nURI.escape() method has been removed in ruby 3 and\nthe newly added Puppet::Util.rfc2396_escape()[1]\nhas not been released yet.\n\n[1] https://github.com/puppetlabs/puppet/pull/8588/commits/41dcae71c7d10b9cc3c190897d02c5082ddd2076\n\nCloses-Bug: #1928685\nChange-Id: I001d579a1b126fc8254f071ddbecda5cc6de7231\n'}]",0,792314,0699227b3cd02d8eec7f022f97a945313de46ed5,11,5,2,8833,,,0,"Replace URI.escape() with ERB::Util.url_encode()

URI.escape() method has been removed in ruby 3 and
the newly added Puppet::Util.rfc2396_escape()[1]
has not been released yet.

[1] https://github.com/puppetlabs/puppet/pull/8588/commits/41dcae71c7d10b9cc3c190897d02c5082ddd2076

Closes-Bug: #1928685
Change-Id: I001d579a1b126fc8254f071ddbecda5cc6de7231
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/14/792314/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/functions/os_transport_url.rb', 'lib/puppet/functions/os_database_connection.rb']",2,37bae5c29c8541dfea296415f2640a188ca3be44,," require 'erb' parts[:userinfo] = ERB::Util.url_encode(v['username']) parts[:userinfo] += "":#{ERB::Util.url_encode(v['password'])}"""," require 'uri' parts[:userinfo] = URI.escape(v['username']) parts[:userinfo] += "":#{URI.escape(v['password'])}""",6,6
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Iccf97ca676ee6096e47474c571bd4f53381ce1c9,openstack/tripleo-heat-templates,stable/wallaby,Iccf97ca676ee6096e47474c571bd4f53381ce1c9,Introduce CephHciOsdCount and CephHciOsdType,MERGED,2021-05-19 18:31:31.000000000,2021-05-20 17:00:48.000000000,2021-05-20 16:59:02.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-05-19 18:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9addf8875e80ef1522f6f02b35d42650638746b3', 'message': 'Introduce CephHciOsdCount and CephHciOsdType\n\nCephHciOsdCount is the number of expected Ceph OSDs per HCI node.\nCephHciOsdType is the type of data_device (not db_device) used for\neach OSD and must be one of hdd, ssd, or nvme. These are used by\nthe Ansible module tripleo_derive_hci_parameters. Since CephOsdSpec,\nas used by cephadm, might only specify a description of devices to\nbe used as OSDs (e.g. all devices), and not a list of devices like\nCephAnsibleDisksConfig, setting the count directly is necessary in\norder to know how much CPU/RAM to reserve. Similarly, because a\ndevice path is not hard coded, we cannot look up that device in\nIronic to determine its type.\n\nCloses-Bug: #1920954\nDepends-On: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\nChange-Id: Iccf97ca676ee6096e47474c571bd4f53381ce1c9\n'}, {'number': 2, 'created': '2021-05-19 18:37:06.000000000', 'files': ['releasenotes/notes/ceph-hci-osd-count-type-241614543ef7cc58.yaml', 'deployment/cephadm/ceph-osd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e86165354e792749acdb6e04bd7cbc626ea14456', 'message': 'Introduce CephHciOsdCount and CephHciOsdType\n\nCephHciOsdCount is the number of expected Ceph OSDs per HCI node.\nCephHciOsdType is the type of data_device (not db_device) used for\neach OSD and must be one of hdd, ssd, or nvme. These are used by\nthe Ansible module tripleo_derive_hci_parameters. Since CephOsdSpec,\nas used by cephadm, might only specify a description of devices to\nbe used as OSDs (e.g. all devices), and not a list of devices like\nCephAnsibleDisksConfig, setting the count directly is necessary in\norder to know how much CPU/RAM to reserve. Similarly, because a\ndevice path is not hard coded, we cannot look up that device in\nIronic to determine its type.\n\nCloses-Bug: #1920954\nDepends-On: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\nChange-Id: Iccf97ca676ee6096e47474c571bd4f53381ce1c9\n(cherry picked from commit f14bfb14c7cb8b0af2d1663160ff43e1e38bb882)\n'}]",0,792165,e86165354e792749acdb6e04bd7cbc626ea14456,12,3,2,18002,,,0,"Introduce CephHciOsdCount and CephHciOsdType

CephHciOsdCount is the number of expected Ceph OSDs per HCI node.
CephHciOsdType is the type of data_device (not db_device) used for
each OSD and must be one of hdd, ssd, or nvme. These are used by
the Ansible module tripleo_derive_hci_parameters. Since CephOsdSpec,
as used by cephadm, might only specify a description of devices to
be used as OSDs (e.g. all devices), and not a list of devices like
CephAnsibleDisksConfig, setting the count directly is necessary in
order to know how much CPU/RAM to reserve. Similarly, because a
device path is not hard coded, we cannot look up that device in
Ironic to determine its type.

Closes-Bug: #1920954
Depends-On: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3
Change-Id: Iccf97ca676ee6096e47474c571bd4f53381ce1c9
(cherry picked from commit f14bfb14c7cb8b0af2d1663160ff43e1e38bb882)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/792165/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ceph-hci-osd-count-type-241614543ef7cc58.yaml', 'deployment/cephadm/ceph-osd.yaml']",2,9addf8875e80ef1522f6f02b35d42650638746b3,cherrypick-bug/1920954-cpmfp6gdn4," CephHciOsdCount: type: number default: 0 tags: - role_specific description: | The number of expected Ceph OSDs per HCI node. Used by Ansible module tripleo_derive_hci_parameters when cephadm/HCI is used. Since CephOsdSpec might only specify a description of devices to be used as OSDs (e.g. all devices), and not a list of devices as found in CephAnsibleDisksConfig, this number is necessary in order to know how much CPU/RAM to reserve. CephHciOsdType: type: string default: 'hdd' tags: - role_specific constraints: - allowed_values: ['hdd', 'ssd', 'nvme'] description: | CephHciOsdType is the type of data_device (not db_device) used for each HCI node's OSD and must be one of hdd, ssd, or nvme. Used by Ansible module tripleo_derive_hci_parameters when cephadm/HCI is used. Since CephOsdSpec might only specify a description of devices to be used as OSDs (e.g. all devices), and not a list of devices as found in CephAnsibleDisksConfig, the device path is not hard coded so we cannot look up that device in Ironic to determine its type. If CephOsdSpec has data_devices/rotational=1 and db_devices/rotational=0, then set CephHciOsdType to 'hdd', since only the DB/WAL are on SSD. If an OSD data device is an SSD or NVMe SSD, then set the type accordingly so that the derive paramters module can allocate the optimal number of CPUs per device.",,38,0
openstack%2Fironic~master~I31e128f5273cc50bf7662a62080251d8f226f6c5,openstack/ironic,master,I31e128f5273cc50bf7662a62080251d8f226f6c5,Trivial: comment why we don't check retired in allocations,MERGED,2021-05-20 09:03:12.000000000,2021-05-20 16:46:59.000000000,2021-05-20 12:23:51.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-20 09:03:12.000000000', 'files': ['ironic/conductor/allocations.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fb72d7dca65eefe06bec6880d12271c66b161efb', 'message': ""Trivial: comment why we don't check retired in allocations\n\nChange-Id: I31e128f5273cc50bf7662a62080251d8f226f6c5\n""}]",0,792335,fb72d7dca65eefe06bec6880d12271c66b161efb,12,3,1,10239,,,0,"Trivial: comment why we don't check retired in allocations

Change-Id: I31e128f5273cc50bf7662a62080251d8f226f6c5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/35/792335/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/allocations.py'],1,fb72d7dca65eefe06bec6880d12271c66b161efb,allocation-retired, # NOTE(dtantsur): not checking the retired flag because it's impossible # (by the API contract) to have a retired node in the available state.,,2,0
openstack%2Fnova~stable%2Fwallaby~I8d3c9bdfd2f4db968a72a44344576a560f0145fb,openstack/nova,stable/wallaby,I8d3c9bdfd2f4db968a72a44344576a560f0145fb,Fix typo in test_utils,ABANDONED,2021-05-11 15:10:00.000000000,2021-05-20 16:19:41.000000000,,"[{'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 15:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3c67303d4102b2a4456ee5ccdee6587faa3a50c', 'message': ""Fix typo in test_utils\n\nMissing 'c':\nfuntions -> functions\n\nChange-Id: I8d3c9bdfd2f4db968a72a44344576a560f0145fb\n""}, {'number': 2, 'created': '2021-05-11 21:07:20.000000000', 'files': ['nova/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d4a11034b70f3279503cc79723be28b74ee11d80', 'message': ""Fix typo in test_utils\n\nMissing 'c':\nfuntions -> functions\n\nChange-Id: I8d3c9bdfd2f4db968a72a44344576a560f0145fb\n(cherry picked from commit 251e601a4d86b487723b5297abf38b967def3d5e)\n""}]",0,790724,d4a11034b70f3279503cc79723be28b74ee11d80,13,3,2,27478,,,0,"Fix typo in test_utils

Missing 'c':
funtions -> functions

Change-Id: I8d3c9bdfd2f4db968a72a44344576a560f0145fb
(cherry picked from commit 251e601a4d86b487723b5297abf38b967def3d5e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/790724/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_utils.py'],1,e3c67303d4102b2a4456ee5ccdee6587faa3a50c,fix-typo-stable/wallaby, def test_wrapped_functions_called_once(self): def test_wrapped_functions_called_once_raises(self): def test_wrapped_functions_can_be_reset(self):, def test_wrapped_funtions_called_once(self): def test_wrapped_funtions_called_once_raises(self): def test_wrapped_funtions_can_be_reset(self):,3,3
openstack%2Fopenstack-zuul-jobs~master~I069e76814130c10c6f691626b319ebb9f0fbf472,openstack/openstack-zuul-jobs,master,I069e76814130c10c6f691626b319ebb9f0fbf472,ubuntu-bionic for openstack-python37-jobs-no-constraints,MERGED,2021-05-20 14:25:47.000000000,2021-05-20 16:09:15.000000000,2021-05-20 16:06:05.000000000,"[{'_account_id': 2475}, {'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 13807}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 14:25:47.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0d4a2f25dee86769b1ffcb36545f02a438a34ee4', 'message': ""ubuntu-bionic for openstack-python37-jobs-no-constraints\n\nThe other python-version-specific job templates specify nodeset\noverrides if the jobs they include don't (for example those directly\nincluding jobs from the zuul-jobs standard library). Fix this in\ntox-py37-no-constraints so that it works again after this week's\nOpenDev default nodeset change.\n\nChange-Id: I069e76814130c10c6f691626b319ebb9f0fbf472\n""}]",0,792390,0d4a2f25dee86769b1ffcb36545f02a438a34ee4,12,5,1,5263,,,0,"ubuntu-bionic for openstack-python37-jobs-no-constraints

The other python-version-specific job templates specify nodeset
overrides if the jobs they include don't (for example those directly
including jobs from the zuul-jobs standard library). Fix this in
tox-py37-no-constraints so that it works again after this week's
OpenDev default nodeset change.

Change-Id: I069e76814130c10c6f691626b319ebb9f0fbf472
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/90/792390/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,0d4a2f25dee86769b1ffcb36545f02a438a34ee4,default-nodeset, - tox-py37: nodeset: ubuntu-bionic - tox-py37: nodeset: ubuntu-bionic, - tox-py37 - tox-py37,4,2
openstack%2Fkolla~master~Id113a53c083d105ac9200474ff20faacef6decaf,openstack/kolla,master,Id113a53c083d105ac9200474ff20faacef6decaf,CI: add monasca-grafana to allowed-to-fail images,MERGED,2021-04-06 08:42:30.000000000,2021-05-20 15:53:53.000000000,2021-04-06 13:13:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-06 08:42:30.000000000', 'files': ['tests/playbooks/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/931d401887252d8830ebfb4d0b5d352f77094e9a', 'message': ""CI: add monasca-grafana to allowed-to-fail images\n\nThe monasca-grafana image is currently failing to build.\n\nINFO:kolla.common.utils.monasca-grafana:go install -v ./pkg/cmd/grafana-server\nINFO:kolla.common.utils.monasca-grafana:[91mgo: cannot find main module, but found vendor/vendor.json in /grafana/src/github.com/grafana/grafana\nINFO:kolla.common.utils.monasca-grafana:        to create a module there, run:\nINFO:kolla.common.utils.monasca-grafana:        go mod init\n\nLet's unblock the gate and diagnose asynchronously.\n\nChange-Id: Id113a53c083d105ac9200474ff20faacef6decaf\n""}]",0,784891,931d401887252d8830ebfb4d0b5d352f77094e9a,16,5,1,14826,,,0,"CI: add monasca-grafana to allowed-to-fail images

The monasca-grafana image is currently failing to build.

INFO:kolla.common.utils.monasca-grafana:go install -v ./pkg/cmd/grafana-server
INFO:kolla.common.utils.monasca-grafana:[91mgo: cannot find main module, but found vendor/vendor.json in /grafana/src/github.com/grafana/grafana
INFO:kolla.common.utils.monasca-grafana:        to create a module there, run:
INFO:kolla.common.utils.monasca-grafana:        go mod init

Let's unblock the gate and diagnose asynchronously.

Change-Id: Id113a53c083d105ac9200474ff20faacef6decaf
",git fetch https://review.opendev.org/openstack/kolla refs/changes/91/784891/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/playbooks/run.yml'],1,931d401887252d8830ebfb4d0b5d352f77094e9a,," # FIXME(mgoddard): monasca-grafana is failing to build: # go: cannot find main module, but found vendor/vendor.json in # /grafana/src/github.com/grafana/grafana allowed_to_fail: ""monasca-grafana""",,4,0
openstack%2Fneutron~master~Iba37581916842bb5fc9f42f7f483d3431747bf8d,openstack/neutron,master,Iba37581916842bb5fc9f42f7f483d3431747bf8d,Add mitogen to the docs requirements,MERGED,2021-05-19 07:28:44.000000000,2021-05-20 15:53:43.000000000,2021-05-20 15:50:15.000000000,"[{'_account_id': 5948}, {'_account_id': 11952}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-05-19 07:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93627e822c4b6375e3faf0bd5c547dc3aaa7ac71', 'message': ""Add mitogen to the docs requirements\n\nMitogen is dependency of the pyroute2 and was added link to it\nthe docs in pyroute2 0.6.1. Due to the missing mitogen in our\ndocs venv, docs job was failing.\nSo let's install mitogen as the docs requirement, at least for now\nto unblock our gate.\nLater we can think about better solution as e.g. adding it properly to\nthe requirements or report and fix the issue in the pyroute2.\n\nChange-Id: Iba37581916842bb5fc9f42f7f483d3431747bf8d\nCloses-Bug: #1928913\n""}, {'number': 2, 'created': '2021-05-19 07:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b881c5a032cccbe0f78444af6571907ad4bc98c5', 'message': ""Add mitogen to the docs requirements\n\nMitogen is dependency of the pyroute2 and was added link to it\nthe docs in pyroute2 0.6.1. Due to the missing mitogen in our\ndocs venv, docs job was failing.\nSo let's install mitogen as docs env requirement, at least for now\nto unblock our gate.\nLater we can think about better solution as e.g. adding it properly to\nthe requirements or report and fix the issue in the pyroute2.\n\nChange-Id: Iba37581916842bb5fc9f42f7f483d3431747bf8d\nCloses-Bug: #1928913\n""}, {'number': 3, 'created': '2021-05-20 13:00:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a75fc891bc17fd49b9194d2aed4678d623ec8caf', 'message': ""Add mitogen to the docs requirements\n\nMitogen is dependency of the pyroute2 and was added link to it\nthe docs in pyroute2 0.6.1. Due to the missing mitogen in our\ndocs venv, docs job was failing.\nSo let's install mitogen as docs env requirement, at least for now\nto unblock our gate.\nLater we can think about better solution as e.g. adding it properly to\nthe requirements or report and fix the issue in the pyroute2.\n\nChange-Id: Iba37581916842bb5fc9f42f7f483d3431747bf8d\nCloses-Bug: #1928913\n""}]",0,792077,a75fc891bc17fd49b9194d2aed4678d623ec8caf,65,6,3,11975,,,0,"Add mitogen to the docs requirements

Mitogen is dependency of the pyroute2 and was added link to it
the docs in pyroute2 0.6.1. Due to the missing mitogen in our
docs venv, docs job was failing.
So let's install mitogen as docs env requirement, at least for now
to unblock our gate.
Later we can think about better solution as e.g. adding it properly to
the requirements or report and fix the issue in the pyroute2.

Change-Id: Iba37581916842bb5fc9f42f7f483d3431747bf8d
Closes-Bug: #1928913
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/792077/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,93627e822c4b6375e3faf0bd5c547dc3aaa7ac71,bug/1928913,# NOTE(slaweq): mitogen is optional dependency of the pyroute2 and without it # our docs job is failing mitogen>=0.2.9,,3,0
openstack%2Fnova~master~Ieb19b4e5ffde56b7f72805aa231f595f45989e60,openstack/nova,master,Ieb19b4e5ffde56b7f72805aa231f595f45989e60,Add regression test for bug #1928063,MERGED,2021-05-11 11:06:19.000000000,2021-05-20 15:53:12.000000000,2021-05-20 15:50:32.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 11:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27e88ee696452ab085737293afe89a6c40a8926c', 'message': 'Add regression test for bug #1928063\n\nRelated-Bug: #1928063\nChange-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60\n'}, {'number': 2, 'created': '2021-05-13 11:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e7a654f2eb7dc9a644f3de65de0bdc48ca6d27e', 'message': 'Add regression test for bug #1928063\n\nRelated-Bug: #1928063\nChange-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60\n'}, {'number': 3, 'created': '2021-05-14 11:57:57.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1928063.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e1cc0ed978d40596d368ba19063fb5b51e96421e', 'message': 'Add regression test for bug #1928063\n\nRelated-Bug: #1928063\nChange-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60\n'}]",2,790658,e1cc0ed978d40596d368ba19063fb5b51e96421e,26,3,3,10135,,,0,"Add regression test for bug #1928063

Related-Bug: #1928063
Change-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/790658/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1928063.py'],1,27e88ee696452ab085737293afe89a6c40a8926c,bug/1928063,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import datetime import mock from oslo_utils.fixture import uuidsentinel as uuids from nova import test from nova.tests.functional.api import client from nova.tests.functional.libvirt import base from nova.tests.unit.virt.libvirt import fakelibvirt from nova.virt.libvirt.host import SEV_KERNEL_PARAM_FILE class TestSEVInstanceReboot(base.ServersTestBase): """"""Regression test for bug #1899835 This regression test aims to assert the failure to hard reboot SEV based instances due to the use of image_meta.name within nova.virt.hardware.get_mem_encryption_constraint. """""" microversion = 'latest' @test.patch_exists(SEV_KERNEL_PARAM_FILE, True) @test.patch_open(SEV_KERNEL_PARAM_FILE, ""1\n"") @mock.patch.object( fakelibvirt.virConnect, '_domain_capability_features', new=fakelibvirt.virConnect._domain_capability_features_with_SEV) def setUp(self): super().setUp() # Configure the compute to allow SEV based instances and then start self.flags(num_memory_encrypted_guests=16, group='libvirt') self.start_compute() # Create a SEV enabled image for the test sev_image = { 'id': uuids.sev_image_uuid, 'name': 'sev', 'created_at': datetime.datetime(2021, 1, 1, 1, 2, 3), 'updated_at': datetime.datetime(2021, 1, 1, 1, 2, 3), 'deleted_at': None, 'deleted': False, 'status': 'active', 'is_public': False, 'container_format': 'raw', 'disk_format': 'raw', 'size': '25165824', 'min_ram': 0, 'min_disk': 0, 'protected': False, 'visibility': 'public', 'properties': { 'hw_firmware_type': 'uefi', 'hw_machine_type': 'q35', 'hw_mem_encryption': 'True', }, } self.glance.create(None, sev_image) def test_hard_reboot(self): # Launch a SEV based instance and then attempt to hard reboot server = self._create_server( image_uuid=uuids.sev_image_uuid, networks='none' ) # FIXME(lyarwood): This is bug #1928063, the instance fails to reboot # due to a NotImplementedError exception being raised when we try to # access image_meta.name as this isn't stashed in the system_metadata # of the instance and as a result is not provided in the image_meta # associated with the instance during this flow. ex = self.assertRaises( client.OpenStackApiException, self._reboot_server, server, hard=True) self.assertEqual(500, ex.response.status_code) ",,86,0
openstack%2Fdevstack~master~Ie002faf4c96ac7f207207a481c057b8df0289e6c,openstack/devstack,master,Ie002faf4c96ac7f207207a481c057b8df0289e6c,Fix unit test to use python3 command,MERGED,2021-05-18 22:16:28.000000000,2021-05-20 15:51:19.000000000,2021-05-20 15:49:47.000000000,"[{'_account_id': 8556}, {'_account_id': 20813}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-18 22:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e612f5facb28aa4e329480df12104ba70e4ecd31', 'message': ""Fix unit test to use python3 command\n\nunit test jobs staretd to run on ubuntu-focal now\nand failing for using 'python' command.\n\nChange-Id: Ie002faf4c96ac7f207207a481c057b8df0289e6c\n""}, {'number': 2, 'created': '2021-05-19 15:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fcc51389f142ebdf6d520a6c3ee54756e6855540', 'message': ""Fix unit test to use python3 command\n\nunit test jobs staretd to run on ubuntu-focal now\nand failing for using 'python' command.\n\nChange-Id: Ie002faf4c96ac7f207207a481c057b8df0289e6c\n""}, {'number': 3, 'created': '2021-05-19 16:20:24.000000000', 'files': ['tests/test_write_devstack_local_conf_role.sh', 'tests/unittest.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f0736406f5ce055072a62a62fe9fdc7cead49671', 'message': ""Fix unit test to use python3 command\n\nunit test jobs staretd to run on ubuntu-focal now\nand failing for using 'python' command.\n\nChange-Id: Ie002faf4c96ac7f207207a481c057b8df0289e6c\n""}]",6,792048,f0736406f5ce055072a62a62fe9fdc7cead49671,27,6,3,8556,,,0,"Fix unit test to use python3 command

unit test jobs staretd to run on ubuntu-focal now
and failing for using 'python' command.

Change-Id: Ie002faf4c96ac7f207207a481c057b8df0289e6c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/48/792048/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_write_devstack_local_conf_role.sh'],1,e612f5facb28aa4e329480df12104ba70e4ecd31,,python3 ./roles/write-devstack-local-conf/library/test.py,python ./roles/write-devstack-local-conf/library/test.py,1,1
openstack%2Fopenstack-helm~master~I8df32c6bcc0b9a0c65aa1299c6a792b27da81ae8,openstack/openstack-helm,master,I8df32c6bcc0b9a0c65aa1299c6a792b27da81ae8,Remove old release jobs and update to latest,MERGED,2021-04-30 19:40:02.000000000,2021-05-20 15:49:15.000000000,2021-05-20 15:45:02.000000000,"[{'_account_id': 1004}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-30 19:40:02.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cc8fe0c0aadf8cf40dad63748ea570c6cbc4694a', 'message': 'Remove old release jobs and update to latest\n\nWith the latest change[0] officially dropping support for older\nnon-maintained releases, this change removes several EOL release\njobs as well as bumps anything using those up to the latest\nsupported T release.\n\n[0] https://review.opendev.org/c/openstack/openstack-helm/+/788380\n\nChange-Id: I8df32c6bcc0b9a0c65aa1299c6a792b27da81ae8\n'}]",0,789022,cc8fe0c0aadf8cf40dad63748ea570c6cbc4694a,12,6,1,21420,,,0,"Remove old release jobs and update to latest

With the latest change[0] officially dropping support for older
non-maintained releases, this change removes several EOL release
jobs as well as bumps anything using those up to the latest
supported T release.

[0] https://review.opendev.org/c/openstack/openstack-helm/+/788380

Change-Id: I8df32c6bcc0b9a0c65aa1299c6a792b27da81ae8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/22/789022/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml']",2,cc8fe0c0aadf8cf40dad63748ea570c6cbc4694a,old-release-cleanup, osh_openstack_release: train openstack_release: train openstack_release: train openstack_release: train openstack_release: train openstack_release: train openstack_release: train openstack_release: train osh_openstack_release: train, osh_openstack_release: stein openstack_release: stein openstack_release: stein name: openstack-helm-cinder-pike-ubuntu_xenial parent: openstack-helm-cinder vars: osh_params: openstack_release: pike container_distro_name: ubuntu container_distro_version: xenial - job: name: openstack-helm-cinder-queens-ubuntu_xenial parent: openstack-helm-cinder vars: osh_params: openstack_release: queens container_distro_name: ubuntu container_distro_version: xenial - job: name: openstack-helm-cinder-rocky-ubuntu_xenial parent: openstack-helm-cinder vars: osh_params: openstack_release: rocky container_distro_name: ubuntu container_distro_version: xenial - job: name: openstack-helm-cinder-rocky-ubuntu_bionic parent: openstack-helm-cinder vars: osh_params: openstack_release: rocky container_distro_name: ubuntu container_distro_version: bionic - job: name: openstack-helm-cinder-rocky-opensuse_15 parent: openstack-helm-cinder vars: osh_params: openstack_release: rocky container_distro_name: opensuse container_distro_version: '15' - job: name: openstack-helm-cinder-ocata-ubuntu_xenial parent: openstack-helm-cinder vars: osh_params: openstack_release: ocata container_distro_name: ubuntu container_distro_version: xenial - job: name: openstack-helm-cinder-stein-ubuntu_bionic parent: openstack-helm-cinder vars: osh_params: openstack_release: stein container_distro_name: ubuntu container_distro_version: bionic - job: openstack_release: stein name: openstack-helm-compute-kit-pike-ubuntu_xenial parent: openstack-helm-compute-kit vars: osh_params: openstack_release: pike container_distro_name: ubuntu container_distro_version: xenial - job: name: openstack-helm-compute-kit-queens-ubuntu_xenial parent: openstack-helm-compute-kit vars: osh_params: openstack_release: queens container_distro_name: ubuntu container_distro_version: xenial - job: name: openstack-helm-compute-kit-rocky-ubuntu_xenial parent: openstack-helm-compute-kit vars: osh_params: openstack_release: rocky container_distro_name: ubuntu container_distro_version: xenial - job: name: openstack-helm-compute-kit-rocky-ubuntu_bionic parent: openstack-helm-compute-kit vars: osh_params: openstack_release: rocky container_distro_name: ubuntu container_distro_version: bionic - job: name: openstack-helm-compute-kit-rocky-opensuse_15 parent: openstack-helm-compute-kit vars: osh_params: openstack_release: rocky container_distro_name: opensuse container_distro_version: '15' - job: name: openstack-helm-compute-kit-ocata-ubuntu_xenial parent: openstack-helm-compute-kit vars: osh_params: openstack_release: ocata container_distro_name: ubuntu container_distro_version: xenial - job: name: openstack-helm-compute-kit-stein-ubuntu_bionic parent: openstack-helm-compute-kit vars: osh_params: openstack_release: stein container_distro_name: ubuntu container_distro_version: bionic - job: openstack_release: stein openstack_release: stein openstack_release: stein openstack_release: stein osh_openstack_release: stein,9,135
openstack%2Fneutron~master~Ice20d22365acaf33ee211b1e38b7d0bc151c1ba8,openstack/neutron,master,Ice20d22365acaf33ee211b1e38b7d0bc151c1ba8,[OVN] Fix: Disabling snat after it was enabled,MERGED,2021-04-28 12:44:15.000000000,2021-05-20 15:42:56.000000000,2021-05-20 15:40:37.000000000,"[{'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-04-28 12:44:15.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ddc8e625f714aebd65a454f23fedc6d9a9320e89', 'message': '[OVN] Fix: Disabling snat after it was enabled\n\nThis patch removes a conditional check in the update_router() method\nwhich was verifying if snat was enabled in order to update the nat\nrules. This check does not make sense in the update method as if snat\nwas disabled we should still call update_nat_rules() which will then\nremove the NAT entry from the OVN NB DB.\n\nChange-Id: Ice20d22365acaf33ee211b1e38b7d0bc151c1ba8\nCloses-Bug: #1922089\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,788485,ddc8e625f714aebd65a454f23fedc6d9a9320e89,13,6,1,6773,,,0,"[OVN] Fix: Disabling snat after it was enabled

This patch removes a conditional check in the update_router() method
which was verifying if snat was enabled in order to update the nat
rules. This check does not make sense in the update method as if snat
was disabled we should still call update_nat_rules() which will then
remove the NAT entry from the OVN NB DB.

Change-Id: Ice20d22365acaf33ee211b1e38b7d0bc151c1ba8
Closes-Bug: #1922089
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/788485/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",2,ddc8e625f714aebd65a454f23fedc6d9a9320e89,bug/1922089-disable-snat,," @mock.patch('neutron.common.ovn.utils.is_snat_enabled', mock.Mock(return_value=True))",4,7
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I54e617745e76f27a4c88156a9b1b17d0255ec837,openstack/tripleo-heat-templates,stable/victoria,I54e617745e76f27a4c88156a9b1b17d0255ec837,Add OVNEncapType option to the ovn controller template,MERGED,2021-05-19 08:32:27.000000000,2021-05-20 15:40:07.000000000,2021-05-20 15:40:07.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-19 08:32:27.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4cec5b729747c3c8cb607c6cd0f6e1821332f06', 'message': 'Add OVNEncapType option to the ovn controller template\n\nSince OVN 2.13 it is possible to use vxlan encapsulation in the OVN\ntunnel networks.\nTo do that, it has to be set in the external_ids:ovn-encap-type. There\nis support for that in the puppet-ovn module already.\nThis patch adds missing TripleO-heat-template variable.\n\nRelated-bz: #1881697\nChange-Id: I54e617745e76f27a4c88156a9b1b17d0255ec837\n(cherry picked from commit 1542df355bd22b83baaba1444fc58028046a5185)\n'}]",0,792099,b4cec5b729747c3c8cb607c6cd0f6e1821332f06,10,4,1,11975,,,0,"Add OVNEncapType option to the ovn controller template

Since OVN 2.13 it is possible to use vxlan encapsulation in the OVN
tunnel networks.
To do that, it has to be set in the external_ids:ovn-encap-type. There
is support for that in the puppet-ovn module already.
This patch adds missing TripleO-heat-template variable.

Related-bz: #1881697
Change-Id: I54e617745e76f27a4c88156a9b1b17d0255ec837
(cherry picked from commit 1542df355bd22b83baaba1444fc58028046a5185)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/792099/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,b4cec5b729747c3c8cb607c6cd0f6e1821332f06,bz/1881697-stable/victoria," OVNEncapType: description: > Type of encapsulation used in OVN. It can be ""geneve"" or ""vxlan"". type: string default: ""geneve"" constraints: - allowed_values: [""geneve"", ""vxlan""] ovn::controller::ovn_encap_type: {get_param: OVNEncapType}",,8,0
openstack%2Ftripleo-operator-ansible~master~Ic4aafd9ed1b005354cd55a59868dd8edf7504837,openstack/tripleo-operator-ansible,master,Ic4aafd9ed1b005354cd55a59868dd8edf7504837,tripleo_repos: add tripleo_repos_repo_branch,MERGED,2021-05-06 14:15:08.000000000,2021-05-20 15:10:56.000000000,2021-05-20 14:42:39.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 14:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/566b9dbc192ca497b9ad21399f957316d042ef0b', 'message': 'tripleo_repos: add tripleo_repos_repo_branch\n\nAllow an user to pull tripleo-repos from master but install TripleO\nTrain repos.\nThey\'ll be able to do that with overriding tripleo_repos_repo_branch to\n""master"" while tripleo_repos_branch would be set to ""train"".\n\nChange-Id: Ic4aafd9ed1b005354cd55a59868dd8edf7504837\n'}, {'number': 2, 'created': '2021-05-06 16:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/ecd7fac6625c6ae3c80f9025c31ff8082d299fb5', 'message': 'tripleo_repos: add tripleo_repos_repo_branch\n\nAllow an user to pull tripleo-repos from master but install TripleO\nTrain repos.\nThey\'ll be able to do that with overriding tripleo_repos_repo_branch to\n""master"" while tripleo_repos_branch would be set to ""train"".\n\nNote: if tripleo_repos_repo_branch is undefined, we default to\ntripleo_repos_branch.\n\nChange-Id: Ic4aafd9ed1b005354cd55a59868dd8edf7504837\n'}, {'number': 3, 'created': '2021-05-06 17:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/ddeff7c0e12996b0c7cbe8fff2b0b783261831e2', 'message': 'tripleo_repos: add tripleo_repos_repo_branch\n\nAllow an user to pull tripleo-repos from master but install TripleO\nTrain repos.\nThey\'ll be able to do that with overriding tripleo_repos_repo_branch to\n""master"" while tripleo_repos_branch would be set to ""train"".\n\nNote: if tripleo_repos_repo_branch is undefined, we default to\ntripleo_repos_branch.\n\nChange-Id: Ic4aafd9ed1b005354cd55a59868dd8edf7504837\n'}, {'number': 4, 'created': '2021-05-07 02:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/63bb9a281affb45cdde2e4820291308e17e93f3a', 'message': 'tripleo_repos: add tripleo_repos_repo_branch\n\nAllow an user to pull tripleo-repos from master but install TripleO\nTrain repos.\nThey\'ll be able to do that with overriding tripleo_repos_repo_branch to\n""master"" while tripleo_repos_branch would be set to ""train"".\n\nNote: if tripleo_repos_repo_branch is undefined, we default to\ntripleo_repos_branch.\n\nChange-Id: Ic4aafd9ed1b005354cd55a59868dd8edf7504837\n'}, {'number': 5, 'created': '2021-05-19 19:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/dbfd34a9f1f1ef8a52eb5b87add9a41b2be44050', 'message': 'tripleo_repos: add tripleo_repos_repo_branch\n\nAllow an user to pull tripleo-repos from master but install TripleO\nTrain repos.\nThey\'ll be able to do that with overriding tripleo_repos_repo_branch to\n""master"" while tripleo_repos_branch would be set to ""train"".\n\nNote: if tripleo_repos_repo_branch is undefined, we default to\ntripleo_repos_branch.\n\nChange-Id: Ic4aafd9ed1b005354cd55a59868dd8edf7504837\n'}, {'number': 6, 'created': '2021-05-20 12:31:17.000000000', 'files': ['roles/tripleo_repos/defaults/main.yml', 'roles/tripleo_repos/README.md', 'roles/tripleo_repos/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/0f20569b0a219b2bf4257cc1fdd8f8fa7c624332', 'message': 'tripleo_repos: add tripleo_repos_repo_branch\n\nAllow an user to pull tripleo-repos from master but install TripleO\nTrain repos.\nThey\'ll be able to do that with overriding tripleo_repos_repo_branch to\n""master"" while tripleo_repos_branch would be set to ""train"".\n\nNote: if tripleo_repos_repo_branch is undefined, we default to\ntripleo_repos_branch.\n\nChange-Id: Ic4aafd9ed1b005354cd55a59868dd8edf7504837\n'}]",10,790073,0f20569b0a219b2bf4257cc1fdd8f8fa7c624332,29,3,6,3153,,,0,"tripleo_repos: add tripleo_repos_repo_branch

Allow an user to pull tripleo-repos from master but install TripleO
Train repos.
They'll be able to do that with overriding tripleo_repos_repo_branch to
""master"" while tripleo_repos_branch would be set to ""train"".

Note: if tripleo_repos_repo_branch is undefined, we default to
tripleo_repos_branch.

Change-Id: Ic4aafd9ed1b005354cd55a59868dd8edf7504837
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/73/790073/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_repos/defaults/main.yml', 'roles/tripleo_repos/README.md', 'roles/tripleo_repos/tasks/install.yml']",3,566b9dbc192ca497b9ad21399f957316d042ef0b,repo/branch," _tripleo_repos_repo_url: ""{{ tripleo_repos_repo_base }}/{{ _tripleo_repos_distro }}-{{ tripleo_repos_repo_branch }}/{{ _tripleo_repos_component }}/current/"""," _tripleo_repos_repo_url: ""{{ tripleo_repos_repo_base }}/{{ _tripleo_repos_distro }}-{{ tripleo_repos_branch }}/{{ _tripleo_repos_component }}/current/""",3,1
openstack%2Fmanila-image-elements~master~Iffc9363149710a3e8ec3f95f28d0a461afc837f1,openstack/manila-image-elements,master,Iffc9363149710a3e8ec3f95f28d0a461afc837f1,DNM,ABANDONED,2021-05-03 14:34:42.000000000,2021-05-20 15:05:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-03 14:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/94352f191e70acdcae2b1507a0c1705dfc26b61a', 'message': 'DNM\n\nChange-Id: Iffc9363149710a3e8ec3f95f28d0a461afc837f1\n'}, {'number': 2, 'created': '2021-05-03 15:55:43.000000000', 'files': ['DNM', 'zuul.d/manila-image-elements-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/d4845317d16fc0582c0c0cdd5e2ce724652825f2', 'message': 'DNM\n\nChange-Id: Iffc9363149710a3e8ec3f95f28d0a461afc837f1\n'}]",0,789296,d4845317d16fc0582c0c0cdd5e2ce724652825f2,5,1,2,9003,,,0,"DNM

Change-Id: Iffc9363149710a3e8ec3f95f28d0a461afc837f1
",git fetch https://review.opendev.org/openstack/manila-image-elements refs/changes/96/789296/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,94352f191e70acdcae2b1507a0c1705dfc26b61a,,,,0,0
openstack%2Fmanila-test-image~master~Idb0b8ee825d68c7d15c75812e2fb58be33a65589,openstack/manila-test-image,master,Idb0b8ee825d68c7d15c75812e2fb58be33a65589,DNM,ABANDONED,2021-05-03 20:05:28.000000000,2021-05-20 15:05:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-03 20:05:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila-test-image/commit/5be0c2e89dd49afd35debfca1317366f6e4cf3c2', 'message': 'DNM\n\nChange-Id: Idb0b8ee825d68c7d15c75812e2fb58be33a65589\n'}]",0,789409,5be0c2e89dd49afd35debfca1317366f6e4cf3c2,3,1,1,9003,,,0,"DNM

Change-Id: Idb0b8ee825d68c7d15c75812e2fb58be33a65589
",git fetch https://review.opendev.org/openstack/manila-test-image refs/changes/09/789409/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5be0c2e89dd49afd35debfca1317366f6e4cf3c2,, nodeset: openstack-single-node-focal,,1,0
openstack%2Fironic-python-agent~bugfix%2F6.2~Ied4343fda9d9d60c93a477177a06a49469b94df7,openstack/ironic-python-agent,bugfix/6.2,Ied4343fda9d9d60c93a477177a06a49469b94df7,[DNM] Testing setting IRONIC_PYTHON_AGENT_BRANCH,ABANDONED,2020-07-18 23:47:15.000000000,2021-05-20 14:46:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-18 23:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/19f52e831bfeea1569e830ed1e2391e2eb17ab07', 'message': '[DNM] Testing override checkout\n\nChange-Id: Ied4343fda9d9d60c93a477177a06a49469b94df7\n'}, {'number': 2, 'created': '2020-07-18 23:49:47.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/106ff281591c79659ff8c1dc3157ef72189422bf', 'message': '[DNM] Testing setting IRONIC_PYTHON_AGENT_BRANCH\n\nChange-Id: Ied4343fda9d9d60c93a477177a06a49469b94df7\n'}]",0,741825,106ff281591c79659ff8c1dc3157ef72189422bf,5,2,2,15519,,,0,"[DNM] Testing setting IRONIC_PYTHON_AGENT_BRANCH

Change-Id: Ied4343fda9d9d60c93a477177a06a49469b94df7
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/25/741825/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,19f52e831bfeea1569e830ed1e2391e2eb17ab07,fix_job, - name: openstack/ironic-python-agent override-checkout: bugfix/6.2,,2,0
openstack%2Fnova~master~I676c00217da3c62b9aeb0dc819042904f39b5e23,openstack/nova,master,I676c00217da3c62b9aeb0dc819042904f39b5e23,Fix RBD timeout,NEW,2021-04-16 07:17:16.000000000,2021-05-20 14:42:10.000000000,,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-16 07:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/155ffb59132ac13ca50f8c77c0eaef8472675c37', 'message': 'Fix RBD timeout\n\nOn the RBD driver the rados_connect_timeout is not working and the\ndefault 300 seconds timeout is being applied.\n\nRefer to a patch of cinder:\nhttps://review.opendev.org/c/openstack/cinder/+/368189\n\nSigned-off-by: Armstrong Liu <vpbvmw651078@gmail.com>\nChange-Id: I676c00217da3c62b9aeb0dc819042904f39b5e23\n'}, {'number': 2, 'created': '2021-04-22 08:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67b3791c3b2270835a0628ff8ec552c744dc5e2b', 'message': 'Fix RBD timeout\n\nOn the RBD driver the rados_connect_timeout is not working and the\ndefault 300 seconds timeout is being applied.\n\nRefer to a patch of cinder:\nhttps://review.opendev.org/c/openstack/cinder/+/368189\n\nSigned-off-by: Armstrong Liu <vpbvmw651078@gmail.com>\nChange-Id: I676c00217da3c62b9aeb0dc819042904f39b5e23\n'}, {'number': 3, 'created': '2021-04-23 02:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7d3a21fb84b9832a881d028e8601d10b264e4d1', 'message': 'Fix RBD timeout\n\nOn the RBD driver the rados_connect_timeout is not working and the\ndefault 300 seconds timeout is being applied.\n\nRefer to a patch of cinder:\nhttps://review.opendev.org/c/openstack/cinder/+/368189\n\nSigned-off-by: Armstrong Liu <vpbvmw651078@gmail.com>\nChange-Id: I676c00217da3c62b9aeb0dc819042904f39b5e23\n'}, {'number': 4, 'created': '2021-05-19 09:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c1f7c33a9dcb87f43d991e2fe635ada0acb3da6', 'message': 'Fix RBD timeout\n\nOn the RBD driver the rados_connect_timeout is not working and the\ndefault 300 seconds timeout is being applied.\n\nRefer to a patch of cinder:\nhttps://review.opendev.org/c/openstack/cinder/+/368189\n\nSigned-off-by: Armstrong Liu <vpbvmw651078@gmail.com>\nChange-Id: I676c00217da3c62b9aeb0dc819042904f39b5e23\n'}, {'number': 5, 'created': '2021-05-20 01:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99e953b7e8d259dd0c84fb7770afe1946ec31556', 'message': 'Fix RBD timeout\n\nOn the RBD driver the rados_connect_timeout is not working and the\ndefault 300 seconds timeout is being applied.\n\nRefer to a patch of cinder:\nhttps://review.opendev.org/c/openstack/cinder/+/368189\n\nSigned-off-by: Armstrong Liu <vpbvmw651078@gmail.com>\nChange-Id: I676c00217da3c62b9aeb0dc819042904f39b5e23\n'}, {'number': 6, 'created': '2021-05-20 03:16:30.000000000', 'files': ['nova/tests/unit/storage/test_rbd.py', 'releasenotes/notes/fix-rbd-timeout-ba9fc4aec303e2b0.yaml', 'nova/conf/libvirt.py', 'nova/storage/rbd_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a810157e87e99a405fb70075e07611196280002f', 'message': 'Fix RBD timeout\n\nOn the RBD driver the rados_connect_timeout is not working and the\ndefault 300 seconds timeout is being applied.\n\nRefer to a patch of cinder:\nhttps://review.opendev.org/c/openstack/cinder/+/368189\n\nSigned-off-by: Armstrong Liu <vpbvmw651078@gmail.com>\nChange-Id: I676c00217da3c62b9aeb0dc819042904f39b5e23\n'}]",23,786588,a810157e87e99a405fb70075e07611196280002f,61,4,6,26580,,,0,"Fix RBD timeout

On the RBD driver the rados_connect_timeout is not working and the
default 300 seconds timeout is being applied.

Refer to a patch of cinder:
https://review.opendev.org/c/openstack/cinder/+/368189

Signed-off-by: Armstrong Liu <vpbvmw651078@gmail.com>
Change-Id: I676c00217da3c62b9aeb0dc819042904f39b5e23
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/786588/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/storage/test_rbd.py', 'nova/conf/libvirt.py', 'nova/storage/rbd_utils.py']",3,155ffb59132ac13ca50f8c77c0eaef8472675c37,fix_rbd_timeout," if self.rbd_connect_timeout >= 0: client.conf_set('rados_osd_op_timeout', self.rbd_connect_timeout) client.conf_set('rados_mon_op_timeout', self.rbd_connect_timeout) client.conf_set('client_mount_timeout', self.rbd_connect_timeout) client.connect()", client.connect(timeout=self.rbd_connect_timeout),33,3
openstack%2Fpuppet-openstack-integration~stable%2Frocky~I11919bf7dbcc0821ae3d12949da702ab581cc3e5,openstack/puppet-openstack-integration,stable/rocky,I11919bf7dbcc0821ae3d12949da702ab581cc3e5,Rocky and before: Use ubuntu-bionic by default,MERGED,2021-05-20 09:53:57.000000000,2021-05-20 14:39:02.000000000,2021-05-20 14:39:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 09:53:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b8602407c4fa79d8b498ff9056964be0aeed5155', 'message': 'Rocky and before: Use ubuntu-bionic by default\n\nThe default nodeset has been switched from Bonic to Focal, which\nresulted in failures in CI jobs.\n\nChange-Id: I11919bf7dbcc0821ae3d12949da702ab581cc3e5\n'}]",0,792341,b8602407c4fa79d8b498ff9056964be0aeed5155,8,4,1,9816,,,0,"Rocky and before: Use ubuntu-bionic by default

The default nodeset has been switched from Bonic to Focal, which
resulted in failures in CI jobs.

Change-Id: I11919bf7dbcc0821ae3d12949da702ab581cc3e5
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/41/792341/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b8602407c4fa79d8b498ff9056964be0aeed5155,, nodeset: ubuntu-bionic,,1,0
openstack%2Fcloudkitty-dashboard~master~I04440027a475b13e728e8fc5d2c4b632623f3b47,openstack/cloudkitty-dashboard,master,I04440027a475b13e728e8fc5d2c4b632623f3b47,[ussuri][goal] Update contributor documentation,MERGED,2021-05-13 14:59:53.000000000,2021-05-20 14:24:28.000000000,2021-05-20 14:21:59.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2021-05-13 14:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/80ddc861f553a1251420e3b9887e3aab827b6b44', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: I04440027a475b13e728e8fc5d2c4b632623f3b47\n'}, {'number': 2, 'created': '2021-05-13 21:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/970fcf28624343d7a1ab329a94f6597b93d01e10', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: I04440027a475b13e728e8fc5d2c4b632623f3b47\n'}, {'number': 3, 'created': '2021-05-14 16:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/dfd81258db6d8be460bffaee6c74e5bc9590c4cd', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: I04440027a475b13e728e8fc5d2c4b632623f3b47\n'}, {'number': 4, 'created': '2021-05-18 19:57:07.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/3b02d94c884ea6c7182e08cbecf7e024a3541343', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: I04440027a475b13e728e8fc5d2c4b632623f3b47\n'}]",0,791260,3b02d94c884ea6c7182e08cbecf7e024a3541343,14,3,4,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38517
Change-Id: I04440027a475b13e728e8fc5d2c4b632623f3b47
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/60/791260/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/contributing.rst', 'doc/source/index.rst']",4,80ddc861f553a1251420e3b9887e3aab827b6b44,project-ptl-and-contrib-docs, For Contributors ================ * If you are a new contributor to Patrole please refer: :doc:`contributor/contributing` .. toctree:: :hidden: contributor/contributing, contributing,71,15
openstack%2Fcloudkitty-dashboard~master~I4f5ebb221bb305ec82aaa94829c2b16f72fa7a3c,openstack/cloudkitty-dashboard,master,I4f5ebb221bb305ec82aaa94829c2b16f72fa7a3c,setup.cfg: Replace dashes with underscores,MERGED,2021-05-13 11:58:31.000000000,2021-05-20 14:23:30.000000000,2021-05-20 14:21:55.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2021-05-13 11:58:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/57b185a51d9de74531d7273be31412973b579eec', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I4f5ebb221bb305ec82aaa94829c2b16f72fa7a3c\n""}]",0,791136,57b185a51d9de74531d7273be31412973b579eec,8,3,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I4f5ebb221bb305ec82aaa94829c2b16f72fa7a3c
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/36/791136/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,57b185a51d9de74531d7273be31412973b579eec,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/cloudkitty-dashboard/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/cloudkitty-dashboard/latest/,3,3
openstack%2Fpython-cloudkittyclient~master~Ic973be624418d056195127bb6f621b93edc3a3ed,openstack/python-cloudkittyclient,master,Ic973be624418d056195127bb6f621b93edc3a3ed,[ussuri][goal] Update contributor documentation,MERGED,2021-05-13 14:59:36.000000000,2021-05-20 14:18:32.000000000,2021-05-20 14:17:22.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2021-05-13 14:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/daf9a5715cac920d22c01060a127ceba53adf049', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: Ic973be624418d056195127bb6f621b93edc3a3ed\n'}, {'number': 2, 'created': '2021-05-13 21:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/bc0a584726f57a092e5c58d23f8b390e54c63bf4', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: Ic973be624418d056195127bb6f621b93edc3a3ed\n'}, {'number': 3, 'created': '2021-05-14 16:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/88b82cc4f997f7652367021a6bebedd35c9d1ee2', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: Ic973be624418d056195127bb6f621b93edc3a3ed\n'}, {'number': 4, 'created': '2021-05-19 13:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/dbc096d4abdc8773a50760bf7363a747816eb757', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: Ic973be624418d056195127bb6f621b93edc3a3ed\n'}, {'number': 5, 'created': '2021-05-19 15:09:53.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/contributor.rst'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/d12e5a821cd3089ba530a98a0c94dec6c37c7b2d', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: Ic973be624418d056195127bb6f621b93edc3a3ed\n'}]",2,791258,d12e5a821cd3089ba530a98a0c94dec6c37c7b2d,17,3,5,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38517
Change-Id: Ic973be624418d056195127bb6f621b93edc3a3ed
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/58/791258/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst']",3,daf9a5715cac920d22c01060a127ceba53adf049,project-ptl-and-contrib-docs,For Contributors ================ * If you are a new contributor to Patrole please refer: :doc:`contributor/contributing` .. toctree:: :hidden: contributor/contributing ,,71,10
openstack%2Fcloudkitty~master~I2ed8113b4a008475ab9526eed9a004bdfcf5d805,openstack/cloudkitty,master,I2ed8113b4a008475ab9526eed9a004bdfcf5d805,[ussuri][goal] Update contributor documentation,MERGED,2021-05-13 14:59:18.000000000,2021-05-20 14:16:51.000000000,2021-05-20 14:15:23.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2021-05-13 14:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/66648e542a6cb5b2e9184248365180a81a0d2c74', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: I2ed8113b4a008475ab9526eed9a004bdfcf5d805\n'}, {'number': 2, 'created': '2021-05-13 21:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/09ffbb4cc393da6eca58f0b05899726627adf116', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: I2ed8113b4a008475ab9526eed9a004bdfcf5d805\n'}, {'number': 3, 'created': '2021-05-13 21:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/d39629314ee9d4d01f2f6fdb3689c555ec58022d', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: I2ed8113b4a008475ab9526eed9a004bdfcf5d805\n'}, {'number': 4, 'created': '2021-05-13 21:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b8fbcff38c7b051ad62d9163455e0eacfb173966', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: I2ed8113b4a008475ab9526eed9a004bdfcf5d805\n'}, {'number': 5, 'created': '2021-05-14 16:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/2194a8d37c866c3069d9a995a5d1e6c6b285cc30', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: I2ed8113b4a008475ab9526eed9a004bdfcf5d805\n'}, {'number': 6, 'created': '2021-05-18 08:03:08.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/pdf-index.rst', 'doc/source/_static/cloudkitty.conf.sample'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/911c90569ccb09ecf0d7aa11a5a707c8ebda09cf', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: I2ed8113b4a008475ab9526eed9a004bdfcf5d805\n'}]",0,791256,911c90569ccb09ecf0d7aa11a5a707c8ebda09cf,15,3,6,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38517
Change-Id: I2ed8113b4a008475ab9526eed9a004bdfcf5d805
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/56/791256/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/_static/cloudkitty.conf.sample']",4,66648e542a6cb5b2e9184248365180a81a0d2c74,project-ptl-and-contrib-docs,,"[DEFAULT] # # From cloudkitty.common.config # # Configuration file for WSGI definition of API. (string value) #api_paste_config = api_paste.ini # The strategy to use for auth. Supports noauth and keystone (string # value) # Possible values: # noauth - <No description provided> # keystone - <No description provided> #auth_strategy = keystone # Name of this node. This can be an opaque identifier. It is not # necessarily a hostname, FQDN, or IP address. However, the node name # must be valid within an AMQP key. (string value) # # This option has a sample default set, which means that # its actual default value may vary from the one documented # below. #host = <server-hostname.example.com> # # From oslo.log # # If set to true, the logging level will be set to DEBUG instead of # the default INFO level. (boolean value) # Note: This option can be changed without restarting. #debug = false # The name of a logging configuration file. This file is appended to # any existing logging configuration files. For details about logging # configuration files, see the Python logging module documentation. # Note that when logging configuration files are used then all logging # configuration is set in the configuration file and other logging # configuration options are ignored (for example, log-date-format). # (string value) # Note: This option can be changed without restarting. # Deprecated group/name - [DEFAULT]/log_config #log_config_append = <None> # Defines the format string for %%(asctime)s in log records. Default: # %(default)s . This option is ignored if log_config_append is set. # (string value) #log_date_format = %Y-%m-%d %H:%M:%S # (Optional) Name of log file to send logging output to. If no default # is set, logging will go to stderr as defined by use_stderr. This # option is ignored if log_config_append is set. (string value) # Deprecated group/name - [DEFAULT]/logfile #log_file = <None> # (Optional) The base directory used for relative log_file paths. # This option is ignored if log_config_append is set. (string value) # Deprecated group/name - [DEFAULT]/logdir #log_dir = <None> # Uses logging handler designed to watch file system. When log file is # moved or removed this handler will open a new log file with # specified path instantaneously. It makes sense only if log_file # option is specified and Linux platform is used. This option is # ignored if log_config_append is set. (boolean value) #watch_log_file = false # Use syslog for logging. Existing syslog format is DEPRECATED and # will be changed later to honor RFC5424. This option is ignored if # log_config_append is set. (boolean value) #use_syslog = false # Enable journald for logging. If running in a systemd environment you # may wish to enable journal support. Doing so will use the journal # native protocol which includes structured metadata in addition to # log messages.This option is ignored if log_config_append is set. # (boolean value) #use_journal = false # Syslog facility to receive log lines. This option is ignored if # log_config_append is set. (string value) #syslog_log_facility = LOG_USER # Use JSON formatting for logging. This option is ignored if # log_config_append is set. (boolean value) #use_json = false # Log output to standard error. This option is ignored if # log_config_append is set. (boolean value) #use_stderr = false # Log output to Windows Event Log. (boolean value) #use_eventlog = false # The amount of time before the log files are rotated. This option is # ignored unless log_rotation_type is setto ""interval"". (integer # value) #log_rotate_interval = 1 # Rotation interval type. The time of the last file change (or the # time when the service was started) is used when scheduling the next # rotation. (string value) # Possible values: # Seconds - <No description provided> # Minutes - <No description provided> # Hours - <No description provided> # Days - <No description provided> # Weekday - <No description provided> # Midnight - <No description provided> #log_rotate_interval_type = days # Maximum number of rotated log files. (integer value) #max_logfile_count = 30 # Log file maximum size in MB. This option is ignored if # ""log_rotation_type"" is not set to ""size"". (integer value) #max_logfile_size_mb = 200 # Log rotation type. (string value) # Possible values: # interval - Rotate logs at predefined time intervals. # size - Rotate logs once they reach a predefined size. # none - Do not rotate log files. #log_rotation_type = none # Format string to use for log messages with context. Used by # oslo_log.formatters.ContextFormatter (string value) #logging_context_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s # Format string to use for log messages when context is undefined. # Used by oslo_log.formatters.ContextFormatter (string value) #logging_default_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s # Additional data to append to log message when logging level for the # message is DEBUG. Used by oslo_log.formatters.ContextFormatter # (string value) #logging_debug_format_suffix = %(funcName)s %(pathname)s:%(lineno)d # Prefix each line of exception output with this format. Used by # oslo_log.formatters.ContextFormatter (string value) #logging_exception_prefix = %(asctime)s.%(msecs)03d %(process)d ERROR %(name)s %(instance)s # Defines the format string for %(user_identity)s that is used in # logging_context_format_string. Used by # oslo_log.formatters.ContextFormatter (string value) #logging_user_identity_format = %(user)s %(tenant)s %(domain)s %(user_domain)s %(project_domain)s # List of package logging levels in logger=LEVEL pairs. This option is # ignored if log_config_append is set. (list value) #default_log_levels = amqp=WARN,amqplib=WARN,boto=WARN,qpid=WARN,sqlalchemy=WARN,suds=INFO,oslo.messaging=INFO,oslo_messaging=INFO,iso8601=WARN,requests.packages.urllib3.connectionpool=WARN,urllib3.connectionpool=WARN,websocket=WARN,requests.packages.urllib3.util.retry=WARN,urllib3.util.retry=WARN,keystonemiddleware=WARN,routes.middleware=WARN,stevedore=WARN,taskflow=WARN,keystoneauth=WARN,oslo.cache=INFO,oslo_policy=INFO,dogpile.core.dogpile=INFO # Enables or disables publication of error events. (boolean value) #publish_errors = false # The format for an instance that is passed with the log message. # (string value) #instance_format = ""[instance: %(uuid)s] "" # The format for an instance UUID that is passed with the log message. # (string value) #instance_uuid_format = ""[instance: %(uuid)s] "" # Interval, number of seconds, of log rate limiting. (integer value) #rate_limit_interval = 0 # Maximum number of logged messages per rate_limit_interval. (integer # value) #rate_limit_burst = 0 # Log level name used by rate limiting: CRITICAL, ERROR, INFO, # WARNING, DEBUG or empty string. Logs with level greater or equal to # rate_limit_except_level are not filtered. An empty string means that # all levels are filtered. (string value) #rate_limit_except_level = CRITICAL # Enables or disables fatal status of deprecations. (boolean value) #fatal_deprecations = false # # From oslo.messaging # # Size of RPC connection pool. (integer value) # Minimum value: 1 #rpc_conn_pool_size = 30 # The pool size limit for connections expiration policy (integer # value) #conn_pool_min_size = 2 # The time-to-live in sec of idle connections in the pool (integer # value) #conn_pool_ttl = 1200 # Size of executor thread pool when executor is threading or eventlet. # (integer value) # Deprecated group/name - [DEFAULT]/rpc_thread_pool_size #executor_thread_pool_size = 64 # Seconds to wait for a response from a call. (integer value) #rpc_response_timeout = 60 # The network address and optional user credentials for connecting to # the messaging backend, in URL format. The expected format is: # # driver://[user:pass@]host:port[,[userN:passN@]hostN:portN]/virtual_host?query # # Example: rabbit://rabbitmq:password@127.0.0.1:5672// # # For full details on the fields in the URL see the documentation of # oslo_messaging.TransportURL at # https://docs.openstack.org/oslo.messaging/latest/reference/transport.html # (string value) #transport_url = rabbit:// # The default exchange under which topics are scoped. May be # overridden by an exchange name specified in the transport_url # option. (string value) #control_exchange = openstack # Add an endpoint to answer to ping calls. Endpoint is named # oslo_rpc_server_ping (boolean value) #rpc_ping_enabled = false [api] # # From cloudkitty.common.config # # The port for the cloudkitty API server. (port value) # Minimum value: 0 # Maximum value: 65535 #port = 8889 [collect] # # From cloudkitty.common.config # # Data collector. (string value) #collector = gnocchi # Rating period in seconds. (integer value) #period = 3600 # Wait for N periods before collecting new data. (integer value) #wait_periods = 2 # Metrology configuration file. (string value) #metrics_conf = /etc/cloudkitty/metrics.yml # Key defining a scope. project_id or domain_id for OpenStack, but can # be anything. (string value) #scope_key = project_id [collector_gnocchi] # # From cloudkitty.common.config # # Gnocchi auth type (keystone or basic). Keystone credentials can be # specified through the ""auth_section"" parameter (string value) # Possible values: # keystone - <No description provided> # basic - <No description provided> #gnocchi_auth_type = keystone # Gnocchi user (for basic auth only) (string value) #gnocchi_user = # Gnocchi endpoint (for basic auth only) (string value) #gnocchi_endpoint = # Endpoint URL type (for keystone auth only) (string value) #interface = internalURL # Region Name (string value) #region_name = RegionOne # If the value is not defined, we use the value defined by # requests.adapters.DEFAULT_POOLSIZE (integer value) #http_pool_maxsize = 10 [collector_monasca] # # From cloudkitty.common.config # # Endpoint URL type (defaults to internal) (string value) #interface = internal # Name of the Monasca service (defaults to monasca) (string value) #monasca_service_name = monasca [collector_prometheus] # # From cloudkitty.common.config # # Prometheus service URL (string value) #prometheus_url = # Prometheus user (for basic auth only) (string value) #prometheus_user = <None> # Prometheus user password (for basic auth only) (string value) #prometheus_password = <None> # Custom certificate authority file path (string value) #cafile = <None> # Explicitly trust untrusted HTTPS responses (boolean value) #insecure = false [cors] # # From oslo.middleware.cors # # Indicate whether this resource may be shared with the domain # received in the requests ""origin"" header. Format: # ""<protocol>://<host>[:<port>]"", no trailing slash. Example: # https://horizon.example.com (list value) #allowed_origin = <None> # Indicate that the actual request can include user credentials # (boolean value) #allow_credentials = true # Indicate which headers are safe to expose to the API. Defaults to # HTTP Simple Headers. (list value) #expose_headers = X-Auth-Token,X-Subject-Token,X-Service-Token,X-OpenStack-Request-ID # Maximum cache age of CORS preflight requests. (integer value) #max_age = 3600 # Indicate which methods can be used during the actual request. (list # value) #allow_methods = GET,PUT,POST,DELETE,PATCH # Indicate which header field names may be used during the actual # request. (list value) #allow_headers = X-Auth-Token,X-Subject-Token,X-Roles,X-User-Id,X-Domain-Id,X-Project-Id,X-Tenant-Id,X-OpenStack-Request-ID [database] # # From oslo.db # # If True, SQLite uses synchronous mode. (boolean value) #sqlite_synchronous = true # The back end to use for the database. (string value) # Deprecated group/name - [DEFAULT]/db_backend #backend = sqlalchemy # The SQLAlchemy connection string to use to connect to the database. # (string value) # Deprecated group/name - [DEFAULT]/sql_connection # Deprecated group/name - [DATABASE]/sql_connection # Deprecated group/name - [sql]/connection #connection = <None> # The SQLAlchemy connection string to use to connect to the slave # database. (string value) #slave_connection = <None> # The SQL mode to be used for MySQL sessions. This option, including # the default, overrides any server-set SQL mode. To use whatever SQL # mode is set by the server configuration, set this to no value. # Example: mysql_sql_mode= (string value) #mysql_sql_mode = TRADITIONAL # If True, transparently enables support for handling MySQL Cluster # (NDB). (boolean value) #mysql_enable_ndb = false # Connections which have been present in the connection pool longer # than this number of seconds will be replaced with a new one the next # time they are checked out from the pool. (integer value) # Deprecated group/name - [DATABASE]/idle_timeout # Deprecated group/name - [database]/idle_timeout # Deprecated group/name - [DEFAULT]/sql_idle_timeout # Deprecated group/name - [DATABASE]/sql_idle_timeout # Deprecated group/name - [sql]/idle_timeout #connection_recycle_time = 3600 # Maximum number of SQL connections to keep open in a pool. Setting a # value of 0 indicates no limit. (integer value) # Deprecated group/name - [DEFAULT]/sql_max_pool_size # Deprecated group/name - [DATABASE]/sql_max_pool_size #max_pool_size = 5 # Maximum number of database connection retries during startup. Set to # -1 to specify an infinite retry count. (integer value) # Deprecated group/name - [DEFAULT]/sql_max_retries # Deprecated group/name - [DATABASE]/sql_max_retries #max_retries = 10 # Interval between retries of opening a SQL connection. (integer # value) # Deprecated group/name - [DEFAULT]/sql_retry_interval # Deprecated group/name - [DATABASE]/reconnect_interval #retry_interval = 10 # If set, use this value for max_overflow with SQLAlchemy. (integer # value) # Deprecated group/name - [DEFAULT]/sql_max_overflow # Deprecated group/name - [DATABASE]/sqlalchemy_max_overflow #max_overflow = 50 # Verbosity of SQL debugging information: 0=None, 100=Everything. # (integer value) # Minimum value: 0 # Maximum value: 100 # Deprecated group/name - [DEFAULT]/sql_connection_debug #connection_debug = 0 # Add Python stack traces to SQL as comment strings. (boolean value) # Deprecated group/name - [DEFAULT]/sql_connection_trace #connection_trace = false # If set, use this value for pool_timeout with SQLAlchemy. (integer # value) # Deprecated group/name - [DATABASE]/sqlalchemy_pool_timeout #pool_timeout = <None> # Enable the experimental use of database reconnect on connection # lost. (boolean value) #use_db_reconnect = false # Seconds between retries of a database transaction. (integer value) #db_retry_interval = 1 # If True, increases the interval between retries of a database # operation up to db_max_retry_interval. (boolean value) #db_inc_retry_interval = true # If db_inc_retry_interval is set, the maximum seconds between retries # of a database operation. (integer value) #db_max_retry_interval = 10 # Maximum retries in case of connection error or deadlock error before # error is raised. Set to -1 to specify an infinite retry count. # (integer value) #db_max_retries = 20 # Optional URL parameters to append onto the connection URL at connect # time; specify as param1=value1&param2=value2&... (string value) #connection_parameters = [fetcher] # # From cloudkitty.common.config # # Driver used to fetch the list of scopes to rate. (string value) #backend = keystone [fetcher_gnocchi] # # From cloudkitty.common.config # # Attribute from which scope_ids should be collected. (string value) #scope_attribute = project_id # List of gnocchi resource types. All if left blank (list value) #resource_types = generic # Gnocchi auth type (keystone or basic). Keystone credentials can be # specified through the ""auth_section"" parameter (string value) # Possible values: # keystone - <No description provided> # basic - <No description provided> #gnocchi_auth_type = keystone # Gnocchi user (for basic auth only) (string value) #gnocchi_user = # Gnocchi endpoint (for basic auth only) (string value) #gnocchi_endpoint = # Endpoint URL type (for keystone auth only) (string value) #interface = internalURL # Region Name (string value) #region_name = RegionOne # If the value is not defined, we use the value defined by # requests.adapters.DEFAULT_POOLSIZE (integer value) #http_pool_maxsize = 10 # Authentication type to load (string value) # Deprecated group/name - [fetcher_gnocchi]/auth_plugin #auth_type = <None> # Config Section from which to load plugin specific options (string # value) #auth_section = <None> [fetcher_keystone] # # From cloudkitty.common.config # # Keystone version to use. (string value) #keystone_version = 3 [fetcher_prometheus] # # From cloudkitty.common.config # # Metric from which scope_ids should be requested (string value) #metric = <None> # Attribute from which scope_ids should be collected (string value) #scope_attribute = project_id # Prometheus service URL (string value) #prometheus_url = <None> # Prometheus user (for basic auth only) (string value) #prometheus_user = # Prometheus user (for basic auth only) (string value) #prometheus_password = # Custom certificate authority file path (string value) #cafile = <None> # Explicitly trust untrusted HTTPS responses (boolean value) #insecure = false # Metadata to filter out the scope_ids discovery request response # (dict value) #filters = [fetcher_source] # # From cloudkitty.common.config # # list of source identifiers (list value) #sources = [keystone_authtoken] # # From keystonemiddleware.auth_token # # Complete ""public"" Identity API endpoint. This endpoint should not be # an ""admin"" endpoint, as it should be accessible by all end users. # Unauthenticated clients are redirected to this endpoint to # authenticate. Although this endpoint should ideally be unversioned, # client support in the wild varies. If you're using a versioned v2 # endpoint here, then this should *not* be the same endpoint the # service user utilizes for validating tokens, because normal end # users may not be able to reach that endpoint. (string value) # Deprecated group/name - [keystone_authtoken]/auth_uri #www_authenticate_uri = <None> # DEPRECATED: Complete ""public"" Identity API endpoint. This endpoint # should not be an ""admin"" endpoint, as it should be accessible by all # end users. Unauthenticated clients are redirected to this endpoint # to authenticate. Although this endpoint should ideally be # unversioned, client support in the wild varies. If you're using a # versioned v2 endpoint here, then this should *not* be the same # endpoint the service user utilizes for validating tokens, because # normal end users may not be able to reach that endpoint. This option # is deprecated in favor of www_authenticate_uri and will be removed # in the S release. (string value) # This option is deprecated for removal since Queens. # Its value may be silently ignored in the future. # Reason: The auth_uri option is deprecated in favor of # www_authenticate_uri and will be removed in the S release. #auth_uri = <None> # API version of the Identity API endpoint. (string value) #auth_version = <None> # Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" (default) or ""admin"". (string value) #interface = internal # Do not handle authorization requests within the middleware, but # delegate the authorization decision to downstream WSGI components. # (boolean value) #delay_auth_decision = false # Request timeout value for communicating with Identity API server. # (integer value) #http_connect_timeout = <None> # How many times are we trying to reconnect when communicating with # Identity API Server. (integer value) #http_request_max_retries = 3 # Request environment key where the Swift cache object is stored. When # auth_token middleware is deployed with a Swift cache, use this # option to have the middleware share a caching backend with swift. # Otherwise, use the ``memcached_servers`` option instead. (string # value) #cache = <None> # Required if identity server requires client certificate (string # value) #certfile = <None> # Required if identity server requires client certificate (string # value) #keyfile = <None> # A PEM encoded Certificate Authority to use when verifying HTTPs # connections. Defaults to system CAs. (string value) #cafile = <None> # Verify HTTPS connections. (boolean value) #insecure = false # The region in which the identity server can be found. (string value) #region_name = <None> # Optionally specify a list of memcached server(s) to use for caching. # If left undefined, tokens will instead be cached in-process. (list # value) # Deprecated group/name - [keystone_authtoken]/memcache_servers #memcached_servers = <None> # In order to prevent excessive effort spent validating tokens, the # middleware caches previously-seen tokens for a configurable duration # (in seconds). Set to -1 to disable caching completely. (integer # value) #token_cache_time = 300 # (Optional) If defined, indicate whether token data should be # authenticated or authenticated and encrypted. If MAC, token data is # authenticated (with HMAC) in the cache. If ENCRYPT, token data is # encrypted and authenticated in the cache. If the value is not one of # these options or empty, auth_token will raise an exception on # initialization. (string value) # Possible values: # None - <No description provided> # MAC - <No description provided> # ENCRYPT - <No description provided> #memcache_security_strategy = None # (Optional, mandatory if memcache_security_strategy is defined) This # string is used for key derivation. (string value) #memcache_secret_key = <None> # (Optional) Number of seconds memcached server is considered dead # before it is tried again. (integer value) #memcache_pool_dead_retry = 300 # (Optional) Maximum total number of open connections to every # memcached server. (integer value) #memcache_pool_maxsize = 10 # (Optional) Socket timeout in seconds for communicating with a # memcached server. (integer value) #memcache_pool_socket_timeout = 3 # (Optional) Number of seconds a connection to memcached is held # unused in the pool before it is closed. (integer value) #memcache_pool_unused_timeout = 60 # (Optional) Number of seconds that an operation will wait to get a # memcached client connection from the pool. (integer value) #memcache_pool_conn_get_timeout = 10 # (Optional) Use the advanced (eventlet safe) memcached client pool. # The advanced pool will only work under python 2.x. (boolean value) #memcache_use_advanced_pool = false # (Optional) Indicate whether to set the X-Service-Catalog header. If # False, middleware will not ask for service catalog on token # validation and will not set the X-Service-Catalog header. (boolean # value) #include_service_catalog = true # Used to control the use and type of token binding. Can be set to: # ""disabled"" to not check token binding. ""permissive"" (default) to # validate binding information if the bind type is of a form known to # the server and ignore it if not. ""strict"" like ""permissive"" but if # the bind type is unknown the token will be rejected. ""required"" any # form of token binding is needed to be allowed. Finally the name of a # binding method that must be present in tokens. (string value) #enforce_token_bind = permissive # A choice of roles that must be present in a service token. Service # tokens are allowed to request that an expired token can be used and # so this check should tightly control that only actual services # should be sending this token. Roles here are applied as an ANY check # so any role in this list must be present. For backwards # compatibility reasons this currently only affects the allow_expired # check. (list value) #service_token_roles = service # For backwards compatibility reasons we must let valid service tokens # pass that don't pass the service_token_roles check as valid. Setting # this true will become the default in a future release and should be # enabled if possible. (boolean value) #service_token_roles_required = false # The name or type of the service as it appears in the service # catalog. This is used to validate tokens that have restricted access # rules. (string value) #service_type = <None> # Authentication type to load (string value) # Deprecated group/name - [keystone_authtoken]/auth_plugin #auth_type = <None> # Config Section from which to load plugin specific options (string # value) #auth_section = <None> [orchestrator] # # From cloudkitty.common.config # # Coordination driver URL (string value) #coordination_url = file:///var/lib/cloudkitty/locks # Max nb of workers to run. Defaults to the nb of available CPUs # (integer value) # Minimum value: 1 # # This option has a sample default set, which means that # its actual default value may vary from the one documented # below. #max_workers = 4 # Maximal number of threads to use per worker. Defaults to 5 times the # nb of available CPUs (integer value) # Minimum value: 1 # Deprecated group/name - [orchestrator]/max_greenthreads # Advanced Option: intended for advanced users and not used # by the majority of users, and might have a significant # effect on stability and/or performance. # # This option has a sample default set, which means that # its actual default value may vary from the one documented # below. #max_threads = 20 [oslo_concurrency] # # From oslo.concurrency # # Enables or disables inter-process locks. (boolean value) #disable_process_locking = false # Directory to use for lock files. For security, the specified # directory should only be writable by the user running the processes # that need locking. Defaults to environment variable OSLO_LOCK_PATH. # If external locks are used, a lock path must be set. (string value) #lock_path = <None> [oslo_messaging_amqp] # # From oslo.messaging # # Name for the AMQP container. must be globally unique. Defaults to a # generated UUID (string value) #container_name = <None> # Timeout for inactive connections (in seconds) (integer value) #idle_timeout = 0 # Debug: dump AMQP frames to stdout (boolean value) #trace = false # Attempt to connect via SSL. If no other ssl-related parameters are # given, it will use the system's CA-bundle to verify the server's # certificate. (boolean value) #ssl = false # CA certificate PEM file used to verify the server's certificate # (string value) #ssl_ca_file = # Self-identifying certificate PEM file for client authentication # (string value) #ssl_cert_file = # Private key PEM file used to sign ssl_cert_file certificate # (optional) (string value) #ssl_key_file = # Password for decrypting ssl_key_file (if encrypted) (string value) #ssl_key_password = <None> # By default SSL checks that the name in the server's certificate # matches the hostname in the transport_url. In some configurations it # may be preferable to use the virtual hostname instead, for example # if the server uses the Server Name Indication TLS extension # (rfc6066) to provide a certificate per virtual host. Set # ssl_verify_vhost to True if the server's SSL certificate uses the # virtual host name instead of the DNS name. (boolean value) #ssl_verify_vhost = false # Space separated list of acceptable SASL mechanisms (string value) #sasl_mechanisms = # Path to directory that contains the SASL configuration (string # value) #sasl_config_dir = # Name of configuration file (without .conf suffix) (string value) #sasl_config_name = # SASL realm to use if no realm present in username (string value) #sasl_default_realm = # Seconds to pause before attempting to re-connect. (integer value) # Minimum value: 1 #connection_retry_interval = 1 # Increase the connection_retry_interval by this many seconds after # each unsuccessful failover attempt. (integer value) # Minimum value: 0 #connection_retry_backoff = 2 # Maximum limit for connection_retry_interval + # connection_retry_backoff (integer value) # Minimum value: 1 #connection_retry_interval_max = 30 # Time to pause between re-connecting an AMQP 1.0 link that failed due # to a recoverable error. (integer value) # Minimum value: 1 #link_retry_delay = 10 # The maximum number of attempts to re-send a reply message which # failed due to a recoverable error. (integer value) # Minimum value: -1 #default_reply_retry = 0 # The deadline for an rpc reply message delivery. (integer value) # Minimum value: 5 #default_reply_timeout = 30 # The deadline for an rpc cast or call message delivery. Only used # when caller does not provide a timeout expiry. (integer value) # Minimum value: 5 #default_send_timeout = 30 # The deadline for a sent notification message delivery. Only used # when caller does not provide a timeout expiry. (integer value) # Minimum value: 5 #default_notify_timeout = 30 # The duration to schedule a purge of idle sender links. Detach link # after expiry. (integer value) # Minimum value: 1 #default_sender_link_timeout = 600 # Indicates the addressing mode used by the driver. # Permitted values: # 'legacy' - use legacy non-routable addressing # 'routable' - use routable addresses # 'dynamic' - use legacy addresses if the message bus does not # support routing otherwise use routable addressing (string value) #addressing_mode = dynamic # Enable virtual host support for those message buses that do not # natively support virtual hosting (such as qpidd). When set to true # the virtual host name will be added to all message bus addresses, # effectively creating a private 'subnet' per virtual host. Set to # False if the message bus supports virtual hosting using the # 'hostname' field in the AMQP 1.0 Open performative as the name of # the virtual host. (boolean value) #pseudo_vhost = true # address prefix used when sending to a specific server (string value) #server_request_prefix = exclusive # address prefix used when broadcasting to all servers (string value) #broadcast_prefix = broadcast # address prefix when sending to any server in group (string value) #group_request_prefix = unicast # Address prefix for all generated RPC addresses (string value) #rpc_address_prefix = openstack.org/om/rpc # Address prefix for all generated Notification addresses (string # value) #notify_address_prefix = openstack.org/om/notify # Appended to the address prefix when sending a fanout message. Used # by the message bus to identify fanout messages. (string value) #multicast_address = multicast # Appended to the address prefix when sending to a particular # RPC/Notification server. Used by the message bus to identify # messages sent to a single destination. (string value) #unicast_address = unicast # Appended to the address prefix when sending to a group of consumers. # Used by the message bus to identify messages that should be # delivered in a round-robin fashion across consumers. (string value) #anycast_address = anycast # Exchange name used in notification addresses. # Exchange name resolution precedence: # Target.exchange if set # else default_notification_exchange if set # else control_exchange if set # else 'notify' (string value) #default_notification_exchange = <None> # Exchange name used in RPC addresses. # Exchange name resolution precedence: # Target.exchange if set # else default_rpc_exchange if set # else control_exchange if set # else 'rpc' (string value) #default_rpc_exchange = <None> # Window size for incoming RPC Reply messages. (integer value) # Minimum value: 1 #reply_link_credit = 200 # Window size for incoming RPC Request messages (integer value) # Minimum value: 1 #rpc_server_credit = 100 # Window size for incoming Notification messages (integer value) # Minimum value: 1 #notify_server_credit = 100 # Send messages of this type pre-settled. # Pre-settled messages will not receive acknowledgement # from the peer. Note well: pre-settled messages may be # silently discarded if the delivery fails. # Permitted values: # 'rpc-call' - send RPC Calls pre-settled # 'rpc-reply'- send RPC Replies pre-settled # 'rpc-cast' - Send RPC Casts pre-settled # 'notify' - Send Notifications pre-settled # (multi valued) #pre_settled = rpc-cast #pre_settled = rpc-reply [oslo_messaging_kafka] # # From oslo.messaging # # Max fetch bytes of Kafka consumer (integer value) #kafka_max_fetch_bytes = 1048576 # Default timeout(s) for Kafka consumers (floating point value) #kafka_consumer_timeout = 1.0 # DEPRECATED: Pool Size for Kafka Consumers (integer value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Driver no longer uses connection pool. #pool_size = 10 # DEPRECATED: The pool size limit for connections expiration policy # (integer value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Driver no longer uses connection pool. #conn_pool_min_size = 2 # DEPRECATED: The time-to-live in sec of idle connections in the pool # (integer value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Driver no longer uses connection pool. #conn_pool_ttl = 1200 # Group id for Kafka consumer. Consumers in one group will coordinate # message consumption (string value) #consumer_group = oslo_messaging_consumer # Upper bound on the delay for KafkaProducer batching in seconds # (floating point value) #producer_batch_timeout = 0.0 # Size of batch for the producer async send (integer value) #producer_batch_size = 16384 # The compression codec for all data generated by the producer. If not # set, compression will not be used. Note that the allowed values of # this depend on the kafka version (string value) # Possible values: # none - <No description provided> # gzip - <No description provided> # snappy - <No description provided> # lz4 - <No description provided> # zstd - <No description provided> #compression_codec = none # Enable asynchronous consumer commits (boolean value) #enable_auto_commit = false # The maximum number of records returned in a poll call (integer # value) #max_poll_records = 500 # Protocol used to communicate with brokers (string value) # Possible values: # PLAINTEXT - <No description provided> # SASL_PLAINTEXT - <No description provided> # SSL - <No description provided> # SASL_SSL - <No description provided> #security_protocol = PLAINTEXT # Mechanism when security protocol is SASL (string value) #sasl_mechanism = PLAIN # CA certificate PEM file used to verify the server certificate # (string value) #ssl_cafile = # Client certificate PEM file used for authentication. (string value) #ssl_client_cert_file = # Client key PEM file used for authentication. (string value) #ssl_client_key_file = # Client key password file used for authentication. (string value) #ssl_client_key_password = [oslo_messaging_notifications] # # From oslo.messaging # # The Drivers(s) to handle sending notifications. Possible values are # messaging, messagingv2, routing, log, test, noop (multi valued) # Deprecated group/name - [DEFAULT]/notification_driver #driver = # A URL representing the messaging driver to use for notifications. If # not set, we fall back to the same configuration used for RPC. # (string value) # Deprecated group/name - [DEFAULT]/notification_transport_url #transport_url = <None> # AMQP topic used for OpenStack notifications. (list value) # Deprecated group/name - [rpc_notifier2]/topics # Deprecated group/name - [DEFAULT]/notification_topics #topics = notifications # The maximum number of attempts to re-send a notification message # which failed to be delivered due to a recoverable error. 0 - No # retry, -1 - indefinite (integer value) #retry = -1 [oslo_messaging_rabbit] # # From oslo.messaging # # Use durable queues in AMQP. (boolean value) #amqp_durable_queues = false # Auto-delete queues in AMQP. (boolean value) #amqp_auto_delete = false # Connect over SSL. (boolean value) # Deprecated group/name - [oslo_messaging_rabbit]/rabbit_use_ssl #ssl = false # SSL version to use (valid only if SSL enabled). Valid values are # TLSv1 and SSLv23. SSLv2, SSLv3, TLSv1_1, and TLSv1_2 may be # available on some distributions. (string value) # Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_version #ssl_version = # SSL key file (valid only if SSL enabled). (string value) # Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_keyfile #ssl_key_file = # SSL cert file (valid only if SSL enabled). (string value) # Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_certfile #ssl_cert_file = # SSL certification authority file (valid only if SSL enabled). # (string value) # Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_ca_certs #ssl_ca_file = # DEPRECATED: Run the health check heartbeat thread through a native # python thread by default. If this option is equal to False then the # health check heartbeat will inherit the execution model from the # parent process. For example if the parent process has monkey patched # the stdlib by using eventlet/greenlet then the heartbeat will be run # through a green thread. (boolean value) # This option is deprecated for removal. # Its value may be silently ignored in the future. #heartbeat_in_pthread = true # How long to wait before reconnecting in response to an AMQP consumer # cancel notification. (floating point value) #kombu_reconnect_delay = 1.0 # EXPERIMENTAL: Possible values are: gzip, bz2. If not set compression # will not be used. This option may not be available in future # versions. (string value) #kombu_compression = <None> # How long to wait a missing client before abandoning to send it its # replies. This value should not be longer than rpc_response_timeout. # (integer value) # Deprecated group/name - [oslo_messaging_rabbit]/kombu_reconnect_timeout #kombu_missing_consumer_retry_timeout = 60 # Determines how the next RabbitMQ node is chosen in case the one we # are currently connected to becomes unavailable. Takes effect only if # more than one RabbitMQ node is provided in config. (string value) # Possible values: # round-robin - <No description provided> # shuffle - <No description provided> #kombu_failover_strategy = round-robin # The RabbitMQ login method. (string value) # Possible values: # PLAIN - <No description provided> # AMQPLAIN - <No description provided> # RABBIT-CR-DEMO - <No description provided> #rabbit_login_method = AMQPLAIN # How frequently to retry connecting with RabbitMQ. (integer value) #rabbit_retry_interval = 1 # How long to backoff for between retries when connecting to RabbitMQ. # (integer value) #rabbit_retry_backoff = 2 # Maximum interval of RabbitMQ connection retries. Default is 30 # seconds. (integer value) #rabbit_interval_max = 30 # Try to use HA queues in RabbitMQ (x-ha-policy: all). If you change # this option, you must wipe the RabbitMQ database. In RabbitMQ 3.0, # queue mirroring is no longer controlled by the x-ha-policy argument # when declaring a queue. If you just want to make sure that all # queues (except those with auto-generated names) are mirrored across # all nodes, run: ""rabbitmqctl set_policy HA '^(?!amq\.).*' '{""ha- # mode"": ""all""}' "" (boolean value) #rabbit_ha_queues = false # Positive integer representing duration in seconds for queue TTL # (x-expires). Queues which are unused for the duration of the TTL are # automatically deleted. The parameter affects only reply and fanout # queues. (integer value) # Minimum value: 1 #rabbit_transient_queues_ttl = 1800 # Specifies the number of messages to prefetch. Setting to zero allows # unlimited messages. (integer value) #rabbit_qos_prefetch_count = 0 # Number of seconds after which the Rabbit broker is considered down # if heartbeat's keep-alive fails (0 disables heartbeat). (integer # value) #heartbeat_timeout_threshold = 60 # How often times during the heartbeat_timeout_threshold we check the # heartbeat. (integer value) #heartbeat_rate = 2 # Enable/Disable the RabbitMQ mandatory flag for direct send. The # direct send is used as reply, so the MessageUndeliverable exception # is raised in case the client queue does not exist. (integer value) #direct_mandatory_flag = True # Enable x-cancel-on-ha-failover flag so that rabbitmq server will # cancel and notify consumerswhen queue is down (boolean value) #enable_cancel_on_failover = false [oslo_middleware] # # From oslo.middleware.http_proxy_to_wsgi # # Whether the application is behind a proxy or not. This determines if # the middleware should parse the headers or not. (boolean value) #enable_proxy_headers_parsing = false [oslo_policy] # # From oslo.policy # # This option controls whether or not to enforce scope when evaluating # policies. If ``True``, the scope of the token used in the request is # compared to the ``scope_types`` of the policy being enforced. If the # scopes do not match, an ``InvalidScope`` exception will be raised. # If ``False``, a message will be logged informing operators that # policies are being invoked with mismatching scope. (boolean value) #enforce_scope = false # This option controls whether or not to use old deprecated defaults # when evaluating policies. If ``True``, the old deprecated defaults # are not going to be evaluated. This means if any existing token is # allowed for old defaults but is disallowed for new defaults, it will # be disallowed. It is encouraged to enable this flag along with the # ``enforce_scope`` flag so that you can get the benefits of new # defaults and ``scope_type`` together (boolean value) #enforce_new_defaults = false # The relative or absolute path of a file that maps roles to # permissions for a given service. Relative paths must be specified in # relation to the configuration file setting this option. (string # value) #policy_file = policy.yaml # Default rule. Enforced when a requested rule is not found. (string # value) #policy_default_rule = default # Directories where policy configuration files are stored. They can be # relative to any directory in the search path defined by the # config_dir option, or absolute paths. The file defined by # policy_file must exist for these directories to be searched. # Missing or empty directories are ignored. (multi valued) #policy_dirs = policy.d # Content Type to send and receive data for REST based policy check # (string value) # Possible values: # application/x-www-form-urlencoded - <No description provided> # application/json - <No description provided> #remote_content_type = application/x-www-form-urlencoded # server identity verification for REST based policy check (boolean # value) #remote_ssl_verify_server_crt = false # Absolute path to ca cert file for REST based policy check (string # value) #remote_ssl_ca_crt_file = <None> # Absolute path to client cert for REST based policy check (string # value) #remote_ssl_client_crt_file = <None> # Absolute path client key file REST based policy check (string value) #remote_ssl_client_key_file = <None> [output] # # From cloudkitty.common.config # # Backend for the output manager. (string value) #backend = cloudkitty.backend.file.FileBackend # Storage directory for the file output backend. (string value) #basepath = /var/lib/cloudkitty/states/ # Output pipeline (list value) #pipeline = osrf [state] # # From cloudkitty.common.config # # Backend for the state manager. (string value) #backend = cloudkitty.backend.file.FileBackend # Storage directory for the file state backend. (string value) #basepath = /var/lib/cloudkitty/states/ [storage] # # From cloudkitty.common.config # # Name of the storage backend driver. (string value) #backend = influxdb # Storage version to use. (integer value) # Minimum value: 1 # Maximum value: 2 #version = 2 [storage_elasticsearch] # # From cloudkitty.common.config # # Elasticsearch host, along with port and protocol. Defaults to # http://localhost:9200 (string value) #host = http://localhost:9200 # Elasticsearch index to use. Defaults to ""cloudkitty"". (string value) #index_name = cloudkitty # Set to true to allow insecure HTTPS connections to Elasticsearch # (boolean value) #insecure = false # Path of the CA certificate to trust for HTTPS connections. (string # value) #cafile = <None> # Duration (in seconds) for which the ES scroll contexts should be # kept alive. (integer value) # Minimum value: 0 # Maximum value: 300 # Advanced Option: intended for advanced users and not used # by the majority of users, and might have a significant # effect on stability and/or performance. #scroll_duration = 30 [storage_gnocchi] # # From cloudkitty.common.config # # endpoint url type (string value) #interface = internalURL # Gnocchi storage archive policy name. (string value) #archive_policy_name = rating # Gnocchi storage archive policy definition. (string value) #archive_policy_definition = [{""granularity"": 3600, ""timespan"": ""90 days""}, {""granularity"": 86400, ""timespan"": ""360 days""}, {""granularity"": 2592000, ""timespan"": ""1800 days""}] [storage_influxdb] # # From cloudkitty.common.config # # InfluxDB username (string value) #username = <None> # InfluxDB password (string value) #password = <None> # InfluxDB database (string value) #database = <None> # Retention policy to use (string value) #retention_policy = autogen # InfluxDB host (string value) #host = localhost # InfluxDB port (integer value) #port = 8086 # Set to true to use ssl for influxDB connection. Defaults to False # (boolean value) #use_ssl = false # Set to true to authorize insecure HTTPS connections to influxDB. # Defaults to False (boolean value) #insecure = false # Path of the CA certificate to trust for HTTPS connections (string # value) #cafile = <None> ",75,1424
openstack%2Fnova~master~I8478449d15edb40f98d25d3940343cae9ab2fde8,openstack/nova,master,I8478449d15edb40f98d25d3940343cae9ab2fde8,tests: Split external service fixtures out,MERGED,2021-05-12 13:02:14.000000000,2021-05-20 14:10:25.000000000,2021-05-20 14:06:56.000000000,"[{'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 13:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6119161c969d0a0db6a99edbd04cb1c9ad89404', 'message': ""tests: Split external service fixtures out\n\nThere's no need to throw these into one giant file.\n\nChange-Id: I8478449d15edb40f98d25d3940343cae9ab2fde8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-05-13 15:49:39.000000000', 'files': ['nova/tests/fixtures/neutron.py', 'nova/tests/fixtures/nova.py', 'nova/tests/fixtures/__init__.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/fixtures/cinder.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/fixtures/cyborg.py', 'nova/tests/fixtures/glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/212f89a61e16c05696e0ccc9f66bd6e5e6a91d4f', 'message': ""tests: Split external service fixtures out\n\nThere's no need to throw these into one giant file.\n\nChange-Id: I8478449d15edb40f98d25d3940343cae9ab2fde8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,790968,212f89a61e16c05696e0ccc9f66bd6e5e6a91d4f,17,4,2,15334,,,0,"tests: Split external service fixtures out

There's no need to throw these into one giant file.

Change-Id: I8478449d15edb40f98d25d3940343cae9ab2fde8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/790968/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures/neutron.py', 'nova/tests/fixtures/nova.py', 'nova/tests/fixtures/__init__.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/fixtures/cinder.py', 'nova/tests/fixtures/cyborg.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/fixtures/glance.py']",8,e6119161c969d0a0db6a99edbd04cb1c9ad89404,fixture-cleanup,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy import datetime import fixtures from oslo_log import log as logging from oslo_utils import uuidutils from nova import exception from nova.objects import fields as obj_fields from nova.tests.fixtures import nova as nova_fixtures LOG = logging.getLogger(__name__) class GlanceFixture(fixtures.Fixture): """"""A fixture for simulating Glance."""""" # NOTE(justinsb): The OpenStack API can't upload an image? # So, make sure we've got one.. timestamp = datetime.datetime(2011, 1, 1, 1, 2, 3) image1 = { 'id': '155d900f-4e14-4e4c-a73d-069cbf4541e6', 'name': 'fakeimage123456', 'created_at': timestamp, 'updated_at': timestamp, 'deleted_at': None, 'deleted': False, 'status': 'active', 'is_public': False, 'container_format': 'raw', 'disk_format': 'raw', 'size': '25165824', 'min_ram': 0, 'min_disk': 0, 'protected': False, 'visibility': 'public', 'tags': ['tag1', 'tag2'], 'properties': { 'kernel_id': 'nokernel', 'ramdisk_id': 'nokernel', 'architecture': obj_fields.Architecture.X86_64, }, } image2 = { 'id': 'a2459075-d96c-40d5-893e-577ff92e721c', 'name': 'fakeimage123456', 'created_at': timestamp, 'updated_at': timestamp, 'deleted_at': None, 'deleted': False, 'status': 'active', 'is_public': True, 'container_format': 'ami', 'disk_format': 'ami', 'size': '58145823', 'min_ram': 0, 'min_disk': 0, 'protected': False, 'visibility': 'public', 'tags': [], 'properties': { 'kernel_id': 'nokernel', 'ramdisk_id': 'nokernel', }, } image3 = { 'id': '76fa36fc-c930-4bf3-8c8a-ea2a2420deb6', 'name': 'fakeimage123456', 'created_at': timestamp, 'updated_at': timestamp, 'deleted_at': None, 'deleted': False, 'status': 'active', 'is_public': True, 'container_format': 'bare', 'disk_format': 'raw', 'size': '83594576', 'min_ram': 0, 'min_disk': 0, 'protected': False, 'visibility': 'public', 'tags': ['tag3', 'tag4'], 'properties': { 'kernel_id': 'nokernel', 'ramdisk_id': 'nokernel', 'architecture': obj_fields.Architecture.X86_64, }, } image4 = { 'id': 'cedef40a-ed67-4d10-800e-17455edce175', 'name': 'fakeimage123456', 'created_at': timestamp, 'updated_at': timestamp, 'deleted_at': None, 'deleted': False, 'status': 'active', 'is_public': True, 'container_format': 'ami', 'disk_format': 'ami', 'size': '84035174', 'min_ram': 0, 'min_disk': 0, 'protected': False, 'visibility': 'public', 'tags': [], 'properties': { 'kernel_id': 'nokernel', 'ramdisk_id': 'nokernel', }, } image5 = { 'id': 'c905cedb-7281-47e4-8a62-f26bc5fc4c77', 'name': 'fakeimage123456', 'created_at': timestamp, 'updated_at': timestamp, 'deleted_at': None, 'deleted': False, 'status': 'active', 'is_public': True, 'container_format': 'ami', 'disk_format': 'ami', 'size': '26360814', 'min_ram': 0, 'min_disk': 0, 'protected': False, 'visibility': 'public', 'tags': [], 'properties': { 'kernel_id': '155d900f-4e14-4e4c-a73d-069cbf4541e6', 'ramdisk_id': None, }, } auto_disk_config_disabled_image = { 'id': 'a440c04b-79fa-479c-bed1-0b816eaec379', 'name': 'fakeimage6', 'created_at': timestamp, 'updated_at': timestamp, 'deleted_at': None, 'deleted': False, 'status': 'active', 'is_public': False, 'container_format': 'ova', 'disk_format': 'vhd', 'size': '49163826', 'min_ram': 0, 'min_disk': 0, 'protected': False, 'visibility': 'public', 'tags': [], 'properties': { 'kernel_id': 'nokernel', 'ramdisk_id': 'nokernel', 'architecture': obj_fields.Architecture.X86_64, 'auto_disk_config': 'False', }, } auto_disk_config_enabled_image = { 'id': '70a599e0-31e7-49b7-b260-868f441e862b', 'name': 'fakeimage7', 'created_at': timestamp, 'updated_at': timestamp, 'deleted_at': None, 'deleted': False, 'status': 'active', 'is_public': False, 'container_format': 'ova', 'disk_format': 'vhd', 'size': '74185822', 'min_ram': 0, 'min_disk': 0, 'protected': False, 'visibility': 'public', 'tags': [], 'properties': { 'kernel_id': 'nokernel', 'ramdisk_id': 'nokernel', 'architecture': obj_fields.Architecture.X86_64, 'auto_disk_config': 'True', }, } def __init__(self, test): super().__init__() self.test = test self.images = {} def setUp(self): super().setUp() self.test.useFixture(nova_fixtures.ConfPatcher( group='glance', api_servers=['http://localhost:9292'])) self.test.stub_out( 'nova.image.glance.API.get_remote_image_service', lambda context, image_href: (self, image_href)) self.test.stub_out( 'nova.image.glance.get_default_image_service', lambda: self) self.create(None, self.image1) self.create(None, self.image2) self.create(None, self.image3) self.create(None, self.image4) self.create(None, self.image5) self.create(None, self.auto_disk_config_disabled_image) self.create(None, self.auto_disk_config_enabled_image) self._imagedata = {} # TODO(bcwaldon): implement optional kwargs such as limit, sort_dir def detail(self, context, **kwargs): """"""Return list of detailed image information."""""" return copy.deepcopy(list(self.images.values())) def download( self, context, image_id, data=None, dst_path=None, trusted_certs=None, ): self.show(context, image_id) if data: data.write(self._imagedata.get(image_id, b'')) elif dst_path: with open(dst_path, 'wb') as data: data.write(self._imagedata.get(image_id, b'')) def show( self, context, image_id, include_locations=False, show_deleted=True, ): """"""Get data about specified image. Returns a dict containing image data for the given opaque image id. """""" image = self.images.get(str(image_id)) if image: return copy.deepcopy(image) LOG.warning( 'Unable to find image id %s. Have images: %s', image_id, self.images) raise exception.ImageNotFound(image_id=image_id) def create(self, context, metadata, data=None): """"""Store the image data and return the new image id. :raises: Duplicate if the image already exist. """""" image_id = str(metadata.get('id', uuidutils.generate_uuid())) metadata['id'] = image_id if image_id in self.images: raise exception.CouldNotUploadImage(image_id=image_id) image_meta = copy.deepcopy(metadata) # Glance sets the size value when an image is created, so we # need to do that here to fake things out if it's not provided # by the caller. This is needed to avoid a KeyError in the # image-size API. if 'size' not in image_meta: image_meta['size'] = None # Similarly, Glance provides the status on the image once it's created # and this is checked in the compute API when booting a server from # this image, so we just fake it out to be 'active' even though this # is mostly a lie on a newly created image. if 'status' not in metadata: image_meta['status'] = 'active' # The owner of the image is by default the request context project_id. if context and 'owner' not in image_meta.get('properties', {}): # Note that normally ""owner"" is a top-level field in an image # resource in glance but we have to fake this out for the images # proxy API by throwing it into the generic ""properties"" dict. image_meta.get('properties', {})['owner'] = context.project_id self.images[image_id] = image_meta if data: self._imagedata[image_id] = data.read() return self.images[image_id] def update(self, context, image_id, metadata, data=None, purge_props=False): """"""Replace the contents of the given image with the new data. :raises: ImageNotFound if the image does not exist. """""" if not self.images.get(image_id): raise exception.ImageNotFound(image_id=image_id) if purge_props: self.images[image_id] = copy.deepcopy(metadata) else: image = self.images[image_id] try: image['properties'].update(metadata.pop('properties')) except KeyError: pass image.update(metadata) return self.images[image_id] def delete(self, context, image_id): """"""Delete the given image. :raises: ImageNotFound if the image does not exist. """""" removed = self.images.pop(image_id, None) if not removed: raise exception.ImageNotFound(image_id=image_id) def get_location(self, context, image_id): if image_id in self.images: return 'fake_location' return None ",,1835,1703
openstack%2Fnova~master~Ib6c8fc1e3d90b79b10066c429670fcb957bddd23,openstack/nova,master,Ib6c8fc1e3d90b79b10066c429670fcb957bddd23,Use the new type HostDomainOpt.,MERGED,2021-04-27 10:19:56.000000000,2021-05-20 14:08:50.000000000,2021-05-20 14:05:47.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-27 10:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e1f2145f3f604fb99966f7c0226e98578e5b70e', 'message': 'Use the new type HostDomainOpt.\n\nUse the new oslo.confg type HostDomainOpt to support underscore in the\nname. You can see the bugzilla[1] to have more information.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1868940\n\nChange-Id: Ib6c8fc1e3d90b79b10066c429670fcb957bddd23\n'}, {'number': 2, 'created': '2021-04-28 13:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50afcc925672fda6d3887b2bcb8882488d1fde6e', 'message': 'Use the new type HostDomainOpt.\n\nUse the new oslo.confg type HostDomainOpt to support underscore in the\nname. You can see the bugzilla[1] to have more information.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1868940\n\nChange-Id: Ib6c8fc1e3d90b79b10066c429670fcb957bddd23\n'}, {'number': 3, 'created': '2021-04-29 11:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3caaecaa84c2601fd88bee0dc1a44807c943dbd', 'message': 'Use the new type HostDomainOpt.\n\nUse the new oslo.confg type HostDomainOpt to support underscore in the\nname. You can see the bugzilla[1] to have more information.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1868940\n\nRelated-Bug: #1892044\nChange-Id: Ib6c8fc1e3d90b79b10066c429670fcb957bddd23\n'}, {'number': 4, 'created': '2021-05-03 09:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02ded01bc89651b29e7e3f8aebc088f60ca1fae7', 'message': 'Use the new type HostDomainOpt.\n\nUse the new oslo.confg type HostDomainOpt to support underscore in the\nname. You can see the bugzilla[1] to have more information.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1868940\n\nRelated-Bug: #1892044\nChange-Id: Ib6c8fc1e3d90b79b10066c429670fcb957bddd23\n'}, {'number': 5, 'created': '2021-05-07 10:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68774e296d1a3e8f857c9b7be4bc581751c7e838', 'message': 'Use the new type HostDomainOpt.\n\nUse the new oslo.confg type HostDomainOpt to support underscore in the\nname. You can see the bugzilla[1] to have more information.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1868940\n\nRelated-Bug: #1892044\nChange-Id: Ib6c8fc1e3d90b79b10066c429670fcb957bddd23\n'}, {'number': 6, 'created': '2021-05-19 08:23:17.000000000', 'files': ['requirements.txt', 'nova/conf/netconf.py', 'nova/conf/libvirt.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/0d84833e9688e0df97f3d24e06025e512bca3ce3', 'message': 'Use the new type HostDomainOpt.\n\nUse the new oslo.confg type HostDomainOpt to support underscore in the\nname. You can see the bugzilla[1] to have more information.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1868940\n\nRelated-Bug: #1892044\nChange-Id: Ib6c8fc1e3d90b79b10066c429670fcb957bddd23\n'}]",2,788240,0d84833e9688e0df97f3d24e06025e512bca3ce3,58,6,6,31245,,,0,"Use the new type HostDomainOpt.

Use the new oslo.confg type HostDomainOpt to support underscore in the
name. You can see the bugzilla[1] to have more information.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1868940

Related-Bug: #1892044
Change-Id: Ib6c8fc1e3d90b79b10066c429670fcb957bddd23
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/788240/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/libvirt.py'],1,6e1f2145f3f604fb99966f7c0226e98578e5b70e,," cfg.HostDomainOpt('live_migration_inbound_addr',"," cfg.HostAddressOpt('live_migration_inbound_addr',",1,1
openstack%2Fneutron~stable%2Fwallaby~I73e396ab134cb547ff99220ead062c51a32a42ef,openstack/neutron,stable/wallaby,I73e396ab134cb547ff99220ead062c51a32a42ef,[stable/wallaby] Drop -master jobs,MERGED,2021-04-13 07:27:06.000000000,2021-05-20 14:05:40.000000000,2021-05-20 14:02:19.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-13 07:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a0f578a8d95c185371cf6187d5f023e80a58809', 'message': '[stable/wallaby] Drop -master jobs\n\nAs listed in release steps, we should drop these jobs from stable\nbranches as they only make sense in master\n\nChange-Id: I73e396ab134cb547ff99220ead062c51a32a42ef\n'}, {'number': 2, 'created': '2021-04-13 11:56:50.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6b4c7deb3df493d091fd329dcec5d71b68379d8', 'message': '[stable/wallaby] Drop -master jobs\n\nAs listed in release steps, we should drop these jobs from stable\nbranches as they only make sense in master\n\nChange-Id: I73e396ab134cb547ff99220ead062c51a32a42ef\n'}]",0,786010,f6b4c7deb3df493d091fd329dcec5d71b68379d8,60,5,2,21798,,,0,"[stable/wallaby] Drop -master jobs

As listed in release steps, we should drop these jobs from stable
branches as they only make sense in master

Change-Id: I73e396ab134cb547ff99220ead062c51a32a42ef
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/786010/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/project.yaml']",3,2a0f578a8d95c185371cf6187d5f023e80a58809,,, - neutron-ovn-tempest-full-multinode-ovs-master - neutron-tempest-with-neutron-lib-master - neutron-tempest-with-os-ken-master - neutron-ovn-tempest-ovs-master-fedora,0,156
openstack%2Frpm-packaging~master~I3619045137253fd4f43bbb693fe68a7824cf260d,openstack/rpm-packaging,master,I3619045137253fd4f43bbb693fe68a7824cf260d,Update sushy version to 3.8.0,MERGED,2021-05-20 13:33:28.000000000,2021-05-20 14:04:04.000000000,2021-05-20 14:04:04.000000000,"[{'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-20 13:33:28.000000000', 'files': ['openstack/sushy/sushy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d6c9655627e71f3eac99658c16a6b8e3bb8fd2d4', 'message': 'Update sushy version to 3.8.0\n\nChange-Id: I3619045137253fd4f43bbb693fe68a7824cf260d\n'}]",0,792380,d6c9655627e71f3eac99658c16a6b8e3bb8fd2d4,12,5,1,23851,,,0,"Update sushy version to 3.8.0

Change-Id: I3619045137253fd4f43bbb693fe68a7824cf260d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/80/792380/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy/sushy.spec.j2'],1,d6c9655627e71f3eac99658c16a6b8e3bb8fd2d4,sushy-380,{% set upstream_version = upstream_version('3.8.0') %},{% set upstream_version = upstream_version('3.7.0') %},1,1
openstack%2Frequirements~stable%2Fwallaby~If0c1e49f8df2fb4c1ad03c65182dd900504616f1,openstack/requirements,stable/wallaby,If0c1e49f8df2fb4c1ad03c65182dd900504616f1,update constraint for tooz to new release 2.8.1,MERGED,2021-05-20 09:50:08.000000000,2021-05-20 13:43:33.000000000,2021-05-20 13:43:33.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-20 09:50:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/98091329cf49a3abc4840343401711bdb4f05bd3', 'message': 'update constraint for tooz to new release 2.8.1\n\nmeta: version: 2.8.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I27c938feeea6ee95551bd3d103694dc9e849698e\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: If0c1e49f8df2fb4c1ad03c65182dd900504616f1\n'}]",0,792339,98091329cf49a3abc4840343401711bdb4f05bd3,8,3,1,11131,,,0,"update constraint for tooz to new release 2.8.1

meta: version: 2.8.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I27c938feeea6ee95551bd3d103694dc9e849698e
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: If0c1e49f8df2fb4c1ad03c65182dd900504616f1
",git fetch https://review.opendev.org/openstack/requirements refs/changes/39/792339/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,98091329cf49a3abc4840343401711bdb4f05bd3,new-release,tooz===2.8.1,tooz===2.8.0,1,1
openstack%2Frpm-packaging~master~Ie055770236bed0807025ac004afb5e38037b60ab,openstack/rpm-packaging,master,Ie055770236bed0807025ac004afb5e38037b60ab,ovsdbapp: update to 1.10.0,MERGED,2021-05-19 20:35:29.000000000,2021-05-20 13:35:54.000000000,2021-05-20 13:35:54.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-19 20:35:29.000000000', 'files': ['openstack/ovsdbapp/ovsdbapp.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/223b08cb03907042f8870423455e9c5f3d747ad8', 'message': 'ovsdbapp: update to 1.10.0\n\nChange-Id: Ie055770236bed0807025ac004afb5e38037b60ab\n'}]",0,792264,223b08cb03907042f8870423455e9c5f3d747ad8,9,5,1,6593,,,0,"ovsdbapp: update to 1.10.0

Change-Id: Ie055770236bed0807025ac004afb5e38037b60ab
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/64/792264/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/ovsdbapp/ovsdbapp.spec.j2'],1,223b08cb03907042f8870423455e9c5f3d747ad8,,{% set upstream_version = upstream_version('1.10.0') %},{% set upstream_version = upstream_version('1.9.0') %},1,1
openstack%2Frpm-packaging~master~I2e2df24fbdab77e0219e3e8714a61c9f26b98a2b,openstack/rpm-packaging,master,I2e2df24fbdab77e0219e3e8714a61c9f26b98a2b,neutron-lib: 2.11.0 update,MERGED,2021-05-19 20:34:50.000000000,2021-05-20 13:25:52.000000000,2021-05-20 13:25:52.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-19 20:34:50.000000000', 'files': ['openstack/neutron-lib/neutron-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6f323c771f9bf4654c99a46fec73ffecf5c03e19', 'message': 'neutron-lib: 2.11.0 update\n\nChange-Id: I2e2df24fbdab77e0219e3e8714a61c9f26b98a2b\n'}]",0,792263,6f323c771f9bf4654c99a46fec73ffecf5c03e19,13,5,1,6593,,,0,"neutron-lib: 2.11.0 update

Change-Id: I2e2df24fbdab77e0219e3e8714a61c9f26b98a2b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/63/792263/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron-lib/neutron-lib.spec.j2'],1,6f323c771f9bf4654c99a46fec73ffecf5c03e19,,{% set upstream_version = upstream_version('2.11.0') %},{% set upstream_version = upstream_version('2.10.1') %},1,1
openstack%2Fneutron~master~I5e3037ccbdf7e86b1ea7cb868f88ce0179611afb,openstack/neutron,master,I5e3037ccbdf7e86b1ea7cb868f88ce0179611afb,[OVN] Disabling SNAT doesn't take effect if the router has already snat enabled,ABANDONED,2021-05-19 21:30:32.000000000,2021-05-20 13:18:45.000000000,,"[{'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-05-19 21:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c9dd415eedf9972f698f5a42104169369cdc90f', 'message': ""WIP: [OVN] Disabling SNAT doesn't take effect if the router has already snat enabled\n\nFix logic in OVN router update where SNAT is changing.\n\nCloses-bug: #1928988\nChange-Id: I5e3037ccbdf7e86b1ea7cb868f88ce0179611afb\n""}, {'number': 2, 'created': '2021-05-20 01:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e661d11cde8f65b16ad057143afc49092737955a', 'message': ""[OVN] Disabling SNAT doesn't take effect if the router has already snat enabled\n\nFix logic in OVN router update where SNAT is changing.\n\nCloses-bug: #1928988\nChange-Id: I5e3037ccbdf7e86b1ea7cb868f88ce0179611afb\n""}, {'number': 3, 'created': '2021-05-20 01:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c7d32bccea31f47b47f6f9343ba0e6815e5be65', 'message': ""[OVN] Disabling SNAT doesn't take effect if the router has already snat enabled\n\nFix logic in OVN router update where SNAT is changing.\n\nCloses-bug: #1928988\nChange-Id: I5e3037ccbdf7e86b1ea7cb868f88ce0179611afb\n""}, {'number': 4, 'created': '2021-05-20 13:00:50.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f230c5002900e3583cc199412437f93a95ce5699', 'message': ""[OVN] Disabling SNAT doesn't take effect if the router has already snat enabled\n\nFix logic in OVN router update where SNAT is changing.\n\nCloses-bug: #1928988\nChange-Id: I5e3037ccbdf7e86b1ea7cb868f88ce0179611afb\n""}]",2,792272,f230c5002900e3583cc199412437f93a95ce5699,19,8,4,11952,,,0,"[OVN] Disabling SNAT doesn't take effect if the router has already snat enabled

Fix logic in OVN router update where SNAT is changing.

Closes-bug: #1928988
Change-Id: I5e3037ccbdf7e86b1ea7cb868f88ce0179611afb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/792272/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,5c9dd415eedf9972f698f5a42104169369cdc90f,, if networks:, if utils.is_snat_enabled(new_router) and networks:,1,1
openstack%2Fosc-placement~master~I9e1bc722e77d181ad2ad8b515538ad01edf85d53,openstack/osc-placement,master,I9e1bc722e77d181ad2ad8b515538ad01edf85d53,Add openstackclient-plugin-jobs,MERGED,2021-03-15 14:26:15.000000000,2021-05-20 13:03:43.000000000,2021-05-20 13:00:41.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-15 14:26:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/714d4e605955dbc7a561c087e2a4ad685b17d76f', 'message': 'Add openstackclient-plugin-jobs\n\n... to ensure that osc-placement is co-installable with\npython-openstackclient and the other plugins.\n\nChange-Id: I9e1bc722e77d181ad2ad8b515538ad01edf85d53\n'}]",0,780598,714d4e605955dbc7a561c087e2a4ad685b17d76f,9,5,1,9816,,,0,"Add openstackclient-plugin-jobs

... to ensure that osc-placement is co-installable with
python-openstackclient and the other plugins.

Change-Id: I9e1bc722e77d181ad2ad8b515538ad01edf85d53
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/98/780598/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,714d4e605955dbc7a561c087e2a4ad685b17d76f,placement-cli-job, - openstackclient-plugin-jobs,,1,0
openstack%2Fosc-placement~master~I41a3718bfa27ecf370c7375b4f761cda47866b1a,openstack/osc-placement,master,I41a3718bfa27ecf370c7375b4f761cda47866b1a,Note env OS_PLACEMENT_API_VERSION support,MERGED,2021-05-14 05:04:19.000000000,2021-05-20 12:58:51.000000000,2021-05-20 12:57:44.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 05:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/26004a3a3af9a16d69bf37d6db940035ccaa9833', 'message': 'Note env OS_PLACEMENT_API_VERSION support\n\nThe placement client (osc-placement) supports the\n``OS_PLACEMENT_API_VERSION`` environment variable,\nbut it is not described in the ``openstack -h`` command.\n\nSo this patch adds the description as we as other environment\nvariables.\n\nChange-Id: I41a3718bfa27ecf370c7375b4f761cda47866b1a\n'}, {'number': 2, 'created': '2021-05-14 05:05:39.000000000', 'files': ['osc_placement/plugin.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/97785352632ea942c00e52a3d248cd50d2fb46f3', 'message': 'Note env OS_PLACEMENT_API_VERSION support\n\nThe placement client (osc-placement) supports the\n``OS_PLACEMENT_API_VERSION`` environment variable,\nbut it is not described in the ``openstack -h`` command.\n\nSo this patch adds the description as well as other\nenvironment variables.\n\nChange-Id: I41a3718bfa27ecf370c7375b4f761cda47866b1a\n'}]",0,791356,97785352632ea942c00e52a3d248cd50d2fb46f3,10,5,2,25625,,,0,"Note env OS_PLACEMENT_API_VERSION support

The placement client (osc-placement) supports the
``OS_PLACEMENT_API_VERSION`` environment variable,
but it is not described in the ``openstack -h`` command.

So this patch adds the description as well as other
environment variables.

Change-Id: I41a3718bfa27ecf370c7375b4f761cda47866b1a
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/56/791356/2 && git format-patch -1 --stdout FETCH_HEAD,['osc_placement/plugin.py'],1,26004a3a3af9a16d69bf37d6db940035ccaa9833,trivial," help='Placement API version, default=%s ' '(Env: OS_PLACEMENT_API_VERSION)' % default)"," help='Placement API version, default=%s' % default)",2,1
openstack%2Fcharm-interface-cinder-backend~master~Ice633e5a4011218f20a112968427fbf3fd5a0f7f,openstack/charm-interface-cinder-backend,master,Ice633e5a4011218f20a112968427fbf3fd5a0f7f,Add method for publishing releases packages map,MERGED,2021-03-24 14:36:53.000000000,2021-05-20 12:55:01.000000000,2021-05-20 12:55:01.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 14:36:53.000000000', 'files': ['provides.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-cinder-backend/commit/7b76ebb85d94d6fc4ccfae35264e0e6ceab5c821', 'message': 'Add method for publishing releases packages map\n\nRelated-Bug: #1806111\nChange-Id: Ice633e5a4011218f20a112968427fbf3fd5a0f7f\n'}]",0,782761,7b76ebb85d94d6fc4ccfae35264e0e6ceab5c821,7,3,1,13686,,,0,"Add method for publishing releases packages map

Related-Bug: #1806111
Change-Id: Ice633e5a4011218f20a112968427fbf3fd5a0f7f
",git fetch https://review.opendev.org/openstack/charm-interface-cinder-backend refs/changes/61/782761/1 && git format-patch -1 --stdout FETCH_HEAD,['provides.py'],1,7b76ebb85d94d6fc4ccfae35264e0e6ceab5c821,bug/1806111,"import charmhelpers.core.hookenv as hookenv def publish_releases_packages_map(self, releases_packages_map): """"""Publish releases_packages_map. :param releases_packages_map: Map of releases and packages :type releases_packages_map: Dict[str,Dict[str,List[str]]] """""" # NOTE: To allow relation updates outside of relation hook execution, # e.g. upgrade-charm hook, we need to revert to classic hookenv tools. for rid in hookenv.relation_ids(self.relation_name): relation_info = { 'releases-packages-map': json.dumps( releases_packages_map, sort_keys=True) } hookenv.relation_set(rid, relation_info)",,17,0
openstack%2Fopenstack-ansible-tests~master~Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2,openstack/openstack-ansible-tests,master,Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2,Bump ansible-lint and ansible version,MERGED,2021-04-05 08:49:01.000000000,2021-05-20 12:52:25.000000000,2021-05-20 12:51:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-04-05 08:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/96f0b24c8b660fe119a3d132db67d7418953d7d8', 'message': 'Bump ansible-lint version\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n'}, {'number': 2, 'created': '2021-04-05 10:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/9b5abfbfd2a0fa4201ffb51076941523651e75bd', 'message': 'Bump ansible-lint version\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n'}, {'number': 3, 'created': '2021-04-20 11:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/38641b8ee297f2f7061a978061f038d61d8732e0', 'message': 'Bump ansible-lint version\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n'}, {'number': 4, 'created': '2021-05-19 09:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/07d7d4efbdae5c95028ab1e83c2ef4b5fe2a8c97', 'message': 'Bump ansible-lint version\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n'}, {'number': 5, 'created': '2021-05-19 09:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/58a35455d4853b990be11904539f5d9170b31837', 'message': 'Bump ansible-lint version\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n'}, {'number': 6, 'created': '2021-05-19 14:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/626b95f86df09d504b614f9372ce6dea709b2ee4', 'message': ""Bump ansible-lint version\n\nansible-lint 5.0.9 has merged our NoLogPasswordRule.\nAPTRepositoryCacheUpdateRule is not relevant since\nansible fix has been merged for several years now.\nAlso ansible-lint provides yamllint check.\n\nThis means, we shouldn't really carry custom lint\nrules and can jsut use upstream ones.\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n""}, {'number': 7, 'created': '2021-05-19 14:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/6bd81b97b9a9cf21f4140e1f9e4bd629f3a33314', 'message': ""Bump ansible-lint version\n\nansible-lint 5.0.9 has merged our NoLogPasswordRule.\nAPTRepositoryCacheUpdateRule is not relevant since\nansible fix has been merged for several years now.\nAlso ansible-lint provides yamllint check.\n\nThis means, we shouldn't really carry custom lint\nrules and can jsut use upstream ones.\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n""}, {'number': 8, 'created': '2021-05-19 14:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/43302aa7a4cf7c6524d673f05c2ccf716c8d2bcd', 'message': ""Bump ansible-lint version\n\nansible-lint 5.0.9 has merged our NoLogPasswordRule [1]\nAPTRepositoryCacheUpdateRule is not relevant since\nansible fix has been merged for several years now.\nAlso ansible-lint provides yamllint check.\n\nThis means, we shouldn't really carry custom lint\nrules and can jsut use upstream ones.\n\n[1] https://github.com/ansible-community/ansible-lint/commit/8bef056d698f4cda64a52eec73fc9b6f70e40cb3\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n""}, {'number': 9, 'created': '2021-05-19 14:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/4da8d06eae9aaab340f1191515d4064f6d592f16', 'message': ""Bump ansible-lint version\n\nansible-lint 5.0.9 has merged our NoLogPasswordRule [1]\nAPTRepositoryCacheUpdateRule is not relevant since\nansible fix has been merged for several years now.\nAlso ansible-lint provides yamllint check.\n\nThis means, we shouldn't really carry custom lint\nrules and can jsut use upstream ones.\n\n[1] https://github.com/ansible-community/ansible-lint/commit/8bef056d698f4cda64a52eec73fc9b6f70e40cb3\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n""}, {'number': 10, 'created': '2021-05-19 14:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e98864d6693a4e76aca7c1a33159c2534085fdf0', 'message': ""Bump ansible-lint and ansible version\n\nansible-lint 5.0.9 has merged our NoLogPasswordRule [1]\nAPTRepositoryCacheUpdateRule is not relevant since\nansible fix has been merged for several years now.\nAlso ansible-lint provides yamllint check.\n\nThis means, we shouldn't really carry custom lint\nrules and can jsut use upstream ones.\n\nWe also update ansible and collections version to\nmatch with the integrated repo.\n\n[1] https://github.com/ansible-community/ansible-lint/commit/8bef056d698f4cda64a52eec73fc9b6f70e40cb3\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n""}, {'number': 11, 'created': '2021-05-19 15:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/076b03081efdac4cc8a5b128b42c52751fdf32f3', 'message': ""Bump ansible-lint and ansible version\n\nansible-lint 5.0.9 has merged our NoLogPasswordRule [1]\nAPTRepositoryCacheUpdateRule is not relevant since\nansible fix has been merged for several years now.\nAlso ansible-lint provides yamllint check.\n\nThis means, we shouldn't really carry custom lint\nrules and can jsut use upstream ones.\n\nWe also update ansible and collections version to\nmatch with the integrated repo.\n\n[1] https://github.com/ansible-community/ansible-lint/commit/8bef056d698f4cda64a52eec73fc9b6f70e40cb3\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n""}, {'number': 12, 'created': '2021-05-19 17:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/92f5a88d7b179d76981c72c0eb043d46ec46088c', 'message': ""Bump ansible-lint and ansible version\n\nansible-lint 5.0.9 has merged our NoLogPasswordRule [1]\nAPTRepositoryCacheUpdateRule is not relevant since\nansible fix has been merged for several years now.\nAlso ansible-lint provides yamllint check.\n\nThis means, we shouldn't really carry custom lint\nrules and can jsut use upstream ones.\n\nWe also update ansible and collections version to\nmatch with the integrated repo.\n\n[1] https://github.com/ansible-community/ansible-lint/commit/8bef056d698f4cda64a52eec73fc9b6f70e40cb3\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n""}, {'number': 13, 'created': '2021-05-19 17:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/2188e62c9b15b94885d51784d2b6765b901f637b', 'message': ""Bump ansible-lint and ansible version\n\nansible-lint 5.0.9 has merged our NoLogPasswordRule [1]\nAPTRepositoryCacheUpdateRule is not relevant since\nansible fix has been merged for several years now.\nAlso ansible-lint provides yamllint check.\n\nThis means, we shouldn't really carry custom lint\nrules and can jsut use upstream ones.\n\nWe also update ansible and collections version to\nmatch with the integrated repo.\n\n[1] https://github.com/ansible-community/ansible-lint/commit/8bef056d698f4cda64a52eec73fc9b6f70e40cb3\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n""}, {'number': 14, 'created': '2021-05-19 18:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c8b3c96e9f188061af11c46398386de1a079b076', 'message': ""Bump ansible-lint and ansible version\n\nansible-lint 5.0.9 has merged our NoLogPasswordRule [1]\nAPTRepositoryCacheUpdateRule is not relevant since\nansible fix has been merged for several years now.\nAlso ansible-lint provides yamllint check.\n\nThis means, we shouldn't really carry custom lint\nrules and can jsut use upstream ones.\n\nWe also update ansible and collections version to\nmatch with the integrated repo.\n\n[1] https://github.com/ansible-community/ansible-lint/commit/8bef056d698f4cda64a52eec73fc9b6f70e40cb3\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n""}, {'number': 15, 'created': '2021-05-19 18:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/fdd6bcd47b3ca0dd4e32fbee5c934862ffa4946d', 'message': ""Bump ansible-lint and ansible version\n\nansible-lint 5.0.9 has merged our NoLogPasswordRule [1]\nAPTRepositoryCacheUpdateRule is not relevant since\nansible fix has been merged for several years now.\nAlso ansible-lint provides yamllint check.\n\nThis means, we shouldn't really carry custom lint\nrules and can jsut use upstream ones.\n\nWe also update ansible and collections version to\nmatch with the integrated repo.\n\n[1] https://github.com/ansible-community/ansible-lint/commit/8bef056d698f4cda64a52eec73fc9b6f70e40cb3\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n""}, {'number': 16, 'created': '2021-05-19 18:26:02.000000000', 'files': ['test-prepare-host.yml', 'test-requirements.txt', 'ansible-lint/APTRepositoryCacheUpdateRule.py', 'ansible-lint/test/apt-repository-cache-update-success.yml', 'ansible-lint/test/__init__.py', 'ansible-lint/NoLogPasswordsRule.py', 'ansible-lint/test/TestAPTRepositoryCacheUpdateRule.py', 'ansible-lint/test/no-log-passwords-success.yml', 'test-ansible-deps.txt', 'ansible-lint/test/apt-repository-cache-update-failure.yml', 'test-ansible-collection-requirements.yml', 'ansible-lint/test/TestNoLogPasswordsRule.py', 'test-ansible-lint.sh', 'ansible-lint/YAMLdictchecker.py', 'ansible-lint/test/no-log-passwords-failure.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/d88998cd686d67efc5b7ce3c23353ef2c257eefc', 'message': ""Bump ansible-lint and ansible version\n\nansible-lint 5.0.9 has merged our NoLogPasswordRule [1]\nAPTRepositoryCacheUpdateRule is not relevant since\nansible fix has been merged for several years now.\nAlso ansible-lint provides yamllint check.\n\nThis means, we shouldn't really carry custom lint\nrules and can jsut use upstream ones.\n\nWe also update ansible and collections version to\nmatch with the integrated repo.\n\n[1] https://github.com/ansible-community/ansible-lint/commit/8bef056d698f4cda64a52eec73fc9b6f70e40cb3\n\nChange-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2\n""}]",0,784751,d88998cd686d67efc5b7ce3c23353ef2c257eefc,33,3,16,28619,,,0,"Bump ansible-lint and ansible version

ansible-lint 5.0.9 has merged our NoLogPasswordRule [1]
APTRepositoryCacheUpdateRule is not relevant since
ansible fix has been merged for several years now.
Also ansible-lint provides yamllint check.

This means, we shouldn't really carry custom lint
rules and can jsut use upstream ones.

We also update ansible and collections version to
match with the integrated repo.

[1] https://github.com/ansible-community/ansible-lint/commit/8bef056d698f4cda64a52eec73fc9b6f70e40cb3

Change-Id: Ie85d6d0a17849bbc665a7f49644c38b5f6a96bb2
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/51/784751/16 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-lint/NoLogPasswordsRule.py', 'test-requirements.txt', 'ansible-lint/APTRepositoryCacheUpdateRule.py', 'ansible-lint/YAMLdictchecker.py']",4,96f0b24c8b660fe119a3d132db67d7418953d7d8,784751,from ansiblelint.rules import AnsibleLintRule class YAMLdictchecker(AnsibleLintRule):,import ansiblelint class YAMLdictchecker(ansiblelint.AnsibleLintRule):,7,7
openstack%2Fcharm-swift-storage~master~Ib72b4692e3a970097c365feded241aa4840fe9ad,openstack/charm-swift-storage,master,Ib72b4692e3a970097c365feded241aa4840fe9ad,Prune gate tests,MERGED,2021-02-20 00:04:58.000000000,2021-05-20 12:51:22.000000000,2021-05-20 12:51:22.000000000,"[{'_account_id': 12549}, {'_account_id': 18511}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-20 00:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/4c024332f2695f0ce4d712e1880dfcd0ffa7cddc', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Ib72b4692e3a970097c365feded241aa4840fe9ad\n'}, {'number': 2, 'created': '2021-05-07 13:00:19.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/d39f45235393a7ba74a4a12cfac39f149f0d951a', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Ib72b4692e3a970097c365feded241aa4840fe9ad\n'}]",0,776763,d39f45235393a7ba74a4a12cfac39f149f0d951a,16,4,2,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Ib72b4692e3a970097c365feded241aa4840fe9ad
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/63/776763/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,4c024332f2695f0ce4d712e1880dfcd0ffa7cddc,charms/gate-reduction,dev_bundles: - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky, - bionic-rocky - xenial-queens - xenial-pike - xenial-ocata - trusty-mitaka,6,5
openstack%2Fcharm-keystone-saml-mellon~master~Ice57bdeb6bae18412056d5b60ea05ae557d6f0f2,openstack/charm-keystone-saml-mellon,master,Ice57bdeb6bae18412056d5b60ea05ae557d6f0f2,Fix gitreview host name,MERGED,2020-02-18 17:01:17.000000000,2021-05-20 12:48:28.000000000,2021-05-20 12:48:28.000000000,"[{'_account_id': 11904}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-18 17:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/8923600cd7cd3097cc202000657fd1e5bcdd1ac6', 'message': 'Fix gitreview host name\n\nThis can cause issues with release automation when the repo is tagged\nsince the host will not match what is expected for the ssh key.\n\nChange-Id: Ice57bdeb6bae18412056d5b60ea05ae557d6f0f2\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-12-04 19:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/4b5f3bf5e4192fb6044ac860a74c66d03c53181e', 'message': 'Fix gitreview host name\n\nThis can cause issues with release automation when the repo is tagged\nsince the host will not match what is expected for the ssh key.\n\nChange-Id: Ice57bdeb6bae18412056d5b60ea05ae557d6f0f2\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2021-04-07 09:33:55.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/c294e0e209f9163acd3bc4e2a5362d28917a4cb4', 'message': 'Fix gitreview host name\n\nThis can cause issues with release automation when the repo is tagged\nsince the host will not match what is expected for the ssh key.\n\nChange-Id: Ice57bdeb6bae18412056d5b60ea05ae557d6f0f2\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,708455,c294e0e209f9163acd3bc4e2a5362d28917a4cb4,20,6,3,11904,,,0,"Fix gitreview host name

This can cause issues with release automation when the repo is tagged
since the host will not match what is expected for the ssh key.

Change-Id: Ice57bdeb6bae18412056d5b60ea05ae557d6f0f2
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/55/708455/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8923600cd7cd3097cc202000657fd1e5bcdd1ac6,gitreview,host=review.opendev.org,host=review.openstack.org,1,1
openstack%2Fcharm-neutron-openvswitch~master~Ie281a311a95ba394d72c2dfeeb0a1a0a12847e77,openstack/charm-neutron-openvswitch,master,Ie281a311a95ba394d72c2dfeeb0a1a0a12847e77,Disable vrrp healthchecks by default,MERGED,2021-03-24 19:57:17.000000000,2021-05-20 12:47:32.000000000,2021-05-20 12:47:32.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 19:57:17.000000000', 'files': ['unit_tests/test_neutron_ovs_context.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/eb4e3e3bc3f1c3833c22c82a2c45e4402bdcce91', 'message': 'Disable vrrp healthchecks by default\n\nVRRP healthchecks were enabled by default starting in the 19.07 charm\nrelease for network deployments which utilize l3ha or dvr+snat. The VRRP\nhealthchecks have specific expectations that may not be satisfied in\nvarious data centers. This leads to problems with networks as failed\nhealthchecks lead to router failovers.\n\nThis change alters the default config option to disable the vrrp\nhealthchecks by default and require users to opt in to using them. The\ndescription around the option has been updated to indicate that doing so\nmay lead to routers failing over if ICMP pings are missed.\n\nChange-Id: Ie281a311a95ba394d72c2dfeeb0a1a0a12847e77\nCloses-Bug: #192101\n'}]",0,782852,eb4e3e3bc3f1c3833c22c82a2c45e4402bdcce91,11,3,1,8992,,,0,"Disable vrrp healthchecks by default

VRRP healthchecks were enabled by default starting in the 19.07 charm
release for network deployments which utilize l3ha or dvr+snat. The VRRP
healthchecks have specific expectations that may not be satisfied in
various data centers. This leads to problems with networks as failed
healthchecks lead to router failovers.

This change alters the default config option to disable the vrrp
healthchecks by default and require users to opt in to using them. The
description around the option has been updated to indicate that doing so
may lead to routers failing over if ICMP pings are missed.

Change-Id: Ie281a311a95ba394d72c2dfeeb0a1a0a12847e77
Closes-Bug: #192101
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/52/782852/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_ovs_context.py', 'config.yaml']",2,eb4e3e3bc3f1c3833c22c82a2c45e4402bdcce91,bug/1921010," default: 0 Specifies the frequency (in seconds) at which HA routers will check their external network gateway by performing an ICMP ping between the virtual routers. When the ping check fails, this will trigger the HA routers to failover to another node. A value of 0 will disable this check. This setting only applies when using l3ha and dvr_snat. . WARNING: Enabling the health checks should be done with caution as it may lead to rapid failovers of HA routers. ICMP pings are low priority and may be dropped or take longer than the 1 second afforded by neutron, which leads to routers failing over to other nodes.", default: 30 By default all HA routers will check their external network gateway by sending a ping and if that fails they trigger a vrrp transition. This option defines how frequently this check is performed. Setting this value to 0 will disable the healthchecks. Note that this only applies when using l3ha and dvr_snat.,12,7
openstack%2Fnetworking-ovn~stable%2Ftrain~Ib91b3e2fb0da0ed730654948bdb682df138a9261,openstack/networking-ovn,stable/train,Ib91b3e2fb0da0ed730654948bdb682df138a9261,Add mitogen to the docs requirements,ABANDONED,2021-05-19 19:00:05.000000000,2021-05-20 12:47:22.000000000,,"[{'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-05-19 19:00:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d640122429212640fbadaa4b8159bbc5a58601e2', 'message': ""Add mitogen to the docs requirements\n\nMitogen is dependency of the pyroute2 and was added link to it\nthe docs in pyroute2 0.6.1. Due to the missing mitogen in our\ndocs venv, docs job was failing.\nSo let's install mitogen as docs env requirement, at least for now\nto unblock our gate.\nLater we can think about better solution as e.g. adding it properly to\nthe requirements or report and fix the issue in the pyroute2.\n\nCloses-Bug: #1928913\nChange-Id: Ib91b3e2fb0da0ed730654948bdb682df138a9261\n(cherry picked from neutron commit b881c5a032cccbe0f78444af6571907ad4bc98c5)\n""}]",0,792246,d640122429212640fbadaa4b8159bbc5a58601e2,9,6,1,1131,,,0,"Add mitogen to the docs requirements

Mitogen is dependency of the pyroute2 and was added link to it
the docs in pyroute2 0.6.1. Due to the missing mitogen in our
docs venv, docs job was failing.
So let's install mitogen as docs env requirement, at least for now
to unblock our gate.
Later we can think about better solution as e.g. adding it properly to
the requirements or report and fix the issue in the pyroute2.

Closes-Bug: #1928913
Change-Id: Ib91b3e2fb0da0ed730654948bdb682df138a9261
(cherry picked from neutron commit b881c5a032cccbe0f78444af6571907ad4bc98c5)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/46/792246/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d640122429212640fbadaa4b8159bbc5a58601e2,bug/1928913,# NOTE(slaweq): mitogen is optional dependency of the pyroute2 and without it # our docs job is failing mitogen>=0.2.9,,3,0
openstack%2Fswift~master~Icd3364eabd4ceea96de06d2272c07fa5537f0a75,openstack/swift,master,Icd3364eabd4ceea96de06d2272c07fa5537f0a75,Add absolute values for shard shrinking config options,ABANDONED,2021-03-05 17:08:12.000000000,2021-05-20 12:46:43.000000000,,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 17:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/edc35bbc7e944d67febcce4b954752fbe3280091', 'message': ""Use absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated but\nwill take precedence over the new options if they are explicitly set\nin a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 500000\n\nChange-Id: Icd3364eabd4ceea96de06d2272c07fa5537f0a75\n""}, {'number': 2, 'created': '2021-03-08 11:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8535361fc2ce164c8440d0d63a726fa0fa79b4e1', 'message': ""Add absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and\nwill be overridden by the new options if they are explicitly set\nin a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 750000\n\nChange-Id: Icd3364eabd4ceea96de06d2272c07fa5537f0a75\n""}, {'number': 3, 'created': '2021-03-09 12:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/64fdcfd7dd30c54c342db2ce59040b90f0defbb3', 'message': ""Add absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and\nwill be overridden by the new options if the new options are\nexplicitly set in a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 750000\n\nChange-Id: Icd3364eabd4ceea96de06d2272c07fa5537f0a75\n""}, {'number': 4, 'created': '2021-03-11 23:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/de51bfee19be63bf2adaf2e2a289590c2cee60a3', 'message': ""Add absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and\nwill be overridden by the new options if the new options are\nexplicitly set in a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 750000\n\nChange-Id: Icd3364eabd4ceea96de06d2272c07fa5537f0a75\n""}, {'number': 5, 'created': '2021-03-22 18:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9a73c6a7e7566e77e810c5da0278f53a449c166b', 'message': ""Add absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and\nwill be overridden by the new options if the new options are\nexplicitly set in a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 750000\n\nChange-Id: Icd3364eabd4ceea96de06d2272c07fa5537f0a75\n""}, {'number': 6, 'created': '2021-04-01 10:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fd29f1d5066e0b78ae951600321a4e98d8267c46', 'message': ""Add absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and\nwill be overridden by the new options if the new options are\nexplicitly set in a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 750000\n\nChange-Id: Icd3364eabd4ceea96de06d2272c07fa5537f0a75\n""}, {'number': 7, 'created': '2021-04-29 09:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c66037c8d1bcd3a044eb7abfa9d173bddc047788', 'message': ""Add absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and\nwill be overridden by the new options if the new options are\nexplicitly set in a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 750000\n\nChange-Id: Icd3364eabd4ceea96de06d2272c07fa5537f0a75\n""}, {'number': 8, 'created': '2021-04-29 09:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/99868ba0b97ffae6a11691eb41fb74b72b5c35b0', 'message': ""Add absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and\nwill be overridden by the new options if the new options are\nexplicitly set in a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 750000\n\nChange-Id: Icd3364eabd4ceea96de06d2272c07fa5537f0a75\n""}, {'number': 9, 'created': '2021-05-11 09:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b59de700f9613a363f6760b25d89d52e23f7e834', 'message': ""Add absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and\nwill be overridden by the new options if the new options are\nexplicitly set in a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 750000\n\nChange-Id: Icd3364eabd4ceea96de06d2272c07fa5537f0a75\n""}, {'number': 10, 'created': '2021-05-14 09:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e7381b8a18792c65c311bca2bd90636fd2c58238', 'message': ""Add absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and\nwill be overridden by the new options if the new options are\nexplicitly set in a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 750000\n\nChange-Id: Icd3364eabd4ceea96de06d2272c07fa5537f0a75\n""}, {'number': 11, 'created': '2021-05-19 14:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/28120389d39e8c94be882988d56ab3226d91ffd1', 'message': ""Add absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and\nwill be overridden by the new options if the new options are\nexplicitly set in a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 750000\n\nChange-Id: Icd3364eabd4ceea96de06d2272c07fa5537f0a75\n""}, {'number': 12, 'created': '2021-05-19 14:26:51.000000000', 'files': ['etc/container-server.conf-sample', 'test/unit/container/test_sharder.py', 'test/unit/cli/test_manage_shard_ranges.py', 'doc/source/config/container_server_config.rst', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ae970816bd9ddd5e03d8ad2a737fc11aa896b195', 'message': ""Add absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and\nwill be overridden by the new options if the new options are\nexplicitly set in a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 750000\n\nChange-Id: Icd3364eabd4ceea96de06d2272c07fa5537f0a75\n""}]",14,778990,ae970816bd9ddd5e03d8ad2a737fc11aa896b195,39,4,12,7847,,,0,"Add absolute values for shard shrinking config options

Add two new sharder config options for configuring shrinking
behaviour:

  - shrink_threshold: the size below which a shard may shrink
  - expansion_limit: the maximum size to which an acceptor shard
    may grow

The new options match the 'swift-manage-shard-ranges' command line
options and take absolute values.

The new options provide alternatives to the current equivalent options
'shard_shrink_point' and 'shard_shrink_merge_point', which are
expressed as percentages of 'shard_container_threshold'.
'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and
will be overridden by the new options if the new options are
explicitly set in a config file.

The default values of the new options are the same as the values that
would result from the default 'shard_container_threshold',
'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:

  - shrink_threshold: 100000
  - expansion_limit: 750000

Change-Id: Icd3364eabd4ceea96de06d2272c07fa5537f0a75
",git fetch https://review.opendev.org/openstack/swift refs/changes/90/778990/5 && git format-patch -1 --stdout FETCH_HEAD,"['etc/container-server.conf-sample', 'test/unit/cli/test_manage_shard_ranges.py', 'test/unit/container/test_sharder.py', 'doc/source/config/container_server_config.rst', 'swift/container/sharder.py']",5,edc35bbc7e944d67febcce4b954752fbe3280091,p-sharder-conf-loading-v1," # not exposed as a config file option but here for convenience... Install options from a ``conf` dict as attributes of the ``namespace``. Options not in the ``conf`` dict will be set with default values. def set_val(key, validator, conf_key=None, required=True): :param required: If True the it is an error if ``conf_key`` is not found in the config. Default is True. :raises: KeyError if the conf_key is not in the config and ``required`` is True. conf_value = conf[conf_key] except KeyError: if required: raise else: return try: setattr(namespace, key, validator(conf_value)) ('shrink_threshold', config_positive_int_value, 'shrink_threshold'), ('expansion_limit', config_positive_int_value, 'expansion_limit'), # Note: these options are deprecated and have no default value. They # will therefore only be set if the conf_key has been given in the conf # file, in which case they will replace the previously set values. ('shrink_threshold', percent_of_threshold, 'shard_shrink_point', False), ('expansion_limit', percent_of_threshold, 'shard_shrink_merge_point', False),"," 'shard_shrink_point': 10, 'shard_shrink_merge_point': 50, # not exposed as a config file option but here for convenience... Install options from a conf dict as attributes of the namespace. def set_val(key, validator, conf_key=None): setattr(namespace, key, validator(conf.get(conf_key))) ('shrink_threshold', percent_of_threshold, 'shard_shrink_point'), ('expansion_limit', percent_of_threshold, 'shard_shrink_merge_point'),",233,77
openstack%2Fdevstack~master~I68db03009eba87cd89c0ff0479fb106cdb322dcf,openstack/devstack,master,I68db03009eba87cd89c0ff0479fb106cdb322dcf,"Fix unit tests: ""python: command not found""",ABANDONED,2021-05-20 12:36:42.000000000,2021-05-20 12:45:57.000000000,,[],"[{'number': 1, 'created': '2021-05-20 12:36:42.000000000', 'files': ['tests/test_write_devstack_local_conf_role.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3dcb5e49f5c4704a8108eee85fc777ceb7f9dc99', 'message': 'Fix unit tests: ""python: command not found""\n\nIt seems like ""python"" is no longer a valid command in ubuntu-focal, we\nshould use python3.\n\nChange-Id: I68db03009eba87cd89c0ff0479fb106cdb322dcf\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,792368,3dcb5e49f5c4704a8108eee85fc777ceb7f9dc99,4,0,1,6773,,,0,"Fix unit tests: ""python: command not found""

It seems like ""python"" is no longer a valid command in ubuntu-focal, we
should use python3.

Change-Id: I68db03009eba87cd89c0ff0479fb106cdb322dcf
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/68/792368/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_write_devstack_local_conf_role.sh'],1,3dcb5e49f5c4704a8108eee85fc777ceb7f9dc99,fix-unittests,python3 ./roles/write-devstack-local-conf/library/test.py,python ./roles/write-devstack-local-conf/library/test.py,1,1
openstack%2Fswift~master~I61e4a2fed703c56461c7e0738513ca6738aaee68,openstack/swift,master,I61e4a2fed703c56461c7e0738513ca6738aaee68,Unify sharder and manage-shard-ranges options,ABANDONED,2021-03-05 17:08:12.000000000,2021-05-20 12:45:18.000000000,,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 17:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ea6cd90e2c35c5c951ca76b60021e4fe4023d03e', 'message': ""Unify sharder and manage-shard-ranges options\n\nChange the sharder daemon default merge_size to equal the\nmanage_shard_ranges default expansion_limit i.e 500000.\n\nDefine sharder default config values in a dict to make\napplications of default simpler.\n\nRename ContainerSharder member vars to match the equivalent vars and\ncli options in manage_shard_ranges:\n\n  shrink_size -> shrinking_threshold\n  merge_size -> expansion_limit\n  split_size -> rows_per_shard\n\n(This direction of renaming is chosen so that the manage_shard_ranges\ncli options are not changed.)\n\nRename ContainerSharder member vars to match the conf file option name:\n  scanner_batch_size -> shard_scanner_batch_size\n\nRemove some ContainerSharder member vars that were not used outside of\nthe __init__ method:\n\n  shrink_merge_point\n  shard_shrink_point\n\nExtract conf loading to a sharder module 'init_sharding_conf'\nfunction for options common to both the ContainerSharder and\nmanage_shard_ranges so that the function can be re-used in\nmanage_shard_ranges.\n\nChange-Id: I61e4a2fed703c56461c7e0738513ca6738aaee68\n""}, {'number': 2, 'created': '2021-03-08 11:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/618de458e73fa4def10fa3daf9d6ff6e2f2be61c', 'message': ""Unify sharder and manage-shard-ranges options\n\nChange the swift-manage-shard-ranges default expansion-limit to equal\nthe sharder daemon default merge_size i.e 750000.\n\nDefine sharder default config values in a dict to make\napplication of the default values simpler.\n\nRename ContainerSharder member vars to match the equivalent vars and\ncli options in manage_shard_ranges:\n\n  shrink_size -> shrinking_threshold\n  merge_size -> expansion_limit\n  split_size -> rows_per_shard\n\n(This direction of renaming is chosen so that the manage_shard_ranges\ncli options are not changed.)\n\nRename ContainerSharder member vars to match the conf file option name:\n  scanner_batch_size -> shard_scanner_batch_size\n\nRemove some ContainerSharder member vars that were not used outside of\nthe __init__ method:\n\n  shrink_merge_point\n  shard_shrink_point\n\nExtract conf loading to a sharder module 'init_sharding_conf'\nfunction for options common to both the ContainerSharder and\nmanage_shard_ranges so that the function can be re-used in\nmanage_shard_ranges.\n\nChange-Id: I61e4a2fed703c56461c7e0738513ca6738aaee68\n""}, {'number': 3, 'created': '2021-03-09 12:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7519bd366331a4a3efffadd57dc4a3a03146e5a8', 'message': ""Unify sharder and manage-shard-ranges options\n\nChange the swift-manage-shard-ranges default expansion-limit to equal\nthe sharder daemon default merge_size i.e 750000.\n\nDefine sharder default config values in a dict to make\napplication of the default values simpler.\n\nRename ContainerSharder member vars to match the equivalent vars and\ncli options in manage_shard_ranges:\n\n  shrink_size -> shrinking_threshold\n  merge_size -> expansion_limit\n  split_size -> rows_per_shard\n\n(This direction of renaming is chosen so that the manage_shard_ranges\ncli options are not changed.)\n\nRename ContainerSharder member vars to match the conf file option name:\n  scanner_batch_size -> shard_scanner_batch_size\n\nRemove some ContainerSharder member vars that were not used outside of\nthe __init__ method:\n\n  shrink_merge_point\n  shard_shrink_point\n\nExtract conf loading to a sharder module 'init_sharding_conf'\nfunction for options common to both the ContainerSharder and\nmanage_shard_ranges so that the function can be re-used in\nmanage_shard_ranges.\n\nChange-Id: I61e4a2fed703c56461c7e0738513ca6738aaee68\n""}, {'number': 4, 'created': '2021-03-11 23:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/14f2a1f7c3c1517629388f82f4d2d1142ae28c94', 'message': ""Unify sharder and manage-shard-ranges options\n\nChange the swift-manage-shard-ranges default expansion-limit to equal\nthe sharder daemon default merge_size i.e 750000.\n\nDefine sharder default config values in a dict to make\napplication of the default values simpler.\n\nRename ContainerSharder member vars to match the equivalent vars and\ncli options in manage_shard_ranges:\n\n  shrink_size -> shrinking_threshold\n  merge_size -> expansion_limit\n  split_size -> rows_per_shard\n\n(This direction of renaming is chosen so that the manage_shard_ranges\ncli options are not changed.)\n\nRename ContainerSharder member vars to match the conf file option name:\n  scanner_batch_size -> shard_scanner_batch_size\n\nRemove some ContainerSharder member vars that were not used outside of\nthe __init__ method:\n\n  shrink_merge_point\n  shard_shrink_point\n\nExtract conf loading to a sharder module 'init_sharding_conf'\nfunction for options common to both the ContainerSharder and\nmanage_shard_ranges so that the function can be re-used in\nmanage_shard_ranges.\n\nChange-Id: I61e4a2fed703c56461c7e0738513ca6738aaee68\n""}, {'number': 5, 'created': '2021-03-22 18:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b6a8cd1cee44238e226c11c2d8656382d46399af', 'message': ""Unify sharder and manage-shard-ranges options\n\nChange the swift-manage-shard-ranges default expansion-limit to equal\nthe sharder daemon default merge_size i.e 750000.\n\nDefine sharder default config values in a dict to make\napplication of the default values simpler.\n\nRename ContainerSharder member vars to match the equivalent vars and\ncli options in manage_shard_ranges:\n\n  shrink_size -> shrinking_threshold\n  merge_size -> expansion_limit\n  split_size -> rows_per_shard\n\n(This direction of renaming is chosen so that the manage_shard_ranges\ncli options are not changed.)\n\nRename ContainerSharder member vars to match the conf file option name:\n  scanner_batch_size -> shard_scanner_batch_size\n\nRemove some ContainerSharder member vars that were not used outside of\nthe __init__ method:\n\n  shrink_merge_point\n  shard_shrink_point\n\nExtract conf loading to a sharder module 'init_sharding_conf'\nfunction for options common to both the ContainerSharder and\nmanage_shard_ranges so that the function can be re-used in\nmanage_shard_ranges.\n\nChange-Id: I61e4a2fed703c56461c7e0738513ca6738aaee68\n""}, {'number': 6, 'created': '2021-04-01 10:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0d7c3fc441b41fee609ce0a8a287c6c2d5b62ba4', 'message': ""Unify sharder and manage-shard-ranges options\n\nChange the swift-manage-shard-ranges default expansion-limit to equal\nthe sharder daemon default merge_size i.e 750000.\n\nDefine sharder default config values in a dict to make\napplication of the default values simpler.\n\nRename ContainerSharder member vars to match the equivalent vars and\ncli options in manage_shard_ranges:\n\n  shrink_size -> shrinking_threshold\n  merge_size -> expansion_limit\n  split_size -> rows_per_shard\n\n(This direction of renaming is chosen so that the manage_shard_ranges\ncli options are not changed.)\n\nRename ContainerSharder member vars to match the conf file option name:\n  scanner_batch_size -> shard_scanner_batch_size\n\nRemove some ContainerSharder member vars that were not used outside of\nthe __init__ method:\n\n  shrink_merge_point\n  shard_shrink_point\n\nExtract conf loading to a sharder module 'init_sharding_conf'\nfunction for options common to both the ContainerSharder and\nmanage_shard_ranges so that the function can be re-used in\nmanage_shard_ranges.\n\nChange-Id: I61e4a2fed703c56461c7e0738513ca6738aaee68\n""}, {'number': 7, 'created': '2021-04-29 09:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/747ff9ef6fb7f93b2c26afc11bc814ec728e837c', 'message': ""Unify sharder and manage-shard-ranges options\n\nChange the swift-manage-shard-ranges default expansion-limit to equal\nthe sharder daemon default merge_size i.e 750000.\n\nDefine sharder default config values in a dict to make\napplication of the default values simpler.\n\nRename ContainerSharder member vars to match the equivalent vars and\ncli options in manage_shard_ranges:\n\n  shrink_size -> shrinking_threshold\n  merge_size -> expansion_limit\n  split_size -> rows_per_shard\n\n(This direction of renaming is chosen so that the manage_shard_ranges\ncli options are not changed.)\n\nRename ContainerSharder member vars to match the conf file option name:\n  scanner_batch_size -> shard_scanner_batch_size\n\nRemove some ContainerSharder member vars that were not used outside of\nthe __init__ method:\n\n  shrink_merge_point\n  shard_shrink_point\n\nExtract conf loading to a sharder module 'init_sharding_conf'\nfunction for options common to both the ContainerSharder and\nmanage_shard_ranges so that the function can be re-used in\nmanage_shard_ranges.\n\nChange-Id: I61e4a2fed703c56461c7e0738513ca6738aaee68\n""}, {'number': 8, 'created': '2021-05-11 09:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8e3a58b47f0b10a6487307d0b844a83ab3cd5820', 'message': ""Unify sharder and manage-shard-ranges options\n\nChange the swift-manage-shard-ranges default expansion-limit to equal\nthe sharder daemon default merge_size i.e 750000.\n\nDefine sharder default config values in a dict to make\napplication of the default values simpler.\n\nRename ContainerSharder member vars to match the equivalent vars and\ncli options in manage_shard_ranges:\n\n  shrink_size -> shrinking_threshold\n  merge_size -> expansion_limit\n  split_size -> rows_per_shard\n\n(This direction of renaming is chosen so that the manage_shard_ranges\ncli options are not changed.)\n\nRename ContainerSharder member vars to match the conf file option name:\n  scanner_batch_size -> shard_scanner_batch_size\n\nRemove some ContainerSharder member vars that were not used outside of\nthe __init__ method:\n\n  shrink_merge_point\n  shard_shrink_point\n\nExtract conf loading to a sharder module 'init_sharding_conf'\nfunction for options common to both the ContainerSharder and\nmanage_shard_ranges so that the function can be re-used in\nmanage_shard_ranges.\n\nChange-Id: I61e4a2fed703c56461c7e0738513ca6738aaee68\n""}, {'number': 9, 'created': '2021-05-14 09:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3ff82e0ebc19d4ee1c20c9aadcc43f03e7af40c0', 'message': ""Unify sharder and manage-shard-ranges options\n\nChange the swift-manage-shard-ranges default expansion-limit to equal\nthe sharder daemon default merge_size i.e 750000.\n\nDefine sharder default config values in a dict to make\napplication of the default values simpler.\n\nRename ContainerSharder member vars to match the equivalent vars and\ncli options in manage_shard_ranges:\n\n  shrink_size -> shrinking_threshold\n  merge_size -> expansion_limit\n  split_size -> rows_per_shard\n\n(This direction of renaming is chosen so that the manage_shard_ranges\ncli options are not changed.)\n\nRename ContainerSharder member vars to match the conf file option name:\n  scanner_batch_size -> shard_scanner_batch_size\n\nRemove some ContainerSharder member vars that were not used outside of\nthe __init__ method:\n\n  shrink_merge_point\n  shard_shrink_point\n\nExtract conf loading to a sharder module 'init_sharding_conf'\nfunction for options common to both the ContainerSharder and\nmanage_shard_ranges so that the function can be re-used in\nmanage_shard_ranges.\n\nChange-Id: I61e4a2fed703c56461c7e0738513ca6738aaee68\n""}, {'number': 10, 'created': '2021-05-19 14:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e5adfb7a3d4d055b6e1692f4c0e15e16982dde59', 'message': ""Unify sharder and manage-shard-ranges options\n\nChange the swift-manage-shard-ranges default expansion-limit to equal\nthe sharder daemon default merge_size i.e 750000.\n\nDefine sharder default config values in a dict to make\napplication of the default values simpler.\n\nRename ContainerSharder member vars to match the equivalent vars and\ncli options in manage_shard_ranges:\n\n  shrink_size -> shrink_threshold\n  merge_size -> expansion_limit\n  split_size -> rows_per_shard\n\n(This direction of renaming is chosen so that the manage_shard_ranges\ncli options are not changed.)\n\nRename ContainerSharder member vars to match the conf file option name:\n  scanner_batch_size -> shard_scanner_batch_size\n\nRemove some ContainerSharder member vars that were not used outside of\nthe __init__ method:\n\n  shrink_merge_point\n  shard_shrink_point\n\nExtract conf loading to a sharder module 'init_sharding_conf'\nfunction for options common to both the ContainerSharder and\nmanage_shard_ranges so that the function can be re-used in\nmanage_shard_ranges.\n\nChange-Id: I61e4a2fed703c56461c7e0738513ca6738aaee68\n""}, {'number': 11, 'created': '2021-05-19 14:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4aa4ef99c76b468111ba2492ae865c97ce05ae79', 'message': 'Use ContainerSharderConf class in sharder and manage-shard-ranges\n\nChange the swift-manage-shard-ranges default expansion-limit to equal\nthe sharder daemon default merge_size i.e 750000. The previous default\nof 500000 had erroneously differed from the sharder default value.\n\nIntroduce a ContainerSharderConf class to encapsulate loading of\nsharder conf and the definition of defaults. ContainerSharder inherits\nthis and swift-manage-shard-ranges instantiates it.\n\nRename ContainerSharder member vars to match the equivalent vars and\ncli options in manage_shard_ranges:\n\n  shrink_size -> shrink_threshold\n  merge_size -> expansion_limit\n  split_size -> rows_per_shard\n\n(This direction of renaming is chosen so that the manage_shard_ranges\ncli options are not changed.)\n\nRename ContainerSharder member vars to match the conf file option name:\n  scanner_batch_size -> shard_scanner_batch_size\n\nRemove some ContainerSharder member vars that were not used outside of\nthe __init__ method:\n\n  shrink_merge_point\n  shard_shrink_point\n\nChange-Id: I61e4a2fed703c56461c7e0738513ca6738aaee68\n'}, {'number': 12, 'created': '2021-05-19 14:26:51.000000000', 'files': ['etc/container-server.conf-sample', 'test/unit/container/test_sharder.py', 'swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'doc/source/config/container_server_config.rst', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/909f8befa5cd6b7b3d3ab2b7c1eb37ed19d8a7c5', 'message': ""Unify sharder and manage-shard-ranges options\n\nChange the swift-manage-shard-ranges default expansion-limit to equal\nthe sharder daemon default merge_size i.e 750000.\n\nDefine sharder default config values in a dict to make application of\nthe default values simpler.\n\nRename ContainerSharder member vars to match the equivalent vars and\ncli options in manage_shard_ranges:\n\n  shrink_size -> shrink_threshold\n  merge_size -> expansion_limit\n  split_size -> rows_per_shard\n\n(This direction of renaming is chosen so that the manage_shard_ranges\ncli options are not changed.)\n\nRename ContainerSharder member vars to match the conf file option name:\n  scanner_batch_size -> shard_scanner_batch_size\n\nRemove some ContainerSharder member vars that were not used outside of\nthe __init__ method:\n\n  shrink_merge_point\n  shard_shrink_point\n\nExtract conf loading to a sharder module 'init_sharding_conf'\nfunction for options common to both the ContainerSharder and\nmanage_shard_ranges so that the function can be re-used in\nmanage_shard_ranges.\n\nChange-Id: I61e4a2fed703c56461c7e0738513ca6738aaee68\n""}]",38,778989,909f8befa5cd6b7b3d3ab2b7c1eb37ed19d8a7c5,42,5,12,7847,,,0,"Unify sharder and manage-shard-ranges options

Change the swift-manage-shard-ranges default expansion-limit to equal
the sharder daemon default merge_size i.e 750000.

Define sharder default config values in a dict to make application of
the default values simpler.

Rename ContainerSharder member vars to match the equivalent vars and
cli options in manage_shard_ranges:

  shrink_size -> shrink_threshold
  merge_size -> expansion_limit
  split_size -> rows_per_shard

(This direction of renaming is chosen so that the manage_shard_ranges
cli options are not changed.)

Rename ContainerSharder member vars to match the conf file option name:
  scanner_batch_size -> shard_scanner_batch_size

Remove some ContainerSharder member vars that were not used outside of
the __init__ method:

  shrink_merge_point
  shard_shrink_point

Extract conf loading to a sharder module 'init_sharding_conf'
function for options common to both the ContainerSharder and
manage_shard_ranges so that the function can be re-used in
manage_shard_ranges.

Change-Id: I61e4a2fed703c56461c7e0738513ca6738aaee68
",git fetch https://review.opendev.org/openstack/swift refs/changes/89/778989/7 && git format-patch -1 --stdout FETCH_HEAD,"['etc/container-server.conf-sample', 'swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'test/unit/container/test_sharder.py', 'doc/source/config/container_server_config.rst', 'swift/container/sharder.py']",6,ea6cd90e2c35c5c951ca76b60021e4fe4023d03e,p-sharder-conf-loading-v1,"def is_shrinking_candidate(shard_range, shrink_threshold, expansion_limit, states=None): # typically shrink_threshold < expansion_limit but check both just in case shard_range.object_count <= expansion_limit)def find_shrinking_candidates(broker, shrink_threshold, expansion_limit): expansion_limit, 1, -1, expansion_limit, :param expansion_limit: the maximum number of rows that an acceptor shard range should have after other shard ranges have been compacted into it # expansion_limit sequence[-1], shrink_threshold, expansion_limit, sequence.object_count >= expansion_limit)): shard_ranges[index], shrink_threshold, expansion_limit, <= expansion_limit): # the entire namespace, has no more than expansion_limit records # and whose shard ranges are all shrinkable; all the shards in theDEFAULT_SHARDER_CONF = { 'shard_container_threshold': 1000000, 'rows_per_shard': 500000, 'shard_shrink_point': 10, 'shard_shrink_merge_point': 50, 'max_shrinking': 1, 'max_expanding': -1, 'shard_scanner_batch_size': 10, 'cleave_batch_size': 2, 'cleave_row_batch_size': 10000, 'broker_timeout': 60, 'recon_candidates_limit': 5, 'recon_sharded_timeout': 43200, 'conn_timeout': 5, 'auto_shard': False, # not exposed as a config file option but here for convenience... 'shrink_threshold': 100000, 'expansion_limit': 500000, 'rows_per_shard_percent': 50, } def init_sharding_conf(conf, namespace): """""" Install options from a conf dict as attributes of the namespace. :param conf: A dict of config options. :param namespace: An object to which attributes will be added. :return: the ``namespace`` object. """""" for k in DEFAULT_SHARDER_CONF: conf.setdefault(k, DEFAULT_SHARDER_CONF[k]) def set_val(key, validator, conf_key=None): """""" Set an attribute in the namespace with a value from config. :param key: Attribute name to be set in namespace. :param validator: A function that will passed the value from the config dict and should return the value to be set. This function should raise a ValueError if the config value if not valid. :param conf_key: key to lookup value in config dict; if None then ``key`` will be used. :raises: ValueError if the value read from config is invalid. """""" conf_key = conf_key or key try: setattr(namespace, key, validator(conf.get(conf_key))) except ValueError as err: raise ValueError('Error setting %s: %s' % (conf_key, err)) def percent_of_threshold(val): return int(config_percent_value(val) * namespace.shard_container_threshold) for args in ( ('max_shrinking', int), ('max_expanding', int), ('shard_container_threshold', config_positive_int_value), ('shard_scanner_batch_size', config_positive_int_value), ('cleave_batch_size', config_positive_int_value), ('cleave_row_batch_size', config_positive_int_value), ('broker_timeout', config_positive_int_value), ('recon_candidates_limit', int), ('recon_sharded_timeout', int), ('conn_timeout', float), ('auto_shard', config_true_value), # some options are derived from percentage of shard_container_threshold # so must be listed after shard_container_threshold has been set... ('shrink_threshold', percent_of_threshold, 'shard_shrink_point'), ('expansion_limit', percent_of_threshold, 'shard_shrink_merge_point'), ('rows_per_shard', percent_of_threshold, 'rows_per_shard_percent'), ): set_val(*args) return namespace init_sharding_conf(conf, self) broker, self.shrink_threshold, self.expansion_limit, self.rows_per_shard, limit=self.shard_scanner_batch_size, broker, self.shrink_threshold, self.expansion_limit, self.max_shrinking, self.max_expanding, include_shrinking=True)","def is_shrinking_candidate(shard_range, shrink_threshold, merge_size, states=None): # typically shrink_threshold < merge_size but check both just in case shard_range.object_count <= merge_size)def find_shrinking_candidates(broker, shrink_threshold, merge_size): merge_size, 1, -1, merge_size, :param merge_size: the maximum number of rows that an acceptor shard range should have after other shard ranges have been compacted into it # merge_size sequence[-1], shrink_threshold, merge_size, sequence.object_count >= merge_size)): shard_ranges[index], shrink_threshold, merge_size, <= merge_size): # the entire namespace, has no more than merge_size records and # whose shard ranges are all shrinkable; all the shards in theDEFAULT_SHARD_CONTAINER_THRESHOLD = 1000000 DEFAULT_SHARD_SHRINK_POINT = 10 DEFAULT_SHARD_MERGE_POINT = 75 DEFAULT_MAX_SHRINKING = 1 DEFAULT_MAX_EXPANDING = -1 self.shard_shrink_point = config_percent_value( conf.get('shard_shrink_point', DEFAULT_SHARD_SHRINK_POINT)) self.shrink_merge_point = config_percent_value( conf.get('shard_shrink_merge_point', DEFAULT_SHARD_MERGE_POINT)) self.shard_container_threshold = config_positive_int_value( conf.get('shard_container_threshold', DEFAULT_SHARD_CONTAINER_THRESHOLD)) self.shrink_size = (self.shard_container_threshold * self.shard_shrink_point) self.merge_size = (self.shard_container_threshold * self.shrink_merge_point) self.split_size = self.shard_container_threshold // 2 self.scanner_batch_size = config_positive_int_value( conf.get('shard_scanner_batch_size', 10)) self.cleave_batch_size = config_positive_int_value( conf.get('cleave_batch_size', 2)) self.cleave_row_batch_size = config_positive_int_value( conf.get('cleave_row_batch_size', 10000)) self.max_shrinking = int(conf.get('max_shrinking', DEFAULT_MAX_SHRINKING)) self.max_expanding = int(conf.get('max_expanding', DEFAULT_MAX_EXPANDING)) self.auto_shard = config_true_value(conf.get('auto_shard', False)) self.recon_candidates_limit = int( conf.get('recon_candidates_limit', 5)) self.recon_sharded_timeout = int( conf.get('recon_sharded_timeout', 43200)) self.broker_timeout = config_positive_int_value( conf.get('broker_timeout', 60)) self.conn_timeout = float(conf.get('conn_timeout', 5)) broker, self.shrink_size, self.merge_size, self.split_size, limit=self.scanner_batch_size, broker, self.shrink_size, self.merge_size, self.max_shrinking, self.max_expanding, include_shrinking=True)",179,157
openstack%2Fcharm-mysql-innodb-cluster~master~Ib653070abcb03ea1ace0e54ade9ca9427b977e49,openstack/charm-mysql-innodb-cluster,master,Ib653070abcb03ea1ace0e54ade9ca9427b977e49,"Remove the ""param self"" from docstrings",MERGED,2021-01-11 11:51:05.000000000,2021-05-20 12:12:52.000000000,2021-05-20 12:12:52.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 11:51:05.000000000', 'files': ['src/lib/charm/openstack/mysql_innodb_cluster.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/ba71b5ecbb7c1ae86a11e3e44a7d5ff16a8020ae', 'message': 'Remove the ""param self"" from docstrings\n\nThe ""param self"" and ""type self"" lines in the docstrings are not very\nuseful and just pad out the code.  They also tend to be implied.  This\npatch removes them from the charm code and brings it inline with other\ncharms.\n\nChange-Id: Ib653070abcb03ea1ace0e54ade9ca9427b977e49\n'}]",0,770112,ba71b5ecbb7c1ae86a11e3e44a7d5ff16a8020ae,7,3,1,20870,,,0,"Remove the ""param self"" from docstrings

The ""param self"" and ""type self"" lines in the docstrings are not very
useful and just pad out the code.  They also tend to be implied.  This
patch removes them from the charm code and brings it inline with other
charms.

Change-Id: Ib653070abcb03ea1ace0e54ade9ca9427b977e49
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/12/770112/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/mysql_innodb_cluster.py'],1,ba71b5ecbb7c1ae86a11e3e44a7d5ff16a8020ae,remove-type-self-in-docstrings,, :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance :param self: Self :type self: MySQLInnoDBClusterCharm instance,0,82
openstack%2Fnetworking-ovn~stable%2Ftrain~I023191538679f2ee0d8dfb2f6231e848fdfbf86c,openstack/networking-ovn,stable/train,I023191538679f2ee0d8dfb2f6231e848fdfbf86c,"Install ""pyroute2"" as a doc job depedency",MERGED,2021-05-19 17:40:24.000000000,2021-05-20 12:12:25.000000000,2021-05-20 12:11:03.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 17:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5a8bd61b80f31b013a2a3d68c4e27533b2289fa6', 'message': 'Install ""pyroute2"" as a doc job depedency\n\nBy adding this library to the doc requirements file, tox will install\nit limiting the upper version according to\n""requirements/upper-constraints.txt"".\n\n""pyroute2"" is called in tox doc job as mentioned in [1]. Since version\n0.6.0, the library structure changed. To keep backwards compatibility,\nall modules are imported from the main namespace. As reported in the\nreferred bug, the library ""mitogen"" must be installed first.\n\nIn stable releases that use older ""pyroute2"" versions, this library is\nnot needed but this patch should enforce the upper library version.\n\nRelated-Bug: #1928913\n\n[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40\n\nChange-Id: I023191538679f2ee0d8dfb2f6231e848fdfbf86c\n(cherry picked from neutron commit 9e6b7a2284a39ae74d2092083165e3fdf4cb8f33)\n'}, {'number': 2, 'created': '2021-05-19 18:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e957fc8ec97b216a6f0eab7108cb9a35096f3b7a', 'message': 'Install ""pyroute2"" as a doc job depedency\n\nBy adding this library to the doc requirements file, tox will install\nit limiting the upper version according to\n""requirements/upper-constraints.txt"".\n\n""pyroute2"" is called in tox doc job as mentioned in [1]. Since version\n0.6.0, the library structure changed. To keep backwards compatibility,\nall modules are imported from the main namespace. As reported in the\nreferred bug, the library ""mitogen"" must be installed first.\n\nIn stable releases that use older ""pyroute2"" versions, this library is\nnot needed but this patch should enforce the upper library version.\n\nRelated-Bug: #1928913\n\n[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40\n\nConflicts:\n    doc/requirements.txt\n\nChange-Id: I023191538679f2ee0d8dfb2f6231e848fdfbf86c\n(cherry picked from neutron commit 9e6b7a2284a39ae74d2092083165e3fdf4cb8f33)\n'}, {'number': 3, 'created': '2021-05-19 18:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d9a00f709c92f32e83ac56c5ebfa3d3b87953f60', 'message': 'Install ""pyroute2"" as a doc job depedency\n\nBy adding this library to the doc requirements file, tox will install\nit limiting the upper version according to\n""requirements/upper-constraints.txt"".\n\n""pyroute2"" is called in tox doc job as mentioned in [1]. Since version\n0.6.0, the library structure changed. To keep backwards compatibility,\nall modules are imported from the main namespace. As reported in the\nreferred bug, the library ""mitogen"" must be installed first.\n\nIn stable releases that use older ""pyroute2"" versions, this library is\nnot needed but this patch should enforce the upper library version.\n\nRelated-Bug: #1928913\n\n[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40\n\nConflicts:\n    doc/requirements.txt\n\nChange-Id: I023191538679f2ee0d8dfb2f6231e848fdfbf86c\n(cherry picked from neutron commit 9e6b7a2284a39ae74d2092083165e3fdf4cb8f33)\n'}, {'number': 4, 'created': '2021-05-20 08:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3dac9e02b299435029f843997af454c8b2bb2a83', 'message': 'Install ""pyroute2"" as a doc job depedency\n\nBy adding this library to the doc requirements file, tox will install\nit limiting the upper version according to\n""requirements/upper-constraints.txt"".\n\n""pyroute2"" is called in tox doc job as mentioned in [1]. Since version\n0.6.0, the library structure changed. To keep backwards compatibility,\nall modules are imported from the main namespace. As reported in the\nreferred bug, the library ""mitogen"" must be installed first.\n\nIn stable releases that use older ""pyroute2"" versions, this library is\nnot needed but this patch should enforce the upper library version.\n\nRelated-Bug: #1928913\n\n[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40\n\nConflicts:\n    doc/requirements.txt\n\nChange-Id: I023191538679f2ee0d8dfb2f6231e848fdfbf86c\n(cherry picked from neutron commit 9e6b7a2284a39ae74d2092083165e3fdf4cb8f33)\n'}, {'number': 5, 'created': '2021-05-20 10:22:26.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2e894eddbe1532d6a19a53717cb60f3b272ef501', 'message': 'Install ""pyroute2"" as a doc job depedency\n\nBy adding this library to the doc requirements file, tox will install\nit limiting the upper version according to\n""requirements/upper-constraints.txt"".\n\n""pyroute2"" is called in tox doc job as mentioned in [1]. Since version\n0.6.0, the library structure changed. To keep backwards compatibility,\nall modules are imported from the main namespace. As reported in the\nreferred bug, the library ""mitogen"" must be installed first.\n\nIn stable releases that use older ""pyroute2"" versions, this library is\nnot needed but this patch should enforce the upper library version.\n\nThis patch also changes the ""docs"" and ""pdf-docs"" tox definitions.\n\nRelated-Bug: #1928913\n\n[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40\n\nConflicts:\n    doc/requirements.txt\n    tox.ini\n\nChange-Id: I023191538679f2ee0d8dfb2f6231e848fdfbf86c\n(cherry picked from neutron commit 9e6b7a2284a39ae74d2092083165e3fdf4cb8f33)\n'}]",0,792219,2e894eddbe1532d6a19a53717cb60f3b272ef501,19,5,5,1131,,,0,"Install ""pyroute2"" as a doc job depedency

By adding this library to the doc requirements file, tox will install
it limiting the upper version according to
""requirements/upper-constraints.txt"".

""pyroute2"" is called in tox doc job as mentioned in [1]. Since version
0.6.0, the library structure changed. To keep backwards compatibility,
all modules are imported from the main namespace. As reported in the
referred bug, the library ""mitogen"" must be installed first.

In stable releases that use older ""pyroute2"" versions, this library is
not needed but this patch should enforce the upper library version.

This patch also changes the ""docs"" and ""pdf-docs"" tox definitions.

Related-Bug: #1928913

[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40

Conflicts:
    doc/requirements.txt
    tox.ini

Change-Id: I023191538679f2ee0d8dfb2f6231e848fdfbf86c
(cherry picked from neutron commit 9e6b7a2284a39ae74d2092083165e3fdf4cb8f33)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/19/792219/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,5a8bd61b80f31b013a2a3d68c4e27533b2289fa6,bug/1928913,# NOTE(ralonsoh): pyroute2 module should be installed and the version limited # according to upper-constraints.txt pyroute2>=0.5.13;sys_platform!='win32' # Apache-2.0 (+ dual licensed GPL2),,3,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I726541f4b3fdc357387a44c6a2153593a10bf282,openstack/kolla-ansible,stable/victoria,I726541f4b3fdc357387a44c6a2153593a10bf282,baremetal: Install Docker SDK less than 5.0.0,MERGED,2021-05-19 14:05:28.000000000,2021-05-20 12:01:53.000000000,2021-05-20 12:00:40.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-19 14:05:28.000000000', 'files': ['ansible/roles/baremetal/tasks/install.yml', 'releasenotes/notes/bug-1928915-482b2d53bb2a4d92.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5ef58708c61b26767c341566249664e693328c51', 'message': 'baremetal: Install Docker SDK less than 5.0.0\n\nDocker 5.0.0 [1] dropped requirement for six, but still imports it.\n\n[1]: https://github.com/docker/docker-py/issues/2807\n\nCloses-Bug: #1928915\nChange-Id: I726541f4b3fdc357387a44c6a2153593a10bf282\n(cherry picked from commit b053bd8ecf2cdbbdf83aeb6777e9502e5db70256)\n'}]",0,792115,5ef58708c61b26767c341566249664e693328c51,12,4,1,30491,,,0,"baremetal: Install Docker SDK less than 5.0.0

Docker 5.0.0 [1] dropped requirement for six, but still imports it.

[1]: https://github.com/docker/docker-py/issues/2807

Closes-Bug: #1928915
Change-Id: I726541f4b3fdc357387a44c6a2153593a10bf282
(cherry picked from commit b053bd8ecf2cdbbdf83aeb6777e9502e5db70256)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/792115/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/baremetal/tasks/install.yml', 'releasenotes/notes/bug-1928915-482b2d53bb2a4d92.yaml']",2,5ef58708c61b26767c341566249664e693328c51,,--- fixes: - | Fixed an issue where docker python SDK 5.0.0 was failing due to missing six - introduced a constraint to install version lower than 5.x. `LP#1928915 <https://launchpad.net/bugs/1928915>`__ ,,8,1
openstack%2Frpm-packaging~master~Ib6d50fa3c2c0a9d5d551bae3507ff82c6b1542c7,openstack/rpm-packaging,master,Ib6d50fa3c2c0a9d5d551bae3507ff82c6b1542c7,various version bumps to follow oslo* constraints updates,MERGED,2021-05-19 20:37:15.000000000,2021-05-20 11:57:17.000000000,2021-05-20 11:57:17.000000000,"[{'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-19 20:37:15.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/oslo.db/oslo.db.spec.j2', 'openstack/oslo.config/oslo.config.spec.j2', 'openstack/oslo.vmware/oslo.vmware.spec.j2', 'openstack/oslo.log/oslo.log.spec.j2', 'openstack/oslo.policy/oslo.policy.spec.j2', 'openstack/pbr/pbr.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ea8057e56169dc420250955f803ea271b7cd958d', 'message': 'various version bumps to follow oslo* constraints updates\n\nChange-Id: Ib6d50fa3c2c0a9d5d551bae3507ff82c6b1542c7\n'}]",0,792265,ea8057e56169dc420250955f803ea271b7cd958d,10,6,1,6593,,,0,"various version bumps to follow oslo* constraints updates

Change-Id: Ib6d50fa3c2c0a9d5d551bae3507ff82c6b1542c7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/65/792265/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/oslo.db/oslo.db.spec.j2', 'openstack/oslo.config/oslo.config.spec.j2', 'openstack/oslo.vmware/oslo.vmware.spec.j2', 'openstack/oslo.log/oslo.log.spec.j2', 'openstack/oslo.policy/oslo.policy.spec.j2', 'openstack/pbr/pbr.spec.j2']",7,ea8057e56169dc420250955f803ea271b7cd958d,,{% set upstream_version = upstream_version('5.6.0') %},{% set upstream_version = upstream_version('5.5.1') %},7,7
openstack%2Fcharm-vault~master~I40e813b1df4ab3b3301881385a5d713524698821,openstack/charm-vault,master,I40e813b1df4ab3b3301881385a5d713524698821,Report when Vault service needs to be restarted for HA,MERGED,2021-04-02 18:59:34.000000000,2021-05-20 11:54:10.000000000,2021-05-20 11:54:10.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 18:59:34.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/426e68f873c3cd25207c29f4bc367d595150fb05', 'message': 'Report when Vault service needs to be restarted for HA\n\nVault can act as the CA for etcd to allow it to operate in HA mode by\nthe leader first being unsealed in non-HA mode and providing the root CA\ncertificate, which allows it to provide a certificate to etcd. However,\nat that point, the Vault service needs to be restarted and unsealed\nagain in order to pick up the HA configuration. Currenty, the status\njust reports Vault as ready, potentially with multiple ""active"" units.\nThis change detects when the Vault service should be restarted to pick\nup the HA configuration and reports it via status.\n\nChange-Id: I40e813b1df4ab3b3301881385a5d713524698821\n'}]",0,784608,426e68f873c3cd25207c29f4bc367d595150fb05,8,3,1,29191,,,0,"Report when Vault service needs to be restarted for HA

Vault can act as the CA for etcd to allow it to operate in HA mode by
the leader first being unsealed in non-HA mode and providing the root CA
certificate, which allows it to provide a certificate to etcd. However,
at that point, the Vault service needs to be restarted and unsealed
again in order to pick up the HA configuration. Currenty, the status
just reports Vault as ready, potentially with multiple ""active"" units.
This change detects when the Vault service should be restarted to pick
up the HA configuration and reports it via status.

Change-Id: I40e813b1df4ab3b3301881385a5d713524698821
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/08/784608/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py']",2,426e68f873c3cd25207c29f4bc367d595150fb05,report-non-ha," if is_flag_set('etcd.tls.available'): client = vault.get_local_client() if not client.ha_status['ha_enabled']: status_set( 'active', 'Vault running as non-HA, manual intervention required ' 'to restart the service.') return vault.hvac.exceptions.InvalidRequest, log(""InternalServerError: Unable to authorize approle. """," log(""InternalServerError: Unable to athorize approle. """,38,1
openstack%2Fcharm-keystone~master~I986b10e960153daed9d0d0cbf81d9c9e918a2150,openstack/charm-keystone,master,I986b10e960153daed9d0d0cbf81d9c9e918a2150,Strip whitespace from admin passwords,MERGED,2021-04-03 16:55:49.000000000,2021-05-20 11:52:43.000000000,2021-05-20 11:52:43.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-03 16:55:49.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/7f0317313f9f299eaec48e865d1a30bf8b99173f', 'message': 'Strip whitespace from admin passwords\n\nWhile admin passwords are discouraged, they are used by some users\nand using a file to import into the config option may include new\nline characters. Strip the white space from the admin password to\nprevent confusion for users.\n\nChange-Id: I986b10e960153daed9d0d0cbf81d9c9e918a2150\nCloses-Bug: #1895004\n'}]",0,784629,7f0317313f9f299eaec48e865d1a30bf8b99173f,8,3,1,8992,,,0,"Strip whitespace from admin passwords

While admin passwords are discouraged, they are used by some users
and using a file to import into the config option may include new
line characters. Strip the white space from the admin password to
prevent confusion for users.

Change-Id: I986b10e960153daed9d0d0cbf81d9c9e918a2150
Closes-Bug: #1895004
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/29/784629/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py']",2,7f0317313f9f299eaec48e865d1a30bf8b99173f,bug/1895004," if passwd: passwd = passwd.strip() if passwd.lower() != ""none"": return passwd"," if passwd and passwd.lower() != ""none"": return passwd",8,2
openstack%2Fcharms.openstack~master~Ife2ff46f1442f396b52354218e6cbcdb9f3ed972,openstack/charms.openstack,master,Ife2ff46f1442f396b52354218e6cbcdb9f3ed972,Teach test_mocks.py about wallaby,MERGED,2021-03-03 17:40:17.000000000,2021-05-20 11:49:59.000000000,2021-05-20 11:49:59.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-03 17:40:17.000000000', 'files': ['charms_openstack/test_mocks.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/2d58a628cf147c43ff305085261a135633ad3d40', 'message': 'Teach test_mocks.py about wallaby\n\nChange-Id: Ife2ff46f1442f396b52354218e6cbcdb9f3ed972\n'}]",0,778518,2d58a628cf147c43ff305085261a135633ad3d40,7,3,1,20870,,,0,"Teach test_mocks.py about wallaby

Change-Id: Ife2ff46f1442f396b52354218e6cbcdb9f3ed972
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/18/778518/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/test_mocks.py'],1,2d58a628cf147c43ff305085261a135633ad3d40,," 'wallaby',",,1,0
openstack%2Fcharm-ceph-radosgw~master~I5e9b4e449bd1bc300225d223329bb62f3a381705,openstack/charm-ceph-radosgw,master,I5e9b4e449bd1bc300225d223329bb62f3a381705,Add otp pool to broker request,MERGED,2021-04-13 09:44:49.000000000,2021-05-20 11:48:28.000000000,2021-05-20 11:48:28.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-13 09:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/fc56ad39272bb9dea5ea20fb82ee1f2ab723662f', 'message': 'Add otp pool to broker request\n\nCeph RADOS gateway >= Mimic has an additional metadata pool (otp).\n\nAdd this to the broker request to ensure that its created correctly\nby the ceph-mon application rather than being auto-created by the\nradosgw application\n\nChange-Id: I5e9b4e449bd1bc300225d223329bb62f3a381705\nCloses-Bug: 1921453\n'}, {'number': 2, 'created': '2021-04-13 10:06:51.000000000', 'files': ['hooks/ceph_rgw.py', 'unit_tests/test_ceph.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/15d7a9d82729758e50efb48106f8cd1f1284210c', 'message': 'Add otp pool to broker request\n\nCeph RADOS gateway >= Mimic has an additional metadata pool (otp).\n\nAdd this to the broker request to ensure that its created correctly\nby the ceph-mon application rather than being auto-created by the\nradosgw application\n\nChange-Id: I5e9b4e449bd1bc300225d223329bb62f3a381705\nCloses-Bug: 1921453\n'}]",0,786030,15d7a9d82729758e50efb48106f8cd1f1284210c,13,4,2,935,,,0,"Add otp pool to broker request

Ceph RADOS gateway >= Mimic has an additional metadata pool (otp).

Add this to the broker request to ensure that its created correctly
by the ceph-mon application rather than being auto-created by the
radosgw application

Change-Id: I5e9b4e449bd1bc300225d223329bb62f3a381705
Closes-Bug: 1921453
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/30/786030/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceph_rgw.py'],1,fc56ad39272bb9dea5ea20fb82ee1f2ab723662f,bug/1921453," '.rgw.otp',",,1,0
openstack%2Fcharm-neutron-gateway~master~Ic11bfba2a3ec6c35680992e4ca4b9d36f2f9d79c,openstack/charm-neutron-gateway,master,Ic11bfba2a3ec6c35680992e4ca4b9d36f2f9d79c,Add `rabbit_heartbeat_timeout_threshold` config option,NEW,2021-03-11 17:07:59.000000000,2021-05-20 11:45:03.000000000,,"[{'_account_id': 2424}, {'_account_id': 2583}, {'_account_id': 6737}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-11 17:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/fe77f44524892b35c83f6214a430f083e4799f74', 'message': 'Add `rabbit_heartbeat_timeout_threshold` config option\n\nThis change adds the `rabbit_heartbeat_timeout_threshold` config\noption to the charm.\n\nChange-Id: Ic11bfba2a3ec6c35680992e4ca4b9d36f2f9d79c\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 2, 'created': '2021-03-12 13:55:01.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/06c71dcc5c7b9d3add6b2bfeb931550fa790a9e3', 'message': 'Add `rabbit_heartbeat_timeout_threshold` config option\n\nThis change adds the `rabbit_heartbeat_timeout_threshold` config\noption to the charm.\n\nChange-Id: Ic11bfba2a3ec6c35680992e4ca4b9d36f2f9d79c\nDepends-On: https://github.com/juju/charm-helpers/pull/588\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",0,780043,06c71dcc5c7b9d3add6b2bfeb931550fa790a9e3,5,6,2,19298,,,0,"Add `rabbit_heartbeat_timeout_threshold` config option

This change adds the `rabbit_heartbeat_timeout_threshold` config
option to the charm.

Change-Id: Ic11bfba2a3ec6c35680992e4ca4b9d36f2f9d79c
Depends-On: https://github.com/juju/charm-helpers/pull/588
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/43/780043/2 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,fe77f44524892b35c83f6214a430f083e4799f74,heartbeat, rabbit_heartbeat_timeout_threshold: type: int default: 20 description: | Number of seconds after which the Rabbit broker is considered down if heartbeat’s keep-alive fails (0 disables heartbeat).,,6,0
openstack%2Fcharm-mysql-innodb-cluster~stable%2F21.04~Ia0e99feee76f403ba5ed6e631bd0671c017c9c2c,openstack/charm-mysql-innodb-cluster,stable/21.04,Ia0e99feee76f403ba5ed6e631bd0671c017c9c2c,Do not fail on Cloned recoveryMethod,MERGED,2021-05-12 20:11:20.000000000,2021-05-20 11:40:58.000000000,2021-05-20 11:40:58.000000000,"[{'_account_id': 12549}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 32438}]","[{'number': 1, 'created': '2021-05-12 20:11:20.000000000', 'files': ['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/ed8b3d46271a2018017fd49e0322033f4fbe3d82', 'message': 'Do not fail on Cloned recoveryMethod\n\nWhen the recoveryMethod clone actually needs to overwrite the remote\nnode the mysql-shell unfortunately returns with returncode 1. Both\n""Clone process has finished"" and ""Group Replication is running""\nactually indicate successful states.\n\nHandle these two edge cassess as succesful.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/565\n\nCloses-Bug: #1912688\nChange-Id: Ia0e99feee76f403ba5ed6e631bd0671c017c9c2c\n(cherry picked from commit 8c9920ec6a8a7b6dbc5679c5bef90a9966defc1d)\n'}]",1,791049,ed8b3d46271a2018017fd49e0322033f4fbe3d82,11,5,1,6737,,,0,"Do not fail on Cloned recoveryMethod

When the recoveryMethod clone actually needs to overwrite the remote
node the mysql-shell unfortunately returns with returncode 1. Both
""Clone process has finished"" and ""Group Replication is running""
actually indicate successful states.

Handle these two edge cassess as succesful.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/565

Closes-Bug: #1912688
Change-Id: Ia0e99feee76f403ba5ed6e631bd0671c017c9c2c
(cherry picked from commit 8c9920ec6a8a7b6dbc5679c5bef90a9966defc1d)
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/49/791049/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py']",2,ed8b3d46271a2018017fd49e0322033f4fbe3d82,bug/1912688," ""{{'recoveryMethod': 'clone', 'waitRecovery': '2', "" ""'interactive': False}})"" # LP Bug#1912688 # When the recoveryMethod clone actually needs to overwrite the # remote node the mysql-shell unfortunately returns with returncode # 1. Both ""Clone process has finished"" and ""Group Replication is # running"" actually indicate successful states. # Creating separate checks in order to get good logging on each # outcome. output = None _stderr = e.stderr.decode(""UTF-8"") if ""Clone process has finished"" in _stderr: output = e.stderr ch_core.hookenv.log( ""Add instance {} raised CalledProcessError with "" ""returncode 1, however, the output contains 'Clone "" ""process has finished' an indication of successfully "" ""adding the instance to the cluster."" .format(address), ""WARNING"") if ""Group Replication is running"" in _stderr: output = e.stderr ch_core.hookenv.log( ""Add instance {} raised CalledProcessError with "" ""returncode 1, however, the output contains 'Group "" ""Replication is running' an indication of previously "" ""successfully adding the instance to the cluster."" .format(address), ""WARNING"") # Some failure has occured, return without setting instance # clustered flag. if not output: ch_core.hookenv.log( ""Failed adding instance {} to cluster: {}"" .format(address, _stderr), ""ERROR"") return"," ""{{'recoveryMethod': 'clone'}})"" ch_core.hookenv.log( ""Failed adding instance {} to cluster: {}"" .format(address, e.stderr.decode(""UTF-8"")), ""ERROR"") return",36,6
openstack%2Fopenstack-manuals~master~Ia5769d8d10bfc6e9e072b5d225b0d42c345bfe18,openstack/openstack-manuals,master,Ia5769d8d10bfc6e9e072b5d225b0d42c345bfe18,Retire sushy-cli - Step 5,MERGED,2021-05-20 10:06:06.000000000,2021-05-20 11:21:09.000000000,2021-05-20 10:59:21.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 10:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ad8df760a071eebadf13a3d5f13baa0d5dbda95a', 'message': 'Retire sushy-cli - Step 5\n\nRemove docs.openstack.org content\n\nhttps: //docs.openstack.org/project-team-guide/repository.html#step-5-remove-docs-openstack-org-content\nChange-Id: Ia5769d8d10bfc6e9e072b5d225b0d42c345bfe18\n'}, {'number': 2, 'created': '2021-05-20 10:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5e1471e7cd39836009680158657c14e017647775', 'message': 'Retire sushy-cli - Step 5\n\nRemove docs.openstack.org content[1]\n\nThe sushy-cli project has been inactive for a while and as announced in\nthe ML[2] it will be retired.\n\n[1]https: //docs.openstack.org/project-team-guide/repository.html#step-5-remove-docs-openstack-org-content\n[2]http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022405.html\n\nChange-Id: Ia5769d8d10bfc6e9e072b5d225b0d42c345bfe18\n'}, {'number': 3, 'created': '2021-05-20 10:08:53.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/df37443839ff9ca4b39aeb35042d628d355d247a', 'message': 'Retire sushy-cli - Step 5\n\nRemove docs.openstack.org content[1]\n\nThe sushy-cli project has been inactive for a while and as announced in\nthe ML[2] it will be retired.\n\n[1]https://docs.openstack.org/project-team-guide/repository.html#step-5-remove-docs-openstack-org-content\n[2]http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022405.html\n\nChange-Id: Ia5769d8d10bfc6e9e072b5d225b0d42c345bfe18\n'}]",0,792345,df37443839ff9ca4b39aeb35042d628d355d247a,9,2,3,23851,,,0,"Retire sushy-cli - Step 5

Remove docs.openstack.org content[1]

The sushy-cli project has been inactive for a while and as announced in
the ML[2] it will be retired.

[1]https://docs.openstack.org/project-team-guide/repository.html#step-5-remove-docs-openstack-org-content
[2]http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022405.html

Change-Id: Ia5769d8d10bfc6e9e072b5d225b0d42c345bfe18
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/45/792345/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,ad8df760a071eebadf13a3d5f13baa0d5dbda95a,ret-sushy-cli," 'openstack/sushy-cli',",,1,0
openstack%2Fneutron~master~I7e1fc175e083428f1e5add0b425ee828f50b594f,openstack/neutron,master,I7e1fc175e083428f1e5add0b425ee828f50b594f,Add tests for QoS API's new policy rules,MERGED,2021-04-06 12:29:56.000000000,2021-05-20 11:17:18.000000000,2021-05-20 11:12:46.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 12:29:56.000000000', 'files': ['neutron/tests/unit/conf/policies/test_qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/98a77689949aea5431bb35b9285c87a4dae7bea7', 'message': ""Add tests for QoS API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I7e1fc175e083428f1e5add0b425ee828f50b594f\n""}]",12,784941,98a77689949aea5431bb35b9285c87a4dae7bea7,16,4,1,11975,,,0,"Add tests for QoS API's new policy rules

Related-blueprint: bp/secure-rbac-roles
Change-Id: I7e1fc175e083428f1e5add0b425ee828f50b594f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/784941/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/conf/policies/test_qos.py'],1,98a77689949aea5431bb35b9285c87a4dae7bea7,secure-rbac,"# Copyright (c) 2021 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from unittest import mock from oslo_policy import policy as base_policy from oslo_utils import uuidutils from neutron import policy from neutron.tests.unit.conf.policies import base class QosPolicyAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(QosPolicyAPITestCase, self).setUp() self.target = {'project_id': self.project_id} self.alt_target = {'project_id': self.alt_project_id} class SystemAdminQosPolicyTests(QosPolicyAPITestCase): def setUp(self): super(SystemAdminQosPolicyTests, self).setUp() self.context = self.system_admin_ctx def test_get_policy(self): self.assertTrue( policy.enforce(self.context, 'get_policy', self.target)) self.assertTrue( policy.enforce(self.context, 'get_policy', self.alt_target)) def test_create_policy(self): self.assertTrue( policy.enforce(self.context, 'create_policy', self.target)) self.assertTrue( policy.enforce(self.context, 'create_policy', self.alt_target)) def test_update_policy(self): self.assertTrue( policy.enforce(self.context, 'update_policy', self.target)) self.assertTrue( policy.enforce(self.context, 'update_policy', self.alt_target)) def test_delete_policy(self): self.assertTrue( policy.enforce(self.context, 'delete_policy', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_policy', self.alt_target)) class SystemMemberQosPolicyTests(SystemAdminQosPolicyTests): def setUp(self): super(SystemMemberQosPolicyTests, self).setUp() self.context = self.system_member_ctx def test_create_policy(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy', self.alt_target) def test_update_policy(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy', self.alt_target) def test_delete_policy(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy', self.alt_target) class SystemReaderQosPolicyTests(SystemMemberQosPolicyTests): def setUp(self): super(SystemReaderQosPolicyTests, self).setUp() self.context = self.system_reader_ctx class ProjectAdminQosPolicyTests(QosPolicyAPITestCase): def setUp(self): super(ProjectAdminQosPolicyTests, self).setUp() self.context = self.project_admin_ctx def test_get_policy(self): self.assertTrue( policy.enforce(self.context, 'get_policy', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_policy', self.alt_target) def test_create_policy(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy', self.alt_target) def test_update_policy(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy', self.alt_target) def test_delete_policy(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy', self.alt_target) class ProjectMemberQosPolicyTests(ProjectAdminQosPolicyTests): def setUp(self): super(ProjectMemberQosPolicyTests, self).setUp() self.context = self.project_member_ctx class ProjectReaderQosPolicyTests(ProjectMemberQosPolicyTests): def setUp(self): super(ProjectReaderQosPolicyTests, self).setUp() self.context = self.project_reader_ctx class QosRuleTypeAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(QosRuleTypeAPITestCase, self).setUp() self.target = {} class SystemAdminQosRuleTypeTests(QosRuleTypeAPITestCase): def setUp(self): super(SystemAdminQosRuleTypeTests, self).setUp() self.context = self.system_admin_ctx def test_get_rule_type(self): self.assertTrue( policy.enforce(self.context, 'get_rule_type', self.target)) class SystemMemberQosRuleTypeTests(SystemAdminQosRuleTypeTests): def setUp(self): super(SystemMemberQosRuleTypeTests, self).setUp() self.context = self.system_member_ctx class SystemReaderQosRuleTypeTests(SystemMemberQosRuleTypeTests): def setUp(self): super(SystemReaderQosRuleTypeTests, self).setUp() self.context = self.system_reader_ctx class ProjectAdminQosRuleTypeTests(QosRuleTypeAPITestCase): def setUp(self): super(ProjectAdminQosRuleTypeTests, self).setUp() self.context = self.project_admin_ctx def test_get_rule_type(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_rule_type', self.target) class ProjectMemberQosRuleTypeTests(ProjectAdminQosRuleTypeTests): def setUp(self): super(ProjectMemberQosRuleTypeTests, self).setUp() self.context = self.project_member_ctx class ProjectReaderQosRuleTypeTests(ProjectMemberQosRuleTypeTests): def setUp(self): super(ProjectReaderQosRuleTypeTests, self).setUp() self.context = self.project_reader_ctx class QosRulesAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(QosRulesAPITestCase, self).setUp() self.qos_policy = { 'id': uuidutils.generate_uuid(), 'project_id': self.project_id} self.target = { 'project_id': self.project_id, 'policy_id': self.qos_policy['id'], 'ext_parent_policy_id': self.qos_policy['id']} self.alt_target = { 'project_id': self.alt_project_id, 'policy_id': self.qos_policy['id'], 'ext_parent_policy_id': self.qos_policy['id']} self.plugin_mock = mock.Mock() self.plugin_mock.get_qos_policy.return_value = self.qos_policy mock.patch( 'neutron_lib.plugins.directory.get_plugin', return_value=self.plugin_mock).start() class SystemAdminQosBandwidthLimitRuleTests(QosRulesAPITestCase): def setUp(self): super(SystemAdminQosBandwidthLimitRuleTests, self).setUp() self.context = self.system_admin_ctx def test_get_policy_bandwidth_limit_rule(self): self.assertTrue( policy.enforce(self.context, 'get_policy_bandwidth_limit_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'get_policy_bandwidth_limit_rule', self.alt_target)) # And the same for aliases self.assertTrue( policy.enforce(self.context, 'get_alias_bandwidth_limit_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'get_alias_bandwidth_limit_rule', self.alt_target)) def test_create_policy_bandwidth_limit_rule(self): self.assertTrue( policy.enforce(self.context, 'create_policy_bandwidth_limit_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'create_policy_bandwidth_limit_rule', self.alt_target)) def test_update_policy_bandwidth_limit_rule(self): self.assertTrue( policy.enforce(self.context, 'update_policy_bandwidth_limit_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'update_policy_bandwidth_limit_rule', self.alt_target)) # And the same for aliases self.assertTrue( policy.enforce(self.context, 'update_alias_bandwidth_limit_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'update_alias_bandwidth_limit_rule', self.alt_target)) def test_delete_policy_bandwidth_limit_rule(self): self.assertTrue( policy.enforce(self.context, 'delete_policy_bandwidth_limit_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_policy_bandwidth_limit_rule', self.alt_target)) # And the same for aliases self.assertTrue( policy.enforce(self.context, 'delete_alias_bandwidth_limit_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_alias_bandwidth_limit_rule', self.alt_target)) class SystemMemberQosBandwidthLimitRuleTests( SystemAdminQosBandwidthLimitRuleTests): def setUp(self): super(SystemMemberQosBandwidthLimitRuleTests, self).setUp() self.context = self.system_member_ctx def test_create_policy_bandwidth_limit_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy_bandwidth_limit_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy_bandwidth_limit_rule', self.alt_target) def test_update_policy_bandwidth_limit_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy_bandwidth_limit_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy_bandwidth_limit_rule', self.alt_target) # And the same for aliases self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_alias_bandwidth_limit_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_alias_bandwidth_limit_rule', self.alt_target) def test_delete_policy_bandwidth_limit_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy_bandwidth_limit_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy_bandwidth_limit_rule', self.alt_target) # And the same for aliases self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_alias_bandwidth_limit_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_alias_bandwidth_limit_rule', self.alt_target) class SystemReaderQosBandwidthLimitRuleTests( SystemMemberQosBandwidthLimitRuleTests): def setUp(self): super(SystemReaderQosBandwidthLimitRuleTests, self).setUp() self.context = self.system_reader_ctx class ProjectAdminQosBandwidthLimitRuleTests(QosRulesAPITestCase): def setUp(self): super(ProjectAdminQosBandwidthLimitRuleTests, self).setUp() self.context = self.project_admin_ctx def test_get_policy_bandwidth_limit_rule(self): self.assertTrue( policy.enforce(self.context, 'get_policy_bandwidth_limit_rule', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_policy_bandwidth_limit_rule', self.alt_target) # And the same for aliases self.assertTrue( policy.enforce(self.context, 'get_alias_bandwidth_limit_rule', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_alias_bandwidth_limit_rule', self.alt_target) def test_create_policy_bandwidth_limit_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy_bandwidth_limit_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy_bandwidth_limit_rule', self.alt_target) def test_update_policy_bandwidth_limit_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy_bandwidth_limit_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy_bandwidth_limit_rule', self.alt_target) # And the same for aliases self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_alias_bandwidth_limit_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_alias_bandwidth_limit_rule', self.alt_target) def test_delete_policy_bandwidth_limit_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy_bandwidth_limit_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy_bandwidth_limit_rule', self.alt_target) # And the same for aliases self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_alias_bandwidth_limit_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_alias_bandwidth_limit_rule', self.alt_target) class ProjectMemberQosBandwidthLimitRuleTests( ProjectAdminQosBandwidthLimitRuleTests): def setUp(self): super(ProjectMemberQosBandwidthLimitRuleTests, self).setUp() self.context = self.project_member_ctx class ProjectReaderQosBandwidthLimitRuleTests( ProjectMemberQosBandwidthLimitRuleTests): def setUp(self): super(ProjectReaderQosBandwidthLimitRuleTests, self).setUp() self.context = self.project_reader_ctx class SystemAdminQosDSCPMarkingRuleTests(QosRulesAPITestCase): def setUp(self): super(SystemAdminQosDSCPMarkingRuleTests, self).setUp() self.context = self.system_admin_ctx def test_get_policy_dscp_marking_rule(self): self.assertTrue( policy.enforce(self.context, 'get_policy_dscp_marking_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'get_policy_dscp_marking_rule', self.alt_target)) # And the same for aliases self.assertTrue( policy.enforce(self.context, 'get_alias_dscp_marking_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'get_alias_dscp_marking_rule', self.alt_target)) def test_create_policy_dscp_marking_rule(self): self.assertTrue( policy.enforce(self.context, 'create_policy_dscp_marking_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'create_policy_dscp_marking_rule', self.alt_target)) def test_update_policy_dscp_marking_rule(self): self.assertTrue( policy.enforce(self.context, 'update_policy_dscp_marking_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'update_policy_dscp_marking_rule', self.alt_target)) # And the same for aliases self.assertTrue( policy.enforce(self.context, 'update_alias_dscp_marking_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'update_alias_dscp_marking_rule', self.alt_target)) def test_delete_policy_dscp_marking_rule(self): self.assertTrue( policy.enforce(self.context, 'delete_policy_dscp_marking_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_policy_dscp_marking_rule', self.alt_target)) # And the same for aliases self.assertTrue( policy.enforce(self.context, 'delete_alias_dscp_marking_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_alias_dscp_marking_rule', self.alt_target)) class SystemMemberQosDSCPMarkingRuleTests(SystemAdminQosDSCPMarkingRuleTests): def setUp(self): super(SystemMemberQosDSCPMarkingRuleTests, self).setUp() self.context = self.system_member_ctx def test_create_policy_dscp_marking_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy_dscp_marking_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy_dscp_marking_rule', self.alt_target) def test_update_policy_dscp_marking_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy_dscp_marking_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy_dscp_marking_rule', self.alt_target) # And the same for aliases self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_alias_dscp_marking_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_alias_dscp_marking_rule', self.alt_target) def test_delete_policy_dscp_marking_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy_dscp_marking_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy_dscp_marking_rule', self.alt_target) # And the same for aliases self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_alias_dscp_marking_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_alias_dscp_marking_rule', self.alt_target) class SystemReaderQosDSCPMarkingRuleTests(SystemMemberQosDSCPMarkingRuleTests): def setUp(self): super(SystemReaderQosDSCPMarkingRuleTests, self).setUp() self.context = self.system_reader_ctx class ProjectAdminQosDSCPMarkingRuleTests(QosRulesAPITestCase): def setUp(self): super(ProjectAdminQosDSCPMarkingRuleTests, self).setUp() self.context = self.project_admin_ctx def test_get_policy_dscp_marking_rule(self): self.assertTrue( policy.enforce(self.context, 'get_policy_dscp_marking_rule', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_policy_dscp_marking_rule', self.alt_target) # And the same for aliases self.assertTrue( policy.enforce(self.context, 'get_alias_dscp_marking_rule', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_alias_dscp_marking_rule', self.alt_target) def test_create_policy_dscp_marking_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy_dscp_marking_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy_dscp_marking_rule', self.alt_target) def test_update_policy_dscp_marking_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy_dscp_marking_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy_dscp_marking_rule', self.alt_target) # And the same for aliases self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_alias_dscp_marking_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_alias_dscp_marking_rule', self.alt_target) def test_delete_policy_dscp_marking_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy_dscp_marking_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy_dscp_marking_rule', self.alt_target) # And the same for aliases self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_alias_dscp_marking_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_alias_dscp_marking_rule', self.alt_target) class ProjectMemberQosDSCPMarkingRuleTests( ProjectAdminQosDSCPMarkingRuleTests): def setUp(self): super(ProjectMemberQosDSCPMarkingRuleTests, self).setUp() self.context = self.project_member_ctx class ProjectReaderQosDSCPMarkingRuleTests( ProjectMemberQosDSCPMarkingRuleTests): def setUp(self): super(ProjectReaderQosDSCPMarkingRuleTests, self).setUp() self.context = self.project_reader_ctx class SystemAdminQosMinimumBandwidthRuleTests(QosRulesAPITestCase): def setUp(self): super(SystemAdminQosMinimumBandwidthRuleTests, self).setUp() self.context = self.system_admin_ctx def test_get_policy_minimum_bandwidth_rule(self): self.assertTrue( policy.enforce(self.context, 'get_policy_minimum_bandwidth_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'get_policy_minimum_bandwidth_rule', self.alt_target)) # And the same for aliases self.assertTrue( policy.enforce(self.context, 'get_alias_minimum_bandwidth_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'get_alias_minimum_bandwidth_rule', self.alt_target)) def test_create_policy_minimum_bandwidth_rule(self): self.assertTrue( policy.enforce(self.context, 'create_policy_minimum_bandwidth_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'create_policy_minimum_bandwidth_rule', self.alt_target)) def test_update_policy_minimum_bandwidth_rule(self): self.assertTrue( policy.enforce(self.context, 'update_policy_minimum_bandwidth_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'update_policy_minimum_bandwidth_rule', self.alt_target)) # And the same for aliases self.assertTrue( policy.enforce(self.context, 'update_alias_minimum_bandwidth_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'update_alias_minimum_bandwidth_rule', self.alt_target)) def test_delete_policy_minimum_bandwidth_rule(self): self.assertTrue( policy.enforce(self.context, 'delete_policy_minimum_bandwidth_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_policy_minimum_bandwidth_rule', self.alt_target)) # And the same for aliases self.assertTrue( policy.enforce(self.context, 'delete_alias_minimum_bandwidth_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_alias_minimum_bandwidth_rule', self.alt_target)) class SystemMemberQosMinimumBandwidthRuleTests( SystemAdminQosMinimumBandwidthRuleTests): def setUp(self): super(SystemMemberQosMinimumBandwidthRuleTests, self).setUp() self.context = self.system_member_ctx def test_create_policy_minimum_bandwidth_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy_minimum_bandwidth_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy_minimum_bandwidth_rule', self.alt_target) def test_update_policy_minimum_bandwidth_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy_minimum_bandwidth_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy_minimum_bandwidth_rule', self.alt_target) # And the same for aliases self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_alias_minimum_bandwidth_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_alias_minimum_bandwidth_rule', self.alt_target) def test_delete_policy_minimum_bandwidth_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy_minimum_bandwidth_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy_minimum_bandwidth_rule', self.alt_target) # And the same for aliases self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_alias_minimum_bandwidth_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_alias_minimum_bandwidth_rule', self.alt_target) class SystemReaderQosMinimumBandwidthRuleTests( SystemMemberQosMinimumBandwidthRuleTests): def setUp(self): super(SystemReaderQosMinimumBandwidthRuleTests, self).setUp() self.context = self.system_reader_ctx class ProjectAdminQosMinimumBandwidthRuleTests(QosRulesAPITestCase): def setUp(self): super(ProjectAdminQosMinimumBandwidthRuleTests, self).setUp() self.context = self.project_admin_ctx def test_get_policy_minimum_bandwidth_rule(self): self.assertTrue( policy.enforce(self.context, 'get_policy_minimum_bandwidth_rule', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_policy_minimum_bandwidth_rule', self.alt_target) # And the same for aliases self.assertTrue( policy.enforce(self.context, 'get_alias_minimum_bandwidth_rule', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_alias_minimum_bandwidth_rule', self.alt_target) def test_create_policy_minimum_bandwidth_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy_minimum_bandwidth_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_policy_minimum_bandwidth_rule', self.alt_target) def test_update_policy_minimum_bandwidth_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy_minimum_bandwidth_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_policy_minimum_bandwidth_rule', self.alt_target) # And the same for aliases self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_alias_minimum_bandwidth_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_alias_minimum_bandwidth_rule', self.alt_target) def test_delete_policy_minimum_bandwidth_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy_minimum_bandwidth_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_policy_minimum_bandwidth_rule', self.alt_target) # And the same for aliases self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_alias_minimum_bandwidth_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_alias_minimum_bandwidth_rule', self.alt_target) class ProjectMemberQosMinimumBandwidthRuleTests( ProjectAdminQosMinimumBandwidthRuleTests): def setUp(self): super(ProjectMemberQosMinimumBandwidthRuleTests, self).setUp() self.context = self.project_member_ctx class ProjectReaderQosMinimumBandwidthRuleTests( ProjectMemberQosMinimumBandwidthRuleTests): def setUp(self): super(ProjectReaderQosMinimumBandwidthRuleTests, self).setUp() self.context = self.project_reader_ctx ",,1004,0
openstack%2Fcinder-tempest-plugin~master~I493f44fdc7b5d4093e19ca19153644c20517941f,openstack/cinder-tempest-plugin,master,I493f44fdc7b5d4093e19ca19153644c20517941f,Add stable/wallaby jobs on master gate,MERGED,2021-04-29 23:51:33.000000000,2021-05-20 11:13:06.000000000,2021-05-20 11:13:06.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 23:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/18f9016a81879e57703e99d900507b231cc52430', 'message': 'Add stable/wallaby jobs on master gate\n\nWe have stable/wallaby released so we should add\ntheir job on master gate to keep branchless tempest\nplugins compatible to stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I493f44fdc7b5d4093e19ca19153644c20517941f\n'}, {'number': 2, 'created': '2021-04-29 23:56:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/75bf2c2af8a2141b967da1508385493549379434', 'message': 'Add stable/wallaby jobs on master gate\n\nWe have stable/wallaby released so we should add\ntheir job on master gate to keep branchless tempest\nplugins compatible to stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I493f44fdc7b5d4093e19ca19153644c20517941f\n'}]",1,788846,75bf2c2af8a2141b967da1508385493549379434,24,4,2,8556,,,0,"Add stable/wallaby jobs on master gate

We have stable/wallaby released so we should add
their job on master gate to keep branchless tempest
plugins compatible to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I493f44fdc7b5d4093e19ca19153644c20517941f
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/46/788846/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,18f9016a81879e57703e99d900507b231cc52430,wallaby-stable-jobs, - cinder-tempest-plugin-basic-wallaby name: cinder-tempest-plugin-cbak-ceph-wallaby parent: cinder-tempest-plugin-cbak-ceph nodeset: openstack-single-node-focal override-checkout: stable/wallaby - job:,,7,0
openstack%2Fneutron-tempest-plugin~master~If36931beecd53c0767a5de5fd01f861961385049,openstack/neutron-tempest-plugin,master,If36931beecd53c0767a5de5fd01f861961385049,Change way how tcpdump result is checked in multicast test,MERGED,2021-05-19 20:58:49.000000000,2021-05-20 11:12:40.000000000,2021-05-20 11:12:40.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 20:58:49.000000000', 'files': ['neutron_tempest_plugin/scenario/test_multicast.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8de8b99c7052bd7d6205b6aa28e12f1679989dc7', 'message': 'Change way how tcpdump result is checked in multicast test\n\nIn the multicast scenario test, when IGMP snooping is enabled thus\nmulticast traffic shouldn\'t be delivered to the unregistered node.\nTo check that this is true, we run tcpdump on the unregistered node\nwith filter to catch multicast packets and we assert that any packet\nwasn\'t captured by tcpdump.\nThe problem is that we were expeciting in the actual tcpdump message\nstring like:\n\n    \'0 packets captured\\n0 packets received by filter\'\n\nand that can cause problem as sometimes test is failing due to output\nlike:\n\n    \'0 packets captured\n     3 packets received by filter\n     0 packets dropped by kernel\'\n\nNow, according to the tcpdump manpage [1] meaning of the ""packets\nreceived by filter"" is like below:\n\n    ""the meaning of this depends on the OS on which you\'re running\n    tcpdump, and possibly on the way the OS was configured - if a\n    filter was specified on the command line, on some OSes it counts\n    packets regardless of whether they were matched by the filter\n    expression and, even if they were matched by the filter expression,\n    regardless of whether tcpdump has read and processed them yet,\n    on other OSes it counts only packets that were matched by\n    the filter expression regardless of whether tcpdump has read and\n    processed them yet, and on other OSes it counts only packets that\n    were matched by the filter expression and were processed by\n    tcpdump""\n\nSo to avoid failured to due packets ""received by filter"", lets just\nmatch on packets ""captured"" as in case of this test, when we are using\n""-c1"" switch in tcpdump that should be enough.\n\n[1] https://www.tcpdump.org/manpages/tcpdump.1.html\n\nCloses-Bug: #1926780\nChange-Id: If36931beecd53c0767a5de5fd01f861961385049\n'}]",2,792267,8de8b99c7052bd7d6205b6aa28e12f1679989dc7,12,4,1,11975,,,0,"Change way how tcpdump result is checked in multicast test

In the multicast scenario test, when IGMP snooping is enabled thus
multicast traffic shouldn't be delivered to the unregistered node.
To check that this is true, we run tcpdump on the unregistered node
with filter to catch multicast packets and we assert that any packet
wasn't captured by tcpdump.
The problem is that we were expeciting in the actual tcpdump message
string like:

    '0 packets captured\n0 packets received by filter'

and that can cause problem as sometimes test is failing due to output
like:

    '0 packets captured
     3 packets received by filter
     0 packets dropped by kernel'

Now, according to the tcpdump manpage [1] meaning of the ""packets
received by filter"" is like below:

    ""the meaning of this depends on the OS on which you're running
    tcpdump, and possibly on the way the OS was configured - if a
    filter was specified on the command line, on some OSes it counts
    packets regardless of whether they were matched by the filter
    expression and, even if they were matched by the filter expression,
    regardless of whether tcpdump has read and processed them yet,
    on other OSes it counts only packets that were matched by
    the filter expression regardless of whether tcpdump has read and
    processed them yet, and on other OSes it counts only packets that
    were matched by the filter expression and were processed by
    tcpdump""

So to avoid failured to due packets ""received by filter"", lets just
match on packets ""captured"" as in case of this test, when we are using
""-c1"" switch in tcpdump that should be enough.

[1] https://www.tcpdump.org/manpages/tcpdump.1.html

Closes-Bug: #1926780
Change-Id: If36931beecd53c0767a5de5fd01f861961385049
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/67/792267/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_multicast.py'],1,8de8b99c7052bd7d6205b6aa28e12f1679989dc7,bug/1926780, expected_result = ('0 packets captured'), expected_result = ( '0 packets captured\n0 packets received by filter'),1,2
openstack%2Fkolla~stable%2Fwallaby~I97308c74406d2af0e39b77eddef2693554381ab6,openstack/kolla,stable/wallaby,I97308c74406d2af0e39b77eddef2693554381ab6,centos: clean up repo enable/disable/keys,MERGED,2021-05-17 16:18:00.000000000,2021-05-20 11:07:04.000000000,2021-05-20 11:05:49.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-17 16:18:00.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/227831c58d46da2096272695c09a14724d852a67', 'message': ""centos: clean up repo enable/disable/keys\n\n- install all 'centos-release-*' packages we need\n- disable all repos in one place\n- do not import CentOS keys - they are trusted by default\n\nChange-Id: I97308c74406d2af0e39b77eddef2693554381ab6\n(cherry picked from commit a93f171da3df0491e2bf3d5c1bf7a5a856a6e128)\n""}]",0,791780,227831c58d46da2096272695c09a14724d852a67,9,3,1,24072,,,0,"centos: clean up repo enable/disable/keys

- install all 'centos-release-*' packages we need
- disable all repos in one place
- do not import CentOS keys - they are trusted by default

Change-Id: I97308c74406d2af0e39b77eddef2693554381ab6
(cherry picked from commit a93f171da3df0491e2bf3d5c1bf7a5a856a6e128)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/80/791780/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,227831c58d46da2096272695c09a14724d852a67,," 'epel', 'epel-modular',","RUN rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial '/etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-OpsTools', '/etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-Storage',# FIXME(mgoddard): Not available for CentOS 8 yet. # # '/etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-Virtualization', #{{ macros.disable_extra_repos(['epel', 'epel-modular']) }}",2,8
openstack%2Fpython-tripleoclient~stable%2Ftrain~I5152ad37c7e47a46eb23c3c792b31b2bf3298368,openstack/python-tripleoclient,stable/train,I5152ad37c7e47a46eb23c3c792b31b2bf3298368,Fix validations listing when filtering by group(s),MERGED,2021-05-12 12:52:49.000000000,2021-05-20 11:06:02.000000000,2021-05-20 11:04:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-12 12:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/519f019df597496f46cdeb5c86a553fff385f62a', 'message': ""Fix validations listing when filtering by group(s)\n\nWhen running `openstack tripleo validator list --group pre-update`\ncommand, it returns all the validations catalog and the filtering by\ngroup(s) doesn't work.\n\nThis patch fixes this behavior by actually filtering.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I5152ad37c7e47a46eb23c3c792b31b2bf3298368\n""}, {'number': 2, 'created': '2021-05-12 13:52:12.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/53c763d6e9b63ff7552925f1cded7245a3fe6b01', 'message': ""Fix validations listing when filtering by group(s)\n\nWhen running `openstack tripleo validator list --group pre-update`\ncommand, it returns all the validations catalog and the filtering by\ngroup(s) doesn't work.\n\nThis patch fixes this behavior by actually filtering.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I5152ad37c7e47a46eb23c3c792b31b2bf3298368\n""}]",0,790977,53c763d6e9b63ff7552925f1cded7245a3fe6b01,10,6,2,11491,,,0,"Fix validations listing when filtering by group(s)

When running `openstack tripleo validator list --group pre-update`
command, it returns all the validations catalog and the filtering by
group(s) doesn't work.

This patch fixes this behavior by actually filtering.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I5152ad37c7e47a46eb23c3c792b31b2bf3298368
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/77/790977/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,519f019df597496f46cdeb5c86a553fff385f62a,rhbz#1959815-stable/wallaby-stable/victoria-stable/ussuri-stable/train, return actions.list_validations(parsed_args.group), return actions.list_validations(),1,1
openstack%2Fpuppet-openstack-integration~master~I16436d23a7853afe029920b3ea2f61058c133010,openstack/puppet-openstack-integration,master,I16436d23a7853afe029920b3ea2f61058c133010,Clean r10k installation,MERGED,2021-05-19 11:10:18.000000000,2021-05-20 10:54:32.000000000,2021-05-20 10:54:32.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 11:10:18.000000000', 'files': ['install_modules.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/acdcae90f73e41a05ca1477bf387cfcf47f185c5', 'message': ""Clean r10k installation\n\nIn the past we had to workaround some issues related to r10k\ninstallation and dependencies. However, apparently some of those issues\nhave been fixed and we don't need to pin to specific gem versions\nanymore.\n\nChange-Id: I16436d23a7853afe029920b3ea2f61058c133010\n""}]",0,792129,acdcae90f73e41a05ca1477bf387cfcf47f185c5,11,4,1,16312,,,0,"Clean r10k installation

In the past we had to workaround some issues related to r10k
installation and dependencies. However, apparently some of those issues
have been fixed and we don't need to pin to specific gem versions
anymore.

Change-Id: I16436d23a7853afe029920b3ea2f61058c133010
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/29/792129/1 && git format-patch -1 --stdout FETCH_HEAD,['install_modules.sh'],1,acdcae90f73e41a05ca1477bf387cfcf47f185c5,,$GEM_INSTALL_CMD r10k,# fast_gettext 1.2.0+ requires ruby 2.1.0 $GEM_INSTALL_CMD fast_gettext -v '< 1.2.0' # gettext 3.3.0+ requires ruby 2.5.0 $GEM_INSTALL_CMD gettext -v '< 3.3.0' # puppet_forge 2.2.7 has a dependency on semantic_puppet ~> 1.0 # which is not compatible with dependency of latest r10k on semantic_puppet ~> 0.1.0 $GEM_INSTALL_CMD puppet_forge -v '= 2.2.6' $GEM_INSTALL_CMD r10k -v 2.6.4,1,8
openstack%2Fnetworking-sfc~master~If5e544792e7b3bb8c62bb9d6bb38c189bf923dff,openstack/networking-sfc,master,If5e544792e7b3bb8c62bb9d6bb38c189bf923dff,Use assertCountEqual instead of assertItemsEqual,MERGED,2021-05-14 05:52:15.000000000,2021-05-20 10:44:50.000000000,2021-05-20 10:42:29.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16312}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 05:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/da20e5a7516d4252ed971ae3d342efdf3409976b', 'message': 'Use assertCountEqual instead of assertItemsEqual\n\nThe assertItemsEqual method has been removed in Python 3.3 [1] but\nit was kept alive by unittest2, imported by testtools. For better\ncompatibility, change to assertCountEqual.\n\n[1] https://bugs.python.org/issue17866\n\nChange-Id: If5e544792e7b3bb8c62bb9d6bb38c189bf923dff\n'}, {'number': 2, 'created': '2021-05-19 08:01:05.000000000', 'files': ['networking_sfc/tests/unit/services/sfc/test_plugin.py', 'networking_sfc/tests/unit/services/flowclassifier/test_plugin.py', 'networking_sfc/tests/unit/db/test_sfc_db.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/e01048cc521c2c16f36cea23eef8331c6bae0904', 'message': 'Use assertCountEqual instead of assertItemsEqual\n\nThe assertItemsEqual method has been removed in Python 3.3 [1] but\nit was kept alive by unittest2, imported by testtools. For better\ncompatibility, change to assertCountEqual.\n\n[1] https://bugs.python.org/issue17866\n\nChange-Id: If5e544792e7b3bb8c62bb9d6bb38c189bf923dff\n'}]",0,791359,e01048cc521c2c16f36cea23eef8331c6bae0904,19,5,2,13861,,,0,"Use assertCountEqual instead of assertItemsEqual

The assertItemsEqual method has been removed in Python 3.3 [1] but
it was kept alive by unittest2, imported by testtools. For better
compatibility, change to assertCountEqual.

[1] https://bugs.python.org/issue17866

Change-Id: If5e544792e7b3bb8c62bb9d6bb38c189bf923dff
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/59/791359/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_sfc/tests/unit/services/sfc/test_plugin.py', 'networking_sfc/tests/unit/db/test_sfc_db.py', 'networking_sfc/tests/unit/services/flowclassifier/test_plugin.py']",3,da20e5a7516d4252ed971ae3d342efdf3409976b,assertItemsEqual, self.assertCountEqual(, self.assertItemsEqual(,6,6
openstack%2Fnetworking-sfc~master~Ic45e777f059d09dc9fea6a825efaa1512064d621,openstack/networking-sfc,master,Ic45e777f059d09dc9fea6a825efaa1512064d621,pdf-docs: use UPPER_CONSTRAINTS_FILE for doc build,MERGED,2021-05-19 07:49:28.000000000,2021-05-20 10:43:45.000000000,2021-05-20 10:42:25.000000000,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 07:49:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/069b36ba8803b35d3f3b454f80918888b2ed0a27', 'message': 'pdf-docs: use UPPER_CONSTRAINTS_FILE for doc build\n\nUPPER_CONSTRAINTS_FILE was not used for testenv:docs, and a recent\nsphinx release seems to break pdf doc build, to fix it use upper\nconstraints in tox.ini\n\nChange-Id: Ic45e777f059d09dc9fea6a825efaa1512064d621\n'}]",0,792078,069b36ba8803b35d3f3b454f80918888b2ed0a27,10,5,1,8313,,,0,"pdf-docs: use UPPER_CONSTRAINTS_FILE for doc build

UPPER_CONSTRAINTS_FILE was not used for testenv:docs, and a recent
sphinx release seems to break pdf doc build, to fix it use upper
constraints in tox.ini

Change-Id: Ic45e777f059d09dc9fea6a825efaa1512064d621
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/78/792078/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,069b36ba8803b35d3f3b454f80918888b2ed0a27,use_uc_for_docs,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,1
openstack%2Fkayobe~master~I567e83cac4d5e80bd097b30ddefa0cc188118ad2,openstack/kayobe,master,I567e83cac4d5e80bd097b30ddefa0cc188118ad2,Replace custom serial loop with throttle,MERGED,2021-04-29 07:25:03.000000000,2021-05-20 10:29:40.000000000,2021-05-20 10:28:21.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-04-29 07:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8cc7a01d3c8f76fff8e9922b007b4306b73ab8ba', 'message': 'Replace custom serial loop with throttle\n\nWe can use throttle now that we require Ansible 2.9.\n\nChange-Id: I567e83cac4d5e80bd097b30ddefa0cc188118ad2\n'}, {'number': 2, 'created': '2021-04-29 09:38:35.000000000', 'files': ['ansible/roles/ssh-known-host/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9033d28435ecfbacc941045ab470e4de3869e4e6', 'message': 'Replace custom serial loop with throttle\n\nWe can use throttle now that we require Ansible 2.9.\n\nChange-Id: I567e83cac4d5e80bd097b30ddefa0cc188118ad2\n'}]",0,788683,9033d28435ecfbacc941045ab470e4de3869e4e6,11,3,2,15197,,,0,"Replace custom serial loop with throttle

We can use throttle now that we require Ansible 2.9.

Change-Id: I567e83cac4d5e80bd097b30ddefa0cc188118ad2
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/83/788683/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ssh-known-host/tasks/main.yml'],1,8cc7a01d3c8f76fff8e9922b007b4306b73ab8ba,throttle, throttle: 1," # TODO(priteau): Replace the following with ""throttle: 1"" once we require # Ansible >= 2.9 loop: ""{{ query('subelements', ansible_play_batch | map('extract', hostvars, ['keyscan_result', 'results']) | map('first') | list, 'stdout_lines') }}"" run_once: True",1,4
openstack%2Fironic~master~I698d1c90592e8de2cb24d6e2cf819e7f6ac3911f,openstack/ironic,master,I698d1c90592e8de2cb24d6e2cf819e7f6ac3911f,Rename redfish_deploy_iso -> deploy_iso,MERGED,2021-05-06 08:56:39.000000000,2021-05-20 10:27:19.000000000,2021-05-20 10:25:11.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-06 08:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5b273e425e4f0a59d20099a4f1ec1b065249020a', 'message': 'Rename redfish_deploy_iso -> deploy_iso\n\nWe should only use prefixed driver_info parameters when they are either\nunique to the driver or have different meanings for different drivers.\nThis is not the case for deploy_iso, but we use vendor prefixes for\nhistorical reasons.\n\nThis change migrates the redfish-virtual-media boot interface and\ncreates helpers to fascilitate migration of other boot interfaces.\n\nChange-Id: I698d1c90592e8de2cb24d6e2cf819e7f6ac3911f\nStory: #2008880\nTask: #42425\n'}, {'number': 2, 'created': '2021-05-19 10:48:59.000000000', 'files': ['ironic/drivers/utils.py', 'doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'releasenotes/notes/redfish-deploy-iso-9671ae83108f6385.yaml', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0a8373872156865aeece0f4f68c940a6c399d481', 'message': 'Rename redfish_deploy_iso -> deploy_iso\n\nWe should only use prefixed driver_info parameters when they are either\nunique to the driver or have different meanings for different drivers.\nThis is not the case for deploy_iso, but we use vendor prefixes for\nhistorical reasons.\n\nThis change migrates the redfish-virtual-media boot interface and\ncreates helpers to fascilitate migration of other boot interfaces.\n\nChange-Id: I698d1c90592e8de2cb24d6e2cf819e7f6ac3911f\nStory: #2008880\nTask: #42425\n'}]",0,790016,0a8373872156865aeece0f4f68c940a6c399d481,25,3,2,10239,,,0,"Rename redfish_deploy_iso -> deploy_iso

We should only use prefixed driver_info parameters when they are either
unique to the driver or have different meanings for different drivers.
This is not the case for deploy_iso, but we use vendor prefixes for
historical reasons.

This change migrates the redfish-virtual-media boot interface and
creates helpers to fascilitate migration of other boot interfaces.

Change-Id: I698d1c90592e8de2cb24d6e2cf819e7f6ac3911f
Story: #2008880
Task: #42425
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/790016/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/utils.py', 'doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'releasenotes/notes/redfish-deploy-iso-9671ae83108f6385.yaml', 'ironic/drivers/modules/redfish/boot.py']",6,5b273e425e4f0a59d20099a4f1ec1b065249020a,redfish_deploy_iso," ""Required if deploy_iso is not set.""), 'deploy_ramdisk': _(""URL or Glance UUID of the ramdisk that is mounted at "" ""boot time. Required if deploy_iso is not set.""), 'deploy_iso': _(""URL or Glance UUID of the deployment ISO to use. "" ""Required if deploy_kernel/deploy_ramdisk are not set."") ""when deploy_iso is not provided.""), 'rescue_kernel': _('URL or Glance UUID of the rescue kernel. Required for ' 'rescue mode if rescue_iso is not set.'), 'that is used at node rescue time. Required for ' 'rescue mode if rescue_iso is not set.'), 'rescue_iso': _(""URL or Glance UUID of the rescue ISO to use. Required "" ""for rescue mode if rescue_kernel/rescue_ramdisk are "" ""not set."") iso_param = f'{mode}_iso' iso_ref = driver_utils.get_agent_iso(node, deprecated_prefix='redfish', mode=mode) # There was never a deprecated prefix for kernel/ramdisk deploy_info = driver_utils.get_agent_kernel_ramdisk(node, mode) # Issue the deprecation warning if needed driver_utils.get_agent_iso(node, deprecated_prefix='redfish')"," ""Required.""), 'deploy_ramdisk': _(""URL or Glance UUID of the ramdisk that is "" ""mounted at boot time. Required."") ""boot from partition images.""), 'rescue_kernel': _('URL or Glance UUID of the rescue kernel. This value ' 'is required for rescue mode.'), 'that is used at node rescue time. This value is ' 'required for rescue mode.'),KERNEL_RAMDISK_LABELS = { 'deploy': REQUIRED_PROPERTIES, 'rescue': RESCUE_PROPERTIES } iso_param = 'redfish_%s_iso' % mode iso_ref = d_info.get(iso_param) params_to_check = KERNEL_RAMDISK_LABELS[mode] deploy_info = {option: d_info.get(option) for option in params_to_check} if not any(deploy_info.values()): # NOTE(dtantsur): avoid situation when e.g. deploy_kernel comes # from driver_info but deploy_ramdisk comes from configuration, # since it's a sign of a potential operator's mistake. deploy_info = {k: getattr(CONF.conductor, k) for k in params_to_check}",108,30
openstack%2Fneutron~master~I65bda0d956b42ef7dfc0ca25f53b26ad21a5ac47,openstack/neutron,master,I65bda0d956b42ef7dfc0ca25f53b26ad21a5ac47,Add tests for Security Groups API's new policy rules,MERGED,2021-04-07 08:47:32.000000000,2021-05-20 10:23:07.000000000,2021-05-20 09:22:03.000000000,"[{'_account_id': 5046}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 14250}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-07 08:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8c96fd7e980c5fdb7083465243f47a82748c458', 'message': ""Add tests for Security Groups API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I65bda0d956b42ef7dfc0ca25f53b26ad21a5ac47\n""}, {'number': 2, 'created': '2021-04-12 13:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/27f7f212da4f34f82bc7ede9453b7aeaf0c8fa17', 'message': ""Add tests for Security Groups API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I65bda0d956b42ef7dfc0ca25f53b26ad21a5ac47\n""}, {'number': 3, 'created': '2021-04-16 10:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6dfed732fff9824732eb252c0d28502980bd2497', 'message': ""Add tests for Security Groups API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I65bda0d956b42ef7dfc0ca25f53b26ad21a5ac47\n""}, {'number': 4, 'created': '2021-04-23 11:10:24.000000000', 'files': ['neutron/tests/unit/conf/policies/test_security_group.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9144444b799d4bc3475d4304eda29555f76d4e3e', 'message': ""Add tests for Security Groups API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I65bda0d956b42ef7dfc0ca25f53b26ad21a5ac47\n""}]",11,785103,9144444b799d4bc3475d4304eda29555f76d4e3e,40,7,4,11975,,,0,"Add tests for Security Groups API's new policy rules

Related-blueprint: bp/secure-rbac-roles
Change-Id: I65bda0d956b42ef7dfc0ca25f53b26ad21a5ac47
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/785103/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/conf/policies/test_security_group.py'],1,e8c96fd7e980c5fdb7083465243f47a82748c458,secure-rbac,"# Copyright (c) 2021 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from unittest import mock from oslo_policy import policy as base_policy from oslo_utils import uuidutils from neutron import policy from neutron.tests.unit.conf.policies import base class SecurityGroupAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(SecurityGroupAPITestCase, self).setUp() self.target = {'project_id': self.project_id} self.alt_target = {'project_id': self.alt_project_id} class SystemAdminSecurityGroupTests(SecurityGroupAPITestCase): def setUp(self): super(SystemAdminSecurityGroupTests, self).setUp() self.context = self.system_admin_ctx def test_create_security_group(self): self.assertTrue( policy.enforce(self.context, 'create_security_group', self.target)) self.assertTrue( policy.enforce(self.context, 'create_security_group', self.alt_target)) def test_get_security_group(self): self.assertTrue( policy.enforce(self.context, 'get_security_group', self.target)) self.assertTrue( policy.enforce(self.context, 'get_security_group', self.alt_target)) def test_update_security_group(self): self.assertTrue( policy.enforce(self.context, 'update_security_group', self.target)) self.assertTrue( policy.enforce(self.context, 'update_security_group', self.alt_target)) def test_delete_security_group(self): self.assertTrue( policy.enforce(self.context, 'delete_security_group', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_security_group', self.alt_target)) class SystemMemberSecurityGroupTests(SystemAdminSecurityGroupTests): def setUp(self): super(SystemMemberSecurityGroupTests, self).setUp() self.context = self.system_member_ctx def test_create_security_group(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_security_group', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_security_group', self.alt_target) def test_get_security_group(self): self.assertTrue( policy.enforce(self.context, 'get_security_group', self.target)) self.assertTrue( policy.enforce(self.context, 'get_security_group', self.alt_target)) def test_update_security_group(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_security_group', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_security_group', self.alt_target) def test_delete_security_group(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_security_group', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_security_group', self.alt_target) class SystemReaderSecurityGroupTests(SystemMemberSecurityGroupTests): def setUp(self): super(SystemReaderSecurityGroupTests, self).setUp() self.context = self.system_reader_ctx class ProjectAdminSecurityGroupTests(SecurityGroupAPITestCase): def setUp(self): super(ProjectAdminSecurityGroupTests, self).setUp() self.context = self.project_admin_ctx def test_create_security_group(self): self.assertTrue( policy.enforce(self.context, 'create_security_group', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_security_group', self.alt_target) def test_get_security_group(self): self.assertTrue( policy.enforce(self.context, 'get_security_group', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_security_group', self.alt_target) def test_update_security_group(self): self.assertTrue( policy.enforce(self.context, 'update_security_group', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_security_group', self.alt_target) def test_delete_security_group(self): self.assertTrue( policy.enforce(self.context, 'delete_security_group', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_security_group', self.alt_target) class ProjectMemberSecurityGroupTests(ProjectAdminSecurityGroupTests): def setUp(self): super(ProjectMemberSecurityGroupTests, self).setUp() self.context = self.project_member_ctx class ProjectReaderSecurityGroupTests(ProjectMemberSecurityGroupTests): def setUp(self): super(ProjectReaderSecurityGroupTests, self).setUp() self.context = self.project_reader_ctx def test_create_security_group(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_security_group', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_security_group', self.alt_target) def test_get_security_group(self): self.assertTrue( policy.enforce(self.context, 'get_security_group', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_security_group', self.alt_target) def test_update_security_group(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_security_group', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_security_group', self.alt_target) def test_delete_security_group(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_security_group', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_security_group', self.alt_target) class SecurityGroupRuleAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(SecurityGroupRuleAPITestCase, self).setUp() self.sg = { 'id': uuidutils.generate_uuid(), 'project_id': self.project_id} self.target = { 'project_id': self.project_id, 'security_group_id': self.sg['id'], 'ext_parent_security_group_id': self.sg['id']} self.alt_target = { 'project_id': self.alt_project_id, 'security_group_id': self.sg['id'], 'ext_parent_security_group_id': self.sg['id']} self.plugin_mock = mock.Mock() self.plugin_mock.get_security_group.return_value = self.sg mock.patch( 'neutron_lib.plugins.directory.get_plugin', return_value=self.plugin_mock).start() class SystemAdminSecurityGroupRuleTests(SecurityGroupRuleAPITestCase): def setUp(self): super(SystemAdminSecurityGroupRuleTests, self).setUp() self.context = self.system_admin_ctx def test_create_security_group_rule(self): self.assertTrue( policy.enforce(self.context, 'create_security_group_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'create_security_group_rule', self.alt_target)) def test_get_security_group_rule(self): self.assertTrue( policy.enforce(self.context, 'get_security_group_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'get_security_group_rule', self.alt_target)) def test_delete_security_group_rule(self): self.assertTrue( policy.enforce(self.context, 'delete_security_group_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_security_group_rule', self.alt_target)) class SystemMemberSecurityGroupRuleTests(SystemAdminSecurityGroupRuleTests): def setUp(self): super(SystemMemberSecurityGroupRuleTests, self).setUp() self.context = self.system_member_ctx def test_create_security_group_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_security_group_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_security_group_rule', self.alt_target) def test_get_security_group_rule(self): self.assertTrue( policy.enforce(self.context, 'get_security_group_rule', self.target)) self.assertTrue( policy.enforce(self.context, 'get_security_group_rule', self.alt_target)) def test_delete_security_group_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_security_group_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_security_group_rule', self.alt_target) class SystemReaderSecurityGroupRuleTests(SystemMemberSecurityGroupRuleTests): def setUp(self): super(SystemReaderSecurityGroupRuleTests, self).setUp() self.context = self.system_reader_ctx class ProjectAdminSecurityGroupRuleTests(SecurityGroupAPITestCase): def setUp(self): super(ProjectAdminSecurityGroupRuleTests, self).setUp() self.context = self.project_admin_ctx def test_create_security_group_rule(self): self.assertTrue( policy.enforce(self.context, 'create_security_group_rule', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_security_group_rule', self.alt_target) def test_get_security_group_rule(self): self.assertTrue( policy.enforce(self.context, 'get_security_group_rule', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_security_group_rule', self.alt_target) def test_delete_security_group_rule(self): self.assertTrue( policy.enforce(self.context, 'delete_security_group_rule', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_security_group_rule', self.alt_target) class ProjectMemberSecurityGroupRuleTests(ProjectAdminSecurityGroupRuleTests): def setUp(self): super(ProjectMemberSecurityGroupRuleTests, self).setUp() self.context = self.project_member_ctx class ProjectReaderSecurityGroupRuleTests(ProjectMemberSecurityGroupRuleTests): def setUp(self): super(ProjectReaderSecurityGroupRuleTests, self).setUp() self.context = self.project_reader_ctx def test_create_security_group_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_security_group_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_security_group_rule', self.alt_target) def test_get_security_group_rule(self): self.assertTrue( policy.enforce(self.context, 'get_security_group_rule', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_security_group_rule', self.alt_target) def test_delete_security_group_rule(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_security_group_rule', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_security_group_rule', self.alt_target) ",,381,0
openstack%2Ftripleo-validations~master~Ia3d9ea6c3a69392975046518d5728496a3bec998,openstack/tripleo-validations,master,Ia3d9ea6c3a69392975046518d5728496a3bec998,[overcloud-service-status] Removing pre-upgrade,MERGED,2021-05-19 13:50:28.000000000,2021-05-20 10:12:25.000000000,2021-05-20 10:10:53.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-19 13:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1271bb838c2474e0ab46777fa91171a6b20d01d3', 'message': '[overcloud-service-status] Removing pre-upgrade\n\nWhen running pre-upgrade, it triggers a failed validation during FFU\nBecause undercloud is 16.2 and the overcloud is still running on 13.\n\nChange-Id: Ia3d9ea6c3a69392975046518d5728496a3bec998\n'}, {'number': 2, 'created': '2021-05-20 04:07:59.000000000', 'files': ['roles/overcloud_service_status/vars/main.yml', 'playbooks/overcloud-service-status.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f4399e79a1811b8230689430421d31369680db44', 'message': '[overcloud-service-status] Removing pre-upgrade\n\nWhen running pre-upgrade, it triggers a failed validation during FFU\nBecause undercloud is 16.2 and the overcloud is still running on 13.\n\nChange-Id: Ia3d9ea6c3a69392975046518d5728496a3bec998\n'}]",0,792152,f4399e79a1811b8230689430421d31369680db44,17,6,2,27419,,,0,"[overcloud-service-status] Removing pre-upgrade

When running pre-upgrade, it triggers a failed validation during FFU
Because undercloud is 16.2 and the overcloud is still running on 13.

Change-Id: Ia3d9ea6c3a69392975046518d5728496a3bec998
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/52/792152/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud_service_status/vars/main.yml', 'playbooks/overcloud-service-status.yaml']",2,1271bb838c2474e0ab46777fa91171a6b20d01d3,overcloud_service_status,, - pre-upgrade,0,2
openstack%2Ftripleo-heat-templates~master~If1faf23887a49e4c0479a7d68125c95923860e50,openstack/tripleo-heat-templates,master,If1faf23887a49e4c0479a7d68125c95923860e50,Add default value for ceph_mon group,ABANDONED,2021-04-29 09:05:14.000000000,2021-05-20 09:39:23.000000000,,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-29 09:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee011f5bdc3161d96b4cd94bf063006f3e5e971f', 'message': 'Add default value for ceph_mon group\n\nWhen an external ganesha instance is deployed and the ceph cluster\nis external, the ceph_mon inventory group is empty, but we still\nhave ceph_nfs containing the controller nodes.\nIn this scenario, the ceph-admin ssh key generation playbook can\nbe run, but we need to provide a safe default (an empty array) to\nthe mon group.\n\nChange-Id: If1faf23887a49e4c0479a7d68125c95923860e50\n'}, {'number': 2, 'created': '2021-05-12 14:16:20.000000000', 'files': ['deployment/cephadm/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ddcd6dfb46f37aa6ca57d5b995986388cf37f92', 'message': 'Add default value for ceph_mon group\n\nWhen an external ganesha instance is deployed and the ceph cluster\nis external, the ceph_mon inventory group is empty, but we still\nhave ceph_nfs containing the controller nodes.\nIn this scenario, the ceph-admin ssh key generation playbook can\nbe run, but we need to provide a safe default (an empty array) to\nthe mon group.\n\nChange-Id: If1faf23887a49e4c0479a7d68125c95923860e50\n'}]",0,788697,6ddcd6dfb46f37aa6ca57d5b995986388cf37f92,12,3,2,25402,,,0,"Add default value for ceph_mon group

When an external ganesha instance is deployed and the ceph cluster
is external, the ceph_mon inventory group is empty, but we still
have ceph_nfs containing the controller nodes.
In this scenario, the ceph-admin ssh key generation playbook can
be run, but we need to provide a safe default (an empty array) to
the mon group.

Change-Id: If1faf23887a49e4c0479a7d68125c95923860e50
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/788697/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-base.yaml'],1,ee011f5bdc3161d96b4cd94bf063006f3e5e971f,cephadm_ganesha," ssh_servers: ""{{ groups['ceph_mon'] |default([]) |"," ssh_servers: ""{{ groups['ceph_mon'] |",1,1
openstack%2Fnetworking-sfc~master~I7b913bf5d3877717b6703d08586b7811a9e60925,openstack/networking-sfc,master,I7b913bf5d3877717b6703d08586b7811a9e60925,Update index.rst for stable/wallaby,ABANDONED,2021-05-17 08:12:10.000000000,2021-05-20 09:33:28.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 08:12:10.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/0768ea178b5c5678cda7f1a380cd8ff16b2faa9e', 'message': 'Update index.rst for stable/wallaby\n\nChange-Id: I7b913bf5d3877717b6703d08586b7811a9e60925\n'}]",0,791681,0768ea178b5c5678cda7f1a380cd8ff16b2faa9e,4,2,1,32029,,,0,"Update index.rst for stable/wallaby

Change-Id: I7b913bf5d3877717b6703d08586b7811a9e60925
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/81/791681/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,0768ea178b5c5678cda7f1a380cd8ff16b2faa9e,wallaby, wallaby,,7,0
openstack%2Freleases~master~I9ba2df5fa4560c776d49d00c4eb2bbbcf3c0de0b,openstack/releases,master,I9ba2df5fa4560c776d49d00c4eb2bbbcf3c0de0b,nova: Release Train 20.6.1,MERGED,2021-05-06 13:32:23.000000000,2021-05-20 09:27:59.000000000,2021-05-20 09:27:59.000000000,"[{'_account_id': 308}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-06 13:32:23.000000000', 'files': ['deliverables/train/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/40d676335b1ffaa664df1aa7493bfac5c437ba8d', 'message': 'nova: Release Train 20.6.1\n\n$ git log --oneline --no-merges 20.6.0..HEAD\n618103db9b libvirt: Increase incremental and max sleep time during device detach\n9e9c022bde Improve error log when snapshot fails\n8559ceeec4 Add config parameter \'live_migration_scheme\' to live migration with tls guide\nfb81b16df0 compute: Lock by instance.uuid lock during swap_volume\nf602536778 replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""\n4350074029 Use subqueryload() instead of joinedload() for (system_)metadata\n5c3b4b6c23 Test for disabling greendns\ne3bb6119cf Prevent archiving of pci_devices records because of \'instance_uuid\'\n06b8f1467d libvirt: \'video.vram\' property must be an integer\n\nChange-Id: I9ba2df5fa4560c776d49d00c4eb2bbbcf3c0de0b\n'}]",2,790069,40d676335b1ffaa664df1aa7493bfac5c437ba8d,16,6,1,17685,,,0,"nova: Release Train 20.6.1

$ git log --oneline --no-merges 20.6.0..HEAD
618103db9b libvirt: Increase incremental and max sleep time during device detach
9e9c022bde Improve error log when snapshot fails
8559ceeec4 Add config parameter 'live_migration_scheme' to live migration with tls guide
fb81b16df0 compute: Lock by instance.uuid lock during swap_volume
f602536778 replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""
4350074029 Use subqueryload() instead of joinedload() for (system_)metadata
5c3b4b6c23 Test for disabling greendns
e3bb6119cf Prevent archiving of pci_devices records because of 'instance_uuid'
06b8f1467d libvirt: 'video.vram' property must be an integer

Change-Id: I9ba2df5fa4560c776d49d00c4eb2bbbcf3c0de0b
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/790069/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/nova.yaml'],1,40d676335b1ffaa664df1aa7493bfac5c437ba8d,nova-train-20.6.1, - version: 20.6.1 projects: - repo: openstack/nova hash: 10df17638a1587f740c46a574c923df9348c3344,,4,0
openstack%2Freleases~master~I27c938feeea6ee95551bd3d103694dc9e849698e,openstack/releases,master,I27c938feeea6ee95551bd3d103694dc9e849698e,Release tooz 2.8.1 for Wallaby,MERGED,2021-05-17 11:36:49.000000000,2021-05-20 09:27:54.000000000,2021-05-20 09:27:54.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 11:36:49.000000000', 'files': ['deliverables/wallaby/tooz.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7118baf379e406feb131882a3d10b1fd27b7841f', 'message': 'Release tooz 2.8.1 for Wallaby\n\nThis new version will release bugfixes.\n\nNotice that a minor version (2.9.0) of tooz have been released few days\nago so even if requirements have been updated in the landed changes we\nneed to stick to bugfix versions.\n\nChange-Id: I27c938feeea6ee95551bd3d103694dc9e849698e\n'}]",0,791729,7118baf379e406feb131882a3d10b1fd27b7841f,8,3,1,28522,,,0,"Release tooz 2.8.1 for Wallaby

This new version will release bugfixes.

Notice that a minor version (2.9.0) of tooz have been released few days
ago so even if requirements have been updated in the landed changes we
need to stick to bugfix versions.

Change-Id: I27c938feeea6ee95551bd3d103694dc9e849698e
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/791729/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/tooz.yaml'],1,7118baf379e406feb131882a3d10b1fd27b7841f,tooz-wallaby, - version: 2.8.1 projects: - repo: openstack/tooz hash: 62d5d17a5d2495f1f898163bbd83acbbc9873620,,4,0
openstack%2Fneutron~stable%2Ftrain~I0cf458f4532d313e593a943653e8310b93ac1e9c,openstack/neutron,stable/train,I0cf458f4532d313e593a943653e8310b93ac1e9c,"Install ""pyroute2"" as a doc job depedency",MERGED,2021-05-19 15:35:06.000000000,2021-05-20 09:24:53.000000000,2021-05-20 09:23:02.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 15:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1580b03d5c6a4cc6e06b17acc5b71704bfa7103a', 'message': 'Install ""pyroute2"" as a doc job depedency\n\nBy adding this library to the doc requirements file, tox will install\nit limiting the upper version according to\n""requirements/upper-constraints.txt"".\n\n""pyroute2"" is called in tox doc job as mentioned in [1]. Since version\n0.6.0, the library structure changed. To keep backwards compatibility,\nall modules are imported from the main namespace. As reported in the\nreferred bug, the library ""mitogen"" must be installed first.\n\nIn stable releases that use older ""pyroute2"" versions, this library is\nnot needed but this patch should enforce the upper library version.\n\nRelated-Bug: #1928913\n\n[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40\n\nConflicts:\n      doc/requirements.txt\n\nChange-Id: I0cf458f4532d313e593a943653e8310b93ac1e9c\n(cherry picked from commit 9e6b7a2284a39ae74d2092083165e3fdf4cb8f33)\n'}, {'number': 2, 'created': '2021-05-19 15:37:15.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e00f444211bf8dd349d9a159387e7ee23058a923', 'message': 'Install ""pyroute2"" as a doc job depedency\n\nBy adding this library to the doc requirements file, tox will install\nit limiting the upper version according to\n""requirements/upper-constraints.txt"".\n\n""pyroute2"" is called in tox doc job as mentioned in [1]. Since version\n0.6.0, the library structure changed. To keep backwards compatibility,\nall modules are imported from the main namespace. As reported in the\nreferred bug, the library ""mitogen"" must be installed first.\n\nIn stable releases that use older ""pyroute2"" versions, this library is\nnot needed but this patch should enforce the upper library version.\n\nRelated-Bug: #1928913\n\n[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40\n\nConflicts:\n      doc/requirements.txt\n\nChange-Id: I0cf458f4532d313e593a943653e8310b93ac1e9c\n(cherry picked from commit 9e6b7a2284a39ae74d2092083165e3fdf4cb8f33)\n'}]",0,792192,e00f444211bf8dd349d9a159387e7ee23058a923,10,3,2,16688,,,0,"Install ""pyroute2"" as a doc job depedency

By adding this library to the doc requirements file, tox will install
it limiting the upper version according to
""requirements/upper-constraints.txt"".

""pyroute2"" is called in tox doc job as mentioned in [1]. Since version
0.6.0, the library structure changed. To keep backwards compatibility,
all modules are imported from the main namespace. As reported in the
referred bug, the library ""mitogen"" must be installed first.

In stable releases that use older ""pyroute2"" versions, this library is
not needed but this patch should enforce the upper library version.

Related-Bug: #1928913

[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40

Conflicts:
      doc/requirements.txt

Change-Id: I0cf458f4532d313e593a943653e8310b93ac1e9c
(cherry picked from commit 9e6b7a2284a39ae74d2092083165e3fdf4cb8f33)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/792192/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/neutron/ovn.ini.sample', 'doc/requirements.txt']",2,1580b03d5c6a4cc6e06b17acc5b71704bfa7103a,bug/1928913,# NOTE(ralonsoh): pyroute2 module should be installed and the version limited # according to upper-constraints.txt pyroute2>=0.5.3;sys_platform!='win32' # Apache-2.0 (+ dual licensed GPL2),,337,0
openstack%2Fneutron~stable%2Fussuri~I0cf458f4532d313e593a943653e8310b93ac1e9c,openstack/neutron,stable/ussuri,I0cf458f4532d313e593a943653e8310b93ac1e9c,"Install ""pyroute2"" as a doc job depedency",MERGED,2021-05-19 15:33:59.000000000,2021-05-20 09:24:47.000000000,2021-05-20 09:22:40.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 15:33:59.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea029256306b4af9495f326fb5f6f2bf4e525b80', 'message': 'Install ""pyroute2"" as a doc job depedency\n\nBy adding this library to the doc requirements file, tox will install\nit limiting the upper version according to\n""requirements/upper-constraints.txt"".\n\n""pyroute2"" is called in tox doc job as mentioned in [1]. Since version\n0.6.0, the library structure changed. To keep backwards compatibility,\nall modules are imported from the main namespace. As reported in the\nreferred bug, the library ""mitogen"" must be installed first.\n\nIn stable releases that use older ""pyroute2"" versions, this library is\nnot needed but this patch should enforce the upper library version.\n\nRelated-Bug: #1928913\n\n[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40\n\nConflicts:\n      doc/requirements.txt\n\nChange-Id: I0cf458f4532d313e593a943653e8310b93ac1e9c\n(cherry picked from commit 9e6b7a2284a39ae74d2092083165e3fdf4cb8f33)\n'}]",0,792191,ea029256306b4af9495f326fb5f6f2bf4e525b80,9,3,1,16688,,,0,"Install ""pyroute2"" as a doc job depedency

By adding this library to the doc requirements file, tox will install
it limiting the upper version according to
""requirements/upper-constraints.txt"".

""pyroute2"" is called in tox doc job as mentioned in [1]. Since version
0.6.0, the library structure changed. To keep backwards compatibility,
all modules are imported from the main namespace. As reported in the
referred bug, the library ""mitogen"" must be installed first.

In stable releases that use older ""pyroute2"" versions, this library is
not needed but this patch should enforce the upper library version.

Related-Bug: #1928913

[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40

Conflicts:
      doc/requirements.txt

Change-Id: I0cf458f4532d313e593a943653e8310b93ac1e9c
(cherry picked from commit 9e6b7a2284a39ae74d2092083165e3fdf4cb8f33)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/792191/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,ea029256306b4af9495f326fb5f6f2bf4e525b80,bug/1928913,# NOTE(ralonsoh): pyroute2 module should be installed and the version limited # according to upper-constraints.txt pyroute2>=0.5.7;sys_platform!='win32' # Apache-2.0 (+ dual licensed GPL2),,3,0
openstack%2Fneutron~stable%2Fvictoria~I0cf458f4532d313e593a943653e8310b93ac1e9c,openstack/neutron,stable/victoria,I0cf458f4532d313e593a943653e8310b93ac1e9c,"Install ""pyroute2"" as a doc job depedency",MERGED,2021-05-19 15:31:23.000000000,2021-05-20 09:24:44.000000000,2021-05-20 09:22:29.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 15:31:23.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e775f35ebf7ec407dc8bec93b3edaa28c20747e', 'message': 'Install ""pyroute2"" as a doc job depedency\n\nBy adding this library to the doc requirements file, tox will install\nit limiting the upper version according to\n""requirements/upper-constraints.txt"".\n\n""pyroute2"" is called in tox doc job as mentioned in [1]. Since version\n0.6.0, the library structure changed. To keep backwards compatibility,\nall modules are imported from the main namespace. As reported in the\nreferred bug, the library ""mitogen"" must be installed first.\n\nIn stable releases that use older ""pyroute2"" versions, this library is\nnot needed but this patch should enforce the upper library version.\n\nRelated-Bug: #1928913\n\n[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40\n\nChange-Id: I0cf458f4532d313e593a943653e8310b93ac1e9c\n(cherry picked from commit 9e6b7a2284a39ae74d2092083165e3fdf4cb8f33)\n'}]",0,792188,6e775f35ebf7ec407dc8bec93b3edaa28c20747e,9,3,1,16688,,,0,"Install ""pyroute2"" as a doc job depedency

By adding this library to the doc requirements file, tox will install
it limiting the upper version according to
""requirements/upper-constraints.txt"".

""pyroute2"" is called in tox doc job as mentioned in [1]. Since version
0.6.0, the library structure changed. To keep backwards compatibility,
all modules are imported from the main namespace. As reported in the
referred bug, the library ""mitogen"" must be installed first.

In stable releases that use older ""pyroute2"" versions, this library is
not needed but this patch should enforce the upper library version.

Related-Bug: #1928913

[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40

Change-Id: I0cf458f4532d313e593a943653e8310b93ac1e9c
(cherry picked from commit 9e6b7a2284a39ae74d2092083165e3fdf4cb8f33)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/792188/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,6e775f35ebf7ec407dc8bec93b3edaa28c20747e,bug/1928913,# NOTE(ralonsoh): pyroute2 module should be installed and the version limited # according to upper-constraints.txt pyroute2>=0.5.13;sys_platform!='win32' # Apache-2.0 (+ dual licensed GPL2),,3,0
openstack%2Fneutron~stable%2Fwallaby~I0cf458f4532d313e593a943653e8310b93ac1e9c,openstack/neutron,stable/wallaby,I0cf458f4532d313e593a943653e8310b93ac1e9c,"Install ""pyroute2"" as a doc job depedency",MERGED,2021-05-19 14:40:22.000000000,2021-05-20 09:24:41.000000000,2021-05-20 09:22:17.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 14:40:22.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9a100db203eb204d58787a24064330619ce1b34', 'message': 'Install ""pyroute2"" as a doc job depedency\n\nBy adding this library to the doc requirements file, tox will install\nit limiting the upper version according to\n""requirements/upper-constraints.txt"".\n\n""pyroute2"" is called in tox doc job as mentioned in [1]. Since version\n0.6.0, the library structure changed. To keep backwards compatibility,\nall modules are imported from the main namespace. As reported in the\nreferred bug, the library ""mitogen"" must be installed first.\n\nIn stable releases that use older ""pyroute2"" versions, this library is\nnot needed but this patch should enforce the upper library version.\n\nRelated-Bug: #1928913\n\n[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40\n\nChange-Id: I0cf458f4532d313e593a943653e8310b93ac1e9c\n(cherry picked from commit 9e6b7a2284a39ae74d2092083165e3fdf4cb8f33)\n'}]",0,792183,c9a100db203eb204d58787a24064330619ce1b34,10,4,1,16688,,,0,"Install ""pyroute2"" as a doc job depedency

By adding this library to the doc requirements file, tox will install
it limiting the upper version according to
""requirements/upper-constraints.txt"".

""pyroute2"" is called in tox doc job as mentioned in [1]. Since version
0.6.0, the library structure changed. To keep backwards compatibility,
all modules are imported from the main namespace. As reported in the
referred bug, the library ""mitogen"" must be installed first.

In stable releases that use older ""pyroute2"" versions, this library is
not needed but this patch should enforce the upper library version.

Related-Bug: #1928913

[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40

Change-Id: I0cf458f4532d313e593a943653e8310b93ac1e9c
(cherry picked from commit 9e6b7a2284a39ae74d2092083165e3fdf4cb8f33)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/792183/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,c9a100db203eb204d58787a24064330619ce1b34,bug/1928913,# NOTE(ralonsoh): pyroute2 module should be installed and the version limited # according to upper-constraints.txt pyroute2>=0.5.13;sys_platform!='win32' # Apache-2.0 (+ dual licensed GPL2),,3,0
openstack%2Fopenstack-ansible-os_manila~master~I5cd92bd90ab19a32f7488ab56dbb6b005253e2c3,openstack/openstack-ansible-os_manila,master,I5cd92bd90ab19a32f7488ab56dbb6b005253e2c3,Remove ceph-fuse requirement,MERGED,2021-04-23 13:38:08.000000000,2021-05-20 09:18:35.000000000,2021-05-20 09:17:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-04-23 13:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/e6d50c2b43b75b5c880c46c875f2c558d01f763f', 'message': ""Remove ceph-fuse requirement\n\nSince we don't need to mount and create volumes directory for\nmanila, ceph-fuse package is not required anymore as well.\n\nChange-Id: I5cd92bd90ab19a32f7488ab56dbb6b005253e2c3\n""}, {'number': 2, 'created': '2021-05-18 16:33:49.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/a5ba4dc4cd8338921c2d584e7837d096a0cdce61', 'message': ""Remove ceph-fuse requirement\n\nSince we don't need to mount and create volumes directory for\nmanila, ceph-fuse package is not required anymore as well.\n\nChange-Id: I5cd92bd90ab19a32f7488ab56dbb6b005253e2c3\n""}]",0,787737,a5ba4dc4cd8338921c2d584e7837d096a0cdce61,12,3,2,28619,,,0,"Remove ceph-fuse requirement

Since we don't need to mount and create volumes directory for
manila, ceph-fuse package is not required anymore as well.

Change-Id: I5cd92bd90ab19a32f7488ab56dbb6b005253e2c3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/37/787737/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,e6d50c2b43b75b5c880c46c875f2c558d01f763f,policy-json-to-yaml,manila_rbd_share_distro_packages: [],manila_rbd_share_distro_packages: - ceph-fuse,2,4
openstack%2Fmonasca-statsd~master~I648c36ec1ba1caabc4321be834f92ebf167bd072,openstack/monasca-statsd,master,I648c36ec1ba1caabc4321be834f92ebf167bd072,Remove six,ABANDONED,2020-12-14 07:12:02.000000000,2021-05-20 09:17:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-14 07:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/057264274ef1c9a76b04506fba35c0ae4909e25f', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.moves\n- six.b\n\nChange-Id: I648c36ec1ba1caabc4321be834f92ebf167bd072\n'}, {'number': 2, 'created': '2020-12-14 07:18:29.000000000', 'files': ['requirements.txt', 'tests/test_monascastatsd.py', 'monascastatsd/connection.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/24f15ac0c3ab9d64939416eb4582632ee3d83c96', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.moves\n- six.b\n\nStory: 2008305\nTask: 41414\nChange-Id: I648c36ec1ba1caabc4321be834f92ebf167bd072\n'}]",0,766888,24f15ac0c3ab9d64939416eb4582632ee3d83c96,6,1,2,32238,,,0,"Remove six

Remove six Replace the following items with Python 3 style code.
- six.moves
- six.b

Story: 2008305
Task: 41414
Change-Id: I648c36ec1ba1caabc4321be834f92ebf167bd072
",git fetch https://review.opendev.org/openstack/monasca-statsd refs/changes/88/766888/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tests/test_monascastatsd.py', 'monascastatsd/connection.py', 'lower-constraints.txt']",4,057264274ef1c9a76b04506fba35c0ae4909e25f,remove-six,,six==1.10.0,17,22
openstack%2Fbarbican~master~I9faeb3cf755615a57b61cec03416501d1e363dc3,openstack/barbican,master,I9faeb3cf755615a57b61cec03416501d1e363dc3,Remove six,ABANDONED,2020-12-18 02:48:53.000000000,2021-05-20 09:17:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-18 02:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/de4fa59c4ed3eb7dd69afce61a77727aaf489d87', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.moves\n- six.add_metaclass\n- six.string_types\n- six.binary_type\n- six.text_type\n- six.u\n- six.unichr\n- six.get_function_code\n- six.get_function_globals\n- six.get_function_defaults\n- six.get_function_closure\n\nChange-Id: I9faeb3cf755615a57b61cec03416501d1e363dc3\n'}, {'number': 2, 'created': '2020-12-18 09:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/9a8ed6fcc2bbc7d56fa18643f4a395c79e1d7b64', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.moves\n- six.add_metaclass\n- six.string_types\n- six.binary_type\n- six.text_type\n- six.u\n- six.unichr\n- six.get_function_code\n- six.get_function_globals\n- six.get_function_defaults\n- six.get_function_closure\n\nChange-Id: I9faeb3cf755615a57b61cec03416501d1e363dc3\n'}, {'number': 3, 'created': '2020-12-23 01:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b81bf0f52047f12fce21b4b2734705270238fc50', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.moves\n- six.add_metaclass\n- six.string_types\n- six.binary_type\n- six.text_type\n- six.u\n- six.unichr\n- six.get_function_code\n- six.get_function_globals\n- six.get_function_defaults\n- six.get_function_closure\n\nChange-Id: I9faeb3cf755615a57b61cec03416501d1e363dc3\n'}, {'number': 4, 'created': '2020-12-23 03:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/5535e7aca0f4fc95d63a6efef5d24c738517e133', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.moves\n- six.add_metaclass\n- six.string_types\n- six.binary_type\n- six.text_type\n- six.u\n- six.unichr\n- six.get_function_code\n- six.get_function_globals\n- six.get_function_defaults\n- six.get_function_closure\n\nChange-Id: I9faeb3cf755615a57b61cec03416501d1e363dc3\n'}, {'number': 5, 'created': '2020-12-23 06:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/7bb3e3b686d2e65be7f7ec3f2cc59784bcceff49', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.moves\n- six.add_metaclass\n- six.string_types\n- six.binary_type\n- six.text_type\n- six.u\n- six.unichr\n- six.get_function_code\n- six.get_function_globals\n- six.get_function_defaults\n- six.get_function_closure\n\nChange-Id: I9faeb3cf755615a57b61cec03416501d1e363dc3\n'}, {'number': 6, 'created': '2020-12-23 07:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/85306bdd264e3b796326e7e0b506b5708543e6d0', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.moves\n- six.add_metaclass\n- six.string_types\n- six.binary_type\n- six.text_type\n- six.u\n- six.unichr\n- six.get_function_code\n- six.get_function_globals\n- six.get_function_defaults\n- six.get_function_closure\n\nChange-Id: I9faeb3cf755615a57b61cec03416501d1e363dc3\n'}, {'number': 7, 'created': '2021-03-04 07:38:14.000000000', 'files': ['barbican/tests/common/test_utils.py', 'barbican/tests/model/repositories/test_repositories_consumers.py', 'barbican/tests/objects/test_ovo_project_secret_store.py', 'barbican/cmd/pkcs11_key_generation.py', 'barbican/common/validators.py', 'barbican/tests/api/test_transport_keys_resource.py', 'barbican/plugin/crypto/pkcs11.py', 'functionaltests/common/client.py', 'barbican/hacking/checks.py', 'requirements.txt', 'barbican/model/models.py', 'barbican/tests/common/test_validators.py', 'barbican/tests/plugin/crypto/test_crypto.py', 'barbican/tests/utils.py', 'barbican/tests/queue/test_server.py', 'functionaltests/api/v1/behaviors/base_behaviors.py', 'barbican/plugin/dogtag.py', 'barbican/api/controllers/acls.py', 'barbican/api/controllers/transportkeys.py', 'barbican/plugin/util/mime_types.py', 'barbican/tests/test_middleware_auth.py', 'barbican/common/utils.py', 'functionaltests/api/v1/functional/test_secrets.py', 'barbican/api/controllers/versions.py', 'barbican/tests/model/repositories/test_repositories_secret_consumers.py', 'barbican/plugin/castellan_secret_store.py', 'barbican/tests/model/repositories/test_repositories_secret_stores.py', 'barbican/plugin/util/translations.py', 'barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/tests/model/repositories/test_repositories.py', 'functionaltests/api/base.py', 'barbican/plugin/crypto/simple_crypto.py', 'barbican/tests/common/test_quota.py', 'barbican/tests/tasks/test_resources.py', 'barbican/tests/plugin/interface/test_secret_store.py', 'barbican/api/controllers/secrets.py', 'barbican/objects/fields.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/78e1c237a7cabbbcc7da55dd49575a6e8b0af336', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.moves\n- six.add_metaclass\n- six.string_types\n- six.binary_type\n- six.text_type\n- six.u\n- six.unichr\n- six.get_function_code\n- six.get_function_globals\n- six.get_function_defaults\n- six.get_function_closure\n\nChange-Id: I9faeb3cf755615a57b61cec03416501d1e363dc3\n'}]",5,767656,78e1c237a7cabbbcc7da55dd49575a6e8b0af336,18,1,7,32238,,,0,"Remove six

Remove six Replace the following items with Python 3 style code.
- six.moves
- six.add_metaclass
- six.string_types
- six.binary_type
- six.text_type
- six.u
- six.unichr
- six.get_function_code
- six.get_function_globals
- six.get_function_defaults
- six.get_function_closure

Change-Id: I9faeb3cf755615a57b61cec03416501d1e363dc3
",git fetch https://review.opendev.org/openstack/barbican refs/changes/56/767656/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/common/test_utils.py', 'barbican/tests/model/repositories/test_repositories_consumers.py', 'barbican/tests/objects/test_ovo_project_secret_store.py', 'barbican/cmd/pkcs11_key_generation.py', 'barbican/common/validators.py', 'barbican/tests/api/test_transport_keys_resource.py', 'barbican/plugin/crypto/pkcs11.py', 'functionaltests/common/client.py', 'barbican/hacking/checks.py', 'requirements.txt', 'barbican/model/models.py', 'barbican/tests/common/test_validators.py', 'barbican/tests/plugin/crypto/test_crypto.py', 'barbican/tests/utils.py', 'barbican/tests/queue/test_server.py', 'functionaltests/api/v1/behaviors/base_behaviors.py', 'barbican/plugin/dogtag.py', 'barbican/api/controllers/acls.py', 'barbican/api/controllers/transportkeys.py', 'barbican/plugin/util/mime_types.py', 'barbican/tests/test_middleware_auth.py', 'barbican/common/utils.py', 'functionaltests/api/v1/functional/test_secrets.py', 'barbican/api/controllers/versions.py', 'barbican/tests/model/repositories/test_repositories_secret_consumers.py', 'barbican/plugin/castellan_secret_store.py', 'barbican/tests/model/repositories/test_repositories_secret_stores.py', 'barbican/plugin/util/translations.py', 'barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/tests/model/repositories/test_repositories.py', 'functionaltests/api/base.py', 'barbican/plugin/crypto/simple_crypto.py', 'barbican/tests/common/test_quota.py', 'barbican/tests/tasks/test_resources.py', 'barbican/tests/plugin/interface/test_secret_store.py', 'barbican/api/controllers/secrets.py', 'barbican/objects/fields.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py']",38,de4fa59c4ed3eb7dd69afce61a77727aaf489d87,six-remove,"import builtins with mock.patch(builtins.__name__ + '.open',","import six with mock.patch(six.moves.builtins.__name__ + '.open',",118,153
openstack%2Fironic~master~I606c5de9077931707ebd15c3adf506badd95ea29,openstack/ironic,master,I606c5de9077931707ebd15c3adf506badd95ea29,Retrieve BIOS registry from sushy,MERGED,2021-05-18 12:53:15.000000000,2021-05-20 09:10:26.000000000,2021-05-20 09:08:23.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-18 12:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6a0abaea06e792370a6bb15ba77192bd1ed8cb69', 'message': 'Retrieve BIOS registry from sushy\n\nGet the BIOS Registry from Sushy and store the fields in the Ironic\nDB with the corresponding entry in the BIOS setting.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/784516\nChange-Id: I606c5de9077931707ebd15c3adf506badd95ea29\n'}, {'number': 2, 'created': '2021-05-18 13:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/75954993179f43b9cce8257a1205414909c46e97', 'message': 'Retrieve BIOS registry from sushy\n\nGet the BIOS Registry from Sushy and store the fields in the Ironic\nDB with the corresponding entry in the BIOS setting.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/784516\nChange-Id: I606c5de9077931707ebd15c3adf506badd95ea29\n'}, {'number': 3, 'created': '2021-05-18 17:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/23488dbe8bd9852310f0ae409b35a5b4417e75b5', 'message': 'Retrieve BIOS registry from sushy\n\nGet the BIOS Registry from Sushy and store the fields in the Ironic\nDB with the corresponding entry in the BIOS setting.\n\nChange-Id: I606c5de9077931707ebd15c3adf506badd95ea29\n'}, {'number': 4, 'created': '2021-05-18 17:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dfead07edddd8636b9920b7abab21933464bcd56', 'message': 'Retrieve BIOS registry from sushy\n\nGet the BIOS Registry from Sushy and store the fields in the Ironic\nDB with the corresponding entry in the BIOS setting.\n\nStory: #2008571\nTask: #42484\nChange-Id: I606c5de9077931707ebd15c3adf506badd95ea29\n'}, {'number': 5, 'created': '2021-05-19 13:32:14.000000000', 'files': ['ironic/drivers/modules/redfish/bios.py', 'releasenotes/notes/get-bios-registry-aadc74800e0770f7.yaml', 'driver-requirements.txt', 'ironic/tests/unit/drivers/modules/redfish/test_bios.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ad427b78c1c9b3be75b46cc273278f9fb1c576c', 'message': 'Retrieve BIOS registry from sushy\n\nGet the BIOS Registry from Sushy and store the fields in the Ironic\nDB with the corresponding entry in the BIOS setting.\n\nStory: #2008571\nTask: #42484\nChange-Id: I606c5de9077931707ebd15c3adf506badd95ea29\n'}]",6,791956,0ad427b78c1c9b3be75b46cc273278f9fb1c576c,32,3,5,21909,,,0,"Retrieve BIOS registry from sushy

Get the BIOS Registry from Sushy and store the fields in the Ironic
DB with the corresponding entry in the BIOS setting.

Story: #2008571
Task: #42484
Change-Id: I606c5de9077931707ebd15c3adf506badd95ea29
",git fetch https://review.opendev.org/openstack/ironic refs/changes/56/791956/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/bios.py', 'ironic/tests/unit/drivers/modules/redfish/test_bios.py']",2,6a0abaea06e792370a6bb15ba77192bd1ed8cb69,bios-registry-driver," task.context, task.node.id, [{'name': 'foo', 'value': 'bar'}]) task.context, task.node.id, [{'name': 'foo', 'value': 'bar'}]) mock_bios.get_attribute_registry = [] data = [{'name': 'ProcTurboMode', 'value': 'Enabled', 'registry': {'description': 'Turbo mode'}}] data = [{'name': 'ProcTurboMode', 'value': 'Enabled', 'registry': {'description': 'Turbo mode'}}, {'name': 'NicBoot1', 'value': 'NetworkBoot', 'registry': {'description': 'Boot off network'}}] data = [{'name': 'ProcTurboMode', 'value': 'Enabled', 'registry': {'description': 'Turbo mode'}}] @mock.patch('oslo_utils.eventletutils.EventletEvent.wait', lambda *args, **kwargs: None) class RedfishBiosRegistryTestCase(db_base.DbTestCase): def setUp(self): super(RedfishBiosRegistryTestCase, self).setUp() self.config(enabled_bios_interfaces=['redfish'], enabled_hardware_types=['redfish'], enabled_power_interfaces=['redfish'], enabled_boot_interfaces=['redfish-virtual-media'], enabled_management_interfaces=['redfish']) self.node = obj_utils.create_test_node( self.context, driver='redfish', driver_info=INFO_DICT) self.settings = {'SystemModelName': 'UltraSumma', 'DcuStreamPrefetcher': 'Enabled', 'BootDelay': 10} class AttributeField(): def __init__(self): self.name = None self.allowable_values = None self.attribute_type = None self.lower_bound = None self.max_length = None self.min_length = None self.read_only = None self.reset_required = None self.type = None self.unique = None self.upper_bound = None class AttributeRegistryEntryField(): def __init__(self, num_entries): self.attributes = [] for _ in range(num_entries): self.attributes.append(AttributeField()) class AttributeRegistryTest(): def __init__(self, num_entries): self.registry_entries = AttributeRegistryEntryField( num_entries) self.registry = AttributeRegistryTest(4) self.registry.registry_entries.attributes[0].name = ""SystemModelName"" self.registry.registry_entries.attributes[0].attribute_type = ""String"" self.registry.registry_entries.attributes[0].max_length = 32 self.registry.registry_entries.attributes[0].read_only = True self.registry.registry_entries.attributes[0].unique = True self.registry.registry_entries.attributes[1].name =\ ""DcuStreamPrefetcher"" self.registry.registry_entries.attributes[1].attribute_type =\ ""Enumeration"" self.registry.registry_entries.attributes[1].read_only = False self.registry.registry_entries.attributes[1].allowable_values =\ [{'ValueName': 'Enabled', 'ValueDisplayName': 'Enabled'}, {'ValueName': 'Disabled', 'ValueDisplayName': 'Disabled'}] self.registry.registry_entries.attributes[2].name = ""BootDelay"" self.registry.registry_entries.attributes[2].attribute_type = ""Integer"" self.registry.registry_entries.attributes[2].lower_bound = 5 self.registry.registry_entries.attributes[2].upper_bound = 30 self.registry.registry_entries.attributes[2].reset_required = True self.registry.registry_entries.attributes[3].name = ""SomeAttribute"" self.registry.registry_entries.attributes[3].attribute_type = ""String"" self.registry.registry_entries.attributes[3].max_length = 32 self.registry.registry_entries.attributes[3].read_only = True self.expected_no_registry = [ {'name': 'SystemModelName', 'value': 'UltraSumma'}, {'name': 'DcuStreamPrefetcher', 'value': 'Enabled'}, {'name': 'BootDelay', 'value': 10}] @mock.patch.object(objects, 'BIOSSettingList', autospec=True) @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_cache_bios_registry_save(self, mock_get_system, mock_setting_list): create_list = [] update_list = [] delete_list = [] nochange_list = [] mock_setting_list.sync_node_setting.return_value = ( create_list, update_list, delete_list, nochange_list ) expected = [{'name': 'SystemModelName', 'value': 'UltraSumma', 'allowable_values': None, 'lower_bound': None, 'max_length': 32, 'min_length': None, 'read_only': True, 'reset_required': None, 'attribute_type': 'String', 'unique': True, 'upper_bound': None}, {'name': 'DcuStreamPrefetcher', 'value': 'Enabled', 'allowable_values': ['Enabled', 'Disabled'], 'lower_bound': None, 'max_length': None, 'min_length': None, 'read_only': False, 'reset_required': None, 'attribute_type': 'Enumeration', 'unique': None, 'upper_bound': None}, {'name': 'BootDelay', 'value': 10, 'allowable_values': None, 'lower_bound': 5, 'max_length': None, 'min_length': None, 'read_only': None, 'reset_required': True, 'attribute_type': 'Integer', 'unique': None, 'upper_bound': 30}] mock_get_system.return_value.bios.attributes = self.settings mock_get_system.return_value.bios.get_attribute_registry.\ return_value = self.registry with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: task.driver.bios.cache_bios_settings(task) mock_get_system.assert_called_once_with(task.node) mock_setting_list.sync_node_setting.assert_called_once_with( task.context, task.node.id, expected) @mock.patch.object(objects, 'BIOSSettingList', autospec=True) @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_cache_empty_bios_registry(self, mock_get_system, mock_setting_list): create_list = [] update_list = [] delete_list = [] nochange_list = [] mock_setting_list.sync_node_setting.return_value = ( create_list, update_list, delete_list, nochange_list ) mock_get_system.return_value.bios.attributes = self.settings mock_get_system.return_value.bios.get_attribute_registry.\ return_value = {} with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: task.driver.bios.cache_bios_settings(task) mock_setting_list.sync_node_setting.assert_called_once_with( task.context, task.node.id, self.expected_no_registry) @mock.patch.object(objects, 'BIOSSettingList', autospec=True) @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_cache_no_bios_registry(self, mock_get_system, mock_setting_list): create_list = [] update_list = [] delete_list = [] nochange_list = [] mock_setting_list.sync_node_setting.return_value = ( create_list, update_list, delete_list, nochange_list ) mock_get_system.return_value.bios.attributes = self.settings mock_get_system.return_value.bios.get_attribute_registry.\ return_value = None with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: task.driver.bios.cache_bios_settings(task) mock_setting_list.sync_node_setting.assert_called_once_with( task.context, task.node.id, self.expected_no_registry) @mock.patch.object(objects, 'BIOSSettingList', autospec=True) @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_cache_exception_bios_registry(self, mock_get_system, mock_setting_list): create_list = [] update_list = [] delete_list = [] nochange_list = [] mock_setting_list.sync_node_setting.return_value = ( create_list, update_list, delete_list, nochange_list ) mock_get_system.return_value.bios.attributes = self.settings with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: bios = mock_get_system(task.node).bios bios.reset_bios.side_effect = sushy.exceptions.SushyError task.driver.bios.cache_bios_settings(task) mock_setting_list.sync_node_setting.assert_called_once_with( task.context, task.node.id, self.expected_no_registry)"," task.context, task.node.id, [{'name': 'foo', 'value': 'bar'}]) task.context, task.node.id, [{'name': 'foo', 'value': 'bar'}]) data = [{'name': 'ProcTurboMode', 'value': 'Enabled'}] data = [{'name': 'ProcTurboMode', 'value': 'Disabled'}, {'name': 'NicBoot1', 'value': 'NetworkBoot'}] data = [{'name': 'ProcTurboMode', 'value': 'Enabled'}]",249,7
openstack%2Fneutron~master~I9303f70c4b9eccd5e35d09f2ff0774aefbaa7710,openstack/neutron,master,I9303f70c4b9eccd5e35d09f2ff0774aefbaa7710,Add tests for L3 conntrack helper API's new policy rules,MERGED,2021-04-01 09:00:41.000000000,2021-05-20 08:51:17.000000000,2021-05-20 08:49:15.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 09:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd3ec5d0355808e96b96372aead3a7b97e9aed8b', 'message': ""Add tests for L3 conntrack helper API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I9303f70c4b9eccd5e35d09f2ff0774aefbaa7710\n""}, {'number': 2, 'created': '2021-04-12 13:06:26.000000000', 'files': ['neutron/tests/unit/conf/policies/test_l3_conntrack_helper.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d4f5e46459103c1b6e8699cf4d64ff23d0520eb', 'message': ""Add tests for L3 conntrack helper API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I9303f70c4b9eccd5e35d09f2ff0774aefbaa7710\n""}]",9,784209,5d4f5e46459103c1b6e8699cf4d64ff23d0520eb,19,4,2,11975,,,0,"Add tests for L3 conntrack helper API's new policy rules

Related-blueprint: bp/secure-rbac-roles
Change-Id: I9303f70c4b9eccd5e35d09f2ff0774aefbaa7710
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/784209/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/conf/policies/test_l3_conntrack_helper.py'],1,cd3ec5d0355808e96b96372aead3a7b97e9aed8b,secure-rbac,"# Copyright (c) 2021 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from unittest import mock from oslo_policy import policy as base_policy from oslo_utils import uuidutils from neutron import policy from neutron.tests.unit.conf.policies import base class L3ConntrackHelperAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(L3ConntrackHelperAPITestCase, self).setUp() self.router = { 'id': uuidutils.generate_uuid(), 'project_id': self.project_id} self.target = { 'project_id': self.project_id, 'router_id': self.router['id'], 'ext_parent_router_id': self.router['id']} self.alt_target = { 'project_id': self.alt_project_id, 'router_id': self.router['id'], 'ext_parent_router_id': self.router['id']} self.plugin_mock = mock.Mock() self.plugin_mock.get_router.return_value = self.router mock.patch( 'neutron_lib.plugins.directory.get_plugin', return_value=self.plugin_mock).start() class SystemAdminTests(L3ConntrackHelperAPITestCase): def setUp(self): super(SystemAdminTests, self).setUp() self.context = self.system_admin_ctx def test_create_router_conntrack_helper(self): self.assertTrue( policy.enforce(self.context, 'create_router_conntrack_helper', self.target)) def test_get_router_conntrack_helper(self): self.assertTrue( policy.enforce(self.context, 'get_router_conntrack_helper', self.target)) def test_update_router_conntrack_helper(self): self.assertTrue( policy.enforce(self.context, 'update_router_conntrack_helper', self.target)) def test_delete_router_conntrack_helper(self): self.assertTrue( policy.enforce(self.context, 'delete_router_conntrack_helper', self.target)) class SystemMemberTests(L3ConntrackHelperAPITestCase): def setUp(self): super(SystemMemberTests, self).setUp() self.context = self.system_member_ctx def test_create_router_conntrack_helper(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_router_conntrack_helper', self.target) def test_get_router_conntrack_helper(self): self.assertTrue( policy.enforce(self.context, 'get_router_conntrack_helper', self.target)) def test_update_router_conntrack_helper(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_router_conntrack_helper', self.target) def test_delete_router_conntrack_helper(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_router_conntrack_helper', self.target) class SystemReaderTests(SystemMemberTests): def setUp(self): super(SystemReaderTests, self).setUp() self.context = self.system_reader_ctx class ProjectAdminTests(L3ConntrackHelperAPITestCase): def setUp(self): super(ProjectAdminTests, self).setUp() self.context = self.project_admin_ctx def test_create_router_conntrack_helper(self): self.assertTrue( policy.enforce(self.context, 'create_router_conntrack_helper', self.target)) def test_create_router_conntrack_helper_other_project(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_router_conntrack_helper', self.alt_target) def test_get_router_conntrack_helper(self): self.assertTrue( policy.enforce(self.context, 'get_router_conntrack_helper', self.target)) def test_get_router_conntrack_helper_other_project(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_router_conntrack_helper', self.alt_target) def test_update_router_conntrack_helper(self): self.assertTrue( policy.enforce(self.context, 'update_router_conntrack_helper', self.target)) def test_update_router_conntrack_helper_other_project(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_router_conntrack_helper', self.alt_target) def test_delete_router_conntrack_helper(self): self.assertTrue( policy.enforce(self.context, 'delete_router_conntrack_helper', self.target)) def test_delete_router_conntrack_helper_other_project(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_router_conntrack_helper', self.alt_target) class ProjectMemberTests(ProjectAdminTests): def setUp(self): super(ProjectMemberTests, self).setUp() self.context = self.project_member_ctx class ProjectReaderTests(L3ConntrackHelperAPITestCase): def setUp(self): super(ProjectReaderTests, self).setUp() self.context = self.project_reader_ctx def test_create_router_conntrack_helper(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_router_conntrack_helper', self.target) def test_create_router_conntrack_helper_other_project(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_router_conntrack_helper', self.alt_target) def test_get_router_conntrack_helper(self): self.assertTrue( policy.enforce(self.context, 'get_router_conntrack_helper', self.target)) def test_get_router_conntrack_helper_other_project(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_router_conntrack_helper', self.alt_target) def test_update_router_conntrack_helper(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_router_conntrack_helper', self.target) def test_update_router_conntrack_helper_other_project(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_router_conntrack_helper', self.alt_target) def test_delete_router_conntrack_helper(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_router_conntrack_helper', self.target) def test_delete_router_conntrack_helper_other_project(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_router_conntrack_helper', self.alt_target) ",,222,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0b30b47240950320c00735d284be631b6ccfe910,openstack/tripleo-heat-templates,stable/train,I0b30b47240950320c00735d284be631b6ccfe910,Set tags on all OS::Neutron::Port resources,ABANDONED,2021-05-19 17:47:30.000000000,2021-05-20 08:50:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-19 17:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/889965a519999b06a1925060586d8fde0c7dbfad', 'message': 'Set tags on all OS::Neutron::Port resources\n\nThis combines several changes that added tags to port\nresources into one commit.\n\nSet up tag hints on all OS::Neutron::Port resources.\nThe network-data-v2 work uses tags on neutron resources\nto find existing resources so that we update instead\nof create. Also for generating environment files info\nin the neutron tag field is utilized.\n\nConflicts:\n  network/ports/deployed_port.j2\n  network/ports/deployed_vip_port.j2\n  network/ports/port.j2\n  network/ports/port_from_pool.j2\n  network/ports/vip.yaml\n  overcloud.j2.yaml\n\n(cherry picked from commit 28f2a709124f62469acafb64110f755edec82636)\n(cherry picked from commit 6d39c90a22d850cf449f1900cff32e8b2a1803c3)\n(cherry picked from commit cea78ad4fd84984528e990694342ba2dc38b6959)\n(cherry picked from commit 73684d0a894599e331e323597c3705453baab4d0)\nChange-Id: I0b30b47240950320c00735d284be631b6ccfe910\n'}, {'number': 2, 'created': '2021-05-19 20:45:05.000000000', 'files': ['network/ports/noop.yaml', 'network/ports/ovn_mac_addr_port.yaml', 'network/ports/vip_v6.yaml', 'overcloud.j2.yaml', 'puppet/role.role.j2.yaml', 'network/ports/ctlplane_vip.yaml', 'deployed-server/deployed-server.yaml', 'deployed-server/deployed-neutron-port.yaml', 'network/ports/from_service.yaml', 'network/ports/vip.yaml', 'network/ports/from_service_v6.yaml', 'network/ports/port.j2', 'network/ports/port_from_pool.j2', 'deployed-server/ctlplane-port.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3dc30d63c953c44d7dba21c363f1a218aa279501', 'message': 'Set tags on all OS::Neutron::Port resources\n\nThis combines several changes that added tags to port\nresources into one commit.\n\nSet up tag hints on all OS::Neutron::Port resources.\nThe network-data-v2 work uses tags on neutron resources\nto find existing resources so that we update instead\nof create. Also for generating environment files info\nin the neutron tag field is utilized.\n\nConflicts:\n  network/ports/deployed_port.j2\n  network/ports/deployed_vip_port.j2\n  network/ports/port.j2\n  network/ports/port_from_pool.j2\n  network/ports/vip.yaml\n  overcloud.j2.yaml\n\n(cherry picked from commit 28f2a709124f62469acafb64110f755edec82636)\n(cherry picked from commit 6d39c90a22d850cf449f1900cff32e8b2a1803c3)\n(cherry picked from commit cea78ad4fd84984528e990694342ba2dc38b6959)\n(cherry picked from commit 73684d0a894599e331e323597c3705453baab4d0)\n(cherry picked from commit d3b8515c4f389fbd8ff0cf9eb65b0b73f730724a)\nChange-Id: I0b30b47240950320c00735d284be631b6ccfe910\n'}]",0,792226,3dc30d63c953c44d7dba21c363f1a218aa279501,7,2,2,24245,,,0,"Set tags on all OS::Neutron::Port resources

This combines several changes that added tags to port
resources into one commit.

Set up tag hints on all OS::Neutron::Port resources.
The network-data-v2 work uses tags on neutron resources
to find existing resources so that we update instead
of create. Also for generating environment files info
in the neutron tag field is utilized.

Conflicts:
  network/ports/deployed_port.j2
  network/ports/deployed_vip_port.j2
  network/ports/port.j2
  network/ports/port_from_pool.j2
  network/ports/vip.yaml
  overcloud.j2.yaml

(cherry picked from commit 28f2a709124f62469acafb64110f755edec82636)
(cherry picked from commit 6d39c90a22d850cf449f1900cff32e8b2a1803c3)
(cherry picked from commit cea78ad4fd84984528e990694342ba2dc38b6959)
(cherry picked from commit 73684d0a894599e331e323597c3705453baab4d0)
(cherry picked from commit d3b8515c4f389fbd8ff0cf9eb65b0b73f730724a)
Change-Id: I0b30b47240950320c00735d284be631b6ccfe910
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/792226/2 && git format-patch -1 --stdout FETCH_HEAD,"['network/ports/noop.yaml', 'network/ports/ovn_mac_addr_port.yaml', 'network/ports/vip_v6.yaml', 'overcloud.j2.yaml', 'puppet/role.role.j2.yaml', 'network/ports/ctlplane_vip.yaml', 'deployed-server/deployed-server.yaml', 'deployed-server/deployed-neutron-port.yaml', 'network/ports/from_service.yaml', 'network/ports/vip.yaml', 'network/ports/from_service_v6.yaml', 'network/ports/port.j2', 'network/ports/port_from_pool.j2', 'deployed-server/ctlplane-port.yaml']",14,889965a519999b06a1925060586d8fde0c7dbfad,network-data-v2-tht-tag-backports, RootStackName: description: The name of the stack/plan. type: string tags: - str_replace: template: tripleo_stack_name=$STACK_NAME params: $STACK_NAME: {get_param: RootStackName},,131,2
openstack%2Ffreezer-tempest-plugin~master~Ia4435a9694c68568cdb57565b6d992d3332dc36a,openstack/freezer-tempest-plugin,master,Ia4435a9694c68568cdb57565b6d992d3332dc36a,Migrate from testr to stestr,NEW,2021-05-17 11:57:05.000000000,2021-05-20 08:49:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-05-17 11:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/ca555734346e5a1848b4c11f940f9e4ba8dea35a', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use 3.18.0 as the minversion for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: Ia4435a9694c68568cdb57565b6d992d3332dc36a\n'}, {'number': 2, 'created': '2021-05-18 04:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/94845b36d2ba93e4fc3dda4cc7f32d27d38646b8', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use 3.18.0 as the minversion for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n* Add coverage as deps in cover environment\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: Ia4435a9694c68568cdb57565b6d992d3332dc36a\n'}, {'number': 3, 'created': '2021-05-20 08:02:45.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.zuul.yaml', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/a3d1172997f44d811631820fdd57ebe7a1c889c9', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use 3.18.0 as the minversion for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: Ia4435a9694c68568cdb57565b6d992d3332dc36a\n'}]",0,791737,a3d1172997f44d811631820fdd57ebe7a1c889c9,9,2,3,33370,,,0,"Migrate from testr to stestr

* Replace .testr.conf by .stestr.conf for migration and update
  .gitignore and test-requirements.txt file accordingly
* Use 3.18.0 as the minversion for tox
* Add a new job, openstack-cover-jobs, to run the coverage in Zuul

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: Ia4435a9694c68568cdb57565b6d992d3332dc36a
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/37/791737/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', '.zuul.yaml', 'tox.ini', '.stestr.conf']",6,ca555734346e5a1848b4c11f940f9e4ba8dea35a,stestr,[DEFAULT] test_path=./freezer_tempest_plugin/tests/ top_dir=./ ,,21,11
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I26c18a98ebfb3b55a769e5c3854bc06fd8468550,openstack/tripleo-heat-templates,stable/ussuri,I26c18a98ebfb3b55a769e5c3854bc06fd8468550,Set tags on all OS::Neutron::Port resources,ABANDONED,2021-05-19 17:46:48.000000000,2021-05-20 08:49:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-19 17:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7113ba6044f4e5a60aeb0ff8e9ff3e7f9bbc707', 'message': 'Set tags on all OS::Neutron::Port resources\n\nThis combines several changes that added tags to port\nresources into one commit.\n\nSet up tag hints on all OS::Neutron::Port resources.\nThe network-data-v2 work uses tags on neutron resources\nto find existing resources so that we update instead\nof create. Also for generating environment files info\nin the neutron tag field is utilized.\n\nConflicts:\n  network/ports/deployed_port.j2\n  network/ports/deployed_vip_port.j2\n  network/ports/port.j2\n  network/ports/port_from_pool.j2\n\nRelated: blueprint network-data-v2-ports\n(cherry picked from commit 28f2a709124f62469acafb64110f755edec82636)\n(cherry picked from commit 6d39c90a22d850cf449f1900cff32e8b2a1803c3)\n(cherry picked from commit cea78ad4fd84984528e990694342ba2dc38b6959)\n(cherry picked from commit 73684d0a894599e331e323597c3705453baab4d0)\nChange-Id: I26c18a98ebfb3b55a769e5c3854bc06fd8468550\n'}, {'number': 2, 'created': '2021-05-19 20:44:03.000000000', 'files': ['network/ports/noop.yaml', 'network/ports/ovn_mac_addr_port.yaml', 'network/ports/vip_v6.yaml', 'overcloud.j2.yaml', 'puppet/role.role.j2.yaml', 'network/ports/ctlplane_vip.yaml', 'deployed-server/deployed-server.yaml', 'deployed-server/deployed-neutron-port.yaml', 'network/ports/from_service.yaml', 'network/ports/vip.yaml', 'network/ports/from_service_v6.yaml', 'network/ports/port.j2', 'network/ports/port_from_pool.j2', 'deployed-server/ctlplane-port.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c0b26e2ec0830a5ed2d0bde50464d91eac36879', 'message': 'Set tags on all OS::Neutron::Port resources\n\nThis combines several changes that added tags to port\nresources into one commit.\n\nSet up tag hints on all OS::Neutron::Port resources.\nThe network-data-v2 work uses tags on neutron resources\nto find existing resources so that we update instead\nof create. Also for generating environment files info\nin the neutron tag field is utilized.\n\nConflicts:\n  network/ports/deployed_port.j2\n  network/ports/deployed_vip_port.j2\n  network/ports/port.j2\n  network/ports/port_from_pool.j2\n\nRelated: blueprint network-data-v2-ports\n(cherry picked from commit 28f2a709124f62469acafb64110f755edec82636)\n(cherry picked from commit 6d39c90a22d850cf449f1900cff32e8b2a1803c3)\n(cherry picked from commit cea78ad4fd84984528e990694342ba2dc38b6959)\n(cherry picked from commit 73684d0a894599e331e323597c3705453baab4d0)\n(cherry picked from commit d3b8515c4f389fbd8ff0cf9eb65b0b73f730724a)\nChange-Id: I26c18a98ebfb3b55a769e5c3854bc06fd8468550\n'}]",0,792224,3c0b26e2ec0830a5ed2d0bde50464d91eac36879,7,2,2,24245,,,0,"Set tags on all OS::Neutron::Port resources

This combines several changes that added tags to port
resources into one commit.

Set up tag hints on all OS::Neutron::Port resources.
The network-data-v2 work uses tags on neutron resources
to find existing resources so that we update instead
of create. Also for generating environment files info
in the neutron tag field is utilized.

Conflicts:
  network/ports/deployed_port.j2
  network/ports/deployed_vip_port.j2
  network/ports/port.j2
  network/ports/port_from_pool.j2

Related: blueprint network-data-v2-ports
(cherry picked from commit 28f2a709124f62469acafb64110f755edec82636)
(cherry picked from commit 6d39c90a22d850cf449f1900cff32e8b2a1803c3)
(cherry picked from commit cea78ad4fd84984528e990694342ba2dc38b6959)
(cherry picked from commit 73684d0a894599e331e323597c3705453baab4d0)
(cherry picked from commit d3b8515c4f389fbd8ff0cf9eb65b0b73f730724a)
Change-Id: I26c18a98ebfb3b55a769e5c3854bc06fd8468550
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/792224/2 && git format-patch -1 --stdout FETCH_HEAD,"['network/ports/noop.yaml', 'network/ports/ovn_mac_addr_port.yaml', 'network/ports/vip_v6.yaml', 'overcloud.j2.yaml', 'puppet/role.role.j2.yaml', 'network/ports/ctlplane_vip.yaml', 'deployed-server/deployed-server.yaml', 'deployed-server/deployed-neutron-port.yaml', 'network/ports/from_service.yaml', 'network/ports/vip.yaml', 'network/ports/from_service_v6.yaml', 'network/ports/port.j2', 'network/ports/port_from_pool.j2', 'deployed-server/ctlplane-port.yaml']",14,c7113ba6044f4e5a60aeb0ff8e9ff3e7f9bbc707,network-data-v2-tht-tag-backports, RootStackName: description: The name of the stack/plan. type: string tags: - str_replace: template: tripleo_stack_name=$STACK_NAME params: $STACK_NAME: {get_param: RootStackName},,131,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I918e225c799ab8130013ef2d2fbe1fdf669fc269,openstack/tripleo-heat-templates,stable/train,I918e225c799ab8130013ef2d2fbe1fdf669fc269,Add tags to THT network resources,ABANDONED,2021-05-19 17:47:30.000000000,2021-05-20 08:48:28.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-19 17:47:30.000000000', 'files': ['network/network.j2', 'tools/process-templates.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d497d369263f2c392b00bd44890f6bfea0c25523', 'message': ""Add tags to THT network resources\n\nThis combines several changes that added tags to\nnetwork resources into one commit.\n\nAdd tripleo_vip and tripleo_service_net_map_replace\ntags.\n\n  These tags are used by the tool that extracts\n  network information from the stack and generates\n  a network-v2 yaml definition\n\nAdd an index tag on neutron network resources\n\n  When using the multiple nic-config templates in THT\n  and in tripleo-ansible the ordering of networks in\n  the network_data file matters.\n\n  Add a a tag 'tripleo_net_idx' to neutron resources\n  to keep track of the ordering.\n\nAdd tripleo_network_name tag hint to networks\n\n  The ansible module to manage networks sets the name\n  upper as a tag hint on the neutron network resources.\n  tripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py#L124\n\nConflicts:\n  network/network.j2\n\nDepends-On: https://review.opendev.org/778817\nDepends-On: https://review.opendev.org/792208\n(cherry picked from commit 2aace23d2386bcc777d4f6984553a4a5a5cb8483)\n(cherry picked from commit 2d0125ed4023eb7c524d09a0e5865e8d3e22a492)\n(cherry picked from commit 70dc61cc0a5f99ce3d1368dc226ba4292866f22f)\nChange-Id: I918e225c799ab8130013ef2d2fbe1fdf669fc269\n""}]",0,792225,d497d369263f2c392b00bd44890f6bfea0c25523,9,3,1,24245,,,0,"Add tags to THT network resources

This combines several changes that added tags to
network resources into one commit.

Add tripleo_vip and tripleo_service_net_map_replace
tags.

  These tags are used by the tool that extracts
  network information from the stack and generates
  a network-v2 yaml definition

Add an index tag on neutron network resources

  When using the multiple nic-config templates in THT
  and in tripleo-ansible the ordering of networks in
  the network_data file matters.

  Add a a tag 'tripleo_net_idx' to neutron resources
  to keep track of the ordering.

Add tripleo_network_name tag hint to networks

  The ansible module to manage networks sets the name
  upper as a tag hint on the neutron network resources.
  tripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py#L124

Conflicts:
  network/network.j2

Depends-On: https://review.opendev.org/778817
Depends-On: https://review.opendev.org/792208
(cherry picked from commit 2aace23d2386bcc777d4f6984553a4a5a5cb8483)
(cherry picked from commit 2d0125ed4023eb7c524d09a0e5865e8d3e22a492)
(cherry picked from commit 70dc61cc0a5f99ce3d1368dc226ba4292866f22f)
Change-Id: I918e225c799ab8130013ef2d2fbe1fdf669fc269
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/792225/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/network.j2', 'tools/process-templates.py']",2,d497d369263f2c392b00bd44890f6bfea0c25523,network-data-v2-tht-tag-backports," # Set internal network index key for each network, network resources # are created with a tag tripleo_net_idx for idx, net in enumerate(network_data): network_data[idx].update({'idx': idx}) ",,25,2
openstack%2Fopenstack-ansible-os_nova~master~Ie4177b432befd7bbb8c513cab9647a78bfe1efb5,openstack/openstack-ansible-os_nova,master,Ie4177b432befd7bbb8c513cab9647a78bfe1efb5,Update cells data if config is changed,ABANDONED,2021-04-15 11:10:09.000000000,2021-05-20 08:46:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-04-15 11:10:09.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/10590fcd4d8d8eae9b51cbaf259c6dff2287d782', 'message': 'Update cells data if config is changed\n\nCells mapping stores  transport_url along with database_connection inside\ndatabase itself. Thus, any config changes are not applied automatically\nby nova-conducotr and cell update is required to\napply these changes.\n\nChange-Id: Ie4177b432befd7bbb8c513cab9647a78bfe1efb5\n'}]",0,786389,10590fcd4d8d8eae9b51cbaf259c6dff2287d782,4,2,1,28619,,,0,"Update cells data if config is changed

Cells mapping stores  transport_url along with database_connection inside
database itself. Thus, any config changes are not applied automatically
by nova-conducotr and cell update is required to
apply these changes.

Change-Id: Ie4177b432befd7bbb8c513cab9647a78bfe1efb5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/89/786389/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,10590fcd4d8d8eae9b51cbaf259c6dff2287d782,,"- name: ""Update {{ nova_cell1_name }} with new config"" command: ""{{ nova_bin }}/nova-manage cell_v2 update_cell --cell_uuid {{ cell1_uuid['stdout'].split()[3] }}"" become: yes become_user: ""{{ nova_system_user_name }}"" changed_when: false when: - ""nova_cell1_create.rc == 2"" - _nova_is_first_play_host listen: - ""Restart nova services"" ",,11,0
openstack%2Fnetworking-odl~master~Iaadc40382efa8562bc706ba3dc95e87718d4b152,openstack/networking-odl,master,Iaadc40382efa8562bc706ba3dc95e87718d4b152,"Retrieve the agent using ""get_agent_objects""",MERGED,2021-05-18 16:51:50.000000000,2021-05-20 08:45:17.000000000,2021-05-20 08:43:58.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 16:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5492a67071697d21a91eb87239f5e225783530d7', 'message': 'Retrieve the agent using ""get_agent_objects""\n\n""AgentDbMixin.get_agents_db"" is going to be deprecated.\n\nTrivial-Fix\n\nChange-Id: Iaadc40382efa8562bc706ba3dc95e87718d4b152\n'}, {'number': 2, 'created': '2021-05-19 13:45:08.000000000', 'files': ['networking_odl/ml2/pseudo_agentdb_binding.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2470f7f02d0959078abf3021118bb30cfcfc4a7c', 'message': 'Retrieve the agent using ""get_agent_objects""\n\n""AgentDbMixin.get_agents_db"" is going to be deprecated.\n\nTrivial-Fix\n\nChange-Id: Iaadc40382efa8562bc706ba3dc95e87718d4b152\n'}]",0,792014,2470f7f02d0959078abf3021118bb30cfcfc4a7c,11,4,2,16688,,,0,"Retrieve the agent using ""get_agent_objects""

""AgentDbMixin.get_agents_db"" is going to be deprecated.

Trivial-Fix

Change-Id: Iaadc40382efa8562bc706ba3dc95e87718d4b152
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/14/792014/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/ml2/pseudo_agentdb_binding.py'],1,5492a67071697d21a91eb87239f5e225783530d7,get_agents_objects, agent = self.agents_db.get_agent_objects(, # TODO(rsood): get_agent can be used here agent = self.agents_db.get_agents_db(,1,2
openstack%2Fnova~master~I027a72b090ec9c5c7d2e2127004054aadd896790,openstack/nova,master,I027a72b090ec9c5c7d2e2127004054aadd896790,DO NOT REVIEW: Test OVN devstack module,ABANDONED,2021-02-22 15:14:16.000000000,2021-05-20 08:41:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-22 15:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6722f5456c395bf4e1bc27ef9f27ac3c65a42c72', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: I027a72b090ec9c5c7d2e2127004054aadd896790\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2021-02-22 15:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5287641d96ba13111d6c2567316111ca2b6a398e', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: I027a72b090ec9c5c7d2e2127004054aadd896790\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2021-02-22 15:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ccb3cd7456ad514651c59a6ffe3b23dcbcb2805c', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: I027a72b090ec9c5c7d2e2127004054aadd896790\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2021-02-23 10:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cecbee4495493b7e3808c60c85d64d5e79c11784', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: I027a72b090ec9c5c7d2e2127004054aadd896790\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2021-02-23 15:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0db29d6f624b8e4c05fb183d37ca4167dcc141dc', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: I027a72b090ec9c5c7d2e2127004054aadd896790\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2021-04-08 13:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f27690e2a3f2f7090f079b24d195a7d32cf2ea0f', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: I027a72b090ec9c5c7d2e2127004054aadd896790\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2021-04-16 10:56:33.000000000', 'files': ['nova/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/68f2e52e681559f8377828607aa1ed10efbb06bc', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: I027a72b090ec9c5c7d2e2127004054aadd896790\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,776945,68f2e52e681559f8377828607aa1ed10efbb06bc,53,1,7,6773,,,0,"DO NOT REVIEW: Test OVN devstack module

Depends-On: https://review.opendev.org/#/c/735097
Change-Id: I027a72b090ec9c5c7d2e2127004054aadd896790
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/776945/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/manager.py'],1,6722f5456c395bf4e1bc27ef9f27ac3c65a42c72,ovn-devstack,Testing. ,,2,0
openstack%2Foctavia~master~I82c99f35f957c87ed9f08b7bdf88a5b0e212547f,openstack/octavia,master,I82c99f35f957c87ed9f08b7bdf88a5b0e212547f,DO NOT REVIEW: Test OVN devstack module,ABANDONED,2021-03-03 11:07:28.000000000,2021-05-20 08:41:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-03-03 11:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d3056ae01cd342370fcbc8707ab765a51c3cec95', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I82c99f35f957c87ed9f08b7bdf88a5b0e212547f\n'}, {'number': 2, 'created': '2021-03-15 17:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/25e5c1eb76ec3cfa8b1de953dae7a37def38e70e', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-ON: https://review.opendev.org/c/openstack/devstack/+/780628\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I82c99f35f957c87ed9f08b7bdf88a5b0e212547f\n'}, {'number': 3, 'created': '2021-03-15 21:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/51ffe3999fc780bd53679adac43e40285072e544', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-ON: https://review.opendev.org/c/openstack/devstack/+/780628\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I82c99f35f957c87ed9f08b7bdf88a5b0e212547f\n'}, {'number': 4, 'created': '2021-03-16 07:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/27af369e733963090ffc44120d02c3c89eccf5ce', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-ON: https://review.opendev.org/c/openstack/devstack/+/780628\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I82c99f35f957c87ed9f08b7bdf88a5b0e212547f\n'}, {'number': 5, 'created': '2021-03-16 08:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/239e20947912fbdbe5dadff015f7a740c5e5f264', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-ON: https://review.opendev.org/c/openstack/devstack/+/780628\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I82c99f35f957c87ed9f08b7bdf88a5b0e212547f\n'}, {'number': 6, 'created': '2021-03-16 09:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3f83d94249b0624737f7db3c997fd63bdccb97be', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-ON: https://review.opendev.org/c/openstack/devstack/+/780628\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I82c99f35f957c87ed9f08b7bdf88a5b0e212547f\n'}, {'number': 7, 'created': '2021-03-16 12:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9d8fb000d187f674ef869e1065ce51f254d99585', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-ON: https://review.opendev.org/c/openstack/devstack/+/780628\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I82c99f35f957c87ed9f08b7bdf88a5b0e212547f\n'}, {'number': 8, 'created': '2021-04-23 13:04:16.000000000', 'files': ['octavia/common/data_models.py', 'devstack/plugin.sh', 'zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e0dfc083075555c5314d55ac77420766ea8756be', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-ON: https://review.opendev.org/c/openstack/devstack/+/780628\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I82c99f35f957c87ed9f08b7bdf88a5b0e212547f\n'}]",0,778411,e0dfc083075555c5314d55ac77420766ea8756be,21,2,8,6773,,,0,"DO NOT REVIEW: Test OVN devstack module

Depends-ON: https://review.opendev.org/c/openstack/devstack/+/780628
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I82c99f35f957c87ed9f08b7bdf88a5b0e212547f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/11/778411/8 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/data_models.py'],1,d3056ae01cd342370fcbc8707ab765a51c3cec95,ovn-devstack," """"""Converts a data model to a dictionary. Foobar. """""""," """"""Converts a data model to a dictionary.""""""",4,1
openstack%2Fcinder~master~I87678538b51737d771f70bfc0d87894429ec848c,openstack/cinder,master,I87678538b51737d771f70bfc0d87894429ec848c,DO NOT REVIEW: Test OVN devstack module,ABANDONED,2020-08-26 13:21:18.000000000,2021-05-20 08:41:10.000000000,,"[{'_account_id': 6773}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-08-26 13:21:18.000000000', 'files': ['cinder/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/03fea971b3bcab2a493e860f0186418d921ee73b', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: I87678538b51737d771f70bfc0d87894429ec848c\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,748227,03fea971b3bcab2a493e860f0186418d921ee73b,129,19,1,6773,,,0,"DO NOT REVIEW: Test OVN devstack module

Depends-On: https://review.opendev.org/#/c/735097
Change-Id: I87678538b51737d771f70bfc0d87894429ec848c
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/748227/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/manager.py'],1,03fea971b3bcab2a493e860f0186418d921ee73b,ovn-devstack,Foobar. ,,2,0
openstack%2Fglance~master~Id9b9260b03de83d41670ece4923a790cf88dbb13,openstack/glance,master,Id9b9260b03de83d41670ece4923a790cf88dbb13,DO NOT REVIEW: Test OVN devstack module,ABANDONED,2020-08-27 09:44:40.000000000,2021-05-20 08:40:39.000000000,,"[{'_account_id': 6773}, {'_account_id': 9008}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 09:44:40.000000000', 'files': ['glance/common/client.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/7ccd08fed89a710bc6dbccb859fc1b484804812d', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Id9b9260b03de83d41670ece4923a790cf88dbb13\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,748390,7ccd08fed89a710bc6dbccb859fc1b484804812d,15,3,1,6773,,,0,"DO NOT REVIEW: Test OVN devstack module

Depends-On: https://review.opendev.org/#/c/735097
Change-Id: Id9b9260b03de83d41670ece4923a790cf88dbb13
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/90/748390/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/common/client.py'],1,7ccd08fed89a710bc6dbccb859fc1b484804812d,ovn-devstack, Foobar.,,2,0
openstack%2Fironic~master~I435c1a92b4fc468bb966f6580f324a5e248aa472,openstack/ironic,master,I435c1a92b4fc468bb966f6580f324a5e248aa472,DO NOT REVIEW: Test OVN devstack module,ABANDONED,2020-08-27 10:30:25.000000000,2021-05-20 08:40:36.000000000,,"[{'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 10:30:25.000000000', 'files': ['ironic/common/fsm.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b49fab3cf4c0ba66a4a9494fb3e99bfd9cdc37f1', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: I435c1a92b4fc468bb966f6580f324a5e248aa472\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,748405,b49fab3cf4c0ba66a4a9494fb3e99bfd9cdc37f1,17,5,1,6773,,,0,"DO NOT REVIEW: Test OVN devstack module

Depends-On: https://review.opendev.org/#/c/735097
Change-Id: I435c1a92b4fc468bb966f6580f324a5e248aa472
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/ironic refs/changes/05/748405/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/fsm.py'],1,b49fab3cf4c0ba66a4a9494fb3e99bfd9cdc37f1,ovn-devstack, Foobar.,,2,0
openstack%2Fkeystone~master~I497f1460b07f278e60ec0bf38c54f979c6b4ad8b,openstack/keystone,master,I497f1460b07f278e60ec0bf38c54f979c6b4ad8b,DO NOT REVIEW: Test OVN devstack module,ABANDONED,2021-03-01 09:53:07.000000000,2021-05-20 08:40:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-01 09:53:07.000000000', 'files': ['keystone/credential/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b83e24cdc77489b75cbcf65968d0ebb157765827', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I497f1460b07f278e60ec0bf38c54f979c6b4ad8b\n'}]",0,777963,b83e24cdc77489b75cbcf65968d0ebb157765827,4,1,1,6773,,,0,"DO NOT REVIEW: Test OVN devstack module

Depends-On: https://review.opendev.org/#/c/735097
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I497f1460b07f278e60ec0bf38c54f979c6b4ad8b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/63/777963/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/credential/core.py'],1,b83e24cdc77489b75cbcf65968d0ebb157765827,ovn-devstack, Foobar.,,1,0
openstack%2Fswift~master~I96dded54f1d02bf415bfbe7ed1f323dfb17d6e26,openstack/swift,master,I96dded54f1d02bf415bfbe7ed1f323dfb17d6e26,NOT REVIEW: Test OVN devstack module,ABANDONED,2020-08-27 10:28:49.000000000,2021-05-20 08:40:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-27 10:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4bf1f89847b636de60f0e43c23abadee968da31a', 'message': 'NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: I96dded54f1d02bf415bfbe7ed1f323dfb17d6e26\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2021-03-01 09:50:48.000000000', 'files': ['swift/common/manager.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/67d80d7ebecd9a4e738bdc5c9370f60ac2d670e4', 'message': 'NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: I96dded54f1d02bf415bfbe7ed1f323dfb17d6e26\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,748403,67d80d7ebecd9a4e738bdc5c9370f60ac2d670e4,9,1,2,6773,,,0,"NOT REVIEW: Test OVN devstack module

Depends-On: https://review.opendev.org/#/c/735097
Change-Id: I96dded54f1d02bf415bfbe7ed1f323dfb17d6e26
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/swift refs/changes/03/748403/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/manager.py'],1,4bf1f89847b636de60f0e43c23abadee968da31a,ovn-devstack, Foobar.,,2,0
openstack%2Fansible-role-python_venv_build~stable%2Ftrain~I6bbe66b699ce5ab245bb9779b61b5c4625eba927,openstack/ansible-role-python_venv_build,stable/train,I6bbe66b699ce5ab245bb9779b61b5c4625eba927,Do not drop all wheels with venv_rebuild,MERGED,2021-02-04 16:28:39.000000000,2021-05-20 08:14:50.000000000,2021-05-20 08:13:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-04 16:28:39.000000000', 'files': ['tasks/python_venv_wheel_build.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/fe05e23fcfebbc6ad960b85c78ee808549578b97', 'message': ""Do not drop all wheels with venv_rebuild\n\nRemoval of venv_build_host_wheel_path leads to all wheels for all\nservices being dropped which results in other role brokeness\nsince we build wheels only when requirements or constraints\nfile is changed. Also we technically don't need to clean it up, since\nremoval of just rest of the files will lead to wheels being rebuild.\n\nThis change should make usage venv_rebuild safe and not breaking wheels\nfor all services rather then single one.\n\nChange-Id: I6bbe66b699ce5ab245bb9779b61b5c4625eba927\nRelated-Bug: #1914301\n(cherry picked from commit 9e7877d55af8088533f623deccfa8f3b48dfc398)\n""}]",0,773973,fe05e23fcfebbc6ad960b85c78ee808549578b97,22,3,1,28619,,,0,"Do not drop all wheels with venv_rebuild

Removal of venv_build_host_wheel_path leads to all wheels for all
services being dropped which results in other role brokeness
since we build wheels only when requirements or constraints
file is changed. Also we technically don't need to clean it up, since
removal of just rest of the files will lead to wheels being rebuild.

This change should make usage venv_rebuild safe and not breaking wheels
for all services rather then single one.

Change-Id: I6bbe66b699ce5ab245bb9779b61b5c4625eba927
Related-Bug: #1914301
(cherry picked from commit 9e7877d55af8088533f623deccfa8f3b48dfc398)
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/73/773973/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/python_venv_wheel_build.yml'],1,fe05e23fcfebbc6ad960b85c78ee808549578b97,bug/1914301-stable/train,," - ""{{ venv_build_host_wheel_path }}""",0,1
openstack%2Fneutron~master~Ia3cdbfbb4146300d95b7f4a7a2e2c8e9ba4fa23e,openstack/neutron,master,Ia3cdbfbb4146300d95b7f4a7a2e2c8e9ba4fa23e,[DNM] test FTs,ABANDONED,2021-05-18 14:44:18.000000000,2021-05-20 08:07:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-18 14:44:18.000000000', 'files': ['neutron/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/68f0f92cebc3c4eac4eadd9d823c46ef0d1e0f03', 'message': '[DNM] test FTs\n\nChange-Id: Ia3cdbfbb4146300d95b7f4a7a2e2c8e9ba4fa23e\n'}]",0,791991,68f0f92cebc3c4eac4eadd9d823c46ef0d1e0f03,6,1,1,16688,,,0,"[DNM] test FTs

Change-Id: Ia3cdbfbb4146300d95b7f4a7a2e2c8e9ba4fa23e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/791991/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/base.py'],1,68f0f92cebc3c4eac4eadd9d823c46ef0d1e0f03,test_1928805,TEST = 'yes',,1,0
openstack%2Fneutron~master~I0cf458f4532d313e593a943653e8310b93ac1e9c,openstack/neutron,master,I0cf458f4532d313e593a943653e8310b93ac1e9c,"Install ""pyroute2"" as a doc job depedency",MERGED,2021-05-19 14:37:48.000000000,2021-05-20 07:52:30.000000000,2021-05-20 07:50:30.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 14:37:48.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e6b7a2284a39ae74d2092083165e3fdf4cb8f33', 'message': 'Install ""pyroute2"" as a doc job depedency\n\nBy adding this library to the doc requirements file, tox will install\nit limiting the upper version according to\n""requirements/upper-constraints.txt"".\n\n""pyroute2"" is called in tox doc job as mentioned in [1]. Since version\n0.6.0, the library structure changed. To keep backwards compatibility,\nall modules are imported from the main namespace. As reported in the\nreferred bug, the library ""mitogen"" must be installed first.\n\nIn stable releases that use older ""pyroute2"" versions, this library is\nnot needed but this patch should enforce the upper library version.\n\nRelated-Bug: #1928913\n\n[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40\n\nChange-Id: I0cf458f4532d313e593a943653e8310b93ac1e9c\n'}]",1,792180,9e6b7a2284a39ae74d2092083165e3fdf4cb8f33,12,4,1,16688,,,0,"Install ""pyroute2"" as a doc job depedency

By adding this library to the doc requirements file, tox will install
it limiting the upper version according to
""requirements/upper-constraints.txt"".

""pyroute2"" is called in tox doc job as mentioned in [1]. Since version
0.6.0, the library structure changed. To keep backwards compatibility,
all modules are imported from the main namespace. As reported in the
referred bug, the library ""mitogen"" must be installed first.

In stable releases that use older ""pyroute2"" versions, this library is
not needed but this patch should enforce the upper library version.

Related-Bug: #1928913

[1]https://github.com/openstack/neutron/blob/2a4074918c248adf84b0afa404d30c18710da4b2/doc/source/conf.py#L33-L40

Change-Id: I0cf458f4532d313e593a943653e8310b93ac1e9c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/792180/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,9e6b7a2284a39ae74d2092083165e3fdf4cb8f33,bug/1928913,# NOTE(ralonsoh): pyroute2 module should be installed and the version limited # according to upper-constraints.txt pyroute2>=0.5.13;sys_platform!='win32' # Apache-2.0 (+ dual licensed GPL2),,3,0
openstack%2Frequirements~master~Idc03994206d4a8fbfe6e7e4f930169993742f8de,openstack/requirements,master,Idc03994206d4a8fbfe6e7e4f930169993742f8de,update constraint for openstacksdk to new release 0.57.0,MERGED,2021-05-19 15:32:50.000000000,2021-05-20 07:52:07.000000000,2021-05-20 07:50:17.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 15:32:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/31d3485952a98d3c6d927a3e1edee0052962278e', 'message': 'update constraint for openstacksdk to new release 0.57.0\n\nmeta: version: 0.57.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Artem Goncharov <Artem.goncharov@gmail.com>\nmeta: release:Commit: Artem Goncharov <Artem.goncharov@gmail.com>\nmeta: release:Change-Id: Id95dc32e2cd72f8e3d217146d02160a6cff05485\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Stephen Finucane <stephenfin@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Idc03994206d4a8fbfe6e7e4f930169993742f8de\n'}]",0,792190,31d3485952a98d3c6d927a3e1edee0052962278e,16,2,1,11131,,,0,"update constraint for openstacksdk to new release 0.57.0

meta: version: 0.57.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Artem Goncharov <Artem.goncharov@gmail.com>
meta: release:Commit: Artem Goncharov <Artem.goncharov@gmail.com>
meta: release:Change-Id: Id95dc32e2cd72f8e3d217146d02160a6cff05485
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Stephen Finucane <stephenfin@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Idc03994206d4a8fbfe6e7e4f930169993742f8de
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/792190/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,31d3485952a98d3c6d927a3e1edee0052962278e,new-release,openstacksdk===0.57.0,openstacksdk===0.56.0,1,1
openstack%2Ftripleo-validations~master~I6bad5dbf13799a6348475fd9bac0ddfb203786fd,openstack/tripleo-validations,master,I6bad5dbf13799a6348475fd9bac0ddfb203786fd,Remove tripleo-validations CI roles,MERGED,2021-04-28 21:35:08.000000000,2021-05-20 07:26:50.000000000,2021-05-20 07:25:30.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-28 21:35:08.000000000', 'files': ['roles/tripleo_validations/tasks/test_script.yml', 'roles/tripleo_validations/tasks/run.yml', 'roles/tripleo_validations/defaults/main.yml', 'roles/tripleo_validations/templates/run-validations-cli-tests.sh.j2', 'roles/tripleo_validations/tasks/main.yml', 'roles/tripleo_validations/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5b2aa897daa20aebc5da8e4c805e53c0740091c3', 'message': 'Remove tripleo-validations CI roles\n\nThe validations-common role will replace the tripleo-validations\nrole to run Tripleo upstream CI\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/788513\nChange-Id: I6bad5dbf13799a6348475fd9bac0ddfb203786fd\n'}]",0,788617,5b2aa897daa20aebc5da8e4c805e53c0740091c3,16,6,1,16515,,,0,"Remove tripleo-validations CI roles

The validations-common role will replace the tripleo-validations
role to run Tripleo upstream CI

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/788513
Change-Id: I6bad5dbf13799a6348475fd9bac0ddfb203786fd
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/17/788617/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_validations/tasks/test_script.yml', 'roles/tripleo_validations/tasks/run.yml', 'roles/tripleo_validations/defaults/main.yml', 'roles/tripleo_validations/templates/run-validations-cli-tests.sh.j2', 'roles/tripleo_validations/tasks/main.yml', 'roles/tripleo_validations/vars/main.yml']",6,5b2aa897daa20aebc5da8e4c805e53c0740091c3,validation/roles,,--- validations_list: compute: - nova-status network: - undercloud-neutron-sanity-check validation: - check-cpu - 512e tripleo: - undercloud-process-count validations_group: compute: - compute network: - network ,0,262
openstack%2Ftripleo-validations~stable%2Fvictoria~I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9,openstack/tripleo-validations,stable/victoria,I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9,Check for dangling images,MERGED,2021-05-14 19:46:52.000000000,2021-05-20 07:22:42.000000000,2021-05-20 07:18:15.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-14 19:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bd87790cf9f14b8846944202fa949d680aaf1e4a', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n(cherry picked from commit adf99a73bf81794075c53a641d0d22ba5fc710cb)\n'}, {'number': 2, 'created': '2021-05-14 20:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bdef2dfb04618e90c4c47c98caba2411de18806f', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n(cherry picked from commit adf99a73bf81794075c53a641d0d22ba5fc710cb)\n'}, {'number': 3, 'created': '2021-05-14 20:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/729646a7fb2c45f5b02fcc94c17a207225359d8d', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n(cherry picked from commit adf99a73bf81794075c53a641d0d22ba5fc710cb)\n'}, {'number': 4, 'created': '2021-05-14 20:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7f7b77d81f985945a1fe9d8e77b3a6e60a980a19', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n(cherry picked from commit adf99a73bf81794075c53a641d0d22ba5fc710cb)\n'}, {'number': 5, 'created': '2021-05-14 20:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/98efbf7c6dcddce6555780f59b97922f372dc9af', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n(cherry picked from commit adf99a73bf81794075c53a641d0d22ba5fc710cb)\n'}, {'number': 6, 'created': '2021-05-14 20:09:53.000000000', 'files': ['playbooks/check-for-dangling-images.yaml', 'roles/check_for_dangling_images/tasks/main.yml', 'roles/check_for_dangling_images/defaults/main.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/molecule/default/converge.yml', 'roles/check_for_dangling_images/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d996a43d05d46fc4d2fb8c361105868e7241293c', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n(cherry picked from commit adf99a73bf81794075c53a641d0d22ba5fc710cb)\n'}]",0,791538,d996a43d05d46fc4d2fb8c361105868e7241293c,14,4,6,32432,,,0,"Check for dangling images

Make sure before update we do not have any dangling images.

Basically - make sure the command:

$ podman images --filter ""dangling=true"" -q --no-trunc

returns empty.

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9
(cherry picked from commit adf99a73bf81794075c53a641d0d22ba5fc710cb)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/38/791538/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/check-for-dangling-images.yaml', 'roles/check_for_dangling_images/defaults/main.yml', 'roles/check_for_dangling_images/tasks/main.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/molecule/default/converge.yml', 'roles/check_for_dangling_images/README.md']",9,bd87790cf9f14b8846944202fa949d680aaf1e4a,stable_victoria,"Check-for-dangling-images ========================= Add Ansible role to check for dangling images Requirements ------------ This role will be executed pre Update. Role Variables -------------- * `check_for_dangling_images_debug`: <'false'> -- debugging mode. Dependencies ------------ No Dependencies Example Playbook ---------------- - hosts: servers roles: - { role: check_for_dangling_images, check_for_dangling_images_debug: true } License ------- Apache Author Information ------------------ Red Hat TripleO DFG:Upgrades ",,306,41
openstack%2Ftripleo-validations~stable%2Fussuri~I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9,openstack/tripleo-validations,stable/ussuri,I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9,Check for dangling images,MERGED,2021-05-14 19:51:39.000000000,2021-05-20 07:22:38.000000000,2021-05-20 07:18:24.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 31245}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-14 19:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/64e32639cc05fc69cd3cd1c318b6f43b6bab193f', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n(cherry picked from commit bd87790cf9f14b8846944202fa949d680aaf1e4a)\n'}, {'number': 2, 'created': '2021-05-14 19:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e39bcd9ae40c762eb328fe574fc02d411ec5d1d8', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n(cherry picked from commit bd87790cf9f14b8846944202fa949d680aaf1e4a)\n'}, {'number': 3, 'created': '2021-05-17 09:28:28.000000000', 'files': ['playbooks/check-for-dangling-images.yaml', 'roles/check_for_dangling_images/tasks/main.yml', 'roles/check_for_dangling_images/defaults/main.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/molecule/default/converge.yml', 'roles/check_for_dangling_images/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e8c2f875c812117d32c68a025652a58b77882a2d', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n(cherry picked from commit bd87790cf9f14b8846944202fa949d680aaf1e4a)\n'}]",1,791539,e8c2f875c812117d32c68a025652a58b77882a2d,13,5,3,32432,,,0,"Check for dangling images

Make sure before update we do not have any dangling images.

Basically - make sure the command:

$ podman images --filter ""dangling=true"" -q --no-trunc

returns empty.

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9
(cherry picked from commit bd87790cf9f14b8846944202fa949d680aaf1e4a)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/39/791539/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/check-for-dangling-images.yaml', 'roles/check_for_dangling_images/defaults/main.yml', 'roles/check_for_dangling_images/tasks/main.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/molecule/default/converge.yml', 'roles/check_for_dangling_images/README.md']",9,64e32639cc05fc69cd3cd1c318b6f43b6bab193f,stable_ussuri,"Check-for-dangling-images ========================= Add Ansible role to check for dangling images Requirements ------------ This role will be executed pre Update. Role Variables -------------- * `check_for_dangling_images_debug`: <'false'> -- debugging mode. Dependencies ------------ No Dependencies Example Playbook ---------------- - hosts: servers roles: - { role: check_for_dangling_images, check_for_dangling_images_debug: true } License ------- Apache Author Information ------------------ Red Hat TripleO DFG:Upgrades ",,270,1
openstack%2Ftripleo-validations~stable%2Ftrain~I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9,openstack/tripleo-validations,stable/train,I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9,Check for dangling images,MERGED,2021-05-14 20:02:01.000000000,2021-05-20 07:22:36.000000000,2021-05-20 07:18:30.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 31245}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-14 20:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e262dfb3db9ca14cf22e47ec5d446eb45c341439', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n(cherry picked from commit e39bcd9ae40c762eb328fe574fc02d411ec5d1d8)\n'}, {'number': 2, 'created': '2021-05-17 09:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a2968026d1e5200b42aeb5a5f5a31e295a94269e', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n(cherry picked from commit e39bcd9ae40c762eb328fe574fc02d411ec5d1d8)\n'}, {'number': 3, 'created': '2021-05-17 09:30:39.000000000', 'files': ['playbooks/check-for-dangling-images.yaml', 'roles/check_for_dangling_images/tasks/main.yml', 'roles/check_for_dangling_images/defaults/main.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/molecule/default/converge.yml', 'roles/check_for_dangling_images/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3e0e274573fa10511349a9a278f25d527b306a3a', 'message': 'Check for dangling images\n\nMake sure before update we do not have any dangling images.\n\nBasically - make sure the command:\n\n$ podman images --filter ""dangling=true"" -q --no-trunc\n\nreturns empty.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9\n(cherry picked from commit e39bcd9ae40c762eb328fe574fc02d411ec5d1d8)\n'}]",2,791543,3e0e274573fa10511349a9a278f25d527b306a3a,14,5,3,32432,,,0,"Check for dangling images

Make sure before update we do not have any dangling images.

Basically - make sure the command:

$ podman images --filter ""dangling=true"" -q --no-trunc

returns empty.

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I70acd9cef9e84d2c68b7bd3d82dcbd0f99c79fb9
(cherry picked from commit e39bcd9ae40c762eb328fe574fc02d411ec5d1d8)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/43/791543/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/check-for-dangling-images.yaml', 'roles/check_for_dangling_images/defaults/main.yml', 'roles/check_for_dangling_images/tasks/main.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/molecule/default/converge.yml', 'roles/check_for_dangling_images/README.md']",9,e262dfb3db9ca14cf22e47ec5d446eb45c341439,stable_train,"Check-for-dangling-images ========================= Add Ansible role to check for dangling images Requirements ------------ This role will be executed pre Update. Role Variables -------------- * `check_for_dangling_images_debug`: <'false'> -- debugging mode. Dependencies ------------ No Dependencies Example Playbook ---------------- - hosts: servers roles: - { role: check_for_dangling_images, check_for_dangling_images_debug: true } License ------- Apache Author Information ------------------ Red Hat TripleO DFG:Upgrades ",,261,1
openstack%2Ftripleo-validations~stable%2Ftrain~Ia3d9ea6c3a69392975046518d5728496a3bec998,openstack/tripleo-validations,stable/train,Ia3d9ea6c3a69392975046518d5728496a3bec998,[overcloud-service-status] Removing pre-upgrade,MERGED,2021-05-19 13:55:05.000000000,2021-05-20 07:18:08.000000000,2021-05-20 07:18:08.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-19 13:55:05.000000000', 'files': ['roles/overcloud_service_status/vars/main.yml', 'playbooks/overcloud-service-status.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/df505cc44ca5e48d1abf9a492328f128c246b608', 'message': '[overcloud-service-status] Removing pre-upgrade\n\nWhen running pre-upgrade, it triggers a failed validation during FFU\nBecause undercloud is 16.2 and the overcloud is still running on 13.\n\nChange-Id: Ia3d9ea6c3a69392975046518d5728496a3bec998\n(cherry picked from commit 1271bb838c2474e0ab46777fa91171a6b20d01d3)\n(cherry picked from commit 306d4ff8db88356a4f9b1f15029485a757e89909)\n(cherry picked from commit 8dcc4a4262b483fe21de36b438a5865f0cb61a6d)\n(cherry picked from commit ee7208bc4e2d171165cfbb501b24b78874a9f942)\n'}]",0,792114,df505cc44ca5e48d1abf9a492328f128c246b608,8,4,1,27419,,,0,"[overcloud-service-status] Removing pre-upgrade

When running pre-upgrade, it triggers a failed validation during FFU
Because undercloud is 16.2 and the overcloud is still running on 13.

Change-Id: Ia3d9ea6c3a69392975046518d5728496a3bec998
(cherry picked from commit 1271bb838c2474e0ab46777fa91171a6b20d01d3)
(cherry picked from commit 306d4ff8db88356a4f9b1f15029485a757e89909)
(cherry picked from commit 8dcc4a4262b483fe21de36b438a5865f0cb61a6d)
(cherry picked from commit ee7208bc4e2d171165cfbb501b24b78874a9f942)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/14/792114/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud_service_status/vars/main.yml', 'playbooks/overcloud-service-status.yaml']",2,df505cc44ca5e48d1abf9a492328f128c246b608,overcloud_service_status,, - pre-upgrade,0,2
openstack%2Ftripleo-validations~stable%2Fussuri~Ia3d9ea6c3a69392975046518d5728496a3bec998,openstack/tripleo-validations,stable/ussuri,Ia3d9ea6c3a69392975046518d5728496a3bec998,[overcloud-service-status] Removing pre-upgrade,MERGED,2021-05-19 13:54:22.000000000,2021-05-20 07:18:01.000000000,2021-05-20 07:18:01.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-19 13:54:22.000000000', 'files': ['roles/overcloud_service_status/vars/main.yml', 'playbooks/overcloud-service-status.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ee7208bc4e2d171165cfbb501b24b78874a9f942', 'message': '[overcloud-service-status] Removing pre-upgrade\n\nWhen running pre-upgrade, it triggers a failed validation during FFU\nBecause undercloud is 16.2 and the overcloud is still running on 13.\n\nChange-Id: Ia3d9ea6c3a69392975046518d5728496a3bec998\n(cherry picked from commit 1271bb838c2474e0ab46777fa91171a6b20d01d3)\n(cherry picked from commit 306d4ff8db88356a4f9b1f15029485a757e89909)\n(cherry picked from commit 8dcc4a4262b483fe21de36b438a5865f0cb61a6d)\n'}]",0,792113,ee7208bc4e2d171165cfbb501b24b78874a9f942,10,4,1,27419,,,0,"[overcloud-service-status] Removing pre-upgrade

When running pre-upgrade, it triggers a failed validation during FFU
Because undercloud is 16.2 and the overcloud is still running on 13.

Change-Id: Ia3d9ea6c3a69392975046518d5728496a3bec998
(cherry picked from commit 1271bb838c2474e0ab46777fa91171a6b20d01d3)
(cherry picked from commit 306d4ff8db88356a4f9b1f15029485a757e89909)
(cherry picked from commit 8dcc4a4262b483fe21de36b438a5865f0cb61a6d)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/13/792113/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud_service_status/vars/main.yml', 'playbooks/overcloud-service-status.yaml']",2,ee7208bc4e2d171165cfbb501b24b78874a9f942,overcloud_service_status,, - pre-upgrade,0,2
openstack%2Ftripleo-validations~stable%2Fvictoria~Ia3d9ea6c3a69392975046518d5728496a3bec998,openstack/tripleo-validations,stable/victoria,Ia3d9ea6c3a69392975046518d5728496a3bec998,[overcloud-service-status] Removing pre-upgrade,MERGED,2021-05-19 13:53:33.000000000,2021-05-20 07:02:01.000000000,2021-05-20 07:02:01.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-19 13:53:33.000000000', 'files': ['roles/overcloud_service_status/vars/main.yml', 'playbooks/overcloud-service-status.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8dcc4a4262b483fe21de36b438a5865f0cb61a6d', 'message': '[overcloud-service-status] Removing pre-upgrade\n\nWhen running pre-upgrade, it triggers a failed validation during FFU\nBecause undercloud is 16.2 and the overcloud is still running on 13.\n\nChange-Id: Ia3d9ea6c3a69392975046518d5728496a3bec998\n(cherry picked from commit 1271bb838c2474e0ab46777fa91171a6b20d01d3)\n(cherry picked from commit 306d4ff8db88356a4f9b1f15029485a757e89909)\n'}]",0,792112,8dcc4a4262b483fe21de36b438a5865f0cb61a6d,10,4,1,27419,,,0,"[overcloud-service-status] Removing pre-upgrade

When running pre-upgrade, it triggers a failed validation during FFU
Because undercloud is 16.2 and the overcloud is still running on 13.

Change-Id: Ia3d9ea6c3a69392975046518d5728496a3bec998
(cherry picked from commit 1271bb838c2474e0ab46777fa91171a6b20d01d3)
(cherry picked from commit 306d4ff8db88356a4f9b1f15029485a757e89909)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/12/792112/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud_service_status/vars/main.yml', 'playbooks/overcloud-service-status.yaml']",2,8dcc4a4262b483fe21de36b438a5865f0cb61a6d,overcloud_service_status,, - pre-upgrade,0,2
openstack%2Ftripleo-validations~stable%2Fwallaby~Ia3d9ea6c3a69392975046518d5728496a3bec998,openstack/tripleo-validations,stable/wallaby,Ia3d9ea6c3a69392975046518d5728496a3bec998,[overcloud-service-status] Removing pre-upgrade,MERGED,2021-05-19 13:52:45.000000000,2021-05-20 06:51:25.000000000,2021-05-20 06:51:25.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-19 13:52:45.000000000', 'files': ['roles/overcloud_service_status/vars/main.yml', 'playbooks/overcloud-service-status.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/306d4ff8db88356a4f9b1f15029485a757e89909', 'message': '[overcloud-service-status] Removing pre-upgrade\n\nWhen running pre-upgrade, it triggers a failed validation during FFU\nBecause undercloud is 16.2 and the overcloud is still running on 13.\n\nChange-Id: Ia3d9ea6c3a69392975046518d5728496a3bec998\n(cherry picked from commit 1271bb838c2474e0ab46777fa91171a6b20d01d3)\n'}]",0,792111,306d4ff8db88356a4f9b1f15029485a757e89909,9,4,1,27419,,,0,"[overcloud-service-status] Removing pre-upgrade

When running pre-upgrade, it triggers a failed validation during FFU
Because undercloud is 16.2 and the overcloud is still running on 13.

Change-Id: Ia3d9ea6c3a69392975046518d5728496a3bec998
(cherry picked from commit 1271bb838c2474e0ab46777fa91171a6b20d01d3)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/11/792111/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud_service_status/vars/main.yml', 'playbooks/overcloud-service-status.yaml']",2,306d4ff8db88356a4f9b1f15029485a757e89909,overcloud_service_status,, - pre-upgrade,0,2
openstack%2Fkuryr-kubernetes~master~If0b288618ade92df8db2651ec050f3f33d2eff18,openstack/kuryr-kubernetes,master,If0b288618ade92df8db2651ec050f3f33d2eff18,Updating kuryrnetworkpolicy to work when the service handler is disabled,NEW,2021-05-10 23:16:41.000000000,2021-05-20 06:41:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-05-10 23:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/55d40a9ab761faa9b55561aefcc916852c0764ee', 'message': 'Updating it for cases where the service handler is disable and the policy is enable. When policy and pod policy is enabled but service handlers is disabled, kuryr-controller start failed.\n\nChange-Id: If0b288618ade92df8db2651ec050f3f33d2eff18\n'}, {'number': 2, 'created': '2021-05-11 20:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/97f8ef5e98fc904aa2084311c034f9030f625676', 'message': 'The _is_service_enable() function was added\n\nThis commit is performed for cases in which the service handler is\ndisabled and the policy and pod policy is enable, so the kury-controller\nfailed.\nTo verify that the service is enabled, a function is used that verifies\nif the services is included in the enable_handler and the policy is\nenable.\n\nPartial-Bug: #1895100\nChange-Id: If0b288618ade92df8db2651ec050f3f33d2eff18\n'}, {'number': 3, 'created': '2021-05-12 21:32:41.000000000', 'files': ['kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e2ce16089b3032812450c075418d8c0b6f8bd25e', 'message': 'Updating kuryrnetworkpolicy to work when the service handler is disabled\n\nThis commit is performed for cases in which the service handler is\ndisable and the policy and pod policy is enable, so the kuryr-controller\nfailed.\nA function is implemented to verifies if the services is included in the\nenabled_handler and the policy is enable. The lbaas_sg is also updated\nonly if the service is enabled.\n\nCloses-Bug: #1895100\nChange-Id: If0b288618ade92df8db2651ec050f3f33d2eff18\n'}]",30,790528,e2ce16089b3032812450c075418d8c0b6f8bd25e,18,3,3,33250,,,0,"Updating kuryrnetworkpolicy to work when the service handler is disabled

This commit is performed for cases in which the service handler is
disable and the policy and pod policy is enable, so the kuryr-controller
failed.
A function is implemented to verifies if the services is included in the
enabled_handler and the policy is enable. The lbaas_sg is also updated
only if the service is enabled.

Closes-Bug: #1895100
Change-Id: If0b288618ade92df8db2651ec050f3f33d2eff18
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/28/790528/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py'],1,55d40a9ab761faa9b55561aefcc916852c0764ee,bug/1895100,from oslo_config import cfg as oslo_cfg if self._is_service_enable(): self._drv_svc_sg = drivers.ServiceSecurityGroupsDriver.get_instance() self._drv_lbaas = drivers.LBaaSDriver.get_instance() else: LOG.debug('Service disable %s') def _is_service_enable(): enable_handlers=oslo.cfg.CONF.kubernetes.enabled_handlers svc_sg_driver=oslo_cfg.CONF.kubernetes.service_security_groups_driver return 'service' in enable_handlers and svc_sg_driver == 'policy' , self._drv_svc_sg = drivers.ServiceSecurityGroupsDriver.get_instance() self._drv_lbaas = drivers.LBaaSDriver.get_instance(),11,4
openstack%2Fpython-tripleoclient~master~I2d968ed0a4eb921a7f4c8842dfeace52781742ff,openstack/python-tripleoclient,master,I2d968ed0a4eb921a7f4c8842dfeace52781742ff,Clarification about default arg val,ABANDONED,2021-05-03 14:43:24.000000000,2021-05-20 06:33:04.000000000,,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-03 14:43:24.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/307e3f35aee4b2d4b894e96a2036338e70befd44', 'message': 'Clarification about default arg val\n\nThe default value for the `--python-interpreter`\nargument seems to have been lending itself towards\nmisintrepretation and even confusion.\nAs evidenced by discussion evoked by the recent\npatch (26f8de1) introducing it.\n\nThis doscstring aims to notify future developers\nabout reasoning behind it, preventing any unneeded patches.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2d968ed0a4eb921a7f4c8842dfeace52781742ff\n'}]",0,789333,307e3f35aee4b2d4b894e96a2036338e70befd44,4,5,1,32926,,,0,"Clarification about default arg val

The default value for the `--python-interpreter`
argument seems to have been lending itself towards
misintrepretation and even confusion.
As evidenced by discussion evoked by the recent
patch (26f8de1) introducing it.

This doscstring aims to notify future developers
about reasoning behind it, preventing any unneeded patches.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I2d968ed0a4eb921a7f4c8842dfeace52781742ff
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/33/789333/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,307e3f35aee4b2d4b894e96a2036338e70befd44,docs/libexecjustification," """""" The default value of the `--python-interpreter` was set up to point to /usr/libexec/platform-python binary. Dynamic python interprete lookup, for example using the `sys` library utils, isn't a good fit in this case. As we require python interpreter on a remote system, rather than a local binary. """"""",,8,0
openstack%2Ftripleo-validations~master~I350d416bbf898646ea278dbbfdfeafbad551e66d,openstack/tripleo-validations,master,I350d416bbf898646ea278dbbfdfeafbad551e66d,Add group all to be able to trigger all validations,ABANDONED,2021-04-28 08:43:21.000000000,2021-05-20 04:55:03.000000000,,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-28 08:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/feaf775623e7bbab46dacd23b1219c0c686f0e6a', 'message': 'Add group all to be able to triger all validations\n\nChange-Id: I350d416bbf898646ea278dbbfdfeafbad551e66d\n'}, {'number': 2, 'created': '2021-04-28 08:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/298748a1dfb9335de0858e298ccec27ce73e59b0', 'message': 'Add group all to be able to triger all validations\n\nChange-Id: I350d416bbf898646ea278dbbfdfeafbad551e66d\n'}, {'number': 3, 'created': '2021-04-28 16:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/891b9b69bdf60e9097d3f756f139e615f4d3d02b', 'message': 'Add group all to be able to triger all validations\n\nChange-Id: I350d416bbf898646ea278dbbfdfeafbad551e66d\n'}, {'number': 4, 'created': '2021-04-28 17:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5a0cdea61184604544dcc00cccb662e732d91711', 'message': 'Add group all to be able to triger all validations\n\nChange-Id: I350d416bbf898646ea278dbbfdfeafbad551e66d\n'}, {'number': 5, 'created': '2021-04-29 05:52:21.000000000', 'files': ['playbooks/undercloud-service-status.yaml', 'playbooks/ctlplane-ip-range.yaml', 'playbooks/undercloud-process-count.yaml', 'groups.yaml', 'playbooks/rabbitmq-limits.yaml', 'playbooks/tripleo-latest-packages-version.yaml', 'playbooks/frr-status.yaml', 'playbooks/tls-everywhere-post-deployment.yaml', 'playbooks/controller-token.yaml', 'playbooks/nova-event-callback.yaml', 'playbooks/openshift-nw-requirements.yaml', 'playbooks/ceph-health.yaml', 'playbooks/repos.yaml', 'playbooks/package-version.yaml', 'playbooks/stonith-exists.yaml', 'playbooks/default-node-count.yaml', 'playbooks/healthcheck-service-status.yaml', 'playbooks/undercloud-debug.yaml', 'playbooks/openshift-hw-requirements.yaml', 'playbooks/neutron-sanity-check.yaml', 'playbooks/ovs-dpdk-pmd-cpus-check.yaml', 'playbooks/container-status.yaml', 'playbooks/node-disks.yaml', 'playbooks/image-serve.yaml', 'playbooks/undercloud-ipa-server-check.yaml', 'playbooks/ironic-boot-configuration.yaml', 'playbooks/nova-svirt.yaml', 'playbooks/pacemaker-status.yaml', 'playbooks/dhcp-introspection.yaml', 'playbooks/system-encoding.yaml', 'playbooks/undercloud-disk-space.yaml', 'playbooks/stack-health.yaml', 'playbooks/nova-status.yaml', 'playbooks/undercloud-neutron-sanity-check.yaml', 'playbooks/undercloud-disk-space-pre-upgrade.yaml', 'playbooks/openstack-endpoints.yaml', 'playbooks/switch-vlans.yaml', 'playbooks/collect-flavors-and-verify-profiles.yaml', 'playbooks/tls-everywhere-pre-deployment.yaml', 'playbooks/check-rhsm-version.yaml', 'playbooks/mysql-open-files-limit.yaml', 'playbooks/undercloud-heat-purge-deleted.yaml', 'playbooks/network-environment.yaml', 'playbooks/controller-ulimits.yaml', 'playbooks/ceph-ansible-installed.yaml', 'playbooks/undercloud-tokenflush.yaml', 'playbooks/check-kernel-version.yaml', 'playbooks/check-undercloud-conf.yaml', 'playbooks/node-health.yaml', 'doc/source/index.rst', 'playbooks/ceph-dependencies-installed.yaml', 'playbooks/ceph-pg.yaml', 'playbooks/check-network-gateway.yaml', 'playbooks/dhcp-provisioning.yaml', 'playbooks/tls-everywhere-prep.yaml', 'playbooks/overcloud-service-status.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/31053f0704e5052a7121aeacfb25013ace1ec1dd', 'message': 'Add group all to be able to trigger all validations\n\nChange-Id: I350d416bbf898646ea278dbbfdfeafbad551e66d\n'}]",0,788431,31053f0704e5052a7121aeacfb25013ace1ec1dd,15,6,5,16515,,,0,"Add group all to be able to trigger all validations

Change-Id: I350d416bbf898646ea278dbbfdfeafbad551e66d
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/31/788431/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/undercloud-service-status.yaml', 'playbooks/ctlplane-ip-range.yaml', 'playbooks/undercloud-process-count.yaml', 'playbooks/rabbitmq-limits.yaml', 'playbooks/tripleo-latest-packages-version.yaml', 'playbooks/frr-status.yaml', 'playbooks/tls-everywhere-post-deployment.yaml', 'playbooks/controller-token.yaml', 'playbooks/nova-event-callback.yaml', 'playbooks/openshift-nw-requirements.yaml', 'playbooks/ceph-health.yaml', 'playbooks/repos.yaml', 'playbooks/package-version.yaml', 'playbooks/stonith-exists.yaml', 'playbooks/default-node-count.yaml', 'playbooks/healthcheck-service-status.yaml', 'playbooks/undercloud-debug.yaml', 'playbooks/openshift-hw-requirements.yaml', 'playbooks/neutron-sanity-check.yaml', 'playbooks/ovs-dpdk-pmd-cpus-check.yaml', 'playbooks/container-status.yaml', 'playbooks/node-disks.yaml', 'playbooks/image-serve.yaml', 'playbooks/undercloud-ipa-server-check.yaml', 'playbooks/ironic-boot-configuration.yaml', 'playbooks/nova-svirt.yaml', 'playbooks/pacemaker-status.yaml', 'playbooks/dhcp-introspection.yaml', 'playbooks/system-encoding.yaml', 'playbooks/undercloud-disk-space.yaml', 'playbooks/stack-health.yaml', 'playbooks/nova-status.yaml', 'playbooks/undercloud-neutron-sanity-check.yaml', 'playbooks/undercloud-disk-space-pre-upgrade.yaml', 'playbooks/openstack-endpoints.yaml', 'playbooks/switch-vlans.yaml', 'playbooks/collect-flavors-and-verify-profiles.yaml', 'playbooks/tls-everywhere-pre-deployment.yaml', 'playbooks/check-rhsm-version.yaml', 'playbooks/mysql-open-files-limit.yaml', 'playbooks/undercloud-heat-purge-deleted.yaml', 'playbooks/network-environment.yaml', 'playbooks/controller-ulimits.yaml', 'playbooks/ceph-ansible-installed.yaml', 'playbooks/undercloud-tokenflush.yaml', 'playbooks/check-kernel-version.yaml', 'playbooks/check-undercloud-conf.yaml', 'playbooks/node-health.yaml', 'playbooks/ceph-dependencies-installed.yaml', 'playbooks/ceph-pg.yaml', 'playbooks/check-network-gateway.yaml', 'playbooks/dhcp-provisioning.yaml', 'playbooks/tls-everywhere-prep.yaml', 'playbooks/overcloud-service-status.yaml']",54,feaf775623e7bbab46dacd23b1219c0c686f0e6a,, - all,,55,1
openstack%2Frally~master~Ia5702adb636350b45aea279f79ebd078c07b9491,openstack/rally,master,Ia5702adb636350b45aea279f79ebd078c07b9491,Fix invalid interpolation syntax,NEW,2021-05-20 01:46:09.000000000,2021-05-20 03:44:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-20 01:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/03f72dc3b1846fdffd93252e0e722e2a8818108a', 'message': 'Fix invalid interpolation syntax\n\nIf we use the configuration that contains %s in the extra options,\nsuch an error will occur. Therefore, RawConfigParser should be used.\n\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\nChange-Id: Ia5702adb636350b45aea279f79ebd078c07b9491\n'}, {'number': 2, 'created': '2021-05-20 03:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/92853d78fa64a889b0febd713fb70def9e81e2e4', 'message': 'Fix invalid interpolation syntax\n\nIf we use the configuration that contains %s in the extra options,\nsuch an error will occur. Therefore, RawConfigParser should be used.\n\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\nChange-Id: Ia5702adb636350b45aea279f79ebd078c07b9491\n'}, {'number': 3, 'created': '2021-05-20 03:32:58.000000000', 'files': ['tests/unit/verification/test_utils.py', 'rally/verification/utils.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/93a98b4f61307daa1050ccdd19fab9f5c445bb23', 'message': 'Fix invalid interpolation syntax\n\nIf we use the configuration that contains %s in the extra options,\nsuch an error will occur. Therefore, RawConfigParser should be used.\n\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\nChange-Id: Ia5702adb636350b45aea279f79ebd078c07b9491\n'}]",0,792311,93a98b4f61307daa1050ccdd19fab9f5c445bb23,5,1,3,28367,,,0,"Fix invalid interpolation syntax

If we use the configuration that contains %s in the extra options,
such an error will occur. Therefore, RawConfigParser should be used.

Signed-off-by: ZijianGuo <guozijn@gmail.com>
Change-Id: Ia5702adb636350b45aea279f79ebd078c07b9491
",git fetch https://review.opendev.org/openstack/rally refs/changes/11/792311/3 && git format-patch -1 --stdout FETCH_HEAD,['rally/verification/utils.py'],1,03f72dc3b1846fdffd93252e0e722e2a8818108a,fix-config, conf_object = configparser.RawConfigParser(), conf_object = configparser.ConfigParser(),1,1
openstack%2Ftripleo-validations~master~Id578c5d52b00e6b10db476f0c6b868cae3f5c9c8,openstack/tripleo-validations,master,Id578c5d52b00e6b10db476f0c6b868cae3f5c9c8,Add CI tests for new role automation skeleton,ABANDONED,2021-04-22 11:06:25.000000000,2021-05-20 03:38:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-22 11:06:25.000000000', 'files': ['zuul.d/molecule.yaml', 'role-addition.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9a2b66bcfb8161de79cb9936a1cc1c1c1dbbc518', 'message': 'Add CI tests for new role automation skeleton\n\nThis patch adds a new CI job for testing the role addition process. This\npatch also replace the validation suffix by tripleo for all the new\nvalidations.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Id578c5d52b00e6b10db476f0c6b868cae3f5c9c8\n'}]",1,787531,9a2b66bcfb8161de79cb9936a1cc1c1c1dbbc518,6,1,1,11491,,,0,"Add CI tests for new role automation skeleton

This patch adds a new CI job for testing the role addition process. This
patch also replace the validation suffix by tripleo for all the new
validations.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Id578c5d52b00e6b10db476f0c6b868cae3f5c9c8
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/31/787531/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'role-addition.yml', 'tox.ini']",3,9a2b66bcfb8161de79cb9936a1cc1c1c1dbbc518,role_addition_CI," [testenv:role-addition] basepython = python3 deps = {[testenv:linters]deps} -r {toxinidir}/molecule-requirements.txt commands = bash -c ""ansible-playbook -i localhost, role-addition.yml -e role_name=skeleton_test"" bash -c ""if podman ps 2> /dev/null; then \ cd {toxinidir}/roles/tripleo_skeleton_test; \ molecule test --all; \ else \ echo -e '\n\nNo molecule tests have been executed\nSee https://docs.openstack.org/tripleo-validations/latest/readme.html#local-testing-of-new-roles\n\n'; \ fi"" {[testenv:linters]commands}",,37,8
openstack%2Fmanila~stable%2Fvictoria~I304bf59b3f8c0d5b847078a5752bac8ac4f21690,openstack/manila,stable/victoria,I304bf59b3f8c0d5b847078a5752bac8ac4f21690,[Glusterfs] Fix create share from snapshot failed,MERGED,2021-05-19 19:11:41.000000000,2021-05-20 03:23:25.000000000,2021-05-20 03:22:03.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 31506}]","[{'number': 1, 'created': '2021-05-19 19:11:41.000000000', 'files': ['releasenotes/notes/bug-1922075-fix-Glusterfs-create-share-from-snapshot-failed-053a583522a6fc0e.yaml', 'manila/tests/share/drivers/glusterfs/test_layout_volume.py', 'manila/share/drivers/glusterfs/layout_volume.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/a04e13196c125b7d748ffdacc226b97104498cdd', 'message': '[Glusterfs] Fix create share from snapshot failed\n\n1、After performing a snapshot clone of the glusterfs vol,\n  the status of the vol is\'Created\', and the parameter\n  ""gluster volume set nfs.rpc-auth-reject\'*\'"" is required for\n  the vol in the\'Started\' state.\n2、The cloned volume needs to activate the snapshot,\n  if the snapshot is already activated, you need to skip the activation step\n\nCloses-Bug: #1922075\nChange-Id: I304bf59b3f8c0d5b847078a5752bac8ac4f21690\n(cherry picked from commit 63e255248b7072c92c084a0cea269a27bd47f813)\n(cherry picked from commit 3635ade670cce08525c946eb9029940d86fcafa8)\n'}]",0,792167,a04e13196c125b7d748ffdacc226b97104498cdd,18,3,1,16643,,,0,"[Glusterfs] Fix create share from snapshot failed

1、After performing a snapshot clone of the glusterfs vol,
  the status of the vol is'Created', and the parameter
  ""gluster volume set nfs.rpc-auth-reject'*'"" is required for
  the vol in the'Started' state.
2、The cloned volume needs to activate the snapshot,
  if the snapshot is already activated, you need to skip the activation step

Closes-Bug: #1922075
Change-Id: I304bf59b3f8c0d5b847078a5752bac8ac4f21690
(cherry picked from commit 63e255248b7072c92c084a0cea269a27bd47f813)
(cherry picked from commit 3635ade670cce08525c946eb9029940d86fcafa8)
",git fetch https://review.opendev.org/openstack/manila refs/changes/67/792167/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1922075-fix-Glusterfs-create-share-from-snapshot-failed-053a583522a6fc0e.yaml', 'manila/tests/share/drivers/glusterfs/test_layout_volume.py', 'manila/share/drivers/glusterfs/layout_volume.py']",3,a04e13196c125b7d748ffdacc226b97104498cdd,bug/1922075," # Query the status of the snapshot, if it is Started, the activate # step will be skipped args = ('snapshot', 'info', backend_snapshot_name) out, err = old_gmgr.gluster_call( *args, log=(""Query the status of the snapshot"")) gfs_snapshot_state = """" for gfs_snapshot_info in out.split('\t'): gfs_snapshot_states = re.search(r'Started', gfs_snapshot_info, re.I) if gfs_snapshot_states: gfs_snapshot_state = ""Started"" if gfs_snapshot_state == ""Started"": args_tuple = (('snapshot', 'clone', volume, backend_snapshot_name), ('volume', 'start', volume)) else: args_tuple = (('snapshot', 'activate', backend_snapshot_name, 'force', '--mode=script'), ('snapshot', 'clone', volume, backend_snapshot_name), ('volume', 'start', volume)) export = [export, ] ('set', [USER_MANILA_SHARE, share['id']]))"," args_tuple = (('snapshot', 'activate', backend_snapshot_name, 'force', '--mode=script'), ('snapshot', 'clone', volume, backend_snapshot_name)) ('set', [USER_MANILA_SHARE, share['id']]), ('start', []))",41,11
openstack%2Fkolla-ansible~master~If689be90690251180972454ed0baee658cc5e895,openstack/kolla-ansible,master,If689be90690251180972454ed0baee658cc5e895,Use Docker healthchecks for qdrouterd services,MERGED,2021-03-12 01:08:32.000000000,2021-05-20 02:58:33.000000000,2021-05-20 02:57:19.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-12 01:08:32.000000000', 'files': ['ansible/roles/qdrouterd/handlers/main.yml', 'ansible/roles/qdrouterd/tasks/check-containers.yml', 'releasenotes/notes/implement-docker-healthchecks-for-qdrouterd-e32981b579ea858a.yaml', 'ansible/roles/qdrouterd/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3e91045f51afd4ddb64c579f52daa99ac17cf0e', 'message': 'Use Docker healthchecks for qdrouterd services\n\nThis change enables the use of Docker healthchecks for qdrouterd services.\nImplements: blueprint container-health-check\n\nChange-Id: If689be90690251180972454ed0baee658cc5e895\n'}]",0,780134,d3e91045f51afd4ddb64c579f52daa99ac17cf0e,21,3,1,31506,,,0,"Use Docker healthchecks for qdrouterd services

This change enables the use of Docker healthchecks for qdrouterd services.
Implements: blueprint container-health-check

Change-Id: If689be90690251180972454ed0baee658cc5e895
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/34/780134/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/qdrouterd/handlers/main.yml', 'ansible/roles/qdrouterd/tasks/check-containers.yml', 'releasenotes/notes/implement-docker-healthchecks-for-qdrouterd-e32981b579ea858a.yaml', 'ansible/roles/qdrouterd/defaults/main.yml']",4,d3e91045f51afd4ddb64c579f52daa99ac17cf0e,container-health-check," healthcheck: ""{{ qdrouterd_healthcheck }}"" qdrouterd_enable_healthchecks: ""{{ enable_container_healthchecks }}"" qdrouterd_healthcheck_interval: ""{{ default_container_healthcheck_interval }}"" qdrouterd_healthcheck_retries: ""{{ default_container_healthcheck_retries }}"" qdrouterd_healthcheck_start_period: ""{{ default_container_healthcheck_start_period }}"" qdrouterd_healthcheck_test: [""CMD-SHELL"", ""healthcheck_curl http://{{ api_interface_address | put_address_in_context('url') }}:{{ qdrouterd_port }}""] qdrouterd_healthcheck_timeout: ""{{ default_container_healthcheck_timeout }}"" qdrouterd_healthcheck: interval: ""{{ qdrouterd_healthcheck_interval }}"" retries: ""{{ qdrouterd_healthcheck_retries }}"" start_period: ""{{ qdrouterd_healthcheck_start_period }}"" test: ""{% if qdrouterd_enable_healthchecks | bool %}{{ qdrouterd_healthcheck_test }}{% else %}NONE{% endif %}"" timeout: ""{{ qdrouterd_healthcheck_timeout }}"" ",,23,0
openstack%2Fzaqar~master~I6c8a4b2c9b62ca2d1c11aa633ad2389786216162,openstack/zaqar,master,I6c8a4b2c9b62ca2d1c11aa633ad2389786216162,Decode bytes to strings,MERGED,2021-05-10 07:08:12.000000000,2021-05-20 01:40:35.000000000,2021-05-20 01:39:30.000000000,"[{'_account_id': 8846}, {'_account_id': 9791}, {'_account_id': 22348}, {'_account_id': 24849}]","[{'number': 1, 'created': '2021-05-10 07:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d520b4c30a976eef71300bc38209887f911dab51', 'message': 'Decode byte to string\n\nChange-Id: I6c8a4b2c9b62ca2d1c11aa633ad2389786216162\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}, {'number': 2, 'created': '2021-05-10 07:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/7cf7d7f3b03349afbbed78a8e45768b49bf5ee34', 'message': 'Decode bytes to strings\n\nChange-Id: I6c8a4b2c9b62ca2d1c11aa633ad2389786216162\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}, {'number': 3, 'created': '2021-05-19 02:15:53.000000000', 'files': ['zaqar/storage/redis/models.py', 'zaqar/storage/redis/subscriptions.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/2f7507500a62c9f4159bb75f12f41658bdd4450e', 'message': 'Decode bytes to strings\n\nChange-Id: I6c8a4b2c9b62ca2d1c11aa633ad2389786216162\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}]",0,790375,2f7507500a62c9f4159bb75f12f41658bdd4450e,16,4,3,28367,,,0,"Decode bytes to strings

Change-Id: I6c8a4b2c9b62ca2d1c11aa633ad2389786216162
Signed-off-by: ZijianGuo <guozijn@gmail.com>
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/75/790375/1 && git format-patch -1 --stdout FETCH_HEAD,['zaqar/storage/redis/models.py'],1,d520b4c30a976eef71300bc38209887f911dab51,bytes," 'source': encodeutils.safe_decode(hmap[b's']), 'subscriber': encodeutils.safe_decode(hmap[b'u']),"," 'source': hmap[b's'], 'subscriber': hmap[b'u'],",2,2
openstack%2Ftripleo-heat-templates~master~I8f43abe1f3fad19be4b7f0865d2259fd753e4dea,openstack/tripleo-heat-templates,master,I8f43abe1f3fad19be4b7f0865d2259fd753e4dea,Remove deprecated dcn-hci.yaml,MERGED,2021-05-19 13:43:05.000000000,2021-05-20 00:53:33.000000000,2021-05-20 00:52:03.000000000,"[{'_account_id': 6796}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-19 13:43:05.000000000', 'files': ['environments/dcn-hci.yaml', 'releasenotes/notes/remove-deprecated-dcn-hci-1aca499135c31e17.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aeaaa90b3deb9ce849a33806aba9b8d50b4eb410', 'message': 'Remove deprecated dcn-hci.yaml\n\nAs per Ice5e1cfbc158eb6705988706c8625bedb80d7de2, dcn-hci.yaml\nwas deprecated and the release note stated it would be removed\nin the X cycle. We are now in the X cycle so this file is removed\nby this patch.\n\nChange-Id: I8f43abe1f3fad19be4b7f0865d2259fd753e4dea\n'}]",0,792147,aeaaa90b3deb9ce849a33806aba9b8d50b4eb410,9,4,1,18002,,,0,"Remove deprecated dcn-hci.yaml

As per Ice5e1cfbc158eb6705988706c8625bedb80d7de2, dcn-hci.yaml
was deprecated and the release note stated it would be removed
in the X cycle. We are now in the X cycle so this file is removed
by this patch.

Change-Id: I8f43abe1f3fad19be4b7f0865d2259fd753e4dea
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/792147/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/dcn-hci.yaml', 'releasenotes/notes/remove-deprecated-dcn-hci-1aca499135c31e17.yaml']",2,aeaaa90b3deb9ce849a33806aba9b8d50b4eb410,remove_deprecated_dcn_hci,"other: - | In Wallaby, dcn-hci.yaml has been renamed to dcn-storage.yaml though a copy of dcn-hci.yaml was kept in place for backwards compatability until Xena. With the Xena release dcn-hci.yaml has been removed. ",,5,53
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3,openstack/tripleo-ansible,stable/wallaby,Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3,Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters,MERGED,2021-05-19 18:31:31.000000000,2021-05-20 00:53:26.000000000,2021-05-20 00:52:18.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-05-19 18:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e393d8dd9eb4790e8cb5fce22168cd30082daa9b', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 2, 'created': '2021-05-19 18:37:01.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_derive_hci_parameters.py', 'tripleo_ansible/tests/modules/test_derive_hci_parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d5cb7ce3938d60bcf81f6d6c3b0e2971b7c0434d', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n(cherry picked from commit b015a79dc4628b9d2b5907739c22ff3b4e6379a3)\n'}]",0,792166,d5cb7ce3938d60bcf81f6d6c3b0e2971b7c0434d,9,3,2,18002,,,0,"Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters

The tripleo_derive_hci_parameters module uses the devices and
lvm_volumes list in CephAnsibleDisksConfig from Heat to count the
expected number of OSDs. However, with the move to cephadm, the
OSD service spec language is more flexible and the user can pass
a description like ""all available block devices"". As a result,
the module can no longer count the expected number of OSDs. As
an alternative expose a paramter so the user may directly pass
CephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)
since there is no path to lookup the device in Ironic.

Related-Bug: #1920954
Change-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3
(cherry picked from commit b015a79dc4628b9d2b5907739c22ff3b4e6379a3)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/792166/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_derive_hci_parameters.py', 'tripleo_ansible/tests/modules/test_derive_hci_parameters.py']",2,e393d8dd9eb4790e8cb5fce22168cd30082daa9b,cherrypick-bug/1920954-cpmfp6gdn4," def get_env_ceph_ansible(flavor='hdd', osds_per_device=1): def get_env_cephadm(flavor='hdd', osds_per_device=1): """"""Returns a dictionary which mocks the content of the tripleo_environment_parameters CephOsd{Count,Type,Spec} where the deployer requests a number of OSDs of differing flavor types. The flavor may be set to one of hdd, ssd, or nvme and it is also possible to set the osds_per_device (usually used with NVMe). """""" if osds_per_device == 0: osds_per_device = 1 env_cephadm = { ""CephHciOsdCount"": 5, ""CephHciOsdType"": flavor, ""CephOsdSpec"": { ""data_devices"": { ""all"": True, }, ""osds_per_device"": osds_per_device } } return env_cephadm envs = [] envs.append(get_env_ceph_ansible(flavor, osds_per_device)) if flavor != 'by_path': envs.append(get_env_cephadm(flavor, osds_per_device)) for env in envs: if ""CephHciOsdCount"" in env and ""CephHciOsdType"" in env: vcpu_ratio, vcpu_msg = derive_params\ .get_vcpus_per_osd(env, env['CephHciOsdCount'], env['CephHciOsdType'], env['CephOsdSpec']) else: num_osds = derive_params.count_osds(env) vcpu_ratio, vcpu_msg = \ derive_params.get_vcpus_per_osd_from_ironic(ironic, env, num_osds) self.assertEqual(vcpu_ratio, ratio_map[flavor]) self.assertIsNotNone(vcpu_msg) def test_find_parameter(self): """"""Tests that the find_parameter method returns the expected output for particular inputs. """""" env = {'CephHciOsdCount': 3, 'CephHciOsdType': 'ssd', 'ComputeHCIParameters': { 'CephHciOsdCount': 4 }, } value = derive_params.find_parameter(env, 'CephHciOsdCount', 'ComputeHCI') self.assertEqual(value, 4) value = derive_params.find_parameter(env, 'CephHciOsdCount') self.assertEqual(value, 3) value = derive_params.find_parameter(env, 'CephOsdSpec') self.assertEqual(value, 0) value = derive_params.find_parameter(env, 'CephHciOsdType') self.assertEqual(value, 'ssd')"," def get_env(flavor='hdd', osds_per_device=1): env = get_env(flavor, osds_per_device) num_osds = len(env['CephAnsibleDisksConfig']['devices']) vcpu_ratio, vcpu_msg = derive_params.get_vcpus_per_osd(ironic, env, num_osds) self.assertEqual(vcpu_ratio, ratio_map[flavor]) self.assertIsNotNone(vcpu_msg)",165,22
openstack%2Fpuppet-tripleo~master~I0df99f33b021d9ca41afaa19d07ace81677cd3b8,openstack/puppet-tripleo,master,I0df99f33b021d9ca41afaa19d07ace81677cd3b8,Stop using removed parameters,MERGED,2021-05-19 17:13:45.000000000,2021-05-20 00:51:58.000000000,2021-05-20 00:51:58.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-19 17:13:45.000000000', 'files': ['manifests/profile/base/nova/compute_libvirt_shared.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8ae1f90f1ab2afe7b7499bca939d8e2691575d6f', 'message': 'Stop using removed parameters\n\nlibvirt_disk_cachemodes/libvirt_hw_disk_discard parameters were\ndropped with [1]\n\n[1] https://review.opendev.org/c/openstack/puppet-nova/+/789559\n\nChange-Id: I0df99f33b021d9ca41afaa19d07ace81677cd3b8\nCloses-Bug: #1928968\n'}]",0,792214,8ae1f90f1ab2afe7b7499bca939d8e2691575d6f,8,5,1,8833,,,0,"Stop using removed parameters

libvirt_disk_cachemodes/libvirt_hw_disk_discard parameters were
dropped with [1]

[1] https://review.opendev.org/c/openstack/puppet-nova/+/789559

Change-Id: I0df99f33b021d9ca41afaa19d07ace81677cd3b8
Closes-Bug: #1928968
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/14/792214/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova/compute_libvirt_shared.pp'],1,8ae1f90f1ab2afe7b7499bca939d8e2691575d6f,," disk_cachemodes => ['network=writeback'], hw_disk_discard => 'unmap',"," libvirt_disk_cachemodes => ['network=writeback'], libvirt_hw_disk_discard => 'unmap',",2,2
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I98a3d582add0d6881cd39433ddb25515f0e0dc31,openstack/tripleo-heat-templates,stable/victoria,I98a3d582add0d6881cd39433ddb25515f0e0dc31,"Fix ""ManageNetworks"" use-case",MERGED,2021-05-19 16:40:24.000000000,2021-05-20 00:51:53.000000000,2021-05-20 00:51:53.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-19 16:40:24.000000000', 'files': ['network/network.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d39526de13d0603c92b2e0dd2c0ff6a42257301f', 'message': 'Fix ""ManageNetworks"" use-case\n\nWith change I603521bd00dc100e03c765c25503b5e01f3383e4\nthe ManageNetworks == False use case was overlooked.\n\nWhen ManageNetworks is set to False and networks are\nnot created we need to build network_attrs and\nsubnet_attrs from the data present in network_data.yaml\nand parameters.\n\nCloses-Bug: #1920050\nChange-Id: I98a3d582add0d6881cd39433ddb25515f0e0dc31\n(cherry picked from commit 80b226c44ce55506460a4914e2d7f2e2de1b41e8)\n'}]",0,792163,d39526de13d0603c92b2e0dd2c0ff6a42257301f,7,3,1,24245,,,0,"Fix ""ManageNetworks"" use-case

With change I603521bd00dc100e03c765c25503b5e01f3383e4
the ManageNetworks == False use case was overlooked.

When ManageNetworks is set to False and networks are
not created we need to build network_attrs and
subnet_attrs from the data present in network_data.yaml
and parameters.

Closes-Bug: #1920050
Change-Id: I98a3d582add0d6881cd39433ddb25515f0e0dc31
(cherry picked from commit 80b226c44ce55506460a4914e2d7f2e2de1b41e8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/792163/1 && git format-patch -1 --stdout FETCH_HEAD,['network/network.j2'],1,d39526de13d0603c92b2e0dd2c0ff6a42257301f,bug/1920050-stable/victoria," value: if: - manage_networks - {get_attr: [{{network.name}}Network, show]} - name: {{network.name_lower}} dns_domain: list_join: - '.' - - {{network.name.lower()}} - {get_param: CloudDomain} - '' mtu: {{network.mtu|default('1500')}} if: - manage_networks - {{network.name_lower}}_subnet: {get_attr: [{{network.name}}Subnet, show]} {{subnet}}: {get_attr: [{{network.name}}Subnet_{{subnet}}, show]} {%- endfor %} - {{network.name_lower}}_subnet: name: {{network.name_lower}}_subnet cidr: {get_param: {{network.name}}NetCidr} dns_nameservers: [] gateway_ip: {get_param: {{network.name}}InterfaceDefaultRoute} host_routes: {get_param: {{network.name}}Routes} ip_version: {if: [is_ipv6, 6, 4]} {%- for subnet in network.subnets|default({}) if network.subnets[subnet].enabled|default(true) %} {{subnet}}: name: {{subnet}} cidr: {get_param: {{network.name}}SubnetCidr_{{subnet}}} dns_nameservers: [] gateway_ip: {get_param: {{network.name}}InterfaceDefaultRoute_{{subnet}}} host_routes: {get_param: {{network.name}}Routes_{{subnet}}} ip_version: {if: [is_ipv6, 6, 4]}"," value: {get_attr: [{{network.name}}Network, show]} {{network.name_lower}}_subnet: {get_attr: [{{network.name}}Subnet, show]} {{subnet}}: {get_attr: [{{network.name}}Subnet_{{subnet}}, show]}",34,3
openstack%2Fdevstack-plugin-ceph~stable%2Fvictoria~I81e838bf13cb32503ee2b8becd06daea5ab01dfa,openstack/devstack-plugin-ceph,stable/victoria,I81e838bf13cb32503ee2b8becd06daea5ab01dfa,Remove devstack-gate test hooks,MERGED,2021-05-19 02:04:56.000000000,2021-05-20 00:23:36.000000000,2021-05-20 00:22:23.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 02:04:56.000000000', 'files': ['manila/pre_test_hook.sh', 'manila/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/73c2396726a2e782ca9fcd9d8d4c628d21fa26e8', 'message': 'Remove devstack-gate test hooks\n\ndevstack-plugin-ceph is now branched;\nthese test hooks were maintained to\nsupport legacy style zuul jobs; All\nmanila zuul jobs were ported to native\nzuulv3 style jobs in the victoria cycle\nand no longer rely on these files;\nso we can remove these test hook files\nfrom all three releases (victoria, wallaby,\nxena/trunk).\n\nChange-Id: I81e838bf13cb32503ee2b8becd06daea5ab01dfa\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 837f48de400b85ddd9d97e3bcfcce2cdc0cb6707)\n(cherry picked from commit 78f6900a8784c63e8f4141046d5c7a91ebdf6755)\n'}]",0,791953,73c2396726a2e782ca9fcd9d8d4c628d21fa26e8,9,2,1,16643,,,0,"Remove devstack-gate test hooks

devstack-plugin-ceph is now branched;
these test hooks were maintained to
support legacy style zuul jobs; All
manila zuul jobs were ported to native
zuulv3 style jobs in the victoria cycle
and no longer rely on these files;
so we can remove these test hook files
from all three releases (victoria, wallaby,
xena/trunk).

Change-Id: I81e838bf13cb32503ee2b8becd06daea5ab01dfa
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 837f48de400b85ddd9d97e3bcfcce2cdc0cb6707)
(cherry picked from commit 78f6900a8784c63e8f4141046d5c7a91ebdf6755)
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/53/791953/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/pre_test_hook.sh', 'manila/post_test_hook.sh']",2,73c2396726a2e782ca9fcd9d8d4c628d21fa26e8,manila,,"#!/bin/bash -xe # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This script is executed inside post_test_hook function in devstack gate. sudo chown -R $USER:stack $BASE/new/tempest sudo chown -R $USER:stack $BASE/data/tempest sudo chmod -R o+rx $BASE/new/devstack/files # Import devstack functions 'iniset'. source $BASE/new/devstack/functions export TEMPEST_CONFIG=$BASE/new/tempest/etc/tempest.conf # === Handle script arguments === # The script arguments as detailed here in the manila CI job # template, # https://github.com/openstack-infra/project-config/commit/6ae99cee70a33d6cc312a7f9a83aa6db8b39ce21 # Handle the relevant ones. # First argument is the type of backend configuration that is setup. It can # either be 'singlebackend' or 'multiplebackend'. MANILA_BACKEND_TYPE=$1 MANILA_BACKEND_TYPE=${MANILA_BACKEND_TYPE:-singlebackend} # Second argument is the type of the cephfs driver that is setup. Currently, # 'cephfsnative' is the only possibility. MANILA_CEPH_DRIVER=$2 MANILA_CEPH_DRIVER=${MANILA_CEPH_DRIVER:-cephfsnative} # Third argument is the type of Tempest tests to be run, 'api' or 'scenario'. MANILA_TEST_TYPE=$3 MANILA_TEST_TYPE=${MANILA_TEST_TYPE:-api} # Manila drivers don't support creating shares from snapshots even if # snapshots themselves are supported. Let's turn off this capability # in tempest.conf iniset $TEMPEST_CONFIG share capability_create_share_from_snapshot_support False if [[ $MANILA_CEPH_DRIVER == 'cephfsnative' ]]; then export BACKEND_NAME=""CEPHFSNATIVE1"" iniset $TEMPEST_CONFIG share enable_protocols cephfs iniset $TEMPEST_CONFIG share storage_protocol CEPHFS # Disable tempest config option that enables creation of 'ip' type access # rules by default during tempest test runs. iniset $TEMPEST_CONFIG share enable_ip_rules_for_protocols iniset $TEMPEST_CONFIG share enable_cert_rules_for_protocols iniset $TEMPEST_CONFIG share enable_cephx_rules_for_protocols cephfs iniset $TEMPEST_CONFIG share backend_names $BACKEND_NAME # Disable manage/unmanage tests # CephFSNative driver does not yet support manage and unmanage operations of shares. RUN_MANILA_MANAGE_TESTS=${RUN_MANILA_MANAGE_TESTS:-False} iniset $TEMPEST_CONFIG share run_manage_unmanage_tests $RUN_MANILA_MANAGE_TESTS RUN_MANILA_IPV6_TESTS=False elif [[ $MANILA_CEPH_DRIVER == 'cephfsnfs' ]]; then iniset $TEMPEST_CONFIG share enable_protocols nfs iniset $TEMPEST_CONFIG share capability_storage_protocol NFS iniset $TEMPEST_CONFIG share enable_ip_rules_for_protocols nfs RUN_MANILA_IPV6_TESTS=True fi if [[ $ZUUL_BRANCH != ""master"" ]]; then # If testing a stable branch, we need to ensure we're testing with # supported API micro-versions; so set the versions from code if we're # not testing the master branch. If we're testing master, we'll allow # manila-tempest-plugin (which is branchless) tell us what versions it # wants to test. Grab the supported API micro-versions from the code _API_VERSION_REQUEST_PATH=$BASE/new/manila/manila/api/openstack/api_version_request.py _DEFAULT_MIN_VERSION=$(awk '$0 ~ /_MIN_API_VERSION = /{print $3}' $_API_VERSION_REQUEST_PATH) _DEFAULT_MAX_VERSION=$(awk '$0 ~ /_MAX_API_VERSION = /{print $3}' $_API_VERSION_REQUEST_PATH) # Override the *_api_microversion tempest options if present MANILA_TEMPEST_MIN_API_MICROVERSION=${MANILA_TEMPEST_MIN_API_MICROVERSION:-$_DEFAULT_MIN_VERSION} MANILA_TEMPEST_MAX_API_MICROVERSION=${MANILA_TEMPEST_MAX_API_MICROVERSION:-$_DEFAULT_MAX_VERSION} # Set these options in tempest.conf iniset $TEMPEST_CONFIG share min_api_microversion $MANILA_TEMPEST_MIN_API_MICROVERSION iniset $TEMPEST_CONFIG share max_api_microversion $MANILA_TEMPEST_MAX_API_MICROVERSION # NOTE(gouthamr): extra rules are needed to allow VMs to mount storage # from the host. # In master/victoria, this is being done by manila's devstack plugin # See: https://review.opendev.org/724202/ TCP_PORTS=(2049 111 32803 892 875 662) UDP_PORTS=(111 32769 892 875 662) for ipcmd in iptables ip6tables; do sudo $ipcmd -N manila-nfs sudo $ipcmd -I INPUT 1 -j manila-nfs for port in ${TCP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m tcp -p tcp --dport $port -j ACCEPT done for port in ${UDP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m udp -p udp --dport $port -j ACCEPT done done # In master/ussuri, this is being done by manila's devstack plugin # See: https://review.opendev.org/724204/ if [[ ""$(trueorfalse False MANILA_SETUP_IPV6)"" == ""True"" ]]; then # Now that all plugins are loaded, setup BGP here public_gateway_ipv6=$(openstack subnet show ipv6-public-subnet -c gateway_ip -f value) neutron bgp-speaker-create --ip-version 6 --local-as 100 bgpspeaker neutron bgp-speaker-network-add bgpspeaker $PUBLIC_NETWORK_NAME neutron bgp-peer-create --peer-ip $public_gateway_ipv6 --remote-as 200 bgppeer neutron bgp-speaker-peer-add bgpspeaker bgppeer fi fi # Set two retries for CI jobs. iniset $TEMPEST_CONFIG share share_creation_retry_number 2 # Suppress errors in cleanup of resources. SUPPRESS_ERRORS=${SUPPRESS_ERRORS_IN_CLEANUP:-True} iniset $TEMPEST_CONFIG share suppress_errors_in_cleanup $SUPPRESS_ERRORS if [[ $MANILA_BACKEND_TYPE == 'multibackend' ]]; then RUN_MANILA_MULTI_BACKEND_TESTS=True elif [[ $MANILA_BACKEND_TYPE == 'singlebackend' ]]; then RUN_MANILA_MULTI_BACKEND_TESTS=False fi iniset $TEMPEST_CONFIG share multi_backend $RUN_MANILA_MULTI_BACKEND_TESTS # Enable extend tests. RUN_MANILA_EXTEND_TESTS=${RUN_MANILA_EXTEND_TESTS:-True} iniset $TEMPEST_CONFIG share run_extend_tests $RUN_MANILA_EXTEND_TESTS # Enable shrink tests. RUN_MANILA_SHRINK_TESTS=${RUN_MANILA_SHRINK_TESTS:-True} iniset $TEMPEST_CONFIG share run_shrink_tests $RUN_MANILA_SHRINK_TESTS # Disable multi_tenancy tests. iniset $TEMPEST_CONFIG share multitenancy_enabled False # CephFS does not yet suppport cloning of snapshots required to create Manila # shares from snapshots. # Disable snapshot tests RUN_MANILA_SNAPSHOT_TESTS=${RUN_MANILA_SNAPSHOT_TESTS:-False} iniset $TEMPEST_CONFIG share run_snapshot_tests $RUN_MANILA_SNAPSHOT_TESTS # Disable consistency group tests. The lone cephfs driver, cephfs native, # does not yet (2nd Feb, 2016) support, # 'create_consistency_group_from_snapshot' API. RUN_MANILA_CG_TESTS=${RUN_MANILA_CG_TESTS:-False} iniset $TEMPEST_CONFIG share run_consistency_group_tests $RUN_MANILA_CG_TESTS source $BASE/new/devstack/openrc admin admin public_net_id=$(openstack network list --name $PUBLIC_NETWORK_NAME -f value -c ID ) iniset $TEMPEST_CONFIG network public_network_id $public_net_id iniset $TEMPEST_CONFIG share run_ipv6_tests $RUN_MANILA_IPV6_TESTS # Let us control if we die or not. set +o errexit cd $BASE/new/tempest # Workaround for Tempest architectural changes # See bugs: # 1) https://bugs.launchpad.net/manila/+bug/1531049 # 2) https://bugs.launchpad.net/tempest/+bug/1524717 ADMIN_TENANT_NAME=${ADMIN_TENANT_NAME:-""admin""} ADMIN_PASSWORD=${ADMIN_PASSWORD:-""secretadmin""} iniset $TEMPEST_CONFIG auth admin_username ${ADMIN_USERNAME:-""admin""} iniset $TEMPEST_CONFIG auth admin_password $ADMIN_PASSWORD iniset $TEMPEST_CONFIG auth admin_tenant_name $ADMIN_TENANT_NAME iniset $TEMPEST_CONFIG auth admin_domain_name ${ADMIN_DOMAIN_NAME:-""Default""} iniset $TEMPEST_CONFIG identity username ${TEMPEST_USERNAME:-""demo""} iniset $TEMPEST_CONFIG identity password $ADMIN_PASSWORD iniset $TEMPEST_CONFIG identity tenant_name ${TEMPEST_TENANT_NAME:-""demo""} iniset $TEMPEST_CONFIG identity alt_username ${ALT_USERNAME:-""alt_demo""} iniset $TEMPEST_CONFIG identity alt_password $ADMIN_PASSWORD iniset $TEMPEST_CONFIG identity alt_tenant_name ${ALT_TENANT_NAME:-""alt_demo""} iniset $TEMPEST_CONFIG validation ip_version_for_ssh 4 iniset $TEMPEST_CONFIG validation ssh_timeout $BUILD_TIMEOUT iniset $TEMPEST_CONFIG validation network_for_ssh ${PRIVATE_NETWORK_NAME:-""private""} _DEFAULT_TEST_CONCURRENCY=8 echo ""Running tempest manila test suites"" if [[ $MANILA_TEST_TYPE == 'api' ]]; then export MANILA_TESTS='manila_tempest_tests.tests.api' _DEFAULT_TEST_CONCURRENCY=12 elif [[ $MANILA_TEST_TYPE == 'scenario' ]]; then export MANILA_TESTS='manila_tempest_tests.tests.scenario' else export MANILA_TESTS='manila_tempest_tests.tests' fi export MANILA_TEMPEST_CONCURRENCY=${MANILA_TEMPEST_CONCURRENCY:-$_DEFAULT_TEST_CONCURRENCY} sudo -H -u $USER tempest list-plugins sudo -H -u $USER tempest run -r $MANILA_TESTS --concurrency=$MANILA_TEMPEST_CONCURRENCY ",0,289
openstack%2Ftripleo-quickstart~master~Ia79e4b876e31a58f413510c0b34abf2b09aae40a,openstack/tripleo-quickstart,master,Ia79e4b876e31a58f413510c0b34abf2b09aae40a,yum-config-manager --enable no enable,MERGED,2021-05-07 13:08:13.000000000,2021-05-19 23:18:21.000000000,2021-05-19 23:16:56.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-07 13:08:13.000000000', 'files': ['install-deps.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/57c70dd2e62763f01432d45bdb5ea944e66b0877', 'message': 'yum-config-manager --enable no enable\n\nExecuting ./quickstart.sh --install-deps shows this error\nCommand line error: one of the following arguments is required: --save --add-repo --dump --dump-variables --set-enabled --enable --set-disabled --disable\nusage: dnf config-manager [-c [config file]] [-q] [-v] [--version]\n                          [--installroot [path]] [--nodocs] [--noplugins]\n                          [--enableplugin [plugin]] [--disableplugin [plugin]]\n                          [--releasever RELEASEVER] [--setopt SETOPTS]\n                          [--skip-broken] [-h] [--allowerasing]\n                          [-b | --nobest] [-C] [-R [minutes]]\n                          [-d [debug level]] [--debugsolver]\n                          [--showduplicates] [-e ERRORLEVEL] [--obsoletes]\n                          [--rpmverbosity [debug level name]] [-y]\n                          [--assumeno] [--enablerepo [repo]]\n                          [--disablerepo [repo] | --repo [repo]]\n                          [--enable | --disable] [-x [package]]\n                          [--disableexcludes [repo]]\n                          [--repofrompath [repo,path]] [--noautoremove]\n                          [--nogpgcheck] [--color COLOR] [--refresh] [-4] [-6]\n                          [--destdir DESTDIR] [--downloadonly]\n                          [--comment COMMENT] [--bugfix] [--enhancement]\n                          [--newpackage] [--security] [--advisory ADVISORY]\n                          [--bz BUGZILLA] [--cve CVES]\n                          [--sec-severity {Critical,Important,Moderate,Low}]\n                          [--forcearch ARCH] [--save] [--add-repo URL]\n                          [--dump] [--dump-variables]\n                          [--set-enabled | --set-disabled]\n                          [repo [repo ...]]\n\nthis is due to the fact that the flags is not properly set.\n\nThis patch fixes it.\nThis was tested on centos8 and centos 7.8.2003\n\nChange-Id: Ia79e4b876e31a58f413510c0b34abf2b09aae40a\n'}]",0,790239,57c70dd2e62763f01432d45bdb5ea944e66b0877,11,7,1,22954,,,0,"yum-config-manager --enable no enable

Executing ./quickstart.sh --install-deps shows this error
Command line error: one of the following arguments is required: --save --add-repo --dump --dump-variables --set-enabled --enable --set-disabled --disable
usage: dnf config-manager [-c [config file]] [-q] [-v] [--version]
                          [--installroot [path]] [--nodocs] [--noplugins]
                          [--enableplugin [plugin]] [--disableplugin [plugin]]
                          [--releasever RELEASEVER] [--setopt SETOPTS]
                          [--skip-broken] [-h] [--allowerasing]
                          [-b | --nobest] [-C] [-R [minutes]]
                          [-d [debug level]] [--debugsolver]
                          [--showduplicates] [-e ERRORLEVEL] [--obsoletes]
                          [--rpmverbosity [debug level name]] [-y]
                          [--assumeno] [--enablerepo [repo]]
                          [--disablerepo [repo] | --repo [repo]]
                          [--enable | --disable] [-x [package]]
                          [--disableexcludes [repo]]
                          [--repofrompath [repo,path]] [--noautoremove]
                          [--nogpgcheck] [--color COLOR] [--refresh] [-4] [-6]
                          [--destdir DESTDIR] [--downloadonly]
                          [--comment COMMENT] [--bugfix] [--enhancement]
                          [--newpackage] [--security] [--advisory ADVISORY]
                          [--bz BUGZILLA] [--cve CVES]
                          [--sec-severity {Critical,Important,Moderate,Low}]
                          [--forcearch ARCH] [--save] [--add-repo URL]
                          [--dump] [--dump-variables]
                          [--set-enabled | --set-disabled]
                          [repo [repo ...]]

this is due to the fact that the flags is not properly set.

This patch fixes it.
This was tested on centos8 and centos 7.8.2003

Change-Id: Ia79e4b876e31a58f413510c0b34abf2b09aae40a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/39/790239/1 && git format-patch -1 --stdout FETCH_HEAD,['install-deps.sh'],1,57c70dd2e62763f01432d45bdb5ea944e66b0877,yum-config, yum-config-manager --enable epel || true, yum-config-manager enable epel || true,1,1
openstack%2Ftripleo-quickstart-extras~master~I3dca5ab550412aa9957243143cc3389ebff3e3b4,openstack/tripleo-quickstart-extras,master,I3dca5ab550412aa9957243143cc3389ebff3e3b4,Override non-tripleo containers for Downstream CI,MERGED,2021-04-16 10:42:42.000000000,2021-05-19 23:17:03.000000000,2021-05-19 23:17:03.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-04-16 10:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/910b5bea41697171af469616ad1db58011309f7d', 'message': '[dnm]Support content_provider job for downstream\n\nTesting currently\n\nChange-Id: I3dca5ab550412aa9957243143cc3389ebff3e3b4\n'}, {'number': 2, 'created': '2021-04-16 11:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9eb7552142a239e940c68677832d7f60ef6bc2ab', 'message': '[dnm]Support content_provider job for downstream\n\nTesting currently\n\nChange-Id: I3dca5ab550412aa9957243143cc3389ebff3e3b4\n'}, {'number': 3, 'created': '2021-04-26 10:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/012684afb0b98b443389123321b8e8d6321ca296', 'message': '[dnm]Support content_provider job for downstream\n\nTesting currently\n\nChange-Id: I3dca5ab550412aa9957243143cc3389ebff3e3b4\n'}, {'number': 4, 'created': '2021-05-06 11:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/eea1e1f0d6efe6a5c808c81f54418945554b187d', 'message': 'Override non-tripleo containers for Downstream CI\n\nAdding a task that will override list of non-tripleo Containers,\nthis task will only run in downstream ci.\n\nWe will be passing var: downstream_ci_non_tripleo_containers\nthrough downstream release files, by default this is blank[].\n\nChange-Id: I3dca5ab550412aa9957243143cc3389ebff3e3b4\n'}, {'number': 5, 'created': '2021-05-14 15:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/719e207983db2487c7859be10c517a43fb019fc9', 'message': 'Override non-tripleo containers for Downstream CI\n\nAdding a task that will override list of non-tripleo Containers,\nthis task will only run in downstream ci.\n\nWe will be passing var: downstream_ci_non_tripleo_containers\nthrough downstream release files, by default this is blank[].\n\nSkiping failover to rdo/docker for downstream containers.\n\nChange-Id: I3dca5ab550412aa9957243143cc3389ebff3e3b4\n'}, {'number': 6, 'created': '2021-05-17 06:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/72fcc44a6c3cf40ef484d44eca2b2709f3e81769', 'message': 'Override non-tripleo containers for Downstream CI\n\nAdding a task that will override list of non-tripleo Containers,\nthis task will only run in downstream ci. Skipping tasks related\nto setting non_tripleo containers that are not needed in downstream\nci.\n\nWe will be passing var: downstream_ci_non_tripleo_containers\nthrough downstream release files, by default this is blank[].\n\nSkiping failover to rdo/docker registries for downstream containers.\n\nChange-Id: I3dca5ab550412aa9957243143cc3389ebff3e3b4\n'}, {'number': 7, 'created': '2021-05-17 12:25:04.000000000', 'files': ['roles/container-build/tasks/non_tripleo_containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cacda88ebd4d1e781c1232ecd4d8b0317bf61066', 'message': 'Override non-tripleo containers for Downstream CI\n\nAdding a task that will override list of non-tripleo Containers,\nthis task will only run in downstream ci. Skipping tasks related\nto setting non_tripleo containers that are not needed in downstream\nci.\n\nWe will be passing var: downstream_ci_non_tripleo_containers\nthrough downstream release files, by default this is blank[].\n\nSkiping failover to rdo/docker registries for downstream containers.\n\nChange-Id: I3dca5ab550412aa9957243143cc3389ebff3e3b4\n'}]",18,786619,cacda88ebd4d1e781c1232ecd4d8b0317bf61066,56,9,7,29775,,,0,"Override non-tripleo containers for Downstream CI

Adding a task that will override list of non-tripleo Containers,
this task will only run in downstream ci. Skipping tasks related
to setting non_tripleo containers that are not needed in downstream
ci.

We will be passing var: downstream_ci_non_tripleo_containers
through downstream release files, by default this is blank[].

Skiping failover to rdo/docker registries for downstream containers.

Change-Id: I3dca5ab550412aa9957243143cc3389ebff3e3b4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/19/786619/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/container-build/tasks/non_tripleo_containers.yml', 'zuul.d/layout.yaml']",2,910b5bea41697171af469616ad1db58011309f7d,downstream_content_provider,, templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-full-pipeline - tripleo-multinode-branchful - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - tripleo-standalone-multinode-ipa-pipeline - tripleo-upgrades-master-pipeline - openstack-tox-molecule: required-projects: - openstack/tripleo-quickstart - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-containers-undercloud-minion: vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/.*minion.*$ - ^playbooks/.*minion.*$ - tripleo-ci-centos-8-standalone-on-multinode-ipa: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/ipa-multinode.*$ - ^roles/standalone.*$ - ^playbooks/multinode-standalone-ipa.yml.*$ - tripleo-ci-centos-8-repoclosure: files: - ^roles/repoclosure.*$ gate: queue: tripleo jobs: - openstack-tox-linters - openstack-tox-molecule: required-projects: - openstack/tripleo-quickstart - tripleo-ci-centos-8-containers-undercloud-minion: vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/.*minion.*$ - ^playbooks/.*minion.*$,6,56
openstack%2Fdevstack-plugin-ceph~stable%2Fwallaby~I81e838bf13cb32503ee2b8becd06daea5ab01dfa,openstack/devstack-plugin-ceph,stable/wallaby,I81e838bf13cb32503ee2b8becd06daea5ab01dfa,Remove devstack-gate test hooks,MERGED,2021-05-19 02:04:25.000000000,2021-05-19 22:25:21.000000000,2021-05-19 22:24:11.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 02:04:25.000000000', 'files': ['manila/pre_test_hook.sh', 'manila/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/78f6900a8784c63e8f4141046d5c7a91ebdf6755', 'message': 'Remove devstack-gate test hooks\n\ndevstack-plugin-ceph is now branched;\nthese test hooks were maintained to\nsupport legacy style zuul jobs; All\nmanila zuul jobs were ported to native\nzuulv3 style jobs in the victoria cycle\nand no longer rely on these files;\nso we can remove these test hook files\nfrom all three releases (victoria, wallaby,\nxena/trunk).\n\nChange-Id: I81e838bf13cb32503ee2b8becd06daea5ab01dfa\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 837f48de400b85ddd9d97e3bcfcce2cdc0cb6707)\n'}]",0,791952,78f6900a8784c63e8f4141046d5c7a91ebdf6755,9,2,1,16643,,,0,"Remove devstack-gate test hooks

devstack-plugin-ceph is now branched;
these test hooks were maintained to
support legacy style zuul jobs; All
manila zuul jobs were ported to native
zuulv3 style jobs in the victoria cycle
and no longer rely on these files;
so we can remove these test hook files
from all three releases (victoria, wallaby,
xena/trunk).

Change-Id: I81e838bf13cb32503ee2b8becd06daea5ab01dfa
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 837f48de400b85ddd9d97e3bcfcce2cdc0cb6707)
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/52/791952/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/pre_test_hook.sh', 'manila/post_test_hook.sh']",2,78f6900a8784c63e8f4141046d5c7a91ebdf6755,manila,,"#!/bin/bash -xe # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This script is executed inside post_test_hook function in devstack gate. sudo chown -R $USER:stack $BASE/new/tempest sudo chown -R $USER:stack $BASE/data/tempest sudo chmod -R o+rx $BASE/new/devstack/files # Import devstack functions 'iniset'. source $BASE/new/devstack/functions export TEMPEST_CONFIG=$BASE/new/tempest/etc/tempest.conf # === Handle script arguments === # The script arguments as detailed here in the manila CI job # template, # https://github.com/openstack-infra/project-config/commit/6ae99cee70a33d6cc312a7f9a83aa6db8b39ce21 # Handle the relevant ones. # First argument is the type of backend configuration that is setup. It can # either be 'singlebackend' or 'multiplebackend'. MANILA_BACKEND_TYPE=$1 MANILA_BACKEND_TYPE=${MANILA_BACKEND_TYPE:-singlebackend} # Second argument is the type of the cephfs driver that is setup. Currently, # 'cephfsnative' is the only possibility. MANILA_CEPH_DRIVER=$2 MANILA_CEPH_DRIVER=${MANILA_CEPH_DRIVER:-cephfsnative} # Third argument is the type of Tempest tests to be run, 'api' or 'scenario'. MANILA_TEST_TYPE=$3 MANILA_TEST_TYPE=${MANILA_TEST_TYPE:-api} # Manila drivers don't support creating shares from snapshots even if # snapshots themselves are supported. Let's turn off this capability # in tempest.conf iniset $TEMPEST_CONFIG share capability_create_share_from_snapshot_support False if [[ $MANILA_CEPH_DRIVER == 'cephfsnative' ]]; then export BACKEND_NAME=""CEPHFSNATIVE1"" iniset $TEMPEST_CONFIG share enable_protocols cephfs iniset $TEMPEST_CONFIG share storage_protocol CEPHFS # Disable tempest config option that enables creation of 'ip' type access # rules by default during tempest test runs. iniset $TEMPEST_CONFIG share enable_ip_rules_for_protocols iniset $TEMPEST_CONFIG share enable_cert_rules_for_protocols iniset $TEMPEST_CONFIG share enable_cephx_rules_for_protocols cephfs iniset $TEMPEST_CONFIG share backend_names $BACKEND_NAME # Disable manage/unmanage tests # CephFSNative driver does not yet support manage and unmanage operations of shares. RUN_MANILA_MANAGE_TESTS=${RUN_MANILA_MANAGE_TESTS:-False} iniset $TEMPEST_CONFIG share run_manage_unmanage_tests $RUN_MANILA_MANAGE_TESTS RUN_MANILA_IPV6_TESTS=False elif [[ $MANILA_CEPH_DRIVER == 'cephfsnfs' ]]; then iniset $TEMPEST_CONFIG share enable_protocols nfs iniset $TEMPEST_CONFIG share capability_storage_protocol NFS iniset $TEMPEST_CONFIG share enable_ip_rules_for_protocols nfs RUN_MANILA_IPV6_TESTS=True fi if [[ $ZUUL_BRANCH != ""master"" ]]; then # If testing a stable branch, we need to ensure we're testing with # supported API micro-versions; so set the versions from code if we're # not testing the master branch. If we're testing master, we'll allow # manila-tempest-plugin (which is branchless) tell us what versions it # wants to test. Grab the supported API micro-versions from the code _API_VERSION_REQUEST_PATH=$BASE/new/manila/manila/api/openstack/api_version_request.py _DEFAULT_MIN_VERSION=$(awk '$0 ~ /_MIN_API_VERSION = /{print $3}' $_API_VERSION_REQUEST_PATH) _DEFAULT_MAX_VERSION=$(awk '$0 ~ /_MAX_API_VERSION = /{print $3}' $_API_VERSION_REQUEST_PATH) # Override the *_api_microversion tempest options if present MANILA_TEMPEST_MIN_API_MICROVERSION=${MANILA_TEMPEST_MIN_API_MICROVERSION:-$_DEFAULT_MIN_VERSION} MANILA_TEMPEST_MAX_API_MICROVERSION=${MANILA_TEMPEST_MAX_API_MICROVERSION:-$_DEFAULT_MAX_VERSION} # Set these options in tempest.conf iniset $TEMPEST_CONFIG share min_api_microversion $MANILA_TEMPEST_MIN_API_MICROVERSION iniset $TEMPEST_CONFIG share max_api_microversion $MANILA_TEMPEST_MAX_API_MICROVERSION # NOTE(gouthamr): extra rules are needed to allow VMs to mount storage # from the host. # In master/victoria, this is being done by manila's devstack plugin # See: https://review.opendev.org/724202/ TCP_PORTS=(2049 111 32803 892 875 662) UDP_PORTS=(111 32769 892 875 662) for ipcmd in iptables ip6tables; do sudo $ipcmd -N manila-nfs sudo $ipcmd -I INPUT 1 -j manila-nfs for port in ${TCP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m tcp -p tcp --dport $port -j ACCEPT done for port in ${UDP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m udp -p udp --dport $port -j ACCEPT done done # In master/ussuri, this is being done by manila's devstack plugin # See: https://review.opendev.org/724204/ if [[ ""$(trueorfalse False MANILA_SETUP_IPV6)"" == ""True"" ]]; then # Now that all plugins are loaded, setup BGP here public_gateway_ipv6=$(openstack subnet show ipv6-public-subnet -c gateway_ip -f value) neutron bgp-speaker-create --ip-version 6 --local-as 100 bgpspeaker neutron bgp-speaker-network-add bgpspeaker $PUBLIC_NETWORK_NAME neutron bgp-peer-create --peer-ip $public_gateway_ipv6 --remote-as 200 bgppeer neutron bgp-speaker-peer-add bgpspeaker bgppeer fi fi # Set two retries for CI jobs. iniset $TEMPEST_CONFIG share share_creation_retry_number 2 # Suppress errors in cleanup of resources. SUPPRESS_ERRORS=${SUPPRESS_ERRORS_IN_CLEANUP:-True} iniset $TEMPEST_CONFIG share suppress_errors_in_cleanup $SUPPRESS_ERRORS if [[ $MANILA_BACKEND_TYPE == 'multibackend' ]]; then RUN_MANILA_MULTI_BACKEND_TESTS=True elif [[ $MANILA_BACKEND_TYPE == 'singlebackend' ]]; then RUN_MANILA_MULTI_BACKEND_TESTS=False fi iniset $TEMPEST_CONFIG share multi_backend $RUN_MANILA_MULTI_BACKEND_TESTS # Enable extend tests. RUN_MANILA_EXTEND_TESTS=${RUN_MANILA_EXTEND_TESTS:-True} iniset $TEMPEST_CONFIG share run_extend_tests $RUN_MANILA_EXTEND_TESTS # Enable shrink tests. RUN_MANILA_SHRINK_TESTS=${RUN_MANILA_SHRINK_TESTS:-True} iniset $TEMPEST_CONFIG share run_shrink_tests $RUN_MANILA_SHRINK_TESTS # Disable multi_tenancy tests. iniset $TEMPEST_CONFIG share multitenancy_enabled False # CephFS does not yet suppport cloning of snapshots required to create Manila # shares from snapshots. # Disable snapshot tests RUN_MANILA_SNAPSHOT_TESTS=${RUN_MANILA_SNAPSHOT_TESTS:-False} iniset $TEMPEST_CONFIG share run_snapshot_tests $RUN_MANILA_SNAPSHOT_TESTS # Disable consistency group tests. The lone cephfs driver, cephfs native, # does not yet (2nd Feb, 2016) support, # 'create_consistency_group_from_snapshot' API. RUN_MANILA_CG_TESTS=${RUN_MANILA_CG_TESTS:-False} iniset $TEMPEST_CONFIG share run_consistency_group_tests $RUN_MANILA_CG_TESTS source $BASE/new/devstack/openrc admin admin public_net_id=$(openstack network list --name $PUBLIC_NETWORK_NAME -f value -c ID ) iniset $TEMPEST_CONFIG network public_network_id $public_net_id iniset $TEMPEST_CONFIG share run_ipv6_tests $RUN_MANILA_IPV6_TESTS # Let us control if we die or not. set +o errexit cd $BASE/new/tempest # Workaround for Tempest architectural changes # See bugs: # 1) https://bugs.launchpad.net/manila/+bug/1531049 # 2) https://bugs.launchpad.net/tempest/+bug/1524717 ADMIN_TENANT_NAME=${ADMIN_TENANT_NAME:-""admin""} ADMIN_PASSWORD=${ADMIN_PASSWORD:-""secretadmin""} iniset $TEMPEST_CONFIG auth admin_username ${ADMIN_USERNAME:-""admin""} iniset $TEMPEST_CONFIG auth admin_password $ADMIN_PASSWORD iniset $TEMPEST_CONFIG auth admin_tenant_name $ADMIN_TENANT_NAME iniset $TEMPEST_CONFIG auth admin_domain_name ${ADMIN_DOMAIN_NAME:-""Default""} iniset $TEMPEST_CONFIG identity username ${TEMPEST_USERNAME:-""demo""} iniset $TEMPEST_CONFIG identity password $ADMIN_PASSWORD iniset $TEMPEST_CONFIG identity tenant_name ${TEMPEST_TENANT_NAME:-""demo""} iniset $TEMPEST_CONFIG identity alt_username ${ALT_USERNAME:-""alt_demo""} iniset $TEMPEST_CONFIG identity alt_password $ADMIN_PASSWORD iniset $TEMPEST_CONFIG identity alt_tenant_name ${ALT_TENANT_NAME:-""alt_demo""} iniset $TEMPEST_CONFIG validation ip_version_for_ssh 4 iniset $TEMPEST_CONFIG validation ssh_timeout $BUILD_TIMEOUT iniset $TEMPEST_CONFIG validation network_for_ssh ${PRIVATE_NETWORK_NAME:-""private""} _DEFAULT_TEST_CONCURRENCY=8 echo ""Running tempest manila test suites"" if [[ $MANILA_TEST_TYPE == 'api' ]]; then export MANILA_TESTS='manila_tempest_tests.tests.api' _DEFAULT_TEST_CONCURRENCY=12 elif [[ $MANILA_TEST_TYPE == 'scenario' ]]; then export MANILA_TESTS='manila_tempest_tests.tests.scenario' else export MANILA_TESTS='manila_tempest_tests.tests' fi export MANILA_TEMPEST_CONCURRENCY=${MANILA_TEMPEST_CONCURRENCY:-$_DEFAULT_TEST_CONCURRENCY} sudo -H -u $USER tempest list-plugins sudo -H -u $USER tempest run -r $MANILA_TESTS --concurrency=$MANILA_TEMPEST_CONCURRENCY ",0,289
openstack%2Fopenstacksdk~master~Ia572acde839370fd2aca34f0413d2e5937a912d0,openstack/openstacksdk,master,Ia572acde839370fd2aca34f0413d2e5937a912d0,tests: Remove final use of 'TestProxyBase._verify',MERGED,2021-04-27 08:57:20.000000000,2021-05-19 21:34:11.000000000,2021-05-19 21:31:24.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-27 08:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2b872da0ec3b9c4a2c3a7e3718b815d61638bc7f', 'message': ""tests: Remove final use of 'TestProxyBase._verify'\n\nEverything now uses '_verify2'...at least until we rename that in the\nnext patch.\n\nChange-Id: Ia572acde839370fd2aca34f0413d2e5937a912d0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-05-10 16:06:03.000000000', 'files': ['openstack/tests/unit/block_storage/v2/test_proxy.py', 'openstack/tests/unit/image/v2/test_proxy.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/tests/unit/message/v2/test_proxy.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/tests/unit/clustering/v1/test_proxy.py', 'openstack/tests/unit/test_proxy_base.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6f98539497dd7b0507382fcca3ec584f3a2174b0', 'message': ""tests: Remove final use of 'TestProxyBase._verify'\n\nEverything now uses '_verify2'...at least until we rename that in the\nnext patch.\n\nChange-Id: Ia572acde839370fd2aca34f0413d2e5937a912d0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,788216,6f98539497dd7b0507382fcca3ec584f3a2174b0,14,2,2,15334,,,0,"tests: Remove final use of 'TestProxyBase._verify'

Everything now uses '_verify2'...at least until we rename that in the
next patch.

Change-Id: Ia572acde839370fd2aca34f0413d2e5937a912d0
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/16/788216/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/block_storage/v2/test_proxy.py', 'openstack/tests/unit/image/v2/test_proxy.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/tests/unit/message/v2/test_proxy.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/tests/unit/clustering/v1/test_proxy.py', 'openstack/tests/unit/test_proxy_base.py']",8,2b872da0ec3b9c4a2c3a7e3718b815d61638bc7f,placement-in-sdk," if any([ method_args, method_kwargs, expected_args, expected_kwargs, ]): self.assertEqual( method_result, test_method(*method_args, **method_kwargs), ) else: self.assertEqual( expected_result, test_method(*method_args, **method_kwargs), ) called_args, called_kwargs = mocked.call_args self._verify2(mock_method, test_method, **kwargs)"," if any([method_args, method_kwargs, expected_args, expected_kwargs]): self.assertEqual(method_result, test_method(*method_args, **method_kwargs)) else: self.assertEqual(expected_result, test_method(*method_args, **method_kwargs)) (called_args, called_kwargs) = mocked.call_args self._verify(mock_method, test_method, **kwargs)",437,320
openstack%2Ftripleo-ansible~master~I398d24406bafdb34dd0cf793ade8e4085d8fd1b0,openstack/tripleo-ansible,master,I398d24406bafdb34dd0cf793ade8e4085d8fd1b0,Add tripleo_findif_for_ip ansible module,MERGED,2021-04-16 14:58:05.000000000,2021-05-19 21:33:50.000000000,2021-05-19 21:31:02.000000000,"[{'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-04-16 14:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/185a2b01043b0669f39f89fd2126cb03b46e8330', 'message': 'Add tripleo_findif_for_ip ansible module\n\nThis module finds an interface that has the provided IP assigned to it.\n\nChange-Id: I398d24406bafdb34dd0cf793ade8e4085d8fd1b0\n'}, {'number': 2, 'created': '2021-05-05 10:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5fd72c7fe92dc0961ad2bbcf0c5c911c54190902', 'message': 'Add tripleo_findif_for_ip ansible module\n\nThis module finds an interface that has the provided IP assigned to it.\n\nChange-Id: I398d24406bafdb34dd0cf793ade8e4085d8fd1b0\n'}, {'number': 3, 'created': '2021-05-05 14:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/335ef52173bd486e9f359618cec57abdec30567f', 'message': 'Add tripleo_findif_for_ip ansible module\n\nThis module finds an interface that has the provided IP assigned to it.\n\nChange-Id: I398d24406bafdb34dd0cf793ade8e4085d8fd1b0\n'}, {'number': 4, 'created': '2021-05-05 18:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/febe4c7d1dbe857363277f00771e149926048be0', 'message': 'Add tripleo_findif_for_ip ansible module\n\nThis module finds an interface that has the provided IP assigned to it.\n\nChange-Id: I398d24406bafdb34dd0cf793ade8e4085d8fd1b0\n'}, {'number': 5, 'created': '2021-05-06 11:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc697efe70659d168659aee0ed83d9a77ce6afff', 'message': 'Add tripleo_findif_for_ip ansible module\n\nThis module finds an interface that has the provided IP assigned to it.\n\nChange-Id: I398d24406bafdb34dd0cf793ade8e4085d8fd1b0\n'}, {'number': 6, 'created': '2021-05-10 18:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2a6504377f73486694c98a5a606a84ab0837b424', 'message': 'Add tripleo_findif_for_ip ansible module\n\nThis module finds an interface that has the provided IP assigned to it.\n\nChange-Id: I398d24406bafdb34dd0cf793ade8e4085d8fd1b0\n'}, {'number': 7, 'created': '2021-05-10 21:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bb700cb018d05abdf423b456f847d5348e2376c0', 'message': 'Add tripleo_findif_for_ip ansible module\n\nThis module finds an interface that has the provided IP assigned to it.\n\nChange-Id: I398d24406bafdb34dd0cf793ade8e4085d8fd1b0\n'}, {'number': 8, 'created': '2021-05-18 16:41:01.000000000', 'files': ['tripleo_ansible/tests/modules/test_tripleo_findif_for_ip.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_findif_for_ip.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5e826a5852735c3fc911325b90f4ee520b781681', 'message': 'Add tripleo_findif_for_ip ansible module\n\nThis module finds an interface that has the provided IP assigned to it.\n\nChange-Id: I398d24406bafdb34dd0cf793ade8e4085d8fd1b0\n'}]",16,786673,5e826a5852735c3fc911325b90f4ee520b781681,50,7,8,6681,,,0,"Add tripleo_findif_for_ip ansible module

This module finds an interface that has the provided IP assigned to it.

Change-Id: I398d24406bafdb34dd0cf793ade8e4085d8fd1b0
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/73/786673/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/modules/test_tripleo_findif_for_ip.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_findif_for_ip.py']",2,185a2b01043b0669f39f89fd2126cb03b46e8330,designate-unbound,"#!/usr/bin/python # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import json import netaddr import os import subprocess import yaml from ansible.module_utils.basic import AnsibleModule DOCUMENTATION = """""" --- module: tripleo_findif_for_ip author: - OpenStack TripleO Contributors version_added: '1.0' short_description: Finds the interface that an IP address is assigned to. notes: [] requirements: description: - Locates the interface that has the provided IP address assigned to it options: ip_address: description: - The IP address to look for type: str debug: description: - Print debug output. type: bool default: false """""" EXAMPLES = """""" - name: Find the IP address for at vgive tripleo_find_if_for_ip: ip_address: 192.168.24.22 """""" RETURN = """""" interface: description: - if not empty, the interface that has the given IP address returned: always type: str """""" def find_interface(ip_address): out = subprocess.check_output(['ip', '-br', 'addr'], universal_newlines=True) for ifline in out.splitlines(): columns = ifline.strip().split() if len(columns) == 0: continue interface_name = columns[0] ips = columns[2:] for addr in ips: ip = addr.split('/')[0] if ip == ip_address: return interface_name return '' def main(): module = AnsibleModule( argument_spec=yaml.safe_load(DOCUMENTATION)['options'], supports_check_mode=True, ) results = dict( changed=False ) # parse args ip_address = module.params['ip_address'] if netaddr.valid_ipv6(ip_address) or netaddr.valid_ipv4(ip_address): results['interface'] = find_interface(ip_address) else: module.fail_json(msg='%s is not a valid ip address' % ip_address) module.exit_json(**results) if __name__ == '__main__': main() ",,151,0
openstack%2Ftripleo-quickstart~master~Ide514b7f2ea94a1a82bd414840a9adb0a79ade98,openstack/tripleo-quickstart,master,Ide514b7f2ea94a1a82bd414840a9adb0a79ade98,Support using ephemeral Heat,MERGED,2021-02-23 13:46:28.000000000,2021-05-19 21:33:42.000000000,2021-05-19 21:30:59.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-02-23 13:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2ae05c7e7dedc79463a6d31f5334a8446ea6421e', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 2, 'created': '2021-02-24 13:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8a26a4952b9051aa84ffee8e7f77684850dc7dcd', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 3, 'created': '2021-02-24 18:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d49722936e569e37ef0506c276bee90fd55aec32', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 4, 'created': '2021-02-25 02:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9dd4fd96b0db37da7d6ad740633bebd844d922de', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 5, 'created': '2021-02-26 00:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e9d18ae51c2ad8b66932c26185ec6194171109f1', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: Ia6636bf0223f7e51b6b50950a5c8c1413b4a54b0\nDepends-On: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 6, 'created': '2021-02-26 02:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9bc2e339daa3d2035f5f23fb6900c6025018af27', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: If7f40f27aba9edbe6e6604afd244626a238922fc\nDepends-On: Ia6636bf0223f7e51b6b50950a5c8c1413b4a54b0\nDepends-On: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 7, 'created': '2021-03-01 12:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dc1559d2979bf274b5cc8325c5a434d10a5d7684', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: If7f40f27aba9edbe6e6604afd244626a238922fc\nDepends-On: Ia6636bf0223f7e51b6b50950a5c8c1413b4a54b0\nDepends-On: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 8, 'created': '2021-03-01 16:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c66baf61067d7ea680b102e3c0430e524734b7bd', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Idc326cb7baa54a7d2d01a2be002dfffa6a59ef6a\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 9, 'created': '2021-03-02 12:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c3844d3e77a6aabf66cbeb28e61e864bd395e84c', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I2c9cf50363579d4e18aaeaf783770ca7a4266622\nDepends-On: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Idc326cb7baa54a7d2d01a2be002dfffa6a59ef6a\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 10, 'created': '2021-03-04 01:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9146828ccffaab1decff074a394064cf30c89522', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I2c9cf50363579d4e18aaeaf783770ca7a4266622\nDepends-On: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Idc326cb7baa54a7d2d01a2be002dfffa6a59ef6a\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 11, 'created': '2021-04-14 15:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cfddeccf88dfe098caae36deba92f11b3d159b5b', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Idc326cb7baa54a7d2d01a2be002dfffa6a59ef6a\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 12, 'created': '2021-04-20 15:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/513367bc5c790507ca5bbb9da4bcc8fdf3c67aea', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Idc326cb7baa54a7d2d01a2be002dfffa6a59ef6a\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 13, 'created': '2021-04-21 15:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1049c7a7ec1578067660caafb5202ff6ce758d71', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Idc326cb7baa54a7d2d01a2be002dfffa6a59ef6a\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 14, 'created': '2021-04-21 16:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6f0e9770d8f2a1518e92590d697337734ef40b54', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Idc326cb7baa54a7d2d01a2be002dfffa6a59ef6a\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 15, 'created': '2021-04-23 20:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b2951673fbf5aff7266b6d4e9995a5d1b8d2feb8', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: I7a94e0f72ed42b70468a361536bfbf88d158dc14\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 16, 'created': '2021-04-29 22:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b853b5859288345422dc88d2290401144aa1964a', 'message': 'DNM: Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 17, 'created': '2021-05-03 19:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0b37024f90baad3bf1235f40ab898447f9a58927', 'message': 'Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 18, 'created': '2021-05-07 01:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fb6cb8cf9ab05a25c868972b7c08231d2fb0eea0', 'message': 'Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 19, 'created': '2021-05-10 00:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4689c5af3184d9e7268607a995badebe2f3a0999', 'message': 'Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 20, 'created': '2021-05-11 22:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/82e8e1e1e07a1a34a4c49606ce137760a32e20db', 'message': 'Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Ib63813b63c37fa2cee57a211535d43d605131529\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 21, 'created': '2021-05-12 11:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bf85384962e2c577c4ec88c229ccab751d015d3a', 'message': 'Support using ephemeral Heat\n\nUpdate featureset010 for the tripleo-ci-centos-8-containers-multinode\njob to enable using ephemeral heat using the newly added\nephemeral_heat_args variable.\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Ib63813b63c37fa2cee57a211535d43d605131529\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 22, 'created': '2021-05-12 20:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/78987cf0ebf7a0969db4beb57313c823ec6921f3', 'message': 'Support using ephemeral Heat\n\nUpdates the following job to enable using ephemeral heat using the newly\nadded ephemeral_heat/ephemeral_heat_args variable.\n\n- featureset010: tripleo-ci-centos-8-containers-multinode\n- featureset037: tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Ib63813b63c37fa2cee57a211535d43d605131529\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 23, 'created': '2021-05-13 00:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1086bd799c3f09e34ddd2e8ed04797f613eddfdd', 'message': 'Support using ephemeral Heat\n\nUpdates the containers-multinode job to enable using ephemeral heat\nusing the newly added ephemeral_heat/ephemeral_heat_args variable.\n\nSets the\ntripleo-ci-centos-8-scenario000-multinode-oooq-container-updates\n(featureset037) to not use ephemeral heat for now.\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Ib63813b63c37fa2cee57a211535d43d605131529\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 24, 'created': '2021-05-13 00:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/149a07bdcb7d42b220af78517d07fd150e81db15', 'message': 'Support using ephemeral Heat\n\nUpdates the containers-multinode job to enable using ephemeral heat\nusing the newly added ephemeral_heat/ephemeral_heat_args variable.\n\nSets the\ntripleo-ci-centos-8-scenario000-multinode-oooq-container-updates\n(featureset037) to not use ephemeral heat for now.\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Ib63813b63c37fa2cee57a211535d43d605131529\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 25, 'created': '2021-05-13 12:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/80f0a36e41f19ae869700e88a23a97ea7f512ce1', 'message': 'Support using ephemeral Heat\n\nUpdates the containers-multinode job to enable using ephemeral heat\nusing the newly added ephemeral_heat/ephemeral_heat_args variable.\n\nSets the\ntripleo-ci-centos-8-scenario000-multinode-oooq-container-updates\n(featureset037) and tripleo-ci-centos-8-undercloud-containers\n(featureset027) to not use ephemeral heat for now so that we can move\nforward with changing the default in tripleoclient\n(c9c0a5adac08ea2e8465447b4c4a221d8fe4548e)\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Ib63813b63c37fa2cee57a211535d43d605131529\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 26, 'created': '2021-05-14 12:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8b685b04b0decd767b0f51a4ea264aeded5aecde', 'message': 'Support using ephemeral Heat\n\nUpdates the containers-multinode job to enable using ephemeral heat\nusing the newly added ephemeral_heat/ephemeral_heat_args variable.\n\nSets the\ntripleo-ci-centos-8-scenario000-multinode-oooq-container-updates\n(featureset037) and tripleo-ci-centos-8-undercloud-containers\n(featureset027) to not use ephemeral heat for now so that we can move\nforward with changing the default in tripleoclient\n(c9c0a5adac08ea2e8465447b4c4a221d8fe4548e)\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Ib63813b63c37fa2cee57a211535d43d605131529\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 27, 'created': '2021-05-14 12:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e80d9efcfb0fbff5d614a2096e9191cbd6b72860', 'message': 'Support using ephemeral Heat\n\nUpdates the containers-multinode job to enable using ephemeral heat\nusing the newly added ephemeral_heat/ephemeral_heat_args variable.\n\nSets the\ntripleo-ci-centos-8-scenario000-multinode-oooq-container-updates\n(featureset037) and tripleo-ci-centos-8-undercloud-containers\n(featureset027) to not use ephemeral heat for now so that we can move\nforward with changing the default in tripleoclient\n(c9c0a5adac08ea2e8465447b4c4a221d8fe4548e)\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Ib63813b63c37fa2cee57a211535d43d605131529\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 28, 'created': '2021-05-17 17:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/78157effb966f2b62c8cbf1cd702652f6e270d4d', 'message': 'Support using ephemeral Heat\n\nUpdates the containers-multinode job to enable using ephemeral heat\nusing the newly added ephemeral_heat/ephemeral_heat_args variable.\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 29, 'created': '2021-05-18 00:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/008fbc69cf50998baddca900f950219629c836d8', 'message': 'Support using ephemeral Heat\n\nUpdates the containers-multinode job to enable using ephemeral heat\nusing the newly added ephemeral_heat/ephemeral_heat_args variable.\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Ib63813b63c37fa2cee57a211535d43d605131529\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 30, 'created': '2021-05-18 13:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f692fc0579a25e8440ee77c628a0726db2c6d6ec', 'message': 'Support using ephemeral Heat\n\nUpdates the containers-multinode job to enable using ephemeral heat\nusing the newly added ephemeral_heat/ephemeral_heat_args variable.\n\nDepends-On: I29cf6dd8a32242f27a40946688f9dede8968c7f9\nDepends-On: Ib63813b63c37fa2cee57a211535d43d605131529\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}, {'number': 31, 'created': '2021-05-19 12:20:05.000000000', 'files': ['config/general_config/featureset010.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2289341399b6efad8725b2de28f1c416a07f3649', 'message': 'Support using ephemeral Heat\n\nUpdates the containers-multinode job to enable using ephemeral heat\nusing the newly added ephemeral_heat/ephemeral_heat_args variable.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\n'}]",15,777108,2289341399b6efad8725b2de28f1c416a07f3649,207,9,31,7144,,,0,"Support using ephemeral Heat

Updates the containers-multinode job to enable using ephemeral heat
using the newly added ephemeral_heat/ephemeral_heat_args variable.

Implements: blueprint ephemeral-heat-overcloud
Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/08/777108/30 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset010.yml'],1,2ae05c7e7dedc79463a6d31f5334a8446ea6421e,ephemeral-heat,"ephemeral_heat_args: >- {% if not release in ['newton','ocata','pike','queens','rocky','stein','train','ussuri','victoria'] -%} --tripleo-deploy {%- endif %}",,4,0
openstack%2Fcinder~master~I840ad148b8f6be9e1eb7b4ecc25aa436c9c4f1fc,openstack/cinder,master,I840ad148b8f6be9e1eb7b4ecc25aa436c9c4f1fc,Fix bug in ceph backup driver,NEW,2021-03-09 05:18:17.000000000,2021-05-19 21:00:33.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 18058}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-03-09 05:18:17.000000000', 'files': ['cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/680cd1c077abddc5832236c4b6b39c71379005fb', 'message': ""Fix bug in ceph backup driver\n\nIf volume driver is not rbd, volume backup will\nbe full backup. The backup base name should end\nwith backup uuid instead of 'backup.base' and\nshould save as backup service_metadata.\n\nChange-Id: I840ad148b8f6be9e1eb7b4ecc25aa436c9c4f1fc\n""}]",0,779426,680cd1c077abddc5832236c4b6b39c71379005fb,30,10,1,21797,,,0,"Fix bug in ceph backup driver

If volume driver is not rbd, volume backup will
be full backup. The backup base name should end
with backup uuid instead of 'backup.base' and
should save as backup service_metadata.

Change-Id: I840ad148b8f6be9e1eb7b4ecc25aa436c9c4f1fc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/779426/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/ceph.py'],1,680cd1c077abddc5832236c4b6b39c71379005fb,backup_rbd_name," return {'service_metadata': '{""base"": ""%s""}' % backup_name} updates = self._full_backup(backup, volume_file, volume.name, length) backup_name = self._get_backup_base_name(backup.volume_id, backup=backup)"," self._full_backup(backup, volume_file, volume.name, length) # If a source snapshot is provided we assume the base is diff # format. if src_snap: backup_name = self._get_backup_base_name(backup.volume_id, backup=backup) else: backup_name = self._get_backup_base_name(backup.volume_id)",6,8
openstack%2Fopenstacksdk~master~I09da8af13ac7721a9d9b3a107babf3590a3975e4,openstack/openstacksdk,master,I09da8af13ac7721a9d9b3a107babf3590a3975e4,tests: Sanity check 'test_proxy_base',MERGED,2021-04-27 08:57:20.000000000,2021-05-19 20:58:57.000000000,2021-05-19 20:57:29.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-27 08:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/25dedb3e9bfdbd6af0c3919aafd8335449059699', 'message': ""tests: Sanity check 'test_proxy_base'\n\nA lot of things have been tacked on here over the years. Normalize\nthings and make it a little easier to grok.\n\nChange-Id: I09da8af13ac7721a9d9b3a107babf3590a3975e4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-05-10 16:06:03.000000000', 'files': ['openstack/tests/unit/load_balancer/v2/__init__.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/image/v2/_proxy.py', 'openstack/proxy.py', 'openstack/clustering/v1/_proxy.py', 'openstack/tests/unit/database/v1/test_proxy.py', 'openstack/tests/unit/object_store/v1/test_proxy.py', 'openstack/tests/unit/orchestration/v1/test_proxy.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/tests/unit/workflow/v2/__init__.py', 'openstack/tests/unit/dns/v2/test_proxy.py', 'openstack/baremetal/v1/_proxy.py', 'openstack/tests/unit/image/v2/test_proxy.py', 'openstack/tests/unit/workflow/v2/test_proxy.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/tests/unit/message/v2/test_proxy.py', 'openstack/tests/unit/clustering/v1/test_proxy.py', 'openstack/block_storage/v2/_proxy.py', 'openstack/tests/unit/instance_ha/v1/test_proxy.py', 'openstack/tests/unit/test_proxy_base.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/tests/unit/load_balancer/v2/test_proxy.py', 'openstack/compute/v2/_proxy.py', 'openstack/tests/unit/placement/v1/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2e726ef772fc0dc60a883f63b11078c2b82a68c3', 'message': ""tests: Sanity check 'test_proxy_base'\n\nA lot of things have been tacked on here over the years. Normalize\nthings and make it a little easier to grok.\n\nChange-Id: I09da8af13ac7721a9d9b3a107babf3590a3975e4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,788215,2e726ef772fc0dc60a883f63b11078c2b82a68c3,16,2,2,15334,,,0,"tests: Sanity check 'test_proxy_base'

A lot of things have been tacked on here over the years. Normalize
things and make it a little easier to grok.

Change-Id: I09da8af13ac7721a9d9b3a107babf3590a3975e4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/15/788215/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/load_balancer/v2/__init__.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/image/v2/_proxy.py', 'openstack/proxy.py', 'openstack/clustering/v1/_proxy.py', 'openstack/tests/unit/database/v1/test_proxy.py', 'openstack/tests/unit/object_store/v1/test_proxy.py', 'openstack/tests/unit/orchestration/v1/test_proxy.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/tests/unit/workflow/v2/__init__.py', 'openstack/tests/unit/dns/v2/test_proxy.py', 'openstack/baremetal/v1/_proxy.py', 'openstack/tests/unit/image/v2/test_proxy.py', 'openstack/tests/unit/workflow/v2/test_proxy.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/tests/unit/message/v2/test_proxy.py', 'openstack/tests/unit/clustering/v1/test_proxy.py', 'openstack/block_storage/v2/_proxy.py', 'openstack/tests/unit/instance_ha/v1/test_proxy.py', 'openstack/tests/unit/test_proxy_base.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/tests/unit/load_balancer/v2/test_proxy.py', 'openstack/compute/v2/_proxy.py', 'openstack/tests/unit/placement/v1/test_proxy.py']",24,25dedb3e9bfdbd6af0c3919aafd8335449059699,placement-in-sdk, self.verify_list( self.verify_list(, self.verify_list_no_kwargs( self.verify_list_no_kwargs(,427,300
openstack%2Fmanila~master~Iae7787cc4f8d8306649a24e619024a9ca9bb20f7,openstack/manila,master,Iae7787cc4f8d8306649a24e619024a9ca9bb20f7,Fix API reference of share snapshot creation,MERGED,2021-05-19 18:34:29.000000000,2021-05-19 20:58:52.000000000,2021-05-19 19:08:56.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 31721}]","[{'number': 1, 'created': '2021-05-19 18:34:29.000000000', 'files': ['api-ref/source/snapshots.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/95d60c0d48330bcae5d232c6dff221c058b72472', 'message': 'Fix API reference of share snapshot creation\n\nChanges HTTP response status code from 200 to 202.\n\nCloses-Bug: #1928055\nChange-Id: Iae7787cc4f8d8306649a24e619024a9ca9bb20f7\n'}]",0,792238,95d60c0d48330bcae5d232c6dff221c058b72472,10,4,1,33431,,,0,"Fix API reference of share snapshot creation

Changes HTTP response status code from 200 to 202.

Closes-Bug: #1928055
Change-Id: Iae7787cc4f8d8306649a24e619024a9ca9bb20f7
",git fetch https://review.opendev.org/openstack/manila refs/changes/38/792238/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/snapshots.inc'],1,95d60c0d48330bcae5d232c6dff221c058b72472,bug/1928055, - 202, - 200,1,1
openstack%2Foctavia~stable%2Ftrain~I602418264e171a2b1a926eff0b1f9e6dc186295a,openstack/octavia,stable/train,I602418264e171a2b1a926eff0b1f9e6dc186295a,Validate user access to vip_subnet_id when creating a LB,MERGED,2021-05-17 07:12:38.000000000,2021-05-19 20:36:18.000000000,2021-05-19 20:34:23.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:12:38.000000000', 'files': ['octavia/api/v2/controllers/load_balancer.py', 'releasenotes/notes/validate-access-to-vip_subnet_id-48fc92b45529cafd.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/95972fc1129dacab5811f04b62fb06c5c2cec639', 'message': ""Validate user access to vip_subnet_id when creating a LB\n\nA user was able to create a LB using a vip_subnet_id from another user\n(by passing the UUID).\nNow, the vip_subnet_id parameter is validated using the user context,\nso an error is returned if the subnet doesn't belong to the user.\n\nI479019a911b5a1acfc1951d1cbbc2a351089cb4d was a previous attempt to fix\nthat bug but vip_subnet_id check was missing.\n\nStory: 2008586\nTask: 41741\n\nDepends-On: https://review.opendev.org/774157\n\nChange-Id: I602418264e171a2b1a926eff0b1f9e6dc186295a\n(cherry picked from commit 8d86187c0abd282d10a9fbe294df68f9100ad4a0)\n(cherry picked from commit 7d1b81d78f4383af725e0f6557b6dfe37ec74799)\n(cherry picked from commit 73db7b076290aca89544f389decd3b85c14fad0c)\n""}]",0,791650,95972fc1129dacab5811f04b62fb06c5c2cec639,8,3,1,6469,,,0,"Validate user access to vip_subnet_id when creating a LB

A user was able to create a LB using a vip_subnet_id from another user
(by passing the UUID).
Now, the vip_subnet_id parameter is validated using the user context,
so an error is returned if the subnet doesn't belong to the user.

I479019a911b5a1acfc1951d1cbbc2a351089cb4d was a previous attempt to fix
that bug but vip_subnet_id check was missing.

Story: 2008586
Task: 41741

Depends-On: https://review.opendev.org/774157

Change-Id: I602418264e171a2b1a926eff0b1f9e6dc186295a
(cherry picked from commit 8d86187c0abd282d10a9fbe294df68f9100ad4a0)
(cherry picked from commit 7d1b81d78f4383af725e0f6557b6dfe37ec74799)
(cherry picked from commit 73db7b076290aca89544f389decd3b85c14fad0c)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/50/791650/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/load_balancer.py', 'releasenotes/notes/validate-access-to-vip_subnet_id-48fc92b45529cafd.yaml']",2,95972fc1129dacab5811f04b62fb06c5c2cec639,,--- fixes: - | Fix a bug that allowed a user to create a load balancer on a ``vip_subnet_id`` that belongs to another user using the subnet UUID. ,,6,1
openstack%2Foctavia~stable%2Ftrain~I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7,openstack/octavia,stable/train,I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7,Fix rsyslog configuration when disabling logs,MERGED,2021-05-17 07:30:56.000000000,2021-05-19 20:34:37.000000000,2021-05-19 20:32:58.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:30:56.000000000', 'files': ['octavia/tests/unit/common/jinja/logging/test_logging_jinja_cfg.py', 'octavia/common/jinja/logging/templates/10-rsyslog.conf.template', 'releasenotes/notes/fix-error-in-rsyslog-config-a316a7856e1a847a.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/de4514d6103cbe3babea57fae00e9ff5028f71b0', 'message': 'Fix rsyslog configuration when disabling logs\n\nFix an invalid rsyslog configuration when disabling both log offloading\nand local log storage.\n\nStory 2008782\nTask 42173\n\nChange-Id: I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7\n(cherry picked from commit e26664de59eb872a85520c24b5701dae31cd75e9)\n(cherry picked from commit 2195a45a1ba14736211bd7305989e8ae9d5d9934)\n(cherry picked from commit 130bfcd4ae495168d18aea284cd38e40bf949029)\n'}]",0,791660,de4514d6103cbe3babea57fae00e9ff5028f71b0,8,3,1,6469,,,0,"Fix rsyslog configuration when disabling logs

Fix an invalid rsyslog configuration when disabling both log offloading
and local log storage.

Story 2008782
Task 42173

Change-Id: I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7
(cherry picked from commit e26664de59eb872a85520c24b5701dae31cd75e9)
(cherry picked from commit 2195a45a1ba14736211bd7305989e8ae9d5d9934)
(cherry picked from commit 130bfcd4ae495168d18aea284cd38e40bf949029)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/60/791660/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/jinja/logging/test_logging_jinja_cfg.py', 'octavia/common/jinja/logging/templates/10-rsyslog.conf.template', 'releasenotes/notes/fix-error-in-rsyslog-config-a316a7856e1a847a.yaml']",3,de4514d6103cbe3babea57fae00e9ff5028f71b0,,--- fixes: - | Fix an issue with the rsyslog configuration file in the Amphora when the log offloading feature and the local log storage feature are both disabled. ,,35,13
openstack%2Foctavia~stable%2Ftrain~I99ce408ec886820c056b69696b26be9521740f1c,openstack/octavia,stable/train,I99ce408ec886820c056b69696b26be9521740f1c,Fix comment for the ca_certificates_file opt,MERGED,2021-05-17 07:42:27.000000000,2021-05-19 20:29:09.000000000,2021-05-19 20:27:18.000000000,"[{'_account_id': 6476}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:42:27.000000000', 'files': ['octavia/common/config.py', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bb91c6ca759c2cb2ea6d99c4ade7cf025b59d0a1', 'message': 'Fix comment for the ca_certificates_file opt\n\nThe directive [certificates]/ca_certificates_file currently has a\nconfusing comment. This tries to fix it and make it more easy for\nOctavia operators to configure the directive.\n\nChange-Id: I99ce408ec886820c056b69696b26be9521740f1c\n(cherry picked from commit ee0da827b163c15796bf2f19b0785bc0259d5128)\n(cherry picked from commit 20db85fd5236a4daed7ab29931fed91da2295ab0)\n(cherry picked from commit d69d06660633da7370604a45f43e0014d023f9d9)\n(cherry picked from commit a8977b01ad85d06039956744895262629584f425)\n'}]",0,791673,bb91c6ca759c2cb2ea6d99c4ade7cf025b59d0a1,8,4,1,6469,,,0,"Fix comment for the ca_certificates_file opt

The directive [certificates]/ca_certificates_file currently has a
confusing comment. This tries to fix it and make it more easy for
Octavia operators to configure the directive.

Change-Id: I99ce408ec886820c056b69696b26be9521740f1c
(cherry picked from commit ee0da827b163c15796bf2f19b0785bc0259d5128)
(cherry picked from commit 20db85fd5236a4daed7ab29931fed91da2295ab0)
(cherry picked from commit d69d06660633da7370604a45f43e0014d023f9d9)
(cherry picked from commit a8977b01ad85d06039956744895262629584f425)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/73/791673/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'etc/octavia.conf']",2,bb91c6ca759c2cb2ea6d99c4ade7cf025b59d0a1,, # Settings for the key manager endpoint (such as Barbican) # Region in Identity service catalog to use for communication with the key manager service. # Endpoint type to use for communication with the key manager service.# CA certificates file to verify key manager connections when TLS is enabled # ca_certificates_file = # Disable certificate validation on SSL connections # insecure = False ,# # Region in Identity service catalog to use for communication with the Barbican service.# # Endpoint type to use for communication with the Barbican service.,14,5
openstack%2Fkolla-ansible~stable%2Fussuri~I726541f4b3fdc357387a44c6a2153593a10bf282,openstack/kolla-ansible,stable/ussuri,I726541f4b3fdc357387a44c6a2153593a10bf282,baremetal: Install Docker SDK less than 5.0.0,MERGED,2021-05-19 14:06:23.000000000,2021-05-19 20:14:57.000000000,2021-05-19 20:08:11.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-19 14:06:23.000000000', 'files': ['ansible/roles/baremetal/tasks/install.yml', 'releasenotes/notes/bug-1928915-482b2d53bb2a4d92.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b97b388bd10ae39a54f7942340b58125c2b8670a', 'message': 'baremetal: Install Docker SDK less than 5.0.0\n\nDocker 5.0.0 [1] dropped requirement for six, but still imports it.\n\n[1]: https://github.com/docker/docker-py/issues/2807\n\nCloses-Bug: #1928915\nChange-Id: I726541f4b3fdc357387a44c6a2153593a10bf282\n(cherry picked from commit b053bd8ecf2cdbbdf83aeb6777e9502e5db70256)\n'}]",0,792157,b97b388bd10ae39a54f7942340b58125c2b8670a,14,4,1,30491,,,0,"baremetal: Install Docker SDK less than 5.0.0

Docker 5.0.0 [1] dropped requirement for six, but still imports it.

[1]: https://github.com/docker/docker-py/issues/2807

Closes-Bug: #1928915
Change-Id: I726541f4b3fdc357387a44c6a2153593a10bf282
(cherry picked from commit b053bd8ecf2cdbbdf83aeb6777e9502e5db70256)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/792157/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/baremetal/tasks/install.yml', 'releasenotes/notes/bug-1928915-482b2d53bb2a4d92.yaml']",2,b97b388bd10ae39a54f7942340b58125c2b8670a,,--- fixes: - | Fixed an issue where docker python SDK 5.0.0 was failing due to missing six - introduced a constraint to install version lower than 5.x. `LP#1928915 <https://launchpad.net/bugs/1928915>`__ ,,8,1
openstack%2Ftripleo-validations~master~I259c17b7a49ff5bf3476df4da399cc4b2782403d,openstack/tripleo-validations,master,I259c17b7a49ff5bf3476df4da399cc4b2782403d,Remove workaround for tox-ansible and global molecule config,MERGED,2021-05-17 07:21:03.000000000,2021-05-19 20:07:31.000000000,2021-05-19 20:05:04.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-17 07:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fc09f58137dc3c3fd1be298e9f800cdc988e38ed', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n'}, {'number': 2, 'created': '2021-05-17 07:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/91ef9e524dbe439ee7471b442b41bd09d2ca2bb8', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n'}, {'number': 3, 'created': '2021-05-18 13:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a0ec59303b9d152069dd06ec44aa9713e3218d26', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n'}, {'number': 4, 'created': '2021-05-18 14:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/864a17845b4a1a96b7c556898d2ac87d72fc8ce2', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n'}, {'number': 5, 'created': '2021-05-19 10:12:53.000000000', 'files': ['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/frr_status/molecule/faulty/molecule.yml', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'roles/check_kernel_version/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/frr_status/molecule/default/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', 'roles/frr_status/molecule/faulty/Dockerfile', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/repos/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/frr_status/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/check_kernel_version/molecule/default/Dockerfile', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c551910cf5f4ba0b6b00c45ae87ba325d9538baf', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n'}]",43,791655,c551910cf5f4ba0b6b00c45ae87ba325d9538baf,16,4,5,11491,,,0,"Remove workaround for tox-ansible and global molecule config

[1] has been merged and released[2] in upstream tox-ansible and it is now
able to manage global molecule configuration. The workaround, which
consisted in adding the molecule driver name in each scenarios
molecule.yml files, is not necessary anymore.

This patch also removes all the relative symlink to the Dockerfile and
adds directly in the global molecule configuration file.

[1] https://github.com/ansible-community/tox-ansible/pull/89
[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/55/791655/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/frr_status/molecule/faulty/molecule.yml', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'roles/check_kernel_version/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/frr_status/molecule/default/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', 'roles/frr_status/molecule/faulty/Dockerfile', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/repos/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/frr_status/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/check_kernel_version/molecule/default/Dockerfile', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml']",107,fc09f58137dc3c3fd1be298e9f800cdc988e38ed,VALIDATION_DEVELOPMENT_WORKFLOW,,driver: name: podman,1,170
openstack%2Fpython-tripleoclient~master~I65fdbd0ffd42411196b0b3a25690670b76dda2c8,openstack/python-tripleoclient,master,I65fdbd0ffd42411196b0b3a25690670b76dda2c8,Use Validations libs Client for main validation entry point,MERGED,2021-03-29 07:33:21.000000000,2021-05-19 20:07:19.000000000,2021-05-19 20:04:55.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-03-29 07:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/311f269e132bcc5b79fae0a66b520e20b577805e', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n'}, {'number': 2, 'created': '2021-04-14 09:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/915e3917567eb163a38ff0c7fd102bd334d0783a', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n'}, {'number': 3, 'created': '2021-04-16 05:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7ca5281e46e09981dca498fac3ce77f360e6d044', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n'}, {'number': 4, 'created': '2021-04-16 06:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2f622d012a8b404631bbb7193a2ea1bab66dfc0f', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n'}, {'number': 5, 'created': '2021-04-16 08:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/920b5b9f04bf585c6bb7f298851c566a057c4a8c', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n'}, {'number': 6, 'created': '2021-04-21 09:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/09966cbd4f361b8451ecbd7830ec5ffa967070ba', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n'}, {'number': 7, 'created': '2021-04-23 13:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/93f2b509c52013586fc3f6b3ed8e36822b121838', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 8, 'created': '2021-04-23 18:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9223882248a028df7bbef04c8d91edfb943f6b3f', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 9, 'created': '2021-04-30 07:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e79e8dbf1becd71291ce2f5cea8fcd25d97d72a3', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 10, 'created': '2021-05-07 08:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/82193ab351124656ebf39fb2bad5b44bab3b4770', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 11, 'created': '2021-05-12 07:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6c0dfbe127ea03408d90ac57a0290ae45562616a', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 12, 'created': '2021-05-13 07:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/57a917f8a958423b7040ae7fc45bd378f83a9efd', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 13, 'created': '2021-05-17 07:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/59aaf7c7143904a2fb5ad5790e4ba8202c4a15ec', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 14, 'created': '2021-05-17 08:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c35bcb4e835479dfb2296288267e525bd20d8c7d', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n'}, {'number': 15, 'created': '2021-05-17 19:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/834fd72491cb2543894b83a16ee480ce665c0f8f', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n'}, {'number': 16, 'created': '2021-05-17 20:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c90e0fef9e149d401ecd313dcf19a3eb6113f4e8', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n'}, {'number': 17, 'created': '2021-05-17 20:44:17.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tripleoclient/tests/v1/test_tripleo_validator.py', 'tripleoclient/v1/tripleo_validator.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/10a08737703f9d4f152433ff95d5b21c3dfe4ec9', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n'}]",8,783610,10a08737703f9d4f152433ff95d5b21c3dfe4ec9,55,8,17,16515,,,0,"Use Validations libs Client for main validation entry point

This patch implement validations-libs CLI in tripleo-validator
in order to converge and get only one entry point for the validations
in tripleo and Openstack.

Depends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574
Change-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/10/783610/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,311f269e132bcc5b79fae0a66b520e20b577805e,cliff/vf/cli," from validations_libs.cli.list import List from validations_libs.cli.run import Run from validations_libs.cli.show import Show from validations_libs.cli.show import ShowGroup from validations_libs.cli.show import ShowParameter from validations_libs.cli.history import ListHistory from validations_libs.cli.history import GetHistory LOG = logging.getLogger(__name__) class TripleOValidatorList(List): def get_parser(self, parser): parser = super(TripleOValidatorList, self).get_parser(parser) class TripleOValidatorShow(Show): """"""Display detailed information about a Validation"""""" auth_required = False def get_parser(self, parser): parser = super(TripleOValidatorShow, self).get_parser(parser) return parser class TripleOValidatorGroupInfo(ShowGroup): """"""Display detailed information about a Group"""""" auth_required = False def get_parser(self, parser): parser = super(TripleOValidatorGroupInfo, self).get_parser(parser) return parser class TripleOValidatorShowParameter(ShowParameter): """"""Display Validations Parameters"""""" auth_required = False def get_parser(self, parser): parser = super(TripleOValidatorShowParameter, self).get_parser(parser) return parser class TripleOValidatorRun(Run): def get_parser(self, parser): parser = super(TripleOValidatorRun, self).get_parser(parser) class TripleOValidatorShowHistory(ListHistory): def get_parser(self, parser): parser = super(TripleOValidatorShowHistory, self).get_parser(parser) class TripleOValidatorShowRun(GetHistory): """"""Display details about a Validation execution"""""" auth_required = False def get_parser(self, parser): parser = super(TripleOValidatorShowRun, self).get_parser(parser) return parser"," import argparse import jsonimport yaml from openstack import exceptions as os_exceptions from osc_lib import exceptions from osc_lib.i18n import _ from prettytable import PrettyTable from osc_lib.command import command from tripleoclient import utils as oooutils from tripleoclient.workflows import deployment from tripleoclient import constants from validations_libs import constants as v_consts from validations_libs import utils as v_utils from validations_libs.validation_actions import ValidationActions from validations_libs.validation_logs import ValidationLogs LOG = logging.getLogger(__name__ + "".TripleoValidator"") RED = ""\033[1;31m"" GREEN = ""\033[0;32m"" CYAN = ""\033[36m"" YELLOW = ""\033[0;33m"" RESET = ""\033[0;0m"" FAILED_VALIDATION = ""{}FAILED{}"".format(RED, RESET) PASSED_VALIDATION = ""{}PASSED{}"".format(GREEN, RESET) GROUP_FILE = constants.VALIDATION_GROUPS_INFO NO_VALIDATION_STATE = ['DEPLOY_FAILED', 'DEPLOYING'] class _CommaListGroupAction(argparse.Action): def __call__(self, parser, namespace, values, option_string=None): opts = v_utils.get_validation_group_name_list(GROUP_FILE) for value in values.split(','): if value not in opts: message = (""Invalid choice: {value} (choose from {choice})"" .format(value=value, choice=opts)) raise argparse.ArgumentError(self, message) setattr(namespace, self.dest, values.split(',')) class _CommaListAction(argparse.Action): def __call__(self, parser, namespace, values, option_string=None): setattr(namespace, self.dest, values.split(',')) class TripleOValidatorGroupInfo(command.Lister): """"""Display Information about Validation Groups"""""" auth_required = False def get_parser(self, prog_name): parser = super(TripleOValidatorGroupInfo, self).get_parser(prog_name) return parser def take_action(self, parsed_args): actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) return actions.group_information(GROUP_FILE) class TripleOValidatorShow(command.ShowOne): """"""Display detailed information about a Validation"""""" auth_required = False def get_parser(self, prog_name): parser = super(TripleOValidatorShow, self).get_parser(prog_name) parser.add_argument('validation_id', metavar=""<validation>"", type=str, help='Validation ID') return parser def take_action(self, parsed_args): LOG.debug(_('Show validation result')) actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) try: data = actions.show_validations(parsed_args.validation_id) except Exception as e: raise exceptions.CommandError(e) if data: return data.keys(), data.values() class TripleOValidatorShowParameter(command.Command): """"""Display Validations Parameters"""""" auth_required = False def get_parser(self, prog_name): parser = argparse.ArgumentParser( description=self.get_description(), prog=prog_name, formatter_class=argparse.ArgumentDefaultsHelpFormatter, add_help=True ) ex_group = parser.add_mutually_exclusive_group(required=False) ex_group.add_argument( '--validation', metavar='<validation_id>[,<validation_id>,...]', dest='validation_name', action=_CommaListAction, default=[], help=_(""List specific validations, "" ""if more than one validation is required "" ""separate the names with commas: "" ""--validation check-ftype,512e | "" ""--validation 512e"") ) ex_group.add_argument( '--group', metavar='<group_id>[,<group_id>,...]', action=_CommaListGroupAction, default=[], help=_(""List specific group validations, "" ""if more than one group is required "" ""separate the group names with commas: "" ""pre-upgrade,prep | "" ""openshift-on-openstack"") ) parser.add_argument( '--download', action='store', default=None, help=_(""Create a json or a yaml file "" ""containing all the variables "" ""available for the validations: "" ""/tmp/myvars"") ) parser.add_argument( '-f', '--format', action='store', metavar='<format>', default='json', choices=['json', 'yaml'], help=_(""Print representation of the validation. "" ""The choices of the output format is json,yaml. "") ) return parser def take_action(self, parsed_args): actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) params = actions.show_validations_parameters( parsed_args.validation_name, parsed_args.group, parsed_args.format, parsed_args.download) if parsed_args.download: print(""The file {} has been created successfully"".format( parsed_args.download)) else: print(params) class TripleOValidatorList(command.Lister): def get_parser(self, prog_name): parser = super(TripleOValidatorList, self).get_parser(prog_name) parser.add_argument( '--group', metavar='<group>[,<group>,...]', action=_CommaListGroupAction, default=[], help=_(""List specific group validations, "" ""if more than one group is required "" ""separate the group names with commas: "" ""--group pre-upgrade,prep | "" ""--group openshift-on-openstack"") ) def take_action(self, parsed_args): LOG.debug(_('Launch listing the validations')) try: v_consts.DEFAULT_VALIDATIONS_BASEDIR = constants.\ DEFAULT_VALIDATIONS_BASEDIR actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR, parsed_args.group) return actions.list_validations() except Exception as e: raise RuntimeError(_(""Validations listing finished with errors\n"" ""Output: {}"").format(e)) class TripleOValidatorRun(command.Command): def get_parser(self, prog_name): parser = argparse.ArgumentParser( description=self.get_description(), prog=prog_name, formatter_class=argparse.ArgumentDefaultsHelpFormatter, add_help=False ) parser.add_argument( '--plan', '--stack', dest='plan', default=None, help=_(""Execute the validations using a custom plan name"") ) parser.add_argument( '--ssh-user', dest='ssh_user', default='heat-admin', help=_(""Ssh User name for the Overcloud ssh connection."") ) parser.add_argument( '--limit', action='store', required=False, help=_( ""A string that identifies a single node or comma-separated"" ""list of nodes to be upgraded in parallel in this upgrade"" "" run invocation. For example: --limit \""compute-0,"" "" compute-1, compute-5\""."") ) extra_vars_group = parser.add_mutually_exclusive_group(required=False) extra_vars_group.add_argument( '--extra-vars', action='store', default={}, type=json.loads, help=_( ""Add a dictionary as extra variable to a validation: "" ""--extra-vars '{\""min_undercloud_ram_gb\"": 24}'"") ) extra_vars_group.add_argument( '--extra-vars-file', action='store', default='', help=_( ""Add a JSON/YAML file containing extra variable "" ""to a validation: "" ""--extra-vars-file /home/stack/vars.[json|yaml] "" ""If using Mistral, only a valid JSON file will be "" ""supported."" ) ) extra_vars_group.add_argument( '--extra-env-vars', action='store', default={}, type=json.loads, help=_( ""A dictionary as extra environment variables you may need "" ""to provide to your Ansible execution example:"" ""ANSIBLE_STDOUT_CALLBACK=default"") ) extra_vars_group.add_argument( '--static-inventory', action='store', default='', help=_( ""Provide your own static inventory file. You can generate "" ""such an inventory calling tripleo-ansible-inventory command. "" ""Especially useful when heat service isn't available."" ) ) ex_group = parser.add_mutually_exclusive_group(required=True) ex_group.add_argument( '--validation', metavar='<validation_id>[,<validation_id>,...]', dest=""validation_name"", action=_CommaListAction, default=[], help=_(""Run specific validations, "" ""if more than one validation is required "" ""separate the names with commas: "" ""--validation check-ftype,512e | "" ""--validation 512e"") ) ex_group.add_argument( '--group', metavar='<group>[,<group>,...]', action=_CommaListGroupAction, default=[], help=_(""Run specific group validations, "" ""if more than one group is required "" ""separate the group names with commas: "" ""--group pre-upgrade,prep | "" ""--group openshift-on-openstack"") ) def _run_validator_run(self, parsed_args): LOG = logging.getLogger(__name__ + "".ValidationsRunAnsible"") plan = parsed_args.plan # Try to perform OpenStack authentication, if no authentication # and static inventory provided continue, else raise error. try: clients = self.app.client_manager clients._auth_required = True clients.setup_auth() except os_exceptions.ConfigException: msg = ""Running Validations without authentication."" LOG.warning(""{}{}{}"".format(YELLOW, msg, RESET)) if not parsed_args.static_inventory: raise exceptions.CommandError( _(""No static inventory provided, please provide a valid "" ""inventory or use authentication."")) else: if plan: status = deployment.get_deployment_status(clients, plan) if not status or status in NO_VALIDATION_STATE: raise exceptions.CommandError( _(""The plan and the stack '{}' doesn't exist OR are "" ""in 'failed' or 'deploying' state. "" ""Please use a valid plan"".format(plan))) else: msg = ""Running Validations without Overcloud settings."" LOG.warning(""{}{}{}"".format(YELLOW, msg, RESET)) limit = parsed_args.limit extra_vars = parsed_args.extra_vars if parsed_args.extra_vars_file: try: with open(parsed_args.extra_vars_file, 'r') as env_file: extra_vars.update(yaml.safe_load(env_file.read())) except yaml.YAMLError as e: error_msg = ( ""The request body must be properly formatted YAML/JSON. "" ""Details: %s."" % e) raise exceptions.CommandError(error_msg) # We don't check if the file exists in order to support # passing a string such as ""localhost,"", like we can do with # the ""-i"" option of ansible-playbook. if parsed_args.static_inventory: static_inventory = parsed_args.static_inventory else: static_inventory = oooutils.get_tripleo_ansible_inventory( ssh_user=parsed_args.ssh_user, stack=parsed_args.plan, undercloud_connection='local', return_inventory_file_path=True) v_consts.DEFAULT_VALIDATIONS_BASEDIR = constants.\ DEFAULT_VALIDATIONS_BASEDIR actions = ValidationActions() try: results = actions.run_validations( inventory=static_inventory, limit_hosts=limit, group=parsed_args.group, extra_vars=extra_vars, validations_dir=constants.ANSIBLE_VALIDATION_DIR, validation_name=parsed_args.validation_name, extra_env_vars=parsed_args.extra_env_vars, quiet=True) except RuntimeError as e: raise exceptions.CommandError(e) if results: # Build output t = PrettyTable(border=True, header=True, padding_width=1) # Set Field name by getting the result dict keys t.field_names = results[0].keys() for r in results: if r.get('Status_by_Host'): h = [] for host in r['Status_by_Host'].split(', '): _name, _status = host.split(',') color = (GREEN if _status == 'PASSED' else RED) _name = '{}{}{}'.format(color, _name, RESET) h.append(_name) r['Status_by_Host'] = ', '.join(h) if r.get('status'): status = r.get('status') color = (CYAN if status in ['starting', 'running'] else GREEN if status == 'PASSED' else RED) r['status'] = '{}{}{}'.format(color, status, RESET) t.add_row(r.values()) print(t) else: msg = ""No Validation has been run, please check your parameters."" LOG.info(_(msg)) if not parsed_args.static_inventory: LOG.debug(_('Removing static tripleo ansible inventory file')) oooutils.cleanup_tripleo_ansible_inventory_file( static_inventory) def take_action(self, parsed_args): self._run_validator_run(parsed_args) class TripleOValidatorShowRun(command.Command): """"""Display details about a Validation execution"""""" auth_required = False def get_parser(self, prog_name): parser = argparse.ArgumentParser( description=self.get_description(), prog=prog_name, formatter_class=argparse.ArgumentDefaultsHelpFormatter, add_help=False ) parser.add_argument('uuid', metavar=""<uuid>"", type=str, help='Validation UUID Run') parser.add_argument('--full', action='store_true', help='Show Full Details for the run') return parser def take_action(self, parsed_args): vlogs = ValidationLogs() data = vlogs.get_logfile_content_by_uuid(parsed_args.uuid) if data: if parsed_args.full: for d in data: print(json.dumps(d, indent=4, sort_keys=True)) else: for d in data: for p in d.get('validation_output', []): print(json.dumps(p['task'], indent=4, sort_keys=True)) else: raise exceptions.CommandError( ""Could not find the log file linked to this UUID: %s"" % parsed_args.uuid) class TripleOValidatorShowHistory(command.Lister): def get_parser(self, prog_name): parser = super(TripleOValidatorShowHistory, self).get_parser(prog_name) parser.add_argument('--validation', metavar=""<validation>"", type=str, help='Display execution history for a validation') def take_action(self, parsed_args): actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) return actions.show_history(parsed_args.validation)",55,453
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I32e9d17132d188aaddc5f5be578643a5f25ea375,openstack/tripleo-heat-templates,stable/victoria,I32e9d17132d188aaddc5f5be578643a5f25ea375,Config parameters for timemaster service,MERGED,2021-03-30 11:36:07.000000000,2021-05-19 20:07:17.000000000,2021-05-19 20:05:49.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-30 11:36:07.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml', 'deployment/timemaster/timemaster-baremetal-ansible.yaml', 'releasenotes/notes/releasenotes/notes/add_support_for_timemaster-a8dc3e4d5db4e8b3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4be13739505c5e741cc6b15eadb9ee6b71f18ef1', 'message': ""Config parameters for timemaster service\n\ntimemaster service provides HA between different\ntime service i.e chrony, PTP. When timemaster service runs,\nit spwans instances/child processes of chronyd, ptp4l and\nphy2sys. Look at below output.\n\n[root@hareshcomputesriov-0 heat-admin]# systemctl status timemaster\n● timemaster.service - Synchronize system clock to NTP and PTP time\n                       sources\n   Loaded: loaded (/usr/lib/systemd/system/timemaster.service; disabled;\n                   vendor preset: disabled)\n   Active: active (running) since Tue 2020-08-11 17:24:45 UTC; 3s ago\n Main PID: 544428 (timemaster)\n    Tasks: 4 (limit: 357097)\n   Memory: 2.4M\n   CGroup: /system.slice/timemaster.service\n           ├─544428 /usr/sbin/timemaster -f /etc/timemaster.conf\n           ├─544429 /usr/sbin/chronyd -n\n                                      -f /var/run/timemaster/chrony.conf\n           ├─544430 /usr/sbin/ptp4l -l 5\n                                    -f /var/run/timemaster/ptp4l.0.conf\n                                    -H -i eno1\n           └─544431 /usr/sbin/phc2sys -l 5 -a -r -R 1.00\n                                   -z /var/run/timemaster/ptp4l.0.socket\n                                   -t [0:eno1] -n 0 -E ntpshm -M 0\n\nTimemaster service uses /etc/chrony.conf and /etc/ptp4l.conf to create\nruntime instance for these 2 timeservices. These 2 time services sync to\ntheir respective time source. Timemaster provides HA between chrony\nand PTP (between different PTP domains as well which is not part of\nthis patch).Timemaster compares all time sources and use the best\nsources to synchronize the system clock. if chronyd commuication breaks\nthen timemaster will set system time with PTP grand master's provided\ntime and vice a versa.\n\n2 new parameters added by this patch in order to make above work.\n\nIn order to use timemaster service, we need to remove Timesync and\nadd TimeMaster in roles_data.yaml for the role we desire to have\nTimemaster service.\n\n    - OS::TripleO::Services::TimeMaster\n\nChange-Id: I32e9d17132d188aaddc5f5be578643a5f25ea375\nCloses-Bug: #1893025\nDepends-On: https://review.opendev.org/#/c/748431/\nDepends-On: https://review.opendev.org/#/c/749093/\n(cherry picked from commit 98c48b2299a9a4d4cc618d417f1fcd686e99b536)\n""}]",0,783856,4be13739505c5e741cc6b15eadb9ee6b71f18ef1,30,4,1,30229,,,0,"Config parameters for timemaster service

timemaster service provides HA between different
time service i.e chrony, PTP. When timemaster service runs,
it spwans instances/child processes of chronyd, ptp4l and
phy2sys. Look at below output.

[root@hareshcomputesriov-0 heat-admin]# systemctl status timemaster
● timemaster.service - Synchronize system clock to NTP and PTP time
                       sources
   Loaded: loaded (/usr/lib/systemd/system/timemaster.service; disabled;
                   vendor preset: disabled)
   Active: active (running) since Tue 2020-08-11 17:24:45 UTC; 3s ago
 Main PID: 544428 (timemaster)
    Tasks: 4 (limit: 357097)
   Memory: 2.4M
   CGroup: /system.slice/timemaster.service
           ├─544428 /usr/sbin/timemaster -f /etc/timemaster.conf
           ├─544429 /usr/sbin/chronyd -n
                                      -f /var/run/timemaster/chrony.conf
           ├─544430 /usr/sbin/ptp4l -l 5
                                    -f /var/run/timemaster/ptp4l.0.conf
                                    -H -i eno1
           └─544431 /usr/sbin/phc2sys -l 5 -a -r -R 1.00
                                   -z /var/run/timemaster/ptp4l.0.socket
                                   -t [0:eno1] -n 0 -E ntpshm -M 0

Timemaster service uses /etc/chrony.conf and /etc/ptp4l.conf to create
runtime instance for these 2 timeservices. These 2 time services sync to
their respective time source. Timemaster provides HA between chrony
and PTP (between different PTP domains as well which is not part of
this patch).Timemaster compares all time sources and use the best
sources to synchronize the system clock. if chronyd commuication breaks
then timemaster will set system time with PTP grand master's provided
time and vice a versa.

2 new parameters added by this patch in order to make above work.

In order to use timemaster service, we need to remove Timesync and
add TimeMaster in roles_data.yaml for the role we desire to have
Timemaster service.

    - OS::TripleO::Services::TimeMaster

Change-Id: I32e9d17132d188aaddc5f5be578643a5f25ea375
Closes-Bug: #1893025
Depends-On: https://review.opendev.org/#/c/748431/
Depends-On: https://review.opendev.org/#/c/749093/
(cherry picked from commit 98c48b2299a9a4d4cc618d417f1fcd686e99b536)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/783856/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-resource-registry-puppet.j2.yaml', 'deployment/timemaster/timemaster-baremetal-ansible.yaml', 'releasenotes/notes/releasenotes/notes/add_support_for_timemaster-a8dc3e4d5db4e8b3.yaml']",3,4be13739505c5e741cc6b15eadb9ee6b71f18ef1,bug/1893025-stable/victoria,"--- features: - | Adding ptp parameters for timemaster service configuration on overcloud compute node.Timemaster will use already present chrony parameters. PTPMessageTransport, PTPInterfaces are added new. ",,179,0
openstack%2Fvalidations-libs~master~Ied50aaea240943b1eeba0c3c35b74bc7ccdb454c,openstack/validations-libs,master,Ied50aaea240943b1eeba0c3c35b74bc7ccdb454c,Disable quiet mode run when using an Ansible Custom Callback,MERGED,2021-05-11 08:41:09.000000000,2021-05-19 20:07:06.000000000,2021-05-19 20:05:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-11 08:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f911939de8e0f87d94320445b356b812914be549', 'message': 'Disable quiet mode run when using an Ansible Custom Callback\n\nThis patch disables the Ansible execution quiet mode when running\nvalidations with a different Callback by passing --extra-env-vars\nANSIBLE_STDOUT_CALLBACK=default in the command line.\n\nChange-Id: Ied50aaea240943b1eeba0c3c35b74bc7ccdb454c\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-05-11 08:50:43.000000000', 'files': ['validations_libs/cli/run.py', 'validations_libs/tests/cli/test_run.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3e29d447436560627fa43e10ddcc63633919c3ea', 'message': 'Disable quiet mode run when using an Ansible Custom Callback\n\nThis patch disables the Ansible execution quiet mode when running\nvalidations with a different Callback by passing --extra-env-vars\nANSIBLE_STDOUT_CALLBACK=default in the command line.\n\nChange-Id: Ied50aaea240943b1eeba0c3c35b74bc7ccdb454c\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",1,790593,3e29d447436560627fa43e10ddcc63633919c3ea,11,6,2,11491,,,0,"Disable quiet mode run when using an Ansible Custom Callback

This patch disables the Ansible execution quiet mode when running
validations with a different Callback by passing --extra-env-vars
ANSIBLE_STDOUT_CALLBACK=default in the command line.

Change-Id: Ied50aaea240943b1eeba0c3c35b74bc7ccdb454c
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/93/790593/2 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/cli/run.py', 'validations_libs/tests/cli/test_run.py']",2,f911939de8e0f87d94320445b356b812914be549,quiet_mode," def test_run_command_extra_env_vars_with_custom_callback(self, mock_run, mock_user): run_called_args = { 'inventory': 'localhost', 'limit_hosts': None, 'group': [], 'extra_vars': None, 'validations_dir': '/usr/share/ansible/validation-playbooks', 'base_dir': '/usr/share/ansible/', 'validation_name': ['foo'], 'extra_env_vars': {'ANSIBLE_STDOUT_CALLBACK': 'default'}, 'quiet': False, 'ssh_user': 'doe'} arglist = ['--validation', 'foo', '--extra-env-vars', 'ANSIBLE_STDOUT_CALLBACK=default'] verifylist = [('validation_name', ['foo']), ('extra_env_vars', {'ANSIBLE_STDOUT_CALLBACK': 'default'})] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_run.assert_called_with(**run_called_args) @mock.patch('getpass.getuser', return_value='doe') @mock.patch('validations_libs.validation_actions.ValidationActions.' 'run_validations', return_value=fakes.FAKE_SUCCESS_RUN)",,42,3
openstack%2Fvalidations-common~master~I8ac3f731c9d6af983dd902fc94e06a07c2ab9954,openstack/validations-common,master,I8ac3f731c9d6af983dd902fc94e06a07c2ab9954,Remove workaround for tox-ansible and global molecule config,MERGED,2021-05-17 07:35:00.000000000,2021-05-19 20:05:00.000000000,2021-05-19 20:05:00.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-17 07:35:00.000000000', 'files': ['validations_common/roles/xfs_check_ftype/molecule/default/Dockerfile', 'validations_common/roles/check_ram/molecule/default/molecule.yml', 'validations_common/roles/service_status/molecule/docker/Dockerfile', 'validations_common/roles/service_status/molecule/podman/Dockerfile', 'validations_common/roles/validate_selinux/molecule/default/molecule.yml', 'validations_common/roles/xfs_check_ftype/molecule/default/molecule.yml', 'validations_common/roles/dns/molecule/default/Dockerfile', 'validations_common/roles/validate_selinux/molecule/default/Dockerfile', 'validations_common/roles/check_cpu/molecule/default/Dockerfile', 'validations_common/roles/check_selinux_mode/molecule/default/Dockerfile', 'validations_common/roles/service_status/molecule/podman/molecule.yml', 'validations_common/roles/service_status/molecule/default/Dockerfile', 'validations_common/roles/advanced_format_512e_support/molecule/default/Dockerfile', 'validations_common/roles/service_status/molecule/systemd/molecule.yml', 'validations_common/roles/advanced_format_512e_support/molecule/default/molecule.yml', 'validations_common/roles/check_disk_space/molecule/default/molecule.yml', 'validations_common/roles/ntp/molecule/default/Dockerfile', 'validations_common/roles/haproxy/molecule/default/Dockerfile', '.config/molecule/config.yml', 'validations_common/roles/ntp/molecule/default/molecule.yml', 'validations_common/roles/service_status/molecule/docker/molecule.yml', 'validations_common/roles/check_cpu/molecule/default/molecule.yml', 'validations_common/roles/haproxy/molecule/default/molecule.yml', 'validations_common/roles/service_status/molecule/systemd/Dockerfile', 'validations_common/roles/dns/molecule/default/molecule.yml', 'validations_common/roles/check_latest_packages_version/molecule/default/Dockerfile', 'validations_common/roles/check_ram/molecule/default/Dockerfile', 'validations_common/roles/check_latest_packages_version/molecule/default/molecule.yml', 'validations_common/roles/check_selinux_mode/molecule/default/molecule.yml', 'validations_common/roles/check_disk_space/molecule/default/Dockerfile', 'validations_common/roles/service_status/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/1f3c0d2e7b1ec1e28dd7088469baf021b4fc0ccf', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nChange-Id: I8ac3f731c9d6af983dd902fc94e06a07c2ab9954\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,791665,1f3c0d2e7b1ec1e28dd7088469baf021b4fc0ccf,8,4,1,11491,,,0,"Remove workaround for tox-ansible and global molecule config

[1] has been merged and released[2] in upstream tox-ansible and it is now
able to manage global molecule configuration. The workaround, which
consisted in adding the molecule driver name in each scenarios
molecule.yml files, is not necessary anymore.

This patch also removes all the relative symlink to the Dockerfile and
adds directly in the global molecule configuration file.

[1] https://github.com/ansible-community/tox-ansible/pull/89
[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0

Change-Id: I8ac3f731c9d6af983dd902fc94e06a07c2ab9954
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/65/791665/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/roles/xfs_check_ftype/molecule/default/Dockerfile', 'validations_common/roles/check_ram/molecule/default/molecule.yml', 'validations_common/roles/service_status/molecule/docker/Dockerfile', 'validations_common/roles/service_status/molecule/podman/Dockerfile', 'validations_common/roles/validate_selinux/molecule/default/molecule.yml', 'validations_common/roles/xfs_check_ftype/molecule/default/molecule.yml', 'validations_common/roles/dns/molecule/default/Dockerfile', 'validations_common/roles/validate_selinux/molecule/default/Dockerfile', 'validations_common/roles/check_cpu/molecule/default/Dockerfile', 'validations_common/roles/check_selinux_mode/molecule/default/Dockerfile', 'validations_common/roles/service_status/molecule/podman/molecule.yml', 'validations_common/roles/service_status/molecule/default/Dockerfile', 'validations_common/roles/advanced_format_512e_support/molecule/default/Dockerfile', 'validations_common/roles/service_status/molecule/systemd/molecule.yml', 'validations_common/roles/advanced_format_512e_support/molecule/default/molecule.yml', 'validations_common/roles/check_disk_space/molecule/default/molecule.yml', 'validations_common/roles/ntp/molecule/default/Dockerfile', 'validations_common/roles/haproxy/molecule/default/Dockerfile', '.config/molecule/config.yml', 'validations_common/roles/ntp/molecule/default/molecule.yml', 'validations_common/roles/service_status/molecule/docker/molecule.yml', 'validations_common/roles/check_cpu/molecule/default/molecule.yml', 'validations_common/roles/haproxy/molecule/default/molecule.yml', 'validations_common/roles/service_status/molecule/systemd/Dockerfile', 'validations_common/roles/dns/molecule/default/molecule.yml', 'validations_common/roles/check_latest_packages_version/molecule/default/Dockerfile', 'validations_common/roles/check_ram/molecule/default/Dockerfile', 'validations_common/roles/check_latest_packages_version/molecule/default/molecule.yml', 'validations_common/roles/check_selinux_mode/molecule/default/molecule.yml', 'validations_common/roles/check_disk_space/molecule/default/Dockerfile', 'validations_common/roles/service_status/molecule/default/molecule.yml']",31,1f3c0d2e7b1ec1e28dd7088469baf021b4fc0ccf,, dockerfile: ../../../../../.config/molecule/Dockerfile,driver: name: podman dockerfile: Dockerfile,4,61
openstack%2Fheat~master~I353a3ea3d1c5a557bec0d870498529b7d89e62ee,openstack/heat,master,I353a3ea3d1c5a557bec0d870498529b7d89e62ee,Try deleting nova keypair with stored context,NEW,2021-05-19 17:51:27.000000000,2021-05-19 20:02:57.000000000,,"[{'_account_id': 9542}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 17:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8e0ecedfe5f45a2c4290209171ecc1bcfa4da040', 'message': 'Try deleting nova keypair with stored context\n\nnova keypairs are scoped to the user, not to the project, but heat\nstacks are.\n\nIf the stack that creates a keypair is then deleted by a user other than\nthe user that created a stack, the keypair will not be found during\ndelete, ignored as if already deleted out-of-band, and thus left\norphaned. This eventually may lead to keypair quota problems for the\nuser that created the stack if such orphans start to pile up.\n\nThis patch attempst to ease the problem somewhat by re-trying the\nkeypair delete using the stored context (generated from trust).\nAs we use impersonating trusts, this may be able to find the keypair.\n\nThis is still not perfect, as the stored context may have been updated\nif the stack was updated by another user.\nA warning log regarding possible orphaned keypairs was added.\n\nStory: 2008868\nTask: 42398\nChange-Id: I353a3ea3d1c5a557bec0d870498529b7d89e62ee\n'}, {'number': 2, 'created': '2021-05-19 17:58:06.000000000', 'files': ['heat/engine/resources/openstack/nova/keypair.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/c3ae03d804a33f8556cac0d9038534324a23f982', 'message': 'Try deleting nova keypair with stored context\n\nnova keypairs are scoped to the user, not to the project, but heat\nstacks are.\n\nIf the stack that creates a keypair is then deleted by a user other than\nthe user that created a stack, the keypair will not be found during\ndelete, ignored as if already deleted out-of-band, and thus left\norphaned. This eventually may lead to keypair quota problems for the\nuser that created the stack if such orphans start to pile up.\n\nThis patch attempst to ease the problem somewhat by re-trying the\nkeypair delete using the stored context (generated from trust).\nAs we use impersonating trusts, this may be able to find the keypair.\n\nThis is still not perfect, as the stored context may have been updated\nif the stack was updated by another user.\nA warning log regarding possible orphaned keypairs was added.\n\nStory: 2008868\nTask: 42398\nChange-Id: I353a3ea3d1c5a557bec0d870498529b7d89e62ee\n'}]",0,792227,c3ae03d804a33f8556cac0d9038534324a23f982,6,2,2,9542,,,0,"Try deleting nova keypair with stored context

nova keypairs are scoped to the user, not to the project, but heat
stacks are.

If the stack that creates a keypair is then deleted by a user other than
the user that created a stack, the keypair will not be found during
delete, ignored as if already deleted out-of-band, and thus left
orphaned. This eventually may lead to keypair quota problems for the
user that created the stack if such orphans start to pile up.

This patch attempst to ease the problem somewhat by re-trying the
keypair delete using the stored context (generated from trust).
As we use impersonating trusts, this may be able to find the keypair.

This is still not perfect, as the stored context may have been updated
if the stack was updated by another user.
A warning log regarding possible orphaned keypairs was added.

Story: 2008868
Task: 42398
Change-Id: I353a3ea3d1c5a557bec0d870498529b7d89e62ee
",git fetch https://review.opendev.org/openstack/heat refs/changes/27/792227/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/nova/keypair.py'],1,8e0ecedfe5f45a2c4290209171ecc1bcfa4da040,keypair-delete,"from oslo_log import log as logging LOG = logging.getLogger(__name__) # need to try deleting with stored context self.handle_delete() def handle_delete(self): # NOTE(pas-ha) nova keypairs are unique in that they are scoped # to the user, not the project, but the heat stacks are. # when the stack is creating a keypair and stack delete is performed # by a user other than the one that created the stack, the keypair # will be not found by heat using the ""deleting"" user context # and thus be orphaned # What we do here is try to repeat keypair deletion but with # the stored context that was created using trust # TODO(pas-ha) this is still brittle as if there was a stack update # performed by another user, the stored context will be updated too # and may loose the context required to access the keypair created # initially if self.resource_id is None: return None # try to delete with incoming context res = super().handle_delete() # delete was successfull and did not raise NotFound, return its result if res is not None: return res if cfg.CONF.deferred_auth_method == 'trusts': # now try with the stored context LOG.debug(""Nova keypair %s was not found using context "" ""for user %s, retrying with stored context."", self.resource_id, self.context.user_id) trust_ctx = self.stack.stored_context() with self.client_plugin().ignore_not_found: trust_ctx.clients.client(""nova"").keypairs.delete( self.resource_id) return self.resource_id LOG.warning(""Nova keypair %s to be deleted was not found. "" ""Please check for orphaned keypairs manually."") return None", if self.resource_id is None: return with self.client_plugin().ignore_not_found: self.client().keypairs.delete(self.resource_id),39,4
openstack%2Ftripleo-common~master~Ie7bd84f40f3a0bf5155c0bd455815fa3ecacdef4,openstack/tripleo-common,master,Ie7bd84f40f3a0bf5155c0bd455815fa3ecacdef4,Partial-Revert:Skip port if missing mandatory tag,MERGED,2021-05-19 09:29:51.000000000,2021-05-19 19:10:14.000000000,2021-05-19 19:08:36.000000000,"[{'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-05-19 09:29:51.000000000', 'files': ['tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d3286377132ee6b0689a39e52858c07954711d13', 'message': 'Partial-Revert:Skip port if missing mandatory tag\n\nWe need to be more specific when to allow ports without\nmandatory tags. We can ignore OVN mac ports, but we do\ncare about the overcloud node ctlplane ports.\n\nAdd the raise MissingMandatoryNeutronResourceTag back\nin _ports_by_role_and_host.\n\nChange-Id: Ie7bd84f40f3a0bf5155c0bd455815fa3ecacdef4\nCloses-Bug: #1928926\n'}]",0,792095,d3286377132ee6b0689a39e52858c07954711d13,10,6,1,24245,,,0,"Partial-Revert:Skip port if missing mandatory tag

We need to be more specific when to allow ports without
mandatory tags. We can ignore OVN mac ports, but we do
care about the overcloud node ctlplane ports.

Add the raise MissingMandatoryNeutronResourceTag back
in _ports_by_role_and_host.

Change-Id: Ie7bd84f40f3a0bf5155c0bd455815fa3ecacdef4
Closes-Bug: #1928926
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/95/792095/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/inventory.py'],1,d3286377132ee6b0689a39e52858c07954711d13,bug/1928926," # In case of missing required tags, raise an error. # neutron is useless as a inventory source in this case. if not mandatory_tags.issubset(tags): raise exception.MissingMandatoryNeutronResourceTag()"," # In case of missing required tag, this is not a node port and # should be ignored. if not mandatory_tags.issubset(tags): continue",3,3
openstack%2Fvalidations-common~master~Ic9391998dcad74dd82cab4c29de46343663225c6,openstack/validations-common,master,Ic9391998dcad74dd82cab4c29de46343663225c6,Add testing for custom callback feature,MERGED,2021-05-12 08:22:48.000000000,2021-05-19 19:02:00.000000000,2021-05-19 19:02:00.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-12 08:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/64770e32727e9b7348c0aff0ab47d4fbededae92', 'message': 'Add testing for custom callback feature\n\nThis patch adds a custom callback to the execution of the check-cpu and\ncheck-ram validations.\n\nChange-Id: Ic9391998dcad74dd82cab4c29de46343663225c6\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-05-12 08:42:34.000000000', 'files': ['roles/validations/vars/main.yaml', 'roles/validations/tasks/run.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/4a05320ddf610b5a23396b876a394c28f4d47191', 'message': 'Add testing for custom callback feature\n\nThis patch adds a custom callback to the execution of the check-cpu and\ncheck-ram validations.\n\nChange-Id: Ic9391998dcad74dd82cab4c29de46343663225c6\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,790918,4a05320ddf610b5a23396b876a394c28f4d47191,12,5,2,11491,,,0,"Add testing for custom callback feature

This patch adds a custom callback to the execution of the check-cpu and
check-ram validations.

Change-Id: Ic9391998dcad74dd82cab4c29de46343663225c6
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/18/790918/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validations/tasks/run.yaml', 'roles/validations/vars/main.yaml']",2,64770e32727e9b7348c0aff0ab47d4fbededae92,custom_callback," extra_env_args: """" extra_env_args: """" extra_env_args: ""--extra-env-vars ANSIBLE_STDOUT_CALLBACK=default"" extra_env_args: """" extra_env_args: ""--extra-env-vars ANSIBLE_STDOUT_CALLBACK=default"" extra_env_args: """"",,13,2
openstack%2Fdevstack-plugin-ceph~master~I81e838bf13cb32503ee2b8becd06daea5ab01dfa,openstack/devstack-plugin-ceph,master,I81e838bf13cb32503ee2b8becd06daea5ab01dfa,Remove devstack-gate test hooks,MERGED,2021-05-18 19:05:43.000000000,2021-05-19 18:52:35.000000000,2021-05-19 18:51:12.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 19:05:43.000000000', 'files': ['manila/pre_test_hook.sh', 'manila/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/837f48de400b85ddd9d97e3bcfcce2cdc0cb6707', 'message': 'Remove devstack-gate test hooks\n\ndevstack-plugin-ceph is now branched;\nthese test hooks were maintained to\nsupport legacy style zuul jobs; All\nmanila zuul jobs were ported to native\nzuulv3 style jobs in the victoria cycle\nand no longer rely on these files;\nso we can remove these test hook files\nfrom all three releases (victoria, wallaby,\nxena/trunk).\n\nChange-Id: I81e838bf13cb32503ee2b8becd06daea5ab01dfa\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,792037,837f48de400b85ddd9d97e3bcfcce2cdc0cb6707,7,2,1,16643,,,0,"Remove devstack-gate test hooks

devstack-plugin-ceph is now branched;
these test hooks were maintained to
support legacy style zuul jobs; All
manila zuul jobs were ported to native
zuulv3 style jobs in the victoria cycle
and no longer rely on these files;
so we can remove these test hook files
from all three releases (victoria, wallaby,
xena/trunk).

Change-Id: I81e838bf13cb32503ee2b8becd06daea5ab01dfa
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/37/792037/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/pre_test_hook.sh', 'manila/post_test_hook.sh']",2,837f48de400b85ddd9d97e3bcfcce2cdc0cb6707,manila,,"#!/bin/bash -xe # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This script is executed inside post_test_hook function in devstack gate. sudo chown -R $USER:stack $BASE/new/tempest sudo chown -R $USER:stack $BASE/data/tempest sudo chmod -R o+rx $BASE/new/devstack/files # Import devstack functions 'iniset'. source $BASE/new/devstack/functions export TEMPEST_CONFIG=$BASE/new/tempest/etc/tempest.conf # === Handle script arguments === # The script arguments as detailed here in the manila CI job # template, # https://github.com/openstack-infra/project-config/commit/6ae99cee70a33d6cc312a7f9a83aa6db8b39ce21 # Handle the relevant ones. # First argument is the type of backend configuration that is setup. It can # either be 'singlebackend' or 'multiplebackend'. MANILA_BACKEND_TYPE=$1 MANILA_BACKEND_TYPE=${MANILA_BACKEND_TYPE:-singlebackend} # Second argument is the type of the cephfs driver that is setup. Currently, # 'cephfsnative' is the only possibility. MANILA_CEPH_DRIVER=$2 MANILA_CEPH_DRIVER=${MANILA_CEPH_DRIVER:-cephfsnative} # Third argument is the type of Tempest tests to be run, 'api' or 'scenario'. MANILA_TEST_TYPE=$3 MANILA_TEST_TYPE=${MANILA_TEST_TYPE:-api} # Manila drivers don't support creating shares from snapshots even if # snapshots themselves are supported. Let's turn off this capability # in tempest.conf iniset $TEMPEST_CONFIG share capability_create_share_from_snapshot_support False if [[ $MANILA_CEPH_DRIVER == 'cephfsnative' ]]; then export BACKEND_NAME=""CEPHFSNATIVE1"" iniset $TEMPEST_CONFIG share enable_protocols cephfs iniset $TEMPEST_CONFIG share storage_protocol CEPHFS # Disable tempest config option that enables creation of 'ip' type access # rules by default during tempest test runs. iniset $TEMPEST_CONFIG share enable_ip_rules_for_protocols iniset $TEMPEST_CONFIG share enable_cert_rules_for_protocols iniset $TEMPEST_CONFIG share enable_cephx_rules_for_protocols cephfs iniset $TEMPEST_CONFIG share backend_names $BACKEND_NAME # Disable manage/unmanage tests # CephFSNative driver does not yet support manage and unmanage operations of shares. RUN_MANILA_MANAGE_TESTS=${RUN_MANILA_MANAGE_TESTS:-False} iniset $TEMPEST_CONFIG share run_manage_unmanage_tests $RUN_MANILA_MANAGE_TESTS RUN_MANILA_IPV6_TESTS=False elif [[ $MANILA_CEPH_DRIVER == 'cephfsnfs' ]]; then iniset $TEMPEST_CONFIG share enable_protocols nfs iniset $TEMPEST_CONFIG share capability_storage_protocol NFS iniset $TEMPEST_CONFIG share enable_ip_rules_for_protocols nfs RUN_MANILA_IPV6_TESTS=True fi if [[ $ZUUL_BRANCH != ""master"" ]]; then # If testing a stable branch, we need to ensure we're testing with # supported API micro-versions; so set the versions from code if we're # not testing the master branch. If we're testing master, we'll allow # manila-tempest-plugin (which is branchless) tell us what versions it # wants to test. Grab the supported API micro-versions from the code _API_VERSION_REQUEST_PATH=$BASE/new/manila/manila/api/openstack/api_version_request.py _DEFAULT_MIN_VERSION=$(awk '$0 ~ /_MIN_API_VERSION = /{print $3}' $_API_VERSION_REQUEST_PATH) _DEFAULT_MAX_VERSION=$(awk '$0 ~ /_MAX_API_VERSION = /{print $3}' $_API_VERSION_REQUEST_PATH) # Override the *_api_microversion tempest options if present MANILA_TEMPEST_MIN_API_MICROVERSION=${MANILA_TEMPEST_MIN_API_MICROVERSION:-$_DEFAULT_MIN_VERSION} MANILA_TEMPEST_MAX_API_MICROVERSION=${MANILA_TEMPEST_MAX_API_MICROVERSION:-$_DEFAULT_MAX_VERSION} # Set these options in tempest.conf iniset $TEMPEST_CONFIG share min_api_microversion $MANILA_TEMPEST_MIN_API_MICROVERSION iniset $TEMPEST_CONFIG share max_api_microversion $MANILA_TEMPEST_MAX_API_MICROVERSION # NOTE(gouthamr): extra rules are needed to allow VMs to mount storage # from the host. # In master/victoria, this is being done by manila's devstack plugin # See: https://review.opendev.org/724202/ TCP_PORTS=(2049 111 32803 892 875 662) UDP_PORTS=(111 32769 892 875 662) for ipcmd in iptables ip6tables; do sudo $ipcmd -N manila-nfs sudo $ipcmd -I INPUT 1 -j manila-nfs for port in ${TCP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m tcp -p tcp --dport $port -j ACCEPT done for port in ${UDP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m udp -p udp --dport $port -j ACCEPT done done # In master/ussuri, this is being done by manila's devstack plugin # See: https://review.opendev.org/724204/ if [[ ""$(trueorfalse False MANILA_SETUP_IPV6)"" == ""True"" ]]; then # Now that all plugins are loaded, setup BGP here public_gateway_ipv6=$(openstack subnet show ipv6-public-subnet -c gateway_ip -f value) neutron bgp-speaker-create --ip-version 6 --local-as 100 bgpspeaker neutron bgp-speaker-network-add bgpspeaker $PUBLIC_NETWORK_NAME neutron bgp-peer-create --peer-ip $public_gateway_ipv6 --remote-as 200 bgppeer neutron bgp-speaker-peer-add bgpspeaker bgppeer fi fi # Set two retries for CI jobs. iniset $TEMPEST_CONFIG share share_creation_retry_number 2 # Suppress errors in cleanup of resources. SUPPRESS_ERRORS=${SUPPRESS_ERRORS_IN_CLEANUP:-True} iniset $TEMPEST_CONFIG share suppress_errors_in_cleanup $SUPPRESS_ERRORS if [[ $MANILA_BACKEND_TYPE == 'multibackend' ]]; then RUN_MANILA_MULTI_BACKEND_TESTS=True elif [[ $MANILA_BACKEND_TYPE == 'singlebackend' ]]; then RUN_MANILA_MULTI_BACKEND_TESTS=False fi iniset $TEMPEST_CONFIG share multi_backend $RUN_MANILA_MULTI_BACKEND_TESTS # Enable extend tests. RUN_MANILA_EXTEND_TESTS=${RUN_MANILA_EXTEND_TESTS:-True} iniset $TEMPEST_CONFIG share run_extend_tests $RUN_MANILA_EXTEND_TESTS # Enable shrink tests. RUN_MANILA_SHRINK_TESTS=${RUN_MANILA_SHRINK_TESTS:-True} iniset $TEMPEST_CONFIG share run_shrink_tests $RUN_MANILA_SHRINK_TESTS # Disable multi_tenancy tests. iniset $TEMPEST_CONFIG share multitenancy_enabled False # CephFS does not yet suppport cloning of snapshots required to create Manila # shares from snapshots. # Disable snapshot tests RUN_MANILA_SNAPSHOT_TESTS=${RUN_MANILA_SNAPSHOT_TESTS:-False} iniset $TEMPEST_CONFIG share run_snapshot_tests $RUN_MANILA_SNAPSHOT_TESTS # Disable consistency group tests. The lone cephfs driver, cephfs native, # does not yet (2nd Feb, 2016) support, # 'create_consistency_group_from_snapshot' API. RUN_MANILA_CG_TESTS=${RUN_MANILA_CG_TESTS:-False} iniset $TEMPEST_CONFIG share run_consistency_group_tests $RUN_MANILA_CG_TESTS source $BASE/new/devstack/openrc admin admin public_net_id=$(openstack network list --name $PUBLIC_NETWORK_NAME -f value -c ID ) iniset $TEMPEST_CONFIG network public_network_id $public_net_id iniset $TEMPEST_CONFIG share run_ipv6_tests $RUN_MANILA_IPV6_TESTS # Let us control if we die or not. set +o errexit cd $BASE/new/tempest # Workaround for Tempest architectural changes # See bugs: # 1) https://bugs.launchpad.net/manila/+bug/1531049 # 2) https://bugs.launchpad.net/tempest/+bug/1524717 ADMIN_TENANT_NAME=${ADMIN_TENANT_NAME:-""admin""} ADMIN_PASSWORD=${ADMIN_PASSWORD:-""secretadmin""} iniset $TEMPEST_CONFIG auth admin_username ${ADMIN_USERNAME:-""admin""} iniset $TEMPEST_CONFIG auth admin_password $ADMIN_PASSWORD iniset $TEMPEST_CONFIG auth admin_tenant_name $ADMIN_TENANT_NAME iniset $TEMPEST_CONFIG auth admin_domain_name ${ADMIN_DOMAIN_NAME:-""Default""} iniset $TEMPEST_CONFIG identity username ${TEMPEST_USERNAME:-""demo""} iniset $TEMPEST_CONFIG identity password $ADMIN_PASSWORD iniset $TEMPEST_CONFIG identity tenant_name ${TEMPEST_TENANT_NAME:-""demo""} iniset $TEMPEST_CONFIG identity alt_username ${ALT_USERNAME:-""alt_demo""} iniset $TEMPEST_CONFIG identity alt_password $ADMIN_PASSWORD iniset $TEMPEST_CONFIG identity alt_tenant_name ${ALT_TENANT_NAME:-""alt_demo""} iniset $TEMPEST_CONFIG validation ip_version_for_ssh 4 iniset $TEMPEST_CONFIG validation ssh_timeout $BUILD_TIMEOUT iniset $TEMPEST_CONFIG validation network_for_ssh ${PRIVATE_NETWORK_NAME:-""private""} _DEFAULT_TEST_CONCURRENCY=8 echo ""Running tempest manila test suites"" if [[ $MANILA_TEST_TYPE == 'api' ]]; then export MANILA_TESTS='manila_tempest_tests.tests.api' _DEFAULT_TEST_CONCURRENCY=12 elif [[ $MANILA_TEST_TYPE == 'scenario' ]]; then export MANILA_TESTS='manila_tempest_tests.tests.scenario' else export MANILA_TESTS='manila_tempest_tests.tests' fi export MANILA_TEMPEST_CONCURRENCY=${MANILA_TEMPEST_CONCURRENCY:-$_DEFAULT_TEST_CONCURRENCY} sudo -H -u $USER tempest list-plugins sudo -H -u $USER tempest run -r $MANILA_TESTS --concurrency=$MANILA_TEMPEST_CONCURRENCY ",0,289
openstack%2Fmanila~stable%2Fwallaby~I304bf59b3f8c0d5b847078a5752bac8ac4f21690,openstack/manila,stable/wallaby,I304bf59b3f8c0d5b847078a5752bac8ac4f21690,[Glusterfs] Fix create share from snapshot failed,MERGED,2021-04-29 10:21:50.000000000,2021-05-19 18:35:21.000000000,2021-05-19 18:33:39.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-04-29 10:21:50.000000000', 'files': ['releasenotes/notes/bug-1922075-fix-Glusterfs-create-share-from-snapshot-failed-053a583522a6fc0e.yaml', 'manila/tests/share/drivers/glusterfs/test_layout_volume.py', 'manila/share/drivers/glusterfs/layout_volume.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/3635ade670cce08525c946eb9029940d86fcafa8', 'message': '[Glusterfs] Fix create share from snapshot failed\n\n1、After performing a snapshot clone of the glusterfs vol,\n  the status of the vol is\'Created\', and the parameter\n  ""gluster volume set nfs.rpc-auth-reject\'*\'"" is required for\n  the vol in the\'Started\' state.\n2、The cloned volume needs to activate the snapshot,\n  if the snapshot is already activated, you need to skip the activation step\n\nCloses-Bug: #1922075\nChange-Id: I304bf59b3f8c0d5b847078a5752bac8ac4f21690\n(cherry picked from commit 63e255248b7072c92c084a0cea269a27bd47f813)\n'}]",0,788608,3635ade670cce08525c946eb9029940d86fcafa8,15,4,1,31506,,,0,"[Glusterfs] Fix create share from snapshot failed

1、After performing a snapshot clone of the glusterfs vol,
  the status of the vol is'Created', and the parameter
  ""gluster volume set nfs.rpc-auth-reject'*'"" is required for
  the vol in the'Started' state.
2、The cloned volume needs to activate the snapshot,
  if the snapshot is already activated, you need to skip the activation step

Closes-Bug: #1922075
Change-Id: I304bf59b3f8c0d5b847078a5752bac8ac4f21690
(cherry picked from commit 63e255248b7072c92c084a0cea269a27bd47f813)
",git fetch https://review.opendev.org/openstack/manila refs/changes/08/788608/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1922075-fix-Glusterfs-create-share-from-snapshot-failed-053a583522a6fc0e.yaml', 'manila/tests/share/drivers/glusterfs/test_layout_volume.py', 'manila/share/drivers/glusterfs/layout_volume.py']",3,3635ade670cce08525c946eb9029940d86fcafa8,bug/1922075," # Query the status of the snapshot, if it is Started, the activate # step will be skipped args = ('snapshot', 'info', backend_snapshot_name) out, err = old_gmgr.gluster_call( *args, log=(""Query the status of the snapshot"")) gfs_snapshot_state = """" for gfs_snapshot_info in out.split('\t'): gfs_snapshot_states = re.search(r'Started', gfs_snapshot_info, re.I) if gfs_snapshot_states: gfs_snapshot_state = ""Started"" if gfs_snapshot_state == ""Started"": args_tuple = (('snapshot', 'clone', volume, backend_snapshot_name), ('volume', 'start', volume)) else: args_tuple = (('snapshot', 'activate', backend_snapshot_name, 'force', '--mode=script'), ('snapshot', 'clone', volume, backend_snapshot_name), ('volume', 'start', volume)) export = [export, ] ('set', [USER_MANILA_SHARE, share['id']]))"," args_tuple = (('snapshot', 'activate', backend_snapshot_name, 'force', '--mode=script'), ('snapshot', 'clone', volume, backend_snapshot_name)) ('set', [USER_MANILA_SHARE, share['id']]), ('start', []))",41,11
openstack%2Ftripleo-quickstart~master~I3343794ae4a2f86eccc6db8c1c01e2594806eccf,openstack/tripleo-quickstart,master,I3343794ae4a2f86eccc6db8c1c01e2594806eccf,fix yum-config-manager invocation,ABANDONED,2021-05-19 14:58:26.000000000,2021-05-19 18:32:57.000000000,,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-19 14:58:26.000000000', 'files': ['install-deps.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d4cbdba7d4e37ad74df1144b43ec2382f6240cba', 'message': 'fix yum-config-manager invocation\n\nCloses-Bug: #1928955\nChange-Id: I3343794ae4a2f86eccc6db8c1c01e2594806eccf\n'}]",0,792186,d4cbdba7d4e37ad74df1144b43ec2382f6240cba,7,3,1,9592,,,0,"fix yum-config-manager invocation

Closes-Bug: #1928955
Change-Id: I3343794ae4a2f86eccc6db8c1c01e2594806eccf
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/86/792186/1 && git format-patch -1 --stdout FETCH_HEAD,['install-deps.sh'],1,d4cbdba7d4e37ad74df1144b43ec2382f6240cba,, # this can log a dnf config-manager error vs. yum-config-manager yum-config-manager --enable epel || true, yum-config-manager enable epel || true,3,1
openstack%2Fosc-lib~master~I7b7cff4887ec77e4c9d98809150d9064eedafaf6,openstack/osc-lib,master,I7b7cff4887ec77e4c9d98809150d9064eedafaf6,Add support for SDK auth caching,MERGED,2020-12-05 14:39:42.000000000,2021-05-19 18:25:31.000000000,2021-04-09 16:58:30.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-12-05 14:39:42.000000000', 'files': ['osc_lib/shell.py', 'osc_lib/clientmanager.py'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/25011a09df8ca12d512802eb64ef61686e7d186a', 'message': 'Add support for SDK auth caching\n\nSDK starts caching authorization state in keyring (when available and\nenabled). Respecting it requires few minor changes: closing connection\nand reusing auth_ref.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/735352\nChange-Id: I7b7cff4887ec77e4c9d98809150d9064eedafaf6\n'}]",2,765650,25011a09df8ca12d512802eb64ef61686e7d186a,10,3,1,27900,,,0,"Add support for SDK auth caching

SDK starts caching authorization state in keyring (when available and
enabled). Respecting it requires few minor changes: closing connection
and reusing auth_ref.

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/735352
Change-Id: I7b7cff4887ec77e4c9d98809150d9064eedafaf6
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/50/765650/1 && git format-patch -1 --stdout FETCH_HEAD,"['osc_lib/shell.py', 'osc_lib/clientmanager.py']",2,25011a09df8ca12d512802eb64ef61686e7d186a,," # We might get auth_ref from SDK cacnihg if hasattr(self.auth, 'auth_ref') and self.auth.auth_ref: self._auth_ref = self.auth.auth_ref ",,8,0
openstack%2Fheat~master~Icb950f7fcaf4be652c617d269c7b26d1f694d2ed,openstack/heat,master,Icb950f7fcaf4be652c617d269c7b26d1f694d2ed,DNM: testing policy json fallback,ABANDONED,2021-03-31 21:55:53.000000000,2021-05-19 18:03:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-31 21:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cdb7950b8273b76cf682fca55d63207d0d915cc8', 'message': 'DNM: testing policy json fallback\n\nChange-Id: Icb950f7fcaf4be652c617d269c7b26d1f694d2ed\n'}, {'number': 2, 'created': '2021-05-14 16:41:38.000000000', 'files': ['heat/common/policy.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/2235477976e4d51cfc87b083ac9e0e9a15387b17', 'message': 'DNM: testing policy json fallback\n\nChange-Id: Icb950f7fcaf4be652c617d269c7b26d1f694d2ed\n'}]",0,784174,2235477976e4d51cfc87b083ac9e0e9a15387b17,9,1,2,8556,,,0,"DNM: testing policy json fallback

Change-Id: Icb950f7fcaf4be652c617d269c7b26d1f694d2ed
",git fetch https://review.opendev.org/openstack/heat refs/changes/74/784174/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/common/policy.py'],1,cdb7950b8273b76cf682fca55d63207d0d915cc8,testing," CONF, default_rule=default_rule, policy_file=policy_file, fallback_to_json_file=False)"," CONF, default_rule=default_rule, policy_file=policy_file)",2,1
openstack%2Fmagnum-ui~stable%2Fvictoria~I382a56ddf4ecf7e76b1a0ecb4446754c1ceecce3,openstack/magnum-ui,stable/victoria,I382a56ddf4ecf7e76b1a0ecb4446754c1ceecce3,Add overlay2 to Docker storage driver dropdown,MERGED,2021-04-22 13:26:44.000000000,2021-05-19 17:40:04.000000000,2021-05-19 17:38:42.000000000,"[{'_account_id': 6484}, {'_account_id': 16352}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-04-22 13:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/0b6a7b3aeda83a8b9ec6888169b1d8a605c7a326', 'message': 'Add overlay2 to Docker storage driver dropdown\n\nChange-Id: I382a56ddf4ecf7e76b1a0ecb4446754c1ceecce3\n(cherry picked from commit 565614ff35deb9e7316299c812782aa7dcf3b57b)\n'}, {'number': 2, 'created': '2021-04-22 16:39:35.000000000', 'files': ['magnum_ui/static/dashboard/container-infra/cluster-templates/workflow/workflow.service.js'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/8ea0351c7852e92ca556df332e18f28f56608fdb', 'message': 'Add overlay2 to Docker storage driver dropdown\n\nChange-Id: I382a56ddf4ecf7e76b1a0ecb4446754c1ceecce3\n(cherry picked from commit 565614ff35deb9e7316299c812782aa7dcf3b57b)\n'}]",0,787559,8ea0351c7852e92ca556df332e18f28f56608fdb,11,5,2,16137,,,0,"Add overlay2 to Docker storage driver dropdown

Change-Id: I382a56ddf4ecf7e76b1a0ecb4446754c1ceecce3
(cherry picked from commit 565614ff35deb9e7316299c812782aa7dcf3b57b)
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/59/787559/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_ui/static/dashboard/container-infra/cluster-templates/workflow/workflow.service.js'],1,0b6a7b3aeda83a8b9ec6888169b1d8a605c7a326,," {value: ""overlay"", name: gettext(""Overlay"")}, {value: ""overlay2"", name: gettext(""Overlay2"")}"," {value: ""overlay"", name: gettext(""Overlay"")}",2,1
openstack%2Fmagnum-ui~stable%2Fvictoria~I2a340ad11483321aae7a64a53ddda09cb5bc9aa7,openstack/magnum-ui,stable/victoria,I2a340ad11483321aae7a64a53ddda09cb5bc9aa7,Fix testing,MERGED,2021-04-22 14:35:08.000000000,2021-05-19 17:38:50.000000000,2021-05-19 17:36:34.000000000,"[{'_account_id': 6484}, {'_account_id': 16352}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-04-22 14:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/7a73ebadbcecc45e1d686133bd922f468059bb1c', 'message': 'Fix hacking\n\nChange-Id: I2a340ad11483321aae7a64a53ddda09cb5bc9aa7\n'}, {'number': 2, 'created': '2021-04-22 15:50:36.000000000', 'files': ['test-requirements.txt', 'magnum_ui/test/api_tests/test_rest_api.py', 'tools/install_venv_common.py', 'lower-constraints.txt', 'tools/install_venv.py', 'magnum_ui/api/rest/magnum.py'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/e16d09d428e2b1a490eac08286453cc11f8765d9', 'message': 'Fix testing\n\nChange-Id: I2a340ad11483321aae7a64a53ddda09cb5bc9aa7\n'}]",0,787580,e16d09d428e2b1a490eac08286453cc11f8765d9,15,5,2,16137,,,0,"Fix testing

Change-Id: I2a340ad11483321aae7a64a53ddda09cb5bc9aa7
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/80/787580/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'magnum_ui/test/api_tests/test_rest_api.py', 'tools/install_venv_common.py', 'tools/install_venv.py', 'magnum_ui/api/rest/magnum.py']",5,7a73ebadbcecc45e1d686133bd922f468059bb1c,," if (server.name.startswith(""%s-minion"" % stack.stack_name) or # noqa"," if (server.name.startswith(""%s-minion"" % stack.stack_name) or",5,8
openstack%2Fkolla-ansible~stable%2Ftrain~I726541f4b3fdc357387a44c6a2153593a10bf282,openstack/kolla-ansible,stable/train,I726541f4b3fdc357387a44c6a2153593a10bf282,baremetal: Install Docker SDK less than 5.0.0,MERGED,2021-05-19 14:07:16.000000000,2021-05-19 17:11:56.000000000,2021-05-19 17:10:31.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-19 14:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac8a54c8a8b4dd3e4c57f692447ac8ce01469752', 'message': 'baremetal: Install Docker SDK less than 5.0.0\n\nDocker 5.0.0 [1] dropped requirement for six, but still imports it.\n\n[1]: https://github.com/docker/docker-py/issues/2807\n\nCloses-Bug: #1928915\nChange-Id: I726541f4b3fdc357387a44c6a2153593a10bf282\n(cherry picked from commit b053bd8ecf2cdbbdf83aeb6777e9502e5db70256)\n'}, {'number': 2, 'created': '2021-05-19 14:08:33.000000000', 'files': ['ansible/roles/baremetal/tasks/install.yml', 'releasenotes/notes/bug-1928915-482b2d53bb2a4d92.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56eefd8c429433480de5925d841de27d40c655e0', 'message': 'baremetal: Install Docker SDK less than 5.0.0\n\nDocker 5.0.0 [1] dropped requirement for six, but still imports it.\n\n[1]: https://github.com/docker/docker-py/issues/2807\n\nCloses-Bug: #1928915\nChange-Id: I726541f4b3fdc357387a44c6a2153593a10bf282\n(cherry picked from commit b053bd8ecf2cdbbdf83aeb6777e9502e5db70256)\n'}]",0,792158,56eefd8c429433480de5925d841de27d40c655e0,10,5,2,30491,,,0,"baremetal: Install Docker SDK less than 5.0.0

Docker 5.0.0 [1] dropped requirement for six, but still imports it.

[1]: https://github.com/docker/docker-py/issues/2807

Closes-Bug: #1928915
Change-Id: I726541f4b3fdc357387a44c6a2153593a10bf282
(cherry picked from commit b053bd8ecf2cdbbdf83aeb6777e9502e5db70256)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/792158/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/baremetal/tasks/install.yml', 'releasenotes/notes/bug-1928915-482b2d53bb2a4d92.yaml']",2,ac8a54c8a8b4dd3e4c57f692447ac8ce01469752,,--- fixes: - | Fixed an issue where docker python SDK 5.0.0 was failing due to missing six - introduced a constraint to install version lower than 5.x. `LP#1928915 <https://launchpad.net/bugs/1928915>`__ ,,13,0
openstack%2Ftripleo-validations~master~I6f7a94393f44a63145375a9b490d85714dd0545a,openstack/tripleo-validations,master,I6f7a94393f44a63145375a9b490d85714dd0545a,Increasing number of files triggering build of docs,MERGED,2021-05-19 08:26:42.000000000,2021-05-19 16:48:44.000000000,2021-05-19 16:44:56.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-19 08:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8f7c9a32b7f6ab73f51478129b128fb671094afd', 'message': 'Increasing number of files triggering build of docs\n\nUpper constraints on the packages used for building\ndocumentation were introduced, to reduce chance\nof incompatible package versions causing build failures.\n\nCounterpart to: I8021f786476b61bbf88bf21a1151ce3198f7abbd\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6f7a94393f44a63145375a9b490d85714dd0545a\n'}, {'number': 2, 'created': '2021-05-19 09:01:00.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ba689ae5b93c949f97320b7123d602d30883357e', 'message': 'Increasing number of files triggering build of docs\n\nUpper constraints on the packages used for building\ndocumentation were introduced, to reduce chance\nof incompatible package versions causing build failures.\n\nCounterpart to: I8021f786476b61bbf88bf21a1151ce3198f7abbd\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6f7a94393f44a63145375a9b490d85714dd0545a\n'}]",4,792083,ba689ae5b93c949f97320b7123d602d30883357e,12,9,2,32926,,,0,"Increasing number of files triggering build of docs

Upper constraints on the packages used for building
documentation were introduced, to reduce chance
of incompatible package versions causing build failures.

Counterpart to: I8021f786476b61bbf88bf21a1151ce3198f7abbd

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6f7a94393f44a63145375a9b490d85714dd0545a
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/83/792083/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'tox.ini']",2,8f7c9a32b7f6ab73f51478129b128fb671094afd,docs/job-trigger, -c {env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},,5,0
openstack%2Fvalidations-common~master~I1a49dc16f65652ad7b1d9736d333c502d563870a,openstack/validations-common,master,I1a49dc16f65652ad7b1d9736d333c502d563870a,Temporary fetch logs adjustement to detect log folder,MERGED,2021-05-05 11:02:17.000000000,2021-05-19 16:44:51.000000000,2021-05-19 16:44:51.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-05 11:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b73454b43050915f003fab8a5c75e9e3a082c9f5', 'message': 'DNM Trying to get more info\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I1a49dc16f65652ad7b1d9736d333c502d563870a\n'}, {'number': 2, 'created': '2021-05-05 12:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c8d9aa066f3c55ad52925e09cf1f30a01177accf', 'message': 'DNM Trying to get more info\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I1a49dc16f65652ad7b1d9736d333c502d563870a\n'}, {'number': 3, 'created': '2021-05-05 13:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c35c9cf963280f54f1433bc973992fd1d4876fdd', 'message': 'DNM Trying to get more info\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I1a49dc16f65652ad7b1d9736d333c502d563870a\n'}, {'number': 4, 'created': '2021-05-07 13:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/968b4dab451913ee545e05a9e312002a15b48011', 'message': 'DNM Trying to get more info\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I1a49dc16f65652ad7b1d9736d333c502d563870a\n'}, {'number': 5, 'created': '2021-05-07 15:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ae5b3914b0dbb104d3236e75a1f385e7ff91d304', 'message': 'DNM Trying to get more info\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I1a49dc16f65652ad7b1d9736d333c502d563870a\n'}, {'number': 6, 'created': '2021-05-07 16:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2c5f77f1e128ffa415655eaf8ecb6b67bd806ad0', 'message': 'DNM Trying to get more info\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I1a49dc16f65652ad7b1d9736d333c502d563870a\n'}, {'number': 7, 'created': '2021-05-10 08:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2ac79fe175234b926f64a312e147bea10398c57e', 'message': 'Temporary fetch logs adjustement to detect log folder\n\nfetch_validations role detects presence of the new\nlog folder, created via the new log path mechanism\nintroduced in the 36c9b8cbcbdfe35ba9b10b72c5b52a56c4ce9099\nof the validations-libs.\n\nThe task should be removed once the related validations-libs\npatch is safely merged.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I1a49dc16f65652ad7b1d9736d333c502d563870a\n'}, {'number': 8, 'created': '2021-05-18 06:45:40.000000000', 'files': ['roles/fetch_validations/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/48c99bdcf8cc6d0284bcbff4049884aa890d5344', 'message': 'Temporary fetch logs adjustement to detect log folder\n\nfetch_validations role detects presence of the new\nlog folder, created via the new log path mechanism\nintroduced in the 36c9b8cbcbdfe35ba9b10b72c5b52a56c4ce9099\nof the validations-libs.\n\nThe task should be removed once the related validations-libs\npatch is safely merged.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I1a49dc16f65652ad7b1d9736d333c502d563870a\n'}]",4,789782,48c99bdcf8cc6d0284bcbff4049884aa890d5344,27,7,8,32926,,,0,"Temporary fetch logs adjustement to detect log folder

fetch_validations role detects presence of the new
log folder, created via the new log path mechanism
introduced in the 36c9b8cbcbdfe35ba9b10b72c5b52a56c4ce9099
of the validations-libs.

The task should be removed once the related validations-libs
patch is safely merged.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I1a49dc16f65652ad7b1d9736d333c502d563870a
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/82/789782/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/fetch_validations/tasks/main.yaml'],1,b73454b43050915f003fab8a5c75e9e3a082c9f5,zuul/fetch/extralogs," paths: - ""{{ output_dir }}"" - /home/zuul"," paths: ""{{ output_dir }}""",3,1
openstack%2Fos-brick~stable%2Fvictoria~I0278c502806b99f8ec65cb146e3852e43031e9b8,openstack/os-brick,stable/victoria,I0278c502806b99f8ec65cb146e3852e43031e9b8,Avoid unhandled exceptions during connecting to iSCSI portals,MERGED,2021-03-09 11:37:38.000000000,2021-05-19 16:15:55.000000000,2021-05-19 16:14:32.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 21570}, {'_account_id': 22348}, {'_account_id': 30092}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-03-09 11:37:38.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'releasenotes/notes/bug-1915678-901a6bd24ecede72.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/57c8f4334c0e58b151f449f3316bb9e1c8ed6da4', 'message': 'Avoid unhandled exceptions during connecting to iSCSI portals\n\nCurrently we don\'t properly catch some possible exceptions during\nconnectiing to iSCSI portals, like failures in ""iscsiadm -m session"".\nBecause of this _connect_vol threads can abort unexpectedly in some\nfailure patterns, and this abort causes hung in subsequent steps\nwaiting for results from _connct_vol threads.\n\nThis change ensures that any exceptions during connecting to iSCSI\nportals are handled in the _connect_vol method corectly, to avoid\nunexpected abort without updating thread results.\n\nCloses-Bug: #1915678\nChange-Id: I0278c502806b99f8ec65cb146e3852e43031e9b8\n(cherry picked from commit 4478433550ddab970f106636a4ba5fbba82c5e39)\n'}]",0,779461,57c8f4334c0e58b151f449f3316bb9e1c8ed6da4,19,7,1,9816,,,0,"Avoid unhandled exceptions during connecting to iSCSI portals

Currently we don't properly catch some possible exceptions during
connectiing to iSCSI portals, like failures in ""iscsiadm -m session"".
Because of this _connect_vol threads can abort unexpectedly in some
failure patterns, and this abort causes hung in subsequent steps
waiting for results from _connct_vol threads.

This change ensures that any exceptions during connecting to iSCSI
portals are handled in the _connect_vol method corectly, to avoid
unexpected abort without updating thread results.

Closes-Bug: #1915678
Change-Id: I0278c502806b99f8ec65cb146e3852e43031e9b8
(cherry picked from commit 4478433550ddab970f106636a4ba5fbba82c5e39)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/61/779461/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'releasenotes/notes/bug-1915678-901a6bd24ecede72.yaml']",3,57c8f4334c0e58b151f449f3316bb9e1c8ed6da4,bug/1915678,--- fixes: - | `Bug #1915678 <https://bugs.launchpad.net/cinder/+bug/1915678>`_: Fix unhandled exception during iscsi volume attachment with multipath enabled that resulted in the cinder-volume service becoming stuck and requiring a restart. ,,34,10
openstack%2Fmanila~stable%2Fwallaby~I3a2cdc4fe835d95669a0e65617d7c3873264140a,openstack/manila,stable/wallaby,I3a2cdc4fe835d95669a0e65617d7c3873264140a,[stable/wallaby-only] Set max api version via plugin.sh,MERGED,2021-05-18 18:56:18.000000000,2021-05-19 16:13:40.000000000,2021-05-19 16:12:05.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-05-18 18:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bda544c6313204d08fc9c8fc8eaee77437958763', 'message': ""[stable/wallaby-only] Set max api version via plugin.sh\n\nmanila's tempest plugin is branchless and can at\nany time add tests for API microversions incompatible\nwith this stable branch.\n\nWe used to configure test API versions via the post test\nhook when relying on devstack-gate. However, API version\nconfig makes sense whenever we use devstack and have\ntempest enabled. This will help us simplify default\njob configuration in the manila-tempest-plugin repository.\n\nSince the API version won't change on a stable branch,\nhard-coding the versions (as other micro-versioned services\ndo in their devstack) doesn't pose any risk of failing\nreality.\n\nChange-Id: I3a2cdc4fe835d95669a0e65617d7c3873264140a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2021-05-19 00:32:51.000000000', 'files': ['contrib/ci/post_test_hook.sh', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/2a24b3f6ea080591a3d7a4a28064a24c180b067c', 'message': ""[stable/wallaby-only] Set max api version via plugin.sh\n\nmanila's tempest plugin is branchless and can at\nany time add tests for API microversions incompatible\nwith this stable branch.\n\nWe used to configure test API versions via the post test\nhook when relying on devstack-gate. However, API version\nconfig makes sense whenever we use devstack and have\ntempest enabled. This will help us simplify default\njob configuration in the manila-tempest-plugin repository.\n\nSince the API version won't change on a stable branch,\nhard-coding the versions (as other micro-versioned services\ndo in their devstack) doesn't pose any risk of failing\nreality.\n\nRelated-Bug: #1928879\nChange-Id: I3a2cdc4fe835d95669a0e65617d7c3873264140a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,792034,2a24b3f6ea080591a3d7a4a28064a24c180b067c,19,4,2,16643,,,0,"[stable/wallaby-only] Set max api version via plugin.sh

manila's tempest plugin is branchless and can at
any time add tests for API microversions incompatible
with this stable branch.

We used to configure test API versions via the post test
hook when relying on devstack-gate. However, API version
config makes sense whenever we use devstack and have
tempest enabled. This will help us simplify default
job configuration in the manila-tempest-plugin repository.

Since the API version won't change on a stable branch,
hard-coding the versions (as other micro-versioned services
do in their devstack) doesn't pose any risk of failing
reality.

Related-Bug: #1928879
Change-Id: I3a2cdc4fe835d95669a0e65617d7c3873264140a
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/34/792034/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/ci/post_test_hook.sh', 'devstack/plugin.sh']",2,bda544c6313204d08fc9c8fc8eaee77437958763,bug/1928879, # Max API micro-version for tempest tests iniset $TEMPEST_CONFIG share min_api_microversion 2.0 iniset $TEMPEST_CONFIG share max_api_microversion 2.63 ,,5,17
openstack%2Fpython-cloudkittyclient~master~I98f287e4654ecb6b92d4f3815f359b205b06559a,openstack/python-cloudkittyclient,master,I98f287e4654ecb6b92d4f3815f359b205b06559a,Fix PDF docs build,MERGED,2021-05-18 07:44:16.000000000,2021-05-19 16:10:07.000000000,2021-05-19 16:08:55.000000000,"[{'_account_id': 7042}, {'_account_id': 15197}, {'_account_id': 16532}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 29503}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-18 07:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/f35f98d9c34ad778ef7ba3cbf03d609c5518fe46', 'message': 'Update tox config\n\nUpdate dependencies to include upper-constraints. This resolves issues\nwith building PDF docs.\n\nChange-Id: I98f287e4654ecb6b92d4f3815f359b205b06559a\n'}, {'number': 2, 'created': '2021-05-18 07:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/f4167602d7db0cf1b5daa7e136745eece7096258', 'message': 'Fix PDF docs build\n\nUpdate tox config to include upper-constraints as dependencies. This\nresolves issues with building PDF docs.\n\nChange-Id: I98f287e4654ecb6b92d4f3815f359b205b06559a\n'}, {'number': 3, 'created': '2021-05-18 09:09:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/d2c2323bf840ac76a2aaf0d3ef146b80eb34de87', 'message': 'Fix PDF docs build\n\nUpdate tox config to include upper-constraints as dependencies. This\nresolves issues with building PDF docs.\n\nChange-Id: I98f287e4654ecb6b92d4f3815f359b205b06559a\n'}]",0,791897,d2c2323bf840ac76a2aaf0d3ef146b80eb34de87,13,11,3,15197,,,0,"Fix PDF docs build

Update tox config to include upper-constraints as dependencies. This
resolves issues with building PDF docs.

Change-Id: I98f287e4654ecb6b92d4f3815f359b205b06559a
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/97/791897/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f35f98d9c34ad778ef7ba3cbf03d609c5518fe46,fix-pdf-docs,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,1
openstack%2Fheat-dashboard~master~I6fb8e2cd8a67032ae31becf336aac56554ee824a,openstack/heat-dashboard,master,I6fb8e2cd8a67032ae31becf336aac56554ee824a,Add horizon-nodejs14-job template.,MERGED,2021-04-27 12:51:55.000000000,2021-05-19 16:09:27.000000000,2021-05-19 16:06:10.000000000,"[{'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 12:51:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/6e698bbe09c74b7854e088d363d3e097ce776d1c', 'message': 'Add horizon-nodejs14-job template.\n\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/784062\nChange-Id: I6fb8e2cd8a67032ae31becf336aac56554ee824a\n'}]",0,788284,6e698bbe09c74b7854e088d363d3e097ce776d1c,9,4,1,29313,,,0,"Add horizon-nodejs14-job template.

Depends-On: https://review.opendev.org/c/openstack/horizon/+/784062
Change-Id: I6fb8e2cd8a67032ae31becf336aac56554ee824a
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/84/788284/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6e698bbe09c74b7854e088d363d3e097ce776d1c,migrate-to-nodejs14, - horizon-nodejs14-jobs,,1,0
openstack%2Foctavia-tempest-plugin~master~I653a06c94d692b510a3c4ac0d4932a42ded865b4,openstack/octavia-tempest-plugin,master,I653a06c94d692b510a3c4ac0d4932a42ded865b4,Add an lxd octavia scenario job,ABANDONED,2019-02-10 18:34:50.000000000,2021-05-19 16:05:25.000000000,,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-10 18:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/58b8538c24b113896044cb311383d04bb9ca3df5', 'message': 'Add an lxd octavia scenario job\n\nDepends-On: https://review.openstack.org/#/c/636066\nDepends-On: https://review.openstack.org/#/c/636067/\nChange-Id: I653a06c94d692b510a3c4ac0d4932a42ded865b4\n'}, {'number': 2, 'created': '2019-02-10 19:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bca2a99ebf680136ad0f8702be47ee21352a39bd', 'message': 'Add an lxd octavia scenario job\n\nDepends-On: https://review.openstack.org/#/c/636066\nDepends-On: https://review.openstack.org/#/c/636067/\nChange-Id: I653a06c94d692b510a3c4ac0d4932a42ded865b4\n'}, {'number': 3, 'created': '2019-02-10 23:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/76339cd7abf15b0b14068ca4bb7be878b1496e4c', 'message': 'Add an lxd octavia scenario job\n\nDepends-On: https://review.openstack.org/#/c/636066\nDepends-On: https://review.openstack.org/#/c/636067/\nChange-Id: I653a06c94d692b510a3c4ac0d4932a42ded865b4\n'}, {'number': 4, 'created': '2019-02-10 23:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/582a54a0f134ddf56b2ab3445aee7d7d3b4d93bc', 'message': 'Add an lxd octavia scenario job\n\nDepends-On: https://review.openstack.org/#/c/636066\nDepends-On: https://review.openstack.org/#/c/636067/\nChange-Id: I653a06c94d692b510a3c4ac0d4932a42ded865b4\n'}, {'number': 5, 'created': '2019-02-11 00:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7a5619ab9bccb2b54eb83c2aa01858a42efb1541', 'message': 'Add an lxd octavia scenario job\n\nDepends-On: https://review.openstack.org/#/c/636066\nDepends-On: https://review.openstack.org/#/c/636067/\nChange-Id: I653a06c94d692b510a3c4ac0d4932a42ded865b4\n'}, {'number': 6, 'created': '2019-02-11 19:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6a7925227549e3556f0d6188ba022c281e2559ce', 'message': 'Add an lxd octavia scenario job\n\nDepends-On: https://review.openstack.org/#/c/636066\nDepends-On: https://review.openstack.org/#/c/636067/\nChange-Id: I653a06c94d692b510a3c4ac0d4932a42ded865b4\n'}, {'number': 7, 'created': '2019-05-16 16:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3e393eeaa68d79f818c6952db554eb1b74c9c752', 'message': 'Add an lxd octavia scenario job\n\nDepends-On: https://review.openstack.org/#/c/636066\nChange-Id: I653a06c94d692b510a3c4ac0d4932a42ded865b4\n'}, {'number': 8, 'created': '2019-05-16 16:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/838d519c5bbbdb46ee7f55df319dacae81f3f34b', 'message': 'Add an lxd octavia scenario job\n\nDepends-On: https://review.openstack.org/#/c/636066\nChange-Id: I653a06c94d692b510a3c4ac0d4932a42ded865b4\n'}, {'number': 9, 'created': '2019-06-12 17:06:40.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/45655df74152a0b7508bcb7185e8916620f5bace', 'message': 'Add an lxd octavia scenario job\n\nDepends-On: https://review.opendev.org/#/c/636066\nChange-Id: I653a06c94d692b510a3c4ac0d4932a42ded865b4\n'}]",2,636069,45655df74152a0b7508bcb7185e8916620f5bace,42,3,9,11628,,,0,"Add an lxd octavia scenario job

Depends-On: https://review.opendev.org/#/c/636066
Change-Id: I653a06c94d692b510a3c4ac0d4932a42ded865b4
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/69/636069/8 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,58b8538c24b113896044cb311383d04bb9ca3df5,lxd,- job: name: octavia-v2-dsvm-scenario-lxd parent: octavia-v2-dsvm-scenario required-projects: - openstack/nova-lxd vars: tempest_test_regex: ^octavia_tempest_plugin.tests.barbican_scenario.v2 devstack_plugins: nova-lxd: https://git.openstack.org/openstack/nova-lxd.git devstack_localrc: OCTAVIA_AMP_IMAGE_TYPE: tar OCTAVIA_LXC_PRIVILEGED: True ,,15,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I726541f4b3fdc357387a44c6a2153593a10bf282,openstack/kolla-ansible,stable/wallaby,I726541f4b3fdc357387a44c6a2153593a10bf282,baremetal: Install Docker SDK less than 5.0.0,MERGED,2021-05-19 13:26:07.000000000,2021-05-19 16:02:48.000000000,2021-05-19 16:01:32.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-19 13:26:07.000000000', 'files': ['ansible/roles/baremetal/tasks/install.yml', 'releasenotes/notes/bug-1928915-482b2d53bb2a4d92.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ee8bd456bdad0b44f572ee62733259b8bb86dfb5', 'message': 'baremetal: Install Docker SDK less than 5.0.0\n\nDocker 5.0.0 [1] dropped requirement for six, but still imports it.\n\n[1]: https://github.com/docker/docker-py/issues/2807\n\nCloses-Bug: #1928915\nChange-Id: I726541f4b3fdc357387a44c6a2153593a10bf282\n(cherry picked from commit b053bd8ecf2cdbbdf83aeb6777e9502e5db70256)\n'}]",0,792110,ee8bd456bdad0b44f572ee62733259b8bb86dfb5,10,4,1,30491,,,0,"baremetal: Install Docker SDK less than 5.0.0

Docker 5.0.0 [1] dropped requirement for six, but still imports it.

[1]: https://github.com/docker/docker-py/issues/2807

Closes-Bug: #1928915
Change-Id: I726541f4b3fdc357387a44c6a2153593a10bf282
(cherry picked from commit b053bd8ecf2cdbbdf83aeb6777e9502e5db70256)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/792110/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/baremetal/tasks/install.yml', 'releasenotes/notes/bug-1928915-482b2d53bb2a4d92.yaml']",2,ee8bd456bdad0b44f572ee62733259b8bb86dfb5,,--- fixes: - | Fixed an issue where docker python SDK 5.0.0 was failing due to missing six - introduced a constraint to install version lower than 5.x. `LP#1928915 <https://launchpad.net/bugs/1928915>`__ ,,8,1
openstack%2Fneutron-tempest-plugin~master~Iafa52d60050c12ea10ab1bfb4d6147f886303ea5,openstack/neutron-tempest-plugin,master,Iafa52d60050c12ea10ab1bfb4d6147f886303ea5,Unset new rolevar for run-tempest role for rocky jobs,MERGED,2021-04-16 13:39:22.000000000,2021-05-19 15:53:12.000000000,2021-05-19 15:53:12.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-16 13:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/931a2b6e16c7b3646dff77c6daef96e2677989a8', 'message': 'Switch to new rolevar for run-temepst role for rocky and queens jobs\n\nIt was done for newer branches in [1] some time ago but it seems that\nit has to be done also in the jobs for stable/rocky and stable/queens.\n\nIt is like that because it seems that roles defined in Tempest repo\n(run-tempest) is always used from master branch, even if tempest is\npinned in devstack to be e.g. 23.0.0 (for Rocky).\nBecause of that, as our job\nneutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky\ninherits from the neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid\nit happened that it had defined both ""tempest_black_regex"" and\n""tempest_exclude_regex"" so both tasks:\n\nrun-tempest : Build exclude regex (old param)\nrun-tempest : Build exclude regex (new param)\n\nwere skipped and there was no list with tests to skip passed to tempest\nreally.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/775257\n\nChange-Id: Iafa52d60050c12ea10ab1bfb4d6147f886303ea5\nCloses-Bug: #1924315\n'}, {'number': 2, 'created': '2021-04-19 12:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1a099643cfd1cc2275a383037fc7f07fa52d4f11', 'message': 'Unset new rolevar for run-temepst role for rocky and queens jobs\n\nIt was done switched to use new rolevar for newer branches in [1]\nsome time ago but it seems that as rocky and queens jobs are inheriting\nfrom the jobs defined for master branch, they have both regex variables\nset and that is causing problems when running CI jobs for older\nbranches.\nIt is like that because it seems that roles defined in Tempest repo\n(run-tempest) is always used from master branch, even if tempest is\npinned in devstack to be e.g. 23.0.0 (for Rocky).\nBecause of that, as our job\nneutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky\ninherits from the neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid\nit happened that it had defined both ""tempest_black_regex"" and\n""tempest_exclude_regex"" so both tasks:\n\nrun-tempest : Build exclude regex (old param)\nrun-tempest : Build exclude regex (new param)\n\nwere skipped and there was no list with tests to skip passed to tempest\nreally.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/775257\n\nChange-Id: Iafa52d60050c12ea10ab1bfb4d6147f886303ea5\nCloses-Bug: #1924315\n'}, {'number': 3, 'created': '2021-04-21 20:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/14a18fb2a97521a2c8502b6a6661c8943661fcb0', 'message': 'Unset new rolevar for run-temepst role for rocky and queens jobs\n\nIt was done switched to use new rolevar for newer branches in [1]\nsome time ago but it seems that as rocky and queens jobs are inheriting\nfrom the jobs defined for master branch, they have both regex variables\nset and that is causing problems when running CI jobs for older\nbranches.\nIt is like that because it seems that roles defined in Tempest repo\n(run-tempest) is always used from master branch, even if tempest is\npinned in devstack to be e.g. 23.0.0 (for Rocky).\nBecause of that, as our job\nneutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky\ninherits from the neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid\nit happened that it had defined both ""tempest_black_regex"" and\n""tempest_exclude_regex"" so both tasks:\n\nrun-tempest : Build exclude regex (old param)\nrun-tempest : Build exclude regex (new param)\n\nwere skipped and there was no list with tests to skip passed to tempest\nreally.\n\nTo avoid that, we need to define that job for rocky branch ""from\nscratch"" and not inherit from the\nneutron-tempest-plugin-scenario-openvswitch-iptables_hybrid job defined\nin zuul.d/master.yaml as that job for master branch is using\ntempest_exclude_regex variable and there is no way to unset it in the\nrocky job.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/775257\n\nChange-Id: Iafa52d60050c12ea10ab1bfb4d6147f886303ea5\nCloses-Bug: #1924315\n'}, {'number': 4, 'created': '2021-04-21 20:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b8f686b0e8e9db9653a46f05e530a2d9c6baf670', 'message': 'Unset new rolevar for run-temepst role for rocky and queens jobs\n\nIt was done switched to use new rolevar for newer branches in [1]\nsome time ago but it seems that as rocky and queens jobs are inheriting\nfrom the jobs defined for master branch, they have both regex variables\nset and that is causing problems when running CI jobs for older\nbranches.\nIt is like that because it seems that roles defined in Tempest repo\n(run-tempest) is always used from master branch, even if tempest is\npinned in devstack to be e.g. 23.0.0 (for Rocky).\nBecause of that, as our job\nneutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky\ninherits from the neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid\nit happened that it had defined both ""tempest_black_regex"" and\n""tempest_exclude_regex"" so both tasks:\n\nrun-tempest : Build exclude regex (old param)\nrun-tempest : Build exclude regex (new param)\n\nwere skipped and there was no list with tests to skip passed to tempest\nreally.\n\nTo avoid that, we need to define that job for rocky branch ""from\nscratch"" and not inherit from the\nneutron-tempest-plugin-scenario-openvswitch-iptables_hybrid job defined\nin zuul.d/master.yaml as that job for master branch is using\ntempest_exclude_regex variable and there is no way to unset it in the\nrocky job.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/775257\n\nChange-Id: Iafa52d60050c12ea10ab1bfb4d6147f886303ea5\nCloses-Bug: #1924315\n'}, {'number': 5, 'created': '2021-04-21 20:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/406f51a57d6442a7ea1812b2bdf370eb172f438b', 'message': 'Unset new rolevar for run-temepst role for rocky and queens jobs\n\nIt was done switched to use new rolevar for newer branches in [1]\nsome time ago but it seems that as rocky and queens jobs are inheriting\nfrom the jobs defined for master branch, they have both regex variables\nset and that is causing problems when running CI jobs for older\nbranches.\nIt is like that because it seems that roles defined in Tempest repo\n(run-tempest) is always used from master branch, even if tempest is\npinned in devstack to be e.g. 23.0.0 (for Rocky).\nBecause of that, as our job\nneutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky\ninherits from the neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid\nit happened that it had defined both ""tempest_black_regex"" and\n""tempest_exclude_regex"" so both tasks:\n\nrun-tempest : Build exclude regex (old param)\nrun-tempest : Build exclude regex (new param)\n\nwere skipped and there was no list with tests to skip passed to tempest\nreally.\n\nTo avoid that, we need to define that job for rocky branch ""from\nscratch"" and not inherit from the\nneutron-tempest-plugin-scenario-openvswitch-iptables_hybrid job defined\nin zuul.d/master.yaml as that job for master branch is using\ntempest_exclude_regex variable and there is no way to unset it in the\nrocky job.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/775257\n\nChange-Id: Iafa52d60050c12ea10ab1bfb4d6147f886303ea5\nCloses-Bug: #1924315\n'}, {'number': 6, 'created': '2021-04-22 07:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fd91bf4cb17ef9733f0eadcc96e75093f84945fb', 'message': 'Unset new rolevar for run-temepst role for rocky and queens jobs\n\nIt was done switched to use new rolevar for newer branches in [1]\nsome time ago but it seems that as rocky and queens jobs are inheriting\nfrom the jobs defined for master branch, they have both regex variables\nset and that is causing problems when running CI jobs for older\nbranches.\nIt is like that because it seems that roles defined in Tempest repo\n(run-tempest) is always used from master branch, even if tempest is\npinned in devstack to be e.g. 23.0.0 (for Rocky).\nBecause of that, as for example our job\nneutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky\ninherits from the neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid\nit happened that it had defined both ""tempest_black_regex"" and\n""tempest_exclude_regex"" so both tasks:\n\nrun-tempest : Build exclude regex (old param)\nrun-tempest : Build exclude regex (new param)\n\nwere skipped and there was no list with tests to skip passed to tempest\nreally.\n\nTo avoid that, we need to define jobs for rocky branch ""from\nscratch"" and not inherit from the jobs defined in zuul.d/master.yaml\nas such jobs for master branch is using tempest_exclude_regex variable\nand there is no way to unset it in the rocky job.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/775257\n\nChange-Id: Iafa52d60050c12ea10ab1bfb4d6147f886303ea5\nCloses-Bug: #1924315\n'}, {'number': 7, 'created': '2021-04-22 07:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/61c87a2e011161f8687f94d874b6e327825d012a', 'message': 'Unset new rolevar for run-temepst role for rocky and queens jobs\n\nIt was done switched to use new rolevar for newer branches in [1]\nsome time ago but it seems that as rocky and queens jobs are inheriting\nfrom the jobs defined for master branch, they have both regex variables\nset and that is causing problems when running CI jobs for older\nbranches.\nIt is like that because it seems that roles defined in Tempest repo\n(run-tempest) is always used from master branch, even if tempest is\npinned in devstack to be e.g. 23.0.0 (for Rocky).\nBecause of that, as for example our job\nneutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky\ninherits from the neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid\nit happened that it had defined both ""tempest_black_regex"" and\n""tempest_exclude_regex"" so both tasks:\n\nrun-tempest : Build exclude regex (old param)\nrun-tempest : Build exclude regex (new param)\n\nwere skipped and there was no list with tests to skip passed to tempest\nreally.\n\nTo avoid that, we need to define jobs for rocky branch ""from\nscratch"" and not inherit from the jobs defined in zuul.d/master.yaml\nas such jobs for master branch is using tempest_exclude_regex variable\nand there is no way to unset it in the rocky job.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/775257\n\nChange-Id: Iafa52d60050c12ea10ab1bfb4d6147f886303ea5\nCloses-Bug: #1924315\n'}, {'number': 8, 'created': '2021-04-22 07:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3e6738b726f23ac9f7f963e6ebc2ed0ad5b9ed61', 'message': 'Unset new rolevar for run-temepst role for rocky and queens jobs\n\nIt was done switched to use new rolevar for newer branches in [1]\nsome time ago but it seems that as rocky and queens jobs are inheriting\nfrom the jobs defined for master branch, they have both regex variables\nset and that is causing problems when running CI jobs for older\nbranches.\nIt is like that because it seems that roles defined in Tempest repo\n(run-tempest) is always used from master branch, even if tempest is\npinned in devstack to be e.g. 23.0.0 (for Rocky).\nBecause of that, as for example our job\nneutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky\ninherits from the neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid\nit happened that it had defined both ""tempest_black_regex"" and\n""tempest_exclude_regex"" so both tasks:\n\nrun-tempest : Build exclude regex (old param)\nrun-tempest : Build exclude regex (new param)\n\nwere skipped and there was no list with tests to skip passed to tempest\nreally.\n\nTo avoid that, we need to define jobs for rocky branch ""from\nscratch"" and not inherit from the jobs defined in zuul.d/master.yaml\nas such jobs for master branch is using tempest_exclude_regex variable\nand there is no way to unset it in the rocky job.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/775257\n\nChange-Id: Iafa52d60050c12ea10ab1bfb4d6147f886303ea5\nCloses-Bug: #1924315\n'}, {'number': 9, 'created': '2021-04-22 20:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/79291a3d18ee3d4a2f7078b67075dabb8408464b', 'message': 'Unset new rolevar for run-temepst role for rocky and queens jobs\n\nIt was done switched to use new rolevar for newer branches in [1]\nsome time ago but it seems that as rocky and queens jobs are inheriting\nfrom the jobs defined for master branch, they have both regex variables\nset and that is causing problems when running CI jobs for older\nbranches.\nIt is like that because it seems that roles defined in Tempest repo\n(run-tempest) is always used from master branch, even if tempest is\npinned in devstack to be e.g. 23.0.0 (for Rocky).\nBecause of that, as for example our job\nneutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky\ninherits from the neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid\nit happened that it had defined both ""tempest_black_regex"" and\n""tempest_exclude_regex"" so both tasks:\n\nrun-tempest : Build exclude regex (old param)\nrun-tempest : Build exclude regex (new param)\n\nwere skipped and there was no list with tests to skip passed to tempest\nreally.\n\nTo avoid that, we need to define jobs for rocky branch ""from\nscratch"" and not inherit from the jobs defined in zuul.d/master.yaml\nas such jobs for master branch is using tempest_exclude_regex variable\nand there is no way to unset it in the rocky job.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/775257\n\nChange-Id: Iafa52d60050c12ea10ab1bfb4d6147f886303ea5\nCloses-Bug: #1924315\n'}, {'number': 10, 'created': '2021-04-27 15:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a7125109abbc1241c9438def81966aa1f62bd229', 'message': 'Unset new rolevar for run-temepst role for rocky and queens jobs\n\nIt was done switched to use new rolevar for newer branches in [1]\nsome time ago but it seems that as rocky and queens jobs are inheriting\nfrom the jobs defined for master branch, they have both regex variables\nset and that is causing problems when running CI jobs for older\nbranches.\nIt is like that because it seems that roles defined in Tempest repo\n(run-tempest) is always used from master branch, even if tempest is\npinned in devstack to be e.g. 23.0.0 (for Rocky).\nBecause of that, as for example our job\nneutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky\ninherits from the neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid\nit happened that it had defined both ""tempest_black_regex"" and\n""tempest_exclude_regex"" so both tasks:\n\nrun-tempest : Build exclude regex (old param)\nrun-tempest : Build exclude regex (new param)\n\nwere skipped and there was no list with tests to skip passed to tempest\nreally.\n\nTo avoid that, we need to define jobs for rocky branch ""from\nscratch"" and not inherit from the jobs defined in zuul.d/master.yaml\nas such jobs for master branch is using tempest_exclude_regex variable\nand there is no way to unset it in the rocky job.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/775257\n\nChange-Id: Iafa52d60050c12ea10ab1bfb4d6147f886303ea5\nCloses-Bug: #1924315\n'}, {'number': 11, 'created': '2021-04-30 13:38:49.000000000', 'files': ['zuul.d/rocky_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a4cb8077a8efa311b01ded3d2c27fc484016da13', 'message': 'Unset new rolevar for run-tempest role for rocky jobs\n\nIt was done switched to use new rolevar for newer branches in [1]\nsome time ago but it seems that as rocky and queens jobs are inheriting\nfrom the jobs defined for master branch, they have both regex variables\nset and that is causing problems when running CI jobs for older\nbranches.\nIt is like that because it seems that roles defined in Tempest repo\n(run-tempest) is always used from master branch, even if tempest is\npinned in devstack to be e.g. 23.0.0 (for Rocky).\nBecause of that, as for example our job\nneutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky\ninherits from the neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid\nit happened that it had defined both ""tempest_black_regex"" and\n""tempest_exclude_regex"" so both tasks:\n\nrun-tempest : Build exclude regex (old param)\nrun-tempest : Build exclude regex (new param)\n\nwere skipped and there was no list with tests to skip passed to tempest\nreally.\n\nTo avoid that, we need to define jobs for rocky branch ""from\nscratch"" and not inherit from the jobs defined in zuul.d/master.yaml\nas such jobs for master branch is using tempest_exclude_regex variable\nand there is no way to unset it in the rocky job.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/775257\n\nChange-Id: Iafa52d60050c12ea10ab1bfb4d6147f886303ea5\nCloses-Bug: #1924315\n'}]",2,786657,a4cb8077a8efa311b01ded3d2c27fc484016da13,62,4,11,11975,,,0,"Unset new rolevar for run-tempest role for rocky jobs

It was done switched to use new rolevar for newer branches in [1]
some time ago but it seems that as rocky and queens jobs are inheriting
from the jobs defined for master branch, they have both regex variables
set and that is causing problems when running CI jobs for older
branches.
It is like that because it seems that roles defined in Tempest repo
(run-tempest) is always used from master branch, even if tempest is
pinned in devstack to be e.g. 23.0.0 (for Rocky).
Because of that, as for example our job
neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky
inherits from the neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid
it happened that it had defined both ""tempest_black_regex"" and
""tempest_exclude_regex"" so both tasks:

run-tempest : Build exclude regex (old param)
run-tempest : Build exclude regex (new param)

were skipped and there was no list with tests to skip passed to tempest
really.

To avoid that, we need to define jobs for rocky branch ""from
scratch"" and not inherit from the jobs defined in zuul.d/master.yaml
as such jobs for master branch is using tempest_exclude_regex variable
and there is no way to unset it in the rocky job.

[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/775257

Change-Id: Iafa52d60050c12ea10ab1bfb4d6147f886303ea5
Closes-Bug: #1924315
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/57/786657/10 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/queens_jobs.yaml', 'zuul.d/rocky_jobs.yaml']",2,931a2b6e16c7b3646dff77c6daef96e2677989a8,bug/1924315," tempest_exclude_regex: ""\ tempest_exclude_regex: ""\ tempest_exclude_regex: ""\ tempest_exclude_regex: ""\"," tempest_black_regex: ""\ tempest_black_regex: ""\ tempest_black_regex: ""\ tempest_black_regex: ""\",8,8
openstack%2Fopenstack-helm-infra~master~I972fddf73719fb5bef821679a5ab07491edf55ff,openstack/openstack-helm-infra,master,I972fddf73719fb5bef821679a5ab07491edf55ff,Update Grafana version and Selenium script,MERGED,2021-05-17 14:05:22.000000000,2021-05-19 15:45:33.000000000,2021-05-19 15:44:11.000000000,"[{'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30777}, {'_account_id': 33282}]","[{'number': 1, 'created': '2021-05-17 14:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c1c4feae3b5614cc643e4ff169d1c0b08b4ebc16', 'message': 'Update Grafana version\n\nThis ps updates the version to 7.4.5\n\nChange-Id: I972fddf73719fb5bef821679a5ab07491edf55ff\n'}, {'number': 2, 'created': '2021-05-18 18:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2db0898d4812e8714ac77f156d706a7f467a1425', 'message': 'Update Grafana version and Selenium script\n\nThis ps updates the version to 7.4.5\nThe css class in GUI has changed in the new Grafana version , so updated\n the selenium script to find the right element.\n\nChange-Id: I972fddf73719fb5bef821679a5ab07491edf55ff\n'}, {'number': 3, 'created': '2021-05-18 19:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cb73470e280a9b364e88711a1c569f93e3786e53', 'message': 'Update Grafana version and Selenium script\n\nThis ps updates the version to 7.4.5\nThe css element in GUI has changed in the new Grafana version , so updated\n the selenium script to find the right element.\n\nChange-Id: I972fddf73719fb5bef821679a5ab07491edf55ff\n'}, {'number': 4, 'created': '2021-05-18 20:01:43.000000000', 'files': ['grafana/values.yaml', 'releasenotes/notes/grafana.yaml', 'grafana/Chart.yaml', 'grafana/templates/bin/_selenium-tests.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bfeb4255a082fefcd36dbc0c41cf403fa086b264', 'message': 'Update Grafana version and Selenium script\n\nThis ps updates the version to 7.4.5\nThe css element in GUI has changed in the new Grafana version , so updated\n the selenium script to find the right element.\n\nChange-Id: I972fddf73719fb5bef821679a5ab07491edf55ff\n'}]",0,791759,bfeb4255a082fefcd36dbc0c41cf403fa086b264,20,8,4,30582,,,0,"Update Grafana version and Selenium script

This ps updates the version to 7.4.5
The css element in GUI has changed in the new Grafana version , so updated
 the selenium script to find the right element.

Change-Id: I972fddf73719fb5bef821679a5ab07491edf55ff
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/59/791759/2 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/values.yaml', 'releasenotes/notes/grafana.yaml', 'grafana/Chart.yaml']",3,c1c4feae3b5614cc643e4ff169d1c0b08b4ebc16,,appVersion: v7.4.5version: 0.1.7,appVersion: v7.3.6version: 0.1.6,4,3
openstack%2Fansible-collections-openstack~master~I54afa66a0a23503694506c6b6eba6d64dcc54852,openstack/ansible-collections-openstack,master,I54afa66a0a23503694506c6b6eba6d64dcc54852,Add support for node traits,NEW,2021-02-04 15:17:28.000000000,2021-05-19 15:34:37.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-04 15:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/028415ae7a04a28e09a7d498ae62f2e8d1aeefa5', 'message': 'Add support for node traits\n\nChange-Id: I54afa66a0a23503694506c6b6eba6d64dcc54852\n'}, {'number': 2, 'created': '2021-02-19 13:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3ea53cbaa4b73a72f2db1e49d49881fb84475e65', 'message': 'Add support for node traits\n\nChange-Id: I54afa66a0a23503694506c6b6eba6d64dcc54852\n'}, {'number': 3, 'created': '2021-02-22 10:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ba5eab0ecf6bc2c0fc1cfc1d9daf352bf58cde55', 'message': 'Add support for node traits\n\nChange-Id: I54afa66a0a23503694506c6b6eba6d64dcc54852\n'}, {'number': 4, 'created': '2021-02-22 11:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b71c7646b31cf1072e27ff40e149a351fd1c4464', 'message': 'Add support for node traits\n\nChange-Id: I54afa66a0a23503694506c6b6eba6d64dcc54852\n'}, {'number': 5, 'created': '2021-02-22 13:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9c9210918f0f22cddf2f7e24c4c59b58eb213054', 'message': 'Add support for node traits\n\nChange-Id: I54afa66a0a23503694506c6b6eba6d64dcc54852\n'}, {'number': 6, 'created': '2021-02-22 14:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/90a5e3cd77ffde95030eb1e2ad15d6b83fd004a9', 'message': 'Add support for node traits\n\nChange-Id: I54afa66a0a23503694506c6b6eba6d64dcc54852\n'}, {'number': 7, 'created': '2021-02-22 15:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2063d1b8c36d30dc76190248a59690ae3fad6ec5', 'message': 'Add support for node traits\n\nChange-Id: I54afa66a0a23503694506c6b6eba6d64dcc54852\n'}, {'number': 8, 'created': '2021-02-23 11:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c0bd5ca47077ed7e079d9ad8666be534743fa814', 'message': 'Add support for node traits\n\nChange-Id: I54afa66a0a23503694506c6b6eba6d64dcc54852\n'}, {'number': 9, 'created': '2021-02-24 12:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a4308d904a3ad5d4708e23f7a6f72f14bdb70b88', 'message': 'Add support for node traits\n\nChange-Id: I54afa66a0a23503694506c6b6eba6d64dcc54852\n'}, {'number': 10, 'created': '2021-02-24 12:45:21.000000000', 'files': ['plugins/modules/baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/162398e3011a0736b239951d73222b20ca72a3e5', 'message': 'Add support for node traits\n\nChange-Id: I54afa66a0a23503694506c6b6eba6d64dcc54852\n'}]",60,774089,162398e3011a0736b239951d73222b20ca72a3e5,30,3,10,32541,,,0,"Add support for node traits

Change-Id: I54afa66a0a23503694506c6b6eba6d64dcc54852
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/89/774089/10 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/baremetal_node_action.py'],1,028415ae7a04a28e09a7d498ae62f2e8d1aeefa5,node-traits," traits: description: - A list of all node traits. type: listdef _set_node_traits(module, cloud, node): if _is_true(module.params['traits']): cloud.baremetal.set_node_traits( node['uuid'], module.params['traits'] ) module.exit_json( changed=True, result=""node traits set and all existing traits replaced"" ) def _delete_node_traits(module, cloud, node): if _is_true(module.params['traits']): cloud.baremetal.delete_node_traits( # This method does not yet exist in the SDK (TODO) node['uuid'] ) module.exit_json( changed=True, result=""node traits deleted"" ) traits=dict(required=False, type='list') if _set_node_traits(module, cloud, node): changed = True node = cloud.get_machine(node_id) if _delete_node_traits(module, cloud, node): changed = True node = cloud.get_machine(node_id) ",,37,0
openstack%2Fsecurity-doc~master~I8c4eaaa42262797632ce4c4296c04a4fe62b8fcf,openstack/security-doc,master,I8c4eaaa42262797632ce4c4296c04a4fe62b8fcf,Fix Barbican PKCS#11 description,MERGED,2021-04-27 12:34:15.000000000,2021-05-19 15:31:52.000000000,2021-05-19 15:30:36.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 12:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/cb7cd0c78638ae818c797bbb8d787b5fdd8711c4', 'message': 'Fix Barbican PKCS#11 description\n\nCurrent description is incorrect, since barbican does not store each\nprojects KEK in HSM. As eventually, that would mean having\nthousand of keys, while Thales Luna Network HSM has limit of 100 keys\nfor DPoD, so it will be unable to use big part of HSM solutions\nwith that approach.\nInstead only MKEK and HMAC are stored in HSM and used to encrypt/decrypt\nKEKs.\n\nChange-Id: I8c4eaaa42262797632ce4c4296c04a4fe62b8fcf\n'}, {'number': 2, 'created': '2021-04-27 16:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/36a6a0195fc7e4dbb024d7c14b1913dd663eb4f7', 'message': 'Fix Barbican PKCS#11 description\n\nCurrent description is incorrect, since barbican does not store each\nprojects KEK in HSM. As eventually, that would mean having\nthousand of keys, while Thales Luna Network HSM has limit of 100 keys\nfor DPoD, so it will be unable to use big part of HSM solutions\nwith that approach.\nInstead only MKEK and HMAC are stored in HSM and used to encrypt/decrypt\nKEKs.\n\nChange-Id: I8c4eaaa42262797632ce4c4296c04a4fe62b8fcf\n'}, {'number': 3, 'created': '2021-05-12 10:07:55.000000000', 'files': ['security-guide/source/secrets-management/barbican.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/8dbacc7b42019e803f4086f192984326558fa024', 'message': 'Fix Barbican PKCS#11 description\n\nCurrent description is incorrect, since barbican does not store each\nprojects KEK in HSM. As eventually, that would mean having\nthousand of keys, while Thales Luna Network HSM has limit of 100 keys\nfor DPoD, so it will be unable to use big part of HSM solutions\nwith that approach.\nInstead only MKEK and HMAC are stored in HSM and used to encrypt/decrypt\nKEKs.\n\nChange-Id: I8c4eaaa42262797632ce4c4296c04a4fe62b8fcf\n'}]",3,788278,8dbacc7b42019e803f4086f192984326558fa024,14,2,3,28619,,,0,"Fix Barbican PKCS#11 description

Current description is incorrect, since barbican does not store each
projects KEK in HSM. As eventually, that would mean having
thousand of keys, while Thales Luna Network HSM has limit of 100 keys
for DPoD, so it will be unable to use big part of HSM solutions
with that approach.
Instead only MKEK and HMAC are stored in HSM and used to encrypt/decrypt
KEKs.

Change-Id: I8c4eaaa42262797632ce4c4296c04a4fe62b8fcf
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/78/788278/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/source/secrets-management/barbican.rst'],1,cb7cd0c78638ae818c797bbb8d787b5fdd8711c4,,"(KEK) which in it's turn encrypted and decrypted with MKEK. MKEK resides in the HSM along with HMAC. Since a different KEK is used for each project, and since the KEKs are stored inside a database in encrypted form (instead of in","(KEK) which resides in the HSM. Since a different KEK is used for each project, and since the KEKs are stored inside an HSM (instead of in",3,2
openstack%2Fmanila~stable%2Fvictoria~Iab83cf3fa629455f058ce6c8668b20e59e9450cf,openstack/manila,stable/victoria,Iab83cf3fa629455f058ce6c8668b20e59e9450cf,[stable/victoria-only] Set max api version via plugin.sh,MERGED,2021-05-18 18:58:21.000000000,2021-05-19 15:26:01.000000000,2021-05-19 15:24:05.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-05-18 18:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ba7729c702fc9b82c5673d65640d9a6502ad77af', 'message': ""[stable/victoria-only] Set max api version via plugin.sh\n\nmanila's tempest plugin is branchless and can at\nany time add tests for API microversions incompatible\nwith this stable branch.\n\nWe used to configure test API versions via the post test\nhook when relying on devstack-gate. However, API version\nconfig makes sense whenever we use devstack and have\ntempest enabled. This will help us simplify default\njob configuration in the manila-tempest-plugin repository.\n\nSince the API version won't change on a stable branch,\nhard-coding the versions (as other micro-versioned services\ndo in their devstack) doesn't pose any risk of failing\nreality.\n\nChange-Id: Iab83cf3fa629455f058ce6c8668b20e59e9450cf\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2021-05-19 00:32:07.000000000', 'files': ['contrib/ci/post_test_hook.sh', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/32db6382df72d2d91600d7daa41b7abf53c666d8', 'message': ""[stable/victoria-only] Set max api version via plugin.sh\n\nmanila's tempest plugin is branchless and can at\nany time add tests for API microversions incompatible\nwith this stable branch.\n\nWe used to configure test API versions via the post test\nhook when relying on devstack-gate. However, API version\nconfig makes sense whenever we use devstack and have\ntempest enabled. This will help us simplify default\njob configuration in the manila-tempest-plugin repository.\n\nSince the API version won't change on a stable branch,\nhard-coding the versions (as other micro-versioned services\ndo in their devstack) doesn't pose any risk of failing\nreality.\n\nCloses-Bug: #1928879\nChange-Id: Iab83cf3fa629455f058ce6c8668b20e59e9450cf\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,792035,32db6382df72d2d91600d7daa41b7abf53c666d8,21,5,2,16643,,,0,"[stable/victoria-only] Set max api version via plugin.sh

manila's tempest plugin is branchless and can at
any time add tests for API microversions incompatible
with this stable branch.

We used to configure test API versions via the post test
hook when relying on devstack-gate. However, API version
config makes sense whenever we use devstack and have
tempest enabled. This will help us simplify default
job configuration in the manila-tempest-plugin repository.

Since the API version won't change on a stable branch,
hard-coding the versions (as other micro-versioned services
do in their devstack) doesn't pose any risk of failing
reality.

Closes-Bug: #1928879
Change-Id: Iab83cf3fa629455f058ce6c8668b20e59e9450cf
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/35/792035/2 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/ci/post_test_hook.sh', 'devstack/plugin.sh']",2,ba7729c702fc9b82c5673d65640d9a6502ad77af,bug/1928879, # Max API micro-version for tempest tests iniset $TEMPEST_CONFIG share min_api_microversion 2.0 iniset $TEMPEST_CONFIG share max_api_microversion 2.57,,4,17
openstack%2Freleases~master~Id95dc32e2cd72f8e3d217146d02160a6cff05485,openstack/releases,master,Id95dc32e2cd72f8e3d217146d02160a6cff05485,Release OpenStackSDK 0.57.0,MERGED,2021-05-19 08:40:12.000000000,2021-05-19 15:19:22.000000000,2021-05-19 15:19:22.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-19 08:40:12.000000000', 'files': ['deliverables/xena/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/232584220d87ab3a6677bc1bebd82aa56d561ab2', 'message': 'Release OpenStackSDK 0.57.0\n\nChange-Id: Id95dc32e2cd72f8e3d217146d02160a6cff05485\n'}]",1,792085,232584220d87ab3a6677bc1bebd82aa56d561ab2,11,4,1,27900,,,0,"Release OpenStackSDK 0.57.0

Change-Id: Id95dc32e2cd72f8e3d217146d02160a6cff05485
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/792085/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/openstacksdk.yaml'],1,232584220d87ab3a6677bc1bebd82aa56d561ab2,, - version: 0.57.0 projects: - repo: openstack/openstacksdk hash: 2ab15d0035929e0a8a4fc53e631773aa9f83c13b,,4,0
openstack%2Fkolla~master~I505b0645dc3331264c8fc6762df1c6cb8bb2f2ed,openstack/kolla,master,I505b0645dc3331264c8fc6762df1c6cb8bb2f2ed,[Security] Fix open redirect in Prometheus,MERGED,2021-05-19 08:05:02.000000000,2021-05-19 15:17:37.000000000,2021-05-19 14:45:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-05-19 08:05:02.000000000', 'files': ['docker/prometheus/prometheus-v2-server/Dockerfile.j2', 'releasenotes/notes/security-fix-prometheus-v2.26.1-03e1410ad8ed4410.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/16b5a8c1c797dde79a6520f196338a00608014f9', 'message': '[Security] Fix open redirect in Prometheus\n\nBump up Prometheus to the oldest non affected version as per\nsecurity advisory [1].\n\n[1] https://github.com/prometheus/prometheus/security/advisories/GHSA-vx57-7f4q-fpc7\n\nChange-Id: I505b0645dc3331264c8fc6762df1c6cb8bb2f2ed\n'}]",0,792080,16b5a8c1c797dde79a6520f196338a00608014f9,12,4,1,32657,,,0,"[Security] Fix open redirect in Prometheus

Bump up Prometheus to the oldest non affected version as per
security advisory [1].

[1] https://github.com/prometheus/prometheus/security/advisories/GHSA-vx57-7f4q-fpc7

Change-Id: I505b0645dc3331264c8fc6762df1c6cb8bb2f2ed
",git fetch https://review.opendev.org/openstack/kolla refs/changes/80/792080/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/prometheus/prometheus-v2-server/Dockerfile.j2', 'releasenotes/notes/security-fix-prometheus-v2.26.1-03e1410ad8ed4410.yaml']",2,16b5a8c1c797dde79a6520f196338a00608014f9,,--- security: - | Fixes security issue in Prometheus as per `advisory <https://github.com/prometheus/prometheus/security/advisories/GHSA-vx57-7f4q-fpc7>`__. ,,5,1
openstack%2Ftripleo-heat-templates~master~I27e65e3503753d5c547cd7a02d1d62a85d965ff7,openstack/tripleo-heat-templates,master,I27e65e3503753d5c547cd7a02d1d62a85d965ff7,Fix bindep check for fresh fedoras,ABANDONED,2020-09-22 21:53:43.000000000,2021-05-19 15:17:01.000000000,,"[{'_account_id': 7144}, {'_account_id': 9656}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-22 21:53:43.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cce822f2ce930382524407add34b45f94d255fb4', 'message': ""Fix bindep check for fresh fedoras\n\nIn fedora32 at least, the correct names of the packages are:\npython3-libselinux, python3-libsemanage.\n\nReusing the same rules for multiple redhat platforms doesn't seem\npossible, so it's easier to decouple them, writing separate rules for\neach platform (centos*, rhel*, fedoras).\n\nChange-Id: I27e65e3503753d5c547cd7a02d1d62a85d965ff7\n""}]",0,753454,cce822f2ce930382524407add34b45f94d255fb4,8,4,1,9656,,,0,"Fix bindep check for fresh fedoras

In fedora32 at least, the correct names of the packages are:
python3-libselinux, python3-libsemanage.

Reusing the same rules for multiple redhat platforms doesn't seem
possible, so it's easier to decouple them, writing separate rules for
each platform (centos*, rhel*, fedoras).

Change-Id: I27e65e3503753d5c547cd7a02d1d62a85d965ff7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/753454/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,cce822f2ce930382524407add34b45f94d255fb4,bindep,python3-libselinux [platform:fedora] python3-libsemanage [platform:fedora] libselinux-python [platform:rhel-7] libsemanage-python [platform:rhel-7] libselinux-python [platform:centos-7] libsemanage-python [platform:centos-7] libselinux-python3 [platform:rhel-8] libsemanage-python3 [platform:rhel-8] libselinux-python3 [platform:centos-8] libsemanage-python3 [platform:centos-8],libselinux-python [platform:rpm !platform:rhel-8 !platform:centos-8] libsemanage-python [platform:redhat !platform:rhel-8 !platform:centos-8] libselinux-python3 [platform:rpm !platform:rhel-7 !platform:centos-7] libsemanage-python3 [platform:redhat !platform:rhel-7 !platform:centos-7],12,4
openstack%2Fansible-collections-openstack~master~I23e40ba78d001698934ca0bef32fc67398b813fe,openstack/ansible-collections-openstack,master,I23e40ba78d001698934ca0bef32fc67398b813fe,Add support for node vendor passthru methods,NEW,2021-02-01 14:04:57.000000000,2021-05-19 15:10:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-01 14:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/758b11461de5de2765f27a404af5daa9f65ae6b3', 'message': 'Add support for node vendor passthru methods\n\nChange-Id: I23e40ba78d001698934ca0bef32fc67398b813fe\n'}, {'number': 2, 'created': '2021-02-01 14:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e815e0e2b171e5b1b5830bcab73b814ff5e5c1ef', 'message': 'Add support for node vendor passthru methods\n\nChange-Id: I23e40ba78d001698934ca0bef32fc67398b813fe\n'}, {'number': 3, 'created': '2021-02-01 15:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/07d10b9d81bf336d12925435bfc1825cce28ae22', 'message': 'Add support for node vendor passthru methods\n\nChange-Id: I23e40ba78d001698934ca0bef32fc67398b813fe\n'}, {'number': 4, 'created': '2021-02-02 12:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4f6527b7d0d18e28e9d5d24f6a7dd496c4a2a618', 'message': 'Add support for node vendor passthru methods\n\nChange-Id: I23e40ba78d001698934ca0bef32fc67398b813fe\n'}, {'number': 5, 'created': '2021-02-04 12:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ab36d44706668c89675915d14ab63a07b735d90c', 'message': 'Add support for node vendor passthru methods\n\nChange-Id: I23e40ba78d001698934ca0bef32fc67398b813fe\n'}, {'number': 6, 'created': '2021-02-19 12:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a6a9519ab7827035474deec0465e0ed57c7b78e3', 'message': 'Add support for node vendor passthru methods\n\nChange-Id: I23e40ba78d001698934ca0bef32fc67398b813fe\n'}, {'number': 7, 'created': '2021-04-22 20:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/654a725304012d41519de5d987e262d454d93bd3', 'message': 'Add support for node vendor passthru methods\n\nChange-Id: I23e40ba78d001698934ca0bef32fc67398b813fe\n'}, {'number': 8, 'created': '2021-05-19 13:37:22.000000000', 'files': ['plugins/modules/baremetal_node_action.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0c1ca349edf520cfd6ad5f791c9e0532d8c66cc5', 'message': 'Add support for node vendor passthru methods\n\nChange-Id: I23e40ba78d001698934ca0bef32fc67398b813fe\n'}]",47,773399,0c1ca349edf520cfd6ad5f791c9e0532d8c66cc5,21,1,8,32541,,,0,"Add support for node vendor passthru methods

Change-Id: I23e40ba78d001698934ca0bef32fc67398b813fe
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/99/773399/8 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/baremetal_node_action.py'],1,758b11461de5de2765f27a404af5daa9f65ae6b3,vendor-passthru," vendor_passthru: description: - Vendor-specific methods supported by each driver. type: dict suboptions: http_method: description: - May be one of C(GET), C(POST), C(PUT), C(DELETE) method_name: description: - Driver-specific method name http_body: description: - Parseable JSON which will be converted to parameter and passed to that function.def _list_node_vendor_passthru(module, cloud, node): if _is_true(module.params['vendor_passthru']): cloud.get_vendor_passthru(node['uuid']) #this method does not yet exist in the sdk return True def _call_node_vendor_passthru(module, cloud, node): if _is_true(module.params['vendor_passthru']): passthru_params = module.params['vendor_passthru'] http_method = passthru_params.get('http_method', None) method_name = passthru_params.get('method_name', None) http_body = passthru_params.get('http_body', None) if ( http_method is not None and method_name is not None ): cloud.call_vendor_passthru( #this method does not yet exist in the sdk node['uuid'], http_method, method_name, if http_body is not None: return http_body ) vendor_passthru=dict(type='dict', required=False), _call_node_vendor_passthru(module, cloud, node) ",,45,0
openstack%2Fopenstack-ansible-os_manila~master~I419cc8f2920bb2a5108cacb95e41a9965b3dd659,openstack/openstack-ansible-os_manila,master,I419cc8f2920bb2a5108cacb95e41a9965b3dd659,Add variables for rabbitmq ssl configuration,MERGED,2021-05-17 11:22:14.000000000,2021-05-19 15:06:01.000000000,2021-05-19 15:04:01.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-17 11:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/520bb34eacd817d14b98114ac5766fc4840f4c77', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I419cc8f2920bb2a5108cacb95e41a9965b3dd659\n'}, {'number': 2, 'created': '2021-05-18 16:31:24.000000000', 'files': ['templates/manila.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/bb870ea34e5f5751f58988cef5b54ebd4ac8f023', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I419cc8f2920bb2a5108cacb95e41a9965b3dd659\n'}]",0,791722,bb870ea34e5f5751f58988cef5b54ebd4ac8f023,15,3,2,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: I419cc8f2920bb2a5108cacb95e41a9965b3dd659
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/22/791722/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/manila.conf.j2', 'defaults/main.yml']",2,520bb34eacd817d14b98114ac5766fc4840f4c77,osa/pki,"manila_oslomsg_rpc_ssl_version: ""{{ oslomsg_rpc_ssl_version | default('TLSv1_2') }}"" manila_oslomsg_rpc_ssl_ca_file: ""{{ oslomsg_rpc_ssl_ca_file | default('') }}""manila_oslomsg_notify_ssl_version: ""{{ oslomsg_notify_ssl_version | default('TLSv1_2') }}"" manila_oslomsg_notify_ssl_ca_file: ""{{ oslomsg_notify_ssl_ca_file | default('') }}""",,6,2
openstack%2Fkayobe-config~stable%2Fwallaby~If74ad440a11d654829ac1d628ab3c0ef7aed18e1,openstack/kayobe-config,stable/wallaby,If74ad440a11d654829ac1d628ab3c0ef7aed18e1,Synchronize kayobe-config,MERGED,2021-05-19 12:32:11.000000000,2021-05-19 15:05:11.000000000,2021-05-19 15:05:11.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-05-19 12:32:11.000000000', 'files': ['etc/kayobe/bifrost.yml', 'etc/kayobe/globals.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/docker-registry.yml', 'etc/kayobe/time.yml', 'etc/kayobe/inventory/groups'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/a35a96d079c2f4e0c7af2d5c0b08d599b20989aa', 'message': 'Synchronize kayobe-config\n\nA few late additions to the wallaby release.\n\nSee:\n- https://docs.openstack.org/kayobe/latest/contributor/releases.html#synchronise-kayobe-config\n\nChange-Id: If74ad440a11d654829ac1d628ab3c0ef7aed18e1\n(cherry picked from commit 9eb6a0cb2dfeadaf8de68da9cf03ab1955ed6ed8)\n'}]",0,792109,a35a96d079c2f4e0c7af2d5c0b08d599b20989aa,7,4,1,14826,,,0,"Synchronize kayobe-config

A few late additions to the wallaby release.

See:
- https://docs.openstack.org/kayobe/latest/contributor/releases.html#synchronise-kayobe-config

Change-Id: If74ad440a11d654829ac1d628ab3c0ef7aed18e1
(cherry picked from commit 9eb6a0cb2dfeadaf8de68da9cf03ab1955ed6ed8)
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/09/792109/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/bifrost.yml', 'etc/kayobe/globals.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/docker-registry.yml', 'etc/kayobe/time.yml', 'etc/kayobe/inventory/groups']",6,a35a96d079c2f4e0c7af2d5c0b08d599b20989aa,,# Service groups.[ntp:children] # Kayobe will configure Chrony on members of this group. seed seed-hypervisor overcloud ,# Docker groups.,82,3
openstack%2Fopenstacksdk~master~Iad4122c83d4394dbf1761eeb6d83ccdee9723f52,openstack/openstacksdk,master,Iad4122c83d4394dbf1761eeb6d83ccdee9723f52,tests: Remove dead code,MERGED,2021-04-27 08:57:20.000000000,2021-05-19 15:01:01.000000000,2021-05-19 14:59:05.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-27 08:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ca991aadaa36040b762a91da0bcb24537e80144a', 'message': ""tests: Remove dead code\n\nThere are no references to 'openstack.tests.unit.test_proxy_base2' since\nchange I5d288c25797833a850b361af8f067923b00b8706.\n\nChange-Id: Iad4122c83d4394dbf1761eeb6d83ccdee9723f52\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-05-10 16:06:03.000000000', 'files': ['openstack/tests/unit/test_proxy_base2.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5edbb15e252c53aa9bcd11245e9b554d2cfa4f92', 'message': ""tests: Remove dead code\n\nThere are no references to 'openstack.tests.unit.test_proxy_base2' since\nchange I5d288c25797833a850b361af8f067923b00b8706.\n\nChange-Id: Iad4122c83d4394dbf1761eeb6d83ccdee9723f52\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,788214,5edbb15e252c53aa9bcd11245e9b554d2cfa4f92,15,3,2,15334,,,0,"tests: Remove dead code

There are no references to 'openstack.tests.unit.test_proxy_base2' since
change I5d288c25797833a850b361af8f067923b00b8706.

Change-Id: Iad4122c83d4394dbf1761eeb6d83ccdee9723f52
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/14/788214/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/unit/test_proxy_base2.py'],1,ca991aadaa36040b762a91da0bcb24537e80144a,placement-in-sdk,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock from openstack.tests.unit import base class TestProxyBase(base.TestCase): # object_store makes calls with container= rather than # path_args=dict(container= because container needs to wind up # in the uri components. kwargs_to_path_args = True def setUp(self): super(TestProxyBase, self).setUp() self.session = mock.Mock() def _add_path_args_for_verify(self, path_args, method_args, expected_kwargs, value=None): if path_args is not None: if value is None: for key in path_args: method_args.append(path_args[key]) expected_kwargs['path_args'] = path_args def _verify(self, mock_method, test_method, method_args=None, method_kwargs=None, expected_args=None, expected_kwargs=None, expected_result=None): with mock.patch(mock_method) as mocked: mocked.return_value = expected_result if any([method_args, method_kwargs, expected_args, expected_kwargs]): method_args = method_args or () method_kwargs = method_kwargs or {} expected_args = expected_args or () expected_kwargs = expected_kwargs or {} self.assertEqual(expected_result, test_method(*method_args, **method_kwargs)) mocked.assert_called_with(test_method.__self__, *expected_args, **expected_kwargs) else: self.assertEqual(expected_result, test_method()) mocked.assert_called_with(test_method.__self__) # NOTE(briancurtin): This is a duplicate version of _verify that is # temporarily here while we shift APIs. The difference is that # calls from the Proxy classes aren't going to be going directly into # the Resource layer anymore, so they don't pass in the session which # was tested in assert_called_with. # This is being done in lieu of adding logic and complicating # the _verify method. It will be removed once there is one API to # be verifying. def _verify2(self, mock_method, test_method, method_args=None, method_kwargs=None, method_result=None, expected_args=None, expected_kwargs=None, expected_result=None): with mock.patch(mock_method) as mocked: mocked.return_value = expected_result if any([method_args, method_kwargs, expected_args, expected_kwargs]): method_args = method_args or () method_kwargs = method_kwargs or {} expected_args = expected_args or () expected_kwargs = expected_kwargs or {} if method_result: self.assertEqual(method_result, test_method(*method_args, **method_kwargs)) else: self.assertEqual(expected_result, test_method(*method_args, **method_kwargs)) mocked.assert_called_with(*expected_args, **expected_kwargs) else: self.assertEqual(expected_result, test_method()) mocked.assert_called_with(test_method.__self__) def verify_create(self, test_method, resource_type, mock_method=""openstack.proxy.Proxy._create"", expected_result=""result"", **kwargs): the_kwargs = {""x"": 1, ""y"": 2, ""z"": 3} method_kwargs = kwargs.pop(""method_kwargs"", the_kwargs) expected_args = [resource_type] expected_kwargs = kwargs.pop(""expected_kwargs"", the_kwargs) self._verify2(mock_method, test_method, expected_result=expected_result, method_kwargs=method_kwargs, expected_args=expected_args, expected_kwargs=expected_kwargs, **kwargs) def verify_delete(self, test_method, resource_type, ignore, input_path_args=None, expected_path_args=None, method_kwargs=None, expected_args=None, expected_kwargs=None, mock_method=""openstack.proxy.Proxy._delete""): method_args = [""resource_or_id""] method_kwargs = method_kwargs or {} method_kwargs[""ignore_missing""] = ignore if isinstance(input_path_args, dict): for key in input_path_args: method_kwargs[key] = input_path_args[key] elif isinstance(input_path_args, list): method_args = input_path_args expected_kwargs = expected_kwargs or {} expected_kwargs[""ignore_missing""] = ignore if expected_path_args: expected_kwargs.update(expected_path_args) expected_args = expected_args or [resource_type, ""resource_or_id""] self._verify2(mock_method, test_method, method_args=method_args, method_kwargs=method_kwargs, expected_args=expected_args, expected_kwargs=expected_kwargs) def verify_get(self, test_method, resource_type, value=None, args=None, mock_method=""openstack.proxy.Proxy._get"", ignore_value=False, **kwargs): the_value = value if value is None: the_value = [] if ignore_value else [""value""] expected_args = kwargs.pop(""expected_args"", []) expected_kwargs = kwargs.pop(""expected_kwargs"", {}) method_kwargs = kwargs.pop(""method_kwargs"", kwargs) if args: expected_kwargs[""args""] = args if kwargs and self.kwargs_to_path_args: expected_kwargs[""path_args""] = kwargs if not expected_args: expected_args = [resource_type] + the_value self._verify2(mock_method, test_method, method_args=the_value, method_kwargs=method_kwargs or {}, expected_args=expected_args, expected_kwargs=expected_kwargs) def verify_head(self, test_method, resource_type, mock_method=""openstack.proxy.Proxy._head"", value=None, **kwargs): the_value = [value] if value is not None else [] if self.kwargs_to_path_args: expected_kwargs = {""path_args"": kwargs} if kwargs else {} else: expected_kwargs = kwargs or {} self._verify2(mock_method, test_method, method_args=the_value, method_kwargs=kwargs, expected_args=[resource_type] + the_value, expected_kwargs=expected_kwargs) def verify_find(self, test_method, resource_type, value=None, mock_method=""openstack.proxy.Proxy._find"", path_args=None, **kwargs): method_args = value or [""name_or_id""] expected_kwargs = {} self._add_path_args_for_verify(path_args, method_args, expected_kwargs, value=value) # TODO(briancurtin): if sub-tests worked in this mess of # test dependencies, the following would be a lot easier to work with. expected_kwargs[""ignore_missing""] = False self._verify2(mock_method, test_method, method_args=method_args + [False], expected_args=[resource_type, ""name_or_id""], expected_kwargs=expected_kwargs, expected_result=""result"", **kwargs) expected_kwargs[""ignore_missing""] = True self._verify2(mock_method, test_method, method_args=method_args + [True], expected_args=[resource_type, ""name_or_id""], expected_kwargs=expected_kwargs, expected_result=""result"", **kwargs) def verify_list(self, test_method, resource_type, paginated=False, mock_method=""openstack.proxy.Proxy._list"", **kwargs): expected_kwargs = kwargs.pop(""expected_kwargs"", {}) expected_kwargs.update({""paginated"": paginated}) method_kwargs = kwargs.pop(""method_kwargs"", {}) self._verify2(mock_method, test_method, method_kwargs=method_kwargs, expected_args=[resource_type], expected_kwargs=expected_kwargs, expected_result=[""result""], **kwargs) def verify_list_no_kwargs(self, test_method, resource_type, paginated=False, mock_method=""openstack.proxy.Proxy._list""): self._verify2(mock_method, test_method, method_kwargs={}, expected_args=[resource_type], expected_kwargs={""paginated"": paginated}, expected_result=[""result""]) def verify_update(self, test_method, resource_type, value=None, mock_method=""openstack.proxy.Proxy._update"", expected_result=""result"", path_args=None, **kwargs): method_args = value or [""resource_or_id""] method_kwargs = {""x"": 1, ""y"": 2, ""z"": 3} expected_args = kwargs.pop(""expected_args"", [""resource_or_id""]) expected_kwargs = method_kwargs.copy() self._add_path_args_for_verify(path_args, method_args, expected_kwargs, value=value) self._verify2(mock_method, test_method, expected_result=expected_result, method_args=method_args, method_kwargs=method_kwargs, expected_args=[resource_type] + expected_args, expected_kwargs=expected_kwargs, **kwargs) def verify_wait_for_status( self, test_method, mock_method=""openstack.resource.wait_for_status"", **kwargs): self._verify(mock_method, test_method, **kwargs) ",0,234
openstack%2Fneutron~stable%2Fwallaby~Iba37581916842bb5fc9f42f7f483d3431747bf8d,openstack/neutron,stable/wallaby,Iba37581916842bb5fc9f42f7f483d3431747bf8d,Add mitogen to the docs requirements,ABANDONED,2021-05-19 14:39:16.000000000,2021-05-19 14:39:45.000000000,,[{'_account_id': 11975}],"[{'number': 1, 'created': '2021-05-19 14:39:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e75039cb5358e8c07811f27823ff7180e5b0c2c6', 'message': ""Add mitogen to the docs requirements\n\nMitogen is dependency of the pyroute2 and was added link to it\nthe docs in pyroute2 0.6.1. Due to the missing mitogen in our\ndocs venv, docs job was failing.\nSo let's install mitogen as docs env requirement, at least for now\nto unblock our gate.\nLater we can think about better solution as e.g. adding it properly to\nthe requirements or report and fix the issue in the pyroute2.\n\nChange-Id: Iba37581916842bb5fc9f42f7f483d3431747bf8d\nCloses-Bug: #1928913\n(cherry picked from commit b881c5a032cccbe0f78444af6571907ad4bc98c5)\n""}]",0,792181,e75039cb5358e8c07811f27823ff7180e5b0c2c6,2,1,1,16688,,,0,"Add mitogen to the docs requirements

Mitogen is dependency of the pyroute2 and was added link to it
the docs in pyroute2 0.6.1. Due to the missing mitogen in our
docs venv, docs job was failing.
So let's install mitogen as docs env requirement, at least for now
to unblock our gate.
Later we can think about better solution as e.g. adding it properly to
the requirements or report and fix the issue in the pyroute2.

Change-Id: Iba37581916842bb5fc9f42f7f483d3431747bf8d
Closes-Bug: #1928913
(cherry picked from commit b881c5a032cccbe0f78444af6571907ad4bc98c5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/792181/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e75039cb5358e8c07811f27823ff7180e5b0c2c6,bug/1928913,# NOTE(slaweq): mitogen is optional dependency of the pyroute2 and without it # our docs job is failing mitogen>=0.2.9,,3,0
openstack%2Ftripleo-heat-templates~master~Iccf97ca676ee6096e47474c571bd4f53381ce1c9,openstack/tripleo-heat-templates,master,Iccf97ca676ee6096e47474c571bd4f53381ce1c9,Introduce CephHciOsdCount and CephHciOsdType,MERGED,2021-03-23 21:25:08.000000000,2021-05-19 14:28:52.000000000,2021-05-19 14:26:19.000000000,"[{'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-03-23 21:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea6fe56009c990ad710f5b5eca96c9f94808f4f1', 'message': 'Introduce ExpectedNumberOfCephOsds\n\nThe number of expected Ceph OSDs per HCI node. Used by Ansible\nmodule tripleo_derive_hci_parameters when cephadm is used. Since\nCephOsdSpec might only specify a description of devices to be used\nas OSDs (e.g. all rotational), and not a list of devices like\nCephAnsibleDisksConfig, this number is necessary in order to know\nhow much CPU/RAM to reserve.\n\nCloses-Bug: #1920954\nDepends-On: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\nChange-Id: Iccf97ca676ee6096e47474c571bd4f53381ce1c9\n'}, {'number': 2, 'created': '2021-03-24 21:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c427bb09434c0c9a97d9f4321ded3a2c5328996', 'message': 'Introduce CephOsdCount and CephOsdType\n\nCephOsdCount is the number of expected Ceph OSDs per HCI node.\nCephOsdType is the type of data_device (not db_device) used for\neach OSD and must be one of hdd, ssd, or nvme. These are used by\nthe Ansible module tripleo_derive_hci_parameters. Since CephOsdSpec,\nas used by cephadm, might only specify a description of devices to\nbe used as OSDs (e.g. all devices), and not a list of devices like\nCephAnsibleDisksConfig, setting the count directly is necessary in\norder to know how much CPU/RAM to reserve. Similarly, because a\ndevice path is not hard coded, we cannot look up that device in\nIronic to determine its type.\n\nCloses-Bug: #1920954\nDepends-On: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\nChange-Id: Iccf97ca676ee6096e47474c571bd4f53381ce1c9\n'}, {'number': 3, 'created': '2021-03-30 20:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/50cd5af822f525d5718e8f68df9acd19837af10e', 'message': 'Introduce CephHciOsdCount and CephHciOsdType\n\nCephHciOsdCount is the number of expected Ceph OSDs per HCI node.\nCephHciOsdType is the type of data_device (not db_device) used for\neach OSD and must be one of hdd, ssd, or nvme. These are used by\nthe Ansible module tripleo_derive_hci_parameters. Since CephOsdSpec,\nas used by cephadm, might only specify a description of devices to\nbe used as OSDs (e.g. all devices), and not a list of devices like\nCephAnsibleDisksConfig, setting the count directly is necessary in\norder to know how much CPU/RAM to reserve. Similarly, because a\ndevice path is not hard coded, we cannot look up that device in\nIronic to determine its type.\n\nCloses-Bug: #1920954\nDepends-On: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\nChange-Id: Iccf97ca676ee6096e47474c571bd4f53381ce1c9\n'}, {'number': 4, 'created': '2021-05-05 11:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7919d0f8646c0cad861a5a42e1784749cac7426', 'message': 'Introduce CephHciOsdCount and CephHciOsdType\n\nCephHciOsdCount is the number of expected Ceph OSDs per HCI node.\nCephHciOsdType is the type of data_device (not db_device) used for\neach OSD and must be one of hdd, ssd, or nvme. These are used by\nthe Ansible module tripleo_derive_hci_parameters. Since CephOsdSpec,\nas used by cephadm, might only specify a description of devices to\nbe used as OSDs (e.g. all devices), and not a list of devices like\nCephAnsibleDisksConfig, setting the count directly is necessary in\norder to know how much CPU/RAM to reserve. Similarly, because a\ndevice path is not hard coded, we cannot look up that device in\nIronic to determine its type.\n\nCloses-Bug: #1920954\nDepends-On: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\nChange-Id: Iccf97ca676ee6096e47474c571bd4f53381ce1c9\n'}, {'number': 5, 'created': '2021-05-12 20:47:31.000000000', 'files': ['releasenotes/notes/ceph-hci-osd-count-type-241614543ef7cc58.yaml', 'deployment/cephadm/ceph-osd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f14bfb14c7cb8b0af2d1663160ff43e1e38bb882', 'message': 'Introduce CephHciOsdCount and CephHciOsdType\n\nCephHciOsdCount is the number of expected Ceph OSDs per HCI node.\nCephHciOsdType is the type of data_device (not db_device) used for\neach OSD and must be one of hdd, ssd, or nvme. These are used by\nthe Ansible module tripleo_derive_hci_parameters. Since CephOsdSpec,\nas used by cephadm, might only specify a description of devices to\nbe used as OSDs (e.g. all devices), and not a list of devices like\nCephAnsibleDisksConfig, setting the count directly is necessary in\norder to know how much CPU/RAM to reserve. Similarly, because a\ndevice path is not hard coded, we cannot look up that device in\nIronic to determine its type.\n\nCloses-Bug: #1920954\nDepends-On: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\nChange-Id: Iccf97ca676ee6096e47474c571bd4f53381ce1c9\n'}]",2,782611,f14bfb14c7cb8b0af2d1663160ff43e1e38bb882,52,4,5,18002,,,0,"Introduce CephHciOsdCount and CephHciOsdType

CephHciOsdCount is the number of expected Ceph OSDs per HCI node.
CephHciOsdType is the type of data_device (not db_device) used for
each OSD and must be one of hdd, ssd, or nvme. These are used by
the Ansible module tripleo_derive_hci_parameters. Since CephOsdSpec,
as used by cephadm, might only specify a description of devices to
be used as OSDs (e.g. all devices), and not a list of devices like
CephAnsibleDisksConfig, setting the count directly is necessary in
order to know how much CPU/RAM to reserve. Similarly, because a
device path is not hard coded, we cannot look up that device in
Ironic to determine its type.

Closes-Bug: #1920954
Depends-On: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3
Change-Id: Iccf97ca676ee6096e47474c571bd4f53381ce1c9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/782611/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-osd.yaml'],1,ea6fe56009c990ad710f5b5eca96c9f94808f4f1,bug/1920954," ExpectedNumberOfCephOsds: type: number default: 0 description: | The number of expected Ceph OSDs per HCI node. Used by Ansible module tripleo_derive_hci_parameters when cephadm is used. Since CephOsdSpec might only specify a description of devices to be used as OSDs (e.g. all rotational), and not a list of devices like CephAnsibleDisksConfig, this number is necessary in order to know how much CPU/RAM to reserve.",,10,0
openstack%2Fpython-tripleoclient~master~I8b3e3b1eda9c24c76e9d1f78af9c3d52c998e1b8,openstack/python-tripleoclient,master,I8b3e3b1eda9c24c76e9d1f78af9c3d52c998e1b8,Don't run containers in interactive mode,MERGED,2021-05-17 02:16:00.000000000,2021-05-19 14:28:34.000000000,2021-05-19 14:26:00.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-17 02:16:00.000000000', 'files': ['tripleoclient/heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e10261c96b168a3bb0be62f97b54685f44225be0', 'message': ""Don't run containers in interactive mode\n\nRemoves '-it' from arguments.\n\nChange-Id: I8b3e3b1eda9c24c76e9d1f78af9c3d52c998e1b8\n""}]",0,791629,e10261c96b168a3bb0be62f97b54685f44225be0,8,3,1,8833,,,0,"Don't run containers in interactive mode

Removes '-it' from arguments.

Change-Id: I8b3e3b1eda9c24c76e9d1f78af9c3d52c998e1b8
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/29/791629/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/heat_launcher.py'],1,e10261c96b168a3bb0be62f97b54685f44225be0,," 'sudo', 'podman', 'exec', '-u', 'root', 'sudo', 'podman', 'exec', '-u', 'root', 'sudo', 'podman', 'exec', '-u', 'root', 'sudo', 'podman', 'exec', '-u', 'root', 'sudo', 'podman', 'exec', '-u', 'root', 'sudo', 'podman', 'exec', '-u', 'root', 'sudo', 'podman', 'exec', '-u', 'root', 'sudo', 'podman', 'exec', '-u', 'root', 'sudo', 'podman', 'exec', '-u', 'root', 'mysql', 'sudo', 'podman', 'exec', 'rabbitmq',"," 'sudo', 'podman', 'exec', '-it', '-u', 'root', 'sudo', 'podman', 'exec', '-it', '-u', 'root', 'sudo', 'podman', 'exec', '-it', '-u', 'root', 'sudo', 'podman', 'exec', '-it', '-u', 'root', 'sudo', 'podman', 'exec', '-i', '-u', 'root', 'sudo', 'podman', 'exec', '-it', '-u', 'root', 'sudo', 'podman', 'exec', '-it', '-u', 'root', 'sudo', 'podman', 'exec', '-it', '-u', 'root', 'sudo', 'podman', 'exec', '-it', '-u', 'root', 'mysql', 'sudo', 'podman', 'exec', '-it', 'rabbitmq',",10,10
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0,openstack/tripleo-heat-templates,stable/ussuri,I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0,Disable tunneled mode when use_tls_for_live_migration,MERGED,2021-05-17 13:49:24.000000000,2021-05-19 14:25:55.000000000,2021-05-19 14:25:55.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-17 13:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/330e6a0c48ece073bd2f6b39a6f597abbbb8e123', 'message': ""Disable tunneled mode when use_tls_for_live_migration\n\nWith recent version of libvirt, nova-compute don't come up\ncorrect when tls-everywhere (use_tls_for_live_migration)\nis set. The enable_live_migration_tunnelled condition\ndid not consider tls-livemigration and got disabled.\nNova-compute fails to start with:\n\n2021-05-12 12:49:09.278 7 ERROR oslo_service.service nova.exception.Invalid: Setting both 'live_migration_tunnelled' and 'live_migration_with_native_tls' at the same time is invalid. If you have the relevant libvirt and QEMU versions, and TLS configured in your environment, pick 'live_migration_with_native_tls'._\n\nThis change enhance the enable_live_migration_tunnelled\ncondition to not configure tunnelled mode when\nuse_tls_for_live_migration is true.\n\nConflicts:\n  - deployment/nova/nova-compute-container-puppet.yaml\n\nNOTE(dvd):\n- 91837d4fa7325e909b5f5a655336015688edb47c Add new parameters to configure nova-compute direct rbd image download\n- addcee106e2f0de09f785dbfde57d1185404c39c Add ability to configure glance multiple cinder stores\n\nCloses-Bug: #1928554\nRelated-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1959808\n\nChange-Id: I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0\n(cherry picked from commit 3a472cbbe844dd7e15e4889e5f02845461413169)\n(cherry picked from commit 4b1da5cd5ba440241351e52b627cde0477e93057)\n(cherry picked from commit 86de3c350141e1e05e5d77a742fc7c3dbb8a574c)\n""}, {'number': 2, 'created': '2021-05-18 12:24:17.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e8be55089ed96b8d594bba487d8ad61be93d3cc', 'message': ""Disable tunneled mode when use_tls_for_live_migration\n\nWith recent version of libvirt, nova-compute don't come up\ncorrect when tls-everywhere (use_tls_for_live_migration)\nis set. The enable_live_migration_tunnelled condition\ndid not consider tls-livemigration and got disabled.\nNova-compute fails to start with:\n\n2021-05-12 12:49:09.278 7 ERROR oslo_service.service nova.exception.Invalid: Setting both 'live_migration_tunnelled' and 'live_migration_with_native_tls' at the same time is invalid. If you have the relevant libvirt and QEMU versions, and TLS configured in your environment, pick 'live_migration_with_native_tls'._\n\nThis change enhance the enable_live_migration_tunnelled\ncondition to not configure tunnelled mode when\nuse_tls_for_live_migration is true.\n\nConflicts:\n  - deployment/nova/nova-compute-container-puppet.yaml\n\nNOTE(dvd):\n- 91837d4fa7325e909b5f5a655336015688edb47c Add new parameters to configure nova-compute direct rbd image download\n- addcee106e2f0de09f785dbfde57d1185404c39c Add ability to configure glance multiple cinder stores\n\nCloses-Bug: #1928554\nRelated-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1959808\n\nChange-Id: I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0\n(cherry picked from commit 3a472cbbe844dd7e15e4889e5f02845461413169)\n(cherry picked from commit 4b1da5cd5ba440241351e52b627cde0477e93057)\n(cherry picked from commit 86de3c350141e1e05e5d77a742fc7c3dbb8a574c)\n""}]",0,791591,0e8be55089ed96b8d594bba487d8ad61be93d3cc,23,9,2,27419,,,0,"Disable tunneled mode when use_tls_for_live_migration

With recent version of libvirt, nova-compute don't come up
correct when tls-everywhere (use_tls_for_live_migration)
is set. The enable_live_migration_tunnelled condition
did not consider tls-livemigration and got disabled.
Nova-compute fails to start with:

2021-05-12 12:49:09.278 7 ERROR oslo_service.service nova.exception.Invalid: Setting both 'live_migration_tunnelled' and 'live_migration_with_native_tls' at the same time is invalid. If you have the relevant libvirt and QEMU versions, and TLS configured in your environment, pick 'live_migration_with_native_tls'._

This change enhance the enable_live_migration_tunnelled
condition to not configure tunnelled mode when
use_tls_for_live_migration is true.

Conflicts:
  - deployment/nova/nova-compute-container-puppet.yaml

NOTE(dvd):
- 91837d4fa7325e909b5f5a655336015688edb47c Add new parameters to configure nova-compute direct rbd image download
- addcee106e2f0de09f785dbfde57d1185404c39c Add ability to configure glance multiple cinder stores

Closes-Bug: #1928554
Related-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1959808

Change-Id: I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0
(cherry picked from commit 3a472cbbe844dd7e15e4889e5f02845461413169)
(cherry picked from commit 4b1da5cd5ba440241351e52b627cde0477e93057)
(cherry picked from commit 86de3c350141e1e05e5d77a742fc7c3dbb8a574c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/791591/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml']",2,330e6a0c48ece073bd2f6b39a6f597abbbb8e123,1959808," EnableInternalTLS: type: boolean default: false UseTLSTransportForLiveMigration: type: boolean default: true description: If set to true and if EnableInternalTLS is enabled, it will set the libvirt URI's transport to tls and configure the relevant keys for libvirt. use_tls_for_live_migration: and: - {get_param: EnableInternalTLS} - {get_param: UseTLSTransportForLiveMigration} enable_live_migration_tunnelled: and: - or: - and: - {get_param: NovaNfsEnabled} - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, ''] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, true] - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, true] - and: - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, ''] - {get_param: NovaEnableRbdBackend} - not: use_tls_for_live_migration"," enable_live_migration_tunnelled: or: - and: - equals: [{get_param: NovaNfsEnabled}, true] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, ''] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, true] - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, true] - and: - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, ''] - equals: [{get_param: NovaEnableRbdBackend}, true]",25,13
openstack%2Fopenstack-ansible-rabbitmq_server~master~I8515470997982ccb765b6e3bbc824a5445d99f86,openstack/openstack-ansible-rabbitmq_server,master,I8515470997982ccb765b6e3bbc824a5445d99f86,Add debian bullseye support,MERGED,2021-05-17 15:37:42.000000000,2021-05-19 14:14:53.000000000,2021-05-19 14:12:28.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-17 15:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/96e770d4b8f1ad71c5817742e5515ceaad650488', 'message': 'Add debian bullseye support\n\nPackages for bullseye are only availble from the distro repository\nas there are no officially provided packages from RabbitMQ or Erlang\nSolutions yet.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/783606\nChange-Id: I8515470997982ccb765b6e3bbc824a5445d99f86\n'}, {'number': 2, 'created': '2021-05-17 16:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/85bf722857571047aa5895e7d0108359aba4955a', 'message': 'Add debian bullseye support\n\nPackages for bullseye are only availble from the distro repository\nas there are no officially provided packages from RabbitMQ or Erlang\nSolutions yet.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/783606\nChange-Id: I8515470997982ccb765b6e3bbc824a5445d99f86\n'}, {'number': 3, 'created': '2021-05-18 07:54:51.000000000', 'files': ['vars/debian-11.yml', 'tasks/install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/235d912059b9b67659cc7fe8a9af67f683430b8e', 'message': 'Add debian bullseye support\n\nPackages for bullseye are only availble from the distro repository\nas there are no officially provided packages from RabbitMQ or Erlang\nSolutions yet.\n\nChange-Id: I8515470997982ccb765b6e3bbc824a5445d99f86\n'}]",0,791769,235d912059b9b67659cc7fe8a9af67f683430b8e,12,3,3,25023,,,0,"Add debian bullseye support

Packages for bullseye are only availble from the distro repository
as there are no officially provided packages from RabbitMQ or Erlang
Solutions yet.

Change-Id: I8515470997982ccb765b6e3bbc824a5445d99f86
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/69/791769/3 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian-11.yml', 'tasks/install_apt.yml']",2,96e770d4b8f1ad71c5817742e5515ceaad650488,osa/bullseye, when: - rabbitmq_erlang_repo.repo is defined,,31,0
openstack%2Fopenstack-ansible-os_nova~master~I4a9679ba475b978add74dc74bd82d29f2025acf8,openstack/openstack-ansible-os_nova,master,I4a9679ba475b978add74dc74bd82d29f2025acf8,Dynamically compute nova_scheduler_host_subset_size value,ABANDONED,2021-05-19 13:46:30.000000000,2021-05-19 13:51:03.000000000,,[],"[{'number': 1, 'created': '2021-05-19 13:46:30.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f43b3351aaa1576bfc36c49c5cab23f1ce7df2b3', 'message': 'Dynamically compute nova_scheduler_host_subset_size value\n\nHaving this variable set to 10 might be a very bad option for small environments. From the other side, switching back to nova default value(1) also has another disadvantages. I think the best option is to add some logic here and compute a proper value based on number of compute nodes\n\nChange-Id: I073875d380b14771cff434620553eada5068a430\n\n\tmodified:   defaults/main.yml\n\nChange-Id: I4a9679ba475b978add74dc74bd82d29f2025acf8\n'}]",0,792151,f43b3351aaa1576bfc36c49c5cab23f1ce7df2b3,2,0,1,32666,,,0,"Dynamically compute nova_scheduler_host_subset_size value

Having this variable set to 10 might be a very bad option for small environments. From the other side, switching back to nova default value(1) also has another disadvantages. I think the best option is to add some logic here and compute a proper value based on number of compute nodes

Change-Id: I073875d380b14771cff434620553eada5068a430

	modified:   defaults/main.yml

Change-Id: I4a9679ba475b978add74dc74bd82d29f2025acf8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/51/792151/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,f43b3351aaa1576bfc36c49c5cab23f1ce7df2b3,,"nova_scheduler_host_subset_size: ""{{ ((((groups['compute_hosts'] | length) * 0.3) | round | int, 10) | min, 1) | max }}""",nova_scheduler_host_subset_size: 10,1,1
openstack%2Freleases~master~Ida4366b6ed790319039aab52ae586eed671eff8b,openstack/releases,master,Ida4366b6ed790319039aab52ae586eed671eff8b,openstacksdk 0.57.0,ABANDONED,2021-05-19 13:23:41.000000000,2021-05-19 13:48:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-19 13:23:41.000000000', 'files': ['deliverables/xena/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2acbc7c914b6f0932485835def7129f70166a219', 'message': 'openstacksdk 0.57.0\n\nThis includes a fix for story 2008890 among other fixes and\nimprovements.\n\nChange-Id: Ida4366b6ed790319039aab52ae586eed671eff8b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,792144,2acbc7c914b6f0932485835def7129f70166a219,4,2,1,15334,,,0,"openstacksdk 0.57.0

This includes a fix for story 2008890 among other fixes and
improvements.

Change-Id: Ida4366b6ed790319039aab52ae586eed671eff8b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/792144/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/openstacksdk.yaml'],1,2acbc7c914b6f0932485835def7129f70166a219,openstacksdk, - version: 0.57.0 projects: - repo: openstack/openstacksdk hash: e6e8e7aab41f9ded9535dfa2ddb5a8c789ce50c3,,4,0
openstack%2Ftripleo-heat-templates~master~Icdbe33608b5fab8fb4ada88c81c043d5741d6a34,openstack/tripleo-heat-templates,master,Icdbe33608b5fab8fb4ada88c81c043d5741d6a34,Add release note for the OVNEncapType,MERGED,2021-04-29 19:50:27.000000000,2021-05-19 13:45:51.000000000,2021-05-19 13:44:30.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 19:50:27.000000000', 'files': ['releasenotes/notes/OVNEncapType-option-added-85296d2fe1d94f35.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b1960e4c768080377ce0ad07801e469a722be2f', 'message': 'Add release note for the OVNEncapType\n\nOption was added in [1]. This is follow up with new release note as\nI forgot about it in the original patch.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/788212\n\nRelated-bz: #1881697\nChange-Id: Icdbe33608b5fab8fb4ada88c81c043d5741d6a34\n'}]",0,788825,1b1960e4c768080377ce0ad07801e469a722be2f,7,2,1,11975,,,0,"Add release note for the OVNEncapType

Option was added in [1]. This is follow up with new release note as
I forgot about it in the original patch.

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/788212

Related-bz: #1881697
Change-Id: Icdbe33608b5fab8fb4ada88c81c043d5741d6a34
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/788825/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/OVNEncapType-option-added-85296d2fe1d94f35.yaml'],1,1b1960e4c768080377ce0ad07801e469a722be2f,bz/1881697,--- features: - | New config option ``OVNEncapType`` was added to the ovn-controller-container-puppet.yaml module. It can be used to define what encapsulation type will be used in the deployment. ,,6,0
openstack%2Ftripleo-ansible~master~I46e3a64468bdcd61f76b697b851dd2228018cc69,openstack/tripleo-ansible,master,I46e3a64468bdcd61f76b697b851dd2228018cc69,Remove galaxy file,MERGED,2021-05-18 16:44:54.000000000,2021-05-19 13:44:25.000000000,2021-05-19 13:44:25.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-05-18 16:44:54.000000000', 'files': ['galaxy.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e4015771cc639ee321e560bd07872735898d9c7', 'message': 'Remove galaxy file\n\nPresence of a galaxy.yml file means that the repository is acting as\na valid colleciton, which is not the case, yet.\n\nRemoval of the placeholder is needed because otherwise ansible-lint\nwill report collection specific errors.\n\nChange-Id: I46e3a64468bdcd61f76b697b851dd2228018cc69\n'}]",0,792012,7e4015771cc639ee321e560bd07872735898d9c7,8,6,1,24162,,,0,"Remove galaxy file

Presence of a galaxy.yml file means that the repository is acting as
a valid colleciton, which is not the case, yet.

Removal of the placeholder is needed because otherwise ansible-lint
will report collection specific errors.

Change-Id: I46e3a64468bdcd61f76b697b851dd2228018cc69
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/792012/1 && git format-patch -1 --stdout FETCH_HEAD,['galaxy.yml'],1,7e4015771cc639ee321e560bd07872735898d9c7,,,,0,0
openstack%2Fmagnum~master~I22c4af10c17525728477da88c9853a7ef5249625,openstack/magnum,master,I22c4af10c17525728477da88c9853a7ef5249625,Fix proxy behaviour,NEW,2021-03-02 10:26:03.000000000,2021-05-19 13:29:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-02 10:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1ae5ab81f88e2e0d1e043d8f60a1c9d96f3388b9', 'message': 'Fix proxy behaviour\n\nStory: 2008673\nChange-Id: I22c4af10c17525728477da88c9853a7ef5249625\n'}, {'number': 2, 'created': '2021-03-02 13:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/30b72138c01d7c19534ac6fb75f2d16a7ccfde66', 'message': 'Fix proxy behaviour\n\nStory: 2008673\nChange-Id: I22c4af10c17525728477da88c9853a7ef5249625\n'}, {'number': 3, 'created': '2021-05-19 12:40:49.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2388665ef40209dd3841f2f1fb0700bfecd07833', 'message': 'Fix proxy behaviour\n\nStory: 2008673\nChange-Id: I22c4af10c17525728477da88c9853a7ef5249625\n'}]",10,778160,2388665ef40209dd3841f2f1fb0700bfecd07833,23,2,3,28619,,,0,"Fix proxy behaviour

Story: 2008673
Change-Id: I22c4af10c17525728477da88c9853a7ef5249625
",git fetch https://review.opendev.org/openstack/magnum refs/changes/60/778160/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml']",2,1ae5ab81f88e2e0d1e043d8f60a1c9d96f3388b9,, - get_file: ../../common/templates/kubernetes/fragments/add-proxy.sh, - get_file: ../../common/templates/kubernetes/fragments/add-proxy.sh,17,1
openstack%2Fkolla-ansible~master~I726541f4b3fdc357387a44c6a2153593a10bf282,openstack/kolla-ansible,master,I726541f4b3fdc357387a44c6a2153593a10bf282,baremetal: Install Docker SDK less than 5.0.0,MERGED,2021-05-19 06:10:11.000000000,2021-05-19 13:26:12.000000000,2021-05-19 13:23:59.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-19 06:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5e2962af7533b83837cf8f1f843753132e985cea', 'message': 'baremetal: Install Docker SDK less than 5.0.0\n\nDocker 5.0.0 [1] dropped requirement for six, but still imports it.\n\n[1]: https://github.com/docker/docker-py/issues/2807\n\nChange-Id: I726541f4b3fdc357387a44c6a2153593a10bf282\n'}, {'number': 2, 'created': '2021-05-19 07:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1edf14c206c2cb5fb8e8c673c31d5f935de8dded', 'message': 'baremetal: Install Docker SDK less than 5.0.0\n\nDocker 5.0.0 [1] dropped requirement for six, but still imports it.\n\n[1]: https://github.com/docker/docker-py/issues/2807\n\nCloses-Bug: #1928915\nChange-Id: I726541f4b3fdc357387a44c6a2153593a10bf282\n'}, {'number': 3, 'created': '2021-05-19 07:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c86434d6800d9c9619195d628fad5ece8fb46562', 'message': 'baremetal: Install Docker SDK less than 5.0.0\n\nDocker 5.0.0 [1] dropped requirement for six, but still imports it.\n\n[1]: https://github.com/docker/docker-py/issues/2807\n\nCloses-Bug: #1928915\nChange-Id: I726541f4b3fdc357387a44c6a2153593a10bf282\n'}, {'number': 4, 'created': '2021-05-19 07:33:41.000000000', 'files': ['ansible/roles/baremetal/tasks/install.yml', 'releasenotes/notes/bug-1928915-482b2d53bb2a4d92.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b053bd8ecf2cdbbdf83aeb6777e9502e5db70256', 'message': 'baremetal: Install Docker SDK less than 5.0.0\n\nDocker 5.0.0 [1] dropped requirement for six, but still imports it.\n\n[1]: https://github.com/docker/docker-py/issues/2807\n\nCloses-Bug: #1928915\nChange-Id: I726541f4b3fdc357387a44c6a2153593a10bf282\n'}]",0,792071,b053bd8ecf2cdbbdf83aeb6777e9502e5db70256,16,3,4,22629,,,0,"baremetal: Install Docker SDK less than 5.0.0

Docker 5.0.0 [1] dropped requirement for six, but still imports it.

[1]: https://github.com/docker/docker-py/issues/2807

Closes-Bug: #1928915
Change-Id: I726541f4b3fdc357387a44c6a2153593a10bf282
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/792071/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/tasks/install.yml'],1,5e2962af7533b83837cf8f1f843753132e985cea,," # NOTE(mnasiadka): docker 5.0.0 lacks six in deps but requires it name: docker>=2.4.2,<5.0.0", name: docker>=2.4.2,2,1
openstack%2Ftripleo-validations~master~Iddeb44d244ee3075a6e6c18e40081a897d7afcd7,openstack/tripleo-validations,master,Iddeb44d244ee3075a6e6c18e40081a897d7afcd7,DNM openstack-tox-docs test,ABANDONED,2021-05-19 11:07:29.000000000,2021-05-19 12:50:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-19 11:07:29.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/310487d4620a254a72bdc4efcf1caaa5b365de42', 'message': 'DNM openstack-tox-docs test\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Iddeb44d244ee3075a6e6c18e40081a897d7afcd7\n'}]",0,792127,310487d4620a254a72bdc4efcf1caaa5b365de42,3,1,1,11491,,,0,"DNM openstack-tox-docs test

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Iddeb44d244ee3075a6e6c18e40081a897d7afcd7
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/27/792127/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,310487d4620a254a72bdc4efcf1caaa5b365de42,docs/job-trigger,TODO(gchamoul): Remove this TODO! ,,2,0
openstack%2Fdevstack~master~I2eb8ec2735b9723a2d4cf3a193a6b4ce8a3c851e,openstack/devstack,master,I2eb8ec2735b9723a2d4cf3a193a6b4ce8a3c851e,Fix unit tests failing on not finding python,ABANDONED,2021-05-19 12:42:50.000000000,2021-05-19 12:44:32.000000000,,[],"[{'number': 1, 'created': '2021-05-19 12:42:50.000000000', 'files': ['tests/test_write_devstack_local_conf_role.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/87fbeda6bcf95cec817e5f4bf0465d05d2b82d81', 'message': ""Fix unit tests failing on not finding python\n\nOne of the unit tests started failing with:\n'python: command not found'\nThe patch explicitly sets python3 to be used to execute\nthe test.\n\nChange-Id: I2eb8ec2735b9723a2d4cf3a193a6b4ce8a3c851e\n""}]",0,792135,87fbeda6bcf95cec817e5f4bf0465d05d2b82d81,2,0,1,22873,,,0,"Fix unit tests failing on not finding python

One of the unit tests started failing with:
'python: command not found'
The patch explicitly sets python3 to be used to execute
the test.

Change-Id: I2eb8ec2735b9723a2d4cf3a193a6b4ce8a3c851e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/35/792135/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_write_devstack_local_conf_role.sh'],1,87fbeda6bcf95cec817e5f4bf0465d05d2b82d81,,python3 ./roles/write-devstack-local-conf/library/test.py,python ./roles/write-devstack-local-conf/library/test.py,1,1
openstack%2Ftooz~stable%2Fvictoria~Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,openstack/tooz,stable/victoria,Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,Retry on redis connection errors,MERGED,2021-05-17 11:29:35.000000000,2021-05-19 12:29:30.000000000,2021-05-19 12:28:08.000000000,"[{'_account_id': 4264}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-05-17 11:29:35.000000000', 'files': ['requirements.txt', 'tooz/drivers/redis.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9', 'message': ""Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nConflict:\nrequirements.txt\n\nNOTE(hberaud): This conflict is due to the cap of tenacity during wallaby\nto unblock the gate. This requirement cap won't be an issue for victoria\nand for previous stable branches.\n\nhttps://opendev.org/openstack/tooz/commit/fe9c4304551cce0ac85366965009ad102fd9610a\n\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)\n(cherry picked from commit 62d5d17a5d2495f1f898163bbd83acbbc9873620)\n""}]",0,791727,1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9,17,4,1,28522,,,0,"Retry on redis connection errors

Sometimes, connections get closed by the server. This change
adds retrying to the code.

Conflict:
requirements.txt

NOTE(hberaud): This conflict is due to the cap of tenacity during wallaby
to unblock the gate. This requirement cap won't be an issue for victoria
and for previous stable branches.

https://opendev.org/openstack/tooz/commit/fe9c4304551cce0ac85366965009ad102fd9610a

Change-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b
(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)
(cherry picked from commit 62d5d17a5d2495f1f898163bbd83acbbc9873620)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/27/791727/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tooz/drivers/redis.py']",2,1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9,v,"def _handle_failures(func=None, n_tries=15): """"""Translates common redis exceptions into tooz exceptions. This also enables retrying on certain exceptions. :param func: the function to act on :param n_tries: the number of retries """""" if func is None: return functools.partial( _handle_failures, n_tries=n_tries ) @functools.wraps(func) def wrapper(*args, **kwargs): ntries = n_tries while ntries > 1: try: return func(*args, **kwargs) except exceptions.ConnectionError as e: # retry ntries times and then raise a connection error ntries -= 1 if ntries >= 1: utils.raise_with_cause(coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) except (exceptions.TimeoutError) as e: utils.raise_with_cause(coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) except exceptions.RedisError as e: utils.raise_with_cause(tooz.ToozError, encodeutils.exception_to_unicode(e), cause=e) return func(*args, **kwargs) return wrapper @_handle_failures def is_still_owner(self): lock_tok = self._lock.local.token if not lock_tok: return False owner_tok = self._client.get(self.name) return owner_tok == lock_tok @_handle_failures def break_(self): return bool(self._client.delete(self.name)) @_handle_failures acquired = self._lock.acquire( blocking=blocking, blocking_timeout=timeout) if acquired: with self._exclusive_access: self._coord._acquired_locks.add(self) return acquired @_handle_failures try: self._lock.release() except exceptions.LockError as e: LOG.error(""Unable to release lock '%r': %s"", self, e) return False finally: self._coord._acquired_locks.discard(self) return True @_handle_failures self._lock.reacquire() return True @_handle_failures self._server_info = self._client.info() @_handle_failures def heartbeat(self): beat_id = self._encode_beat_id(self._member_id) expiry_ms = max(0, int(self.membership_timeout * 1000.0)) self._client.psetex(beat_id, time_ms=expiry_ms, value=self.STILL_ALIVE) @_handle_failures self._client.delete(beat_id)RedisFutureResult = functools.partial(coordination.CoordinatorResult)","import contextlib@contextlib.contextmanager def _translate_failures(): """"""Translates common redis exceptions into tooz exceptions."""""" try: yield except (exceptions.ConnectionError, exceptions.TimeoutError) as e: utils.raise_with_cause(coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) except exceptions.RedisError as e: utils.raise_with_cause(tooz.ToozError, encodeutils.exception_to_unicode(e), cause=e) def is_still_owner(self): with _translate_failures(): lock_tok = self._lock.local.token if not lock_tok: return False owner_tok = self._client.get(self.name) return owner_tok == lock_tok def break_(self): with _translate_failures(): return bool(self._client.delete(self.name)) with _translate_failures(): acquired = self._lock.acquire( blocking=blocking, blocking_timeout=timeout) if acquired: with self._exclusive_access: self._coord._acquired_locks.add(self) return acquired with _translate_failures(): try: self._lock.release() except exceptions.LockError as e: LOG.error(""Unable to release lock '%r': %s"", self, e) return False finally: self._coord._acquired_locks.discard(self) return True with _translate_failures(): self._lock.reacquire() return True with _translate_failures(): self._server_info = self._client.info() def heartbeat(self): with _translate_failures(): beat_id = self._encode_beat_id(self._member_id) expiry_ms = max(0, int(self.membership_timeout * 1000.0)) self._client.psetex(beat_id, time_ms=expiry_ms, value=self.STILL_ALIVE) with _translate_failures(): self._client.delete(beat_id)RedisFutureResult = functools.partial(coordination.CoordinatorResult, failure_translator=_translate_failures)",79,53
openstack%2Fpuppet-nova~master~I0ec7242dc1ade27ddf72426e4a89a49ab4d6c9de,openstack/puppet-nova,master,I0ec7242dc1ade27ddf72426e4a89a49ab4d6c9de,Clean up deprecated parameters of nova::compute::libvirt,MERGED,2021-05-04 12:36:46.000000000,2021-05-19 12:17:08.000000000,2021-05-19 12:15:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 12:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3dc68fcd6b046616dcc982a57021f675590fb556', 'message': 'Clean up deprecatd parameters of nova::compute::libvirt\n\nChange-Id: I0ec7242dc1ade27ddf72426e4a89a49ab4d6c9de\n'}, {'number': 2, 'created': '2021-05-04 17:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/85cc946e828893d9cb08f7f47b92a3a0cdfbf614', 'message': 'Clean up deprecatd parameters of nova::compute::libvirt\n\nChange-Id: I0ec7242dc1ade27ddf72426e4a89a49ab4d6c9de\n'}, {'number': 3, 'created': '2021-05-04 20:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8875613ae734682b3ac92e9928e5b21e459793d7', 'message': 'Clean up deprecatd parameters of nova::compute::libvirt\n\nChange-Id: I0ec7242dc1ade27ddf72426e4a89a49ab4d6c9de\n'}, {'number': 4, 'created': '2021-05-05 01:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0525efd427c79529705ffc2a81dd845daf9cc186', 'message': 'Clean up deprecated parameters of nova::compute::libvirt\n\nChange-Id: I0ec7242dc1ade27ddf72426e4a89a49ab4d6c9de\n'}, {'number': 5, 'created': '2021-05-18 01:39:00.000000000', 'files': ['spec/classes/nova_compute_libvirt_spec.rb', 'manifests/compute/libvirt.pp', 'releasenotes/notes/cleanup-nova-compute-libvirt-d109949308bb292d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/cdec92f3e8de6094a9871daa47ec1c6681fc02ad', 'message': 'Clean up deprecated parameters of nova::compute::libvirt\n\nChange-Id: I0ec7242dc1ade27ddf72426e4a89a49ab4d6c9de\n'}]",0,789559,cdec92f3e8de6094a9871daa47ec1c6681fc02ad,21,3,5,9816,,,0,"Clean up deprecated parameters of nova::compute::libvirt

Change-Id: I0ec7242dc1ade27ddf72426e4a89a49ab4d6c9de
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/59/789559/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt.pp', 'releasenotes/notes/cleanup-nova-compute-libvirt-d109949308bb292d.yaml']",2,3dc68fcd6b046616dcc982a57021f675590fb556,cleanup,--- upgrade: - | The following deprecated parameters have been removed from the ``nova::compute::libvirt`` class. - ``libvirt_virt_type`` - ``libvirt_cpu_mode`` - ``libvirt_cpu_model`` - ``libvirt_cpu_model_extra_flags`` - ``libvirt_snapshot_image_format`` - ``libvirt_hw_dis_discard`` - ``libvirt_hw_machine_type`` - ``libvirt_hw_inject_password`` - ``libvirt_hw_inject_key`` - ``libvirt_hw_inject_partition`` - ``libvirt_enabled_perf_events`` ,,43,137
openstack%2Fopenstacksdk~master~Ic47a52b329af5f2ca265ac3c307c33fe8ca42ef2,openstack/openstacksdk,master,Ic47a52b329af5f2ca265ac3c307c33fe8ca42ef2,placement: Add support for resource classes,MERGED,2021-03-26 15:53:55.000000000,2021-05-19 12:06:54.000000000,2021-05-19 12:05:29.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-03-26 15:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/dc69884f677b7f761023c0b8b5e232b618f9e07e', 'message': 'placement: Add support for resource classes\n\nThis one is simple. Resource classes are just strings:\n\n  {\n    ""name"": ""CUSTOM_FPGA"",\n  }\n\nChange-Id: Ic47a52b329af5f2ca265ac3c307c33fe8ca42ef2\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-04-27 08:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4873a69dce2ffdd41434aa52937e8ca6c22a8e7e', 'message': 'placement: Add support for resource classes\n\nThis one is simple. Resource classes are just strings:\n\n  {\n    ""name"": ""CUSTOM_FPGA"",\n  }\n\nChange-Id: Ic47a52b329af5f2ca265ac3c307c33fe8ca42ef2\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-05-10 16:06:03.000000000', 'files': ['releasenotes/notes/add-placement-resource-class-e1c644d978b886bc.yaml', 'openstack/tests/unit/placement/v1/test_resource_class.py', 'doc/source/user/proxies/placement.rst', 'openstack/placement/v1/_proxy.py', 'doc/source/user/resources/placement/index.rst', 'openstack/placement/v1/resource_class.py', 'doc/source/user/resources/placement/v1/resource_class.rst', 'openstack/tests/unit/placement/v1/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/38e9ca0090247bee1b999d39634fa8fd6503b7ae', 'message': 'placement: Add support for resource classes\n\nThis one is simple. Resource classes are just strings:\n\n  {\n    ""name"": ""CUSTOM_FPGA"",\n  }\n\nChange-Id: Ic47a52b329af5f2ca265ac3c307c33fe8ca42ef2\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,783350,38e9ca0090247bee1b999d39634fa8fd6503b7ae,21,3,3,15334,,,0,"placement: Add support for resource classes

This one is simple. Resource classes are just strings:

  {
    ""name"": ""CUSTOM_FPGA"",
  }

Change-Id: Ic47a52b329af5f2ca265ac3c307c33fe8ca42ef2
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/50/783350/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-placement-support-a2011eb1e900804d.yaml', 'doc/source/user/proxies/placement.rst', 'openstack/tests/unit/placement/v1/test_resource_class.py', 'openstack/placement/v1/_proxy.py', 'doc/source/user/resources/placement/index.rst', 'openstack/placement/v1/resource_class.py', 'doc/source/user/resources/placement/v1/resource_class.rst', 'openstack/tests/unit/placement/v1/test_proxy.py']",8,dc69884f677b7f761023c0b8b5e232b618f9e07e,placement-in-sdk,"from openstack.placement.v1 import resource_class # resource classes def test_resource_class_create(self): self.verify_create( self.proxy.create_resource_class, resource_class.ResourceClass, ) def test_resource_class_delete(self): self.verify_delete( self.proxy.delete_resource_class, resource_class.ResourceClass, False, ) def test_resource_class_update(self): self.verify_update( self.proxy.update_resource_class, resource_class.ResourceClass, False, ) def test_resource_class_get(self): self.verify_get( self.proxy.get_resource_class, resource_class.ResourceClass, ) def test_resource_classes(self): self.verify_list_no_kwargs( self.proxy.resource_classs, resource_class.ResourceClass, ) # resource providers ",,231,0
openstack%2Fkayobe-config~master~If74ad440a11d654829ac1d628ab3c0ef7aed18e1,openstack/kayobe-config,master,If74ad440a11d654829ac1d628ab3c0ef7aed18e1,Synchronize kayobe-config,MERGED,2021-05-13 15:22:44.000000000,2021-05-19 11:45:07.000000000,2021-05-19 11:45:07.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-05-13 15:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/8e54cd02bb31df3396d4992414b2aecbae1263af', 'message': 'Synchronize kayobe-config\n\nA few late additions to the wallaby release.\n\nSee:\n- https://docs.openstack.org/kayobe/latest/contributor/releases.html#synchronise-kayobe-config\n\nChange-Id: If74ad440a11d654829ac1d628ab3c0ef7aed18e1\n'}, {'number': 2, 'created': '2021-05-13 15:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/71c51cdd1f16eda77617b894ca46101531fa122a', 'message': 'Synchronize kayobe-config\n\nA few late additions to the wallaby release.\n\nSee:\n- https://docs.openstack.org/kayobe/latest/contributor/releases.html#synchronise-kayobe-config\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/790819\nChange-Id: If74ad440a11d654829ac1d628ab3c0ef7aed18e1\n'}, {'number': 3, 'created': '2021-05-19 09:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/c48b2e27032f20e5b94804cf7a9b39e03905b690', 'message': 'Synchronize kayobe-config\n\nA few late additions to the wallaby release.\n\nSee:\n- https://docs.openstack.org/kayobe/latest/contributor/releases.html#synchronise-kayobe-config\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/790819\nChange-Id: If74ad440a11d654829ac1d628ab3c0ef7aed18e1\n'}, {'number': 4, 'created': '2021-05-19 11:04:57.000000000', 'files': ['etc/kayobe/bifrost.yml', 'etc/kayobe/globals.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/docker-registry.yml', 'etc/kayobe/time.yml', 'etc/kayobe/inventory/groups'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/9eb6a0cb2dfeadaf8de68da9cf03ab1955ed6ed8', 'message': 'Synchronize kayobe-config\n\nA few late additions to the wallaby release.\n\nSee:\n- https://docs.openstack.org/kayobe/latest/contributor/releases.html#synchronise-kayobe-config\n\nChange-Id: If74ad440a11d654829ac1d628ab3c0ef7aed18e1\n'}]",0,791265,9eb6a0cb2dfeadaf8de68da9cf03ab1955ed6ed8,20,4,4,28048,,,0,"Synchronize kayobe-config

A few late additions to the wallaby release.

See:
- https://docs.openstack.org/kayobe/latest/contributor/releases.html#synchronise-kayobe-config

Change-Id: If74ad440a11d654829ac1d628ab3c0ef7aed18e1
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/65/791265/4 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/bifrost.yml', 'etc/kayobe/globals.yml', 'etc/kayobe/time.yml', 'etc/kayobe/inventory/groups']",4,8e54cd02bb31df3396d4992414b2aecbae1263af,,# Service groups.[ntp:children] # Kayobe will configure Chrony on members of this group. seed seed-hypervisor overcloud ,# Docker groups.,38,3
openstack%2Fopenstack-ansible-os_manila~master~Ibe4ce100cfad933dfaeaba236d7921711df491d5,openstack/openstack-ansible-os_manila,master,Ibe4ce100cfad933dfaeaba236d7921711df491d5,setup.cfg: Replace dashes with underscores,MERGED,2021-05-16 06:47:07.000000000,2021-05-19 11:40:35.000000000,2021-05-19 11:38:34.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-16 06:47:07.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/58d9c84d714ef306b71d533fa6a5abb477079b52', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ibe4ce100cfad933dfaeaba236d7921711df491d5\n""}]",0,791617,58d9c84d714ef306b71d533fa6a5abb477079b52,7,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ibe4ce100cfad933dfaeaba236d7921711df491d5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/17/791617/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,58d9c84d714ef306b71d533fa6a5abb477079b52,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_manila/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_manila/latest/,3,3
openstack%2Fopenstack-ansible-os_manila~master~I175072167602b6ec400d21b9350533a58901f890,openstack/openstack-ansible-os_manila,master,I175072167602b6ec400d21b9350533a58901f890,Use ansible_facts[] instead of fact variables,MERGED,2021-03-15 18:22:28.000000000,2021-05-19 11:39:42.000000000,2021-05-19 11:38:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-03-15 18:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/eb4ebe4c95fc01f7ccc3b7b9206a59237f0ff853', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I175072167602b6ec400d21b9350533a58901f890\n'}, {'number': 2, 'created': '2021-03-16 08:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/2e874fd4ad778f4b8b570b9b3e20c971f700000b', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I175072167602b6ec400d21b9350533a58901f890\n'}, {'number': 3, 'created': '2021-05-18 16:32:14.000000000', 'files': ['tasks/main.yml', 'tasks/manila_install.yml', 'handlers/main.yml', 'tasks/manila_backends.yml', 'defaults/main.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/590e0235abcbd1c4e1e8657d6b83792198e5c69e', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I175072167602b6ec400d21b9350533a58901f890\n'}]",0,780646,590e0235abcbd1c4e1e8657d6b83792198e5c69e,14,3,3,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I175072167602b6ec400d21b9350533a58901f890
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/46/780646/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/manila_install.yml', 'handlers/main.yml', 'tasks/manila_backends.yml', 'defaults/main.yml', 'meta/main.yml']",6,eb4ebe4c95fc01f7ccc3b7b9206a59237f0ff853,osa-cleanup, - ansible_facts['pkg_mgr'] == 'apt', - ansible_pkg_mgr == 'apt',14,14
openstack%2Fironic~master~I0fcd7c63a4bc41110eb7f4cd4031580ef98d9a19,openstack/ironic,master,I0fcd7c63a4bc41110eb7f4cd4031580ef98d9a19,Clean up kernel_append_params for Redfish and iLO,MERGED,2021-05-17 14:22:14.000000000,2021-05-19 11:37:36.000000000,2021-05-19 11:34:18.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-17 14:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6c65c637b1b6a41b033858aeb5cb4f8e04ee1bba', 'message': ""Clean up kernel_append_params for Redfish and iLO\n\nCurrently handling of kernel_append_params is very inconsistent. This\nchange applies a straightforward process:\n1. instance_info[kernel_append_params]\n2. driver_info[kernel_append_params]\n3. [pxe]kernel_append_params (renamed from pxe_append_params).\n\nThe existing ilo_kernel_append_params is declared but never implemented,\nso it's removed without deprecation in favor of the new option.\n\nStory: #2008902\nTask: #42470\nTask: #42471\nChange-Id: I0fcd7c63a4bc41110eb7f4cd4031580ef98d9a19\n""}, {'number': 2, 'created': '2021-05-17 14:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/198e20da56630d2477ad63cce1bdd372de9858a7', 'message': ""Clean up kernel_append_params for Redfish and iLO\n\nCurrently handling of kernel_append_params is very inconsistent. This\nchange applies a straightforward process:\n1. instance_info[kernel_append_params]\n2. driver_info[kernel_append_params]\n3. [$driver]kernel_append_params\n\nThe existing ilo_kernel_append_params is declared but never implemented,\nso it's removed without deprecation in favor of the new option.\n\nStory: #2008902\nTask: #42470\nTask: #42471\nChange-Id: I0fcd7c63a4bc41110eb7f4cd4031580ef98d9a19\n""}, {'number': 3, 'created': '2021-05-17 14:43:45.000000000', 'files': ['doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/drivers/modules/image_utils.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py', 'releasenotes/notes/redfish-append-params-4d28d922484c2731.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e51404c8e709e0b8b1ee0430869a9dd7083cf048', 'message': ""Clean up kernel_append_params for Redfish and iLO\n\nCurrently handling of kernel_append_params is very inconsistent. This\nchange applies a straightforward process:\n1. instance_info[kernel_append_params]\n2. driver_info[kernel_append_params]\n3. [$driver]kernel_append_params\n\nThe existing ilo_kernel_append_params is declared but never implemented,\nso it's removed without deprecation in favor of the new option.\n\nStory: #2008902\nTask: #42470\nTask: #42471\nChange-Id: I0fcd7c63a4bc41110eb7f4cd4031580ef98d9a19\n""}]",1,791761,e51404c8e709e0b8b1ee0430869a9dd7083cf048,15,3,3,10239,,,0,"Clean up kernel_append_params for Redfish and iLO

Currently handling of kernel_append_params is very inconsistent. This
change applies a straightforward process:
1. instance_info[kernel_append_params]
2. driver_info[kernel_append_params]
3. [$driver]kernel_append_params

The existing ilo_kernel_append_params is declared but never implemented,
so it's removed without deprecation in favor of the new option.

Story: #2008902
Task: #42470
Task: #42471
Change-Id: I0fcd7c63a4bc41110eb7f4cd4031580ef98d9a19
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/791761/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/drivers/modules/image_utils.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py', 'releasenotes/notes/redfish-append-params-4d28d922484c2731.yaml']",5,6c65c637b1b6a41b033858aeb5cb4f8e04ee1bba,redfish-append-params,"--- features: - | The ``redfish-virtual-media``, ``ilo-virtual-media`` and ``idrac-redfish-virtual-media`` boot interfaces now support ``kernel_append_params`` not only in the node's ``instance_info``, but also ``driver_info``. deprecations: - | The ``ilo-virtual-media`` boot interface has previously declared support for the ``ilo_kernel_append_params`` option in ``driver_info``. It has never been implemented in reality and has been replaces by the new ``kernel_append_params``. ",,57,20
openstack%2Fironic~master~I79bcf4d8ef1f0f55a82e0991dd5bb1685b3f7957,openstack/ironic,master,I79bcf4d8ef1f0f55a82e0991dd5bb1685b3f7957,Clean up kernel_append_params for PXE/iPXE,MERGED,2021-05-17 13:39:47.000000000,2021-05-19 11:36:13.000000000,2021-05-19 11:33:41.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-17 13:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a31b020c4b840842a803cd57ea39f871d1557140', 'message': 'Clean up kernel_append_params for PXE/iPXE\n\nCurrently handling of kernel_append_params is very inconsistent. This\nchange applies a straightforward process:\n1. instance_info[kernel_append_params]\n2. driver_info[kernel_append_params]\n3. [pxe]kernel_append_params (renamed from pxe_append_params).\n\nAlso lays the foundation for subsequent fixes in other drivers.\n\nChange-Id: I79bcf4d8ef1f0f55a82e0991dd5bb1685b3f7957\nStory: #2008902\nTask: #42469\n'}, {'number': 2, 'created': '2021-05-17 14:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fbc5e4bff800044b7f08b18497c8c5ce3ab13075', 'message': 'Clean up kernel_append_params for PXE/iPXE\n\nCurrently handling of kernel_append_params is very inconsistent. This\nchange applies a straightforward process:\n1. instance_info[kernel_append_params]\n2. driver_info[kernel_append_params]\n3. [pxe]kernel_append_params (renamed from pxe_append_params).\n\nAlso lays the foundation for subsequent fixes in other drivers.\n\nChange-Id: I79bcf4d8ef1f0f55a82e0991dd5bb1685b3f7957\nStory: #2008902\nTask: #42469\n'}, {'number': 3, 'created': '2021-05-17 14:13:04.000000000', 'files': ['ironic/conf/pxe.py', 'ironic/drivers/utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'doc/source/install/include/kernel-boot-parameters.inc', 'ironic/drivers/modules/pxe_base.py', 'devstack/lib/ironic', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/drivers/modules/irmc/boot.py', 'releasenotes/notes/pxe-append-params-9cd5831959676371.yaml', 'ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py', 'ironic/tests/unit/drivers/test_generic.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a73f5a84e06b370d0b04997cc0787497e111642', 'message': 'Clean up kernel_append_params for PXE/iPXE\n\nCurrently handling of kernel_append_params is very inconsistent. This\nchange applies a straightforward process:\n1. instance_info[kernel_append_params]\n2. driver_info[kernel_append_params]\n3. [pxe]kernel_append_params (renamed from pxe_append_params).\n\nAlso adds a helper for subsequent fixes in other drivers.\n\nChange-Id: I79bcf4d8ef1f0f55a82e0991dd5bb1685b3f7957\nStory: #2008902\nTask: #42469\n'}]",0,791755,2a73f5a84e06b370d0b04997cc0787497e111642,17,3,3,10239,,,0,"Clean up kernel_append_params for PXE/iPXE

Currently handling of kernel_append_params is very inconsistent. This
change applies a straightforward process:
1. instance_info[kernel_append_params]
2. driver_info[kernel_append_params]
3. [pxe]kernel_append_params (renamed from pxe_append_params).

Also adds a helper for subsequent fixes in other drivers.

Change-Id: I79bcf4d8ef1f0f55a82e0991dd5bb1685b3f7957
Story: #2008902
Task: #42469
",git fetch https://review.opendev.org/openstack/ironic refs/changes/55/791755/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/pxe.py', 'doc/source/install/include/kernel-boot-parameters.inc', 'ironic/drivers/modules/pxe_base.py', 'ironic/drivers/utils.py', 'devstack/lib/ironic', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/drivers/modules/irmc/boot.py', 'releasenotes/notes/pxe-append-params-9cd5831959676371.yaml', 'ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py']",11,a31b020c4b840842a803cd57ea39f871d1557140,pxe-append-params," ramdisk_params=None, expected_pxe_params=None): self.config(kernel_append_params='test_param', group='pxe') if expected_pxe_params is None: expected_pxe_params = 'test_param' def test_build_pxe_config_options_kernel_params_from_driver_info(self): info = self.node.driver_info info['kernel_append_params'] = 'params2' self.node.driver_info = info self.node.save() self._test_build_pxe_config_options_pxe(whle_dsk_img=True, expected_pxe_params='params2') def test_build_pxe_config_options_kernel_params_from_instance_info(self): info = self.node.instance_info info['kernel_append_params'] = 'params2' self.node.instance_info = info self.node.save() self._test_build_pxe_config_options_pxe(whle_dsk_img=True, expected_pxe_params='params2') self.config(group='pxe', kernel_append_params=pxe_params) self.config(kernel_append_params='test_param', group='pxe')"," ramdisk_params=None): self.config(pxe_append_params='test_param', group='pxe') expected_pxe_params = 'test_param' self.config(group='pxe', pxe_append_params=pxe_params) self.config(pxe_append_params='test_param', group='pxe')",95,16
openstack%2Fironic~master~Ib83594743ae58ea26dbd9875c98ab169dd5ab009,openstack/ironic,master,Ib83594743ae58ea26dbd9875c98ab169dd5ab009,Clean up kernel_append_params for iRMC,MERGED,2021-05-12 17:51:17.000000000,2021-05-19 11:33:59.000000000,2021-05-19 11:33:59.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-12 17:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6acb90af398ca9e09fa9facc449a4020ee12bcdc', 'message': '[WIP] Consolidate kernel_append_params\n\nCurrently the kernel parameters handling is very inconsistent across\nboot interfaces:\n\n* PXE/iPXE only respect [pxe]pxe_append_params\n* Redfish respects [redfish]kernel_append_params and\n  claims to respect driver_info[kernel_append_params], but actually\n  respects instance_info[kernel_append_params].\n* iLO respects [ilo]kernel_append_params and\n  claims to respect driver_info[ilo_kernel_append_params], but there is\n  no support code for that (image_utils use instance_info as for Redfish).\n  Instead, it passes the whole driver_info as the kernel parameters.\n* iRMC respects [pxe]pxe_append_params for some reason\n\nOn top of that, the ramdisk deploy supports\ninstance_info[ramdisk_kernel_arguments] just to mess with u.\n\nChange-Id: Ib83594743ae58ea26dbd9875c98ab169dd5ab009\n'}, {'number': 2, 'created': '2021-05-12 18:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f788fff7a27b5b09959982d23d4bc139de16c162', 'message': '[WIP] Consolidate kernel_append_params\n\nCurrently the kernel parameters handling is very inconsistent across\nboot interfaces:\n\n* PXE/iPXE only respect [pxe]pxe_append_params\n* Redfish respects [redfish]kernel_append_params and\n  claims to respect driver_info[kernel_append_params], but actually\n  respects instance_info[kernel_append_params].\n* iLO respects [ilo]kernel_append_params and\n  claims to respect driver_info[ilo_kernel_append_params], but there is\n  no support code for that (image_utils use instance_info as for Redfish).\n  Instead, it passes the whole driver_info as the kernel parameters.\n* iRMC respects [pxe]pxe_append_params for some reason\n\nOn top of that, the ramdisk deploy supports\ninstance_info[ramdisk_kernel_arguments] just to mess with us.\n\nChange-Id: Ib83594743ae58ea26dbd9875c98ab169dd5ab009\n'}, {'number': 3, 'created': '2021-05-17 14:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/41cd3b9a2f01bf6c9d7860c5bf636955dd54563d', 'message': 'Clean up kernel_append_params for iRMC\n\nCurrently handling of kernel_append_params is very inconsistent. This\nchange applies a straightforward process:\n1. instance_info[kernel_append_params]\n2. driver_info[kernel_append_params]\n3. [$driver]kernel_append_params\n\nChange-Id: Ib83594743ae58ea26dbd9875c98ab169dd5ab009\n'}, {'number': 4, 'created': '2021-05-17 14:44:43.000000000', 'files': ['ironic/conf/irmc.py', 'releasenotes/notes/irmc-append-params-380a281db43e6013.yaml', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/drivers/modules/irmc/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/722326f6751d37302c4ece5849c827e7cc4dd14e', 'message': 'Clean up kernel_append_params for iRMC\n\nCurrently handling of kernel_append_params is very inconsistent. This\nchange applies a straightforward process:\n1. instance_info[kernel_append_params]\n2. driver_info[kernel_append_params]\n3. [$driver]kernel_append_params\n\nStory: #2008902\nTask: #42472\nChange-Id: Ib83594743ae58ea26dbd9875c98ab169dd5ab009\n'}]",0,791035,722326f6751d37302c4ece5849c827e7cc4dd14e,20,3,4,10239,,,0,"Clean up kernel_append_params for iRMC

Currently handling of kernel_append_params is very inconsistent. This
change applies a straightforward process:
1. instance_info[kernel_append_params]
2. driver_info[kernel_append_params]
3. [$driver]kernel_append_params

Story: #2008902
Task: #42472
Change-Id: Ib83594743ae58ea26dbd9875c98ab169dd5ab009
",git fetch https://review.opendev.org/openstack/ironic refs/changes/35/791035/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/pxe.py', 'doc/source/install/include/kernel-boot-parameters.inc', 'ironic/drivers/modules/pxe_base.py', 'devstack/lib/ironic', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/drivers/modules/irmc/boot.py', 'ironic/common/pxe_utils.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py', 'ironic/tests/unit/common/test_pxe_utils.py']",10,6acb90af398ca9e09fa9facc449a4020ee12bcdc,irmc-append-params," self.config(kernel_append_params='test_param', group='pxe') self.config(group='pxe', kernel_append_params=pxe_params) self.config(kernel_append_params='test_param', group='pxe')"," self.config(pxe_append_params='test_param', group='pxe') self.config(group='pxe', pxe_append_params=pxe_params) self.config(pxe_append_params='test_param', group='pxe')",119,40
openstack%2Fkolla-ansible~stable%2Fwallaby~Ifb3e51891de33e5d698571b898f7a471cfe89718,openstack/kolla-ansible,stable/wallaby,Ifb3e51891de33e5d698571b898f7a471cfe89718,CI: Fix nfv job with kolla dependency,MERGED,2021-05-19 09:16:12.000000000,2021-05-19 11:21:12.000000000,2021-05-19 11:18:23.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-19 09:16:12.000000000', 'files': ['tests/setup_gate.sh', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bf351eb97d29cd4da86b4bff050ec64b0c1166ce', 'message': 'CI: Fix nfv job with kolla dependency\n\nChange-Id: Ifb3e51891de33e5d698571b898f7a471cfe89718\n(cherry picked from commit ec36eb016c88761eb9d4465247a8f7375e1470c7)\n'}]",0,792107,bf351eb97d29cd4da86b4bff050ec64b0c1166ce,9,3,1,14826,,,0,"CI: Fix nfv job with kolla dependency

Change-Id: Ifb3e51891de33e5d698571b898f7a471cfe89718
(cherry picked from commit ec36eb016c88761eb9d4465247a8f7375e1470c7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/07/792107/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/setup_gate.sh', 'zuul.d/base.yaml']",2,bf351eb97d29cd4da86b4bff050ec64b0c1166ce,, - ^ansible/roles/(aodh|barbican|heat|mistral|redis|tacker)/, - ^ansible/roles/(barbican|heat|mistral|redis|tacker)/,2,2
openstack%2Fcinder~master~I839441a71238cdad540ba8d9d4d18b1f0fa3ee9d,openstack/cinder,master,I839441a71238cdad540ba8d9d4d18b1f0fa3ee9d,RBD: Change rbd_exclusive_cinder_pool's default,MERGED,2020-11-04 15:00:15.000000000,2021-05-19 11:09:40.000000000,2021-03-11 01:29:34.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 20813}, {'_account_id': 21570}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-11-04 15:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8adfafd5b8294d884a84c4f70cb3e5f3d4b1e581', 'message': ""RBD: Change rbd_exclusive_cinder_pool's default\n\nIn Cinder we always try to have sane defaults, but the current RBD\ndefault for rbd_exclusive_cinder_pools may lead to issues on deployments\nwith a large number of volumes:\n\n- Cinder taking a long time to start.\n- Cinder becoming non-responsive.\n- Cinder stats gathering taking longer than the gathering period.\n\nThis is cause by the driver making an independent request to get\ndetailed information on each image to accurately calculate the space\nused by the Cinder volumes.\n\nWith this patch we change the default to make sure that these issues\ndon't happen in the most common deployment case (the exclusive Cinder\npool).\n\nRelated-Bug: #1704106\nChange-Id: I839441a71238cdad540ba8d9d4d18b1f0fa3ee9d\n""}, {'number': 2, 'created': '2020-11-10 13:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5fd3286b0ccee1494f2952bbb08a168046a212e2', 'message': ""RBD: Change rbd_exclusive_cinder_pool's default\n\nIn Cinder we always try to have sane defaults, but the current RBD\ndefault for rbd_exclusive_cinder_pools may lead to issues on deployments\nwith a large number of volumes:\n\n- Cinder taking a long time to start.\n- Cinder becoming non-responsive.\n- Cinder stats gathering taking longer than the gathering period.\n\nThis is cause by the driver making an independent request to get\ndetailed information on each image to accurately calculate the space\nused by the Cinder volumes.\n\nWith this patch we change the default to make sure that these issues\ndon't happen in the most common deployment case (the exclusive Cinder\npool).\n\nRelated-Bug: #1704106\nChange-Id: I839441a71238cdad540ba8d9d4d18b1f0fa3ee9d\n""}, {'number': 3, 'created': '2020-12-11 16:09:25.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/change-default-rbd_exclusive_cinder_pool-e59c528c7f728780.yaml', 'doc/source/configuration/block-storage/drivers/ceph-rbd-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ba6664deefdec5379d31b987be322745eeb4e87', 'message': ""RBD: Change rbd_exclusive_cinder_pool's default\n\nIn Cinder we always try to have sane defaults, but the current RBD\ndefault for rbd_exclusive_cinder_pools may lead to issues on deployments\nwith a large number of volumes:\n\n- Cinder taking a long time to start.\n- Cinder becoming non-responsive.\n- Cinder stats gathering taking longer than the gathering period.\n\nThis is cause by the driver making an independent request to get\ndetailed information on each image to accurately calculate the space\nused by the Cinder volumes.\n\nWith this patch we change the default to make sure that these issues\ndon't happen in the most common deployment case (the exclusive Cinder\npool).\n\nRelated-Bug: #1704106\nChange-Id: I839441a71238cdad540ba8d9d4d18b1f0fa3ee9d\n""}]",2,761422,4ba6664deefdec5379d31b987be322745eeb4e87,84,28,3,9535,,,0,"RBD: Change rbd_exclusive_cinder_pool's default

In Cinder we always try to have sane defaults, but the current RBD
default for rbd_exclusive_cinder_pools may lead to issues on deployments
with a large number of volumes:

- Cinder taking a long time to start.
- Cinder becoming non-responsive.
- Cinder stats gathering taking longer than the gathering period.

This is cause by the driver making an independent request to get
detailed information on each image to accurately calculate the space
used by the Cinder volumes.

With this patch we change the default to make sure that these issues
don't happen in the most common deployment case (the exclusive Cinder
pool).

Related-Bug: #1704106
Change-Id: I839441a71238cdad540ba8d9d4d18b1f0fa3ee9d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/761422/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'releasenotes/notes/change-default-rbd_exclusive_cinder_pool-e59c528c7f728780.yaml', 'doc/source/configuration/block-storage/drivers/ceph-rbd-volume-driver.rst']",3,8adfafd5b8294d884a84c4f70cb3e5f3d4b1e581,rbd-enable-exclusive,"RBD pool ~~~~~~~~ We configure the RBD pool with option ``rbd_pool``, and by default the driver expects to be the only system using that pool, since that's how most deployments are configured. If we were to share the pool with other services, within OpenStack (Nova, Glance, another Cinder backend) or outside of OpenStack (oVirt), then the stats returned by the driver to the scheduler would not be entirely accurate. The inaccuracy would be that the actual size in use by the cinder volumes would be lower than the reported one, since it would be also including the used space by the other services. We can set the ``rbd_exclusive_cinder_pool`` configuration option to ``false`` to fix this inaccuracy. .. warning:: Setting ``rbd_exclusive_cinder_pool`` to ``false`` will increase the burden on the Cinder driver and the Ceph cluster, since a request will be made for each existing image, to retrieve its size, during the stats gathering process. For deployments with large amount of volumes it is recommended to leave the default value of ``true``, and accept the inaccuracy, as it should not be particularly problematic. ",,51,3
openstack%2Fovsdbapp~stable%2Ftrain~I99181078af46540e2e58feeea161509d62e22045,openstack/ovsdbapp,stable/train,I99181078af46540e2e58feeea161509d62e22045,Do not try to execute transaction if command list is empty,MERGED,2021-05-17 14:09:11.000000000,2021-05-19 10:40:52.000000000,2021-05-19 10:40:52.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 14:09:11.000000000', 'files': ['ovsdbapp/backend/ovs_idl/transaction.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/d472c8f5a79b254e700cb49c3118d1a5a5ad7448', 'message': 'Do not try to execute transaction if command list is empty\n\nIf command list is empty we can just early exit.\n\nChange-Id: I99181078af46540e2e58feeea161509d62e22045\n(cherry picked from commit 8275af1726cb2079afd8f5230377e064221ebcf3)\n'}]",0,791595,d472c8f5a79b254e700cb49c3118d1a5a5ad7448,22,4,1,11952,,,0,"Do not try to execute transaction if command list is empty

If command list is empty we can just early exit.

Change-Id: I99181078af46540e2e58feeea161509d62e22045
(cherry picked from commit 8275af1726cb2079afd8f5230377e064221ebcf3)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/95/791595/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/backend/ovs_idl/transaction.py'],1,d472c8f5a79b254e700cb49c3118d1a5a5ad7448,," if not self.commands: LOG.debug(""There are no commands to commit"") return []",,3,0
openstack%2Fironic~master~I29d97e5e734d38100f2d5a49b8dbad8af0f11b21,openstack/ironic,master,I29d97e5e734d38100f2d5a49b8dbad8af0f11b21,Trivial: fix unfinished message in iDRAC boot,ABANDONED,2021-05-18 16:14:37.000000000,2021-05-19 10:37:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-05-18 16:14:37.000000000', 'files': ['ironic/drivers/modules/drac/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cdadc5125465395dd7a8bd34928893ecfbfec6eb', 'message': 'Trivial: fix unfinished message in iDRAC boot\n\nChange-Id: I29d97e5e734d38100f2d5a49b8dbad8af0f11b21\n'}]",0,792007,cdadc5125465395dd7a8bd34928893ecfbfec6eb,8,2,1,10239,,,0,"Trivial: fix unfinished message in iDRAC boot

Change-Id: I29d97e5e734d38100f2d5a49b8dbad8af0f11b21
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/792007/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/drac/boot.py'],1,cdadc5125465395dd7a8bd34928893ecfbfec6eb,idrac-message, last_error = 'unknown' last_error = e 'managers%(no_manager)s.') % ' which could handle virtual media boot. ' 'Last error: %s' % last_error}), 'manager%(no_manager)s.') % ' which could'}),5,2
openstack%2Fopenstack-ansible-os_manila~master~I5234e70e508a1026acb5a402ae406e47e510c2e7,openstack/openstack-ansible-os_manila,master,I5234e70e508a1026acb5a402ae406e47e510c2e7,[reno] Stop publishing release notes,MERGED,2021-01-22 16:26:28.000000000,2021-05-19 10:08:34.000000000,2021-05-19 10:05:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/88369c196f171c0969735ff8a3cb17e4bb8ede6e', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I5234e70e508a1026acb5a402ae406e47e510c2e7'}, {'number': 2, 'created': '2021-04-22 12:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/5ae487ca2e0c3fbc681a97c1b6be90cb91773ef2', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I5234e70e508a1026acb5a402ae406e47e510c2e7'}, {'number': 3, 'created': '2021-05-18 16:34:04.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/9c3b6d6860ecddb7b81739ea5d627461610b1ebe', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I5234e70e508a1026acb5a402ae406e47e510c2e7'}]",0,772036,9c3b6d6860ecddb7b81739ea5d627461610b1ebe,13,3,3,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I5234e70e508a1026acb5a402ae406e47e510c2e7",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/36/772036/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,88369c196f171c0969735ff8a3cb17e4bb8ede6e,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Ftrove-dashboard~stable%2Fwallaby~Idb412781ca92182887d75d8c89cecbc400d02300,openstack/trove-dashboard,stable/wallaby,Idb412781ca92182887d75d8c89cecbc400d02300,Fix log actions,MERGED,2021-05-19 01:26:15.000000000,2021-05-19 10:05:29.000000000,2021-05-19 10:05:29.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 01:26:15.000000000', 'files': ['trove_dashboard/api/trove.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/5d40d075d53279f387301a6a56757ae8d497d8d3', 'message': 'Fix log actions\n\nStory: 2008906\nTask: 42485\nChange-Id: Idb412781ca92182887d75d8c89cecbc400d02300\n'}]",0,792055,5d40d075d53279f387301a6a56757ae8d497d8d3,6,2,1,6732,,,0,"Fix log actions

Story: 2008906
Task: 42485
Change-Id: Idb412781ca92182887d75d8c89cecbc400d02300
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/55/792055/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/api/trove.py'],1,5d40d075d53279f387301a6a56757ae8d497d8d3,w-fix-log-actions," return troveclient(request).instances.log_action(instance_id, log_name, enable=True) return troveclient(request).instances.log_action(instance_id, log_name, disable=True) return troveclient(request).instances.log_action(instance_id, log_name, publish=True) return troveclient(request).instances.log_action(instance_id, log_name, discard=True)"," return troveclient(request).instances.log_enable(instance_id, log_name) return troveclient(request).instances.log_disable(instance_id, log_name) return troveclient(request).instances.log_publish(instance_id, log_name) return troveclient(request).instances.log_discard(instance_id, log_name)",8,4
openstack%2Ftrove-dashboard~stable%2Fvictoria~Idb412781ca92182887d75d8c89cecbc400d02300,openstack/trove-dashboard,stable/victoria,Idb412781ca92182887d75d8c89cecbc400d02300,Fix log actions,MERGED,2021-05-19 01:27:48.000000000,2021-05-19 10:05:22.000000000,2021-05-19 10:05:22.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 01:27:48.000000000', 'files': ['trove_dashboard/api/trove.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/1e9ee5bc5e5a5a3da563b1b9bb73a374d40944a6', 'message': 'Fix log actions\n\nStory: 2008906\nTask: 42485\nChange-Id: Idb412781ca92182887d75d8c89cecbc400d02300\n'}]",0,792056,1e9ee5bc5e5a5a3da563b1b9bb73a374d40944a6,6,2,1,6732,,,0,"Fix log actions

Story: 2008906
Task: 42485
Change-Id: Idb412781ca92182887d75d8c89cecbc400d02300
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/56/792056/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/api/trove.py'],1,1e9ee5bc5e5a5a3da563b1b9bb73a374d40944a6,v-fix-log-actions," return troveclient(request).instances.log_action(instance_id, log_name, enable=True) return troveclient(request).instances.log_action(instance_id, log_name, disable=True) return troveclient(request).instances.log_action(instance_id, log_name, publish=True) return troveclient(request).instances.log_action(instance_id, log_name, discard=True)"," return troveclient(request).instances.log_enable(instance_id, log_name) return troveclient(request).instances.log_disable(instance_id, log_name) return troveclient(request).instances.log_publish(instance_id, log_name) return troveclient(request).instances.log_discard(instance_id, log_name)",8,4
openstack%2Frally~master~Ic404d0424978551a99df7e529840e6707ea2df59,openstack/rally,master,Ic404d0424978551a99df7e529840e6707ea2df59,Keep using bionic for tox jobs except with Python 3.8,MERGED,2021-05-19 06:28:33.000000000,2021-05-19 09:53:21.000000000,2021-05-19 09:53:21.000000000,"[{'_account_id': 1736}, {'_account_id': 4428}, {'_account_id': 5948}, {'_account_id': 6172}, {'_account_id': 6835}, {'_account_id': 7369}, {'_account_id': 7428}, {'_account_id': 9545}, {'_account_id': 10475}, {'_account_id': 11748}, {'_account_id': 12395}, {'_account_id': 19011}, {'_account_id': 20498}, {'_account_id': 21528}, {'_account_id': 22348}, {'_account_id': 22960}]","[{'number': 1, 'created': '2021-05-19 06:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a4beb19d4b8509f1c662e6649410087a2194053f', 'message': 'Keep using bionic for tox jobs, except with Python 3.8\n\nThe default nodeset was just changed to focal [1].\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: Ic404d0424978551a99df7e529840e6707ea2df59\n'}, {'number': 2, 'created': '2021-05-19 06:48:59.000000000', 'files': ['.zuul.d/python-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/8a1c326137e4a3cb47f84ce0255098cec31e4943', 'message': ""Keep using bionic for tox jobs except with Python 3.8\n\nThe default nodeset was just changed to focal [1], which doesn't provide\npython3.6 and python3.7 packages.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: Ic404d0424978551a99df7e529840e6707ea2df59\n""}]",0,792073,8a1c326137e4a3cb47f84ce0255098cec31e4943,8,16,2,15197,,,0,"Keep using bionic for tox jobs except with Python 3.8

The default nodeset was just changed to focal [1], which doesn't provide
python3.6 and python3.7 packages.

[1] https://review.opendev.org/c/opendev/base-jobs/+/789098

Change-Id: Ic404d0424978551a99df7e529840e6707ea2df59
",git fetch https://review.opendev.org/openstack/rally refs/changes/73/792073/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/python-jobs.yaml'],1,a4beb19d4b8509f1c662e6649410087a2194053f,, nodeset: ubuntu-bionic nodeset: ubuntu-focal,,2,0
openstack%2Fpython-troveclient~master~I97d3fcfa2935f76cb8753734fec6dab8669e732a,openstack/python-troveclient,master,I97d3fcfa2935f76cb8753734fec6dab8669e732a,Get backup list by instance ID or name,MERGED,2021-05-19 08:43:42.000000000,2021-05-19 09:52:00.000000000,2021-05-19 09:50:41.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 08:43:42.000000000', 'files': ['troveclient/tests/osc/v1/test_database_backups.py', 'troveclient/osc/v1/database_backups.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/cd689869484841a9be1a380b46a94c0084d84d0d', 'message': 'Get backup list by instance ID or name\n\nChange-Id: I97d3fcfa2935f76cb8753734fec6dab8669e732a\n'}]",0,792086,cd689869484841a9be1a380b46a94c0084d84d0d,7,2,1,6732,,,0,"Get backup list by instance ID or name

Change-Id: I97d3fcfa2935f76cb8753734fec6dab8669e732a
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/86/792086/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/tests/osc/v1/test_database_backups.py', 'troveclient/osc/v1/database_backups.py']",2,cd689869484841a9be1a380b46a94c0084d84d0d,backup-list-instance-idorname," help=_('Filter backups by database instance ID. Deprecated since ' 'Xena. Use -i/--instance instead.') ) parser.add_argument( '-i', '--instance', default=None, help=_('Filter backups by database instance(ID or name).') instance_id = parsed_args.instance or parsed_args.instance_id if instance_id: instance_mgr = self.app.client_manager.database.instances instance_id = trove_utils.get_resource_id(instance_mgr, instance_id) instance_id=instance_id,"," help=_('Filter backups by database instance ID.') instance_id=parsed_args.instance_id,",43,4
openstack%2Fnetworking-odl~master~I8b15a8cfa79a2d6847ec8419225445499dc31a3c,openstack/networking-odl,master,I8b15a8cfa79a2d6847ec8419225445499dc31a3c,use payloads for TRUNK and SUBPORTS callbacks,MERGED,2019-02-06 14:58:59.000000000,2021-05-19 09:33:08.000000000,2021-05-19 09:31:53.000000000,"[{'_account_id': 5367}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9361}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25550}]","[{'number': 1, 'created': '2019-02-06 14:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a855ecfd2bcb7118492c348079f59645096b97a9', 'message': 'use payloads for TRUNK AFTER_DELETE callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK AFTER_DELETES events.\n\nDepends-On: https://review.openstack.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8b15a8cfa79a2d6847ec8419225445499dc31a3c\n'}, {'number': 2, 'created': '2019-02-14 14:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/eeca2b4d35082633eaa0b822f7cb5a207ca9baa5', 'message': 'use payloads for TRUNK AFTER_DELETE callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK AFTER_DELETES events.\n\nDepends-On: https://review.openstack.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8b15a8cfa79a2d6847ec8419225445499dc31a3c\n'}, {'number': 3, 'created': '2019-02-21 14:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/eb3cc78039a3fd941fcb5768991f438c61891c59', 'message': 'use payloads for TRUNK AFTER_DELETE callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK AFTER_DELETES events.\n\nDepends-On: https://review.openstack.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8b15a8cfa79a2d6847ec8419225445499dc31a3c\n'}, {'number': 4, 'created': '2019-05-07 20:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9a43518234e94c9d5ade0b950ff47ec23646dc6e', 'message': 'use payloads for TRUNK AFTER_DELETE callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK AFTER_DELETES events.\n\nDepends-On: https://review.opendev.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8b15a8cfa79a2d6847ec8419225445499dc31a3c\n'}, {'number': 5, 'created': '2019-05-07 20:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f110c8768a4aca56ffdee5b5281b98350606a8fa', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events.\n\nDepends-On: https://review.opendev.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8b15a8cfa79a2d6847ec8419225445499dc31a3c\n'}, {'number': 6, 'created': '2019-05-10 13:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e758744505f98a4c1ef127897e8d48824ecc9adb', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events.\n\nDepends-On: https://review.opendev.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8b15a8cfa79a2d6847ec8419225445499dc31a3c\n'}, {'number': 7, 'created': '2019-06-14 16:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/917ba6ce8c519fc2715fd67eef4706434fbd31dc', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events.\n\nDepends-On: https://review.opendev.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8b15a8cfa79a2d6847ec8419225445499dc31a3c\n'}, {'number': 8, 'created': '2019-06-28 20:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a06e3df18e44d022b4c7ebae9098dddff06567a1', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events.\n\nDepends-On: https://review.opendev.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8b15a8cfa79a2d6847ec8419225445499dc31a3c\n'}, {'number': 9, 'created': '2019-07-01 10:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ee73a9c2527d2093a65b0101f71b1ebedd11ac13', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events.\n\nDepends-On: https://review.opendev.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8b15a8cfa79a2d6847ec8419225445499dc31a3c\n'}, {'number': 10, 'created': '2019-08-26 21:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/bc37d5e9ebb32736dfeca7573471a01a5c8c4297', 'message': 'use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORT events.\n\nDepends-On: https://review.opendev.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8b15a8cfa79a2d6847ec8419225445499dc31a3c\n'}, {'number': 11, 'created': '2021-04-26 14:12:01.000000000', 'files': ['networking_odl/tests/unit/trunk/test_trunk_driver_v2.py', 'networking_odl/trunk/trunk_driver_v2.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5ae7a90d42fb51a4e8e344b082fa5d3ab5aa3993', 'message': 'use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORT events.\n\nDepends-On: https://review.opendev.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I8b15a8cfa79a2d6847ec8419225445499dc31a3c\n'}]",0,635179,5ae7a90d42fb51a4e8e344b082fa5d3ab5aa3993,40,8,11,5367,,,0,"use payloads for TRUNK and SUBPORTS callbacks

This patch switches the code over to the payload style of callbacks [1]
for TRUNK and SUBPORT events.

Depends-On: https://review.opendev.org/#/c/635060/

[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html

Change-Id: I8b15a8cfa79a2d6847ec8419225445499dc31a3c
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/79/635179/10 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/trunk/trunk_driver_v2.py'],1,a855ecfd2bcb7118492c348079f59645096b97a9,trunk_callback," def trunk_delete_postcommit(self, resource, event, trunk_plugin, payload=None):"," def trunk_delete_postcommit(self, resource, event, trunk_plugin, payload):",2,1
openstack%2Fkolla-ansible~master~Ifb3e51891de33e5d698571b898f7a471cfe89718,openstack/kolla-ansible,master,Ifb3e51891de33e5d698571b898f7a471cfe89718,CI: Fix nfv job with kolla dependency,MERGED,2021-04-29 08:03:08.000000000,2021-05-19 09:02:02.000000000,2021-05-19 08:58:29.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-29 08:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77f67720cc10695942eeb2fcd40d24eb05cf8955', 'message': 'CI: Fix nfv job with kolla dependency\n\nChange-Id: Ifb3e51891de33e5d698571b898f7a471cfe89718\n'}, {'number': 2, 'created': '2021-05-05 14:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/27fa723d68af4e83c9b0d33c9ec3d35c999db564', 'message': 'CI: Fix nfv job with kolla dependency\n\nChange-Id: Ifb3e51891de33e5d698571b898f7a471cfe89718\n'}, {'number': 3, 'created': '2021-05-06 08:46:47.000000000', 'files': ['tests/setup_gate.sh', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ec36eb016c88761eb9d4465247a8f7375e1470c7', 'message': 'CI: Fix nfv job with kolla dependency\n\nChange-Id: Ifb3e51891de33e5d698571b898f7a471cfe89718\n'}]",0,788687,ec36eb016c88761eb9d4465247a8f7375e1470c7,16,3,3,14826,,,0,"CI: Fix nfv job with kolla dependency

Change-Id: Ifb3e51891de33e5d698571b898f7a471cfe89718
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/788687/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tests/setup_gate.sh', 'zuul.d/base.yaml', 'zuul.d/project.yaml']",4,77f67720cc10695942eeb2fcd40d24eb05cf8955,,, templates: - check-requirements - openstack-cover-jobs - openstack-python3-xena-jobs - ansible-role-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-centos8s-source - kolla-ansible-debian-source - kolla-ansible-ubuntu-source - kolla-ansible-centos8s-source-kvm - kolla-ansible-ubuntu-source-kvm - kolla-ansible-centos8s-source-multinode-ipv6 - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-centos8s-source-bifrost - kolla-ansible-centos8s-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos8s-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-centos8s-source-magnum - kolla-ansible-ubuntu-source-magnum - kolla-ansible-centos8s-source-octavia - kolla-ansible-ubuntu-source-octavia - kolla-ansible-centos8s-source-masakari - kolla-ansible-ubuntu-source-masakari - kolla-ansible-centos8s-source-ironic - kolla-ansible-centos8s-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos8s-source-upgrade - kolla-ansible-debian-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos8s-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos8s-source-cells - kolla-ansible-centos8s-source-mariadb - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-centos8s-source-linuxbridge - kolla-ansible-ubuntu-source-linuxbridge - kolla-ansible-centos8s-source-ovn - kolla-ansible-ubuntu-source-ovn - kolla-ansible-centos8s-source-prometheus-efk - kolla-ansible-ubuntu-source-prometheus-efk - kolla-ansible-centos8s-source-monasca - kolla-ansible-centos8s-source-cephadm - kolla-ansible-ubuntu-source-cephadm - kolla-ansible-centos8s-source-upgrade-cephadm - kolla-ansible-ubuntu-source-upgrade-cephadm check-arm64: jobs: - kolla-ansible-debian-source-aarch64 - kolla-ansible-debian-source-upgrade-aarch64,4,55
openstack%2Fcloudkitty~master~Id4ee3e6e2bd943e0c8f41f85a7efa7c9caab5828,openstack/cloudkitty,master,Id4ee3e6e2bd943e0c8f41f85a7efa7c9caab5828,Update .gitreview for stable/ussuri,ABANDONED,2021-05-19 08:50:03.000000000,2021-05-19 08:54:40.000000000,,"[{'_account_id': 15197}, {'_account_id': 22816}]","[{'number': 1, 'created': '2021-05-19 08:50:03.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/37ff3b7cdcb6f3e022e640f9ac238c2d96e12fe9', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: Id4ee3e6e2bd943e0c8f41f85a7efa7c9caab5828\n'}]",0,792089,37ff3b7cdcb6f3e022e640f9ac238c2d96e12fe9,3,2,1,32121,,,0,"Update .gitreview for stable/ussuri

Change-Id: Id4ee3e6e2bd943e0c8f41f85a7efa7c9caab5828
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/89/792089/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,37ff3b7cdcb6f3e022e640f9ac238c2d96e12fe9,,defaultbranch=stable/ussuri,,1,0
openstack%2Fcloudkitty~stable%2Fussuri~I00c985f0a20f3d38a40155a38ae832f38abf70aa,openstack/cloudkitty,stable/ussuri,I00c985f0a20f3d38a40155a38ae832f38abf70aa,Fixed PyScripts.start_script method to return the updated data object,ABANDONED,2020-12-10 10:56:10.000000000,2021-05-19 08:53:00.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-10 10:56:10.000000000', 'files': ['cloudkitty/rating/pyscripts/__init__.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/279aac5c7534013251db16a4285c60497b5fa390', 'message': 'Fixed PyScripts.start_script method to return the updated data object\n\nBug report: https://storyboard.openstack.org/#!/story/2008404\n\nChange-Id: I00c985f0a20f3d38a40155a38ae832f38abf70aa\n'}]",0,766446,279aac5c7534013251db16a4285c60497b5fa390,7,2,1,32121,,,0,"Fixed PyScripts.start_script method to return the updated data object

Bug report: https://storyboard.openstack.org/#!/story/2008404

Change-Id: I00c985f0a20f3d38a40155a38ae832f38abf70aa
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/46/766446/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/rating/pyscripts/__init__.py'],1,279aac5c7534013251db16a4285c60497b5fa390,, return context['data'], return data,1,1
openstack%2Fzaqar~stable%2Ftrain~I1c6c0cb37819f93aa6f2a46508519fb9470f80f6,openstack/zaqar,stable/train,I1c6c0cb37819f93aa6f2a46508519fb9470f80f6,Fix the incompatibility for python3,ABANDONED,2021-05-10 05:57:54.000000000,2021-05-19 08:30:37.000000000,,"[{'_account_id': 8846}, {'_account_id': 22348}, {'_account_id': 24849}]","[{'number': 1, 'created': '2021-05-10 05:57:54.000000000', 'files': ['zaqar/storage/redis/models.py', 'zaqar/storage/swift/claims.py', 'zaqar/storage/redis/subscriptions.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/da8050d8e1866d9645034ac39920cf9429f0bac2', 'message': 'Fix the incompatibility for python3\n\nChange-Id: I1c6c0cb37819f93aa6f2a46508519fb9470f80f6\n(cherry picked from commit 0c952ebe29bd2bd6f0cd6a479aa38efbd5590f7c)\n'}]",0,790269,da8050d8e1866d9645034ac39920cf9429f0bac2,10,3,1,28367,,,0,"Fix the incompatibility for python3

Change-Id: I1c6c0cb37819f93aa6f2a46508519fb9470f80f6
(cherry picked from commit 0c952ebe29bd2bd6f0cd6a479aa38efbd5590f7c)
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/69/790269/1 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar/storage/redis/models.py', 'zaqar/storage/swift/claims.py', 'zaqar/storage/redis/subscriptions.py']",3,da8050d8e1866d9645034ac39920cf9429f0bac2,fix-incompatibility-for-python3-stable/train," 'source': record[0].decode(), 'subscriber': record[1].decode(), 'confirmed': is_confirmed.decode(), if subscription[1].decode() == subscriber: if subscription[1].decode() == subscriber:"," 'source': record[0], 'subscriber': record[1], 'confirmed': is_confirmed, if subscription[1] == subscriber: if subscription[1] == subscriber:",8,8
openstack%2Fblazar-tempest-plugin~master~I19ad6237ca33b9144fb1303506d717620840baaf,openstack/blazar-tempest-plugin,master,I19ad6237ca33b9144fb1303506d717620840baaf,Use TOX_CONSTRAINTS_FILE,MERGED,2021-05-19 06:57:13.000000000,2021-05-19 08:29:43.000000000,2021-05-19 08:28:27.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 06:57:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/7c19d7528f68f44fc900f9d82dfd2acd7912f015', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I19ad6237ca33b9144fb1303506d717620840baaf\n'}]",0,792076,7c19d7528f68f44fc900f9d82dfd2acd7912f015,8,2,1,32238,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I19ad6237ca33b9144fb1303506d717620840baaf
",git fetch https://review.opendev.org/openstack/blazar-tempest-plugin refs/changes/76/792076/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7c19d7528f68f44fc900f9d82dfd2acd7912f015,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fopenstack-ansible-os_manila~master~I508c7aea34bb706b58fc69be8bfb6c06d50f2f40,openstack/openstack-ansible-os_manila,master,I508c7aea34bb706b58fc69be8bfb6c06d50f2f40,Remove references to unsupported operating systems,MERGED,2021-03-10 12:21:41.000000000,2021-05-19 08:27:38.000000000,2021-05-19 08:26:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-10 12:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/cd3b88158a63167196fc275a6edbf18466c95105', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: I508c7aea34bb706b58fc69be8bfb6c06d50f2f40\n'}, {'number': 2, 'created': '2021-05-18 16:32:05.000000000', 'files': ['tasks/manila_install.yml', 'vars/redhat.yml', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/e85642f80c5d8aceeaaac7d2b88b4789c6bfe89e', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: I508c7aea34bb706b58fc69be8bfb6c06d50f2f40\n'}]",0,779739,e85642f80c5d8aceeaaac7d2b88b4789c6bfe89e,13,3,2,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: I508c7aea34bb706b58fc69be8bfb6c06d50f2f40
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/39/779739/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/manila_install.yml', 'vars/redhat.yml', 'meta/main.yml', 'vars/suse.yml']",4,cd3b88158a63167196fc275a6edbf18466c95105,osa-cleanup,,"--- # Copyright 2019, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # Common rpm packages manila_distro_packages: - libffi-devel - libkmod-devel - libkmod2 - postgresql-devel - libxslt-devel - nfs-utils - rpcbind - rsync - zlib-devel manila_service_distro_packages: - openstack-manila - python-manilaclient - python-shade - python-systemd - uwsgi - uwsgi-python manila_devel_distro_packages: - git-core - systemd-devel manila_api_distro_packages: [] manila_scheduler_distro_packages: [] manila_share_distro_packages: [] manila_share_deps_distro_packages: - qemu-tools - sqlite3 manila_lvm_share_distro_packages: - device-mapper - lvm2 - parted manila_rbd_share_distro_packages: - ceph-fuse manila_oslomsg_amqp1_distro_packages: - cyrus-sasl - cyrus-sasl-plain - cyrus-sasl-digestmd5 manila_uwsgi_bin: '/usr/sbin' ",5,65
openstack%2Fvirtualbmc~master~I2781f250f8db9907987b75b0c66ad8bfb041ccee,openstack/virtualbmc,master,I2781f250f8db9907987b75b0c66ad8bfb041ccee,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 01:21:21.000000000,2021-05-19 08:14:48.000000000,2021-05-19 08:13:27.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-14 01:21:21.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/a8c3f2765236714c8cb0803158548b5ef4ea723f', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I2781f250f8db9907987b75b0c66ad8bfb041ccee\n""}]",0,791339,a8c3f2765236714c8cb0803158548b5ef4ea723f,8,3,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I2781f250f8db9907987b75b0c66ad8bfb041ccee
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/39/791339/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a8c3f2765236714c8cb0803158548b5ef4ea723f,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/virtualbmc/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/virtualbmc/latest/ python-requires = >=3.6,4,4
openstack%2Fvalidations-common~master~I3068e1328e8977aa90ada2c5869bd8cede230291,openstack/validations-common,master,I3068e1328e8977aa90ada2c5869bd8cede230291,Disables pdf doc building until we track down missing dependency,ABANDONED,2021-05-19 06:00:13.000000000,2021-05-19 07:25:53.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-19 06:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e22a36ce6a35c7eea6b3dda780710aa440f253f5', 'message': 'Disables pdf doc building until we track down missing dependency\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3068e1328e8977aa90ada2c5869bd8cede230291\n'}, {'number': 2, 'created': '2021-05-19 06:43:31.000000000', 'files': ['doc/source/conf.py', 'validations_common/tests/callback_plugins/test_validation_json.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/64adb429ea9e882a55744be74fa2aac3698cc919', 'message': 'Disables pdf doc building until we track down missing dependency\n\nAlso resolves docstring indentation issue.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3068e1328e8977aa90ada2c5869bd8cede230291\n'}]",2,792069,64adb429ea9e882a55744be74fa2aac3698cc919,5,6,2,32926,,,0,"Disables pdf doc building until we track down missing dependency

Also resolves docstring indentation issue.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I3068e1328e8977aa90ada2c5869bd8cede230291
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/69/792069/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'tox.ini']",2,e22a36ce6a35c7eea6b3dda780710aa440f253f5,pdfdocs/disable,#TODO(jpodivin) Disabled until we fix latex dependency issues ; [testenv:pdf-docs] ; whitelist_externals = make ; description = ; Build PDF documentation. ; envdir = {toxworkdir}/docs ; deps = {[testenv:docs]deps} ; commands = ; sphinx-build -b latex doc/source doc/build/pdf ; make -C doc/build/pdf,[testenv:pdf-docs] whitelist_externals = make description = Build PDF documentation. envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} commands = sphinx-build -b latex doc/source doc/build/pdf make -C doc/build/pdf,12,10
openstack%2Fpython-tripleoclient~master~I4d563de0ff6830726a5132b12d89379dd119e20f,openstack/python-tripleoclient,master,I4d563de0ff6830726a5132b12d89379dd119e20f,Add openstack-heat-monolith to UC extra pkgs,ABANDONED,2021-05-18 16:21:43.000000000,2021-05-19 07:11:09.000000000,,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 16:21:43.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dde3c844b457b0cc56e4551f1810baf5ccdab5e0', 'message': 'Add openstack-heat-monolith to UC extra pkgs\n\nAdd the opentack-heat-monolith package to the\nUNDERCLOUD_EXTRA_PACKAGES constant. This package\nmust be updated prior to trying to update to\nWallaby because Wallaby THT uses template version\nWallaby.\n\nCloses-Bug: #1928837\nChange-Id: I4d563de0ff6830726a5132b12d89379dd119e20f\n'}]",0,792008,dde3c844b457b0cc56e4551f1810baf5ccdab5e0,9,3,1,24245,,,0,"Add openstack-heat-monolith to UC extra pkgs

Add the opentack-heat-monolith package to the
UNDERCLOUD_EXTRA_PACKAGES constant. This package
must be updated prior to trying to update to
Wallaby because Wallaby THT uses template version
Wallaby.

Closes-Bug: #1928837
Change-Id: I4d563de0ff6830726a5132b12d89379dd119e20f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/08/792008/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",2,dde3c844b457b0cc56e4551f1810baf5ccdab5e0,bug/1928837," 'tripleo-ansible', 'openstack-heat-monolith'],"," 'tripleo-ansible'],",4,2
openstack%2Frally-openstack~master~I7f480ed1f8d37d89bed663182c85ebe00e67c8c3,openstack/rally-openstack,master,I7f480ed1f8d37d89bed663182c85ebe00e67c8c3,[DNM] Try to fix CI jobs,ABANDONED,2021-05-18 17:04:06.000000000,2021-05-19 07:10:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-18 17:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/5c6bcc5ba4cdc832bb1631518e25e3f36ca71a97', 'message': '[DNM] Try to fix CI jobs\n\nChange-Id: I7f480ed1f8d37d89bed663182c85ebe00e67c8c3\n'}, {'number': 2, 'created': '2021-05-18 17:04:55.000000000', 'files': ['.zuul.d/zuul.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/9330ac4117014dd8b7618a778d8c7d7188e21f09', 'message': '[DNM] Try to fix CI jobs\n\nChange-Id: I7f480ed1f8d37d89bed663182c85ebe00e67c8c3\n'}]",1,792017,9330ac4117014dd8b7618a778d8c7d7188e21f09,5,1,2,15197,,,0,"[DNM] Try to fix CI jobs

Change-Id: I7f480ed1f8d37d89bed663182c85ebe00e67c8c3
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/17/792017/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/zuul.yaml'],1,5c6bcc5ba4cdc832bb1631518e25e3f36ca71a97,, - rally-tox-py36: nodeset: ubuntu-bionic - rally-tox-py37: nodeset: ubuntu-bionic, - rally-tox-py36 - rally-tox-py37 - rally-dsvm-tox-functional - rally-openstack-docker-build - rally-task-basic-with-existing-users - rally-task-simple-job - rally-task-barbican: files: - .zuul.d/zuul.yaml - rally-jobs/barbican.yaml - rally_openstack/common/osclients.py - rally_openstack/common/services/key_manager - rally_openstack/task/cleanup/resources.py - rally_openstack/task/scenarios/barbican - tests/ci/playbooks - rally-task-cinder - rally-task-designate: files: - .zuul.d/zuul.yaml - rally-jobs/designate.yaml - rally_openstack/common/osclients.py - rally_openstack/task/cleanup/resources.py - rally_openstack/task/contexts/designate - rally_openstack/task/scenarios/designate - tests/ci/playbooks - rally-task-heat: voting: false - rally-task-ironic - rally-task-keystone-glance-swift - rally-task-magnum: voting: false files: - .zuul.d/zuul.yaml - rally-jobs/magnum.yaml - rally_openstack/common/osclients.py - rally_openstack/task/cleanup/resources.py - rally_openstack/task/contexts/magnum - rally_openstack/task/scenarios/magnum - tests/ci/playbooks - rally-task-manila-no-ss: voting: false - rally-task-manila-ss: voting: false - rally-task-mistral # it did not work for a long time. try to re-configure it #- rally-task-monasca - rally-task-murano: voting: false - rally-task-neutron - rally-task-neutron-trunk: files: - .zuul.d/zuul.yaml - rally-jobs/neutron-trunk.yaml - rally_openstack/common/osclients.py - rally_openstack/common/services/network - rally_openstack/task/cleanup/resources.py - rally_openstack/task/contexts/network - rally_openstack/task/scenarios/neutron/trunk.py - rally_openstack/task/scenarios/neutron/network.py - tests/ci/playbooks - rally-task-neutron-with-extensions: voting: false - rally-task-nova: voting: false # it did not work for a long time #- rally-task-senlin #- rally-task-octavia: # voting: false - rally-task-telemetry: voting: false - rally-task-watcher: # watcher-api did not start last time voting: false - rally-task-zaqar - rally-verify-tempest gate: jobs: - rally-tox-cover - rally-tox-pep8 - rally-tox-py36 - rally-tox-py37 - rally-tox-py38 - rally-dsvm-tox-functional - rally-openstack-docker-build - rally-task-basic-with-existing-users - rally-task-simple-job - rally-task-barbican: files: - .zuul.d/zuul.yaml - rally-jobs/barbican.yaml - rally_openstack/common/osclients.py - rally_openstack/common/services/key_manager - rally_openstack/task/cleanup/resources.py - rally_openstack/task/scenarios/barbican - tests/ci/playbooks - rally-task-cinder #- rally-task-heat - rally-task-ironic - rally-task-keystone-glance-swift - rally-task-mistral - rally-task-neutron - rally-task-neutron-trunk: files: - rally-jobs/neutron-trunk.yaml - rally_openstack/common/osclients.py - rally_openstack/common/services/network - rally_openstack/task/cleanup/resources.py - rally_openstack/task/contexts/network - rally_openstack/task/scenarios/neutron/trunk.py - rally_openstack/task/scenarios/neutron/network.py - tests/ci/playbooks - rally-task-zaqar - rally-verify-tempest post: jobs: - rally-openstack-docker-build-and-push: vars: docker_image_version: latest release: jobs: - rally-openstack-docker-build-and-push,4,121
openstack%2Ftripleo-upgrade~stable%2Ftrain~I858f587536b34ac405276cafc9b328598ba73fc9,openstack/tripleo-upgrade,stable/train,I858f587536b34ac405276cafc9b328598ba73fc9,Rename unpredictable name interfaces in FFU.,MERGED,2021-05-04 10:52:05.000000000,2021-05-19 06:23:07.000000000,2021-05-14 20:11:04.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-05-04 10:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/84318467277aecb70cdcc33cabca9e7ec8f036ef', 'message': ""WIP: Rename unpredictable name interfaces in FFU.\n\nLeapp does not work with unpredictable name interfaces (ethX naming).\nUp to now, this limitation was being handled via workarounds [0].\nHowever, it's time to apply the very same hack as it's being documented\nin the FFU guideline [1].\n\nThis patch creates a new playbook based on the documented hack [1] and\ninvokes it when the Undercloud and Overcloud nodes have any ethX\ninterface name. Once done, a restart is performed.\n\nAs a guard, a new boolean parameter: nic_rename is being added, as the\nexecution of the hack requires a restart of all the nodes, what will\nincrease the job execution time.\n\nChange-Id: I858f587536b34ac405276cafc9b328598ba73fc9\n""}, {'number': 2, 'created': '2021-05-05 15:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0697f1e064074e7e5854c740e90c44a020501328', 'message': ""WIP: Rename unpredictable name interfaces in FFU.\n\nLeapp does not work with unpredictable name interfaces (ethX naming).\nUp to now, this limitation was being handled via workarounds [0].\nHowever, it's time to apply the very same hack as it's being documented\nin the FFU guideline [1].\n\nThis patch creates a new playbook based on the documented hack [1] and\ninvokes it when the Undercloud and Overcloud nodes have any ethX\ninterface name. Once done, a restart is performed.\n\nAs a guard, a new boolean parameter: nic_rename is being added, as the\nexecution of the hack requires a restart of all the nodes, what will\nincrease the job execution time.\n\n[0] - https://gitlab.cee.redhat.com/rhos-upgrades/workarounds/-/blob/master/upgrade/13-16.1_upgrade_workarounds.yaml#L3-14\n[1] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#using-predictable-nic-names-preparing-undercloud\n\nChange-Id: I858f587536b34ac405276cafc9b328598ba73fc9\n""}, {'number': 3, 'created': '2021-05-07 14:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/94b6756f92c289f676b6e17a255862a0bbc042f2', 'message': ""Rename unpredictable name interfaces in FFU.\n\nLeapp does not work with unpredictable name interfaces (ethX naming).\nUp to now, this limitation was being handled via workarounds [0].\nHowever, it's time to apply the very same hack as it's being documented\nin the FFU guideline [1].\n\nThis patch creates a new playbook based on the documented hack [1] and\nexecutes it for the Undercloud and Overcloud nodes. In case any of the\nnodes have any ethX interface name, a udev rule will be created and the\ncorresponding networks-script replace to match the new interface name.\nA restar is required for the action to take place, but this will be\nhappening during the Leapp upgrade itself to avoid extra node restarts.\n\n[0] - https://gitlab.cee.redhat.com/rhos-upgrades/workarounds/-/blob/master/upgrade/13-16.1_upgrade_workarounds.yaml#L3-14\n[1] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#using-predictable-nic-names-preparing-undercloud\n\nChange-Id: I858f587536b34ac405276cafc9b328598ba73fc9\n""}, {'number': 4, 'created': '2021-05-10 07:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6875d966b0da5d6604bb65ad89dc0aca0a136fdc', 'message': ""Rename unpredictable name interfaces in FFU.\n\nLeapp does not work with unpredictable name interfaces (ethX naming).\nUp to now, this limitation was being handled via workarounds [0].\nHowever, it's time to apply the very same hack as it's being documented\nin the FFU guideline [1].\n\nThis patch creates a new playbook based on the documented hack [1] and\nexecutes it for the Undercloud and Overcloud nodes. In case any of the\nnodes have any ethX interface name, a udev rule will be created and the\ncorresponding networks-script replace to match the new interface name.\nA restar is required for the action to take place, but this will be\nhappening during the Leapp upgrade itself to avoid extra node restarts.\n\n[0] - https://gitlab.cee.redhat.com/rhos-upgrades/workarounds/-/blob/master/upgrade/13-16.1_upgrade_workarounds.yaml#L3-14\n[1] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#using-predictable-nic-names-preparing-undercloud\n\nChange-Id: I858f587536b34ac405276cafc9b328598ba73fc9\n""}, {'number': 5, 'created': '2021-05-10 10:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/05a1f405ef6fc7c9dba1951a9f28119065913b94', 'message': ""Rename unpredictable name interfaces in FFU.\n\nLeapp does not work with unpredictable name interfaces (ethX naming).\nUp to now, this limitation was being handled via workarounds [0].\nHowever, it's time to apply the very same hack as it's being documented\nin the FFU guideline [1].\n\nThis patch creates a new playbook based on the documented hack [1] and\nexecutes it for the Undercloud and Overcloud nodes. In case any of the\nnodes have any ethX interface name, a udev rule will be created and the\ncorresponding networks-script replace to match the new interface name.\nA restar is required for the action to take place, but this will be\nhappening during the Leapp upgrade itself to avoid extra node restarts.\n\n[0] - https://gitlab.cee.redhat.com/rhos-upgrades/workarounds/-/blob/master/upgrade/13-16.1_upgrade_workarounds.yaml#L3-14\n[1] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#using-predictable-nic-names-preparing-undercloud\n\nChange-Id: I858f587536b34ac405276cafc9b328598ba73fc9\n""}, {'number': 6, 'created': '2021-05-11 12:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0bb062c105d2a70fabebac9bcf89fb20d4285972', 'message': ""Rename unpredictable name interfaces in FFU.\n\nLeapp does not work with unpredictable name interfaces (ethX naming).\nUp to now, this limitation was being handled via workarounds [0].\nHowever, it's time to apply the very same hack as it's being documented\nin the FFU guideline [1].\n\nThis patch creates a new playbook based on the documented hack [1] and\nexecutes it for the Undercloud and Overcloud nodes. In case any of the\nnodes have any ethX interface name, a udev rule will be created and the\ncorresponding networks-script replace to match the new interface name.\nA restar is required for the action to take place, but this will be\nhappening during the Leapp upgrade itself to avoid extra node restarts.\n\n[0] - https://gitlab.cee.redhat.com/rhos-upgrades/workarounds/-/blob/master/upgrade/13-16.1_upgrade_workarounds.yaml#L3-14\n[1] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#using-predictable-nic-names-preparing-undercloud\n\nChange-Id: I858f587536b34ac405276cafc9b328598ba73fc9\n""}, {'number': 7, 'created': '2021-05-12 08:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/97e799cf8ce99755363e8391c4b41770a7cb50a0', 'message': ""Rename unpredictable name interfaces in FFU.\n\nLeapp does not work with unpredictable name interfaces (ethX naming).\nUp to now, this limitation was being handled via workarounds [0].\nHowever, it's time to apply the very same hack as it's being documented\nin the FFU guideline [1].\n\nThis patch creates a new playbook based on the documented hack [1] and\nexecutes it for the Undercloud and Overcloud nodes. In case any of the\nnodes have any ethX interface name, a udev rule will be created and the\ncorresponding networks-script replace to match the new interface name.\nA restar is required for the action to take place, but this will be\nhappening during the Leapp upgrade itself to avoid extra node restarts.\n\n[0] - https://gitlab.cee.redhat.com/rhos-upgrades/workarounds/-/blob/master/upgrade/13-16.1_upgrade_workarounds.yaml#L3-14\n[1] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#using-predictable-nic-names-preparing-undercloud\n\nChange-Id: I858f587536b34ac405276cafc9b328598ba73fc9\n""}, {'number': 8, 'created': '2021-05-12 15:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ee9c3dccfd844497970b13e934a29dfc9bede94f', 'message': ""Rename unpredictable name interfaces in FFU.\n\nLeapp does not work with unpredictable name interfaces (ethX naming).\nUp to now, this limitation was being handled via workarounds [0].\nHowever, it's time to apply the very same hack as it's being documented\nin the FFU guideline [1].\n\nThis patch creates a new playbook based on the documented hack [1] and\nexecutes it for the Undercloud and Overcloud nodes. In case any of the\nnodes have any ethX interface name, a udev rule will be created and the\ncorresponding networks-script replace to match the new interface name.\nA restar is required for the action to take place, but this will be\nhappening during the Leapp upgrade itself to avoid extra node restarts.\n\n[0] - https://gitlab.cee.redhat.com/rhos-upgrades/workarounds/-/blob/master/upgrade/13-16.1_upgrade_workarounds.yaml#L3-14\n[1] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#using-predictable-nic-names-preparing-undercloud\n\nChange-Id: I858f587536b34ac405276cafc9b328598ba73fc9\n""}, {'number': 9, 'created': '2021-05-12 16:00:44.000000000', 'files': ['files/rename-nics.yaml', 'tasks/common/undercloud_os_upgrade.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/create-undercloud-ffu-scripts.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/373b6c921969588bf2b8814c60c36cba5f48867d', 'message': ""Rename unpredictable name interfaces in FFU.\n\nLeapp does not work with unpredictable name interfaces (ethX naming).\nUp to now, this limitation was being handled via workarounds [0].\nHowever, it's time to apply the very same hack as it's being documented\nin the FFU guideline [1].\n\nThis patch creates a new playbook based on the documented hack [1] and\nexecutes it for the Undercloud and Overcloud nodes. In case any of the\nnodes have any ethX interface name, a udev rule will be created and the\ncorresponding networks-script replace to match the new interface name.\nA restar is required for the action to take place, but this will be\nhappening during the Leapp upgrade itself to avoid extra node restarts.\n\n[0] - https://gitlab.cee.redhat.com/rhos-upgrades/workarounds/-/blob/master/upgrade/13-16.1_upgrade_workarounds.yaml#L3-14\n[1] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#using-predictable-nic-names-preparing-undercloud\n\nChange-Id: I858f587536b34ac405276cafc9b328598ba73fc9\n""}]",32,789549,373b6c921969588bf2b8814c60c36cba5f48867d,34,5,9,26343,,,0,"Rename unpredictable name interfaces in FFU.

Leapp does not work with unpredictable name interfaces (ethX naming).
Up to now, this limitation was being handled via workarounds [0].
However, it's time to apply the very same hack as it's being documented
in the FFU guideline [1].

This patch creates a new playbook based on the documented hack [1] and
executes it for the Undercloud and Overcloud nodes. In case any of the
nodes have any ethX interface name, a udev rule will be created and the
corresponding networks-script replace to match the new interface name.
A restar is required for the action to take place, but this will be
happening during the Leapp upgrade itself to avoid extra node restarts.

[0] - https://gitlab.cee.redhat.com/rhos-upgrades/workarounds/-/blob/master/upgrade/13-16.1_upgrade_workarounds.yaml#L3-14
[1] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#using-predictable-nic-names-preparing-undercloud

Change-Id: I858f587536b34ac405276cafc9b328598ba73fc9
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/49/789549/8 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/rename-nics.yaml', 'tasks/common/undercloud_os_upgrade.yaml', 'defaults/main.yml']",3,84318467277aecb70cdcc33cabca9e7ec8f036ef,," # nic prefix used when renaming network interfaces # if the environment uses unpredictable interfaces name. nic_prefix: ""em""",,111,0
openstack%2Fos-ken~master~I6533cd0e665c8d598cf19204c06db2670e00d569,openstack/os-ken,master,I6533cd0e665c8d598cf19204c06db2670e00d569,Update version constraints for the docs job,ABANDONED,2020-11-25 08:28:32.000000000,2021-05-19 01:51:57.000000000,,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-25 08:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/5dd2142d2b0f733ba6cd50a5dcba06091d5f0487', 'message': ""Reuse the docs deps to benefit from constraints\n\nTox trying to install latest versions for building releasenotes,\ndoc which may not be supported by stable and lower branches,\nso should be restricted by respective version's upper-constraints.txt\n\nChange-Id: I6533cd0e665c8d598cf19204c06db2670e00d569\n""}, {'number': 2, 'created': '2021-01-30 13:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/71faaa55949fefa110119dfc39632c8f1ec82503', 'message': ""Update version constraints for the docs job\n\nTox trying to install latest versions for building\ndoc which may not be supported by stable and lower branches,\nso should be restricted by respective version's upper-constraints.txt\n\nChange-Id: I6533cd0e665c8d598cf19204c06db2670e00d569\n""}, {'number': 3, 'created': '2021-03-09 03:44:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/bf59f926fb7947b3269f7331b3d3bde3951b1dca', 'message': ""Update version constraints for the docs job\n\nTox trying to install latest versions for building\ndoc which may not be supported by stable and lower branches,\nso should be restricted by respective version's upper-constraints.txt\n\nChange-Id: I6533cd0e665c8d598cf19204c06db2670e00d569\n""}]",2,764133,bf59f926fb7947b3269f7331b3d3bde3951b1dca,10,3,3,32029,,,0,"Update version constraints for the docs job

Tox trying to install latest versions for building
doc which may not be supported by stable and lower branches,
so should be restricted by respective version's upper-constraints.txt

Change-Id: I6533cd0e665c8d598cf19204c06db2670e00d569
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/33/764133/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5dd2142d2b0f733ba6cd50a5dcba06091d5f0487,tox,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,1
openstack%2Fhorizon~stable%2Fstein~I5c58383dec5227d0be99844e4123167a1f8c380e,openstack/horizon,stable/stein,I5c58383dec5227d0be99844e4123167a1f8c380e,Correct confusing wording in a release note,MERGED,2021-04-01 03:07:49.000000000,2021-05-19 00:48:02.000000000,2021-05-19 00:46:29.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-01 03:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/23e20cdd226b6ce0878dfac39ee7dc310e81a5e0', 'message': 'Correct confusing wording in a release note\n\nA release note in stein has a confusig wording and I believe\nit is worth fixing though it is from some old release.\nThe contents of the rendered release notes is picked up from stable\nbranches, so this commit is directly proposed to stable/stein.\n\nChange-Id: I5c58383dec5227d0be99844e4123167a1f8c380e\nCloses-Bug: #1921448\n'}, {'number': 2, 'created': '2021-04-13 04:56:50.000000000', 'files': ['releasenotes/notes/bug-1792524-7497aabcf6bc1e81.yaml', 'releasenotes/notes/bug-1785263-46edf7313d833b4c.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1c67144d19566c7144560285b4bd7d3f18c150df', 'message': 'Correct confusing wording in a release note\n\nA release note in stein has a confusig wording and I believe\nit is worth fixing though it is from some old release.\nThe contents of the rendered release notes is picked up from stable\nbranches, so this commit is directly proposed to stable/stein.\n\nChange-Id: I5c58383dec5227d0be99844e4123167a1f8c380e\nCloses-Bug: #1921448\n'}]",0,784190,1c67144d19566c7144560285b4bd7d3f18c150df,15,6,2,841,,,0,"Correct confusing wording in a release note

A release note in stein has a confusig wording and I believe
it is worth fixing though it is from some old release.
The contents of the rendered release notes is picked up from stable
branches, so this commit is directly proposed to stable/stein.

Change-Id: I5c58383dec5227d0be99844e4123167a1f8c380e
Closes-Bug: #1921448
",git fetch https://review.opendev.org/openstack/horizon refs/changes/90/784190/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1785263-46edf7313d833b4c.yaml'],1,23e20cdd226b6ce0878dfac39ee7dc310e81a5e0,bug/1921448," their roles on it), including users which have roles on the project through their membership to a group."," their roles on it), including users which have roles on the project throw their membership to a group.",2,2
openstack%2Fhorizon~stable%2Fussuri~I4ac734e0fb4ac3151ff56fa2c53d3071cdb9131d,openstack/horizon,stable/ussuri,I4ac734e0fb4ac3151ff56fa2c53d3071cdb9131d,"On the create instance from, when the image name is empty, show id",MERGED,2021-04-07 06:52:02.000000000,2021-05-19 00:47:45.000000000,2021-05-19 00:46:25.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2021-04-07 06:52:02.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/96f403311891e35c62c83b85fb394af97c25f102', 'message': 'On the create instance from, when the image name is empty, show id\n\nChange-Id: I4ac734e0fb4ac3151ff56fa2c53d3071cdb9131d\nCloses-Bug: #1853551\n(cherry picked from commit a8158f6c31675297c3d35ecfee2ef0e22243e529)\n'}]",0,784992,96f403311891e35c62c83b85fb394af97c25f102,10,6,1,29313,,,0,"On the create instance from, when the image name is empty, show id

Change-Id: I4ac734e0fb4ac3151ff56fa2c53d3071cdb9131d
Closes-Bug: #1853551
(cherry picked from commit a8158f6c31675297c3d35ecfee2ef0e22243e529)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/92/784992/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js']",3,96f403311891e35c62c83b85fb394af97c25f102,bug/1853551-stable/ussuri," {container_format: 'ami', properties: {}, name: 'ami_image'}, {container_format: 'raw', properties: {}, name: 'raw_image'}, {container_format: 'ami', properties: {image_type: 'image'}, id: '1'}, {container_format: 'raw', properties: {image_type: 'image'}, id: '2'}, {container_format: 'ami', properties: {}, name: 'ami_image', name_or_id: 'ami_image'}, {container_format: 'raw', properties: {}, name: 'raw_image', name_or_id: 'raw_image'}, {container_format: 'ami', properties: {image_type: 'image'}, id: '1', name_or_id: '1'}, {container_format: 'raw', properties: {image_type: 'image'}, id: '2', name_or_id: '2'}"," {container_format: 'ami', properties: {}}, {container_format: 'raw', properties: {}}, {container_format: 'ami', properties: {image_type: 'image'}}, {container_format: 'raw', properties: {image_type: 'image'}}, {container_format: 'ami', properties: {}}, {container_format: 'raw', properties: {}}, {container_format: 'ami', properties: {image_type: 'image'}}, {container_format: 'raw', properties: {image_type: 'image'}}",10,9
openstack%2Ftrove-dashboard~master~Idb412781ca92182887d75d8c89cecbc400d02300,openstack/trove-dashboard,master,Idb412781ca92182887d75d8c89cecbc400d02300,Fix log actions,MERGED,2021-05-18 23:34:29.000000000,2021-05-19 00:36:33.000000000,2021-05-19 00:36:33.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 23:34:29.000000000', 'files': ['trove_dashboard/api/trove.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/05d15b33cbc062d0d2013ae347a07c87f53af6e0', 'message': 'Fix log actions\n\nStory: 2008906\nTask: 42485\nChange-Id: Idb412781ca92182887d75d8c89cecbc400d02300\n'}]",0,792051,05d15b33cbc062d0d2013ae347a07c87f53af6e0,6,2,1,6732,,,0,"Fix log actions

Story: 2008906
Task: 42485
Change-Id: Idb412781ca92182887d75d8c89cecbc400d02300
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/51/792051/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/api/trove.py'],1,05d15b33cbc062d0d2013ae347a07c87f53af6e0,fix-log-actions," return troveclient(request).instances.log_action(instance_id, log_name, enable=True) return troveclient(request).instances.log_action(instance_id, log_name, disable=True) return troveclient(request).instances.log_action(instance_id, log_name, publish=True) return troveclient(request).instances.log_action(instance_id, log_name, discard=True)"," return troveclient(request).instances.log_enable(instance_id, log_name) return troveclient(request).instances.log_disable(instance_id, log_name) return troveclient(request).instances.log_publish(instance_id, log_name) return troveclient(request).instances.log_discard(instance_id, log_name)",8,4
openstack%2Fpython-tripleoclient~master~I3f3865cc0f07b3b32e96a42a27a7b03386a1530b,openstack/python-tripleoclient,master,I3f3865cc0f07b3b32e96a42a27a7b03386a1530b,Fix undercloud validate password file,MERGED,2021-05-14 20:00:05.000000000,2021-05-19 00:00:18.000000000,2021-05-18 23:59:09.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 20:00:05.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7058c3ee404c9ebfdd6cd0f9ad1b55d0c7a8a44c', 'message': 'Fix undercloud validate password file\n\nIn change: Idded7faba1ff6c811b94503c559029aeeaca6a06 the\ndefault directory where undercloud generated artifacts\nare stored was changed.\n\nThe undercloud pre-flight check for the password file\nwas not updated, cause undercloud install re-run to fail.\n\nChange-Id: I3f3865cc0f07b3b32e96a42a27a7b03386a1530b\nCloses-Bug: #1928501\n'}]",3,791542,7058c3ee404c9ebfdd6cd0f9ad1b55d0c7a8a44c,10,4,1,24245,,,0,"Fix undercloud validate password file

In change: Idded7faba1ff6c811b94503c559029aeeaca6a06 the
default directory where undercloud generated artifacts
are stored was changed.

The undercloud pre-flight check for the password file
was not updated, cause undercloud install re-run to fail.

Change-Id: I3f3865cc0f07b3b32e96a42a27a7b03386a1530b
Closes-Bug: #1928501
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/42/791542/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,7058c3ee404c9ebfdd6cd0f9ad1b55d0c7a8a44c,bug/1928501," if not CONF.get('output_dir'): output_dir = os.path.join(constants.UNDERCLOUD_OUTPUT_DIR, 'tripleo-deploy', 'undercloud') else: output_dir = CONF['output_dir'] passwd_path = os.path.join(output_dir, 'undercloud-passwords.conf') not os.path.isfile(passwd_path)): 'undercloud. ') % passwd_path)","PASSWORD_PATH = os.path.join( constants.UNDERCLOUD_OUTPUT_DIR, 'undercloud-passwords.conf' ) not os.path.isfile(PASSWORD_PATH)): 'undercloud. ') % PASSWORD_PATH)",9,6
openstack%2Fdesignate-tempest-plugin~master~Id3bf2bee405006170ff69ff4af6b6379ab48736a,openstack/designate-tempest-plugin,master,Id3bf2bee405006170ff69ff4af6b6379ab48736a,"New negative test cases for ""pool"" test suite",MERGED,2021-05-03 12:17:33.000000000,2021-05-18 23:16:28.000000000,2021-05-18 23:15:23.000000000,"[{'_account_id': 6994}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29681}]","[{'number': 1, 'created': '2021-05-03 12:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/f136fa5a05741e7eafd72a6230912a74643d30f6', 'message': 'New negative test cases for ""pool"" test suite\n\n1) ""test_create_pool_invalid_name""\n   Huge size name for pool creation. Expected: 400 BadRequest\n\n2) ""test_create_pool_invalid_hostname_in_ns_records""\n   Provided hostname is invalid. Expected: 400 BadRequest\n\n3) ""test_create_pool_invalid_priority_in_ns_records""\n   Provided priority is invalid. Expected: 400 BadRequest\n\n4) ""test_update_pool_with_invalid_name""\n   Huge size name for pool update. Expected: 400 BadRequest\n\n5) ""test_update_pool_with_invalid_hostname_in_ns_records""\n   Provided hostname is invalid. Expected: 400 BadRequest\n\n6) ""test_update_pool_with_invalid_priority_in_ns_records""\n   Provided priority is invalid. Expected: 400 BadRequest\n\nChange-Id: Id3bf2bee405006170ff69ff4af6b6379ab48736a\n'}, {'number': 2, 'created': '2021-05-17 06:50:41.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_pool.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/bd1d7251751c90cd1ac8709af59c3618ffe8a2d7', 'message': 'New negative test cases for ""pool"" test suite\n\n1) ""test_create_pool_invalid_name""\n   Huge size name for pool creation. Expected: 400 BadRequest\n\n2) ""test_create_pool_invalid_hostname_in_ns_records""\n   Provided hostname is invalid. Expected: 400 BadRequest\n\n3) ""test_create_pool_invalid_priority_in_ns_records""\n   Provided priority is invalid. Expected: 400 BadRequest\n\n4) ""test_update_pool_with_invalid_name""\n   Huge size name for pool update. Expected: 400 BadRequest\n\n5) ""test_update_pool_with_invalid_hostname_in_ns_records""\n   Provided hostname is invalid. Expected: 400 BadRequest\n\n6) ""test_update_pool_with_invalid_priority_in_ns_records""\n   Provided priority is invalid. Expected: 400 BadRequest\n\nChange-Id: Id3bf2bee405006170ff69ff4af6b6379ab48736a\n'}]",1,789251,bd1d7251751c90cd1ac8709af59c3618ffe8a2d7,15,8,2,28609,,,0,"New negative test cases for ""pool"" test suite

1) ""test_create_pool_invalid_name""
   Huge size name for pool creation. Expected: 400 BadRequest

2) ""test_create_pool_invalid_hostname_in_ns_records""
   Provided hostname is invalid. Expected: 400 BadRequest

3) ""test_create_pool_invalid_priority_in_ns_records""
   Provided priority is invalid. Expected: 400 BadRequest

4) ""test_update_pool_with_invalid_name""
   Huge size name for pool update. Expected: 400 BadRequest

5) ""test_update_pool_with_invalid_hostname_in_ns_records""
   Provided hostname is invalid. Expected: 400 BadRequest

6) ""test_update_pool_with_invalid_priority_in_ns_records""
   Provided priority is invalid. Expected: 400 BadRequest

Change-Id: Id3bf2bee405006170ff69ff4af6b6379ab48736a
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/51/789251/2 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_pool.py'],1,f136fa5a05741e7eafd72a6230912a74643d30f6,new_test_for_pool_suite," class TestPoolIdAdminNegative(BasePoolTest): credentials = [""admin""] @classmethod def setup_credentials(cls): # Do not create network resources for these test. cls.set_network_resources() super(TestPoolIdAdminNegative, cls).setup_credentials() @classmethod def setup_clients(cls): super(TestPoolIdAdminNegative, cls).setup_clients() cls.admin_client = cls.os_admin.pool_client @decorators.idempotent_id('0a8cdc1e-ac02-11eb-ae06-74e5f9e2a801') def test_create_pool_invalid_name(self): LOG.info('Create a pool using a huge size string for name)') with self.assertRaisesDns(lib_exc.BadRequest, 'invalid_object', 400): self.admin_client.create_pool( pool_name=data_utils.rand_name(name=""Huge_size_name"") * 10000) @decorators.idempotent_id('9a787d0e-ac04-11eb-ae06-74e5f9e2a801') def test_create_pool_invalid_hostname_in_ns_records(self): LOG.info('Create a pool using invalid hostname in ns_records') with self.assertRaisesDns(lib_exc.BadRequest, 'invalid_object', 400): self.admin_client.create_pool( ns_records=[{""hostname"": ""ns1_example_org_"", ""priority"": 1}]) @decorators.idempotent_id('9a787d0e-ac04-11eb-ae06-74e5f9e2a801') def test_create_pool_invalid_priority_in_ns_records(self): LOG.info('Create a pool using invalid priority in ns_records') with self.assertRaisesDns(lib_exc.BadRequest, 'invalid_object', 400): self.admin_client.create_pool( ns_records=[{""hostname"": ""ns1.example.org."", ""priority"": -1}]) @decorators.idempotent_id('cc378e4c-ac05-11eb-ae06-74e5f9e2a801') def test_update_pool_with_invalid_name(self): LOG.info('Create a pool') pool = self.admin_client.create_pool()[1] self.addCleanup(self.admin_client.delete_pool, pool['id']) LOG.info('Update the pool using a name that is too long') with self.assertRaisesDns(lib_exc.BadRequest, 'invalid_object', 400): self.admin_client.update_pool( pool['id'], pool_name=data_utils.rand_name(name=""Huge_size_name"") * 10000) @decorators.idempotent_id('2e496596-ac07-11eb-ae06-74e5f9e2a801') def test_update_pool_with_invalid_hostname_in_ns_records(self): LOG.info('Create a pool') pool = self.admin_client.create_pool()[1] self.addCleanup(self.admin_client.delete_pool, pool['id']) LOG.info('Update the pool using invalid hostname in ns_records') with self.assertRaisesDns(lib_exc.BadRequest, 'invalid_object', 400): self.admin_client.update_pool( pool['id'], ns_records=[{""hostname"": ""ns1_example_org_"", ""priority"": 1}]) @decorators.idempotent_id('3e934624-ac07-11eb-ae06-74e5f9e2a801') def test_update_pool_with_invalid_priority_in_ns_records(self): LOG.info('Create a pool') pool = self.admin_client.create_pool()[1] self.addCleanup(self.admin_client.delete_pool, pool['id']) LOG.info('Update the pool using invalid priority in ns_records') with self.assertRaisesDns(lib_exc.BadRequest, 'invalid_object', 400): self.admin_client.update_pool( pool['id'], ns_records=[{""hostname"": ""ns1.example.org."", ""priority"": -1}])",,73,0
openstack%2Fhorizon~stable%2Ftrain~I3ab26c19dc9ea1ed23fcff790d0db919039099eb,openstack/horizon,stable/train,I3ab26c19dc9ea1ed23fcff790d0db919039099eb,Save instace_id inside Associate Floating IP workflow,MERGED,2021-03-23 14:06:30.000000000,2021-05-18 22:44:35.000000000,2021-05-18 22:43:21.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-23 14:06:30.000000000', 'files': ['openstack_dashboard/test/integration_tests/pages/project/network/floatingipspage.py', 'openstack_dashboard/dashboards/project/floating_ips/tests.py', 'openstack_dashboard/dashboards/project/floating_ips/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2d2f944e2fe127433f2973ef77ba86ec997cf434', 'message': ""Save instace_id inside Associate Floating IP workflow\n\nAlso, rename instance_id field to proper port_id.\n\nBefore this change, when instance_id was passed from the Instances\npage in the URL, the information would be lost on form submission,\nand if the form contained an error, the it would be redisplayed with\nthe port drop-down containing all ports from all instances. This also\nmade submitting this form slow, as the drop-down would be populated\nwith all ports on form validation.\n\nIt also creates a bug, where if there are more instances than Nova's\npagination allows, the ports from newer instances would no longer\nappear in the drop-down, and the form would fail to validate, even\nthough the choice of port on initial form was correct.\n\nCloses-bug: #1920010\nChange-Id: I3ab26c19dc9ea1ed23fcff790d0db919039099eb\n(cherry picked from commit 3d82d57353d1a29fb5b568ffaa93db86998e9d94)\n""}]",0,782423,2d2f944e2fe127433f2973ef77ba86ec997cf434,10,5,1,8648,,,0,"Save instace_id inside Associate Floating IP workflow

Also, rename instance_id field to proper port_id.

Before this change, when instance_id was passed from the Instances
page in the URL, the information would be lost on form submission,
and if the form contained an error, the it would be redisplayed with
the port drop-down containing all ports from all instances. This also
made submitting this form slow, as the drop-down would be populated
with all ports on form validation.

It also creates a bug, where if there are more instances than Nova's
pagination allows, the ports from newer instances would no longer
appear in the drop-down, and the form would fail to validate, even
though the choice of port on initial form was correct.

Closes-bug: #1920010
Change-Id: I3ab26c19dc9ea1ed23fcff790d0db919039099eb
(cherry picked from commit 3d82d57353d1a29fb5b568ffaa93db86998e9d94)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/23/782423/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/integration_tests/pages/project/network/floatingipspage.py', 'openstack_dashboard/dashboards/project/floating_ips/tests.py', 'openstack_dashboard/dashboards/project/floating_ips/workflows.py']",3,2d2f944e2fe127433f2973ef77ba86ec997cf434,fip-port-id-stable/train," instance_id = forms.CharField( widget=forms.widgets.HiddenInput(), required=False, ) port_id = forms.ThemableChoiceField( q_instance_id = self.data.get('instance_id', self.request.GET.get('instance_id')) self.initial['instance_id'] = q_instance_id self.initial['port_id'] = targets[0].id else: self.initial['port_id'] = '' self.initial['port_id'] = target.id def populate_port_id_choices(self, request, context): q_instance_id = self.data.get('instance_id', self.initial.get('instance_id')) contributes = (""ip_id"", ""instance_id"", ""ip_address"", ""port_id"") data['port_id'])"," instance_id = forms.ThemableChoiceField( q_instance_id = self.request.GET.get('instance_id') self.initial['instance_id'] = targets[0].id else: self.initial['instance_id'] = '' self.initial['instance_id'] = target.id # TODO(amotoki): [drop-nova-network] Rename instance_id to port_id def populate_instance_id_choices(self, request, context): q_instance_id = self.request.GET.get('instance_id') contributes = (""ip_id"", ""instance_id"", ""ip_address"") data['instance_id'])",22,16
openstack%2Frequirements~master~I3649f3f861a362dcb5ad24d9a45a413b50178e8c,openstack/requirements,master,I3649f3f861a362dcb5ad24d9a45a413b50178e8c,update constraint for sushy to new release 3.8.0,MERGED,2021-05-18 17:31:35.000000000,2021-05-18 22:26:38.000000000,2021-05-18 22:24:22.000000000,"[{'_account_id': 14288}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 17:31:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4784cea140c78ed09f13d56a43fe9ad3906d5c22', 'message': 'update constraint for sushy to new release 3.8.0\n\nmeta: version: 3.8.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Change-Id: I94501fe100a844df0fcf0119e4062abc0117a4b7\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I3649f3f861a362dcb5ad24d9a45a413b50178e8c\n'}]",0,792023,4784cea140c78ed09f13d56a43fe9ad3906d5c22,9,3,1,11131,,,0,"update constraint for sushy to new release 3.8.0

meta: version: 3.8.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Change-Id: I94501fe100a844df0fcf0119e4062abc0117a4b7
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I3649f3f861a362dcb5ad24d9a45a413b50178e8c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/792023/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4784cea140c78ed09f13d56a43fe9ad3906d5c22,new-release,sushy===3.8.0,sushy===3.7.1,1,1
openstack%2Frequirements~master~I28e610264e1c6768090e9b0e9e80606e5e30fcaa,openstack/requirements,master,I28e610264e1c6768090e9b0e9e80606e5e30fcaa,update constraint for os-api-ref to new release 2.2.0,MERGED,2021-05-18 09:19:51.000000000,2021-05-18 22:25:41.000000000,2021-05-18 22:24:17.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-18 09:19:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c933e1e601c54388118de4063890c8155e63d6a3', 'message': 'update constraint for os-api-ref to new release 2.2.0\n\nmeta: version: 2.2.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: ricolin <ricolin@ricolky.com>\nmeta: release:Commit: ricolin <ricolin@ricolky.com>\nmeta: release:Change-Id: I51e58b1795077cbf2cf984dd9c5915a3270bb7ea\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I28e610264e1c6768090e9b0e9e80606e5e30fcaa\n'}]",0,791910,c933e1e601c54388118de4063890c8155e63d6a3,9,3,1,11131,,,0,"update constraint for os-api-ref to new release 2.2.0

meta: version: 2.2.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: ricolin <ricolin@ricolky.com>
meta: release:Commit: ricolin <ricolin@ricolky.com>
meta: release:Change-Id: I51e58b1795077cbf2cf984dd9c5915a3270bb7ea
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I28e610264e1c6768090e9b0e9e80606e5e30fcaa
",git fetch https://review.opendev.org/openstack/requirements refs/changes/10/791910/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c933e1e601c54388118de4063890c8155e63d6a3,new-release,os-api-ref===2.2.0,os-api-ref===2.1.0,1,1
openstack%2Ftripleo-ci~master~I65d2f560cfdd471c6ac08241559ff7e8e1c40736,openstack/tripleo-ci,master,I65d2f560cfdd471c6ac08241559ff7e8e1c40736,remove uneeded repos from EXTERNAL-REPOS in tripleo-ci,ABANDONED,2021-05-11 19:19:09.000000000,2021-05-18 22:06:28.000000000,,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-11 19:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bcc63b1e2fe48d3a252ddbd68097db3be2a23c14', 'message': 'remove uneeded repos from\n\nbrowbeat and tripleo-ansible are no longer imported\nfrom src in quickstart-extras-requirements.txt in tqe\n\nChange-Id: I65d2f560cfdd471c6ac08241559ff7e8e1c40736\n'}, {'number': 2, 'created': '2021-05-11 19:24:25.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/95a6b0083b1b0085588d7727d0ac07e186438fba', 'message': 'remove uneeded repos from EXTERNAL-REPOS in tripleo-ci\n\nbrowbeat and tripleo-ansible are no longer imported\nfrom src in quickstart-extras-requirements.txt in tqe\n\nChange-Id: I65d2f560cfdd471c6ac08241559ff7e8e1c40736\n'}]",0,790808,95a6b0083b1b0085588d7727d0ac07e186438fba,16,4,2,9592,,,0,"remove uneeded repos from EXTERNAL-REPOS in tripleo-ci

browbeat and tripleo-ansible are no longer imported
from src in quickstart-extras-requirements.txt in tqe

Change-Id: I65d2f560cfdd471c6ac08241559ff7e8e1c40736
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/08/790808/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/toci_gate_test.sh.j2'],1,bcc63b1e2fe48d3a252ddbd68097db3be2a23c14,remove_uneeded_tq_requirements,"EXTERNAL_REPOS=""openstack/tripleo-ha-utils openstack/tripleo-ci openstack/tripleo-quickstart-extras openstack/openstack-ansible-os_tempest \openstack/tripleo-operator-ansible openstack/ansible-collections-openstack x/tripleo-ipa \","EXTERNAL_REPOS=""x/browbeat openstack/tripleo-ha-utils openstack/tripleo-ci openstack/tripleo-quickstart-extras openstack/openstack-ansible-os_tempest \openstack/tripleo-operator-ansible openstack/ansible-collections-openstack openstack/tripleo-ansible x/tripleo-ipa \",2,2
openstack%2Fkayobe~stable%2Fwallaby~Ic8ec3bb98f8f016e1d089bf10bd0538264394241,openstack/kayobe,stable/wallaby,Ic8ec3bb98f8f016e1d089bf10bd0538264394241,Make docker registry network mode configurable,MERGED,2021-05-18 11:52:55.000000000,2021-05-18 21:52:22.000000000,2021-05-18 21:51:04.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 11:52:55.000000000', 'files': ['ansible/roles/docker-registry/defaults/main.yml', 'releasenotes/notes/docker-registry-network-mode-3c678295b51d69c1.yaml', 'etc/kayobe/docker-registry.yml', 'ansible/group_vars/all/docker-registry', 'doc/source/configuration/reference/docker-registry.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/64e183c4dff26edd2970b7cc34cc4d20691c5920', 'message': ""Make docker registry network mode configurable\n\nAdds a new flag, 'docker_registry_network_mode', which defaults to\n'host'. This may be used to set the network mode of the Docker registry\ncontainer.\n\nThis is a follow up to I404dd52701426a10c2e92727bd52b7fd7112abf6, which\nchanged the network mode from the default of bridge to host. It allows\nthat change to be backported to stable branches, without modifying the\ndefault value.\n\nChange-Id: Ic8ec3bb98f8f016e1d089bf10bd0538264394241\n(cherry picked from commit e187ad7955ed5baf2eb23ef7bb5ec4830881d29f)\n""}]",0,791795,64e183c4dff26edd2970b7cc34cc4d20691c5920,8,3,1,15197,,,0,"Make docker registry network mode configurable

Adds a new flag, 'docker_registry_network_mode', which defaults to
'host'. This may be used to set the network mode of the Docker registry
container.

This is a follow up to I404dd52701426a10c2e92727bd52b7fd7112abf6, which
changed the network mode from the default of bridge to host. It allows
that change to be backported to stable branches, without modifying the
default value.

Change-Id: Ic8ec3bb98f8f016e1d089bf10bd0538264394241
(cherry picked from commit e187ad7955ed5baf2eb23ef7bb5ec4830881d29f)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/95/791795/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/docker-registry/defaults/main.yml', 'releasenotes/notes/docker-registry-network-mode-3c678295b51d69c1.yaml', 'etc/kayobe/docker-registry.yml', 'ansible/group_vars/all/docker-registry', 'doc/source/configuration/reference/docker-registry.rst']",5,64e183c4dff26edd2970b7cc34cc4d20691c5920,docker-registry-network-mode-stable/wallaby,"``docker_registry_network_mode`` The network mode used for the docker registry container. Default is ``host``. When set to ``bridge``, port mapping is configured to expose the registry through port ``docker_registry_port``. 4000. When ``docker_registry_network_mode`` is set to ``host``, configures the port used by the registry server inside the container. When ``docker_registry_network_mode`` is set to ``bridge``, configures the overlay network port.", 4000.,26,3
openstack%2Fkayobe~stable%2Fwallaby~I41d9169f0312108e42bb12c52c6c7ee2509cf2ab,openstack/kayobe,stable/wallaby,I41d9169f0312108e42bb12c52c6c7ee2509cf2ab,Support additional pass through host variables,MERGED,2021-05-18 13:33:04.000000000,2021-05-18 21:19:34.000000000,2021-05-18 21:18:22.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 13:33:04.000000000', 'files': ['ansible/group_vars/all/kolla', 'etc/kayobe/kolla.yml', 'doc/source/configuration/reference/kolla-ansible.rst', 'releasenotes/notes/extra-host-vars-13c28b790bc54f6b.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/38360a4dd81395715e7747036e8c9826eec8f280', 'message': 'Support additional pass through host variables\n\nAllow passing through additional host variables from Kayobe to Kolla\nAnsible without overriding the entire list.\n\n* kolla_seed_inventory_pass_through_host_vars_extra\n* kolla_seed_inventory_pass_through_host_vars_map_extra\n* kolla_overcloud_inventory_pass_through_host_vars_extra\n* kolla_overcloud_inventory_pass_through_host_vars_map_extra\n\nStory: 2008797\nTask: 42201\n\nChange-Id: I41d9169f0312108e42bb12c52c6c7ee2509cf2ab\n(cherry picked from commit 45a7963810830f3fe17ce7869e0458356f31a947)\n'}]",0,791940,38360a4dd81395715e7747036e8c9826eec8f280,8,3,1,15197,,,0,"Support additional pass through host variables

Allow passing through additional host variables from Kayobe to Kolla
Ansible without overriding the entire list.

* kolla_seed_inventory_pass_through_host_vars_extra
* kolla_seed_inventory_pass_through_host_vars_map_extra
* kolla_overcloud_inventory_pass_through_host_vars_extra
* kolla_overcloud_inventory_pass_through_host_vars_map_extra

Story: 2008797
Task: 42201

Change-Id: I41d9169f0312108e42bb12c52c6c7ee2509cf2ab
(cherry picked from commit 45a7963810830f3fe17ce7869e0458356f31a947)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/40/791940/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'etc/kayobe/kolla.yml', 'doc/source/configuration/reference/kolla-ansible.rst', 'releasenotes/notes/extra-host-vars-13c28b790bc54f6b.yaml']",4,38360a4dd81395715e7747036e8c9826eec8f280,,--- features: - | Adds support for passing through additional host variables from Kayobe to Kolla Ansible. This is done via the following variables: * ``kolla_seed_inventory_pass_through_host_vars_extra`` * ``kolla_seed_inventory_pass_through_host_vars_map_extra`` * ``kolla_overcloud_inventory_pass_through_host_vars_extra`` * ``kolla_overcloud_inventory_pass_through_host_vars_map_extra`` See `story 2008797 <https://storyboard.openstack.org/#!/story/2008797>`__ for details. ,,167,10
openstack%2Fgrenade~master~Id782291f7892b93d8452c836bfdd7f47f8e940ef,openstack/grenade,master,Id782291f7892b93d8452c836bfdd7f47f8e940ef,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 07:55:49.000000000,2021-05-18 21:10:32.000000000,2021-05-18 21:09:17.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-05-14 07:55:49.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/grenade/commit/e816fafffc9f7aca466e38d9c218d668f415065e', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id782291f7892b93d8452c836bfdd7f47f8e940ef\n""}]",0,791399,e816fafffc9f7aca466e38d9c218d668f415065e,7,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Id782291f7892b93d8452c836bfdd7f47f8e940ef
",git fetch https://review.opendev.org/openstack/grenade refs/changes/99/791399/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e816fafffc9f7aca466e38d9c218d668f415065e,,description_file =author_email = openstack-discuss@lists.openstack.org,description-file =author-email = openstack-discuss@lists.openstack.org,2,2
openstack%2Fopenstack-ansible-os_manila~master~I9eb6fcd712a868e28735d38261c21582d8751209,openstack/openstack-ansible-os_manila,master,I9eb6fcd712a868e28735d38261c21582d8751209,Switch default virtualenv to python3,MERGED,2021-03-10 09:17:49.000000000,2021-05-18 21:08:43.000000000,2021-05-18 21:07:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-10 09:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/524deb63279a4c3925bbb715557cc0449d91ac16', 'message': 'Switch default virtualenv to python3\n\nChange-Id: I9eb6fcd712a868e28735d38261c21582d8751209\n'}, {'number': 2, 'created': '2021-05-18 16:30:47.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/f15d62e61e87a55c812900c910870168b1bb8a94', 'message': 'Switch default virtualenv to python3\n\nChange-Id: I9eb6fcd712a868e28735d38261c21582d8751209\n'}]",0,779679,f15d62e61e87a55c812900c910870168b1bb8a94,14,3,2,25023,,,0,"Switch default virtualenv to python3

Change-Id: I9eb6fcd712a868e28735d38261c21582d8751209
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/79/779679/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,524deb63279a4c3925bbb715557cc0449d91ac16,osa-default-python,"manila_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","manila_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I8868a07698424f0b48d30a9ac68ff517c60d1859,openstack/puppet-tripleo,stable/wallaby,I8868a07698424f0b48d30a9ac68ff517c60d1859,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-05-05 15:32:17.000000000,2021-05-18 19:40:49.000000000,2021-05-18 19:39:28.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 15:32:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0b981a701b2c6572fd791cfbaefcfcb7335b1528', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I8868a07698424f0b48d30a9ac68ff517c60d1859\n'}]",0,789882,0b981a701b2c6572fd791cfbaefcfcb7335b1528,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I8868a07698424f0b48d30a9ac68ff517c60d1859
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/82/789882/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0b981a701b2c6572fd791cfbaefcfcb7335b1528,create-wallaby,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} {opts} {packages},install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I384e5ecd09d063084447c1f7405118b9873122bd,openstack/puppet-tripleo,stable/wallaby,I384e5ecd09d063084447c1f7405118b9873122bd,Update .gitreview for stable/wallaby,MERGED,2021-05-05 15:32:11.000000000,2021-05-18 19:39:24.000000000,2021-05-18 19:39:24.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-05 15:32:11.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8777c855de9308d2d1c53d5fe79562268472a023', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I384e5ecd09d063084447c1f7405118b9873122bd\n'}]",0,789881,8777c855de9308d2d1c53d5fe79562268472a023,15,4,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I384e5ecd09d063084447c1f7405118b9873122bd
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/81/789881/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8777c855de9308d2d1c53d5fe79562268472a023,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Ftripleo-quickstart-extras~master~I29cf6dd8a32242f27a40946688f9dede8968c7f9,openstack/tripleo-quickstart-extras,master,I29cf6dd8a32242f27a40946688f9dede8968c7f9,Support using ephemeral Heat,MERGED,2021-02-23 13:46:24.000000000,2021-05-18 19:39:20.000000000,2021-05-18 19:39:20.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-02-23 13:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dfc04104335fe713eadfab0300f17423638cfd39', 'message': 'DNM: Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --tripleo-deploy in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 2, 'created': '2021-02-23 21:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ba420be840f68dfcb2d568951a7cae96d8cc7ed7', 'message': 'DNM: Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --tripleo-deploy in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 3, 'created': '2021-02-24 01:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1c541a64553b1bbd67515c6652e4844362985adb', 'message': 'DNM: Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --tripleo-deploy in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 4, 'created': '2021-02-24 18:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3259fddb293079c92bc5b07b630b80e57d16b570', 'message': 'DNM: Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --tripleo-deploy in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 5, 'created': '2021-02-25 02:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e5235e38cc8ebb70f0242d71e637aa2ea33f6f50', 'message': 'DNM: Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --tripleo-deploy in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 6, 'created': '2021-02-26 18:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c55319460de7e6c03f3fd22deee7c9429a7fb97a', 'message': 'DNM: Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --tripleo-deploy in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 7, 'created': '2021-02-26 22:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7a8dc2f278e2dbdad7ef4a15c7f301bcdd8e81fc', 'message': 'DNM: Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --tripleo-deploy in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 8, 'created': '2021-03-01 12:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/22f7a91ea4703e0212f313dfd6730ccc506842ba', 'message': 'DNM: Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --tripleo-deploy in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 9, 'created': '2021-03-04 01:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3b41bd3b1fc205bd20884752257922192c70e971', 'message': 'DNM: Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --tripleo-deploy in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 10, 'created': '2021-03-05 03:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/996fae59a02a9081addba96711a0c312bd917043', 'message': 'DNM: Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --tripleo-deploy in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 11, 'created': '2021-04-14 15:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/34714a84628386e8239a8d7e3fe6ce40de7b4295', 'message': 'DNM: Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --tripleo-deploy in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 12, 'created': '2021-04-21 11:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4678e3fad2f3ef32b51881b9d0cdfce116d1129e', 'message': 'DNM: Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --tripleo-deploy in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 13, 'created': '2021-04-21 20:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ac1e3d900dfadf979981c9e2ad41e0feb1661aac', 'message': 'DNM: Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --tripleo-deploy in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 14, 'created': '2021-04-29 22:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/94411001415fcf699a72d6097fef77347f20539f', 'message': 'DNM: Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --tripleo-deploy in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 15, 'created': '2021-05-03 19:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fd5f91ae56841f4e7e427af4fad0e0f152d46b2d', 'message': 'DNM: Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --tripleo-deploy in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 16, 'created': '2021-05-03 19:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f248473eefeb1703a1e6cd1b61f853f0d6cae79e', 'message': 'Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --heat-type in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 17, 'created': '2021-05-04 00:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4107c34c6cd9fa501fdac33aa981a3e2b738a1d5', 'message': 'Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --heat-type in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 18, 'created': '2021-05-04 11:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bef4f0a177654eb46f68e42288f3d51dc9b94666', 'message': 'Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --heat-type in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 19, 'created': '2021-05-07 01:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/935cd11b3895a37353f7bc35b18ecc664d417f23', 'message': 'Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --heat-type in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 20, 'created': '2021-05-10 00:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fc5cfbfb153716e30144b9daec2d038d6753adcb', 'message': 'Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --heat-type in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 21, 'created': '2021-05-10 12:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/70f32e1c5dd5c0983fea76f7d2a4fe24b80ed8e6', 'message': 'Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --heat-type in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 22, 'created': '2021-05-12 11:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8c69cc33eb4b098bac13020f79269392ab96e2e2', 'message': 'Support using ephemeral Heat\n\nAdds support for a new ansible variable: ephemeral_heat_args, which will\nallow job configs to deploy with --heat-type in order to use the\nephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 23, 'created': '2021-05-13 12:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8877c4bde292d558b737fcbde6abb28dc533880b', 'message': 'Support using ephemeral Heat\n\nAdds support for a new ansible variables ephemeral_heat and\nephemeral_heat_args, which will allow job configs to deploy with\n--heat-type in order to use the ephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 24, 'created': '2021-05-13 13:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7c8331e0a0c005a00c4626ab2e5ca63220c3c111', 'message': 'Support using ephemeral Heat\n\nAdds support for a new ansible variables ephemeral_heat and\nephemeral_heat_args, which will allow job configs to deploy with\n--heat-type in order to use the ephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 25, 'created': '2021-05-14 11:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f8d84d7106f543bc6f61ed35a618c38b0bcb9b51', 'message': 'Support using ephemeral Heat\n\nAdds support for a new ansible variables ephemeral_heat and\nephemeral_heat_args, which will allow job configs to deploy with\n--heat-type in order to use the ephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 26, 'created': '2021-05-14 12:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7587bcf01dc2228244eefe35957f7dfc0809fdbc', 'message': 'Support using ephemeral Heat\n\nAdds support for a new ansible variables ephemeral_heat and\nephemeral_heat_args, which will allow job configs to deploy with\n--heat-type in order to use the ephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 27, 'created': '2021-05-14 12:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/31b5359868ac20a29eaae1afd0f46cd0a76c7c8f', 'message': 'Support using ephemeral Heat\n\nAdds support for a new ansible variables ephemeral_heat and\nephemeral_heat_args, which will allow job configs to deploy with\n--heat-type in order to use the ephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 28, 'created': '2021-05-17 12:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a8dc182e84ac8ee079cabcc82726d942e62d8cae', 'message': 'Support using ephemeral Heat\n\nAdds support for a new ansible variables ephemeral_heat and\nephemeral_heat_args, which will allow job configs to deploy with\n--heat-type in order to use the ephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 29, 'created': '2021-05-17 17:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/de8e29155aea2f5a30ab060970ce329b72fc5dd0', 'message': 'Support using ephemeral Heat\n\nAdds support for a new ansible variables ephemeral_heat and\nephemeral_heat_args, which will allow job configs to deploy with\n--heat-type in order to use the ephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}, {'number': 30, 'created': '2021-05-17 20:42:01.000000000', 'files': ['roles/extras-common/defaults/main.yml', 'roles/undercloud-deploy/templates/undercloud.conf.j2', 'roles/validate-undercloud/templates/undercloud-sanity-check.sh.j2', 'roles/overcloud-deploy/templates/config-download.yaml.j2', 'roles/overcloud-deploy/defaults/main.yml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2', 'roles/undercloud-deploy/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/96ab93f4fe67b792a5087ceac3a972ed8d6525b7', 'message': 'Support using ephemeral Heat\n\nAdds support for a new ansible variables ephemeral_heat and\nephemeral_heat_args, which will allow job configs to deploy with\n--heat-type in order to use the ephemeral heat deployment.\n\nImplements: blueprint ephemeral-heat-overcloud\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9\n'}]",22,777106,96ab93f4fe67b792a5087ceac3a972ed8d6525b7,133,10,30,7144,,,0,"Support using ephemeral Heat

Adds support for a new ansible variables ephemeral_heat and
ephemeral_heat_args, which will allow job configs to deploy with
--heat-type in order to use the ephemeral heat deployment.

Implements: blueprint ephemeral-heat-overcloud
Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: I29cf6dd8a32242f27a40946688f9dede8968c7f9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/06/777106/18 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/defaults/main.yml'],1,dfc04104335fe713eadfab0300f17423638cfd39,ephemeral-heat,"ephemeral_heat_args: """" {{ ephemeral_heat_args }}",,2,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I49df20960fbb142ca5dd1affe715d2a7bd580bcf,openstack/networking-ovn,stable/train,I49df20960fbb142ca5dd1affe715d2a7bd580bcf,Mark scenario trunk tests as unstable for now for python 2 job,MERGED,2021-05-12 14:28:21.000000000,2021-05-18 19:35:41.000000000,2021-05-18 19:32:50.000000000,"[{'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 14:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d2732383be14ebb927f4d4dfe02bae75fdd9643a', 'message': ""Mark test_subport_connectivity_soft_reboot as unstable for now\n\nPython 2 job only: networking-ovn-tempest-dsvm-ovs-release-python2\n\nIt's failing from time to time and it's reported in the related bug.\nSo lets mark this test as unstable for now, until we will fix the issue\nto make our gate more stable.\n\nRelated-Bug: #1927985\n\nChange-Id: I49df20960fbb142ca5dd1affe715d2a7bd580bcf\n""}, {'number': 2, 'created': '2021-05-13 13:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2b64fe1626b8b3127482c462f86443ee81b3f0c6', 'message': ""Mark test_subport_connectivity_soft_reboot as unstable for now\n\nPython 2 job only: networking-ovn-tempest-dsvm-ovs-release-python2\n\nIt's failing from time to time and it's reported in the related bug.\nSo lets mark this test as unstable for now, until we will fix the issue\nto make our gate more stable.\n\nRelated-Bug: #1927985\n\nChange-Id: I49df20960fbb142ca5dd1affe715d2a7bd580bcf\n""}, {'number': 3, 'created': '2021-05-14 15:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6183651c07bc3ace7ddd7f46506edd7c84981815', 'message': ""Mark scenario trunk tests as unstable for now for python 2 job\n\nIt's failing from time to time and it's reported in the related bug.\nSo lets mark this test as unstable for now, until we will fix the issue\nto make our gate more stable.\n\nRelated-Bug: #1927985\n\nChange-Id: I49df20960fbb142ca5dd1affe715d2a7bd580bcf\n""}, {'number': 4, 'created': '2021-05-17 13:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/051eb3a1e45d3124a1da75e9f3318e165eaa636a', 'message': ""Mark scenario trunk tests as unstable for now for python 2 job\n\nIt's failing from time to time and it's reported in the related bug.\nSo lets mark this test as unstable for now, until we will fix the issue\nto make our gate more stable.\n\nRelated-Bug: #1927985\n\nChange-Id: I49df20960fbb142ca5dd1affe715d2a7bd580bcf\n""}, {'number': 5, 'created': '2021-05-17 19:45:38.000000000', 'files': ['zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4c5cb1198ea221c0c711c027d7f461f1f0e87240', 'message': ""Mark scenario trunk tests as unstable for now for python 2 job\n\nIt's failing from time to time and it's reported in the related bug.\nSo lets mark this test as unstable for now, until we will fix the issue\nto make our gate more stable.\n\nAs the parent job (networking-ovn-base) already had a tempest_black_regex,\nset, this child job explicitly adds the parent's regex to the list. Which\nmeans the IPv6Test is also part of\nnetworking-ovn-tempest-dsvm-ovs-release-python2's tempest_black_regex.\n\nRelated-Bug: #1927985\n\nChange-Id: I49df20960fbb142ca5dd1affe715d2a7bd580bcf\n""}]",2,791008,4c5cb1198ea221c0c711c027d7f461f1f0e87240,26,4,5,11952,,,0,"Mark scenario trunk tests as unstable for now for python 2 job

It's failing from time to time and it's reported in the related bug.
So lets mark this test as unstable for now, until we will fix the issue
to make our gate more stable.

As the parent job (networking-ovn-base) already had a tempest_black_regex,
set, this child job explicitly adds the parent's regex to the list. Which
means the IPv6Test is also part of
networking-ovn-tempest-dsvm-ovs-release-python2's tempest_black_regex.

Related-Bug: #1927985

Change-Id: I49df20960fbb142ca5dd1affe715d2a7bd580bcf
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/08/791008/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/networking-ovn-jobs.yaml'],1,d2732383be14ebb927f4d4dfe02bae75fdd9643a,," # TODO(flaviof): remove test_subport_connectivity_soft_reboot test from # blacklist when bug https://bugs.launchpad.net/tempest/+bug/1927985 and # https://bugs.launchpad.net/neutron/+bug/1881558 (copied from parent job) # will be fixed tempest_black_regex: ""\ (?:neutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_subport_connectivity_soft_reboot)|\ (?:neutron_tempest_plugin.scenario.test_ipv6.IPv6Test)""",,7,0
openstack%2Fansible-collections-openstack~master~Idee1f3c16cb07db39395b434d406628a9c5b152d,openstack/ansible-collections-openstack,master,Idee1f3c16cb07db39395b434d406628a9c5b152d,Add support to setting image tags,MERGED,2021-03-30 13:15:41.000000000,2021-05-18 18:53:35.000000000,2021-05-18 18:53:35.000000000,"[{'_account_id': 6732}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-03-30 13:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5a72d7df453e5392cefab3348afdd2fd7ef64c31', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}, {'number': 2, 'created': '2021-03-30 14:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5abc8d8edc557b621e6a59acd4fbfeefef558271', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}, {'number': 3, 'created': '2021-03-30 14:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8f2cf7278cc5ce4544a59afd6e2461f839424613', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}, {'number': 4, 'created': '2021-03-30 15:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/39e44caf431550560d40b40aeecfdc1909ca468c', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}, {'number': 5, 'created': '2021-04-05 21:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1571d31f98983cd20c73a89b4d7cb49256c2eb9d', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}, {'number': 6, 'created': '2021-04-22 09:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/96e730185358e8ccaebc8d3ba1dc9149dd163916', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}, {'number': 7, 'created': '2021-04-22 09:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d24bc198dc90785625eaeb3a91f196c9e411163c', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}, {'number': 8, 'created': '2021-04-22 10:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e56508e8191d96faf92d0f322545ed448b26e5e4', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}, {'number': 9, 'created': '2021-04-28 16:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5c2c5c27b1197e20c3bdd097161573b3bce55d42', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}, {'number': 10, 'created': '2021-04-29 12:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0d7a5e363d984ebd99f51cab9b888e2e82026c78', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}, {'number': 11, 'created': '2021-04-29 13:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/146d6a653564a44cd8563e279585c6300d1e3748', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}, {'number': 12, 'created': '2021-04-29 13:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/698bd427b267a7543395410b587478bed8e724db', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}, {'number': 13, 'created': '2021-04-29 15:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/943cf407f8019464651b019f13bb767b7cea3325', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}, {'number': 14, 'created': '2021-04-30 08:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d85ab4b5af7c47c50306e2e144bb235b11fb1673', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}, {'number': 15, 'created': '2021-04-30 08:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/379d7a5f42a27f73745b3c4663467d0cf8b38779', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}, {'number': 16, 'created': '2021-05-18 16:30:01.000000000', 'files': ['plugins/modules/image_info.py', 'ci/roles/image/tasks/main.yml', 'ci/roles/image/defaults/main.yml', 'plugins/modules/image.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6b3bf3bba01055ca8e544ce258b44e4f5da3da34', 'message': 'Add support to setting image tags\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849\nChange-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d\n'}]",19,783850,6b3bf3bba01055ca8e544ce258b44e4f5da3da34,68,6,16,28619,,,0,"Add support to setting image tags

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/783849
Change-Id: Idee1f3c16cb07db39395b434d406628a9c5b152d
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/50/783850/3 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/image.py'],1,5a72d7df453e5392cefab3348afdd2fd7ef64c31,783850," tags: description: - List of tags to be applied to the image default: [] type: list tags: - custom tags=dict(type='list', default=False), tags=module.params['tags'], tags=module.params['tags'],",,10,0
openstack%2Fopenstack-tempest-skiplist~master~I1b41779263a98d1a6c761d83965ea3a99b8bfe7a,openstack/openstack-tempest-skiplist,master,I1b41779263a98d1a6c761d83965ea3a99b8bfe7a,"Revert ""skip : FS01 failing with volume tempest test""",ABANDONED,2021-05-18 18:36:08.000000000,2021-05-18 18:37:26.000000000,,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 30750}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-05-18 18:36:08.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/3e80ab86f6b5026c62cdf8d2af7ee1b173313906', 'message': 'Revert ""skip : FS01 failing with volume tempest test""\n\nThis reverts commit fd39a09961e08fa7b8e403862f0d4062f4c4a1cd.\n\nReason for revert: testing\n\nChange-Id: I1b41779263a98d1a6c761d83965ea3a99b8bfe7a\n'}]",0,791948,3e80ab86f6b5026c62cdf8d2af7ee1b173313906,3,6,1,9592,,,0,"Revert ""skip : FS01 failing with volume tempest test""

This reverts commit fd39a09961e08fa7b8e403862f0d4062f4c4a1cd.

Reason for revert: testing

Change-Id: I1b41779263a98d1a6c761d83965ea3a99b8bfe7a
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/48/791948/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,3e80ab86f6b5026c62cdf8d2af7ee1b173313906,tempest-skiplist,, - test: tempest.api.compute.admin.test_volumes_negative.VolumesAdminNegativeTest.test_update_attached_volume_with_nonexistent_volume_in_body deployment: - overcloud releases: - name: master reason: Failing in volume tests lp: https://bugs.launchpad.net/tripleo/+bug/1927101 jobs: - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-master,0,9
openstack%2Fnetworking-bgpvpn~master~I976f91478b15bca2c2d6b5cb5d074ec5475d7ede,openstack/networking-bgpvpn,master,I976f91478b15bca2c2d6b5cb5d074ec5475d7ede,Explicitly set job networking-bgpvpn-install to ML2/OVS,MERGED,2021-05-13 09:35:53.000000000,2021-05-18 18:36:09.000000000,2021-05-18 18:33:19.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 09:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/cf560032073751d77972e292b7b112f8eeeebbca', 'message': 'Explicitly set job networking-bgpvpn-install to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend.\nThis patch makes sure that networking-bgpvpn-install jobs use OVS\nbackend.\n\nChange-Id: I976f91478b15bca2c2d6b5cb5d074ec5475d7ede\n'}, {'number': 2, 'created': '2021-05-13 09:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/69fda63beb4369cbab1079c4bbe245d9cc86835e', 'message': 'Explicitly set job networking-bgpvpn-install to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend.\nThis patch makes sure that networking-bgpvpn-install job use OVS\nbackend.\n\nChange-Id: I976f91478b15bca2c2d6b5cb5d074ec5475d7ede\n'}, {'number': 3, 'created': '2021-05-17 07:56:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/b4cbc90a453fddd244b8437c771d1617183d6fdd', 'message': 'Explicitly set job networking-bgpvpn-install to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend.\nThis patch makes sure that networking-bgpvpn-install job use OVS\nbackend.\n\nChange-Id: I976f91478b15bca2c2d6b5cb5d074ec5475d7ede\n'}]",5,791125,b4cbc90a453fddd244b8437c771d1617183d6fdd,20,3,3,8313,,,0,"Explicitly set job networking-bgpvpn-install to ML2/OVS

Devstack is changing the Neutron default to OVN backend.
This patch makes sure that networking-bgpvpn-install job use OVS
backend.

Change-Id: I976f91478b15bca2c2d6b5cb5d074ec5475d7ede
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/25/791125/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cf560032073751d77972e292b7b112f8eeeebbca,ovn-devstack, devstack_services: # Disable OVN services br-ex-tcpdump: false br-int-flows: false ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false # Enable Neutron services that are not used by OVN q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch devstack_services: # Disable OVN services br-ex-tcpdump: false br-int-flows: false ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false # Enable Neutron services that are not used by OVN q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true devstack_localrc: Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,,33,0
openstack%2Fopenstack-tempest-skiplist~master~Ic681eef92587233c4b0daa7490004fad43fd0752,openstack/openstack-tempest-skiplist,master,Ic681eef92587233c4b0daa7490004fad43fd0752,skip : FS01 failing with volume tempest test,MERGED,2021-05-04 13:34:17.000000000,2021-05-18 18:36:08.000000000,2021-05-04 14:34:40.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-05-04 13:34:17.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/fd39a09961e08fa7b8e403862f0d4062f4c4a1cd', 'message': 'skip : FS01 failing with volume tempest test\n\nThis patch skips\n""test_update_attached_volume_with_nonexistent_volume_in_body""\nto make green FS01 periodic job.\n\nRelated-Bug: #1927101\nChange-Id: Ic681eef92587233c4b0daa7490004fad43fd0752\n'}]",0,789570,fd39a09961e08fa7b8e403862f0d4062f4c4a1cd,9,6,1,31075,,,0,"skip : FS01 failing with volume tempest test

This patch skips
""test_update_attached_volume_with_nonexistent_volume_in_body""
to make green FS01 periodic job.

Related-Bug: #1927101
Change-Id: Ic681eef92587233c4b0daa7490004fad43fd0752
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/70/789570/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,fd39a09961e08fa7b8e403862f0d4062f4c4a1cd,tempest-skiplist, - test: tempest.api.compute.admin.test_volumes_negative.VolumesAdminNegativeTest.test_update_attached_volume_with_nonexistent_volume_in_body deployment: - overcloud releases: - name: master reason: Failing in volume tests lp: https://bugs.launchpad.net/tripleo/+bug/1927101 jobs: - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-master,,9,0
openstack%2Fcharm-neutron-openvswitch~master~Id455b9c04709c707d3ece6a49424bc90dcafa4bb,openstack/charm-neutron-openvswitch,master,Id455b9c04709c707d3ece6a49424bc90dcafa4bb,Fix neutron-openvswitch installation with DPDK,ABANDONED,2021-02-28 15:23:57.000000000,2021-05-18 18:09:03.000000000,,"[{'_account_id': 10366}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-28 15:23:57.000000000', 'files': ['hooks/neutron_ovs_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/9f19e956855e772ce343825f814fb2d27605a3be', 'message': 'Fix neutron-openvswitch installation with DPDK\n\nThe --may-exist parameter should be used even in the newer versions\nof openvswitch. This is necessary as this funcion is called multiple\ntimes.\n\nCloses-bug: #1917221\nChange-Id: Id455b9c04709c707d3ece6a49424bc90dcafa4bb\n'}]",0,777889,9f19e956855e772ce343825f814fb2d27605a3be,8,4,1,10058,,,0,"Fix neutron-openvswitch installation with DPDK

The --may-exist parameter should be used even in the newer versions
of openvswitch. This is necessary as this funcion is called multiple
times.

Closes-bug: #1917221
Change-Id: Id455b9c04709c707d3ece6a49424bc90dcafa4bb
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/89/777889/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/neutron_ovs_utils.py'],1,9f19e956855e772ce343825f814fb2d27605a3be,bug/1917221," ""--may-exist"",",,1,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I3c01bd7d1685c8a7e13a55e545e98baf19e9a0f9,openstack/networking-ovn,stable/train,I3c01bd7d1685c8a7e13a55e545e98baf19e9a0f9,"Only set ""unknown"" in LSP that makes sense",MERGED,2019-12-18 09:51:20.000000000,2021-05-18 17:55:51.000000000,2019-12-20 12:49:36.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 09:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2fc5cc347120f25042c75842173d0d83e85ea484', 'message': 'Only set ""unknown"" in LSP that makes sense\n\nPrior to this patch, the ""unknown"" address was being set the logical\nswitch ports solely based on whether the port security was enabled or\ndisabled. That\'s not how it\'s intended to work.\n\nWith this patch the ""unknown"" address is only set to the normal logical\nswitch ports, those which types are ""router"", ""localnet"" or ""localport""\nwon\'t be affected.\n\nThe maintenance task was updated to correct this behavior for existing\nports (the maintenance was suppose to be removed in the T cycle, this\npatch bumps it to U cycle instead due to this change).\n\nCloses-Bug: #1838535\nRelated-Bug: #1815270\nChange-Id: I3c01bd7d1685c8a7e13a55e545e98baf19e9a0f9\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 6a89dbfe47ae1f384e08fede3bb6afae2ada7b9c)\n'}, {'number': 2, 'created': '2019-12-19 09:27:29.000000000', 'files': ['networking_ovn/common/maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b5ca90feacd467a8991fb42bae7d2b4c0095fa5d', 'message': 'Only set ""unknown"" in LSP that makes sense\n\nPrior to this patch, the ""unknown"" address was being set the logical\nswitch ports solely based on whether the port security was enabled or\ndisabled. That\'s not how it\'s intended to work.\n\nWith this patch the ""unknown"" address is only set to the normal logical\nswitch ports, those which types are ""router"", ""localnet"" or ""localport""\nwon\'t be affected.\n\nThe maintenance task was updated to correct this behavior for existing\nports (the maintenance was suppose to be removed in the T cycle, this\npatch bumps it to U cycle instead due to this change).\n\nCloses-Bug: #1838535\nRelated-Bug: #1815270\nChange-Id: I3c01bd7d1685c8a7e13a55e545e98baf19e9a0f9\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 6a89dbfe47ae1f384e08fede3bb6afae2ada7b9c)\n'}]",0,699642,b5ca90feacd467a8991fb42bae7d2b4c0095fa5d,13,4,2,24791,,,0,"Only set ""unknown"" in LSP that makes sense

Prior to this patch, the ""unknown"" address was being set the logical
switch ports solely based on whether the port security was enabled or
disabled. That's not how it's intended to work.

With this patch the ""unknown"" address is only set to the normal logical
switch ports, those which types are ""router"", ""localnet"" or ""localport""
won't be affected.

The maintenance task was updated to correct this behavior for existing
ports (the maintenance was suppose to be removed in the T cycle, this
patch bumps it to U cycle instead due to this change).

Closes-Bug: #1838535
Related-Bug: #1815270
Change-Id: I3c01bd7d1685c8a7e13a55e545e98baf19e9a0f9
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 6a89dbfe47ae1f384e08fede3bb6afae2ada7b9c)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/42/699642/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/maintenance.py'],1,2fc5cc347120f25042c75842173d0d83e85ea484,bug/1838535-stable/train, addresses = port.addresses type_ = port.type.strip() if not port.port_security: if not type_ and ovn_const.UNKNOWN_ADDR not in addresses: addresses.append(ovn_const.UNKNOWN_ADDR) elif type_ and ovn_const.UNKNOWN_ADDR in addresses: addresses.remove(ovn_const.UNKNOWN_ADDR) else: if type_ and ovn_const.UNKNOWN_ADDR in addresses: addresses.remove(ovn_const.UNKNOWN_ADDR) elif not type_ and ovn_const.UNKNOWN_ADDR in addresses: addresses.remove(ovn_const.UNKNOWN_ADDR) ,,13,0
openstack%2Ftripleo-validations~master~I1cdebdd00444760c288756705b3f1939b4f344b9,openstack/tripleo-validations,master,I1cdebdd00444760c288756705b3f1939b4f344b9,Refactor bindep to support Fedora33,ABANDONED,2021-03-05 18:45:49.000000000,2021-05-18 17:29:19.000000000,,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-03-05 18:45:49.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e09e9308affa3c3096b242dfac2833c2fefeaa42', 'message': 'Refactor bindep to support Fedora33\n\nChange-Id: I1cdebdd00444760c288756705b3f1939b4f344b9\n'}]",11,779028,e09e9308affa3c3096b242dfac2833c2fefeaa42,8,4,1,11090,,,0,"Refactor bindep to support Fedora33

Change-Id: I1cdebdd00444760c288756705b3f1939b4f344b9
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/28/779028/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,e09e9308affa3c3096b242dfac2833c2fefeaa42,add_fed33_bindep,python-rhsm-certificates [platform:rhel platform:centos]python-devel [platform:rpm !platform:rhel-8 !platform:centos-8 !platform:fedora-33]PyYAML [platform:rpm !platform:rhel-8 !platform:centos-8 !platform:fedora-33]libselinux-python [platform:rpm !platform:rhel-8 !platform:centos-8 !platform:fedora-33] libsemanage-python [platform:redhat !platform:rhel-8 !platform:centos-8 !platform:fedora-33] python3-libselinux [platform:rpm !platform:rhel-7 !platform:centos-7] python3-libsemanage [platform:redhat !platform:rhel-7 !platform:centos-7],python-rhsm-certificates [platform: redhat]python-devel [platform:rpm !platform:rhel-8 !platform:centos-8]PyYAML [platform:rpm !platform:rhel-8 !platform:centos-8]libselinux-python [platform:rpm !platform:rhel-8 !platform:centos-8] libsemanage-python [platform:redhat !platform:rhel-8 !platform:centos-8] libselinux-python3 [platform:rpm !platform:rhel-7 !platform:centos-7] libsemanage-python3 [platform:redhat !platform:rhel-7 !platform:centos-7],7,7
openstack%2Ftripleo-validations~master~I24f3e1954338e2edebc7c5f3a272142bad970d66,openstack/tripleo-validations,master,I24f3e1954338e2edebc7c5f3a272142bad970d66,Do not configure epel registry,ABANDONED,2021-03-06 00:30:57.000000000,2021-05-18 17:28:57.000000000,,"[{'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-06 00:30:57.000000000', 'files': ['ci/playbooks/pre.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ab49427c9ec9a1b8d515e696edd6e862628ff5e4', 'message': 'Do not configure epel registry\n\nIn order to run tests on Ubuntu or Fedora machines which are specified\nin bindep.txt instead of CentOS8, ci scripts should get epel.repo from\nRPM rather than install epel repository on developers machine.\n\nChange-Id: I24f3e1954338e2edebc7c5f3a272142bad970d66\n'}]",2,779067,ab49427c9ec9a1b8d515e696edd6e862628ff5e4,5,2,1,11090,,,0,"Do not configure epel registry

In order to run tests on Ubuntu or Fedora machines which are specified
in bindep.txt instead of CentOS8, ci scripts should get epel.repo from
RPM rather than install epel repository on developers machine.

Change-Id: I24f3e1954338e2edebc7c5f3a272142bad970d66
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/67/779067/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/playbooks/pre.yml'],1,ab49427c9ec9a1b8d515e696edd6e862628ff5e4,remove_epel_dependency," - name: Create /opt/yum.repos.d file: path: /opt/yum.repos.d state: directory mode: '0777' - name: Get epel rpm for CentOS-8 get_url: url: http://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm dest: ""{{ tripleo_validations_project_path }}"" - name: Get epel.repo shell: | rpm2cpio /home/sgolovat/Work/tripleo-validations/epel-release-latest-8.noarch.rpm | \ cpio -iv --to-stdout ./etc/yum.repos.d/epel.repo > /opt/yum.repos.d/epel.repo"," - name: Install epel-release package: name: epel-release state: present - name: Be sure to enable epel repo become: true command: >- dnf config-manager --set-enabled epel args: warn: false - name: Copy repos directory to opt workspace copy: src: /etc/yum.repos.d dest: /opt/ remote_src: true mode: ""0777""",13,16
openstack%2Fopenstack-ansible~master~I27a8550559e4c1cdb6d5d994422c97c9125800ef,openstack/openstack-ansible,master,I27a8550559e4c1cdb6d5d994422c97c9125800ef,Imported Translations from Zanata,MERGED,2021-05-17 07:43:09.000000000,2021-05-18 17:18:02.000000000,2021-05-18 17:14:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-17 07:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/834a91d83cdcb4da057fadda8c9dd940d5adaad3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I27a8550559e4c1cdb6d5d994422c97c9125800ef\n'}, {'number': 2, 'created': '2021-05-18 07:32:56.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/id/LC_MESSAGES/doc-reference.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po', 'doc/source/locale/de/LC_MESSAGES/doc-reference.po', 'doc/source/locale/ru/LC_MESSAGES/doc-user.po', 'doc/source/locale/de/LC_MESSAGES/doc-user.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e9c44181480b834b2c978e5ebe42f5fcba4431b5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I27a8550559e4c1cdb6d5d994422c97c9125800ef\n'}]",0,791674,e9c44181480b834b2c978e5ebe42f5fcba4431b5,10,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I27a8550559e4c1cdb6d5d994422c97c9125800ef
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/74/791674/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/id/LC_MESSAGES/doc-reference.po', 'doc/source/locale/de/LC_MESSAGES/doc-reference.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po', 'doc/source/locale/ru/LC_MESSAGES/doc-user.po', 'doc/source/locale/de/LC_MESSAGES/doc-user.po']",6,834a91d83cdcb4da057fadda8c9dd940d5adaad3,zanata/translations,"""Project-Id-Version: openstack-ansible 22.0.0.0rc2.dev201\n""""POT-Creation-Date: 2021-05-13 03:08+0000\n""","""Project-Id-Version: openstack-ansible 22.0.0.0rc2.dev36\n""""POT-Creation-Date: 2021-01-28 16:24+0000\n""msgid """" ""It is possible to also do this (and change other defaults) during the "" ""bootstrap script initial execution by changing the SCENARIO environment "" ""variable before running the script. The key word 'aio' will ensure that a "" ""basic set of OpenStack services (cinder, glance, horizon, neutron, nova) "" ""will be deployed. The key words 'lxc' and 'nspawn' can be used to set the "" ""container back-end, while the key word 'metal' will deploy all services "" ""without containers. In order to implement any other services, add the name "" ""of the conf.d file name without the `.yml.aio` extension into the SCENARIO "" ""environment variable. Each key word should be delimited by an underscore. "" ""For example, the following will implement an AIO with barbican, cinder, "" ""glance, horizon, neutron, and nova. It will set the cinder storage back-end "" ""to ceph and will make use of LXC as the container back-end."" msgstr """" ""Sie können dies auch während der ersten Ausführung des Bootstrap-Skripts tun "" ""(und andere Standardeinstellungen ändern), indem Sie die SCENARIO-"" ""Umgebungsvariable ändern, bevor Sie das Skript ausführen. Mit dem "" ""Schlüsselwort 'aio' wird sichergestellt, dass ein grundlegender Satz von "" ""OpenStack-Diensten (Cinder, Glance, Horizont, Neutron, Nova) bereitgestellt "" ""wird. Mit den Schlüsselwörtern 'lxc' und 'nspawn' kann das Container-Back-"" ""End festgelegt werden. Mit dem Schlüsselwort 'metal' werden alle Dienste "" ""ohne Container bereitgestellt. Um andere Dienste zu implementieren, fügen "" ""Sie den Namen der Datei \""conf.d\"" ohne die Erweiterung \"".yml.aio\"" in die "" ""Umgebungsvariable SCENARIO ein. Jedes Schlüsselwort sollte durch einen "" ""Unterstrich begrenzt werden. Im Folgenden wird beispielsweise ein AIO mit "" ""Barbican, Cinder, Glance, Horizont, Neutron und Nova implementiert. Das "" ""Cinder-Speicher-Back-End wird auf ceph gesetzt und LXC wird als Container-"" ""Back-End verwendet."" ",2980,209
openstack%2Fopenstack-ansible~master~If5df5a97470103c476427848718832508cbc7aeb,openstack/openstack-ansible,master,If5df5a97470103c476427848718832508cbc7aeb,Bump SHAs for master,MERGED,2021-05-09 18:12:06.000000000,2021-05-18 17:16:44.000000000,2021-05-18 17:14:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-09 18:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c8dab14fb3babbf31cd61b2df7b5ec1ad0d5c010', 'message': 'Bump SHAs for master\n\nChange-Id: If5df5a97470103c476427848718832508cbc7aeb\n'}, {'number': 2, 'created': '2021-05-13 16:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3d59413621041b67be9f9f2aae81cde40c7f467d', 'message': 'Bump SHAs for master\n\nChange-Id: If5df5a97470103c476427848718832508cbc7aeb\n'}, {'number': 3, 'created': '2021-05-13 20:05:40.000000000', 'files': ['releasenotes/notes/galera_upgrade_bug-88faad86f94d4f26.yaml', 'releasenotes/notes/add-encryption-support-79e8218926995864.yaml', 'releasenotes/notes/trove_service_subnet-011acf408754f6d9.yaml', 'releasenotes/notes/masakari_monitors_corosync-d61089311b03ade5.yaml', 'releasenotes/notes/horizon_websso_redirect-662cbf01b431efb1.yaml', 'releasenotes/notes/nova_dhcp_domain-6e1d4192fb6c7909.yaml', 'releasenotes/notes/trove_image_upload-c289c73cd2ddacfb.yaml', 'playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/tcp_retries-bf32bab6e50fa97a.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/nova_cell_templates-17775e06169ff926.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/lxc-image-local-build-c58b17050e343039.yaml', 'releasenotes/notes/zun_policy_overrides-bc4e5d658969f0c8.yaml', 'releasenotes/notes/trove_merge_config-f52eecb1e3501fd6.yaml', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'releasenotes/notes/nova_console_agent-399170af9ccfa258.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a28160283a06934df6df90f468513e2005a87b4a', 'message': 'Bump SHAs for master\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791107\nChange-Id: If5df5a97470103c476427848718832508cbc7aeb\n'}]",0,790357,a28160283a06934df6df90f468513e2005a87b4a,25,4,3,28619,,,0,"Bump SHAs for master

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791107
Change-Id: If5df5a97470103c476427848718832508cbc7aeb
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/57/790357/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/galera_upgrade_bug-88faad86f94d4f26.yaml', 'releasenotes/notes/add-encryption-support-79e8218926995864.yaml', 'releasenotes/notes/trove_service_subnet-011acf408754f6d9.yaml', 'releasenotes/notes/masakari_monitors_corosync-d61089311b03ade5.yaml', 'releasenotes/notes/horizon_websso_redirect-662cbf01b431efb1.yaml', 'releasenotes/notes/nova_dhcp_domain-6e1d4192fb6c7909.yaml', 'releasenotes/notes/trove_image_upload-c289c73cd2ddacfb.yaml', 'playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/tcp_retries-bf32bab6e50fa97a.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/nova_cell_templates-17775e06169ff926.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/lxc-image-local-build-c58b17050e343039.yaml', 'releasenotes/notes/zun_policy_overrides-bc4e5d658969f0c8.yaml', 'releasenotes/notes/trove_merge_config-f52eecb1e3501fd6.yaml', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'releasenotes/notes/nova_console_agent-399170af9ccfa258.yaml']",17,c8dab14fb3babbf31cd61b2df7b5ec1ad0d5c010,bump_osa,"--- deprecations: - | Variables ``nova_novncproxy_agent_enabled``, ``nova_serialconsoleproxy_enabled`` and ``nova_console_agent_enabled`` are removed and won't have any effect in the future. If you want to disable console functionality, set ``nova_console_type: disabled`` in your user_variables.yml fixes: - | Fixed behaviour of variable ``nova_spice_console_agent_enabled``. It can be safely used now to disable spice agent when needed. ",,239,60
openstack%2Freleases~master~I94501fe100a844df0fcf0119e4062abc0117a4b7,openstack/releases,master,I94501fe100a844df0fcf0119e4062abc0117a4b7,Release Sushy 3.8.0 for Xena,MERGED,2021-05-17 17:02:03.000000000,2021-05-18 17:14:38.000000000,2021-05-18 17:14:38.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-17 17:02:03.000000000', 'files': ['deliverables/xena/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5fb7c3915486ae425126d0e3779789fd8ec9cc26', 'message': 'Release Sushy 3.8.0 for Xena\n\nChange-Id: I94501fe100a844df0fcf0119e4062abc0117a4b7\n'}]",0,791804,5fb7c3915486ae425126d0e3779789fd8ec9cc26,9,6,1,15519,,,0,"Release Sushy 3.8.0 for Xena

Change-Id: I94501fe100a844df0fcf0119e4062abc0117a4b7
",git fetch https://review.opendev.org/openstack/releases refs/changes/04/791804/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/sushy.yaml'],1,5fb7c3915486ae425126d0e3779789fd8ec9cc26,sushy-xena,releases: - version: 3.8.0 projects: - repo: openstack/sushy hash: 6ae294b3e013a964bc22fe4e35681c09e57f15ee,,5,0
openstack%2Fopenstack-ansible-os_aodh~master~I88124396aba6d2b2432df7ca5c1a6e2d187b0fbd,openstack/openstack-ansible-os_aodh,master,I88124396aba6d2b2432df7ca5c1a6e2d187b0fbd,Add variables for rabbitmq ssl configuration,MERGED,2021-05-17 07:54:35.000000000,2021-05-18 17:11:39.000000000,2021-05-18 17:10:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-17 07:54:35.000000000', 'files': ['defaults/main.yml', 'templates/aodh.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/9337c335c02aca9af5c9563cfe2293221444c30a', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I88124396aba6d2b2432df7ca5c1a6e2d187b0fbd\n'}]",0,791676,9337c335c02aca9af5c9563cfe2293221444c30a,8,3,1,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: I88124396aba6d2b2432df7ca5c1a6e2d187b0fbd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/76/791676/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'templates/aodh.conf.j2']",2,9337c335c02aca9af5c9563cfe2293221444c30a,osa/pki,"transport_url = {{ aodh_oslomsg_rpc_transport }}://{% for host in aodh_oslomsg_rpc_servers.split(',') %}{{ aodh_oslomsg_rpc_userid }}:{{ aodh_oslomsg_rpc_password }}@{{ host }}:{{ aodh_oslomsg_rpc_port }}{% if not loop.last %},{% else %}/{{ aodh_oslomsg_rpc_vhost }}{% if aodh_oslomsg_rpc_use_ssl | bool %}?ssl=1&ssl_version={{ aodh_oslomsg_rpc_ssl_version }}&ssl_ca_file={{ aodh_oslomsg_rpc_ssl_ca_file }}{% else %}?ssl=0{% endif %}{% endif %}{% endfor %}transport_url = {{ aodh_oslomsg_notify_transport }}://{% for host in aodh_oslomsg_notify_servers.split(',') %}{{ aodh_oslomsg_notify_userid }}:{{ aodh_oslomsg_notify_password }}@{{ host }}:{{ aodh_oslomsg_notify_port }}{% if not loop.last %},{% else %}/{{ aodh_oslomsg_notify_vhost }}{% if aodh_oslomsg_notify_use_ssl | bool %}?ssl=1&ssl_version={{ aodh_oslomsg_notify_ssl_version }}&ssl_ca_file={{ aodh_oslomsg_notify_ssl_ca_file }}{% else %}?ssl=0{% endif %}{% endif %}{% endfor %}","transport_url = {{ aodh_oslomsg_rpc_transport }}://{% for host in aodh_oslomsg_rpc_servers.split(',') %}{{ aodh_oslomsg_rpc_userid }}:{{ aodh_oslomsg_rpc_password }}@{{ host }}:{{ aodh_oslomsg_rpc_port }}{% if not loop.last %},{% else %}/{{ aodh_oslomsg_rpc_vhost }}{% if aodh_oslomsg_rpc_use_ssl | bool %}?ssl=1{% else %}?ssl=0{% endif %}{% endif %}{% endfor %}transport_url = {{ aodh_oslomsg_notify_transport }}://{% for host in aodh_oslomsg_notify_servers.split(',') %}{{ aodh_oslomsg_notify_userid }}:{{ aodh_oslomsg_notify_password }}@{{ host }}:{{ aodh_oslomsg_notify_port }}{% if not loop.last %},{% else %}/{{ aodh_oslomsg_notify_vhost }}{% if aodh_oslomsg_notify_use_ssl | bool %}?ssl=1{% else %}?ssl=0{% endif %}{% endif %}{% endfor %}",6,2
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ib63813b63c37fa2cee57a211535d43d605131529,openstack/python-tripleoclient,stable/wallaby,Ib63813b63c37fa2cee57a211535d43d605131529,Wait for Heat message queues,MERGED,2021-05-18 00:44:10.000000000,2021-05-18 17:02:30.000000000,2021-05-18 17:01:10.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-18 00:44:10.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/heat_launcher.py', 'tripleoclient/exceptions.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/516b39d608381101ae390826c21d045c80881c49', 'message': 'Wait for Heat message queues\n\nAdds a wait before utils.launch_heat returns to ensure that the\nnecessary rabbitmq queues have been created. Without the wait, there is\na race condition between the queues being created and the first\nheatclient command being executed, which can lead to a\noslo_messaging.exceptions.MessagingTimeout exception.\n\nAlso fixes a minor issue in the choices for the --heat-type option for\novercloud deploy. The choice should be ""installed"" and not ""system"".\n\nChange-Id: Ib63813b63c37fa2cee57a211535d43d605131529\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit a35f79839087689b85bbb48eb46448f1e29c1237)\n'}]",2,791856,516b39d608381101ae390826c21d045c80881c49,9,4,1,7144,,,0,"Wait for Heat message queues

Adds a wait before utils.launch_heat returns to ensure that the
necessary rabbitmq queues have been created. Without the wait, there is
a race condition between the queues being created and the first
heatclient command being executed, which can lead to a
oslo_messaging.exceptions.MessagingTimeout exception.

Also fixes a minor issue in the choices for the --heat-type option for
overcloud deploy. The choice should be ""installed"" and not ""system"".

Change-Id: Ib63813b63c37fa2cee57a211535d43d605131529
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit a35f79839087689b85bbb48eb46448f1e29c1237)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/56/791856/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/heat_launcher.py', 'tripleoclient/exceptions.py', 'tripleoclient/v1/overcloud_deploy.py']",4,516b39d608381101ae390826c21d045c80881c49,," choices=['installed', 'pod', 'container', 'native'],"," choices=['system', 'pod', 'container', 'native'],",23,1
openstack%2Freleases~master~Id38e29d6423f694a6a0f107212abb6a31cf04bc2,openstack/releases,master,Id38e29d6423f694a6a0f107212abb6a31cf04bc2,Make new release for tripleo repos stable/wallaby,MERGED,2021-05-18 13:05:47.000000000,2021-05-18 16:55:00.000000000,2021-05-18 16:55:00.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-18 13:05:47.000000000', 'files': ['deliverables/wallaby/tripleo-ansible.yaml', 'deliverables/wallaby/tripleo-image-elements.yaml', 'deliverables/wallaby/python-tripleoclient.yaml', 'deliverables/wallaby/tripleo-validations.yaml', 'deliverables/wallaby/tripleo-heat-templates.yaml', 'deliverables/wallaby/tripleo-puppet-elements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7d9e94c8055a0ba09c73569e43c69ca2a8a6c3cc', 'message': ""Make new release for tripleo repos stable/wallaby\n\nWe released stable/wallaby in [1] and now that CI is settled down\nand python-tripleoclient in particular is up to date let's make\na new release (tripleo-common was already released again with [2])\n\nBumping .minor for tripleoclient and .patch for everything else\n\n[1] https://review.opendev.org/c/openstack/releases/+/789558\n[2] https://review.opendev.org/c/openstack/releases/+/790373\n\nChange-Id: Id38e29d6423f694a6a0f107212abb6a31cf04bc2\n""}]",6,791959,7d9e94c8055a0ba09c73569e43c69ca2a8a6c3cc,9,8,1,8449,,,0,"Make new release for tripleo repos stable/wallaby

We released stable/wallaby in [1] and now that CI is settled down
and python-tripleoclient in particular is up to date let's make
a new release (tripleo-common was already released again with [2])

Bumping .minor for tripleoclient and .patch for everything else

[1] https://review.opendev.org/c/openstack/releases/+/789558
[2] https://review.opendev.org/c/openstack/releases/+/790373

Change-Id: Id38e29d6423f694a6a0f107212abb6a31cf04bc2
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/791959/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/tripleo-ansible.yaml', 'deliverables/wallaby/tripleo-image-elements.yaml', 'deliverables/wallaby/python-tripleoclient.yaml', 'deliverables/wallaby/tripleo-validations.yaml', 'deliverables/wallaby/tripleo-heat-templates.yaml', 'deliverables/wallaby/tripleo-puppet-elements.yaml']",6,7d9e94c8055a0ba09c73569e43c69ca2a8a6c3cc,wallaby_release_tripleo, - version: 14.1.1 projects: - repo: openstack/tripleo-puppet-elements hash: c53c2bd2df7865035fd0a53eb94a7e3f3c11cc82,,24,0
openstack%2Fovsdbapp~stable%2Fwallaby~Ib757f182a4c7fdf25ed9374963ac5210e4d35523,openstack/ovsdbapp,stable/wallaby,Ib757f182a4c7fdf25ed9374963ac5210e4d35523,Don't spam retries 100s of times a second,MERGED,2021-05-17 13:40:55.000000000,2021-05-18 16:46:54.000000000,2021-05-18 16:45:16.000000000,"[{'_account_id': 5756}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 13:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/fe7a4712d1cc401de99588f9033c84b308635b81', 'message': ""Don't spam retries 100s of times a second\n\nWe can get a TRY_AGAIN because the DB is down or because the\na command is doing an update that will never pass the verify()\ncondition. If this happens, we shouldn't send 100s of requests per\nsecond until we eventually time out or things come back up, so add\na simple exponential backoff with reasonable max retry sleep of 8s.\n\nCloses-Bug: #1907836\nChange-Id: Ib757f182a4c7fdf25ed9374963ac5210e4d35523\n""}, {'number': 2, 'created': '2021-05-17 17:01:43.000000000', 'files': ['ovsdbapp/backend/ovs_idl/transaction.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/66918f977ba5f3d55b4a1b797e784dc98867ec07', 'message': ""Don't spam retries 100s of times a second\n\nWe can get a TRY_AGAIN because the DB is down or because the\na command is doing an update that will never pass the verify()\ncondition. If this happens, we shouldn't send 100s of requests per\nsecond until we eventually time out or things come back up, so add\na simple exponential backoff with reasonable max retry sleep of 8s.\n\nCloses-Bug: #1907836\nChange-Id: Ib757f182a4c7fdf25ed9374963ac5210e4d35523\n(cherry picked form commit 6596164f51217cc7fabf302ce14ccc9d9beaff1f)\n""}]",0,791589,66918f977ba5f3d55b4a1b797e784dc98867ec07,12,3,2,11952,,,0,"Don't spam retries 100s of times a second

We can get a TRY_AGAIN because the DB is down or because the
a command is doing an update that will never pass the verify()
condition. If this happens, we shouldn't send 100s of requests per
second until we eventually time out or things come back up, so add
a simple exponential backoff with reasonable max retry sleep of 8s.

Closes-Bug: #1907836
Change-Id: Ib757f182a4c7fdf25ed9374963ac5210e4d35523
(cherry picked form commit 6596164f51217cc7fabf302ce14ccc9d9beaff1f)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/89/791589/2 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/backend/ovs_idl/transaction.py'],1,fe7a4712d1cc401de99588f9033c84b308635b81,bug/1907836-stable/wallaby,"MAX_SLEEP = 8 retries = 0 # In the event that there is an issue with the txn or the db # is down, don't spam new txns as fast as we can time.sleep(min(2 ** retries, self.time_remaining(), MAX_SLEEP)) retries += 1 retries = 0",,8,0
openstack%2Fdevstack~master~I731847bff87bfda23bab9fb65e52f8c8bf788e46,openstack/devstack,master,I731847bff87bfda23bab9fb65e52f8c8bf788e46,"Stacking works on f33, adding it to the list",ABANDONED,2021-03-15 15:20:05.000000000,2021-05-18 16:34:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-15 15:20:05.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/150208d0a069da9610f2462bb722471b0e05d406', 'message': 'Stacking works on f33, adding it to the list\n\nChange-Id: I731847bff87bfda23bab9fb65e52f8c8bf788e46\n'}]",0,780606,150208d0a069da9610f2462bb722471b0e05d406,5,1,1,5792,,,0,"Stacking works on f33, adding it to the list

Change-Id: I731847bff87bfda23bab9fb65e52f8c8bf788e46
",git fetch https://review.opendev.org/openstack/devstack refs/changes/06/780606/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,150208d0a069da9610f2462bb722471b0e05d406,,"SUPPORTED_DISTROS=""bionic|focal|f31|f32|f33|opensuse-15.2|opensuse-tumbleweed|rhel8""","SUPPORTED_DISTROS=""bionic|focal|f31|f32|opensuse-15.2|opensuse-tumbleweed|rhel8""",1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I595294956a4a7a0e2280c685ac1d2543edbc32f2,openstack/tripleo-heat-templates,stable/wallaby,I595294956a4a7a0e2280c685ac1d2543edbc32f2,Re-add NovaVncProxyNetwork to service_net_map.j2.yaml,MERGED,2021-05-18 09:10:50.000000000,2021-05-18 16:29:52.000000000,2021-05-18 16:29:52.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-05-18 09:10:50.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/326452e5851e8347b15b53c3d6b70e6f5225f3ea', 'message': 'Re-add NovaVncProxyNetwork to service_net_map.j2.yaml\n\nIcef2481b65b41b524ad44eeecfbee4451006e1d2 removed the NovaVncProxyNetwork\nfrom network/service_net_map.j2.yaml, but due to how hieradata is\nbeing rendered via tripleo-hieradata, the hieradata for the no-vnc-proxy\nservice falls back to the control plane network.\n\nChange-Id: I595294956a4a7a0e2280c685ac1d2543edbc32f2\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1960401\n(cherry picked from commit 36648cf7f041e8a0e5cc8070c1b96b57472c96a8)\n'}]",0,791789,326452e5851e8347b15b53c3d6b70e6f5225f3ea,7,7,1,17216,,,0,"Re-add NovaVncProxyNetwork to service_net_map.j2.yaml

Icef2481b65b41b524ad44eeecfbee4451006e1d2 removed the NovaVncProxyNetwork
from network/service_net_map.j2.yaml, but due to how hieradata is
being rendered via tripleo-hieradata, the hieradata for the no-vnc-proxy
service falls back to the control plane network.

Change-Id: I595294956a4a7a0e2280c685ac1d2543edbc32f2
Related-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1960401
(cherry picked from commit 36648cf7f041e8a0e5cc8070c1b96b57472c96a8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/791789/1 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,326452e5851e8347b15b53c3d6b70e6f5225f3ea,1960401-stable/wallaby," NovaVncProxyNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }}",,1,0
openstack%2Fopenstack-ansible-os_blazar~master~I4ca1b85b67a6f6fd4f951c1cb3c256ec959e7ee4,openstack/openstack-ansible-os_blazar,master,I4ca1b85b67a6f6fd4f951c1cb3c256ec959e7ee4,Add variables for rabbitmq ssl configuration,MERGED,2021-05-17 07:56:05.000000000,2021-05-18 16:24:44.000000000,2021-05-18 16:23:30.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-17 07:56:05.000000000', 'files': ['templates/blazar.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/30c2316e6c2f69ffad8f0e18907c52750d61f4b4', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I4ca1b85b67a6f6fd4f951c1cb3c256ec959e7ee4\n'}]",0,791678,30c2316e6c2f69ffad8f0e18907c52750d61f4b4,8,3,1,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: I4ca1b85b67a6f6fd4f951c1cb3c256ec959e7ee4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/78/791678/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/blazar.conf.j2', 'defaults/main.yml']",2,30c2316e6c2f69ffad8f0e18907c52750d61f4b4,osa/pki,"blazar_oslomsg_rpc_ssl_version: ""{{ oslomsg_rpc_ssl_version | default('TLSv1_2') }}"" blazar_oslomsg_rpc_ssl_ca_file: ""{{ oslomsg_rpc_ssl_ca_file | default('') }}""blazar_oslomsg_notify_ssl_version: ""{{ oslomsg_notify_ssl_version | default('TLSv1_2') }}"" blazar_oslomsg_notify_ssl_ca_file: ""{{ oslomsg_notify_ssl_ca_file | default('') }}""",,6,2
openstack%2Fos-ken~master~Ica52306c9c2ca2d64161b09317735ed740bd4d32,openstack/os-ken,master,Ica52306c9c2ca2d64161b09317735ed740bd4d32,pdf-docs: use UPPER_CONSTRAINTS_FILE for doc build,MERGED,2021-05-17 08:18:03.000000000,2021-05-18 16:21:11.000000000,2021-05-18 16:20:01.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 08:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/97094b29c0e3ad613086ab0b9cb17bbb4a4a6966', 'message': 'WIP: Check gate jobs\n\nChange-Id: Ica52306c9c2ca2d64161b09317735ed740bd4d32\n'}, {'number': 2, 'created': '2021-05-18 07:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/7b4734c0e2ecfee0388ef81df9020e0949ff0a5a', 'message': 'WIP: Check gate jobs\n\nChange-Id: Ica52306c9c2ca2d64161b09317735ed740bd4d32\n'}, {'number': 3, 'created': '2021-05-18 09:37:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/5312d23b43fad743af6f6b159a0004b85927ed77', 'message': 'pdf-docs: use UPPER_CONSTRAINTS_FILE for doc build\n\nUPPER_CONSTRAINTS_FILE was not used for testenv:docs, and a recent\nsphinx release seems to break pdf doc build, to avoid it use upper\nconstraints in tox.ini\n\nChange-Id: Ica52306c9c2ca2d64161b09317735ed740bd4d32\n'}]",0,791682,5312d23b43fad743af6f6b159a0004b85927ed77,14,5,3,8313,,,0,"pdf-docs: use UPPER_CONSTRAINTS_FILE for doc build

UPPER_CONSTRAINTS_FILE was not used for testenv:docs, and a recent
sphinx release seems to break pdf doc build, to avoid it use upper
constraints in tox.ini

Change-Id: Ica52306c9c2ca2d64161b09317735ed740bd4d32
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/82/791682/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_ken/flags.py', 'doc/source/writing_os_ken_app.rst']",2,97094b29c0e3ad613086ab0b9cb17bbb4a4a6966,wip,Foo. ,,3,0
openstack%2Fopenstack-ansible-os_cloudkitty~master~If8362185261aefa741f9c21c57b3dfe258d8543d,openstack/openstack-ansible-os_cloudkitty,master,If8362185261aefa741f9c21c57b3dfe258d8543d,Add variables for rabbitmq ssl configuration,MERGED,2021-05-17 09:24:46.000000000,2021-05-18 16:19:20.000000000,2021-05-18 16:18:06.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-17 09:24:46.000000000', 'files': ['templates/cloudkitty.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/68e8d15cd5460a85d7495b6dcfa76020ddac7bb4', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: If8362185261aefa741f9c21c57b3dfe258d8543d\n'}]",0,791701,68e8d15cd5460a85d7495b6dcfa76020ddac7bb4,9,3,1,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: If8362185261aefa741f9c21c57b3dfe258d8543d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/01/791701/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/cloudkitty.conf.j2', 'defaults/main.yml']",2,68e8d15cd5460a85d7495b6dcfa76020ddac7bb4,osa/pki,"cloudkitty_oslomsg_rpc_ssl_version: ""{{ oslomsg_rpc_ssl_version | default('TLSv1_2') }}"" cloudkitty_oslomsg_rpc_ssl_ca_file: ""{{ oslomsg_rpc_ssl_ca_file | default('') }}""cloudkitty_oslomsg_notify_ssl_version: ""{{ oslomsg_notify_ssl_version | default('TLSv1_2') }}"" cloudkitty_oslomsg_notify_ssl_ca_file: ""{{ oslomsg_notify_ssl_ca_file | default('') }}""",,6,2
openstack%2Fopenstack-ansible-os_barbican~master~I69b5d844e5fd20bc8078910f27999f4ece66f47f,openstack/openstack-ansible-os_barbican,master,I69b5d844e5fd20bc8078910f27999f4ece66f47f,Add variables for rabbitmq ssl configuration,MERGED,2021-05-17 07:55:26.000000000,2021-05-18 16:14:14.000000000,2021-05-18 16:12:46.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-17 07:55:26.000000000', 'files': ['templates/barbican.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/55595fa93eab3b89e84ebf8592ed1216e065aa5d', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I69b5d844e5fd20bc8078910f27999f4ece66f47f\n'}]",0,791677,55595fa93eab3b89e84ebf8592ed1216e065aa5d,8,3,1,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: I69b5d844e5fd20bc8078910f27999f4ece66f47f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/77/791677/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/barbican.conf.j2', 'defaults/main.yml']",2,55595fa93eab3b89e84ebf8592ed1216e065aa5d,osa/pki,"barbican_oslomsg_rpc_ssl_version: ""{{ oslomsg_rpc_ssl_version | default('TLSv1_2') }}"" barbican_oslomsg_rpc_ssl_ca_file: ""{{ oslomsg_rpc_ssl_ca_file | default('') }}""barbican_oslomsg_notify_ssl_version: ""{{ oslomsg_notify_ssl_version | default('TLSv1_2') }}"" barbican_oslomsg_notify_ssl_ca_file: ""{{ oslomsg_notify_ssl_ca_file | default('') }}""",,6,2
openstack%2Fopenstack-ansible-galera_server~master~I46f9d73ac27928edf4236fd797afde6e5ea9427e,openstack/openstack-ansible-galera_server,master,I46f9d73ac27928edf4236fd797afde6e5ea9427e,Add support for Debian Bullseye,MERGED,2021-05-13 16:06:14.000000000,2021-05-18 16:08:49.000000000,2021-05-18 16:07:42.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-13 16:06:14.000000000', 'files': ['vars/debian-11.yml', 'tasks/galera_install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/c2e17ae47f451bb2c4f62bab690ea5f2dbbc1f2d', 'message': 'Add support for Debian Bullseye\n\nThere is no offical MariaDB build for bullseye so we must use\nthe version from the operating system repo.\n\nChange-Id: I46f9d73ac27928edf4236fd797afde6e5ea9427e\n'}]",0,791280,c2e17ae47f451bb2c4f62bab690ea5f2dbbc1f2d,9,3,1,25023,,,0,"Add support for Debian Bullseye

There is no offical MariaDB build for bullseye so we must use
the version from the operating system repo.

Change-Id: I46f9d73ac27928edf4236fd797afde6e5ea9427e
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/80/791280/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian-11.yml', 'tasks/galera_install_apt.yml']",2,c2e17ae47f451bb2c4f62bab690ea5f2dbbc1f2d,osa/bullseye, when: galera_repo.repo is defined when: galera_repo.repo is defined,,87,0
openstack%2Fneutron~master~Ied3442289864656654d3745d3ea7841a5aae713c,openstack/neutron,master,Ied3442289864656654d3745d3ea7841a5aae713c,"Remove call to ""fixup_ubuntu""",MERGED,2021-05-18 14:15:14.000000000,2021-05-18 16:07:06.000000000,2021-05-18 16:05:12.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 14:15:14.000000000', 'files': ['tools/configure_for_func_testing.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a4074918c248adf84b0afa404d30c18710da4b2', 'message': 'Remove call to ""fixup_ubuntu""\n\nSince [1] this method is not in Devstack repository. Bionic is no\nlonger supported.\n\n[1]https://review.opendev.org/c/openstack/devstack/+/788754\n\nChange-Id: Ied3442289864656654d3745d3ea7841a5aae713c\nCloses-Bug: #1928805\n'}]",0,791983,2a4074918c248adf84b0afa404d30c18710da4b2,13,6,1,16688,,,0,"Remove call to ""fixup_ubuntu""

Since [1] this method is not in Devstack repository. Bionic is no
longer supported.

[1]https://review.opendev.org/c/openstack/devstack/+/788754

Change-Id: Ied3442289864656654d3745d3ea7841a5aae713c
Closes-Bug: #1928805
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/791983/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/configure_for_func_testing.sh'],1,2a4074918c248adf84b0afa404d30c18710da4b2,bug/1928805,, fixup_ubuntu,0,1
openstack%2Fneutron~stable%2Fstein~Ib1a95dd41d25f39f3378a6728d752a6589b9b61c,openstack/neutron,stable/stein,Ib1a95dd41d25f39f3378a6728d752a6589b9b61c,Fix incorrect exception catch when update floating ip port forwarding,MERGED,2021-02-09 05:17:13.000000000,2021-05-18 16:06:40.000000000,2021-05-18 16:05:04.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-09 05:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6fa5dd044403af4dfff4bbcfed4e0c6f185b6a3', 'message': 'Fix incorrect exception catch when update floating ip port forwarding\n\nCloses-Bug: #1912596\nChange-Id: Ib1a95dd41d25f39f3378a6728d752a6589b9b61c\n(cherry picked from commit e9e4395d578e40bb59272b409c7ca3617ec1e6e3)\n'}, {'number': 2, 'created': '2021-05-13 06:22:58.000000000', 'files': ['neutron/tests/unit/extensions/test_floating_ip_port_forwarding.py', 'neutron/services/portforwarding/pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b536fc0159ec107622eb3c855d555e32cd655aa4', 'message': 'Fix incorrect exception catch when update floating ip port forwarding\n\nCloses-Bug: #1912596\nChange-Id: Ib1a95dd41d25f39f3378a6728d752a6589b9b61c\n(cherry picked from commit e9e4395d578e40bb59272b409c7ca3617ec1e6e3)\n'}]",0,774489,b536fc0159ec107622eb3c855d555e32cd655aa4,15,4,2,28329,,,0,"Fix incorrect exception catch when update floating ip port forwarding

Closes-Bug: #1912596
Change-Id: Ib1a95dd41d25f39f3378a6728d752a6589b9b61c
(cherry picked from commit e9e4395d578e40bb59272b409c7ca3617ec1e6e3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/774489/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/extensions/test_floating_ip_port_forwarding.py', 'neutron/services/portforwarding/pf_plugin.py']",2,f6fa5dd044403af4dfff4bbcfed4e0c6f185b6a3,bug/1912596-stable/train-stable/stein,from oslo_db import exception as oslo_db_exc except oslo_db_exc.DBDuplicateEntry:, except obj_exc.NeutronDbObjectDuplicateEntry:,91,1
openstack%2Fopenstack-ansible-openstack_hosts~master~Icc8c75a24bbdbf3a9687c02156ffae777316f2eb,openstack/openstack-ansible-openstack_hosts,master,Icc8c75a24bbdbf3a9687c02156ffae777316f2eb,Only install python3 virtualenv package,MERGED,2021-05-13 13:59:42.000000000,2021-05-18 16:03:58.000000000,2021-05-18 16:02:36.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-13 13:59:42.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/41c238359220edd5b4716304de08a488c327c27f', 'message': 'Only install python3 virtualenv package\n\nChange-Id: Icc8c75a24bbdbf3a9687c02156ffae777316f2eb\n'}]",0,791242,41c238359220edd5b4716304de08a488c327c27f,9,3,1,25023,,,0,"Only install python3 virtualenv package

Change-Id: Icc8c75a24bbdbf3a9687c02156ffae777316f2eb
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/42/791242/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,41c238359220edd5b4716304de08a488c327c27f,osa/bullseye,, - python-virtualenv,0,1
openstack%2Freleases~master~I8100c4632d7006755d23c04e933b3db451304025,openstack/releases,master,I8100c4632d7006755d23c04e933b3db451304025,[OpenStackSDK] Transition Train to EM,MERGED,2021-05-11 15:15:23.000000000,2021-05-18 15:48:34.000000000,2021-05-18 15:48:34.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:15:23.000000000', 'files': ['deliverables/train/shade.yaml', 'deliverables/train/osc-lib.yaml', 'deliverables/train/cliff.yaml', 'deliverables/train/os-client-config.yaml', 'deliverables/train/python-openstackclient.yaml', 'deliverables/train/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/09eb9bd881cab269d5a05d6b07a4d32d488f4829', 'message': '[OpenStackSDK] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I8100c4632d7006755d23c04e933b3db451304025\n'}]",4,790764,09eb9bd881cab269d5a05d6b07a4d32d488f4829,12,4,1,17685,,,0,"[OpenStackSDK] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I8100c4632d7006755d23c04e933b3db451304025
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/790764/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/shade.yaml', 'deliverables/train/osc-lib.yaml', 'deliverables/train/cliff.yaml', 'deliverables/train/os-client-config.yaml', 'deliverables/train/openstacksdk.yaml', 'deliverables/train/python-openstackclient.yaml']",6,09eb9bd881cab269d5a05d6b07a4d32d488f4829,train-em, - version: train-em projects: - repo: openstack/python-openstackclient hash: 54bf2c054d7b8287de5cb20dfbf03af0383c29c9,,24,0
openstack%2Fmanila-tempest-plugin~master~I65d86cbfc9a0118d6e0d56d1f90a726f115ff2ec,openstack/manila-tempest-plugin,master,I65d86cbfc9a0118d6e0d56d1f90a726f115ff2ec,WIP - tempest minimal with container,ABANDONED,2020-05-08 00:54:45.000000000,2021-05-18 15:34:13.000000000,,"[{'_account_id': 10459}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-08 00:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/75382b3cec11128483cfdc85c0b49e1fcca4e6a0', 'message': 'WIP - tempest minimal with container\n\nChange-Id: I65d86cbfc9a0118d6e0d56d1f90a726f115ff2ec\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-07-16 17:49:11.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/manila-tempest-jobs-debug.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/dcadc902d93babf5cb68c5a47b2116647e4abf97', 'message': 'WIP - tempest minimal with container\n\nRelated-Bug: #1887835\nChange-Id: I65d86cbfc9a0118d6e0d56d1f90a726f115ff2ec\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,726270,dcadc902d93babf5cb68c5a47b2116647e4abf97,8,4,2,16643,,,0,"WIP - tempest minimal with container

Related-Bug: #1887835
Change-Id: I65d86cbfc9a0118d6e0d56d1f90a726f115ff2ec
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/70/726270/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/manila-tempest-jobs.yaml']",2,75382b3cec11128483cfdc85c0b49e1fcca4e6a0,bug/1887835, devstack_services: mysql: false postgresql: true # Glance services g-api: false # Nova services n-api: false n-api-meta: false n-cond: false n-cpu: false n-novnc: false n-sch: false placement-api: false, devstack_services: mysql: false postgresql: true,14,39
openstack%2Fmanila-tempest-plugin~master~I9f7997ad4f82877998d647c01940e37532dc16e2,openstack/manila-tempest-plugin,master,I9f7997ad4f82877998d647c01940e37532dc16e2,[ci] Add job variants for stable branches,ABANDONED,2020-11-18 23:39:07.000000000,2021-05-18 15:32:37.000000000,,"[{'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30407}]","[{'number': 1, 'created': '2020-11-18 23:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/dda57683ec2c3c46576dfa746025ff98fb5819a6', 'message': '[ci] Add job variants for stable/victoria\n\nChange-Id: I9f7997ad4f82877998d647c01940e37532dc16e2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-05-17 18:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/024f004256bd04d497b0de69d628f6e0f9893c13', 'message': '[ci] Add job variants for stable/victoria\n\nChange-Id: I9f7997ad4f82877998d647c01940e37532dc16e2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2021-05-17 19:18:52.000000000', 'files': ['zuul.d/manila-tempest-stable-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f74b7f131a81792fd375a4402c194d097912f944', 'message': '[ci] Add job variants for stable branches\n\nWe need different configuration options\nfor stable branch jobs.\n\nChange-Id: I9f7997ad4f82877998d647c01940e37532dc16e2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",2,763282,f74b7f131a81792fd375a4402c194d097912f944,16,6,3,16643,,,0,"[ci] Add job variants for stable branches

We need different configuration options
for stable branch jobs.

Change-Id: I9f7997ad4f82877998d647c01940e37532dc16e2
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/82/763282/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/manila-tempest-stable-jobs.yaml'],1,dda57683ec2c3c46576dfa746025ff98fb5819a6,stable-branches,# Job variants to older branches - job: name: manila-tempest-plugin-base branches: ^(?=stable/victoria).*$ vars: devstack_local_conf: test-config: $TEMPEST_CONFIG: share: max_api_microversion: '2.57' - job: name: manila-tempest-plugin-ipv6-base branches: ^(?=stable/victoria).*$ vars: devstack_local_conf: test-config: $TEMPEST_CONFIG: share: max_api_microversion: '2.57' ,,20,0
openstack%2Fironic-python-agent~master~I6e3db5db2042ca3fb5dafacfacf036fd7fc2fc4c,openstack/ironic-python-agent,master,I6e3db5db2042ca3fb5dafacfacf036fd7fc2fc4c,Do not serialize command_params,MERGED,2021-05-17 16:03:42.000000000,2021-05-18 15:00:36.000000000,2021-05-18 14:58:42.000000000,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-17 16:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ae0f5713f07b95a80d116b3767f9df05e315b9be', 'message': 'Do not serialize command_params\n\nThe command params can be huge when configdrive is used. There is no\npoint in sending them back, Ironic does not use them anyhow.\n\nChange-Id: I6e3db5db2042ca3fb5dafacfacf036fd7fc2fc4c\n'}, {'number': 2, 'created': '2021-05-18 10:59:47.000000000', 'files': ['ironic_python_agent/extensions/base.py', 'ironic_python_agent/tests/unit/test_agent.py', 'releasenotes/notes/command_params-869fa547b5be2236.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/51aa31070af9936ca6afa41678344cc4368359ef', 'message': 'Do not serialize command_params\n\nThe command params can be huge when configdrive is used. There is no\npoint in sending them back, Ironic does not use them anyhow.\n\nStory: #2008904\nTask: #42479\nChange-Id: I6e3db5db2042ca3fb5dafacfacf036fd7fc2fc4c\n'}]",1,791798,51aa31070af9936ca6afa41678344cc4368359ef,15,5,2,10239,,,0,"Do not serialize command_params

The command params can be huge when configdrive is used. There is no
point in sending them back, Ironic does not use them anyhow.

Story: #2008904
Task: #42479
Change-Id: I6e3db5db2042ca3fb5dafacfacf036fd7fc2fc4c
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/98/791798/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/extensions/base.py', 'ironic_python_agent/tests/unit/test_agent.py', 'releasenotes/notes/command_params-869fa547b5be2236.yaml']",3,ae0f5713f07b95a80d116b3767f9df05e315b9be,command_params,--- fixes: - | The command params no longer appear in the command results. ,,5,7
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I9cbdcf289bae96f8ea7867e1cec365a9a07019ca,openstack/tripleo-heat-templates,stable/ussuri,I9cbdcf289bae96f8ea7867e1cec365a9a07019ca,Don't assume role has default_route_networks/tags,MERGED,2021-05-14 05:05:37.000000000,2021-05-18 14:53:06.000000000,2021-05-18 14:53:06.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-14 05:05:37.000000000', 'files': ['network/config/single-nic-linux-bridge-vlans/role.role.j2.yaml', 'overcloud.j2.yaml', 'common/deploy-steps.j2', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'puppet/role.role.j2.yaml', 'network/config/single-nic-vlans/role.role.j2.yaml', 'network/config/multiple-nics-vlans/role.role.j2.yaml', 'environments/network-isolation-v6-all.j2.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'network/config/bond-with-vlans/role.role.j2.yaml', 'network/config/multiple-nics/role.role.j2.yaml', 'network/config/2-linux-bonds-vlans/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9bbd4fe553cc53f36a670a4f16badf2480526c01', 'message': ""Don't assume role has default_route_networks/tags\n\nThis broken after new jinja release.\n\nNOTE: This included nic config updates as well.\nAnd changes for role.tags.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCloses-Bug: #1928145\nChange-Id: I9cbdcf289bae96f8ea7867e1cec365a9a07019ca\n(cherry picked from commit 4af0c6ccac891fceff68a92e05c1734e27fbc1e0)\n""}]",0,791357,9bbd4fe553cc53f36a670a4f16badf2480526c01,19,5,1,8833,,,0,"Don't assume role has default_route_networks/tags

This broken after new jinja release.

NOTE: This included nic config updates as well.
And changes for role.tags.

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Closes-Bug: #1928145
Change-Id: I9cbdcf289bae96f8ea7867e1cec365a9a07019ca
(cherry picked from commit 4af0c6ccac891fceff68a92e05c1734e27fbc1e0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/791357/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/config/single-nic-linux-bridge-vlans/role.role.j2.yaml', 'overcloud.j2.yaml', 'common/deploy-steps.j2', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'puppet/role.role.j2.yaml', 'network/config/single-nic-vlans/role.role.j2.yaml', 'network/config/multiple-nics-vlans/role.role.j2.yaml', 'environments/network-isolation-v6-all.j2.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'network/config/bond-with-vlans/role.role.j2.yaml', 'network/config/multiple-nics/role.role.j2.yaml', 'network/config/2-linux-bonds-vlans/role.role.j2.yaml']",12,9bbd4fe553cc53f36a670a4f16badf2480526c01,,{%- if role.default_route_networks is defined and network.name in role.default_route_networks %} {%- if role.default_route_networks is defined and network.name in role.default_route_networks %} {%- if role.default_route_networks is defined and network.name in role.default_route_networks %} {%- if role.default_route_networks is defined and network.name in role.default_route_networks %},{%- if network.name in role.default_route_networks %} {%- if network.name in role.default_route_networks %} {%- if network.name in role.default_route_networks %} {%- if network.name in role.default_route_networks %},32,28
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8acd10b2d5624066af3a9426081f9a0679890b3e,openstack/tripleo-heat-templates,stable/train,I8acd10b2d5624066af3a9426081f9a0679890b3e,Removing duplicate mount point in metrics_qdr,MERGED,2021-04-16 18:25:07.000000000,2021-05-18 14:52:35.000000000,2021-05-18 14:52:35.000000000,"[{'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-16 18:25:07.000000000', 'files': ['deployment/metrics/qdr-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3bbc8af5bdf2e788527879de6e88e15c368a6f2b', 'message': 'Removing duplicate mount point in metrics_qdr\n\nThe metrics_qdr container fails to start when tls-everywhere is enabled\ndue to a duplicate mount point for /etc/ipa/ca.crt already configured in\ncontainers-common[1]\n\n[1] https://review.opendev.org/plugins/gitiles/openstack/tripleo-heat-templates/+/refs/heads/master/deployment/containers-common.yaml#146\n\nChange-Id: I8acd10b2d5624066af3a9426081f9a0679890b3e\nResolves: rhbz#1947116\n'}]",0,786700,3bbc8af5bdf2e788527879de6e88e15c368a6f2b,12,7,1,30893,,,0,"Removing duplicate mount point in metrics_qdr

The metrics_qdr container fails to start when tls-everywhere is enabled
due to a duplicate mount point for /etc/ipa/ca.crt already configured in
containers-common[1]

[1] https://review.opendev.org/plugins/gitiles/openstack/tripleo-heat-templates/+/refs/heads/master/deployment/containers-common.yaml#146

Change-Id: I8acd10b2d5624066af3a9426081f9a0679890b3e
Resolves: rhbz#1947116
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/786700/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/qdr-container-puppet.yaml'],1,3bbc8af5bdf2e788527879de6e88e15c368a6f2b,,, - list_join: - ':' - - {get_param: InternalTLSCAFile} - {get_param: InternalTLSCAFile} - 'ro',0,5
openstack%2Fironic~master~Id0ac363205cf22b828dac8a8a938aaa6ff36bd13,openstack/ironic,master,Id0ac363205cf22b828dac8a8a938aaa6ff36bd13,Make configdrive in instance_info even if it's a dict,ABANDONED,2021-05-18 14:33:47.000000000,2021-05-18 14:37:45.000000000,,[],"[{'number': 1, 'created': '2021-05-18 14:33:47.000000000', 'files': ['ironic/objects/node.py', 'ironic/tests/unit/objects/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7fb1fdf0b4621482b52ab0fffa34b6c91ff60250', 'message': ""Make configdrive in instance_info even if it's a dict\n\nThe current procedure does not mask dict fields. In the future it will\nbe possible to store configdrive as a dict, we need to fix it.\n\nNo release note since there is no visible effect yet.\n\nChange-Id: Id0ac363205cf22b828dac8a8a938aaa6ff36bd13\n""}]",0,791987,7fb1fdf0b4621482b52ab0fffa34b6c91ff60250,2,0,1,10239,,,0,"Make configdrive in instance_info even if it's a dict

The current procedure does not mask dict fields. In the future it will
be possible to store configdrive as a dict, we need to fix it.

No release note since there is no visible effect yet.

Change-Id: Id0ac363205cf22b828dac8a8a938aaa6ff36bd13
",git fetch https://review.opendev.org/openstack/ironic refs/changes/87/791987/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/objects/node.py', 'ironic/tests/unit/objects/test_node.py']",2,7fb1fdf0b4621482b52ab0fffa34b6c91ff60250,mask-configdrive," def test_as_dict_secure_configdrive_as_dict(self): self.node.driver_info['ipmi_password'] = 'fake' self.node.instance_info['configdrive'] = {'user_data': 'data'} self.node.driver_internal_info['agent_secret_token'] = 'abc' d = self.node.as_dict(secure=True) self.assertEqual('******', d['driver_info']['ipmi_password']) self.assertEqual('******', d['instance_info']['configdrive']) self.assertEqual('******', d['driver_internal_info']['agent_secret_token']) # Ensure the node can be serialised. jsonutils.dumps(d) def test_as_dict_secure_with_configdrive_as_dict(self): self.node.driver_info['ipmi_password'] = 'fake' self.node.instance_info['configdrive'] = {'user_data': 'data'} self.node.driver_internal_info['agent_secret_token'] = 'abc' d = self.node.as_dict(secure=True, mask_configdrive=False) self.assertEqual('******', d['driver_info']['ipmi_password']) self.assertEqual({'user_data': 'data'}, d['instance_info']['configdrive']) self.assertEqual('******', d['driver_internal_info']['agent_secret_token']) # Ensure the node can be serialised. jsonutils.dumps(d) ",,30,4
openstack%2Fopenstack-ansible-os_masakari~master~I4f19472f3552a07d97c7cd4219c020bbfbc82137,openstack/openstack-ansible-os_masakari,master,I4f19472f3552a07d97c7cd4219c020bbfbc82137,Add variables for rabbitmq ssl configuration,MERGED,2021-05-17 11:24:10.000000000,2021-05-18 14:32:06.000000000,2021-05-18 14:31:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-17 11:24:10.000000000', 'files': ['templates/masakari.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/db3d249f8b4ef598188cb609c0a9447f7d9c9fcc', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I4f19472f3552a07d97c7cd4219c020bbfbc82137\n'}]",0,791723,db3d249f8b4ef598188cb609c0a9447f7d9c9fcc,9,3,1,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: I4f19472f3552a07d97c7cd4219c020bbfbc82137
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/23/791723/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/masakari.conf.j2', 'defaults/main.yml']",2,db3d249f8b4ef598188cb609c0a9447f7d9c9fcc,osa/pki,"masakari_oslomsg_rpc_ssl_version: ""{{ oslomsg_rpc_ssl_version | default('TLSv1_2') }}"" masakari_oslomsg_rpc_ssl_ca_file: ""{{ oslomsg_rpc_ssl_ca_file | default('') }}""masakari_oslomsg_notify_ssl_version: ""{{ oslomsg_notify_ssl_version | default('TLSv1_2') }}"" masakari_oslomsg_notify_ssl_ca_file: ""{{ oslomsg_notify_ssl_ca_file | default('') }}""",,6,2
openstack%2Fopenstack-ansible-os_magnum~master~I84a8cbf8f1bbfa40fbf107f346c4564905244ecd,openstack/openstack-ansible-os_magnum,master,I84a8cbf8f1bbfa40fbf107f346c4564905244ecd,Add variables for rabbitmq ssl configuration,MERGED,2021-05-17 10:50:27.000000000,2021-05-18 14:29:35.000000000,2021-05-18 14:28:22.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-17 10:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/08509f5c60f8d1517931a4d3cc859654232eb8f8', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I84a8cbf8f1bbfa40fbf107f346c4564905244ecd\n'}, {'number': 2, 'created': '2021-05-17 14:57:02.000000000', 'files': ['defaults/main.yml', 'templates/magnum.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/e5e064e0555c56169c346a16fca7efc87b64b194', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I84a8cbf8f1bbfa40fbf107f346c4564905244ecd\n'}]",0,791718,e5e064e0555c56169c346a16fca7efc87b64b194,13,3,2,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: I84a8cbf8f1bbfa40fbf107f346c4564905244ecd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/18/791718/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'templates/magnum.conf.j2']",2,08509f5c60f8d1517931a4d3cc859654232eb8f8,osa/pki,"transport_url = {{ magnum_oslomsg_rpc_transport }}://{% for host in magnum_oslomsg_rpc_servers.split(',') %}{{ magnum_oslomsg_rpc_userid }}:{{ magnum_oslomsg_rpc_password }}@{{ host }}:{{ magnum_oslomsg_rpc_port }}{% if not loop.last %},{% else %}/{{ magnum_oslomsg_rpc_vhost }}{% if magnum_oslomsg_rpc_use_ssl | bool %}?ssl=1&ssl_version={{ magnum_oslomsg_rpc_ssl_version }}&ssl_ca_file={{ magnum_oslomsg_rpc_ssl_ca_file }}{% else %}?ssl=0{% endif %}% endif %}{% endfor %}transport_url = {{ magnum_oslomsg_notify_transport }}://{% for host in magnum_oslomsg_notify_servers.split(',') %}{{ magnum_oslomsg_notify_userid }}:{{ magnum_oslomsg_notify_password }}@{{ host }}:{{ magnum_oslomsg_notify_port }}{% if not loop.last %},{% else %}/{{ magnum_oslomsg_notify_vhost }}{% if magnum_oslomsg_notify_use_ssl | bool %}?ssl=1&ssl_version={{ magnum_oslomsg_notify_ssl_version }}&ssl_ca_file={{ magnum_oslomsg_notify_ssl_ca_file }}{% else %}?ssl=0{% endif %}{% endif %}{% endfor %}","transport_url = {{ magnum_oslomsg_rpc_transport }}://{% for host in magnum_oslomsg_rpc_servers.split(',') %}{{ magnum_oslomsg_rpc_userid }}:{{ magnum_oslomsg_rpc_password }}@{{ host }}:{{ magnum_oslomsg_rpc_port }}{% if not loop.last %},{% else %}/{{ magnum_oslomsg_rpc_vhost }}{% if magnum_oslomsg_rpc_use_ssl | bool %}?ssl=1{% else %}?ssl=0{% endif %}{% endif %}{% endfor %}transport_url = {{ magnum_oslomsg_notify_transport }}://{% for host in magnum_oslomsg_notify_servers.split(',') %}{{ magnum_oslomsg_notify_userid }}:{{ magnum_oslomsg_notify_password }}@{{ host }}:{{ magnum_oslomsg_notify_port }}{% if not loop.last %},{% else %}/{{ magnum_oslomsg_notify_vhost }}{% if magnum_oslomsg_notify_use_ssl | bool %}?ssl=1{% else %}?ssl=0{% endif %}{% endif %}{% endfor %}",6,2
openstack%2Fopenstack-ansible-os_designate~master~Ia2fef44b3ab22b9dfe35dad61d02b1bf8b3e31b5,openstack/openstack-ansible-os_designate,master,Ia2fef44b3ab22b9dfe35dad61d02b1bf8b3e31b5,Add variables for rabbitmq ssl configuration,MERGED,2021-05-17 09:26:28.000000000,2021-05-18 14:27:43.000000000,2021-05-18 14:26:25.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-17 09:26:28.000000000', 'files': ['defaults/main.yml', 'templates/designate.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/1ae06103e296ae03a2f0546278c02261cffc37bf', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ia2fef44b3ab22b9dfe35dad61d02b1bf8b3e31b5\n'}]",0,791703,1ae06103e296ae03a2f0546278c02261cffc37bf,9,3,1,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: Ia2fef44b3ab22b9dfe35dad61d02b1bf8b3e31b5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/03/791703/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'templates/designate.conf.j2']",2,1ae06103e296ae03a2f0546278c02261cffc37bf,osa/pki,"transport_url = {{ designate_oslomsg_rpc_transport }}://{% for host in designate_oslomsg_rpc_servers.split(',') %}{{ designate_oslomsg_rpc_userid }}:{{ designate_oslomsg_rpc_password }}@{{ host }}:{{ designate_oslomsg_rpc_port }}{% if not loop.last %},{% else %}/{{ designate_oslomsg_rpc_vhost }}{% if designate_oslomsg_rpc_use_ssl | bool %}?ssl=1&ssl_version={{ designate_oslomsg_rpc_ssl_version }}&ssl_ca_file={{ designate_oslomsg_rpc_ssl_ca_file }}{% else %}?ssl=0{% endif %}{% endif %}{% endfor %}transport_url = {{ designate_oslomsg_notify_transport }}://{% for host in designate_oslomsg_notify_servers.split(',') %}{{ designate_oslomsg_notify_userid }}:{{ designate_oslomsg_notify_password }}@{{ host }}:{{ designate_oslomsg_notify_port }}{% if not loop.last %},{% else %}/{{ designate_oslomsg_notify_vhost }}{% if designate_oslomsg_notify_use_ssl | bool %}?ssl=1&ssl_version={{ designate_oslomsg_notify_ssl_version }}&ssl_ca_file={{ designate_oslomsg_notify_ssl_ca_file }}{% else %}?ssl=0{% endif %}{% endif %}{% endfor %}","transport_url = {{ designate_oslomsg_rpc_transport }}://{% for host in designate_oslomsg_rpc_servers.split(',') %}{{ designate_oslomsg_rpc_userid }}:{{ designate_oslomsg_rpc_password }}@{{ host }}:{{ designate_oslomsg_rpc_port }}{% if not loop.last %},{% else %}/{{ designate_oslomsg_rpc_vhost }}{% if designate_oslomsg_rpc_use_ssl | bool %}?ssl=1{% else %}?ssl=0{% endif %}{% endif %}{% endfor %}transport_url = {{ designate_oslomsg_notify_transport }}://{% for host in designate_oslomsg_notify_servers.split(',') %}{{ designate_oslomsg_notify_userid }}:{{ designate_oslomsg_notify_password }}@{{ host }}:{{ designate_oslomsg_notify_port }}{% if not loop.last %},{% else %}/{{ designate_oslomsg_notify_vhost }}{% if designate_oslomsg_notify_use_ssl | bool %}?ssl=1{% else %}?ssl=0{% endif %}{% endif %}{% endfor %}",6,2
openstack%2Fopenstack-ansible-os_sahara~master~I245bee42704e3d81a3f148daa983b43e9e377575,openstack/openstack-ansible-os_sahara,master,I245bee42704e3d81a3f148daa983b43e9e377575,Add variables for rabbitmq ssl configuration,MERGED,2021-05-17 11:42:22.000000000,2021-05-18 14:23:25.000000000,2021-05-18 14:22:01.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-17 11:42:22.000000000', 'files': ['templates/sahara.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/21eb697dc862138d56c2e500dc7a551a31044a0b', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I245bee42704e3d81a3f148daa983b43e9e377575\n'}]",0,791732,21eb697dc862138d56c2e500dc7a551a31044a0b,9,3,1,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: I245bee42704e3d81a3f148daa983b43e9e377575
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/32/791732/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/sahara.conf.j2', 'defaults/main.yml']",2,21eb697dc862138d56c2e500dc7a551a31044a0b,osa/pki,"sahara_oslomsg_rpc_ssl_version: ""{{ oslomsg_rpc_ssl_version | default('TLSv1_2') }}"" sahara_oslomsg_rpc_ssl_ca_file: ""{{ oslomsg_rpc_ssl_ca_file | default('') }}""sahara_oslomsg_notify_ssl_version: ""{{ oslomsg_notify_ssl_version | default('TLSv1_2') }}"" sahara_oslomsg_notify_ssl_ca_file: ""{{ oslomsg_notify_ssl_ca_file | default('') }}""",,6,2
openstack%2Fpuppet-openstack-integration~stable%2Frocky~I33ea1f216c9bf7e491babeb8149788b4b36334e6,openstack/puppet-openstack-integration,stable/rocky,I33ea1f216c9bf7e491babeb8149788b4b36334e6,Rocky only: Make tripleo job non-voting,MERGED,2021-05-13 13:49:26.000000000,2021-05-18 14:19:19.000000000,2021-05-17 18:47:05.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c3b2d2f06b63edf922005502e198050cf058add7', 'message': 'Rocky only: Make tripleo job non-voting\n\nThe TripleO project has already EOLed stable/rocky, thus tripleo jobs\nno longer work. This change make all TripleO jobs non-voting to fix\nthe broken gate. These jobs will be removed later.\n\nChange-Id: I33ea1f216c9bf7e491babeb8149788b4b36334e6\n'}, {'number': 2, 'created': '2021-05-13 13:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0d396b7c94730ca953843a8b01b6c0b8ea703541', 'message': 'Rocky only: Make tripleo job non-voting\n\nThe TripleO project has already EOLed stable/rocky, thus tripleo jobs\nin stable/rocky no longer work. This change make all TripleO jobs\nnon-voting to fix the broken gate. These jobs will be removed later.\n\nChange-Id: I33ea1f216c9bf7e491babeb8149788b4b36334e6\n'}, {'number': 3, 'created': '2021-05-13 13:54:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/30b70de316b1a8d28a5d7c8fc8f17e982b8c5a37', 'message': 'Rocky only: Make tripleo job non-voting\n\nThe TripleO project has already EOLed stable/rocky, thus tripleo jobs\nin stable/rocky no longer work. This change makes all TripleO jobs\nnon-voting to fix the broken gate. These jobs will be removed later.\n\nChange-Id: I33ea1f216c9bf7e491babeb8149788b4b36334e6\n'}]",2,791238,30b70de316b1a8d28a5d7c8fc8f17e982b8c5a37,14,6,3,9816,,,0,"Rocky only: Make tripleo job non-voting

The TripleO project has already EOLed stable/rocky, thus tripleo jobs
in stable/rocky no longer work. This change makes all TripleO jobs
non-voting to fix the broken gate. These jobs will be removed later.

Change-Id: I33ea1f216c9bf7e491babeb8149788b4b36334e6
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/38/791238/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c3b2d2f06b63edf922005502e198050cf058add7,, voting: false voting: false,,2,0
openstack%2Fopenstack-ansible-os_mistral~master~I613d2d310ad4fbce4d017533c4739243f586a2c5,openstack/openstack-ansible-os_mistral,master,I613d2d310ad4fbce4d017533c4739243f586a2c5,Add variables for rabbitmq ssl configuration,MERGED,2021-05-17 11:28:34.000000000,2021-05-18 14:19:01.000000000,2021-05-18 14:17:46.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-17 11:28:34.000000000', 'files': ['templates/mistral.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/9edf8bf43c3bfc5bfb35af14eb9b83ca0fb12bf2', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I613d2d310ad4fbce4d017533c4739243f586a2c5\n'}]",0,791725,9edf8bf43c3bfc5bfb35af14eb9b83ca0fb12bf2,9,3,1,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: I613d2d310ad4fbce4d017533c4739243f586a2c5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/25/791725/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/mistral.conf.j2', 'defaults/main.yml']",2,9edf8bf43c3bfc5bfb35af14eb9b83ca0fb12bf2,osa/pki,"mistral_oslomsg_rpc_ssl_version: ""{{ oslomsg_rpc_ssl_version | default('TLSv1_2') }}"" mistral_oslomsg_rpc_ssl_ca_file: ""{{ oslomsg_rpc_ssl_ca_file | default('') }}""mistral_oslomsg_notify_ssl_version: ""{{ oslomsg_notify_ssl_version | default('TLSv1_2') }}"" mistral_oslomsg_notify_ssl_ca_file: ""{{ oslomsg_notify_ssl_ca_file | default('') }}""",,5,1
openstack%2Fopenstack-ansible-os_senlin~master~I0a21b309efa3c2d9e06ad214a0a946bd9b4d80f8,openstack/openstack-ansible-os_senlin,master,I0a21b309efa3c2d9e06ad214a0a946bd9b4d80f8,Add variables for rabbitmq ssl configuration,MERGED,2021-05-17 11:43:10.000000000,2021-05-18 14:18:36.000000000,2021-05-18 14:17:07.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-17 11:43:10.000000000', 'files': ['templates/senlin.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/00234d06fb528bceba8bcde97842c0849a88b11d', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I0a21b309efa3c2d9e06ad214a0a946bd9b4d80f8\n'}]",0,791734,00234d06fb528bceba8bcde97842c0849a88b11d,9,3,1,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: I0a21b309efa3c2d9e06ad214a0a946bd9b4d80f8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_senlin refs/changes/34/791734/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/senlin.conf.j2', 'defaults/main.yml']",2,00234d06fb528bceba8bcde97842c0849a88b11d,osa/pki,"senlin_oslomsg_rpc_ssl_version: ""{{ oslomsg_rpc_ssl_version | default('TLSv1_2') }}"" senlin_oslomsg_rpc_ssl_ca_file: ""{{ oslomsg_rpc_ssl_ca_file | default('') }}""senlin_oslomsg_notify_ssl_version: ""{{ oslomsg_notify_ssl_version | default('TLSv1_2') }}"" senlin_oslomsg_notify_ssl_ca_file: ""{{ oslomsg_notify_ssl_ca_file | default('') }}""",,6,2
openstack%2Fopenstack-ansible-os_swift~master~I0a1104f8312b16f618bdd8bf6b440730213c5fad,openstack/openstack-ansible-os_swift,master,I0a1104f8312b16f618bdd8bf6b440730213c5fad,Add variables for rabbitmq ssl configuration,MERGED,2021-05-17 12:10:42.000000000,2021-05-18 14:16:44.000000000,2021-05-18 14:15:13.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-17 12:10:42.000000000', 'files': ['templates/proxy-server.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/acdaeda64b4bb591ec8cacd4250a6a5ac83aa98b', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I0a1104f8312b16f618bdd8bf6b440730213c5fad\n'}]",0,791740,acdaeda64b4bb591ec8cacd4250a6a5ac83aa98b,9,3,1,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: I0a1104f8312b16f618bdd8bf6b440730213c5fad
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/40/791740/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/proxy-server.conf.j2', 'defaults/main.yml']",2,acdaeda64b4bb591ec8cacd4250a6a5ac83aa98b,osa/pki,"swift_oslomsg_notify_ssl_version: ""{{ oslomsg_notify_ssl_version | default('TLSv1_2') }}"" swift_oslomsg_notify_ssl_ca_file: ""{{ oslomsg_notify_ssl_ca_file | default('') }}""",,3,1
openstack%2Fopenstack-ansible-os_tacker~master~Ief236b1d9599e40ff47de5016c31ca12a2b3eb34,openstack/openstack-ansible-os_tacker,master,Ief236b1d9599e40ff47de5016c31ca12a2b3eb34,Add variables for rabbitmq ssl configuration,MERGED,2021-05-17 12:11:05.000000000,2021-05-18 14:12:24.000000000,2021-05-18 14:10:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-17 12:11:05.000000000', 'files': ['templates/tacker.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/e52a036f2caf4e326ca868ee5252917e7fb1ba05', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ief236b1d9599e40ff47de5016c31ca12a2b3eb34\n'}]",0,791741,e52a036f2caf4e326ca868ee5252917e7fb1ba05,9,3,1,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: Ief236b1d9599e40ff47de5016c31ca12a2b3eb34
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/41/791741/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/tacker.conf.j2', 'defaults/main.yml']",2,e52a036f2caf4e326ca868ee5252917e7fb1ba05,osa/pki,"tacker_oslomsg_rpc_ssl_version: ""{{ oslomsg_rpc_ssl_version | default('TLSv1_2') }}"" tacker_oslomsg_rpc_ssl_ca_file: ""{{ oslomsg_rpc_ssl_ca_file | default('') }}""tacker_oslomsg_notify_ssl_version: ""{{ oslomsg_notify_ssl_version | default('TLSv1_2') }}"" tacker_oslomsg_notify_ssl_ca_file: ""{{ oslomsg_notify_ssl_ca_file | default('') }}""",,6,2
openstack%2Fkayobe-config-dev~master~I7f7f22504e4bda1a7f4c984e97e7b86f7a95e4f0,openstack/kayobe-config-dev,master,I7f7f22504e4bda1a7f4c984e97e7b86f7a95e4f0,Set os_distribution automatically,MERGED,2021-04-28 11:40:17.000000000,2021-05-18 14:07:49.000000000,2021-05-18 14:07:49.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-04-28 11:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/0d4c5206d243baed912ca36e27a6c98ef24c28bf', 'message': 'Set os_distribution automatically\n\nUse /etc/os-release on the Ansible control host. This makes sense for an\nall-in-one configuration.\n\nChange-Id: I7f7f22504e4bda1a7f4c984e97e7b86f7a95e4f0\n'}, {'number': 2, 'created': '2021-04-29 18:38:43.000000000', 'files': ['etc/kayobe/globals.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/95f4049defa2e1350c1c88a89210295d45ed5851', 'message': 'Set os_distribution automatically\n\nUse /etc/os-release on the Ansible control host. This makes sense for an\nall-in-one configuration.\n\nChange-Id: I7f7f22504e4bda1a7f4c984e97e7b86f7a95e4f0\n'}]",3,788475,95f4049defa2e1350c1c88a89210295d45ed5851,13,4,2,14826,,,0,"Set os_distribution automatically

Use /etc/os-release on the Ansible control host. This makes sense for an
all-in-one configuration.

Change-Id: I7f7f22504e4bda1a7f4c984e97e7b86f7a95e4f0
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/75/788475/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/globals.yml'],1,0d4c5206d243baed912ca36e27a6c98ef24c28bf,,"# OS distribution. # OS distribution name. Valid options are ""centos"", ""ubuntu"". Default is # ""centos"". os_distribution: ""{{ lookup('pipe', '. /etc/os-release && echo $ID') | trim }}"" ###############################################################################",,7,0
openstack%2Fneutron-lib~master~I33f42ec487567327c7c96afd81dd61e9e091c08f,openstack/neutron-lib,master,I33f42ec487567327c7c96afd81dd61e9e091c08f,"Add ""cache_ok=False"" flag to TypeDecorator TruncatedDateTime()",MERGED,2021-05-07 17:27:31.000000000,2021-05-18 14:00:30.000000000,2021-05-18 13:59:09.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 17:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f3c8eb0f539332d6a36031f398b782b8096a6c27', 'message': 'Add ""cache_ok=False"" flag to TypeDecorator TruncatedDateTime()\n\nChange-Id: I33f42ec487567327c7c96afd81dd61e9e091c08f\nRelated-Bug: #1927763\n'}, {'number': 2, 'created': '2021-05-11 08:19:25.000000000', 'files': ['neutron_lib/db/sqlalchemytypes.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/dc91446d39372974559c4ce66346549f0a288954', 'message': 'Add ""cache_ok=False"" flag to TypeDecorator TruncatedDateTime()\n\nChange-Id: I33f42ec487567327c7c96afd81dd61e9e091c08f\nPartial-Bug: #1927763\n'}]",2,790285,dc91446d39372974559c4ce66346549f0a288954,18,3,2,16688,,,0,"Add ""cache_ok=False"" flag to TypeDecorator TruncatedDateTime()

Change-Id: I33f42ec487567327c7c96afd81dd61e9e091c08f
Partial-Bug: #1927763
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/85/790285/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/db/sqlalchemytypes.py'],1,f3c8eb0f539332d6a36031f398b782b8096a6c27,bug/1927763, cache_ok = False ,,2,0
openstack%2Freleases~master~I3e1f927cb9ab5152e6e080c2713f1321f52b123f,openstack/releases,master,I3e1f927cb9ab5152e6e080c2713f1321f52b123f,[OpenStackAnsible] Transition Train to EM,MERGED,2021-05-11 15:14:47.000000000,2021-05-18 13:55:30.000000000,2021-05-18 13:55:30.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-11 15:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/03d540af006e74c1621282848a3910170a7182d1', 'message': '[OpenStackAnsible] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I3e1f927cb9ab5152e6e080c2713f1321f52b123f\n'}, {'number': 2, 'created': '2021-05-11 15:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5d02f409d2669aa740acaf740be3f4384ce55af1', 'message': '[OpenStackAnsible] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I3e1f927cb9ab5152e6e080c2713f1321f52b123f\n'}, {'number': 3, 'created': '2021-05-14 15:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4e32052ede96472ed2b56a8402abf74fb595682f', 'message': '[OpenStackAnsible] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I3e1f927cb9ab5152e6e080c2713f1321f52b123f\n'}, {'number': 4, 'created': '2021-05-15 04:48:44.000000000', 'files': ['deliverables/train/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f2f6bfbc5575e982f13e630b3afaa982d13b0680', 'message': '[OpenStackAnsible] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I3e1f927cb9ab5152e6e080c2713f1321f52b123f\n'}]",0,790763,f2f6bfbc5575e982f13e630b3afaa982d13b0680,21,4,4,17685,,,0,"[OpenStackAnsible] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I3e1f927cb9ab5152e6e080c2713f1321f52b123f
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/790763/3 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/openstack-ansible.yaml', 'deliverables/train/openstack-ansible-roles.yaml']",2,03d540af006e74c1621282848a3910170a7182d1,train-em,releases: - version: train-em projects: - repo: openstack/ansible-role-atos-hsm hash: 1269408d688354091eaf3f5e1a05ae72ea79450f - repo: openstack/ansible-role-qdrouterd hash: a339b1a6d4da8561850d87264929c9979c2746dd - repo: openstack/ansible-role-python_venv_build hash: 74d3eeacc72d5d6bb7a915e83440626a8d16a1c0 - repo: openstack/ansible-role-systemd_mount hash: 8e8a843c2178bc7cffb4701e85698efe5a72a849 - repo: openstack/ansible-role-systemd_networkd hash: 2c4f710e6cee94836064d7c118e251c9094bb57e - repo: openstack/ansible-role-systemd_service hash: faddb5820bd186122e832825408dbeac4e569e56 - repo: openstack/ansible-role-thales-hsm hash: 52af8e87029a7c49880efb419537877ba86cf427 - repo: openstack/ansible-role-uwsgi hash: 546253abdd967c9d8abddcd1b7cb2310f6ed6a58 - repo: openstack/ansible-hardening hash: 568d49fb930fad38221ceaca6843c16c9739dc74 - repo: openstack/openstack-ansible-apt_package_pinning hash: 72be748845d6d98675a9e355787f66a010f09a1b - repo: openstack/openstack-ansible-ceph_client hash: 3cf97d2780c469b2e410fbff76007b2115e2a4c0 - repo: openstack/openstack-ansible-galera_client hash: e55dbcc27ad496844e8e174b16e165332e77497e - repo: openstack/openstack-ansible-galera_server hash: 124bbf625147fe56e72283d6e002718baf974314 - repo: openstack/openstack-ansible-haproxy_server hash: 963bfd24347ae88d4dc2d7de863b85453f3e66df - repo: openstack/openstack-ansible-lxc_container_create hash: 1ef3e6b88427e1dadbe67b0b1af0927edb8c5381 - repo: openstack/openstack-ansible-lxc_hosts hash: 88d196453b52ec5b211c236f11e7be1b18aa1d92 - repo: openstack/openstack-ansible-memcached_server hash: 908b2e2b6b46ae995edf1d4d4b11524c3b7d97ad - repo: openstack/openstack-ansible-nspawn_container_create hash: a581eb93bd850f6f480a4a73b874004f8f8d4d01 - repo: openstack/openstack-ansible-nspawn_hosts hash: b29efa6b5fc5f8a09b0a1911686e7d2744a34076 - repo: openstack/openstack-ansible-openstack_hosts hash: efbcbc65a3dac5e48fd9c9e6e0a2001383d06394 - repo: openstack/openstack-ansible-openstack_openrc hash: 99246622e79a82b7579fb39273238d9deb8ba5cd - repo: openstack/openstack-ansible-ops hash: b845b7844a887d2ac3731b2fa9e8bcb44f96bef3 - repo: openstack/openstack-ansible-os_almanach hash: b9a2cc75abde0404fe4eed60661ded996e1404a9 - repo: openstack/openstack-ansible-os_aodh hash: 54366ac0291d6fe21b176cfd5304cd5dd876daf5 - repo: openstack/openstack-ansible-os_barbican hash: 4746fa1449b0f5ccfad4d926faea2e70656744f8 - repo: openstack/openstack-ansible-os_blazar hash: 8e13b9f8265959f810c50fccfa9a46796bd02328 - repo: openstack/openstack-ansible-os_ceilometer hash: 3aca390dddd88efe9366cf1e22b160b6dfd13d86 - repo: openstack/openstack-ansible-os_cinder hash: 75d09f16af73dec5395858143400992f27a3a93e - repo: openstack/openstack-ansible-os_cloudkitty hash: bccfb835ba3fa7db086984f970b2a6512ba4a087 - repo: openstack/openstack-ansible-os_congress hash: 3cc2e5ce1757a3afa34153bd35b08c6750ba4b2a - repo: openstack/openstack-ansible-os_designate hash: add2434a5c7726ff8444b24cf57434cec234b450 - repo: openstack/openstack-ansible-os_glance hash: afdb6040d0f4ced9f5a9cf1a6598784438438df2 - repo: openstack/openstack-ansible-os_gnocchi hash: 6fca7782578fa79bfddeeb6ea6c3e1478cd06c77 - repo: openstack/openstack-ansible-os_heat hash: c9483337eb7f128b70553a241865c452b2071948 - repo: openstack/openstack-ansible-os_horizon hash: 569fe91752a14fec65900e120a97347a6bc8f295 - repo: openstack/openstack-ansible-os_ironic hash: bc2d1f9e43976fcbf0619d7004dcd91eaec58157 - repo: openstack/openstack-ansible-os_keystone hash: 60f7f7f2851106fbfa42956814ed8265187396ac - repo: openstack/openstack-ansible-os_magnum hash: d1e4652092f2e44c4c2b02f36c1e8547223a11ea - repo: openstack/openstack-ansible-os_manila hash: 1ba36fc024054e0784fd416b87a57821e16c91a1 - repo: openstack/openstack-ansible-os_masakari hash: 5dafb52081aede70e9b7b712f943f2f9327e3d45 - repo: openstack/openstack-ansible-os_mistral hash: 5a065085064b4b5161a66b910868f1b707c5c214 - repo: openstack/openstack-ansible-os_murano hash: 7ef19a38ceb0c104ccb15ea0633b7f6c65f11f89 - repo: openstack/openstack-ansible-os_neutron hash: acef9066af86151d8188803e175abd93734e35bd - repo: openstack/openstack-ansible-os_nova hash: de80af931fa61216c2217d1c183ec6e8dde44a3c - repo: openstack/openstack-ansible-os_octavia hash: 7cbec4b075e1af1747b7c7909b57cea2efbcf6b6 - repo: openstack/openstack-ansible-os_panko hash: 387c22154c747d0b4149101d10ad1022e4c91569 - repo: openstack/openstack-ansible-os_placement hash: 850350735fbd647c9a3b8f25c3bfafc7eb1fa0d7 - repo: openstack/openstack-ansible-os_rally hash: 5c1aee0e87ccae4322deebcb604cde0d06843fd3 - repo: openstack/openstack-ansible-os_sahara hash: 90965aab0d2dc9c197751f1ca93cd9f3966a55cd - repo: openstack/openstack-ansible-os_swift hash: e79f4feb7e02153f2a9ce794c0bc1dde9a4e5a69 - repo: openstack/openstack-ansible-os_tacker hash: b89594fdb9a1f7973575df3d96f2c825ce4f17f5 - repo: openstack/openstack-ansible-os_tempest hash: eeb3c4285768f2d575d6da5ba692afd685bf3075 - repo: openstack/openstack-ansible-os_trove hash: f0582be474ffebdb066ac9440d6f5779fa8f4e8f - repo: openstack/openstack-ansible-os_zun hash: 2c108190a80e658b5835b04fa0efdd5370f46743 - repo: openstack/openstack-ansible-pip_install hash: a0c575fc3117d9c9fa1e7d41fb2e2709ecbb0b05 - repo: openstack/openstack-ansible-plugins hash: 6fee93cedd2bb8c41e683b6f460fe4b6173810c3 - repo: openstack/openstack-ansible-rabbitmq_server hash: 7a31aefd6690f923400a2e5422daf3b6f1fd21a3 - repo: openstack/openstack-ansible-repo_build hash: f502b0c1313429b1e0916109ea6d45591978bfef - repo: openstack/openstack-ansible-repo_server hash: d8c48fe420b83a79595259c91ab31d807ea64c53 - repo: openstack/openstack-ansible-rsyslog_client hash: 3c7abc6b253655e03a1da3d93beec7ceb9aa52c9 - repo: openstack/openstack-ansible-rsyslog_server hash: f0d56e9a8f3c39828d404a6957e80830bd79a7bf - repo: openstack/openstack-ansible-tests hash: ce52a9304875d35a149d507c76648b2a4fb4af40,,131,0
openstack%2Fbarbican-tempest-plugin~master~I5e198c592742755f4285b68ac288820b9a33031b,openstack/barbican-tempest-plugin,master,I5e198c592742755f4285b68ac288820b9a33031b,Update TOX_CONSTRAINTS_FILE,MERGED,2020-12-14 09:49:49.000000000,2021-05-18 13:55:22.000000000,2021-05-18 13:55:22.000000000,"[{'_account_id': 7973}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-12-14 09:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/3229ff8d7f7989c5e4932f33ae11d2fdcf918500', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I5e198c592742755f4285b68ac288820b9a33031b\n'}, {'number': 2, 'created': '2020-12-15 05:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/5adc969146020f1d8e116219d5fc62ffb572162f', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I5e198c592742755f4285b68ac288820b9a33031b\n'}, {'number': 3, 'created': '2021-01-13 05:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/2aca76c3fa637fe220e7157b976d31dbd163bc44', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I5e198c592742755f4285b68ac288820b9a33031b\n'}, {'number': 4, 'created': '2021-03-03 00:58:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/170a9485dfb982e18b305aaf173e6c6d2e24564f', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I5e198c592742755f4285b68ac288820b9a33031b\n'}]",0,766910,170a9485dfb982e18b305aaf173e6c6d2e24564f,22,5,4,32291,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I5e198c592742755f4285b68ac288820b9a33031b
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/10/766910/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3229ff8d7f7989c5e4932f33ae11d2fdcf918500,,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fbarbican-tempest-plugin~master~I269618fd760cffd992ca450bb9f13b9788b50b54,openstack/barbican-tempest-plugin,master,I269618fd760cffd992ca450bb9f13b9788b50b54,Add secure-rbac tests for TransportKeys API,MERGED,2021-04-05 19:54:25.000000000,2021-05-18 13:55:19.000000000,2021-05-18 13:55:19.000000000,"[{'_account_id': 5046}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-04-05 19:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/2eafa4ca1ab36e196605aba625469fb29396afe3', 'message': 'Add secure-rbac tests for TransportKeys API\n\nThis patch adds basic RBAC tests for the Transport Keys API for\nthe reader, admin, and member personas with project scope.\n\nSome tests will need additional work because they require transport\nkeys to be present, which can only be done by a system-scope admin\n\nChange-Id: I269618fd760cffd992ca450bb9f13b9788b50b54\n'}, {'number': 2, 'created': '2021-04-06 17:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/e0f34b09de37b290b880794c4a94bd624622a5b0', 'message': 'Add secure-rbac tests for TransportKeys API\n\nThis patch adds basic RBAC tests for the Transport Keys API for\nthe reader, admin, and member personas with project scope.\n\nSome tests will need additional work because they require transport\nkeys to be present, which can only be done by a system-scope admin\n\nChange-Id: I269618fd760cffd992ca450bb9f13b9788b50b54\n'}, {'number': 3, 'created': '2021-04-06 19:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/86d8e92dca3757e5d69846ce6c5f52da2430bac0', 'message': 'Add secure-rbac tests for TransportKeys API\n\nThis patch adds basic RBAC tests for the Transport Keys API for\nthe reader, admin, and member personas with project scope.\n\nSome tests will need additional work because they require transport\nkeys to be present, which can only be done by a system-scope admin\n\nChange-Id: I269618fd760cffd992ca450bb9f13b9788b50b54\n'}, {'number': 4, 'created': '2021-04-12 14:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/3a0a9d41c99f8c0dbb169a15782b2c401be47f1c', 'message': 'Add secure-rbac tests for TransportKeys API\n\nThis patch adds basic RBAC tests for the Transport Keys API for\nthe reader, admin, and member personas with project scope.\n\nSome tests will need additional work because they require transport\nkeys to be present, which can only be done by a system-scope admin\n\nChange-Id: I269618fd760cffd992ca450bb9f13b9788b50b54\n'}, {'number': 5, 'created': '2021-04-13 11:54:50.000000000', 'files': ['barbican_tempest_plugin/plugin.py', 'barbican_tempest_plugin/services/key_manager/json/__init__.py', 'barbican_tempest_plugin/tests/rbac/v1/test_transport_keys.py', 'barbican_tempest_plugin/services/key_manager/json/transport_key_client.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/63b174e89b963613860c426bb728c1c67a256982', 'message': 'Add secure-rbac tests for TransportKeys API\n\nThis patch adds basic RBAC tests for the Transport Keys API for\nthe reader, admin, and member personas with project scope.\n\nSome tests will need additional work because they require transport\nkeys to be present, which can only be done by a system-scope admin\n\nChange-Id: I269618fd760cffd992ca450bb9f13b9788b50b54\n'}]",7,784820,63b174e89b963613860c426bb728c1c67a256982,24,5,5,7973,,,0,"Add secure-rbac tests for TransportKeys API

This patch adds basic RBAC tests for the Transport Keys API for
the reader, admin, and member personas with project scope.

Some tests will need additional work because they require transport
keys to be present, which can only be done by a system-scope admin

Change-Id: I269618fd760cffd992ca450bb9f13b9788b50b54
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/20/784820/2 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/plugin.py', 'barbican_tempest_plugin/services/key_manager/json/__init__.py', 'barbican_tempest_plugin/tests/rbac/v1/test_transport_keys.py', 'barbican_tempest_plugin/services/key_manager/json/transport_key_client.py']",4,2eafa4ca1ab36e196605aba625469fb29396afe3,secure-rbac,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import json from urllib import parse from barbican_tempest_plugin.services.key_manager.json import base class TransportKeyClient(base.BarbicanTempestClient): def list_transport_keys(self, **kwargs): uri = '/v1/transport_keys' if kwargs: uri += '?{}'.format(parse.urlencode(kwargs)) resp, body = self.get(uri) self.expected_success(200, resp.status) return json.loads(body.decode('UTF-8')) def create_transport_key(self, **kwargs): uri = '/v1/transport_keys' post_body = json.dumps(kwargs) resp, body = self.post(uri, post_body) self.expected_success(201, resp.status) return json.loads(body.decode('UTF-8')) def get_transport_key(self, transport_key_id): uri = '/v1/transport_keys/{}'.format(transport_key_id) resp, body = self.get(uri) self.expected_success(200, resp.status) return json.loads(body.decode('UTF-8')) def delete_transport_key(self, transport_key_id): uri = '/v1/transport_keys/{}'.format(transport_key_id) resp, body = self.delete(uri) self.expected_success(204, resp.status) ",,171,2
openstack%2Fbarbican-tempest-plugin~master~I8fc4e2e6ed84bf18a4c89c30ee5c40b743d00e46,openstack/barbican-tempest-plugin,master,I8fc4e2e6ed84bf18a4c89c30ee5c40b743d00e46,Use the encryption provider constants (2),MERGED,2021-05-07 12:45:40.000000000,2021-05-18 13:55:16.000000000,2021-05-18 13:55:16.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-05-07 12:45:40.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/test_volume_encryption.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/990536bb6c37391d44aa7aed2e2541688312d13a', 'message': 'Use the encryption provider constants (2)\n\nFollow-up of I05b0200b80d8ae957caaa53d5006b050d2d49da6\nwhich fixes also the other leftover usage of a legacy\nencryptor class (plain this time).\n\nChange-Id: I8fc4e2e6ed84bf18a4c89c30ee5c40b743d00e46\n'}]",0,790237,990536bb6c37391d44aa7aed2e2541688312d13a,7,4,1,10459,,,0,"Use the encryption provider constants (2)

Follow-up of I05b0200b80d8ae957caaa53d5006b050d2d49da6
which fixes also the other leftover usage of a legacy
encryptor class (plain this time).

Change-Id: I8fc4e2e6ed84bf18a4c89c30ee5c40b743d00e46
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/37/790237/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican_tempest_plugin/tests/scenario/test_volume_encryption.py'],1,990536bb6c37391d44aa7aed2e2541688312d13a,," volume = self.create_encrypted_volume('plain',"," volume = self.create_encrypted_volume('nova.volume.encryptors.' 'cryptsetup.CryptsetupEncryptor',",1,2
openstack%2Fmagnum-ui~stable%2Fwallaby~I382a56ddf4ecf7e76b1a0ecb4446754c1ceecce3,openstack/magnum-ui,stable/wallaby,I382a56ddf4ecf7e76b1a0ecb4446754c1ceecce3,Add overlay2 to Docker storage driver dropdown,MERGED,2021-04-22 13:27:08.000000000,2021-05-18 13:54:26.000000000,2021-05-18 13:53:05.000000000,"[{'_account_id': 6484}, {'_account_id': 16352}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-04-22 13:27:08.000000000', 'files': ['magnum_ui/static/dashboard/container-infra/cluster-templates/workflow/workflow.service.js'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/e523a37bde515954478c14bb9e510f5c53cbe981', 'message': 'Add overlay2 to Docker storage driver dropdown\n\nChange-Id: I382a56ddf4ecf7e76b1a0ecb4446754c1ceecce3\n(cherry picked from commit 565614ff35deb9e7316299c812782aa7dcf3b57b)\n'}]",0,787560,e523a37bde515954478c14bb9e510f5c53cbe981,9,5,1,16137,,,0,"Add overlay2 to Docker storage driver dropdown

Change-Id: I382a56ddf4ecf7e76b1a0ecb4446754c1ceecce3
(cherry picked from commit 565614ff35deb9e7316299c812782aa7dcf3b57b)
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/60/787560/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_ui/static/dashboard/container-infra/cluster-templates/workflow/workflow.service.js'],1,e523a37bde515954478c14bb9e510f5c53cbe981,," {value: ""overlay"", name: gettext(""Overlay"")}, {value: ""overlay2"", name: gettext(""Overlay2"")}"," {value: ""overlay"", name: gettext(""Overlay"")}",2,1
openstack%2Fopenstack-ansible-os_neutron~master~I5674041a749c6c1521e43e8a2a5a5823ed9f87b6,openstack/openstack-ansible-os_neutron,master,I5674041a749c6c1521e43e8a2a5a5823ed9f87b6,Add variables for rabbitmq ssl configuration,MERGED,2021-05-06 10:18:46.000000000,2021-05-18 13:49:05.000000000,2021-05-18 13:47:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-06 10:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/eda7319b1fb0e45a2d87b847a3d45b18a2257b9a', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I5674041a749c6c1521e43e8a2a5a5823ed9f87b6\n'}, {'number': 2, 'created': '2021-05-06 10:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/0f16a6d78e15c7f022498f0a58311c050486dd43', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I5674041a749c6c1521e43e8a2a5a5823ed9f87b6\n'}, {'number': 3, 'created': '2021-05-06 14:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/36265483c985a05aa2ba1846d0f4c4ea458fb7ea', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I5674041a749c6c1521e43e8a2a5a5823ed9f87b6\n'}, {'number': 4, 'created': '2021-05-06 15:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/3e97bce3e36ba0b86cf9cb030dfb2f87bec85cd4', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I5674041a749c6c1521e43e8a2a5a5823ed9f87b6\n'}, {'number': 5, 'created': '2021-05-13 14:41:04.000000000', 'files': ['templates/neutron.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/3546176dc7449df907c1117e3f77532dcd5d441e', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: I5674041a749c6c1521e43e8a2a5a5823ed9f87b6\n'}]",0,790036,3546176dc7449df907c1117e3f77532dcd5d441e,24,4,5,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: I5674041a749c6c1521e43e8a2a5a5823ed9f87b6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/36/790036/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron.conf.j2', 'defaults/main.yml']",2,eda7319b1fb0e45a2d87b847a3d45b18a2257b9a,osa/pki,"neutron_oslomsg_rpc_ssl_version: ""{{ oslomsg_rpc_ssl_version | default('TLSv1_2"") }}"" neutron_oslomsg_rpc_ssl_cafile: ""{{ oslomsg_rpc_ssl_cafile | default('') }}""neutron_oslomsg_notify_ssl_version: ""{{ oslomsg_notify_ssl_version | default('TLSv1_2"") }}"" neutron_oslomsg_notify_ssl_cafile: ""{{ oslomsg_notify_ssl_cafile | default('') }}""",,12,2
openstack%2Fkayobe~stable%2Fwallaby~I0c7d57231a63e1f9ff3fdcdef1be7fff57160e08,openstack/kayobe,stable/wallaby,I0c7d57231a63e1f9ff3fdcdef1be7fff57160e08,Revert to binary images for nova,MERGED,2021-05-04 12:27:01.000000000,2021-05-18 13:41:26.000000000,2021-05-18 13:40:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-05-04 12:27:01.000000000', 'files': ['playbooks/kayobe-overcloud-upgrade-base/globals.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0f0604b8f48a37ceadf3cb029e0d3c379e08fd9c', 'message': 'Revert to binary images for nova\n\nThe centos binary images now include nova 23.0.0 packages.\n\nChange-Id: I0c7d57231a63e1f9ff3fdcdef1be7fff57160e08\n(cherry picked from commit 0fad6c1e23f39e5a978588cc072619ce8ac81c06)\n'}]",0,789447,0f0604b8f48a37ceadf3cb029e0d3c379e08fd9c,8,3,1,15197,,,0,"Revert to binary images for nova

The centos binary images now include nova 23.0.0 packages.

Change-Id: I0c7d57231a63e1f9ff3fdcdef1be7fff57160e08
(cherry picked from commit 0fad6c1e23f39e5a978588cc072619ce8ac81c06)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/47/789447/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-overcloud-upgrade-base/globals.yml.j2'],1,0f0604b8f48a37ceadf3cb029e0d3c379e08fd9c,,," # TODO(priteau): Remove me once binary images with wallaby packages are available nova_install_type: ""source""",0,3
openstack%2Fopenstack-helm~master~I58c4d683a8b9de88793a3e5fe9f58d76988d8f63,openstack/openstack-helm,master,I58c4d683a8b9de88793a3e5fe9f58d76988d8f63,Imported Translations from Zanata,MERGED,2021-05-18 07:27:55.000000000,2021-05-18 13:32:18.000000000,2021-05-18 13:30:39.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 07:27:55.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc-devref.po', 'doc/source/locale/id/LC_MESSAGES/doc-devref.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'doc/source/locale/de/LC_MESSAGES/doc-devref.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-devref.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d21b00d1591c97586acb3639df823afd2cdf630c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I58c4d683a8b9de88793a3e5fe9f58d76988d8f63\n'}]",0,791892,d21b00d1591c97586acb3639df823afd2cdf630c,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I58c4d683a8b9de88793a3e5fe9f58d76988d8f63
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/92/791892/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/en_GB/LC_MESSAGES/doc-devref.po', 'doc/source/locale/id/LC_MESSAGES/doc-devref.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'doc/source/locale/de/LC_MESSAGES/doc-devref.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-devref.po']",5,d21b00d1591c97586acb3639df823afd2cdf630c,zanata/translations,"""Project-Id-Version: openstack-helm 0.1.1.dev3431\n""""POT-Creation-Date: 2021-05-18 02:20+0000\n""","""Project-Id-Version: openstack-helm\n""""POT-Creation-Date: 2019-07-24 22:37+0000\n""""Whenever we change the L2 agent, it should be reflected in `nova/values."" ""yaml` in dependency resolution for nova-compute."" msgstr """" ""L2 에이전트를 변경할 때마다, nova-compute를 위한 의존성 결정을 `nova/values."" ""yaml` 에 반영해야 합니다."" msgid """"",28,42
openstack%2Fkayobe~master~I41d9169f0312108e42bb12c52c6c7ee2509cf2ab,openstack/kayobe,master,I41d9169f0312108e42bb12c52c6c7ee2509cf2ab,Support additional pass through host variables,MERGED,2021-04-01 16:43:38.000000000,2021-05-18 13:25:42.000000000,2021-05-18 13:24:03.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-04-01 16:43:38.000000000', 'files': ['ansible/group_vars/all/kolla', 'etc/kayobe/kolla.yml', 'doc/source/configuration/reference/kolla-ansible.rst', 'releasenotes/notes/extra-host-vars-13c28b790bc54f6b.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/45a7963810830f3fe17ce7869e0458356f31a947', 'message': 'Support additional pass through host variables\n\nAllow passing through additional host variables from Kayobe to Kolla\nAnsible without overriding the entire list.\n\n* kolla_seed_inventory_pass_through_host_vars_extra\n* kolla_seed_inventory_pass_through_host_vars_map_extra\n* kolla_overcloud_inventory_pass_through_host_vars_extra\n* kolla_overcloud_inventory_pass_through_host_vars_map_extra\n\nStory: 2008797\nTask: 42201\n\nChange-Id: I41d9169f0312108e42bb12c52c6c7ee2509cf2ab\n'}]",1,784448,45a7963810830f3fe17ce7869e0458356f31a947,8,3,1,14826,,,0,"Support additional pass through host variables

Allow passing through additional host variables from Kayobe to Kolla
Ansible without overriding the entire list.

* kolla_seed_inventory_pass_through_host_vars_extra
* kolla_seed_inventory_pass_through_host_vars_map_extra
* kolla_overcloud_inventory_pass_through_host_vars_extra
* kolla_overcloud_inventory_pass_through_host_vars_map_extra

Story: 2008797
Task: 42201

Change-Id: I41d9169f0312108e42bb12c52c6c7ee2509cf2ab
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/48/784448/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'etc/kayobe/kolla.yml', 'doc/source/configuration/reference/kolla-ansible.rst', 'releasenotes/notes/extra-host-vars-13c28b790bc54f6b.yaml']",4,45a7963810830f3fe17ce7869e0458356f31a947,,--- features: - | Adds support for passing through additional host variables from Kayobe to Kolla Ansible. This is done via the following variables: * ``kolla_seed_inventory_pass_through_host_vars_extra`` * ``kolla_seed_inventory_pass_through_host_vars_map_extra`` * ``kolla_overcloud_inventory_pass_through_host_vars_extra`` * ``kolla_overcloud_inventory_pass_through_host_vars_map_extra`` See `story 2008797 <https://storyboard.openstack.org/#!/story/2008797>`__ for details. ,,167,10
openstack%2Fansible-role-atos-hsm~master~I1a0ce7526a0f6c84ace786a80f5344fc5d626f0d,openstack/ansible-role-atos-hsm,master,I1a0ce7526a0f6c84ace786a80f5344fc5d626f0d,setup.cfg: Replace dashes with underscores,MERGED,2021-05-04 07:39:02.000000000,2021-05-18 13:21:26.000000000,2021-05-18 13:21:26.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-05-04 07:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-atos-hsm/commit/fc53a54e34c68f1ca1f1a8b104cf70776cd42a3a', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: I1a0ce7526a0f6c84ace786a80f5344fc5d626f0d\n'}, {'number': 2, 'created': '2021-05-04 07:39:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-atos-hsm/commit/c9f757de685c2989198db633d677cf46ae4b282c', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I1a0ce7526a0f6c84ace786a80f5344fc5d626f0d\n""}]",0,789498,c9f757de685c2989198db633d677cf46ae4b282c,8,3,2,33161,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I1a0ce7526a0f6c84ace786a80f5344fc5d626f0d
",git fetch https://review.opendev.org/openstack/ansible-role-atos-hsm refs/changes/98/789498/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fc53a54e34c68f1ca1f1a8b104cf70776cd42a3a,,description_file =author_email = alee@redhat.com home_page = https://opendev.org/openstack/ansible-role-atos-hsmsetup_hooks =,description-file =author-email = alee@redhat.com home-page = https://opendev.org/openstack/ansible-role-atos-hsmsetup-hooks =,4,4
openstack%2Fansible-role-lunasa-hsm~master~Id5f05171b1aa67e4f234ae60b2194031011343ec,openstack/ansible-role-lunasa-hsm,master,Id5f05171b1aa67e4f234ae60b2194031011343ec,setup.cfg: Replace dashes with underscores,NEW,2021-05-04 08:00:30.000000000,2021-05-18 13:16:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-04 08:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-lunasa-hsm/commit/cccbc2da789bb00f150e62fea591af7ab8a40b87', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: Id5f05171b1aa67e4f234ae60b2194031011343ec\n'}, {'number': 2, 'created': '2021-05-04 08:00:59.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-lunasa-hsm/commit/e028414d74828f886cf9d3ecb78f6b52e6f703a2', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id5f05171b1aa67e4f234ae60b2194031011343ec\n""}]",0,789509,e028414d74828f886cf9d3ecb78f6b52e6f703a2,5,1,2,33161,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Id5f05171b1aa67e4f234ae60b2194031011343ec
",git fetch https://review.opendev.org/openstack/ansible-role-lunasa-hsm refs/changes/09/789509/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,cccbc2da789bb00f150e62fea591af7ab8a40b87,,description_file =author_email = alee@redhat.com home_page = https://opendev.org/openstack/ansible-role-lunasa-hsm,description-file =author-email = alee@redhat.com home-page = https://opendev.org/openstack/ansible-role-lunasa-hsm,3,3
openstack%2Fpuppet-swift~master~Ib18f3479bc6a4513a7b3d823cda480c4ace2f2c0,openstack/puppet-swift,master,Ib18f3479bc6a4513a7b3d823cda480c4ace2f2c0,"Add support for swift_{proxy,account,container}_uwsgi_config in Debian",MERGED,2021-04-07 22:30:41.000000000,2021-05-18 13:11:35.000000000,2021-05-18 13:10:21.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 29349}, {'_account_id': 29422}, {'_account_id': 33357}]","[{'number': 1, 'created': '2021-04-07 22:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/ea8b6460681b4c059ea4f698e6b9046c5c771a22', 'message': 'Add support for swift_{proxy,account,container}_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers,\nand the size of the listen queue in Debian, which uses uwsgi to run\nSwift. Therefore, this patch adds new swift_proxy_uwsgi_config,\nswift_account_uwsgi_config, and swift_container_uwsgi_config, providers\nas well as e new swift::wsgi::uwsgi_proxy, swift::wsgi::uwsgi_container,\nand swift::wsgi::uwsgi_account classes.\n\nChange-Id: Ib18f3479bc6a4513a7b3d823cda480c4ace2f2c0\n'}, {'number': 2, 'created': '2021-04-09 21:50:12.000000000', 'files': ['spec/unit/type/swift_proxy_uwsgi_config_spec.rb', 'lib/puppet/provider/swift_proxy_uwsgi_config/ini_setting.rb', 'lib/puppet/type/swift_container_uwsgi_config.rb', 'spec/unit/provider/swift_container_uwsgi_config/ini_setting_spec.rb', 'spec/classes/swift_wsgi_uwsgi_container_spec.rb', 'spec/classes/swift_wsgi_uwsgi_proxy_spec.rb', 'spec/unit/type/swift_account_uwsgi_config_spec.rb', 'spec/unit/provider/swift_account_uwsgi_config/ini_setting_spec.rb', 'manifests/wsgi/uwsgi_account.pp', 'lib/puppet/provider/swift_container_uwsgi_config/ini_setting.rb', 'manifests/wsgi/uwsgi_container.pp', 'lib/puppet/type/swift_proxy_uwsgi_config.rb', 'spec/unit/provider/swift_proxy_uwsgi_config/ini_setting_spec.rb', 'releasenotes/notes/uwsgi-d10bf5ebcf3ff07d.yaml', 'spec/classes/swift_wsgi_uwsgi_account_spec.rb', 'manifests/wsgi/uwsgi_proxy.pp', 'manifests/deps.pp', 'spec/unit/type/swift_container_uwsgi_config_spec.rb', 'lib/puppet/provider/swift_account_uwsgi_config/ini_setting.rb', 'lib/puppet/type/swift_account_uwsgi_config.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/51f4ad1cb3dbd534716a589562413e3c5e31ab58', 'message': 'Add support for swift_{proxy,account,container}_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers,\nand the size of the listen queue in Debian, which uses uwsgi to run\nSwift. Therefore, this patch adds new swift_proxy_uwsgi_config,\nswift_account_uwsgi_config, and swift_container_uwsgi_config, providers\nas well as e new swift::wsgi::uwsgi_proxy, swift::wsgi::uwsgi_container,\nand swift::wsgi::uwsgi_account classes.\n\nChange-Id: Ib18f3479bc6a4513a7b3d823cda480c4ace2f2c0\n'}]",0,785292,51f4ad1cb3dbd534716a589562413e3c5e31ab58,17,8,2,6476,,,0,"Add support for swift_{proxy,account,container}_uwsgi_config in Debian

This patch is adding the configuration of the number of workers,
and the size of the listen queue in Debian, which uses uwsgi to run
Swift. Therefore, this patch adds new swift_proxy_uwsgi_config,
swift_account_uwsgi_config, and swift_container_uwsgi_config, providers
as well as e new swift::wsgi::uwsgi_proxy, swift::wsgi::uwsgi_container,
and swift::wsgi::uwsgi_account classes.

Change-Id: Ib18f3479bc6a4513a7b3d823cda480c4ace2f2c0
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/92/785292/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/deps.pp'],1,ea8b6460681b4c059ea4f698e6b9046c5c771a22,debian-uwsgi-support," # On any uwsgi config change, we must restart Swift. Anchor['swift::config::begin'] -> Swift_proxy_uwsgi_config<||> ~> Anchor['swift::config::end'] Anchor['swift::config::begin'] -> Swift_account_uwsgi_config<||> ~> Anchor['swift::config::end'] Anchor['swift::config::begin'] -> Swift_container_uwsgi_config<||> ~> Anchor['swift::config::end'] ",,13,0
openstack%2Fneutron-lib~master~I39de082a273cb6ad574022a2b59737ab8a059a09,openstack/neutron-lib,master,I39de082a273cb6ad574022a2b59737ab8a059a09,Move bgp api-def to neutron-lib,MERGED,2021-04-27 16:13:43.000000000,2021-05-18 12:38:10.000000000,2021-05-18 12:36:57.000000000,"[{'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15554}, {'_account_id': 16137}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 33273}]","[{'number': 1, 'created': '2021-04-27 16:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/699a427227b6749ae3560b5e64286d999c6b036e', 'message': 'Move bgp api-def to neutron-lib\n\nAs neutron-dynamic-routing is a Neutron stadium project the api-def\nshoudl be in neutron-lib\n\nTODO:\n- api-ref\n- release-notes ?\n\nChange-Id: I39de082a273cb6ad574022a2b59737ab8a059a09\n'}, {'number': 2, 'created': '2021-04-28 14:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6df1a0755e1512bf89e47455ac7254650dfd6227', 'message': 'Move bgp api-def to neutron-lib\n\nAs neutron-dynamic-routing is a Neutron stadium project the api-def\nshoudl be in neutron-lib\n\nTODO:\n- api-ref\n- release-notes ?\n\nChange-Id: I39de082a273cb6ad574022a2b59737ab8a059a09\n'}, {'number': 3, 'created': '2021-04-29 13:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9533fc72cac7d48b9060d7c91a24e3f99bd413bc', 'message': 'Move bgp api-def to neutron-lib\n\nAs neutron-dynamic-routing is a Neutron stadium project the api-def\nshould be in neutron-lib\n\nChange-Id: I39de082a273cb6ad574022a2b59737ab8a059a09\n'}, {'number': 4, 'created': '2021-05-03 15:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/abb2f447454d38f9907bd0c1c376c2f573e3e2ac', 'message': 'Move bgp api-def to neutron-lib\n\nAs neutron-dynamic-routing is a Neutron stadium project the api-def\nshould be in neutron-lib\n\nChange-Id: I39de082a273cb6ad574022a2b59737ab8a059a09\n'}, {'number': 5, 'created': '2021-05-11 12:09:26.000000000', 'files': ['api-ref/source/v2/samples/bgp/bgp_speaker-list-response.json', 'api-ref/source/v2/samples/bgp/bgp_speaker-show-response.json', 'neutron_lib/api/definitions/bgp_4byte_asn.py', 'neutron_lib/tests/unit/api/definitions/test_bgp_4byte_asn.py', 'api-ref/source/v2/samples/bgp/bgp_speaker_add_network-response.json', 'api-ref/source/v2/samples/bgp/bgp_speaker_add_network-request.json', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/base.py', 'api-ref/source/v2/samples/bgp/bgp_speaker_add_peer-request.json', 'api-ref/source/v2/samples/bgp/bgp_speaker_remove_peer-request.json', 'api-ref/source/v2/samples/bgp/bgp_speaker_list_routes-response.json', 'api-ref/source/v2/samples/bgp/bgp_speaker_add_peer-response.json', 'api-ref/source/v2/samples/bgp/bgp_speaker-create-response.json', 'neutron_lib/constants.py', 'neutron_lib/tests/unit/api/definitions/test_bgp.py', 'api-ref/source/v2/samples/bgp/bgp_peer-create-response.json', 'api-ref/source/v2/samples/bgp/bgp_speaker-update-request.json', 'api-ref/source/v2/bgp_peer.inc', 'api-ref/source/v2/samples/bgp/bgp_peer-create-request.json', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/bgp/bgp_peer-list-response.json', 'api-ref/source/v2/samples/bgp/bgp_peer-show-response.json', 'neutron_lib/tests/unit/api/definitions/test_bgp_dragentscheduler.py', 'api-ref/source/v2/samples/bgp/bgp_speaker_list_dragent_host-response.json', 'api-ref/source/v2/parameters.yaml', 'neutron_lib/api/definitions/bgp_dragentscheduler.py', 'api-ref/source/v2/bgp_speaker.inc', 'neutron_lib/api/definitions/bgp.py', 'api-ref/source/v2/samples/bgp/bgp_speaker-create-request.json', 'releasenotes/notes/rehome-dynamic-routing-apidef-3d78ae209ec59858.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/00b6c2407b89208ff1bd23c9f575af06eeabe4d5', 'message': 'Move bgp api-def to neutron-lib\n\nAs neutron-dynamic-routing is a Neutron stadium project the api-def\nshould be in neutron-lib\n\nChange-Id: I39de082a273cb6ad574022a2b59737ab8a059a09\n'}]",3,788322,00b6c2407b89208ff1bd23c9f575af06eeabe4d5,24,7,5,8313,,,0,"Move bgp api-def to neutron-lib

As neutron-dynamic-routing is a Neutron stadium project the api-def
should be in neutron-lib

Change-Id: I39de082a273cb6ad574022a2b59737ab8a059a09
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/22/788322/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/api/definitions/test_bgp_dragentscheduler.py', 'neutron_lib/api/definitions/bgp_4byte_asn.py', 'neutron_lib/tests/unit/api/definitions/test_bgp_4byte_asn.py', 'neutron_lib/api/definitions/bgp_dragentscheduler.py', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/bgp.py', 'neutron_lib/api/definitions/base.py', 'neutron_lib/constants.py', 'neutron_lib/tests/unit/api/definitions/test_bgp.py']",9,699a427227b6749ae3560b5e64286d999c6b036e,ndr_move_spec_to_lib,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from neutron_lib.api.definitions import bgp from neutron_lib.tests.unit.api.definitions import base class BgpDefinitionTestCase(base.DefinitionBaseTestCase): extension_module = bgp extension_resources = ('bgp-speakers', 'bgp-peers') extension_attributes = ('local_as', 'peers', 'networks', 'advertise_floating_ip_host_routes', 'advertise_tenant_networks', 'peer_ip', 'remote_as', 'auth_type', 'password',) ",,281,1
openstack%2Fkayobe~stable%2Fwallaby~I536a526340f6d7dea7a69372904b777292774eba,openstack/kayobe,stable/wallaby,I536a526340f6d7dea7a69372904b777292774eba,CI: Remove unused Docker images after overcloud upgrade,MERGED,2021-05-11 19:16:51.000000000,2021-05-18 12:32:49.000000000,2021-05-18 12:30:01.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 19:16:51.000000000', 'files': ['playbooks/kayobe-overcloud-upgrade-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e5a319aa2a0309176b3b30ce762e2fee525974b8', 'message': 'CI: Remove unused Docker images after overcloud upgrade\n\nOvercloud upgrade jobs often fail when running on nodes with a 38G root\ndisk. The overcloud upgrade itself generally works, but post-upgrade\ntesting fails, for example when RabbitMQ gets in alarm state due to lack\nof free disk space, which prevents Nova from functioning correctly and\nmakes it return ""Unknown Error (HTTP 504)"".\n\nChange-Id: I536a526340f6d7dea7a69372904b777292774eba\n(cherry picked from commit 93a8baca93b7525c41d164c13822f60672e41bdf)\n'}]",0,790730,e5a319aa2a0309176b3b30ce762e2fee525974b8,40,3,1,14826,,,0,"CI: Remove unused Docker images after overcloud upgrade

Overcloud upgrade jobs often fail when running on nodes with a 38G root
disk. The overcloud upgrade itself generally works, but post-upgrade
testing fails, for example when RabbitMQ gets in alarm state due to lack
of free disk space, which prevents Nova from functioning correctly and
makes it return ""Unknown Error (HTTP 504)"".

Change-Id: I536a526340f6d7dea7a69372904b777292774eba
(cherry picked from commit 93a8baca93b7525c41d164c13822f60672e41bdf)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/30/790730/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-overcloud-upgrade-base/run.yml'],1,e5a319aa2a0309176b3b30ce762e2fee525974b8,docker-image-prune-stable/wallaby," # Remove unused Docker images to avoid reaching full disk - name: Remove unused Docker images shell: cmd: ""docker image prune --all --force"" become: true ",,6,0
openstack%2Fkayobe~stable%2Fwallaby~I6a801e8bb5171bebd2b3f20d6140329d38ea36a5,openstack/kayobe,stable/wallaby,I6a801e8bb5171bebd2b3f20d6140329d38ea36a5,Fixes for Ansible 2.10,MERGED,2021-05-13 11:48:36.000000000,2021-05-18 12:31:22.000000000,2021-05-18 12:29:58.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 11:48:36.000000000', 'files': ['ansible/roles/ipa-images/tasks/set-driver-info.yml', 'ansible/provision-net.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/73dfeb2960ae502e4f60b50ac7b5aca7cdf2d164', 'message': 'Fixes for Ansible 2.10\n\nos_image_facts renamed to os_image_info, and no longer sets a fact.\nInstead we use the registered result. The same is true for\nos_networks_facts and os_networks_info.\n\nWe did not catch the networks issue in CI because the code only runs\nwith a VLAN provisioning network, and we use a flat network.\n\nChange-Id: I6a801e8bb5171bebd2b3f20d6140329d38ea36a5\n(cherry picked from commit c44f4815cf22955a2b68937b03b50c81f81fade6)\n'}]",0,791099,73dfeb2960ae502e4f60b50ac7b5aca7cdf2d164,12,3,1,14826,,,0,"Fixes for Ansible 2.10

os_image_facts renamed to os_image_info, and no longer sets a fact.
Instead we use the registered result. The same is true for
os_networks_facts and os_networks_info.

We did not catch the networks issue in CI because the code only runs
with a VLAN provisioning network, and we use a flat network.

Change-Id: I6a801e8bb5171bebd2b3f20d6140329d38ea36a5
(cherry picked from commit c44f4815cf22955a2b68937b03b50c81f81fade6)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/99/791099/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ipa-images/tasks/set-driver-info.yml', 'ansible/provision-net.yml']",2,73dfeb2960ae502e4f60b50ac7b5aca7cdf2d164,, os_networks_info: when: provisioning_network_facts.openstack_networks[0].shared os_networks_info: when: cleaning_network_facts.openstack_networks[0].shared, os_networks_facts: when: openstack_networks[0].shared os_networks_facts: when: openstack_networks[0].shared,7,7
openstack%2Frpm-packaging~master~I30c34033a20f0ce032c5efcbe96cb47d4ec81bcd,openstack/rpm-packaging,master,I30c34033a20f0ce032c5efcbe96cb47d4ec81bcd,Setup gpgverify macros only when rhel < 9,MERGED,2021-05-12 06:15:04.000000000,2021-05-18 12:30:58.000000000,2021-05-18 12:30:58.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 16312}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-12 06:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6268b5acfa62d6fcb991801f169ab641d013447e', 'message': ""Setup gpgverify macros only when rhel < 9\n\nRHEL 9 redhat-rpm-config package includes gpgverify macros so\nwe don't need to include these in openstack-macros to avoid\nconflict with redhat-rpm-config.\n\nChange-Id: I30c34033a20f0ce032c5efcbe96cb47d4ec81bcd\n""}, {'number': 2, 'created': '2021-05-18 11:12:30.000000000', 'files': ['openstack/openstack-macros/openstack-macros.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/186f7f214b95051a23e429cf51e63c314f6a2ce9', 'message': ""Setup gpgverify macros only when rhel < 9\n\nRHEL 9 redhat-rpm-config package includes gpgverify macros so\nwe don't need to include these in openstack-macros to avoid\nconflict with redhat-rpm-config.\n\nChange-Id: I30c34033a20f0ce032c5efcbe96cb47d4ec81bcd\n""}]",0,790902,186f7f214b95051a23e429cf51e63c314f6a2ce9,20,7,2,13861,,,0,"Setup gpgverify macros only when rhel < 9

RHEL 9 redhat-rpm-config package includes gpgverify macros so
we don't need to include these in openstack-macros to avoid
conflict with redhat-rpm-config.

Change-Id: I30c34033a20f0ce032c5efcbe96cb47d4ec81bcd
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/02/790902/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstack-macros/openstack-macros.spec.j2'],1,6268b5acfa62d6fcb991801f169ab641d013447e,,%if 0%{?rhel} < 9%endif%if 0%{?rhel} < 9%endif,,4,0
openstack%2Fplacement~master~Ib0ee1ed0aca494146a0499a61726445ffa7bc9be,openstack/placement,master,Ib0ee1ed0aca494146a0499a61726445ffa7bc9be,Adapt to SQLAlchemy 1.4,MERGED,2021-05-05 16:08:45.000000000,2021-05-18 11:54:39.000000000,2021-05-18 11:53:16.000000000,"[{'_account_id': 7166}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14288}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 16:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b9b90fa881c958bfab8824ac3c11a5e8deab2354', 'message': 'Adapt to SQLAlchemy 1.4\n\nDo to stricter validation in 1.4 we need to fix a query in placement\n\nSee https://github.com/sqlalchemy/sqlalchemy/issues/6429\n\nChange-Id: Ib0ee1ed0aca494146a0499a61726445ffa7bc9be\n'}, {'number': 2, 'created': '2021-05-06 05:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/f0b0f383e6dc37d952d03ad4d4ffbdd75e2be0b6', 'message': 'Adapt to SQLAlchemy 1.4\n\nDo to stricter validation in 1.4 we need to fix a query in placement\n\nSee https://github.com/sqlalchemy/sqlalchemy/issues/6429\n\nChange-Id: Ib0ee1ed0aca494146a0499a61726445ffa7bc9be\n'}, {'number': 3, 'created': '2021-05-06 07:36:53.000000000', 'files': ['placement/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/680182dddc3ae979e9a9c99d7c0e54d95e880645', 'message': 'Adapt to SQLAlchemy 1.4\n\nDue to stricter validation in 1.4 we need to fix a query in placement\n\nSee https://github.com/sqlalchemy/sqlalchemy/issues/6429\n\nChange-Id: Ib0ee1ed0aca494146a0499a61726445ffa7bc9be\n'}]",7,789921,680182dddc3ae979e9a9c99d7c0e54d95e880645,19,6,3,9708,,,0,"Adapt to SQLAlchemy 1.4

Due to stricter validation in 1.4 we need to fix a query in placement

See https://github.com/sqlalchemy/sqlalchemy/issues/6429

Change-Id: Ib0ee1ed0aca494146a0499a61726445ffa7bc9be
",git fetch https://review.opendev.org/openstack/placement refs/changes/21/789921/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/resource_provider.py'],1,b9b90fa881c958bfab8824ac3c11a5e8deab2354,sqlalchemy-1.4," subq_1 = sa.alias(subq_1, name=""subq_1"")"," subq_1 = sa.alias(subq_1.as_scalar(), name=""subq_1"")",1,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I0f46d66940345f9c8ad22ed26ee42d340a9f5170,openstack/tripleo-heat-templates,stable/rocky,I0f46d66940345f9c8ad22ed26ee42d340a9f5170,Skip openvswitch restart if overcloud-minimal is used,ABANDONED,2020-04-28 20:11:59.000000000,2021-05-18 11:51:48.000000000,,"[{'_account_id': 7130}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-28 20:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5fb79072cb04283e4660b9cb8ffeb02ac93fec93', 'message': 'Skip openvswitch restart if overcloud-minimal is used\n\nopenvswitch package is not installed in overcloud-minimal and\nupgrade fails due to this service restart.  This patch avoids\nrestarting openvswitch if the openvswitch package is not installed.\n\nChange-Id: I0f46d66940345f9c8ad22ed26ee42d340a9f5170\n'}, {'number': 2, 'created': '2020-04-28 20:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aab1f5b49edc4dd09d5a7b49184f7f3119b6ad5b', 'message': 'Skip openvswitch restart if overcloud-minimal is used\n\nopenvswitch package is not installed in overcloud-minimal and\nupgrade fails due to this service restart.  This patch avoids\nrestarting openvswitch if the openvswitch package is not installed.\n\nChange-Id: I0f46d66940345f9c8ad22ed26ee42d340a9f5170\nCloses-bug: #1875743\n'}, {'number': 3, 'created': '2020-04-29 13:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/acaaf239edb7c6df6c1c92f4aea1f69dae9104e7', 'message': 'Skip openvswitch restart if overcloud-minimal is used\n\nopenvswitch package is not installed in overcloud-minimal and\nupgrade fails due to this service restart.  This patch avoids\nrestarting openvswitch if the openvswitch package is not installed.\n\nChange-Id: I0f46d66940345f9c8ad22ed26ee42d340a9f5170\nCloses-bug: #1875743\n'}, {'number': 4, 'created': '2020-04-29 21:14:57.000000000', 'files': ['puppet/services/tripleo-packages.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a2586a96d62903a79d7e279c3f86895d542bf37', 'message': 'Skip openvswitch restart if overcloud-minimal is used\n\nopenvswitch package is not installed in overcloud-minimal and\nupgrade fails due to this service restart.  This patch avoids\nrestarting openvswitch if the openvswitch package is not installed.\n\nChange-Id: I0f46d66940345f9c8ad22ed26ee42d340a9f5170\nCloses-bug: #1875743\n'}]",1,724148,2a2586a96d62903a79d7e279c3f86895d542bf37,17,5,4,7130,,,0,"Skip openvswitch restart if overcloud-minimal is used

openvswitch package is not installed in overcloud-minimal and
upgrade fails due to this service restart.  This patch avoids
restarting openvswitch if the openvswitch package is not installed.

Change-Id: I0f46d66940345f9c8ad22ed26ee42d340a9f5170
Closes-bug: #1875743
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/724148/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/tripleo-packages.yaml'],1,5fb79072cb04283e4660b9cb8ffeb02ac93fec93,bug/1875743, - name: Check if openvswitch is installed command: rpm -q openvswitch register: rpm_check_ovs when: - step|int == 3 - rpm_check_ovs.rc == 0, when: step|int == 3,6,1
openstack%2Fpython-tripleoclient~stable%2Frocky~Ib413a40a63c9d79e7387f854167d80a105888337,openstack/python-tripleoclient,stable/rocky,Ib413a40a63c9d79e7387f854167d80a105888337,[stable only] Remove timeout in config-download-export,ABANDONED,2020-04-27 18:10:32.000000000,2021-05-18 11:51:39.000000000,,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-04-27 18:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a857728b73cc7e4bd5196af9f23c295a700d32fc', 'message': '[stable only] Remove timeout in config-download-export\n\nWith large number of nodes this can run for more than the\ndefault timeout of 360s as we do fetch the whole config\nfrom heat and generate the playbooks and the workflow can\ntimeout very easily.\n\nThis was removed for config-download worflow with\nhttps://review.opendev.org/620627\n\nRelated-Bug: #1805649\nChange-Id: Ib413a40a63c9d79e7387f854167d80a105888337\n(cherry picked from commit 934d713ac5f3c9a15339e79f4d599ed62ad5612e)\n(cherry picked from commit 22f5da9e2ba52336b7d7bc15e83b16ecd5612447)\n'}, {'number': 2, 'created': '2020-08-04 19:05:19.000000000', 'files': ['tripleoclient/workflows/deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b838f9ac377713068c8a629f4bfc14436d969fb8', 'message': '[stable only] Remove timeout in config-download-export\n\nWith large number of nodes this can run for more than the\ndefault timeout of 360s as we do fetch the whole config\nfrom heat and generate the playbooks and the workflow can\ntimeout very easily.\n\nThis was removed for config-download worflow with\nhttps://review.opendev.org/620627\n\nRelated-Bug: #1805649\nChange-Id: Ib413a40a63c9d79e7387f854167d80a105888337\n(cherry picked from commit 934d713ac5f3c9a15339e79f4d599ed62ad5612e)\n(cherry picked from commit 22f5da9e2ba52336b7d7bc15e83b16ecd5612447)\n'}]",0,723634,b838f9ac377713068c8a629f4bfc14436d969fb8,36,7,2,25877,,,0,"[stable only] Remove timeout in config-download-export

With large number of nodes this can run for more than the
default timeout of 360s as we do fetch the whole config
from heat and generate the playbooks and the workflow can
timeout very easily.

This was removed for config-download worflow with
https://review.opendev.org/620627

Related-Bug: #1805649
Change-Id: Ib413a40a63c9d79e7387f854167d80a105888337
(cherry picked from commit 934d713ac5f3c9a15339e79f4d599ed62ad5612e)
(cherry picked from commit 22f5da9e2ba52336b7d7bc15e83b16ecd5612447)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/723634/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/deployment.py'],1,a857728b73cc7e4bd5196af9f23c295a700d32fc,," for payload in base.wait_for_messages(workflow_client, ws, execution):"," for payload in base.wait_for_messages(workflow_client, ws, execution, _WORKFLOW_TIMEOUT):",1,2
openstack%2Fironic~stable%2Fwallaby~I60787243fdc6ed2741522355ec79970bdb912f41,openstack/ironic,stable/wallaby,I60787243fdc6ed2741522355ec79970bdb912f41,Delete unavailable py2 package,MERGED,2021-05-10 15:15:44.000000000,2021-05-18 11:47:38.000000000,2021-05-18 11:46:15.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-10 15:15:44.000000000', 'files': ['doc/source/install/configure-tenant-networks.rst', 'doc/source/install/include/configure-ironic-api-mod_wsgi.inc', 'doc/source/install/install-ubuntu.rst', 'doc/source/install/enabling-https.rst', 'doc/source/install/configure-compute.rst', 'doc/source/install/include/configure-ironic-api.inc', 'doc/source/install/install-obs.rst', 'doc/source/install/configure-cleaning.rst', 'doc/source/install/install-rdo.rst', 'doc/source/install/configure-pxe.rst', 'doc/source/admin/console.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/77be4c6c690cfa8f52a10ada2b9c1ecabccd423f', 'message': 'Delete unavailable py2 package\n\nThe openstack Ussuri and Victoria versions no longer support the\nCentos7 and pyrhon2 environment packages. Correct the missing\nproblems in the latest document\n\nChange-Id: I60787243fdc6ed2741522355ec79970bdb912f41\n(cherry picked from commit 35dea078974261e83f594e798855893401a53511)\n'}]",0,790439,77be4c6c690cfa8f52a10ada2b9c1ecabccd423f,9,3,1,31506,,,0,"Delete unavailable py2 package

The openstack Ussuri and Victoria versions no longer support the
Centos7 and pyrhon2 environment packages. Correct the missing
problems in the latest document

Change-Id: I60787243fdc6ed2741522355ec79970bdb912f41
(cherry picked from commit 35dea078974261e83f594e798855893401a53511)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/39/790439/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/configure-tenant-networks.rst', 'doc/source/install/include/configure-ironic-api-mod_wsgi.inc', 'doc/source/install/install-ubuntu.rst', 'doc/source/install/enabling-https.rst', 'doc/source/install/configure-compute.rst', 'doc/source/install/include/configure-ironic-api.inc', 'doc/source/install/install-obs.rst', 'doc/source/install/configure-cleaning.rst', 'doc/source/install/install-rdo.rst', 'doc/source/install/configure-pxe.rst', 'doc/source/admin/console.rst']",11,77be4c6c690cfa8f52a10ada2b9c1ecabccd423f,, RHEL8/CentOS8/Fedora:: RHEL8/CentOS8/Fedora:: RHEL8/CentOS8/Fedora::, RHEL7/CentOS7:: sudo yum install shellinabox Fedora:: RHEL7/CentOS7:: sudo yum install openssl Fedora:: RHEL7/CentOS7:: sudo yum install socat Fedora::,30,70
openstack%2Fkayobe~master~Ic8ec3bb98f8f016e1d089bf10bd0538264394241,openstack/kayobe,master,Ic8ec3bb98f8f016e1d089bf10bd0538264394241,Make docker registry network mode configurable,MERGED,2021-05-05 11:28:05.000000000,2021-05-18 11:29:27.000000000,2021-05-18 11:28:08.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-05-05 11:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/869dd3e62699fc1976dcf072321b826b038e7e27', 'message': ""Make docker registry network mode configurable\n\nAdds a new flag, 'docker_registry_network_mode', which defaults to\n'host'. This may be used to set the network mode of the Docker registry\ncontainer.\n\nThis is a follow up to I404dd52701426a10c2e92727bd52b7fd7112abf6, which\nchanged the network mode from the default of bridge to host. It allows\nthat change to be backported to stable branches, without modifying the\ndefault value.\n\nChange-Id: Ic8ec3bb98f8f016e1d089bf10bd0538264394241\n""}, {'number': 2, 'created': '2021-05-07 08:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1200fa185709b7237b3c52148f735ab92430c167', 'message': ""Make docker registry network mode configurable\n\nAdds a new flag, 'docker_registry_network_mode', which defaults to\n'host'. This may be used to set the network mode of the Docker registry\ncontainer.\n\nThis is a follow up to I404dd52701426a10c2e92727bd52b7fd7112abf6, which\nchanged the network mode from the default of bridge to host. It allows\nthat change to be backported to stable branches, without modifying the\ndefault value.\n\nChange-Id: Ic8ec3bb98f8f016e1d089bf10bd0538264394241\n""}, {'number': 3, 'created': '2021-05-11 20:48:32.000000000', 'files': ['ansible/roles/docker-registry/defaults/main.yml', 'releasenotes/notes/docker-registry-network-mode-3c678295b51d69c1.yaml', 'etc/kayobe/docker-registry.yml', 'ansible/group_vars/all/docker-registry', 'doc/source/configuration/reference/docker-registry.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e187ad7955ed5baf2eb23ef7bb5ec4830881d29f', 'message': ""Make docker registry network mode configurable\n\nAdds a new flag, 'docker_registry_network_mode', which defaults to\n'host'. This may be used to set the network mode of the Docker registry\ncontainer.\n\nThis is a follow up to I404dd52701426a10c2e92727bd52b7fd7112abf6, which\nchanged the network mode from the default of bridge to host. It allows\nthat change to be backported to stable branches, without modifying the\ndefault value.\n\nChange-Id: Ic8ec3bb98f8f016e1d089bf10bd0538264394241\n""}]",0,789791,e187ad7955ed5baf2eb23ef7bb5ec4830881d29f,15,3,3,14826,,,0,"Make docker registry network mode configurable

Adds a new flag, 'docker_registry_network_mode', which defaults to
'host'. This may be used to set the network mode of the Docker registry
container.

This is a follow up to I404dd52701426a10c2e92727bd52b7fd7112abf6, which
changed the network mode from the default of bridge to host. It allows
that change to be backported to stable branches, without modifying the
default value.

Change-Id: Ic8ec3bb98f8f016e1d089bf10bd0538264394241
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/91/789791/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/docker-registry/defaults/main.yml', 'releasenotes/notes/docker-registry-network-mode-3c678295b51d69c1.yaml', 'etc/kayobe/docker-registry.yml', 'ansible/group_vars/all/docker-registry']",4,869dd3e62699fc1976dcf072321b826b038e7e27,docker-registry-network-mode,# The network mode of the docker registry container. Default is 'host'. docker_registry_network_mode: host ,,18,2
openstack%2Ftrove-dashboard~stable%2Fvictoria~Ia5a93a220c9ec86a23d281dc3604eeaa9c2d6673,openstack/trove-dashboard,stable/victoria,Ia5a93a220c9ec86a23d281dc3604eeaa9c2d6673,Fix nova client initialization in multi-region cloud,MERGED,2021-05-18 10:49:35.000000000,2021-05-18 11:21:01.000000000,2021-05-18 11:21:01.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 10:49:35.000000000', 'files': ['trove_dashboard/api/trove.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/e89a0ab3c6282d6364402e923bc9a850d253a5fc', 'message': ""Fix nova client initialization in multi-region cloud\n\nThe current nova client initialization doesn't take regions into\nconsideration so that the flavor used for creating trove instance\nis coming from other regions.\n\nChange-Id: Ia5a93a220c9ec86a23d281dc3604eeaa9c2d6673\n(cherry-picked from 28e02161b0db8dad9d71a17bcb334fb9d7741dec)\n""}]",0,791920,e89a0ab3c6282d6364402e923bc9a850d253a5fc,6,2,1,6732,,,0,"Fix nova client initialization in multi-region cloud

The current nova client initialization doesn't take regions into
consideration so that the flavor used for creating trove instance
is coming from other regions.

Change-Id: Ia5a93a220c9ec86a23d281dc3604eeaa9c2d6673
(cherry-picked from 28e02161b0db8dad9d71a17bcb334fb9d7741dec)
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/20/791920/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/api/trove.py'],1,e89a0ab3c6282d6364402e923bc9a850d253a5fc,v-fix-multi-region,"from keystoneclient.auth import token_endpointfrom openstack_auth import utils as auth_utils from openstack_dashboard.api import base from oslo_log import log as logging from troveclient.v1 import client endpoint_type = getattr(settings, 'OPENSTACK_ENDPOINT_TYPE', 'publicURL') region = request.user.services_region endpoint = base.url_for(request, 'database') auth_url, _ = auth_utils.fix_auth_url_version_prefix( settings.OPENSTACK_KEYSTONE_URL) auth = token_endpoint.Token(auth_url, request.user.token.id) verify = not insecure and (cacert or True) t_client = client.Client(session=session.Session(auth=auth, verify=verify), service_type='database', endpoint_type=endpoint_type, region_name=region, endpoint_override=endpoint) return t_client endpoint_type = getattr(settings, 'OPENSTACK_ENDPOINT_TYPE', 'publicURL') region = request.user.services_region endpoint = base.url_for(request, 'compute') auth_url, _ = auth_utils.fix_auth_url_version_prefix( settings.OPENSTACK_KEYSTONE_URL) auth = token_endpoint.Token(auth_url, request.user.token.id) verify = not insecure and (cacert or True) nova = nova_client.Client( NOVA_VERSION, session=session.Session(auth=auth, verify=verify), endpoint_type=endpoint_type, service_type='compute', region_name=region, endpoint_override=endpoint) ","from troveclient.v1 import client from openstack_dashboard.api import base from oslo_log import log as logging from keystoneauth1 import loading trove_url = base.url_for(request, 'database') c = client.Client(request.user.username, request.user.token.id, project_id=request.user.project_id, auth_url=trove_url, insecure=insecure, cacert=cacert, http_log_debug=settings.DEBUG) c.client.auth_token = request.user.token.id c.client.management_url = trove_url return c identity_url = base.url_for(request, 'identity') loader = loading.get_plugin_loader('token') auth = loader.load_from_options(auth_url=identity_url, token=request.user.token.id, tenant_id=request.user.project_id) sess = session.Session(auth=auth) nova = nova_client.Client(NOVA_VERSION, session=sess, insecure=insecure, cacert=cacert, http_log_debug=settings.DEBUG)",37,29
openstack%2Fironic~master~I8468da377b7878eb3d1a61e6a6bcd4ac8a5f06d7,openstack/ironic,master,I8468da377b7878eb3d1a61e6a6bcd4ac8a5f06d7,Rework the user guide,MERGED,2021-05-10 09:29:57.000000000,2021-05-18 11:15:06.000000000,2021-05-18 11:13:17.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-10 09:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e7823a8fd218d82f456759e2e3bb24cab22cbf30', 'message': 'Rework the user guide\n\nCurrently it only contains (outdated) explanations how Ironic works.\nMove them one level deeper and migrate the content relevant to users:\n* Preparing instance images from the installation guide\n* Deploying nodes from the standalone guide\n\nCompatibility shims are provided for migrated pages.\n\nChange-Id: I8468da377b7878eb3d1a61e6a6bcd4ac8a5f06d7\n'}, {'number': 2, 'created': '2021-05-10 15:18:24.000000000', 'files': ['doc/source/user/creating-images.rst', 'doc/source/index.rst', 'doc/source/user/index.rst', 'doc/source/install/creating-images.rst', 'doc/source/install/standalone/deploy.rst', 'doc/source/install/index.rst', 'doc/source/user/architecture.rst', 'doc/source/install/standalone.rst', 'doc/source/user/deploy.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6243a4b280620efb49e68728222e64bc11ac149a', 'message': 'Rework the user guide\n\nCurrently it only contains (outdated) explanations how Ironic works.\nMove them one level deeper and migrate the content relevant to users:\n* Preparing instance images from the installation guide\n* Deploying nodes from the standalone guide\n\nCompatibility shims are provided for migrated pages.\n\nChange-Id: I8468da377b7878eb3d1a61e6a6bcd4ac8a5f06d7\n'}]",0,790387,6243a4b280620efb49e68728222e64bc11ac149a,13,3,2,10239,,,0,"Rework the user guide

Currently it only contains (outdated) explanations how Ironic works.
Move them one level deeper and migrate the content relevant to users:
* Preparing instance images from the installation guide
* Deploying nodes from the standalone guide

Compatibility shims are provided for migrated pages.

Change-Id: I8468da377b7878eb3d1a61e6a6bcd4ac8a5f06d7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/87/790387/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/creating-images.rst', 'doc/source/index.rst', 'doc/source/install/creating-images.rst', 'doc/source/install/standalone/deploy.rst', 'doc/source/user/index.rst', 'doc/source/install/index.rst', 'doc/source/user/architecture.rst', 'doc/source/install/standalone.rst', 'doc/source/user/deploy.rst']",9,e7823a8fd218d82f456759e2e3bb24cab22cbf30,ancient-upgrade,"Deploying with Bare Metal service ================================= This guide explains how to use Ironic to deploy nodes without any front-end service, such as OpenStack Compute (nova) or Metal3_. .. _Metal3: http://metal3.io/ Populating instance_info ------------------------ Image information ~~~~~~~~~~~~~~~~~ You need to specify image information in the node's ``instance_info`` (see :doc:`/user/creating-images`): * ``image_source`` - URL of the whole disk or root partition image, mandatory. * ``root_gb`` - size of the root partition, required for partition images. .. note:: Older versions of the Bare Metal service used to require a positive integer for ``root_gb`` even for whole-disk images. You may want to set it for compatibility. * ``image_checksum`` - MD5 checksum of the image specified by ``image_source``, only required for ``http://`` images when using :ref:`direct-deploy`. .. note:: Additional checksum support exists via the ``image_os_hash_algo`` and ``image_os_hash_value`` fields. They may be used instead of the ``image_checksum`` field. .. warning:: If your operating system is running in FIPS 140-2 mode, MD5 will not be available, and you **must** use SHA256 or another modern algorithm. Starting with the Stein release of ironic-python-agent can also be a URL to a checksums file, e.g. one generated with: .. code-block:: shell cd /path/to/http/root md5sum *.img > checksums * ``kernel``, ``ramdisk`` - HTTP(s) or file URLs of the kernel and initramfs of the target OS. Must be added **only** for partition images. For example: .. code-block:: shell baremetal node set $NODE_UUID \ --instance-info image_source=$IMG \ --instance-info image_checksum=$MD5HASH \ --instance-info kernel=$KERNEL \ --instance-info ramdisk=$RAMDISK \ --instance-info root_gb=10 With a SHA256 hash: .. code-block:: shell baremetal node set $NODE_UUID \ --instance-info image_source=$IMG \ --instance-info image_os_hash_algo=sha256 \ --instance-info image_os_hash_value=$SHA256HASH \ --instance-info kernel=$KERNEL \ --instance-info ramdisk=$RAMDISK \ --instance-info root_gb=10 With a whole disk image: .. code-block:: shell baremetal node set $NODE_UUID \ --instance-info image_source=$IMG \ --instance-info image_checksum=$MD5HASH .. note:: For iLO drivers, fields that should be provided are: * ``ilo_deploy_iso`` under ``driver_info``; * ``ilo_boot_iso``, ``image_source``, ``root_gb`` under ``instance_info``. When using low RAM nodes with ``http://`` images that are not in the RAW format, you may want them cached locally, converted to raw and served from the conductor's HTTP server: .. code-block:: shell baremetal node set $NODE_UUID --instance-info image_download_source=local For software RAID with whole-disk images, the root UUID of the root partition has to be provided so that the bootloader can be correctly installed: .. code-block:: shell baremetal node set $NODE_UUID --instance-info image_rootfs_uuid=<uuid> Capabilities ~~~~~~~~~~~~ * :ref:`Boot mode <boot_mode_support>` can be specified per instance: .. code-block:: shell baremetal node set $NODE_UUID \ --instance-info capabilities='{""boot_mode"": ""uefi""}' Otherwise, the ``boot_mode`` capability from the node's ``properties`` will be used. .. warning:: The two settings must not contradict each other. .. note:: This capability was introduced in the Wallaby release series, previously ironic used a separate ``instance_info/deploy_boot_mode`` field instead. * To override the :ref:`boot option <local-boot-partition-images>` used for this instance, set the ``boot_option`` capability: .. code-block:: shell baremetal node set $NODE_UUID \ --instance-info capabilities='{""boot_option"": ""local""}' * Starting with the Ussuri release, you can set :ref:`root device hints <root-device-hints>` per instance: .. code-block:: shell baremetal node set $NODE_UUID \ --instance-info root_device='{""wwn"": ""0x4000cca77fc4dba1""}' This setting overrides any previous setting in ``properties`` and will be removed on undeployment. Overriding a hardware interface ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Non-admins with temporary access to a node, may wish to specify different node interfaces. However, allowing them to set these interface values directly on the node is problematic, as there is no automated way to ensure that the original interface values are restored. In order to temporarily override a hardware interface, simply set the appropriate value in ``instance_info``. For example, if you'd like to override a node's storage interface, run the following: .. code-block:: shell baremetal node set $NODE_UUID --instance-info storage_interface=cinder ``instance_info`` values persist until after a node is cleaned. .. note:: This feature is available starting with the Wallaby release. Deployment ---------- #. Validate that all parameters are correct: .. code-block:: console $ baremetal node validate $NODE_UUID +------------+--------+----------------------------------------------------------------+ | Interface | Result | Reason | +------------+--------+----------------------------------------------------------------+ | boot | True | | | console | False | Missing 'ipmi_terminal_port' parameter in node's driver_info. | | deploy | True | | | inspect | True | | | management | True | | | network | True | | | power | True | | | raid | True | | | storage | True | | +------------+--------+----------------------------------------------------------------+ #. Now you can start the deployment, run: .. code-block:: shell baremetal node deploy $NODE_UUID #. You can provide a configdrive as a JSON or as an ISO image, e.g.: .. code-block:: shell baremetal node deploy $NODE_UUID \ --config-drive '{""meta_data"": {""public_keys"": {""0"": ""ssh key contents""}}}' See :doc:`/install/configdrive` for details. #. Starting with the Wallaby release you can also request custom deploy steps, see :ref:`standalone-deploy-steps` for details. Ramdisk booting --------------- Advanced operators, specifically ones working with ephemeral workloads, may find it more useful to explicitly treat a node as one that would always boot from a Ramdisk. See :doc:`/admin/ramdisk-boot` for details. Other references ---------------- * :ref:`local-boot-without-compute` ",,646,616
openstack%2Ftrove-dashboard~stable%2Fwallaby~Ia5a93a220c9ec86a23d281dc3604eeaa9c2d6673,openstack/trove-dashboard,stable/wallaby,Ia5a93a220c9ec86a23d281dc3604eeaa9c2d6673,Fix nova client initialization in multi-region cloud,MERGED,2021-05-17 23:20:12.000000000,2021-05-18 11:02:51.000000000,2021-05-18 11:02:51.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 23:20:12.000000000', 'files': ['trove_dashboard/api/trove.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/a0da9cd19b2d1d7de448f160085fed8a8c357318', 'message': ""Fix nova client initialization in multi-region cloud\n\nThe current nova client initialization doesn't take regions into\nconsideration so that the flavor used for creating trove instance\nis coming from other regions.\n\nChange-Id: Ia5a93a220c9ec86a23d281dc3604eeaa9c2d6673\n(cherry-picked from 28e02161b0db8dad9d71a17bcb334fb9d7741dec)\n""}]",0,791845,a0da9cd19b2d1d7de448f160085fed8a8c357318,6,2,1,6732,,,0,"Fix nova client initialization in multi-region cloud

The current nova client initialization doesn't take regions into
consideration so that the flavor used for creating trove instance
is coming from other regions.

Change-Id: Ia5a93a220c9ec86a23d281dc3604eeaa9c2d6673
(cherry-picked from 28e02161b0db8dad9d71a17bcb334fb9d7741dec)
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/45/791845/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/api/trove.py'],1,a0da9cd19b2d1d7de448f160085fed8a8c357318,,"from keystoneclient.auth import token_endpointfrom openstack_auth import utils as auth_utils from openstack_dashboard.api import base from oslo_log import log as logging from troveclient.v1 import client endpoint_type = getattr(settings, 'OPENSTACK_ENDPOINT_TYPE', 'publicURL') region = request.user.services_region endpoint = base.url_for(request, 'database') auth_url, _ = auth_utils.fix_auth_url_version_prefix( settings.OPENSTACK_KEYSTONE_URL) auth = token_endpoint.Token(auth_url, request.user.token.id) verify = not insecure and (cacert or True) t_client = client.Client(session=session.Session(auth=auth, verify=verify), service_type='database', endpoint_type=endpoint_type, region_name=region, endpoint_override=endpoint) return t_client endpoint_type = getattr(settings, 'OPENSTACK_ENDPOINT_TYPE', 'publicURL') region = request.user.services_region endpoint = base.url_for(request, 'compute') auth_url, _ = auth_utils.fix_auth_url_version_prefix( settings.OPENSTACK_KEYSTONE_URL) auth = token_endpoint.Token(auth_url, request.user.token.id) verify = not insecure and (cacert or True) nova = nova_client.Client( NOVA_VERSION, session=session.Session(auth=auth, verify=verify), endpoint_type=endpoint_type, service_type='compute', region_name=region, endpoint_override=endpoint) ","from troveclient.v1 import client from openstack_dashboard.api import base from oslo_log import log as logging from keystoneauth1 import loading trove_url = base.url_for(request, 'database') c = client.Client(request.user.username, request.user.token.id, project_id=request.user.project_id, auth_url=trove_url, insecure=insecure, cacert=cacert, http_log_debug=settings.DEBUG) c.client.auth_token = request.user.token.id c.client.management_url = trove_url return c identity_url = base.url_for(request, 'identity') loader = loading.get_plugin_loader('token') auth = loader.load_from_options(auth_url=identity_url, token=request.user.token.id, tenant_id=request.user.project_id) sess = session.Session(auth=auth) nova = nova_client.Client(NOVA_VERSION, session=sess, insecure=insecure, cacert=cacert, http_log_debug=settings.DEBUG)",37,29
openstack%2Fvalidations-libs~master~I4d7aa6a07b617ffd650395118a31a98709f72113,openstack/validations-libs,master,I4d7aa6a07b617ffd650395118a31a98709f72113,Elevate the verbosity level when running validation(s),MERGED,2021-05-11 10:16:33.000000000,2021-05-18 10:58:28.000000000,2021-05-18 10:57:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-11 10:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/74a601da01022d293627ebcf4cd3f0cdd1257347', 'message': 'Increase the verbosity level when running validation(s)\n\nThis patch increases the verbosity level from info to debug when running\nvalidations. To get the very same information, the user will have to run\nthe validations with the -v optional argument:\n\n`$ validation -v run --validation check-ram,check-cpu`\n\nChange-Id: I4d7aa6a07b617ffd650395118a31a98709f72113\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-05-14 10:34:05.000000000', 'files': ['validations_libs/ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/658b73d931dab96c94894f7b83cc7544bbd49e13', 'message': 'Elevate the verbosity level when running validation(s)\n\nThis patch elevates the verbosity level from info to debug when running\nvalidations. To get the very same information, the user will have to run\nthe validations with the -v and --debug optional arguments:\n\n`$ validation -v --debug run --validation check-ram,check-cpu`\n\nChange-Id: I4d7aa6a07b617ffd650395118a31a98709f72113\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,790654,658b73d931dab96c94894f7b83cc7544bbd49e13,14,6,2,11491,,,0,"Elevate the verbosity level when running validation(s)

This patch elevates the verbosity level from info to debug when running
validations. To get the very same information, the user will have to run
the validations with the -v and --debug optional arguments:

`$ validation -v --debug run --validation check-ram,check-cpu`

Change-Id: I4d7aa6a07b617ffd650395118a31a98709f72113
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/54/790654/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/ansible.py'],1,74a601da01022d293627ebcf4cd3f0cdd1257347,logging, self.log.debug(, self.log.info(,1,1
openstack%2Fcinder~master~I49cdd730b53b148f842d59997f43d856a6053cfa,openstack/cinder,master,I49cdd730b53b148f842d59997f43d856a6053cfa,DNM Patch : Testing the Cinder CI,ABANDONED,2020-02-20 07:32:27.000000000,2021-05-18 10:53:24.000000000,,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18058}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19604}, {'_account_id': 19933}, {'_account_id': 21767}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}, {'_account_id': 31254}, {'_account_id': 31416}]","[{'number': 1, 'created': '2020-02-20 07:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea767a75770d78ca46971da030f64d6abc43c5e1', 'message': 'DNM Patch : Testing the Cinder CI\n\nChange-Id: I49cdd730b53b148f842d59997f43d856a6053cfa\n'}, {'number': 2, 'created': '2020-02-20 10:09:50.000000000', 'files': ['cinder/test'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5595da6d80de16ef881efa81e9085d28ac6a674', 'message': 'DNM Patch : Testing the Cinder CI\n\nChange-Id: I49cdd730b53b148f842d59997f43d856a6053cfa\n'}]",0,708814,a5595da6d80de16ef881efa81e9085d28ac6a674,269,35,2,19604,,,0,"DNM Patch : Testing the Cinder CI

Change-Id: I49cdd730b53b148f842d59997f43d856a6053cfa
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/708814/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,ea767a75770d78ca46971da030f64d6abc43c5e1,,testing patch ,,1,0
openstack%2Fzaqar~master~I5af660388509f716adbe9e2ed9246b8dccdc6fd5,openstack/zaqar,master,I5af660388509f716adbe9e2ed9246b8dccdc6fd5,Update swift client in Zaqar,MERGED,2021-05-13 05:44:08.000000000,2021-05-18 10:43:14.000000000,2021-05-18 10:41:56.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 05:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/760de44034bdb5e021d7738a370a7ab412ce33cc', 'message': 'Update swift clinet in Zaqar\n\nChange-Id: I5af660388509f716adbe9e2ed9246b8dccdc6fd5\n'}, {'number': 2, 'created': '2021-05-13 07:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/4e3eaa16f91a433510d5eb3a873a491376435a74', 'message': 'Update swift client in Zaqar\n\nChange-Id: I5af660388509f716adbe9e2ed9246b8dccdc6fd5\n'}, {'number': 3, 'created': '2021-05-13 07:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/5b7c8994103c415873123a10d43bc1ccef0d9378', 'message': 'Update swift client in Zaqar\n\nChange-Id: I5af660388509f716adbe9e2ed9246b8dccdc6fd5\n'}, {'number': 4, 'created': '2021-05-17 09:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/31288b1915407852938d4e5d5920b2a5a2ddfcf7', 'message': 'Update swift client in Zaqar\n\nChange-Id: I5af660388509f716adbe9e2ed9246b8dccdc6fd5\n'}, {'number': 5, 'created': '2021-05-18 07:39:47.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'zaqar/tests/unit/transport/wsgi/v1/test_home.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_home.py', 'zaqar/transport/wsgi/errors.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_home.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/db6a6b490863f83609dfcfdf6672eb86f88b31d8', 'message': 'Update swift client in Zaqar\n\nChange-Id: I5af660388509f716adbe9e2ed9246b8dccdc6fd5\n'}]",0,791094,db6a6b490863f83609dfcfdf6672eb86f88b31d8,14,2,5,8846,,,0,"Update swift client in Zaqar

Change-Id: I5af660388509f716adbe9e2ed9246b8dccdc6fd5
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/94/791094/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt']",3,760de44034bdb5e021d7738a370a7ab412ce33cc,update-swift-client,python-swiftclient==3.10.1,python-swiftclient==3.2.0,3,3
openstack%2Fopenstack-ansible-os_adjutant~master~I2ef49f81282370ceb1294279170b6a27f82be54f,openstack/openstack-ansible-os_adjutant,master,I2ef49f81282370ceb1294279170b6a27f82be54f,Remove incorrect horizon_post_install example,MERGED,2021-04-01 14:01:39.000000000,2021-05-18 10:39:24.000000000,2021-05-18 10:38:11.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-04-01 14:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/62c4d94c5cd50578ddebdc98fdb2d0c689b96016', 'message': 'Remove incorrect horizon_post_install example\n\nThis was accidentally included when importing the role.\nThe referenced files are cloudkitty dashboards and does not belong here.\nAdjutant dashboards are automatically included as part of the os_horizon role so this file is not relevant\n\nChange-Id: I2ef49f81282370ceb1294279170b6a27f82be54f\n'}, {'number': 2, 'created': '2021-04-20 08:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/12d3ba2b2bfbfc4ff93af7e16d61c418f7d35338', 'message': 'Remove incorrect horizon_post_install example\n\nThis was accidentally included when importing the role.\nThe referenced files are cloudkitty dashboards and does not belong here.\nAdjutant dashboards are automatically included as part of the os_horizon role so this file is not relevant\n\nChange-Id: I2ef49f81282370ceb1294279170b6a27f82be54f\n'}, {'number': 3, 'created': '2021-05-17 14:13:30.000000000', 'files': ['extras/horizon/horizon_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/66d3b942ac759b28e9aef92ff8928627de2480c0', 'message': 'Remove incorrect horizon_post_install example\n\nThis was accidentally included when importing the role.\nThe referenced files are cloudkitty dashboards and does not belong here.\nAdjutant dashboards are automatically included as part of the os_horizon role so this file is not relevant\n\nChange-Id: I2ef49f81282370ceb1294279170b6a27f82be54f\n'}]",0,784420,66d3b942ac759b28e9aef92ff8928627de2480c0,20,3,3,18279,,,0,"Remove incorrect horizon_post_install example

This was accidentally included when importing the role.
The referenced files are cloudkitty dashboards and does not belong here.
Adjutant dashboards are automatically included as part of the os_horizon role so this file is not relevant

Change-Id: I2ef49f81282370ceb1294279170b6a27f82be54f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_adjutant refs/changes/20/784420/3 && git format-patch -1 --stdout FETCH_HEAD,['extras/horizon/horizon_post_install.yml'],1,62c4d94c5cd50578ddebdc98fdb2d0c689b96016,,,"- name: Enable the adjutant-dashboard Horizon panel file: src: ""{{ item.src }}"" path: ""{{ item.path }}"" state: ""{{ item.state }}"" notify: Restart apache2 with_items: - src: ""{{ horizon_lib_dir }}/adjutantdashboard/enabled/_10_admin_group.py"" path: ""{{ horizon_lib_dir }}/openstack_dashboard/local/enabled/_10_admin_group.py"" state: ""{{ (horizon_enable_adjutant_ui | bool) | ternary('link', 'absent') }}"" - src: ""{{ horizon_lib_dir }}/adjutantdashboard/enabled/_10_project_group.py"" path: ""{{ horizon_lib_dir }}/openstack_dashboard/local/enabled/_10_project_group.py"" state: ""{{ (horizon_enable_adjutant_ui | bool) | ternary('link', 'absent') }}"" - src: ""{{ horizon_lib_dir }}/adjutantdashboard/enabled/_11_admin_hashmap_panel.py"" path: ""{{ horizon_lib_dir }}/openstack_dashboard/local/enabled/_11_admin_hashmap_panel.py"" state: ""{{ (horizon_enable_adjutant_ui | bool) | ternary('link', 'absent') }}"" - src: ""{{ horizon_lib_dir }}/adjutantdashboard/enabled/_11_admin_rating_panel.py"" path: ""{{ horizon_lib_dir }}/openstack_dashboard/local/enabled/_11_admin_rating_panel.py"" state: ""{{ (horizon_enable_adjutant_ui | bool) | ternary('link', 'absent') }}"" - src: ""{{ horizon_lib_dir }}/adjutantdashboard/enabled/_11_project_rating_panel.py"" path: ""{{ horizon_lib_dir }}/openstack_dashboard/local/enabled/_11_project_rating_panel.py"" state: ""{{ (horizon_enable_adjutant_ui | bool) | ternary('link', 'absent') }}"" - src: ""{{ horizon_lib_dir }}/adjutantdashboard/enabled/_12_project_reporting_panel.py"" path: ""{{ horizon_lib_dir }}/openstack_dashboard/local/enabled/_12_project_reporting_panel.py"" state: ""{{ (horizon_enable_adjutant_ui | bool) | ternary('link', 'absent') }}"" - src: ""{{ horizon_lib_dir }}/adjutantdashboard/enabled/_13_admin_pyscripts_panel.py"" path: ""{{ horizon_lib_dir }}/openstack_dashboard/local/enabled/_13_admin_pyscripts_panel.py"" state: ""{{ (horizon_enable_adjutant_ui | bool) | ternary('link', 'absent') }}"" ",0,28
openstack%2Ftripleo-validations~master~I71af534757761cc26e78b4a783687a9810ed8535,openstack/tripleo-validations,master,I71af534757761cc26e78b4a783687a9810ed8535,Bump pre-commit repositories,MERGED,2021-05-05 13:50:52.000000000,2021-05-18 10:39:21.000000000,2021-05-18 10:39:21.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-05 13:50:52.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cdad3a06ab3641bf87e3214c2da5fb2d302c23d6', 'message': 'Bump pre-commit repositories\n\nThis patch bumps the following tools:\n- pre-commit-hooks[1] to v3.4.0\n- yamllint[2] to v1.26.1\n- ansible-lint[3] to v5.0.8\n- bashate[4] to 2.0.0\n- flake8[5] to 3.9.1\n\n[1] - https://github.com/pre-commit/pre-commit-hooks\n[2] - https://github.com/adrienverge/yamllint\n[3] - https://github.com/ansible-community/ansible-lint\n[4] - https://github.com/openstack-dev/bashate\n[5] - https://gitlab.com/pycqa/flake8\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I71af534757761cc26e78b4a783687a9810ed8535\n'}]",0,789835,cdad3a06ab3641bf87e3214c2da5fb2d302c23d6,8,8,1,11491,,,0,"Bump pre-commit repositories

This patch bumps the following tools:
- pre-commit-hooks[1] to v3.4.0
- yamllint[2] to v1.26.1
- ansible-lint[3] to v5.0.8
- bashate[4] to 2.0.0
- flake8[5] to 3.9.1

[1] - https://github.com/pre-commit/pre-commit-hooks
[2] - https://github.com/adrienverge/yamllint
[3] - https://github.com/ansible-community/ansible-lint
[4] - https://github.com/openstack-dev/bashate
[5] - https://gitlab.com/pycqa/flake8

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I71af534757761cc26e78b4a783687a9810ed8535
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/35/789835/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,cdad3a06ab3641bf87e3214c2da5fb2d302c23d6,pre-commit-update, rev: v3.4.0 rev: 3.9.1 rev: v1.26.1 - repo: https://github.com/ansible-community/ansible-lint rev: v5.0.8 verbose: true entry: ansible-lint --force-color -p -v , rev: v2.3.0 rev: 3.8.3 rev: v1.24.2 - repo: https://github.com/ansible/ansible-lint.git rev: v5.0.3,8,5
openstack%2Fkayobe~stable%2Fwallaby~I3c15c6976296abf9c78f1480c1779b854145c7ca,openstack/kayobe,stable/wallaby,I3c15c6976296abf9c78f1480c1779b854145c7ca,Remove default time sources from customisable configuration,MERGED,2021-05-18 06:31:43.000000000,2021-05-18 10:34:29.000000000,2021-05-18 10:32:19.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 06:31:43.000000000', 'files': ['ansible/group_vars/all/time', 'etc/kayobe/time.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c01e5f0a6b4b8ccbb111439e9b2a6cac17388ef6', 'message': ""Remove default time sources from customisable configuration\n\nIt seems unlikely that anyone would want to extend the time servers\nvariable, so let's keep it simple and not add an additional variable\nwhere one isn't necessary. This is also consistent with how we configure\nDNS.\n\nThese variables haven't made it into an official release yet, so now\nis the time to clean up.\n\nChange-Id: I3c15c6976296abf9c78f1480c1779b854145c7ca\n(cherry picked from commit 223e310bc2338bb5f86c3a3de31f69361eba2f73)\n""}]",0,791787,c01e5f0a6b4b8ccbb111439e9b2a6cac17388ef6,8,3,1,15197,,,0,"Remove default time sources from customisable configuration

It seems unlikely that anyone would want to extend the time servers
variable, so let's keep it simple and not add an additional variable
where one isn't necessary. This is also consistent with how we configure
DNS.

These variables haven't made it into an official release yet, so now
is the time to clean up.

Change-Id: I3c15c6976296abf9c78f1480c1779b854145c7ca
(cherry picked from commit 223e310bc2338bb5f86c3a3de31f69361eba2f73)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/87/791787/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/time', 'etc/kayobe/time.yml']",2,c01e5f0a6b4b8ccbb111439e9b2a6cac17388ef6,,,# Kayobe default time sources #chrony_ntp_servers_default: ,7,14
openstack%2Fkayobe~stable%2Fwallaby~Ifcc3781d771e150b5771f2bf20cd8bcbc5faa443,openstack/kayobe,stable/wallaby,Ifcc3781d771e150b5771f2bf20cd8bcbc5faa443,CentOS Stream: update DNF repo file names,MERGED,2021-05-13 12:57:34.000000000,2021-05-18 10:33:36.000000000,2021-05-18 10:32:12.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:57:34.000000000', 'files': ['ansible/roles/dnf/templates/CentOS-Base.repo.j2', 'ansible/roles/dnf/templates/CentOS-AppStream.repo.j2', 'ansible/roles/dnf/tasks/local-mirror.yml', 'ansible/roles/dnf/templates/CentOS-Stream-Extras.repo.j2', 'playbooks/kayobe-overcloud-host-configure-base/tests/test_overcloud_host_configure.py', 'ansible/roles/dnf/templates/CentOS-Extras.repo.j2', 'ansible/roles/dnf/templates/CentOS-Stream-BaseOS.repo.j2', 'ansible/roles/dnf/templates/CentOS-Stream-AppStream.repo.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b79daa1672a4fe798bf1096c310e819619baee40', 'message': 'CentOS Stream: update DNF repo file names\n\nCentOS repositories were renamed following the separation of CentOS\nLinux and Stream. This change updates their names when using a local\nmirror. It also removes the old files.\n\nChange-Id: Ifcc3781d771e150b5771f2bf20cd8bcbc5faa443\nStory: 2008795\nTask: 42435\n(cherry picked from commit ece41b7a677341d5023eb3f5e4db7f5326cfc86c)\n'}]",0,791100,b79daa1672a4fe798bf1096c310e819619baee40,17,3,1,14826,,,0,"CentOS Stream: update DNF repo file names

CentOS repositories were renamed following the separation of CentOS
Linux and Stream. This change updates their names when using a local
mirror. It also removes the old files.

Change-Id: Ifcc3781d771e150b5771f2bf20cd8bcbc5faa443
Story: 2008795
Task: 42435
(cherry picked from commit ece41b7a677341d5023eb3f5e4db7f5326cfc86c)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/00/791100/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/dnf/templates/CentOS-Base.repo.j2', 'ansible/roles/dnf/templates/CentOS-AppStream.repo.j2', 'ansible/roles/dnf/tasks/local-mirror.yml', 'ansible/roles/dnf/templates/CentOS-Extras.repo.j2', 'ansible/roles/dnf/templates/CentOS-Stream-BaseOS.repo.j2', 'ansible/roles/dnf/templates/CentOS-Stream-Extras.repo.j2', 'playbooks/kayobe-overcloud-host-configure-base/tests/test_overcloud_host_configure.py', 'ansible/roles/dnf/templates/CentOS-Stream-AppStream.repo.j2']",8,b79daa1672a4fe798bf1096c310e819619baee40,centos-repos-stable/wallaby,"# CentOS-Stream-AppStream.repo # # The mirrorlist system uses the connecting IP address of the client and the # update status of each mirror to pick current mirrors that are geographically # close to the client. You should use this for CentOS updates unless you are # manually picking other mirrors. # # If the mirrorlist does not work for you, you can try the commented out # baseurl line instead. [appstream] name=CentOS Stream $releasever - AppStream baseurl=http://{{ dnf_centos_mirror_host }}/{{ dnf_centos_mirror_directory }}/$stream/AppStream/$basearch/os/ gpgcheck=1 enabled=1 gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial fastestmirror=0 ",,62,59
openstack%2Ftripleo-common~master~Ife65326509e1d5fe7689c1baec17d902ec848c0d,openstack/tripleo-common,master,Ife65326509e1d5fe7689c1baec17d902ec848c0d,Skip port if missing mandatory tag,MERGED,2021-05-10 23:08:41.000000000,2021-05-18 10:17:34.000000000,2021-05-18 10:16:28.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-10 23:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bc9909459813803c664699584c628b726df97d7e', 'message': ""Don't bail out on missing port tag\n\nInstead of bailing out if a port does not have\nthe mandatory tags when building ports by role and\nhost, simply skip the port.\n\nAlso skip ports for which the network_id is not in\n'networks_by_id'. This means it is a OVN bridge MAC\nport and should be ignored.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: Ife65326509e1d5fe7689c1baec17d902ec848c0d\n""}, {'number': 2, 'created': '2021-05-11 06:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9a8b5328f6ab3833e9ba17b51ffedadd1b24981b', 'message': ""Skip port if missing mandatory tag\n\nInstead of bailing out if a port does not have the\nmandatory tags when building ports_by_role_and_host\nsimply skip the port.\n\nAlso skip ports for which the network_id is not in\n'networks_by_id'. This means it is a OVN bridge MAC\nport and should be ignored.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: Ife65326509e1d5fe7689c1baec17d902ec848c0d\n""}, {'number': 3, 'created': '2021-05-11 06:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5d11c1f4f3b035e43a23706afba7a241c55b8e46', 'message': ""Skip port if missing mandatory tag\n\nInstead of bailing out if a port does not have the\nmandatory tags when building ports_by_role_and_host\nsimply skip the port.\n\nAlso skip ports for which the network_id is not in\n'networks_by_id'. This means it is a OVN bridge MAC\nport and should be ignored.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: Ife65326509e1d5fe7689c1baec17d902ec848c0d\n""}, {'number': 4, 'created': '2021-05-12 19:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/62c6af10bcdc6d5b539a25d47f5c359e6b4db4e1', 'message': ""Skip port if missing mandatory tag\n\nInstead of bailing out if a port does not have the\nmandatory tags when building ports_by_role_and_host\nsimply skip the port.\n\nAlso skip ports for which the network_id is not in\n'networks_by_id'. This means it is a OVN bridge MAC\nport and should be ignored.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: Ife65326509e1d5fe7689c1baec17d902ec848c0d\n""}, {'number': 5, 'created': '2021-05-14 13:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/09dfd32dae5031c085b4191ca22ecb95bfe240a0', 'message': ""Skip port if missing mandatory tag\n\nInstead of bailing out if a port does not have the\nmandatory tags when building ports_by_role_and_host\nsimply skip the port.\n\nAlso skip ports for which the network_id is not in\n'networks_by_id'. This means it is a OVN bridge MAC\nport and should be ignored.\n\nRelated: blueprint network-data-v2-ports\nCloses-Bug: #1928469\nChange-Id: Ife65326509e1d5fe7689c1baec17d902ec848c0d\n""}, {'number': 6, 'created': '2021-05-14 19:24:28.000000000', 'files': ['tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/14441478f944d0e07d107191d59fbb9024ced512', 'message': ""Skip port if missing mandatory tag\n\nInstead of bailing out if a port does not have the\nmandatory tags when building ports_by_role_and_host\nsimply skip the port.\n\nAlso skip ports for which the network_id is not in\n'networks_by_id'. This means it is a OVN bridge MAC\nport and should be ignored.\n\nRelated: blueprint network-data-v2-ports\nCloses-Bug: #1928469\nDepends-On: https://review.opendev.org/790687\nChange-Id: Ife65326509e1d5fe7689c1baec17d902ec848c0d\n""}]",6,790527,14441478f944d0e07d107191d59fbb9024ced512,31,6,6,24245,,,0,"Skip port if missing mandatory tag

Instead of bailing out if a port does not have the
mandatory tags when building ports_by_role_and_host
simply skip the port.

Also skip ports for which the network_id is not in
'networks_by_id'. This means it is a OVN bridge MAC
port and should be ignored.

Related: blueprint network-data-v2-ports
Closes-Bug: #1928469
Depends-On: https://review.opendev.org/790687
Change-Id: Ife65326509e1d5fe7689c1baec17d902ec848c0d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/27/790527/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/inventory.py']",2,bc9909459813803c664699584c628b726df97d7e,bug/1928469," # In case of missing required tag, this is not a node port. if not mandatory_tags.issubset(tags): continue try: network = self.networks_by_id[network_id] except KeyError: continue "," # In case of missing required tags, raise an error. # neutron is useless as a inventory source in this case. if not mandatory_tags.issubset(tags): raise exception.MissingMandatoryNeutronResourceTag() network = self.networks_by_id[network_id]",9,4
openstack%2Ftripleo-common~master~Idb557d0c6c4356385cb05b2041b0bdaa5485367a,openstack/tripleo-common,master,Idb557d0c6c4356385cb05b2041b0bdaa5485367a,Ignore OVN Bridge MAC net for inventory generation,MERGED,2021-05-10 22:22:21.000000000,2021-05-18 10:11:20.000000000,2021-05-18 10:10:08.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-10 22:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8ca6fcc5eca470eccad59e81b32585712dc4376b', 'message': 'Ignore OVN Bridge MAC net for inventory generation\n\nThe OVN Bridge MAC network causes the inventory generation\nto be skipped due to MissingMandatoryNeutronResourceTag.\nThis nework should be ignored here.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: Idb557d0c6c4356385cb05b2041b0bdaa5485367a\n'}, {'number': 2, 'created': '2021-05-14 13:43:54.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8877d0f80572431fbb636f47ea87b38fbd6f64f4', 'message': 'Ignore OVN Bridge MAC net for inventory generation\n\nThe OVN Bridge MAC network causes the inventory generation\nto be skipped due to MissingMandatoryNeutronResourceTag.\nThis nework should be ignored here.\n\nRelated: blueprint network-data-v2-ports\nPartial-Bug: #1928469\nChange-Id: Idb557d0c6c4356385cb05b2041b0bdaa5485367a\n'}]",1,790525,8877d0f80572431fbb636f47ea87b38fbd6f64f4,13,5,2,24245,,,0,"Ignore OVN Bridge MAC net for inventory generation

The OVN Bridge MAC network causes the inventory generation
to be skipped due to MissingMandatoryNeutronResourceTag.
This nework should be ignored here.

Related: blueprint network-data-v2-ports
Partial-Bug: #1928469
Change-Id: Idb557d0c6c4356385cb05b2041b0bdaa5485367a
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/25/790525/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/inventory.py']",2,8ca6fcc5eca470eccad59e81b32585712dc4376b,bug/1928469, # Don't include the OVN Bridge MAC address net if net.name == constants.OVN_MAC_ADDR_NET_NAME: continue ,,8,0
openstack%2Fkolla-ansible~master~Ie9e2463a1b405453c8ae7caaee6ad57e0562ee47,openstack/kolla-ansible,master,Ie9e2463a1b405453c8ae7caaee6ad57e0562ee47,CI: Disable amphora in OVN jobs,MERGED,2021-03-29 15:17:59.000000000,2021-05-18 09:58:50.000000000,2021-05-18 09:57:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32291}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-03-29 15:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e28ee030510ea03eccfb6e19b924a0d5b831bfc1', 'message': 'CI: Disable amphora in OVN jobs\n\nChange-Id: Ie9e2463a1b405453c8ae7caaee6ad57e0562ee47\n'}, {'number': 2, 'created': '2021-03-29 16:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/610aa8c5297ecb6f73c8cb5ece53762e1dfcfec2', 'message': 'CI: Disable amphora in OVN jobs\n\nChange-Id: Ie9e2463a1b405453c8ae7caaee6ad57e0562ee47\n'}, {'number': 3, 'created': '2021-03-30 05:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e89a451edeaa68b2409fb7f071b30ed0dd8064ec', 'message': 'CI: Disable amphora in OVN jobs\n\nChange-Id: Ie9e2463a1b405453c8ae7caaee6ad57e0562ee47\n'}, {'number': 4, 'created': '2021-03-30 05:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a3650201790d6533fca7debd9ba316ecd81906ca', 'message': 'CI: Disable amphora in OVN jobs\n\nChange-Id: Ie9e2463a1b405453c8ae7caaee6ad57e0562ee47\n'}, {'number': 5, 'created': '2021-04-08 07:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9953bf80ea1795b2aa832927d3313d5d07f59865', 'message': 'CI: Disable amphora in OVN jobs\n\nChange-Id: Ie9e2463a1b405453c8ae7caaee6ad57e0562ee47\n'}, {'number': 6, 'created': '2021-04-08 08:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2610d4b0d84ce97bafec73bc5b06a1ba978d925e', 'message': 'CI: Disable amphora in OVN jobs\n\nChange-Id: Ie9e2463a1b405453c8ae7caaee6ad57e0562ee47\n'}, {'number': 7, 'created': '2021-04-08 13:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d26cce528ae13ec333589db8b88e7faf6d2d02ee', 'message': 'CI: Disable amphora in OVN jobs\n\nChange-Id: Ie9e2463a1b405453c8ae7caaee6ad57e0562ee47\n'}, {'number': 8, 'created': '2021-04-08 15:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/334cccbbea42f1fd38c8cf8757b5d81b8fa13aed', 'message': 'CI: Disable amphora in OVN jobs\n\nChange-Id: Ie9e2463a1b405453c8ae7caaee6ad57e0562ee47\n'}, {'number': 9, 'created': '2021-04-09 15:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79bc4918cb361ea0e609c8271a9401a6fae06008', 'message': 'CI: Disable amphora in OVN jobs\n\nChange-Id: Ie9e2463a1b405453c8ae7caaee6ad57e0562ee47\n'}, {'number': 10, 'created': '2021-04-12 08:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e26638790e7a4ea12a354fe4a63d532f53ac6557', 'message': 'CI: Disable amphora in OVN jobs\n\nChange-Id: Ie9e2463a1b405453c8ae7caaee6ad57e0562ee47\n'}, {'number': 11, 'created': '2021-04-13 09:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0661033a27d8f75cc442f26369b68d39c02d5ef3', 'message': 'CI: Disable amphora in OVN jobs\n\nChange-Id: Ie9e2463a1b405453c8ae7caaee6ad57e0562ee47\n'}, {'number': 12, 'created': '2021-05-17 08:49:17.000000000', 'files': ['tests/run.yml', 'tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bd496808c9fbe25a1611ea2af36f8bf7760539fa', 'message': 'CI: Disable amphora in OVN jobs\n\nChange-Id: Ie9e2463a1b405453c8ae7caaee6ad57e0562ee47\n'}]",5,783669,bd496808c9fbe25a1611ea2af36f8bf7760539fa,41,6,12,22629,,,0,"CI: Disable amphora in OVN jobs

Change-Id: Ie9e2463a1b405453c8ae7caaee6ad57e0562ee47
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/783669/12 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,e28ee030510ea03eccfb6e19b924a0d5b831bfc1,,"octavia_auto_configure: ""no"" octavia_provider_drivers: ""ovn:OVN provider"" octavia_provider_agents: ""ovn""",,3,0
openstack%2Fblazar-specs~master~I7d6789cecfeb432e0a0c38f996f559c24c85ca03,openstack/blazar-specs,master,I7d6789cecfeb432e0a0c38f996f559c24c85ca03,Fix PDF docs build,MERGED,2021-05-18 07:48:37.000000000,2021-05-18 09:53:24.000000000,2021-05-18 09:52:22.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 07:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-specs/commit/943d2142ec74752e45f0e67b697a5700874a3add', 'message': 'Fix PDF docs build\n\nUpdate tox config to include upper-constraints as dependencies. This\nresolves issues with building PDF docs.\n\nChange-Id: I7d6789cecfeb432e0a0c38f996f559c24c85ca03\n'}, {'number': 2, 'created': '2021-05-18 09:09:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar-specs/commit/1b34a81d919d138ca24ee3664bfd5e84634e0c40', 'message': 'Fix PDF docs build\n\nUpdate tox config to include upper-constraints as dependencies. This\nresolves issues with building PDF docs.\n\nChange-Id: I7d6789cecfeb432e0a0c38f996f559c24c85ca03\n'}]",0,791899,1b34a81d919d138ca24ee3664bfd5e84634e0c40,9,2,2,15197,,,0,"Fix PDF docs build

Update tox config to include upper-constraints as dependencies. This
resolves issues with building PDF docs.

Change-Id: I7d6789cecfeb432e0a0c38f996f559c24c85ca03
",git fetch https://review.opendev.org/openstack/blazar-specs refs/changes/99/791899/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,943d2142ec74752e45f0e67b697a5700874a3add,fix-pdf-docs,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txtdeps = {[testenv:docs]deps},,4,0
openstack%2Fopenstacksdk~feature%2Fr1~If3c88cc52f64bfe8771f52452b2548ab211e4e88,openstack/openstacksdk,feature/r1,If3c88cc52f64bfe8771f52452b2548ab211e4e88,Fix functional tests,ABANDONED,2021-05-12 16:41:09.000000000,2021-05-18 09:50:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-12 16:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bbf4d08b6a0c99b40f68c957250be7d860da5285', 'message': 'Remove branch coupling for functional tests\n\nIn the branch functional tests are not running due to the use of\nbranch-override. Remove it here to be able to check things.\n\nChange-Id: If3c88cc52f64bfe8771f52452b2548ab211e4e88\n'}, {'number': 2, 'created': '2021-05-12 16:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/dab246098079960b88ef2a92bc1408c2ea072ee9', 'message': 'Remove branch coupling for functional tests\n\nIn the branch functional tests are not running due to the use of\nbranch-override. Remove it here to be able to check things.\n\nChange-Id: If3c88cc52f64bfe8771f52452b2548ab211e4e88\n'}, {'number': 3, 'created': '2021-05-12 16:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/62ee5ca9759c60188bd04f9ed183950c0a8943a2', 'message': 'Remove branch coupling for functional tests\n\nIn the branch functional tests are not running due to the use of\nbranch-override. Remove it here to be able to check things.\n\nChange-Id: If3c88cc52f64bfe8771f52452b2548ab211e4e88\n'}, {'number': 4, 'created': '2021-05-13 15:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ff21a71e5e2d1c5b57fb1986939487b10828270b', 'message': 'Fix functional tests\n\nWe are on the feature branch and want to have all the functional tests\nrunning. This requires some modification in jobs.\n\nChange-Id: If3c88cc52f64bfe8771f52452b2548ab211e4e88\n'}, {'number': 5, 'created': '2021-05-14 11:42:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5222d012af703aef1e709b915126bc28e86ebdd9', 'message': 'Fix functional tests\n\nWe are on the feature branch and want to have all the functional tests\nrunning. This requires some modification in jobs.\n\nChange-Id: If3c88cc52f64bfe8771f52452b2548ab211e4e88\n'}]",0,791023,5222d012af703aef1e709b915126bc28e86ebdd9,9,1,5,27900,,,0,"Fix functional tests

We are on the feature branch and want to have all the functional tests
running. This requires some modification in jobs.

Change-Id: If3c88cc52f64bfe8771f52452b2548ab211e4e88
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/23/791023/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bbf4d08b6a0c99b40f68c957250be7d860da5285,,, override-branch: master,0,1
openstack%2Fkayobe~master~Ide0639bfc2f1bcd57c027c59db33081c4de780b5,openstack/kayobe,master,Ide0639bfc2f1bcd57c027c59db33081c4de780b5,[DNM] Test Tenks fix,ABANDONED,2021-05-17 13:16:28.000000000,2021-05-18 09:48:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-17 13:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a160fb955798835425020ec0517e3ae1258b77f4', 'message': '[DNM] Test Tenks fix\n\nChange-Id: Ide0639bfc2f1bcd57c027c59db33081c4de780b5\nDepends-On: https://review.opendev.org/c/openstack/tenks/+/791751\n'}, {'number': 2, 'created': '2021-05-17 13:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/caad8369ac03b64b94eb772f46a918aeb4eb182a', 'message': '[DNM] Test Tenks fix\n\nChange-Id: Ide0639bfc2f1bcd57c027c59db33081c4de780b5\nDepends-On: https://review.opendev.org/c/openstack/tenks/+/791751\n'}, {'number': 3, 'created': '2021-05-17 16:07:18.000000000', 'files': ['playbooks/kayobe-overcloud-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3b6525d1ddc7cb0d72fb0583003f881a9e1abc65', 'message': '[DNM] Test Tenks fix\n\nChange-Id: Ide0639bfc2f1bcd57c027c59db33081c4de780b5\nDepends-On: https://review.opendev.org/c/openstack/tenks/+/791751\n'}]",0,791752,3b6525d1ddc7cb0d72fb0583003f881a9e1abc65,9,1,3,15197,,,0,"[DNM] Test Tenks fix

Change-Id: Ide0639bfc2f1bcd57c027c59db33081c4de780b5
Depends-On: https://review.opendev.org/c/openstack/tenks/+/791751
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/52/791752/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a160fb955798835425020ec0517e3ae1258b77f4,,, - kayobe-tox-ansible-syntax - kayobe-tox-ansible - kayobe-tox-molecule - kayobe-overcloud-centos8s - kayobe-overcloud-tls-centos8s - kayobe-overcloud-host-configure-centos8s - kayobe-overcloud-host-configure-ubuntu-focal - kayobe-overcloud-upgrade-centos8s - kayobe-seed-centos8s - kayobe-seed-ubuntu-focal - kayobe-seed-upgrade-centos8s - kayobe-seed-vm-centos8s - kayobe-seed-vm-ubuntu-focal,0,13
openstack%2Fvalidations-common~master~I3aac62a366e33927e58d0fd7aa6922956b647479,openstack/validations-common,master,I3aac62a366e33927e58d0fd7aa6922956b647479,DNM,ABANDONED,2021-05-05 14:03:53.000000000,2021-05-18 09:11:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-05 14:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/afa0b436d1e09cac6df84d7b0e88bc31f82c8bf9', 'message': 'DNM\n\nChange-Id: I3aac62a366e33927e58d0fd7aa6922956b647479\n'}, {'number': 2, 'created': '2021-05-05 14:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/368e0c3c46b041b6d1e636957bb3a36c7ff6e2e4', 'message': 'DNM\n\nChange-Id: I3aac62a366e33927e58d0fd7aa6922956b647479\n'}, {'number': 3, 'created': '2021-05-05 14:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/eb3f280166e793f66d84c9c48349aa800befa421', 'message': 'DNM\n\nChange-Id: I3aac62a366e33927e58d0fd7aa6922956b647479\n'}, {'number': 4, 'created': '2021-05-05 15:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e4fa26de72d5d4cda025beaa780be495da601826', 'message': 'DNM\n\nChange-Id: I3aac62a366e33927e58d0fd7aa6922956b647479\n'}, {'number': 5, 'created': '2021-05-06 08:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2f090d26ca3222bba3388b69a298dda0ee8adb7a', 'message': 'DNM\n\nChange-Id: I3aac62a366e33927e58d0fd7aa6922956b647479\n'}, {'number': 6, 'created': '2021-05-07 08:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/cc321698211749223d87bde1d7ba0c059c5c2019', 'message': 'DNM\n\nChange-Id: I3aac62a366e33927e58d0fd7aa6922956b647479\n'}, {'number': 7, 'created': '2021-05-07 09:22:08.000000000', 'files': ['roles/validations/tasks/main.yaml', 'roles/fetch_validations/tasks/main.yaml', 'roles/fetch_validations/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0eb138493ef9b516874531773cd78dad7a77762b', 'message': 'DNM\n\nChange-Id: I3aac62a366e33927e58d0fd7aa6922956b647479\n'}]",5,789839,0eb138493ef9b516874531773cd78dad7a77762b,14,1,7,32926,,,0,"DNM

Change-Id: I3aac62a366e33927e58d0fd7aa6922956b647479
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/39/789839/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/validations/tasks/main.yaml'],1,afa0b436d1e09cac6df84d7b0e88bc31f82c8bf9,zuul/extralogs,"- name: Report default vars debug: msg: - ""{{ user_dir }}"" - ""{{ env }}"" ",,6,0
openstack%2Ftripleo-heat-templates~master~I595294956a4a7a0e2280c685ac1d2543edbc32f2,openstack/tripleo-heat-templates,master,I595294956a4a7a0e2280c685ac1d2543edbc32f2,Re-add NovaVncProxyNetwork to service_net_map.j2.yaml,MERGED,2021-05-17 13:43:46.000000000,2021-05-18 09:10:12.000000000,2021-05-18 09:10:12.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-05-17 13:43:46.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36648cf7f041e8a0e5cc8070c1b96b57472c96a8', 'message': 'Re-add NovaVncProxyNetwork to service_net_map.j2.yaml\n\nIcef2481b65b41b524ad44eeecfbee4451006e1d2 removed the NovaVncProxyNetwork\nfrom network/service_net_map.j2.yaml, but due to how hieradata is\nbeing rendered via tripleo-hieradata, the hieradata for the no-vnc-proxy\nservice falls back to the control plane network.\n\nChange-Id: I595294956a4a7a0e2280c685ac1d2543edbc32f2\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1960401\n'}]",0,791756,36648cf7f041e8a0e5cc8070c1b96b57472c96a8,9,6,1,17216,,,0,"Re-add NovaVncProxyNetwork to service_net_map.j2.yaml

Icef2481b65b41b524ad44eeecfbee4451006e1d2 removed the NovaVncProxyNetwork
from network/service_net_map.j2.yaml, but due to how hieradata is
being rendered via tripleo-hieradata, the hieradata for the no-vnc-proxy
service falls back to the control plane network.

Change-Id: I595294956a4a7a0e2280c685ac1d2543edbc32f2
Related-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1960401
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/791756/1 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,36648cf7f041e8a0e5cc8070c1b96b57472c96a8,1960401," NovaVncProxyNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }}",,1,0
openstack%2Fneutron~master~Ib9c5f9ba660484df6048238375bc31f624228677,openstack/neutron,master,Ib9c5f9ba660484df6048238375bc31f624228677,Fix wrong assertion methods in a unit test,MERGED,2021-05-14 14:39:57.000000000,2021-05-18 09:09:31.000000000,2021-05-17 08:21:16.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 14:39:57.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e3f65ceef8b3c7321194c3087eb01ca4553bf56', 'message': 'Fix wrong assertion methods in a unit test\n\nFix wrong assertion methods in the\ntest_delete_port_binding_delete_binding_and_levels method in\nneutron.tests.unit.plugins.ml2.test_plugin.TestMl2PluginOnly.\n\nChange-Id: Ib9c5f9ba660484df6048238375bc31f624228677\nCloses-Bug: 1928471\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}]",0,791497,4e3f65ceef8b3c7321194c3087eb01ca4553bf56,11,3,1,7634,,,0,"Fix wrong assertion methods in a unit test

Fix wrong assertion methods in the
test_delete_port_binding_delete_binding_and_levels method in
neutron.tests.unit.plugins.ml2.test_plugin.TestMl2PluginOnly.

Change-Id: Ib9c5f9ba660484df6048238375bc31f624228677
Closes-Bug: 1928471
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/791497/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/test_plugin.py'],1,4e3f65ceef8b3c7321194c3087eb01ca4553bf56,bug/1928471," clear_bl_mock.assert_called_once_with(self.context, port_id=port_id, host=host) delete_port_binding_mock.assert_called_once_with(self.context, host=host, port_id=port_id)"," self.assertTrue(clear_bl_mock.called_with(self.context, port_id=port_id, host=host)) self.assertTrue(delete_port_binding_mock.called_with(self.context, host=host, port_id=port_id))",6,6
openstack%2Fsushy-tools~master~Id9a443553e3a4a31292ad4e7b1ccaab9816fa582,openstack/sushy-tools,master,Id9a443553e3a4a31292ad4e7b1ccaab9816fa582,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 07:31:59.000000000,2021-05-18 09:08:52.000000000,2021-05-18 09:07:24.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-14 07:31:59.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d597cf41f8a8a3e413717e9608574e1959828b6c', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id9a443553e3a4a31292ad4e7b1ccaab9816fa582\n""}]",0,791392,d597cf41f8a8a3e413717e9608574e1959828b6c,8,3,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Id9a443553e3a4a31292ad4e7b1ccaab9816fa582
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/92/791392/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d597cf41f8a8a3e413717e9608574e1959828b6c,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/sushy/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/sushy/latest/ python-requires = >=3.6,4,4
openstack%2Freleases~master~I51e58b1795077cbf2cf984dd9c5915a3270bb7ea,openstack/releases,master,I51e58b1795077cbf2cf984dd9c5915a3270bb7ea,Release os-api-ref 2.2.0,MERGED,2021-05-18 08:23:02.000000000,2021-05-18 09:04:47.000000000,2021-05-18 09:04:47.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-18 08:23:02.000000000', 'files': ['deliverables/_independent/os-api-ref.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9be47cf62f748f7c435279808bc981f09ac7d3a2', 'message': 'Release os-api-ref 2.2.0\n\nNew Sphinx removed add_stylesheet, and add_javascript (see [1]).\n\nNeed to update os-api-ref to unblock api-ref test job [2].\n\n[1] https://github.com/sphinx-doc/sphinx/issues/7747\n[2] https://zuul.opendev.org/t/openstack/build/5de6511fe05745d688cc3cea2c5f42d7\n\nChange-Id: I51e58b1795077cbf2cf984dd9c5915a3270bb7ea\n'}]",0,791903,9be47cf62f748f7c435279808bc981f09ac7d3a2,8,3,1,12404,,,0,"Release os-api-ref 2.2.0

New Sphinx removed add_stylesheet, and add_javascript (see [1]).

Need to update os-api-ref to unblock api-ref test job [2].

[1] https://github.com/sphinx-doc/sphinx/issues/7747
[2] https://zuul.opendev.org/t/openstack/build/5de6511fe05745d688cc3cea2c5f42d7

Change-Id: I51e58b1795077cbf2cf984dd9c5915a3270bb7ea
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/791903/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/os-api-ref.yaml'],1,9be47cf62f748f7c435279808bc981f09ac7d3a2,release-os-api-ref, - version: 2.2.0 projects: - repo: openstack/os-api-ref hash: 79b9b698d9d8ded6864bb83465b39b4c5f123345,,4,0
openstack%2Fpython-ironicclient~master~I259f4d64f97a47676a756bba6ae8660e55dd45d1,openstack/python-ironicclient,master,I259f4d64f97a47676a756bba6ae8660e55dd45d1,setup.cfg: Replace dashes with underscores,MERGED,2021-05-13 01:59:55.000000000,2021-05-18 08:43:41.000000000,2021-05-18 08:42:18.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-05-13 01:59:55.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/384bd6ec390073e37124f2165d442917247f9ea7', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I259f4d64f97a47676a756bba6ae8660e55dd45d1\n""}]",0,791078,384bd6ec390073e37124f2165d442917247f9ea7,9,4,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I259f4d64f97a47676a756bba6ae8660e55dd45d1
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/78/791078/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,384bd6ec390073e37124f2165d442917247f9ea7,setup-cfg,description_file = README.rstauthor_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-ironicclient/latest/ python_requires = >=3.6,description-file = README.rstauthor-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-ironicclient/latest/ python-requires = >=3.6,4,4
openstack%2Fvalidations-common~master~I2c92b77f127a82afaf28a3dd5ebfb9e3614bbb07,openstack/validations-common,master,I2c92b77f127a82afaf28a3dd5ebfb9e3614bbb07,"File validation extended to callback_plugins, main loop optimized",MERGED,2021-05-17 13:32:21.000000000,2021-05-18 08:38:02.000000000,2021-05-18 08:38:02.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-17 13:32:21.000000000', 'files': ['tools/validate-files.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f1ce73f1c8987f9808d7fb137e41794a9d67cf8b', 'message': 'File validation extended to callback_plugins, main loop optimized\n\nvalidate-files.py now also checks required attributes\nof callback plugins. At this time, only two commonly used\nattributes are checked, because not all of our plugins\ncorrectly declare type and documentation.\n\nMain loop of the script was adjusted to work with multiple\ntypes of files to validate, and to minimize unnecessary checks.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2c92b77f127a82afaf28a3dd5ebfb9e3614bbb07\n'}]",0,791754,f1ce73f1c8987f9808d7fb137e41794a9d67cf8b,7,8,1,32926,,,0,"File validation extended to callback_plugins, main loop optimized

validate-files.py now also checks required attributes
of callback plugins. At this time, only two commonly used
attributes are checked, because not all of our plugins
correctly declare type and documentation.

Main loop of the script was adjusted to work with multiple
types of files to validate, and to minimize unnecessary checks.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I2c92b77f127a82afaf28a3dd5ebfb9e3614bbb07
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/54/791754/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/validate-files.py'],1,f1ce73f1c8987f9808d7fb137e41794a9d67cf8b,validate-file/callbacks,"def validate_callback_file(file_path, quiet): required_attributes = [ 'CALLBACK_VERSION', 'CALLBACK_NAME'] with open(file_path) as file: file_content = file.read() if any([attr not in file_content for attr in required_attributes]): if quiet < 3: print( 'Missing required callback plugin attributes in {}'.format(file_path)) return 1 return 0 def validate_file(file_path, quiet): if os.path.split(file_path)[0].endswith('library'): return validate_library_file(file_path, quiet) elif os.path.split(file_path)[0].endswith('callback_plugins'): return validate_callback_file(file_path, quiet) else: raise ValueError() scanned_subdirs = ['callback_plugins', 'library'] scanned_paths = [ os.path.join( base_path, 'validations_common', path) for path in scanned_subdirs] if subdir in scanned_paths: for f in files: if f.endswith('.py') and f != '__init__.py': file_path = os.path.join(subdir, f) if quiet < 1: print('Validating {}'.format(file_path)) failed = validate_file(file_path, quiet) if failed: failed_files.append(file_path) exit_val |= failed"," for f in files: if f.endswith('.py') \ and not f == '__init__.py' \ and subdir in [os.path.join(base_path, 'validations_common', 'library')]: file_path = os.path.join(subdir, f) if quiet < 1: print('Validating {}'.format(file_path)) failed = validate_library_file(file_path, quiet) if failed: failed_files.append(file_path) exit_val |= failed",42,13
openstack%2Fheat~master~Ic04f99111df9d2a8918f3a926a411d112144da70,openstack/heat,master,Ic04f99111df9d2a8918f3a926a411d112144da70,[DMT][TEST] test on policy,ABANDONED,2021-05-14 09:15:55.000000000,2021-05-18 08:32:15.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 09:15:55.000000000', 'files': ['heat/tests/cmd/test_status.py', 'releasenotes/notes/deprecate-json-formatted-policy-file-ac2f98b31ece0baf.yaml', 'api-ref/source/v1/parameters.yaml', 'heat/tests/test_environment.py', 'heat/api/openstack/v1/build_info.py', 'heat/tests/test_properties.py', 'heat/api/cfn/v1/stacks.py', 'lower-constraints.txt', 'heat/api/openstack/v1/actions.py', 'heat/api/openstack/v1/stacks.py', 'heat/tests/test_attributes.py', 'doc/source/configuration/sample_policy.rst', 'heat/common/policy.py', 'heat/api/openstack/v1/services.py', 'heat/tests/test_metadata_refresh.py', 'requirements.txt', 'heat/api/openstack/v1/resources.py', 'doc/source/admin/stack-domain-users.rst', 'heat/api/openstack/v1/events.py', 'heat/cmd/status.py', 'heat/common/config.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/6baa365996b83b069044c0e5187ddc9f0b3b6e76', 'message': '[DMT][TEST] test on policy\n\nChange-Id: Ic04f99111df9d2a8918f3a926a411d112144da70\n'}]",0,791432,6baa365996b83b069044c0e5187ddc9f0b3b6e76,7,2,1,12404,,,0,"[DMT][TEST] test on policy

Change-Id: Ic04f99111df9d2a8918f3a926a411d112144da70
",git fetch https://review.opendev.org/openstack/heat refs/changes/32/791432/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/cmd/test_status.py', 'releasenotes/notes/deprecate-json-formatted-policy-file-ac2f98b31ece0baf.yaml', 'api-ref/source/v1/parameters.yaml', 'heat/tests/test_environment.py', 'heat/api/openstack/v1/build_info.py', 'heat/tests/test_properties.py', 'heat/api/cfn/v1/stacks.py', 'lower-constraints.txt', 'heat/api/openstack/v1/actions.py', 'heat/api/openstack/v1/stacks.py', 'heat/tests/test_attributes.py', 'doc/source/configuration/sample_policy.rst', 'heat/common/policy.py', 'heat/api/openstack/v1/services.py', 'heat/tests/test_metadata_refresh.py', 'requirements.txt', 'heat/api/openstack/v1/resources.py', 'doc/source/admin/stack-domain-users.rst', 'heat/api/openstack/v1/events.py', 'heat/cmd/status.py', 'heat/common/config.py']",21,6baa365996b83b069044c0e5187ddc9f0b3b6e76,change-766861-14,"from oslo_policy import opts as policy_opts # TODO(gmann): Remove setting the default value of config policy_file # once oslo_policy change the default value to 'policy.yaml'. # https://github.com/openstack/oslo.policy/blob/a626ad12fe5a3abd49d70e3e5b95589d279ab578/oslo_policy/opts.py#L49 policy_opts.set_defaults(cfg.CONF, 'policy.yaml')",,102,42
openstack%2Fheat~master~I1bc6342c36544939d716951ceea45cbeb5b5fbbb,openstack/heat,master,I1bc6342c36544939d716951ceea45cbeb5b5fbbb,[DMT][TEST] check gate health,ABANDONED,2021-05-17 03:22:49.000000000,2021-05-18 08:31:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-17 03:22:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/b0deee660357e6a8bfc26f01d4d929d7b89ed9d7', 'message': '[DMT][TEST] check gate health\n\nChange-Id: I1bc6342c36544939d716951ceea45cbeb5b5fbbb\n'}]",0,791632,b0deee660357e6a8bfc26f01d4d929d7b89ed9d7,4,1,1,12404,,,0,"[DMT][TEST] check gate health

Change-Id: I1bc6342c36544939d716951ceea45cbeb5b5fbbb
",git fetch https://review.opendev.org/openstack/heat refs/changes/32/791632/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b0deee660357e6a8bfc26f01d4d929d7b89ed9d7,test,,,1,0
openstack%2Fvalidations-common~stable%2Fussuri~I6e13a6b42ba97b5ce850bc8c37d112ada7c09cd2,openstack/validations-common,stable/ussuri,I6e13a6b42ba97b5ce850bc8c37d112ada7c09cd2,Added the 'CALLBACK_NEEDS_WHITELIST' attribute.,ABANDONED,2021-05-18 08:24:55.000000000,2021-05-18 08:25:35.000000000,,[{'_account_id': 32926}],"[{'number': 1, 'created': '2021-05-18 08:24:55.000000000', 'files': ['validations_common/callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/75c9ec3e9ce1e1207ac552703a9211ae7247782d', 'message': ""Added the 'CALLBACK_NEEDS_WHITELIST' attribute.\n\nValue set to 'True' in order to prevent writing to\nour logging dir by other processes using ansible callback\nhandling routines.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6e13a6b42ba97b5ce850bc8c37d112ada7c09cd2\n(cherry picked from commit 4fc2ef2b4157beda6888c7e296832a2ccf6120bd)\n""}]",0,791788,75c9ec3e9ce1e1207ac552703a9211ae7247782d,2,1,1,26343,,,0,"Added the 'CALLBACK_NEEDS_WHITELIST' attribute.

Value set to 'True' in order to prevent writing to
our logging dir by other processes using ansible callback
handling routines.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6e13a6b42ba97b5ce850bc8c37d112ada7c09cd2
(cherry picked from commit 4fc2ef2b4157beda6888c7e296832a2ccf6120bd)
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/88/791788/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/callback_plugins/validation_json.py'],1,75c9ec3e9ce1e1207ac552703a9211ae7247782d,aggrcallbacks/whitelist-stable/ussuri, CALLBACK_NEEDS_WHITELIST = True,,1,0
openstack%2Ftripleo-ansible~master~Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3,openstack/tripleo-ansible,master,Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3,Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters,MERGED,2021-03-23 21:22:39.000000000,2021-05-18 08:10:46.000000000,2021-05-18 08:09:02.000000000,"[{'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-03-23 21:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/26494d14072ef7bcf1132770c9a589d403aad18f', 'message': 'Support ExpectedNumberOfCephOsds in tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative we expose a paramter so the user may directly pass\nexpected number of OSDs.\n\nExpectedNumberOfCephOsds may also be used by ceph-ansible users\nto override the number of OSDs found in CephAnsibleDisksConfig.\n\nAlso, make memory retrieval from Ironic data more robust to avoid\nthe secondary issue found in the related bug.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 2, 'created': '2021-03-23 21:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dd2f5b620a54d4cbf22d98a094508d46f7739bb2', 'message': 'Support ExpectedNumberOfCephOsds in tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative we expose a paramter so the user may directly pass\nexpected number of OSDs.\n\nExpectedNumberOfCephOsds may also be used by ceph-ansible users\nto override the number of OSDs found in CephAnsibleDisksConfig.\n\nAlso, make memory retrieval from Ironic data more robust to avoid\nthe secondary issue found in the related bug.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 3, 'created': '2021-03-24 21:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/90890cdb6c33020f29930e47738b93acf2a028e8', 'message': 'Add CephOsdCount and CephOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nCephOsdCount may also be used by ceph-ansible users to override\nthe number of OSDs found in CephAnsibleDisksConfig.\n\nAlso, make memory retrieval from Ironic data more robust to avoid\nthe secondary issue found in the related bug.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 4, 'created': '2021-03-26 20:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6deeb3b9745af8e7056d4713d80d472bcfc69aca', 'message': 'Add CephOsdCount and CephOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nCephOsdCount may also be used by ceph-ansible users to override\nthe number of OSDs found in CephAnsibleDisksConfig.\n\nAlso, make memory retrieval from Ironic data more robust to avoid\nthe secondary issue found in the related bug.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 5, 'created': '2021-03-26 20:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c321e85fb65a46fa784260a260bcd335635eaad4', 'message': 'Add CephOsdCount and CephOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nCephOsdCount may also be used by ceph-ansible users to override\nthe number of OSDs found in CephAnsibleDisksConfig.\n\nAlso, make memory retrieval from Ironic data more robust to avoid\nthe secondary issue found in the related bug.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 6, 'created': '2021-03-26 20:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/416b9bd98ca42500ac49b8ec85ee0a46157e2b22', 'message': 'Add CephOsdCount and CephOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nCephOsdCount may also be used by ceph-ansible users to override\nthe number of OSDs found in CephAnsibleDisksConfig.\n\nAlso, make memory retrieval from Ironic data more robust to avoid\nthe secondary issue found in the related bug.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 7, 'created': '2021-03-30 20:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7ea23f2ed037078a0da17fec102b070905ed555a', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nAlso, make memory retrieval from Ironic data more robust to avoid\nthe secondary issue found in the related bug.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 8, 'created': '2021-04-30 00:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9322908f1eb7f5ce4f74cd31a59ceae94ddd7a28', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 9, 'created': '2021-04-30 02:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/19aab9ed45395eb006f6acf8770e8e9427e7ec12', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 10, 'created': '2021-04-30 03:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c76ad2ce4c152d9a23a6334e2ade29c5623f8fc5', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 11, 'created': '2021-04-30 04:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c19cd391cb69f8e0f2db291c5e974b94d92e286d', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 12, 'created': '2021-04-30 04:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bfa85ec03ffa39c89efe508e730c3bfe693d21da', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 13, 'created': '2021-05-03 19:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/16cf6fc1326b2e486d1242243470ed08eed0d14e', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 14, 'created': '2021-05-03 20:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/92d1ca256049286907bf9e7aa07ba68d188a4801', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 15, 'created': '2021-05-03 20:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fa5731093e90c3c8d2c2da6298e5f2c202ebea50', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 16, 'created': '2021-05-03 21:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a925fd1bc75df100ab240565064cc5f79afb10b7', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 17, 'created': '2021-05-04 21:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4736278e00761c833b29868bb4c4bd47753b4e10', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 18, 'created': '2021-05-04 21:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e0051ffc0c9f18f7021eb8ed1745e3ca10904ca1', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 19, 'created': '2021-05-04 21:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f54ab750221244e6ee9e77f3fe3a38b3be2303f0', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 20, 'created': '2021-05-12 20:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/396245eccce5a582976da2fc2222589f64b2a1cf', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}, {'number': 21, 'created': '2021-05-17 14:35:31.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_derive_hci_parameters.py', 'tripleo_ansible/tests/modules/test_derive_hci_parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b015a79dc4628b9d2b5907739c22ff3b4e6379a3', 'message': 'Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters\n\nThe tripleo_derive_hci_parameters module uses the devices and\nlvm_volumes list in CephAnsibleDisksConfig from Heat to count the\nexpected number of OSDs. However, with the move to cephadm, the\nOSD service spec language is more flexible and the user can pass\na description like ""all available block devices"". As a result,\nthe module can no longer count the expected number of OSDs. As\nan alternative expose a paramter so the user may directly pass\nCephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)\nsince there is no path to lookup the device in Ironic.\n\nRelated-Bug: #1920954\nChange-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3\n'}]",40,782610,b015a79dc4628b9d2b5907739c22ff3b4e6379a3,60,4,21,18002,,,0,"Add CephHciOsdCount/CephHciOsdType to tripleo_derive_hci_parameters

The tripleo_derive_hci_parameters module uses the devices and
lvm_volumes list in CephAnsibleDisksConfig from Heat to count the
expected number of OSDs. However, with the move to cephadm, the
OSD service spec language is more flexible and the user can pass
a description like ""all available block devices"". As a result,
the module can no longer count the expected number of OSDs. As
an alternative expose a paramter so the user may directly pass
CephOsdCount. Similarly expose a CephOsdType parameter (HDD, SSD)
since there is no path to lookup the device in Ironic.

Related-Bug: #1920954
Change-Id: Ia6bbdf023e2a0961cd91d3e9f40a8a5a26253ba3
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/10/782610/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_derive_hci_parameters.py'],1,26494d14072ef7bcf1132770c9a589d403aad18f,bug/1920954," msg = ""No OSDs were found in the deployment definition. Please set either "" msg += ""ExpectedNumberOfCephOsds or CephAnsibleDisksConfig accordingly."" total = tripleo_environment_parameters['ExpectedNumberOfCephOsds'] if total == 0: try: disks_config = tripleo_environment_parameters['CephAnsibleDisksConfig'] for key in ['devices', 'lvm_volumes']: total = total + len(disks_config[key]) except KeyError: pass Counts the memory found in the ironic introspection data. If memory_mb is 0, uses ['inventory']['memory']['total'] in bytes Returns integer of memory in GB. return 40 # testing hack remove me if memory == 0: try: memory = ironic['data']['inventory']['memory']['total'] \ / float(MB_PER_GB) / float(MB_PER_GB) / float(MB_PER_GB) except KeyError: pass"," msg = ""No OSDs were found in deployment definition under CephAnsibleDisksConfig"" disks_config = tripleo_environment_parameters['CephAnsibleDisksConfig'] for key in ['devices', 'lvm_volumes']: total = total + len(disks_config[key]) Counts the memory found in the ironic introspection data as represented by memory_mb. Returns integer of memory in GB.",20,6
openstack%2Fdevstack~master~Ied8c9d29bed4f887c364db7080a0f2a0c02328af,openstack/devstack,master,Ied8c9d29bed4f887c364db7080a0f2a0c02328af,Replace dstat with pcp-dstat,MERGED,2021-05-17 12:56:45.000000000,2021-05-18 08:10:43.000000000,2021-05-18 08:06:39.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-17 12:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6957f2ca2c49ca819b8cd9b3498203148b67bc32', 'message': 'Replace dstat with pcp-dstat\n\nThe dstat project is no longer maintained.\n\nThe pcp-dstat package installs a dstat command so no further updates to\nthe scripts should be needed.\n\nChange-Id: Ied8c9d29bed4f887c364db7080a0f2a0c02328af\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2021-05-17 15:11:44.000000000', 'files': ['files/debs/dstat'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c19c1262c8b81f1cc543eafb9e5c3a34c4b632fe', 'message': 'Replace dstat with pcp-dstat\n\nThe dstat project is no longer maintained.\n\nThe pcp-dstat package installs a dstat command so no further updates to\nthe scripts should be needed.\n\nChange-Id: Ied8c9d29bed4f887c364db7080a0f2a0c02328af\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,791749,c19c1262c8b81f1cc543eafb9e5c3a34c4b632fe,15,5,2,6773,,,0,"Replace dstat with pcp-dstat

The dstat project is no longer maintained.

The pcp-dstat package installs a dstat command so no further updates to
the scripts should be needed.

Change-Id: Ied8c9d29bed4f887c364db7080a0f2a0c02328af
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/49/791749/1 && git format-patch -1 --stdout FETCH_HEAD,['files/debs/dstat'],1,6957f2ca2c49ca819b8cd9b3498203148b67bc32,pcp-dstat,pcp,dstat,1,1
openstack%2Fkayobe~stable%2Fwallaby~I1f55a2f47ac614fea983e19802e469efd810e849,openstack/kayobe,stable/wallaby,I1f55a2f47ac614fea983e19802e469efd810e849,docs: add reno and upgrade info for CentOS Stream,MERGED,2021-05-13 10:37:58.000000000,2021-05-18 07:59:37.000000000,2021-05-18 07:58:25.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-05-13 10:37:58.000000000', 'files': ['releasenotes/notes/centos-stream-cb683a092153b93e.yaml', 'doc/source/upgrading.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/eb90ad219b99d5adec005e5a8a8a66261403ee2a', 'message': 'docs: add reno and upgrade info for CentOS Stream\n\nStory: 2008795\nTask: 42459\n\nChange-Id: I1f55a2f47ac614fea983e19802e469efd810e849\n(cherry picked from commit 0ce6ea2ee2f0d99b1c4a2b290be393426d48aebc)\n'}]",0,791097,eb90ad219b99d5adec005e5a8a8a66261403ee2a,9,4,1,14826,,,0,"docs: add reno and upgrade info for CentOS Stream

Story: 2008795
Task: 42459

Change-Id: I1f55a2f47ac614fea983e19802e469efd810e849
(cherry picked from commit 0ce6ea2ee2f0d99b1c4a2b290be393426d48aebc)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/97/791097/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/centos-stream-cb683a092153b93e.yaml', 'doc/source/upgrading.rst']",2,eb90ad219b99d5adec005e5a8a8a66261403ee2a,,CentOS Stream 8 --------------- The Wallaby release adds support for CentOS Stream 8 as a host operating system. CentOS Stream 8 support will also be added to a Victoria stable release. CentOS Linux users upgrading from Victoria should first migrate hosts and container images from CentOS Linux to CentOS Stream before upgrading to Wallaby. ,,22,0
openstack%2Fdevstack~master~I39e38e4a6c2e52dd3822c9fdea354258359a9f53,openstack/devstack,master,I39e38e4a6c2e52dd3822c9fdea354258359a9f53,Drop Bionic support,MERGED,2021-04-29 14:34:04.000000000,2021-05-18 07:57:21.000000000,2021-05-18 07:54:47.000000000,"[{'_account_id': 8556}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-29 14:34:04.000000000', 'files': ['lib/cinder', '.zuul.yaml', 'tools/fixup_stuff.sh', 'lib/apache', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7ad4cd07c8bf4f302acc4fc6684e362309332c9d', 'message': 'Drop Bionic support\n\nSince victoria cycle, we have moved upstream testing to\nUbuntu Focal (20.04) and so does no Bionic distro in\nXena cycle testing runtime[1]. Grenade jobs also started\nrunning on Focal since victoria was released.\n\nOnly thing left was legacy jobs which were not migrated to\nUbuntu Focal in Victoria and as per another community-wide\ngoal[2], all the lgeacy jobs were suppsoed to be migrated\nto zuulv3 native jobs in victoria cycle itself. One of the\npending job was in nova (nova-grenade-multinode) which is also\nmigrated to zuulv3 native now\n- https://review.opendev.org/c/openstack/nova/+/778885\n\nIf there is any job running on bionic, we strongly recommend\nto migrate it to Ubuntu Focal.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/xena.html\n[2] https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\n\nChange-Id: I39e38e4a6c2e52dd3822c9fdea354258359a9f53\n'}]",3,788754,7ad4cd07c8bf4f302acc4fc6684e362309332c9d,16,5,1,8556,,,0,"Drop Bionic support

Since victoria cycle, we have moved upstream testing to
Ubuntu Focal (20.04) and so does no Bionic distro in
Xena cycle testing runtime[1]. Grenade jobs also started
running on Focal since victoria was released.

Only thing left was legacy jobs which were not migrated to
Ubuntu Focal in Victoria and as per another community-wide
goal[2], all the lgeacy jobs were suppsoed to be migrated
to zuulv3 native jobs in victoria cycle itself. One of the
pending job was in nova (nova-grenade-multinode) which is also
migrated to zuulv3 native now
- https://review.opendev.org/c/openstack/nova/+/778885

If there is any job running on bionic, we strongly recommend
to migrate it to Ubuntu Focal.

[1] https://governance.openstack.org/tc/reference/runtimes/xena.html
[2] https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html

Change-Id: I39e38e4a6c2e52dd3822c9fdea354258359a9f53
",git fetch https://review.opendev.org/openstack/devstack refs/changes/54/788754/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/cinder', '.zuul.yaml', 'tools/fixup_stuff.sh', 'lib/apache', 'stack.sh']",5,7ad4cd07c8bf4f302acc4fc6684e362309332c9d,drop-bionic,"SUPPORTED_DISTROS=""focal|f31|f32|opensuse-15.2|opensuse-tumbleweed|rhel8""","SUPPORTED_DISTROS=""bionic|focal|f31|f32|opensuse-15.2|opensuse-tumbleweed|rhel8""",1,59
openstack%2Fkarbor~master~I5de75b7456458a1dcd2963dc8d8fe2135baae982,openstack/karbor,master,I5de75b7456458a1dcd2963dc8d8fe2135baae982,Victoria updates,ABANDONED,2020-06-15 06:20:27.000000000,2021-05-18 07:35:42.000000000,,"[{'_account_id': 2023}, {'_account_id': 13070}, {'_account_id': 17151}, {'_account_id': 19346}, {'_account_id': 20883}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29272}]","[{'number': 1, 'created': '2020-06-15 06:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/41619e97009794e3b7508cd5a1ffba68fd17d274', 'message': 'Victoria updates\n\nA couple of small cleanups:\n* Update to hacking version 3.1.0 for victoria.\n* Remove unused translation section from setup.cfg.\n* Add py38 as supported distro in setup.cfg\n* Remove unused babel.cfg file\n* Remove unneeded Babel requirement\n* Remove .testr.conf, this repo now uses stestr\n* Use TOX_CONSTRAINTS_FILE instead of obsolete UPPER_CONSTRAINTS_FILE,\n  move constraints into deps and remove install_command as the default\n  is fine.\n\nChange-Id: I5de75b7456458a1dcd2963dc8d8fe2135baae982\n'}, {'number': 2, 'created': '2020-06-15 07:15:10.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'babel.cfg', '.testr.conf', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor/commit/42883ebec6b3dd1c9e8f675bf0369a337029d980', 'message': 'Victoria updates\n\nA couple of small cleanups:\n* Update to hacking version 3.1.0 for victoria.\n* Remove unused translation section from setup.cfg.\n* Add py38 as supported distro in setup.cfg\n* Remove unused babel.cfg file\n* Remove unneeded Babel requirement\n* Remove .testr.conf, this repo now uses stestr\n* Use TOX_CONSTRAINTS_FILE instead of obsolete UPPER_CONSTRAINTS_FILE.\n\nChange-Id: I5de75b7456458a1dcd2963dc8d8fe2135baae982\n'}]",0,735504,42883ebec6b3dd1c9e8f675bf0369a337029d980,9,9,2,6547,,,0,"Victoria updates

A couple of small cleanups:
* Update to hacking version 3.1.0 for victoria.
* Remove unused translation section from setup.cfg.
* Add py38 as supported distro in setup.cfg
* Remove unused babel.cfg file
* Remove unneeded Babel requirement
* Remove .testr.conf, this repo now uses stestr
* Use TOX_CONSTRAINTS_FILE instead of obsolete UPPER_CONSTRAINTS_FILE.

Change-Id: I5de75b7456458a1dcd2963dc8d8fe2135baae982
",git fetch https://review.opendev.org/openstack/karbor refs/changes/04/735504/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', '.testr.conf', 'babel.cfg', 'setup.cfg', 'tox.ini']",6,41619e97009794e3b7508cd5a1ffba68fd17d274,cleanup-py27-support,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txt,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -U {opts} {packages}deps = -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/test-requirements.txt,6,29
openstack%2Fkarbor-dashboard~master~I155b5996173ef685c97ca2bce482c6cad299f0cd,openstack/karbor-dashboard,master,I155b5996173ef685c97ca2bce482c6cad299f0cd,Switch to newer openstackdocstheme version,ABANDONED,2020-05-30 16:29:52.000000000,2021-05-18 07:35:11.000000000,,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-05-30 16:29:52.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/dbcecb23f79106fd308eaab3032db633fcd0ee4f', 'message': ""Switch to newer openstackdocstheme version\n\nSwitch to openstackdocstheme 2.2.1 version. Using\nthis version will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I155b5996173ef685c97ca2bce482c6cad299f0cd\n""}]",0,731975,dbcecb23f79106fd308eaab3032db633fcd0ee4f,6,4,1,6547,,,0,"Switch to newer openstackdocstheme version

Switch to openstackdocstheme 2.2.1 version. Using
this version will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I155b5996173ef685c97ca2bce482c6cad299f0cd
",git fetch https://review.opendev.org/openstack/karbor-dashboard refs/changes/75/731975/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py']",2,dbcecb23f79106fd308eaab3032db633fcd0ee4f,reno-openstackdocstheme,openstackdocs_repo_name = 'openstack/karbor-dashboard' openstackdocs_auto_name = False openstackdocs_bug_project = 'karbor-dashboard' openstackdocs_bug_tag = ''pygments_style = 'native',repository_name = 'openstack/karbor-dashboard' bug_project = 'karbor-dashboard' bug_tag = ''pygments_style = 'sphinx',7,6
openstack%2Fkarbor~master~I8544a3024a1769adc3fc534d93f5ecca8720dd3f,openstack/karbor,master,I8544a3024a1769adc3fc534d93f5ecca8720dd3f,Switch to newer openstackdocstheme and reno versions,ABANDONED,2020-05-30 16:28:35.000000000,2021-05-18 07:35:06.000000000,,"[{'_account_id': 2023}, {'_account_id': 6547}, {'_account_id': 13070}, {'_account_id': 17151}, {'_account_id': 19346}, {'_account_id': 20883}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29272}]","[{'number': 1, 'created': '2020-05-30 16:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/596da2ea5404954b0c34aa3c2c4525f853abfb1e', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I8544a3024a1769adc3fc534d93f5ecca8720dd3f\n""}, {'number': 2, 'created': '2020-07-22 02:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/99f7164d251fc63119c51bd13f2fe6350398079d', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I8544a3024a1769adc3fc534d93f5ecca8720dd3f\n""}, {'number': 3, 'created': '2020-09-16 05:51:22.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'api-ref/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/866cf4292144e18ebc9d8a4dc54868f2249a002c', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I8544a3024a1769adc3fc534d93f5ecca8720dd3f\n""}]",0,731974,866cf4292144e18ebc9d8a4dc54868f2249a002c,9,10,3,6547,,,0,"Switch to newer openstackdocstheme and reno versions

Switch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using
these versions will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I8544a3024a1769adc3fc534d93f5ecca8720dd3f
",git fetch https://review.opendev.org/openstack/karbor refs/changes/74/731974/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'api-ref/source/conf.py', 'doc/source/conf.py', 'lower-constraints.txt', 'releasenotes/source/conf.py']",5,596da2ea5404954b0c34aa3c2c4525f853abfb1e,reno-openstackdocstheme,openstackdocs_repo_name = 'openstack/karbor' openstackdocs_auto_name = False openstackdocs_bug_project = project.lower() openstackdocs_bug_tag = ''pygments_style = 'native',repository_name = 'openstack/karbor' bug_project = project.lower() bug_tag = ''pygments_style = 'sphinx',19,16
openstack%2Ftacker~master~Idc146eed1b2b6a8ee3d4dd6c230324a8aef006f6,openstack/tacker,master,Idc146eed1b2b6a8ee3d4dd6c230324a8aef006f6,Wrong subscription notification URL,MERGED,2021-05-09 17:30:03.000000000,2021-05-18 07:08:24.000000000,2021-05-18 07:06:48.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 31857}]","[{'number': 1, 'created': '2021-05-09 17:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/daa6c7603304fd2f8c2a616dad4891a93281e1cf', 'message': ""Wrong subscription notification URL\n\nSubscription notifications contains /vnflcmv1/ in URL\n    'vnfLcmOpOcc': {\n        'href':\n            '/vnflcmv1/vnf_lcm_op_occs/%s'\n            % vnf_lcm_op_occs_id}}}\n\nIt impacts following operations\n - heal\n - terminate\n - instantiate\n - change_ext_conn\n\nAlso subscription notification data->href does\nnot contain host path.\n\nCo-Authored-By: Navum Gupta <navum.gupta@india.nec.com>\n\nCloses-Bug: #1923478\nChange-Id: Idc146eed1b2b6a8ee3d4dd6c230324a8aef006f6\n""}, {'number': 2, 'created': '2021-05-17 13:03:11.000000000', 'files': ['tacker/conductor/conductor_server.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/cf5150571b0bab4ce5c7539b5f0ef34da1b3efd5', 'message': ""Wrong subscription notification URL\n\nSubscription notifications contains /vnflcmv1/ in URL\n    'vnfLcmOpOcc': {\n        'href':\n            '/vnflcmv1/vnf_lcm_op_occs/%s'\n            % vnf_lcm_op_occs_id}}}\n\nIt impacts following operations\n - heal\n - terminate\n - instantiate\n - change_ext_conn\n\nAlso subscription notification data->href does\nnot contain host path.\n\nCo-Authored-By: Navum Gupta <navum.gupta@india.nec.com>\n\nCloses-Bug: #1923478\nChange-Id: Idc146eed1b2b6a8ee3d4dd6c230324a8aef006f6\n""}]",6,790355,cf5150571b0bab4ce5c7539b5f0ef34da1b3efd5,15,5,2,16308,,,0,"Wrong subscription notification URL

Subscription notifications contains /vnflcmv1/ in URL
    'vnfLcmOpOcc': {
        'href':
            '/vnflcmv1/vnf_lcm_op_occs/%s'
            % vnf_lcm_op_occs_id}}}

It impacts following operations
 - heal
 - terminate
 - instantiate
 - change_ext_conn

Also subscription notification data->href does
not contain host path.

Co-Authored-By: Navum Gupta <navum.gupta@india.nec.com>

Closes-Bug: #1923478
Change-Id: Idc146eed1b2b6a8ee3d4dd6c230324a8aef006f6
",git fetch https://review.opendev.org/openstack/tacker refs/changes/55/790355/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/conductor/conductor_server.py'],1,daa6c7603304fd2f8c2a616dad4891a93281e1cf,bug/1923478," '{endpoint}/vnflcm/v1/vnf_instances/{id}'.format( endpoint=CONF.vnf_lcm.endpoint_url.rstrip(""/""), id=vnf_instance_id)}, '{endpoint}/vnflcm/v1/vnf_lcm_op_occs/{id}'.format( endpoint=CONF.vnf_lcm.endpoint_url.rstrip(""/""), id=vnf_lcm_op_occs_id)}}}"," '/vnflcm/v1/vnf_instances/%s' % vnf_instance_id}, '/vnflcmv1/vnf_lcm_op_occs/%s' % vnf_lcm_op_occs_id}}}",6,4
openstack%2Fmanila~stable%2Fwallaby~I09a83b63528c0988f3601dfd07ad6972165cb855,openstack/manila,stable/wallaby,I09a83b63528c0988f3601dfd07ad6972165cb855,Fix api error message for snapshot creation failure,MERGED,2021-05-13 20:28:44.000000000,2021-05-18 06:17:29.000000000,2021-05-18 06:14:04.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 20:28:44.000000000', 'files': ['releasenotes/notes/bug-1925342-fix-snapshot-support-api-error-msg-eaf5fd2b1df97d15.yaml', 'manila/api/v1/share_snapshots.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/fb5a4f936d6ecf7435005f72ef8d7068cf75f65e', 'message': 'Fix api error message for snapshot creation failure\n\nwhen the source share has ``snapshot_support`` False.\n\nThe message said that the back end lacks snapshot support but this\nis not necessarily the case.\n\nCloses-bug: #1925342\nChange-Id: I09a83b63528c0988f3601dfd07ad6972165cb855\n(cherry picked from commit be29805859f0e759cfd96b5e1ef0afbd1d16f3c0)\n'}]",0,791108,fb5a4f936d6ecf7435005f72ef8d7068cf75f65e,16,2,1,9003,,,0,"Fix api error message for snapshot creation failure

when the source share has ``snapshot_support`` False.

The message said that the back end lacks snapshot support but this
is not necessarily the case.

Closes-bug: #1925342
Change-Id: I09a83b63528c0988f3601dfd07ad6972165cb855
(cherry picked from commit be29805859f0e759cfd96b5e1ef0afbd1d16f3c0)
",git fetch https://review.opendev.org/openstack/manila refs/changes/08/791108/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1925342-fix-snapshot-support-api-error-msg-eaf5fd2b1df97d15.yaml', 'manila/api/v1/share_snapshots.py']",2,fb5a4f936d6ecf7435005f72ef8d7068cf75f65e,bug/1925342," msg = _(""Snapshots cannot be created for share '%s' "" ""since it does not have that capability."") % share_id"," msg = _(""Snapshot cannot be created from share '%s', because "" ""share back end does not support it."") % share_id",12,2
openstack%2Fdevstack-gate~master~Ibedb55fc520cf10e9463d6064330ef6931d81006,openstack/devstack-gate,master,Ibedb55fc520cf10e9463d6064330ef6931d81006,Remove testr,NEW,2021-04-27 04:52:59.000000000,2021-05-18 06:12:45.000000000,,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-04-27 04:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/4bb839d77636c697f0414eb8458717076a179a02', 'message': 'Migrate from testr to stestr\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: Ibedb55fc520cf10e9463d6064330ef6931d81006\n'}, {'number': 2, 'created': '2021-05-03 10:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f96169b82e737746ac895278c6a8075787bdc85a', 'message': 'Remove testr\n\n* Remove .testr.conf\n* Remove .testrepository from .gitignore\n* Add allowlist_externals=bash to testenv of tox.ini\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: Ibedb55fc520cf10e9463d6064330ef6931d81006\n'}, {'number': 3, 'created': '2021-05-04 09:12:03.000000000', 'files': ['.gitignore', '.testr.conf', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/41bf11136606bf7a4851b06a1cfa7811270aa7c7', 'message': 'Remove testr\n\n* Remove .testr.conf\n* Remove .testrepository from .gitignore\n* Add allowlist_externals=bash to testenv of tox.ini\n* Update tox minversion to 3.18.0 for using allowlist_externals\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: Ibedb55fc520cf10e9463d6064330ef6931d81006\n'}]",3,788128,41bf11136606bf7a4851b06a1cfa7811270aa7c7,16,5,3,33370,,,0,"Remove testr

* Remove .testr.conf
* Remove .testrepository from .gitignore
* Add allowlist_externals=bash to testenv of tox.ini
* Update tox minversion to 3.18.0 for using allowlist_externals

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: Ibedb55fc520cf10e9463d6064330ef6931d81006
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/28/788128/2 && git format-patch -1 --stdout FETCH_HEAD,['.testr.conf'],1,4bb839d77636c697f0414eb8458717076a179a02,stestr,,[DEFAULT] test_command=${PYTHON:-python} -m subunit.run discover -t . ./tests $LISTOPT $IDOPTION test_id_option=--load-list $IDFILE test_list_option=--list ,0,4
openstack%2Fmasakari~master~I998fe80c2afe5f9b6c120846922a1127564e1254,openstack/masakari,master,I998fe80c2afe5f9b6c120846922a1127564e1254,uuid in log information,MERGED,2021-05-18 03:13:14.000000000,2021-05-18 06:09:15.000000000,2021-05-18 06:07:04.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-18 03:13:14.000000000', 'files': ['masakari/ha/api.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/d51cefe238a73aa617e65a261aa2636c4ac1bc5c', 'message': 'uuid in log information\n\nChange-Id: I998fe80c2afe5f9b6c120846922a1127564e1254\n'}]",0,791874,d51cefe238a73aa617e65a261aa2636c4ac1bc5c,8,3,1,24501,,,0,"uuid in log information

Change-Id: I998fe80c2afe5f9b6c120846922a1127564e1254
",git fetch https://review.opendev.org/openstack/masakari refs/changes/74/791874/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/ha/api.py'],1,d51cefe238a73aa617e65a261aa2636c4ac1bc5c,," LOG.debug(""Fetching failover segment by uuid %s"", segment_uuid) segment = objects.FailoverSegment.get_by_uuid(context, segment_uuid) LOG.debug(""Fetching host by uuid %s"", host_uuid) LOG.debug(""Fetching notification by uuid %s"", notification_uuid)"," LOG.debug(""Fetching failover segment by "" ""UUID"", segment_uuid=segment_uuid) segment = objects.FailoverSegment.get_by_uuid(context, segment_uuid ) LOG.debug(""Fetching host by "" ""UUID"", host_uuid=host_uuid) LOG.debug(""Fetching notification by "" ""UUID"", notification_uuid=notification_uuid) ",5,11
openstack%2Ftripleo-validations~master~Ieef5c4718ad0e7f4a5028c6704c4094110e9a554,openstack/tripleo-validations,master,Ieef5c4718ad0e7f4a5028c6704c4094110e9a554,Introducing the overcloud_service_config role,ABANDONED,2021-03-24 01:30:49.000000000,2021-05-18 04:33:51.000000000,,"[{'_account_id': 11491}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 01:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9a27e611681b14a44cada2409b6de669477278e9', 'message': ""Introducing the overcloud_service_config role\n\nCoreFilter, DiskFilter and RamFilter were removed in Train. This breaks\nupdates from Queens when operators didn't remove these filters from\ntheir configuration.\n\nRelated: https://bugzilla.redhat.com/1940815\nChange-Id: Ieef5c4718ad0e7f4a5028c6704c4094110e9a554\n""}, {'number': 2, 'created': '2021-03-24 02:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7eccf47d78c5eddf96b6b94c3cb7eb4406eb4948', 'message': ""Introducing the overcloud_service_config role\n\nCoreFilter, DiskFilter and RamFilter were removed in Train. This breaks\nupdates from Queens when operators didn't remove these filters from\ntheir configuration.\n\nRelated: https://bugzilla.redhat.com/1940815\nChange-Id: Ieef5c4718ad0e7f4a5028c6704c4094110e9a554\n""}, {'number': 3, 'created': '2021-03-27 15:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5ef0c9e50d62e5839b516a065559f665001a6c20', 'message': ""Introducing the overcloud_service_config role\n\nCoreFilter, DiskFilter and RamFilter were removed in Train. This breaks\nupdates from Queens when operators didn't remove these filters from\ntheir configuration.\n\nRelated: https://bugzilla.redhat.com/1940815\nChange-Id: Ieef5c4718ad0e7f4a5028c6704c4094110e9a554\n""}, {'number': 4, 'created': '2021-03-27 17:37:43.000000000', 'files': ['roles/overcloud_service_config/defaults/main.yml', 'roles/overcloud_service_config/tasks/main.yml', 'roles/overcloud_service_config/vars/main.yml', 'roles/overcloud_service_config/molecule/default/Dockerfile', 'roles/overcloud_service_config/molecule/nova_scheduler_filters/converge.yml', 'roles/overcloud_service_config/molecule/nova_scheduler_filters/prepare.yml', 'roles/overcloud_service_config/molecule/nova_scheduler_filters/files/bad_nova.conf', 'zuul.d/molecule.yaml', 'playbooks/overcloud-service-config.yaml', 'roles/overcloud_service_config/molecule/default/molecule.yml', 'roles/overcloud_service_config/README.md', 'roles/overcloud_service_config/molecule/default/converge.yml', 'roles/overcloud_service_config/molecule/nova_scheduler_filters/files/missing_nova.conf', 'roles/overcloud_service_config/molecule/nova_scheduler_filters/Dockerfile', 'roles/overcloud_service_config/molecule/nova_scheduler_filters/files/good_nova.conf', 'doc/source/roles/role-overcloud_service_config.rst', 'roles/overcloud_service_config/molecule/nova_scheduler_filters/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d40d01b2d917c0b580631458cf4b14d033591868', 'message': ""Introducing the overcloud_service_config role\n\nCoreFilter, DiskFilter and RamFilter were removed in Train. This breaks\nupdates from Queens when operators didn't remove these filters from\ntheir configuration.\n\nRelated: https://bugzilla.redhat.com/1940815\nChange-Id: Ieef5c4718ad0e7f4a5028c6704c4094110e9a554\n""}]",33,782625,d40d01b2d917c0b580631458cf4b14d033591868,13,3,4,27419,,,0,"Introducing the overcloud_service_config role

CoreFilter, DiskFilter and RamFilter were removed in Train. This breaks
updates from Queens when operators didn't remove these filters from
their configuration.

Related: https://bugzilla.redhat.com/1940815
Change-Id: Ieef5c4718ad0e7f4a5028c6704c4094110e9a554
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/25/782625/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud_service_config/defaults/main.yml', 'roles/overcloud_service_config/tasks/main.yml', 'roles/overcloud_service_config/vars/main.yml', 'roles/overcloud_service_config/molecule/default/Dockerfile', 'roles/overcloud_service_config/molecule/nova_scheduler_filters/converge.yml', 'roles/overcloud_service_config/molecule/nova_scheduler_filters/prepare.yml', 'roles/overcloud_service_config/molecule/nova_scheduler_filters/files/bad_nova.conf', 'zuul.d/molecule.yaml', 'playbooks/overcloud-service-config.yaml', 'roles/overcloud_service_config/molecule/default/molecule.yml', 'roles/overcloud_service_config/README.md', 'roles/overcloud_service_config/molecule/default/converge.yml', 'roles/overcloud_service_config/molecule/nova_scheduler_filters/Dockerfile', 'roles/overcloud_service_config/molecule/nova_scheduler_filters/files/good_nova.conf', 'doc/source/roles/role-overcloud_service_config.rst', 'roles/overcloud_service_config/molecule/nova_scheduler_filters/molecule.yml']",16,9a27e611681b14a44cada2409b6de669477278e9,,"--- driver: name: podman log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: ""python*-setuptools python*-pyyaml"" volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw privileged: true environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra ",,406,0
openstack%2Fansible-role-collect-logs~master~Id0fabf0a8661179f38bd35a172989331f990c49e,openstack/ansible-role-collect-logs,master,Id0fabf0a8661179f38bd35a172989331f990c49e,Adding oslo-config-validator --check-default,ABANDONED,2020-12-16 21:46:48.000000000,2021-05-18 04:32:28.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-16 21:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/d7f428971aaa69b262284a42dbf3a1337f1e6a1c', 'message': ""Adding oslo-config-validator --check-default\n\nLet's leverage I172d82f19a81282093b0d5f7ae4c1817801cd887 and validate\nthe running configuration.\n\nThis will add a task to the `collect-container-logs.sh` and return the\ndeltas between the default configuration and the current running\nconfiguration.\n\nChange-Id: Id0fabf0a8661179f38bd35a172989331f990c49e\n""}, {'number': 2, 'created': '2020-12-16 21:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/e285f7dfd00031d2cb5adf6445fa8d5bf00e8733', 'message': ""Adding oslo-config-validator --check-default\n\nLet's leverage I172d82f19a81282093b0d5f7ae4c1817801cd887 and validate\nthe running configuration.\n\nThis will add a task to the ``collect-container-logs.sh`` and return the\ndeltas between the default configuration and the current running\nconfiguration.\n\nChange-Id: Id0fabf0a8661179f38bd35a172989331f990c49e\n""}, {'number': 3, 'created': '2020-12-19 20:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/3026a35d1f86974320c509294fe3380b263af3a5', 'message': ""Adding oslo-config-validator --check-default\n\nLet's leverage I172d82f19a81282093b0d5f7ae4c1817801cd887 and validate\nthe running configuration.\n\nThis will add a task to the `collect-container-logs.sh` and return the\ndeltas between the default configuration and the current running\nconfiguration.\n\nChange-Id: Id0fabf0a8661179f38bd35a172989331f990c49e\n""}, {'number': 4, 'created': '2021-04-09 16:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/688b31151e3fb99e1e24f78007b36d95c496b7dc', 'message': ""Adding oslo-config-validator --check-default\n\nLet's leverage I172d82f19a81282093b0d5f7ae4c1817801cd887 and validate\nthe running configuration.\n\nThis will add a task to the `collect-container-logs.sh` and return the\ndeltas between the default configuration and the current running\nconfiguration.\n\nChange-Id: Id0fabf0a8661179f38bd35a172989331f990c49e\n""}, {'number': 5, 'created': '2021-04-10 04:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/aa5236404afad95f0efac6d14290534fdb93a17b', 'message': ""Adding oslo-config-validator --check-default\n\nLet's leverage I172d82f19a81282093b0d5f7ae4c1817801cd887 and validate\nthe running configuration.\n\nThis will add a task to the `collect-container-logs.sh` and return the\ndeltas between the default configuration and the current running\nconfiguration.\n\nChange-Id: Id0fabf0a8661179f38bd35a172989331f990c49e\n""}, {'number': 6, 'created': '2021-04-10 04:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a779d42855b354f478c204a82b7dcc36a2d63740', 'message': ""Adding oslo-config-validator --check-default\n\nLet's leverage I172d82f19a81282093b0d5f7ae4c1817801cd887 and validate\nthe running configuration.\n\nThis will add a task to the `collect-container-logs.sh` and return the\ndeltas between the default configuration and the current running\nconfiguration.\n\nChange-Id: Id0fabf0a8661179f38bd35a172989331f990c49e\n""}, {'number': 7, 'created': '2021-04-10 04:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/84cdde3e4dbe6b1e1a10c46520d980f6ab8ee2ee', 'message': ""Adding oslo-config-validator --check-default\n\nLet's leverage I172d82f19a81282093b0d5f7ae4c1817801cd887 and validate\nthe running configuration.\n\nThis will add a task to the `collect-container-logs.sh` and return the\ndeltas between the default configuration and the current running\nconfiguration.\n\nChange-Id: Id0fabf0a8661179f38bd35a172989331f990c49e\n""}, {'number': 8, 'created': '2021-04-10 04:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f811a06913ead04a537a11ca475fd9da5976375b', 'message': ""Adding oslo-config-validator --check-default\n\nLet's leverage I172d82f19a81282093b0d5f7ae4c1817801cd887 and validate\nthe running configuration.\n\nThis will add a task to the `collect-container-logs.sh` and return the\ndeltas between the default configuration and the current running\nconfiguration.\n\nChange-Id: Id0fabf0a8661179f38bd35a172989331f990c49e\n""}, {'number': 9, 'created': '2021-04-13 02:35:55.000000000', 'files': ['roles/collect_logs/files/namespace_yaml_parser.py', 'roles/collect_logs/files/config-validator-namespaces.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/c786ac4a598162371d8a20b8038e17d035cdc5d5', 'message': ""Adding oslo-config-validator --check-default\n\nLet's leverage I172d82f19a81282093b0d5f7ae4c1817801cd887 and validate\nthe running configuration.\n\nThis will add a task to the `collect-container-logs.sh` and return the\ndeltas between the default configuration and the current running\nconfiguration.\n\nChange-Id: Id0fabf0a8661179f38bd35a172989331f990c49e\n""}]",6,767422,c786ac4a598162371d8a20b8038e17d035cdc5d5,30,3,9,27419,,,0,"Adding oslo-config-validator --check-default

Let's leverage I172d82f19a81282093b0d5f7ae4c1817801cd887 and validate
the running configuration.

This will add a task to the `collect-container-logs.sh` and return the
deltas between the default configuration and the current running
configuration.

Change-Id: Id0fabf0a8661179f38bd35a172989331f990c49e
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/22/767422/7 && git format-patch -1 --stdout FETCH_HEAD,"['files/namespace_yaml_parser.py', 'files/collect-container-logs.sh', 'tasks/collect/container.yml', 'files/config-validator-namespaces.yaml']",4,d7f428971aaa69b262284a42dbf3a1337f1e6a1c,,# oslo-config-validator needs namespaces to validate the default config. # This is part of the config-validator.conf for each projects. # Most deployments are not keeping a copy of this configuration so making # this reference is mandatory here. config_validator_namespaces: # https://opendev.org/openstack/nova/src/branch/master/etc/nova/nova-config-generator.conf nova: config_files: - path: /etc/nova/nova.conf namespaces: [] default_namespaces: - nova.conf - keystonemiddleware.auth_token - oslo.log - oslo.messaging - oslo.policy - oslo.privsep - oslo.service.periodic_task - oslo.service.service - oslo.db - oslo.db.concurrency - oslo.middleware - oslo.concurrency - osprofiler # https://opendev.org/openstack/cinder/src/branch/master/tools/config/cinder-config-generator.conf cinder: config_files: - path: /etc/cinder/cinder.conf namespaces: [] default_namespaces: - cinder - keystonemiddleware.auth_token - oslo.log - oslo.messaging - oslo.policy - oslo.privsep - oslo.service.periodic_task - oslo.service.service - oslo.db - oslo.db.concurrency - oslo.middleware - oslo.concurrency - osprofiler # Glance has multiple files # https://opendev.org/openstack/glance/src/branch/master/etc/oslo-config-generator glance: config_files: - path: /etc/glance/glance-api.conf namespaces: [] - path: /etc/glance/glance-cache.conf namespaces: [] - path: /etc/glance/glance-image-import.conf namespaces: [] - path: /etc/glance/glance-registry.conf namespaces: [] - path: /etc/glance/glance-scrubber.conf namespaces: [] - path: /etc/glance/glance-swift.conf namespaces: [] default_namespaces: - glance.api - glance.store - glance.multi_store - keystonemiddleware.auth_token - oslo.log - oslo.messaging - oslo.policy - oslo.privsep - oslo.service.periodic_task - oslo.service.service - oslo.db - oslo.db.concurrency - oslo.middleware.cors - oslo.middleware.http_proxy_to_wsgi # https://opendev.org/openstack/heat/src/branch/master/config-generator.conf heat: config_files: - path: /etc/heat/heat.conf namespaces: [] default_namespaces: - heat.common.config - heat.common.context - heat.common.crypt - heat.engine.clients.os.keystone.heat_keystoneclient - heat.common.wsgi - heat.engine.clients - heat.engine.notification - heat.engine.resources - heat.api.aws.ec2token - keystonemiddleware.auth_token - oslo.messaging - oslo.middleware - oslo.db - oslo.log - oslo.policy - oslo.service.service - oslo.service.periodic_task - oslo.service.sslutils # https://opendev.org/openstack/ironic/src/branch/master/tools/config/ironic-config-generator.conf ironic: config_files: - path: /etc/ironic/ironic.conf namespaces: [] default_namespaces: - ironic - ironic_lib.disk_utils - ironic_lib.disk_partitioner - ironic_lib.exception - ironic_lib.mdns - ironic_lib.metrics - ironic_lib.metrics_statsd - ironic_lib.utils - oslo.db - oslo.messaging - oslo.middleware.cors - oslo.middleware.healthcheck - oslo.middleware.http_proxy_to_wsgi - oslo.concurrency - oslo.policy - oslo.log - oslo.reports - oslo.service.service - oslo.service.periodic_task - oslo.service.sslutils - osprofiler - keystonemiddleware.auth_token # https://opendev.org/openstack/placement/src/branch/master/etc/placement/config-generator.conf placement: config_files: - path: /etc/placement/placement.conf namespaces: [] default_namespaces: - placement.conf - keystonemiddleware.auth_token - oslo.log - oslo.middleware.cors - oslo.policy # https://opendev.org/openstack/neutron/src/branch/master/etc/oslo-config-generator/neutron.conf neutron: config_files: - path: /etc/neutron/neutron.conf namespaces: [] - path: /etc/neutron/plugins/ml2/ml2_conf.ini namespaces: [] default_namespaces: - neutron - neutron.agent - neutron.db - neutron.extensions - nova.auth - ironic.auth - oslo.log - oslo.db - oslo.policy - oslo.privsep - oslo.concurrency - oslo.messaging - oslo.middleware.cors - oslo.middleware.http_proxy_to_wsgi - oslo.service.sslutils - oslo.service.wsgi - keystonemiddleware.auth_token # https://opendev.org/openstack/keystone/src/branch/master/config-generator/keystone.conf keystone: config_files: - path: /etc/keystone/keystone.conf namespaces: [] default_namespaces: - keystone - oslo.cache - oslo.log - oslo.messaging - oslo.policy - oslo.db - oslo.middleware - osprofiler ,,218,3
openstack%2Fansible-role-collect-logs~master~I6702764f86114546687e2842b020f82c8f8c9cee,openstack/ansible-role-collect-logs,master,I6702764f86114546687e2842b020f82c8f8c9cee,Converting collect-container-logs.sh to ansible,ABANDONED,2021-04-10 04:27:02.000000000,2021-05-18 04:32:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-10 04:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/c9bf5c2bdad2746b965b17b8c5926a97811ad494', 'message': 'Converting collect-container-logs.sh to ansible tasks\n\nIt would be a lot easier to maintain and manage to have a set of ansible\ntask file than this bash script.\n\nThis change converts the `collect-container-logs.sh` script into a set\nof task file, respecting the same logic but converting some of the\noutputs in json.\n\nChange-Id: I6702764f86114546687e2842b020f82c8f8c9cee\n'}, {'number': 2, 'created': '2021-04-10 04:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/c0fa8305c8d135b016ebf906a4791d6d5e3171aa', 'message': 'Converting collect-container-logs.sh to ansible\n\nIt would be a lot easier to maintain and manage to have a set of ansible\ntask file than this bash script.\n\nThis change converts the `collect-container-logs.sh` script into a set\nof task file, respecting the same logic but converting some of the\noutputs in json.\n\nChange-Id: I6702764f86114546687e2842b020f82c8f8c9cee\n'}, {'number': 3, 'created': '2021-04-12 21:12:04.000000000', 'files': ['roles/collect_logs/files/collect-container-logs.sh', 'roles/collect_logs/defaults/main.yml', 'roles/collect_logs/tasks/collect/container_data.yml', 'roles/collect_logs/tasks/collect/container_logs.yml', 'roles/collect_logs/tasks/collect/container.yml', 'roles/collect_logs/meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/dfb3120b074320662a7851bdc176e13b5c3c6691', 'message': 'Converting collect-container-logs.sh to ansible\n\nIt would be a lot easier to maintain and manage to have a set of ansible\ntask file than this bash script.\n\nThis change converts the `collect-container-logs.sh` script into a set\nof task file, respecting the same logic but converting some of the\noutputs in json.\n\nChange-Id: I6702764f86114546687e2842b020f82c8f8c9cee\n'}]",0,785743,dfb3120b074320662a7851bdc176e13b5c3c6691,9,2,3,27419,,,0,"Converting collect-container-logs.sh to ansible

It would be a lot easier to maintain and manage to have a set of ansible
task file than this bash script.

This change converts the `collect-container-logs.sh` script into a set
of task file, respecting the same logic but converting some of the
outputs in json.

Change-Id: I6702764f86114546687e2842b020f82c8f8c9cee
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/43/785743/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/collect_logs/files/collect-container-logs.sh', 'roles/collect_logs/defaults/main.yml', 'roles/collect_logs/tasks/collect/container_data.yml', 'roles/collect_logs/tasks/collect/container_logs.yml', 'roles/collect_logs/tasks/collect/container.yml', 'roles/collect_logs/meta/main.yml']",6,c9bf5c2bdad2746b965b17b8c5926a97811ad494,, collections: - containers.podman,,231,113
openstack%2Ftripleo-image-elements~stable%2Ftrain~Ida34bc4ca414abf833a5f812b88a0609b9d7f761,openstack/tripleo-image-elements,stable/train,Ida34bc4ca414abf833a5f812b88a0609b9d7f761,additionally remove eth* devices off the overcloud-full image,MERGED,2021-05-18 02:24:25.000000000,2021-05-18 04:22:08.000000000,2021-05-18 04:22:08.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 02:24:25.000000000', 'files': ['elements/interface-names/install.d/71-clean-stale-interface'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/9b50a3ce5436fc47cbe79eb26f1b26584579cb08', 'message': 'additionally remove eth* devices off the overcloud-full image\n\nResolves:\ninterface eth0: Error: Connection activation failed: No suitable\ndevice found for this connection\n\nCloses-Bug: #1928255\nChange-Id: Ida34bc4ca414abf833a5f812b88a0609b9d7f761\n(cherry picked from commit 8ff41f23cac05d0b7ba4a731d34b9b2690ba5aa5)\n'}]",0,791786,9b50a3ce5436fc47cbe79eb26f1b26584579cb08,6,2,1,9592,,,0,"additionally remove eth* devices off the overcloud-full image

Resolves:
interface eth0: Error: Connection activation failed: No suitable
device found for this connection

Closes-Bug: #1928255
Change-Id: Ida34bc4ca414abf833a5f812b88a0609b9d7f761
(cherry picked from commit 8ff41f23cac05d0b7ba4a731d34b9b2690ba5aa5)
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/86/791786/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/interface-names/install.d/71-clean-stale-interface'],1,9b50a3ce5436fc47cbe79eb26f1b26584579cb08,,if ls /etc/sysconfig/network-scripts/ifcfg-eth* &> /dev/null; then rm -f /etc/sysconfig/network-scripts/ifcfg-eth* fi,,3,0
openstack%2Ffuturist~master~I6ca3f8a2621ccc11c1c830f497e988fc269221dc,openstack/futurist,master,I6ca3f8a2621ccc11c1c830f497e988fc269221dc,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-18 02:29:58.000000000,2021-05-18 02:32:22.000000000,,[],"[{'number': 1, 'created': '2021-05-18 02:29:58.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/futurist/commit/ad7d660d1c832daebd416c8900607fd0dd5c8ef0', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I6ca3f8a2621ccc11c1c830f497e988fc269221dc\n""}]",0,791866,ad7d660d1c832daebd416c8900607fd0dd5c8ef0,2,0,1,32921,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I6ca3f8a2621ccc11c1c830f497e988fc269221dc
",git fetch https://review.opendev.org/openstack/futurist refs/changes/66/791866/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ad7d660d1c832daebd416c8900607fd0dd5c8ef0,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/futurist/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/futurist/latest/ python-requires = >=3.6,4,4
openstack%2Fpuppet-cinder~stable%2Frocky~I318a7baf404d255549d8148ae492d102cde40e57,openstack/puppet-cinder,stable/rocky,I318a7baf404d255549d8148ae492d102cde40e57,Rocky only: Fix the lint error,MERGED,2021-05-13 13:34:25.000000000,2021-05-18 02:20:48.000000000,2021-05-18 02:20:48.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:34:25.000000000', 'files': ['manifests/glance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/6c94e6a4feac0ce91f1f5f7a98cb46e9db7eae52', 'message': 'Rocky only: Fix the lint error\n\nThis fixes the following lint error.\n\nmanifests/glance.pp:71:WARNING: double quoted string containing\nno variables\n\nThe line violating the rule was added during Rocky and removed during\nTrain, thus this change is submitted to stable/rocky.\n\nChange-Id: I318a7baf404d255549d8148ae492d102cde40e57\n'}]",0,791234,6c94e6a4feac0ce91f1f5f7a98cb46e9db7eae52,9,3,1,9816,,,0,"Rocky only: Fix the lint error

This fixes the following lint error.

manifests/glance.pp:71:WARNING: double quoted string containing
no variables

The line violating the rule was added during Rocky and removed during
Train, thus this change is submitted to stable/rocky.

Change-Id: I318a7baf404d255549d8148ae492d102cde40e57
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/34/791234/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/glance.pp'],1,6c94e6a4feac0ce91f1f5f7a98cb46e9db7eae52,lint-error," warning('The glance_api_version parameter is deprecated, has no effect and will be removed in the future release.')"," warning(""The glance_api_version parameter is deprecated, has no effect and will be removed in the future release."")",1,1
openstack%2Fkayobe~master~I3c15c6976296abf9c78f1480c1779b854145c7ca,openstack/kayobe,master,I3c15c6976296abf9c78f1480c1779b854145c7ca,Remove default time sources from customisable configuration,MERGED,2021-05-11 20:31:57.000000000,2021-05-18 02:17:30.000000000,2021-05-18 02:16:24.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-05-11 20:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f14130a613368a67d7f3afaf6535b52333d09a0d', 'message': 'Remove default time sources from customisable configuration\n\nChange-Id: I3c15c6976296abf9c78f1480c1779b854145c7ca\n'}, {'number': 2, 'created': '2021-05-13 15:36:01.000000000', 'files': ['ansible/group_vars/all/time', 'etc/kayobe/time.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/223e310bc2338bb5f86c3a3de31f69361eba2f73', 'message': ""Remove default time sources from customisable configuration\n\nIt seems unlikely that anyone would want to extend the time servers\nvariable, so let's keep it simple and not add an additional variable\nwhere one isn't necessary. This is also consistent with how we configure\nDNS.\n\nThese variables haven't made it into an official release yet, so now\nis the time to clean up.\n\nChange-Id: I3c15c6976296abf9c78f1480c1779b854145c7ca\n""}]",1,790819,223e310bc2338bb5f86c3a3de31f69361eba2f73,20,4,2,15197,,,0,"Remove default time sources from customisable configuration

It seems unlikely that anyone would want to extend the time servers
variable, so let's keep it simple and not add an additional variable
where one isn't necessary. This is also consistent with how we configure
DNS.

These variables haven't made it into an official release yet, so now
is the time to clean up.

Change-Id: I3c15c6976296abf9c78f1480c1779b854145c7ca
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/19/790819/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/time.yml'],1,f14130a613368a67d7f3afaf6535b52333d09a0d,,,# Kayobe default time sources #chrony_ntp_servers_default: ,0,3
openstack%2Fgoal-tools~master~I6fbe11a5bac502197225c719948548bdc8830402,openstack/goal-tools,master,I6fbe11a5bac502197225c719948548bdc8830402,setup.cfg: Replace dashes with underscores,NEW,2021-05-18 02:09:44.000000000,2021-05-18 02:15:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-18 02:09:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/64116801ff323a6a669d66e193e75b3fdfb01be0', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I6fbe11a5bac502197225c719948548bdc8830402\n""}]",0,791864,64116801ff323a6a669d66e193e75b3fdfb01be0,2,1,1,32921,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I6fbe11a5bac502197225c719948548bdc8830402
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/64/791864/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,64116801ff323a6a669d66e193e75b3fdfb01be0,,author_email = openstack-discuss@lists.openstack.orgdescription_file =home_page = https://governance.openstack.org/tc/goals/index.html,author-email = openstack-discuss@lists.openstack.orgdescription-file =home-page = https://governance.openstack.org/tc/goals/index.html,3,3
openstack%2Fopenstack-helm~master~I3fb6aad84e5893f55ae9e9fca1150ad6e1930ddd,openstack/openstack-helm,master,I3fb6aad84e5893f55ae9e9fca1150ad6e1930ddd,chore(charts): retires panko chart,MERGED,2021-05-12 18:47:44.000000000,2021-05-18 02:05:07.000000000,2021-05-18 02:02:49.000000000,"[{'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-05-12 18:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/50d9f95eb5148808036d643d142207cb46fb887b', 'message': 'chore(charts): retires panko chart\n\nThis patch set retires the panko chart as it is being retired.\nSee [0].\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022337.html\n\nChange-Id: I3fb6aad84e5893f55ae9e9fca1150ad6e1930ddd\nSigned-off-by: Tin <tin@irrational.io>\n'}, {'number': 2, 'created': '2021-05-12 18:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9997035400eb57e4d2748e7fdd92ba30abfe46e1', 'message': 'chore(charts): retires panko chart\n\nThis patch set retires the panko chart as it is being retired.\nSee [0].\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022337.html\n\nChange-Id: I3fb6aad84e5893f55ae9e9fca1150ad6e1930ddd\nSigned-off-by: Tin <tin@irrational.io>\n'}, {'number': 3, 'created': '2021-05-12 22:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0614dbc7261e9a51653109e665fd3212e3a64c7d', 'message': 'chore(charts): retires panko chart\n\nThis patch set retires the panko chart as it is being retired.\nSee [0].\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022337.html\n\nChange-Id: I3fb6aad84e5893f55ae9e9fca1150ad6e1930ddd\nSigned-off-by: Tin <tin@irrational.io>\n'}, {'number': 4, 'created': '2021-05-13 12:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/51e276aa2dae9f2ded98c3f274bcd4e33d36bd28', 'message': 'chore(charts): retires panko chart\n\nThis patch set retires the panko chart as it is being retired.\nSee [0].\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022337.html\n\nChange-Id: I3fb6aad84e5893f55ae9e9fca1150ad6e1930ddd\nSigned-off-by: Tin <tin@irrational.io>\n'}, {'number': 5, 'created': '2021-05-17 07:11:43.000000000', 'files': ['panko/templates/ingress-api.yaml', 'panko/templates/secret-db.yaml', 'panko/templates/deployment-api.yaml', 'panko/templates/secret-keystone.yaml', 'panko/templates/service-ingress-api.yaml', 'panko/templates/pod-rally-test.yaml', 'panko/templates/pdb-api.yaml', 'panko/templates/service-api.yaml', 'releasenotes/notes/panko.yaml', 'panko/templates/bin/_db-sync.sh.tpl', 'panko/requirements.yaml', 'panko/templates/bin/_panko-api.sh.tpl', 'panko/templates/job-ks-service.yaml', 'panko/templates/job-db-drop.yaml', 'panko/templates/job-db-init.yaml', 'panko/templates/bin/_bootstrap.sh.tpl', 'panko/templates/job-image-repo-sync.yaml', 'tools/deployment/multinode/240-panko.sh', 'panko/templates/cron-job-events-cleaner.yaml', 'panko/templates/configmap-etc.yaml', 'panko/templates/job-ks-user.yaml', 'panko/templates/network_policy.yaml', 'panko/templates/bin/_panko-events-cleaner.sh.tpl', 'panko/templates/job-db-sync.yaml', 'panko/templates/secret-ingress-tls.yaml', 'releasenotes/config.yaml', 'panko/templates/configmap-bin.yaml', 'panko/templates/job-bootstrap.yaml', 'panko/Chart.yaml', 'panko/values.yaml', 'panko/templates/job-ks-endpoints.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/160529ef90b0ae291bac6f758be2f6535e28a31b', 'message': 'chore(charts): retires panko chart\n\nThis patch set retires the panko chart as it is being retired.\nSee [0].\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022337.html\n\nChange-Id: I3fb6aad84e5893f55ae9e9fca1150ad6e1930ddd\nSigned-off-by: Tin <tin@irrational.io>\n'}]",0,791040,160529ef90b0ae291bac6f758be2f6535e28a31b,23,4,5,20466,,,0,"chore(charts): retires panko chart

This patch set retires the panko chart as it is being retired.
See [0].

[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022337.html

Change-Id: I3fb6aad84e5893f55ae9e9fca1150ad6e1930ddd
Signed-off-by: Tin <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/40/791040/4 && git format-patch -1 --stdout FETCH_HEAD,"['panko/templates/ingress-api.yaml', 'panko/templates/secret-db.yaml', 'panko/templates/deployment-api.yaml', 'panko/templates/secret-keystone.yaml', 'panko/templates/service-ingress-api.yaml', 'panko/templates/pod-rally-test.yaml', 'panko/templates/pdb-api.yaml', 'panko/templates/service-api.yaml', 'releasenotes/notes/panko.yaml', 'panko/templates/bin/_db-sync.sh.tpl', 'panko/requirements.yaml', 'panko/templates/bin/_panko-api.sh.tpl', 'panko/templates/job-ks-service.yaml', 'panko/templates/job-db-drop.yaml', 'panko/templates/job-db-init.yaml', 'panko/templates/bin/_bootstrap.sh.tpl', 'panko/templates/job-image-repo-sync.yaml', 'panko/templates/cron-job-events-cleaner.yaml', 'panko/templates/configmap-etc.yaml', 'panko/templates/job-ks-user.yaml', 'panko/templates/network_policy.yaml', 'panko/templates/bin/_panko-events-cleaner.sh.tpl', 'panko/templates/job-db-sync.yaml', 'panko/templates/secret-ingress-tls.yaml', 'panko/templates/configmap-bin.yaml', 'panko/templates/job-bootstrap.yaml', 'panko/Chart.yaml', 'panko/values.yaml', 'panko/templates/job-ks-endpoints.yaml']",29,50d9f95eb5148808036d643d142207cb46fb887b,rm/panko,,"{{/* Copyright 2019 Wind River Systems, Inc. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.job_ks_endpoints }} {{- $ksServiceJob := dict ""envAll"" . ""serviceName"" ""panko"" ""serviceTypes"" ( tuple ""event"" ) -}} {{ $ksServiceJob | include ""helm-toolkit.manifests.job_ks_endpoints"" }} {{- end }} ",1,1620
openstack%2Fopenstack-helm~master~Ifcd4c1032b41363ea8b1d43407315d68d7e9eec8,openstack/openstack-helm,master,Ifcd4c1032b41363ea8b1d43407315d68d7e9eec8,fix(perm): fixes template permission,MERGED,2021-05-17 16:24:23.000000000,2021-05-18 02:03:57.000000000,2021-05-18 02:02:44.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-05-17 16:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b76b85b16453209e9c60b688bc81bcfb52cc7ec9', 'message': 'fix(perm): fixes template permission\n\nSome nova gotpl files have +x permission. This changes it so they are\nconsistent with the other gotpl files.\n\nChange-Id: Ifcd4c1032b41363ea8b1d43407315d68d7e9eec8\nSigned-off-by: Tin <tin@irrational.io>\n'}, {'number': 2, 'created': '2021-05-17 16:26:04.000000000', 'files': ['nova/templates/bin/_db-sync.sh.tpl', 'nova/templates/bin/_cell-setup.sh.tpl', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f5a70102b264b3a7c410079075adbd1995ff5932', 'message': 'fix(perm): fixes template permission\n\nSome nova gotpl files have +x permission. This changes it so they are\nconsistent with the other gotpl files.\n\nChange-Id: Ifcd4c1032b41363ea8b1d43407315d68d7e9eec8\nSigned-off-by: Tin <tin@irrational.io>\n'}]",0,791801,f5a70102b264b3a7c410079075adbd1995ff5932,12,3,2,20466,,,0,"fix(perm): fixes template permission

Some nova gotpl files have +x permission. This changes it so they are
consistent with the other gotpl files.

Change-Id: Ifcd4c1032b41363ea8b1d43407315d68d7e9eec8
Signed-off-by: Tin <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/01/791801/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/bin/_db-sync.sh.tpl', 'nova/templates/bin/_cell-setup.sh.tpl']",2,b76b85b16453209e9c60b688bc81bcfb52cc7ec9,nova/tpl-permission,,,0,0
openstack%2Fpuppet-oslo~stable%2Ftrain~I233cb85d56c3de11c1f3d18bed0df0936665ed3a,openstack/puppet-oslo,stable/train,I233cb85d56c3de11c1f3d18bed0df0936665ed3a,Prepare the final stable/train release,MERGED,2021-05-13 00:12:57.000000000,2021-05-18 01:49:07.000000000,2021-05-18 01:49:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 00:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/06e0094e35d4a7cf86776b566dd99146809f921e', 'message': 'Prepare a final stable/train release\n\nThe stable/train is entering in extended manitenance. Because we have\nseveal changes merged since the last release, a new release should be\ncreated before that.\n\nDepends-on: https://review.opendev.org/791063\nChange-Id: I233cb85d56c3de11c1f3d18bed0df0936665ed3a\n'}, {'number': 2, 'created': '2021-05-13 13:12:46.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/883fa530a6dc34d6d62c611a302273f9b9578a03', 'message': 'Prepare the final stable/train release\n\nThe stable/train is entering in extended manitenance. Because we have\nseveal changes merged since the last release, a new release should be\ncreated before that.\n\nDepends-on: https://review.opendev.org/791063\nChange-Id: I233cb85d56c3de11c1f3d18bed0df0936665ed3a\n'}]",0,791064,883fa530a6dc34d6d62c611a302273f9b9578a03,13,3,2,9816,,,0,"Prepare the final stable/train release

The stable/train is entering in extended manitenance. Because we have
seveal changes merged since the last release, a new release should be
created before that.

Depends-on: https://review.opendev.org/791063
Change-Id: I233cb85d56c3de11c1f3d18bed0df0936665ed3a
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/64/791064/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,06e0094e35d4a7cf86776b566dd99146809f921e,t-release," ""version_requirement"": "">=15.5.0 <16.0.0"" ""version"": ""15.5.0"""," ""version_requirement"": "">=15.4.0 <16.0.0"" ""version"": ""15.4.0""",2,2
openstack%2Fvalidations-libs~master~I45c4181309de69613dac6adee70dc875774cc309,openstack/validations-libs,master,I45c4181309de69613dac6adee70dc875774cc309,Bump pre-commit repositories,MERGED,2021-05-05 13:58:14.000000000,2021-05-18 01:49:03.000000000,2021-05-18 01:49:03.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-05 13:58:14.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/57a346c8c141f73fb12ae682cb89efd43c3d44f1', 'message': 'Bump pre-commit repositories\n\nThis patch bumps the following tools:\n- pre-commit-hooks[1] to v3.4.0\n- yamllint[2] to v5.0.8\n\nAnd adds pycqa/flake8:\n- flake8[3] to 3.9.1\n\n[1] - https://github.com/pre-commit/pre-commit-hooks\n[2] - https://github.com/adrienverge/yamllint\n[3] - https://gitlab.com/pycqa/flake8\n\nChange-Id: I45c4181309de69613dac6adee70dc875774cc309\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,789837,57a346c8c141f73fb12ae682cb89efd43c3d44f1,9,8,1,11491,,,0,"Bump pre-commit repositories

This patch bumps the following tools:
- pre-commit-hooks[1] to v3.4.0
- yamllint[2] to v5.0.8

And adds pycqa/flake8:
- flake8[3] to 3.9.1

[1] - https://github.com/pre-commit/pre-commit-hooks
[2] - https://github.com/adrienverge/yamllint
[3] - https://gitlab.com/pycqa/flake8

Change-Id: I45c4181309de69613dac6adee70dc875774cc309
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/37/789837/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,57a346c8c141f73fb12ae682cb89efd43c3d44f1,pre-commit-update," rev: v3.4.0 - repo: https://github.com/adrienverge/yamllint.git rev: v1.26.1 hooks: - id: yamllint files: \.(yaml|yml)$ types: [file, yaml] entry: yamllint --strict -f parsable rev: 3.9.1", rev: v3.3.0 rev: 3.8.3,10,2
openstack%2Fvalidations-common~master~Icca554ea4392c3b0b572b27c2e2370b11f8013d7,openstack/validations-common,master,Icca554ea4392c3b0b572b27c2e2370b11f8013d7,Fix targeting hosts to 'localhost' instead of 'all',MERGED,2021-05-11 09:55:31.000000000,2021-05-18 01:48:54.000000000,2021-05-18 01:48:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-11 09:55:31.000000000', 'files': ['validations_common/playbooks/check-disk-space.yaml', 'validations_common/playbooks/no-op.yaml', 'validations_common/playbooks/ntp.yaml', 'validations_common/playbooks/check-selinux-mode.yaml', 'validations_common/playbooks/check-ftype.yaml', 'validations_common/playbooks/check-ram.yaml', 'validations_common/playbooks/dns.yaml', 'validations_common/playbooks/512e.yaml', 'validations_common/playbooks/check-cpu.yaml', 'validations_common/playbooks/check-disk-space-pre-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5de26bd27f3e7dec3aea95646102bb8ef50ea251', 'message': ""Fix targeting hosts to 'localhost' instead of 'all'\n\nThis patch fixes the targeting hosts for the validations which should be\nexecuted locally.\n\nRationale: When those validations are executed in the TripleO world,\nthey are executed on all the nodes including the Overcloud nodes. For\ninstance, check-ram and check-cpu validations check the Red Hat\nrecommendations for the Undercloud only and shouldn't be checking the\nOvercloud nodes.\n\nChange-Id: Icca554ea4392c3b0b572b27c2e2370b11f8013d7\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",0,790645,5de26bd27f3e7dec3aea95646102bb8ef50ea251,9,6,1,11491,,,0,"Fix targeting hosts to 'localhost' instead of 'all'

This patch fixes the targeting hosts for the validations which should be
executed locally.

Rationale: When those validations are executed in the TripleO world,
they are executed on all the nodes including the Overcloud nodes. For
instance, check-ram and check-cpu validations check the Red Hat
recommendations for the Undercloud only and shouldn't be checking the
Overcloud nodes.

Change-Id: Icca554ea4392c3b0b572b27c2e2370b11f8013d7
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/45/790645/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/playbooks/check-disk-space.yaml', 'validations_common/playbooks/check-selinux-mode.yaml', 'validations_common/playbooks/no-op.yaml', 'validations_common/playbooks/ntp.yaml', 'validations_common/playbooks/check-ftype.yaml', 'validations_common/playbooks/check-ram.yaml', 'validations_common/playbooks/dns.yaml', 'validations_common/playbooks/512e.yaml', 'validations_common/playbooks/check-cpu.yaml', 'validations_common/playbooks/check-disk-space-pre-upgrade.yaml']",10,5de26bd27f3e7dec3aea95646102bb8ef50ea251,,- hosts: localhost,- hosts: all,10,10
openstack%2Fvalidations-common~master~Ieb1554a455017a0ed8c252fe414ea7479544a028,openstack/validations-common,master,Ieb1554a455017a0ed8c252fe414ea7479544a028,Fix callback_type for validation_json.py,MERGED,2021-05-14 07:40:21.000000000,2021-05-18 01:48:48.000000000,2021-05-18 01:48:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-14 07:40:21.000000000', 'files': ['validations_common/tests/callback_plugins/test_validation_json.py', 'validations_common/callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/01842ab1b47307f2e804ba1130b710e55e3dc0a3', 'message': ""Fix callback_type for validation_json.py\n\n'agregate' callback type is not an official callback type for\nAnsible. It should be 'aggregate' with two g instead of one.\n\nThis patch fixes that issue.\n\nChange-Id: Ieb1554a455017a0ed8c252fe414ea7479544a028\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",0,791396,01842ab1b47307f2e804ba1130b710e55e3dc0a3,9,6,1,11491,,,0,"Fix callback_type for validation_json.py

'agregate' callback type is not an official callback type for
Ansible. It should be 'aggregate' with two g instead of one.

This patch fixes that issue.

Change-Id: Ieb1554a455017a0ed8c252fe414ea7479544a028
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/96/791396/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/callback_plugins/validation_json.py', 'validations_common/tests/callback_plugins/test_validation_json.py']",2,01842ab1b47307f2e804ba1130b710e55e3dc0a3,callback_type_typo," self.assertEqual(callback.CALLBACK_TYPE, 'aggregate')"," self.assertEqual(callback.CALLBACK_TYPE, 'agregate')",3,3
openstack%2Ftripleo-ansible~stable%2Fwallaby~Id552f0b1c21e4c6a723d9ab09bc962a9efb17f46,openstack/tripleo-ansible,stable/wallaby,Id552f0b1c21e4c6a723d9ab09bc962a9efb17f46,Update .gitreview for stable/wallaby,MERGED,2021-05-05 15:33:29.000000000,2021-05-18 01:48:40.000000000,2021-05-18 01:48:40.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-05 15:33:29.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1886f2d64bb69c220d988d4de83fba2e12b50cbc', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Id552f0b1c21e4c6a723d9ab09bc962a9efb17f46\n'}]",0,789885,1886f2d64bb69c220d988d4de83fba2e12b50cbc,12,3,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Id552f0b1c21e4c6a723d9ab09bc962a9efb17f46
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/85/789885/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,1886f2d64bb69c220d988d4de83fba2e12b50cbc,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0,openstack/tripleo-heat-templates,stable/wallaby,I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0,Disable tunneled mode when use_tls_for_live_migration,MERGED,2021-05-17 13:35:52.000000000,2021-05-18 01:48:31.000000000,2021-05-18 01:48:31.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-17 13:35:52.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b1da5cd5ba440241351e52b627cde0477e93057', 'message': ""Disable tunneled mode when use_tls_for_live_migration\n\nWith recent version of libvirt, nova-compute don't come up\ncorrect when tls-everywhere (use_tls_for_live_migration)\nis set. The enable_live_migration_tunnelled condition\ndid not consider tls-livemigration and got disabled.\nNova-compute fails to start with:\n\n2021-05-12 12:49:09.278 7 ERROR oslo_service.service nova.exception.Invalid: Setting both 'live_migration_tunnelled' and 'live_migration_with_native_tls' at the same time is invalid. If you have the relevant libvirt and QEMU versions, and TLS configured in your environment, pick 'live_migration_with_native_tls'._\n\nThis change enhance the enable_live_migration_tunnelled\ncondition to not configure tunnelled mode when\nuse_tls_for_live_migration is true.\n\nCloses-Bug: #1928554\nRelated-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1959808\n\nChange-Id: I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0\n(cherry picked from commit 3a472cbbe844dd7e15e4889e5f02845461413169)\n""}]",0,791587,4b1da5cd5ba440241351e52b627cde0477e93057,11,9,1,27419,,,0,"Disable tunneled mode when use_tls_for_live_migration

With recent version of libvirt, nova-compute don't come up
correct when tls-everywhere (use_tls_for_live_migration)
is set. The enable_live_migration_tunnelled condition
did not consider tls-livemigration and got disabled.
Nova-compute fails to start with:

2021-05-12 12:49:09.278 7 ERROR oslo_service.service nova.exception.Invalid: Setting both 'live_migration_tunnelled' and 'live_migration_with_native_tls' at the same time is invalid. If you have the relevant libvirt and QEMU versions, and TLS configured in your environment, pick 'live_migration_with_native_tls'._

This change enhance the enable_live_migration_tunnelled
condition to not configure tunnelled mode when
use_tls_for_live_migration is true.

Closes-Bug: #1928554
Related-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1959808

Change-Id: I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0
(cherry picked from commit 3a472cbbe844dd7e15e4889e5f02845461413169)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/791587/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml']",2,4b1da5cd5ba440241351e52b627cde0477e93057,1959808," EnableInternalTLS: type: boolean default: false UseTLSTransportForLiveMigration: type: boolean default: true description: If set to true and if EnableInternalTLS is enabled, it will set the libvirt URI's transport to tls and configure the relevant keys for libvirt. use_tls_for_live_migration: and: - {get_param: EnableInternalTLS} - {get_param: UseTLSTransportForLiveMigration} and: - or: - and: - {get_param: NovaNfsEnabled} - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, ''] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, true] - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, true] - and: - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, ''] - {get_param: NovaEnableRbdBackend} - not: use_tls_for_live_migration"," or: - and: - equals: [{get_param: NovaNfsEnabled}, true] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, ''] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, true] - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, true] - and: - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, ''] - equals: [{get_param: NovaEnableRbdBackend}, true]",24,14
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0,openstack/tripleo-heat-templates,stable/victoria,I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0,Disable tunneled mode when use_tls_for_live_migration,MERGED,2021-05-17 13:36:19.000000000,2021-05-18 01:48:23.000000000,2021-05-18 01:48:23.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-17 13:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5ea3ade20d129fa38c0c3006573e6bf27674637', 'message': ""Disable tunneled mode when use_tls_for_live_migration\n\nWith recent version of libvirt, nova-compute don't come up\ncorrect when tls-everywhere (use_tls_for_live_migration)\nis set. The enable_live_migration_tunnelled condition\ndid not consider tls-livemigration and got disabled.\nNova-compute fails to start with:\n\n2021-05-12 12:49:09.278 7 ERROR oslo_service.service nova.exception.Invalid: Setting both 'live_migration_tunnelled' and 'live_migration_with_native_tls' at the same time is invalid. If you have the relevant libvirt and QEMU versions, and TLS configured in your environment, pick 'live_migration_with_native_tls'._\n\nThis change enhance the enable_live_migration_tunnelled\ncondition to not configure tunnelled mode when\nuse_tls_for_live_migration is true.\n\nCloses-Bug: #1928554\nRelated-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1959808\n\nChange-Id: I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0\n(cherry picked from commit 3a472cbbe844dd7e15e4889e5f02845461413169)\n(cherry picked from commit 4b1da5cd5ba440241351e52b627cde0477e93057)\n""}, {'number': 2, 'created': '2021-05-17 13:48:07.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86de3c350141e1e05e5d77a742fc7c3dbb8a574c', 'message': ""Disable tunneled mode when use_tls_for_live_migration\n\nWith recent version of libvirt, nova-compute don't come up\ncorrect when tls-everywhere (use_tls_for_live_migration)\nis set. The enable_live_migration_tunnelled condition\ndid not consider tls-livemigration and got disabled.\nNova-compute fails to start with:\n\n2021-05-12 12:49:09.278 7 ERROR oslo_service.service nova.exception.Invalid: Setting both 'live_migration_tunnelled' and 'live_migration_with_native_tls' at the same time is invalid. If you have the relevant libvirt and QEMU versions, and TLS configured in your environment, pick 'live_migration_with_native_tls'._\n\nThis change enhance the enable_live_migration_tunnelled\ncondition to not configure tunnelled mode when\nuse_tls_for_live_migration is true.\n\nConflicts:\n  - deployment/nova/nova-compute-container-puppet.yaml\n\nNOTE(dvd):\n- 91837d4fa7325e909b5f5a655336015688edb47c Add new parameters to configure nova-compute direct rbd image download\n- addcee106e2f0de09f785dbfde57d1185404c39c Add ability to configure glance multiple cinder stores\n\nCloses-Bug: #1928554\nRelated-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1959808\n\nChange-Id: I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0\n(cherry picked from commit 3a472cbbe844dd7e15e4889e5f02845461413169)\n(cherry picked from commit 4b1da5cd5ba440241351e52b627cde0477e93057)\n""}]",0,791588,86de3c350141e1e05e5d77a742fc7c3dbb8a574c,11,9,2,27419,,,0,"Disable tunneled mode when use_tls_for_live_migration

With recent version of libvirt, nova-compute don't come up
correct when tls-everywhere (use_tls_for_live_migration)
is set. The enable_live_migration_tunnelled condition
did not consider tls-livemigration and got disabled.
Nova-compute fails to start with:

2021-05-12 12:49:09.278 7 ERROR oslo_service.service nova.exception.Invalid: Setting both 'live_migration_tunnelled' and 'live_migration_with_native_tls' at the same time is invalid. If you have the relevant libvirt and QEMU versions, and TLS configured in your environment, pick 'live_migration_with_native_tls'._

This change enhance the enable_live_migration_tunnelled
condition to not configure tunnelled mode when
use_tls_for_live_migration is true.

Conflicts:
  - deployment/nova/nova-compute-container-puppet.yaml

NOTE(dvd):
- 91837d4fa7325e909b5f5a655336015688edb47c Add new parameters to configure nova-compute direct rbd image download
- addcee106e2f0de09f785dbfde57d1185404c39c Add ability to configure glance multiple cinder stores

Closes-Bug: #1928554
Related-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1959808

Change-Id: I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0
(cherry picked from commit 3a472cbbe844dd7e15e4889e5f02845461413169)
(cherry picked from commit 4b1da5cd5ba440241351e52b627cde0477e93057)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/791588/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml']",2,b5ea3ade20d129fa38c0c3006573e6bf27674637,1959808,"<<<<<<< HEAD (1311f8 Don't assume every role has default_route_networks) ======= GlanceRbdPoolName: default: images type: string GlanceMultistoreConfig: type: json default: {} description: | Dictionary of settings when configuring additional glance backends. The hash key is the backend ID, and the value is a dictionary of parameter values unique to that backend. Multiple rbd and cinder backends are allowed, but file and swift backends are limited to one each. Example: # Default glance store is rbd. GlanceBackend: rbd GlanceStoreDescription: 'Default rbd store' # GlanceMultistoreConfig specifies a second rbd backend, plus a cinder # backend. GlanceMultistoreConfig: rbd2_store: GlanceBackend: rbd GlanceStoreDescription: 'Second rbd store' CephClusterName: ceph2 # Override CephClientUserName if this cluster uses a different # client name. CephClientUserName: client2 cinder1_store: GlanceBackend: cinder GlanceCinderVolumeType: 'volume-type-1' GlanceStoreDescription: 'First cinder store' cinder2_store: GlanceBackend: cinder GlanceCinderVolumeType: 'volume-type-2' GlanceStoreDescription: 'Seconde cinder store' NovaGlanceEnableRbdDownload: type: boolean description: > Enable download of Glance images directly via RBD. default: false tags: - role_specific NovaGlanceRbdDownloadMultistoreID: type: string description: > The hash key, which is the backend ID, of the GlanceMultistoreConfig to be used for the role where NovaGlanceEnableRbdDownload is enabled and defaults should be overridden. If CephClientUserName or GlanceRbdPoolName are not set in the GlanceMultistoreConfig, the global values of those parameters will be used. default: '' tags: - role_specific CustomProviderInventories: description: | Array of hashes describing the custom providers for the compute role. Format: name/uuid - Resource providers to target can be identified by either UUID or name. In addition, the value $COMPUTE_NODE can be used in the UUID field to identify all nodes managed by the service. Exactly one of uuid or name is mandatory. If neither uuid or name is provided, the special uuid $COMPUTE_NODE gets set in the template. inventories - (Optional) Hash of custom provider inventories. 'total' is a mandatory property. Any other optional properties not populated will be given a default value by placement. If overriding a pre-existing provider values will not be preserved from the existing inventory. traits - (Optional) Array of additional traits. Example: ComputeParameters: CustomProviderInventories: - uuid: $COMPUTE_NODE inventories: CUSTOM_EXAMPLE_RESOURCE_CLASS: total: 100 reserved: 0 min_unit: 1 max_unit: 10 step_size: 1 allocation_ratio: 1.0 CUSTOM_ANOTHER_EXAMPLE_RESOURCE_CLASS: total: 100 traits: - CUSTOM_P_STATE_ENABLED - CUSTOM_C_STATE_ENABLED type: json default: {} tags: - role_specific EnableInternalTLS: type: boolean default: false UseTLSTransportForLiveMigration: type: boolean default: true description: If set to true and if EnableInternalTLS is enabled, it will set the libvirt URI's transport to tls and configure the relevant keys for libvirt. >>>>>>> CHANGE (4b1da5 Disable tunneled mode when use_tls_for_live_migration)<<<<<<< HEAD (1311f8 Don't assume every role has default_route_networks) ======= compute_startup_delay: and: - not: {equals: [{get_param: NovaComputeStartupDelay}, 0]} - not: enable_instance_ha use_tls_for_live_migration: and: - {get_param: EnableInternalTLS} - {get_param: UseTLSTransportForLiveMigration} >>>>>>> CHANGE (4b1da5 Disable tunneled mode when use_tls_for_live_migration) and: - or: - and: - {get_param: NovaNfsEnabled} - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, ''] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, true] - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, true] - and: - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, ''] - {get_param: NovaEnableRbdBackend} - not: use_tls_for_live_migration"," or: - and: - equals: [{get_param: NovaNfsEnabled}, true] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, ''] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, true] - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, true] - and: - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, ''] - equals: [{get_param: NovaEnableRbdBackend}, true]",122,13
openstack%2Fvalidations-common~master~I96228d3f05cf27167dc602ac0f264c36ca4cb7d9,openstack/validations-common,master,I96228d3f05cf27167dc602ac0f264c36ca4cb7d9,Bump pre-commit repositories,MERGED,2021-05-05 13:34:29.000000000,2021-05-18 01:30:23.000000000,2021-05-18 01:30:23.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-05 13:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/4378890f08c47ee7450e15ce8e6fa0544d560941', 'message': 'Bump pre-commit repositories\n\nThis patch bumps the following tools:\n- pre-commit-hooks[1] to v3.4.0\n- yamllint[2] to v5.0.8\n- ansible-lint[3] to v5.0.8\n- bashate[4] to 2.0.0\n\n[1] - https://github.com/pre-commit/pre-commit-hooks\n[2] - https://github.com/adrienverge/yamllint\n[3] - https://github.com/ansible-community/ansible-lint\n[4] - https://github.com/openstack-dev/bashate\n\nChange-Id: I96228d3f05cf27167dc602ac0f264c36ca4cb7d9\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-05-05 13:49:11.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e15b080bb0cef2043055b0564e24da1cbf4b27f1', 'message': 'Bump pre-commit repositories\n\nThis patch bumps the following tools:\n- pre-commit-hooks[1] to v3.4.0\n- yamllint[2] to v5.0.8\n- ansible-lint[3] to v5.0.8\n- bashate[4] to 2.0.0\n\nAnd adds pycqa/flake8:\n- flake8[5] to 3.9.1\n\n[1] - https://github.com/pre-commit/pre-commit-hooks\n[2] - https://github.com/adrienverge/yamllint\n[3] - https://github.com/ansible-community/ansible-lint\n[4] - https://github.com/openstack-dev/bashate\n[5] - https://gitlab.com/pycqa/flake8\n\nChange-Id: I96228d3f05cf27167dc602ac0f264c36ca4cb7d9\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,789832,e15b080bb0cef2043055b0564e24da1cbf4b27f1,10,8,2,11491,,,0,"Bump pre-commit repositories

This patch bumps the following tools:
- pre-commit-hooks[1] to v3.4.0
- yamllint[2] to v5.0.8
- ansible-lint[3] to v5.0.8
- bashate[4] to 2.0.0

And adds pycqa/flake8:
- flake8[5] to 3.9.1

[1] - https://github.com/pre-commit/pre-commit-hooks
[2] - https://github.com/adrienverge/yamllint
[3] - https://github.com/ansible-community/ansible-lint
[4] - https://github.com/openstack-dev/bashate
[5] - https://gitlab.com/pycqa/flake8

Change-Id: I96228d3f05cf27167dc602ac0f264c36ca4cb7d9
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/32/789832/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,4378890f08c47ee7450e15ce8e6fa0544d560941,pre-commit-update, rev: v3.4.0 rev: v1.26.1 rev: v5.0.8 rev: 2.0.0, rev: v2.5.0 rev: v1.20.0 rev: v5.0.3 rev: 0.6.0,4,4
openstack%2Fvalidations-common~master~I05606bfdb7fb2191cfe7590a432b7817b3cb35f2,openstack/validations-common,master,I05606bfdb7fb2191cfe7590a432b7817b3cb35f2,Sync is no longer loopy,MERGED,2021-05-07 09:12:18.000000000,2021-05-18 01:23:38.000000000,2021-05-18 01:23:38.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-07 09:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e68c98ce16724ab16ca09606cfad8e0cb47215dd', 'message': ""Sync is no longer loopy\n\nSync doesn't loop over the dir, instead it pulls\nall files directly.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I05606bfdb7fb2191cfe7590a432b7817b3cb35f2\n""}, {'number': 2, 'created': '2021-05-07 12:55:46.000000000', 'files': ['roles/fetch_validations/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/771eacc0b6c81e0df573db5f321b2fbc3568afd1', 'message': ""Sync is no longer loopy\n\nSync doesn't loop over the dir, instead it pulls\nall files directly.\n\nThere is no need for loop in this case,\nas we have only one element to iterate over.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I05606bfdb7fb2191cfe7590a432b7817b3cb35f2\n""}]",0,790212,771eacc0b6c81e0df573db5f321b2fbc3568afd1,10,7,2,32926,,,0,"Sync is no longer loopy

Sync doesn't loop over the dir, instead it pulls
all files directly.

There is no need for loop in this case,
as we have only one element to iterate over.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I05606bfdb7fb2191cfe7590a432b7817b3cb35f2
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/12/790212/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/fetch_validations/tasks/main.yaml'],1,e68c98ce16724ab16ca09606cfad8e0cb47215dd,CI/syncnoloop," dest: ""{{ log_path }}/validations-logs"" src: ""{{ output_dir }}/artifacts/"""," dest: ""{{ vf_output.dest }}/"" src: ""{{ output_dir }}/{{ vf_output.src }}/"" loop: - dest: ""{{ log_path }}/validations-logs"" src: ""artifacts"" loop_control: loop_var: vf_output",2,7
openstack%2Fvalidations-common~master~I6e13a6b42ba97b5ce850bc8c37d112ada7c09cd2,openstack/validations-common,master,I6e13a6b42ba97b5ce850bc8c37d112ada7c09cd2,Added the 'CALLBACK_NEEDS_WHITELIST' attribute.,MERGED,2021-05-17 08:48:22.000000000,2021-05-18 01:23:35.000000000,2021-05-18 01:23:35.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-17 08:48:22.000000000', 'files': ['validations_common/callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/4fc2ef2b4157beda6888c7e296832a2ccf6120bd', 'message': ""Added the 'CALLBACK_NEEDS_WHITELIST' attribute.\n\nValue set to 'True' in order to prevent writing to\nour logging dir by other processes using ansible callback\nhandling routines.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6e13a6b42ba97b5ce850bc8c37d112ada7c09cd2\n""}]",0,791695,4fc2ef2b4157beda6888c7e296832a2ccf6120bd,12,5,1,32926,,,0,"Added the 'CALLBACK_NEEDS_WHITELIST' attribute.

Value set to 'True' in order to prevent writing to
our logging dir by other processes using ansible callback
handling routines.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6e13a6b42ba97b5ce850bc8c37d112ada7c09cd2
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/95/791695/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/callback_plugins/validation_json.py'],1,4fc2ef2b4157beda6888c7e296832a2ccf6120bd,aggrcallbacks/whitelist, CALLBACK_NEEDS_WHITELIST = True,,1,0
openstack%2Fcloudkitty~master~I2fbe2f503d8e24c67857c43e2d785666b627080e,openstack/cloudkitty,master,I2fbe2f503d8e24c67857c43e2d785666b627080e,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-12 09:53:32.000000000,2021-05-18 01:22:36.000000000,,"[{'_account_id': 18279}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 09:53:32.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/284323b51171e581daacca5fcd3369a2147ad50b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I2fbe2f503d8e24c67857c43e2d785666b627080e\n""}]",0,790933,284323b51171e581daacca5fcd3369a2147ad50b,4,2,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I2fbe2f503d8e24c67857c43e2d785666b627080e
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/33/790933/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,284323b51171e581daacca5fcd3369a2147ad50b,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.orgpython_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.orgpython-requires = >=3.6,3,3
openstack%2Fpuppet-nova~master~Icf0a695ccc107c463fdfbedd29fe662f996d76cb,openstack/puppet-nova,master,Icf0a695ccc107c463fdfbedd29fe662f996d76cb,Remove image_cache parameters from nova::compute::libvirt,MERGED,2021-05-04 12:18:21.000000000,2021-05-18 01:08:07.000000000,2021-05-18 01:06:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 12:18:21.000000000', 'files': ['releasenotes/notes/cleanup-image_cache-opts-ebecdd4a18769dd3.yaml', 'manifests/compute/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/369f0509795e29a99a3e13bbd8257e8643bc2014', 'message': 'Remove image_cache parameters from nova::compute::libvirt\n\n... because these parameters were deprecated during the Victoria cycle\nin favor of the new nova::compute::image_cache class[1].\n\n[1] 3811ac99a85d1725ba2d58de99bee6013992e669\nChange-Id: Icf0a695ccc107c463fdfbedd29fe662f996d76cb\n'}]",0,789557,369f0509795e29a99a3e13bbd8257e8643bc2014,17,3,1,9816,,,0,"Remove image_cache parameters from nova::compute::libvirt

... because these parameters were deprecated during the Victoria cycle
in favor of the new nova::compute::image_cache class[1].

[1] 3811ac99a85d1725ba2d58de99bee6013992e669
Change-Id: Icf0a695ccc107c463fdfbedd29fe662f996d76cb
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/57/789557/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cleanup-image_cache-opts-ebecdd4a18769dd3.yaml', 'manifests/compute/libvirt.pp']",2,369f0509795e29a99a3e13bbd8257e8643bc2014,cleanup,,"# [*remove_unused_base_images*] # (optional) Should unused base images be removed? # If undef is specified, remove the line in nova.conf # otherwise, use a boolean to remove or not the base images. # Defaults to undef # # [*remove_unused_resized_minimum_age_seconds*] # (optional) Unused resized base images younger # than this will not be removed # If undef is specified, remove the line in nova.conf # otherwise, use a integer or a string to define after # how many seconds it will be removed. # Defaults to undef # # [*remove_unused_original_minimum_age_seconds*] # (optional) Unused unresized base images younger # than this will not be removed # If undef is specified, remove the line in nova.conf # otherwise, use a integer or a string to define after # how many seconds it will be removed. # Defaults to undef # $remove_unused_base_images = undef, $remove_unused_resized_minimum_age_seconds = undef, $remove_unused_original_minimum_age_seconds = undef, if $remove_unused_base_images != undef { warning('The remove_unused_base_images parameter was deprecated and \ will be removed in a future release. Use the nova::compute::image_cache class') } if $remove_unused_resized_minimum_age_seconds != undef { warning('The remove_unused_resized_minimum_age_seconds parameter was deprecated and \ will be removed in a future release. Use the nova::compute::image_cache class') } if $remove_unused_original_minimum_age_seconds != undef { warning('The remove_unused_original_minimum_age_seconds parameter was deprecated and \ will be removed in a future release. Use the nova::compute::image_cache class') } # TODO(tkajinam): Remove this when removing deprecated image cache parameters include nova::compute::image_cache # Cleanup deprecated image cache parameters nova_config { 'DEFAULT/remove_unused_base_images': ensure => 'absent'; 'DEFAULT/remove_unused_original_minimum_age_seconds': ensure => 'absent'; 'libvirt/remove_unused_resized_minimum_age_seconds': ensure => 'absent'; } ",9,51
openstack%2Fpuppet-nova~stable%2Fussuri~I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351,openstack/puppet-nova,stable/ussuri,I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351,Fixing section ovsdb_connection,MERGED,2021-05-10 21:20:01.000000000,2021-05-18 01:06:51.000000000,2021-05-18 01:06:51.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 18511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 21:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/eed2a27612b26b0f5b965f1e2f53edd63b0a89ef', 'message': 'Fixing section ovsdb_connection\n\nThe correct setting should be `vif_plug_ovs/ovsdb_connection`\n\nChange-Id: I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351\n(cherry picked from commit b72f98538cad05be8b2c42a46dec78fe0b288008)\n(cherry picked from commit 86838f550bc9e49f45bb8fbc4833226444c3eb6c)\n'}, {'number': 2, 'created': '2021-05-10 21:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7c11d3c3b7f4915427cb65348fccf39595f8fbbc', 'message': 'Fixing section ovsdb_connection\n\nThe correct setting should be `vif_plug_ovs/ovsdb_connection`\n\nChange-Id: I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351\n(cherry picked from commit b72f98538cad05be8b2c42a46dec78fe0b288008)\n(cherry picked from commit 86838f550bc9e49f45bb8fbc4833226444c3eb6c)\n(cherry picked from commit 3d17b57bff47412161000f287362d77a391c3ba5)\n'}, {'number': 3, 'created': '2021-05-10 21:26:34.000000000', 'files': ['manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/736be63abdd095a49b9bf566c363c2827a4240fa', 'message': 'Fixing section ovsdb_connection\n\nThe correct setting should be `vif_plug_ovs/ovsdb_connection`\n\nConflicts:\n  manifests/init.pp\n  spec/classes/nova_init_spec.rb\n\nNOTE(dvd):\n  b82062 Introducing default_tls_verify\n\nChange-Id: I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351\n(cherry picked from commit b72f98538cad05be8b2c42a46dec78fe0b288008)\n(cherry picked from commit 86838f550bc9e49f45bb8fbc4833226444c3eb6c)\n(cherry picked from commit 3d17b57bff47412161000f287362d77a391c3ba5)\n'}]",0,790449,736be63abdd095a49b9bf566c363c2827a4240fa,11,5,3,27419,,,0,"Fixing section ovsdb_connection

The correct setting should be `vif_plug_ovs/ovsdb_connection`

Conflicts:
  manifests/init.pp
  spec/classes/nova_init_spec.rb

NOTE(dvd):
  b82062 Introducing default_tls_verify

Change-Id: I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351
(cherry picked from commit b72f98538cad05be8b2c42a46dec78fe0b288008)
(cherry picked from commit 86838f550bc9e49f45bb8fbc4833226444c3eb6c)
(cherry picked from commit 3d17b57bff47412161000f287362d77a391c3ba5)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/49/790449/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/nova_init_spec.rb']",2,eed2a27612b26b0f5b965f1e2f53edd63b0a89ef,automated_config_validation, is_expected.to contain_nova_config('vif_plug_ovs/ovsdb_connection').with_value('<SERVICE DEFAULT>')<<<<<<< HEAD (b82062 Introducing default_tls_verify)======= is_expected.to contain_nova_config('vif_plug_ovs/ovsdb_connection').with_value('tcp:127.0.0.1:6640') >>>>>>> CHANGE (86838f Fixing section ovsdb_connection), is_expected.to contain_nova_config('DEFAULT/ovsdb_connection').with_value('<SERVICE DEFAULT>'),10,1
openstack%2Ftripleo-puppet-elements~master~I37106cb013ca543a3631b54e4e0c2bc74339c617,openstack/tripleo-puppet-elements,master,I37106cb013ca543a3631b54e4e0c2bc74339c617,Update master for stable/wallaby,MERGED,2021-05-05 15:38:59.000000000,2021-05-18 00:39:44.000000000,2021-05-18 00:37:28.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 15:38:59.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/3bc1835bfd51d39a8d21ebcafd1393e2b5aa13d9', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I37106cb013ca543a3631b54e4e0c2bc74339c617\n'}]",0,789900,3bc1835bfd51d39a8d21ebcafd1393e2b5aa13d9,8,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I37106cb013ca543a3631b54e4e0c2bc74339c617
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/00/789900/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,3bc1835bfd51d39a8d21ebcafd1393e2b5aa13d9,reno-wallaby, wallaby,,7,0
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~I3eccf8e06b32fcdf80d038dc60cb9ee9d8988d11,openstack/tripleo-puppet-elements,stable/wallaby,I3eccf8e06b32fcdf80d038dc60cb9ee9d8988d11,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-05-05 15:38:55.000000000,2021-05-18 00:39:38.000000000,2021-05-18 00:37:49.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 15:38:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/c53c2bd2df7865035fd0a53eb94a7e3f3c11cc82', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I3eccf8e06b32fcdf80d038dc60cb9ee9d8988d11\n'}]",0,789899,c53c2bd2df7865035fd0a53eb94a7e3f3c11cc82,8,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I3eccf8e06b32fcdf80d038dc60cb9ee9d8988d11
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/99/789899/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c53c2bd2df7865035fd0a53eb94a7e3f3c11cc82,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Ftripleo-image-elements~stable%2Fwallaby~I7672755d66224d3141f45c9023a4f3c0c3204966,openstack/tripleo-image-elements,stable/wallaby,I7672755d66224d3141f45c9023a4f3c0c3204966,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-05-05 15:38:08.000000000,2021-05-18 00:39:37.000000000,2021-05-18 00:37:26.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 15:38:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/74acb5493fe9da1e5063e00cd82f38dcf9e54d63', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7672755d66224d3141f45c9023a4f3c0c3204966\n'}]",0,789895,74acb5493fe9da1e5063e00cd82f38dcf9e54d63,9,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7672755d66224d3141f45c9023a4f3c0c3204966
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/95/789895/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,74acb5493fe9da1e5063e00cd82f38dcf9e54d63,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Ftripleo-image-elements~stable%2Fussuri~Ida34bc4ca414abf833a5f812b88a0609b9d7f761,openstack/tripleo-image-elements,stable/ussuri,Ida34bc4ca414abf833a5f812b88a0609b9d7f761,additionally remove eth* devices off the overcloud-full image,MERGED,2021-05-17 15:33:39.000000000,2021-05-18 00:37:52.000000000,2021-05-18 00:37:52.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-17 15:33:39.000000000', 'files': ['elements/interface-names/install.d/71-clean-stale-interface'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/8ff41f23cac05d0b7ba4a731d34b9b2690ba5aa5', 'message': 'additionally remove eth* devices off the overcloud-full image\n\nResolves:\ninterface eth0: Error: Connection activation failed: No suitable\ndevice found for this connection\n\nCloses-Bug: #1928255\nChange-Id: Ida34bc4ca414abf833a5f812b88a0609b9d7f761\n'}]",0,791766,8ff41f23cac05d0b7ba4a731d34b9b2690ba5aa5,9,4,1,9592,,,0,"additionally remove eth* devices off the overcloud-full image

Resolves:
interface eth0: Error: Connection activation failed: No suitable
device found for this connection

Closes-Bug: #1928255
Change-Id: Ida34bc4ca414abf833a5f812b88a0609b9d7f761
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/66/791766/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/interface-names/install.d/71-clean-stale-interface'],1,8ff41f23cac05d0b7ba4a731d34b9b2690ba5aa5,,if ls /etc/sysconfig/network-scripts/ifcfg-eth* &> /dev/null; then rm -f /etc/sysconfig/network-scripts/ifcfg-eth* fi,,3,0
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~I53a2212c3a243aa2503168cb9672b8daf2717c4b,openstack/tripleo-puppet-elements,stable/wallaby,I53a2212c3a243aa2503168cb9672b8daf2717c4b,Update .gitreview for stable/wallaby,MERGED,2021-05-05 15:38:52.000000000,2021-05-18 00:37:46.000000000,2021-05-18 00:37:46.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-05 15:38:52.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/cce0355e11565241b3ab85113328eb515b55a4d4', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I53a2212c3a243aa2503168cb9672b8daf2717c4b\n'}]",0,789898,cce0355e11565241b3ab85113328eb515b55a4d4,9,4,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I53a2212c3a243aa2503168cb9672b8daf2717c4b
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/98/789898/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,cce0355e11565241b3ab85113328eb515b55a4d4,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Ftripleo-puppet-elements~master~Ia3f2feba0876c669a43e4a439d3d5a16f9a7f900,openstack/tripleo-puppet-elements,master,Ia3f2feba0876c669a43e4a439d3d5a16f9a7f900,Add Python3 xena unit tests,MERGED,2021-05-05 15:39:13.000000000,2021-05-18 00:37:43.000000000,2021-05-18 00:37:43.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-05 15:39:13.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/71f7e9416b58caadfe3f508cad41d6b0df440ac7', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ia3f2feba0876c669a43e4a439d3d5a16f9a7f900\n'}]",0,789901,71f7e9416b58caadfe3f508cad41d6b0df440ac7,9,4,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ia3f2feba0876c669a43e4a439d3d5a16f9a7f900
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/01/789901/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,71f7e9416b58caadfe3f508cad41d6b0df440ac7,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Ftripleo-image-elements~stable%2Fwallaby~I0ef172725503403e0a6f2b8d345e1009c22a7ff9,openstack/tripleo-image-elements,stable/wallaby,I0ef172725503403e0a6f2b8d345e1009c22a7ff9,Update .gitreview for stable/wallaby,MERGED,2021-05-05 15:37:47.000000000,2021-05-18 00:37:22.000000000,2021-05-18 00:37:22.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-05 15:37:47.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/c12b2852e1d841670936de121068afcb86c86b5e', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I0ef172725503403e0a6f2b8d345e1009c22a7ff9\n'}]",0,789893,c12b2852e1d841670936de121068afcb86c86b5e,9,4,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I0ef172725503403e0a6f2b8d345e1009c22a7ff9
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/93/789893/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c12b2852e1d841670936de121068afcb86c86b5e,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Ftripleo-ansible~master~I79b03709deffe6cb788aba9e24c63ca33bd297ee,openstack/tripleo-ansible,master,I79b03709deffe6cb788aba9e24c63ca33bd297ee,Do not convert amphora images to raw if they are already raw,MERGED,2021-05-04 00:54:53.000000000,2021-05-18 00:37:19.000000000,2021-05-18 00:37:19.000000000,"[{'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-04 00:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6ea90542621a5a56351536de7541be5c1ef0882d', 'message': 'Do not convert amphora images to raw if they are already raw\n\nAdds a check on the provided image to see if it is raw before conversion\n(if requested).\n\nChange-Id: I79b03709deffe6cb788aba9e24c63ca33bd297ee\nRelated-Bug: #1843059\n'}, {'number': 2, 'created': '2021-05-05 11:57:39.000000000', 'files': ['tripleo_ansible/roles/octavia_undercloud/tasks/image_mgmt.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/820f84ef42a9c36c677481760989ad36f13de4c0', 'message': 'Do not convert amphora images to raw if they are already raw\n\nAdds a check on the provided image to see if it is raw before conversion\n(if requested).\n\nChange-Id: I79b03709deffe6cb788aba9e24c63ca33bd297ee\nRelated-Bug: #1843059\n'}]",3,789429,820f84ef42a9c36c677481760989ad36f13de4c0,25,6,2,6681,,,0,"Do not convert amphora images to raw if they are already raw

Adds a check on the provided image to see if it is raw before conversion
(if requested).

Change-Id: I79b03709deffe6cb788aba9e24c63ca33bd297ee
Related-Bug: #1843059
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/789429/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_undercloud/tasks/image_mgmt.yml'],1,6ea90542621a5a56351536de7541be5c1ef0882d,,"- name: Check the amphora image file format command: | qemu-img info --output=json ""{{ image_filename }}"" register: image_file_format - name: Set the image format set_fact: img_format: ""{{ (image_file_format.stdout | from_json).format }}"" - img_format != ""raw"" img_format: raw openstack image create --disk-format {{ img_format|default('qcow2') }} \", raw_format: raw openstack image create --disk-format {{ raw_format|default('qcow2') }} \,12,2
openstack%2Fopenstack-ansible~master~I45ff196db00fcaa2eabe097f0c0c5657a267ed7a,openstack/openstack-ansible,master,I45ff196db00fcaa2eabe097f0c0c5657a267ed7a,Remove Debain python workaround,MERGED,2021-05-12 19:01:30.000000000,2021-05-18 00:28:09.000000000,2021-05-18 00:26:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-12 19:01:30.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/51e5bb8d5646cf7285a8e0b04a70350419a3cbef', 'message': ""Remove Debain python workaround\n\nModern ansible handles Debian 10 interpreter correctly, so we don't\nneed to override that nowadays\n\nChange-Id: I45ff196db00fcaa2eabe097f0c0c5657a267ed7a\n""}]",0,791042,51e5bb8d5646cf7285a8e0b04a70350419a3cbef,23,3,1,28619,,,0,"Remove Debain python workaround

Modern ansible handles Debian 10 interpreter correctly, so we don't
need to override that nowadays

Change-Id: I45ff196db00fcaa2eabe097f0c0c5657a267ed7a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/791042/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,51e5bb8d5646cf7285a8e0b04a70350419a3cbef,,," # NOTE(mgariepy) remove this on ansible 2.10 if debian is in the config/base.yml file if [[ ${VERSION_ID} == ""10"" ]]; then OSA_ANSIBLE_PYTHON_INTERPRETER=""/usr/bin/python3"" fi",0,4
openstack%2Fdevstack-plugin-ceph~master~Ibe26f89e7be3061cdb7acb441727efb2c396e29e,openstack/devstack-plugin-ceph,master,Ibe26f89e7be3061cdb7acb441727efb2c396e29e,Enable testing Ceph master,MERGED,2021-01-23 17:21:06.000000000,2021-05-18 00:25:01.000000000,2021-05-18 00:22:41.000000000,"[{'_account_id': 4523}, {'_account_id': 6413}, {'_account_id': 6796}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-23 17:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/232d9d45bc1c44c5954ae379fa69ce9d2eb6122b', 'message': 'Enable testing Ceph master\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 2, 'created': '2021-01-23 17:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/a3a6289471ca67b9f4d36b1dc50c88955a8fed04', 'message': 'Enable testing Ceph master\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 3, 'created': '2021-01-23 20:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/e582708931bdd82f21304fb85b0bb5e93997d21b', 'message': 'Enable testing Ceph master\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 4, 'created': '2021-01-24 12:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/f9931f9421e115305a61db4e6537a5744e1b00c4', 'message': 'Enable testing Ceph master\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 5, 'created': '2021-01-24 22:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/52dcc0ee9f07b3688a961b1b3f5ecd3e2b830226', 'message': 'Enable testing Ceph master\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 6, 'created': '2021-01-24 23:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/bc7eb37fed6bb453e70006bd02c53b92405f7e35', 'message': 'Enable testing Ceph master\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 7, 'created': '2021-01-25 10:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/999ac2032a0e15a7ac3dc109fafdb32c86a5e808', 'message': 'Enable testing Ceph master\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 8, 'created': '2021-02-19 12:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/75391fd97790d3f53f420ecb75e625f97b013e6d', 'message': 'Enable testing Ceph master\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/776613\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 9, 'created': '2021-03-11 19:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/b6fe39c198578116dffd5e3a7cf209cec26a1989', 'message': 'Enable testing Ceph Pacific\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/776613\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 10, 'created': '2021-03-11 19:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/1f2aee9983eb6aec5694c184ef0898f07a3debc0', 'message': '[DNM] Enable testing Ceph Pacific\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/776613\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 11, 'created': '2021-03-29 22:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/375be2d32f9baf5ae4b48e074eb7ed108d8014d8', 'message': 'Enable testing Ceph master\n\nThis changeset adds a config option (TEST_MASTER)\nto toggle testing with the current Ceph master.\nThe builds are retrieved from Shaman, which is the\nplatform used by the Ceph community to submit their\nlatest builds.\n\nThe main goal of this change is to use this on our CI\nand be able to catch bugs in OpenStack services that use\nCeph as a backend more quickly. Because of this, the\nrequired non-voting job is also added.\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 12, 'created': '2021-03-30 14:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/88c46174c0cd831b72aed30dc24af3c3e33fe2db', 'message': 'Enable testing Ceph master\n\nThis changeset adds a config option (TEST_MASTER)\nto toggle testing with the current Ceph master.\nThe builds are retrieved from Shaman, which is the\nplatform used by the Ceph community to submit their\nlatest builds.\n\nThe main goal of this change is to use this on our CI\nand be able to catch bugs in OpenStack services that use\nCeph as a backend more quickly. Because of this, the\nrequired non-voting job is also added.\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 13, 'created': '2021-03-31 14:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/c2c1a2675146b86923fcfec46ae1e185d8dd3834', 'message': 'Enable testing Ceph master\n\nThis changeset adds a config option (TEST_MASTER)\nto toggle testing with the current Ceph master.\nThe builds are retrieved from Shaman, which is the\nplatform used by the Ceph community to submit their\nlatest builds.\n\nThe main goal of this change is to use this on our CI\nand be able to catch bugs in OpenStack services that use\nCeph as a backend more quickly. Because of this, the\nrequired non-voting job is also added.\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 14, 'created': '2021-03-31 22:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/1683e1e11571186928643bf971beafcc1ac71e12', 'message': 'Enable testing Ceph master\n\nThis changeset adds a config option (TEST_MASTER)\nto toggle testing with the current Ceph master.\nThe builds are retrieved from Shaman, which is the\nplatform used by the Ceph community to submit their\nlatest builds.\n\nThe main goal of this change is to use this on our CI\nand be able to catch bugs in OpenStack services that use\nCeph as a backend more quickly. Because of this, the\nrequired non-voting job is also added.\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 15, 'created': '2021-04-01 17:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/6c76ebee4d78eb674e0c1f5292a62744bed93c2f', 'message': 'Enable testing Ceph master\n\nThis changeset adds a config option (TEST_MASTER)\nto toggle testing with the current Ceph master.\nThe builds are retrieved from Shaman, which is the\nplatform used by the Ceph community to submit their\nlatest builds.\n\nThe main goal of this change is to use this on our CI\nand be able to catch bugs in OpenStack services that use\nCeph as a backend more quickly. Because of this, the\nrequired non-voting job is also added.\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 16, 'created': '2021-04-03 18:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/bc8b353a2c0239abd3016c2ce0e7176572f894c7', 'message': 'Enable testing Ceph master\n\nThis changeset adds a config option (TEST_MASTER)\nto toggle testing with the current Ceph master.\nThe builds are retrieved from Shaman, which is the\nplatform used by the Ceph community to submit their\nlatest builds.\n\nThe main goal of this change is to use this on our CI\nand be able to catch bugs in OpenStack services that use\nCeph as a backend more quickly. Because of this, the\nrequired non-voting job is also added.\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 17, 'created': '2021-04-08 14:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/4faef244907f2b237fd4ddaa536c7c7d9a0cdf7b', 'message': 'Enable testing Ceph master\n\nThis changeset adds a config option (TEST_MASTER)\nto toggle testing with the current Ceph master.\nThe builds are retrieved from Shaman, which is the\nplatform used by the Ceph community to submit their\nlatest builds.\n\nThe main goal of this change is to use this on our CI\nand be able to catch bugs in OpenStack services that use\nCeph as a backend more quickly. Because of this, the\nrequired non-voting job is also added.\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 18, 'created': '2021-04-08 21:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/9f6c1f8f40ff4264e0a3510b0a67cf6ff5940af7', 'message': 'Enable testing Ceph master\n\nThis changeset adds a config option (TEST_MASTER)\nto toggle testing with the current Ceph master.\nThe builds are retrieved from Shaman, which is the\nplatform used by the Ceph community to submit their\nlatest builds.\n\nThe main goal of this change is to use this on our CI\nand be able to catch bugs in OpenStack services that use\nCeph as a backend more quickly. Because of this, the\nrequired non-voting job is also added.\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 19, 'created': '2021-04-09 11:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/bd1316be9034681d7b4600d033a49a32afd088ab', 'message': 'Enable testing Ceph master\n\nThis changeset adds a config option (TEST_MASTER)\nto toggle testing with the current Ceph master.\nThe builds are retrieved from Shaman, which is the\nplatform used by the Ceph community to submit their\nlatest builds.\n\nThe main goal of this change is to use this on our CI\nand be able to catch bugs in OpenStack services that use\nCeph as a backend more quickly. Because of this, the\nrequired non-voting job is also added.\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}, {'number': 20, 'created': '2021-05-11 15:02:49.000000000', 'files': ['.zuul.yaml', 'devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/c5545a3db56ce3b7a011625c715879611ced0775', 'message': 'Enable testing Ceph master\n\nThis changeset adds a config option (TEST_MASTER)\nto toggle testing with the current Ceph master.\nThe builds are retrieved from Shaman, which is the\nplatform used by the Ceph community to submit their\nlatest builds.\n\nThe main goal of this change is to use this on our CI\nand be able to catch bugs in OpenStack services that use\nCeph as a backend more quickly. Because of this, the\nrequired non-voting job is also added.\n\nChange-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e\n'}]",36,772157,c5545a3db56ce3b7a011625c715879611ced0775,104,8,20,6413,,,0,"Enable testing Ceph master

This changeset adds a config option (TEST_MASTER)
to toggle testing with the current Ceph master.
The builds are retrieved from Shaman, which is the
platform used by the Ceph community to submit their
latest builds.

The main goal of this change is to use this on our CI
and be able to catch bugs in OpenStack services that use
Ceph as a backend more quickly. Because of this, the
required non-voting job is also added.

Change-Id: Ibe26f89e7be3061cdb7acb441727efb2c396e29e
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/57/772157/20 && git format-patch -1 --stdout FETCH_HEAD,"['manila/pre_test_hook.sh', 'devstack/lib/ceph']",2,232d9d45bc1c44c5954ae379fa69ce9d2eb6122b,772157,"TEST_MASTER=${TEST_MASTER:-False} if [[ ""$TEST_MASTER"" == ""True"" ]]; then repo_file_name=""/etc/apt/sources.list.d/ceph.list"" repo=$(curl -L ""https://shaman.ceph.com/api/search/?project=ceph&status=ready&distros=ubuntu/focal&ref=master&sha1=latest"" | \ jq '.[0] | .chacra_url' | tr -d '""' | awk '{print $1""repo""}') curl -L $repo | sudo tee ${repo_file_name} sudo ${package_manager} -y update else wget -q -O- 'https://download.ceph.com/keys/release.asc' | sudo apt-key add - sudo apt-add-repository -y ""deb https://download.ceph.com/debian-${ceph_release}/ ${distro_release} main"" fi"," iniset -sudo ${CEPH_CONF_FILE} client ""debug_ms"" ""1"" wget -q -O- 'https://download.ceph.com/keys/release.asc' | sudo apt-key add - sudo apt-add-repository -y ""deb https://download.ceph.com/debian-${ceph_release}/ ${distro_release} main"" sudo ${package_manager} -y update",13,4
openstack%2Frequirements~stable%2Ftrain~I4a5fb9678aa52b84dabb9aeb183069cca77e2007,openstack/requirements,stable/train,I4a5fb9678aa52b84dabb9aeb183069cca77e2007,update constraint for horizon to new release 16.2.2,MERGED,2021-05-17 09:47:47.000000000,2021-05-17 23:37:24.000000000,2021-05-17 23:37:24.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-17 09:47:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/44c2f5b79fa999ec0bfaa9377e0de35eb7412408', 'message': 'update constraint for horizon to new release 16.2.2\n\nmeta: version: 16.2.2\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: manchandavishal <manchandavishal143@gmail.com>\nmeta: release:Commit: manchandavishal <manchandavishal143@gmail.com>\nmeta: release:Change-Id: I57331d57134320c448c9814c20748ee98459652d\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I4a5fb9678aa52b84dabb9aeb183069cca77e2007\n'}]",0,791708,44c2f5b79fa999ec0bfaa9377e0de35eb7412408,7,3,1,11131,,,0,"update constraint for horizon to new release 16.2.2

meta: version: 16.2.2
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: manchandavishal <manchandavishal143@gmail.com>
meta: release:Commit: manchandavishal <manchandavishal143@gmail.com>
meta: release:Change-Id: I57331d57134320c448c9814c20748ee98459652d
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I4a5fb9678aa52b84dabb9aeb183069cca77e2007
",git fetch https://review.opendev.org/openstack/requirements refs/changes/08/791708/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,44c2f5b79fa999ec0bfaa9377e0de35eb7412408,new-release,horizon===16.2.2,horizon===16.2.1,1,1
openstack%2Fcharm-deployment-guide~master~I92afb5ceb2ec33b9057b9f31eed16e33918ceb41,openstack/charm-deployment-guide,master,I92afb5ceb2ec33b9057b9f31eed16e33918ceb41,Add operation: encrypt Vault API,MERGED,2021-05-14 18:17:32.000000000,2021-05-17 23:36:54.000000000,2021-05-17 20:21:38.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 18:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f66a5f8be9cc1079221d552c14214cd512bcae18', 'message': 'Add operation: encrypt Vault API\n\nAdd a new cloud operation task for encrypting the\nVault API\n\nChange-Id: I92afb5ceb2ec33b9057b9f31eed16e33918ceb41\n'}, {'number': 2, 'created': '2021-05-14 20:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b1f2136f290e8289d0576e142dab8005519dabed', 'message': 'Add operation: encrypt Vault API\n\nAdd a new cloud operation task for encrypting the\nVault API\n\nChange-Id: I92afb5ceb2ec33b9057b9f31eed16e33918ceb41\n'}, {'number': 3, 'created': '2021-05-17 01:58:25.000000000', 'files': ['deploy-guide/source/ops-config-tls-vault-api.rst', 'deploy-guide/source/ops-unseal-vault.rst', 'deploy-guide/source/operational-tasks.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/7dca14f60ca2ace78b5f76b95ecc66b97bd47baa', 'message': 'Add operation: encrypt Vault API\n\nAdd a new cloud operation task for encrypting the\nVault API\n\nChange-Id: I92afb5ceb2ec33b9057b9f31eed16e33918ceb41\n'}]",4,791523,7dca14f60ca2ace78b5f76b95ecc66b97bd47baa,13,2,3,30561,,,0,"Add operation: encrypt Vault API

Add a new cloud operation task for encrypting the
Vault API

Change-Id: I92afb5ceb2ec33b9057b9f31eed16e33918ceb41
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/23/791523/3 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/ops-config-tls-vault-api.rst', 'deploy-guide/source/operational-tasks.rst']",2,f66a5f8be9cc1079221d552c14214cd512bcae18,cdg-ops,* `Configure TLS for the Vault API`_.. _Configure TLS for the Vault API: ops-config-tls-vault-api.html,,135,0
openstack%2Fpuppet-ironic~master~Ia09387e5704a57287575f3602e56a8b584bb4d6d,openstack/puppet-ironic,master,Ia09387e5704a57287575f3602e56a8b584bb4d6d,Use validate_legacy to validae parameter types.,MERGED,2021-05-04 08:11:50.000000000,2021-05-17 21:02:41.000000000,2021-05-17 21:02:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 08:11:50.000000000', 'files': ['manifests/inspector.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/c7966378a036a58018ec0c1155ee6b58f52a49ca', 'message': 'Use validate_legacy to validae parameter types.\n\nThis change replaces usage of is_a and is_hash to validate parameter\ntypes. Expecially the is_hash function has been deprecated and using\nthe function is now discouraged.\n\nChange-Id: Ia09387e5704a57287575f3602e56a8b584bb4d6d\n'}]",0,789519,c7966378a036a58018ec0c1155ee6b58f52a49ca,7,3,1,9816,,,0,"Use validate_legacy to validae parameter types.

This change replaces usage of is_a and is_hash to validate parameter
types. Expecially the is_hash function has been deprecated and using
the function is now discouraged.

Change-Id: Ia09387e5704a57287575f3602e56a8b584bb4d6d
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/19/789519/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/inspector.pp'],1,c7966378a036a58018ec0c1155ee6b58f52a49ca,validate_legacy," validate_legacy(Array, 'validate_array', $dnsmasq_ip_subnets) validate_legacy(Hash, 'validate_hash', $port_physnet_cidr_map) "," if !is_array($dnsmasq_ip_subnets) { fail('Invalid data type, parameter dnsmasq_ip_subnets must be Array type') } if !is_hash($port_physnet_cidr_map) { fail('Invalid data type, parameter port_physnet_cidr_map mush be Hash type') } ",3,8
openstack%2Fpuppet-nova~stable%2Fvictoria~I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351,openstack/puppet-nova,stable/victoria,I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351,Fixing section ovsdb_connection,MERGED,2021-05-10 21:20:08.000000000,2021-05-17 20:58:29.000000000,2021-05-17 20:58:29.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 18511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 21:20:08.000000000', 'files': ['manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3d17b57bff47412161000f287362d77a391c3ba5', 'message': 'Fixing section ovsdb_connection\n\nThe correct setting should be `vif_plug_ovs/ovsdb_connection`\n\nChange-Id: I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351\n(cherry picked from commit b72f98538cad05be8b2c42a46dec78fe0b288008)\n(cherry picked from commit 86838f550bc9e49f45bb8fbc4833226444c3eb6c)\n'}]",0,790450,3d17b57bff47412161000f287362d77a391c3ba5,8,5,1,27419,,,0,"Fixing section ovsdb_connection

The correct setting should be `vif_plug_ovs/ovsdb_connection`

Change-Id: I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351
(cherry picked from commit b72f98538cad05be8b2c42a46dec78fe0b288008)
(cherry picked from commit 86838f550bc9e49f45bb8fbc4833226444c3eb6c)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/50/790450/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/nova_init_spec.rb']",2,3d17b57bff47412161000f287362d77a391c3ba5,automated_config_validation, is_expected.to contain_nova_config('vif_plug_ovs/ovsdb_connection').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('vif_plug_ovs/ovsdb_connection').with_value('tcp:127.0.0.1:6640'), is_expected.to contain_nova_config('DEFAULT/ovsdb_connection').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('DEFAULT/ovsdb_connection').with_value('tcp:127.0.0.1:6640'),4,3
openstack%2Fopenstack-ansible~master~I72a72a43488fd3d6923899a6095c988f04c82be9,openstack/openstack-ansible,master,I72a72a43488fd3d6923899a6095c988f04c82be9,Change order of swift and gnocchi installation,MERGED,2021-05-13 15:02:26.000000000,2021-05-17 20:54:51.000000000,2021-05-17 20:52:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-13 15:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e48a650ddb199dcbef86b3368f4a2c69f8dfe0eb', 'message': 'Change order of swift and gnocchi installation\n\nGhocchi requires swift to be present for DB migration in case\nSwift is set as driver.\n\nChange-Id: I72a72a43488fd3d6923899a6095c988f04c82be9\nCloses-Bug: #1879192\n'}, {'number': 2, 'created': '2021-05-14 04:18:40.000000000', 'files': ['playbooks/setup-openstack.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d5c523d428a37a44c3fa01646c33a98fc5c91977', 'message': 'Change order of swift and gnocchi installation\n\nGhocchi requires swift to be present for DB migration in case\nSwift is set as driver.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791107\nChange-Id: I72a72a43488fd3d6923899a6095c988f04c82be9\nCloses-Bug: #1879192\n'}]",0,791261,d5c523d428a37a44c3fa01646c33a98fc5c91977,14,3,2,28619,,,0,"Change order of swift and gnocchi installation

Ghocchi requires swift to be present for DB migration in case
Swift is set as driver.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/791107
Change-Id: I72a72a43488fd3d6923899a6095c988f04c82be9
Closes-Bug: #1879192
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/61/791261/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/setup-openstack.yml'],1,e48a650ddb199dcbef86b3368f4a2c69f8dfe0eb,bug/1879192,- import_playbook: os-gnocchi-install.yml,- import_playbook: os-gnocchi-install.yml,1,1
openstack%2Ftripleo-heat-templates~master~I99d9f5b9bfb4e97ad770803744f47b6ba739924a,openstack/tripleo-heat-templates,master,I99d9f5b9bfb4e97ad770803744f47b6ba739924a,Integrating the validation of TSX flag for computes,ABANDONED,2021-02-16 02:37:11.000000000,2021-05-17 20:42:39.000000000,,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6962}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-02-16 02:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b44b32072382232e925439c82958d377433e121', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nRelated: https://bugzilla.redhat.com/1923165\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 2, 'created': '2021-02-17 00:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be2beb3c7bc6707dddebb6950dc69ddb5f6c6778', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nRelated: https://bugzilla.redhat.com/1923165\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 3, 'created': '2021-02-17 20:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1fd1ffe2adea3e1d381424e61adfde264d9e40ce', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nRelated: https://bugzilla.redhat.com/1923165\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 4, 'created': '2021-02-17 20:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1cd3600dddea9505720d5055e988b265c1dd7c9', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nRelated: https://bugzilla.redhat.com/1923165\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 5, 'created': '2021-02-17 23:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5992fa07c3aa27e60742fbedb9d0df34e9a4c20', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nRelated: https://bugzilla.redhat.com/1923165\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 6, 'created': '2021-02-19 18:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e173d381ff61323977b356c0740b30bccfa58aae', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nRelated: https://bugzilla.redhat.com/1923165\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 7, 'created': '2021-02-22 13:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d23f9505ddc971cbf201366c2cd0f7e799006a37', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nRelated: https://bugzilla.redhat.com/1923165\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 8, 'created': '2021-02-22 14:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2d0b74d6f6f9130893e1a8a0e137d443d21f345', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nRelated: https://bugzilla.redhat.com/1923165\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 9, 'created': '2021-02-22 14:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94a67f6c62da23e3a58bc3f238521482df18d06e', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nRelated: https://bugzilla.redhat.com/1923165\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 10, 'created': '2021-02-23 06:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a367faf9c2992e673965d445b2c7edb1e0f8150', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nRelated: https://bugzilla.redhat.com/1923165\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 11, 'created': '2021-02-23 17:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cbb754cc0b6cc6f7e0090ab7ebefc295815e99b7', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nRelated: https://bugzilla.redhat.com/1923165\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 12, 'created': '2021-02-24 04:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0539149e53119d63e204f47428d26aeefd5d0b5b', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nRelated: https://bugzilla.redhat.com/1923165\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 13, 'created': '2021-02-24 04:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/263df6d0c38d789aadee3c9312f71fc0a00c1feb', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\n\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 14, 'created': '2021-02-24 15:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b58eb403246ca05434f2dbf33d9a7bf9785a2833', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\n\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 15, 'created': '2021-03-09 22:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a94eec7ee3b3c4bab1fc5ecb636d2b6fb61c4dc', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\n\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 16, 'created': '2021-03-10 21:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d20bf04f7686a22e1f1e66c68ddea193e5896811', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\n\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 17, 'created': '2021-03-10 23:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/060ae21749efd8881c51908a18712c827a2ad2ec', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\n\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 18, 'created': '2021-03-13 02:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b4dfd02d020d9130b373c93de477fede77cfb5e', 'message': ""WIP: Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\n\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 19, 'created': '2021-03-25 12:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37390aed8d2d3c054e307ba23814922b998342bd', 'message': ""Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\n\n3. OSP 16.2 new deployments\nDo not enable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/782993\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 20, 'created': '2021-03-29 15:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/faae89a03d8e06e714df6d5242c8f7944e806be4', 'message': ""Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in kernel ARGS, don't do anything\non an existing deployment when a kernel ARG gets set the node\ngets rebooted! We need a way to add kernel ARGs without a reboot.\n -> ATM, we can not set the kernel ARG during a deployment run on\n    a compute role, the compute gets rebooted on kernel ARG change\n -> we can not expect that customers migrate off all instances on an update\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/782993\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 21, 'created': '2021-03-29 15:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58bfee3145a1b1329ee5a1b5c7f9acfc3f603569', 'message': ""Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/782993\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 22, 'created': '2021-03-29 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b15a9e0b82c9db795e604ed0068d9dc680c289a4', 'message': ""Define TSX flag on Computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/782993\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 23, 'created': '2021-03-30 21:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac86460336f7678258bf4b0455f3e7732a2ebe61', 'message': 'Determining if environment is fresh\n\nFor the purpose of determining if an environment is freshly deployed or\nalready deployed, the most accurate way of achieving this is to pull a\nlist of VMs running. This is then passed to tripleo-kernel which is\ngoing to use this data to compute the TSX Flag\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nRelated-Bug: #1916758\n\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n'}, {'number': 24, 'created': '2021-04-06 14:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91ffb2bb28d6a27037ad179ac14548e263ab251e', 'message': 'Determining if environment is fresh\n\nFor the purpose of determining if an environment is freshly deployed or\nalready deployed, the most accurate way of achieving this is to pull a\nlist of cell registered compute nodes. This is then passed to tripleo-kernel\nwhich is going to use this data to compute the TSX Flag\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nRelated-Bug: #1916758\n\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n'}, {'number': 25, 'created': '2021-04-06 14:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0858ea63703a1c2086afc95d7b8d9a842f2a0840', 'message': 'Determining if environment is fresh\n\nFor the purpose of determining if an environment is freshly deployed or\nalready deployed, the most accurate way of achieving this is to pull a\nlist of cell registered compute nodes. This is then passed to tripleo-kernel\nwhich is going to use this data to compute the TSX Flag\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nRelated-Bug: #1916758\n\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n'}, {'number': 26, 'created': '2021-04-20 04:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0cb49b46d265af42fcbbbcd306d3a0195f2bf87c', 'message': ""Introducing the TsxAutomation flag\n\ntripleo-kernel introduces the TSX flag automation. While it's easier for\noperators to rely on this automation, and it's always possible for\noperators to override the automation with a KernelArgs, it's nice to\nhave a simple switch to completely disable all automation on KernelArgs.\n\nRelated: https://bugzilla.redhat.com/1923165\nRelated-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/783969\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 27, 'created': '2021-04-20 04:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/08f9fa05c4808bf000426300127d68c43277dc7f', 'message': ""Introducing the TsxAutomation flag\n\ntripleo-kernel introduces the TSX flag automation. While it's easier for\noperators to rely on this automation, and it's always possible for\noperators to override the automation with a KernelArgs, it's nice to\nhave a simple switch to completely disable all automation on KernelArgs.\n\nRelated: https://bugzilla.redhat.com/1923165\nRelated-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/783969\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 28, 'created': '2021-04-20 21:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2742341eaaa24bf329b611e095a96ef644a0dc53', 'message': ""Introducing the TsxAutomation flag\n\ntripleo-kernel introduces the TSX flag automation. While it's easier for\noperators to rely on this automation, and it's always possible for\noperators to override the automation with a KernelArgs, it's nice to\nhave a simple switch to completely disable all automation on KernelArgs.\n\nRelated: https://bugzilla.redhat.com/1923165\nRelated-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/783969\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 29, 'created': '2021-04-20 22:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dff37a91b89c2570a97477b861c52c82c420666f', 'message': ""Introducing the TsxAutomation flag\n\ntripleo-kernel introduces the TSX flag automation. While it's easier for\noperators to rely on this automation, and it's always possible for\noperators to override the automation with a KernelArgs, it's nice to\nhave a simple switch to completely disable all automation on KernelArgs.\n\nRelated: https://bugzilla.redhat.com/1923165\nRelated-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/783969\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 30, 'created': '2021-04-26 19:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad6a248bcfb6a51bb32d4746e5ed8ae1131604cd', 'message': ""Introducing the TsxAutomation flag\n\ntripleo-kernel introduces the TSX flag automation. While it's easier for\noperators to rely on this automation, and it's always possible for\noperators to override the automation with a KernelArgs, it's nice to\nhave a simple switch to completely disable all automation on KernelArgs,\nwhich is the purpose of TsxAutomatinonEnabled.\n\nAlso, we introduce the TsxAutomationState parameter. This is basically a\nparameter that will serve as a backup of the current deployment's tsx\nstate in case operator recovered their undercloud from a backup. This is\nnot meant to be configurable by the customer.\n\nRelated: https://bugzilla.redhat.com/1923165\nRelated-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/783969\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 31, 'created': '2021-04-26 22:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/08d6c2f6d8a3c8ded82b8d524f3c0b923195b14c', 'message': ""Introducing the TsxAutomation flag\n\ntripleo-kernel introduces the TSX flag automation. While it's easier for\noperators to rely on this automation, and it's always possible for\noperators to override the automation with a KernelArgs, it's nice to\nhave a simple switch to completely disable all automation on KernelArgs,\nwhich is the purpose of TsxAutomatinonEnabled.\n\nAlso, we introduce the TsxAutomationState parameter. This is basically a\nparameter that will serve as a backup of the current deployment's tsx\nstate in case operator recovered their undercloud from a backup. This is\nnot meant to be configurable by the customer.\n\nRelated: https://bugzilla.redhat.com/1923165\nRelated-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/783969\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 32, 'created': '2021-04-28 11:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71e0011abbed874d9b349706dd474c6f8eed6e09', 'message': ""Introducing the TsxAutomation flag\n\ntripleo-kernel introduces the TSX flag automation. While it's easier for\noperators to rely on this automation, and it's always possible for\noperators to override the automation with a KernelArgs, it's nice to\nhave a simple switch to completely disable all automation on KernelArgs,\nwhich is the purpose of TsxAutomatinonEnabled.\n\nAlso, we introduce the TsxAutomationState parameter. This is basically a\nparameter that will serve as a backup of the current deployment's tsx\nstate in case operator recovered their undercloud from a backup. This is\nnot meant to be configurable by the customer.\n\nRelated: https://bugzilla.redhat.com/1923165\nRelated-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/783969\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 33, 'created': '2021-04-28 12:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/04f99f39fee258192b1c3de4f5d394e8075151c9', 'message': ""Introducing the TsxAutomation flag\n\ntripleo-kernel introduces the TSX flag automation. While it's easier for\noperators to rely on this automation, and it's always possible for\noperators to override the automation with a KernelArgs, it's nice to\nhave a simple switch to completely disable all automation on KernelArgs,\nwhich is the purpose of TsxAutomationEnabled.\n\n\nRelated: https://bugzilla.redhat.com/1923165\nRelated-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/783969\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}, {'number': 34, 'created': '2021-05-11 19:49:22.000000000', 'files': ['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'releasenotes/notes/compute-tsx-validation-909439d35243221e.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ecfae6b452770c6961e48d7d06e2d6c9f2c964aa', 'message': ""Integrating the validation of TSX flag for computes\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis change will basically call the compute_tsx tripleo-validation and\nfail if the node's kernel is pre-RHEL8.3 and there's no TSX flag in\neither the startup, running or template config.\n\nTo prevent the failure, operators need to add a TSX flag (no matter what\nvalue) to their KernelArgs for their compute roles.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nRelated-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/790806\nChange-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a\n""}]",96,775729,ecfae6b452770c6961e48d7d06e2d6c9f2c964aa,145,14,34,27419,,,0,"Integrating the validation of TSX flag for computes

RHEL-8.3 kernel disabled the Intel “TSX” (Transactional
Synchronization Extensions) feature by default as a preemptive
security measure, but it breaks live migration from RHEL-7.9
(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.

Operators are expected to explicitly define the TSX flag in
their KernelArgs for the compute role to prevent live-migration
issues during the upgrade process.

This change will basically call the compute_tsx tripleo-validation and
fail if the node's kernel is pre-RHEL8.3 and there's no TSX flag in
either the startup, running or template config.

To prevent the failure, operators need to add a TSX flag (no matter what
value) to their KernelArgs for their compute roles.

Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>
Related: https://bugzilla.redhat.com/1923165
Related-Bug: #1916758

Depends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/790806
Change-Id: I99d9f5b9bfb4e97ad770803744f47b6ba739924a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/775729/34 && git format-patch -1 --stdout FETCH_HEAD,['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml'],1,8b44b32072382232e925439c82958d377433e121,tsx_flag_computes," role_name: RoleName RoleName: {get_param: RoleName} - name: Store Role name set_fact: role_name: {get_attr: [RoleParametersValue, value, role_name]} - name: Store Role KernelArgs set_fact: kernel_args: {get_attr: [RoleParametersValue, value, kernel_args]} - name: TSX CPU Flag Validation for compute nodes when: - '""Compute"" in role_name' - step|int == 0 block: - name: Check if cpu supports tsx shell: | egrep ""hle|rtm"" /proc/cpuinfo failed_when: tsx_cpu_support.rc == 2 register: tsx_cpu_support - name: Check that the nova.conf exists stat: path: /var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf register: check_nova_conf - name: We default to tsx=off set_fact: tsx_flag: ""off"" - name: Enabled TSX when CPU supports TSX and we are on RHEL8.2 when: - not ""tsx="" in kernel_args - tsx_cpu_support.rc == 0 - ansible_distribution_version is version(8.2, '<=') set_fact: tsx_flag: ""on"" - name: Generating KernelArgs line with TSX set_fact: processed_kernel_args: ""{{ kernel_args | regex_replace(' tsx=(on|off)', '') }} tsx={{ tsx_flag }}"" - name: Safely add TSX flag on newly deployed computes, either on or off set_fact: kernel_args: ""{{ processed_kernel_args }}"" when: - not check_nova_conf.stat.exists - name: Add it to grub without rebooting if compute node is already deployed when: check_nova_conf.stat.exists block: - name: Add TSX flag to default kernel grub line lineinfile: dest: /etc/default/grub backrefs: yes regexp: ""^(GRUB_CMDLINE_LINUX.*)\""$"" line: '\1 tsx={{ tsx_flag }}""' register: grub_cmdline_status - name: Regenerate grub.cfg when: grub_cmdline_status is changed block: - name: Check grub config paths stat: path: ""{{ item }}"" register: grub_stat loop: - /boot/grub2/grub.cfg - /boot/efi/EFI/redhat/grub.cfg - /boot/efi/EFI/centos/grub.cfg - /boot/efi/EFI/fedora/grub.cfg - name: Generate grub config command: ""grub2-mkconfig -o {{ item.stat.path }}"" when: item.stat.exists|bool loop: ""{{ grub_stat.results }}"" tripleo_kernel_args: ""{{ kernel_args }}"""," tripleo_kernel_args: {get_attr: [RoleParametersValue, value, kernel_args]}",75,1
openstack%2Ftripleo-quickstart-extras~master~Idfaba353ba08f7358e829af0164a9d147b8d3472,openstack/tripleo-quickstart-extras,master,Idfaba353ba08f7358e829af0164a9d147b8d3472,print python version in overcloud-containers-prep script,NEW,2021-05-17 16:39:00.000000000,2021-05-17 20:13:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-17 16:39:00.000000000', 'files': ['roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/769a176c786fc1027b481d1d1720afca4114b2ce', 'message': 'print python version in overcloud-containers-prep script\n\nGetting a syntax error in queens.\nAlways print the default python version\n\nRelated-Bug: #1928689\nChange-Id: Idfaba353ba08f7358e829af0164a9d147b8d3472\n'}]",0,791803,769a176c786fc1027b481d1d1720afca4114b2ce,3,2,1,9592,,,0,"print python version in overcloud-containers-prep script

Getting a syntax error in queens.
Always print the default python version

Related-Bug: #1928689
Change-Id: Idfaba353ba08f7358e829af0164a9d147b8d3472
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/03/791803/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2'],1,769a176c786fc1027b481d1d1720afca4114b2ce,,"## * Print python version ## :: echo ""print python version"" python --version ",,6,0
openstack%2Fpuppet-openstack-integration~master~Id0762d06e8613ddfc77a0c8efa2119b0204390ec,openstack/puppet-openstack-integration,master,Id0762d06e8613ddfc77a0c8efa2119b0204390ec,Remove leftover about removed beaker job,MERGED,2021-05-05 11:47:14.000000000,2021-05-17 19:43:47.000000000,2021-05-17 19:43:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 11:47:14.000000000', 'files': ['playbooks/prepare-node-beaker.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/88bd3f02bfca282f3bd0c5068eeb46dea8b45cf2', 'message': 'Remove leftover about removed beaker job\n\nChange-Id: Id0762d06e8613ddfc77a0c8efa2119b0204390ec\n'}]",0,789817,88bd3f02bfca282f3bd0c5068eeb46dea8b45cf2,7,3,1,9816,,,0,"Remove leftover about removed beaker job

Change-Id: Id0762d06e8613ddfc77a0c8efa2119b0204390ec
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/17/789817/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/prepare-node-beaker.yaml'],1,88bd3f02bfca282f3bd0c5068eeb46dea8b45cf2,,,- hosts: all tasks: - shell: cmd: | set -e set -x if [ -d /home/zuul/src/opendev.org/$ZUUL_PROJECT ]; then cp -dR /home/zuul/src/opendev.org/$ZUUL_PROJECT/. . else git clone https://opendev.org/$ZUUL_PROJECT . fi if [ -d /home/zuul/src/opendev.org/openstack/puppet-openstack-integration ]; then [ ! -d puppet-openstack-integration ] && mkdir puppet-openstack-integration cp -dR /home/zuul/src/opendev.org/openstack/puppet-openstack-integration/. puppet-openstack-integration else git clone https://opendev.org/openstack/puppet-openstack-integration puppet-openstack-integration fi executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - include_role: name: bindep ,0,24
openstack%2Fopenstack-helm-images~master~I29c3b261ef984ded83ae7df2bd4a28b64984fbd0,openstack/openstack-helm-images,master,I29c3b261ef984ded83ae7df2bd4a28b64984fbd0,Add Focal images for Nova SSH,MERGED,2021-05-14 13:08:07.000000000,2021-05-17 19:42:56.000000000,2021-05-17 19:38:55.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 13:08:07.000000000', 'files': ['nova-ssh/Dockerfile.ubuntu_focal', 'zuul.d/nova-ssh.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/dd2bd27ffb7d39947d168a404575aa16347d612e', 'message': 'Add Focal images for Nova SSH\n\nChange-Id: I29c3b261ef984ded83ae7df2bd4a28b64984fbd0\n'}]",0,791455,dd2bd27ffb7d39947d168a404575aa16347d612e,10,5,1,1004,,,0,"Add Focal images for Nova SSH

Change-Id: I29c3b261ef984ded83ae7df2bd4a28b64984fbd0
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/55/791455/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova-ssh/Dockerfile.ubuntu_focal', 'zuul.d/nova-ssh.yaml']",2,dd2bd27ffb7d39947d168a404575aa16347d612e,add-nova-ssh-focal," - context: nova-ssh repository: openstackhelm/nova-ssh dockerfile: Dockerfile.ubuntu_focal tags: - latest-ubuntu_focal - ""ubuntu_focal-{{ currentdate }}""",,23,0
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~Ib7de126561d2e0a4d8cee2a596751467387eeb31,openstack/puppet-openstack-integration,stable/ussuri,Ib7de126561d2e0a4d8cee2a596751467387eeb31,Victoria and before: Switch syntax/unit test job to CentOS8 Stream,MERGED,2021-05-04 09:14:35.000000000,2021-05-17 19:41:24.000000000,2021-05-17 19:41:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 09:14:35.000000000', 'files': ['zuul.d/libraries.yaml', 'zuul.d/layout.yaml', 'zuul.d/linters.yaml', 'zuul.d/unit.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c5504e375ab059e841245ecf7db074cba36c60a2', 'message': 'Victoria and before: Switch syntax/unit test job to CentOS8 Stream\n\nThis is a partial backport of a75e47446ad099fde90e2df300c663630d880677\nand switches only syntax job and unit test job to CentOS8 Stream,\nbecause these two jobs do not rely on host OS.\nIntegration job and litmus/beaker job on CentOS8 will be left now\nbut will be dropped once CentOS8 is EOLed.\n\nNote that this change also includes the subsequent change[1] to fix\nmissing unit test job on CentOS8 for libraries.\n\n[1] b54cb682d411569ccd881279d0aefe28b8464c6b\n\nConflicts:\n\tzuul.d/layout.yaml\n\tzuul.d/libraries.yaml\n\tzuul.d/linters.yaml\n\tzuul.d/unit.yaml\n\nChange-Id: Ib7de126561d2e0a4d8cee2a596751467387eeb31\n(cherry picked from commit 5ae2a889eae8c9fc3238748d69616ad64342d248)\n'}]",0,789534,c5504e375ab059e841245ecf7db074cba36c60a2,7,3,1,9816,,,0,"Victoria and before: Switch syntax/unit test job to CentOS8 Stream

This is a partial backport of a75e47446ad099fde90e2df300c663630d880677
and switches only syntax job and unit test job to CentOS8 Stream,
because these two jobs do not rely on host OS.
Integration job and litmus/beaker job on CentOS8 will be left now
but will be dropped once CentOS8 is EOLed.

Note that this change also includes the subsequent change[1] to fix
missing unit test job on CentOS8 for libraries.

[1] b54cb682d411569ccd881279d0aefe28b8464c6b

Conflicts:
	zuul.d/layout.yaml
	zuul.d/libraries.yaml
	zuul.d/linters.yaml
	zuul.d/unit.yaml

Change-Id: Ib7de126561d2e0a4d8cee2a596751467387eeb31
(cherry picked from commit 5ae2a889eae8c9fc3238748d69616ad64342d248)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/34/789534/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/libraries.yaml', 'zuul.d/layout.yaml', 'zuul.d/linters.yaml', 'zuul.d/unit.yaml']",4,c5504e375ab059e841245ecf7db074cba36c60a2,, - puppet-openstack-unit-5.5-centos-8-stream - puppet-openstack-unit-6.11-centos-8-stream, name: puppet-openstack-unit-5.5-centos-8 parent: puppet-openstack-unit-base nodeset: centos-8 vars: puppet_gem_version: 5.5.0 - job: name: puppet-openstack-unit-6.11-centos-8 parent: puppet-openstack-unit-base nodeset: centos-8 vars: puppet_gem_version: 6.11.0 - job: voting: false - puppet-openstack-unit-5.5-centos-8 - puppet-openstack-unit-6.11-centos-8 - puppet-openstack-unit-5.5-centos-8 - puppet-openstack-unit-6.11-centos-8,6,59
openstack%2Fopenstack-helm-infra~master~I51b3b0bec6641a92ccc1b9002d8daef128963c8c,openstack/openstack-helm-infra,master,I51b3b0bec6641a92ccc1b9002d8daef128963c8c,fix(yaml): corrects Charts.yaml reference,MERGED,2021-05-17 07:10:28.000000000,2021-05-17 19:27:07.000000000,2021-05-17 19:24:36.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-05-17 07:10:28.000000000', 'files': ['releasenotes/notes/kubernetes-keystone-webhook.yaml', 'kubernetes-keystone-webhook/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ef542612eb32e81ba469cd3e27b9938778bb25bf', 'message': 'fix(yaml): corrects Charts.yaml reference\n\nThis patch set fixes a wrong source reference in Charts.yaml\nin the k8s-keystone-webhook chart.\n\nChange-Id: I51b3b0bec6641a92ccc1b9002d8daef128963c8c\nSigned-off-by: Tin <tin@irrational.io>\n'}]",0,791648,ef542612eb32e81ba469cd3e27b9938778bb25bf,9,3,1,20466,,,0,"fix(yaml): corrects Charts.yaml reference

This patch set fixes a wrong source reference in Charts.yaml
in the k8s-keystone-webhook chart.

Change-Id: I51b3b0bec6641a92ccc1b9002d8daef128963c8c
Signed-off-by: Tin <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/48/791648/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/kubernetes-keystone-webhook.yaml', 'kubernetes-keystone-webhook/Chart.yaml']",2,ef542612eb32e81ba469cd3e27b9938778bb25bf,,version: 0.1.3,version: 0.1.2 - https://github.com/elastic/kibana,2,2
openstack%2Fpuppet-manila~stable%2Ftrain~I815a170a7fb2fc3c48bfabcfdf865d6a22f5cbe8,openstack/puppet-manila,stable/train,I815a170a7fb2fc3c48bfabcfdf865d6a22f5cbe8,Add support for db purge cron job,MERGED,2021-05-13 00:55:52.000000000,2021-05-17 19:26:36.000000000,2021-05-17 19:25:16.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 00:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/84eab2da010191c6655c96dcec5745d31b319ef3', 'message': 'Add support for db purge cron job\n\nThis patch introduces a new class, manila::cron::db_purge, to set up\ncron job to purge soft deleted records from database.\n\nBackport note:\nThis change includes the follow-up change[1] which fixed the wrong\ndescription.\n[1] ace61c29ebe078dbe048a12f924a08a9079c5317\n\nConflicts:\n\tspec/acceptance/basic_manila_spec.rb\n\nChange-Id: I815a170a7fb2fc3c48bfabcfdf865d6a22f5cbe8\n(cherry picked from commit 8ecb5530baabdb2aec44f677eb0347b1a4306227)\n(cherry picked from commit f4ee768ce2154f4012f14c64ef832b173189a640)\n'}, {'number': 2, 'created': '2021-05-13 01:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/775f808f67dd59416ae834140c02dc44a0383da9', 'message': 'Add support for db purge cron job\n\nThis patch introduces a new class, manila::cron::db_purge, to set up\ncron job to purge soft deleted records from database.\n\nBackport note:\nThis change includes the follow-up change[1] which fixed the wrong\ndescription.\n[1] ace61c29ebe078dbe048a12f924a08a9079c5317\n\nAlso, fixed lint error caused by old lint packages in stable/train\n\nConflicts:\n\tspec/acceptance/basic_manila_spec.rb\n\nChange-Id: I815a170a7fb2fc3c48bfabcfdf865d6a22f5cbe8\n(cherry picked from commit 8ecb5530baabdb2aec44f677eb0347b1a4306227)\n(cherry picked from commit f4ee768ce2154f4012f14c64ef832b173189a640)\n'}, {'number': 3, 'created': '2021-05-13 02:55:44.000000000', 'files': ['spec/acceptance/basic_manila_spec.rb', 'releasenotes/notes/cron-db_purge-749e862ad2d40647.yaml', 'manifests/cron/db_purge.pp', 'spec/classes/manila_cron_db_purge_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/724d944d077bae97ec8af7f3d45f93e1cd1f8381', 'message': 'Add support for db purge cron job\n\nThis patch introduces a new class, manila::cron::db_purge, to set up\ncron job to purge soft deleted records from database.\n\nBackport note:\nThis change includes the follow-up change[1] which fixed the wrong\ndescription.\n[1] ace61c29ebe078dbe048a12f924a08a9079c5317\n\nAlso, fixed lint error caused by old lint packages in stable/train\n\nConflicts:\n\tspec/acceptance/basic_manila_spec.rb\n\nChange-Id: I815a170a7fb2fc3c48bfabcfdf865d6a22f5cbe8\n(cherry picked from commit 8ecb5530baabdb2aec44f677eb0347b1a4306227)\n(cherry picked from commit f4ee768ce2154f4012f14c64ef832b173189a640)\n'}]",0,791073,724d944d077bae97ec8af7f3d45f93e1cd1f8381,12,3,3,9816,,,0,"Add support for db purge cron job

This patch introduces a new class, manila::cron::db_purge, to set up
cron job to purge soft deleted records from database.

Backport note:
This change includes the follow-up change[1] which fixed the wrong
description.
[1] ace61c29ebe078dbe048a12f924a08a9079c5317

Also, fixed lint error caused by old lint packages in stable/train

Conflicts:
	spec/acceptance/basic_manila_spec.rb

Change-Id: I815a170a7fb2fc3c48bfabcfdf865d6a22f5cbe8
(cherry picked from commit 8ecb5530baabdb2aec44f677eb0347b1a4306227)
(cherry picked from commit f4ee768ce2154f4012f14c64ef832b173189a640)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/73/791073/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/basic_manila_spec.rb', 'releasenotes/notes/cron-db_purge-749e862ad2d40647.yaml', 'manifests/cron/db_purge.pp', 'spec/classes/manila_cron_db_purge_spec.rb']",4,84eab2da010191c6655c96dcec5745d31b319ef3,cron-db_purge,"require 'spec_helper' describe 'manila::cron::db_purge' do let :params do { :minute => 1, :hour => 0, :monthday => '*', :month => '*', :weekday => '*', :user => 'manila', :age => '0', :maxdelay => 0, :destination => '/var/log/manila/manila-rowsflush.log' } end shared_examples 'manila::cron::db_purge' do context 'with required parameters' do it { is_expected.to contain_cron('manila-manage db purge').with( :command => ""manila-manage db purge #{params[:age]} >>#{params[:destination]} 2>&1"", :environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', :user => params[:user], :minute => params[:minute], :hour => params[:hour], :monthday => params[:monthday], :month => params[:month], :weekday => params[:weekday], :require => 'Anchor[manila::install::end]' )} end context 'with required parameters with max delay enabled' do before :each do params.merge!( :maxdelay => 600 ) end it { should contain_cron('manila-manage db purge').with( :command => ""sleep `expr ${RANDOM} \\% #{params[:maxdelay]}`; manila-manage db purge #{params[:age]} >>#{params[:destination]} 2>&1"", :environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', :user => params[:user], :minute => params[:minute], :hour => params[:hour], :monthday => params[:monthday], :month => params[:month], :weekday => params[:weekday], :require => 'Anchor[manila::install::end]' )} end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'manila::cron::db_purge' end end end ",,163,0
openstack%2Fpuppet-manila~stable%2Fussuri~I815a170a7fb2fc3c48bfabcfdf865d6a22f5cbe8,openstack/puppet-manila,stable/ussuri,I815a170a7fb2fc3c48bfabcfdf865d6a22f5cbe8,Add support for db purge cron job,MERGED,2021-05-13 00:54:40.000000000,2021-05-17 19:26:35.000000000,2021-05-17 19:25:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 00:54:40.000000000', 'files': ['spec/acceptance/basic_manila_spec.rb', 'releasenotes/notes/cron-db_purge-749e862ad2d40647.yaml', 'manifests/cron/db_purge.pp', 'spec/classes/manila_cron_db_purge_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/f4ee768ce2154f4012f14c64ef832b173189a640', 'message': 'Add support for db purge cron job\n\nThis patch introduces a new class, manila::cron::db_purge, to set up\ncron job to purge soft deleted records from database.\n\nBackport note:\nThis change includes the follow-up change[1] which fixed the wrong\ndescription.\n[1] ace61c29ebe078dbe048a12f924a08a9079c5317\n\nChange-Id: I815a170a7fb2fc3c48bfabcfdf865d6a22f5cbe8\n(cherry picked from commit 8ecb5530baabdb2aec44f677eb0347b1a4306227)\n'}]",0,791071,f4ee768ce2154f4012f14c64ef832b173189a640,8,3,1,9816,,,0,"Add support for db purge cron job

This patch introduces a new class, manila::cron::db_purge, to set up
cron job to purge soft deleted records from database.

Backport note:
This change includes the follow-up change[1] which fixed the wrong
description.
[1] ace61c29ebe078dbe048a12f924a08a9079c5317

Change-Id: I815a170a7fb2fc3c48bfabcfdf865d6a22f5cbe8
(cherry picked from commit 8ecb5530baabdb2aec44f677eb0347b1a4306227)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/71/791071/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/basic_manila_spec.rb', 'releasenotes/notes/cron-db_purge-749e862ad2d40647.yaml', 'manifests/cron/db_purge.pp', 'spec/classes/manila_cron_db_purge_spec.rb']",4,f4ee768ce2154f4012f14c64ef832b173189a640,cron-db_purge,"require 'spec_helper' describe 'manila::cron::db_purge' do let :params do { :minute => 1, :hour => 0, :monthday => '*', :month => '*', :weekday => '*', :user => 'manila', :age => '0', :maxdelay => 0, :destination => '/var/log/manila/manila-rowsflush.log' } end shared_examples 'manila::cron::db_purge' do context 'with required parameters' do it { is_expected.to contain_cron('manila-manage db purge').with( :command => ""manila-manage db purge #{params[:age]} >>#{params[:destination]} 2>&1"", :environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', :user => params[:user], :minute => params[:minute], :hour => params[:hour], :monthday => params[:monthday], :month => params[:month], :weekday => params[:weekday], :require => 'Anchor[manila::install::end]' )} end context 'with required parameters with max delay enabled' do before :each do params.merge!( :maxdelay => 600 ) end it { should contain_cron('manila-manage db purge').with( :command => ""sleep `expr ${RANDOM} \\% #{params[:maxdelay]}`; manila-manage db purge #{params[:age]} >>#{params[:destination]} 2>&1"", :environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', :user => params[:user], :minute => params[:minute], :hour => params[:hour], :monthday => params[:monthday], :month => params[:month], :weekday => params[:weekday], :require => 'Anchor[manila::install::end]' )} end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'manila::cron::db_purge' end end end ",,163,0
openstack%2Fopenstack-helm-infra~master~I2a34c1698e02cd71905bc6ef66f4aefcd5e25e44,openstack/openstack-helm-infra,master,I2a34c1698e02cd71905bc6ef66f4aefcd5e25e44,Remove env variable from s3 bucket job,MERGED,2021-05-07 17:19:59.000000000,2021-05-17 19:26:05.000000000,2021-05-17 19:24:32.000000000,"[{'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30495}, {'_account_id': 30777}, {'_account_id': 32190}]","[{'number': 1, 'created': '2021-05-07 17:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e38a255eef021fa1fdfec71c361ffa5913673256', 'message': 'Remove env variable from s3 bucket job\n\nRemove the TLS_OPTION from helm-toolkit s3-bucket job. There\ncan be different option for tls connection, depending on whether\nthe rgw server is local or remote. This change allows the\ncreate-s3-bucket script to customize its connection argument\nwhich can be pulled from values.yaml.\n\nChange-Id: I2a34c1698e02cd71905bc6ef66f4aefcd5e25e44\n'}, {'number': 2, 'created': '2021-05-07 18:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/37be05689a6dadacb03fdaf278e45d99f8dbb674', 'message': 'Remove env variable from s3 bucket job\n\nRemove the TLS_OPTION from helm-toolkit s3-bucket job. There\ncan be different option for tls connection, depending on whether\nthe rgw server is local or remote. This change allows the\ncreate-s3-bucket script to customize its connection argument\nwhich can be pulled from values.yaml.\n\nChange-Id: I2a34c1698e02cd71905bc6ef66f4aefcd5e25e44\n'}, {'number': 3, 'created': '2021-05-10 00:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/113cf5cd3af465786549e8948934e851c76daa15', 'message': 'Remove env variable from s3 bucket job\n\nRemove the TLS_OPTION from helm-toolkit s3-bucket job. There\ncan be different option for tls connection, depending on whether\nthe rgw server is local or remote. This change allows the\ncreate-s3-bucket script to customize its connection argument\nwhich can be pulled from values.yaml.\n\nChange-Id: I2a34c1698e02cd71905bc6ef66f4aefcd5e25e44\n'}, {'number': 4, 'created': '2021-05-12 20:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0aa1f788b3f31dc8ecc42a49af84d44672580bab', 'message': 'Remove env variable from s3 bucket job\n\nRemove the TLS_OPTION from helm-toolkit s3-bucket job. There\ncan be different option for tls connection, depending on whether\nthe rgw server is local or remote. This change allows the\ncreate-s3-bucket script to customize its connection argument\nwhich can be pulled from values.yaml.\n\nChange-Id: I2a34c1698e02cd71905bc6ef66f4aefcd5e25e44\n'}, {'number': 5, 'created': '2021-05-13 15:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7640d4edb564ff4f786c03ec5fa322e8beb95d2f', 'message': 'Remove env variable from s3 bucket job\n\nRemove the TLS_OPTION from helm-toolkit s3-bucket job. There\ncan be different option for tls connection, depending on whether\nthe rgw server is local or remote. This change allows the\ncreate-s3-bucket script to customize its connection argument\nwhich can be pulled from values.yaml.\n\nChange-Id: I2a34c1698e02cd71905bc6ef66f4aefcd5e25e44\n'}, {'number': 6, 'created': '2021-05-14 22:12:48.000000000', 'files': ['elasticsearch/templates/bin/_create_s3_buckets.sh.tpl', 'elasticsearch/values.yaml', 'releasenotes/notes/elasticsearch.yaml', 'helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml', 'helm-toolkit/templates/manifests/_job-s3-bucket.yaml.tpl', 'elasticsearch/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f7fde88b6e9d23a0bc8ef01035ab7f240c333f11', 'message': 'Remove env variable from s3 bucket job\n\nRemove the TLS_OPTION env from helm-toolkit s3-bucket job. There\ncan be different option for tls connection, depending on whether\nthe rgw server is local or remote. This change allows the\ncreate-s3-bucket script to customize its connection argument\nwhich can be pulled from values.yaml.\n\nChange-Id: I2a34c1698e02cd71905bc6ef66f4aefcd5e25e44\n'}]",0,790284,f7fde88b6e9d23a0bc8ef01035ab7f240c333f11,33,7,6,19391,,,0,"Remove env variable from s3 bucket job

Remove the TLS_OPTION env from helm-toolkit s3-bucket job. There
can be different option for tls connection, depending on whether
the rgw server is local or remote. This change allows the
create-s3-bucket script to customize its connection argument
which can be pulled from values.yaml.

Change-Id: I2a34c1698e02cd71905bc6ef66f4aefcd5e25e44
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/84/790284/1 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/templates/bin/_create_s3_buckets.sh.tpl', 'releasenotes/notes/elasticsearch.yaml', 'helm-toolkit/Chart.yaml', 'helm-toolkit/templates/manifests/_job-s3-bucket.yaml.tpl', 'releasenotes/notes/helm-toolkit.yaml', 'elasticsearch/Chart.yaml']",6,e38a255eef021fa1fdfec71c361ffa5913673256,,version: 0.2.7,version: 0.2.6,6,7
openstack%2Ftripleo-ansible~master~Ib16b93f0891a4e8cc553d0f350671a3a273eee25,openstack/tripleo-ansible,master,Ib16b93f0891a4e8cc553d0f350671a3a273eee25,Update master for stable/wallaby,MERGED,2021-05-05 15:33:37.000000000,2021-05-17 19:24:42.000000000,2021-05-17 19:20:28.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 15:33:37.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/812501f5c0dafaab8e6e74ddaee0d2568ddebbbb', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Ib16b93f0891a4e8cc553d0f350671a3a273eee25\n'}]",0,789887,812501f5c0dafaab8e6e74ddaee0d2568ddebbbb,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Ib16b93f0891a4e8cc553d0f350671a3a273eee25
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/789887/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,812501f5c0dafaab8e6e74ddaee0d2568ddebbbb,reno-wallaby, wallaby,,7,0
openstack%2Fpuppet-aodh~stable%2Ftrain~Ie3111d5a168e8d15f3e04d410a5a5c30b44324c2,openstack/puppet-aodh,stable/train,Ie3111d5a168e8d15f3e04d410a5a5c30b44324c2,Manage aodh-expirer package by aodh::expirer class,MERGED,2021-05-13 00:51:46.000000000,2021-05-17 19:24:29.000000000,2021-05-17 19:20:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 00:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/2c7cd82b8974a55c12769d9764deaa5bb71c6776', 'message': 'Manage aodh-expirer package by aodh::expirer class\n\nSince aodh-expirer command is included in a different package, we need\nto manage that package as well in the corresponding class.\n\nChange-Id: Ie3111d5a168e8d15f3e04d410a5a5c30b44324c2\n(cherry picked from commit 007d3a82f6bd72361066ea731a94a67c1b4d5f2b)\n(cherry picked from commit fe6ca076f352cb6469a26cfeac553f711dfc1a26)\n'}, {'number': 2, 'created': '2021-05-13 02:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/4f41ae2cf12ad931deb2bcee2a5e39fe4ddab68b', 'message': 'Manage aodh-expirer package by aodh::expirer class\n\nSince aodh-expirer command is included in a different package, we need\nto manage that package as well in the corresponding class.\n\nChange-Id: Ie3111d5a168e8d15f3e04d410a5a5c30b44324c2\n(cherry picked from commit 007d3a82f6bd72361066ea731a94a67c1b4d5f2b)\n(cherry picked from commit fe6ca076f352cb6469a26cfeac553f711dfc1a26)\n'}, {'number': 3, 'created': '2021-05-13 02:52:36.000000000', 'files': ['releasenotes/notes/expirer-package-a318c98f11722956.yaml', 'spec/classes/aodh_expirer_spec.rb', 'manifests/expirer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/ff9d23efe45e520479df3a422e9c7e2fec4c249a', 'message': 'Manage aodh-expirer package by aodh::expirer class\n\nSince aodh-expirer command is included in a different package, we need\nto manage that package as well in the corresponding class.\n\nChange-Id: Ie3111d5a168e8d15f3e04d410a5a5c30b44324c2\n(cherry picked from commit 007d3a82f6bd72361066ea731a94a67c1b4d5f2b)\n(cherry picked from commit fe6ca076f352cb6469a26cfeac553f711dfc1a26)\n'}]",0,790992,ff9d23efe45e520479df3a422e9c7e2fec4c249a,11,3,3,9816,,,0,"Manage aodh-expirer package by aodh::expirer class

Since aodh-expirer command is included in a different package, we need
to manage that package as well in the corresponding class.

Change-Id: Ie3111d5a168e8d15f3e04d410a5a5c30b44324c2
(cherry picked from commit 007d3a82f6bd72361066ea731a94a67c1b4d5f2b)
(cherry picked from commit fe6ca076f352cb6469a26cfeac553f711dfc1a26)
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/92/790992/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/expirer-package-a318c98f11722956.yaml', 'spec/classes/aodh_expirer_spec.rb', 'manifests/expirer.pp']",3,2c7cd82b8974a55c12769d9764deaa5bb71c6776,expirer-package-stable/ussuri-stable/train,"# [*package_ensure*] # (optional) ensure state for package. # Defaults to 'present' # $ensure = 'present', $package_ensure = 'present', $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $maxdelay = 0, ensure_resource( 'package', [$::aodh::params::expirer_package_name], { ensure => $package_ensure, tag => ['openstack', 'aodh-package'] } ) "," $ensure = 'present', $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $maxdelay = 0,",44,7
openstack%2Fpuppet-aodh~master~Ibec687568588def739643e0f00e92de648a11961,openstack/puppet-aodh,master,Ibec687568588def739643e0f00e92de648a11961,Do not test authtoken parameters directly,MERGED,2021-05-12 11:44:19.000000000,2021-05-17 19:21:05.000000000,2021-05-17 19:21:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 11:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/07c8800ad9ba8fae63da7539fc019ed646ae5ebf', 'message': 'Do not test authtoken parameters directly\n\nThe authtoken parameters are not managed directly but managed by\nthe keystone::resource::authtoken class. Thus we should avoid testing\nparameters directly otherwise any change in the resource type can\ncause test failures.\n\nChange-Id: Ibec687568588def739643e0f00e92de648a11961\n'}, {'number': 2, 'created': '2021-05-12 11:46:21.000000000', 'files': ['spec/classes/aodh_keystone_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/69ebbeafd9ce0d6b50de11f6a97da48272df7adc', 'message': 'Do not test authtoken parameters directly\n\nThe authtoken parameters are not managed directly but managed by\nthe keystone::resource::authtoken class. Thus we should avoid testing\nparameters directly otherwise any change in the resource type can\ncause test failures.\n\nChange-Id: Ibec687568588def739643e0f00e92de648a11961\n'}]",0,790951,69ebbeafd9ce0d6b50de11f6a97da48272df7adc,12,3,2,9816,,,0,"Do not test authtoken parameters directly

The authtoken parameters are not managed directly but managed by
the keystone::resource::authtoken class. Thus we should avoid testing
parameters directly otherwise any change in the resource type can
cause test failures.

Change-Id: Ibec687568588def739643e0f00e92de648a11961
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/51/790951/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/aodh_keystone_authtoken_spec.rb'],1,07c8800ad9ba8fae63da7539fc019ed646ae5ebf,authtoken-ut," shared_examples 'aodh::keystone::authtoken' do contain_keystone__resources__authtoken('aodh_config').with( :username => 'aodh', :password => 'aodh_password', :auth_url => 'http://localhost:5000', :project_name => 'services', :user_domain_name => 'Default', :project_domain_name => 'Default', :insecure => '<SERVICE DEFAULT>', :auth_section => '<SERVICE DEFAULT>', :auth_type => 'password', :www_authenticate_uri => 'http://localhost:5000', :auth_version => '<SERVICE DEFAULT>', :cache => '<SERVICE DEFAULT>', :cafile => '<SERVICE DEFAULT>', :certfile => '<SERVICE DEFAULT>', :delay_auth_decision => '<SERVICE DEFAULT>', :enforce_token_bind => '<SERVICE DEFAULT>', :http_connect_timeout => '<SERVICE DEFAULT>', :http_request_max_retries => '<SERVICE DEFAULT>', :include_service_catalog => '<SERVICE DEFAULT>', :keyfile => '<SERVICE DEFAULT>', :memcache_pool_conn_get_timeout => '<SERVICE DEFAULT>', :memcache_pool_dead_retry => '<SERVICE DEFAULT>', :memcache_pool_maxsize => '<SERVICE DEFAULT>', :memcache_pool_socket_timeout => '<SERVICE DEFAULT>', :memcache_pool_unused_timeout => '<SERVICE DEFAULT>', :memcache_secret_key => '<SERVICE DEFAULT>', :memcache_security_strategy => '<SERVICE DEFAULT>', :memcache_use_advanced_pool => '<SERVICE DEFAULT>', :memcached_servers => '<SERVICE DEFAULT>', :manage_memcache_package => false, :region_name => '<SERVICE DEFAULT>', :token_cache_time => '<SERVICE DEFAULT>', :service_token_roles => '<SERVICE DEFAULT>', :service_token_roles_required => '<SERVICE DEFAULT>', :service_type => '<SERVICE DEFAULT>', :interface => '<SERVICE DEFAULT>', ) contain_keystone__resources__authtoken('aodh_config').with( :www_authenticate_uri => 'https://10.0.0.1:9999/', :username => 'myuser', :password => 'mypasswd', :auth_url => 'http://:127.0.0.1:5000', :project_name => 'service_project', :user_domain_name => 'domainX', :project_domain_name => 'domainX', :insecure => false, :auth_section => 'new_section', :auth_type => 'password', :auth_version => 'v3', :cache => 'somevalue', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :delay_auth_decision => false, :enforce_token_bind => 'permissive', :http_connect_timeout => '300', :http_request_max_retries => '3', :include_service_catalog => true, :keyfile => 'keyfile', :memcache_pool_conn_get_timeout => '9', :memcache_pool_dead_retry => '302', :memcache_pool_maxsize => '11', :memcache_pool_socket_timeout => '2', :memcache_pool_unused_timeout => '61', :memcache_secret_key => 'secret_key', :memcache_security_strategy => 'ENCRYPT', :memcache_use_advanced_pool => true, :memcached_servers => ['memcached01:11211','memcached02:11211'], :manage_memcache_package => true, :region_name => 'region2', :token_cache_time => '301', :service_token_roles => ['service'], :service_token_roles_required => false, :service_type => 'identity', :interface => 'internal', ) it_configures 'aodh::keystone::authtoken'"," shared_examples 'aodh authtoken' do is_expected.to contain_aodh_config('keystone_authtoken/username').with_value('aodh') is_expected.to contain_aodh_config('keystone_authtoken/password').with_value('aodh_password') is_expected.to contain_aodh_config('keystone_authtoken/auth_url').with_value('http://localhost:5000') is_expected.to contain_aodh_config('keystone_authtoken/project_name').with_value('services') is_expected.to contain_aodh_config('keystone_authtoken/user_domain_name').with_value('Default') is_expected.to contain_aodh_config('keystone_authtoken/project_domain_name').with_value('Default') is_expected.to contain_aodh_config('keystone_authtoken/insecure').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/auth_section').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/auth_type').with_value('password') is_expected.to contain_aodh_config('keystone_authtoken/www_authenticate_uri').with_value('http://localhost:5000') is_expected.to contain_aodh_config('keystone_authtoken/auth_version').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/cache').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/cafile').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/certfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/delay_auth_decision').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/enforce_token_bind').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/http_connect_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/http_request_max_retries').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/include_service_catalog').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/keyfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_dead_retry').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_maxsize').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_socket_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_unused_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_secret_key').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_security_strategy').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcache_use_advanced_pool').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/memcached_servers').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/region_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/token_cache_time').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/service_token_roles').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/service_token_roles_required').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/service_type').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/interface').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('keystone_authtoken/www_authenticate_uri').with_value('https://10.0.0.1:9999/') is_expected.to contain_aodh_config('keystone_authtoken/username').with_value(params[:username]) is_expected.to contain_aodh_config('keystone_authtoken/password').with_value(params[:password]).with_secret(true) is_expected.to contain_aodh_config('keystone_authtoken/auth_url').with_value(params[:auth_url]) is_expected.to contain_aodh_config('keystone_authtoken/project_name').with_value(params[:project_name]) is_expected.to contain_aodh_config('keystone_authtoken/user_domain_name').with_value(params[:user_domain_name]) is_expected.to contain_aodh_config('keystone_authtoken/project_domain_name').with_value(params[:project_domain_name]) is_expected.to contain_aodh_config('keystone_authtoken/insecure').with_value(params[:insecure]) is_expected.to contain_aodh_config('keystone_authtoken/auth_section').with_value(params[:auth_section]) is_expected.to contain_aodh_config('keystone_authtoken/auth_type').with_value(params[:auth_type]) is_expected.to contain_aodh_config('keystone_authtoken/auth_version').with_value(params[:auth_version]) is_expected.to contain_aodh_config('keystone_authtoken/cache').with_value(params[:cache]) is_expected.to contain_aodh_config('keystone_authtoken/cafile').with_value(params[:cafile]) is_expected.to contain_aodh_config('keystone_authtoken/certfile').with_value(params[:certfile]) is_expected.to contain_aodh_config('keystone_authtoken/delay_auth_decision').with_value(params[:delay_auth_decision]) is_expected.to contain_aodh_config('keystone_authtoken/enforce_token_bind').with_value(params[:enforce_token_bind]) is_expected.to contain_aodh_config('keystone_authtoken/http_connect_timeout').with_value(params[:http_connect_timeout]) is_expected.to contain_aodh_config('keystone_authtoken/http_request_max_retries').with_value(params[:http_request_max_retries]) is_expected.to contain_aodh_config('keystone_authtoken/include_service_catalog').with_value(params[:include_service_catalog]) is_expected.to contain_aodh_config('keystone_authtoken/keyfile').with_value(params[:keyfile]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value(params[:memcache_pool_conn_get_timeout]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_dead_retry').with_value(params[:memcache_pool_dead_retry]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_maxsize').with_value(params[:memcache_pool_maxsize]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_socket_timeout').with_value(params[:memcache_pool_socket_timeout]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_pool_unused_timeout').with_value(params[:memcache_pool_unused_timeout]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_secret_key').with_value(params[:memcache_secret_key]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_security_strategy').with_value(params[:memcache_security_strategy]) is_expected.to contain_aodh_config('keystone_authtoken/memcache_use_advanced_pool').with_value(params[:memcache_use_advanced_pool]) is_expected.to contain_aodh_config('keystone_authtoken/memcached_servers').with_value('memcached01:11211,memcached02:11211') is_expected.to contain_aodh_config('keystone_authtoken/region_name').with_value(params[:region_name]) is_expected.to contain_aodh_config('keystone_authtoken/token_cache_time').with_value(params[:token_cache_time]) is_expected.to contain_aodh_config('keystone_authtoken/service_token_roles').with_value(params[:service_token_roles]) is_expected.to contain_aodh_config('keystone_authtoken/service_token_roles_required').with_value(params[:service_token_roles_required]) is_expected.to contain_aodh_config('keystone_authtoken/service_type').with_value(params[:service_type]) is_expected.to contain_aodh_config('keystone_authtoken/interface').with_value(params[:interface]) end it 'installs python memcache package' do is_expected.to contain_package('python-memcache') end end context 'when overriding parameters via params hash' do before do params.merge!({ :username => 'myuser', :params => { 'username' => 'myotheruser' }, }) end it 'configure keystone_authtoken' do is_expected.to contain_aodh_config('keystone_authtoken/username').with_value(params[:params]['username']) it_configures 'aodh authtoken'",78,89
openstack%2Ftripleo-ansible~master~I08a143a4b578b8f1c515007b46ba08f116a1998a,openstack/tripleo-ansible,master,I08a143a4b578b8f1c515007b46ba08f116a1998a,Add Python3 xena unit tests,MERGED,2021-05-05 15:33:43.000000000,2021-05-17 19:20:49.000000000,2021-05-17 19:20:49.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 15:33:43.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7d42a51ffbcc43703768e89880419afd6fc98745', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I08a143a4b578b8f1c515007b46ba08f116a1998a\n'}]",0,789888,7d42a51ffbcc43703768e89880419afd6fc98745,7,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I08a143a4b578b8f1c515007b46ba08f116a1998a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/789888/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,7d42a51ffbcc43703768e89880419afd6fc98745,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fpuppet-tripleo~stable%2Fussuri~I14be16052677bf3426a88ec4b5299f9502007472,openstack/puppet-tripleo,stable/ussuri,I14be16052677bf3426a88ec4b5299f9502007472,HA: inject public certificates without blocking container,MERGED,2021-05-06 16:46:26.000000000,2021-05-17 19:20:24.000000000,2021-05-17 19:20:24.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 16:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fd6457f86b899cbcaed69e6b6a8e51364b0cc725', 'message': 'HA: inject public certificates without blocking container\n\nDo not inject public certificates in pacemaker bundles by means\nof ""podman cp"", as this pauses the container for a short amount\nof time and can make pacemaker operation fail during that time\nwindow and impact cluster for no reason.\n\nKeep ""podman cp"" for non-HA containers, as the freeze is short\nand doesn\'t seem to impact podman monitoring anyway.\n\nThe new certificate injection only works for podman 1.9+, lower\nversion won\'t overwrite the existing certificate.\n\nAdapted from Id7308f028f33716be5e3df6699c3f2c12e33e344, as the\nsame behaviour is implemented in puppet-tripleo before wallaby.\n\nChange-Id: I14be16052677bf3426a88ec4b5299f9502007472\nRelated-Bug: #1917868\n(cherry picked from commit f6c88d0146a0ac35944433b11673f0bc036051ff)\n'}, {'number': 2, 'created': '2021-05-11 13:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/459b27c66e626354270f7d756f612bd3b4fc3843', 'message': 'HA: inject public certificates without blocking container\n\nDo not inject public certificates in pacemaker bundles by means\nof ""podman cp"", as this pauses the container for a short amount\nof time and can make pacemaker operation fail during that time\nwindow and impact cluster for no reason.\n\nKeep ""podman cp"" for non-HA containers, as the freeze is short\nand doesn\'t seem to impact podman monitoring anyway.\n\nThe new certificate injection only works for podman 1.9+, lower\nversion won\'t overwrite the existing certificate.\n\nAdapted from Id7308f028f33716be5e3df6699c3f2c12e33e344, as the\nsame behaviour is implemented in puppet-tripleo before wallaby.\n\nDepends-On: I2d2eb66398577884fdbb90807ee49a816ee80e5e\nChange-Id: I14be16052677bf3426a88ec4b5299f9502007472\nRelated-Bug: #1917868\n(cherry picked from commit f6c88d0146a0ac35944433b11673f0bc036051ff)\n'}, {'number': 3, 'created': '2021-05-12 18:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6d0c4f71e42ed2c6b11880640863330a0b22c14b', 'message': 'HA: inject public certificates without blocking container\n\nDo not inject public certificates in pacemaker bundles by means\nof ""podman cp"", as this pauses the container for a short amount\nof time and can make pacemaker operation fail during that time\nwindow and impact cluster for no reason.\n\nKeep ""podman cp"" for non-HA containers, as the freeze is short\nand doesn\'t seem to impact podman monitoring anyway.\n\nThe new certificate injection only works for podman 1.9+, lower\nversion won\'t overwrite the existing certificate.\n\nAdapted from Id7308f028f33716be5e3df6699c3f2c12e33e344, as the\nsame behaviour is implemented in puppet-tripleo before wallaby.\n\nDepends-On: I91af8313e5aacbc4c5ed358c411fe6c9bd7ddc14\nChange-Id: I14be16052677bf3426a88ec4b5299f9502007472\nRelated-Bug: #1917868\n(cherry picked from commit f6c88d0146a0ac35944433b11673f0bc036051ff)\n'}, {'number': 4, 'created': '2021-05-13 07:59:24.000000000', 'files': ['files/certmonger-rabbitmq-refresh.sh', 'files/certmonger-haproxy-refresh.sh'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e09d2a192c888aa84f288a4742e81bab74067dff', 'message': 'HA: inject public certificates without blocking container\n\nDo not inject public certificates in pacemaker bundles by means\nof ""podman cp"", as this pauses the container for a short amount\nof time and can make pacemaker operation fail during that time\nwindow and impact cluster for no reason.\n\nKeep ""podman cp"" for non-HA containers, as the freeze is short\nand doesn\'t seem to impact podman monitoring anyway.\n\nThe new certificate injection only works for podman 1.9+, lower\nversion won\'t overwrite the existing certificate.\n\nAdapted from Id7308f028f33716be5e3df6699c3f2c12e33e344, as the\nsame behaviour is implemented in puppet-tripleo before wallaby.\n\nChange-Id: I14be16052677bf3426a88ec4b5299f9502007472\nRelated-Bug: #1917868\n(cherry picked from commit f6c88d0146a0ac35944433b11673f0bc036051ff)\n'}]",0,789875,e09d2a192c888aa84f288a4742e81bab74067dff,38,4,4,20778,,,0,"HA: inject public certificates without blocking container

Do not inject public certificates in pacemaker bundles by means
of ""podman cp"", as this pauses the container for a short amount
of time and can make pacemaker operation fail during that time
window and impact cluster for no reason.

Keep ""podman cp"" for non-HA containers, as the freeze is short
and doesn't seem to impact podman monitoring anyway.

The new certificate injection only works for podman 1.9+, lower
version won't overwrite the existing certificate.

Adapted from Id7308f028f33716be5e3df6699c3f2c12e33e344, as the
same behaviour is implemented in puppet-tripleo before wallaby.

Change-Id: I14be16052677bf3426a88ec4b5299f9502007472
Related-Bug: #1917868
(cherry picked from commit f6c88d0146a0ac35944433b11673f0bc036051ff)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/75/789875/4 && git format-patch -1 --stdout FETCH_HEAD,"['files/certmonger-rabbitmq-refresh.sh', 'files/certmonger-haproxy-refresh.sh']",2,fd6457f86b899cbcaed69e6b6a8e51364b0cc725,bug/1917868-stable/ussuri," # Inject the new certificate into the running container if echo ""$haproxy_container_name"" | grep -q ""^haproxy-bundle""; then # lp#1917868: Do not use podman cp with HA containers as they get # frozen temporarily and that can make pacemaker operation fail. tar -c ""$service_pem"" | $container_cli exec -i ""$haproxy_container_name"" tar -C / -xv # no need to update the mount point, because pacemaker # recreates the container when it's restarted else # Refresh the pem at the mount-point $container_cli cp $service_pem ""$haproxy_container_name:/var/lib/kolla/config_files/src-tls${service_pem}"" # Copy the new pem from the mount-point to the real path $container_cli exec ""$haproxy_container_name"" cp ""/var/lib/kolla/config_files/src-tls${service_pem}"" ""$service_pem"" fi"," # Refresh the cert at the mount-point $container_cli cp $service_pem ""$haproxy_container_name:/var/lib/kolla/config_files/src-tls/$service_pem"" # Copy the new cert from the mount-point to the real path $container_cli exec ""$haproxy_container_name"" cp ""/var/lib/kolla/config_files/src-tls$service_pem"" ""$service_pem""",34,7
openstack%2Fpuppet-tripleo~master~Idc5b51db85b007abad34d0d69cf5be9fe51c5f0d,openstack/puppet-tripleo,master,Idc5b51db85b007abad34d0d69cf5be9fe51c5f0d,Glance: Include new puppet classes for castellan options,MERGED,2021-05-12 23:56:58.000000000,2021-05-17 19:20:09.000000000,2021-05-17 19:20:09.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-12 23:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7b426dc5493657327e2d5a45f7af4d184baed3fa', 'message': 'Glance: Include new puppet classes for castellan options\n\nThe keymgr_* parameters are deprecated and these parameters will be\ncompletely migrated to glance::key_manager. This change ensures the new\nclasses are included.\n\nDepends-on: https://review.opendev.org/772141\nChange-Id: Idc5b51db85b007abad34d0d69cf5be9fe51c5f0d\n'}, {'number': 2, 'created': '2021-05-14 07:41:11.000000000', 'files': ['spec/classes/tripleo_profile_base_glance_api_spec.rb', 'manifests/profile/base/glance/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5af44ea665a7a0a2565afa66fef284a8ad8161d5', 'message': 'Glance: Include new puppet classes for castellan options\n\nThe keymgr_* parameters are deprecated and these parameters will be\ncompletely migrated to glance::key_manager. This change ensures the new\nclasses are included.\n\nDepends-on: https://review.opendev.org/772141\nChange-Id: Idc5b51db85b007abad34d0d69cf5be9fe51c5f0d\n'}]",0,791062,5af44ea665a7a0a2565afa66fef284a8ad8161d5,9,3,2,9816,,,0,"Glance: Include new puppet classes for castellan options

The keymgr_* parameters are deprecated and these parameters will be
completely migrated to glance::key_manager. This change ensures the new
classes are included.

Depends-on: https://review.opendev.org/772141
Change-Id: Idc5b51db85b007abad34d0d69cf5be9fe51c5f0d
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/62/791062/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_glance_api_spec.rb', 'manifests/profile/base/glance/api.pp']",2,7b426dc5493657327e2d5a45f7af4d184baed3fa,glance-keymgr-opts, include glance::key_manager include glance::key_manager::barbican,,10,0
openstack%2Ftripleo-heat-templates~master~I2a38a48aabdc167134aee757cd5270af4c498c8d,openstack/tripleo-heat-templates,master,I2a38a48aabdc167134aee757cd5270af4c498c8d,Do not log amphora ssh keys,MERGED,2021-05-12 18:16:56.000000000,2021-05-17 19:19:55.000000000,2021-05-17 19:19:55.000000000,"[{'_account_id': 1131}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-12 18:16:56.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c65058889e5957c5c1b3c562d9244484abc94e79', 'message': 'Do not log amphora ssh keys\n\nThis patch adds a no_log clause to external_deploy tasks that might\nresult in an SSH key getting logged.\n\nChange-Id: I2a38a48aabdc167134aee757cd5270af4c498c8d\nRelated-Bug: #1918138\n'}]",0,791036,c65058889e5957c5c1b3c562d9244484abc94e79,14,5,1,6681,,,0,"Do not log amphora ssh keys

This patch adds a no_log clause to external_deploy tasks that might
result in an SSH key getting logged.

Change-Id: I2a38a48aabdc167134aee757cd5270af4c498c8d
Related-Bug: #1918138
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/791036/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,c65058889e5957c5c1b3c562d9244484abc94e79,," no_log: ""{{ hide_sensitive_logs | bool }}"" no_log: ""{{ hide_sensitive_logs | bool }}""",,2,0
openstack%2Fpuppet-aodh~stable%2Ftrain~I8c0e806112b947fccc6b0a6e47c3e0d3722a3e84,openstack/puppet-aodh,stable/train,I8c0e806112b947fccc6b0a6e47c3e0d3722a3e84,Add support for aodh-expirer cron job,MERGED,2021-05-13 00:51:25.000000000,2021-05-17 19:15:27.000000000,2021-05-17 19:14:08.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 00:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/58f7483c57382bc7a078c57428f5ab08d45a5562', 'message': 'Add support for aodh-expirer cron job\n\nChange-Id: I8c0e806112b947fccc6b0a6e47c3e0d3722a3e84\n(cherry picked from commit 89da4b14fa7512a9cc0afd9748c5b1c539834091)\n(cherry picked from commit 127fba460858d633a015147c51e18b61ecf699c3)\n'}, {'number': 2, 'created': '2021-05-13 02:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/e73c14ff21509b364c12fb520ff9bb06e8b8d845', 'message': 'Add support for aodh-expirer cron job\n\nBackport note:\nFixed lint error caused by old lint packages in stable/train.\n\nChange-Id: I8c0e806112b947fccc6b0a6e47c3e0d3722a3e84\n(cherry picked from commit 89da4b14fa7512a9cc0afd9748c5b1c539834091)\n(cherry picked from commit 127fba460858d633a015147c51e18b61ecf699c3)\n'}, {'number': 3, 'created': '2021-05-13 02:52:02.000000000', 'files': ['releasenotes/notes/expirer-a53e68fe61ff3f17.yaml', 'manifests/params.pp', 'spec/classes/aodh_expirer_spec.rb', 'manifests/expirer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/b9056246eccca47826de4568547420c4308cfa30', 'message': 'Add support for aodh-expirer cron job\n\nBackport note:\nFixed lint error caused by old lint packages in stable/train.\n\nChange-Id: I8c0e806112b947fccc6b0a6e47c3e0d3722a3e84\n(cherry picked from commit 89da4b14fa7512a9cc0afd9748c5b1c539834091)\n(cherry picked from commit 127fba460858d633a015147c51e18b61ecf699c3)\n'}]",0,790991,b9056246eccca47826de4568547420c4308cfa30,12,3,3,9816,,,0,"Add support for aodh-expirer cron job

Backport note:
Fixed lint error caused by old lint packages in stable/train.

Change-Id: I8c0e806112b947fccc6b0a6e47c3e0d3722a3e84
(cherry picked from commit 89da4b14fa7512a9cc0afd9748c5b1c539834091)
(cherry picked from commit 127fba460858d633a015147c51e18b61ecf699c3)
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/91/790991/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/expirer-a53e68fe61ff3f17.yaml', 'manifests/params.pp', 'spec/classes/aodh_expirer_spec.rb', 'manifests/expirer.pp']",4,58f7483c57382bc7a078c57428f5ab08d45a5562,expirer-package-stable/ussuri-stable/train,"# # == Class: aodh::expirer # # Setups Aodh Expirer service to enable TTL feature. # # === Parameters # # [*ensure*] # (optional) The state of cron job. # Defaults to present. # # [*minute*] # (optional) Defaults to '1'. # # [*hour*] # (optional) Defaults to '0'. # # [*monthday*] # (optional) Defaults to '*'. # # [*month*] # (optional) Defaults to '*'. # # [*weekday*] # (optional) Defaults to '*'. # # [*maxdelay*] # (optional) In Seconds. Should be a positive integer. # Induces a random delay before running the cronjob to avoid running # all cron jobs at the same time on all hosts this job is configured. # Defaults to 0. # class aodh::expirer ( $ensure = 'present', $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $maxdelay = 0, ) { include aodh::params include aodh::deps if $maxdelay == 0 { $sleep = '' } else { $sleep = ""sleep `expr \${RANDOM} \\% ${maxdelay}`; "" } cron { 'aodh-expirer': ensure => $ensure, command => ""${sleep}${aodh::params::expirer_command}"", environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', user => 'aodh', minute => $minute, hour => $hour, monthday => $monthday, month => $month, weekday => $weekday, require => Anchor['aodh::install::end'], } } ",,136,0
openstack%2Fdevstack-tools~master~Ie2c37fc8d8202f972b22620b1578b726bf56808a,openstack/devstack-tools,master,Ie2c37fc8d8202f972b22620b1578b726bf56808a,Replacing the HTTP protocal with HTTPS,ABANDONED,2018-12-25 12:05:56.000000000,2021-05-17 19:06:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-25 12:05:56.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/567c0784d76c825d9f58c360873e9a05036eebdd', 'message': 'Replacing the HTTP protocal with HTTPS\n\nChange-Id: Ie2c37fc8d8202f972b22620b1578b726bf56808a\n'}]",0,627301,567c0784d76c825d9f58c360873e9a05036eebdd,3,1,1,28563,,,0,"Replacing the HTTP protocal with HTTPS

Change-Id: Ie2c37fc8d8202f972b22620b1578b726bf56808a
",git fetch https://review.opendev.org/openstack/devstack-tools refs/changes/01/627301/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst', 'setup.cfg']",3,567c0784d76c825d9f58c360873e9a05036eebdd,test,home-page = https://www.openstack.org/,home-page = http://www.openstack.org/,6,6
openstack%2Fpuppet-neutron~stable%2Fvictoria~I3a611e6c1bb5960c90137be73a9b2c1c5cbfaedf,openstack/puppet-neutron,stable/victoria,I3a611e6c1bb5960c90137be73a9b2c1c5cbfaedf,Prepare a new release for stable/victoria,MERGED,2021-05-12 11:21:16.000000000,2021-05-17 19:05:32.000000000,2021-05-17 19:05:32.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 11:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f39890368262b847007f06872558f51b6aa421c2', 'message': 'Prepare a new release for stable/victoria\n\nThis is to prepare a new release for stable/victoria, mainly to have\na new version with d2ce5cd0052f2fcb27b3690208cc43221f077f5d which is\nrequired by the latest release of TripleO victoria..\n\nChange-Id: I3a611e6c1bb5960c90137be73a9b2c1c5cbfaedf\n'}, {'number': 2, 'created': '2021-05-12 11:31:19.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/99857c78e2ceec1a937fa54f6cc65f0563b54d2d', 'message': 'Prepare a new release for stable/victoria\n\nThis is to prepare a new release for stable/victoria, mainly to have\na new version with d2ce5cd0052f2fcb27b3690208cc43221f077f5d which is\nrequired by the latest release of TripleO Victoria.\n\nChange-Id: I3a611e6c1bb5960c90137be73a9b2c1c5cbfaedf\n'}]",0,790949,99857c78e2ceec1a937fa54f6cc65f0563b54d2d,10,4,2,9816,,,0,"Prepare a new release for stable/victoria

This is to prepare a new release for stable/victoria, mainly to have
a new version with d2ce5cd0052f2fcb27b3690208cc43221f077f5d which is
required by the latest release of TripleO Victoria.

Change-Id: I3a611e6c1bb5960c90137be73a9b2c1c5cbfaedf
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/49/790949/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,f39890368262b847007f06872558f51b6aa421c2,new-v-release," ""version"": ""17.6.0"""," ""version"": ""17.5.0""",1,1
openstack%2Fpuppet-neutron~stable%2Fvictoria~I49998e3aa5c8d7b47c79764587594ee66c34bb24,openstack/puppet-neutron,stable/victoria,I49998e3aa5c8d7b47c79764587594ee66c34bb24,Escape hyphen in neutron_agent_sriov_numvfs regexp,MERGED,2021-05-12 07:24:39.000000000,2021-05-17 19:05:11.000000000,2021-05-17 19:05:11.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 07:24:39.000000000', 'files': ['lib/puppet/type/neutron_agent_sriov_numvfs.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/49ceae4f6751355a41baaea98e92af65119b2588', 'message': 'Escape hyphen in neutron_agent_sriov_numvfs regexp\n\nChange-Id: I49998e3aa5c8d7b47c79764587594ee66c34bb24\n(cherry picked from commit 5cff5cdfd5d2b5ce27152e49458c8fcd44e3888b)\n(cherry picked from commit c15b18bc6e9eb287bdfc272b50ab15489737103d)\n'}]",0,790841,49ceae4f6751355a41baaea98e92af65119b2588,7,3,1,16137,,,0,"Escape hyphen in neutron_agent_sriov_numvfs regexp

Change-Id: I49998e3aa5c8d7b47c79764587594ee66c34bb24
(cherry picked from commit 5cff5cdfd5d2b5ce27152e49458c8fcd44e3888b)
(cherry picked from commit c15b18bc6e9eb287bdfc272b50ab15489737103d)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/41/790841/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/type/neutron_agent_sriov_numvfs.rb'],1,49ceae4f6751355a41baaea98e92af65119b2588,, newvalues(/^[a-z0-9\-_]+:[0-9]+$/), newvalues(/^[a-z0-9-_]+:[0-9]+$/),1,1
openstack%2Fpuppet-neutron~stable%2Fwallaby~I49998e3aa5c8d7b47c79764587594ee66c34bb24,openstack/puppet-neutron,stable/wallaby,I49998e3aa5c8d7b47c79764587594ee66c34bb24,Escape hyphen in neutron_agent_sriov_numvfs regexp,MERGED,2021-05-12 07:24:14.000000000,2021-05-17 19:05:08.000000000,2021-05-17 19:05:08.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 07:24:14.000000000', 'files': ['lib/puppet/type/neutron_agent_sriov_numvfs.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c15b18bc6e9eb287bdfc272b50ab15489737103d', 'message': 'Escape hyphen in neutron_agent_sriov_numvfs regexp\n\nChange-Id: I49998e3aa5c8d7b47c79764587594ee66c34bb24\n(cherry picked from commit 5cff5cdfd5d2b5ce27152e49458c8fcd44e3888b)\n'}]",0,790840,c15b18bc6e9eb287bdfc272b50ab15489737103d,10,3,1,16137,,,0,"Escape hyphen in neutron_agent_sriov_numvfs regexp

Change-Id: I49998e3aa5c8d7b47c79764587594ee66c34bb24
(cherry picked from commit 5cff5cdfd5d2b5ce27152e49458c8fcd44e3888b)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/40/790840/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/type/neutron_agent_sriov_numvfs.rb'],1,c15b18bc6e9eb287bdfc272b50ab15489737103d,, newvalues(/^[a-z0-9\-_]+:[0-9]+$/), newvalues(/^[a-z0-9-_]+:[0-9]+$/),1,1
openstack%2Fansible-config_template~master~I705b1ea8907a12d30a05a7b3ebbbfb7a8a021325,openstack/ansible-config_template,master,I705b1ea8907a12d30a05a7b3ebbbfb7a8a021325,Remove references to unsupported operating systems,MERGED,2021-03-16 09:20:19.000000000,2021-05-17 19:01:56.000000000,2021-05-17 19:00:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-16 09:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/22d3cba554049dd18981eae052c25054b6e625c9', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: I705b1ea8907a12d30a05a7b3ebbbfb7a8a021325\n'}, {'number': 2, 'created': '2021-03-30 15:07:10.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/cf28065134a17cac226c515e5fba58319bd25e4e', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: I705b1ea8907a12d30a05a7b3ebbbfb7a8a021325\n'}]",0,780752,cf28065134a17cac226c515e5fba58319bd25e4e,21,3,2,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: I705b1ea8907a12d30a05a7b3ebbbfb7a8a021325
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/52/780752/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,22d3cba554049dd18981eae052c25054b6e625c9,osa-cleanup, - name: Debian versions: - buster - focal - 8, - xenial - 7 - name: opensuse versions: - all,5,5
openstack%2Fdevstack-tools~master~I8719d19d23adb46bc73b99193413bfcef9a88bc4,openstack/devstack-tools,master,I8719d19d23adb46bc73b99193413bfcef9a88bc4,Update links in the README,MERGED,2021-05-17 18:25:44.000000000,2021-05-17 19:01:26.000000000,2021-05-17 18:59:57.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-05-17 18:25:44.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/60dc28c78787954676308e997841d013ea2170fe', 'message': 'Update links in the README\n\nThe README contained old links, some of them were giving 404, this\npatch fixes that.\n\nChange-Id: I8719d19d23adb46bc73b99193413bfcef9a88bc4\n'}]",0,791815,60dc28c78787954676308e997841d013ea2170fe,7,2,1,22873,,,0,"Update links in the README

The README contained old links, some of them were giving 404, this
patch fixes that.

Change-Id: I8719d19d23adb46bc73b99193413bfcef9a88bc4
",git fetch https://review.opendev.org/openstack/devstack-tools refs/changes/15/791815/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,60dc28c78787954676308e997841d013ea2170fe,,* Documentation: https://docs.openstack.org/devstack-tools/latest/ * Source: https://opendev.org/openstack/devstack-tools/ * Bugs: https://bugs.launchpad.net/devstack,* Documentation: http://docs.openstack.org/developer/devstack-tools * Source: http://git.openstack.org/cgit/openstack/devstack-tools * Bugs: http://bugs.launchpad.net/replace with the name of the project on launchpad,3,3
openstack%2Fpuppet-octavia~master~I86e05c5182842b73d413ddc95f797c1da5fd0ac2,openstack/puppet-octavia,master,I86e05c5182842b73d413ddc95f797c1da5fd0ac2,Do not declare service resources when manage_service is false,MERGED,2021-05-04 08:57:48.000000000,2021-05-17 18:56:25.000000000,2021-05-17 18:56:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 08:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/a563bd7c2c7eb57832de0ec93ebee298680f0630', 'message': 'Do not declare service resources when manage_service is false\n\nThis change ensures that service resources are not declared when\nmanage_service is false, to fix rspec-puppet 2.7.1 support.\n\nChange-Id: I86e05c5182842b73d413ddc95f797c1da5fd0ac2\n'}, {'number': 2, 'created': '2021-05-04 12:48:48.000000000', 'files': ['manifests/health_manager.pp', 'manifests/worker.pp', 'spec/classes/octavia_health_manager_spec.rb', 'spec/classes/octavia_worker_spec.rb', 'manifests/housekeeping.pp', 'spec/classes/octavia_housekeeping_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/a7b46e1ef677bff5d0601d54b872e3fa3374b13c', 'message': 'Do not declare service resources when manage_service is false\n\nThis change ensures that service resources are not declared when\nmanage_service is false, to fix rspec-puppet 2.7.1 support.\n\nChange-Id: I86e05c5182842b73d413ddc95f797c1da5fd0ac2\n'}]",0,789527,a7b46e1ef677bff5d0601d54b872e3fa3374b13c,9,3,2,9816,,,0,"Do not declare service resources when manage_service is false

This change ensures that service resources are not declared when
manage_service is false, to fix rspec-puppet 2.7.1 support.

Change-Id: I86e05c5182842b73d413ddc95f797c1da5fd0ac2
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/27/789527/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/health_manager.pp', 'manifests/worker.pp', 'spec/classes/octavia_health_manager_spec.rb', 'spec/classes/octavia_worker_spec.rb', 'manifests/housekeeping.pp', 'spec/classes/octavia_housekeeping_spec.rb']",6,a563bd7c2c7eb57832de0ec93ebee298680f0630,manage_service, it 'does not configure octavia-housekeeping service' do is_expected.to_not contain_service('octavia-housekeeping')," it 'configures octavia-housekeeping service' do is_expected.to contain_service('octavia-housekeeping').with( :ensure => nil, :name => platform_params[:housekeeping_service_name], :enable => false, :hasstatus => true, :hasrestart => true, :tag => ['octavia-service'], )",30,51
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I96e7e4c570839cfba6011788464d8e93925b2f01,openstack/tripleo-heat-templates,stable/victoria,I96e7e4c570839cfba6011788464d8e93925b2f01,Restore PreNetworkConfig resources,MERGED,2021-03-29 13:57:34.000000000,2021-05-17 18:50:41.000000000,2021-05-17 18:49:22.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-29 13:57:34.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml', 'common/deploy-steps.j2', 'puppet/role.role.j2.yaml', 'releasenotes/notes/bug-1907214-df2f07cbacbe8a24.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87fc83d7b1334dd2bd5852ae9edf44f87d29e79c', 'message': 'Restore PreNetworkConfig resources\n\nThis change restores the PreNetworkConfig resources, so that we migrate\nback ExtraCnfigPre and NodeExtraConfig from pre network configurations\nto post network configurations, to be consistent with older version\ndepending on Heat software deployments instead of config download.\n\nDepends-on: https://review.opendev.org/783554\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n'}]",0,783555,87fc83d7b1334dd2bd5852ae9edf44f87d29e79c,28,6,1,9816,,,0,"Restore PreNetworkConfig resources

This change restores the PreNetworkConfig resources, so that we migrate
back ExtraCnfigPre and NodeExtraConfig from pre network configurations
to post network configurations, to be consistent with older version
depending on Heat software deployments instead of config download.

Depends-on: https://review.opendev.org/783554
Closes-Bug: #1907214
Change-Id: I96e7e4c570839cfba6011788464d8e93925b2f01
(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/783555/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-resource-registry-puppet.j2.yaml', 'common/deploy-steps.j2', 'puppet/role.role.j2.yaml', 'releasenotes/notes/bug-1907214-df2f07cbacbe8a24.yaml']",4,87fc83d7b1334dd2bd5852ae9edf44f87d29e79c,bug/1907214,--- features: - | The ``OS::TripleO::{{role.name}}::PreNetworkConfig`` resource has been restored. This resource can be used to implement any configuration steps executed before network configurations are applied. fixes: - | Now ``ExtraConfigPre`` resource and ``NodeExtraConfig`` resource are executed after network configurations are applied in nodes. This is consitent with the previous version with heat software deployment mechanism instead of config-download. ,,49,4
openstack%2Fpuppet-cloudkitty~master~Ib5e374c97af141c47407df19ae71e7b518765f84,openstack/puppet-cloudkitty,master,Ib5e374c97af141c47407df19ae71e7b518765f84,Add support for oslo.middleware options,MERGED,2021-05-11 14:46:51.000000000,2021-05-17 18:50:38.000000000,2021-05-17 18:48:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 14:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/a238e74fb80df109cede41ca9ff3f4744b09570f', 'message': 'Add support for oslo.middleware options\n\nChange-Id: Ib5e374c97af141c47407df19ae71e7b518765f84\n'}, {'number': 2, 'created': '2021-05-11 15:31:24.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/oslo-middleware-opts-dc5cb5545dcf3046.yaml', 'spec/classes/cloudkitty_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/13a5a26613bc449371c343b897af9193f446afc5', 'message': 'Add support for oslo.middleware options\n\nChange-Id: Ib5e374c97af141c47407df19ae71e7b518765f84\n'}]",0,790712,13a5a26613bc449371c343b897af9193f446afc5,10,3,2,9816,,,0,"Add support for oslo.middleware options

Change-Id: Ib5e374c97af141c47407df19ae71e7b518765f84
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/12/790712/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/oslo-middleware-opts-dc5cb5545dcf3046.yaml', 'spec/classes/cloudkitty_api_spec.rb']",3,a238e74fb80df109cede41ca9ff3f4744b09570f,oslo-middleware," { :enabled => true, :manage_service => true, :host_ip => '127.0.0.1', :port => '8889', :pecan_debug => false, :enable_proxy_headers_parsing => true, :max_request_body_size => 102400,} is_expected.to contain_oslo__middleware('cloudkitty_config').with( :enable_proxy_headers_parsing => params[:enable_proxy_headers_parsing], :max_request_body_size => params[:max_request_body_size], )"," { :enabled => true, :manage_service => true, :host_ip => '127.0.0.1', :port => '8889', :pecan_debug => false }",43,13
openstack%2Fpuppet-cloudkitty~master~Ib2978ad343939e54c0296c86d23617e50ce923fb,openstack/puppet-cloudkitty,master,Ib2978ad343939e54c0296c86d23617e50ce923fb,Fix lint errors with the latest lint packages,MERGED,2021-05-11 11:37:11.000000000,2021-05-17 18:48:44.000000000,2021-05-17 18:48:44.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 11:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/f95dd8b2c423fbb3f143f7e0be36b142a3502df4', 'message': 'Fix lint errors with the latest lint packages\n\nThis change fixes the following lint errors discovered since we removed\npin of lint packages.\n\nmanifests/init.pp:153:WARNING: Duplicate class parameter documentation\nfor cloudkitty::rpc_response_timeout\nmanifests/init.pp:11:WARNING: Duplicate class parameter documentation\nfor cloudkitty::rpc_response_timeout\nmanifests/init.pp:189:WARNING: No matching class parameter for\ndocumentation of cloudkitty::enable_proxy_headers_parsing\nmanifests/init.pp:184:WARNING: No matching class parameter for\ndocumentation of cloudkitty::region_name\nmanifests/init.pp:178:WARNING: No matching class parameter for\ndocumentation of cloudkitty::flavor\n\nChange-Id: Ib2978ad343939e54c0296c86d23617e50ce923fb\n'}, {'number': 2, 'created': '2021-05-11 13:12:29.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/19d3603d0ebf90ab1eaaec02428a57cf525be08e', 'message': 'Fix lint errors with the latest lint packages\n\nThis change fixes the following lint errors discovered since we removed\npin of lint packages.\n\nmanifests/init.pp:153:WARNING: Duplicate class parameter documentation\nfor cloudkitty::rpc_response_timeout\nmanifests/init.pp:11:WARNING: Duplicate class parameter documentation\nfor cloudkitty::rpc_response_timeout\nmanifests/init.pp:189:WARNING: No matching class parameter for\ndocumentation of cloudkitty::enable_proxy_headers_parsing\nmanifests/init.pp:184:WARNING: No matching class parameter for\ndocumentation of cloudkitty::region_name\nmanifests/init.pp:178:WARNING: No matching class parameter for\ndocumentation of cloudkitty::flavor\n\nNote that this change removes description about the following three\nparameters, since these parameters have never been implemented.\n\n- cloudkitty::flavor\n- cloudkitty::region_name\n- cloudkitty::enable_proxy_headers_parsing\n\nChange-Id: Ib2978ad343939e54c0296c86d23617e50ce923fb\n'}]",0,790663,19d3603d0ebf90ab1eaaec02428a57cf525be08e,11,3,2,9816,,,0,"Fix lint errors with the latest lint packages

This change fixes the following lint errors discovered since we removed
pin of lint packages.

manifests/init.pp:153:WARNING: Duplicate class parameter documentation
for cloudkitty::rpc_response_timeout
manifests/init.pp:11:WARNING: Duplicate class parameter documentation
for cloudkitty::rpc_response_timeout
manifests/init.pp:189:WARNING: No matching class parameter for
documentation of cloudkitty::enable_proxy_headers_parsing
manifests/init.pp:184:WARNING: No matching class parameter for
documentation of cloudkitty::region_name
manifests/init.pp:178:WARNING: No matching class parameter for
documentation of cloudkitty::flavor

Note that this change removes description about the following three
parameters, since these parameters have never been implemented.

- cloudkitty::flavor
- cloudkitty::region_name
- cloudkitty::enable_proxy_headers_parsing

Change-Id: Ib2978ad343939e54c0296c86d23617e50ce923fb
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/63/790663/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-unimplemented-parameters-1bb229b84d0dfa54.yaml', 'manifests/init.pp']",2,f95dd8b2c423fbb3f143f7e0be36b142a3502df4,puppet-lint-latest,,# [*rpc_response_timeout*] # (Optional) Configure the timeout (in seconds) for rpc responses # Defaults to $::os_service_default. ## [*flavor*] # (optional) Specifies the Authentication method. # Set to 'standalone' to get cloudkitty to work with a remote OpenStack # Tested versions include 0.9 and 2.2 # Defaults to $::os_service_default. # # [*region_name*] # (Optional) Region name for services. This is the # default region name that cloudkitty talks to service endpoints on. # Defaults to $::os_service_default. # # [*enable_proxy_headers_parsing*] # (Optional) Enable paste middleware to handle SSL requests through # HTTPProxyToWSGI middleware. # Defaults to $::os_service_default. #,9,20
openstack%2Fpuppet-heat~master~Ic1bdb8f8d9b397b17db8c1d7a64a2e2d88e94b62,openstack/puppet-heat,master,Ic1bdb8f8d9b397b17db8c1d7a64a2e2d88e94b62,Do not test detail of oslo::cors,MERGED,2021-05-11 14:53:31.000000000,2021-05-17 18:44:01.000000000,2021-05-17 18:44:01.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 14:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/530e390ad8ed1afdd5bed2a26515aadcbb0c9022', 'message': 'Do not test detail of oslo::cors\n\nThis change makes unit test cases for heat::cors, so that these tests\ndo not test behavir of oslo::cors but how oslo::cors resource type is\ncalled by heat::cors.\n\nChange-Id: Ic1bdb8f8d9b397b17db8c1d7a64a2e2d88e94b62\n'}, {'number': 2, 'created': '2021-05-11 15:24:50.000000000', 'files': ['spec/classes/heat_cors_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/aadfcfc08760749aa91ced723738910ba5ecc966', 'message': 'Do not test detail of oslo::cors\n\nThis change makes unit test cases for heat::cors, so that these tests\ndo not test behavir of oslo::cors but how oslo::cors resource type is\ncalled by heat::cors.\n\nChange-Id: Ic1bdb8f8d9b397b17db8c1d7a64a2e2d88e94b62\n'}]",0,790714,aadfcfc08760749aa91ced723738910ba5ecc966,9,3,2,9816,,,0,"Do not test detail of oslo::cors

This change makes unit test cases for heat::cors, so that these tests
do not test behavir of oslo::cors but how oslo::cors resource type is
called by heat::cors.

Change-Id: Ic1bdb8f8d9b397b17db8c1d7a64a2e2d88e94b62
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/14/790714/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/heat_cors_spec.rb'],1,530e390ad8ed1afdd5bed2a26515aadcbb0c9022,cors-ut," is_ecpected.to contain_oslo__cors('heat_config').with( :allowed_origin => '<SERVICE DEFAULT>', :allow_credentials => '<SERVICE DEFAULT>', :expose_headers => '<SERVICE DEFAULT>', :max_age => '<SERVICE DEFAULT>', :allow_methods => '<SERVICE DEFAULT>', :allow_headers => '<SERVICE DEFAULT>', ) is_ecpected.to contain_oslo__cors('heat_config').with( :allowed_origin => '*', :allow_credentials => true, :expose_headers => 'Content-Language,Expires', :max_age => 3600, :allow_methods => 'GET,POST,PUT,DELETE,OPTIONS', :allow_headers => 'Content-Type,Cache-Control', )"," is_expected.to contain_heat_config('cors/allowed_origin').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cors/allow_credentials').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cors/expose_headers').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cors/max_age').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cors/allow_methods').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cors/allow_headers').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cors/allowed_origin').with_value('*') is_expected.to contain_heat_config('cors/allow_credentials').with_value(true) is_expected.to contain_heat_config('cors/expose_headers').with_value('Content-Language,Expires') is_expected.to contain_heat_config('cors/max_age').with_value(3600) is_expected.to contain_heat_config('cors/allow_methods').with_value('GET,POST,PUT,DELETE,OPTIONS') is_expected.to contain_heat_config('cors/allow_headers').with_value('Content-Type,Cache-Control')",16,12
openstack%2Fpuppet-openstack-cookiecutter~master~I202428cf4ef587dd4cebf8835991b74f3fa54af0,openstack/puppet-openstack-cookiecutter,master,I202428cf4ef587dd4cebf8835991b74f3fa54af0,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:46:15.000000000,2021-05-17 18:43:03.000000000,2021-05-17 18:43:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/d0919e9e19c0fdc55dd65c3a0b747bc6da5504e9', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I202428cf4ef587dd4cebf8835991b74f3fa54af0\n""}, {'number': 2, 'created': '2021-05-11 13:22:18.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/9d739c86e0231f6cf74d668b1df76cb08260f346', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I202428cf4ef587dd4cebf8835991b74f3fa54af0\n""}]",0,790641,9d739c86e0231f6cf74d668b1df76cb08260f346,9,3,2,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I202428cf4ef587dd4cebf8835991b74f3fa54af0
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/41/790641/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet-{{cookiecutter.project_name}}/setup.cfg'],1,d0919e9e19c0fdc55dd65c3a0b747bc6da5504e9,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-trove~master~If456ec13e1fea2c5e1a3e4b39fca3af53a51dd6d,openstack/puppet-trove,master,If456ec13e1fea2c5e1a3e4b39fca3af53a51dd6d,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:42:22.000000000,2021-05-17 18:33:09.000000000,2021-05-17 18:33:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:42:22.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/7344f7c463d7f882684e2830f464211efdbfe9a5', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: If456ec13e1fea2c5e1a3e4b39fca3af53a51dd6d\n""}]",0,790633,7344f7c463d7f882684e2830f464211efdbfe9a5,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: If456ec13e1fea2c5e1a3e4b39fca3af53a51dd6d
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/33/790633/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7344f7c463d7f882684e2830f464211efdbfe9a5,setup-cfg,description_file = README.mdauthor_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file = README.mdauthor-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-openstacklib~stable%2Ftrain~I8a3fc453703a3ec17ebc58851c38441460f0aaf9,openstack/puppet-openstacklib,stable/train,I8a3fc453703a3ec17ebc58851c38441460f0aaf9,Prepare the final stable/train release,MERGED,2021-05-13 00:11:18.000000000,2021-05-17 18:27:58.000000000,2021-05-17 18:27:58.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 00:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/1b48553d844c92bc92d3035fa028edbf5bc922af', 'message': 'Prepare a final stable/train release\n\nThe stable/train is entering in extended manitenance. Because we have\nseveal changes merged since the last release, a new release should be\ncreated before that.\n\nChange-Id: I8a3fc453703a3ec17ebc58851c38441460f0aaf9\n'}, {'number': 2, 'created': '2021-05-13 13:12:07.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/e3b61ab6cc4eeb5615d67b7a33af68abd7d48303', 'message': 'Prepare the final stable/train release\n\nThe stable/train is entering in extended manitenance. Because we have\nseveal changes merged since the last release, a new release should be\ncreated before that.\n\nChange-Id: I8a3fc453703a3ec17ebc58851c38441460f0aaf9\n'}]",0,791063,e3b61ab6cc4eeb5615d67b7a33af68abd7d48303,12,4,2,9816,,,0,"Prepare the final stable/train release

The stable/train is entering in extended manitenance. Because we have
seveal changes merged since the last release, a new release should be
created before that.

Change-Id: I8a3fc453703a3ec17ebc58851c38441460f0aaf9
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/63/791063/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,1b48553d844c92bc92d3035fa028edbf5bc922af,t-release," ""version"": ""15.5.0"""," ""version"": ""15.4.0""",1,1
openstack%2Ftripleo-quickstart~master~I95d47264bd9dc48d3dc6f1e98598873e7691e487,openstack/tripleo-quickstart,master,I95d47264bd9dc48d3dc6f1e98598873e7691e487,Fix featureset002 for network_provision/baremetal_provision,MERGED,2021-05-17 09:27:34.000000000,2021-05-17 18:23:53.000000000,2021-05-17 18:22:35.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-17 09:27:34.000000000', 'files': ['config/general_config/featureset002.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6dd1a9f9f9a2bc5a2e693b702b43b1aa4fc21aa2', 'message': 'Fix featureset002 for network_provision/baremetal_provision\n\nUse overcloud-vips-deployed.yaml\nNot include network-isolation-absolute.yaml >= wallaby\n\nChange-Id: I95d47264bd9dc48d3dc6f1e98598873e7691e487\nCloses-Bug: #1928651\n'}]",0,791704,6dd1a9f9f9a2bc5a2e693b702b43b1aa4fc21aa2,12,5,1,8833,,,0,"Fix featureset002 for network_provision/baremetal_provision

Use overcloud-vips-deployed.yaml
Not include network-isolation-absolute.yaml >= wallaby

Change-Id: I95d47264bd9dc48d3dc6f1e98598873e7691e487
Closes-Bug: #1928651
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/04/791704/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset002.yml'],1,6dd1a9f9f9a2bc5a2e693b702b43b1aa4fc21aa2,, -e {{ working_dir }}/overcloud-vips-deployed.yaml {% else %} -e {{ overcloud_templates_path }}/ci/environments/network/multiple-nics/network-isolation-absolute.yaml, -e {{ overcloud_templates_path }}/ci/environments/network/multiple-nics/network-isolation-absolute.yaml,3,1
openstack%2Fdevstack-tools~master~I72eebd8adfa2086b7d3a11eedbfe2e69cfd65bcc,openstack/devstack-tools,master,I72eebd8adfa2086b7d3a11eedbfe2e69cfd65bcc,Migrate from testr to stestr,MERGED,2021-04-29 13:17:10.000000000,2021-05-17 18:21:21.000000000,2021-05-17 18:18:50.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-04-29 13:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/e8ddbcd454313ff4a45df8d9f3248d319de8f8f4', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use py3 as the default runtime for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I72eebd8adfa2086b7d3a11eedbfe2e69cfd65bcc\n'}, {'number': 2, 'created': '2021-04-30 02:46:11.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.zuul.yaml', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/896d04e8425f6420d63d42c8340b26c3ad067bcb', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use py3 as the default runtime for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I72eebd8adfa2086b7d3a11eedbfe2e69cfd65bcc\n'}]",0,788735,896d04e8425f6420d63d42c8340b26c3ad067bcb,11,3,2,33370,,,0,"Migrate from testr to stestr

* Replace .testr.conf by .stestr.conf for migration and update
  .gitignore and test-requirements.txt file accordingly
* Use py3 as the default runtime for tox
* Add a new job, openstack-cover-jobs, to run the coverage in Zuul

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: I72eebd8adfa2086b7d3a11eedbfe2e69cfd65bcc
",git fetch https://review.opendev.org/openstack/devstack-tools refs/changes/35/788735/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.zuul.yaml', '.testr.conf', 'tox.ini', '.stestr.conf']",6,e8ddbcd454313ff4a45df8d9f3248d319de8f8f4,stestr,[DEFAULT] test_path=./devstack/tests/ top_dir=./ ,,21,12
openstack%2Fdevstack-tools~master~I354c9c624ac807203cb69c882c83e1a5f84b435e,openstack/devstack-tools,master,I354c9c624ac807203cb69c882c83e1a5f84b435e,remove unicode from code,MERGED,2021-01-07 03:06:01.000000000,2021-05-17 18:10:31.000000000,2021-05-17 18:09:21.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-01-07 03:06:01.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/a56702807db83db775b86b5070d6f1756e8ebedf', 'message': 'remove unicode from code\n\nChange-Id: I354c9c624ac807203cb69c882c83e1a5f84b435e\n'}]",0,769651,a56702807db83db775b86b5070d6f1756e8ebedf,8,2,1,32921,,,0,"remove unicode from code

Change-Id: I354c9c624ac807203cb69c882c83e1a5f84b435e
",git fetch https://review.opendev.org/openstack/devstack-tools refs/changes/51/769651/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,a56702807db83db775b86b5070d6f1756e8ebedf,,"project = 'devstack-tools Release Notes' copyright = '2016, OpenStack Foundation' ('index', 'GlanceReleaseNotes.tex', 'Glance Release Notes Documentation', 'Glance Developers', 'manual'), ('index', 'glancereleasenotes', 'Glance Release Notes Documentation', ['Glance Developers'], 1) ('index', 'GlanceReleaseNotes', 'Glance Release Notes Documentation', 'Glance Developers', 'GlanceReleaseNotes',","project = u'devstack-tools Release Notes' copyright = u'2016, OpenStack Foundation' ('index', 'GlanceReleaseNotes.tex', u'Glance Release Notes Documentation', u'Glance Developers', 'manual'), ('index', 'glancereleasenotes', u'Glance Release Notes Documentation', [u'Glance Developers'], 1) ('index', 'GlanceReleaseNotes', u'Glance Release Notes Documentation', u'Glance Developers', 'GlanceReleaseNotes',",11,11
openstack%2Fkolla~master~I97308c74406d2af0e39b77eddef2693554381ab6,openstack/kolla,master,I97308c74406d2af0e39b77eddef2693554381ab6,centos: clean up repo enable/disable/keys,MERGED,2020-12-07 20:02:25.000000000,2021-05-17 17:54:51.000000000,2021-05-17 16:04:26.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-12-07 20:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0aa1ee57bc09602236dbeb5ac2aa7ab5abf273b7', 'message': ""centos: clean up repo enable/disable/keys\n\n- install all 'centos-release-*' packages we need\n- disable all repos in one place\n- do not import CentOS keys - they are trusted by default\n\nChange-Id: I97308c74406d2af0e39b77eddef2693554381ab6\n""}, {'number': 2, 'created': '2020-12-11 12:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d74d664f48b4160584918240da2f116de57f9510', 'message': ""centos: clean up repo enable/disable/keys\n\n- install all 'centos-release-*' packages we need\n- disable all repos in one place\n- do not import CentOS keys - they are trusted by default\n\nChange-Id: I97308c74406d2af0e39b77eddef2693554381ab6\n""}, {'number': 3, 'created': '2020-12-17 12:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c9ab41f2425e91ef30c4c3fb0e947ab8cda339db', 'message': ""centos: clean up repo enable/disable/keys\n\n- install all 'centos-release-*' packages we need\n- disable all repos in one place\n- do not import CentOS keys - they are trusted by default\n\nChange-Id: I97308c74406d2af0e39b77eddef2693554381ab6\n""}, {'number': 4, 'created': '2021-01-21 15:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2b24df63e11eecca077cc8a6ce1b289a25500ec4', 'message': ""centos: clean up repo enable/disable/keys\n\n- install all 'centos-release-*' packages we need\n- disable all repos in one place\n- do not import CentOS keys - they are trusted by default\n\nChange-Id: I97308c74406d2af0e39b77eddef2693554381ab6\n""}, {'number': 5, 'created': '2021-01-29 09:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a8b6868082dee9984d7d0ed458916341e61c2ea4', 'message': ""centos: clean up repo enable/disable/keys\n\n- install all 'centos-release-*' packages we need\n- disable all repos in one place\n- do not import CentOS keys - they are trusted by default\n\nChange-Id: I97308c74406d2af0e39b77eddef2693554381ab6\n""}, {'number': 6, 'created': '2021-04-12 11:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/02b64a0c5dad9e53064596832054ff221457ce37', 'message': ""centos: clean up repo enable/disable/keys\n\n- install all 'centos-release-*' packages we need\n- disable all repos in one place\n- do not import CentOS keys - they are trusted by default\n\nChange-Id: I97308c74406d2af0e39b77eddef2693554381ab6\n""}, {'number': 7, 'created': '2021-04-14 16:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4fc6e6a1d728f472919f3bcb8bae952c0bf59202', 'message': ""centos: clean up repo enable/disable/keys\n\n- install all 'centos-release-*' packages we need\n- disable all repos in one place\n- do not import CentOS keys - they are trusted by default\n\nChange-Id: I97308c74406d2af0e39b77eddef2693554381ab6\n""}, {'number': 8, 'created': '2021-04-28 09:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1ff7a1450ebb0f296f544e91c777e03645e292b1', 'message': ""centos: clean up repo enable/disable/keys\n\n- install all 'centos-release-*' packages we need\n- disable all repos in one place\n- do not import CentOS keys - they are trusted by default\n\nChange-Id: I97308c74406d2af0e39b77eddef2693554381ab6\n""}, {'number': 9, 'created': '2021-05-17 07:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e3676f04bd6699bfd15e6d20bebcc4f98bdecd5d', 'message': ""centos: clean up repo enable/disable/keys\n\n- install all 'centos-release-*' packages we need\n- disable all repos in one place\n- do not import CentOS keys - they are trusted by default\n\nChange-Id: I97308c74406d2af0e39b77eddef2693554381ab6\n""}, {'number': 10, 'created': '2021-05-17 12:57:52.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a93f171da3df0491e2bf3d5c1bf7a5a856a6e128', 'message': ""centos: clean up repo enable/disable/keys\n\n- install all 'centos-release-*' packages we need\n- disable all repos in one place\n- do not import CentOS keys - they are trusted by default\n\nChange-Id: I97308c74406d2af0e39b77eddef2693554381ab6\n""}]",3,765864,a93f171da3df0491e2bf3d5c1bf7a5a856a6e128,51,4,10,24072,,,0,"centos: clean up repo enable/disable/keys

- install all 'centos-release-*' packages we need
- disable all repos in one place
- do not import CentOS keys - they are trusted by default

Change-Id: I97308c74406d2af0e39b77eddef2693554381ab6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/64/765864/8 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,0aa1ee57bc09602236dbeb5ac2aa7ab5abf273b7,," 'centos-release-advanced-virtualization', 'centos-release-nfv-openvswitch', 'centos-advanced-virtualization', 'centos-nfv-ovs', 'centos-nfv-openvswitch', 'epel', 'epel-modular',","RUN rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial '/etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-OpsTools', '/etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-Storage',# FIXME(mgoddard): Not available for CentOS 8 yet. # # '/etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-Virtualization', #{{ macros.disable_extra_repos(['epel', 'epel-modular']) }}",7,8
openstack%2Ftripleo-ansible~master~I6f0f4de2d8c7cf31d629c8f28524c1c8d01c50f1,openstack/tripleo-ansible,master,I6f0f4de2d8c7cf31d629c8f28524c1c8d01c50f1,Module for container-puppet execution,ABANDONED,2021-05-05 22:41:19.000000000,2021-05-17 17:51:19.000000000,,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-05 22:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cc58ab587329144337050222a862ed44cbedc610', 'message': '[WIP] Module for container-puppet execution\n\nChange-Id: I6f0f4de2d8c7cf31d629c8f28524c1c8d01c50f1\n'}, {'number': 2, 'created': '2021-05-06 20:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ec611834c73ff502aa2587900c3044c66f11f61', 'message': 'Module for container-puppet execution\n\nThis change creates a module that specifically handles the\ncontainer-puppet container executions. It uses threads to parallelize\nthe execution and allows for the execution to be delegated instead of\nusing the tripleo_container_manage role.\n\nIncludes update from https://github.com/containers/ansible-podman-collections/pull/253\nChange-Id: I6f0f4de2d8c7cf31d629c8f28524c1c8d01c50f1\n'}, {'number': 3, 'created': '2021-05-10 13:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2b45adca844dca4340a38beecc68aba0936cb8b0', 'message': 'Module for container-puppet execution\n\nThis change creates a module that specifically handles the\ncontainer-puppet container executions. It uses threads to parallelize\nthe execution and allows for the execution to be delegated instead of\nusing the tripleo_container_manage role.\n\nChange-Id: I6f0f4de2d8c7cf31d629c8f28524c1c8d01c50f1\n'}, {'number': 4, 'created': '2021-05-10 16:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b0152f6f59faafb4e4e30d90c1e9eaafc6325d60', 'message': 'Module for container-puppet execution\n\nThis change creates a module that specifically handles the\ncontainer-puppet container executions. It uses threads to parallelize\nthe execution and allows for the execution to be delegated instead of\nusing the tripleo_container_manage role.\n\nChange-Id: I6f0f4de2d8c7cf31d629c8f28524c1c8d01c50f1\n'}, {'number': 5, 'created': '2021-05-10 19:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/45128b1c9ad5171565b3faefbd9459da4b9d1ac0', 'message': 'Module for container-puppet execution\n\nThis change creates a module that specifically handles the\ncontainer-puppet container executions. It uses threads to parallelize\nthe execution and allows for the execution to be delegated instead of\nusing the tripleo_container_manage role.\n\nChange-Id: I6f0f4de2d8c7cf31d629c8f28524c1c8d01c50f1\n'}, {'number': 6, 'created': '2021-05-10 20:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2b5288b87d04dc5bb1337c4978bb36dd2acb10da', 'message': 'Module for container-puppet execution\n\nThis change creates a module that specifically handles the\ncontainer-puppet container executions. It uses threads to parallelize\nthe execution and allows for the execution to be delegated instead of\nusing the tripleo_container_manage role.\n\nChange-Id: I6f0f4de2d8c7cf31d629c8f28524c1c8d01c50f1\n'}, {'number': 7, 'created': '2021-05-11 19:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d30b2e1f3be62a81efcf0f6961ee1cafdcb38a0', 'message': 'Module for container-puppet execution\n\nThis change creates a module that specifically handles the\ncontainer-puppet container executions. It uses threads to parallelize\nthe execution and allows for the execution to be delegated instead of\nusing the tripleo_container_manage role.\n\nChange-Id: I6f0f4de2d8c7cf31d629c8f28524c1c8d01c50f1\n'}, {'number': 8, 'created': '2021-05-11 19:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d36ef7908417ce567113ff9fde3b88eff4bb1144', 'message': 'Module for container-puppet execution\n\nThis change creates a module that specifically handles the\ncontainer-puppet container executions. It uses threads to parallelize\nthe execution and allows for the execution to be delegated instead of\nusing the tripleo_container_manage role.\n\nChange-Id: I6f0f4de2d8c7cf31d629c8f28524c1c8d01c50f1\n'}, {'number': 9, 'created': '2021-05-14 19:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bf25ed39c0ac94cb71dd118cf9fc0441f70179bd', 'message': 'Module for container-puppet execution\n\nThis change creates a module that specifically handles the\ncontainer-puppet container executions. It uses threads to parallelize\nthe execution and allows for the execution to be delegated instead of\nusing the tripleo_container_manage role.\n\nChange-Id: I6f0f4de2d8c7cf31d629c8f28524c1c8d01c50f1\n'}, {'number': 10, 'created': '2021-05-17 13:40:43.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_container_puppet.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b166ea12a9e6936d2f2b3bb5a7ac35930382e711', 'message': 'Module for container-puppet execution\n\nThis change creates a module that specifically handles the\ncontainer-puppet container executions. It uses threads to parallelize\nthe execution and allows for the execution to be delegated instead of\nusing the tripleo_container_manage role.\n\nChange-Id: I6f0f4de2d8c7cf31d629c8f28524c1c8d01c50f1\n'}]",10,789956,b166ea12a9e6936d2f2b3bb5a7ac35930382e711,33,4,10,14985,,,0,"Module for container-puppet execution

This change creates a module that specifically handles the
container-puppet container executions. It uses threads to parallelize
the execution and allows for the execution to be delegated instead of
using the tripleo_container_manage role.

Change-Id: I6f0f4de2d8c7cf31d629c8f28524c1c8d01c50f1
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/56/789956/8 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_container_puppet.py'],1,cc58ab587329144337050222a862ed44cbedc610,config-next,"#!/usr/bin/python # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. __metaclass__ = type from ansible.module_utils.basic import AnsibleModule import glob import os import yaml import json from concurrent.futures import ThreadPoolExecutor ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = """""" --- module: tripleo_container_puppet author: - ""Alex Schultz (@mwhahaha)"" version_added: '2.9' short_description: Run container puppet containers notes: [] description: - Generate puppet containers configs requirements: - None options: config_id: description: - config id for the label type: str required: True config_dir: description: - path to the json container definitions type: str required: True config_patterns: description: - glob for configuration files type: str default: ""container-puppet-*.json"" log_base_path: description: - log base path type: str default: '/var/log/containers/stdouts' exit_codes: description: - list of valid exit codes for the container processes type: list default: [0, 2] concurrency: description: - process count type: int default: 5 debug: description: - Enable debug type: bool default: False """""" EXAMPLES = """""" - name: Run container-puppet tripleo_container_puppet config_dir: /var/lib/tripleo-config/container-puppet-config/step_1 """""" try: from ansible.module_utils.podman.podman_container_lib import PodmanManager except ImportError: from tripleo_ansible.ansible_plugins.module_utils.podman.podman_container_lib import PodmanManager # noqa: F402 class TripleoContainerPuppet: """"""Notes about this module. It will generate container config that will be consumed by the tripleo-container-manage role that is using podman_container module. """""" def __init__(self, module, results): self.module = module self.results = results # parse args args = self.module.params # Set parameters self.concurrency = args.get('concurrency', 4) self.config_id = args.get('config_id') self.config_dir = args.get('config_dir') self.config_patterns = args.get('config_patterns') self.log_base_path = args.get('log_base_path') self.exit_codes = args.get('exit_codes') self.debug = args.get('debug') self.run() self.module.exit_json(**self.results) # container_config_data.py without overrides def _get_configs(self): configs = {} if not os.path.exists(self.config_dir): return configs matches = glob.glob(os.path.join(self.config_dir, self.config_patterns)) for match in matches: name = os.path.splitext(os.path.basename(match))[0] with open(match, 'r') as data: config = json.loads(data.read()) if self.debug: self.module.debug('Config found for {}: {}'.format(name, config)) configs.update({name: config}) return configs def _get_version(self): rc, out, err = self.module.run_command(['podman', b'--version']) if rc != 0 or not out or 'version' not in out: self.module.fail_json(msg='Cnanot determine podman version') return out.split('versio')[1].strip() def run_container(self, data): name, config = data action = config.get('action', 'run') if action != 'run': self.module.fail_json(msg='Only run is supported (}'.format(name)) # do horible things to convert THT format to ansible module format opts = { 'name': name, 'state': ""present"", 'label': { 'config_id': self.config_id, 'container_name': name, 'managed_by': 'tripleo_ansible', 'config_data': config }, 'debug': self.debug, 'log_driver': 'k8s-file', 'log_opt': {""path"": f""{self.log_base_path}/{name}.log""}, 'executable': 'podman', 'force_restart': False, 'recreate': False, } opts.update(config) if 'volume' not in opts: opts['volume'] = opts.pop('volumes') if 'env' not in opts: opts['env'] = opts.pop('environment') # TODO: fix because PodmanManager calls fail_json directly PodmanManager(self.module, opts).execute() return (name, True) def check_failures(self, results): failed = [] for result in results: name, res = result if not res: failed.append(name) return failed def batch_start_order(self, configs): data = {} for k in configs: start_order = configs[k].get('start_order', 0) if start_order not in data: data[start_order] = [] data[start_order].append((k, configs.get(k))) return data def run(self): configs = self._get_configs() # sort configs by start_order # launch containers? data = self.batch_start_order(configs) failed = [] for start_order in data: with ThreadPoolExecutor(max_workers=self.concurrency) as exc: results = exc.map(self.run_container, data[start_order]) failed.extend(self.check_failures(results)) if len(failed) > 0: self.module.fail_json(msg='Failed containers: {}'.format(', '.join(failed))) self.results['changed'] = True def main(): module = AnsibleModule( argument_spec=yaml.safe_load(DOCUMENTATION)['options'], supports_check_mode=True, ) results = dict( changed=False ) TripleoContainerPuppet(module, results) if __name__ == '__main__': main() ",,222,0
openstack%2Fpuppet-openstack_extras~master~I924b0e3cbdc77be22119f793e8730e2d2fab8e4a,openstack/puppet-openstack_extras,master,I924b0e3cbdc77be22119f793e8730e2d2fab8e4a,setup.cfg: Replace dashes with underscores,MERGED,2021-05-12 01:15:05.000000000,2021-05-17 17:49:26.000000000,2021-05-17 17:49:26.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-05-12 01:15:05.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/ceb8a596268bb6dfddaac9e7b3eda68d3429ebc4', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I924b0e3cbdc77be22119f793e8730e2d2fab8e4a\n""}]",0,790870,ceb8a596268bb6dfddaac9e7b3eda68d3429ebc4,9,4,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I924b0e3cbdc77be22119f793e8730e2d2fab8e4a
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/70/790870/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ceb8a596268bb6dfddaac9e7b3eda68d3429ebc4,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-openstack_extras~master~Iac40476e073f22bdb997b9f56824aa19d6f61505,openstack/puppet-openstack_extras,master,Iac40476e073f22bdb997b9f56824aa19d6f61505,Fix calling extrepo,MERGED,2021-05-10 10:53:30.000000000,2021-05-17 17:49:23.000000000,2021-05-17 17:49:23.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 10:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/a53486c1fff2183b31efed391c1a4f7e07fc658b', 'message': 'Fix calling extrepo\n\nWe should use the full path, not just ""extrepo"", otherwise, we get\na puppet error:\n\n""failed: \'extrepo\' is not qualified and no path was specified.\nPlease qualify the command or specify a path.""\n\nChange-Id: Iac40476e073f22bdb997b9f56824aa19d6f61505\n'}, {'number': 2, 'created': '2021-05-10 15:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/6f5d9f9b8e706dbe951ef5c32509eb0613fbe45c', 'message': 'Fix calling extrepo\n\nWe should use the full path, not just ""extrepo"", otherwise, we get\na puppet error:\n\n""failed: \'extrepo\' is not qualified and no path was specified.\nPlease qualify the command or specify a path.""\n\nChange-Id: Iac40476e073f22bdb997b9f56824aa19d6f61505\n'}, {'number': 3, 'created': '2021-05-16 21:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/8a449c805cec8f54c4a4664aed4ef61fc85805d9', 'message': 'Fix calling extrepo\n\nWe should use the full path, not just ""extrepo"", otherwise, we get\na puppet error:\n\n""failed: \'extrepo\' is not qualified and no path was specified.\nPlease qualify the command or specify a path.""\n\nChange-Id: Iac40476e073f22bdb997b9f56824aa19d6f61505\n'}, {'number': 4, 'created': '2021-05-17 07:54:25.000000000', 'files': ['spec/classes/openstack_extras_repo_debian_debian_spec.rb', 'manifests/repo/debian/debian.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/3e39231478178ae217f6a674d3d548740f3a3a4b', 'message': 'Fix calling extrepo\n\nWe should use the full path, not just ""extrepo"", otherwise, we get\na puppet error:\n\n""failed: \'extrepo\' is not qualified and no path was specified.\nPlease qualify the command or specify a path.""\n\nChange-Id: Iac40476e073f22bdb997b9f56824aa19d6f61505\n'}]",4,790406,3e39231478178ae217f6a674d3d548740f3a3a4b,22,5,4,6476,,,0,"Fix calling extrepo

We should use the full path, not just ""extrepo"", otherwise, we get
a puppet error:

""failed: 'extrepo' is not qualified and no path was specified.
Please qualify the command or specify a path.""

Change-Id: Iac40476e073f22bdb997b9f56824aa19d6f61505
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/06/790406/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/openstack_extras_repo_debian_debian_spec.rb', 'manifests/repo/debian/debian.pp']",2,a53486c1fff2183b31efed391c1a4f7e07fc658b,fix-extrepo-for-debian," exec { ""/usr/bin/extrepo enable openstack_${lowercase_release}"": command => ""/usr/bin/extrepo enable openstack_${lowercase_release}"", refreshonly => false,"," exec { ""extrepo enable openstack_${lowercase_release}"": command => ""extrepo enable openstack_${lowercase_release}"", refreshonly => true,",7,7
openstack%2Ftripleo-repos~master~I18c46de71031ca1dd3f1a4f75df651ced12ebff1,openstack/tripleo-repos,master,I18c46de71031ca1dd3f1a4f75df651ced12ebff1,"Adds tripleo_get_hash ansible module, example play & updates README",MERGED,2021-05-12 13:22:05.000000000,2021-05-17 17:49:20.000000000,2021-05-17 17:48:01.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-05-12 13:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/63855cf7386cd09242977dc44e1ffb823784c6fa', 'message': 'WIP tripleo_get_hash ansible module\n\nChange-Id: I18c46de71031ca1dd3f1a4f75df651ced12ebff1\n'}, {'number': 2, 'created': '2021-05-13 10:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/757e052a399f635fe6b3533d348d99bfe66f87a1', 'message': 'Adds tripleo_get_hash ansible module, example play & updates README\n\nThis adds tripleo_get_hash python module for use with ansible as well\nas an example_playbook.yaml. The deafult config path is changed from\n/etc/ to /usr/local/etc. Includes updates to the README\n\nChange-Id: I18c46de71031ca1dd3f1a4f75df651ced12ebff1\n'}, {'number': 3, 'created': '2021-05-14 09:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/d56d3aa31b87698d7a87bcea4a63351ffafcaa1a', 'message': 'Adds tripleo_get_hash ansible module, example play & updates README\n\nThis adds tripleo_get_hash python module for use with ansible as well\nas an example_playbook.yaml. The deafult config path is changed from\n/etc/ to /usr/local/etc. Includes updates to the README\n\nChange-Id: I18c46de71031ca1dd3f1a4f75df651ced12ebff1\n'}, {'number': 4, 'created': '2021-05-14 09:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/32caca4253054e5cf16385b348405124c07aa45d', 'message': 'Adds tripleo_get_hash ansible module, example play & updates README\n\nThis adds tripleo_get_hash python module for use with ansible as well\nas an example_playbook.yaml. The deafult config path is changed from\n/etc/ to /usr/local/etc. Includes updates to the README\n\nChange-Id: I18c46de71031ca1dd3f1a4f75df651ced12ebff1\n'}, {'number': 5, 'created': '2021-05-17 10:11:03.000000000', 'files': ['tripleo-get-hash/setup.cfg', 'tripleo-get-hash/tripleo_get_hash/constants.py', 'tripleo-get-hash/README.md', 'tripleo-get-hash/tripleo_get_hash.py', 'tripleo-get-hash/tripleo_get_hash/tripleo_hash_info.py', 'tripleo-get-hash/example_playbook.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/d68f1545814fa08460468a1707a5de6a264f934d', 'message': 'Adds tripleo_get_hash ansible module, example play & updates README\n\nThis adds tripleo_get_hash python module for use with ansible as well\nas an example_playbook.yaml. The default config path is changed from\n/etc/ to /usr/local/etc. Includes updates to the README\n\nChange-Id: I18c46de71031ca1dd3f1a4f75df651ced12ebff1\n'}]",12,790975,d68f1545814fa08460468a1707a5de6a264f934d,28,11,5,8449,,,0,"Adds tripleo_get_hash ansible module, example play & updates README

This adds tripleo_get_hash python module for use with ansible as well
as an example_playbook.yaml. The default config path is changed from
/etc/ to /usr/local/etc. Includes updates to the README

Change-Id: I18c46de71031ca1dd3f1a4f75df651ced12ebff1
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/75/790975/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo-get-hash/tripleo_get_hash.py'],1,63855cf7386cd09242977dc44e1ffb823784c6fa,I18c46de71031ca1dd3f1a4f75df651ced12ebff1,"#!/usr/bin/python # Copyright 2021 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # from tripleo_get_hash.tripleo_hash_info import TripleOHashInfo from ansible.module_utils.basic import AnsibleModule DOCUMENTATION = r''' --- module: tripleo_get_hash short_description: Resolve rdo named tag to commit, full and distro hashes version_added: ""2.9"" description: options: os_version: description: The operating system and version to fetch hashes for required: false type: str default: centos8 release: description: The release of OpenStack you want the hash info for required: false type: str default: master component: description: The tripleo-ci component you are interested in required: false type: str default: None tag: description: The named tag to fetch required: false type: str default: current-tripleo author: - Marios Andreou (@marios) ''' EXAMPLES = r''' - name: Get the latest hash info for victoria centos8 tripleo component tripleo_get_hash: os_version: centos8 release: victoria component: tripleo ''' RETURN = r''' full_hash: description: The full hash that identifies the build type: str returned: always sample: 'f47f1db5af04ddd1ab4cc3ccadf95884d335b3f3_92f50ace' distro_hash: description: The distro hash type: str returned: when available sample: '92f50acecd0a218936b7163e8362e75913b62af2' commit_hash: description: The commit hash type: str returned: when available sample: 'f47f1db5af04ddd1ab4cc3ccadf95884d335b3f3' extended_hash: description: The extended hash type: str returned: when available sample: 'f47f1db5af04ddd1ab4cc3ccadf95884d335b3f3' ''' def run_module(): result = dict( success=False, changed=False, error="""", ) argument_spec = dict( os_version=dict(type='str', required=False, default='centos8'), release=dict(type='str', required=False, default='master'), component=dict(type='str', required=False, default=None), tag=dict(type='str', required=False, default='current-tripleo'), ) module = AnsibleModule( argument_spec, supports_check_mode=False ) try: os_version = module.params.get('os_version') release = module.params.get('release') component = module.params.get('component') tag = module.params.get('tag') hash_result = TripleOHashInfo(os_version, release, component, tag) result['commit_hash'] = hash_result.commit_hash result['distro_hash'] = hash_result.distro_hash result['full_hash'] = hash_result.full_hash result['extended_hash'] = hash_result.extended_hash result['dlrn_url'] = hash_result.dlrn_url result['success'] = True except Exception as exc: result['error'] = str(exc) result['msg'] = ""Error something went wrong fetching hash info"" module.fail_json(**result) module.exit_json(**result) def main(): run_module() if __name__ == '__main__': main() ",,135,0
openstack%2Fswift~master~Ie15c9f40a132374c89337f0009fb5cf5a8e62c51,openstack/swift,master,Ie15c9f40a132374c89337f0009fb5cf5a8e62c51,sharder: report perfectly overlapping shard ranges,MERGED,2021-05-14 13:44:04.000000000,2021-05-17 17:35:43.000000000,2021-05-17 08:15:14.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 13:44:04.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1b183f221d258819c82ee58961afc765529314ac', 'message': 'sharder: report perfectly overlapping shard ranges\n\nPreviously, shard ranges that overlapped perfectly (i.e. their bounds\nwere equal) were erroneously excluded from overlapping shard reports.\nWith this patch they will be reported in logs and cause shard audit\nfailures.\n\nAlso, the format of the audit log line is simplified to avoid\nunnecessary duplication of information.\n\nChange-Id: Ie15c9f40a132374c89337f0009fb5cf5a8e62c51\nCloses-Bug: #1928459\nRelated-Bug: #1913332\n'}]",15,791485,1b183f221d258819c82ee58961afc765529314ac,13,4,1,7847,,,0,"sharder: report perfectly overlapping shard ranges

Previously, shard ranges that overlapped perfectly (i.e. their bounds
were equal) were erroneously excluded from overlapping shard reports.
With this patch they will be reported in logs and cause shard audit
failures.

Also, the format of the audit log line is simplified to avoid
unnecessary duplication of information.

Change-Id: Ie15c9f40a132374c89337f0009fb5cf5a8e62c51
Closes-Bug: #1928459
Related-Bug: #1913332
",git fetch https://review.opendev.org/openstack/swift refs/changes/85/791485/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,1b183f221d258819c82ee58961afc765529314ac,p-sharder-missing-overlaps," for i, shard_range in enumerate(shard_ranges): overlapping = [ sr for sr in shard_ranges[i + 1:] if shard_range.name != sr.name and shard_range.overlaps(sr)] overlapping.sort(key=ShardRange.sort_key) if overlaps: all_overlaps = ', '.join( [' '.join(['%s-%s' % (sr.lower, sr.upper) for sr in overlapping_ranges]) for overlapping_ranges in sorted(list(overlaps))]) 'overlapping ranges in state %r: %s' % (ShardRange.STATES[state], all_overlaps))"," for shard_range in shard_ranges: overlapping = [sr for sr in shard_ranges if shard_range != sr and shard_range.overlaps(sr)] overlapping.sort() for overlapping_ranges in overlaps: 'overlapping ranges in state %s: %s' % (ShardRange.STATES[state], ' '.join(['%s-%s' % (sr.lower, sr.upper) for sr in overlapping_ranges])))",20,14
openstack%2Fpuppet-openstack-integration~master~Ie5bf067e3d99db0faa89085376d7298ce1988181,openstack/puppet-openstack-integration,master,Ie5bf067e3d99db0faa89085376d7298ce1988181,Updated from Puppet OpenStack modules constraints,MERGED,2021-05-11 06:15:46.000000000,2021-05-17 17:18:14.000000000,2021-05-17 17:18:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 06:15:46.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/46e012eb22cd758f364913727fef6b0c3bc17a91', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ie5bf067e3d99db0faa89085376d7298ce1988181\n'}]",0,790553,46e012eb22cd758f364913727fef6b0c3bc17a91,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ie5bf067e3d99db0faa89085376d7298ce1988181
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/53/790553/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,46e012eb22cd758f364913727fef6b0c3bc17a91,openstack/puppet/constraints, :ref => 'v6.0.1', :ref => 'v6.0.0',1,1
openstack%2Fvalidations-libs~master~I2cd15f3cdcd79705173ed48d555fec35e39b5b71,openstack/validations-libs,master,I2cd15f3cdcd79705173ed48d555fec35e39b5b71,Expanded and increased strictness of the ansible.py tests,MERGED,2021-02-23 12:47:08.000000000,2021-05-17 17:12:55.000000000,2021-05-17 17:10:03.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-02-23 12:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e767726e8dbef37ea44ed63177ff544866c777d3', 'message': 'Expanded and refined tests for the ansible.py\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2cd15f3cdcd79705173ed48d555fec35e39b5b71\n'}, {'number': 2, 'created': '2021-03-04 09:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5fb4294c2d942724fe0291c74e65661f7b925bdd', 'message': 'Expanded and increased strictness of the ansible.py tests\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2cd15f3cdcd79705173ed48d555fec35e39b5b71\n'}, {'number': 3, 'created': '2021-03-04 10:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/17b38fc74b892ce2877f53b1e084ba272a5bddd1', 'message': 'Expanded and increased strictness of the ansible.py tests\n\nWhere possible, the tests were adjusted to not only assert\non the last call made, but on it being a single call.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2cd15f3cdcd79705173ed48d555fec35e39b5b71\n'}, {'number': 4, 'created': '2021-04-06 13:42:13.000000000', 'files': ['validations_libs/tests/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/648c2d81c4fbca2343abfa5cf0a6d0562f94c760', 'message': 'Expanded and increased strictness of the ansible.py tests\n\nWhere possible, the tests were adjusted to not only assert\non the last call made, but on it being a single call.\n\nCloses-Bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2cd15f3cdcd79705173ed48d555fec35e39b5b71\n'}]",2,777100,648c2d81c4fbca2343abfa5cf0a6d0562f94c760,21,6,4,32926,,,0,"Expanded and increased strictness of the ansible.py tests

Where possible, the tests were adjusted to not only assert
on the last call made, but on it being a single call.

Closes-Bug: #1922726

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I2cd15f3cdcd79705173ed48d555fec35e39b5b71
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/00/777100/4 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/tests/test_ansible.py'],1,e767726e8dbef37ea44ed63177ff544866c777d3,tests/ansible," """""" Initiates objecst needed for testing. Most importantly the Ansible. Also replaces Ansible.log with a MagicMock to check against. """""" self.run.log = mock.MagicMock() @mock.patch('logging.getLogger') def test_ansible_init(self, mock_logger): """""" Test of Ansible init. Verifies that uuid atribute is properly set and that the logger has appropriate name assigned. """""" fake_uuid = 'foo' ansible = Ansible(fake_uuid) mock_logger.assert_called_once_with( 'validations_libs.ansible.Ansible') self.assertEqual(fake_uuid, ansible.uuid) """""" Checks if providing nonexistent playbook raises RuntimeError. Checks if os.path.exists is called both with name of the play file and with the path consisting of playbook and directory. Insists on order of the calls. Allows additional calls both before and after the required sequence. """""" exists_calls = [ mock.call('non-existing.yaml'), mock.call('/tmp/non-existing.yaml') ] mock_exists.assert_has_calls(exists_calls) @mock.patch('os.path.exists', return_value=True) def test_inventory_string_inventory(self, mock_exists): """""" This test verifies that Ansible._inventory method properly handles valid inventory file paths. """""" inventory = 'foo' artifact_dir = 'bar' self.assertEqual( inventory, self.run._inventory(inventory, artifact_dir)) mock_exists.assert_called_once_with(inventory) @mock.patch('ansible_runner.utils.dump_artifact') def test_inventory_wrong_inventory_path(self, mock_dump_artifact): """""" Test verifies that Ansible._inventory method calls dump_artifact, if supplied by path to a nonexistent inventory file. """""" inventory = 'foo' artifact_dir = 'bar' self.run._inventory(inventory, artifact_dir) mock_dump_artifact.assert_called_once_with( inventory, artifact_dir, 'hosts') @mock.patch('ansible_runner.utils.dump_artifact') @mock.patch('yaml.safe_dump', return_value='foobar') def test_inventory_dict_inventory(self, mock_yaml_dump, mock_dump_artifact): """""" Test verifies that Ansible._inventory method properly handles inventories provided as dict. """""" inventory = { 'foo': 'bar' } artifact_dir = 'fizz' self.run._inventory(inventory, artifact_dir) mock_yaml_dump.assert_called_once_with( inventory, default_flow_style=False) mock_dump_artifact.assert_called_once_with( 'foobar', artifact_dir, 'hosts') @mock.patch('os.makedirs') @mock.patch('tempfile.gettempdir', return_value='/tmp') def test_creates_ansible_fact_dir_success(self, mock_get_temp_dir, mock_mkdirs): full_tmp_path = '/tmp/foo/fact_cache' self.assertEqual( full_tmp_path, self.run._creates_ansible_fact_dir('foo')) mock_mkdirs.assert_called_once_with(full_tmp_path) @mock.patch('os.makedirs', side_effect=FileExistsError()) @mock.patch('tempfile.gettempdir', return_value='/tmp') def test_creates_ansible_fact_dir_exception(self, mock_get_temp_dir, mock_mkdirs): self.run._creates_ansible_fact_dir('foo') self.run.log.debug.assert_called_once_with( 'Directory ""{}"" was not created because it' ' already exists.'.format( '/tmp/foo/fact_cache' )) def test_get_extra_vars_dict(self): extra_vars = { 'foo': 'bar' } self.assertEqual(extra_vars, self.run._get_extra_vars(extra_vars)) @mock.patch('yaml.safe_load', return_value={'fizz': 'buzz'}) @mock.patch('builtins.open', spec=open) @mock.patch('os.path.exists', return_value=True) @mock.patch('os.path.isfile', return_value=True) def test_get_extra_vars_path(self, mock_isfile, mock_exists, mock_open, mock_yaml_load): self.assertEqual( {'fizz': 'buzz'}, self.run._get_extra_vars('/foo/bar')) mock_open.assert_called_once_with('/foo/bar') mock_config.assert_called_once_with(**opt)", mock_exists.assert_called_with('/tmp/non-existing.yaml') mock_config.assert_called_with(**opt),136,2
openstack%2Fvalidations-libs~master~I9518f2d31227e0bed46c586a00ee025177969eec,openstack/validations-libs,master,I9518f2d31227e0bed46c586a00ee025177969eec,group info test mocks and asserts,MERGED,2021-04-23 14:55:58.000000000,2021-05-17 17:11:46.000000000,2021-05-17 17:09:35.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-23 14:55:58.000000000', 'files': ['validations_libs/tests/cli/test_show.py', 'validations_libs/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c21117799f4e893cda63e6c2275737c5375254ed', 'message': 'group info test mocks and asserts\n\nTest previously relied only on the inherited assertions.\nAdditionally, almost all calls were actually performed,\nintroducing unnecessary code into test.\n\nAdditional mocks now cover majority of calls to\nfunctions and methods not directly related to the test.\n\nFurther assertions have been placed on output of the\ntested method and the calls made to the newly mocked methods.\n\nValidation path was moved to fakes module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9518f2d31227e0bed46c586a00ee025177969eec\n'}]",0,787768,c21117799f4e893cda63e6c2275737c5375254ed,11,7,1,32926,,,0,"group info test mocks and asserts

Test previously relied only on the inherited assertions.
Additionally, almost all calls were actually performed,
introducing unnecessary code into test.

Additional mocks now cover majority of calls to
functions and methods not directly related to the test.

Further assertions have been placed on output of the
tested method and the calls made to the newly mocked methods.

Validation path was moved to fakes module.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9518f2d31227e0bed46c586a00ee025177969eec
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/68/787768/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/tests/cli/test_show.py', 'validations_libs/tests/fakes.py']",2,c21117799f4e893cda63e6c2275737c5375254ed,cli/tests,FAKE_VALIDATIONS_PATH = '/usr/share/ansible/validation-playbooks' ,,18,2
openstack%2Ftripleo-validations~master~I0ed44d1014d10e632beea44f2665a256453c2499,openstack/tripleo-validations,master,I0ed44d1014d10e632beea44f2665a256453c2499,New utils.py tests,MERGED,2021-03-08 16:22:25.000000000,2021-05-17 17:09:43.000000000,2021-05-17 17:09:43.000000000,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-08 16:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7766edeedff30f490f777d34edbb17801e30e0c4', 'message': 'New utils.py tests WIP\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0ed44d1014d10e632beea44f2665a256453c2499\n'}, {'number': 2, 'created': '2021-03-09 08:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/918abed49dda2edd1227eee559a59c850567031c', 'message': 'New utils.py tests WIP\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0ed44d1014d10e632beea44f2665a256453c2499\n'}, {'number': 3, 'created': '2021-03-09 10:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7fbaf3e3dd72160db2fc7534b0840188119079af', 'message': 'New utils.py tests WIP\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0ed44d1014d10e632beea44f2665a256453c2499\n'}, {'number': 4, 'created': '2021-03-09 11:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c9de49ec0dbfdba81d53f002eb6ffaecb4dd50e5', 'message': 'New utils.py tests\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0ed44d1014d10e632beea44f2665a256453c2499\n'}, {'number': 5, 'created': '2021-03-11 10:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fa418a4485999ee79879296d7ae755ca69283596', 'message': 'New utils.py tests\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0ed44d1014d10e632beea44f2665a256453c2499\n'}, {'number': 6, 'created': '2021-03-15 11:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f6556d33a1493060b518ca6552a3201d1ebb1f47', 'message': 'New utils.py tests\n\nUnit tests covering get_nested and geth_auth_session functions.\nFurther tests will be submitted as a follow up dependent review.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0ed44d1014d10e632beea44f2665a256453c2499\n'}, {'number': 7, 'created': '2021-03-15 11:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/52e6d642df5cc0841219be59fe7835e038797554', 'message': 'New utils.py tests\n\nUnit tests covering get_nested and geth_auth_session functions.\nFurther tests will be submitted as a follow up dependent review.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0ed44d1014d10e632beea44f2665a256453c2499\n'}, {'number': 8, 'created': '2021-04-06 13:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/36c7407bb4c6791dbe7ee1061f2798322aa9c73f', 'message': 'New utils.py tests\n\nUnit tests covering get_nested and geth_auth_session functions.\nFurther tests will be submitted as a follow up dependent review.\n\nCloses-Bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0ed44d1014d10e632beea44f2665a256453c2499\n'}, {'number': 9, 'created': '2021-04-21 06:26:58.000000000', 'files': ['tripleo_validations/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fdd309f383401550b425fef148ebcd74f7cfd323', 'message': 'New utils.py tests\n\nUnit tests covering get_nested and geth_auth_session functions.\nFurther tests will be submitted as a follow up dependent review.\n\nCloses-Bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0ed44d1014d10e632beea44f2665a256453c2499\n'}]",8,779291,fdd309f383401550b425fef148ebcd74f7cfd323,29,6,9,32926,,,0,"New utils.py tests

Unit tests covering get_nested and geth_auth_session functions.
Further tests will be submitted as a follow up dependent review.

Closes-Bug: #1922726

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I0ed44d1014d10e632beea44f2665a256453c2499
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/91/779291/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_validations/tests/test_utils.py'],1,7766edeedff30f490f777d34edbb17801e30e0c4,unittest/utils,"try: from unittest import mock except ImportError: import mock class TestGetAuthSession(base.TestCase): """"""Tests for tripleo_validations.utils.get_auth_session function. """""" @mock.patch('keystoneauth1.session.Session') @mock.patch('keystoneauth1.identity.generic.Token') def test_get_auth_session_token(self, mock_token, mock_session): fake_auth_vars = {} utils.get_auth_session(fake_auth_vars) @mock.patch('keystoneauth1.session.Session') @mock.patch('keystoneauth1.identity.generic.Password') def test_get_auth_session_password(self, mock_pass, mock_session): fake_auth_vars = {} utils.get_auth_session(fake_auth_vars) @mock.patch('keystoneauth1.session.Session') @mock.patch('keystoneauth1.identity.generic.Password') def test_get_auth_session_empty_vars(self, mock_pass, mock_session): fake_auth_vars = {} utils.get_auth_session(fake_auth_vars) ",,34,0
openstack%2Ftripleo-validations~master~Ib730c4bff12404b6c533db867531b2406f52eafc,openstack/tripleo-validations,master,Ib730c4bff12404b6c533db867531b2406f52eafc,Tests of lookup plugin initiation for glance_images.py,MERGED,2021-04-19 13:22:32.000000000,2021-05-17 17:09:30.000000000,2021-05-17 17:09:30.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-19 13:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d429b37a7c4bc8c5b3ec201501f93c673b3ac27d', 'message': 'Tests of lookup plugin initiation for glance_images.py\n\nExtra imports are mocked and fakes.py is imported in\nevery test module.\n\nCloses-Bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib730c4bff12404b6c533db867531b2406f52eafc\n'}, {'number': 2, 'created': '2021-04-19 13:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/17f5f0e043de3fa9b7ab4b518755eb936f3c0ffe', 'message': 'Tests of lookup plugin initiation for glance_images.py\n\nExtra imports are mocked and fakes.py is imported in\nevery test module.\n\nCloses-Bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib730c4bff12404b6c533db867531b2406f52eafc\n'}, {'number': 3, 'created': '2021-04-20 09:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/28febb27ed252d30efd807cf16587798e7db5376', 'message': 'Tests of lookup plugin initiation for glance_images.py\n\nCloses-Bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib730c4bff12404b6c533db867531b2406f52eafc\n'}, {'number': 4, 'created': '2021-05-07 06:53:29.000000000', 'files': ['tripleo_validations/tests/lookup_plugins/test_glance_images.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ec3b1ab0d991013a03025403eaf698c4f43e1a5b', 'message': 'Tests of lookup plugin initiation for glance_images.py\n\nCloses-Bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib730c4bff12404b6c533db867531b2406f52eafc\n'}]",3,786876,ec3b1ab0d991013a03025403eaf698c4f43e1a5b,15,6,4,32926,,,0,"Tests of lookup plugin initiation for glance_images.py

Closes-Bug: #1922726

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ib730c4bff12404b6c533db867531b2406f52eafc
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/76/786876/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_validations/tests/lookup_plugins/test_glance_images.py'],1,d429b37a7c4bc8c5b3ec201501f93c673b3ac27d,unittest/glance-images," def test_module_init(self): """"""Verifying that the lookup plugin is instantiated properly. """""" lookup = plugin.LookupModule() module_attributes = dir(plugin) required_attributes = [ 'DOCUMENTATION', 'EXAMPLES' ] self.assertTrue(set(required_attributes).issubset(module_attributes)) self.assertIsInstance(plugin.DOCUMENTATION, str) self.assertIsInstance(plugin.EXAMPLES, str) self.assertIn('run', dir(lookup))",,19,0
openstack%2Ftripleo-validations~master~I73991977005838ae7c5eaf59e5456f9c92811d67,openstack/tripleo-validations,master,I73991977005838ae7c5eaf59e5456f9c92811d67,Test classes for lookup plugins,MERGED,2021-04-19 13:20:46.000000000,2021-05-17 17:09:14.000000000,2021-05-17 17:09:14.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-19 13:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1f5d0414917ae9432e336c23649d590eb930ec44', 'message': 'Test classes for lookup plugins\n\nExtra imports are mocked and fakes.py is imported in\nevery test module.\n\nCloses-Bug: #1922726\nChange-Id: I73991977005838ae7c5eaf59e5456f9c92811d67\n'}, {'number': 2, 'created': '2021-04-19 13:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8ea7e08ef3147087c6c33718b824809f537c5dda', 'message': 'Test classes for lookup plugins\n\nExtra imports are mocked and fakes.py is imported in\nevery test module.\n\nThis should prevent requirements bloat, along with associated\ngate issues.\n\nCloses-Bug: #1922726\nChange-Id: I73991977005838ae7c5eaf59e5456f9c92811d67\n'}, {'number': 3, 'created': '2021-05-07 06:53:06.000000000', 'files': ['tripleo_validations/tests/fakes.py', 'tripleo_validations/tests/lookup_plugins/test_introspection_data.py', 'tripleo_validations/tests/lookup_plugins/test_nova_servers.py', 'tripleo_validations/tests/lookup_plugins/test_glance_images.py', 'tripleo_validations/tests/lookup_plugins/test_tht.py', 'tripleo_validations/tests/lookup_plugins/test_nova_hypervisor_statistics.py', 'tripleo_validations/tests/lookup_plugins/test_nova_flavors.py', 'tripleo_validations/tests/lookup_plugins/test_ironic_nodes.py', 'tripleo_validations/tests/lookup_plugins/test_roles_info.py', 'tripleo_validations/tests/lookup_plugins/test_stack_resources.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/30fc68853dc55dc21c3255a5b0877306a3de2557', 'message': 'Test classes for lookup plugins\n\nExtra imports are mocked and fakes.py is imported in\nevery test module.\n\nThis should prevent requirements bloat, along with associated\ngate issues.\n\nCloses-Bug: #1922726\nChange-Id: I73991977005838ae7c5eaf59e5456f9c92811d67\n'}]",0,786875,30fc68853dc55dc21c3255a5b0877306a3de2557,11,8,3,32926,,,0,"Test classes for lookup plugins

Extra imports are mocked and fakes.py is imported in
every test module.

This should prevent requirements bloat, along with associated
gate issues.

Closes-Bug: #1922726
Change-Id: I73991977005838ae7c5eaf59e5456f9c92811d67
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/75/786875/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_validations/tests/fakes.py', 'tripleo_validations/tests/lookup_plugins/test_introspection_data.py', 'tripleo_validations/tests/lookup_plugins/test_nova_servers.py', 'tripleo_validations/tests/lookup_plugins/test_glance_images.py', 'tripleo_validations/tests/lookup_plugins/test_tht.py', 'tripleo_validations/tests/lookup_plugins/test_nova_hypervisor_statistics.py', 'tripleo_validations/tests/lookup_plugins/test_nova_flavors.py', 'tripleo_validations/tests/lookup_plugins/test_ironic_nodes.py', 'tripleo_validations/tests/lookup_plugins/test_roles_info.py', 'tripleo_validations/tests/lookup_plugins/test_stack_resources.py']",10,1f5d0414917ae9432e336c23649d590eb930ec44,unittest/lookupplugins,"# Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" test_stack_resources ----------------------------- Tests for `stack_resources` module. """""" try: from unittest import mock except ImportError: import mock from tripleo_validations.tests import fakes from tripleo_validations.tests import base import lookup_plugins.stack_resources as plugin class TestStackResources(base.TestCase): def setUp(self): super(TestStackResources, self).setUp() ",,342,0
openstack%2Ftripleo-heat-templates~master~I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0,openstack/tripleo-heat-templates,master,I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0,Disable tunneled mode when use_tls_for_live_migration,MERGED,2021-05-12 17:50:25.000000000,2021-05-17 17:09:06.000000000,2021-05-17 17:09:06.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-05-12 17:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b3559c2482246ecf305d5f5906104675cd79fee', 'message': ""Disable tunneled mode when use_tls_for_live_migration\n\nWith recent version of libvirt, nova-compute don't come up\ncorrect when tls-everywhere (use_tls_for_live_migration)\nis set. The enable_live_migration_tunnelled condition\ndid not consider tls-livemigration and got disabled.\nNova-compute fails to start with:\n\n2021-05-12 12:49:09.278 7 ERROR oslo_service.service nova.exception.Invalid: Setting both 'live_migration_tunnelled' and 'live_migration_with_native_tls' at the same time is invalid. If you have the relevant libvirt and QEMU versions, and TLS configured in your environment, pick 'live_migration_with_native_tls'._\n\nThis change enhance the enable_live_migration_tunnelled\ncondition to not configure tunnelled mode when\nuse_tls_for_live_migration is true.\n\nRelated-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1959808\n\nChange-Id: I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0\n""}, {'number': 2, 'created': '2021-05-14 12:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/532583f1d08da03f957ff6eb822d039920854eca', 'message': ""Disable tunneled mode when use_tls_for_live_migration\n\nWith recent version of libvirt, nova-compute don't come up\ncorrect when tls-everywhere (use_tls_for_live_migration)\nis set. The enable_live_migration_tunnelled condition\ndid not consider tls-livemigration and got disabled.\nNova-compute fails to start with:\n\n2021-05-12 12:49:09.278 7 ERROR oslo_service.service nova.exception.Invalid: Setting both 'live_migration_tunnelled' and 'live_migration_with_native_tls' at the same time is invalid. If you have the relevant libvirt and QEMU versions, and TLS configured in your environment, pick 'live_migration_with_native_tls'._\n\nThis change enhance the enable_live_migration_tunnelled\ncondition to not configure tunnelled mode when\nuse_tls_for_live_migration is true.\n\nRelated-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1959808\n\nChange-Id: I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0\n""}, {'number': 3, 'created': '2021-05-14 16:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d720095cf8337ad103d06fcf0c12deaf84d6b74', 'message': ""Disable tunneled mode when use_tls_for_live_migration\n\nWith recent version of libvirt, nova-compute don't come up\ncorrect when tls-everywhere (use_tls_for_live_migration)\nis set. The enable_live_migration_tunnelled condition\ndid not consider tls-livemigration and got disabled.\nNova-compute fails to start with:\n\n2021-05-12 12:49:09.278 7 ERROR oslo_service.service nova.exception.Invalid: Setting both 'live_migration_tunnelled' and 'live_migration_with_native_tls' at the same time is invalid. If you have the relevant libvirt and QEMU versions, and TLS configured in your environment, pick 'live_migration_with_native_tls'._\n\nThis change enhance the enable_live_migration_tunnelled\ncondition to not configure tunnelled mode when\nuse_tls_for_live_migration is true.\n\nRelated-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1959808\n\nChange-Id: I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0\n""}, {'number': 4, 'created': '2021-05-16 08:10:54.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a472cbbe844dd7e15e4889e5f02845461413169', 'message': ""Disable tunneled mode when use_tls_for_live_migration\n\nWith recent version of libvirt, nova-compute don't come up\ncorrect when tls-everywhere (use_tls_for_live_migration)\nis set. The enable_live_migration_tunnelled condition\ndid not consider tls-livemigration and got disabled.\nNova-compute fails to start with:\n\n2021-05-12 12:49:09.278 7 ERROR oslo_service.service nova.exception.Invalid: Setting both 'live_migration_tunnelled' and 'live_migration_with_native_tls' at the same time is invalid. If you have the relevant libvirt and QEMU versions, and TLS configured in your environment, pick 'live_migration_with_native_tls'._\n\nThis change enhance the enable_live_migration_tunnelled\ncondition to not configure tunnelled mode when\nuse_tls_for_live_migration is true.\n\nCloses-Bug: #1928554\nRelated-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1959808\n\nChange-Id: I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0\n""}]",1,791034,3a472cbbe844dd7e15e4889e5f02845461413169,22,9,4,17216,,,0,"Disable tunneled mode when use_tls_for_live_migration

With recent version of libvirt, nova-compute don't come up
correct when tls-everywhere (use_tls_for_live_migration)
is set. The enable_live_migration_tunnelled condition
did not consider tls-livemigration and got disabled.
Nova-compute fails to start with:

2021-05-12 12:49:09.278 7 ERROR oslo_service.service nova.exception.Invalid: Setting both 'live_migration_tunnelled' and 'live_migration_with_native_tls' at the same time is invalid. If you have the relevant libvirt and QEMU versions, and TLS configured in your environment, pick 'live_migration_with_native_tls'._

This change enhance the enable_live_migration_tunnelled
condition to not configure tunnelled mode when
use_tls_for_live_migration is true.

Closes-Bug: #1928554
Related-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1959808

Change-Id: I1a6f5d3a98d185415b772fa6a94d6f4329dc59a0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/791034/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,1b3559c2482246ecf305d5f5906104675cd79fee,1959808," EnableInternalTLS: type: boolean default: false UseTLSTransportForLiveMigration: type: boolean default: true description: If set to true and if EnableInternalTLS is enabled, it will set the libvirt URI's transport to tls and configure the relevant keys for libvirt. use_tls_for_live_migration: and: - equals: - {get_param: EnableInternalTLS} - true - equals: - {get_param: UseTLSTransportForLiveMigration} - true and: - or: - and: - equals: [{get_param: NovaNfsEnabled}, true] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, ''] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, true] - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, true] - and: - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, ''] - equals: [{get_param: NovaEnableRbdBackend}, true] - not: use_tls_for_live_migration"," or: - and: - equals: [{get_param: NovaNfsEnabled}, true] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, ''] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, true] - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, true] - and: - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, ''] - equals: [{get_param: NovaEnableRbdBackend}, true]",28,10
openstack%2Fpuppet-cinder~master~Ic25a2a88ccfc5eddf180d44cb109d69378c5277f,openstack/puppet-cinder,master,Ic25a2a88ccfc5eddf180d44cb109d69378c5277f,Deprecate the powerstore_appliances parameter,MERGED,2021-05-16 12:27:32.000000000,2021-05-17 16:58:51.000000000,2021-05-17 16:57:43.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-16 12:27:32.000000000', 'files': ['manifests/backend/dellemc_powerstore.pp', 'spec/defines/cinder_backend_dellemc_powerstore_spec.rb', 'releasenotes/notes/deprecate-powerstore_appliances-1a3ef9166d1b35ad.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/e73bf6a864e537a6530ddfb23e0425e58c4f51cd', 'message': 'Deprecate the powerstore_appliances parameter\n\n... because it was already deprecated[1] in cinder and has no effect.\n\n[1] f328341ed0eb920a6471f7c65e06b27c3f719fbe\nChange-Id: Ic25a2a88ccfc5eddf180d44cb109d69378c5277f\n'}]",0,791621,e73bf6a864e537a6530ddfb23e0425e58c4f51cd,8,3,1,9816,,,0,"Deprecate the powerstore_appliances parameter

... because it was already deprecated[1] in cinder and has no effect.

[1] f328341ed0eb920a6471f7c65e06b27c3f719fbe
Change-Id: Ic25a2a88ccfc5eddf180d44cb109d69378c5277f
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/21/791621/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/dellemc_powerstore.pp', 'spec/defines/cinder_backend_dellemc_powerstore_spec.rb', 'releasenotes/notes/deprecate-powerstore_appliances-1a3ef9166d1b35ad.yaml']",3,e73bf6a864e537a6530ddfb23e0425e58c4f51cd,powerstore_appliances,--- features: - | The ``cinder::backend::dellemc_powerstore::powerstore_appliances`` parameter has been deprecated and has no effect now. This parameter will be removed in a future release. ,,20,7
openstack%2Fdesignate~stable%2Fvictoria~I72bae79b4f8e0bab739875d6f783abdb4868950b,openstack/designate,stable/victoria,I72bae79b4f8e0bab739875d6f783abdb4868950b,Fix pool update with duplicate masters,MERGED,2020-09-30 22:32:10.000000000,2021-05-17 16:50:04.000000000,2021-05-17 16:48:33.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 32842}]","[{'number': 1, 'created': '2020-09-30 22:32:10.000000000', 'files': ['designate/manage/pool.py', 'designate/tests/test_manage/test_update_pool.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/9e159d93d99bf1ed0c487bfe99450f59db509249', 'message': 'Fix pool update with duplicate masters\n\nIf any zones exist that belong to a pool that has any duplicate masters\namong all targets, currently updating the pool will fail.\n\nThis change fixes the issue by ensuring the pool target master list does\nnot contain duplicates.\n\nChange-Id: I72bae79b4f8e0bab739875d6f783abdb4868950b\nCloses-Bug: #1897936\n(cherry picked from commit 4e86bc2a58f00371a2f22217cb8a79e5ac33677c)\n'}]",0,755400,9e159d93d99bf1ed0c487bfe99450f59db509249,24,4,1,19298,,,0,"Fix pool update with duplicate masters

If any zones exist that belong to a pool that has any duplicate masters
among all targets, currently updating the pool will fail.

This change fixes the issue by ensuring the pool target master list does
not contain duplicates.

Change-Id: I72bae79b4f8e0bab739875d6f783abdb4868950b
Closes-Bug: #1897936
(cherry picked from commit 4e86bc2a58f00371a2f22217cb8a79e5ac33677c)
",git fetch https://review.opendev.org/openstack/designate refs/changes/00/755400/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/manage/pool.py', 'designate/tests/test_manage/test_update_pool.py']",2,9e159d93d99bf1ed0c487bfe99450f59db509249,bug/1897936-stable/victoria," def hydrate_pool_targets(self, target_masters): for target_master in target_masters: masters.append(target_master) def test_update_pools_zones_multiple_masters(self): values = dict( name='example.com.', email='info@example.com', type='PRIMARY' ) zone = self.central_service.create_zone( self.admin_context, zone=objects.Zone.from_dict(values)) # Ensure the correct NS Records are in place pool = self.central_service.get_pool( self.admin_context, zone.pool_id) targets1 = self.hydrate_pool_targets([ objects.PoolTargetMaster( pool_target_id=pool.id, host=""127.0.0.1"", port=""53"") ]) targets2 = self.hydrate_pool_targets([ objects.PoolTargetMaster( pool_target_id=pool.id, host=""127.0.0.1"", port=""53"") ]) pool.targets = objects.PoolTargetList() pool.targets.extend(targets1.objects + targets2.objects) command = PoolCommands() command.context = self.admin_context command.central_api = self.central_service command._update_zones(pool)"," def hydrate_pool_targets(self, targets): for target in targets: masters.append(target)",45,5
openstack%2Ftripleo-specs~master~I35db22f4413dcc2809d1ef892bd08006fe757446,openstack/tripleo-specs,master,I35db22f4413dcc2809d1ef892bd08006fe757446,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 09:07:46.000000000,2021-05-17 16:49:15.000000000,2021-05-17 16:47:51.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 09:07:46.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/15a0d77ad5476961e9043c01e8946ddcc4512102', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I35db22f4413dcc2809d1ef892bd08006fe757446\n""}]",0,788225,15a0d77ad5476961e9043c01e8946ddcc4512102,7,2,1,32921,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I35db22f4413dcc2809d1ef892bd08006fe757446
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/25/788225/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,15a0d77ad5476961e9043c01e8946ddcc4512102,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://specs.openstack.org/openstack/tripleo-specs/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://specs.openstack.org/openstack/tripleo-specs/,3,3
openstack%2Ftripleo-heat-templates~master~Id344f7f06eca903351b46bc5961bd9a749672bd7,openstack/tripleo-heat-templates,master,Id344f7f06eca903351b46bc5961bd9a749672bd7,Remove unused cvol_active_active_tls_enabled condition,MERGED,2021-05-15 08:12:05.000000000,2021-05-17 16:41:53.000000000,2021-05-17 16:41:53.000000000,"[{'_account_id': 6926}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-15 08:12:05.000000000', 'files': ['deployment/cinder/cinder-volume-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96a2c3742cad2bc78f25a945c9408c6ca269618d', 'message': ""Remove unused cvol_active_active_tls_enabled condition\n\nIt is not being used in this file. So let's remove it from here.\nThe only place it is used is the cinder-common-container-puppet.yaml\nfile:\n$ grep -ir cvol_active_active\ndeployment/cinder/cinder-common-container-puppet.yaml:  cvol_active_active_tls_enabled:\ndeployment/cinder/cinder-common-container-puppet.yaml:            - cvol_active_active_tls_enabled\n\nChange-Id: Id344f7f06eca903351b46bc5961bd9a749672bd7\n""}]",0,791575,96a2c3742cad2bc78f25a945c9408c6ca269618d,11,4,1,20172,,,0,"Remove unused cvol_active_active_tls_enabled condition

It is not being used in this file. So let's remove it from here.
The only place it is used is the cinder-common-container-puppet.yaml
file:
$ grep -ir cvol_active_active
deployment/cinder/cinder-common-container-puppet.yaml:  cvol_active_active_tls_enabled:
deployment/cinder/cinder-common-container-puppet.yaml:            - cvol_active_active_tls_enabled

Change-Id: Id344f7f06eca903351b46bc5961bd9a749672bd7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/791575/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-volume-container-puppet.yaml'],1,96a2c3742cad2bc78f25a945c9408c6ca269618d,cvol-tls,,"conditions: cvol_active_active_tls_enabled: and: - not: {equals: [{get_param: CinderVolumeCluster}, '']} - {get_param: EnableInternalTLS} - {get_param: EnableEtcdInternalTLS} ",0,7
openstack%2Ftripleo-heat-templates~stable%2Frocky~I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c,openstack/tripleo-heat-templates,stable/rocky,I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c,DO-NOT-MERGE Test new ceph-container builds (OSP rocky),ABANDONED,2018-09-11 13:10:15.000000000,2021-05-17 16:41:41.000000000,,"[{'_account_id': 8449}, {'_account_id': 14270}, {'_account_id': 15205}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2018-09-11 13:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e6e5bf010e53cc4e09e79f7a608b0069d69e07e', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP rocky)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 2, 'created': '2018-09-11 13:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea9f8bcd2e1ffb5b7751520a6508c1bd56d39260', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP rocky)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 3, 'created': '2018-09-11 13:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a556fbae1b9cd7fc32113a3dcc545e85f8113ba1', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP rocky)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 4, 'created': '2018-10-31 10:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a980f97edba58c95891903be512a8923e33150a', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP rocky)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 5, 'created': '2018-10-31 10:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99e9a7088198695ec5f86c32d9876b3ce9add4e5', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP rocky)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 6, 'created': '2019-01-15 10:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24628d20e890755629a237347096a1921b0ca6a2', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 7, 'created': '2019-04-28 10:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de6e2c03291eb3380ef68f968c35b5a18eec8ac7', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP rocky)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 8, 'created': '2019-05-03 09:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8bdac4b978aa16d79e030ca187e7f54d15b7509b', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP rocky)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 9, 'created': '2019-10-29 20:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fbdefc2f727488dab3df28f471ce5ac99dd2932', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP rocky)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 10, 'created': '2019-10-29 20:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f6d9b7eef684baa236d18398b77a373fb8e7e10', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP rocky)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 11, 'created': '2019-10-30 20:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ad2d03b3bf67f92aee705ac495fb47876020e2c', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP rocky)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 12, 'created': '2020-03-27 17:59:17.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0bfc883b8aad9143a3669de711b2beb1f6d36e33', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP rocky)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}]",0,601598,0bfc883b8aad9143a3669de711b2beb1f6d36e33,31,6,12,6796,,,0,"DO-NOT-MERGE Test new ceph-container builds (OSP rocky)

Change-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/601598/12 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml']",2,7e6e5bf010e53cc4e09e79f7a608b0069d69e07e,ceph-container-testing, DockerCephDaemonImage: docker.io/ceph/daemon:v3.1.0-stable-3.1-luminous-centos-7-x86_64,,2,0
openstack%2Fvalidations-libs~master~I6db7ffc6af572e8d1ff4e587bef0c7a8ef0a16e9,openstack/validations-libs,master,I6db7ffc6af572e8d1ff4e587bef0c7a8ef0a16e9,Move fetch_validations role from validations-libs-functional to post playbook,MERGED,2021-05-05 07:56:26.000000000,2021-05-17 16:41:25.000000000,2021-05-17 16:41:25.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-05 07:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7fdccea37367ef81e5c456a862e714d10aec6722', 'message': 'Add missing fetch-validations role in post.yaml\n\nChange-Id: I6db7ffc6af572e8d1ff4e587bef0c7a8ef0a16e9\n'}, {'number': 2, 'created': '2021-05-12 07:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b87bc9cb9a1bbf3c85da434fa9e800455b7d9dd6', 'message': 'Add missing fetch-validations role in post.yaml\n\nChange-Id: I6db7ffc6af572e8d1ff4e587bef0c7a8ef0a16e9\n'}, {'number': 3, 'created': '2021-05-12 07:40:47.000000000', 'files': ['playbooks/post.yaml', 'playbooks/validations-libs-functional.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/23b15aac793134667441c2b789543111a1aca5af', 'message': 'Move fetch_validations role from validations-libs-functional to post playbook\n\nChange-Id: I6db7ffc6af572e8d1ff4e587bef0c7a8ef0a16e9\n'}]",2,789721,23b15aac793134667441c2b789543111a1aca5af,15,6,3,16515,,,0,"Move fetch_validations role from validations-libs-functional to post playbook

Change-Id: I6db7ffc6af572e8d1ff4e587bef0c7a8ef0a16e9
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/21/789721/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/post.yaml'],1,7fdccea37367ef81e5c456a862e714d10aec6722,ci/fetch/logs, - fetch_validations,,1,0
openstack%2Ftenks~master~Ida85adca948664d7d4427edd6c3ab15fd75fb3fe,openstack/tenks,master,Ida85adca948664d7d4427edd6c3ab15fd75fb3fe,Update pip and setuptools before installing requirements,MERGED,2021-05-17 13:15:16.000000000,2021-05-17 16:39:05.000000000,2021-05-17 16:37:40.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 13:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/f79eb7360ee33ad2dce3d256d355e2ac2e48c84c', 'message': 'Update pip and setuptools before installing requirements\n\nChange-Id: Ida85adca948664d7d4427edd6c3ab15fd75fb3fe\n'}, {'number': 2, 'created': '2021-05-17 13:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/f49e67a769e802f48207adfd54ad7f96a091b3c0', 'message': 'Update pip and setuptools before installing requirements\n\nChange-Id: Ida85adca948664d7d4427edd6c3ab15fd75fb3fe\n'}, {'number': 3, 'created': '2021-05-17 14:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/a0680b4fe530773875fd0f37a7438b75c0bcc8fc', 'message': 'Update pip and setuptools before installing requirements\n\nChange-Id: Ida85adca948664d7d4427edd6c3ab15fd75fb3fe\n'}, {'number': 4, 'created': '2021-05-17 16:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/a8126a1d590018482664146c8f86c077246ad279', 'message': ""Update pip and setuptools before installing requirements\n\nWe are seeing the kayobe-overcloud-ubuntu-focal CI job fail while\ndeploying Tenks with:\n\n    ModuleNotFoundError: No module named 'pkg_resources.extern.six'\n\nUpdating pip and setuptools appears to fix it.\n\nChange-Id: Ida85adca948664d7d4427edd6c3ab15fd75fb3fe\n""}, {'number': 5, 'created': '2021-05-17 16:13:42.000000000', 'files': ['ansible/roles/ironic-enrolment/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tenks/commit/6f304c81e2c5fbc2785424e377ff231a1a061885', 'message': ""Update pip and setuptools before installing requirements\n\nWe are seeing the kayobe-overcloud-ubuntu-focal CI job fail while\ndeploying Tenks with:\n\n    ModuleNotFoundError: No module named 'pkg_resources.extern.six'\n\nUpdating pip and setuptools to the latest allowed in upper constraints\nappears to fix it.\n\nChange-Id: Ida85adca948664d7d4427edd6c3ab15fd75fb3fe\n""}]",0,791751,6f304c81e2c5fbc2785424e377ff231a1a061885,15,3,5,15197,,,0,"Update pip and setuptools before installing requirements

We are seeing the kayobe-overcloud-ubuntu-focal CI job fail while
deploying Tenks with:

    ModuleNotFoundError: No module named 'pkg_resources.extern.six'

Updating pip and setuptools to the latest allowed in upper constraints
appears to fix it.

Change-Id: Ida85adca948664d7d4427edd6c3ab15fd75fb3fe
",git fetch https://review.opendev.org/openstack/tenks refs/changes/51/791751/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ironic-enrolment/tasks/main.yml'],1,f79eb7360ee33ad2dce3d256d355e2ac2e48c84c,,"- name: Ensure the latest versions of pip and setuptools are installed pip: name: ""{{ item.name }}"" state: latest virtualenv: ""{{ ironic_virtualenv_path }}"" with_items: - { name: pip } - { name: setuptools } ",,9,0
openstack%2Freleases~master~I9d785ea7bb93704848d5e2a3c0aca75aa9f57172,openstack/releases,master,I9d785ea7bb93704848d5e2a3c0aca75aa9f57172,Release sushy-tools 0.16.0,MERGED,2021-05-17 09:31:14.000000000,2021-05-17 16:38:17.000000000,2021-05-17 16:38:17.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-17 09:31:14.000000000', 'files': ['deliverables/_independent/sushy-tools.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1b7a26958652e514775e398cb57c36ab4f79f88b', 'message': 'Release sushy-tools 0.16.0\n\nChange-Id: I9d785ea7bb93704848d5e2a3c0aca75aa9f57172\n'}]",0,791706,1b7a26958652e514775e398cb57c36ab4f79f88b,9,7,1,1926,,,0,"Release sushy-tools 0.16.0

Change-Id: I9d785ea7bb93704848d5e2a3c0aca75aa9f57172
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/791706/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/sushy-tools.yaml'],1,1b7a26958652e514775e398cb57c36ab4f79f88b,, - version: 0.16.0 projects: - repo: openstack/sushy-tools hash: b6542f6e8ef805773c63db974ce51b5be588903f,,4,0
openstack%2Ftripleo-image-elements~master~I3c421a7088c60d3f692cda424163a8401587ddc9,openstack/tripleo-image-elements,master,I3c421a7088c60d3f692cda424163a8401587ddc9,Removed 70-clear-net-ifnames file to use old network naming,ABANDONED,2021-05-17 04:57:59.000000000,2021-05-17 16:23:55.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-17 04:57:59.000000000', 'files': ['elements/interface-names/install.d/70-clear-net-ifnames'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/71f707f9e85359ae35cd62543e8018cffa14cf27', 'message': 'Removed 70-clear-net-ifnames file to use old network naming\n\nnet.ifnames = 0 will disable Predictable Network Interface\nsetting.\n\nRelated-Bug: #1928255\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I3c421a7088c60d3f692cda424163a8401587ddc9\n'}]",1,791635,71f707f9e85359ae35cd62543e8018cffa14cf27,6,4,1,30750,,,0,"Removed 70-clear-net-ifnames file to use old network naming

net.ifnames = 0 will disable Predictable Network Interface
setting.

Related-Bug: #1928255

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I3c421a7088c60d3f692cda424163a8401587ddc9
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/35/791635/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/interface-names/install.d/70-clear-net-ifnames'],1,71f707f9e85359ae35cd62543e8018cffa14cf27,lp_1928255,,#!/bin/bash set -eux set -o pipefail if [ -f /etc/default/grub ]; then # net.ifacenames is defined and set to 0 starting with RHEL8. # This is a change from RHEL7 which can affect network configurations. sed -i 's/net.ifnames=0//g' /etc/default/grub fi ,0,10
openstack%2Fpaunch~stable%2Frocky~Icb5b949c0d9cd41328e1af3d4ec3066d6971c6fd,openstack/paunch,stable/rocky,Icb5b949c0d9cd41328e1af3d4ec3066d6971c6fd,[QUEENS and ROCKY Only] Always do a image pull,ABANDONED,2020-12-01 06:17:56.000000000,2021-05-17 16:21:57.000000000,,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-01 06:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/ba4cfea2abb86bc49af443ee5c1b331098daac13', 'message': ""[QUEENS and ROCKY Only] Always do a image pull\n\nIn queens and rocky we use paunch to manage the images and containers. Container\nimages are not updated if the image has changed but the container tag\nhas not because we simply check if the container exists on disk. This\nchange drops the exists check and just issues a pull for all containers\nto ensure they are up to date. In newer versions we always pre-fetch the\ncontainers as part of the deployment so we don't need to do this\nimage management in paunch (or ansible).\n\nChange-Id: Icb5b949c0d9cd41328e1af3d4ec3066d6971c6fd\nCloses-Bug: #1895974\n(cherry picked from commit e2306816b1e0efa5f3062236080435179599d8b1)\n""}, {'number': 2, 'created': '2020-12-01 07:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/917b9152a3a17b51a3aad28ab37961ce5d8c0f6c', 'message': ""[QUEENS and ROCKY Only] Always do a image pull\n\nIn queens and rocky we use paunch to manage the images and containers. Container\nimages are not updated if the image has changed but the container tag\nhas not because we simply check if the container exists on disk. This\nchange drops the exists check and just issues a pull for all containers\nto ensure they are up to date. In newer versions we always pre-fetch the\ncontainers as part of the deployment so we don't need to do this\nimage management in paunch (or ansible).\n\nChange-Id: Icb5b949c0d9cd41328e1af3d4ec3066d6971c6fd\nCloses-Bug: #1895974\n(cherry picked from commit e2306816b1e0efa5f3062236080435179599d8b1)\n""}, {'number': 3, 'created': '2020-12-01 07:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/033cffbe00a24be8801a553e7b07b44f465ba825', 'message': ""[QUEENS and ROCKY Only] Always do a image pull\n\nIn queens and rocky we use paunch to manage the images and containers. Container\nimages are not updated if the image has changed but the container tag\nhas not because we simply check if the container exists on disk. This\nchange drops the exists check and just issues a pull for all containers\nto ensure they are up to date. In newer versions we always pre-fetch the\ncontainers as part of the deployment so we don't need to do this\nimage management in paunch (or ansible).\n\nChange-Id: Icb5b949c0d9cd41328e1af3d4ec3066d6971c6fd\nCloses-Bug: #1895974\n(cherry picked from commit e2306816b1e0efa5f3062236080435179599d8b1)\n""}, {'number': 4, 'created': '2020-12-01 10:05:44.000000000', 'files': ['paunch/tests/test_builder_compose1.py', 'paunch/builder/compose1.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/51de3be6dade876d5453682fe2ebd2e541fdd252', 'message': ""[QUEENS and ROCKY Only] Always do a image pull\n\nIn queens and rocky we use paunch to manage the images and containers. Container\nimages are not updated if the image has changed but the container tag\nhas not because we simply check if the container exists on disk. This\nchange drops the exists check and just issues a pull for all containers\nto ensure they are up to date. In newer versions we always pre-fetch the\ncontainers as part of the deployment so we don't need to do this\nimage management in paunch (or ansible).\n\nChange-Id: Icb5b949c0d9cd41328e1af3d4ec3066d6971c6fd\nCloses-Bug: #1895974\n(cherry picked from commit e2306816b1e0efa5f3062236080435179599d8b1)\n""}]",0,764901,51de3be6dade876d5453682fe2ebd2e541fdd252,16,5,4,32750,,,0,"[QUEENS and ROCKY Only] Always do a image pull

In queens and rocky we use paunch to manage the images and containers. Container
images are not updated if the image has changed but the container tag
has not because we simply check if the container exists on disk. This
change drops the exists check and just issues a pull for all containers
to ensure they are up to date. In newer versions we always pre-fetch the
containers as part of the deployment so we don't need to do this
image management in paunch (or ansible).

Change-Id: Icb5b949c0d9cd41328e1af3d4ec3066d6971c6fd
Closes-Bug: #1895974
(cherry picked from commit e2306816b1e0efa5f3062236080435179599d8b1)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/01/764901/4 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_builder_compose1.py', 'paunch/builder/compose1.py']",2,ba4cfea2abb86bc49af443ee5c1b331098daac13,,," # only pull if the image does not exist locally if self.runner.inspect(image, format='exists', type='image'): continue ",13,42
openstack%2Ftripleo-quickstart-extras~master~I2b7f00b8c9b56ba38c271de90fadac3fdd85fcfe,openstack/tripleo-quickstart-extras,master,I2b7f00b8c9b56ba38c271de90fadac3fdd85fcfe,"Revert ""Static OVN bridge mac mappings for standalone""",MERGED,2021-05-14 21:20:40.000000000,2021-05-17 16:07:32.000000000,2021-05-17 16:07:32.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-14 21:20:40.000000000', 'files': ['roles/standalone-upgrade/templates/standalone_config.yaml.j2', 'roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/903f1927dc554407dc2987592847b411c91456e3', 'message': 'Revert ""Static OVN bridge mac mappings for standalone""\n\nThis reverts commit 7317b44130f40a3ef8add4aaf9ff5debaf380652.\n\nReason for revert:\nNo longer required since change: I79d141358ead2a2c90fdb728e17926d96d498a28 we now do it in TripleO client.\n\nChange-Id: I2b7f00b8c9b56ba38c271de90fadac3fdd85fcfe\n'}]",0,791474,903f1927dc554407dc2987592847b411c91456e3,8,6,1,24245,,,0,"Revert ""Static OVN bridge mac mappings for standalone""

This reverts commit 7317b44130f40a3ef8add4aaf9ff5debaf380652.

Reason for revert:
No longer required since change: I79d141358ead2a2c90fdb728e17926d96d498a28 we now do it in TripleO client.

Change-Id: I2b7f00b8c9b56ba38c271de90fadac3fdd85fcfe
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/74/791474/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone-upgrade/templates/standalone_config.yaml.j2', 'roles/standalone/templates/standalone_config.yaml.j2']",2,903f1927dc554407dc2987592847b411c91456e3,network-data-v2,," OVNStaticBridgeMacMappings: {% set physnets = [] %} {% for sub in standalone_neutron_bridge_mappings.split(',') %} {% set _ = physnets.append(sub.split(':')[0]) %} {% endfor %} {{ standalone_hostname.split('.')[0] }}: {% for physnet in physnets %} {{ physnet }}: {{ ""fa:16:3a:00:53:"" + '%02x' % loop.index }} {% endfor %}",0,18
openstack%2Foctavia~master~Ieeb08170198126e8e2b2d3c62c2e2308fe458c26,openstack/octavia,master,Ieeb08170198126e8e2b2d3c62c2e2308fe458c26,Fix config loading,ABANDONED,2021-05-12 22:32:14.000000000,2021-05-17 16:06:32.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 22:32:14.000000000', 'files': ['octavia/controller/worker/amphora_rate_limit.py', 'octavia/amphorae/backends/agent/agent_jinja_cfg.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d79a2a7a16bdf5f1e915dd76e9bc2543ad1d94ab', 'message': 'Fix config loading\n\nThis patch corrects a few areas in the code that was incorrectly\nimporting configuration settings. This patch will reduce the health\nmanager memory usage by 27MB for branches with the amphora v2 driver.\n\nChange-Id: Ieeb08170198126e8e2b2d3c62c2e2308fe458c26\n'}]",0,791056,d79a2a7a16bdf5f1e915dd76e9bc2543ad1d94ab,3,2,1,11628,,,0,"Fix config loading

This patch corrects a few areas in the code that was incorrectly
importing configuration settings. This patch will reduce the health
manager memory usage by 27MB for branches with the amphora v2 driver.

Change-Id: Ieeb08170198126e8e2b2d3c62c2e2308fe458c26
",git fetch https://review.opendev.org/openstack/octavia refs/changes/56/791056/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/agent_jinja_cfg.py', 'octavia/controller/worker/amphora_rate_limit.py']",2,d79a2a7a16bdf5f1e915dd76e9bc2543ad1d94ab,,,"CONF.import_group('haproxy_amphora', 'octavia.common.config')",1,2
openstack%2Fpuppet-openstack_spec_helper~master~I90072de2e45b42e0e5f3d26d227546d145ed1baf,openstack/puppet-openstack_spec_helper,master,I90072de2e45b42e0e5f3d26d227546d145ed1baf,setup.cfg: Replace dashes with underscores,MERGED,2021-05-12 01:13:23.000000000,2021-05-17 16:04:04.000000000,2021-05-17 16:04:04.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-05-12 01:13:23.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/eebe588d3529ab8cc68a5f12cde5066c27877e6b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I90072de2e45b42e0e5f3d26d227546d145ed1baf\n""}]",0,790869,eebe588d3529ab8cc68a5f12cde5066c27877e6b,9,4,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I90072de2e45b42e0e5f3d26d227546d145ed1baf
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/69/790869/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,eebe588d3529ab8cc68a5f12cde5066c27877e6b,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/,3,3
openstack%2Fpuppet-openstack-guide~master~I8d827447959b303f76faa724a4cca187c2183c86,openstack/puppet-openstack-guide,master,I8d827447959b303f76faa724a4cca187c2183c86,setup.cfg: Replace dashes with underscores,MERGED,2021-05-12 01:17:43.000000000,2021-05-17 16:02:12.000000000,2021-05-17 16:00:49.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-05-12 01:17:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/ff0d66666b2d7218f58cae3ff383d6f6c2d23594', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I8d827447959b303f76faa724a4cca187c2183c86\n""}]",0,790873,ff0d66666b2d7218f58cae3ff383d6f6c2d23594,10,4,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I8d827447959b303f76faa724a4cca187c2183c86
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/73/790873/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ff0d66666b2d7218f58cae3ff383d6f6c2d23594,setup-cfg,description_file =author_email = openstack@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest/,description-file =author-email = openstack@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest/,3,3
openstack%2Fpuppet-openstack-specs~master~If7868cf76dd5534297c551f18b8b8acd01904965,openstack/puppet-openstack-specs,master,If7868cf76dd5534297c551f18b8b8acd01904965,setup.cfg: Replace dashes with underscores,MERGED,2021-05-12 01:16:29.000000000,2021-05-17 16:02:04.000000000,2021-05-17 16:00:54.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-05-12 01:16:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-specs/commit/b4cfaff289b9ab81adf2bf22bc391573cfaf093f', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: If7868cf76dd5534297c551f18b8b8acd01904965\n""}]",0,790871,b4cfaff289b9ab81adf2bf22bc391573cfaf093f,10,4,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: If7868cf76dd5534297c551f18b8b8acd01904965
",git fetch https://review.opendev.org/openstack/puppet-openstack-specs refs/changes/71/790871/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b4cfaff289b9ab81adf2bf22bc391573cfaf093f,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://specs.openstack.org/openstack/puppet-openstack-specs/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://specs.openstack.org/openstack/puppet-openstack-specs/,3,3
openstack%2Fpuppet-keystone~stable%2Ftrain~Iba6b8b16a2aa5e9a8ebbcc297f659767a5ce64af,openstack/puppet-keystone,stable/train,Iba6b8b16a2aa5e9a8ebbcc297f659767a5ce64af,Add missing dependencies about keystone_puppet_config,ABANDONED,2021-01-05 23:49:11.000000000,2021-05-17 15:51:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-05 23:49:11.000000000', 'files': ['manifests/deps.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/1437d0b563c4c2751ab342170d9c842037c59178', 'message': 'Add missing dependencies about keystone_puppet_config\n\nThe keystone_puppet_config should be generated during configuration\nphase, otherwise some resources which requires access to Keystone\napi fails.\n\nChange-Id: Iba6b8b16a2aa5e9a8ebbcc297f659767a5ce64af\n(cherry picked from commit 92101bda25d4ff0c45e49209836acdac381e5945)\n(cherry picked from commit e5c63e707d9e279ec64cb97f278f5673cc91b250)\n(cherry picked from commit abb78e88c3ec18182cd4dc7eea8ea436402dcc64)\n'}]",0,769370,1437d0b563c4c2751ab342170d9c842037c59178,3,1,1,9816,,,0,"Add missing dependencies about keystone_puppet_config

The keystone_puppet_config should be generated during configuration
phase, otherwise some resources which requires access to Keystone
api fails.

Change-Id: Iba6b8b16a2aa5e9a8ebbcc297f659767a5ce64af
(cherry picked from commit 92101bda25d4ff0c45e49209836acdac381e5945)
(cherry picked from commit e5c63e707d9e279ec64cb97f278f5673cc91b250)
(cherry picked from commit abb78e88c3ec18182cd4dc7eea8ea436402dcc64)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/70/769370/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/deps.pp'],1,1437d0b563c4c2751ab342170d9c842037c59178,missing-dependency-stable/victoria-stable/ussuri-stable/train, # credential file for keystone api access should be generated during # configuration phase Anchor['keystone::config::begin'] -> Keystone_puppet_config<||> ~> Anchor['keystone::config::end'] ,,6,0
openstack%2Fopenstacksdk~master~I52e9f5d888a242ec564b90c8caac86ae02e8f596,openstack/openstacksdk,master,I52e9f5d888a242ec564b90c8caac86ae02e8f596,Add compute microversion 2.79,MERGED,2021-05-12 06:07:35.000000000,2021-05-17 15:45:41.000000000,2021-05-17 15:43:50.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-12 06:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/55f3b9be1ff20f51f0b050ad55e33fcde535a64e', 'message': 'Add compute microversion 2.79\n\nCompute 2.79 [1] added support for specifying the delete_on_termination\nfield in the request body, which configures whether a volume is deleted\nwhen the server is destroyed.\n\n[1] https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#maximum-in-train\n\nChange-Id: I52e9f5d888a242ec564b90c8caac86ae02e8f596\n'}, {'number': 2, 'created': '2021-05-12 16:26:12.000000000', 'files': ['openstack/compute/v2/volume_attachment.py', 'openstack/tests/unit/compute/v2/test_volume_attachment.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3fd70ddc0522bea26986694113c7df7fd260c5bf', 'message': 'Add compute microversion 2.79\n\nCompute 2.79 [1] added support for specifying the delete_on_termination\nfield in the request body, which configures whether a volume is deleted\nwhen the server is destroyed.\n\n[1] https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#maximum-in-train\n\nChange-Id: I52e9f5d888a242ec564b90c8caac86ae02e8f596\n'}]",3,790900,3fd70ddc0522bea26986694113c7df7fd260c5bf,13,3,2,33012,,,0,"Add compute microversion 2.79

Compute 2.79 [1] added support for specifying the delete_on_termination
field in the request body, which configures whether a volume is deleted
when the server is destroyed.

[1] https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#maximum-in-train

Change-Id: I52e9f5d888a242ec564b90c8caac86ae02e8f596
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/00/790900/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/volume_attachment.py', 'openstack/tests/unit/compute/v2/test_volume_attachment.py']",2,55f3b9be1ff20f51f0b050ad55e33fcde535a64e,compute-microversion-279," 'delete_on_termination': 'true', self.assertEqual(EXAMPLE['delete_on_termination'], sot.delete_on_termination)",,6,1
openstack%2Ftripleo-image-elements~master~Ie61b33264a8a59a611ad8350c38f15c7b84264c7,openstack/tripleo-image-elements,master,Ie61b33264a8a59a611ad8350c38f15c7b84264c7,Clean up all stale ifcfg in the image,ABANDONED,2021-05-17 14:51:05.000000000,2021-05-17 15:45:30.000000000,,[],"[{'number': 1, 'created': '2021-05-17 14:51:05.000000000', 'files': ['elements/interface-names/install.d/71-clean-stale-interface'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/bf9bd9a7656236239c3a87f3bde7ab6bcfc875f2', 'message': 'Clean up all stale ifcfg in the image\n\nDelete eth*, en*, em* ifcfk files in the image.\n\nCloses-Bug: #1928255\nChange-Id: Ie61b33264a8a59a611ad8350c38f15c7b84264c7\n'}]",0,791762,bf9bd9a7656236239c3a87f3bde7ab6bcfc875f2,2,0,1,24245,,,0,"Clean up all stale ifcfg in the image

Delete eth*, en*, em* ifcfk files in the image.

Closes-Bug: #1928255
Change-Id: Ie61b33264a8a59a611ad8350c38f15c7b84264c7
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/62/791762/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/interface-names/install.d/71-clean-stale-interface'],1,bf9bd9a7656236239c3a87f3bde7ab6bcfc875f2,bug/1928255,# Clean up any hardcoded interface files in the image rm -f /etc/sysconfig/network-scripts/ifcfg-en* rm -f /etc/sysconfig/network-scripts/ifcfg-eth* rm -f /etc/sysconfig/network-scripts/ifcfg-em*,# https://bugs.centos.org/view.php?id=17133 if ls /etc/sysconfig/network-scripts/ifcfg-ens3* &> /dev/null; then rm -f /etc/sysconfig/network-scripts/ifcfg-ens3* fi,4,4
openstack%2Fpython-tripleoclient~master~I24612700bcbd3e17685ae7a33a27f38a2055a0fb,openstack/python-tripleoclient,master,I24612700bcbd3e17685ae7a33a27f38a2055a0fb,Too broad exceptions replaced with altenatives.,MERGED,2021-05-14 14:45:46.000000000,2021-05-17 15:36:58.000000000,2021-05-17 15:35:31.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-14 14:45:46.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/scale.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/export.py', 'tripleoclient/v1/overcloud_netenv_validate.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a1aadd37d7fefd62e7628b59355cd60f1b830760', 'message': 'Too broad exceptions replaced with altenatives.\n\nBlocks catching base Exception were replaced\nwith more constrained alternatives where possible.\n\nAlternatives were chosen based on exceptions possibly\nraised by calls within the `try` clause.\n\nLogs were altered to reflect new situation.\nstring method format was used for new log calls.\n\nUnit tests were adjusted accordingly.\n\nThis patch may cause uptick in unhadled exceptions,\nas previously ""hidden"" issues become apparent.\n\nIncrease in the number of exceptions capture,\nincluding potential hunk revert should be done with care however.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I24612700bcbd3e17685ae7a33a27f38a2055a0fb\n'}]",0,791499,a1aadd37d7fefd62e7628b59355cd60f1b830760,11,10,1,32926,,,0,"Too broad exceptions replaced with altenatives.

Blocks catching base Exception were replaced
with more constrained alternatives where possible.

Alternatives were chosen based on exceptions possibly
raised by calls within the `try` clause.

Logs were altered to reflect new situation.
string method format was used for new log calls.

Unit tests were adjusted accordingly.

This patch may cause uptick in unhadled exceptions,
as previously ""hidden"" issues become apparent.

Increase in the number of exceptions capture,
including potential hunk revert should be done with care however.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I24612700bcbd3e17685ae7a33a27f38a2055a0fb
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/99/791499/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/workflows/scale.py', 'tripleoclient/utils.py', 'tripleoclient/export.py', 'tripleoclient/v1/overcloud_netenv_validate.py', 'tripleoclient/v1/overcloud_deploy.py']",7,a1aadd37d7fefd62e7628b59355cd60f1b830760,broadexceptions, except oscexc.CommandError as e:, except Exception as e:,27,18
openstack%2Fkuryr-kubernetes~master~I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6,openstack/kuryr-kubernetes,master,I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6,Include log when lb is in pending state,NEW,2021-05-01 10:16:48.000000000,2021-05-17 15:34:24.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-05-01 10:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/617c5842be41b993796ca34522a2b7f4c179f041', 'message': 'Include log when lb is in pending state\n\nWhen octavia is misbehaving there should be a proper log stating\nthat the lb is stuck and in pending update status.\n\nChange-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6\n'}, {'number': 2, 'created': '2021-05-01 10:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b6410b20dd016a17a2888660332df82fcbf36bfa', 'message': 'Include log when lb is in pending state\n\nWhen octavia is misbehaving there should be a proper log stating\nthat the lb is stuck and in pending update status.\n\nCloses-bug: 1918711\nChange-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6\n'}, {'number': 3, 'created': '2021-05-01 18:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/160f5604babd1b552b8f853b2ac31a4d20b5abbd', 'message': 'Include log when lb is in pending state\n\nWhen Octavia is misbehaving there should be a proper log stating\nthat the lb is stuck and in pending update status.\n\nCloses-bug: 1918711\nChange-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6\n'}, {'number': 4, 'created': '2021-05-02 09:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b27cc789ad13851dfa0564d459d6cc0fe3bd95f1', 'message': 'Include log when lb is in pending state\n\nWhen Octavia is misbehaving there should be a proper log stating\nthat the lb is stuck and in pending update status.\n\nCloses-bug: 1918711\nChange-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6\n'}, {'number': 5, 'created': '2021-05-02 15:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4d287e3e86a0053b27d71bb17fc2febd11d32352', 'message': 'Include log when lb is in pending state\n\nWhen Octavia is misbehaving there should be a proper log stating\nthat the lb is stuck and in pending update status.\n\nCloses-bug: 1918711\nChange-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6\n'}, {'number': 6, 'created': '2021-05-06 07:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/02e576ee1609e0b51dc85fcd6a811f6dfcf98e38', 'message': 'Include log when lb is in pending state\n\nWhen Octavia is misbehaving there should be a proper log stating\nthat the lb is stuck and in pending update status.\n\nCloses-bug: 1918711\nChange-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6\n'}, {'number': 7, 'created': '2021-05-07 08:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/30ab45916953f0f59c1f88b5ea9dacd2216ea6c6', 'message': 'Include log when lb is in pending state\n\nWhen Octavia is misbehaving there should be a proper log stating\nthat the lb is stuck and in pending update status.\n\nCloses-bug: 1918711\nChange-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6\n'}, {'number': 8, 'created': '2021-05-07 16:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/33b3e69ebfab6337bac0ea8574e4fc64ecd091dc', 'message': 'Include log when lb is in pending state\n\nWhen Octavia is misbehaving there should be a proper log stating\nthat the lb is stuck and in pending update status.\n\nCloses-bug: 1918711\nChange-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6\n'}, {'number': 9, 'created': '2021-05-11 13:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/64232a646162f8f27933fb96c294c4e1928a530e', 'message': 'Include log when lb is in pending state\n\nWhen Octavia is misbehaving there should be a proper log stating\nthat the lb is stuck and in pending update status.\n\nCloses-bug: 1918711\nChange-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6\n'}, {'number': 10, 'created': '2021-05-11 15:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/237b55d7289ff4b43072009b4fa9e2c175441a0a', 'message': 'Include log when lb is in pending state\n\nWhen Octavia is misbehaving there should be a proper log stating\nthat the lb is stuck and in pending update status.\n\nCloses-bug: 1918711\nChange-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6\n'}, {'number': 11, 'created': '2021-05-12 14:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1f0f0566ad1842d640cc44e11e55d1dfd1226f8d', 'message': 'Include log when lb is in pending state\n\nWhen Octavia is misbehaving there should be a proper log stating\nthat the lb is stuck and in pending update status.\n\nCloses-bug: 1918711\nChange-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6\n'}, {'number': 12, 'created': '2021-05-12 16:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fdf27a665f19d0d59b012261204c38caef5d2e36', 'message': 'Include log when lb is in pending state\n\nWhen Octavia is misbehaving there should be a proper log stating\nthat the lb is stuck and in pending update status.\n\nCloses-bug: 1918711\nChange-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6\n'}, {'number': 13, 'created': '2021-05-17 08:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c1c032cc2e4ab52fcb9c91b22e2af507f8b04861', 'message': 'Include log when lb is in pending state\n\nWhen Octavia is misbehaving there should be a proper log stating\nthat the lb is stuck and is in pending update status.\n\nCloses-bug: 1918711\nChange-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6\n'}, {'number': 14, 'created': '2021-05-17 13:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8fa5daad4dd53a01db3ab500214af17a779ee67d', 'message': 'Include log when lb is in pending state\n\nWhen Octavia is misbehaving there should be a proper log stating\nthat the lb is stuck and is in pending update status.\n\nCloses-bug: 1918711\nChange-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6\n'}, {'number': 15, 'created': '2021-05-17 13:29:20.000000000', 'files': ['kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/33d76bd0a00b9699c792d92263f29a3fedfe680c', 'message': 'Include log when lb is in pending state\n\nWhen Octavia is misbehaving there should be a proper log stating\nthat the lb is stuck and is in pending update status.\n\nCloses-bug: 1918711\nChange-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6\n'}]",27,789052,33d76bd0a00b9699c792d92263f29a3fedfe680c,48,4,15,33375,,,0,"Include log when lb is in pending state

When Octavia is misbehaving there should be a proper log stating
that the lb is stuck and is in pending update status.

Closes-bug: 1918711
Change-Id: I7e97bb5ee8341f5724b3a1cfe9e6f2939f5ccfb6
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/52/789052/10 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/lbaasv2.py'],1,617c5842be41b993796ca34522a2b7f4c179f041,bug/1918711," elif status == 'PENDING_UPDATE': LOG.error(""Octavia is misbehaving hence LB is stuck in pending state"", loadbalancer['id']) self.release_loadbalancer(loadbalancer) utils.clean_lb_crd_status(loadbalancer['name']) return None", raise k_exc.ResourceNotReady(loadbalancer) ,6,2
openstack%2Ftripleo-quickstart-extras~master~Ib1aaacbfa001ebb544b0decd38d5789df16e35e7,openstack/tripleo-quickstart-extras,master,Ib1aaacbfa001ebb544b0decd38d5789df16e35e7,Add exclude_containers in container-build role,MERGED,2021-05-11 09:10:26.000000000,2021-05-17 15:26:21.000000000,2021-05-17 15:26:21.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-05-11 09:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f9fc445faf973bab675647b04a471ed04371d662', 'message': 'Add exclude_containers in container-build role\n\nFor content-provider jobs we use tqe container-build to build\ncontainers, We are not passing tripleo_container_image_build_excludes\nin [0] This is causing bug[1], default value is an empty list [2].\n\nIn Old container image build workflow(build-containers role toci)\nwe were setting excludes here[3] defined in vars[4]\n\nAdding same vars[4] in container-build role and passing\ntripleo_container_image_build_excludes during image build.\n\n[0] https://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/container-build/tasks/main.yaml#L86-L97\n[1] https://bugs.launchpad.net/tripleo/+bug/1926160\n[2] https://opendev.org/openstack/tripleo-operator-ansible/src/branch/master/roles/tripleo_container_image_build/defaults/main.yml#L10\n[3] https://opendev.org/openstack/tripleo-ci/src/branch/master/roles/build-containers/templates/tripleo-build.sh.j2#L67-L69\n[4] https://github.com/openstack/tripleo-ci/blob/master/roles/build-containers/vars/main.yaml#L15-L52\n\nCloses-Bug: #1926160\nChange-Id: Ib1aaacbfa001ebb544b0decd38d5789df16e35e7\n'}, {'number': 2, 'created': '2021-05-12 03:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/863badccc13ed2fe3d1d048ca4a2372ead6ee30b', 'message': 'Add exclude_containers in container-build role\n\nFor content-provider jobs we use tqe container-build to build\ncontainers, We are not passing tripleo_container_image_build_excludes\nin [0] This is causing bug[1], default value is an empty list [2].\n\nIn Old container image build workflow(build-containers role toci)\nwe were setting excludes here[3] defined in vars[4]\n\nImporting vars from build-containers in container-build and including\ntripleo_container_image_build_excludes.\n\n[0] https://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/container-build/tasks/main.yaml#L86-L97\n[1] https://bugs.launchpad.net/tripleo/+bug/1926160\n[2] https://opendev.org/openstack/tripleo-operator-ansible/src/branch/master/roles/tripleo_container_image_build/defaults/main.yml#L10\n[3] https://opendev.org/openstack/tripleo-ci/src/branch/master/roles/build-containers/templates/tripleo-build.sh.j2#L67-L69\n[4] https://github.com/openstack/tripleo-ci/blob/master/roles/build-containers/vars/main.yaml#L15-L52\n\nCloses-Bug: #1926160\nChange-Id: Ib1aaacbfa001ebb544b0decd38d5789df16e35e7\n'}, {'number': 3, 'created': '2021-05-12 13:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2d714c3d4716331047a7b50511f26383f168c95b', 'message': 'Add exclude_containers in container-build role\n\nFor content-provider jobs we use tqe container-build to build\ncontainers, We are not passing tripleo_container_image_build_excludes\nin [0] This is causing bug[1], default value is an empty list [2].\n\nIn Old container image build workflow(build-containers role toci)\nwe were setting excludes here[3] defined in vars[4]\n\nImporting vars from build-containers in container-build and including\ntripleo_container_image_build_excludes.\n\n[0] https://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/container-build/tasks/main.yaml#L86-L97\n[1] https://bugs.launchpad.net/tripleo/+bug/1926160\n[2] https://opendev.org/openstack/tripleo-operator-ansible/src/branch/master/roles/tripleo_container_image_build/defaults/main.yml#L10\n[3] https://opendev.org/openstack/tripleo-ci/src/branch/master/roles/build-containers/templates/tripleo-build.sh.j2#L67-L69\n[4] https://github.com/openstack/tripleo-ci/blob/master/roles/build-containers/vars/main.yaml#L15-L52\n\nCloses-Bug: #1926160\nChange-Id: Ib1aaacbfa001ebb544b0decd38d5789df16e35e7\n'}, {'number': 4, 'created': '2021-05-12 14:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5f0adae580d61a9e3418eeb912880dd91b4863ae', 'message': 'Add exclude_containers in container-build role\n\nFor content-provider jobs we use container-build role to build\ncontainers, We are not passing tripleo_container_image_build_excludes\nin [0] this is causing bug[1] as the default value is an empty list[2].\n\nIn old container image build workflow(build-containers role(toci))\nwe were setting excludes here[3] defined in vars[4]\n\nTo avoid duplication of exclude list, Importing vars from\nbuild-containers to get access to ""exclude_containers"" and importing\ntask set_ci_branch.yml to get access to ""ci_branch"" var needed to set\n""branch"" var.\n\n[0] https://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/container-build/tasks/main.yaml#L86-L97\n[1] https://bugs.launchpad.net/tripleo/+bug/1926160\n[2] https://opendev.org/openstack/tripleo-operator-ansible/src/branch/master/roles/tripleo_container_image_build/defaults/main.yml#L10\n[3] https://opendev.org/openstack/tripleo-ci/src/branch/master/roles/build-containers/templates/tripleo-build.sh.j2#L67-L69\n[4] https://github.com/openstack/tripleo-ci/blob/master/roles/build-containers/vars/main.yaml#L15-L52\n\nCloses-Bug: #1926160\nChange-Id: Ib1aaacbfa001ebb544b0decd38d5789df16e35e7\n'}, {'number': 5, 'created': '2021-05-14 02:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fb67e51d6575246ec86c028280397c26cca6b640', 'message': 'Add exclude_containers in container-build role\n\nFor content-provider jobs we use container-build role to build\ncontainers, We are not passing tripleo_container_image_build_excludes\nin [0] this is causing bug[1] as the default value is an empty list[2].\n\nIn old container image build workflow(build-containers role(toci))\nwe were setting excludes here[3] defined in vars[4]\n\nTo avoid duplication of exclude list, Importing vars from\nbuild-containers to get access to ""exclude_containers"" and importing\ntask set_ci_branch.yml to get access to ""ci_branch"" var needed to set\n""branch"" var.\n\n[0] https://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/container-build/tasks/main.yaml#L86-L97\n[1] https://bugs.launchpad.net/tripleo/+bug/1926160\n[2] https://opendev.org/openstack/tripleo-operator-ansible/src/branch/master/roles/tripleo_container_image_build/defaults/main.yml#L10\n[3] https://opendev.org/openstack/tripleo-ci/src/branch/master/roles/build-containers/templates/tripleo-build.sh.j2#L67-L69\n[4] https://github.com/openstack/tripleo-ci/blob/master/roles/build-containers/vars/main.yaml#L15-L52\n\nCloses-Bug: #1926160\nChange-Id: Ib1aaacbfa001ebb544b0decd38d5789df16e35e7\n'}, {'number': 6, 'created': '2021-05-14 15:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/826050f658ffab6736601eb64dd62cd758c8ecfb', 'message': 'Add exclude_containers in container-build role\n\nFor content-provider jobs we use container-build role to build\ncontainers, We are not passing tripleo_container_image_build_excludes\nin [0] this is causing bug[1] as the default value is an empty list[2].\n\nIn old container image build workflow(build-containers role(toci))\nwe were setting excludes here[3] defined in vars[4]\n\nTo avoid duplication of exclude list, Importing vars from\nbuild-containers to get access to ""exclude_containers"" and importing\ntask set_ci_branch.yml to get access to ""ci_branch"" var needed to set\n""branch"" var.\n\n[0] https://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/container-build/tasks/main.yaml#L86-L97\n[1] https://bugs.launchpad.net/tripleo/+bug/1926160\n[2] https://opendev.org/openstack/tripleo-operator-ansible/src/branch/master/roles/tripleo_container_image_build/defaults/main.yml#L10\n[3] https://opendev.org/openstack/tripleo-ci/src/branch/master/roles/build-containers/templates/tripleo-build.sh.j2#L67-L69\n[4] https://github.com/openstack/tripleo-ci/blob/master/roles/build-containers/vars/main.yaml#L15-L52\n\nCloses-Bug: #1926160\nChange-Id: Ib1aaacbfa001ebb544b0decd38d5789df16e35e7\n'}, {'number': 7, 'created': '2021-05-17 06:38:52.000000000', 'files': ['roles/container-build/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/368069a8841e2b6e54573976792ba6f2f4263798', 'message': 'Add exclude_containers in container-build role\n\nFor content-provider jobs we use container-build role to build\ncontainers, We are not passing tripleo_container_image_build_excludes\nin [1] this is causing the issue in Closes-bug as the default value is\nan empty list[2].\n\nIn old container image build workflow(build-containers role(toci))\nwe were setting excludes here[3] defined in vars[4]\n\nTo avoid duplication of exclude list, Importing vars from\nbuild-containers to get access to ""exclude_containers"" and importing\ntask set_ci_branch.yml to get access to ""ci_branch"" var needed to set\n""branch"" var.\n\n[1] https://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/container-build/tasks/main.yaml#L86-L97\n[2] https://opendev.org/openstack/tripleo-operator-ansible/src/branch/master/roles/tripleo_container_image_build/defaults/main.yml#L10\n[3] https://opendev.org/openstack/tripleo-ci/src/branch/master/roles/build-containers/templates/tripleo-build.sh.j2#L67-L69\n[4] https://github.com/openstack/tripleo-ci/blob/master/roles/build-containers/vars/main.yaml#L15-L52\n\nCloses-Bug: #1926160\nChange-Id: Ib1aaacbfa001ebb544b0decd38d5789df16e35e7\n'}]",12,790598,368069a8841e2b6e54573976792ba6f2f4263798,43,9,7,29775,,,0,"Add exclude_containers in container-build role

For content-provider jobs we use container-build role to build
containers, We are not passing tripleo_container_image_build_excludes
in [1] this is causing the issue in Closes-bug as the default value is
an empty list[2].

In old container image build workflow(build-containers role(toci))
we were setting excludes here[3] defined in vars[4]

To avoid duplication of exclude list, Importing vars from
build-containers to get access to ""exclude_containers"" and importing
task set_ci_branch.yml to get access to ""ci_branch"" var needed to set
""branch"" var.

[1] https://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/container-build/tasks/main.yaml#L86-L97
[2] https://opendev.org/openstack/tripleo-operator-ansible/src/branch/master/roles/tripleo_container_image_build/defaults/main.yml#L10
[3] https://opendev.org/openstack/tripleo-ci/src/branch/master/roles/build-containers/templates/tripleo-build.sh.j2#L67-L69
[4] https://github.com/openstack/tripleo-ci/blob/master/roles/build-containers/vars/main.yaml#L15-L52

Closes-Bug: #1926160
Change-Id: Ib1aaacbfa001ebb544b0decd38d5789df16e35e7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/98/790598/6 && git format-patch -1 --stdout FETCH_HEAD,"['roles/container-build/tasks/main.yaml', 'roles/container-build/vars/main.yaml']",2,f9fc445faf973bab675647b04a471ed04371d662,bug/1926160,--- exclude_containers: master: &exclude_master_containers - fluentd - opendaylight - neutron-server-opendaylight - neutron-mlnx-agent - nova-serialproxy - sahara-api - sahara-engine - skydive-agent - skydive-analyzer - sensu-client - sensu-base - influxdb - tempest victoria: &exclude_containers - fluentd - opendaylight - neutron-server-opendaylight - neutron-mlnx-agent - nova-serialproxy - sahara-api - sahara-engine - skydive-agent - skydive-analyzer - sensu-client - sensu-base - influxdb ussuri: *exclude_containers train: *exclude_containers stein: - opendaylight - neutron-server-opendaylight queens: - opendaylight - neutron-server-opendaylight rhos-17: *exclude_master_containers rhos-16.2: *exclude_containers tripleo_container_image_build_excludes_list: >- {% if branch in exclude_containers %} exclude_containers[branch] {%- else -%} [] {%- endif -%} ,,46,0
openstack%2Fironic-specs~master~I375ed65feba96aa693efc17b338b5fae401edfbd,openstack/ironic-specs,master,I375ed65feba96aa693efc17b338b5fae401edfbd,Xena themes,MERGED,2021-03-31 17:28:34.000000000,2021-05-17 15:21:26.000000000,2021-05-17 15:19:45.000000000,"[{'_account_id': 4571}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2021-03-31 17:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a31a546a46a047305249774d2cca0612a11f9db3', 'message': 'WIP: Xena priorities\n\nChange-Id: I375ed65feba96aa693efc17b338b5fae401edfbd\n'}, {'number': 2, 'created': '2021-04-26 17:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/542d89fdd331f852252cb6d62c38a7d6f4476540', 'message': ""Xena themes\n\nThis document is an attempt to capture the consensus aspects from\nteam's PTG sessions and to convey the consensus outward.\n\nSome items on the list from the PTG were removed, and wording\nhas also been changed to use the word themes instead of priorities.\n\nChange-Id: I375ed65feba96aa693efc17b338b5fae401edfbd\n""}, {'number': 3, 'created': '2021-04-27 14:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/30e711344336d94a541cbeba05c943065c040ed8', 'message': ""Xena themes\n\nThis document is an attempt to capture the consensus aspects from\nteam's PTG sessions and to convey the consensus outward.\n\nSome items on the list from the PTG were removed, and wording\nhas also been changed to use the word themes instead of priorities.\n\nChange-Id: I375ed65feba96aa693efc17b338b5fae401edfbd\n""}, {'number': 4, 'created': '2021-04-30 14:02:46.000000000', 'files': ['doc/source/index.rst', 'priorities/xena-themes.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d23a4f27623f3c2151f3eae59cfd84fef33c0fd7', 'message': ""Xena themes\n\nThis document is an attempt to capture the consensus aspects from\nteam's PTG sessions and to convey the consensus outward.\n\nSome items on the list from the PTG were removed, and wording\nhas also been changed to use the word themes instead of priorities.\n\nChange-Id: I375ed65feba96aa693efc17b338b5fae401edfbd\n""}]",85,784143,d23a4f27623f3c2151f3eae59cfd84fef33c0fd7,38,12,4,11655,,,0,"Xena themes

This document is an attempt to capture the consensus aspects from
team's PTG sessions and to convey the consensus outward.

Some items on the list from the PTG were removed, and wording
has also been changed to use the word themes instead of priorities.

Change-Id: I375ed65feba96aa693efc17b338b5fae401edfbd
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/43/784143/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'priorities/xena-priorities.rst']",2,a31a546a46a047305249774d2cca0612a11f9db3,,".. _xena-priorities: ======================= Xena Project Priorities ======================= ""Alala"" [#f1]_ .. _alala: During the `Wallaby development cycle <https://specs.openstack.org/openstack/ironic-specs/priorities/wallaby-priorities.html>`_, we had a goal in which ""History favors the bold"". It was clear early on in that development cycle that we just had too much work coming up for contributors, that it simply was not going to be gotten to during the cycle. Unfortunately, it happens and in the grand scheme of things it is good that the community recognized it simply did not have the capacity to push it forward. It is hard lesson to learn. But an important lesson. The theme of that specific work is still true. History does favor the bold. And while we shouldn't have a war cry, much less ever declare war. We should be tactical in our thinking, and execution to meet everyone's needs. Be it operator, contributor, or ultimately end user. And so, it seems the best path is to be bold. For us to charge forth! Declare our vision, and spread the song of our successes. Of course, needs change. Requirements change. But underlying themes should be remembered. Purpose ======= Of course, we all have wants, desires, needs, and hopes. The intention of this document is to convey the priorities for and amongst the community in a published way. Not all of these goals, efforts, and ultimately the features may reach the Wallaby release, nor is it a complete list. It is the list that makes sense to raise visibility of. This is a list of goals the Ironic team is prioritizing for the Wallaby development cycle, in order of relative size with context of our dependencies and roughly referenced against the anticipated sprints and release cycle for the Wallaby development cycle. The primary contact(s) listed are responsible for tracking the status of that work and herding cats to help get that work done. They are not the only contributor(s) to this work, and not necessarily doing most of the coding! They are expected to be available on IRC and the ML for questions, and report status on the whiteboard_ for the weekly IRC sync-up. The number of primary contacts is typically limited to 2-3 individuals to simplify communication. We expect at least one of them to have core privileges to simplify getting changes in. .. _whiteboard: https://etherpad.opendev.org/p/IronicWhiteBoard .. note:: In the interests of keeping our work fun and enjoyable, while continuing to foster community engagement, this document may have a bit of silliness intertwined. It is all okay, we haven't lost all of our sanity, yet. Goals ===== +-------------------------------------+-------------------------+-----------+ | Priority | Primary Contacts | Target | +=====================================+=========================+===========+ | `Being Bold`_ | Ironic Developers, | Theme | | | Baremetal SIG | | +-------------------------------------+-------------------------+-----------+ | `Database performance`_ | TheJulia | Sprint 2 | +-------------------------------------+-------------------------+-----------+ | `Secure RBAC` | TheJulia | Sprint 3 | +-------------------------------------+-------------------------+-----------+ | `History favors the bold`_ | kaifeng, arne_wiebalck | Sprint 2 | +-------------------------------------+-------------------------+-----------+ | `Move to oslo.privsep`_ | iurygregory, rpittau | Sprint 2 | +-------------------------------------+-------------------------+-----------+ | `Anaconda deployment`_ | zer0cool, rpittau | Sprint 3 | +-------------------------------------+-------------------------+-----------+ | `Snapshots`_ | kaifeng, TheJulia | Future | +-------------------------------------+-------------------------+-----------+ | `Security Interface`_ | kaifeng, ljmcgann, | Future | | | rpittau | | +-------------------------------------+-------------------------+-----------+ | `Boot from URL`_ | Multiple contributors | Future | +-------------------------------------+-------------------------+-----------+ Schedule Structure ------------------ The indicator for this schedule is to help provide those reviewing this document a rough idea of when one may anticipate functionality to merge and be released. Things may merge sooner or later. Sprint 1 ++++++++ We anticipate the release from the first sprint to be on the week of May 31st, 2021. This is six weeks after the initial planning week. Sprint 2 ++++++++ The second sprint is anticipated to start the week of June 7th, 2021 and proceed until July 19th, 2021. This is approximately 7 weeks for the second sprint. Sprint 3 ++++++++ After the second sprint release, The third sprint is anticipated to end the week of September 6th. Features and Driver enhancements which are not ""review ready"" will not be considered to hold the release on. This is anticipated to be a window of seven weeks. In essence, this can be viewed as a ""freeze"" but is more of a ""the release train must depart on time"" model. Anticipated release date is September 9th. Post Release Sprint +++++++++++++++++++ After the releease, it seems to be a good time to ensure we've taken of needful and any necessary backports, along with bug triaging, and resolution of any ""low-hanging-fruit"" bugs with major impact. Example being documentation not rendering configuration options, or deployments fail under Y conditions. This time also aligns with the general community shift after releases, where people tend to take some time off to recharge before planning, and the planning steps and discussions take place. This sprint is anticipated to end October 8th, 2021. Additional releases may take place to address bug fixes that need to be backported during this window. The following week is anticipated to be the `Project Teams Gathering <http://ptg.openstack.org/>`_ and the start of the following development cycle. Theme ~~~~~ General thematic work for general improvement in an area fall under the classification of theme. Largely this is work that may run the course of an entire release cycle or longer, where small incremental improvements or related work takes place. Future ~~~~~~ Items in the future which we as a community do not have a firm idea of *when* this may merge. Being on this list does express that interest exists in the community to push this effort forward during the cycle. Goals Details ============= In no particular order... Being Bold ---------- In alignment with our general theme of alala_, it is important for us to be bold, and acknowledge when we do and do not have capacity to push things forward. At the same time, we need to broadcast out. We need to speak of our successes. Our Wins... and Failures. And everything in between. This visibility, can unfortunately make some of uncomfortable, but it takes many forms. Mentorship, Public Speaking, and engagement outside of your day to day primary mission focus. This is also how we grow. How we grow ourselves, along with the community. So be bold, think alala_ and go forth and cross the division. Do the thing which is uncomfortable. Propose the crazy idea. And when the times permit it, get on stage at a local conference, and speak of the experience. For history favors the bold. Database Performance -------------------- During the Xena development cycle, the community driven `Secure RBAC`_ work added additional database interactions with-in the API which has the general effect of improving load upon the database when ``project`` scoped tokens request items. As this is the newe direction for access control in OpenStack, we need to make sure we are not making this a burden for operators with API access activity. Since some configuration patterns, could result in even more activity, depending on how the end operator chooses to configure their deployment. Also during the cycle, one of the larger operators encountered a thundering herd situation. In essence, the database could not keep up. We need to try and be smart to prevent some of these situations from happening, or at least minimize the impact as many operators now also launch services using Kubernetes, which can result in all services coming online at the same moment, an aspect which aggrevates a thundering herd. It should be noted, not all of this is intended to be feature work, as some of the work product will end up being backported to the Wallaby release. Secure RBAC ----------- The community driven Secure RBAC work which has really been underway community wide for a number of years made a large push, also community wide for projects to implement and adopt new policies whilst deprecating their old policies. We anticipate we will seek to remove the old policies during the Xena cycle, however we need to consider `Database Performance`_ and needs of the operator. Secure RBAC is also a fairly new configuration, we may find cross-service bugs or issues, that require additional work. This ultimately was somewhat expected. History favors the bold ----------------------- To boldly go forth, we must provide more insight into error history of nodes. The concept of adding support to record the important events and surface them in a human parsable way has long been under discussion and been a desired feature. It is time we make it happen. This work was started during the Wallaby development cycle but we did not have the capcity to move it forward last cycle. This cycle we ought to finish it. Anaconda deployment ------------------- Some operators are invested in Anaconda configurations and using Anaconda kickstart files to facilitate deployments. More information can be found in `anaconda deployment specification <https://review.opendev.org/748503>`_. This work started during the Wallaby development cycle and continues. It should be wrapped up early in the first sprint as a dependency was identified too late in the Wallaby development cycle to be addressed until Xena. Snapshots --------- A major compatibility gap with Nova's Compute interaction with VMs that is lacking with Ironic baremetal nodes is support for Snapshots. This is a bit of a complex problem which may require an iterative development process. This is presently under discussion and the community is interested in the functionality. Information about this feature can be found in the `snapshot specification document <https://review.opendev.org/746935>`_. Configuration Molds ------------------- Configuration molds is the name being given to the conceptual feature of being able to capture the configuration of a machine, and being able to stamp it out across multiple machines. While Ironic has many of these primitives, we do not have the tooling to help enable the easy act of stamping the configuration as a single action. More information can be found in the `change 740721 <https://review.opendev.org/740721>`_. Move to oslo.privsep -------------------- This effort is being carried over from the prior cycle as it became clear the work required would take longer than time existed for us to move the changes forward. More information can be found in the `migrate to privsep goal <https://governance.openstack.org/tc/goals/proposed/migrate-to-privsep.html>`_ documentation. Replacing WSME -------------- This work area was started in the Victoria cycle with the initial foundation being put in place, and now it is time to move forward on merging this work. Most long time contributors are aware of the headaches that WSME has brought the community, along with the fact that many projects have migrated away from it. In order to move us to something which is supported by a broader community, the consensus from the Train Project Teams Gathering, was to move Ironic towards using Flask. We'll start with re-working a single endpoint and hopefully move through the rest of the API in a rapid fashion. Security Interface ------------------ Recent interest in having an integration with `Keylime <https://keylime.dev/>`_ has brought forth interest in resurrecting the `security interface <https://review.opendev.org/576718>`_ which was proposed some time ago to provide an integration point for Ironic to have the understanding and capability to take the appropriate action in the event a machine has been identified to no longer match the expected profile. This interface will allow easy adoption of a keylime integration which should allow ironic to halt the return to available inventory of machines which have had unexpected modifications made to firmware. Boot from URL ------------- This is a long sought after feature, and one more likely to surface as time goes on. Part of the conundrum is the multiple routes possible in what is interpreted as Boot from URL. Luckily Redfish has defined a standard interface to assert the configuration via the BMC. At a minimum this cycle, we would like to make a step forward in attempting to support this functionality such that we can support it when vendors implement the feature outside of vendor OEM specific mechanisms. .. [#f1] `Alala <https://en.wikipedia.org/wiki/Alala>`_ is a reference to Greek mythology where it was the female personification of raising a war cry. In this context, it is a reference to the television show `Xena: Warrior Princess <https://en.wikipedia.org/wiki/Xena#Skills_and_abilities>`_. ",,308,0
openstack%2Fkolla-ansible~stable%2Fwallaby~Id23f40ab7ef75d06bb92973042c9af580ddffeb0,openstack/kolla-ansible,stable/wallaby,Id23f40ab7ef75d06bb92973042c9af580ddffeb0,CI: Wait for NTP synced status in systemd,MERGED,2021-05-17 10:01:54.000000000,2021-05-17 15:21:15.000000000,2021-05-17 15:19:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-17 10:01:54.000000000', 'files': ['tests/pre.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/34349f6ad05170de55bced0b9757e016961ae926', 'message': ""CI: Wait for NTP synced status in systemd\n\nDebian's ntpd often needs more time to settle and we fail on prechecks.\n\nChange-Id: Id23f40ab7ef75d06bb92973042c9af580ddffeb0\n(cherry picked from commit e83b5869a38883c17a3ac23455e3939740f44831)\n""}]",0,791583,34349f6ad05170de55bced0b9757e016961ae926,9,3,1,22629,,,0,"CI: Wait for NTP synced status in systemd

Debian's ntpd often needs more time to settle and we fail on prechecks.

Change-Id: Id23f40ab7ef75d06bb92973042c9af580ddffeb0
(cherry picked from commit e83b5869a38883c17a3ac23455e3939740f44831)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/791583/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/pre.yml'],1,34349f6ad05170de55bced0b9757e016961ae926,," - name: Wait for ntp time sync command: timedatectl status register: timedatectl_status changed_when: false until: ""'synchronized: yes' in timedatectl_status.stdout"" retries: 90 delay: 10",,8,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7,openstack/kolla-ansible,stable/wallaby,I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7,Disable Alertmanager's peer gossip in non-HA deployments,MERGED,2021-05-12 11:13:50.000000000,2021-05-17 15:15:17.000000000,2021-05-17 15:12:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-05-12 11:13:50.000000000', 'files': ['releasenotes/notes/disable-alertmanager-clustering-ec70f5f970c4933a.yaml', 'ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e0fc09cded62993e019da61ea79f5e25d33129c5', 'message': ""Disable Alertmanager's peer gossip in non-HA deployments\n\nReference:\n\nhttps://github.com/prometheus/alertmanager#turn-off-high-availability\n\nCloses-Bug: #1926463\nChange-Id: I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7\n(cherry picked from commit b300f7bc40bdcdeb0a520c1f3fcce85fe1b7ca72)\n""}]",0,790848,e0fc09cded62993e019da61ea79f5e25d33129c5,13,4,1,14826,,,0,"Disable Alertmanager's peer gossip in non-HA deployments

Reference:

https://github.com/prometheus/alertmanager#turn-off-high-availability

Closes-Bug: #1926463
Change-Id: I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7
(cherry picked from commit b300f7bc40bdcdeb0a520c1f3fcce85fe1b7ca72)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/790848/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable-alertmanager-clustering-ec70f5f970c4933a.yaml', 'ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2']",2,e0fc09cded62993e019da61ea79f5e25d33129c5,," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} --web.external-url={{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} --cluster.listen-address={% if groups[""prometheus-alertmanager""] | length > 1 %}{{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --cluster.peer={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"","," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} --web.external-url={{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} {% if groups[""prometheus-alertmanager""] | length > 1 %} --cluster.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --cluster.peer={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"",",8,1
openstack%2Fkolla-ansible~stable%2Fvictoria~I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7,openstack/kolla-ansible,stable/victoria,I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7,Disable Alertmanager's peer gossip in non-HA deployments,MERGED,2021-05-12 11:15:38.000000000,2021-05-17 15:14:45.000000000,2021-05-17 15:11:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-05-12 11:15:38.000000000', 'files': ['releasenotes/notes/disable-alertmanager-clustering-ec70f5f970c4933a.yaml', 'ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/edd64f3c4a9d95d13a9f35d1e0d8a7d24b8d0949', 'message': ""Disable Alertmanager's peer gossip in non-HA deployments\n\nReference:\n\nhttps://github.com/prometheus/alertmanager#turn-off-high-availability\n\nCloses-Bug: #1926463\nChange-Id: I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7\n(cherry picked from commit b300f7bc40bdcdeb0a520c1f3fcce85fe1b7ca72)\n""}]",0,790849,edd64f3c4a9d95d13a9f35d1e0d8a7d24b8d0949,12,4,1,14826,,,0,"Disable Alertmanager's peer gossip in non-HA deployments

Reference:

https://github.com/prometheus/alertmanager#turn-off-high-availability

Closes-Bug: #1926463
Change-Id: I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7
(cherry picked from commit b300f7bc40bdcdeb0a520c1f3fcce85fe1b7ca72)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/790849/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable-alertmanager-clustering-ec70f5f970c4933a.yaml', 'ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2']",2,edd64f3c4a9d95d13a9f35d1e0d8a7d24b8d0949,," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} --web.external-url={{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} --cluster.listen-address={% if groups[""prometheus-alertmanager""] | length > 1 %}{{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --cluster.peer={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"","," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} --web.external-url={{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} {% if groups[""prometheus-alertmanager""] | length > 1 %} --cluster.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --cluster.peer={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"",",8,1
openstack%2Fkolla-ansible~stable%2Fussuri~I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7,openstack/kolla-ansible,stable/ussuri,I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7,Disable Alertmanager's peer gossip in non-HA deployments,MERGED,2021-05-12 11:16:01.000000000,2021-05-17 15:13:27.000000000,2021-05-17 15:11:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-05-12 11:16:01.000000000', 'files': ['releasenotes/notes/disable-alertmanager-clustering-ec70f5f970c4933a.yaml', 'ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a99debd15f989c995dbf846a1a8908eb6a10b171', 'message': ""Disable Alertmanager's peer gossip in non-HA deployments\n\nReference:\n\nhttps://github.com/prometheus/alertmanager#turn-off-high-availability\n\nCloses-Bug: #1926463\nChange-Id: I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7\n(cherry picked from commit b300f7bc40bdcdeb0a520c1f3fcce85fe1b7ca72)\n""}]",0,790850,a99debd15f989c995dbf846a1a8908eb6a10b171,12,4,1,14826,,,0,"Disable Alertmanager's peer gossip in non-HA deployments

Reference:

https://github.com/prometheus/alertmanager#turn-off-high-availability

Closes-Bug: #1926463
Change-Id: I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7
(cherry picked from commit b300f7bc40bdcdeb0a520c1f3fcce85fe1b7ca72)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/790850/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable-alertmanager-clustering-ec70f5f970c4933a.yaml', 'ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2']",2,a99debd15f989c995dbf846a1a8908eb6a10b171,," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} --web.external-url={{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} --cluster.listen-address={% if groups[""prometheus-alertmanager""] | length > 1 %}{{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --cluster.peer={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"","," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} --web.external-url={{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} {% if groups[""prometheus-alertmanager""] | length > 1 %} --cluster.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --cluster.peer={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"",",8,1
openstack%2Fkolla-ansible~stable%2Ftrain~I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7,openstack/kolla-ansible,stable/train,I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7,Disable Alertmanager's peer gossip in non-HA deployments,MERGED,2021-05-12 11:16:09.000000000,2021-05-17 15:13:11.000000000,2021-05-17 15:11:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-05-12 11:16:09.000000000', 'files': ['releasenotes/notes/disable-alertmanager-clustering-ec70f5f970c4933a.yaml', 'ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/05b551b73c040c7c303ee07f134369582e9d574f', 'message': ""Disable Alertmanager's peer gossip in non-HA deployments\n\nReference:\n\nhttps://github.com/prometheus/alertmanager#turn-off-high-availability\n\nCloses-Bug: #1926463\nChange-Id: I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7\n(cherry picked from commit b300f7bc40bdcdeb0a520c1f3fcce85fe1b7ca72)\n""}]",0,790851,05b551b73c040c7c303ee07f134369582e9d574f,11,4,1,14826,,,0,"Disable Alertmanager's peer gossip in non-HA deployments

Reference:

https://github.com/prometheus/alertmanager#turn-off-high-availability

Closes-Bug: #1926463
Change-Id: I60e1dedeac25fa8fe9538a3a8e582bd8cc9324d7
(cherry picked from commit b300f7bc40bdcdeb0a520c1f3fcce85fe1b7ca72)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/790851/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable-alertmanager-clustering-ec70f5f970c4933a.yaml', 'ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2']",2,05b551b73c040c7c303ee07f134369582e9d574f,," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} --web.external-url={{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} --cluster.listen-address={% if groups[""prometheus-alertmanager""] | length > 1 %}{{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --cluster.peer={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"","," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} --web.external-url={{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ prometheus_alertmanager_port }} {% if groups[""prometheus-alertmanager""] | length > 1 %} --cluster.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --cluster.peer={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"",",8,1
openstack%2Freleases~master~I5c1e5a27cc0ea3f51857d545d804df240e797381,openstack/releases,master,I5c1e5a27cc0ea3f51857d545d804df240e797381,[horizon] Transition Train to EM,MERGED,2021-05-11 15:07:18.000000000,2021-05-17 15:09:03.000000000,2021-05-17 15:09:03.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-11 15:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6e1b1a1d53522883d0490cfaf5c5279fc3fbc7cd', 'message': '[horizon] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I5c1e5a27cc0ea3f51857d545d804df240e797381\n'}, {'number': 2, 'created': '2021-05-17 10:00:35.000000000', 'files': ['deliverables/train/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/183ac8ce66f967a16e47acc0cd35502ac85ea99b', 'message': '[horizon] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I5c1e5a27cc0ea3f51857d545d804df240e797381\n'}]",0,790747,183ac8ce66f967a16e47acc0cd35502ac85ea99b,12,4,2,17685,,,0,"[horizon] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I5c1e5a27cc0ea3f51857d545d804df240e797381
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/790747/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/horizon.yaml'],1,6e1b1a1d53522883d0490cfaf5c5279fc3fbc7cd,train-em, - version: train-em projects: - repo: openstack/horizon hash: 3689817f3317b999b2f0a5074ef56a55d8921488,,4,0
openstack%2Fkolla-ansible~stable%2Fwallaby~Id86b95dbba3434b16f3d0c11485a0d8601833cbf,openstack/kolla-ansible,stable/wallaby,Id86b95dbba3434b16f3d0c11485a0d8601833cbf,CI: allow Elasticsearch status to be green or yellow,MERGED,2021-05-12 11:12:07.000000000,2021-05-17 15:06:17.000000000,2021-05-17 15:04:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-12 11:12:07.000000000', 'files': ['tests/test-prometheus-efk.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bfdd36ff3443f18a1beaf595a3d9155e32cbaa1f', 'message': 'CI: allow Elasticsearch status to be green or yellow\n\nIt has been seen to go green, so allow this.\n\nChange-Id: Id86b95dbba3434b16f3d0c11485a0d8601833cbf\n(cherry picked from commit edc918313d4356441836f0fcf67b50026f503db3)\n'}]",0,790846,bfdd36ff3443f18a1beaf595a3d9155e32cbaa1f,12,3,1,14826,,,0,"CI: allow Elasticsearch status to be green or yellow

It has been seen to go green, so allow this.

Change-Id: Id86b95dbba3434b16f3d0c11485a0d8601833cbf
(cherry picked from commit edc918313d4356441836f0fcf67b50026f503db3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/790846/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-prometheus-efk.sh'],1,bfdd36ff3443f18a1beaf595a3d9155e32cbaa1f,," # NOTE(mgoddard): Status may be yellow because no indices have been # created. if ! grep -E '""status"":""(green|yellow)""' $output_path >/dev/null; then"," # NOTE(mgoddard): Status is yellow because no indices have been created. if ! grep '""status"":""yellow""' $output_path >/dev/null; then",3,2
openstack%2Fopenstack-ansible-os_neutron~master~I9aaeee50a4d07159a7a8a886c27eceee04c162b9,openstack/openstack-ansible-os_neutron,master,I9aaeee50a4d07159a7a8a886c27eceee04c162b9,Use ansible_facts[] instead of fact variables,MERGED,2021-02-25 18:42:14.000000000,2021-05-17 14:57:27.000000000,2021-05-17 14:56:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-25 18:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/0887c17c20b94167d88917b9589515014c3ee334', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I9aaeee50a4d07159a7a8a886c27eceee04c162b9\n'}, {'number': 2, 'created': '2021-03-15 18:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/002b96052700018f75bbbaf735462a52335ad7e0', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I9aaeee50a4d07159a7a8a886c27eceee04c162b9\n'}, {'number': 3, 'created': '2021-03-16 13:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/3d23e0d12e3ea5f5247fd4b9a21ba9e270e0d766', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I9aaeee50a4d07159a7a8a886c27eceee04c162b9\n'}, {'number': 4, 'created': '2021-04-13 22:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/79499dfb875b08cf0cdecea55cefa88e6ebf4b62', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I9aaeee50a4d07159a7a8a886c27eceee04c162b9\n'}, {'number': 5, 'created': '2021-05-13 05:36:10.000000000', 'files': ['tasks/main.yml', 'tasks/neutron_pre_install.yml', 'tasks/providers/setup_ovs_ovn.yml', 'tasks/neutron_post_install.yml', 'tasks/providers/setup_ovs_dpdk.yml', 'doc/source/app-opendaylight.rst', 'tasks/providers/ovn_config.yml', 'defaults/main.yml', 'vars/main.yml', 'tasks/neutron_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/0495f54875eccf95078c7944dd8da0338a30ee7f', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I9aaeee50a4d07159a7a8a886c27eceee04c162b9\n'}]",3,777650,0495f54875eccf95078c7944dd8da0338a30ee7f,38,4,5,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I9aaeee50a4d07159a7a8a886c27eceee04c162b9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/50/777650/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/neutron_pre_install.yml', 'vars/source_install.yml', 'vars/distro_install.yml', 'tasks/providers/setup_ovs_ovn.yml', 'tests/neutron-overrides-opendaylight.yml', 'tests/neutron-overrides-ovs-nsh.yml', 'vars/debian.yml', 'tasks/providers/ovn_config.yml', 'defaults/main.yml', 'tests/neutron-overrides-odl-sfc.yml', 'vars/main.yml', 'tasks/dependent_neutron_roles.yml', 'vars/redhat.yml', 'tasks/neutron_post_install.yml', 'tasks/providers/setup_ovs_dpdk.yml', 'doc/source/app-opendaylight.rst', 'tests/neutron-overrides-opendaylight-bgpvpn.yml', 'tasks/neutron_install.yml', 'vars/suse.yml']",20,0887c17c20b94167d88917b9589515014c3ee334,osa-facts, - repo: https://download.opensuse.org/repositories/home:/mosquetero/openSUSE_Leap_{{ ansible_facts['distribution_version'] }}/, - repo: https://download.opensuse.org/repositories/home:/mosquetero/openSUSE_Leap_{{ ansible_distribution_version }}/,43,43
openstack%2Fcloudkitty-specs~master~Ifb5e71213dad0c6af717e9c043ee08c4c0b870b5,openstack/cloudkitty-specs,master,Ifb5e71213dad0c6af717e9c043ee08c4c0b870b5,[ussuri][goal] Update contributor documentation,MERGED,2021-05-13 21:15:05.000000000,2021-05-17 14:57:19.000000000,2021-05-17 14:54:57.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-05-13 21:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/ef5cc6290cdab580cc6c294ae970340cdf1e2722', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: Ifb5e71213dad0c6af717e9c043ee08c4c0b870b5\n'}, {'number': 2, 'created': '2021-05-17 14:26:54.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/3e2aed78585009049b36cef92a8e2802282d39b2', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: Ifb5e71213dad0c6af717e9c043ee08c4c0b870b5\n'}]",0,791320,3e2aed78585009049b36cef92a8e2802282d39b2,11,3,2,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38517
Change-Id: Ifb5e71213dad0c6af717e9c043ee08c4c0b870b5
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/20/791320/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,ef5cc6290cdab580cc6c294ae970340cdf1e2722,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/cloudkitty-specs Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html This repository is for doing design review on feature proposal in Cloudkitty. Please refer to `this document <https://opendev.org/openstack/cloudkitty-specs/src/branch/master/README.rst>`_ for more information. ",,14,0
openstack%2Fovsdbapp~master~Ib757f182a4c7fdf25ed9374963ac5210e4d35523,openstack/ovsdbapp,master,Ib757f182a4c7fdf25ed9374963ac5210e4d35523,Don't spam retries 100s of times a second,MERGED,2021-05-13 19:17:13.000000000,2021-05-17 14:45:43.000000000,2021-05-17 14:43:47.000000000,"[{'_account_id': 11952}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 19:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/b6f3f920c603b21588d339f253e57356b1c50888', 'message': ""Don't spam retries 100s of times a second\n\nWe can get a TRY_AGAIN because the DB is down or because the\na command is doing an update that will never pass the verify()\ncondition. If this happens, we shouldn't send 100s of requests per\nsecond until we eventually time out or things come back up, so add\na simple exponential backoff with reasonable max retry time of 8s.\n\nChange-Id: Ib757f182a4c7fdf25ed9374963ac5210e4d35523\n""}, {'number': 2, 'created': '2021-05-13 19:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/1c77037bb0187418380b53dd05608006b6d2d665', 'message': ""Don't spam retries 100s of times a second\n\nWe can get a TRY_AGAIN because the DB is down or because the\na command is doing an update that will never pass the verify()\ncondition. If this happens, we shouldn't send 100s of requests per\nsecond until we eventually time out or things come back up, so add\na simple exponential backoff with reasonable max retry time of 8s.\n\nCloses-Bug: #1907836\nChange-Id: Ib757f182a4c7fdf25ed9374963ac5210e4d35523\n""}, {'number': 3, 'created': '2021-05-13 19:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/a28f3113f1baf4d45a5e78d990afeec82fb7dad9', 'message': ""Don't spam retries 100s of times a second\n\nWe can get a TRY_AGAIN because the DB is down or because the\na command is doing an update that will never pass the verify()\ncondition. If this happens, we shouldn't send 100s of requests per\nsecond until we eventually time out or things come back up, so add\na simple exponential backoff with reasonable max retry time of 8s.\n\nCloses-Bug: #1907836\nChange-Id: Ib757f182a4c7fdf25ed9374963ac5210e4d35523\n""}, {'number': 4, 'created': '2021-05-13 20:02:17.000000000', 'files': ['ovsdbapp/backend/ovs_idl/transaction.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/6596164f51217cc7fabf302ce14ccc9d9beaff1f', 'message': ""Don't spam retries 100s of times a second\n\nWe can get a TRY_AGAIN because the DB is down or because the\na command is doing an update that will never pass the verify()\ncondition. If this happens, we shouldn't send 100s of requests per\nsecond until we eventually time out or things come back up, so add\na simple exponential backoff with reasonable max retry sleep of 8s.\n\nCloses-Bug: #1907836\nChange-Id: Ib757f182a4c7fdf25ed9374963ac5210e4d35523\n""}]",2,791309,6596164f51217cc7fabf302ce14ccc9d9beaff1f,15,3,4,5756,,,0,"Don't spam retries 100s of times a second

We can get a TRY_AGAIN because the DB is down or because the
a command is doing an update that will never pass the verify()
condition. If this happens, we shouldn't send 100s of requests per
second until we eventually time out or things come back up, so add
a simple exponential backoff with reasonable max retry sleep of 8s.

Closes-Bug: #1907836
Change-Id: Ib757f182a4c7fdf25ed9374963ac5210e4d35523
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/09/791309/2 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/backend/ovs_idl/transaction.py'],1,b6f3f920c603b21588d339f253e57356b1c50888,bug/1907836," retries = 0 # In the event that there is an issue with the txn or the db # is down, don't spam new txns as fast as we can time.sleep(min(2 ** retries, self.time_remaining(), 8)) retries += 1 retries = 0",,7,0
openstack%2Fpython-magnumclient~master~I9ab1ff6cfcc024550f13b2ce455badaeb9833129,openstack/python-magnumclient,master,I9ab1ff6cfcc024550f13b2ce455badaeb9833129,Add generic filter method,NEW,2020-10-22 13:04:46.000000000,2021-05-17 14:44:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 29425}]","[{'number': 1, 'created': '2020-10-22 13:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/548443ebb72eed09ead5bdee41d9baace62bc96c', 'message': 'Add generic filter method\n\nChange-Id: I9ab1ff6cfcc024550f13b2ce455badaeb9833129\n'}, {'number': 2, 'created': '2020-10-22 13:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/e2d0ffdd105f50252620522b7b996741ab222928', 'message': 'Add generic filter method\n\nstory: 2008271\ntask: 41138\nChange-Id: I9ab1ff6cfcc024550f13b2ce455badaeb9833129\n'}, {'number': 3, 'created': '2021-01-28 18:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/5b99561f2a6b920c8da76fe986bab38948d8381d', 'message': 'Add generic filter method\n\nstory: 2008271\ntask: 41138\nChange-Id: I9ab1ff6cfcc024550f13b2ce455badaeb9833129\n'}, {'number': 4, 'created': '2021-02-08 10:17:02.000000000', 'files': ['releasenotes/notes/add-filters-parameter-for-key-word-search-5b8ee5551e3654ea.yaml', 'magnumclient/common/utils.py', 'magnumclient/osc/v1/cluster_templates.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/e469f0c65d52bd734b582a3477f167799ec33805', 'message': 'Add generic filter method\n\nstory: 2008271\ntask: 41138\nChange-Id: I9ab1ff6cfcc024550f13b2ce455badaeb9833129\n'}]",12,759261,e469f0c65d52bd734b582a3477f167799ec33805,12,2,4,29425,,,0,"Add generic filter method

story: 2008271
task: 41138
Change-Id: I9ab1ff6cfcc024550f13b2ce455badaeb9833129
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/61/759261/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-filters-parameter-for-key-word-search-5b8ee5551e3654ea.yaml', 'magnumclient/common/utils.py', 'magnumclient/osc/v1/cluster_templates.py']",3,548443ebb72eed09ead5bdee41d9baace62bc96c,end-user-utilities," parser.add_argument( '--filters', metavar='<KEY1=VALUE1,KEY2=VALUE2;KEY3=VALUE3...>', action='append', default=[], help=_('Arbitrary filters in the form of key=value pairs to use ' 'for better cluster template utility.' 'Repeated filter keys will result in a logic AND operation.' ' Different keys will be ORed together.') ) return magnum_utils.table_filter(columns, cts, filters_list=parsed_args.filters)"," return ( columns, (osc_utils.get_item_properties(ct, columns) for ct in cts) )",66,4
openstack%2Freleases~master~Ide26f0ea7292ea6aaefcbfbc32bef3858eb64211,openstack/releases,master,Ide26f0ea7292ea6aaefcbfbc32bef3858eb64211,Release OpenStack-Ansible Train,MERGED,2021-05-12 13:44:53.000000000,2021-05-17 14:37:33.000000000,2021-05-17 14:37:33.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 13:44:53.000000000', 'files': ['deliverables/train/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c01cd02976130ff6ff3005c670ecfb9d295ed8ec', 'message': 'Release OpenStack-Ansible Train\n\nChange-Id: Ide26f0ea7292ea6aaefcbfbc32bef3858eb64211\n'}]",0,791001,c01cd02976130ff6ff3005c670ecfb9d295ed8ec,9,3,1,28619,,,0,"Release OpenStack-Ansible Train

Change-Id: Ide26f0ea7292ea6aaefcbfbc32bef3858eb64211
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/791001/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/openstack-ansible.yaml'],1,c01cd02976130ff6ff3005c670ecfb9d295ed8ec,release_osa, - projects: - hash: 211e8ce69286ebd4ba5bc0bae2353498dee0012d repo: openstack/openstack-ansible version: 20.2.6,,4,0
openstack%2Freleases~master~I571ec84e62ebbde2b1e138a615fe880920af26a0,openstack/releases,master,I571ec84e62ebbde2b1e138a615fe880920af26a0,Release OpenStack-Ansible Ussuri,MERGED,2021-05-13 15:08:31.000000000,2021-05-17 14:27:34.000000000,2021-05-17 14:27:34.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 15:08:31.000000000', 'files': ['deliverables/ussuri/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7b2357d05ca90e537ffd18f9d53b3927c302cc53', 'message': 'Release OpenStack-Ansible Ussuri\n\nChange-Id: I571ec84e62ebbde2b1e138a615fe880920af26a0\n'}]",0,791262,7b2357d05ca90e537ffd18f9d53b3927c302cc53,8,3,1,28619,,,0,"Release OpenStack-Ansible Ussuri

Change-Id: I571ec84e62ebbde2b1e138a615fe880920af26a0
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/791262/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/openstack-ansible.yaml'],1,7b2357d05ca90e537ffd18f9d53b3927c302cc53,release_osa, - version: 21.2.6 projects: - repo: openstack/openstack-ansible hash: 737be1ff91511f3a6b03b27d77a0ddd5b445e29b,,4,0
openstack%2Freleases~master~I4d70dfdb1c99783e2e78df3d3a037e620344be65,openstack/releases,master,I4d70dfdb1c99783e2e78df3d3a037e620344be65,Release OpenStack-Ansible Victoria,MERGED,2021-05-13 15:09:30.000000000,2021-05-17 14:27:28.000000000,2021-05-17 14:27:28.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 15:09:30.000000000', 'files': ['deliverables/victoria/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/60e894ad63890688a296de93966af9f3f3acc8b5', 'message': 'Release OpenStack-Ansible Victoria\n\nChange-Id: I4d70dfdb1c99783e2e78df3d3a037e620344be65\n'}]",0,791263,60e894ad63890688a296de93966af9f3f3acc8b5,8,3,1,28619,,,0,"Release OpenStack-Ansible Victoria

Change-Id: I4d70dfdb1c99783e2e78df3d3a037e620344be65
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/791263/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/openstack-ansible.yaml'],1,60e894ad63890688a296de93966af9f3f3acc8b5,release_osa, - version: 22.1.4 projects: - repo: openstack/openstack-ansible hash: 7ad9b9039c419a95e36b6d4ff43488acf54c26a1,,4,0
openstack%2Fcloudkitty-specs~master~I7d9844b6b89bc0294ad4ed339f1fa63970ef037c,openstack/cloudkitty-specs,master,I7d9844b6b89bc0294ad4ed339f1fa63970ef037c,Update tox config,MERGED,2021-05-16 20:43:45.000000000,2021-05-17 14:26:16.000000000,2021-05-17 14:25:04.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-05-16 20:43:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/d1803c94ef2ecb616d7bbb153eaa29bb2e51c6cd', 'message': 'Update tox config\n\nUpdate dependencies to include upper-constraints.\n\nChange-Id: I7d9844b6b89bc0294ad4ed339f1fa63970ef037c\n'}]",0,791624,d1803c94ef2ecb616d7bbb153eaa29bb2e51c6cd,9,4,1,15197,,,0,"Update tox config

Update dependencies to include upper-constraints.

Change-Id: I7d9844b6b89bc0294ad4ed339f1fa63970ef037c
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/24/791624/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d1803c94ef2ecb616d7bbb153eaa29bb2e51c6cd,fix-pdf-docs,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txtdeps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txtdeps = {[testenv:docs]deps},deps = -r{toxinidir}/requirements.txt,7,1
openstack%2Fmasakari~master~I5e59ec22ca01c8a8a3575e4c2d58fa97a241b475,openstack/masakari,master,I5e59ec22ca01c8a8a3575e4c2d58fa97a241b475,Replace getargspec with getfullargspec,MERGED,2021-05-13 12:31:29.000000000,2021-05-17 14:26:11.000000000,2021-05-17 14:24:52.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-13 12:31:29.000000000', 'files': ['masakari/tests/unit/objects/test_objects.py', 'masakari/utils.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/563049ebd4c16e3547b9b6d24f6c8e16fe2548a2', 'message': 'Replace getargspec with getfullargspec\n\ninspect.getargspec() is deprecated since py3\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\nChange-Id: I5e59ec22ca01c8a8a3575e4c2d58fa97a241b475\n'}]",0,791145,563049ebd4c16e3547b9b6d24f6c8e16fe2548a2,13,2,1,7634,,,0,"Replace getargspec with getfullargspec

inspect.getargspec() is deprecated since py3

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Signed-off-by: Takashi Natsume <takanattie@gmail.com>
Change-Id: I5e59ec22ca01c8a8a3575e4c2d58fa97a241b475
",git fetch https://review.opendev.org/openstack/masakari refs/changes/45/791145/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/objects/test_objects.py', 'masakari/utils.py']",2,563049ebd4c16e3547b9b6d24f6c8e16fe2548a2,deprecation-warning," arg_names, a, kw, _, _, _, _ = inspect.getfullargspec(base_f)"," arg_names, a, kw, _default = inspect.getargspec(base_f)",3,3
openstack%2Fmasakari-dashboard~master~I6670f1ad889204a29b6f37803e4da2d1efe6ef8e,openstack/masakari-dashboard,master,I6670f1ad889204a29b6f37803e4da2d1efe6ef8e,Replace getargspec with getfullargspec,MERGED,2021-05-13 12:43:41.000000000,2021-05-17 14:19:45.000000000,2021-05-17 14:18:14.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-13 12:43:41.000000000', 'files': ['masakaridashboard/handle_errors.py'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/b53745791b5b72486fdf3a034e95447161a5f374', 'message': 'Replace getargspec with getfullargspec\n\ninspect.getargspec() is deprecated since py3\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\nChange-Id: I6670f1ad889204a29b6f37803e4da2d1efe6ef8e\n'}]",0,791151,b53745791b5b72486fdf3a034e95447161a5f374,7,2,1,7634,,,0,"Replace getargspec with getfullargspec

inspect.getargspec() is deprecated since py3

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Signed-off-by: Takashi Natsume <takanattie@gmail.com>
Change-Id: I6670f1ad889204a29b6f37803e4da2d1efe6ef8e
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/51/791151/1 && git format-patch -1 --stdout FETCH_HEAD,['masakaridashboard/handle_errors.py'],1,b53745791b5b72486fdf3a034e95447161a5f374,deprecation-warning, if _request_arg not in inspect.getfullargspec(func).args:, if _request_arg not in inspect.getargspec(func).args:,1,1
openstack%2Fopenstack-ansible-os_manila~master~I7a1807e4b984e31cb6250132f35d4c27f0b69b0c,openstack/openstack-ansible-os_manila,master,I7a1807e4b984e31cb6250132f35d4c27f0b69b0c,[goal] Deprecate the JSON formatted policy file,MERGED,2021-03-22 12:29:53.000000000,2021-05-17 14:19:08.000000000,2021-05-17 14:16:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-22 12:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/0dd468fde5a7d625f8865e742f3070bec1912bd5', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I7a1807e4b984e31cb6250132f35d4c27f0b69b0c\n""}, {'number': 2, 'created': '2021-03-24 12:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/26e976d66c7d3949c4d95a7d547c891d29a367c0', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I7a1807e4b984e31cb6250132f35d4c27f0b69b0c\n""}, {'number': 3, 'created': '2021-04-21 16:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/179390bbc89b5e0f3a0fd65215704b176b90e390', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/787341\nChange-Id: I7a1807e4b984e31cb6250132f35d4c27f0b69b0c\n""}, {'number': 4, 'created': '2021-04-22 12:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/c9f11941dd7b4687937bd57a8eceaf205a16190c', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/787341\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/787540\nChange-Id: I7a1807e4b984e31cb6250132f35d4c27f0b69b0c\n""}, {'number': 5, 'created': '2021-04-22 12:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/e492fb9a7def3b7f188162fae790f096b6dd0eb3', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\nAdditionally bionic test is removed as we don't have Octopus infra\nmirrors for it.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/787341\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/787540\nChange-Id: I7a1807e4b984e31cb6250132f35d4c27f0b69b0c\n""}, {'number': 6, 'created': '2021-04-22 19:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/5e70fada3abf9e9cfdaf1a46d0578416e4252344', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\nAdditionally bionic test is removed as we don't have Octopus infra\nmirrors for it.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/787341\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/787540\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/787591\nChange-Id: I7a1807e4b984e31cb6250132f35d4c27f0b69b0c\n""}, {'number': 7, 'created': '2021-04-23 13:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/175fd6e950081fe551269a389d83392c1e1bcbfb', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\nCephFS Native hook has been removed since [2] as manila leverages MGR\nnow and doesn't require having directory in share.\n\nAdditionally bionic test is removed as we don't have Octopus infra\nmirrors for it.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n[2] https://opendev.org/openstack/manila/commit/a8307109395e3535085190c40325cd46dd355c78\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/787341\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/787540\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/787591\nChange-Id: I7a1807e4b984e31cb6250132f35d4c27f0b69b0c\n""}, {'number': 8, 'created': '2021-04-28 09:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/9c07681a3739e710f4fdc258efce7b1865ac62ea', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\nCephFS Native hook has been removed since [2] as manila leverages MGR\nnow and doesn't require having directory in share.\n\nAdditionally bionic test is removed as we don't have Octopus infra\nmirrors for it.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n[2] https://opendev.org/openstack/manila/commit/a8307109395e3535085190c40325cd46dd355c78\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/787341\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788465\nChange-Id: I7a1807e4b984e31cb6250132f35d4c27f0b69b0c\n""}, {'number': 9, 'created': '2021-05-04 15:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/18f334a04710e51d2e9433112d8bd3c6c6a50d64', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\nCephFS Native hook has been removed since [2] as manila leverages MGR\nnow and doesn't require having directory in share.\n\nAdditionally bionic test is removed as we don't have Octopus infra\nmirrors for it.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n[2] https://opendev.org/openstack/manila/commit/a8307109395e3535085190c40325cd46dd355c78\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/787341\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788465\nChange-Id: I7a1807e4b984e31cb6250132f35d4c27f0b69b0c\n""}, {'number': 10, 'created': '2021-05-13 13:11:08.000000000', 'files': ['tasks/main.yml', 'tasks/manila_backend_cephfs.yml', 'templates/policy.json.j2', 'zuul.d/project.yaml', 'handlers/main.yml', 'tasks/manila_post_install.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/de29f07d7723cf9493a49f7663746379fd7b1e2f', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\nCephFS Native hook has been removed since [2] as manila leverages MGR\nnow and doesn't require having directory in share.\n\nAdditionally bionic test is removed as we don't have Octopus infra\nmirrors for it.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n[2] https://opendev.org/openstack/manila/commit/a8307109395e3535085190c40325cd46dd355c78\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/791202\nChange-Id: I7a1807e4b984e31cb6250132f35d4c27f0b69b0c\n""}]",0,782244,de29f07d7723cf9493a49f7663746379fd7b1e2f,42,4,10,28619,,,0,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to replace policy.json to
policy.yaml and remove deprecated policy.json.

config_template has been choosen instead of the copy, since it can
properly handle content that has been lookuped.

We make a separate task not to restart service when it's not needed.

CephFS Native hook has been removed since [2] as manila leverages MGR
now and doesn't require having directory in share.

Additionally bionic test is removed as we don't have Octopus infra
mirrors for it.

[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html
[2] https://opendev.org/openstack/manila/commit/a8307109395e3535085190c40325cd46dd355c78

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/791202
Change-Id: I7a1807e4b984e31cb6250132f35d4c27f0b69b0c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/44/782244/10 && git format-patch -1 --stdout FETCH_HEAD,"['templates/policy.json.j2', 'handlers/main.yml', 'tasks/manila_post_install.yml', 'vars/main.yml']",4,0dd468fde5a7d625f8865e742f3070bec1912bd5,policy-json-to-yaml,," - src: ""policy.json.j2"" dest: ""/etc/manila/policy.json-{{ manila_venv_tag }}"" config_overrides: ""{{ manila_policy_overrides }}"" config_type: ""json""",24,21
openstack%2Fopenstack-zuul-jobs~master~Ia03bd97e4fba535bcff0003c0c3b32ef6658bcac,openstack/openstack-zuul-jobs,master,Ia03bd97e4fba535bcff0003c0c3b32ef6658bcac,Adding project-template for nodejs14,MERGED,2021-05-04 06:19:44.000000000,2021-05-17 14:11:40.000000000,2021-05-17 14:08:53.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-05-04 06:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/e5e3c718ec1a25f8210174f4a4d025c90bbf6985', 'message': 'Adding project-template for nodejs14\n\nChange-Id: Ia03bd97e4fba535bcff0003c0c3b32ef6658bcac\n'}, {'number': 2, 'created': '2021-05-04 06:41:47.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/89e7881e3e1a7f732325dbcdb4a1a15b5670e6f6', 'message': 'Adding project-template for nodejs14\n\nChange-Id: Ia03bd97e4fba535bcff0003c0c3b32ef6658bcac\n'}]",0,789481,89e7881e3e1a7f732325dbcdb4a1a15b5670e6f6,12,5,2,29313,,,0,"Adding project-template for nodejs14

Change-Id: Ia03bd97e4fba535bcff0003c0c3b32ef6658bcac
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/81/789481/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,e5e3c718ec1a25f8210174f4a4d025c90bbf6985,, name: nodejs14-jobs description: | Run lint and test jobs using Node 14. check: jobs: - nodejs-run-lint: vars: node_version: 14 nodeset: ubuntu-focal - nodejs-run-test-browser: vars: node_version: 14 nodeset: ubuntu-focal gate: jobs: - nodejs-run-lint: vars: node_version: 14 nodeset: ubuntu-focal - nodejs-run-test-browser: vars: node_version: 14 nodeset: ubuntu-focal - project-template:,,25,0
openstack%2Freleases~master~I8a336894daa75fffb2ae40d35d18eae6926491b0,openstack/releases,master,I8a336894daa75fffb2ae40d35d18eae6926491b0,Release Placement 5.0.1 from stable/wallaby,MERGED,2021-05-17 12:10:28.000000000,2021-05-17 13:54:06.000000000,2021-05-17 13:54:06.000000000,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-17 12:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/35c179ca47e5b14d860e9f984eee6972219d73a1', 'message': 'Release Placement 5.0.1 form stable/wallaby\n\n$ git log stable/wallaby --oneline --no-merges\nadf525a8 Make sure the policy upgrade check get a valid config\ncb77dc8f Add a reproduction test for bug story/2008831\n6bb8ff5b Update TOX_CONSTRAINTS_FILE for stable/wallaby\n5afcd804 Update .gitreview for stable/wallaby\n\nWe got multiple help requests due to the bug [1], fixed in adf525as so I\nfeel that we need to get that bugfix released.\n\n[1] https://storyboard.openstack.org/#!/story/2008831\n\nChange-Id: I8a336894daa75fffb2ae40d35d18eae6926491b0\n'}, {'number': 2, 'created': '2021-05-17 12:10:53.000000000', 'files': ['deliverables/wallaby/placement.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/28e20525f8f5901d3aea2a88265a67b290ef98b1', 'message': 'Release Placement 5.0.1 from stable/wallaby\n\n$ git log stable/wallaby --oneline --no-merges\nadf525a8 Make sure the policy upgrade check get a valid config\ncb77dc8f Add a reproduction test for bug story/2008831\n6bb8ff5b Update TOX_CONSTRAINTS_FILE for stable/wallaby\n5afcd804 Update .gitreview for stable/wallaby\n\nWe got multiple help requests due to the bug [1], fixed in adf525as so I\nfeel that we need to get that bugfix released.\n\n[1] https://storyboard.openstack.org/#!/story/2008831\n\nChange-Id: I8a336894daa75fffb2ae40d35d18eae6926491b0\n'}]",0,791739,28e20525f8f5901d3aea2a88265a67b290ef98b1,9,4,2,9708,,,0,"Release Placement 5.0.1 from stable/wallaby

$ git log stable/wallaby --oneline --no-merges
adf525a8 Make sure the policy upgrade check get a valid config
cb77dc8f Add a reproduction test for bug story/2008831
6bb8ff5b Update TOX_CONSTRAINTS_FILE for stable/wallaby
5afcd804 Update .gitreview for stable/wallaby

We got multiple help requests due to the bug [1], fixed in adf525as so I
feel that we need to get that bugfix released.

[1] https://storyboard.openstack.org/#!/story/2008831

Change-Id: I8a336894daa75fffb2ae40d35d18eae6926491b0
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/791739/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/placement.yaml'],1,35c179ca47e5b14d860e9f984eee6972219d73a1,, - version: 5.0.1 projects: - repo: openstack/placement hash: adf525a8f176fe37222d08478c9fe08db823db98,,4,0
openstack%2Fnova~master~Ida7b44ca5bc8ff63b9ee67f1a0fdeff63478b43c,openstack/nova,master,Ida7b44ca5bc8ff63b9ee67f1a0fdeff63478b43c,Change warn log msg to debug if peer_list has only one node,NEW,2021-05-07 14:20:25.000000000,2021-05-17 13:24:39.000000000,,"[{'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 14:20:25.000000000', 'files': ['nova/virt/ironic/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/23e745e49045c13e1880209a0e5affb217c59c0d', 'message': 'Change warn log msg to debug if peer_list has only one node\n\nThe decision about the number of compute nodes behind each\nconductor group depends in the deployment architecture and\nrisk tolerance.\n\nFor deployments that decided to only run one compute node per\nconductor group they get a warn log msg in the logs\nevery periodic task cycle.\n\nIt\'s good that Nova points that this can be an issue, but the\nfrequency really ""pollutes"" the logs for all the operators\nthat made a conscious decision.\n\nThis change moves log level from warn to debug to this\nparticular msg.\n\nCloses-Bug: 1927740\nChange-Id: Ida7b44ca5bc8ff63b9ee67f1a0fdeff63478b43c\n'}]",0,790248,23e745e49045c13e1880209a0e5affb217c59c0d,11,2,1,2033,,,0,"Change warn log msg to debug if peer_list has only one node

The decision about the number of compute nodes behind each
conductor group depends in the deployment architecture and
risk tolerance.

For deployments that decided to only run one compute node per
conductor group they get a warn log msg in the logs
every periodic task cycle.

It's good that Nova points that this can be an issue, but the
frequency really ""pollutes"" the logs for all the operators
that made a conscious decision.

This change moves log level from warn to debug to this
particular msg.

Closes-Bug: 1927740
Change-Id: Ida7b44ca5bc8ff63b9ee67f1a0fdeff63478b43c
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/790248/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,23e745e49045c13e1880209a0e5affb217c59c0d,bug/1927740, LOG.debug('This compute service (%s) is the only service ', LOG.warning('This compute service (%s) is the only service ',1,1
openstack%2Fopenstack-ansible-os_glance~master~Ie87b33a672168e9ab54c8d7869a09010a25458ad,openstack/openstack-ansible-os_glance,master,Ie87b33a672168e9ab54c8d7869a09010a25458ad,Add variables for rabbitmq ssl configuration,MERGED,2021-05-06 07:47:04.000000000,2021-05-17 13:24:21.000000000,2021-05-17 13:22:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-06 07:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/64efbbc0773cb286efe013831d6fe1edbe4b7959', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ie87b33a672168e9ab54c8d7869a09010a25458ad\n'}, {'number': 2, 'created': '2021-05-06 07:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/f621a5e14a5ae3a702e44760efc176da5f99fac0', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ie87b33a672168e9ab54c8d7869a09010a25458ad\n'}, {'number': 3, 'created': '2021-05-06 10:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/ebc8ac0949abdf3e5f1a4587054acb9dd4d78258', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ie87b33a672168e9ab54c8d7869a09010a25458ad\n'}, {'number': 4, 'created': '2021-05-06 10:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/a74774f43461e20064fb179057c8cad471e70a6b', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ie87b33a672168e9ab54c8d7869a09010a25458ad\n'}, {'number': 5, 'created': '2021-05-06 14:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/d1a3392d0ae3ca446edd9503cd17ece09a99a68d', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ie87b33a672168e9ab54c8d7869a09010a25458ad\n'}, {'number': 6, 'created': '2021-05-06 15:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/8671ca03c4e6e8e0661b83a403391abd8dd2b27a', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ie87b33a672168e9ab54c8d7869a09010a25458ad\n'}, {'number': 7, 'created': '2021-05-13 14:37:16.000000000', 'files': ['templates/glance-api.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/ffdcbe7ff834c539ab57e161d82125005e92e930', 'message': 'Add variables for rabbitmq ssl configuration\n\nChange-Id: Ie87b33a672168e9ab54c8d7869a09010a25458ad\n'}]",0,790006,ffdcbe7ff834c539ab57e161d82125005e92e930,21,4,7,25023,,,0,"Add variables for rabbitmq ssl configuration

Change-Id: Ie87b33a672168e9ab54c8d7869a09010a25458ad
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/06/790006/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/glance-api.conf.j2', 'defaults/main.yml']",2,64efbbc0773cb286efe013831d6fe1edbe4b7959,osa/pki,"glance_oslomsg_rpc_ssl_version: ""{{ oslomsg_rpc_ssl_version | default('TLSv1_2"") }}"" glance_oslomsg_rpc_ssl_ca_file: ""{{ oslomsg_rpc_ssl_ca_file | default('') }}""glance_oslomsg_notify_ssl_version: ""{{ oslomsg_notify_ssl_version | default('TLSv1_2"") }}"" glance_oslomsg_notify_ssl_ca_file: ""{{ oslomsg_notify_ssl_ca_file | default('') }}""",,12,3
